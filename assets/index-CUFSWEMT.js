function Xj(s,l){for(var r=0;r<l.length;r++){const a=l[r];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in s)){const u=Object.getOwnPropertyDescriptor(a,o);u&&Object.defineProperty(s,o,u.get?u:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function gg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var rf={exports:{}},Yi={};var v0;function Wj(){if(v0)return Yi;v0=1;var s=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function r(a,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:u}}return Yi.Fragment=l,Yi.jsx=r,Yi.jsxs=r,Yi}var b0;function Zj(){return b0||(b0=1,rf.exports=Wj()),rf.exports}var t=Zj(),sf={exports:{}},Fe={};var g0;function Jj(){if(g0)return Fe;g0=1;var s=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),g=Symbol.iterator;function j(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,y={};function w(z,te,me){this.props=z,this.context=te,this.refs=y,this.updater=me||M}w.prototype.isReactComponent={},w.prototype.setState=function(z,te){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,te,"setState")},w.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function D(){}D.prototype=w.prototype;function k(z,te,me){this.props=z,this.context=te,this.refs=y,this.updater=me||M}var _=k.prototype=new D;_.constructor=k,S(_,w.prototype),_.isPureReactComponent=!0;var O=Array.isArray;function Y(){}var P={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function R(z,te,me){var he=me.ref;return{$$typeof:s,type:z,key:te,ref:he!==void 0?he:null,props:me}}function I(z,te){return R(z.type,te,z.props)}function q(z){return typeof z=="object"&&z!==null&&z.$$typeof===s}function A(z){var te={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(me){return te[me]})}var ee=/\/+/g;function se(z,te){return typeof z=="object"&&z!==null&&z.key!=null?A(""+z.key):te.toString(36)}function Q(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(Y,Y):(z.status="pending",z.then(function(te){z.status==="pending"&&(z.status="fulfilled",z.value=te)},function(te){z.status==="pending"&&(z.status="rejected",z.reason=te)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function B(z,te,me,he,Z){var xe=typeof z;(xe==="undefined"||xe==="boolean")&&(z=null);var fe=!1;if(z===null)fe=!0;else switch(xe){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(z.$$typeof){case s:case l:fe=!0;break;case v:return fe=z._init,B(fe(z._payload),te,me,he,Z)}}if(fe)return Z=Z(z),fe=he===""?"."+se(z,0):he,O(Z)?(me="",fe!=null&&(me=fe.replace(ee,"$&/")+"/"),B(Z,te,me,"",function(Nt){return Nt})):Z!=null&&(q(Z)&&(Z=I(Z,me+(Z.key==null||z&&z.key===Z.key?"":(""+Z.key).replace(ee,"$&/")+"/")+fe)),te.push(Z)),1;fe=0;var be=he===""?".":he+":";if(O(z))for(var _e=0;_e<z.length;_e++)he=z[_e],xe=be+se(he,_e),fe+=B(he,te,me,xe,Z);else if(_e=j(z),typeof _e=="function")for(z=_e.call(z),_e=0;!(he=z.next()).done;)he=he.value,xe=be+se(he,_e++),fe+=B(he,te,me,xe,Z);else if(xe==="object"){if(typeof z.then=="function")return B(Q(z),te,me,he,Z);throw te=String(z),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return fe}function K(z,te,me){if(z==null)return z;var he=[],Z=0;return B(z,he,"","",function(xe){return te.call(me,xe,Z++)}),he}function L(z){if(z._status===-1){var te=z._result;te=te(),te.then(function(me){(z._status===0||z._status===-1)&&(z._status=1,z._result=me)},function(me){(z._status===0||z._status===-1)&&(z._status=2,z._result=me)}),z._status===-1&&(z._status=0,z._result=te)}if(z._status===1)return z._result.default;throw z._result}var le=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},ve={map:K,forEach:function(z,te,me){K(z,function(){te.apply(this,arguments)},me)},count:function(z){var te=0;return K(z,function(){te++}),te},toArray:function(z){return K(z,function(te){return te})||[]},only:function(z){if(!q(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Fe.Activity=b,Fe.Children=ve,Fe.Component=w,Fe.Fragment=r,Fe.Profiler=o,Fe.PureComponent=k,Fe.StrictMode=a,Fe.Suspense=x,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(z){return P.H.useMemoCache(z)}},Fe.cache=function(z){return function(){return z.apply(null,arguments)}},Fe.cacheSignal=function(){return null},Fe.cloneElement=function(z,te,me){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var he=S({},z.props),Z=z.key;if(te!=null)for(xe in te.key!==void 0&&(Z=""+te.key),te)!T.call(te,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&te.ref===void 0||(he[xe]=te[xe]);var xe=arguments.length-2;if(xe===1)he.children=me;else if(1<xe){for(var fe=Array(xe),be=0;be<xe;be++)fe[be]=arguments[be+2];he.children=fe}return R(z.type,Z,he)},Fe.createContext=function(z){return z={$$typeof:d,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:u,_context:z},z},Fe.createElement=function(z,te,me){var he,Z={},xe=null;if(te!=null)for(he in te.key!==void 0&&(xe=""+te.key),te)T.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Z[he]=te[he]);var fe=arguments.length-2;if(fe===1)Z.children=me;else if(1<fe){for(var be=Array(fe),_e=0;_e<fe;_e++)be[_e]=arguments[_e+2];Z.children=be}if(z&&z.defaultProps)for(he in fe=z.defaultProps,fe)Z[he]===void 0&&(Z[he]=fe[he]);return R(z,xe,Z)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(z){return{$$typeof:m,render:z}},Fe.isValidElement=q,Fe.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:L}},Fe.memo=function(z,te){return{$$typeof:p,type:z,compare:te===void 0?null:te}},Fe.startTransition=function(z){var te=P.T,me={};P.T=me;try{var he=z(),Z=P.S;Z!==null&&Z(me,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Y,le)}catch(xe){le(xe)}finally{te!==null&&me.types!==null&&(te.types=me.types),P.T=te}},Fe.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Fe.use=function(z){return P.H.use(z)},Fe.useActionState=function(z,te,me){return P.H.useActionState(z,te,me)},Fe.useCallback=function(z,te){return P.H.useCallback(z,te)},Fe.useContext=function(z){return P.H.useContext(z)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(z,te){return P.H.useDeferredValue(z,te)},Fe.useEffect=function(z,te){return P.H.useEffect(z,te)},Fe.useEffectEvent=function(z){return P.H.useEffectEvent(z)},Fe.useId=function(){return P.H.useId()},Fe.useImperativeHandle=function(z,te,me){return P.H.useImperativeHandle(z,te,me)},Fe.useInsertionEffect=function(z,te){return P.H.useInsertionEffect(z,te)},Fe.useLayoutEffect=function(z,te){return P.H.useLayoutEffect(z,te)},Fe.useMemo=function(z,te){return P.H.useMemo(z,te)},Fe.useOptimistic=function(z,te){return P.H.useOptimistic(z,te)},Fe.useReducer=function(z,te,me){return P.H.useReducer(z,te,me)},Fe.useRef=function(z){return P.H.useRef(z)},Fe.useState=function(z){return P.H.useState(z)},Fe.useSyncExternalStore=function(z,te,me){return P.H.useSyncExternalStore(z,te,me)},Fe.useTransition=function(){return P.H.useTransition()},Fe.version="19.2.4",Fe}var y0;function Jf(){return y0||(y0=1,sf.exports=Jj()),sf.exports}var N=Jf();const re=gg(N),yg=Xj({__proto__:null,default:re},[N]);var lf={exports:{}},qi={},of={exports:{}},cf={};var N0;function ew(){return N0||(N0=1,(function(s){function l(B,K){var L=B.length;B.push(K);e:for(;0<L;){var le=L-1>>>1,ve=B[le];if(0<o(ve,K))B[le]=K,B[L]=ve,L=le;else break e}}function r(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var K=B[0],L=B.pop();if(L!==K){B[0]=L;e:for(var le=0,ve=B.length,z=ve>>>1;le<z;){var te=2*(le+1)-1,me=B[te],he=te+1,Z=B[he];if(0>o(me,L))he<ve&&0>o(Z,me)?(B[le]=Z,B[he]=L,le=he):(B[le]=me,B[te]=L,le=te);else if(he<ve&&0>o(Z,L))B[le]=Z,B[he]=L,le=he;else break e}}return K}function o(B,K){var L=B.sortIndex-K.sortIndex;return L!==0?L:B.id-K.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var x=[],p=[],v=1,b=null,g=3,j=!1,M=!1,S=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function _(B){for(var K=r(p);K!==null;){if(K.callback===null)a(p);else if(K.startTime<=B)a(p),K.sortIndex=K.expirationTime,l(x,K);else break;K=r(p)}}function O(B){if(S=!1,_(B),!M)if(r(x)!==null)M=!0,Y||(Y=!0,A());else{var K=r(p);K!==null&&Q(O,K.startTime-B)}}var Y=!1,P=-1,T=5,R=-1;function I(){return y?!0:!(s.unstable_now()-R<T)}function q(){if(y=!1,Y){var B=s.unstable_now();R=B;var K=!0;try{e:{M=!1,S&&(S=!1,D(P),P=-1),j=!0;var L=g;try{t:{for(_(B),b=r(x);b!==null&&!(b.expirationTime>B&&I());){var le=b.callback;if(typeof le=="function"){b.callback=null,g=b.priorityLevel;var ve=le(b.expirationTime<=B);if(B=s.unstable_now(),typeof ve=="function"){b.callback=ve,_(B),K=!0;break t}b===r(x)&&a(x),_(B)}else a(x);b=r(x)}if(b!==null)K=!0;else{var z=r(p);z!==null&&Q(O,z.startTime-B),K=!1}}break e}finally{b=null,g=L,j=!1}K=void 0}}finally{K?A():Y=!1}}}var A;if(typeof k=="function")A=function(){k(q)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,se=ee.port2;ee.port1.onmessage=q,A=function(){se.postMessage(null)}}else A=function(){w(q,0)};function Q(B,K){P=w(function(){B(s.unstable_now())},K)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return g},s.unstable_next=function(B){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var L=g;g=K;try{return B()}finally{g=L}},s.unstable_requestPaint=function(){y=!0},s.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var L=g;g=B;try{return K()}finally{g=L}},s.unstable_scheduleCallback=function(B,K,L){var le=s.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?le+L:le):L=le,B){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=L+ve,B={id:v++,callback:K,priorityLevel:B,startTime:L,expirationTime:ve,sortIndex:-1},L>le?(B.sortIndex=L,l(p,B),r(x)===null&&B===r(p)&&(S?(D(P),P=-1):S=!0,Q(O,L-le))):(B.sortIndex=ve,l(x,B),M||j||(M=!0,Y||(Y=!0,A()))),B},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(B){var K=g;return function(){var L=g;g=K;try{return B.apply(this,arguments)}finally{g=L}}}})(cf)),cf}var j0;function tw(){return j0||(j0=1,of.exports=ew()),of.exports}var uf={exports:{}},oa={};var w0;function aw(){if(w0)return oa;w0=1;var s=Jf();function l(x){var p="https://react.dev/errors/"+x;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+x+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(l(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(x,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:x,containerInfo:p,implementation:v}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(x,p){if(x==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return oa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,oa.createPortal=function(x,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(l(299));return u(x,p,null,v)},oa.flushSync=function(x){var p=d.T,v=a.p;try{if(d.T=null,a.p=2,x)return x()}finally{d.T=p,a.p=v,a.d.f()}},oa.preconnect=function(x,p){typeof x=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(x,p))},oa.prefetchDNS=function(x){typeof x=="string"&&a.d.D(x)},oa.preinit=function(x,p){if(typeof x=="string"&&p&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin),g=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?a.d.S(x,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:g,fetchPriority:j}):v==="script"&&a.d.X(x,{crossOrigin:b,integrity:g,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},oa.preinitModule=function(x,p){if(typeof x=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);a.d.M(x,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(x)},oa.preload=function(x,p){if(typeof x=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin);a.d.L(x,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},oa.preloadModule=function(x,p){if(typeof x=="string")if(p){var v=m(p.as,p.crossOrigin);a.d.m(x,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(x)},oa.requestFormReset=function(x){a.d.r(x)},oa.unstable_batchedUpdates=function(x,p){return x(p)},oa.useFormState=function(x,p,v){return d.H.useFormState(x,p,v)},oa.useFormStatus=function(){return d.H.useHostTransitionStatus()},oa.version="19.2.4",oa}var S0;function Ng(){if(S0)return uf.exports;S0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),uf.exports=aw(),uf.exports}var C0;function nw(){if(C0)return qi;C0=1;var s=tw(),l=Jf(),r=Ng();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function x(e){if(u(e)!==e)throw Error(a(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(a(188));return n!==e?null:e}for(var i=e,c=n;;){var f=i.return;if(f===null)break;var h=f.alternate;if(h===null){if(c=f.return,c!==null){i=c;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===i)return x(f),e;if(h===c)return x(f),n;h=h.sibling}throw Error(a(188))}if(i.return!==c.return)i=f,c=h;else{for(var C=!1,E=f.child;E;){if(E===i){C=!0,i=f,c=h;break}if(E===c){C=!0,c=f,i=h;break}E=E.sibling}if(!C){for(E=h.child;E;){if(E===i){C=!0,i=h,c=f;break}if(E===c){C=!0,c=h,i=f;break}E=E.sibling}if(!C)throw Error(a(189))}}if(i.alternate!==c)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,g=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),k=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function A(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ee?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case w:return"Profiler";case y:return"StrictMode";case O:return"Suspense";case Y:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case k:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case _:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return n=e.displayName||null,n!==null?n:se(e.type)||"Memo";case T:n=e._payload,e=e._init;try{return se(e(n))}catch{}}return null}var Q=Array.isArray,B=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},le=[],ve=-1;function z(e){return{current:e}}function te(e){0>ve||(e.current=le[ve],le[ve]=null,ve--)}function me(e,n){ve++,le[ve]=e.current,e.current=n}var he=z(null),Z=z(null),xe=z(null),fe=z(null);function be(e,n){switch(me(xe,n),me(Z,e),me(he,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Bv(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Bv(n),e=Hv(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}te(he),me(he,e)}function _e(){te(he),te(Z),te(xe)}function Nt(e){e.memoizedState!==null&&me(fe,e);var n=he.current,i=Hv(n,e.type);n!==i&&(me(Z,e),me(he,i))}function Ot(e){Z.current===e&&(te(he),te(Z)),fe.current===e&&(te(fe),zi._currentValue=L)}var ra,Kt;function ye(e){if(ra===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);ra=n&&n[1]||"",Kt=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ra+e+Kt}var Ie=!1;function Je(e,n){if(!e||Ie)return"";Ie=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ae){var J=ae}Reflect.construct(e,[],de)}else{try{de.call()}catch(ae){J=ae}e.call(de.prototype)}}else{try{throw Error()}catch(ae){J=ae}(de=e())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ae){if(ae&&J&&typeof ae.stack=="string")return[ae.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=c.DetermineComponentFrameRoot(),C=h[0],E=h[1];if(C&&E){var F=C.split(`
`),W=E.split(`
`);for(f=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;f<W.length&&!W[f].includes("DetermineComponentFrameRoot");)f++;if(c===F.length||f===W.length)for(c=F.length-1,f=W.length-1;1<=c&&0<=f&&F[c]!==W[f];)f--;for(;1<=c&&0<=f;c--,f--)if(F[c]!==W[f]){if(c!==1||f!==1)do if(c--,f--,0>f||F[c]!==W[f]){var oe=`
`+F[c].replace(" at new "," at ");return e.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",e.displayName)),oe}while(1<=c&&0<=f);break}}}finally{Ie=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?ye(i):""}function Ct(e,n){switch(e.tag){case 26:case 27:case 5:return ye(e.type);case 16:return ye("Lazy");case 13:return e.child!==n&&n!==null?ye("Suspense Fallback"):ye("Suspense");case 19:return ye("SuspenseList");case 0:case 15:return Je(e.type,!1);case 11:return Je(e.type.render,!1);case 1:return Je(e.type,!0);case 31:return ye("Activity");default:return""}}function ot(e){try{var n="",i=null;do n+=Ct(e,i),i=e,e=e.return;while(e);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ma=Object.prototype.hasOwnProperty,sa=s.unstable_scheduleCallback,bt=s.unstable_cancelCallback,la=s.unstable_shouldYield,Va=s.unstable_requestPaint,Ft=s.unstable_now,un=s.unstable_getCurrentPriorityLevel,Oe=s.unstable_ImmediatePriority,ct=s.unstable_UserBlockingPriority,U=s.unstable_NormalPriority,ie=s.unstable_LowPriority,Ne=s.unstable_IdlePriority,Be=s.log,et=s.unstable_setDisableYieldValue,ue=null,nt=null;function Te(e){if(typeof Be=="function"&&et(e),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(ue,e)}catch{}}var De=Math.clz32?Math.clz32:fa,gt=Math.log,qe=Math.LN2;function fa(e){return e>>>=0,e===0?32:31-(gt(e)/qe|0)|0}var ze=256,pt=262144,ba=4194304;function Bt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ga(e,n,i){var c=e.pendingLanes;if(c===0)return 0;var f=0,h=e.suspendedLanes,C=e.pingedLanes;e=e.warmLanes;var E=c&134217727;return E!==0?(c=E&~h,c!==0?f=Bt(c):(C&=E,C!==0?f=Bt(C):i||(i=E&~e,i!==0&&(f=Bt(i))))):(E=c&~h,E!==0?f=Bt(E):C!==0?f=Bt(C):i||(i=c&~e,i!==0&&(f=Bt(i)))),f===0?0:n!==0&&n!==f&&(n&h)===0&&(h=f&-f,i=n&-n,h>=i||h===32&&(i&4194048)!==0)?n:f}function dn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ls(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ge(){var e=ba;return ba<<=1,(ba&62914560)===0&&(ba=4194304),e}function Ut(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Ga(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Un(e,n,i,c,f,h){var C=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var E=e.entanglements,F=e.expirationTimes,W=e.hiddenUpdates;for(i=C&~i;0<i;){var oe=31-De(i),de=1<<oe;E[oe]=0,F[oe]=-1;var J=W[oe];if(J!==null)for(W[oe]=null,oe=0;oe<J.length;oe++){var ae=J[oe];ae!==null&&(ae.lane&=-536870913)}i&=~de}c!==0&&Vn(e,c,0),h!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=h&~(C&~n))}function Vn(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-De(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|i&261930}function Gn(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var c=31-De(i),f=1<<c;f&n|e[c]&n&&(e[c]|=n),i&=~f}}function is(e,n){var i=n&-n;return i=(i&42)!==0?1:Qn(i),(i&(e.suspendedLanes|n))!==0?0:i}function Qn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Cr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function go(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:u0(e.type))}function yo(e,n){var i=K.p;try{return K.p=e,n()}finally{K.p=i}}var jn=Math.random().toString(36).slice(2),Vt="__reactFiber$"+jn,ia="__reactProps$"+jn,kr="__reactContainer$"+jn,Jl="__reactEvents$"+jn,Ku="__reactListeners$"+jn,Xu="__reactHandles$"+jn,No="__reactResources$"+jn,os="__reactMarker$"+jn;function ei(e){delete e[Vt],delete e[ia],delete e[Jl],delete e[Ku],delete e[Xu]}function Dr(e){var n=e[Vt];if(n)return n;for(var i=e.parentNode;i;){if(n=i[kr]||i[Vt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Qv(e);e!==null;){if(i=e[Vt])return i;e=Qv(e)}return n}e=i,i=e.parentNode}return null}function Mr(e){if(e=e[Vt]||e[kr]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function H(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function pe(e){var n=e[No];return n||(n=e[No]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function tt(e){e[os]=!0}var ya=new Set,wn={};function Na(e,n){Qa(e,n),Qa(e+"Capture",n)}function Qa(e,n){for(wn[e]=n,e=0;e<n.length;e++)ya.add(n[e])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cs={},Ep={};function Y1(e){return ma.call(Ep,e)?!0:ma.call(cs,e)?!1:jo.test(e)?Ep[e]=!0:(cs[e]=!0,!1)}function wo(e,n,i){if(Y1(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function So(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Kn(e,n,i,c){if(c===null)e.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+c)}}function Ka(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _p(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function q1(e,n,i){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,h=c.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(C){i=""+C,h.call(this,C)}}),Object.defineProperty(e,n,{enumerable:c.enumerable}),{getValue:function(){return i},setValue:function(C){i=""+C},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Wu(e){if(!e._valueTracker){var n=_p(e)?"checked":"value";e._valueTracker=q1(e,n,""+e[n])}}function Op(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),c="";return e&&(c=_p(e)?e.checked?"true":"false":e.value),e=c,e!==i?(n.setValue(e),!0):!1}function Co(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $1=/[\n"\\]/g;function Xa(e){return e.replace($1,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Zu(e,n,i,c,f,h,C,E){e.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.type=C:e.removeAttribute("type"),n!=null?C==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ka(n)):e.value!==""+Ka(n)&&(e.value=""+Ka(n)):C!=="submit"&&C!=="reset"||e.removeAttribute("value"),n!=null?Ju(e,C,Ka(n)):i!=null?Ju(e,C,Ka(i)):c!=null&&e.removeAttribute("value"),f==null&&h!=null&&(e.defaultChecked=!!h),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ka(E):e.removeAttribute("name")}function Rp(e,n,i,c,f,h,C,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){Wu(e);return}i=i!=null?""+Ka(i):"",n=n!=null?""+Ka(n):i,E||n===e.value||(e.value=n),e.defaultValue=n}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=E?e.checked:!!c,e.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.name=C),Wu(e)}function Ju(e,n,i){n==="number"&&Co(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function $s(e,n,i,c){if(e=e.options,n){n={};for(var f=0;f<i.length;f++)n["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=n.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&c&&(e[i].defaultSelected=!0)}else{for(i=""+Ka(i),n=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Ip(e,n,i){if(n!=null&&(n=""+Ka(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Ka(i):""}function Lp(e,n,i,c){if(n==null){if(c!=null){if(i!=null)throw Error(a(92));if(Q(c)){if(1<c.length)throw Error(a(93));c=c[0]}i=c}i==null&&(i=""),n=i}i=Ka(n),e.defaultValue=i,c=e.textContent,c===i&&c!==""&&c!==null&&(e.value=c),Wu(e)}function Us(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var U1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pp(e,n,i){var c=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,i):typeof i!="number"||i===0||U1.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function zp(e,n,i){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,i!=null){for(var c in i)!i.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var f in n)c=n[f],n.hasOwnProperty(f)&&i[f]!==c&&Pp(e,f,c)}else for(var h in n)n.hasOwnProperty(h)&&Pp(e,h,n[h])}function ed(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),G1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ko(e){return G1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Xn(){}var td=null;function ad(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vs=null,Gs=null;function Fp(e){var n=Mr(e);if(n&&(e=n.stateNode)){var i=e[ia]||null;e:switch(e=n.stateNode,n.type){case"input":if(Zu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Xa(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var c=i[n];if(c!==e&&c.form===e.form){var f=c[ia]||null;if(!f)throw Error(a(90));Zu(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<i.length;n++)c=i[n],c.form===e.form&&Op(c)}break e;case"textarea":Ip(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&$s(e,!!i.multiple,n,!1)}}}var nd=!1;function Bp(e,n,i){if(nd)return e(n,i);nd=!0;try{var c=e(n);return c}finally{if(nd=!1,(Vs!==null||Gs!==null)&&(fc(),Vs&&(n=Vs,e=Gs,Gs=Vs=null,Fp(n),e)))for(n=0;n<e.length;n++)Fp(e[n])}}function ti(e,n){var i=e.stateNode;if(i===null)return null;var c=i[ia]||null;if(c===null)return null;i=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,n,typeof i));return i}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rd=!1;if(Wn)try{var ai={};Object.defineProperty(ai,"passive",{get:function(){rd=!0}}),window.addEventListener("test",ai,ai),window.removeEventListener("test",ai,ai)}catch{rd=!1}var Ar=null,sd=null,Do=null;function Hp(){if(Do)return Do;var e,n=sd,i=n.length,c,f="value"in Ar?Ar.value:Ar.textContent,h=f.length;for(e=0;e<i&&n[e]===f[e];e++);var C=i-e;for(c=1;c<=C&&n[i-c]===f[h-c];c++);return Do=f.slice(e,1<c?1-c:void 0)}function Mo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ao(){return!0}function Yp(){return!1}function ja(e){function n(i,c,f,h,C){this._reactName=i,this._targetInst=f,this.type=c,this.nativeEvent=h,this.target=C,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(i=e[E],this[E]=i?i(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ao:Yp,this.isPropagationStopped=Yp,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ao)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ao)},persist:function(){},isPersistent:Ao}),n}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},To=ja(us),ni=b({},us,{view:0,detail:0}),Q1=ja(ni),ld,id,ri,Eo=b({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(ld=e.screenX-ri.screenX,id=e.screenY-ri.screenY):id=ld=0,ri=e),ld)},movementY:function(e){return"movementY"in e?e.movementY:id}}),qp=ja(Eo),K1=b({},Eo,{dataTransfer:0}),X1=ja(K1),W1=b({},ni,{relatedTarget:0}),od=ja(W1),Z1=b({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),J1=ja(Z1),eN=b({},us,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tN=ja(eN),aN=b({},us,{data:0}),$p=ja(aN),nN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lN(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=sN[e])?!!n[e]:!1}function cd(){return lN}var iN=b({},ni,{key:function(e){if(e.key){var n=nN[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Mo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cd,charCode:function(e){return e.type==="keypress"?Mo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oN=ja(iN),cN=b({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Up=ja(cN),uN=b({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cd}),dN=ja(uN),mN=b({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),fN=ja(mN),pN=b({},Eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xN=ja(pN),hN=b({},us,{newState:0,oldState:0}),vN=ja(hN),bN=[9,13,27,32],ud=Wn&&"CompositionEvent"in window,si=null;Wn&&"documentMode"in document&&(si=document.documentMode);var gN=Wn&&"TextEvent"in window&&!si,Vp=Wn&&(!ud||si&&8<si&&11>=si),Gp=" ",Qp=!1;function Kp(e,n){switch(e){case"keyup":return bN.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qs=!1;function yN(e,n){switch(e){case"compositionend":return Xp(n);case"keypress":return n.which!==32?null:(Qp=!0,Gp);case"textInput":return e=n.data,e===Gp&&Qp?null:e;default:return null}}function NN(e,n){if(Qs)return e==="compositionend"||!ud&&Kp(e,n)?(e=Hp(),Do=sd=Ar=null,Qs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Vp&&n.locale!=="ko"?null:n.data;default:return null}}var jN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!jN[e.type]:n==="textarea"}function Zp(e,n,i,c){Vs?Gs?Gs.push(c):Gs=[c]:Vs=c,n=yc(n,"onChange"),0<n.length&&(i=new To("onChange","change",null,i,c),e.push({event:i,listeners:n}))}var li=null,ii=null;function wN(e){Rv(e,0)}function _o(e){var n=H(e);if(Op(n))return e}function Jp(e,n){if(e==="change")return n}var ex=!1;if(Wn){var dd;if(Wn){var md="oninput"in document;if(!md){var tx=document.createElement("div");tx.setAttribute("oninput","return;"),md=typeof tx.oninput=="function"}dd=md}else dd=!1;ex=dd&&(!document.documentMode||9<document.documentMode)}function ax(){li&&(li.detachEvent("onpropertychange",nx),ii=li=null)}function nx(e){if(e.propertyName==="value"&&_o(ii)){var n=[];Zp(n,ii,e,ad(e)),Bp(wN,n)}}function SN(e,n,i){e==="focusin"?(ax(),li=n,ii=i,li.attachEvent("onpropertychange",nx)):e==="focusout"&&ax()}function CN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _o(ii)}function kN(e,n){if(e==="click")return _o(n)}function DN(e,n){if(e==="input"||e==="change")return _o(n)}function MN(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ra=typeof Object.is=="function"?Object.is:MN;function oi(e,n){if(Ra(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),c=Object.keys(n);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var f=i[c];if(!ma.call(n,f)||!Ra(e[f],n[f]))return!1}return!0}function rx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sx(e,n){var i=rx(e);e=0;for(var c;i;){if(i.nodeType===3){if(c=e+i.textContent.length,e<=n&&c>=n)return{node:i,offset:n-e};e=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=rx(i)}}function lx(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?lx(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ix(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Co(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Co(e.document)}return n}function fd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var AN=Wn&&"documentMode"in document&&11>=document.documentMode,Ks=null,pd=null,ci=null,xd=!1;function ox(e,n,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;xd||Ks==null||Ks!==Co(c)||(c=Ks,"selectionStart"in c&&fd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ci&&oi(ci,c)||(ci=c,c=yc(pd,"onSelect"),0<c.length&&(n=new To("onSelect","select",null,n,i),e.push({event:n,listeners:c}),n.target=Ks)))}function ds(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Xs={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionrun:ds("Transition","TransitionRun"),transitionstart:ds("Transition","TransitionStart"),transitioncancel:ds("Transition","TransitionCancel"),transitionend:ds("Transition","TransitionEnd")},hd={},cx={};Wn&&(cx=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function ms(e){if(hd[e])return hd[e];if(!Xs[e])return e;var n=Xs[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in cx)return hd[e]=n[i];return e}var ux=ms("animationend"),dx=ms("animationiteration"),mx=ms("animationstart"),TN=ms("transitionrun"),EN=ms("transitionstart"),_N=ms("transitioncancel"),fx=ms("transitionend"),px=new Map,vd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vd.push("scrollEnd");function mn(e,n){px.set(e,n),Na(n,[e])}var Oo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Wa=[],Ws=0,bd=0;function Ro(){for(var e=Ws,n=bd=Ws=0;n<e;){var i=Wa[n];Wa[n++]=null;var c=Wa[n];Wa[n++]=null;var f=Wa[n];Wa[n++]=null;var h=Wa[n];if(Wa[n++]=null,c!==null&&f!==null){var C=c.pending;C===null?f.next=f:(f.next=C.next,C.next=f),c.pending=f}h!==0&&xx(i,f,h)}}function Io(e,n,i,c){Wa[Ws++]=e,Wa[Ws++]=n,Wa[Ws++]=i,Wa[Ws++]=c,bd|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function gd(e,n,i,c){return Io(e,n,i,c),Lo(e)}function fs(e,n){return Io(e,null,null,n),Lo(e)}function xx(e,n,i){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i);for(var f=!1,h=e.return;h!==null;)h.childLanes|=i,c=h.alternate,c!==null&&(c.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(f=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,f&&n!==null&&(f=31-De(i),e=h.hiddenUpdates,c=e[f],c===null?e[f]=[n]:c.push(n),n.lane=i|536870912),h):null}function Lo(e){if(50<Ei)throw Ei=0,Mm=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Zs={};function ON(e,n,i,c){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ia(e,n,i,c){return new ON(e,n,i,c)}function yd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zn(e,n){var i=e.alternate;return i===null?(i=Ia(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function hx(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Po(e,n,i,c,f,h){var C=0;if(c=e,typeof e=="function")yd(e)&&(C=1);else if(typeof e=="string")C=zj(e,i,he.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case R:return e=Ia(31,i,n,f),e.elementType=R,e.lanes=h,e;case S:return ps(i.children,f,h,n);case y:C=8,f|=24;break;case w:return e=Ia(12,i,n,f|2),e.elementType=w,e.lanes=h,e;case O:return e=Ia(13,i,n,f),e.elementType=O,e.lanes=h,e;case Y:return e=Ia(19,i,n,f),e.elementType=Y,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:C=10;break e;case D:C=9;break e;case _:C=11;break e;case P:C=14;break e;case T:C=16,c=null;break e}C=29,i=Error(a(130,e===null?"null":typeof e,"")),c=null}return n=Ia(C,i,n,f),n.elementType=e,n.type=c,n.lanes=h,n}function ps(e,n,i,c){return e=Ia(7,e,c,n),e.lanes=i,e}function Nd(e,n,i){return e=Ia(6,e,null,n),e.lanes=i,e}function vx(e){var n=Ia(18,null,null,0);return n.stateNode=e,n}function jd(e,n,i){return n=Ia(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var bx=new WeakMap;function Za(e,n){if(typeof e=="object"&&e!==null){var i=bx.get(e);return i!==void 0?i:(n={value:e,source:n,stack:ot(n)},bx.set(e,n),n)}return{value:e,source:n,stack:ot(n)}}var Js=[],el=0,zo=null,ui=0,Ja=[],en=0,Tr=null,Sn=1,Cn="";function Jn(e,n){Js[el++]=ui,Js[el++]=zo,zo=e,ui=n}function gx(e,n,i){Ja[en++]=Sn,Ja[en++]=Cn,Ja[en++]=Tr,Tr=e;var c=Sn;e=Cn;var f=32-De(c)-1;c&=~(1<<f),i+=1;var h=32-De(n)+f;if(30<h){var C=f-f%5;h=(c&(1<<C)-1).toString(32),c>>=C,f-=C,Sn=1<<32-De(n)+f|i<<f|c,Cn=h+e}else Sn=1<<h|i<<f|c,Cn=e}function wd(e){e.return!==null&&(Jn(e,1),gx(e,1,0))}function Sd(e){for(;e===zo;)zo=Js[--el],Js[el]=null,ui=Js[--el],Js[el]=null;for(;e===Tr;)Tr=Ja[--en],Ja[en]=null,Cn=Ja[--en],Ja[en]=null,Sn=Ja[--en],Ja[en]=null}function yx(e,n){Ja[en++]=Sn,Ja[en++]=Cn,Ja[en++]=Tr,Sn=n.id,Cn=n.overflow,Tr=e}var Wt=null,jt=null,Ze=!1,Er=null,tn=!1,Cd=Error(a(519));function _r(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw di(Za(n,e)),Cd}function Nx(e){var n=e.stateNode,i=e.type,c=e.memoizedProps;switch(n[Vt]=e,n[ia]=c,i){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(i=0;i<Oi.length;i++)Ve(Oi[i],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Ve("invalid",n),Rp(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ve("invalid",n);break;case"textarea":Ve("invalid",n),Lp(n,c.value,c.defaultValue,c.children)}i=c.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||c.suppressHydrationWarning===!0||zv(n.textContent,i)?(c.popover!=null&&(Ve("beforetoggle",n),Ve("toggle",n)),c.onScroll!=null&&Ve("scroll",n),c.onScrollEnd!=null&&Ve("scrollend",n),c.onClick!=null&&(n.onclick=Xn),n=!0):n=!1,n||_r(e,!0)}function jx(e){for(Wt=e.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:tn=!1;return;case 27:case 3:tn=!0;return;default:Wt=Wt.return}}function tl(e){if(e!==Wt)return!1;if(!Ze)return jx(e),Ze=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||qm(e.type,e.memoizedProps)),i=!i),i&&jt&&_r(e),jx(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));jt=Gv(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));jt=Gv(e)}else n===27?(n=jt,Vr(e.type)?(e=Qm,Qm=null,jt=e):jt=n):jt=Wt?nn(e.stateNode.nextSibling):null;return!0}function xs(){jt=Wt=null,Ze=!1}function kd(){var e=Er;return e!==null&&(ka===null?ka=e:ka.push.apply(ka,e),Er=null),e}function di(e){Er===null?Er=[e]:Er.push(e)}var Dd=z(null),hs=null,er=null;function Or(e,n,i){me(Dd,n._currentValue),n._currentValue=i}function tr(e){e._currentValue=Dd.current,te(Dd)}function Md(e,n,i){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===i)break;e=e.return}}function Ad(e,n,i,c){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var h=f.dependencies;if(h!==null){var C=f.child;h=h.firstContext;e:for(;h!==null;){var E=h;h=f;for(var F=0;F<n.length;F++)if(E.context===n[F]){h.lanes|=i,E=h.alternate,E!==null&&(E.lanes|=i),Md(h.return,i,e),c||(C=null);break e}h=E.next}}else if(f.tag===18){if(C=f.return,C===null)throw Error(a(341));C.lanes|=i,h=C.alternate,h!==null&&(h.lanes|=i),Md(C,i,e),C=null}else C=f.child;if(C!==null)C.return=f;else for(C=f;C!==null;){if(C===e){C=null;break}if(f=C.sibling,f!==null){f.return=C.return,C=f;break}C=C.return}f=C}}function al(e,n,i,c){e=null;for(var f=n,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var C=f.alternate;if(C===null)throw Error(a(387));if(C=C.memoizedProps,C!==null){var E=f.type;Ra(f.pendingProps.value,C.value)||(e!==null?e.push(E):e=[E])}}else if(f===fe.current){if(C=f.alternate,C===null)throw Error(a(387));C.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(zi):e=[zi])}f=f.return}e!==null&&Ad(n,e,i,c),n.flags|=262144}function Fo(e){for(e=e.firstContext;e!==null;){if(!Ra(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vs(e){hs=e,er=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Zt(e){return wx(hs,e)}function Bo(e,n){return hs===null&&vs(e),wx(e,n)}function wx(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},er===null){if(e===null)throw Error(a(308));er=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else er=er.next=n;return i}var RN=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},IN=s.unstable_scheduleCallback,LN=s.unstable_NormalPriority,Ht={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Td(){return{controller:new RN,data:new Map,refCount:0}}function mi(e){e.refCount--,e.refCount===0&&IN(LN,function(){e.controller.abort()})}var fi=null,Ed=0,nl=0,rl=null;function PN(e,n){if(fi===null){var i=fi=[];Ed=0,nl=Rm(),rl={status:"pending",value:void 0,then:function(c){i.push(c)}}}return Ed++,n.then(Sx,Sx),n}function Sx(){if(--Ed===0&&fi!==null){rl!==null&&(rl.status="fulfilled");var e=fi;fi=null,nl=0,rl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function zN(e,n){var i=[],c={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var f=0;f<i.length;f++)(0,i[f])(n)},function(f){for(c.status="rejected",c.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),c}var Cx=B.S;B.S=function(e,n){ov=Ft(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&PN(e,n),Cx!==null&&Cx(e,n)};var bs=z(null);function _d(){var e=bs.current;return e!==null?e:yt.pooledCache}function Ho(e,n){n===null?me(bs,bs.current):me(bs,n.pool)}function kx(){var e=_d();return e===null?null:{parent:Ht._currentValue,pool:e}}var sl=Error(a(460)),Od=Error(a(474)),Yo=Error(a(542)),qo={then:function(){}};function Dx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Mx(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(Xn,Xn),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Tx(e),e;default:if(typeof n.status=="string")n.then(Xn,Xn);else{if(e=yt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=c}},function(c){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Tx(e),e}throw ys=n,sl}}function gs(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(ys=i,sl):i}}var ys=null;function Ax(){if(ys===null)throw Error(a(459));var e=ys;return ys=null,e}function Tx(e){if(e===sl||e===Yo)throw Error(a(483))}var ll=null,pi=0;function $o(e){var n=pi;return pi+=1,ll===null&&(ll=[]),Mx(ll,e,n)}function xi(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uo(e,n){throw n.$$typeof===g?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Ex(e){function n(V,$){if(e){var X=V.deletions;X===null?(V.deletions=[$],V.flags|=16):X.push($)}}function i(V,$){if(!e)return null;for(;$!==null;)n(V,$),$=$.sibling;return null}function c(V){for(var $=new Map;V!==null;)V.key!==null?$.set(V.key,V):$.set(V.index,V),V=V.sibling;return $}function f(V,$){return V=Zn(V,$),V.index=0,V.sibling=null,V}function h(V,$,X){return V.index=X,e?(X=V.alternate,X!==null?(X=X.index,X<$?(V.flags|=67108866,$):X):(V.flags|=67108866,$)):(V.flags|=1048576,$)}function C(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,$,X,ce){return $===null||$.tag!==6?($=Nd(X,V.mode,ce),$.return=V,$):($=f($,X),$.return=V,$)}function F(V,$,X,ce){var Ee=X.type;return Ee===S?oe(V,$,X.props.children,ce,X.key):$!==null&&($.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===T&&gs(Ee)===$.type)?($=f($,X.props),xi($,X),$.return=V,$):($=Po(X.type,X.key,X.props,null,V.mode,ce),xi($,X),$.return=V,$)}function W(V,$,X,ce){return $===null||$.tag!==4||$.stateNode.containerInfo!==X.containerInfo||$.stateNode.implementation!==X.implementation?($=jd(X,V.mode,ce),$.return=V,$):($=f($,X.children||[]),$.return=V,$)}function oe(V,$,X,ce,Ee){return $===null||$.tag!==7?($=ps(X,V.mode,ce,Ee),$.return=V,$):($=f($,X),$.return=V,$)}function de(V,$,X){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Nd(""+$,V.mode,X),$.return=V,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case j:return X=Po($.type,$.key,$.props,null,V.mode,X),xi(X,$),X.return=V,X;case M:return $=jd($,V.mode,X),$.return=V,$;case T:return $=gs($),de(V,$,X)}if(Q($)||A($))return $=ps($,V.mode,X,null),$.return=V,$;if(typeof $.then=="function")return de(V,$o($),X);if($.$$typeof===k)return de(V,Bo(V,$),X);Uo(V,$)}return null}function J(V,$,X,ce){var Ee=$!==null?$.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ee!==null?null:E(V,$,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case j:return X.key===Ee?F(V,$,X,ce):null;case M:return X.key===Ee?W(V,$,X,ce):null;case T:return X=gs(X),J(V,$,X,ce)}if(Q(X)||A(X))return Ee!==null?null:oe(V,$,X,ce,null);if(typeof X.then=="function")return J(V,$,$o(X),ce);if(X.$$typeof===k)return J(V,$,Bo(V,X),ce);Uo(V,X)}return null}function ae(V,$,X,ce,Ee){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return V=V.get(X)||null,E($,V,""+ce,Ee);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case j:return V=V.get(ce.key===null?X:ce.key)||null,F($,V,ce,Ee);case M:return V=V.get(ce.key===null?X:ce.key)||null,W($,V,ce,Ee);case T:return ce=gs(ce),ae(V,$,X,ce,Ee)}if(Q(ce)||A(ce))return V=V.get(X)||null,oe($,V,ce,Ee,null);if(typeof ce.then=="function")return ae(V,$,X,$o(ce),Ee);if(ce.$$typeof===k)return ae(V,$,X,Bo($,ce),Ee);Uo($,ce)}return null}function ke(V,$,X,ce){for(var Ee=null,rt=null,Me=$,Ye=$=0,Xe=null;Me!==null&&Ye<X.length;Ye++){Me.index>Ye?(Xe=Me,Me=null):Xe=Me.sibling;var st=J(V,Me,X[Ye],ce);if(st===null){Me===null&&(Me=Xe);break}e&&Me&&st.alternate===null&&n(V,Me),$=h(st,$,Ye),rt===null?Ee=st:rt.sibling=st,rt=st,Me=Xe}if(Ye===X.length)return i(V,Me),Ze&&Jn(V,Ye),Ee;if(Me===null){for(;Ye<X.length;Ye++)Me=de(V,X[Ye],ce),Me!==null&&($=h(Me,$,Ye),rt===null?Ee=Me:rt.sibling=Me,rt=Me);return Ze&&Jn(V,Ye),Ee}for(Me=c(Me);Ye<X.length;Ye++)Xe=ae(Me,V,Ye,X[Ye],ce),Xe!==null&&(e&&Xe.alternate!==null&&Me.delete(Xe.key===null?Ye:Xe.key),$=h(Xe,$,Ye),rt===null?Ee=Xe:rt.sibling=Xe,rt=Xe);return e&&Me.forEach(function(Wr){return n(V,Wr)}),Ze&&Jn(V,Ye),Ee}function Re(V,$,X,ce){if(X==null)throw Error(a(151));for(var Ee=null,rt=null,Me=$,Ye=$=0,Xe=null,st=X.next();Me!==null&&!st.done;Ye++,st=X.next()){Me.index>Ye?(Xe=Me,Me=null):Xe=Me.sibling;var Wr=J(V,Me,st.value,ce);if(Wr===null){Me===null&&(Me=Xe);break}e&&Me&&Wr.alternate===null&&n(V,Me),$=h(Wr,$,Ye),rt===null?Ee=Wr:rt.sibling=Wr,rt=Wr,Me=Xe}if(st.done)return i(V,Me),Ze&&Jn(V,Ye),Ee;if(Me===null){for(;!st.done;Ye++,st=X.next())st=de(V,st.value,ce),st!==null&&($=h(st,$,Ye),rt===null?Ee=st:rt.sibling=st,rt=st);return Ze&&Jn(V,Ye),Ee}for(Me=c(Me);!st.done;Ye++,st=X.next())st=ae(Me,V,Ye,st.value,ce),st!==null&&(e&&st.alternate!==null&&Me.delete(st.key===null?Ye:st.key),$=h(st,$,Ye),rt===null?Ee=st:rt.sibling=st,rt=st);return e&&Me.forEach(function(Kj){return n(V,Kj)}),Ze&&Jn(V,Ye),Ee}function vt(V,$,X,ce){if(typeof X=="object"&&X!==null&&X.type===S&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case j:e:{for(var Ee=X.key;$!==null;){if($.key===Ee){if(Ee=X.type,Ee===S){if($.tag===7){i(V,$.sibling),ce=f($,X.props.children),ce.return=V,V=ce;break e}}else if($.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===T&&gs(Ee)===$.type){i(V,$.sibling),ce=f($,X.props),xi(ce,X),ce.return=V,V=ce;break e}i(V,$);break}else n(V,$);$=$.sibling}X.type===S?(ce=ps(X.props.children,V.mode,ce,X.key),ce.return=V,V=ce):(ce=Po(X.type,X.key,X.props,null,V.mode,ce),xi(ce,X),ce.return=V,V=ce)}return C(V);case M:e:{for(Ee=X.key;$!==null;){if($.key===Ee)if($.tag===4&&$.stateNode.containerInfo===X.containerInfo&&$.stateNode.implementation===X.implementation){i(V,$.sibling),ce=f($,X.children||[]),ce.return=V,V=ce;break e}else{i(V,$);break}else n(V,$);$=$.sibling}ce=jd(X,V.mode,ce),ce.return=V,V=ce}return C(V);case T:return X=gs(X),vt(V,$,X,ce)}if(Q(X))return ke(V,$,X,ce);if(A(X)){if(Ee=A(X),typeof Ee!="function")throw Error(a(150));return X=Ee.call(X),Re(V,$,X,ce)}if(typeof X.then=="function")return vt(V,$,$o(X),ce);if(X.$$typeof===k)return vt(V,$,Bo(V,X),ce);Uo(V,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,$!==null&&$.tag===6?(i(V,$.sibling),ce=f($,X),ce.return=V,V=ce):(i(V,$),ce=Nd(X,V.mode,ce),ce.return=V,V=ce),C(V)):i(V,$)}return function(V,$,X,ce){try{pi=0;var Ee=vt(V,$,X,ce);return ll=null,Ee}catch(Me){if(Me===sl||Me===Yo)throw Me;var rt=Ia(29,Me,null,V.mode);return rt.lanes=ce,rt.return=V,rt}}}var Ns=Ex(!0),_x=Ex(!1),Rr=!1;function Rd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Id(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ir(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Lr(e,n,i){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(lt&2)!==0){var f=c.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),c.pending=n,n=Lo(e),xx(e,null,i),n}return Io(e,c,n,i),Lo(e)}function hi(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,i|=c,n.lanes=i,Gn(e,i)}}function Ld(e,n){var i=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var f=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var C={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?f=h=C:h=h.next=C,i=i.next}while(i!==null);h===null?f=h=n:h=h.next=n}else f=h=n;i={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:c.shared,callbacks:c.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Pd=!1;function vi(){if(Pd){var e=rl;if(e!==null)throw e}}function bi(e,n,i,c){Pd=!1;var f=e.updateQueue;Rr=!1;var h=f.firstBaseUpdate,C=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var F=E,W=F.next;F.next=null,C===null?h=W:C.next=W,C=F;var oe=e.alternate;oe!==null&&(oe=oe.updateQueue,E=oe.lastBaseUpdate,E!==C&&(E===null?oe.firstBaseUpdate=W:E.next=W,oe.lastBaseUpdate=F))}if(h!==null){var de=f.baseState;C=0,oe=W=F=null,E=h;do{var J=E.lane&-536870913,ae=J!==E.lane;if(ae?(Ke&J)===J:(c&J)===J){J!==0&&J===nl&&(Pd=!0),oe!==null&&(oe=oe.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ke=e,Re=E;J=n;var vt=i;switch(Re.tag){case 1:if(ke=Re.payload,typeof ke=="function"){de=ke.call(vt,de,J);break e}de=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Re.payload,J=typeof ke=="function"?ke.call(vt,de,J):ke,J==null)break e;de=b({},de,J);break e;case 2:Rr=!0}}J=E.callback,J!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=f.callbacks,ae===null?f.callbacks=[J]:ae.push(J))}else ae={lane:J,tag:E.tag,payload:E.payload,callback:E.callback,next:null},oe===null?(W=oe=ae,F=de):oe=oe.next=ae,C|=J;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;ae=E,E=ae.next,ae.next=null,f.lastBaseUpdate=ae,f.shared.pending=null}}while(!0);oe===null&&(F=de),f.baseState=F,f.firstBaseUpdate=W,f.lastBaseUpdate=oe,h===null&&(f.shared.lanes=0),Hr|=C,e.lanes=C,e.memoizedState=de}}function Ox(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Rx(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Ox(i[e],n)}var il=z(null),Vo=z(0);function Ix(e,n){e=ur,me(Vo,e),me(il,n),ur=e|n.baseLanes}function zd(){me(Vo,ur),me(il,il.current)}function Fd(){ur=Vo.current,te(il),te(Vo)}var La=z(null),an=null;function Pr(e){var n=e.alternate;me(Rt,Rt.current&1),me(La,e),an===null&&(n===null||il.current!==null||n.memoizedState!==null)&&(an=e)}function Bd(e){me(Rt,Rt.current),me(La,e),an===null&&(an=e)}function Lx(e){e.tag===22?(me(Rt,Rt.current),me(La,e),an===null&&(an=e)):zr()}function zr(){me(Rt,Rt.current),me(La,La.current)}function Pa(e){te(La),an===e&&(an=null),te(Rt)}var Rt=z(0);function Go(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Vm(i)||Gm(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ar=0,He=null,xt=null,Yt=null,Qo=!1,ol=!1,js=!1,Ko=0,gi=0,cl=null,FN=0;function Tt(){throw Error(a(321))}function Hd(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Ra(e[i],n[i]))return!1;return!0}function Yd(e,n,i,c,f,h){return ar=h,He=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=e===null||e.memoizedState===null?gh:nm,js=!1,h=i(c,f),js=!1,ol&&(h=zx(n,i,c,f)),Px(e),h}function Px(e){B.H=ji;var n=xt!==null&&xt.next!==null;if(ar=0,Yt=xt=He=null,Qo=!1,gi=0,cl=null,n)throw Error(a(300));e===null||qt||(e=e.dependencies,e!==null&&Fo(e)&&(qt=!0))}function zx(e,n,i,c){He=e;var f=0;do{if(ol&&(cl=null),gi=0,ol=!1,25<=f)throw Error(a(301));if(f+=1,Yt=xt=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}B.H=yh,h=n(i,c)}while(ol);return h}function BN(){var e=B.H,n=e.useState()[0];return n=typeof n.then=="function"?yi(n):n,e=e.useState()[0],(xt!==null?xt.memoizedState:null)!==e&&(He.flags|=1024),n}function qd(){var e=Ko!==0;return Ko=0,e}function $d(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Ud(e){if(Qo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Qo=!1}ar=0,Yt=xt=He=null,ol=!1,gi=Ko=0,cl=null}function pa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?He.memoizedState=Yt=e:Yt=Yt.next=e,Yt}function It(){if(xt===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var n=Yt===null?He.memoizedState:Yt.next;if(n!==null)Yt=n,xt=e;else{if(e===null)throw He.alternate===null?Error(a(467)):Error(a(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Yt===null?He.memoizedState=Yt=e:Yt=Yt.next=e}return Yt}function Xo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yi(e){var n=gi;return gi+=1,cl===null&&(cl=[]),e=Mx(cl,e,n),n=He,(Yt===null?n.memoizedState:Yt.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?gh:nm),e}function Wo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return yi(e);if(e.$$typeof===k)return Zt(e)}throw Error(a(438,String(e)))}function Vd(e){var n=null,i=He.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var c=He.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Xo(),He.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),c=0;c<e;c++)i[c]=I;return n.index++,i}function nr(e,n){return typeof n=="function"?n(e):n}function Zo(e){var n=It();return Gd(n,xt,e)}function Gd(e,n,i){var c=e.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=i;var f=e.baseQueue,h=c.pending;if(h!==null){if(f!==null){var C=f.next;f.next=h.next,h.next=C}n.baseQueue=f=h,c.pending=null}if(h=e.baseState,f===null)e.memoizedState=h;else{n=f.next;var E=C=null,F=null,W=n,oe=!1;do{var de=W.lane&-536870913;if(de!==W.lane?(Ke&de)===de:(ar&de)===de){var J=W.revertLane;if(J===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),de===nl&&(oe=!0);else if((ar&J)===J){W=W.next,J===nl&&(oe=!0);continue}else de={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},F===null?(E=F=de,C=h):F=F.next=de,He.lanes|=J,Hr|=J;de=W.action,js&&i(h,de),h=W.hasEagerState?W.eagerState:i(h,de)}else J={lane:de,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},F===null?(E=F=J,C=h):F=F.next=J,He.lanes|=de,Hr|=de;W=W.next}while(W!==null&&W!==n);if(F===null?C=h:F.next=E,!Ra(h,e.memoizedState)&&(qt=!0,oe&&(i=rl,i!==null)))throw i;e.memoizedState=h,e.baseState=C,e.baseQueue=F,c.lastRenderedState=h}return f===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Qd(e){var n=It(),i=n.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var c=i.dispatch,f=i.pending,h=n.memoizedState;if(f!==null){i.pending=null;var C=f=f.next;do h=e(h,C.action),C=C.next;while(C!==f);Ra(h,n.memoizedState)||(qt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),i.lastRenderedState=h}return[h,c]}function Fx(e,n,i){var c=He,f=It(),h=Ze;if(h){if(i===void 0)throw Error(a(407));i=i()}else i=n();var C=!Ra((xt||f).memoizedState,i);if(C&&(f.memoizedState=i,qt=!0),f=f.queue,Wd(Yx.bind(null,c,f,e),[e]),f.getSnapshot!==n||C||Yt!==null&&Yt.memoizedState.tag&1){if(c.flags|=2048,ul(9,{destroy:void 0},Hx.bind(null,c,f,i,n),null),yt===null)throw Error(a(349));h||(ar&127)!==0||Bx(c,n,i)}return i}function Bx(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=He.updateQueue,n===null?(n=Xo(),He.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Hx(e,n,i,c){n.value=i,n.getSnapshot=c,qx(n)&&$x(e)}function Yx(e,n,i){return i(function(){qx(n)&&$x(e)})}function qx(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Ra(e,i)}catch{return!0}}function $x(e){var n=fs(e,2);n!==null&&Da(n,e,2)}function Kd(e){var n=pa();if(typeof e=="function"){var i=e;if(e=i(),js){Te(!0);try{i()}finally{Te(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:e},n}function Ux(e,n,i,c){return e.baseState=i,Gd(e,xt,typeof c=="function"?c:nr)}function HN(e,n,i,c,f){if(tc(e))throw Error(a(485));if(e=n.action,e!==null){var h={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){h.listeners.push(C)}};B.T!==null?i(!0):h.isTransition=!1,c(h),i=n.pending,i===null?(h.next=n.pending=h,Vx(n,h)):(h.next=i.next,n.pending=i.next=h)}}function Vx(e,n){var i=n.action,c=n.payload,f=e.state;if(n.isTransition){var h=B.T,C={};B.T=C;try{var E=i(f,c),F=B.S;F!==null&&F(C,E),Gx(e,n,E)}catch(W){Xd(e,n,W)}finally{h!==null&&C.types!==null&&(h.types=C.types),B.T=h}}else try{h=i(f,c),Gx(e,n,h)}catch(W){Xd(e,n,W)}}function Gx(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(c){Qx(e,n,c)},function(c){return Xd(e,n,c)}):Qx(e,n,i)}function Qx(e,n,i){n.status="fulfilled",n.value=i,Kx(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,Vx(e,i)))}function Xd(e,n,i){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=i,Kx(n),n=n.next;while(n!==c)}e.action=null}function Kx(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Xx(e,n){return n}function Wx(e,n){if(Ze){var i=yt.formState;if(i!==null){e:{var c=He;if(Ze){if(jt){t:{for(var f=jt,h=tn;f.nodeType!==8;){if(!h){f=null;break t}if(f=nn(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){jt=nn(f.nextSibling),c=f.data==="F!";break e}}_r(c)}c=!1}c&&(n=i[0])}}return i=pa(),i.memoizedState=i.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xx,lastRenderedState:n},i.queue=c,i=hh.bind(null,He,c),c.dispatch=i,c=Kd(!1),h=am.bind(null,He,!1,c.queue),c=pa(),f={state:n,dispatch:null,action:e,pending:null},c.queue=f,i=HN.bind(null,He,f,h,i),f.dispatch=i,c.memoizedState=e,[n,i,!1]}function Zx(e){var n=It();return Jx(n,xt,e)}function Jx(e,n,i){if(n=Gd(e,n,Xx)[0],e=Zo(nr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=yi(n)}catch(C){throw C===sl?Yo:C}else c=n;n=It();var f=n.queue,h=f.dispatch;return i!==n.memoizedState&&(He.flags|=2048,ul(9,{destroy:void 0},YN.bind(null,f,i),null)),[c,h,e]}function YN(e,n){e.action=n}function eh(e){var n=It(),i=xt;if(i!==null)return Jx(n,i,e);It(),n=n.memoizedState,i=It();var c=i.queue.dispatch;return i.memoizedState=e,[n,c,!1]}function ul(e,n,i,c){return e={tag:e,create:i,deps:c,inst:n,next:null},n=He.updateQueue,n===null&&(n=Xo(),He.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(c=i.next,i.next=e,e.next=c,n.lastEffect=e),e}function th(){return It().memoizedState}function Jo(e,n,i,c){var f=pa();He.flags|=e,f.memoizedState=ul(1|n,{destroy:void 0},i,c===void 0?null:c)}function ec(e,n,i,c){var f=It();c=c===void 0?null:c;var h=f.memoizedState.inst;xt!==null&&c!==null&&Hd(c,xt.memoizedState.deps)?f.memoizedState=ul(n,h,i,c):(He.flags|=e,f.memoizedState=ul(1|n,h,i,c))}function ah(e,n){Jo(8390656,8,e,n)}function Wd(e,n){ec(2048,8,e,n)}function qN(e){He.flags|=4;var n=He.updateQueue;if(n===null)n=Xo(),He.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function nh(e){var n=It().memoizedState;return qN({ref:n,nextImpl:e}),function(){if((lt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function rh(e,n){return ec(4,2,e,n)}function sh(e,n){return ec(4,4,e,n)}function lh(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ih(e,n,i){i=i!=null?i.concat([e]):null,ec(4,4,lh.bind(null,n,e),i)}function Zd(){}function oh(e,n){var i=It();n=n===void 0?null:n;var c=i.memoizedState;return n!==null&&Hd(n,c[1])?c[0]:(i.memoizedState=[e,n],e)}function ch(e,n){var i=It();n=n===void 0?null:n;var c=i.memoizedState;if(n!==null&&Hd(n,c[1]))return c[0];if(c=e(),js){Te(!0);try{e()}finally{Te(!1)}}return i.memoizedState=[c,n],c}function Jd(e,n,i){return i===void 0||(ar&1073741824)!==0&&(Ke&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=uv(),He.lanes|=e,Hr|=e,i)}function uh(e,n,i,c){return Ra(i,n)?i:il.current!==null?(e=Jd(e,i,c),Ra(e,n)||(qt=!0),e):(ar&42)===0||(ar&1073741824)!==0&&(Ke&261930)===0?(qt=!0,e.memoizedState=i):(e=uv(),He.lanes|=e,Hr|=e,n)}function dh(e,n,i,c,f){var h=K.p;K.p=h!==0&&8>h?h:8;var C=B.T,E={};B.T=E,am(e,!1,n,i);try{var F=f(),W=B.S;if(W!==null&&W(E,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var oe=zN(F,c);Ni(e,n,oe,Ba(e))}else Ni(e,n,c,Ba(e))}catch(de){Ni(e,n,{then:function(){},status:"rejected",reason:de},Ba())}finally{K.p=h,C!==null&&E.types!==null&&(C.types=E.types),B.T=C}}function $N(){}function em(e,n,i,c){if(e.tag!==5)throw Error(a(476));var f=mh(e).queue;dh(e,f,n,L,i===null?$N:function(){return fh(e),i(c)})}function mh(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:L},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function fh(e){var n=mh(e);n.next===null&&(n=e.alternate.memoizedState),Ni(e,n.next.queue,{},Ba())}function tm(){return Zt(zi)}function ph(){return It().memoizedState}function xh(){return It().memoizedState}function UN(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=Ba();e=Ir(i);var c=Lr(n,e,i);c!==null&&(Da(c,n,i),hi(c,n,i)),n={cache:Td()},e.payload=n;return}n=n.return}}function VN(e,n,i){var c=Ba();i={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},tc(e)?vh(n,i):(i=gd(e,n,i,c),i!==null&&(Da(i,e,c),bh(i,n,c)))}function hh(e,n,i){var c=Ba();Ni(e,n,i,c)}function Ni(e,n,i,c){var f={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(tc(e))vh(n,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var C=n.lastRenderedState,E=h(C,i);if(f.hasEagerState=!0,f.eagerState=E,Ra(E,C))return Io(e,n,f,0),yt===null&&Ro(),!1}catch{}if(i=gd(e,n,f,c),i!==null)return Da(i,e,c),bh(i,n,c),!0}return!1}function am(e,n,i,c){if(c={lane:2,revertLane:Rm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},tc(e)){if(n)throw Error(a(479))}else n=gd(e,i,c,2),n!==null&&Da(n,e,2)}function tc(e){var n=e.alternate;return e===He||n!==null&&n===He}function vh(e,n){ol=Qo=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function bh(e,n,i){if((i&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,i|=c,n.lanes=i,Gn(e,i)}}var ji={readContext:Zt,use:Wo,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};ji.useEffectEvent=Tt;var gh={readContext:Zt,use:Wo,useCallback:function(e,n){return pa().memoizedState=[e,n===void 0?null:n],e},useContext:Zt,useEffect:ah,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Jo(4194308,4,lh.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Jo(4194308,4,e,n)},useInsertionEffect:function(e,n){Jo(4,2,e,n)},useMemo:function(e,n){var i=pa();n=n===void 0?null:n;var c=e();if(js){Te(!0);try{e()}finally{Te(!1)}}return i.memoizedState=[c,n],c},useReducer:function(e,n,i){var c=pa();if(i!==void 0){var f=i(n);if(js){Te(!0);try{i(n)}finally{Te(!1)}}}else f=n;return c.memoizedState=c.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},c.queue=e,e=e.dispatch=VN.bind(null,He,e),[c.memoizedState,e]},useRef:function(e){var n=pa();return e={current:e},n.memoizedState=e},useState:function(e){e=Kd(e);var n=e.queue,i=hh.bind(null,He,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:Zd,useDeferredValue:function(e,n){var i=pa();return Jd(i,e,n)},useTransition:function(){var e=Kd(!1);return e=dh.bind(null,He,e.queue,!0,!1),pa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var c=He,f=pa();if(Ze){if(i===void 0)throw Error(a(407));i=i()}else{if(i=n(),yt===null)throw Error(a(349));(Ke&127)!==0||Bx(c,n,i)}f.memoizedState=i;var h={value:i,getSnapshot:n};return f.queue=h,ah(Yx.bind(null,c,h,e),[e]),c.flags|=2048,ul(9,{destroy:void 0},Hx.bind(null,c,h,i,n),null),i},useId:function(){var e=pa(),n=yt.identifierPrefix;if(Ze){var i=Cn,c=Sn;i=(c&~(1<<32-De(c)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Ko++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=FN++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:tm,useFormState:Wx,useActionState:Wx,useOptimistic:function(e){var n=pa();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=am.bind(null,He,!0,i),i.dispatch=n,[e,n]},useMemoCache:Vd,useCacheRefresh:function(){return pa().memoizedState=UN.bind(null,He)},useEffectEvent:function(e){var n=pa(),i={impl:e};return n.memoizedState=i,function(){if((lt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}},nm={readContext:Zt,use:Wo,useCallback:oh,useContext:Zt,useEffect:Wd,useImperativeHandle:ih,useInsertionEffect:rh,useLayoutEffect:sh,useMemo:ch,useReducer:Zo,useRef:th,useState:function(){return Zo(nr)},useDebugValue:Zd,useDeferredValue:function(e,n){var i=It();return uh(i,xt.memoizedState,e,n)},useTransition:function(){var e=Zo(nr)[0],n=It().memoizedState;return[typeof e=="boolean"?e:yi(e),n]},useSyncExternalStore:Fx,useId:ph,useHostTransitionStatus:tm,useFormState:Zx,useActionState:Zx,useOptimistic:function(e,n){var i=It();return Ux(i,xt,e,n)},useMemoCache:Vd,useCacheRefresh:xh};nm.useEffectEvent=nh;var yh={readContext:Zt,use:Wo,useCallback:oh,useContext:Zt,useEffect:Wd,useImperativeHandle:ih,useInsertionEffect:rh,useLayoutEffect:sh,useMemo:ch,useReducer:Qd,useRef:th,useState:function(){return Qd(nr)},useDebugValue:Zd,useDeferredValue:function(e,n){var i=It();return xt===null?Jd(i,e,n):uh(i,xt.memoizedState,e,n)},useTransition:function(){var e=Qd(nr)[0],n=It().memoizedState;return[typeof e=="boolean"?e:yi(e),n]},useSyncExternalStore:Fx,useId:ph,useHostTransitionStatus:tm,useFormState:eh,useActionState:eh,useOptimistic:function(e,n){var i=It();return xt!==null?Ux(i,xt,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Vd,useCacheRefresh:xh};yh.useEffectEvent=nh;function rm(e,n,i,c){n=e.memoizedState,i=i(c,n),i=i==null?n:b({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var sm={enqueueSetState:function(e,n,i){e=e._reactInternals;var c=Ba(),f=Ir(c);f.payload=n,i!=null&&(f.callback=i),n=Lr(e,f,c),n!==null&&(Da(n,e,c),hi(n,e,c))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var c=Ba(),f=Ir(c);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=Lr(e,f,c),n!==null&&(Da(n,e,c),hi(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Ba(),c=Ir(i);c.tag=2,n!=null&&(c.callback=n),n=Lr(e,c,i),n!==null&&(Da(n,e,i),hi(n,e,i))}};function Nh(e,n,i,c,f,h,C){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,h,C):n.prototype&&n.prototype.isPureReactComponent?!oi(i,c)||!oi(f,h):!0}function jh(e,n,i,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,c),n.state!==e&&sm.enqueueReplaceState(n,n.state,null)}function ws(e,n){var i=n;if("ref"in n){i={};for(var c in n)c!=="ref"&&(i[c]=n[c])}if(e=e.defaultProps){i===n&&(i=b({},i));for(var f in e)i[f]===void 0&&(i[f]=e[f])}return i}function wh(e){Oo(e)}function Sh(e){console.error(e)}function Ch(e){Oo(e)}function ac(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function kh(e,n,i){try{var c=e.onCaughtError;c(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function lm(e,n,i){return i=Ir(i),i.tag=3,i.payload={element:null},i.callback=function(){ac(e,n)},i}function Dh(e){return e=Ir(e),e.tag=3,e}function Mh(e,n,i,c){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var h=c.value;e.payload=function(){return f(h)},e.callback=function(){kh(n,i,c)}}var C=i.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(e.callback=function(){kh(n,i,c),typeof f!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function GN(e,n,i,c,f){if(i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=i.alternate,n!==null&&al(n,i,f,!0),i=La.current,i!==null){switch(i.tag){case 31:case 13:return an===null?pc():i.alternate===null&&Et===0&&(Et=3),i.flags&=-257,i.flags|=65536,i.lanes=f,c===qo?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([c]):n.add(c),Em(e,c,f)),!1;case 22:return i.flags|=65536,c===qo?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([c]):i.add(c)),Em(e,c,f)),!1}throw Error(a(435,i.tag))}return Em(e,c,f),pc(),!1}if(Ze)return n=La.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,c!==Cd&&(e=Error(a(422),{cause:c}),di(Za(e,i)))):(c!==Cd&&(n=Error(a(423),{cause:c}),di(Za(n,i))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,c=Za(c,i),f=lm(e.stateNode,c,f),Ld(e,f),Et!==4&&(Et=2)),!1;var h=Error(a(520),{cause:c});if(h=Za(h,i),Ti===null?Ti=[h]:Ti.push(h),Et!==4&&(Et=2),n===null)return!0;c=Za(c,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=f&-f,i.lanes|=e,e=lm(i.stateNode,c,e),Ld(i,e),!1;case 1:if(n=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Yr===null||!Yr.has(h))))return i.flags|=65536,f&=-f,i.lanes|=f,f=Dh(f),Mh(f,e,i,c),Ld(i,f),!1}i=i.return}while(i!==null);return!1}var im=Error(a(461)),qt=!1;function Jt(e,n,i,c){n.child=e===null?_x(n,null,i,c):Ns(n,e.child,i,c)}function Ah(e,n,i,c,f){i=i.render;var h=n.ref;if("ref"in c){var C={};for(var E in c)E!=="ref"&&(C[E]=c[E])}else C=c;return vs(n),c=Yd(e,n,i,C,h,f),E=qd(),e!==null&&!qt?($d(e,n,f),rr(e,n,f)):(Ze&&E&&wd(n),n.flags|=1,Jt(e,n,c,f),n.child)}function Th(e,n,i,c,f){if(e===null){var h=i.type;return typeof h=="function"&&!yd(h)&&h.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=h,Eh(e,n,h,c,f)):(e=Po(i.type,null,c,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!xm(e,f)){var C=h.memoizedProps;if(i=i.compare,i=i!==null?i:oi,i(C,c)&&e.ref===n.ref)return rr(e,n,f)}return n.flags|=1,e=Zn(h,c),e.ref=n.ref,e.return=n,n.child=e}function Eh(e,n,i,c,f){if(e!==null){var h=e.memoizedProps;if(oi(h,c)&&e.ref===n.ref)if(qt=!1,n.pendingProps=c=h,xm(e,f))(e.flags&131072)!==0&&(qt=!0);else return n.lanes=e.lanes,rr(e,n,f)}return om(e,n,i,c,f)}function _h(e,n,i,c){var f=c.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~h}else c=0,n.child=null;return Oh(e,n,h,i,c)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ho(n,h!==null?h.cachePool:null),h!==null?Ix(n,h):zd(),Lx(n);else return c=n.lanes=536870912,Oh(e,n,h!==null?h.baseLanes|i:i,i,c)}else h!==null?(Ho(n,h.cachePool),Ix(n,h),zr(),n.memoizedState=null):(e!==null&&Ho(n,null),zd(),zr());return Jt(e,n,f,i),n.child}function wi(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Oh(e,n,i,c,f){var h=_d();return h=h===null?null:{parent:Ht._currentValue,pool:h},n.memoizedState={baseLanes:i,cachePool:h},e!==null&&Ho(n,null),zd(),Lx(n),e!==null&&al(e,n,c,!0),n.childLanes=f,null}function nc(e,n){return n=sc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Rh(e,n,i){return Ns(n,e.child,null,i),e=nc(n,n.pendingProps),e.flags|=2,Pa(n),n.memoizedState=null,e}function QN(e,n,i){var c=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ze){if(c.mode==="hidden")return e=nc(n,c),n.lanes=536870912,wi(null,e);if(Bd(n),(e=jt)?(e=Vv(e,tn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Tr!==null?{id:Sn,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},i=vx(e),i.return=n,n.child=i,Wt=n,jt=null)):e=null,e===null)throw _r(n);return n.lanes=536870912,null}return nc(n,c)}var h=e.memoizedState;if(h!==null){var C=h.dehydrated;if(Bd(n),f)if(n.flags&256)n.flags&=-257,n=Rh(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(qt||al(e,n,i,!1),f=(i&e.childLanes)!==0,qt||f){if(c=yt,c!==null&&(C=is(c,i),C!==0&&C!==h.retryLane))throw h.retryLane=C,fs(e,C),Da(c,e,C),im;pc(),n=Rh(e,n,i)}else e=h.treeContext,jt=nn(C.nextSibling),Wt=n,Ze=!0,Er=null,tn=!1,e!==null&&yx(n,e),n=nc(n,c),n.flags|=4096;return n}return e=Zn(e.child,{mode:c.mode,children:c.children}),e.ref=n.ref,n.child=e,e.return=n,e}function rc(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function om(e,n,i,c,f){return vs(n),i=Yd(e,n,i,c,void 0,f),c=qd(),e!==null&&!qt?($d(e,n,f),rr(e,n,f)):(Ze&&c&&wd(n),n.flags|=1,Jt(e,n,i,f),n.child)}function Ih(e,n,i,c,f,h){return vs(n),n.updateQueue=null,i=zx(n,c,i,f),Px(e),c=qd(),e!==null&&!qt?($d(e,n,h),rr(e,n,h)):(Ze&&c&&wd(n),n.flags|=1,Jt(e,n,i,h),n.child)}function Lh(e,n,i,c,f){if(vs(n),n.stateNode===null){var h=Zs,C=i.contextType;typeof C=="object"&&C!==null&&(h=Zt(C)),h=new i(c,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=sm,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=c,h.state=n.memoizedState,h.refs={},Rd(n),C=i.contextType,h.context=typeof C=="object"&&C!==null?Zt(C):Zs,h.state=n.memoizedState,C=i.getDerivedStateFromProps,typeof C=="function"&&(rm(n,i,C,c),h.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(C=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),C!==h.state&&sm.enqueueReplaceState(h,h.state,null),bi(n,c,h,f),vi(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){h=n.stateNode;var E=n.memoizedProps,F=ws(i,E);h.props=F;var W=h.context,oe=i.contextType;C=Zs,typeof oe=="object"&&oe!==null&&(C=Zt(oe));var de=i.getDerivedStateFromProps;oe=typeof de=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,oe||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||W!==C)&&jh(n,h,c,C),Rr=!1;var J=n.memoizedState;h.state=J,bi(n,c,h,f),vi(),W=n.memoizedState,E||J!==W||Rr?(typeof de=="function"&&(rm(n,i,de,c),W=n.memoizedState),(F=Rr||Nh(n,i,F,c,J,W,C))?(oe||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=W),h.props=c,h.state=W,h.context=C,c=F):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{h=n.stateNode,Id(e,n),C=n.memoizedProps,oe=ws(i,C),h.props=oe,de=n.pendingProps,J=h.context,W=i.contextType,F=Zs,typeof W=="object"&&W!==null&&(F=Zt(W)),E=i.getDerivedStateFromProps,(W=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(C!==de||J!==F)&&jh(n,h,c,F),Rr=!1,J=n.memoizedState,h.state=J,bi(n,c,h,f),vi();var ae=n.memoizedState;C!==de||J!==ae||Rr||e!==null&&e.dependencies!==null&&Fo(e.dependencies)?(typeof E=="function"&&(rm(n,i,E,c),ae=n.memoizedState),(oe=Rr||Nh(n,i,oe,c,J,ae,F)||e!==null&&e.dependencies!==null&&Fo(e.dependencies))?(W||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(c,ae,F),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(c,ae,F)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=ae),h.props=c,h.state=ae,h.context=F,c=oe):(typeof h.componentDidUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(n.flags|=1024),c=!1)}return h=c,rc(e,n),c=(n.flags&128)!==0,h||c?(h=n.stateNode,i=c&&typeof i.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&c?(n.child=Ns(n,e.child,null,f),n.child=Ns(n,null,i,f)):Jt(e,n,i,f),n.memoizedState=h.state,e=n.child):e=rr(e,n,f),e}function Ph(e,n,i,c){return xs(),n.flags|=256,Jt(e,n,i,c),n.child}var cm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function um(e){return{baseLanes:e,cachePool:kx()}}function dm(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=Fa),e}function zh(e,n,i){var c=n.pendingProps,f=!1,h=(n.flags&128)!==0,C;if((C=h)||(C=e!==null&&e.memoizedState===null?!1:(Rt.current&2)!==0),C&&(f=!0,n.flags&=-129),C=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ze){if(f?Pr(n):zr(),(e=jt)?(e=Vv(e,tn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Tr!==null?{id:Sn,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},i=vx(e),i.return=n,n.child=i,Wt=n,jt=null)):e=null,e===null)throw _r(n);return Gm(e)?n.lanes=32:n.lanes=536870912,null}var E=c.children;return c=c.fallback,f?(zr(),f=n.mode,E=sc({mode:"hidden",children:E},f),c=ps(c,f,i,null),E.return=n,c.return=n,E.sibling=c,n.child=E,c=n.child,c.memoizedState=um(i),c.childLanes=dm(e,C,i),n.memoizedState=cm,wi(null,c)):(Pr(n),mm(n,E))}var F=e.memoizedState;if(F!==null&&(E=F.dehydrated,E!==null)){if(h)n.flags&256?(Pr(n),n.flags&=-257,n=fm(e,n,i)):n.memoizedState!==null?(zr(),n.child=e.child,n.flags|=128,n=null):(zr(),E=c.fallback,f=n.mode,c=sc({mode:"visible",children:c.children},f),E=ps(E,f,i,null),E.flags|=2,c.return=n,E.return=n,c.sibling=E,n.child=c,Ns(n,e.child,null,i),c=n.child,c.memoizedState=um(i),c.childLanes=dm(e,C,i),n.memoizedState=cm,n=wi(null,c));else if(Pr(n),Gm(E)){if(C=E.nextSibling&&E.nextSibling.dataset,C)var W=C.dgst;C=W,c=Error(a(419)),c.stack="",c.digest=C,di({value:c,source:null,stack:null}),n=fm(e,n,i)}else if(qt||al(e,n,i,!1),C=(i&e.childLanes)!==0,qt||C){if(C=yt,C!==null&&(c=is(C,i),c!==0&&c!==F.retryLane))throw F.retryLane=c,fs(e,c),Da(C,e,c),im;Vm(E)||pc(),n=fm(e,n,i)}else Vm(E)?(n.flags|=192,n.child=e.child,n=null):(e=F.treeContext,jt=nn(E.nextSibling),Wt=n,Ze=!0,Er=null,tn=!1,e!==null&&yx(n,e),n=mm(n,c.children),n.flags|=4096);return n}return f?(zr(),E=c.fallback,f=n.mode,F=e.child,W=F.sibling,c=Zn(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,W!==null?E=Zn(W,E):(E=ps(E,f,i,null),E.flags|=2),E.return=n,c.return=n,c.sibling=E,n.child=c,wi(null,c),c=n.child,E=e.child.memoizedState,E===null?E=um(i):(f=E.cachePool,f!==null?(F=Ht._currentValue,f=f.parent!==F?{parent:F,pool:F}:f):f=kx(),E={baseLanes:E.baseLanes|i,cachePool:f}),c.memoizedState=E,c.childLanes=dm(e,C,i),n.memoizedState=cm,wi(e.child,c)):(Pr(n),i=e.child,e=i.sibling,i=Zn(i,{mode:"visible",children:c.children}),i.return=n,i.sibling=null,e!==null&&(C=n.deletions,C===null?(n.deletions=[e],n.flags|=16):C.push(e)),n.child=i,n.memoizedState=null,i)}function mm(e,n){return n=sc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function sc(e,n){return e=Ia(22,e,null,n),e.lanes=0,e}function fm(e,n,i){return Ns(n,e.child,null,i),e=mm(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Fh(e,n,i){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),Md(e.return,n,i)}function pm(e,n,i,c,f,h){var C=e.memoizedState;C===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:f,treeForkCount:h}:(C.isBackwards=n,C.rendering=null,C.renderingStartTime=0,C.last=c,C.tail=i,C.tailMode=f,C.treeForkCount=h)}function Bh(e,n,i){var c=n.pendingProps,f=c.revealOrder,h=c.tail;c=c.children;var C=Rt.current,E=(C&2)!==0;if(E?(C=C&1|2,n.flags|=128):C&=1,me(Rt,C),Jt(e,n,c,i),c=Ze?ui:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fh(e,i,n);else if(e.tag===19)Fh(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(i=n.child,f=null;i!==null;)e=i.alternate,e!==null&&Go(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=n.child,n.child=null):(f=i.sibling,i.sibling=null),pm(n,!1,f,i,h,c);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Go(e)===null){n.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}pm(n,!0,i,null,h,c);break;case"together":pm(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function rr(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Hr|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(al(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,i=Zn(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Zn(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function xm(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Fo(e)))}function KN(e,n,i){switch(n.tag){case 3:be(n,n.stateNode.containerInfo),Or(n,Ht,e.memoizedState.cache),xs();break;case 27:case 5:Nt(n);break;case 4:be(n,n.stateNode.containerInfo);break;case 10:Or(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Bd(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(Pr(n),n.flags|=128,null):(i&n.child.childLanes)!==0?zh(e,n,i):(Pr(n),e=rr(e,n,i),e!==null?e.sibling:null);Pr(n);break;case 19:var f=(e.flags&128)!==0;if(c=(i&n.childLanes)!==0,c||(al(e,n,i,!1),c=(i&n.childLanes)!==0),f){if(c)return Bh(e,n,i);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),me(Rt,Rt.current),c)break;return null;case 22:return n.lanes=0,_h(e,n,i,n.pendingProps);case 24:Or(n,Ht,e.memoizedState.cache)}return rr(e,n,i)}function Hh(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)qt=!0;else{if(!xm(e,i)&&(n.flags&128)===0)return qt=!1,KN(e,n,i);qt=(e.flags&131072)!==0}else qt=!1,Ze&&(n.flags&1048576)!==0&&gx(n,ui,n.index);switch(n.lanes=0,n.tag){case 16:e:{var c=n.pendingProps;if(e=gs(n.elementType),n.type=e,typeof e=="function")yd(e)?(c=ws(e,c),n.tag=1,n=Lh(null,n,e,c,i)):(n.tag=0,n=om(null,n,e,c,i));else{if(e!=null){var f=e.$$typeof;if(f===_){n.tag=11,n=Ah(null,n,e,c,i);break e}else if(f===P){n.tag=14,n=Th(null,n,e,c,i);break e}}throw n=se(e)||e,Error(a(306,n,""))}}return n;case 0:return om(e,n,n.type,n.pendingProps,i);case 1:return c=n.type,f=ws(c,n.pendingProps),Lh(e,n,c,f,i);case 3:e:{if(be(n,n.stateNode.containerInfo),e===null)throw Error(a(387));c=n.pendingProps;var h=n.memoizedState;f=h.element,Id(e,n),bi(n,c,null,i);var C=n.memoizedState;if(c=C.cache,Or(n,Ht,c),c!==h.cache&&Ad(n,[Ht],i,!0),vi(),c=C.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:C.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Ph(e,n,c,i);break e}else if(c!==f){f=Za(Error(a(424)),n),di(f),n=Ph(e,n,c,i);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,jt=nn(e.firstChild),Wt=n,Ze=!0,Er=null,tn=!0,i=_x(n,null,c,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(xs(),c===f){n=rr(e,n,i);break e}Jt(e,n,c,i)}n=n.child}return n;case 26:return rc(e,n),e===null?(i=Zv(n.type,null,n.pendingProps,null))?n.memoizedState=i:Ze||(i=n.type,e=n.pendingProps,c=Nc(xe.current).createElement(i),c[Vt]=n,c[ia]=e,ea(c,i,e),tt(c),n.stateNode=c):n.memoizedState=Zv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Nt(n),e===null&&Ze&&(c=n.stateNode=Kv(n.type,n.pendingProps,xe.current),Wt=n,tn=!0,f=jt,Vr(n.type)?(Qm=f,jt=nn(c.firstChild)):jt=f),Jt(e,n,n.pendingProps.children,i),rc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ze&&((f=c=jt)&&(c=Cj(c,n.type,n.pendingProps,tn),c!==null?(n.stateNode=c,Wt=n,jt=nn(c.firstChild),tn=!1,f=!0):f=!1),f||_r(n)),Nt(n),f=n.type,h=n.pendingProps,C=e!==null?e.memoizedProps:null,c=h.children,qm(f,h)?c=null:C!==null&&qm(f,C)&&(n.flags|=32),n.memoizedState!==null&&(f=Yd(e,n,BN,null,null,i),zi._currentValue=f),rc(e,n),Jt(e,n,c,i),n.child;case 6:return e===null&&Ze&&((e=i=jt)&&(i=kj(i,n.pendingProps,tn),i!==null?(n.stateNode=i,Wt=n,jt=null,e=!0):e=!1),e||_r(n)),null;case 13:return zh(e,n,i);case 4:return be(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=Ns(n,null,c,i):Jt(e,n,c,i),n.child;case 11:return Ah(e,n,n.type,n.pendingProps,i);case 7:return Jt(e,n,n.pendingProps,i),n.child;case 8:return Jt(e,n,n.pendingProps.children,i),n.child;case 12:return Jt(e,n,n.pendingProps.children,i),n.child;case 10:return c=n.pendingProps,Or(n,n.type,c.value),Jt(e,n,c.children,i),n.child;case 9:return f=n.type._context,c=n.pendingProps.children,vs(n),f=Zt(f),c=c(f),n.flags|=1,Jt(e,n,c,i),n.child;case 14:return Th(e,n,n.type,n.pendingProps,i);case 15:return Eh(e,n,n.type,n.pendingProps,i);case 19:return Bh(e,n,i);case 31:return QN(e,n,i);case 22:return _h(e,n,i,n.pendingProps);case 24:return vs(n),c=Zt(Ht),e===null?(f=_d(),f===null&&(f=yt,h=Td(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=i),f=h),n.memoizedState={parent:c,cache:f},Rd(n),Or(n,Ht,f)):((e.lanes&i)!==0&&(Id(e,n),bi(n,null,null,i),vi()),f=e.memoizedState,h=n.memoizedState,f.parent!==c?(f={parent:c,cache:c},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Or(n,Ht,c)):(c=h.cache,Or(n,Ht,c),c!==f.cache&&Ad(n,[Ht],i,!0))),Jt(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function sr(e){e.flags|=4}function hm(e,n,i,c,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(pv())e.flags|=8192;else throw ys=qo,Od}else e.flags&=-16777217}function Yh(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!n0(n))if(pv())e.flags|=8192;else throw ys=qo,Od}function lc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ge():536870912,e.lanes|=n,pl|=n)}function Si(e,n){if(!Ze)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function wt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,c=0;if(n)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=i,n}function XN(e,n,i){var c=n.pendingProps;switch(Sd(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(n),null;case 1:return wt(n),null;case 3:return i=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),tr(Ht),_e(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(tl(n)?sr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,kd())),wt(n),null;case 26:var f=n.type,h=n.memoizedState;return e===null?(sr(n),h!==null?(wt(n),Yh(n,h)):(wt(n),hm(n,f,null,c,i))):h?h!==e.memoizedState?(sr(n),wt(n),Yh(n,h)):(wt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==c&&sr(n),wt(n),hm(n,f,e,c,i)),null;case 27:if(Ot(n),i=xe.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&sr(n);else{if(!c){if(n.stateNode===null)throw Error(a(166));return wt(n),null}e=he.current,tl(n)?Nx(n):(e=Kv(f,c,i),n.stateNode=e,sr(n))}return wt(n),null;case 5:if(Ot(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&sr(n);else{if(!c){if(n.stateNode===null)throw Error(a(166));return wt(n),null}if(h=he.current,tl(n))Nx(n);else{var C=Nc(xe.current);switch(h){case 1:h=C.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=C.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=C.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=C.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=C.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof c.is=="string"?C.createElement("select",{is:c.is}):C.createElement("select"),c.multiple?h.multiple=!0:c.size&&(h.size=c.size);break;default:h=typeof c.is=="string"?C.createElement(f,{is:c.is}):C.createElement(f)}}h[Vt]=n,h[ia]=c;e:for(C=n.child;C!==null;){if(C.tag===5||C.tag===6)h.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===n)break e;for(;C.sibling===null;){if(C.return===null||C.return===n)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}n.stateNode=h;e:switch(ea(h,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&sr(n)}}return wt(n),hm(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&sr(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(a(166));if(e=xe.current,tl(n)){if(e=n.stateNode,i=n.memoizedProps,c=null,f=Wt,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}e[Vt]=n,e=!!(e.nodeValue===i||c!==null&&c.suppressHydrationWarning===!0||zv(e.nodeValue,i)),e||_r(n,!0)}else e=Nc(e).createTextNode(c),e[Vt]=n,n.stateNode=e}return wt(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(c=tl(n),i!==null){if(e===null){if(!c)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Vt]=n}else xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;wt(n),e=!1}else i=kd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(Pa(n),n):(Pa(n),null);if((n.flags&128)!==0)throw Error(a(558))}return wt(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=tl(n),c!==null&&c.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Vt]=n}else xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;wt(n),f=!1}else f=kd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Pa(n),n):(Pa(n),null)}return Pa(n),(n.flags&128)!==0?(n.lanes=i,n):(i=c!==null,e=e!==null&&e.memoizedState!==null,i&&(c=n.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),h=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),h!==f&&(c.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),lc(n,n.updateQueue),wt(n),null);case 4:return _e(),e===null&&zm(n.stateNode.containerInfo),wt(n),null;case 10:return tr(n.type),wt(n),null;case 19:if(te(Rt),c=n.memoizedState,c===null)return wt(n),null;if(f=(n.flags&128)!==0,h=c.rendering,h===null)if(f)Si(c,!1);else{if(Et!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Go(e),h!==null){for(n.flags|=128,Si(c,!1),e=h.updateQueue,n.updateQueue=e,lc(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)hx(i,e),i=i.sibling;return me(Rt,Rt.current&1|2),Ze&&Jn(n,c.treeForkCount),n.child}e=e.sibling}c.tail!==null&&Ft()>dc&&(n.flags|=128,f=!0,Si(c,!1),n.lanes=4194304)}else{if(!f)if(e=Go(h),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,lc(n,e),Si(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Ze)return wt(n),null}else 2*Ft()-c.renderingStartTime>dc&&i!==536870912&&(n.flags|=128,f=!0,Si(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(e=c.last,e!==null?e.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Ft(),e.sibling=null,i=Rt.current,me(Rt,f?i&1|2:i&1),Ze&&Jn(n,c.treeForkCount),e):(wt(n),null);case 22:case 23:return Pa(n),Fd(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(i&536870912)!==0&&(n.flags&128)===0&&(wt(n),n.subtreeFlags&6&&(n.flags|=8192)):wt(n),i=n.updateQueue,i!==null&&lc(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==i&&(n.flags|=2048),e!==null&&te(bs),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),tr(Ht),wt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function WN(e,n){switch(Sd(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return tr(Ht),_e(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ot(n),null;case 31:if(n.memoizedState!==null){if(Pa(n),n.alternate===null)throw Error(a(340));xs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Pa(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));xs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return te(Rt),null;case 4:return _e(),null;case 10:return tr(n.type),null;case 22:case 23:return Pa(n),Fd(),e!==null&&te(bs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return tr(Ht),null;case 25:return null;default:return null}}function qh(e,n){switch(Sd(n),n.tag){case 3:tr(Ht),_e();break;case 26:case 27:case 5:Ot(n);break;case 4:_e();break;case 31:n.memoizedState!==null&&Pa(n);break;case 13:Pa(n);break;case 19:te(Rt);break;case 10:tr(n.type);break;case 22:case 23:Pa(n),Fd(),e!==null&&te(bs);break;case 24:tr(Ht)}}function Ci(e,n){try{var i=n.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var f=c.next;i=f;do{if((i.tag&e)===e){c=void 0;var h=i.create,C=i.inst;c=h(),C.destroy=c}i=i.next}while(i!==f)}}catch(E){dt(n,n.return,E)}}function Fr(e,n,i){try{var c=n.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var h=f.next;c=h;do{if((c.tag&e)===e){var C=c.inst,E=C.destroy;if(E!==void 0){C.destroy=void 0,f=n;var F=i,W=E;try{W()}catch(oe){dt(f,F,oe)}}}c=c.next}while(c!==h)}}catch(oe){dt(n,n.return,oe)}}function $h(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{Rx(n,i)}catch(c){dt(e,e.return,c)}}}function Uh(e,n,i){i.props=ws(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(c){dt(e,n,c)}}function ki(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof i=="function"?e.refCleanup=i(c):i.current=c}}catch(f){dt(e,n,f)}}function kn(e,n){var i=e.ref,c=e.refCleanup;if(i!==null)if(typeof c=="function")try{c()}catch(f){dt(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){dt(e,n,f)}else i.current=null}function Vh(e){var n=e.type,i=e.memoizedProps,c=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&c.focus();break e;case"img":i.src?c.src=i.src:i.srcSet&&(c.srcset=i.srcSet)}}catch(f){dt(e,e.return,f)}}function vm(e,n,i){try{var c=e.stateNode;gj(c,e.type,i,n),c[ia]=n}catch(f){dt(e,e.return,f)}}function Gh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vr(e.type)||e.tag===4}function bm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gm(e,n,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Xn));else if(c!==4&&(c===27&&Vr(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(gm(e,n,i),e=e.sibling;e!==null;)gm(e,n,i),e=e.sibling}function ic(e,n,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(c!==4&&(c===27&&Vr(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ic(e,n,i),e=e.sibling;e!==null;)ic(e,n,i),e=e.sibling}function Qh(e){var n=e.stateNode,i=e.memoizedProps;try{for(var c=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);ea(n,c,i),n[Vt]=e,n[ia]=i}catch(h){dt(e,e.return,h)}}var lr=!1,$t=!1,ym=!1,Kh=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function ZN(e,n){if(e=e.containerInfo,Hm=Mc,e=ix(e),fd(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var f=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var C=0,E=-1,F=-1,W=0,oe=0,de=e,J=null;t:for(;;){for(var ae;de!==i||f!==0&&de.nodeType!==3||(E=C+f),de!==h||c!==0&&de.nodeType!==3||(F=C+c),de.nodeType===3&&(C+=de.nodeValue.length),(ae=de.firstChild)!==null;)J=de,de=ae;for(;;){if(de===e)break t;if(J===i&&++W===f&&(E=C),J===h&&++oe===c&&(F=C),(ae=de.nextSibling)!==null)break;de=J,J=de.parentNode}de=ae}i=E===-1||F===-1?null:{start:E,end:F}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ym={focusedElem:e,selectionRange:i},Mc=!1,Xt=n;Xt!==null;)if(n=Xt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Xt=e;else for(;Xt!==null;){switch(n=Xt,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)f=e[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=n,f=h.memoizedProps,h=h.memoizedState,c=i.stateNode;try{var ke=ws(i.type,f);e=c.getSnapshotBeforeUpdate(ke,h),c.__reactInternalSnapshotBeforeUpdate=e}catch(Re){dt(i,i.return,Re)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Um(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Um(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Xt=e;break}Xt=n.return}}function Xh(e,n,i){var c=i.flags;switch(i.tag){case 0:case 11:case 15:or(e,i),c&4&&Ci(5,i);break;case 1:if(or(e,i),c&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(C){dt(i,i.return,C)}else{var f=ws(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(C){dt(i,i.return,C)}}c&64&&$h(i),c&512&&ki(i,i.return);break;case 3:if(or(e,i),c&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Rx(e,n)}catch(C){dt(i,i.return,C)}}break;case 27:n===null&&c&4&&Qh(i);case 26:case 5:or(e,i),n===null&&c&4&&Vh(i),c&512&&ki(i,i.return);break;case 12:or(e,i);break;case 31:or(e,i),c&4&&Jh(e,i);break;case 13:or(e,i),c&4&&ev(e,i),c&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=ij.bind(null,i),Dj(e,i))));break;case 22:if(c=i.memoizedState!==null||lr,!c){n=n!==null&&n.memoizedState!==null||$t,f=lr;var h=$t;lr=c,($t=n)&&!h?cr(e,i,(i.subtreeFlags&8772)!==0):or(e,i),lr=f,$t=h}break;case 30:break;default:or(e,i)}}function Wh(e){var n=e.alternate;n!==null&&(e.alternate=null,Wh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ei(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var kt=null,wa=!1;function ir(e,n,i){for(i=i.child;i!==null;)Zh(e,n,i),i=i.sibling}function Zh(e,n,i){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(ue,i)}catch{}switch(i.tag){case 26:$t||kn(i,n),ir(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:$t||kn(i,n);var c=kt,f=wa;Vr(i.type)&&(kt=i.stateNode,wa=!1),ir(e,n,i),Ii(i.stateNode),kt=c,wa=f;break;case 5:$t||kn(i,n);case 6:if(c=kt,f=wa,kt=null,ir(e,n,i),kt=c,wa=f,kt!==null)if(wa)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(i.stateNode)}catch(h){dt(i,n,h)}else try{kt.removeChild(i.stateNode)}catch(h){dt(i,n,h)}break;case 18:kt!==null&&(wa?(e=kt,$v(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),jl(e)):$v(kt,i.stateNode));break;case 4:c=kt,f=wa,kt=i.stateNode.containerInfo,wa=!0,ir(e,n,i),kt=c,wa=f;break;case 0:case 11:case 14:case 15:Fr(2,i,n),$t||Fr(4,i,n),ir(e,n,i);break;case 1:$t||(kn(i,n),c=i.stateNode,typeof c.componentWillUnmount=="function"&&Uh(i,n,c)),ir(e,n,i);break;case 21:ir(e,n,i);break;case 22:$t=(c=$t)||i.memoizedState!==null,ir(e,n,i),$t=c;break;default:ir(e,n,i)}}function Jh(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{jl(e)}catch(i){dt(n,n.return,i)}}}function ev(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{jl(e)}catch(i){dt(n,n.return,i)}}function JN(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Kh),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Kh),n;default:throw Error(a(435,e.tag))}}function oc(e,n){var i=JN(e);n.forEach(function(c){if(!i.has(c)){i.add(c);var f=oj.bind(null,e,c);c.then(f,f)}})}function Sa(e,n){var i=n.deletions;if(i!==null)for(var c=0;c<i.length;c++){var f=i[c],h=e,C=n,E=C;e:for(;E!==null;){switch(E.tag){case 27:if(Vr(E.type)){kt=E.stateNode,wa=!1;break e}break;case 5:kt=E.stateNode,wa=!1;break e;case 3:case 4:kt=E.stateNode.containerInfo,wa=!0;break e}E=E.return}if(kt===null)throw Error(a(160));Zh(h,C,f),kt=null,wa=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)tv(n,e),n=n.sibling}var fn=null;function tv(e,n){var i=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Sa(n,e),Ca(e),c&4&&(Fr(3,e,e.return),Ci(3,e),Fr(5,e,e.return));break;case 1:Sa(n,e),Ca(e),c&512&&($t||i===null||kn(i,i.return)),c&64&&lr&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?c:i.concat(c))));break;case 26:var f=fn;if(Sa(n,e),Ca(e),c&512&&($t||i===null||kn(i,i.return)),c&4){var h=i!==null?i.memoizedState:null;if(c=e.memoizedState,i===null)if(c===null)if(e.stateNode===null){e:{c=e.type,i=e.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":h=f.getElementsByTagName("title")[0],(!h||h[os]||h[Vt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(c),f.head.insertBefore(h,f.querySelector("head > title"))),ea(h,c,i),h[Vt]=e,tt(h),c=h;break e;case"link":var C=t0("link","href",f).get(c+(i.href||""));if(C){for(var E=0;E<C.length;E++)if(h=C[E],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){C.splice(E,1);break t}}h=f.createElement(c),ea(h,c,i),f.head.appendChild(h);break;case"meta":if(C=t0("meta","content",f).get(c+(i.content||""))){for(E=0;E<C.length;E++)if(h=C[E],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){C.splice(E,1);break t}}h=f.createElement(c),ea(h,c,i),f.head.appendChild(h);break;default:throw Error(a(468,c))}h[Vt]=e,tt(h),c=h}e.stateNode=c}else a0(f,e.type,e.stateNode);else e.stateNode=e0(f,c,e.memoizedProps);else h!==c?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,c===null?a0(f,e.type,e.stateNode):e0(f,c,e.memoizedProps)):c===null&&e.stateNode!==null&&vm(e,e.memoizedProps,i.memoizedProps)}break;case 27:Sa(n,e),Ca(e),c&512&&($t||i===null||kn(i,i.return)),i!==null&&c&4&&vm(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Sa(n,e),Ca(e),c&512&&($t||i===null||kn(i,i.return)),e.flags&32){f=e.stateNode;try{Us(f,"")}catch(ke){dt(e,e.return,ke)}}c&4&&e.stateNode!=null&&(f=e.memoizedProps,vm(e,f,i!==null?i.memoizedProps:f)),c&1024&&(ym=!0);break;case 6:if(Sa(n,e),Ca(e),c&4){if(e.stateNode===null)throw Error(a(162));c=e.memoizedProps,i=e.stateNode;try{i.nodeValue=c}catch(ke){dt(e,e.return,ke)}}break;case 3:if(Sc=null,f=fn,fn=jc(n.containerInfo),Sa(n,e),fn=f,Ca(e),c&4&&i!==null&&i.memoizedState.isDehydrated)try{jl(n.containerInfo)}catch(ke){dt(e,e.return,ke)}ym&&(ym=!1,av(e));break;case 4:c=fn,fn=jc(e.stateNode.containerInfo),Sa(n,e),Ca(e),fn=c;break;case 12:Sa(n,e),Ca(e);break;case 31:Sa(n,e),Ca(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,oc(e,c)));break;case 13:Sa(n,e),Ca(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(uc=Ft()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,oc(e,c)));break;case 22:f=e.memoizedState!==null;var F=i!==null&&i.memoizedState!==null,W=lr,oe=$t;if(lr=W||f,$t=oe||F,Sa(n,e),$t=oe,lr=W,Ca(e),c&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(i===null||F||lr||$t||Ss(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){F=i=n;try{if(h=F.stateNode,f)C=h.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{E=F.stateNode;var de=F.memoizedProps.style,J=de!=null&&de.hasOwnProperty("display")?de.display:null;E.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ke){dt(F,F.return,ke)}}}else if(n.tag===6){if(i===null){F=n;try{F.stateNode.nodeValue=f?"":F.memoizedProps}catch(ke){dt(F,F.return,ke)}}}else if(n.tag===18){if(i===null){F=n;try{var ae=F.stateNode;f?Uv(ae,!0):Uv(F.stateNode,!1)}catch(ke){dt(F,F.return,ke)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(i=c.retryQueue,i!==null&&(c.retryQueue=null,oc(e,i))));break;case 19:Sa(n,e),Ca(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,oc(e,c)));break;case 30:break;case 21:break;default:Sa(n,e),Ca(e)}}function Ca(e){var n=e.flags;if(n&2){try{for(var i,c=e.return;c!==null;){if(Gh(c)){i=c;break}c=c.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var f=i.stateNode,h=bm(e);ic(e,h,f);break;case 5:var C=i.stateNode;i.flags&32&&(Us(C,""),i.flags&=-33);var E=bm(e);ic(e,E,C);break;case 3:case 4:var F=i.stateNode.containerInfo,W=bm(e);gm(e,W,F);break;default:throw Error(a(161))}}catch(oe){dt(e,e.return,oe)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function av(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;av(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function or(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xh(e,n.alternate,n),n=n.sibling}function Ss(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Fr(4,n,n.return),Ss(n);break;case 1:kn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Uh(n,n.return,i),Ss(n);break;case 27:Ii(n.stateNode);case 26:case 5:kn(n,n.return),Ss(n);break;case 22:n.memoizedState===null&&Ss(n);break;case 30:Ss(n);break;default:Ss(n)}e=e.sibling}}function cr(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,f=e,h=n,C=h.flags;switch(h.tag){case 0:case 11:case 15:cr(f,h,i),Ci(4,h);break;case 1:if(cr(f,h,i),c=h,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(W){dt(c,c.return,W)}if(c=h,f=c.updateQueue,f!==null){var E=c.stateNode;try{var F=f.shared.hiddenCallbacks;if(F!==null)for(f.shared.hiddenCallbacks=null,f=0;f<F.length;f++)Ox(F[f],E)}catch(W){dt(c,c.return,W)}}i&&C&64&&$h(h),ki(h,h.return);break;case 27:Qh(h);case 26:case 5:cr(f,h,i),i&&c===null&&C&4&&Vh(h),ki(h,h.return);break;case 12:cr(f,h,i);break;case 31:cr(f,h,i),i&&C&4&&Jh(f,h);break;case 13:cr(f,h,i),i&&C&4&&ev(f,h);break;case 22:h.memoizedState===null&&cr(f,h,i),ki(h,h.return);break;case 30:break;default:cr(f,h,i)}n=n.sibling}}function Nm(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&mi(i))}function jm(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&mi(e))}function pn(e,n,i,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)nv(e,n,i,c),n=n.sibling}function nv(e,n,i,c){var f=n.flags;switch(n.tag){case 0:case 11:case 15:pn(e,n,i,c),f&2048&&Ci(9,n);break;case 1:pn(e,n,i,c);break;case 3:pn(e,n,i,c),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&mi(e)));break;case 12:if(f&2048){pn(e,n,i,c),e=n.stateNode;try{var h=n.memoizedProps,C=h.id,E=h.onPostCommit;typeof E=="function"&&E(C,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(F){dt(n,n.return,F)}}else pn(e,n,i,c);break;case 31:pn(e,n,i,c);break;case 13:pn(e,n,i,c);break;case 23:break;case 22:h=n.stateNode,C=n.alternate,n.memoizedState!==null?h._visibility&2?pn(e,n,i,c):Di(e,n):h._visibility&2?pn(e,n,i,c):(h._visibility|=2,dl(e,n,i,c,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Nm(C,n);break;case 24:pn(e,n,i,c),f&2048&&jm(n.alternate,n);break;default:pn(e,n,i,c)}}function dl(e,n,i,c,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,C=n,E=i,F=c,W=C.flags;switch(C.tag){case 0:case 11:case 15:dl(h,C,E,F,f),Ci(8,C);break;case 23:break;case 22:var oe=C.stateNode;C.memoizedState!==null?oe._visibility&2?dl(h,C,E,F,f):Di(h,C):(oe._visibility|=2,dl(h,C,E,F,f)),f&&W&2048&&Nm(C.alternate,C);break;case 24:dl(h,C,E,F,f),f&&W&2048&&jm(C.alternate,C);break;default:dl(h,C,E,F,f)}n=n.sibling}}function Di(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,c=n,f=c.flags;switch(c.tag){case 22:Di(i,c),f&2048&&Nm(c.alternate,c);break;case 24:Di(i,c),f&2048&&jm(c.alternate,c);break;default:Di(i,c)}n=n.sibling}}var Mi=8192;function ml(e,n,i){if(e.subtreeFlags&Mi)for(e=e.child;e!==null;)rv(e,n,i),e=e.sibling}function rv(e,n,i){switch(e.tag){case 26:ml(e,n,i),e.flags&Mi&&e.memoizedState!==null&&Fj(i,fn,e.memoizedState,e.memoizedProps);break;case 5:ml(e,n,i);break;case 3:case 4:var c=fn;fn=jc(e.stateNode.containerInfo),ml(e,n,i),fn=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Mi,Mi=16777216,ml(e,n,i),Mi=c):ml(e,n,i));break;default:ml(e,n,i)}}function sv(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ai(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var c=n[i];Xt=c,iv(c,e)}sv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)lv(e),e=e.sibling}function lv(e){switch(e.tag){case 0:case 11:case 15:Ai(e),e.flags&2048&&Fr(9,e,e.return);break;case 3:Ai(e);break;case 12:Ai(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,cc(e)):Ai(e);break;default:Ai(e)}}function cc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var c=n[i];Xt=c,iv(c,e)}sv(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Fr(8,n,n.return),cc(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,cc(n));break;default:cc(n)}e=e.sibling}}function iv(e,n){for(;Xt!==null;){var i=Xt;switch(i.tag){case 0:case 11:case 15:Fr(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var c=i.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:mi(i.memoizedState.cache)}if(c=i.child,c!==null)c.return=i,Xt=c;else e:for(i=e;Xt!==null;){c=Xt;var f=c.sibling,h=c.return;if(Wh(c),c===i){Xt=null;break e}if(f!==null){f.return=h,Xt=f;break e}Xt=h}}}var ej={getCacheForType:function(e){var n=Zt(Ht),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return Zt(Ht).controller.signal}},tj=typeof WeakMap=="function"?WeakMap:Map,lt=0,yt=null,Ue=null,Ke=0,ut=0,za=null,Br=!1,fl=!1,wm=!1,ur=0,Et=0,Hr=0,Cs=0,Sm=0,Fa=0,pl=0,Ti=null,ka=null,Cm=!1,uc=0,ov=0,dc=1/0,mc=null,Yr=null,Gt=0,qr=null,xl=null,dr=0,km=0,Dm=null,cv=null,Ei=0,Mm=null;function Ba(){return(lt&2)!==0&&Ke!==0?Ke&-Ke:B.T!==null?Rm():go()}function uv(){if(Fa===0)if((Ke&536870912)===0||Ze){var e=pt;pt<<=1,(pt&3932160)===0&&(pt=262144),Fa=e}else Fa=536870912;return e=La.current,e!==null&&(e.flags|=32),Fa}function Da(e,n,i){(e===yt&&(ut===2||ut===9)||e.cancelPendingCommit!==null)&&(hl(e,0),$r(e,Ke,Fa,!1)),Ga(e,i),((lt&2)===0||e!==yt)&&(e===yt&&((lt&2)===0&&(Cs|=i),Et===4&&$r(e,Ke,Fa,!1)),Dn(e))}function dv(e,n,i){if((lt&6)!==0)throw Error(a(327));var c=!i&&(n&127)===0&&(n&e.expiredLanes)===0||dn(e,n),f=c?rj(e,n):Tm(e,n,!0),h=c;do{if(f===0){fl&&!c&&$r(e,n,0,!1);break}else{if(i=e.current.alternate,h&&!aj(i)){f=Tm(e,n,!1),h=!1;continue}if(f===2){if(h=n,e.errorRecoveryDisabledLanes&h)var C=0;else C=e.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){n=C;e:{var E=e;f=Ti;var F=E.current.memoizedState.isDehydrated;if(F&&(hl(E,C).flags|=256),C=Tm(E,C,!1),C!==2){if(wm&&!F){E.errorRecoveryDisabledLanes|=h,Cs|=h,f=4;break e}h=ka,ka=f,h!==null&&(ka===null?ka=h:ka.push.apply(ka,h))}f=C}if(h=!1,f!==2)continue}}if(f===1){hl(e,0),$r(e,n,0,!0);break}e:{switch(c=e,h=f,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:$r(c,n,Fa,!Br);break e;case 2:ka=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=uc+300-Ft(),10<f)){if($r(c,n,Fa,!Br),ga(c,0,!0)!==0)break e;dr=n,c.timeoutHandle=Yv(mv.bind(null,c,i,ka,mc,Cm,n,Fa,Cs,pl,Br,h,"Throttled",-0,0),f);break e}mv(c,i,ka,mc,Cm,n,Fa,Cs,pl,Br,h,null,-0,0)}}break}while(!0);Dn(e)}function mv(e,n,i,c,f,h,C,E,F,W,oe,de,J,ae){if(e.timeoutHandle=-1,de=n.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},rv(n,h,de);var ke=(h&62914560)===h?uc-Ft():(h&4194048)===h?ov-Ft():0;if(ke=Bj(de,ke),ke!==null){dr=h,e.cancelPendingCommit=ke(yv.bind(null,e,n,h,i,c,f,C,E,F,oe,de,null,J,ae)),$r(e,h,C,!W);return}}yv(e,n,h,i,c,f,C,E,F)}function aj(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var c=0;c<i.length;c++){var f=i[c],h=f.getSnapshot;f=f.value;try{if(!Ra(h(),f))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function $r(e,n,i,c){n&=~Sm,n&=~Cs,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var f=n;0<f;){var h=31-De(f),C=1<<h;c[h]=-1,f&=~C}i!==0&&Vn(e,i,n)}function fc(){return(lt&6)===0?(_i(0),!1):!0}function Am(){if(Ue!==null){if(ut===0)var e=Ue.return;else e=Ue,er=hs=null,Ud(e),ll=null,pi=0,e=Ue;for(;e!==null;)qh(e.alternate,e),e=e.return;Ue=null}}function hl(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,jj(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),dr=0,Am(),yt=e,Ue=i=Zn(e.current,null),Ke=n,ut=0,za=null,Br=!1,fl=dn(e,n),wm=!1,pl=Fa=Sm=Cs=Hr=Et=0,ka=Ti=null,Cm=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var f=31-De(c),h=1<<f;n|=e[f],c&=~h}return ur=n,Ro(),i}function fv(e,n){He=null,B.H=ji,n===sl||n===Yo?(n=Ax(),ut=3):n===Od?(n=Ax(),ut=4):ut=n===im?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,za=n,Ue===null&&(Et=1,ac(e,Za(n,e.current)))}function pv(){var e=La.current;return e===null?!0:(Ke&4194048)===Ke?an===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?e===an:!1}function xv(){var e=B.H;return B.H=ji,e===null?ji:e}function hv(){var e=B.A;return B.A=ej,e}function pc(){Et=4,Br||(Ke&4194048)!==Ke&&La.current!==null||(fl=!0),(Hr&134217727)===0&&(Cs&134217727)===0||yt===null||$r(yt,Ke,Fa,!1)}function Tm(e,n,i){var c=lt;lt|=2;var f=xv(),h=hv();(yt!==e||Ke!==n)&&(mc=null,hl(e,n)),n=!1;var C=Et;e:do try{if(ut!==0&&Ue!==null){var E=Ue,F=za;switch(ut){case 8:Am(),C=6;break e;case 3:case 2:case 9:case 6:La.current===null&&(n=!0);var W=ut;if(ut=0,za=null,vl(e,E,F,W),i&&fl){C=0;break e}break;default:W=ut,ut=0,za=null,vl(e,E,F,W)}}nj(),C=Et;break}catch(oe){fv(e,oe)}while(!0);return n&&e.shellSuspendCounter++,er=hs=null,lt=c,B.H=f,B.A=h,Ue===null&&(yt=null,Ke=0,Ro()),C}function nj(){for(;Ue!==null;)vv(Ue)}function rj(e,n){var i=lt;lt|=2;var c=xv(),f=hv();yt!==e||Ke!==n?(mc=null,dc=Ft()+500,hl(e,n)):fl=dn(e,n);e:do try{if(ut!==0&&Ue!==null){n=Ue;var h=za;t:switch(ut){case 1:ut=0,za=null,vl(e,n,h,1);break;case 2:case 9:if(Dx(h)){ut=0,za=null,bv(n);break}n=function(){ut!==2&&ut!==9||yt!==e||(ut=7),Dn(e)},h.then(n,n);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:Dx(h)?(ut=0,za=null,bv(n)):(ut=0,za=null,vl(e,n,h,7));break;case 5:var C=null;switch(Ue.tag){case 26:C=Ue.memoizedState;case 5:case 27:var E=Ue;if(C?n0(C):E.stateNode.complete){ut=0,za=null;var F=E.sibling;if(F!==null)Ue=F;else{var W=E.return;W!==null?(Ue=W,xc(W)):Ue=null}break t}}ut=0,za=null,vl(e,n,h,5);break;case 6:ut=0,za=null,vl(e,n,h,6);break;case 8:Am(),Et=6;break e;default:throw Error(a(462))}}sj();break}catch(oe){fv(e,oe)}while(!0);return er=hs=null,B.H=c,B.A=f,lt=i,Ue!==null?0:(yt=null,Ke=0,Ro(),Et)}function sj(){for(;Ue!==null&&!la();)vv(Ue)}function vv(e){var n=Hh(e.alternate,e,ur);e.memoizedProps=e.pendingProps,n===null?xc(e):Ue=n}function bv(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=Ih(i,n,n.pendingProps,n.type,void 0,Ke);break;case 11:n=Ih(i,n,n.pendingProps,n.type.render,n.ref,Ke);break;case 5:Ud(n);default:qh(i,n),n=Ue=hx(n,ur),n=Hh(i,n,ur)}e.memoizedProps=e.pendingProps,n===null?xc(e):Ue=n}function vl(e,n,i,c){er=hs=null,Ud(n),ll=null,pi=0;var f=n.return;try{if(GN(e,f,n,i,Ke)){Et=1,ac(e,Za(i,e.current)),Ue=null;return}}catch(h){if(f!==null)throw Ue=f,h;Et=1,ac(e,Za(i,e.current)),Ue=null;return}n.flags&32768?(Ze||c===1?e=!0:fl||(Ke&536870912)!==0?e=!1:(Br=e=!0,(c===2||c===9||c===3||c===6)&&(c=La.current,c!==null&&c.tag===13&&(c.flags|=16384))),gv(n,e)):xc(n)}function xc(e){var n=e;do{if((n.flags&32768)!==0){gv(n,Br);return}e=n.return;var i=XN(n.alternate,n,ur);if(i!==null){Ue=i;return}if(n=n.sibling,n!==null){Ue=n;return}Ue=n=e}while(n!==null);Et===0&&(Et=5)}function gv(e,n){do{var i=WN(e.alternate,e);if(i!==null){i.flags&=32767,Ue=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Ue=e;return}Ue=e=i}while(e!==null);Et=6,Ue=null}function yv(e,n,i,c,f,h,C,E,F){e.cancelPendingCommit=null;do hc();while(Gt!==0);if((lt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=bd,Un(e,i,h,C,E,F),e===yt&&(Ue=yt=null,Ke=0),xl=n,qr=e,dr=i,km=h,Dm=f,cv=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,cj(U,function(){return Cv(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=B.T,B.T=null,f=K.p,K.p=2,C=lt,lt|=4;try{ZN(e,n,i)}finally{lt=C,K.p=f,B.T=c}}Gt=1,Nv(),jv(),wv()}}function Nv(){if(Gt===1){Gt=0;var e=qr,n=xl,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=B.T,B.T=null;var c=K.p;K.p=2;var f=lt;lt|=4;try{tv(n,e);var h=Ym,C=ix(e.containerInfo),E=h.focusedElem,F=h.selectionRange;if(C!==E&&E&&E.ownerDocument&&lx(E.ownerDocument.documentElement,E)){if(F!==null&&fd(E)){var W=F.start,oe=F.end;if(oe===void 0&&(oe=W),"selectionStart"in E)E.selectionStart=W,E.selectionEnd=Math.min(oe,E.value.length);else{var de=E.ownerDocument||document,J=de&&de.defaultView||window;if(J.getSelection){var ae=J.getSelection(),ke=E.textContent.length,Re=Math.min(F.start,ke),vt=F.end===void 0?Re:Math.min(F.end,ke);!ae.extend&&Re>vt&&(C=vt,vt=Re,Re=C);var V=sx(E,Re),$=sx(E,vt);if(V&&$&&(ae.rangeCount!==1||ae.anchorNode!==V.node||ae.anchorOffset!==V.offset||ae.focusNode!==$.node||ae.focusOffset!==$.offset)){var X=de.createRange();X.setStart(V.node,V.offset),ae.removeAllRanges(),Re>vt?(ae.addRange(X),ae.extend($.node,$.offset)):(X.setEnd($.node,$.offset),ae.addRange(X))}}}}for(de=[],ae=E;ae=ae.parentNode;)ae.nodeType===1&&de.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<de.length;E++){var ce=de[E];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Mc=!!Hm,Ym=Hm=null}finally{lt=f,K.p=c,B.T=i}}e.current=n,Gt=2}}function jv(){if(Gt===2){Gt=0;var e=qr,n=xl,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=B.T,B.T=null;var c=K.p;K.p=2;var f=lt;lt|=4;try{Xh(e,n.alternate,n)}finally{lt=f,K.p=c,B.T=i}}Gt=3}}function wv(){if(Gt===4||Gt===3){Gt=0,Va();var e=qr,n=xl,i=dr,c=cv;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Gt=5:(Gt=0,xl=qr=null,Sv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Yr=null),Cr(i),n=n.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(ue,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=B.T,f=K.p,K.p=2,B.T=null;try{for(var h=e.onRecoverableError,C=0;C<c.length;C++){var E=c[C];h(E.value,{componentStack:E.stack})}}finally{B.T=n,K.p=f}}(dr&3)!==0&&hc(),Dn(e),f=e.pendingLanes,(i&261930)!==0&&(f&42)!==0?e===Mm?Ei++:(Ei=0,Mm=e):Ei=0,_i(0)}}function Sv(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,mi(n)))}function hc(){return Nv(),jv(),wv(),Cv()}function Cv(){if(Gt!==5)return!1;var e=qr,n=km;km=0;var i=Cr(dr),c=B.T,f=K.p;try{K.p=32>i?32:i,B.T=null,i=Dm,Dm=null;var h=qr,C=dr;if(Gt=0,xl=qr=null,dr=0,(lt&6)!==0)throw Error(a(331));var E=lt;if(lt|=4,lv(h.current),nv(h,h.current,C,i),lt=E,_i(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(ue,h)}catch{}return!0}finally{K.p=f,B.T=c,Sv(e,n)}}function kv(e,n,i){n=Za(i,n),n=lm(e.stateNode,n,2),e=Lr(e,n,2),e!==null&&(Ga(e,2),Dn(e))}function dt(e,n,i){if(e.tag===3)kv(e,e,i);else for(;n!==null;){if(n.tag===3){kv(n,e,i);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Yr===null||!Yr.has(c))){e=Za(i,e),i=Dh(2),c=Lr(n,i,2),c!==null&&(Mh(i,c,n,e),Ga(c,2),Dn(c));break}}n=n.return}}function Em(e,n,i){var c=e.pingCache;if(c===null){c=e.pingCache=new tj;var f=new Set;c.set(n,f)}else f=c.get(n),f===void 0&&(f=new Set,c.set(n,f));f.has(i)||(wm=!0,f.add(i),e=lj.bind(null,e,n,i),n.then(e,e))}function lj(e,n,i){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,yt===e&&(Ke&i)===i&&(Et===4||Et===3&&(Ke&62914560)===Ke&&300>Ft()-uc?(lt&2)===0&&hl(e,0):Sm|=i,pl===Ke&&(pl=0)),Dn(e)}function Dv(e,n){n===0&&(n=ge()),e=fs(e,n),e!==null&&(Ga(e,n),Dn(e))}function ij(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Dv(e,i)}function oj(e,n){var i=0;switch(e.tag){case 31:case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(n),Dv(e,i)}function cj(e,n){return sa(e,n)}var vc=null,bl=null,_m=!1,bc=!1,Om=!1,Ur=0;function Dn(e){e!==bl&&e.next===null&&(bl===null?vc=bl=e:bl=bl.next=e),bc=!0,_m||(_m=!0,dj())}function _i(e,n){if(!Om&&bc){Om=!0;do for(var i=!1,c=vc;c!==null;){if(e!==0){var f=c.pendingLanes;if(f===0)var h=0;else{var C=c.suspendedLanes,E=c.pingedLanes;h=(1<<31-De(42|e)+1)-1,h&=f&~(C&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,Ev(c,h))}else h=Ke,h=ga(c,c===yt?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(h&3)===0||dn(c,h)||(i=!0,Ev(c,h));c=c.next}while(i);Om=!1}}function uj(){Mv()}function Mv(){bc=_m=!1;var e=0;Ur!==0&&Nj()&&(e=Ur);for(var n=Ft(),i=null,c=vc;c!==null;){var f=c.next,h=Av(c,n);h===0?(c.next=null,i===null?vc=f:i.next=f,f===null&&(bl=i)):(i=c,(e!==0||(h&3)!==0)&&(bc=!0)),c=f}Gt!==0&&Gt!==5||_i(e),Ur!==0&&(Ur=0)}function Av(e,n){for(var i=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var C=31-De(h),E=1<<C,F=f[C];F===-1?((E&i)===0||(E&c)!==0)&&(f[C]=ls(E,n)):F<=n&&(e.expiredLanes|=E),h&=~E}if(n=yt,i=Ke,i=ga(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,i===0||e===n&&(ut===2||ut===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&bt(c),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||dn(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(c!==null&&bt(c),Cr(i)){case 2:case 8:i=ct;break;case 32:i=U;break;case 268435456:i=Ne;break;default:i=U}return c=Tv.bind(null,e),i=sa(i,c),e.callbackPriority=n,e.callbackNode=i,n}return c!==null&&c!==null&&bt(c),e.callbackPriority=2,e.callbackNode=null,2}function Tv(e,n){if(Gt!==0&&Gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(hc()&&e.callbackNode!==i)return null;var c=Ke;return c=ga(e,e===yt?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(dv(e,c,n),Av(e,Ft()),e.callbackNode!=null&&e.callbackNode===i?Tv.bind(null,e):null)}function Ev(e,n){if(hc())return null;dv(e,n,!0)}function dj(){wj(function(){(lt&6)!==0?sa(Oe,uj):Mv()})}function Rm(){if(Ur===0){var e=nl;e===0&&(e=ze,ze<<=1,(ze&261888)===0&&(ze=256)),Ur=e}return Ur}function _v(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ko(""+e)}function Ov(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function mj(e,n,i,c,f){if(n==="submit"&&i&&i.stateNode===f){var h=_v((f[ia]||null).action),C=c.submitter;C&&(n=(n=C[ia]||null)?_v(n.formAction):C.getAttribute("formAction"),n!==null&&(h=n,C=null));var E=new To("action","action",null,c,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ur!==0){var F=C?Ov(f,C):new FormData(f);em(i,{pending:!0,data:F,method:f.method,action:h},null,F)}}else typeof h=="function"&&(E.preventDefault(),F=C?Ov(f,C):new FormData(f),em(i,{pending:!0,data:F,method:f.method,action:h},h,F))},currentTarget:f}]})}}for(var Im=0;Im<vd.length;Im++){var Lm=vd[Im],fj=Lm.toLowerCase(),pj=Lm[0].toUpperCase()+Lm.slice(1);mn(fj,"on"+pj)}mn(ux,"onAnimationEnd"),mn(dx,"onAnimationIteration"),mn(mx,"onAnimationStart"),mn("dblclick","onDoubleClick"),mn("focusin","onFocus"),mn("focusout","onBlur"),mn(TN,"onTransitionRun"),mn(EN,"onTransitionStart"),mn(_N,"onTransitionCancel"),mn(fx,"onTransitionEnd"),Qa("onMouseEnter",["mouseout","mouseover"]),Qa("onMouseLeave",["mouseout","mouseover"]),Qa("onPointerEnter",["pointerout","pointerover"]),Qa("onPointerLeave",["pointerout","pointerover"]),Na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Na("onBeforeInput",["compositionend","keypress","textInput","paste"]),Na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oi));function Rv(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var c=e[i],f=c.event;c=c.listeners;e:{var h=void 0;if(n)for(var C=c.length-1;0<=C;C--){var E=c[C],F=E.instance,W=E.currentTarget;if(E=E.listener,F!==h&&f.isPropagationStopped())break e;h=E,f.currentTarget=W;try{h(f)}catch(oe){Oo(oe)}f.currentTarget=null,h=F}else for(C=0;C<c.length;C++){if(E=c[C],F=E.instance,W=E.currentTarget,E=E.listener,F!==h&&f.isPropagationStopped())break e;h=E,f.currentTarget=W;try{h(f)}catch(oe){Oo(oe)}f.currentTarget=null,h=F}}}}function Ve(e,n){var i=n[Jl];i===void 0&&(i=n[Jl]=new Set);var c=e+"__bubble";i.has(c)||(Iv(n,e,2,!1),i.add(c))}function Pm(e,n,i){var c=0;n&&(c|=4),Iv(i,e,c,n)}var gc="_reactListening"+Math.random().toString(36).slice(2);function zm(e){if(!e[gc]){e[gc]=!0,ya.forEach(function(i){i!=="selectionchange"&&(xj.has(i)||Pm(i,!1,e),Pm(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[gc]||(n[gc]=!0,Pm("selectionchange",!1,n))}}function Iv(e,n,i,c){switch(u0(n)){case 2:var f=qj;break;case 8:f=$j;break;default:f=Jm}i=f.bind(null,n,i,e),f=void 0,!rd||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(n,i,{capture:!0,passive:f}):e.addEventListener(n,i,!0):f!==void 0?e.addEventListener(n,i,{passive:f}):e.addEventListener(n,i,!1)}function Fm(e,n,i,c,f){var h=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var E=c.stateNode.containerInfo;if(E===f)break;if(C===4)for(C=c.return;C!==null;){var F=C.tag;if((F===3||F===4)&&C.stateNode.containerInfo===f)return;C=C.return}for(;E!==null;){if(C=Dr(E),C===null)return;if(F=C.tag,F===5||F===6||F===26||F===27){c=h=C;continue e}E=E.parentNode}}c=c.return}Bp(function(){var W=h,oe=ad(i),de=[];e:{var J=px.get(e);if(J!==void 0){var ae=To,ke=e;switch(e){case"keypress":if(Mo(i)===0)break e;case"keydown":case"keyup":ae=oN;break;case"focusin":ke="focus",ae=od;break;case"focusout":ke="blur",ae=od;break;case"beforeblur":case"afterblur":ae=od;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=qp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=X1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=dN;break;case ux:case dx:case mx:ae=J1;break;case fx:ae=fN;break;case"scroll":case"scrollend":ae=Q1;break;case"wheel":ae=xN;break;case"copy":case"cut":case"paste":ae=tN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Up;break;case"toggle":case"beforetoggle":ae=vN}var Re=(n&4)!==0,vt=!Re&&(e==="scroll"||e==="scrollend"),V=Re?J!==null?J+"Capture":null:J;Re=[];for(var $=W,X;$!==null;){var ce=$;if(X=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||X===null||V===null||(ce=ti($,V),ce!=null&&Re.push(Ri($,ce,X))),vt)break;$=$.return}0<Re.length&&(J=new ae(J,ke,null,i,oe),de.push({event:J,listeners:Re}))}}if((n&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",J&&i!==td&&(ke=i.relatedTarget||i.fromElement)&&(Dr(ke)||ke[kr]))break e;if((ae||J)&&(J=oe.window===oe?oe:(J=oe.ownerDocument)?J.defaultView||J.parentWindow:window,ae?(ke=i.relatedTarget||i.toElement,ae=W,ke=ke?Dr(ke):null,ke!==null&&(vt=u(ke),Re=ke.tag,ke!==vt||Re!==5&&Re!==27&&Re!==6)&&(ke=null)):(ae=null,ke=W),ae!==ke)){if(Re=qp,ce="onMouseLeave",V="onMouseEnter",$="mouse",(e==="pointerout"||e==="pointerover")&&(Re=Up,ce="onPointerLeave",V="onPointerEnter",$="pointer"),vt=ae==null?J:H(ae),X=ke==null?J:H(ke),J=new Re(ce,$+"leave",ae,i,oe),J.target=vt,J.relatedTarget=X,ce=null,Dr(oe)===W&&(Re=new Re(V,$+"enter",ke,i,oe),Re.target=X,Re.relatedTarget=vt,ce=Re),vt=ce,ae&&ke)t:{for(Re=hj,V=ae,$=ke,X=0,ce=V;ce;ce=Re(ce))X++;ce=0;for(var Ee=$;Ee;Ee=Re(Ee))ce++;for(;0<X-ce;)V=Re(V),X--;for(;0<ce-X;)$=Re($),ce--;for(;X--;){if(V===$||$!==null&&V===$.alternate){Re=V;break t}V=Re(V),$=Re($)}Re=null}else Re=null;ae!==null&&Lv(de,J,ae,Re,!1),ke!==null&&vt!==null&&Lv(de,vt,ke,Re,!0)}}e:{if(J=W?H(W):window,ae=J.nodeName&&J.nodeName.toLowerCase(),ae==="select"||ae==="input"&&J.type==="file")var rt=Jp;else if(Wp(J))if(ex)rt=DN;else{rt=CN;var Me=SN}else ae=J.nodeName,!ae||ae.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?W&&ed(W.elementType)&&(rt=Jp):rt=kN;if(rt&&(rt=rt(e,W))){Zp(de,rt,i,oe);break e}Me&&Me(e,J,W),e==="focusout"&&W&&J.type==="number"&&W.memoizedProps.value!=null&&Ju(J,"number",J.value)}switch(Me=W?H(W):window,e){case"focusin":(Wp(Me)||Me.contentEditable==="true")&&(Ks=Me,pd=W,ci=null);break;case"focusout":ci=pd=Ks=null;break;case"mousedown":xd=!0;break;case"contextmenu":case"mouseup":case"dragend":xd=!1,ox(de,i,oe);break;case"selectionchange":if(AN)break;case"keydown":case"keyup":ox(de,i,oe)}var Ye;if(ud)e:{switch(e){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Qs?Kp(e,i)&&(Xe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Xe="onCompositionStart");Xe&&(Vp&&i.locale!=="ko"&&(Qs||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Qs&&(Ye=Hp()):(Ar=oe,sd="value"in Ar?Ar.value:Ar.textContent,Qs=!0)),Me=yc(W,Xe),0<Me.length&&(Xe=new $p(Xe,e,null,i,oe),de.push({event:Xe,listeners:Me}),Ye?Xe.data=Ye:(Ye=Xp(i),Ye!==null&&(Xe.data=Ye)))),(Ye=gN?yN(e,i):NN(e,i))&&(Xe=yc(W,"onBeforeInput"),0<Xe.length&&(Me=new $p("onBeforeInput","beforeinput",null,i,oe),de.push({event:Me,listeners:Xe}),Me.data=Ye)),mj(de,e,W,i,oe)}Rv(de,n)})}function Ri(e,n,i){return{instance:e,listener:n,currentTarget:i}}function yc(e,n){for(var i=n+"Capture",c=[];e!==null;){var f=e,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=ti(e,i),f!=null&&c.unshift(Ri(e,f,h)),f=ti(e,n),f!=null&&c.push(Ri(e,f,h))),e.tag===3)return c;e=e.return}return[]}function hj(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Lv(e,n,i,c,f){for(var h=n._reactName,C=[];i!==null&&i!==c;){var E=i,F=E.alternate,W=E.stateNode;if(E=E.tag,F!==null&&F===c)break;E!==5&&E!==26&&E!==27||W===null||(F=W,f?(W=ti(i,h),W!=null&&C.unshift(Ri(i,W,F))):f||(W=ti(i,h),W!=null&&C.push(Ri(i,W,F)))),i=i.return}C.length!==0&&e.push({event:n,listeners:C})}var vj=/\r\n?/g,bj=/\u0000|\uFFFD/g;function Pv(e){return(typeof e=="string"?e:""+e).replace(vj,`
`).replace(bj,"")}function zv(e,n){return n=Pv(n),Pv(e)===n}function ht(e,n,i,c,f,h){switch(i){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||Us(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&Us(e,""+c);break;case"className":So(e,"class",c);break;case"tabIndex":So(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":So(e,i,c);break;case"style":zp(e,c,h);break;case"data":if(n!=="object"){So(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(i);break}c=ko(""+c),e.setAttribute(i,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(n!=="input"&&ht(e,n,"name",f.name,f,null),ht(e,n,"formEncType",f.formEncType,f,null),ht(e,n,"formMethod",f.formMethod,f,null),ht(e,n,"formTarget",f.formTarget,f,null)):(ht(e,n,"encType",f.encType,f,null),ht(e,n,"method",f.method,f,null),ht(e,n,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(i);break}c=ko(""+c),e.setAttribute(i,c);break;case"onClick":c!=null&&(e.onclick=Xn);break;case"onScroll":c!=null&&Ve("scroll",e);break;case"onScrollEnd":c!=null&&Ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}i=ko(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,""+c):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":c===!0?e.setAttribute(i,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,c):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(i,c):e.removeAttribute(i);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(i):e.setAttribute(i,c);break;case"popover":Ve("beforetoggle",e),Ve("toggle",e),wo(e,"popover",c);break;case"xlinkActuate":Kn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Kn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Kn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Kn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Kn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Kn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":wo(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=V1.get(i)||i,wo(e,i,c))}}function Bm(e,n,i,c,f,h){switch(i){case"style":zp(e,c,h);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof c=="string"?Us(e,c):(typeof c=="number"||typeof c=="bigint")&&Us(e,""+c);break;case"onScroll":c!=null&&Ve("scroll",e);break;case"onScrollEnd":c!=null&&Ve("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wn.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),n=i.slice(2,f?i.length-7:void 0),h=e[ia]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(n,h,f),typeof c=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,c,f);break e}i in e?e[i]=c:c===!0?e.setAttribute(i,""):wo(e,i,c)}}}function ea(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",e),Ve("load",e);var c=!1,f=!1,h;for(h in i)if(i.hasOwnProperty(h)){var C=i[h];if(C!=null)switch(h){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(e,n,h,C,i,null)}}f&&ht(e,n,"srcSet",i.srcSet,i,null),c&&ht(e,n,"src",i.src,i,null);return;case"input":Ve("invalid",e);var E=h=C=f=null,F=null,W=null;for(c in i)if(i.hasOwnProperty(c)){var oe=i[c];if(oe!=null)switch(c){case"name":f=oe;break;case"type":C=oe;break;case"checked":F=oe;break;case"defaultChecked":W=oe;break;case"value":h=oe;break;case"defaultValue":E=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(a(137,n));break;default:ht(e,n,c,oe,i,null)}}Rp(e,h,E,F,W,C,f,!1);return;case"select":Ve("invalid",e),c=C=h=null;for(f in i)if(i.hasOwnProperty(f)&&(E=i[f],E!=null))switch(f){case"value":h=E;break;case"defaultValue":C=E;break;case"multiple":c=E;default:ht(e,n,f,E,i,null)}n=h,i=C,e.multiple=!!c,n!=null?$s(e,!!c,n,!1):i!=null&&$s(e,!!c,i,!0);return;case"textarea":Ve("invalid",e),h=f=c=null;for(C in i)if(i.hasOwnProperty(C)&&(E=i[C],E!=null))switch(C){case"value":c=E;break;case"defaultValue":f=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ht(e,n,C,E,i,null)}Lp(e,c,f,h);return;case"option":for(F in i)i.hasOwnProperty(F)&&(c=i[F],c!=null)&&(F==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":ht(e,n,F,c,i,null));return;case"dialog":Ve("beforetoggle",e),Ve("toggle",e),Ve("cancel",e),Ve("close",e);break;case"iframe":case"object":Ve("load",e);break;case"video":case"audio":for(c=0;c<Oi.length;c++)Ve(Oi[c],e);break;case"image":Ve("error",e),Ve("load",e);break;case"details":Ve("toggle",e);break;case"embed":case"source":case"link":Ve("error",e),Ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in i)if(i.hasOwnProperty(W)&&(c=i[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(e,n,W,c,i,null)}return;default:if(ed(n)){for(oe in i)i.hasOwnProperty(oe)&&(c=i[oe],c!==void 0&&Bm(e,n,oe,c,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(c=i[E],c!=null&&ht(e,n,E,c,i,null))}function gj(e,n,i,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,C=null,E=null,F=null,W=null,oe=null;for(ae in i){var de=i[ae];if(i.hasOwnProperty(ae)&&de!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":F=de;default:c.hasOwnProperty(ae)||ht(e,n,ae,null,c,de)}}for(var J in c){var ae=c[J];if(de=i[J],c.hasOwnProperty(J)&&(ae!=null||de!=null))switch(J){case"type":h=ae;break;case"name":f=ae;break;case"checked":W=ae;break;case"defaultChecked":oe=ae;break;case"value":C=ae;break;case"defaultValue":E=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,n));break;default:ae!==de&&ht(e,n,J,ae,c,de)}}Zu(e,C,E,F,W,oe,h,f);return;case"select":ae=C=E=J=null;for(h in i)if(F=i[h],i.hasOwnProperty(h)&&F!=null)switch(h){case"value":break;case"multiple":ae=F;default:c.hasOwnProperty(h)||ht(e,n,h,null,c,F)}for(f in c)if(h=c[f],F=i[f],c.hasOwnProperty(f)&&(h!=null||F!=null))switch(f){case"value":J=h;break;case"defaultValue":E=h;break;case"multiple":C=h;default:h!==F&&ht(e,n,f,h,c,F)}n=E,i=C,c=ae,J!=null?$s(e,!!i,J,!1):!!c!=!!i&&(n!=null?$s(e,!!i,n,!0):$s(e,!!i,i?[]:"",!1));return;case"textarea":ae=J=null;for(E in i)if(f=i[E],i.hasOwnProperty(E)&&f!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ht(e,n,E,null,c,f)}for(C in c)if(f=c[C],h=i[C],c.hasOwnProperty(C)&&(f!=null||h!=null))switch(C){case"value":J=f;break;case"defaultValue":ae=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==h&&ht(e,n,C,f,c,h)}Ip(e,J,ae);return;case"option":for(var ke in i)J=i[ke],i.hasOwnProperty(ke)&&J!=null&&!c.hasOwnProperty(ke)&&(ke==="selected"?e.selected=!1:ht(e,n,ke,null,c,J));for(F in c)J=c[F],ae=i[F],c.hasOwnProperty(F)&&J!==ae&&(J!=null||ae!=null)&&(F==="selected"?e.selected=J&&typeof J!="function"&&typeof J!="symbol":ht(e,n,F,J,c,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in i)J=i[Re],i.hasOwnProperty(Re)&&J!=null&&!c.hasOwnProperty(Re)&&ht(e,n,Re,null,c,J);for(W in c)if(J=c[W],ae=i[W],c.hasOwnProperty(W)&&J!==ae&&(J!=null||ae!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,n));break;default:ht(e,n,W,J,c,ae)}return;default:if(ed(n)){for(var vt in i)J=i[vt],i.hasOwnProperty(vt)&&J!==void 0&&!c.hasOwnProperty(vt)&&Bm(e,n,vt,void 0,c,J);for(oe in c)J=c[oe],ae=i[oe],!c.hasOwnProperty(oe)||J===ae||J===void 0&&ae===void 0||Bm(e,n,oe,J,c,ae);return}}for(var V in i)J=i[V],i.hasOwnProperty(V)&&J!=null&&!c.hasOwnProperty(V)&&ht(e,n,V,null,c,J);for(de in c)J=c[de],ae=i[de],!c.hasOwnProperty(de)||J===ae||J==null&&ae==null||ht(e,n,de,J,c,ae)}function Fv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yj(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),c=0;c<i.length;c++){var f=i[c],h=f.transferSize,C=f.initiatorType,E=f.duration;if(h&&E&&Fv(C)){for(C=0,E=f.responseEnd,c+=1;c<i.length;c++){var F=i[c],W=F.startTime;if(W>E)break;var oe=F.transferSize,de=F.initiatorType;oe&&Fv(de)&&(F=F.responseEnd,C+=oe*(F<E?1:(E-W)/(F-W)))}if(--c,n+=8*(h+C)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Hm=null,Ym=null;function Nc(e){return e.nodeType===9?e:e.ownerDocument}function Bv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function qm(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $m=null;function Nj(){var e=window.event;return e&&e.type==="popstate"?e===$m?!1:($m=e,!0):($m=null,!1)}var Yv=typeof setTimeout=="function"?setTimeout:void 0,jj=typeof clearTimeout=="function"?clearTimeout:void 0,qv=typeof Promise=="function"?Promise:void 0,wj=typeof queueMicrotask=="function"?queueMicrotask:typeof qv<"u"?function(e){return qv.resolve(null).then(e).catch(Sj)}:Yv;function Sj(e){setTimeout(function(){throw e})}function Vr(e){return e==="head"}function $v(e,n){var i=n,c=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(c===0){e.removeChild(f),jl(n);return}c--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")c++;else if(i==="html")Ii(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Ii(i);for(var h=i.firstChild;h;){var C=h.nextSibling,E=h.nodeName;h[os]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=C}}else i==="body"&&Ii(e.ownerDocument.body);i=f}while(i);jl(n)}function Uv(e,n){var i=e;e=0;do{var c=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=c}while(i)}function Um(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Um(i),ei(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Cj(e,n,i,c){for(;e.nodeType===1;){var f=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[os])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=nn(e.nextSibling),e===null)break}return null}function kj(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=nn(e.nextSibling),e===null))return null;return e}function Vv(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=nn(e.nextSibling),e===null))return null;return e}function Vm(e){return e.data==="$?"||e.data==="$~"}function Gm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Dj(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var c=function(){n(),i.removeEventListener("DOMContentLoaded",c)};i.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function nn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Qm=null;function Gv(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return nn(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function Qv(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function Kv(e,n,i){switch(n=Nc(i),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Ii(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ei(e)}var rn=new Map,Xv=new Set;function jc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var mr=K.d;K.d={f:Mj,r:Aj,D:Tj,C:Ej,L:_j,m:Oj,X:Ij,S:Rj,M:Lj};function Mj(){var e=mr.f(),n=fc();return e||n}function Aj(e){var n=Mr(e);n!==null&&n.tag===5&&n.type==="form"?fh(n):mr.r(e)}var gl=typeof document>"u"?null:document;function Wv(e,n,i){var c=gl;if(c&&typeof n=="string"&&n){var f=Xa(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),Xv.has(f)||(Xv.add(f),e={rel:e,crossOrigin:i,href:n},c.querySelector(f)===null&&(n=c.createElement("link"),ea(n,"link",e),tt(n),c.head.appendChild(n)))}}function Tj(e){mr.D(e),Wv("dns-prefetch",e,null)}function Ej(e,n){mr.C(e,n),Wv("preconnect",e,n)}function _j(e,n,i){mr.L(e,n,i);var c=gl;if(c&&e&&n){var f='link[rel="preload"][as="'+Xa(n)+'"]';n==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+Xa(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+Xa(i.imageSizes)+'"]')):f+='[href="'+Xa(e)+'"]';var h=f;switch(n){case"style":h=yl(e);break;case"script":h=Nl(e)}rn.has(h)||(e=b({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),rn.set(h,e),c.querySelector(f)!==null||n==="style"&&c.querySelector(Li(h))||n==="script"&&c.querySelector(Pi(h))||(n=c.createElement("link"),ea(n,"link",e),tt(n),c.head.appendChild(n)))}}function Oj(e,n){mr.m(e,n);var i=gl;if(i&&e){var c=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Xa(c)+'"][href="'+Xa(e)+'"]',h=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Nl(e)}if(!rn.has(h)&&(e=b({rel:"modulepreload",href:e},n),rn.set(h,e),i.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Pi(h)))return}c=i.createElement("link"),ea(c,"link",e),tt(c),i.head.appendChild(c)}}}function Rj(e,n,i){mr.S(e,n,i);var c=gl;if(c&&e){var f=pe(c).hoistableStyles,h=yl(e);n=n||"default";var C=f.get(h);if(!C){var E={loading:0,preload:null};if(C=c.querySelector(Li(h)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},i),(i=rn.get(h))&&Km(e,i);var F=C=c.createElement("link");tt(F),ea(F,"link",e),F._p=new Promise(function(W,oe){F.onload=W,F.onerror=oe}),F.addEventListener("load",function(){E.loading|=1}),F.addEventListener("error",function(){E.loading|=2}),E.loading|=4,wc(C,n,c)}C={type:"stylesheet",instance:C,count:1,state:E},f.set(h,C)}}}function Ij(e,n){mr.X(e,n);var i=gl;if(i&&e){var c=pe(i).hoistableScripts,f=Nl(e),h=c.get(f);h||(h=i.querySelector(Pi(f)),h||(e=b({src:e,async:!0},n),(n=rn.get(f))&&Xm(e,n),h=i.createElement("script"),tt(h),ea(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(f,h))}}function Lj(e,n){mr.M(e,n);var i=gl;if(i&&e){var c=pe(i).hoistableScripts,f=Nl(e),h=c.get(f);h||(h=i.querySelector(Pi(f)),h||(e=b({src:e,async:!0,type:"module"},n),(n=rn.get(f))&&Xm(e,n),h=i.createElement("script"),tt(h),ea(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(f,h))}}function Zv(e,n,i,c){var f=(f=xe.current)?jc(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=yl(i.href),i=pe(f).hoistableStyles,c=i.get(n),c||(c={type:"style",instance:null,count:0,state:null},i.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=yl(i.href);var h=pe(f).hoistableStyles,C=h.get(e);if(C||(f=f.ownerDocument||f,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,C),(h=f.querySelector(Li(e)))&&!h._p&&(C.instance=h,C.state.loading=5),rn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},rn.set(e,i),h||Pj(f,e,i,C.state))),n&&c===null)throw Error(a(528,""));return C}if(n&&c!==null)throw Error(a(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Nl(i),i=pe(f).hoistableScripts,c=i.get(n),c||(c={type:"script",instance:null,count:0,state:null},i.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function yl(e){return'href="'+Xa(e)+'"'}function Li(e){return'link[rel="stylesheet"]['+e+"]"}function Jv(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Pj(e,n,i,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),ea(n,"link",i),tt(n),e.head.appendChild(n))}function Nl(e){return'[src="'+Xa(e)+'"]'}function Pi(e){return"script[async]"+e}function e0(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+Xa(i.href)+'"]');if(c)return n.instance=c,tt(c),c;var f=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),tt(c),ea(c,"style",f),wc(c,i.precedence,e),n.instance=c;case"stylesheet":f=yl(i.href);var h=e.querySelector(Li(f));if(h)return n.state.loading|=4,n.instance=h,tt(h),h;c=Jv(i),(f=rn.get(f))&&Km(c,f),h=(e.ownerDocument||e).createElement("link"),tt(h);var C=h;return C._p=new Promise(function(E,F){C.onload=E,C.onerror=F}),ea(h,"link",c),n.state.loading|=4,wc(h,i.precedence,e),n.instance=h;case"script":return h=Nl(i.src),(f=e.querySelector(Pi(h)))?(n.instance=f,tt(f),f):(c=i,(f=rn.get(h))&&(c=b({},i),Xm(c,f)),e=e.ownerDocument||e,f=e.createElement("script"),tt(f),ea(f,"link",c),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,wc(c,i.precedence,e));return n.instance}function wc(e,n,i){for(var c=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,h=f,C=0;C<c.length;C++){var E=c[C];if(E.dataset.precedence===n)h=E;else if(h!==f)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Km(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Xm(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Sc=null;function t0(e,n,i){if(Sc===null){var c=new Map,f=Sc=new Map;f.set(i,c)}else f=Sc,c=f.get(i),c||(c=new Map,f.set(i,c));if(c.has(e))return c;for(c.set(e,null),i=i.getElementsByTagName(e),f=0;f<i.length;f++){var h=i[f];if(!(h[os]||h[Vt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var C=h.getAttribute(n)||"";C=e+C;var E=c.get(C);E?E.push(h):c.set(C,[h])}}return c}function a0(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function zj(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function n0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Fj(e,n,i,c){if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=yl(c.href),h=n.querySelector(Li(f));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Cc.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=h,tt(h);return}h=n.ownerDocument||n,c=Jv(c),(f=rn.get(f))&&Km(c,f),h=h.createElement("link"),tt(h);var C=h;C._p=new Promise(function(E,F){C.onload=E,C.onerror=F}),ea(h,"link",c),i.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Cc.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var Wm=0;function Bj(e,n){return e.stylesheets&&e.count===0&&Dc(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var c=setTimeout(function(){if(e.stylesheets&&Dc(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&Wm===0&&(Wm=62500*yj());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Dc(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Wm?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var kc=null;function Dc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,kc=new Map,n.forEach(Hj,e),kc=null,Cc.call(e))}function Hj(e,n){if(!(n.state.loading&4)){var i=kc.get(e);if(i)var c=i.get(null);else{i=new Map,kc.set(e,i);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var C=f[h];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(i.set(C.dataset.precedence,C),c=C)}c&&i.set(null,c)}f=n.instance,C=f.getAttribute("data-precedence"),h=i.get(C)||c,h===c&&i.set(null,f),i.set(C,f),this.count++,c=Cc.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),h?h.parentNode.insertBefore(f,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var zi={$$typeof:k,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Yj(e,n,i,c,f,h,C,E,F){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ut(0),this.hiddenUpdates=Ut(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function r0(e,n,i,c,f,h,C,E,F,W,oe,de){return e=new Yj(e,n,i,C,F,W,oe,de,E),n=1,h===!0&&(n|=24),h=Ia(3,null,null,n),e.current=h,h.stateNode=e,n=Td(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:c,isDehydrated:i,cache:n},Rd(h),e}function s0(e){return e?(e=Zs,e):Zs}function l0(e,n,i,c,f,h){f=s0(f),c.context===null?c.context=f:c.pendingContext=f,c=Ir(n),c.payload={element:i},h=h===void 0?null:h,h!==null&&(c.callback=h),i=Lr(e,c,n),i!==null&&(Da(i,e,n),hi(i,e,n))}function i0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Zm(e,n){i0(e,n),(e=e.alternate)&&i0(e,n)}function o0(e){if(e.tag===13||e.tag===31){var n=fs(e,67108864);n!==null&&Da(n,e,67108864),Zm(e,67108864)}}function c0(e){if(e.tag===13||e.tag===31){var n=Ba();n=Qn(n);var i=fs(e,n);i!==null&&Da(i,e,n),Zm(e,n)}}var Mc=!0;function qj(e,n,i,c){var f=B.T;B.T=null;var h=K.p;try{K.p=2,Jm(e,n,i,c)}finally{K.p=h,B.T=f}}function $j(e,n,i,c){var f=B.T;B.T=null;var h=K.p;try{K.p=8,Jm(e,n,i,c)}finally{K.p=h,B.T=f}}function Jm(e,n,i,c){if(Mc){var f=ef(c);if(f===null)Fm(e,n,c,Ac,i),d0(e,c);else if(Vj(f,e,n,i,c))c.stopPropagation();else if(d0(e,c),n&4&&-1<Uj.indexOf(e)){for(;f!==null;){var h=Mr(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var C=Bt(h.pendingLanes);if(C!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;C;){var F=1<<31-De(C);E.entanglements[1]|=F,C&=~F}Dn(h),(lt&6)===0&&(dc=Ft()+500,_i(0))}}break;case 31:case 13:E=fs(h,2),E!==null&&Da(E,h,2),fc(),Zm(h,2)}if(h=ef(c),h===null&&Fm(e,n,c,Ac,i),h===f)break;f=h}f!==null&&c.stopPropagation()}else Fm(e,n,c,null,i)}}function ef(e){return e=ad(e),tf(e)}var Ac=null;function tf(e){if(Ac=null,e=Dr(e),e!==null){var n=u(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=d(n),e!==null)return e;e=null}else if(i===31){if(e=m(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function u0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(un()){case Oe:return 2;case ct:return 8;case U:case ie:return 32;case Ne:return 268435456;default:return 32}default:return 32}}var af=!1,Gr=null,Qr=null,Kr=null,Fi=new Map,Bi=new Map,Xr=[],Uj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function d0(e,n){switch(e){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Fi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bi.delete(n.pointerId)}}function Hi(e,n,i,c,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:i,eventSystemFlags:c,nativeEvent:h,targetContainers:[f]},n!==null&&(n=Mr(n),n!==null&&o0(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function Vj(e,n,i,c,f){switch(n){case"focusin":return Gr=Hi(Gr,e,n,i,c,f),!0;case"dragenter":return Qr=Hi(Qr,e,n,i,c,f),!0;case"mouseover":return Kr=Hi(Kr,e,n,i,c,f),!0;case"pointerover":var h=f.pointerId;return Fi.set(h,Hi(Fi.get(h)||null,e,n,i,c,f)),!0;case"gotpointercapture":return h=f.pointerId,Bi.set(h,Hi(Bi.get(h)||null,e,n,i,c,f)),!0}return!1}function m0(e){var n=Dr(e.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=d(i),n!==null){e.blockedOn=n,yo(e.priority,function(){c0(i)});return}}else if(n===31){if(n=m(i),n!==null){e.blockedOn=n,yo(e.priority,function(){c0(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=ef(e.nativeEvent);if(i===null){i=e.nativeEvent;var c=new i.constructor(i.type,i);td=c,i.target.dispatchEvent(c),td=null}else return n=Mr(i),n!==null&&o0(n),e.blockedOn=i,!1;n.shift()}return!0}function f0(e,n,i){Tc(e)&&i.delete(n)}function Gj(){af=!1,Gr!==null&&Tc(Gr)&&(Gr=null),Qr!==null&&Tc(Qr)&&(Qr=null),Kr!==null&&Tc(Kr)&&(Kr=null),Fi.forEach(f0),Bi.forEach(f0)}function Ec(e,n){e.blockedOn===n&&(e.blockedOn=null,af||(af=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Gj)))}var _c=null;function p0(e){_c!==e&&(_c=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){_c===e&&(_c=null);for(var n=0;n<e.length;n+=3){var i=e[n],c=e[n+1],f=e[n+2];if(typeof c!="function"){if(tf(c||i)===null)continue;break}var h=Mr(i);h!==null&&(e.splice(n,3),n-=3,em(h,{pending:!0,data:f,method:i.method,action:c},c,f))}}))}function jl(e){function n(F){return Ec(F,e)}Gr!==null&&Ec(Gr,e),Qr!==null&&Ec(Qr,e),Kr!==null&&Ec(Kr,e),Fi.forEach(n),Bi.forEach(n);for(var i=0;i<Xr.length;i++){var c=Xr[i];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Xr.length&&(i=Xr[0],i.blockedOn===null);)m0(i),i.blockedOn===null&&Xr.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(c=0;c<i.length;c+=3){var f=i[c],h=i[c+1],C=f[ia]||null;if(typeof h=="function")C||p0(i);else if(C){var E=null;if(h&&h.hasAttribute("formAction")){if(f=h,C=h[ia]||null)E=C.formAction;else if(tf(f)!==null)continue}else E=C.action;typeof E=="function"?i[c+1]=E:(i.splice(c,3),c-=3),p0(i)}}}function x0(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(C){return f=C})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),c||setTimeout(i,20)}function i(){if(!c&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function nf(e){this._internalRoot=e}Oc.prototype.render=nf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var i=n.current,c=Ba();l0(i,c,e,n,null,null)},Oc.prototype.unmount=nf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;l0(e.current,2,null,e,null,null),fc(),n[kr]=null}};function Oc(e){this._internalRoot=e}Oc.prototype.unstable_scheduleHydration=function(e){if(e){var n=go();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Xr.length&&n!==0&&n<Xr[i].priority;i++);Xr.splice(i,0,e),i===0&&m0(e)}};var h0=l.version;if(h0!=="19.2.4")throw Error(a(527,h0,"19.2.4"));K.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Qj={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{ue=Rc.inject(Qj),nt=Rc}catch{}}return qi.createRoot=function(e,n){if(!o(e))throw Error(a(299));var i=!1,c="",f=wh,h=Sh,C=Ch;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError)),n=r0(e,1,!1,null,null,i,c,null,f,h,C,x0),e[kr]=n.current,zm(e),new nf(n)},qi.hydrateRoot=function(e,n,i){if(!o(e))throw Error(a(299));var c=!1,f="",h=wh,C=Sh,E=Ch,F=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(C=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.formState!==void 0&&(F=i.formState)),n=r0(e,1,!0,n,i??null,c,f,F,h,C,E,x0),n.context=s0(null),i=n.current,c=Ba(),c=Qn(c),f=Ir(c),f.callback=null,Lr(i,f,c),i=c,n.current.lanes=i,Ga(n,i),Dn(n),e[kr]=n.current,zm(e),new Oc(n)},qi.version="19.2.4",qi}var k0;function rw(){if(k0)return lf.exports;k0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),lf.exports=nw(),lf.exports}var sw=rw();var D0="popstate";function lw(s={}){function l(a,o){let{pathname:u,search:d,hash:m}=a.location;return Rf("",{pathname:u,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(a,o){return typeof o=="string"?o:so(o)}return ow(l,r,null,s)}function Mt(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function gn(s,l){if(!s){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function iw(){return Math.random().toString(36).substring(2,10)}function M0(s,l){return{usr:s.state,key:s.key,idx:l}}function Rf(s,l,r=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof l=="string"?Vl(l):l,state:r,key:l&&l.key||a||iw()}}function so({pathname:s="/",search:l="",hash:r=""}){return l&&l!=="?"&&(s+=l.charAt(0)==="?"?l:"?"+l),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Vl(s){let l={};if(s){let r=s.indexOf("#");r>=0&&(l.hash=s.substring(r),s=s.substring(0,r));let a=s.indexOf("?");a>=0&&(l.search=s.substring(a),s=s.substring(0,a)),s&&(l.pathname=s)}return l}function ow(s,l,r,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,d=o.history,m="POP",x=null,p=v();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function v(){return(d.state||{idx:null}).idx}function b(){m="POP";let y=v(),w=y==null?null:y-p;p=y,x&&x({action:m,location:S.location,delta:w})}function g(y,w){m="PUSH";let D=Rf(S.location,y,w);p=v()+1;let k=M0(D,p),_=S.createHref(D);try{d.pushState(k,"",_)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;o.location.assign(_)}u&&x&&x({action:m,location:S.location,delta:1})}function j(y,w){m="REPLACE";let D=Rf(S.location,y,w);p=v();let k=M0(D,p),_=S.createHref(D);d.replaceState(k,"",_),u&&x&&x({action:m,location:S.location,delta:0})}function M(y){return cw(y)}let S={get action(){return m},get location(){return s(o,d)},listen(y){if(x)throw new Error("A history only accepts one active listener");return o.addEventListener(D0,b),x=y,()=>{o.removeEventListener(D0,b),x=null}},createHref(y){return l(o,y)},createURL:M,encodeLocation(y){let w=M(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:j,go(y){return d.go(y)}};return S}function cw(s,l=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(r,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:so(s);return a=a.replace(/ $/,"%20"),!l&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function jg(s,l,r="/"){return uw(s,l,r,!1)}function uw(s,l,r,a){let o=typeof l=="string"?Vl(l):l,u=gr(o.pathname||"/",r);if(u==null)return null;let d=wg(s);dw(d);let m=null;for(let x=0;m==null&&x<d.length;++x){let p=jw(u);m=yw(d[x],p,a)}return m}function wg(s,l=[],r=[],a="",o=!1){let u=(d,m,x=o,p)=>{let v={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&x)return;Mt(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let b=hr([a,v.relativePath]),g=r.concat(v);d.children&&d.children.length>0&&(Mt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),wg(d.children,l,g,b,x)),!(d.path==null&&!d.index)&&l.push({path:b,score:bw(b,d.index),routesMeta:g})};return s.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))u(d,m);else for(let x of Sg(d.path))u(d,m,!0,x)}),l}function Sg(s){let l=s.split("/");if(l.length===0)return[];let[r,...a]=l,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let d=Sg(a.join("/")),m=[];return m.push(...d.map(x=>x===""?u:[u,x].join("/"))),o&&m.push(...d),m.map(x=>s.startsWith("/")&&x===""?"/":x)}function dw(s){s.sort((l,r)=>l.score!==r.score?r.score-l.score:gw(l.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var mw=/^:[\w-]+$/,fw=3,pw=2,xw=1,hw=10,vw=-2,A0=s=>s==="*";function bw(s,l){let r=s.split("/"),a=r.length;return r.some(A0)&&(a+=vw),l&&(a+=pw),r.filter(o=>!A0(o)).reduce((o,u)=>o+(mw.test(u)?fw:u===""?xw:hw),a)}function gw(s,l){return s.length===l.length&&s.slice(0,-1).every((a,o)=>a===l[o])?s[s.length-1]-l[l.length-1]:0}function yw(s,l,r=!1){let{routesMeta:a}=s,o={},u="/",d=[];for(let m=0;m<a.length;++m){let x=a[m],p=m===a.length-1,v=u==="/"?l:l.slice(u.length)||"/",b=pu({path:x.relativePath,caseSensitive:x.caseSensitive,end:p},v),g=x.route;if(!b&&p&&r&&!a[a.length-1].route.index&&(b=pu({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:hr([u,b.pathname]),pathnameBase:kw(hr([u,b.pathnameBase])),route:g}),b.pathnameBase!=="/"&&(u=hr([u,b.pathnameBase]))}return d}function pu(s,l){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,a]=Nw(s.path,s.caseSensitive,s.end),o=l.match(r);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((p,{paramName:v,isOptional:b},g)=>{if(v==="*"){let M=m[g]||"";d=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const j=m[g];return b&&!j?p[v]=void 0:p[v]=(j||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:s}}function Nw(s,l=!1,r=!0){gn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,x)=>(a.push({paramName:m,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,l?void 0:"i"),a]}function jw(s){try{return s.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return gn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${l}).`),s}}function gr(s,l){if(l==="/")return s;if(!s.toLowerCase().startsWith(l.toLowerCase()))return null;let r=l.endsWith("/")?l.length-1:l.length,a=s.charAt(r);return a&&a!=="/"?null:s.slice(r)||"/"}var ww=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Sw(s,l="/"){let{pathname:r,search:a="",hash:o=""}=typeof s=="string"?Vl(s):s,u;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?u=T0(r.substring(1),"/"):u=T0(r,l)):u=l,{pathname:u,search:Dw(a),hash:Mw(o)}}function T0(s,l){let r=l.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function df(s,l,r,a){return`Cannot include a '${s}' character in a manually specified \`to.${l}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cw(s){return s.filter((l,r)=>r===0||l.route.path&&l.route.path.length>0)}function ep(s){let l=Cw(s);return l.map((r,a)=>a===l.length-1?r.pathname:r.pathnameBase)}function tp(s,l,r,a=!1){let o;typeof s=="string"?o=Vl(s):(o={...s},Mt(!o.pathname||!o.pathname.includes("?"),df("?","pathname","search",o)),Mt(!o.pathname||!o.pathname.includes("#"),df("#","pathname","hash",o)),Mt(!o.search||!o.search.includes("#"),df("#","search","hash",o)));let u=s===""||o.pathname==="",d=u?"/":o.pathname,m;if(d==null)m=r;else{let b=l.length-1;if(!a&&d.startsWith("..")){let g=d.split("/");for(;g[0]==="..";)g.shift(),b-=1;o.pathname=g.join("/")}m=b>=0?l[b]:"/"}let x=Sw(o,m),p=d&&d!=="/"&&d.endsWith("/"),v=(u||d===".")&&r.endsWith("/");return!x.pathname.endsWith("/")&&(p||v)&&(x.pathname+="/"),x}var hr=s=>s.join("/").replace(/\/\/+/g,"/"),kw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Dw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Mw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,Aw=class{constructor(s,l,r,a=!1){this.status=s,this.statusText=l||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Tw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function Ew(s){return s.map(l=>l.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Cg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function kg(s,l){let r=s;if(typeof r!="string"||!ww.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let a=r,o=!1;if(Cg)try{let u=new URL(window.location.href),d=r.startsWith("//")?new URL(u.protocol+r):new URL(r),m=gr(d.pathname,l);d.origin===u.origin&&m!=null?r=m+d.search+d.hash:o=!0}catch{gn(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Dg=["POST","PUT","PATCH","DELETE"];new Set(Dg);var _w=["GET",...Dg];new Set(_w);var Gl=N.createContext(null);Gl.displayName="DataRouter";var Iu=N.createContext(null);Iu.displayName="DataRouterState";var Ow=N.createContext(!1),Mg=N.createContext({isTransitioning:!1});Mg.displayName="ViewTransition";var Rw=N.createContext(new Map);Rw.displayName="Fetchers";var Iw=N.createContext(null);Iw.displayName="Await";var Ua=N.createContext(null);Ua.displayName="Navigation";var uo=N.createContext(null);uo.displayName="Location";var Nn=N.createContext({outlet:null,matches:[],isDataRoute:!1});Nn.displayName="Route";var ap=N.createContext(null);ap.displayName="RouteError";var Ag="REACT_ROUTER_ERROR",Lw="REDIRECT",Pw="ROUTE_ERROR_RESPONSE";function zw(s){if(s.startsWith(`${Ag}:${Lw}:{`))try{let l=JSON.parse(s.slice(28));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.location=="string"&&typeof l.reloadDocument=="boolean"&&typeof l.replace=="boolean")return l}catch{}}function Fw(s){if(s.startsWith(`${Ag}:${Pw}:{`))try{let l=JSON.parse(s.slice(40));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string")return new Aw(l.status,l.statusText,l.data)}catch{}}function Bw(s,{relative:l}={}){Mt(Ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=N.useContext(Ua),{hash:o,pathname:u,search:d}=mo(s,{relative:l}),m=u;return r!=="/"&&(m=u==="/"?r:hr([r,u])),a.createHref({pathname:m,search:d,hash:o})}function Ql(){return N.useContext(uo)!=null}function on(){return Mt(Ql(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(uo).location}var Tg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Eg(s){N.useContext(Ua).static||N.useLayoutEffect(s)}function Hs(){let{isDataRoute:s}=N.useContext(Nn);return s?t2():Hw()}function Hw(){Mt(Ql(),"useNavigate() may be used only in the context of a <Router> component.");let s=N.useContext(Gl),{basename:l,navigator:r}=N.useContext(Ua),{matches:a}=N.useContext(Nn),{pathname:o}=on(),u=JSON.stringify(ep(a)),d=N.useRef(!1);return Eg(()=>{d.current=!0}),N.useCallback((x,p={})=>{if(gn(d.current,Tg),!d.current)return;if(typeof x=="number"){r.go(x);return}let v=tp(x,JSON.parse(u),o,p.relative==="path");s==null&&l!=="/"&&(v.pathname=v.pathname==="/"?l:hr([l,v.pathname])),(p.replace?r.replace:r.push)(v,p.state,p)},[l,r,u,o,s])}var Yw=N.createContext(null);function qw(s){let l=N.useContext(Nn).outlet;return N.useMemo(()=>l&&N.createElement(Yw.Provider,{value:s},l),[l,s])}function mo(s,{relative:l}={}){let{matches:r}=N.useContext(Nn),{pathname:a}=on(),o=JSON.stringify(ep(r));return N.useMemo(()=>tp(s,JSON.parse(o),a,l==="path"),[s,o,a,l])}function $w(s,l){return _g(s,l)}function _g(s,l,r,a,o){Mt(Ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=N.useContext(Ua),{matches:d}=N.useContext(Nn),m=d[d.length-1],x=m?m.params:{},p=m?m.pathname:"/",v=m?m.pathnameBase:"/",b=m&&m.route;{let D=b&&b.path||"";Rg(p,!b||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let g=on(),j;if(l){let D=typeof l=="string"?Vl(l):l;Mt(v==="/"||D.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${D.pathname}" was given in the \`location\` prop.`),j=D}else j=g;let M=j.pathname||"/",S=M;if(v!=="/"){let D=v.replace(/^\//,"").split("/");S="/"+M.replace(/^\//,"").split("/").slice(D.length).join("/")}let y=jg(s,{pathname:S});gn(b||y!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),gn(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=Kw(y&&y.map(D=>Object.assign({},D,{params:Object.assign({},x,D.params),pathname:hr([v,u.encodeLocation?u.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:hr([v,u.encodeLocation?u.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),d,r,a,o);return l&&w?N.createElement(uo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},w):w}function Uw(){let s=e2(),l=Tw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:u},"ErrorBoundary")," or"," ",N.createElement("code",{style:u},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},l),r?N.createElement("pre",{style:o},r):null,d)}var Vw=N.createElement(Uw,null),Og=class extends N.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,l){return l.location!==s.location||l.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:l.error,location:l.location,revalidation:s.revalidation||l.revalidation}}componentDidCatch(s,l){this.props.onError?this.props.onError(s,l):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const r=Fw(s.digest);r&&(s=r)}let l=s!==void 0?N.createElement(Nn.Provider,{value:this.props.routeContext},N.createElement(ap.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?N.createElement(Gw,{error:s},l):l}};Og.contextType=Ow;var mf=new WeakMap;function Gw({children:s,error:l}){let{basename:r}=N.useContext(Ua);if(typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){let a=zw(l.digest);if(a){let o=mf.get(l);if(o)throw o;let u=kg(a.location,r);if(Cg&&!mf.get(l))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw mf.set(l,d),d}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function Qw({routeContext:s,match:l,children:r}){let a=N.useContext(Gl);return a&&a.static&&a.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=l.route.id),N.createElement(Nn.Provider,{value:s},r)}function Kw(s,l=[],r=null,a=null,o=null){if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(l.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let u=s,d=r?.errors;if(d!=null){let v=u.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);Mt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,x=-1;if(r)for(let v=0;v<u.length;v++){let b=u[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(x=v),b.route.id){let{loaderData:g,errors:j}=r,M=b.route.loader&&!g.hasOwnProperty(b.route.id)&&(!j||j[b.route.id]===void 0);if(b.route.lazy||M){m=!0,x>=0?u=u.slice(0,x+1):u=[u[0]];break}}}let p=r&&a?(v,b)=>{a(v,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:Ew(r.matches),errorInfo:b})}:void 0;return u.reduceRight((v,b,g)=>{let j,M=!1,S=null,y=null;r&&(j=d&&b.route.id?d[b.route.id]:void 0,S=b.route.errorElement||Vw,m&&(x<0&&g===0?(Rg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,y=null):x===g&&(M=!0,y=b.route.hydrateFallbackElement||null)));let w=l.concat(u.slice(0,g+1)),D=()=>{let k;return j?k=S:M?k=y:b.route.Component?k=N.createElement(b.route.Component,null):b.route.element?k=b.route.element:k=v,N.createElement(Qw,{match:b,routeContext:{outlet:v,matches:w,isDataRoute:r!=null},children:k})};return r&&(b.route.ErrorBoundary||b.route.errorElement||g===0)?N.createElement(Og,{location:r.location,revalidation:r.revalidation,component:S,error:j,children:D(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:p}):D()},null)}function np(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xw(s){let l=N.useContext(Gl);return Mt(l,np(s)),l}function Ww(s){let l=N.useContext(Iu);return Mt(l,np(s)),l}function Zw(s){let l=N.useContext(Nn);return Mt(l,np(s)),l}function rp(s){let l=Zw(s),r=l.matches[l.matches.length-1];return Mt(r.route.id,`${s} can only be used on routes that contain a unique "id"`),r.route.id}function Jw(){return rp("useRouteId")}function e2(){let s=N.useContext(ap),l=Ww("useRouteError"),r=rp("useRouteError");return s!==void 0?s:l.errors?.[r]}function t2(){let{router:s}=Xw("useNavigate"),l=rp("useNavigate"),r=N.useRef(!1);return Eg(()=>{r.current=!0}),N.useCallback(async(o,u={})=>{gn(r.current,Tg),r.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:l,...u}))},[s,l])}var E0={};function Rg(s,l,r){!l&&!E0[s]&&(E0[s]=!0,gn(!1,r))}N.memo(a2);function a2({routes:s,future:l,state:r,onError:a}){return _g(s,void 0,r,a,l)}function xu({to:s,replace:l,state:r,relative:a}){Mt(Ql(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=N.useContext(Ua);gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=N.useContext(Nn),{pathname:d}=on(),m=Hs(),x=tp(s,ep(u),d,a==="path"),p=JSON.stringify(x);return N.useEffect(()=>{m(JSON.parse(p),{replace:l,state:r,relative:a})},[m,p,a,l,r]),null}function Ig(s){return qw(s.context)}function Dt(s){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function n2({basename:s="/",children:l=null,location:r,navigationType:a="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){Mt(!Ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),x=N.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[m,o,u,d]);typeof r=="string"&&(r=Vl(r));let{pathname:p="/",search:v="",hash:b="",state:g=null,key:j="default"}=r,M=N.useMemo(()=>{let S=gr(p,m);return S==null?null:{location:{pathname:S,search:v,hash:b,state:g,key:j},navigationType:a}},[m,p,v,b,g,j,a]);return gn(M!=null,`<Router basename="${m}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:N.createElement(Ua.Provider,{value:x},N.createElement(uo.Provider,{children:l,value:M}))}function r2({children:s,location:l}){return $w(If(s),l)}function If(s,l=[]){let r=[];return N.Children.forEach(s,(a,o)=>{if(!N.isValidElement(a))return;let u=[...l,o];if(a.type===N.Fragment){r.push.apply(r,If(a.props.children,u));return}Mt(a.type===Dt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=If(a.props.children,u)),r.push(d)}),r}var ru="get",su="application/x-www-form-urlencoded";function Lu(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function s2(s){return Lu(s)&&s.tagName.toLowerCase()==="button"}function l2(s){return Lu(s)&&s.tagName.toLowerCase()==="form"}function i2(s){return Lu(s)&&s.tagName.toLowerCase()==="input"}function o2(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function c2(s,l){return s.button===0&&(!l||l==="_self")&&!o2(s)}var Ic=null;function u2(){if(Ic===null)try{new FormData(document.createElement("form"),0),Ic=!1}catch{Ic=!0}return Ic}var d2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ff(s){return s!=null&&!d2.has(s)?(gn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${su}"`),null):s}function m2(s,l){let r,a,o,u,d;if(l2(s)){let m=s.getAttribute("action");a=m?gr(m,l):null,r=s.getAttribute("method")||ru,o=ff(s.getAttribute("enctype"))||su,u=new FormData(s)}else if(s2(s)||i2(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=s.getAttribute("formaction")||m.getAttribute("action");if(a=x?gr(x,l):null,r=s.getAttribute("formmethod")||m.getAttribute("method")||ru,o=ff(s.getAttribute("formenctype"))||ff(m.getAttribute("enctype"))||su,u=new FormData(m,s),!u2()){let{name:p,type:v,value:b}=s;if(v==="image"){let g=p?`${p}.`:"";u.append(`${g}x`,"0"),u.append(`${g}y`,"0")}else p&&u.append(p,b)}}else{if(Lu(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ru,a=null,o=su,d=s}return u&&o==="text/plain"&&(d=u,u=void 0),{action:a,method:r.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sp(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function f2(s,l,r,a){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:l&&gr(o.pathname,l)==="/"?o.pathname=`${l.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function p2(s,l){if(s.id in l)return l[s.id];try{let r=await import(s.module);return l[s.id]=r,r}catch(r){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function x2(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function h2(s,l,r){let a=await Promise.all(s.map(async o=>{let u=l.routes[o.route.id];if(u){let d=await p2(u,r);return d.links?d.links():[]}return[]}));return y2(a.flat(1).filter(x2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function _0(s,l,r,a,o,u){let d=(x,p)=>r[p]?x.route.id!==r[p].route.id:!0,m=(x,p)=>r[p].pathname!==x.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==x.params["*"];return u==="assets"?l.filter((x,p)=>d(x,p)||m(x,p)):u==="data"?l.filter((x,p)=>{let v=a.routes[x.route.id];if(!v||!v.hasLoader)return!1;if(d(x,p)||m(x,p))return!0;if(x.route.shouldRevalidate){let b=x.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function v2(s,l,{includeHydrateFallback:r}={}){return b2(s.map(a=>{let o=l.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function b2(s){return[...new Set(s)]}function g2(s){let l={},r=Object.keys(s).sort();for(let a of r)l[a]=s[a];return l}function y2(s,l){let r=new Set;return new Set(l),s.reduce((a,o)=>{let u=JSON.stringify(g2(o));return r.has(u)||(r.add(u),a.push({key:u,link:o})),a},[])}function Lg(){let s=N.useContext(Gl);return sp(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function N2(){let s=N.useContext(Iu);return sp(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var lp=N.createContext(void 0);lp.displayName="FrameworkContext";function Pg(){let s=N.useContext(lp);return sp(s,"You must render this element inside a <HydratedRouter> element"),s}function j2(s,l){let r=N.useContext(lp),[a,o]=N.useState(!1),[u,d]=N.useState(!1),{onFocus:m,onBlur:x,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=l,g=N.useRef(null);N.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let S=w=>{w.forEach(D=>{d(D.isIntersecting)})},y=new IntersectionObserver(S,{threshold:.5});return g.current&&y.observe(g.current),()=>{y.disconnect()}}},[s]),N.useEffect(()=>{if(a){let S=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(S)}}},[a]);let j=()=>{o(!0)},M=()=>{o(!1),d(!1)};return r?s!=="intent"?[u,g,{}]:[u,g,{onFocus:$i(m,j),onBlur:$i(x,M),onMouseEnter:$i(p,j),onMouseLeave:$i(v,M),onTouchStart:$i(b,j)}]:[!1,g,{}]}function $i(s,l){return r=>{s&&s(r),r.defaultPrevented||l(r)}}function w2({page:s,...l}){let{router:r}=Lg(),a=N.useMemo(()=>jg(r.routes,s,r.basename),[r.routes,s,r.basename]);return a?N.createElement(C2,{page:s,matches:a,...l}):null}function S2(s){let{manifest:l,routeModules:r}=Pg(),[a,o]=N.useState([]);return N.useEffect(()=>{let u=!1;return h2(s,l,r).then(d=>{u||o(d)}),()=>{u=!0}},[s,l,r]),a}function C2({page:s,matches:l,...r}){let a=on(),{future:o,manifest:u,routeModules:d}=Pg(),{basename:m}=Lg(),{loaderData:x,matches:p}=N2(),v=N.useMemo(()=>_0(s,l,p,u,a,"data"),[s,l,p,u,a]),b=N.useMemo(()=>_0(s,l,p,u,a,"assets"),[s,l,p,u,a]),g=N.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let S=new Set,y=!1;if(l.forEach(D=>{let k=u.routes[D.route.id];!k||!k.hasLoader||(!v.some(_=>_.route.id===D.route.id)&&D.route.id in x&&d[D.route.id]?.shouldRevalidate||k.hasClientLoader?y=!0:S.add(D.route.id))}),S.size===0)return[];let w=f2(s,m,o.unstable_trailingSlashAwareDataRequests,"data");return y&&S.size>0&&w.searchParams.set("_routes",l.filter(D=>S.has(D.route.id)).map(D=>D.route.id).join(",")),[w.pathname+w.search]},[m,o.unstable_trailingSlashAwareDataRequests,x,a,u,v,l,s,d]),j=N.useMemo(()=>v2(b,u),[b,u]),M=S2(b);return N.createElement(N.Fragment,null,g.map(S=>N.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),j.map(S=>N.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),M.map(({key:S,link:y})=>N.createElement("link",{key:S,nonce:r.nonce,...y,crossOrigin:y.crossOrigin??r.crossOrigin})))}function k2(...s){return l=>{s.forEach(r=>{typeof r=="function"?r(l):r!=null&&(r.current=l)})}}var D2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{D2&&(window.__reactRouterVersion="7.13.0")}catch{}function M2({basename:s,children:l,unstable_useTransitions:r,window:a}){let o=N.useRef();o.current==null&&(o.current=lw({window:a,v5Compat:!0}));let u=o.current,[d,m]=N.useState({action:u.action,location:u.location}),x=N.useCallback(p=>{r===!1?m(p):N.startTransition(()=>m(p))},[r]);return N.useLayoutEffect(()=>u.listen(x),[u,x]),N.createElement(n2,{basename:s,children:l,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:r})}var zg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tl=N.forwardRef(function({onClick:l,discover:r="render",prefetch:a="none",relative:o,reloadDocument:u,replace:d,state:m,target:x,to:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:g,...j},M){let{basename:S,unstable_useTransitions:y}=N.useContext(Ua),w=typeof p=="string"&&zg.test(p),D=kg(p,S);p=D.to;let k=Bw(p,{relative:o}),[_,O,Y]=j2(a,j),P=E2(p,{replace:d,state:m,target:x,preventScrollReset:v,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:g,unstable_useTransitions:y});function T(I){l&&l(I),I.defaultPrevented||P(I)}let R=N.createElement("a",{...j,...Y,href:D.absoluteURL||k,onClick:D.isExternal||u?l:T,ref:k2(M,O),target:x,"data-discover":!w&&r==="render"?"true":void 0});return _&&!w?N.createElement(N.Fragment,null,R,N.createElement(w2,{page:k})):R});Tl.displayName="Link";var ip=N.forwardRef(function({"aria-current":l="page",caseSensitive:r=!1,className:a="",end:o=!1,style:u,to:d,viewTransition:m,children:x,...p},v){let b=mo(d,{relative:p.relative}),g=on(),j=N.useContext(Iu),{navigator:M,basename:S}=N.useContext(Ua),y=j!=null&&L2(b)&&m===!0,w=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,D=g.pathname,k=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;r||(D=D.toLowerCase(),k=k?k.toLowerCase():null,w=w.toLowerCase()),k&&S&&(k=gr(k,S)||k);const _=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let O=D===w||!o&&D.startsWith(w)&&D.charAt(_)==="/",Y=k!=null&&(k===w||!o&&k.startsWith(w)&&k.charAt(w.length)==="/"),P={isActive:O,isPending:Y,isTransitioning:y},T=O?l:void 0,R;typeof a=="function"?R=a(P):R=[a,O?"active":null,Y?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(P):u;return N.createElement(Tl,{...p,"aria-current":T,className:R,ref:v,style:I,to:d,viewTransition:m},typeof x=="function"?x(P):x)});ip.displayName="NavLink";var A2=N.forwardRef(({discover:s="render",fetcherKey:l,navigate:r,reloadDocument:a,replace:o,state:u,method:d=ru,action:m,onSubmit:x,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:g,...j},M)=>{let{unstable_useTransitions:S}=N.useContext(Ua),y=R2(),w=I2(m,{relative:p}),D=d.toLowerCase()==="get"?"get":"post",k=typeof m=="string"&&zg.test(m),_=O=>{if(x&&x(O),O.defaultPrevented)return;O.preventDefault();let Y=O.nativeEvent.submitter,P=Y?.getAttribute("formmethod")||d,T=()=>y(Y||O.currentTarget,{fetcherKey:l,method:P,navigate:r,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:g});S&&r!==!1?N.startTransition(()=>T()):T()};return N.createElement("form",{ref:M,method:D,action:w,onSubmit:a?x:_,...j,"data-discover":!k&&s==="render"?"true":void 0})});A2.displayName="Form";function T2(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fg(s){let l=N.useContext(Gl);return Mt(l,T2(s)),l}function E2(s,{target:l,replace:r,state:a,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:m,unstable_useTransitions:x}={}){let p=Hs(),v=on(),b=mo(s,{relative:u});return N.useCallback(g=>{if(c2(g,l)){g.preventDefault();let j=r!==void 0?r:so(v)===so(b),M=()=>p(s,{replace:j,state:a,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:m});x?N.startTransition(()=>M()):M()}},[v,p,b,r,a,l,s,o,u,d,m,x])}var _2=0,O2=()=>`__${String(++_2)}__`;function R2(){let{router:s}=Fg("useSubmit"),{basename:l}=N.useContext(Ua),r=Jw(),a=s.fetch,o=s.navigate;return N.useCallback(async(u,d={})=>{let{action:m,method:x,encType:p,formData:v,body:b}=m2(u,l);if(d.navigate===!1){let g=d.fetcherKey||O2();await a(g,r,d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:b,formMethod:d.method||x,formEncType:d.encType||p,flushSync:d.flushSync})}else await o(d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:b,formMethod:d.method||x,formEncType:d.encType||p,replace:d.replace,state:d.state,fromRouteId:r,flushSync:d.flushSync,viewTransition:d.viewTransition})},[a,o,l,r])}function I2(s,{relative:l}={}){let{basename:r}=N.useContext(Ua),a=N.useContext(Nn);Mt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...mo(s||".",{relative:l})},d=on();if(s==null){u.search=d.search;let m=new URLSearchParams(u.search),x=m.getAll("index");if(x.some(v=>v==="")){m.delete("index"),x.filter(b=>b).forEach(b=>m.append("index",b));let v=m.toString();u.search=v?`?${v}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:hr([r,u.pathname])),so(u)}function L2(s,{relative:l}={}){let r=N.useContext(Mg);Mt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Fg("useViewTransitionState"),o=mo(s,{relative:l});if(!r.isTransitioning)return!1;let u=gr(r.currentLocation.pathname,a)||r.currentLocation.pathname,d=gr(r.nextLocation.pathname,a)||r.nextLocation.pathname;return pu(o.pathname,d)!=null||pu(o.pathname,u)!=null}var op=Ng();const P2=gg(op),z2="AKfycby0FthmOGshBpSJMSBDLStz8OedJMPpTx8noLQ_sj7lk6-PydgzLYNonLZXWd-dR_AM",cp="cf_access_token",up="cf_token_expiry",dp="cf_user_name";function hu(){const s=localStorage.getItem(up);return s&&Date.now()>Number(s)?(lu(),null):localStorage.getItem(cp)}function O0(s,l=3500){localStorage.setItem(cp,s),localStorage.setItem(up,String(Date.now()+l*1e3))}function lu(){localStorage.removeItem(cp),localStorage.removeItem(up),localStorage.removeItem(dp)}function R0(){return!!hu()}function I0(s){localStorage.setItem(dp,s)}function F2(){return localStorage.getItem(dp)||""}let Lf=null;function B2(s){Lf=s}async function Se(s,l={},r=!0){const a=hu();if(!a)throw new Error("Not authenticated. Please sign in.");const m=await(await fetch(`https://script.googleapis.com/v1/scripts/${z2}:run`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({function:"apiRouter",devMode:!1,parameters:[{action:s,params:l,userName:F2()}]})})).json();if(m.error){if(r&&(m.error.code===401||m.error.code===403||m.error.status==="UNAUTHENTICATED"||m.error.status==="PERMISSION_DENIED")&&Lf)try{return await Lf(),Se(s,l,!1)}catch{}if(m.error.details&&m.error.details.length>0){const x=m.error.details[0];throw new Error(x.errorMessage||"Script execution error")}throw new Error(m.error.message||"API error")}if(m.response&&m.response.result!==void 0){const x=m.response.result;if(x&&!x.success){const v=new Error(x.error||"Unknown error");throw v.code=x.code,v}const p=x?x.data:null;if(p&&p.success===!1)throw new Error(p.message||"Operation failed");return p}throw new Error("Unexpected response format")}const L0=()=>Se("auth:me"),H2=(s,l)=>Se("auth:invite",{email:s,name:l}),vu=()=>Se("data:load-all"),Bg=()=>Se("members:list"),Hg=s=>Se("member:create",s),Yg=s=>Se("member:update",s),qg=s=>Se("member:delete",{memberId:s}),$g=()=>Se("banks:list"),Ug=s=>Se("bank:create",s),Y2=s=>Se("bank:update",s),Vg=s=>Se("bank:delete",{accountId:s}),Gg=()=>Se("invaccounts:list"),Qg=s=>Se("invacct:create",s),q2=s=>Se("invacct:update",s),Kg=s=>Se("invacct:delete",{accountId:s}),$2=()=>Se("portfolios:list"),U2=s=>Se("portfolio:create",s),V2=s=>Se("portfolio:update",s),G2=s=>Se("portfolio:delete",{portfolioId:s}),Q2=s=>Se("mf:invest",s),K2=s=>Se("mf:redeem",s),X2=s=>Se("mf:switch",s),W2=(s,l)=>Se("mf:allocations-update",{portfolioId:s,allocations:l}),Z2=()=>Se("funds:all"),J2=s=>Se("asset-allocation:save",s),Xg=()=>Se("goals:list"),Wg=s=>Se("goal:create",s),eS=(s,l)=>Se("goal:update",{goalId:s,...l}),Zg=s=>Se("goal:delete",{goalId:s}),tS=()=>Se("goal:mappings-list"),aS=(s,l)=>Se("goal:mappings-update",{goalId:s,mappings:l}),Jg=()=>Se("insurance:list"),ey=s=>Se("insurance:create",s),nS=s=>Se("insurance:update",s),ty=s=>Se("insurance:delete",{policyId:s}),ay=()=>Se("liabilities:list"),ny=s=>Se("liability:create",s),rS=s=>Se("liability:update",s),ry=s=>Se("liability:delete",{liabilityId:s}),sy=()=>Se("otherinv:list"),ly=s=>Se("otherinv:create",s),sS=s=>Se("otherinv:update",s),iy=s=>Se("otherinv:delete",{investmentId:s}),oy=()=>Se("stock-portfolios:list"),cy=s=>Se("stock-portfolio:create",s),lS=s=>Se("stock-portfolio:update",s),uy=s=>Se("stock-portfolio:delete",{portfolioId:s}),iS=s=>Se("stock:buy",s),oS=s=>Se("stock:sell",s),cS=s=>Se("mf-transaction:delete",{transactionId:s}),uS=s=>Se("mf-transaction:edit",s),dS=()=>Se("mf-holdings:list"),mS=()=>Se("mf-transactions:list"),fS=()=>Se("stock-holdings:list-all"),pS=()=>Se("stock-transactions:list-all"),dy=()=>Se("reminders:list"),my=s=>Se("reminder:create",s),xS=s=>Se("reminder:update",s),fy=s=>Se("reminder:delete",{reminderId:s}),hS=s=>Se("healthcheck:save",s),py=()=>Se("healthcheck:get"),vS=()=>Se("settings:list"),bS=s=>Se("settings:update",s),gS=()=>Se("market:data"),yS=()=>Se("data:refresh-master");typeof window<"u"&&(window._cf={callAPI:Se,checkTriggers:()=>Se("test:triggers"),diagnose:()=>Se("test:diagnose")});const NS="capital-friends",jS=1,Oa="cache";let Ui=null;function Kl(){return Ui||(Ui=new Promise((s,l)=>{const r=indexedDB.open(NS,jS);r.onupgradeneeded=a=>{const o=a.target.result;o.objectStoreNames.contains(Oa)||o.createObjectStore(Oa,{keyPath:"key"})},r.onsuccess=()=>s(r.result),r.onerror=()=>{console.warn("[idb] Failed to open database:",r.error),Ui=null,l(r.error)}}),Ui)}async function xy(s){try{const l=await Kl();return new Promise(r=>{const o=l.transaction(Oa,"readonly").objectStore(Oa).get(s);o.onsuccess=()=>r(o.result?o.result.data:null),o.onerror=()=>r(null)})}catch{return null}}async function wS(s){try{const l=await Kl();return new Promise(r=>{const o=l.transaction(Oa,"readonly").objectStore(Oa).get(s);o.onsuccess=()=>r(o.result||null),o.onerror=()=>r(null)})}catch{return null}}async function Aa(s,l){try{const r=await Kl();return new Promise(a=>{const o=r.transaction(Oa,"readwrite");o.objectStore(Oa).put({key:s,data:l,updatedAt:Date.now()}),o.oncomplete=()=>a(),o.onerror=()=>a()})}catch{}}async function SS(){try{const s=await Kl();return new Promise(l=>{const a=s.transaction(Oa,"readonly").objectStore(Oa).getAll();a.onsuccess=()=>{const o={};for(const u of a.result||[])o[u.key]=u.data;l(o)},a.onerror=()=>l({})})}catch{return{}}}async function pf(s){try{const l=await Kl();return new Promise(r=>{const a=l.transaction(Oa,"readwrite"),o=a.objectStore(Oa),u=Date.now();for(const[d,m]of Object.entries(s))o.put({key:d,data:m,updatedAt:u});a.oncomplete=()=>r(),a.onerror=()=>r()})}catch{}}async function CS(){try{const s=await Kl();return new Promise(l=>{const r=s.transaction(Oa,"readwrite");r.objectStore(Oa).clear(),r.oncomplete=()=>l(),r.onerror=()=>l()})}catch{}}const hy=N.createContext(null),kS="868467315292-7hfrvkh8pq8f1e2l3v38m6qrupboa295.apps.googleusercontent.com",DS=["https://www.googleapis.com/auth/spreadsheets","https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/gmail.send","https://www.googleapis.com/auth/script.scriptapp","openid","email","profile"].join(" "),mp="cf_user_profile";function P0(){try{const s=localStorage.getItem(mp);return s?JSON.parse(s):null}catch{return null}}function MS(s){try{localStorage.setItem(mp,JSON.stringify(s))}catch{}}function z0(){localStorage.removeItem(mp)}function AS({children:s}){const l=R0()?P0():null,[r,a]=N.useState(l),[o,u]=N.useState(!l),[d,m]=N.useState(null),x=N.useRef(null);function p(w){a(w),w?MS(w):z0()}N.useEffect(()=>{const w=()=>{if(!window.google?.accounts?.oauth2){setTimeout(w,200);return}x.current=window.google.accounts.oauth2.initTokenClient({client_id:kS,scope:DS,callback:v}),B2(j),R0()?g():u(!1)};w()},[]);async function v(w){if(w.error){m(w.error_description||w.error),u(!1);return}try{u(!0),m(null),O0(w.access_token,w.expires_in);const D=await b(w.access_token);I0(D.name||"");const k=await L0();p({email:k.email||D.email,name:k.name||D.name,role:k.role,picture:D.picture||""})}catch(D){m(D.message),lu(),p(null)}finally{u(!1)}}async function b(w){const D=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${w}`}});if(!D.ok)throw new Error("Failed to fetch user profile");return D.json()}async function g(){const w=!!P0();try{const D=hu(),k=await b(D);I0(k.name||"");const _=await L0();p({email:_.email||k.email,name:_.name||k.name,role:_.role,picture:k.picture||""})}catch{lu(),p(null)}finally{w||u(!1)}}function j(){return new Promise((w,D)=>{if(!x.current){D(new Error("Token client not initialized"));return}const k=x.current,_=k.callback;k.callback=O=>{k.callback=_,O.error?D(new Error(O.error)):(O0(O.access_token,O.expires_in),w())},k.requestAccessToken({prompt:""})})}const M=N.useCallback(()=>{x.current&&(m(null),x.current.requestAccessToken())},[]),S=N.useCallback(()=>{const w=hu();w&&window.google?.accounts?.oauth2&&window.google.accounts.oauth2.revoke(w),lu(),z0(),CS(),sessionStorage.removeItem("cf_health_check"),a(null)},[]),y={user:r,loading:o,error:d,isAuthenticated:!!r,isOwner:r?.role==="owner",signIn:M,signOut:S};return t.jsx(hy.Provider,{value:y,children:s})}function Ys(){const s=N.useContext(hy);if(!s)throw new Error("useAuth must be used within AuthProvider");return s}const vy=N.createContext();function TS({children:s}){const[l,r]=N.useState(()=>{const o=localStorage.getItem("cf-theme");return o||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")});N.useEffect(()=>{localStorage.setItem("cf-theme",l),document.documentElement.setAttribute("data-theme",l)},[l]);const a=()=>r(o=>o==="dark"?"light":"dark");return t.jsx(vy.Provider,{value:{theme:l,toggle:a},children:s})}function by(){return N.useContext(vy)}const gy=N.createContext(),yy="cf_hc_done";function ES(){try{return sessionStorage.getItem(yy)==="1"?!0:null}catch{return null}}function wl(s){try{sessionStorage.setItem(yy,s?"1":"0")}catch{}}function _S({children:s}){const{isAuthenticated:l}=Ys(),r=l?ES():null,[a,o]=N.useState(!0),[u,d]=N.useState(!1),[m,x]=N.useState(null),[p,v]=N.useState(null),[b,g]=N.useState(null),[j,M]=N.useState(null),[S,y]=N.useState(null),[w,D]=N.useState(null),[k,_]=N.useState(null),[O,Y]=N.useState(null),[P,T]=N.useState(null),[R,I]=N.useState(null),[q,A]=N.useState(null),[ee,se]=N.useState(null),[Q,B]=N.useState(null),[K,L]=N.useState(null),[le,ve]=N.useState(null),[z,te]=N.useState(null),[me,he]=N.useState(null),[Z,xe]=N.useState(null),[fe,be]=N.useState(r!==null?r:null),_e=N.useRef(!1),Nt=N.useCallback(H=>{H&&("members"in H&&v(H.members||[]),"bankAccounts"in H&&g(H.bankAccounts||[]),"investments"in H&&M(H.investments||[]),"insurancePolicies"in H&&y(H.insurancePolicies||[]),"liabilities"in H&&D(H.liabilities||[]),"otherInvestments"in H&&_(H.otherInvestments||[]),"stockPortfolios"in H&&Y(H.stockPortfolios||[]),"stockHoldings"in H&&T(H.stockHoldings||[]),"stockTransactions"in H&&I(H.stockTransactions||[]),"mfPortfolios"in H&&A(H.mfPortfolios||[]),"mfHoldings"in H&&se((H.mfHoldings||[]).map(pe=>pe.schemeCode?pe:{...pe,schemeCode:pe.fundCode})),"mfTransactions"in H&&B(H.mfTransactions||[]),"goals"in H&&L(H.goals||[]),"reminders"in H&&ve(H.reminders||[]),"goalPortfolioMappings"in H&&te(H.goalPortfolioMappings||[]),"assetAllocations"in H&&he(H.assetAllocations||[]),"settings"in H&&xe(H.settings||{}))},[]),Ot=N.useCallback(H=>{pf({members:H.members||[],bankAccounts:H.bankAccounts||[],investments:H.investments||[],insurancePolicies:H.insurancePolicies||[],liabilities:H.liabilities||[],otherInvestments:H.otherInvestments||[],stockPortfolios:H.stockPortfolios||[],stockHoldings:H.stockHoldings||[],stockTransactions:H.stockTransactions||[],mfPortfolios:H.mfPortfolios||[],mfHoldings:H.mfHoldings||[],mfTransactions:H.mfTransactions||[],goals:H.goals||[],reminders:H.reminders||[],goalPortfolioMappings:H.goalPortfolioMappings||[],assetAllocations:H.assetAllocations||[]})},[]),ra=N.useCallback(async(H=!1)=>{try{H?d(!0):o(!0),x(null);const pe=await vu();Nt(pe),Ot(pe)}catch(pe){x(pe.message)}finally{o(!1),d(!1)}},[Nt,Ot]),Kt=N.useCallback(async()=>{const H=await Bg();v(H||[]),Aa("members",H||[])},[]),ye=N.useCallback(async()=>{const H=await $g();g(H||[]),Aa("bankAccounts",H||[])},[]),Ie=N.useCallback(async()=>{const H=await Gg();M(H||[]),Aa("investments",H||[])},[]),Je=N.useCallback(async()=>{const H=await Jg();y(H||[]),Aa("insurancePolicies",H||[])},[]),Ct=N.useCallback(async()=>{const H=await ay();D(H||[]),Aa("liabilities",H||[])},[]),ot=N.useCallback(async()=>{const H=await sy();_(H||[]),Aa("otherInvestments",H||[])},[]),ma=N.useCallback(async()=>{const[H,pe]=await Promise.all([Xg(),tS()]);L(H||[]),te(pe||[]),Aa("goals",H||[]),Aa("goalPortfolioMappings",pe||[])},[]),sa=N.useCallback(async()=>{const H=await dy();ve(H||[]),Aa("reminders",H||[])},[]),bt=N.useCallback(async()=>{const[H,pe,tt]=await Promise.all([$2(),dS(),mS()]),ya=(pe||[]).map(wn=>wn.schemeCode?wn:{...wn,schemeCode:wn.fundCode});A(H||[]),se(ya),B(tt||[]),pf({mfPortfolios:H||[],mfHoldings:ya,mfTransactions:tt||[]})},[]),la=N.useCallback(async()=>{const[H,pe,tt]=await Promise.all([oy(),fS(),pS()]);Y(H||[]),T(pe||[]),I(tt||[]),pf({stockPortfolios:H||[],stockHoldings:pe||[],stockTransactions:tt||[]})},[]),Va=N.useCallback(async()=>{const H=await vS();xe(H||{}),Aa("settings",H||{})},[]),Ft=N.useCallback(async H=>{await bS(H),await Va()},[Va]),un=N.useCallback(async()=>{try{const H=await xy("healthCheckAnswers");if(H&&Object.keys(H).length>0){be(!0),wl(!0);return}const pe=await py();pe&&Object.keys(pe).length>0?(be(!0),wl(!0),Aa("healthCheckAnswers",pe)):(be(!1),wl(!1))}catch{be(!1),wl(!1)}},[]),Oe=N.useCallback(async H=>{const pe=await hS(H);return pe?.success&&(be(!0),wl(!0),Aa("healthCheckAnswers",H)),pe},[]);N.useEffect(()=>{if(!l){o(!1);return}if(_e.current)return;_e.current=!0;async function H(){const pe=await SS(),tt=Object.keys(pe).length>0;tt&&(Nt(pe),pe.healthCheckAnswers&&Object.keys(pe.healthCheckAnswers).length>0&&(be(!0),wl(!0)),o(!1));try{tt&&d(!0);const ya=await vu();Nt(ya),Ot(ya)}catch(ya){tt||x(ya.message)}finally{o(!1),d(!1)}}H(),Va().catch(()=>{}),r===null&&un().catch(()=>{})},[l,Nt,Ot,Va,un]),N.useEffect(()=>{l||(_e.current=!1)},[l]);const ct=N.useCallback(async H=>{const pe=await Hg(H);if(H.email)try{await H2(H.email,H.memberName)}catch(tt){console.warn("Auto-invite failed (non-blocking):",tt.message)}return await Kt(),pe},[Kt]),U=N.useCallback(async(H,pe)=>{await Yg({memberId:H,...pe}),await Kt()},[Kt]),ie=N.useCallback(async H=>{await qg(H),await Kt()},[Kt]),Ne=N.useCallback(async H=>{const pe=await Ug(H);return await ye(),pe},[ye]),Be=N.useCallback(async(H,pe)=>{await Y2({accountId:H,...pe}),await ye()},[ye]),et=N.useCallback(async H=>{await Vg(H),await ye()},[ye]),ue=N.useCallback(async H=>{const pe=await Qg(H);return await Ie(),pe},[Ie]),nt=N.useCallback(async(H,pe)=>{await q2({accountId:H,...pe}),await Ie()},[Ie]),Te=N.useCallback(async H=>{await Kg(H),await Ie()},[Ie]),De=N.useCallback(async H=>{const pe=await ey(H);return await Je(),pe},[Je]),gt=N.useCallback(async(H,pe)=>{await nS({policyId:H,...pe}),await Je()},[Je]),qe=N.useCallback(async H=>{await ty(H),await Je()},[Je]),fa=N.useCallback(async H=>{const pe=await ny(H);return await Ct(),pe},[Ct]),ze=N.useCallback(async(H,pe)=>{await rS({liabilityId:H,...pe}),await Ct()},[Ct]),pt=N.useCallback(async H=>{await ry(H),await Ct()},[Ct]),ba=N.useCallback(async H=>{const pe=await ly(H);return await ot(),H.quickLoan&&await Ct(),pe},[ot,Ct]),Bt=N.useCallback(async(H,pe)=>{await sS({investmentId:H,...pe}),await ot()},[ot]),ga=N.useCallback(async H=>{await iy(H),await ot()},[ot]),dn=N.useCallback(async H=>{const pe=await Wg(H);return await ma(),pe},[ma]),ls=N.useCallback(async(H,pe)=>{await eS(H,pe),await ma()},[ma]),ge=N.useCallback(async H=>{await Zg(H),await ma()},[ma]),Ut=N.useCallback(async H=>{const pe=await my(H);return await sa(),pe},[sa]),Ga=N.useCallback(async(H,pe)=>{await xS({reminderId:H,...pe}),await sa()},[sa]),Un=N.useCallback(async H=>{await fy(H),await sa()},[sa]),Vn=N.useCallback(async(H,pe)=>{await aS(H,pe),await ma()},[ma]),Gn=N.useCallback(async H=>{const pe=await cy(H);return await la(),pe},[la]),is=N.useCallback(async(H,pe)=>{await lS({portfolioId:H,...pe}),await la()},[la]),Qn=N.useCallback(async H=>{await uy(H),await la()},[la]),Cr=N.useCallback(async H=>{const pe=await iS(H);return await la(),pe},[la]),go=N.useCallback(async H=>{const pe=await oS(H);return await la(),pe},[la]),yo=N.useCallback(async H=>{const pe=await U2(H);return await bt(),pe},[bt]),jn=N.useCallback(async(H,pe)=>{await V2({portfolioId:H,...pe}),await bt()},[bt]),Vt=N.useCallback(async H=>{await G2(H),await bt()},[bt]),ia=N.useCallback(async(H,pe)=>{const tt=await Q2({...H,transactionType:pe});return await bt(),tt},[bt]),kr=N.useCallback(async H=>{const pe=await K2(H);return await bt(),pe},[bt]),Jl=N.useCallback(async H=>{const pe=await X2(H);return await bt(),pe},[bt]),Ku=N.useCallback(async(H,pe)=>{await W2(H,pe),await bt()},[bt]),Xu=N.useCallback(async H=>{await cS(H),await bt()},[bt]),No=N.useCallback(async H=>{await uS(H),await bt()},[bt]),os=N.useCallback(async H=>{const pe=await J2(H);return he(tt=>{const ya=tt||[],wn=ya.findIndex(cs=>cs.fundCode===H.fundCode),Na={};H.equity&&(Na.Equity=H.equity),H.debt&&(Na.Debt=H.debt),H.cash&&(Na.Cash=H.cash),H.realEstate&&(Na["Real Estate"]=H.realEstate),H.commodities&&(Na.Commodities=H.commodities);const Qa={};H.largeCap&&(Qa.Large=H.largeCap),H.midCap&&(Qa.Mid=H.midCap),H.smallCap&&(Qa.Small=H.smallCap),H.microCap&&(Qa.Micro=H.microCap);const jo={fundCode:H.fundCode,fundName:H.fundName,assetAllocation:Na,equityAllocation:Qa};if(wn>=0){const cs=[...ya];return cs[wn]=jo,cs}return[...ya,jo]}),pe},[]),ei=(p||[]).filter(H=>H.status==="Active"),Dr=(b||[]).filter(H=>H.status==="Active"),Mr=(j||[]).filter(H=>H.status==="Active");return t.jsx(gy.Provider,{value:{loading:a,isRefreshing:u,error:m,refreshData:ra,members:p,banks:b,investmentAccounts:j,insurancePolicies:S,liabilityList:w,otherInvList:k,activeMembers:ei,activeBanks:Dr,activeInvestmentAccounts:Mr,addMember:ct,updateMember:U,deleteMember:ie,addBankAccount:Ne,updateBankAccount:Be,deleteBankAccount:et,addInvestmentAccount:ue,updateInvestmentAccount:nt,deleteInvestmentAccount:Te,addInsurance:De,updateInsurance:gt,deleteInsurance:qe,addLiability:fa,updateLiability:ze,deleteLiability:pt,addOtherInvestment:ba,updateOtherInvestment:Bt,deleteOtherInvestment:ga,goalList:K,addGoal:dn,updateGoal:ls,deleteGoal:ge,reminderList:le,addReminder:Ut,updateReminder:Ga,deleteReminder:Un,goalPortfolioMappings:z,updateGoalMappings:Vn,assetAllocations:me,updateAssetAllocation:os,stockPortfolios:O,stockHoldings:P,stockTransactions:R,addStockPortfolio:Gn,updateStockPortfolio:is,deleteStockPortfolio:Qn,buyStock:Cr,sellStock:go,mfPortfolios:q,mfHoldings:ee,mfTransactions:Q,addMFPortfolio:yo,updateMFPortfolio:jn,deleteMFPortfolio:Vt,investMF:ia,redeemMF:kr,switchMF:Jl,updateHoldingAllocations:Ku,deleteMFTransaction:Xu,editMFTransaction:No,settings:Z,updateSettings:Ft,refreshSettings:Va,healthCheckCompleted:fe,completeHealthCheck:Oe},children:s})}function Qe(){return N.useContext(gy)}const Ny=N.createContext();function OS({children:s}){const{activeMembers:l}=Qe(),[r,a]=N.useState("all"),o=l.find(u=>u.memberId===r)||null;return t.jsx(Ny.Provider,{value:{selectedMember:r,setSelectedMember:a,member:o,familyMembers:l},children:s})}function aa(){return N.useContext(Ny)}const jy=(...s)=>s.filter((l,r,a)=>!!l&&l.trim()!==""&&a.indexOf(l)===r).join(" ").trim();const RS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const IS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(l,r,a)=>a?a.toUpperCase():r.toLowerCase());const F0=s=>{const l=IS(s);return l.charAt(0).toUpperCase()+l.slice(1)};var LS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const PS=s=>{for(const l in s)if(l.startsWith("aria-")||l==="role"||l==="title")return!0;return!1};const zS=N.forwardRef(({color:s="currentColor",size:l=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:d,...m},x)=>N.createElement("svg",{ref:x,...LS,width:l,height:l,stroke:s,strokeWidth:a?Number(r)*24/Number(l):r,className:jy("lucide",o),...!u&&!PS(m)&&{"aria-hidden":"true"},...m},[...d.map(([p,v])=>N.createElement(p,v)),...Array.isArray(u)?u:[u]]));const Ce=(s,l)=>{const r=N.forwardRef(({className:a,...o},u)=>N.createElement(zS,{ref:u,iconNode:l,className:jy(`lucide-${RS(F0(s))}`,`lucide-${s}`,a),...o}));return r.displayName=F0(s),r};const FS=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],BS=Ce("arrow-down",FS);const HS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],YS=Ce("arrow-right",HS);const qS=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],$S=Ce("arrow-up-down",qS);const US=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],VS=Ce("bell-off",US);const GS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Pu=Ce("bell",GS);const QS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],wy=Ce("briefcase",QS);const KS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],XS=Ce("calendar",KS);const WS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ao=Ce("chart-column",WS);const ZS=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Pf=Ce("chart-pie",ZS);const JS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zf=Ce("check",JS);const e5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ln=Ce("chevron-down",e5);const t5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Sy=Ce("chevron-left",t5);const a5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],El=Ce("chevron-right",a5);const n5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],r5=Ce("chevron-up",n5);const s5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],Cy=Ce("circle-arrow-down",s5);const l5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],i5=Ce("circle-check-big",l5);const o5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Xl=Ce("circle-check",o5);const c5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ky=Ce("circle-x",c5);const u5=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Dy=Ce("clipboard-check",u5);const d5=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],m5=Ce("coffee",d5);const f5=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],p5=Ce("construction",f5);const x5=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],lo=Ce("credit-card",x5);const h5=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],v5=Ce("database",h5);const b5=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],g5=Ce("dollar-sign",b5);const y5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],N5=Ce("ellipsis-vertical",y5);const j5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],w5=Ce("ellipsis",j5);const S5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fp=Ce("eye",S5);const C5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],iu=Ce("eye-off",C5);const k5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],D5=Ce("file-spreadsheet",k5);const M5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],My=Ce("file-text",M5);const A5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ay=Ce("funnel",A5);const T5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],E5=Ce("globe",T5);const _5=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],bu=Ce("heart",_5);const O5=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],R5=Ce("indian-rupee",O5);const I5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],L5=Ce("info",I5);const P5=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Ty=Ce("landmark",P5);const z5=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Ey=Ce("layers",z5);const F5=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],no=Ce("link-2",F5);const B5=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],gu=Ce("list",B5);const H5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_y=Ce("loader-circle",H5);const Y5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],xf=Ce("lock",Y5);const q5=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],$5=Ce("log-in",q5);const U5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Oy=Ce("log-out",U5);const V5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],G5=Ce("mail",V5);const Q5=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],K5=Ce("menu",Q5);const X5=[["path",{d:"M5 12h14",key:"1ays0h"}]],hf=Ce("minus",X5);const W5=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Ry=Ce("moon",W5);const Z5=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Iy=Ce("package",Z5);const J5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],cn=Ce("pencil",J5);const eC=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],tC=Ce("piggy-bank",eC);const aC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ta=Ce("plus",aC);const nC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Il=Ce("refresh-cw",nC);const rC=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],sC=Ce("repeat-2",rC);const lC=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],iC=Ce("repeat",lC);const oC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ly=Ce("save",oC);const cC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Py=Ce("search",cC);const uC=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],dC=Ce("settings-2",uC);const mC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pp=Ce("settings",mC);const fC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],pC=Ce("shield-alert",fC);const xC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ro=Ce("shield",xC);const hC=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Ff=Ce("sun",hC);const vC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],fo=Ce("target",vC);const bC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zu=Ce("trash-2",bC);const gC=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Fu=Ce("trending-down",gC);const yC=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ll=Ce("trending-up",yC);const NC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zs=Ce("triangle-alert",NC);const jC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],B0=Ce("trophy",jC);const wC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],SC=Ce("user",wC);const CC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Pl=Ce("users",CC);const kC=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],_l=Ce("wallet",kC);const DC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],po=Ce("x",DC);const MC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Bf=Ce("zap",MC),zy=N.createContext();function AC({children:s}){const[l,r]=N.useState([]),[a,o]=N.useState(null),u=N.useRef(0),d=N.useCallback((v,b="success")=>{const g=++u.current;r(j=>[...j,{id:g,message:v,type:b}]),setTimeout(()=>r(j=>j.filter(M=>M.id!==g)),3e3)},[]),m=N.useCallback(v=>{r(b=>b.filter(g=>g.id!==v))},[]),x=N.useCallback((v="Saving...")=>{o(v)},[]),p=N.useCallback(()=>{o(null)},[]);return t.jsxs(zy.Provider,{value:{showToast:d,showBlockUI:x,hideBlockUI:p},children:[s,a&&t.jsx("div",{className:"fixed inset-0 z-[200] bg-black/50 backdrop-blur-sm flex items-center justify-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-3 bg-[var(--bg-card)] rounded-xl px-8 py-6 border border-[var(--border)] shadow-2xl",children:[t.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),t.jsx("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:a})]})}),l.length>0&&t.jsx("div",{className:"fixed bottom-20 sm:bottom-6 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-2 items-center pointer-events-none",children:l.map(v=>t.jsxs("div",{className:`pointer-events-auto flex items-center gap-2 px-4 py-2.5 rounded-lg shadow-xl border text-sm font-medium animate-fade-in ${v.type==="error"?"bg-rose-500/15 border-rose-500/30 text-[var(--accent-rose)]":"bg-emerald-500/15 border-emerald-500/30 text-emerald-400"}`,style:{backdropFilter:"blur(12px)"},children:[v.type==="error"?t.jsx(ky,{size:16}):t.jsx(Xl,{size:16}),t.jsx("span",{children:v.message}),t.jsx("button",{onClick:()=>m(v.id),className:"ml-1 opacity-60 hover:opacity-100 transition-opacity",children:t.jsx(po,{size:14})})]},v.id))})]})}function Hn(){return N.useContext(zy)}const Fy=N.createContext();function TC({children:s}){const[l,r]=N.useState(null),a=N.useRef(null),o=N.useCallback((m,{title:x="Confirm",confirmLabel:p="Yes, proceed",cancelLabel:v="Cancel",destructive:b=!0}={})=>new Promise(g=>{a.current=g,r({message:m,title:x,confirmLabel:p,cancelLabel:v,destructive:b})}),[]);function u(){a.current?.(!0),a.current=null,r(null)}function d(){a.current?.(!1),a.current=null,r(null)}return t.jsxs(Fy.Provider,{value:{confirm:o},children:[s,l&&t.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center px-4",onClick:d,children:[t.jsx("div",{className:"fixed inset-0 bg-black/60"}),t.jsxs("div",{className:"relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full max-w-sm p-5 animate-fade-in",onClick:m=>m.stopPropagation(),children:[t.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[t.jsx("span",{className:`shrink-0 w-9 h-9 rounded-full flex items-center justify-center ${l.destructive?"bg-rose-500/15":"bg-violet-500/15"}`,children:t.jsx(zs,{size:18,className:l.destructive?"text-[var(--accent-rose)]":"text-violet-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-bold text-[var(--text-primary)]",children:l.title}),t.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1 leading-relaxed",children:l.message})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{onClick:d,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:l.cancelLabel}),t.jsx("button",{onClick:u,autoFocus:!0,className:`px-4 py-2 text-xs font-bold text-white rounded-lg transition-colors ${l.destructive?"bg-rose-600 hover:bg-rose-500":"bg-violet-600 hover:bg-violet-500"}`,children:l.confirmLabel})]})]})]})]})}function Yn(){return N.useContext(Fy).confirm}const By=N.createContext(),H0="cf-mask-data";function EC(s){return!s||s.length<4?"":""+s.slice(-4)}function _C(s){return!s||s.length<4?"  ":"  "+s.slice(-4)}function OC(s){return!s||s.length<3?"":""+s.slice(-3)}function RC(s){if(!s)return"@";const[l,r]=s.split("@");if(!r)return"@";const a=l.charAt(0)+"",o=r.split("."),u=o[0].charAt(0)+""+(o.length>1?"."+o.slice(1).join("."):"");return a+"@"+u}function IC(s){return!s||s.length<4?"":""+s.slice(-4)}function LC(s){return!s||s.length<3?"":""+s.slice(-3)}function PC(s){return!s||s.length<4?"":""+s.slice(-4)}function zC(s){return!s||s.length<2?"":s.split(/\s+/).map(l=>l.charAt(0)+"").join(" ")}const FC={pan:EC,aadhaar:_C,mobile:OC,email:RC,account:IC,clientId:LC,policy:PC,name:zC};function BC({children:s}){const[l,r]=N.useState(()=>{try{return localStorage.getItem(H0)==="true"}catch{return!1}});N.useEffect(()=>{try{localStorage.setItem(H0,String(l))}catch{}},[l]);const a=N.useCallback(()=>r(u=>!u),[]),o=N.useCallback((u,d)=>{if(!l||u==null||u==="")return u;const m=FC[d];return m?m(String(u)):u},[l]);return t.jsx(By.Provider,{value:{masked:l,toggleMask:a,mv:o},children:s})}function qn(){return N.useContext(By)}const Y0=[{label:"Family",icon:Pl,path:"/family"},{label:"Accounts",icon:lo,children:[{label:"Bank Accounts",icon:Ty,path:"/accounts/bank"},{label:"Investment A/c",icon:wy,path:"/accounts/investment"}]},{label:"Insurance",icon:ro,path:"/insurance"},{label:"Investments",icon:_l,children:[{label:"Mutual Funds",icon:_l,path:"/investments/mutual-funds"},{label:"Stocks",icon:ao,path:"/investments/stocks"},{label:"Other Investments",icon:Iy,path:"/investments/other"}]},{label:"Liabilities",icon:lo,path:"/liabilities"},{label:"Goals",icon:fo,path:"/goals"},{label:"Settings",icon:pp,path:"/settings"}];function HC({open:s,onClose:l}){const r=on(),a=Y0.filter(m=>m.children?.some(x=>r.pathname.startsWith(x.path))).map(m=>m.label),[o,u]=N.useState(new Set(a));function d(m){u(x=>{const p=new Set(x);return p.has(m)?p.delete(m):p.add(m),p})}return t.jsxs(t.Fragment,{children:[s&&t.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 lg:hidden",onClick:l}),t.jsxs("aside",{className:`
        fixed top-0 left-0 z-50 h-full w-56
        bg-[var(--bg-sidebar)] border-r border-[var(--border)]
        flex flex-col transition-transform duration-300
        lg:hidden
        ${s?"translate-x-0":"-translate-x-full"}
      `,children:[t.jsxs("div",{className:"flex items-center justify-between px-3 h-12 border-b border-[var(--border)] shrink-0",children:[t.jsx("p",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Menu"}),t.jsx("button",{onClick:l,className:"p-1.5 rounded-md text-[var(--text-dim)] hover:text-[var(--text-primary)]",children:t.jsx(po,{size:16})})]}),t.jsx("nav",{className:"flex-1 py-2 overflow-y-auto overflow-x-hidden",children:Y0.map(m=>m.children?t.jsx(YC,{item:m,isOpen:o.has(m.label),onToggle:()=>d(m.label),onNavigate:l,currentPath:r.pathname},m.label):t.jsx(Hy,{item:m,onNavigate:l},m.path))})]})]})}function Hy({item:s,onNavigate:l,nested:r}){const{label:a,icon:o,path:u}=s;return t.jsx(ip,{to:u,onClick:l,end:u==="/",className:({isActive:d})=>`group flex items-center gap-2.5 ${r?"pl-11 pr-4 py-[7px]":"px-4 py-2.5"} text-[13px] font-medium transition-all border-r-2 ${d?"bg-[var(--sidebar-active-bg)] text-[var(--sidebar-active-text)] border-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] border-transparent"}`,children:({isActive:d})=>t.jsxs(t.Fragment,{children:[t.jsx(o,{size:r?14:17,strokeWidth:d?2.2:1.7}),t.jsx("span",{children:a})]})})}function YC({item:s,isOpen:l,onToggle:r,onNavigate:a,currentPath:o}){const{label:u,icon:d,children:m}=s,x=m.some(p=>o.startsWith(p.path));return t.jsxs("div",{children:[t.jsxs("button",{onClick:r,className:`w-full group flex items-center gap-2.5 px-4 py-2.5 text-[13px] font-medium transition-all border-r-2 border-transparent ${x?"text-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:[t.jsx(d,{size:17,strokeWidth:x?2.2:1.7}),t.jsx("span",{className:"flex-1 text-left",children:u}),t.jsx(Ln,{size:13,className:`text-[var(--text-dim)] transition-transform duration-200 ${l?"rotate-180":""}`})]}),l&&t.jsx("div",{className:"py-0.5",children:m.map(p=>t.jsx(Hy,{item:p,onNavigate:a,nested:!0},p.path))})]})}function G(s){return s>=1e7?`${(s/1e7).toFixed(2)} Cr`:s>=1e5?`${(s/1e5).toFixed(2)} L`:s>=1e3?`${(s/1e3).toFixed(0)}K`:`${s.toLocaleString("en-IN")}`}const Yy="cf_market_data",qC=300*1e3,q0=300*1e3;function $C(){try{const s=sessionStorage.getItem(Yy);if(!s)return null;const l=JSON.parse(s);return Date.now()-l._ts>qC?null:l}catch{return null}}function UC(s){try{sessionStorage.setItem(Yy,JSON.stringify({...s,_ts:Date.now()}))}catch{}}function VC(){const[s,l]=N.useState(()=>$C()),[r,a]=N.useState([]),o=N.useRef(null),[u,d]=N.useState(!1),[m,x]=N.useState(!1);N.useEffect(()=>{let b=!1;async function g(){try{const M=await gS();if(!b&&M){const S={...M,_ts:Date.now()};l(S),UC(S)}}catch{}}g();const j=setInterval(g,q0);return()=>{b=!0,clearInterval(j)}},[]),N.useEffect(()=>{let b=!1;async function g(){try{const M=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=inr&include_24hr_change=true");if(!b&&M.ok){const S=await M.json(),y=[];S.bitcoin&&y.push({name:"BTC",price:S.bitcoin.inr,changePct:S.bitcoin.inr_24h_change||0,type:"crypto"}),S.ethereum&&y.push({name:"ETH",price:S.ethereum.inr,changePct:S.ethereum.inr_24h_change||0,type:"crypto"}),a(y)}}catch{}}g();const j=setInterval(g,q0);return()=>{b=!0,clearInterval(j)}},[]);const p=[];if(s?.indices&&p.push(...s.indices),s?.metals&&p.push(...s.metals),r.length>0&&p.push(...r),N.useEffect(()=>{if(!o.current)return;const b=o.current,g=b.parentElement;d(b.scrollWidth>g.clientWidth)},[p.length]),p.length===0)return null;const v=p.length*3;return t.jsxs("div",{className:"bg-[var(--bg-card)]/80 backdrop-blur-sm border-b border-[var(--border-light)] overflow-hidden",onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),onTouchStart:()=>x(!0),onTouchEnd:()=>x(!1),children:[t.jsx("div",{className:"overflow-hidden",children:t.jsxs("div",{ref:o,className:"flex items-stretch w-max",style:u?{animation:`ticker-scroll ${v}s linear infinite`,animationPlayState:m?"paused":"running"}:{margin:"0 auto"},children:[p.map((b,g)=>t.jsx($0,{item:b},b.name+g)),u&&p.map((b,g)=>t.jsx($0,{item:b},"dup-"+b.name+g))]})}),t.jsx("style",{children:`
        @keyframes ticker-scroll {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
      `})]})}function $0({item:s}){const l=s.changePct>=0,r=l?t.jsx(Ll,{size:10}):t.jsx(Fu,{size:10}),a=l?"text-emerald-400":"text-[var(--accent-rose)]",o=u=>u>=1e5?`${(u/1e5).toFixed(2)}L`:u>=1e3?`${u.toLocaleString("en-IN",{maximumFractionDigits:0})}`:`${u.toLocaleString("en-IN",{maximumFractionDigits:2})}`;return t.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 border-r border-[var(--border-light)] last:border-0 shrink-0",children:[t.jsx("span",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase whitespace-nowrap",children:s.name}),t.jsx("span",{className:"text-[11px] font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:s.unit?`${o(s.price)}`:o(s.price)}),s.changePct!==void 0&&s.changePct!==null&&t.jsxs("span",{className:`flex items-center gap-0.5 text-[10px] font-bold tabular-nums ${a}`,children:[r,l?"+":"",s.changePct.toFixed(2),"%"]})]})}function GC(){const{selectedMember:s}=aa(),{mfPortfolios:l,mfHoldings:r,insurancePolicies:a,goalList:o,reminderList:u}=Qe(),d=(g,j)=>{const M=g||[];return s==="all"?M:M.filter(S=>S[j]===s)},m=N.useMemo(()=>{let g=0,j=0,M=0;return d((l||[]).filter(w=>w.status!=="Inactive"),"ownerId").forEach(w=>{const D=(r||[]).filter(O=>O.portfolioId===w.portfolioId&&O.units>0),k=D.reduce((O,Y)=>O+Y.currentValue,0),_=(w.rebalanceThreshold||.05)*100;D.forEach(O=>{if(O.athNav>0&&O.belowATHPct>=10?j++:O.athNav>0&&O.belowATHPct>=5&&g++,O.targetAllocationPct>0&&k>0){const Y=O.currentValue/k*100;Math.abs(Y-O.targetAllocationPct)>_&&M++}})}),{buyOppCount:g+j,buyCount:g,strongBuyCount:j,rebalanceCount:M}},[s,l,r]),x=N.useMemo(()=>{const g=[],j=d((a||[]).filter(k=>k.status==="Active"),"memberId");j.some(k=>k.policyType==="Term Life")||g.push({type:"critical",title:"Missing Term Life Insurance",badge:"Add Policy",navigateTo:"/insurance"});const S=j.filter(k=>k.policyType==="Health").reduce((k,_)=>k+_.sumAssured,0);return S===0?g.push({type:"critical",title:"No Health Insurance",badge:"Add Policy",navigateTo:"/insurance"}):S<5e5&&g.push({type:"warning",title:"Inadequate Health Insurance",badge:G(S),navigateTo:"/insurance"}),d((o||[]).filter(k=>k.isActive!==!1&&k.goalType==="Emergency Fund"),"familyMemberId").forEach(k=>{const _=k.targetAmount>0?k.currentValue/k.targetAmount*100:0;_<100&&g.push({type:_>=75?"info":"warning",title:`Emergency Fund at ${_.toFixed(0)}%`,badge:G(k.targetAmount-k.currentValue)+" left",navigateTo:"/goals"})}),d((u||[]).filter(k=>k.isActive!==!1),"familyMemberId").filter(k=>new Date(k.dueDate)<new Date).forEach(k=>{const _=Math.ceil((new Date-new Date(k.dueDate))/864e5);g.push({type:"critical",title:k.title,badge:`${_}d overdue`,navigateTo:"/reminders"})}),d((o||[]).filter(k=>k.isActive!==!1&&k.status==="Needs Attention"),"familyMemberId").forEach(k=>{g.push({type:"warning",title:`${k.goalName} needs attention`,badge:k.priority,navigateTo:"/goals"})}),g},[s,a,o,u]),p=N.useMemo(()=>{const g=d((u||[]).filter(M=>M.isActive!==!1&&M.status!=="Completed"),"familyMemberId"),j=new Date;return g.map(M=>{const S=new Date(M.dueDate)-j,y=Math.ceil(S/(1440*60*1e3)),w=new Date(M.dueDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short"});return{...M,days:y,dateStr:w}}).filter(M=>M.days>=0&&M.days<=30).sort((M,S)=>M.days-S.days).slice(0,5)},[s,u]),v=x.length+m.buyOppCount+m.rebalanceCount+p.length,b=x.filter(g=>g.type==="critical").length;return{criticalAlerts:x,investmentSignals:m,upcomingReminders:p,totalCount:v,criticalCount:b}}function U0(s){return s>=20?"bg-rose-500/20 text-[var(--accent-rose)]":s>=10?"bg-orange-500/20 text-[var(--accent-orange)]":s>=5?"bg-amber-500/20 text-[var(--accent-amber)]":"bg-slate-500/20 text-[var(--text-muted)]"}function V0(s){return s>=10?{label:"Strong Buy",cls:"bg-emerald-500/20 text-emerald-400 ring-1 ring-emerald-500/30"}:s>=5?{label:"Buy",cls:"bg-blue-500/20 text-blue-400"}:null}function qy(){const{mfHoldings:s,mfPortfolios:l}=Qe(),r=N.useMemo(()=>l.filter(o=>o.status!=="Inactive").map(o=>{const u=s.filter(x=>x.portfolioId===o.portfolioId&&x.units>0),d=u.reduce((x,p)=>x+p.currentValue,0),m=u.filter(x=>x.athNav>0&&x.belowATHPct>=1).sort((x,p)=>p.belowATHPct-x.belowATHPct).map(x=>({...x,currentPct:d>0?x.currentValue/d*100:0}));return{...o,totalValue:d,opportunities:m}}).filter(o=>o.opportunities.length>0),[l,s]);return r.reduce((o,u)=>o+u.opportunities.length,0)===0?t.jsxs("div",{className:"py-8 text-center",children:[t.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No buy opportunities right now"}),t.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"All funds are near their all-time highs"})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] px-1",children:"Funds below their All-Time High NAV. Higher discount = better opportunity."}),r.map((o,u)=>t.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-emerald-500/50 rounded-lg overflow-hidden",children:[t.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-[var(--bg-inset)]",children:[t.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-500/15 w-5 h-5 rounded flex items-center justify-center",children:u+1}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:o.portfolioName}),t.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:o.ownerName}),t.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15 text-emerald-400",children:[o.opportunities.length," funds"]})]}),t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),t.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Signal"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Below ATH"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"ATH NAV"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Current"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Value"})]})}),t.jsx("tbody",{children:o.opportunities.map(d=>{const m=V0(d.belowATHPct);return t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[t.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[200px] truncate",children:d.fundName}),t.jsx("td",{className:"py-2 px-2 text-center",children:m?t.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded-full whitespace-nowrap ${m.cls}`,children:m.label}):t.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Watch"})}),t.jsx("td",{className:"py-2 px-2 text-right",children:t.jsxs("span",{className:`inline-block text-xs font-semibold px-1.5 py-0.5 rounded-full ${U0(d.belowATHPct)}`,children:["",d.belowATHPct.toFixed(1),"%"]})}),t.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:["",d.athNav.toFixed(2)]}),t.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:["",d.currentNav.toFixed(2)]}),t.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:G(d.currentValue)})]},d.holdingId)})})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:o.opportunities.map(d=>{const m=V0(d.belowATHPct);return t.jsxs("div",{className:"px-3 py-2.5",children:[t.jsxs("div",{className:"flex items-start justify-between mb-1",children:[t.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight flex-1 mr-2",children:d.fundName}),t.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[m&&t.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded-full ${m.cls}`,children:m.label}),t.jsxs("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${U0(d.belowATHPct)}`,children:["",d.belowATHPct.toFixed(1),"%"]})]})]}),t.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)]",children:[t.jsxs("span",{children:["ATH ",d.athNav.toFixed(2),"  ",d.currentNav.toFixed(2)]}),t.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:G(d.currentValue)})]})]},d.holdingId)})})]},o.portfolioId))]})}function $y(s){var l,r,a="";if(typeof s=="string"||typeof s=="number")a+=s;else if(typeof s=="object")if(Array.isArray(s)){var o=s.length;for(l=0;l<o;l++)s[l]&&(r=$y(s[l]))&&(a&&(a+=" "),a+=r)}else for(r in s)s[r]&&(a&&(a+=" "),a+=r);return a}function Qt(){for(var s,l,r=0,a="",o=arguments.length;r<o;r++)(s=arguments[r])&&(l=$y(s))&&(a&&(a+=" "),a+=l);return a}const Uy=6048e5,QC=864e5,Bu=6e4,Hu=36e5,KC=1e3,G0=Symbol.for("constructDateFrom");function ft(s,l){return typeof s=="function"?s(l):s&&typeof s=="object"&&G0 in s?s[G0](l):s instanceof Date?new s.constructor(l):new Date(l)}function Ae(s,l){return ft(l||s,s)}function vn(s,l,r){const a=Ae(s,r?.in);return isNaN(l)?ft(r?.in||s,NaN):(l&&a.setDate(a.getDate()+l),a)}function yn(s,l,r){const a=Ae(s,r?.in);if(isNaN(l))return ft(s,NaN);if(!l)return a;const o=a.getDate(),u=ft(s,a.getTime());u.setMonth(a.getMonth()+l+1,0);const d=u.getDate();return o>=d?u:(a.setFullYear(u.getFullYear(),u.getMonth(),o),a)}function Vy(s,l,r){return ft(s,+Ae(s)+l)}function XC(s,l,r){return Vy(s,l*Hu)}let WC={};function qs(){return WC}function yr(s,l){const r=qs(),a=l?.weekStartsOn??l?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Ae(s,l?.in),u=o.getDay(),d=(u<a?7:0)+u-a;return o.setDate(o.getDate()-d),o.setHours(0,0,0,0),o}function zl(s,l){return yr(s,{...l,weekStartsOn:1})}function Gy(s,l){const r=Ae(s,l?.in),a=r.getFullYear(),o=ft(r,0);o.setFullYear(a+1,0,4),o.setHours(0,0,0,0);const u=zl(o),d=ft(r,0);d.setFullYear(a,0,4),d.setHours(0,0,0,0);const m=zl(d);return r.getTime()>=u.getTime()?a+1:r.getTime()>=m.getTime()?a:a-1}function yu(s){const l=Ae(s),r=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()));return r.setUTCFullYear(l.getFullYear()),+s-+r}function jr(s,...l){const r=ft.bind(null,l.find(a=>typeof a=="object"));return l.map(r)}function Fs(s,l){const r=Ae(s,l?.in);return r.setHours(0,0,0,0),r}function Fl(s,l,r){const[a,o]=jr(r?.in,s,l),u=Fs(a),d=Fs(o),m=+u-yu(u),x=+d-yu(d);return Math.round((m-x)/QC)}function ZC(s,l){const r=Gy(s,l),a=ft(s,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),zl(a)}function io(s,l,r){const a=Ae(s,r?.in);return a.setTime(a.getTime()+l*Bu),a}function xp(s,l,r){return yn(s,l*3,r)}function JC(s,l,r){return Vy(s,l*1e3)}function Nu(s,l,r){return vn(s,l*7,r)}function bn(s,l,r){return yn(s,l*12,r)}function Q0(s,l){let r,a=l?.in;return s.forEach(o=>{!a&&typeof o=="object"&&(a=ft.bind(null,o));const u=Ae(o,a);(!r||r<u||isNaN(+u))&&(r=u)}),ft(a,r||NaN)}function K0(s,l){let r,a=l?.in;return s.forEach(o=>{!a&&typeof o=="object"&&(a=ft.bind(null,o));const u=Ae(o,a);(!r||r>u||isNaN(+u))&&(r=u)}),ft(a,r||NaN)}function ek(s,l,r){const[a,o]=jr(r?.in,s,l);return+Fs(a)==+Fs(o)}function Pn(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function Bl(s){return!(!Pn(s)&&typeof s!="number"||isNaN(+Ae(s)))}function ju(s,l,r){const[a,o]=jr(r?.in,s,l),u=a.getFullYear()-o.getFullYear(),d=a.getMonth()-o.getMonth();return u*12+d}function es(s,l){const r=Ae(s,l?.in);return Math.trunc(r.getMonth()/3)+1}function wu(s,l,r){const[a,o]=jr(r?.in,s,l),u=a.getFullYear()-o.getFullYear(),d=es(a)-es(o);return u*4+d}function Su(s,l,r){const[a,o]=jr(r?.in,s,l);return a.getFullYear()-o.getFullYear()}function tk(s,l,r){const[a,o]=jr(r?.in,s,l),u=X0(a,o),d=Math.abs(Fl(a,o));a.setDate(a.getDate()-u*d);const m=+(X0(a,o)===-u),x=u*(d-m);return x===0?0:x}function X0(s,l){const r=s.getFullYear()-l.getFullYear()||s.getMonth()-l.getMonth()||s.getDate()-l.getDate()||s.getHours()-l.getHours()||s.getMinutes()-l.getMinutes()||s.getSeconds()-l.getSeconds()||s.getMilliseconds()-l.getMilliseconds();return r<0?-1:r>0?1:r}function Qy(s,l){const r=Ae(s,l?.in);return r.setHours(23,59,59,999),r}function Ky(s,l){const r=Ae(s,l?.in),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(23,59,59,999),r}function Hf(s,l){const r=Ae(s,l?.in),a=r.getMonth(),o=a-a%3;return r.setMonth(o,1),r.setHours(0,0,0,0),r}function Xy(s,l){const r=Ae(s,l?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function Wy(s,l){const r=Ae(s,l?.in),a=r.getFullYear();return r.setFullYear(a+1,0,0),r.setHours(23,59,59,999),r}function Yu(s,l){const r=Ae(s,l?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function ak(s,l){const r=qs(),a=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Ae(s,l?.in),u=o.getDay(),d=(u<a?-7:0)+6-(u-a);return o.setDate(o.getDate()+d),o.setHours(23,59,59,999),o}const nk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rk=(s,l,r)=>{let a;const o=nk[s];return typeof o=="string"?a=o:l===1?a=o.one:a=o.other.replace("{{count}}",l.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function vf(s){return(l={})=>{const r=l.width?String(l.width):s.defaultWidth;return s.formats[r]||s.formats[s.defaultWidth]}}const sk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ik={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ok={date:vf({formats:sk,defaultWidth:"full"}),time:vf({formats:lk,defaultWidth:"full"}),dateTime:vf({formats:ik,defaultWidth:"full"})},ck={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uk=(s,l,r,a)=>ck[s];function Vi(s){return(l,r)=>{const a=r?.context?String(r.context):"standalone";let o;if(a==="formatting"&&s.formattingValues){const d=s.defaultFormattingWidth||s.defaultWidth,m=r?.width?String(r.width):d;o=s.formattingValues[m]||s.formattingValues[d]}else{const d=s.defaultWidth,m=r?.width?String(r.width):s.defaultWidth;o=s.values[m]||s.values[d]}const u=s.argumentCallback?s.argumentCallback(l):l;return o[u]}}const dk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vk=(s,l)=>{const r=Number(s),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},bk={ordinalNumber:vk,era:Vi({values:dk,defaultWidth:"wide"}),quarter:Vi({values:mk,defaultWidth:"wide",argumentCallback:s=>s-1}),month:Vi({values:fk,defaultWidth:"wide"}),day:Vi({values:pk,defaultWidth:"wide"}),dayPeriod:Vi({values:xk,defaultWidth:"wide",formattingValues:hk,defaultFormattingWidth:"wide"})};function Gi(s){return(l,r={})=>{const a=r.width,o=a&&s.matchPatterns[a]||s.matchPatterns[s.defaultMatchWidth],u=l.match(o);if(!u)return null;const d=u[0],m=a&&s.parsePatterns[a]||s.parsePatterns[s.defaultParseWidth],x=Array.isArray(m)?yk(m,b=>b.test(d)):gk(m,b=>b.test(d));let p;p=s.valueCallback?s.valueCallback(x):x,p=r.valueCallback?r.valueCallback(p):p;const v=l.slice(d.length);return{value:p,rest:v}}}function gk(s,l){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r)&&l(s[r]))return r}function yk(s,l){for(let r=0;r<s.length;r++)if(l(s[r]))return r}function Nk(s){return(l,r={})=>{const a=l.match(s.matchPattern);if(!a)return null;const o=a[0],u=l.match(s.parsePattern);if(!u)return null;let d=s.valueCallback?s.valueCallback(u[0]):u[0];d=r.valueCallback?r.valueCallback(d):d;const m=l.slice(o.length);return{value:d,rest:m}}}const jk=/^(\d+)(th|st|nd|rd)?/i,wk=/\d+/i,Sk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ck={any:[/^b/i,/^(a|c)/i]},kk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Dk={any:[/1/i,/2/i,/3/i,/4/i]},Mk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ak={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Tk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ek={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_k={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ok={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Rk={ordinalNumber:Nk({matchPattern:jk,parsePattern:wk,valueCallback:s=>parseInt(s,10)}),era:Gi({matchPatterns:Sk,defaultMatchWidth:"wide",parsePatterns:Ck,defaultParseWidth:"any"}),quarter:Gi({matchPatterns:kk,defaultMatchWidth:"wide",parsePatterns:Dk,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Gi({matchPatterns:Mk,defaultMatchWidth:"wide",parsePatterns:Ak,defaultParseWidth:"any"}),day:Gi({matchPatterns:Tk,defaultMatchWidth:"wide",parsePatterns:Ek,defaultParseWidth:"any"}),dayPeriod:Gi({matchPatterns:_k,defaultMatchWidth:"any",parsePatterns:Ok,defaultParseWidth:"any"})},Zy={code:"en-US",formatDistance:rk,formatLong:ok,formatRelative:uk,localize:bk,match:Rk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ik(s,l){const r=Ae(s,l?.in);return Fl(r,Yu(r))+1}function hp(s,l){const r=Ae(s,l?.in),a=+zl(r)-+ZC(r);return Math.round(a/Uy)+1}function vp(s,l){const r=Ae(s,l?.in),a=r.getFullYear(),o=qs(),u=l?.firstWeekContainsDate??l?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,d=ft(l?.in||s,0);d.setFullYear(a+1,0,u),d.setHours(0,0,0,0);const m=yr(d,l),x=ft(l?.in||s,0);x.setFullYear(a,0,u),x.setHours(0,0,0,0);const p=yr(x,l);return+r>=+m?a+1:+r>=+p?a:a-1}function Lk(s,l){const r=qs(),a=l?.firstWeekContainsDate??l?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=vp(s,l),u=ft(l?.in||s,0);return u.setFullYear(o,0,a),u.setHours(0,0,0,0),yr(u,l)}function Jy(s,l){const r=Ae(s,l?.in),a=+yr(r,l)-+Lk(r,l);return Math.round(a/Uy)+1}function mt(s,l){const r=s<0?"-":"",a=Math.abs(s).toString().padStart(l,"0");return r+a}const Zr={y(s,l){const r=s.getFullYear(),a=r>0?r:1-r;return mt(l==="yy"?a%100:a,l.length)},M(s,l){const r=s.getMonth();return l==="M"?String(r+1):mt(r+1,2)},d(s,l){return mt(s.getDate(),l.length)},a(s,l){const r=s.getHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(s,l){return mt(s.getHours()%12||12,l.length)},H(s,l){return mt(s.getHours(),l.length)},m(s,l){return mt(s.getMinutes(),l.length)},s(s,l){return mt(s.getSeconds(),l.length)},S(s,l){const r=l.length,a=s.getMilliseconds(),o=Math.trunc(a*Math.pow(10,r-3));return mt(o,l.length)}},Sl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},W0={G:function(s,l,r){const a=s.getFullYear()>0?1:0;switch(l){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});default:return r.era(a,{width:"wide"})}},y:function(s,l,r){if(l==="yo"){const a=s.getFullYear(),o=a>0?a:1-a;return r.ordinalNumber(o,{unit:"year"})}return Zr.y(s,l)},Y:function(s,l,r,a){const o=vp(s,a),u=o>0?o:1-o;if(l==="YY"){const d=u%100;return mt(d,2)}return l==="Yo"?r.ordinalNumber(u,{unit:"year"}):mt(u,l.length)},R:function(s,l){const r=Gy(s);return mt(r,l.length)},u:function(s,l){const r=s.getFullYear();return mt(r,l.length)},Q:function(s,l,r){const a=Math.ceil((s.getMonth()+1)/3);switch(l){case"Q":return String(a);case"QQ":return mt(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(s,l,r){const a=Math.ceil((s.getMonth()+1)/3);switch(l){case"q":return String(a);case"qq":return mt(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(s,l,r){const a=s.getMonth();switch(l){case"M":case"MM":return Zr.M(s,l);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(s,l,r){const a=s.getMonth();switch(l){case"L":return String(a+1);case"LL":return mt(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(s,l,r,a){const o=Jy(s,a);return l==="wo"?r.ordinalNumber(o,{unit:"week"}):mt(o,l.length)},I:function(s,l,r){const a=hp(s);return l==="Io"?r.ordinalNumber(a,{unit:"week"}):mt(a,l.length)},d:function(s,l,r){return l==="do"?r.ordinalNumber(s.getDate(),{unit:"date"}):Zr.d(s,l)},D:function(s,l,r){const a=Ik(s);return l==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):mt(a,l.length)},E:function(s,l,r){const a=s.getDay();switch(l){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(s,l,r,a){const o=s.getDay(),u=(o-a.weekStartsOn+8)%7||7;switch(l){case"e":return String(u);case"ee":return mt(u,2);case"eo":return r.ordinalNumber(u,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(s,l,r,a){const o=s.getDay(),u=(o-a.weekStartsOn+8)%7||7;switch(l){case"c":return String(u);case"cc":return mt(u,l.length);case"co":return r.ordinalNumber(u,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(s,l,r){const a=s.getDay(),o=a===0?7:a;switch(l){case"i":return String(o);case"ii":return mt(o,l.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(s,l,r){const o=s.getHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(s,l,r){const a=s.getHours();let o;switch(a===12?o=Sl.noon:a===0?o=Sl.midnight:o=a/12>=1?"pm":"am",l){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(s,l,r){const a=s.getHours();let o;switch(a>=17?o=Sl.evening:a>=12?o=Sl.afternoon:a>=4?o=Sl.morning:o=Sl.night,l){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(s,l,r){if(l==="ho"){let a=s.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Zr.h(s,l)},H:function(s,l,r){return l==="Ho"?r.ordinalNumber(s.getHours(),{unit:"hour"}):Zr.H(s,l)},K:function(s,l,r){const a=s.getHours()%12;return l==="Ko"?r.ordinalNumber(a,{unit:"hour"}):mt(a,l.length)},k:function(s,l,r){let a=s.getHours();return a===0&&(a=24),l==="ko"?r.ordinalNumber(a,{unit:"hour"}):mt(a,l.length)},m:function(s,l,r){return l==="mo"?r.ordinalNumber(s.getMinutes(),{unit:"minute"}):Zr.m(s,l)},s:function(s,l,r){return l==="so"?r.ordinalNumber(s.getSeconds(),{unit:"second"}):Zr.s(s,l)},S:function(s,l){return Zr.S(s,l)},X:function(s,l,r){const a=s.getTimezoneOffset();if(a===0)return"Z";switch(l){case"X":return J0(a);case"XXXX":case"XX":return As(a);default:return As(a,":")}},x:function(s,l,r){const a=s.getTimezoneOffset();switch(l){case"x":return J0(a);case"xxxx":case"xx":return As(a);default:return As(a,":")}},O:function(s,l,r){const a=s.getTimezoneOffset();switch(l){case"O":case"OO":case"OOO":return"GMT"+Z0(a,":");default:return"GMT"+As(a,":")}},z:function(s,l,r){const a=s.getTimezoneOffset();switch(l){case"z":case"zz":case"zzz":return"GMT"+Z0(a,":");default:return"GMT"+As(a,":")}},t:function(s,l,r){const a=Math.trunc(+s/1e3);return mt(a,l.length)},T:function(s,l,r){return mt(+s,l.length)}};function Z0(s,l=""){const r=s>0?"-":"+",a=Math.abs(s),o=Math.trunc(a/60),u=a%60;return u===0?r+String(o):r+String(o)+l+mt(u,2)}function J0(s,l){return s%60===0?(s>0?"-":"+")+mt(Math.abs(s)/60,2):As(s,l)}function As(s,l=""){const r=s>0?"-":"+",a=Math.abs(s),o=mt(Math.trunc(a/60),2),u=mt(a%60,2);return r+o+l+u}const eb=(s,l)=>{switch(s){case"P":return l.date({width:"short"});case"PP":return l.date({width:"medium"});case"PPP":return l.date({width:"long"});default:return l.date({width:"full"})}},e1=(s,l)=>{switch(s){case"p":return l.time({width:"short"});case"pp":return l.time({width:"medium"});case"ppp":return l.time({width:"long"});default:return l.time({width:"full"})}},Pk=(s,l)=>{const r=s.match(/(P+)(p+)?/)||[],a=r[1],o=r[2];if(!o)return eb(s,l);let u;switch(a){case"P":u=l.dateTime({width:"short"});break;case"PP":u=l.dateTime({width:"medium"});break;case"PPP":u=l.dateTime({width:"long"});break;default:u=l.dateTime({width:"full"});break}return u.replace("{{date}}",eb(a,l)).replace("{{time}}",e1(o,l))},Yf={p:e1,P:Pk},zk=/^D+$/,Fk=/^Y+$/,Bk=["D","DD","YY","YYYY"];function Hk(s){return zk.test(s)}function Yk(s){return Fk.test(s)}function qk(s,l,r){const a=$k(s,l,r);if(console.warn(a),Bk.includes(s))throw new RangeError(a)}function $k(s,l,r){const a=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${l}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Uk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Vk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Gk=/^'([^]*?)'?$/,Qk=/''/g,Kk=/[a-zA-Z]/;function tb(s,l,r){const a=qs(),o=r?.locale??a.locale??Zy,u=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,d=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,m=Ae(s,r?.in);if(!Bl(m))throw new RangeError("Invalid time value");let x=l.match(Vk).map(v=>{const b=v[0];if(b==="p"||b==="P"){const g=Yf[b];return g(v,o.formatLong)}return v}).join("").match(Uk).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const b=v[0];if(b==="'")return{isToken:!1,value:Xk(v)};if(W0[b])return{isToken:!0,value:v};if(b.match(Kk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:v}});o.localize.preprocessor&&(x=o.localize.preprocessor(m,x));const p={firstWeekContainsDate:u,weekStartsOn:d,locale:o};return x.map(v=>{if(!v.isToken)return v.value;const b=v.value;(!r?.useAdditionalWeekYearTokens&&Yk(b)||!r?.useAdditionalDayOfYearTokens&&Hk(b))&&qk(b,l,String(s));const g=W0[b[0]];return g(m,b,o.localize,p)}).join("")}function Xk(s){const l=s.match(Gk);return l?l[1].replace(Qk,"'"):s}function ab(s,l){return Ae(s,l?.in).getDate()}function Wk(s,l){return Ae(s,l?.in).getDay()}function Zk(s,l){const r=Ae(s,l?.in),a=r.getFullYear(),o=r.getMonth(),u=ft(r,0);return u.setFullYear(a,o+1,0),u.setHours(0,0,0,0),u.getDate()}function Jk(){return Object.assign({},qs())}function ua(s,l){return Ae(s,l?.in).getHours()}function eD(s,l){const r=Ae(s,l?.in).getDay();return r===0?7:r}function da(s,l){return Ae(s,l?.in).getMinutes()}function _a(s,l){return Ae(s,l?.in).getMonth()}function ts(s){return Ae(s).getSeconds()}function qf(s){return+Ae(s)}function Ge(s,l){return Ae(s,l?.in).getFullYear()}function vr(s,l){return+Ae(s)>+Ae(l)}function On(s,l){return+Ae(s)<+Ae(l)}function tD(s,l){return+Ae(s)==+Ae(l)}function aD(s,l){const r=nD(l)?new l(0):ft(l,0);return r.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()),r.setHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),r}function nD(s){return typeof s=="function"&&s.prototype?.constructor===s}const rD=10;class t1{subPriority=0;validate(l,r){return!0}}class sD extends t1{constructor(l,r,a,o,u){super(),this.value=l,this.validateValue=r,this.setValue=a,this.priority=o,u&&(this.subPriority=u)}validate(l,r){return this.validateValue(l,this.value,r)}set(l,r,a){return this.setValue(l,r,this.value,a)}}class lD extends t1{priority=rD;subPriority=-1;constructor(l,r){super(),this.context=l||(a=>ft(r,a))}set(l,r){return r.timestampIsSet?l:ft(l,aD(l,this.context))}}class it{run(l,r,a,o){const u=this.parse(l,r,a,o);return u?{setter:new sD(u.value,this.validate,this.set,this.priority,this.subPriority),rest:u.rest}:null}validate(l,r,a){return!0}}class iD extends it{priority=140;parse(l,r,a){switch(r){case"G":case"GG":case"GGG":return a.era(l,{width:"abbreviated"})||a.era(l,{width:"narrow"});case"GGGGG":return a.era(l,{width:"narrow"});default:return a.era(l,{width:"wide"})||a.era(l,{width:"abbreviated"})||a.era(l,{width:"narrow"})}}set(l,r,a){return r.era=a,l.setFullYear(a,0,1),l.setHours(0,0,0,0),l}incompatibleTokens=["R","u","t","T"]}const Pt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},En={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function zt(s,l){return s&&{value:l(s.value),rest:s.rest}}function At(s,l){const r=l.match(s);return r?{value:parseInt(r[0],10),rest:l.slice(r[0].length)}:null}function _n(s,l){const r=l.match(s);if(!r)return null;if(r[0]==="Z")return{value:0,rest:l.slice(1)};const a=r[1]==="+"?1:-1,o=r[2]?parseInt(r[2],10):0,u=r[3]?parseInt(r[3],10):0,d=r[5]?parseInt(r[5],10):0;return{value:a*(o*Hu+u*Bu+d*KC),rest:l.slice(r[0].length)}}function a1(s){return At(Pt.anyDigitsSigned,s)}function _t(s,l){switch(s){case 1:return At(Pt.singleDigit,l);case 2:return At(Pt.twoDigits,l);case 3:return At(Pt.threeDigits,l);case 4:return At(Pt.fourDigits,l);default:return At(new RegExp("^\\d{1,"+s+"}"),l)}}function Cu(s,l){switch(s){case 1:return At(Pt.singleDigitSigned,l);case 2:return At(Pt.twoDigitsSigned,l);case 3:return At(Pt.threeDigitsSigned,l);case 4:return At(Pt.fourDigitsSigned,l);default:return At(new RegExp("^-?\\d{1,"+s+"}"),l)}}function bp(s){switch(s){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function n1(s,l){const r=l>0,a=r?l:1-l;let o;if(a<=50)o=s||100;else{const u=a+50,d=Math.trunc(u/100)*100,m=s>=u%100;o=s+d-(m?100:0)}return r?o:1-o}function r1(s){return s%400===0||s%4===0&&s%100!==0}class oD extends it{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(l,r,a){const o=u=>({year:u,isTwoDigitYear:r==="yy"});switch(r){case"y":return zt(_t(4,l),o);case"yo":return zt(a.ordinalNumber(l,{unit:"year"}),o);default:return zt(_t(r.length,l),o)}}validate(l,r){return r.isTwoDigitYear||r.year>0}set(l,r,a){const o=l.getFullYear();if(a.isTwoDigitYear){const d=n1(a.year,o);return l.setFullYear(d,0,1),l.setHours(0,0,0,0),l}const u=!("era"in r)||r.era===1?a.year:1-a.year;return l.setFullYear(u,0,1),l.setHours(0,0,0,0),l}}class cD extends it{priority=130;parse(l,r,a){const o=u=>({year:u,isTwoDigitYear:r==="YY"});switch(r){case"Y":return zt(_t(4,l),o);case"Yo":return zt(a.ordinalNumber(l,{unit:"year"}),o);default:return zt(_t(r.length,l),o)}}validate(l,r){return r.isTwoDigitYear||r.year>0}set(l,r,a,o){const u=vp(l,o);if(a.isTwoDigitYear){const m=n1(a.year,u);return l.setFullYear(m,0,o.firstWeekContainsDate),l.setHours(0,0,0,0),yr(l,o)}const d=!("era"in r)||r.era===1?a.year:1-a.year;return l.setFullYear(d,0,o.firstWeekContainsDate),l.setHours(0,0,0,0),yr(l,o)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class uD extends it{priority=130;parse(l,r){return Cu(r==="R"?4:r.length,l)}set(l,r,a){const o=ft(l,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),zl(o)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class dD extends it{priority=130;parse(l,r){return Cu(r==="u"?4:r.length,l)}set(l,r,a){return l.setFullYear(a,0,1),l.setHours(0,0,0,0),l}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class mD extends it{priority=120;parse(l,r,a){switch(r){case"Q":case"QQ":return _t(r.length,l);case"Qo":return a.ordinalNumber(l,{unit:"quarter"});case"QQQ":return a.quarter(l,{width:"abbreviated",context:"formatting"})||a.quarter(l,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(l,{width:"narrow",context:"formatting"});default:return a.quarter(l,{width:"wide",context:"formatting"})||a.quarter(l,{width:"abbreviated",context:"formatting"})||a.quarter(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=1&&r<=4}set(l,r,a){return l.setMonth((a-1)*3,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class fD extends it{priority=120;parse(l,r,a){switch(r){case"q":case"qq":return _t(r.length,l);case"qo":return a.ordinalNumber(l,{unit:"quarter"});case"qqq":return a.quarter(l,{width:"abbreviated",context:"standalone"})||a.quarter(l,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(l,{width:"narrow",context:"standalone"});default:return a.quarter(l,{width:"wide",context:"standalone"})||a.quarter(l,{width:"abbreviated",context:"standalone"})||a.quarter(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=1&&r<=4}set(l,r,a){return l.setMonth((a-1)*3,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class pD extends it{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(l,r,a){const o=u=>u-1;switch(r){case"M":return zt(At(Pt.month,l),o);case"MM":return zt(_t(2,l),o);case"Mo":return zt(a.ordinalNumber(l,{unit:"month"}),o);case"MMM":return a.month(l,{width:"abbreviated",context:"formatting"})||a.month(l,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(l,{width:"narrow",context:"formatting"});default:return a.month(l,{width:"wide",context:"formatting"})||a.month(l,{width:"abbreviated",context:"formatting"})||a.month(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=11}set(l,r,a){return l.setMonth(a,1),l.setHours(0,0,0,0),l}}class xD extends it{priority=110;parse(l,r,a){const o=u=>u-1;switch(r){case"L":return zt(At(Pt.month,l),o);case"LL":return zt(_t(2,l),o);case"Lo":return zt(a.ordinalNumber(l,{unit:"month"}),o);case"LLL":return a.month(l,{width:"abbreviated",context:"standalone"})||a.month(l,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(l,{width:"narrow",context:"standalone"});default:return a.month(l,{width:"wide",context:"standalone"})||a.month(l,{width:"abbreviated",context:"standalone"})||a.month(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=0&&r<=11}set(l,r,a){return l.setMonth(a,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function hD(s,l,r){const a=Ae(s,r?.in),o=Jy(a,r)-l;return a.setDate(a.getDate()-o*7),Ae(a,r?.in)}class vD extends it{priority=100;parse(l,r,a){switch(r){case"w":return At(Pt.week,l);case"wo":return a.ordinalNumber(l,{unit:"week"});default:return _t(r.length,l)}}validate(l,r){return r>=1&&r<=53}set(l,r,a,o){return yr(hD(l,a,o),o)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function bD(s,l,r){const a=Ae(s,r?.in),o=hp(a,r)-l;return a.setDate(a.getDate()-o*7),a}class gD extends it{priority=100;parse(l,r,a){switch(r){case"I":return At(Pt.week,l);case"Io":return a.ordinalNumber(l,{unit:"week"});default:return _t(r.length,l)}}validate(l,r){return r>=1&&r<=53}set(l,r,a){return zl(bD(l,a))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const yD=[31,28,31,30,31,30,31,31,30,31,30,31],ND=[31,29,31,30,31,30,31,31,30,31,30,31];class jD extends it{priority=90;subPriority=1;parse(l,r,a){switch(r){case"d":return At(Pt.date,l);case"do":return a.ordinalNumber(l,{unit:"date"});default:return _t(r.length,l)}}validate(l,r){const a=l.getFullYear(),o=r1(a),u=l.getMonth();return o?r>=1&&r<=ND[u]:r>=1&&r<=yD[u]}set(l,r,a){return l.setDate(a),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class wD extends it{priority=90;subpriority=1;parse(l,r,a){switch(r){case"D":case"DD":return At(Pt.dayOfYear,l);case"Do":return a.ordinalNumber(l,{unit:"date"});default:return _t(r.length,l)}}validate(l,r){const a=l.getFullYear();return r1(a)?r>=1&&r<=366:r>=1&&r<=365}set(l,r,a){return l.setMonth(0,a),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function gp(s,l,r){const a=qs(),o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,u=Ae(s,r?.in),d=u.getDay(),x=(l%7+7)%7,p=7-o,v=l<0||l>6?l-(d+p)%7:(x+p)%7-(d+p)%7;return vn(u,v,r)}class SD extends it{priority=90;parse(l,r,a){switch(r){case"E":case"EE":case"EEE":return a.day(l,{width:"abbreviated",context:"formatting"})||a.day(l,{width:"short",context:"formatting"})||a.day(l,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(l,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(l,{width:"short",context:"formatting"})||a.day(l,{width:"narrow",context:"formatting"});default:return a.day(l,{width:"wide",context:"formatting"})||a.day(l,{width:"abbreviated",context:"formatting"})||a.day(l,{width:"short",context:"formatting"})||a.day(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=6}set(l,r,a,o){return l=gp(l,a,o),l.setHours(0,0,0,0),l}incompatibleTokens=["D","i","e","c","t","T"]}class CD extends it{priority=90;parse(l,r,a,o){const u=d=>{const m=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+m};switch(r){case"e":case"ee":return zt(_t(r.length,l),u);case"eo":return zt(a.ordinalNumber(l,{unit:"day"}),u);case"eee":return a.day(l,{width:"abbreviated",context:"formatting"})||a.day(l,{width:"short",context:"formatting"})||a.day(l,{width:"narrow",context:"formatting"});case"eeeee":return a.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(l,{width:"short",context:"formatting"})||a.day(l,{width:"narrow",context:"formatting"});default:return a.day(l,{width:"wide",context:"formatting"})||a.day(l,{width:"abbreviated",context:"formatting"})||a.day(l,{width:"short",context:"formatting"})||a.day(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=6}set(l,r,a,o){return l=gp(l,a,o),l.setHours(0,0,0,0),l}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class kD extends it{priority=90;parse(l,r,a,o){const u=d=>{const m=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+m};switch(r){case"c":case"cc":return zt(_t(r.length,l),u);case"co":return zt(a.ordinalNumber(l,{unit:"day"}),u);case"ccc":return a.day(l,{width:"abbreviated",context:"standalone"})||a.day(l,{width:"short",context:"standalone"})||a.day(l,{width:"narrow",context:"standalone"});case"ccccc":return a.day(l,{width:"narrow",context:"standalone"});case"cccccc":return a.day(l,{width:"short",context:"standalone"})||a.day(l,{width:"narrow",context:"standalone"});default:return a.day(l,{width:"wide",context:"standalone"})||a.day(l,{width:"abbreviated",context:"standalone"})||a.day(l,{width:"short",context:"standalone"})||a.day(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=0&&r<=6}set(l,r,a,o){return l=gp(l,a,o),l.setHours(0,0,0,0),l}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function DD(s,l,r){const a=Ae(s,r?.in),o=eD(a,r),u=l-o;return vn(a,u,r)}class MD extends it{priority=90;parse(l,r,a){const o=u=>u===0?7:u;switch(r){case"i":case"ii":return _t(r.length,l);case"io":return a.ordinalNumber(l,{unit:"day"});case"iii":return zt(a.day(l,{width:"abbreviated",context:"formatting"})||a.day(l,{width:"short",context:"formatting"})||a.day(l,{width:"narrow",context:"formatting"}),o);case"iiiii":return zt(a.day(l,{width:"narrow",context:"formatting"}),o);case"iiiiii":return zt(a.day(l,{width:"short",context:"formatting"})||a.day(l,{width:"narrow",context:"formatting"}),o);default:return zt(a.day(l,{width:"wide",context:"formatting"})||a.day(l,{width:"abbreviated",context:"formatting"})||a.day(l,{width:"short",context:"formatting"})||a.day(l,{width:"narrow",context:"formatting"}),o)}}validate(l,r){return r>=1&&r<=7}set(l,r,a){return l=DD(l,a),l.setHours(0,0,0,0),l}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class AD extends it{priority=80;parse(l,r,a){switch(r){case"a":case"aa":case"aaa":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"})||a.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(l,{width:"narrow",context:"formatting"});default:return a.dayPeriod(l,{width:"wide",context:"formatting"})||a.dayPeriod(l,{width:"abbreviated",context:"formatting"})||a.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,a){return l.setHours(bp(a),0,0,0),l}incompatibleTokens=["b","B","H","k","t","T"]}class TD extends it{priority=80;parse(l,r,a){switch(r){case"b":case"bb":case"bbb":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"})||a.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(l,{width:"narrow",context:"formatting"});default:return a.dayPeriod(l,{width:"wide",context:"formatting"})||a.dayPeriod(l,{width:"abbreviated",context:"formatting"})||a.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,a){return l.setHours(bp(a),0,0,0),l}incompatibleTokens=["a","B","H","k","t","T"]}class ED extends it{priority=80;parse(l,r,a){switch(r){case"B":case"BB":case"BBB":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"})||a.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(l,{width:"narrow",context:"formatting"});default:return a.dayPeriod(l,{width:"wide",context:"formatting"})||a.dayPeriod(l,{width:"abbreviated",context:"formatting"})||a.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,a){return l.setHours(bp(a),0,0,0),l}incompatibleTokens=["a","b","t","T"]}class _D extends it{priority=70;parse(l,r,a){switch(r){case"h":return At(Pt.hour12h,l);case"ho":return a.ordinalNumber(l,{unit:"hour"});default:return _t(r.length,l)}}validate(l,r){return r>=1&&r<=12}set(l,r,a){const o=l.getHours()>=12;return o&&a<12?l.setHours(a+12,0,0,0):!o&&a===12?l.setHours(0,0,0,0):l.setHours(a,0,0,0),l}incompatibleTokens=["H","K","k","t","T"]}class OD extends it{priority=70;parse(l,r,a){switch(r){case"H":return At(Pt.hour23h,l);case"Ho":return a.ordinalNumber(l,{unit:"hour"});default:return _t(r.length,l)}}validate(l,r){return r>=0&&r<=23}set(l,r,a){return l.setHours(a,0,0,0),l}incompatibleTokens=["a","b","h","K","k","t","T"]}class RD extends it{priority=70;parse(l,r,a){switch(r){case"K":return At(Pt.hour11h,l);case"Ko":return a.ordinalNumber(l,{unit:"hour"});default:return _t(r.length,l)}}validate(l,r){return r>=0&&r<=11}set(l,r,a){return l.getHours()>=12&&a<12?l.setHours(a+12,0,0,0):l.setHours(a,0,0,0),l}incompatibleTokens=["h","H","k","t","T"]}class ID extends it{priority=70;parse(l,r,a){switch(r){case"k":return At(Pt.hour24h,l);case"ko":return a.ordinalNumber(l,{unit:"hour"});default:return _t(r.length,l)}}validate(l,r){return r>=1&&r<=24}set(l,r,a){const o=a<=24?a%24:a;return l.setHours(o,0,0,0),l}incompatibleTokens=["a","b","h","H","K","t","T"]}class LD extends it{priority=60;parse(l,r,a){switch(r){case"m":return At(Pt.minute,l);case"mo":return a.ordinalNumber(l,{unit:"minute"});default:return _t(r.length,l)}}validate(l,r){return r>=0&&r<=59}set(l,r,a){return l.setMinutes(a,0,0),l}incompatibleTokens=["t","T"]}class PD extends it{priority=50;parse(l,r,a){switch(r){case"s":return At(Pt.second,l);case"so":return a.ordinalNumber(l,{unit:"second"});default:return _t(r.length,l)}}validate(l,r){return r>=0&&r<=59}set(l,r,a){return l.setSeconds(a,0),l}incompatibleTokens=["t","T"]}class zD extends it{priority=30;parse(l,r){const a=o=>Math.trunc(o*Math.pow(10,-r.length+3));return zt(_t(r.length,l),a)}set(l,r,a){return l.setMilliseconds(a),l}incompatibleTokens=["t","T"]}class FD extends it{priority=10;parse(l,r){switch(r){case"X":return _n(En.basicOptionalMinutes,l);case"XX":return _n(En.basic,l);case"XXXX":return _n(En.basicOptionalSeconds,l);case"XXXXX":return _n(En.extendedOptionalSeconds,l);default:return _n(En.extended,l)}}set(l,r,a){return r.timestampIsSet?l:ft(l,l.getTime()-yu(l)-a)}incompatibleTokens=["t","T","x"]}class BD extends it{priority=10;parse(l,r){switch(r){case"x":return _n(En.basicOptionalMinutes,l);case"xx":return _n(En.basic,l);case"xxxx":return _n(En.basicOptionalSeconds,l);case"xxxxx":return _n(En.extendedOptionalSeconds,l);default:return _n(En.extended,l)}}set(l,r,a){return r.timestampIsSet?l:ft(l,l.getTime()-yu(l)-a)}incompatibleTokens=["t","T","X"]}class HD extends it{priority=40;parse(l){return a1(l)}set(l,r,a){return[ft(l,a*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class YD extends it{priority=20;parse(l){return a1(l)}set(l,r,a){return[ft(l,a),{timestampIsSet:!0}]}incompatibleTokens="*"}const qD={G:new iD,y:new oD,Y:new cD,R:new uD,u:new dD,Q:new mD,q:new fD,M:new pD,L:new xD,w:new vD,I:new gD,d:new jD,D:new wD,E:new SD,e:new CD,c:new kD,i:new MD,a:new AD,b:new TD,B:new ED,h:new _D,H:new OD,K:new RD,k:new ID,m:new LD,s:new PD,S:new zD,X:new FD,x:new BD,t:new HD,T:new YD},$D=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,VD=/^'([^]*?)'?$/,GD=/''/g,QD=/\S/,KD=/[a-zA-Z]/;function XD(s,l,r,a){const o=()=>ft(a?.in||r,NaN),u=Jk(),d=a?.locale??u.locale??Zy,m=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,x=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0;if(!l)return s?o():Ae(r,a?.in);const p={firstWeekContainsDate:m,weekStartsOn:x,locale:d},v=[new lD(a?.in,r)],b=l.match(UD).map(y=>{const w=y[0];if(w in Yf){const D=Yf[w];return D(y,d.formatLong)}return y}).join("").match($D),g=[];for(let y of b){const w=y[0],D=qD[w];if(D){const{incompatibleTokens:k}=D;if(Array.isArray(k)){const O=g.find(Y=>k.includes(Y.token)||Y.token===w);if(O)throw new RangeError(`The format string mustn't contain \`${O.fullToken}\` and \`${y}\` at the same time`)}else if(D.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${y}\` and any other token at the same time`);g.push({token:w,fullToken:y});const _=D.run(s,y,d.match,p);if(!_)return o();v.push(_.setter),s=_.rest}else{if(w.match(KD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");if(y==="''"?y="'":w==="'"&&(y=WD(y)),s.indexOf(y)===0)s=s.slice(y.length);else return o()}}if(s.length>0&&QD.test(s))return o();const j=v.map(y=>y.priority).sort((y,w)=>w-y).filter((y,w,D)=>D.indexOf(y)===w).map(y=>v.filter(w=>w.priority===y).sort((w,D)=>D.subPriority-w.subPriority)).map(y=>y[0]);let M=Ae(r,a?.in);if(isNaN(+M))return o();const S={};for(const y of j){if(!y.validate(M,p))return o();const w=y.set(M,S,p);Array.isArray(w)?(M=w[0],Object.assign(S,w[1])):M=w}return M}function WD(s){return s.match(VD)[1].replace(GD,"'")}function ZD(s,l,r){const[a,o]=jr(r?.in,s,l);return a.getFullYear()===o.getFullYear()&&a.getMonth()===o.getMonth()}function JD(s,l,r){const[a,o]=jr(r?.in,s,l);return+Hf(a)==+Hf(o)}function eM(s,l,r){const[a,o]=jr(r?.in,s,l);return a.getFullYear()===o.getFullYear()}function oo(s,l,r){const a=+Ae(s,r?.in),[o,u]=[+Ae(l.start,r?.in),+Ae(l.end,r?.in)].sort((d,m)=>d-m);return a>=o&&a<=u}function tM(s,l,r){return vn(s,-1,r)}function aM(s,l){const r=()=>ft(l?.in,NaN),o=lM(s);let u;if(o.date){const p=iM(o.date,2);u=oM(p.restDateString,p.year)}if(!u||isNaN(+u))return r();const d=+u;let m=0,x;if(o.time&&(m=cM(o.time),isNaN(m)))return r();if(o.timezone){if(x=uM(o.timezone),isNaN(x))return r()}else{const p=new Date(d+m),v=Ae(0,l?.in);return v.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),v.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),v}return Ae(d+m+x,l?.in)}const Lc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},nM=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,rM=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,sM=/^([+-])(\d{2})(?::?(\d{2}))?$/;function lM(s){const l={},r=s.split(Lc.dateTimeDelimiter);let a;if(r.length>2)return l;if(/:/.test(r[0])?a=r[0]:(l.date=r[0],a=r[1],Lc.timeZoneDelimiter.test(l.date)&&(l.date=s.split(Lc.timeZoneDelimiter)[0],a=s.substr(l.date.length,s.length))),a){const o=Lc.timezone.exec(a);o?(l.time=a.replace(o[1],""),l.timezone=o[1]):l.time=a}return l}function iM(s,l){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+l)+"})|(\\d{2}|[+-]\\d{"+(2+l)+"})$)"),a=s.match(r);if(!a)return{year:NaN,restDateString:""};const o=a[1]?parseInt(a[1]):null,u=a[2]?parseInt(a[2]):null;return{year:u===null?o:u*100,restDateString:s.slice((a[1]||a[2]).length)}}function oM(s,l){if(l===null)return new Date(NaN);const r=s.match(nM);if(!r)return new Date(NaN);const a=!!r[4],o=Qi(r[1]),u=Qi(r[2])-1,d=Qi(r[3]),m=Qi(r[4]),x=Qi(r[5])-1;if(a)return xM(l,m,x)?dM(l,m,x):new Date(NaN);{const p=new Date(0);return!fM(l,u,d)||!pM(l,o)?new Date(NaN):(p.setUTCFullYear(l,u,Math.max(o,d)),p)}}function Qi(s){return s?parseInt(s):1}function cM(s){const l=s.match(rM);if(!l)return NaN;const r=bf(l[1]),a=bf(l[2]),o=bf(l[3]);return hM(r,a,o)?r*Hu+a*Bu+o*1e3:NaN}function bf(s){return s&&parseFloat(s.replace(",","."))||0}function uM(s){if(s==="Z")return 0;const l=s.match(sM);if(!l)return 0;const r=l[1]==="+"?-1:1,a=parseInt(l[2]),o=l[3]&&parseInt(l[3])||0;return vM(a,o)?r*(a*Hu+o*Bu):NaN}function dM(s,l,r){const a=new Date(0);a.setUTCFullYear(s,0,4);const o=a.getUTCDay()||7,u=(l-1)*7+r+1-o;return a.setUTCDate(a.getUTCDate()+u),a}const mM=[31,null,31,30,31,30,31,31,30,31,30,31];function s1(s){return s%400===0||s%4===0&&s%100!==0}function fM(s,l,r){return l>=0&&l<=11&&r>=1&&r<=(mM[l]||(s1(s)?29:28))}function pM(s,l){return l>=1&&l<=(s1(s)?366:365)}function xM(s,l,r){return l>=1&&l<=53&&r>=0&&r<=6}function hM(s,l,r){return s===24?l===0&&r===0:r>=0&&r<60&&l>=0&&l<60&&s>=0&&s<25}function vM(s,l){return l>=0&&l<=59}function Ya(s,l,r){const a=Ae(s,r?.in),o=a.getFullYear(),u=a.getDate(),d=ft(s,0);d.setFullYear(o,l,15),d.setHours(0,0,0,0);const m=Zk(d);return a.setMonth(l,Math.min(u,m)),a}function ou(s,l,r){const a=Ae(s,r?.in);return a.setHours(l),a}function cu(s,l,r){const a=Ae(s,r?.in);return a.setMinutes(l),a}function Al(s,l,r){const a=Ae(s,r?.in),o=Math.trunc(a.getMonth()/3)+1,u=l-o;return Ya(a,a.getMonth()+u*3)}function uu(s,l,r){const a=Ae(s,r?.in);return a.setSeconds(l),a}function An(s,l,r){const a=Ae(s,r?.in);return isNaN(+a)?ft(s,NaN):(a.setFullYear(l),a)}function Ls(s,l,r){return yn(s,-l,r)}function l1(s,l,r){return xp(s,-1,r)}function nb(s,l,r){return Nu(s,-1,r)}function ns(s,l,r){return bn(s,-l,r)}function qu(){return typeof window<"u"}function Wl(s){return i1(s)?(s.nodeName||"").toLowerCase():"#document"}function $a(s){var l;return(s==null||(l=s.ownerDocument)==null?void 0:l.defaultView)||window}function $n(s){var l;return(l=(i1(s)?s.ownerDocument:s.document)||window.document)==null?void 0:l.documentElement}function i1(s){return qu()?s instanceof Node||s instanceof $a(s).Node:!1}function ha(s){return qu()?s instanceof Element||s instanceof $a(s).Element:!1}function Bn(s){return qu()?s instanceof HTMLElement||s instanceof $a(s).HTMLElement:!1}function rb(s){return!qu()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof $a(s).ShadowRoot}const bM=new Set(["inline","contents"]);function xo(s){const{overflow:l,overflowX:r,overflowY:a,display:o}=ln(s);return/auto|scroll|overlay|hidden|clip/.test(l+a+r)&&!bM.has(o)}const gM=new Set(["table","td","th"]);function yM(s){return gM.has(Wl(s))}const NM=[":popover-open",":modal"];function $u(s){return NM.some(l=>{try{return s.matches(l)}catch{return!1}})}const jM=["transform","translate","scale","rotate","perspective"],wM=["transform","translate","scale","rotate","perspective","filter"],SM=["paint","layout","strict","content"];function yp(s){const l=Np(),r=ha(s)?ln(s):s;return jM.some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!l&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!l&&(r.filter?r.filter!=="none":!1)||wM.some(a=>(r.willChange||"").includes(a))||SM.some(a=>(r.contain||"").includes(a))}function CM(s){let l=rs(s);for(;Bn(l)&&!Hl(l);){if(yp(l))return l;if($u(l))return null;l=rs(l)}return null}function Np(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const kM=new Set(["html","body","#document"]);function Hl(s){return kM.has(Wl(s))}function ln(s){return $a(s).getComputedStyle(s)}function Uu(s){return ha(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function rs(s){if(Wl(s)==="html")return s;const l=s.assignedSlot||s.parentNode||rb(s)&&s.host||$n(s);return rb(l)?l.host:l}function o1(s){const l=rs(s);return Hl(l)?s.ownerDocument?s.ownerDocument.body:s.body:Bn(l)&&xo(l)?l:o1(l)}function co(s,l,r){var a;l===void 0&&(l=[]),r===void 0&&(r=!0);const o=o1(s),u=o===((a=s.ownerDocument)==null?void 0:a.body),d=$a(o);if(u){const m=$f(d);return l.concat(d,d.visualViewport||[],xo(o)?o:[],m&&r?co(m):[])}return l.concat(o,co(o,[],r))}function $f(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}const Yl=Math.min,Ps=Math.max,ku=Math.round,Pc=Math.floor,zn=s=>({x:s,y:s}),DM={left:"right",right:"left",bottom:"top",top:"bottom"},MM={start:"end",end:"start"};function AM(s,l,r){return Ps(s,Yl(l,r))}function Vu(s,l){return typeof s=="function"?s(l):s}function ql(s){return s.split("-")[0]}function ho(s){return s.split("-")[1]}function TM(s){return s==="x"?"y":"x"}function jp(s){return s==="y"?"height":"width"}const EM=new Set(["top","bottom"]);function Os(s){return EM.has(ql(s))?"y":"x"}function wp(s){return TM(Os(s))}function _M(s,l,r){r===void 0&&(r=!1);const a=ho(s),o=wp(s),u=jp(o);let d=o==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return l.reference[u]>l.floating[u]&&(d=Du(d)),[d,Du(d)]}function OM(s){const l=Du(s);return[Uf(s),l,Uf(l)]}function Uf(s){return s.replace(/start|end/g,l=>MM[l])}const sb=["left","right"],lb=["right","left"],RM=["top","bottom"],IM=["bottom","top"];function LM(s,l,r){switch(s){case"top":case"bottom":return r?l?lb:sb:l?sb:lb;case"left":case"right":return l?RM:IM;default:return[]}}function PM(s,l,r,a){const o=ho(s);let u=LM(ql(s),r==="start",a);return o&&(u=u.map(d=>d+"-"+o),l&&(u=u.concat(u.map(Uf)))),u}function Du(s){return s.replace(/left|right|bottom|top/g,l=>DM[l])}function zM(s){return{top:0,right:0,bottom:0,left:0,...s}}function c1(s){return typeof s!="number"?zM(s):{top:s,right:s,bottom:s,left:s}}function Mu(s){const{x:l,y:r,width:a,height:o}=s;return{width:a,height:o,top:r,left:l,right:l+a,bottom:r+o,x:l,y:r}}var FM=typeof document<"u",BM=function(){},Au=FM?N.useLayoutEffect:BM;const HM={...yg},YM=HM.useInsertionEffect,qM=YM||(s=>s());function $M(s){const l=N.useRef(()=>{});return qM(()=>{l.current=s}),N.useCallback(function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return l.current==null?void 0:l.current(...a)},[])}function ib(s,l,r){let{reference:a,floating:o}=s;const u=Os(l),d=wp(l),m=jp(d),x=ql(l),p=u==="y",v=a.x+a.width/2-o.width/2,b=a.y+a.height/2-o.height/2,g=a[m]/2-o[m]/2;let j;switch(x){case"top":j={x:v,y:a.y-o.height};break;case"bottom":j={x:v,y:a.y+a.height};break;case"right":j={x:a.x+a.width,y:b};break;case"left":j={x:a.x-o.width,y:b};break;default:j={x:a.x,y:a.y}}switch(ho(l)){case"start":j[d]-=g*(r&&p?-1:1);break;case"end":j[d]+=g*(r&&p?-1:1);break}return j}async function UM(s,l){var r;l===void 0&&(l={});const{x:a,y:o,platform:u,rects:d,elements:m,strategy:x}=s,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:g=!1,padding:j=0}=Vu(l,s),M=c1(j),y=m[g?b==="floating"?"reference":"floating":b],w=Mu(await u.getClippingRect({element:(r=await(u.isElement==null?void 0:u.isElement(y)))==null||r?y:y.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(m.floating)),boundary:p,rootBoundary:v,strategy:x})),D=b==="floating"?{x:a,y:o,width:d.floating.width,height:d.floating.height}:d.reference,k=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m.floating)),_=await(u.isElement==null?void 0:u.isElement(k))?await(u.getScale==null?void 0:u.getScale(k))||{x:1,y:1}:{x:1,y:1},O=Mu(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:D,offsetParent:k,strategy:x}):D);return{top:(w.top-O.top+M.top)/_.y,bottom:(O.bottom-w.bottom+M.bottom)/_.y,left:(w.left-O.left+M.left)/_.x,right:(O.right-w.right+M.right)/_.x}}const VM=async(s,l,r)=>{const{placement:a="bottom",strategy:o="absolute",middleware:u=[],platform:d}=r,m=u.filter(Boolean),x=await(d.isRTL==null?void 0:d.isRTL(l));let p=await d.getElementRects({reference:s,floating:l,strategy:o}),{x:v,y:b}=ib(p,a,x),g=a,j={},M=0;for(let y=0;y<m.length;y++){var S;const{name:w,fn:D}=m[y],{x:k,y:_,data:O,reset:Y}=await D({x:v,y:b,initialPlacement:a,placement:g,strategy:o,middlewareData:j,rects:p,platform:{...d,detectOverflow:(S=d.detectOverflow)!=null?S:UM},elements:{reference:s,floating:l}});v=k??v,b=_??b,j={...j,[w]:{...j[w],...O}},Y&&M<=50&&(M++,typeof Y=="object"&&(Y.placement&&(g=Y.placement),Y.rects&&(p=Y.rects===!0?await d.getElementRects({reference:s,floating:l,strategy:o}):Y.rects),{x:v,y:b}=ib(p,g,x)),y=-1)}return{x:v,y:b,placement:g,strategy:o,middlewareData:j}},GM=s=>({name:"arrow",options:s,async fn(l){const{x:r,y:a,placement:o,rects:u,platform:d,elements:m,middlewareData:x}=l,{element:p,padding:v=0}=Vu(s,l)||{};if(p==null)return{};const b=c1(v),g={x:r,y:a},j=wp(o),M=jp(j),S=await d.getDimensions(p),y=j==="y",w=y?"top":"left",D=y?"bottom":"right",k=y?"clientHeight":"clientWidth",_=u.reference[M]+u.reference[j]-g[j]-u.floating[M],O=g[j]-u.reference[j],Y=await(d.getOffsetParent==null?void 0:d.getOffsetParent(p));let P=Y?Y[k]:0;(!P||!await(d.isElement==null?void 0:d.isElement(Y)))&&(P=m.floating[k]||u.floating[M]);const T=_/2-O/2,R=P/2-S[M]/2-1,I=Yl(b[w],R),q=Yl(b[D],R),A=I,ee=P-S[M]-q,se=P/2-S[M]/2+T,Q=AM(A,se,ee),B=!x.arrow&&ho(o)!=null&&se!==Q&&u.reference[M]/2-(se<A?I:q)-S[M]/2<0,K=B?se<A?se-A:se-ee:0;return{[j]:g[j]+K,data:{[j]:Q,centerOffset:se-Q-K,...B&&{alignmentOffset:K}},reset:B}}}),QM=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(l){var r,a;const{placement:o,middlewareData:u,rects:d,initialPlacement:m,platform:x,elements:p}=l,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:g,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:M="none",flipAlignment:S=!0,...y}=Vu(s,l);if((r=u.arrow)!=null&&r.alignmentOffset)return{};const w=ql(o),D=Os(m),k=ql(m)===m,_=await(x.isRTL==null?void 0:x.isRTL(p.floating)),O=g||(k||!S?[Du(m)]:OM(m)),Y=M!=="none";!g&&Y&&O.push(...PM(m,S,M,_));const P=[m,...O],T=await x.detectOverflow(l,y),R=[];let I=((a=u.flip)==null?void 0:a.overflows)||[];if(v&&R.push(T[w]),b){const se=_M(o,d,_);R.push(T[se[0]],T[se[1]])}if(I=[...I,{placement:o,overflows:R}],!R.every(se=>se<=0)){var q,A;const se=(((q=u.flip)==null?void 0:q.index)||0)+1,Q=P[se];if(Q&&(!(b==="alignment"?D!==Os(Q):!1)||I.every(L=>Os(L.placement)===D?L.overflows[0]>0:!0)))return{data:{index:se,overflows:I},reset:{placement:Q}};let B=(A=I.filter(K=>K.overflows[0]<=0).sort((K,L)=>K.overflows[1]-L.overflows[1])[0])==null?void 0:A.placement;if(!B)switch(j){case"bestFit":{var ee;const K=(ee=I.filter(L=>{if(Y){const le=Os(L.placement);return le===D||le==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(le=>le>0).reduce((le,ve)=>le+ve,0)]).sort((L,le)=>L[1]-le[1])[0])==null?void 0:ee[0];K&&(B=K);break}case"initialPlacement":B=m;break}if(o!==B)return{reset:{placement:B}}}return{}}}},KM=new Set(["left","top"]);async function XM(s,l){const{placement:r,platform:a,elements:o}=s,u=await(a.isRTL==null?void 0:a.isRTL(o.floating)),d=ql(r),m=ho(r),x=Os(r)==="y",p=KM.has(d)?-1:1,v=u&&x?-1:1,b=Vu(l,s);let{mainAxis:g,crossAxis:j,alignmentAxis:M}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return m&&typeof M=="number"&&(j=m==="end"?M*-1:M),x?{x:j*v,y:g*p}:{x:g*p,y:j*v}}const WM=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(l){var r,a;const{x:o,y:u,placement:d,middlewareData:m}=l,x=await XM(l,s);return d===((r=m.offset)==null?void 0:r.placement)&&(a=m.arrow)!=null&&a.alignmentOffset?{}:{x:o+x.x,y:u+x.y,data:{...x,placement:d}}}}};function u1(s){const l=ln(s);let r=parseFloat(l.width)||0,a=parseFloat(l.height)||0;const o=Bn(s),u=o?s.offsetWidth:r,d=o?s.offsetHeight:a,m=ku(r)!==u||ku(a)!==d;return m&&(r=u,a=d),{width:r,height:a,$:m}}function Sp(s){return ha(s)?s:s.contextElement}function Ol(s){const l=Sp(s);if(!Bn(l))return zn(1);const r=l.getBoundingClientRect(),{width:a,height:o,$:u}=u1(l);let d=(u?ku(r.width):r.width)/a,m=(u?ku(r.height):r.height)/o;return(!d||!Number.isFinite(d))&&(d=1),(!m||!Number.isFinite(m))&&(m=1),{x:d,y:m}}const ZM=zn(0);function d1(s){const l=$a(s);return!Np()||!l.visualViewport?ZM:{x:l.visualViewport.offsetLeft,y:l.visualViewport.offsetTop}}function JM(s,l,r){return l===void 0&&(l=!1),!r||l&&r!==$a(s)?!1:l}function Bs(s,l,r,a){l===void 0&&(l=!1),r===void 0&&(r=!1);const o=s.getBoundingClientRect(),u=Sp(s);let d=zn(1);l&&(a?ha(a)&&(d=Ol(a)):d=Ol(s));const m=JM(u,r,a)?d1(u):zn(0);let x=(o.left+m.x)/d.x,p=(o.top+m.y)/d.y,v=o.width/d.x,b=o.height/d.y;if(u){const g=$a(u),j=a&&ha(a)?$a(a):a;let M=g,S=$f(M);for(;S&&a&&j!==M;){const y=Ol(S),w=S.getBoundingClientRect(),D=ln(S),k=w.left+(S.clientLeft+parseFloat(D.paddingLeft))*y.x,_=w.top+(S.clientTop+parseFloat(D.paddingTop))*y.y;x*=y.x,p*=y.y,v*=y.x,b*=y.y,x+=k,p+=_,M=$a(S),S=$f(M)}}return Mu({width:v,height:b,x,y:p})}function Gu(s,l){const r=Uu(s).scrollLeft;return l?l.left+r:Bs($n(s)).left+r}function m1(s,l){const r=s.getBoundingClientRect(),a=r.left+l.scrollLeft-Gu(s,r),o=r.top+l.scrollTop;return{x:a,y:o}}function e4(s){let{elements:l,rect:r,offsetParent:a,strategy:o}=s;const u=o==="fixed",d=$n(a),m=l?$u(l.floating):!1;if(a===d||m&&u)return r;let x={scrollLeft:0,scrollTop:0},p=zn(1);const v=zn(0),b=Bn(a);if((b||!b&&!u)&&((Wl(a)!=="body"||xo(d))&&(x=Uu(a)),Bn(a))){const j=Bs(a);p=Ol(a),v.x=j.x+a.clientLeft,v.y=j.y+a.clientTop}const g=d&&!b&&!u?m1(d,x):zn(0);return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-x.scrollLeft*p.x+v.x+g.x,y:r.y*p.y-x.scrollTop*p.y+v.y+g.y}}function t4(s){return Array.from(s.getClientRects())}function a4(s){const l=$n(s),r=Uu(s),a=s.ownerDocument.body,o=Ps(l.scrollWidth,l.clientWidth,a.scrollWidth,a.clientWidth),u=Ps(l.scrollHeight,l.clientHeight,a.scrollHeight,a.clientHeight);let d=-r.scrollLeft+Gu(s);const m=-r.scrollTop;return ln(a).direction==="rtl"&&(d+=Ps(l.clientWidth,a.clientWidth)-o),{width:o,height:u,x:d,y:m}}const ob=25;function n4(s,l){const r=$a(s),a=$n(s),o=r.visualViewport;let u=a.clientWidth,d=a.clientHeight,m=0,x=0;if(o){u=o.width,d=o.height;const v=Np();(!v||v&&l==="fixed")&&(m=o.offsetLeft,x=o.offsetTop)}const p=Gu(a);if(p<=0){const v=a.ownerDocument,b=v.body,g=getComputedStyle(b),j=v.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,M=Math.abs(a.clientWidth-b.clientWidth-j);M<=ob&&(u-=M)}else p<=ob&&(u+=p);return{width:u,height:d,x:m,y:x}}const r4=new Set(["absolute","fixed"]);function s4(s,l){const r=Bs(s,!0,l==="fixed"),a=r.top+s.clientTop,o=r.left+s.clientLeft,u=Bn(s)?Ol(s):zn(1),d=s.clientWidth*u.x,m=s.clientHeight*u.y,x=o*u.x,p=a*u.y;return{width:d,height:m,x,y:p}}function cb(s,l,r){let a;if(l==="viewport")a=n4(s,r);else if(l==="document")a=a4($n(s));else if(ha(l))a=s4(l,r);else{const o=d1(s);a={x:l.x-o.x,y:l.y-o.y,width:l.width,height:l.height}}return Mu(a)}function f1(s,l){const r=rs(s);return r===l||!ha(r)||Hl(r)?!1:ln(r).position==="fixed"||f1(r,l)}function l4(s,l){const r=l.get(s);if(r)return r;let a=co(s,[],!1).filter(m=>ha(m)&&Wl(m)!=="body"),o=null;const u=ln(s).position==="fixed";let d=u?rs(s):s;for(;ha(d)&&!Hl(d);){const m=ln(d),x=yp(d);!x&&m.position==="fixed"&&(o=null),(u?!x&&!o:!x&&m.position==="static"&&!!o&&r4.has(o.position)||xo(d)&&!x&&f1(s,d))?a=a.filter(v=>v!==d):o=m,d=rs(d)}return l.set(s,a),a}function i4(s){let{element:l,boundary:r,rootBoundary:a,strategy:o}=s;const d=[...r==="clippingAncestors"?$u(l)?[]:l4(l,this._c):[].concat(r),a],m=d[0],x=d.reduce((p,v)=>{const b=cb(l,v,o);return p.top=Ps(b.top,p.top),p.right=Yl(b.right,p.right),p.bottom=Yl(b.bottom,p.bottom),p.left=Ps(b.left,p.left),p},cb(l,m,o));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function o4(s){const{width:l,height:r}=u1(s);return{width:l,height:r}}function c4(s,l,r){const a=Bn(l),o=$n(l),u=r==="fixed",d=Bs(s,!0,u,l);let m={scrollLeft:0,scrollTop:0};const x=zn(0);function p(){x.x=Gu(o)}if(a||!a&&!u)if((Wl(l)!=="body"||xo(o))&&(m=Uu(l)),a){const j=Bs(l,!0,u,l);x.x=j.x+l.clientLeft,x.y=j.y+l.clientTop}else o&&p();u&&!a&&o&&p();const v=o&&!a&&!u?m1(o,m):zn(0),b=d.left+m.scrollLeft-x.x-v.x,g=d.top+m.scrollTop-x.y-v.y;return{x:b,y:g,width:d.width,height:d.height}}function gf(s){return ln(s).position==="static"}function ub(s,l){if(!Bn(s)||ln(s).position==="fixed")return null;if(l)return l(s);let r=s.offsetParent;return $n(s)===r&&(r=r.ownerDocument.body),r}function p1(s,l){const r=$a(s);if($u(s))return r;if(!Bn(s)){let o=rs(s);for(;o&&!Hl(o);){if(ha(o)&&!gf(o))return o;o=rs(o)}return r}let a=ub(s,l);for(;a&&yM(a)&&gf(a);)a=ub(a,l);return a&&Hl(a)&&gf(a)&&!yp(a)?r:a||CM(s)||r}const u4=async function(s){const l=this.getOffsetParent||p1,r=this.getDimensions,a=await r(s.floating);return{reference:c4(s.reference,await l(s.floating),s.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function d4(s){return ln(s).direction==="rtl"}const m4={convertOffsetParentRelativeRectToViewportRelativeRect:e4,getDocumentElement:$n,getClippingRect:i4,getOffsetParent:p1,getElementRects:u4,getClientRects:t4,getDimensions:o4,getScale:Ol,isElement:ha,isRTL:d4};function x1(s,l){return s.x===l.x&&s.y===l.y&&s.width===l.width&&s.height===l.height}function f4(s,l){let r=null,a;const o=$n(s);function u(){var m;clearTimeout(a),(m=r)==null||m.disconnect(),r=null}function d(m,x){m===void 0&&(m=!1),x===void 0&&(x=1),u();const p=s.getBoundingClientRect(),{left:v,top:b,width:g,height:j}=p;if(m||l(),!g||!j)return;const M=Pc(b),S=Pc(o.clientWidth-(v+g)),y=Pc(o.clientHeight-(b+j)),w=Pc(v),k={rootMargin:-M+"px "+-S+"px "+-y+"px "+-w+"px",threshold:Ps(0,Yl(1,x))||1};let _=!0;function O(Y){const P=Y[0].intersectionRatio;if(P!==x){if(!_)return d();P?d(!1,P):a=setTimeout(()=>{d(!1,1e-7)},1e3)}P===1&&!x1(p,s.getBoundingClientRect())&&d(),_=!1}try{r=new IntersectionObserver(O,{...k,root:o.ownerDocument})}catch{r=new IntersectionObserver(O,k)}r.observe(s)}return d(!0),u}function p4(s,l,r,a){a===void 0&&(a={});const{ancestorScroll:o=!0,ancestorResize:u=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:x=!1}=a,p=Sp(s),v=o||u?[...p?co(p):[],...co(l)]:[];v.forEach(w=>{o&&w.addEventListener("scroll",r,{passive:!0}),u&&w.addEventListener("resize",r)});const b=p&&m?f4(p,r):null;let g=-1,j=null;d&&(j=new ResizeObserver(w=>{let[D]=w;D&&D.target===p&&j&&(j.unobserve(l),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var k;(k=j)==null||k.observe(l)})),r()}),p&&!x&&j.observe(p),j.observe(l));let M,S=x?Bs(s):null;x&&y();function y(){const w=Bs(s);S&&!x1(S,w)&&r(),S=w,M=requestAnimationFrame(y)}return r(),()=>{var w;v.forEach(D=>{o&&D.removeEventListener("scroll",r),u&&D.removeEventListener("resize",r)}),b?.(),(w=j)==null||w.disconnect(),j=null,x&&cancelAnimationFrame(M)}}const x4=WM,h4=QM,db=GM,v4=(s,l,r)=>{const a=new Map,o={platform:m4,...r},u={...o.platform,_c:a};return VM(s,l,{...o,platform:u})};var b4=typeof document<"u",g4=function(){},du=b4?N.useLayoutEffect:g4;function Tu(s,l){if(s===l)return!0;if(typeof s!=typeof l)return!1;if(typeof s=="function"&&s.toString()===l.toString())return!0;let r,a,o;if(s&&l&&typeof s=="object"){if(Array.isArray(s)){if(r=s.length,r!==l.length)return!1;for(a=r;a--!==0;)if(!Tu(s[a],l[a]))return!1;return!0}if(o=Object.keys(s),r=o.length,r!==Object.keys(l).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(l,o[a]))return!1;for(a=r;a--!==0;){const u=o[a];if(!(u==="_owner"&&s.$$typeof)&&!Tu(s[u],l[u]))return!1}return!0}return s!==s&&l!==l}function h1(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function mb(s,l){const r=h1(s);return Math.round(l*r)/r}function yf(s){const l=N.useRef(s);return du(()=>{l.current=s}),l}function y4(s){s===void 0&&(s={});const{placement:l="bottom",strategy:r="absolute",middleware:a=[],platform:o,elements:{reference:u,floating:d}={},transform:m=!0,whileElementsMounted:x,open:p}=s,[v,b]=N.useState({x:0,y:0,strategy:r,placement:l,middlewareData:{},isPositioned:!1}),[g,j]=N.useState(a);Tu(g,a)||j(a);const[M,S]=N.useState(null),[y,w]=N.useState(null),D=N.useCallback(L=>{L!==Y.current&&(Y.current=L,S(L))},[]),k=N.useCallback(L=>{L!==P.current&&(P.current=L,w(L))},[]),_=u||M,O=d||y,Y=N.useRef(null),P=N.useRef(null),T=N.useRef(v),R=x!=null,I=yf(x),q=yf(o),A=yf(p),ee=N.useCallback(()=>{if(!Y.current||!P.current)return;const L={placement:l,strategy:r,middleware:g};q.current&&(L.platform=q.current),v4(Y.current,P.current,L).then(le=>{const ve={...le,isPositioned:A.current!==!1};se.current&&!Tu(T.current,ve)&&(T.current=ve,op.flushSync(()=>{b(ve)}))})},[g,l,r,q,A]);du(()=>{p===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,b(L=>({...L,isPositioned:!1})))},[p]);const se=N.useRef(!1);du(()=>(se.current=!0,()=>{se.current=!1}),[]),du(()=>{if(_&&(Y.current=_),O&&(P.current=O),_&&O){if(I.current)return I.current(_,O,ee);ee()}},[_,O,ee,I,R]);const Q=N.useMemo(()=>({reference:Y,floating:P,setReference:D,setFloating:k}),[D,k]),B=N.useMemo(()=>({reference:_,floating:O}),[_,O]),K=N.useMemo(()=>{const L={position:r,left:0,top:0};if(!B.floating)return L;const le=mb(B.floating,v.x),ve=mb(B.floating,v.y);return m?{...L,transform:"translate("+le+"px, "+ve+"px)",...h1(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:le,top:ve}},[r,m,B.floating,v.x,v.y]);return N.useMemo(()=>({...v,update:ee,refs:Q,elements:B,floatingStyles:K}),[v,ee,Q,B,K])}const N4=s=>{function l(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:s,fn(r){const{element:a,padding:o}=typeof s=="function"?s(r):s;return a&&l(a)?a.current!=null?db({element:a.current,padding:o}).fn(r):{}:a?db({element:a,padding:o}).fn(r):{}}}},j4=(s,l)=>({...x4(s),options:[s,l]}),w4=(s,l)=>({...h4(s),options:[s,l]}),S4=(s,l)=>({...N4(s),options:[s,l]}),C4={...yg};let fb=!1,k4=0;const pb=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+k4++;function D4(){const[s,l]=N.useState(()=>fb?pb():void 0);return Au(()=>{s==null&&l(pb())},[]),N.useEffect(()=>{fb=!0},[]),s}const M4=C4.useId,v1=M4||D4,A4=N.forwardRef(function(l,r){const{context:{placement:a,elements:{floating:o},middlewareData:{arrow:u,shift:d}},width:m=14,height:x=7,tipRadius:p=0,strokeWidth:v=0,staticOffset:b,stroke:g,d:j,style:{transform:M,...S}={},...y}=l,w=v1(),[D,k]=N.useState(!1);if(Au(()=>{if(!o)return;ln(o).direction==="rtl"&&k(!0)},[o]),!o)return null;const[_,O]=a.split("-"),Y=_==="top"||_==="bottom";let P=b;(Y&&d!=null&&d.x||!Y&&d!=null&&d.y)&&(P=null);const T=v*2,R=T/2,I=m/2*(p/-8+1),q=x/2*p/4,A=!!j,ee=P&&O==="end"?"bottom":"top";let se=P&&O==="end"?"right":"left";P&&D&&(se=O==="end"?"left":"right");const Q=u?.x!=null?P||u.x:"",B=u?.y!=null?P||u.y:"",K=j||"M0,0"+(" H"+m)+(" L"+(m-I)+","+(x-q))+(" Q"+m/2+","+x+" "+I+","+(x-q))+" Z",L={top:A?"rotate(180deg)":"",left:A?"rotate(90deg)":"rotate(-90deg)",bottom:A?"":"rotate(180deg)",right:A?"rotate(-90deg)":"rotate(90deg)"}[_];return t.jsxs("svg",{...y,"aria-hidden":!0,ref:r,width:A?m:m+T,height:m,viewBox:"0 0 "+m+" "+(x>m?x:m),style:{position:"absolute",pointerEvents:"none",[se]:Q,[ee]:B,[_]:Y||A?"100%":"calc(100% - "+T/2+"px)",transform:[L,M].filter(le=>!!le).join(" "),...S},children:[T>0&&t.jsx("path",{clipPath:"url(#"+w+")",fill:"none",stroke:g,strokeWidth:T+(j?0:1),d:K}),t.jsx("path",{stroke:T&&!j?y.fill:"none",d:K}),t.jsx("clipPath",{id:w,children:t.jsx("rect",{x:-R,y:R*(A?-1:1),width:m+T,height:m})})]})});function T4(){const s=new Map;return{emit(l,r){var a;(a=s.get(l))==null||a.forEach(o=>o(r))},on(l,r){s.has(l)||s.set(l,new Set),s.get(l).add(r)},off(l,r){var a;(a=s.get(l))==null||a.delete(r)}}}const E4=N.createContext(null),_4=N.createContext(null),O4=()=>{var s;return((s=N.useContext(E4))==null?void 0:s.id)||null},R4=()=>N.useContext(_4);function I4(s){const{open:l=!1,onOpenChange:r,elements:a}=s,o=v1(),u=N.useRef({}),[d]=N.useState(()=>T4()),m=O4()!=null,[x,p]=N.useState(a.reference),v=$M((j,M,S)=>{u.current.openEvent=j?M:void 0,d.emit("openchange",{open:j,event:M,reason:S,nested:m}),r?.(j,M,S)}),b=N.useMemo(()=>({setPositionReference:p}),[]),g=N.useMemo(()=>({reference:x||a.reference||null,floating:a.floating||null,domReference:a.reference}),[x,a.reference,a.floating]);return N.useMemo(()=>({dataRef:u,open:l,onOpenChange:v,elements:g,events:d,floatingId:o,refs:b}),[l,v,g,d,o,b])}function L4(s){s===void 0&&(s={});const{nodeId:l}=s,r=I4({...s,elements:{reference:null,floating:null,...s.elements}}),a=s.rootContext||r,o=a.elements,[u,d]=N.useState(null),[m,x]=N.useState(null),v=o?.domReference||u,b=N.useRef(null),g=R4();Au(()=>{v&&(b.current=v)},[v]);const j=y4({...s,elements:{...o,...m&&{reference:m}}}),M=N.useCallback(k=>{const _=ha(k)?{getBoundingClientRect:()=>k.getBoundingClientRect(),getClientRects:()=>k.getClientRects(),contextElement:k}:k;x(_),j.refs.setReference(_)},[j.refs]),S=N.useCallback(k=>{(ha(k)||k===null)&&(b.current=k,d(k)),(ha(j.refs.reference.current)||j.refs.reference.current===null||k!==null&&!ha(k))&&j.refs.setReference(k)},[j.refs]),y=N.useMemo(()=>({...j.refs,setReference:S,setPositionReference:M,domReference:b}),[j.refs,S,M]),w=N.useMemo(()=>({...j.elements,domReference:v}),[j.elements,v]),D=N.useMemo(()=>({...j,...a,refs:y,elements:w,nodeId:l}),[j,y,w,l,a]);return Au(()=>{a.dataRef.current.floatingContext=D;const k=g?.nodesRef.current.find(_=>_.id===l);k&&(k.context=D)}),N.useMemo(()=>({...j,context:D,refs:y,elements:w}),[j,y,w,D])}var Vf=function(l,r){return Vf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(a[u]=o[u])},Vf(l,r)};function na(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");Vf(s,l);function r(){this.constructor=s}s.prototype=l===null?Object.create(l):(r.prototype=l.prototype,new r)}var $e=function(){return $e=Object.assign||function(r){for(var a,o=1,u=arguments.length;o<u;o++){a=arguments[o];for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(r[d]=a[d])}return r},$e.apply(this,arguments)};function Rn(s,l,r){if(r||arguments.length===2)for(var a=0,o=l.length,u;a<o;a++)(u||!(a in l))&&(u||(u=Array.prototype.slice.call(l,0,a)),u[a]=l[a]);return s.concat(u||Array.prototype.slice.call(l))}var P4=function(s){var l=s.showTimeSelectOnly,r=l===void 0?!1:l,a=s.showTime,o=a===void 0?!1:a,u=s.className,d=s.children,m=s.inline,x=r?"Choose Time":"Choose Date".concat(o?" and Time":"");return re.createElement("div",{className:u,"aria-label":x,role:m?void 0:"dialog","aria-modal":m?void 0:"true",translate:"no"},d)},z4=function(s,l){var r=N.useRef(null),a=N.useRef(s);N.useEffect(function(){a.current=s},[s]);var o=N.useCallback(function(u){var d,m=u.composed&&u.composedPath&&u.composedPath().find(function(x){return x instanceof Node})||u.target;r.current&&!r.current.contains(m)&&(l&&m instanceof HTMLElement&&m.classList.contains(l)||(d=a.current)===null||d===void 0||d.call(a,u))},[l]);return N.useEffect(function(){return document.addEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}},[o]),r},Qu=function(s){var l=s.children,r=s.onClickOutside,a=s.className,o=s.containerRef,u=s.style,d=s.ignoreClass,m=z4(r,d);return re.createElement("div",{className:a,style:u,ref:function(x){m.current=x,o&&(o.current=x)}},l)},zc=null,xb=!1;function b1(){if(xb)return zc;xb=!0;try{var s="date-fns-tz";zc=require(s)}catch{zc=null}return zc}function hb(s,l){if(!l)return s;var r=b1();return r?r.toZonedTime(s,l):s}function fr(s,l){if(!l)return s;var r=b1();return r?r.fromZonedTime(s,l):s}var je;(function(s){s.ArrowUp="ArrowUp",s.ArrowDown="ArrowDown",s.ArrowLeft="ArrowLeft",s.ArrowRight="ArrowRight",s.PageUp="PageUp",s.PageDown="PageDown",s.Home="Home",s.End="End",s.Enter="Enter",s.Space=" ",s.Tab="Tab",s.Escape="Escape",s.Backspace="Backspace",s.X="x"})(je||(je={}));function g1(){var s=typeof window<"u"?window:globalThis;return s}var vo=12;function at(s){if(s==null)return new Date;var l=typeof s=="string"?aM(s):Ae(s);return Ea(l)?l:new Date}function ks(s,l,r,a,o){o===void 0&&(o=at());for(var u=$l(r)||$l(Cp()),d=Array.isArray(l)?l:[l],m=0,x=d;m<x.length;m++){var p=x[m],v=XD(s,p,o,{locale:u});if(Ea(v)&&(!a||s===St(v,p,r)))return v}if(!a&&s&&s.length>=8){var b=new Date(s);if(Bl(b))return b}return null}function F4(s,l){if(l===void 0&&(l=at()),!s)return null;var r=s.match(/\b(1\d{3}|2\d{3})\b/);if(!r||!r[1])return null;var a=parseInt(r[1],10),o=s.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),u=o&&o[1]?parseInt(o[1],10)-1:l.getMonth();return new Date(a,u,1)}function Ea(s){return Bl(s)}function Rs(s){return s==null?null:Pn(s)&&Bl(s)?s:null}function St(s,l,r){if(r==="en")return tb(s,l,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var a=r?$l(r):void 0;return r&&!a&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),a=a||$l(Cp()),tb(s,l,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Ta(s,l){var r=l.dateFormat,a=l.locale,o=Array.isArray(r)&&r.length>0?r[0]:r;return s&&St(s,o,a)||""}var y1=" - ";function B4(s,l,r){if(!s&&!l)return"";var a=s?Ta(s,r):"",o=l?Ta(l,r):"",u=r.rangeSeparator||y1;return"".concat(a).concat(u).concat(o)}function H4(s,l){if(!s?.length)return"";var r=s[0]?Ta(s[0],l):"";if(s.length===1)return r;if(s.length===2&&s[1]){var a=Ta(s[1],l);return"".concat(r,", ").concat(a)}var o=s.length-1;return"".concat(r," (+").concat(o,")")}function pr(s,l){var r=l.hour,a=r===void 0?0:r,o=l.minute,u=o===void 0?0:o,d=l.second,m=d===void 0?0:d;return ou(cu(uu(s,m),u),a)}function Y4(s){return hp(s)}function q4(s,l){return St(s,"ddd",l)}function eo(s){return Fs(s)}function as(s,l,r){var a=$l(l||Cp());return yr(s,{locale:a,weekStartsOn:r})}function br(s){return Xy(s)}function to(s){return Yu(s)}function vb(s){return Hf(s)}function bb(){return Fs(at())}function gb(s){return Qy(s)}function $4(s){return ak(s)}function U4(s){return Ky(s)}function Tn(s,l){return s&&l?eM(s,l):!s&&!l}function xa(s,l){return s&&l?ZD(s,l):!s&&!l}function Eu(s,l){return s&&l?JD(s,l):!s&&!l}function We(s,l){return s&&l?ek(s,l):!s&&!l}function Is(s,l){return s&&l?tD(s,l):!s&&!l}function Ts(s,l,r){var a,o=Fs(l),u=Qy(r);try{a=oo(s,{start:o,end:u})}catch{a=!1}return a}function Cp(){var s=g1();return s.__localeId__}function $l(s){if(typeof s=="string"){var l=g1();return l.__localeData__?l.__localeData__[s]:void 0}else return s}function V4(s,l,r){return l(St(s,"EEEE",r))}function G4(s,l){return St(s,"EEEEEE",l)}function Q4(s,l){return St(s,"EEE",l)}function kp(s,l){return St(Ya(at(),s),"LLLL",l)}function N1(s,l){return St(Ya(at(),s),"LLL",l)}function K4(s,l){return St(Al(at(),s),"QQQ",l)}function sn(s,l){var r=l===void 0?{}:l,a=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.excludeDateIntervals,m=r.includeDates,x=r.includeDateIntervals,p=r.filterDate,v=r.disabled;return v?!0:bo(s,{minDate:a,maxDate:o})||u&&u.some(function(b){return b instanceof Date?We(s,b):We(s,b.date)})||d&&d.some(function(b){var g=b.start,j=b.end;return oo(s,{start:g,end:j})})||m&&!m.some(function(b){return We(s,b)})||x&&!x.some(function(b){var g=b.start,j=b.end;return oo(s,{start:g,end:j})})||p&&!p(at(s))||!1}function Dp(s,l){var r=l===void 0?{}:l,a=r.excludeDates,o=r.excludeDateIntervals;return o&&o.length>0?o.some(function(u){var d=u.start,m=u.end;return oo(s,{start:d,end:m})}):a&&a.some(function(u){var d;return u instanceof Date?We(s,u):We(s,(d=u.date)!==null&&d!==void 0?d:new Date)})||!1}function j1(s,l){var r=l===void 0?{}:l,a=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate;return bo(s,{minDate:a?Xy(a):void 0,maxDate:o?Ky(o):void 0})||u?.some(function(x){return xa(s,x instanceof Date?x:x.date)})||d&&!d.some(function(x){return xa(s,x)})||m&&!m(at(s))||!1}function Fc(s,l,r,a){var o=Ge(s),u=_a(s),d=Ge(l),m=_a(l),x=Ge(a);return o===d&&o===x?u<=r&&r<=m:o<d?x===o&&u<=r||x===d&&m>=r||x<d&&x>o:!1}function X4(s,l){var r=l===void 0?{}:l,a=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates;return bo(s,{minDate:a,maxDate:o})||u&&u.some(function(m){return xa(m instanceof Date?m:m.date,s)})||d&&!d.some(function(m){return xa(m,s)})||!1}function Bc(s,l){var r=l===void 0?{}:l,a=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate,x=r.disabled;return x?!0:bo(s,{minDate:a,maxDate:o})||u?.some(function(p){return Eu(s,p instanceof Date?p:p.date)})||d&&!d.some(function(p){return Eu(s,p)})||m&&!m(at(s))||!1}function Hc(s,l,r){if(!l||!r||!Bl(l)||!Bl(r))return!1;var a=Ge(l),o=Ge(r);return a<=s&&o>=s}function mu(s,l){var r=l===void 0?{}:l,a=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate,x=r.disabled;if(x)return!0;var p=new Date(s,0,1);return bo(p,{minDate:a?Yu(a):void 0,maxDate:o?Wy(o):void 0})||u?.some(function(v){return Tn(p,v instanceof Date?v:v.date)})||d&&!d.some(function(v){return Tn(p,v)})||m&&!m(at(p))||!1}function Yc(s,l,r,a){var o=Ge(s),u=es(s),d=Ge(l),m=es(l),x=Ge(a);return o===d&&o===x?u<=r&&r<=m:o<d?x===o&&u<=r||x===d&&m>=r||x<d&&x>o:!1}function bo(s,l){var r,a=l===void 0?{}:l,o=a.minDate,u=a.maxDate;return(r=o&&Fl(s,o)<0||u&&Fl(s,u)>0)!==null&&r!==void 0?r:!1}function yb(s,l){return l.some(function(r){return ua(r)===ua(s)&&da(r)===da(s)&&ts(r)===ts(s)})}function Nb(s,l){var r=l===void 0?{}:l,a=r.excludeTimes,o=r.includeTimes,u=r.filterTime;return a&&yb(s,a)||o&&!yb(s,o)||u&&!u(s)||!1}function jb(s,l){var r=l.minTime,a=l.maxTime;if(!r||!a)throw new Error("Both minTime and maxTime props required");var o=at();o=ou(o,ua(s)),o=cu(o,da(s)),o=uu(o,ts(s));var u=at();u=ou(u,ua(r)),u=cu(u,da(r)),u=uu(u,ts(r));var d=at();d=ou(d,ua(a)),d=cu(d,da(a)),d=uu(d,ts(a));var m;try{m=!oo(o,{start:u,end:d})}catch{m=!1}return m}function wb(s,l){var r=l===void 0?{}:l,a=r.minDate,o=r.includeDates,u=Ls(s,1);return a&&ju(a,u)>0||o&&o.every(function(d){return ju(d,u)>0})||!1}function Sb(s,l){var r=l===void 0?{}:l,a=r.maxDate,o=r.includeDates,u=yn(s,1);return a&&ju(u,a)>0||o&&o.every(function(d){return ju(u,d)>0})||!1}function W4(s,l){var r=l===void 0?{}:l,a=r.minDate,o=r.includeDates,u=Yu(s),d=l1(u);return a&&wu(a,d)>0||o&&o.every(function(m){return wu(m,d)>0})||!1}function Z4(s,l){var r=l===void 0?{}:l,a=r.maxDate,o=r.includeDates,u=Wy(s),d=xp(u,1);return a&&wu(d,a)>0||o&&o.every(function(m){return wu(d,m)>0})||!1}function Cb(s,l){var r=l===void 0?{}:l,a=r.minDate,o=r.includeDates,u=ns(s,1);return a&&Su(a,u)>0||o&&o.every(function(d){return Su(d,u)>0})||!1}function J4(s,l){var r=l===void 0?{}:l,a=r.minDate,o=r.yearItemNumber,u=o===void 0?vo:o,d=to(ns(s,u)),m=xr(d,u).endPeriod,x=a&&Ge(a);return x&&x>m||!1}function kb(s,l){var r=l===void 0?{}:l,a=r.maxDate,o=r.includeDates,u=bn(s,1);return a&&Su(u,a)>0||o&&o.every(function(d){return Su(u,d)>0})||!1}function e3(s,l){var r=l===void 0?{}:l,a=r.maxDate,o=r.yearItemNumber,u=o===void 0?vo:o,d=bn(s,u),m=xr(d,u).startPeriod,x=a&&Ge(a);return x&&x<m||!1}function w1(s){var l=s.minDate,r=s.includeDates;if(r&&l){var a=r.filter(function(o){return Fl(o,l)>=0});return K0(a)}else return r?K0(r):l}function S1(s){var l=s.maxDate,r=s.includeDates;if(r&&l){var a=r.filter(function(o){return Fl(o,l)<=0});return Q0(a)}else return r?Q0(r):l}function Db(s,l){var r;s===void 0&&(s=[]),l===void 0&&(l="react-datepicker__day--highlighted");for(var a=new Map,o=0,u=s.length;o<u;o++){var d=s[o];if(Pn(d)){var m=St(d,"MM.dd.yyyy"),x=a.get(m)||[];x.includes(l)||(x.push(l),a.set(m,x))}else if(typeof d=="object"){var p=Object.keys(d),v=(r=p[0])!==null&&r!==void 0?r:"",b=d[v];if(typeof v=="string"&&Array.isArray(b))for(var g=0,j=b.length;g<j;g++){var M=b[g];if(M){var m=St(M,"MM.dd.yyyy"),x=a.get(m)||[];x.includes(v)||(x.push(v),a.set(m,x))}}}}return a}function t3(s,l){return s.length!==l.length?!1:s.every(function(r,a){return r===l[a]})}function a3(s,l){s===void 0&&(s=[]),l===void 0&&(l="react-datepicker__day--holidays");var r=new Map;return s.forEach(function(a){var o=a.date,u=a.holidayName;if(Pn(o)){var d=St(o,"MM.dd.yyyy"),m=r.get(d)||{className:"",holidayNames:[]};if(!("className"in m&&m.className===l&&t3(m.holidayNames,[u]))){m.className=l;var x=m.holidayNames;m.holidayNames=x?Rn(Rn([],x,!0),[u],!1):[u],r.set(d,m)}}}),r}function n3(s,l,r,a,o){for(var u=o.length,d=[],m=0;m<u;m++){var x=s,p=o[m];p&&(x=XC(x,ua(p)),x=io(x,da(p)),x=JC(x,ts(p)));var v=io(s,(r+1)*a);vr(x,l)&&On(x,v)&&p!=null&&d.push(p)}return d}function Cl(s){return s<10?"0".concat(s):"".concat(s)}function xr(s,l){l===void 0&&(l=vo);var r=Math.ceil(Ge(s)/l)*l,a=r-(l-1);return{startPeriod:a,endPeriod:r}}function r3(s){var l=new Date(s.getFullYear(),s.getMonth(),s.getDate()),r=new Date(s.getFullYear(),s.getMonth(),s.getDate(),24);return Math.round((+r-+l)/36e5)}function Mb(s){var l=s.getSeconds(),r=s.getMilliseconds();return Ae(s.getTime()-l*1e3-r)}function C1(s,l){return Mb(s).getTime()===Mb(l).getTime()}function Ab(s){if(!Pn(s))throw new Error("Invalid date");var l=new Date(s);return l.setHours(0,0,0,0),l}function Nf(s,l){if(!Pn(s)||!Pn(l))throw new Error("Invalid date received");var r=Ab(s),a=Ab(l);return On(r,a)}function k1(s){return s.key===je.Space}var jf=(function(s){na(l,s);function l(r){var a=s.call(this,r)||this;return a.inputRef=re.createRef(),a.onTimeChange=function(o){var u,d;a.setState({time:o});var m=a.props.date,x=m instanceof Date&&!isNaN(+m),p=x?m:new Date;if(o?.includes(":")){var v=o.split(":"),b=v[0],g=v[1];p.setHours(Number(b)),p.setMinutes(Number(g))}(d=(u=a.props).onChange)===null||d===void 0||d.call(u,p)},a.renderTimeInput=function(){var o=a.state.time,u=a.props,d=u.date,m=u.timeString,x=u.customTimeInput;return x?N.cloneElement(x,{date:d,value:o,onChange:a.onTimeChange}):re.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:a.inputRef,onClick:function(){var p;(p=a.inputRef.current)===null||p===void 0||p.focus()},required:!0,value:o,onChange:function(p){a.onTimeChange(p.target.value||m)}})},a.state={time:a.props.timeString},a}return l.getDerivedStateFromProps=function(r,a){return r.timeString!==a.time?{time:r.timeString}:null},l.prototype.render=function(){return re.createElement("div",{className:"react-datepicker__input-time-container"},re.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),re.createElement("div",{className:"react-datepicker-time__input-container"},re.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},l})(N.Component),s3=(function(s){na(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.dayEl=N.createRef(),r.handleClick=function(a){!r.isDisabled()&&r.props.onClick&&r.props.onClick(a)},r.handleMouseEnter=function(a){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(a)},r.handleOnKeyDown=function(a){var o,u,d=a.key;d===je.Space&&(a.preventDefault(),a.key=je.Enter),(u=(o=r.props).handleOnKeyDown)===null||u===void 0||u.call(o,a)},r.isSameDay=function(a){return We(r.props.day,a)},r.isKeyboardSelected=function(){var a;if(r.props.disabledKeyboardNavigation)return!1;var o=r.props.selectsMultiple?(a=r.props.selectedDates)===null||a===void 0?void 0:a.some(function(d){return r.isSameDayOrWeek(d)}):r.isSameDayOrWeek(r.props.selected),u=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!o&&r.isSameDayOrWeek(r.props.preSelection)&&!u},r.isDisabled=function(a){return a===void 0&&(a=r.props.day),sn(a,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(){return Dp(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return We(r.props.day,as(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(a){return r.props.showWeekPicker&&We(a,as(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(a){return r.isSameDay(a)||r.isSameWeek(a)},r.getHighLightedClass=function(){var a=r.props,o=a.day,u=a.highlightDates;if(!u)return!1;var d=St(o,"MM.dd.yyyy");return u.get(d)},r.getHolidaysClass=function(){var a,o=r.props,u=o.day,d=o.holidays;if(!d)return[void 0];var m=St(u,"MM.dd.yyyy");return d.has(m)?[(a=d.get(m))===null||a===void 0?void 0:a.className]:[void 0]},r.isInRange=function(){var a=r.props,o=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:Ts(o,u,d)},r.isInSelectingRange=function(){var a,o=r.props,u=o.day,d=o.selectsStart,m=o.selectsEnd,x=o.selectsRange,p=o.selectsDisabledDaysInRange,v=o.startDate,b=o.swapRange,g=o.endDate,j=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;if(r.isAfterMonth()||r.isBeforeMonth()||!(d||m||x)||!j||!p&&r.isDisabled())return!1;if(d&&g&&(On(j,g)||Is(j,g)))return Ts(u,j,g);if(m&&v&&(vr(j,v)||Is(j,v)))return Ts(u,v,j);if(x&&v&&!g){if(Is(j,v)||vr(j,v))return Ts(u,v,j);if(b&&On(j,v))return Ts(u,j,v)}return!1},r.isSelectingRangeStart=function(){var a;if(!r.isInSelectingRange())return!1;var o=r.props,u=o.day,d=o.startDate,m=o.selectsStart,x=o.swapRange,p=o.selectsRange,v=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return m?We(u,v):p&&x&&d&&v?We(u,On(v,d)?v:d):We(u,d)},r.isSelectingRangeEnd=function(){var a;if(!r.isInSelectingRange())return!1;var o=r.props,u=o.day,d=o.endDate,m=o.selectsEnd,x=o.selectsRange,p=o.swapRange,v=o.startDate,b=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return m?We(u,b):x&&p&&v&&b?We(u,On(b,v)?v:b):x?We(u,b):We(u,d)},r.isRangeStart=function(){var a=r.props,o=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:We(u,o)},r.isRangeEnd=function(){var a=r.props,o=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:We(d,o)},r.isWeekend=function(){var a=Wk(r.props.day);return a===0||a===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===_a(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(_a(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(at())},r.isSelected=function(){var a;return r.props.selectsMultiple?(a=r.props.selectedDates)===null||a===void 0?void 0:a.some(function(o){return r.isSameDayOrWeek(o)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(a){var o=r.props.dayClassName?r.props.dayClassName(a):void 0;return Qt("react-datepicker__day",o,"react-datepicker__day--"+q4(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var a=r.props,o=a.day,u=a.ariaLabelPrefixWhenEnabled,d=u===void 0?"Choose":u,m=a.ariaLabelPrefixWhenDisabled,x=m===void 0?"Not available":m,p=r.isDisabled()||r.isExcluded()?x:d;return"".concat(p," ").concat(St(o,"PPPP",r.props.locale))},r.getTitle=function(){var a=r.props,o=a.day,u=a.holidays,d=u===void 0?new Map:u,m=a.excludeDates,x=St(o,"MM.dd.yyyy"),p=[];return d.has(x)&&p.push.apply(p,d.get(x).holidayNames),r.isExcluded()&&p.push(m?.filter(function(v){return v instanceof Date?We(v,o):We(v?.date,o)}).map(function(v){if(!(v instanceof Date))return v?.message})),p.join(", ")},r.getTabIndex=function(){var a=r.props.selected,o=r.props.preSelection,u=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(a)&&We(o,a))?0:-1;return u},r.handleFocusDay=function(){var a;r.shouldFocusDay()&&((a=r.dayEl.current)===null||a===void 0||a.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(ab(r.props.day),r.props.day):ab(r.props.day)},r.render=function(){return re.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&re.createElement("span",{className:"overlay"},r.getTitle()))},r}return l.prototype.componentDidMount=function(){this.handleFocusDay()},l.prototype.componentDidUpdate=function(){this.handleFocusDay()},l.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},l.prototype.isDayActiveElement=function(){var r,a,o;return((a=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||a===void 0?void 0:a.contains(document.activeElement))&&((o=document.activeElement)===null||o===void 0?void 0:o.classList.contains("react-datepicker__day"))},l.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},l})(N.Component),l3=(function(s){na(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.weekNumberEl=N.createRef(),r.handleClick=function(a){r.props.onClick&&r.props.onClick(a)},r.handleOnKeyDown=function(a){var o,u,d=a.key;d===je.Space&&(a.preventDefault(),a.key=je.Enter),(u=(o=r.props).handleOnKeyDown)===null||u===void 0||u.call(o,a)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!We(r.props.date,r.props.selected)&&We(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||We(r.props.date,r.props.selected)&&We(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(a){var o=!1;r.getTabIndex()===0&&!a?.isInputFocused&&We(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(o=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(o=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(o=!0)),o&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},l.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},l.prototype.render=function(){var r=this.props,a=r.weekNumber,o=r.isWeekDisabled,u=r.ariaLabelPrefix,d=u===void 0?l.defaultProps.ariaLabelPrefix:u,m=r.onClick,x={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!m&&!o,"react-datepicker__week-number--selected":!!m&&We(this.props.date,this.props.selected)};return re.createElement("div",{ref:this.weekNumberEl,className:Qt(x),"aria-label":"".concat(d," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},a)},l})(N.Component),i3=(function(s){na(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.isDisabled=function(a){return sn(a,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(a,o){r.props.onDayClick&&r.props.onDayClick(a,o)},r.handleDayMouseEnter=function(a){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(a)},r.handleWeekClick=function(a,o,u){for(var d,m,x,p=new Date(a),v=0;v<7;v++){var b=new Date(a);b.setDate(b.getDate()+v);var g=!r.isDisabled(b);if(g){p=b;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(p,o,u),r.props.showWeekPicker&&r.handleDayClick(p,u),((d=r.props.shouldCloseOnSelect)!==null&&d!==void 0?d:l.defaultProps.shouldCloseOnSelect)&&((x=(m=r.props).setOpen)===null||x===void 0||x.call(m,!1))},r.formatWeekNumber=function(a){return r.props.formatWeekNumber?r.props.formatWeekNumber(a):Y4(a)},r.isWeekDisabled=function(){for(var a=r.startOfWeek(),o=vn(a,6),u=new Date(a);u<=o;){if(!r.isDisabled(u))return!1;u=vn(u,1)}return!0},r.renderDays=function(){var a=r.startOfWeek(),o=[],u=r.formatWeekNumber(a);if(r.props.showWeekNumber){var d=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,a,u):void 0;o.push(re.createElement(l3,$e({key:"W"},l.defaultProps,r.props,{weekNumber:u,isWeekDisabled:r.isWeekDisabled(),date:a,onClick:d})))}return o.concat([0,1,2,3,4,5,6].map(function(m){var x=vn(a,m);return re.createElement(s3,$e({},l.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:x.valueOf(),day:x,onClick:r.handleDayClick.bind(r,x),onMouseEnter:r.handleDayMouseEnter.bind(r,x)}))}))},r.startOfWeek=function(){return as(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!We(r.startOfWeek(),r.props.selected)&&We(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),l.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":We(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},a=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return re.createElement("div",{className:Qt(r,a),role:"row"},this.renderDays())},l})(N.Component),Ki,o3=6,Rl={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},wf=(Ki={},Ki[Rl.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Ki[Rl.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Ki[Rl.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Ki),qc=1;function Tb(s,l){return s?Rl.FOUR_COLUMNS:l?Rl.TWO_COLUMNS:Rl.THREE_COLUMNS}var c3=(function(s){na(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.MONTH_REFS=Rn([],Array(12),!0).map(function(){return N.createRef()}),r.QUARTER_REFS=Rn([],Array(4),!0).map(function(){return N.createRef()}),r.isDisabled=function(a){return sn(a,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(a){return Dp(a,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(a,o){var u,d;(d=(u=r.props).onDayClick)===null||d===void 0||d.call(u,a,o,r.props.orderInDisplay)},r.handleDayMouseEnter=function(a){var o,u;(u=(o=r.props).onDayMouseEnter)===null||u===void 0||u.call(o,a)},r.handleMouseLeave=function(){var a,o;(o=(a=r.props).onMouseLeave)===null||o===void 0||o.call(a)},r.isRangeStartMonth=function(a){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:xa(Ya(u,a),d)},r.isRangeStartQuarter=function(a){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:Eu(Al(u,a),d)},r.isRangeEndMonth=function(a){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:xa(Ya(u,a),m)},r.isRangeEndQuarter=function(a){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:Eu(Al(u,a),m)},r.isInSelectingRangeMonth=function(a){var o,u=r.props,d=u.day,m=u.selectsStart,x=u.selectsEnd,p=u.selectsRange,v=u.startDate,b=u.endDate,g=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return!(m||x||p)||!g?!1:m&&b?Fc(g,b,a,d):x&&v||p&&v&&!b?Fc(v,g,a,d):!1},r.isSelectingMonthRangeStart=function(a){var o;if(!r.isInSelectingRangeMonth(a))return!1;var u=r.props,d=u.day,m=u.startDate,x=u.selectsStart,p=Ya(d,a),v=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return x?xa(p,v):xa(p,m)},r.isSelectingMonthRangeEnd=function(a){var o;if(!r.isInSelectingRangeMonth(a))return!1;var u=r.props,d=u.day,m=u.endDate,x=u.selectsEnd,p=u.selectsRange,v=Ya(d,a),b=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return x||p?xa(v,b):xa(v,m)},r.isInSelectingRangeQuarter=function(a){var o,u=r.props,d=u.day,m=u.selectsStart,x=u.selectsEnd,p=u.selectsRange,v=u.startDate,b=u.endDate,g=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return!(m||x||p)||!g?!1:m&&b?Yc(g,b,a,d):x&&v||p&&v&&!b?Yc(v,g,a,d):!1},r.isWeekInMonth=function(a){var o=r.props.day,u=vn(a,6);return xa(a,o)||xa(u,o)},r.isCurrentMonth=function(a,o){return Ge(a)===Ge(at())&&o===_a(at())},r.isCurrentQuarter=function(a,o){return Ge(a)===Ge(at())&&o===es(at())},r.isSelectedMonth=function(a,o,u){return _a(u)===o&&Ge(a)===Ge(u)},r.isSelectMonthInList=function(a,o,u){return u.some(function(d){return r.isSelectedMonth(a,o,d)})},r.isSelectedQuarter=function(a,o,u){return es(u)===o&&Ge(a)===Ge(u)},r.isSelectQuarterInList=function(a,o,u){return u.some(function(d){return r.isSelectedQuarter(a,o,d)})},r.isMonthSelected=function(){var a=r.props,o=a.day,u=a.selected,d=a.selectedDates,m=a.selectsMultiple,x=_a(o);return m?d?.some(function(p){return r.isSelectedMonth(o,x,p)}):!!u&&r.isSelectedMonth(o,x,u)},r.isQuarterSelected=function(){var a=r.props,o=a.day,u=a.selected,d=a.selectedDates,m=a.selectsMultiple,x=es(o);return m?d?.some(function(p){return r.isSelectedQuarter(o,x,p)}):!!u&&r.isSelectedQuarter(o,x,u)},r.renderWeeks=function(){if(!Ea(r.props.day))return[];for(var a=[],o=r.props.fixedHeight,u=0,d=!1,m=as(br(r.props.day),r.props.locale,r.props.calendarStartDay),x=function(M){return r.props.showWeekPicker?as(M,r.props.locale,r.props.calendarStartDay):r.props.preSelection},p=function(M){return r.props.showWeekPicker?as(M,r.props.locale,r.props.calendarStartDay):r.props.selected},v=r.props.selected?p(r.props.selected):void 0,b=r.props.preSelection?x(r.props.preSelection):void 0;a.push(re.createElement(i3,$e({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:u,day:m,month:_a(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:v,preSelection:b,showWeekNumber:r.props.showWeekNumbers}))),!d;){u++,m=Nu(m,1);var g=o&&u>=o3,j=!o&&!r.isWeekInMonth(m);if(g||j)if(r.props.peekNextMonth)d=!0;else break}return a},r.onMonthClick=function(a,o){var u=r.isMonthDisabledForLabelDate(o),d=u.isDisabled,m=u.labelDate;d||r.handleDayClick(br(m),a)},r.onMonthMouseEnter=function(a){var o=r.isMonthDisabledForLabelDate(a),u=o.isDisabled,d=o.labelDate;u||r.handleDayMouseEnter(br(d))},r.handleMonthNavigation=function(a,o){var u,d,m,x;(d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,o),(x=(m=r.MONTH_REFS[a])===null||m===void 0?void 0:m.current)===null||x===void 0||x.focus()},r.handleKeyboardNavigation=function(a,o,u){var d,m=r.props,x=m.selected,p=m.preSelection,v=m.setPreSelection,b=m.minDate,g=m.maxDate,j=m.showFourColumnMonthYearPicker,M=m.showTwoColumnMonthYearPicker;if(p){var S=Tb(j,M),y=r.getVerticalOffset(S),w=(d=wf[S])===null||d===void 0?void 0:d.grid,D=function(P,T,R){var I,q,A=T,ee=R;switch(P){case je.ArrowRight:A=yn(T,qc),ee=R===11?0:R+qc;break;case je.ArrowLeft:A=Ls(T,qc),ee=R===0?11:R-qc;break;case je.ArrowUp:A=Ls(T,y),ee=!((I=w?.[0])===null||I===void 0)&&I.includes(R)?R+12-y:R-y;break;case je.ArrowDown:A=yn(T,y),ee=!((q=w?.[w.length-1])===null||q===void 0)&&q.includes(R)?R-12+y:R+y;break}return{newCalculatedDate:A,newCalculatedMonth:ee}},k=function(P,T,R){for(var I=40,q=P,A=!1,ee=0,se=D(q,T,R),Q=se.newCalculatedDate,B=se.newCalculatedMonth;!A;){if(ee>=I){Q=T,B=R;break}if(b&&Q<b){q=je.ArrowRight;var K=D(q,Q,B);Q=K.newCalculatedDate,B=K.newCalculatedMonth}if(g&&Q>g){q=je.ArrowLeft;var K=D(q,Q,B);Q=K.newCalculatedDate,B=K.newCalculatedMonth}if(X4(Q,r.props)){var K=D(q,Q,B);Q=K.newCalculatedDate,B=K.newCalculatedMonth}else A=!0;ee++}return{newCalculatedDate:Q,newCalculatedMonth:B}};if(o===je.Enter){r.isMonthDisabled(u)||(r.onMonthClick(a,u),v?.(x));return}var _=k(o,p,u),O=_.newCalculatedDate,Y=_.newCalculatedMonth;switch(o){case je.ArrowRight:case je.ArrowLeft:case je.ArrowUp:case je.ArrowDown:r.handleMonthNavigation(Y,O);break}}},r.getVerticalOffset=function(a){var o,u;return(u=(o=wf[a])===null||o===void 0?void 0:o.verticalNavigationOffset)!==null&&u!==void 0?u:0},r.onMonthKeyDown=function(a,o){var u=r.props,d=u.disabledKeyboardNavigation,m=u.handleOnMonthKeyDown,x=a.key;x!==je.Tab&&a.preventDefault(),d||r.handleKeyboardNavigation(a,x,o),m&&m(a)},r.onQuarterClick=function(a,o){var u=Al(r.props.day,o);Bc(u,r.props)||r.handleDayClick(vb(u),a)},r.onQuarterMouseEnter=function(a){var o=Al(r.props.day,a);Bc(o,r.props)||r.handleDayMouseEnter(vb(o))},r.handleQuarterNavigation=function(a,o){var u,d,m,x;r.isDisabled(o)||r.isExcluded(o)||((d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,o),(x=(m=r.QUARTER_REFS[a-1])===null||m===void 0?void 0:m.current)===null||x===void 0||x.focus())},r.onQuarterKeyDown=function(a,o){var u,d,m=a.key;if(!r.props.disabledKeyboardNavigation)switch(m){case je.Enter:r.onQuarterClick(a,o),(d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,r.props.selected);break;case je.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(o===4?1:o+1,xp(r.props.preSelection,1));break;case je.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(o===1?4:o-1,l1(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(a){var o,u=r.props,d=u.day,m=u.disabled,x=u.minDate,p=u.maxDate,v=u.excludeDates,b=u.includeDates,g=Ya(d,a);return m?{isDisabled:!0,labelDate:Ya(d,a)}:{isDisabled:(o=(x||p||v||b)&&j1(g,r.props))!==null&&o!==void 0?o:!1,labelDate:g}},r.isMonthDisabled=function(a){var o=r.isMonthDisabledForLabelDate(a).isDisabled;return o},r.getMonthClassNames=function(a){var o=r.props,u=o.day,d=o.startDate,m=o.endDate,x=o.preSelection,p=o.monthClassName,v=p?p(Ya(u,a)):void 0,b=r.getSelection();return Qt("react-datepicker__month-text","react-datepicker__month-".concat(a),v,{"react-datepicker__month-text--disabled":r.isMonthDisabled(a),"react-datepicker__month-text--selected":b?r.isSelectMonthInList(u,a,b):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&x&&r.isSelectedMonth(u,a,x)&&!r.isMonthSelected()&&!r.isMonthDisabled(a),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(a),"react-datepicker__month-text--in-range":d&&m?Fc(d,m,a,u):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(a),"react-datepicker__month-text--range-end":r.isRangeEndMonth(a),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(a),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(a),"react-datepicker__month-text--today":r.isCurrentMonth(u,a)})},r.getTabIndex=function(a){if(r.props.preSelection==null)return"-1";var o=_a(r.props.preSelection),u=r.isMonthDisabledForLabelDate(o).isDisabled,d=a===o&&!(u||r.props.disabledKeyboardNavigation)?"0":"-1";return d},r.getQuarterTabIndex=function(a){if(r.props.preSelection==null)return"-1";var o=es(r.props.preSelection),u=Bc(r.props.day,r.props),d=a===o&&!(u||r.props.disabledKeyboardNavigation)?"0":"-1";return d},r.getAriaLabel=function(a){var o=r.props,u=o.chooseDayAriaLabelPrefix,d=u===void 0?"Choose":u,m=o.disabledDayAriaLabelPrefix,x=m===void 0?"Not available":m,p=o.day,v=o.locale,b=Ya(p,a),g=r.isDisabled(b)||r.isExcluded(b)?x:d;return"".concat(g," ").concat(St(b,"MMMM yyyy",v))},r.getQuarterClassNames=function(a){var o=r.props,u=o.day,d=o.startDate,m=o.endDate,x=o.minDate,p=o.maxDate,v=o.excludeDates,b=o.includeDates,g=o.filterDate,j=o.preSelection,M=o.disabledKeyboardNavigation,S=o.disabled,y=(x||p||v||b||g||S)&&Bc(Al(u,a),r.props),w=r.getSelection();return Qt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(a),{"react-datepicker__quarter-text--disabled":y,"react-datepicker__quarter-text--selected":w?r.isSelectQuarterInList(u,a,w):void 0,"react-datepicker__quarter-text--keyboard-selected":!M&&j&&r.isSelectedQuarter(u,a,j)&&!r.isQuarterSelected()&&!y,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(a),"react-datepicker__quarter-text--in-range":d&&m?Yc(d,m,a,u):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(a),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(a),"react-datepicker__quarter-text--today":r.isCurrentQuarter(u,a)})},r.getMonthContent=function(a){var o=r.props,u=o.showFullMonthYearPicker,d=o.renderMonthContent,m=o.locale,x=o.day,p=N1(a,m),v=kp(a,m);return d?d(a,p,v,x):u?v:p},r.getQuarterContent=function(a){var o,u=r.props,d=u.renderQuarterContent,m=u.locale,x=K4(a,m);return(o=d?.(a,x))!==null&&o!==void 0?o:x},r.renderMonths=function(){var a,o=r.props,u=o.showTwoColumnMonthYearPicker,d=o.showFourColumnMonthYearPicker,m=o.day,x=o.selected,p=(a=wf[Tb(d,u)])===null||a===void 0?void 0:a.grid;return p?.map(function(v,b){return re.createElement("div",{className:"react-datepicker__month-wrapper",key:b},v.map(function(g,j){return re.createElement("div",{ref:r.MONTH_REFS[g],key:j,onClick:function(M){r.onMonthClick(M,g)},onKeyDown:function(M){k1(M)&&(M.preventDefault(),M.key=je.Enter),r.onMonthKeyDown(M,g)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(g)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(g)}:void 0,tabIndex:Number(r.getTabIndex(g)),className:r.getMonthClassNames(g),"aria-disabled":r.isMonthDisabled(g),role:"option","aria-label":r.getAriaLabel(g),"aria-current":r.isCurrentMonth(m,g)?"date":void 0,"aria-selected":x?r.isSelectedMonth(m,g,x):void 0},r.getMonthContent(g))}))})},r.renderQuarters=function(){var a=r.props,o=a.day,u=a.selected,d=[1,2,3,4];return re.createElement("div",{className:"react-datepicker__quarter-wrapper"},d.map(function(m,x){return re.createElement("div",{key:x,ref:r.QUARTER_REFS[x],role:"option",onClick:function(p){r.onQuarterClick(p,m)},onKeyDown:function(p){r.onQuarterKeyDown(p,m)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(m)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(m)}:void 0,className:r.getQuarterClassNames(m),"aria-selected":u?r.isSelectedQuarter(o,m,u):void 0,tabIndex:Number(r.getQuarterTabIndex(m)),"aria-current":r.isCurrentQuarter(o,m)?"date":void 0},r.getQuarterContent(m))}))},r.getClassNames=function(){var a=r.props,o=a.selectingDate,u=a.selectsStart,d=a.selectsEnd,m=a.showMonthYearPicker,x=a.showQuarterYearPicker,p=a.showWeekPicker;return Qt("react-datepicker__month",{"react-datepicker__month--selecting-range":o&&(u||d)},{"react-datepicker__monthPicker":m},{"react-datepicker__quarterPicker":x},{"react-datepicker__weekPicker":p})},r}return l.prototype.getSelection=function(){var r=this.props,a=r.selected,o=r.selectedDates,u=r.selectsMultiple;if(u)return o;if(a)return[a]},l.prototype.render=function(){var r=this.props,a=r.showMonthYearPicker,o=r.showQuarterYearPicker,u=r.day,d=r.ariaLabelPrefix,m=d===void 0?"Month ":d,x=m?m.trim()+" ":"",p=Ea(u)?"".concat(x).concat(St(u,"MMMM, yyyy",this.props.locale)):"",v=a||o;return v?re.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"listbox"},a?this.renderMonths():this.renderQuarters()):re.createElement("div",{role:"table"},this.props.dayNamesHeader&&re.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&re.createElement("div",{role:"rowgroup"},this.props.monthHeader),re.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&re.createElement("div",{role:"rowgroup"},this.props.monthFooter))},l})(N.Component),u3=(function(s){na(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(a){return r.props.month===a},r.handleOptionKeyDown=function(a,o){var u;switch(o.key){case"Enter":o.preventDefault(),r.onChange(a);break;case"Escape":o.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{o.preventDefault();var d=(a+(o.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(u=r.monthOptionButtonsRef[d])===null||u===void 0||u.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(a,o){return re.createElement("div",{ref:function(u){r.monthOptionButtonsRef[o]=u,r.isSelectedMonth(o)&&u?.focus()},role:"button",tabIndex:0,className:r.isSelectedMonth(o)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:a,onClick:r.onChange.bind(r,o),onKeyDown:r.handleOptionKeyDown.bind(r,o),"aria-selected":r.isSelectedMonth(o)?"true":void 0},r.isSelectedMonth(o)?re.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",a)})},r.onChange=function(a){return r.props.onChange(a)},r.handleClickOutside=function(){return r.props.onCancel()},r}return l.prototype.render=function(){return re.createElement(Qu,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},l})(N.Component),d3=(function(s){na(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(a){return a.map(function(o,u){return re.createElement("option",{key:o,value:u},o)})},r.renderSelectMode=function(a){return re.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(o){return r.onChange(parseInt(o.target.value))}},r.renderSelectOptions(a))},r.renderReadView=function(a,o){return re.createElement("button",{key:"read",type:"button",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},re.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),re.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},o[r.props.month]))},r.renderDropdown=function(a){return re.createElement(u3,$e({key:"dropdown"},r.props,{monthNames:a,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(a){var o=r.state.dropdownVisible,u=[r.renderReadView(!o,a)];return o&&u.unshift(r.renderDropdown(a)),u},r.onChange=function(a){r.toggleDropdown(),a!==r.props.month&&r.props.onChange(a)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return l.prototype.render=function(){var r=this,a=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(u){return N1(u,r.props.locale)}:function(u){return kp(u,r.props.locale)}),o;switch(this.props.dropdownMode){case"scroll":o=this.renderScrollMode(a);break;case"select":o=this.renderSelectMode(a);break}return re.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},o)},l})(N.Component),Eb=5;function m3(s,l,r){for(var a=[],o=s??ns(r,Eb),u=l??bn(r,Eb),d=br(o),m=br(u);!vr(d,m);)a.push(at(d)),d=yn(d,1);return a}var f3=(function(s){na(l,s);function l(r){var a=s.call(this,r)||this;return a.renderOptions=function(){return a.state.monthYearsList.map(function(o){var u=qf(o),d=Tn(a.props.date,o)&&xa(a.props.date,o);return re.createElement("div",{className:d?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:u,onClick:a.onChange.bind(a,u),"aria-selected":d?"true":void 0},d?re.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",St(o,a.props.dateFormat,a.props.locale))})},a.onChange=function(o){return a.props.onChange(o)},a.handleClickOutside=function(){a.props.onCancel()},a.state={monthYearsList:m3(a.props.minDate,a.props.maxDate,a.props.date)},a}return l.prototype.render=function(){var r=Qt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return re.createElement(Qu,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},l})(N.Component),_b=5,p3=(function(s){na(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var a,o,u=(a=r.props.minDate)!==null&&a!==void 0?a:ns(r.props.date,_b),d=(o=r.props.maxDate)!==null&&o!==void 0?o:bn(r.props.date,_b),m=br(u),x=br(d),p=[];!vr(m,x);){var v=qf(m);p.push(re.createElement("option",{key:v,value:v},St(m,r.props.dateFormat,r.props.locale))),m=yn(m,1)}return p},r.onSelectChange=function(a){r.onChange(parseInt(a.target.value))},r.renderSelectMode=function(){return re.createElement("select",{value:qf(br(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(a){var o=St(r.props.date,r.props.dateFormat,r.props.locale);return re.createElement("div",{key:"read",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},re.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),re.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},o))},r.renderDropdown=function(){return re.createElement(f3,$e({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var a=r.state.dropdownVisible,o=[r.renderReadView(!a)];return a&&o.unshift(r.renderDropdown()),o},r.onChange=function(a){r.toggleDropdown();var o=at(a);Tn(r.props.date,o)&&xa(r.props.date,o)||r.props.onChange(o)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return l.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return re.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},l})(N.Component),x3=(function(s){na(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var a,o,u;r.list&&(r.list.scrollTop=(u=r.centerLi&&l.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((o=(a=r.header)===null||a===void 0?void 0:a.clientHeight)!==null&&o!==void 0?o:0):r.list.clientHeight,r.centerLi))!==null&&u!==void 0?u:0)})},r.handleClick=function(a){var o,u;(r.props.minTime||r.props.maxTime)&&jb(a,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&Nb(a,r.props)||(u=(o=r.props).onChange)===null||u===void 0||u.call(o,a)},r.isSelectedTime=function(a){var o=Rs(r.props.selected);return o&&C1(o,a)},r.isDisabledTime=function(a){return(r.props.minTime||r.props.maxTime)&&jb(a,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&Nb(a,r.props)},r.liClasses=function(a){var o,u=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(a):void 0];return r.isSelectedTime(a)&&u.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(a)&&u.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(ua(a)*3600+da(a)*60+ts(a))%(((o=r.props.intervals)!==null&&o!==void 0?o:l.defaultProps.intervals)*60)!==0&&u.push("react-datepicker__time-list-item--injected"),u.join(" ")},r.handleOnKeyDown=function(a,o){var u,d;a.key===je.Space&&(a.preventDefault(),a.key=je.Enter),(a.key===je.ArrowUp||a.key===je.ArrowLeft)&&a.target instanceof HTMLElement&&a.target.previousSibling&&(a.preventDefault(),a.target.previousSibling instanceof HTMLElement&&a.target.previousSibling.focus()),(a.key===je.ArrowDown||a.key===je.ArrowRight)&&a.target instanceof HTMLElement&&a.target.nextSibling&&(a.preventDefault(),a.target.nextSibling instanceof HTMLElement&&a.target.nextSibling.focus()),a.key===je.Enter&&r.handleClick(o),(d=(u=r.props).handleOnKeyDown)===null||d===void 0||d.call(u,a)},r.renderTimes=function(){for(var a,o=[],u=typeof r.props.format=="string"?r.props.format:"p",d=(a=r.props.intervals)!==null&&a!==void 0?a:l.defaultProps.intervals,m=Rs(r.props.selected)||Rs(r.props.openToDate)||at(),x=eo(m),p=r.props.injectTimes&&r.props.injectTimes.sort(function(y,w){return y.getTime()-w.getTime()}),v=60*r3(m),b=v/d,g=0;g<b;g++){var j=io(x,g*d);if(o.push(j),p){var M=n3(x,j,g,d,p);o=o.concat(M)}}var S=o.reduce(function(y,w){return w.getTime()<=m.getTime()?w:y},o[0]);return o.map(function(y){return re.createElement("li",{key:y.valueOf(),onClick:r.handleClick.bind(r,y),className:r.liClasses(y),ref:function(w){y===S&&(r.centerLi=w)},onKeyDown:function(w){r.handleOnKeyDown(w,y)},tabIndex:y===S?0:-1,role:"option","aria-selected":r.isSelectedTime(y)?"true":void 0,"aria-disabled":r.isDisabledTime(y)?"true":void 0},St(y,u,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?re.createElement(re.Fragment,null):re.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(a){r.header=a}},re.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},l.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},l.prototype.observeDatePickerHeightChanges=function(){var r=this,a=this.props.monthRef;this.updateContainerHeight(),a&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(a))},l.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var r=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==r&&this.setState({height:r})}},l.prototype.render=function(){var r=this,a,o=this.state.height;return re.createElement("div",{className:"react-datepicker__time-container ".concat(((a=this.props.todayButton)!==null&&a!==void 0?a:l.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),re.createElement("div",{className:"react-datepicker__time"},re.createElement("div",{className:"react-datepicker__time-box"},re.createElement("ul",{className:"react-datepicker__time-list",ref:function(u){r.list=u},style:o?{height:o}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},l.calcCenterPosition=function(r,a){return a.offsetTop-(r/2-a.clientHeight/2)},l})(N.Component),Ob=3,h3=(function(s){na(l,s);function l(r){var a=s.call(this,r)||this;return a.YEAR_REFS=Rn([],Array(a.props.yearItemNumber),!0).map(function(){return N.createRef()}),a.isDisabled=function(o){return sn(o,{minDate:a.props.minDate,maxDate:a.props.maxDate,excludeDates:a.props.excludeDates,includeDates:a.props.includeDates,filterDate:a.props.filterDate})},a.isExcluded=function(o){return Dp(o,{excludeDates:a.props.excludeDates})},a.selectingDate=function(){var o;return(o=a.props.selectingDate)!==null&&o!==void 0?o:a.props.preSelection},a.updateFocusOnPaginate=function(o){var u=function(){var d,m;(m=(d=a.YEAR_REFS[o])===null||d===void 0?void 0:d.current)===null||m===void 0||m.focus()};window.requestAnimationFrame(u)},a.handleYearClick=function(o,u){a.props.onDayClick&&a.props.onDayClick(o,u)},a.handleYearNavigation=function(o,u){var d,m,x,p,v=a.props,b=v.date,g=v.yearItemNumber;if(!(b===void 0||g===void 0)){var j=xr(b,g).startPeriod;a.isDisabled(u)||a.isExcluded(u)||((m=(d=a.props).setPreSelection)===null||m===void 0||m.call(d,u),o-j<0?a.updateFocusOnPaginate(g-(j-o)):o-j>=g?a.updateFocusOnPaginate(Math.abs(g-(o-j))):(p=(x=a.YEAR_REFS[o-j])===null||x===void 0?void 0:x.current)===null||p===void 0||p.focus())}},a.isSameDay=function(o,u){return We(o,u)},a.isCurrentYear=function(o){return o===Ge(at())},a.isRangeStart=function(o){return a.props.startDate&&a.props.endDate&&Tn(An(at(),o),a.props.startDate)},a.isRangeEnd=function(o){return a.props.startDate&&a.props.endDate&&Tn(An(at(),o),a.props.endDate)},a.isInRange=function(o){return Hc(o,a.props.startDate,a.props.endDate)},a.isInSelectingRange=function(o){var u=a.props,d=u.selectsStart,m=u.selectsEnd,x=u.selectsRange,p=u.startDate,v=u.endDate;return!(d||m||x)||!a.selectingDate()?!1:d&&v?Hc(o,a.selectingDate(),v):m&&p||x&&p&&!v?Hc(o,p,a.selectingDate()):!1},a.isSelectingRangeStart=function(o){var u;if(!a.isInSelectingRange(o))return!1;var d=a.props,m=d.startDate,x=d.selectsStart,p=An(at(),o);return x?Tn(p,(u=a.selectingDate())!==null&&u!==void 0?u:null):Tn(p,m??null)},a.isSelectingRangeEnd=function(o){var u;if(!a.isInSelectingRange(o))return!1;var d=a.props,m=d.endDate,x=d.selectsEnd,p=d.selectsRange,v=An(at(),o);return x||p?Tn(v,(u=a.selectingDate())!==null&&u!==void 0?u:null):Tn(v,m??null)},a.isKeyboardSelected=function(o){if(!(a.props.disabledKeyboardNavigation||a.props.date===void 0||a.props.preSelection==null)){var u=a.props,d=u.minDate,m=u.maxDate,x=u.excludeDates,p=u.includeDates,v=u.filterDate,b=u.selected,g=to(An(a.props.date,o)),j=(d||m||x||p||v)&&mu(o,a.props),M=!!b&&We(g,to(b)),S=We(g,to(a.props.preSelection));return!a.props.inline&&!M&&S&&!j}},a.isSelectedYear=function(o){var u=a.props,d=u.selectsMultiple,m=u.selected,x=u.selectedDates;return d?x?.some(function(p){return o===Ge(p)}):!!m&&o===Ge(m)},a.onYearClick=function(o,u){var d=a.props.date;d!==void 0&&a.handleYearClick(to(An(d,u)),o)},a.onYearKeyDown=function(o,u){var d,m,x=o.key,p=a.props,v=p.date,b=p.yearItemNumber,g=p.handleOnKeyDown;if(x!==je.Tab&&o.preventDefault(),!a.props.disabledKeyboardNavigation)switch(x){case je.Enter:if(a.props.selected==null)break;a.onYearClick(o,u),(m=(d=a.props).setPreSelection)===null||m===void 0||m.call(d,a.props.selected);break;case je.ArrowRight:if(a.props.preSelection==null)break;a.handleYearNavigation(u+1,bn(a.props.preSelection,1));break;case je.ArrowLeft:if(a.props.preSelection==null)break;a.handleYearNavigation(u-1,ns(a.props.preSelection,1));break;case je.ArrowUp:{if(v===void 0||b===void 0||a.props.preSelection==null)break;var j=xr(v,b).startPeriod,M=Ob,S=u-M;if(S<j){var y=b%M;u>=j&&u<j+y?M=y:M+=y,S=u-M}a.handleYearNavigation(S,ns(a.props.preSelection,M));break}case je.ArrowDown:{if(v===void 0||b===void 0||a.props.preSelection==null)break;var w=xr(v,b).endPeriod,M=Ob,S=u+M;if(S>w){var y=b%M;u<=w&&u>w-y?M=y:M+=y,S=u+M}a.handleYearNavigation(S,bn(a.props.preSelection,M));break}}g&&g(o)},a.getYearClassNames=function(o){var u=a.props,d=u.date,m=u.disabled,x=u.minDate,p=u.maxDate,v=u.excludeDates,b=u.includeDates,g=u.filterDate,j=u.yearClassName;return Qt("react-datepicker__year-text","react-datepicker__year-".concat(o),d?j?.(An(d,o)):void 0,{"react-datepicker__year-text--selected":a.isSelectedYear(o),"react-datepicker__year-text--disabled":(x||p||v||b||g||m)&&mu(o,a.props),"react-datepicker__year-text--keyboard-selected":a.isKeyboardSelected(o),"react-datepicker__year-text--range-start":a.isRangeStart(o),"react-datepicker__year-text--range-end":a.isRangeEnd(o),"react-datepicker__year-text--in-range":a.isInRange(o),"react-datepicker__year-text--in-selecting-range":a.isInSelectingRange(o),"react-datepicker__year-text--selecting-range-start":a.isSelectingRangeStart(o),"react-datepicker__year-text--selecting-range-end":a.isSelectingRangeEnd(o),"react-datepicker__year-text--today":a.isCurrentYear(o)})},a.getYearTabIndex=function(o){if(a.props.disabledKeyboardNavigation||a.props.preSelection==null)return"-1";var u=Ge(a.props.preSelection),d=mu(o,a.props);return o===u&&!d?"0":"-1"},a.getYearContent=function(o){return a.props.renderYearContent?a.props.renderYearContent(o):o},a}return l.prototype.render=function(){var r=this,a=[],o=this.props,u=o.date,d=o.yearItemNumber,m=o.onYearMouseEnter,x=o.onYearMouseLeave;if(u===void 0)return null;for(var p=xr(u,d),v=p.startPeriod,b=p.endPeriod,g=function(S){a.push(re.createElement("div",{ref:j.YEAR_REFS[S-v],onClick:function(y){r.onYearClick(y,S)},onKeyDown:function(y){k1(y)&&(y.preventDefault(),y.key=je.Enter),r.onYearKeyDown(y,S)},tabIndex:Number(j.getYearTabIndex(S)),className:j.getYearClassNames(S),onMouseEnter:j.props.usePointerEvent?void 0:function(y){return m(y,S)},onPointerEnter:j.props.usePointerEvent?function(y){return m(y,S)}:void 0,onMouseLeave:j.props.usePointerEvent?void 0:function(y){return x(y,S)},onPointerLeave:j.props.usePointerEvent?function(y){return x(y,S)}:void 0,key:S,"aria-current":j.isCurrentYear(S)?"date":void 0},j.getYearContent(S)))},j=this,M=v;M<=b;M++)g(M);return re.createElement("div",{className:"react-datepicker__year"},re.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},a))},l})(N.Component);function v3(s,l,r,a){for(var o=[],u=0;u<2*l+1;u++){var d=s+l-u,m=!0;r&&(m=Ge(r)<=d),a&&m&&(m=Ge(a)>=d),m&&o.push(d)}return o}var b3=(function(s){na(l,s);function l(r){var a=s.call(this,r)||this;a.yearOptionButtonsRef={},a.handleOptionKeyDown=function(m,x){var p;switch(x.key){case"Enter":x.preventDefault(),a.onChange(m);break;case"Escape":x.preventDefault(),a.props.onCancel();break;case"ArrowUp":case"ArrowDown":{x.preventDefault();var v=m+(x.key==="ArrowUp"?1:-1);a.yearOptionButtonsRef[v]&&((p=a.yearOptionButtonsRef[v])===null||p===void 0||p.focus());break}}},a.renderOptions=function(){a.yearOptionButtonsRef={};var m=a.props.year,x=a.state.yearsList.map(function(b){return re.createElement("div",{ref:function(g){a.yearOptionButtonsRef[b]=g,b===m&&g?.focus()},role:"button",tabIndex:0,className:m===b?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:b,onClick:a.onChange.bind(a,b),onKeyDown:a.handleOptionKeyDown.bind(a,b),"aria-selected":m===b?"true":void 0},m===b?re.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",b)}),p=a.props.minDate?Ge(a.props.minDate):null,v=a.props.maxDate?Ge(a.props.maxDate):null;return(!v||!a.state.yearsList.find(function(b){return b===v}))&&x.unshift(re.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:a.incrementYears},re.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!p||!a.state.yearsList.find(function(b){return b===p}))&&x.push(re.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:a.decrementYears},re.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),x},a.onChange=function(m){a.props.onChange(m)},a.handleClickOutside=function(){a.props.onCancel()},a.shiftYears=function(m){var x=a.state.yearsList.map(function(p){return p+m});a.setState({yearsList:x})},a.incrementYears=function(){return a.shiftYears(1)},a.decrementYears=function(){return a.shiftYears(-1)};var o=r.yearDropdownItemNumber,u=r.scrollableYearDropdown,d=o||(u?10:5);return a.state={yearsList:v3(a.props.year,d,a.props.minDate,a.props.maxDate)},a.dropdownRef=N.createRef(),a}return l.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var a=r.children?Array.from(r.children):null,o=a?a.find(function(u){return u.ariaSelected}):null;r.scrollTop=o&&o instanceof HTMLElement?o.offsetTop+(o.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},l.prototype.render=function(){var r=Qt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return re.createElement(Qu,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},l})(N.Component),g3=(function(s){na(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var a=r.props.minDate?Ge(r.props.minDate):1900,o=r.props.maxDate?Ge(r.props.maxDate):2100,u=[],d=a;d<=o;d++)u.push(re.createElement("option",{key:d,value:d},d));return u},r.onSelectChange=function(a){r.onChange(parseInt(a.target.value))},r.renderSelectMode=function(){return re.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(a){return re.createElement("button",{key:"read",type:"button",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},re.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),re.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return re.createElement(b3,$e({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var a=r.state.dropdownVisible,o=[r.renderReadView(!a)];return a&&o.unshift(r.renderDropdown()),o},r.onChange=function(a){r.toggleDropdown(),a!==r.props.year&&r.props.onChange(a)},r.toggleDropdown=function(a){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,a)})},r.handleYearChange=function(a,o){var u;(u=r.onSelect)===null||u===void 0||u.call(r,a,o),r.setOpen()},r.onSelect=function(a,o){var u,d;(d=(u=r.props).onSelect)===null||d===void 0||d.call(u,a,o)},r.setOpen=function(){var a,o;(o=(a=r.props).setOpen)===null||o===void 0||o.call(a,!0)},r}return l.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return re.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},l})(N.Component),y3=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],D1="react-datepicker-ignore-onclickoutside",N3=function(s){var l=(s.className||"").split(/\s+/);return y3.some(function(r){return l.indexOf(r)>=0})},j3=(function(s){na(l,s);function l(r){var a=s.call(this,r)||this;return a.monthContainer=void 0,a.handleClickOutside=function(o){a.props.onClickOutside(o)},a.setClickOutsideRef=function(){return a.containerRef.current},a.handleDropdownFocus=function(o){var u,d;N3(o.target)&&((d=(u=a.props).onDropdownFocus)===null||d===void 0||d.call(u,o))},a.getDateInView=function(){var o=a.props,u=o.preSelection,d=o.selected,m=o.openToDate,x=w1(a.props),p=S1(a.props),v=at(),b=m||d||u;return b||(x&&On(v,x)?x:p&&vr(v,p)?p:v)},a.increaseMonth=function(){a.setState(function(o){var u=o.date;return{date:yn(u,1)}},function(){return a.handleMonthChange(a.state.date)})},a.decreaseMonth=function(){a.setState(function(o){var u=o.date;return{date:Ls(u,1)}},function(){return a.handleMonthChange(a.state.date)})},a.handleDayClick=function(o,u,d){a.props.onSelect(o,u,d),a.props.setPreSelection&&a.props.setPreSelection(o)},a.handleDayMouseEnter=function(o){a.setState({selectingDate:o}),a.props.onDayMouseEnter&&a.props.onDayMouseEnter(o)},a.handleMonthMouseLeave=function(){a.setState({selectingDate:void 0}),a.props.onMonthMouseLeave&&a.props.onMonthMouseLeave()},a.handleYearMouseEnter=function(o,u){a.setState({selectingDate:An(at(),u)}),a.props.onYearMouseEnter&&a.props.onYearMouseEnter(o,u)},a.handleYearMouseLeave=function(o,u){a.props.onYearMouseLeave&&a.props.onYearMouseLeave(o,u)},a.handleYearChange=function(o){var u,d,m,x;(d=(u=a.props).onYearChange)===null||d===void 0||d.call(u,o),a.setState({isRenderAriaLiveMessage:!0}),a.props.adjustDateOnChange&&(a.props.onSelect(o),(x=(m=a.props).setOpen)===null||x===void 0||x.call(m,!0)),a.props.setPreSelection&&a.props.setPreSelection(o)},a.getEnabledPreSelectionDateForMonth=function(o){if(!sn(o,a.props))return o;for(var u=br(o),d=U4(o),m=tk(d,u),x=null,p=0;p<=m;p++){var v=vn(u,p);if(!sn(v,a.props)){x=v;break}}return x},a.handleMonthChange=function(o){var u,d,m,x=(u=a.getEnabledPreSelectionDateForMonth(o))!==null&&u!==void 0?u:o;a.handleCustomMonthChange(x),a.props.adjustDateOnChange&&(a.props.onSelect(x),(m=(d=a.props).setOpen)===null||m===void 0||m.call(d,!0)),a.props.setPreSelection&&a.props.setPreSelection(x)},a.handleCustomMonthChange=function(o){var u,d;(d=(u=a.props).onMonthChange)===null||d===void 0||d.call(u,o),a.setState({isRenderAriaLiveMessage:!0})},a.handleMonthYearChange=function(o){a.handleYearChange(o),a.handleMonthChange(o)},a.changeYear=function(o){a.setState(function(u){var d=u.date;return{date:An(d,Number(o))}},function(){return a.handleYearChange(a.state.date)})},a.changeMonth=function(o){a.setState(function(u){var d=u.date;return{date:Ya(d,Number(o))}},function(){var u,d;a.handleMonthChange(a.state.date),(d=(u=a.props).onMonthSelectedInChange)===null||d===void 0||d.call(u,0)})},a.changeMonthYear=function(o){a.setState(function(u){var d=u.date;return{date:An(Ya(d,_a(o)),Ge(o))}},function(){return a.handleMonthYearChange(a.state.date)})},a.header=function(o,u){if(o===void 0&&(o=a.state.date),u===void 0&&(u=0),!Ea(o))return[];var d=a.props.disabled,m=as(o,a.props.locale,a.props.calendarStartDay),x=[];return a.props.showWeekNumbers&&x.push(re.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(d?"react-datepicker__day-name--disabled":""),role:"columnheader"},re.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),re.createElement("span",{"aria-hidden":"true"},a.props.weekLabel||"#"))),x.concat([0,1,2,3,4,5,6].map(function(p){var v=vn(m,p),b=a.formatWeekday(v,a.props.locale),g=St(v,"EEEE",a.props.locale),j=a.props.weekDayClassName?a.props.weekDayClassName(v):void 0;if(a.props.renderCustomDayName){var M=a.props.renderCustomDayName({day:v,shortName:b,fullName:g,locale:a.props.locale,customDayNameCount:u});return re.createElement("div",{key:p,role:"columnheader",className:Qt("react-datepicker__day-name",j,d?"react-datepicker__day-name--disabled":"")},M)}return re.createElement("div",{key:p,role:"columnheader",className:Qt("react-datepicker__day-name",j,d?"react-datepicker__day-name--disabled":"")},re.createElement("span",{className:"react-datepicker__sr-only"},g),re.createElement("span",{"aria-hidden":"true"},b))}))},a.formatWeekday=function(o,u){return a.props.formatWeekDay?V4(o,a.props.formatWeekDay,u):a.props.useWeekdaysShort?Q4(o,u):G4(o,u)},a.decreaseYear=function(){a.setState(function(o){var u,d=o.date;return{date:ns(d,a.props.showYearPicker?(u=a.props.yearItemNumber)!==null&&u!==void 0?u:l.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.clearSelectingDate=function(){a.setState({selectingDate:void 0})},a.renderPreviousButton=function(){var o,u,d;if(!a.props.renderCustomHeader){var m=(o=a.props.monthsShown)!==null&&o!==void 0?o:l.defaultProps.monthsShown,x=a.props.showPreviousMonths?m-1:0,p=(u=a.props.monthSelectedIn)!==null&&u!==void 0?u:x,v=Ls(a.state.date,p),b;switch(!0){case a.props.disabled:b=!0;break;case a.props.showMonthYearPicker:b=Cb(a.state.date,a.props);break;case a.props.showYearPicker:b=J4(a.state.date,a.props);break;case a.props.showQuarterYearPicker:b=W4(a.state.date,a.props);break;default:b=wb(v,a.props);break}if(!(!((d=a.props.forceShowMonthNavigation)!==null&&d!==void 0?d:l.defaultProps.forceShowMonthNavigation)&&!a.props.showDisabledMonthNavigation&&b||a.props.showTimeSelectOnly)){var g=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],j=["react-datepicker__navigation","react-datepicker__navigation--previous"],M=a.decreaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(M=a.decreaseYear),b&&a.props.showDisabledMonthNavigation&&(j.push("react-datepicker__navigation--previous--disabled"),M=void 0);var S=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,y=a.props,w=y.previousMonthButtonLabel,D=w===void 0?l.defaultProps.previousMonthButtonLabel:w,k=y.previousYearButtonLabel,_=k===void 0?l.defaultProps.previousYearButtonLabel:k,O=a.props,Y=O.previousMonthAriaLabel,P=Y===void 0?typeof D=="string"?D:"Previous Month":Y,T=O.previousYearAriaLabel,R=T===void 0?typeof _=="string"?_:"Previous Year":T;return re.createElement("button",{type:"button",className:j.join(" "),onClick:M,onKeyDown:a.props.handleOnKeyDown,"aria-label":S?R:P},re.createElement("span",{className:g.join(" ")},S?_:D))}}},a.increaseYear=function(){a.setState(function(o){var u,d=o.date;return{date:bn(d,a.props.showYearPicker?(u=a.props.yearItemNumber)!==null&&u!==void 0?u:l.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.renderNextButton=function(){var o;if(!a.props.renderCustomHeader){var u;switch(!0){case a.props.disabled:u=!0;break;case a.props.showMonthYearPicker:u=kb(a.state.date,a.props);break;case a.props.showYearPicker:u=e3(a.state.date,a.props);break;case a.props.showQuarterYearPicker:u=Z4(a.state.date,a.props);break;default:u=Sb(a.state.date,a.props);break}if(!(!((o=a.props.forceShowMonthNavigation)!==null&&o!==void 0?o:l.defaultProps.forceShowMonthNavigation)&&!a.props.showDisabledMonthNavigation&&u||a.props.showTimeSelectOnly)){var d=["react-datepicker__navigation","react-datepicker__navigation--next"],m=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];a.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),a.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var x=a.increaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(x=a.increaseYear),u&&a.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),x=void 0);var p=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,v=a.props,b=v.nextMonthButtonLabel,g=b===void 0?l.defaultProps.nextMonthButtonLabel:b,j=v.nextYearButtonLabel,M=j===void 0?l.defaultProps.nextYearButtonLabel:j,S=a.props,y=S.nextMonthAriaLabel,w=y===void 0?typeof g=="string"?g:"Next Month":y,D=S.nextYearAriaLabel,k=D===void 0?typeof M=="string"?M:"Next Year":D;return re.createElement("button",{type:"button",className:d.join(" "),onClick:x,onKeyDown:a.props.handleOnKeyDown,"aria-label":p?k:w},re.createElement("span",{className:m.join(" ")},p?M:g))}}},a.renderCurrentMonth=function(o){o===void 0&&(o=a.state.date);var u=["react-datepicker__current-month"];return a.props.showYearDropdown&&u.push("react-datepicker__current-month--hasYearDropdown"),a.props.showMonthDropdown&&u.push("react-datepicker__current-month--hasMonthDropdown"),a.props.showMonthYearDropdown&&u.push("react-datepicker__current-month--hasMonthYearDropdown"),re.createElement("h2",{className:u.join(" ")},Ea(o)?St(o,a.props.dateFormat,a.props.locale):"")},a.renderYearDropdown=function(o){if(o===void 0&&(o=!1),!(!a.props.showYearDropdown||o))return re.createElement(g3,$e({},l.defaultProps,a.props,{date:a.state.date,onChange:a.changeYear,year:Ge(a.state.date)}))},a.renderMonthDropdown=function(o){if(o===void 0&&(o=!1),!(!a.props.showMonthDropdown||o))return re.createElement(d3,$e({},l.defaultProps,a.props,{month:_a(a.state.date),onChange:a.changeMonth}))},a.renderMonthYearDropdown=function(o){if(o===void 0&&(o=!1),!(!a.props.showMonthYearDropdown||o))return re.createElement(p3,$e({},l.defaultProps,a.props,{date:a.state.date,onChange:a.changeMonthYear}))},a.handleTodayButtonClick=function(o){a.props.onSelect(bb(),o),a.props.setPreSelection&&a.props.setPreSelection(bb())},a.renderTodayButton=function(){if(!(!a.props.todayButton||a.props.showTimeSelectOnly))return re.createElement("div",{className:"react-datepicker__today-button",onClick:a.handleTodayButtonClick},a.props.todayButton)},a.renderDayNamesHeader=function(o,u){return u===void 0&&(u=0),re.createElement("div",{className:"react-datepicker__day-names",role:"row"},a.header(o,u))},a.renderDefaultHeader=function(o){var u=o.monthDate,d=o.i,m=re.createElement("div",{className:Qt("react-datepicker__header",{"react-datepicker__header--has-time-select":a.props.showTimeSelect,"react-datepicker__header--middle":a.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":a.props.monthHeaderPosition==="bottom"})},a.renderCurrentMonth(u),re.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(a.props.dropdownMode),onFocus:a.handleDropdownFocus},a.renderMonthDropdown(d!==0),a.renderMonthYearDropdown(d!==0),a.renderYearDropdown(d!==0)));return a.props.monthHeaderPosition==="top"?m:re.createElement("div",{className:"react-datepicker__header-wrapper"},a.renderPreviousButton()||null,a.renderNextButton()||null,m)},a.renderCustomHeader=function(o){var u,d,m=o.monthDate,x=o.i;if(a.props.showTimeSelect&&!a.state.monthContainer||a.props.showTimeSelectOnly)return null;var p=a.props,v=p.showYearPicker,b=p.yearItemNumber,g;if(v){var j=xr(m,b),M=j.startPeriod,S=j.endPeriod;g={startYear:M,endYear:S}}var y=wb(a.state.date,a.props),w=Sb(a.state.date,a.props),D=Cb(a.state.date,a.props),k=kb(a.state.date,a.props);return re.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:a.props.onDropdownFocus},(d=(u=a.props).renderCustomHeader)===null||d===void 0?void 0:d.call(u,$e($e($e({},a.state),v&&{visibleYearsRange:g}),{customHeaderCount:x,monthDate:m,changeMonth:a.changeMonth,changeYear:a.changeYear,decreaseMonth:a.decreaseMonth,increaseMonth:a.increaseMonth,decreaseYear:a.decreaseYear,increaseYear:a.increaseYear,prevMonthButtonDisabled:y,nextMonthButtonDisabled:w,prevYearButtonDisabled:D,nextYearButtonDisabled:k})))},a.renderYearHeader=function(o){var u=o.monthDate,d=a.props,m=d.showYearPicker,x=d.yearItemNumber,p=x===void 0?l.defaultProps.yearItemNumber:x,v=xr(u,p),b=v.startPeriod,g=v.endPeriod;return re.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},m?"".concat(b," - ").concat(g):Ge(u))},a.renderHeader=function(o){var u=o.monthDate,d=o.i,m=d===void 0?0:d,x={monthDate:u,i:m};switch(!0){case a.props.renderCustomHeader!==void 0:return a.renderCustomHeader(x);case(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker):return a.renderYearHeader(x);default:return a.renderDefaultHeader(x)}},a.renderMonths=function(){var o,u;if(!(a.props.showTimeSelectOnly||a.props.showYearPicker)){for(var d=[],m=(o=a.props.monthsShown)!==null&&o!==void 0?o:l.defaultProps.monthsShown,x=a.props.showPreviousMonths?m-1:0,p=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?bn(a.state.date,x):Ls(a.state.date,x),v=(u=a.props.monthSelectedIn)!==null&&u!==void 0?u:x,b=0;b<m;++b){var g=b-v+x,j=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?bn(p,g):yn(p,g),M="month-".concat(b),S=b<m-1,y=b>0;d.push(re.createElement("div",{key:M,ref:function(w){a.monthContainer=w??void 0},className:"react-datepicker__month-container"},a.props.monthHeaderPosition==="top"&&a.renderHeader({monthDate:j,i:b}),re.createElement(c3,$e({},l.defaultProps,a.props,{containerRef:a.containerRef,ariaLabelPrefix:a.props.monthAriaLabelPrefix,day:j,onDayClick:a.handleDayClick,handleOnKeyDown:a.props.handleOnDayKeyDown,handleOnMonthKeyDown:a.props.handleOnKeyDown,onDayMouseEnter:a.handleDayMouseEnter,onMouseLeave:a.handleMonthMouseLeave,orderInDisplay:b,selectingDate:a.state.selectingDate,monthShowsDuplicateDaysEnd:S,monthShowsDuplicateDaysStart:y,dayNamesHeader:a.renderDayNamesHeader(j,b),monthHeader:a.props.monthHeaderPosition==="middle"?a.renderHeader({monthDate:j,i:b}):void 0,monthFooter:a.props.monthHeaderPosition==="bottom"?a.renderHeader({monthDate:j,i:b}):void 0}))))}return d}},a.renderYears=function(){if(!a.props.showTimeSelectOnly&&a.props.showYearPicker)return re.createElement("div",{className:"react-datepicker__year--container"},a.renderHeader({monthDate:a.state.date}),re.createElement(h3,$e({},l.defaultProps,a.props,{selectingDate:a.state.selectingDate,date:a.state.date,onDayClick:a.handleDayClick,clearSelectingDate:a.clearSelectingDate,onYearMouseEnter:a.handleYearMouseEnter,onYearMouseLeave:a.handleYearMouseLeave})))},a.renderTimeSection=function(){if(a.props.showTimeSelect&&(a.state.monthContainer||a.props.showTimeSelectOnly))return re.createElement(x3,$e({},l.defaultProps,a.props,{onChange:a.props.onTimeChange,format:a.props.timeFormat,intervals:a.props.timeIntervals,monthRef:a.state.monthContainer}))},a.renderInputTimeSection=function(){var o,u;if(a.props.showTimeInput){if(a.props.selectsRange){var d=a.props,m=d.startDate,x=d.endDate,p=m?new Date(m):void 0,v=p&&Ea(p)&&!!m,b=v?"".concat(Cl(p.getHours()),":").concat(Cl(p.getMinutes())):"",g=x?new Date(x):void 0,j=g&&Ea(g)&&!!x,M=j?"".concat(Cl(g.getHours()),":").concat(Cl(g.getMinutes())):"";return re.createElement(re.Fragment,null,re.createElement(jf,$e({},l.defaultProps,a.props,{date:p,timeString:b,onChange:function(D){var k,_;(_=(k=a.props).onTimeChange)===null||_===void 0||_.call(k,D,"start")},timeInputLabel:((o=a.props.timeInputLabel)!==null&&o!==void 0?o:"Time")+" (Start)"})),re.createElement(jf,$e({},l.defaultProps,a.props,{date:g,timeString:M,onChange:function(D){var k,_;(_=(k=a.props).onTimeChange)===null||_===void 0||_.call(k,D,"end")},timeInputLabel:((u=a.props.timeInputLabel)!==null&&u!==void 0?u:"Time")+" (End)"})))}var S=a.props.selected?new Date(a.props.selected):void 0,y=S&&Ea(S)&&!!a.props.selected,w=y?"".concat(Cl(S.getHours()),":").concat(Cl(S.getMinutes())):"";return re.createElement(jf,$e({},l.defaultProps,a.props,{date:S,timeString:w,onChange:function(D){var k,_;(_=(k=a.props).onTimeChange)===null||_===void 0||_.call(k,D)}}))}},a.renderAriaLiveRegion=function(){var o;if(!Ea(a.state.date))return re.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var u=xr(a.state.date,(o=a.props.yearItemNumber)!==null&&o!==void 0?o:l.defaultProps.yearItemNumber),d=u.startPeriod,m=u.endPeriod,x;return a.props.showYearPicker?x="".concat(d," - ").concat(m):a.props.showMonthYearPicker||a.props.showQuarterYearPicker?x=Ge(a.state.date):x="".concat(kp(_a(a.state.date),a.props.locale)," ").concat(Ge(a.state.date)),re.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},a.state.isRenderAriaLiveMessage&&x)},a.renderChildren=function(){if(a.props.children)return re.createElement("div",{className:"react-datepicker__children-container"},a.props.children)},a.containerRef=N.createRef(),a.state={date:a.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},a}return Object.defineProperty(l,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:D1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:vo,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())},l.prototype.componentDidUpdate=function(r){var a=this;if(this.props.preSelection&&Ea(this.props.preSelection)&&(!We(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var o=!xa(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return o&&a.handleCustomMonthChange(a.state.date)})}else this.props.openToDate&&!We(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},l.prototype.render=function(){var r=this.props.container||P4;return re.createElement(Qu,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},re.createElement("div",{style:{display:"contents"},ref:this.containerRef},re.createElement(r,{className:Qt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},l})(N.Component),w3=function(s){var l=s.icon,r=s.className,a=r===void 0?"":r,o=s.onClick,u="react-datepicker__calendar-icon";if(typeof l=="string")return re.createElement("i",{className:"".concat(u," ").concat(l," ").concat(a),"aria-hidden":"true",onClick:o});if(re.isValidElement(l)){var d=l;return re.cloneElement(d,{className:"".concat(d.props.className||""," ").concat(u," ").concat(a),onClick:function(m){typeof d.props.onClick=="function"&&d.props.onClick(m),typeof o=="function"&&o(m)}})}return re.createElement("svg",{className:"".concat(u," ").concat(a),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:o},re.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},M1=(function(s){na(l,s);function l(r){var a=s.call(this,r)||this;return a.portalRoot=null,a.el=document.createElement("div"),a}return l.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},l.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},l.prototype.render=function(){return P2.createPortal(this.props.children,this.el)},l})(N.Component),S3="[tabindex], a, button, input, select, textarea",C3=function(s){return(s instanceof HTMLAnchorElement||!s.disabled)&&s.tabIndex!==-1},A1=(function(s){na(l,s);function l(r){var a=s.call(this,r)||this;return a.getTabChildren=function(){var o;return Array.prototype.slice.call((o=a.tabLoopRef.current)===null||o===void 0?void 0:o.querySelectorAll(S3),1,-1).filter(C3)},a.handleFocusStart=function(){var o=a.getTabChildren();o&&o.length>1&&o[o.length-1].focus()},a.handleFocusEnd=function(){var o=a.getTabChildren();o&&o.length>1&&o[0].focus()},a.tabLoopRef=N.createRef(),a}return l.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:l.defaultProps.enableTabLoop)?re.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},re.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,re.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},l.defaultProps={enableTabLoop:!0},l})(N.Component);function k3(s){function l(r){var a,o=typeof r.hidePopper=="boolean"?r.hidePopper:!0,u=N.useRef(null),d=L4($e({open:!o,whileElementsMounted:p4,placement:r.popperPlacement,middleware:Rn([w4({padding:15}),j4(10),S4({element:u})],(a=r.popperModifiers)!==null&&a!==void 0?a:[],!0)},r.popperProps)),m=$e($e({},r),{hidePopper:o,popperProps:$e($e({},d),{arrowRef:u})});return re.createElement(s,$e({},m))}return l.displayName="withFloating(".concat(s.displayName||s.name||"Component",")"),l}var D3=function(s){var l=s.className,r=s.wrapperClassName,a=s.hidePopper,o=a===void 0?!0:a,u=s.popperComponent,d=s.targetComponent,m=s.enableTabLoop,x=s.popperOnKeyDown,p=s.portalId,v=s.portalHost,b=s.popperProps,g=s.showArrow,j=s.popperTargetRef,M=s.monthHeaderPosition;N.useEffect(function(){j?.current&&b.refs.setPositionReference(j.current)},[j,b.refs]);var S=void 0;if(!o){var y=Qt("react-datepicker-popper",!g&&"react-datepicker-popper-offset",M==="middle"&&"react-datepicker-popper--header-middle",M==="bottom"&&"react-datepicker-popper--header-bottom",l);S=re.createElement(A1,{enableTabLoop:m},re.createElement("div",{ref:b.refs.setFloating,style:b.floatingStyles,className:y,"data-placement":b.placement,onKeyDown:x},u,g&&re.createElement(A4,{ref:b.arrowRef,context:b.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}s.popperContainer&&(S=N.createElement(s.popperContainer,{},S)),p&&!o&&(S=re.createElement(M1,{portalId:p,portalHost:v},S));var w=Qt("react-datepicker-wrapper",r);return re.createElement(re.Fragment,null,re.createElement("div",{ref:b.refs.setReference,className:w},d),S)},M3=k3(D3);function Rb(s,l){return s&&l?_a(s)!==_a(l)||Ge(s)!==Ge(l):s!==l}var Sf="Date input not valid.",A3=(function(s){na(l,s);function l(r){var a=s.call(this,r)||this;return a.calendar=null,a.input=null,a.getPreSelection=function(){var o=a.props.timeZone,u=a.props.openToDate?a.props.openToDate:a.props.selectsEnd&&a.props.startDate?a.props.startDate:a.props.selectsStart&&a.props.endDate?a.props.endDate:at();return o?hb(u,o):u},a.modifyHolidays=function(){var o;return(o=a.props.holidays)===null||o===void 0?void 0:o.reduce(function(u,d){var m=ks(d.date,"yyyy-MM-dd",void 0,!1);return m?Rn(Rn([],u,!0),[$e($e({},d),{date:m})],!1):u},[])},a.calcInitialState=function(){var o=a.props.timeZone,u=a.getPreSelection(),d=w1(a.props),m=S1(a.props),x=d&&On(u,eo(d))?d:m&&vr(u,gb(m))?m:u,p=a.props.selectsRange?a.props.startDate:a.props.selected;return p&&o&&(p=hb(p,o)),{open:a.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:p??x,highlightDates:Db(a.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},a.getInputValue=function(){var o,u=a.props,d=u.locale,m=u.startDate,x=u.endDate,p=u.rangeSeparator,v=u.selected,b=u.selectedDates,g=u.selectsMultiple,j=u.selectsRange,M=u.formatMultipleDates,S=u.value,y=(o=a.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,w=a.state.inputValue;if(typeof S=="string")return S;if(typeof w=="string")return w;if(j)return B4(m,x,{dateFormat:y,locale:d,rangeSeparator:p});if(g){if(M){var D=function(k){return Ta(k,{dateFormat:y,locale:d})};return M(b??[],D)}return H4(b??[],{dateFormat:y,locale:d})}return Ta(v,{dateFormat:y,locale:d})},a.resetHiddenStatus=function(){a.setState($e($e({},a.state),{wasHidden:!1}))},a.setHiddenStatus=function(){a.setState($e($e({},a.state),{wasHidden:!0}))},a.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&a.setHiddenStatus()},a.clearPreventFocusTimeout=function(){a.preventFocusTimeout&&clearTimeout(a.preventFocusTimeout)},a.setFocus=function(){var o,u;(u=(o=a.input)===null||o===void 0?void 0:o.focus)===null||u===void 0||u.call(o,{preventScroll:!0})},a.setBlur=function(){var o,u;(u=(o=a.input)===null||o===void 0?void 0:o.blur)===null||u===void 0||u.call(o),a.cancelFocusInput()},a.deferBlur=function(){requestAnimationFrame(function(){a.setBlur()})},a.setOpen=function(o,u){u===void 0&&(u=!1),a.setState({open:o,preSelection:o&&a.state.open?a.state.preSelection:a.calcInitialState().preSelection,lastPreSelectChange:Cf},function(){o||a.setState(function(d){return{focused:u?d.focused:!1}},function(){!u&&a.deferBlur(),a.setState({inputValue:null})})})},a.inputOk=function(){return Pn(a.state.preSelection)},a.isCalendarOpen=function(){return a.props.open===void 0?a.state.open&&!a.props.disabled&&!a.props.readOnly:a.props.open},a.handleFocus=function(o){var u,d,m=a.state.wasHidden,x=m?a.state.open:!0;m&&a.resetHiddenStatus(),a.state.preventFocus||((d=(u=a.props).onFocus)===null||d===void 0||d.call(u,o),x&&!a.props.preventOpenOnFocus&&!a.props.readOnly&&a.setOpen(!0)),a.setState({focused:!0})},a.sendFocusBackToInput=function(){a.preventFocusTimeout&&a.clearPreventFocusTimeout(),a.setState({preventFocus:!0},function(){a.preventFocusTimeout=setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})})},a.cancelFocusInput=function(){clearTimeout(a.inputFocusTimeout),a.inputFocusTimeout=void 0},a.deferFocusInput=function(){a.cancelFocusInput(),a.inputFocusTimeout=setTimeout(function(){return a.setFocus()},1)},a.handleDropdownFocus=function(){a.cancelFocusInput()},a.resetInputValue=function(){a.setState($e($e({},a.state),{inputValue:null}))},a.handleBlur=function(o){var u,d;(!a.state.open||a.props.withPortal||a.props.showTimeInput)&&((d=(u=a.props).onBlur)===null||d===void 0||d.call(u,o));var m=a.state.inputValue;if(typeof m=="string"&&m.length>0){var x=/[a-zA-Z0-9]/.test(m);!x&&a.props.selected&&a.setSelected(null,void 0,!0)}a.resetInputValue(),a.state.open&&a.props.open===!1&&a.setOpen(!1),a.setState({focused:!1})},a.handleCalendarClickOutside=function(o){var u,d;(d=(u=a.props).onClickOutside)===null||d===void 0||d.call(u,o),!a.props.inline&&!o.defaultPrevented&&a.setOpen(!1),a.props.withPortal&&o.preventDefault()},a.handleChange=function(){for(var o,u,d,m,x,p,v,b,g=[],j=0;j<arguments.length;j++)g[j]=arguments[j];var M=g[0];if(!(a.props.onChangeRaw&&(a.props.onChangeRaw.apply(a,g),!M||typeof M.isDefaultPrevented!="function"||M.isDefaultPrevented()))){a.setState({inputValue:M?.target instanceof HTMLInputElement?M.target.value:null,lastPreSelectChange:T3});var S=a.props,y=S.selectsRange,w=S.startDate,D=S.endDate,k=(o=a.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,_=(u=a.props.strictParsing)!==null&&u!==void 0?u:l.defaultProps.strictParsing,O=M?.target instanceof HTMLInputElement?M.target.value:"";if(y){var Y=a.props.rangeSeparator,P=Y.trim(),T=O.split(k.includes(P)?Y:P,2).map(function(K){return K.trim()}),R=T[0],I=T[1],q=ks(R??"",k,a.props.locale,_),A=q?ks(I??"",k,a.props.locale,_):null,ee=((d=Rs(w))===null||d===void 0?void 0:d.getTime())!==q?.getTime(),se=((m=Rs(D))===null||m===void 0?void 0:m.getTime())!==A?.getTime();if(!ee&&!se||q&&sn(q,a.props)||A&&sn(A,a.props))return;q&&a.setState({preSelection:q}),(p=(x=a.props).onChange)===null||p===void 0||p.call(x,[q,A],M)}else{var Q=ks(O,k,a.props.locale,_,(v=a.props.selected)!==null&&v!==void 0?v:void 0);if(Q||!O)a.setSelected(Q,M,!0);else if(!a.props.inline){var B=F4(O,(b=a.state.preSelection)!==null&&b!==void 0?b:void 0);B&&(!a.props.minDate||!On(B,a.props.minDate))&&(!a.props.maxDate||!vr(B,a.props.maxDate))&&a.setState({preSelection:B})}}}},a.handleSelect=function(o,u,d){var m;if(!a.props.readOnly){var x=a.props,p=x.selectsRange,v=x.startDate,b=x.endDate,g=x.locale,j=x.swapRange,M=(m=a.props.dateFormat)!==null&&m!==void 0?m:l.defaultProps.dateFormat,S=!p||v&&!b&&(j||!Nf(o,v));if(a.props.shouldCloseOnSelect&&!a.props.showTimeSelect&&S&&a.sendFocusBackToInput(),a.props.onChangeRaw){var y=Ta(o,{dateFormat:M,locale:g});a.props.onChangeRaw(u,{date:o,formattedDate:y})}a.setSelected(o,u,!1,d),a.props.showDateSelect&&a.setState({isRenderAriaLiveMessage:!0}),!a.props.shouldCloseOnSelect||a.props.showTimeSelect?a.setPreSelection(o):S&&a.setOpen(!1)}},a.setSelected=function(o,u,d,m){var x,p,v=a.props.timeZone,b=o;if(b&&v&&(b=fr(b,v)),a.props.showYearPicker){if(b!==null&&mu(Ge(b),a.props))return}else if(a.props.showMonthYearPicker){if(b!==null&&j1(b,a.props))return}else if(b!==null&&sn(b,a.props))return;var g=a.props,j=g.onChange,M=g.selectsRange,S=g.startDate,y=g.endDate,w=g.selectsMultiple,D=g.selectedDates,k=g.minTime,_=g.swapRange;if(!Is(a.props.selected,b)||a.props.allowSameDay||M||w)if(b!==null&&(a.props.selected&&(!d||!a.props.showTimeSelect&&!a.props.showTimeSelectOnly&&!a.props.showTimeInput)&&(b=pr(b,{hour:ua(a.props.selected),minute:da(a.props.selected),second:ts(a.props.selected)})),!d&&(a.props.showTimeSelect||a.props.showTimeSelectOnly)&&k&&(b=pr(b,{hour:k.getHours(),minute:k.getMinutes(),second:k.getSeconds()})),a.props.inline||a.setState({preSelection:b}),a.props.focusSelectedMonth||a.setState({monthSelectedIn:m})),M){var O=j,Y=!S&&!y,P=S&&!y,T=!S&&!!y,R=S&&y;Y?O?.([b,null],u):P?b===null?O?.([null,null],u):Nf(b,S)?O?.(_?[b,S]:[b,null],u):O?.([S,b],u):T&&(b&&Nf(b,y)?O?.([b,y],u):O?.([b,null],u)),R&&O?.([b,null],u)}else if(w){var I=j;if(b!==null)if(!D?.length)I?.([b],u);else{var q=D.some(function(ee){return We(ee,b)});if(q){var A=D.filter(function(ee){return!We(ee,b)});I?.(A,u)}else I?.(Rn(Rn([],D,!0),[b],!1),u)}}else j?.(b,u);d||((p=(x=a.props).onSelect)===null||p===void 0||p.call(x,b,u),a.setState({inputValue:null}))},a.setPreSelection=function(o){if(!a.props.readOnly){var u=Pn(a.props.minDate),d=Pn(a.props.maxDate),m=!0;if(o){var x=eo(o);if(u&&d)m=Ts(o,a.props.minDate,a.props.maxDate);else if(u){var p=eo(a.props.minDate);m=vr(o,p)||Is(x,p)}else if(d){var v=gb(a.props.maxDate);m=On(o,v)||Is(x,v)}}m&&a.setState({preSelection:o})}},a.toggleCalendar=function(){a.setOpen(!a.state.open)},a.handleTimeChange=function(o,u){var d,m;if(!a.props.selectsMultiple){var x=a.props,p=x.selectsRange,v=x.startDate,b=x.endDate,g=x.onChange,j=x.timeZone;if(p){var M=g;if(u==="start"){if(v){var S=pr(v,{hour:ua(o),minute:da(o)});a.setState({preSelection:S}),j&&(S=fr(S,j)),M?.([S,b?j?fr(b,j):b:null],void 0)}}else if(u==="end"){if(b){var y=pr(b,{hour:ua(o),minute:da(o)});a.setState({preSelection:y}),j&&(y=fr(y,j)),M?.([v?j?fr(v,j):v:null,y],void 0)}}else{var w=v&&!b;if(w){var S=pr(v,{hour:ua(o),minute:da(o)});a.setState({preSelection:S}),j&&(S=fr(S,j)),M?.([S,null],void 0)}else if(v&&b){var y=pr(b,{hour:ua(o),minute:da(o)});a.setState({preSelection:y}),j&&(y=fr(y,j)),M?.([j?fr(v,j):v,y],void 0)}else{var D=pr(a.getPreSelection(),{hour:ua(o),minute:da(o)});a.setState({preSelection:D})}}}else{var k=a.props.selected?a.props.selected:a.getPreSelection(),D=a.props.selected?o:pr(k,{hour:ua(o),minute:da(o)});a.setState({preSelection:D}),D&&j&&(D=fr(D,j)),(m=(d=a.props).onChange)===null||m===void 0||m.call(d,D)}a.props.shouldCloseOnSelect&&!a.props.showTimeInput&&(a.sendFocusBackToInput(),a.setOpen(!1)),a.props.showTimeInput&&a.setOpen(!0),(a.props.showTimeSelectOnly||a.props.showTimeSelect)&&a.setState({isRenderAriaLiveMessage:!0}),a.setState({inputValue:null})}},a.onInputClick=function(){var o,u;!a.props.disabled&&!a.props.readOnly&&a.setOpen(!0),(u=(o=a.props).onInputClick)===null||u===void 0||u.call(o)},a.handleTimeOnlyArrowKey=function(o){var u,d,m,x,p=Rs(a.props.selected)||a.state.preSelection||at(),v=(u=a.props.timeIntervals)!==null&&u!==void 0?u:30,b=(d=a.props.dateFormat)!==null&&d!==void 0?d:l.defaultProps.dateFormat,g=Array.isArray(b)?b[0]:b,j=eo(p),M=ua(p)*60+da(p),S=1440-v,y;if(o===je.ArrowUp){var w=Math.max(0,M-v);y=io(j,w)}else{var w=Math.min(S,M+v);y=io(j,w)}var D=St(y,g||l.defaultProps.dateFormat,a.props.locale);if(a.setState({preSelection:y,inputValue:D}),!(a.props.selectsRange||a.props.selectsMultiple)){var k=a.props.selected?a.props.selected:a.getPreSelection(),_=a.props.selected?y:pr(k,{hour:ua(y),minute:da(y)});(x=(m=a.props).onChange)===null||x===void 0||x.call(m,_),(a.props.showTimeSelectOnly||a.props.showTimeSelect)&&a.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){a.scrollToTimeOption(y)})}},a.handleTimeOnlyEnterKey=function(o){var u,d,m,x,p=o.target,v=p.value,b=(u=a.props.dateFormat)!==null&&u!==void 0?u:l.defaultProps.dateFormat,g=a.props.timeFormat||"p",j=a.state.preSelection||Rs(a.props.selected)||at(),M=ks(v,b,a.props.locale,(d=a.props.strictParsing)!==null&&d!==void 0?d:!1,j),S=j;if(M&&Ea(M))S=M;else{var y=((m=a.calendar)===null||m===void 0?void 0:m.containerRef.current)instanceof Element&&a.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(y instanceof HTMLElement){var w=(x=y.textContent)===null||x===void 0?void 0:x.trim();if(w){var D=ks(w,g,a.props.locale,!1,j);D&&Ea(D)&&(S=D)}}}a.handleTimeChange(S),a.setOpen(!1),a.sendFocusBackToInput()},a.scrollToTimeOption=function(o){var u,d;if(!((u=a.calendar)===null||u===void 0)&&u.containerRef.current){for(var m=a.calendar.containerRef.current,x=Array.from(m.querySelectorAll(".react-datepicker__time-list-item")),p=null,v=1/0,b=a.props.timeFormat||"p",g=0,j=x;g<j.length;g++){var M=j[g],S=(d=M.textContent)===null||d===void 0?void 0:d.trim();if(S){var y=ks(S,b,a.props.locale,!1,o);if(y&&Ea(y)){if(C1(y,o)){p=M;break}var w=Math.abs(y.getTime()-o.getTime());w<v&&(v=w,p=M)}}}p&&(x.forEach(function(D){D.setAttribute("tabindex","-1")}),p.setAttribute("tabindex","0"),p.scrollIntoView({behavior:"smooth",block:"center"}))}},a.onInputKeyDown=function(o){var u,d,m,x,p,v;(d=(u=a.props).onKeyDown)===null||d===void 0||d.call(u,o);var b=o.key;if(!a.state.open&&!a.props.inline&&!a.props.preventOpenOnFocus){(b===je.ArrowDown||b===je.ArrowUp||b===je.Enter)&&((m=a.onInputClick)===null||m===void 0||m.call(a));return}if(a.state.open&&a.props.showTimeSelectOnly){if(b===je.ArrowDown||b===je.ArrowUp){o.preventDefault(),a.handleTimeOnlyArrowKey(b);return}if(b===je.Enter){o.preventDefault(),a.handleTimeOnlyEnterKey(o);return}}if(a.state.open){if(b===je.ArrowDown||b===je.ArrowUp){o.preventDefault();var g=a.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":a.props.showWeekPicker&&a.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':a.props.showFullMonthYearPicker||a.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',j=((x=a.calendar)===null||x===void 0?void 0:x.containerRef.current)instanceof Element&&a.calendar.containerRef.current.querySelector(g);j instanceof HTMLElement&&j.focus({preventScroll:!0});return}var M=at(a.state.preSelection);b===je.Enter?(o.preventDefault(),o.target.blur(),a.inputOk()&&a.state.lastPreSelectChange===Cf?(a.handleSelect(M,o),!a.props.shouldCloseOnSelect&&a.setPreSelection(M)):a.setOpen(!1)):b===je.Escape?(o.preventDefault(),o.target.blur(),a.sendFocusBackToInput(),a.setOpen(!1)):b===je.Tab&&a.setOpen(!1),a.inputOk()||(v=(p=a.props).onInputError)===null||v===void 0||v.call(p,{code:1,msg:Sf})}},a.onPortalKeyDown=function(o){var u=o.key;u===je.Escape&&(o.preventDefault(),a.setState({preventFocus:!0},function(){a.setOpen(!1),setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})}))},a.onDayKeyDown=function(o){var u,d,m,x,p,v,b=a.props,g=b.minDate,j=b.maxDate,M=b.disabledKeyboardNavigation,S=b.showWeekPicker,y=b.shouldCloseOnSelect,w=b.locale,D=b.calendarStartDay,k=b.adjustDateOnChange,_=b.inline;if((d=(u=a.props).onKeyDown)===null||d===void 0||d.call(u,o),!M){var O=o.key,Y=o.shiftKey,P=at(a.state.preSelection),T=function(q,A){var ee=A;switch(q){case je.ArrowRight:ee=S?Nu(A,1):vn(A,1);break;case je.ArrowLeft:ee=S?nb(A):tM(A);break;case je.ArrowUp:ee=nb(A);break;case je.ArrowDown:ee=Nu(A,1);break;case je.PageUp:ee=Y?ns(A,1):Ls(A,1);break;case je.PageDown:ee=Y?bn(A,1):yn(A,1);break;case je.Home:ee=as(A,w,D);break;case je.End:ee=$4(A);break}return ee},R=function(q,A){for(var ee=40,se=q,Q=!1,B=0,K=T(q,A);!Q;){if(B>=ee){K=A;break}g&&K<g&&(se=je.ArrowRight,K=sn(g,a.props)?T(se,K):g),j&&K>j&&(se=je.ArrowLeft,K=sn(j,a.props)?T(se,K):j),sn(K,a.props)?((se===je.PageUp||se===je.Home)&&(se=je.ArrowRight),(se===je.PageDown||se===je.End)&&(se=je.ArrowLeft),K=T(se,K)):Q=!0,B++}return K};if(O===je.Enter){o.preventDefault(),a.handleSelect(P,o),!y&&a.setPreSelection(P);return}else if(O===je.Escape){o.preventDefault(),a.setOpen(!1),a.inputOk()||(x=(m=a.props).onInputError)===null||x===void 0||x.call(m,{code:1,msg:Sf});return}var I=null;switch(O){case je.ArrowLeft:case je.ArrowRight:case je.ArrowUp:case je.ArrowDown:case je.PageUp:case je.PageDown:case je.Home:case je.End:I=R(O,P);break}if(!I){(v=(p=a.props).onInputError)===null||v===void 0||v.call(p,{code:1,msg:Sf});return}o.preventDefault(),a.setState({lastPreSelectChange:Cf}),k&&a.setSelected(I),a.setPreSelection(I),_&&a.setState({shouldFocusDayInline:!0})}},a.onPopperKeyDown=function(o){var u=o.key;u===je.Escape&&(o.preventDefault(),a.sendFocusBackToInput(),a.setOpen(!1))},a.onClearClick=function(o){o&&o.preventDefault&&o.preventDefault(),a.sendFocusBackToInput();var u=a.props,d=u.selectsRange,m=u.onChange;m?.(d?[null,null]:null,o),a.setState({inputValue:null})},a.clear=function(){a.onClearClick()},a.onScroll=function(o){typeof a.props.closeOnScroll=="boolean"&&a.props.closeOnScroll?(o.target===document||o.target===document.documentElement||o.target===document.body)&&a.setOpen(!1):typeof a.props.closeOnScroll=="function"&&a.props.closeOnScroll(o)&&a.setOpen(!1)},a.handleMonthSelectedInChange=function(o){a.setState({monthSelectedIn:o})},a.renderCalendar=function(){var o,u;return!a.props.inline&&!a.isCalendarOpen()?null:re.createElement(j3,$e({showMonthYearDropdown:void 0,ref:function(d){a.calendar=d}},a.props,a.state,{setOpen:a.setOpen,dateFormat:(o=a.props.dateFormatCalendar)!==null&&o!==void 0?o:l.defaultProps.dateFormatCalendar,onSelect:a.handleSelect,onClickOutside:a.handleCalendarClickOutside,holidays:a3(a.modifyHolidays()),outsideClickIgnoreClass:a.props.outsideClickIgnoreClass,onDropdownFocus:a.handleDropdownFocus,onTimeChange:a.handleTimeChange,className:a.props.calendarClassName,container:a.props.calendarContainer,handleOnKeyDown:a.props.onKeyDown,handleOnDayKeyDown:a.onDayKeyDown,setPreSelection:a.setPreSelection,dropdownMode:(u=a.props.dropdownMode)!==null&&u!==void 0?u:l.defaultProps.dropdownMode,onMonthSelectedInChange:a.handleMonthSelectedInChange}),a.props.children)},a.renderAriaLiveRegion=function(){var o,u=a.props.locale,d=(o=a.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,m=a.props.showTimeInput||a.props.showTimeSelect,x=m?"PPPPp":"PPPP",p;return a.props.selectsRange?p="Selected start date: ".concat(Ta(a.props.startDate,{dateFormat:x,locale:u}),". ").concat(a.props.endDate?"End date: "+Ta(a.props.endDate,{dateFormat:x,locale:u}):""):a.props.showTimeSelectOnly?p="Selected time: ".concat(Ta(a.props.selected,{dateFormat:d,locale:u})):a.props.showYearPicker?p="Selected year: ".concat(Ta(a.props.selected,{dateFormat:"yyyy",locale:u})):a.props.showMonthYearPicker?p="Selected month: ".concat(Ta(a.props.selected,{dateFormat:"MMMM yyyy",locale:u})):a.props.showQuarterYearPicker?p="Selected quarter: ".concat(Ta(a.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):p="Selected date: ".concat(Ta(a.props.selected,{dateFormat:x,locale:u})),re.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},a.renderDateInput=function(){var o,u,d,m,x,p,v,b=Qt(a.props.className,(o={},o[a.props.outsideClickIgnoreClass||l.defaultProps.outsideClickIgnoreClass]=a.state.open,o)),g=a.props.customInput||re.createElement("input",{type:"text"}),j=a.props.customInputRef||"ref",M={},S=(d=a.props["aria-describedby"])!==null&&d!==void 0?d:a.props.ariaDescribedBy,y=(m=a.props["aria-invalid"])!==null&&m!==void 0?m:a.props.ariaInvalid,w=(x=a.props["aria-label"])!==null&&x!==void 0?x:a.props.ariaLabel,D=(p=a.props["aria-labelledby"])!==null&&p!==void 0?p:a.props.ariaLabelledBy,k=(v=a.props["aria-required"])!==null&&v!==void 0?v:a.props.ariaRequired;return S!=null&&(M["aria-describedby"]=S),y!=null&&(M["aria-invalid"]=y),w!=null&&(M["aria-label"]=w),D!=null&&(M["aria-labelledby"]=D),k!=null&&(M["aria-required"]=k),N.cloneElement(g,$e((u={},u[j]=function(_){a.input=_},u.value=a.getInputValue(),u.onBlur=a.handleBlur,u.onChange=a.handleChange,u.onClick=a.onInputClick,u.onFocus=a.handleFocus,u.onKeyDown=a.onInputKeyDown,u.id=a.props.id,u.name=a.props.name,u.form=a.props.form,u.autoFocus=a.props.autoFocus,u.placeholder=a.props.placeholderText,u.disabled=a.props.disabled,u.autoComplete=a.props.autoComplete,u.className=Qt(g.props.className,b),u.title=a.props.title,u.readOnly=a.props.readOnly,u.required=a.props.required,u.tabIndex=a.props.tabIndex,u),M))},a.renderClearButton=function(){var o=a.props,u=o.isClearable,d=o.disabled,m=o.selected,x=o.startDate,p=o.endDate,v=o.clearButtonTitle,b=o.clearButtonClassName,g=b===void 0?"":b,j=o.ariaLabelClose,M=j===void 0?"Close":j,S=o.selectedDates,y=o.readOnly;return u&&!y&&(m!=null||x!=null||p!=null||S?.length)?re.createElement("button",{type:"button",className:Qt("react-datepicker__close-icon",g,{"react-datepicker__close-icon--disabled":d}),disabled:d,"aria-label":M,onClick:a.onClearClick,title:v,tabIndex:-1}):null},a.state=a.calcInitialState(),a.preventFocusTimeout=void 0,a}return Object.defineProperty(l,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:D1,readOnly:!1,rangeSeparator:y1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:vo,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},l.prototype.componentDidUpdate=function(r,a){var o,u,d,m;this.props.selectsRange&&Rb(r.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):Rb(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&a.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Db(this.props.highlightDates)}),!a.focused&&!Is(r.selected,this.props.selected)&&this.setState({inputValue:null}),a.open!==this.state.open&&(a.open===!1&&this.state.open===!0&&((u=(o=this.props).onCalendarOpen)===null||u===void 0||u.call(o)),a.open===!0&&this.state.open===!1&&((m=(d=this.props).onCalendarClose)===null||m===void 0||m.call(d)))},l.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},l.prototype.renderInputContainer=function(){var r=this.props,a=r.showIcon,o=r.icon,u=r.calendarIconClassname,d=r.calendarIconClassName,m=r.toggleCalendarOnIconClick,x=this.state.open;return u&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),re.createElement("div",{className:"react-datepicker__input-container".concat(a?" react-datepicker__view-calendar-icon":"")},a&&re.createElement(w3,$e({icon:o,className:Qt(d,!d&&u,x&&"react-datepicker-ignore-onclickoutside")},m?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},l.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var a=this.state.open?re.createElement(A1,{enableTabLoop:this.props.enableTabLoop},re.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(a=re.createElement(M1,$e({portalId:this.props.portalId},this.props),a)),re.createElement(re.Fragment,null,this.renderInputContainer(),a)}return re.createElement(M3,$e({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},l})(N.Component),T3="input",Cf="navigate";function Lt({open:s,onClose:l,title:r,children:a,wide:o}){const u=N.useRef(null);return N.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[s]),N.useEffect(()=>{function d(m){m.key==="Escape"&&l()}return s&&window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[s,l]),s?t.jsxs("div",{ref:u,className:"fixed inset-0 z-50 flex items-start justify-center pt-[5vh] sm:pt-[10vh] px-4",onClick:d=>{d.target===u.current&&l()},children:[t.jsx("div",{className:"fixed inset-0 bg-black/60"}),t.jsxs("div",{className:`relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full ${o?"max-w-2xl":"max-w-lg"} max-h-[80vh] flex flex-col animate-fade-in`,children:[t.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-[var(--border-light)] shrink-0",children:[t.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:r}),t.jsx("button",{onClick:l,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:t.jsx(po,{size:16})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:a})]})]}):null}function ne({label:s,required:l,error:r,children:a}){return t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:[s,l&&t.jsx("span",{className:"text-rose-500 ml-0.5",children:"*"})]}),a,r&&t.jsx("p",{className:"text-xs text-rose-500 mt-1",children:r})]})}function we({value:s,onChange:l,placeholder:r,type:a="text",sensitive:o,...u}){const{masked:d}=qn();return t.jsx("input",{type:a,value:s,onChange:m=>l(m.target.value),placeholder:r,className:`w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors ${o&&d?"sensitive-blur":""}`,...u})}function Fn({value:s,onChange:l,...r}){const a=s?new Date(s.length>10?s:s+"T00:00:00"):null;function o(u){if(!u){l("");return}const d=u.getFullYear(),m=String(u.getMonth()+1).padStart(2,"0"),x=String(u.getDate()).padStart(2,"0");l(`${d}-${m}-${x}`)}return t.jsxs("div",{className:"relative cf-datepicker",children:[t.jsx(A3,{selected:a,onChange:o,dateFormat:"dd MMM yyyy",maxDate:new Date,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",placeholderText:"Select date",className:"w-full px-3 py-2 pr-9 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",...r}),t.jsx(XS,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function Pe({value:s,onChange:l,options:r,placeholder:a}){return t.jsxs("select",{value:s,onChange:o=>l(o.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",children:[a&&t.jsx("option",{value:"",children:a}),r.map(o=>t.jsx("option",{value:o.value,children:o.label},o.value))]})}function Ul({value:s,onChange:l,placeholder:r,rows:a=3}){return t.jsx("textarea",{value:s,onChange:o=>l(o.target.value),placeholder:r,rows:a,className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors resize-none"})}function E3({checked:s,onChange:l,label:r}){return t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:s,onChange:a=>l(a.target.checked),className:"w-4 h-4 rounded border-[var(--border-input)] bg-[var(--bg-input)] text-violet-500 focus:ring-violet-500"}),t.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:r})]})}function va({onCancel:s,onSubmit:l,submitLabel:r="Save",loading:a}){return t.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 mt-4 border-t border-[var(--border-light)]",children:[t.jsx("button",{onClick:s,disabled:a,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),t.jsxs("button",{onClick:l,disabled:a,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[a&&t.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),a?"Saving...":r]})]})}function wr({onClick:s,label:l="Deactivate"}){return t.jsx("button",{onClick:s,className:"px-4 py-2 text-xs font-semibold text-rose-400 hover:text-rose-300 hover:bg-rose-500/10 rounded-lg transition-colors",children:l})}const Ib=[{key:"sip",label:"Adjust SIP",icon:iC,color:"text-blue-400",dimColor:"text-blue-400/60 hover:text-blue-400",activeBg:"bg-blue-500/20 border border-blue-500/40"},{key:"lumpsum",label:"Lumpsum",icon:R5,color:"text-emerald-400",dimColor:"text-emerald-400/60 hover:text-emerald-400",activeBg:"bg-emerald-500/20 border border-emerald-500/40"},{key:"buysell",label:"Buy / Sell",icon:$S,color:"text-amber-400",dimColor:"text-amber-400/60 hover:text-amber-400",activeBg:"bg-amber-500/20 border border-amber-500/40"}];function Es(s){return s>=1e5?`${(s/1e5).toFixed(1)}L`:s>=1e3?`${(s/1e3).toFixed(0)}K`:`${Math.round(s)}`}function Mp({exitOnly:s}){return t.jsx("div",{className:"py-4 text-center space-y-1",children:s?t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Only exit candidates here  use ",t.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab"]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No target allocations set"}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Use ",t.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund first"]})]})})}function _3({portfolio:s,holdings:l,totalValue:r}){const a=s.sipTarget||0,o=(s.rebalanceThreshold||.05)*100,u=l.some(g=>g.targetAllocationPct>0),d=l.some(g=>g.targetAllocationPct===0&&g.units>0);if(!u)return t.jsx(Mp,{exitOnly:d});if(a<=0)return t.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"No SIP target set for this portfolio"});const m=l.filter(g=>g.targetAllocationPct>0).map(g=>{const j=r>0?g.currentValue/r*100:0,M=Math.abs(j-g.targetAllocationPct),S=M>o,w=g.targetAllocationPct/100*r-g.currentValue,D=g.targetAllocationPct/100*a;return{...g,currentPct:j,drift:M,drifted:S,gap:w,normalSIP:D}}),x=m.filter(g=>g.drifted&&g.gap>0);m.filter(g=>g.drifted&&g.gap<=0);const p=x.reduce((g,j)=>g+j.gap,0),v=m.map(g=>({...g,suggestedSIP:g.drifted&&g.gap>0&&p>0?g.gap/p*a:g.drifted&&g.gap<=0?0:g.normalSIP}));return m.some(g=>g.drifted)?t.jsxs("div",{className:"space-y-2",children:[t.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Funds drifted >",o.toFixed(0),"%: overweight  0, underweight  extra SIP. Others keep normal SIP."]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[t.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Normal SIP"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Rebalance SIP"})]})}),t.jsx("tbody",{children:v.map(g=>{const j=g.drifted&&g.gap<=0,M=g.drifted&&g.gap>0,S=!g.drifted;return t.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${S?"opacity-50":j?"opacity-60":""}`,children:[t.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:g.fundName}),t.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[t.jsxs("span",{className:j?"text-amber-400":M?"text-blue-400":"text-[var(--text-dim)]",children:[g.currentPct.toFixed(1),"%"]}),t.jsxs("span",{className:"text-[var(--text-dim)]",children:[" / ",g.targetAllocationPct.toFixed(1),"%"]})]}),t.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:Es(g.normalSIP)}),t.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:j?t.jsx("span",{className:"text-amber-400/70",children:"0"}):M?t.jsx("span",{className:"text-blue-400",children:Es(g.suggestedSIP)}):t.jsx("span",{className:"text-[var(--text-dim)]",children:Es(g.suggestedSIP)})})]},g.holdingId)})}),t.jsx("tfoot",{children:t.jsxs("tr",{className:"border-t border-[var(--border)]",children:[t.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),t.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:Es(a)}),t.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-blue-400 tabular-nums",children:Es(a)})]})})]})})]}):t.jsxs("p",{className:"text-xs text-[var(--text-dim)] py-2",children:["SIPs are balanced (within ",o.toFixed(0),"% threshold)"]})}function O3({portfolio:s,holdings:l,totalValue:r}){const[a,o]=N.useState("");(s.rebalanceThreshold||.05)*100;const u=l.some(S=>S.targetAllocationPct>0),d=l.some(S=>S.targetAllocationPct===0&&S.units>0);if(!u)return t.jsx(Mp,{exitOnly:d});const m=l.filter(S=>S.targetAllocationPct>0).map(S=>{const y=r>0?S.currentValue/r*100:0;return{...S,currentPct:y}}),x=N.useMemo(()=>{if(r<=0||m.length===0)return 0;const S=m.filter(k=>{const _=k.targetAllocationPct/100*r;return k.currentValue<_});if(S.length===0)return 0;const y=S.reduce((k,_)=>k+_.targetAllocationPct,0);if(y>=100)return 0;const w=S.reduce((k,_)=>k+_.currentValue,0),D=(y/100*r-w)/(1-y/100);return D>0?Math.ceil(D/100)*100:0},[m,r]),p=Number(a)||s.lumpsumTarget||x,v=N.useMemo(()=>{const S=p>0?r+p:r,y=m.map(D=>{const k=D.targetAllocationPct/100*S,_=p>0?Math.max(0,k-D.currentValue):0,O=S>0?(D.currentValue+_)/S*100:0,Y=D.currentValue>k+1;return{...D,invest:_,newPct:O,isOverweight:Y}}),w=y.reduce((D,k)=>D+k.invest,0);if(p>0&&w>0&&Math.abs(w-p)>1){const D=p/w;return y.map(k=>({...k,invest:k.invest>0?k.invest*D:0,newPct:S>0?(k.currentValue+(k.invest>0?k.invest*D:0))/S*100:0}))}return y},[m,p,r]),b=v.reduce((S,y)=>S+y.invest,0),g=v.some(S=>S.isOverweight),j=Number(a),M=j>0&&x>0&&j<x;return t.jsxs("div",{className:"space-y-2",children:[x>0&&t.jsx("div",{className:"flex items-center gap-2 px-2.5 py-1.5 rounded-md bg-emerald-500/10 border border-emerald-500/20",children:t.jsxs("p",{className:"text-xs text-emerald-400",children:[t.jsx("span",{className:"font-bold",children:G(x)})," needed to bring all underweight funds to target %"]})}),t.jsxs("div",{className:"flex items-end gap-3",children:[t.jsx("div",{className:"flex-1 max-w-[200px]",children:t.jsx(ne,{label:"Invest Amount ()",children:t.jsx(we,{type:"number",value:a,onChange:o,placeholder:x>0?`${G(x)}`:"Enter amount..."})})}),!j&&!s.lumpsumTarget&&x>0&&t.jsx("p",{className:"text-xs text-emerald-400/70 pb-2.5",children:"Using suggested"}),!j&&s.lumpsumTarget>=100&&t.jsx("p",{className:"text-xs text-[var(--text-dim)] pb-2.5",children:"Using lumpsum target"})]}),M&&t.jsxs("p",{className:"text-xs text-amber-400/80 px-1",children:["Below minimum  distributes proportionally but won't fully rebalance. Need ",G(x)," for exact target %."]}),v.length>0?t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[t.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Invest"})]})}),t.jsx("tbody",{children:v.map(S=>t.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${S.invest===0?"opacity-50":""}`,children:[t.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:S.fundName}),t.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[t.jsxs("span",{className:S.isOverweight?"text-amber-400":S.invest>0?"text-blue-400":"text-[var(--text-dim)]",children:[S.currentPct.toFixed(1),"%"]}),t.jsxs("span",{className:"text-[var(--text-dim)]",children:["  ",S.newPct.toFixed(1),"%"]})]}),t.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:S.isOverweight?t.jsx("span",{className:"text-amber-400/70 text-xs",children:"Overweight"}):S.invest>0?t.jsx("span",{className:"text-emerald-400",children:Es(S.invest)}):t.jsx("span",{className:"text-[var(--text-dim)] text-xs",children:"Balanced"})})]},S.holdingId))}),b>0&&t.jsx("tfoot",{children:t.jsxs("tr",{className:"border-t border-[var(--border)]",children:[t.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),t.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-emerald-400 tabular-nums",children:G(b)})]})})]})}):t.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2 text-center",children:"All funds balanced"}),g&&t.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Overweight funds can't be fixed by buying. Use ",t.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab to sell overweight and buy underweight."]})]})}function R3({portfolio:s,holdings:l,totalValue:r}){const a=(s.rebalanceThreshold||.05)*100,o=l.some(m=>m.targetAllocationPct>0),u=l.some(m=>m.targetAllocationPct===0&&m.units>0);if(!o&&!u)return t.jsx(Mp,{});const d=l.filter(m=>m.targetAllocationPct>0||m.units>0).map(m=>{const x=r>0?m.currentValue/r*100:0,p=m.targetAllocationPct===0&&m.units>0,v=p||Math.abs(x-m.targetAllocationPct)>a,b=m.targetAllocationPct/100*r,g=v?b-m.currentValue:0;return{...m,currentPct:x,amount:g,isExit:p}}).filter(m=>Math.abs(m.amount)>=500);return d.length===0?t.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"Portfolio is balanced"}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[t.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Drift"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Action"})]})}),t.jsx("tbody",{children:d.map(m=>{const x=m.amount>0;return t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[t.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:m.fundName}),t.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:m.isExit?t.jsxs("span",{className:"text-[var(--accent-rose)]",children:[m.currentPct.toFixed(1),"%  Exit"]}):`${m.currentPct.toFixed(1)}%  ${m.targetAllocationPct.toFixed(1)}%`}),t.jsx("td",{className:"py-2 px-2 text-right",children:t.jsxs("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${x?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[x?"Buy":m.isExit?"Exit":"Sell"," ",Es(Math.abs(m.amount))]})})]},m.schemeCode||m.fundCode)})})]})})}function T1(){const{mfHoldings:s,mfPortfolios:l}=Qe(),[r,a]=N.useState("buysell"),o=N.useMemo(()=>l.filter(x=>x.status!=="Inactive").map(x=>{const p=s.filter(S=>S.portfolioId===x.portfolioId&&S.units>0),v=p.reduce((S,y)=>S+y.currentValue,0),b=(x.rebalanceThreshold||.05)*100,g=p.filter(S=>{if(S.targetAllocationPct<=0)return!1;const y=v>0?S.currentValue/v*100:0;return Math.abs(y-S.targetAllocationPct)>b}).length,j=p.filter(S=>S.targetAllocationPct===0&&S.units>0&&S.currentValue>=500).length,M=p.some(S=>S.targetAllocationPct>0);return{...x,holdings:p,totalValue:v,driftedCount:g,exitCount:j,hasTargets:M}}).filter(x=>x.driftedCount>0||x.exitCount>0),[l,s]);if(o.length===0){const x=s.some(p=>p.targetAllocationPct>0);return t.jsx("div",{className:"py-8 text-center",children:x?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"All portfolios are balanced"}),t.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"No funds exceed their rebalance threshold"})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No target allocations set"}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:["Use ",t.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund, then rebalance will show drift"]})]})})}const d=o.some(x=>(x.sipTarget||0)>=500)?Ib:Ib.filter(x=>x.key!=="sip"),m=d.some(x=>x.key===r)?r:d[0]?.key||"buysell";return t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"flex bg-[var(--bg-inset)] rounded-lg p-0.5",children:d.map(({key:x,label:p,icon:v,color:b,dimColor:g,activeBg:j})=>t.jsxs("button",{onClick:()=>a(x),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-semibold transition-colors ${m===x?`${j} ${b} shadow-sm`:g}`,children:[t.jsx(v,{size:13})," ",p]},x))}),o.map((x,p)=>t.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-violet-500/50 rounded-lg overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between px-3 py-2.5 bg-[var(--bg-inset)]",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center",children:p+1}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:x.portfolioName}),t.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:x.ownerName}),x.driftedCount>0&&t.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[x.driftedCount," drifted"]}),x.exitCount>0&&t.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-rose-500/15 text-[var(--accent-rose)]",children:[x.exitCount," exit"]})]}),t.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-muted)]",children:[t.jsx("span",{className:"font-semibold text-[var(--text-secondary)]",children:G(x.totalValue)}),t.jsxs("span",{children:["Threshold: ",((x.rebalanceThreshold||.05)*100).toFixed(0),"%"]}),x.sipTarget>=100&&t.jsxs("span",{children:["SIP: ",G(x.sipTarget),"/mo"]})]})]}),t.jsxs("div",{className:"px-3 py-2",children:[m==="sip"&&t.jsx(_3,{portfolio:x,holdings:x.holdings,totalValue:x.totalValue}),m==="lumpsum"&&t.jsx(O3,{portfolio:x,holdings:x.holdings,totalValue:x.totalValue}),m==="buysell"&&t.jsx(R3,{portfolio:x,holdings:x.holdings,totalValue:x.totalValue})]})]},x.portfolioId))]})}const I3="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png",Lb={mf:{label:"Mutual Funds",color:"bg-violet-500",order:1,route:"/investments/mutual-funds"},stocks:{label:"Stocks",color:"bg-blue-500",order:2,route:"/investments/stocks"},Debt:{label:"Debt",color:"bg-cyan-500",order:3,route:"/investments/other"},Gold:{label:"Gold",color:"bg-amber-500",order:4,route:"/investments/other"},Silver:{label:"Silver",color:"bg-slate-400",order:5,route:"/investments/other"},Property:{label:"Real Estate",color:"bg-orange-500",order:6,route:"/investments/other"},Alternative:{label:"Alternative",color:"bg-violet-400",order:7,route:"/investments/other"},Equity:{label:"Equity",color:"bg-emerald-500",order:8,route:"/investments/other"},Other:{label:"Other",color:"bg-gray-500",order:9,route:"/investments/other"}},$c=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],Pb=["bg-violet-500","bg-rose-500","bg-blue-500","bg-amber-500","bg-emerald-500"],L3=[{label:"Family Members",path:"/family",match:"/family"},{label:"Bank Accounts",path:"/accounts/bank",match:"/accounts/bank"},{label:"Investment Accounts",path:"/accounts/investment",match:"/accounts/investment"},{label:"Insurance",path:"/insurance",match:"/insurance"},{label:"Mutual Funds",path:"/investments/mutual-funds",match:"/investments/mutual-funds"},{label:"Stocks",path:"/investments/stocks",match:"/investments/stocks"},{label:"Other Investments",path:"/investments/other",match:"/investments/other"},{label:"Goals",path:"/goals",match:"/goals"}],P3={buyopp:"Buying Opportunities",rebalance:"Rebalance Alerts"};function z3({onMenuClick:s}){const{theme:l,toggle:r}=by(),{selectedMember:a,setSelectedMember:o,familyMembers:u}=aa(),{mfPortfolios:d,mfHoldings:m,stockPortfolios:x,stockHoldings:p,otherInvList:v,liabilityList:b,refreshData:g,isRefreshing:j}=Qe(),{user:M,signOut:S}=Ys(),{masked:y,toggleMask:w,mv:D}=qn(),k=Hs(),_=on(),{criticalAlerts:O,upcomingReminders:Y,investmentSignals:P}=GC(),[T,R]=N.useState(!1),[I,q]=N.useState(!1),[A,ee]=N.useState(null),[se,Q]=N.useState(!1),[B,K]=N.useState(!1),[L,le]=N.useState(!0),ve=N.useRef(null),z=N.useRef(null),te=N.useRef(null),me=O.length+Y.length,{buyOppCount:he,buyCount:Z,strongBuyCount:xe,rebalanceCount:fe}=P;N.useEffect(()=>{function ye(Ie){ve.current&&!ve.current.contains(Ie.target)&&R(!1),z.current&&!z.current.contains(Ie.target)&&q(!1)}return(T||I)&&document.addEventListener("mousedown",ye),()=>document.removeEventListener("mousedown",ye)},[T,I]);const be=u.findIndex(ye=>ye.memberId===a),_e=be>=0?u[be]:null,Nt=N.useMemo(()=>{const ye=(Oe,ct)=>a==="all"?Oe:Oe.filter(U=>U[ct]===a),Ie={},Je=(Oe,ct,U,ie)=>{Ie[Oe]||(Ie[Oe]={items:[],invested:0}),Ie[Oe].items.push({label:ct,value:U}),Ie[Oe].invested+=ie};ye((d||[]).filter(Oe=>Oe.status==="Active"),"ownerId").forEach(Oe=>{const ct=(m||[]).filter(Ne=>Ne.portfolioId===Oe.portfolioId&&Ne.units>0),U=ct.reduce((Ne,Be)=>Ne+Be.currentValue,0),ie=ct.reduce((Ne,Be)=>Ne+Be.investment,0);U>0&&Je("mf",Oe.portfolioName?.replace(/^PFL-/,"")||Oe.portfolioName,U,ie)}),ye((x||[]).filter(Oe=>Oe.status==="Active"),"ownerId").forEach(Oe=>{const ct=(p||[]).filter(Ne=>Ne.portfolioId===Oe.portfolioId),U=ct.reduce((Ne,Be)=>Ne+Be.currentValue,0),ie=ct.reduce((Ne,Be)=>Ne+Be.totalInvestment,0);U>0&&Je("stocks",Oe.portfolioName,U,ie)}),ye((v||[]).filter(Oe=>Oe.status==="Active"),"familyMemberId").forEach(Oe=>{const ct=Oe.investmentCategory||"Other";Je(ct,Oe.investmentName||Oe.investmentType||"Other",Oe.currentValue,Oe.investedAmount||0)});const sa=Object.entries(Ie).map(([Oe,{items:ct,invested:U}])=>{const ie=Lb[Oe]||Lb.Other,Ne=ct.reduce((Be,et)=>Be+et.value,0);return{key:Oe,label:ie.label,color:ie.color,order:ie.order,route:ie.route,total:Ne,invested:U,items:ct.sort((Be,et)=>et.value-Be.value)}}).filter(Oe=>Oe.total>0).sort((Oe,ct)=>Oe.order-ct.order),bt=ye((b||[]).filter(Oe=>Oe.status==="Active"),"familyMemberId"),la=bt.map(Oe=>({label:Oe.liabilityName||Oe.liabilityType||"Loan",value:Oe.outstandingBalance})),Va=bt.reduce((Oe,ct)=>Oe+ct.outstandingBalance,0),Ft=sa.reduce((Oe,ct)=>Oe+ct.total,0),un=sa.reduce((Oe,ct)=>Oe+ct.invested,0);return{netWorth:Ft-Va,totalInv:Ft,totalInvested:un,sections:sa,totalLiab:Va,liabilities:la}},[a,d,m,x,p,v,b]);function Ot(){R(!1),q(!1)}function ra(){if(!te.current)return;const{scrollLeft:ye,scrollWidth:Ie,clientWidth:Je}=te.current;K(ye>5),le(ye+Je<Ie-5)}function Kt(ye){if(!te.current)return;const Je=(te.current.querySelector("a")?.offsetWidth||240)+12;te.current.scrollBy({left:ye*Je,behavior:"smooth"})}return N.useEffect(()=>{ra()},[Nt,se]),t.jsxs("header",{className:"sticky top-0 z-30 shrink-0",children:[t.jsx("style",{children:`
        @keyframes glow-emerald {
          0%, 100% { box-shadow: 0 0 6px rgba(16,185,129,0.3), 0 0 12px rgba(16,185,129,0.15); }
          50% { box-shadow: 0 0 12px rgba(16,185,129,0.5), 0 0 24px rgba(16,185,129,0.25); }
        }
        @keyframes glow-violet {
          0%, 100% { box-shadow: 0 0 6px rgba(139,92,246,0.3), 0 0 12px rgba(139,92,246,0.15); }
          50% { box-shadow: 0 0 12px rgba(139,92,246,0.5), 0 0 24px rgba(139,92,246,0.25); }
        }
        .glow-emerald { animation: glow-emerald 2s ease-in-out infinite; }
        .glow-violet { animation: glow-violet 2s ease-in-out infinite; }
      `}),t.jsx("div",{className:"relative z-10 bg-[var(--bg-header)]/95 backdrop-blur-sm border-b border-[var(--border)]",children:t.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:s,className:"lg:hidden p-2 -ml-1.5 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:t.jsx(K5,{size:20})}),t.jsx("img",{src:I3,alt:"Capital Friends",className:"h-10"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[he>0&&t.jsxs("button",{onClick:()=>{ee(A==="buyopp"?null:"buyopp"),Ot()},className:`glow-emerald flex items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${A==="buyopp"?"bg-emerald-500/30 text-emerald-300 ring-1 ring-emerald-400/50":"bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25"}`,children:[t.jsx(Fu,{size:13,strokeWidth:2.5}),t.jsx("span",{className:"hidden sm:inline",children:xe>0?"Buy Opportunities":"Buying Opportunities"}),xe>0&&t.jsxs("span",{className:"text-[11px] bg-emerald-500/30 px-1.5 py-0.5 rounded-full",children:[xe," Strong"]}),Z>0&&t.jsxs("span",{className:"text-[11px] bg-emerald-500/20 px-1.5 py-0.5 rounded-full",children:[Z," Buy"]})]}),fe>0&&t.jsxs("button",{onClick:()=>{ee(A==="rebalance"?null:"rebalance"),Ot()},className:`glow-violet flex items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${A==="rebalance"?"bg-violet-500/30 text-violet-300 ring-1 ring-violet-400/50":"bg-violet-500/15 text-violet-400 hover:bg-violet-500/25"}`,children:[t.jsx(Il,{size:13,strokeWidth:2.5}),t.jsx("span",{className:"hidden sm:inline",children:"Rebalance Alerts"}),t.jsx("span",{className:"text-[11px] bg-violet-500/30 px-1.5 py-0.5 rounded-full",children:fe})]}),t.jsx("button",{onClick:()=>g(!0),disabled:j,className:`p-2 rounded-lg transition-colors ${j?"text-blue-400 cursor-not-allowed":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:"Sync data from Google Sheets",children:t.jsx(Il,{size:18,className:j?"animate-spin":""})}),t.jsx("button",{onClick:w,className:`p-2 rounded-lg transition-colors ${y?"text-amber-400 bg-amber-500/10":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:y?"Data masked  click to reveal":"Mask sensitive data",children:y?t.jsx(iu,{size:18}):t.jsx(fp,{size:18})}),t.jsx("button",{onClick:r,className:"p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",title:`Switch to ${l==="dark"?"light":"dark"} mode`,children:l==="dark"?t.jsx(Ff,{size:18}):t.jsx(Ry,{size:18})}),me>0&&t.jsxs("div",{className:"relative",ref:z,children:[t.jsxs("button",{onClick:()=>{q(!I),R(!1)},className:"relative p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[t.jsx(Pu,{size:18}),t.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-rose-500 rounded-full px-1",children:me})]}),I&&t.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[t.jsx("div",{className:"px-3 py-2 border-b border-[var(--border-light)]",children:t.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Notifications"})}),t.jsxs("div",{className:"max-h-[300px] overflow-y-auto py-1",children:[O.map((ye,Ie)=>{const Je={critical:"bg-rose-500",warning:"bg-amber-500",info:"bg-blue-500"}[ye.type],Ct={critical:"bg-rose-500/15 text-rose-400",warning:"bg-amber-500/15 text-amber-400",info:"bg-blue-500/15 text-blue-400"}[ye.type];return t.jsxs("button",{onClick:()=>{q(!1),k(ye.navigateTo)},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors",children:[t.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${Je}`}),t.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 text-left truncate",children:ye.title}),t.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${Ct}`,children:ye.badge})]},`c-${Ie}`)}),O.length>0&&Y.length>0&&t.jsx("div",{className:"mx-3 my-1 border-t border-[var(--border-light)]"}),Y.map(ye=>{const Ie=ye.days<=7?"bg-rose-500/15 text-rose-400":ye.days<=15?"bg-amber-500/15 text-amber-400":"bg-slate-500/15 text-[var(--text-muted)]";return t.jsxs("button",{onClick:()=>{q(!1),k("/reminders")},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[t.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-amber-500"}),t.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 truncate",children:ye.title}),t.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${Ie}`,children:ye.days===0?"Today":ye.days<=30?`${ye.days}d`:ye.dateStr})]},`r-${ye.reminderId}`)})]})]})]}),t.jsxs("div",{className:"relative",ref:ve,children:[t.jsxs("button",{onClick:()=>{R(!T),q(!1)},className:"flex items-center gap-1.5 pl-1 pr-2 py-1 rounded-full hover:bg-[var(--bg-hover)] transition-colors",children:[_e?t.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-br ${$c[be%$c.length]} flex items-center justify-center text-white text-xs font-bold shadow-sm`,children:_e.memberName.charAt(0)}):t.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm",children:t.jsx(Pl,{size:14})}),t.jsx(Ln,{size:14,className:`text-[var(--text-muted)] transition-transform ${T?"rotate-180":""}`})]}),T&&t.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[t.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)]",children:t.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Viewing as"})}),t.jsxs("div",{className:"py-1.5",children:[t.jsxs("button",{onClick:()=>{o("all"),R(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${a==="all"?"bg-violet-500/10":"hover:bg-[var(--bg-hover)]"}`,children:[t.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm shrink-0",children:t.jsx(Pl,{size:15})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`text-sm font-semibold truncate ${a==="all"?"text-violet-400":"text-[var(--text-primary)]"}`,children:"Everyone"}),t.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:"All family members"})]}),a==="all"&&t.jsx(zf,{size:16,className:"text-violet-400 shrink-0"})]}),u.length>0&&t.jsx("div",{className:"mx-4 my-1 border-t border-[var(--border-light)]"}),u.map((ye,Ie)=>{const Je=a===ye.memberId;return t.jsxs("button",{onClick:()=>{o(ye.memberId),R(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${Je?`${Pb[Ie%Pb.length]}/10`:"hover:bg-[var(--bg-hover)]"}`,children:[t.jsx("div",{className:`w-9 h-9 rounded-full bg-gradient-to-br ${$c[Ie%$c.length]} flex items-center justify-center text-white text-sm font-bold shadow-sm shrink-0`,children:ye.memberName.charAt(0)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-semibold truncate text-[var(--text-primary)]",children:D(ye.memberName,"name")}),t.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:ye.relationship||"Family member"})]}),Je&&t.jsx(zf,{size:16,className:"text-emerald-400 shrink-0"})]},ye.memberId)})]}),t.jsxs("div",{className:"border-t border-[var(--border-light)] py-1.5",children:[t.jsxs(Tl,{to:"/settings",onClick:()=>R(!1),className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[t.jsx(pp,{size:16}),t.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),M&&t.jsx("div",{className:"px-4 py-1.5",children:t.jsx("p",{className:"text-[11px] text-[var(--text-muted)] truncate",children:D(M.email,"email")})}),t.jsxs("button",{onClick:()=>{S(),R(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-rose-400 hover:bg-rose-500/10 transition-colors",children:[t.jsx(Oy,{size:16}),t.jsx("span",{className:"text-sm font-medium",children:"Sign out"})]})]})]})]})]})]})}),t.jsx(VC,{}),t.jsx("nav",{className:"bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)]",children:t.jsxs("div",{className:"flex items-center px-3 sm:px-4 py-1.5",children:[t.jsx("div",{className:"flex items-center gap-1 overflow-x-auto no-scrollbar flex-1 min-w-0",children:L3.map(ye=>{const Ie=_.pathname.startsWith(ye.match);return t.jsx(Tl,{to:ye.path,className:`whitespace-nowrap px-3 py-1.5 rounded-lg text-[13px] font-medium transition-colors ${Ie?"bg-violet-500/15 text-violet-400":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:ye.label},ye.path)})}),t.jsxs("button",{onClick:()=>Q(!se),className:"shrink-0 ml-3 flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15 transition-colors",children:[t.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400/70",children:"Net Worth"}),t.jsx("span",{className:"text-sm font-extrabold text-emerald-400 tabular-nums",children:G(Nt.netWorth)}),t.jsx(Ln,{size:12,className:`text-emerald-400/60 transition-transform duration-200 ${se?"rotate-180":""}`})]})]})}),se&&t.jsx("div",{className:"bg-[var(--bg-card)]/90 backdrop-blur-sm border-b border-[var(--border-light)] animate-in slide-in-from-top-2 fade-in duration-200",children:t.jsxs("div",{className:"relative max-w-7xl mx-auto",children:[B&&t.jsx("button",{onClick:()=>Kt(-1),className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 z-10 w-7 h-7 flex items-center justify-center rounded-full bg-[var(--bg-card)] border border-[var(--border)] shadow-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:t.jsx(Sy,{size:14})}),t.jsxs("div",{ref:te,onScroll:ra,className:"flex gap-3 px-12 sm:px-14 py-3 overflow-x-auto scroll-smooth snap-x snap-mandatory no-scrollbar",children:[Nt.sections?.map(ye=>t.jsxs(Tl,{to:ye.route,className:"group snap-start shrink-0 w-[calc(50%-6px)] sm:w-[calc(33.333%-8px)] lg:w-[calc(25%-9px)] rounded-lg p-3 bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)] border border-[var(--border-light)] transition-colors",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[t.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold uppercase tracking-wider text-[var(--text-muted)]",children:[t.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${ye.color}`}),ye.label]}),t.jsx(El,{size:10,className:"text-[var(--text-dim)] opacity-0 group-hover:opacity-100 transition-opacity"})]}),t.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums mb-1",children:G(ye.total)}),ye.items.length>0&&t.jsx("div",{className:"space-y-0.5",children:ye.items.map(Ie=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-[11px] text-[var(--text-dim)] truncate mr-2",children:Ie.label}),t.jsx("span",{className:"text-[11px] text-[var(--text-muted)] tabular-nums shrink-0",children:G(Ie.value)})]},Ie.label))})]},ye.key)),Nt.totalLiab>0&&t.jsxs(Tl,{to:"/liabilities",className:"group snap-start shrink-0 w-[calc(50%-6px)] sm:w-[calc(33.333%-8px)] lg:w-[calc(25%-9px)] rounded-lg p-3 bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)] border border-[var(--border-light)] transition-colors",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[t.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold uppercase tracking-wider text-[var(--text-muted)]",children:[t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-500"}),"Liabilities"]}),t.jsx(El,{size:10,className:"text-[var(--text-dim)] opacity-0 group-hover:opacity-100 transition-opacity"})]}),t.jsxs("p",{className:"text-base font-bold text-[var(--accent-rose)] tabular-nums mb-1",children:["",G(Nt.totalLiab)]}),Nt.liabilities?.length>0&&t.jsx("div",{className:"space-y-0.5",children:Nt.liabilities.map(ye=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-[11px] text-[var(--text-dim)] truncate mr-2",children:ye.label}),t.jsx("span",{className:"text-[11px] text-[var(--accent-rose)]/70 tabular-nums shrink-0",children:G(ye.value)})]},ye.label))})]})]}),L&&t.jsx("button",{onClick:()=>Kt(1),className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 z-10 w-7 h-7 flex items-center justify-center rounded-full bg-[var(--bg-card)] border border-[var(--border)] shadow-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:t.jsx(El,{size:14})})]})}),A&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-16 sm:pt-24 px-3",children:[t.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>ee(null)}),t.jsxs("div",{className:"relative w-full max-w-3xl max-h-[75vh] rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-2xl shadow-black/40 overflow-hidden flex flex-col animate-in fade-in slide-in-from-top-4 duration-200",children:[t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--border-light)] shrink-0",children:[t.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:P3[A]}),t.jsx("button",{onClick:()=>ee(null),className:"p-1.5 rounded-lg hover:bg-[var(--bg-hover)] text-[var(--text-dim)] transition-colors",children:t.jsx(po,{size:16})})]}),t.jsxs("div",{className:"overflow-y-auto p-4",children:[A==="buyopp"&&t.jsx(qy,{}),A==="rebalance"&&t.jsx(T1,{})]})]})]})]})}const F3=[{label:"Invest",icon:_l,path:"/investments/mutual-funds"},{label:"Accounts",icon:lo,path:"/accounts/bank"},{label:"Goals",icon:fo,path:"/goals"},{label:"Reminders",icon:Pu,path:"/reminders"},{label:"More",icon:w5,path:"/more"}];function B3(){return t.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-[var(--bg-sidebar)] border-t border-[var(--border)] safe-bottom",children:t.jsx("div",{className:"flex items-center justify-around h-[56px]",children:F3.map(({label:s,icon:l,path:r})=>t.jsx(ip,{to:r,className:({isActive:a})=>`relative flex flex-col items-center justify-center gap-0.5 w-full h-full text-xs font-medium transition-colors ${a?"text-[var(--sidebar-active-text)]":"text-[var(--text-dim)]"}`,children:({isActive:a})=>t.jsxs(t.Fragment,{children:[a&&t.jsx("span",{className:"absolute top-0 w-10 h-[2.5px] bg-[var(--sidebar-active-text)] rounded-b-full"}),t.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-xl transition-colors ${a?"bg-[var(--sidebar-active-bg)]":""}`,children:t.jsx(l,{size:19,strokeWidth:a?2.2:1.5})}),t.jsx("span",{className:a?"font-semibold":"",children:s})]})},r))})})}const H3="/logo-small.png",kf=[{key:"auth",label:"Signing in"},{key:"data",label:"Loading your data"},{key:"health",label:"Checking health status"},{key:"ready",label:"Almost ready"}];function _u({phase:s="auth"}){const[l,r]=N.useState("");N.useEffect(()=>{const o=setInterval(()=>{r(u=>u.length>=3?"":u+".")},500);return()=>clearInterval(o)},[]);const a=kf.findIndex(o=>o.key===s);return t.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:t.jsxs("div",{className:"flex flex-col items-center gap-8",children:[t.jsx("img",{src:H3,alt:"Capital Friends",className:"h-16 w-16 animate-pulse"}),t.jsxs("div",{className:"flex flex-col items-center gap-4 min-w-[220px]",children:[kf.map((o,u)=>{const d=u===a,m=u<a;return t.jsxs("div",{className:"flex items-center gap-3 w-full",children:[t.jsx("div",{className:`flex-shrink-0 w-5 h-5 rounded-full flex items-center justify-center text-xs font-medium transition-all duration-300 ${m?"bg-green-500 text-white":d?"bg-violet-500 text-white animate-pulse":"bg-[var(--border)] text-[var(--text-muted)]"}`,children:m?"":u+1}),t.jsxs("span",{className:`text-sm transition-all duration-300 ${m?"text-green-400":d?"text-[var(--text-primary)] font-medium":"text-[var(--text-muted)]"}`,children:[o.label,d?l:""]})]},o.key)}),t.jsx("div",{className:"w-full h-1 rounded-full bg-[var(--border)] overflow-hidden mt-2",children:t.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-violet-500 to-cyan-500 transition-all duration-500 ease-out",style:{width:`${(a+1)/kf.length*100}%`}})})]})]})})}function Y3(){const[s,l]=N.useState(!1),{loading:r,error:a}=Qe();return r?t.jsx(_u,{}):a?t.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:t.jsxs("div",{className:"flex flex-col items-center gap-4 text-center px-6",children:[t.jsx("img",{src:"/logo-small.png",alt:"Capital Friends",className:"h-16 w-16 opacity-50"}),t.jsx("p",{className:"text-rose-400 text-sm font-medium",children:a}),t.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-violet-600 hover:bg-violet-500 text-white transition-colors",children:"Retry"})]})}):t.jsxs("div",{className:"flex flex-col h-dvh bg-[var(--bg-base)] overflow-hidden",children:[t.jsx(z3,{onMenuClick:()=>l(!0)}),t.jsx(HC,{open:s,onClose:()=>l(!1)}),t.jsx("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-20 lg:pb-0",children:t.jsx("div",{className:"px-3 sm:px-4 py-3 sm:py-4 w-full max-w-7xl mx-auto",children:t.jsx(Ig,{})})}),t.jsx(B3,{})]})}function q3(){const{isAuthenticated:s,loading:l}=Ys(),{healthCheckCompleted:r,loading:a}=Qe(),o=on();return l&&!s?t.jsx(_u,{phase:"auth"}):!s&&!l?t.jsx(xu,{to:"/",replace:!0}):a?t.jsx(_u,{phase:"data"}):r===!1&&o.pathname!=="/health-check"?t.jsx(xu,{to:"/health-check",replace:!0}):t.jsx(Ig,{})}const zb="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png";function E1(){const{isAuthenticated:s,loading:l,error:r,signIn:a}=Ys(),o=Hs(),[u,d]=N.useState(0),[m,x]=N.useState(!1),p=N.useRef(null),v=N.useCallback(()=>{p.current&&clearInterval(p.current),p.current=setInterval(()=>{x(M=>(M||d(S=>(S+1)%4),M))},5e3)},[]);N.useEffect(()=>(v(),()=>{p.current&&clearInterval(p.current)}),[v]);function b(M){d(M),v()}if(N.useEffect(()=>{s&&o("/dashboard",{replace:!0})},[s,o]),l)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#080d1a]",children:t.jsx("img",{src:"/logo-small.png",alt:"",className:"h-16 w-16 animate-pulse"})});const g=[{id:"ath",label:"ATH Tracking",icon:t.jsx(Ll,{size:18}),color:"emerald",tagline:"Spot Buying Opportunities",desc:"See how far each mutual fund is from its All-Time High NAV. When a quality fund dips 10-20% below ATH, it's your signal to invest more  via SIP increase or lumpsum.",mock:t.jsx(U3,{})},{id:"rebalance",label:"Rebalancing",icon:t.jsx(Il,{size:18}),color:"violet",tagline:"Know Exactly What to Buy or Sell",desc:"Set target allocation for each fund. When your portfolio drifts, Capital Friends tells you exactly how much to adjust  via SIP changes, lumpsum top-ups, or buy/sell actions.",mock:t.jsx(V3,{})},{id:"goals",label:"Goal Linking",icon:t.jsx(fo,{size:18}),color:"cyan",tagline:"Link Portfolios to Goals",desc:"Create goals like retirement, child education, or emergency fund. Link MF portfolios with allocation percentages. Goal progress updates automatically as NAVs change daily.",mock:t.jsx(G3,{})},{id:"dashboard",label:"Family View",icon:t.jsx(Pl,{size:18}),color:"amber",tagline:"Everyone's Wealth, One Dashboard",desc:"Switch between family members in one click. See combined or individual net worth, investments, insurance, loans  everything your family owns, in one place.",mock:t.jsx($3,{})}],j=g[u];return t.jsxs("div",{className:"min-h-screen bg-[#080d1a] text-slate-200",children:[t.jsx("header",{className:"sticky top-0 z-50 bg-[#0a0f1f]/95 backdrop-blur-sm border-b border-white/[0.06]",children:t.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[t.jsx("img",{src:zb,alt:"Capital Friends",className:"h-12"}),t.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-600 to-cyan-600 text-white text-sm font-semibold hover:from-violet-500 hover:to-cyan-500 transition-all cursor-pointer",children:[t.jsx(Bb,{s:14})," Sign In"]})]})}),t.jsxs("section",{className:"relative px-5 sm:px-8 lg:px-16 pt-10 sm:pt-14 pb-8 sm:pb-10 overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[400px] bg-violet-600/8 rounded-full blur-[120px] pointer-events-none"}),t.jsx("div",{className:"absolute top-20 right-1/4 w-[400px] h-[300px] bg-cyan-600/6 rounded-full blur-[100px] pointer-events-none"}),t.jsxs("div",{className:"relative text-center",children:[t.jsx("span",{className:"inline-block text-xs font-bold uppercase tracking-[0.2em] text-violet-400 bg-violet-500/10 border border-violet-500/20 rounded-full px-4 py-1.5 mb-5",children:"Always Free  100% Private  Your Google Sheet"}),t.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold leading-[1.1] tracking-tight text-white",children:["One dashboard for your family's"," ",t.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-cyan-400 bg-clip-text text-transparent",children:"entire wealth"})]}),t.jsxs("p",{className:"mt-5 text-base sm:text-lg text-slate-400 leading-relaxed max-w-2xl mx-auto",children:["Mutual funds, stocks, FDs, gold, insurance, loans  track everything for every family member. Manual entry means ",t.jsx("strong",{className:"text-white",children:"no bank credentials, no privacy risk"}),"."]}),r&&t.jsx("p",{className:"mt-5 text-sm text-rose-400",children:r})]})]}),t.jsxs("section",{className:"bg-gradient-to-b from-[#0d0a1a] to-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-10 sm:py-14",children:[t.jsxs("div",{className:"text-center mb-10",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3 flex-wrap justify-center",children:[t.jsx(zs,{size:28,className:"text-amber-400 shrink-0"}),t.jsxs("span",{children:["What happens if something happens to ",t.jsx("span",{className:"text-amber-400",children:"you"}),"?"]})]}),t.jsxs("p",{className:"mt-4 text-lg text-slate-400 leading-relaxed",children:["Your family should know about every investment, every policy, every loan. Not someday. ",t.jsx("strong",{className:"text-white",children:"Right now."})]})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsx(Fb,{icon:t.jsx(fp,{size:20}),color:"rose",title:"Without Capital Friends",items:["Scattered investments across 10+ platforms","Family has no idea what you own or owe","Insurance policies lost in email threads","Months of confusion, missed renewals, lost money"],bad:!0}),t.jsx(Fb,{icon:t.jsx(ro,{size:20}),color:"emerald",title:"With Capital Friends",items:["One sheet  every investment, policy, and loan","Family receives email reports with full portfolio details","Reminders for SIPs, renewals, EMI payments","Complete clarity, instantly  when it matters most"]})]}),t.jsxs("p",{className:"text-center mt-8 text-base text-slate-500",children:["Built for ",t.jsx("strong",{className:"text-white",children:"you"})," to manage your wealth  and for your ",t.jsx("strong",{className:"text-white",children:"family"})," to access it when they need to."]})]}),t.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"How it Works"}),t.jsx("p",{className:"text-base text-slate-500",children:"Set up in 2 minutes  no bank credentials, no downloads"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-4",children:[t.jsx(Uc,{num:1,icon:t.jsx($5,{size:24}),color:"violet",title:"Sign In with Google",desc:"Go to capitalfriends.in and sign in with your Google account. That's all  no registration form, no passwords."}),t.jsx(Uc,{num:2,icon:t.jsx(D5,{size:24}),color:"emerald",title:"App Creates Your Sheet",desc:"The app creates a private Google Sheet in your own Google Drive. This sheet stores all your financial data. Only you can see it  not even the developer."}),t.jsx(Uc,{num:3,icon:t.jsx(Dy,{size:24}),color:"cyan",title:"Financial Health Check",desc:"Answer 7 simple yes/no questions about your financial health. Get your score and personalized recommendations instantly."}),t.jsx(Uc,{num:4,icon:t.jsx(Ll,{size:24}),color:"amber",title:"Start Tracking",desc:"Add family members, portfolios, goals, insurance, and loans. The app connects to AMFI for live mutual fund prices automatically."})]}),t.jsxs("p",{className:"text-center mt-10 text-sm text-slate-600",children:["Your sheet is named ",t.jsx("strong",{className:"text-slate-400",children:"Capital Friends - Your Name"})," and lives in your Google Drive. The web app is just a beautiful dashboard to view and manage it."]})]}),t.jsxs("section",{id:"features",className:"bg-[#0b1022] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",onMouseEnter:()=>x(!0),onMouseLeave:()=>{x(!1),v()},children:[t.jsxs("div",{className:"text-center mb-10",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Features That Set Us Apart"}),t.jsx("p",{className:"text-base text-slate-500",children:"Things you won't find on other portfolio trackers"})]}),t.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 mb-10 flex-wrap",children:g.map((M,S)=>{const y=S===u,w={emerald:"border-emerald-500",violet:"border-violet-500",cyan:"border-cyan-500",amber:"border-amber-500"},D={emerald:"text-emerald-400",violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400"};return t.jsxs("button",{onClick:()=>b(S),className:`relative flex items-center gap-2 px-5 py-2.5 rounded-full border text-sm font-semibold transition-all cursor-pointer ${y?`${w[M.color]} bg-white/[0.05] ${D[M.color]}`:"border-white/[0.08] text-slate-500 hover:border-white/[0.15] hover:text-slate-300"}`,children:[t.jsx("span",{className:"shrink-0",children:M.icon}),M.label,y&&t.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-0.5 bg-white/[0.06] rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full rounded-full bg-current",style:{animation:"featureProgress 5s linear",animationPlayState:m?"paused":"running"}})})]},M.id)})}),t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-8 lg:gap-12",children:[t.jsxs("div",{className:"lg:flex-1 min-h-[280px]",children:[t.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:j.tagline}),t.jsx("p",{className:"mt-3 text-base text-slate-400 leading-relaxed",children:j.desc}),j.id==="ath"&&t.jsxs("div",{className:"mt-6 space-y-5",children:[t.jsx(ca,{c:"emerald",t:"ATH tracking only for funds in your portfolios"}),t.jsx(ca,{c:"emerald",t:"Color-coded signals: watch, consider, buy, strong buy"}),t.jsx(ca,{c:"emerald",t:"Increase SIP or invest lumpsum when funds dip"}),t.jsx(ca,{c:"emerald",t:"Daily NAV updates from AMFI data"})]}),j.id==="rebalance"&&t.jsxs("div",{className:"mt-6 space-y-5",children:[t.jsx(ca,{c:"violet",t:"Adjust monthly SIP to rebalance gradually"}),t.jsx(ca,{c:"violet",t:"Lumpsum top-up for quick rebalance"}),t.jsx(ca,{c:"violet",t:"Buy/Sell amounts to match target"}),t.jsx(ca,{c:"violet",t:"Configurable threshold per portfolio"})]}),j.id==="goals"&&t.jsxs("div",{className:"mt-6 space-y-5",children:[t.jsx(ca,{c:"cyan",t:"Link multiple MF portfolios to each goal"}),t.jsx(ca,{c:"cyan",t:"Built-in SIP + lumpsum calculator with inflation"}),t.jsx(ca,{c:"cyan",t:"Auto-status: On Track, Needs Attention, Achieved"}),t.jsx(ca,{c:"cyan",t:"Withdrawal planning for retirement goals"})]}),j.id==="dashboard"&&t.jsxs("div",{className:"mt-6 space-y-5",children:[t.jsx(ca,{c:"amber",t:"One-click switch between family members"}),t.jsx(ca,{c:"amber",t:"Combined net worth across everyone"}),t.jsx(ca,{c:"amber",t:"MF, stocks, FD, gold, PPF, NPS, insurance"}),t.jsx(ca,{c:"amber",t:"Email reports sent to family automatically"})]})]}),t.jsx("div",{className:"lg:flex-1 min-w-0 min-h-[380px] flex flex-col justify-center",children:j.mock})]}),t.jsx("style",{children:`
          @keyframes featureProgress {
            from { width: 0% }
            to { width: 100% }
          }
        `})]}),t.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[t.jsxs("div",{className:"text-center mb-10",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Everything You Need"}),t.jsx("p",{className:"text-base text-slate-500",children:"One dashboard for your entire financial life"})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[t.jsx(Jr,{icon:t.jsx(ao,{size:20}),c:"rose",t:"Stock Portfolios",d:"Buy/sell tracking, average cost, P&L with live NSE prices"}),t.jsx(Jr,{icon:t.jsx(tC,{size:20}),c:"orange",t:"FD, Gold, PPF, NPS",d:"Track any investment type  all counted in net worth"}),t.jsx(Jr,{icon:t.jsx(ro,{size:20}),c:"teal",t:"Insurance Tracker",d:"Life, health, term policies with premiums & renewal dates"}),t.jsx(Jr,{icon:t.jsx(lo,{size:20}),c:"red",t:"Liabilities",d:"Loans & EMIs. Net worth = total assets minus debts"}),t.jsx(Jr,{icon:t.jsx(Pu,{size:20}),c:"yellow",t:"Smart Reminders",d:"SIP dates, renewals, EMI payments, maturity alerts"}),t.jsx(Jr,{icon:t.jsx(Pl,{size:20}),c:"pink",t:"Family Sharing",d:"Invite family with Google accounts  shared dashboard"}),t.jsx(Jr,{icon:t.jsx(Il,{size:20}),c:"blue",t:"Daily Auto-Refresh",d:"NAVs and stock prices update automatically every day"}),t.jsx(Jr,{icon:t.jsx(xf,{size:20}),c:"emerald",t:"Complete Privacy",d:"No servers, no database, no tracking  your Sheet only"})]})]}),t.jsxs("section",{className:"border-y border-white/[0.06]",children:[t.jsxs("div",{className:"bg-[#0b1022] px-5 sm:px-8 lg:px-16 py-10 sm:py-14 text-center",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3",children:[t.jsx(xf,{size:28,className:"text-emerald-400 shrink-0"}),"Your Data Never Leaves Google"]}),t.jsxs("p",{className:"mt-3 text-base sm:text-lg text-slate-400 leading-relaxed",children:["No backend server. No database. No tracking. The web app is a static site. Your spreadsheet lives in ",t.jsx("strong",{className:"text-white",children:"your Google Drive"}),". We literally cannot access your financial data."]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row",children:[t.jsx(Af,{icon:t.jsx(ro,{size:20}),t:"Manual Entry Only",d:"No bank linking, no credentials shared. You type your data  no one else has access.",bg:"bg-[#0d1326]",c:"emerald"}),t.jsx(Af,{icon:t.jsx(xf,{size:20}),t:"Your Google Sheet",d:"A private spreadsheet in your Drive. Share only with family you choose.",bg:"bg-[#0f1530]",c:"violet"}),t.jsx(Af,{icon:t.jsx(bu,{size:20}),t:"Always Free",d:"No premium tier, no hidden fees, no ads. Free today, free forever.",bg:"bg-[#111838]",c:"amber"})]})]}),t.jsxs("section",{className:"bg-gradient-to-t from-[#080d1a] to-[#0d1128] border-t border-white/[0.06] px-5 sm:px-8 lg:px-16 py-16 text-center",children:[t.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white",children:"Start managing your family's wealth today"}),t.jsx("p",{className:"mt-3 text-base text-slate-500",children:"Always free. No credit card. No bank linking. Just your Google account."}),t.jsxs("button",{onClick:a,className:"mt-8 inline-flex items-center gap-2.5 px-8 py-3.5 bg-gradient-to-r from-violet-600 to-cyan-600 text-white font-bold text-base rounded-xl hover:from-violet-500 hover:to-cyan-500 shadow-lg shadow-violet-900/30 transition-all hover:scale-[1.02] cursor-pointer",children:[t.jsx(Bb,{s:20})," Sign in with Google  It's Free"]}),r&&t.jsx("p",{className:"mt-3 text-sm text-rose-400",children:r})]}),t.jsxs("footer",{className:"border-t border-white/[0.04] px-5 sm:px-8 lg:px-16 py-5 flex items-center justify-between",children:[t.jsx("img",{src:zb,alt:"",className:"h-5 opacity-30"}),t.jsx("p",{className:"text-xs text-slate-600",children:"Your data. Your Google Drive. Your control."})]})]})}function Fb({icon:s,title:l,items:r,bad:a}){const o=a?"border-rose-500/15":"border-emerald-500/15",u=a?"bg-rose-500/[0.04]":"bg-emerald-500/[0.04]",d=a?"bg-rose-500/10 text-rose-400":"bg-emerald-500/10 text-emerald-400",m=a?"text-rose-400":"text-emerald-400";return t.jsxs("div",{className:`rounded-2xl border ${o} ${u} p-6`,children:[t.jsxs("h3",{className:`text-lg font-bold ${m} mb-4 flex items-center gap-2.5`,children:[t.jsx("span",{className:`flex items-center justify-center w-8 h-8 rounded-lg ${d} shrink-0`,children:s}),l]}),t.jsx("ul",{className:"space-y-3",children:r.map((x,p)=>t.jsxs("li",{className:"flex items-start gap-2.5",children:[a?t.jsx("span",{className:"text-rose-500/60 mt-0.5 shrink-0",children:""}):t.jsx(Xl,{size:16,className:"text-emerald-500 mt-0.5 shrink-0"}),t.jsx("span",{className:"text-sm text-slate-300 leading-relaxed",children:x})]},p))})]})}function $3(){return t.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f]",children:[t.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Dashboard"}),t.jsx("div",{className:"flex gap-1.5",children:["Everyone","Jagadeesh","Priya","Arjun"].map((s,l)=>t.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ${l===0?"bg-violet-500/20 text-violet-300":"text-slate-600"}`,children:s},s))})]}),t.jsxs("div",{className:"grid grid-cols-3 divide-x divide-white/[0.04]",children:[t.jsx(Df,{l:"Net Worth",v:"45.2L",lc:"text-violet-400",vc:"text-white"}),t.jsx(Df,{l:"Invested",v:"38.7L",lc:"text-slate-500",vc:"text-slate-300"}),t.jsx(Df,{l:"P&L",v:"+6.5L",lc:"text-slate-500",vc:"text-emerald-400",extra:"+16.8%"})]}),t.jsxs("div",{className:"border-t border-white/[0.04]",children:[t.jsx(Mf,{n:"Axis Bluechip Fund",alloc:"30% / 25%",cur:"6.2L",pl:"+24.0%",ath:"5.2%",athC:"text-[#e67e00]",up:!0}),t.jsx(Mf,{n:"Parag Parikh Flexi Cap",alloc:"35% / 40%",cur:"4.8L",pl:"+37.1%",ath:"At ATH",athC:"text-emerald-500",up:!0}),t.jsx(Mf,{n:"SBI Small Cap Fund",alloc:"20% / 15%",cur:"1.8L",pl:"-10.0%",ath:"18.3%",athC:"text-[#d84315]",last:!0})]})]})}function U3(){const s=[{n:"HDFC Mid-Cap Opportunities",nav:"142.35",ath:"168.50",pct:"15.5%",color:"text-[#d84315]",signal:"Good Buy Signal",sigC:"text-[#d84315] bg-[#d84315]/15"},{n:"Axis Small Cap Fund",nav:"38.22",ath:"52.10",pct:"26.6%",color:"text-[#c62828]",signal:"Strong Buy",sigC:"text-[#c62828] bg-[#c62828]/15 font-bold"},{n:"Kotak Emerging Equity",nav:"89.10",ath:"92.40",pct:"3.6%",color:"text-[#b8860b]",signal:"Watch",sigC:"text-[#b8860b] bg-[#b8860b]/15"},{n:"Mirae Asset Large Cap",nav:"105.80",ath:"106.20",pct:"0.4%",color:"text-slate-500",signal:"Near ATH",sigC:"text-slate-500 bg-white/[0.04]"}];return t.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[t.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-semibold text-white",children:"Buy Opportunities"}),t.jsx("span",{className:"text-xs text-emerald-400 font-semibold bg-emerald-500/10 px-2.5 py-1 rounded-full",children:"2 signals"})]}),s.map((l,r)=>t.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${r<s.length-1?"border-b border-white/[0.03]":""}`,children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:l.n}),t.jsxs("p",{className:"text-xs text-slate-600 mt-0.5",children:["NAV ","",l.nav,"  ATH ","",l.ath]})]}),t.jsxs("div",{className:"text-right shrink-0 ml-3",children:[t.jsxs("p",{className:`text-base font-bold tabular-nums ${l.color}`,children:[t.jsx(BS,{size:13,className:"inline -mt-0.5"})," ",l.pct]}),t.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded ${l.sigC}`,children:l.signal})]})]},r))]})}function V3(){const[s,l]=N.useState(0),r=["SIP Adjust","Lumpsum","Buy / Sell"],a=["New SIP","Lumpsum Top-up","Action"],u=[[{n:"Axis Bluechip",val:"SIP 6,000",cur:"30%",tgt:"25%",action:"Stop SIP",actionC:"text-amber-400"},{n:"Parag Parikh Flexi",val:"SIP 7,000",cur:"35%",tgt:"40%",action:"12,000/mo",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"SIP 4,000",cur:"20%",tgt:"15%",action:"Stop SIP",actionC:"text-amber-400"},{n:"HDFC Large Cap",val:"SIP 3,000",cur:"15%",tgt:"20%",action:"8,000/mo",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"No action",actionC:"text-slate-600"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Invest 55,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"No action",actionC:"text-slate-600"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Invest 45,000",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Buy 50,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Buy 50,000",actionC:"text-emerald-400"}]][s];return t.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[t.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-semibold text-white",children:"Rebalance Portfolio"}),t.jsx("span",{className:"text-xs text-violet-400 font-semibold bg-violet-500/10 px-2.5 py-1 rounded-full",children:"4 off-target"})]}),t.jsx("div",{className:"flex border-b border-white/[0.04]",children:r.map((d,m)=>t.jsx("button",{onClick:()=>l(m),className:`flex-1 text-xs font-semibold py-2.5 text-center cursor-pointer transition-colors ${m===s?"text-violet-400 border-b-2 border-violet-400":"text-slate-600 hover:text-slate-400"}`,children:d},d))}),t.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 border-b border-white/[0.04] bg-[#0a0f1f]/50 flex-wrap",children:[t.jsx("span",{className:"text-xs text-slate-500",children:"Portfolio Value"}),t.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","10,00,000"]}),s===0&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-xs text-slate-600",children:"|"}),t.jsx("span",{className:"text-xs text-slate-500",children:"Total SIP"}),t.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","20,000"]})]}),s===1&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-xs text-slate-600",children:"|"}),t.jsx("span",{className:"text-xs text-slate-500",children:"Lumpsum"}),t.jsx("input",{type:"text",readOnly:!0,value:"1,00,000",className:"bg-white/[0.04] border border-white/[0.08] rounded-md px-2 py-1 text-sm text-white font-semibold tabular-nums w-24 text-right cursor-default outline-none"})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 text-xs text-slate-600 font-semibold border-b border-white/[0.03]",children:[t.jsx("span",{children:"Fund / Value"}),t.jsx("span",{className:"text-center",children:"Current"}),t.jsx("span",{className:"text-center",children:"Target"}),t.jsx("span",{className:"text-right",children:a[s]})]}),u.map((d,m)=>t.jsxs("div",{className:`grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 items-center ${m<u.length-1?"border-b border-white/[0.03]":""}`,children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("span",{className:"text-sm text-slate-300 truncate block",children:d.n}),t.jsxs("span",{className:"text-[10px] text-slate-600",children:["",d.val]})]}),t.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:d.cur}),t.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:d.tgt}),t.jsx("span",{className:`text-sm text-right font-semibold ${d.actionC}`,children:d.action})]},`${s}-${m}`))]})]})}function G3(){const s=[{n:"Retirement",tgt:"2Cr",cur:"28.5L",pct:14,sip:"45,000",yrs:"18 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"Child Education",tgt:"50L",cur:"12.2L",pct:24,sip:"15,000",yrs:"12 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"New Car",tgt:"15L",cur:"4.1L",pct:27,sip:"12,000",yrs:"3 yrs",status:"Needs Attention",sc:"text-amber-400 bg-amber-500/15",bc:"bg-amber-500"}];return t.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[t.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-semibold text-white",children:"Goals"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xs text-slate-500",children:"2 On Track"}),t.jsx("span",{className:"text-xs text-amber-400",children:"1 Needs Attention"})]})]}),s.map((l,r)=>t.jsxs("div",{className:`px-4 py-3.5 ${r<s.length-1?"border-b border-white/[0.03]":""}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-semibold text-white",children:l.n}),t.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${l.sc}`,children:l.status})]}),t.jsxs("span",{className:"text-xs text-slate-500",children:["",l.sip,"/mo  ",l.yrs]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex-1 h-2.5 rounded-full bg-white/[0.06] overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full ${l.bc}`,style:{width:`${l.pct}%`}})}),t.jsxs("span",{className:"text-sm font-semibold text-slate-300 tabular-nums w-10 text-right",children:[l.pct,"%"]})]}),t.jsxs("div",{className:"flex justify-between mt-1.5 text-xs text-slate-600",children:[t.jsxs("span",{children:["",l.cur," of ","",l.tgt]}),t.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[t.jsx(no,{size:10})," 2 portfolios linked"]})]})]},r))]})}function Bb({s=16}){return t.jsxs("svg",{viewBox:"0 0 24 24",width:s,height:s,className:"shrink-0",children:[t.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),t.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),t.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),t.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function Df({l:s,v:l,lc:r,vc:a,extra:o}){return t.jsxs("div",{className:"py-3.5 text-center",children:[t.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${r}`,children:s}),t.jsxs("p",{className:`text-lg font-bold tabular-nums mt-0.5 ${a}`,children:[l,o&&t.jsx("span",{className:"text-sm ml-1 text-emerald-400",children:o})]})]})}function Mf({n:s,alloc:l,cur:r,pl:a,ath:o,athC:u,up:d,last:m}){return t.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${m?"":"border-b border-white/[0.03]"}`,children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-300",children:s}),t.jsxs("p",{className:"text-xs text-slate-600",children:["Alloc ",l,"  ",t.jsx("span",{className:u,children:o!=="At ATH"?`${o} below ATH`:o})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-200 tabular-nums",children:r}),t.jsx("p",{className:`text-sm font-semibold tabular-nums ${d?"text-emerald-400":"text-rose-400"}`,children:a})]})]})}function ca({c:s,t:l}){const r={violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400",emerald:"text-emerald-400"};return t.jsxs("div",{className:"flex items-center gap-2.5",children:[t.jsx(Xl,{size:16,className:`${r[s]} shrink-0`}),t.jsx("span",{className:"text-sm text-slate-300",children:l})]})}function Uc({num:s,icon:l,color:r,title:a,desc:o}){const u={violet:["text-violet-400","bg-violet-500/10","border-violet-500/20","from-violet-500/20 to-violet-500/5"],emerald:["text-emerald-400","bg-emerald-500/10","border-emerald-500/20","from-emerald-500/20 to-emerald-500/5"],cyan:["text-cyan-400","bg-cyan-500/10","border-cyan-500/20","from-cyan-500/20 to-cyan-500/5"],amber:["text-amber-400","bg-amber-500/10","border-amber-500/20","from-amber-500/20 to-amber-500/5"]},[d,m,x,p]=u[r]||u.violet;return t.jsxs("div",{className:`relative rounded-2xl border ${x} bg-gradient-to-b ${p} p-6 text-center`,children:[t.jsx("span",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl ${m} ${d} mb-4`,children:l}),t.jsxs("span",{className:`absolute top-4 right-4 text-xs font-bold ${d} opacity-40`,children:["0",s]}),t.jsx("h3",{className:"text-base font-bold text-white mb-2",children:a}),t.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:o})]})}function Af({icon:s,t:l,d:r,bg:a,c:o}){const u={emerald:"text-emerald-400",violet:"text-violet-400",amber:"text-amber-400"};return t.jsxs("div",{className:`flex-1 ${a} px-5 sm:px-8 lg:px-10 py-6 sm:py-8 border-b sm:border-b-0 sm:border-r border-white/[0.04] last:border-0`,children:[t.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[t.jsx("span",{className:`${u[o]} shrink-0`,children:s}),l]}),t.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:r})]})}const Hb={violet:["text-violet-400","bg-violet-500/8","border-violet-500/10"],blue:["text-blue-400","bg-blue-500/8","border-blue-500/10"],emerald:["text-emerald-400","bg-emerald-500/8","border-emerald-500/10"],cyan:["text-cyan-400","bg-cyan-500/8","border-cyan-500/10"],rose:["text-rose-400","bg-rose-500/8","border-rose-500/10"],orange:["text-orange-400","bg-orange-500/8","border-orange-500/10"],teal:["text-teal-400","bg-teal-500/8","border-teal-500/10"],red:["text-red-400","bg-red-500/8","border-red-500/10"],yellow:["text-yellow-400","bg-yellow-500/8","border-yellow-500/10"],pink:["text-pink-400","bg-pink-500/8","border-pink-500/10"]};function Jr({icon:s,c:l,t:r,d:a}){const[o,u,d]=Hb[l]||Hb.violet;return t.jsxs("div",{className:`rounded-xl border ${d} ${u} p-5`,children:[t.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[t.jsx("span",{className:`${o} shrink-0`,children:s}),r]}),t.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:a})]})}function Q3(){const{isAuthenticated:s,loading:l}=Ys();return l?t.jsx(_u,{}):s?t.jsx(xu,{to:"/investments/mutual-funds",replace:!0}):t.jsx(E1,{})}function K3(){const s=on();return t.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-violet-500/15 rounded-2xl flex items-center justify-center mb-4",children:t.jsx(p5,{size:32,className:"text-violet-400"})}),t.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)] mb-2",children:"Coming Soon"}),t.jsx("p",{className:"text-[var(--text-muted)] text-sm max-w-sm",children:"This page is under construction. Navigate using the sidebar to explore available sections."}),t.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-3 font-mono",children:s.pathname})]})}const X3=["Savings Account","Current Account","Fixed Deposit (FD)","Recurring Deposit (RD)","NRE Account","NRO Account","Minor Account"].map(s=>({value:s,label:s}));function W3({initial:s,onSave:l,onDelete:r,onCancel:a}){const{activeMembers:o}=Qe(),u=!!s,[d,m]=N.useState({accountName:s?.accountName||"",memberId:s?.memberId||"",bankName:s?.bankName||"",accountNumber:s?.accountNumber||"",ifscCode:s?.ifscCode||"",branchName:s?.branchName||"",accountType:s?.accountType||"",status:s?.status||"Active"}),[x,p]=N.useState({}),[v,b]=N.useState(!1);function g(y,w){m(D=>({...D,[y]:w})),p(D=>({...D,[y]:void 0}))}function j(){const y={};return d.accountName.trim()||(y.accountName="Required"),d.memberId||(y.memberId="Required"),d.bankName.trim()||(y.bankName="Required"),String(d.accountNumber||"").trim()||(y.accountNumber="Required"),d.ifscCode.trim()||(y.ifscCode="Required"),d.branchName.trim()||(y.branchName="Required"),d.accountType||(y.accountType="Required"),p(y),Object.keys(y).length===0}async function M(){if(j()){b(!0);try{await l({...d,ifscCode:d.ifscCode.toUpperCase()})}finally{b(!1)}}}const S=o.map(y=>({value:y.memberId,label:`${y.memberName} (${y.relationship})`}));return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Account Name",required:!0,error:x.accountName,children:t.jsx(we,{value:d.accountName,onChange:y=>g("accountName",y),placeholder:"e.g., HDFC Savings"})}),t.jsx(ne,{label:"Family Member",required:!0,error:x.memberId,children:t.jsx(Pe,{value:d.memberId,onChange:y=>g("memberId",y),options:S,placeholder:"Select member..."})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Bank Name",required:!0,error:x.bankName,children:t.jsx(we,{value:d.bankName,onChange:y=>g("bankName",y),placeholder:"e.g., HDFC Bank"})}),t.jsx(ne,{label:"Account Type",required:!0,error:x.accountType,children:t.jsx(Pe,{value:d.accountType,onChange:y=>g("accountType",y),options:X3,placeholder:"Select type..."})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Account Number",required:!0,error:x.accountNumber,children:t.jsx(we,{sensitive:!0,value:d.accountNumber,onChange:y=>g("accountNumber",y),placeholder:"e.g., 1234567890"})}),t.jsx(ne,{label:"IFSC Code",required:!0,error:x.ifscCode,children:t.jsx(we,{value:d.ifscCode,onChange:y=>g("ifscCode",y.toUpperCase()),placeholder:"e.g., HDFC0001234",maxLength:11})})]}),t.jsx(ne,{label:"Branch Name",required:!0,error:x.branchName,children:t.jsx(we,{value:d.branchName,onChange:y=>g("branchName",y),placeholder:"e.g., Hyderabad - Kondapur"})}),u&&t.jsx(ne,{label:"Status",children:t.jsx(Pe,{value:d.status,onChange:y=>g("status",y),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),t.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?t.jsx(wr,{onClick:r}):t.jsx("div",{}),t.jsx(va,{onCancel:a,onSubmit:M,submitLabel:u?"Update":"Add Account",loading:v})]})]})}function Sr({title:s="Loading"}){return t.jsxs("div",{className:"flex flex-col items-center justify-center py-32 gap-3",children:[t.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),t.jsxs("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:[s,"..."]})]})}const Yb={"Savings Account":"bg-blue-500/15 text-[var(--accent-blue)]",Savings:"bg-blue-500/15 text-[var(--accent-blue)]",Salary:"bg-emerald-500/15 text-emerald-400","Current Account":"bg-violet-500/15 text-[var(--accent-violet)]","Fixed Deposit":"bg-amber-500/15 text-[var(--accent-amber)]","Fixed Deposit (FD)":"bg-amber-500/15 text-[var(--accent-amber)]"};function qb(){const{selectedMember:s,member:l}=aa(),{banks:r,addBankAccount:a,updateBankAccount:o,deleteBankAccount:u}=Qe(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Hn(),p=Yn(),{mv:v}=qn(),[b,g]=N.useState(null);if(r===null)return t.jsx(Sr,{title:"Loading bank accounts",cards:3});const j=N.useMemo(()=>{const D=r.filter(k=>k.status!=="Inactive");return s==="all"?D:D.filter(k=>k.memberId===s)},[r,s]),M=N.useMemo(()=>new Set(j.map(D=>D.bankName)).size,[j]),S=N.useMemo(()=>j.filter(D=>D.accountType==="Savings"||D.accountType==="Savings Account"||D.accountType==="Salary").length,[j]);async function y(D){m("Saving...");try{b?.edit?await o(b.edit.accountId,D):await a(D),d(b?.edit?"Bank account updated":"Bank account added"),g(null)}catch(k){d(k.message||"Failed to save bank account","error")}finally{x()}}async function w(){if(b?.edit&&await p("Deactivate this bank account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){m("Deactivating...");try{await u(b.edit.accountId),d("Bank account deactivated"),g(null)}catch(D){d(D.message||"Failed to deactivate bank account","error")}finally{x()}}}return t.jsxs("div",{className:"space-y-4",children:[j.length===0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[t.jsx(Ty,{size:32,className:"text-[var(--text-dim)]"}),t.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No bank accounts",l?` for ${l.memberName}`:""]}),t.jsx("button",{onClick:()=>g("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first bank account"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsx(Tf,{label:"Total Accounts",value:j.length}),t.jsx(Tf,{label:"Banks",value:M}),t.jsx(Tf,{label:"Savings / Salary",value:S})]}),t.jsx("div",{className:"flex items-center justify-end px-1",children:t.jsxs("button",{onClick:()=>g("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(ta,{size:14})," Add Account"]})}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm min-w-[580px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Bank"}),!l&&t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account No."}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Branch"}),t.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),t.jsx("tbody",{children:j.map(D=>t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[t.jsx("td",{className:"py-2.5 px-4",children:t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:D.accountName})}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:D.bankName}),!l&&t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:v(D.memberName,"name")}),t.jsx("td",{className:"py-2.5 px-3",children:t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Yb[D.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.accountType})}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:v(D.accountNumber,"account")}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:D.branchName}),t.jsx("td",{className:"py-2.5 px-2",children:t.jsx("button",{onClick:()=>g({edit:D}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:t.jsx(cn,{size:12})})})]},D.accountId))})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:j.map(D=>t.jsxs("div",{onClick:()=>g({edit:D}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:D.accountName}),t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Yb[D.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.accountType})]}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[D.bankName,l?"":`  ${v(D.memberName,"name")}`]}),t.jsxs("div",{className:"flex items-center justify-between mt-1",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:v(D.accountNumber,"account")}),t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:D.branchName})]})]},D.accountId))})]})]}),t.jsx(Lt,{open:!!b,onClose:()=>g(null),title:b?.edit?"Edit Bank Account":"Add Bank Account",children:t.jsx(W3,{initial:b?.edit||void 0,onSave:y,onDelete:b?.edit?w:void 0,onCancel:()=>g(null)})})]})}function Tf({label:s,value:l}){return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:l})]})}const Z3=["Demat + Trading","Mutual Fund","Trading","Direct AMC","Broker"].map(s=>({value:s,label:s}));function J3({initial:s,onSave:l,onDelete:r,onCancel:a}){const{activeMembers:o,activeBanks:u}=Qe(),d=!!s,[m,x]=N.useState({accountName:s?.accountName||"",memberId:s?.memberId||"",bankAccountId:s?.bankAccountId||"",accountType:s?.accountType||"",platformBroker:s?.platformBroker||"",accountClientId:s?.accountClientId||"",dematDpId:s?.dematDpId||"",registeredEmail:s?.registeredEmail||"",registeredPhone:s?.registeredPhone||"",status:s?.status||"Active"}),[p,v]=N.useState({}),[b,g]=N.useState(!1);function j(k,_){x(O=>({...O,[k]:_})),v(O=>({...O,[k]:void 0}))}function M(k){x(_=>({..._,memberId:k,bankAccountId:""})),v(_=>({..._,memberId:void 0}))}function S(){const k={};return m.accountName.trim()||(k.accountName="Required"),m.memberId||(k.memberId="Required"),m.bankAccountId||(k.bankAccountId="Required"),m.accountType||(k.accountType="Required"),m.platformBroker.trim()||(k.platformBroker="Required"),m.registeredEmail.trim()||(k.registeredEmail="Required"),m.registeredPhone.trim()||(k.registeredPhone="Required"),v(k),Object.keys(k).length===0}async function y(){if(S()){g(!0);try{await l(m)}finally{g(!1)}}}const w=o.map(k=>({value:k.memberId,label:`${k.memberName} (${k.relationship})`})),D=N.useMemo(()=>m.memberId?u.filter(k=>k.memberId===m.memberId).map(k=>({value:k.accountId,label:`${k.accountName} - ${k.bankName}`})):[],[u,m.memberId]);return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Account Name",required:!0,error:p.accountName,children:t.jsx(we,{value:m.accountName,onChange:k=>j("accountName",k),placeholder:"e.g., Zerodha Demat"})}),t.jsx(ne,{label:"Family Member",required:!0,error:p.memberId,children:t.jsx(Pe,{value:m.memberId,onChange:M,options:w,placeholder:"Select member..."})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Linked Bank Account",required:!0,error:p.bankAccountId,children:t.jsx(Pe,{value:m.bankAccountId,onChange:k=>j("bankAccountId",k),options:D,placeholder:m.memberId?D.length?"Select bank account...":"No bank accounts for this member":"Select member first..."})}),t.jsx(ne,{label:"Account Type",required:!0,error:p.accountType,children:t.jsx(Pe,{value:m.accountType,onChange:k=>j("accountType",k),options:Z3,placeholder:"Select type..."})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Platform / Broker",required:!0,error:p.platformBroker,children:t.jsx(we,{value:m.platformBroker,onChange:k=>j("platformBroker",k),placeholder:"e.g., Zerodha, Groww"})}),t.jsx(ne,{label:"Account / Client ID",error:p.accountClientId,children:t.jsx(we,{sensitive:!0,value:m.accountClientId,onChange:k=>j("accountClientId",k),placeholder:"e.g., ZR1234 (optional)"})})]}),t.jsx(ne,{label:"Demat DP ID",error:p.dematDpId,children:t.jsx(we,{sensitive:!0,value:m.dematDpId,onChange:k=>j("dematDpId",k),placeholder:"16-digit DP ID (optional)",maxLength:16})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Registered Email",required:!0,error:p.registeredEmail,children:t.jsx(we,{sensitive:!0,type:"email",value:m.registeredEmail,onChange:k=>j("registeredEmail",k),placeholder:"email@example.com"})}),t.jsx(ne,{label:"Registered Phone",required:!0,error:p.registeredPhone,children:t.jsx(we,{sensitive:!0,value:m.registeredPhone,onChange:k=>j("registeredPhone",k),placeholder:"9876543210"})})]}),d&&t.jsx(ne,{label:"Status",children:t.jsx(Pe,{value:m.status,onChange:k=>j("status",k),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),t.jsxs("div",{className:"flex items-center justify-between",children:[d&&r?t.jsx(wr,{onClick:r}):t.jsx("div",{}),t.jsx(va,{onCancel:a,onSubmit:y,submitLabel:d?"Update":"Add Account",loading:b})]})]})}const $b={"Demat + Trading":"bg-violet-500/15 text-[var(--accent-violet)]","Mutual Fund":"bg-blue-500/15 text-[var(--accent-blue)]",Trading:"bg-orange-500/15 text-[var(--accent-orange)]",Demat:"bg-amber-500/15 text-[var(--accent-amber)]","Direct AMC":"bg-emerald-500/15 text-emerald-400",Broker:"bg-rose-500/15 text-[var(--accent-rose)]"};function eA(){const{selectedMember:s,member:l}=aa(),{investmentAccounts:r,addInvestmentAccount:a,updateInvestmentAccount:o,deleteInvestmentAccount:u}=Qe(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Hn(),p=Yn(),{mv:v}=qn(),[b,g]=N.useState(null);if(r===null)return t.jsx(Sr,{title:"Loading investment accounts",cards:4});const j=N.useMemo(()=>{const k=r.filter(_=>_.status!=="Inactive");return s==="all"?k:k.filter(_=>_.memberId===s)},[r,s]),M=N.useMemo(()=>new Set(j.map(k=>k.platformBroker)).size,[j]),S=j.filter(k=>k.accountType==="Demat + Trading"||k.accountType==="Demat"||k.accountType==="Trading").length,y=j.filter(k=>k.accountType==="Mutual Fund"||k.accountType==="Direct AMC").length;async function w(k){m("Saving...");try{b?.edit?await o(b.edit.accountId,k):await a(k),d(b?.edit?"Investment account updated":"Investment account added"),g(null)}catch(_){d(_.message||"Failed to save investment account","error")}finally{x()}}async function D(){if(b?.edit&&await p("Deactivate this investment account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){m("Deactivating...");try{await u(b.edit.accountId),d("Investment account deactivated"),g(null)}catch(k){d(k.message||"Failed to deactivate investment account","error")}finally{x()}}}return t.jsxs("div",{className:"space-y-4",children:[j.length===0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[t.jsx(wy,{size:32,className:"text-[var(--text-dim)]"}),t.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No investment accounts",l?` for ${l.memberName}`:""]}),t.jsx("button",{onClick:()=>g("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first investment account"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[t.jsx(Vc,{label:"Total Accounts",value:j.length}),t.jsx(Vc,{label:"Platforms",value:M}),t.jsx(Vc,{label:"Demat / Trading",value:S}),t.jsx(Vc,{label:"Mutual Fund",value:y})]}),t.jsx("div",{className:"flex items-center justify-end px-1",children:t.jsxs("button",{onClick:()=>g("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(ta,{size:14})," Add Account"]})}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm min-w-[620px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Platform"}),!l&&t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Client ID"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Bank"}),t.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),t.jsx("tbody",{children:j.map(k=>t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[t.jsx("td",{className:"py-2.5 px-4",children:t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:k.accountName})}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:k.platformBroker}),!l&&t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:v(k.memberName,"name")}),t.jsx("td",{className:"py-2.5 px-3",children:t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${$b[k.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:k.accountType})}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:v(k.accountClientId,"clientId")}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:k.bankAccountName}),t.jsx("td",{className:"py-2.5 px-2",children:t.jsx("button",{onClick:()=>g({edit:k}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:t.jsx(cn,{size:12})})})]},k.accountId))})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:j.map(k=>t.jsxs("div",{onClick:()=>g({edit:k}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:k.accountName}),t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${$b[k.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:k.accountType})]}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[k.platformBroker,l?"":`  ${v(k.memberName,"name")}`]}),t.jsxs("div",{className:"flex items-center justify-between mt-1",children:[t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Client: ",v(k.accountClientId,"clientId")]}),t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:k.bankAccountName})]})]},k.accountId))})]})]}),t.jsx(Lt,{open:!!b,onClose:()=>g(null),title:b?.edit?"Edit Investment Account":"Add Investment Account",wide:!0,children:t.jsx(J3,{initial:b?.edit||void 0,onSave:w,onDelete:b?.edit?D:void 0,onCancel:()=>g(null)})})]})}function Vc({label:s,value:l}){return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:l})]})}const tA=["Term Life","Health","Motor","Home Insurance","Travel","Personal Accident","Life Insurance","Others"].map(s=>({value:s,label:s})),aA=[{value:"Active",label:"Active"},{value:"Expired",label:"Expired"},{value:"Surrendered",label:"Surrendered"},{value:"Lapsed",label:"Lapsed"},{value:"Inactive",label:"Inactive"}];function nA({initial:s,onSave:l,onDelete:r,onCancel:a}){const{activeMembers:o}=Qe(),u=!!s,[d,m]=N.useState({policyType:s?.policyType||"",company:s?.company||"",policyNumber:s?.policyNumber||"",policyName:s?.policyName||"",insuredMember:s?.insuredMember||"",memberId:s?.memberId||"",sumAssured:s?.sumAssured||"",nominee:s?.nominee||"",premium:s?.premium||"",premiumFrequency:s?.premiumFrequency||"Annual",status:s?.status||"Active",notes:s?.notes||""}),[x,p]=N.useState({}),[v,b]=N.useState(!1);function g(w,D){m(k=>({...k,[w]:D})),p(k=>({...k,[w]:void 0}))}function j(w){const D=o.find(k=>k.memberId===w);m(k=>({...k,memberId:w,insuredMember:D?.memberName||""})),p(k=>({...k,memberId:void 0}))}function M(){const w={};return d.policyType||(w.policyType="Required"),d.company.trim()||(w.company="Required"),d.policyNumber.trim()||(w.policyNumber="Required"),d.policyName.trim()||(w.policyName="Required"),d.memberId||(w.memberId="Required"),(!d.sumAssured||Number(d.sumAssured)<=0)&&(w.sumAssured="Must be > 0"),p(w),Object.keys(w).length===0}async function S(){if(M()){b(!0);try{await l({...d,sumAssured:Number(d.sumAssured),premium:Number(d.premium)||0})}finally{b(!1)}}}const y=o.map(w=>({value:w.memberId,label:`${w.memberName} (${w.relationship})`}));return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Policy Type",required:!0,error:x.policyType,children:t.jsx(Pe,{value:d.policyType,onChange:w=>g("policyType",w),options:tA,placeholder:"Select type..."})}),t.jsx(ne,{label:"Insurance Company",required:!0,error:x.company,children:t.jsx(we,{value:d.company,onChange:w=>g("company",w),placeholder:"e.g., HDFC Life"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Policy Number",required:!0,error:x.policyNumber,children:t.jsx(we,{sensitive:!0,value:d.policyNumber,onChange:w=>g("policyNumber",w),placeholder:"e.g., HL-2024-78901"})}),t.jsx(ne,{label:"Policy Name",required:!0,error:x.policyName,children:t.jsx(we,{value:d.policyName,onChange:w=>g("policyName",w),placeholder:"e.g., Click 2 Protect Life"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Insured Member",required:!0,error:x.memberId,children:t.jsx(Pe,{value:d.memberId,onChange:j,options:y,placeholder:"Select member..."})}),t.jsx(ne,{label:"Nominee",children:t.jsx(Pe,{value:d.nominee,onChange:w=>g("nominee",w),options:y.map(w=>({...w,label:w.label.split(" (")[0]})),placeholder:"Select nominee (optional)..."})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[t.jsx(ne,{label:"Sum Assured ()",required:!0,error:x.sumAssured,children:t.jsx(we,{type:"number",value:d.sumAssured,onChange:w=>g("sumAssured",w),placeholder:"e.g., 10000000"})}),t.jsx(ne,{label:"Premium ()",children:t.jsx(we,{type:"number",value:d.premium,onChange:w=>g("premium",w),placeholder:"e.g., 12500"})}),t.jsx(ne,{label:"Premium Frequency",children:t.jsx(Pe,{value:d.premiumFrequency,onChange:w=>g("premiumFrequency",w),options:[{value:"Annual",label:"Annual"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"}]})})]}),u&&t.jsx(ne,{label:"Status",children:t.jsx(Pe,{value:d.status,onChange:w=>g("status",w),options:aA})}),t.jsx(ne,{label:"Notes",children:t.jsx(Ul,{value:d.notes,onChange:w=>g("notes",w),placeholder:"Additional information..."})}),t.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?t.jsx(wr,{onClick:r}):t.jsx("div",{}),t.jsx(va,{onCancel:a,onSubmit:S,submitLabel:u?"Update":"Add Policy",loading:v})]})]})}const Ub={"Term Life":"bg-rose-500/15 text-[var(--accent-rose)]",Health:"bg-emerald-500/15 text-emerald-400",Motor:"bg-blue-500/15 text-[var(--accent-blue)]","Home Insurance":"bg-amber-500/15 text-[var(--accent-amber)]",Travel:"bg-violet-500/15 text-[var(--accent-violet)]","Life Insurance":"bg-rose-500/15 text-[var(--accent-rose)]","Personal Accident":"bg-orange-500/15 text-[var(--accent-orange)]"};function rA(){const{selectedMember:s,member:l}=aa(),{insurancePolicies:r,addInsurance:a,updateInsurance:o,deleteInsurance:u}=Qe(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Hn(),p=Yn(),{mv:v}=qn(),[b,g]=N.useState(null);if(r===null)return t.jsx(Sr,{title:"Loading insurance",cards:5});const j=N.useMemo(()=>{const _=r.filter(O=>O.status!=="Inactive");return s==="all"?_:_.filter(O=>O.memberId===s)},[r,s]),M=j.reduce((_,O)=>_+(O.sumAssured||0),0),S=j.reduce((_,O)=>_+(O.premium||0),0),y=j.filter(_=>_.policyType==="Term Life"||_.policyType==="Life Insurance").reduce((_,O)=>_+(O.sumAssured||0),0),w=j.filter(_=>_.policyType==="Health").reduce((_,O)=>_+(O.sumAssured||0),0);async function D(_){m("Saving...");try{b?.edit?await o(b.edit.policyId,_):await a(_),d(b?.edit?"Insurance policy updated":"Insurance policy added"),g(null)}catch(O){d(O.message||"Failed to save insurance policy","error")}finally{x()}}async function k(){if(b?.edit&&await p("Deactivate this insurance policy?",{title:"Deactivate Policy",confirmLabel:"Deactivate"})){m("Deactivating...");try{await u(b.edit.policyId),d("Insurance policy deactivated"),g(null)}catch(_){d(_.message||"Failed to deactivate insurance policy","error")}finally{x()}}}return t.jsxs("div",{className:"space-y-4",children:[j.length===0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[t.jsx(ro,{size:32,className:"text-[var(--text-dim)]"}),t.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No insurance policies",l?` for ${l.memberName}`:""]}),t.jsx("button",{onClick:()=>g("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first policy"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[t.jsx(Xi,{label:"Policies",value:j.length}),t.jsx(Xi,{label:"Total Cover",value:G(M),bold:!0}),t.jsx(Xi,{label:"Life Cover",value:G(y)}),t.jsx(Xi,{label:"Health Cover",value:G(w)}),t.jsx(Xi,{label:"Annual Premium",value:G(S)})]}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[t.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-3",children:"Coverage Adequacy"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsx(Vb,{label:"Life Insurance",current:y,recommended:"10-15x annual income",tip:"Term life cover should be 10-15x your annual income to protect dependents",icon:"heart"}),t.jsx(Vb,{label:"Health Insurance",current:w,recommended:"50L - 1Cr family floater",tip:"Considering medical inflation, a 50L-1Cr family floater is recommended",icon:"shield"})]})]}),t.jsx("div",{className:"flex items-center justify-end px-1",children:t.jsxs("button",{onClick:()=>g("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(ta,{size:14})," Add Policy"]})}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Policy"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Company"}),!l&&t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Insured"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Sum Assured"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Premium"}),t.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),t.jsx("tbody",{children:j.map(_=>t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[t.jsxs("td",{className:"py-2.5 px-4",children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:_.policyName}),t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:v(_.policyNumber,"policy")})]}),t.jsx("td",{className:"py-2.5 px-3",children:t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Ub[_.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:_.policyType})}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:_.company}),!l&&t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:_.insuredMember}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(_.sumAssured)}),t.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:[G(_.premium),"/",_.premiumFrequency==="Annual"?"yr":"mo"]}),t.jsx("td",{className:"py-2.5 px-2",children:t.jsx("button",{onClick:()=>g({edit:_}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:t.jsx(cn,{size:12})})})]},_.policyId))})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:j.map(_=>t.jsxs("div",{onClick:()=>g({edit:_}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:_.policyName}),t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${Ub[_.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:_.policyType})]}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[_.company,l?"":`  ${_.insuredMember}`]}),t.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Cover"}),t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(_.sumAssured)})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Premium"}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[G(_.premium),"/",_.premiumFrequency==="Annual"?"yr":"mo"]})]})]})]},_.policyId))})]})]}),t.jsx(Lt,{open:!!b,onClose:()=>g(null),title:b?.edit?"Edit Insurance Policy":"Add Insurance Policy",wide:!0,children:t.jsx(nA,{initial:b?.edit||void 0,onSave:D,onDelete:b?.edit?k:void 0,onCancel:()=>g(null)})})]})}function Vb({label:s,current:l,recommended:r,tip:a}){const o=l===0;return t.jsxs("div",{className:`rounded-lg border px-3 py-2.5 ${o?"border-rose-500/30 bg-rose-500/5":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:s}),o?t.jsx("span",{className:"text-xs font-bold text-[var(--accent-rose)]",children:"Not covered"}):t.jsx("span",{className:"text-xs font-semibold text-emerald-400",children:G(l)})]}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Recommended: ",r]}),t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5 italic",children:a})]})}function Xi({label:s,value:l,bold:r}){return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:`text-sm tabular-nums ${r?"font-bold":"font-semibold"} text-[var(--text-primary)]`,children:l})]})}const sA=["Home Loan","Car Loan","Personal Loan","Education Loan","Gold Loan","Credit Card","Business Loan","Loan Against Property","Other"].map(s=>({value:s,label:s})),lA=[{value:"Active",label:"Active"},{value:"Closed",label:"Closed"},{value:"Inactive",label:"Inactive"}];function iA({initial:s,onSave:l,onDelete:r,onCancel:a}){const{activeMembers:o}=Qe(),u=!!s,[d,m]=N.useState({liabilityType:s?.liabilityType||"",lenderName:s?.lenderName||"",familyMemberId:s?.familyMemberId||"",outstandingBalance:s?.outstandingBalance||"",emiAmount:s?.emiAmount||"",interestRate:s?.interestRate||"",status:s?.status||"Active",notes:s?.notes||""}),[x,p]=N.useState({}),[v,b]=N.useState(!1);function g(y,w){m(D=>({...D,[y]:w})),p(D=>({...D,[y]:void 0}))}function j(){const y={};return d.liabilityType||(y.liabilityType="Required"),d.lenderName.trim()||(y.lenderName="Required"),(!d.outstandingBalance||Number(d.outstandingBalance)<=0)&&(y.outstandingBalance="Must be > 0"),p(y),Object.keys(y).length===0}async function M(){if(j()){b(!0);try{await l({...d,outstandingBalance:Number(d.outstandingBalance),emiAmount:Number(d.emiAmount)||0,interestRate:Number(d.interestRate)||0})}finally{b(!1)}}}const S=o.map(y=>({value:y.memberId,label:`${y.memberName} (${y.relationship})`}));return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Liability Type",required:!0,error:x.liabilityType,children:t.jsx(Pe,{value:d.liabilityType,onChange:y=>g("liabilityType",y),options:sA,placeholder:"Select type..."})}),t.jsx(ne,{label:"Lender / Bank",required:!0,error:x.lenderName,children:t.jsx(we,{value:d.lenderName,onChange:y=>g("lenderName",y),placeholder:"e.g., HDFC Bank"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Family Member",children:t.jsx(Pe,{value:d.familyMemberId,onChange:y=>g("familyMemberId",y),options:S,placeholder:"Select member (optional)..."})}),t.jsx(ne,{label:"Outstanding Balance ()",required:!0,error:x.outstandingBalance,children:t.jsx(we,{type:"number",value:d.outstandingBalance,onChange:y=>g("outstandingBalance",y),placeholder:"e.g., 3500000"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"EMI Amount ()",children:t.jsx(we,{type:"number",value:d.emiAmount,onChange:y=>g("emiAmount",y),placeholder:"e.g., 32000"})}),t.jsx(ne,{label:"Interest Rate (%)",children:t.jsx(we,{type:"number",value:d.interestRate,onChange:y=>g("interestRate",y),placeholder:"e.g., 8.5",step:"0.01"})})]}),u&&t.jsx(ne,{label:"Status",children:t.jsx(Pe,{value:d.status,onChange:y=>g("status",y),options:lA})}),t.jsx(ne,{label:"Notes",children:t.jsx(Ul,{value:d.notes,onChange:y=>g("notes",y),placeholder:"e.g., Flat in Kondapur"})}),t.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?t.jsx(wr,{onClick:r}):t.jsx("div",{}),t.jsx(va,{onCancel:a,onSubmit:M,submitLabel:u?"Update":"Add Liability",loading:v})]})]})}const Gb={"Home Loan":"bg-blue-500/15 text-[var(--accent-blue)]","Car Loan":"bg-amber-500/15 text-[var(--accent-amber)]","Gold Loan":"bg-orange-500/15 text-[var(--accent-orange)]","Personal Loan":"bg-violet-500/15 text-[var(--accent-violet)]","Education Loan":"bg-emerald-500/15 text-emerald-400","Credit Card":"bg-rose-500/15 text-[var(--accent-rose)]"};function oA(){const{selectedMember:s,member:l}=aa(),{liabilityList:r,addLiability:a,updateLiability:o,deleteLiability:u}=Qe(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Hn(),p=Yn(),[v,b]=N.useState(null);if(r===null)return t.jsx(Sr,{title:"Loading liabilities",cards:4});const g=N.useMemo(()=>{const D=r.filter(k=>k.status!=="Inactive");return s==="all"?D:D.filter(k=>k.familyMemberId===s)},[r,s]),j=g.reduce((D,k)=>D+(k.outstandingBalance||0),0),M=g.reduce((D,k)=>D+(k.emiAmount||0),0),S=g.filter(D=>D.status==="Active").length;async function y(D){m("Saving...");try{v?.edit?await o(v.edit.liabilityId,D):await a(D),d(v?.edit?"Liability updated":"Liability added"),b(null)}catch(k){d(k.message||"Failed to save liability","error")}finally{x()}}async function w(){if(v?.edit&&await p("Deactivate this liability?",{title:"Deactivate Liability",confirmLabel:"Deactivate"})){m("Deactivating...");try{await u(v.edit.liabilityId),d("Liability deactivated"),b(null)}catch(D){d(D.message||"Failed to deactivate liability","error")}finally{x()}}}return t.jsxs("div",{className:"space-y-4",children:[g.length===0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[t.jsx(lo,{size:32,className:"text-[var(--text-dim)]"}),t.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No liabilities",l?` for ${l.memberName}`:""]}),t.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a liability"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[t.jsx(Gc,{label:"Liabilities",value:`${S} active`}),t.jsx(Gc,{label:"Outstanding",value:G(j),color:"rose",bold:!0}),t.jsx(Gc,{label:"Monthly EMI",value:G(M),color:"rose"}),t.jsx(Gc,{label:"Avg. Interest",value:g.length>0?`${(g.reduce((D,k)=>D+(k.interestRate||0),0)/g.length).toFixed(1)}%`:""})]}),t.jsx("div",{className:"flex items-center justify-end px-1",children:t.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(ta,{size:14})," Add Liability"]})}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Lender"}),!l&&t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Outstanding"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"EMI"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Interest"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Remaining"}),t.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),t.jsx("tbody",{children:g.map(D=>t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[t.jsxs("td",{className:"py-2.5 px-4",children:[t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Gb[D.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.liabilityType}),D.notes&&t.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:D.notes})]}),t.jsx("td",{className:"py-2.5 px-3 text-sm font-medium text-[var(--text-primary)]",children:D.lenderName}),!l&&t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:D.familyMemberName}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:G(D.outstandingBalance)}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:D.emiAmount?`${G(D.emiAmount)}/mo`:""}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:D.interestRate?`${D.interestRate}%`:""}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:D.emiAmount>0&&D.outstandingBalance>0?`${Math.ceil(D.outstandingBalance/D.emiAmount)} mo`:""}),t.jsx("td",{className:"py-2.5 px-2",children:t.jsx("button",{onClick:()=>b({edit:D}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:t.jsx(cn,{size:12})})})]},D.liabilityId))})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(D=>t.jsxs("div",{onClick:()=>b({edit:D}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Gb[D.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.liabilityType}),t.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:G(D.outstandingBalance)})]}),t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:D.lenderName}),t.jsxs("div",{className:"flex items-center justify-between mt-1",children:[t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[D.familyMemberName,D.notes?`  ${D.notes}`:""]}),t.jsxs("div",{className:"text-right",children:[D.emiAmount>0&&t.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["EMI: ",G(D.emiAmount),"/mo"]}),D.emiAmount>0&&D.outstandingBalance>0&&t.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[Math.ceil(D.outstandingBalance/D.emiAmount)," months left"]})]})]})]},D.liabilityId))})]})]}),t.jsx(Lt,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Liability":"Add Liability",children:t.jsx(iA,{initial:v?.edit||void 0,onSave:y,onDelete:v?.edit?w:void 0,onCancel:()=>b(null)})})]})}function Gc({label:s,value:l,color:r,bold:a}){const o=r==="rose"?"text-[var(--accent-rose)]":"text-[var(--text-primary)]";return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${o}`,children:l})]})}const cA="cf_market_data",_1=[{value:"Fixed Deposit",category:"Debt"},{value:"PPF",category:"Debt"},{value:"EPF",category:"Debt"},{value:"NPS",category:"Debt"},{value:"Sovereign Gold Bond",category:"Gold"},{value:"Physical Gold",category:"Gold"},{value:"Digital Gold",category:"Gold"},{value:"Real Estate",category:"Property"},{value:"Bonds",category:"Debt"},{value:"Physical Silver",category:"Silver"},{value:"Digital Silver",category:"Silver"},{value:"Crypto",category:"Alternative"},{value:"Other",category:"Other"}],Qb={"Real Estate":"Home Loan","Physical Gold":"Gold Loan","Sovereign Gold Bond":"Gold Loan","Fixed Deposit":"Loan Against FD"},uA=_1.map(s=>({value:s.value,label:s.value})),dA=["Equity","Debt","Gold","Silver","Property","Alternative","Other"].map(s=>({value:s,label:s})),mA=[{value:"Active",label:"Active"},{value:"Sold",label:"Sold"},{value:"Matured",label:"Matured"},{value:"Inactive",label:"Inactive"}],Kb=[{value:"24K",label:"24K (99.9%)",factor:.999},{value:"22K",label:"22K (91.6%)",factor:.916},{value:"18K",label:"18K (75.0%)",factor:.75}],Xb=[{value:"999",label:"999 Fine (99.9%)",factor:.999},{value:"925",label:"925 Sterling (92.5%)",factor:.925}];function fu(s){return["Physical Gold","Digital Gold","Sovereign Gold Bond"].includes(s)}function fA(s){return["Physical Silver","Digital Silver"].includes(s)||s&&s.toLowerCase().includes("silver")}function Ef(s){return fu(s)||fA(s)}function pA(s){try{const l=sessionStorage.getItem(cA);if(!l)return null;const r=JSON.parse(l);if(!r.metals)return null;const a=s==="gold"?"Gold":"Silver",o=r.metals.find(u=>u.name.toLowerCase().includes(a.toLowerCase()));return o?o.price:null}catch{return null}}function xA({initial:s,onSave:l,onDelete:r,onCancel:a}){const{activeMembers:o,liabilityList:u}=Qe(),d=!!s;function m(L){return _1.find(le=>le.value===L)?.category||"Other"}const x=s?.dynamicFields?typeof s.dynamicFields=="string"?JSON.parse(s.dynamicFields):s.dynamicFields:{},[p,v]=N.useState({investmentType:s?.investmentType||"",investmentCategory:s?.investmentCategory||"",investmentName:s?.investmentName||"",familyMemberId:s?.familyMemberId||"",investedAmount:s?.investedAmount||"",currentValue:s?.currentValue||"",linkedLiabilityId:s?.linkedLiabilityId||"",status:s?.status||"Active",notes:s?.notes||""}),[b,g]=N.useState(x.weightGrams||""),[j,M]=N.useState(x.purity||""),[S,y]=N.useState(null),[w,D]=N.useState(!1),[k,_]=N.useState({lenderName:"",outstandingBalance:"",emiAmount:"",interestRate:""});N.useEffect(()=>{if(!Ef(p.investmentType)||!b||Number(b)<=0){y(null);return}const L=fu(p.investmentType)?"gold":"silver",le=pA(L);if(!le){y(null);return}const z=(L==="gold"?Kb:Xb).find(me=>me.value===j),te=z?z.factor:1;y(Math.round(Number(b)*le*te))},[p.investmentType,b,j]);const[O,Y]=N.useState({}),[P,T]=N.useState(!1);function R(L,le){v(ve=>({...ve,[L]:le})),Y(ve=>({...ve,[L]:void 0}))}function I(L){v(le=>({...le,investmentType:L,investmentCategory:m(L)})),Y(le=>({...le,investmentType:void 0}))}function q(L,le){_(ve=>({...ve,[L]:le}))}function A(){const L={};return p.investmentType||(L.investmentType="Required"),p.investmentName.trim()||(L.investmentName="Required"),(!p.currentValue||Number(p.currentValue)<0)&&(L.currentValue="Required"),w&&(k.lenderName.trim()||(L.qlLender="Required"),(!k.outstandingBalance||Number(k.outstandingBalance)<=0)&&(L.qlOutstanding="Must be > 0")),Y(L),Object.keys(L).length===0}async function ee(){if(!A())return;const L={...p,investedAmount:Number(p.investedAmount)||0,currentValue:Number(p.currentValue)||0};Ef(p.investmentType)&&(L.dynamicFields=JSON.stringify({weightGrams:Number(b)||0,purity:j||""})),w&&k.lenderName&&(L.quickLoan={liabilityType:Qb[p.investmentType]||"Personal Loan",lenderName:k.lenderName,outstandingBalance:Number(k.outstandingBalance)||0,emiAmount:Number(k.emiAmount)||0,interestRate:Number(k.interestRate)||0}),T(!0);try{await l(L)}finally{T(!1)}}const se=u.filter(L=>L.status!=="Inactive"),Q=[{value:"",label:"None"},...se.map(L=>({value:L.liabilityId,label:`${L.liabilityType}  ${L.lenderName} (${G(L.outstandingBalance)})`}))],B=o.map(L=>({value:L.memberId,label:`${L.memberName} (${L.relationship})`})),K=Qb[p.investmentType];return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Investment Type",required:!0,error:O.investmentType,children:t.jsx(Pe,{value:p.investmentType,onChange:I,options:uA,placeholder:"Select type..."})}),t.jsx(ne,{label:"Category",children:t.jsx(Pe,{value:p.investmentCategory,onChange:L=>R("investmentCategory",L),options:dA,placeholder:"Auto-selected..."})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Investment Name",required:!0,error:O.investmentName,children:t.jsx(we,{value:p.investmentName,onChange:L=>R("investmentName",L),placeholder:"e.g., HDFC FD - 7.5%"})}),t.jsx(ne,{label:"Family Member",children:t.jsx(Pe,{value:p.familyMemberId,onChange:L=>R("familyMemberId",L),options:B,placeholder:"Select member (optional)..."})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Invested Amount",children:t.jsx(we,{type:"number",value:p.investedAmount,onChange:L=>R("investedAmount",L),placeholder:"e.g., 500000"})}),t.jsx(ne,{label:"Current Value",required:!0,error:O.currentValue,children:t.jsx(we,{type:"number",value:p.currentValue,onChange:L=>R("currentValue",L),placeholder:"e.g., 537500"})})]}),Ef(p.investmentType)&&t.jsxs("div",{className:"p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[t.jsxs("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:[fu(p.investmentType)?"Gold":"Silver"," Details"]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsx(ne,{label:"Weight (grams)",children:t.jsx(we,{type:"number",value:b,onChange:g,placeholder:"e.g., 50"})}),t.jsx(ne,{label:"Purity",children:t.jsx(Pe,{value:j,onChange:M,options:(fu(p.investmentType)?Kb:Xb).map(L=>({value:L.value,label:L.label})),placeholder:"Select purity..."})})]}),S!==null&&t.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-card)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Estimated market value"}),t.jsx("p",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:G(S)})]}),t.jsx("button",{type:"button",onClick:()=>R("currentValue",String(S)),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 px-3 py-1.5 rounded-lg bg-violet-500/10 border border-violet-500/20 transition-colors",children:"Use this value"})]})]}),t.jsxs("div",{className:"border-t border-[var(--border-light)] pt-4",children:[t.jsx(ne,{label:"Linked Loan / Liability",children:t.jsx(Pe,{value:p.linkedLiabilityId,onChange:L=>{R("linkedLiabilityId",L),L&&D(!1)},options:Q})}),!p.linkedLiabilityId&&!d&&t.jsx("div",{className:"mt-2",children:t.jsx("button",{type:"button",onClick:()=>D(!w),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:w?" Cancel quick loan":`+ Create new loan${K?` (${K})`:""}`})}),w&&t.jsxs("div",{className:"mt-3 p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:"Quick Loan"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsx(ne,{label:"Lender",required:!0,error:O.qlLender,children:t.jsx(we,{value:k.lenderName,onChange:L=>q("lenderName",L),placeholder:"e.g., HDFC Bank"})}),t.jsx(ne,{label:"Outstanding Balance",required:!0,error:O.qlOutstanding,children:t.jsx(we,{type:"number",value:k.outstandingBalance,onChange:L=>q("outstandingBalance",L),placeholder:"e.g., 3500000"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsx(ne,{label:"EMI (monthly)",children:t.jsx(we,{type:"number",value:k.emiAmount,onChange:L=>q("emiAmount",L),placeholder:"e.g., 32000"})}),t.jsx(ne,{label:"Interest Rate %",children:t.jsx(we,{type:"number",value:k.interestRate,onChange:L=>q("interestRate",L),placeholder:"e.g., 8.5"})})]})]})]}),d&&t.jsx(ne,{label:"Status",children:t.jsx(Pe,{value:p.status,onChange:L=>R("status",L),options:mA})}),t.jsx(ne,{label:"Notes",children:t.jsx(Ul,{value:p.notes,onChange:L=>R("notes",L),placeholder:"Additional information..."})}),t.jsxs("div",{className:"flex items-center justify-between",children:[d&&r?t.jsx(wr,{onClick:r}):t.jsx("div",{}),t.jsx(va,{onCancel:a,onSubmit:ee,submitLabel:d?"Update":"Add Investment",loading:P})]})]})}const Wb={Debt:"bg-blue-500/15 text-[var(--accent-blue)]",Gold:"bg-amber-500/15 text-[var(--accent-amber)]",Property:"bg-orange-500/15 text-[var(--accent-orange)]",Equity:"bg-emerald-500/15 text-emerald-400",Alternative:"bg-violet-500/15 text-[var(--accent-violet)]"};function hA(){const{selectedMember:s,member:l}=aa(),{otherInvList:r,liabilityList:a,addOtherInvestment:o,updateOtherInvestment:u,deleteOtherInvestment:d}=Qe(),{showToast:m,showBlockUI:x,hideBlockUI:p}=Hn(),v=Yn(),[b,g]=N.useState(null);if(r===null)return t.jsx(Sr,{title:"Loading investments",cards:5});const j=N.useMemo(()=>{const P=r.filter(T=>T.status!=="Inactive");return s==="all"?P:P.filter(T=>T.familyMemberId===s)},[r,s]),M=j.reduce((P,T)=>P+(T.investedAmount||0),0),S=j.reduce((P,T)=>P+(T.currentValue||0),0),y=S-M,w=y>=0,D=M>0?y/M*100:0,k=N.useMemo(()=>{const P={};return a.forEach(T=>{P[T.liabilityId]=T}),P},[a]),_=j.reduce((P,T)=>{const R=T.linkedLiabilityId?k[T.linkedLiabilityId]:null;return P+(R?.outstandingBalance||0)},0);async function O(P){x("Saving...");try{b?.edit?await u(b.edit.investmentId,P):await o(P),m(b?.edit?"Investment updated":"Investment added"),g(null)}catch(T){m(T.message||"Failed to save investment","error")}finally{p()}}async function Y(){if(b?.edit&&await v("Deactivate this investment?",{title:"Deactivate Investment",confirmLabel:"Deactivate"})){x("Deactivating...");try{await d(b.edit.investmentId),m("Investment deactivated"),g(null)}catch(P){m(P.message||"Failed to deactivate investment","error")}finally{p()}}}return t.jsxs("div",{className:"space-y-4",children:[j.length===0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[t.jsx(Iy,{size:32,className:"text-[var(--text-dim)]"}),t.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No other investments",l?` for ${l.memberName}`:""]}),t.jsx("button",{onClick:()=>g("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add an investment"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[t.jsx(Wi,{label:"Invested",value:G(M)}),t.jsx(Wi,{label:"Current Value",value:G(S),bold:!0}),t.jsx(Wi,{label:"P&L",value:`${w?"+":""}${G(Math.abs(y))}`,sub:`${w?"+":""}${D.toFixed(1)}%`,positive:w,bold:!0}),_>0&&t.jsx(Wi,{label:"Linked Loans",value:G(_),color:"rose"}),t.jsx(Wi,{label:"Holdings",value:j.length})]}),t.jsx("div",{className:"flex items-center justify-end px-1",children:t.jsxs("button",{onClick:()=>g("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(ta,{size:14})," Add Investment"]})}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm min-w-[720px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Investment"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Category"}),!l&&t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Loan"}),t.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),t.jsx("tbody",{children:j.map(P=>{const T=(P.currentValue||0)-(P.investedAmount||0),R=T>=0,I=P.linkedLiabilityId?k[P.linkedLiabilityId]:null;return t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[t.jsxs("td",{className:"py-2.5 px-4",children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:P.investmentName}),t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:P.investmentType})]}),t.jsx("td",{className:"py-2.5 px-3",children:t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Wb[P.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:P.investmentCategory})}),!l&&t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:P.familyMemberName}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:G(P.investedAmount)}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(P.currentValue)}),t.jsx("td",{className:"py-2.5 px-3 text-right",children:t.jsxs("span",{className:`text-xs font-semibold tabular-nums ${R?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[R?"+":"",G(T)]})}),t.jsx("td",{className:"py-2.5 px-3 text-right",children:I?t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:G(I.outstandingBalance)}),t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:I.liabilityType})]}):t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),t.jsx("td",{className:"py-2.5 px-2",children:t.jsx("button",{onClick:()=>g({edit:P}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:t.jsx(cn,{size:12})})})]},P.investmentId)})})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:j.map(P=>{const T=(P.currentValue||0)-(P.investedAmount||0),R=T>=0,I=P.linkedLiabilityId?k[P.linkedLiabilityId]:null;return t.jsxs("div",{onClick:()=>g({edit:P}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:P.investmentName}),t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${Wb[P.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:P.investmentCategory})]}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[P.familyMemberName,"  ",P.investmentType]}),t.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Invested"}),t.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:G(P.investedAmount)})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Current"}),t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(P.currentValue)})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"P&L"}),t.jsxs("p",{className:`text-xs font-semibold tabular-nums ${R?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[R?"+":"",G(T)]})]})]}),I&&t.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-rose-500/5 rounded px-2 py-1",children:[t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:I.liabilityType}),t.jsx("span",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:G(I.outstandingBalance)})]})]},P.investmentId)})})]})]}),t.jsx(Lt,{open:!!b,onClose:()=>g(null),title:b?.edit?"Edit Investment":"Add Investment",wide:!0,children:t.jsx(xA,{initial:b?.edit||void 0,onSave:O,onDelete:b?.edit?Y:void 0,onCancel:()=>g(null)})})]})}function Wi({label:s,value:l,sub:r,positive:a,bold:o,color:u}){const d=u==="rose"?"text-[var(--accent-rose)]":a===void 0?"text-[var(--text-primary)]":a?"text-emerald-400":"text-[var(--accent-rose)]";return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${d}`,children:l}),r&&t.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${a?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function vA({initial:s,onSave:l,onDelete:r,onCancel:a}){const{activeMembers:o,activeInvestmentAccounts:u}=Qe(),d=!!s,[m,x]=N.useState({portfolioName:(s?.portfolioName||"").replace(/^PFL-/,""),investmentAccountId:s?.investmentAccountId||"",ownerId:s?.ownerId||"",initialInvestment:s?.initialInvestment||0,sipTarget:s?.sipTarget||"",lumpsumTarget:s?.lumpsumTarget||"",rebalanceThreshold:s?s.rebalanceThreshold*100:5}),[p,v]=N.useState({}),[b,g]=N.useState(!1),[j,M]=N.useState(!1);function S(O,Y){x(P=>({...P,[O]:Y})),v(P=>({...P,[O]:void 0}))}function y(O){x(Y=>({...Y,ownerId:O,investmentAccountId:""})),v(Y=>({...Y,ownerId:void 0}))}const w=u.filter(O=>m.ownerId?O.memberId===m.ownerId:!0).map(O=>({value:O.accountId,label:`${O.accountName} - ${O.platformBroker}`})),D=o.map(O=>({value:O.memberId,label:`${O.memberName} (${O.relationship})`}));function k(){const O={};return m.portfolioName.trim()||(O.portfolioName="Required"),m.ownerId||(O.ownerId="Required"),m.investmentAccountId||(O.investmentAccountId="Required"),v(O),Object.keys(O).length===0}async function _(){if(k()){g(!0);try{const O=u.find(P=>P.accountId===m.investmentAccountId),Y=O?`${O.accountName} - ${O.platformBroker}`:m.investmentAccountId;await l({...m,investmentAccount:Y,initialInvestment:Number(m.initialInvestment)||0,sipTarget:Number(m.sipTarget)||0,lumpsumTarget:Number(m.lumpsumTarget)||0,rebalanceThreshold:Number(m.rebalanceThreshold)})}finally{g(!1)}}}return t.jsxs("div",{className:"space-y-5",children:[t.jsx(ne,{label:"Portfolio Name",required:!0,error:p.portfolioName,children:t.jsx(we,{value:m.portfolioName,onChange:O=>S("portfolioName",O),placeholder:"e.g., Long Term Wealth"})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Owner",required:!0,error:p.ownerId,children:t.jsx(Pe,{value:m.ownerId,onChange:y,options:D,placeholder:"Select member..."})}),t.jsx(ne,{label:"Investment Account",required:!0,error:p.investmentAccountId,children:t.jsx(Pe,{value:m.investmentAccountId,onChange:O=>S("investmentAccountId",O),options:w,placeholder:m.ownerId?w.length?"Select account...":"No MF accounts":"Select owner first..."})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(ne,{label:"SIP Target (/month)",children:t.jsx(we,{type:"number",value:m.sipTarget,onChange:O=>S("sipTarget",O),placeholder:"e.g., 50000"})}),t.jsx(ne,{label:"Lumpsum Target ()",children:t.jsx(we,{type:"number",value:m.lumpsumTarget,onChange:O=>S("lumpsumTarget",O),placeholder:"e.g., 200000"})})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:"text-xs font-semibold text-[var(--text-muted)] whitespace-nowrap",children:"Rebalance Threshold"}),t.jsx("div",{className:"w-20 shrink-0",children:t.jsx("input",{type:"number",value:m.rebalanceThreshold,onChange:O=>S("rebalanceThreshold",O.target.value),placeholder:"5",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"})]}),!d&&t.jsx(ne,{label:"Initial Investment ()",children:t.jsx(we,{type:"number",value:m.initialInvestment,onChange:O=>S("initialInvestment",O),placeholder:"0 if unknown"})}),d&&r&&j&&t.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 bg-rose-500/10 border border-rose-500/20 rounded-lg",children:[t.jsx(zs,{size:15,className:"text-rose-400 shrink-0"}),t.jsx("p",{className:"text-xs text-rose-300/90 flex-1",children:"This will deactivate the portfolio and hide it from views. Are you sure?"}),t.jsxs("div",{className:"flex gap-2 shrink-0",children:[t.jsx("button",{onClick:()=>M(!1),className:"px-2.5 py-1 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded transition-colors",children:"No"}),t.jsx("button",{onClick:r,className:"px-2.5 py-1 text-xs font-semibold text-white bg-rose-600 hover:bg-rose-500 rounded transition-colors",children:"Yes, Deactivate"})]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-4 mt-4 border-t border-[var(--border-light)]",children:[d&&r?t.jsxs("button",{onClick:()=>M(!0),disabled:b,className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-amber-400 border border-amber-500/30 hover:bg-amber-500/15 hover:border-amber-500/50 rounded-lg transition-colors disabled:opacity-40",children:[t.jsx(zs,{size:13}),"Deactivate"]}):t.jsx("div",{}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:a,disabled:b,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),t.jsxs("button",{onClick:_,disabled:b,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[b&&t.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),b?"Saving...":d?"Update":"Create Portfolio"]})]})]})]})}function Nr(s){return Array.isArray?Array.isArray(s):I1(s)==="[object Array]"}function bA(s){if(typeof s=="string")return s;let l=s+"";return l=="0"&&1/s==-1/0?"-0":l}function gA(s){return s==null?"":bA(s)}function In(s){return typeof s=="string"}function O1(s){return typeof s=="number"}function yA(s){return s===!0||s===!1||NA(s)&&I1(s)=="[object Boolean]"}function R1(s){return typeof s=="object"}function NA(s){return R1(s)&&s!==null}function qa(s){return s!=null}function _f(s){return!s.trim().length}function I1(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const jA="Incorrect 'index' type",wA=s=>`Invalid value for key ${s}`,SA=s=>`Pattern length exceeds max of ${s}.`,CA=s=>`Missing ${s} property in key`,kA=s=>`Property 'weight' in key '${s}' must be a positive integer`,Zb=Object.prototype.hasOwnProperty;class DA{constructor(l){this._keys=[],this._keyMap={};let r=0;l.forEach(a=>{let o=L1(a);this._keys.push(o),this._keyMap[o.id]=o,r+=o.weight}),this._keys.forEach(a=>{a.weight/=r})}get(l){return this._keyMap[l]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function L1(s){let l=null,r=null,a=null,o=1,u=null;if(In(s)||Nr(s))a=s,l=Jb(s),r=Gf(s);else{if(!Zb.call(s,"name"))throw new Error(CA("name"));const d=s.name;if(a=d,Zb.call(s,"weight")&&(o=s.weight,o<=0))throw new Error(kA(d));l=Jb(d),r=Gf(d),u=s.getFn}return{path:l,id:r,weight:o,src:a,getFn:u}}function Jb(s){return Nr(s)?s:s.split(".")}function Gf(s){return Nr(s)?s.join("."):s}function MA(s,l){let r=[],a=!1;const o=(u,d,m)=>{if(qa(u))if(!d[m])r.push(u);else{let x=d[m];const p=u[x];if(!qa(p))return;if(m===d.length-1&&(In(p)||O1(p)||yA(p)))r.push(gA(p));else if(Nr(p)){a=!0;for(let v=0,b=p.length;v<b;v+=1)o(p[v],d,m+1)}else d.length&&o(p,d,m+1)}};return o(s,In(l)?l.split("."):l,0),a?r:r[0]}const AA={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},TA={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,l)=>s.score===l.score?s.idx<l.idx?-1:1:s.score<l.score?-1:1},EA={location:0,threshold:.6,distance:100},_A={useExtendedSearch:!1,getFn:MA,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Le={...TA,...AA,...EA,..._A};const OA=/[^ ]+/g;function RA(s=1,l=3){const r=new Map,a=Math.pow(10,l);return{get(o){const u=o.match(OA).length;if(r.has(u))return r.get(u);const d=1/Math.pow(u,.5*s),m=parseFloat(Math.round(d*a)/a);return r.set(u,m),m},clear(){r.clear()}}}class Ap{constructor({getFn:l=Le.getFn,fieldNormWeight:r=Le.fieldNormWeight}={}){this.norm=RA(r,3),this.getFn=l,this.isCreated=!1,this.setIndexRecords()}setSources(l=[]){this.docs=l}setIndexRecords(l=[]){this.records=l}setKeys(l=[]){this.keys=l,this._keysMap={},l.forEach((r,a)=>{this._keysMap[r.id]=a})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,In(this.docs[0])?this.docs.forEach((l,r)=>{this._addString(l,r)}):this.docs.forEach((l,r)=>{this._addObject(l,r)}),this.norm.clear())}add(l){const r=this.size();In(l)?this._addString(l,r):this._addObject(l,r)}removeAt(l){this.records.splice(l,1);for(let r=l,a=this.size();r<a;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(l,r){return l[this._keysMap[r]]}size(){return this.records.length}_addString(l,r){if(!qa(l)||_f(l))return;let a={v:l,i:r,n:this.norm.get(l)};this.records.push(a)}_addObject(l,r){let a={i:r,$:{}};this.keys.forEach((o,u)=>{let d=o.getFn?o.getFn(l):this.getFn(l,o.path);if(qa(d)){if(Nr(d)){let m=[];const x=[{nestedArrIndex:-1,value:d}];for(;x.length;){const{nestedArrIndex:p,value:v}=x.pop();if(qa(v))if(In(v)&&!_f(v)){let b={v,i:p,n:this.norm.get(v)};m.push(b)}else Nr(v)&&v.forEach((b,g)=>{x.push({nestedArrIndex:g,value:b})})}a.$[u]=m}else if(In(d)&&!_f(d)){let m={v:d,n:this.norm.get(d)};a.$[u]=m}}}),this.records.push(a)}toJSON(){return{keys:this.keys,records:this.records}}}function P1(s,l,{getFn:r=Le.getFn,fieldNormWeight:a=Le.fieldNormWeight}={}){const o=new Ap({getFn:r,fieldNormWeight:a});return o.setKeys(s.map(L1)),o.setSources(l),o.create(),o}function IA(s,{getFn:l=Le.getFn,fieldNormWeight:r=Le.fieldNormWeight}={}){const{keys:a,records:o}=s,u=new Ap({getFn:l,fieldNormWeight:r});return u.setKeys(a),u.setIndexRecords(o),u}function Qc(s,{errors:l=0,currentLocation:r=0,expectedLocation:a=0,distance:o=Le.distance,ignoreLocation:u=Le.ignoreLocation}={}){const d=l/s.length;if(u)return d;const m=Math.abs(a-r);return o?d+m/o:m?1:d}function LA(s=[],l=Le.minMatchCharLength){let r=[],a=-1,o=-1,u=0;for(let d=s.length;u<d;u+=1){let m=s[u];m&&a===-1?a=u:!m&&a!==-1&&(o=u-1,o-a+1>=l&&r.push([a,o]),a=-1)}return s[u-1]&&u-a>=l&&r.push([a,u-1]),r}const _s=32;function PA(s,l,r,{location:a=Le.location,distance:o=Le.distance,threshold:u=Le.threshold,findAllMatches:d=Le.findAllMatches,minMatchCharLength:m=Le.minMatchCharLength,includeMatches:x=Le.includeMatches,ignoreLocation:p=Le.ignoreLocation}={}){if(l.length>_s)throw new Error(SA(_s));const v=l.length,b=s.length,g=Math.max(0,Math.min(a,b));let j=u,M=g;const S=m>1||x,y=S?Array(b):[];let w;for(;(w=s.indexOf(l,M))>-1;){let P=Qc(l,{currentLocation:w,expectedLocation:g,distance:o,ignoreLocation:p});if(j=Math.min(P,j),M=w+v,S){let T=0;for(;T<v;)y[w+T]=1,T+=1}}M=-1;let D=[],k=1,_=v+b;const O=1<<v-1;for(let P=0;P<v;P+=1){let T=0,R=_;for(;T<R;)Qc(l,{errors:P,currentLocation:g+R,expectedLocation:g,distance:o,ignoreLocation:p})<=j?T=R:_=R,R=Math.floor((_-T)/2+T);_=R;let I=Math.max(1,g-R+1),q=d?b:Math.min(g+R,b)+v,A=Array(q+2);A[q+1]=(1<<P)-1;for(let se=q;se>=I;se-=1){let Q=se-1,B=r[s.charAt(Q)];if(S&&(y[Q]=+!!B),A[se]=(A[se+1]<<1|1)&B,P&&(A[se]|=(D[se+1]|D[se])<<1|1|D[se+1]),A[se]&O&&(k=Qc(l,{errors:P,currentLocation:Q,expectedLocation:g,distance:o,ignoreLocation:p}),k<=j)){if(j=k,M=Q,M<=g)break;I=Math.max(1,2*g-M)}}if(Qc(l,{errors:P+1,currentLocation:g,expectedLocation:g,distance:o,ignoreLocation:p})>j)break;D=A}const Y={isMatch:M>=0,score:Math.max(.001,k)};if(S){const P=LA(y,m);P.length?x&&(Y.indices=P):Y.isMatch=!1}return Y}function zA(s){let l={};for(let r=0,a=s.length;r<a;r+=1){const o=s.charAt(r);l[o]=(l[o]||0)|1<<a-r-1}return l}const Ou=String.prototype.normalize?(s=>s.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(s=>s);class z1{constructor(l,{location:r=Le.location,threshold:a=Le.threshold,distance:o=Le.distance,includeMatches:u=Le.includeMatches,findAllMatches:d=Le.findAllMatches,minMatchCharLength:m=Le.minMatchCharLength,isCaseSensitive:x=Le.isCaseSensitive,ignoreDiacritics:p=Le.ignoreDiacritics,ignoreLocation:v=Le.ignoreLocation}={}){if(this.options={location:r,threshold:a,distance:o,includeMatches:u,findAllMatches:d,minMatchCharLength:m,isCaseSensitive:x,ignoreDiacritics:p,ignoreLocation:v},l=x?l:l.toLowerCase(),l=p?Ou(l):l,this.pattern=l,this.chunks=[],!this.pattern.length)return;const b=(j,M)=>{this.chunks.push({pattern:j,alphabet:zA(j),startIndex:M})},g=this.pattern.length;if(g>_s){let j=0;const M=g%_s,S=g-M;for(;j<S;)b(this.pattern.substr(j,_s),j),j+=_s;if(M){const y=g-_s;b(this.pattern.substr(y),y)}}else b(this.pattern,0)}searchIn(l){const{isCaseSensitive:r,ignoreDiacritics:a,includeMatches:o}=this.options;if(l=r?l:l.toLowerCase(),l=a?Ou(l):l,this.pattern===l){let S={isMatch:!0,score:0};return o&&(S.indices=[[0,l.length-1]]),S}const{location:u,distance:d,threshold:m,findAllMatches:x,minMatchCharLength:p,ignoreLocation:v}=this.options;let b=[],g=0,j=!1;this.chunks.forEach(({pattern:S,alphabet:y,startIndex:w})=>{const{isMatch:D,score:k,indices:_}=PA(l,S,y,{location:u+w,distance:d,threshold:m,findAllMatches:x,minMatchCharLength:p,includeMatches:o,ignoreLocation:v});D&&(j=!0),g+=k,D&&_&&(b=[...b,..._])});let M={isMatch:j,score:j?g/this.chunks.length:1};return j&&o&&(M.indices=b),M}}class ss{constructor(l){this.pattern=l}static isMultiMatch(l){return eg(l,this.multiRegex)}static isSingleMatch(l){return eg(l,this.singleRegex)}search(){}}function eg(s,l){const r=s.match(l);return r?r[1]:null}class FA extends ss{constructor(l){super(l)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(l){const r=l===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class BA extends ss{constructor(l){super(l)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(l){const a=l.indexOf(this.pattern)===-1;return{isMatch:a,score:a?0:1,indices:[0,l.length-1]}}}class HA extends ss{constructor(l){super(l)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(l){const r=l.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class YA extends ss{constructor(l){super(l)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(l){const r=!l.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,l.length-1]}}}class qA extends ss{constructor(l){super(l)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(l){const r=l.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[l.length-this.pattern.length,l.length-1]}}}class $A extends ss{constructor(l){super(l)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(l){const r=!l.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,l.length-1]}}}class F1 extends ss{constructor(l,{location:r=Le.location,threshold:a=Le.threshold,distance:o=Le.distance,includeMatches:u=Le.includeMatches,findAllMatches:d=Le.findAllMatches,minMatchCharLength:m=Le.minMatchCharLength,isCaseSensitive:x=Le.isCaseSensitive,ignoreDiacritics:p=Le.ignoreDiacritics,ignoreLocation:v=Le.ignoreLocation}={}){super(l),this._bitapSearch=new z1(l,{location:r,threshold:a,distance:o,includeMatches:u,findAllMatches:d,minMatchCharLength:m,isCaseSensitive:x,ignoreDiacritics:p,ignoreLocation:v})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(l){return this._bitapSearch.searchIn(l)}}class B1 extends ss{constructor(l){super(l)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(l){let r=0,a;const o=[],u=this.pattern.length;for(;(a=l.indexOf(this.pattern,r))>-1;)r=a+u,o.push([a,r-1]);const d=!!o.length;return{isMatch:d,score:d?0:1,indices:o}}}const Qf=[FA,B1,HA,YA,$A,qA,BA,F1],tg=Qf.length,UA=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,VA="|";function GA(s,l={}){return s.split(VA).map(r=>{let a=r.trim().split(UA).filter(u=>u&&!!u.trim()),o=[];for(let u=0,d=a.length;u<d;u+=1){const m=a[u];let x=!1,p=-1;for(;!x&&++p<tg;){const v=Qf[p];let b=v.isMultiMatch(m);b&&(o.push(new v(b,l)),x=!0)}if(!x)for(p=-1;++p<tg;){const v=Qf[p];let b=v.isSingleMatch(m);if(b){o.push(new v(b,l));break}}}return o})}const QA=new Set([F1.type,B1.type]);class KA{constructor(l,{isCaseSensitive:r=Le.isCaseSensitive,ignoreDiacritics:a=Le.ignoreDiacritics,includeMatches:o=Le.includeMatches,minMatchCharLength:u=Le.minMatchCharLength,ignoreLocation:d=Le.ignoreLocation,findAllMatches:m=Le.findAllMatches,location:x=Le.location,threshold:p=Le.threshold,distance:v=Le.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:a,includeMatches:o,minMatchCharLength:u,findAllMatches:m,ignoreLocation:d,location:x,threshold:p,distance:v},l=r?l:l.toLowerCase(),l=a?Ou(l):l,this.pattern=l,this.query=GA(this.pattern,this.options)}static condition(l,r){return r.useExtendedSearch}searchIn(l){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:a,isCaseSensitive:o,ignoreDiacritics:u}=this.options;l=o?l:l.toLowerCase(),l=u?Ou(l):l;let d=0,m=[],x=0;for(let p=0,v=r.length;p<v;p+=1){const b=r[p];m.length=0,d=0;for(let g=0,j=b.length;g<j;g+=1){const M=b[g],{isMatch:S,indices:y,score:w}=M.search(l);if(S){if(d+=1,x+=w,a){const D=M.constructor.type;QA.has(D)?m=[...m,...y]:m.push(y)}}else{x=0,d=0,m.length=0;break}}if(d){let g={isMatch:!0,score:x/d};return a&&(g.indices=m),g}}return{isMatch:!1,score:1}}}const Kf=[];function XA(...s){Kf.push(...s)}function Xf(s,l){for(let r=0,a=Kf.length;r<a;r+=1){let o=Kf[r];if(o.condition(s,l))return new o(s,l)}return new z1(s,l)}const Ru={AND:"$and",OR:"$or"},Wf={PATH:"$path",PATTERN:"$val"},Zf=s=>!!(s[Ru.AND]||s[Ru.OR]),WA=s=>!!s[Wf.PATH],ZA=s=>!Nr(s)&&R1(s)&&!Zf(s),ag=s=>({[Ru.AND]:Object.keys(s).map(l=>({[l]:s[l]}))});function H1(s,l,{auto:r=!0}={}){const a=o=>{let u=Object.keys(o);const d=WA(o);if(!d&&u.length>1&&!Zf(o))return a(ag(o));if(ZA(o)){const x=d?o[Wf.PATH]:u[0],p=d?o[Wf.PATTERN]:o[x];if(!In(p))throw new Error(wA(x));const v={keyId:Gf(x),pattern:p};return r&&(v.searcher=Xf(p,l)),v}let m={children:[],operator:u[0]};return u.forEach(x=>{const p=o[x];Nr(p)&&p.forEach(v=>{m.children.push(a(v))})}),m};return Zf(s)||(s=ag(s)),a(s)}function JA(s,{ignoreFieldNorm:l=Le.ignoreFieldNorm}){s.forEach(r=>{let a=1;r.matches.forEach(({key:o,norm:u,score:d})=>{const m=o?o.weight:null;a*=Math.pow(d===0&&m?Number.EPSILON:d,(m||1)*(l?1:u))}),r.score=a})}function eT(s,l){const r=s.matches;l.matches=[],qa(r)&&r.forEach(a=>{if(!qa(a.indices)||!a.indices.length)return;const{indices:o,value:u}=a;let d={indices:o,value:u};a.key&&(d.key=a.key.src),a.idx>-1&&(d.refIndex=a.idx),l.matches.push(d)})}function tT(s,l){l.score=s.score}function aT(s,l,{includeMatches:r=Le.includeMatches,includeScore:a=Le.includeScore}={}){const o=[];return r&&o.push(eT),a&&o.push(tT),s.map(u=>{const{idx:d}=u,m={item:l[d],refIndex:d};return o.length&&o.forEach(x=>{x(u,m)}),m})}class Zl{constructor(l,r={},a){this.options={...Le,...r},this.options.useExtendedSearch,this._keyStore=new DA(this.options.keys),this.setCollection(l,a)}setCollection(l,r){if(this._docs=l,r&&!(r instanceof Ap))throw new Error(jA);this._myIndex=r||P1(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(l){qa(l)&&(this._docs.push(l),this._myIndex.add(l))}remove(l=()=>!1){const r=[];for(let a=0,o=this._docs.length;a<o;a+=1){const u=this._docs[a];l(u,a)&&(this.removeAt(a),a-=1,o-=1,r.push(u))}return r}removeAt(l){this._docs.splice(l,1),this._myIndex.removeAt(l)}getIndex(){return this._myIndex}search(l,{limit:r=-1}={}){const{includeMatches:a,includeScore:o,shouldSort:u,sortFn:d,ignoreFieldNorm:m}=this.options;let x=In(l)?In(this._docs[0])?this._searchStringList(l):this._searchObjectList(l):this._searchLogical(l);return JA(x,{ignoreFieldNorm:m}),u&&x.sort(d),O1(r)&&r>-1&&(x=x.slice(0,r)),aT(x,this._docs,{includeMatches:a,includeScore:o})}_searchStringList(l){const r=Xf(l,this.options),{records:a}=this._myIndex,o=[];return a.forEach(({v:u,i:d,n:m})=>{if(!qa(u))return;const{isMatch:x,score:p,indices:v}=r.searchIn(u);x&&o.push({item:u,idx:d,matches:[{score:p,value:u,norm:m,indices:v}]})}),o}_searchLogical(l){const r=H1(l,this.options),a=(m,x,p)=>{if(!m.children){const{keyId:b,searcher:g}=m,j=this._findMatches({key:this._keyStore.get(b),value:this._myIndex.getValueForItemAtKeyId(x,b),searcher:g});return j&&j.length?[{idx:p,item:x,matches:j}]:[]}const v=[];for(let b=0,g=m.children.length;b<g;b+=1){const j=m.children[b],M=a(j,x,p);if(M.length)v.push(...M);else if(m.operator===Ru.AND)return[]}return v},o=this._myIndex.records,u={},d=[];return o.forEach(({$:m,i:x})=>{if(qa(m)){let p=a(r,m,x);p.length&&(u[x]||(u[x]={idx:x,item:m,matches:[]},d.push(u[x])),p.forEach(({matches:v})=>{u[x].matches.push(...v)}))}}),d}_searchObjectList(l){const r=Xf(l,this.options),{keys:a,records:o}=this._myIndex,u=[];return o.forEach(({$:d,i:m})=>{if(!qa(d))return;let x=[];a.forEach((p,v)=>{x.push(...this._findMatches({key:p,value:d[v],searcher:r}))}),x.length&&u.push({idx:m,item:d,matches:x})}),u}_findMatches({key:l,value:r,searcher:a}){if(!qa(r))return[];let o=[];if(Nr(r))r.forEach(({v:u,i:d,n:m})=>{if(!qa(u))return;const{isMatch:x,score:p,indices:v}=a.searchIn(u);x&&o.push({score:p,key:l,value:u,idx:d,norm:m,indices:v})});else{const{v:u,n:d}=r,{isMatch:m,score:x,indices:p}=a.searchIn(u);m&&o.push({score:x,key:l,value:u,norm:d,indices:p})}return o}}Zl.version="7.1.0";Zl.createIndex=P1;Zl.parseIndex=IA;Zl.config=Le;Zl.parseQuery=H1;XA(KA);let hn=null,Zi=null;function nT(s){if(!s)return!1;const l=new Date(s),r=new Date;return l.getFullYear()===r.getFullYear()&&l.getMonth()===r.getMonth()&&l.getDate()===r.getDate()}function rT(){return hn?Promise.resolve(hn):Zi||(Zi=wS("fundsList").then(s=>s&&Array.isArray(s.data)&&nT(s.updatedAt)?(hn=s.data,hn):Z2().then(l=>(hn=Array.isArray(l)?l:[],Aa("fundsList",hn),hn))).catch(()=>(Zi=null,[])),Zi)}function Tp({value:s,onSelect:l,placeholder:r,disabled:a}){const[o,u]=N.useState(""),[d,m]=N.useState(hn||[]),[x,p]=N.useState(!hn),[v,b]=N.useState(!1),g=N.useRef(null);N.useEffect(()=>{if(hn){m(hn),p(!1);return}rT().then(D=>{m(D),p(!1)})},[]),N.useEffect(()=>{function D(k){g.current&&!g.current.contains(k.target)&&b(!1)}return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const j=N.useMemo(()=>d.length?new Zl(d,{keys:["fundName"],threshold:.3,distance:50,minMatchCharLength:2,includeScore:!0,ignoreLocation:!1,findAllMatches:!0}):null,[d]),M=N.useMemo(()=>!j||o.length<2?[]:j.search(o).slice(0,50).map(D=>D.item),[j,o]);function S(D){u(D),b(D.length>=2)}function y(D){l({schemeCode:D.fundCode||D.schemeCode,fundName:D.fundName,nav:D.nav,navDate:D.navDate}),u(""),b(!1)}function w(){l({schemeCode:"",fundName:"",nav:0,navDate:""}),u("")}return s?.fundName?t.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate",children:s.fundName}),t.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s.schemeCode}),s.nav>0&&t.jsxs("span",{className:"text-xs font-medium text-emerald-400",children:["NAV: ",s.nav.toFixed(2),s.navDate?` (${s.navDate})`:""]})]})]}),t.jsx("button",{type:"button",onClick:w,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:t.jsx(po,{size:14})})]}):t.jsxs("div",{ref:g,className:"relative",children:[t.jsxs("div",{className:"relative",children:[x?t.jsx(_y,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400 animate-spin"}):t.jsx(Py,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),t.jsx("input",{type:"text",value:o,onChange:D=>S(D.target.value),onFocus:()=>o.length>=2&&b(!0),placeholder:x?"Loading funds...":r||"Search fund name...",disabled:a||x,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),v&&M.length>0&&t.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:M.map(D=>t.jsxs("button",{type:"button",onClick:()=>y(D),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[t.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:D.fundName}),t.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:D.fundCode||D.schemeCode}),D.nav>0&&t.jsxs("span",{className:"text-xs text-emerald-400 tabular-nums",children:["NAV: ",D.nav.toFixed(2),D.navDate?` (${D.navDate})`:""]})]})]},D.fundCode||D.schemeCode))}),v&&o.length>=2&&M.length===0&&!x&&t.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No funds found for "',o,'"']})})]})}const sT=[{value:"INITIAL",label:"Add Existing Holdings"},{value:"SIP",label:"SIP Investment"},{value:"LUMPSUM",label:"Lumpsum Investment"}];function lT({portfolioId:s,fundCode:l,fundName:r,transactionType:a,onSave:o,onCancel:u}){const{mfPortfolios:d,mfHoldings:m}=Qe(),{selectedMember:x}=aa(),p=N.useMemo(()=>{const A=d.filter(ee=>ee.status==="Active");return x==="all"?A:A.filter(ee=>ee.ownerId===x)},[d,x]),[v,b]=N.useState({portfolioId:s||"",fundCode:l||"",fundName:r||"",nav:0,navDate:"",transactionType:a||"SIP",date:new Date().toISOString().split("T")[0],units:"",price:"",notes:""}),[g,j]=N.useState({}),[M,S]=N.useState(!1),[y,w]=N.useState(!l);function D(A,ee){b(se=>({...se,[A]:ee})),j(se=>({...se,[A]:void 0}))}function k({schemeCode:A,fundName:ee,nav:se,navDate:Q}){b(B=>({...B,fundCode:A,fundName:ee,nav:se||0,navDate:Q||"",price:se>0?String(se):B.price})),j(B=>({...B,fundCode:void 0,fundName:void 0})),w(!1)}function _(A){b(ee=>({...ee,fundCode:A.schemeCode,fundName:A.fundName,nav:A.currentNav||0,navDate:"",price:A.currentNav>0?String(A.currentNav):ee.price})),j(ee=>({...ee,fundCode:void 0})),w(!1)}const O=N.useMemo(()=>v.portfolioId?m.filter(A=>A.portfolioId===v.portfolioId).sort((A,ee)=>ee.currentValue-A.currentValue):[],[m,v.portfolioId]),Y=N.useMemo(()=>!v.portfolioId||!v.fundCode?null:m.find(A=>A.portfolioId===v.portfolioId&&A.schemeCode===v.fundCode),[m,v.portfolioId,v.fundCode]),P=v.fundCode&&!Y,T=N.useMemo(()=>(Number(v.units)||0)*(Number(v.price)||0),[v.units,v.price]);function R(){const A={};return v.portfolioId||(A.portfolioId="Required"),v.fundCode||(A.fundCode="Select a fund"),v.date||(A.date="Required"),(!v.units||Number(v.units)<=0)&&(A.units="Must be > 0"),(!v.price||Number(v.price)<=0)&&(A.price="Must be > 0"),j(A),Object.keys(A).length===0}async function I(){if(R()){S(!0);try{await o({portfolioId:v.portfolioId,fundCode:v.fundCode,fundName:v.fundName,transactionType:v.transactionType,purchaseDate:v.date,units:v.units,avgPrice:v.price,notes:v.notes})}finally{S(!1)}}}const q=p.map(A=>{const ee=A.portfolioName?.replace(/^PFL-/,"")||A.portfolioName,se=A.ownerName?`${ee} (${A.ownerName})`:ee;return{value:A.portfolioId,label:se}});return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Portfolio",required:!0,error:g.portfolioId,children:t.jsx(Pe,{value:v.portfolioId,onChange:A=>{D("portfolioId",A),l||(D("fundCode",""),D("fundName",""),w(!1))},options:q,placeholder:"Select portfolio..."})}),t.jsx(ne,{label:"Transaction Type",required:!0,children:t.jsx(Pe,{value:v.transactionType,onChange:A=>D("transactionType",A),options:sT})})]}),t.jsx(ne,{label:"Fund",required:!0,error:g.fundCode,children:v.fundCode&&!y?t.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:v.fundName}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[v.fundCode,v.nav>0&&t.jsxs("span",{className:"ml-2 text-emerald-400",children:["NAV: ",v.nav.toFixed(2)]})]})]}),t.jsx("button",{type:"button",onClick:()=>{D("fundCode",""),D("fundName",""),w(!0)},className:"text-xs text-[var(--text-muted)] hover:text-[var(--text-primary)] underline shrink-0",children:"Change"})]}):t.jsxs("div",{className:"space-y-3",children:[O.length>0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5",children:"Portfolio Funds"}),t.jsx("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] overflow-hidden max-h-44 overflow-y-auto",children:O.map(A=>t.jsxs("button",{type:"button",onClick:()=>_(A),className:"w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-[var(--bg-hover)] border-b border-[var(--border-light)] last:border-b-0 transition-colors group",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate group-hover:text-white transition-colors",children:A.fundName}),t.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:A.units>0?`${A.units.toFixed(0)} units  ${G(A.currentValue)}`:"Planned"})]}),t.jsx(Ln,{size:12,className:"text-[var(--text-dim)] -rotate-90 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity"})]},A.holdingId))})]}),t.jsxs("div",{children:[O.length>0&&t.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5 flex items-center gap-1",children:[t.jsx(Py,{size:10})," Or search new fund"]}),t.jsx(Tp,{value:null,onSelect:k,placeholder:"Search fund by name or code..."})]})]})}),Y&&t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  will average out"}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",t.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:Y.units.toFixed(2)})," units @ ",Y.avgNav.toFixed(2)," avg NAV | Value: ",G(Y.currentValue),Y.targetAllocationPct>0&&t.jsxs("span",{children:["  Target: ",Y.targetAllocationPct.toFixed(1),"%"]})]})]}),P&&t.jsxs("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:[t.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"}),t.jsx("p",{className:"text-xs text-violet-300/70 mt-0.5",children:"Use Allocations to plan how much to invest before buying"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[t.jsx(ne,{label:"Date",required:!0,error:g.date,children:t.jsx(Fn,{value:v.date,onChange:A=>D("date",A)})}),t.jsx(ne,{label:"Units",required:!0,error:g.units,children:t.jsx(we,{type:"number",value:v.units,onChange:A=>D("units",A),placeholder:"e.g., 150.50"})}),t.jsx(ne,{label:"NAV ()",required:!0,error:g.price,children:t.jsx(we,{type:"number",value:v.price,onChange:A=>D("price",A),placeholder:"e.g., 178.45"})})]}),T>0&&t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:G(T)}),Y&&t.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:["New avg NAV: ",((Y.investment+T)/(Y.units+Number(v.units))).toFixed(2)," Total units: ",(Y.units+Number(v.units)).toFixed(2)]})]}),t.jsx(ne,{label:"Notes",children:t.jsx(we,{value:v.notes,onChange:A=>D("notes",A),placeholder:"Optional notes..."})}),t.jsx(va,{onCancel:u,onSubmit:I,submitLabel:v.transactionType==="SIP"?"Record SIP":v.transactionType==="LUMPSUM"?"Record Lumpsum":"Add Holdings",loading:M})]})}function iT({portfolioId:s,fundCode:l,onSave:r,onCancel:a}){const{mfPortfolios:o,mfHoldings:u}=Qe(),{selectedMember:d}=aa(),m=N.useMemo(()=>{const I=o.filter(q=>q.status==="Active");return d==="all"?I:I.filter(q=>q.ownerId===d)},[o,d]),x=N.useMemo(()=>!s||!l?null:u.find(I=>I.portfolioId===s&&I.schemeCode===l),[u,s,l]),[p,v]=N.useState({portfolioId:s||"",fundCode:l||"",fundName:x?.fundName||"",date:new Date().toISOString().split("T")[0],units:"",price:x?.currentNav>0?String(x.currentNav):"",notes:""}),[b,g]=N.useState({}),[j,M]=N.useState(!1);function S(I,q){v(A=>({...A,[I]:q})),g(A=>({...A,[I]:void 0}))}const y=N.useMemo(()=>p.portfolioId?u.filter(I=>I.portfolioId===p.portfolioId&&I.units>0):[],[u,p.portfolioId]),w=y.find(I=>I.schemeCode===p.fundCode);function D(I){const q=y.find(A=>A.schemeCode===I);v(A=>({...A,fundCode:I,fundName:q?.fundName||"",price:q?.currentNav?.toString()||""})),g(A=>({...A,fundCode:void 0}))}function k(I){v(q=>({...q,portfolioId:I,fundCode:"",fundName:"",units:"",price:""})),g(q=>({...q,portfolioId:void 0}))}const _=N.useMemo(()=>(Number(p.units)||0)*(Number(p.price)||0),[p.units,p.price]),O=w?_-Number(p.units)*w.avgNav:0;function Y(){const I={};return p.portfolioId||(I.portfolioId="Required"),p.fundCode||(I.fundCode="Required"),p.date||(I.date="Required"),(!p.units||Number(p.units)<=0)&&(I.units="Must be > 0"),w&&Number(p.units)>w.units&&(I.units=`Max ${w.units.toFixed(2)} units`),(!p.price||Number(p.price)<=0)&&(I.price="Must be > 0"),g(I),Object.keys(I).length===0}async function P(){if(Y()){M(!0);try{await r(p)}finally{M(!1)}}}const T=m.map(I=>{const q=I.portfolioName?.replace(/^PFL-/,"")||I.portfolioName,A=I.ownerName?`${q} (${I.ownerName})`:q;return{value:I.portfolioId,label:A}}),R=y.map(I=>({value:I.schemeCode,label:`${I.fundName}  ${I.units.toFixed(0)} units  ${G(I.currentValue)}`}));return t.jsxs("div",{className:"space-y-4",children:[t.jsx(ne,{label:"Portfolio",required:!0,error:b.portfolioId,children:t.jsx(Pe,{value:p.portfolioId,onChange:k,options:T,placeholder:"Select portfolio..."})}),t.jsx(ne,{label:"Fund to Redeem",required:!0,error:b.fundCode,children:t.jsx(Pe,{value:p.fundCode,onChange:D,options:R,placeholder:p.portfolioId?y.length?"Select fund...":"No holdings":"Select portfolio first..."})}),w&&t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:w.fundName}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",t.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:w.units.toFixed(2)})," units @ ",w.avgNav.toFixed(2)," avg | Current NAV: ",w.currentNav.toFixed(2)]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[t.jsx(ne,{label:"Date",required:!0,error:b.date,children:t.jsx(Fn,{value:p.date,onChange:I=>S("date",I)})}),t.jsx(ne,{label:"Units",required:!0,error:b.units,children:t.jsx(we,{type:"number",value:p.units,onChange:I=>S("units",I),placeholder:w?`Max: ${w.units.toFixed(2)}`:""})}),t.jsx(ne,{label:"NAV ()",required:!0,error:b.price,children:t.jsx(we,{type:"number",value:p.price,onChange:I=>S("price",I),placeholder:"e.g., 178.45"})})]}),_>0&&t.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Redemption Amount"}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:G(_)})]}),w&&t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),t.jsxs("p",{className:`text-sm font-bold tabular-nums ${O>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[O>=0?"+":"",G(O)]})]})]})}),t.jsx(ne,{label:"Notes",children:t.jsx(we,{value:p.notes,onChange:I=>S("notes",I),placeholder:"Optional notes..."})}),t.jsx(va,{onCancel:a,onSubmit:P,submitLabel:"Redeem",loading:j})]})}function oT({portfolioId:s,onSave:l,onCancel:r}){const{mfPortfolios:a,mfHoldings:o}=Qe(),{selectedMember:u}=aa(),d=N.useMemo(()=>{const A=a.filter(ee=>ee.status==="Active");return u==="all"?A:A.filter(ee=>ee.ownerId===u)},[a,u]),[m,x]=N.useState({portfolioId:s||"",fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",date:new Date().toISOString().split("T")[0],units:"",fromPrice:"",toPrice:"",targetAllocation:"",notes:""}),[p,v]=N.useState({}),[b,g]=N.useState(!1);function j(A,ee){x(se=>({...se,[A]:ee})),v(se=>({...se,[A]:void 0}))}function M(A){x(ee=>({...ee,portfolioId:A,fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",units:"",fromPrice:"",toPrice:"",targetAllocation:""})),v(ee=>({...ee,portfolioId:void 0}))}const S=N.useMemo(()=>m.portfolioId?o.filter(A=>A.portfolioId===m.portfolioId&&A.units>0):[],[o,m.portfolioId]),y=S.find(A=>A.schemeCode===m.fromFundCode),w=N.useMemo(()=>!m.portfolioId||!m.toFundCode?null:o.find(A=>A.portfolioId===m.portfolioId&&A.schemeCode===m.toFundCode),[o,m.portfolioId,m.toFundCode]),D=m.toFundCode&&!w;function k(A){const ee=S.find(se=>se.schemeCode===A);x(se=>({...se,fromFundCode:A,fromFundName:ee?.fundName||"",fromPrice:ee?.currentNav?.toString()||""})),v(se=>({...se,fromFundCode:void 0}))}function _({schemeCode:A,fundName:ee}){const se=o.find(Q=>Q.portfolioId===m.portfolioId&&Q.schemeCode===A);x(Q=>({...Q,toFundCode:A,toFundName:ee,toPrice:se?.currentNav?.toString()||Q.toPrice,targetAllocation:""})),v(Q=>({...Q,toFundCode:void 0}))}const O=N.useMemo(()=>(Number(m.units)||0)*(Number(m.fromPrice)||0),[m.units,m.fromPrice]),Y=O>0&&Number(m.toPrice)>0?O/Number(m.toPrice):0,P=y?O-Number(m.units)*y.avgNav:0;function T(){const A={};return m.portfolioId||(A.portfolioId="Required"),m.fromFundCode||(A.fromFundCode="Required"),m.toFundCode||(A.toFundCode="Required"),m.fromFundCode&&m.toFundCode&&m.fromFundCode===m.toFundCode&&(A.toFundCode="Must be different from source fund"),m.date||(A.date="Required"),(!m.units||Number(m.units)<=0)&&(A.units="Must be > 0"),y&&Number(m.units)>y.units&&(A.units=`Max ${y.units.toFixed(2)} units`),(!m.fromPrice||Number(m.fromPrice)<=0)&&(A.fromPrice="Must be > 0"),(!m.toPrice||Number(m.toPrice)<=0)&&(A.toPrice="Must be > 0"),v(A),Object.keys(A).length===0}async function R(){if(T()){g(!0);try{await l(m)}finally{g(!1)}}}const I=d.map(A=>{const ee=A.portfolioName?.replace(/^PFL-/,"")||A.portfolioName,se=A.ownerName?`${ee} (${A.ownerName})`:ee;return{value:A.portfolioId,label:se}}),q=S.map(A=>({value:A.schemeCode,label:A.fundName}));return t.jsxs("div",{className:"space-y-4",children:[t.jsx(ne,{label:"Portfolio",required:!0,error:p.portfolioId,children:t.jsx(Pe,{value:m.portfolioId,onChange:M,options:I,placeholder:"Select portfolio..."})}),t.jsx(ne,{label:"Switch From (Sell)",required:!0,error:p.fromFundCode,children:t.jsx(Pe,{value:m.fromFundCode,onChange:k,options:q,placeholder:m.portfolioId?S.length?"Select fund to switch from...":"No holdings":"Select portfolio first..."})}),y&&t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:y.fundName}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",t.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:y.units.toFixed(2)})," units @ ",y.avgNav.toFixed(2)," avg | Current NAV: ",y.currentNav.toFixed(2)]})]}),t.jsx(ne,{label:"Switch To (Buy)",required:!0,error:p.toFundCode,children:t.jsx(Tp,{value:m.toFundCode?{schemeCode:m.toFundCode,fundName:m.toFundName}:null,onSelect:_,placeholder:"Search fund to switch into...",disabled:!m.portfolioId})}),w&&t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  units will be added, NAV averaged out"}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",t.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:w.units.toFixed(2)})," units @ ",w.avgNav.toFixed(2)," avg | Alloc: ",w.targetAllocationPct.toFixed(1),"%"]})]}),D&&m.toFundCode&&t.jsx("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:t.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Switch Date",required:!0,error:p.date,children:t.jsx(Fn,{value:m.date,onChange:A=>j("date",A)})}),t.jsx(ne,{label:"Units to Switch",required:!0,error:p.units,children:t.jsx(we,{type:"number",value:m.units,onChange:A=>j("units",A),placeholder:y?`Max: ${y.units.toFixed(2)}`:""})})]}),t.jsxs("div",{className:`grid grid-cols-1 ${D?"sm:grid-cols-3":"sm:grid-cols-2"} gap-4`,children:[t.jsx(ne,{label:"From Fund NAV ()",required:!0,error:p.fromPrice,children:t.jsx(we,{type:"number",value:m.fromPrice,onChange:A=>j("fromPrice",A),placeholder:"e.g., 178.45"})}),t.jsx(ne,{label:"To Fund NAV ()",required:!0,error:p.toPrice,children:t.jsx(we,{type:"number",value:m.toPrice,onChange:A=>j("toPrice",A),placeholder:"e.g., 82.10"})}),D&&t.jsx(ne,{label:"Target Allocation (%)",children:t.jsx(we,{type:"number",value:m.targetAllocation,onChange:A=>j("targetAllocation",A),placeholder:"e.g., 20"})})]}),O>0&&t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[t.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Switch Amount"}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:G(O)})]}),Y>0&&t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Units Bought"}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Y.toFixed(4)})]}),y&&t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),t.jsxs("p",{className:`text-sm font-bold tabular-nums ${P>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[P>=0?"+":"",G(P)]})]})]}),w&&Y>0&&t.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1 border-t border-[var(--border-light)] pt-1",children:["New total: ",(w.units+Y).toFixed(2)," units  New avg NAV: ",((w.investment+O)/(w.units+Y)).toFixed(2)]})]}),t.jsx(ne,{label:"Notes",children:t.jsx(we,{value:m.notes,onChange:A=>j("notes",A),placeholder:"Optional notes..."})}),t.jsx(va,{onCancel:r,onSubmit:R,submitLabel:"Switch Funds",loading:b})]})}function cT({portfolioId:s,onSave:l,onCancel:r}){const{mfHoldings:a,mfPortfolios:o}=Qe(),u=o.find(T=>T.portfolioId===s),d=N.useMemo(()=>a.filter(T=>T.portfolioId===s),[a,s]),[m,x]=N.useState(()=>d.map(T=>({schemeCode:T.schemeCode,fundName:T.fundName,units:T.units,currentValue:T.currentValue,currentAllocationPct:T.currentAllocationPct,targetAllocationPct:T.targetAllocationPct,isNew:!1}))),[p,v]=N.useState(null),[b,g]=N.useState(""),[j,M]=N.useState(""),[S,y]=N.useState(!1),w=m.reduce((T,R)=>T+R.targetAllocationPct,0),D=m.reduce((T,R)=>T+R.currentValue,0);function k(T,R){x(I=>I.map(q=>q.schemeCode===T?{...q,targetAllocationPct:Number(R)||0}:q)),M("")}function _(T){const R=m.find(I=>I.schemeCode===T);R&&R.units>0||x(I=>I.filter(q=>q.schemeCode!==T))}function O(){if(p){if(m.find(T=>T.schemeCode===p.schemeCode)){M("Fund already exists in portfolio");return}x(T=>[...T,{schemeCode:p.schemeCode,fundName:p.fundName,units:0,currentValue:0,currentAllocationPct:0,targetAllocationPct:Number(b)||0,isNew:!0}]),v(null),g(""),M("")}}async function Y(){if(w>100){M(`Total allocation is ${w.toFixed(1)}%  must be  100%`);return}y(!0);try{await l(m.map(T=>({schemeCode:T.schemeCode,fundName:T.fundName,targetAllocationPct:T.targetAllocationPct,isNew:T.isNew})))}finally{y(!1)}}const P=u?.sipTarget||0;return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:u?.portfolioName}),t.jsx("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] mt-0.5 flex-wrap",children:t.jsxs("span",{children:["Current Value: ",t.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:G(D)})]})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[t.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Units"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Current %"}),t.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Target %"}),t.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold w-8"})]})}),t.jsx("tbody",{children:m.map(T=>{const R=T.isNew&&T.targetAllocationPct>0&&T.targetAllocationPct<100&&D>0?T.targetAllocationPct/(100-T.targetAllocationPct)*D:0,I=T.isNew&&T.targetAllocationPct>0&&P>=100?T.targetAllocationPct/100*P:0;return t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[t.jsxs("td",{className:"py-2 px-2",children:[t.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight max-w-[200px] truncate",children:T.fundName}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[T.schemeCode,T.isNew&&t.jsx("span",{className:"text-violet-400 ml-1",children:"(new)"})]}),(R>0||I>0)&&t.jsxs("p",{className:"text-xs text-blue-400 mt-0.5",children:["Invest: ",R>0&&t.jsx("span",{className:"font-semibold",children:G(R)}),R>0&&I>0&&"  ",I>0&&t.jsxs("span",{className:"font-semibold",children:[G(I),"/mo SIP"]})]})]}),t.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:T.units.toFixed(2)}),t.jsxs("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:[T.currentAllocationPct.toFixed(1),"%"]}),t.jsx("td",{className:"py-2 px-2",children:t.jsx("input",{type:"number",value:T.targetAllocationPct,onChange:q=>k(T.schemeCode,q.target.value),className:"w-20 mx-auto block bg-[var(--bg-inset)] border border-[var(--border)] rounded px-2 py-1 text-xs text-center text-[var(--text-primary)] focus:outline-none focus:border-violet-500/50"})}),t.jsx("td",{className:"py-2 px-2 text-center",children:T.units===0&&t.jsx("button",{onClick:()=>_(T.schemeCode),className:"p-1 rounded hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors",children:t.jsx(zu,{size:12})})})]},T.schemeCode)})}),t.jsx("tfoot",{children:t.jsxs("tr",{className:"border-t border-[var(--border)]",children:[t.jsx("td",{className:"py-2 px-2 text-xs font-bold text-[var(--text-primary)]",children:"Total"}),t.jsx("td",{}),t.jsxs("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[m.reduce((T,R)=>T+R.currentAllocationPct,0).toFixed(1),"%"]}),t.jsx("td",{className:"py-2 px-2 text-center",children:t.jsxs("span",{className:`text-xs font-bold tabular-nums ${w>100?"text-[var(--accent-rose)]":w===100?"text-emerald-400":"text-amber-400"}`,children:[w.toFixed(1),"%"]})}),t.jsx("td",{})]})})]})}),t.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider mb-1",children:"Add New Fund"}),t.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Set target % to see how much to invest. After buying, use Invest to record the transaction."}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Tp,{value:p,onSelect:T=>v(T.schemeCode?T:null),placeholder:"Search fund to add..."}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-28",children:t.jsx("input",{type:"number",value:b,onChange:T=>g(T.target.value),placeholder:"Target %",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),t.jsxs("button",{onClick:O,disabled:!p,className:"flex items-center gap-1 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[t.jsx(ta,{size:14})," Add"]})]})]})]})]}),j&&t.jsx("p",{className:"text-xs text-[var(--accent-rose)] font-medium",children:j}),t.jsx(va,{onCancel:r,onSubmit:Y,submitLabel:"Save Allocations",loading:S})]})}const Kc=s=>s?.replace(/^PFL-/,"")||s;function uT(s){if(!s)return"Other";const l=s.toLowerCase();return l.includes("gold")||l.includes("silver")||l.includes("commodity")?"Commodity":l.includes("liquid")||l.includes("money market")||l.includes("overnight")?"Liquid":l.includes("gilt")||l.includes("government securities")||l.includes("constant maturity")?"Gilt":l.includes("elss")||l.includes("tax saver")?"ELSS":l.includes("debt")||l.includes("bond")||l.includes("income fund")||l.includes("corporate bond")||l.includes("banking & psu")||l.includes("short duration")||l.includes("medium duration")||l.includes("long duration")||l.includes("short term")||l.includes("medium term")||l.includes("floater")||l.includes("floating rate")||l.includes("credit")||l.includes("accrual")||l.includes("savings fund")||l.includes("ultra short")?"Debt":l.includes("multi asset")?"Multi-Asset":l.includes("hybrid")||l.includes("balanced")||l.includes("dynamic asset")||l.includes("arbitrage")||l.includes("retirement")||l.includes("children")||l.includes("pension")?"Hybrid":l.includes("equity")||l.includes("flexi cap")||l.includes("large cap")||l.includes("mid cap")||l.includes("small cap")||l.includes("multi cap")||l.includes("focused")||l.includes("contra")||l.includes("value fund")||l.includes("thematic")||l.includes("sectoral")||l.includes("consumption")||l.includes("infrastructure")||l.includes("pharma")||l.includes("healthcare")||l.includes("technology")||l.includes("fmcg")||l.includes("mnc")||l.includes("opportunities fund")||l.includes("midcap")||l.includes("smallcap")||l.includes("largecap")||l.includes("large & mid")?"Equity":l.includes("index")||l.includes("etf")||l.includes("nifty")||l.includes("sensex")?"Index":l.includes("fund of fund")||l.includes("fof")||l.includes("aggressive")||l.includes("conservative")?"Hybrid":"Other"}const ng={Equity:"bg-violet-500",Debt:"bg-sky-500",Commodities:"bg-yellow-500",Cash:"bg-teal-400",Hybrid:"bg-indigo-400",Other:"bg-slate-400"},rg={"Large Cap":"bg-blue-500","Mid Cap":"bg-amber-500","Small Cap":"bg-rose-500"};function xn(s){if(!s)return null;if(s instanceof Date)return isNaN(s.getTime())?null:s;const l=String(s),r=l.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(r)return new Date(Number(r[3]),Number(r[2])-1,Number(r[1]));const a=new Date(l);return isNaN(a.getTime())?null:a}function sg(s){return s>=20?{color:"#c62828",fontWeight:700}:s>=10?{color:"#d84315",fontWeight:700}:s>=5?{color:"#e67e00",fontWeight:600}:s>=1?{color:"#b8860b",fontWeight:600}:{color:"var(--text-dim)",fontWeight:400}}function dT(){const{selectedMember:s}=aa(),{mfPortfolios:l,mfHoldings:r,mfTransactions:a,activeMembers:o,activeInvestmentAccounts:u,addMFPortfolio:d,updateMFPortfolio:m,deleteMFPortfolio:x,investMF:p,redeemMF:v,switchMF:b,updateHoldingAllocations:g,deleteMFTransaction:j,editMFTransaction:M,assetAllocations:S,updateAssetAllocation:y}=Qe(),{showToast:w,showBlockUI:D,hideBlockUI:k}=Hn(),_=Yn(),{mv:O}=qn(),[Y,P]=N.useState(null),[T,R]=N.useState("all"),[I,q]=N.useState("holdings"),[A,ee]=N.useState(!1),[se,Q]=N.useState(null),[B,K]=N.useState({}),[L,le]=N.useState("all"),[ve,z]=N.useState(null),te=N.useCallback(U=>{Q(ie=>ie===U?null:U)},[]),me=N.useCallback(U=>{K(ie=>({...ie,[U]:(ie[U]||5)+10}))},[]),he=N.useMemo(()=>l?l.filter(U=>U.status!=="Inactive").map(U=>{let ie=u.find(et=>et.accountId===U.investmentAccountId);!ie&&U.investmentAccountId&&(ie=u.find(et=>`${et.accountName} - ${et.platformBroker}`===U.investmentAccountId));const Ne=ie?.memberId||U.ownerId||"",Be=Ne?o.find(et=>et.memberId===Ne):null;return{...U,investmentAccountId:ie?.accountId||U.investmentAccountId,ownerId:Ne,ownerName:Be?.memberName||U.ownerName||"",platform:ie?.platformBroker||U.investmentAccountName||"",clientId:ie?.accountClientId||""}}):[],[l,u,o]),Z=N.useMemo(()=>he.length?s==="all"?he:he.filter(U=>U.ownerId===s):[],[he,s]),xe=N.useMemo(()=>r?Z.map(U=>{const ie=r.filter(Be=>Be.portfolioId===U.portfolioId),Ne=(a||[]).filter(Be=>Be.portfolioId===U.portfolioId);return{...U,holdings:ie,txns:Ne,fundCount:ie.length}}):[],[Z,r,a]),fe=N.useMemo(()=>{const U=T==="all"?xe:xe.filter(ze=>ze.portfolioId===T),ie=U.reduce((ze,pt)=>ze+pt.totalInvestment,0),Ne=U.reduce((ze,pt)=>ze+pt.currentValue,0),Be=U.reduce((ze,pt)=>ze+pt.unrealizedPL,0),et=U.reduce((ze,pt)=>ze+pt.realizedPL,0),ue=Be+et,nt=ie>0?ue/ie*100:0,Te=ie>0?Be/ie*100:0,De=ie>0?et/ie*100:0,gt=U.reduce((ze,pt)=>ze+pt.fundCount,0),fa=(r?T==="all"?r.filter(ze=>U.some(pt=>pt.portfolioId===ze.portfolioId)):r.filter(ze=>ze.portfolioId===T):[]).reduce((ze,pt)=>ze+(pt.ongoingSIP||0),0);return{invested:ie,current:Ne,unrealizedPL:Be,unrealizedPLPct:Te,realizedPL:et,realizedPLPct:De,totalPL:ue,totalPLPct:nt,funds:gt,monthlySIP:fa}},[xe,T,r]),be=N.useMemo(()=>r?T==="all"?r.filter(U=>Z.some(ie=>ie.portfolioId===U.portfolioId)):r.filter(U=>U.portfolioId===T):[],[r,Z,T]),_e=N.useMemo(()=>a?(T==="all"?a.filter(ie=>Z.some(Ne=>Ne.portfolioId===ie.portfolioId)):a.filter(ie=>ie.portfolioId===T)).sort((ie,Ne)=>(xn(Ne.date)||0)-(xn(ie.date)||0)):[],[a,Z,T]),Nt=N.useMemo(()=>{const U=new Set;return _e.forEach(ie=>{ie.fundName&&U.add(ie.fundName)}),[...U].sort()},[_e]),Ot=N.useMemo(()=>L==="all"?_e:_e.filter(U=>U.fundName===L),[_e,L]),ra=N.useMemo(()=>{const U={};return be.forEach(ie=>{U[ie.portfolioId]=(U[ie.portfolioId]||0)+ie.currentValue}),be.map(ie=>{const Ne=U[ie.portfolioId]||0,Be=Ne>0?ie.currentValue/Ne*100:0,et=ie.investment>0?ie.pl/ie.investment*100:0,ue=ie.holdingId||`${ie.portfolioId}::${ie.schemeCode||ie.fundCode}`;return{...ie,currentAllocationPct:Be,plPct:et,_key:ue}})},[be]),Kt=N.useMemo(()=>{if(T!=="all")return null;const U=[],ie={};return ra.forEach(Ne=>{ie[Ne.portfolioId]||(ie[Ne.portfolioId]={portfolioId:Ne.portfolioId,holdings:[]},U.push(ie[Ne.portfolioId])),ie[Ne.portfolioId].holdings.push(Ne)}),U},[ra,T]),ye=N.useMemo(()=>{if(!r)return{};const U={};return xe.forEach(ie=>{const Ne=r.filter(Te=>Te.portfolioId===ie.portfolioId&&Te.units>0),Be=Ne.reduce((Te,De)=>Te+De.currentValue,0),et=(ie.rebalanceThreshold||.05)*100;let ue=0,nt=0;Ne.forEach(Te=>{Te.athNav>0&&Te.belowATHPct>=5&&ue++;const De=Be>0?Te.currentValue/Be*100:0;Te.targetAllocationPct>0&&Math.abs(De-Te.targetAllocationPct)>et&&nt++}),U[ie.portfolioId]={buyOpp:ue,rebalance:nt}}),U},[xe,r]),Ie=N.useMemo(()=>{if(T!=="all")return ye[T]||{buyOpp:0,rebalance:0};let U=0,ie=0;return Object.values(ye).forEach(Ne=>{U+=Ne.buyOpp,ie+=Ne.rebalance}),{buyOpp:U,rebalance:ie}},[T,ye]),Je=N.useMemo(()=>{if(!be.length)return null;const U={};if(S)for(const De of S)U[De.fundCode]={asset:De.assetAllocation,equity:De.equityAllocation};const ie={Equity:0,Debt:0,Commodities:0,Cash:0,Other:0},Ne={Large:0,Mid:0,Small:0};let Be=0,et=!1;for(const De of be){if(De.units<=0)continue;Be+=De.currentValue;const gt=U[De.fundCode||De.schemeCode];if(gt?.asset){et=!0;for(const[qe,fa]of Object.entries(gt.asset)){const ze=De.currentValue*(fa/100);qe==="Equity"?ie.Equity+=ze:qe==="Debt"?ie.Debt+=ze:qe==="Cash"?ie.Cash+=ze:qe==="Commodities"||qe==="Gold"?ie.Commodities+=ze:ie.Other+=ze}if(gt.equity)for(const[qe,fa]of Object.entries(gt.equity)){const ze=De.currentValue*((gt.asset.Equity||0)/100)*(fa/100);qe==="Large"?Ne.Large+=ze:qe==="Mid"?Ne.Mid+=ze:(qe==="Small"||qe==="Micro")&&(Ne.Small+=ze)}}else{let qe=De.category;(!qe||qe==="Other")&&(qe=uT(De.fundName)),qe==="Equity"||qe==="ELSS"||qe==="Index"?ie.Equity+=De.currentValue:qe==="Debt"||qe==="Gilt"?ie.Debt+=De.currentValue:qe==="Liquid"?ie.Cash+=De.currentValue:qe==="Commodity"?ie.Commodities+=De.currentValue:qe==="Multi-Asset"?(ie.Equity+=De.currentValue*.5,ie.Debt+=De.currentValue*.3,ie.Commodities+=De.currentValue*.2):qe==="Hybrid"||qe==="FoF"?(ie.Equity+=De.currentValue*.65,ie.Debt+=De.currentValue*.35):ie.Other+=De.currentValue}}if(Be===0)return null;const ue=Object.entries(ie).filter(([,De])=>De>0).sort(([,De],[,gt])=>gt-De).map(([De,gt])=>({name:De,value:gt,pct:gt/Be*100})),nt=Ne.Large+Ne.Mid+Ne.Small,Te=nt>0?Object.entries(Ne).filter(([,De])=>De>0).sort(([,De],[,gt])=>gt-De).map(([De,gt])=>({name:De+" Cap",value:gt,pct:gt/nt*100})):[];return{assetList:ue,capList:Te,hasDetailedAlloc:et}},[be,S]),Ct=N.useMemo(()=>{if(!be.length)return[];const U={};return be.forEach(ie=>{if(!ie.fundCode&&!ie.schemeCode)return;const Ne=(ie.fundCode||ie.schemeCode).toString();U[Ne]||(U[Ne]={fundCode:Ne,fundName:ie.fundName||""})}),Object.values(U).sort((ie,Ne)=>ie.fundName.localeCompare(Ne.fundName))},[be]);if(l===null||r===null)return t.jsx(Sr,{title:"Loading mutual funds",cards:5});const ot=xe.find(U=>U.portfolioId===T),ma=T==="all"?`All Portfolios (${Z.length})`:`${Kc(ot?.portfolioName)}  ${O(ot?.ownerName,"name")}`;async function sa(U){D("Saving...");try{Y?.editPortfolio?await m(Y.editPortfolio.portfolioId,U):await d(U),w(Y?.editPortfolio?"Portfolio updated":"Portfolio created"),P(null)}catch(ie){w(ie.message||"Failed to save portfolio","error")}finally{k()}}async function bt(){if(Y?.editPortfolio&&await _("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){D("Deactivating...");try{await x(Y.editPortfolio.portfolioId),w("Portfolio deactivated"),R("all"),P(null)}catch(U){w(U.message||"Failed to deactivate portfolio","error")}finally{k()}}}async function la(U){D("Recording investment...");try{await p(U,U.transactionType),w("Investment recorded"),P(null)}catch(ie){w(ie.message||"Failed to record investment","error")}finally{k()}}async function Va(U){D("Recording redemption...");try{await v(U),w("Redemption recorded"),P(null)}catch(ie){w(ie.message||"Failed to record redemption","error")}finally{k()}}async function Ft(U){D("Recording switch...");try{await b(U),w("Switch recorded"),P(null)}catch(ie){w(ie.message||"Failed to record switch","error")}finally{k()}}async function un(U){if(await _("Delete this transaction? This will recalculate your holdings.",{title:"Delete Transaction",confirmLabel:"Delete"})){D("Deleting...");try{await j(U),w("Transaction deleted"),z(null)}catch(ie){w(ie.message||"Failed to delete transaction","error")}finally{k()}}}async function Oe(U){D("Updating...");try{await M(U),w("Transaction updated"),P(null)}catch(ie){w(ie.message||"Failed to update transaction","error")}finally{k()}}async function ct(U){if(Y?.allocations){D("Saving allocations...");try{await g(Y.allocations,U),w("Allocations updated"),P(null)}catch(ie){w(ie.message||"Failed to update allocations","error")}finally{k()}}}return t.jsxs("div",{className:"space-y-4",children:[Z.length===0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[t.jsx(_l,{size:32,className:"text-[var(--text-dim)]"}),t.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No mutual fund portfolios yet"}),t.jsx("button",{onClick:()=>P("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>ee(!A),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[t.jsx(_l,{size:14,className:"text-violet-400 shrink-0"}),t.jsx("span",{className:"truncate",children:ma}),t.jsx(Ln,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${A?"rotate-180":""}`})]}),A&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>ee(!1)}),t.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl min-w-[300px] py-1 overflow-hidden",children:[t.jsxs("button",{onClick:()=>{R("all"),ee(!1),q("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${T==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",Z.length,")"]}),t.jsx("div",{className:"border-t border-[var(--border-light)]"}),xe.map(U=>{const ie=U.totalPL>=0,Ne=ye[U.portfolioId]||{};return t.jsx("button",{onClick:()=>{R(U.portfolioId),ee(!1),q("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${T===U.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("p",{className:`text-sm ${T===U.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:Kc(U.portfolioName)}),Ne.buyOpp>0&&t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 shrink-0",title:`${Ne.buyOpp} buy opportunities`}),Ne.rebalance>0&&t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 shrink-0",title:`${Ne.rebalance} funds need rebalancing`})]}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[O(U.ownerName,"name"),"  ",U.platform,"  ",U.fundCount," funds"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(U.currentValue)}),t.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ie?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ie?"+":"",U.totalPLPct.toFixed(1),"%"]})]})]})},U.portfolioId)})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxs("button",{onClick:()=>P("buyOpp"),disabled:Ie.buyOpp===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${Ie.buyOpp>0?"text-emerald-400 hover:text-emerald-300 bg-[var(--bg-card)] border border-emerald-500/30 animate-glow-emerald":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[t.jsx(Fu,{size:12})," Buy Opp.",Ie.buyOpp>0&&t.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15",children:Ie.buyOpp})]}),t.jsxs("button",{onClick:()=>P("rebalance"),disabled:Ie.rebalance===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${Ie.rebalance>0?"text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-violet-500/30 animate-glow-violet":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[t.jsx(Il,{size:12})," Rebalance",Ie.rebalance>0&&t.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-violet-500/15",children:Ie.rebalance})]}),ot&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>P({allocations:ot.portfolioId}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(dC,{size:12})," Allocations"]}),t.jsxs("button",{onClick:()=>P({editPortfolio:ot}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(cn,{size:12})," Edit"]})]}),t.jsxs("button",{onClick:()=>P("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(ta,{size:14})," New Portfolio"]})]})]}),ot&&t.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[t.jsxs("span",{children:[t.jsx("span",{className:"font-semibold",children:"Platform:"})," ",ot.platform]}),t.jsxs("span",{children:[t.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",O(ot.clientId,"clientId")]}),t.jsxs("span",{children:[t.jsx("span",{className:"font-semibold",children:"Funds:"})," ",ot.fundCount]}),ot.sipTarget>=100&&t.jsxs("span",{children:[t.jsx("span",{className:"font-semibold",children:"SIP Target:"})," ",G(ot.sipTarget),"/mo"]}),ot.lumpsumTarget>=100&&t.jsxs("span",{children:[t.jsx("span",{className:"font-semibold",children:"Lumpsum Target:"})," ",G(ot.lumpsumTarget)]}),t.jsxs("span",{children:[t.jsx("span",{className:"font-semibold",children:"Rebalance Threshold:"})," ",(ot.rebalanceThreshold*100).toFixed(0),"%"]})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[t.jsx(kl,{label:"Invested",value:G(fe.invested)}),t.jsx(kl,{label:"Current Value",value:G(fe.current),bold:!0}),t.jsx(kl,{label:"Unrealized P&L",value:`${fe.unrealizedPL>=0?"+":""}${G(fe.unrealizedPL)}`,sub:`${fe.unrealizedPLPct>=0?"+":""}${fe.unrealizedPLPct.toFixed(1)}%`,positive:fe.unrealizedPL>=0}),t.jsx(kl,{label:"Realized P&L",value:`${fe.realizedPL>=0?"+":""}${G(fe.realizedPL)}`,sub:`${fe.realizedPLPct>=0?"+":""}${fe.realizedPLPct.toFixed(1)}%`,positive:fe.realizedPL>=0}),t.jsx(kl,{label:"Total P&L",value:`${fe.totalPL>=0?"+":""}${G(fe.totalPL)}`,sub:`${fe.totalPLPct>=0?"+":""}${fe.totalPLPct.toFixed(1)}%`,positive:fe.totalPL>=0,bold:!0}),t.jsx(kl,{label:"Monthly SIP",value:G(fe.monthlySIP),sub:`${fe.funds} funds`})]}),Je&&Je.assetList.length>0&&t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-3",children:[t.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider mb-2",children:"Asset Allocation"}),t.jsx("div",{className:"h-2.5 rounded-full overflow-hidden bg-[var(--bg-inset)] flex",children:Je.assetList.map(U=>t.jsx("div",{className:`h-full ${ng[U.name]||"bg-slate-400"}`,style:{width:`${U.pct}%`}},U.name))}),t.jsx("div",{className:"flex flex-wrap gap-x-3 gap-y-0.5 mt-1.5",children:Je.assetList.map(U=>t.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-[var(--text-dim)]",children:[t.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${ng[U.name]||"bg-slate-400"}`}),U.name," ",U.pct.toFixed(0),"%"]},U.name))}),!Je.hasDetailedAlloc&&t.jsx("p",{className:"text-[9px] text-[var(--text-dim)]/50 mt-1",children:"Based on fund category. Add detailed allocations for accuracy."})]}),Je.capList.length>0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-3",children:[t.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider mb-2",children:"Market Cap Breakdown"}),t.jsx("div",{className:"h-2.5 rounded-full overflow-hidden bg-[var(--bg-inset)] flex",children:Je.capList.map(U=>t.jsx("div",{className:`h-full ${rg[U.name]||"bg-slate-400"}`,style:{width:`${U.pct}%`}},U.name))}),t.jsx("div",{className:"flex flex-wrap gap-x-3 gap-y-0.5 mt-1.5",children:Je.capList.map(U=>t.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-[var(--text-dim)]",children:[t.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${rg[U.name]||"bg-slate-400"}`}),U.name," ",U.pct.toFixed(0),"%"]},U.name))})]}):t.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-3 flex items-center justify-center",children:t.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:"Add asset allocations per fund for market cap breakdown"})})]}),t.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[t.jsxs("button",{onClick:()=>q("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${I==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[t.jsx(Ey,{size:12})," Holdings (",be.length,")"]}),t.jsxs("button",{onClick:()=>q("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${I==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[t.jsx(gu,{size:12})," Transactions (",Ot.length,")"]}),t.jsxs("button",{onClick:()=>q("allocations"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${I==="allocations"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[t.jsx(Pf,{size:12})," Allocations (",Ct.length,")"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[T==="all"&&t.jsx("span",{className:"text-xs text-[var(--text-dim)] mr-1 hidden sm:inline",children:"Select a portfolio to take actions"}),t.jsxs("button",{onClick:()=>T!=="all"&&P({invest:T}),disabled:T==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${T==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:T==="all"?"Select a portfolio first":"",children:[t.jsx(Ll,{size:14})," Invest"]}),t.jsxs("button",{onClick:()=>T!=="all"&&be.length>0&&P({redeem:T}),disabled:T==="all"||be.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${T==="all"||be.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:T==="all"?"Select a portfolio first":"",children:[t.jsx(Cy,{size:14})," Redeem"]}),t.jsxs("button",{onClick:()=>T!=="all"&&be.length>0&&P({switchFunds:T}),disabled:T==="all"||be.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${T==="all"||be.length===0?"bg-amber-600/40 text-white/50 cursor-not-allowed":"text-white bg-amber-600 hover:bg-amber-500"}`,title:T==="all"?"Select a portfolio first":"",children:[t.jsx(sC,{size:14})," Switch"]})]})]}),I==="holdings"&&t.jsx(t.Fragment,{children:be.length>0?t.jsx("div",{className:T==="all"?"space-y-4":"",children:(T==="all"?Kt:[{portfolioId:T,holdings:ra}]).map(U=>{const ie=xe.find(ue=>ue.portfolioId===U.portfolioId),Ne=U.holdings,Be=Ne.reduce((ue,nt)=>ue+nt.pl,0),et=Be>=0;return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[T==="all"&&ie&&t.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:Kc(ie.portfolioName)}),ie.ownerName&&t.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:["(",O(ie.ownerName,"name"),")"]}),t.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[" ",Ne.filter(ue=>ue.units>0).length," funds"]})]}),t.jsxs("div",{className:"flex items-center gap-4 text-xs tabular-nums",children:[t.jsx("span",{className:"text-[var(--text-muted)]",children:G(ie.currentValue||0)}),t.jsxs("span",{className:`font-bold ${et?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[et?"+":"",G(Be)]})]})]}),t.jsx("div",{className:"hidden lg:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:`border-b border-[var(--border-light)] ${T!=="all"?"bg-[var(--bg-inset)]":""}`,children:[t.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund Name"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),t.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[t.jsx("div",{children:"NAV"}),t.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Avg"})]}),t.jsxs("th",{className:"text-center py-2 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[t.jsx("div",{children:"ATH"}),t.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Below Peak"})]}),t.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[t.jsx("div",{children:"Allocation %"}),t.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),t.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[t.jsx("div",{children:"Amount"}),t.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Invested"})]}),t.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[t.jsx("div",{children:"P&L"}),t.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"on Holdings"})]}),t.jsx("th",{className:"py-2 px-2 w-8"})]})}),t.jsx("tbody",{children:Ne.map(ue=>{const nt=sg(ue.belowATHPct),Te=ue.units===0,De=xe.find(ge=>ge.portfolioId===ue.portfolioId),gt=De?.currentValue||0,qe=se===ue._key,fa=ue.pl,ze=fa>=0,pt=Te&&ue.targetAllocationPct>0&&ue.targetAllocationPct<100&&gt>0?ue.targetAllocationPct/(100-ue.targetAllocationPct)*gt:0,ba=Te&&ue.targetAllocationPct>0&&De?.sipTarget>=100?ue.targetAllocationPct/100*De.sipTarget:0,Bt=qe?(a||[]).filter(ge=>ge.portfolioId===ue.portfolioId&&ge.fundCode===ue.schemeCode).sort((ge,Ut)=>(xn(Ut.date)||0)-(xn(ge.date)||0)):[],ga=B[ue._key]||5,dn=Bt.slice(0,ga),ls=ge=>{const Ut=xn(ge);return Ut?Math.floor((new Date-Ut)/864e5):null};return t.jsxs(re.Fragment,{children:[t.jsxs("tr",{onClick:()=>!Te&&te(ue._key),className:`border-b border-[var(--border-light)] last:border-0 transition-colors ${Te?"opacity-60":"cursor-pointer hover:bg-[var(--bg-hover)]"} ${qe?"bg-[var(--bg-hover)]":""}`,children:[t.jsx("td",{className:"py-2.5 px-3 max-w-[240px]",children:t.jsxs("div",{className:"flex items-center gap-1.5",children:[!Te&&t.jsx(Ln,{size:12,className:`shrink-0 text-[var(--text-dim)] transition-transform ${qe?"rotate-180":""}`}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-xs text-[var(--text-primary)] leading-tight",children:[ue.fundName,Te&&t.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]}),Te&&(pt>0||ba>0)&&t.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[pt>0&&t.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",G(pt)]}),ba>0&&t.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",G(ba),"/mo"]})]})]})]})}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Te?"":ue.units.toFixed(2)}),t.jsx("td",{className:"py-2.5 px-3 text-right",children:Te?t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:["",ue.currentNav.toFixed(2)]}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["",ue.avgNav.toFixed(2)]})]})}),t.jsx("td",{className:"py-2.5 px-2 text-center",children:Te?t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):ue.athNav>0&&ue.belowATHPct>0?t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-bold tabular-nums",style:nt,children:["",ue.belowATHPct.toFixed(1),"%"]}),t.jsxs("p",{className:"text-[11px] text-[var(--text-muted)] tabular-nums",children:["",ue.athNav.toFixed(0)]})]}):ue.athNav>0?t.jsx("span",{className:"text-[10px] text-emerald-400/70 font-semibold",children:"AT HIGH"}):t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),t.jsx("td",{className:"py-2.5 px-3 text-right",children:Te?t.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums",children:[ue.targetAllocationPct.toFixed(1),"%"]}):t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[ue.currentAllocationPct.toFixed(1),"%"]}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[ue.targetAllocationPct.toFixed(1),"%"]})]})}),t.jsx("td",{className:"py-2.5 px-3 text-right",children:Te?t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(ue.currentValue)}),t.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:G(ue.investment)})]})}),t.jsx("td",{className:"py-2.5 px-3 text-right",children:Te?t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ze?"+":"",G(fa)]}),t.jsxs("p",{className:`text-xs font-bold tabular-nums ${ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ze?"+":"",ue.plPct.toFixed(1),"%"]})]})}),t.jsx("td",{className:"py-2.5 px-2 text-center",children:t.jsxs("div",{className:"flex items-center gap-0.5 justify-center",children:[t.jsx("button",{onClick:ge=>{ge.stopPropagation(),P({invest:{portfolioId:ue.portfolioId,fundCode:ue.schemeCode,fundName:ue.fundName}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25 transition-colors",title:"Buy / Invest",children:t.jsx(ta,{size:14,strokeWidth:2.5})}),!Te&&t.jsx("button",{onClick:ge=>{ge.stopPropagation(),P({redeem:{portfolioId:ue.portfolioId,fundCode:ue.schemeCode}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-rose-500/15 text-rose-400 hover:bg-rose-500/25 transition-colors",title:"Sell / Redeem",children:t.jsx(hf,{size:14,strokeWidth:2.5})})]})})]}),qe&&!Te&&t.jsx("tr",{className:"border-b border-[var(--border-light)]",children:t.jsx("td",{colSpan:8,className:"p-0",children:t.jsxs("div",{className:"bg-[var(--bg-expanded)] border-t border-[var(--border-light)]",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row",children:[t.jsx("div",{className:"lg:w-52 shrink-0 p-4 border-b lg:border-b-0 lg:border-r border-[var(--border-light)]",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Units"}),t.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:ue.units.toFixed(3)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Avg NAV"}),t.jsxs("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:["",ue.avgNav.toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Invested"}),t.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:G(ue.investment)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Current Value"}),t.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:G(ue.currentValue)})]}),ue.ongoingSIP>0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Monthly SIP"}),t.jsx("p",{className:"text-base font-bold text-blue-400 tabular-nums",children:G(ue.ongoingSIP)})]}),t.jsxs("div",{className:"pt-3 border-t border-[var(--border-light)] flex gap-2",children:[t.jsxs("button",{onClick:ge=>{ge.stopPropagation(),P({invest:{portfolioId:ue.portfolioId,fundCode:ue.schemeCode,fundName:ue.fundName}})},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-emerald-400 bg-emerald-500/10 hover:bg-emerald-500/20 rounded-lg transition-colors",children:[t.jsx("span",{className:"w-5 h-5 flex items-center justify-center rounded-full bg-emerald-500/20",children:t.jsx(ta,{size:12,strokeWidth:2.5})})," Buy"]}),t.jsxs("button",{onClick:ge=>{ge.stopPropagation(),P({redeem:{portfolioId:ue.portfolioId,fundCode:ue.schemeCode}})},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-rose-400 bg-rose-500/10 hover:bg-rose-500/20 rounded-lg transition-colors",children:[t.jsx("span",{className:"w-5 h-5 flex items-center justify-center rounded-full bg-rose-500/20",children:t.jsx(hf,{size:12,strokeWidth:2.5})})," Sell"]})]})]})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"px-4 pt-3 pb-1",children:t.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:"Transactions"})}),Bt.length===0?t.jsx("p",{className:"py-8 text-xs text-[var(--text-dim)] text-center",children:"No transactions recorded"}):t.jsxs(t.Fragment,{children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[t.jsx("th",{className:"text-left py-2 px-4 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Date"}),t.jsx("th",{className:"text-left py-2 px-2 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Type"}),t.jsx("th",{className:"text-center py-2 px-2 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Days"}),t.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Amount"}),t.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"NAV"}),t.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Units"}),t.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"P&L"}),t.jsx("th",{className:"w-8 py-2 px-1"})]})}),t.jsx("tbody",{children:dn.map((ge,Ut)=>{const Ga=xn(ge.date),Un=!!Ga,Vn=Un?Ga.toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):ge.date||"",Gn=Un?ls(ge.date):null,is=ge.type==="BUY",Qn=!is&&ge.gainLoss!=null&&ge.gainLoss!==0,Cr=Qn&&ge.gainLoss>=0;return t.jsxs("tr",{className:"group border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[t.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)] tabular-nums whitespace-nowrap",children:Vn}),t.jsx("td",{className:"py-2.5 px-2",children:t.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded ${is?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:ge.transactionType||ge.type})}),t.jsx("td",{className:"py-2.5 px-2 text-xs text-[var(--text-dim)] tabular-nums text-center",children:Gn??""}),t.jsx("td",{className:"py-2.5 px-3 text-xs font-semibold text-[var(--text-primary)] tabular-nums text-right",children:G(ge.totalAmount)}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums text-right",children:Number(ge.price).toFixed(4)}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums text-right",children:Number(ge.units).toFixed(3)}),t.jsx("td",{className:`py-2.5 px-3 text-xs font-semibold tabular-nums text-right ${Qn?Cr?"text-emerald-400":"text-[var(--accent-rose)]":"text-[var(--text-dim)]"}`,children:Qn?`${Cr?"+":""}${G(ge.gainLoss)}`:""}),t.jsx("td",{className:"py-2.5 px-1",children:t.jsx(Xc,{txn:ge,isOpen:ve===ge.transactionId,onToggle:()=>z(ve===ge.transactionId?null:ge.transactionId),onEdit:()=>{z(null),P({editTxn:ge})},onDelete:()=>{z(null),un(ge.transactionId)}})})]},ge.transactionId||`txn-${Ut}`)})})]}),Bt.length>ga&&t.jsx("div",{className:"py-2 text-center border-t border-[var(--border-light)]",children:t.jsxs("button",{onClick:ge=>{ge.stopPropagation(),me(ue._key)},className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:["Show More (",Bt.length-ga," remaining)"]})})]})]})]}),t.jsx("div",{className:"flex justify-center py-1.5 border-t border-[var(--border-light)]",children:t.jsx("button",{onClick:()=>te(ue._key),className:"p-0.5 text-[var(--text-dim)] hover:text-[var(--text-muted)]",children:t.jsx(r5,{size:14})})})]})})})]},ue._key)})})]})}),t.jsx("div",{className:"lg:hidden divide-y divide-[var(--border-light)]",children:Ne.map(ue=>{const nt=sg(ue.belowATHPct),Te=ue.units===0,De=xe.find(ge=>ge.portfolioId===ue.portfolioId),gt=De?.currentValue||0,qe=se===ue._key,fa=ue.pl,ze=fa>=0,pt=Te&&ue.targetAllocationPct>0&&ue.targetAllocationPct<100&&gt>0?ue.targetAllocationPct/(100-ue.targetAllocationPct)*gt:0,ba=Te&&ue.targetAllocationPct>0&&De?.sipTarget>=100?ue.targetAllocationPct/100*De.sipTarget:0,Bt=qe?(a||[]).filter(ge=>ge.portfolioId===ue.portfolioId&&ge.fundCode===ue.schemeCode).sort((ge,Ut)=>(xn(Ut.date)||0)-(xn(ge.date)||0)):[],ga=B[ue._key]||5,dn=Bt.slice(0,ga),ls=ge=>{const Ut=xn(ge);return Ut?Math.floor((new Date-Ut)/864e5):null};return t.jsxs("div",{className:Te?"opacity-60":"",children:[t.jsxs("div",{onClick:()=>!Te&&te(ue._key),className:`px-4 py-3 ${Te?"":"cursor-pointer"} ${qe?"bg-[var(--bg-hover)]":""}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-1.5",children:[t.jsxs("div",{className:"flex-1 mr-3",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[!Te&&t.jsx(Ln,{size:12,className:`shrink-0 text-[var(--text-dim)] transition-transform ${qe?"rotate-180":""}`}),t.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:[ue.fundName,Te&&t.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]})]}),Te&&(pt>0||ba>0)&&t.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[pt>0&&t.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",G(pt)]}),ba>0&&t.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",G(ba),"/mo"]})]})]}),Te?t.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums shrink-0",children:["Target: ",ue.targetAllocationPct.toFixed(1),"%"]}):t.jsxs("div",{className:"text-right shrink-0",children:[t.jsxs("p",{className:`text-xs font-bold tabular-nums ${ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ze?"+":"",G(fa)]}),t.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ze?"+":"",ue.plPct.toFixed(1),"%"]})]})]}),Te?t.jsx("div",{className:"flex items-center justify-end mt-1",children:t.jsxs("button",{onClick:ge=>{ge.stopPropagation(),P({invest:{portfolioId:ue.portfolioId,fundCode:ue.schemeCode,fundName:ue.fundName}})},className:"shrink-0 flex items-center gap-1 text-[10px] font-semibold text-emerald-400 hover:text-emerald-300 px-2 py-0.5 rounded bg-emerald-500/10",children:[t.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-emerald-500/20",children:t.jsx(ta,{size:10,strokeWidth:2.5})})," Buy"]})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-between text-xs text-[var(--text-dim)]",children:[t.jsxs("div",{children:[t.jsxs("span",{children:[ue.units.toFixed(2)," units"]}),t.jsx("span",{className:"mx-1",children:""}),t.jsxs("span",{children:["NAV ",ue.currentNav.toFixed(2)," / ",ue.avgNav.toFixed(2)]})]}),t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(ue.currentValue)})]}),t.jsxs("div",{className:"flex items-center justify-between mt-1",children:[t.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] flex-wrap",children:[t.jsxs("span",{children:["Alloc: ",ue.currentAllocationPct.toFixed(1),"% / ",ue.targetAllocationPct.toFixed(1),"%"]}),ue.athNav>0&&ue.belowATHPct>0?t.jsxs("span",{className:"font-bold tabular-nums",style:nt,children:["ATH ",ue.belowATHPct.toFixed(1),"%"]}):ue.athNav>0?t.jsx("span",{className:"text-emerald-400/70 font-semibold text-[10px]",children:"AT HIGH"}):null]}),t.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[t.jsxs("button",{onClick:ge=>{ge.stopPropagation(),P({invest:{portfolioId:ue.portfolioId,fundCode:ue.schemeCode,fundName:ue.fundName}})},className:"flex items-center gap-1 text-[10px] font-semibold text-emerald-400 hover:text-emerald-300 px-2 py-0.5 rounded bg-emerald-500/10",children:[t.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-emerald-500/20",children:t.jsx(ta,{size:10,strokeWidth:2.5})})," Buy"]}),t.jsxs("button",{onClick:ge=>{ge.stopPropagation(),P({redeem:{portfolioId:ue.portfolioId,fundCode:ue.schemeCode}})},className:"flex items-center gap-1 text-[10px] font-semibold text-rose-400 hover:text-rose-300 px-2 py-0.5 rounded bg-rose-500/10",children:[t.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-rose-500/20",children:t.jsx(hf,{size:10,strokeWidth:2.5})})," Sell"]})]})]})]})]}),qe&&!Te&&t.jsxs("div",{className:"bg-[var(--bg-inset)] border-l-2 border-l-violet-500/40 px-4 pb-3",children:[t.jsx("div",{className:"flex items-center justify-between py-2",children:t.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:["Transactions (",Bt.length,")"]})}),Bt.length===0?t.jsx("p",{className:"py-4 text-xs text-[var(--text-dim)] text-center",children:"No transactions recorded"}):t.jsxs("div",{className:"space-y-2",children:[dn.map((ge,Ut)=>{const Ga=ls(ge.date),Un=ge.type==="BUY",Vn=!Un&&ge.gainLoss!=null&&ge.gainLoss!==0,Gn=Vn&&ge.gainLoss>=0;return t.jsxs("div",{className:"flex items-center justify-between text-xs bg-[var(--bg-card)] rounded-lg px-3 py-2",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"text-[var(--text-secondary)]",children:(xn(ge.date)||new Date).toLocaleDateString("en-IN",{day:"2-digit",month:"short"})}),t.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${Un?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:ge.transactionType||ge.type}),t.jsxs("span",{className:"text-[var(--text-dim)]",children:[Ga,"d"]})]}),t.jsxs("p",{className:"text-[var(--text-dim)] mt-0.5",children:[Number(ge.units).toFixed(3)," units @ ",Number(ge.price).toFixed(2)]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-semibold text-[var(--text-primary)] tabular-nums",children:G(ge.totalAmount)}),Vn&&t.jsxs("p",{className:`font-semibold tabular-nums ${Gn?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Gn?"+":"",G(ge.gainLoss)]})]}),t.jsx(Xc,{txn:ge,isOpen:ve===ge.transactionId,onToggle:()=>z(ve===ge.transactionId?null:ge.transactionId),onEdit:()=>{z(null),P({editTxn:ge})},onDelete:()=>{z(null),un(ge.transactionId)}})]})]},ge.transactionId||`txn-${Ut}`)}),Bt.length>ga&&t.jsxs("button",{onClick:()=>me(ue._key),className:"w-full py-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 text-center",children:["Show More (",Bt.length-ga," remaining)"]})]})]})]},ue._key)})})]},U.portfolioId)})}):t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[t.jsx(_l,{size:28,className:"text-[var(--text-dim)]"}),t.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",ot?" in this portfolio":""]}),t.jsx("button",{onClick:()=>P({invest:T!=="all"?T:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Add your first fund"})]})}),I==="transactions"&&t.jsxs(t.Fragment,{children:[Nt.length>1&&t.jsxs("div",{className:"flex items-center gap-2 px-1",children:[t.jsx(Ay,{size:12,className:"text-[var(--text-dim)]"}),t.jsxs("select",{value:L,onChange:U=>le(U.target.value),className:"text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg px-3 py-1.5 max-w-[350px] truncate",children:[t.jsxs("option",{value:"all",children:["All Funds (",_e.length,")"]}),Nt.map(U=>t.jsxs("option",{value:U,children:[U," (",_e.filter(ie=>ie.fundName===U).length,")"]},U))]}),L!=="all"&&t.jsx("button",{onClick:()=>le("all"),className:"text-xs text-[var(--text-dim)] hover:text-[var(--text-muted)] underline",children:"Clear"})]}),Ot.length>0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"}),t.jsx("th",{className:"w-8"})]})}),t.jsx("tbody",{children:Ot.map((U,ie)=>{const Ne=U.type==="BUY",Be=!Ne&&U.gainLoss!=null&&U.gainLoss!==0,et=Be&&U.gainLoss>=0,ue=T==="all"?xe.find(Te=>Te.portfolioId===U.portfolioId):null,nt={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[U.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:U.date}),t.jsx("td",{className:"py-2.5 px-3",children:t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${Ne?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:U.type}),t.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${nt.bg} ${nt.text}`,children:U.transactionType})]})}),t.jsxs("td",{className:"py-2.5 px-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate max-w-[200px]",children:U.fundName}),ue&&t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Kc(ue.portfolioName)})]}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:U.units.toFixed(2)}),t.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",U.price.toFixed(2)]}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(U.totalAmount)}),t.jsx("td",{className:"py-2.5 px-3 text-right",children:Be?t.jsxs("span",{className:`text-xs font-semibold tabular-nums ${et?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[et?"+":"",G(U.gainLoss)]}):t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),t.jsx("td",{className:"py-2.5 px-1",children:t.jsx(Xc,{txn:U,isOpen:ve===U.transactionId,onToggle:()=>z(ve===U.transactionId?null:U.transactionId),onEdit:()=>{z(null),P({editTxn:U})},onDelete:()=>{z(null),un(U.transactionId)}})})]},U.transactionId||`txn-${ie}`)})})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:Ot.map((U,ie)=>{const Ne=U.type==="BUY",Be=!Ne&&U.gainLoss!=null&&U.gainLoss!==0,et=Be&&U.gainLoss>=0;return t.jsxs("div",{className:"px-4 py-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${Ne?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:U.type}),t.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:U.transactionType})]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:U.date}),t.jsx(Xc,{txn:U,isOpen:ve===U.transactionId,onToggle:()=>z(ve===U.transactionId?null:U.transactionId),onEdit:()=>{z(null),P({editTxn:U})},onDelete:()=>{z(null),un(U.transactionId)}})]})]}),t.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate mb-1",children:U.fundName}),t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsxs("p",{className:"text-[var(--text-dim)]",children:[U.units.toFixed(2)," units @ ",U.price.toFixed(2)]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(U.totalAmount)}),Be&&t.jsxs("p",{className:`text-xs font-semibold tabular-nums ${et?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",et?"+":"",G(U.gainLoss)]})]})]}),U.notes&&t.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:U.notes})]},U.transactionId||`txn-m-${ie}`)})})]}):t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[t.jsx(gu,{size:28,className:"text-[var(--text-dim)]"}),t.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:L!=="all"?"No transactions for this fund":"No transactions yet"}),L!=="all"?t.jsx("button",{onClick:()=>le("all"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Show all transactions"}):t.jsx("button",{onClick:()=>P({invest:T!=="all"?T:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first investment"})]})]}),I==="allocations"&&t.jsx(t.Fragment,{children:Ct.length>0?t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] px-1",children:"Configure asset class and market cap breakdown per fund for accurate portfolio analytics."}),Ct.map(U=>t.jsx(pT,{fund:U,existing:S?.find(ie=>ie.fundCode===U.fundCode),onSave:y},U.fundCode))]}):t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[t.jsx(Pf,{size:28,className:"text-[var(--text-dim)]"}),t.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No funds to configure allocations for"})]})})]}),t.jsx(Lt,{open:Y==="addPortfolio"||!!Y?.editPortfolio,onClose:()=>P(null),title:Y?.editPortfolio?"Edit Portfolio":"New MF Portfolio",children:t.jsx(vA,{initial:Y?.editPortfolio||void 0,onSave:sa,onDelete:Y?.editPortfolio?bt:void 0,onCancel:()=>P(null)})}),t.jsx(Lt,{open:!!Y?.invest,onClose:()=>P(null),title:"Invest in Mutual Fund",wide:!0,children:t.jsx(lT,{portfolioId:typeof Y?.invest=="object"?Y.invest.portfolioId:typeof Y?.invest=="string"?Y.invest:void 0,fundCode:typeof Y?.invest=="object"?Y.invest.fundCode:void 0,fundName:typeof Y?.invest=="object"?Y.invest.fundName:void 0,onSave:la,onCancel:()=>P(null)},Y?.invest?.fundCode||Y?.invest?.portfolioId||Y?.invest)}),t.jsx(Lt,{open:!!Y?.redeem,onClose:()=>P(null),title:"Redeem Mutual Fund",wide:!0,children:t.jsx(iT,{portfolioId:typeof Y?.redeem=="object"?Y.redeem.portfolioId:typeof Y?.redeem=="string"?Y.redeem:void 0,fundCode:typeof Y?.redeem=="object"?Y.redeem.fundCode:void 0,onSave:Va,onCancel:()=>P(null)},Y?.redeem?.fundCode||Y?.redeem?.portfolioId||Y?.redeem)}),t.jsx(Lt,{open:!!Y?.switchFunds,onClose:()=>P(null),title:"Switch Funds",wide:!0,children:t.jsx(oT,{portfolioId:typeof Y?.switchFunds=="string"?Y.switchFunds:void 0,onSave:Ft,onCancel:()=>P(null)})}),t.jsx(Lt,{open:!!Y?.allocations,onClose:()=>P(null),title:"Manage Portfolio Allocation",wide:!0,children:Y?.allocations&&t.jsx(cT,{portfolioId:Y.allocations,onSave:ct,onCancel:()=>P(null)})}),t.jsx(Lt,{open:Y==="rebalance",onClose:()=>P(null),title:"Rebalance Portfolios",wide:!0,children:Y==="rebalance"&&t.jsx(T1,{})}),t.jsx(Lt,{open:Y==="buyOpp",onClose:()=>P(null),title:"Buy Opportunities",wide:!0,children:Y==="buyOpp"&&t.jsx(qy,{})}),t.jsx(Lt,{open:!!Y?.editTxn,onClose:()=>P(null),title:"Edit Transaction",children:Y?.editTxn&&t.jsx(mT,{txn:Y.editTxn,onSave:Oe,onCancel:()=>P(null)})})]})}function kl({label:s,value:l,sub:r,positive:a,bold:o}){return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${a===void 0?"text-[var(--text-primary)]":a?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l}),r&&t.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${a?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function Xc({txn:s,isOpen:l,onToggle:r,onEdit:a,onDelete:o}){const u=N.useRef(null),[d,m]=N.useState({top:0,right:0});if(!s.transactionId)return null;function x(p){if(p.stopPropagation(),!l&&u.current){const v=u.current.getBoundingClientRect();m({top:v.bottom+4,right:window.innerWidth-v.right})}r()}return t.jsxs(t.Fragment,{children:[t.jsx("button",{ref:u,onClick:x,className:"p-1 rounded-md text-[var(--text-dim)] hover:text-[var(--text-muted)] hover:bg-[var(--bg-hover)] transition-colors",title:"Actions",children:t.jsx(N5,{size:14})}),l&&op.createPortal(t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{position:"fixed",inset:0,zIndex:9998},onClick:p=>{p.stopPropagation(),r()}}),t.jsxs("div",{style:{position:"fixed",top:d.top,right:d.right,zIndex:9999},className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl py-1 min-w-[120px] animate-fade-in",children:[t.jsxs("button",{onClick:p=>{p.stopPropagation(),a()},className:"w-full text-left px-3 py-2 text-xs text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)] flex items-center gap-2 transition-colors",children:[t.jsx(cn,{size:12})," Edit"]}),t.jsxs("button",{onClick:p=>{p.stopPropagation(),o()},className:"w-full text-left px-3 py-2 text-xs text-[var(--accent-rose)] hover:bg-rose-500/10 flex items-center gap-2 transition-colors",children:[t.jsx(zu,{size:12})," Delete"]})]})]}),document.body)]})}function mT({txn:s,onSave:l,onCancel:r}){const[a,o]=N.useState(()=>{const S=xn(s.date);return S?S.toISOString().split("T")[0]:""}),[u,d]=N.useState(String(s.units||"")),[m,x]=N.useState(String(s.price||"")),[p,v]=N.useState(s.notes||""),[b,g]=N.useState(!1),j=(Number(u)||0)*(Number(m)||0);async function M(){if(!(!u||Number(u)<=0)&&!(!m||Number(m)<=0)){g(!0);try{await l({transactionId:s.transactionId,date:a,units:u,price:m,notes:p})}finally{g(!1)}}}return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:s.fundName}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[s.type,"  ",s.transactionType,"  ",s.transactionId]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Date"}),t.jsx(Fn,{value:a,onChange:o})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Units"}),t.jsx("input",{type:"number",value:u,onChange:S=>d(S.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"NAV (price)"}),t.jsx("input",{type:"number",value:m,onChange:S=>x(S.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]})]}),j>0&&t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:G(j)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Notes"}),t.jsx("input",{type:"text",value:p,onChange:S=>v(S.target.value),placeholder:"Optional notes...",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-[var(--border-light)]",children:[t.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:"Cancel"}),t.jsx("button",{onClick:M,disabled:b||!u||Number(u)<=0||!m||Number(m)<=0,className:"px-4 py-2 text-xs font-bold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Saving...":"Update Transaction"})]})]})}const lg=[{key:"Equity",color:"bg-violet-500",label:"Equity"},{key:"Debt",color:"bg-sky-500",label:"Debt"},{key:"Commodities",color:"bg-yellow-500",label:"Commodities"},{key:"Cash",color:"bg-teal-400",label:"Cash"},{key:"Real Estate",color:"bg-slate-400",label:"Other"}],fT=[{key:"Large",color:"bg-blue-500",label:"Large"},{key:"Mid",color:"bg-amber-500",label:"Mid"},{key:"Small",color:"bg-rose-500",label:"Small"}];function pT({fund:s,existing:l,onSave:r}){const[a,o]=N.useState(!1),[u,d]=N.useState(!1),[m,x]=N.useState(!1),[p,v]=N.useState(l?.assetAllocation?.Equity||0),[b,g]=N.useState(l?.assetAllocation?.Debt||0),[j,M]=N.useState(l?.assetAllocation?.Cash||0),[S,y]=N.useState(l?.assetAllocation?.Commodities||0),[w,D]=N.useState(l?.assetAllocation?.["Real Estate"]||0),[k,_]=N.useState(l?.equityAllocation?.Large||0),[O,Y]=N.useState(l?.equityAllocation?.Mid||0),[P,T]=N.useState(l?.equityAllocation?.Small||0),R=p+b+j+S+w,I=k+O+P,q=R===100||R===0,A=I===100||I===0||p===0,ee=l?.assetAllocation&&Object.keys(l.assetAllocation).length>0,se=l?.equityAllocation&&Object.keys(l.equityAllocation).length>0;async function Q(){if(!(!q||!A)){d(!0);try{await r({fundCode:s.fundCode,fundName:s.fundName,equity:p,debt:b,cash:j,commodities:S,realEstate:w,largeCap:k,midCap:O,smallCap:P}),x(!0),o(!1),setTimeout(()=>x(!1),2e3)}finally{d(!1)}}}return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:s.fundName}),t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:s.fundCode})]}),t.jsxs("div",{className:"flex items-center gap-1.5 shrink-0 ml-3",children:[m&&t.jsx(zf,{size:14,className:"text-emerald-400"}),!a&&t.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-1 px-2.5 py-1 text-[10px] font-semibold text-violet-400 hover:text-violet-300 bg-violet-500/10 hover:bg-violet-500/20 rounded-md transition-colors",children:[t.jsx(cn,{size:10})," ",ee?"Edit":"Set"]})]})]}),ee&&!a&&t.jsxs("div",{className:"px-4 pb-3",children:[t.jsx("div",{className:"h-2 rounded-full overflow-hidden bg-[var(--bg-inset)] flex mb-1.5",children:lg.map(({key:B,color:K})=>{const L=l.assetAllocation[B]||0;return L>0?t.jsx("div",{className:`h-full ${K}`,style:{width:`${L}%`}},B):null})}),t.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-0.5",children:[lg.map(({key:B,color:K,label:L})=>{const le=l.assetAllocation[B]||0;return le>0?t.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-[var(--text-muted)] tabular-nums",children:[t.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${K}`}),le,"% ",L]},B):null}),se&&t.jsxs("span",{className:"text-[11px] text-[var(--text-dim)] tabular-nums ml-1",children:["| ",fT.map(({key:B,label:K})=>{const L=l.equityAllocation[B]||0;return L>0?`${K[0]}${L}`:""}).filter(Boolean).join(" ")]})]})]}),!ee&&!a&&t.jsxs("div",{className:"px-4 pb-3",children:[t.jsx("div",{className:"h-2 rounded-full bg-[var(--bg-inset)] mb-1"}),t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] italic",children:"Not configured  click Set to add allocation data"})]}),a&&t.jsxs("div",{className:"px-4 pb-3 border-t border-[var(--border-light)] pt-3",children:[t.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider mb-2",children:"Asset Class %"}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-1",children:[{label:"Equity",val:p,set:v},{label:"Debt",val:b,set:g},{label:"Commodities",val:S,set:y},{label:"Cash",val:j,set:M},{label:"Other",val:w,set:D}].map(B=>t.jsxs("div",{className:"w-20",children:[t.jsx("label",{className:"block text-[10px] text-[var(--text-dim)] mb-0.5",children:B.label}),t.jsx("input",{type:"number",min:"0",max:"100",value:B.val||"",onChange:K=>B.set(Number(K.target.value)||0),className:"w-full px-1.5 py-1 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md tabular-nums text-center"})]},B.label))}),t.jsxs("p",{className:`text-[10px] tabular-nums mb-2 ${q?"text-[var(--text-dim)]":"text-[var(--accent-rose)] font-semibold"}`,children:["Total: ",R,"% ",!q&&" must equal 100%"]}),p>0&&t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider mb-2",children:"Equity Cap %"}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-1",children:[{label:"Large",val:k,set:_},{label:"Mid",val:O,set:Y},{label:"Small",val:P,set:T}].map(B=>t.jsxs("div",{className:"w-20",children:[t.jsx("label",{className:"block text-[10px] text-[var(--text-dim)] mb-0.5",children:B.label}),t.jsx("input",{type:"number",min:"0",max:"100",value:B.val||"",onChange:K=>B.set(Number(K.target.value)||0),className:"w-full px-1.5 py-1 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md tabular-nums text-center"})]},B.label))}),t.jsxs("p",{className:`text-[10px] tabular-nums mb-2 ${A?"text-[var(--text-dim)]":"text-[var(--accent-rose)] font-semibold"}`,children:["Total: ",I,"% ",!A&&" must equal 100%"]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[t.jsx("button",{onClick:()=>o(!1),className:"px-3 py-1.5 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:"Cancel"}),t.jsxs("button",{onClick:Q,disabled:u||!q||!A,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(Ly,{size:12})," ",u?"Saving...":"Save"]})]})]})]})}function xT({initial:s,onSave:l,onDelete:r,onCancel:a}){const{activeMembers:o,activeInvestmentAccounts:u}=Qe(),d=!!s,[m,x]=N.useState({portfolioName:s?.portfolioName||"",ownerId:s?.ownerId||"",investmentAccountId:s?.investmentAccountId||""}),[p,v]=N.useState({}),[b,g]=N.useState(!1);function j(k,_){x(O=>({...O,[k]:_})),v(O=>({...O,[k]:void 0}))}function M(k){x(_=>({..._,ownerId:k,investmentAccountId:""})),v(_=>({..._,ownerId:void 0}))}const S=N.useMemo(()=>m.ownerId?u.filter(k=>k.memberId===m.ownerId&&(k.accountType==="Demat + Trading"||k.accountType==="Trading")).map(k=>({value:k.accountId,label:`${k.accountName} - ${k.platformBroker}`})):[],[u,m.ownerId]);function y(){const k={};return m.portfolioName.trim()||(k.portfolioName="Required"),m.ownerId||(k.ownerId="Required"),m.investmentAccountId||(k.investmentAccountId="Required"),v(k),Object.keys(k).length===0}async function w(){if(y()){g(!0);try{await l(m)}finally{g(!1)}}}const D=o.map(k=>({value:k.memberId,label:`${k.memberName} (${k.relationship})`}));return t.jsxs("div",{className:"space-y-4",children:[t.jsx(ne,{label:"Portfolio Name",required:!0,error:p.portfolioName,children:t.jsx(we,{value:m.portfolioName,onChange:k=>j("portfolioName",k),placeholder:"e.g., Long-Term Growth"})}),t.jsx(ne,{label:"Owner",required:!0,error:p.ownerId,children:t.jsx(Pe,{value:m.ownerId,onChange:M,options:D,placeholder:"Select family member..."})}),t.jsx(ne,{label:"Investment Account",required:!0,error:p.investmentAccountId,children:t.jsx(Pe,{value:m.investmentAccountId,onChange:k=>j("investmentAccountId",k),options:S,placeholder:m.ownerId?S.length?"Select demat account...":"No demat accounts for this member":"Select owner first..."})}),d&&r&&t.jsx(wr,{onClick:r}),t.jsx(va,{onCancel:a,onSubmit:w,submitLabel:d?"Update":"Create Portfolio",loading:b})]})}function hT({portfolioId:s,onSave:l,onCancel:r}){const{stockPortfolios:a}=Qe(),{selectedMember:o}=aa(),u=N.useMemo(()=>{const D=a.filter(k=>k.status==="Active");return o==="all"?D:D.filter(k=>k.ownerId===o)},[a,o]),[d,m]=N.useState({portfolioId:s||"",symbol:"",companyName:"",exchange:"NSE",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[x,p]=N.useState({}),[v,b]=N.useState(!1);function g(D,k){m(_=>({..._,[D]:k})),p(_=>({..._,[D]:void 0}))}const j=N.useMemo(()=>{const D=Number(d.quantity)||0,k=Number(d.pricePerShare)||0;return D*k},[d.quantity,d.pricePerShare]),M=N.useMemo(()=>j+(Number(d.brokerage)||0),[j,d.brokerage]);function S(){const D={};return d.portfolioId||(D.portfolioId="Required"),d.symbol.trim()||(D.symbol="Required"),d.companyName.trim()||(D.companyName="Required"),d.date||(D.date="Required"),(!d.quantity||Number(d.quantity)<=0)&&(D.quantity="Must be > 0"),(!d.pricePerShare||Number(d.pricePerShare)<=0)&&(D.pricePerShare="Must be > 0"),p(D),Object.keys(D).length===0}async function y(){if(S()){b(!0);try{await l(d)}finally{b(!1)}}}const w=u.map(D=>{const k=D.portfolioName?.replace(/^PFL-/,"")||D.portfolioName,_=D.ownerName?`${k} (${D.ownerName})`:k;return{value:D.portfolioId,label:_}});return t.jsxs("div",{className:"space-y-4",children:[t.jsx(ne,{label:"Portfolio",required:!0,error:x.portfolioId,children:t.jsx(Pe,{value:d.portfolioId,onChange:D=>g("portfolioId",D),options:w,placeholder:"Select portfolio..."})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Stock Symbol",required:!0,error:x.symbol,children:t.jsx(we,{value:d.symbol,onChange:D=>g("symbol",D.toUpperCase()),placeholder:"e.g., RELIANCE"})}),t.jsx(ne,{label:"Company Name",required:!0,error:x.companyName,children:t.jsx(we,{value:d.companyName,onChange:D=>g("companyName",D),placeholder:"e.g., Reliance Industries Ltd"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[t.jsx(ne,{label:"Purchase Date",required:!0,error:x.date,children:t.jsx(Fn,{value:d.date,onChange:D=>g("date",D)})}),t.jsx(ne,{label:"Quantity (Shares)",required:!0,error:x.quantity,children:t.jsx(we,{type:"number",value:d.quantity,onChange:D=>g("quantity",D),placeholder:"e.g., 100"})}),t.jsx(ne,{label:"Price per Share ()",required:!0,error:x.pricePerShare,children:t.jsx(we,{type:"number",value:d.pricePerShare,onChange:D=>g("pricePerShare",D),placeholder:"e.g., 2500"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Brokerage ()",children:t.jsx(we,{type:"number",value:d.brokerage,onChange:D=>g("brokerage",D),placeholder:"0"})}),t.jsx("div",{className:"flex flex-col justify-end",children:t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:G(j)}),Number(d.brokerage)>0&&t.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:["Net: ",G(M)]})]})})]}),t.jsx(ne,{label:"Notes",children:t.jsx(we,{value:d.notes,onChange:D=>g("notes",D),placeholder:"Optional notes..."})}),t.jsx(va,{onCancel:r,onSubmit:y,submitLabel:"Buy Stock",loading:v})]})}function vT({portfolioId:s,onSave:l,onCancel:r}){const{stockPortfolios:a,stockHoldings:o}=Qe(),{selectedMember:u}=aa(),d=N.useMemo(()=>{const R=a.filter(I=>I.status==="Active");return u==="all"?R:R.filter(I=>I.ownerId===u)},[a,u]),[m,x]=N.useState({portfolioId:s||"",symbol:"",companyName:"",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[p,v]=N.useState({}),[b,g]=N.useState(!1);function j(R,I){x(q=>({...q,[R]:I})),v(q=>({...q,[R]:void 0}))}const M=N.useMemo(()=>m.portfolioId?o.filter(R=>R.portfolioId===m.portfolioId&&R.quantity>0):[],[o,m.portfolioId]),S=M.find(R=>R.symbol===m.symbol),y=S?.quantity||0,w=N.useMemo(()=>{const R=Number(m.quantity)||0,I=Number(m.pricePerShare)||0;return R*I},[m.quantity,m.pricePerShare]),D=N.useMemo(()=>w-(Number(m.brokerage)||0),[w,m.brokerage]);function k(R){const I=M.find(q=>q.symbol===R);x(q=>({...q,symbol:R,companyName:I?.companyName||""})),v(q=>({...q,symbol:void 0}))}function _(R){x(I=>({...I,portfolioId:R,symbol:"",companyName:"",quantity:""})),v(I=>({...I,portfolioId:void 0}))}function O(){const R={};return m.portfolioId||(R.portfolioId="Required"),m.symbol||(R.symbol="Required"),m.date||(R.date="Required"),(!m.quantity||Number(m.quantity)<=0)&&(R.quantity="Must be > 0"),Number(m.quantity)>y&&(R.quantity=`Max ${y} shares`),(!m.pricePerShare||Number(m.pricePerShare)<=0)&&(R.pricePerShare="Must be > 0"),v(R),Object.keys(R).length===0}async function Y(){if(O()){g(!0);try{await l(m)}finally{g(!1)}}}const P=d.map(R=>{const I=R.portfolioName?.replace(/^PFL-/,"")||R.portfolioName,q=R.ownerName?`${I} (${R.ownerName})`:I;return{value:R.portfolioId,label:q}}),T=M.map(R=>({value:R.symbol,label:`${R.symbol}  ${R.quantity} shares`}));return t.jsxs("div",{className:"space-y-4",children:[t.jsx(ne,{label:"Portfolio",required:!0,error:p.portfolioId,children:t.jsx(Pe,{value:m.portfolioId,onChange:_,options:P,placeholder:"Select portfolio..."})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Stock to Sell",required:!0,error:p.symbol,children:t.jsx(Pe,{value:m.symbol,onChange:k,options:T,placeholder:m.portfolioId?M.length?"Select stock...":"No holdings in this portfolio":"Select portfolio first..."})}),S&&t.jsx("div",{className:"flex flex-col justify-end",children:t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:S.companyName}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",t.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:y})," shares @ ",G(S.avgBuyPrice)," avg"]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Sale Date",required:!0,error:p.date,children:t.jsx(Fn,{value:m.date,onChange:R=>j("date",R)})}),t.jsx(ne,{label:"Quantity to Sell",required:!0,error:p.quantity,children:t.jsx(we,{type:"number",value:m.quantity,onChange:R=>j("quantity",R),placeholder:y?`Max: ${y}`:""})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Sale Price per Share ()",required:!0,error:p.pricePerShare,children:t.jsx(we,{type:"number",value:m.pricePerShare,onChange:R=>j("pricePerShare",R),placeholder:"e.g., 2750"})}),t.jsx(ne,{label:"Brokerage ()",children:t.jsx(we,{type:"number",value:m.brokerage,onChange:R=>j("brokerage",R),placeholder:"0"})})]}),w>0&&t.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Net Sale Amount"}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:G(D)})]}),S&&t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. P&L"}),(()=>{const R=Number(m.quantity)*S.avgBuyPrice,I=D-R,q=I>=0;return t.jsxs("p",{className:`text-sm font-bold tabular-nums ${q?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[q?"+":"",G(I)]})})()]})]})}),t.jsx(ne,{label:"Notes",children:t.jsx(we,{value:m.notes,onChange:R=>j("notes",R),placeholder:"Optional notes..."})}),t.jsx(va,{onCancel:r,onSubmit:Y,submitLabel:"Sell Stock",loading:b})]})}function bT(){const{selectedMember:s}=aa(),{stockPortfolios:l,stockHoldings:r,stockTransactions:a,activeInvestmentAccounts:o,addStockPortfolio:u,updateStockPortfolio:d,deleteStockPortfolio:m,buyStock:x,sellStock:p}=Qe(),{showToast:v,showBlockUI:b,hideBlockUI:g}=Hn(),j=Yn(),{mv:M}=qn(),[S,y]=N.useState(null),[w,D]=N.useState("all"),[k,_]=N.useState("holdings"),[O,Y]=N.useState(!1),P=N.useMemo(()=>{if(!l)return[];const L=l.filter(le=>le.status!=="Inactive");return s==="all"?L:L.filter(le=>le.ownerId===s)},[l,s]),T=N.useMemo(()=>r?P.map(L=>{const le=r.filter(be=>be.portfolioId===L.portfolioId),ve=(a||[]).filter(be=>be.portfolioId===L.portfolioId),z=le.reduce((be,_e)=>be+_e.totalInvestment,0),te=le.reduce((be,_e)=>be+_e.currentValue,0),me=te-z,he=ve.filter(be=>be.type==="SELL"&&be.realizedPL!=null).reduce((be,_e)=>be+_e.realizedPL,0),Z=me+he,xe=z>0?Z/z*100:0,fe=o.find(be=>be.accountId===L.investmentAccountId);return{...L,holdings:le,txns:ve,invested:z,current:te,unrealizedPL:me,realizedPL:he,totalPL:Z,totalPLPct:xe,stockCount:le.length,platform:fe?.platformBroker||L.investmentAccountName||"",clientId:fe?.accountClientId||""}}):[],[P,r,a,o]),R=N.useMemo(()=>{const L=w==="all"?T:T.filter(fe=>fe.portfolioId===w),le=L.reduce((fe,be)=>fe+be.invested,0),ve=L.reduce((fe,be)=>fe+be.current,0),z=L.reduce((fe,be)=>fe+be.unrealizedPL,0),te=L.reduce((fe,be)=>fe+be.realizedPL,0),me=z+te,he=le>0?me/le*100:0,Z=le>0?z/le*100:0,xe=L.reduce((fe,be)=>fe+be.stockCount,0);return{invested:le,current:ve,unrealizedPL:z,unrealizedPLPct:Z,realizedPL:te,totalPL:me,totalPLPct:he,stocks:xe}},[T,w]),I=N.useMemo(()=>r?w==="all"?r.filter(L=>P.some(le=>le.portfolioId===L.portfolioId)):r.filter(L=>L.portfolioId===w):[],[r,P,w]),q=N.useMemo(()=>a?(w==="all"?a.filter(le=>P.some(ve=>ve.portfolioId===le.portfolioId)):a.filter(le=>le.portfolioId===w)).sort((le,ve)=>new Date(ve.date)-new Date(le.date)):[],[a,P,w]);if(l===null||r===null)return t.jsx(Sr,{title:"Loading stocks",cards:5});const A=T.find(L=>L.portfolioId===w),ee=w==="all"?`All Portfolios (${P.length})`:`${A?.portfolioName}  ${M(A?.ownerName,"name")}`;async function se(L){b("Saving...");try{S?.editPortfolio?await d(S.editPortfolio.portfolioId,L):await u(L),v(S?.editPortfolio?"Portfolio updated":"Portfolio created"),y(null)}catch(le){v(le.message||"Failed to save portfolio","error")}finally{g()}}async function Q(){if(S?.editPortfolio&&await j("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){b("Deactivating...");try{await m(S.editPortfolio.portfolioId),v("Portfolio deactivated"),D("all"),y(null)}catch(L){v(L.message||"Failed to deactivate portfolio","error")}finally{g()}}}async function B(L){b("Recording purchase...");try{await x(L),v("Stock purchase recorded"),y(null)}catch(le){v(le.message||"Failed to record purchase","error")}finally{g()}}async function K(L){b("Recording sale...");try{await p(L),v("Stock sale recorded"),y(null)}catch(le){v(le.message||"Failed to record sale","error")}finally{g()}}return t.jsxs("div",{className:"space-y-4",children:[P.length===0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[t.jsx(ao,{size:32,className:"text-[var(--text-dim)]"}),t.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No stock portfolios yet"}),t.jsx("button",{onClick:()=>y("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>Y(!O),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[t.jsx(ao,{size:14,className:"text-violet-400 shrink-0"}),t.jsx("span",{className:"truncate",children:ee}),t.jsx(Ln,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${O?"rotate-180":""}`})]}),O&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>Y(!1)}),t.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl min-w-[280px] py-1 overflow-hidden",children:[t.jsxs("button",{onClick:()=>{D("all"),Y(!1),_("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${w==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",P.length,")"]}),t.jsx("div",{className:"border-t border-[var(--border-light)]"}),T.map(L=>{const le=L.totalPL>=0;return t.jsx("button",{onClick:()=>{D(L.portfolioId),Y(!1),_("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${w===L.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:`text-sm ${w===L.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:L.portfolioName}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[M(L.ownerName,"name"),"  ",L.platform]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(L.current)}),t.jsxs("p",{className:`text-xs font-semibold tabular-nums ${le?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[le?"+":"",L.totalPLPct.toFixed(1),"%"]})]})]})},L.portfolioId)})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[A&&t.jsxs("button",{onClick:()=>y({editPortfolio:A}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(cn,{size:12})," Edit"]}),t.jsxs("button",{onClick:()=>y("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(ta,{size:14})," New Portfolio"]})]})]}),A&&t.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1",children:[t.jsxs("span",{children:[t.jsx("span",{className:"font-semibold",children:"Platform:"})," ",A.platform]}),t.jsxs("span",{children:[t.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",M(A.clientId,"clientId")]}),t.jsxs("span",{children:[t.jsx("span",{className:"font-semibold",children:"Stocks:"})," ",A.stockCount]})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[t.jsx(Ji,{label:"Invested",value:G(R.invested)}),t.jsx(Ji,{label:"Current Value",value:G(R.current),bold:!0}),t.jsx(Ji,{label:"Unrealized P&L",value:`${R.unrealizedPL>=0?"+":""}${G(R.unrealizedPL)}`,sub:`${R.unrealizedPLPct>=0?"+":""}${R.unrealizedPLPct.toFixed(1)}%`,positive:R.unrealizedPL>=0}),t.jsx(Ji,{label:"Realized P&L",value:`${R.realizedPL>=0?"+":""}${G(R.realizedPL)}`,positive:R.realizedPL>=0}),t.jsx(Ji,{label:"Total P&L",value:`${R.totalPL>=0?"+":""}${G(R.totalPL)}`,sub:`${R.totalPLPct>=0?"+":""}${R.totalPLPct.toFixed(1)}%`,positive:R.totalPL>=0,bold:!0})]}),t.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[t.jsxs("button",{onClick:()=>_("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${k==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[t.jsx(Ey,{size:12})," Holdings (",I.length,")"]}),t.jsxs("button",{onClick:()=>_("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${k==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[t.jsx(gu,{size:12})," Transactions (",q.length,")"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>w!=="all"&&y({buy:w}),disabled:w==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${w==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:w==="all"?"Select a portfolio first":"",children:[t.jsx(Ll,{size:14})," Buy"]}),t.jsxs("button",{onClick:()=>w!=="all"&&I.length>0&&y({sell:w}),disabled:w==="all"||I.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${w==="all"||I.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:w==="all"?"Select a portfolio first":"",children:[t.jsx(Fu,{size:14})," Sell"]})]})]}),k==="holdings"&&t.jsx(t.Fragment,{children:I.length>0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Avg Price"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Price"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Value"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Returns"})]})}),t.jsxs("tbody",{children:[I.map(L=>{const le=L.unrealizedPL>=0,ve=w==="all"?T.find(z=>z.portfolioId===L.portfolioId):null;return t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[t.jsxs("td",{className:"py-2.5 px-4",children:[t.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:L.companyName}),t.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[L.symbol,ve&&t.jsxs("span",{className:"ml-1.5 text-[var(--text-dim)] font-sans",children:[" ",ve.portfolioName]})]})]}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:L.quantity}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:G(L.avgBuyPrice)}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(L.currentPrice)}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:G(L.totalInvestment)}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(L.currentValue)}),t.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${le?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[le?"+":"",G(L.unrealizedPL)]}),t.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${le?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[le?"+":"",L.unrealizedPLPct.toFixed(1),"%"]})]},L.holdingId)}),t.jsxs("tr",{className:"bg-[var(--bg-inset)] border-t-2 border-[var(--border-light)]",children:[t.jsxs("td",{className:"py-2.5 px-4 text-xs font-semibold text-[var(--text-muted)]",children:["Total (",I.length," stocks)"]}),t.jsx("td",{colSpan:3,className:"py-2.5 px-3"}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(R.invested)}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(R.current)}),t.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${R.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[R.unrealizedPL>=0?"+":"",G(R.unrealizedPL)]}),t.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${R.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[R.unrealizedPLPct>=0?"+":"",R.unrealizedPLPct.toFixed(1),"%"]})]})]})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:I.map(L=>{const le=L.unrealizedPL>=0,ve=w==="all"?T.find(z=>z.portfolioId===L.portfolioId):null;return t.jsxs("div",{className:"px-4 py-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:L.companyName}),t.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[L.symbol,ve&&t.jsxs("span",{className:"ml-1 font-sans",children:[" ",ve.portfolioName]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:`text-xs font-bold tabular-nums ${le?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[le?"+":"",L.unrealizedPLPct.toFixed(1),"%"]}),t.jsxs("p",{className:`text-xs font-semibold tabular-nums ${le?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[le?"+":"",G(L.unrealizedPL)]})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsxs("div",{className:"text-[var(--text-dim)]",children:[t.jsxs("span",{children:[L.quantity," shares"]}),t.jsx("span",{className:"mx-1",children:""}),t.jsxs("span",{children:["Avg ",G(L.avgBuyPrice)]}),t.jsx("span",{className:"mx-1",children:""}),t.jsxs("span",{children:["CMP ",G(L.currentPrice)]})]}),t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(L.currentValue)})]})]},L.holdingId)})})]}):t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[t.jsx(ao,{size:28,className:"text-[var(--text-dim)]"}),t.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",A?" in this portfolio":""]}),t.jsx("button",{onClick:()=>y({buy:w!=="all"?w:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Buy your first stock"})]})}),k==="transactions"&&t.jsx(t.Fragment,{children:q.length>0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Price"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Brokerage"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Net"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Realized P&L"})]})}),t.jsx("tbody",{children:q.map(L=>{const le=L.type==="BUY",ve=!le&&L.realizedPL!=null,z=ve&&L.realizedPL>=0,te=w==="all"?T.find(me=>me.portfolioId===L.portfolioId):null;return t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[t.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)]",children:L.date}),t.jsx("td",{className:"py-2.5 px-3",children:t.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${le?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:L.type})}),t.jsxs("td",{className:"py-2.5 px-3",children:[t.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:L.symbol}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[140px]",children:[L.companyName,te&&t.jsxs("span",{children:["  ",te.portfolioName]})]})]}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:L.quantity}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:G(L.pricePerShare)}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:G(L.totalAmount)}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-dim)] tabular-nums",children:L.brokerage>0?G(L.brokerage):""}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(L.netAmount)}),t.jsx("td",{className:"py-2.5 px-3 text-right",children:ve?t.jsxs("span",{className:`text-xs font-semibold tabular-nums ${z?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[z?"+":"",G(L.realizedPL)]}):t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},L.transactionId)})})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:q.map(L=>{const le=L.type==="BUY",ve=!le&&L.realizedPL!=null,z=ve&&L.realizedPL>=0;return t.jsxs("div",{className:"px-4 py-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${le?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:L.type}),t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:L.symbol})]}),t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:L.date})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[L.quantity," shares @ ",G(L.pricePerShare)]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(L.netAmount)}),ve&&t.jsxs("p",{className:`text-xs font-semibold tabular-nums ${z?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["P&L: ",z?"+":"",G(L.realizedPL)]})]})]}),L.notes&&t.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:L.notes})]},L.transactionId)})})]}):t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[t.jsx(gu,{size:28,className:"text-[var(--text-dim)]"}),t.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions yet"}),t.jsx("button",{onClick:()=>y({buy:w!=="all"?w:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first purchase"})]})})]}),t.jsx(Lt,{open:S==="addPortfolio"||!!S?.editPortfolio,onClose:()=>y(null),title:S?.editPortfolio?"Edit Portfolio":"New Stock Portfolio",children:t.jsx(xT,{initial:S?.editPortfolio||void 0,onSave:se,onDelete:S?.editPortfolio?Q:void 0,onCancel:()=>y(null)})}),t.jsx(Lt,{open:!!S?.buy,onClose:()=>y(null),title:"Buy Stock",wide:!0,children:t.jsx(hT,{portfolioId:typeof S?.buy=="string"?S.buy:void 0,onSave:B,onCancel:()=>y(null)})}),t.jsx(Lt,{open:!!S?.sell,onClose:()=>y(null),title:"Sell Stock",wide:!0,children:t.jsx(vT,{portfolioId:typeof S?.sell=="string"?S.sell:void 0,onSave:K,onCancel:()=>y(null)})})]})}function Ji({label:s,value:l,sub:r,positive:a,bold:o}){return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${a===void 0?"text-[var(--text-primary)]":a?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l}),r&&t.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${a?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}const gT=["Self","Spouse","Father","Mother","Son","Daughter","Brother","Sister","Other"].map(s=>({value:s,label:s})),Wc={pan:/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,aadhar:/^\d{12}$/,email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,mobile:/^\d{10}$/};function yT({initial:s,onSave:l,onDelete:r,onCancel:a}){const o=!!s,[u,d]=N.useState({memberName:s?.memberName||"",relationship:s?.relationship||"",pan:s?.pan||"",aadhar:s?.aadhar||"",email:s?.email||"",mobile:s?.mobile||"",includeInEmailReports:s?.includeInEmailReports??!0,status:s?.status||"Active"}),[m,x]=N.useState({}),[p,v]=N.useState(!1),[b,g]=N.useState(()=>{const k=s?.dynamicFields||{};return Object.entries(k).map(([_,O])=>({key:_,value:O}))});function j(k,_){d(O=>({...O,[k]:_})),x(O=>({...O,[k]:void 0}))}function M(){const k={};return u.memberName.trim()||(k.memberName="Required"),u.relationship||(k.relationship="Required"),Wc.pan.test(u.pan.toUpperCase())||(k.pan="Format: ABCDE1234F"),Wc.aadhar.test(u.aadhar)||(k.aadhar="12 digits required"),Wc.email.test(u.email)||(k.email="Invalid email"),Wc.mobile.test(u.mobile)||(k.mobile="10 digits required"),x(k),Object.keys(k).length===0}function S(){g(k=>[...k,{key:"",value:""}])}function y(k,_,O){g(Y=>Y.map((P,T)=>T===k?{...P,[_]:O}:P))}function w(k){g(_=>_.filter((O,Y)=>Y!==k))}async function D(){if(!M())return;const k={};b.forEach(({key:_,value:O})=>{const Y=_.trim();Y&&(k[Y]=O)}),v(!0);try{await l({...u,pan:u.pan.toUpperCase(),dynamicFields:k})}finally{v(!1)}}return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Member Name",required:!0,error:m.memberName,children:t.jsx(we,{value:u.memberName,onChange:k=>j("memberName",k),placeholder:"e.g., Jagadeesh"})}),t.jsx(ne,{label:"Relationship",required:!0,error:m.relationship,children:t.jsx(Pe,{value:u.relationship,onChange:k=>j("relationship",k),options:gT,placeholder:"Select..."})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"PAN",required:!0,error:m.pan,children:t.jsx(we,{sensitive:!0,value:u.pan,onChange:k=>j("pan",k.toUpperCase()),placeholder:"ABCDE1234F",maxLength:10})}),t.jsx(ne,{label:"Aadhar",required:!0,error:m.aadhar,children:t.jsx(we,{sensitive:!0,value:u.aadhar,onChange:k=>j("aadhar",k.replace(/\D/g,"")),placeholder:"123456789012",maxLength:12})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Email",required:!0,error:m.email,children:t.jsx(we,{sensitive:!0,type:"email",value:u.email,onChange:k=>j("email",k),placeholder:"email@example.com"})}),t.jsx(ne,{label:"Mobile",required:!0,error:m.mobile,children:t.jsx(we,{sensitive:!0,value:u.mobile,onChange:k=>j("mobile",k.replace(/\D/g,"")),placeholder:"9876543210",maxLength:10})})]}),t.jsx(E3,{checked:u.includeInEmailReports,onChange:k=>j("includeInEmailReports",k),label:"Include in email reports"}),o&&t.jsx(ne,{label:"Status",children:t.jsx(Pe,{value:u.status,onChange:k=>j("status",k),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)]",children:"Custom Fields"}),t.jsxs("button",{onClick:S,type:"button",className:"flex items-center gap-1 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[t.jsx(ta,{size:12})," Add Field"]})]}),b.length===0&&t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"No custom fields. Add DOB, occupation, blood group, etc."}),t.jsx("div",{className:"space-y-2",children:b.map((k,_)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{value:k.key,onChange:O=>y(_,"key",O.target.value),placeholder:"Field name",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),t.jsx("input",{value:k.value,onChange:O=>y(_,"value",O.target.value),placeholder:"Value",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),t.jsx("button",{onClick:()=>w(_),type:"button",className:"p-1 text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:t.jsx(zu,{size:13})})]},_))})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[o&&r?t.jsx(wr,{onClick:r}):t.jsx("div",{}),t.jsx(va,{onCancel:a,onSubmit:D,submitLabel:o?"Update":"Add Member",loading:p})]})]})}const Zc=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],ig={Self:"bg-violet-500/15 text-[var(--accent-violet)]",Spouse:"bg-rose-500/15 text-[var(--accent-rose)]",Father:"bg-blue-500/15 text-[var(--accent-blue)]",Mother:"bg-amber-500/15 text-[var(--accent-amber)]",Son:"bg-emerald-500/15 text-emerald-400",Daughter:"bg-emerald-500/15 text-emerald-400"};function NT(){const{members:s,addMember:l,updateMember:r,deleteMember:a}=Qe(),{showToast:o,showBlockUI:u,hideBlockUI:d}=Hn(),m=Yn(),{mv:x}=qn(),[p,v]=N.useState(null);if(s===null)return t.jsx(Sr,{title:"Loading family",cards:3});const b=s.filter(M=>M.status!=="Inactive");async function g(M){u("Saving member...");try{p?.edit?await r(p.edit.memberId,M):await l(M),o(p?.edit?"Member updated":"Member added"),v(null)}catch(S){o(S.message||"Failed to save member","error")}finally{d()}}async function j(){if(p?.edit&&await m("Deactivate this family member?",{title:"Deactivate Member",confirmLabel:"Deactivate"})){u("Deactivating...");try{await a(p.edit.memberId),o("Member deactivated"),v(null)}catch(M){o(M.message||"Failed to deactivate member","error")}finally{d()}}}return[...new Set(b.flatMap(M=>Object.keys(M.dynamicFields||{})))],t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"flex items-center justify-end px-1",children:t.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(ta,{size:14})," Add Member"]})}),b.length===0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[t.jsx(Pl,{size:32,className:"text-[var(--text-dim)]"}),t.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No family members yet"}),t.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first member"})]}):t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Relationship"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"PAN"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Aadhaar"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Email"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Mobile"}),t.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),t.jsx("tbody",{children:b.map((M,S)=>{const y=M.dynamicFields||{},w=Object.entries(y);return t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[t.jsx("td",{className:"py-2.5 px-4",children:t.jsxs("div",{className:"flex items-center gap-2.5",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Zc[S%Zc.length]}`,children:M.memberName.charAt(0)}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:x(M.memberName,"name")}),w.length>0&&t.jsxs("div",{className:"flex flex-wrap gap-1 mt-0.5",children:[w.slice(0,3).map(([D,k])=>t.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[D,": ",k]},D)),w.length>3&&t.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",w.length-3," more"]})]})]})]})}),t.jsx("td",{className:"py-2.5 px-3",children:t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${ig[M.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.relationship})}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:x(M.pan,"pan")||""}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:x(M.aadhar,"aadhaar")||""}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] truncate max-w-[180px]",children:x(M.email,"email")}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:x(M.mobile,"mobile")}),t.jsx("td",{className:"py-2.5 px-2",children:t.jsx("button",{onClick:()=>v({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:t.jsx(cn,{size:12})})})]},M.memberId)})})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map((M,S)=>{const y=M.dynamicFields||{},w=Object.entries(y);return t.jsxs("div",{onClick:()=>v({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[t.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Zc[S%Zc.length]}`,children:M.memberName.charAt(0)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:x(M.memberName,"name")}),t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${ig[M.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.relationship})]}),t.jsx("p",{className:"text-xs text-[var(--text-muted)] truncate",children:x(M.email,"email")})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:x(M.mobile,"mobile")}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["PAN: ",x(M.pan,"pan")||""]}),M.aadhar&&t.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["Aadhaar: ",x(M.aadhar,"aadhaar")]})]})]}),w.length>0&&t.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[w.slice(0,3).map(([D,k])=>t.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[D,": ",k]},D)),w.length>3&&t.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",w.length-3," more"]})]})]},M.memberId)})})]}),t.jsx(Lt,{open:!!p,onClose:()=>v(null),title:p?.edit?"Edit Member":"Add Family Member",wide:!0,children:t.jsx(yT,{initial:p?.edit||void 0,onSave:g,onDelete:p?.edit?j:void 0,onCancel:()=>v(null)})})]})}const og=["Retirement","Emergency Fund","Child Education","Home Purchase","Car","Travel","Wedding","Custom"].map(s=>({value:s,label:s})),cg=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],Jc={Retirement:{inflation:6,cagr:12},"Emergency Fund":{inflation:0,cagr:7},"Child Education":{inflation:10,cagr:12},"Home Purchase":{inflation:8,cagr:12},Wedding:{inflation:6,cagr:12},Car:{inflation:5,cagr:10},Travel:{inflation:6,cagr:10},Custom:{inflation:6,cagr:12}},ug=[{label:"Basics",icon:fo},{label:"Financials",icon:g5},{label:"Review",icon:Xl}];function jT({initial:s,onSave:l,onDelete:r,onCancel:a}){const o=!!s,{activeMembers:u}=Qe(),d=u.map(T=>({value:T.memberId,label:T.relationship?`${T.memberName} (${T.relationship})`:T.memberName})),[m,x]=N.useState(0),[p,v]=N.useState(()=>{if(o){const T=(s.expectedInflation||.06)*100,R=(s.expectedCAGR||.12)*100,I=s.targetDate?Math.max(0,(new Date(s.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,q=T/100;let A=s.targetAmount||0;q>0&&I>0&&s.goalType!=="Emergency Fund"&&(A=s.targetAmount/Math.pow(1+q,I));const ee=u.find(se=>se.memberName===s.familyMemberName);return{goalType:s.goalType||"",goalName:s.goalName||"",familyMemberId:ee?.memberId||"",todaysCost:Math.round(A).toString(),targetDate:s.targetDate||"",lumpsum:(s.lumpsumInvested||0).toString(),monthlySIP:(s.monthlyInvestment||0).toString(),inflation:T.toString(),cagr:R.toString(),priority:s.priority||"Medium",notes:s.notes||"",monthlyExpenses:(s.monthlyExpenses||"").toString(),emergencyMonths:(s.emergencyMonths||6).toString()}}return{goalType:"",goalName:"",familyMemberId:"",todaysCost:"",targetDate:"",lumpsum:"",monthlySIP:"",inflation:"6",cagr:"12",priority:"Medium",notes:"",monthlyExpenses:"",emergencyMonths:"6"}}),[b,g]=N.useState({}),[j,M]=N.useState(!1);function S(T,R){v(I=>({...I,[T]:R})),g(I=>({...I,[T]:void 0}))}N.useEffect(()=>{if(o||!p.goalType)return;const T=Jc[p.goalType]||Jc.Custom;v(R=>({...R,inflation:T.inflation.toString(),cagr:T.cagr.toString()}))},[p.goalType,o]);const y=p.goalType==="Retirement",w=p.goalType==="Emergency Fund",D=N.useMemo(()=>{const T=(Number(p.inflation)||0)/100,I=(Number(p.cagr)||0)/100/12,q=Number(p.lumpsum)||0,A=Number(p.monthlyExpenses)||0,ee=Number(p.emergencyMonths)||6,se=p.targetDate?Math.max(0,(new Date(p.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,Q=Math.round(se*12);let B=0,K=0;y?(B=A*12*25,K=B*Math.pow(1+T,se)):w?(B=A*ee,K=B):(B=Number(p.todaysCost)||0,K=T>0&&se>0?B*Math.pow(1+T,se):B),K=Math.round(K);const L=q>0&&Q>0?q*Math.pow(1+I,Q):q;let le=0;if(K>0&&Q>0){const he=K-L;he>0&&I>0?le=he/((Math.pow(1+I,Q)-1)/I):he>0&&(le=he/Q),le=Math.max(0,Math.ceil(le))}const ve=le>0&&I>0&&Q>0?le*((Math.pow(1+I,Q)-1)/I):le*Q,z=Math.round(q+le*Q),te=Math.round(K-z),me=q>0&&L>=K;return{todaysCost:B,inflatedTarget:K,yearsToGo:se,months:Q,fvLumpsum:Math.round(L),requiredSIP:le,fvRequiredSIP:Math.round(ve),planTotalInvested:z,planReturns:te,lumpsumCoversGoal:me,hasTarget:K>0}},[p.todaysCost,p.targetDate,p.lumpsum,p.inflation,p.cagr,p.monthlyExpenses,p.emergencyMonths,y,w]);function k(T){const R={};return T===0&&(p.goalType||(R.goalType="Required"),p.goalName.trim()||(R.goalName="Required")),T===1&&(p.targetDate||(R.targetDate="Required"),y||w?(!p.monthlyExpenses||Number(p.monthlyExpenses)<=0)&&(R.monthlyExpenses="Required"):(!p.todaysCost||Number(p.todaysCost)<=0)&&(R.todaysCost="Must be > 0")),g(R),Object.keys(R).length===0}function _(){const T={};return p.goalType||(T.goalType="Required"),p.goalName.trim()||(T.goalName="Required"),p.targetDate||(T.targetDate="Required"),y||w?(!p.monthlyExpenses||Number(p.monthlyExpenses)<=0)&&(T.monthlyExpenses="Required"):(!p.todaysCost||Number(p.todaysCost)<=0)&&(T.todaysCost="Must be > 0"),g(T),Object.keys(T).length===0}function O(){k(m)&&x(T=>Math.min(T+1,2))}async function Y(){if(!_())return;const T=p.familyMemberId&&u.find(R=>R.memberId===p.familyMemberId)?.memberName||"Family";M(!0);try{await l({goalType:p.goalType,goalName:p.goalName,familyMemberId:p.familyMemberId||"",familyMember:T,targetAmount:D.inflatedTarget,targetDate:p.targetDate,priority:p.priority,notes:p.notes,expectedInflation:(Number(p.inflation)||0)/100,expectedCAGR:(Number(p.cagr)||0)/100,monthlyInvestment:D.requiredSIP||0,lumpsumInvested:Number(p.lumpsum)||0,monthlyExpenses:y||w?Number(p.monthlyExpenses)||0:void 0,emergencyMonths:w?Number(p.emergencyMonths)||6:void 0,isRetirement:y,currentCost:D.todaysCost})}finally{M(!1)}}const P=p.familyMemberId&&u.find(T=>T.memberId===p.familyMemberId)?.memberName||"Family";return o?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Goal Type",required:!0,error:b.goalType,children:t.jsx(Pe,{value:p.goalType,onChange:T=>S("goalType",T),options:og,placeholder:"Select type..."})}),t.jsx(ne,{label:"Goal Name",required:!0,error:b.goalName,children:t.jsx(we,{value:p.goalName,onChange:T=>S("goalName",T),placeholder:"e.g., Retirement Fund (2045)"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"For",error:b.familyMemberId,children:t.jsx(Pe,{value:p.familyMemberId,onChange:T=>S("familyMemberId",T),options:d,placeholder:"Family (Default)"})}),t.jsx(ne,{label:"Target Date",required:!0,error:b.targetDate,children:t.jsx(Fn,{value:p.targetDate,onChange:T=>S("targetDate",T),maxDate:null})})]}),y||w?t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Monthly Expenses",required:!0,error:b.monthlyExpenses,children:t.jsx(we,{type:"number",value:p.monthlyExpenses,onChange:T=>S("monthlyExpenses",T),placeholder:"e.g., 50000"})}),w&&t.jsx(ne,{label:"Emergency Months",children:t.jsx(we,{type:"number",value:p.emergencyMonths,onChange:T=>S("emergencyMonths",T),placeholder:"6"})})]}):t.jsx(ne,{label:"Today's Cost",required:!0,error:b.todaysCost,children:t.jsx(we,{type:"number",value:p.todaysCost,onChange:T=>S("todaysCost",T),placeholder:"e.g., 1000000"})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[t.jsx(ne,{label:"Inflation %",children:t.jsx(we,{type:"number",value:p.inflation,onChange:T=>S("inflation",T),placeholder:"6"})}),t.jsx(ne,{label:"Expected CAGR %",children:t.jsx(we,{type:"number",value:p.cagr,onChange:T=>S("cagr",T),placeholder:"12"})}),t.jsx(ne,{label:"Lumpsum Invested",children:t.jsx(we,{type:"number",value:p.lumpsum,onChange:T=>S("lumpsum",T),placeholder:"0"})})]}),D.hasTarget&&t.jsx(dg,{calc:D,inflation:p.inflation,isRetirement:y,isEmergency:w}),t.jsx(ne,{label:"Priority",children:t.jsx(Pe,{value:p.priority,onChange:T=>S("priority",T),options:cg})}),t.jsx(ne,{label:"Notes",children:t.jsx(Ul,{value:p.notes,onChange:T=>S("notes",T),placeholder:"Optional notes...",rows:2})}),t.jsxs("div",{className:"flex items-center justify-between",children:[r?t.jsx(wr,{onClick:r}):t.jsx("div",{}),t.jsx(va,{onCancel:a,onSubmit:Y,submitLabel:"Update Goal",loading:j})]})]}):t.jsxs("div",{className:"space-y-5",children:[t.jsx("div",{className:"flex items-center gap-1 mb-2",children:ug.map((T,R)=>{const I=T.icon,q=R===m,A=R<m;return t.jsxs("div",{className:"flex items-center flex-1",children:[t.jsxs("button",{onClick:()=>{R<m&&x(R)},className:`flex items-center gap-1.5 text-xs font-semibold transition-colors ${q?"text-violet-400":A?"text-emerald-400 cursor-pointer":"text-[var(--text-dim)]"}`,children:[t.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold border ${q?"border-violet-400 bg-violet-500/15":A?"border-emerald-400 bg-emerald-500/15":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:A?t.jsx(Xl,{size:12}):t.jsx(I,{size:12})}),t.jsx("span",{className:"hidden sm:inline",children:T.label})]}),R<ug.length-1&&t.jsx("div",{className:`flex-1 h-px mx-2 ${A?"bg-emerald-400/40":"bg-[var(--border)]"}`})]},T.label)})}),m===0&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Tell us about your financial goal"}),t.jsx(ne,{label:"Goal Type",required:!0,error:b.goalType,children:t.jsx(Pe,{value:p.goalType,onChange:T=>S("goalType",T),options:og,placeholder:"Select type..."})}),p.goalType&&t.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)]",children:[t.jsx(Ll,{size:12,className:"text-[var(--text-dim)] shrink-0"}),t.jsxs("p",{className:"text-[11px] text-[var(--text-muted)]",children:["Default: ",Jc[p.goalType]?.inflation||6,"% inflation, ",Jc[p.goalType]?.cagr||12,"% CAGR",y&&"  Uses 25x annual expenses rule",w&&"  No inflation applied"]})]}),t.jsx(ne,{label:"Goal Name",required:!0,error:b.goalName,children:t.jsx(we,{value:p.goalName,onChange:T=>S("goalName",T),placeholder:"e.g., Retirement Fund (2045)"})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"For",error:b.familyMemberId,children:t.jsx(Pe,{value:p.familyMemberId,onChange:T=>S("familyMemberId",T),options:d,placeholder:"Family (Default)"})}),t.jsx(ne,{label:"Priority",children:t.jsx(Pe,{value:p.priority,onChange:T=>S("priority",T),options:cg})})]})]}),m===1&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:y?"Set your retirement timeline and monthly expenses":w?"Set your emergency fund requirements":"Set your target and investment plan"}),y||w?t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Target Date",required:!0,error:b.targetDate,children:t.jsx(Fn,{value:p.targetDate,onChange:T=>S("targetDate",T),maxDate:null})}),t.jsx(ne,{label:"Monthly Expenses (Today)",required:!0,error:b.monthlyExpenses,children:t.jsx(we,{type:"number",value:p.monthlyExpenses,onChange:T=>S("monthlyExpenses",T),placeholder:"e.g., 50000"})}),w&&t.jsx(ne,{label:"Emergency Fund (Months)",children:t.jsx(we,{type:"number",value:p.emergencyMonths,onChange:T=>S("emergencyMonths",T),placeholder:"6"})}),y&&t.jsx("div",{className:"sm:col-span-2",children:t.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Corpus = Monthly Expenses x 12 x 25 = ",G(D.todaysCost)," (today)"]})})]}):t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Target Date",required:!0,error:b.targetDate,children:t.jsx(Fn,{value:p.targetDate,onChange:T=>S("targetDate",T),maxDate:null})}),t.jsx(ne,{label:"Today's Cost",required:!0,error:b.todaysCost,children:t.jsx(we,{type:"number",value:p.todaysCost,onChange:T=>S("todaysCost",T),placeholder:"e.g., 1000000"})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(ne,{label:`Inflation Rate (%)${w?"  N/A":""}`,children:t.jsx(we,{type:"number",value:p.inflation,onChange:T=>S("inflation",T),placeholder:"6"})}),t.jsx(ne,{label:"Expected Returns (CAGR %)",children:t.jsx(we,{type:"number",value:p.cagr,onChange:T=>S("cagr",T),placeholder:"12"})})]}),D.hasTarget&&t.jsx(dg,{calc:D,inflation:p.inflation,isRetirement:y,isEmergency:w}),t.jsx(ne,{label:"Lumpsum You Plan to Invest (Optional)",children:t.jsx(we,{type:"number",value:p.lumpsum,onChange:T=>S("lumpsum",T),placeholder:"e.g., 500000"})}),D.hasTarget&&D.months>0&&t.jsx(mg,{calc:D,lumpsum:p.lumpsum}),t.jsx(ne,{label:"Notes",children:t.jsx(Ul,{value:p.notes,onChange:T=>S("notes",T),placeholder:"Optional notes...",rows:2})})]}),m===2&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Review your goal before saving"}),t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-3",children:[t.jsx(Ma,{label:"Goal",value:p.goalName,bold:!0}),t.jsx(Ma,{label:"Type",value:p.goalType,color:"violet"}),t.jsx(Ma,{label:"Member",value:P}),t.jsx(Ma,{label:"Priority",value:p.priority,badge:p.priority==="High"?"rose":p.priority==="Low"?"blue":"amber"}),t.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[(y||w)&&t.jsx(Ma,{label:"Monthly Expenses",value:G(Number(p.monthlyExpenses)||0)}),w&&t.jsx(Ma,{label:"Emergency Months",value:p.emergencyMonths}),!y&&!w&&t.jsx(Ma,{label:"Today's Cost",value:G(D.todaysCost)}),t.jsx(Ma,{label:"Inflation",value:`${p.inflation}% p.a.`}),t.jsx(Ma,{label:"Expected CAGR",value:`${p.cagr}% p.a.`}),t.jsx(Ma,{label:"Future Value (Inflated)",value:G(D.inflatedTarget),bold:!0,color:"violet"})]}),t.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[t.jsx(Ma,{label:"Lumpsum",value:G(Number(p.lumpsum)||0)}),t.jsx(Ma,{label:"Required SIP",value:`${G(D.requiredSIP)}/mo`,color:"emerald"}),t.jsx(Ma,{label:"Target Date",value:p.targetDate}),t.jsx(Ma,{label:"Time Remaining",value:D.yearsToGo>0?`${D.yearsToGo.toFixed(1)} years`:""})]})]}),D.hasTarget&&D.months>0&&t.jsx(mg,{calc:D,lumpsum:p.lumpsum,compact:!0})]}),t.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-light)]",children:[t.jsx("div",{children:m>0&&t.jsxs("button",{onClick:()=>x(T=>T-1),className:"flex items-center gap-1 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:[t.jsx(Sy,{size:14})," Back"]})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:a,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),m<2?t.jsxs("button",{onClick:O,className:"flex items-center gap-1 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors",children:["Next ",t.jsx(El,{size:14})]}):t.jsx("button",{onClick:Y,disabled:j,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Saving...":"Create Goal"})]})]})]})}function dg({calc:s,inflation:l,isRetirement:r,isEmergency:a}){return a?t.jsx("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-500/5 border border-blue-500/15",children:t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Emergency Fund: ",t.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:G(s.inflatedTarget)}),t.jsx("span",{className:"text-[var(--text-dim)]",children:" (no inflation applied)"})]})}):t.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 rounded-lg bg-violet-500/5 border border-violet-500/15",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase tracking-wider",children:r?"Corpus Today":"Today's Cost"}),t.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:G(s.todaysCost)})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[l,"% x ",s.yearsToGo.toFixed(1),"yrs"]}),t.jsx(El,{size:12,className:"text-violet-400 mx-auto"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-[10px] font-semibold text-violet-400 uppercase tracking-wider",children:"Future Value"}),t.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:G(s.inflatedTarget)})]})]})}function mg({calc:s,lumpsum:l,compact:r}){const a=Number(l)||0;return r?t.jsxs("div",{className:"rounded-lg border p-3 bg-violet-500/5 border-violet-500/15",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Required Monthly SIP"}),t.jsxs("span",{className:"text-sm font-bold text-violet-400 tabular-nums",children:[s.lumpsumCoversGoal?"0":G(s.requiredSIP),"/mo"]})]}),s.lumpsumCoversGoal&&t.jsx("p",{className:"text-[10px] text-emerald-400 mt-1",children:"Lumpsum alone covers this goal!"})]}):t.jsxs("div",{className:"rounded-lg border p-3 space-y-2 bg-violet-500/5 border-violet-500/15",children:[s.lumpsumCoversGoal?t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(Xl,{size:12,className:"text-emerald-400"}),t.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400",children:"Lumpsum Covers Goal"})]}):t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-violet-400",children:"Required Monthly SIP"}),t.jsxs("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:[G(s.requiredSIP),"/mo"]})]}),s.planTotalInvested>0&&t.jsxs("div",{className:"border-t border-[var(--border-light)] pt-2 space-y-1",children:[a>0&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["Lumpsum ",G(a)," grows to"]}),t.jsx("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:G(s.fvLumpsum)})]}),s.requiredSIP>0&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["SIP ",G(s.requiredSIP),"/mo x ",s.months," months"]}),t.jsx("span",{className:"text-[11px] font-semibold text-blue-400 tabular-nums",children:G(s.fvRequiredSIP)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Total You Invest"}),t.jsx("span",{className:"text-[11px] font-semibold text-[var(--text-primary)] tabular-nums",children:G(s.planTotalInvested)})]}),s.planReturns>0&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Wealth Created"}),t.jsxs("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:["+",G(s.planReturns)]})]})]})]})}function Ma({label:s,value:l,bold:r,color:a,badge:o}){const u=a==="violet"?"text-violet-400":a==="emerald"?"text-emerald-400":"text-[var(--text-primary)]";if(o){const d=o==="rose"?"bg-rose-500/15 text-rose-400":o==="blue"?"bg-blue-500/15 text-blue-400":"bg-amber-500/15 text-amber-400";return t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s}),t.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${d}`,children:l})]})}return t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s}),t.jsx("span",{className:`text-xs ${r?"font-bold text-sm":"font-semibold"} ${u}`,children:l})]})}function fg(s){return s?s.startsWith("PFL-STK-")?"Stock":s.startsWith("INV-")?"Other":"MF":"MF"}function wT({goal:s,onClose:l}){const{mfPortfolios:r,stockPortfolios:a,otherInvList:o,goalPortfolioMappings:u,goalList:d,updateGoalMappings:m}=Qe(),x=N.useMemo(()=>{const T=[];return(r||[]).filter(R=>R.status!=="Inactive").forEach(R=>{T.push({id:R.portfolioId,name:R.portfolioName?.replace(/^PFL-/,"")||R.portfolioName,value:R.currentValue||0,type:"MF",owner:R.ownerName||""})}),(a||[]).filter(R=>R.status!=="Inactive").forEach(R=>{T.push({id:R.portfolioId,name:R.portfolioName,value:R.currentValue||0,type:"Stock",owner:R.ownerName||""})}),(o||[]).filter(R=>R.status==="Active").forEach(R=>{T.push({id:R.investmentId,name:R.investmentName,value:R.currentValue||0,type:"Other",owner:R.familyMemberName||""})}),T},[r,a,o]),p=N.useMemo(()=>{const T={};return(u||[]).forEach(R=>{if(R.goalId===s.goalId)return;T[R.portfolioId]||(T[R.portfolioId]={total:0,goals:[]}),T[R.portfolioId].total+=R.allocationPct;const I=(d||[]).find(q=>q.goalId===R.goalId);T[R.portfolioId].goals.push({goalName:I?.goalName||R.goalId,pct:R.allocationPct})}),T},[u,s.goalId,d]),v=N.useMemo(()=>(u||[]).filter(T=>T.goalId===s.goalId).map(T=>({portfolioId:T.portfolioId,allocationPct:T.allocationPct,investmentType:T.investmentType||fg(T.portfolioId)})),[u,s.goalId]),[b,g]=N.useState(v.length>0?v:[]),j=b.reduce((T,R)=>T+(R.allocationPct||0),0),M=N.useMemo(()=>{const T=[];for(const R of b){const I=p[R.portfolioId],A=(I?.total||0)+(R.allocationPct||0);if(A>100){const ee=x.find(se=>se.id===R.portfolioId);T.push({name:ee?.name||R.portfolioId,combined:A,excess:A-100,goals:I?.goals||[]})}}return T},[b,p,x]),S=(j===100||b.length===0)&&M.length===0;function y(){const T=new Set(b.map(I=>I.portfolioId)),R=x.find(I=>!T.has(I.id));R&&g(I=>[...I,{portfolioId:R.id,allocationPct:0,investmentType:R.type}])}function w(T){g(R=>R.filter((I,q)=>q!==T))}function D(T,R,I){g(q=>q.map((A,ee)=>{if(ee!==T)return A;if(R==="allocationPct")return{...A,allocationPct:Math.max(0,Math.min(100,Number(I)||0))};if(R==="portfolioId"){const se=x.find(Q=>Q.id===I);return{...A,portfolioId:I,investmentType:se?se.type:fg(I)}}return{...A,[R]:I}}))}function k(){m(s.goalId,b),l()}const _=b.reduce((T,R)=>{const I=x.find(q=>q.id===R.portfolioId);return T+(I?I.value*R.allocationPct/100:0)},0),O=x.filter(T=>T.type==="MF"),Y=x.filter(T=>T.type==="Stock"),P=x.filter(T=>T.type==="Other");return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),t.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:G(s.targetAmount)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Linked Investment Value"}),t.jsx("span",{className:"text-sm font-semibold text-emerald-400",children:G(_)})]})]}),b.length===0?t.jsxs("div",{className:"py-6 text-center",children:[t.jsx(no,{size:24,className:"mx-auto mb-2 text-[var(--text-dim)]"}),t.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No investments linked to this goal"})]}):t.jsx("div",{className:"space-y-2",children:b.map((T,R)=>{const I=x.find(Q=>Q.id===T.portfolioId),q=p[T.portfolioId],A=q?.total||0,ee=100-A,se=A+(T.allocationPct||0);return t.jsxs("div",{className:`bg-[var(--bg-inset)] rounded-lg border p-3 space-y-2 ${se>100?"border-rose-500/40":"border-[var(--border-light)]"}`,children:[t.jsxs("select",{value:T.portfolioId,onChange:Q=>D(R,"portfolioId",Q.target.value),className:"w-full px-2 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",children:[O.length>0&&t.jsx("optgroup",{label:"MF Portfolios",children:O.map(Q=>t.jsxs("option",{value:Q.id,disabled:b.some((B,K)=>K!==R&&B.portfolioId===Q.id),children:[Q.name,Q.owner?` (${Q.owner})`:"","  ",G(Q.value)]},Q.id))}),Y.length>0&&t.jsx("optgroup",{label:"Stock Portfolios",children:Y.map(Q=>t.jsxs("option",{value:Q.id,disabled:b.some((B,K)=>K!==R&&B.portfolioId===Q.id),children:[Q.name,Q.owner?` (${Q.owner})`:"","  ",G(Q.value)]},Q.id))}),P.length>0&&t.jsx("optgroup",{label:"Other Investments",children:P.map(Q=>t.jsxs("option",{value:Q.id,disabled:b.some((B,K)=>K!==R&&B.portfolioId===Q.id),children:[Q.name,Q.owner?` (${Q.owner})`:"","  ",G(Q.value)]},Q.id))})]}),A>0&&t.jsxs("div",{className:`text-[10px] px-2 py-1 rounded ${se>100?"bg-rose-500/10 text-rose-400":"bg-blue-500/10 text-blue-400"}`,children:["Already allocated: ",q.goals.map(Q=>`${Q.goalName} (${Q.pct}%)`).join(", ")," ","  ",t.jsxs("span",{className:"font-bold",children:["Available: ",Math.max(0,ee),"%"]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Allocation"}),t.jsx("input",{type:"number",value:T.allocationPct,onChange:Q=>D(R,"allocationPct",Q.target.value),className:"w-16 px-2 py-1 text-xs text-center bg-[var(--bg-input)] border border-[var(--border-input)] rounded-md text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",min:"0",max:ee}),t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"}),t.jsx("button",{onClick:()=>w(R),className:"p-1 text-[var(--text-dim)] hover:text-rose-400 rounded transition-colors ml-1",children:t.jsx(zu,{size:12})})]}),I&&t.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Contributes ",G(I.value*T.allocationPct/100)]})]})]},R)})}),b.length>0&&t.jsxs("div",{className:"flex items-center justify-between px-1",children:[t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Total Allocation"}),t.jsxs("span",{className:`text-xs font-bold ${j===100?"text-emerald-400":j>100?"text-rose-400":"text-amber-400"}`,children:[j,"%",j!==100&&t.jsx("span",{className:"font-normal text-[var(--text-dim)]",children:" (must be 100%)"})]})]}),M.length>0&&t.jsxs("div",{className:"bg-rose-500/10 border border-rose-500/20 rounded-lg px-3 py-2 space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(zs,{size:12,className:"text-rose-400 shrink-0"}),t.jsx("span",{className:"text-[10px] font-bold text-rose-400 uppercase",children:"Over-allocated"})]}),M.map((T,R)=>t.jsxs("p",{className:"text-[10px] text-rose-300",children:[T.name,": ",T.combined,"% total across goals (exceeds 100% by ",T.excess,"%)"]},R))]}),b.length<x.length&&t.jsxs("button",{onClick:y,className:"flex items-center gap-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[t.jsx(ta,{size:14})," Link Investment"]}),t.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:[t.jsx("button",{onClick:l,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),t.jsx("button",{onClick:k,disabled:!S,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Mapping"})]})]})}function ST({goal:s,onClose:l}){const{goalPortfolioMappings:r,mfPortfolios:a,mfHoldings:o}=Qe(),u=N.useMemo(()=>{const m=r.filter(b=>b.goalId===s.goalId);if(m.length===0)return null;const x=m.map(b=>{const g=a.find(w=>w.portfolioId===b.portfolioId);if(!g)return null;const j=o.filter(w=>w.portfolioId===b.portfolioId&&w.units>0),M=j.reduce((w,D)=>w+D.currentValue,0),S=M*b.allocationPct/100,y=j.map(w=>{const D=M>0?w.currentValue/M:0,k=S*D,_=w.currentNav>0?k/w.currentNav:0,O=k-_*w.avgNav;return{fundName:w.fundName,currentValue:w.currentValue,withdrawValue:k,withdrawUnits:Math.min(_,w.units),currentNav:w.currentNav,taxableGain:O,availableUnits:w.units}}).filter(w=>w.withdrawValue>0);return{portfolioName:g.portfolioName,ownerName:g.ownerName,allocationPct:b.allocationPct,portfolioValue:M,linkedValue:S,fundWithdrawals:y}}).filter(Boolean),p=x.reduce((b,g)=>b+g.linkedValue,0),v=x.reduce((b,g)=>b+g.fundWithdrawals.reduce((j,M)=>j+M.taxableGain,0),0);return{portfolioDetails:x,totalLinked:p,totalTaxableGain:v}},[s,r,a,o]);if(!u)return t.jsxs("div",{className:"py-8 text-center space-y-2",children:[t.jsx(zs,{size:24,className:"mx-auto text-amber-400"}),t.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No portfolios linked to this goal"}),t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Link portfolios first to generate a withdrawal plan"}),t.jsx("button",{onClick:l,className:"mt-2 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})]});const d=s.targetAmount>0?u.totalLinked/s.targetAmount*100:0;return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),t.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:G(s.targetAmount)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Available from Linked Portfolios"}),t.jsx("span",{className:`text-sm font-bold ${u.totalLinked>=s.targetAmount?"text-emerald-400":"text-amber-400"}`,children:G(u.totalLinked)})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-card)] rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full ${d>=100?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(d,100)}%`}})}),t.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[d.toFixed(0),"%"]})]}),u.totalTaxableGain>0&&t.jsxs("div",{className:"flex items-center justify-between pt-1",children:[t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Estimated Taxable Gain"}),t.jsx("span",{className:"text-xs font-semibold text-amber-400",children:G(u.totalTaxableGain)})]})]}),u.portfolioDetails.map(m=>t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] overflow-hidden",children:[t.jsxs("div",{className:"px-4 py-2.5 bg-[var(--bg-card)] border-b border-[var(--border-light)] flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:m.portfolioName}),t.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[m.ownerName,"  ",m.allocationPct,"% allocated to goal"]})]}),t.jsx("span",{className:"text-xs font-bold text-[var(--text-primary)]",children:G(m.linkedValue)})]}),t.jsx("div",{className:"px-4 py-2",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"text-[var(--text-dim)]",children:[t.jsx("th",{className:"text-left py-1 font-medium",children:"Fund"}),t.jsx("th",{className:"text-right py-1 font-medium",children:"Units"}),t.jsx("th",{className:"text-right py-1 font-medium",children:"Amount"}),t.jsx("th",{className:"text-right py-1 font-medium",children:"Gain"})]})}),t.jsx("tbody",{children:m.fundWithdrawals.map(x=>t.jsxs("tr",{className:"border-t border-[var(--border-light)]",children:[t.jsx("td",{className:"py-1.5 text-[var(--text-secondary)] max-w-[180px] truncate",children:x.fundName}),t.jsx("td",{className:"py-1.5 text-right text-[var(--text-muted)] tabular-nums",children:x.withdrawUnits.toFixed(2)}),t.jsx("td",{className:"py-1.5 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:G(x.withdrawValue)}),t.jsx("td",{className:`py-1.5 text-right tabular-nums font-semibold ${x.taxableGain>=0?"text-emerald-400":"text-rose-400"}`,children:G(Math.abs(x.taxableGain))})]},x.fundName))})]})})]},m.portfolioName)),t.jsx("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:t.jsx("button",{onClick:l,className:"px-5 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})})]})}const pg={"On Track":"bg-blue-500/15 text-[var(--accent-blue)]",Behind:"bg-amber-500/15 text-[var(--accent-amber)]",Critical:"bg-rose-500/15 text-[var(--accent-rose)]","Needs Attention":"bg-amber-500/15 text-[var(--accent-amber)]",Achieved:"bg-emerald-500/15 text-emerald-400",Paused:"bg-slate-500/15 text-[var(--text-muted)]"},CT={High:"bg-rose-500/15 text-[var(--accent-rose)]",Medium:"bg-amber-500/15 text-[var(--accent-amber)]",Low:"bg-blue-500/15 text-[var(--accent-blue)]"},xg={"On Track":"bg-blue-500",Behind:"bg-amber-500",Critical:"bg-rose-500","Needs Attention":"bg-amber-500",Achieved:"bg-emerald-500",Paused:"bg-slate-500"};function kT(){const{selectedMember:s,member:l}=aa(),{goalList:r,addGoal:a,updateGoal:o,deleteGoal:u,goalPortfolioMappings:d,mfHoldings:m,activeMembers:x,mfPortfolios:p,stockPortfolios:v,otherInvList:b}=Qe(),{showToast:g,showBlockUI:j,hideBlockUI:M}=Hn(),S=Yn(),[y,w]=N.useState(null),[D,k]=N.useState(null),[_,O]=N.useState(null),[Y,P]=N.useState(null),[T,R]=N.useState(!1),I=N.useRef(new Set),q=N.useMemo(()=>{if(!r)return[];const Z=r.filter(xe=>xe.isActive!==!1);return s==="all"?Z:Z.filter(xe=>xe.familyMemberId===s)},[r,s]);function A(Z){if(!Z.familyMemberName||Z.familyMemberName==="Family")return Z.familyMemberName||"Family";const xe=(x||[]).find(fe=>fe.memberName===Z.familyMemberName);return xe?.relationship?`${Z.familyMemberName} (${xe.relationship})`:Z.familyMemberName}const ee=q.reduce((Z,xe)=>Z+(xe.targetAmount||0),0),se=q.reduce((Z,xe)=>Z+(xe.currentValue||0),0),Q=q.reduce((Z,xe)=>Z+(xe.monthlyInvestment||0),0),B=ee>0?se/ee*100:0,K=q.filter(Z=>Z.status==="Needs Attention").length,L=q.filter(Z=>Z.status==="Achieved").length,le=new Set(["Equity","ELSS","Index"]),ve=N.useMemo(()=>{if(!q.length||!d?.length||!m?.length)return[];const Z=new Date,xe=[];for(const fe of q){if(fe.status==="Achieved")continue;const _e=(new Date(fe.targetDate)-Z)/(365.25*24*60*60*1e3);if(_e>3||_e<=0)continue;const Nt=d.filter(Ie=>Ie.goalId===fe.goalId);if(!Nt.length)continue;let Ot=0,ra=0;for(const Ie of Nt){const Je=m.filter(Ct=>Ct.portfolioId===Ie.portfolioId&&Ct.units>0);for(const Ct of Je){const ot=Ct.currentValue*(Ie.allocationPct/100);Ot+=ot,le.has(Ct.category)?ra+=ot:Ct.category==="Hybrid"&&(ra+=ot*.65)}}const Kt=Ot>0?ra/Ot*100:0,ye=_e<1?30:_e<2?50:70;Kt>ye&&xe.push({goalId:fe.goalId,goalName:fe.goalName,yearsLeft:_e.toFixed(1),equityPct:Math.round(Kt),maxEquity:ye,excessPct:Math.round(Kt-ye)})}return xe},[q,d,m]);if(N.useEffect(()=>{const Z=new Set(q.filter(fe=>fe.status==="Achieved").map(fe=>fe.goalId)),xe=I.current;for(const fe of Z)if(!xe.has(fe)){const be=q.find(_e=>_e.goalId===fe);be&&(P(be),setTimeout(()=>P(null),5e3))}I.current=Z},[q]),r===null)return t.jsx(Sr,{title:"Loading goals",cards:5});async function z(Z){j("Saving...");try{y?.edit?await o(y.edit.goalId,Z):await a(Z),g(y?.edit?"Goal updated":"Goal added"),w(null)}catch(xe){g(xe.message||"Failed to save goal","error")}finally{M()}}async function te(){if(y?.edit&&await S("Delete this goal?",{title:"Delete Goal",confirmLabel:"Delete"})){j("Deleting...");try{await u(y.edit.goalId),g("Goal deleted"),w(null)}catch(Z){g(Z.message||"Failed to delete goal","error")}finally{M()}}}function me(Z){return!Z.targetAmount||Z.targetAmount===0?0:Math.min((Z.currentValue||0)/Z.targetAmount*100,100)}function he(Z){if(!Z.targetDate)return null;const fe=(new Date(Z.targetDate)-new Date)/(365.25*24*60*60*1e3);return fe>0?fe.toFixed(1):"0"}return t.jsxs("div",{className:"space-y-4",children:[q.length===0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[t.jsx(fo,{size:32,className:"text-[var(--text-dim)]"}),t.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No goals set",l?` for ${l.memberName}`:""]}),t.jsx("button",{onClick:()=>w("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first goal"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[t.jsx(Dl,{label:"Goals",value:q.length,sub:L>0?`${L} achieved`:void 0}),t.jsx(Dl,{label:"Target",value:G(ee),bold:!0}),t.jsx(Dl,{label:"Current Value",value:G(se),bold:!0}),t.jsx(Dl,{label:"Total Gap",value:G(Math.max(ee-se,0)),sub:ee>se?"remaining to target":"all targets met",positive:ee<=se,bold:!0}),t.jsx(Dl,{label:"Overall Progress",value:`${B.toFixed(1)}%`,positive:B>=50,bold:!0}),t.jsx(Dl,{label:"Monthly SIP",value:G(Q),sub:K>0?`${K} need attention`:void 0})]}),Y&&t.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-500/10 via-yellow-500/10 to-emerald-500/10 rounded-xl border border-emerald-500/30 px-4 py-3 flex items-center gap-3 animate-fade-in overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((Z,xe)=>t.jsx("span",{className:"absolute text-sm animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:["","","","",""][xe%5]},xe))}),t.jsx(B0,{size:20,className:"text-yellow-400 shrink-0 relative z-10"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("p",{className:"text-sm font-bold text-emerald-400",children:"Goal Achieved!"}),t.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[Y.goalName,"  Congratulations!"]})]}),t.jsx("button",{onClick:()=>P(null),className:"ml-auto text-xs text-[var(--text-dim)] hover:text-[var(--text-primary)] relative z-10",children:"Dismiss"})]}),ve.length>0&&t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-amber-500/20 p-4 space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(pC,{size:14,className:"text-amber-400"}),t.jsx("p",{className:"text-xs font-bold text-amber-400 uppercase tracking-wider",children:"De-risking Alerts"})]}),t.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"These goals are approaching their deadline with high equity exposure. Consider moving funds to debt/liquid for capital protection."}),t.jsx("div",{className:"space-y-1.5",children:ve.map(Z=>t.jsxs("div",{className:"flex items-center justify-between bg-amber-500/5 rounded-lg px-3 py-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:Z.goalName}),t.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[Z.yearsLeft," yrs left"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-xs font-bold text-amber-400",children:[Z.equityPct,"% equity"]}),t.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Recommended max ",Z.maxEquity,"%"]})]})]},Z.goalId))})]}),L>0&&t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-emerald-500/20 p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(B0,{size:14,className:"text-yellow-400"}),t.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Achieved Goals"})]}),t.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-1",children:q.filter(Z=>Z.status==="Achieved").map(Z=>t.jsxs("div",{className:"shrink-0 bg-emerald-500/10 border border-emerald-500/20 rounded-lg px-3 py-2 min-w-[160px]",children:[t.jsx("p",{className:"text-xs font-semibold text-emerald-400",children:Z.goalName}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] mt-1",children:G(Z.targetAmount)}),t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:A(Z)})]},Z.goalId))})]}),(d||[]).length>0&&t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsxs("button",{onClick:()=>R(Z=>!Z),className:"w-full flex items-center gap-2 px-4 py-3 hover:bg-[var(--bg-hover)] transition-colors",children:[T?t.jsx(Ln,{size:14,className:"text-[var(--text-dim)]"}):t.jsx(El,{size:14,className:"text-[var(--text-dim)]"}),t.jsx(Pf,{size:14,className:"text-violet-400"}),t.jsx("span",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Investment Allocation Manager"})]}),T&&t.jsx(DT,{mappings:d,goals:q,mfPortfolios:p,stockPortfolios:v,otherInvList:b})]}),t.jsx("div",{className:"flex items-center justify-end gap-2 px-1",children:t.jsxs("button",{onClick:()=>w("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(ta,{size:14})," Add Goal"]})}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"hidden lg:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Goal"}),!l&&t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"For"}),t.jsxs("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[t.jsx("div",{children:"Amount"}),t.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),t.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider min-w-[120px]",children:"Progress"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Monthly SIP"}),t.jsxs("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[t.jsx("div",{children:"Timeline"}),t.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Years Left"})]}),t.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),t.jsx("tbody",{children:q.map(Z=>{const xe=me(Z),fe=he(Z);return t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[t.jsxs("td",{className:"py-2.5 px-4",children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:Z.goalName}),t.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[t.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${CT[Z.priority]||""}`,children:Z.priority}),Z.notes&&t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:Z.notes})]})]}),!l&&t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:A(Z)}),t.jsxs("td",{className:"py-2.5 px-3 text-right",children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(Z.currentValue)}),t.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:G(Z.targetAmount)})]}),t.jsx("td",{className:"py-2.5 px-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full ${xg[Z.status]||"bg-blue-500"}`,style:{width:`${xe}%`}})}),t.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums w-10 text-right",children:[xe.toFixed(0),"%"]})]})}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(Z.monthlyInvestment)}),t.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)] tabular-nums",children:Z.status==="Achieved"?"Done":fe?`${fe} yrs`:""}),t.jsx("td",{className:"py-2.5 px-3 text-center",children:t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${pg[Z.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:Z.status})}),t.jsx("td",{className:"py-2.5 px-2",children:t.jsxs("div",{className:"flex items-center gap-1",children:[(()=>{const be=(d||[]).filter(_e=>_e.goalId===Z.goalId).length;return t.jsxs("button",{onClick:()=>k(Z),className:`relative p-1.5 rounded-md transition-colors ${be>0?"text-violet-400 hover:bg-violet-500/15":"text-amber-400 hover:bg-amber-500/15"}`,title:be>0?`${be} investment(s) linked`:"No investments linked  click to link",children:[t.jsx(no,{size:13}),be===0&&t.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-2 h-2 bg-amber-400 rounded-full animate-pulse"})]})})(),t.jsx("button",{onClick:()=>O(Z),className:"p-1.5 rounded-md text-[var(--text-dim)] hover:text-emerald-400 hover:bg-emerald-500/15 transition-colors",title:"Withdrawal plan",children:t.jsx(Cy,{size:13})}),t.jsx("button",{onClick:()=>w({edit:Z}),className:"p-1.5 rounded-md text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-white/5 transition-colors",title:"Edit goal",children:t.jsx(cn,{size:13})})]})})]},Z.goalId)})})]})}),t.jsx("div",{className:"lg:hidden divide-y divide-[var(--border-light)]",children:q.map(Z=>{const xe=me(Z),fe=he(Z);return t.jsxs("div",{onClick:()=>w({edit:Z}),className:"px-4 py-4 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:Z.goalName}),t.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[t.jsxs("span",{className:"text-xs text-[var(--text-muted)]",children:[A(Z),"  SIP ",G(Z.monthlyInvestment),"/mo"]}),(()=>{const be=(d||[]).filter(_e=>_e.goalId===Z.goalId).length;return be>0?t.jsxs("span",{className:"text-[10px] font-semibold text-violet-400 flex items-center gap-0.5",children:[t.jsx(no,{size:9}),be]}):t.jsxs("span",{className:"text-[10px] font-semibold text-amber-400 flex items-center gap-0.5",children:[t.jsx(no,{size:9}),"Unlinked"]})})()]})]}),t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${pg[Z.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:Z.status})]}),t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full ${xg[Z.status]||"bg-blue-500"}`,style:{width:`${xe}%`}})}),t.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[xe.toFixed(0),"%"]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-xs text-[var(--text-muted)]",children:[G(Z.currentValue)," ",t.jsx("span",{className:"text-[var(--text-dim)]",children:"of"})," ",G(Z.targetAmount)]}),t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:Z.status==="Achieved"?"Done":fe?`${fe} yrs left`:""})]})]},Z.goalId)})})]})]}),t.jsx(Lt,{open:!!y,onClose:()=>w(null),title:y?.edit?"Edit Goal":"Add Goal",wide:!0,children:t.jsx(jT,{initial:y?.edit||void 0,onSave:z,onDelete:y?.edit?te:void 0,onCancel:()=>w(null)})}),t.jsx(Lt,{open:!!D,onClose:()=>k(null),title:`Link Portfolios  ${D?.goalName||""}`,wide:!0,children:D&&t.jsx(wT,{goal:D,onClose:()=>k(null)})}),t.jsx(Lt,{open:!!_,onClose:()=>O(null),title:`Withdrawal Plan  ${_?.goalName||""}`,wide:!0,children:_&&t.jsx(ST,{goal:_,onClose:()=>O(null)})})]})}function Dl({label:s,value:l,sub:r,positive:a,bold:o}){return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${a===void 0?"text-[var(--text-primary)]":a?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:l}),r&&t.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:r})]})}function DT({mappings:s,goals:l,mfPortfolios:r,stockPortfolios:a,otherInvList:o}){const u=N.useMemo(()=>{const p={};return(r||[]).forEach(v=>{p[v.portfolioId]={name:v.portfolioName?.replace(/^PFL-/,"")||v.portfolioName,value:v.currentValue||0,type:"MF"}}),(a||[]).forEach(v=>{p[v.portfolioId]={name:v.portfolioName,value:v.currentValue||0,type:"Stock"}}),(o||[]).forEach(v=>{p[v.investmentId]={name:v.investmentName,value:v.currentValue||0,type:"Other"}}),p},[r,a,o]),d=N.useMemo(()=>{const p={};return(s||[]).forEach(v=>{p[v.portfolioId]||(p[v.portfolioId]=[]);const b=(l||[]).find(g=>g.goalId===v.goalId);p[v.portfolioId].push({goalId:v.goalId,goalName:b?.goalName||v.goalId,pct:v.allocationPct})}),Object.entries(p).map(([v,b])=>{const g=u[v]||{name:v,value:0,type:"?"},j=b.reduce((M,S)=>M+S.pct,0);return{id:v,name:g.name,value:g.value,type:g.type,goals:b,totalPct:j,free:Math.max(0,100-j)}}).sort((v,b)=>b.totalPct-v.totalPct)},[s,l,u]);if(d.length===0)return null;const m={MF:"MF",Stock:"Stock",Other:"Other"},x={MF:"text-blue-400",Stock:"text-emerald-400",Other:"text-amber-400"};return t.jsxs("div",{className:"px-4 pb-4 space-y-2",children:[t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-2",children:"Shows how each investment is split across goals. Total should not exceed 100%."}),d.map(p=>t.jsxs("div",{className:`rounded-lg border p-3 ${p.totalPct>100?"border-rose-500/40 bg-rose-500/5":"border-[var(--border-light)] bg-[var(--bg-inset)]"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`text-[10px] font-bold ${x[p.type]||"text-[var(--text-dim)]"}`,children:m[p.type]||p.type}),t.jsx("span",{className:"text-xs font-medium text-[var(--text-primary)]",children:p.name}),t.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:G(p.value)})]}),t.jsxs("span",{className:`text-xs font-bold tabular-nums ${p.totalPct>100?"text-rose-400":p.totalPct===100?"text-emerald-400":"text-amber-400"}`,children:[p.totalPct,"% allocated"]})]}),t.jsx("div",{className:"h-2 bg-[var(--bg-card)] rounded-full overflow-hidden flex mb-1.5",children:p.goals.map((v,b)=>t.jsx("div",{className:`h-full ${["bg-violet-500","bg-blue-500","bg-emerald-500","bg-amber-500","bg-rose-500","bg-pink-500"][b%6]}`,style:{width:`${Math.min(v.pct,100)}%`},title:`${v.goalName}: ${v.pct}%`},b))}),t.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-0.5",children:[p.goals.map((v,b)=>t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:`w-2 h-2 rounded-full ${["bg-violet-500","bg-blue-500","bg-emerald-500","bg-amber-500","bg-rose-500","bg-pink-500"][b%6]}`}),t.jsx("span",{className:"text-[10px] text-[var(--text-secondary)]",children:v.goalName}),t.jsxs("span",{className:"text-[10px] font-bold text-[var(--text-primary)] tabular-nums",children:[v.pct,"%"]})]},b)),p.free>0&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"w-2 h-2 rounded-full bg-[var(--bg-card)] border border-[var(--border-light)]"}),t.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Unallocated"}),t.jsxs("span",{className:"text-[10px] font-bold text-[var(--text-dim)] tabular-nums",children:[p.free,"%"]})]})]})]},p.id))]})}const MT=[{label:"Reports & Transactions",desc:"View transaction history",icon:My,path:"/reports",color:"bg-blue-500/15 text-[var(--accent-blue)]"},{label:"Reminders",desc:"View and manage reminders",icon:Pu,path:"/reminders",color:"bg-amber-500/15 text-[var(--accent-amber)]"},{label:"Health Check",desc:"Financial health questionnaire",icon:Bf,path:"/health-check",color:"bg-emerald-500/15 text-emerald-400"},{label:"Settings",desc:"App configuration",icon:pp,path:"/settings",color:"bg-slate-500/15 text-[var(--text-muted)]"},{label:"About",desc:"Capital Friends v2.0",icon:L5,path:"/about",color:"bg-violet-500/15 text-[var(--accent-violet)]"},{label:"Support Developer",desc:"UPI: jagadeeshmanne.hdfc@kphdfc",icon:bu,path:"/about",color:"bg-pink-500/15 text-pink-400"}];function AT(){const s=Hs();return t.jsxs("div",{className:"space-y-4",children:[t.jsx("h1",{className:"text-base font-bold text-[var(--text-primary)]",children:"More"}),t.jsx("div",{className:"space-y-2",children:MT.map(l=>t.jsxs("button",{onClick:()=>s(l.path),className:"w-full flex items-center gap-3 bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[t.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${l.color}`,children:t.jsx(l.icon,{size:18})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:l.label}),t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:l.desc})]})]},l.label))})]})}const eu=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function TT(){const s=Hs(),{theme:l,toggle:r}=by(),{members:a,settings:o,updateSettings:u,updateMember:d,healthCheckCompleted:m}=Qe(),{user:x,signOut:p}=Ys(),{masked:v,toggleMask:b,mv:g}=qn(),j=a.filter(Q=>Q.status==="Active"),[M,S]=N.useState("Daily"),[y,w]=N.useState("09"),[D,k]=N.useState("Monday"),[_,O]=N.useState(!1),[Y,P]=N.useState(!1),[T,R]=N.useState(!1),[I,q]=N.useState(null);N.useEffect(()=>{!o||!Object.keys(o).length||(o.EmailFrequency&&S(o.EmailFrequency),o.EmailHour!=null&&w(String(o.EmailHour).padStart(2,"0")),o.EmailDayOfWeek!=null&&k(eu[Number(o.EmailDayOfWeek)]||"Monday"))},[o]);async function A(){O(!0),P(!1);try{const Q=eu.indexOf(D);await u({EmailFrequency:M==="None"?"None":M,EmailConfigured:M==="None"?"FALSE":"TRUE",EmailHour:String(parseInt(y,10)),EmailMinute:"0",EmailDayOfWeek:String(Q>=0?Q:1)}),P(!0),setTimeout(()=>P(!1),2e3)}catch(Q){alert("Failed to save: "+Q.message)}finally{O(!1)}}async function ee(){R(!0),q(null);try{const Q=await yS();q(Q)}catch(Q){q({error:Q.message})}finally{R(!1)}}function se(Q){if(!Q)return"Never";try{const B=new Date(Q);if(isNaN(B.getTime()))return"Unknown";const K=Date.now(),L=Math.floor((K-B.getTime())/(1e3*60));if(L<1)return"Just now";if(L<60)return L+" min ago";const le=Math.floor(L/60);return le<24?le+"h ago":B.toLocaleDateString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}}return t.jsxs("div",{className:"space-y-4 max-w-xl mx-auto",children:[t.jsxs(Ds,{children:[t.jsx(Ms,{icon:t.jsx(SC,{size:14}),title:"Account"}),t.jsxs("div",{className:"px-4 py-4 space-y-3",children:[t.jsx(Ha,{label:"Signed in as",children:t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate max-w-[200px]",children:g(x?.email,"email")||""})}),t.jsx(Ha,{label:"Name",children:t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:x?.name||""})}),t.jsx("div",{className:"pt-1",children:t.jsxs("button",{onClick:p,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-red-500 border border-red-200 dark:border-red-800/40 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[t.jsx(Oy,{size:12}),"Sign Out"]})})]})]}),t.jsxs(Ds,{children:[t.jsx(Ms,{icon:t.jsx(Bf,{size:14}),title:"Financial Health Check"}),t.jsxs("div",{className:"px-4 py-4 space-y-3",children:[t.jsx(Ha,{label:"Status",children:t.jsx("span",{className:`text-xs font-semibold ${m?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:m?"Completed":"Not completed"})}),t.jsx("div",{className:"flex justify-end pt-1",children:t.jsxs("button",{onClick:()=>s("/health-check"),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[t.jsx(Bf,{size:12}),m?"Update Answers":"Take Health Check"]})})]})]}),t.jsxs(Ds,{children:[t.jsx(Ms,{icon:t.jsx(v5,{size:14}),title:"Data & Sync"}),t.jsxs("div",{className:"px-4 py-4 space-y-3",children:[t.jsx(Ha,{label:"Last synced",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:se(o.masterDataLastSync)}),o._stale&&t.jsx("span",{className:"text-[10px] font-bold text-amber-600 px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30",children:"STALE"})]})}),o._navDataDate&&t.jsx(Ha,{label:"NAV data as of",children:t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:o._navDataDate})}),t.jsx(Ha,{label:"Auto-refresh",children:t.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Daily at ~6:30 AM"})}),t.jsxs("div",{className:"flex items-center justify-between pt-1",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Refresh MF NAVs, ATH & Stock prices"}),t.jsxs("button",{onClick:ee,disabled:T,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg bg-violet-600 text-white hover:bg-violet-500 transition-colors disabled:opacity-50",children:[t.jsx(Il,{size:12,className:T?"animate-spin":""}),T?"Refreshing...":"Refresh Now"]})]}),I&&t.jsx("div",{className:`text-xs px-3 py-2 rounded-lg ${I.error?"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400":"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400"}`,children:I.error?"Failed: "+I.error:`Done  MF: ${I.mf?.count||0} | ATH: ${I.ath?.count||0} | Stocks: ${I.stocks?.count||0} (${I.duration})`})]})]}),t.jsxs(Ds,{children:[t.jsx(Ms,{icon:t.jsx(Ff,{size:14}),title:"Appearance"}),t.jsx("div",{className:"px-4 py-4",children:t.jsx(Ha,{label:"Theme",children:t.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[l==="dark"?t.jsx(Ry,{size:12}):t.jsx(Ff,{size:12}),l==="dark"?"Dark":"Light"]})})})]}),t.jsxs(Ds,{children:[t.jsx(Ms,{icon:t.jsx(G5,{size:14}),title:"Email Reports"}),t.jsxs("div",{className:"px-4 py-4 space-y-3",children:[t.jsx(Ha,{label:"Frequency",children:t.jsx(Of,{value:M,onChange:S,options:["Daily","Weekly","Monthly","None"]})}),M!=="None"&&t.jsx(Ha,{label:"Send time",children:t.jsx(Of,{value:y,onChange:w,options:Array.from({length:24},(Q,B)=>String(B).padStart(2,"0")),suffix:":00"})}),M==="Weekly"&&t.jsx(Ha,{label:"Day",children:t.jsx(Of,{value:D,onChange:k,options:eu.slice(1).concat(eu[0])})}),t.jsx("div",{className:"flex justify-end pt-1",children:t.jsx("button",{onClick:A,disabled:_,className:"px-4 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:_?"Saving...":Y?"Saved!":"Save"})}),j.length>0&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Send report to"}),t.jsx("div",{className:"space-y-2",children:j.map(Q=>t.jsx(ET,{member:Q,onToggle:d},Q.memberId))})]})}),j.length===0&&t.jsx("p",{className:"text-xs text-[var(--text-dim)] pt-1",children:"Add family members to configure email recipients."})]})]}),t.jsxs(Ds,{children:[t.jsx(Ms,{icon:t.jsx(iu,{size:14}),title:"Privacy"}),t.jsxs("div",{className:"px-4 py-4 space-y-3",children:[t.jsx(Ha,{label:"Mask sensitive data",children:t.jsx("button",{onClick:b,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 ${v?"bg-amber-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:t.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${v?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[v?"Sensitive data is hidden. ":"","Masks PAN, Aadhaar, mobile, email, account numbers, client IDs, and policy numbers across the app. Use the ",v?t.jsx(iu,{size:11,className:"inline text-amber-400"}):t.jsx(fp,{size:11,className:"inline"})," icon in the header to quickly toggle."]}),v&&t.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[t.jsx(iu,{size:14,className:"text-amber-400 shrink-0"}),t.jsx("p",{className:"text-xs text-amber-400 font-medium",children:"Data masking is active  safe for screen sharing"})]})]})]}),t.jsxs(Ds,{children:[t.jsx(Ms,{icon:t.jsx(E5,{size:14}),title:"Display"}),t.jsxs("div",{className:"px-4 py-4 space-y-3",children:[t.jsx(Ha,{label:"Currency",children:t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"INR ()"})}),t.jsx(Ha,{label:"Date format",children:t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"DD/MM/YYYY"})})]})]})]})}function Ds({children:s}){return t.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:s})}function Ms({icon:s,title:l}){return t.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-[var(--text-muted)]",children:s}),t.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:l})]})})}function Ha({label:s,children:l}){return t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] shrink-0",children:s}),l]})}function Of({value:s,onChange:l,options:r,suffix:a}){return t.jsxs("div",{className:"relative",children:[t.jsx("select",{value:s,onChange:o=>l(o.target.value),className:"appearance-none pl-3 pr-7 py-1.5 text-xs font-semibold bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-violet-500 cursor-pointer",children:r.map(o=>t.jsxs("option",{value:o,children:[o,a||""]},o))}),t.jsx(Ln,{size:10,className:"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function ET({member:s,onToggle:l}){const{mv:r}=qn(),a=s.includeInEmailReports==="Yes"||s.includeInEmailReports===!0,[o,u]=N.useState(!1);async function d(){u(!0);try{await l(s.memberId,{...s,includeInEmailReports:a?"No":"Yes"})}catch{}finally{u(!1)}}return t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center shrink-0",children:t.jsx("span",{className:"text-[10px] font-bold text-violet-600",children:s.memberName?.charAt(0)?.toUpperCase()})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:r(s.memberName,"name")}),s.email&&t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] truncate",children:r(s.email,"email")})]})]}),t.jsx("button",{onClick:d,disabled:o,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 disabled:opacity-50 ${a?"bg-violet-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:t.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${a?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})]})}const _T=["SIP Due Date","Insurance Renewal","FD Maturity","Loan EMI","Investment Review","Custom"].map(s=>({value:s,label:s})),OT=[{value:"One-time",label:"One-time"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],RT=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}];function IT({initial:s,onSave:l,onDelete:r,onCancel:a}){const o=!!s,{activeMembers:u}=Qe(),d=u.map(y=>({value:y.memberId,label:y.memberName})),[m,x]=N.useState({reminderType:s?.reminderType||"",title:s?.title||"",description:s?.description||"",familyMemberId:s?.familyMemberId||"",dueDate:s?.dueDate||"",advanceNoticeDays:s?.advanceNoticeDays?.toString()||"7",frequency:s?.frequency||"One-time",priority:s?.priority||"Medium",status:s?.status||"Pending"}),[p,v]=N.useState({}),[b,g]=N.useState(!1);function j(y,w){x(D=>({...D,[y]:w})),v(D=>({...D,[y]:void 0}))}function M(){const y={};return m.reminderType||(y.reminderType="Required"),m.title.trim()||(y.title="Required"),m.familyMemberId||(y.familyMemberId="Required"),m.dueDate||(y.dueDate="Required"),v(y),Object.keys(y).length===0}async function S(){if(M()){g(!0);try{await l({...m,advanceNoticeDays:Number(m.advanceNoticeDays)||7})}finally{g(!1)}}}return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Reminder Type",required:!0,error:p.reminderType,children:t.jsx(Pe,{value:m.reminderType,onChange:y=>j("reminderType",y),options:_T,placeholder:"Select type..."})}),t.jsx(ne,{label:"Title",required:!0,error:p.title,children:t.jsx(we,{value:m.title,onChange:y=>j("title",y),placeholder:"e.g., HDFC SIP Due"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ne,{label:"Family Member",required:!0,error:p.familyMemberId,children:t.jsx(Pe,{value:m.familyMemberId,onChange:y=>j("familyMemberId",y),options:d,placeholder:"Select member..."})}),t.jsx(ne,{label:"Due Date",required:!0,error:p.dueDate,children:t.jsx(Fn,{value:m.dueDate,onChange:y=>j("dueDate",y),maxDate:null})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[t.jsx(ne,{label:"Frequency",children:t.jsx(Pe,{value:m.frequency,onChange:y=>j("frequency",y),options:OT})}),t.jsx(ne,{label:"Priority",children:t.jsx(Pe,{value:m.priority,onChange:y=>j("priority",y),options:RT})}),t.jsx(ne,{label:"Advance Notice (days)",children:t.jsx(we,{type:"number",value:m.advanceNoticeDays,onChange:y=>j("advanceNoticeDays",y),placeholder:"7"})})]}),o&&t.jsx(ne,{label:"Status",children:t.jsx(Pe,{value:m.status,onChange:y=>j("status",y),options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"}]})}),t.jsx(ne,{label:"Description",children:t.jsx(Ul,{value:m.description,onChange:y=>j("description",y),placeholder:"Optional details...",rows:2})}),t.jsxs("div",{className:"flex items-center justify-between",children:[o&&r?t.jsx(wr,{onClick:r,label:"Delete"}):t.jsx("div",{}),t.jsx(va,{onCancel:a,onSubmit:S,submitLabel:o?"Update Reminder":"Add Reminder",loading:b})]})]})}const tu={"SIP Due Date":"bg-violet-500/15 text-[var(--accent-violet)]","Insurance Renewal":"bg-amber-500/15 text-[var(--accent-amber)]","FD Maturity":"bg-blue-500/15 text-[var(--accent-blue)]","Loan EMI":"bg-rose-500/15 text-[var(--accent-rose)]","Investment Review":"bg-emerald-500/15 text-emerald-400",Custom:"bg-slate-500/15 text-[var(--text-muted)]"},hg={High:"bg-rose-500",Medium:"bg-amber-500",Low:"bg-blue-500"};function Ml(s){if(!s)return 1/0;const l=new Date(s)-new Date;return Math.ceil(l/(1440*60*1e3))}function LT(){const{selectedMember:s,member:l}=aa(),{reminderList:r,addReminder:a,updateReminder:o,deleteReminder:u}=Qe(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Hn(),p=Yn(),[v,b]=N.useState(null),g=N.useMemo(()=>{const _=r.filter(O=>O.isActive!==!1);return s==="all"?_:_.filter(O=>O.familyMemberId===s)},[r,s]),j=g.filter(_=>Ml(_.dueDate)<0).length,M=g.filter(_=>{const O=Ml(_.dueDate);return O>=0&&O<=7}).length,S=g.filter(_=>{const O=Ml(_.dueDate);return O>7&&O<=30}).length,y=[...g].sort((_,O)=>{const Y=Ml(_.dueDate),P=Ml(O.dueDate);return Y-P});async function w(_){m("Saving...");try{v?.edit?await o(v.edit.reminderId,_):await a(_),d(v?.edit?"Reminder updated":"Reminder added"),b(null)}catch(O){d(O.message||"Failed to save reminder","error")}finally{x()}}async function D(){if(v?.edit&&await p("Delete this reminder?",{title:"Delete Reminder",confirmLabel:"Delete"})){m("Deleting...");try{await u(v.edit.reminderId),d("Reminder deleted"),b(null)}catch(_){d(_.message||"Failed to delete reminder","error")}finally{x()}}}function k(_){const O=Ml(_);return O<0?{label:`${Math.abs(O)}d overdue`,cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:O===0?{label:"Today",cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:O<=7?{label:`${O}d`,cls:"bg-amber-500/20 text-[var(--accent-amber)]"}:O<=30?{label:`${O}d`,cls:"bg-blue-500/20 text-[var(--accent-blue)]"}:{label:`${O}d`,cls:"bg-slate-500/20 text-[var(--text-muted)]"}}return t.jsxs("div",{className:"space-y-4",children:[g.length===0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[t.jsx(VS,{size:32,className:"text-[var(--text-dim)]"}),t.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No reminders",l?` for ${l.memberName}`:""]}),t.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a reminder"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[t.jsx(au,{label:"Active",value:g.length}),j>0&&t.jsx(au,{label:"Overdue",value:j,color:"rose"}),M>0&&t.jsx(au,{label:"Due This Week",value:M,color:"amber"}),t.jsx(au,{label:"Next 30 Days",value:S})]}),t.jsx("div",{className:"flex items-center justify-end px-1",children:t.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(ta,{size:14})," Add Reminder"]})}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm min-w-[680px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Reminder"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),!l&&t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),t.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Due Date"}),t.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Frequency"}),t.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),t.jsx("tbody",{children:y.map(_=>{const O=k(_.dueDate);return t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[t.jsx("td",{className:"py-2.5 px-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${hg[_.priority]||"bg-slate-400"}`}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:_.title}),_.description&&t.jsx("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[200px]",children:_.description})]})]})}),t.jsx("td",{className:"py-2.5 px-3",children:t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${tu[_.reminderType]||tu.Custom}`,children:_.reminderType})}),!l&&t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:_.familyMemberName}),t.jsx("td",{className:"py-2.5 px-3 text-center",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:_.dueDate}),t.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${O.cls}`,children:O.label})]})}),t.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)]",children:_.frequency}),t.jsx("td",{className:"py-2.5 px-3 text-center",children:t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${_.status==="Pending"?"bg-amber-500/15 text-[var(--accent-amber)]":"bg-emerald-500/15 text-emerald-400"}`,children:_.status})}),t.jsx("td",{className:"py-2.5 px-2",children:t.jsx("button",{onClick:()=>b({edit:_}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:t.jsx(cn,{size:12})})})]},_.reminderId)})})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:y.map(_=>{const O=k(_.dueDate);return t.jsxs("div",{onClick:()=>b({edit:_}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${hg[_.priority]||"bg-slate-400"}`}),t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:_.title})]}),t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ml-2 ${tu[_.reminderType]||tu.Custom}`,children:_.reminderType})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[_.familyMemberName,"  ",_.frequency]}),t.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${O.cls}`,children:O.label})]})]},_.reminderId)})})]})]}),t.jsx(Lt,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Reminder":"Add Reminder",wide:!0,children:t.jsx(IT,{initial:v?.edit||void 0,onSave:w,onDelete:v?.edit?D:void 0,onCancel:()=>b(null)})})]})}function au({label:s,value:l,color:r}){const a=r==="rose"?"text-[var(--accent-rose)]":r==="amber"?"text-[var(--accent-amber)]":"text-[var(--text-primary)]";return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:`text-sm font-bold tabular-nums ${a}`,children:l})]})}const vg={BUY:"bg-emerald-500/15 text-emerald-400",SELL:"bg-rose-500/15 text-[var(--accent-rose)]"},PT={INITIAL:"bg-violet-500/15 text-[var(--accent-violet)]",SIP:"bg-blue-500/15 text-[var(--accent-blue)]",LUMPSUM:"bg-emerald-500/15 text-emerald-400",WITHDRAWAL:"bg-amber-500/15 text-[var(--accent-amber)]",SWITCH:"bg-orange-500/15 text-[var(--accent-orange)]"};function zT(){const{selectedMember:s}=aa(),{mfTransactions:l,mfPortfolios:r,stockTransactions:a,stockPortfolios:o}=Qe(),[u,d]=N.useState("mf"),[m,x]=N.useState("all"),p=N.useMemo(()=>{let S=[...l].sort((y,w)=>new Date(w.date)-new Date(y.date));if(s!=="all"){const y=new Set(r.filter(w=>w.ownerId===s).map(w=>w.portfolioId));S=S.filter(w=>y.has(w.portfolioId))}return m!=="all"&&(S=S.filter(y=>y.type===m)),S},[l,r,s,m]),v=N.useMemo(()=>{let S=[...a].sort((y,w)=>new Date(w.date)-new Date(y.date));if(s!=="all"){const y=new Set(o.filter(w=>w.ownerId===s).map(w=>w.portfolioId));S=S.filter(w=>y.has(w.portfolioId))}return m!=="all"&&(S=S.filter(y=>y.type===m)),S},[a,o,s,m]),b=u==="mf"?p:v,g=b.filter(S=>S.type==="BUY").reduce((S,y)=>S+(y.totalAmount||0),0),j=b.filter(S=>S.type==="SELL").reduce((S,y)=>S+(y.totalAmount||0),0),M=b.reduce((S,y)=>S+(y.gainLoss||y.realizedPL||0),0);return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[t.jsx(nu,{label:"Transactions",value:b.length}),t.jsx(nu,{label:"Total Bought",value:G(g)}),t.jsx(nu,{label:"Total Sold",value:G(j)}),t.jsx(nu,{label:"Realized P&L",value:`${M>=0?"+":""}${G(Math.abs(M))}`,positive:M>=0,bold:!0})]}),t.jsxs("div",{className:"flex items-center justify-between px-1",children:[t.jsx("div",{className:"flex gap-1",children:["mf","stocks"].map(S=>t.jsx("button",{onClick:()=>d(S),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${u===S?"bg-violet-500/20 text-violet-400 border border-violet-500/30":"text-[var(--text-dim)] hover:text-[var(--text-primary)] border border-transparent"}`,children:S==="mf"?"Mutual Funds":"Stocks"},S))}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ay,{size:12,className:"text-[var(--text-dim)]"}),["all","BUY","SELL"].map(S=>t.jsx("button",{onClick:()=>x(S),className:`px-2 py-1 text-xs font-semibold rounded transition-colors ${m===S?"bg-[var(--bg-card)] text-[var(--text-primary)] border border-[var(--border)]":"text-[var(--text-dim)] hover:text-[var(--text-muted)]"}`,children:S==="all"?"All":S},S))]})]}),t.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:b.length===0?t.jsxs("div",{className:"py-12 flex flex-col items-center gap-3",children:[t.jsx(My,{size:32,className:"text-[var(--text-dim)]"}),t.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions found"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"Fund":"Stock"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Portfolio"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"Units":"Qty"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"NAV":"Price"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"})]})}),t.jsx("tbody",{children:b.map(S=>{const y=S.gainLoss||S.realizedPL||0;return t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[t.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-muted)] tabular-nums",children:S.date}),t.jsx("td",{className:"py-2.5 px-3",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${vg[S.type]||""}`,children:S.type}),S.transactionType&&t.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${PT[S.transactionType]||""}`,children:S.transactionType})]})}),t.jsxs("td",{className:"py-2.5 px-3",children:[t.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:S.fundName||S.companyName}),t.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:S.fundCode||S.symbol})]}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)]",children:S.portfolioName||""}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:(S.units||S.quantity||0).toFixed(u==="mf"?2:0)}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:G(S.price||S.pricePerShare||0)}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(S.totalAmount||0)}),t.jsx("td",{className:"py-2.5 px-3 text-right",children:y!==0?t.jsxs("span",{className:`text-xs font-semibold tabular-nums ${y>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[y>=0?"+":"",G(Math.abs(y))]}):t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},S.transactionId)})})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(S=>(S.gainLoss||S.realizedPL,t.jsxs("div",{className:"px-4 py-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:S.fundName||S.companyName}),t.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded shrink-0 ${vg[S.type]||""}`,children:S.type})]}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[S.date,"  ",S.portfolioName]}),t.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[t.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[(S.units||S.quantity||0).toFixed(u==="mf"?2:0)," @ ",G(S.price||S.pricePerShare||0)]}),t.jsx("span",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(S.totalAmount||0)})]})]},S.transactionId)))})]})})]})}function nu({label:s,value:l,positive:r,bold:a}){return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l})]})}const Mn=[{id:"healthIns",question:"Does your family have Health Insurance?",tip:"50L to 1Cr family floater recommended (considering inflation & future expenses)",category:"Insurance"},{id:"termLife",question:"Do you have adequate Term Life Insurance?",tip:"Recommended: 10-15x annual income",category:"Insurance"},{id:"emergencyFund",question:"Do you have an Emergency Fund?",tip:"6-12 months of monthly expenses in liquid assets",category:"Savings"},{id:"familyAware",question:"Is your family aware of all investments?",tip:"Ensure nominees and family know about all assets",category:"Planning"},{id:"hasWill",question:"Do you have a Will?",tip:"Legal document for asset distribution",category:"Planning"},{id:"nominees",question:"Have you updated Nominees on all accounts?",tip:"Bank, demat, insurance, MF  all should have nominees",category:"Planning"},{id:"goals",question:"Do you have clearly defined Financial Goals?",tip:"Retirement, education, home  with target amounts and dates",category:"Goals"}];function FT(){const s=Hs(),{members:l,insurancePolicies:r,goalList:a,otherInvList:o,healthCheckCompleted:u,completeHealthCheck:d}=Qe(),m=l.filter(I=>I.status==="Active"),x=u===!1,[p,v]=N.useState(!1),[b,g]=N.useState(!0),[j,M]=N.useState(null),S=N.useMemo(()=>{const I={},q=r.filter(Q=>Q.policyType==="Health"&&Q.status==="Active");I.healthIns=q.length>0;const A=r.filter(Q=>Q.policyType==="Term Life"&&Q.status==="Active");I.termLife=A.length>0;const ee=a.filter(Q=>Q.goalType==="Emergency Fund"&&Q.isActive),se=o.filter(Q=>Q.investmentType==="FD"||Q.investmentType==="PPF");return I.emergencyFund=ee.length>0||se.length>0,I.goals=a.filter(Q=>Q.isActive).length>=2,I},[r,a,o]);N.useEffect(()=>{let I=!1;async function q(){const A=await xy("healthCheckAnswers");!I&&A&&(M(A),g(!1));try{const ee=await py();!I&&ee&&(M(ee),Aa("healthCheckAnswers",ee))}catch{}I||g(!1)}return q(),()=>{I=!0}},[]);const[y,w]=N.useState(()=>{const I={};return Mn.forEach(q=>{I[q.id]=S[q.id]?"yes":""}),I});N.useEffect(()=>{j&&w(I=>{const q={...I};return Mn.forEach(A=>{const ee=j[A.id];ee==="Yes"?q[A.id]="yes":ee==="No"&&(q[A.id]="no")}),q})},[j]);const D=Object.values(y).filter(I=>I).length,k=Object.values(y).filter(I=>I==="yes").length,_=D===Mn.length,O=D>0?Math.round(k/Mn.length*100):0;function Y(){return O>=80?"text-emerald-400":O>=50?"text-[var(--accent-amber)]":"text-[var(--accent-rose)]"}function P(){return O>=80?"Excellent":O>=60?"Good":O>=40?"Needs Work":"Critical"}const T=N.useMemo(()=>{const I=[];return y.healthIns!=="yes"&&I.push({severity:"critical",text:"Get Health Insurance for your family",action:"Minimum 5L cover recommended"}),y.termLife!=="yes"&&I.push({severity:"critical",text:"Get Term Life Insurance (10-15x annual income)",action:"Compare plans online"}),y.emergencyFund!=="yes"&&I.push({severity:"warning",text:"Build an Emergency Fund",action:"Save 6-12 months expenses in liquid fund/FD"}),y.familyAware!=="yes"&&I.push({severity:"warning",text:"Share investment details with family",action:"Create a document with all account info"}),y.hasWill!=="yes"&&I.push({severity:"warning",text:"Create a legal Will",action:"Consult a lawyer for Will registration"}),y.nominees!=="yes"&&I.push({severity:"warning",text:"Update nominees on all accounts",action:"Check bank, demat, insurance, MF accounts"}),y.goals!=="yes"&&I.push({severity:"info",text:"Define clear financial goals",action:"Use the Goal Planner to set targets"}),I},[y]),R=N.useCallback(async()=>{if(_){v(!0);try{const I={};Mn.forEach(q=>{I[q.id]=y[q.id]==="yes"?"Yes":"No"}),I.score=k,I.total=Mn.length,await d(I),s("/dashboard")}catch(I){console.error("Failed to save health check:",I)}finally{v(!1)}}},[_,y,k,d,s]);return t.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[x&&t.jsxs("div",{className:"bg-violet-500/10 border border-violet-500/20 rounded-xl p-4",children:[t.jsx("h2",{className:"text-base font-bold text-violet-400 mb-1",children:"Welcome to Capital Friends!"}),t.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Before you start, please complete this quick Financial Health Check. It takes less than a minute and helps you understand where your family stands financially."})]}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Dy,{size:16,className:"text-violet-400"}),t.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:"Financial Health Score"})]}),t.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[D,"/",Mn.length," answered"]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"relative w-20 h-20",children:[t.jsxs("svg",{className:"w-20 h-20 -rotate-90",viewBox:"0 0 36 36",children:[t.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"var(--border)",strokeWidth:"3"}),t.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${O}, 100`,className:Y(),strokeLinecap:"round"})]}),t.jsxs("span",{className:`absolute inset-0 flex items-center justify-center text-lg font-bold ${Y()}`,children:[O,"%"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:`text-base font-bold ${Y()}`,children:P()}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:[k," of ",Mn.length," checks passed"]}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[m.length," family members tracked"]})]})]})]}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:t.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Health Check Questions"})}),t.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:Mn.map((I,q)=>t.jsxs("div",{className:"px-4 py-3",children:[t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("p",{className:"text-sm text-[var(--text-primary)]",children:[t.jsxs("span",{className:"text-[var(--text-dim)] mr-2",children:[q+1,"."]}),I.question]}),t.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5 ml-5",children:I.tip})]}),t.jsxs("div",{className:"flex gap-1 shrink-0",children:[t.jsx("button",{onClick:()=>w(A=>({...A,[I.id]:"yes"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${y[I.id]==="yes"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"Yes"}),t.jsx("button",{onClick:()=>w(A=>({...A,[I.id]:"no"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${y[I.id]==="no"?"bg-rose-500/20 text-[var(--accent-rose)] border border-rose-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"No"})]})]}),S[I.id]&&t.jsx("p",{className:"text-xs text-violet-400 mt-1 ml-5",children:"Auto-detected from your data"})]},I.id))})]}),T.length>0&&_&&t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:t.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Recommendations"})}),t.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:T.map((I,q)=>{const A=I.severity==="critical"?t.jsx(ky,{size:14,className:"text-[var(--accent-rose)]"}):I.severity==="warning"?t.jsx(zs,{size:14,className:"text-[var(--accent-amber)]"}):t.jsx(i5,{size:14,className:"text-[var(--accent-blue)]"});return t.jsxs("div",{className:"flex items-start gap-3 px-4 py-3",children:[t.jsx("span",{className:"shrink-0 mt-0.5",children:A}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-[var(--text-primary)]",children:I.text}),t.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:I.action})]})]},q)})})]}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[!_&&t.jsxs("p",{className:"text-xs text-[var(--accent-amber)] mb-3",children:["Please answer all ",Mn.length," questions before saving."]}),t.jsx("button",{onClick:R,disabled:!_||p,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-bold transition-colors ${_&&!p?"bg-violet-600 hover:bg-violet-500 text-white":"bg-[var(--bg-inset)] text-[var(--text-dim)] cursor-not-allowed"}`,children:p?t.jsxs(t.Fragment,{children:[t.jsx(_y,{size:16,className:"animate-spin"}),"Saving..."]}):x?t.jsxs(t.Fragment,{children:["Save & Continue to Dashboard",t.jsx(YS,{size:16})]}):t.jsxs(t.Fragment,{children:[t.jsx(Ly,{size:16}),"Update Health Check"]})})]})]})}function BT(){return t.jsxs("div",{className:"space-y-4 max-w-lg mx-auto",children:[t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-5 text-center",children:[t.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-indigo-600 flex items-center justify-center mx-auto mb-3",children:t.jsx("span",{className:"text-xl font-bold text-white",children:"CF"})}),t.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Capital Friends"}),t.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Family Portfolio Management"}),t.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-2",children:"v2.0.0"})]}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:t.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Features"})}),t.jsx("div",{className:"px-4 py-3 space-y-2",children:["Track Mutual Funds, Stocks & Other Investments","Family member-wise portfolio management","ATH-based Buy Opportunities","Smart Rebalancing with threshold alerts","Goal planning with portfolio mapping","Insurance, Liabilities & Bank Accounts","Financial Health Check questionnaire","Reminders for SIPs, renewals & due dates","Email reports with detailed breakdowns"].map(s=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-500 shrink-0"}),t.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:s})]},s))})]}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(bu,{size:12,className:"text-pink-400"}),t.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Support Developer"})]})}),t.jsxs("div",{className:"px-4 py-4 text-center",children:[t.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-3",children:"If Capital Friends helps you manage your family finances, consider supporting the developer."}),t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-3 border border-[var(--border)]",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-1",children:"UPI"}),t.jsx("p",{className:"text-sm font-mono font-semibold text-[var(--text-primary)] select-all",children:"jagadeeshmanne.hdfc@kphdfc"})]}),t.jsxs("div",{className:"flex items-center justify-center gap-1 mt-3",children:[t.jsx(m5,{size:12,className:"text-[var(--accent-amber)]"}),t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Buy me a chai!"})]})]})]}),t.jsxs("div",{className:"text-center py-2",children:[t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Made with ",t.jsx(bu,{size:10,className:"inline text-pink-400 mx-0.5"})," by Jagadeesh Manne"]}),t.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Built with React + Vite + Tailwind CSS"})]})]})}function HT(){return Date.now().toString(36).toUpperCase()}function YT(){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZ",l=r=>Array.from({length:r},()=>s[Math.floor(Math.random()*26)]).join("");return l(5)+Math.floor(1e3+Math.random()*9e3)+l(1)}function qT(){return String(Math.floor(2e11+Math.random()*8e11))}function bg(){return"9"+String(Math.floor(1e8+Math.random()*9e8))}function $T(){return String(Math.floor(1e9+Math.random()*9e9))}function UT(){const s=HT();return{member:{memberName:`Test Member ${s}`,relationship:"Self",pan:YT(),aadhar:qT(),email:`test-${s.toLowerCase()}@example.com`,mobile:bg(),includeInEmailReports:!0},bank:{accountName:`Test Savings ${s}`,bankName:"Test Bank",accountNumber:$T(),ifscCode:"TEST0001234",accountType:"Savings",branchName:"Test Branch"},investmentAccount:{accountName:`Test Demat ${s}`,accountType:"Demat",platformBroker:"Test Broker Platform",accountClientId:`CLI-${s}`,registeredEmail:`test-${s.toLowerCase()}@example.com`,registeredPhone:bg()},insurance:{policyType:"Term Life",company:"Test Insurance Co",policyNumber:`POL-${s}`,policyName:`Test Term Plan ${s}`,sumAssured:5e6,nominee:"Test Nominee",dynamicFields:{Premium:15e3,"Premium Frequency":"Annual"}},liability:{liabilityType:"Home Loan",lenderName:"Test Bank",outstandingBalance:45e5,dynamicFields:{"Principal Amount":5e6,"Interest Rate":8.5,"EMI Amount":45e3},notes:`Test liability ${s}`},otherInvestment:{investmentType:"Fixed Deposit",investmentName:`Test FD ${s}`,investedAmount:1e5,currentValue:105e3,investmentCategory:"Debt"},stockPortfolio:{portfolioName:`Test Stock Portfolio ${s}`,broker:"Test Broker"},reminder:{title:`Test Reminder ${s}`,description:"Automated test reminder",dueDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],category:"Insurance",priority:"Medium"},goal:{goalName:`Test Goal ${s}`,goalType:"Custom",targetAmount:1e6,targetDate:"2040-01-01",priority:"Medium",expectedInflation:.06,expectedCAGR:.12}}}function VT({status:s,text:l}){const r={pass:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",fail:"bg-rose-500/20 text-rose-400 border-rose-500/30",skip:"bg-amber-500/20 text-amber-400 border-amber-500/30",running:"bg-blue-500/20 text-blue-400 border-blue-500/30",pending:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return t.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded border ${r[s]||r.pending}`,children:l||s.toUpperCase()})}function GT(){const{user:s}=Ys(),[l,r]=N.useState([]),[a,o]=N.useState(!1),[u,d]=N.useState(null),[m,x]=N.useState(!1),p=N.useCallback((y,w,D="")=>{r(k=>[...k,{test:y,status:w,detail:D,time:new Date().toLocaleTimeString()}])},[]),v=N.useCallback((y,w="")=>{r(D=>{const k=[...D];return k.length>0&&(k[k.length-1]={...k[k.length-1],status:y,detail:w}),k})},[]),b=async()=>{x(!0),d(null);try{const y=await Se("test:diagnose");d(y)}catch(y){d({error:y.message})}finally{x(!1)}},g=async()=>{o(!0),r([]);const y=UT();let w=null,D=null,k=null,_=null,O=null,Y=null,P=null,T=null,R=null,I=null;try{p("API Echo Test","running");try{const A=await Se("test:echo",{hello:"world"});A&&A.echo&&A.echo.hello==="world"?v("pass","Echo response received correctly"):v("fail","Unexpected response: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Diagnostics","running");try{const A=await Se("test:diagnose"),ee=Object.entries(A.sheets||{}).filter(([,Q])=>!Q.exists).map(([Q])=>Q);if(ee.length>0)v("fail",`Missing sheets: ${ee.join(", ")}`);else{const Q=Object.keys(A.sheets).length;v("pass",`All ${Q} sheets exist. SpreadsheetId: ${A.spreadsheetId}`)}const se=Object.entries(A.dataTests||{}).filter(([,Q])=>!Q.success).map(([Q,B])=>`${Q}: ${B.error}`);se.length>0&&p("Data Function Errors","fail",se.join("; "))}catch(A){v("fail",A.message)}p("Load All Data (bulk)","running");try{const A=await vu(),ee=Object.entries(A).map(([se,Q])=>`${se}: ${Array.isArray(Q)?Q.length:"?"}`);v("pass",ee.join(", "))}catch(A){v("fail",A.message)}p("Members  Create","running");try{const A=await Hg(y.member);w=A?.memberId,D=y.member.memberName,w?v("pass",`Created: ${w}`):v("fail","No memberId returned: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Members  List","running");try{const A=await Bg();Array.isArray(A)&&A.some(se=>se.memberId===w)?v("pass",`Found ${w} in ${A.length} member(s)`):v("fail",`Member ${w} not found. Got ${Array.isArray(A)?A.length:0} members: ${JSON.stringify(A).substring(0,200)}`)}catch(A){v("fail",A.message)}if(w){p("Members  Update","running");try{await Yg({...y.member,memberId:w,memberName:"Updated Test Member"}),D="Updated Test Member",v("pass",'Updated name to "Updated Test Member"')}catch(A){v("fail",A.message)}}p("Banks  Create","running");try{const A=await Ug({...y.bank,memberId:w||"FM-001"});k=A?.accountId,v(k?"pass":"fail",k?`Created: ${k}`:"No accountId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Banks  List","running");try{const A=await $g();v("pass",`${Array.isArray(A)?A.length:0} account(s)`)}catch(A){v("fail",A.message)}p("Investment Accounts  Create","running");try{const A=await Qg({...y.investmentAccount,memberId:w||"FM-001",bankAccountId:k||"BA-001"});_=A?.accountId,v(_?"pass":"fail",_?`Created: ${_}`:"No accountId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Investment Accounts  List","running");try{const A=await Gg();v("pass",`${Array.isArray(A)?A.length:0} account(s)`)}catch(A){v("fail",A.message)}p("Insurance  Create","running");try{const A=await ey({...y.insurance,memberId:w||"FM-001",insuredMember:D||"Test Member"});O=A?.policyId,v(O?"pass":"fail",O?`Created: ${O}`:"No policyId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Insurance  List","running");try{const A=await Jg();v("pass",`${Array.isArray(A)?A.length:0} policy/policies`)}catch(A){v("fail",A.message)}p("Liabilities  Create","running");try{const A=await ny({...y.liability,familyMember:w||"FM-001"});Y=A?.liabilityId,v(Y?"pass":"fail",Y?`Created: ${Y}`:"No liabilityId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Liabilities  List","running");try{const A=await ay();v("pass",`${Array.isArray(A)?A.length:0} liability/liabilities`)}catch(A){v("fail",A.message)}p("Other Investments  Create","running");try{const A=await ly({...y.otherInvestment,familyMember:w||"FM-001"});P=A?.investmentId,v(P?"pass":"fail",P?`Created: ${P}`:"No investmentId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Other Investments  List","running");try{const A=await sy();v("pass",`${Array.isArray(A)?A.length:0} investment(s)`)}catch(A){v("fail",A.message)}p("Stock Portfolios  Create","running");try{const A=await cy({...y.stockPortfolio,owner:w||"FM-001"});T=A?.portfolioId,v(T?"pass":"fail",T?`Created: ${T}`:"No portfolioId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Stock Portfolios  List","running");try{const A=await oy();v("pass",`${Array.isArray(A)?A.length:0} portfolio(s)`)}catch(A){v("fail",A.message)}p("Reminders  Create","running");try{const A=await my(y.reminder);R=A?.reminderId,v(R?"pass":"fail",R?`Created: ${R}`:"No reminderId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Reminders  List","running");try{const A=await dy();v("pass",`${Array.isArray(A)?A.length:0} reminder(s)`)}catch(A){v("fail",A.message)}p("Goals  Create","running");try{const A=await Wg(y.goal);I=A?.goalId,v(I?"pass":"fail",I?`Created: ${I}`:"No goalId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Goals  List","running");try{const A=await Xg();v("pass",`${Array.isArray(A)?A.length:0} goal(s)`)}catch(A){v("fail",A.message)}p("Cleanup  Delete test data","running");const q=[];if(I)try{await Zg(I)}catch(A){q.push("goal: "+A.message)}if(R)try{await fy(R)}catch(A){q.push("reminder: "+A.message)}if(T)try{await uy(T)}catch(A){q.push("stockPortfolio: "+A.message)}if(P)try{await iy(P)}catch(A){q.push("otherInv: "+A.message)}if(Y)try{await ry(Y)}catch(A){q.push("liability: "+A.message)}if(O)try{await ty(O)}catch(A){q.push("insurance: "+A.message)}if(_)try{await Kg(_)}catch(A){q.push("invAcct: "+A.message)}if(k)try{await Vg(k)}catch(A){q.push("bank: "+A.message)}if(w)try{await qg(w)}catch(A){q.push("member: "+A.message)}q.length>0?v("fail",q.join("; ")):v("pass","All test data cleaned up"),p("Final Load All (post-cleanup)","running");try{const A=await vu(),ee=Object.entries(A).map(([se,Q])=>`${se}: ${Array.isArray(Q)?Q.length:"?"}`);v("pass",ee.join(", "))}catch(A){v("fail",A.message)}}catch(q){p("UNEXPECTED ERROR","fail",q.message)}finally{o(!1)}},j=l.filter(y=>y.status==="pass").length,M=l.filter(y=>y.status==="fail").length,S=l.filter(y=>y.status!=="running").length;return t.jsx("div",{className:"min-h-screen bg-[var(--bg-main)] p-4 max-w-3xl mx-auto",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"API Test Suite"}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Signed in as ",s?.email||"unknown"]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:b,disabled:m||a,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--bg-card)] border border-[var(--border)] text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] disabled:opacity-50 cursor-pointer",children:m?"Running...":"Diagnostics"}),t.jsx("button",{onClick:g,disabled:a,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-violet-600 text-white hover:bg-violet-700 disabled:opacity-50 cursor-pointer",children:a?"Running Tests...":"Run All Tests"})]})]}),S>0&&t.jsxs("div",{className:"flex gap-3 text-xs",children:[t.jsxs("span",{className:"text-emerald-400",children:["Pass: ",j]}),t.jsxs("span",{className:"text-rose-400",children:["Fail: ",M]}),t.jsxs("span",{className:"text-[var(--text-dim)]",children:["Total: ",S]})]}),u&&t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 space-y-3",children:[t.jsx("h2",{className:"text-sm font-semibold text-[var(--text-primary)]",children:"Diagnostics Report"}),u.error?t.jsx("p",{className:"text-xs text-rose-400",children:u.error}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"text-xs text-[var(--text-secondary)] space-y-1",children:[t.jsxs("p",{children:[t.jsx("span",{className:"text-[var(--text-dim)]",children:"Spreadsheet:"})," ",u.spreadsheetName]}),t.jsxs("p",{children:[t.jsx("span",{className:"text-[var(--text-dim)]",children:"ID:"})," ",t.jsx("code",{className:"text-[10px]",children:u.spreadsheetId})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Sheets"}),t.jsx("div",{className:"grid grid-cols-2 gap-1",children:Object.entries(u.sheets||{}).map(([y,w])=>t.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[t.jsx("span",{className:"text-[var(--text-secondary)] truncate",children:y}),w.exists?t.jsxs("span",{className:"text-emerald-400 ml-1",children:[w.dataRows,"r"]}):t.jsx("span",{className:"text-rose-400 ml-1",children:"MISSING"})]},y))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Data Functions"}),t.jsx("div",{className:"space-y-1",children:Object.entries(u.dataTests||{}).map(([y,w])=>t.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[t.jsx("span",{className:"text-[var(--text-secondary)]",children:y}),w.success?t.jsxs("span",{className:"text-emerald-400",children:[w.count," items"]}):t.jsx("span",{className:"text-rose-400 truncate ml-2 max-w-[200px]",title:w.error,children:w.error})]},y))})]}),u.safeCallErrors&&u.safeCallErrors.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-xs font-medium text-rose-400 mb-1",children:"SafeCall Errors"}),u.safeCallErrors.map((y,w)=>t.jsxs("p",{className:"text-[11px] text-rose-400",children:[y.fn,": ",y.error]},w))]})]})]}),l.length>0&&t.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:t.jsx("div",{className:"divide-y divide-[var(--border)]",children:l.map((y,w)=>t.jsxs("div",{className:"px-4 py-2 flex items-start gap-3",children:[t.jsx("div",{className:"mt-0.5 shrink-0",children:t.jsx(VT,{status:y.status})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:y.test}),y.detail&&t.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5 break-all",children:y.detail})]}),t.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:y.time})]},w))})}),l.length===0&&!u&&t.jsxs("div",{className:"text-center py-12 text-[var(--text-dim)]",children:[t.jsx("p",{className:"text-sm",children:'Click "Run All Tests" to test all CRUD operations'}),t.jsx("p",{className:"text-xs mt-1",children:'or "Diagnostics" to check spreadsheet structure'})]})]})})}function QT(){return t.jsxs(r2,{children:[t.jsx(Dt,{index:!0,element:t.jsx(Q3,{})}),t.jsx(Dt,{path:"login",element:t.jsx(E1,{})}),t.jsx(Dt,{element:t.jsx(q3,{}),children:t.jsxs(Dt,{element:t.jsx(Y3,{}),children:[t.jsx(Dt,{path:"dashboard",element:t.jsx(xu,{to:"/investments/mutual-funds",replace:!0})}),t.jsx(Dt,{path:"family",element:t.jsx(NT,{})}),t.jsx(Dt,{path:"accounts/bank",element:t.jsx(qb,{})}),t.jsx(Dt,{path:"accounts/investment",element:t.jsx(eA,{})}),t.jsx(Dt,{path:"insurance",element:t.jsx(rA,{})}),t.jsx(Dt,{path:"investments/mutual-funds",element:t.jsx(dT,{})}),t.jsx(Dt,{path:"investments/stocks",element:t.jsx(bT,{})}),t.jsx(Dt,{path:"investments/other",element:t.jsx(hA,{})}),t.jsx(Dt,{path:"liabilities",element:t.jsx(oA,{})}),t.jsx(Dt,{path:"goals",element:t.jsx(kT,{})}),t.jsx(Dt,{path:"reports",element:t.jsx(zT,{})}),t.jsx(Dt,{path:"reminders",element:t.jsx(LT,{})}),t.jsx(Dt,{path:"health-check",element:t.jsx(FT,{})}),t.jsx(Dt,{path:"about",element:t.jsx(BT,{})}),t.jsx(Dt,{path:"test",element:t.jsx(GT,{})}),t.jsx(Dt,{path:"settings",element:t.jsx(TT,{})}),t.jsx(Dt,{path:"more",element:t.jsx(AT,{})}),t.jsx(Dt,{path:"accounts",element:t.jsx(qb,{})}),t.jsx(Dt,{path:"*",element:t.jsx(K3,{})})]})})]})}sw.createRoot(document.getElementById("root")).render(t.jsx(M2,{children:t.jsx(AS,{children:t.jsx(TS,{children:t.jsx(BC,{children:t.jsx(AC,{children:t.jsx(TC,{children:t.jsx(_S,{children:t.jsx(OS,{children:t.jsx(QT,{})})})})})})})})}));
