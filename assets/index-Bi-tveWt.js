function ML(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(r,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function li(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pg={exports:{}},ku={};var rC;function DL(){if(rC)return ku;rC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,s){var c=null;if(s!==void 0&&(c=""+s),a.key!==void 0&&(c=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:e,type:r,key:c,ref:a!==void 0?a:null,props:s}}return ku.Fragment=t,ku.jsx=n,ku.jsxs=n,ku}var nC;function kL(){return nC||(nC=1,Pg.exports=DL()),Pg.exports}var l=kL(),Ig={exports:{}},Je={};var aC;function EL(){if(aC)return Je;aC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function b(F){return F===null||typeof F!="object"?null:(F=x&&F[x]||F["@@iterator"],typeof F=="function"?F:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function C(F,ne,ve){this.props=F,this.context=ne,this.refs=y,this.updater=ve||S}C.prototype.isReactComponent={},C.prototype.setState=function(F,ne){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ne,"setState")},C.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function M(){}M.prototype=C.prototype;function A(F,ne,ve){this.props=F,this.context=ne,this.refs=y,this.updater=ve||S}var _=A.prototype=new M;_.constructor=A,w(_,C.prototype),_.isPureReactComponent=!0;var E=Array.isArray;function T(){}var P={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function L(F,ne,ve){var be=ve.ref;return{$$typeof:e,type:F,key:ne,ref:be!==void 0?be:null,props:ve}}function R(F,ne){return L(F.type,ne,F.props)}function B(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function k(F){var ne={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ve){return ne[ve]})}var K=/\/+/g;function W(F,ne){return typeof F=="object"&&F!==null&&F.key!=null?k(""+F.key):ne.toString(36)}function Z(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(T,T):(F.status="pending",F.then(function(ne){F.status==="pending"&&(F.status="fulfilled",F.value=ne)},function(ne){F.status==="pending"&&(F.status="rejected",F.reason=ne)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function $(F,ne,ve,be,Pe){var Re=typeof F;(Re==="undefined"||Re==="boolean")&&(F=null);var Ne=!1;if(F===null)Ne=!0;else switch(Re){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(F.$$typeof){case e:case t:Ne=!0;break;case h:return Ne=F._init,$(Ne(F._payload),ne,ve,be,Pe)}}if(Ne)return Pe=Pe(F),Ne=be===""?"."+W(F,0):be,E(Pe)?(ve="",Ne!=null&&(ve=Ne.replace(K,"$&/")+"/"),$(Pe,ne,ve,"",function(Se){return Se})):Pe!=null&&(B(Pe)&&(Pe=R(Pe,ve+(Pe.key==null||F&&F.key===Pe.key?"":(""+Pe.key).replace(K,"$&/")+"/")+Ne)),ne.push(Pe)),1;Ne=0;var _e=be===""?".":be+":";if(E(F))for(var X=0;X<F.length;X++)be=F[X],Re=_e+W(be,X),Ne+=$(be,ne,ve,Re,Pe);else if(X=b(F),typeof X=="function")for(F=X.call(F),X=0;!(be=F.next()).done;)be=be.value,Re=_e+W(be,X++),Ne+=$(be,ne,ve,Re,Pe);else if(Re==="object"){if(typeof F.then=="function")return $(Z(F),ne,ve,be,Pe);throw ne=String(F),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function G(F,ne,ve){if(F==null)return F;var be=[],Pe=0;return $(F,be,"","",function(Re){return ne.call(ve,Re,Pe++)}),be}function z(F){if(F._status===-1){var ne=F._result;ne=ne(),ne.then(function(ve){(F._status===0||F._status===-1)&&(F._status=1,F._result=ve)},function(ve){(F._status===0||F._status===-1)&&(F._status=2,F._result=ve)}),F._status===-1&&(F._status=0,F._result=ne)}if(F._status===1)return F._result.default;throw F._result}var re=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},he={map:G,forEach:function(F,ne,ve){G(F,function(){ne.apply(this,arguments)},ve)},count:function(F){var ne=0;return G(F,function(){ne++}),ne},toArray:function(F){return G(F,function(ne){return ne})||[]},only:function(F){if(!B(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Je.Activity=v,Je.Children=he,Je.Component=C,Je.Fragment=n,Je.Profiler=a,Je.PureComponent=A,Je.StrictMode=r,Je.Suspense=f,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Je.__COMPILER_RUNTIME={__proto__:null,c:function(F){return P.H.useMemoCache(F)}},Je.cache=function(F){return function(){return F.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function(F,ne,ve){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var be=w({},F.props),Pe=F.key;if(ne!=null)for(Re in ne.key!==void 0&&(Pe=""+ne.key),ne)!O.call(ne,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ne.ref===void 0||(be[Re]=ne[Re]);var Re=arguments.length-2;if(Re===1)be.children=ve;else if(1<Re){for(var Ne=Array(Re),_e=0;_e<Re;_e++)Ne[_e]=arguments[_e+2];be.children=Ne}return L(F.type,Pe,be)},Je.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},Je.createElement=function(F,ne,ve){var be,Pe={},Re=null;if(ne!=null)for(be in ne.key!==void 0&&(Re=""+ne.key),ne)O.call(ne,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(Pe[be]=ne[be]);var Ne=arguments.length-2;if(Ne===1)Pe.children=ve;else if(1<Ne){for(var _e=Array(Ne),X=0;X<Ne;X++)_e[X]=arguments[X+2];Pe.children=_e}if(F&&F.defaultProps)for(be in Ne=F.defaultProps,Ne)Pe[be]===void 0&&(Pe[be]=Ne[be]);return L(F,Re,Pe)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(F){return{$$typeof:u,render:F}},Je.isValidElement=B,Je.lazy=function(F){return{$$typeof:h,_payload:{_status:-1,_result:F},_init:z}},Je.memo=function(F,ne){return{$$typeof:m,type:F,compare:ne===void 0?null:ne}},Je.startTransition=function(F){var ne=P.T,ve={};P.T=ve;try{var be=F(),Pe=P.S;Pe!==null&&Pe(ve,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(T,re)}catch(Re){re(Re)}finally{ne!==null&&ve.types!==null&&(ne.types=ve.types),P.T=ne}},Je.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Je.use=function(F){return P.H.use(F)},Je.useActionState=function(F,ne,ve){return P.H.useActionState(F,ne,ve)},Je.useCallback=function(F,ne){return P.H.useCallback(F,ne)},Je.useContext=function(F){return P.H.useContext(F)},Je.useDebugValue=function(){},Je.useDeferredValue=function(F,ne){return P.H.useDeferredValue(F,ne)},Je.useEffect=function(F,ne){return P.H.useEffect(F,ne)},Je.useEffectEvent=function(F){return P.H.useEffectEvent(F)},Je.useId=function(){return P.H.useId()},Je.useImperativeHandle=function(F,ne,ve){return P.H.useImperativeHandle(F,ne,ve)},Je.useInsertionEffect=function(F,ne){return P.H.useInsertionEffect(F,ne)},Je.useLayoutEffect=function(F,ne){return P.H.useLayoutEffect(F,ne)},Je.useMemo=function(F,ne){return P.H.useMemo(F,ne)},Je.useOptimistic=function(F,ne){return P.H.useOptimistic(F,ne)},Je.useReducer=function(F,ne,ve){return P.H.useReducer(F,ne,ve)},Je.useRef=function(F){return P.H.useRef(F)},Je.useState=function(F){return P.H.useState(F)},Je.useSyncExternalStore=function(F,ne,ve){return P.H.useSyncExternalStore(F,ne,ve)},Je.useTransition=function(){return P.H.useTransition()},Je.version="19.2.4",Je}var iC;function jc(){return iC||(iC=1,Ig.exports=EL()),Ig.exports}var j=jc();const ce=li(j),t1=ML({__proto__:null,default:ce},[j]);var Rg={exports:{}},Eu={},Lg={exports:{}},zg={};var sC;function _L(){return sC||(sC=1,(function(e){function t($,G){var z=$.length;$.push(G);e:for(;0<z;){var re=z-1>>>1,he=$[re];if(0<a(he,G))$[re]=G,$[z]=he,z=re;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var G=$[0],z=$.pop();if(z!==G){$[0]=z;e:for(var re=0,he=$.length,F=he>>>1;re<F;){var ne=2*(re+1)-1,ve=$[ne],be=ne+1,Pe=$[be];if(0>a(ve,z))be<he&&0>a(Pe,ve)?($[re]=Pe,$[be]=z,re=be):($[re]=ve,$[ne]=z,re=ne);else if(be<he&&0>a(Pe,z))$[re]=Pe,$[be]=z,re=be;else break e}}return G}function a($,G){var z=$.sortIndex-G.sortIndex;return z!==0?z:$.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],m=[],h=1,v=null,x=3,b=!1,S=!1,w=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function _($){for(var G=n(m);G!==null;){if(G.callback===null)r(m);else if(G.startTime<=$)r(m),G.sortIndex=G.expirationTime,t(f,G);else break;G=n(m)}}function E($){if(w=!1,_($),!S)if(n(f)!==null)S=!0,T||(T=!0,k());else{var G=n(m);G!==null&&Z(E,G.startTime-$)}}var T=!1,P=-1,O=5,L=-1;function R(){return y?!0:!(e.unstable_now()-L<O)}function B(){if(y=!1,T){var $=e.unstable_now();L=$;var G=!0;try{e:{S=!1,w&&(w=!1,M(P),P=-1),b=!0;var z=x;try{t:{for(_($),v=n(f);v!==null&&!(v.expirationTime>$&&R());){var re=v.callback;if(typeof re=="function"){v.callback=null,x=v.priorityLevel;var he=re(v.expirationTime<=$);if($=e.unstable_now(),typeof he=="function"){v.callback=he,_($),G=!0;break t}v===n(f)&&r(f),_($)}else r(f);v=n(f)}if(v!==null)G=!0;else{var F=n(m);F!==null&&Z(E,F.startTime-$),G=!1}}break e}finally{v=null,x=z,b=!1}G=void 0}}finally{G?k():T=!1}}}var k;if(typeof A=="function")k=function(){A(B)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,W=K.port2;K.port1.onmessage=B,k=function(){W.postMessage(null)}}else k=function(){C(B,0)};function Z($,G){P=C(function(){$(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function($){switch(x){case 1:case 2:case 3:var G=3;break;default:G=x}var z=x;x=G;try{return $()}finally{x=z}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var z=x;x=$;try{return G()}finally{x=z}},e.unstable_scheduleCallback=function($,G,z){var re=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?re+z:re):z=re,$){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=z+he,$={id:h++,callback:G,priorityLevel:$,startTime:z,expirationTime:he,sortIndex:-1},z>re?($.sortIndex=z,t(m,$),n(f)===null&&$===n(m)&&(w?(M(P),P=-1):w=!0,Z(E,z-re))):($.sortIndex=he,t(f,$),S||b||(S=!0,T||(T=!0,k()))),$},e.unstable_shouldYield=R,e.unstable_wrapCallback=function($){var G=x;return function(){var z=x;x=G;try{return $.apply(this,arguments)}finally{x=z}}}})(zg)),zg}var lC;function OL(){return lC||(lC=1,Lg.exports=_L()),Lg.exports}var Fg={exports:{}},Kr={};var oC;function TL(){if(oC)return Kr;oC=1;var e=jc();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)m+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,m,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:m,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Kr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Kr.createPortal=function(f,m){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return s(f,m,null,h)},Kr.flushSync=function(f){var m=c.T,h=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=m,r.p=h,r.d.f()}},Kr.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},Kr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Kr.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var h=m.as,v=u(h,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;h==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:b}):h==="script"&&r.d.X(f,{crossOrigin:v,integrity:x,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Kr.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var h=u(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},Kr.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var h=m.as,v=u(h,m.crossOrigin);r.d.L(f,h,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Kr.preloadModule=function(f,m){if(typeof f=="string")if(m){var h=u(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},Kr.requestFormReset=function(f){r.d.r(f)},Kr.unstable_batchedUpdates=function(f,m){return f(m)},Kr.useFormState=function(f,m,h){return c.H.useFormState(f,m,h)},Kr.useFormStatus=function(){return c.H.useHostTransitionStatus()},Kr.version="19.2.4",Kr}var cC;function R_(){if(cC)return Fg.exports;cC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Fg.exports=TL(),Fg.exports}var uC;function PL(){if(uC)return Eu;uC=1;var e=OL(),t=jc(),n=R_();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,d=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(d=o.return),i=o.return;while(i)}return o.tag===3?d:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(r(188))}function m(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(r(188));return o!==i?null:i}for(var d=i,p=o;;){var g=d.return;if(g===null)break;var N=g.alternate;if(N===null){if(p=g.return,p!==null){d=p;continue}break}if(g.child===N.child){for(N=g.child;N;){if(N===d)return f(g),i;if(N===p)return f(g),o;N=N.sibling}throw Error(r(188))}if(d.return!==p.return)d=g,p=N;else{for(var D=!1,I=g.child;I;){if(I===d){D=!0,d=g,p=N;break}if(I===p){D=!0,p=g,d=N;break}I=I.sibling}if(!D){for(I=N.child;I;){if(I===d){D=!0,d=N,p=g;break}if(I===p){D=!0,p=N,d=g;break}I=I.sibling}if(!D)throw Error(r(189))}}if(d.alternate!==p)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?i:o}function h(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=h(i),o!==null)return o;i=i.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),A=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function k(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var K=Symbol.for("react.client.reference");function W(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===K?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case C:return"Profiler";case y:return"StrictMode";case E:return"Suspense";case T:return"SuspenseList";case L:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case A:return i.displayName||"Context";case M:return(i._context.displayName||"Context")+".Consumer";case _:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return o=i.displayName||null,o!==null?o:W(i.type)||"Memo";case O:o=i._payload,i=i._init;try{return W(i(o))}catch{}}return null}var Z=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},re=[],he=-1;function F(i){return{current:i}}function ne(i){0>he||(i.current=re[he],re[he]=null,he--)}function ve(i,o){he++,re[he]=i.current,i.current=o}var be=F(null),Pe=F(null),Re=F(null),Ne=F(null);function _e(i,o){switch(ve(Re,o),ve(Pe,i),ve(be,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?C2(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=C2(o),i=A2(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(be),ve(be,i)}function X(){ne(be),ne(Pe),ne(Re)}function Se(i){i.memoizedState!==null&&ve(Ne,i);var o=be.current,d=A2(o,i.type);o!==d&&(ve(Pe,i),ve(be,d))}function Be(i){Pe.current===i&&(ne(be),ne(Pe)),Ne.current===i&&(ne(Ne),Cu._currentValue=z)}var xe,et;function ge(i){if(xe===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);xe=o&&o[1]||"",et=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+i+et}var He=!1;function Ze(i,o){if(!i||He)return"";He=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(le){var ae=le}Reflect.construct(i,[],pe)}else{try{pe.call()}catch(le){ae=le}i.call(pe.prototype)}}else{try{throw Error()}catch(le){ae=le}(pe=i())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(le){if(le&&ae&&typeof le.stack=="string")return[le.stack,ae.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),D=N[0],I=N[1];if(D&&I){var q=D.split(`
`),ee=I.split(`
`);for(g=p=0;p<q.length&&!q[p].includes("DetermineComponentFrameRoot");)p++;for(;g<ee.length&&!ee[g].includes("DetermineComponentFrameRoot");)g++;if(p===q.length||g===ee.length)for(p=q.length-1,g=ee.length-1;1<=p&&0<=g&&q[p]!==ee[g];)g--;for(;1<=p&&0<=g;p--,g--)if(q[p]!==ee[g]){if(p!==1||g!==1)do if(p--,g--,0>g||q[p]!==ee[g]){var de=`
`+q[p].replace(" at new "," at ");return i.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",i.displayName)),de}while(1<=p&&0<=g);break}}}finally{He=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?ge(d):""}function dt(i,o){switch(i.tag){case 26:case 27:case 5:return ge(i.type);case 16:return ge("Lazy");case 13:return i.child!==o&&o!==null?ge("Suspense Fallback"):ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return Ze(i.type,!1);case 11:return Ze(i.type.render,!1);case 1:return Ze(i.type,!0);case 31:return ge("Activity");default:return""}}function Ct(i){try{var o="",d=null;do o+=dt(i,d),d=i,i=i.return;while(i);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Nr=Object.prototype.hasOwnProperty,bt=e.unstable_scheduleCallback,At=e.unstable_cancelCallback,Er=e.unstable_shouldYield,sn=e.unstable_requestPaint,nr=e.unstable_now,_a=e.unstable_getCurrentPriorityLevel,Ue=e.unstable_ImmediatePriority,te=e.unstable_UserBlockingPriority,me=e.unstable_NormalPriority,Oe=e.unstable_LowPriority,rt=e.unstable_IdlePriority,Y=e.log,ue=e.unstable_setDisableYieldValue,je=null,De=null;function Fe(i){if(typeof Y=="function"&&ue(i),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(je,i)}catch{}}var se=Math.clz32?Math.clz32:Mt,Tt=Math.log,Ye=Math.LN2;function Mt(i){return i>>>=0,i===0?32:31-(Tt(i)/Ye|0)|0}var Kt=256,$e=262144,qt=4194304;function Xe(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function we(i,o,d){var p=i.pendingLanes;if(p===0)return 0;var g=0,N=i.suspendedLanes,D=i.pingedLanes;i=i.warmLanes;var I=p&134217727;return I!==0?(p=I&~N,p!==0?g=Xe(p):(D&=I,D!==0?g=Xe(D):d||(d=I&~i,d!==0&&(g=Xe(d))))):(I=p&~N,I!==0?g=Xe(I):D!==0?g=Xe(D):d||(d=p&~i,d!==0&&(g=Xe(d)))),g===0?0:o!==0&&o!==g&&(o&N)===0&&(N=g&-g,d=o&-o,N>=d||N===32&&(d&4194048)!==0)?o:g}function We(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function tt(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pt(){var i=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),i}function zr(i){for(var o=[],d=0;31>d;d++)o.push(i);return o}function vr(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ce(i,o,d,p,g,N){var D=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var I=i.entanglements,q=i.expirationTimes,ee=i.hiddenUpdates;for(d=D&~d;0<d;){var de=31-se(d),pe=1<<de;I[de]=0,q[de]=-1;var ae=ee[de];if(ae!==null)for(ee[de]=null,de=0;de<ae.length;de++){var le=ae[de];le!==null&&(le.lane&=-536870913)}d&=~pe}p!==0&&_r(i,p,0),N!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=N&~(D&~o))}function _r(i,o,d){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-se(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|d&261930}function mi(i,o){var d=i.entangledLanes|=o;for(i=i.entanglements;d;){var p=31-se(d),g=1<<p;g&o|i[p]&o&&(i[p]|=o),d&=~g}}function Oa(i,o){var d=o&-o;return d=(d&42)!==0?1:Ta(d),(d&(i.suspendedLanes|o))!==0?0:d}function Ta(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Pa(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function al(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:W2(i.type))}function ss(i,o){var d=G.p;try{return G.p=i,o()}finally{G.p=d}}var Sn=Math.random().toString(36).slice(2),Sr="__reactFiber$"+Sn,Gr="__reactProps$"+Sn,ls="__reactContainer$"+Sn,Fc="__reactEvents$"+Sn,Cv="__reactListeners$"+Sn,Av="__reactHandles$"+Sn,Xd="__reactResources$"+Sn,il="__reactMarker$"+Sn;function Bc(i){delete i[Sr],delete i[Gr],delete i[Fc],delete i[Cv],delete i[Av]}function os(i){var o=i[Sr];if(o)return o;for(var d=i.parentNode;d;){if(o=d[ls]||d[Sr]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(i=T2(i);i!==null;){if(d=i[Sr])return d;i=T2(i)}return o}i=d,d=i.parentNode}return null}function cs(i){if(i=i[Sr]||i[ls]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function H(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function ye(i){var o=i[Xd];return o||(o=i[Xd]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function xt(i){i[il]=!0}var ln=new Set,Ia={};function Zr(i,o){on(i,o),on(i+"Capture",o)}function on(i,o){for(Ia[i]=o,i=0;i<o.length;i++)ln.add(o[i])}var ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$c={},Cn={};function Ra(i){return Nr.call(Cn,i)?!0:Nr.call($c,i)?!1:ao.test(i)?Cn[i]=!0:($c[i]=!0,!1)}function Zd(i,o,d){if(Ra(o))if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+d)}}function Jd(i,o,d){if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+d)}}function pi(i,o,d,p){if(p===null)i.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(o,d,""+p)}}function Un(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function xj(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function yI(i,o,d){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var g=p.get,N=p.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(D){d=""+D,N.call(this,D)}}),Object.defineProperty(i,o,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(D){d=""+D},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Mv(i){if(!i._valueTracker){var o=xj(i)?"checked":"value";i._valueTracker=yI(i,o,""+i[o])}}function gj(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var d=o.getValue(),p="";return i&&(p=xj(i)?i.checked?"true":"false":i.value),i=p,i!==d?(o.setValue(i),!0):!1}function ef(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var wI=/[\n"\\]/g;function Yn(i){return i.replace(wI,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Dv(i,o,d,p,g,N,D,I){i.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.type=D:i.removeAttribute("type"),o!=null?D==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Un(o)):i.value!==""+Un(o)&&(i.value=""+Un(o)):D!=="submit"&&D!=="reset"||i.removeAttribute("value"),o!=null?kv(i,D,Un(o)):d!=null?kv(i,D,Un(d)):p!=null&&i.removeAttribute("value"),g==null&&N!=null&&(i.defaultChecked=!!N),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+Un(I):i.removeAttribute("name")}function bj(i,o,d,p,g,N,D,I){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.type=N),o!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||o!=null)){Mv(i);return}d=d!=null?""+Un(d):"",o=o!=null?""+Un(o):d,I||o===i.value||(i.value=o),i.defaultValue=o}p=p??g,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=I?i.checked:!!p,i.defaultChecked=!!p,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(i.name=D),Mv(i)}function kv(i,o,d){o==="number"&&ef(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function io(i,o,d,p){if(i=i.options,o){o={};for(var g=0;g<d.length;g++)o["$"+d[g]]=!0;for(d=0;d<i.length;d++)g=o.hasOwnProperty("$"+i[d].value),i[d].selected!==g&&(i[d].selected=g),g&&p&&(i[d].defaultSelected=!0)}else{for(d=""+Un(d),o=null,g=0;g<i.length;g++){if(i[g].value===d){i[g].selected=!0,p&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function yj(i,o,d){if(o!=null&&(o=""+Un(o),o!==i.value&&(i.value=o),d==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=d!=null?""+Un(d):""}function wj(i,o,d,p){if(o==null){if(p!=null){if(d!=null)throw Error(r(92));if(Z(p)){if(1<p.length)throw Error(r(93));p=p[0]}d=p}d==null&&(d=""),o=d}d=Un(o),i.defaultValue=d,p=i.textContent,p===d&&p!==""&&p!==null&&(i.value=p),Mv(i)}function so(i,o){if(o){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=o;return}}i.textContent=o}var jI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jj(i,o,d){var p=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,d):typeof d!="number"||d===0||jI.has(o)?o==="float"?i.cssFloat=d:i[o]=(""+d).trim():i[o]=d+"px"}function Nj(i,o,d){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var g in o)p=o[g],o.hasOwnProperty(g)&&d[g]!==p&&jj(i,g,p)}else for(var N in o)o.hasOwnProperty(N)&&jj(i,N,o[N])}function Ev(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),SI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tf(i){return SI.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function hi(){}var _v=null;function Ov(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var lo=null,oo=null;function Sj(i){var o=cs(i);if(o&&(i=o.stateNode)){var d=i[Gr]||null;e:switch(i=o.stateNode,o.type){case"input":if(Dv(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Yn(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var p=d[o];if(p!==i&&p.form===i.form){var g=p[Gr]||null;if(!g)throw Error(r(90));Dv(p,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<d.length;o++)p=d[o],p.form===i.form&&gj(p)}break e;case"textarea":yj(i,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&io(i,!!d.multiple,o,!1)}}}var Tv=!1;function Cj(i,o,d){if(Tv)return i(o,d);Tv=!0;try{var p=i(o);return p}finally{if(Tv=!1,(lo!==null||oo!==null)&&(Hf(),lo&&(o=lo,i=oo,oo=lo=null,Sj(o),i)))for(o=0;o<i.length;o++)Sj(i[o])}}function qc(i,o){var d=i.stateNode;if(d===null)return null;var p=d[Gr]||null;if(p===null)return null;d=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(r(231,o,typeof d));return d}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pv=!1;if(vi)try{var Hc={};Object.defineProperty(Hc,"passive",{get:function(){Pv=!0}}),window.addEventListener("test",Hc,Hc),window.removeEventListener("test",Hc,Hc)}catch{Pv=!1}var us=null,Iv=null,rf=null;function Aj(){if(rf)return rf;var i,o=Iv,d=o.length,p,g="value"in us?us.value:us.textContent,N=g.length;for(i=0;i<d&&o[i]===g[i];i++);var D=d-i;for(p=1;p<=D&&o[d-p]===g[N-p];p++);return rf=g.slice(i,1<p?1-p:void 0)}function nf(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function af(){return!0}function Mj(){return!1}function cn(i){function o(d,p,g,N,D){this._reactName=d,this._targetInst=g,this.type=p,this.nativeEvent=N,this.target=D,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(d=i[I],this[I]=d?d(N):N[I]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?af:Mj,this.isPropagationStopped=Mj,this}return v(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=af)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=af)},persist:function(){},isPersistent:af}),o}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sf=cn(sl),Uc=v({},sl,{view:0,detail:0}),CI=cn(Uc),Rv,Lv,Yc,lf=v({},Uc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fv,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Yc&&(Yc&&i.type==="mousemove"?(Rv=i.screenX-Yc.screenX,Lv=i.screenY-Yc.screenY):Lv=Rv=0,Yc=i),Rv)},movementY:function(i){return"movementY"in i?i.movementY:Lv}}),Dj=cn(lf),AI=v({},lf,{dataTransfer:0}),MI=cn(AI),DI=v({},Uc,{relatedTarget:0}),zv=cn(DI),kI=v({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),EI=cn(kI),_I=v({},sl,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),OI=cn(_I),TI=v({},sl,{data:0}),kj=cn(TI),PI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},II={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LI(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=RI[i])?!!o[i]:!1}function Fv(){return LI}var zI=v({},Uc,{key:function(i){if(i.key){var o=PI[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=nf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?II[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fv,charCode:function(i){return i.type==="keypress"?nf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?nf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),FI=cn(zI),BI=v({},lf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ej=cn(BI),$I=v({},Uc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fv}),qI=cn($I),HI=v({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),UI=cn(HI),YI=v({},lf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),VI=cn(YI),GI=v({},sl,{newState:0,oldState:0}),KI=cn(GI),WI=[9,13,27,32],Bv=vi&&"CompositionEvent"in window,Vc=null;vi&&"documentMode"in document&&(Vc=document.documentMode);var QI=vi&&"TextEvent"in window&&!Vc,_j=vi&&(!Bv||Vc&&8<Vc&&11>=Vc),Oj=" ",Tj=!1;function Pj(i,o){switch(i){case"keyup":return WI.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ij(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var co=!1;function XI(i,o){switch(i){case"compositionend":return Ij(o);case"keypress":return o.which!==32?null:(Tj=!0,Oj);case"textInput":return i=o.data,i===Oj&&Tj?null:i;default:return null}}function ZI(i,o){if(co)return i==="compositionend"||!Bv&&Pj(i,o)?(i=Aj(),rf=Iv=us=null,co=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return _j&&o.locale!=="ko"?null:o.data;default:return null}}var JI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rj(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!JI[i.type]:o==="textarea"}function Lj(i,o,d,p){lo?oo?oo.push(p):oo=[p]:lo=p,o=Qf(o,"onChange"),0<o.length&&(d=new sf("onChange","change",null,d,p),i.push({event:d,listeners:o}))}var Gc=null,Kc=null;function eR(i){b2(i,0)}function of(i){var o=H(i);if(gj(o))return i}function zj(i,o){if(i==="change")return o}var Fj=!1;if(vi){var $v;if(vi){var qv="oninput"in document;if(!qv){var Bj=document.createElement("div");Bj.setAttribute("oninput","return;"),qv=typeof Bj.oninput=="function"}$v=qv}else $v=!1;Fj=$v&&(!document.documentMode||9<document.documentMode)}function $j(){Gc&&(Gc.detachEvent("onpropertychange",qj),Kc=Gc=null)}function qj(i){if(i.propertyName==="value"&&of(Kc)){var o=[];Lj(o,Kc,i,Ov(i)),Cj(eR,o)}}function tR(i,o,d){i==="focusin"?($j(),Gc=o,Kc=d,Gc.attachEvent("onpropertychange",qj)):i==="focusout"&&$j()}function rR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return of(Kc)}function nR(i,o){if(i==="click")return of(o)}function aR(i,o){if(i==="input"||i==="change")return of(o)}function iR(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var An=typeof Object.is=="function"?Object.is:iR;function Wc(i,o){if(An(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var d=Object.keys(i),p=Object.keys(o);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var g=d[p];if(!Nr.call(o,g)||!An(i[g],o[g]))return!1}return!0}function Hj(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Uj(i,o){var d=Hj(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=o&&p>=o)return{node:d,offset:o-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Hj(d)}}function Yj(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Yj(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Vj(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=ef(i.document);o instanceof i.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)i=o.contentWindow;else break;o=ef(i.document)}return o}function Hv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var sR=vi&&"documentMode"in document&&11>=document.documentMode,uo=null,Uv=null,Qc=null,Yv=!1;function Gj(i,o,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Yv||uo==null||uo!==ef(p)||(p=uo,"selectionStart"in p&&Hv(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Qc&&Wc(Qc,p)||(Qc=p,p=Qf(Uv,"onSelect"),0<p.length&&(o=new sf("onSelect","select",null,o,d),i.push({event:o,listeners:p}),o.target=uo)))}function ll(i,o){var d={};return d[i.toLowerCase()]=o.toLowerCase(),d["Webkit"+i]="webkit"+o,d["Moz"+i]="moz"+o,d}var fo={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionrun:ll("Transition","TransitionRun"),transitionstart:ll("Transition","TransitionStart"),transitioncancel:ll("Transition","TransitionCancel"),transitionend:ll("Transition","TransitionEnd")},Vv={},Kj={};vi&&(Kj=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function ol(i){if(Vv[i])return Vv[i];if(!fo[i])return i;var o=fo[i],d;for(d in o)if(o.hasOwnProperty(d)&&d in Kj)return Vv[i]=o[d];return i}var Wj=ol("animationend"),Qj=ol("animationiteration"),Xj=ol("animationstart"),lR=ol("transitionrun"),oR=ol("transitionstart"),cR=ol("transitioncancel"),Zj=ol("transitionend"),Jj=new Map,Gv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gv.push("scrollEnd");function da(i,o){Jj.set(i,o),Zr(o,[i])}var cf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Vn=[],mo=0,Kv=0;function uf(){for(var i=mo,o=Kv=mo=0;o<i;){var d=Vn[o];Vn[o++]=null;var p=Vn[o];Vn[o++]=null;var g=Vn[o];Vn[o++]=null;var N=Vn[o];if(Vn[o++]=null,p!==null&&g!==null){var D=p.pending;D===null?g.next=g:(g.next=D.next,D.next=g),p.pending=g}N!==0&&eN(d,g,N)}}function df(i,o,d,p){Vn[mo++]=i,Vn[mo++]=o,Vn[mo++]=d,Vn[mo++]=p,Kv|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function Wv(i,o,d,p){return df(i,o,d,p),ff(i)}function cl(i,o){return df(i,null,null,o),ff(i)}function eN(i,o,d){i.lanes|=d;var p=i.alternate;p!==null&&(p.lanes|=d);for(var g=!1,N=i.return;N!==null;)N.childLanes|=d,p=N.alternate,p!==null&&(p.childLanes|=d),N.tag===22&&(i=N.stateNode,i===null||i._visibility&1||(g=!0)),i=N,N=N.return;return i.tag===3?(N=i.stateNode,g&&o!==null&&(g=31-se(d),i=N.hiddenUpdates,p=i[g],p===null?i[g]=[o]:p.push(o),o.lane=d|536870912),N):null}function ff(i){if(50<gu)throw gu=0,ag=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var po={};function uR(i,o,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(i,o,d,p){return new uR(i,o,d,p)}function Qv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function xi(i,o){var d=i.alternate;return d===null?(d=Mn(i.tag,o,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=o,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,o=i.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function tN(i,o){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,o=d.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function mf(i,o,d,p,g,N){var D=0;if(p=i,typeof i=="function")Qv(i)&&(D=1);else if(typeof i=="string")D=hL(i,d,be.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case L:return i=Mn(31,d,o,g),i.elementType=L,i.lanes=N,i;case w:return ul(d.children,g,N,o);case y:D=8,g|=24;break;case C:return i=Mn(12,d,o,g|2),i.elementType=C,i.lanes=N,i;case E:return i=Mn(13,d,o,g),i.elementType=E,i.lanes=N,i;case T:return i=Mn(19,d,o,g),i.elementType=T,i.lanes=N,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:D=10;break e;case M:D=9;break e;case _:D=11;break e;case P:D=14;break e;case O:D=16,p=null;break e}D=29,d=Error(r(130,i===null?"null":typeof i,"")),p=null}return o=Mn(D,d,o,g),o.elementType=i,o.type=p,o.lanes=N,o}function ul(i,o,d,p){return i=Mn(7,i,p,o),i.lanes=d,i}function Xv(i,o,d){return i=Mn(6,i,null,o),i.lanes=d,i}function rN(i){var o=Mn(18,null,null,0);return o.stateNode=i,o}function Zv(i,o,d){return o=Mn(4,i.children!==null?i.children:[],i.key,o),o.lanes=d,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var nN=new WeakMap;function Gn(i,o){if(typeof i=="object"&&i!==null){var d=nN.get(i);return d!==void 0?d:(o={value:i,source:o,stack:Ct(o)},nN.set(i,o),o)}return{value:i,source:o,stack:Ct(o)}}var ho=[],vo=0,pf=null,Xc=0,Kn=[],Wn=0,ds=null,La=1,za="";function gi(i,o){ho[vo++]=Xc,ho[vo++]=pf,pf=i,Xc=o}function aN(i,o,d){Kn[Wn++]=La,Kn[Wn++]=za,Kn[Wn++]=ds,ds=i;var p=La;i=za;var g=32-se(p)-1;p&=~(1<<g),d+=1;var N=32-se(o)+g;if(30<N){var D=g-g%5;N=(p&(1<<D)-1).toString(32),p>>=D,g-=D,La=1<<32-se(o)+g|d<<g|p,za=N+i}else La=1<<N|d<<g|p,za=i}function Jv(i){i.return!==null&&(gi(i,1),aN(i,1,0))}function ex(i){for(;i===pf;)pf=ho[--vo],ho[vo]=null,Xc=ho[--vo],ho[vo]=null;for(;i===ds;)ds=Kn[--Wn],Kn[Wn]=null,za=Kn[--Wn],Kn[Wn]=null,La=Kn[--Wn],Kn[Wn]=null}function iN(i,o){Kn[Wn++]=La,Kn[Wn++]=za,Kn[Wn++]=ds,La=o.id,za=o.overflow,ds=i}var Fr=null,Ut=null,vt=!1,fs=null,Qn=!1,tx=Error(r(519));function ms(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zc(Gn(o,i)),tx}function sN(i){var o=i.stateNode,d=i.type,p=i.memoizedProps;switch(o[Sr]=i,o[Gr]=p,d){case"dialog":ct("cancel",o),ct("close",o);break;case"iframe":case"object":case"embed":ct("load",o);break;case"video":case"audio":for(d=0;d<yu.length;d++)ct(yu[d],o);break;case"source":ct("error",o);break;case"img":case"image":case"link":ct("error",o),ct("load",o);break;case"details":ct("toggle",o);break;case"input":ct("invalid",o),bj(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":ct("invalid",o);break;case"textarea":ct("invalid",o),wj(o,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||p.suppressHydrationWarning===!0||N2(o.textContent,d)?(p.popover!=null&&(ct("beforetoggle",o),ct("toggle",o)),p.onScroll!=null&&ct("scroll",o),p.onScrollEnd!=null&&ct("scrollend",o),p.onClick!=null&&(o.onclick=hi),o=!0):o=!1,o||ms(i,!0)}function lN(i){for(Fr=i.return;Fr;)switch(Fr.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Fr=Fr.return}}function xo(i){if(i!==Fr)return!1;if(!vt)return lN(i),vt=!0,!1;var o=i.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||bg(i.type,i.memoizedProps)),d=!d),d&&Ut&&ms(i),lN(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ut=O2(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ut=O2(i)}else o===27?(o=Ut,Ms(i.type)?(i=Sg,Sg=null,Ut=i):Ut=o):Ut=Fr?Zn(i.stateNode.nextSibling):null;return!0}function dl(){Ut=Fr=null,vt=!1}function rx(){var i=fs;return i!==null&&(mn===null?mn=i:mn.push.apply(mn,i),fs=null),i}function Zc(i){fs===null?fs=[i]:fs.push(i)}var nx=F(null),fl=null,bi=null;function ps(i,o,d){ve(nx,o._currentValue),o._currentValue=d}function yi(i){i._currentValue=nx.current,ne(nx)}function ax(i,o,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===d)break;i=i.return}}function ix(i,o,d,p){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var N=g.dependencies;if(N!==null){var D=g.child;N=N.firstContext;e:for(;N!==null;){var I=N;N=g;for(var q=0;q<o.length;q++)if(I.context===o[q]){N.lanes|=d,I=N.alternate,I!==null&&(I.lanes|=d),ax(N.return,d,i),p||(D=null);break e}N=I.next}}else if(g.tag===18){if(D=g.return,D===null)throw Error(r(341));D.lanes|=d,N=D.alternate,N!==null&&(N.lanes|=d),ax(D,d,i),D=null}else D=g.child;if(D!==null)D.return=g;else for(D=g;D!==null;){if(D===i){D=null;break}if(g=D.sibling,g!==null){g.return=D.return,D=g;break}D=D.return}g=D}}function go(i,o,d,p){i=null;for(var g=o,N=!1;g!==null;){if(!N){if((g.flags&524288)!==0)N=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var D=g.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var I=g.type;An(g.pendingProps.value,D.value)||(i!==null?i.push(I):i=[I])}}else if(g===Ne.current){if(D=g.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Cu):i=[Cu])}g=g.return}i!==null&&ix(o,i,d,p),o.flags|=262144}function hf(i){for(i=i.firstContext;i!==null;){if(!An(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ml(i){fl=i,bi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Br(i){return oN(fl,i)}function vf(i,o){return fl===null&&ml(i),oN(i,o)}function oN(i,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},bi===null){if(i===null)throw Error(r(308));bi=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else bi=bi.next=o;return d}var dR=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(d,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(d){return d()})}},fR=e.unstable_scheduleCallback,mR=e.unstable_NormalPriority,xr={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sx(){return{controller:new dR,data:new Map,refCount:0}}function Jc(i){i.refCount--,i.refCount===0&&fR(mR,function(){i.controller.abort()})}var eu=null,lx=0,bo=0,yo=null;function pR(i,o){if(eu===null){var d=eu=[];lx=0,bo=ug(),yo={status:"pending",value:void 0,then:function(p){d.push(p)}}}return lx++,o.then(cN,cN),o}function cN(){if(--lx===0&&eu!==null){yo!==null&&(yo.status="fulfilled");var i=eu;eu=null,bo=0,yo=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function hR(i,o){var d=[],p={status:"pending",value:null,reason:null,then:function(g){d.push(g)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var g=0;g<d.length;g++)(0,d[g])(o)},function(g){for(p.status="rejected",p.reason=g,g=0;g<d.length;g++)(0,d[g])(void 0)}),p}var uN=$.S;$.S=function(i,o){GS=nr(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&pR(i,o),uN!==null&&uN(i,o)};var pl=F(null);function ox(){var i=pl.current;return i!==null?i:Bt.pooledCache}function xf(i,o){o===null?ve(pl,pl.current):ve(pl,o.pool)}function dN(){var i=ox();return i===null?null:{parent:xr._currentValue,pool:i}}var wo=Error(r(460)),cx=Error(r(474)),gf=Error(r(542)),bf={then:function(){}};function fN(i){return i=i.status,i==="fulfilled"||i==="rejected"}function mN(i,o,d){switch(d=i[d],d===void 0?i.push(o):d!==o&&(o.then(hi,hi),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,hN(i),i;default:if(typeof o.status=="string")o.then(hi,hi);else{if(i=Bt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=p}},function(p){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,hN(i),i}throw vl=o,wo}}function hl(i){try{var o=i._init;return o(i._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(vl=d,wo):d}}var vl=null;function pN(){if(vl===null)throw Error(r(459));var i=vl;return vl=null,i}function hN(i){if(i===wo||i===gf)throw Error(r(483))}var jo=null,tu=0;function yf(i){var o=tu;return tu+=1,jo===null&&(jo=[]),mN(jo,i,o)}function ru(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function wf(i,o){throw o.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function vN(i){function o(V,U){if(i){var J=V.deletions;J===null?(V.deletions=[U],V.flags|=16):J.push(U)}}function d(V,U){if(!i)return null;for(;U!==null;)o(V,U),U=U.sibling;return null}function p(V){for(var U=new Map;V!==null;)V.key!==null?U.set(V.key,V):U.set(V.index,V),V=V.sibling;return U}function g(V,U){return V=xi(V,U),V.index=0,V.sibling=null,V}function N(V,U,J){return V.index=J,i?(J=V.alternate,J!==null?(J=J.index,J<U?(V.flags|=67108866,U):J):(V.flags|=67108866,U)):(V.flags|=1048576,U)}function D(V){return i&&V.alternate===null&&(V.flags|=67108866),V}function I(V,U,J,fe){return U===null||U.tag!==6?(U=Xv(J,V.mode,fe),U.return=V,U):(U=g(U,J),U.return=V,U)}function q(V,U,J,fe){var qe=J.type;return qe===w?de(V,U,J.props.children,fe,J.key):U!==null&&(U.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===O&&hl(qe)===U.type)?(U=g(U,J.props),ru(U,J),U.return=V,U):(U=mf(J.type,J.key,J.props,null,V.mode,fe),ru(U,J),U.return=V,U)}function ee(V,U,J,fe){return U===null||U.tag!==4||U.stateNode.containerInfo!==J.containerInfo||U.stateNode.implementation!==J.implementation?(U=Zv(J,V.mode,fe),U.return=V,U):(U=g(U,J.children||[]),U.return=V,U)}function de(V,U,J,fe,qe){return U===null||U.tag!==7?(U=ul(J,V.mode,fe,qe),U.return=V,U):(U=g(U,J),U.return=V,U)}function pe(V,U,J){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Xv(""+U,V.mode,J),U.return=V,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return J=mf(U.type,U.key,U.props,null,V.mode,J),ru(J,U),J.return=V,J;case S:return U=Zv(U,V.mode,J),U.return=V,U;case O:return U=hl(U),pe(V,U,J)}if(Z(U)||k(U))return U=ul(U,V.mode,J,null),U.return=V,U;if(typeof U.then=="function")return pe(V,yf(U),J);if(U.$$typeof===A)return pe(V,vf(V,U),J);wf(V,U)}return null}function ae(V,U,J,fe){var qe=U!==null?U.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return qe!==null?null:I(V,U,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return J.key===qe?q(V,U,J,fe):null;case S:return J.key===qe?ee(V,U,J,fe):null;case O:return J=hl(J),ae(V,U,J,fe)}if(Z(J)||k(J))return qe!==null?null:de(V,U,J,fe,null);if(typeof J.then=="function")return ae(V,U,yf(J),fe);if(J.$$typeof===A)return ae(V,U,vf(V,J),fe);wf(V,J)}return null}function le(V,U,J,fe,qe){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return V=V.get(J)||null,I(U,V,""+fe,qe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:return V=V.get(fe.key===null?J:fe.key)||null,q(U,V,fe,qe);case S:return V=V.get(fe.key===null?J:fe.key)||null,ee(U,V,fe,qe);case O:return fe=hl(fe),le(V,U,J,fe,qe)}if(Z(fe)||k(fe))return V=V.get(J)||null,de(U,V,fe,qe,null);if(typeof fe.then=="function")return le(V,U,J,yf(fe),qe);if(fe.$$typeof===A)return le(V,U,J,vf(U,fe),qe);wf(U,fe)}return null}function Ie(V,U,J,fe){for(var qe=null,yt=null,Le=U,at=U=0,mt=null;Le!==null&&at<J.length;at++){Le.index>at?(mt=Le,Le=null):mt=Le.sibling;var wt=ae(V,Le,J[at],fe);if(wt===null){Le===null&&(Le=mt);break}i&&Le&&wt.alternate===null&&o(V,Le),U=N(wt,U,at),yt===null?qe=wt:yt.sibling=wt,yt=wt,Le=mt}if(at===J.length)return d(V,Le),vt&&gi(V,at),qe;if(Le===null){for(;at<J.length;at++)Le=pe(V,J[at],fe),Le!==null&&(U=N(Le,U,at),yt===null?qe=Le:yt.sibling=Le,yt=Le);return vt&&gi(V,at),qe}for(Le=p(Le);at<J.length;at++)mt=le(Le,V,at,J[at],fe),mt!==null&&(i&&mt.alternate!==null&&Le.delete(mt.key===null?at:mt.key),U=N(mt,U,at),yt===null?qe=mt:yt.sibling=mt,yt=mt);return i&&Le.forEach(function(Os){return o(V,Os)}),vt&&gi(V,at),qe}function Ve(V,U,J,fe){if(J==null)throw Error(r(151));for(var qe=null,yt=null,Le=U,at=U=0,mt=null,wt=J.next();Le!==null&&!wt.done;at++,wt=J.next()){Le.index>at?(mt=Le,Le=null):mt=Le.sibling;var Os=ae(V,Le,wt.value,fe);if(Os===null){Le===null&&(Le=mt);break}i&&Le&&Os.alternate===null&&o(V,Le),U=N(Os,U,at),yt===null?qe=Os:yt.sibling=Os,yt=Os,Le=mt}if(wt.done)return d(V,Le),vt&&gi(V,at),qe;if(Le===null){for(;!wt.done;at++,wt=J.next())wt=pe(V,wt.value,fe),wt!==null&&(U=N(wt,U,at),yt===null?qe=wt:yt.sibling=wt,yt=wt);return vt&&gi(V,at),qe}for(Le=p(Le);!wt.done;at++,wt=J.next())wt=le(Le,V,at,wt.value,fe),wt!==null&&(i&&wt.alternate!==null&&Le.delete(wt.key===null?at:wt.key),U=N(wt,U,at),yt===null?qe=wt:yt.sibling=wt,yt=wt);return i&&Le.forEach(function(AL){return o(V,AL)}),vt&&gi(V,at),qe}function Lt(V,U,J,fe){if(typeof J=="object"&&J!==null&&J.type===w&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case b:e:{for(var qe=J.key;U!==null;){if(U.key===qe){if(qe=J.type,qe===w){if(U.tag===7){d(V,U.sibling),fe=g(U,J.props.children),fe.return=V,V=fe;break e}}else if(U.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===O&&hl(qe)===U.type){d(V,U.sibling),fe=g(U,J.props),ru(fe,J),fe.return=V,V=fe;break e}d(V,U);break}else o(V,U);U=U.sibling}J.type===w?(fe=ul(J.props.children,V.mode,fe,J.key),fe.return=V,V=fe):(fe=mf(J.type,J.key,J.props,null,V.mode,fe),ru(fe,J),fe.return=V,V=fe)}return D(V);case S:e:{for(qe=J.key;U!==null;){if(U.key===qe)if(U.tag===4&&U.stateNode.containerInfo===J.containerInfo&&U.stateNode.implementation===J.implementation){d(V,U.sibling),fe=g(U,J.children||[]),fe.return=V,V=fe;break e}else{d(V,U);break}else o(V,U);U=U.sibling}fe=Zv(J,V.mode,fe),fe.return=V,V=fe}return D(V);case O:return J=hl(J),Lt(V,U,J,fe)}if(Z(J))return Ie(V,U,J,fe);if(k(J)){if(qe=k(J),typeof qe!="function")throw Error(r(150));return J=qe.call(J),Ve(V,U,J,fe)}if(typeof J.then=="function")return Lt(V,U,yf(J),fe);if(J.$$typeof===A)return Lt(V,U,vf(V,J),fe);wf(V,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,U!==null&&U.tag===6?(d(V,U.sibling),fe=g(U,J),fe.return=V,V=fe):(d(V,U),fe=Xv(J,V.mode,fe),fe.return=V,V=fe),D(V)):d(V,U)}return function(V,U,J,fe){try{tu=0;var qe=Lt(V,U,J,fe);return jo=null,qe}catch(Le){if(Le===wo||Le===gf)throw Le;var yt=Mn(29,Le,null,V.mode);return yt.lanes=fe,yt.return=V,yt}}}var xl=vN(!0),xN=vN(!1),hs=!1;function ux(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dx(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function vs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function xs(i,o,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Nt&2)!==0){var g=p.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),p.pending=o,o=ff(i),eN(i,null,d),o}return df(i,p,o,d),ff(i)}function nu(i,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,mi(i,d)}}function fx(i,o){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var g=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var D={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?g=N=D:N=N.next=D,d=d.next}while(d!==null);N===null?g=N=o:N=N.next=o}else g=N=o;d={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=o:i.next=o,d.lastBaseUpdate=o}var mx=!1;function au(){if(mx){var i=yo;if(i!==null)throw i}}function iu(i,o,d,p){mx=!1;var g=i.updateQueue;hs=!1;var N=g.firstBaseUpdate,D=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var q=I,ee=q.next;q.next=null,D===null?N=ee:D.next=ee,D=q;var de=i.alternate;de!==null&&(de=de.updateQueue,I=de.lastBaseUpdate,I!==D&&(I===null?de.firstBaseUpdate=ee:I.next=ee,de.lastBaseUpdate=q))}if(N!==null){var pe=g.baseState;D=0,de=ee=q=null,I=N;do{var ae=I.lane&-536870913,le=ae!==I.lane;if(le?(ft&ae)===ae:(p&ae)===ae){ae!==0&&ae===bo&&(mx=!0),de!==null&&(de=de.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ie=i,Ve=I;ae=o;var Lt=d;switch(Ve.tag){case 1:if(Ie=Ve.payload,typeof Ie=="function"){pe=Ie.call(Lt,pe,ae);break e}pe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ve.payload,ae=typeof Ie=="function"?Ie.call(Lt,pe,ae):Ie,ae==null)break e;pe=v({},pe,ae);break e;case 2:hs=!0}}ae=I.callback,ae!==null&&(i.flags|=64,le&&(i.flags|=8192),le=g.callbacks,le===null?g.callbacks=[ae]:le.push(ae))}else le={lane:ae,tag:I.tag,payload:I.payload,callback:I.callback,next:null},de===null?(ee=de=le,q=pe):de=de.next=le,D|=ae;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;le=I,I=le.next,le.next=null,g.lastBaseUpdate=le,g.shared.pending=null}}while(!0);de===null&&(q=pe),g.baseState=q,g.firstBaseUpdate=ee,g.lastBaseUpdate=de,N===null&&(g.shared.lanes=0),js|=D,i.lanes=D,i.memoizedState=pe}}function gN(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function bN(i,o){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)gN(d[i],o)}var No=F(null),jf=F(0);function yN(i,o){i=ki,ve(jf,i),ve(No,o),ki=i|o.baseLanes}function px(){ve(jf,ki),ve(No,No.current)}function hx(){ki=jf.current,ne(No),ne(jf)}var Dn=F(null),Xn=null;function gs(i){var o=i.alternate;ve(dr,dr.current&1),ve(Dn,i),Xn===null&&(o===null||No.current!==null||o.memoizedState!==null)&&(Xn=i)}function vx(i){ve(dr,dr.current),ve(Dn,i),Xn===null&&(Xn=i)}function wN(i){i.tag===22?(ve(dr,dr.current),ve(Dn,i),Xn===null&&(Xn=i)):bs()}function bs(){ve(dr,dr.current),ve(Dn,Dn.current)}function kn(i){ne(Dn),Xn===i&&(Xn=null),ne(dr)}var dr=F(0);function Nf(i){for(var o=i;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||jg(d)||Ng(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var wi=0,nt=null,It=null,gr=null,Sf=!1,So=!1,gl=!1,Cf=0,su=0,Co=null,vR=0;function ar(){throw Error(r(321))}function xx(i,o){if(o===null)return!1;for(var d=0;d<o.length&&d<i.length;d++)if(!An(i[d],o[d]))return!1;return!0}function gx(i,o,d,p,g,N){return wi=N,nt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$.H=i===null||i.memoizedState===null?aS:Tx,gl=!1,N=d(p,g),gl=!1,So&&(N=NN(o,d,p,g)),jN(i),N}function jN(i){$.H=cu;var o=It!==null&&It.next!==null;if(wi=0,gr=It=nt=null,Sf=!1,su=0,Co=null,o)throw Error(r(300));i===null||br||(i=i.dependencies,i!==null&&hf(i)&&(br=!0))}function NN(i,o,d,p){nt=i;var g=0;do{if(So&&(Co=null),su=0,So=!1,25<=g)throw Error(r(301));if(g+=1,gr=It=null,i.updateQueue!=null){var N=i.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}$.H=iS,N=o(d,p)}while(So);return N}function xR(){var i=$.H,o=i.useState()[0];return o=typeof o.then=="function"?lu(o):o,i=i.useState()[0],(It!==null?It.memoizedState:null)!==i&&(nt.flags|=1024),o}function bx(){var i=Cf!==0;return Cf=0,i}function yx(i,o,d){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~d}function wx(i){if(Sf){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Sf=!1}wi=0,gr=It=nt=null,So=!1,su=Cf=0,Co=null}function Jr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?nt.memoizedState=gr=i:gr=gr.next=i,gr}function fr(){if(It===null){var i=nt.alternate;i=i!==null?i.memoizedState:null}else i=It.next;var o=gr===null?nt.memoizedState:gr.next;if(o!==null)gr=o,It=i;else{if(i===null)throw nt.alternate===null?Error(r(467)):Error(r(310));It=i,i={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},gr===null?nt.memoizedState=gr=i:gr=gr.next=i}return gr}function Af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lu(i){var o=su;return su+=1,Co===null&&(Co=[]),i=mN(Co,i,o),o=nt,(gr===null?o.memoizedState:gr.next)===null&&(o=o.alternate,$.H=o===null||o.memoizedState===null?aS:Tx),i}function Mf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return lu(i);if(i.$$typeof===A)return Br(i)}throw Error(r(438,String(i)))}function jx(i){var o=null,d=nt.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var p=nt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=Af(),nt.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(i),p=0;p<i;p++)d[p]=R;return o.index++,d}function ji(i,o){return typeof o=="function"?o(i):o}function Df(i){var o=fr();return Nx(o,It,i)}function Nx(i,o,d){var p=i.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=d;var g=i.baseQueue,N=p.pending;if(N!==null){if(g!==null){var D=g.next;g.next=N.next,N.next=D}o.baseQueue=g=N,p.pending=null}if(N=i.baseState,g===null)i.memoizedState=N;else{o=g.next;var I=D=null,q=null,ee=o,de=!1;do{var pe=ee.lane&-536870913;if(pe!==ee.lane?(ft&pe)===pe:(wi&pe)===pe){var ae=ee.revertLane;if(ae===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),pe===bo&&(de=!0);else if((wi&ae)===ae){ee=ee.next,ae===bo&&(de=!0);continue}else pe={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(I=q=pe,D=N):q=q.next=pe,nt.lanes|=ae,js|=ae;pe=ee.action,gl&&d(N,pe),N=ee.hasEagerState?ee.eagerState:d(N,pe)}else ae={lane:pe,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(I=q=ae,D=N):q=q.next=ae,nt.lanes|=pe,js|=pe;ee=ee.next}while(ee!==null&&ee!==o);if(q===null?D=N:q.next=I,!An(N,i.memoizedState)&&(br=!0,de&&(d=yo,d!==null)))throw d;i.memoizedState=N,i.baseState=D,i.baseQueue=q,p.lastRenderedState=N}return g===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function Sx(i){var o=fr(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var p=d.dispatch,g=d.pending,N=o.memoizedState;if(g!==null){d.pending=null;var D=g=g.next;do N=i(N,D.action),D=D.next;while(D!==g);An(N,o.memoizedState)||(br=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),d.lastRenderedState=N}return[N,p]}function SN(i,o,d){var p=nt,g=fr(),N=vt;if(N){if(d===void 0)throw Error(r(407));d=d()}else d=o();var D=!An((It||g).memoizedState,d);if(D&&(g.memoizedState=d,br=!0),g=g.queue,Mx(MN.bind(null,p,g,i),[i]),g.getSnapshot!==o||D||gr!==null&&gr.memoizedState.tag&1){if(p.flags|=2048,Ao(9,{destroy:void 0},AN.bind(null,p,g,d,o),null),Bt===null)throw Error(r(349));N||(wi&127)!==0||CN(p,o,d)}return d}function CN(i,o,d){i.flags|=16384,i={getSnapshot:o,value:d},o=nt.updateQueue,o===null?(o=Af(),nt.updateQueue=o,o.stores=[i]):(d=o.stores,d===null?o.stores=[i]:d.push(i))}function AN(i,o,d,p){o.value=d,o.getSnapshot=p,DN(o)&&kN(i)}function MN(i,o,d){return d(function(){DN(o)&&kN(i)})}function DN(i){var o=i.getSnapshot;i=i.value;try{var d=o();return!An(i,d)}catch{return!0}}function kN(i){var o=cl(i,2);o!==null&&pn(o,i,2)}function Cx(i){var o=Jr();if(typeof i=="function"){var d=i;if(i=d(),gl){Fe(!0);try{d()}finally{Fe(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:i},o}function EN(i,o,d,p){return i.baseState=d,Nx(i,It,typeof p=="function"?p:ji)}function gR(i,o,d,p,g){if(_f(i))throw Error(r(485));if(i=o.action,i!==null){var N={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){N.listeners.push(D)}};$.T!==null?d(!0):N.isTransition=!1,p(N),d=o.pending,d===null?(N.next=o.pending=N,_N(o,N)):(N.next=d.next,o.pending=d.next=N)}}function _N(i,o){var d=o.action,p=o.payload,g=i.state;if(o.isTransition){var N=$.T,D={};$.T=D;try{var I=d(g,p),q=$.S;q!==null&&q(D,I),ON(i,o,I)}catch(ee){Ax(i,o,ee)}finally{N!==null&&D.types!==null&&(N.types=D.types),$.T=N}}else try{N=d(g,p),ON(i,o,N)}catch(ee){Ax(i,o,ee)}}function ON(i,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){TN(i,o,p)},function(p){return Ax(i,o,p)}):TN(i,o,d)}function TN(i,o,d){o.status="fulfilled",o.value=d,PN(o),i.state=d,o=i.pending,o!==null&&(d=o.next,d===o?i.pending=null:(d=d.next,o.next=d,_N(i,d)))}function Ax(i,o,d){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=d,PN(o),o=o.next;while(o!==p)}i.action=null}function PN(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function IN(i,o){return o}function RN(i,o){if(vt){var d=Bt.formState;if(d!==null){e:{var p=nt;if(vt){if(Ut){t:{for(var g=Ut,N=Qn;g.nodeType!==8;){if(!N){g=null;break t}if(g=Zn(g.nextSibling),g===null){g=null;break t}}N=g.data,g=N==="F!"||N==="F"?g:null}if(g){Ut=Zn(g.nextSibling),p=g.data==="F!";break e}}ms(p)}p=!1}p&&(o=d[0])}}return d=Jr(),d.memoizedState=d.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:IN,lastRenderedState:o},d.queue=p,d=tS.bind(null,nt,p),p.dispatch=d,p=Cx(!1),N=Ox.bind(null,nt,!1,p.queue),p=Jr(),g={state:o,dispatch:null,action:i,pending:null},p.queue=g,d=gR.bind(null,nt,g,N,d),g.dispatch=d,p.memoizedState=i,[o,d,!1]}function LN(i){var o=fr();return zN(o,It,i)}function zN(i,o,d){if(o=Nx(i,o,IN)[0],i=Df(ji)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=lu(o)}catch(D){throw D===wo?gf:D}else p=o;o=fr();var g=o.queue,N=g.dispatch;return d!==o.memoizedState&&(nt.flags|=2048,Ao(9,{destroy:void 0},bR.bind(null,g,d),null)),[p,N,i]}function bR(i,o){i.action=o}function FN(i){var o=fr(),d=It;if(d!==null)return zN(o,d,i);fr(),o=o.memoizedState,d=fr();var p=d.queue.dispatch;return d.memoizedState=i,[o,p,!1]}function Ao(i,o,d,p){return i={tag:i,create:d,deps:p,inst:o,next:null},o=nt.updateQueue,o===null&&(o=Af(),nt.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,o.lastEffect=i),i}function BN(){return fr().memoizedState}function kf(i,o,d,p){var g=Jr();nt.flags|=i,g.memoizedState=Ao(1|o,{destroy:void 0},d,p===void 0?null:p)}function Ef(i,o,d,p){var g=fr();p=p===void 0?null:p;var N=g.memoizedState.inst;It!==null&&p!==null&&xx(p,It.memoizedState.deps)?g.memoizedState=Ao(o,N,d,p):(nt.flags|=i,g.memoizedState=Ao(1|o,N,d,p))}function $N(i,o){kf(8390656,8,i,o)}function Mx(i,o){Ef(2048,8,i,o)}function yR(i){nt.flags|=4;var o=nt.updateQueue;if(o===null)o=Af(),nt.updateQueue=o,o.events=[i];else{var d=o.events;d===null?o.events=[i]:d.push(i)}}function qN(i){var o=fr().memoizedState;return yR({ref:o,nextImpl:i}),function(){if((Nt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function HN(i,o){return Ef(4,2,i,o)}function UN(i,o){return Ef(4,4,i,o)}function YN(i,o){if(typeof o=="function"){i=i();var d=o(i);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function VN(i,o,d){d=d!=null?d.concat([i]):null,Ef(4,4,YN.bind(null,o,i),d)}function Dx(){}function GN(i,o){var d=fr();o=o===void 0?null:o;var p=d.memoizedState;return o!==null&&xx(o,p[1])?p[0]:(d.memoizedState=[i,o],i)}function KN(i,o){var d=fr();o=o===void 0?null:o;var p=d.memoizedState;if(o!==null&&xx(o,p[1]))return p[0];if(p=i(),gl){Fe(!0);try{i()}finally{Fe(!1)}}return d.memoizedState=[p,o],p}function kx(i,o,d){return d===void 0||(wi&1073741824)!==0&&(ft&261930)===0?i.memoizedState=o:(i.memoizedState=d,i=WS(),nt.lanes|=i,js|=i,d)}function WN(i,o,d,p){return An(d,o)?d:No.current!==null?(i=kx(i,d,p),An(i,o)||(br=!0),i):(wi&42)===0||(wi&1073741824)!==0&&(ft&261930)===0?(br=!0,i.memoizedState=d):(i=WS(),nt.lanes|=i,js|=i,o)}function QN(i,o,d,p,g){var N=G.p;G.p=N!==0&&8>N?N:8;var D=$.T,I={};$.T=I,Ox(i,!1,o,d);try{var q=g(),ee=$.S;if(ee!==null&&ee(I,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var de=hR(q,p);ou(i,o,de,On(i))}else ou(i,o,p,On(i))}catch(pe){ou(i,o,{then:function(){},status:"rejected",reason:pe},On())}finally{G.p=N,D!==null&&I.types!==null&&(D.types=I.types),$.T=D}}function wR(){}function Ex(i,o,d,p){if(i.tag!==5)throw Error(r(476));var g=XN(i).queue;QN(i,g,o,z,d===null?wR:function(){return ZN(i),d(p)})}function XN(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:z},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:d},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function ZN(i){var o=XN(i);o.next===null&&(o=i.alternate.memoizedState),ou(i,o.next.queue,{},On())}function _x(){return Br(Cu)}function JN(){return fr().memoizedState}function eS(){return fr().memoizedState}function jR(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var d=On();i=vs(d);var p=xs(o,i,d);p!==null&&(pn(p,o,d),nu(p,o,d)),o={cache:sx()},i.payload=o;return}o=o.return}}function NR(i,o,d){var p=On();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},_f(i)?rS(o,d):(d=Wv(i,o,d,p),d!==null&&(pn(d,i,p),nS(d,o,p)))}function tS(i,o,d){var p=On();ou(i,o,d,p)}function ou(i,o,d,p){var g={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(_f(i))rS(o,g);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var D=o.lastRenderedState,I=N(D,d);if(g.hasEagerState=!0,g.eagerState=I,An(I,D))return df(i,o,g,0),Bt===null&&uf(),!1}catch{}if(d=Wv(i,o,g,p),d!==null)return pn(d,i,p),nS(d,o,p),!0}return!1}function Ox(i,o,d,p){if(p={lane:2,revertLane:ug(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},_f(i)){if(o)throw Error(r(479))}else o=Wv(i,d,p,2),o!==null&&pn(o,i,2)}function _f(i){var o=i.alternate;return i===nt||o!==null&&o===nt}function rS(i,o){So=Sf=!0;var d=i.pending;d===null?o.next=o:(o.next=d.next,d.next=o),i.pending=o}function nS(i,o,d){if((d&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,mi(i,d)}}var cu={readContext:Br,use:Mf,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useLayoutEffect:ar,useInsertionEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useSyncExternalStore:ar,useId:ar,useHostTransitionStatus:ar,useFormState:ar,useActionState:ar,useOptimistic:ar,useMemoCache:ar,useCacheRefresh:ar};cu.useEffectEvent=ar;var aS={readContext:Br,use:Mf,useCallback:function(i,o){return Jr().memoizedState=[i,o===void 0?null:o],i},useContext:Br,useEffect:$N,useImperativeHandle:function(i,o,d){d=d!=null?d.concat([i]):null,kf(4194308,4,YN.bind(null,o,i),d)},useLayoutEffect:function(i,o){return kf(4194308,4,i,o)},useInsertionEffect:function(i,o){kf(4,2,i,o)},useMemo:function(i,o){var d=Jr();o=o===void 0?null:o;var p=i();if(gl){Fe(!0);try{i()}finally{Fe(!1)}}return d.memoizedState=[p,o],p},useReducer:function(i,o,d){var p=Jr();if(d!==void 0){var g=d(o);if(gl){Fe(!0);try{d(o)}finally{Fe(!1)}}}else g=o;return p.memoizedState=p.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},p.queue=i,i=i.dispatch=NR.bind(null,nt,i),[p.memoizedState,i]},useRef:function(i){var o=Jr();return i={current:i},o.memoizedState=i},useState:function(i){i=Cx(i);var o=i.queue,d=tS.bind(null,nt,o);return o.dispatch=d,[i.memoizedState,d]},useDebugValue:Dx,useDeferredValue:function(i,o){var d=Jr();return kx(d,i,o)},useTransition:function(){var i=Cx(!1);return i=QN.bind(null,nt,i.queue,!0,!1),Jr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,d){var p=nt,g=Jr();if(vt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=o(),Bt===null)throw Error(r(349));(ft&127)!==0||CN(p,o,d)}g.memoizedState=d;var N={value:d,getSnapshot:o};return g.queue=N,$N(MN.bind(null,p,N,i),[i]),p.flags|=2048,Ao(9,{destroy:void 0},AN.bind(null,p,N,d,o),null),d},useId:function(){var i=Jr(),o=Bt.identifierPrefix;if(vt){var d=za,p=La;d=(p&~(1<<32-se(p)-1)).toString(32)+d,o="_"+o+"R_"+d,d=Cf++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=vR++,o="_"+o+"r_"+d.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:_x,useFormState:RN,useActionState:RN,useOptimistic:function(i){var o=Jr();o.memoizedState=o.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=Ox.bind(null,nt,!0,d),d.dispatch=o,[i,o]},useMemoCache:jx,useCacheRefresh:function(){return Jr().memoizedState=jR.bind(null,nt)},useEffectEvent:function(i){var o=Jr(),d={impl:i};return o.memoizedState=d,function(){if((Nt&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},Tx={readContext:Br,use:Mf,useCallback:GN,useContext:Br,useEffect:Mx,useImperativeHandle:VN,useInsertionEffect:HN,useLayoutEffect:UN,useMemo:KN,useReducer:Df,useRef:BN,useState:function(){return Df(ji)},useDebugValue:Dx,useDeferredValue:function(i,o){var d=fr();return WN(d,It.memoizedState,i,o)},useTransition:function(){var i=Df(ji)[0],o=fr().memoizedState;return[typeof i=="boolean"?i:lu(i),o]},useSyncExternalStore:SN,useId:JN,useHostTransitionStatus:_x,useFormState:LN,useActionState:LN,useOptimistic:function(i,o){var d=fr();return EN(d,It,i,o)},useMemoCache:jx,useCacheRefresh:eS};Tx.useEffectEvent=qN;var iS={readContext:Br,use:Mf,useCallback:GN,useContext:Br,useEffect:Mx,useImperativeHandle:VN,useInsertionEffect:HN,useLayoutEffect:UN,useMemo:KN,useReducer:Sx,useRef:BN,useState:function(){return Sx(ji)},useDebugValue:Dx,useDeferredValue:function(i,o){var d=fr();return It===null?kx(d,i,o):WN(d,It.memoizedState,i,o)},useTransition:function(){var i=Sx(ji)[0],o=fr().memoizedState;return[typeof i=="boolean"?i:lu(i),o]},useSyncExternalStore:SN,useId:JN,useHostTransitionStatus:_x,useFormState:FN,useActionState:FN,useOptimistic:function(i,o){var d=fr();return It!==null?EN(d,It,i,o):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:jx,useCacheRefresh:eS};iS.useEffectEvent=qN;function Px(i,o,d,p){o=i.memoizedState,d=d(p,o),d=d==null?o:v({},o,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Ix={enqueueSetState:function(i,o,d){i=i._reactInternals;var p=On(),g=vs(p);g.payload=o,d!=null&&(g.callback=d),o=xs(i,g,p),o!==null&&(pn(o,i,p),nu(o,i,p))},enqueueReplaceState:function(i,o,d){i=i._reactInternals;var p=On(),g=vs(p);g.tag=1,g.payload=o,d!=null&&(g.callback=d),o=xs(i,g,p),o!==null&&(pn(o,i,p),nu(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var d=On(),p=vs(d);p.tag=2,o!=null&&(p.callback=o),o=xs(i,p,d),o!==null&&(pn(o,i,d),nu(o,i,d))}};function sS(i,o,d,p,g,N,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,N,D):o.prototype&&o.prototype.isPureReactComponent?!Wc(d,p)||!Wc(g,N):!0}function lS(i,o,d,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,p),o.state!==i&&Ix.enqueueReplaceState(o,o.state,null)}function bl(i,o){var d=o;if("ref"in o){d={};for(var p in o)p!=="ref"&&(d[p]=o[p])}if(i=i.defaultProps){d===o&&(d=v({},d));for(var g in i)d[g]===void 0&&(d[g]=i[g])}return d}function oS(i){cf(i)}function cS(i){console.error(i)}function uS(i){cf(i)}function Of(i,o){try{var d=i.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function dS(i,o,d){try{var p=i.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Rx(i,o,d){return d=vs(d),d.tag=3,d.payload={element:null},d.callback=function(){Of(i,o)},d}function fS(i){return i=vs(i),i.tag=3,i}function mS(i,o,d,p){var g=d.type.getDerivedStateFromError;if(typeof g=="function"){var N=p.value;i.payload=function(){return g(N)},i.callback=function(){dS(o,d,p)}}var D=d.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(i.callback=function(){dS(o,d,p),typeof g!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function SR(i,o,d,p,g){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=d.alternate,o!==null&&go(o,d,g,!0),d=Dn.current,d!==null){switch(d.tag){case 31:case 13:return Xn===null?Uf():d.alternate===null&&ir===0&&(ir=3),d.flags&=-257,d.flags|=65536,d.lanes=g,p===bf?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([p]):o.add(p),lg(i,p,g)),!1;case 22:return d.flags|=65536,p===bf?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([p]):d.add(p)),lg(i,p,g)),!1}throw Error(r(435,d.tag))}return lg(i,p,g),Uf(),!1}if(vt)return o=Dn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,p!==tx&&(i=Error(r(422),{cause:p}),Zc(Gn(i,d)))):(p!==tx&&(o=Error(r(423),{cause:p}),Zc(Gn(o,d))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,p=Gn(p,d),g=Rx(i.stateNode,p,g),fx(i,g),ir!==4&&(ir=2)),!1;var N=Error(r(520),{cause:p});if(N=Gn(N,d),xu===null?xu=[N]:xu.push(N),ir!==4&&(ir=2),o===null)return!0;p=Gn(p,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,i=g&-g,d.lanes|=i,i=Rx(d.stateNode,p,i),fx(d,i),!1;case 1:if(o=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Ns===null||!Ns.has(N))))return d.flags|=65536,g&=-g,d.lanes|=g,g=fS(g),mS(g,i,d,p),fx(d,g),!1}d=d.return}while(d!==null);return!1}var Lx=Error(r(461)),br=!1;function $r(i,o,d,p){o.child=i===null?xN(o,null,d,p):xl(o,i.child,d,p)}function pS(i,o,d,p,g){d=d.render;var N=o.ref;if("ref"in p){var D={};for(var I in p)I!=="ref"&&(D[I]=p[I])}else D=p;return ml(o),p=gx(i,o,d,D,N,g),I=bx(),i!==null&&!br?(yx(i,o,g),Ni(i,o,g)):(vt&&I&&Jv(o),o.flags|=1,$r(i,o,p,g),o.child)}function hS(i,o,d,p,g){if(i===null){var N=d.type;return typeof N=="function"&&!Qv(N)&&N.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=N,vS(i,o,N,p,g)):(i=mf(d.type,null,p,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(N=i.child,!Yx(i,g)){var D=N.memoizedProps;if(d=d.compare,d=d!==null?d:Wc,d(D,p)&&i.ref===o.ref)return Ni(i,o,g)}return o.flags|=1,i=xi(N,p),i.ref=o.ref,i.return=o,o.child=i}function vS(i,o,d,p,g){if(i!==null){var N=i.memoizedProps;if(Wc(N,p)&&i.ref===o.ref)if(br=!1,o.pendingProps=p=N,Yx(i,g))(i.flags&131072)!==0&&(br=!0);else return o.lanes=i.lanes,Ni(i,o,g)}return zx(i,o,d,p,g)}function xS(i,o,d,p){var g=p.children,N=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(N=N!==null?N.baseLanes|d:d,i!==null){for(p=o.child=i.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;p=g&~N}else p=0,o.child=null;return gS(i,o,N,d,p)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&xf(o,N!==null?N.cachePool:null),N!==null?yN(o,N):px(),wN(o);else return p=o.lanes=536870912,gS(i,o,N!==null?N.baseLanes|d:d,d,p)}else N!==null?(xf(o,N.cachePool),yN(o,N),bs(),o.memoizedState=null):(i!==null&&xf(o,null),px(),bs());return $r(i,o,g,d),o.child}function uu(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function gS(i,o,d,p,g){var N=ox();return N=N===null?null:{parent:xr._currentValue,pool:N},o.memoizedState={baseLanes:d,cachePool:N},i!==null&&xf(o,null),px(),wN(o),i!==null&&go(i,o,p,!0),o.childLanes=g,null}function Tf(i,o){return o=If({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function bS(i,o,d){return xl(o,i.child,null,d),i=Tf(o,o.pendingProps),i.flags|=2,kn(o),o.memoizedState=null,i}function CR(i,o,d){var p=o.pendingProps,g=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(vt){if(p.mode==="hidden")return i=Tf(o,p),o.lanes=536870912,uu(null,i);if(vx(o),(i=Ut)?(i=_2(i,Qn),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ds!==null?{id:La,overflow:za}:null,retryLane:536870912,hydrationErrors:null},d=rN(i),d.return=o,o.child=d,Fr=o,Ut=null)):i=null,i===null)throw ms(o);return o.lanes=536870912,null}return Tf(o,p)}var N=i.memoizedState;if(N!==null){var D=N.dehydrated;if(vx(o),g)if(o.flags&256)o.flags&=-257,o=bS(i,o,d);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(br||go(i,o,d,!1),g=(d&i.childLanes)!==0,br||g){if(p=Bt,p!==null&&(D=Oa(p,d),D!==0&&D!==N.retryLane))throw N.retryLane=D,cl(i,D),pn(p,i,D),Lx;Uf(),o=bS(i,o,d)}else i=N.treeContext,Ut=Zn(D.nextSibling),Fr=o,vt=!0,fs=null,Qn=!1,i!==null&&iN(o,i),o=Tf(o,p),o.flags|=4096;return o}return i=xi(i.child,{mode:p.mode,children:p.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Pf(i,o){var d=o.ref;if(d===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(i===null||i.ref!==d)&&(o.flags|=4194816)}}function zx(i,o,d,p,g){return ml(o),d=gx(i,o,d,p,void 0,g),p=bx(),i!==null&&!br?(yx(i,o,g),Ni(i,o,g)):(vt&&p&&Jv(o),o.flags|=1,$r(i,o,d,g),o.child)}function yS(i,o,d,p,g,N){return ml(o),o.updateQueue=null,d=NN(o,p,d,g),jN(i),p=bx(),i!==null&&!br?(yx(i,o,N),Ni(i,o,N)):(vt&&p&&Jv(o),o.flags|=1,$r(i,o,d,N),o.child)}function wS(i,o,d,p,g){if(ml(o),o.stateNode===null){var N=po,D=d.contextType;typeof D=="object"&&D!==null&&(N=Br(D)),N=new d(p,N),o.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Ix,o.stateNode=N,N._reactInternals=o,N=o.stateNode,N.props=p,N.state=o.memoizedState,N.refs={},ux(o),D=d.contextType,N.context=typeof D=="object"&&D!==null?Br(D):po,N.state=o.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(Px(o,d,D,p),N.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(D=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),D!==N.state&&Ix.enqueueReplaceState(N,N.state,null),iu(o,p,N,g),au(),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){N=o.stateNode;var I=o.memoizedProps,q=bl(d,I);N.props=q;var ee=N.context,de=d.contextType;D=po,typeof de=="object"&&de!==null&&(D=Br(de));var pe=d.getDerivedStateFromProps;de=typeof pe=="function"||typeof N.getSnapshotBeforeUpdate=="function",I=o.pendingProps!==I,de||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(I||ee!==D)&&lS(o,N,p,D),hs=!1;var ae=o.memoizedState;N.state=ae,iu(o,p,N,g),au(),ee=o.memoizedState,I||ae!==ee||hs?(typeof pe=="function"&&(Px(o,d,pe,p),ee=o.memoizedState),(q=hs||sS(o,d,q,p,ae,ee,D))?(de||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=ee),N.props=p,N.state=ee,N.context=D,p=q):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{N=o.stateNode,dx(i,o),D=o.memoizedProps,de=bl(d,D),N.props=de,pe=o.pendingProps,ae=N.context,ee=d.contextType,q=po,typeof ee=="object"&&ee!==null&&(q=Br(ee)),I=d.getDerivedStateFromProps,(ee=typeof I=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(D!==pe||ae!==q)&&lS(o,N,p,q),hs=!1,ae=o.memoizedState,N.state=ae,iu(o,p,N,g),au();var le=o.memoizedState;D!==pe||ae!==le||hs||i!==null&&i.dependencies!==null&&hf(i.dependencies)?(typeof I=="function"&&(Px(o,d,I,p),le=o.memoizedState),(de=hs||sS(o,d,de,p,ae,le,q)||i!==null&&i.dependencies!==null&&hf(i.dependencies))?(ee||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,le,q),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,le,q)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||D===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=le),N.props=p,N.state=le,N.context=q,p=de):(typeof N.componentDidUpdate!="function"||D===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),p=!1)}return N=p,Pf(i,o),p=(o.flags&128)!==0,N||p?(N=o.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:N.render(),o.flags|=1,i!==null&&p?(o.child=xl(o,i.child,null,g),o.child=xl(o,null,d,g)):$r(i,o,d,g),o.memoizedState=N.state,i=o.child):i=Ni(i,o,g),i}function jS(i,o,d,p){return dl(),o.flags|=256,$r(i,o,d,p),o.child}var Fx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bx(i){return{baseLanes:i,cachePool:dN()}}function $x(i,o,d){return i=i!==null?i.childLanes&~d:0,o&&(i|=_n),i}function NS(i,o,d){var p=o.pendingProps,g=!1,N=(o.flags&128)!==0,D;if((D=N)||(D=i!==null&&i.memoizedState===null?!1:(dr.current&2)!==0),D&&(g=!0,o.flags&=-129),D=(o.flags&32)!==0,o.flags&=-33,i===null){if(vt){if(g?gs(o):bs(),(i=Ut)?(i=_2(i,Qn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ds!==null?{id:La,overflow:za}:null,retryLane:536870912,hydrationErrors:null},d=rN(i),d.return=o,o.child=d,Fr=o,Ut=null)):i=null,i===null)throw ms(o);return Ng(i)?o.lanes=32:o.lanes=536870912,null}var I=p.children;return p=p.fallback,g?(bs(),g=o.mode,I=If({mode:"hidden",children:I},g),p=ul(p,g,d,null),I.return=o,p.return=o,I.sibling=p,o.child=I,p=o.child,p.memoizedState=Bx(d),p.childLanes=$x(i,D,d),o.memoizedState=Fx,uu(null,p)):(gs(o),qx(o,I))}var q=i.memoizedState;if(q!==null&&(I=q.dehydrated,I!==null)){if(N)o.flags&256?(gs(o),o.flags&=-257,o=Hx(i,o,d)):o.memoizedState!==null?(bs(),o.child=i.child,o.flags|=128,o=null):(bs(),I=p.fallback,g=o.mode,p=If({mode:"visible",children:p.children},g),I=ul(I,g,d,null),I.flags|=2,p.return=o,I.return=o,p.sibling=I,o.child=p,xl(o,i.child,null,d),p=o.child,p.memoizedState=Bx(d),p.childLanes=$x(i,D,d),o.memoizedState=Fx,o=uu(null,p));else if(gs(o),Ng(I)){if(D=I.nextSibling&&I.nextSibling.dataset,D)var ee=D.dgst;D=ee,p=Error(r(419)),p.stack="",p.digest=D,Zc({value:p,source:null,stack:null}),o=Hx(i,o,d)}else if(br||go(i,o,d,!1),D=(d&i.childLanes)!==0,br||D){if(D=Bt,D!==null&&(p=Oa(D,d),p!==0&&p!==q.retryLane))throw q.retryLane=p,cl(i,p),pn(D,i,p),Lx;jg(I)||Uf(),o=Hx(i,o,d)}else jg(I)?(o.flags|=192,o.child=i.child,o=null):(i=q.treeContext,Ut=Zn(I.nextSibling),Fr=o,vt=!0,fs=null,Qn=!1,i!==null&&iN(o,i),o=qx(o,p.children),o.flags|=4096);return o}return g?(bs(),I=p.fallback,g=o.mode,q=i.child,ee=q.sibling,p=xi(q,{mode:"hidden",children:p.children}),p.subtreeFlags=q.subtreeFlags&65011712,ee!==null?I=xi(ee,I):(I=ul(I,g,d,null),I.flags|=2),I.return=o,p.return=o,p.sibling=I,o.child=p,uu(null,p),p=o.child,I=i.child.memoizedState,I===null?I=Bx(d):(g=I.cachePool,g!==null?(q=xr._currentValue,g=g.parent!==q?{parent:q,pool:q}:g):g=dN(),I={baseLanes:I.baseLanes|d,cachePool:g}),p.memoizedState=I,p.childLanes=$x(i,D,d),o.memoizedState=Fx,uu(i.child,p)):(gs(o),d=i.child,i=d.sibling,d=xi(d,{mode:"visible",children:p.children}),d.return=o,d.sibling=null,i!==null&&(D=o.deletions,D===null?(o.deletions=[i],o.flags|=16):D.push(i)),o.child=d,o.memoizedState=null,d)}function qx(i,o){return o=If({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function If(i,o){return i=Mn(22,i,null,o),i.lanes=0,i}function Hx(i,o,d){return xl(o,i.child,null,d),i=qx(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function SS(i,o,d){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),ax(i.return,o,d)}function Ux(i,o,d,p,g,N){var D=i.memoizedState;D===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:g,treeForkCount:N}:(D.isBackwards=o,D.rendering=null,D.renderingStartTime=0,D.last=p,D.tail=d,D.tailMode=g,D.treeForkCount=N)}function CS(i,o,d){var p=o.pendingProps,g=p.revealOrder,N=p.tail;p=p.children;var D=dr.current,I=(D&2)!==0;if(I?(D=D&1|2,o.flags|=128):D&=1,ve(dr,D),$r(i,o,p,d),p=vt?Xc:0,!I&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&SS(i,d,o);else if(i.tag===19)SS(i,d,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(d=o.child,g=null;d!==null;)i=d.alternate,i!==null&&Nf(i)===null&&(g=d),d=d.sibling;d=g,d===null?(g=o.child,o.child=null):(g=d.sibling,d.sibling=null),Ux(o,!1,g,d,N,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&Nf(i)===null){o.child=g;break}i=g.sibling,g.sibling=d,d=g,g=i}Ux(o,!0,d,null,N,p);break;case"together":Ux(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function Ni(i,o,d){if(i!==null&&(o.dependencies=i.dependencies),js|=o.lanes,(d&o.childLanes)===0)if(i!==null){if(go(i,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,d=xi(i,i.pendingProps),o.child=d,d.return=o;i.sibling!==null;)i=i.sibling,d=d.sibling=xi(i,i.pendingProps),d.return=o;d.sibling=null}return o.child}function Yx(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&hf(i)))}function AR(i,o,d){switch(o.tag){case 3:_e(o,o.stateNode.containerInfo),ps(o,xr,i.memoizedState.cache),dl();break;case 27:case 5:Se(o);break;case 4:_e(o,o.stateNode.containerInfo);break;case 10:ps(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,vx(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(gs(o),o.flags|=128,null):(d&o.child.childLanes)!==0?NS(i,o,d):(gs(o),i=Ni(i,o,d),i!==null?i.sibling:null);gs(o);break;case 19:var g=(i.flags&128)!==0;if(p=(d&o.childLanes)!==0,p||(go(i,o,d,!1),p=(d&o.childLanes)!==0),g){if(p)return CS(i,o,d);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ve(dr,dr.current),p)break;return null;case 22:return o.lanes=0,xS(i,o,d,o.pendingProps);case 24:ps(o,xr,i.memoizedState.cache)}return Ni(i,o,d)}function AS(i,o,d){if(i!==null)if(i.memoizedProps!==o.pendingProps)br=!0;else{if(!Yx(i,d)&&(o.flags&128)===0)return br=!1,AR(i,o,d);br=(i.flags&131072)!==0}else br=!1,vt&&(o.flags&1048576)!==0&&aN(o,Xc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(i=hl(o.elementType),o.type=i,typeof i=="function")Qv(i)?(p=bl(i,p),o.tag=1,o=wS(null,o,i,p,d)):(o.tag=0,o=zx(null,o,i,p,d));else{if(i!=null){var g=i.$$typeof;if(g===_){o.tag=11,o=pS(null,o,i,p,d);break e}else if(g===P){o.tag=14,o=hS(null,o,i,p,d);break e}}throw o=W(i)||i,Error(r(306,o,""))}}return o;case 0:return zx(i,o,o.type,o.pendingProps,d);case 1:return p=o.type,g=bl(p,o.pendingProps),wS(i,o,p,g,d);case 3:e:{if(_e(o,o.stateNode.containerInfo),i===null)throw Error(r(387));p=o.pendingProps;var N=o.memoizedState;g=N.element,dx(i,o),iu(o,p,null,d);var D=o.memoizedState;if(p=D.cache,ps(o,xr,p),p!==N.cache&&ix(o,[xr],d,!0),au(),p=D.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:D.cache},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){o=jS(i,o,p,d);break e}else if(p!==g){g=Gn(Error(r(424)),o),Zc(g),o=jS(i,o,p,d);break e}else for(i=o.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Ut=Zn(i.firstChild),Fr=o,vt=!0,fs=null,Qn=!0,d=xN(o,null,p,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(dl(),p===g){o=Ni(i,o,d);break e}$r(i,o,p,d)}o=o.child}return o;case 26:return Pf(i,o),i===null?(d=L2(o.type,null,o.pendingProps,null))?o.memoizedState=d:vt||(d=o.type,i=o.pendingProps,p=Xf(Re.current).createElement(d),p[Sr]=o,p[Gr]=i,qr(p,d,i),xt(p),o.stateNode=p):o.memoizedState=L2(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Se(o),i===null&&vt&&(p=o.stateNode=P2(o.type,o.pendingProps,Re.current),Fr=o,Qn=!0,g=Ut,Ms(o.type)?(Sg=g,Ut=Zn(p.firstChild)):Ut=g),$r(i,o,o.pendingProps.children,d),Pf(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&vt&&((g=p=Ut)&&(p=rL(p,o.type,o.pendingProps,Qn),p!==null?(o.stateNode=p,Fr=o,Ut=Zn(p.firstChild),Qn=!1,g=!0):g=!1),g||ms(o)),Se(o),g=o.type,N=o.pendingProps,D=i!==null?i.memoizedProps:null,p=N.children,bg(g,N)?p=null:D!==null&&bg(g,D)&&(o.flags|=32),o.memoizedState!==null&&(g=gx(i,o,xR,null,null,d),Cu._currentValue=g),Pf(i,o),$r(i,o,p,d),o.child;case 6:return i===null&&vt&&((i=d=Ut)&&(d=nL(d,o.pendingProps,Qn),d!==null?(o.stateNode=d,Fr=o,Ut=null,i=!0):i=!1),i||ms(o)),null;case 13:return NS(i,o,d);case 4:return _e(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=xl(o,null,p,d):$r(i,o,p,d),o.child;case 11:return pS(i,o,o.type,o.pendingProps,d);case 7:return $r(i,o,o.pendingProps,d),o.child;case 8:return $r(i,o,o.pendingProps.children,d),o.child;case 12:return $r(i,o,o.pendingProps.children,d),o.child;case 10:return p=o.pendingProps,ps(o,o.type,p.value),$r(i,o,p.children,d),o.child;case 9:return g=o.type._context,p=o.pendingProps.children,ml(o),g=Br(g),p=p(g),o.flags|=1,$r(i,o,p,d),o.child;case 14:return hS(i,o,o.type,o.pendingProps,d);case 15:return vS(i,o,o.type,o.pendingProps,d);case 19:return CS(i,o,d);case 31:return CR(i,o,d);case 22:return xS(i,o,d,o.pendingProps);case 24:return ml(o),p=Br(xr),i===null?(g=ox(),g===null&&(g=Bt,N=sx(),g.pooledCache=N,N.refCount++,N!==null&&(g.pooledCacheLanes|=d),g=N),o.memoizedState={parent:p,cache:g},ux(o),ps(o,xr,g)):((i.lanes&d)!==0&&(dx(i,o),iu(o,null,null,d),au()),g=i.memoizedState,N=o.memoizedState,g.parent!==p?(g={parent:p,cache:p},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),ps(o,xr,p)):(p=N.cache,ps(o,xr,p),p!==g.cache&&ix(o,[xr],d,!0))),$r(i,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Si(i){i.flags|=4}function Vx(i,o,d,p,g){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(JS())i.flags|=8192;else throw vl=bf,cx}else i.flags&=-16777217}function MS(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!q2(o))if(JS())i.flags|=8192;else throw vl=bf,cx}function Rf(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Pt():536870912,i.lanes|=o,Eo|=o)}function du(i,o){if(!vt)switch(i.tailMode){case"hidden":o=i.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Yt(i){var o=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(o)for(var g=i.child;g!==null;)d|=g.lanes|g.childLanes,p|=g.subtreeFlags&65011712,p|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)d|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=p,i.childLanes=d,o}function MR(i,o,d){var p=o.pendingProps;switch(ex(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(o),null;case 1:return Yt(o),null;case 3:return d=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),yi(xr),X(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(xo(o)?Si(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,rx())),Yt(o),null;case 26:var g=o.type,N=o.memoizedState;return i===null?(Si(o),N!==null?(Yt(o),MS(o,N)):(Yt(o),Vx(o,g,null,p,d))):N?N!==i.memoizedState?(Si(o),Yt(o),MS(o,N)):(Yt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==p&&Si(o),Yt(o),Vx(o,g,i,p,d)),null;case 27:if(Be(o),d=Re.current,g=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&Si(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return Yt(o),null}i=be.current,xo(o)?sN(o):(i=P2(g,p,d),o.stateNode=i,Si(o))}return Yt(o),null;case 5:if(Be(o),g=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&Si(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return Yt(o),null}if(N=be.current,xo(o))sN(o);else{var D=Xf(Re.current);switch(N){case 1:N=D.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:N=D.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":N=D.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":N=D.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":N=D.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof p.is=="string"?D.createElement("select",{is:p.is}):D.createElement("select"),p.multiple?N.multiple=!0:p.size&&(N.size=p.size);break;default:N=typeof p.is=="string"?D.createElement(g,{is:p.is}):D.createElement(g)}}N[Sr]=o,N[Gr]=p;e:for(D=o.child;D!==null;){if(D.tag===5||D.tag===6)N.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===o)break e;for(;D.sibling===null;){if(D.return===null||D.return===o)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}o.stateNode=N;e:switch(qr(N,g,p),g){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Si(o)}}return Yt(o),Vx(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,d),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&Si(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(i=Re.current,xo(o)){if(i=o.stateNode,d=o.memoizedProps,p=null,g=Fr,g!==null)switch(g.tag){case 27:case 5:p=g.memoizedProps}i[Sr]=o,i=!!(i.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||N2(i.nodeValue,d)),i||ms(o,!0)}else i=Xf(i).createTextNode(p),i[Sr]=o,o.stateNode=i}return Yt(o),null;case 31:if(d=o.memoizedState,i===null||i.memoizedState!==null){if(p=xo(o),d!==null){if(i===null){if(!p)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Sr]=o}else dl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Yt(o),i=!1}else d=rx(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),i=!0;if(!i)return o.flags&256?(kn(o),o):(kn(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Yt(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=xo(o),p!==null&&p.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Sr]=o}else dl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Yt(o),g=!1}else g=rx(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(kn(o),o):(kn(o),null)}return kn(o),(o.flags&128)!==0?(o.lanes=d,o):(d=p!==null,i=i!==null&&i.memoizedState!==null,d&&(p=o.child,g=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(g=p.alternate.memoizedState.cachePool.pool),N=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==g&&(p.flags|=2048)),d!==i&&d&&(o.child.flags|=8192),Rf(o,o.updateQueue),Yt(o),null);case 4:return X(),i===null&&pg(o.stateNode.containerInfo),Yt(o),null;case 10:return yi(o.type),Yt(o),null;case 19:if(ne(dr),p=o.memoizedState,p===null)return Yt(o),null;if(g=(o.flags&128)!==0,N=p.rendering,N===null)if(g)du(p,!1);else{if(ir!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(N=Nf(i),N!==null){for(o.flags|=128,du(p,!1),i=N.updateQueue,o.updateQueue=i,Rf(o,i),o.subtreeFlags=0,i=d,d=o.child;d!==null;)tN(d,i),d=d.sibling;return ve(dr,dr.current&1|2),vt&&gi(o,p.treeForkCount),o.child}i=i.sibling}p.tail!==null&&nr()>$f&&(o.flags|=128,g=!0,du(p,!1),o.lanes=4194304)}else{if(!g)if(i=Nf(N),i!==null){if(o.flags|=128,g=!0,i=i.updateQueue,o.updateQueue=i,Rf(o,i),du(p,!0),p.tail===null&&p.tailMode==="hidden"&&!N.alternate&&!vt)return Yt(o),null}else 2*nr()-p.renderingStartTime>$f&&d!==536870912&&(o.flags|=128,g=!0,du(p,!1),o.lanes=4194304);p.isBackwards?(N.sibling=o.child,o.child=N):(i=p.last,i!==null?i.sibling=N:o.child=N,p.last=N)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=nr(),i.sibling=null,d=dr.current,ve(dr,g?d&1|2:d&1),vt&&gi(o,p.treeForkCount),i):(Yt(o),null);case 22:case 23:return kn(o),hx(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(d&536870912)!==0&&(o.flags&128)===0&&(Yt(o),o.subtreeFlags&6&&(o.flags|=8192)):Yt(o),d=o.updateQueue,d!==null&&Rf(o,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==d&&(o.flags|=2048),i!==null&&ne(pl),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),yi(xr),Yt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function DR(i,o){switch(ex(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return yi(xr),X(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Be(o),null;case 31:if(o.memoizedState!==null){if(kn(o),o.alternate===null)throw Error(r(340));dl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(kn(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));dl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ne(dr),null;case 4:return X(),null;case 10:return yi(o.type),null;case 22:case 23:return kn(o),hx(),i!==null&&ne(pl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return yi(xr),null;case 25:return null;default:return null}}function DS(i,o){switch(ex(o),o.tag){case 3:yi(xr),X();break;case 26:case 27:case 5:Be(o);break;case 4:X();break;case 31:o.memoizedState!==null&&kn(o);break;case 13:kn(o);break;case 19:ne(dr);break;case 10:yi(o.type);break;case 22:case 23:kn(o),hx(),i!==null&&ne(pl);break;case 24:yi(xr)}}function fu(i,o){try{var d=o.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var g=p.next;d=g;do{if((d.tag&i)===i){p=void 0;var N=d.create,D=d.inst;p=N(),D.destroy=p}d=d.next}while(d!==g)}}catch(I){kt(o,o.return,I)}}function ys(i,o,d){try{var p=o.updateQueue,g=p!==null?p.lastEffect:null;if(g!==null){var N=g.next;p=N;do{if((p.tag&i)===i){var D=p.inst,I=D.destroy;if(I!==void 0){D.destroy=void 0,g=o;var q=d,ee=I;try{ee()}catch(de){kt(g,q,de)}}}p=p.next}while(p!==N)}}catch(de){kt(o,o.return,de)}}function kS(i){var o=i.updateQueue;if(o!==null){var d=i.stateNode;try{bN(o,d)}catch(p){kt(i,i.return,p)}}}function ES(i,o,d){d.props=bl(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(p){kt(i,o,p)}}function mu(i,o){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof d=="function"?i.refCleanup=d(p):d.current=p}}catch(g){kt(i,o,g)}}function Fa(i,o){var d=i.ref,p=i.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(g){kt(i,o,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(g){kt(i,o,g)}else d.current=null}function _S(i){var o=i.type,d=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(g){kt(i,i.return,g)}}function Gx(i,o,d){try{var p=i.stateNode;QR(p,i.type,d,o),p[Gr]=o}catch(g){kt(i,i.return,g)}}function OS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ms(i.type)||i.tag===4}function Kx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||OS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ms(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wx(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(i),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=hi));else if(p!==4&&(p===27&&Ms(i.type)&&(d=i.stateNode,o=null),i=i.child,i!==null))for(Wx(i,o,d),i=i.sibling;i!==null;)Wx(i,o,d),i=i.sibling}function Lf(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?d.insertBefore(i,o):d.appendChild(i);else if(p!==4&&(p===27&&Ms(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(Lf(i,o,d),i=i.sibling;i!==null;)Lf(i,o,d),i=i.sibling}function TS(i){var o=i.stateNode,d=i.memoizedProps;try{for(var p=i.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);qr(o,p,d),o[Sr]=i,o[Gr]=d}catch(N){kt(i,i.return,N)}}var Ci=!1,yr=!1,Qx=!1,PS=typeof WeakSet=="function"?WeakSet:Set,Or=null;function kR(i,o){if(i=i.containerInfo,xg=am,i=Vj(i),Hv(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var g=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var D=0,I=-1,q=-1,ee=0,de=0,pe=i,ae=null;t:for(;;){for(var le;pe!==d||g!==0&&pe.nodeType!==3||(I=D+g),pe!==N||p!==0&&pe.nodeType!==3||(q=D+p),pe.nodeType===3&&(D+=pe.nodeValue.length),(le=pe.firstChild)!==null;)ae=pe,pe=le;for(;;){if(pe===i)break t;if(ae===d&&++ee===g&&(I=D),ae===N&&++de===p&&(q=D),(le=pe.nextSibling)!==null)break;pe=ae,ae=pe.parentNode}pe=le}d=I===-1||q===-1?null:{start:I,end:q}}else d=null}d=d||{start:0,end:0}}else d=null;for(gg={focusedElem:i,selectionRange:d},am=!1,Or=o;Or!==null;)if(o=Or,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Or=i;else for(;Or!==null;){switch(o=Or,N=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(d=0;d<i.length;d++)g=i[d],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&N!==null){i=void 0,d=o,g=N.memoizedProps,N=N.memoizedState,p=d.stateNode;try{var Ie=bl(d.type,g);i=p.getSnapshotBeforeUpdate(Ie,N),p.__reactInternalSnapshotBeforeUpdate=i}catch(Ve){kt(d,d.return,Ve)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,d=i.nodeType,d===9)wg(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":wg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Or=i;break}Or=o.return}}function IS(i,o,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:Mi(i,d),p&4&&fu(5,d);break;case 1:if(Mi(i,d),p&4)if(i=d.stateNode,o===null)try{i.componentDidMount()}catch(D){kt(d,d.return,D)}else{var g=bl(d.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(g,o,i.__reactInternalSnapshotBeforeUpdate)}catch(D){kt(d,d.return,D)}}p&64&&kS(d),p&512&&mu(d,d.return);break;case 3:if(Mi(i,d),p&64&&(i=d.updateQueue,i!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{bN(i,o)}catch(D){kt(d,d.return,D)}}break;case 27:o===null&&p&4&&TS(d);case 26:case 5:Mi(i,d),o===null&&p&4&&_S(d),p&512&&mu(d,d.return);break;case 12:Mi(i,d);break;case 31:Mi(i,d),p&4&&zS(i,d);break;case 13:Mi(i,d),p&4&&FS(i,d),p&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=zR.bind(null,d),aL(i,d))));break;case 22:if(p=d.memoizedState!==null||Ci,!p){o=o!==null&&o.memoizedState!==null||yr,g=Ci;var N=yr;Ci=p,(yr=o)&&!N?Di(i,d,(d.subtreeFlags&8772)!==0):Mi(i,d),Ci=g,yr=N}break;case 30:break;default:Mi(i,d)}}function RS(i){var o=i.alternate;o!==null&&(i.alternate=null,RS(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Bc(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Wt=null,un=!1;function Ai(i,o,d){for(d=d.child;d!==null;)LS(i,o,d),d=d.sibling}function LS(i,o,d){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(je,d)}catch{}switch(d.tag){case 26:yr||Fa(d,o),Ai(i,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:yr||Fa(d,o);var p=Wt,g=un;Ms(d.type)&&(Wt=d.stateNode,un=!1),Ai(i,o,d),ju(d.stateNode),Wt=p,un=g;break;case 5:yr||Fa(d,o);case 6:if(p=Wt,g=un,Wt=null,Ai(i,o,d),Wt=p,un=g,Wt!==null)if(un)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(d.stateNode)}catch(N){kt(d,o,N)}else try{Wt.removeChild(d.stateNode)}catch(N){kt(d,o,N)}break;case 18:Wt!==null&&(un?(i=Wt,k2(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),zo(i)):k2(Wt,d.stateNode));break;case 4:p=Wt,g=un,Wt=d.stateNode.containerInfo,un=!0,Ai(i,o,d),Wt=p,un=g;break;case 0:case 11:case 14:case 15:ys(2,d,o),yr||ys(4,d,o),Ai(i,o,d);break;case 1:yr||(Fa(d,o),p=d.stateNode,typeof p.componentWillUnmount=="function"&&ES(d,o,p)),Ai(i,o,d);break;case 21:Ai(i,o,d);break;case 22:yr=(p=yr)||d.memoizedState!==null,Ai(i,o,d),yr=p;break;default:Ai(i,o,d)}}function zS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{zo(i)}catch(d){kt(o,o.return,d)}}}function FS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{zo(i)}catch(d){kt(o,o.return,d)}}function ER(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new PS),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new PS),o;default:throw Error(r(435,i.tag))}}function zf(i,o){var d=ER(i);o.forEach(function(p){if(!d.has(p)){d.add(p);var g=FR.bind(null,i,p);p.then(g,g)}})}function dn(i,o){var d=o.deletions;if(d!==null)for(var p=0;p<d.length;p++){var g=d[p],N=i,D=o,I=D;e:for(;I!==null;){switch(I.tag){case 27:if(Ms(I.type)){Wt=I.stateNode,un=!1;break e}break;case 5:Wt=I.stateNode,un=!1;break e;case 3:case 4:Wt=I.stateNode.containerInfo,un=!0;break e}I=I.return}if(Wt===null)throw Error(r(160));LS(N,D,g),Wt=null,un=!1,N=g.alternate,N!==null&&(N.return=null),g.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)BS(o,i),o=o.sibling}var fa=null;function BS(i,o){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:dn(o,i),fn(i),p&4&&(ys(3,i,i.return),fu(3,i),ys(5,i,i.return));break;case 1:dn(o,i),fn(i),p&512&&(yr||d===null||Fa(d,d.return)),p&64&&Ci&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var g=fa;if(dn(o,i),fn(i),p&512&&(yr||d===null||Fa(d,d.return)),p&4){var N=d!==null?d.memoizedState:null;if(p=i.memoizedState,d===null)if(p===null)if(i.stateNode===null){e:{p=i.type,d=i.memoizedProps,g=g.ownerDocument||g;t:switch(p){case"title":N=g.getElementsByTagName("title")[0],(!N||N[il]||N[Sr]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=g.createElement(p),g.head.insertBefore(N,g.querySelector("head > title"))),qr(N,p,d),N[Sr]=i,xt(N),p=N;break e;case"link":var D=B2("link","href",g).get(p+(d.href||""));if(D){for(var I=0;I<D.length;I++)if(N=D[I],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){D.splice(I,1);break t}}N=g.createElement(p),qr(N,p,d),g.head.appendChild(N);break;case"meta":if(D=B2("meta","content",g).get(p+(d.content||""))){for(I=0;I<D.length;I++)if(N=D[I],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){D.splice(I,1);break t}}N=g.createElement(p),qr(N,p,d),g.head.appendChild(N);break;default:throw Error(r(468,p))}N[Sr]=i,xt(N),p=N}i.stateNode=p}else $2(g,i.type,i.stateNode);else i.stateNode=F2(g,p,i.memoizedProps);else N!==p?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,p===null?$2(g,i.type,i.stateNode):F2(g,p,i.memoizedProps)):p===null&&i.stateNode!==null&&Gx(i,i.memoizedProps,d.memoizedProps)}break;case 27:dn(o,i),fn(i),p&512&&(yr||d===null||Fa(d,d.return)),d!==null&&p&4&&Gx(i,i.memoizedProps,d.memoizedProps);break;case 5:if(dn(o,i),fn(i),p&512&&(yr||d===null||Fa(d,d.return)),i.flags&32){g=i.stateNode;try{so(g,"")}catch(Ie){kt(i,i.return,Ie)}}p&4&&i.stateNode!=null&&(g=i.memoizedProps,Gx(i,g,d!==null?d.memoizedProps:g)),p&1024&&(Qx=!0);break;case 6:if(dn(o,i),fn(i),p&4){if(i.stateNode===null)throw Error(r(162));p=i.memoizedProps,d=i.stateNode;try{d.nodeValue=p}catch(Ie){kt(i,i.return,Ie)}}break;case 3:if(em=null,g=fa,fa=Zf(o.containerInfo),dn(o,i),fa=g,fn(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{zo(o.containerInfo)}catch(Ie){kt(i,i.return,Ie)}Qx&&(Qx=!1,$S(i));break;case 4:p=fa,fa=Zf(i.stateNode.containerInfo),dn(o,i),fn(i),fa=p;break;case 12:dn(o,i),fn(i);break;case 31:dn(o,i),fn(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,zf(i,p)));break;case 13:dn(o,i),fn(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Bf=nr()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,zf(i,p)));break;case 22:g=i.memoizedState!==null;var q=d!==null&&d.memoizedState!==null,ee=Ci,de=yr;if(Ci=ee||g,yr=de||q,dn(o,i),yr=de,Ci=ee,fn(i),p&8192)e:for(o=i.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(d===null||q||Ci||yr||yl(i)),d=null,o=i;;){if(o.tag===5||o.tag===26){if(d===null){q=d=o;try{if(N=q.stateNode,g)D=N.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{I=q.stateNode;var pe=q.memoizedProps.style,ae=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;I.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Ie){kt(q,q.return,Ie)}}}else if(o.tag===6){if(d===null){q=o;try{q.stateNode.nodeValue=g?"":q.memoizedProps}catch(Ie){kt(q,q.return,Ie)}}}else if(o.tag===18){if(d===null){q=o;try{var le=q.stateNode;g?E2(le,!0):E2(q.stateNode,!1)}catch(Ie){kt(q,q.return,Ie)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,zf(i,d))));break;case 19:dn(o,i),fn(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,zf(i,p)));break;case 30:break;case 21:break;default:dn(o,i),fn(i)}}function fn(i){var o=i.flags;if(o&2){try{for(var d,p=i.return;p!==null;){if(OS(p)){d=p;break}p=p.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var g=d.stateNode,N=Kx(i);Lf(i,N,g);break;case 5:var D=d.stateNode;d.flags&32&&(so(D,""),d.flags&=-33);var I=Kx(i);Lf(i,I,D);break;case 3:case 4:var q=d.stateNode.containerInfo,ee=Kx(i);Wx(i,ee,q);break;default:throw Error(r(161))}}catch(de){kt(i,i.return,de)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function $S(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;$S(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Mi(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)IS(i,o.alternate,o),o=o.sibling}function yl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:ys(4,o,o.return),yl(o);break;case 1:Fa(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&ES(o,o.return,d),yl(o);break;case 27:ju(o.stateNode);case 26:case 5:Fa(o,o.return),yl(o);break;case 22:o.memoizedState===null&&yl(o);break;case 30:yl(o);break;default:yl(o)}i=i.sibling}}function Di(i,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,g=i,N=o,D=N.flags;switch(N.tag){case 0:case 11:case 15:Di(g,N,d),fu(4,N);break;case 1:if(Di(g,N,d),p=N,g=p.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ee){kt(p,p.return,ee)}if(p=N,g=p.updateQueue,g!==null){var I=p.stateNode;try{var q=g.shared.hiddenCallbacks;if(q!==null)for(g.shared.hiddenCallbacks=null,g=0;g<q.length;g++)gN(q[g],I)}catch(ee){kt(p,p.return,ee)}}d&&D&64&&kS(N),mu(N,N.return);break;case 27:TS(N);case 26:case 5:Di(g,N,d),d&&p===null&&D&4&&_S(N),mu(N,N.return);break;case 12:Di(g,N,d);break;case 31:Di(g,N,d),d&&D&4&&zS(g,N);break;case 13:Di(g,N,d),d&&D&4&&FS(g,N);break;case 22:N.memoizedState===null&&Di(g,N,d),mu(N,N.return);break;case 30:break;default:Di(g,N,d)}o=o.sibling}}function Xx(i,o){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&Jc(d))}function Zx(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Jc(i))}function ma(i,o,d,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)qS(i,o,d,p),o=o.sibling}function qS(i,o,d,p){var g=o.flags;switch(o.tag){case 0:case 11:case 15:ma(i,o,d,p),g&2048&&fu(9,o);break;case 1:ma(i,o,d,p);break;case 3:ma(i,o,d,p),g&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Jc(i)));break;case 12:if(g&2048){ma(i,o,d,p),i=o.stateNode;try{var N=o.memoizedProps,D=N.id,I=N.onPostCommit;typeof I=="function"&&I(D,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(q){kt(o,o.return,q)}}else ma(i,o,d,p);break;case 31:ma(i,o,d,p);break;case 13:ma(i,o,d,p);break;case 23:break;case 22:N=o.stateNode,D=o.alternate,o.memoizedState!==null?N._visibility&2?ma(i,o,d,p):pu(i,o):N._visibility&2?ma(i,o,d,p):(N._visibility|=2,Mo(i,o,d,p,(o.subtreeFlags&10256)!==0||!1)),g&2048&&Xx(D,o);break;case 24:ma(i,o,d,p),g&2048&&Zx(o.alternate,o);break;default:ma(i,o,d,p)}}function Mo(i,o,d,p,g){for(g=g&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var N=i,D=o,I=d,q=p,ee=D.flags;switch(D.tag){case 0:case 11:case 15:Mo(N,D,I,q,g),fu(8,D);break;case 23:break;case 22:var de=D.stateNode;D.memoizedState!==null?de._visibility&2?Mo(N,D,I,q,g):pu(N,D):(de._visibility|=2,Mo(N,D,I,q,g)),g&&ee&2048&&Xx(D.alternate,D);break;case 24:Mo(N,D,I,q,g),g&&ee&2048&&Zx(D.alternate,D);break;default:Mo(N,D,I,q,g)}o=o.sibling}}function pu(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=i,p=o,g=p.flags;switch(p.tag){case 22:pu(d,p),g&2048&&Xx(p.alternate,p);break;case 24:pu(d,p),g&2048&&Zx(p.alternate,p);break;default:pu(d,p)}o=o.sibling}}var hu=8192;function Do(i,o,d){if(i.subtreeFlags&hu)for(i=i.child;i!==null;)HS(i,o,d),i=i.sibling}function HS(i,o,d){switch(i.tag){case 26:Do(i,o,d),i.flags&hu&&i.memoizedState!==null&&vL(d,fa,i.memoizedState,i.memoizedProps);break;case 5:Do(i,o,d);break;case 3:case 4:var p=fa;fa=Zf(i.stateNode.containerInfo),Do(i,o,d),fa=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=hu,hu=16777216,Do(i,o,d),hu=p):Do(i,o,d));break;default:Do(i,o,d)}}function US(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function vu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];Or=p,VS(p,i)}US(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)YS(i),i=i.sibling}function YS(i){switch(i.tag){case 0:case 11:case 15:vu(i),i.flags&2048&&ys(9,i,i.return);break;case 3:vu(i);break;case 12:vu(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Ff(i)):vu(i);break;default:vu(i)}}function Ff(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];Or=p,VS(p,i)}US(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:ys(8,o,o.return),Ff(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,Ff(o));break;default:Ff(o)}i=i.sibling}}function VS(i,o){for(;Or!==null;){var d=Or;switch(d.tag){case 0:case 11:case 15:ys(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Jc(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Or=p;else e:for(d=i;Or!==null;){p=Or;var g=p.sibling,N=p.return;if(RS(p),p===d){Or=null;break e}if(g!==null){g.return=N,Or=g;break e}Or=N}}}var _R={getCacheForType:function(i){var o=Br(xr),d=o.data.get(i);return d===void 0&&(d=i(),o.data.set(i,d)),d},cacheSignal:function(){return Br(xr).controller.signal}},OR=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Bt=null,ot=null,ft=0,Dt=0,En=null,ws=!1,ko=!1,Jx=!1,ki=0,ir=0,js=0,wl=0,eg=0,_n=0,Eo=0,xu=null,mn=null,tg=!1,Bf=0,GS=0,$f=1/0,qf=null,Ns=null,Cr=0,Ss=null,_o=null,Ei=0,rg=0,ng=null,KS=null,gu=0,ag=null;function On(){return(Nt&2)!==0&&ft!==0?ft&-ft:$.T!==null?ug():al()}function WS(){if(_n===0)if((ft&536870912)===0||vt){var i=$e;$e<<=1,($e&3932160)===0&&($e=262144),_n=i}else _n=536870912;return i=Dn.current,i!==null&&(i.flags|=32),_n}function pn(i,o,d){(i===Bt&&(Dt===2||Dt===9)||i.cancelPendingCommit!==null)&&(Oo(i,0),Cs(i,ft,_n,!1)),vr(i,d),((Nt&2)===0||i!==Bt)&&(i===Bt&&((Nt&2)===0&&(wl|=d),ir===4&&Cs(i,ft,_n,!1)),Ba(i))}function QS(i,o,d){if((Nt&6)!==0)throw Error(r(327));var p=!d&&(o&127)===0&&(o&i.expiredLanes)===0||We(i,o),g=p?IR(i,o):sg(i,o,!0),N=p;do{if(g===0){ko&&!p&&Cs(i,o,0,!1);break}else{if(d=i.current.alternate,N&&!TR(d)){g=sg(i,o,!1),N=!1;continue}if(g===2){if(N=o,i.errorRecoveryDisabledLanes&N)var D=0;else D=i.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){o=D;e:{var I=i;g=xu;var q=I.current.memoizedState.isDehydrated;if(q&&(Oo(I,D).flags|=256),D=sg(I,D,!1),D!==2){if(Jx&&!q){I.errorRecoveryDisabledLanes|=N,wl|=N,g=4;break e}N=mn,mn=g,N!==null&&(mn===null?mn=N:mn.push.apply(mn,N))}g=D}if(N=!1,g!==2)continue}}if(g===1){Oo(i,0),Cs(i,o,0,!0);break}e:{switch(p=i,N=g,N){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Cs(p,o,_n,!ws);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(g=Bf+300-nr(),10<g)){if(Cs(p,o,_n,!ws),we(p,0,!0)!==0)break e;Ei=o,p.timeoutHandle=M2(XS.bind(null,p,d,mn,qf,tg,o,_n,wl,Eo,ws,N,"Throttled",-0,0),g);break e}XS(p,d,mn,qf,tg,o,_n,wl,Eo,ws,N,null,-0,0)}}break}while(!0);Ba(i)}function XS(i,o,d,p,g,N,D,I,q,ee,de,pe,ae,le){if(i.timeoutHandle=-1,pe=o.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},HS(o,N,pe);var Ie=(N&62914560)===N?Bf-nr():(N&4194048)===N?GS-nr():0;if(Ie=xL(pe,Ie),Ie!==null){Ei=N,i.cancelPendingCommit=Ie(i2.bind(null,i,o,N,d,p,g,D,I,q,de,pe,null,ae,le)),Cs(i,N,D,!ee);return}}i2(i,o,N,d,p,g,D,I,q)}function TR(i){for(var o=i;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var g=d[p],N=g.getSnapshot;g=g.value;try{if(!An(N(),g))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Cs(i,o,d,p){o&=~eg,o&=~wl,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var g=o;0<g;){var N=31-se(g),D=1<<N;p[N]=-1,g&=~D}d!==0&&_r(i,d,o)}function Hf(){return(Nt&6)===0?(bu(0),!1):!0}function ig(){if(ot!==null){if(Dt===0)var i=ot.return;else i=ot,bi=fl=null,wx(i),jo=null,tu=0,i=ot;for(;i!==null;)DS(i.alternate,i),i=i.return;ot=null}}function Oo(i,o){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,JR(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),Ei=0,ig(),Bt=i,ot=d=xi(i.current,null),ft=o,Dt=0,En=null,ws=!1,ko=We(i,o),Jx=!1,Eo=_n=eg=wl=js=ir=0,mn=xu=null,tg=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var g=31-se(p),N=1<<g;o|=i[g],p&=~N}return ki=o,uf(),d}function ZS(i,o){nt=null,$.H=cu,o===wo||o===gf?(o=pN(),Dt=3):o===cx?(o=pN(),Dt=4):Dt=o===Lx?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,En=o,ot===null&&(ir=1,Of(i,Gn(o,i.current)))}function JS(){var i=Dn.current;return i===null?!0:(ft&4194048)===ft?Xn===null:(ft&62914560)===ft||(ft&536870912)!==0?i===Xn:!1}function e2(){var i=$.H;return $.H=cu,i===null?cu:i}function t2(){var i=$.A;return $.A=_R,i}function Uf(){ir=4,ws||(ft&4194048)!==ft&&Dn.current!==null||(ko=!0),(js&134217727)===0&&(wl&134217727)===0||Bt===null||Cs(Bt,ft,_n,!1)}function sg(i,o,d){var p=Nt;Nt|=2;var g=e2(),N=t2();(Bt!==i||ft!==o)&&(qf=null,Oo(i,o)),o=!1;var D=ir;e:do try{if(Dt!==0&&ot!==null){var I=ot,q=En;switch(Dt){case 8:ig(),D=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(o=!0);var ee=Dt;if(Dt=0,En=null,To(i,I,q,ee),d&&ko){D=0;break e}break;default:ee=Dt,Dt=0,En=null,To(i,I,q,ee)}}PR(),D=ir;break}catch(de){ZS(i,de)}while(!0);return o&&i.shellSuspendCounter++,bi=fl=null,Nt=p,$.H=g,$.A=N,ot===null&&(Bt=null,ft=0,uf()),D}function PR(){for(;ot!==null;)r2(ot)}function IR(i,o){var d=Nt;Nt|=2;var p=e2(),g=t2();Bt!==i||ft!==o?(qf=null,$f=nr()+500,Oo(i,o)):ko=We(i,o);e:do try{if(Dt!==0&&ot!==null){o=ot;var N=En;t:switch(Dt){case 1:Dt=0,En=null,To(i,o,N,1);break;case 2:case 9:if(fN(N)){Dt=0,En=null,n2(o);break}o=function(){Dt!==2&&Dt!==9||Bt!==i||(Dt=7),Ba(i)},N.then(o,o);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:fN(N)?(Dt=0,En=null,n2(o)):(Dt=0,En=null,To(i,o,N,7));break;case 5:var D=null;switch(ot.tag){case 26:D=ot.memoizedState;case 5:case 27:var I=ot;if(D?q2(D):I.stateNode.complete){Dt=0,En=null;var q=I.sibling;if(q!==null)ot=q;else{var ee=I.return;ee!==null?(ot=ee,Yf(ee)):ot=null}break t}}Dt=0,En=null,To(i,o,N,5);break;case 6:Dt=0,En=null,To(i,o,N,6);break;case 8:ig(),ir=6;break e;default:throw Error(r(462))}}RR();break}catch(de){ZS(i,de)}while(!0);return bi=fl=null,$.H=p,$.A=g,Nt=d,ot!==null?0:(Bt=null,ft=0,uf(),ir)}function RR(){for(;ot!==null&&!Er();)r2(ot)}function r2(i){var o=AS(i.alternate,i,ki);i.memoizedProps=i.pendingProps,o===null?Yf(i):ot=o}function n2(i){var o=i,d=o.alternate;switch(o.tag){case 15:case 0:o=yS(d,o,o.pendingProps,o.type,void 0,ft);break;case 11:o=yS(d,o,o.pendingProps,o.type.render,o.ref,ft);break;case 5:wx(o);default:DS(d,o),o=ot=tN(o,ki),o=AS(d,o,ki)}i.memoizedProps=i.pendingProps,o===null?Yf(i):ot=o}function To(i,o,d,p){bi=fl=null,wx(o),jo=null,tu=0;var g=o.return;try{if(SR(i,g,o,d,ft)){ir=1,Of(i,Gn(d,i.current)),ot=null;return}}catch(N){if(g!==null)throw ot=g,N;ir=1,Of(i,Gn(d,i.current)),ot=null;return}o.flags&32768?(vt||p===1?i=!0:ko||(ft&536870912)!==0?i=!1:(ws=i=!0,(p===2||p===9||p===3||p===6)&&(p=Dn.current,p!==null&&p.tag===13&&(p.flags|=16384))),a2(o,i)):Yf(o)}function Yf(i){var o=i;do{if((o.flags&32768)!==0){a2(o,ws);return}i=o.return;var d=MR(o.alternate,o,ki);if(d!==null){ot=d;return}if(o=o.sibling,o!==null){ot=o;return}ot=o=i}while(o!==null);ir===0&&(ir=5)}function a2(i,o){do{var d=DR(i.alternate,i);if(d!==null){d.flags&=32767,ot=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(i=i.sibling,i!==null)){ot=i;return}ot=i=d}while(i!==null);ir=6,ot=null}function i2(i,o,d,p,g,N,D,I,q){i.cancelPendingCommit=null;do Vf();while(Cr!==0);if((Nt&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(N=o.lanes|o.childLanes,N|=Kv,Ce(i,d,N,D,I,q),i===Bt&&(ot=Bt=null,ft=0),_o=o,Ss=i,Ei=d,rg=N,ng=g,KS=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,BR(me,function(){return u2(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=$.T,$.T=null,g=G.p,G.p=2,D=Nt,Nt|=4;try{kR(i,o,d)}finally{Nt=D,G.p=g,$.T=p}}Cr=1,s2(),l2(),o2()}}function s2(){if(Cr===1){Cr=0;var i=Ss,o=_o,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=$.T,$.T=null;var p=G.p;G.p=2;var g=Nt;Nt|=4;try{BS(o,i);var N=gg,D=Vj(i.containerInfo),I=N.focusedElem,q=N.selectionRange;if(D!==I&&I&&I.ownerDocument&&Yj(I.ownerDocument.documentElement,I)){if(q!==null&&Hv(I)){var ee=q.start,de=q.end;if(de===void 0&&(de=ee),"selectionStart"in I)I.selectionStart=ee,I.selectionEnd=Math.min(de,I.value.length);else{var pe=I.ownerDocument||document,ae=pe&&pe.defaultView||window;if(ae.getSelection){var le=ae.getSelection(),Ie=I.textContent.length,Ve=Math.min(q.start,Ie),Lt=q.end===void 0?Ve:Math.min(q.end,Ie);!le.extend&&Ve>Lt&&(D=Lt,Lt=Ve,Ve=D);var V=Uj(I,Ve),U=Uj(I,Lt);if(V&&U&&(le.rangeCount!==1||le.anchorNode!==V.node||le.anchorOffset!==V.offset||le.focusNode!==U.node||le.focusOffset!==U.offset)){var J=pe.createRange();J.setStart(V.node,V.offset),le.removeAllRanges(),Ve>Lt?(le.addRange(J),le.extend(U.node,U.offset)):(J.setEnd(U.node,U.offset),le.addRange(J))}}}}for(pe=[],le=I;le=le.parentNode;)le.nodeType===1&&pe.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<pe.length;I++){var fe=pe[I];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}am=!!xg,gg=xg=null}finally{Nt=g,G.p=p,$.T=d}}i.current=o,Cr=2}}function l2(){if(Cr===2){Cr=0;var i=Ss,o=_o,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=$.T,$.T=null;var p=G.p;G.p=2;var g=Nt;Nt|=4;try{IS(i,o.alternate,o)}finally{Nt=g,G.p=p,$.T=d}}Cr=3}}function o2(){if(Cr===4||Cr===3){Cr=0,sn();var i=Ss,o=_o,d=Ei,p=KS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Cr=5:(Cr=0,_o=Ss=null,c2(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Ns=null),Pa(d),o=o.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(je,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=$.T,g=G.p,G.p=2,$.T=null;try{for(var N=i.onRecoverableError,D=0;D<p.length;D++){var I=p[D];N(I.value,{componentStack:I.stack})}}finally{$.T=o,G.p=g}}(Ei&3)!==0&&Vf(),Ba(i),g=i.pendingLanes,(d&261930)!==0&&(g&42)!==0?i===ag?gu++:(gu=0,ag=i):gu=0,bu(0)}}function c2(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Jc(o)))}function Vf(){return s2(),l2(),o2(),u2()}function u2(){if(Cr!==5)return!1;var i=Ss,o=rg;rg=0;var d=Pa(Ei),p=$.T,g=G.p;try{G.p=32>d?32:d,$.T=null,d=ng,ng=null;var N=Ss,D=Ei;if(Cr=0,_o=Ss=null,Ei=0,(Nt&6)!==0)throw Error(r(331));var I=Nt;if(Nt|=4,YS(N.current),qS(N,N.current,D,d),Nt=I,bu(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(je,N)}catch{}return!0}finally{G.p=g,$.T=p,c2(i,o)}}function d2(i,o,d){o=Gn(d,o),o=Rx(i.stateNode,o,2),i=xs(i,o,2),i!==null&&(vr(i,2),Ba(i))}function kt(i,o,d){if(i.tag===3)d2(i,i,d);else for(;o!==null;){if(o.tag===3){d2(o,i,d);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ns===null||!Ns.has(p))){i=Gn(d,i),d=fS(2),p=xs(o,d,2),p!==null&&(mS(d,p,o,i),vr(p,2),Ba(p));break}}o=o.return}}function lg(i,o,d){var p=i.pingCache;if(p===null){p=i.pingCache=new OR;var g=new Set;p.set(o,g)}else g=p.get(o),g===void 0&&(g=new Set,p.set(o,g));g.has(d)||(Jx=!0,g.add(d),i=LR.bind(null,i,o,d),o.then(i,i))}function LR(i,o,d){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,Bt===i&&(ft&d)===d&&(ir===4||ir===3&&(ft&62914560)===ft&&300>nr()-Bf?(Nt&2)===0&&Oo(i,0):eg|=d,Eo===ft&&(Eo=0)),Ba(i)}function f2(i,o){o===0&&(o=Pt()),i=cl(i,o),i!==null&&(vr(i,o),Ba(i))}function zR(i){var o=i.memoizedState,d=0;o!==null&&(d=o.retryLane),f2(i,d)}function FR(i,o){var d=0;switch(i.tag){case 31:case 13:var p=i.stateNode,g=i.memoizedState;g!==null&&(d=g.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(o),f2(i,d)}function BR(i,o){return bt(i,o)}var Gf=null,Po=null,og=!1,Kf=!1,cg=!1,As=0;function Ba(i){i!==Po&&i.next===null&&(Po===null?Gf=Po=i:Po=Po.next=i),Kf=!0,og||(og=!0,qR())}function bu(i,o){if(!cg&&Kf){cg=!0;do for(var d=!1,p=Gf;p!==null;){if(i!==0){var g=p.pendingLanes;if(g===0)var N=0;else{var D=p.suspendedLanes,I=p.pingedLanes;N=(1<<31-se(42|i)+1)-1,N&=g&~(D&~I),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,v2(p,N))}else N=ft,N=we(p,p===Bt?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||We(p,N)||(d=!0,v2(p,N));p=p.next}while(d);cg=!1}}function $R(){m2()}function m2(){Kf=og=!1;var i=0;As!==0&&ZR()&&(i=As);for(var o=nr(),d=null,p=Gf;p!==null;){var g=p.next,N=p2(p,o);N===0?(p.next=null,d===null?Gf=g:d.next=g,g===null&&(Po=d)):(d=p,(i!==0||(N&3)!==0)&&(Kf=!0)),p=g}Cr!==0&&Cr!==5||bu(i),As!==0&&(As=0)}function p2(i,o){for(var d=i.suspendedLanes,p=i.pingedLanes,g=i.expirationTimes,N=i.pendingLanes&-62914561;0<N;){var D=31-se(N),I=1<<D,q=g[D];q===-1?((I&d)===0||(I&p)!==0)&&(g[D]=tt(I,o)):q<=o&&(i.expiredLanes|=I),N&=~I}if(o=Bt,d=ft,d=we(i,i===o?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,d===0||i===o&&(Dt===2||Dt===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&At(p),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||We(i,d)){if(o=d&-d,o===i.callbackPriority)return o;switch(p!==null&&At(p),Pa(d)){case 2:case 8:d=te;break;case 32:d=me;break;case 268435456:d=rt;break;default:d=me}return p=h2.bind(null,i),d=bt(d,p),i.callbackPriority=o,i.callbackNode=d,o}return p!==null&&p!==null&&At(p),i.callbackPriority=2,i.callbackNode=null,2}function h2(i,o){if(Cr!==0&&Cr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(Vf()&&i.callbackNode!==d)return null;var p=ft;return p=we(i,i===Bt?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(QS(i,p,o),p2(i,nr()),i.callbackNode!=null&&i.callbackNode===d?h2.bind(null,i):null)}function v2(i,o){if(Vf())return null;QS(i,o,!0)}function qR(){eL(function(){(Nt&6)!==0?bt(Ue,$R):m2()})}function ug(){if(As===0){var i=bo;i===0&&(i=Kt,Kt<<=1,(Kt&261888)===0&&(Kt=256)),As=i}return As}function x2(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:tf(""+i)}function g2(i,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,i.id&&d.setAttribute("form",i.id),o.parentNode.insertBefore(d,o),i=new FormData(i),d.parentNode.removeChild(d),i}function HR(i,o,d,p,g){if(o==="submit"&&d&&d.stateNode===g){var N=x2((g[Gr]||null).action),D=p.submitter;D&&(o=(o=D[Gr]||null)?x2(o.formAction):D.getAttribute("formAction"),o!==null&&(N=o,D=null));var I=new sf("action","action",null,p,g);i.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(As!==0){var q=D?g2(g,D):new FormData(g);Ex(d,{pending:!0,data:q,method:g.method,action:N},null,q)}}else typeof N=="function"&&(I.preventDefault(),q=D?g2(g,D):new FormData(g),Ex(d,{pending:!0,data:q,method:g.method,action:N},N,q))},currentTarget:g}]})}}for(var dg=0;dg<Gv.length;dg++){var fg=Gv[dg],UR=fg.toLowerCase(),YR=fg[0].toUpperCase()+fg.slice(1);da(UR,"on"+YR)}da(Wj,"onAnimationEnd"),da(Qj,"onAnimationIteration"),da(Xj,"onAnimationStart"),da("dblclick","onDoubleClick"),da("focusin","onFocus"),da("focusout","onBlur"),da(lR,"onTransitionRun"),da(oR,"onTransitionStart"),da(cR,"onTransitionCancel"),da(Zj,"onTransitionEnd"),on("onMouseEnter",["mouseout","mouseover"]),on("onMouseLeave",["mouseout","mouseover"]),on("onPointerEnter",["pointerout","pointerover"]),on("onPointerLeave",["pointerout","pointerover"]),Zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yu));function b2(i,o){o=(o&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],g=p.event;p=p.listeners;e:{var N=void 0;if(o)for(var D=p.length-1;0<=D;D--){var I=p[D],q=I.instance,ee=I.currentTarget;if(I=I.listener,q!==N&&g.isPropagationStopped())break e;N=I,g.currentTarget=ee;try{N(g)}catch(de){cf(de)}g.currentTarget=null,N=q}else for(D=0;D<p.length;D++){if(I=p[D],q=I.instance,ee=I.currentTarget,I=I.listener,q!==N&&g.isPropagationStopped())break e;N=I,g.currentTarget=ee;try{N(g)}catch(de){cf(de)}g.currentTarget=null,N=q}}}}function ct(i,o){var d=o[Fc];d===void 0&&(d=o[Fc]=new Set);var p=i+"__bubble";d.has(p)||(y2(o,i,2,!1),d.add(p))}function mg(i,o,d){var p=0;o&&(p|=4),y2(d,i,p,o)}var Wf="_reactListening"+Math.random().toString(36).slice(2);function pg(i){if(!i[Wf]){i[Wf]=!0,ln.forEach(function(d){d!=="selectionchange"&&(VR.has(d)||mg(d,!1,i),mg(d,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Wf]||(o[Wf]=!0,mg("selectionchange",!1,o))}}function y2(i,o,d,p){switch(W2(o)){case 2:var g=yL;break;case 8:g=wL;break;default:g=kg}d=g.bind(null,o,d,i),g=void 0,!Pv||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),p?g!==void 0?i.addEventListener(o,d,{capture:!0,passive:g}):i.addEventListener(o,d,!0):g!==void 0?i.addEventListener(o,d,{passive:g}):i.addEventListener(o,d,!1)}function hg(i,o,d,p,g){var N=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var D=p.tag;if(D===3||D===4){var I=p.stateNode.containerInfo;if(I===g)break;if(D===4)for(D=p.return;D!==null;){var q=D.tag;if((q===3||q===4)&&D.stateNode.containerInfo===g)return;D=D.return}for(;I!==null;){if(D=os(I),D===null)return;if(q=D.tag,q===5||q===6||q===26||q===27){p=N=D;continue e}I=I.parentNode}}p=p.return}Cj(function(){var ee=N,de=Ov(d),pe=[];e:{var ae=Jj.get(i);if(ae!==void 0){var le=sf,Ie=i;switch(i){case"keypress":if(nf(d)===0)break e;case"keydown":case"keyup":le=FI;break;case"focusin":Ie="focus",le=zv;break;case"focusout":Ie="blur",le=zv;break;case"beforeblur":case"afterblur":le=zv;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Dj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=MI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=qI;break;case Wj:case Qj:case Xj:le=EI;break;case Zj:le=UI;break;case"scroll":case"scrollend":le=CI;break;case"wheel":le=VI;break;case"copy":case"cut":case"paste":le=OI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Ej;break;case"toggle":case"beforetoggle":le=KI}var Ve=(o&4)!==0,Lt=!Ve&&(i==="scroll"||i==="scrollend"),V=Ve?ae!==null?ae+"Capture":null:ae;Ve=[];for(var U=ee,J;U!==null;){var fe=U;if(J=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||J===null||V===null||(fe=qc(U,V),fe!=null&&Ve.push(wu(U,fe,J))),Lt)break;U=U.return}0<Ve.length&&(ae=new le(ae,Ie,null,d,de),pe.push({event:ae,listeners:Ve}))}}if((o&7)===0){e:{if(ae=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",ae&&d!==_v&&(Ie=d.relatedTarget||d.fromElement)&&(os(Ie)||Ie[ls]))break e;if((le||ae)&&(ae=de.window===de?de:(ae=de.ownerDocument)?ae.defaultView||ae.parentWindow:window,le?(Ie=d.relatedTarget||d.toElement,le=ee,Ie=Ie?os(Ie):null,Ie!==null&&(Lt=s(Ie),Ve=Ie.tag,Ie!==Lt||Ve!==5&&Ve!==27&&Ve!==6)&&(Ie=null)):(le=null,Ie=ee),le!==Ie)){if(Ve=Dj,fe="onMouseLeave",V="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(Ve=Ej,fe="onPointerLeave",V="onPointerEnter",U="pointer"),Lt=le==null?ae:H(le),J=Ie==null?ae:H(Ie),ae=new Ve(fe,U+"leave",le,d,de),ae.target=Lt,ae.relatedTarget=J,fe=null,os(de)===ee&&(Ve=new Ve(V,U+"enter",Ie,d,de),Ve.target=J,Ve.relatedTarget=Lt,fe=Ve),Lt=fe,le&&Ie)t:{for(Ve=GR,V=le,U=Ie,J=0,fe=V;fe;fe=Ve(fe))J++;fe=0;for(var qe=U;qe;qe=Ve(qe))fe++;for(;0<J-fe;)V=Ve(V),J--;for(;0<fe-J;)U=Ve(U),fe--;for(;J--;){if(V===U||U!==null&&V===U.alternate){Ve=V;break t}V=Ve(V),U=Ve(U)}Ve=null}else Ve=null;le!==null&&w2(pe,ae,le,Ve,!1),Ie!==null&&Lt!==null&&w2(pe,Lt,Ie,Ve,!0)}}e:{if(ae=ee?H(ee):window,le=ae.nodeName&&ae.nodeName.toLowerCase(),le==="select"||le==="input"&&ae.type==="file")var yt=zj;else if(Rj(ae))if(Fj)yt=aR;else{yt=rR;var Le=tR}else le=ae.nodeName,!le||le.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ee&&Ev(ee.elementType)&&(yt=zj):yt=nR;if(yt&&(yt=yt(i,ee))){Lj(pe,yt,d,de);break e}Le&&Le(i,ae,ee),i==="focusout"&&ee&&ae.type==="number"&&ee.memoizedProps.value!=null&&kv(ae,"number",ae.value)}switch(Le=ee?H(ee):window,i){case"focusin":(Rj(Le)||Le.contentEditable==="true")&&(uo=Le,Uv=ee,Qc=null);break;case"focusout":Qc=Uv=uo=null;break;case"mousedown":Yv=!0;break;case"contextmenu":case"mouseup":case"dragend":Yv=!1,Gj(pe,d,de);break;case"selectionchange":if(sR)break;case"keydown":case"keyup":Gj(pe,d,de)}var at;if(Bv)e:{switch(i){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else co?Pj(i,d)&&(mt="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(mt="onCompositionStart");mt&&(_j&&d.locale!=="ko"&&(co||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&co&&(at=Aj()):(us=de,Iv="value"in us?us.value:us.textContent,co=!0)),Le=Qf(ee,mt),0<Le.length&&(mt=new kj(mt,i,null,d,de),pe.push({event:mt,listeners:Le}),at?mt.data=at:(at=Ij(d),at!==null&&(mt.data=at)))),(at=QI?XI(i,d):ZI(i,d))&&(mt=Qf(ee,"onBeforeInput"),0<mt.length&&(Le=new kj("onBeforeInput","beforeinput",null,d,de),pe.push({event:Le,listeners:mt}),Le.data=at)),HR(pe,i,ee,d,de)}b2(pe,o)})}function wu(i,o,d){return{instance:i,listener:o,currentTarget:d}}function Qf(i,o){for(var d=o+"Capture",p=[];i!==null;){var g=i,N=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||N===null||(g=qc(i,d),g!=null&&p.unshift(wu(i,g,N)),g=qc(i,o),g!=null&&p.push(wu(i,g,N))),i.tag===3)return p;i=i.return}return[]}function GR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function w2(i,o,d,p,g){for(var N=o._reactName,D=[];d!==null&&d!==p;){var I=d,q=I.alternate,ee=I.stateNode;if(I=I.tag,q!==null&&q===p)break;I!==5&&I!==26&&I!==27||ee===null||(q=ee,g?(ee=qc(d,N),ee!=null&&D.unshift(wu(d,ee,q))):g||(ee=qc(d,N),ee!=null&&D.push(wu(d,ee,q)))),d=d.return}D.length!==0&&i.push({event:o,listeners:D})}var KR=/\r\n?/g,WR=/\u0000|\uFFFD/g;function j2(i){return(typeof i=="string"?i:""+i).replace(KR,`
`).replace(WR,"")}function N2(i,o){return o=j2(o),j2(i)===o}function Rt(i,o,d,p,g,N){switch(d){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||so(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&so(i,""+p);break;case"className":Jd(i,"class",p);break;case"tabIndex":Jd(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Jd(i,d,p);break;case"style":Nj(i,p,N);break;case"data":if(o!=="object"){Jd(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||d!=="href")){i.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=tf(""+p),i.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(o!=="input"&&Rt(i,o,"name",g.name,g,null),Rt(i,o,"formEncType",g.formEncType,g,null),Rt(i,o,"formMethod",g.formMethod,g,null),Rt(i,o,"formTarget",g.formTarget,g,null)):(Rt(i,o,"encType",g.encType,g,null),Rt(i,o,"method",g.method,g,null),Rt(i,o,"target",g.target,g,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=tf(""+p),i.setAttribute(d,p);break;case"onClick":p!=null&&(i.onclick=hi);break;case"onScroll":p!=null&&ct("scroll",i);break;case"onScrollEnd":p!=null&&ct("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}d=tf(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""+p):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":p===!0?i.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,p):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(d,p):i.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(d):i.setAttribute(d,p);break;case"popover":ct("beforetoggle",i),ct("toggle",i),Zd(i,"popover",p);break;case"xlinkActuate":pi(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":pi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":pi(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":pi(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":pi(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":pi(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":pi(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":pi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":pi(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Zd(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=NI.get(d)||d,Zd(i,d,p))}}function vg(i,o,d,p,g,N){switch(d){case"style":Nj(i,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"children":typeof p=="string"?so(i,p):(typeof p=="number"||typeof p=="bigint")&&so(i,""+p);break;case"onScroll":p!=null&&ct("scroll",i);break;case"onScrollEnd":p!=null&&ct("scrollend",i);break;case"onClick":p!=null&&(i.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ia.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(g=d.endsWith("Capture"),o=d.slice(2,g?d.length-7:void 0),N=i[Gr]||null,N=N!=null?N[d]:null,typeof N=="function"&&i.removeEventListener(o,N,g),typeof p=="function")){typeof N!="function"&&N!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(o,p,g);break e}d in i?i[d]=p:p===!0?i.setAttribute(d,""):Zd(i,d,p)}}}function qr(i,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",i),ct("load",i);var p=!1,g=!1,N;for(N in d)if(d.hasOwnProperty(N)){var D=d[N];if(D!=null)switch(N){case"src":p=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Rt(i,o,N,D,d,null)}}g&&Rt(i,o,"srcSet",d.srcSet,d,null),p&&Rt(i,o,"src",d.src,d,null);return;case"input":ct("invalid",i);var I=N=D=g=null,q=null,ee=null;for(p in d)if(d.hasOwnProperty(p)){var de=d[p];if(de!=null)switch(p){case"name":g=de;break;case"type":D=de;break;case"checked":q=de;break;case"defaultChecked":ee=de;break;case"value":N=de;break;case"defaultValue":I=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:Rt(i,o,p,de,d,null)}}bj(i,N,I,q,ee,D,g,!1);return;case"select":ct("invalid",i),p=D=N=null;for(g in d)if(d.hasOwnProperty(g)&&(I=d[g],I!=null))switch(g){case"value":N=I;break;case"defaultValue":D=I;break;case"multiple":p=I;default:Rt(i,o,g,I,d,null)}o=N,d=D,i.multiple=!!p,o!=null?io(i,!!p,o,!1):d!=null&&io(i,!!p,d,!0);return;case"textarea":ct("invalid",i),N=g=p=null;for(D in d)if(d.hasOwnProperty(D)&&(I=d[D],I!=null))switch(D){case"value":p=I;break;case"defaultValue":g=I;break;case"children":N=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:Rt(i,o,D,I,d,null)}wj(i,p,g,N);return;case"option":for(q in d)d.hasOwnProperty(q)&&(p=d[q],p!=null)&&(q==="selected"?i.selected=p&&typeof p!="function"&&typeof p!="symbol":Rt(i,o,q,p,d,null));return;case"dialog":ct("beforetoggle",i),ct("toggle",i),ct("cancel",i),ct("close",i);break;case"iframe":case"object":ct("load",i);break;case"video":case"audio":for(p=0;p<yu.length;p++)ct(yu[p],i);break;case"image":ct("error",i),ct("load",i);break;case"details":ct("toggle",i);break;case"embed":case"source":case"link":ct("error",i),ct("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in d)if(d.hasOwnProperty(ee)&&(p=d[ee],p!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Rt(i,o,ee,p,d,null)}return;default:if(Ev(o)){for(de in d)d.hasOwnProperty(de)&&(p=d[de],p!==void 0&&vg(i,o,de,p,d,void 0));return}}for(I in d)d.hasOwnProperty(I)&&(p=d[I],p!=null&&Rt(i,o,I,p,d,null))}function QR(i,o,d,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,N=null,D=null,I=null,q=null,ee=null,de=null;for(le in d){var pe=d[le];if(d.hasOwnProperty(le)&&pe!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":q=pe;default:p.hasOwnProperty(le)||Rt(i,o,le,null,p,pe)}}for(var ae in p){var le=p[ae];if(pe=d[ae],p.hasOwnProperty(ae)&&(le!=null||pe!=null))switch(ae){case"type":N=le;break;case"name":g=le;break;case"checked":ee=le;break;case"defaultChecked":de=le;break;case"value":D=le;break;case"defaultValue":I=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:le!==pe&&Rt(i,o,ae,le,p,pe)}}Dv(i,D,I,q,ee,de,N,g);return;case"select":le=D=I=ae=null;for(N in d)if(q=d[N],d.hasOwnProperty(N)&&q!=null)switch(N){case"value":break;case"multiple":le=q;default:p.hasOwnProperty(N)||Rt(i,o,N,null,p,q)}for(g in p)if(N=p[g],q=d[g],p.hasOwnProperty(g)&&(N!=null||q!=null))switch(g){case"value":ae=N;break;case"defaultValue":I=N;break;case"multiple":D=N;default:N!==q&&Rt(i,o,g,N,p,q)}o=I,d=D,p=le,ae!=null?io(i,!!d,ae,!1):!!p!=!!d&&(o!=null?io(i,!!d,o,!0):io(i,!!d,d?[]:"",!1));return;case"textarea":le=ae=null;for(I in d)if(g=d[I],d.hasOwnProperty(I)&&g!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Rt(i,o,I,null,p,g)}for(D in p)if(g=p[D],N=d[D],p.hasOwnProperty(D)&&(g!=null||N!=null))switch(D){case"value":ae=g;break;case"defaultValue":le=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==N&&Rt(i,o,D,g,p,N)}yj(i,ae,le);return;case"option":for(var Ie in d)ae=d[Ie],d.hasOwnProperty(Ie)&&ae!=null&&!p.hasOwnProperty(Ie)&&(Ie==="selected"?i.selected=!1:Rt(i,o,Ie,null,p,ae));for(q in p)ae=p[q],le=d[q],p.hasOwnProperty(q)&&ae!==le&&(ae!=null||le!=null)&&(q==="selected"?i.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":Rt(i,o,q,ae,p,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in d)ae=d[Ve],d.hasOwnProperty(Ve)&&ae!=null&&!p.hasOwnProperty(Ve)&&Rt(i,o,Ve,null,p,ae);for(ee in p)if(ae=p[ee],le=d[ee],p.hasOwnProperty(ee)&&ae!==le&&(ae!=null||le!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,o));break;default:Rt(i,o,ee,ae,p,le)}return;default:if(Ev(o)){for(var Lt in d)ae=d[Lt],d.hasOwnProperty(Lt)&&ae!==void 0&&!p.hasOwnProperty(Lt)&&vg(i,o,Lt,void 0,p,ae);for(de in p)ae=p[de],le=d[de],!p.hasOwnProperty(de)||ae===le||ae===void 0&&le===void 0||vg(i,o,de,ae,p,le);return}}for(var V in d)ae=d[V],d.hasOwnProperty(V)&&ae!=null&&!p.hasOwnProperty(V)&&Rt(i,o,V,null,p,ae);for(pe in p)ae=p[pe],le=d[pe],!p.hasOwnProperty(pe)||ae===le||ae==null&&le==null||Rt(i,o,pe,ae,p,le)}function S2(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XR(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var g=d[p],N=g.transferSize,D=g.initiatorType,I=g.duration;if(N&&I&&S2(D)){for(D=0,I=g.responseEnd,p+=1;p<d.length;p++){var q=d[p],ee=q.startTime;if(ee>I)break;var de=q.transferSize,pe=q.initiatorType;de&&S2(pe)&&(q=q.responseEnd,D+=de*(q<I?1:(I-ee)/(q-ee)))}if(--p,o+=8*(N+D)/(g.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var xg=null,gg=null;function Xf(i){return i.nodeType===9?i:i.ownerDocument}function C2(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A2(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function bg(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var yg=null;function ZR(){var i=window.event;return i&&i.type==="popstate"?i===yg?!1:(yg=i,!0):(yg=null,!1)}var M2=typeof setTimeout=="function"?setTimeout:void 0,JR=typeof clearTimeout=="function"?clearTimeout:void 0,D2=typeof Promise=="function"?Promise:void 0,eL=typeof queueMicrotask=="function"?queueMicrotask:typeof D2<"u"?function(i){return D2.resolve(null).then(i).catch(tL)}:M2;function tL(i){setTimeout(function(){throw i})}function Ms(i){return i==="head"}function k2(i,o){var d=o,p=0;do{var g=d.nextSibling;if(i.removeChild(d),g&&g.nodeType===8)if(d=g.data,d==="/$"||d==="/&"){if(p===0){i.removeChild(g),zo(o);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")ju(i.ownerDocument.documentElement);else if(d==="head"){d=i.ownerDocument.head,ju(d);for(var N=d.firstChild;N;){var D=N.nextSibling,I=N.nodeName;N[il]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=D}}else d==="body"&&ju(i.ownerDocument.body);d=g}while(d);zo(o)}function E2(i,o){var d=i;i=0;do{var p=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(i===0)break;i--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||i++;d=p}while(d)}function wg(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":wg(d),Bc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function rL(i,o,d,p){for(;i.nodeType===1;){var g=d;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[il])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(N=i.getAttribute("rel"),N==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(N!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(N=i.getAttribute("src"),(N!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&N&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var N=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===N)return i}else return i;if(i=Zn(i.nextSibling),i===null)break}return null}function nL(i,o,d){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=Zn(i.nextSibling),i===null))return null;return i}function _2(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Zn(i.nextSibling),i===null))return null;return i}function jg(i){return i.data==="$?"||i.data==="$~"}function Ng(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function aL(i,o){var d=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||d.readyState!=="loading")o();else{var p=function(){o(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function Zn(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var Sg=null;function O2(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"||d==="/&"){if(o===0)return Zn(i.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}i=i.nextSibling}return null}function T2(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return i;o--}else d!=="/$"&&d!=="/&"||o++}i=i.previousSibling}return null}function P2(i,o,d){switch(o=Xf(d),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function ju(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Bc(i)}var Jn=new Map,I2=new Set;function Zf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var _i=G.d;G.d={f:iL,r:sL,D:lL,C:oL,L:cL,m:uL,X:fL,S:dL,M:mL};function iL(){var i=_i.f(),o=Hf();return i||o}function sL(i){var o=cs(i);o!==null&&o.tag===5&&o.type==="form"?ZN(o):_i.r(i)}var Io=typeof document>"u"?null:document;function R2(i,o,d){var p=Io;if(p&&typeof o=="string"&&o){var g=Yn(o);g='link[rel="'+i+'"][href="'+g+'"]',typeof d=="string"&&(g+='[crossorigin="'+d+'"]'),I2.has(g)||(I2.add(g),i={rel:i,crossOrigin:d,href:o},p.querySelector(g)===null&&(o=p.createElement("link"),qr(o,"link",i),xt(o),p.head.appendChild(o)))}}function lL(i){_i.D(i),R2("dns-prefetch",i,null)}function oL(i,o){_i.C(i,o),R2("preconnect",i,o)}function cL(i,o,d){_i.L(i,o,d);var p=Io;if(p&&i&&o){var g='link[rel="preload"][as="'+Yn(o)+'"]';o==="image"&&d&&d.imageSrcSet?(g+='[imagesrcset="'+Yn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(g+='[imagesizes="'+Yn(d.imageSizes)+'"]')):g+='[href="'+Yn(i)+'"]';var N=g;switch(o){case"style":N=Ro(i);break;case"script":N=Lo(i)}Jn.has(N)||(i=v({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:i,as:o},d),Jn.set(N,i),p.querySelector(g)!==null||o==="style"&&p.querySelector(Nu(N))||o==="script"&&p.querySelector(Su(N))||(o=p.createElement("link"),qr(o,"link",i),xt(o),p.head.appendChild(o)))}}function uL(i,o){_i.m(i,o);var d=Io;if(d&&i){var p=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+Yn(p)+'"][href="'+Yn(i)+'"]',N=g;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Lo(i)}if(!Jn.has(N)&&(i=v({rel:"modulepreload",href:i},o),Jn.set(N,i),d.querySelector(g)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Su(N)))return}p=d.createElement("link"),qr(p,"link",i),xt(p),d.head.appendChild(p)}}}function dL(i,o,d){_i.S(i,o,d);var p=Io;if(p&&i){var g=ye(p).hoistableStyles,N=Ro(i);o=o||"default";var D=g.get(N);if(!D){var I={loading:0,preload:null};if(D=p.querySelector(Nu(N)))I.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":o},d),(d=Jn.get(N))&&Cg(i,d);var q=D=p.createElement("link");xt(q),qr(q,"link",i),q._p=new Promise(function(ee,de){q.onload=ee,q.onerror=de}),q.addEventListener("load",function(){I.loading|=1}),q.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Jf(D,o,p)}D={type:"stylesheet",instance:D,count:1,state:I},g.set(N,D)}}}function fL(i,o){_i.X(i,o);var d=Io;if(d&&i){var p=ye(d).hoistableScripts,g=Lo(i),N=p.get(g);N||(N=d.querySelector(Su(g)),N||(i=v({src:i,async:!0},o),(o=Jn.get(g))&&Ag(i,o),N=d.createElement("script"),xt(N),qr(N,"link",i),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(g,N))}}function mL(i,o){_i.M(i,o);var d=Io;if(d&&i){var p=ye(d).hoistableScripts,g=Lo(i),N=p.get(g);N||(N=d.querySelector(Su(g)),N||(i=v({src:i,async:!0,type:"module"},o),(o=Jn.get(g))&&Ag(i,o),N=d.createElement("script"),xt(N),qr(N,"link",i),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(g,N))}}function L2(i,o,d,p){var g=(g=Re.current)?Zf(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=Ro(d.href),d=ye(g).hoistableStyles,p=d.get(o),p||(p={type:"style",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=Ro(d.href);var N=ye(g).hoistableStyles,D=N.get(i);if(D||(g=g.ownerDocument||g,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(i,D),(N=g.querySelector(Nu(i)))&&!N._p&&(D.instance=N,D.state.loading=5),Jn.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Jn.set(i,d),N||pL(g,i,d,D.state))),o&&p===null)throw Error(r(528,""));return D}if(o&&p!==null)throw Error(r(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Lo(d),d=ye(g).hoistableScripts,p=d.get(o),p||(p={type:"script",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ro(i){return'href="'+Yn(i)+'"'}function Nu(i){return'link[rel="stylesheet"]['+i+"]"}function z2(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function pL(i,o,d,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),qr(o,"link",d),xt(o),i.head.appendChild(o))}function Lo(i){return'[src="'+Yn(i)+'"]'}function Su(i){return"script[async]"+i}function F2(i,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+Yn(d.href)+'"]');if(p)return o.instance=p,xt(p),p;var g=v({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),xt(p),qr(p,"style",g),Jf(p,d.precedence,i),o.instance=p;case"stylesheet":g=Ro(d.href);var N=i.querySelector(Nu(g));if(N)return o.state.loading|=4,o.instance=N,xt(N),N;p=z2(d),(g=Jn.get(g))&&Cg(p,g),N=(i.ownerDocument||i).createElement("link"),xt(N);var D=N;return D._p=new Promise(function(I,q){D.onload=I,D.onerror=q}),qr(N,"link",p),o.state.loading|=4,Jf(N,d.precedence,i),o.instance=N;case"script":return N=Lo(d.src),(g=i.querySelector(Su(N)))?(o.instance=g,xt(g),g):(p=d,(g=Jn.get(N))&&(p=v({},d),Ag(p,g)),i=i.ownerDocument||i,g=i.createElement("script"),xt(g),qr(g,"link",p),i.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Jf(p,d.precedence,i));return o.instance}function Jf(i,o,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=p.length?p[p.length-1]:null,N=g,D=0;D<p.length;D++){var I=p[D];if(I.dataset.precedence===o)N=I;else if(N!==g)break}N?N.parentNode.insertBefore(i,N.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(i,o.firstChild))}function Cg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Ag(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var em=null;function B2(i,o,d){if(em===null){var p=new Map,g=em=new Map;g.set(d,p)}else g=em,p=g.get(d),p||(p=new Map,g.set(d,p));if(p.has(i))return p;for(p.set(i,null),d=d.getElementsByTagName(i),g=0;g<d.length;g++){var N=d[g];if(!(N[il]||N[Sr]||i==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var D=N.getAttribute(o)||"";D=i+D;var I=p.get(D);I?I.push(N):p.set(D,[N])}}return p}function $2(i,o,d){i=i.ownerDocument||i,i.head.insertBefore(d,o==="title"?i.querySelector("head > title"):null)}function hL(i,o,d){if(d===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(i=o.disabled,typeof o.precedence=="string"&&i==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function q2(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function vL(i,o,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var g=Ro(p.href),N=o.querySelector(Nu(g));if(N){o=N._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=tm.bind(i),o.then(i,i)),d.state.loading|=4,d.instance=N,xt(N);return}N=o.ownerDocument||o,p=z2(p),(g=Jn.get(g))&&Cg(p,g),N=N.createElement("link"),xt(N);var D=N;D._p=new Promise(function(I,q){D.onload=I,D.onerror=q}),qr(N,"link",p),d.instance=N}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(i.count++,d=tm.bind(i),o.addEventListener("load",d),o.addEventListener("error",d))}}var Mg=0;function xL(i,o){return i.stylesheets&&i.count===0&&nm(i,i.stylesheets),0<i.count||0<i.imgCount?function(d){var p=setTimeout(function(){if(i.stylesheets&&nm(i,i.stylesheets),i.unsuspend){var N=i.unsuspend;i.unsuspend=null,N()}},6e4+o);0<i.imgBytes&&Mg===0&&(Mg=62500*XR());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&nm(i,i.stylesheets),i.unsuspend)){var N=i.unsuspend;i.unsuspend=null,N()}},(i.imgBytes>Mg?50:800)+o);return i.unsuspend=d,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(g)}}:null}function tm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var rm=null;function nm(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,rm=new Map,o.forEach(gL,i),rm=null,tm.call(i))}function gL(i,o){if(!(o.state.loading&4)){var d=rm.get(i);if(d)var p=d.get(null);else{d=new Map,rm.set(i,d);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<g.length;N++){var D=g[N];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(d.set(D.dataset.precedence,D),p=D)}p&&d.set(null,p)}g=o.instance,D=g.getAttribute("data-precedence"),N=d.get(D)||p,N===p&&d.set(null,g),d.set(D,g),this.count++,p=tm.bind(this),g.addEventListener("load",p),g.addEventListener("error",p),N?N.parentNode.insertBefore(g,N.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),o.state.loading|=4}}var Cu={$$typeof:A,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function bL(i,o,d,p,g,N,D,I,q){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zr(0),this.hiddenUpdates=zr(null),this.identifierPrefix=p,this.onUncaughtError=g,this.onCaughtError=N,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function H2(i,o,d,p,g,N,D,I,q,ee,de,pe){return i=new bL(i,o,d,D,q,ee,de,pe,I),o=1,N===!0&&(o|=24),N=Mn(3,null,null,o),i.current=N,N.stateNode=i,o=sx(),o.refCount++,i.pooledCache=o,o.refCount++,N.memoizedState={element:p,isDehydrated:d,cache:o},ux(N),i}function U2(i){return i?(i=po,i):po}function Y2(i,o,d,p,g,N){g=U2(g),p.context===null?p.context=g:p.pendingContext=g,p=vs(o),p.payload={element:d},N=N===void 0?null:N,N!==null&&(p.callback=N),d=xs(i,p,o),d!==null&&(pn(d,i,o),nu(d,i,o))}function V2(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<o?d:o}}function Dg(i,o){V2(i,o),(i=i.alternate)&&V2(i,o)}function G2(i){if(i.tag===13||i.tag===31){var o=cl(i,67108864);o!==null&&pn(o,i,67108864),Dg(i,67108864)}}function K2(i){if(i.tag===13||i.tag===31){var o=On();o=Ta(o);var d=cl(i,o);d!==null&&pn(d,i,o),Dg(i,o)}}var am=!0;function yL(i,o,d,p){var g=$.T;$.T=null;var N=G.p;try{G.p=2,kg(i,o,d,p)}finally{G.p=N,$.T=g}}function wL(i,o,d,p){var g=$.T;$.T=null;var N=G.p;try{G.p=8,kg(i,o,d,p)}finally{G.p=N,$.T=g}}function kg(i,o,d,p){if(am){var g=Eg(p);if(g===null)hg(i,o,p,im,d),Q2(i,p);else if(NL(g,i,o,d,p))p.stopPropagation();else if(Q2(i,p),o&4&&-1<jL.indexOf(i)){for(;g!==null;){var N=cs(g);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var D=Xe(N.pendingLanes);if(D!==0){var I=N;for(I.pendingLanes|=2,I.entangledLanes|=2;D;){var q=1<<31-se(D);I.entanglements[1]|=q,D&=~q}Ba(N),(Nt&6)===0&&($f=nr()+500,bu(0))}}break;case 31:case 13:I=cl(N,2),I!==null&&pn(I,N,2),Hf(),Dg(N,2)}if(N=Eg(p),N===null&&hg(i,o,p,im,d),N===g)break;g=N}g!==null&&p.stopPropagation()}else hg(i,o,p,null,d)}}function Eg(i){return i=Ov(i),_g(i)}var im=null;function _g(i){if(im=null,i=os(i),i!==null){var o=s(i);if(o===null)i=null;else{var d=o.tag;if(d===13){if(i=c(o),i!==null)return i;i=null}else if(d===31){if(i=u(o),i!==null)return i;i=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return im=i,null}function W2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_a()){case Ue:return 2;case te:return 8;case me:case Oe:return 32;case rt:return 268435456;default:return 32}default:return 32}}var Og=!1,Ds=null,ks=null,Es=null,Au=new Map,Mu=new Map,_s=[],jL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q2(i,o){switch(i){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":Au.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mu.delete(o.pointerId)}}function Du(i,o,d,p,g,N){return i===null||i.nativeEvent!==N?(i={blockedOn:o,domEventName:d,eventSystemFlags:p,nativeEvent:N,targetContainers:[g]},o!==null&&(o=cs(o),o!==null&&G2(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function NL(i,o,d,p,g){switch(o){case"focusin":return Ds=Du(Ds,i,o,d,p,g),!0;case"dragenter":return ks=Du(ks,i,o,d,p,g),!0;case"mouseover":return Es=Du(Es,i,o,d,p,g),!0;case"pointerover":var N=g.pointerId;return Au.set(N,Du(Au.get(N)||null,i,o,d,p,g)),!0;case"gotpointercapture":return N=g.pointerId,Mu.set(N,Du(Mu.get(N)||null,i,o,d,p,g)),!0}return!1}function X2(i){var o=os(i.target);if(o!==null){var d=s(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){i.blockedOn=o,ss(i.priority,function(){K2(d)});return}}else if(o===31){if(o=u(d),o!==null){i.blockedOn=o,ss(i.priority,function(){K2(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function sm(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var d=Eg(i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);_v=p,d.target.dispatchEvent(p),_v=null}else return o=cs(d),o!==null&&G2(o),i.blockedOn=d,!1;o.shift()}return!0}function Z2(i,o,d){sm(i)&&d.delete(o)}function SL(){Og=!1,Ds!==null&&sm(Ds)&&(Ds=null),ks!==null&&sm(ks)&&(ks=null),Es!==null&&sm(Es)&&(Es=null),Au.forEach(Z2),Mu.forEach(Z2)}function lm(i,o){i.blockedOn===o&&(i.blockedOn=null,Og||(Og=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,SL)))}var om=null;function J2(i){om!==i&&(om=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){om===i&&(om=null);for(var o=0;o<i.length;o+=3){var d=i[o],p=i[o+1],g=i[o+2];if(typeof p!="function"){if(_g(p||d)===null)continue;break}var N=cs(d);N!==null&&(i.splice(o,3),o-=3,Ex(N,{pending:!0,data:g,method:d.method,action:p},p,g))}}))}function zo(i){function o(q){return lm(q,i)}Ds!==null&&lm(Ds,i),ks!==null&&lm(ks,i),Es!==null&&lm(Es,i),Au.forEach(o),Mu.forEach(o);for(var d=0;d<_s.length;d++){var p=_s[d];p.blockedOn===i&&(p.blockedOn=null)}for(;0<_s.length&&(d=_s[0],d.blockedOn===null);)X2(d),d.blockedOn===null&&_s.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var g=d[p],N=d[p+1],D=g[Gr]||null;if(typeof N=="function")D||J2(d);else if(D){var I=null;if(N&&N.hasAttribute("formAction")){if(g=N,D=N[Gr]||null)I=D.formAction;else if(_g(g)!==null)continue}else I=D.action;typeof I=="function"?d[p+1]=I:(d.splice(p,3),p-=3),J2(d)}}}function eC(){function i(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(D){return g=D})},focusReset:"manual",scroll:"manual"})}function o(){g!==null&&(g(),g=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),g!==null&&(g(),g=null)}}}function Tg(i){this._internalRoot=i}cm.prototype.render=Tg.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var d=o.current,p=On();Y2(d,p,i,o,null,null)},cm.prototype.unmount=Tg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Y2(i.current,2,null,i,null,null),Hf(),o[ls]=null}};function cm(i){this._internalRoot=i}cm.prototype.unstable_scheduleHydration=function(i){if(i){var o=al();i={blockedOn:null,target:i,priority:o};for(var d=0;d<_s.length&&o!==0&&o<_s[d].priority;d++);_s.splice(d,0,i),d===0&&X2(i)}};var tC=t.version;if(tC!=="19.2.4")throw Error(r(527,tC,"19.2.4"));G.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(o),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var CL={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var um=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!um.isDisabled&&um.supportsFiber)try{je=um.inject(CL),De=um}catch{}}return Eu.createRoot=function(i,o){if(!a(i))throw Error(r(299));var d=!1,p="",g=oS,N=cS,D=uS;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(D=o.onRecoverableError)),o=H2(i,1,!1,null,null,d,p,null,g,N,D,eC),i[ls]=o.current,pg(i),new Tg(o)},Eu.hydrateRoot=function(i,o,d){if(!a(i))throw Error(r(299));var p=!1,g="",N=oS,D=cS,I=uS,q=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(g=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(D=d.onCaughtError),d.onRecoverableError!==void 0&&(I=d.onRecoverableError),d.formState!==void 0&&(q=d.formState)),o=H2(i,1,!0,o,d??null,p,g,q,N,D,I,eC),o.context=U2(null),d=o.current,p=On(),p=Ta(p),g=vs(p),g.callback=null,xs(d,g,p),d=p,o.current.lanes=d,vr(o,d),Ba(o),i[ls]=o.current,pg(i),new cm(o)},Eu.version="19.2.4",Eu}var dC;function IL(){if(dC)return Rg.exports;dC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Rg.exports=PL(),Rg.exports}var RL=IL();var fC="popstate";function LL(e={}){function t(r,a){let{pathname:s,search:c,hash:u}=r.location;return Vb("",{pathname:s,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:nd(a)}return FL(t,n,null,e)}function Jt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ca(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zL(){return Math.random().toString(36).substring(2,10)}function mC(e,t){return{usr:e.state,key:e.key,idx:t}}function Vb(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Nc(t):t,state:n,key:t&&t.key||r||zL()}}function nd({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Nc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function FL(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:s=!1}=r,c=a.history,u="POP",f=null,m=h();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function h(){return(c.state||{idx:null}).idx}function v(){u="POP";let y=h(),C=y==null?null:y-m;m=y,f&&f({action:u,location:w.location,delta:C})}function x(y,C){u="PUSH";let M=Vb(w.location,y,C);m=h()+1;let A=mC(M,m),_=w.createHref(M);try{c.pushState(A,"",_)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(_)}s&&f&&f({action:u,location:w.location,delta:1})}function b(y,C){u="REPLACE";let M=Vb(w.location,y,C);m=h();let A=mC(M,m),_=w.createHref(M);c.replaceState(A,"",_),s&&f&&f({action:u,location:w.location,delta:0})}function S(y){return BL(y)}let w={get action(){return u},get location(){return e(a,c)},listen(y){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(fC,v),f=y,()=>{a.removeEventListener(fC,v),f=null}},createHref(y){return t(a,y)},createURL:S,encodeLocation(y){let C=S(y);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:b,go(y){return c.go(y)}};return w}function BL(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Jt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:nd(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function L_(e,t,n="/"){return $L(e,t,n,!1)}function $L(e,t,n,r){let a=typeof t=="string"?Nc(t):t,s=qi(a.pathname||"/",n);if(s==null)return null;let c=z_(e);qL(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let m=JL(s);u=XL(c[f],m,r)}return u}function z_(e,t=[],n=[],r="",a=!1){let s=(c,u,f=a,m)=>{let h={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&f)return;Jt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let v=zi([r,h.relativePath]),x=n.concat(h);c.children&&c.children.length>0&&(Jt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),z_(c.children,t,x,v,f)),!(c.path==null&&!c.index)&&t.push({path:v,score:WL(v,c.index),routesMeta:x})};return e.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))s(c,u);else for(let f of F_(c.path))s(c,u,!0,f)}),t}function F_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let c=F_(r.join("/")),u=[];return u.push(...c.map(f=>f===""?s:[s,f].join("/"))),a&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function qL(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:QL(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var HL=/^:[\w-]+$/,UL=3,YL=2,VL=1,GL=10,KL=-2,pC=e=>e==="*";function WL(e,t){let n=e.split("/"),r=n.length;return n.some(pC)&&(r+=KL),t&&(r+=YL),n.filter(a=>!pC(a)).reduce((a,s)=>a+(HL.test(s)?UL:s===""?VL:GL),r)}function QL(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function XL(e,t,n=!1){let{routesMeta:r}=e,a={},s="/",c=[];for(let u=0;u<r.length;++u){let f=r[u],m=u===r.length-1,h=s==="/"?t:t.slice(s.length)||"/",v=mp({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},h),x=f.route;if(!v&&m&&n&&!r[r.length-1].route.index&&(v=mp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:zi([s,v.pathname]),pathnameBase:n6(zi([s,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(s=zi([s,v.pathnameBase]))}return c}function mp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ZL(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],c=s.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((m,{paramName:h,isOptional:v},x)=>{if(h==="*"){let S=u[x]||"";c=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const b=u[x];return v&&!b?m[h]=void 0:m[h]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:c,pattern:e}}function ZL(e,t=!1,n=!0){Ca(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function JL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ca(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function qi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var e6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function t6(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Nc(e):e,s;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?s=hC(n.substring(1),"/"):s=hC(n,t)):s=t,{pathname:s,search:a6(r),hash:i6(a)}}function hC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Bg(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function r6(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function r1(e){let t=r6(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function n1(e,t,n,r=!1){let a;typeof e=="string"?a=Nc(e):(a={...e},Jt(!a.pathname||!a.pathname.includes("?"),Bg("?","pathname","search",a)),Jt(!a.pathname||!a.pathname.includes("#"),Bg("#","pathname","hash",a)),Jt(!a.search||!a.search.includes("#"),Bg("#","search","hash",a)));let s=e===""||a.pathname==="",c=s?"/":a.pathname,u;if(c==null)u=n;else{let v=t.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}u=v>=0?t[v]:"/"}let f=t6(a,u),m=c&&c!=="/"&&c.endsWith("/"),h=(s||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||h)&&(f.pathname+="/"),f}var zi=e=>e.join("/").replace(/\/\/+/g,"/"),n6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),a6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,i6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,s6=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function l6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function o6(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var B_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $_(e,t){let n=e;if(typeof n!="string"||!e6.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(B_)try{let s=new URL(window.location.href),c=n.startsWith("//")?new URL(s.protocol+n):new URL(n),u=qi(c.pathname,t);c.origin===s.origin&&u!=null?n=u+c.search+c.hash:a=!0}catch{Ca(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var q_=["POST","PUT","PATCH","DELETE"];new Set(q_);var c6=["GET",...q_];new Set(c6);var Sc=j.createContext(null);Sc.displayName="DataRouter";var Sh=j.createContext(null);Sh.displayName="DataRouterState";var u6=j.createContext(!1),H_=j.createContext({isTransitioning:!1});H_.displayName="ViewTransition";var d6=j.createContext(new Map);d6.displayName="Fetchers";var f6=j.createContext(null);f6.displayName="Await";var Hn=j.createContext(null);Hn.displayName="Navigation";var Sd=j.createContext(null);Sd.displayName="Location";var Da=j.createContext({outlet:null,matches:[],isDataRoute:!1});Da.displayName="Route";var a1=j.createContext(null);a1.displayName="RouteError";var U_="REACT_ROUTER_ERROR",m6="REDIRECT",p6="ROUTE_ERROR_RESPONSE";function h6(e){if(e.startsWith(`${U_}:${m6}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function v6(e){if(e.startsWith(`${U_}:${p6}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new s6(t.status,t.statusText,t.data)}catch{}}function x6(e,{relative:t}={}){Jt(Cc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(Hn),{hash:a,pathname:s,search:c}=Cd(e,{relative:t}),u=s;return n!=="/"&&(u=s==="/"?n:zi([n,s])),r.createHref({pathname:u,search:c,hash:a})}function Cc(){return j.useContext(Sd)!=null}function ca(){return Jt(Cc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Sd).location}var Y_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function V_(e){j.useContext(Hn).static||j.useLayoutEffect(e)}function Jl(){let{isDataRoute:e}=j.useContext(Da);return e?O6():g6()}function g6(){Jt(Cc(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(Sc),{basename:t,navigator:n}=j.useContext(Hn),{matches:r}=j.useContext(Da),{pathname:a}=ca(),s=JSON.stringify(r1(r)),c=j.useRef(!1);return V_(()=>{c.current=!0}),j.useCallback((f,m={})=>{if(Ca(c.current,Y_),!c.current)return;if(typeof f=="number"){n.go(f);return}let h=n1(f,JSON.parse(s),a,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:zi([t,h.pathname])),(m.replace?n.replace:n.push)(h,m.state,m)},[t,n,s,a,e])}var b6=j.createContext(null);function y6(e){let t=j.useContext(Da).outlet;return j.useMemo(()=>t&&j.createElement(b6.Provider,{value:e},t),[t,e])}function Cd(e,{relative:t}={}){let{matches:n}=j.useContext(Da),{pathname:r}=ca(),a=JSON.stringify(r1(n));return j.useMemo(()=>n1(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function w6(e,t){return G_(e,t)}function G_(e,t,n,r,a){Jt(Cc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext(Hn),{matches:c}=j.useContext(Da),u=c[c.length-1],f=u?u.params:{},m=u?u.pathname:"/",h=u?u.pathnameBase:"/",v=u&&u.route;{let M=v&&v.path||"";W_(m,!v||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let x=ca(),b;if(t){let M=typeof t=="string"?Nc(t):t;Jt(h==="/"||M.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${M.pathname}" was given in the \`location\` prop.`),b=M}else b=x;let S=b.pathname||"/",w=S;if(h!=="/"){let M=h.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(M.length).join("/")}let y=L_(e,{pathname:w});Ca(v||y!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ca(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=A6(y&&y.map(M=>Object.assign({},M,{params:Object.assign({},f,M.params),pathname:zi([h,s.encodeLocation?s.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?h:zi([h,s.encodeLocation?s.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),c,n,r,a);return t&&C?j.createElement(Sd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function j6(){let e=_6(),t=l6(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:s},"ErrorBoundary")," or"," ",j.createElement("code",{style:s},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:a},n):null,c)}var N6=j.createElement(j6,null),K_=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=v6(e.digest);n&&(e=n)}let t=e!==void 0?j.createElement(Da.Provider,{value:this.props.routeContext},j.createElement(a1.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?j.createElement(S6,{error:e},t):t}};K_.contextType=u6;var $g=new WeakMap;function S6({children:e,error:t}){let{basename:n}=j.useContext(Hn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=h6(t.digest);if(r){let a=$g.get(t);if(a)throw a;let s=$_(r.location,n);if(B_&&!$g.get(t))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw $g.set(t,c),c}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function C6({routeContext:e,match:t,children:n}){let r=j.useContext(Sc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Da.Provider,{value:e},n)}function A6(e,t=[],n=null,r=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,c=n?.errors;if(c!=null){let h=s.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);Jt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let u=!1,f=-1;if(n)for(let h=0;h<s.length;h++){let v=s[h];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=h),v.route.id){let{loaderData:x,errors:b}=n,S=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!b||b[v.route.id]===void 0);if(v.route.lazy||S){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let m=n&&r?(h,v)=>{r(h,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:o6(n.matches),errorInfo:v})}:void 0;return s.reduceRight((h,v,x)=>{let b,S=!1,w=null,y=null;n&&(b=c&&v.route.id?c[v.route.id]:void 0,w=v.route.errorElement||N6,u&&(f<0&&x===0?(W_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,y=null):f===x&&(S=!0,y=v.route.hydrateFallbackElement||null)));let C=t.concat(s.slice(0,x+1)),M=()=>{let A;return b?A=w:S?A=y:v.route.Component?A=j.createElement(v.route.Component,null):v.route.element?A=v.route.element:A=h,j.createElement(C6,{match:v,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:A})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?j.createElement(K_,{location:n.location,revalidation:n.revalidation,component:w,error:b,children:M(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:m}):M()},null)}function i1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M6(e){let t=j.useContext(Sc);return Jt(t,i1(e)),t}function D6(e){let t=j.useContext(Sh);return Jt(t,i1(e)),t}function k6(e){let t=j.useContext(Da);return Jt(t,i1(e)),t}function s1(e){let t=k6(e),n=t.matches[t.matches.length-1];return Jt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function E6(){return s1("useRouteId")}function _6(){let e=j.useContext(a1),t=D6("useRouteError"),n=s1("useRouteError");return e!==void 0?e:t.errors?.[n]}function O6(){let{router:e}=M6("useNavigate"),t=s1("useNavigate"),n=j.useRef(!1);return V_(()=>{n.current=!0}),j.useCallback(async(a,s={})=>{Ca(n.current,Y_),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var vC={};function W_(e,t,n){!t&&!vC[e]&&(vC[e]=!0,Ca(!1,n))}j.memo(T6);function T6({routes:e,future:t,state:n,onError:r}){return G_(e,void 0,n,r,t)}function pp({to:e,replace:t,state:n,relative:r}){Jt(Cc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext(Hn);Ca(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=j.useContext(Da),{pathname:c}=ca(),u=Jl(),f=n1(e,r1(s),c,r==="path"),m=JSON.stringify(f);return j.useEffect(()=>{u(JSON.parse(m),{replace:t,state:n,relative:r})},[u,m,r,t,n]),null}function Q_(e){return y6(e.context)}function Qt(e){Jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function P6({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:s=!1,unstable_useTransitions:c}){Jt(!Cc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:u,navigator:a,static:s,unstable_useTransitions:c,future:{}}),[u,a,s,c]);typeof n=="string"&&(n=Nc(n));let{pathname:m="/",search:h="",hash:v="",state:x=null,key:b="default"}=n,S=j.useMemo(()=>{let w=qi(m,u);return w==null?null:{location:{pathname:w,search:h,hash:v,state:x,key:b},navigationType:r}},[u,m,h,v,x,b,r]);return Ca(S!=null,`<Router basename="${u}"> is not able to match the URL "${m}${h}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:j.createElement(Hn.Provider,{value:f},j.createElement(Sd.Provider,{children:t,value:S}))}function I6({children:e,location:t}){return w6(Gb(e),t)}function Gb(e,t=[]){let n=[];return j.Children.forEach(e,(r,a)=>{if(!j.isValidElement(r))return;let s=[...t,a];if(r.type===j.Fragment){n.push.apply(n,Gb(r.props.children,s));return}Jt(r.type===Qt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Jt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Gb(r.props.children,s)),n.push(c)}),n}var Xm="get",Zm="application/x-www-form-urlencoded";function Ch(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function R6(e){return Ch(e)&&e.tagName.toLowerCase()==="button"}function L6(e){return Ch(e)&&e.tagName.toLowerCase()==="form"}function z6(e){return Ch(e)&&e.tagName.toLowerCase()==="input"}function F6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function B6(e,t){return e.button===0&&(!t||t==="_self")&&!F6(e)}var dm=null;function $6(){if(dm===null)try{new FormData(document.createElement("form"),0),dm=!1}catch{dm=!0}return dm}var q6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qg(e){return e!=null&&!q6.has(e)?(Ca(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zm}"`),null):e}function H6(e,t){let n,r,a,s,c;if(L6(e)){let u=e.getAttribute("action");r=u?qi(u,t):null,n=e.getAttribute("method")||Xm,a=qg(e.getAttribute("enctype"))||Zm,s=new FormData(e)}else if(R6(e)||z6(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(r=f?qi(f,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||Xm,a=qg(e.getAttribute("formenctype"))||qg(u.getAttribute("enctype"))||Zm,s=new FormData(u,e),!$6()){let{name:m,type:h,value:v}=e;if(h==="image"){let x=m?`${m}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else m&&s.append(m,v)}}else{if(Ch(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xm,r=null,a=Zm,c=e}return s&&a==="text/plain"&&(c=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function l1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function U6(e,t,n,r){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:t&&qi(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function Y6(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function V6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function G6(e,t,n){let r=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let c=await Y6(s,n);return c.links?c.links():[]}return[]}));return X6(r.flat(1).filter(V6).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function xC(e,t,n,r,a,s){let c=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,u=(f,m)=>n[m].pathname!==f.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==f.params["*"];return s==="assets"?t.filter((f,m)=>c(f,m)||u(f,m)):s==="data"?t.filter((f,m)=>{let h=r.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(c(f,m)||u(f,m))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function K6(e,t,{includeHydrateFallback:n}={}){return W6(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function W6(e){return[...new Set(e)]}function Q6(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function X6(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let s=JSON.stringify(Q6(a));return n.has(s)||(n.add(s),r.push({key:s,link:a})),r},[])}function X_(){let e=j.useContext(Sc);return l1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Z6(){let e=j.useContext(Sh);return l1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var o1=j.createContext(void 0);o1.displayName="FrameworkContext";function Z_(){let e=j.useContext(o1);return l1(e,"You must render this element inside a <HydratedRouter> element"),e}function J6(e,t){let n=j.useContext(o1),[r,a]=j.useState(!1),[s,c]=j.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:m,onMouseLeave:h,onTouchStart:v}=t,x=j.useRef(null);j.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let w=C=>{C.forEach(M=>{c(M.isIntersecting)})},y=new IntersectionObserver(w,{threshold:.5});return x.current&&y.observe(x.current),()=>{y.disconnect()}}},[e]),j.useEffect(()=>{if(r){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[r]);let b=()=>{a(!0)},S=()=>{a(!1),c(!1)};return n?e!=="intent"?[s,x,{}]:[s,x,{onFocus:_u(u,b),onBlur:_u(f,S),onMouseEnter:_u(m,b),onMouseLeave:_u(h,S),onTouchStart:_u(v,b)}]:[!1,x,{}]}function _u(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ez({page:e,...t}){let{router:n}=X_(),r=j.useMemo(()=>L_(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?j.createElement(rz,{page:e,matches:r,...t}):null}function tz(e){let{manifest:t,routeModules:n}=Z_(),[r,a]=j.useState([]);return j.useEffect(()=>{let s=!1;return G6(e,t,n).then(c=>{s||a(c)}),()=>{s=!0}},[e,t,n]),r}function rz({page:e,matches:t,...n}){let r=ca(),{future:a,manifest:s,routeModules:c}=Z_(),{basename:u}=X_(),{loaderData:f,matches:m}=Z6(),h=j.useMemo(()=>xC(e,t,m,s,r,"data"),[e,t,m,s,r]),v=j.useMemo(()=>xC(e,t,m,s,r,"assets"),[e,t,m,s,r]),x=j.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,y=!1;if(t.forEach(M=>{let A=s.routes[M.route.id];!A||!A.hasLoader||(!h.some(_=>_.route.id===M.route.id)&&M.route.id in f&&c[M.route.id]?.shouldRevalidate||A.hasClientLoader?y=!0:w.add(M.route.id))}),w.size===0)return[];let C=U6(e,u,a.unstable_trailingSlashAwareDataRequests,"data");return y&&w.size>0&&C.searchParams.set("_routes",t.filter(M=>w.has(M.route.id)).map(M=>M.route.id).join(",")),[C.pathname+C.search]},[u,a.unstable_trailingSlashAwareDataRequests,f,r,s,h,t,e,c]),b=j.useMemo(()=>K6(v,s),[v,s]),S=tz(v);return j.createElement(j.Fragment,null,x.map(w=>j.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),b.map(w=>j.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),S.map(({key:w,link:y})=>j.createElement("link",{key:w,nonce:n.nonce,...y,crossOrigin:y.crossOrigin??n.crossOrigin})))}function nz(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var az=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{az&&(window.__reactRouterVersion="7.13.0")}catch{}function iz({basename:e,children:t,unstable_useTransitions:n,window:r}){let a=j.useRef();a.current==null&&(a.current=LL({window:r,v5Compat:!0}));let s=a.current,[c,u]=j.useState({action:s.action,location:s.location}),f=j.useCallback(m=>{n===!1?u(m):j.startTransition(()=>u(m))},[n]);return j.useLayoutEffect(()=>s.listen(f),[s,f]),j.createElement(P6,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:s,unstable_useTransitions:n})}var J_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xo=j.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:s,replace:c,state:u,target:f,to:m,preventScrollReset:h,viewTransition:v,unstable_defaultShouldRevalidate:x,...b},S){let{basename:w,unstable_useTransitions:y}=j.useContext(Hn),C=typeof m=="string"&&J_.test(m),M=$_(m,w);m=M.to;let A=x6(m,{relative:a}),[_,E,T]=J6(r,b),P=oz(m,{replace:c,state:u,target:f,preventScrollReset:h,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:x,unstable_useTransitions:y});function O(R){t&&t(R),R.defaultPrevented||P(R)}let L=j.createElement("a",{...b,...T,href:M.absoluteURL||A,onClick:M.isExternal||s?t:O,ref:nz(S,E),target:f,"data-discover":!C&&n==="render"?"true":void 0});return _&&!C?j.createElement(j.Fragment,null,L,j.createElement(ez,{page:A})):L});Xo.displayName="Link";var c1=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:s,to:c,viewTransition:u,children:f,...m},h){let v=Cd(c,{relative:m.relative}),x=ca(),b=j.useContext(Sh),{navigator:S,basename:w}=j.useContext(Hn),y=b!=null&&mz(v)&&u===!0,C=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,M=x.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(M=M.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&w&&(A=qi(A,w)||A);const _=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let E=M===C||!a&&M.startsWith(C)&&M.charAt(_)==="/",T=A!=null&&(A===C||!a&&A.startsWith(C)&&A.charAt(C.length)==="/"),P={isActive:E,isPending:T,isTransitioning:y},O=E?t:void 0,L;typeof r=="function"?L=r(P):L=[r,E?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(P):s;return j.createElement(Xo,{...m,"aria-current":O,className:L,ref:h,style:R,to:c,viewTransition:u},typeof f=="function"?f(P):f)});c1.displayName="NavLink";var sz=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:s,method:c=Xm,action:u,onSubmit:f,relative:m,preventScrollReset:h,viewTransition:v,unstable_defaultShouldRevalidate:x,...b},S)=>{let{unstable_useTransitions:w}=j.useContext(Hn),y=dz(),C=fz(u,{relative:m}),M=c.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&J_.test(u),_=E=>{if(f&&f(E),E.defaultPrevented)return;E.preventDefault();let T=E.nativeEvent.submitter,P=T?.getAttribute("formmethod")||c,O=()=>y(T||E.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:a,state:s,relative:m,preventScrollReset:h,viewTransition:v,unstable_defaultShouldRevalidate:x});w&&n!==!1?j.startTransition(()=>O()):O()};return j.createElement("form",{ref:S,method:M,action:C,onSubmit:r?f:_,...b,"data-discover":!A&&e==="render"?"true":void 0})});sz.displayName="Form";function lz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eO(e){let t=j.useContext(Sc);return Jt(t,lz(e)),t}function oz(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:c,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let m=Jl(),h=ca(),v=Cd(e,{relative:s});return j.useCallback(x=>{if(B6(x,t)){x.preventDefault();let b=n!==void 0?n:nd(h)===nd(v),S=()=>m(e,{replace:b,state:r,preventScrollReset:a,relative:s,viewTransition:c,unstable_defaultShouldRevalidate:u});f?j.startTransition(()=>S()):S()}},[h,m,v,n,r,t,e,a,s,c,u,f])}var cz=0,uz=()=>`__${String(++cz)}__`;function dz(){let{router:e}=eO("useSubmit"),{basename:t}=j.useContext(Hn),n=E6(),r=e.fetch,a=e.navigate;return j.useCallback(async(s,c={})=>{let{action:u,method:f,encType:m,formData:h,body:v}=H6(s,t);if(c.navigate===!1){let x=c.fetcherKey||uz();await r(x,n,c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:h,body:v,formMethod:c.method||f,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:h,body:v,formMethod:c.method||f,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,t,n])}function fz(e,{relative:t}={}){let{basename:n}=j.useContext(Hn),r=j.useContext(Da);Jt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s={...Cd(e||".",{relative:t})},c=ca();if(e==null){s.search=c.search;let u=new URLSearchParams(s.search),f=u.getAll("index");if(f.some(h=>h==="")){u.delete("index"),f.filter(v=>v).forEach(v=>u.append("index",v));let h=u.toString();s.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:zi([n,s.pathname])),nd(s)}function mz(e,{relative:t}={}){let n=j.useContext(H_);Jt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=eO("useViewTransitionState"),a=Cd(e,{relative:t});if(!n.isTransitioning)return!1;let s=qi(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=qi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return mp(a.pathname,c)!=null||mp(a.pathname,s)!=null}var Ad=R_();const pz=li(Ad),hz="AKfycbxCJgsQCL4Z1lyWeXMyCDMA_gl5X2dgc07K7r2AEHW-g2eZ9BwpACiwWPnHmidooA48",u1="cf_access_token",d1="cf_token_expiry",f1="cf_user_name";function hp(){const e=localStorage.getItem(d1);return e&&Date.now()>Number(e)?(Jm(),null):localStorage.getItem(u1)}function gC(e,t=3500){localStorage.setItem(u1,e),localStorage.setItem(d1,String(Date.now()+t*1e3))}function Jm(){localStorage.removeItem(u1),localStorage.removeItem(d1),localStorage.removeItem(f1)}function bC(){return!!hp()}function yC(e){localStorage.setItem(f1,e)}function vz(){return localStorage.getItem(f1)||""}let Kb=null;function xz(e){Kb=e}async function ke(e,t={},n=!0){const r=hp();if(!r)throw new Error("Not authenticated. Please sign in.");const u=await(await fetch(`https://script.googleapis.com/v1/scripts/${hz}:run`,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({function:"apiRouter",devMode:!1,parameters:[{action:e,params:t,userName:vz()}]})})).json();if(u.error){if(n&&(u.error.code===401||u.error.code===403||u.error.status==="UNAUTHENTICATED"||u.error.status==="PERMISSION_DENIED")&&Kb)try{return await Kb(),ke(e,t,!1)}catch{}if(u.error.details&&u.error.details.length>0){const f=u.error.details[0];throw new Error(f.errorMessage||"Script execution error")}throw new Error(u.error.message||"API error")}if(u.response&&u.response.result!==void 0){const f=u.response.result;if(f&&!f.success){const h=new Error(f.error||"Unknown error");throw h.code=f.code,h}const m=f?f.data:null;if(m&&m.success===!1)throw new Error(m.message||"Operation failed");return m}throw new Error("Unexpected response format")}const wC=()=>ke("auth:me"),gz=(e,t)=>ke("auth:invite",{email:e,name:t}),vp=()=>ke("data:load-all"),tO=()=>ke("members:list"),rO=e=>ke("member:create",e),nO=e=>ke("member:update",e),aO=e=>ke("member:delete",{memberId:e}),iO=()=>ke("banks:list"),sO=e=>ke("bank:create",e),bz=e=>ke("bank:update",e),lO=e=>ke("bank:delete",{accountId:e}),oO=()=>ke("invaccounts:list"),cO=e=>ke("invacct:create",e),yz=e=>ke("invacct:update",e),uO=e=>ke("invacct:delete",{accountId:e}),wz=()=>ke("portfolios:list"),jz=e=>ke("portfolio:create",e),Nz=e=>ke("portfolio:update",e),Sz=e=>ke("portfolio:delete",{portfolioId:e}),Cz=e=>ke("mf:invest",e),Az=e=>ke("mf:redeem",e),Mz=e=>ke("mf:switch",e),Dz=(e,t)=>ke("mf:allocations-update",{portfolioId:e,allocations:t}),kz=()=>ke("funds:all"),Ez=e=>ke("asset-allocation:save",e),dO=()=>ke("goals:list"),fO=e=>ke("goal:create",e),_z=(e,t)=>ke("goal:update",{goalId:e,...t}),mO=e=>ke("goal:delete",{goalId:e}),Oz=()=>ke("goal:mappings-list"),Tz=(e,t)=>ke("goal:mappings-update",{goalId:e,mappings:t}),pO=()=>ke("insurance:list"),hO=e=>ke("insurance:create",e),Pz=e=>ke("insurance:update",e),vO=e=>ke("insurance:delete",{policyId:e}),xO=()=>ke("liabilities:list"),gO=e=>ke("liability:create",e),Iz=e=>ke("liability:update",e),bO=e=>ke("liability:delete",{liabilityId:e}),yO=()=>ke("otherinv:list"),wO=e=>ke("otherinv:create",e),Rz=e=>ke("otherinv:update",e),jO=e=>ke("otherinv:delete",{investmentId:e}),NO=()=>ke("stock-portfolios:list"),SO=e=>ke("stock-portfolio:create",e),Lz=e=>ke("stock-portfolio:update",e),CO=e=>ke("stock-portfolio:delete",{portfolioId:e}),zz=e=>ke("stock:buy",e),Fz=e=>ke("stock:sell",e),Bz=e=>ke("mf-transaction:delete",{transactionId:e}),$z=e=>ke("mf-transaction:edit",e),qz=()=>ke("mf-holdings:list"),Hz=()=>ke("mf-transactions:list"),Uz=()=>ke("stock-holdings:list-all"),Yz=()=>ke("stock-transactions:list-all"),AO=()=>ke("reminders:list"),MO=e=>ke("reminder:create",e),Vz=e=>ke("reminder:update",e),DO=e=>ke("reminder:delete",{reminderId:e}),Gz=e=>ke("healthcheck:save",e),kO=()=>ke("healthcheck:get"),Kz=()=>ke("settings:list"),Wz=e=>ke("settings:update",e),Qz=()=>ke("market:data"),Xz=()=>ke("data:refresh-master");typeof window<"u"&&(window._cf={callAPI:ke,checkTriggers:()=>ke("test:triggers"),diagnose:()=>ke("test:diagnose")});const Zz="capital-friends",Jz=1,jn="cache";let Ou=null;function Ac(){return Ou||(Ou=new Promise((e,t)=>{const n=indexedDB.open(Zz,Jz);n.onupgradeneeded=r=>{const a=r.target.result;a.objectStoreNames.contains(jn)||a.createObjectStore(jn,{keyPath:"key"})},n.onsuccess=()=>e(n.result),n.onerror=()=>{console.warn("[idb] Failed to open database:",n.error),Ou=null,t(n.error)}}),Ou)}async function EO(e){try{const t=await Ac();return new Promise(n=>{const a=t.transaction(jn,"readonly").objectStore(jn).get(e);a.onsuccess=()=>n(a.result?a.result.data:null),a.onerror=()=>n(null)})}catch{return null}}async function eF(e){try{const t=await Ac();return new Promise(n=>{const a=t.transaction(jn,"readonly").objectStore(jn).get(e);a.onsuccess=()=>n(a.result||null),a.onerror=()=>n(null)})}catch{return null}}async function vn(e,t){try{const n=await Ac();return new Promise(r=>{const a=n.transaction(jn,"readwrite");a.objectStore(jn).put({key:e,data:t,updatedAt:Date.now()}),a.oncomplete=()=>r(),a.onerror=()=>r()})}catch{}}async function tF(){try{const e=await Ac();return new Promise(t=>{const r=e.transaction(jn,"readonly").objectStore(jn).getAll();r.onsuccess=()=>{const a={};for(const s of r.result||[])a[s.key]=s.data;t(a)},r.onerror=()=>t({})})}catch{return{}}}async function Hg(e){try{const t=await Ac();return new Promise(n=>{const r=t.transaction(jn,"readwrite"),a=r.objectStore(jn),s=Date.now();for(const[c,u]of Object.entries(e))a.put({key:c,data:u,updatedAt:s});r.oncomplete=()=>n(),r.onerror=()=>n()})}catch{}}async function rF(){try{const e=await Ac();return new Promise(t=>{const n=e.transaction(jn,"readwrite");n.objectStore(jn).clear(),n.oncomplete=()=>t(),n.onerror=()=>t()})}catch{}}const _O=j.createContext(null),nF="868467315292-7hfrvkh8pq8f1e2l3v38m6qrupboa295.apps.googleusercontent.com",aF=["https://www.googleapis.com/auth/spreadsheets","https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/gmail.send","https://www.googleapis.com/auth/script.scriptapp","openid","email","profile"].join(" "),m1="cf_user_profile";function jC(){try{const e=localStorage.getItem(m1);return e?JSON.parse(e):null}catch{return null}}function iF(e){try{localStorage.setItem(m1,JSON.stringify(e))}catch{}}function NC(){localStorage.removeItem(m1)}function sF({children:e}){const t=bC()?jC():null,[n,r]=j.useState(t),[a,s]=j.useState(!t),[c,u]=j.useState(null),f=j.useRef(null);function m(C){r(C),C?iF(C):NC()}j.useEffect(()=>{const C=()=>{if(!window.google?.accounts?.oauth2){setTimeout(C,200);return}f.current=window.google.accounts.oauth2.initTokenClient({client_id:nF,scope:aF,callback:h}),xz(b),bC()?x():s(!1)};C()},[]);async function h(C){if(C.error){u(C.error_description||C.error),s(!1);return}try{s(!0),u(null),gC(C.access_token,C.expires_in);const M=await v(C.access_token);yC(M.name||"");const A=await wC();m({email:A.email||M.email,name:A.name||M.name,role:A.role,picture:M.picture||""})}catch(M){u(M.message),Jm(),m(null)}finally{s(!1)}}async function v(C){const M=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${C}`}});if(!M.ok)throw new Error("Failed to fetch user profile");return M.json()}async function x(){const C=!!jC();try{const M=hp(),A=await v(M);yC(A.name||"");const _=await wC();m({email:_.email||A.email,name:_.name||A.name,role:_.role,picture:A.picture||""})}catch{Jm(),m(null)}finally{C||s(!1)}}function b(){return new Promise((C,M)=>{if(!f.current){M(new Error("Token client not initialized"));return}const A=f.current,_=A.callback;A.callback=E=>{A.callback=_,E.error?M(new Error(E.error)):(gC(E.access_token,E.expires_in),C())},A.requestAccessToken({prompt:""})})}const S=j.useCallback(()=>{f.current&&(u(null),f.current.requestAccessToken())},[]),w=j.useCallback(()=>{const C=hp();C&&window.google?.accounts?.oauth2&&window.google.accounts.oauth2.revoke(C),Jm(),NC(),rF(),sessionStorage.removeItem("cf_health_check"),r(null)},[]),y={user:n,loading:a,error:c,isAuthenticated:!!n,isOwner:n?.role==="owner",signIn:S,signOut:w};return l.jsx(_O.Provider,{value:y,children:e})}function eo(){const e=j.useContext(_O);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const OO=j.createContext();function lF({children:e}){const[t,n]=j.useState(()=>{const a=localStorage.getItem("cf-theme");return a||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")});j.useEffect(()=>{localStorage.setItem("cf-theme",t),document.documentElement.setAttribute("data-theme",t)},[t]);const r=()=>n(a=>a==="dark"?"light":"dark");return l.jsx(OO.Provider,{value:{theme:t,toggle:r},children:e})}function TO(){return j.useContext(OO)}const PO=j.createContext(),IO="cf_hc_done";function oF(){try{return sessionStorage.getItem(IO)==="1"?!0:null}catch{return null}}function Fo(e){try{sessionStorage.setItem(IO,e?"1":"0")}catch{}}function cF({children:e}){const{isAuthenticated:t}=eo(),n=t?oF():null,[r,a]=j.useState(!0),[s,c]=j.useState(!1),[u,f]=j.useState(null),[m,h]=j.useState(null),[v,x]=j.useState(null),[b,S]=j.useState(null),[w,y]=j.useState(null),[C,M]=j.useState(null),[A,_]=j.useState(null),[E,T]=j.useState(null),[P,O]=j.useState(null),[L,R]=j.useState(null),[B,k]=j.useState(null),[K,W]=j.useState(null),[Z,$]=j.useState(null),[G,z]=j.useState(null),[re,he]=j.useState(null),[F,ne]=j.useState(null),[ve,be]=j.useState(null),[Pe,Re]=j.useState(null),[Ne,_e]=j.useState(n!==null?n:null),X=j.useRef(!1),Se=j.useCallback(H=>{H&&("members"in H&&h(H.members||[]),"bankAccounts"in H&&x(H.bankAccounts||[]),"investments"in H&&S(H.investments||[]),"insurancePolicies"in H&&y(H.insurancePolicies||[]),"liabilities"in H&&M(H.liabilities||[]),"otherInvestments"in H&&_(H.otherInvestments||[]),"stockPortfolios"in H&&T(H.stockPortfolios||[]),"stockHoldings"in H&&O(H.stockHoldings||[]),"stockTransactions"in H&&R(H.stockTransactions||[]),"mfPortfolios"in H&&k(H.mfPortfolios||[]),"mfHoldings"in H&&W((H.mfHoldings||[]).map(ye=>ye.schemeCode?ye:{...ye,schemeCode:ye.fundCode})),"mfTransactions"in H&&$(H.mfTransactions||[]),"goals"in H&&z(H.goals||[]),"reminders"in H&&he(H.reminders||[]),"goalPortfolioMappings"in H&&ne(H.goalPortfolioMappings||[]),"assetAllocations"in H&&be(H.assetAllocations||[]),"settings"in H&&Re(H.settings||{}))},[]),Be=j.useCallback(H=>{Hg({members:H.members||[],bankAccounts:H.bankAccounts||[],investments:H.investments||[],insurancePolicies:H.insurancePolicies||[],liabilities:H.liabilities||[],otherInvestments:H.otherInvestments||[],stockPortfolios:H.stockPortfolios||[],stockHoldings:H.stockHoldings||[],stockTransactions:H.stockTransactions||[],mfPortfolios:H.mfPortfolios||[],mfHoldings:H.mfHoldings||[],mfTransactions:H.mfTransactions||[],goals:H.goals||[],reminders:H.reminders||[],goalPortfolioMappings:H.goalPortfolioMappings||[],assetAllocations:H.assetAllocations||[]})},[]),xe=j.useCallback(async(H=!1)=>{try{H?c(!0):a(!0),f(null);const ye=await vp();Se(ye),Be(ye)}catch(ye){f(ye.message)}finally{a(!1),c(!1)}},[Se,Be]),et=j.useCallback(async()=>{const H=await tO();h(H||[]),vn("members",H||[])},[]),ge=j.useCallback(async()=>{const H=await iO();x(H||[]),vn("bankAccounts",H||[])},[]),He=j.useCallback(async()=>{const H=await oO();S(H||[]),vn("investments",H||[])},[]),Ze=j.useCallback(async()=>{const H=await pO();y(H||[]),vn("insurancePolicies",H||[])},[]),dt=j.useCallback(async()=>{const H=await xO();M(H||[]),vn("liabilities",H||[])},[]),Ct=j.useCallback(async()=>{const H=await yO();_(H||[]),vn("otherInvestments",H||[])},[]),Nr=j.useCallback(async()=>{const[H,ye]=await Promise.all([dO(),Oz()]);z(H||[]),ne(ye||[]),vn("goals",H||[]),vn("goalPortfolioMappings",ye||[])},[]),bt=j.useCallback(async()=>{const H=await AO();he(H||[]),vn("reminders",H||[])},[]),At=j.useCallback(async()=>{const[H,ye,xt]=await Promise.all([wz(),qz(),Hz()]),ln=(ye||[]).map(Ia=>Ia.schemeCode?Ia:{...Ia,schemeCode:Ia.fundCode});k(H||[]),W(ln),$(xt||[]),Hg({mfPortfolios:H||[],mfHoldings:ln,mfTransactions:xt||[]})},[]),Er=j.useCallback(async()=>{const[H,ye,xt]=await Promise.all([NO(),Uz(),Yz()]);T(H||[]),O(ye||[]),R(xt||[]),Hg({stockPortfolios:H||[],stockHoldings:ye||[],stockTransactions:xt||[]})},[]),sn=j.useCallback(async()=>{const H=await Kz();Re(H||{}),vn("settings",H||{})},[]),nr=j.useCallback(async H=>{await Wz(H),await sn()},[sn]),_a=j.useCallback(async()=>{try{const H=await EO("healthCheckAnswers");if(H&&Object.keys(H).length>0){_e(!0),Fo(!0);return}const ye=await kO();ye&&Object.keys(ye).length>0?(_e(!0),Fo(!0),vn("healthCheckAnswers",ye)):(_e(!1),Fo(!1))}catch{_e(!1),Fo(!1)}},[]),Ue=j.useCallback(async H=>{const ye=await Gz(H);return ye?.success&&(_e(!0),Fo(!0),vn("healthCheckAnswers",H)),ye},[]);j.useEffect(()=>{if(!t){a(!1);return}if(X.current)return;X.current=!0;async function H(){const ye=await tF(),xt=Object.keys(ye).length>0;xt&&(Se(ye),ye.healthCheckAnswers&&Object.keys(ye.healthCheckAnswers).length>0&&(_e(!0),Fo(!0)),a(!1));try{xt&&c(!0);const ln=await vp();Se(ln),Be(ln)}catch(ln){xt||f(ln.message)}finally{a(!1),c(!1)}}H(),sn().catch(()=>{}),n===null&&_a().catch(()=>{})},[t,Se,Be,sn,_a]),j.useEffect(()=>{t||(X.current=!1)},[t]);const te=j.useCallback(async H=>{const ye=await rO(H);if(H.email)try{await gz(H.email,H.memberName)}catch(xt){console.warn("Auto-invite failed (non-blocking):",xt.message)}return await et(),ye},[et]),me=j.useCallback(async(H,ye)=>{await nO({memberId:H,...ye}),await et()},[et]),Oe=j.useCallback(async H=>{await aO(H),await et()},[et]),rt=j.useCallback(async H=>{const ye=await sO(H);return await ge(),ye},[ge]),Y=j.useCallback(async(H,ye)=>{await bz({accountId:H,...ye}),await ge()},[ge]),ue=j.useCallback(async H=>{await lO(H),await ge()},[ge]),je=j.useCallback(async H=>{const ye=await cO(H);return await He(),ye},[He]),De=j.useCallback(async(H,ye)=>{await yz({accountId:H,...ye}),await He()},[He]),Fe=j.useCallback(async H=>{await uO(H),await He()},[He]),se=j.useCallback(async H=>{const ye=await hO(H);return await Ze(),ye},[Ze]),Tt=j.useCallback(async(H,ye)=>{await Pz({policyId:H,...ye}),await Ze()},[Ze]),Ye=j.useCallback(async H=>{await vO(H),await Ze()},[Ze]),Mt=j.useCallback(async H=>{const ye=await gO(H);return await dt(),ye},[dt]),Kt=j.useCallback(async(H,ye)=>{await Iz({liabilityId:H,...ye}),await dt()},[dt]),$e=j.useCallback(async H=>{await bO(H),await dt()},[dt]),qt=j.useCallback(async H=>{const ye=await wO(H);return await Ct(),H.quickLoan&&await dt(),ye},[Ct,dt]),Xe=j.useCallback(async(H,ye)=>{await Rz({investmentId:H,...ye}),await Ct(),await dt()},[Ct,dt]),we=j.useCallback(async H=>{await jO(H),await Ct()},[Ct]),We=j.useCallback(async H=>{const ye=await fO(H);return await Nr(),ye},[Nr]),tt=j.useCallback(async(H,ye)=>{await _z(H,ye),await Nr()},[Nr]),Pt=j.useCallback(async H=>{await mO(H),await Nr()},[Nr]),zr=j.useCallback(async H=>{const ye=await MO(H);return await bt(),ye},[bt]),vr=j.useCallback(async(H,ye)=>{await Vz({reminderId:H,...ye}),await bt()},[bt]),Ce=j.useCallback(async H=>{await DO(H),await bt()},[bt]),_r=j.useCallback(async(H,ye)=>{await Tz(H,ye),await Nr()},[Nr]),mi=j.useCallback(async H=>{const ye=await SO(H);return await Er(),ye},[Er]),Oa=j.useCallback(async(H,ye)=>{await Lz({portfolioId:H,...ye}),await Er()},[Er]),Ta=j.useCallback(async H=>{await CO(H),await Er()},[Er]),Pa=j.useCallback(async H=>{const ye=await zz(H);return await Er(),ye},[Er]),al=j.useCallback(async H=>{const ye=await Fz(H);return await Er(),ye},[Er]),ss=j.useCallback(async H=>{const ye=await jz(H);return await At(),ye},[At]),Sn=j.useCallback(async(H,ye)=>{await Nz({portfolioId:H,...ye}),await At()},[At]),Sr=j.useCallback(async H=>{await Sz(H),await At()},[At]),Gr=j.useCallback(async(H,ye)=>{const xt=await Cz({...H,transactionType:ye});return await At(),xt},[At]),ls=j.useCallback(async H=>{const ye=await Az(H);return await At(),ye},[At]),Fc=j.useCallback(async H=>{const ye=await Mz(H);return await At(),ye},[At]),Cv=j.useCallback(async(H,ye)=>{await Dz(H,ye),await At()},[At]),Av=j.useCallback(async H=>{await Bz(H),await At()},[At]),Xd=j.useCallback(async H=>{await $z(H),await At()},[At]),il=j.useCallback(async H=>{const ye=await Ez(H);return be(xt=>{const ln=xt||[],Ia=ln.findIndex(Cn=>Cn.fundCode===H.fundCode),Zr={};H.equity&&(Zr.Equity=H.equity),H.debt&&(Zr.Debt=H.debt),H.cash&&(Zr.Cash=H.cash),H.realEstate&&(Zr["Real Estate"]=H.realEstate),H.commodities&&(Zr.Commodities=H.commodities),H.customAsset&&Object.entries(H.customAsset).forEach(([Cn,Ra])=>{Ra>0&&(Zr[Cn]=Ra)});const on={};H.giantCap&&(on.Giant=H.giantCap),H.largeCap&&(on.Large=H.largeCap),H.midCap&&(on.Mid=H.midCap),H.smallCap&&(on.Small=H.smallCap),H.microCap&&(on.Micro=H.microCap),H.customCap&&Object.entries(H.customCap).forEach(([Cn,Ra])=>{Ra>0&&(on[Cn]=Ra)});const ao={};H.geoIndia&&(ao.India=H.geoIndia),H.geoGlobal&&(ao.Global=H.geoGlobal),H.customGeo&&Object.entries(H.customGeo).forEach(([Cn,Ra])=>{Ra>0&&(ao[Cn]=Ra)});const $c={fundCode:H.fundCode,fundName:H.fundName,assetAllocation:Zr,equityAllocation:on,geoAllocation:ao};if(Ia>=0){const Cn=[...ln];return Cn[Ia]=$c,Cn}return[...ln,$c]}),ye},[]),Bc=(m||[]).filter(H=>H.status==="Active"),os=(v||[]).filter(H=>H.status==="Active"),cs=(b||[]).filter(H=>H.status==="Active");return l.jsx(PO.Provider,{value:{loading:r,isRefreshing:s,error:u,refreshData:xe,members:m,banks:v,investmentAccounts:b,insurancePolicies:w,liabilityList:C,otherInvList:A,activeMembers:Bc,activeBanks:os,activeInvestmentAccounts:cs,addMember:te,updateMember:me,deleteMember:Oe,addBankAccount:rt,updateBankAccount:Y,deleteBankAccount:ue,addInvestmentAccount:je,updateInvestmentAccount:De,deleteInvestmentAccount:Fe,addInsurance:se,updateInsurance:Tt,deleteInsurance:Ye,addLiability:Mt,updateLiability:Kt,deleteLiability:$e,addOtherInvestment:qt,updateOtherInvestment:Xe,deleteOtherInvestment:we,goalList:G,addGoal:We,updateGoal:tt,deleteGoal:Pt,reminderList:re,addReminder:zr,updateReminder:vr,deleteReminder:Ce,goalPortfolioMappings:F,updateGoalMappings:_r,assetAllocations:ve,updateAssetAllocation:il,stockPortfolios:E,stockHoldings:P,stockTransactions:L,addStockPortfolio:mi,updateStockPortfolio:Oa,deleteStockPortfolio:Ta,buyStock:Pa,sellStock:al,mfPortfolios:B,mfHoldings:K,mfTransactions:Z,addMFPortfolio:ss,updateMFPortfolio:Sn,deleteMFPortfolio:Sr,investMF:Gr,redeemMF:ls,switchMF:Fc,updateHoldingAllocations:Cv,deleteMFTransaction:Av,editMFTransaction:Xd,settings:Pe,updateSettings:nr,refreshSettings:sn,healthCheckCompleted:Ne,completeHealthCheck:Ue},children:e})}function ht(){return j.useContext(PO)}const RO=j.createContext();function uF({children:e}){const{activeMembers:t}=ht(),[n,r]=j.useState("all"),a=t.find(s=>s.memberId===n)||null;return l.jsx(RO.Provider,{value:{selectedMember:n,setSelectedMember:r,member:a,familyMembers:t},children:e})}function Yr(){return j.useContext(RO)}const LO=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();const dF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const fF=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase());const SC=e=>{const t=fF(e);return t.charAt(0).toUpperCase()+t.slice(1)};var mF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pF=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const hF=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:s,iconNode:c,...u},f)=>j.createElement("svg",{ref:f,...mF,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:LO("lucide",a),...!s&&!pF(u)&&{"aria-hidden":"true"},...u},[...c.map(([m,h])=>j.createElement(m,h)),...Array.isArray(s)?s:[s]]));const Ee=(e,t)=>{const n=j.forwardRef(({className:r,...a},s)=>j.createElement(hF,{ref:s,iconNode:t,className:LO(`lucide-${dF(SC(e))}`,`lucide-${e}`,r),...a}));return n.displayName=SC(e),n};const vF=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],xF=Ee("arrow-down",vF);const gF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],bF=Ee("arrow-right",gF);const yF=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],wF=Ee("arrow-up-down",yF);const jF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],NF=Ee("bell-off",jF);const SF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ah=Ee("bell",SF);const CF=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],zO=Ee("briefcase",CF);const AF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],MF=Ee("calendar",AF);const DF=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ed=Ee("chart-column",DF);const kF=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],CC=Ee("chart-pie",kF);const EF=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],AC=Ee("check",EF);const _F=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ya=Ee("chevron-down",_F);const OF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],FO=Ee("chevron-left",OF);const TF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],td=Ee("chevron-right",TF);const PF=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],IF=Ee("chevron-up",PF);const RF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],BO=Ee("circle-arrow-down",RF);const LF=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zF=Ee("circle-check-big",LF);const FF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Mc=Ee("circle-check",FF);const BF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$O=Ee("circle-x",BF);const $F=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],qO=Ee("clipboard-check",$F);const qF=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],HF=Ee("coffee",qF);const UF=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],YF=Ee("construction",UF);const VF=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ad=Ee("credit-card",VF);const GF=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],KF=Ee("database",GF);const WF=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],QF=Ee("dollar-sign",WF);const XF=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],ZF=Ee("ellipsis-vertical",XF);const JF=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],e8=Ee("ellipsis",JF);const t8=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],p1=Ee("eye",t8);const r8=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ep=Ee("eye-off",r8);const n8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],a8=Ee("file-spreadsheet",n8);const i8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],HO=Ee("file-text",i8);const s8=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],UO=Ee("funnel",s8);const l8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],o8=Ee("globe",l8);const c8=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],xp=Ee("heart",c8);const u8=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],d8=Ee("indian-rupee",u8);const f8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],m8=Ee("info",f8);const p8=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],YO=Ee("landmark",p8);const h8=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],VO=Ee("layers",h8);const v8=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],GO=Ee("link-2",v8);const x8=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],gp=Ee("list",x8);const g8=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],KO=Ee("loader-circle",g8);const b8=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ug=Ee("lock",b8);const y8=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],w8=Ee("log-in",y8);const j8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],WO=Ee("log-out",j8);const N8=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],S8=Ee("mail",N8);const C8=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],A8=Ee("menu",C8);const M8=[["path",{d:"M5 12h14",key:"1ays0h"}]],Yg=Ee("minus",M8);const D8=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],QO=Ee("moon",D8);const k8=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],XO=Ee("package",k8);const E8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ka=Ee("pencil",E8);const _8=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],O8=Ee("piggy-bank",_8);const T8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pr=Ee("plus",T8);const P8=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ic=Ee("refresh-cw",P8);const I8=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],R8=Ee("repeat-2",I8);const L8=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],z8=Ee("repeat",L8);const F8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ZO=Ee("save",F8);const B8=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],JO=Ee("search",B8);const $8=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],eT=Ee("settings-2",$8);const q8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],h1=Ee("settings",q8);const H8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],U8=Ee("shield-alert",H8);const Y8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],rd=Ee("shield",Y8);const V8=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Wb=Ee("sun",V8);const G8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Md=Ee("target",G8);const K8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Mh=Ee("trash-2",K8);const W8=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Dh=Ee("trending-down",W8);const Q8=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],sc=Ee("trending-up",Q8);const X8=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hs=Ee("triangle-alert",X8);const Z8=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],MC=Ee("trophy",Z8);const J8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],eB=Ee("user",J8);const tB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lc=Ee("users",tB);const rB=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],ec=Ee("wallet",rB);const nB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ul=Ee("x",nB);const aB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Qb=Ee("zap",aB),tT=j.createContext();function iB({children:e}){const[t,n]=j.useState([]),[r,a]=j.useState(null),s=j.useRef(0),c=j.useCallback((h,v="success",x=3e3)=>{const b=++s.current;n(S=>[...S,{id:b,message:h,type:v}]),setTimeout(()=>n(S=>S.filter(w=>w.id!==b)),x)},[]),u=j.useCallback(h=>{n(v=>v.filter(x=>x.id!==h))},[]),f=j.useCallback((h="Saving...")=>{a(h)},[]),m=j.useCallback(()=>{a(null)},[]);return l.jsxs(tT.Provider,{value:{showToast:c,showBlockUI:f,hideBlockUI:m},children:[e,r&&l.jsx("div",{className:"fixed inset-0 z-[200] bg-black/50 backdrop-blur-sm flex items-center justify-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-3 bg-[var(--bg-card)] rounded-xl px-8 py-6 border border-[var(--border)] shadow-2xl",children:[l.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),l.jsx("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:r})]})}),t.length>0&&l.jsx("div",{className:"fixed bottom-20 sm:bottom-6 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-2 items-center pointer-events-none",children:t.map(h=>l.jsxs("div",{className:`pointer-events-auto flex items-center gap-2 px-4 py-2.5 rounded-lg shadow-xl border text-sm font-medium animate-fade-in ${h.type==="error"?"bg-rose-500/15 border-rose-500/30 text-[var(--accent-rose)]":h.type==="warning"?"bg-amber-500/15 border-amber-500/30 text-amber-400":"bg-emerald-500/15 border-emerald-500/30 text-emerald-400"}`,style:{backdropFilter:"blur(12px)"},children:[h.type==="error"?l.jsx($O,{size:16}):h.type==="warning"?l.jsx(Hs,{size:16}):l.jsx(Mc,{size:16}),l.jsx("span",{children:h.message}),l.jsx("button",{onClick:()=>u(h.id),className:"ml-1 opacity-60 hover:opacity-100 transition-opacity",children:l.jsx(Ul,{size:14})})]},h.id))})]})}function oi(){return j.useContext(tT)}const rT=j.createContext();function sB({children:e}){const[t,n]=j.useState(null),r=j.useRef(null),a=j.useCallback((u,{title:f="Confirm",confirmLabel:m="Yes, proceed",cancelLabel:h="Cancel",destructive:v=!0}={})=>new Promise(x=>{r.current=x,n({message:u,title:f,confirmLabel:m,cancelLabel:h,destructive:v})}),[]);function s(){r.current?.(!0),r.current=null,n(null)}function c(){r.current?.(!1),r.current=null,n(null)}return l.jsxs(rT.Provider,{value:{confirm:a},children:[e,t&&l.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center px-4",onClick:c,children:[l.jsx("div",{className:"fixed inset-0 bg-black/60"}),l.jsxs("div",{className:"relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full max-w-sm p-5 animate-fade-in",onClick:u=>u.stopPropagation(),children:[l.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[l.jsx("span",{className:`shrink-0 w-9 h-9 rounded-full flex items-center justify-center ${t.destructive?"bg-rose-500/15":"bg-violet-500/15"}`,children:l.jsx(Hs,{size:18,className:t.destructive?"text-[var(--accent-rose)]":"text-violet-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-bold text-[var(--text-primary)]",children:t.title}),l.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1 leading-relaxed",children:t.message})]})]}),l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx("button",{onClick:c,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:t.cancelLabel}),l.jsx("button",{onClick:s,autoFocus:!0,className:`px-4 py-2 text-xs font-bold text-white rounded-lg transition-colors ${t.destructive?"bg-rose-600 hover:bg-rose-500":"bg-violet-600 hover:bg-violet-500"}`,children:t.confirmLabel})]})]})]})]})}function ci(){return j.useContext(rT).confirm}const nT=j.createContext(),DC="cf-mask-data";function lB(e){return!e||e.length<4?"":""+e.slice(-4)}function oB(e){return!e||e.length<4?"  ":"  "+e.slice(-4)}function cB(e){return!e||e.length<3?"":""+e.slice(-3)}function uB(e){if(!e)return"@";const[t,n]=e.split("@");if(!n)return"@";const r=t.charAt(0)+"",a=n.split("."),s=a[0].charAt(0)+""+(a.length>1?"."+a.slice(1).join("."):"");return r+"@"+s}function dB(e){return!e||e.length<4?"":""+e.slice(-4)}function fB(e){return!e||e.length<3?"":""+e.slice(-3)}function mB(e){return!e||e.length<4?"":""+e.slice(-4)}function pB(e){return!e||e.length<2?"":e.split(/\s+/).map(t=>t.charAt(0)+"").join(" ")}const hB={pan:lB,aadhaar:oB,mobile:cB,email:uB,account:dB,clientId:fB,policy:mB,name:pB};function vB({children:e}){const[t,n]=j.useState(()=>{try{return localStorage.getItem(DC)==="true"}catch{return!1}});j.useEffect(()=>{try{localStorage.setItem(DC,String(t))}catch{}},[t]);const r=j.useCallback(()=>n(s=>!s),[]),a=j.useCallback((s,c)=>{if(!t||s==null||s==="")return s;const u=hB[c];return u?u(String(s)):s},[t]);return l.jsx(nT.Provider,{value:{masked:t,toggleMask:r,mv:a},children:e})}function ui(){return j.useContext(nT)}const kC=[{label:"Family",icon:lc,path:"/family"},{label:"Accounts",icon:ad,children:[{label:"Bank Accounts",icon:YO,path:"/accounts/bank"},{label:"Investment A/c",icon:zO,path:"/accounts/investment"}]},{label:"Insurance",icon:rd,path:"/insurance"},{label:"Investments",icon:ec,children:[{label:"Mutual Funds",icon:ec,path:"/investments/mutual-funds"},{label:"Stocks",icon:ed,path:"/investments/stocks"},{label:"Other Investments",icon:XO,path:"/investments/other"}]},{label:"Liabilities",icon:ad,path:"/liabilities"},{label:"Goals",icon:Md,path:"/goals"},{label:"Settings",icon:h1,path:"/settings"}];function xB({open:e,onClose:t}){const n=ca(),r=kC.filter(u=>u.children?.some(f=>n.pathname.startsWith(f.path))).map(u=>u.label),[a,s]=j.useState(new Set(r));function c(u){s(f=>{const m=new Set(f);return m.has(u)?m.delete(u):m.add(u),m})}return l.jsxs(l.Fragment,{children:[e&&l.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 lg:hidden",onClick:t}),l.jsxs("aside",{className:`
        fixed top-0 left-0 z-50 h-full w-56
        bg-[var(--bg-sidebar)] border-r border-[var(--border)]
        flex flex-col transition-transform duration-300
        lg:hidden
        ${e?"translate-x-0":"-translate-x-full"}
      `,children:[l.jsxs("div",{className:"flex items-center justify-between px-3 h-12 border-b border-[var(--border)] shrink-0",children:[l.jsx("p",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Menu"}),l.jsx("button",{onClick:t,className:"p-1.5 rounded-md text-[var(--text-dim)] hover:text-[var(--text-primary)]",children:l.jsx(Ul,{size:16})})]}),l.jsx("nav",{className:"flex-1 py-2 overflow-y-auto overflow-x-hidden",children:kC.map(u=>u.children?l.jsx(gB,{item:u,isOpen:a.has(u.label),onToggle:()=>c(u.label),onNavigate:t,currentPath:n.pathname},u.label):l.jsx(aT,{item:u,onNavigate:t},u.path))})]})]})}function aT({item:e,onNavigate:t,nested:n}){const{label:r,icon:a,path:s}=e;return l.jsx(c1,{to:s,onClick:t,end:s==="/",className:({isActive:c})=>`group flex items-center gap-2.5 ${n?"pl-11 pr-4 py-[7px]":"px-4 py-2.5"} text-[13px] font-medium transition-all border-r-2 ${c?"bg-[var(--sidebar-active-bg)] text-[var(--sidebar-active-text)] border-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] border-transparent"}`,children:({isActive:c})=>l.jsxs(l.Fragment,{children:[l.jsx(a,{size:n?14:17,strokeWidth:c?2.2:1.7}),l.jsx("span",{children:r})]})})}function gB({item:e,isOpen:t,onToggle:n,onNavigate:r,currentPath:a}){const{label:s,icon:c,children:u}=e,f=u.some(m=>a.startsWith(m.path));return l.jsxs("div",{children:[l.jsxs("button",{onClick:n,className:`w-full group flex items-center gap-2.5 px-4 py-2.5 text-[13px] font-medium transition-all border-r-2 border-transparent ${f?"text-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:[l.jsx(c,{size:17,strokeWidth:f?2.2:1.7}),l.jsx("span",{className:"flex-1 text-left",children:s}),l.jsx(ya,{size:13,className:`text-[var(--text-dim)] transition-transform duration-200 ${t?"rotate-180":""}`})]}),t&&l.jsx("div",{className:"py-0.5",children:u.map(m=>l.jsx(aT,{item:m,onNavigate:r,nested:!0},m.path))})]})}function Q(e){return e>=1e7?`${(e/1e7).toFixed(2)} Cr`:e>=1e5?`${(e/1e5).toFixed(2)} L`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${e.toLocaleString("en-IN")}`}const iT="cf_market_data",bB=300*1e3,EC=300*1e3;function yB(){try{const e=sessionStorage.getItem(iT);if(!e)return null;const t=JSON.parse(e);return Date.now()-t._ts>bB?null:t}catch{return null}}function wB(e){try{sessionStorage.setItem(iT,JSON.stringify({...e,_ts:Date.now()}))}catch{}}function jB(){const[e,t]=j.useState(()=>yB()),[n,r]=j.useState([]),a=j.useRef(null),[s,c]=j.useState(!1),[u,f]=j.useState(!1);j.useEffect(()=>{let v=!1;async function x(){try{const S=await Qz();if(!v&&S){const w={...S,_ts:Date.now()};t(w),wB(w)}}catch{}}x();const b=setInterval(x,EC);return()=>{v=!0,clearInterval(b)}},[]),j.useEffect(()=>{let v=!1;async function x(){try{const S=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=inr&include_24hr_change=true");if(!v&&S.ok){const w=await S.json(),y=[];w.bitcoin&&y.push({name:"BTC",price:w.bitcoin.inr,changePct:w.bitcoin.inr_24h_change||0,type:"crypto"}),w.ethereum&&y.push({name:"ETH",price:w.ethereum.inr,changePct:w.ethereum.inr_24h_change||0,type:"crypto"}),r(y)}}catch{}}x();const b=setInterval(x,EC);return()=>{v=!0,clearInterval(b)}},[]);const m=[];if(e?.indices&&m.push(...e.indices),e?.metals&&m.push(...e.metals),n.length>0&&m.push(...n),j.useEffect(()=>{if(!a.current)return;const v=a.current,x=v.parentElement;c(v.scrollWidth>x.clientWidth)},[m.length]),m.length===0)return null;const h=m.length*3;return l.jsxs("div",{className:"bg-[var(--bg-card)]/80 backdrop-blur-sm border-b border-[var(--border-light)] overflow-hidden",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onTouchStart:()=>f(!0),onTouchEnd:()=>f(!1),children:[l.jsx("div",{className:"overflow-hidden",children:l.jsxs("div",{ref:a,className:"flex items-stretch w-max",style:s?{animation:`ticker-scroll ${h}s linear infinite`,animationPlayState:u?"paused":"running"}:{margin:"0 auto"},children:[m.map((v,x)=>l.jsx(_C,{item:v},v.name+x)),s&&m.map((v,x)=>l.jsx(_C,{item:v},"dup-"+v.name+x))]})}),l.jsx("style",{children:`
        @keyframes ticker-scroll {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
      `})]})}function _C({item:e}){const t=e.changePct>=0,n=t?l.jsx(sc,{size:10}):l.jsx(Dh,{size:10}),r=t?"text-emerald-400":"text-[var(--accent-rose)]",a=s=>s>=1e5?`${(s/1e5).toFixed(2)}L`:s>=1e3?`${s.toLocaleString("en-IN",{maximumFractionDigits:0})}`:`${s.toLocaleString("en-IN",{maximumFractionDigits:2})}`;return l.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 border-r border-[var(--border-light)] last:border-0 shrink-0",children:[l.jsx("span",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase whitespace-nowrap",children:e.name}),l.jsx("span",{className:"text-[11px] font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:e.unit?`${a(e.price)}`:a(e.price)}),e.changePct!==void 0&&e.changePct!==null&&l.jsxs("span",{className:`flex items-center gap-0.5 text-[10px] font-bold tabular-nums ${r}`,children:[n,t?"+":"",e.changePct.toFixed(2),"%"]})]})}function NB(){const{selectedMember:e}=Yr(),{mfPortfolios:t,mfHoldings:n,insurancePolicies:r,goalList:a,reminderList:s}=ht(),c=(x,b)=>{const S=x||[];return e==="all"?S:S.filter(w=>w[b]===e)},u=j.useMemo(()=>{let x=0,b=0,S=0;return c((t||[]).filter(C=>C.status!=="Inactive"),"ownerId").forEach(C=>{const M=(n||[]).filter(E=>E.portfolioId===C.portfolioId&&E.units>0),A=M.reduce((E,T)=>E+T.currentValue,0),_=(C.rebalanceThreshold||.05)*100;M.forEach(E=>{if(E.athNav>0&&E.belowATHPct>=10?b++:E.athNav>0&&E.belowATHPct>=5&&x++,E.targetAllocationPct>0&&A>0){const T=E.currentValue/A*100;Math.abs(T-E.targetAllocationPct)>_&&S++}})}),{buyOppCount:x+b,buyCount:x,strongBuyCount:b,rebalanceCount:S}},[e,t,n]),f=j.useMemo(()=>{const x=[],b=c((r||[]).filter(A=>A.status==="Active"),"memberId");b.some(A=>A.policyType==="Term Life")||x.push({type:"critical",title:"Missing Term Life Insurance",badge:"Add Policy",navigateTo:"/insurance"});const w=b.filter(A=>A.policyType==="Health").reduce((A,_)=>A+_.sumAssured,0);return w===0?x.push({type:"critical",title:"No Health Insurance",badge:"Add Policy",navigateTo:"/insurance"}):w<5e5&&x.push({type:"warning",title:"Inadequate Health Insurance",badge:Q(w),navigateTo:"/insurance"}),c((a||[]).filter(A=>A.isActive!==!1&&A.goalType==="Emergency Fund"),"familyMemberId").forEach(A=>{const _=A.targetAmount>0?A.currentValue/A.targetAmount*100:0;_<100&&x.push({type:_>=75?"info":"warning",title:`Emergency Fund at ${_.toFixed(0)}%`,badge:Q(A.targetAmount-A.currentValue)+" left",navigateTo:"/goals"})}),c((s||[]).filter(A=>A.isActive!==!1),"familyMemberId").filter(A=>new Date(A.dueDate)<new Date).forEach(A=>{const _=Math.ceil((new Date-new Date(A.dueDate))/864e5);x.push({type:"critical",title:A.title,badge:`${_}d overdue`,navigateTo:"/reminders"})}),c((a||[]).filter(A=>A.isActive!==!1&&A.status==="Needs Attention"),"familyMemberId").forEach(A=>{x.push({type:"warning",title:`${A.goalName} needs attention`,badge:A.priority,navigateTo:"/goals"})}),x},[e,r,a,s]),m=j.useMemo(()=>{const x=c((s||[]).filter(S=>S.isActive!==!1&&S.status!=="Completed"),"familyMemberId"),b=new Date;return x.map(S=>{const w=new Date(S.dueDate)-b,y=Math.ceil(w/(1440*60*1e3)),C=new Date(S.dueDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short"});return{...S,days:y,dateStr:C}}).filter(S=>S.days>=0&&S.days<=30).sort((S,w)=>S.days-w.days).slice(0,5)},[e,s]),h=f.length+u.buyOppCount+u.rebalanceCount+m.length,v=f.filter(x=>x.type==="critical").length;return{criticalAlerts:f,investmentSignals:u,upcomingReminders:m,totalCount:h,criticalCount:v}}function OC(e){return e>=20?"bg-rose-500/20 text-[var(--accent-rose)]":e>=10?"bg-orange-500/20 text-[var(--accent-orange)]":e>=5?"bg-amber-500/20 text-[var(--accent-amber)]":"bg-slate-500/20 text-[var(--text-muted)]"}function TC(e){return e>=10?{label:"Strong Buy",cls:"bg-emerald-500/20 text-emerald-400 ring-1 ring-emerald-500/30"}:e>=5?{label:"Buy",cls:"bg-blue-500/20 text-blue-400"}:null}function sT(){const{mfHoldings:e,mfPortfolios:t}=ht(),n=j.useMemo(()=>t.filter(a=>a.status!=="Inactive").map(a=>{const s=e.filter(f=>f.portfolioId===a.portfolioId&&f.units>0),c=s.reduce((f,m)=>f+m.currentValue,0),u=s.filter(f=>f.athNav>0&&f.belowATHPct>=1).sort((f,m)=>m.belowATHPct-f.belowATHPct).map(f=>({...f,currentPct:c>0?f.currentValue/c*100:0}));return{...a,totalValue:c,opportunities:u}}).filter(a=>a.opportunities.length>0),[t,e]);return n.reduce((a,s)=>a+s.opportunities.length,0)===0?l.jsxs("div",{className:"py-8 text-center",children:[l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No buy opportunities right now"}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"All funds are near their all-time highs"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] px-1",children:"Funds below their All-Time High NAV. Higher discount = better opportunity."}),n.map((a,s)=>l.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-emerald-500/50 rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-[var(--bg-inset)]",children:[l.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-500/15 w-5 h-5 rounded flex items-center justify-center",children:s+1}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:a.portfolioName}),l.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:a.ownerName}),l.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15 text-emerald-400",children:[a.opportunities.length," funds"]})]}),l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),l.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Signal"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Below ATH"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"ATH NAV"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Current"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Value"})]})}),l.jsx("tbody",{children:a.opportunities.map(c=>{const u=TC(c.belowATHPct);return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[l.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[200px] truncate",children:c.fundName}),l.jsx("td",{className:"py-2 px-2 text-center",children:u?l.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded-full whitespace-nowrap ${u.cls}`,children:u.label}):l.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Watch"})}),l.jsx("td",{className:"py-2 px-2 text-right",children:l.jsxs("span",{className:`inline-block text-xs font-semibold px-1.5 py-0.5 rounded-full ${OC(c.belowATHPct)}`,children:["",c.belowATHPct.toFixed(1),"%"]})}),l.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:["",c.athNav.toFixed(2)]}),l.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:["",c.currentNav.toFixed(2)]}),l.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:Q(c.currentValue)})]},c.holdingId)})})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:a.opportunities.map(c=>{const u=TC(c.belowATHPct);return l.jsxs("div",{className:"px-3 py-2.5",children:[l.jsxs("div",{className:"flex items-start justify-between mb-1",children:[l.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight flex-1 mr-2",children:c.fundName}),l.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[u&&l.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded-full ${u.cls}`,children:u.label}),l.jsxs("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${OC(c.belowATHPct)}`,children:["",c.belowATHPct.toFixed(1),"%"]})]})]}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)]",children:[l.jsxs("span",{children:["ATH ",c.athNav.toFixed(2),"  ",c.currentNav.toFixed(2)]}),l.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:Q(c.currentValue)})]})]},c.holdingId)})})]},a.portfolioId))]})}function lT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=lT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function lt(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=lT(e))&&(r&&(r+=" "),r+=t);return r}const oT=6048e5,SB=864e5,kh=6e4,Eh=36e5,CB=1e3,PC=Symbol.for("constructDateFrom");function Ot(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&PC in e?e[PC](t):e instanceof Date?new e.constructor(t):new Date(t)}function ze(e,t){return Ot(t||e,e)}function ja(e,t,n){const r=ze(e,n?.in);return isNaN(t)?Ot(n?.in||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Aa(e,t,n){const r=ze(e,n?.in);if(isNaN(t))return Ot(e,NaN);if(!t)return r;const a=r.getDate(),s=Ot(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const c=s.getDate();return a>=c?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}function cT(e,t,n){return Ot(e,+ze(e)+t)}function AB(e,t,n){return cT(e,t*Eh)}let MB={};function to(){return MB}function Hi(e,t){const n=to(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=ze(e,t?.in),s=a.getDay(),c=(s<r?7:0)+s-r;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function oc(e,t){return Hi(e,{...t,weekStartsOn:1})}function uT(e,t){const n=ze(e,t?.in),r=n.getFullYear(),a=Ot(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=oc(a),c=Ot(n,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const u=oc(c);return n.getTime()>=s.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function bp(e){const t=ze(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Ji(e,...t){const n=Ot.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function Yl(e,t){const n=ze(e,t?.in);return n.setHours(0,0,0,0),n}function cc(e,t,n){const[r,a]=Ji(n?.in,e,t),s=Yl(r),c=Yl(a),u=+s-bp(s),f=+c-bp(c);return Math.round((u-f)/SB)}function DB(e,t){const n=uT(e,t),r=Ot(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),oc(r)}function id(e,t,n){const r=ze(e,n?.in);return r.setTime(r.getTime()+t*kh),r}function v1(e,t,n){return Aa(e,t*3,n)}function kB(e,t,n){return cT(e,t*1e3)}function yp(e,t,n){return ja(e,t*7,n)}function Na(e,t,n){return Aa(e,t*12,n)}function IC(e,t){let n,r=t?.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=Ot.bind(null,a));const s=ze(a,r);(!n||n<s||isNaN(+s))&&(n=s)}),Ot(r,n||NaN)}function RC(e,t){let n,r=t?.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=Ot.bind(null,a));const s=ze(a,r);(!n||n>s||isNaN(+s))&&(n=s)}),Ot(r,n||NaN)}function EB(e,t,n){const[r,a]=Ji(n?.in,e,t);return+Yl(r)==+Yl(a)}function ti(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function uc(e){return!(!ti(e)&&typeof e!="number"||isNaN(+ze(e)))}function wp(e,t,n){const[r,a]=Ji(n?.in,e,t),s=r.getFullYear()-a.getFullYear(),c=r.getMonth()-a.getMonth();return s*12+c}function Ls(e,t){const n=ze(e,t?.in);return Math.trunc(n.getMonth()/3)+1}function jp(e,t,n){const[r,a]=Ji(n?.in,e,t),s=r.getFullYear()-a.getFullYear(),c=Ls(r)-Ls(a);return s*4+c}function Np(e,t,n){const[r,a]=Ji(n?.in,e,t);return r.getFullYear()-a.getFullYear()}function _B(e,t,n){const[r,a]=Ji(n?.in,e,t),s=LC(r,a),c=Math.abs(cc(r,a));r.setDate(r.getDate()-s*c);const u=+(LC(r,a)===-s),f=s*(c-u);return f===0?0:f}function LC(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function dT(e,t){const n=ze(e,t?.in);return n.setHours(23,59,59,999),n}function fT(e,t){const n=ze(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Xb(e,t){const n=ze(e,t?.in),r=n.getMonth(),a=r-r%3;return n.setMonth(a,1),n.setHours(0,0,0,0),n}function mT(e,t){const n=ze(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function pT(e,t){const n=ze(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function _h(e,t){const n=ze(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function OB(e,t){const n=to(),r=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=ze(e,t?.in),s=a.getDay(),c=(s<r?-7:0)+6-(s-r);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}const TB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},PB=(e,t,n)=>{let r;const a=TB[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Vg(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const IB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},RB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},LB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zB={date:Vg({formats:IB,defaultWidth:"full"}),time:Vg({formats:RB,defaultWidth:"full"}),dateTime:Vg({formats:LB,defaultWidth:"full"})},FB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},BB=(e,t,n,r)=>FB[e];function Tu(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=n?.width?String(n.width):c;a=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=n?.width?String(n.width):e.defaultWidth;a=e.values[u]||e.values[c]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const $B={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},HB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},UB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},YB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},VB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},GB=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},KB={ordinalNumber:GB,era:Tu({values:$B,defaultWidth:"wide"}),quarter:Tu({values:qB,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Tu({values:HB,defaultWidth:"wide"}),day:Tu({values:UB,defaultWidth:"wide"}),dayPeriod:Tu({values:YB,defaultWidth:"wide",formattingValues:VB,defaultFormattingWidth:"wide"})};function Pu(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const c=s[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(u)?QB(u,v=>v.test(c)):WB(u,v=>v.test(c));let m;m=e.valueCallback?e.valueCallback(f):f,m=n.valueCallback?n.valueCallback(m):m;const h=t.slice(c.length);return{value:m,rest:h}}}function WB(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function QB(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function XB(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],s=t.match(e.parsePattern);if(!s)return null;let c=e.valueCallback?e.valueCallback(s[0]):s[0];c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(a.length);return{value:c,rest:u}}}const ZB=/^(\d+)(th|st|nd|rd)?/i,JB=/\d+/i,e$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},t$={any:[/^b/i,/^(a|c)/i]},r$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},n$={any:[/1/i,/2/i,/3/i,/4/i]},a$={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},i$={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},s$={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},l$={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},o$={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},c$={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},u$={ordinalNumber:XB({matchPattern:ZB,parsePattern:JB,valueCallback:e=>parseInt(e,10)}),era:Pu({matchPatterns:e$,defaultMatchWidth:"wide",parsePatterns:t$,defaultParseWidth:"any"}),quarter:Pu({matchPatterns:r$,defaultMatchWidth:"wide",parsePatterns:n$,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Pu({matchPatterns:a$,defaultMatchWidth:"wide",parsePatterns:i$,defaultParseWidth:"any"}),day:Pu({matchPatterns:s$,defaultMatchWidth:"wide",parsePatterns:l$,defaultParseWidth:"any"}),dayPeriod:Pu({matchPatterns:o$,defaultMatchWidth:"any",parsePatterns:c$,defaultParseWidth:"any"})},hT={code:"en-US",formatDistance:PB,formatLong:zB,formatRelative:BB,localize:KB,match:u$,options:{weekStartsOn:0,firstWeekContainsDate:1}};function d$(e,t){const n=ze(e,t?.in);return cc(n,_h(n))+1}function x1(e,t){const n=ze(e,t?.in),r=+oc(n)-+DB(n);return Math.round(r/oT)+1}function g1(e,t){const n=ze(e,t?.in),r=n.getFullYear(),a=to(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=Ot(t?.in||e,0);c.setFullYear(r+1,0,s),c.setHours(0,0,0,0);const u=Hi(c,t),f=Ot(t?.in||e,0);f.setFullYear(r,0,s),f.setHours(0,0,0,0);const m=Hi(f,t);return+n>=+u?r+1:+n>=+m?r:r-1}function f$(e,t){const n=to(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=g1(e,t),s=Ot(t?.in||e,0);return s.setFullYear(a,0,r),s.setHours(0,0,0,0),Hi(s,t)}function vT(e,t){const n=ze(e,t?.in),r=+Hi(n,t)-+f$(n,t);return Math.round(r/oT)+1}function Et(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Ts={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Et(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Et(n+1,2)},d(e,t){return Et(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Et(e.getHours()%12||12,t.length)},H(e,t){return Et(e.getHours(),t.length)},m(e,t){return Et(e.getMinutes(),t.length)},s(e,t){return Et(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return Et(a,t.length)}},Bo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zC={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Ts.y(e,t)},Y:function(e,t,n,r){const a=g1(e,r),s=a>0?a:1-a;if(t==="YY"){const c=s%100;return Et(c,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):Et(s,t.length)},R:function(e,t){const n=uT(e);return Et(n,t.length)},u:function(e,t){const n=e.getFullYear();return Et(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Et(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Et(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ts.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Et(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=vT(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):Et(a,t.length)},I:function(e,t,n){const r=x1(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Et(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ts.d(e,t)},D:function(e,t,n){const r=d$(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Et(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Et(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Et(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return Et(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Bo.noon:r===0?a=Bo.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Bo.evening:r>=12?a=Bo.afternoon:r>=4?a=Bo.morning:a=Bo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ts.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ts.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Et(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Et(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ts.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ts.s(e,t)},S:function(e,t){return Ts.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return BC(r);case"XXXX":case"XX":return Al(r);default:return Al(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return BC(r);case"xxxx":case"xx":return Al(r);default:return Al(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+FC(r,":");default:return"GMT"+Al(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+FC(r,":");default:return"GMT"+Al(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Et(r,t.length)},T:function(e,t,n){return Et(+e,t.length)}};function FC(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),s=r%60;return s===0?n+String(a):n+String(a)+t+Et(s,2)}function BC(e,t){return e%60===0?(e>0?"-":"+")+Et(Math.abs(e)/60,2):Al(e,t)}function Al(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Et(Math.trunc(r/60),2),s=Et(r%60,2);return n+a+t+s}const $C=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},xT=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},m$=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return $C(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",$C(r,t)).replace("{{time}}",xT(a,t))},Zb={p:xT,P:m$},p$=/^D+$/,h$=/^Y+$/,v$=["D","DD","YY","YYYY"];function x$(e){return p$.test(e)}function g$(e){return h$.test(e)}function b$(e,t,n){const r=y$(e,t,n);if(console.warn(r),v$.includes(e))throw new RangeError(r)}function y$(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const w$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,j$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,N$=/^'([^]*?)'?$/,S$=/''/g,C$=/[a-zA-Z]/;function qC(e,t,n){const r=to(),a=n?.locale??r.locale??hT,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,u=ze(e,n?.in);if(!uc(u))throw new RangeError("Invalid time value");let f=t.match(j$).map(h=>{const v=h[0];if(v==="p"||v==="P"){const x=Zb[v];return x(h,a.formatLong)}return h}).join("").match(w$).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const v=h[0];if(v==="'")return{isToken:!1,value:A$(h)};if(zC[v])return{isToken:!0,value:h};if(v.match(C$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:h}});a.localize.preprocessor&&(f=a.localize.preprocessor(u,f));const m={firstWeekContainsDate:s,weekStartsOn:c,locale:a};return f.map(h=>{if(!h.isToken)return h.value;const v=h.value;(!n?.useAdditionalWeekYearTokens&&g$(v)||!n?.useAdditionalDayOfYearTokens&&x$(v))&&b$(v,t,String(e));const x=zC[v[0]];return x(u,v,a.localize,m)}).join("")}function A$(e){const t=e.match(N$);return t?t[1].replace(S$,"'"):e}function HC(e,t){return ze(e,t?.in).getDate()}function M$(e,t){return ze(e,t?.in).getDay()}function D$(e,t){const n=ze(e,t?.in),r=n.getFullYear(),a=n.getMonth(),s=Ot(n,0);return s.setFullYear(r,a+1,0),s.setHours(0,0,0,0),s.getDate()}function k$(){return Object.assign({},to())}function Qr(e,t){return ze(e,t?.in).getHours()}function E$(e,t){const n=ze(e,t?.in).getDay();return n===0?7:n}function Xr(e,t){return ze(e,t?.in).getMinutes()}function bn(e,t){return ze(e,t?.in).getMonth()}function Fs(e){return ze(e).getSeconds()}function Jb(e){return+ze(e)}function ut(e,t){return ze(e,t?.in).getFullYear()}function Fi(e,t){return+ze(e)>+ze(t)}function Wa(e,t){return+ze(e)<+ze(t)}function _$(e,t){return+ze(e)==+ze(t)}function O$(e,t){const n=T$(t)?new t(0):Ot(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function T$(e){return typeof e=="function"&&e.prototype?.constructor===e}const P$=10;class gT{subPriority=0;validate(t,n){return!0}}class I$ extends gT{constructor(t,n,r,a,s){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=a,s&&(this.subPriority=s)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class R$ extends gT{priority=P$;subPriority=-1;constructor(t,n){super(),this.context=t||(r=>Ot(n,r))}set(t,n){return n.timestampIsSet?t:Ot(t,O$(t,this.context))}}class St{run(t,n,r,a){const s=this.parse(t,n,r,a);return s?{setter:new I$(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(t,n,r){return!0}}class L$ extends St{priority=140;parse(t,n,r){switch(n){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"});case"GGGGG":return r.era(t,{width:"narrow"});default:return r.era(t,{width:"wide"})||r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"})}}set(t,n,r){return n.era=r,t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const pr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ga={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function hr(e,t){return e&&{value:t(e.value),rest:e.rest}}function tr(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Ka(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,a=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,c=n[5]?parseInt(n[5],10):0;return{value:r*(a*Eh+s*kh+c*CB),rest:t.slice(n[0].length)}}function bT(e){return tr(pr.anyDigitsSigned,e)}function cr(e,t){switch(e){case 1:return tr(pr.singleDigit,t);case 2:return tr(pr.twoDigits,t);case 3:return tr(pr.threeDigits,t);case 4:return tr(pr.fourDigits,t);default:return tr(new RegExp("^\\d{1,"+e+"}"),t)}}function Sp(e,t){switch(e){case 1:return tr(pr.singleDigitSigned,t);case 2:return tr(pr.twoDigitsSigned,t);case 3:return tr(pr.threeDigitsSigned,t);case 4:return tr(pr.fourDigitsSigned,t);default:return tr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function b1(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function yT(e,t){const n=t>0,r=n?t:1-t;let a;if(r<=50)a=e||100;else{const s=r+50,c=Math.trunc(s/100)*100,u=e>=s%100;a=e+c-(u?100:0)}return n?a:1-a}function wT(e){return e%400===0||e%4===0&&e%100!==0}class z$ extends St{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,n,r){const a=s=>({year:s,isTwoDigitYear:n==="yy"});switch(n){case"y":return hr(cr(4,t),a);case"yo":return hr(r.ordinalNumber(t,{unit:"year"}),a);default:return hr(cr(n.length,t),a)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r){const a=t.getFullYear();if(r.isTwoDigitYear){const c=yT(r.year,a);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const s=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class F$ extends St{priority=130;parse(t,n,r){const a=s=>({year:s,isTwoDigitYear:n==="YY"});switch(n){case"Y":return hr(cr(4,t),a);case"Yo":return hr(r.ordinalNumber(t,{unit:"year"}),a);default:return hr(cr(n.length,t),a)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r,a){const s=g1(t,a);if(r.isTwoDigitYear){const u=yT(r.year,s);return t.setFullYear(u,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Hi(t,a)}const c=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(c,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Hi(t,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class B$ extends St{priority=130;parse(t,n){return Sp(n==="R"?4:n.length,t)}set(t,n,r){const a=Ot(t,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),oc(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class $$ extends St{priority=130;parse(t,n){return Sp(n==="u"?4:n.length,t)}set(t,n,r){return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class q$ extends St{priority=120;parse(t,n,r){switch(n){case"Q":case"QQ":return cr(n.length,t);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});default:return r.quarter(t,{width:"wide",context:"formatting"})||r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class H$ extends St{priority=120;parse(t,n,r){switch(n){case"q":case"qq":return cr(n.length,t);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});default:return r.quarter(t,{width:"wide",context:"standalone"})||r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class U$ extends St{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,n,r){const a=s=>s-1;switch(n){case"M":return hr(tr(pr.month,t),a);case"MM":return hr(cr(2,t),a);case"Mo":return hr(r.ordinalNumber(t,{unit:"month"}),a);case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});default:return r.month(t,{width:"wide",context:"formatting"})||r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}}class Y$ extends St{priority=110;parse(t,n,r){const a=s=>s-1;switch(n){case"L":return hr(tr(pr.month,t),a);case"LL":return hr(cr(2,t),a);case"Lo":return hr(r.ordinalNumber(t,{unit:"month"}),a);case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});default:return r.month(t,{width:"wide",context:"standalone"})||r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function V$(e,t,n){const r=ze(e,n?.in),a=vT(r,n)-t;return r.setDate(r.getDate()-a*7),ze(r,n?.in)}class G$ extends St{priority=100;parse(t,n,r){switch(n){case"w":return tr(pr.week,t);case"wo":return r.ordinalNumber(t,{unit:"week"});default:return cr(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r,a){return Hi(V$(t,r,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function K$(e,t,n){const r=ze(e,n?.in),a=x1(r,n)-t;return r.setDate(r.getDate()-a*7),r}class W$ extends St{priority=100;parse(t,n,r){switch(n){case"I":return tr(pr.week,t);case"Io":return r.ordinalNumber(t,{unit:"week"});default:return cr(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r){return oc(K$(t,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const Q$=[31,28,31,30,31,30,31,31,30,31,30,31],X$=[31,29,31,30,31,30,31,31,30,31,30,31];class Z$ extends St{priority=90;subPriority=1;parse(t,n,r){switch(n){case"d":return tr(pr.date,t);case"do":return r.ordinalNumber(t,{unit:"date"});default:return cr(n.length,t)}}validate(t,n){const r=t.getFullYear(),a=wT(r),s=t.getMonth();return a?n>=1&&n<=X$[s]:n>=1&&n<=Q$[s]}set(t,n,r){return t.setDate(r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class J$ extends St{priority=90;subpriority=1;parse(t,n,r){switch(n){case"D":case"DD":return tr(pr.dayOfYear,t);case"Do":return r.ordinalNumber(t,{unit:"date"});default:return cr(n.length,t)}}validate(t,n){const r=t.getFullYear();return wT(r)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,r){return t.setMonth(0,r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function y1(e,t,n){const r=to(),a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=ze(e,n?.in),c=s.getDay(),f=(t%7+7)%7,m=7-a,h=t<0||t>6?t-(c+m)%7:(f+m)%7-(c+m)%7;return ja(s,h,n)}class eq extends St{priority=90;parse(t,n,r){switch(n){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,a){return t=y1(t,r,a),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class tq extends St{priority=90;parse(t,n,r,a){const s=c=>{const u=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+u};switch(n){case"e":case"ee":return hr(cr(n.length,t),s);case"eo":return hr(r.ordinalNumber(t,{unit:"day"}),s);case"eee":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeeee":return r.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,a){return t=y1(t,r,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class rq extends St{priority=90;parse(t,n,r,a){const s=c=>{const u=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+u};switch(n){case"c":case"cc":return hr(cr(n.length,t),s);case"co":return hr(r.ordinalNumber(t,{unit:"day"}),s);case"ccc":return r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"ccccc":return r.day(t,{width:"narrow",context:"standalone"});case"cccccc":return r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});default:return r.day(t,{width:"wide",context:"standalone"})||r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,a){return t=y1(t,r,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function nq(e,t,n){const r=ze(e,n?.in),a=E$(r,n),s=t-a;return ja(r,s,n)}class aq extends St{priority=90;parse(t,n,r){const a=s=>s===0?7:s;switch(n){case"i":case"ii":return cr(n.length,t);case"io":return r.ordinalNumber(t,{unit:"day"});case"iii":return hr(r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return hr(r.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return hr(r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),a);default:return hr(r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,n){return n>=1&&n<=7}set(t,n,r){return t=nq(t,r),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class iq extends St{priority=80;parse(t,n,r){switch(n){case"a":case"aa":case"aaa":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(t,{width:"narrow",context:"formatting"});default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(b1(r),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class sq extends St{priority=80;parse(t,n,r){switch(n){case"b":case"bb":case"bbb":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(t,{width:"narrow",context:"formatting"});default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(b1(r),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class lq extends St{priority=80;parse(t,n,r){switch(n){case"B":case"BB":case"BBB":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(t,{width:"narrow",context:"formatting"});default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(b1(r),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class oq extends St{priority=70;parse(t,n,r){switch(n){case"h":return tr(pr.hour12h,t);case"ho":return r.ordinalNumber(t,{unit:"hour"});default:return cr(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,r){const a=t.getHours()>=12;return a&&r<12?t.setHours(r+12,0,0,0):!a&&r===12?t.setHours(0,0,0,0):t.setHours(r,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class cq extends St{priority=70;parse(t,n,r){switch(n){case"H":return tr(pr.hour23h,t);case"Ho":return r.ordinalNumber(t,{unit:"hour"});default:return cr(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,r){return t.setHours(r,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class uq extends St{priority=70;parse(t,n,r){switch(n){case"K":return tr(pr.hour11h,t);case"Ko":return r.ordinalNumber(t,{unit:"hour"});default:return cr(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.getHours()>=12&&r<12?t.setHours(r+12,0,0,0):t.setHours(r,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class dq extends St{priority=70;parse(t,n,r){switch(n){case"k":return tr(pr.hour24h,t);case"ko":return r.ordinalNumber(t,{unit:"hour"});default:return cr(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,r){const a=r<=24?r%24:r;return t.setHours(a,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class fq extends St{priority=60;parse(t,n,r){switch(n){case"m":return tr(pr.minute,t);case"mo":return r.ordinalNumber(t,{unit:"minute"});default:return cr(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setMinutes(r,0,0),t}incompatibleTokens=["t","T"]}class mq extends St{priority=50;parse(t,n,r){switch(n){case"s":return tr(pr.second,t);case"so":return r.ordinalNumber(t,{unit:"second"});default:return cr(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setSeconds(r,0),t}incompatibleTokens=["t","T"]}class pq extends St{priority=30;parse(t,n){const r=a=>Math.trunc(a*Math.pow(10,-n.length+3));return hr(cr(n.length,t),r)}set(t,n,r){return t.setMilliseconds(r),t}incompatibleTokens=["t","T"]}class hq extends St{priority=10;parse(t,n){switch(n){case"X":return Ka(Ga.basicOptionalMinutes,t);case"XX":return Ka(Ga.basic,t);case"XXXX":return Ka(Ga.basicOptionalSeconds,t);case"XXXXX":return Ka(Ga.extendedOptionalSeconds,t);default:return Ka(Ga.extended,t)}}set(t,n,r){return n.timestampIsSet?t:Ot(t,t.getTime()-bp(t)-r)}incompatibleTokens=["t","T","x"]}class vq extends St{priority=10;parse(t,n){switch(n){case"x":return Ka(Ga.basicOptionalMinutes,t);case"xx":return Ka(Ga.basic,t);case"xxxx":return Ka(Ga.basicOptionalSeconds,t);case"xxxxx":return Ka(Ga.extendedOptionalSeconds,t);default:return Ka(Ga.extended,t)}}set(t,n,r){return n.timestampIsSet?t:Ot(t,t.getTime()-bp(t)-r)}incompatibleTokens=["t","T","X"]}class xq extends St{priority=40;parse(t){return bT(t)}set(t,n,r){return[Ot(t,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class gq extends St{priority=20;parse(t){return bT(t)}set(t,n,r){return[Ot(t,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const bq={G:new L$,y:new z$,Y:new F$,R:new B$,u:new $$,Q:new q$,q:new H$,M:new U$,L:new Y$,w:new G$,I:new W$,d:new Z$,D:new J$,E:new eq,e:new tq,c:new rq,i:new aq,a:new iq,b:new sq,B:new lq,h:new oq,H:new cq,K:new uq,k:new dq,m:new fq,s:new mq,S:new pq,X:new hq,x:new vq,t:new xq,T:new gq},yq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jq=/^'([^]*?)'?$/,Nq=/''/g,Sq=/\S/,Cq=/[a-zA-Z]/;function Aq(e,t,n,r){const a=()=>Ot(r?.in||n,NaN),s=k$(),c=r?.locale??s.locale??hT,u=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,f=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(!t)return e?a():ze(n,r?.in);const m={firstWeekContainsDate:u,weekStartsOn:f,locale:c},h=[new R$(r?.in,n)],v=t.match(wq).map(y=>{const C=y[0];if(C in Zb){const M=Zb[C];return M(y,c.formatLong)}return y}).join("").match(yq),x=[];for(let y of v){const C=y[0],M=bq[C];if(M){const{incompatibleTokens:A}=M;if(Array.isArray(A)){const E=x.find(T=>A.includes(T.token)||T.token===C);if(E)throw new RangeError(`The format string mustn't contain \`${E.fullToken}\` and \`${y}\` at the same time`)}else if(M.incompatibleTokens==="*"&&x.length>0)throw new RangeError(`The format string mustn't contain \`${y}\` and any other token at the same time`);x.push({token:C,fullToken:y});const _=M.run(e,y,c.match,m);if(!_)return a();h.push(_.setter),e=_.rest}else{if(C.match(Cq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(y==="''"?y="'":C==="'"&&(y=Mq(y)),e.indexOf(y)===0)e=e.slice(y.length);else return a()}}if(e.length>0&&Sq.test(e))return a();const b=h.map(y=>y.priority).sort((y,C)=>C-y).filter((y,C,M)=>M.indexOf(y)===C).map(y=>h.filter(C=>C.priority===y).sort((C,M)=>M.subPriority-C.subPriority)).map(y=>y[0]);let S=ze(n,r?.in);if(isNaN(+S))return a();const w={};for(const y of b){if(!y.validate(S,m))return a();const C=y.set(S,w,m);Array.isArray(C)?(S=C[0],Object.assign(w,C[1])):S=C}return S}function Mq(e){return e.match(jq)[1].replace(Nq,"'")}function Dq(e,t,n){const[r,a]=Ji(n?.in,e,t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function kq(e,t,n){const[r,a]=Ji(n?.in,e,t);return+Xb(r)==+Xb(a)}function Eq(e,t,n){const[r,a]=Ji(n?.in,e,t);return r.getFullYear()===a.getFullYear()}function sd(e,t,n){const r=+ze(e,n?.in),[a,s]=[+ze(t.start,n?.in),+ze(t.end,n?.in)].sort((c,u)=>c-u);return r>=a&&r<=s}function _q(e,t,n){return ja(e,-1,n)}function Oq(e,t){const n=()=>Ot(t?.in,NaN),a=Rq(e);let s;if(a.date){const m=Lq(a.date,2);s=zq(m.restDateString,m.year)}if(!s||isNaN(+s))return n();const c=+s;let u=0,f;if(a.time&&(u=Fq(a.time),isNaN(u)))return n();if(a.timezone){if(f=Bq(a.timezone),isNaN(f))return n()}else{const m=new Date(c+u),h=ze(0,t?.in);return h.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),h.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),h}return ze(c+u+f,t?.in)}const fm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Tq=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Pq=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Iq=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Rq(e){const t={},n=e.split(fm.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],fm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(fm.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const a=fm.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function Lq(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?a:s*100,restDateString:e.slice((r[1]||r[2]).length)}}function zq(e,t){if(t===null)return new Date(NaN);const n=e.match(Tq);if(!n)return new Date(NaN);const r=!!n[4],a=Iu(n[1]),s=Iu(n[2])-1,c=Iu(n[3]),u=Iu(n[4]),f=Iu(n[5])-1;if(r)return Yq(t,u,f)?$q(t,u,f):new Date(NaN);{const m=new Date(0);return!Hq(t,s,c)||!Uq(t,a)?new Date(NaN):(m.setUTCFullYear(t,s,Math.max(a,c)),m)}}function Iu(e){return e?parseInt(e):1}function Fq(e){const t=e.match(Pq);if(!t)return NaN;const n=Gg(t[1]),r=Gg(t[2]),a=Gg(t[3]);return Vq(n,r,a)?n*Eh+r*kh+a*1e3:NaN}function Gg(e){return e&&parseFloat(e.replace(",","."))||0}function Bq(e){if(e==="Z")return 0;const t=e.match(Iq);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Gq(r,a)?n*(r*Eh+a*kh):NaN}function $q(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,s=(t-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+s),r}const qq=[31,null,31,30,31,30,31,31,30,31,30,31];function jT(e){return e%400===0||e%4===0&&e%100!==0}function Hq(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(qq[t]||(jT(e)?29:28))}function Uq(e,t){return t>=1&&t<=(jT(e)?366:365)}function Yq(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Vq(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Gq(e,t){return t>=0&&t<=59}function Pn(e,t,n){const r=ze(e,n?.in),a=r.getFullYear(),s=r.getDate(),c=Ot(e,0);c.setFullYear(a,t,15),c.setHours(0,0,0,0);const u=D$(c);return r.setMonth(t,Math.min(s,u)),r}function tp(e,t,n){const r=ze(e,n?.in);return r.setHours(t),r}function rp(e,t,n){const r=ze(e,n?.in);return r.setMinutes(t),r}function Wo(e,t,n){const r=ze(e,n?.in),a=Math.trunc(r.getMonth()/3)+1,s=t-a;return Pn(r,r.getMonth()+s*3)}function np(e,t,n){const r=ze(e,n?.in);return r.setSeconds(t),r}function Ya(e,t,n){const r=ze(e,n?.in);return isNaN(+r)?Ot(e,NaN):(r.setFullYear(t),r)}function Fl(e,t,n){return Aa(e,-t,n)}function NT(e,t,n){return v1(e,-1,n)}function UC(e,t,n){return yp(e,-1,n)}function Us(e,t,n){return Na(e,-t,n)}function Oh(){return typeof window<"u"}function Dc(e){return ST(e)?(e.nodeName||"").toLowerCase():"#document"}function zn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function di(e){var t;return(t=(ST(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ST(e){return Oh()?e instanceof Node||e instanceof zn(e).Node:!1}function tn(e){return Oh()?e instanceof Element||e instanceof zn(e).Element:!1}function ii(e){return Oh()?e instanceof HTMLElement||e instanceof zn(e).HTMLElement:!1}function YC(e){return!Oh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zn(e).ShadowRoot}const Kq=new Set(["inline","contents"]);function Dd(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=ia(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Kq.has(a)}const Wq=new Set(["table","td","th"]);function Qq(e){return Wq.has(Dc(e))}const Xq=[":popover-open",":modal"];function Th(e){return Xq.some(t=>{try{return e.matches(t)}catch{return!1}})}const Zq=["transform","translate","scale","rotate","perspective"],Jq=["transform","translate","scale","rotate","perspective","filter"],eH=["paint","layout","strict","content"];function w1(e){const t=j1(),n=tn(e)?ia(e):e;return Zq.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Jq.some(r=>(n.willChange||"").includes(r))||eH.some(r=>(n.contain||"").includes(r))}function tH(e){let t=Ys(e);for(;ii(t)&&!dc(t);){if(w1(t))return t;if(Th(t))return null;t=Ys(t)}return null}function j1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const rH=new Set(["html","body","#document"]);function dc(e){return rH.has(Dc(e))}function ia(e){return zn(e).getComputedStyle(e)}function Ph(e){return tn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ys(e){if(Dc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||YC(e)&&e.host||di(e);return YC(t)?t.host:t}function CT(e){const t=Ys(e);return dc(t)?e.ownerDocument?e.ownerDocument.body:e.body:ii(t)&&Dd(t)?t:CT(t)}function ld(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=CT(e),s=a===((r=e.ownerDocument)==null?void 0:r.body),c=zn(a);if(s){const u=ey(c);return t.concat(c,c.visualViewport||[],Dd(a)?a:[],u&&n?ld(u):[])}return t.concat(a,ld(a,[],n))}function ey(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const fc=Math.min,Bl=Math.max,Cp=Math.round,mm=Math.floor,ri=e=>({x:e,y:e}),nH={left:"right",right:"left",bottom:"top",top:"bottom"},aH={start:"end",end:"start"};function iH(e,t,n){return Bl(e,fc(t,n))}function Ih(e,t){return typeof e=="function"?e(t):e}function mc(e){return e.split("-")[0]}function kd(e){return e.split("-")[1]}function sH(e){return e==="x"?"y":"x"}function N1(e){return e==="y"?"height":"width"}const lH=new Set(["top","bottom"]);function Tl(e){return lH.has(mc(e))?"y":"x"}function S1(e){return sH(Tl(e))}function oH(e,t,n){n===void 0&&(n=!1);const r=kd(e),a=S1(e),s=N1(a);let c=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(c=Ap(c)),[c,Ap(c)]}function cH(e){const t=Ap(e);return[ty(e),t,ty(t)]}function ty(e){return e.replace(/start|end/g,t=>aH[t])}const VC=["left","right"],GC=["right","left"],uH=["top","bottom"],dH=["bottom","top"];function fH(e,t,n){switch(e){case"top":case"bottom":return n?t?GC:VC:t?VC:GC;case"left":case"right":return t?uH:dH;default:return[]}}function mH(e,t,n,r){const a=kd(e);let s=fH(mc(e),n==="start",r);return a&&(s=s.map(c=>c+"-"+a),t&&(s=s.concat(s.map(ty)))),s}function Ap(e){return e.replace(/left|right|bottom|top/g,t=>nH[t])}function pH(e){return{top:0,right:0,bottom:0,left:0,...e}}function AT(e){return typeof e!="number"?pH(e):{top:e,right:e,bottom:e,left:e}}function Mp(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}var hH=typeof document<"u",vH=function(){},Dp=hH?j.useLayoutEffect:vH;const xH={...t1},gH=xH.useInsertionEffect,bH=gH||(e=>e());function yH(e){const t=j.useRef(()=>{});return bH(()=>{t.current=e}),j.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function KC(e,t,n){let{reference:r,floating:a}=e;const s=Tl(t),c=S1(t),u=N1(c),f=mc(t),m=s==="y",h=r.x+r.width/2-a.width/2,v=r.y+r.height/2-a.height/2,x=r[u]/2-a[u]/2;let b;switch(f){case"top":b={x:h,y:r.y-a.height};break;case"bottom":b={x:h,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:v};break;case"left":b={x:r.x-a.width,y:v};break;default:b={x:r.x,y:r.y}}switch(kd(t)){case"start":b[c]-=x*(n&&m?-1:1);break;case"end":b[c]+=x*(n&&m?-1:1);break}return b}async function wH(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:s,rects:c,elements:u,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:h="viewport",elementContext:v="floating",altBoundary:x=!1,padding:b=0}=Ih(t,e),S=AT(b),y=u[x?v==="floating"?"reference":"floating":v],C=Mp(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:m,rootBoundary:h,strategy:f})),M=v==="floating"?{x:r,y:a,width:c.floating.width,height:c.floating.height}:c.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),_=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},E=Mp(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:M,offsetParent:A,strategy:f}):M);return{top:(C.top-E.top+S.top)/_.y,bottom:(E.bottom-C.bottom+S.bottom)/_.y,left:(C.left-E.left+S.left)/_.x,right:(E.right-C.right+S.right)/_.x}}const jH=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:s=[],platform:c}=n,u=s.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let m=await c.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:v}=KC(m,r,f),x=r,b={},S=0;for(let y=0;y<u.length;y++){var w;const{name:C,fn:M}=u[y],{x:A,y:_,data:E,reset:T}=await M({x:h,y:v,initialPlacement:r,placement:x,strategy:a,middlewareData:b,rects:m,platform:{...c,detectOverflow:(w=c.detectOverflow)!=null?w:wH},elements:{reference:e,floating:t}});h=A??h,v=_??v,b={...b,[C]:{...b[C],...E}},T&&S<=50&&(S++,typeof T=="object"&&(T.placement&&(x=T.placement),T.rects&&(m=T.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:a}):T.rects),{x:h,y:v}=KC(m,x,f)),y=-1)}return{x:h,y:v,placement:x,strategy:a,middlewareData:b}},NH=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:s,platform:c,elements:u,middlewareData:f}=t,{element:m,padding:h=0}=Ih(e,t)||{};if(m==null)return{};const v=AT(h),x={x:n,y:r},b=S1(a),S=N1(b),w=await c.getDimensions(m),y=b==="y",C=y?"top":"left",M=y?"bottom":"right",A=y?"clientHeight":"clientWidth",_=s.reference[S]+s.reference[b]-x[b]-s.floating[S],E=x[b]-s.reference[b],T=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let P=T?T[A]:0;(!P||!await(c.isElement==null?void 0:c.isElement(T)))&&(P=u.floating[A]||s.floating[S]);const O=_/2-E/2,L=P/2-w[S]/2-1,R=fc(v[C],L),B=fc(v[M],L),k=R,K=P-w[S]-B,W=P/2-w[S]/2+O,Z=iH(k,W,K),$=!f.arrow&&kd(a)!=null&&W!==Z&&s.reference[S]/2-(W<k?R:B)-w[S]/2<0,G=$?W<k?W-k:W-K:0;return{[b]:x[b]+G,data:{[b]:Z,centerOffset:W-Z-G,...$&&{alignmentOffset:G}},reset:$}}}),SH=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:s,rects:c,initialPlacement:u,platform:f,elements:m}=t,{mainAxis:h=!0,crossAxis:v=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:w=!0,...y}=Ih(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const C=mc(a),M=Tl(u),A=mc(u)===u,_=await(f.isRTL==null?void 0:f.isRTL(m.floating)),E=x||(A||!w?[Ap(u)]:cH(u)),T=S!=="none";!x&&T&&E.push(...mH(u,w,S,_));const P=[u,...E],O=await f.detectOverflow(t,y),L=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&L.push(O[C]),v){const W=oH(a,c,_);L.push(O[W[0]],O[W[1]])}if(R=[...R,{placement:a,overflows:L}],!L.every(W=>W<=0)){var B,k;const W=(((B=s.flip)==null?void 0:B.index)||0)+1,Z=P[W];if(Z&&(!(v==="alignment"?M!==Tl(Z):!1)||R.every(z=>Tl(z.placement)===M?z.overflows[0]>0:!0)))return{data:{index:W,overflows:R},reset:{placement:Z}};let $=(k=R.filter(G=>G.overflows[0]<=0).sort((G,z)=>G.overflows[1]-z.overflows[1])[0])==null?void 0:k.placement;if(!$)switch(b){case"bestFit":{var K;const G=(K=R.filter(z=>{if(T){const re=Tl(z.placement);return re===M||re==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(re=>re>0).reduce((re,he)=>re+he,0)]).sort((z,re)=>z[1]-re[1])[0])==null?void 0:K[0];G&&($=G);break}case"initialPlacement":$=u;break}if(a!==$)return{reset:{placement:$}}}return{}}}},CH=new Set(["left","top"]);async function AH(e,t){const{placement:n,platform:r,elements:a}=e,s=await(r.isRTL==null?void 0:r.isRTL(a.floating)),c=mc(n),u=kd(n),f=Tl(n)==="y",m=CH.has(c)?-1:1,h=s&&f?-1:1,v=Ih(t,e);let{mainAxis:x,crossAxis:b,alignmentAxis:S}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof S=="number"&&(b=u==="end"?S*-1:S),f?{x:b*h,y:x*m}:{x:x*m,y:b*h}}const MH=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:s,placement:c,middlewareData:u}=t,f=await AH(t,e);return c===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:a+f.x,y:s+f.y,data:{...f,placement:c}}}}};function MT(e){const t=ia(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=ii(e),s=a?e.offsetWidth:n,c=a?e.offsetHeight:r,u=Cp(n)!==s||Cp(r)!==c;return u&&(n=s,r=c),{width:n,height:r,$:u}}function C1(e){return tn(e)?e:e.contextElement}function tc(e){const t=C1(e);if(!ii(t))return ri(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:s}=MT(t);let c=(s?Cp(n.width):n.width)/r,u=(s?Cp(n.height):n.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const DH=ri(0);function DT(e){const t=zn(e);return!j1()||!t.visualViewport?DH:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function kH(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==zn(e)?!1:t}function Vl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),s=C1(e);let c=ri(1);t&&(r?tn(r)&&(c=tc(r)):c=tc(e));const u=kH(s,n,r)?DT(s):ri(0);let f=(a.left+u.x)/c.x,m=(a.top+u.y)/c.y,h=a.width/c.x,v=a.height/c.y;if(s){const x=zn(s),b=r&&tn(r)?zn(r):r;let S=x,w=ey(S);for(;w&&r&&b!==S;){const y=tc(w),C=w.getBoundingClientRect(),M=ia(w),A=C.left+(w.clientLeft+parseFloat(M.paddingLeft))*y.x,_=C.top+(w.clientTop+parseFloat(M.paddingTop))*y.y;f*=y.x,m*=y.y,h*=y.x,v*=y.y,f+=A,m+=_,S=zn(w),w=ey(S)}}return Mp({width:h,height:v,x:f,y:m})}function Rh(e,t){const n=Ph(e).scrollLeft;return t?t.left+n:Vl(di(e)).left+n}function kT(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Rh(e,n),a=n.top+t.scrollTop;return{x:r,y:a}}function EH(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const s=a==="fixed",c=di(r),u=t?Th(t.floating):!1;if(r===c||u&&s)return n;let f={scrollLeft:0,scrollTop:0},m=ri(1);const h=ri(0),v=ii(r);if((v||!v&&!s)&&((Dc(r)!=="body"||Dd(c))&&(f=Ph(r)),ii(r))){const b=Vl(r);m=tc(r),h.x=b.x+r.clientLeft,h.y=b.y+r.clientTop}const x=c&&!v&&!s?kT(c,f):ri(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-f.scrollLeft*m.x+h.x+x.x,y:n.y*m.y-f.scrollTop*m.y+h.y+x.y}}function _H(e){return Array.from(e.getClientRects())}function OH(e){const t=di(e),n=Ph(e),r=e.ownerDocument.body,a=Bl(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Bl(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+Rh(e);const u=-n.scrollTop;return ia(r).direction==="rtl"&&(c+=Bl(t.clientWidth,r.clientWidth)-a),{width:a,height:s,x:c,y:u}}const WC=25;function TH(e,t){const n=zn(e),r=di(e),a=n.visualViewport;let s=r.clientWidth,c=r.clientHeight,u=0,f=0;if(a){s=a.width,c=a.height;const h=j1();(!h||h&&t==="fixed")&&(u=a.offsetLeft,f=a.offsetTop)}const m=Rh(r);if(m<=0){const h=r.ownerDocument,v=h.body,x=getComputedStyle(v),b=h.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,S=Math.abs(r.clientWidth-v.clientWidth-b);S<=WC&&(s-=S)}else m<=WC&&(s+=m);return{width:s,height:c,x:u,y:f}}const PH=new Set(["absolute","fixed"]);function IH(e,t){const n=Vl(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,s=ii(e)?tc(e):ri(1),c=e.clientWidth*s.x,u=e.clientHeight*s.y,f=a*s.x,m=r*s.y;return{width:c,height:u,x:f,y:m}}function QC(e,t,n){let r;if(t==="viewport")r=TH(e,n);else if(t==="document")r=OH(di(e));else if(tn(t))r=IH(t,n);else{const a=DT(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Mp(r)}function ET(e,t){const n=Ys(e);return n===t||!tn(n)||dc(n)?!1:ia(n).position==="fixed"||ET(n,t)}function RH(e,t){const n=t.get(e);if(n)return n;let r=ld(e,[],!1).filter(u=>tn(u)&&Dc(u)!=="body"),a=null;const s=ia(e).position==="fixed";let c=s?Ys(e):e;for(;tn(c)&&!dc(c);){const u=ia(c),f=w1(c);!f&&u.position==="fixed"&&(a=null),(s?!f&&!a:!f&&u.position==="static"&&!!a&&PH.has(a.position)||Dd(c)&&!f&&ET(e,c))?r=r.filter(h=>h!==c):a=u,c=Ys(c)}return t.set(e,r),r}function LH(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const c=[...n==="clippingAncestors"?Th(t)?[]:RH(t,this._c):[].concat(n),r],u=c[0],f=c.reduce((m,h)=>{const v=QC(t,h,a);return m.top=Bl(v.top,m.top),m.right=fc(v.right,m.right),m.bottom=fc(v.bottom,m.bottom),m.left=Bl(v.left,m.left),m},QC(t,u,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function zH(e){const{width:t,height:n}=MT(e);return{width:t,height:n}}function FH(e,t,n){const r=ii(t),a=di(t),s=n==="fixed",c=Vl(e,!0,s,t);let u={scrollLeft:0,scrollTop:0};const f=ri(0);function m(){f.x=Rh(a)}if(r||!r&&!s)if((Dc(t)!=="body"||Dd(a))&&(u=Ph(t)),r){const b=Vl(t,!0,s,t);f.x=b.x+t.clientLeft,f.y=b.y+t.clientTop}else a&&m();s&&!r&&a&&m();const h=a&&!r&&!s?kT(a,u):ri(0),v=c.left+u.scrollLeft-f.x-h.x,x=c.top+u.scrollTop-f.y-h.y;return{x:v,y:x,width:c.width,height:c.height}}function Kg(e){return ia(e).position==="static"}function XC(e,t){if(!ii(e)||ia(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return di(e)===n&&(n=n.ownerDocument.body),n}function _T(e,t){const n=zn(e);if(Th(e))return n;if(!ii(e)){let a=Ys(e);for(;a&&!dc(a);){if(tn(a)&&!Kg(a))return a;a=Ys(a)}return n}let r=XC(e,t);for(;r&&Qq(r)&&Kg(r);)r=XC(r,t);return r&&dc(r)&&Kg(r)&&!w1(r)?n:r||tH(e)||n}const BH=async function(e){const t=this.getOffsetParent||_T,n=this.getDimensions,r=await n(e.floating);return{reference:FH(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function $H(e){return ia(e).direction==="rtl"}const qH={convertOffsetParentRelativeRectToViewportRelativeRect:EH,getDocumentElement:di,getClippingRect:LH,getOffsetParent:_T,getElementRects:BH,getClientRects:_H,getDimensions:zH,getScale:tc,isElement:tn,isRTL:$H};function OT(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function HH(e,t){let n=null,r;const a=di(e);function s(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),s();const m=e.getBoundingClientRect(),{left:h,top:v,width:x,height:b}=m;if(u||t(),!x||!b)return;const S=mm(v),w=mm(a.clientWidth-(h+x)),y=mm(a.clientHeight-(v+b)),C=mm(h),A={rootMargin:-S+"px "+-w+"px "+-y+"px "+-C+"px",threshold:Bl(0,fc(1,f))||1};let _=!0;function E(T){const P=T[0].intersectionRatio;if(P!==f){if(!_)return c();P?c(!1,P):r=setTimeout(()=>{c(!1,1e-7)},1e3)}P===1&&!OT(m,e.getBoundingClientRect())&&c(),_=!1}try{n=new IntersectionObserver(E,{...A,root:a.ownerDocument})}catch{n=new IntersectionObserver(E,A)}n.observe(e)}return c(!0),s}function UH(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,m=C1(e),h=a||s?[...m?ld(m):[],...ld(t)]:[];h.forEach(C=>{a&&C.addEventListener("scroll",n,{passive:!0}),s&&C.addEventListener("resize",n)});const v=m&&u?HH(m,n):null;let x=-1,b=null;c&&(b=new ResizeObserver(C=>{let[M]=C;M&&M.target===m&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var A;(A=b)==null||A.observe(t)})),n()}),m&&!f&&b.observe(m),b.observe(t));let S,w=f?Vl(e):null;f&&y();function y(){const C=Vl(e);w&&!OT(w,C)&&n(),w=C,S=requestAnimationFrame(y)}return n(),()=>{var C;h.forEach(M=>{a&&M.removeEventListener("scroll",n),s&&M.removeEventListener("resize",n)}),v?.(),(C=b)==null||C.disconnect(),b=null,f&&cancelAnimationFrame(S)}}const YH=MH,VH=SH,ZC=NH,GH=(e,t,n)=>{const r=new Map,a={platform:qH,...n},s={...a.platform,_c:r};return jH(e,t,{...a,platform:s})};var KH=typeof document<"u",WH=function(){},ap=KH?j.useLayoutEffect:WH;function kp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!kp(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const s=a[r];if(!(s==="_owner"&&e.$$typeof)&&!kp(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function TT(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function JC(e,t){const n=TT(e);return Math.round(t*n)/n}function Wg(e){const t=j.useRef(e);return ap(()=>{t.current=e}),t}function QH(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:s,floating:c}={},transform:u=!0,whileElementsMounted:f,open:m}=e,[h,v]=j.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,b]=j.useState(r);kp(x,r)||b(r);const[S,w]=j.useState(null),[y,C]=j.useState(null),M=j.useCallback(z=>{z!==T.current&&(T.current=z,w(z))},[]),A=j.useCallback(z=>{z!==P.current&&(P.current=z,C(z))},[]),_=s||S,E=c||y,T=j.useRef(null),P=j.useRef(null),O=j.useRef(h),L=f!=null,R=Wg(f),B=Wg(a),k=Wg(m),K=j.useCallback(()=>{if(!T.current||!P.current)return;const z={placement:t,strategy:n,middleware:x};B.current&&(z.platform=B.current),GH(T.current,P.current,z).then(re=>{const he={...re,isPositioned:k.current!==!1};W.current&&!kp(O.current,he)&&(O.current=he,Ad.flushSync(()=>{v(he)}))})},[x,t,n,B,k]);ap(()=>{m===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,v(z=>({...z,isPositioned:!1})))},[m]);const W=j.useRef(!1);ap(()=>(W.current=!0,()=>{W.current=!1}),[]),ap(()=>{if(_&&(T.current=_),E&&(P.current=E),_&&E){if(R.current)return R.current(_,E,K);K()}},[_,E,K,R,L]);const Z=j.useMemo(()=>({reference:T,floating:P,setReference:M,setFloating:A}),[M,A]),$=j.useMemo(()=>({reference:_,floating:E}),[_,E]),G=j.useMemo(()=>{const z={position:n,left:0,top:0};if(!$.floating)return z;const re=JC($.floating,h.x),he=JC($.floating,h.y);return u?{...z,transform:"translate("+re+"px, "+he+"px)",...TT($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:re,top:he}},[n,u,$.floating,h.x,h.y]);return j.useMemo(()=>({...h,update:K,refs:Z,elements:$,floatingStyles:G}),[h,K,Z,$,G])}const XH=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?ZC({element:r.current,padding:a}).fn(n):{}:r?ZC({element:r,padding:a}).fn(n):{}}}},ZH=(e,t)=>({...YH(e),options:[e,t]}),JH=(e,t)=>({...VH(e),options:[e,t]}),e9=(e,t)=>({...XH(e),options:[e,t]}),t9={...t1};let eA=!1,r9=0;const tA=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+r9++;function n9(){const[e,t]=j.useState(()=>eA?tA():void 0);return Dp(()=>{e==null&&t(tA())},[]),j.useEffect(()=>{eA=!0},[]),e}const a9=t9.useId,PT=a9||n9,i9=j.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:a},middlewareData:{arrow:s,shift:c}},width:u=14,height:f=7,tipRadius:m=0,strokeWidth:h=0,staticOffset:v,stroke:x,d:b,style:{transform:S,...w}={},...y}=t,C=PT(),[M,A]=j.useState(!1);if(Dp(()=>{if(!a)return;ia(a).direction==="rtl"&&A(!0)},[a]),!a)return null;const[_,E]=r.split("-"),T=_==="top"||_==="bottom";let P=v;(T&&c!=null&&c.x||!T&&c!=null&&c.y)&&(P=null);const O=h*2,L=O/2,R=u/2*(m/-8+1),B=f/2*m/4,k=!!b,K=P&&E==="end"?"bottom":"top";let W=P&&E==="end"?"right":"left";P&&M&&(W=E==="end"?"left":"right");const Z=s?.x!=null?P||s.x:"",$=s?.y!=null?P||s.y:"",G=b||"M0,0"+(" H"+u)+(" L"+(u-R)+","+(f-B))+(" Q"+u/2+","+f+" "+R+","+(f-B))+" Z",z={top:k?"rotate(180deg)":"",left:k?"rotate(90deg)":"rotate(-90deg)",bottom:k?"":"rotate(180deg)",right:k?"rotate(-90deg)":"rotate(90deg)"}[_];return l.jsxs("svg",{...y,"aria-hidden":!0,ref:n,width:k?u:u+O,height:u,viewBox:"0 0 "+u+" "+(f>u?f:u),style:{position:"absolute",pointerEvents:"none",[W]:Z,[K]:$,[_]:T||k?"100%":"calc(100% - "+O/2+"px)",transform:[z,S].filter(re=>!!re).join(" "),...w},children:[O>0&&l.jsx("path",{clipPath:"url(#"+C+")",fill:"none",stroke:x,strokeWidth:O+(b?0:1),d:G}),l.jsx("path",{stroke:O&&!b?y.fill:"none",d:G}),l.jsx("clipPath",{id:C,children:l.jsx("rect",{x:-L,y:L*(k?-1:1),width:u+O,height:u})})]})});function s9(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(a=>a(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const l9=j.createContext(null),o9=j.createContext(null),c9=()=>{var e;return((e=j.useContext(l9))==null?void 0:e.id)||null},u9=()=>j.useContext(o9);function d9(e){const{open:t=!1,onOpenChange:n,elements:r}=e,a=PT(),s=j.useRef({}),[c]=j.useState(()=>s9()),u=c9()!=null,[f,m]=j.useState(r.reference),h=yH((b,S,w)=>{s.current.openEvent=b?S:void 0,c.emit("openchange",{open:b,event:S,reason:w,nested:u}),n?.(b,S,w)}),v=j.useMemo(()=>({setPositionReference:m}),[]),x=j.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return j.useMemo(()=>({dataRef:s,open:t,onOpenChange:h,elements:x,events:c,floatingId:a,refs:v}),[t,h,x,c,a,v])}function f9(e){e===void 0&&(e={});const{nodeId:t}=e,n=d9({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,a=r.elements,[s,c]=j.useState(null),[u,f]=j.useState(null),h=a?.domReference||s,v=j.useRef(null),x=u9();Dp(()=>{h&&(v.current=h)},[h]);const b=QH({...e,elements:{...a,...u&&{reference:u}}}),S=j.useCallback(A=>{const _=tn(A)?{getBoundingClientRect:()=>A.getBoundingClientRect(),getClientRects:()=>A.getClientRects(),contextElement:A}:A;f(_),b.refs.setReference(_)},[b.refs]),w=j.useCallback(A=>{(tn(A)||A===null)&&(v.current=A,c(A)),(tn(b.refs.reference.current)||b.refs.reference.current===null||A!==null&&!tn(A))&&b.refs.setReference(A)},[b.refs]),y=j.useMemo(()=>({...b.refs,setReference:w,setPositionReference:S,domReference:v}),[b.refs,w,S]),C=j.useMemo(()=>({...b.elements,domReference:h}),[b.elements,h]),M=j.useMemo(()=>({...b,...r,refs:y,elements:C,nodeId:t}),[b,y,C,t,r]);return Dp(()=>{r.dataRef.current.floatingContext=M;const A=x?.nodesRef.current.find(_=>_.id===t);A&&(A.context=M)}),j.useMemo(()=>({...b,context:M,refs:y,elements:C}),[b,y,C,M])}var ry=function(t,n){return ry=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])},ry(t,n)};function Vr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ry(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var st=function(){return st=Object.assign||function(n){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(n[c]=r[c])}return n},st.apply(this,arguments)};function Qa(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,s;r<a;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var m9=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,a=r===void 0?!1:r,s=e.className,c=e.children,u=e.inline,f=n?"Choose Time":"Choose Date".concat(a?" and Time":"");return ce.createElement("div",{className:s,"aria-label":f,role:u?void 0:"dialog","aria-modal":u?void 0:"true",translate:"no"},c)},p9=function(e,t){var n=j.useRef(null),r=j.useRef(e);j.useEffect(function(){r.current=e},[e]);var a=j.useCallback(function(s){var c,u=s.composed&&s.composedPath&&s.composedPath().find(function(f){return f instanceof Node})||s.target;n.current&&!n.current.contains(u)&&(t&&u instanceof HTMLElement&&u.classList.contains(t)||(c=r.current)===null||c===void 0||c.call(r,s))},[t]);return j.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),n},Lh=function(e){var t=e.children,n=e.onClickOutside,r=e.className,a=e.containerRef,s=e.style,c=e.ignoreClass,u=p9(n,c);return ce.createElement("div",{className:r,style:s,ref:function(f){u.current=f,a&&(a.current=f)}},t)},pm=null,rA=!1;function IT(){if(rA)return pm;rA=!0;try{var e="date-fns-tz";pm=require(e)}catch{pm=null}return pm}function nA(e,t){if(!t)return e;var n=IT();return n?n.toZonedTime(e,t):e}function Oi(e,t){if(!t)return e;var n=IT();return n?n.fromZonedTime(e,t):e}var Ae;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Ae||(Ae={}));function RT(){var e=typeof window<"u"?window:globalThis;return e}var Ed=12;function gt(e){if(e==null)return new Date;var t=typeof e=="string"?Oq(e):ze(e);return gn(t)?t:new Date}function jl(e,t,n,r,a){a===void 0&&(a=gt());for(var s=pc(n)||pc(A1()),c=Array.isArray(t)?t:[t],u=0,f=c;u<f.length;u++){var m=f[u],h=Aq(e,m,a,{locale:s});if(gn(h)&&(!r||e===Gt(h,m,n)))return h}if(!r&&e&&e.length>=8){var v=new Date(e);if(uc(v))return v}return null}function h9(e,t){if(t===void 0&&(t=gt()),!e)return null;var n=e.match(/\b(1\d{3}|2\d{3})\b/);if(!n||!n[1])return null;var r=parseInt(n[1],10),a=e.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),s=a&&a[1]?parseInt(a[1],10)-1:t.getMonth();return new Date(r,s,1)}function gn(e){return uc(e)}function Pl(e){return e==null?null:ti(e)&&uc(e)?e:null}function Gt(e,t,n){if(n==="en")return qC(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?pc(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||pc(A1()),qC(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function xn(e,t){var n=t.dateFormat,r=t.locale,a=Array.isArray(n)&&n.length>0?n[0]:n;return e&&Gt(e,a,r)||""}var LT=" - ";function v9(e,t,n){if(!e&&!t)return"";var r=e?xn(e,n):"",a=t?xn(t,n):"",s=n.rangeSeparator||LT;return"".concat(r).concat(s).concat(a)}function x9(e,t){if(!e?.length)return"";var n=e[0]?xn(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var r=xn(e[1],t);return"".concat(n,", ").concat(r)}var a=e.length-1;return"".concat(n," (+").concat(a,")")}function Ti(e,t){var n=t.hour,r=n===void 0?0:n,a=t.minute,s=a===void 0?0:a,c=t.second,u=c===void 0?0:c;return tp(rp(np(e,u),s),r)}function g9(e){return x1(e)}function b9(e,t){return Gt(e,"ddd",t)}function Qu(e){return Yl(e)}function Bs(e,t,n){var r=pc(t||A1());return Hi(e,{locale:r,weekStartsOn:n})}function Bi(e){return mT(e)}function Xu(e){return _h(e)}function aA(e){return Xb(e)}function iA(){return Yl(gt())}function sA(e){return dT(e)}function y9(e){return OB(e)}function w9(e){return fT(e)}function Va(e,t){return e&&t?Eq(e,t):!e&&!t}function en(e,t){return e&&t?Dq(e,t):!e&&!t}function Ep(e,t){return e&&t?kq(e,t):!e&&!t}function pt(e,t){return e&&t?EB(e,t):!e&&!t}function Il(e,t){return e&&t?_$(e,t):!e&&!t}function Ml(e,t,n){var r,a=Yl(t),s=dT(n);try{r=sd(e,{start:a,end:s})}catch{r=!1}return r}function A1(){var e=RT();return e.__localeId__}function pc(e){if(typeof e=="string"){var t=RT();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function j9(e,t,n){return t(Gt(e,"EEEE",n))}function N9(e,t){return Gt(e,"EEEEEE",t)}function S9(e,t){return Gt(e,"EEE",t)}function M1(e,t){return Gt(Pn(gt(),e),"LLLL",t)}function zT(e,t){return Gt(Pn(gt(),e),"LLL",t)}function C9(e,t){return Gt(Wo(gt(),e),"QQQ",t)}function na(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,c=n.excludeDateIntervals,u=n.includeDates,f=n.includeDateIntervals,m=n.filterDate,h=n.disabled;return h?!0:_d(e,{minDate:r,maxDate:a})||s&&s.some(function(v){return v instanceof Date?pt(e,v):pt(e,v.date)})||c&&c.some(function(v){var x=v.start,b=v.end;return sd(e,{start:x,end:b})})||u&&!u.some(function(v){return pt(e,v)})||f&&!f.some(function(v){var x=v.start,b=v.end;return sd(e,{start:x,end:b})})||m&&!m(gt(e))||!1}function D1(e,t){var n=t===void 0?{}:t,r=n.excludeDates,a=n.excludeDateIntervals;return a&&a.length>0?a.some(function(s){var c=s.start,u=s.end;return sd(e,{start:c,end:u})}):r&&r.some(function(s){var c;return s instanceof Date?pt(e,s):pt(e,(c=s.date)!==null&&c!==void 0?c:new Date)})||!1}function FT(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,c=n.includeDates,u=n.filterDate;return _d(e,{minDate:r?mT(r):void 0,maxDate:a?fT(a):void 0})||s?.some(function(f){return en(e,f instanceof Date?f:f.date)})||c&&!c.some(function(f){return en(e,f)})||u&&!u(gt(e))||!1}function hm(e,t,n,r){var a=ut(e),s=bn(e),c=ut(t),u=bn(t),f=ut(r);return a===c&&a===f?s<=n&&n<=u:a<c?f===a&&s<=n||f===c&&u>=n||f<c&&f>a:!1}function A9(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,c=n.includeDates;return _d(e,{minDate:r,maxDate:a})||s&&s.some(function(u){return en(u instanceof Date?u:u.date,e)})||c&&!c.some(function(u){return en(u,e)})||!1}function vm(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,c=n.includeDates,u=n.filterDate,f=n.disabled;return f?!0:_d(e,{minDate:r,maxDate:a})||s?.some(function(m){return Ep(e,m instanceof Date?m:m.date)})||c&&!c.some(function(m){return Ep(e,m)})||u&&!u(gt(e))||!1}function xm(e,t,n){if(!t||!n||!uc(t)||!uc(n))return!1;var r=ut(t),a=ut(n);return r<=e&&a>=e}function ip(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,c=n.includeDates,u=n.filterDate,f=n.disabled;if(f)return!0;var m=new Date(e,0,1);return _d(m,{minDate:r?_h(r):void 0,maxDate:a?pT(a):void 0})||s?.some(function(h){return Va(m,h instanceof Date?h:h.date)})||c&&!c.some(function(h){return Va(m,h)})||u&&!u(gt(m))||!1}function gm(e,t,n,r){var a=ut(e),s=Ls(e),c=ut(t),u=Ls(t),f=ut(r);return a===c&&a===f?s<=n&&n<=u:a<c?f===a&&s<=n||f===c&&u>=n||f<c&&f>a:!1}function _d(e,t){var n,r=t===void 0?{}:t,a=r.minDate,s=r.maxDate;return(n=a&&cc(e,a)<0||s&&cc(e,s)>0)!==null&&n!==void 0?n:!1}function lA(e,t){return t.some(function(n){return Qr(n)===Qr(e)&&Xr(n)===Xr(e)&&Fs(n)===Fs(e)})}function oA(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,a=n.includeTimes,s=n.filterTime;return r&&lA(e,r)||a&&!lA(e,a)||s&&!s(e)||!1}function cA(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var a=gt();a=tp(a,Qr(e)),a=rp(a,Xr(e)),a=np(a,Fs(e));var s=gt();s=tp(s,Qr(n)),s=rp(s,Xr(n)),s=np(s,Fs(n));var c=gt();c=tp(c,Qr(r)),c=rp(c,Xr(r)),c=np(c,Fs(r));var u;try{u=!sd(a,{start:s,end:c})}catch{u=!1}return u}function uA(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.includeDates,s=Fl(e,1);return r&&wp(r,s)>0||a&&a.every(function(c){return wp(c,s)>0})||!1}function dA(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.includeDates,s=Aa(e,1);return r&&wp(s,r)>0||a&&a.every(function(c){return wp(s,c)>0})||!1}function M9(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.includeDates,s=_h(e),c=NT(s);return r&&jp(r,c)>0||a&&a.every(function(u){return jp(u,c)>0})||!1}function D9(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.includeDates,s=pT(e),c=v1(s,1);return r&&jp(c,r)>0||a&&a.every(function(u){return jp(c,u)>0})||!1}function fA(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.includeDates,s=Us(e,1);return r&&Np(r,s)>0||a&&a.every(function(c){return Np(c,s)>0})||!1}function k9(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.yearItemNumber,s=a===void 0?Ed:a,c=Xu(Us(e,s)),u=Ii(c,s).endPeriod,f=r&&ut(r);return f&&f>u||!1}function mA(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.includeDates,s=Na(e,1);return r&&Np(s,r)>0||a&&a.every(function(c){return Np(s,c)>0})||!1}function E9(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.yearItemNumber,s=a===void 0?Ed:a,c=Na(e,s),u=Ii(c,s).startPeriod,f=r&&ut(r);return f&&f<u||!1}function BT(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(a){return cc(a,t)>=0});return RC(r)}else return n?RC(n):t}function $T(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(a){return cc(a,t)<=0});return IC(r)}else return n?IC(n):t}function pA(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var r=new Map,a=0,s=e.length;a<s;a++){var c=e[a];if(ti(c)){var u=Gt(c,"MM.dd.yyyy"),f=r.get(u)||[];f.includes(t)||(f.push(t),r.set(u,f))}else if(typeof c=="object"){var m=Object.keys(c),h=(n=m[0])!==null&&n!==void 0?n:"",v=c[h];if(typeof h=="string"&&Array.isArray(v))for(var x=0,b=v.length;x<b;x++){var S=v[x];if(S){var u=Gt(S,"MM.dd.yyyy"),f=r.get(u)||[];f.includes(h)||(f.push(h),r.set(u,f))}}}}return r}function _9(e,t){return e.length!==t.length?!1:e.every(function(n,r){return n===t[r]})}function O9(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(r){var a=r.date,s=r.holidayName;if(ti(a)){var c=Gt(a,"MM.dd.yyyy"),u=n.get(c)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===t&&_9(u.holidayNames,[s]))){u.className=t;var f=u.holidayNames;u.holidayNames=f?Qa(Qa([],f,!0),[s],!1):[s],n.set(c,u)}}}),n}function T9(e,t,n,r,a){for(var s=a.length,c=[],u=0;u<s;u++){var f=e,m=a[u];m&&(f=AB(f,Qr(m)),f=id(f,Xr(m)),f=kB(f,Fs(m)));var h=id(e,(n+1)*r);Fi(f,t)&&Wa(f,h)&&m!=null&&c.push(m)}return c}function $o(e){return e<10?"0".concat(e):"".concat(e)}function Ii(e,t){t===void 0&&(t=Ed);var n=Math.ceil(ut(e)/t)*t,r=n-(t-1);return{startPeriod:r,endPeriod:n}}function P9(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function hA(e){var t=e.getSeconds(),n=e.getMilliseconds();return ze(e.getTime()-t*1e3-n)}function qT(e,t){return hA(e).getTime()===hA(t).getTime()}function vA(e){if(!ti(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function Qg(e,t){if(!ti(e)||!ti(t))throw new Error("Invalid date received");var n=vA(e),r=vA(t);return Wa(n,r)}function HT(e){return e.key===Ae.Space}var Xg=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;return r.inputRef=ce.createRef(),r.onTimeChange=function(a){var s,c;r.setState({time:a});var u=r.props.date,f=u instanceof Date&&!isNaN(+u),m=f?u:new Date;if(a?.includes(":")){var h=a.split(":"),v=h[0],x=h[1];m.setHours(Number(v)),m.setMinutes(Number(x))}(c=(s=r.props).onChange)===null||c===void 0||c.call(s,m)},r.renderTimeInput=function(){var a=r.state.time,s=r.props,c=s.date,u=s.timeString,f=s.customTimeInput;return f?j.cloneElement(f,{date:c,value:a,onChange:r.onTimeChange}):ce.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var m;(m=r.inputRef.current)===null||m===void 0||m.focus()},required:!0,value:a,onChange:function(m){r.onTimeChange(m.target.value||u)}})},r.state={time:r.props.timeString},r}return t.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},t.prototype.render=function(){return ce.createElement("div",{className:"react-datepicker__input-time-container"},ce.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ce.createElement("div",{className:"react-datepicker-time__input-container"},ce.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t})(j.Component),I9=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=j.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var a,s,c=r.key;c===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(s=(a=n.props).handleOnKeyDown)===null||s===void 0||s.call(a,r)},n.isSameDay=function(r){return pt(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var a=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(c){return n.isSameDayOrWeek(c)}):n.isSameDayOrWeek(n.props.selected),s=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!a&&n.isSameDayOrWeek(n.props.preSelection)&&!s},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),na(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate,disabled:n.props.disabled})},n.isExcluded=function(){return D1(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return pt(n.props.day,Bs(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&pt(r,Bs(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,a=r.day,s=r.highlightDates;if(!s)return!1;var c=Gt(a,"MM.dd.yyyy");return s.get(c)},n.getHolidaysClass=function(){var r,a=n.props,s=a.day,c=a.holidays;if(!c)return[void 0];var u=Gt(s,"MM.dd.yyyy");return c.has(u)?[(r=c.get(u))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,a=r.day,s=r.startDate,c=r.endDate;return!s||!c?!1:Ml(a,s,c)},n.isInSelectingRange=function(){var r,a=n.props,s=a.day,c=a.selectsStart,u=a.selectsEnd,f=a.selectsRange,m=a.selectsDisabledDaysInRange,h=a.startDate,v=a.swapRange,x=a.endDate,b=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;if(n.isAfterMonth()||n.isBeforeMonth()||!(c||u||f)||!b||!m&&n.isDisabled())return!1;if(c&&x&&(Wa(b,x)||Il(b,x)))return Ml(s,b,x);if(u&&h&&(Fi(b,h)||Il(b,h)))return Ml(s,h,b);if(f&&h&&!x){if(Il(b,h)||Fi(b,h))return Ml(s,h,b);if(v&&Wa(b,h))return Ml(s,b,h)}return!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var a=n.props,s=a.day,c=a.startDate,u=a.selectsStart,f=a.swapRange,m=a.selectsRange,h=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return u?pt(s,h):m&&f&&c&&h?pt(s,Wa(h,c)?h:c):pt(s,c)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var a=n.props,s=a.day,c=a.endDate,u=a.selectsEnd,f=a.selectsRange,m=a.swapRange,h=a.startDate,v=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return u?pt(s,v):f&&m&&h&&v?pt(s,Wa(v,h)?h:v):f?pt(s,v):pt(s,c)},n.isRangeStart=function(){var r=n.props,a=r.day,s=r.startDate,c=r.endDate;return!s||!c?!1:pt(s,a)},n.isRangeEnd=function(){var r=n.props,a=r.day,s=r.startDate,c=r.endDate;return!s||!c?!1:pt(c,a)},n.isWeekend=function(){var r=M$(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===bn(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(bn(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(gt())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return n.isSameDayOrWeek(a)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var a=n.props.dayClassName?n.props.dayClassName(r):void 0;return lt("react-datepicker__day",a,"react-datepicker__day--"+b9(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,a=r.day,s=r.ariaLabelPrefixWhenEnabled,c=s===void 0?"Choose":s,u=r.ariaLabelPrefixWhenDisabled,f=u===void 0?"Not available":u,m=n.isDisabled()||n.isExcluded()?f:c;return"".concat(m," ").concat(Gt(a,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,a=r.day,s=r.holidays,c=s===void 0?new Map:s,u=r.excludeDates,f=Gt(a,"MM.dd.yyyy"),m=[];return c.has(f)&&m.push.apply(m,c.get(f).holidayNames),n.isExcluded()&&m.push(u?.filter(function(h){return h instanceof Date?pt(h,a):pt(h?.date,a)}).map(function(h){if(!(h instanceof Date))return h?.message})),m.join(", ")},n.getTabIndex=function(){var r=n.props.selected,a=n.props.preSelection,s=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&pt(a,r))?0:-1;return s},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(HC(n.props.day),n.props.day):HC(n.props.day)},n.render=function(){return ce.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"gridcell",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&ce.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,r,a;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t})(j.Component),R9=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=j.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var a,s,c=r.key;c===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(s=(a=n.props).handleOnKeyDown)===null||s===void 0||s.call(a,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!pt(n.props.date,n.props.selected)&&pt(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||pt(n.props.date,n.props.selected)&&pt(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var a=!1;n.getTabIndex()===0&&!r?.isInputFocused&&pt(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(a=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,r=n.weekNumber,a=n.isWeekDisabled,s=n.ariaLabelPrefix,c=s===void 0?t.defaultProps.ariaLabelPrefix:s,u=n.onClick,f={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!a,"react-datepicker__week-number--selected":!!u&&pt(this.props.date,this.props.selected)};return ce.createElement("div",{ref:this.weekNumberEl,className:lt(f),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},r)},t})(j.Component),L9=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(r){return na(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,a){n.props.onDayClick&&n.props.onDayClick(r,a)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,a,s){for(var c,u,f,m=new Date(r),h=0;h<7;h++){var v=new Date(r);v.setDate(v.getDate()+h);var x=!n.isDisabled(v);if(x){m=v;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(m,a,s),n.props.showWeekPicker&&n.handleDayClick(m,s),((c=n.props.shouldCloseOnSelect)!==null&&c!==void 0?c:t.defaultProps.shouldCloseOnSelect)&&((f=(u=n.props).setOpen)===null||f===void 0||f.call(u,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):g9(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),a=ja(r,6),s=new Date(r);s<=a;){if(!n.isDisabled(s))return!1;s=ja(s,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),a=[],s=n.formatWeekNumber(r);if(n.props.showWeekNumber){var c=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,s):void 0;a.push(ce.createElement(R9,st({key:"W"},t.defaultProps,n.props,{weekNumber:s,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:c})))}return a.concat([0,1,2,3,4,5,6].map(function(u){var f=ja(r,u);return ce.createElement(I9,st({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,onClick:n.handleDayClick.bind(n,f),onMouseEnter:n.handleDayMouseEnter.bind(n,f)}))}))},n.startOfWeek=function(){return Bs(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!pt(n.startOfWeek(),n.props.selected)&&pt(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":pt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},r=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return ce.createElement("div",{className:lt(n,r),role:"row"},this.renderDays())},t})(j.Component),Ru,z9=6,rc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Zg=(Ru={},Ru[rc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Ru[rc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Ru[rc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Ru),bm=1;function xA(e,t){return e?rc.FOUR_COLUMNS:t?rc.TWO_COLUMNS:rc.THREE_COLUMNS}var F9=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=Qa([],Array(12),!0).map(function(){return j.createRef()}),n.QUARTER_REFS=Qa([],Array(4),!0).map(function(){return j.createRef()}),n.isDisabled=function(r){return na(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate,disabled:n.props.disabled})},n.isExcluded=function(r){return D1(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,a){var s,c;(c=(s=n.props).onDayClick)===null||c===void 0||c.call(s,r,a,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var a,s;(s=(a=n.props).onDayMouseEnter)===null||s===void 0||s.call(a,r)},n.handleMouseLeave=function(){var r,a;(a=(r=n.props).onMouseLeave)===null||a===void 0||a.call(r)},n.isRangeStartMonth=function(r){var a=n.props,s=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:en(Pn(s,r),c)},n.isRangeStartQuarter=function(r){var a=n.props,s=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:Ep(Wo(s,r),c)},n.isRangeEndMonth=function(r){var a=n.props,s=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:en(Pn(s,r),u)},n.isRangeEndQuarter=function(r){var a=n.props,s=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:Ep(Wo(s,r),u)},n.isInSelectingRangeMonth=function(r){var a,s=n.props,c=s.day,u=s.selectsStart,f=s.selectsEnd,m=s.selectsRange,h=s.startDate,v=s.endDate,x=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(u||f||m)||!x?!1:u&&v?hm(x,v,r,c):f&&h||m&&h&&!v?hm(h,x,r,c):!1},n.isSelectingMonthRangeStart=function(r){var a;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,c=s.day,u=s.startDate,f=s.selectsStart,m=Pn(c,r),h=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return f?en(m,h):en(m,u)},n.isSelectingMonthRangeEnd=function(r){var a;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,c=s.day,u=s.endDate,f=s.selectsEnd,m=s.selectsRange,h=Pn(c,r),v=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return f||m?en(h,v):en(h,u)},n.isInSelectingRangeQuarter=function(r){var a,s=n.props,c=s.day,u=s.selectsStart,f=s.selectsEnd,m=s.selectsRange,h=s.startDate,v=s.endDate,x=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(u||f||m)||!x?!1:u&&v?gm(x,v,r,c):f&&h||m&&h&&!v?gm(h,x,r,c):!1},n.isWeekInMonth=function(r){var a=n.props.day,s=ja(r,6);return en(r,a)||en(s,a)},n.isCurrentMonth=function(r,a){return ut(r)===ut(gt())&&a===bn(gt())},n.isCurrentQuarter=function(r,a){return ut(r)===ut(gt())&&a===Ls(gt())},n.isSelectedMonth=function(r,a,s){return bn(s)===a&&ut(r)===ut(s)},n.isSelectMonthInList=function(r,a,s){return s.some(function(c){return n.isSelectedMonth(r,a,c)})},n.isSelectedQuarter=function(r,a,s){return Ls(s)===a&&ut(r)===ut(s)},n.isSelectQuarterInList=function(r,a,s){return s.some(function(c){return n.isSelectedQuarter(r,a,c)})},n.isMonthSelected=function(){var r=n.props,a=r.day,s=r.selected,c=r.selectedDates,u=r.selectsMultiple,f=bn(a);return u?c?.some(function(m){return n.isSelectedMonth(a,f,m)}):!!s&&n.isSelectedMonth(a,f,s)},n.isQuarterSelected=function(){var r=n.props,a=r.day,s=r.selected,c=r.selectedDates,u=r.selectsMultiple,f=Ls(a);return u?c?.some(function(m){return n.isSelectedQuarter(a,f,m)}):!!s&&n.isSelectedQuarter(a,f,s)},n.renderWeeks=function(){if(!gn(n.props.day))return[];for(var r=[],a=n.props.fixedHeight,s=0,c=!1,u=Bs(Bi(n.props.day),n.props.locale,n.props.calendarStartDay),f=function(S){return n.props.showWeekPicker?Bs(S,n.props.locale,n.props.calendarStartDay):n.props.preSelection},m=function(S){return n.props.showWeekPicker?Bs(S,n.props.locale,n.props.calendarStartDay):n.props.selected},h=n.props.selected?m(n.props.selected):void 0,v=n.props.preSelection?f(n.props.preSelection):void 0;r.push(ce.createElement(L9,st({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:s,day:u,month:bn(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:h,preSelection:v,showWeekNumber:n.props.showWeekNumbers}))),!c;){s++,u=yp(u,1);var x=a&&s>=z9,b=!a&&!n.isWeekInMonth(u);if(x||b)if(n.props.peekNextMonth)c=!0;else break}return r},n.onMonthClick=function(r,a){var s=n.isMonthDisabledForLabelDate(a),c=s.isDisabled,u=s.labelDate;c||n.handleDayClick(Bi(u),r)},n.onMonthMouseEnter=function(r){var a=n.isMonthDisabledForLabelDate(r),s=a.isDisabled,c=a.labelDate;s||n.handleDayMouseEnter(Bi(c))},n.handleMonthNavigation=function(r,a){var s,c,u,f;(c=(s=n.props).setPreSelection)===null||c===void 0||c.call(s,a),(f=(u=n.MONTH_REFS[r])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus()},n.handleKeyboardNavigation=function(r,a,s){var c,u=n.props,f=u.selected,m=u.preSelection,h=u.setPreSelection,v=u.minDate,x=u.maxDate,b=u.showFourColumnMonthYearPicker,S=u.showTwoColumnMonthYearPicker;if(m){var w=xA(b,S),y=n.getVerticalOffset(w),C=(c=Zg[w])===null||c===void 0?void 0:c.grid,M=function(P,O,L){var R,B,k=O,K=L;switch(P){case Ae.ArrowRight:k=Aa(O,bm),K=L===11?0:L+bm;break;case Ae.ArrowLeft:k=Fl(O,bm),K=L===0?11:L-bm;break;case Ae.ArrowUp:k=Fl(O,y),K=!((R=C?.[0])===null||R===void 0)&&R.includes(L)?L+12-y:L-y;break;case Ae.ArrowDown:k=Aa(O,y),K=!((B=C?.[C.length-1])===null||B===void 0)&&B.includes(L)?L-12+y:L+y;break}return{newCalculatedDate:k,newCalculatedMonth:K}},A=function(P,O,L){for(var R=40,B=P,k=!1,K=0,W=M(B,O,L),Z=W.newCalculatedDate,$=W.newCalculatedMonth;!k;){if(K>=R){Z=O,$=L;break}if(v&&Z<v){B=Ae.ArrowRight;var G=M(B,Z,$);Z=G.newCalculatedDate,$=G.newCalculatedMonth}if(x&&Z>x){B=Ae.ArrowLeft;var G=M(B,Z,$);Z=G.newCalculatedDate,$=G.newCalculatedMonth}if(A9(Z,n.props)){var G=M(B,Z,$);Z=G.newCalculatedDate,$=G.newCalculatedMonth}else k=!0;K++}return{newCalculatedDate:Z,newCalculatedMonth:$}};if(a===Ae.Enter){n.isMonthDisabled(s)||(n.onMonthClick(r,s),h?.(f));return}var _=A(a,m,s),E=_.newCalculatedDate,T=_.newCalculatedMonth;switch(a){case Ae.ArrowRight:case Ae.ArrowLeft:case Ae.ArrowUp:case Ae.ArrowDown:n.handleMonthNavigation(T,E);break}}},n.getVerticalOffset=function(r){var a,s;return(s=(a=Zg[r])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&s!==void 0?s:0},n.onMonthKeyDown=function(r,a){var s=n.props,c=s.disabledKeyboardNavigation,u=s.handleOnMonthKeyDown,f=r.key;f!==Ae.Tab&&r.preventDefault(),c||n.handleKeyboardNavigation(r,f,a),u&&u(r)},n.onQuarterClick=function(r,a){var s=Wo(n.props.day,a);vm(s,n.props)||n.handleDayClick(aA(s),r)},n.onQuarterMouseEnter=function(r){var a=Wo(n.props.day,r);vm(a,n.props)||n.handleDayMouseEnter(aA(a))},n.handleQuarterNavigation=function(r,a){var s,c,u,f;n.isDisabled(a)||n.isExcluded(a)||((c=(s=n.props).setPreSelection)===null||c===void 0||c.call(s,a),(f=(u=n.QUARTER_REFS[r-1])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus())},n.onQuarterKeyDown=function(r,a){var s,c,u=r.key;if(!n.props.disabledKeyboardNavigation)switch(u){case Ae.Enter:n.onQuarterClick(r,a),(c=(s=n.props).setPreSelection)===null||c===void 0||c.call(s,n.props.selected);break;case Ae.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(a===4?1:a+1,v1(n.props.preSelection,1));break;case Ae.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(a===1?4:a-1,NT(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(r){var a,s=n.props,c=s.day,u=s.disabled,f=s.minDate,m=s.maxDate,h=s.excludeDates,v=s.includeDates,x=Pn(c,r);return u?{isDisabled:!0,labelDate:Pn(c,r)}:{isDisabled:(a=(f||m||h||v)&&FT(x,n.props))!==null&&a!==void 0?a:!1,labelDate:x}},n.isMonthDisabled=function(r){var a=n.isMonthDisabledForLabelDate(r).isDisabled;return a},n.getMonthClassNames=function(r){var a=n.props,s=a.day,c=a.startDate,u=a.endDate,f=a.preSelection,m=a.monthClassName,h=m?m(Pn(s,r)):void 0,v=n.getSelection();return lt("react-datepicker__month-text","react-datepicker__month-".concat(r),h,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":v?n.isSelectMonthInList(s,r,v):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&f&&n.isSelectedMonth(s,r,f)&&!n.isMonthSelected()&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":c&&u?hm(c,u,r,s):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(s,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var a=bn(n.props.preSelection),s=n.isMonthDisabledForLabelDate(a).isDisabled,c=r===a&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return c},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var a=Ls(n.props.preSelection),s=vm(n.props.day,n.props),c=r===a&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return c},n.getAriaLabel=function(r){var a=n.props,s=a.chooseDayAriaLabelPrefix,c=s===void 0?"Choose":s,u=a.disabledDayAriaLabelPrefix,f=u===void 0?"Not available":u,m=a.day,h=a.locale,v=Pn(m,r),x=n.isDisabled(v)||n.isExcluded(v)?f:c;return"".concat(x," ").concat(Gt(v,"MMMM yyyy",h))},n.getQuarterClassNames=function(r){var a=n.props,s=a.day,c=a.startDate,u=a.endDate,f=a.minDate,m=a.maxDate,h=a.excludeDates,v=a.includeDates,x=a.filterDate,b=a.preSelection,S=a.disabledKeyboardNavigation,w=a.disabled,y=(f||m||h||v||x||w)&&vm(Wo(s,r),n.props),C=n.getSelection();return lt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":y,"react-datepicker__quarter-text--selected":C?n.isSelectQuarterInList(s,r,C):void 0,"react-datepicker__quarter-text--keyboard-selected":!S&&b&&n.isSelectedQuarter(s,r,b)&&!n.isQuarterSelected()&&!y,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":c&&u?gm(c,u,r,s):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(s,r)})},n.getMonthContent=function(r){var a=n.props,s=a.showFullMonthYearPicker,c=a.renderMonthContent,u=a.locale,f=a.day,m=zT(r,u),h=M1(r,u);return c?c(r,m,h,f):s?h:m},n.getQuarterContent=function(r){var a,s=n.props,c=s.renderQuarterContent,u=s.locale,f=C9(r,u);return(a=c?.(r,f))!==null&&a!==void 0?a:f},n.renderMonths=function(){var r,a=n.props,s=a.showTwoColumnMonthYearPicker,c=a.showFourColumnMonthYearPicker,u=a.day,f=a.selected,m=(r=Zg[xA(c,s)])===null||r===void 0?void 0:r.grid;return m?.map(function(h,v){return ce.createElement("div",{className:"react-datepicker__month-wrapper",key:v},h.map(function(x,b){return ce.createElement("div",{ref:n.MONTH_REFS[x],key:b,onClick:function(S){n.onMonthClick(S,x)},onKeyDown:function(S){HT(S)&&(S.preventDefault(),S.key=Ae.Enter),n.onMonthKeyDown(S,x)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(x)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(x)}:void 0,tabIndex:Number(n.getTabIndex(x)),className:n.getMonthClassNames(x),"aria-disabled":n.isMonthDisabled(x),role:"option","aria-label":n.getAriaLabel(x),"aria-current":n.isCurrentMonth(u,x)?"date":void 0,"aria-selected":f?n.isSelectedMonth(u,x,f):void 0},n.getMonthContent(x))}))})},n.renderQuarters=function(){var r=n.props,a=r.day,s=r.selected,c=[1,2,3,4];return ce.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(u,f){return ce.createElement("div",{key:f,ref:n.QUARTER_REFS[f],role:"option",onClick:function(m){n.onQuarterClick(m,u)},onKeyDown:function(m){n.onQuarterKeyDown(m,u)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(u)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(u)}:void 0,className:n.getQuarterClassNames(u),"aria-selected":s?n.isSelectedQuarter(a,u,s):void 0,tabIndex:Number(n.getQuarterTabIndex(u)),"aria-current":n.isCurrentQuarter(a,u)?"date":void 0},n.getQuarterContent(u))}))},n.getClassNames=function(){var r=n.props,a=r.selectingDate,s=r.selectsStart,c=r.selectsEnd,u=r.showMonthYearPicker,f=r.showQuarterYearPicker,m=r.showWeekPicker;return lt("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(s||c)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":m})},n}return t.prototype.getSelection=function(){var n=this.props,r=n.selected,a=n.selectedDates,s=n.selectsMultiple;if(s)return a;if(r)return[r]},t.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,a=n.showQuarterYearPicker,s=n.day,c=n.ariaLabelPrefix,u=c===void 0?"Month ":c,f=u?u.trim()+" ":"",m=gn(s)?"".concat(f).concat(Gt(s,"MMMM, yyyy",this.props.locale)):"",h=r||a;return h?ce.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":m,role:"listbox"},r?this.renderMonths():this.renderQuarters()):ce.createElement("div",{role:"table"},this.props.dayNamesHeader&&ce.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&ce.createElement("div",{role:"rowgroup"},this.props.monthHeader),ce.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":m,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&ce.createElement("div",{role:"rowgroup"},this.props.monthFooter))},t})(j.Component),B9=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.monthOptionButtonsRef={},n.isSelectedMonth=function(r){return n.props.month===r},n.handleOptionKeyDown=function(r,a){var s;switch(a.key){case"Enter":a.preventDefault(),n.onChange(r);break;case"Escape":a.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{a.preventDefault();var c=(r+(a.key==="ArrowUp"?-1:1)+n.props.monthNames.length)%n.props.monthNames.length;(s=n.monthOptionButtonsRef[c])===null||s===void 0||s.focus();break}}},n.renderOptions=function(){return n.monthOptionButtonsRef={},n.props.monthNames.map(function(r,a){return ce.createElement("div",{ref:function(s){n.monthOptionButtonsRef[a]=s,n.isSelectedMonth(a)&&s?.focus()},role:"button",tabIndex:0,className:n.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,a),onKeyDown:n.handleOptionKeyDown.bind(n,a),"aria-selected":n.isSelectedMonth(a)?"true":void 0},n.isSelectedMonth(a)?ce.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return ce.createElement(Lh,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),$9=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(a,s){return ce.createElement("option",{key:a,value:s},a)})},n.renderSelectMode=function(r){return ce.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(a){return n.onChange(parseInt(a.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,a){return ce.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},ce.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ce.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[n.props.month]))},n.renderDropdown=function(r){return ce.createElement(B9,st({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var a=n.state.dropdownVisible,s=[n.renderReadView(!a,r)];return a&&s.unshift(n.renderDropdown(r)),s},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return zT(s,n.props.locale)}:function(s){return M1(s,n.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(r);break;case"select":a=this.renderSelectMode(r);break}return ce.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},t})(j.Component),gA=5;function q9(e,t,n){for(var r=[],a=e??Us(n,gA),s=t??Na(n,gA),c=Bi(a),u=Bi(s);!Fi(c,u);)r.push(gt(c)),c=Aa(c,1);return r}var H9=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(a){var s=Jb(a),c=Va(r.props.date,a)&&en(r.props.date,a);return ce.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":c?"true":void 0},c?ce.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Gt(a,r.props.dateFormat,r.props.locale))})},r.onChange=function(a){return r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:q9(r.props.minDate,r.props.maxDate,r.props.date)},r}return t.prototype.render=function(){var n=lt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ce.createElement(Lh,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),bA=5,U9=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r,a,s=(r=n.props.minDate)!==null&&r!==void 0?r:Us(n.props.date,bA),c=(a=n.props.maxDate)!==null&&a!==void 0?a:Na(n.props.date,bA),u=Bi(s),f=Bi(c),m=[];!Fi(u,f);){var h=Jb(u);m.push(ce.createElement("option",{key:h,value:h},Gt(u,n.props.dateFormat,n.props.locale))),u=Aa(u,1)}return m},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return ce.createElement("select",{value:Jb(Bi(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var a=Gt(n.props.date,n.props.dateFormat,n.props.locale);return ce.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},ce.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ce.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},n.renderDropdown=function(){return ce.createElement(H9,st({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,a=[n.renderReadView(!r)];return r&&a.unshift(n.renderDropdown()),a},n.onChange=function(r){n.toggleDropdown();var a=gt(r);Va(n.props.date,a)&&en(n.props.date,a)||n.props.onChange(a)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return ce.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t})(j.Component),Y9=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,a,s;n.list&&(n.list.scrollTop=(s=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((a=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&a!==void 0?a:0):n.list.clientHeight,n.centerLi))!==null&&s!==void 0?s:0)})},n.handleClick=function(r){var a,s;(n.props.minTime||n.props.maxTime)&&cA(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&oA(r,n.props)||(s=(a=n.props).onChange)===null||s===void 0||s.call(a,r)},n.isSelectedTime=function(r){var a=Pl(n.props.selected);return a&&qT(a,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&cA(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&oA(r,n.props)},n.liClasses=function(r){var a,s=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(Qr(r)*3600+Xr(r)*60+Fs(r))%(((a=n.props.intervals)!==null&&a!==void 0?a:t.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},n.handleOnKeyDown=function(r,a){var s,c;r.key===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(r.key===Ae.ArrowUp||r.key===Ae.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Ae.ArrowDown||r.key===Ae.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Ae.Enter&&n.handleClick(a),(c=(s=n.props).handleOnKeyDown)===null||c===void 0||c.call(s,r)},n.renderTimes=function(){for(var r,a=[],s=typeof n.props.format=="string"?n.props.format:"p",c=(r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals,u=Pl(n.props.selected)||Pl(n.props.openToDate)||gt(),f=Qu(u),m=n.props.injectTimes&&n.props.injectTimes.sort(function(y,C){return y.getTime()-C.getTime()}),h=60*P9(u),v=h/c,x=0;x<v;x++){var b=id(f,x*c);if(a.push(b),m){var S=T9(f,b,x,c,m);a=a.concat(S)}}var w=a.reduce(function(y,C){return C.getTime()<=u.getTime()?C:y},a[0]);return a.map(function(y){return ce.createElement("li",{key:y.valueOf(),onClick:n.handleClick.bind(n,y),className:n.liClasses(y),ref:function(C){y===w&&(n.centerLi=C)},onKeyDown:function(C){n.handleOnKeyDown(C,y)},tabIndex:y===w?0:-1,role:"option","aria-selected":n.isSelectedTime(y)?"true":void 0,"aria-disabled":n.isDisabledTime(y)?"true":void 0},Gt(y,s,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?ce.createElement(ce.Fragment,null):ce.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},ce.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},t.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var n=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==n&&this.setState({height:n})}},t.prototype.render=function(){var n=this,r,a=this.state.height;return ce.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ce.createElement("div",{className:"react-datepicker__time"},ce.createElement("div",{className:"react-datepicker__time-box"},ce.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){n.list=s},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},t})(j.Component),yA=3,V9=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;return r.YEAR_REFS=Qa([],Array(r.props.yearItemNumber),!0).map(function(){return j.createRef()}),r.isDisabled=function(a){return na(a,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(a){return D1(a,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var a;return(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection},r.updateFocusOnPaginate=function(a){var s=function(){var c,u;(u=(c=r.YEAR_REFS[a])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(a,s){r.props.onDayClick&&r.props.onDayClick(a,s)},r.handleYearNavigation=function(a,s){var c,u,f,m,h=r.props,v=h.date,x=h.yearItemNumber;if(!(v===void 0||x===void 0)){var b=Ii(v,x).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((u=(c=r.props).setPreSelection)===null||u===void 0||u.call(c,s),a-b<0?r.updateFocusOnPaginate(x-(b-a)):a-b>=x?r.updateFocusOnPaginate(Math.abs(x-(a-b))):(m=(f=r.YEAR_REFS[a-b])===null||f===void 0?void 0:f.current)===null||m===void 0||m.focus())}},r.isSameDay=function(a,s){return pt(a,s)},r.isCurrentYear=function(a){return a===ut(gt())},r.isRangeStart=function(a){return r.props.startDate&&r.props.endDate&&Va(Ya(gt(),a),r.props.startDate)},r.isRangeEnd=function(a){return r.props.startDate&&r.props.endDate&&Va(Ya(gt(),a),r.props.endDate)},r.isInRange=function(a){return xm(a,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(a){var s=r.props,c=s.selectsStart,u=s.selectsEnd,f=s.selectsRange,m=s.startDate,h=s.endDate;return!(c||u||f)||!r.selectingDate()?!1:c&&h?xm(a,r.selectingDate(),h):u&&m||f&&m&&!h?xm(a,m,r.selectingDate()):!1},r.isSelectingRangeStart=function(a){var s;if(!r.isInSelectingRange(a))return!1;var c=r.props,u=c.startDate,f=c.selectsStart,m=Ya(gt(),a);return f?Va(m,(s=r.selectingDate())!==null&&s!==void 0?s:null):Va(m,u??null)},r.isSelectingRangeEnd=function(a){var s;if(!r.isInSelectingRange(a))return!1;var c=r.props,u=c.endDate,f=c.selectsEnd,m=c.selectsRange,h=Ya(gt(),a);return f||m?Va(h,(s=r.selectingDate())!==null&&s!==void 0?s:null):Va(h,u??null)},r.isKeyboardSelected=function(a){if(!(r.props.disabledKeyboardNavigation||r.props.date===void 0||r.props.preSelection==null)){var s=r.props,c=s.minDate,u=s.maxDate,f=s.excludeDates,m=s.includeDates,h=s.filterDate,v=s.selected,x=Xu(Ya(r.props.date,a)),b=(c||u||f||m||h)&&ip(a,r.props),S=!!v&&pt(x,Xu(v)),w=pt(x,Xu(r.props.preSelection));return!r.props.inline&&!S&&w&&!b}},r.isSelectedYear=function(a){var s=r.props,c=s.selectsMultiple,u=s.selected,f=s.selectedDates;return c?f?.some(function(m){return a===ut(m)}):!!u&&a===ut(u)},r.onYearClick=function(a,s){var c=r.props.date;c!==void 0&&r.handleYearClick(Xu(Ya(c,s)),a)},r.onYearKeyDown=function(a,s){var c,u,f=a.key,m=r.props,h=m.date,v=m.yearItemNumber,x=m.handleOnKeyDown;if(f!==Ae.Tab&&a.preventDefault(),!r.props.disabledKeyboardNavigation)switch(f){case Ae.Enter:if(r.props.selected==null)break;r.onYearClick(a,s),(u=(c=r.props).setPreSelection)===null||u===void 0||u.call(c,r.props.selected);break;case Ae.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,Na(r.props.preSelection,1));break;case Ae.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,Us(r.props.preSelection,1));break;case Ae.ArrowUp:{if(h===void 0||v===void 0||r.props.preSelection==null)break;var b=Ii(h,v).startPeriod,S=yA,w=s-S;if(w<b){var y=v%S;s>=b&&s<b+y?S=y:S+=y,w=s-S}r.handleYearNavigation(w,Us(r.props.preSelection,S));break}case Ae.ArrowDown:{if(h===void 0||v===void 0||r.props.preSelection==null)break;var C=Ii(h,v).endPeriod,S=yA,w=s+S;if(w>C){var y=v%S;s<=C&&s>C-y?S=y:S+=y,w=s+S}r.handleYearNavigation(w,Na(r.props.preSelection,S));break}}x&&x(a)},r.getYearClassNames=function(a){var s=r.props,c=s.date,u=s.disabled,f=s.minDate,m=s.maxDate,h=s.excludeDates,v=s.includeDates,x=s.filterDate,b=s.yearClassName;return lt("react-datepicker__year-text","react-datepicker__year-".concat(a),c?b?.(Ya(c,a)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(a),"react-datepicker__year-text--disabled":(f||m||h||v||x||u)&&ip(a,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(a),"react-datepicker__year-text--range-start":r.isRangeStart(a),"react-datepicker__year-text--range-end":r.isRangeEnd(a),"react-datepicker__year-text--in-range":r.isInRange(a),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(a),"react-datepicker__year-text--today":r.isCurrentYear(a)})},r.getYearTabIndex=function(a){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=ut(r.props.preSelection),c=ip(a,r.props);return a===s&&!c?"0":"-1"},r.getYearContent=function(a){return r.props.renderYearContent?r.props.renderYearContent(a):a},r}return t.prototype.render=function(){var n=this,r=[],a=this.props,s=a.date,c=a.yearItemNumber,u=a.onYearMouseEnter,f=a.onYearMouseLeave;if(s===void 0)return null;for(var m=Ii(s,c),h=m.startPeriod,v=m.endPeriod,x=function(w){r.push(ce.createElement("div",{ref:b.YEAR_REFS[w-h],onClick:function(y){n.onYearClick(y,w)},onKeyDown:function(y){HT(y)&&(y.preventDefault(),y.key=Ae.Enter),n.onYearKeyDown(y,w)},tabIndex:Number(b.getYearTabIndex(w)),className:b.getYearClassNames(w),onMouseEnter:b.props.usePointerEvent?void 0:function(y){return u(y,w)},onPointerEnter:b.props.usePointerEvent?function(y){return u(y,w)}:void 0,onMouseLeave:b.props.usePointerEvent?void 0:function(y){return f(y,w)},onPointerLeave:b.props.usePointerEvent?function(y){return f(y,w)}:void 0,key:w,"aria-current":b.isCurrentYear(w)?"date":void 0},b.getYearContent(w)))},b=this,S=h;S<=v;S++)x(S);return ce.createElement("div",{className:"react-datepicker__year"},ce.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},t})(j.Component);function G9(e,t,n,r){for(var a=[],s=0;s<2*t+1;s++){var c=e+t-s,u=!0;n&&(u=ut(n)<=c),r&&u&&(u=ut(r)>=c),u&&a.push(c)}return a}var K9=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;r.yearOptionButtonsRef={},r.handleOptionKeyDown=function(u,f){var m;switch(f.key){case"Enter":f.preventDefault(),r.onChange(u);break;case"Escape":f.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{f.preventDefault();var h=u+(f.key==="ArrowUp"?1:-1);r.yearOptionButtonsRef[h]&&((m=r.yearOptionButtonsRef[h])===null||m===void 0||m.focus());break}}},r.renderOptions=function(){r.yearOptionButtonsRef={};var u=r.props.year,f=r.state.yearsList.map(function(v){return ce.createElement("div",{ref:function(x){r.yearOptionButtonsRef[v]=x,v===u&&x?.focus()},role:"button",tabIndex:0,className:u===v?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:v,onClick:r.onChange.bind(r,v),onKeyDown:r.handleOptionKeyDown.bind(r,v),"aria-selected":u===v?"true":void 0},u===v?ce.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",v)}),m=r.props.minDate?ut(r.props.minDate):null,h=r.props.maxDate?ut(r.props.maxDate):null;return(!h||!r.state.yearsList.find(function(v){return v===h}))&&f.unshift(ce.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},ce.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!m||!r.state.yearsList.find(function(v){return v===m}))&&f.push(ce.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},ce.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),f},r.onChange=function(u){r.props.onChange(u)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(u){var f=r.state.yearsList.map(function(m){return m+u});r.setState({yearsList:f})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var a=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,c=a||(s?10:5);return r.state={yearsList:G9(r.props.year,c,r.props.minDate,r.props.maxDate)},r.dropdownRef=j.createRef(),r}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,a=r?r.find(function(s){return s.ariaSelected}):null;n.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=lt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ce.createElement(Lh,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),W9=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?ut(n.props.minDate):1900,a=n.props.maxDate?ut(n.props.maxDate):2100,s=[],c=r;c<=a;c++)s.push(ce.createElement("option",{key:c,value:c},c));return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return ce.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return ce.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:n.toggleDropdown},ce.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ce.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return ce.createElement(K9,st({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,a=[n.renderReadView(!r)];return r&&a.unshift(n.renderDropdown()),a},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,a){var s;(s=n.onSelect)===null||s===void 0||s.call(n,r,a),n.setOpen()},n.onSelect=function(r,a){var s,c;(c=(s=n.props).onSelect)===null||c===void 0||c.call(s,r,a)},n.setOpen=function(){var r,a;(a=(r=n.props).setOpen)===null||a===void 0||a.call(r,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return ce.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t})(j.Component),Q9=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],UT="react-datepicker-ignore-onclickoutside",X9=function(e){var t=(e.className||"").split(/\s+/);return Q9.some(function(n){return t.indexOf(n)>=0})},Z9=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(a){r.props.onClickOutside(a)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(a){var s,c;X9(a.target)&&((c=(s=r.props).onDropdownFocus)===null||c===void 0||c.call(s,a))},r.getDateInView=function(){var a=r.props,s=a.preSelection,c=a.selected,u=a.openToDate,f=BT(r.props),m=$T(r.props),h=gt(),v=u||c||s;return v||(f&&Wa(h,f)?f:m&&Fi(h,m)?m:h)},r.increaseMonth=function(){r.setState(function(a){var s=a.date;return{date:Aa(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(a){var s=a.date;return{date:Fl(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(a,s,c){r.props.onSelect(a,s,c),r.props.setPreSelection&&r.props.setPreSelection(a)},r.handleDayMouseEnter=function(a){r.setState({selectingDate:a}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(a)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(a,s){r.setState({selectingDate:Ya(gt(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(a,s)},r.handleYearMouseLeave=function(a,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(a,s)},r.handleYearChange=function(a){var s,c,u,f;(c=(s=r.props).onYearChange)===null||c===void 0||c.call(s,a),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(a),(f=(u=r.props).setOpen)===null||f===void 0||f.call(u,!0)),r.props.setPreSelection&&r.props.setPreSelection(a)},r.getEnabledPreSelectionDateForMonth=function(a){if(!na(a,r.props))return a;for(var s=Bi(a),c=w9(a),u=_B(c,s),f=null,m=0;m<=u;m++){var h=ja(s,m);if(!na(h,r.props)){f=h;break}}return f},r.handleMonthChange=function(a){var s,c,u,f=(s=r.getEnabledPreSelectionDateForMonth(a))!==null&&s!==void 0?s:a;r.handleCustomMonthChange(f),r.props.adjustDateOnChange&&(r.props.onSelect(f),(u=(c=r.props).setOpen)===null||u===void 0||u.call(c,!0)),r.props.setPreSelection&&r.props.setPreSelection(f)},r.handleCustomMonthChange=function(a){var s,c;(c=(s=r.props).onMonthChange)===null||c===void 0||c.call(s,a),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(a){r.handleYearChange(a),r.handleMonthChange(a)},r.changeYear=function(a){r.setState(function(s){var c=s.date;return{date:Ya(c,Number(a))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(a){r.setState(function(s){var c=s.date;return{date:Pn(c,Number(a))}},function(){var s,c;r.handleMonthChange(r.state.date),(c=(s=r.props).onMonthSelectedInChange)===null||c===void 0||c.call(s,0)})},r.changeMonthYear=function(a){r.setState(function(s){var c=s.date;return{date:Ya(Pn(c,bn(a)),ut(a))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(a,s){if(a===void 0&&(a=r.state.date),s===void 0&&(s=0),!gn(a))return[];var c=r.props.disabled,u=Bs(a,r.props.locale,r.props.calendarStartDay),f=[];return r.props.showWeekNumbers&&f.push(ce.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(c?"react-datepicker__day-name--disabled":""),role:"columnheader"},ce.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),ce.createElement("span",{"aria-hidden":"true"},r.props.weekLabel||"#"))),f.concat([0,1,2,3,4,5,6].map(function(m){var h=ja(u,m),v=r.formatWeekday(h,r.props.locale),x=Gt(h,"EEEE",r.props.locale),b=r.props.weekDayClassName?r.props.weekDayClassName(h):void 0;if(r.props.renderCustomDayName){var S=r.props.renderCustomDayName({day:h,shortName:v,fullName:x,locale:r.props.locale,customDayNameCount:s});return ce.createElement("div",{key:m,role:"columnheader",className:lt("react-datepicker__day-name",b,c?"react-datepicker__day-name--disabled":"")},S)}return ce.createElement("div",{key:m,role:"columnheader",className:lt("react-datepicker__day-name",b,c?"react-datepicker__day-name--disabled":"")},ce.createElement("span",{className:"react-datepicker__sr-only"},x),ce.createElement("span",{"aria-hidden":"true"},v))}))},r.formatWeekday=function(a,s){return r.props.formatWeekDay?j9(a,r.props.formatWeekDay,s):r.props.useWeekdaysShort?S9(a,s):N9(a,s)},r.decreaseYear=function(){r.setState(function(a){var s,c=a.date;return{date:Us(c,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var a,s,c;if(!r.props.renderCustomHeader){var u=(a=r.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,f=r.props.showPreviousMonths?u-1:0,m=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:f,h=Fl(r.state.date,m),v;switch(!0){case r.props.disabled:v=!0;break;case r.props.showMonthYearPicker:v=fA(r.state.date,r.props);break;case r.props.showYearPicker:v=k9(r.state.date,r.props);break;case r.props.showQuarterYearPicker:v=M9(r.state.date,r.props);break;default:v=uA(h,r.props);break}if(!(!((c=r.props.forceShowMonthNavigation)!==null&&c!==void 0?c:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&v||r.props.showTimeSelectOnly)){var x=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],b=["react-datepicker__navigation","react-datepicker__navigation--previous"],S=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(S=r.decreaseYear),v&&r.props.showDisabledMonthNavigation&&(b.push("react-datepicker__navigation--previous--disabled"),S=void 0);var w=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,y=r.props,C=y.previousMonthButtonLabel,M=C===void 0?t.defaultProps.previousMonthButtonLabel:C,A=y.previousYearButtonLabel,_=A===void 0?t.defaultProps.previousYearButtonLabel:A,E=r.props,T=E.previousMonthAriaLabel,P=T===void 0?typeof M=="string"?M:"Previous Month":T,O=E.previousYearAriaLabel,L=O===void 0?typeof _=="string"?_:"Previous Year":O;return ce.createElement("button",{type:"button",className:b.join(" "),onClick:S,onKeyDown:r.props.handleOnKeyDown,"aria-label":w?L:P},ce.createElement("span",{className:x.join(" ")},w?_:M))}}},r.increaseYear=function(){r.setState(function(a){var s,c=a.date;return{date:Na(c,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var a;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.disabled:s=!0;break;case r.props.showMonthYearPicker:s=mA(r.state.date,r.props);break;case r.props.showYearPicker:s=E9(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=D9(r.state.date,r.props);break;default:s=dA(r.state.date,r.props);break}if(!(!((a=r.props.forceShowMonthNavigation)!==null&&a!==void 0?a:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var f=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(f=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),f=void 0);var m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,h=r.props,v=h.nextMonthButtonLabel,x=v===void 0?t.defaultProps.nextMonthButtonLabel:v,b=h.nextYearButtonLabel,S=b===void 0?t.defaultProps.nextYearButtonLabel:b,w=r.props,y=w.nextMonthAriaLabel,C=y===void 0?typeof x=="string"?x:"Next Month":y,M=w.nextYearAriaLabel,A=M===void 0?typeof S=="string"?S:"Next Year":M;return ce.createElement("button",{type:"button",className:c.join(" "),onClick:f,onKeyDown:r.props.handleOnKeyDown,"aria-label":m?A:C},ce.createElement("span",{className:u.join(" ")},m?S:x))}}},r.renderCurrentMonth=function(a){a===void 0&&(a=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),ce.createElement("h2",{className:s.join(" ")},gn(a)?Gt(a,r.props.dateFormat,r.props.locale):"")},r.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showYearDropdown||a))return ce.createElement(W9,st({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:ut(r.state.date)}))},r.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthDropdown||a))return ce.createElement($9,st({},t.defaultProps,r.props,{month:bn(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthYearDropdown||a))return ce.createElement(U9,st({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(a){r.props.onSelect(iA(),a),r.props.setPreSelection&&r.props.setPreSelection(iA())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return ce.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDayNamesHeader=function(a,s){return s===void 0&&(s=0),ce.createElement("div",{className:"react-datepicker__day-names",role:"row"},r.header(a,s))},r.renderDefaultHeader=function(a){var s=a.monthDate,c=a.i,u=ce.createElement("div",{className:lt("react-datepicker__header",{"react-datepicker__header--has-time-select":r.props.showTimeSelect,"react-datepicker__header--middle":r.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":r.props.monthHeaderPosition==="bottom"})},r.renderCurrentMonth(s),ce.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(c!==0),r.renderMonthYearDropdown(c!==0),r.renderYearDropdown(c!==0)));return r.props.monthHeaderPosition==="top"?u:ce.createElement("div",{className:"react-datepicker__header-wrapper"},r.renderPreviousButton()||null,r.renderNextButton()||null,u)},r.renderCustomHeader=function(a){var s,c,u=a.monthDate,f=a.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var m=r.props,h=m.showYearPicker,v=m.yearItemNumber,x;if(h){var b=Ii(u,v),S=b.startPeriod,w=b.endPeriod;x={startYear:S,endYear:w}}var y=uA(r.state.date,r.props),C=dA(r.state.date,r.props),M=fA(r.state.date,r.props),A=mA(r.state.date,r.props);return ce.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(c=(s=r.props).renderCustomHeader)===null||c===void 0?void 0:c.call(s,st(st(st({},r.state),h&&{visibleYearsRange:x}),{customHeaderCount:f,monthDate:u,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:y,nextMonthButtonDisabled:C,prevYearButtonDisabled:M,nextYearButtonDisabled:A})))},r.renderYearHeader=function(a){var s=a.monthDate,c=r.props,u=c.showYearPicker,f=c.yearItemNumber,m=f===void 0?t.defaultProps.yearItemNumber:f,h=Ii(s,m),v=h.startPeriod,x=h.endPeriod;return ce.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(v," - ").concat(x):ut(s))},r.renderHeader=function(a){var s=a.monthDate,c=a.i,u=c===void 0?0:c,f={monthDate:s,i:u};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(f);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(f);default:return r.renderDefaultHeader(f)}},r.renderMonths=function(){var a,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var c=[],u=(a=r.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,f=r.props.showPreviousMonths?u-1:0,m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Na(r.state.date,f):Fl(r.state.date,f),h=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:f,v=0;v<u;++v){var x=v-h+f,b=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Na(m,x):Aa(m,x),S="month-".concat(v),w=v<u-1,y=v>0;c.push(ce.createElement("div",{key:S,ref:function(C){r.monthContainer=C??void 0},className:"react-datepicker__month-container"},r.props.monthHeaderPosition==="top"&&r.renderHeader({monthDate:b,i:v}),ce.createElement(F9,st({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:b,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:v,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:w,monthShowsDuplicateDaysStart:y,dayNamesHeader:r.renderDayNamesHeader(b,v),monthHeader:r.props.monthHeaderPosition==="middle"?r.renderHeader({monthDate:b,i:v}):void 0,monthFooter:r.props.monthHeaderPosition==="bottom"?r.renderHeader({monthDate:b,i:v}):void 0}))))}return c}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return ce.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),ce.createElement(V9,st({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return ce.createElement(Y9,st({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var a,s;if(r.props.showTimeInput){if(r.props.selectsRange){var c=r.props,u=c.startDate,f=c.endDate,m=u?new Date(u):void 0,h=m&&gn(m)&&!!u,v=h?"".concat($o(m.getHours()),":").concat($o(m.getMinutes())):"",x=f?new Date(f):void 0,b=x&&gn(x)&&!!f,S=b?"".concat($o(x.getHours()),":").concat($o(x.getMinutes())):"";return ce.createElement(ce.Fragment,null,ce.createElement(Xg,st({},t.defaultProps,r.props,{date:m,timeString:v,onChange:function(M){var A,_;(_=(A=r.props).onTimeChange)===null||_===void 0||_.call(A,M,"start")},timeInputLabel:((a=r.props.timeInputLabel)!==null&&a!==void 0?a:"Time")+" (Start)"})),ce.createElement(Xg,st({},t.defaultProps,r.props,{date:x,timeString:S,onChange:function(M){var A,_;(_=(A=r.props).onTimeChange)===null||_===void 0||_.call(A,M,"end")},timeInputLabel:((s=r.props.timeInputLabel)!==null&&s!==void 0?s:"Time")+" (End)"})))}var w=r.props.selected?new Date(r.props.selected):void 0,y=w&&gn(w)&&!!r.props.selected,C=y?"".concat($o(w.getHours()),":").concat($o(w.getMinutes())):"";return ce.createElement(Xg,st({},t.defaultProps,r.props,{date:w,timeString:C,onChange:function(M){var A,_;(_=(A=r.props).onTimeChange)===null||_===void 0||_.call(A,M)}}))}},r.renderAriaLiveRegion=function(){var a;if(!gn(r.state.date))return ce.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var s=Ii(r.state.date,(a=r.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber),c=s.startPeriod,u=s.endPeriod,f;return r.props.showYearPicker?f="".concat(c," - ").concat(u):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?f=ut(r.state.date):f="".concat(M1(bn(r.state.date),r.props.locale)," ").concat(ut(r.state.date)),ce.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&f)},r.renderChildren=function(){if(r.props.children)return ce.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=j.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:UT,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Ed,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){n.setState({monthContainer:n.monthContainer})})())},t.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&gn(this.props.preSelection)&&(!pt(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var a=!en(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!pt(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||m9;return ce.createElement(Lh,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ce.createElement("div",{style:{display:"contents"},ref:this.containerRef},ce.createElement(n,{className:lt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t})(j.Component),J9=function(e){var t=e.icon,n=e.className,r=n===void 0?"":n,a=e.onClick,s="react-datepicker__calendar-icon";if(typeof t=="string")return ce.createElement("i",{className:"".concat(s," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:a});if(ce.isValidElement(t)){var c=t;return ce.cloneElement(c,{className:"".concat(c.props.className||""," ").concat(s," ").concat(r),onClick:function(u){typeof c.props.onClick=="function"&&c.props.onClick(u),typeof a=="function"&&a(u)}})}return ce.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},ce.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},YT=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return pz.createPortal(this.props.children,this.el)},t})(j.Component),e7="[tabindex], a, button, input, select, textarea",t7=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},VT=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;return r.getTabChildren=function(){var a;return Array.prototype.slice.call((a=r.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(e7),1,-1).filter(t7)},r.handleFocusStart=function(){var a=r.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},r.handleFocusEnd=function(){var a=r.getTabChildren();a&&a.length>1&&a[0].focus()},r.tabLoopRef=j.createRef(),r}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?ce.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ce.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ce.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t})(j.Component);function r7(e){function t(n){var r,a=typeof n.hidePopper=="boolean"?n.hidePopper:!0,s=j.useRef(null),c=f9(st({open:!a,whileElementsMounted:UH,placement:n.popperPlacement,middleware:Qa([JH({padding:15}),ZH(10),e9({element:s})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),u=st(st({},n),{hidePopper:a,popperProps:st(st({},c),{arrowRef:s})});return ce.createElement(e,st({},u))}return t.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),t}var n7=function(e){var t=e.className,n=e.wrapperClassName,r=e.hidePopper,a=r===void 0?!0:r,s=e.popperComponent,c=e.targetComponent,u=e.enableTabLoop,f=e.popperOnKeyDown,m=e.portalId,h=e.portalHost,v=e.popperProps,x=e.showArrow,b=e.popperTargetRef,S=e.monthHeaderPosition;j.useEffect(function(){b?.current&&v.refs.setPositionReference(b.current)},[b,v.refs]);var w=void 0;if(!a){var y=lt("react-datepicker-popper",!x&&"react-datepicker-popper-offset",S==="middle"&&"react-datepicker-popper--header-middle",S==="bottom"&&"react-datepicker-popper--header-bottom",t);w=ce.createElement(VT,{enableTabLoop:u},ce.createElement("div",{ref:v.refs.setFloating,style:v.floatingStyles,className:y,"data-placement":v.placement,onKeyDown:f},s,x&&ce.createElement(i9,{ref:v.arrowRef,context:v.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(w=j.createElement(e.popperContainer,{},w)),m&&!a&&(w=ce.createElement(YT,{portalId:m,portalHost:h},w));var C=lt("react-datepicker-wrapper",n);return ce.createElement(ce.Fragment,null,ce.createElement("div",{ref:v.refs.setReference,className:C},c),w)},a7=r7(n7);function wA(e,t){return e&&t?bn(e)!==bn(t)||ut(e)!==ut(t):e!==t}var Jg="Date input not valid.",i7=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){var a=r.props.timeZone,s=r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:gt();return a?nA(s,a):s},r.modifyHolidays=function(){var a;return(a=r.props.holidays)===null||a===void 0?void 0:a.reduce(function(s,c){var u=jl(c.date,"yyyy-MM-dd",void 0,!1);return u?Qa(Qa([],s,!0),[st(st({},c),{date:u})],!1):s},[])},r.calcInitialState=function(){var a=r.props.timeZone,s=r.getPreSelection(),c=BT(r.props),u=$T(r.props),f=c&&Wa(s,Qu(c))?c:u&&Fi(s,sA(u))?u:s,m=r.props.selectsRange?r.props.startDate:r.props.selected;return m&&a&&(m=nA(m,a)),{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:m??f,highlightDates:pA(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var a,s=r.props,c=s.locale,u=s.startDate,f=s.endDate,m=s.rangeSeparator,h=s.selected,v=s.selectedDates,x=s.selectsMultiple,b=s.selectsRange,S=s.formatMultipleDates,w=s.value,y=(a=r.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,C=r.state.inputValue;if(typeof w=="string")return w;if(typeof C=="string")return C;if(b)return v9(u,f,{dateFormat:y,locale:c,rangeSeparator:m});if(x){if(S){var M=function(A){return xn(A,{dateFormat:y,locale:c})};return S(v??[],M)}return x9(v??[],{dateFormat:y,locale:c})}return xn(h,{dateFormat:y,locale:c})},r.resetHiddenStatus=function(){r.setState(st(st({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(st(st({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var a,s;(s=(a=r.input)===null||a===void 0?void 0:a.focus)===null||s===void 0||s.call(a,{preventScroll:!0})},r.setBlur=function(){var a,s;(s=(a=r.input)===null||a===void 0?void 0:a.blur)===null||s===void 0||s.call(a),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(a,s){s===void 0&&(s=!1),r.setState({open:a,preSelection:a&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:e0},function(){a||r.setState(function(c){return{focused:s?c.focused:!1}},function(){!s&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return ti(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(a){var s,c,u=r.state.wasHidden,f=u?r.state.open:!0;u&&r.resetHiddenStatus(),r.state.preventFocus||((c=(s=r.props).onFocus)===null||c===void 0||c.call(s,a),f&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(st(st({},r.state),{inputValue:null}))},r.handleBlur=function(a){var s,c;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((c=(s=r.props).onBlur)===null||c===void 0||c.call(s,a));var u=r.state.inputValue;if(typeof u=="string"&&u.length>0){var f=/[a-zA-Z0-9]/.test(u);!f&&r.props.selected&&r.setSelected(null,void 0,!0)}r.resetInputValue(),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(a){var s,c;(c=(s=r.props).onClickOutside)===null||c===void 0||c.call(s,a),!r.props.inline&&!a.defaultPrevented&&r.setOpen(!1),r.props.withPortal&&a.preventDefault()},r.handleChange=function(){for(var a,s,c,u,f,m,h,v,x=[],b=0;b<arguments.length;b++)x[b]=arguments[b];var S=x[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,x),!S||typeof S.isDefaultPrevented!="function"||S.isDefaultPrevented()))){r.setState({inputValue:S?.target instanceof HTMLInputElement?S.target.value:null,lastPreSelectChange:s7});var w=r.props,y=w.selectsRange,C=w.startDate,M=w.endDate,A=(a=r.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,_=(s=r.props.strictParsing)!==null&&s!==void 0?s:t.defaultProps.strictParsing,E=S?.target instanceof HTMLInputElement?S.target.value:"";if(y){var T=r.props.rangeSeparator,P=T.trim(),O=E.split(A.includes(P)?T:P,2).map(function(G){return G.trim()}),L=O[0],R=O[1],B=jl(L??"",A,r.props.locale,_),k=B?jl(R??"",A,r.props.locale,_):null,K=((c=Pl(C))===null||c===void 0?void 0:c.getTime())!==B?.getTime(),W=((u=Pl(M))===null||u===void 0?void 0:u.getTime())!==k?.getTime();if(!K&&!W||B&&na(B,r.props)||k&&na(k,r.props))return;B&&r.setState({preSelection:B}),(m=(f=r.props).onChange)===null||m===void 0||m.call(f,[B,k],S)}else{var Z=jl(E,A,r.props.locale,_,(h=r.props.selected)!==null&&h!==void 0?h:void 0);if(Z||!E)r.setSelected(Z,S,!0);else if(!r.props.inline){var $=h9(E,(v=r.state.preSelection)!==null&&v!==void 0?v:void 0);$&&(!r.props.minDate||!Wa($,r.props.minDate))&&(!r.props.maxDate||!Fi($,r.props.maxDate))&&r.setState({preSelection:$})}}}},r.handleSelect=function(a,s,c){var u;if(!r.props.readOnly){var f=r.props,m=f.selectsRange,h=f.startDate,v=f.endDate,x=f.locale,b=f.swapRange,S=(u=r.props.dateFormat)!==null&&u!==void 0?u:t.defaultProps.dateFormat,w=!m||h&&!v&&(b||!Qg(a,h));if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&w&&r.sendFocusBackToInput(),r.props.onChangeRaw){var y=xn(a,{dateFormat:S,locale:x});r.props.onChangeRaw(s,{date:a,formattedDate:y})}r.setSelected(a,s,!1,c),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(a):w&&r.setOpen(!1)}},r.setSelected=function(a,s,c,u){var f,m,h=r.props.timeZone,v=a;if(v&&h&&(v=Oi(v,h)),r.props.showYearPicker){if(v!==null&&ip(ut(v),r.props))return}else if(r.props.showMonthYearPicker){if(v!==null&&FT(v,r.props))return}else if(v!==null&&na(v,r.props))return;var x=r.props,b=x.onChange,S=x.selectsRange,w=x.startDate,y=x.endDate,C=x.selectsMultiple,M=x.selectedDates,A=x.minTime,_=x.swapRange;if(!Il(r.props.selected,v)||r.props.allowSameDay||S||C)if(v!==null&&(r.props.selected&&(!c||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(v=Ti(v,{hour:Qr(r.props.selected),minute:Xr(r.props.selected),second:Fs(r.props.selected)})),!c&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&A&&(v=Ti(v,{hour:A.getHours(),minute:A.getMinutes(),second:A.getSeconds()})),r.props.inline||r.setState({preSelection:v}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:u})),S){var E=b,T=!w&&!y,P=w&&!y,O=!w&&!!y,L=w&&y;T?E?.([v,null],s):P?v===null?E?.([null,null],s):Qg(v,w)?E?.(_?[v,w]:[v,null],s):E?.([w,v],s):O&&(v&&Qg(v,y)?E?.([v,y],s):E?.([v,null],s)),L&&E?.([v,null],s)}else if(C){var R=b;if(v!==null)if(!M?.length)R?.([v],s);else{var B=M.some(function(K){return pt(K,v)});if(B){var k=M.filter(function(K){return!pt(K,v)});R?.(k,s)}else R?.(Qa(Qa([],M,!0),[v],!1),s)}}else b?.(v,s);c||((m=(f=r.props).onSelect)===null||m===void 0||m.call(f,v,s),r.setState({inputValue:null}))},r.setPreSelection=function(a){if(!r.props.readOnly){var s=ti(r.props.minDate),c=ti(r.props.maxDate),u=!0;if(a){var f=Qu(a);if(s&&c)u=Ml(a,r.props.minDate,r.props.maxDate);else if(s){var m=Qu(r.props.minDate);u=Fi(a,m)||Il(f,m)}else if(c){var h=sA(r.props.maxDate);u=Wa(a,h)||Il(f,h)}}u&&r.setState({preSelection:a})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(a,s){var c,u;if(!r.props.selectsMultiple){var f=r.props,m=f.selectsRange,h=f.startDate,v=f.endDate,x=f.onChange,b=f.timeZone;if(m){var S=x;if(s==="start"){if(h){var w=Ti(h,{hour:Qr(a),minute:Xr(a)});r.setState({preSelection:w}),b&&(w=Oi(w,b)),S?.([w,v?b?Oi(v,b):v:null],void 0)}}else if(s==="end"){if(v){var y=Ti(v,{hour:Qr(a),minute:Xr(a)});r.setState({preSelection:y}),b&&(y=Oi(y,b)),S?.([h?b?Oi(h,b):h:null,y],void 0)}}else{var C=h&&!v;if(C){var w=Ti(h,{hour:Qr(a),minute:Xr(a)});r.setState({preSelection:w}),b&&(w=Oi(w,b)),S?.([w,null],void 0)}else if(h&&v){var y=Ti(v,{hour:Qr(a),minute:Xr(a)});r.setState({preSelection:y}),b&&(y=Oi(y,b)),S?.([b?Oi(h,b):h,y],void 0)}else{var M=Ti(r.getPreSelection(),{hour:Qr(a),minute:Xr(a)});r.setState({preSelection:M})}}}else{var A=r.props.selected?r.props.selected:r.getPreSelection(),M=r.props.selected?a:Ti(A,{hour:Qr(a),minute:Xr(a)});r.setState({preSelection:M}),M&&b&&(M=Oi(M,b)),(u=(c=r.props).onChange)===null||u===void 0||u.call(c,M)}r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var a,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(a=r.props).onInputClick)===null||s===void 0||s.call(a)},r.handleTimeOnlyArrowKey=function(a){var s,c,u,f,m=Pl(r.props.selected)||r.state.preSelection||gt(),h=(s=r.props.timeIntervals)!==null&&s!==void 0?s:30,v=(c=r.props.dateFormat)!==null&&c!==void 0?c:t.defaultProps.dateFormat,x=Array.isArray(v)?v[0]:v,b=Qu(m),S=Qr(m)*60+Xr(m),w=1440-h,y;if(a===Ae.ArrowUp){var C=Math.max(0,S-h);y=id(b,C)}else{var C=Math.min(w,S+h);y=id(b,C)}var M=Gt(y,x||t.defaultProps.dateFormat,r.props.locale);if(r.setState({preSelection:y,inputValue:M}),!(r.props.selectsRange||r.props.selectsMultiple)){var A=r.props.selected?r.props.selected:r.getPreSelection(),_=r.props.selected?y:Ti(A,{hour:Qr(y),minute:Xr(y)});(f=(u=r.props).onChange)===null||f===void 0||f.call(u,_),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){r.scrollToTimeOption(y)})}},r.handleTimeOnlyEnterKey=function(a){var s,c,u,f,m=a.target,h=m.value,v=(s=r.props.dateFormat)!==null&&s!==void 0?s:t.defaultProps.dateFormat,x=r.props.timeFormat||"p",b=r.state.preSelection||Pl(r.props.selected)||gt(),S=jl(h,v,r.props.locale,(c=r.props.strictParsing)!==null&&c!==void 0?c:!1,b),w=b;if(S&&gn(S))w=S;else{var y=((u=r.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(y instanceof HTMLElement){var C=(f=y.textContent)===null||f===void 0?void 0:f.trim();if(C){var M=jl(C,x,r.props.locale,!1,b);M&&gn(M)&&(w=M)}}}r.handleTimeChange(w),r.setOpen(!1),r.sendFocusBackToInput()},r.scrollToTimeOption=function(a){var s,c;if(!((s=r.calendar)===null||s===void 0)&&s.containerRef.current){for(var u=r.calendar.containerRef.current,f=Array.from(u.querySelectorAll(".react-datepicker__time-list-item")),m=null,h=1/0,v=r.props.timeFormat||"p",x=0,b=f;x<b.length;x++){var S=b[x],w=(c=S.textContent)===null||c===void 0?void 0:c.trim();if(w){var y=jl(w,v,r.props.locale,!1,a);if(y&&gn(y)){if(qT(y,a)){m=S;break}var C=Math.abs(y.getTime()-a.getTime());C<h&&(h=C,m=S)}}}m&&(f.forEach(function(M){M.setAttribute("tabindex","-1")}),m.setAttribute("tabindex","0"),m.scrollIntoView({behavior:"smooth",block:"center"}))}},r.onInputKeyDown=function(a){var s,c,u,f,m,h;(c=(s=r.props).onKeyDown)===null||c===void 0||c.call(s,a);var v=a.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(v===Ae.ArrowDown||v===Ae.ArrowUp||v===Ae.Enter)&&((u=r.onInputClick)===null||u===void 0||u.call(r));return}if(r.state.open&&r.props.showTimeSelectOnly){if(v===Ae.ArrowDown||v===Ae.ArrowUp){a.preventDefault(),r.handleTimeOnlyArrowKey(v);return}if(v===Ae.Enter){a.preventDefault(),r.handleTimeOnlyEnterKey(a);return}}if(r.state.open){if(v===Ae.ArrowDown||v===Ae.ArrowUp){a.preventDefault();var x=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',b=((f=r.calendar)===null||f===void 0?void 0:f.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(x);b instanceof HTMLElement&&b.focus({preventScroll:!0});return}var S=gt(r.state.preSelection);v===Ae.Enter?(a.preventDefault(),a.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===e0?(r.handleSelect(S,a),!r.props.shouldCloseOnSelect&&r.setPreSelection(S)):r.setOpen(!1)):v===Ae.Escape?(a.preventDefault(),a.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):v===Ae.Tab&&r.setOpen(!1),r.inputOk()||(h=(m=r.props).onInputError)===null||h===void 0||h.call(m,{code:1,msg:Jg})}},r.onPortalKeyDown=function(a){var s=a.key;s===Ae.Escape&&(a.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(a){var s,c,u,f,m,h,v=r.props,x=v.minDate,b=v.maxDate,S=v.disabledKeyboardNavigation,w=v.showWeekPicker,y=v.shouldCloseOnSelect,C=v.locale,M=v.calendarStartDay,A=v.adjustDateOnChange,_=v.inline;if((c=(s=r.props).onKeyDown)===null||c===void 0||c.call(s,a),!S){var E=a.key,T=a.shiftKey,P=gt(r.state.preSelection),O=function(B,k){var K=k;switch(B){case Ae.ArrowRight:K=w?yp(k,1):ja(k,1);break;case Ae.ArrowLeft:K=w?UC(k):_q(k);break;case Ae.ArrowUp:K=UC(k);break;case Ae.ArrowDown:K=yp(k,1);break;case Ae.PageUp:K=T?Us(k,1):Fl(k,1);break;case Ae.PageDown:K=T?Na(k,1):Aa(k,1);break;case Ae.Home:K=Bs(k,C,M);break;case Ae.End:K=y9(k);break}return K},L=function(B,k){for(var K=40,W=B,Z=!1,$=0,G=O(B,k);!Z;){if($>=K){G=k;break}x&&G<x&&(W=Ae.ArrowRight,G=na(x,r.props)?O(W,G):x),b&&G>b&&(W=Ae.ArrowLeft,G=na(b,r.props)?O(W,G):b),na(G,r.props)?((W===Ae.PageUp||W===Ae.Home)&&(W=Ae.ArrowRight),(W===Ae.PageDown||W===Ae.End)&&(W=Ae.ArrowLeft),G=O(W,G)):Z=!0,$++}return G};if(E===Ae.Enter){a.preventDefault(),r.handleSelect(P,a),!y&&r.setPreSelection(P);return}else if(E===Ae.Escape){a.preventDefault(),r.setOpen(!1),r.inputOk()||(f=(u=r.props).onInputError)===null||f===void 0||f.call(u,{code:1,msg:Jg});return}var R=null;switch(E){case Ae.ArrowLeft:case Ae.ArrowRight:case Ae.ArrowUp:case Ae.ArrowDown:case Ae.PageUp:case Ae.PageDown:case Ae.Home:case Ae.End:R=L(E,P);break}if(!R){(h=(m=r.props).onInputError)===null||h===void 0||h.call(m,{code:1,msg:Jg});return}a.preventDefault(),r.setState({lastPreSelectChange:e0}),A&&r.setSelected(R),r.setPreSelection(R),_&&r.setState({shouldFocusDayInline:!0})}},r.onPopperKeyDown=function(a){var s=a.key;s===Ae.Escape&&(a.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),r.sendFocusBackToInput();var s=r.props,c=s.selectsRange,u=s.onChange;u?.(c?[null,null]:null,a),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(a){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(a)&&r.setOpen(!1)},r.handleMonthSelectedInChange=function(a){r.setState({monthSelectedIn:a})},r.renderCalendar=function(){var a,s;return!r.props.inline&&!r.isCalendarOpen()?null:ce.createElement(Z9,st({showMonthYearDropdown:void 0,ref:function(c){r.calendar=c}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(a=r.props.dateFormatCalendar)!==null&&a!==void 0?a:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:O9(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:t.defaultProps.dropdownMode,onMonthSelectedInChange:r.handleMonthSelectedInChange}),r.props.children)},r.renderAriaLiveRegion=function(){var a,s=r.props.locale,c=(a=r.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,u=r.props.showTimeInput||r.props.showTimeSelect,f=u?"PPPPp":"PPPP",m;return r.props.selectsRange?m="Selected start date: ".concat(xn(r.props.startDate,{dateFormat:f,locale:s}),". ").concat(r.props.endDate?"End date: "+xn(r.props.endDate,{dateFormat:f,locale:s}):""):r.props.showTimeSelectOnly?m="Selected time: ".concat(xn(r.props.selected,{dateFormat:c,locale:s})):r.props.showYearPicker?m="Selected year: ".concat(xn(r.props.selected,{dateFormat:"yyyy",locale:s})):r.props.showMonthYearPicker?m="Selected month: ".concat(xn(r.props.selected,{dateFormat:"MMMM yyyy",locale:s})):r.props.showQuarterYearPicker?m="Selected quarter: ".concat(xn(r.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):m="Selected date: ".concat(xn(r.props.selected,{dateFormat:f,locale:s})),ce.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},m)},r.renderDateInput=function(){var a,s,c,u,f,m,h,v=lt(r.props.className,(a={},a[r.props.outsideClickIgnoreClass||t.defaultProps.outsideClickIgnoreClass]=r.state.open,a)),x=r.props.customInput||ce.createElement("input",{type:"text"}),b=r.props.customInputRef||"ref",S={},w=(c=r.props["aria-describedby"])!==null&&c!==void 0?c:r.props.ariaDescribedBy,y=(u=r.props["aria-invalid"])!==null&&u!==void 0?u:r.props.ariaInvalid,C=(f=r.props["aria-label"])!==null&&f!==void 0?f:r.props.ariaLabel,M=(m=r.props["aria-labelledby"])!==null&&m!==void 0?m:r.props.ariaLabelledBy,A=(h=r.props["aria-required"])!==null&&h!==void 0?h:r.props.ariaRequired;return w!=null&&(S["aria-describedby"]=w),y!=null&&(S["aria-invalid"]=y),C!=null&&(S["aria-label"]=C),M!=null&&(S["aria-labelledby"]=M),A!=null&&(S["aria-required"]=A),j.cloneElement(x,st((s={},s[b]=function(_){r.input=_},s.value=r.getInputValue(),s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=lt(x.props.className,v),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s),S))},r.renderClearButton=function(){var a=r.props,s=a.isClearable,c=a.disabled,u=a.selected,f=a.startDate,m=a.endDate,h=a.clearButtonTitle,v=a.clearButtonClassName,x=v===void 0?"":v,b=a.ariaLabelClose,S=b===void 0?"Close":b,w=a.selectedDates,y=a.readOnly;return s&&!y&&(u!=null||f!=null||m!=null||w?.length)?ce.createElement("button",{type:"button",className:lt("react-datepicker__close-icon",x,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":S,onClick:r.onClearClick,title:h,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:UT,readOnly:!1,rangeSeparator:LT,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Ed,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,r){var a,s,c,u;this.props.selectsRange&&wA(n.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):wA(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&r.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:pA(this.props.highlightDates)}),!r.focused&&!Il(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(a=this.props).onCalendarOpen)===null||s===void 0||s.call(a)),r.open===!0&&this.state.open===!1&&((u=(c=this.props).onCalendarClose)===null||u===void 0||u.call(c)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,a=n.icon,s=n.calendarIconClassname,c=n.calendarIconClassName,u=n.toggleCalendarOnIconClick,f=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ce.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&ce.createElement(J9,st({icon:a,className:lt(c,!c&&s,f&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?ce.createElement(VT,{enableTabLoop:this.props.enableTabLoop},ce.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=ce.createElement(YT,st({portalId:this.props.portalId},this.props),r)),ce.createElement(ce.Fragment,null,this.renderInputContainer(),r)}return ce.createElement(a7,st({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},t})(j.Component),s7="input",e0="navigate";function mr({open:e,onClose:t,title:n,children:r,wide:a}){const s=j.useRef(null);return j.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),j.useEffect(()=>{function c(u){u.key==="Escape"&&t()}return e&&window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[e,t]),e?l.jsxs("div",{ref:s,className:"fixed inset-0 z-50 flex items-start justify-center pt-[5vh] sm:pt-[10vh] px-4",onClick:c=>{c.target===s.current&&t()},children:[l.jsx("div",{className:"fixed inset-0 bg-black/60"}),l.jsxs("div",{className:`relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full ${a?"max-w-2xl":"max-w-lg"} max-h-[80vh] flex flex-col animate-fade-in`,children:[l.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-[var(--border-light)] shrink-0",children:[l.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:n}),l.jsx("button",{onClick:t,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:l.jsx(Ul,{size:16})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:r})]})]}):null}function oe({label:e,required:t,error:n,children:r}){return l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:[e,t&&l.jsx("span",{className:"text-rose-500 ml-0.5",children:"*"})]}),r,n&&l.jsx("p",{className:"text-xs text-rose-500 mt-1",children:n})]})}function Me({value:e,onChange:t,placeholder:n,type:r="text",sensitive:a,...s}){const{masked:c}=ui();return l.jsx("input",{type:r,value:e,onChange:u=>t(u.target.value),placeholder:n,className:`w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors ${a&&c?"sensitive-blur":""}`,...s})}function ni({value:e,onChange:t,...n}){const r=e?new Date(e.length>10?e:e+"T00:00:00"):null;function a(s){if(!s){t("");return}const c=s.getFullYear(),u=String(s.getMonth()+1).padStart(2,"0"),f=String(s.getDate()).padStart(2,"0");t(`${c}-${u}-${f}`)}return l.jsxs("div",{className:"relative cf-datepicker",children:[l.jsx(i7,{selected:r,onChange:a,dateFormat:"dd MMM yyyy",maxDate:new Date,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",placeholderText:"Select date",className:"w-full px-3 py-2 pr-9 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",...n}),l.jsx(MF,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function Ke({value:e,onChange:t,options:n,placeholder:r}){return l.jsxs("select",{value:e,onChange:a=>t(a.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",children:[r&&l.jsx("option",{value:"",children:r}),n.map(a=>l.jsx("option",{value:a.value,children:a.label},a.value))]})}function hc({value:e,onChange:t,placeholder:n,rows:r=3}){return l.jsx("textarea",{value:e,onChange:a=>t(a.target.value),placeholder:n,rows:r,className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors resize-none"})}function l7({checked:e,onChange:t,label:n}){return l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e,onChange:r=>t(r.target.checked),className:"w-4 h-4 rounded border-[var(--border-input)] bg-[var(--bg-input)] text-violet-500 focus:ring-violet-500"}),l.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:n})]})}function an({onCancel:e,onSubmit:t,submitLabel:n="Save",loading:r}){return l.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 mt-4 border-t border-[var(--border-light)]",children:[l.jsx("button",{onClick:e,disabled:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),l.jsxs("button",{onClick:t,disabled:r,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[r&&l.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),r?"Saving...":n]})]})}function es({onClick:e,label:t="Deactivate"}){return l.jsx("button",{onClick:e,className:"px-4 py-2 text-xs font-semibold text-rose-400 hover:text-rose-300 hover:bg-rose-500/10 rounded-lg transition-colors",children:t})}const jA=[{key:"sip",label:"Adjust SIP",icon:z8,color:"text-blue-400",dimColor:"text-blue-400/60 hover:text-blue-400",activeBg:"bg-blue-500/20 border border-blue-500/40"},{key:"lumpsum",label:"Lumpsum",icon:d8,color:"text-emerald-400",dimColor:"text-emerald-400/60 hover:text-emerald-400",activeBg:"bg-emerald-500/20 border border-emerald-500/40"},{key:"buysell",label:"Buy / Sell",icon:wF,color:"text-amber-400",dimColor:"text-amber-400/60 hover:text-amber-400",activeBg:"bg-amber-500/20 border border-amber-500/40"}];function _l(e){return e>=1e5?`${(e/1e5).toFixed(1)}L`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${Math.round(e)}`}function k1({exitOnly:e}){return l.jsx("div",{className:"py-4 text-center space-y-1",children:e?l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Only exit candidates here  use ",l.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab"]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No target allocations set"}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Use ",l.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund first"]})]})})}function o7({portfolio:e,holdings:t,totalValue:n}){const r=e.sipTarget||0,a=(e.rebalanceThreshold||.05)*100,s=t.some(x=>x.targetAllocationPct>0),c=t.some(x=>x.targetAllocationPct===0&&x.units>0);if(!s)return l.jsx(k1,{exitOnly:c});if(r<=0)return l.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"No SIP target set for this portfolio"});const u=t.filter(x=>x.targetAllocationPct>0).map(x=>{const b=n>0?x.currentValue/n*100:0,S=Math.abs(b-x.targetAllocationPct),w=S>a,C=x.targetAllocationPct/100*n-x.currentValue,M=x.targetAllocationPct/100*r;return{...x,currentPct:b,drift:S,drifted:w,gap:C,normalSIP:M}}),f=u.filter(x=>x.drifted&&x.gap>0);u.filter(x=>x.drifted&&x.gap<=0);const m=f.reduce((x,b)=>x+b.gap,0),h=u.map(x=>({...x,suggestedSIP:x.drifted&&x.gap>0&&m>0?x.gap/m*r:x.drifted&&x.gap<=0?0:x.normalSIP}));return u.some(x=>x.drifted)?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Funds drifted >",a.toFixed(0),"%: overweight  0, underweight  extra SIP. Others keep normal SIP."]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[l.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Normal SIP"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Rebalance SIP"})]})}),l.jsx("tbody",{children:h.map(x=>{const b=x.drifted&&x.gap<=0,S=x.drifted&&x.gap>0,w=!x.drifted;return l.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${w?"opacity-50":b?"opacity-60":""}`,children:[l.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:x.fundName}),l.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[l.jsxs("span",{className:b?"text-amber-400":S?"text-blue-400":"text-[var(--text-dim)]",children:[x.currentPct.toFixed(1),"%"]}),l.jsxs("span",{className:"text-[var(--text-dim)]",children:[" / ",x.targetAllocationPct.toFixed(1),"%"]})]}),l.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:_l(x.normalSIP)}),l.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:b?l.jsx("span",{className:"text-amber-400/70",children:"0"}):S?l.jsx("span",{className:"text-blue-400",children:_l(x.suggestedSIP)}):l.jsx("span",{className:"text-[var(--text-dim)]",children:_l(x.suggestedSIP)})})]},x.holdingId)})}),l.jsx("tfoot",{children:l.jsxs("tr",{className:"border-t border-[var(--border)]",children:[l.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),l.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:_l(r)}),l.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-blue-400 tabular-nums",children:_l(r)})]})})]})})]}):l.jsxs("p",{className:"text-xs text-[var(--text-dim)] py-2",children:["SIPs are balanced (within ",a.toFixed(0),"% threshold)"]})}function c7({portfolio:e,holdings:t,totalValue:n}){const[r,a]=j.useState("");(e.rebalanceThreshold||.05)*100;const s=t.some(w=>w.targetAllocationPct>0),c=t.some(w=>w.targetAllocationPct===0&&w.units>0);if(!s)return l.jsx(k1,{exitOnly:c});const u=t.filter(w=>w.targetAllocationPct>0).map(w=>{const y=n>0?w.currentValue/n*100:0;return{...w,currentPct:y}}),f=j.useMemo(()=>{if(n<=0||u.length===0)return 0;const w=u.filter(A=>{const _=A.targetAllocationPct/100*n;return A.currentValue<_});if(w.length===0)return 0;const y=w.reduce((A,_)=>A+_.targetAllocationPct,0);if(y>=100)return 0;const C=w.reduce((A,_)=>A+_.currentValue,0),M=(y/100*n-C)/(1-y/100);return M>0?Math.ceil(M/100)*100:0},[u,n]),m=Number(r)||e.lumpsumTarget||f,h=j.useMemo(()=>{const w=m>0?n+m:n,y=u.map(M=>{const A=M.targetAllocationPct/100*w,_=m>0?Math.max(0,A-M.currentValue):0,E=w>0?(M.currentValue+_)/w*100:0,T=M.currentValue>A+1;return{...M,invest:_,newPct:E,isOverweight:T}}),C=y.reduce((M,A)=>M+A.invest,0);if(m>0&&C>0&&Math.abs(C-m)>1){const M=m/C;return y.map(A=>({...A,invest:A.invest>0?A.invest*M:0,newPct:w>0?(A.currentValue+(A.invest>0?A.invest*M:0))/w*100:0}))}return y},[u,m,n]),v=h.reduce((w,y)=>w+y.invest,0),x=h.some(w=>w.isOverweight),b=Number(r),S=b>0&&f>0&&b<f;return l.jsxs("div",{className:"space-y-2",children:[f>0&&l.jsx("div",{className:"flex items-center gap-2 px-2.5 py-1.5 rounded-md bg-emerald-500/10 border border-emerald-500/20",children:l.jsxs("p",{className:"text-xs text-emerald-400",children:[l.jsx("span",{className:"font-bold",children:Q(f)})," needed to bring all underweight funds to target %"]})}),l.jsxs("div",{className:"flex items-end gap-3",children:[l.jsx("div",{className:"flex-1 max-w-[200px]",children:l.jsx(oe,{label:"Invest Amount ()",children:l.jsx(Me,{type:"number",value:r,onChange:a,placeholder:f>0?`${Q(f)}`:"Enter amount..."})})}),!b&&!e.lumpsumTarget&&f>0&&l.jsx("p",{className:"text-xs text-emerald-400/70 pb-2.5",children:"Using suggested"}),!b&&e.lumpsumTarget>=100&&l.jsx("p",{className:"text-xs text-[var(--text-dim)] pb-2.5",children:"Using lumpsum target"})]}),S&&l.jsxs("p",{className:"text-xs text-amber-400/80 px-1",children:["Below minimum  distributes proportionally but won't fully rebalance. Need ",Q(f)," for exact target %."]}),h.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[l.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Invest"})]})}),l.jsx("tbody",{children:h.map(w=>l.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${w.invest===0?"opacity-50":""}`,children:[l.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:w.fundName}),l.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[l.jsxs("span",{className:w.isOverweight?"text-amber-400":w.invest>0?"text-blue-400":"text-[var(--text-dim)]",children:[w.currentPct.toFixed(1),"%"]}),l.jsxs("span",{className:"text-[var(--text-dim)]",children:["  ",w.newPct.toFixed(1),"%"]})]}),l.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:w.isOverweight?l.jsx("span",{className:"text-amber-400/70 text-xs",children:"Overweight"}):w.invest>0?l.jsx("span",{className:"text-emerald-400",children:_l(w.invest)}):l.jsx("span",{className:"text-[var(--text-dim)] text-xs",children:"Balanced"})})]},w.holdingId))}),v>0&&l.jsx("tfoot",{children:l.jsxs("tr",{className:"border-t border-[var(--border)]",children:[l.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),l.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-emerald-400 tabular-nums",children:Q(v)})]})})]})}):l.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2 text-center",children:"All funds balanced"}),x&&l.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Overweight funds can't be fixed by buying. Use ",l.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab to sell overweight and buy underweight."]})]})}function u7({portfolio:e,holdings:t,totalValue:n}){const r=(e.rebalanceThreshold||.05)*100,a=t.some(u=>u.targetAllocationPct>0),s=t.some(u=>u.targetAllocationPct===0&&u.units>0);if(!a&&!s)return l.jsx(k1,{});const c=t.filter(u=>u.targetAllocationPct>0||u.units>0).map(u=>{const f=n>0?u.currentValue/n*100:0,m=u.targetAllocationPct===0&&u.units>0,h=m||Math.abs(f-u.targetAllocationPct)>r,v=u.targetAllocationPct/100*n,x=h?v-u.currentValue:0;return{...u,currentPct:f,amount:x,isExit:m}}).filter(u=>Math.abs(u.amount)>=500);return c.length===0?l.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"Portfolio is balanced"}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[l.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Drift"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Action"})]})}),l.jsx("tbody",{children:c.map(u=>{const f=u.amount>0;return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[l.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:u.fundName}),l.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:u.isExit?l.jsxs("span",{className:"text-[var(--accent-rose)]",children:[u.currentPct.toFixed(1),"%  Exit"]}):`${u.currentPct.toFixed(1)}%  ${u.targetAllocationPct.toFixed(1)}%`}),l.jsx("td",{className:"py-2 px-2 text-right",children:l.jsxs("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${f?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[f?"Buy":u.isExit?"Exit":"Sell"," ",_l(Math.abs(u.amount))]})})]},u.schemeCode||u.fundCode)})})]})})}function GT(){const{mfHoldings:e,mfPortfolios:t}=ht(),[n,r]=j.useState("buysell"),a=j.useMemo(()=>t.filter(f=>f.status!=="Inactive").map(f=>{const m=e.filter(w=>w.portfolioId===f.portfolioId&&w.units>0),h=m.reduce((w,y)=>w+y.currentValue,0),v=(f.rebalanceThreshold||.05)*100,x=m.filter(w=>{if(w.targetAllocationPct<=0)return!1;const y=h>0?w.currentValue/h*100:0;return Math.abs(y-w.targetAllocationPct)>v}).length,b=m.filter(w=>w.targetAllocationPct===0&&w.units>0&&w.currentValue>=500).length,S=m.some(w=>w.targetAllocationPct>0);return{...f,holdings:m,totalValue:h,driftedCount:x,exitCount:b,hasTargets:S}}).filter(f=>f.driftedCount>0||f.exitCount>0),[t,e]);if(a.length===0){const f=e.some(m=>m.targetAllocationPct>0);return l.jsx("div",{className:"py-8 text-center",children:f?l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"All portfolios are balanced"}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"No funds exceed their rebalance threshold"})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No target allocations set"}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:["Use ",l.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund, then rebalance will show drift"]})]})})}const c=a.some(f=>(f.sipTarget||0)>=500)?jA:jA.filter(f=>f.key!=="sip"),u=c.some(f=>f.key===n)?n:c[0]?.key||"buysell";return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex bg-[var(--bg-inset)] rounded-lg p-0.5",children:c.map(({key:f,label:m,icon:h,color:v,dimColor:x,activeBg:b})=>l.jsxs("button",{onClick:()=>r(f),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-semibold transition-colors ${u===f?`${b} ${v} shadow-sm`:x}`,children:[l.jsx(h,{size:13})," ",m]},f))}),a.map((f,m)=>l.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-violet-500/50 rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between px-3 py-2.5 bg-[var(--bg-inset)]",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center",children:m+1}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:f.portfolioName}),l.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:f.ownerName}),f.driftedCount>0&&l.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[f.driftedCount," drifted"]}),f.exitCount>0&&l.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-rose-500/15 text-[var(--accent-rose)]",children:[f.exitCount," exit"]})]}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-muted)]",children:[l.jsx("span",{className:"font-semibold text-[var(--text-secondary)]",children:Q(f.totalValue)}),l.jsxs("span",{children:["Threshold: ",((f.rebalanceThreshold||.05)*100).toFixed(0),"%"]}),f.sipTarget>=100&&l.jsxs("span",{children:["SIP: ",Q(f.sipTarget),"/mo"]})]})]}),l.jsxs("div",{className:"px-3 py-2",children:[u==="sip"&&l.jsx(o7,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue}),u==="lumpsum"&&l.jsx(c7,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue}),u==="buysell"&&l.jsx(u7,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue})]})]},f.portfolioId))]})}const d7="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png",f7="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo-small.png",NA={mf:{label:"Mutual Funds",color:"bg-violet-500",order:1,route:"/investments/mutual-funds"},stocks:{label:"Stocks",color:"bg-blue-500",order:2,route:"/investments/stocks"},Debt:{label:"Debt",color:"bg-cyan-500",order:3,route:"/investments/other"},Gold:{label:"Gold",color:"bg-amber-500",order:4,route:"/investments/other"},Silver:{label:"Silver",color:"bg-slate-400",order:5,route:"/investments/other"},Property:{label:"Real Estate",color:"bg-orange-500",order:6,route:"/investments/other"},Alternative:{label:"Alternative",color:"bg-violet-400",order:7,route:"/investments/other"},Equity:{label:"Equity",color:"bg-emerald-500",order:8,route:"/investments/other"},Other:{label:"Other",color:"bg-gray-500",order:9,route:"/investments/other"}},ym=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],SA=["bg-violet-500","bg-rose-500","bg-blue-500","bg-amber-500","bg-emerald-500"],m7=[{label:"Family Members",path:"/family",match:"/family"},{label:"Bank Accounts",path:"/accounts/bank",match:"/accounts/bank"},{label:"Investment Accounts",path:"/accounts/investment",match:"/accounts/investment"},{label:"Insurance",path:"/insurance",match:"/insurance"},{label:"Mutual Funds",path:"/investments/mutual-funds",match:"/investments/mutual-funds"},{label:"Stocks",path:"/investments/stocks",match:"/investments/stocks"},{label:"Other Investments",path:"/investments/other",match:"/investments/other"},{label:"Liabilities",path:"/liabilities",match:"/liabilities"},{label:"Goals",path:"/goals",match:"/goals"}],p7={buyopp:"Buying Opportunities",rebalance:"Rebalance Alerts"};function h7({onMenuClick:e}){const{theme:t,toggle:n}=TO(),{selectedMember:r,setSelectedMember:a,familyMembers:s}=Yr(),{mfPortfolios:c,mfHoldings:u,stockPortfolios:f,stockHoldings:m,otherInvList:h,liabilityList:v,refreshData:x,isRefreshing:b}=ht(),{user:S,signOut:w}=eo(),{masked:y,toggleMask:C,mv:M}=ui(),A=Jl(),_=ca(),{criticalAlerts:E,upcomingReminders:T,investmentSignals:P}=NB(),[O,L]=j.useState(!1),[R,B]=j.useState(!1),[k,K]=j.useState(null),[W,Z]=j.useState(!1),[$,G]=j.useState(!1),[z,re]=j.useState(!0),he=j.useRef(null),F=j.useRef(null),ne=j.useRef(null),ve=E.length+T.length,{buyOppCount:be,buyCount:Pe,strongBuyCount:Re,rebalanceCount:Ne}=P;j.useEffect(()=>{function ge(He){he.current&&!he.current.contains(He.target)&&L(!1),F.current&&!F.current.contains(He.target)&&B(!1)}return(O||R)&&document.addEventListener("mousedown",ge),()=>document.removeEventListener("mousedown",ge)},[O,R]);const _e=s.findIndex(ge=>ge.memberId===r),X=_e>=0?s[_e]:null,Se=j.useMemo(()=>{const ge=(Ue,te)=>r==="all"?Ue:Ue.filter(me=>me[te]===r),He={},Ze=(Ue,te,me,Oe)=>{He[Ue]||(He[Ue]={items:[],invested:0}),He[Ue].items.push({label:te,value:me}),He[Ue].invested+=Oe};ge((c||[]).filter(Ue=>Ue.status==="Active"),"ownerId").forEach(Ue=>{const te=(u||[]).filter(rt=>rt.portfolioId===Ue.portfolioId&&rt.units>0),me=te.reduce((rt,Y)=>rt+Y.currentValue,0),Oe=te.reduce((rt,Y)=>rt+Y.investment,0);me>0&&Ze("mf",Ue.portfolioName?.replace(/^PFL-/,"")||Ue.portfolioName,me,Oe)}),ge((f||[]).filter(Ue=>Ue.status==="Active"),"ownerId").forEach(Ue=>{const te=(m||[]).filter(rt=>rt.portfolioId===Ue.portfolioId),me=te.reduce((rt,Y)=>rt+Y.currentValue,0),Oe=te.reduce((rt,Y)=>rt+Y.totalInvestment,0);me>0&&Ze("stocks",Ue.portfolioName,me,Oe)}),ge((h||[]).filter(Ue=>Ue.status==="Active"),"familyMemberId").forEach(Ue=>{const te=Ue.investmentCategory||"Other";Ze(te,Ue.investmentName||Ue.investmentType||"Other",Ue.currentValue,Ue.investedAmount||0)});const bt=Object.entries(He).map(([Ue,{items:te,invested:me}])=>{const Oe=NA[Ue]||NA.Other,rt=te.reduce((Y,ue)=>Y+ue.value,0);return{key:Ue,label:Oe.label,color:Oe.color,order:Oe.order,route:Oe.route,total:rt,invested:me,items:te.sort((Y,ue)=>ue.value-Y.value)}}).filter(Ue=>Ue.total>0).sort((Ue,te)=>Ue.order-te.order),At=ge((v||[]).filter(Ue=>Ue.status==="Active"),"familyMemberId"),Er=At.map(Ue=>({label:Ue.liabilityName||Ue.liabilityType||"Loan",value:Ue.outstandingBalance})),sn=At.reduce((Ue,te)=>Ue+te.outstandingBalance,0),nr=bt.reduce((Ue,te)=>Ue+te.total,0),_a=bt.reduce((Ue,te)=>Ue+te.invested,0);return{netWorth:nr-sn,totalInv:nr,totalInvested:_a,sections:bt,totalLiab:sn,liabilities:Er}},[r,c,u,f,m,h,v]);function Be(){L(!1),B(!1)}function xe(){if(!ne.current)return;const{scrollLeft:ge,scrollWidth:He,clientWidth:Ze}=ne.current;G(ge>5),re(ge+Ze<He-5)}function et(ge){if(!ne.current)return;const Ze=(ne.current.querySelector("a")?.offsetWidth||240)+12;ne.current.scrollBy({left:ge*Ze,behavior:"smooth"})}return j.useEffect(()=>{xe()},[Se,W]),l.jsxs("header",{className:"sticky top-0 z-30 shrink-0",children:[l.jsx("style",{children:`
        @keyframes glow-emerald {
          0%, 100% { box-shadow: 0 0 6px rgba(16,185,129,0.3), 0 0 12px rgba(16,185,129,0.15); }
          50% { box-shadow: 0 0 12px rgba(16,185,129,0.5), 0 0 24px rgba(16,185,129,0.25); }
        }
        @keyframes glow-violet {
          0%, 100% { box-shadow: 0 0 6px rgba(139,92,246,0.3), 0 0 12px rgba(139,92,246,0.15); }
          50% { box-shadow: 0 0 12px rgba(139,92,246,0.5), 0 0 24px rgba(139,92,246,0.25); }
        }
        .glow-emerald { animation: glow-emerald 2s ease-in-out infinite; }
        .glow-violet { animation: glow-violet 2s ease-in-out infinite; }
      `}),l.jsx("div",{className:"relative z-10 bg-[var(--bg-header)]/95 backdrop-blur-sm border-b border-[var(--border)]",children:l.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:e,className:"lg:hidden p-2 -ml-1.5 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:l.jsx(A8,{size:20})}),l.jsx("img",{src:f7,alt:"Capital Friends",className:"h-9 sm:hidden"}),l.jsx("img",{src:d7,alt:"Capital Friends",className:"h-10 hidden sm:block"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[be>0&&l.jsxs("button",{onClick:()=>{K(k==="buyopp"?null:"buyopp"),Be()},className:`glow-emerald flex items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${k==="buyopp"?"bg-emerald-500/30 text-emerald-300 ring-1 ring-emerald-400/50":"bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25"}`,children:[l.jsx(Dh,{size:13,strokeWidth:2.5}),l.jsx("span",{className:"hidden sm:inline",children:Re>0?"Buy Opportunities":"Buying Opportunities"}),Re>0&&l.jsxs("span",{className:"text-[11px] bg-emerald-500/30 px-1.5 py-0.5 rounded-full",children:[Re," Strong"]}),Pe>0&&l.jsxs("span",{className:"text-[11px] bg-emerald-500/20 px-1.5 py-0.5 rounded-full",children:[Pe," Buy"]})]}),Ne>0&&l.jsxs("button",{onClick:()=>{K(k==="rebalance"?null:"rebalance"),Be()},className:`glow-violet flex items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${k==="rebalance"?"bg-violet-500/30 text-violet-300 ring-1 ring-violet-400/50":"bg-violet-500/15 text-violet-400 hover:bg-violet-500/25"}`,children:[l.jsx(ic,{size:13,strokeWidth:2.5}),l.jsx("span",{className:"hidden sm:inline",children:"Rebalance Alerts"}),l.jsx("span",{className:"text-[11px] bg-violet-500/30 px-1.5 py-0.5 rounded-full",children:Ne})]}),l.jsx("button",{onClick:()=>x(!0),disabled:b,className:`p-2 rounded-lg transition-colors ${b?"text-blue-400 cursor-not-allowed":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:"Sync data from Google Sheets",children:l.jsx(ic,{size:18,className:b?"animate-spin":""})}),l.jsx("button",{onClick:C,className:`p-2 rounded-lg transition-colors ${y?"text-amber-400 bg-amber-500/10":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:y?"Data masked  click to reveal":"Mask sensitive data",children:y?l.jsx(ep,{size:18}):l.jsx(p1,{size:18})}),l.jsx("button",{onClick:n,className:"p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",title:`Switch to ${t==="dark"?"light":"dark"} mode`,children:t==="dark"?l.jsx(Wb,{size:18}):l.jsx(QO,{size:18})}),ve>0&&l.jsxs("div",{className:"relative",ref:F,children:[l.jsxs("button",{onClick:()=>{B(!R),L(!1)},className:"relative p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx(Ah,{size:18}),l.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-rose-500 rounded-full px-1",children:ve})]}),R&&l.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[l.jsx("div",{className:"px-3 py-2 border-b border-[var(--border-light)]",children:l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Notifications"})}),l.jsxs("div",{className:"max-h-[300px] overflow-y-auto py-1",children:[E.map((ge,He)=>{const Ze={critical:"bg-rose-500",warning:"bg-amber-500",info:"bg-blue-500"}[ge.type],dt={critical:"bg-rose-500/15 text-rose-400",warning:"bg-amber-500/15 text-amber-400",info:"bg-blue-500/15 text-blue-400"}[ge.type];return l.jsxs("button",{onClick:()=>{B(!1),A(ge.navigateTo)},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${Ze}`}),l.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 text-left truncate",children:ge.title}),l.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${dt}`,children:ge.badge})]},`c-${He}`)}),E.length>0&&T.length>0&&l.jsx("div",{className:"mx-3 my-1 border-t border-[var(--border-light)]"}),T.map(ge=>{const He=ge.days<=7?"bg-rose-500/15 text-rose-400":ge.days<=15?"bg-amber-500/15 text-amber-400":"bg-slate-500/15 text-[var(--text-muted)]";return l.jsxs("button",{onClick:()=>{B(!1),A("/reminders")},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[l.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-amber-500"}),l.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 truncate",children:ge.title}),l.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${He}`,children:ge.days===0?"Today":ge.days<=30?`${ge.days}d`:ge.dateStr})]},`r-${ge.reminderId}`)})]})]})]}),l.jsxs("div",{className:"relative",ref:he,children:[l.jsxs("button",{onClick:()=>{L(!O),B(!1)},className:"flex items-center gap-1.5 pl-1 pr-2 py-1 rounded-full hover:bg-[var(--bg-hover)] transition-colors",children:[X?l.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-br ${ym[_e%ym.length]} flex items-center justify-center text-white text-xs font-bold shadow-sm`,children:X.memberName.charAt(0)}):l.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm",children:l.jsx(lc,{size:14})}),l.jsx(ya,{size:14,className:`text-[var(--text-muted)] transition-transform ${O?"rotate-180":""}`})]}),O&&l.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[l.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)]",children:l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Viewing as"})}),l.jsxs("div",{className:"py-1.5",children:[l.jsxs("button",{onClick:()=>{a("all"),L(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${r==="all"?"bg-violet-500/10":"hover:bg-[var(--bg-hover)]"}`,children:[l.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm shrink-0",children:l.jsx(lc,{size:15})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`text-sm font-semibold truncate ${r==="all"?"text-violet-400":"text-[var(--text-primary)]"}`,children:"Everyone"}),l.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:"All family members"})]}),r==="all"&&l.jsx(AC,{size:16,className:"text-violet-400 shrink-0"})]}),s.length>0&&l.jsx("div",{className:"mx-4 my-1 border-t border-[var(--border-light)]"}),s.map((ge,He)=>{const Ze=r===ge.memberId;return l.jsxs("button",{onClick:()=>{a(ge.memberId),L(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${Ze?`${SA[He%SA.length]}/10`:"hover:bg-[var(--bg-hover)]"}`,children:[l.jsx("div",{className:`w-9 h-9 rounded-full bg-gradient-to-br ${ym[He%ym.length]} flex items-center justify-center text-white text-sm font-bold shadow-sm shrink-0`,children:ge.memberName.charAt(0)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-semibold truncate text-[var(--text-primary)]",children:M(ge.memberName,"name")}),l.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:ge.relationship||"Family member"})]}),Ze&&l.jsx(AC,{size:16,className:"text-emerald-400 shrink-0"})]},ge.memberId)})]}),l.jsxs("div",{className:"border-t border-[var(--border-light)] py-1.5",children:[l.jsxs(Xo,{to:"/settings",onClick:()=>L(!1),className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx(h1,{size:16}),l.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),S&&l.jsx("div",{className:"px-4 py-1.5",children:l.jsx("p",{className:"text-[11px] text-[var(--text-muted)] truncate",children:M(S.email,"email")})}),l.jsxs("button",{onClick:()=>{w(),L(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-rose-400 hover:bg-rose-500/10 transition-colors",children:[l.jsx(WO,{size:16}),l.jsx("span",{className:"text-sm font-medium",children:"Sign out"})]})]})]})]})]})]})}),l.jsx(jB,{}),l.jsx("nav",{className:"bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)]",children:l.jsxs("div",{className:"flex items-center px-3 sm:px-4 py-1.5",children:[l.jsx("div",{className:"flex items-center gap-1 overflow-x-auto no-scrollbar flex-1 min-w-0",children:m7.map(ge=>{const He=_.pathname.startsWith(ge.match);return l.jsx(Xo,{to:ge.path,className:`whitespace-nowrap px-3 py-1.5 rounded-lg text-[13px] font-medium transition-colors ${He?"bg-violet-500/15 text-violet-400":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:ge.label},ge.path)})}),l.jsxs("button",{onClick:()=>Z(!W),className:"shrink-0 ml-3 flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15 transition-colors",children:[l.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400/70",children:"Net Worth"}),l.jsx("span",{className:"text-sm font-extrabold text-emerald-400 tabular-nums",children:Q(Se.netWorth)}),l.jsx(ya,{size:12,className:`text-emerald-400/60 transition-transform duration-200 ${W?"rotate-180":""}`})]})]})}),W&&l.jsx("div",{className:"bg-[var(--bg-card)]/90 backdrop-blur-sm border-b border-[var(--border-light)] animate-in slide-in-from-top-2 fade-in duration-200",children:l.jsxs("div",{className:"relative max-w-7xl mx-auto",children:[$&&l.jsx("button",{onClick:()=>et(-1),className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 z-10 w-7 h-7 flex items-center justify-center rounded-full bg-[var(--bg-card)] border border-[var(--border)] shadow-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:l.jsx(FO,{size:14})}),l.jsxs("div",{ref:ne,onScroll:xe,className:"flex gap-3 px-12 sm:px-14 py-3 overflow-x-auto scroll-smooth snap-x snap-mandatory no-scrollbar",children:[Se.sections?.map(ge=>l.jsxs(Xo,{to:ge.route,className:"group snap-start shrink-0 w-[calc(50%-6px)] sm:w-[calc(33.333%-8px)] lg:w-[calc(25%-9px)] rounded-lg p-3 bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)] border border-[var(--border-light)] transition-colors",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[l.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold uppercase tracking-wider text-[var(--text-muted)]",children:[l.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${ge.color}`}),ge.label]}),l.jsx(td,{size:10,className:"text-[var(--text-dim)] opacity-0 group-hover:opacity-100 transition-opacity"})]}),l.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums mb-1",children:Q(ge.total)}),ge.items.length>0&&l.jsx("div",{className:"space-y-0.5",children:ge.items.map(He=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-[11px] text-[var(--text-dim)] truncate mr-2",children:He.label}),l.jsx("span",{className:"text-[11px] text-[var(--text-muted)] tabular-nums shrink-0",children:Q(He.value)})]},He.label))})]},ge.key)),Se.totalLiab>0&&l.jsxs(Xo,{to:"/liabilities",className:"group snap-start shrink-0 w-[calc(50%-6px)] sm:w-[calc(33.333%-8px)] lg:w-[calc(25%-9px)] rounded-lg p-3 bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)] border border-[var(--border-light)] transition-colors",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[l.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold uppercase tracking-wider text-[var(--text-muted)]",children:[l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-500"}),"Liabilities"]}),l.jsx(td,{size:10,className:"text-[var(--text-dim)] opacity-0 group-hover:opacity-100 transition-opacity"})]}),l.jsxs("p",{className:"text-base font-bold text-[var(--accent-rose)] tabular-nums mb-1",children:["",Q(Se.totalLiab)]}),Se.liabilities?.length>0&&l.jsx("div",{className:"space-y-0.5",children:Se.liabilities.map(ge=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-[11px] text-[var(--text-dim)] truncate mr-2",children:ge.label}),l.jsx("span",{className:"text-[11px] text-[var(--accent-rose)]/70 tabular-nums shrink-0",children:Q(ge.value)})]},ge.label))})]})]}),z&&l.jsx("button",{onClick:()=>et(1),className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 z-10 w-7 h-7 flex items-center justify-center rounded-full bg-[var(--bg-card)] border border-[var(--border)] shadow-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:l.jsx(td,{size:14})})]})}),k&&l.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-16 sm:pt-24 px-3",children:[l.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>K(null)}),l.jsxs("div",{className:"relative w-full max-w-3xl max-h-[75vh] rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-2xl shadow-black/40 overflow-hidden flex flex-col animate-in fade-in slide-in-from-top-4 duration-200",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--border-light)] shrink-0",children:[l.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:p7[k]}),l.jsx("button",{onClick:()=>K(null),className:"p-1.5 rounded-lg hover:bg-[var(--bg-hover)] text-[var(--text-dim)] transition-colors",children:l.jsx(Ul,{size:16})})]}),l.jsxs("div",{className:"overflow-y-auto p-4",children:[k==="buyopp"&&l.jsx(sT,{}),k==="rebalance"&&l.jsx(GT,{})]})]})]})]})}const v7=[{label:"Invest",icon:ec,path:"/investments/mutual-funds"},{label:"Accounts",icon:ad,path:"/accounts/bank"},{label:"Goals",icon:Md,path:"/goals"},{label:"Reminders",icon:Ah,path:"/reminders"},{label:"More",icon:e8,path:"/more"}];function x7(){return l.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-[var(--bg-sidebar)] border-t border-[var(--border)] safe-bottom",children:l.jsx("div",{className:"flex items-center justify-around h-[56px]",children:v7.map(({label:e,icon:t,path:n})=>l.jsx(c1,{to:n,className:({isActive:r})=>`relative flex flex-col items-center justify-center gap-0.5 w-full h-full text-xs font-medium transition-colors ${r?"text-[var(--sidebar-active-text)]":"text-[var(--text-dim)]"}`,children:({isActive:r})=>l.jsxs(l.Fragment,{children:[r&&l.jsx("span",{className:"absolute top-0 w-10 h-[2.5px] bg-[var(--sidebar-active-text)] rounded-b-full"}),l.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-xl transition-colors ${r?"bg-[var(--sidebar-active-bg)]":""}`,children:l.jsx(t,{size:19,strokeWidth:r?2.2:1.5})}),l.jsx("span",{className:r?"font-semibold":"",children:e})]})},n))})})}const g7="/logo-small.png",t0=[{key:"auth",label:"Signing in"},{key:"data",label:"Loading your data"},{key:"health",label:"Checking health status"},{key:"ready",label:"Almost ready"}];function _p({phase:e="auth"}){const[t,n]=j.useState("");j.useEffect(()=>{const a=setInterval(()=>{n(s=>s.length>=3?"":s+".")},500);return()=>clearInterval(a)},[]);const r=t0.findIndex(a=>a.key===e);return l.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:l.jsxs("div",{className:"flex flex-col items-center gap-8",children:[l.jsx("img",{src:g7,alt:"Capital Friends",className:"h-16 w-16 animate-pulse"}),l.jsxs("div",{className:"flex flex-col items-center gap-4 min-w-[220px]",children:[t0.map((a,s)=>{const c=s===r,u=s<r;return l.jsxs("div",{className:"flex items-center gap-3 w-full",children:[l.jsx("div",{className:`flex-shrink-0 w-5 h-5 rounded-full flex items-center justify-center text-xs font-medium transition-all duration-300 ${u?"bg-green-500 text-white":c?"bg-violet-500 text-white animate-pulse":"bg-[var(--border)] text-[var(--text-muted)]"}`,children:u?"":s+1}),l.jsxs("span",{className:`text-sm transition-all duration-300 ${u?"text-green-400":c?"text-[var(--text-primary)] font-medium":"text-[var(--text-muted)]"}`,children:[a.label,c?t:""]})]},a.key)}),l.jsx("div",{className:"w-full h-1 rounded-full bg-[var(--border)] overflow-hidden mt-2",children:l.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-violet-500 to-cyan-500 transition-all duration-500 ease-out",style:{width:`${(r+1)/t0.length*100}%`}})})]})]})})}function b7(){const[e,t]=j.useState(!1),{loading:n,error:r}=ht();return n?l.jsx(_p,{}):r?l.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:l.jsxs("div",{className:"flex flex-col items-center gap-4 text-center px-6",children:[l.jsx("img",{src:"/logo-small.png",alt:"Capital Friends",className:"h-16 w-16 opacity-50"}),l.jsx("p",{className:"text-rose-400 text-sm font-medium",children:r}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-violet-600 hover:bg-violet-500 text-white transition-colors",children:"Retry"})]})}):l.jsxs("div",{className:"flex flex-col h-dvh bg-[var(--bg-base)] overflow-hidden",children:[l.jsx(h7,{onMenuClick:()=>t(!0)}),l.jsx(xB,{open:e,onClose:()=>t(!1)}),l.jsx("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-20 lg:pb-0",children:l.jsx("div",{className:"px-3 sm:px-4 py-3 sm:py-4 w-full max-w-7xl mx-auto",children:l.jsx(Q_,{})})}),l.jsx(x7,{})]})}function y7(){const{isAuthenticated:e,loading:t}=eo(),{healthCheckCompleted:n,loading:r}=ht(),a=ca();return t&&!e?l.jsx(_p,{phase:"auth"}):!e&&!t?l.jsx(pp,{to:"/",replace:!0}):r?l.jsx(_p,{phase:"data"}):n===!1&&a.pathname!=="/health-check"?l.jsx(pp,{to:"/health-check",replace:!0}):l.jsx(Q_,{})}const CA="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png";function KT(){const{isAuthenticated:e,loading:t,error:n,signIn:r}=eo(),a=Jl(),[s,c]=j.useState(0),[u,f]=j.useState(!1),m=j.useRef(null),h=j.useCallback(()=>{m.current&&clearInterval(m.current),m.current=setInterval(()=>{f(S=>(S||c(w=>(w+1)%4),S))},5e3)},[]);j.useEffect(()=>(h(),()=>{m.current&&clearInterval(m.current)}),[h]);function v(S){c(S),h()}if(j.useEffect(()=>{e&&a("/dashboard",{replace:!0})},[e,a]),t)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#080d1a]",children:l.jsx("img",{src:"/logo-small.png",alt:"",className:"h-16 w-16 animate-pulse"})});const x=[{id:"ath",label:"ATH Tracking",icon:l.jsx(sc,{size:18}),color:"emerald",tagline:"Spot Buying Opportunities",desc:"See how far each mutual fund is from its All-Time High NAV. When a quality fund dips 10-20% below ATH, it's your signal to invest more  via SIP increase or lumpsum.",mock:l.jsx(j7,{})},{id:"rebalance",label:"Rebalancing",icon:l.jsx(ic,{size:18}),color:"violet",tagline:"Know Exactly What to Buy or Sell",desc:"Set target allocation for each fund. When your portfolio drifts, Capital Friends tells you exactly how much to adjust  via SIP changes, lumpsum top-ups, or buy/sell actions.",mock:l.jsx(N7,{})},{id:"goals",label:"Goal Linking",icon:l.jsx(Md,{size:18}),color:"cyan",tagline:"Link Portfolios to Goals",desc:"Create goals like retirement, child education, or emergency fund. Link MF portfolios with allocation percentages. Goal progress updates automatically as NAVs change daily.",mock:l.jsx(S7,{})},{id:"dashboard",label:"Family View",icon:l.jsx(lc,{size:18}),color:"amber",tagline:"Everyone's Wealth, One Dashboard",desc:"Switch between family members in one click. See combined or individual net worth, investments, insurance, loans  everything your family owns, in one place.",mock:l.jsx(w7,{})}],b=x[s];return l.jsxs("div",{className:"min-h-screen bg-[#080d1a] text-slate-200",children:[l.jsx("header",{className:"sticky top-0 z-50 bg-[#0a0f1f]/95 backdrop-blur-sm border-b border-white/[0.06]",children:l.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[l.jsx("img",{src:CA,alt:"Capital Friends",className:"h-12"}),l.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-600 to-cyan-600 text-white text-sm font-semibold hover:from-violet-500 hover:to-cyan-500 transition-all cursor-pointer",children:[l.jsx(MA,{s:14})," Sign In"]})]})}),l.jsxs("section",{className:"relative px-5 sm:px-8 lg:px-16 pt-10 sm:pt-14 pb-8 sm:pb-10 overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[400px] bg-violet-600/8 rounded-full blur-[120px] pointer-events-none"}),l.jsx("div",{className:"absolute top-20 right-1/4 w-[400px] h-[300px] bg-cyan-600/6 rounded-full blur-[100px] pointer-events-none"}),l.jsxs("div",{className:"relative text-center",children:[l.jsx("span",{className:"inline-block text-xs font-bold uppercase tracking-[0.2em] text-violet-400 bg-violet-500/10 border border-violet-500/20 rounded-full px-4 py-1.5 mb-5",children:"Always Free  100% Private  Your Google Sheet"}),l.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold leading-[1.1] tracking-tight text-white",children:["One dashboard for your family's"," ",l.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-cyan-400 bg-clip-text text-transparent",children:"entire wealth"})]}),l.jsxs("p",{className:"mt-5 text-base sm:text-lg text-slate-400 leading-relaxed max-w-2xl mx-auto",children:["Mutual funds, stocks, FDs, gold, insurance, loans  track everything for every family member. Manual entry means ",l.jsx("strong",{className:"text-white",children:"no bank credentials, no privacy risk"}),"."]}),n&&l.jsx("p",{className:"mt-5 text-sm text-rose-400",children:n})]})]}),l.jsxs("section",{className:"bg-gradient-to-b from-[#0d0a1a] to-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-10 sm:py-14",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3 flex-wrap justify-center",children:[l.jsx(Hs,{size:28,className:"text-amber-400 shrink-0"}),l.jsxs("span",{children:["What happens if something happens to ",l.jsx("span",{className:"text-amber-400",children:"you"}),"?"]})]}),l.jsxs("p",{className:"mt-4 text-lg text-slate-400 leading-relaxed",children:["Your family should know about every investment, every policy, every loan. Not someday. ",l.jsx("strong",{className:"text-white",children:"Right now."})]})]}),l.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[l.jsx(AA,{icon:l.jsx(p1,{size:20}),color:"rose",title:"Without Capital Friends",items:["Scattered investments across 10+ platforms","Family has no idea what you own or owe","Insurance policies lost in email threads","Months of confusion, missed renewals, lost money"],bad:!0}),l.jsx(AA,{icon:l.jsx(rd,{size:20}),color:"emerald",title:"With Capital Friends",items:["One sheet  every investment, policy, and loan","Family receives email reports with full portfolio details","Reminders for SIPs, renewals, EMI payments","Complete clarity, instantly  when it matters most"]})]}),l.jsxs("p",{className:"text-center mt-8 text-base text-slate-500",children:["Built for ",l.jsx("strong",{className:"text-white",children:"you"})," to manage your wealth  and for your ",l.jsx("strong",{className:"text-white",children:"family"})," to access it when they need to."]})]}),l.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"How it Works"}),l.jsx("p",{className:"text-base text-slate-500",children:"Set up in 2 minutes  no bank credentials, no downloads"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-4",children:[l.jsx(wm,{num:1,icon:l.jsx(w8,{size:24}),color:"violet",title:"Sign In with Google",desc:"Go to capitalfriends.in and sign in with your Google account. That's all  no registration form, no passwords."}),l.jsx(wm,{num:2,icon:l.jsx(a8,{size:24}),color:"emerald",title:"App Creates Your Sheet",desc:"The app creates a private Google Sheet in your own Google Drive. This sheet stores all your financial data. Only you can see it  not even the developer."}),l.jsx(wm,{num:3,icon:l.jsx(qO,{size:24}),color:"cyan",title:"Financial Health Check",desc:"Answer 7 simple yes/no questions about your financial health. Get your score and personalized recommendations instantly."}),l.jsx(wm,{num:4,icon:l.jsx(sc,{size:24}),color:"amber",title:"Start Tracking",desc:"Add family members, portfolios, goals, insurance, and loans. The app connects to AMFI for live mutual fund prices automatically."})]}),l.jsxs("p",{className:"text-center mt-10 text-sm text-slate-600",children:["Your sheet is named ",l.jsx("strong",{className:"text-slate-400",children:"Capital Friends - Your Name"})," and lives in your Google Drive. The web app is just a beautiful dashboard to view and manage it."]})]}),l.jsxs("section",{id:"features",className:"bg-[#0b1022] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",onMouseEnter:()=>f(!0),onMouseLeave:()=>{f(!1),h()},children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Features That Set Us Apart"}),l.jsx("p",{className:"text-base text-slate-500",children:"Things you won't find on other portfolio trackers"})]}),l.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 mb-10 flex-wrap",children:x.map((S,w)=>{const y=w===s,C={emerald:"border-emerald-500",violet:"border-violet-500",cyan:"border-cyan-500",amber:"border-amber-500"},M={emerald:"text-emerald-400",violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400"};return l.jsxs("button",{onClick:()=>v(w),className:`relative flex items-center gap-2 px-5 py-2.5 rounded-full border text-sm font-semibold transition-all cursor-pointer ${y?`${C[S.color]} bg-white/[0.05] ${M[S.color]}`:"border-white/[0.08] text-slate-500 hover:border-white/[0.15] hover:text-slate-300"}`,children:[l.jsx("span",{className:"shrink-0",children:S.icon}),S.label,y&&l.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-0.5 bg-white/[0.06] rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full rounded-full bg-current",style:{animation:"featureProgress 5s linear",animationPlayState:u?"paused":"running"}})})]},S.id)})}),l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-8 lg:gap-12",children:[l.jsxs("div",{className:"lg:flex-1 min-h-[280px]",children:[l.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:b.tagline}),l.jsx("p",{className:"mt-3 text-base text-slate-400 leading-relaxed",children:b.desc}),b.id==="ath"&&l.jsxs("div",{className:"mt-6 space-y-5",children:[l.jsx(Wr,{c:"emerald",t:"ATH tracking only for funds in your portfolios"}),l.jsx(Wr,{c:"emerald",t:"Color-coded signals: watch, consider, buy, strong buy"}),l.jsx(Wr,{c:"emerald",t:"Increase SIP or invest lumpsum when funds dip"}),l.jsx(Wr,{c:"emerald",t:"Daily NAV updates from AMFI data"})]}),b.id==="rebalance"&&l.jsxs("div",{className:"mt-6 space-y-5",children:[l.jsx(Wr,{c:"violet",t:"Adjust monthly SIP to rebalance gradually"}),l.jsx(Wr,{c:"violet",t:"Lumpsum top-up for quick rebalance"}),l.jsx(Wr,{c:"violet",t:"Buy/Sell amounts to match target"}),l.jsx(Wr,{c:"violet",t:"Configurable threshold per portfolio"})]}),b.id==="goals"&&l.jsxs("div",{className:"mt-6 space-y-5",children:[l.jsx(Wr,{c:"cyan",t:"Link multiple MF portfolios to each goal"}),l.jsx(Wr,{c:"cyan",t:"Built-in SIP + lumpsum calculator with inflation"}),l.jsx(Wr,{c:"cyan",t:"Auto-status: On Track, Needs Attention, Achieved"}),l.jsx(Wr,{c:"cyan",t:"Withdrawal planning for retirement goals"})]}),b.id==="dashboard"&&l.jsxs("div",{className:"mt-6 space-y-5",children:[l.jsx(Wr,{c:"amber",t:"One-click switch between family members"}),l.jsx(Wr,{c:"amber",t:"Combined net worth across everyone"}),l.jsx(Wr,{c:"amber",t:"MF, stocks, FD, gold, PPF, NPS, insurance"}),l.jsx(Wr,{c:"amber",t:"Email reports sent to family automatically"})]})]}),l.jsx("div",{className:"lg:flex-1 min-w-0 min-h-[380px] flex flex-col justify-center",children:b.mock})]}),l.jsx("style",{children:`
          @keyframes featureProgress {
            from { width: 0% }
            to { width: 100% }
          }
        `})]}),l.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Everything You Need"}),l.jsx("p",{className:"text-base text-slate-500",children:"One dashboard for your entire financial life"})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[l.jsx(Ps,{icon:l.jsx(ed,{size:20}),c:"rose",t:"Stock Portfolios",d:"Buy/sell tracking, average cost, P&L with live NSE prices"}),l.jsx(Ps,{icon:l.jsx(O8,{size:20}),c:"orange",t:"FD, Gold, PPF, NPS",d:"Track any investment type  all counted in net worth"}),l.jsx(Ps,{icon:l.jsx(rd,{size:20}),c:"teal",t:"Insurance Tracker",d:"Life, health, term policies with premiums & renewal dates"}),l.jsx(Ps,{icon:l.jsx(ad,{size:20}),c:"red",t:"Liabilities",d:"Loans & EMIs. Net worth = total assets minus debts"}),l.jsx(Ps,{icon:l.jsx(Ah,{size:20}),c:"yellow",t:"Smart Reminders",d:"SIP dates, renewals, EMI payments, maturity alerts"}),l.jsx(Ps,{icon:l.jsx(lc,{size:20}),c:"pink",t:"Family Sharing",d:"Invite family with Google accounts  shared dashboard"}),l.jsx(Ps,{icon:l.jsx(ic,{size:20}),c:"blue",t:"Daily Auto-Refresh",d:"NAVs and stock prices update automatically every day"}),l.jsx(Ps,{icon:l.jsx(Ug,{size:20}),c:"emerald",t:"Complete Privacy",d:"No servers, no database, no tracking  your Sheet only"})]})]}),l.jsxs("section",{className:"border-y border-white/[0.06]",children:[l.jsxs("div",{className:"bg-[#0b1022] px-5 sm:px-8 lg:px-16 py-10 sm:py-14 text-center",children:[l.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3",children:[l.jsx(Ug,{size:28,className:"text-emerald-400 shrink-0"}),"Your Data Never Leaves Google"]}),l.jsxs("p",{className:"mt-3 text-base sm:text-lg text-slate-400 leading-relaxed",children:["No backend server. No database. No tracking. The web app is a static site. Your spreadsheet lives in ",l.jsx("strong",{className:"text-white",children:"your Google Drive"}),". We literally cannot access your financial data."]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row",children:[l.jsx(a0,{icon:l.jsx(rd,{size:20}),t:"Manual Entry Only",d:"No bank linking, no credentials shared. You type your data  no one else has access.",bg:"bg-[#0d1326]",c:"emerald"}),l.jsx(a0,{icon:l.jsx(Ug,{size:20}),t:"Your Google Sheet",d:"A private spreadsheet in your Drive. Share only with family you choose.",bg:"bg-[#0f1530]",c:"violet"}),l.jsx(a0,{icon:l.jsx(xp,{size:20}),t:"Always Free",d:"No premium tier, no hidden fees, no ads. Free today, free forever.",bg:"bg-[#111838]",c:"amber"})]})]}),l.jsxs("section",{className:"bg-gradient-to-t from-[#080d1a] to-[#0d1128] border-t border-white/[0.06] px-5 sm:px-8 lg:px-16 py-16 text-center",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white",children:"Start managing your family's wealth today"}),l.jsx("p",{className:"mt-3 text-base text-slate-500",children:"Always free. No credit card. No bank linking. Just your Google account."}),l.jsxs("button",{onClick:r,className:"mt-8 inline-flex items-center gap-2.5 px-8 py-3.5 bg-gradient-to-r from-violet-600 to-cyan-600 text-white font-bold text-base rounded-xl hover:from-violet-500 hover:to-cyan-500 shadow-lg shadow-violet-900/30 transition-all hover:scale-[1.02] cursor-pointer",children:[l.jsx(MA,{s:20})," Sign in with Google  It's Free"]}),n&&l.jsx("p",{className:"mt-3 text-sm text-rose-400",children:n})]}),l.jsxs("footer",{className:"border-t border-white/[0.04] px-5 sm:px-8 lg:px-16 py-5 flex items-center justify-between",children:[l.jsx("img",{src:CA,alt:"",className:"h-5 opacity-30"}),l.jsx("p",{className:"text-xs text-slate-600",children:"Your data. Your Google Drive. Your control."})]})]})}function AA({icon:e,title:t,items:n,bad:r}){const a=r?"border-rose-500/15":"border-emerald-500/15",s=r?"bg-rose-500/[0.04]":"bg-emerald-500/[0.04]",c=r?"bg-rose-500/10 text-rose-400":"bg-emerald-500/10 text-emerald-400",u=r?"text-rose-400":"text-emerald-400";return l.jsxs("div",{className:`rounded-2xl border ${a} ${s} p-6`,children:[l.jsxs("h3",{className:`text-lg font-bold ${u} mb-4 flex items-center gap-2.5`,children:[l.jsx("span",{className:`flex items-center justify-center w-8 h-8 rounded-lg ${c} shrink-0`,children:e}),t]}),l.jsx("ul",{className:"space-y-3",children:n.map((f,m)=>l.jsxs("li",{className:"flex items-start gap-2.5",children:[r?l.jsx("span",{className:"text-rose-500/60 mt-0.5 shrink-0",children:""}):l.jsx(Mc,{size:16,className:"text-emerald-500 mt-0.5 shrink-0"}),l.jsx("span",{className:"text-sm text-slate-300 leading-relaxed",children:f})]},m))})]})}function w7(){return l.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f]",children:[l.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Dashboard"}),l.jsx("div",{className:"flex gap-1.5",children:["Everyone","Jagadeesh","Priya","Arjun"].map((e,t)=>l.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ${t===0?"bg-violet-500/20 text-violet-300":"text-slate-600"}`,children:e},e))})]}),l.jsxs("div",{className:"grid grid-cols-3 divide-x divide-white/[0.04]",children:[l.jsx(r0,{l:"Net Worth",v:"45.2L",lc:"text-violet-400",vc:"text-white"}),l.jsx(r0,{l:"Invested",v:"38.7L",lc:"text-slate-500",vc:"text-slate-300"}),l.jsx(r0,{l:"P&L",v:"+6.5L",lc:"text-slate-500",vc:"text-emerald-400",extra:"+16.8%"})]}),l.jsxs("div",{className:"border-t border-white/[0.04]",children:[l.jsx(n0,{n:"Axis Bluechip Fund",alloc:"30% / 25%",cur:"6.2L",pl:"+24.0%",ath:"5.2%",athC:"text-[#e67e00]",up:!0}),l.jsx(n0,{n:"Parag Parikh Flexi Cap",alloc:"35% / 40%",cur:"4.8L",pl:"+37.1%",ath:"At ATH",athC:"text-emerald-500",up:!0}),l.jsx(n0,{n:"SBI Small Cap Fund",alloc:"20% / 15%",cur:"1.8L",pl:"-10.0%",ath:"18.3%",athC:"text-[#d84315]",last:!0})]})]})}function j7(){const e=[{n:"HDFC Mid-Cap Opportunities",nav:"142.35",ath:"168.50",pct:"15.5%",color:"text-[#d84315]",signal:"Good Buy Signal",sigC:"text-[#d84315] bg-[#d84315]/15"},{n:"Axis Small Cap Fund",nav:"38.22",ath:"52.10",pct:"26.6%",color:"text-[#c62828]",signal:"Strong Buy",sigC:"text-[#c62828] bg-[#c62828]/15 font-bold"},{n:"Kotak Emerging Equity",nav:"89.10",ath:"92.40",pct:"3.6%",color:"text-[#b8860b]",signal:"Watch",sigC:"text-[#b8860b] bg-[#b8860b]/15"},{n:"Mirae Asset Large Cap",nav:"105.80",ath:"106.20",pct:"0.4%",color:"text-slate-500",signal:"Near ATH",sigC:"text-slate-500 bg-white/[0.04]"}];return l.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-semibold text-white",children:"Buy Opportunities"}),l.jsx("span",{className:"text-xs text-emerald-400 font-semibold bg-emerald-500/10 px-2.5 py-1 rounded-full",children:"2 signals"})]}),e.map((t,n)=>l.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${n<e.length-1?"border-b border-white/[0.03]":""}`,children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:t.n}),l.jsxs("p",{className:"text-xs text-slate-600 mt-0.5",children:["NAV ","",t.nav,"  ATH ","",t.ath]})]}),l.jsxs("div",{className:"text-right shrink-0 ml-3",children:[l.jsxs("p",{className:`text-base font-bold tabular-nums ${t.color}`,children:[l.jsx(xF,{size:13,className:"inline -mt-0.5"})," ",t.pct]}),l.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded ${t.sigC}`,children:t.signal})]})]},n))]})}function N7(){const[e,t]=j.useState(0),n=["SIP Adjust","Lumpsum","Buy / Sell"],r=["New SIP","Lumpsum Top-up","Action"],s=[[{n:"Axis Bluechip",val:"SIP 6,000",cur:"30%",tgt:"25%",action:"Stop SIP",actionC:"text-amber-400"},{n:"Parag Parikh Flexi",val:"SIP 7,000",cur:"35%",tgt:"40%",action:"12,000/mo",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"SIP 4,000",cur:"20%",tgt:"15%",action:"Stop SIP",actionC:"text-amber-400"},{n:"HDFC Large Cap",val:"SIP 3,000",cur:"15%",tgt:"20%",action:"8,000/mo",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"No action",actionC:"text-slate-600"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Invest 55,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"No action",actionC:"text-slate-600"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Invest 45,000",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Buy 50,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Buy 50,000",actionC:"text-emerald-400"}]][e];return l.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-semibold text-white",children:"Rebalance Portfolio"}),l.jsx("span",{className:"text-xs text-violet-400 font-semibold bg-violet-500/10 px-2.5 py-1 rounded-full",children:"4 off-target"})]}),l.jsx("div",{className:"flex border-b border-white/[0.04]",children:n.map((c,u)=>l.jsx("button",{onClick:()=>t(u),className:`flex-1 text-xs font-semibold py-2.5 text-center cursor-pointer transition-colors ${u===e?"text-violet-400 border-b-2 border-violet-400":"text-slate-600 hover:text-slate-400"}`,children:c},c))}),l.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 border-b border-white/[0.04] bg-[#0a0f1f]/50 flex-wrap",children:[l.jsx("span",{className:"text-xs text-slate-500",children:"Portfolio Value"}),l.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","10,00,000"]}),e===0&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-xs text-slate-600",children:"|"}),l.jsx("span",{className:"text-xs text-slate-500",children:"Total SIP"}),l.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","20,000"]})]}),e===1&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-xs text-slate-600",children:"|"}),l.jsx("span",{className:"text-xs text-slate-500",children:"Lumpsum"}),l.jsx("input",{type:"text",readOnly:!0,value:"1,00,000",className:"bg-white/[0.04] border border-white/[0.08] rounded-md px-2 py-1 text-sm text-white font-semibold tabular-nums w-24 text-right cursor-default outline-none"})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 text-xs text-slate-600 font-semibold border-b border-white/[0.03]",children:[l.jsx("span",{children:"Fund / Value"}),l.jsx("span",{className:"text-center",children:"Current"}),l.jsx("span",{className:"text-center",children:"Target"}),l.jsx("span",{className:"text-right",children:r[e]})]}),s.map((c,u)=>l.jsxs("div",{className:`grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 items-center ${u<s.length-1?"border-b border-white/[0.03]":""}`,children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("span",{className:"text-sm text-slate-300 truncate block",children:c.n}),l.jsxs("span",{className:"text-[10px] text-slate-600",children:["",c.val]})]}),l.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:c.cur}),l.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:c.tgt}),l.jsx("span",{className:`text-sm text-right font-semibold ${c.actionC}`,children:c.action})]},`${e}-${u}`))]})]})}function S7(){const e=[{n:"Retirement",tgt:"2Cr",cur:"28.5L",pct:14,sip:"45,000",yrs:"18 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"Child Education",tgt:"50L",cur:"12.2L",pct:24,sip:"15,000",yrs:"12 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"New Car",tgt:"15L",cur:"4.1L",pct:27,sip:"12,000",yrs:"3 yrs",status:"Needs Attention",sc:"text-amber-400 bg-amber-500/15",bc:"bg-amber-500"}];return l.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-semibold text-white",children:"Goals"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-slate-500",children:"2 On Track"}),l.jsx("span",{className:"text-xs text-amber-400",children:"1 Needs Attention"})]})]}),e.map((t,n)=>l.jsxs("div",{className:`px-4 py-3.5 ${n<e.length-1?"border-b border-white/[0.03]":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-semibold text-white",children:t.n}),l.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${t.sc}`,children:t.status})]}),l.jsxs("span",{className:"text-xs text-slate-500",children:["",t.sip,"/mo  ",t.yrs]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex-1 h-2.5 rounded-full bg-white/[0.06] overflow-hidden",children:l.jsx("div",{className:`h-full rounded-full ${t.bc}`,style:{width:`${t.pct}%`}})}),l.jsxs("span",{className:"text-sm font-semibold text-slate-300 tabular-nums w-10 text-right",children:[t.pct,"%"]})]}),l.jsxs("div",{className:"flex justify-between mt-1.5 text-xs text-slate-600",children:[l.jsxs("span",{children:["",t.cur," of ","",t.tgt]}),l.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[l.jsx(GO,{size:10})," 2 portfolios linked"]})]})]},n))]})}function MA({s:e=16}){return l.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,className:"shrink-0",children:[l.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),l.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),l.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),l.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function r0({l:e,v:t,lc:n,vc:r,extra:a}){return l.jsxs("div",{className:"py-3.5 text-center",children:[l.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${n}`,children:e}),l.jsxs("p",{className:`text-lg font-bold tabular-nums mt-0.5 ${r}`,children:[t,a&&l.jsx("span",{className:"text-sm ml-1 text-emerald-400",children:a})]})]})}function n0({n:e,alloc:t,cur:n,pl:r,ath:a,athC:s,up:c,last:u}){return l.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${u?"":"border-b border-white/[0.03]"}`,children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-300",children:e}),l.jsxs("p",{className:"text-xs text-slate-600",children:["Alloc ",t,"  ",l.jsx("span",{className:s,children:a!=="At ATH"?`${a} below ATH`:a})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-200 tabular-nums",children:n}),l.jsx("p",{className:`text-sm font-semibold tabular-nums ${c?"text-emerald-400":"text-rose-400"}`,children:r})]})]})}function Wr({c:e,t}){const n={violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400",emerald:"text-emerald-400"};return l.jsxs("div",{className:"flex items-center gap-2.5",children:[l.jsx(Mc,{size:16,className:`${n[e]} shrink-0`}),l.jsx("span",{className:"text-sm text-slate-300",children:t})]})}function wm({num:e,icon:t,color:n,title:r,desc:a}){const s={violet:["text-violet-400","bg-violet-500/10","border-violet-500/20","from-violet-500/20 to-violet-500/5"],emerald:["text-emerald-400","bg-emerald-500/10","border-emerald-500/20","from-emerald-500/20 to-emerald-500/5"],cyan:["text-cyan-400","bg-cyan-500/10","border-cyan-500/20","from-cyan-500/20 to-cyan-500/5"],amber:["text-amber-400","bg-amber-500/10","border-amber-500/20","from-amber-500/20 to-amber-500/5"]},[c,u,f,m]=s[n]||s.violet;return l.jsxs("div",{className:`relative rounded-2xl border ${f} bg-gradient-to-b ${m} p-6 text-center`,children:[l.jsx("span",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl ${u} ${c} mb-4`,children:t}),l.jsxs("span",{className:`absolute top-4 right-4 text-xs font-bold ${c} opacity-40`,children:["0",e]}),l.jsx("h3",{className:"text-base font-bold text-white mb-2",children:r}),l.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:a})]})}function a0({icon:e,t,d:n,bg:r,c:a}){const s={emerald:"text-emerald-400",violet:"text-violet-400",amber:"text-amber-400"};return l.jsxs("div",{className:`flex-1 ${r} px-5 sm:px-8 lg:px-10 py-6 sm:py-8 border-b sm:border-b-0 sm:border-r border-white/[0.04] last:border-0`,children:[l.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[l.jsx("span",{className:`${s[a]} shrink-0`,children:e}),t]}),l.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:n})]})}const DA={violet:["text-violet-400","bg-violet-500/8","border-violet-500/10"],blue:["text-blue-400","bg-blue-500/8","border-blue-500/10"],emerald:["text-emerald-400","bg-emerald-500/8","border-emerald-500/10"],cyan:["text-cyan-400","bg-cyan-500/8","border-cyan-500/10"],rose:["text-rose-400","bg-rose-500/8","border-rose-500/10"],orange:["text-orange-400","bg-orange-500/8","border-orange-500/10"],teal:["text-teal-400","bg-teal-500/8","border-teal-500/10"],red:["text-red-400","bg-red-500/8","border-red-500/10"],yellow:["text-yellow-400","bg-yellow-500/8","border-yellow-500/10"],pink:["text-pink-400","bg-pink-500/8","border-pink-500/10"]};function Ps({icon:e,c:t,t:n,d:r}){const[a,s,c]=DA[t]||DA.violet;return l.jsxs("div",{className:`rounded-xl border ${c} ${s} p-5`,children:[l.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[l.jsx("span",{className:`${a} shrink-0`,children:e}),n]}),l.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:r})]})}function C7(){const{isAuthenticated:e,loading:t}=eo();return t?l.jsx(_p,{}):e?l.jsx(pp,{to:"/investments/mutual-funds",replace:!0}):l.jsx(KT,{})}function A7(){const e=ca();return l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-violet-500/15 rounded-2xl flex items-center justify-center mb-4",children:l.jsx(YF,{size:32,className:"text-violet-400"})}),l.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)] mb-2",children:"Coming Soon"}),l.jsx("p",{className:"text-[var(--text-muted)] text-sm max-w-sm",children:"This page is under construction. Navigate using the sidebar to explore available sections."}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-3 font-mono",children:e.pathname})]})}const M7=["Savings Account","Current Account","Fixed Deposit (FD)","Recurring Deposit (RD)","NRE Account","NRO Account","Minor Account"].map(e=>({value:e,label:e}));function D7({initial:e,onSave:t,onDelete:n,onCancel:r}){const{activeMembers:a}=ht(),s=!!e,[c,u]=j.useState({accountName:e?.accountName||"",memberId:e?.memberId||"",bankName:e?.bankName||"",accountNumber:e?.accountNumber||"",ifscCode:e?.ifscCode||"",branchName:e?.branchName||"",accountType:e?.accountType||"",status:e?.status||"Active"}),[f,m]=j.useState({}),[h,v]=j.useState(!1);function x(y,C){u(M=>({...M,[y]:C})),m(M=>({...M,[y]:void 0}))}function b(){const y={};return c.accountName.trim()||(y.accountName="Required"),c.memberId||(y.memberId="Required"),c.bankName.trim()||(y.bankName="Required"),String(c.accountNumber||"").trim()||(y.accountNumber="Required"),c.ifscCode.trim()||(y.ifscCode="Required"),c.branchName.trim()||(y.branchName="Required"),c.accountType||(y.accountType="Required"),m(y),Object.keys(y).length===0}async function S(){if(b()){v(!0);try{await t({...c,ifscCode:c.ifscCode.toUpperCase()})}finally{v(!1)}}}const w=a.map(y=>({value:y.memberId,label:`${y.memberName} (${y.relationship})`}));return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Account Name",required:!0,error:f.accountName,children:l.jsx(Me,{value:c.accountName,onChange:y=>x("accountName",y),placeholder:"e.g., HDFC Savings"})}),l.jsx(oe,{label:"Family Member",required:!0,error:f.memberId,children:l.jsx(Ke,{value:c.memberId,onChange:y=>x("memberId",y),options:w,placeholder:"Select member..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Bank Name",required:!0,error:f.bankName,children:l.jsx(Me,{value:c.bankName,onChange:y=>x("bankName",y),placeholder:"e.g., HDFC Bank"})}),l.jsx(oe,{label:"Account Type",required:!0,error:f.accountType,children:l.jsx(Ke,{value:c.accountType,onChange:y=>x("accountType",y),options:M7,placeholder:"Select type..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Account Number",required:!0,error:f.accountNumber,children:l.jsx(Me,{sensitive:!0,value:c.accountNumber,onChange:y=>x("accountNumber",y),placeholder:"e.g., 1234567890"})}),l.jsx(oe,{label:"IFSC Code",required:!0,error:f.ifscCode,children:l.jsx(Me,{value:c.ifscCode,onChange:y=>x("ifscCode",y.toUpperCase()),placeholder:"e.g., HDFC0001234",maxLength:11})})]}),l.jsx(oe,{label:"Branch Name",required:!0,error:f.branchName,children:l.jsx(Me,{value:c.branchName,onChange:y=>x("branchName",y),placeholder:"e.g., Hyderabad - Kondapur"})}),s&&l.jsx(oe,{label:"Status",children:l.jsx(Ke,{value:c.status,onChange:y=>x("status",y),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),l.jsxs("div",{className:"flex items-center justify-between",children:[s&&n?l.jsx(es,{onClick:n}):l.jsx("div",{}),l.jsx(an,{onCancel:r,onSubmit:S,submitLabel:s?"Update":"Add Account",loading:h})]})]})}function ts({title:e="Loading"}){return l.jsxs("div",{className:"flex flex-col items-center justify-center py-32 gap-3",children:[l.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),l.jsxs("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:[e,"..."]})]})}const kA={"Savings Account":"bg-blue-500/15 text-[var(--accent-blue)]",Savings:"bg-blue-500/15 text-[var(--accent-blue)]",Salary:"bg-emerald-500/15 text-emerald-400","Current Account":"bg-violet-500/15 text-[var(--accent-violet)]","Fixed Deposit":"bg-amber-500/15 text-[var(--accent-amber)]","Fixed Deposit (FD)":"bg-amber-500/15 text-[var(--accent-amber)]"};function EA(){const{selectedMember:e,member:t}=Yr(),{banks:n,addBankAccount:r,updateBankAccount:a,deleteBankAccount:s}=ht(),{showToast:c,showBlockUI:u,hideBlockUI:f}=oi(),m=ci(),{mv:h}=ui(),[v,x]=j.useState(null);if(n===null)return l.jsx(ts,{title:"Loading bank accounts",cards:3});const b=j.useMemo(()=>{const M=n.filter(A=>A.status!=="Inactive");return e==="all"?M:M.filter(A=>A.memberId===e)},[n,e]),S=j.useMemo(()=>new Set(b.map(M=>M.bankName)).size,[b]),w=j.useMemo(()=>b.filter(M=>M.accountType==="Savings"||M.accountType==="Savings Account"||M.accountType==="Salary").length,[b]);async function y(M){u("Saving...");try{v?.edit?await a(v.edit.accountId,M):await r(M),c(v?.edit?"Bank account updated":"Bank account added"),x(null)}catch(A){c(A.message||"Failed to save bank account","error")}finally{f()}}async function C(){if(v?.edit&&await m("Deactivate this bank account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){u("Deactivating...");try{await s(v.edit.accountId),c("Bank account deactivated"),x(null)}catch(M){c(M.message||"Failed to deactivate bank account","error")}finally{f()}}}return l.jsxs("div",{className:"space-y-4",children:[b.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(YO,{size:32,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No bank accounts",t?` for ${t.memberName}`:""]}),l.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first bank account"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsx(i0,{label:"Total Accounts",value:b.length}),l.jsx(i0,{label:"Banks",value:S}),l.jsx(i0,{label:"Savings / Salary",value:w})]}),l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Pr,{size:14})," Add Account"]})}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[580px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Bank"}),!t&&l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account No."}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Branch"}),l.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),l.jsx("tbody",{children:b.map(M=>l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsx("td",{className:"py-2.5 px-4",children:l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.accountName})}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.bankName}),!t&&l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:h(M.memberName,"name")}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${kA[M.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.accountType})}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:h(M.accountNumber,"account")}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:M.branchName}),l.jsx("td",{className:"py-2.5 px-2",children:l.jsx("button",{onClick:()=>x({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:l.jsx(ka,{size:12})})})]},M.accountId))})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(M=>l.jsxs("div",{onClick:()=>x({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.accountName}),l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${kA[M.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.accountType})]}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.bankName,t?"":`  ${h(M.memberName,"name")}`]}),l.jsxs("div",{className:"flex items-center justify-between mt-1",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:h(M.accountNumber,"account")}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:M.branchName})]})]},M.accountId))})]})]}),l.jsx(mr,{open:!!v,onClose:()=>x(null),title:v?.edit?"Edit Bank Account":"Add Bank Account",children:l.jsx(D7,{initial:v?.edit||void 0,onSave:y,onDelete:v?.edit?C:void 0,onCancel:()=>x(null)})})]})}function i0({label:e,value:t}){return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:t})]})}const k7=["Demat + Trading","Mutual Fund","Trading","Direct AMC","Broker"].map(e=>({value:e,label:e}));function E7({initial:e,onSave:t,onDelete:n,onCancel:r}){const{activeMembers:a,activeBanks:s}=ht(),c=!!e,[u,f]=j.useState({accountName:e?.accountName||"",memberId:e?.memberId||"",bankAccountId:e?.bankAccountId||"",accountType:e?.accountType||"",platformBroker:e?.platformBroker||"",accountClientId:e?.accountClientId||"",dematDpId:e?.dematDpId||"",registeredEmail:e?.registeredEmail||"",registeredPhone:e?.registeredPhone||"",status:e?.status||"Active"}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(A,_){f(E=>({...E,[A]:_})),h(E=>({...E,[A]:void 0}))}function S(A){f(_=>({..._,memberId:A,bankAccountId:""})),h(_=>({..._,memberId:void 0}))}function w(){const A={};return u.accountName.trim()||(A.accountName="Required"),u.memberId||(A.memberId="Required"),u.bankAccountId||(A.bankAccountId="Required"),u.accountType||(A.accountType="Required"),u.platformBroker.trim()||(A.platformBroker="Required"),u.registeredEmail.trim()||(A.registeredEmail="Required"),u.registeredPhone.trim()||(A.registeredPhone="Required"),h(A),Object.keys(A).length===0}async function y(){if(w()){x(!0);try{await t(u)}finally{x(!1)}}}const C=a.map(A=>({value:A.memberId,label:`${A.memberName} (${A.relationship})`})),M=j.useMemo(()=>u.memberId?s.filter(A=>A.memberId===u.memberId).map(A=>({value:A.accountId,label:`${A.accountName} - ${A.bankName}`})):[],[s,u.memberId]);return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Account Name",required:!0,error:m.accountName,children:l.jsx(Me,{value:u.accountName,onChange:A=>b("accountName",A),placeholder:"e.g., Zerodha Demat"})}),l.jsx(oe,{label:"Family Member",required:!0,error:m.memberId,children:l.jsx(Ke,{value:u.memberId,onChange:S,options:C,placeholder:"Select member..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Linked Bank Account",required:!0,error:m.bankAccountId,children:l.jsx(Ke,{value:u.bankAccountId,onChange:A=>b("bankAccountId",A),options:M,placeholder:u.memberId?M.length?"Select bank account...":"No bank accounts for this member":"Select member first..."})}),l.jsx(oe,{label:"Account Type",required:!0,error:m.accountType,children:l.jsx(Ke,{value:u.accountType,onChange:A=>b("accountType",A),options:k7,placeholder:"Select type..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Platform / Broker",required:!0,error:m.platformBroker,children:l.jsx(Me,{value:u.platformBroker,onChange:A=>b("platformBroker",A),placeholder:"e.g., Zerodha, Groww"})}),l.jsx(oe,{label:"Account / Client ID",error:m.accountClientId,children:l.jsx(Me,{sensitive:!0,value:u.accountClientId,onChange:A=>b("accountClientId",A),placeholder:"e.g., ZR1234 (optional)"})})]}),l.jsx(oe,{label:"Demat DP ID",error:m.dematDpId,children:l.jsx(Me,{sensitive:!0,value:u.dematDpId,onChange:A=>b("dematDpId",A),placeholder:"16-digit DP ID (optional)",maxLength:16})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Registered Email",required:!0,error:m.registeredEmail,children:l.jsx(Me,{sensitive:!0,type:"email",value:u.registeredEmail,onChange:A=>b("registeredEmail",A),placeholder:"email@example.com"})}),l.jsx(oe,{label:"Registered Phone",required:!0,error:m.registeredPhone,children:l.jsx(Me,{sensitive:!0,value:u.registeredPhone,onChange:A=>b("registeredPhone",A),placeholder:"9876543210"})})]}),c&&l.jsx(oe,{label:"Status",children:l.jsx(Ke,{value:u.status,onChange:A=>b("status",A),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),l.jsxs("div",{className:"flex items-center justify-between",children:[c&&n?l.jsx(es,{onClick:n}):l.jsx("div",{}),l.jsx(an,{onCancel:r,onSubmit:y,submitLabel:c?"Update":"Add Account",loading:v})]})]})}const _A={"Demat + Trading":"bg-violet-500/15 text-[var(--accent-violet)]","Mutual Fund":"bg-blue-500/15 text-[var(--accent-blue)]",Trading:"bg-orange-500/15 text-[var(--accent-orange)]",Demat:"bg-amber-500/15 text-[var(--accent-amber)]","Direct AMC":"bg-emerald-500/15 text-emerald-400",Broker:"bg-rose-500/15 text-[var(--accent-rose)]"};function _7(){const{selectedMember:e,member:t}=Yr(),{investmentAccounts:n,addInvestmentAccount:r,updateInvestmentAccount:a,deleteInvestmentAccount:s}=ht(),{showToast:c,showBlockUI:u,hideBlockUI:f}=oi(),m=ci(),{mv:h}=ui(),[v,x]=j.useState(null);if(n===null)return l.jsx(ts,{title:"Loading investment accounts",cards:4});const b=j.useMemo(()=>{const A=n.filter(_=>_.status!=="Inactive");return e==="all"?A:A.filter(_=>_.memberId===e)},[n,e]),S=j.useMemo(()=>new Set(b.map(A=>A.platformBroker)).size,[b]),w=b.filter(A=>A.accountType==="Demat + Trading"||A.accountType==="Demat"||A.accountType==="Trading").length,y=b.filter(A=>A.accountType==="Mutual Fund"||A.accountType==="Direct AMC").length;async function C(A){u("Saving...");try{v?.edit?await a(v.edit.accountId,A):await r(A),c(v?.edit?"Investment account updated":"Investment account added"),x(null)}catch(_){c(_.message||"Failed to save investment account","error")}finally{f()}}async function M(){if(v?.edit&&await m("Deactivate this investment account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){u("Deactivating...");try{await s(v.edit.accountId),c("Investment account deactivated"),x(null)}catch(A){c(A.message||"Failed to deactivate investment account","error")}finally{f()}}}return l.jsxs("div",{className:"space-y-4",children:[b.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(zO,{size:32,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No investment accounts",t?` for ${t.memberName}`:""]}),l.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first investment account"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[l.jsx(jm,{label:"Total Accounts",value:b.length}),l.jsx(jm,{label:"Platforms",value:S}),l.jsx(jm,{label:"Demat / Trading",value:w}),l.jsx(jm,{label:"Mutual Fund",value:y})]}),l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Pr,{size:14})," Add Account"]})}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[620px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Platform"}),!t&&l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Client ID"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Bank"}),l.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),l.jsx("tbody",{children:b.map(A=>l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsx("td",{className:"py-2.5 px-4",children:l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:A.accountName})}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:A.platformBroker}),!t&&l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:h(A.memberName,"name")}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${_A[A.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:A.accountType})}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:h(A.accountClientId,"clientId")}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:A.bankAccountName}),l.jsx("td",{className:"py-2.5 px-2",children:l.jsx("button",{onClick:()=>x({edit:A}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:l.jsx(ka,{size:12})})})]},A.accountId))})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(A=>l.jsxs("div",{onClick:()=>x({edit:A}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:A.accountName}),l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${_A[A.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:A.accountType})]}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[A.platformBroker,t?"":`  ${h(A.memberName,"name")}`]}),l.jsxs("div",{className:"flex items-center justify-between mt-1",children:[l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Client: ",h(A.accountClientId,"clientId")]}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:A.bankAccountName})]})]},A.accountId))})]})]}),l.jsx(mr,{open:!!v,onClose:()=>x(null),title:v?.edit?"Edit Investment Account":"Add Investment Account",wide:!0,children:l.jsx(E7,{initial:v?.edit||void 0,onSave:C,onDelete:v?.edit?M:void 0,onCancel:()=>x(null)})})]})}function jm({label:e,value:t}){return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:t})]})}const O7=["Term Life","Health","Motor","Home Insurance","Travel","Personal Accident","Life Insurance","Others"].map(e=>({value:e,label:e})),T7=[{value:"Active",label:"Active"},{value:"Expired",label:"Expired"},{value:"Surrendered",label:"Surrendered"},{value:"Lapsed",label:"Lapsed"},{value:"Inactive",label:"Inactive"}];function P7({initial:e,onSave:t,onDelete:n,onCancel:r}){const{activeMembers:a}=ht(),s=!!e,[c,u]=j.useState({policyType:e?.policyType||"",company:e?.company||"",policyNumber:e?.policyNumber||"",policyName:e?.policyName||"",insuredMember:e?.insuredMember||"",memberId:e?.memberId||"",sumAssured:e?.sumAssured||"",nominee:e?.nominee||"",premium:e?.premium||"",premiumFrequency:e?.premiumFrequency||"Annual",status:e?.status||"Active",notes:e?.notes||""}),[f,m]=j.useState({}),[h,v]=j.useState(!1);function x(C,M){u(A=>({...A,[C]:M})),m(A=>({...A,[C]:void 0}))}function b(C){const M=a.find(A=>A.memberId===C);u(A=>({...A,memberId:C,insuredMember:M?.memberName||""})),m(A=>({...A,memberId:void 0}))}function S(){const C={};return c.policyType||(C.policyType="Required"),c.company.trim()||(C.company="Required"),c.policyNumber.trim()||(C.policyNumber="Required"),c.policyName.trim()||(C.policyName="Required"),c.memberId||(C.memberId="Required"),(!c.sumAssured||Number(c.sumAssured)<=0)&&(C.sumAssured="Must be > 0"),m(C),Object.keys(C).length===0}async function w(){if(S()){v(!0);try{await t({...c,sumAssured:Number(c.sumAssured),premium:Number(c.premium)||0})}finally{v(!1)}}}const y=a.map(C=>({value:C.memberId,label:`${C.memberName} (${C.relationship})`}));return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Policy Type",required:!0,error:f.policyType,children:l.jsx(Ke,{value:c.policyType,onChange:C=>x("policyType",C),options:O7,placeholder:"Select type..."})}),l.jsx(oe,{label:"Insurance Company",required:!0,error:f.company,children:l.jsx(Me,{value:c.company,onChange:C=>x("company",C),placeholder:"e.g., HDFC Life"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Policy Number",required:!0,error:f.policyNumber,children:l.jsx(Me,{sensitive:!0,value:c.policyNumber,onChange:C=>x("policyNumber",C),placeholder:"e.g., HL-2024-78901"})}),l.jsx(oe,{label:"Policy Name",required:!0,error:f.policyName,children:l.jsx(Me,{value:c.policyName,onChange:C=>x("policyName",C),placeholder:"e.g., Click 2 Protect Life"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Insured Member",required:!0,error:f.memberId,children:l.jsx(Ke,{value:c.memberId,onChange:b,options:y,placeholder:"Select member..."})}),l.jsx(oe,{label:"Nominee",children:l.jsx(Ke,{value:c.nominee,onChange:C=>x("nominee",C),options:y.map(C=>({...C,label:C.label.split(" (")[0]})),placeholder:"Select nominee (optional)..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsx(oe,{label:"Sum Assured ()",required:!0,error:f.sumAssured,children:l.jsx(Me,{type:"number",value:c.sumAssured,onChange:C=>x("sumAssured",C),placeholder:"e.g., 10000000"})}),l.jsx(oe,{label:"Premium ()",children:l.jsx(Me,{type:"number",value:c.premium,onChange:C=>x("premium",C),placeholder:"e.g., 12500"})}),l.jsx(oe,{label:"Premium Frequency",children:l.jsx(Ke,{value:c.premiumFrequency,onChange:C=>x("premiumFrequency",C),options:[{value:"Annual",label:"Annual"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"}]})})]}),s&&l.jsx(oe,{label:"Status",children:l.jsx(Ke,{value:c.status,onChange:C=>x("status",C),options:T7})}),l.jsx(oe,{label:"Notes",children:l.jsx(hc,{value:c.notes,onChange:C=>x("notes",C),placeholder:"Additional information..."})}),l.jsxs("div",{className:"flex items-center justify-between",children:[s&&n?l.jsx(es,{onClick:n}):l.jsx("div",{}),l.jsx(an,{onCancel:r,onSubmit:w,submitLabel:s?"Update":"Add Policy",loading:h})]})]})}const OA={"Term Life":"bg-rose-500/15 text-[var(--accent-rose)]",Health:"bg-emerald-500/15 text-emerald-400",Motor:"bg-blue-500/15 text-[var(--accent-blue)]","Home Insurance":"bg-amber-500/15 text-[var(--accent-amber)]",Travel:"bg-violet-500/15 text-[var(--accent-violet)]","Life Insurance":"bg-rose-500/15 text-[var(--accent-rose)]","Personal Accident":"bg-orange-500/15 text-[var(--accent-orange)]"};function I7(){const{selectedMember:e,member:t}=Yr(),{insurancePolicies:n,addInsurance:r,updateInsurance:a,deleteInsurance:s}=ht(),{showToast:c,showBlockUI:u,hideBlockUI:f}=oi(),m=ci(),{mv:h}=ui(),[v,x]=j.useState(null);if(n===null)return l.jsx(ts,{title:"Loading insurance",cards:5});const b=j.useMemo(()=>{const _=n.filter(E=>E.status!=="Inactive");return e==="all"?_:_.filter(E=>E.memberId===e)},[n,e]),S=b.reduce((_,E)=>_+(E.sumAssured||0),0),w=b.reduce((_,E)=>_+(E.premium||0),0),y=b.filter(_=>_.policyType==="Term Life"||_.policyType==="Life Insurance").reduce((_,E)=>_+(E.sumAssured||0),0),C=b.filter(_=>_.policyType==="Health").reduce((_,E)=>_+(E.sumAssured||0),0);async function M(_){u("Saving...");try{v?.edit?await a(v.edit.policyId,_):await r(_),c(v?.edit?"Insurance policy updated":"Insurance policy added"),x(null)}catch(E){c(E.message||"Failed to save insurance policy","error")}finally{f()}}async function A(){if(v?.edit&&await m("Deactivate this insurance policy?",{title:"Deactivate Policy",confirmLabel:"Deactivate"})){u("Deactivating...");try{await s(v.edit.policyId),c("Insurance policy deactivated"),x(null)}catch(_){c(_.message||"Failed to deactivate insurance policy","error")}finally{f()}}}return l.jsxs("div",{className:"space-y-4",children:[b.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(rd,{size:32,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No insurance policies",t?` for ${t.memberName}`:""]}),l.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first policy"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[l.jsx(Lu,{label:"Policies",value:b.length}),l.jsx(Lu,{label:"Total Cover",value:Q(S),bold:!0}),l.jsx(Lu,{label:"Life Cover",value:Q(y)}),l.jsx(Lu,{label:"Health Cover",value:Q(C)}),l.jsx(Lu,{label:"Annual Premium",value:Q(w)})]}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[l.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-3",children:"Coverage Adequacy"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsx(TA,{label:"Life Insurance",current:y,recommended:"10-15x annual income",tip:"Term life cover should be 10-15x your annual income to protect dependents",icon:"heart"}),l.jsx(TA,{label:"Health Insurance",current:C,recommended:"50L - 1Cr family floater",tip:"Considering medical inflation, a 50L-1Cr family floater is recommended",icon:"shield"})]})]}),l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Pr,{size:14})," Add Policy"]})}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Policy"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Company"}),!t&&l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Insured"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Sum Assured"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Premium"}),l.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),l.jsx("tbody",{children:b.map(_=>l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsxs("td",{className:"py-2.5 px-4",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:_.policyName}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:h(_.policyNumber,"policy")})]}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${OA[_.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:_.policyType})}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:_.company}),!t&&l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:_.insuredMember}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(_.sumAssured)}),l.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:[Q(_.premium),"/",_.premiumFrequency==="Annual"?"yr":"mo"]}),l.jsx("td",{className:"py-2.5 px-2",children:l.jsx("button",{onClick:()=>x({edit:_}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:l.jsx(ka,{size:12})})})]},_.policyId))})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(_=>l.jsxs("div",{onClick:()=>x({edit:_}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:_.policyName}),l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${OA[_.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:_.policyType})]}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[_.company,t?"":`  ${_.insuredMember}`]}),l.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Cover"}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(_.sumAssured)})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Premium"}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[Q(_.premium),"/",_.premiumFrequency==="Annual"?"yr":"mo"]})]})]})]},_.policyId))})]})]}),l.jsx(mr,{open:!!v,onClose:()=>x(null),title:v?.edit?"Edit Insurance Policy":"Add Insurance Policy",wide:!0,children:l.jsx(P7,{initial:v?.edit||void 0,onSave:M,onDelete:v?.edit?A:void 0,onCancel:()=>x(null)})})]})}function TA({label:e,current:t,recommended:n,tip:r}){const a=t===0;return l.jsxs("div",{className:`rounded-lg border px-3 py-2.5 ${a?"border-rose-500/30 bg-rose-500/5":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:e}),a?l.jsx("span",{className:"text-xs font-bold text-[var(--accent-rose)]",children:"Not covered"}):l.jsx("span",{className:"text-xs font-semibold text-emerald-400",children:Q(t)})]}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Recommended: ",n]}),l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5 italic",children:r})]})}function Lu({label:e,value:t,bold:n}){return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm tabular-nums ${n?"font-bold":"font-semibold"} text-[var(--text-primary)]`,children:t})]})}const R7=["Home Loan","Car Loan","Personal Loan","Education Loan","Gold Loan","Credit Card","Business Loan","Loan Against Property","Other"].map(e=>({value:e,label:e})),L7=[{value:"Active",label:"Active"},{value:"Closed",label:"Closed"},{value:"Inactive",label:"Inactive"}];function z7({initial:e,onSave:t,onDelete:n,onCancel:r}){const{activeMembers:a}=ht(),s=!!e,[c,u]=j.useState({liabilityType:e?.liabilityType||"",lenderName:e?.lenderName||"",familyMemberId:e?.familyMemberId||"",outstandingBalance:e?.outstandingBalance||"",emiAmount:e?.emiAmount||"",interestRate:e?.interestRate||"",status:e?.status||"Active",notes:e?.notes||""}),[f,m]=j.useState({}),[h,v]=j.useState(!1);function x(y,C){u(M=>({...M,[y]:C})),m(M=>({...M,[y]:void 0}))}function b(){const y={};return c.liabilityType||(y.liabilityType="Required"),c.lenderName.trim()||(y.lenderName="Required"),(!c.outstandingBalance||Number(c.outstandingBalance)<=0)&&(y.outstandingBalance="Must be > 0"),m(y),Object.keys(y).length===0}async function S(){if(b()){v(!0);try{await t({...c,outstandingBalance:Number(c.outstandingBalance),emiAmount:Number(c.emiAmount)||0,interestRate:Number(c.interestRate)||0})}finally{v(!1)}}}const w=a.map(y=>({value:y.memberId,label:`${y.memberName} (${y.relationship})`}));return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Liability Type",required:!0,error:f.liabilityType,children:l.jsx(Ke,{value:c.liabilityType,onChange:y=>x("liabilityType",y),options:R7,placeholder:"Select type..."})}),l.jsx(oe,{label:"Lender / Bank",required:!0,error:f.lenderName,children:l.jsx(Me,{value:c.lenderName,onChange:y=>x("lenderName",y),placeholder:"e.g., HDFC Bank"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Family Member",children:l.jsx(Ke,{value:c.familyMemberId,onChange:y=>x("familyMemberId",y),options:w,placeholder:"Select member (optional)..."})}),l.jsx(oe,{label:"Outstanding Balance ()",required:!0,error:f.outstandingBalance,children:l.jsx(Me,{type:"number",value:c.outstandingBalance,onChange:y=>x("outstandingBalance",y),placeholder:"e.g., 3500000"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"EMI Amount ()",children:l.jsx(Me,{type:"number",value:c.emiAmount,onChange:y=>x("emiAmount",y),placeholder:"e.g., 32000"})}),l.jsx(oe,{label:"Interest Rate (%)",children:l.jsx(Me,{type:"number",value:c.interestRate,onChange:y=>x("interestRate",y),placeholder:"e.g., 8.5",step:"0.01"})})]}),s&&l.jsx(oe,{label:"Status",children:l.jsx(Ke,{value:c.status,onChange:y=>x("status",y),options:L7})}),l.jsx(oe,{label:"Notes",children:l.jsx(hc,{value:c.notes,onChange:y=>x("notes",y),placeholder:"e.g., Flat in Kondapur"})}),l.jsxs("div",{className:"flex items-center justify-between",children:[s&&n?l.jsx(es,{onClick:n}):l.jsx("div",{}),l.jsx(an,{onCancel:r,onSubmit:S,submitLabel:s?"Update":"Add Liability",loading:h})]})]})}const PA={"Home Loan":"bg-blue-500/15 text-[var(--accent-blue)]","Car Loan":"bg-amber-500/15 text-[var(--accent-amber)]","Gold Loan":"bg-orange-500/15 text-[var(--accent-orange)]","Personal Loan":"bg-violet-500/15 text-[var(--accent-violet)]","Education Loan":"bg-emerald-500/15 text-emerald-400","Credit Card":"bg-rose-500/15 text-[var(--accent-rose)]"};function F7(){const{selectedMember:e,member:t}=Yr(),{liabilityList:n,addLiability:r,updateLiability:a,deleteLiability:s}=ht(),{showToast:c,showBlockUI:u,hideBlockUI:f}=oi(),m=ci(),[h,v]=j.useState(null);if(n===null)return l.jsx(ts,{title:"Loading liabilities",cards:4});const x=j.useMemo(()=>{const M=n.filter(A=>A.status!=="Inactive");return e==="all"?M:M.filter(A=>A.familyMemberId===e)},[n,e]),b=x.reduce((M,A)=>M+(A.outstandingBalance||0),0),S=x.reduce((M,A)=>M+(A.emiAmount||0),0),w=x.filter(M=>M.status==="Active").length;async function y(M){u("Saving...");try{h?.edit?await a(h.edit.liabilityId,M):await r(M),c(h?.edit?"Liability updated":"Liability added"),v(null)}catch(A){c(A.message||"Failed to save liability","error")}finally{f()}}async function C(){if(h?.edit&&await m("Deactivate this liability?",{title:"Deactivate Liability",confirmLabel:"Deactivate"})){u("Deactivating...");try{await s(h.edit.liabilityId),c("Liability deactivated"),v(null)}catch(M){c(M.message||"Failed to deactivate liability","error")}finally{f()}}}return l.jsxs("div",{className:"space-y-4",children:[x.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(ad,{size:32,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No liabilities",t?` for ${t.memberName}`:""]}),l.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a liability"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[l.jsx(Nm,{label:"Liabilities",value:`${w} active`}),l.jsx(Nm,{label:"Outstanding",value:Q(b),color:"rose",bold:!0}),l.jsx(Nm,{label:"Monthly EMI",value:Q(S),color:"rose"}),l.jsx(Nm,{label:"Avg. Interest",value:x.length>0?`${(x.reduce((M,A)=>M+(A.interestRate||0),0)/x.length).toFixed(1)}%`:""})]}),l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Pr,{size:14})," Add Liability"]})}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Lender"}),!t&&l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Outstanding"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"EMI"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Interest"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Remaining"}),l.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),l.jsx("tbody",{children:x.map(M=>l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsxs("td",{className:"py-2.5 px-4",children:[l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${PA[M.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.liabilityType}),M.notes&&l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:M.notes})]}),l.jsx("td",{className:"py-2.5 px-3 text-sm font-medium text-[var(--text-primary)]",children:M.lenderName}),!t&&l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.familyMemberName}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(M.outstandingBalance)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:M.emiAmount?`${Q(M.emiAmount)}/mo`:""}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:M.interestRate?`${M.interestRate}%`:""}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:M.emiAmount>0&&M.outstandingBalance>0?`${Math.ceil(M.outstandingBalance/M.emiAmount)} mo`:""}),l.jsx("td",{className:"py-2.5 px-2",children:l.jsx("button",{onClick:()=>v({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:l.jsx(ka,{size:12})})})]},M.liabilityId))})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:x.map(M=>l.jsxs("div",{onClick:()=>v({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${PA[M.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.liabilityType}),l.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(M.outstandingBalance)})]}),l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.lenderName}),l.jsxs("div",{className:"flex items-center justify-between mt-1",children:[l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.familyMemberName,M.notes?`  ${M.notes}`:""]}),l.jsxs("div",{className:"text-right",children:[M.emiAmount>0&&l.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["EMI: ",Q(M.emiAmount),"/mo"]}),M.emiAmount>0&&M.outstandingBalance>0&&l.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[Math.ceil(M.outstandingBalance/M.emiAmount)," months left"]})]})]})]},M.liabilityId))})]})]}),l.jsx(mr,{open:!!h,onClose:()=>v(null),title:h?.edit?"Edit Liability":"Add Liability",children:l.jsx(z7,{initial:h?.edit||void 0,onSave:y,onDelete:h?.edit?C:void 0,onCancel:()=>v(null)})})]})}function Nm({label:e,value:t,color:n,bold:r}){const a=n==="rose"?"text-[var(--accent-rose)]":"text-[var(--text-primary)]";return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm tabular-nums ${r?"font-bold":"font-semibold"} ${a}`,children:t})]})}const B7="cf_market_data",WT=[{value:"Fixed Deposit",category:"Debt"},{value:"PPF",category:"Debt"},{value:"EPF",category:"Debt"},{value:"NPS",category:"Debt"},{value:"Sovereign Gold Bond",category:"Gold"},{value:"Physical Gold",category:"Gold"},{value:"Digital Gold",category:"Gold"},{value:"Real Estate",category:"Property"},{value:"Bonds",category:"Debt"},{value:"Physical Silver",category:"Silver"},{value:"Digital Silver",category:"Silver"},{value:"Crypto",category:"Alternative"},{value:"Other",category:"Other"}],IA={"Real Estate":"Home Loan","Physical Gold":"Gold Loan","Sovereign Gold Bond":"Gold Loan","Fixed Deposit":"Loan Against FD"},$7=WT.map(e=>({value:e.value,label:e.value})),q7=["Equity","Debt","Gold","Silver","Property","Alternative","Other"].map(e=>({value:e,label:e})),H7=[{value:"Active",label:"Active"},{value:"Sold",label:"Sold"},{value:"Matured",label:"Matured"},{value:"Inactive",label:"Inactive"}],RA=[{value:"24K",label:"24K (99.9%)",factor:.999},{value:"22K",label:"22K (91.6%)",factor:.916},{value:"18K",label:"18K (75.0%)",factor:.75}],LA=[{value:"999",label:"999 Fine (99.9%)",factor:.999},{value:"925",label:"925 Sterling (92.5%)",factor:.925}];function sp(e){return["Physical Gold","Digital Gold","Sovereign Gold Bond"].includes(e)}function U7(e){return["Physical Silver","Digital Silver"].includes(e)||e&&e.toLowerCase().includes("silver")}function s0(e){return sp(e)||U7(e)}function Y7(e){try{const t=sessionStorage.getItem(B7);if(!t)return null;const n=JSON.parse(t);if(!n.metals)return null;const r=e==="gold"?"Gold":"Silver",a=n.metals.find(s=>s.name.toLowerCase().includes(r.toLowerCase()));return a?a.price:null}catch{return null}}function V7({initial:e,onSave:t,onDelete:n,onCancel:r}){const{activeMembers:a,liabilityList:s}=ht(),c=!!e;function u(z){return WT.find(re=>re.value===z)?.category||"Other"}const f=e?.dynamicFields?typeof e.dynamicFields=="string"?JSON.parse(e.dynamicFields):e.dynamicFields:{},[m,h]=j.useState({investmentType:e?.investmentType||"",investmentCategory:e?.investmentCategory||"",investmentName:e?.investmentName||"",familyMemberId:e?.familyMemberId||"",investedAmount:e?.investedAmount||"",currentValue:e?.currentValue||"",linkedLiabilityId:e?.linkedLiabilityId||"",status:e?.status||"Active",notes:e?.notes||""}),[v,x]=j.useState(f.weightGrams||""),[b,S]=j.useState(f.purity||""),[w,y]=j.useState(null),[C,M]=j.useState(!1),[A,_]=j.useState({lenderName:"",outstandingBalance:"",emiAmount:"",interestRate:""});j.useEffect(()=>{if(!s0(m.investmentType)||!v||Number(v)<=0){y(null);return}const z=sp(m.investmentType)?"gold":"silver",re=Y7(z);if(!re){y(null);return}const F=(z==="gold"?RA:LA).find(ve=>ve.value===b),ne=F?F.factor:1;y(Math.round(Number(v)*re*ne))},[m.investmentType,v,b]);const[E,T]=j.useState({}),[P,O]=j.useState(!1);function L(z,re){h(he=>({...he,[z]:re})),T(he=>({...he,[z]:void 0}))}function R(z){h(re=>({...re,investmentType:z,investmentCategory:u(z)})),T(re=>({...re,investmentType:void 0}))}function B(z,re){_(he=>({...he,[z]:re}))}function k(){const z={};return m.investmentType||(z.investmentType="Required"),m.investmentName.trim()||(z.investmentName="Required"),(!m.currentValue||Number(m.currentValue)<0)&&(z.currentValue="Required"),C&&(A.lenderName.trim()||(z.qlLender="Required"),(!A.outstandingBalance||Number(A.outstandingBalance)<=0)&&(z.qlOutstanding="Must be > 0")),T(z),Object.keys(z).length===0}async function K(){if(!k())return;const z={...m,familyMember:m.familyMemberId,investedAmount:Number(m.investedAmount)||0,currentValue:Number(m.currentValue)||0};s0(m.investmentType)&&(z.dynamicFields=JSON.stringify({weightGrams:Number(v)||0,purity:b||""})),C&&A.lenderName&&(z.quickLoan={liabilityType:IA[m.investmentType]||"Personal Loan",lender:A.lenderName,outstanding:Number(A.outstandingBalance)||0,emiAmount:Number(A.emiAmount)||0,interestRate:Number(A.interestRate)||0}),O(!0);try{await t(z)}finally{O(!1)}}const W=(s||[]).filter(z=>z.status!=="Inactive"),Z=[{value:"",label:"None"},...W.map(z=>({value:z.liabilityId,label:`${z.liabilityType}  ${z.lenderName} (${Q(z.outstandingBalance)})`}))],$=(a||[]).map(z=>({value:z.memberId,label:`${z.memberName} (${z.relationship})`})),G=IA[m.investmentType];return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Investment Type",required:!0,error:E.investmentType,children:l.jsx(Ke,{value:m.investmentType,onChange:R,options:$7,placeholder:"Select type..."})}),l.jsx(oe,{label:"Category",children:l.jsx(Ke,{value:m.investmentCategory,onChange:z=>L("investmentCategory",z),options:q7,placeholder:"Auto-selected..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Investment Name",required:!0,error:E.investmentName,children:l.jsx(Me,{value:m.investmentName,onChange:z=>L("investmentName",z),placeholder:"e.g., HDFC FD - 7.5%"})}),l.jsx(oe,{label:"Family Member",children:l.jsx(Ke,{value:m.familyMemberId,onChange:z=>L("familyMemberId",z),options:$,placeholder:"Select member (optional)..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Invested Amount",children:l.jsx(Me,{type:"number",value:m.investedAmount,onChange:z=>L("investedAmount",z),placeholder:"e.g., 500000"})}),l.jsx(oe,{label:"Current Value",required:!0,error:E.currentValue,children:l.jsx(Me,{type:"number",value:m.currentValue,onChange:z=>L("currentValue",z),placeholder:"e.g., 537500"})})]}),s0(m.investmentType)&&l.jsxs("div",{className:"p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[l.jsxs("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:[sp(m.investmentType)?"Gold":"Silver"," Details"]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsx(oe,{label:"Weight (grams)",children:l.jsx(Me,{type:"number",value:v,onChange:x,placeholder:"e.g., 50"})}),l.jsx(oe,{label:"Purity",children:l.jsx(Ke,{value:b,onChange:S,options:(sp(m.investmentType)?RA:LA).map(z=>({value:z.value,label:z.label})),placeholder:"Select purity..."})})]}),w!==null&&l.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-card)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Estimated market value"}),l.jsx("p",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:Q(w)})]}),l.jsx("button",{type:"button",onClick:()=>L("currentValue",String(w)),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 px-3 py-1.5 rounded-lg bg-violet-500/10 border border-violet-500/20 transition-colors",children:"Use this value"})]})]}),l.jsxs("div",{className:"border-t border-[var(--border-light)] pt-4",children:[l.jsx(oe,{label:"Linked Loan / Liability",children:l.jsx(Ke,{value:m.linkedLiabilityId,onChange:z=>{L("linkedLiabilityId",z),z&&M(!1)},options:Z})}),!m.linkedLiabilityId&&!c&&l.jsx("div",{className:"mt-2",children:l.jsx("button",{type:"button",onClick:()=>M(!C),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:C?" Cancel quick loan":`+ Create new loan${G?` (${G})`:""}`})}),C&&l.jsxs("div",{className:"mt-3 p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:"Quick Loan"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsx(oe,{label:"Lender",required:!0,error:E.qlLender,children:l.jsx(Me,{value:A.lenderName,onChange:z=>B("lenderName",z),placeholder:"e.g., HDFC Bank"})}),l.jsx(oe,{label:"Outstanding Balance",required:!0,error:E.qlOutstanding,children:l.jsx(Me,{type:"number",value:A.outstandingBalance,onChange:z=>B("outstandingBalance",z),placeholder:"e.g., 3500000"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsx(oe,{label:"EMI (monthly)",children:l.jsx(Me,{type:"number",value:A.emiAmount,onChange:z=>B("emiAmount",z),placeholder:"e.g., 32000"})}),l.jsx(oe,{label:"Interest Rate %",children:l.jsx(Me,{type:"number",value:A.interestRate,onChange:z=>B("interestRate",z),placeholder:"e.g., 8.5"})})]})]})]}),c&&l.jsx(oe,{label:"Status",children:l.jsx(Ke,{value:m.status,onChange:z=>L("status",z),options:H7})}),l.jsx(oe,{label:"Notes",children:l.jsx(hc,{value:m.notes,onChange:z=>L("notes",z),placeholder:"Additional information..."})}),l.jsxs("div",{className:"flex items-center justify-between",children:[c&&n?l.jsx(es,{onClick:n}):l.jsx("div",{}),l.jsx(an,{onCancel:r,onSubmit:K,submitLabel:c?"Update":"Add Investment",loading:P})]})]})}const zA={Debt:"bg-blue-500/15 text-[var(--accent-blue)]",Gold:"bg-amber-500/15 text-[var(--accent-amber)]",Property:"bg-orange-500/15 text-[var(--accent-orange)]",Equity:"bg-emerald-500/15 text-emerald-400",Alternative:"bg-violet-500/15 text-[var(--accent-violet)]"};function G7(){const{selectedMember:e,member:t}=Yr(),{otherInvList:n,liabilityList:r,addOtherInvestment:a,updateOtherInvestment:s,deleteOtherInvestment:c}=ht(),{showToast:u,showBlockUI:f,hideBlockUI:m}=oi(),h=ci(),[v,x]=j.useState(null);if(n===null)return l.jsx(ts,{title:"Loading investments",cards:5});const b=j.useMemo(()=>{const P=n.filter(O=>O.status!=="Inactive");return e==="all"?P:P.filter(O=>O.familyMemberId===e)},[n,e]),S=b.reduce((P,O)=>P+(O.investedAmount||0),0),w=b.reduce((P,O)=>P+(O.currentValue||0),0),y=w-S,C=y>=0,M=S>0?y/S*100:0,A=j.useMemo(()=>{const P={};return r.forEach(O=>{P[O.liabilityId]=O}),P},[r]),_=b.reduce((P,O)=>{const L=O.linkedLiabilityId?A[O.linkedLiabilityId]:null;return P+(L?.outstandingBalance||0)},0);async function E(P){f("Saving...");try{v?.edit?await s(v.edit.investmentId,P):await a(P),u(v?.edit?"Investment updated":"Investment added"),x(null)}catch(O){u(O.message||"Failed to save investment","error")}finally{m()}}async function T(){if(v?.edit&&await h("Deactivate this investment?",{title:"Deactivate Investment",confirmLabel:"Deactivate"})){f("Deactivating...");try{await c(v.edit.investmentId),u("Investment deactivated"),x(null)}catch(P){u(P.message||"Failed to deactivate investment","error")}finally{m()}}}return l.jsxs("div",{className:"space-y-4",children:[b.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(XO,{size:32,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No other investments",t?` for ${t.memberName}`:""]}),l.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add an investment"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[l.jsx(zu,{label:"Invested",value:Q(S)}),l.jsx(zu,{label:"Current Value",value:Q(w),bold:!0}),l.jsx(zu,{label:"P&L",value:`${C?"+":""}${Q(Math.abs(y))}`,sub:`${C?"+":""}${M.toFixed(1)}%`,positive:C,bold:!0}),_>0&&l.jsx(zu,{label:"Linked Loans",value:Q(_),color:"rose"}),l.jsx(zu,{label:"Holdings",value:b.length})]}),l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Pr,{size:14})," Add Investment"]})}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[720px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Investment"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Category"}),!t&&l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Loan"}),l.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),l.jsx("tbody",{children:b.map(P=>{const O=(P.currentValue||0)-(P.investedAmount||0),L=O>=0,R=P.linkedLiabilityId?A[P.linkedLiabilityId]:null;return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsxs("td",{className:"py-2.5 px-4",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:P.investmentName}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:P.investmentType})]}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${zA[P.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:P.investmentCategory})}),!t&&l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:P.familyMemberName}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(P.investedAmount)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(P.currentValue)}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:l.jsxs("span",{className:`text-xs font-semibold tabular-nums ${L?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L?"+":"",Q(O)]})}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:R?l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(R.outstandingBalance)}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:R.liabilityType})]}):l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),l.jsx("td",{className:"py-2.5 px-2",children:l.jsx("button",{onClick:()=>x({edit:P}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:l.jsx(ka,{size:12})})})]},P.investmentId)})})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(P=>{const O=(P.currentValue||0)-(P.investedAmount||0),L=O>=0,R=P.linkedLiabilityId?A[P.linkedLiabilityId]:null;return l.jsxs("div",{onClick:()=>x({edit:P}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:P.investmentName}),l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${zA[P.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:P.investmentCategory})]}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[P.familyMemberName,"  ",P.investmentType]}),l.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Invested"}),l.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:Q(P.investedAmount)})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Current"}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(P.currentValue)})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"P&L"}),l.jsxs("p",{className:`text-xs font-semibold tabular-nums ${L?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L?"+":"",Q(O)]})]})]}),R&&l.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-rose-500/5 rounded px-2 py-1",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:R.liabilityType}),l.jsx("span",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(R.outstandingBalance)})]})]},P.investmentId)})})]})]}),l.jsx(mr,{open:!!v,onClose:()=>x(null),title:v?.edit?"Edit Investment":"Add Investment",wide:!0,children:l.jsx(V7,{initial:v?.edit||void 0,onSave:E,onDelete:v?.edit?T:void 0,onCancel:()=>x(null)})})]})}function zu({label:e,value:t,sub:n,positive:r,bold:a,color:s}){const c=s==="rose"?"text-[var(--accent-rose)]":r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]";return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${c}`,children:t}),n&&l.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:n})]})}var K7=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function E1(e){if(typeof e!="string")return!1;var t=K7;return t.includes(e)}var W7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Q7=new Set(W7);function QT(e){return typeof e!="string"?!1:Q7.has(e)}function XT(e){return typeof e=="string"&&e.startsWith("data-")}function vc(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(QT(n)||XT(n))&&(t[n]=e[n]);return t}function ny(e){if(e==null)return null;if(j.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return vc(t)}return typeof e=="object"&&!Array.isArray(e)?vc(e):null}function sa(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(QT(n)||XT(n)||E1(n))&&(t[n]=e[n]);return t}var X7=["children","width","height","viewBox","className","style","title","desc"];function ay(){return ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ay.apply(null,arguments)}function Z7(e,t){if(e==null)return{};var n,r,a=J7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function J7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ZT=j.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:s,className:c,style:u,title:f,desc:m}=e,h=Z7(e,X7),v=s||{width:r,height:a,x:0,y:0},x=lt("recharts-surface",c);return j.createElement("svg",ay({},sa(h),{className:x,width:r,height:a,style:u,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:t}),j.createElement("title",null,f),j.createElement("desc",null,m),n)}),eU=["children","className"];function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iy.apply(null,arguments)}function tU(e,t){if(e==null)return{};var n,r,a=rU(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function rU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Vs=j.forwardRef((e,t)=>{var{children:n,className:r}=e,a=tU(e,eU),s=lt("recharts-layer",r);return j.createElement("g",iy({className:s},sa(a),{ref:t}),n)}),nU=j.createContext(null);function Ht(e){return function(){return e}}const JT=Math.cos,Op=Math.sin,Ea=Math.sqrt,Tp=Math.PI,zh=2*Tp,sy=Math.PI,ly=2*sy,Dl=1e-6,aU=ly-Dl;function e5(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function iU(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return e5;const n=10**t;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class sU{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?e5:iU(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,s,c){this._append`C${+t},${+n},${+r},${+a},${this._x1=+s},${this._y1=+c}`}arcTo(t,n,r,a,s){if(t=+t,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,u=this._y1,f=r-t,m=a-n,h=c-t,v=u-n,x=h*h+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(x>Dl)if(!(Math.abs(v*f-m*h)>Dl)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-c,S=a-u,w=f*f+m*m,y=b*b+S*S,C=Math.sqrt(w),M=Math.sqrt(x),A=s*Math.tan((sy-Math.acos((w+x-y)/(2*C*M)))/2),_=A/M,E=A/C;Math.abs(_-1)>Dl&&this._append`L${t+_*h},${n+_*v}`,this._append`A${s},${s},0,0,${+(v*b>h*S)},${this._x1=t+E*f},${this._y1=n+E*m}`}}arc(t,n,r,a,s,c){if(t=+t,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(a),f=r*Math.sin(a),m=t+u,h=n+f,v=1^c,x=c?a-s:s-a;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>Dl||Math.abs(this._y1-h)>Dl)&&this._append`L${m},${h}`,r&&(x<0&&(x=x%ly+ly),x>aU?this._append`A${r},${r},0,1,${v},${t-u},${n-f}A${r},${r},0,1,${v},${this._x1=m},${this._y1=h}`:x>Dl&&this._append`A${r},${r},0,${+(x>=sy)},${v},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function _1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new sU(t)}function O1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function t5(e){this._context=e}t5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Fh(e){return new t5(e)}function r5(e){return e[0]}function n5(e){return e[1]}function a5(e,t){var n=Ht(!0),r=null,a=Fh,s=null,c=_1(u);e=typeof e=="function"?e:e===void 0?r5:Ht(e),t=typeof t=="function"?t:t===void 0?n5:Ht(t);function u(f){var m,h=(f=O1(f)).length,v,x=!1,b;for(r==null&&(s=a(b=c())),m=0;m<=h;++m)!(m<h&&n(v=f[m],m,f))===x&&((x=!x)?s.lineStart():s.lineEnd()),x&&s.point(+e(v,m,f),+t(v,m,f));if(b)return s=null,b+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ht(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ht(+f),u):t},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Ht(!!f),u):n},u.curve=function(f){return arguments.length?(a=f,r!=null&&(s=a(r)),u):a},u.context=function(f){return arguments.length?(f==null?r=s=null:s=a(r=f),u):r},u}function Sm(e,t,n){var r=null,a=Ht(!0),s=null,c=Fh,u=null,f=_1(m);e=typeof e=="function"?e:e===void 0?r5:Ht(+e),t=typeof t=="function"?t:Ht(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?n5:Ht(+n);function m(v){var x,b,S,w=(v=O1(v)).length,y,C=!1,M,A=new Array(w),_=new Array(w);for(s==null&&(u=c(M=f())),x=0;x<=w;++x){if(!(x<w&&a(y=v[x],x,v))===C)if(C=!C)b=x,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=x-1;S>=b;--S)u.point(A[S],_[S]);u.lineEnd(),u.areaEnd()}C&&(A[x]=+e(y,x,v),_[x]=+t(y,x,v),u.point(r?+r(y,x,v):A[x],n?+n(y,x,v):_[x]))}if(M)return u=null,M+""||null}function h(){return a5().defined(a).curve(c).context(s)}return m.x=function(v){return arguments.length?(e=typeof v=="function"?v:Ht(+v),r=null,m):e},m.x0=function(v){return arguments.length?(e=typeof v=="function"?v:Ht(+v),m):e},m.x1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:Ht(+v),m):r},m.y=function(v){return arguments.length?(t=typeof v=="function"?v:Ht(+v),n=null,m):t},m.y0=function(v){return arguments.length?(t=typeof v=="function"?v:Ht(+v),m):t},m.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:Ht(+v),m):n},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(n)},m.lineX1=function(){return h().x(r).y(t)},m.defined=function(v){return arguments.length?(a=typeof v=="function"?v:Ht(!!v),m):a},m.curve=function(v){return arguments.length?(c=v,s!=null&&(u=c(s)),m):c},m.context=function(v){return arguments.length?(v==null?s=u=null:u=c(s=v),m):s},m}class i5{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function lU(e){return new i5(e,!0)}function oU(e){return new i5(e,!1)}const T1={draw(e,t){const n=Ea(t/Tp);e.moveTo(n,0),e.arc(0,0,n,0,zh)}},cU={draw(e,t){const n=Ea(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},s5=Ea(1/3),uU=s5*2,dU={draw(e,t){const n=Ea(t/uU),r=n*s5;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},fU={draw(e,t){const n=Ea(t),r=-n/2;e.rect(r,r,n,n)}},mU=.8908130915292852,l5=Op(Tp/10)/Op(7*Tp/10),pU=Op(zh/10)*l5,hU=-JT(zh/10)*l5,vU={draw(e,t){const n=Ea(t*mU),r=pU*n,a=hU*n;e.moveTo(0,-n),e.lineTo(r,a);for(let s=1;s<5;++s){const c=zh*s/5,u=JT(c),f=Op(c);e.lineTo(f*n,-u*n),e.lineTo(u*r-f*a,f*r+u*a)}e.closePath()}},l0=Ea(3),xU={draw(e,t){const n=-Ea(t/(l0*3));e.moveTo(0,n*2),e.lineTo(-l0*n,-n),e.lineTo(l0*n,-n),e.closePath()}},ea=-.5,ta=Ea(3)/2,oy=1/Ea(12),gU=(oy/2+1)*3,bU={draw(e,t){const n=Ea(t/gU),r=n/2,a=n*oy,s=r,c=n*oy+n,u=-s,f=c;e.moveTo(r,a),e.lineTo(s,c),e.lineTo(u,f),e.lineTo(ea*r-ta*a,ta*r+ea*a),e.lineTo(ea*s-ta*c,ta*s+ea*c),e.lineTo(ea*u-ta*f,ta*u+ea*f),e.lineTo(ea*r+ta*a,ea*a-ta*r),e.lineTo(ea*s+ta*c,ea*c-ta*s),e.lineTo(ea*u+ta*f,ea*f-ta*u),e.closePath()}};function yU(e,t){let n=null,r=_1(a);e=typeof e=="function"?e:Ht(e||T1),t=typeof t=="function"?t:Ht(t===void 0?64:+t);function a(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Ht(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Ht(+s),a):t},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function Pp(){}function Ip(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function o5(e){this._context=e}o5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ip(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ip(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wU(e){return new o5(e)}function c5(e){this._context=e}c5.prototype={areaStart:Pp,areaEnd:Pp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ip(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jU(e){return new c5(e)}function u5(e){this._context=e}u5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ip(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function NU(e){return new u5(e)}function d5(e){this._context=e}d5.prototype={areaStart:Pp,areaEnd:Pp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function SU(e){return new d5(e)}function FA(e){return e<0?-1:1}function BA(e,t,n){var r=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(r||a<0&&-0),c=(n-e._y1)/(a||r<0&&-0),u=(s*a+c*r)/(r+a);return(FA(s)+FA(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(u))||0}function $A(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function o0(e,t,n){var r=e._x0,a=e._y0,s=e._x1,c=e._y1,u=(s-r)/3;e._context.bezierCurveTo(r+u,a+u*t,s-u,c-u*n,s,c)}function Rp(e){this._context=e}Rp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o0(this,this._t0,$A(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,o0(this,$A(this,n=BA(this,e,t)),n);break;default:o0(this,this._t0,n=BA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function f5(e){this._context=new m5(e)}(f5.prototype=Object.create(Rp.prototype)).point=function(e,t){Rp.prototype.point.call(this,t,e)};function m5(e){this._context=e}m5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,s){this._context.bezierCurveTo(t,e,r,n,s,a)}};function CU(e){return new Rp(e)}function AU(e){return new f5(e)}function p5(e){this._context=e}p5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=qA(e),a=qA(t),s=0,c=1;c<n;++s,++c)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],e[c],t[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function qA(e){var t,n=e.length-1,r,a=new Array(n),s=new Array(n),c=new Array(n);for(a[0]=0,s[0]=2,c[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,s[t]=4,c[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,s[n-1]=7,c[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/s[t-1],s[t]-=r,c[t]-=r*c[t-1];for(a[n-1]=c[n-1]/s[n-1],t=n-2;t>=0;--t)a[t]=(c[t]-a[t+1])/s[t];for(s[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function MU(e){return new p5(e)}function Bh(e,t){this._context=e,this._t=t}Bh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function DU(e){return new Bh(e,.5)}function kU(e){return new Bh(e,0)}function EU(e){return new Bh(e,1)}function Gl(e,t){if((c=e.length)>1)for(var n=1,r,a,s=e[t[0]],c,u=s.length;n<c;++n)for(a=s,s=e[t[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function cy(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function _U(e,t){return e[t]}function OU(e){const t=[];return t.key=e,t}function TU(){var e=Ht([]),t=cy,n=Gl,r=_U;function a(s){var c=Array.from(e.apply(this,arguments),OU),u,f=c.length,m=-1,h;for(const v of s)for(u=0,++m;u<f;++u)(c[u][m]=[0,+r(v,c[u].key,m,s)]).data=v;for(u=0,h=O1(t(c));u<f;++u)c[h[u]].index=u;return n(c,h),c}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ht(Array.from(s)),a):e},a.value=function(s){return arguments.length?(r=typeof s=="function"?s:Ht(+s),a):r},a.order=function(s){return arguments.length?(t=s==null?cy:typeof s=="function"?s:Ht(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(n=s??Gl,a):n},a}function PU(e,t){if((r=e.length)>0){for(var n,r,a=0,s=e[0].length,c;a<s;++a){for(c=n=0;n<r;++n)c+=e[n][a][1]||0;if(c)for(n=0;n<r;++n)e[n][a][1]/=c}Gl(e,t)}}function IU(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,s=r.length;n<s;++n){for(var c=0,u=0;c<a;++c)u+=e[c][n][1]||0;r[n][1]+=r[n][0]=-u/2}Gl(e,t)}}function RU(e,t){if(!(!((c=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,s,c;r<s;++r){for(var u=0,f=0,m=0;u<c;++u){for(var h=e[t[u]],v=h[r][1]||0,x=h[r-1][1]||0,b=(v-x)/2,S=0;S<u;++S){var w=e[t[S]],y=w[r][1]||0,C=w[r-1][1]||0;b+=y-C}f+=v,m+=b*v}a[r-1][1]+=a[r-1][0]=n,f&&(n-=m/f)}a[r-1][1]+=a[r-1][0]=n,Gl(e,t)}}var c0={},u0={},HA;function LU(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(u0)),u0}var d0={},UA;function h5(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(d0)),d0}var f0={},YA;function P1(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(f0)),f0}var m0={},p0={},VA;function zU(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(p0)),p0}var GA;function I1(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zU(),n=P1();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],c=a.length;if(c===0)return s;let u=0,f="",m="",h=!1;for(a.charCodeAt(0)===46&&(s.push(""),u++);u<c;){const v=a[u];m?v==="\\"&&u+1<c?(u++,f+=a[u]):v===m?m="":f+=v:h?v==='"'||v==="'"?m=v:v==="]"?(h=!1,s.push(f),f=""):f+=v:v==="["?(h=!0,f&&(s.push(f),f="")):v==="."?f&&(s.push(f),f=""):f+=v,u++}return f&&s.push(f),s}e.toPath=r})(m0)),m0}var KA;function R1(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LU(),n=h5(),r=P1(),a=I1();function s(u,f,m){if(u==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?n.isDeepKey(f)?s(u,a.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const h=u[f];return h===void 0?m:h}default:{if(Array.isArray(f))return c(u,f,m);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?m:h}}}function c(u,f,m){if(f.length===0)return m;let h=u;for(let v=0;v<f.length;v++){if(h==null||t.isUnsafeProperty(f[v]))return m;h=h[f[v]]}return h===void 0?m:h}e.get=s})(c0)),c0}var h0,WA;function FU(){return WA||(WA=1,h0=R1().get),h0}var BU=FU();const od=li(BU);var $U=4;function zs(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$U,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function sr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((a,s,c)=>{var u=n[c-1];return typeof u=="string"?a+u+s:u!==void 0?a+zs(u)+s:a+s},"")}var yn=e=>e===0?0:e>0?1:-1,Ui=e=>typeof e=="number"&&e!=+e,Kl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Qe=e=>(typeof e=="number"||e instanceof Number)&&!Ui(e),Yi=e=>Qe(e)||typeof e=="string",qU=0,cd=e=>{var t=++qU;return"".concat(e||"").concat(t)},Fn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(t)&&typeof t!="string")return r;var s;if(Kl(t)){if(n==null)return r;var c=t.indexOf("%");s=n*parseFloat(t.slice(0,c))/100}else s=+t;return Ui(s)&&(s=r),a&&n!=null&&s>n&&(s=n),s},v5=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function va(e,t,n){return Qe(e)&&Qe(t)?zs(e+n*(t-e)):t}function HU(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):od(r,t))===n)}var $n=e=>e===null||typeof e>"u",Od=e=>$n(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Xa(e){return e!=null}function Td(){}var UU=["type","size","sizeType"];function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uy.apply(null,arguments)}function QA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function XA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(n),!0).forEach(function(r){YU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YU(e,t,n){return(t=VU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VU(e){var t=GU(e,"string");return typeof t=="symbol"?t:t+""}function GU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KU(e,t){if(e==null)return{};var n,r,a=WU(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function WU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var x5={symbolCircle:T1,symbolCross:cU,symbolDiamond:dU,symbolSquare:fU,symbolStar:vU,symbolTriangle:xU,symbolWye:bU},QU=Math.PI/180,XU=e=>{var t="symbol".concat(Od(e));return x5[t]||T1},ZU=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*QU;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},JU=(e,t)=>{x5["symbol".concat(Od(e))]=t},g5=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=KU(e,UU),s=XA(XA({},a),{},{type:t,size:n,sizeType:r}),c="circle";typeof t=="string"&&(c=t);var u=()=>{var x=XU(c),b=yU().type(x).size(ZU(n,r,c)),S=b();if(S!==null)return S},{className:f,cx:m,cy:h}=s,v=sa(s);return Qe(m)&&Qe(h)&&Qe(n)?j.createElement("path",uy({},v,{className:lt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:u()})):null};g5.registerSymbol=JU;var b5=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,eY=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{E1(a)&&(r[a]=(s=>n[a](n,s)))}),r},tY=(e,t,n)=>r=>(e(t,n,r),null),rY=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var s=e[a];E1(a)&&typeof s=="function"&&(r||(r={}),r[a]=tY(s,t,n))}),r};function ZA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(n),!0).forEach(function(r){aY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aY(e,t,n){return(t=iY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iY(e){var t=sY(e,"string");return typeof t=="symbol"?t:t+""}function sY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fi(e,t){var n=nY({},e),r=t,a=Object.keys(t),s=a.reduce((c,u)=>(c[u]===void 0&&r[u]!==void 0&&(c[u]=r[u]),c),n);return s}var v0={},x0={},JA;function lY(){return JA||(JA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let s=0;s<n.length;s++){const c=n[s],u=r(c,s,n);a.has(u)||a.set(u,c)}return Array.from(a.values())}e.uniqBy=t})(x0)),x0}var g0={},eM;function oY(){return eM||(eM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...a){return n.apply(this,a.slice(0,r))}}e.ary=t})(g0)),g0}var b0={},tM;function y5(){return tM||(tM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(b0)),b0}var y0={},w0={},j0={},rM;function cY(){return rM||(rM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(j0)),j0}var nM;function L1(){return nM||(nM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cY();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(w0)),w0}var N0={},aM;function uY(){return aM||(aM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(N0)),N0}var iM;function dY(){return iM||(iM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L1(),n=uY();function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(y0)),y0}var S0={},C0={},sM;function fY(){return sM||(sM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R1();function n(r){return function(a){return t.get(a,r)}}e.property=n})(C0)),C0}var A0={},M0={},D0={},k0={},lM;function w5(){return lM||(lM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(k0)),k0}var E0={},oM;function j5(){return oM||(oM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(E0)),E0}var _0={},cM;function N5(){return cM||(cM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(_0)),_0}var uM;function mY(){return uM||(uM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w5(),n=j5(),r=N5();function a(h,v,x){return typeof x!="function"?a(h,v,()=>{}):s(h,v,function b(S,w,y,C,M,A){const _=x(S,w,y,C,M,A);return _!==void 0?!!_:s(S,w,b,A)},new Map)}function s(h,v,x,b){if(v===h)return!0;switch(typeof v){case"object":return c(h,v,x,b);case"function":return Object.keys(v).length>0?s(h,{...v},x,b):r.isEqualsSameValueZero(h,v);default:return t.isObject(h)?typeof v=="string"?v==="":!0:r.isEqualsSameValueZero(h,v)}}function c(h,v,x,b){if(v==null)return!0;if(Array.isArray(v))return f(h,v,x,b);if(v instanceof Map)return u(h,v,x,b);if(v instanceof Set)return m(h,v,x,b);const S=Object.keys(v);if(h==null||n.isPrimitive(h))return S.length===0;if(S.length===0)return!0;if(b?.has(v))return b.get(v)===h;b?.set(v,h);try{for(let w=0;w<S.length;w++){const y=S[w];if(!n.isPrimitive(h)&&!(y in h)||v[y]===void 0&&h[y]!==void 0||v[y]===null&&h[y]!==null||!x(h[y],v[y],y,h,v,b))return!1}return!0}finally{b?.delete(v)}}function u(h,v,x,b){if(v.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,w]of v.entries()){const y=h.get(S);if(x(y,w,S,h,v,b)===!1)return!1}return!0}function f(h,v,x,b){if(v.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let w=0;w<v.length;w++){const y=v[w];let C=!1;for(let M=0;M<h.length;M++){if(S.has(M))continue;const A=h[M];let _=!1;if(x(A,y,w,h,v,b)&&(_=!0),_){S.add(M),C=!0;break}}if(!C)return!1}return!0}function m(h,v,x,b){return v.size===0?!0:h instanceof Set?f([...h],[...v],x,b):!1}e.isMatchWith=a,e.isSetMatch=m})(D0)),D0}var dM;function S5(){return dM||(dM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mY();function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})(M0)),M0}var O0={},T0={},P0={},fM;function pY(){return fM||(fM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(P0)),P0}var I0={},mM;function z1(){return mM||(mM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(I0)),I0}var R0={},pM;function C5(){return pM||(pM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",s="[object Arguments]",c="[object Symbol]",u="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",v="[object Function]",x="[object ArrayBuffer]",b="[object Object]",S="[object Error]",w="[object DataView]",y="[object Uint8Array]",C="[object Uint8ClampedArray]",M="[object Uint16Array]",A="[object Uint32Array]",_="[object BigUint64Array]",E="[object Int8Array]",T="[object Int16Array]",P="[object Int32Array]",O="[object BigInt64Array]",L="[object Float32Array]",R="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=x,e.arrayTag=h,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=_,e.booleanTag=a,e.dataViewTag=w,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=L,e.float64ArrayTag=R,e.functionTag=v,e.int16ArrayTag=T,e.int32ArrayTag=P,e.int8ArrayTag=E,e.mapTag=f,e.numberTag=r,e.objectTag=b,e.regexpTag=t,e.setTag=m,e.stringTag=n,e.symbolTag=c,e.uint16ArrayTag=M,e.uint32ArrayTag=A,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=C})(R0)),R0}var L0={},hM;function hY(){return hM||(hM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(L0)),L0}var vM;function A5(){return vM||(vM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pY(),n=z1(),r=C5(),a=j5(),s=hY();function c(h,v){return u(h,void 0,h,new Map,v)}function u(h,v,x,b=new Map,S=void 0){const w=S?.(h,v,x,b);if(w!==void 0)return w;if(a.isPrimitive(h))return h;if(b.has(h))return b.get(h);if(Array.isArray(h)){const y=new Array(h.length);b.set(h,y);for(let C=0;C<h.length;C++)y[C]=u(h[C],C,x,b,S);return Object.hasOwn(h,"index")&&(y.index=h.index),Object.hasOwn(h,"input")&&(y.input=h.input),y}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const y=new RegExp(h.source,h.flags);return y.lastIndex=h.lastIndex,y}if(h instanceof Map){const y=new Map;b.set(h,y);for(const[C,M]of h)y.set(C,u(M,C,x,b,S));return y}if(h instanceof Set){const y=new Set;b.set(h,y);for(const C of h)y.add(u(C,void 0,x,b,S));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(s.isTypedArray(h)){const y=new(Object.getPrototypeOf(h)).constructor(h.length);b.set(h,y);for(let C=0;C<h.length;C++)y[C]=u(h[C],C,x,b,S);return y}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const y=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return b.set(h,y),f(y,h,x,b,S),y}if(typeof File<"u"&&h instanceof File){const y=new File([h],h.name,{type:h.type});return b.set(h,y),f(y,h,x,b,S),y}if(typeof Blob<"u"&&h instanceof Blob){const y=new Blob([h],{type:h.type});return b.set(h,y),f(y,h,x,b,S),y}if(h instanceof Error){const y=new h.constructor;return b.set(h,y),y.message=h.message,y.name=h.name,y.stack=h.stack,y.cause=h.cause,f(y,h,x,b,S),y}if(h instanceof Boolean){const y=new Boolean(h.valueOf());return b.set(h,y),f(y,h,x,b,S),y}if(h instanceof Number){const y=new Number(h.valueOf());return b.set(h,y),f(y,h,x,b,S),y}if(h instanceof String){const y=new String(h.valueOf());return b.set(h,y),f(y,h,x,b,S),y}if(typeof h=="object"&&m(h)){const y=Object.create(Object.getPrototypeOf(h));return b.set(h,y),f(y,h,x,b,S),y}return h}function f(h,v,x=h,b,S){const w=[...Object.keys(v),...t.getSymbols(v)];for(let y=0;y<w.length;y++){const C=w[y],M=Object.getOwnPropertyDescriptor(h,C);(M==null||M.writable)&&(h[C]=u(v[C],C,x,b,S))}}function m(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=u,e.copyProperties=f})(T0)),T0}var xM;function vY(){return xM||(xM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A5();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(O0)),O0}var gM;function xY(){return gM||(gM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S5(),n=vY();function r(a){return a=n.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=r})(A0)),A0}var z0={},F0={},B0={},bM;function gY(){return bM||(bM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A5(),n=z1(),r=C5();function a(s,c){return t.cloneDeepWith(s,(u,f,m,h)=>{const v=c?.(u,f,m,h);if(v!==void 0)return v;if(typeof s=="object"){if(n.getTag(s)===r.objectTag&&typeof s.constructor!="function"){const x={};return h.set(s,x),t.copyProperties(x,s,m,h),x}switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const x=new s.constructor(s?.valueOf());return t.copyProperties(x,s),x}case r.argumentsTag:{const x={};return t.copyProperties(x,s),x.length=s.length,x[Symbol.iterator]=s[Symbol.iterator],x}default:return}}})}e.cloneDeepWith=a})(B0)),B0}var yM;function bY(){return yM||(yM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gY();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(F0)),F0}var $0={},q0={},wM;function M5(){return wM||(wM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(q0)),q0}var H0={},jM;function yY(){return jM||(jM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z1();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(H0)),H0}var NM;function wY(){return NM||(NM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h5(),n=M5(),r=yY(),a=I1();function s(c,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&c?.[u]==null?f=a.toPath(u):f=[u],f.length===0)return!1;let m=c;for(let h=0;h<f.length;h++){const v=f[h];if((m==null||!Object.hasOwn(m,v))&&!((Array.isArray(m)||r.isArguments(m))&&n.isIndex(v)&&v<m.length))return!1;m=m[v]}return!0}e.has=s})($0)),$0}var SM;function jY(){return SM||(SM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S5(),n=P1(),r=bY(),a=R1(),s=wY();function c(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(m){const h=a.get(m,u);return h===void 0?s.has(m,u):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c})(z0)),z0}var CM;function NY(){return CM||(CM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y5(),n=fY(),r=xY(),a=jY();function s(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}e.iteratee=s})(S0)),S0}var AM;function SY(){return AM||(AM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lY(),n=oY(),r=y5(),a=dY(),s=NY();function c(u,f=r.identity){return a.isArrayLikeObject(u)?t.uniqBy(Array.from(u),n.ary(s.iteratee(f),1)):[]}e.uniqBy=c})(v0)),v0}var U0,MM;function CY(){return MM||(MM=1,U0=SY().uniqBy),U0}var AY=CY();const DM=li(AY);function MY(e,t,n){return t===!0?DM(e,n):typeof t=="function"?DM(e,t):e}var Y0={exports:{}},V0={},G0={exports:{}},K0={};var kM;function DY(){if(kM)return K0;kM=1;var e=jc();function t(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,a=e.useEffect,s=e.useLayoutEffect,c=e.useDebugValue;function u(v,x){var b=x(),S=r({inst:{value:b,getSnapshot:x}}),w=S[0].inst,y=S[1];return s(function(){w.value=b,w.getSnapshot=x,f(w)&&y({inst:w})},[v,b,x]),a(function(){return f(w)&&y({inst:w}),v(function(){f(w)&&y({inst:w})})},[v]),c(b),b}function f(v){var x=v.getSnapshot;v=v.value;try{var b=x();return!n(v,b)}catch{return!0}}function m(v,x){return x()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return K0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,K0}var EM;function kY(){return EM||(EM=1,G0.exports=DY()),G0.exports}var _M;function EY(){if(_M)return V0;_M=1;var e=jc(),t=kY();function n(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var r=typeof Object.is=="function"?Object.is:n,a=t.useSyncExternalStore,s=e.useRef,c=e.useEffect,u=e.useMemo,f=e.useDebugValue;return V0.useSyncExternalStoreWithSelector=function(m,h,v,x,b){var S=s(null);if(S.current===null){var w={hasValue:!1,value:null};S.current=w}else w=S.current;S=u(function(){function C(T){if(!M){if(M=!0,A=T,T=x(T),b!==void 0&&w.hasValue){var P=w.value;if(b(P,T))return _=P}return _=T}if(P=_,r(A,T))return P;var O=x(T);return b!==void 0&&b(P,O)?(A=T,P):(A=T,_=O)}var M=!1,A,_,E=v===void 0?null:v;return[function(){return C(h())},E===null?void 0:function(){return C(E())}]},[h,v,x,b]);var y=a(m,S[0],S[1]);return c(function(){w.hasValue=!0,w.value=y},[y]),f(y),y},V0}var OM;function _Y(){return OM||(OM=1,Y0.exports=EY()),Y0.exports}var OY=_Y(),F1=j.createContext(null),TY=e=>e,Mr=()=>{var e=j.useContext(F1);return e?e.store.dispatch:TY},lp=()=>{},PY=()=>lp,IY=(e,t)=>e===t;function it(e){var t=j.useContext(F1),n=j.useMemo(()=>t?r=>{if(r!=null)return e(r)}:lp,[t,e]);return OY.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:PY,t?t.store.getState:lp,t?t.store.getState:lp,n,IY)}function RY(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function LY(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function zY(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var TM=e=>Array.isArray(e)?e:[e];function FY(e){const t=Array.isArray(e[0])?e[0]:e;return zY(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function BY(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var $Y=class{constructor(e){this.value=e}deref(){return this.value}},qY=typeof WeakRef<"u"?WeakRef:$Y,HY=0,PM=1;function Cm(){return{s:HY,v:void 0,o:null,p:null}}function D5(e,t={}){let n=Cm();const{resultEqualityCheck:r}=t;let a,s=0;function c(){let u=n;const{length:f}=arguments;for(let v=0,x=f;v<x;v++){const b=arguments[v];if(typeof b=="function"||typeof b=="object"&&b!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const w=S.get(b);w===void 0?(u=Cm(),S.set(b,u)):u=w}else{let S=u.p;S===null&&(u.p=S=new Map);const w=S.get(b);w===void 0?(u=Cm(),S.set(b,u)):u=w}}const m=u;let h;if(u.s===PM)h=u.v;else if(h=e.apply(null,arguments),s++,r){const v=a?.deref?.()??a;v!=null&&r(v,h)&&(h=v,s!==0&&s--),a=typeof h=="object"&&h!==null||typeof h=="function"?new qY(h):h}return m.s=PM,m.v=h,h}return c.clearCache=()=>{n=Cm(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function UY(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let s=0,c=0,u,f={},m=a.pop();typeof m=="object"&&(f=m,m=a.pop()),RY(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...n,...f},{memoize:v,memoizeOptions:x=[],argsMemoize:b=D5,argsMemoizeOptions:S=[]}=h,w=TM(x),y=TM(S),C=FY(a),M=v(function(){return s++,m.apply(null,arguments)},...w),A=b(function(){c++;const E=BY(C,arguments);return u=M.apply(null,E),u},...y);return Object.assign(A,{resultFunc:m,memoizedResultFunc:M,dependencies:C,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:v,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var ie=UY(D5),YY=Object.assign((e,t=ie)=>{LY(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((c,u,f)=>(c[n[f]]=u,c),{}))},{withTypes:()=>YY}),W0={},Q0={},X0={},IM;function VY(){return IM||(IM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,s)=>{if(r!==a){const c=t(r),u=t(a);if(c===u&&c===0){if(r<a)return s==="desc"?1:-1;if(r>a)return s==="desc"?-1:1}return s==="desc"?u-c:c-u}return 0};e.compareValues=n})(X0)),X0}var Z0={},J0={},RM;function k5(){return RM||(RM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(J0)),J0}var LM;function GY(){return LM||(LM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k5(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||c!=null&&Object.hasOwn(c,s)}e.isKey=a})(Z0)),Z0}var zM;function KY(){return zM||(zM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VY(),n=GY(),r=I1();function a(s,c,u,f){if(s==null)return[];u=f?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const m=(b,S)=>{let w=b;for(let y=0;y<S.length&&w!=null;++y)w=w[S[y]];return w},h=(b,S)=>S==null||b==null?S:typeof b=="object"&&"key"in b?Object.hasOwn(S,b.key)?S[b.key]:m(S,b.path):typeof b=="function"?b(S):Array.isArray(b)?m(S,b):typeof S=="object"?S[b]:S,v=c.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return s.map(b=>({original:b,criteria:v.map(S=>h(S,b))})).slice().sort((b,S)=>{for(let w=0;w<v.length;w++){const y=t.compareValues(b.criteria[w],S.criteria[w],u[w]);if(y!==0)return y}return 0}).map(b=>b.original)}e.orderBy=a})(Q0)),Q0}var eb={},FM;function WY(){return FM||(FM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],s=Math.floor(r),c=(u,f)=>{for(let m=0;m<u.length;m++){const h=u[m];Array.isArray(h)&&f<s?c(h,f+1):a.push(h)}};return c(n,0),a}e.flatten=t})(eb)),eb}var tb={},BM;function E5(){return BM||(BM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M5(),n=L1(),r=w5(),a=N5();function s(c,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?a.isEqualsSameValueZero(f[u],c):!1}e.isIterateeCall=s})(tb)),tb}var $M;function QY(){return $M||($M=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KY(),n=WY(),r=E5();function a(s,...c){const u=c.length;return u>1&&r.isIterateeCall(s,c[0],c[1])?c=[]:u>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(s,n.flatten(c),["asc"])}e.sortBy=a})(W0)),W0}var rb,qM;function XY(){return qM||(qM=1,rb=QY().sortBy),rb}var ZY=XY();const $h=li(ZY);var _5=e=>e.legend.settings,JY=e=>e.legend.size,eV=e=>e.legend.payload;ie([eV,_5],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?$h(r,n):r});var Am=1;function tV(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=j.useState({height:0,left:0,top:0,width:0}),r=j.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-t.height)>Am||Math.abs(c.left-t.left)>Am||Math.abs(c.top-t.top)>Am||Math.abs(c.width-t.width)>Am)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Hr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var rV=typeof Symbol=="function"&&Symbol.observable||"@@observable",HM=rV,nb=()=>Math.random().toString(36).substring(7).split("").join("."),nV={INIT:`@@redux/INIT${nb()}`,REPLACE:`@@redux/REPLACE${nb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${nb()}`},Lp=nV;function B1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function O5(e,t,n){if(typeof e!="function")throw new Error(Hr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Hr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Hr(1));return n(O5)(e,t)}let r=e,a=t,s=new Map,c=s,u=0,f=!1;function m(){c===s&&(c=new Map,s.forEach((y,C)=>{c.set(C,y)}))}function h(){if(f)throw new Error(Hr(3));return a}function v(y){if(typeof y!="function")throw new Error(Hr(4));if(f)throw new Error(Hr(5));let C=!0;m();const M=u++;return c.set(M,y),function(){if(C){if(f)throw new Error(Hr(6));C=!1,m(),c.delete(M),s=null}}}function x(y){if(!B1(y))throw new Error(Hr(7));if(typeof y.type>"u")throw new Error(Hr(8));if(typeof y.type!="string")throw new Error(Hr(17));if(f)throw new Error(Hr(9));try{f=!0,a=r(a,y)}finally{f=!1}return(s=c).forEach(M=>{M()}),y}function b(y){if(typeof y!="function")throw new Error(Hr(10));r=y,x({type:Lp.REPLACE})}function S(){const y=v;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Hr(11));function M(){const _=C;_.next&&_.next(h())}return M(),{unsubscribe:y(M)}},[HM](){return this}}}return x({type:Lp.INIT}),{dispatch:x,subscribe:v,getState:h,replaceReducer:b,[HM]:S}}function aV(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Lp.INIT})>"u")throw new Error(Hr(12));if(typeof n(void 0,{type:Lp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Hr(13))})}function T5(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const c=t[s];typeof e[c]=="function"&&(n[c]=e[c])}const r=Object.keys(n);let a;try{aV(n)}catch(s){a=s}return function(c={},u){if(a)throw a;let f=!1;const m={};for(let h=0;h<r.length;h++){const v=r[h],x=n[v],b=c[v],S=x(b,u);if(typeof S>"u")throw u&&u.type,new Error(Hr(14));m[v]=S,f=f||S!==b}return f=f||r.length!==Object.keys(c).length,f?m:c}}function zp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function iV(...e){return t=>(n,r)=>{const a=t(n,r);let s=()=>{throw new Error(Hr(15))};const c={getState:a.getState,dispatch:(f,...m)=>s(f,...m)},u=e.map(f=>f(c));return s=zp(...u)(a.dispatch),{...a,dispatch:s}}}function P5(e){return B1(e)&&"type"in e&&typeof e.type=="string"}var I5=Symbol.for("immer-nothing"),UM=Symbol.for("immer-draftable"),nn=Symbol.for("immer-state");function xa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ln=Object,xc=Ln.getPrototypeOf,Fp="constructor",qh="prototype",dy="configurable",Bp="enumerable",op="writable",ud="value",Vi=e=>!!e&&!!e[nn];function Ma(e){return e?R5(e)||Uh(e)||!!e[UM]||!!e[Fp]?.[UM]||Yh(e)||Vh(e):!1}var sV=Ln[qh][Fp].toString(),YM=new WeakMap;function R5(e){if(!e||!$1(e))return!1;const t=xc(e);if(t===null||t===Ln[qh])return!0;const n=Ln.hasOwnProperty.call(t,Fp)&&t[Fp];if(n===Object)return!0;if(!Qo(n))return!1;let r=YM.get(n);return r===void 0&&(r=Function.toString.call(n),YM.set(n,r)),r===sV}function Hh(e,t,n=!0){Pd(e)===0?(n?Reflect.ownKeys(e):Ln.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((r,a)=>t(a,r,e))}function Pd(e){const t=e[nn];return t?t.type_:Uh(e)?1:Yh(e)?2:Vh(e)?3:0}var VM=(e,t,n=Pd(e))=>n===2?e.has(t):Ln[qh].hasOwnProperty.call(e,t),fy=(e,t,n=Pd(e))=>n===2?e.get(t):e[t],$p=(e,t,n,r=Pd(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function lV(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Uh=Array.isArray,Yh=e=>e instanceof Map,Vh=e=>e instanceof Set,$1=e=>typeof e=="object",Qo=e=>typeof e=="function",ab=e=>typeof e=="boolean";function oV(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Pi=e=>e.copy_||e.base_,q1=e=>e.modified_?e.copy_:e.base_;function my(e,t){if(Yh(e))return new Map(e);if(Vh(e))return new Set(e);if(Uh(e))return Array[qh].slice.call(e);const n=R5(e);if(t===!0||t==="class_only"&&!n){const r=Ln.getOwnPropertyDescriptors(e);delete r[nn];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const c=a[s],u=r[c];u[op]===!1&&(u[op]=!0,u[dy]=!0),(u.get||u.set)&&(r[c]={[dy]:!0,[op]:!0,[Bp]:u[Bp],[ud]:e[c]})}return Ln.create(xc(e),r)}else{const r=xc(e);if(r!==null&&n)return{...e};const a=Ln.create(r);return Ln.assign(a,e)}}function H1(e,t=!1){return Gh(e)||Vi(e)||!Ma(e)||(Pd(e)>1&&Ln.defineProperties(e,{set:Mm,add:Mm,clear:Mm,delete:Mm}),Ln.freeze(e),t&&Hh(e,(n,r)=>{H1(r,!0)},!1)),e}function cV(){xa(2)}var Mm={[ud]:cV};function Gh(e){return e===null||!$1(e)?!0:Ln.isFrozen(e)}var qp="MapSet",py="Patches",GM="ArrayMethods",L5={};function Wl(e){const t=L5[e];return t||xa(0,e),t}var KM=e=>!!L5[e],dd,z5=()=>dd,uV=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:KM(qp)?Wl(qp):void 0,arrayMethodsPlugin_:KM(GM)?Wl(GM):void 0});function WM(e,t){t&&(e.patchPlugin_=Wl(py),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function hy(e){vy(e),e.drafts_.forEach(dV),e.drafts_=null}function vy(e){e===dd&&(dd=e.parent_)}var QM=e=>dd=uV(dd,e);function dV(e){const t=e[nn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function XM(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[nn].modified_&&(hy(t),xa(4)),Ma(e)&&(e=ZM(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(n[nn].base_,e,t)}else e=ZM(t,n);return fV(t,e,!0),hy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==I5?e:void 0}function ZM(e,t){if(Gh(t))return t;const n=t[nn];if(!n)return Hp(t,e.handledSet_,e);if(!Kh(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);$5(n,e)}return n.copy_}function fV(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&H1(t,n)}function F5(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Kh=(e,t)=>e.scope_===t,mV=[];function B5(e,t,n,r){const a=Pi(e),s=e.type_;if(r!==void 0&&fy(a,r,s)===t){$p(a,r,n,s);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;Hh(a,(f,m)=>{if(Vi(m)){const h=u.get(m)||[];h.push(f),u.set(m,h)}})}const c=e.draftLocations_.get(t)??mV;for(const u of c)$p(a,u,n,s)}function pV(e,t,n){e.callbacks_.push(function(a){const s=t;if(!s||!Kh(s,a))return;a.mapSetPlugin_?.fixSetContents(s);const c=q1(s);B5(e,s.draft_??s,c,n),$5(s,a)})}function $5(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const a=r.getPath(e);a&&r.generatePatches_(e,a,t)}F5(e)}}function hV(e,t,n){const{scope_:r}=e;if(Vi(n)){const a=n[nn];Kh(a,r)&&a.callbacks_.push(function(){cp(e);const c=q1(a);B5(e,n,c,t)})}else Ma(n)&&e.callbacks_.push(function(){const s=Pi(e);e.type_===3?s.has(n)&&Hp(n,r.handledSet_,r):fy(s,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Hp(fy(e.copy_,t,e.type_),r.handledSet_,r)})}function Hp(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Vi(e)||t.has(e)||!Ma(e)||Gh(e)||(t.add(e),Hh(e,(r,a)=>{if(Vi(a)){const s=a[nn];if(Kh(s,n)){const c=q1(s);$p(e,r,c,e.type_),F5(s)}}else Ma(a)&&Hp(a,t,n)})),e}function vV(e,t){const n=Uh(e),r={type_:n?1:0,scope_:t?t.scope_:z5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,s=Up;n&&(a=[r],s=fd);const{revoke:c,proxy:u}=Proxy.revocable(a,s);return r.draft_=u,r.revoke_=c,[u,r]}var Up={get(e,t){if(t===nn)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n?.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=Pi(e);if(!VM(a,t,e.type_))return xV(e,a,t);const s=a[t];if(e.finalized_||!Ma(s)||r&&e.operationMethod&&n?.isMutatingArrayMethod(e.operationMethod)&&oV(t))return s;if(s===ib(e.base_,t)){cp(e);const c=e.type_===1?+t:t,u=gy(e.scope_,s,e,c);return e.copy_[c]=u}return s},has(e,t){return t in Pi(e)},ownKeys(e){return Reflect.ownKeys(Pi(e))},set(e,t,n){const r=q5(Pi(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=ib(Pi(e),t),s=a?.[nn];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(lV(n,a)&&(n!==void 0||VM(e.base_,t,e.type_)))return!0;cp(e),xy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),hV(e,t,n)),!0},deleteProperty(e,t){return cp(e),ib(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),xy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Pi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[op]:!0,[dy]:e.type_!==1||t!=="length",[Bp]:r[Bp],[ud]:n[t]}},defineProperty(){xa(11)},getPrototypeOf(e){return xc(e.base_)},setPrototypeOf(){xa(12)}},fd={};for(let e in Up){let t=Up[e];fd[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}fd.deleteProperty=function(e,t){return fd.set.call(this,e,t,void 0)};fd.set=function(e,t,n){return Up.set.call(this,e[0],t,n,e[0])};function ib(e,t){const n=e[nn];return(n?Pi(n):e)[t]}function xV(e,t,n){const r=q5(t,n);return r?ud in r?r[ud]:r.get?.call(e.draft_):void 0}function q5(e,t){if(!(t in e))return;let n=xc(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=xc(n)}}function xy(e){e.modified_||(e.modified_=!0,e.parent_&&xy(e.parent_))}function cp(e){e.copy_||(e.assigned_=new Map,e.copy_=my(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var gV=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,a)=>{if(Qo(n)&&!Qo(r)){const c=r;r=n;const u=this;return function(m=c,...h){return u.produce(m,v=>r.call(this,v,...h))}}Qo(r)||xa(6),a!==void 0&&!Qo(a)&&xa(7);let s;if(Ma(n)){const c=QM(this),u=gy(c,n,void 0);let f=!0;try{s=r(u),f=!1}finally{f?hy(c):vy(c)}return WM(c,a),XM(s,c)}else if(!n||!$1(n)){if(s=r(n),s===void 0&&(s=n),s===I5&&(s=void 0),this.autoFreeze_&&H1(s,!0),a){const c=[],u=[];Wl(py).generateReplacementPatches_(n,s,{patches_:c,inversePatches_:u}),a(c,u)}return s}else xa(1,n)},this.produceWithPatches=(n,r)=>{if(Qo(n))return(u,...f)=>this.produceWithPatches(u,m=>n(m,...f));let a,s;return[this.produce(n,r,(u,f)=>{a=u,s=f}),a,s]},ab(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),ab(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),ab(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ma(t)||xa(8),Vi(t)&&(t=Sa(t));const n=QM(this),r=gy(n,t,void 0);return r[nn].isManual_=!0,vy(n),r}finishDraft(t,n){const r=t&&t[nn];(!r||!r.isManual_)&&xa(9);const{scope_:a}=r;return WM(a,n),XM(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(n=n.slice(r+1));const a=Wl(py).applyPatches_;return Vi(t)?a(t,n):this.produce(t,s=>a(s,n))}};function gy(e,t,n,r){const[a,s]=Yh(t)?Wl(qp).proxyMap_(t,n):Vh(t)?Wl(qp).proxySet_(t,n):vV(t,n);return(n?.scope_??z5()).drafts_.push(a),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?pV(n,s,r):s.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:m}=f;s.modified_&&m&&m.generatePatches_(s,[],f)}),a}function Sa(e){return Vi(e)||xa(10,e),H5(e)}function H5(e){if(!Ma(e)||Gh(e))return e;const t=e[nn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=my(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=my(e,!0);return Hh(n,(a,s)=>{$p(n,a,H5(s))},r),t&&(t.finalized_=!1),n}var bV=new gV,U5=bV.produce;function Y5(e){return({dispatch:n,getState:r})=>a=>s=>typeof s=="function"?s(n,r,e):a(s)}var yV=Y5(),wV=Y5,jV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zp:zp.apply(null,arguments)};function la(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(Bn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>P5(r)&&r.type===e,n}var V5=class Zu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Zu.prototype)}static get[Symbol.species](){return Zu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Zu(...t[0].concat(this)):new Zu(...t.concat(this))}};function JM(e){return Ma(e)?U5(e,()=>{}):e}function Dm(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function NV(e){return typeof e=="boolean"}var SV=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let c=new V5;return n&&(NV(n)?c.push(yV):c.push(wV(n.extraArgument))),c},G5="RTK_autoBatch",Xt=()=>e=>({payload:e,meta:{[G5]:!0}}),eD=e=>t=>{setTimeout(t,e)},K5=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,s=!1,c=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:eD(10):e.type==="callback"?e.queueNotification:eD(e.timeout),m=()=>{c=!1,s&&(s=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const v=()=>a&&h(),x=r.subscribe(v);return u.add(h),()=>{x(),u.delete(h)}},dispatch(h){try{return a=!h?.meta?.[G5],s=!a,s&&(c||(c=!0,f(m))),r.dispatch(h)}finally{a=!0}}})},CV=e=>function(n){const{autoBatch:r=!0}=n??{};let a=new V5(e);return r&&a.push(K5(typeof r=="object"?r:void 0)),a};function AV(e){const t=SV(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:s=void 0,enhancers:c=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(B1(n))u=T5(n);else throw new Error(Bn(1));let f;typeof r=="function"?f=r(t):f=t();let m=zp;a&&(m=jV({trace:!1,...typeof a=="object"&&a}));const h=iV(...f),v=CV(h);let x=typeof c=="function"?c(v):v();const b=m(...x);return O5(u,s,b)}function W5(e){const t={},n=[];let r;const a={addCase(s,c){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(Bn(28));if(u in t)throw new Error(Bn(29));return t[u]=c,a},addAsyncThunk(s,c){return c.pending&&(t[s.pending.type]=c.pending),c.rejected&&(t[s.rejected.type]=c.rejected),c.fulfilled&&(t[s.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:s.settled,reducer:c.settled}),a},addMatcher(s,c){return n.push({matcher:s,reducer:c}),a},addDefaultCase(s){return r=s,a}};return e(a),[t,n,r]}function MV(e){return typeof e=="function"}function DV(e,t){let[n,r,a]=W5(t),s;if(MV(e))s=()=>JM(e());else{const u=JM(e);s=()=>u}function c(u=s(),f){let m=[n[f.type],...r.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[a]),m.reduce((h,v)=>{if(v)if(Vi(h)){const b=v(h,f);return b===void 0?h:b}else{if(Ma(h))return U5(h,x=>v(x,f));{const x=v(h,f);if(x===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return h},u)}return c.getInitialState=s,c}var kV="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",EV=(e=21)=>{let t="",n=e;for(;n--;)t+=kV[Math.random()*64|0];return t},_V=Symbol.for("rtk-slice-createasyncthunk");function OV(e,t){return`${e}/${t}`}function TV({creators:e}={}){const t=e?.asyncThunk?.[_V];return function(r){const{name:a,reducerPath:s=a}=r;if(!a)throw new Error(Bn(11));const c=(typeof r.reducers=="function"?r.reducers(IV()):r.reducers)||{},u=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(A,_){const E=typeof A=="string"?A:A.type;if(!E)throw new Error(Bn(12));if(E in f.sliceCaseReducersByType)throw new Error(Bn(13));return f.sliceCaseReducersByType[E]=_,m},addMatcher(A,_){return f.sliceMatchers.push({matcher:A,reducer:_}),m},exposeAction(A,_){return f.actionCreators[A]=_,m},exposeCaseReducer(A,_){return f.sliceCaseReducersByName[A]=_,m}};u.forEach(A=>{const _=c[A],E={reducerName:A,type:OV(a,A),createNotation:typeof r.reducers=="function"};LV(_)?FV(E,_,m,t):RV(E,_,m)});function h(){const[A={},_=[],E=void 0]=typeof r.extraReducers=="function"?W5(r.extraReducers):[r.extraReducers],T={...A,...f.sliceCaseReducersByType};return DV(r.initialState,P=>{for(let O in T)P.addCase(O,T[O]);for(let O of f.sliceMatchers)P.addMatcher(O.matcher,O.reducer);for(let O of _)P.addMatcher(O.matcher,O.reducer);E&&P.addDefaultCase(E)})}const v=A=>A,x=new Map,b=new WeakMap;let S;function w(A,_){return S||(S=h()),S(A,_)}function y(){return S||(S=h()),S.getInitialState()}function C(A,_=!1){function E(P){let O=P[A];return typeof O>"u"&&_&&(O=Dm(b,E,y)),O}function T(P=v){const O=Dm(x,_,()=>new WeakMap);return Dm(O,P,()=>{const L={};for(const[R,B]of Object.entries(r.selectors??{}))L[R]=PV(B,P,()=>Dm(b,P,y),_);return L})}return{reducerPath:A,getSelectors:T,get selectors(){return T(E)},selectSlice:E}}const M={name:a,reducer:w,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:y,...C(s),injectInto(A,{reducerPath:_,...E}={}){const T=_??s;return A.inject({reducerPath:T,reducer:w},E),{...M,...C(T,!0)}}};return M}}function PV(e,t,n,r){function a(s,...c){let u=t(s);return typeof u>"u"&&r&&(u=n()),e(u,...c)}return a.unwrapped=e,a}var Nn=TV();function IV(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function RV({type:e,reducerName:t,createNotation:n},r,a){let s,c;if("reducer"in r){if(n&&!zV(r))throw new Error(Bn(17));s=r.reducer,c=r.prepare}else s=r;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,c?la(e,c):la(e))}function LV(e){return e._reducerDefinitionType==="asyncThunk"}function zV(e){return e._reducerDefinitionType==="reducerWithPrepare"}function FV({type:e,reducerName:t},n,r,a){if(!a)throw new Error(Bn(18));const{payloadCreator:s,fulfilled:c,pending:u,rejected:f,settled:m,options:h}=n,v=a(e,s,h);r.exposeAction(t,v),c&&r.addCase(v.fulfilled,c),u&&r.addCase(v.pending,u),f&&r.addCase(v.rejected,f),m&&r.addMatcher(v.settled,m),r.exposeCaseReducer(t,{fulfilled:c||km,pending:u||km,rejected:f||km,settled:m||km})}function km(){}var BV="task",Q5="listener",X5="completed",U1="cancelled",$V=`task-${U1}`,qV=`task-${X5}`,by=`${Q5}-${U1}`,HV=`${Q5}-${X5}`,Wh=class{constructor(e){this.code=e,this.message=`${BV} ${U1} (reason: ${e})`}name="TaskAbortError";message},Y1=(e,t)=>{if(typeof e!="function")throw new TypeError(Bn(32))},Yp=()=>{},Z5=(e,t=Yp)=>(e.catch(t),e),J5=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),$l=e=>{if(e.aborted)throw new Wh(e.reason)};function eP(e,t){let n=Yp;return new Promise((r,a)=>{const s=()=>a(new Wh(e.reason));if(e.aborted){s();return}n=J5(e,s),t.finally(()=>n()).then(r,a)}).finally(()=>{n=Yp})}var UV=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Wh?"cancelled":"rejected",error:n}}finally{t?.()}},Vp=e=>t=>Z5(eP(e,t).then(n=>($l(e),n))),tP=e=>{const t=Vp(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:nc}=Object,tD={},Qh="listenerMiddleware",YV=(e,t)=>{const n=r=>J5(e,()=>r.abort(e.reason));return(r,a)=>{Y1(r);const s=new AbortController;n(s);const c=UV(async()=>{$l(e),$l(s.signal);const u=await r({pause:Vp(s.signal),delay:tP(s.signal),signal:s.signal});return $l(s.signal),u},()=>s.abort(qV));return a?.autoJoin&&t.push(c.catch(Yp)),{result:Vp(e)(c),cancel(){s.abort($V)}}}},VV=(e,t)=>{const n=async(r,a)=>{$l(t);let s=()=>{};const u=[new Promise((f,m)=>{let h=e({predicate:r,effect:(v,x)=>{x.unsubscribe(),f([v,x.getState(),x.getOriginalState()])}});s=()=>{h(),m()}})];a!=null&&u.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await eP(t,Promise.race(u));return $l(t),f}finally{s()}};return(r,a)=>Z5(n(r,a))},rP=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:s}=e;if(t)a=la(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Bn(21));return Y1(s),{predicate:a,type:t,effect:s}},nP=nc(e=>{const{type:t,predicate:n,effect:r}=rP(e);return{id:EV(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Bn(22))}}},{withTypes:()=>nP}),rD=(e,t)=>{const{type:n,effect:r,predicate:a}=rP(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===a)&&s.effect===r)},yy=e=>{e.pending.forEach(t=>{t.abort(by)})},GV=(e,t)=>()=>{for(const n of t.keys())yy(n);e.clear()},nD=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},aP=nc(la(`${Qh}/add`),{withTypes:()=>aP}),KV=la(`${Qh}/removeAll`),iP=nc(la(`${Qh}/remove`),{withTypes:()=>iP}),WV=(...e)=>{console.error(`${Qh}/error`,...e)},Id=(e={})=>{const t=new Map,n=new Map,r=b=>{const S=n.get(b)??0;n.set(b,S+1)},a=b=>{const S=n.get(b)??1;S===1?n.delete(b):n.set(b,S-1)},{extra:s,onError:c=WV}=e;Y1(c);const u=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),S=>{b.unsubscribe(),S?.cancelActive&&yy(b)}),f=b=>{const S=rD(t,b)??nP(b);return u(S)};nc(f,{withTypes:()=>f});const m=b=>{const S=rD(t,b);return S&&(S.unsubscribe(),b.cancelActive&&yy(S)),!!S};nc(m,{withTypes:()=>m});const h=async(b,S,w,y)=>{const C=new AbortController,M=VV(f,C.signal),A=[];try{b.pending.add(C),r(b),await Promise.resolve(b.effect(S,nc({},w,{getOriginalState:y,condition:(_,E)=>M(_,E).then(Boolean),take:M,delay:tP(C.signal),pause:Vp(C.signal),extra:s,signal:C.signal,fork:YV(C.signal,A),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((_,E,T)=>{_!==C&&(_.abort(by),T.delete(_))})},cancel:()=>{C.abort(by),b.pending.delete(C)},throwIfCancelled:()=>{$l(C.signal)}})))}catch(_){_ instanceof Wh||nD(c,_,{raisedBy:"effect"})}finally{await Promise.all(A),C.abort(HV),a(b),b.pending.delete(C)}},v=GV(t,n);return{middleware:b=>S=>w=>{if(!P5(w))return S(w);if(aP.match(w))return f(w.payload);if(KV.match(w)){v();return}if(iP.match(w))return m(w.payload);let y=b.getState();const C=()=>{if(y===tD)throw new Error(Bn(23));return y};let M;try{if(M=S(w),t.size>0){const A=b.getState(),_=Array.from(t.values());for(const E of _){let T=!1;try{T=E.predicate(w,A,y)}catch(P){T=!1,nD(c,P,{raisedBy:"predicate"})}T&&h(E,w,b,C)}}}finally{y=tD}return M},startListening:f,stopListening:m,clearListeners:v}};function Bn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var QV={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},sP=Nn({name:"chartLayout",initialState:QV,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,s;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:XV,setLayout:ZV,setChartSize:JV,setScale:eG}=sP.actions,tG=sP.reducer;function lP(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Ft(e){return Number.isFinite(e)}function Gs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function aD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(n),!0).forEach(function(r){rG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rG(e,t,n){return(t=nG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nG(e){var t=aG(e,"string");return typeof t=="symbol"?t:t+""}function aG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function or(e,t,n){return $n(e)||$n(t)?n:Yi(t)?od(e,t,n):typeof t=="function"?t(e):n}var iG=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:s,verticalAlign:c,layout:u}=t;if((u==="vertical"||u==="horizontal"&&c==="middle")&&s!=="center"&&Qe(e[s]))return Zo(Zo({},e),{},{[s]:e[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&c!=="middle"&&Qe(e[c]))return Zo(Zo({},e),{},{[c]:e[c]+(a||0)})}return e},Ws=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",sG=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var s=0,c=0,u=0;u<n;++u){var f=e[u],m=f?.[a];if(m!=null){var h=m[1],v=m[0],x=Ui(h)?v:h;x>=0?(m[0]=s,s+=x,m[1]=s):(m[0]=c,c+=x,m[1]=c)}}}},lG=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var s=0,c=0;c<n;++c){var u=e[c],f=u?.[a];if(f!=null){var m=Ui(f[1])?f[0]:f[1];m>=0?(f[0]=s,s+=m,f[1]=s):(f[0]=0,f[1]=0)}}}},oG={sign:sG,expand:PU,none:Gl,silhouette:IU,wiggle:RU,positive:lG},cG=(e,t,n)=>{var r,a=(r=oG[n])!==null&&r!==void 0?r:Gl,s=TU().keys(t).value((u,f)=>Number(or(u,f,0))).order(cy).offset(a),c=s(e);return c.forEach((u,f)=>{u.forEach((m,h)=>{var v=or(e[h],t[f],0);Array.isArray(v)&&v.length===2&&Qe(v[0])&&Qe(v[1])&&(m[0]=v[0],m[1]=v[1])})}),c},uG=e=>{var t=e.flat(2).filter(Qe);return[Math.min(...t),Math.max(...t)]},dG=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],fG=(e,t,n)=>{if(e!=null)return dG(Object.keys(e).reduce((r,a)=>{var s=e[a];if(!s)return r;var{stackedData:c}=s,u=c.reduce((f,m)=>{var h=lP(m,t,n),v=uG(h);return!Ft(v[0])||!Ft(v[1])?f:[Math.min(f[0],v[0]),Math.max(f[1],v[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},iD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lD=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();return r}if(e&&t&&t.length>=2){for(var a=$h(t,h=>h.coordinate),s=1/0,c=1,u=a.length;c<u;c++){var f=a[c],m=a[c-1];s=Math.min((f?.coordinate||0)-(m?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function oD(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:s}=e;return Zo(Zo({},t),{},{dataKey:n,payload:r,value:a,name:s})}function oP(e,t){if(e)return String(e);if(typeof t=="string")return t}var mG=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},pG=(e,t)=>t==="centric"?e.angle:e.radius,rs=e=>e.layout.width,ns=e=>e.layout.height,hG=e=>e.layout.scale,cP=e=>e.layout.margin,Xh=ie(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Zh=ie(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),uP="data-recharts-item-index",dP="data-recharts-item-id",Rd=60;function cD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Em(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cD(Object(n),!0).forEach(function(r){vG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vG(e,t,n){return(t=xG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xG(e){var t=gG(e,"string");return typeof t=="symbol"?t:t+""}function gG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bG=e=>e.brush.height;function yG(e){var t=Zh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Rd;return n+a}return n},0)}function wG(e){var t=Zh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Rd;return n+a}return n},0)}function jG(e){var t=Xh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function NG(e){var t=Xh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Ir=ie([rs,ns,cP,bG,yG,wG,jG,NG,_5,JY],(e,t,n,r,a,s,c,u,f,m)=>{var h={left:(n.left||0)+a,right:(n.right||0)+s},v={top:(n.top||0)+c,bottom:(n.bottom||0)+u},x=Em(Em({},v),h),b=x.bottom;x.bottom+=r,x=iG(x,f,m);var S=e-x.left-x.right,w=t-x.top-x.bottom;return Em(Em({brushBottom:b},x),{},{width:Math.max(S,0),height:Math.max(w,0)})}),SG=ie(Ir,e=>({x:e.left,y:e.top,width:e.width,height:e.height}));ie(rs,ns,(e,t)=>({x:0,y:0,width:e,height:t}));var CG=j.createContext(null),Qs=()=>j.useContext(CG)!=null,Jh=e=>e.brush,ev=ie([Jh,Ir,cP],(e,t,n)=>({height:e.height,x:Qe(e.x)?e.x:t.left,y:Qe(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Qe(e.width)?e.width:t.width})),sb={},lb={},ob={},uD;function AG(){return uD||(uD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:s}={}){let c,u=null;const f=s!=null&&s.includes("leading"),m=s==null||s.includes("trailing"),h=()=>{u!==null&&(n.apply(c,u),c=void 0,u=null)},v=()=>{m&&h(),w()};let x=null;const b=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,v()},r)},S=()=>{x!==null&&(clearTimeout(x),x=null)},w=()=>{S(),c=void 0,u=null},y=()=>{h()},C=function(...M){if(a?.aborted)return;c=this,u=M;const A=x==null;b(),f&&A&&h()};return C.schedule=b,C.cancel=w,C.flush=y,a?.addEventListener("abort",w,{once:!0}),C}e.debounce=t})(ob)),ob}var dD;function MG(){return dD||(dD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AG();function n(r,a=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:u=!0,maxWait:f}=s,m=Array(2);c&&(m[0]="leading"),u&&(m[1]="trailing");let h,v=null;const x=t.debounce(function(...w){h=r.apply(this,w),v=null},a,{edges:m}),b=function(...w){return f!=null&&(v===null&&(v=Date.now()),Date.now()-v>=f)?(h=r.apply(this,w),v=Date.now(),x.cancel(),x.schedule(),h):(x.apply(this,w),h)},S=()=>(x.flush(),h);return b.cancel=x.cancel,b.flush=S,b}e.debounce=n})(lb)),lb}var fD;function DG(){return fD||(fD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MG();function n(r,a=0,s={}){const{leading:c=!0,trailing:u=!0}=s;return t.debounce(r,a,{leading:c,maxWait:a,trailing:u})}e.throttle=n})(sb)),sb}var cb,mD;function kG(){return mD||(mD=1,cb=DG().throttle),cb}var EG=kG();const _G=li(EG);var pD=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(n.replace(/%s/g,()=>a[c++]))}},Za={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},fP=(e,t,n)=>{var{width:r=Za.width,height:a=Za.height,aspect:s,maxHeight:c}=n,u=Kl(r)?e:Number(r),f=Kl(a)?t:Number(a);return s&&s>0&&(u?f=u/s:f&&(u=f*s),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:u,calculatedHeight:f}},OG={width:0,height:0,overflow:"visible"},TG={width:0,overflowX:"visible"},PG={height:0,overflowY:"visible"},IG={},RG=e=>{var{width:t,height:n}=e,r=Kl(t),a=Kl(n);return r&&a?OG:r?TG:a?PG:IG};function LG(e){var{width:t,height:n,aspect:r}=e,a=t,s=n;return a===void 0&&s===void 0?(a=Za.width,s=Za.height):a===void 0?a=r&&r>0?void 0:Za.width:s===void 0&&(s=r&&r>0?void 0:Za.height),{width:a,height:s}}function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wy.apply(null,arguments)}function hD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hD(Object(n),!0).forEach(function(r){zG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zG(e,t,n){return(t=FG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FG(e){var t=BG(e,"string");return typeof t=="symbol"?t:t+""}function BG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mP=j.createContext(Za.initialDimension);function $G(e){return Gs(e.width)&&Gs(e.height)}function pP(e){var{children:t,width:n,height:r}=e,a=j.useMemo(()=>({width:n,height:r}),[n,r]);return $G(a)?j.createElement(mP.Provider,{value:a},t):null}var V1=()=>j.useContext(mP),qG=j.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=Za.initialDimension,width:a,height:s,minWidth:c=Za.minWidth,minHeight:u,maxHeight:f,children:m,debounce:h=Za.debounce,id:v,className:x,onResize:b,style:S={}}=e,w=j.useRef(null),y=j.useRef();y.current=b,j.useImperativeHandle(t,()=>w.current);var[C,M]=j.useState({containerWidth:r.width,containerHeight:r.height}),A=j.useCallback((O,L)=>{M(R=>{var B=Math.round(O),k=Math.round(L);return R.containerWidth===B&&R.containerHeight===k?R:{containerWidth:B,containerHeight:k}})},[]);j.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Td;var O=k=>{var K,W=k[0];if(W!=null){var{width:Z,height:$}=W.contentRect;A(Z,$),(K=y.current)===null||K===void 0||K.call(y,Z,$)}};h>0&&(O=_G(O,h,{trailing:!0,leading:!1}));var L=new ResizeObserver(O),{width:R,height:B}=w.current.getBoundingClientRect();return A(R,B),L.observe(w.current),()=>{L.disconnect()}},[A,h]);var{containerWidth:_,containerHeight:E}=C;pD(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:T,calculatedHeight:P}=fP(_,E,{width:a,height:s,aspect:n,maxHeight:f});return pD(T!=null&&T>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,P,a,s,c,u,n),j.createElement("div",{id:v?"".concat(v):void 0,className:lt("recharts-responsive-container",x),style:vD(vD({},S),{},{width:a,height:s,minWidth:c,minHeight:u,maxHeight:f}),ref:w},j.createElement("div",{style:RG({width:a,height:s})},j.createElement(pP,{width:T,height:P},m)))}),HG=j.forwardRef((e,t)=>{var n=V1();if(Gs(n.width)&&Gs(n.height))return e.children;var{width:r,height:a}=LG({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:c}=fP(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Qe(s)&&Qe(c)?j.createElement(pP,{width:s,height:c},e.children):j.createElement(qG,wy({},e,{width:r,height:a,ref:t}))});function G1(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var tv=()=>{var e,t=Qs(),n=it(SG),r=it(ev),a=(e=it(Jh))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},UG={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},YG=()=>{var e;return(e=it(Ir))!==null&&e!==void 0?e:UG},VG=()=>it(rs),GG=()=>it(ns),er=e=>e.layout.layoutType,rv=()=>it(er),hP=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},KG=()=>{var e=rv();return e!==void 0},Ld=e=>{var t=Mr(),n=Qs(),{width:r,height:a}=e,s=V1(),c=r,u=a;return s&&(c=s.width>0?s.width:r,u=s.height>0?s.height:a),j.useEffect(()=>{!n&&Gs(c)&&Gs(u)&&t(JV({width:c,height:u}))},[t,n,c,u]),null},vP=Symbol.for("immer-nothing"),xD=Symbol.for("immer-draftable"),qn=Symbol.for("immer-state");function ga(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var md=Object.getPrototypeOf;function gc(e){return!!e&&!!e[qn]}function Ql(e){return e?xP(e)||Array.isArray(e)||!!e[xD]||!!e.constructor?.[xD]||zd(e)||av(e):!1}var WG=Object.prototype.constructor.toString(),gD=new WeakMap;function xP(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=gD.get(n);return r===void 0&&(r=Function.toString.call(n),gD.set(n,r)),r===WG}function Gp(e,t,n=!0){nv(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((r,a)=>t(a,r,e))}function nv(e){const t=e[qn];return t?t.type_:Array.isArray(e)?1:zd(e)?2:av(e)?3:0}function jy(e,t){return nv(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function gP(e,t,n){const r=nv(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function QG(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function zd(e){return e instanceof Map}function av(e){return e instanceof Set}function kl(e){return e.copy_||e.base_}function Ny(e,t){if(zd(e))return new Map(e);if(av(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=xP(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[qn];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const c=a[s],u=r[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(md(e),r)}else{const r=md(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function K1(e,t=!1){return iv(e)||gc(e)||!Ql(e)||(nv(e)>1&&Object.defineProperties(e,{set:_m,add:_m,clear:_m,delete:_m}),Object.freeze(e),t&&Object.values(e).forEach(n=>K1(n,!0))),e}function XG(){ga(2)}var _m={value:XG};function iv(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var ZG={};function Xl(e){const t=ZG[e];return t||ga(0,e),t}var pd;function bP(){return pd}function JG(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function bD(e,t){t&&(Xl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Sy(e){Cy(e),e.drafts_.forEach(eK),e.drafts_=null}function Cy(e){e===pd&&(pd=e.parent_)}function yD(e){return pd=JG(pd,e)}function eK(e){const t=e[qn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function wD(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[qn].modified_&&(Sy(t),ga(4)),Ql(e)&&(e=Kp(t,e),t.parent_||Wp(t,e)),t.patches_&&Xl("Patches").generateReplacementPatches_(n[qn].base_,e,t.patches_,t.inversePatches_)):e=Kp(t,n,[]),Sy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==vP?e:void 0}function Kp(e,t,n){if(iv(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[qn];if(!a)return Gp(t,(s,c)=>jD(e,a,t,s,c,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return Wp(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let c=s,u=!1;a.type_===3&&(c=new Set(s),s.clear(),u=!0),Gp(c,(f,m)=>jD(e,a,s,f,m,n,u),r),Wp(e,s,!1),n&&e.patches_&&Xl("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function jD(e,t,n,r,a,s,c){if(a==null||typeof a!="object"&&!c)return;const u=iv(a);if(!(u&&!c)){if(gc(a)){const f=s&&t&&t.type_!==3&&!jy(t.assigned_,r)?s.concat(r):void 0,m=Kp(e,a,f);if(gP(n,r,m),gc(m))e.canAutoFreeze_=!1;else return}else c&&n.add(a);if(Ql(a)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&u)return;Kp(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(zd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Wp(e,a)}}}function Wp(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&K1(t,n)}function tK(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:bP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=W1;n&&(a=[r],s=hd);const{revoke:c,proxy:u}=Proxy.revocable(a,s);return r.draft_=u,r.revoke_=c,u}var W1={get(e,t){if(t===qn)return e;const n=kl(e);if(!jy(n,t))return rK(e,n,t);const r=n[t];return e.finalized_||!Ql(r)?r:r===ub(e.base_,t)?(db(e),e.copy_[t]=My(r,e)):r},has(e,t){return t in kl(e)},ownKeys(e){return Reflect.ownKeys(kl(e))},set(e,t,n){const r=yP(kl(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=ub(kl(e),t),s=a?.[qn];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(QG(n,a)&&(n!==void 0||jy(e.base_,t)))return!0;db(e),Ay(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ub(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,db(e),Ay(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=kl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ga(11)},getPrototypeOf(e){return md(e.base_)},setPrototypeOf(){ga(12)}},hd={};Gp(W1,(e,t)=>{hd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});hd.deleteProperty=function(e,t){return hd.set.call(this,e,t,void 0)};hd.set=function(e,t,n){return W1.set.call(this,e[0],t,n,e[0])};function ub(e,t){const n=e[qn];return(n?kl(n):e)[t]}function rK(e,t,n){const r=yP(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function yP(e,t){if(!(t in e))return;let n=md(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=md(n)}}function Ay(e){e.modified_||(e.modified_=!0,e.parent_&&Ay(e.parent_))}function db(e){e.copy_||(e.copy_=Ny(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var nK=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const c=this;return function(f=s,...m){return c.produce(f,h=>n.call(this,h,...m))}}typeof n!="function"&&ga(6),r!==void 0&&typeof r!="function"&&ga(7);let a;if(Ql(t)){const s=yD(this),c=My(t,void 0);let u=!0;try{a=n(c),u=!1}finally{u?Sy(s):Cy(s)}return bD(s,r),wD(a,s)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===vP&&(a=void 0),this.autoFreeze_&&K1(a,!0),r){const s=[],c=[];Xl("Patches").generateReplacementPatches_(t,a,s,c),r(s,c)}return a}else ga(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,f=>t(f,...u));let r,a;return[this.produce(t,n,(c,u)=>{r=c,a=u}),r,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ql(e)||ga(8),gc(e)&&(e=aK(e));const t=yD(this),n=My(e,void 0);return n[qn].isManual_=!0,Cy(t),n}finishDraft(e,t){const n=e&&e[qn];(!n||!n.isManual_)&&ga(9);const{scope_:r}=n;return bD(r,t),wD(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=Xl("Patches").applyPatches_;return gc(e)?r(e,t):this.produce(e,a=>r(a,t))}};function My(e,t){const n=zd(e)?Xl("MapSet").proxyMap_(e,t):av(e)?Xl("MapSet").proxySet_(e,t):tK(e,t);return(t?t.scope_:bP()).drafts_.push(n),n}function aK(e){return gc(e)||ga(10,e),wP(e)}function wP(e){if(!Ql(e)||iv(e))return e;const t=e[qn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Ny(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Ny(e,!0);return Gp(n,(a,s)=>{gP(n,a,wP(s))},r),t&&(t.finalized_=!1),n}var iK=new nK;iK.produce;var sK={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},jP=Nn({name:"legend",initialState:sK,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Xt()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,a=Sa(e).payload.indexOf(n);a>-1&&(e.payload[a]=r)},prepare:Xt()},removeLegendPayload:{reducer(e,t){var n=Sa(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Xt()}}}),{setLegendSize:Fle,setLegendSettings:Ble,addLegendPayload:lK,replaceLegendPayload:oK,removeLegendPayload:cK}=jP.actions,uK=jP.reducer;function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dy.apply(null,arguments)}function ND(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ND(Object(n),!0).forEach(function(r){dK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dK(e,t,n){return(t=fK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fK(e){var t=mK(e,"string");return typeof t=="symbol"?t:t+""}function mK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pK(e){return Array.isArray(e)&&Yi(e[0])&&Yi(e[1])?e.join(" ~ "):e}var qo={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},hK=e=>{var{separator:t=qo.separator,contentStyle:n,itemStyle:r,labelStyle:a=qo.labelStyle,payload:s,formatter:c,itemSorter:u,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:v,accessibilityLayer:x=qo.accessibilityLayer}=e,b=()=>{if(s&&s.length){var E={padding:0,margin:0},T=(u?$h(s,u):s).map((P,O)=>{if(P.type==="none")return null;var L=P.formatter||c||pK,{value:R,name:B}=P,k=R,K=B;if(L){var W=L(R,B,P,O,s);if(Array.isArray(W))[k,K]=W;else if(W!=null)k=W;else return null}var Z=Fu(Fu({},qo.itemStyle),{},{color:P.color||qo.itemStyle.color},r);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:Z},Yi(K)?j.createElement("span",{className:"recharts-tooltip-item-name"},K):null,Yi(K)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},k),j.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:E},T)}return null},S=Fu(Fu({},qo.contentStyle),n),w=Fu({margin:0},a),y=!$n(h),C=y?h:"",M=lt("recharts-default-tooltip",f),A=lt("recharts-tooltip-label",m);y&&v&&s!==void 0&&s!==null&&(C=v(h,s));var _=x?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",Dy({className:M,style:S},_),j.createElement("p",{className:A,style:w},j.isValidElement(C)?C:"".concat(C)),b())},Bu="recharts-tooltip-wrapper",vK={visibility:"hidden"};function xK(e){var{coordinate:t,translateX:n,translateY:r}=e;return lt(Bu,{["".concat(Bu,"-right")]:Qe(n)&&t&&Qe(t.x)&&n>=t.x,["".concat(Bu,"-left")]:Qe(n)&&t&&Qe(t.x)&&n<t.x,["".concat(Bu,"-bottom")]:Qe(r)&&t&&Qe(t.y)&&r>=t.y,["".concat(Bu,"-top")]:Qe(r)&&t&&Qe(t.y)&&r<t.y})}function SD(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:a,position:s,reverseDirection:c,tooltipDimension:u,viewBox:f,viewBoxDimension:m}=e;if(s&&Qe(s[r]))return s[r];var h=n[r]-u-(a>0?a:0),v=n[r]+a;if(t[r])return c[r]?h:v;var x=f[r];if(x==null)return 0;if(c[r]){var b=h,S=x;return b<S?Math.max(v,x):Math.max(h,x)}if(m==null)return 0;var w=v+u,y=x+m;return w>y?Math.max(h,x):Math.max(v,x)}function gK(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function bK(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:a,position:s,reverseDirection:c,tooltipBox:u,useTranslate3d:f,viewBox:m}=e,h,v,x;return u.height>0&&u.width>0&&n?(v=SD({allowEscapeViewBox:t,coordinate:n,key:"x",offset:a,position:s,reverseDirection:c,tooltipDimension:u.width,viewBox:m,viewBoxDimension:m.width}),x=SD({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:s,reverseDirection:c,tooltipDimension:u.height,viewBox:m,viewBoxDimension:m.height}),h=gK({translateX:v,translateY:x,useTranslate3d:f})):h=vK,{cssProperties:h,cssClasses:xK({translateX:v,translateY:x,coordinate:n})}}function CD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Om(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(n),!0).forEach(function(r){ky(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ky(e,t,n){return(t=yK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yK(e){var t=wK(e,"string");return typeof t=="symbol"?t:t+""}function wK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jK extends j.PureComponent{constructor(){super(...arguments),ky(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),ky(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:s,coordinate:c,hasPayload:u,isAnimationActive:f,offset:m,position:h,reverseDirection:v,useTranslate3d:x,viewBox:b,wrapperStyle:S,lastBoundingBox:w,innerRef:y,hasPortalFromProps:C}=this.props,M=typeof m=="number"?m:m.x,A=typeof m=="number"?m:m.y,{cssClasses:_,cssProperties:E}=bK({allowEscapeViewBox:n,coordinate:c,offsetLeft:M,offsetTop:A,position:h,reverseDirection:v,tooltipBox:{height:w.height,width:w.width},useTranslate3d:x,viewBox:b}),T=C?{}:Om(Om({transition:f&&t?"transform ".concat(r,"ms ").concat(a):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),P=Om(Om({},T),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:P,ref:y},s)}}var NP=()=>{var e;return(e=it(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ey.apply(null,arguments)}function AD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function MD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AD(Object(n),!0).forEach(function(r){NK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NK(e,t,n){return(t=SK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SK(e){var t=CK(e,"string");return typeof t=="symbol"?t:t+""}function CK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DD={curveBasisClosed:jU,curveBasisOpen:NU,curveBasis:wU,curveBumpX:lU,curveBumpY:oU,curveLinearClosed:SU,curveLinear:Fh,curveMonotoneX:CU,curveMonotoneY:AU,curveNatural:MU,curveStep:DU,curveStepAfter:EU,curveStepBefore:kU},Qp=e=>Ft(e.x)&&Ft(e.y),kD=e=>e.base!=null&&Qp(e.base)&&Qp(e),$u=e=>e.x,qu=e=>e.y,AK=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Od(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=DD["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return DD[n]||Fh},ED={connectNulls:!1,type:"linear"},MK=e=>{var{type:t=ED.type,points:n=[],baseLine:r,layout:a,connectNulls:s=ED.connectNulls}=e,c=AK(t,a),u=s?n.filter(Qp):n;if(Array.isArray(r)){var f,m=n.map((S,w)=>MD(MD({},S),{},{base:r[w]}));a==="vertical"?f=Sm().y(qu).x1($u).x0(S=>S.base.x):f=Sm().x($u).y1(qu).y0(S=>S.base.y);var h=f.defined(kD).curve(c),v=s?m.filter(kD):m;return h(v)}var x;a==="vertical"&&Qe(r)?x=Sm().y(qu).x1($u).x0(r):Qe(r)?x=Sm().x($u).y1(qu).y0(r):x=a5().x($u).y(qu);var b=x.defined(Qp).curve(c);return b(u)},Q1=e=>{var{className:t,points:n,path:r,pathRef:a}=e,s=rv();if((!n||!n.length)&&!r)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},u=n&&n.length?MK(c):r;return j.createElement("path",Ey({},vc(e),eY(e),{className:lt("recharts-curve",t),d:u===null?void 0:u,ref:a}))},DK=["x","y","top","left","width","height","className"];function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_y.apply(null,arguments)}function _D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_D(Object(n),!0).forEach(function(r){EK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EK(e,t,n){return(t=_K(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _K(e){var t=OK(e,"string");return typeof t=="symbol"?t:t+""}function OK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TK(e,t){if(e==null)return{};var n,r,a=PK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function PK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var IK=(e,t,n,r,a,s)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),RK=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:s=0,height:c=0,className:u}=e,f=TK(e,DK),m=kK({x:t,y:n,top:r,left:a,width:s,height:c},f);return!Qe(t)||!Qe(n)||!Qe(s)||!Qe(c)||!Qe(r)||!Qe(a)?null:j.createElement("path",_y({},sa(m),{className:lt("recharts-cross",u),d:IK(t,n,s,c,r,a)}))};function LK(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function OD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function TD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OD(Object(n),!0).forEach(function(r){zK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zK(e,t,n){return(t=FK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FK(e){var t=BK(e,"string");return typeof t=="symbol"?t:t+""}function BK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $K=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),SP=(e,t,n)=>e.map(r=>"".concat($K(r)," ").concat(t,"ms ").concat(n)).join(","),qK=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),vd=(e,t)=>Object.keys(t).reduce((n,r)=>TD(TD({},n),{},{[r]:e(r,t[r])}),{});function PD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PD(Object(n),!0).forEach(function(r){HK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HK(e,t,n){return(t=UK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UK(e){var t=YK(e,"string");return typeof t=="symbol"?t:t+""}function YK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xp=(e,t,n)=>e+(t-e)*n,Oy=e=>{var{from:t,to:n}=e;return t!==n},CP=(e,t,n)=>{var r=vd((a,s)=>{if(Oy(s)){var[c,u]=e(s.from,s.to,s.velocity);return Ar(Ar({},s),{},{from:c,velocity:u})}return s},t);return n<1?vd((a,s)=>Oy(s)&&r[a]!=null?Ar(Ar({},s),{},{velocity:Xp(s.velocity,r[a].velocity,n),from:Xp(s.from,r[a].from,n)}):s,t):CP(e,r,n-1)};function VK(e,t,n,r,a,s){var c,u=r.reduce((x,b)=>Ar(Ar({},x),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),f=()=>vd((x,b)=>b.from,u),m=()=>!Object.values(u).filter(Oy).length,h=null,v=x=>{c||(c=x);var b=x-c,S=b/n.dt;u=CP(n,u,S),a(Ar(Ar(Ar({},e),t),f())),c=x,m()||(h=s.setTimeout(v))};return()=>(h=s.setTimeout(v),()=>{var x;(x=h)===null||x===void 0||x()})}function GK(e,t,n,r,a,s,c){var u=null,f=a.reduce((v,x)=>{var b=e[x],S=t[x];return b==null||S==null?v:Ar(Ar({},v),{},{[x]:[b,S]})},{}),m,h=v=>{m||(m=v);var x=(v-m)/r,b=vd((w,y)=>Xp(...y,n(x)),f);if(s(Ar(Ar(Ar({},e),t),b)),x<1)u=c.setTimeout(h);else{var S=vd((w,y)=>Xp(...y,n(1)),f);s(Ar(Ar(Ar({},e),t),S))}};return()=>(u=c.setTimeout(h),()=>{var v;(v=u)===null||v===void 0||v()})}const KK=(e,t,n,r,a,s)=>{var c=qK(e,t);return n==null?()=>(a(Ar(Ar({},e),t)),()=>{}):n.isStepper===!0?VK(e,t,n,c,a,s):GK(e,t,n,r,c,a,s)};var Zp=1e-4,AP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],MP=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),ID=(e,t)=>n=>{var r=AP(e,t);return MP(r,n)},WK=(e,t)=>n=>{var r=AP(e,t),a=[...r.map((s,c)=>s*c).slice(1),0];return MP(a,n)},QK=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var a=r.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},XK=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=QK(n[0]);if(a)return a}}return n.length===4?n:[0,0,1,1]},ZK=(e,t,n,r)=>{var a=ID(e,n),s=ID(t,r),c=WK(e,n),u=m=>m>1?1:m<0?0:m,f=m=>{for(var h=m>1?1:m,v=h,x=0;x<8;++x){var b=a(v)-h,S=c(v);if(Math.abs(b-h)<Zp||S<Zp)return s(v);v=u(v-b/S)}return s(v)};return f.isStepper=!1,f},RD=function(){return ZK(...XK(...arguments))},JK=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=t,s=(c,u,f)=>{var m=-(c-u)*n,h=f*r,v=f+(m-h)*a/1e3,x=f*a/1e3+c;return Math.abs(x-u)<Zp&&Math.abs(v)<Zp?[u,0]:[x,v]};return s.isStepper=!0,s.dt=a,s},eW=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return RD(e);case"spring":return JK();default:if(e.split("(")[0]==="cubic-bezier")return RD(e)}return typeof e=="function"?e:null};function tW(e){var t,n=()=>null,r=!1,a=null,s=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var u=c,[f,...m]=u;if(typeof f=="number"){a=e.setTimeout(s.bind(null,m),f);return}s(f),a=e.setTimeout(s.bind(null,m));return}typeof c=="string"&&(t=c,n(t)),typeof c=="object"&&(t=c,n(t)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,a&&(a(),a=null),s(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>e}}class rW{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,s=c=>{c-r>=n?t(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function nW(){return tW(new rW)}var aW=j.createContext(nW);function iW(e,t){var n=j.useContext(aW);return j.useMemo(()=>t??n(e),[e,t,n])}var sW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),X1={isSsr:sW()},lW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},LD={t:0},fb={t:1};function Z1(e){var t=fi(e,lW),{isActive:n,canBegin:r,duration:a,easing:s,begin:c,onAnimationEnd:u,onAnimationStart:f,children:m}=t,h=n==="auto"?!X1.isSsr:n,v=iW(t.animationId,t.animationManager),[x,b]=j.useState(h?LD:fb),S=j.useRef(null);return j.useEffect(()=>{h||b(fb)},[h]),j.useEffect(()=>{if(!h||!r)return Td;var w=KK(LD,fb,eW(s),a,b,v.getTimeoutController()),y=()=>{S.current=w()};return v.start([f,c,y,a,u]),()=>{v.stop(),S.current&&S.current(),u()}},[h,r,a,s,c,f,u,v]),m(x.t)}function J1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=j.useRef(cd(t)),r=j.useRef(e);return r.current!==e&&(n.current=cd(t),r.current=e),n.current}var oW=["radius"],cW=["radius"],zD,FD,BD,$D,qD,HD,UD,YD,VD,GD;function KD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function WD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KD(Object(n),!0).forEach(function(r){uW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uW(e,t,n){return(t=dW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dW(e){var t=fW(e,"string");return typeof t=="symbol"?t:t+""}function fW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jp(){return Jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jp.apply(null,arguments)}function QD(e,t){if(e==null)return{};var n,r,a=mW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $a(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var XD=(e,t,n,r,a)=>{var s=zs(n),c=zs(r),u=Math.min(Math.abs(s)/2,Math.abs(c)/2),f=c>=0?1:-1,m=s>=0?1:-1,h=c>=0&&s>=0||c<0&&s<0?1:0,v;if(u>0&&Array.isArray(a)){for(var x=[0,0,0,0],b=0,S=4;b<S;b++){var w,y=(w=a[b])!==null&&w!==void 0?w:0;x[b]=y>u?u:y}v=sr(zD||(zD=$a(["M",",",""])),e,t+f*x[0]),x[0]>0&&(v+=sr(FD||(FD=$a(["A ",",",",0,0,",",",",",""])),x[0],x[0],h,e+m*x[0],t)),v+=sr(BD||(BD=$a(["L ",",",""])),e+n-m*x[1],t),x[1]>0&&(v+=sr($D||($D=$a(["A ",",",",0,0,",`,
        `,",",""])),x[1],x[1],h,e+n,t+f*x[1])),v+=sr(qD||(qD=$a(["L ",",",""])),e+n,t+r-f*x[2]),x[2]>0&&(v+=sr(HD||(HD=$a(["A ",",",",0,0,",`,
        `,",",""])),x[2],x[2],h,e+n-m*x[2],t+r)),v+=sr(UD||(UD=$a(["L ",",",""])),e+m*x[3],t+r),x[3]>0&&(v+=sr(YD||(YD=$a(["A ",",",",0,0,",`,
        `,",",""])),x[3],x[3],h,e,t+r-f*x[3])),v+="Z"}else if(u>0&&a===+a&&a>0){var C=Math.min(u,a);v=sr(VD||(VD=$a(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*C,C,C,h,e+m*C,t,e+n-m*C,t,C,C,h,e+n,t+f*C,e+n,t+r-f*C,C,C,h,e+n-m*C,t+r,e+m*C,t+r,C,C,h,e,t+r-f*C)}else v=sr(GD||(GD=$a(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return v},ZD={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DP=e=>{var t=fi(e,ZD),n=j.useRef(null),[r,a]=j.useState(-1);j.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var G=n.current.getTotalLength();G&&a(G)}catch{}},[]);var{x:s,y:c,width:u,height:f,radius:m,className:h}=t,{animationEasing:v,animationDuration:x,animationBegin:b,isAnimationActive:S,isUpdateAnimationActive:w}=t,y=j.useRef(u),C=j.useRef(f),M=j.useRef(s),A=j.useRef(c),_=j.useMemo(()=>({x:s,y:c,width:u,height:f,radius:m}),[s,c,u,f,m]),E=J1(_,"rectangle-");if(s!==+s||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var T=lt("recharts-rectangle",h);if(!w){var P=sa(t),{radius:O}=P,L=QD(P,oW);return j.createElement("path",Jp({},L,{x:zs(s),y:zs(c),width:zs(u),height:zs(f),radius:typeof m=="number"?m:void 0,className:T,d:XD(s,c,u,f,m)}))}var R=y.current,B=C.current,k=M.current,K=A.current,W="0px ".concat(r===-1?1:r,"px"),Z="".concat(r,"px 0px"),$=SP(["strokeDasharray"],x,typeof v=="string"?v:ZD.animationEasing);return j.createElement(Z1,{animationId:E,key:E,canBegin:r>0,duration:x,easing:v,isActive:w,begin:b},G=>{var z=va(R,u,G),re=va(B,f,G),he=va(k,s,G),F=va(K,c,G);n.current&&(y.current=z,C.current=re,M.current=he,A.current=F);var ne;S?G>0?ne={transition:$,strokeDasharray:Z}:ne={strokeDasharray:W}:ne={strokeDasharray:Z};var ve=sa(t),{radius:be}=ve,Pe=QD(ve,cW);return j.createElement("path",Jp({},Pe,{radius:typeof m=="number"?m:void 0,className:T,d:XD(he,F,z,re,m),ref:n,style:WD(WD({},ne),t.style)}))})};function JD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ek(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JD(Object(n),!0).forEach(function(r){pW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pW(e,t,n){return(t=hW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hW(e){var t=vW(e,"string");return typeof t=="symbol"?t:t+""}function vW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eh=Math.PI/180,xW=e=>e*180/Math.PI,wr=(e,t,n,r)=>({x:e+Math.cos(-eh*r)*n,y:t+Math.sin(-eh*r)*n}),kP=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},gW=(e,t)=>{var{x:n,y:r}=e,{x:a,y:s}=t;return Math.sqrt((n-a)**2+(r-s)**2)},bW=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:s}=t,c=gW({x:n,y:r},{x:a,y:s});if(c<=0)return{radius:c,angle:0};var u=(n-a)/c,f=Math.acos(u);return r>s&&(f=2*Math.PI-f),{radius:c,angle:xW(f),angleInRadian:f}},yW=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:t-s*360,endAngle:n-s*360}},wW=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),s=Math.floor(r/360),c=Math.min(a,s);return e+c*360},jW=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:s}=bW({x:n,y:r},t),{innerRadius:c,outerRadius:u}=t;if(a<c||a>u||a===0)return null;var{startAngle:f,endAngle:m}=yW(t),h=s,v;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;v=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;v=h>=m&&h<=f}return v?ek(ek({},t),{},{radius:a,angle:wW(h,t)}):null};function EP(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:s}=e,c=wr(t,n,r,a),u=wr(t,n,r,s);return{points:[c,u],cx:t,cy:n,radius:r,startAngle:a,endAngle:s}}var tk,rk,nk,ak,ik,sk,lk;function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ty.apply(null,arguments)}function Rl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var NW=(e,t)=>{var n=yn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Tm=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:s,isExternal:c,cornerRadius:u,cornerIsExternal:f}=e,m=u*(c?1:-1)+r,h=Math.asin(u/m)/eh,v=f?a:a+s*h,x=wr(t,n,m,v),b=wr(t,n,r,v),S=f?a-s*h:a,w=wr(t,n,m*Math.cos(h*eh),S);return{center:x,circleTangency:b,lineTangency:w,theta:h}},_P=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:c}=e,u=NW(s,c),f=s+u,m=wr(t,n,a,s),h=wr(t,n,a,f),v=sr(tk||(tk=Rl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,a,a,+(Math.abs(u)>180),+(s>f),h.x,h.y);if(r>0){var x=wr(t,n,r,s),b=wr(t,n,r,f);v+=sr(rk||(rk=Rl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),b.x,b.y,r,r,+(Math.abs(u)>180),+(s<=f),x.x,x.y)}else v+=sr(nk||(nk=Rl(["L ",","," Z"])),t,n);return v},SW=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m}=e,h=yn(m-f),{circleTangency:v,lineTangency:x,theta:b}=Tm({cx:t,cy:n,radius:a,angle:f,sign:h,cornerRadius:s,cornerIsExternal:u}),{circleTangency:S,lineTangency:w,theta:y}=Tm({cx:t,cy:n,radius:a,angle:m,sign:-h,cornerRadius:s,cornerIsExternal:u}),C=u?Math.abs(f-m):Math.abs(f-m)-b-y;if(C<0)return c?sr(ak||(ak=Rl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),x.x,x.y,s,s,s*2,s,s,-s*2):_P({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:f,endAngle:m});var M=sr(ik||(ik=Rl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),x.x,x.y,s,s,+(h<0),v.x,v.y,a,a,+(C>180),+(h<0),S.x,S.y,s,s,+(h<0),w.x,w.y);if(r>0){var{circleTangency:A,lineTangency:_,theta:E}=Tm({cx:t,cy:n,radius:r,angle:f,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:T,lineTangency:P,theta:O}=Tm({cx:t,cy:n,radius:r,angle:m,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),L=u?Math.abs(f-m):Math.abs(f-m)-E-O;if(L<0&&s===0)return"".concat(M,"L").concat(t,",").concat(n,"Z");M+=sr(sk||(sk=Rl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,s,s,+(h<0),T.x,T.y,r,r,+(L>180),+(h>0),A.x,A.y,s,s,+(h<0),_.x,_.y)}else M+=sr(lk||(lk=Rl(["L",",","Z"])),t,n);return M},CW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},OP=e=>{var t=fi(e,CW),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h,className:v}=t;if(s<a||m===h)return null;var x=lt("recharts-sector",v),b=s-a,S=Fn(c,b,0,!0),w;return S>0&&Math.abs(m-h)<360?w=SW({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(S,b/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h}):w=_P({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:m,endAngle:h}),j.createElement("path",Ty({},sa(t),{className:x,d:w}))};function AW(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(b5(t)){if(e==="centric"){var{cx:r,cy:a,innerRadius:s,outerRadius:c,angle:u}=t,f=wr(r,a,s,u),m=wr(r,a,c,u);return[{x:f.x,y:f.y},{x:m.x,y:m.y}]}return EP(t)}}var mb={},pb={},hb={},ok;function MW(){return ok||(ok=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k5();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(hb)),hb}var ck;function DW(){return ck||(ck=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MW();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(pb)),pb}var uk;function kW(){return uk||(uk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E5(),n=DW();function r(a,s,c){c&&typeof c!="number"&&t.isIterateeCall(a,s,c)&&(s=c=void 0),a=n.toFinite(a),s===void 0?(s=a,a=0):s=n.toFinite(s),c=c===void 0?a<s?1:-1:n.toFinite(c);const u=Math.max(Math.ceil((s-a)/(c||1)),0),f=new Array(u);for(let m=0;m<u;m++)f[m]=a,a+=c;return f}e.range=r})(mb)),mb}var vb,dk;function EW(){return dk||(dk=1,vb=kW().range),vb}var _W=EW();const TP=li(_W);function $s(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function OW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ew(e){let t,n,r;e.length!==2?(t=$s,n=(u,f)=>$s(e(u),f),r=(u,f)=>e(u)-f):(t=e===$s||e===OW?e:TW,n=e,r=e);function a(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const v=m+h>>>1;n(u[v],f)<0?m=v+1:h=v}while(m<h)}return m}function s(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const v=m+h>>>1;n(u[v],f)<=0?m=v+1:h=v}while(m<h)}return m}function c(u,f,m=0,h=u.length){const v=a(u,f,m,h-1);return v>m&&r(u[v-1],f)>-r(u[v],f)?v-1:v}return{left:a,center:c,right:s}}function TW(){return 0}function PP(e){return e===null?NaN:+e}function*PW(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const IW=ew($s),Fd=IW.right;ew(PP).center;class fk extends Map{constructor(t,n=zW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(mk(this,t))}has(t){return super.has(mk(this,t))}set(t,n){return super.set(RW(this,t),n)}delete(t){return super.delete(LW(this,t))}}function mk({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function RW({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function LW({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function zW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function FW(e=$s){if(e===$s)return IP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function IP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const BW=Math.sqrt(50),$W=Math.sqrt(10),qW=Math.sqrt(2);function th(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),c=s>=BW?10:s>=$W?5:s>=qW?2:1;let u,f,m;return a<0?(m=Math.pow(10,-a)/c,u=Math.round(e*m),f=Math.round(t*m),u/m<e&&++u,f/m>t&&--f,m=-m):(m=Math.pow(10,a)*c,u=Math.round(e/m),f=Math.round(t/m),u*m<e&&++u,f*m>t&&--f),f<u&&.5<=n&&n<2?th(e,t,n*2):[u,f,m]}function Py(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,s,c]=r?th(t,e,n):th(e,t,n);if(!(s>=a))return[];const u=s-a+1,f=new Array(u);if(r)if(c<0)for(let m=0;m<u;++m)f[m]=(s-m)/-c;else for(let m=0;m<u;++m)f[m]=(s-m)*c;else if(c<0)for(let m=0;m<u;++m)f[m]=(a+m)/-c;else for(let m=0;m<u;++m)f[m]=(a+m)*c;return f}function Iy(e,t,n){return t=+t,e=+e,n=+n,th(e,t,n)[2]}function Ry(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Iy(t,e,n):Iy(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function pk(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function hk(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function RP(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?IP:FW(a);r>n;){if(r-n>600){const f=r-n+1,m=t-n+1,h=Math.log(f),v=.5*Math.exp(2*h/3),x=.5*Math.sqrt(h*v*(f-v)/f)*(m-f/2<0?-1:1),b=Math.max(n,Math.floor(t-m*v/f+x)),S=Math.min(r,Math.floor(t+(f-m)*v/f+x));RP(e,t,b,S,a)}const s=e[t];let c=n,u=r;for(Hu(e,n,t),a(e[r],s)>0&&Hu(e,n,r);c<u;){for(Hu(e,c,u),++c,--u;a(e[c],s)<0;)++c;for(;a(e[u],s)>0;)--u}a(e[n],s)===0?Hu(e,n,u):(++u,Hu(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function Hu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function HW(e,t,n){if(e=Float64Array.from(PW(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return hk(e);if(t>=1)return pk(e);var r,a=(r-1)*t,s=Math.floor(a),c=pk(RP(e,s).subarray(0,s+1)),u=hk(e.subarray(s+1));return c+(u-c)*(a-s)}}function UW(e,t,n=PP){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,s=Math.floor(a),c=+n(e[s],s,e),u=+n(e[s+1],s+1,e);return c+(u-c)*(a-s)}}function YW(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(a);++r<a;)s[r]=e+r*n;return s}function ua(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function as(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ly=Symbol("implicit");function tw(){var e=new fk,t=[],n=[],r=Ly;function a(s){let c=e.get(s);if(c===void 0){if(r!==Ly)return r;e.set(s,c=t.push(s)-1)}return n[c%n.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new fk;for(const c of s)e.has(c)||e.set(c,t.push(c)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return tw(t,n).unknown(r)},ua.apply(a,arguments),a}function rw(){var e=tw().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,s,c,u=!1,f=0,m=0,h=.5;delete e.unknown;function v(){var x=t().length,b=a<r,S=b?a:r,w=b?r:a;s=(w-S)/Math.max(1,x-f+m*2),u&&(s=Math.floor(s)),S+=(w-S-s*(x-f))*h,c=s*(1-f),u&&(S=Math.round(S),c=Math.round(c));var y=YW(x).map(function(C){return S+s*C});return n(b?y.reverse():y)}return e.domain=function(x){return arguments.length?(t(x),v()):t()},e.range=function(x){return arguments.length?([r,a]=x,r=+r,a=+a,v()):[r,a]},e.rangeRound=function(x){return[r,a]=x,r=+r,a=+a,u=!0,v()},e.bandwidth=function(){return c},e.step=function(){return s},e.round=function(x){return arguments.length?(u=!!x,v()):u},e.padding=function(x){return arguments.length?(f=Math.min(1,m=+x),v()):f},e.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),v()):f},e.paddingOuter=function(x){return arguments.length?(m=+x,v()):m},e.align=function(x){return arguments.length?(h=Math.max(0,Math.min(1,x)),v()):h},e.copy=function(){return rw(t(),[r,a]).round(u).paddingInner(f).paddingOuter(m).align(h)},ua.apply(v(),arguments)}function LP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return LP(t())},e}function VW(){return LP(rw.apply(null,arguments).paddingInner(1))}function nw(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function zP(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Bd(){}var xd=.7,rh=1/xd,ac="\\s*([+-]?\\d+)\\s*",gd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ai="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",GW=/^#([0-9a-f]{3,8})$/,KW=new RegExp(`^rgb\\(${ac},${ac},${ac}\\)$`),WW=new RegExp(`^rgb\\(${ai},${ai},${ai}\\)$`),QW=new RegExp(`^rgba\\(${ac},${ac},${ac},${gd}\\)$`),XW=new RegExp(`^rgba\\(${ai},${ai},${ai},${gd}\\)$`),ZW=new RegExp(`^hsl\\(${gd},${ai},${ai}\\)$`),JW=new RegExp(`^hsla\\(${gd},${ai},${ai},${gd}\\)$`),vk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nw(Bd,bd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xk,formatHex:xk,formatHex8:eQ,formatHsl:tQ,formatRgb:gk,toString:gk});function xk(){return this.rgb().formatHex()}function eQ(){return this.rgb().formatHex8()}function tQ(){return FP(this).formatHsl()}function gk(){return this.rgb().formatRgb()}function bd(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=GW.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?bk(t):n===3?new wn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Pm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Pm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=KW.exec(e))?new wn(t[1],t[2],t[3],1):(t=WW.exec(e))?new wn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=QW.exec(e))?Pm(t[1],t[2],t[3],t[4]):(t=XW.exec(e))?Pm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ZW.exec(e))?jk(t[1],t[2]/100,t[3]/100,1):(t=JW.exec(e))?jk(t[1],t[2]/100,t[3]/100,t[4]):vk.hasOwnProperty(e)?bk(vk[e]):e==="transparent"?new wn(NaN,NaN,NaN,0):null}function bk(e){return new wn(e>>16&255,e>>8&255,e&255,1)}function Pm(e,t,n,r){return r<=0&&(e=t=n=NaN),new wn(e,t,n,r)}function rQ(e){return e instanceof Bd||(e=bd(e)),e?(e=e.rgb(),new wn(e.r,e.g,e.b,e.opacity)):new wn}function zy(e,t,n,r){return arguments.length===1?rQ(e):new wn(e,t,n,r??1)}function wn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}nw(wn,zy,zP(Bd,{brighter(e){return e=e==null?rh:Math.pow(rh,e),new wn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xd:Math.pow(xd,e),new wn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wn(ql(this.r),ql(this.g),ql(this.b),nh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yk,formatHex:yk,formatHex8:nQ,formatRgb:wk,toString:wk}));function yk(){return`#${Ll(this.r)}${Ll(this.g)}${Ll(this.b)}`}function nQ(){return`#${Ll(this.r)}${Ll(this.g)}${Ll(this.b)}${Ll((isNaN(this.opacity)?1:this.opacity)*255)}`}function wk(){const e=nh(this.opacity);return`${e===1?"rgb(":"rgba("}${ql(this.r)}, ${ql(this.g)}, ${ql(this.b)}${e===1?")":`, ${e})`}`}function nh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ql(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ll(e){return e=ql(e),(e<16?"0":"")+e.toString(16)}function jk(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ba(e,t,n,r)}function FP(e){if(e instanceof ba)return new ba(e.h,e.s,e.l,e.opacity);if(e instanceof Bd||(e=bd(e)),!e)return new ba;if(e instanceof ba)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),c=NaN,u=s-a,f=(s+a)/2;return u?(t===s?c=(n-r)/u+(n<r)*6:n===s?c=(r-t)/u+2:c=(t-n)/u+4,u/=f<.5?s+a:2-s-a,c*=60):u=f>0&&f<1?0:c,new ba(c,u,f,e.opacity)}function aQ(e,t,n,r){return arguments.length===1?FP(e):new ba(e,t,n,r??1)}function ba(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}nw(ba,aQ,zP(Bd,{brighter(e){return e=e==null?rh:Math.pow(rh,e),new ba(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xd:Math.pow(xd,e),new ba(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new wn(xb(e>=240?e-240:e+120,a,r),xb(e,a,r),xb(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new ba(Nk(this.h),Im(this.s),Im(this.l),nh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nh(this.opacity);return`${e===1?"hsl(":"hsla("}${Nk(this.h)}, ${Im(this.s)*100}%, ${Im(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Nk(e){return e=(e||0)%360,e<0?e+360:e}function Im(e){return Math.max(0,Math.min(1,e||0))}function xb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const aw=e=>()=>e;function iQ(e,t){return function(n){return e+n*t}}function sQ(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function lQ(e){return(e=+e)==1?BP:function(t,n){return n-t?sQ(t,n,e):aw(isNaN(t)?n:t)}}function BP(e,t){var n=t-e;return n?iQ(e,n):aw(isNaN(e)?t:e)}const Sk=(function e(t){var n=lQ(t);function r(a,s){var c=n((a=zy(a)).r,(s=zy(s)).r),u=n(a.g,s.g),f=n(a.b,s.b),m=BP(a.opacity,s.opacity);return function(h){return a.r=c(h),a.g=u(h),a.b=f(h),a.opacity=m(h),a+""}}return r.gamma=e,r})(1);function oQ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=e[a]*(1-s)+t[a]*s;return r}}function cQ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function uQ(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),s=new Array(n),c;for(c=0;c<r;++c)a[c]=kc(e[c],t[c]);for(;c<n;++c)s[c]=t[c];return function(u){for(c=0;c<r;++c)s[c]=a[c](u);return s}}function dQ(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ah(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function fQ(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=kc(e[a],t[a]):r[a]=t[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var Fy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gb=new RegExp(Fy.source,"g");function mQ(e){return function(){return e}}function pQ(e){return function(t){return e(t)+""}}function hQ(e,t){var n=Fy.lastIndex=gb.lastIndex=0,r,a,s,c=-1,u=[],f=[];for(e=e+"",t=t+"";(r=Fy.exec(e))&&(a=gb.exec(t));)(s=a.index)>n&&(s=t.slice(n,s),u[c]?u[c]+=s:u[++c]=s),(r=r[0])===(a=a[0])?u[c]?u[c]+=a:u[++c]=a:(u[++c]=null,f.push({i:c,x:ah(r,a)})),n=gb.lastIndex;return n<t.length&&(s=t.slice(n),u[c]?u[c]+=s:u[++c]=s),u.length<2?f[0]?pQ(f[0].x):mQ(t):(t=f.length,function(m){for(var h=0,v;h<t;++h)u[(v=f[h]).i]=v.x(m);return u.join("")})}function kc(e,t){var n=typeof t,r;return t==null||n==="boolean"?aw(t):(n==="number"?ah:n==="string"?(r=bd(t))?(t=r,Sk):hQ:t instanceof bd?Sk:t instanceof Date?dQ:cQ(t)?oQ:Array.isArray(t)?uQ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?fQ:ah)(e,t)}function iw(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function vQ(e,t){t===void 0&&(t=e,e=kc);for(var n=0,r=t.length-1,a=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(a,a=t[++n]);return function(c){var u=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return s[u](c-u)}}function xQ(e){return function(){return e}}function ih(e){return+e}var Ck=[0,1];function rn(e){return e}function By(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:xQ(isNaN(t)?NaN:.5)}function gQ(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function bQ(e,t,n){var r=e[0],a=e[1],s=t[0],c=t[1];return a<r?(r=By(a,r),s=n(c,s)):(r=By(r,a),s=n(s,c)),function(u){return s(r(u))}}function yQ(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),s=new Array(r),c=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<r;)a[c]=By(e[c],e[c+1]),s[c]=n(t[c],t[c+1]);return function(u){var f=Fd(e,u,1,r)-1;return s[f](a[f](u))}}function $d(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function sv(){var e=Ck,t=Ck,n=kc,r,a,s,c=rn,u,f,m;function h(){var x=Math.min(e.length,t.length);return c!==rn&&(c=gQ(e[0],e[x-1])),u=x>2?yQ:bQ,f=m=null,v}function v(x){return x==null||isNaN(x=+x)?s:(f||(f=u(e.map(r),t,n)))(r(c(x)))}return v.invert=function(x){return c(a((m||(m=u(t,e.map(r),ah)))(x)))},v.domain=function(x){return arguments.length?(e=Array.from(x,ih),h()):e.slice()},v.range=function(x){return arguments.length?(t=Array.from(x),h()):t.slice()},v.rangeRound=function(x){return t=Array.from(x),n=iw,h()},v.clamp=function(x){return arguments.length?(c=x?!0:rn,h()):c!==rn},v.interpolate=function(x){return arguments.length?(n=x,h()):n},v.unknown=function(x){return arguments.length?(s=x,v):s},function(x,b){return r=x,a=b,h()}}function sw(){return sv()(rn,rn)}function wQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function sh(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function bc(e){return e=sh(Math.abs(e)),e?e[1]:NaN}function jQ(e,t){return function(n,r){for(var a=n.length,s=[],c=0,u=e[0],f=0;a>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),s.push(n.substring(a-=u,a+u)),!((f+=u+1)>r));)u=e[c=(c+1)%e.length];return s.reverse().join(t)}}function NQ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var SQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yd(e){if(!(t=SQ.exec(e)))throw new Error("invalid format: "+e);var t;return new lw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yd.prototype=lw.prototype;function lw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}lw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function CQ(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var lh;function AQ(e,t){var n=sh(e,t);if(!n)return lh=void 0,e.toPrecision(t);var r=n[0],a=n[1],s=a-(lh=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=r.length;return s===c?r:s>c?r+new Array(s-c+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+sh(e,Math.max(0,t+s-1))[0]}function Ak(e,t){var n=sh(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const Mk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:wQ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ak(e*100,t),r:Ak,s:AQ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Dk(e){return e}var kk=Array.prototype.map,Ek=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function MQ(e){var t=e.grouping===void 0||e.thousands===void 0?Dk:jQ(kk.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Dk:NQ(kk.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(v,x){v=yd(v);var b=v.fill,S=v.align,w=v.sign,y=v.symbol,C=v.zero,M=v.width,A=v.comma,_=v.precision,E=v.trim,T=v.type;T==="n"?(A=!0,T="g"):Mk[T]||(_===void 0&&(_=12),E=!0,T="g"),(C||b==="0"&&S==="=")&&(C=!0,b="0",S="=");var P=(x&&x.prefix!==void 0?x.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():""),O=(y==="$"?r:/[%p]/.test(T)?c:"")+(x&&x.suffix!==void 0?x.suffix:""),L=Mk[T],R=/[defgprs%]/.test(T);_=_===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function B(k){var K=P,W=O,Z,$,G;if(T==="c")W=L(k)+W,k="";else{k=+k;var z=k<0||1/k<0;if(k=isNaN(k)?f:L(Math.abs(k),_),E&&(k=CQ(k)),z&&+k==0&&w!=="+"&&(z=!1),K=(z?w==="("?w:u:w==="-"||w==="("?"":w)+K,W=(T==="s"&&!isNaN(k)&&lh!==void 0?Ek[8+lh/3]:"")+W+(z&&w==="("?")":""),R){for(Z=-1,$=k.length;++Z<$;)if(G=k.charCodeAt(Z),48>G||G>57){W=(G===46?a+k.slice(Z+1):k.slice(Z))+W,k=k.slice(0,Z);break}}}A&&!C&&(k=t(k,1/0));var re=K.length+k.length+W.length,he=re<M?new Array(M-re+1).join(b):"";switch(A&&C&&(k=t(he+k,he.length?M-W.length:1/0),he=""),S){case"<":k=K+k+W+he;break;case"=":k=K+he+k+W;break;case"^":k=he.slice(0,re=he.length>>1)+K+k+W+he.slice(re);break;default:k=he+K+k+W;break}return s(k)}return B.toString=function(){return v+""},B}function h(v,x){var b=Math.max(-8,Math.min(8,Math.floor(bc(x)/3)))*3,S=Math.pow(10,-b),w=m((v=yd(v),v.type="f",v),{suffix:Ek[8+b/3]});return function(y){return w(S*y)}}return{format:m,formatPrefix:h}}var Rm,ow,$P;DQ({thousands:",",grouping:[3],currency:["$",""]});function DQ(e){return Rm=MQ(e),ow=Rm.format,$P=Rm.formatPrefix,Rm}function kQ(e){return Math.max(0,-bc(Math.abs(e)))}function EQ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bc(t)/3)))*3-bc(Math.abs(e)))}function _Q(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bc(t)-bc(e))+1}function qP(e,t,n,r){var a=Ry(e,t,n),s;switch(r=yd(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=EQ(a,c))&&(r.precision=s),$P(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=_Q(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=kQ(a))&&(r.precision=s-(r.type==="%")*2);break}}return ow(r)}function Xs(e){var t=e.domain;return e.ticks=function(n){var r=t();return Py(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return qP(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,s=r.length-1,c=r[a],u=r[s],f,m,h=10;for(u<c&&(m=c,c=u,u=m,m=a,a=s,s=m);h-- >0;){if(m=Iy(c,u,n),m===f)return r[a]=c,r[s]=u,t(r);if(m>0)c=Math.floor(c/m)*m,u=Math.ceil(u/m)*m;else if(m<0)c=Math.ceil(c*m)/m,u=Math.floor(u*m)/m;else break;f=m}return e},e}function HP(){var e=sw();return e.copy=function(){return $d(e,HP())},ua.apply(e,arguments),Xs(e)}function UP(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,ih),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return UP(e).unknown(t)},e=arguments.length?Array.from(e,ih):[0,1],Xs(n)}function YP(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],s=e[r],c;return s<a&&(c=n,n=r,r=c,c=a,a=s,s=c),e[n]=t.floor(a),e[r]=t.ceil(s),e}function _k(e){return Math.log(e)}function Ok(e){return Math.exp(e)}function OQ(e){return-Math.log(-e)}function TQ(e){return-Math.exp(-e)}function PQ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function IQ(e){return e===10?PQ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function RQ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Tk(e){return(t,n)=>-e(-t,n)}function cw(e){const t=e(_k,Ok),n=t.domain;let r=10,a,s;function c(){return a=RQ(r),s=IQ(r),n()[0]<0?(a=Tk(a),s=Tk(s),e(OQ,TQ)):e(_k,Ok),t}return t.base=function(u){return arguments.length?(r=+u,c()):r},t.domain=function(u){return arguments.length?(n(u),c()):n()},t.ticks=u=>{const f=n();let m=f[0],h=f[f.length-1];const v=h<m;v&&([m,h]=[h,m]);let x=a(m),b=a(h),S,w;const y=u==null?10:+u;let C=[];if(!(r%1)&&b-x<y){if(x=Math.floor(x),b=Math.ceil(b),m>0){for(;x<=b;++x)for(S=1;S<r;++S)if(w=x<0?S/s(-x):S*s(x),!(w<m)){if(w>h)break;C.push(w)}}else for(;x<=b;++x)for(S=r-1;S>=1;--S)if(w=x>0?S/s(-x):S*s(x),!(w<m)){if(w>h)break;C.push(w)}C.length*2<y&&(C=Py(m,h,y))}else C=Py(x,b,Math.min(b-x,y)).map(s);return v?C.reverse():C},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=yd(f)).precision==null&&(f.trim=!0),f=ow(f)),u===1/0)return f;const m=Math.max(1,r*u/t.ticks().length);return h=>{let v=h/s(Math.round(a(h)));return v*r<r-.5&&(v*=r),v<=m?f(h):""}},t.nice=()=>n(YP(n(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),t}function VP(){const e=cw(sv()).domain([1,10]);return e.copy=()=>$d(e,VP()).base(e.base()),ua.apply(e,arguments),e}function Pk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Ik(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function uw(e){var t=1,n=e(Pk(t),Ik(t));return n.constant=function(r){return arguments.length?e(Pk(t=+r),Ik(t)):t},Xs(n)}function GP(){var e=uw(sv());return e.copy=function(){return $d(e,GP()).constant(e.constant())},ua.apply(e,arguments)}function Rk(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function LQ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zQ(e){return e<0?-e*e:e*e}function dw(e){var t=e(rn,rn),n=1;function r(){return n===1?e(rn,rn):n===.5?e(LQ,zQ):e(Rk(n),Rk(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},Xs(t)}function fw(){var e=dw(sv());return e.copy=function(){return $d(e,fw()).exponent(e.exponent())},ua.apply(e,arguments),e}function FQ(){return fw.apply(null,arguments).exponent(.5)}function Lk(e){return Math.sign(e)*e*e}function BQ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function KP(){var e=sw(),t=[0,1],n=!1,r;function a(s){var c=BQ(e(s));return isNaN(c)?r:n?Math.round(c):c}return a.invert=function(s){return e.invert(Lk(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,ih)).map(Lk)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return KP(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},ua.apply(a,arguments),Xs(a)}function WP(){var e=[],t=[],n=[],r;function a(){var c=0,u=Math.max(1,t.length);for(n=new Array(u-1);++c<u;)n[c-1]=UW(e,c/u);return s}function s(c){return c==null||isNaN(c=+c)?r:t[Fd(n,c)]}return s.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},s.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort($s),a()},s.range=function(c){return arguments.length?(t=Array.from(c),a()):t.slice()},s.unknown=function(c){return arguments.length?(r=c,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return WP().domain(e).range(t).unknown(r)},ua.apply(s,arguments)}function QP(){var e=0,t=1,n=1,r=[.5],a=[0,1],s;function c(f){return f!=null&&f<=f?a[Fd(r,f,0,n)]:s}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},c.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,u()):a.slice()},c.invertExtent=function(f){var m=a.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,r[0]]:m>=n?[r[n-1],t]:[r[m-1],r[m]]},c.unknown=function(f){return arguments.length&&(s=f),c},c.thresholds=function(){return r.slice()},c.copy=function(){return QP().domain([e,t]).range(a).unknown(s)},ua.apply(Xs(c),arguments)}function XP(){var e=[.5],t=[0,1],n,r=1;function a(s){return s!=null&&s<=s?t[Fd(e,s,0,r)]:n}return a.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var c=t.indexOf(s);return[e[c-1],e[c]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return XP().domain(e).range(t).unknown(n)},ua.apply(a,arguments)}const bb=new Date,yb=new Date;function Dr(e,t,n,r){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const c=a(s),u=a.ceil(s);return s-c<u-s?c:u},a.offset=(s,c)=>(t(s=new Date(+s),c==null?1:Math.floor(c)),s),a.range=(s,c,u)=>{const f=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<c)||!(u>0))return f;let m;do f.push(m=new Date(+s)),t(s,u),e(s);while(m<s&&s<c);return f},a.filter=s=>Dr(c=>{if(c>=c)for(;e(c),!s(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!s(c););else for(;--u>=0;)for(;t(c,1),!s(c););}),n&&(a.count=(s,c)=>(bb.setTime(+s),yb.setTime(+c),e(bb),e(yb),Math.floor(n(bb,yb))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(r?c=>r(c)%s===0:c=>a.count(0,c)%s===0):a)),a}const oh=Dr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);oh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Dr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):oh);oh.range;const Ri=1e3,aa=Ri*60,Li=aa*60,Gi=Li*24,mw=Gi*7,zk=Gi*30,wb=Gi*365,zl=Dr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getUTCSeconds());zl.range;const pw=Dr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ri)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getMinutes());pw.range;const hw=Dr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getUTCMinutes());hw.range;const vw=Dr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ri-e.getMinutes()*aa)},(e,t)=>{e.setTime(+e+t*Li)},(e,t)=>(t-e)/Li,e=>e.getHours());vw.range;const xw=Dr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Li)},(e,t)=>(t-e)/Li,e=>e.getUTCHours());xw.range;const qd=Dr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*aa)/Gi,e=>e.getDate()-1);qd.range;const lv=Dr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gi,e=>e.getUTCDate()-1);lv.range;const ZP=Dr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gi,e=>Math.floor(e/Gi));ZP.range;function ro(e){return Dr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*aa)/mw)}const ov=ro(0),ch=ro(1),$Q=ro(2),qQ=ro(3),yc=ro(4),HQ=ro(5),UQ=ro(6);ov.range;ch.range;$Q.range;qQ.range;yc.range;HQ.range;UQ.range;function no(e){return Dr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/mw)}const cv=no(0),uh=no(1),YQ=no(2),VQ=no(3),wc=no(4),GQ=no(5),KQ=no(6);cv.range;uh.range;YQ.range;VQ.range;wc.range;GQ.range;KQ.range;const gw=Dr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());gw.range;const bw=Dr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());bw.range;const Ki=Dr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ki.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Dr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ki.range;const Wi=Dr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Wi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Dr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Wi.range;function JP(e,t,n,r,a,s){const c=[[zl,1,Ri],[zl,5,5*Ri],[zl,15,15*Ri],[zl,30,30*Ri],[s,1,aa],[s,5,5*aa],[s,15,15*aa],[s,30,30*aa],[a,1,Li],[a,3,3*Li],[a,6,6*Li],[a,12,12*Li],[r,1,Gi],[r,2,2*Gi],[n,1,mw],[t,1,zk],[t,3,3*zk],[e,1,wb]];function u(m,h,v){const x=h<m;x&&([m,h]=[h,m]);const b=v&&typeof v.range=="function"?v:f(m,h,v),S=b?b.range(m,+h+1):[];return x?S.reverse():S}function f(m,h,v){const x=Math.abs(h-m)/v,b=ew(([,,y])=>y).right(c,x);if(b===c.length)return e.every(Ry(m/wb,h/wb,v));if(b===0)return oh.every(Math.max(Ry(m,h,v),1));const[S,w]=c[x/c[b-1][2]<c[b][2]/x?b-1:b];return S.every(w)}return[u,f]}const[WQ,QQ]=JP(Wi,bw,cv,ZP,xw,hw),[XQ,ZQ]=JP(Ki,gw,ov,qd,vw,pw);function jb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Nb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Uu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function JQ(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,s=e.days,c=e.shortDays,u=e.months,f=e.shortMonths,m=Yu(a),h=Vu(a),v=Yu(s),x=Vu(s),b=Yu(c),S=Vu(c),w=Yu(u),y=Vu(u),C=Yu(f),M=Vu(f),A={a:G,A:z,b:re,B:he,c:null,d:Uk,e:Uk,f:jX,g:OX,G:PX,H:bX,I:yX,j:wX,L:e4,m:NX,M:SX,p:F,q:ne,Q:Gk,s:Kk,S:CX,u:AX,U:MX,V:DX,w:kX,W:EX,x:null,X:null,y:_X,Y:TX,Z:IX,"%":Vk},_={a:ve,A:be,b:Pe,B:Re,c:null,d:Yk,e:Yk,f:FX,g:WX,G:XX,H:RX,I:LX,j:zX,L:r4,m:BX,M:$X,p:Ne,q:_e,Q:Gk,s:Kk,S:qX,u:HX,U:UX,V:YX,w:VX,W:GX,x:null,X:null,y:KX,Y:QX,Z:ZX,"%":Vk},E={a:R,A:B,b:k,B:K,c:W,d:qk,e:qk,f:hX,g:$k,G:Bk,H:Hk,I:Hk,j:dX,L:pX,m:uX,M:fX,p:L,q:cX,Q:xX,s:gX,S:mX,u:aX,U:iX,V:sX,w:nX,W:lX,x:Z,X:$,y:$k,Y:Bk,Z:oX,"%":vX};A.x=T(n,A),A.X=T(r,A),A.c=T(t,A),_.x=T(n,_),_.X=T(r,_),_.c=T(t,_);function T(X,Se){return function(Be){var xe=[],et=-1,ge=0,He=X.length,Ze,dt,Ct;for(Be instanceof Date||(Be=new Date(+Be));++et<He;)X.charCodeAt(et)===37&&(xe.push(X.slice(ge,et)),(dt=Fk[Ze=X.charAt(++et)])!=null?Ze=X.charAt(++et):dt=Ze==="e"?" ":"0",(Ct=Se[Ze])&&(Ze=Ct(Be,dt)),xe.push(Ze),ge=et+1);return xe.push(X.slice(ge,et)),xe.join("")}}function P(X,Se){return function(Be){var xe=Uu(1900,void 0,1),et=O(xe,X,Be+="",0),ge,He;if(et!=Be.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(xe.s*1e3+("L"in xe?xe.L:0));if(Se&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+xe.p*12),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?(ge=Nb(Uu(xe.y,0,1)),He=ge.getUTCDay(),ge=He>4||He===0?uh.ceil(ge):uh(ge),ge=lv.offset(ge,(xe.V-1)*7),xe.y=ge.getUTCFullYear(),xe.m=ge.getUTCMonth(),xe.d=ge.getUTCDate()+(xe.w+6)%7):(ge=jb(Uu(xe.y,0,1)),He=ge.getDay(),ge=He>4||He===0?ch.ceil(ge):ch(ge),ge=qd.offset(ge,(xe.V-1)*7),xe.y=ge.getFullYear(),xe.m=ge.getMonth(),xe.d=ge.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),He="Z"in xe?Nb(Uu(xe.y,0,1)).getUTCDay():jb(Uu(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+xe.W*7-(He+5)%7:xe.w+xe.U*7-(He+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,Nb(xe)):jb(xe)}}function O(X,Se,Be,xe){for(var et=0,ge=Se.length,He=Be.length,Ze,dt;et<ge;){if(xe>=He)return-1;if(Ze=Se.charCodeAt(et++),Ze===37){if(Ze=Se.charAt(et++),dt=E[Ze in Fk?Se.charAt(et++):Ze],!dt||(xe=dt(X,Be,xe))<0)return-1}else if(Ze!=Be.charCodeAt(xe++))return-1}return xe}function L(X,Se,Be){var xe=m.exec(Se.slice(Be));return xe?(X.p=h.get(xe[0].toLowerCase()),Be+xe[0].length):-1}function R(X,Se,Be){var xe=b.exec(Se.slice(Be));return xe?(X.w=S.get(xe[0].toLowerCase()),Be+xe[0].length):-1}function B(X,Se,Be){var xe=v.exec(Se.slice(Be));return xe?(X.w=x.get(xe[0].toLowerCase()),Be+xe[0].length):-1}function k(X,Se,Be){var xe=C.exec(Se.slice(Be));return xe?(X.m=M.get(xe[0].toLowerCase()),Be+xe[0].length):-1}function K(X,Se,Be){var xe=w.exec(Se.slice(Be));return xe?(X.m=y.get(xe[0].toLowerCase()),Be+xe[0].length):-1}function W(X,Se,Be){return O(X,t,Se,Be)}function Z(X,Se,Be){return O(X,n,Se,Be)}function $(X,Se,Be){return O(X,r,Se,Be)}function G(X){return c[X.getDay()]}function z(X){return s[X.getDay()]}function re(X){return f[X.getMonth()]}function he(X){return u[X.getMonth()]}function F(X){return a[+(X.getHours()>=12)]}function ne(X){return 1+~~(X.getMonth()/3)}function ve(X){return c[X.getUTCDay()]}function be(X){return s[X.getUTCDay()]}function Pe(X){return f[X.getUTCMonth()]}function Re(X){return u[X.getUTCMonth()]}function Ne(X){return a[+(X.getUTCHours()>=12)]}function _e(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var Se=T(X+="",A);return Se.toString=function(){return X},Se},parse:function(X){var Se=P(X+="",!1);return Se.toString=function(){return X},Se},utcFormat:function(X){var Se=T(X+="",_);return Se.toString=function(){return X},Se},utcParse:function(X){var Se=P(X+="",!0);return Se.toString=function(){return X},Se}}}var Fk={"-":"",_:" ",0:"0"},Rr=/^\s*\d+/,eX=/^%/,tX=/[\\^$*+?|[\]().{}]/g;function jt(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(t)+a:a)}function rX(e){return e.replace(tX,"\\$&")}function Yu(e){return new RegExp("^(?:"+e.map(rX).join("|")+")","i")}function Vu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function nX(e,t,n){var r=Rr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function aX(e,t,n){var r=Rr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function iX(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function sX(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function lX(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Bk(e,t,n){var r=Rr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function $k(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function oX(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function cX(e,t,n){var r=Rr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function uX(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function qk(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function dX(e,t,n){var r=Rr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Hk(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function fX(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function mX(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function pX(e,t,n){var r=Rr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function hX(e,t,n){var r=Rr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vX(e,t,n){var r=eX.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function xX(e,t,n){var r=Rr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function gX(e,t,n){var r=Rr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Uk(e,t){return jt(e.getDate(),t,2)}function bX(e,t){return jt(e.getHours(),t,2)}function yX(e,t){return jt(e.getHours()%12||12,t,2)}function wX(e,t){return jt(1+qd.count(Ki(e),e),t,3)}function e4(e,t){return jt(e.getMilliseconds(),t,3)}function jX(e,t){return e4(e,t)+"000"}function NX(e,t){return jt(e.getMonth()+1,t,2)}function SX(e,t){return jt(e.getMinutes(),t,2)}function CX(e,t){return jt(e.getSeconds(),t,2)}function AX(e){var t=e.getDay();return t===0?7:t}function MX(e,t){return jt(ov.count(Ki(e)-1,e),t,2)}function t4(e){var t=e.getDay();return t>=4||t===0?yc(e):yc.ceil(e)}function DX(e,t){return e=t4(e),jt(yc.count(Ki(e),e)+(Ki(e).getDay()===4),t,2)}function kX(e){return e.getDay()}function EX(e,t){return jt(ch.count(Ki(e)-1,e),t,2)}function _X(e,t){return jt(e.getFullYear()%100,t,2)}function OX(e,t){return e=t4(e),jt(e.getFullYear()%100,t,2)}function TX(e,t){return jt(e.getFullYear()%1e4,t,4)}function PX(e,t){var n=e.getDay();return e=n>=4||n===0?yc(e):yc.ceil(e),jt(e.getFullYear()%1e4,t,4)}function IX(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+jt(t/60|0,"0",2)+jt(t%60,"0",2)}function Yk(e,t){return jt(e.getUTCDate(),t,2)}function RX(e,t){return jt(e.getUTCHours(),t,2)}function LX(e,t){return jt(e.getUTCHours()%12||12,t,2)}function zX(e,t){return jt(1+lv.count(Wi(e),e),t,3)}function r4(e,t){return jt(e.getUTCMilliseconds(),t,3)}function FX(e,t){return r4(e,t)+"000"}function BX(e,t){return jt(e.getUTCMonth()+1,t,2)}function $X(e,t){return jt(e.getUTCMinutes(),t,2)}function qX(e,t){return jt(e.getUTCSeconds(),t,2)}function HX(e){var t=e.getUTCDay();return t===0?7:t}function UX(e,t){return jt(cv.count(Wi(e)-1,e),t,2)}function n4(e){var t=e.getUTCDay();return t>=4||t===0?wc(e):wc.ceil(e)}function YX(e,t){return e=n4(e),jt(wc.count(Wi(e),e)+(Wi(e).getUTCDay()===4),t,2)}function VX(e){return e.getUTCDay()}function GX(e,t){return jt(uh.count(Wi(e)-1,e),t,2)}function KX(e,t){return jt(e.getUTCFullYear()%100,t,2)}function WX(e,t){return e=n4(e),jt(e.getUTCFullYear()%100,t,2)}function QX(e,t){return jt(e.getUTCFullYear()%1e4,t,4)}function XX(e,t){var n=e.getUTCDay();return e=n>=4||n===0?wc(e):wc.ceil(e),jt(e.getUTCFullYear()%1e4,t,4)}function ZX(){return"+0000"}function Vk(){return"%"}function Gk(e){return+e}function Kk(e){return Math.floor(+e/1e3)}var Ho,a4,i4;JX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function JX(e){return Ho=JQ(e),a4=Ho.format,Ho.parse,i4=Ho.utcFormat,Ho.utcParse,Ho}function eZ(e){return new Date(e)}function tZ(e){return e instanceof Date?+e:+new Date(+e)}function yw(e,t,n,r,a,s,c,u,f,m){var h=sw(),v=h.invert,x=h.domain,b=m(".%L"),S=m(":%S"),w=m("%I:%M"),y=m("%I %p"),C=m("%a %d"),M=m("%b %d"),A=m("%B"),_=m("%Y");function E(T){return(f(T)<T?b:u(T)<T?S:c(T)<T?w:s(T)<T?y:r(T)<T?a(T)<T?C:M:n(T)<T?A:_)(T)}return h.invert=function(T){return new Date(v(T))},h.domain=function(T){return arguments.length?x(Array.from(T,tZ)):x().map(eZ)},h.ticks=function(T){var P=x();return e(P[0],P[P.length-1],T??10)},h.tickFormat=function(T,P){return P==null?E:m(P)},h.nice=function(T){var P=x();return(!T||typeof T.range!="function")&&(T=t(P[0],P[P.length-1],T??10)),T?x(YP(P,T)):h},h.copy=function(){return $d(h,yw(e,t,n,r,a,s,c,u,f,m))},h}function rZ(){return ua.apply(yw(XQ,ZQ,Ki,gw,ov,qd,vw,pw,zl,a4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nZ(){return ua.apply(yw(WQ,QQ,Wi,bw,cv,lv,xw,hw,zl,i4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function uv(){var e=0,t=1,n,r,a,s,c=rn,u=!1,f;function m(v){return v==null||isNaN(v=+v)?f:c(a===0?.5:(v=(s(v)-n)*a,u?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t]=v,n=s(e=+e),r=s(t=+t),a=n===r?0:1/(r-n),m):[e,t]},m.clamp=function(v){return arguments.length?(u=!!v,m):u},m.interpolator=function(v){return arguments.length?(c=v,m):c};function h(v){return function(x){var b,S;return arguments.length?([b,S]=x,c=v(b,S),m):[c(0),c(1)]}}return m.range=h(kc),m.rangeRound=h(iw),m.unknown=function(v){return arguments.length?(f=v,m):f},function(v){return s=v,n=v(e),r=v(t),a=n===r?0:1/(r-n),m}}function Zs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function s4(){var e=Xs(uv()(rn));return e.copy=function(){return Zs(e,s4())},as.apply(e,arguments)}function l4(){var e=cw(uv()).domain([1,10]);return e.copy=function(){return Zs(e,l4()).base(e.base())},as.apply(e,arguments)}function o4(){var e=uw(uv());return e.copy=function(){return Zs(e,o4()).constant(e.constant())},as.apply(e,arguments)}function ww(){var e=dw(uv());return e.copy=function(){return Zs(e,ww()).exponent(e.exponent())},as.apply(e,arguments)}function aZ(){return ww.apply(null,arguments).exponent(.5)}function c4(){var e=[],t=rn;function n(r){if(r!=null&&!isNaN(r=+r))return t((Fd(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort($s),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,s)=>HW(e,s/r))},n.copy=function(){return c4(t).domain(e)},as.apply(n,arguments)}function dv(){var e=0,t=.5,n=1,r=1,a,s,c,u,f,m=rn,h,v=!1,x;function b(w){return isNaN(w=+w)?x:(w=.5+((w=+h(w))-s)*(r*w<r*s?u:f),m(v?Math.max(0,Math.min(1,w)):w))}b.domain=function(w){return arguments.length?([e,t,n]=w,a=h(e=+e),s=h(t=+t),c=h(n=+n),u=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),r=s<a?-1:1,b):[e,t,n]},b.clamp=function(w){return arguments.length?(v=!!w,b):v},b.interpolator=function(w){return arguments.length?(m=w,b):m};function S(w){return function(y){var C,M,A;return arguments.length?([C,M,A]=y,m=vQ(w,[C,M,A]),b):[m(0),m(.5),m(1)]}}return b.range=S(kc),b.rangeRound=S(iw),b.unknown=function(w){return arguments.length?(x=w,b):x},function(w){return h=w,a=w(e),s=w(t),c=w(n),u=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),r=s<a?-1:1,b}}function u4(){var e=Xs(dv()(rn));return e.copy=function(){return Zs(e,u4())},as.apply(e,arguments)}function d4(){var e=cw(dv()).domain([.1,1,10]);return e.copy=function(){return Zs(e,d4()).base(e.base())},as.apply(e,arguments)}function f4(){var e=uw(dv());return e.copy=function(){return Zs(e,f4()).constant(e.constant())},as.apply(e,arguments)}function jw(){var e=dw(dv());return e.copy=function(){return Zs(e,jw()).exponent(e.exponent())},as.apply(e,arguments)}function iZ(){return jw.apply(null,arguments).exponent(.5)}const Ju=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rw,scaleDiverging:u4,scaleDivergingLog:d4,scaleDivergingPow:jw,scaleDivergingSqrt:iZ,scaleDivergingSymlog:f4,scaleIdentity:UP,scaleImplicit:Ly,scaleLinear:HP,scaleLog:VP,scaleOrdinal:tw,scalePoint:VW,scalePow:fw,scaleQuantile:WP,scaleQuantize:QP,scaleRadial:KP,scaleSequential:s4,scaleSequentialLog:l4,scaleSequentialPow:ww,scaleSequentialQuantile:c4,scaleSequentialSqrt:aZ,scaleSequentialSymlog:o4,scaleSqrt:FQ,scaleSymlog:GP,scaleThreshold:XP,scaleTime:rZ,scaleUtc:nZ,tickFormat:qP},Symbol.toStringTag,{value:"Module"}));var Js=e=>e.chartData,Nw=ie([Js],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),m4=(e,t,n,r)=>r?Nw(e):Js(e);function Qi(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Ft(t)&&Ft(n))return!0}return!1}function Wk(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function p4(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,s;if(Ft(n))a=n;else if(typeof n=="function")return;if(Ft(r))s=r;else if(typeof r=="function")return;var c=[a,s];if(Qi(c))return c}}function sZ(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Qi(r))return Wk(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,c,u;if(a==="auto")t!=null&&(c=Math.min(...t));else if(Qe(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[0]))}catch{}else if(typeof a=="string"&&iD.test(a)){var f=iD.exec(a);if(f==null||f[1]==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t?.[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if(Qe(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t?.[1]))}catch{}else if(typeof s=="string"&&sD.test(s)){var h=sD.exec(s);if(h==null||h[1]==null||t==null)u=void 0;else{var v=+h[1];u=t[1]+v}}else u=t?.[1];var x=[c,u];if(Qi(x))return t==null?x:Wk(x,t,n)}}}var Ec=1e9,lZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Cw,Zt=!0,oa="[DecimalError] ",Hl=oa+"Invalid argument: ",Sw=oa+"Exponent out of range: ",_c=Math.floor,El=Math.pow,oZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Rn,Tr=1e7,Vt=7,h4=9007199254740991,dh=_c(h4/Vt),Te={};Te.absoluteValue=Te.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Te.comparedTo=Te.cmp=function(e){var t,n,r,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Vt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Te.dividedBy=Te.div=function(e){return $i(this,new this.constructor(e))};Te.dividedToIntegerBy=Te.idiv=function(e){var t=this,n=t.constructor;return $t($i(t,new n(e),0,1),n.precision)};Te.equals=Te.eq=function(e){return!this.cmp(e)};Te.exponent=function(){return jr(this)};Te.greaterThan=Te.gt=function(e){return this.cmp(e)>0};Te.greaterThanOrEqualTo=Te.gte=function(e){return this.cmp(e)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(e){return this.cmp(e)<0};Te.lessThanOrEqualTo=Te.lte=function(e){return this.cmp(e)<1};Te.logarithm=Te.log=function(e){var t,n=this,r=n.constructor,a=r.precision,s=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Rn))throw Error(oa+"NaN");if(n.s<1)throw Error(oa+(n.s?"NaN":"-Infinity"));return n.eq(Rn)?new r(0):(Zt=!1,t=$i(wd(n,s),wd(e,s),s),Zt=!0,$t(t,a))};Te.minus=Te.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?g4(t,e):v4(t,(e.s=-e.s,e))};Te.modulo=Te.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(oa+"NaN");return n.s?(Zt=!1,t=$i(n,e,0,1).times(e),Zt=!0,n.minus(t)):$t(new r(n),a)};Te.naturalExponential=Te.exp=function(){return x4(this)};Te.naturalLogarithm=Te.ln=function(){return wd(this)};Te.negated=Te.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Te.plus=Te.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v4(t,e):g4(t,(e.s=-e.s,e))};Te.precision=Te.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Hl+e);if(t=jr(a)+1,r=a.d.length-1,n=r*Vt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Te.squareRoot=Te.sqrt=function(){var e,t,n,r,a,s,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(oa+"NaN")}for(e=jr(u),Zt=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=Ja(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=_c((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(a.toString()),n=f.precision,a=c=n+3;;)if(s=r,r=s.plus($i(u,s,c+2)).times(.5),Ja(s.d).slice(0,c)===(t=Ja(r.d)).slice(0,c)){if(t=t.slice(c-3,c+1),a==c&&t=="4999"){if($t(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(t!="9999")break;c+=4}return Zt=!0,$t(r,n)};Te.times=Te.mul=function(e){var t,n,r,a,s,c,u,f,m,h=this,v=h.constructor,x=h.d,b=(e=new v(e)).d;if(!h.s||!e.s)return new v(0);for(e.s*=h.s,n=h.e+e.e,f=x.length,m=b.length,f<m&&(s=x,x=b,b=s,c=f,f=m,m=c),s=[],c=f+m,r=c;r--;)s.push(0);for(r=m;--r>=0;){for(t=0,a=f+r;a>r;)u=s[a]+b[r]*x[a-r-1]+t,s[a--]=u%Tr|0,t=u/Tr|0;s[a]=(s[a]+t)%Tr|0}for(;!s[--c];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,Zt?$t(e,v.precision):e};Te.toDecimalPlaces=Te.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(si(e,0,Ec),t===void 0?t=r.rounding:si(t,0,8),$t(n,e+jr(n)+1,t))};Te.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Zl(r,!0):(si(e,0,Ec),t===void 0?t=a.rounding:si(t,0,8),r=$t(new a(r),e+1,t),n=Zl(r,!0,e+1)),n};Te.toFixed=function(e,t){var n,r,a=this,s=a.constructor;return e===void 0?Zl(a):(si(e,0,Ec),t===void 0?t=s.rounding:si(t,0,8),r=$t(new s(a),e+jr(a)+1,t),n=Zl(r.abs(),!1,e+jr(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Te.toInteger=Te.toint=function(){var e=this,t=e.constructor;return $t(new t(e),jr(e)+1,t.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(e){var t,n,r,a,s,c,u=this,f=u.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(Rn);if(u=new f(u),!u.s){if(e.s<1)throw Error(oa+"Infinity");return u}if(u.eq(Rn))return u;if(r=f.precision,e.eq(Rn))return $t(u,r);if(t=e.e,n=e.d.length-1,c=t>=n,s=u.s,c){if((n=h<0?-h:h)<=h4){for(a=new f(Rn),t=Math.ceil(r/Vt+4),Zt=!1;n%2&&(a=a.times(u),Xk(a.d,t)),n=_c(n/2),n!==0;)u=u.times(u),Xk(u.d,t);return Zt=!0,e.s<0?new f(Rn).div(a):$t(a,r)}}else if(s<0)throw Error(oa+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,Zt=!1,a=e.times(wd(u,r+m)),Zt=!0,a=x4(a),a.s=s,a};Te.toPrecision=function(e,t){var n,r,a=this,s=a.constructor;return e===void 0?(n=jr(a),r=Zl(a,n<=s.toExpNeg||n>=s.toExpPos)):(si(e,1,Ec),t===void 0?t=s.rounding:si(t,0,8),a=$t(new s(a),e,t),n=jr(a),r=Zl(a,e<=n||n<=s.toExpNeg,e)),r};Te.toSignificantDigits=Te.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(si(e,1,Ec),t===void 0?t=r.rounding:si(t,0,8)),$t(new r(n),e,t)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=jr(e),n=e.constructor;return Zl(e,t<=n.toExpNeg||t>=n.toExpPos)};function v4(e,t){var n,r,a,s,c,u,f,m,h=e.constructor,v=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Zt?$t(t,v):t;if(f=e.d,m=t.d,c=e.e,a=t.e,f=f.slice(),s=c-a,s){for(s<0?(r=f,s=-s,u=m.length):(r=m,a=c,u=f.length),c=Math.ceil(v/Vt),u=c>u?c+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=f.length,s=m.length,u-s<0&&(s=u,r=m,m=f,f=r),n=0;s;)n=(f[--s]=f[s]+m[s]+n)/Tr|0,f[s]%=Tr;for(n&&(f.unshift(n),++a),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=a,Zt?$t(t,v):t}function si(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Hl+e)}function Ja(e){var t,n,r,a=e.length-1,s="",c=e[0];if(a>0){for(s+=c,t=1;t<a;t++)r=e[t]+"",n=Vt-r.length,n&&(s+=Is(n)),s+=r;c=e[t],r=c+"",n=Vt-r.length,n&&(s+=Is(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var $i=(function(){function e(r,a){var s,c=0,u=r.length;for(r=r.slice();u--;)s=r[u]*a+c,r[u]=s%Tr|0,c=s/Tr|0;return c&&r.unshift(c),r}function t(r,a,s,c){var u,f;if(s!=c)f=s>c?1:-1;else for(u=f=0;u<s;u++)if(r[u]!=a[u]){f=r[u]>a[u]?1:-1;break}return f}function n(r,a,s){for(var c=0;s--;)r[s]-=c,c=r[s]<a[s]?1:0,r[s]=c*Tr+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,c){var u,f,m,h,v,x,b,S,w,y,C,M,A,_,E,T,P,O,L=r.constructor,R=r.s==a.s?1:-1,B=r.d,k=a.d;if(!r.s)return new L(r);if(!a.s)throw Error(oa+"Division by zero");for(f=r.e-a.e,P=k.length,E=B.length,b=new L(R),S=b.d=[],m=0;k[m]==(B[m]||0);)++m;if(k[m]>(B[m]||0)&&--f,s==null?M=s=L.precision:c?M=s+(jr(r)-jr(a))+1:M=s,M<0)return new L(0);if(M=M/Vt+2|0,m=0,P==1)for(h=0,k=k[0],M++;(m<E||h)&&M--;m++)A=h*Tr+(B[m]||0),S[m]=A/k|0,h=A%k|0;else{for(h=Tr/(k[0]+1)|0,h>1&&(k=e(k,h),B=e(B,h),P=k.length,E=B.length),_=P,w=B.slice(0,P),y=w.length;y<P;)w[y++]=0;O=k.slice(),O.unshift(0),T=k[0],k[1]>=Tr/2&&++T;do h=0,u=t(k,w,P,y),u<0?(C=w[0],P!=y&&(C=C*Tr+(w[1]||0)),h=C/T|0,h>1?(h>=Tr&&(h=Tr-1),v=e(k,h),x=v.length,y=w.length,u=t(v,w,x,y),u==1&&(h--,n(v,P<x?O:k,x))):(h==0&&(u=h=1),v=k.slice()),x=v.length,x<y&&v.unshift(0),n(w,v,y),u==-1&&(y=w.length,u=t(k,w,P,y),u<1&&(h++,n(w,P<y?O:k,y))),y=w.length):u===0&&(h++,w=[0]),S[m++]=h,u&&w[0]?w[y++]=B[_]||0:(w=[B[_]],y=1);while((_++<E||w[0]!==void 0)&&M--)}return S[0]||S.shift(),b.e=f,$t(b,c?s+jr(b)+1:s)}})();function x4(e,t){var n,r,a,s,c,u,f=0,m=0,h=e.constructor,v=h.precision;if(jr(e)>16)throw Error(Sw+jr(e));if(!e.s)return new h(Rn);for(Zt=!1,u=v,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(r=Math.log(El(2,m))/Math.LN10*2+5|0,u+=r,n=a=s=new h(Rn),h.precision=u;;){if(a=$t(a.times(e),u),n=n.times(++f),c=s.plus($i(a,n,u)),Ja(c.d).slice(0,u)===Ja(s.d).slice(0,u)){for(;m--;)s=$t(s.times(s),u);return h.precision=v,t==null?(Zt=!0,$t(s,v)):s}s=c}}function jr(e){for(var t=e.e*Vt,n=e.d[0];n>=10;n/=10)t++;return t}function Sb(e,t,n){if(t>e.LN10.sd())throw Zt=!0,n&&(e.precision=n),Error(oa+"LN10 precision limit exceeded");return $t(new e(e.LN10),t)}function Is(e){for(var t="";e--;)t+="0";return t}function wd(e,t){var n,r,a,s,c,u,f,m,h,v=1,x=10,b=e,S=b.d,w=b.constructor,y=w.precision;if(b.s<1)throw Error(oa+(b.s?"NaN":"-Infinity"));if(b.eq(Rn))return new w(0);if(t==null?(Zt=!1,m=y):m=t,b.eq(10))return t==null&&(Zt=!0),Sb(w,m);if(m+=x,w.precision=m,n=Ja(S),r=n.charAt(0),s=jr(b),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=Ja(b.d),r=n.charAt(0),v++;s=jr(b),r>1?(b=new w("0."+n),s++):b=new w(r+"."+n.slice(1))}else return f=Sb(w,m+2,y).times(s+""),b=wd(new w(r+"."+n.slice(1)),m-x).plus(f),w.precision=y,t==null?(Zt=!0,$t(b,y)):b;for(u=c=b=$i(b.minus(Rn),b.plus(Rn),m),h=$t(b.times(b),m),a=3;;){if(c=$t(c.times(h),m),f=u.plus($i(c,new w(a),m)),Ja(f.d).slice(0,m)===Ja(u.d).slice(0,m))return u=u.times(2),s!==0&&(u=u.plus(Sb(w,m+2,y).times(s+""))),u=$i(u,new w(v),m),w.precision=y,t==null?(Zt=!0,$t(u,y)):u;u=f,a+=2}}function Qk(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=_c(n/Vt),e.d=[],r=(n+1)%Vt,n<0&&(r+=Vt),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Vt;r<a;)e.d.push(+t.slice(r,r+=Vt));t=t.slice(r),r=Vt-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),Zt&&(e.e>dh||e.e<-dh))throw Error(Sw+n)}else e.s=0,e.e=0,e.d=[0];return e}function $t(e,t,n){var r,a,s,c,u,f,m,h,v=e.d;for(c=1,s=v[0];s>=10;s/=10)c++;if(r=t-c,r<0)r+=Vt,a=t,m=v[h=0];else{if(h=Math.ceil((r+1)/Vt),s=v.length,h>=s)return e;for(m=s=v[h],c=1;s>=10;s/=10)c++;r%=Vt,a=r-Vt+c}if(n!==void 0&&(s=El(10,c-a-1),u=m/s%10|0,f=t<0||v[h+1]!==void 0||m%s,f=n<4?(u||f)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?a>0?m/El(10,c-a):0:v[h-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return f?(s=jr(e),v.length=1,t=t-s-1,v[0]=El(10,(Vt-t%Vt)%Vt),e.e=_c(-t/Vt)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(r==0?(v.length=h,s=1,h--):(v.length=h+1,s=El(10,Vt-r),v[h]=a>0?(m/El(10,c-a)%El(10,a)|0)*s:0),f)for(;;)if(h==0){(v[0]+=s)==Tr&&(v[0]=1,++e.e);break}else{if(v[h]+=s,v[h]!=Tr)break;v[h--]=0,s=1}for(r=v.length;v[--r]===0;)v.pop();if(Zt&&(e.e>dh||e.e<-dh))throw Error(Sw+jr(e));return e}function g4(e,t){var n,r,a,s,c,u,f,m,h,v,x=e.constructor,b=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Zt?$t(t,b):t;if(f=e.d,v=t.d,r=t.e,m=e.e,f=f.slice(),c=m-r,c){for(h=c<0,h?(n=f,c=-c,u=v.length):(n=v,r=m,u=f.length),a=Math.max(Math.ceil(b/Vt),u)+2,c>a&&(c=a,n.length=1),n.reverse(),a=c;a--;)n.push(0);n.reverse()}else{for(a=f.length,u=v.length,h=a<u,h&&(u=a),a=0;a<u;a++)if(f[a]!=v[a]){h=f[a]<v[a];break}c=0}for(h&&(n=f,f=v,v=n,t.s=-t.s),u=f.length,a=v.length-u;a>0;--a)f[u++]=0;for(a=v.length;a>c;){if(f[--a]<v[a]){for(s=a;s&&f[--s]===0;)f[s]=Tr-1;--f[s],f[a]+=Tr}f[a]-=v[a]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,Zt?$t(t,b):t):new x(0)}function Zl(e,t,n){var r,a=jr(e),s=Ja(e.d),c=s.length;return t?(n&&(r=n-c)>0?s=s.charAt(0)+"."+s.slice(1)+Is(r):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Is(-a-1)+s,n&&(r=n-c)>0&&(s+=Is(r))):a>=c?(s+=Is(a+1-c),n&&(r=n-a-1)>0&&(s=s+"."+Is(r))):((r=a+1)<c&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-c)>0&&(a+1===c&&(s+="."),s+=Is(r))),e.s<0?"-"+s:s}function Xk(e,t){if(e.length>t)return e.length=t,!0}function b4(e){var t,n,r;function a(s){var c=this;if(!(c instanceof a))return new a(s);if(c.constructor=a,s instanceof a){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Hl+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return Qk(c,s.toString())}else if(typeof s!="string")throw Error(Hl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,oZ.test(s))Qk(c,s);else throw Error(Hl+s)}if(a.prototype=Te,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=b4,a.config=a.set=cZ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function cZ(e){if(!e||typeof e!="object")throw Error(oa+"Object expected");var t,n,r,a=["precision",1,Ec,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(_c(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(Hl+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Hl+n+": "+r);return this}var Cw=b4(lZ);Rn=new Cw(1);const _t=Cw;function y4(e){var t;return e===0?t=1:t=Math.floor(new _t(e).abs().log(10).toNumber())+1,t}function w4(e,t,n){for(var r=new _t(e),a=0,s=[];r.lt(t)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}var j4=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},N4=(e,t,n)=>{if(e.lte(0))return new _t(0);var r=y4(e.toNumber()),a=new _t(10).pow(r),s=e.div(a),c=r!==1?.05:.1,u=new _t(Math.ceil(s.div(c).toNumber())).add(n).mul(c),f=u.mul(a);return t?new _t(f.toNumber()):new _t(Math.ceil(f.toNumber()))},uZ=(e,t,n)=>{var r=new _t(1),a=new _t(e);if(!a.isint()&&n){var s=Math.abs(e);s<1?(r=new _t(10).pow(y4(e)-1),a=new _t(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new _t(Math.floor(e)))}else e===0?a=new _t(Math.floor((t-1)/2)):n||(a=new _t(Math.floor(e)));for(var c=Math.floor((t-1)/2),u=[],f=0;f<t;f++)u.push(a.add(new _t(f-c).mul(r)).toNumber());return u},S4=function(t,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new _t(0),tickMin:new _t(0),tickMax:new _t(0)};var c=N4(new _t(n).sub(t).div(r-1),a,s),u;t<=0&&n>=0?u=new _t(0):(u=new _t(t).add(n).div(2),u=u.sub(new _t(u).mod(c)));var f=Math.ceil(u.sub(t).div(c).toNumber()),m=Math.ceil(new _t(n).sub(u).div(c).toNumber()),h=f+m+1;return h>r?S4(t,n,r,a,s+1):(h<r&&(m=n>0?m+(r-h):m,f=n>0?f:f+(r-h)),{step:c,tickMin:u.sub(new _t(f).mul(c)),tickMax:u.add(new _t(m).mul(c))})},dZ=function(t){var[n,r]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),[u,f]=j4([n,r]);if(u===-1/0||f===1/0){var m=f===1/0?[u,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),f];return n>r?m.reverse():m}if(u===f)return uZ(u,a,s);var{step:h,tickMin:v,tickMax:x}=S4(u,f,c,s,0),b=w4(v,x.add(new _t(.1).mul(h)),h);return n>r?b.reverse():b},fZ=function(t,n){var[r,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,u]=j4([r,a]);if(c===-1/0||u===1/0)return[r,a];if(c===u)return[c];var f=Math.max(n,2),m=N4(new _t(u).sub(c).div(f-1),s,0),h=[...w4(new _t(c),new _t(u),m),u];return s===!1&&(h=h.map(v=>Math.round(v))),r>a?h.reverse():h},mZ=e=>e.rootProps.barCategoryGap,Hd=e=>e.rootProps.stackOffset,C4=e=>e.rootProps.reverseStackOrder,Aw=e=>e.options.chartName,Mw=e=>e.rootProps.syncId,A4=e=>e.rootProps.syncMethod,Dw=e=>e.options.eventEmitter,wa={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Nl={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},qa={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},fv=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function M4(e,t,n){if(n!=="auto")return n;if(e!=null)return Ws(e,t)?"category":"number"}function Zk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zk(Object(n),!0).forEach(function(r){pZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pZ(e,t,n){return(t=hZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hZ(e){var t=vZ(e,"string");return typeof t=="symbol"?t:t+""}function vZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jk={allowDataOverflow:Nl.allowDataOverflow,allowDecimals:Nl.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Nl.angleAxisId,includeHidden:!1,name:void 0,reversed:Nl.reversed,scale:Nl.scale,tick:Nl.tick,tickCount:void 0,ticks:void 0,type:Nl.type,unit:void 0},eE={allowDataOverflow:qa.allowDataOverflow,allowDecimals:qa.allowDecimals,allowDuplicatedCategory:qa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qa.radiusAxisId,includeHidden:qa.includeHidden,name:void 0,reversed:qa.reversed,scale:qa.scale,tick:qa.tick,tickCount:qa.tickCount,ticks:void 0,type:qa.type,unit:void 0},xZ=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},kw=ie([xZ,hP],(e,t)=>{var n;if(e!=null)return e;var r=(n=M4(t,"angleAxis",Jk.type))!==null&&n!==void 0?n:"category";return fh(fh({},Jk),{},{type:r})}),gZ=(e,t)=>e.polarAxis.radiusAxis[t],Ew=ie([gZ,hP],(e,t)=>{var n;if(e!=null)return e;var r=(n=M4(t,"radiusAxis",eE.type))!==null&&n!==void 0?n:"category";return fh(fh({},eE),{},{type:r})}),mv=e=>e.polarOptions,_w=ie([rs,ns,Ir],kP),D4=ie([mv,_w],(e,t)=>{if(e!=null)return Fn(e.innerRadius,t,0)}),k4=ie([mv,_w],(e,t)=>{if(e!=null)return Fn(e.outerRadius,t,t*.8)}),bZ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},E4=ie([mv],bZ);ie([kw,E4],fv);var _4=ie([_w,D4,k4],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ie([Ew,_4],fv);var O4=ie([er,mv,D4,k4,rs,ns],(e,t,n,r,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:c,cy:u,startAngle:f,endAngle:m}=t;return{cx:Fn(c,a,a/2),cy:Fn(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:m,clockWise:!1}}}),rr=(e,t)=>t,Ud=(e,t,n)=>n;function T4(e){return e?.id}function P4(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=n,c=new Map;return e.forEach(u=>{var f,m=(f=u.data)!==null&&f!==void 0?f:r;if(!(m==null||m.length===0)){var h=T4(u);m.forEach((v,x)=>{var b=s==null||a?x:String(or(v,s,null)),S=or(v,u.dataKey,0),w;c.has(b)?w=c.get(b):w={},Object.assign(w,{[h]:S}),c.set(b,w)})}}),Array.from(c.values())}function Ow(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var pv=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function hv(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function yZ(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Lr=e=>{var t=er(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Oc=e=>e.tooltip.settings.axisId;function wZ(e){if(e in Ju)return Ju[e]();var t="scale".concat(Od(e));if(t in Ju)return Ju[t]()}function tE(e){var t=e.ticks,n=e.bandwidth,r=e.range(),a=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:(function(s){function c(){return s.apply(this,arguments)}return c.toString=function(){return s.toString()},c})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(s){var c=a[0],u=a[1];return c<=u?s>=c&&s<=u:s>=u&&s<=c},bandwidth:n?()=>n.call(e):void 0,ticks:t?s=>t.call(e,s):void 0,map:(s,c)=>{var u=e(s);if(u!=null){if(e.bandwidth&&c!==null&&c!==void 0&&c.position){var f=e.bandwidth();switch(c.position){case"middle":u+=f/2;break;case"end":u+=f;break}}return u}}}}function rE(e,t,n){if(typeof e=="function")return tE(e.copy().domain(t).range(n));if(e!=null){var r=wZ(e);if(r!=null)return r.domain(t).range(n),tE(r)}}var I4=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Qi(t)){for(var n,r,a=0;a<t.length;a++){var s=t[a];Ft(s)&&((n===void 0||s<n)&&(n=s),(r===void 0||s>r)&&(r=s))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function nE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nE(Object(n),!0).forEach(function(r){jZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jZ(e,t,n){return(t=NZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NZ(e){var t=SZ(e,"string");return typeof t=="symbol"?t:t+""}function SZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $y=[0,"auto"],CZ={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},AZ=(e,t)=>e.cartesianAxis.xAxis[t],el=(e,t)=>{var n=AZ(e,t);return n??CZ},MZ={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:$y,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Rd},DZ=(e,t)=>e.cartesianAxis.yAxis[t],tl=(e,t)=>{var n=DZ(e,t);return n??MZ},kZ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Tw=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??kZ},ur=(e,t,n)=>{switch(t){case"xAxis":return el(e,n);case"yAxis":return tl(e,n);case"zAxis":return Tw(e,n);case"angleAxis":return kw(e,n);case"radiusAxis":return Ew(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},EZ=(e,t,n)=>{switch(t){case"xAxis":return el(e,n);case"yAxis":return tl(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Tc=(e,t,n)=>{switch(t){case"xAxis":return el(e,n);case"yAxis":return tl(e,n);case"angleAxis":return kw(e,n);case"radiusAxis":return Ew(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},R4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Pw(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var _Z=e=>e.graphicalItems.cartesianItems,OZ=ie([rr,Ud],Pw),Iw=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),Yd=ie([_Z,ur,OZ],Iw,{memoizeOptions:{resultEqualityCheck:hv}}),L4=ie([Yd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Ow)),z4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),TZ=ie([Yd],z4),Rw=e=>e.map(t=>t.data).filter(Boolean).flat(1),PZ=ie([Yd],Rw,{memoizeOptions:{resultEqualityCheck:hv}}),Lw=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},zw=ie([PZ,m4],Lw),Fw=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:or(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:or(a,r)}))):e.map(r=>({value:r})),vv=ie([zw,ur,Yd],Fw);function F4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function up(e){if(Yi(e)||e instanceof Date){var t=Number(e);if(Ft(t))return t}}function aE(e){if(Array.isArray(e)){var t=[up(e[0]),up(e[1])];return Qi(t)?t:void 0}var n=up(e);if(n!=null)return[n,n]}function Xi(e){return e.map(up).filter(Xa)}function IZ(e,t,n){return!n||typeof t!="number"||Ui(t)?[]:n.length?Xi(n.flatMap(r=>{var a=or(e,r.dataKey),s,c;if(Array.isArray(a)?[s,c]=a:s=c=a,!(!Ft(s)||!Ft(c)))return[t-s,t+c]})):[]}var kr=e=>{var t=Lr(e),n=Oc(e);return Tc(e,t,n)},Vd=ie([kr],e=>e?.dataKey),RZ=ie([L4,m4,kr],P4),B4=(e,t,n,r)=>{var a={},s=t.reduce((c,u)=>{if(u.stackId==null)return c;var f=c[u.stackId];return f==null&&(f=[]),f.push(u),c[u.stackId]=f,c},a);return Object.fromEntries(Object.entries(s).map(c=>{var[u,f]=c,m=r?[...f].reverse():f,h=m.map(T4);return[u,{stackedData:cG(e,h,n),graphicalItems:m}]}))},LZ=ie([RZ,L4,Hd,C4],B4),$4=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(r==null&&n!=="zAxis"){var c=fG(e,a,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},zZ=ie([ur],e=>e.allowDataOverflow),Bw=e=>{var t;if(e==null||!("domain"in e))return $y;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Xi(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:$y},$w=ie([ur],Bw),qw=ie([$w,zZ],p4),FZ=ie([LZ,Js,rr,qw],$4,{memoizeOptions:{resultEqualityCheck:pv}}),xv=e=>e.errorBars,BZ=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>F4(n,r)),ph=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var s=a.flat(),c=Math.min(...s),u=Math.max(...s);return[c,u]}},Hw=(e,t,n,r,a)=>{var s,c;if(n.length>0&&e.forEach(u=>{n.forEach(f=>{var m,h,v=(m=r[f.id])===null||m===void 0?void 0:m.filter(C=>F4(a,C)),x=or(u,(h=t.dataKey)!==null&&h!==void 0?h:f.dataKey),b=IZ(u,x,v);if(b.length>=2){var S=Math.min(...b),w=Math.max(...b);(s==null||S<s)&&(s=S),(c==null||w>c)&&(c=w)}var y=aE(x);y!=null&&(s=s==null?y[0]:Math.min(s,y[0]),c=c==null?y[1]:Math.max(c,y[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var f=aE(or(u,t.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),Ft(s)&&Ft(c))return[s,c]},$Z=ie([zw,ur,TZ,xv,rr],Hw,{memoizeOptions:{resultEqualityCheck:pv}});function qZ(e){var{value:t}=e;if(Yi(t)||t instanceof Date)return t}var HZ=(e,t,n)=>{var r=e.map(qZ).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&v5(r))?TP(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},q4=e=>e.referenceElements.dots,Pc=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),UZ=ie([q4,rr,Ud],Pc),H4=e=>e.referenceElements.areas,YZ=ie([H4,rr,Ud],Pc),U4=e=>e.referenceElements.lines,VZ=ie([U4,rr,Ud],Pc),Y4=(e,t)=>{if(e!=null){var n=Xi(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},GZ=ie(UZ,rr,Y4),V4=(e,t)=>{if(e!=null){var n=Xi(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},KZ=ie([YZ,rr],V4);function WZ(e){var t;if(e.x!=null)return Xi([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Xi(n)}function QZ(e){var t;if(e.y!=null)return Xi([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Xi(n)}var G4=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?WZ(r):QZ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},XZ=ie([VZ,rr],G4),ZZ=ie(GZ,XZ,KZ,(e,t,n)=>ph(e,n,t)),Uw=(e,t,n,r,a,s,c,u)=>{if(n!=null)return n;var f=c==="vertical"&&u==="xAxis"||c==="horizontal"&&u==="yAxis",m=f?ph(r,s,a):ph(s,a);return sZ(t,m,e.allowDataOverflow)},JZ=ie([ur,$w,qw,FZ,$Z,ZZ,er,rr],Uw,{memoizeOptions:{resultEqualityCheck:pv}}),eJ=[0,1],Yw=(e,t,n,r,a,s,c)=>{if(!((e==null||n==null||n.length===0)&&c===void 0)){var{dataKey:u,type:f}=e,m=Ws(t,s);if(m&&u==null){var h;return TP(0,(h=n?.length)!==null&&h!==void 0?h:0)}return f==="category"?HZ(r,e,m):a==="expand"?eJ:c}},Vw=ie([ur,er,zw,vv,Hd,rr,JZ],Yw);function tJ(e){return e in Ju}var K4=(e,t,n)=>{if(e!=null){var{scale:r,type:a}=e;if(r==="auto")return a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof r=="string"){var s="scale".concat(Od(r));return tJ(s)?s:"point"}}},rl=ie([ur,R4,Aw],K4);function Gw(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?rE(e.scale,n,r):rE(t,n,r)}var Kw=(e,t,n)=>{var r=Bw(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Qi(e))return dZ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Qi(e))return fZ(e,t.tickCount,t.allowDecimals)}},Ww=ie([Vw,Tc,rl],Kw),Qw=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Qi(t)&&Array.isArray(n)&&n.length>0){var a,s,c=t[0],u=(a=n[0])!==null&&a!==void 0?a:0,f=t[1],m=(s=n[n.length-1])!==null&&s!==void 0?s:0;return[Math.min(c,u),Math.max(f,m)]}return t},rJ=ie([ur,Vw,Ww,rr],Qw),nJ=ie(vv,ur,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Xi(e.map(v=>v.value))).sort((v,x)=>v-x),a=r[0],s=r[r.length-1];if(a==null||s==null)return 1/0;var c=s-a;if(c===0)return 1/0;for(var u=0;u<r.length-1;u++){var f=r[u],m=r[u+1];if(!(f==null||m==null)){var h=m-f;n=Math.min(n,h)}}return n/c}}),W4=ie(nJ,er,mZ,Ir,(e,t,n,r,a)=>a,(e,t,n,r,a)=>{if(!Ft(e))return 0;var s=t==="vertical"?r.height:r.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var c=Fn(n,e*s),u=e*s/2;return u-c-(u-c)/s*c}return 0}),aJ=(e,t,n)=>{var r=el(e,t);return r==null||typeof r.padding!="string"?0:W4(e,"xAxis",t,n,r.padding)},iJ=(e,t,n)=>{var r=tl(e,t);return r==null||typeof r.padding!="string"?0:W4(e,"yAxis",t,n,r.padding)},sJ=ie(el,aJ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),lJ=ie(tl,iJ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),oJ=ie([Ir,sJ,ev,Jh,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),cJ=ie([Ir,er,lJ,ev,Jh,(e,t,n)=>n],(e,t,n,r,a,s)=>{var{padding:c}=a;return s?[r.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Gd=(e,t,n,r)=>{var a;switch(t){case"xAxis":return oJ(e,n,r);case"yAxis":return cJ(e,n,r);case"zAxis":return(a=Tw(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return E4(e);case"radiusAxis":return _4(e,n);default:return}},Q4=ie([ur,Gd],fv),uJ=ie([rl,rJ],I4),gv=ie([ur,rl,uJ,Q4],Gw);ie([Yd,xv,rr],BZ);function X4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var bv=(e,t)=>t,yv=(e,t,n)=>n,dJ=ie(Xh,bv,yv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(X4)),fJ=ie(Zh,bv,yv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(X4)),Z4=(e,t)=>({width:e.width,height:t.height}),mJ=(e,t)=>{var n=typeof t.width=="number"?t.width:Rd;return{width:n,height:e.height}};ie(Ir,el,Z4);var pJ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},hJ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},vJ=ie(ns,Ir,dJ,bv,yv,(e,t,n,r,a)=>{var s={},c;return n.forEach(u=>{var f=Z4(t,u);c==null&&(c=pJ(t,r,e));var m=r==="top"&&!a||r==="bottom"&&a;s[u.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),s}),xJ=ie(rs,Ir,fJ,bv,yv,(e,t,n,r,a)=>{var s={},c;return n.forEach(u=>{var f=mJ(t,u);c==null&&(c=hJ(t,r,e));var m=r==="left"&&!a||r==="right"&&a;s[u.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),s}),gJ=(e,t)=>{var n=el(e,t);if(n!=null)return vJ(e,n.orientation,n.mirror)};ie([Ir,el,gJ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n?.[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}});var bJ=(e,t)=>{var n=tl(e,t);if(n!=null)return xJ(e,n.orientation,n.mirror)};ie([Ir,tl,bJ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n?.[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}});ie(Ir,tl,(e,t)=>{var n=typeof t.width=="number"?t.width:Rd;return{width:n,height:e.height}});var J4=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:s,dataKey:c}=n,u=Ws(e,r),f=t.map(m=>m.value);if(c&&u&&s==="category"&&a&&v5(f))return f}},Xw=ie([er,vv,ur,rr],J4),e3=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:s}=n,c=Ws(e,r);if(c&&(a==="number"||s!=="auto"))return t.map(u=>u.value)}},Zw=ie([er,vv,Tc,rr],e3);ie([er,EZ,rl,gv,Xw,Zw,Gd,Ww,rr],(e,t,n,r,a,s,c,u,f)=>{if(t!=null){var m=Ws(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:m,niceTicks:u,range:c,realScaleType:n,scale:r}}});var yJ=(e,t,n,r,a,s,c,u,f)=>{if(!(t==null||r==null)){var m=Ws(e,f),{type:h,ticks:v,tickCount:x}=t,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=h==="category"&&r.bandwidth?r.bandwidth()/b:0;S=f==="angleAxis"&&s!=null&&s.length>=2?yn(s[0]-s[1])*2*S:S;var w=v||a;return w?w.map((y,C)=>{var M=c?c.indexOf(y):y,A=r.map(M);return Ft(A)?{index:C,coordinate:A+S,value:y,offset:S}:null}).filter(Xa):m&&u?u.map((y,C)=>{var M=r.map(y);return Ft(M)?{coordinate:M+S,value:y,index:C,offset:S}:null}).filter(Xa):r.ticks?r.ticks(x).map((y,C)=>{var M=r.map(y);return Ft(M)?{coordinate:M+S,value:y,index:C,offset:S}:null}).filter(Xa):r.domain().map((y,C)=>{var M=r.map(y);return Ft(M)?{coordinate:M+S,value:c?c[y]:y,index:C,offset:S}:null}).filter(Xa)}};ie([er,Tc,rl,gv,Ww,Gd,Xw,Zw,rr],yJ);var wJ=(e,t,n,r,a,s,c)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=Ws(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&r?.length>=2?yn(r[0]-r[1])*2*m:m,u&&s?s.map((h,v)=>{var x=n.map(h);return Ft(x)?{coordinate:x+m,value:h,index:v,offset:m}:null}).filter(Xa):n.ticks?n.ticks(f).map((h,v)=>{var x=n.map(h);return Ft(x)?{coordinate:x+m,value:h,index:v,offset:m}:null}).filter(Xa):n.domain().map((h,v)=>{var x=n.map(h);return Ft(x)?{coordinate:x+m,value:a?a[h]:h,index:v,offset:m}:null}).filter(Xa)}};ie([er,Tc,gv,Gd,Xw,Zw,rr],wJ);ie(ur,gv,(e,t)=>{if(!(e==null||t==null))return mh(mh({},e),{},{scale:t})});var jJ=ie([ur,rl,Vw,Q4],Gw);ie((e,t,n)=>Tw(e,n),jJ,(e,t)=>{if(!(e==null||t==null))return mh(mh({},e),{},{scale:t})});var NJ=ie([er,Xh,Zh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),t3=e=>e.options.defaultTooltipEventType,r3=e=>e.options.validateTooltipEventTypes;function n3(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Jw(e,t){var n=t3(e),r=r3(e);return n3(t,n,r)}function SJ(e){return it(t=>Jw(t,e))}var a3=(e,t)=>{var n,r=Number(t);if(!(Ui(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},CJ=e=>e.tooltip.settings,Rs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},AJ={itemInteraction:{click:Rs,hover:Rs},axisInteraction:{click:Rs,hover:Rs},keyboardInteraction:Rs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},i3=Nn({name:"tooltip",initialState:AJ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Xt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,a=Sa(e).tooltipItemPayloads.indexOf(n);a>-1&&(e.tooltipItemPayloads[a]=r)},prepare:Xt()},removeTooltipEntrySettings:{reducer(e,t){var n=Sa(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Xt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:MJ,replaceTooltipEntrySettings:DJ,removeTooltipEntrySettings:kJ,setTooltipSettingsState:EJ,setActiveMouseOverItemIndex:s3,mouseLeaveItem:_J,mouseLeaveChart:l3,setActiveClickItemIndex:OJ,setMouseOverAxisIndex:o3,setMouseClickAxisIndex:TJ,setSyncInteraction:qy,setKeyboardInteraction:Hy}=i3.actions,PJ=i3.reducer;function iE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Lm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iE(Object(n),!0).forEach(function(r){IJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IJ(e,t,n){return(t=RJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RJ(e){var t=LJ(e,"string");return typeof t=="symbol"?t:t+""}function LJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zJ(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function FJ(e){return e.index!=null}var c3=(e,t,n,r)=>{if(t==null)return Rs;var a=zJ(e,t,n);if(a==null)return Rs;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(FJ(a)){if(s)return Lm(Lm({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Lm(Lm({},Rs),{},{coordinate:a.coordinate})};function BJ(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function $J(e,t){var n=BJ(e),r=t[0],a=t[1];if(n===void 0)return!1;var s=Math.min(r,a),c=Math.max(r,a);return n>=s&&n<=c}function qJ(e,t,n){if(n==null||t==null)return!0;var r=or(e,t);return r==null||!Qi(n)?!0:$J(r,n)}var ej=(e,t,n,r)=>{var a=e?.index;if(a==null)return null;var s=Number(a);if(!Ft(s))return a;var c=0,u=1/0;t.length>0&&(u=t.length-1);var f=Math.max(c,Math.min(s,u)),m=t[f];return m==null||qJ(m,n,r)?String(f):null},u3=(e,t,n,r,a,s,c)=>{if(s!=null){var u=c[0],f=u?.getPosition(s);if(f!=null)return f;var m=a?.[Number(s)];if(m)return n==="horizontal"?{x:m.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:m.coordinate}}},d3=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&r!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(c=>{var u;return((u=c.settings)===null||u===void 0?void 0:u.graphicalItemId)===a})},f3=e=>e.options.tooltipPayloadSearcher,Ic=e=>e.tooltip;function sE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sE(Object(n),!0).forEach(function(r){HJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HJ(e,t,n){return(t=UJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UJ(e){var t=YJ(e,"string");return typeof t=="symbol"?t:t+""}function YJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VJ(e,t){return e??t}var m3=(e,t,n,r,a,s,c)=>{if(!(t==null||s==null)){var{chartData:u,computedData:f,dataStartIndex:m,dataEndIndex:h}=n,v=[];return e.reduce((x,b)=>{var S,{dataDefinedOnItem:w,settings:y}=b,C=VJ(w,u),M=Array.isArray(C)?lP(C,m,h):C,A=(S=y?.dataKey)!==null&&S!==void 0?S:r,_=y?.nameKey,E;if(r&&Array.isArray(M)&&!Array.isArray(M[0])&&c==="axis"?E=HU(M,r,a):E=s(M,t,f,_),Array.isArray(E))E.forEach(P=>{var O=lE(lE({},y),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});x.push(oD({tooltipEntrySettings:O,dataKey:P.dataKey,payload:P.payload,value:or(P.payload,P.dataKey),name:P.name}))});else{var T;x.push(oD({tooltipEntrySettings:y,dataKey:A,payload:E,value:or(E,A),name:(T=or(E,_))!==null&&T!==void 0?T:y?.name}))}return x},v)}},tj=ie([kr,R4,Aw],K4),GJ=ie([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),KJ=ie([Lr,Oc],Pw),Rc=ie([GJ,kr,KJ],Iw,{memoizeOptions:{resultEqualityCheck:hv}}),WJ=ie([Rc],e=>e.filter(Ow)),QJ=ie([Rc],Rw,{memoizeOptions:{resultEqualityCheck:hv}}),Lc=ie([QJ,Js],Lw),XJ=ie([WJ,Js,kr],P4),rj=ie([Lc,kr,Rc],Fw),p3=ie([kr],Bw),ZJ=ie([kr],e=>e.allowDataOverflow),h3=ie([p3,ZJ],p4),JJ=ie([Rc],e=>e.filter(Ow)),eee=ie([XJ,JJ,Hd,C4],B4),tee=ie([eee,Js,Lr,h3],$4),ree=ie([Rc],z4),nee=ie([Lc,kr,ree,xv,Lr],Hw,{memoizeOptions:{resultEqualityCheck:pv}}),aee=ie([q4,Lr,Oc],Pc),iee=ie([aee,Lr],Y4),see=ie([H4,Lr,Oc],Pc),lee=ie([see,Lr],V4),oee=ie([U4,Lr,Oc],Pc),cee=ie([oee,Lr],G4),uee=ie([iee,cee,lee],ph),dee=ie([kr,p3,h3,tee,nee,uee,er,Lr],Uw),Kd=ie([kr,er,Lc,rj,Hd,Lr,dee],Yw),fee=ie([Kd,kr,tj],Kw),mee=ie([kr,Kd,fee,Lr],Qw),v3=e=>{var t=Lr(e),n=Oc(e),r=!1;return Gd(e,t,n,r)},x3=ie([kr,v3],fv),g3=ie([kr,tj,mee,x3],Gw),pee=ie([er,rj,kr,Lr],J4),hee=ie([er,rj,kr,Lr],e3),vee=(e,t,n,r,a,s,c,u)=>{if(t){var{type:f}=t,m=Ws(e,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,v=f==="category"&&r.bandwidth?r.bandwidth()/h:0;return v=u==="angleAxis"&&a!=null&&a?.length>=2?yn(a[0]-a[1])*2*v:v,m&&c?c.map((x,b)=>{var S=r.map(x);return Ft(S)?{coordinate:S+v,value:x,index:b,offset:v}:null}).filter(Xa):r.domain().map((x,b)=>{var S=r.map(x);return Ft(S)?{coordinate:S+v,value:s?s[x]:x,index:b,offset:v}:null}).filter(Xa)}}},is=ie([er,kr,tj,g3,v3,pee,hee,Lr],vee),nj=ie([t3,r3,CJ],(e,t,n)=>n3(n.shared,e,t)),b3=e=>e.tooltip.settings.trigger,aj=e=>e.tooltip.settings.defaultIndex,Wd=ie([Ic,nj,b3,aj],c3),jd=ie([Wd,Lc,Vd,Kd],ej),y3=ie([is,jd],a3),w3=ie([Wd],e=>{if(e)return e.dataKey}),xee=ie([Wd],e=>{if(e)return e.graphicalItemId}),j3=ie([Ic,nj,b3,aj],d3),gee=ie([rs,ns,er,Ir,is,aj,j3],u3),bee=ie([Wd,gee],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),yee=ie([Wd],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),wee=ie([j3,jd,Js,Vd,y3,f3,nj],m3);ie([wee],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function oE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(n),!0).forEach(function(r){jee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jee(e,t,n){return(t=Nee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nee(e){var t=See(e,"string");return typeof t=="symbol"?t:t+""}function See(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cee=()=>it(kr),Aee=()=>{var e=Cee(),t=it(is),n=it(g3);return lD(!e||!n?void 0:cE(cE({},e),{},{scale:n}),t)};function uE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Uo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(n),!0).forEach(function(r){Mee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mee(e,t,n){return(t=Dee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dee(e){var t=kee(e,"string");return typeof t=="symbol"?t:t+""}function kee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eee=(e,t,n,r)=>{var a=t.find(s=>s&&s.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},_ee=(e,t,n,r)=>{var a=t.find(m=>m&&m.index===n);if(a){if(e==="centric"){var s=a.coordinate,{radius:c}=r;return Uo(Uo(Uo({},r),wr(r.cx,r.cy,c,s)),{},{angle:s,radius:c})}var u=a.coordinate,{angle:f}=r;return Uo(Uo(Uo({},r),wr(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Oee(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var N3=(e,t,n,r,a)=>{var s,c=(s=t?.length)!==null&&s!==void 0?s:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<c;u++){var f,m,h,v,x,b=u>0?(f=n[u-1])===null||f===void 0?void 0:f.coordinate:(m=n[c-1])===null||m===void 0?void 0:m.coordinate,S=(h=n[u])===null||h===void 0?void 0:h.coordinate,w=u>=c-1?(v=n[0])===null||v===void 0?void 0:v.coordinate:(x=n[u+1])===null||x===void 0?void 0:x.coordinate,y=void 0;if(!(b==null||S==null||w==null))if(yn(S-b)!==yn(w-S)){var C=[];if(yn(w-S)===yn(a[1]-a[0])){y=w;var M=S+a[1]-a[0];C[0]=Math.min(M,(M+b)/2),C[1]=Math.max(M,(M+b)/2)}else{y=b;var A=w+a[1]-a[0];C[0]=Math.min(S,(A+S)/2),C[1]=Math.max(S,(A+S)/2)}var _=[Math.min(S,(y+S)/2),Math.max(S,(y+S)/2)];if(e>_[0]&&e<=_[1]||e>=C[0]&&e<=C[1]){var E;return(E=n[u])===null||E===void 0?void 0:E.index}}else{var T=Math.min(b,w),P=Math.max(b,w);if(e>(T+S)/2&&e<=(P+S)/2){var O;return(O=n[u])===null||O===void 0?void 0:O.index}}}else if(t)for(var L=0;L<c;L++){var R=t[L];if(R!=null){var B=t[L+1],k=t[L-1];if(L===0&&B!=null&&e<=(R.coordinate+B.coordinate)/2||L===c-1&&k!=null&&e>(R.coordinate+k.coordinate)/2||L>0&&L<c-1&&k!=null&&B!=null&&e>(R.coordinate+k.coordinate)/2&&e<=(R.coordinate+B.coordinate)/2)return R.index}}return-1},Tee=()=>it(Aw),ij=(e,t)=>t,S3=(e,t,n)=>n,sj=(e,t,n,r)=>r,Pee=ie(is,e=>$h(e,t=>t.coordinate)),lj=ie([Ic,ij,S3,sj],c3),oj=ie([lj,Lc,Vd,Kd],ej),Iee=(e,t,n)=>{if(t!=null){var r=Ic(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},C3=ie([Ic,ij,S3,sj],d3),hh=ie([rs,ns,er,Ir,is,sj,C3],u3),Ree=ie([lj,hh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),A3=ie([is,oj],a3),Lee=ie([C3,oj,Js,Vd,A3,f3,ij],m3),zee=ie([lj,oj],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Fee=(e,t,n,r,a,s,c)=>{if(!(!e||!n||!r||!a)&&Oee(e,c)){var u=mG(e,t),f=N3(u,s,a,n,r),m=Eee(t,a,f,e);return{activeIndex:String(f),activeCoordinate:m}}},Bee=(e,t,n,r,a,s,c)=>{if(!(!e||!r||!a||!s||!n)){var u=jW(e,n);if(u){var f=pG(u,t),m=N3(f,c,s,r,a),h=_ee(t,s,m,u);return{activeIndex:String(m),activeCoordinate:h}}}},$ee=(e,t,n,r,a,s,c,u)=>{if(!(!e||!t||!r||!a||!s))return t==="horizontal"||t==="vertical"?Fee(e,t,r,a,s,c,u):Bee(e,t,n,r,a,s,c)},qee=ie(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),Hee=ie(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(wa)),n=Array.from(new Set(t));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:yZ}});function dE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dE(Object(n),!0).forEach(function(r){Uee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uee(e,t,n){return(t=Yee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yee(e){var t=Vee(e,"string");return typeof t=="symbol"?t:t+""}function Vee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gee={},Kee={zIndexMap:Object.values(wa).reduce((e,t)=>fE(fE({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Gee)},Wee=new Set(Object.values(wa));function Qee(e){return Wee.has(e)}var M3=Nn({name:"zIndex",initialState:Kee,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Xt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Qee(n)&&delete e.zIndexMap[n])},prepare:Xt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:Xt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:Xt()}}}),{registerZIndexPortal:Xee,unregisterZIndexPortal:Zee,registerZIndexPortalElement:Jee,unregisterZIndexPortalElement:ete}=M3.actions,tte=M3.reducer;function Qd(e){var{zIndex:t,children:n}=e,r=KG(),a=r&&t!==void 0&&t!==0,s=Qs(),c=Mr();j.useLayoutEffect(()=>a?(c(Xee({zIndex:t})),()=>{c(Zee({zIndex:t}))}):Td,[c,t,a]);var u=it(f=>qee(f,t,s));return a?u?Ad.createPortal(n,u):null:n}function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uy.apply(null,arguments)}function mE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mE(Object(n),!0).forEach(function(r){rte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rte(e,t,n){return(t=nte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nte(e){var t=ate(e,"string");return typeof t=="symbol"?t:t+""}function ate(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ite(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return j.isValidElement(t)?j.cloneElement(t,r):j.createElement(n,r)}function ste(e){var t,{coordinate:n,payload:r,index:a,offset:s,tooltipAxisBandSize:c,layout:u,cursor:f,tooltipEventType:m,chartName:h}=e,v=n,x=r,b=a;if(!f||!v||h!=="ScatterChart"&&m!=="axis")return null;var S,w,y;if(h==="ScatterChart")S=v,w=RK,y=wa.cursorLine;else if(h==="BarChart")S=LK(u,v,s,c),w=DP,y=wa.cursorRectangle;else if(u==="radial"&&b5(v)){var{cx:C,cy:M,radius:A,startAngle:_,endAngle:E}=EP(v);S={cx:C,cy:M,startAngle:_,endAngle:E,innerRadius:A,outerRadius:A},w=OP,y=wa.cursorLine}else S={points:AW(u,v,s)},w=Q1,y=wa.cursorLine;var T=typeof f=="object"&&"className"in f?f.className:void 0,P=zm(zm(zm(zm({stroke:"#ccc",pointerEvents:"none"},s),S),ny(f)),{},{payload:x,payloadIndex:b,className:lt("recharts-tooltip-cursor",T)});return j.createElement(Qd,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},j.createElement(ite,{cursor:f,cursorComp:w,cursorProps:P}))}function lte(e){var t=Aee(),n=YG(),r=rv(),a=Tee();return t==null||n==null||r==null||a==null?null:j.createElement(ste,Uy({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var D3=j.createContext(null),ote=()=>j.useContext(D3),Cb={exports:{}},pE;function cte(){return pE||(pE=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function s(f,m,h,v,x){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new a(h,v||f,x),S=n?n+m:m;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],b]:f._events[S].push(b):(f._events[S]=b,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new r:delete f._events[m]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],h,v;if(this._eventsCount===0)return m;for(v in h=this._events)t.call(h,v)&&m.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},u.prototype.listeners=function(m){var h=n?n+m:m,v=this._events[h];if(!v)return[];if(v.fn)return[v.fn];for(var x=0,b=v.length,S=new Array(b);x<b;x++)S[x]=v[x].fn;return S},u.prototype.listenerCount=function(m){var h=n?n+m:m,v=this._events[h];return v?v.fn?1:v.length:0},u.prototype.emit=function(m,h,v,x,b,S){var w=n?n+m:m;if(!this._events[w])return!1;var y=this._events[w],C=arguments.length,M,A;if(y.fn){switch(y.once&&this.removeListener(m,y.fn,void 0,!0),C){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,h),!0;case 3:return y.fn.call(y.context,h,v),!0;case 4:return y.fn.call(y.context,h,v,x),!0;case 5:return y.fn.call(y.context,h,v,x,b),!0;case 6:return y.fn.call(y.context,h,v,x,b,S),!0}for(A=1,M=new Array(C-1);A<C;A++)M[A-1]=arguments[A];y.fn.apply(y.context,M)}else{var _=y.length,E;for(A=0;A<_;A++)switch(y[A].once&&this.removeListener(m,y[A].fn,void 0,!0),C){case 1:y[A].fn.call(y[A].context);break;case 2:y[A].fn.call(y[A].context,h);break;case 3:y[A].fn.call(y[A].context,h,v);break;case 4:y[A].fn.call(y[A].context,h,v,x);break;default:if(!M)for(E=1,M=new Array(C-1);E<C;E++)M[E-1]=arguments[E];y[A].fn.apply(y[A].context,M)}}return!0},u.prototype.on=function(m,h,v){return s(this,m,h,v,!1)},u.prototype.once=function(m,h,v){return s(this,m,h,v,!0)},u.prototype.removeListener=function(m,h,v,x){var b=n?n+m:m;if(!this._events[b])return this;if(!h)return c(this,b),this;var S=this._events[b];if(S.fn)S.fn===h&&(!x||S.once)&&(!v||S.context===v)&&c(this,b);else{for(var w=0,y=[],C=S.length;w<C;w++)(S[w].fn!==h||x&&!S[w].once||v&&S[w].context!==v)&&y.push(S[w]);y.length?this._events[b]=y.length===1?y[0]:y:c(this,b)}return this},u.prototype.removeAllListeners=function(m){var h;return m?(h=n?n+m:m,this._events[h]&&c(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(Cb)),Cb.exports}var ute=cte();const dte=li(ute);var Nd=new dte,Yy="recharts.syncEvent.tooltip",hE="recharts.syncEvent.brush",fte=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!Ui(n))return e[n]}},mte={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},k3=Nn({name:"options",initialState:mte,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),pte=k3.reducer,{createEventEmitter:hte}=k3.actions;function vte(e){return e.tooltip.syncInteraction}var xte={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},E3=Nn({name:"chartData",initialState:xte,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:vE,setDataStartEndIndexes:gte,setComputedData:$le}=E3.actions,bte=E3.reducer,yte=["x","y"];function xE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Yo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(n),!0).forEach(function(r){wte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wte(e,t,n){return(t=jte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jte(e){var t=Nte(e,"string");return typeof t=="symbol"?t:t+""}function Nte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ste(e,t){if(e==null)return{};var n,r,a=Cte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Cte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ate(){var e=it(Mw),t=it(Dw),n=Mr(),r=it(A4),a=it(is),s=rv(),c=tv(),u=it(f=>f.rootProps.className);j.useEffect(()=>{if(e==null)return Td;var f=(m,h,v)=>{if(t!==v&&e===m){if(r==="index"){var x;if(c&&h!==null&&h!==void 0&&(x=h.payload)!==null&&x!==void 0&&x.coordinate&&h.payload.sourceViewBox){var b=h.payload.coordinate,{x:S,y:w}=b,y=Ste(b,yte),{x:C,y:M,width:A,height:_}=h.payload.sourceViewBox,E=Yo(Yo({},y),{},{x:c.x+(A?(S-C)/A:0)*c.width,y:c.y+(_?(w-M)/_:0)*c.height});n(Yo(Yo({},h),{},{payload:Yo(Yo({},h.payload),{},{coordinate:E})}))}else n(h);return}if(a!=null){var T;if(typeof r=="function"){var P={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=r(a,P);T=a[O]}else r==="value"&&(T=a.find($=>String($.value)===h.payload.label));var{coordinate:L}=h.payload;if(T==null||h.payload.active===!1||L==null||c==null){n(qy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:R,y:B}=L,k=Math.min(R,c.x+c.width),K=Math.min(B,c.y+c.height),W={x:s==="horizontal"?T.coordinate:k,y:s==="horizontal"?K:T.coordinate},Z=qy({active:h.payload.active,coordinate:W,dataKey:h.payload.dataKey,index:String(T.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(Z)}}};return Nd.on(Yy,f),()=>{Nd.off(Yy,f)}},[u,n,t,e,r,a,s,c])}function Mte(){var e=it(Mw),t=it(Dw),n=Mr();j.useEffect(()=>{if(e==null)return Td;var r=(a,s,c)=>{t!==c&&e===a&&n(gte(s))};return Nd.on(hE,r),()=>{Nd.off(hE,r)}},[n,t,e])}function Dte(){var e=Mr();j.useEffect(()=>{e(hte())},[e]),Ate(),Mte()}function kte(e,t,n,r,a,s){var c=it(b=>Iee(b,e,t)),u=it(Dw),f=it(Mw),m=it(A4),h=it(vte),v=h?.active,x=tv();j.useEffect(()=>{if(!v&&f!=null&&u!=null){var b=qy({active:s,coordinate:n,dataKey:c,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:x,graphicalItemId:void 0});Nd.emit(Yy,f,b,u)}},[v,n,c,a,r,u,f,m,s,x])}function gE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(n),!0).forEach(function(r){Ete(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ete(e,t,n){return(t=_te(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _te(e){var t=Ote(e,"string");return typeof t=="symbol"?t:t+""}function Ote(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tte(e){return e.dataKey}function Pte(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(hK,t)}var yE=[],Ite={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Rte(e){var t,n,r=fi(e,Ite),{active:a,allowEscapeViewBox:s,animationDuration:c,animationEasing:u,content:f,filterNull:m,isAnimationActive:h,offset:v,payloadUniqBy:x,position:b,reverseDirection:S,useTranslate3d:w,wrapperStyle:y,cursor:C,shared:M,trigger:A,defaultIndex:_,portal:E,axisId:T}=r,P=Mr(),O=typeof _=="number"?String(_):_;j.useEffect(()=>{P(EJ({shared:M,trigger:A,axisId:T,active:a,defaultIndex:O}))},[P,M,A,T,a,O]);var L=tv(),R=NP(),B=SJ(M),{activeIndex:k,isActive:K}=(t=it(Ne=>zee(Ne,B,A,O)))!==null&&t!==void 0?t:{},W=it(Ne=>Lee(Ne,B,A,O)),Z=it(Ne=>A3(Ne,B,A,O)),$=it(Ne=>Ree(Ne,B,A,O)),G=W,z=ote(),re=(n=a??K)!==null&&n!==void 0?n:!1,[he,F]=tV([G,re]),ne=B==="axis"?Z:void 0;kte(B,A,$,ne,k,re);var ve=E??z;if(ve==null||L==null||B==null)return null;var be=G??yE;re||(be=yE),m&&be.length&&(be=MY(be.filter(Ne=>Ne.value!=null&&(Ne.hide!==!0||r.includeHidden)),x,Tte));var Pe=be.length>0,Re=j.createElement(jK,{allowEscapeViewBox:s,animationDuration:c,animationEasing:u,isAnimationActive:h,active:re,coordinate:$,hasPayload:Pe,offset:v,position:b,reverseDirection:S,useTranslate3d:w,viewBox:L,wrapperStyle:y,lastBoundingBox:he,innerRef:F,hasPortalFromProps:!!E},Pte(f,bE(bE({},r),{},{payload:be,label:ne,active:re,activeIndex:k,coordinate:$,accessibilityLayer:R})));return j.createElement(j.Fragment,null,Ad.createPortal(Re,ve),re&&j.createElement(lte,{cursor:C,tooltipEventType:B,coordinate:$,payload:be,index:k}))}var wv=e=>null;wv.displayName="Cell";function Lte(e,t,n){return(t=zte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zte(e){var t=Fte(e,"string");return typeof t=="symbol"?t:t+""}function Fte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Bte{constructor(t){Lte(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function wE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $te(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(n),!0).forEach(function(r){qte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qte(e,t,n){return(t=Hte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hte(e){var t=Ute(e,"string");return typeof t=="symbol"?t:t+""}function Ute(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yte={cacheSize:2e3,enableCache:!0},_3=$te({},Yte),jE=new Bte(_3.cacheSize),Vte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},NE="recharts_measurement_span";function Gte(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",c=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(c,"|").concat(u)}var SE=(e,t)=>{try{var n=document.getElementById(NE);n||(n=document.createElement("span"),n.setAttribute("id",NE),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Vte,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},CE=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||X1.isSsr)return{width:0,height:0};if(!_3.enableCache)return SE(t,n);var r=Gte(t,n),a=jE.get(r);if(a)return a;var s=SE(t,n);return jE.set(r,s),s},O3;function Kte(e,t,n){return(t=Wte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wte(e){var t=Qte(e,"string");return typeof t=="symbol"?t:t+""}function Qte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ME=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xte=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Zte=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Jte={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ere=["cm","mm","pt","pc","in","Q","px"];function tre(e){return ere.includes(e)}var Jo="NaN";function rre(e,t){return e*Jte[t]}class Ur{static parse(t){var n,[,r,a]=(n=Zte.exec(t))!==null&&n!==void 0?n:[];return r==null?Ur.NaN:new Ur(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Ui(t)&&(this.unit=""),n!==""&&!Xte.test(n)&&(this.num=NaN,this.unit=""),tre(n)&&(this.num=rre(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Ur(NaN,""):new Ur(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ur(NaN,""):new Ur(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ur(NaN,""):new Ur(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ur(NaN,""):new Ur(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ui(this.num)}}O3=Ur;Kte(Ur,"NaN",new O3(NaN,""));function T3(e){if(e==null||e.includes(Jo))return Jo;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,s]=(n=AE.exec(t))!==null&&n!==void 0?n:[],c=Ur.parse(r??""),u=Ur.parse(s??""),f=a==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Jo;t=t.replace(AE,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,v,x]=(m=ME.exec(t))!==null&&m!==void 0?m:[],b=Ur.parse(h??""),S=Ur.parse(x??""),w=v==="+"?b.add(S):b.subtract(S);if(w.isNaN())return Jo;t=t.replace(ME,w.toString())}return t}var DE=/\(([^()]*)\)/;function nre(e){for(var t=e,n;(n=DE.exec(t))!=null;){var[,r]=n;t=t.replace(DE,T3(r))}return t}function are(e){var t=e.replace(/\s+/g,"");return t=nre(t),t=T3(t),t}function ire(e){try{return are(e)}catch{return Jo}}function Ab(e){var t=ire(e.slice(5,-1));return t===Jo?"":t}var sre=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],lre=["dx","dy","angle","className","breakAll"];function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vy.apply(null,arguments)}function kE(e,t){if(e==null)return{};var n,r,a=ore(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ore(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var P3=/[ \f\n\r\t\v\u2028\u2029]+/,I3=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];$n(t)||(n?a=t.toString().split(""):a=t.toString().split(P3));var s=a.map(u=>({word:u,width:CE(u,r).width})),c=n?0:CE("",r).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}};function cre(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var R3=(e,t,n,r)=>e.reduce((a,s)=>{var{word:c,width:u}=s,f=a[a.length-1];if(f&&u!=null&&(t==null||r||f.width+u+n<Number(t)))f.words.push(c),f.width+=u+n;else{var m={words:[c],width:u};a.push(m)}return a},[]),L3=e=>e.reduce((t,n)=>t.width>n.width?t:n),ure="",EE=(e,t,n,r,a,s,c,u)=>{var f=e.slice(0,t),m=I3({breakAll:n,style:r,children:f+ure});if(!m)return[!1,[]];var h=R3(m.wordsWithComputedWidth,s,c,u),v=h.length>a||L3(h).width>Number(s);return[v,h]},dre=(e,t,n,r,a)=>{var{maxLines:s,children:c,style:u,breakAll:f}=e,m=Qe(s),h=String(c),v=R3(t,r,n,a);if(!m||a)return v;var x=v.length>s||L3(v).width>Number(r);if(!x)return v;for(var b=0,S=h.length-1,w=0,y;b<=S&&w<=h.length-1;){var C=Math.floor((b+S)/2),M=C-1,[A,_]=EE(h,M,f,u,s,r,n,a),[E]=EE(h,C,f,u,s,r,n,a);if(!A&&!E&&(b=C+1),A&&E&&(S=C-1),!A&&E){y=_;break}w++}return y||v},_E=e=>{var t=$n(e)?[]:e.toString().split(P3);return[{words:t,width:void 0}]},fre=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:c}=e;if((t||n)&&!X1.isSsr){var u,f,m=I3({breakAll:s,children:r,style:a});if(m){var{wordsWithComputedWidth:h,spaceWidth:v}=m;u=h,f=v}else return _E(r);return dre({breakAll:s,children:r,maxLines:c,style:a},u,f,t,!!n)}return _E(r)},z3="#808080",mre={angle:0,breakAll:!1,capHeight:"0.71em",fill:z3,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},cj=j.forwardRef((e,t)=>{var n=fi(e,mre),{x:r,y:a,lineHeight:s,capHeight:c,fill:u,scaleToFit:f,textAnchor:m,verticalAnchor:h}=n,v=kE(n,sre),x=j.useMemo(()=>fre({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width}),[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),{dx:b,dy:S,angle:w,className:y,breakAll:C}=v,M=kE(v,lre);if(!Yi(r)||!Yi(a)||x.length===0)return null;var A=Number(r)+(Qe(b)?b:0),_=Number(a)+(Qe(S)?S:0);if(!Ft(A)||!Ft(_))return null;var E;switch(h){case"start":E=Ab("calc(".concat(c,")"));break;case"middle":E=Ab("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:E=Ab("calc(".concat(x.length-1," * -").concat(s,")"));break}var T=[],P=x[0];if(f&&P!=null){var O=P.width,{width:L}=v;T.push("scale(".concat(Qe(L)&&Qe(O)?L/O:1,")"))}return w&&T.push("rotate(".concat(w,", ").concat(A,", ").concat(_,")")),T.length&&(M.transform=T.join(" ")),j.createElement("text",Vy({},sa(M),{ref:t,x:A,y:_,className:lt("recharts-text",y),textAnchor:m,fill:u.includes("url")?z3:u}),x.map((R,B)=>{var k=R.words.join(C?"":" ");return j.createElement("tspan",{x:A,dy:B===0?E:s,key:"".concat(k,"-").concat(B)},k)}))});cj.displayName="Text";function OE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ha(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OE(Object(n),!0).forEach(function(r){pre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pre(e,t,n){return(t=hre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hre(e){var t=vre(e,"string");return typeof t=="symbol"?t:t+""}function vre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xre=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:a}=e,{x:s,y:c,height:u,upperWidth:f,lowerWidth:m}=G1(t),h=s,v=s+(f-m)/2,x=(h+v)/2,b=(f+m)/2,S=h+f/2,w=u>=0?1:-1,y=w*r,C=w>0?"end":"start",M=w>0?"start":"end",A=f>=0?1:-1,_=A*r,E=A>0?"end":"start",T=A>0?"start":"end",P=a;if(n==="top"){var O={x:h+f/2,y:c-y,horizontalAnchor:"middle",verticalAnchor:C};return P&&(O.height=Math.max(c-P.y,0),O.width=f),O}if(n==="bottom"){var L={x:v+m/2,y:c+u+y,horizontalAnchor:"middle",verticalAnchor:M};return P&&(L.height=Math.max(P.y+P.height-(c+u),0),L.width=m),L}if(n==="left"){var R={x:x-_,y:c+u/2,horizontalAnchor:E,verticalAnchor:"middle"};return P&&(R.width=Math.max(R.x-P.x,0),R.height=u),R}if(n==="right"){var B={x:x+b+_,y:c+u/2,horizontalAnchor:T,verticalAnchor:"middle"};return P&&(B.width=Math.max(P.x+P.width-B.x,0),B.height=u),B}var k=P?{width:b,height:u}:{};return n==="insideLeft"?Ha({x:x+_,y:c+u/2,horizontalAnchor:T,verticalAnchor:"middle"},k):n==="insideRight"?Ha({x:x+b-_,y:c+u/2,horizontalAnchor:E,verticalAnchor:"middle"},k):n==="insideTop"?Ha({x:h+f/2,y:c+y,horizontalAnchor:"middle",verticalAnchor:M},k):n==="insideBottom"?Ha({x:v+m/2,y:c+u-y,horizontalAnchor:"middle",verticalAnchor:C},k):n==="insideTopLeft"?Ha({x:h+_,y:c+y,horizontalAnchor:T,verticalAnchor:M},k):n==="insideTopRight"?Ha({x:h+f-_,y:c+y,horizontalAnchor:E,verticalAnchor:M},k):n==="insideBottomLeft"?Ha({x:v+_,y:c+u-y,horizontalAnchor:T,verticalAnchor:C},k):n==="insideBottomRight"?Ha({x:v+m-_,y:c+u-y,horizontalAnchor:E,verticalAnchor:C},k):n&&typeof n=="object"&&(Qe(n.x)||Kl(n.x))&&(Qe(n.y)||Kl(n.y))?Ha({x:s+Fn(n.x,b),y:c+Fn(n.y,u),horizontalAnchor:"end",verticalAnchor:"end"},k):Ha({x:S,y:c+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},k)},gre=["labelRef"],bre=["content"];function TE(e,t){if(e==null)return{};var n,r,a=yre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function PE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(n),!0).forEach(function(r){wre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wre(e,t,n){return(t=jre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jre(e){var t=Nre(e,"string");return typeof t=="symbol"?t:t+""}function Nre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vh.apply(null,arguments)}var Sre=j.createContext(null),Cre=()=>{var e=j.useContext(Sre),t=tv();return e||(t?G1(t):void 0)},Are=j.createContext(null),Mre=()=>{var e=j.useContext(Are),t=it(O4);return e||t},Dre=e=>{var{value:t,formatter:n}=e,r=$n(e.children)?t:e.children;return typeof n=="function"?n(r):r},kre=e=>e!=null&&typeof e=="function",Ere=(e,t)=>{var n=yn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},_re=(e,t,n,r,a)=>{var{offset:s,className:c}=e,{cx:u,cy:f,innerRadius:m,outerRadius:h,startAngle:v,endAngle:x,clockWise:b}=a,S=(m+h)/2,w=Ere(v,x),y=w>=0?1:-1,C,M;switch(t){case"insideStart":C=v+y*s,M=b;break;case"insideEnd":C=x-y*s,M=!b;break;case"end":C=x+y*s,M=b;break;default:throw new Error("Unsupported position ".concat(t))}M=w<=0?M:!M;var A=wr(u,f,S,C),_=wr(u,f,S,C+(M?1:-1)*359),E="M".concat(A.x,",").concat(A.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(M?0:1,`,
    `).concat(_.x,",").concat(_.y),T=$n(e.id)?cd("recharts-radial-line-"):e.id;return j.createElement("text",vh({},r,{dominantBaseline:"central",className:lt("recharts-radial-bar-label",c)}),j.createElement("defs",null,j.createElement("path",{id:T,d:E})),j.createElement("textPath",{xlinkHref:"#".concat(T)},n))},Ore=(e,t,n)=>{var{cx:r,cy:a,innerRadius:s,outerRadius:c,startAngle:u,endAngle:f}=e,m=(u+f)/2;if(n==="outside"){var{x:h,y:v}=wr(r,a,c+t,m);return{x:h,y:v,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(s+c)/2,{x:b,y:S}=wr(r,a,x,m);return{x:b,y:S,textAnchor:"middle",verticalAnchor:"middle"}},dp=e=>e!=null&&"cx"in e&&Qe(e.cx),Tre={angle:0,offset:5,zIndex:wa.label,position:"middle",textBreakAll:!1};function Pre(e){if(!dp(e))return e;var{cx:t,cy:n,outerRadius:r}=e,a=r*2;return{x:t-r,y:n-r,width:a,upperWidth:a,lowerWidth:a,height:a}}function F3(e){var t=fi(e,Tre),{viewBox:n,parentViewBox:r,position:a,value:s,children:c,content:u,className:f="",textBreakAll:m,labelRef:h}=t,v=Mre(),x=Cre(),b=a==="center"?x:v??x,S,w,y;n==null?S=b:dp(n)?S=n:S=G1(n);var C=Pre(S);if(!S||$n(s)&&$n(c)&&!j.isValidElement(u)&&typeof u!="function")return null;var M=Fm(Fm({},t),{},{viewBox:S});if(j.isValidElement(u)){var{labelRef:A}=M,_=TE(M,gre);return j.cloneElement(u,_)}if(typeof u=="function"){var{content:E}=M,T=TE(M,bre);if(w=j.createElement(u,T),j.isValidElement(w))return w}else w=Dre(t);var P=sa(t);if(dp(S)){if(a==="insideStart"||a==="insideEnd"||a==="end")return _re(t,a,w,P,S);y=Ore(S,t.offset,t.position)}else{if(!C)return null;var O=xre({viewBox:C,position:a,offset:t.offset,parentViewBox:dp(r)?void 0:r});y=Fm(Fm({x:O.x,y:O.y,textAnchor:O.horizontalAnchor,verticalAnchor:O.verticalAnchor},O.width!==void 0?{width:O.width}:{}),O.height!==void 0?{height:O.height}:{})}return j.createElement(Qd,{zIndex:t.zIndex},j.createElement(cj,vh({ref:h,className:lt("recharts-label",f)},P,y,{textAnchor:cre(P.textAnchor)?P.textAnchor:y.textAnchor,breakAll:m}),w))}F3.displayName="Label";var Mb={},Db={},IE;function Ire(){return IE||(IE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Db)),Db}var kb={},RE;function Rre(){return RE||(RE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(kb)),kb}var LE;function Lre(){return LE||(LE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ire(),n=Rre(),r=L1();function a(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=a})(Mb)),Mb}var Eb,zE;function zre(){return zE||(zE=1,Eb=Lre().last),Eb}var Fre=zre();const Bre=li(Fre);var $re=["valueAccessor"],qre=["dataKey","clockWise","id","textBreakAll","zIndex"];function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xh.apply(null,arguments)}function FE(e,t){if(e==null)return{};var n,r,a=Hre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Hre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ure=e=>Array.isArray(e.value)?Bre(e.value):e.value,B3=j.createContext(void 0);B3.Provider;var $3=j.createContext(void 0),Yre=$3.Provider;function Vre(){return j.useContext(B3)}function Gre(){return j.useContext($3)}function fp(e){var{valueAccessor:t=Ure}=e,n=FE(e,$re),{dataKey:r,clockWise:a,id:s,textBreakAll:c,zIndex:u}=n,f=FE(n,qre),m=Vre(),h=Gre(),v=m||h;return!v||!v.length?null:j.createElement(Qd,{zIndex:u??wa.label},j.createElement(Vs,{className:"recharts-label-list"},v.map((x,b)=>{var S,w=$n(r)?t(x,b):or(x.payload,r),y=$n(s)?{}:{id:"".concat(s,"-").concat(b)};return j.createElement(F3,xh({key:"label-".concat(b)},sa(x),f,y,{fill:(S=n.fill)!==null&&S!==void 0?S:x.fill,parentViewBox:x.parentViewBox,value:w,textBreakAll:c,viewBox:x.viewBox,index:b,zIndex:0}))})))}fp.displayName="LabelList";function Kre(e){var{label:t}=e;return t?t===!0?j.createElement(fp,{key:"labelList-implicit"}):j.isValidElement(t)||kre(t)?j.createElement(fp,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(fp,xh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var q3=e=>e.graphicalItems.polarItems,Wre=ie([rr,Ud],Pw),jv=ie([q3,ur,Wre],Iw),Qre=ie([jv],Rw),Nv=ie([Qre,Nw],Lw),Xre=ie([Nv,ur,jv],Fw);ie([Nv,ur,jv],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var s,c=or(r,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:or(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var BE=()=>{},Zre=ie([Nv,ur,jv,xv,rr],Hw),Jre=ie([ur,$w,qw,BE,Zre,BE,er,rr],Uw),H3=ie([ur,er,Nv,Xre,Hd,rr,Jre],Yw),ene=ie([H3,Tc,rl],Kw),tne=ie([ur,H3,ene,rr],Qw);ie([rl,tne],I4);var rne={radiusAxis:{},angleAxis:{}},U3=Nn({name:"polarAxis",initialState:rne,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:qle,removeRadiusAxis:Hle,addAngleAxis:Ule,removeAngleAxis:Yle}=U3.actions,nne=U3.reducer;function ane(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function $E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(n),!0).forEach(function(r){ine(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ine(e,t,n){return(t=sne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sne(e){var t=lne(e,"string");return typeof t=="symbol"?t:t+""}function lne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var one=(e,t)=>t,uj=ie([q3,one],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),cne=[],dj=(e,t,n)=>n?.length===0?cne:n,Y3=ie([Nw,uj,dj],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(s=>qE(qE({},t.presentationProps),s.props))),a!=null)return a}}),une=ie([Y3,uj,dj],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,a)=>{var s,c=or(r,t.nameKey,t.name),u;return n!=null&&(s=n[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=t.fill,{value:oP(c,t.dataKey),color:u,payload:r,type:t.legendType}})}),dne=ie([Y3,uj,dj,Ir],(e,t,n,r)=>{if(!(t==null||e==null))return pae({offset:r,pieSettings:t,displayedData:e,cells:n})}),_b={exports:{}},zt={};var HE;function fne(){if(HE)return zt;HE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function S(w){if(typeof w=="object"&&w!==null){var y=w.$$typeof;switch(y){case e:switch(w=w.type,w){case n:case a:case r:case f:case m:case x:return w;default:switch(w=w&&w.$$typeof,w){case c:case u:case v:case h:return w;case s:return w;default:return y}}case t:return y}}}return zt.ContextConsumer=s,zt.ContextProvider=c,zt.Element=e,zt.ForwardRef=u,zt.Fragment=n,zt.Lazy=v,zt.Memo=h,zt.Portal=t,zt.Profiler=a,zt.StrictMode=r,zt.Suspense=f,zt.SuspenseList=m,zt.isContextConsumer=function(w){return S(w)===s},zt.isContextProvider=function(w){return S(w)===c},zt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},zt.isForwardRef=function(w){return S(w)===u},zt.isFragment=function(w){return S(w)===n},zt.isLazy=function(w){return S(w)===v},zt.isMemo=function(w){return S(w)===h},zt.isPortal=function(w){return S(w)===t},zt.isProfiler=function(w){return S(w)===a},zt.isStrictMode=function(w){return S(w)===r},zt.isSuspense=function(w){return S(w)===f},zt.isSuspenseList=function(w){return S(w)===m},zt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===a||w===r||w===f||w===m||typeof w=="object"&&w!==null&&(w.$$typeof===v||w.$$typeof===h||w.$$typeof===c||w.$$typeof===s||w.$$typeof===u||w.$$typeof===b||w.getModuleId!==void 0)},zt.typeOf=S,zt}var UE;function mne(){return UE||(UE=1,_b.exports=fne()),_b.exports}var pne=mne(),YE=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",VE=null,Ob=null,V3=e=>{if(e===VE&&Array.isArray(Ob))return Ob;var t=[];return j.Children.forEach(e,n=>{$n(n)||(pne.isFragment(n)?t=t.concat(V3(n.props.children)):t.push(n))}),Ob=t,VE=e,t};function G3(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>YE(a)):r=[YE(t)],V3(e).forEach(a=>{var s=od(a,"type.displayName")||od(a,"type.name");s&&r.indexOf(s)!==-1&&n.push(a)}),n}var Tb={},GE;function hne(){return GE||(GE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Tb)),Tb}var Pb,KE;function vne(){return KE||(KE=1,Pb=hne().isPlainObject),Pb}var xne=vne();const gne=li(xne);var WE,QE,XE,ZE,JE;function e_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function t_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(n),!0).forEach(function(r){bne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bne(e,t,n){return(t=yne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yne(e){var t=wne(e,"string");return typeof t=="symbol"?t:t+""}function wne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gh.apply(null,arguments)}function Gu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var r_=(e,t,n,r,a)=>{var s=n-r,c;return c=sr(WE||(WE=Gu(["M ",",",""])),e,t),c+=sr(QE||(QE=Gu(["L ",",",""])),e+n,t),c+=sr(XE||(XE=Gu(["L ",",",""])),e+n-s/2,t+a),c+=sr(ZE||(ZE=Gu(["L ",",",""])),e+n-s/2-r,t+a),c+=sr(JE||(JE=Gu(["L ",","," Z"])),e,t),c},jne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Nne=e=>{var t=fi(e,jne),{x:n,y:r,upperWidth:a,lowerWidth:s,height:c,className:u}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isUpdateAnimationActive:v}=t,x=j.useRef(null),[b,S]=j.useState(-1),w=j.useRef(a),y=j.useRef(s),C=j.useRef(c),M=j.useRef(n),A=j.useRef(r),_=J1(e,"trapezoid-");if(j.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var W=x.current.getTotalLength();W&&S(W)}catch{}},[]),n!==+n||r!==+r||a!==+a||s!==+s||c!==+c||a===0&&s===0||c===0)return null;var E=lt("recharts-trapezoid",u);if(!v)return j.createElement("g",null,j.createElement("path",gh({},sa(t),{className:E,d:r_(n,r,a,s,c)})));var T=w.current,P=y.current,O=C.current,L=M.current,R=A.current,B="0px ".concat(b===-1?1:b,"px"),k="".concat(b,"px 0px"),K=SP(["strokeDasharray"],m,f);return j.createElement(Z1,{animationId:_,key:_,canBegin:b>0,duration:m,easing:f,isActive:v,begin:h},W=>{var Z=va(T,a,W),$=va(P,s,W),G=va(O,c,W),z=va(L,n,W),re=va(R,r,W);x.current&&(w.current=Z,y.current=$,C.current=G,M.current=z,A.current=re);var he=W>0?{transition:K,strokeDasharray:k}:{strokeDasharray:B};return j.createElement("path",gh({},sa(t),{className:E,d:r_(z,re,Z,$,G),ref:x,style:t_(t_({},he),t.style)}))})},Sne=["option","shapeType","activeClassName"];function Cne(e,t){if(e==null)return{};var n,r,a=Ane(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ane(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function n_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(n),!0).forEach(function(r){Mne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mne(e,t,n){return(t=Dne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dne(e){var t=kne(e,"string");return typeof t=="symbol"?t:t+""}function kne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ene(e,t){return bh(bh({},t),e)}function _ne(e,t){return e==="symbols"}function a_(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return j.createElement(DP,n);case"trapezoid":return j.createElement(Nne,n);case"sector":return j.createElement(OP,n);case"symbols":if(_ne(t))return j.createElement(g5,n);break;case"curve":return j.createElement(Q1,n);default:return null}}function One(e){return j.isValidElement(e)?e.props:e}function Tne(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,a=Cne(e,Sne),s;if(j.isValidElement(t))s=j.cloneElement(t,bh(bh({},a),One(t)));else if(typeof t=="function")s=t(a,a.index);else if(gne(t)&&typeof t!="boolean"){var c=Ene(t,a);s=j.createElement(a_,{shapeType:n,elementProps:c})}else{var u=a;s=j.createElement(a_,{shapeType:n,elementProps:u})}return a.isActive?j.createElement(Vs,{className:r},s):s}var Pne=(e,t,n)=>{var r=Mr();return(a,s)=>c=>{e?.(a,s,c),r(s3({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},Ine=e=>{var t=Mr();return(n,r)=>a=>{e?.(n,r,a),t(_J())}},Rne=(e,t,n)=>{var r=Mr();return(a,s)=>c=>{e?.(a,s,c),r(OJ({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function Lne(e){var{tooltipEntrySettings:t}=e,n=Mr(),r=Qs(),a=j.useRef(null);return j.useLayoutEffect(()=>{r||(a.current===null?n(MJ(t)):a.current!==t&&n(DJ({prev:a.current,next:t})),a.current=t)},[t,n,r]),j.useLayoutEffect(()=>()=>{a.current&&(n(kJ(a.current)),a.current=null)},[n]),null}function zne(e){var{legendPayload:t}=e,n=Mr(),r=it(er),a=j.useRef(null);return j.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(lK(t)):a.current!==t&&n(oK({prev:a.current,next:t})),a.current=t)},[n,r,t]),j.useLayoutEffect(()=>()=>{a.current&&(n(cK(a.current)),a.current=null)},[n]),null}var Ib,Fne=()=>{var[e]=j.useState(()=>cd("uid-"));return e},Bne=(Ib=t1.useId)!==null&&Ib!==void 0?Ib:Fne;function $ne(e,t){var n=Bne();return t||(e?"".concat(e,"-").concat(n):n)}var qne=j.createContext(void 0),Hne=e=>{var{id:t,type:n,children:r}=e,a=$ne("recharts-".concat(n),t);return j.createElement(qne.Provider,{value:a},r(a))},Une={cartesianItems:[],polarItems:[]},K3=Nn({name:"graphicalItems",initialState:Une,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Xt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=Sa(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:Xt()},removeCartesianGraphicalItem:{reducer(e,t){var n=Sa(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Xt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Xt()},removePolarGraphicalItem:{reducer(e,t){var n=Sa(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Xt()}}}),{addCartesianGraphicalItem:Vle,replaceCartesianGraphicalItem:Gle,removeCartesianGraphicalItem:Kle,addPolarGraphicalItem:Yne,removePolarGraphicalItem:Vne}=K3.actions,Gne=K3.reducer;function Kne(e){var t=Mr();return j.useLayoutEffect(()=>(t(Yne(e)),()=>{t(Vne(e))}),[t,e]),null}var Wne=["key"],Qne=["onMouseEnter","onClick","onMouseLeave"],Xne=["id"],Zne=["id"];function i_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(n),!0).forEach(function(r){Jne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jne(e,t,n){return(t=eae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eae(e){var t=tae(e,"string");return typeof t=="symbol"?t:t+""}function tae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ks(){return Ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ks.apply(null,arguments)}function Sv(e,t){if(e==null)return{};var n,r,a=rae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function rae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function nae(e){var t=j.useMemo(()=>G3(e.children,wv),[e.children]),n=it(r=>une(r,e.id,t));return n==null?null:j.createElement(zne,{legendPayload:n})}var aae=j.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:s,fill:c,name:u,hide:f,tooltipType:m,id:h}=e,v={dataDefinedOnItem:r.map(x=>x.tooltipPayload),getPosition:x=>{var b;return(b=r[Number(x)])===null||b===void 0?void 0:b.tooltipPosition},settings:{stroke:a,strokeWidth:s,fill:c,dataKey:t,nameKey:n,name:oP(u,t),hide:f,type:m,color:c,unit:"",graphicalItemId:h}};return j.createElement(Lne,{tooltipEntrySettings:v})}),iae=(e,t)=>e>t?"start":e<t?"end":"middle",sae=(e,t,n)=>Fn(typeof t=="function"?t(e):t,n,n*.8),lae=(e,t,n)=>{var{top:r,left:a,width:s,height:c}=t,u=kP(s,c),f=a+Fn(e.cx,s,s/2),m=r+Fn(e.cy,c,c/2),h=Fn(e.innerRadius,u,0),v=sae(n,e.outerRadius,u),x=e.maxRadius||Math.sqrt(s*s+c*c)/2;return{cx:f,cy:m,innerRadius:h,outerRadius:v,maxRadius:x}},oae=(e,t)=>{var n=yn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},cae=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var n=lt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,a=Sv(t,Wne);return j.createElement(Q1,Ks({},a,{type:"linear",className:n}))},uae=(e,t,n)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),j.isValidElement(r)))return r;var a=lt("recharts-pie-label-text",ane(e));return j.createElement(cj,Ks({},t,{alignmentBaseline:"middle",className:a}),r)};function dae(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:s,dataKey:c}=n;if(!r||!a||!t)return null;var u=vc(n),f=ny(a),m=ny(s),h=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,v=t.map((x,b)=>{var S=(x.startAngle+x.endAngle)/2,w=wr(x.cx,x.cy,x.outerRadius+h,S),y=lr(lr(lr(lr({},u),x),{},{stroke:"none"},f),{},{index:b,textAnchor:iae(w.x,x.cx)},w),C=lr(lr(lr(lr({},u),x),{},{fill:"none",stroke:x.fill},m),{},{index:b,points:[wr(x.cx,x.cy,x.outerRadius,S),w],key:"line"});return j.createElement(Qd,{zIndex:wa.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(b)},j.createElement(Vs,null,s&&cae(s,C),uae(a,y,or(x,c))))});return j.createElement(Vs,{className:"recharts-pie-labels"},v)}function fae(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?j.createElement(Kre,{label:a}):j.createElement(dae,{sectors:t,props:n,showLabels:r})}function mae(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:s,id:c}=e,u=it(jd),f=it(w3),m=it(xee),{onMouseEnter:h,onClick:v,onMouseLeave:x}=a,b=Sv(a,Qne),S=Pne(h,a.dataKey,c),w=Ine(x),y=Rne(v,a.dataKey,c);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((C,M)=>{if(C?.startAngle===0&&C?.endAngle===0&&t.length!==1)return null;var A=m==null||m===c,_=String(M)===u&&(f==null||a.dataKey===f)&&A,E=u?r:null,T=n&&_?n:E,P=lr(lr({},C),{},{stroke:C.stroke,tabIndex:-1,[uP]:M,[dP]:c});return j.createElement(Vs,Ks({key:"sector-".concat(C?.startAngle,"-").concat(C?.endAngle,"-").concat(C.midAngle,"-").concat(M),tabIndex:-1,className:"recharts-pie-sector"},rY(b,C,M),{onMouseEnter:S(C,M),onMouseLeave:w(C,M),onClick:y(C,M)}),j.createElement(Tne,Ks({option:s??T,index:M,shapeType:"sector",isActive:_},P)))}))}function pae(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:s}=e,{cornerRadius:c,startAngle:u,endAngle:f,dataKey:m,nameKey:h,tooltipType:v}=n,x=Math.abs(n.minAngle),b=oae(u,f),S=Math.abs(b),w=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,y=r.filter(T=>or(T,m,0)!==0).length,C=(S>=360?y:y-1)*w,M=S-y*x-C,A=r.reduce((T,P)=>{var O=or(P,m,0);return T+(Qe(O)?O:0)},0),_;if(A>0){var E;_=r.map((T,P)=>{var O=or(T,m,0),L=or(T,h,P),R=lae(n,s,T),B=(Qe(O)?O:0)/A,k,K=lr(lr({},T),a&&a[P]&&a[P].props);P?k=E.endAngle+yn(b)*w*(O!==0?1:0):k=u;var W=k+yn(b)*((O!==0?x:0)+B*M),Z=(k+W)/2,$=(R.innerRadius+R.outerRadius)/2,G=[{name:L,value:O,payload:K,dataKey:m,type:v,graphicalItemId:n.id}],z=wr(R.cx,R.cy,$,Z);return E=lr(lr(lr(lr({},n.presentationProps),{},{percent:B,cornerRadius:typeof c=="string"?parseFloat(c):c,name:L,tooltipPayload:G,midAngle:Z,middleRadius:$,tooltipPosition:z},K),R),{},{value:O,dataKey:m,startAngle:k,endAngle:W,payload:K,paddingAngle:yn(b)*w}),E})}return _}function hae(e){var{showLabels:t,sectors:n,children:r}=e,a=j.useMemo(()=>!t||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,t]);return j.createElement(Yre,{value:t?a:void 0},r)}function vae(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:a,isAnimationActive:s,animationBegin:c,animationDuration:u,animationEasing:f,activeShape:m,inactiveShape:h,onAnimationStart:v,onAnimationEnd:x}=t,b=J1(t,"recharts-pie-"),S=n.current,[w,y]=j.useState(!1),C=j.useCallback(()=>{typeof x=="function"&&x(),y(!1)},[x]),M=j.useCallback(()=>{typeof v=="function"&&v(),y(!0)},[v]);return j.createElement(hae,{showLabels:!w,sectors:a},j.createElement(Z1,{animationId:b,begin:c,duration:u,isActive:s,easing:f,onAnimationStart:M,onAnimationEnd:C,key:b},A=>{var _,E=[],T=a&&a[0],P=(_=T?.startAngle)!==null&&_!==void 0?_:0;return a?.forEach((O,L)=>{var R=S&&S[L],B=L>0?od(O,"paddingAngle",0):0;if(R){var k=va(R.endAngle-R.startAngle,O.endAngle-O.startAngle,A),K=lr(lr({},O),{},{startAngle:P+B,endAngle:P+k+B});E.push(K),P=K.endAngle}else{var{endAngle:W,startAngle:Z}=O,$=va(0,W-Z,A),G=lr(lr({},O),{},{startAngle:P+B,endAngle:P+$+B});E.push(G),P=G.endAngle}}),n.current=E,j.createElement(Vs,null,j.createElement(mae,{sectors:E,activeShape:m,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:r}))}),j.createElement(fae,{showLabels:!w,sectors:a,props:t}),t.children)}var xae={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:wa.area};function gae(e){var{id:t}=e,n=Sv(e,Xne),{hide:r,className:a,rootTabIndex:s}=e,c=j.useMemo(()=>G3(e.children,wv),[e.children]),u=it(h=>dne(h,t,c)),f=j.useRef(null),m=lt("recharts-pie",a);return r||u==null?(f.current=null,j.createElement(Vs,{tabIndex:s,className:m})):j.createElement(Qd,{zIndex:e.zIndex},j.createElement(aae,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),j.createElement(Vs,{tabIndex:s,className:m},j.createElement(vae,{props:lr(lr({},n),{},{sectors:u}),previousSectorsRef:f,id:t})))}function W3(e){var t=fi(e,xae),{id:n}=t,r=Sv(t,Zne),a=vc(r);return j.createElement(Hne,{id:n,type:"pie"},s=>j.createElement(j.Fragment,null,j.createElement(Kne,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),j.createElement(nae,Ks({},r,{id:s})),j.createElement(gae,Ks({},r,{id:s}))))}W3.displayName="Pie";function s_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function l_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s_(Object(n),!0).forEach(function(r){bae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bae(e,t,n){return(t=yae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yae(e){var t=wae(e,"string");return typeof t=="symbol"?t:t+""}function wae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jae={xAxis:{},yAxis:{},zAxis:{}},Q3=Nn({name:"cartesianAxis",initialState:jae,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Xt()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Xt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Xt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Xt()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Xt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Xt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Xt()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Xt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Xt()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var s,c=a.widthHistory||[];if(c.length===3&&c[0]===c[2]&&r===c[1]&&r!==a.width&&Math.abs(r-((s=c[0])!==null&&s!==void 0?s:0))<=1)return;var u=[...c,r].slice(-3);e.yAxis[n]=l_(l_({},a),{},{width:r,widthHistory:u})}}}}),{addXAxis:Wle,replaceXAxis:Qle,removeXAxis:Xle,addYAxis:Zle,replaceYAxis:Jle,removeYAxis:eoe,addZAxis:toe,replaceZAxis:roe,removeZAxis:noe,updateYAxisWidth:aoe}=Q3.actions,Nae=Q3.reducer,Sae=ie([Ir],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Cae=ie([Sae,rs,ns],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Aae=()=>it(Cae),Mae=e=>{var{chartData:t}=e,n=Mr(),r=Qs();return j.useEffect(()=>r?()=>{}:(n(vE(t)),()=>{n(vE(void 0))}),[t,n,r]),null},o_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},X3=Nn({name:"brush",initialState:o_,reducers:{setBrushSettings(e,t){return t.payload==null?o_:t.payload}}}),{setBrushSettings:ioe}=X3.actions,Dae=X3.reducer,kae={dots:[],areas:[],lines:[]},Z3=Nn({name:"referenceElements",initialState:kae,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Sa(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Sa(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Sa(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:soe,removeDot:loe,addArea:ooe,removeArea:coe,addLine:uoe,removeLine:doe}=Z3.actions,Eae=Z3.reducer,_ae=j.createContext(void 0),Oae=e=>{var{children:t}=e,[n]=j.useState("".concat(cd("recharts"),"-clip")),r=Aae();if(r==null)return null;var{x:a,y:s,width:c,height:u}=r;return j.createElement(_ae.Provider,{value:n},j.createElement("defs",null,j.createElement("clipPath",{id:n},j.createElement("rect",{x:a,y:s,height:u,width:c}))),t)},Tae={},J3=Nn({name:"errorBars",initialState:Tae,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:foe,replaceErrorBar:moe,removeErrorBar:poe}=J3.actions,Pae=J3.reducer,Rb={exports:{}},Lb={};var c_;function Iae(){if(c_)return Lb;c_=1;var e=jc();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,c=e.useMemo,u=e.useDebugValue;return Lb.useSyncExternalStoreWithSelector=function(f,m,h,v,x){var b=a(null);if(b.current===null){var S={hasValue:!1,value:null};b.current=S}else S=b.current;b=c(function(){function y(E){if(!C){if(C=!0,M=E,E=v(E),x!==void 0&&S.hasValue){var T=S.value;if(x(T,E))return A=T}return A=E}if(T=A,n(M,E))return T;var P=v(E);return x!==void 0&&x(T,P)?(M=E,T):(M=E,A=P)}var C=!1,M,A,_=h===void 0?null:h;return[function(){return y(m())},_===null?void 0:function(){return y(_())}]},[m,h,v,x]);var w=r(f,b[0],b[1]);return s(function(){S.hasValue=!0,S.value=w},[w]),u(w),w},Lb}var u_;function Rae(){return u_||(u_=1,Rb.exports=Iae()),Rb.exports}Rae();function Lae(e){e()}function zae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Lae(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var d_={notify(){},get:()=>[]};function Fae(e,t){let n,r=d_,a=0,s=!1;function c(w){h();const y=r.subscribe(w);let C=!1;return()=>{C||(C=!0,y(),v())}}function u(){r.notify()}function f(){S.onStateChange&&S.onStateChange()}function m(){return s}function h(){a++,n||(n=e.subscribe(f),r=zae())}function v(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=d_)}function x(){s||(s=!0,h())}function b(){s&&(s=!1,v())}const S={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:m,trySubscribe:x,tryUnsubscribe:b,getListeners:()=>r};return S}var Bae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$ae=Bae(),qae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Hae=qae(),Uae=()=>$ae||Hae?j.useLayoutEffect:j.useEffect,Yae=Uae();function f_(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Vae(e,t){if(f_(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!f_(e[n[a]],t[n[a]]))return!1;return!0}var Gae=Symbol.for("react-redux-context"),Kae=typeof globalThis<"u"?globalThis:{};function Wae(){if(!j.createContext)return{};const e=Kae[Gae]??=new Map;let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var Qae=Wae();function Xae(e){const{children:t,context:n,serverState:r,store:a}=e,s=j.useMemo(()=>{const f=Fae(a);return{store:a,subscription:f,getServerState:r?()=>r:void 0}},[a,r]),c=j.useMemo(()=>a.getState(),[a]);Yae(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,c]);const u=n||Qae;return j.createElement(u.Provider,{value:s},t)}var Zae=Xae,Jae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function eie(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function tie(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Jae.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Vae(e[r],t[r]))return!1}else if(!eie(e[r],t[r]))return!1;return!0}var rie=(e,t)=>t,fj=ie([rie,er,O4,Lr,x3,is,Pee,Ir],$ee),mj=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},eI=la("mouseClick"),tI=Id();tI.startListening({actionCreator:eI,effect:(e,t)=>{var n=e.payload,r=fj(t.getState(),mj(n));r?.activeIndex!=null&&t.dispatch(TJ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Gy=la("mouseMove"),rI=Id(),Bm=null;rI.startListening({actionCreator:Gy,effect:(e,t)=>{var n=e.payload;Bm!==null&&cancelAnimationFrame(Bm);var r=mj(n);Bm=requestAnimationFrame(()=>{var a=t.getState(),s=Jw(a,a.tooltip.settings.shared);if(s==="axis"){var c=fj(a,r);c?.activeIndex!=null?t.dispatch(o3({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(l3())}Bm=null})}});function nie(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var m_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},nI=Nn({name:"rootProps",initialState:m_,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:m_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),aie=nI.reducer,{updateOptions:iie}=nI.actions,sie=null,lie={updatePolarOptions:(e,t)=>t.payload},aI=Nn({name:"polarOptions",initialState:sie,reducers:lie}),{updatePolarOptions:oie}=aI.actions,cie=aI.reducer,iI=la("keyDown"),sI=la("focus"),pj=Id();pj.startListening({actionCreator:iI,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=ej(a,Lc(n),Vd(n),Kd(n)),u=c==null?-1:Number(c);if(!(!Number.isFinite(u)||u<0)){var f=is(n);if(s==="Enter"){var m=hh(n,"axis","hover",String(a.index));t.dispatch(Hy({active:!a.active,activeIndex:a.index,activeCoordinate:m}));return}var h=NJ(n),v=h==="left-to-right"?1:-1,x=s==="ArrowRight"?1:-1,b=u+x*v;if(!(f==null||b>=f.length||b<0)){var S=hh(n,"axis","hover",String(b));t.dispatch(Hy({active:!0,activeIndex:b.toString(),activeCoordinate:S}))}}}}}});pj.startListening({actionCreator:sI,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var s="0",c=hh(n,"axis","hover",String(s));t.dispatch(Hy({active:!0,activeIndex:s,activeCoordinate:c}))}}}});var ra=la("externalEvent"),lI=Id(),zb=new Map;lI.startListening({actionCreator:ra,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var a=r.type,s=zb.get(a);s!==void 0&&cancelAnimationFrame(s);var c=requestAnimationFrame(()=>{try{var u=t.getState(),f={activeCoordinate:bee(u),activeDataKey:w3(u),activeIndex:jd(u),activeLabel:y3(u),activeTooltipIndex:jd(u),isTooltipActive:yee(u)};n(f,r)}finally{zb.delete(a)}});zb.set(a,c)}}});var uie=ie([Ic],e=>e.tooltipItemPayloads),die=ie([uie,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(s=>s.settings.graphicalItemId===n);if(r!=null){var{getPosition:a}=r;if(a!=null)return a(t)}}}),oI=la("touchMove"),cI=Id();cI.startListening({actionCreator:oI,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),a=Jw(r,r.tooltip.settings.shared);if(a==="axis"){var s=n.touches[0];if(s==null)return;var c=fj(r,mj({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));c?.activeIndex!=null&&t.dispatch(o3({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(a==="item"){var u,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var m=document.elementFromPoint(f.clientX,f.clientY);if(!m||!m.getAttribute)return;var h=m.getAttribute(uP),v=(u=m.getAttribute(dP))!==null&&u!==void 0?u:void 0,x=Rc(r).find(w=>w.id===v);if(h==null||x==null||v==null)return;var{dataKey:b}=x,S=die(r,h,v);t.dispatch(s3({activeDataKey:b,activeIndex:h,activeCoordinate:S,activeGraphicalItemId:v}))}}}});var fie=T5({brush:Dae,cartesianAxis:Nae,chartData:bte,errorBars:Pae,graphicalItems:Gne,layout:tG,legend:uK,options:pte,polarAxis:nne,polarOptions:cie,referenceElements:Eae,rootProps:aie,tooltip:PJ,zIndex:tte}),mie=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return AV({reducer:fie,preloadedState:t,middleware:r=>{var a;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([tI.middleware,rI.middleware,pj.middleware,lI.middleware,cI.middleware])},enhancers:r=>{var a=r;return typeof r=="function"&&(a=r()),a.concat(K5({type:"raf"}))},devTools:{serialize:{replacer:nie},name:"recharts-".concat(n)}})};function pie(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=Qs(),s=j.useRef(null);if(a)return n;s.current==null&&(s.current=mie(t,r));var c=F1;return j.createElement(Zae,{context:c,store:s.current},n)}function hie(e){var{layout:t,margin:n}=e,r=Mr(),a=Qs();return j.useEffect(()=>{a||(r(ZV(t)),r(XV(n)))},[r,a,t,n]),null}var vie=j.memo(hie,tie);function xie(e){var t=Mr();return j.useEffect(()=>{t(iie(e))},[t,e]),null}function p_(e){var{zIndex:t,isPanorama:n}=e,r=j.useRef(null),a=Mr();return j.useLayoutEffect(()=>(r.current&&a(Jee({zIndex:t,element:r.current,isPanorama:n})),()=>{a(ete({zIndex:t,isPanorama:n}))}),[a,t,n]),j.createElement("g",{tabIndex:-1,ref:r})}function h_(e){var{children:t,isPanorama:n}=e,r=it(Hee);if(!r||r.length===0)return t;var a=r.filter(c=>c<0),s=r.filter(c=>c>0);return j.createElement(j.Fragment,null,a.map(c=>j.createElement(p_,{key:c,zIndex:c,isPanorama:n})),t,s.map(c=>j.createElement(p_,{key:c,zIndex:c,isPanorama:n})))}var gie=["children"];function bie(e,t){if(e==null)return{};var n,r,a=yie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yh.apply(null,arguments)}var wie={width:"100%",height:"100%",display:"block"},jie=j.forwardRef((e,t)=>{var n=VG(),r=GG(),a=NP();if(!Gs(n)||!Gs(r))return null;var{children:s,otherAttributes:c,title:u,desc:f}=e,m,h;return c!=null&&(typeof c.tabIndex=="number"?m=c.tabIndex:m=a?0:void 0,typeof c.role=="string"?h=c.role:h=a?"application":void 0),j.createElement(ZT,yh({},c,{title:u,desc:f,role:h,tabIndex:m,width:n,height:r,style:wie,ref:t}),s)}),Nie=e=>{var{children:t}=e,n=it(ev);if(!n)return null;var{width:r,height:a,y:s,x:c}=n;return j.createElement(ZT,{width:r,height:a,x:c,y:s},t)},v_=j.forwardRef((e,t)=>{var{children:n}=e,r=bie(e,gie),a=Qs();return a?j.createElement(Nie,null,j.createElement(h_,{isPanorama:!0},n)):j.createElement(jie,yh({ref:t},r),j.createElement(h_,{isPanorama:!1},n))});function Sie(){var e=Mr(),[t,n]=j.useState(null),r=it(hG);return j.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;Ft(s)&&s!==r&&e(eG(s))}},[t,e,r]),n}function x_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Cie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(n),!0).forEach(function(r){Aie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Aie(e,t,n){return(t=Mie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mie(e){var t=Die(e,"string");return typeof t=="symbol"?t:t+""}function Die(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qs.apply(null,arguments)}var kie=()=>(Dte(),null);function wh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Eie=j.forwardRef((e,t)=>{var n,r,a=j.useRef(null),[s,c]=j.useState({containerWidth:wh((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:wh((r=e.style)===null||r===void 0?void 0:r.height)}),u=j.useCallback((m,h)=>{c(v=>{var x=Math.round(m),b=Math.round(h);return v.containerWidth===x&&v.containerHeight===b?v:{containerWidth:x,containerHeight:b}})},[]),f=j.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:h,height:v}=m.getBoundingClientRect();u(h,v);var x=S=>{var w=S[0];if(w!=null){var{width:y,height:C}=w.contentRect;u(y,C)}},b=new ResizeObserver(x);b.observe(m),a.current=b}},[t,u]);return j.useEffect(()=>()=>{var m=a.current;m?.disconnect()},[u]),j.createElement(j.Fragment,null,j.createElement(Ld,{width:s.containerWidth,height:s.containerHeight}),j.createElement("div",qs({ref:f},e)))}),_ie=j.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,s]=j.useState({containerWidth:wh(n),containerHeight:wh(r)}),c=j.useCallback((f,m)=>{s(h=>{var v=Math.round(f),x=Math.round(m);return h.containerWidth===v&&h.containerHeight===x?h:{containerWidth:v,containerHeight:x}})},[]),u=j.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:m,height:h}=f.getBoundingClientRect();c(m,h)}},[t,c]);return j.createElement(j.Fragment,null,j.createElement(Ld,{width:a.containerWidth,height:a.containerHeight}),j.createElement("div",qs({ref:u},e)))}),Oie=j.forwardRef((e,t)=>{var{width:n,height:r}=e;return j.createElement(j.Fragment,null,j.createElement(Ld,{width:n,height:r}),j.createElement("div",qs({ref:t},e)))}),Tie=j.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?j.createElement(_ie,qs({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?j.createElement(Oie,qs({},e,{width:n,height:r,ref:t})):j.createElement(j.Fragment,null,j.createElement(Ld,{width:n,height:r}),j.createElement("div",qs({ref:t},e)))});function Pie(e){return e?Eie:Tie}var Iie=j.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:c,onDoubleClick:u,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:v,onMouseUp:x,onTouchEnd:b,onTouchMove:S,onTouchStart:w,style:y,width:C,responsive:M,dispatchTouchEvents:A=!0}=e,_=j.useRef(null),E=Mr(),[T,P]=j.useState(null),[O,L]=j.useState(null),R=Sie(),B=V1(),k=B?.width>0?B.width:C,K=B?.height>0?B.height:a,W=j.useCallback(X=>{R(X),typeof t=="function"&&t(X),P(X),L(X),X!=null&&(_.current=X)},[R,t,P,L]),Z=j.useCallback(X=>{E(eI(X)),E(ra({handler:s,reactEvent:X}))},[E,s]),$=j.useCallback(X=>{E(Gy(X)),E(ra({handler:m,reactEvent:X}))},[E,m]),G=j.useCallback(X=>{E(l3()),E(ra({handler:h,reactEvent:X}))},[E,h]),z=j.useCallback(X=>{E(Gy(X)),E(ra({handler:v,reactEvent:X}))},[E,v]),re=j.useCallback(()=>{E(sI())},[E]),he=j.useCallback(X=>{E(iI(X.key))},[E]),F=j.useCallback(X=>{E(ra({handler:c,reactEvent:X}))},[E,c]),ne=j.useCallback(X=>{E(ra({handler:u,reactEvent:X}))},[E,u]),ve=j.useCallback(X=>{E(ra({handler:f,reactEvent:X}))},[E,f]),be=j.useCallback(X=>{E(ra({handler:x,reactEvent:X}))},[E,x]),Pe=j.useCallback(X=>{E(ra({handler:w,reactEvent:X}))},[E,w]),Re=j.useCallback(X=>{A&&E(oI(X)),E(ra({handler:S,reactEvent:X}))},[E,A,S]),Ne=j.useCallback(X=>{E(ra({handler:b,reactEvent:X}))},[E,b]),_e=Pie(M);return j.createElement(D3.Provider,{value:T},j.createElement(nU.Provider,{value:O},j.createElement(_e,{width:k??y?.width,height:K??y?.height,className:lt("recharts-wrapper",r),style:Cie({position:"relative",cursor:"default",width:k,height:K},y),onClick:Z,onContextMenu:F,onDoubleClick:ne,onFocus:re,onKeyDown:he,onMouseDown:ve,onMouseEnter:$,onMouseLeave:G,onMouseMove:z,onMouseUp:be,onTouchEnd:Ne,onTouchMove:Re,onTouchStart:Pe,ref:W},j.createElement(kie,null),n)))}),Rie=["width","height","responsive","children","className","style","compact","title","desc"];function Lie(e,t){if(e==null)return{};var n,r,a=zie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function zie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Fie=j.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:s,className:c,style:u,compact:f,title:m,desc:h}=e,v=Lie(e,Rie),x=vc(v);return f?j.createElement(j.Fragment,null,j.createElement(Ld,{width:n,height:r}),j.createElement(v_,{otherAttributes:x,title:m,desc:h},s)):j.createElement(Iie,{className:c,style:u,width:n,height:r,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(v_,{otherAttributes:x,title:m,desc:h,ref:t},j.createElement(Oae,null,s)))});function Bie(e){var t=Mr();return j.useEffect(()=>{t(oie(e))},[t,e]),null}var $ie=["layout"];function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ky.apply(null,arguments)}function qie(e,t){if(e==null)return{};var n,r,a=Hie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Hie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Uie={top:5,right:5,bottom:5,left:5},uI={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Uie,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Yie=j.forwardRef(function(t,n){var r,a=fi(t.categoricalChartProps,uI),{layout:s}=a,c=qie(a,$ie),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h}=t,v={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h,eventEmitter:void 0};return j.createElement(pie,{preloadedState:{options:v},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:u},j.createElement(Mae,{chartData:a.data}),j.createElement(vie,{layout:s,margin:a.margin}),j.createElement(xie,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),j.createElement(Bie,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),j.createElement(Fie,Ky({},c,{ref:n})))});function g_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function b_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(n),!0).forEach(function(r){Vie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vie(e,t,n){return(t=Gie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gie(e){var t=Kie(e,"string");return typeof t=="symbol"?t:t+""}function Kie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wie=["item"],Qie=b_(b_({},uI),{},{layout:"centric",startAngle:0,endAngle:360}),Xie=j.forwardRef((e,t)=>{var n=fi(e,Qie);return j.createElement(Yie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Wie,tooltipPayloadSearcher:fte,categoricalChartProps:n,ref:t})});function Zie({initial:e,onSave:t,onDelete:n,onCancel:r}){const{activeMembers:a,activeInvestmentAccounts:s}=ht(),c=!!e,[u,f]=j.useState({portfolioName:(e?.portfolioName||"").replace(/^PFL-/,""),investmentAccountId:e?.investmentAccountId||"",ownerId:e?.ownerId||"",initialInvestment:e?.initialInvestment||0,sipTarget:e?.sipTarget||"",lumpsumTarget:e?.lumpsumTarget||"",rebalanceThreshold:e?e.rebalanceThreshold*100:5}),[m,h]=j.useState({}),[v,x]=j.useState(!1),[b,S]=j.useState(!1);function w(E,T){f(P=>({...P,[E]:T})),h(P=>({...P,[E]:void 0}))}function y(E){f(T=>({...T,ownerId:E,investmentAccountId:""})),h(T=>({...T,ownerId:void 0}))}const C=s.filter(E=>u.ownerId?E.memberId===u.ownerId:!0).map(E=>({value:E.accountId,label:`${E.accountName} - ${E.platformBroker}`})),M=a.map(E=>({value:E.memberId,label:`${E.memberName} (${E.relationship})`}));function A(){const E={};return u.portfolioName.trim()||(E.portfolioName="Required"),u.ownerId||(E.ownerId="Required"),u.investmentAccountId||(E.investmentAccountId="Required"),h(E),Object.keys(E).length===0}async function _(){if(A()){x(!0);try{const E=s.find(P=>P.accountId===u.investmentAccountId),T=E?`${E.accountName} - ${E.platformBroker}`:u.investmentAccountId;await t({...u,investmentAccount:T,initialInvestment:Number(u.initialInvestment)||0,sipTarget:Number(u.sipTarget)||0,lumpsumTarget:Number(u.lumpsumTarget)||0,rebalanceThreshold:Number(u.rebalanceThreshold)})}finally{x(!1)}}}return l.jsxs("div",{className:"space-y-5",children:[l.jsx(oe,{label:"Portfolio Name",required:!0,error:m.portfolioName,children:l.jsx(Me,{value:u.portfolioName,onChange:E=>w("portfolioName",E),placeholder:"e.g., Long Term Wealth"})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Owner",required:!0,error:m.ownerId,children:l.jsx(Ke,{value:u.ownerId,onChange:y,options:M,placeholder:"Select member..."})}),l.jsx(oe,{label:"Investment Account",required:!0,error:m.investmentAccountId,children:l.jsx(Ke,{value:u.investmentAccountId,onChange:E=>w("investmentAccountId",E),options:C,placeholder:u.ownerId?C.length?"Select account...":"No MF accounts":"Select owner first..."})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(oe,{label:"SIP Target (/month)",children:l.jsx(Me,{type:"number",value:u.sipTarget,onChange:E=>w("sipTarget",E),placeholder:"e.g., 50000"})}),l.jsx(oe,{label:"Lumpsum Target ()",children:l.jsx(Me,{type:"number",value:u.lumpsumTarget,onChange:E=>w("lumpsumTarget",E),placeholder:"e.g., 200000"})})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("label",{className:"text-xs font-semibold text-[var(--text-muted)] whitespace-nowrap",children:"Rebalance Threshold"}),l.jsx("div",{className:"w-20 shrink-0",children:l.jsx("input",{type:"number",value:u.rebalanceThreshold,onChange:E=>w("rebalanceThreshold",E.target.value),placeholder:"5",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"})]}),!c&&l.jsx(oe,{label:"Initial Investment ()",children:l.jsx(Me,{type:"number",value:u.initialInvestment,onChange:E=>w("initialInvestment",E),placeholder:"0 if unknown"})}),c&&n&&b&&l.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 bg-rose-500/10 border border-rose-500/20 rounded-lg",children:[l.jsx(Hs,{size:15,className:"text-rose-400 shrink-0"}),l.jsx("p",{className:"text-xs text-rose-300/90 flex-1",children:"This will deactivate the portfolio and hide it from views. Are you sure?"}),l.jsxs("div",{className:"flex gap-2 shrink-0",children:[l.jsx("button",{onClick:()=>S(!1),className:"px-2.5 py-1 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded transition-colors",children:"No"}),l.jsx("button",{onClick:n,className:"px-2.5 py-1 text-xs font-semibold text-white bg-rose-600 hover:bg-rose-500 rounded transition-colors",children:"Yes, Deactivate"})]})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 mt-4 border-t border-[var(--border-light)]",children:[c&&n?l.jsxs("button",{onClick:()=>S(!0),disabled:v,className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-amber-400 border border-amber-500/30 hover:bg-amber-500/15 hover:border-amber-500/50 rounded-lg transition-colors disabled:opacity-40",children:[l.jsx(Hs,{size:13}),"Deactivate"]}):l.jsx("div",{}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:r,disabled:v,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),l.jsxs("button",{onClick:_,disabled:v,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[v&&l.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),v?"Saving...":c?"Update":"Create Portfolio"]})]})]})]})}function Zi(e){return Array.isArray?Array.isArray(e):mI(e)==="[object Array]"}function Jie(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function ese(e){return e==null?"":Jie(e)}function ei(e){return typeof e=="string"}function dI(e){return typeof e=="number"}function tse(e){return e===!0||e===!1||rse(e)&&mI(e)=="[object Boolean]"}function fI(e){return typeof e=="object"}function rse(e){return fI(e)&&e!==null}function In(e){return e!=null}function Fb(e){return!e.trim().length}function mI(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const nse="Incorrect 'index' type",ase=e=>`Invalid value for key ${e}`,ise=e=>`Pattern length exceeds max of ${e}.`,sse=e=>`Missing ${e} property in key`,lse=e=>`Property 'weight' in key '${e}' must be a positive integer`,y_=Object.prototype.hasOwnProperty;class ose{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let a=pI(r);this._keys.push(a),this._keyMap[a.id]=a,n+=a.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function pI(e){let t=null,n=null,r=null,a=1,s=null;if(ei(e)||Zi(e))r=e,t=w_(e),n=Wy(e);else{if(!y_.call(e,"name"))throw new Error(sse("name"));const c=e.name;if(r=c,y_.call(e,"weight")&&(a=e.weight,a<=0))throw new Error(lse(c));t=w_(c),n=Wy(c),s=e.getFn}return{path:t,id:n,weight:a,src:r,getFn:s}}function w_(e){return Zi(e)?e:e.split(".")}function Wy(e){return Zi(e)?e.join("."):e}function cse(e,t){let n=[],r=!1;const a=(s,c,u)=>{if(In(s))if(!c[u])n.push(s);else{let f=c[u];const m=s[f];if(!In(m))return;if(u===c.length-1&&(ei(m)||dI(m)||tse(m)))n.push(ese(m));else if(Zi(m)){r=!0;for(let h=0,v=m.length;h<v;h+=1)a(m[h],c,u+1)}else c.length&&a(m,c,u+1)}};return a(e,ei(t)?t.split("."):t,0),r?n:n[0]}const use={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},dse={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},fse={location:0,threshold:.6,distance:100},mse={useExtendedSearch:!1,getFn:cse,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Ge={...dse,...use,...fse,...mse};const pse=/[^ ]+/g;function hse(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(a){const s=a.match(pse).length;if(n.has(s))return n.get(s);const c=1/Math.pow(s,.5*e),u=parseFloat(Math.round(c*r)/r);return n.set(s,u),u},clear(){n.clear()}}}class hj{constructor({getFn:t=Ge.getFn,fieldNormWeight:n=Ge.fieldNormWeight}={}){this.norm=hse(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ei(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();ei(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!In(t)||Fb(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((a,s)=>{let c=a.getFn?a.getFn(t):this.getFn(t,a.path);if(In(c)){if(Zi(c)){let u=[];const f=[{nestedArrIndex:-1,value:c}];for(;f.length;){const{nestedArrIndex:m,value:h}=f.pop();if(In(h))if(ei(h)&&!Fb(h)){let v={v:h,i:m,n:this.norm.get(h)};u.push(v)}else Zi(h)&&h.forEach((v,x)=>{f.push({nestedArrIndex:x,value:v})})}r.$[s]=u}else if(ei(c)&&!Fb(c)){let u={v:c,n:this.norm.get(c)};r.$[s]=u}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function hI(e,t,{getFn:n=Ge.getFn,fieldNormWeight:r=Ge.fieldNormWeight}={}){const a=new hj({getFn:n,fieldNormWeight:r});return a.setKeys(e.map(pI)),a.setSources(t),a.create(),a}function vse(e,{getFn:t=Ge.getFn,fieldNormWeight:n=Ge.fieldNormWeight}={}){const{keys:r,records:a}=e,s=new hj({getFn:t,fieldNormWeight:n});return s.setKeys(r),s.setIndexRecords(a),s}function $m(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:a=Ge.distance,ignoreLocation:s=Ge.ignoreLocation}={}){const c=t/e.length;if(s)return c;const u=Math.abs(r-n);return a?c+u/a:u?1:c}function xse(e=[],t=Ge.minMatchCharLength){let n=[],r=-1,a=-1,s=0;for(let c=e.length;s<c;s+=1){let u=e[s];u&&r===-1?r=s:!u&&r!==-1&&(a=s-1,a-r+1>=t&&n.push([r,a]),r=-1)}return e[s-1]&&s-r>=t&&n.push([r,s-1]),n}const Ol=32;function gse(e,t,n,{location:r=Ge.location,distance:a=Ge.distance,threshold:s=Ge.threshold,findAllMatches:c=Ge.findAllMatches,minMatchCharLength:u=Ge.minMatchCharLength,includeMatches:f=Ge.includeMatches,ignoreLocation:m=Ge.ignoreLocation}={}){if(t.length>Ol)throw new Error(ise(Ol));const h=t.length,v=e.length,x=Math.max(0,Math.min(r,v));let b=s,S=x;const w=u>1||f,y=w?Array(v):[];let C;for(;(C=e.indexOf(t,S))>-1;){let P=$m(t,{currentLocation:C,expectedLocation:x,distance:a,ignoreLocation:m});if(b=Math.min(P,b),S=C+h,w){let O=0;for(;O<h;)y[C+O]=1,O+=1}}S=-1;let M=[],A=1,_=h+v;const E=1<<h-1;for(let P=0;P<h;P+=1){let O=0,L=_;for(;O<L;)$m(t,{errors:P,currentLocation:x+L,expectedLocation:x,distance:a,ignoreLocation:m})<=b?O=L:_=L,L=Math.floor((_-O)/2+O);_=L;let R=Math.max(1,x-L+1),B=c?v:Math.min(x+L,v)+h,k=Array(B+2);k[B+1]=(1<<P)-1;for(let W=B;W>=R;W-=1){let Z=W-1,$=n[e.charAt(Z)];if(w&&(y[Z]=+!!$),k[W]=(k[W+1]<<1|1)&$,P&&(k[W]|=(M[W+1]|M[W])<<1|1|M[W+1]),k[W]&E&&(A=$m(t,{errors:P,currentLocation:Z,expectedLocation:x,distance:a,ignoreLocation:m}),A<=b)){if(b=A,S=Z,S<=x)break;R=Math.max(1,2*x-S)}}if($m(t,{errors:P+1,currentLocation:x,expectedLocation:x,distance:a,ignoreLocation:m})>b)break;M=k}const T={isMatch:S>=0,score:Math.max(.001,A)};if(w){const P=xse(y,u);P.length?f&&(T.indices=P):T.isMatch=!1}return T}function bse(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const a=e.charAt(n);t[a]=(t[a]||0)|1<<r-n-1}return t}const jh=String.prototype.normalize?(e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(e=>e);class vI{constructor(t,{location:n=Ge.location,threshold:r=Ge.threshold,distance:a=Ge.distance,includeMatches:s=Ge.includeMatches,findAllMatches:c=Ge.findAllMatches,minMatchCharLength:u=Ge.minMatchCharLength,isCaseSensitive:f=Ge.isCaseSensitive,ignoreDiacritics:m=Ge.ignoreDiacritics,ignoreLocation:h=Ge.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:a,includeMatches:s,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:f,ignoreDiacritics:m,ignoreLocation:h},t=f?t:t.toLowerCase(),t=m?jh(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const v=(b,S)=>{this.chunks.push({pattern:b,alphabet:bse(b),startIndex:S})},x=this.pattern.length;if(x>Ol){let b=0;const S=x%Ol,w=x-S;for(;b<w;)v(this.pattern.substr(b,Ol),b),b+=Ol;if(S){const y=x-Ol;v(this.pattern.substr(y),y)}}else v(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:a}=this.options;if(t=n?t:t.toLowerCase(),t=r?jh(t):t,this.pattern===t){let w={isMatch:!0,score:0};return a&&(w.indices=[[0,t.length-1]]),w}const{location:s,distance:c,threshold:u,findAllMatches:f,minMatchCharLength:m,ignoreLocation:h}=this.options;let v=[],x=0,b=!1;this.chunks.forEach(({pattern:w,alphabet:y,startIndex:C})=>{const{isMatch:M,score:A,indices:_}=gse(t,w,y,{location:s+C,distance:c,threshold:u,findAllMatches:f,minMatchCharLength:m,includeMatches:a,ignoreLocation:h});M&&(b=!0),x+=A,M&&_&&(v=[...v,..._])});let S={isMatch:b,score:b?x/this.chunks.length:1};return b&&a&&(S.indices=v),S}}class nl{constructor(t){this.pattern=t}static isMultiMatch(t){return j_(t,this.multiRegex)}static isSingleMatch(t){return j_(t,this.singleRegex)}search(){}}function j_(e,t){const n=e.match(t);return n?n[1]:null}class yse extends nl{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class wse extends nl{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class jse extends nl{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Nse extends nl{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Sse extends nl{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class Cse extends nl{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class xI extends nl{constructor(t,{location:n=Ge.location,threshold:r=Ge.threshold,distance:a=Ge.distance,includeMatches:s=Ge.includeMatches,findAllMatches:c=Ge.findAllMatches,minMatchCharLength:u=Ge.minMatchCharLength,isCaseSensitive:f=Ge.isCaseSensitive,ignoreDiacritics:m=Ge.ignoreDiacritics,ignoreLocation:h=Ge.ignoreLocation}={}){super(t),this._bitapSearch=new vI(t,{location:n,threshold:r,distance:a,includeMatches:s,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:f,ignoreDiacritics:m,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class gI extends nl{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const a=[],s=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+s,a.push([r,n-1]);const c=!!a.length;return{isMatch:c,score:c?0:1,indices:a}}}const Qy=[yse,gI,jse,Nse,Cse,Sse,wse,xI],N_=Qy.length,Ase=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Mse="|";function Dse(e,t={}){return e.split(Mse).map(n=>{let r=n.trim().split(Ase).filter(s=>s&&!!s.trim()),a=[];for(let s=0,c=r.length;s<c;s+=1){const u=r[s];let f=!1,m=-1;for(;!f&&++m<N_;){const h=Qy[m];let v=h.isMultiMatch(u);v&&(a.push(new h(v,t)),f=!0)}if(!f)for(m=-1;++m<N_;){const h=Qy[m];let v=h.isSingleMatch(u);if(v){a.push(new h(v,t));break}}}return a})}const kse=new Set([xI.type,gI.type]);class Ese{constructor(t,{isCaseSensitive:n=Ge.isCaseSensitive,ignoreDiacritics:r=Ge.ignoreDiacritics,includeMatches:a=Ge.includeMatches,minMatchCharLength:s=Ge.minMatchCharLength,ignoreLocation:c=Ge.ignoreLocation,findAllMatches:u=Ge.findAllMatches,location:f=Ge.location,threshold:m=Ge.threshold,distance:h=Ge.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:a,minMatchCharLength:s,findAllMatches:u,ignoreLocation:c,location:f,threshold:m,distance:h},t=n?t:t.toLowerCase(),t=r?jh(t):t,this.pattern=t,this.query=Dse(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:a,ignoreDiacritics:s}=this.options;t=a?t:t.toLowerCase(),t=s?jh(t):t;let c=0,u=[],f=0;for(let m=0,h=n.length;m<h;m+=1){const v=n[m];u.length=0,c=0;for(let x=0,b=v.length;x<b;x+=1){const S=v[x],{isMatch:w,indices:y,score:C}=S.search(t);if(w){if(c+=1,f+=C,r){const M=S.constructor.type;kse.has(M)?u=[...u,...y]:u.push(y)}}else{f=0,c=0,u.length=0;break}}if(c){let x={isMatch:!0,score:f/c};return r&&(x.indices=u),x}}return{isMatch:!1,score:1}}}const Xy=[];function _se(...e){Xy.push(...e)}function Zy(e,t){for(let n=0,r=Xy.length;n<r;n+=1){let a=Xy[n];if(a.condition(e,t))return new a(e,t)}return new vI(e,t)}const Nh={AND:"$and",OR:"$or"},Jy={PATH:"$path",PATTERN:"$val"},e1=e=>!!(e[Nh.AND]||e[Nh.OR]),Ose=e=>!!e[Jy.PATH],Tse=e=>!Zi(e)&&fI(e)&&!e1(e),S_=e=>({[Nh.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function bI(e,t,{auto:n=!0}={}){const r=a=>{let s=Object.keys(a);const c=Ose(a);if(!c&&s.length>1&&!e1(a))return r(S_(a));if(Tse(a)){const f=c?a[Jy.PATH]:s[0],m=c?a[Jy.PATTERN]:a[f];if(!ei(m))throw new Error(ase(f));const h={keyId:Wy(f),pattern:m};return n&&(h.searcher=Zy(m,t)),h}let u={children:[],operator:s[0]};return s.forEach(f=>{const m=a[f];Zi(m)&&m.forEach(h=>{u.children.push(r(h))})}),u};return e1(e)||(e=S_(e)),r(e)}function Pse(e,{ignoreFieldNorm:t=Ge.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:a,norm:s,score:c})=>{const u=a?a.weight:null;r*=Math.pow(c===0&&u?Number.EPSILON:c,(u||1)*(t?1:s))}),n.score=r})}function Ise(e,t){const n=e.matches;t.matches=[],In(n)&&n.forEach(r=>{if(!In(r.indices)||!r.indices.length)return;const{indices:a,value:s}=r;let c={indices:a,value:s};r.key&&(c.key=r.key.src),r.idx>-1&&(c.refIndex=r.idx),t.matches.push(c)})}function Rse(e,t){t.score=e.score}function Lse(e,t,{includeMatches:n=Ge.includeMatches,includeScore:r=Ge.includeScore}={}){const a=[];return n&&a.push(Ise),r&&a.push(Rse),e.map(s=>{const{idx:c}=s,u={item:t[c],refIndex:c};return a.length&&a.forEach(f=>{f(s,u)}),u})}class zc{constructor(t,n={},r){this.options={...Ge,...n},this.options.useExtendedSearch,this._keyStore=new ose(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof hj))throw new Error(nse);this._myIndex=n||hI(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){In(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,a=this._docs.length;r<a;r+=1){const s=this._docs[r];t(s,r)&&(this.removeAt(r),r-=1,a-=1,n.push(s))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:a,shouldSort:s,sortFn:c,ignoreFieldNorm:u}=this.options;let f=ei(t)?ei(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Pse(f,{ignoreFieldNorm:u}),s&&f.sort(c),dI(n)&&n>-1&&(f=f.slice(0,n)),Lse(f,this._docs,{includeMatches:r,includeScore:a})}_searchStringList(t){const n=Zy(t,this.options),{records:r}=this._myIndex,a=[];return r.forEach(({v:s,i:c,n:u})=>{if(!In(s))return;const{isMatch:f,score:m,indices:h}=n.searchIn(s);f&&a.push({item:s,idx:c,matches:[{score:m,value:s,norm:u,indices:h}]})}),a}_searchLogical(t){const n=bI(t,this.options),r=(u,f,m)=>{if(!u.children){const{keyId:v,searcher:x}=u,b=this._findMatches({key:this._keyStore.get(v),value:this._myIndex.getValueForItemAtKeyId(f,v),searcher:x});return b&&b.length?[{idx:m,item:f,matches:b}]:[]}const h=[];for(let v=0,x=u.children.length;v<x;v+=1){const b=u.children[v],S=r(b,f,m);if(S.length)h.push(...S);else if(u.operator===Nh.AND)return[]}return h},a=this._myIndex.records,s={},c=[];return a.forEach(({$:u,i:f})=>{if(In(u)){let m=r(n,u,f);m.length&&(s[f]||(s[f]={idx:f,item:u,matches:[]},c.push(s[f])),m.forEach(({matches:h})=>{s[f].matches.push(...h)}))}}),c}_searchObjectList(t){const n=Zy(t,this.options),{keys:r,records:a}=this._myIndex,s=[];return a.forEach(({$:c,i:u})=>{if(!In(c))return;let f=[];r.forEach((m,h)=>{f.push(...this._findMatches({key:m,value:c[h],searcher:n}))}),f.length&&s.push({idx:u,item:c,matches:f})}),s}_findMatches({key:t,value:n,searcher:r}){if(!In(n))return[];let a=[];if(Zi(n))n.forEach(({v:s,i:c,n:u})=>{if(!In(s))return;const{isMatch:f,score:m,indices:h}=r.searchIn(s);f&&a.push({score:m,key:t,value:s,idx:c,norm:u,indices:h})});else{const{v:s,n:c}=n,{isMatch:u,score:f,indices:m}=r.searchIn(s);u&&a.push({score:f,key:t,value:s,norm:c,indices:m})}return a}}zc.version="7.1.0";zc.createIndex=hI;zc.parseIndex=vse;zc.config=Ge;zc.parseQuery=bI;_se(Ese);let ha=null,Ku=null;function zse(e){if(!e)return!1;const t=new Date(e),n=new Date;return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()}function Fse(){return ha?Promise.resolve(ha):Ku||(Ku=eF("fundsList").then(e=>e&&Array.isArray(e.data)&&zse(e.updatedAt)?(ha=e.data,ha):kz().then(t=>(ha=Array.isArray(t)?t:[],vn("fundsList",ha),ha))).catch(()=>(Ku=null,[])),Ku)}function vj({value:e,onSelect:t,placeholder:n,disabled:r}){const[a,s]=j.useState(""),[c,u]=j.useState(ha||[]),[f,m]=j.useState(!ha),[h,v]=j.useState(!1),x=j.useRef(null);j.useEffect(()=>{if(ha){u(ha),m(!1);return}Fse().then(M=>{u(M),m(!1)})},[]),j.useEffect(()=>{function M(A){x.current&&!x.current.contains(A.target)&&v(!1)}return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const b=j.useMemo(()=>c.length?new zc(c,{keys:["fundName"],threshold:.3,distance:50,minMatchCharLength:2,includeScore:!0,ignoreLocation:!1,findAllMatches:!0}):null,[c]),S=j.useMemo(()=>!b||a.length<2?[]:b.search(a).slice(0,50).map(M=>M.item),[b,a]);function w(M){s(M),v(M.length>=2)}function y(M){t({schemeCode:M.fundCode||M.schemeCode,fundName:M.fundName,nav:M.nav,navDate:M.navDate}),s(""),v(!1)}function C(){t({schemeCode:"",fundName:"",nav:0,navDate:""}),s("")}return e?.fundName?l.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate",children:e.fundName}),l.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e.schemeCode}),e.nav>0&&l.jsxs("span",{className:"text-xs font-medium text-emerald-400",children:["NAV: ",e.nav.toFixed(2),e.navDate?` (${e.navDate})`:""]})]})]}),l.jsx("button",{type:"button",onClick:C,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:l.jsx(Ul,{size:14})})]}):l.jsxs("div",{ref:x,className:"relative",children:[l.jsxs("div",{className:"relative",children:[f?l.jsx(KO,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400 animate-spin"}):l.jsx(JO,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),l.jsx("input",{type:"text",value:a,onChange:M=>w(M.target.value),onFocus:()=>a.length>=2&&v(!0),placeholder:f?"Loading funds...":n||"Search fund name...",disabled:r||f,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),h&&S.length>0&&l.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:S.map(M=>l.jsxs("button",{type:"button",onClick:()=>y(M),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:M.fundName}),l.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:M.fundCode||M.schemeCode}),M.nav>0&&l.jsxs("span",{className:"text-xs text-emerald-400 tabular-nums",children:["NAV: ",M.nav.toFixed(2),M.navDate?` (${M.navDate})`:""]})]})]},M.fundCode||M.schemeCode))}),h&&a.length>=2&&S.length===0&&!f&&l.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No funds found for "',a,'"']})})]})}const Bse=[{value:"INITIAL",label:"Add Existing Holdings"},{value:"SIP",label:"SIP Investment"},{value:"LUMPSUM",label:"Lumpsum Investment"}];function $se({portfolioId:e,fundCode:t,fundName:n,transactionType:r,onSave:a,onCancel:s}){const{mfPortfolios:c,mfHoldings:u}=ht(),{selectedMember:f}=Yr(),m=j.useMemo(()=>{const k=c.filter(K=>K.status==="Active");return f==="all"?k:k.filter(K=>K.ownerId===f)},[c,f]),[h,v]=j.useState({portfolioId:e||"",fundCode:t||"",fundName:n||"",nav:0,navDate:"",transactionType:r||"SIP",date:new Date().toISOString().split("T")[0],units:"",price:"",notes:""}),[x,b]=j.useState({}),[S,w]=j.useState(!1),[y,C]=j.useState(!t);function M(k,K){v(W=>({...W,[k]:K})),b(W=>({...W,[k]:void 0}))}function A({schemeCode:k,fundName:K,nav:W,navDate:Z}){v($=>({...$,fundCode:k,fundName:K,nav:W||0,navDate:Z||"",price:W>0?String(W):$.price})),b($=>({...$,fundCode:void 0,fundName:void 0})),C(!1)}function _(k){v(K=>({...K,fundCode:k.schemeCode,fundName:k.fundName,nav:k.currentNav||0,navDate:"",price:k.currentNav>0?String(k.currentNav):K.price})),b(K=>({...K,fundCode:void 0})),C(!1)}const E=j.useMemo(()=>h.portfolioId?u.filter(k=>k.portfolioId===h.portfolioId).sort((k,K)=>K.currentValue-k.currentValue):[],[u,h.portfolioId]),T=j.useMemo(()=>!h.portfolioId||!h.fundCode?null:u.find(k=>k.portfolioId===h.portfolioId&&k.schemeCode===h.fundCode),[u,h.portfolioId,h.fundCode]),P=h.fundCode&&!T,O=j.useMemo(()=>(Number(h.units)||0)*(Number(h.price)||0),[h.units,h.price]);function L(){const k={};return h.portfolioId||(k.portfolioId="Required"),h.fundCode||(k.fundCode="Select a fund"),h.date||(k.date="Required"),(!h.units||Number(h.units)<=0)&&(k.units="Must be > 0"),(!h.price||Number(h.price)<=0)&&(k.price="Must be > 0"),b(k),Object.keys(k).length===0}async function R(){if(L()){w(!0);try{await a({portfolioId:h.portfolioId,fundCode:h.fundCode,fundName:h.fundName,transactionType:h.transactionType,purchaseDate:h.date,units:h.units,avgPrice:h.price,notes:h.notes})}finally{w(!1)}}}const B=m.map(k=>{const K=k.portfolioName?.replace(/^PFL-/,"")||k.portfolioName,W=k.ownerName?`${K} (${k.ownerName})`:K;return{value:k.portfolioId,label:W}});return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Portfolio",required:!0,error:x.portfolioId,children:l.jsx(Ke,{value:h.portfolioId,onChange:k=>{M("portfolioId",k),t||(M("fundCode",""),M("fundName",""),C(!1))},options:B,placeholder:"Select portfolio..."})}),l.jsx(oe,{label:"Transaction Type",required:!0,children:l.jsx(Ke,{value:h.transactionType,onChange:k=>M("transactionType",k),options:Bse})})]}),l.jsx(oe,{label:"Fund",required:!0,error:x.fundCode,children:h.fundCode&&!y?l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:h.fundName}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[h.fundCode,h.nav>0&&l.jsxs("span",{className:"ml-2 text-emerald-400",children:["NAV: ",h.nav.toFixed(2)]})]})]}),l.jsx("button",{type:"button",onClick:()=>{M("fundCode",""),M("fundName",""),C(!0)},className:"text-xs text-[var(--text-muted)] hover:text-[var(--text-primary)] underline shrink-0",children:"Change"})]}):l.jsxs("div",{className:"space-y-3",children:[E.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5",children:"Portfolio Funds"}),l.jsx("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] overflow-hidden max-h-44 overflow-y-auto",children:E.map(k=>l.jsxs("button",{type:"button",onClick:()=>_(k),className:"w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-[var(--bg-hover)] border-b border-[var(--border-light)] last:border-b-0 transition-colors group",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate group-hover:text-white transition-colors",children:k.fundName}),l.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:k.units>0?`${k.units.toFixed(0)} units  ${Q(k.currentValue)}`:"Planned"})]}),l.jsx(ya,{size:12,className:"text-[var(--text-dim)] -rotate-90 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity"})]},k.holdingId))})]}),l.jsxs("div",{children:[E.length>0&&l.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5 flex items-center gap-1",children:[l.jsx(JO,{size:10})," Or search new fund"]}),l.jsx(vj,{value:null,onSelect:A,placeholder:"Search fund by name or code..."})]})]})}),T&&l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  will average out"}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",l.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:T.units.toFixed(2)})," units @ ",T.avgNav.toFixed(2)," avg NAV | Value: ",Q(T.currentValue),T.targetAllocationPct>0&&l.jsxs("span",{children:["  Target: ",T.targetAllocationPct.toFixed(1),"%"]})]})]}),P&&l.jsxs("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:[l.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"}),l.jsx("p",{className:"text-xs text-violet-300/70 mt-0.5",children:"Use Allocations to plan how much to invest before buying"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsx(oe,{label:"Date",required:!0,error:x.date,children:l.jsx(ni,{value:h.date,onChange:k=>M("date",k)})}),l.jsx(oe,{label:"Units",required:!0,error:x.units,children:l.jsx(Me,{type:"number",value:h.units,onChange:k=>M("units",k),placeholder:"e.g., 150.50"})}),l.jsx(oe,{label:"NAV ()",required:!0,error:x.price,children:l.jsx(Me,{type:"number",value:h.price,onChange:k=>M("price",k),placeholder:"e.g., 178.45"})})]}),O>0&&l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(O)}),T&&l.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:["New avg NAV: ",((T.investment+O)/(T.units+Number(h.units))).toFixed(2)," Total units: ",(T.units+Number(h.units)).toFixed(2)]})]}),l.jsx(oe,{label:"Notes",children:l.jsx(Me,{value:h.notes,onChange:k=>M("notes",k),placeholder:"Optional notes..."})}),l.jsx(an,{onCancel:s,onSubmit:R,submitLabel:h.transactionType==="SIP"?"Record SIP":h.transactionType==="LUMPSUM"?"Record Lumpsum":"Add Holdings",loading:S})]})}function qse({portfolioId:e,fundCode:t,onSave:n,onCancel:r}){const{mfPortfolios:a,mfHoldings:s}=ht(),{selectedMember:c}=Yr(),u=j.useMemo(()=>{const R=a.filter(B=>B.status==="Active");return c==="all"?R:R.filter(B=>B.ownerId===c)},[a,c]),f=j.useMemo(()=>!e||!t?null:s.find(R=>R.portfolioId===e&&R.schemeCode===t),[s,e,t]),[m,h]=j.useState({portfolioId:e||"",fundCode:t||"",fundName:f?.fundName||"",date:new Date().toISOString().split("T")[0],units:"",price:f?.currentNav>0?String(f.currentNav):"",notes:""}),[v,x]=j.useState({}),[b,S]=j.useState(!1);function w(R,B){h(k=>({...k,[R]:B})),x(k=>({...k,[R]:void 0}))}const y=j.useMemo(()=>m.portfolioId?s.filter(R=>R.portfolioId===m.portfolioId&&R.units>0):[],[s,m.portfolioId]),C=y.find(R=>R.schemeCode===m.fundCode);function M(R){const B=y.find(k=>k.schemeCode===R);h(k=>({...k,fundCode:R,fundName:B?.fundName||"",price:B?.currentNav?.toString()||""})),x(k=>({...k,fundCode:void 0}))}function A(R){h(B=>({...B,portfolioId:R,fundCode:"",fundName:"",units:"",price:""})),x(B=>({...B,portfolioId:void 0}))}const _=j.useMemo(()=>(Number(m.units)||0)*(Number(m.price)||0),[m.units,m.price]),E=C?_-Number(m.units)*C.avgNav:0;function T(){const R={};return m.portfolioId||(R.portfolioId="Required"),m.fundCode||(R.fundCode="Required"),m.date||(R.date="Required"),(!m.units||Number(m.units)<=0)&&(R.units="Must be > 0"),C&&Number(m.units)>C.units&&(R.units=`Max ${C.units.toFixed(2)} units`),(!m.price||Number(m.price)<=0)&&(R.price="Must be > 0"),x(R),Object.keys(R).length===0}async function P(){if(T()){S(!0);try{await n(m)}finally{S(!1)}}}const O=u.map(R=>{const B=R.portfolioName?.replace(/^PFL-/,"")||R.portfolioName,k=R.ownerName?`${B} (${R.ownerName})`:B;return{value:R.portfolioId,label:k}}),L=y.map(R=>({value:R.schemeCode,label:`${R.fundName}  ${R.units.toFixed(0)} units  ${Q(R.currentValue)}`}));return l.jsxs("div",{className:"space-y-4",children:[l.jsx(oe,{label:"Portfolio",required:!0,error:v.portfolioId,children:l.jsx(Ke,{value:m.portfolioId,onChange:A,options:O,placeholder:"Select portfolio..."})}),l.jsx(oe,{label:"Fund to Redeem",required:!0,error:v.fundCode,children:l.jsx(Ke,{value:m.fundCode,onChange:M,options:L,placeholder:m.portfolioId?y.length?"Select fund...":"No holdings":"Select portfolio first..."})}),C&&l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:C.fundName}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",l.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:C.units.toFixed(2)})," units @ ",C.avgNav.toFixed(2)," avg | Current NAV: ",C.currentNav.toFixed(2)]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsx(oe,{label:"Date",required:!0,error:v.date,children:l.jsx(ni,{value:m.date,onChange:R=>w("date",R)})}),l.jsx(oe,{label:"Units",required:!0,error:v.units,children:l.jsx(Me,{type:"number",value:m.units,onChange:R=>w("units",R),placeholder:C?`Max: ${C.units.toFixed(2)}`:""})}),l.jsx(oe,{label:"NAV ()",required:!0,error:v.price,children:l.jsx(Me,{type:"number",value:m.price,onChange:R=>w("price",R),placeholder:"e.g., 178.45"})})]}),_>0&&l.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Redemption Amount"}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(_)})]}),C&&l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),l.jsxs("p",{className:`text-sm font-bold tabular-nums ${E>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[E>=0?"+":"",Q(E)]})]})]})}),l.jsx(oe,{label:"Notes",children:l.jsx(Me,{value:m.notes,onChange:R=>w("notes",R),placeholder:"Optional notes..."})}),l.jsx(an,{onCancel:r,onSubmit:P,submitLabel:"Redeem",loading:b})]})}function Hse({portfolioId:e,onSave:t,onCancel:n}){const{mfPortfolios:r,mfHoldings:a}=ht(),{selectedMember:s}=Yr(),c=j.useMemo(()=>{const k=r.filter(K=>K.status==="Active");return s==="all"?k:k.filter(K=>K.ownerId===s)},[r,s]),[u,f]=j.useState({portfolioId:e||"",fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",date:new Date().toISOString().split("T")[0],units:"",fromPrice:"",toPrice:"",targetAllocation:"",notes:""}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(k,K){f(W=>({...W,[k]:K})),h(W=>({...W,[k]:void 0}))}function S(k){f(K=>({...K,portfolioId:k,fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",units:"",fromPrice:"",toPrice:"",targetAllocation:""})),h(K=>({...K,portfolioId:void 0}))}const w=j.useMemo(()=>u.portfolioId?a.filter(k=>k.portfolioId===u.portfolioId&&k.units>0):[],[a,u.portfolioId]),y=w.find(k=>k.schemeCode===u.fromFundCode),C=j.useMemo(()=>!u.portfolioId||!u.toFundCode?null:a.find(k=>k.portfolioId===u.portfolioId&&k.schemeCode===u.toFundCode),[a,u.portfolioId,u.toFundCode]),M=u.toFundCode&&!C;function A(k){const K=w.find(W=>W.schemeCode===k);f(W=>({...W,fromFundCode:k,fromFundName:K?.fundName||"",fromPrice:K?.currentNav?.toString()||""})),h(W=>({...W,fromFundCode:void 0}))}function _({schemeCode:k,fundName:K}){const W=a.find(Z=>Z.portfolioId===u.portfolioId&&Z.schemeCode===k);f(Z=>({...Z,toFundCode:k,toFundName:K,toPrice:W?.currentNav?.toString()||Z.toPrice,targetAllocation:""})),h(Z=>({...Z,toFundCode:void 0}))}const E=j.useMemo(()=>(Number(u.units)||0)*(Number(u.fromPrice)||0),[u.units,u.fromPrice]),T=E>0&&Number(u.toPrice)>0?E/Number(u.toPrice):0,P=y?E-Number(u.units)*y.avgNav:0;function O(){const k={};return u.portfolioId||(k.portfolioId="Required"),u.fromFundCode||(k.fromFundCode="Required"),u.toFundCode||(k.toFundCode="Required"),u.fromFundCode&&u.toFundCode&&u.fromFundCode===u.toFundCode&&(k.toFundCode="Must be different from source fund"),u.date||(k.date="Required"),(!u.units||Number(u.units)<=0)&&(k.units="Must be > 0"),y&&Number(u.units)>y.units&&(k.units=`Max ${y.units.toFixed(2)} units`),(!u.fromPrice||Number(u.fromPrice)<=0)&&(k.fromPrice="Must be > 0"),(!u.toPrice||Number(u.toPrice)<=0)&&(k.toPrice="Must be > 0"),h(k),Object.keys(k).length===0}async function L(){if(O()){x(!0);try{await t(u)}finally{x(!1)}}}const R=c.map(k=>{const K=k.portfolioName?.replace(/^PFL-/,"")||k.portfolioName,W=k.ownerName?`${K} (${k.ownerName})`:K;return{value:k.portfolioId,label:W}}),B=w.map(k=>({value:k.schemeCode,label:k.fundName}));return l.jsxs("div",{className:"space-y-4",children:[l.jsx(oe,{label:"Portfolio",required:!0,error:m.portfolioId,children:l.jsx(Ke,{value:u.portfolioId,onChange:S,options:R,placeholder:"Select portfolio..."})}),l.jsx(oe,{label:"Switch From (Sell)",required:!0,error:m.fromFundCode,children:l.jsx(Ke,{value:u.fromFundCode,onChange:A,options:B,placeholder:u.portfolioId?w.length?"Select fund to switch from...":"No holdings":"Select portfolio first..."})}),y&&l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:y.fundName}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",l.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:y.units.toFixed(2)})," units @ ",y.avgNav.toFixed(2)," avg | Current NAV: ",y.currentNav.toFixed(2)]})]}),l.jsx(oe,{label:"Switch To (Buy)",required:!0,error:m.toFundCode,children:l.jsx(vj,{value:u.toFundCode?{schemeCode:u.toFundCode,fundName:u.toFundName}:null,onSelect:_,placeholder:"Search fund to switch into...",disabled:!u.portfolioId})}),C&&l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  units will be added, NAV averaged out"}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",l.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:C.units.toFixed(2)})," units @ ",C.avgNav.toFixed(2)," avg | Alloc: ",C.targetAllocationPct.toFixed(1),"%"]})]}),M&&u.toFundCode&&l.jsx("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:l.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Switch Date",required:!0,error:m.date,children:l.jsx(ni,{value:u.date,onChange:k=>b("date",k)})}),l.jsx(oe,{label:"Units to Switch",required:!0,error:m.units,children:l.jsx(Me,{type:"number",value:u.units,onChange:k=>b("units",k),placeholder:y?`Max: ${y.units.toFixed(2)}`:""})})]}),l.jsxs("div",{className:`grid grid-cols-1 ${M?"sm:grid-cols-3":"sm:grid-cols-2"} gap-4`,children:[l.jsx(oe,{label:"From Fund NAV ()",required:!0,error:m.fromPrice,children:l.jsx(Me,{type:"number",value:u.fromPrice,onChange:k=>b("fromPrice",k),placeholder:"e.g., 178.45"})}),l.jsx(oe,{label:"To Fund NAV ()",required:!0,error:m.toPrice,children:l.jsx(Me,{type:"number",value:u.toPrice,onChange:k=>b("toPrice",k),placeholder:"e.g., 82.10"})}),M&&l.jsx(oe,{label:"Target Allocation (%)",children:l.jsx(Me,{type:"number",value:u.targetAllocation,onChange:k=>b("targetAllocation",k),placeholder:"e.g., 20"})})]}),E>0&&l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Switch Amount"}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(E)})]}),T>0&&l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Units Bought"}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:T.toFixed(4)})]}),y&&l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),l.jsxs("p",{className:`text-sm font-bold tabular-nums ${P>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[P>=0?"+":"",Q(P)]})]})]}),C&&T>0&&l.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1 border-t border-[var(--border-light)] pt-1",children:["New total: ",(C.units+T).toFixed(2)," units  New avg NAV: ",((C.investment+E)/(C.units+T)).toFixed(2)]})]}),l.jsx(oe,{label:"Notes",children:l.jsx(Me,{value:u.notes,onChange:k=>b("notes",k),placeholder:"Optional notes..."})}),l.jsx(an,{onCancel:n,onSubmit:L,submitLabel:"Switch Funds",loading:v})]})}function Use({portfolioId:e,onSave:t,onCancel:n}){const{mfHoldings:r,mfPortfolios:a}=ht(),s=a.find(O=>O.portfolioId===e),c=j.useMemo(()=>r.filter(O=>O.portfolioId===e),[r,e]),[u,f]=j.useState(()=>c.map(O=>({schemeCode:O.schemeCode,fundName:O.fundName,units:O.units,currentValue:O.currentValue,currentAllocationPct:O.currentAllocationPct,targetAllocationPct:O.targetAllocationPct,isNew:!1}))),[m,h]=j.useState(null),[v,x]=j.useState(""),[b,S]=j.useState(""),[w,y]=j.useState(!1),C=u.reduce((O,L)=>O+L.targetAllocationPct,0),M=u.reduce((O,L)=>O+L.currentValue,0);function A(O,L){f(R=>R.map(B=>B.schemeCode===O?{...B,targetAllocationPct:Number(L)||0}:B)),S("")}function _(O){const L=u.find(R=>R.schemeCode===O);L&&L.units>0||f(R=>R.filter(B=>B.schemeCode!==O))}function E(){if(m){if(u.find(O=>O.schemeCode===m.schemeCode)){S("Fund already exists in portfolio");return}f(O=>[...O,{schemeCode:m.schemeCode,fundName:m.fundName,units:0,currentValue:0,currentAllocationPct:0,targetAllocationPct:Number(v)||0,isNew:!0}]),h(null),x(""),S("")}}async function T(){if(C>100){S(`Total allocation is ${C.toFixed(1)}%  must be  100%`);return}y(!0);try{await t(u.map(O=>({schemeCode:O.schemeCode,fundName:O.fundName,targetAllocationPct:O.targetAllocationPct,isNew:O.isNew})))}finally{y(!1)}}const P=s?.sipTarget||0;return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:s?.portfolioName}),l.jsx("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] mt-0.5 flex-wrap",children:l.jsxs("span",{children:["Current Value: ",l.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:Q(M)})]})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[l.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Units"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Current %"}),l.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Target %"}),l.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold w-8"})]})}),l.jsx("tbody",{children:u.map(O=>{const L=O.isNew&&O.targetAllocationPct>0&&O.targetAllocationPct<100&&M>0?O.targetAllocationPct/(100-O.targetAllocationPct)*M:0,R=O.isNew&&O.targetAllocationPct>0&&P>=100?O.targetAllocationPct/100*P:0;return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[l.jsxs("td",{className:"py-2 px-2",children:[l.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight max-w-[200px] truncate",children:O.fundName}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[O.schemeCode,O.isNew&&l.jsx("span",{className:"text-violet-400 ml-1",children:"(new)"})]}),(L>0||R>0)&&l.jsxs("p",{className:"text-xs text-blue-400 mt-0.5",children:["Invest: ",L>0&&l.jsx("span",{className:"font-semibold",children:Q(L)}),L>0&&R>0&&"  ",R>0&&l.jsxs("span",{className:"font-semibold",children:[Q(R),"/mo SIP"]})]})]}),l.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:O.units.toFixed(2)}),l.jsxs("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:[O.currentAllocationPct.toFixed(1),"%"]}),l.jsx("td",{className:"py-2 px-2",children:l.jsx("input",{type:"number",value:O.targetAllocationPct,onChange:B=>A(O.schemeCode,B.target.value),className:"w-20 mx-auto block bg-[var(--bg-inset)] border border-[var(--border)] rounded px-2 py-1 text-xs text-center text-[var(--text-primary)] focus:outline-none focus:border-violet-500/50"})}),l.jsx("td",{className:"py-2 px-2 text-center",children:O.units===0&&l.jsx("button",{onClick:()=>_(O.schemeCode),className:"p-1 rounded hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors",children:l.jsx(Mh,{size:12})})})]},O.schemeCode)})}),l.jsx("tfoot",{children:l.jsxs("tr",{className:"border-t border-[var(--border)]",children:[l.jsx("td",{className:"py-2 px-2 text-xs font-bold text-[var(--text-primary)]",children:"Total"}),l.jsx("td",{}),l.jsxs("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[u.reduce((O,L)=>O+L.currentAllocationPct,0).toFixed(1),"%"]}),l.jsx("td",{className:"py-2 px-2 text-center",children:l.jsxs("span",{className:`text-xs font-bold tabular-nums ${C>100?"text-[var(--accent-rose)]":C===100?"text-emerald-400":"text-amber-400"}`,children:[C.toFixed(1),"%"]})}),l.jsx("td",{})]})})]})}),l.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider mb-1",children:"Add New Fund"}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Set target % to see how much to invest. After buying, use Invest to record the transaction."}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(vj,{value:m,onSelect:O=>h(O.schemeCode?O:null),placeholder:"Search fund to add..."}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-28",children:l.jsx("input",{type:"number",value:v,onChange:O=>x(O.target.value),placeholder:"Target %",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),l.jsxs("button",{onClick:E,disabled:!m,className:"flex items-center gap-1 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[l.jsx(Pr,{size:14})," Add"]})]})]})]})]}),b&&l.jsx("p",{className:"text-xs text-[var(--accent-rose)] font-medium",children:b}),l.jsx(an,{onCancel:n,onSubmit:T,submitLabel:"Save Allocations",loading:w})]})}const Bb=["Equity","Debt","Cash","Commodities","Real Estate","Other"],$b=["Giant","Large","Mid","Small","Micro"],qb=["India","Global"];function Yse({fund:e,initial:t,onSave:n,onCancel:r}){const[a,s]=j.useState(()=>{const E={};return Bb.forEach(T=>{E[T]=t?.assetAllocation?.[T]||0}),t?.assetAllocation&&Object.keys(t.assetAllocation).forEach(T=>{T in E||(E[T]=t.assetAllocation[T])}),E}),[c,u]=j.useState(()=>{const E={};return $b.forEach(T=>{E[T]=t?.equityAllocation?.[T]||0}),t?.equityAllocation&&Object.keys(t.equityAllocation).forEach(T=>{T in E||(E[T]=t.equityAllocation[T])}),E}),[f,m]=j.useState(()=>{const E={};return qb.forEach(T=>{E[T]=t?.geoAllocation?.[T]||0}),t?.geoAllocation&&Object.keys(t.geoAllocation).forEach(T=>{T in E||(E[T]=t.geoAllocation[T])}),E}),[h,v]=j.useState(!1),x=Object.values(a).reduce((E,T)=>E+T,0),b=Object.values(c).reduce((E,T)=>E+T,0),S=Object.values(f).reduce((E,T)=>E+T,0),w=a.Equity||0,y=x===100||x===0,C=b===100||b===0||w===0,M=S===100||S===0||w===0,A=y&&C&&M;async function _(){if(A){v(!0);try{const E={fundCode:e.fundCode,fundName:e.fundName,equity:a.Equity||0,debt:a.Debt||0,cash:a.Cash||0,commodities:a.Commodities||0,realEstate:a["Real Estate"]||0,customAsset:{},giantCap:c.Giant||0,largeCap:c.Large||0,midCap:c.Mid||0,smallCap:c.Small||0,microCap:c.Micro||0,customCap:{},geoIndia:f.India||0,geoGlobal:f.Global||0,customGeo:{}};Object.entries(a).forEach(([T,P])=>{!Bb.includes(T)&&P>0&&(E.customAsset[T]=P)}),Object.entries(c).forEach(([T,P])=>{!$b.includes(T)&&P>0&&(E.customCap[T]=P)}),Object.entries(f).forEach(([T,P])=>{!qb.includes(T)&&P>0&&(E.customGeo[T]=P)}),await n(E)}finally{v(!1)}}}return l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-2.5",children:[l.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)] truncate",children:e.fundName}),l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:e.fundCode})]}),l.jsx(Hb,{title:"Asset Class %",fields:a,setFields:s,standardKeys:Bb,total:x,valid:y}),w>0&&l.jsx(Hb,{title:"Market Cap %",subtitle:"Equity breakdown",fields:c,setFields:u,standardKeys:$b,total:b,valid:C}),w>0&&l.jsx(Hb,{title:"Geography %",fields:f,setFields:m,standardKeys:qb,total:S,valid:M}),l.jsxs("div",{className:"flex items-center justify-end gap-2 pt-3 border-t border-[var(--border-light)]",children:[l.jsx("button",{onClick:r,disabled:h,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),l.jsxs("button",{onClick:_,disabled:h||!A,className:"flex items-center gap-1.5 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:[h?l.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):l.jsx(ZO,{size:12}),h?"Saving...":"Save"]})]})]})}function Hb({title:e,subtitle:t,fields:n,setFields:r,standardKeys:a,total:s,valid:c}){const[u,f]=j.useState(!1),[m,h]=j.useState("");function v(w,y){r(C=>({...C,[w]:Number(y)||0}))}function x(){const w=m.trim();!w||w in n||(r(y=>({...y,[w]:0})),h(""),f(!1))}function b(w){r(y=>{const C={...y};return delete C[w],C})}const S=Object.keys(n);return l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider",children:e}),t&&l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["(",t,")"]})]}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-1.5",children:S.map(w=>{const y=!a.includes(w);return l.jsxs("div",{className:"relative",children:[l.jsxs("label",{className:"block text-[10px] text-[var(--text-dim)] mb-0.5 flex items-center gap-1",children:[w,y&&l.jsx("button",{onClick:()=>b(w),className:"text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:l.jsx(Ul,{size:8})})]}),l.jsx("input",{type:"number",min:"0",max:"100",value:n[w]||"",onChange:C=>v(w,C.target.value),className:"w-[72px] px-1.5 py-1 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md tabular-nums text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})]},w)})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("p",{className:`text-[10px] tabular-nums ${c?"text-[var(--text-dim)]":"text-[var(--accent-rose)] font-semibold"}`,children:["Total: ",s,"% ",!c&&" must equal 100%",c&&s===100&&l.jsx("span",{className:"text-emerald-400 ml-1",children:""})]}),u?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("input",{autoFocus:!0,value:m,onChange:w=>h(w.target.value),onKeyDown:w=>{w.key==="Enter"&&x(),w.key==="Escape"&&f(!1)},placeholder:"Field name",className:"w-24 px-1.5 py-0.5 text-[10px] bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md focus:outline-none focus:border-[var(--sidebar-active-text)]"}),l.jsx("button",{onClick:x,className:"text-[10px] font-semibold text-emerald-400 hover:text-emerald-300",children:"Add"}),l.jsx("button",{onClick:()=>{f(!1),h("")},className:"text-[10px] text-[var(--text-dim)] hover:text-[var(--text-primary)]",children:l.jsx(Ul,{size:10})})]}):l.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-0.5 text-[10px] font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[l.jsx(Pr,{size:10})," Add Field"]})]})]})}const qm=e=>e?.replace(/^PFL-/,"")||e;function Vse(e){if(!e)return"Other";const t=e.toLowerCase();return t.includes("gold")||t.includes("silver")||t.includes("commodity")?"Commodity":t.includes("liquid")||t.includes("money market")||t.includes("overnight")?"Liquid":t.includes("gilt")||t.includes("government securities")||t.includes("constant maturity")?"Gilt":t.includes("elss")||t.includes("tax saver")?"ELSS":t.includes("debt")||t.includes("bond")||t.includes("income fund")||t.includes("corporate bond")||t.includes("banking & psu")||t.includes("short duration")||t.includes("medium duration")||t.includes("long duration")||t.includes("short term")||t.includes("medium term")||t.includes("floater")||t.includes("floating rate")||t.includes("credit")||t.includes("accrual")||t.includes("savings fund")||t.includes("ultra short")?"Debt":t.includes("multi asset")?"Multi-Asset":t.includes("hybrid")||t.includes("balanced")||t.includes("dynamic asset")||t.includes("arbitrage")||t.includes("retirement")||t.includes("children")||t.includes("pension")?"Hybrid":t.includes("equity")||t.includes("flexi cap")||t.includes("large cap")||t.includes("mid cap")||t.includes("small cap")||t.includes("multi cap")||t.includes("focused")||t.includes("contra")||t.includes("value fund")||t.includes("thematic")||t.includes("sectoral")||t.includes("consumption")||t.includes("infrastructure")||t.includes("pharma")||t.includes("healthcare")||t.includes("technology")||t.includes("fmcg")||t.includes("mnc")||t.includes("opportunities fund")||t.includes("midcap")||t.includes("smallcap")||t.includes("largecap")||t.includes("large & mid")?"Equity":t.includes("index")||t.includes("etf")||t.includes("nifty")||t.includes("sensex")?"Index":t.includes("fund of fund")||t.includes("fof")||t.includes("aggressive")||t.includes("conservative")?"Hybrid":"Other"}const Gse={Equity:"#8b5cf6",Debt:"#0ea5e9",Cash:"#2dd4bf",Commodities:"#eab308","Real Estate":"#f97316",Other:"#94a3b8"},Kse={Giant:"#6366f1",Large:"#3b82f6",Mid:"#f59e0b",Small:"#ef4444",Micro:"#ec4899"},Wse={India:"#f97316",Global:"#06b6d4"},Qse={Equity:"bg-violet-500",Debt:"bg-sky-500",Cash:"bg-teal-400",Commodities:"bg-yellow-500","Real Estate":"bg-orange-500",Other:"bg-slate-400"},Xse={Giant:"bg-indigo-500",Large:"bg-blue-500",Mid:"bg-amber-500",Small:"bg-rose-500",Micro:"bg-pink-500"},Zse={India:"bg-orange-500",Global:"bg-cyan-500"};function pa(e){if(!e)return null;if(e instanceof Date)return isNaN(e.getTime())?null:e;const t=String(e),n=t.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(n)return new Date(Number(n[3]),Number(n[2])-1,Number(n[1]));const r=new Date(t);return isNaN(r.getTime())?null:r}function C_(e){return e>=20?{color:"#c62828",fontWeight:700}:e>=10?{color:"#d84315",fontWeight:700}:e>=5?{color:"#e67e00",fontWeight:600}:e>=1?{color:"#b8860b",fontWeight:600}:{color:"var(--text-dim)",fontWeight:400}}function Jse(){const{selectedMember:e}=Yr(),{mfPortfolios:t,mfHoldings:n,mfTransactions:r,activeMembers:a,activeInvestmentAccounts:s,addMFPortfolio:c,updateMFPortfolio:u,deleteMFPortfolio:f,investMF:m,redeemMF:h,switchMF:v,updateHoldingAllocations:x,deleteMFTransaction:b,editMFTransaction:S,assetAllocations:w,updateAssetAllocation:y}=ht(),{showToast:C,showBlockUI:M,hideBlockUI:A}=oi(),_=ci(),{mv:E}=ui(),[T,P]=j.useState(null),[O,L]=j.useState("all"),[R,B]=j.useState("holdings"),[k,K]=j.useState(!1),[W,Z]=j.useState(null),[$,G]=j.useState({}),[z,re]=j.useState("all"),[he,F]=j.useState(null),[ne,ve]=j.useState(!0),be=j.useCallback(Y=>{Z(ue=>ue===Y?null:Y)},[]),Pe=j.useCallback(Y=>{G(ue=>({...ue,[Y]:(ue[Y]||5)+10}))},[]),Re=j.useMemo(()=>t?t.filter(Y=>Y.status!=="Inactive").map(Y=>{let ue=s.find(Fe=>Fe.accountId===Y.investmentAccountId);!ue&&Y.investmentAccountId&&(ue=s.find(Fe=>`${Fe.accountName} - ${Fe.platformBroker}`===Y.investmentAccountId));const je=ue?.memberId||Y.ownerId||"",De=je?a.find(Fe=>Fe.memberId===je):null;return{...Y,investmentAccountId:ue?.accountId||Y.investmentAccountId,ownerId:je,ownerName:De?.memberName||Y.ownerName||"",platform:ue?.platformBroker||Y.investmentAccountName||"",clientId:ue?.accountClientId||""}}):[],[t,s,a]),Ne=j.useMemo(()=>Re.length?e==="all"?Re:Re.filter(Y=>Y.ownerId===e):[],[Re,e]),_e=j.useMemo(()=>n?Ne.map(Y=>{const ue=n.filter(De=>De.portfolioId===Y.portfolioId),je=(r||[]).filter(De=>De.portfolioId===Y.portfolioId);return{...Y,holdings:ue,txns:je,fundCount:ue.length}}):[],[Ne,n,r]),X=j.useMemo(()=>{const Y=O==="all"?_e:_e.filter(Xe=>Xe.portfolioId===O),ue=Y.reduce((Xe,we)=>Xe+we.totalInvestment,0),je=Y.reduce((Xe,we)=>Xe+we.currentValue,0),De=Y.reduce((Xe,we)=>Xe+we.unrealizedPL,0),Fe=Y.reduce((Xe,we)=>Xe+we.realizedPL,0),se=De+Fe,Tt=ue>0?se/ue*100:0,Ye=ue>0?De/ue*100:0,Mt=ue>0?Fe/ue*100:0,Kt=Y.reduce((Xe,we)=>Xe+we.fundCount,0),qt=(n?O==="all"?n.filter(Xe=>Y.some(we=>we.portfolioId===Xe.portfolioId)):n.filter(Xe=>Xe.portfolioId===O):[]).reduce((Xe,we)=>Xe+(we.ongoingSIP||0),0);return{invested:ue,current:je,unrealizedPL:De,unrealizedPLPct:Ye,realizedPL:Fe,realizedPLPct:Mt,totalPL:se,totalPLPct:Tt,funds:Kt,monthlySIP:qt}},[_e,O,n]),Se=j.useMemo(()=>n?O==="all"?n.filter(Y=>Ne.some(ue=>ue.portfolioId===Y.portfolioId)):n.filter(Y=>Y.portfolioId===O):[],[n,Ne,O]),Be=j.useMemo(()=>r?(O==="all"?r.filter(ue=>Ne.some(je=>je.portfolioId===ue.portfolioId)):r.filter(ue=>ue.portfolioId===O)).sort((ue,je)=>(pa(je.date)||0)-(pa(ue.date)||0)):[],[r,Ne,O]),xe=j.useMemo(()=>{const Y=new Set;return Be.forEach(ue=>{ue.fundName&&Y.add(ue.fundName)}),[...Y].sort()},[Be]),et=j.useMemo(()=>z==="all"?Be:Be.filter(Y=>Y.fundName===z),[Be,z]),ge=j.useMemo(()=>{const Y={};return Se.forEach(ue=>{Y[ue.portfolioId]=(Y[ue.portfolioId]||0)+ue.currentValue}),Se.map(ue=>{const je=Y[ue.portfolioId]||0,De=je>0?ue.currentValue/je*100:0,Fe=ue.investment>0?ue.pl/ue.investment*100:0,se=ue.holdingId||`${ue.portfolioId}::${ue.schemeCode||ue.fundCode}`;return{...ue,currentAllocationPct:De,plPct:Fe,_key:se}})},[Se]),He=j.useMemo(()=>{if(O!=="all")return null;const Y=[],ue={};return ge.forEach(je=>{ue[je.portfolioId]||(ue[je.portfolioId]={portfolioId:je.portfolioId,holdings:[]},Y.push(ue[je.portfolioId])),ue[je.portfolioId].holdings.push(je)}),Y},[ge,O]),Ze=j.useMemo(()=>{if(!n)return{};const Y={};return _e.forEach(ue=>{const je=n.filter(Ye=>Ye.portfolioId===ue.portfolioId&&Ye.units>0),De=je.reduce((Ye,Mt)=>Ye+Mt.currentValue,0),Fe=(ue.rebalanceThreshold||.05)*100;let se=0,Tt=0;je.forEach(Ye=>{Ye.athNav>0&&Ye.belowATHPct>=5&&se++;const Mt=De>0?Ye.currentValue/De*100:0;Ye.targetAllocationPct>0&&Math.abs(Mt-Ye.targetAllocationPct)>Fe&&Tt++}),Y[ue.portfolioId]={buyOpp:se,rebalance:Tt}}),Y},[_e,n]),dt=j.useMemo(()=>{if(O!=="all")return Ze[O]||{buyOpp:0,rebalance:0};let Y=0,ue=0;return Object.values(Ze).forEach(je=>{Y+=je.buyOpp,ue+=je.rebalance}),{buyOpp:Y,rebalance:ue}},[O,Ze]),Ct=j.useMemo(()=>{if(!Se.length)return null;const Y={};if(w)for(const we of w)Y[we.fundCode]={asset:we.assetAllocation,equity:we.equityAllocation,geo:we.geoAllocation};const ue={Equity:0,Debt:0,Cash:0,Commodities:0,"Real Estate":0,Other:0},je={Giant:0,Large:0,Mid:0,Small:0,Micro:0},De={India:0,Global:0};let Fe=0,se=!1,Tt=0;for(const we of Se){if(we.units<=0)continue;Fe+=we.currentValue;const We=Y[we.fundCode||we.schemeCode];if(We?.asset){se=!0,Tt++;for(const[tt,Pt]of Object.entries(We.asset)){const zr=we.currentValue*(Pt/100);tt in ue?ue[tt]+=zr:tt==="Gold"?ue.Commodities+=zr:ue.Other+=zr}if(We.equity){const tt=we.currentValue*((We.asset.Equity||0)/100);for(const[Pt,zr]of Object.entries(We.equity)){const vr=tt*(zr/100);Pt in je?je[Pt]+=vr:Pt==="Large Cap"?je.Large+=vr:Pt==="Mid Cap"?je.Mid+=vr:je.Small+=vr}}if(We.geo){const tt=we.currentValue*((We.asset.Equity||0)/100);for(const[Pt,zr]of Object.entries(We.geo)){const vr=tt*(zr/100);Pt in De?De[Pt]+=vr:De.Global+=vr}}}else{let tt=we.category;(!tt||tt==="Other")&&(tt=Vse(we.fundName)),tt==="Equity"||tt==="ELSS"||tt==="Index"?ue.Equity+=we.currentValue:tt==="Debt"||tt==="Gilt"?ue.Debt+=we.currentValue:tt==="Liquid"?ue.Cash+=we.currentValue:tt==="Commodity"?ue.Commodities+=we.currentValue:tt==="Multi-Asset"?(ue.Equity+=we.currentValue*.5,ue.Debt+=we.currentValue*.3,ue.Commodities+=we.currentValue*.2):tt==="Hybrid"||tt==="FoF"?(ue.Equity+=we.currentValue*.65,ue.Debt+=we.currentValue*.35):ue.Other+=we.currentValue}}if(Fe===0)return null;const Mt=((we,We)=>Object.entries(we).filter(([,tt])=>tt>0).sort(([,tt],[,Pt])=>Pt-tt).map(([tt,Pt])=>({name:tt,value:Pt,pct:Pt/Fe*100,fill:We[tt]||"#94a3b8"})))(ue,Gse),Kt=Object.values(je).reduce((we,We)=>we+We,0),$e=Kt>0?Object.entries(je).filter(([,we])=>we>0).sort(([,we],[,We])=>We-we).map(([we,We])=>({name:we,value:We,pct:We/Kt*100,fill:Kse[we]||"#94a3b8"})):[],qt=Object.values(De).reduce((we,We)=>we+We,0),Xe=qt>0?Object.entries(De).filter(([,we])=>we>0).sort(([,we],[,We])=>We-we).map(([we,We])=>({name:we,value:We,pct:We/qt*100,fill:Wse[we]||"#94a3b8"})):[];return{assetList:Mt,capList:$e,geoList:Xe,hasDetailedAlloc:se,configuredCount:Tt,totalFunds:Se.filter(we=>we.units>0).length}},[Se,w]),Nr=j.useMemo(()=>{if(!Se.length)return[];const Y={};return Se.forEach(ue=>{if(!ue.fundCode&&!ue.schemeCode)return;const je=(ue.fundCode||ue.schemeCode).toString();Y[je]||(Y[je]={fundCode:je,fundName:ue.fundName||""})}),Object.values(Y).sort((ue,je)=>ue.fundName.localeCompare(je.fundName))},[Se]);if(t===null||n===null)return l.jsx(ts,{title:"Loading mutual funds",cards:5});const bt=_e.find(Y=>Y.portfolioId===O),At=O==="all"?`All Portfolios (${Ne.length})`:`${qm(bt?.portfolioName)}  ${E(bt?.ownerName,"name")}`;async function Er(Y){M("Saving...");try{T?.editPortfolio?await u(T.editPortfolio.portfolioId,Y):await c(Y),C(T?.editPortfolio?"Portfolio updated":"Portfolio created"),P(null)}catch(ue){C(ue.message||"Failed to save portfolio","error")}finally{A()}}async function sn(){if(T?.editPortfolio&&await _("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){M("Deactivating...");try{await f(T.editPortfolio.portfolioId),C("Portfolio deactivated"),L("all"),P(null)}catch(Y){C(Y.message||"Failed to deactivate portfolio","error")}finally{A()}}}async function nr(Y){M("Recording investment...");try{await m(Y,Y.transactionType),C("Investment recorded"),P(null)}catch(ue){C(ue.message||"Failed to record investment","error")}finally{A()}}async function _a(Y){M("Recording redemption...");try{await h(Y),C("Redemption recorded"),P(null)}catch(ue){C(ue.message||"Failed to record redemption","error")}finally{A()}}async function Ue(Y){M("Recording switch...");try{await v(Y),C("Switch recorded"),P(null)}catch(ue){C(ue.message||"Failed to record switch","error")}finally{A()}}async function te(Y){if(await _("Delete this transaction? This will recalculate your holdings.",{title:"Delete Transaction",confirmLabel:"Delete"})){M("Deleting...");try{await b(Y),C("Transaction deleted"),F(null)}catch(ue){C(ue.message||"Failed to delete transaction","error")}finally{A()}}}async function me(Y){M("Updating...");try{await S(Y),C("Transaction updated"),P(null)}catch(ue){C(ue.message||"Failed to update transaction","error")}finally{A()}}async function Oe(Y){if(T?.allocations){M("Saving allocations...");try{await x(T.allocations,Y),C("Allocations updated"),P(null)}catch(ue){C(ue.message||"Failed to update allocations","error")}finally{A()}}}async function rt(Y){M("Saving classification...");try{await y(Y),C("Fund classified"),P(null)}catch(ue){C(ue.message||"Failed to save classification","error")}finally{A()}}return l.jsxs("div",{className:"space-y-4",children:[Ne.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(ec,{size:32,className:"text-[var(--text-dim)]"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No mutual fund portfolios yet"}),l.jsx("button",{onClick:()=>P("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>K(!k),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[l.jsx(ec,{size:14,className:"text-violet-400 shrink-0"}),l.jsx("span",{className:"truncate",children:At}),l.jsx(ya,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${k?"rotate-180":""}`})]}),k&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>K(!1)}),l.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl min-w-[300px] py-1 overflow-hidden",children:[l.jsxs("button",{onClick:()=>{L("all"),K(!1),B("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${O==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",Ne.length,")"]}),l.jsx("div",{className:"border-t border-[var(--border-light)]"}),_e.map(Y=>{const ue=Y.totalPL>=0,je=Ze[Y.portfolioId]||{};return l.jsx("button",{onClick:()=>{L(Y.portfolioId),K(!1),B("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${O===Y.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("p",{className:`text-sm ${O===Y.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:qm(Y.portfolioName)}),je.buyOpp>0&&l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 shrink-0",title:`${je.buyOpp} buy opportunities`}),je.rebalance>0&&l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 shrink-0",title:`${je.rebalance} funds need rebalancing`})]}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[E(Y.ownerName,"name"),"  ",Y.platform,"  ",Y.fundCount," funds"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(Y.currentValue)}),l.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ue?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ue?"+":"",Y.totalPLPct.toFixed(1),"%"]})]})]})},Y.portfolioId)})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsxs("button",{onClick:()=>P("buyOpp"),disabled:dt.buyOpp===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${dt.buyOpp>0?"text-emerald-400 hover:text-emerald-300 bg-[var(--bg-card)] border border-emerald-500/30 animate-glow-emerald":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[l.jsx(Dh,{size:12})," Buy Opp.",dt.buyOpp>0&&l.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15",children:dt.buyOpp})]}),l.jsxs("button",{onClick:()=>P("rebalance"),disabled:dt.rebalance===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${dt.rebalance>0?"text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-violet-500/30 animate-glow-violet":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[l.jsx(ic,{size:12})," Rebalance",dt.rebalance>0&&l.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-violet-500/15",children:dt.rebalance})]}),bt&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>P({allocations:bt.portfolioId}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(eT,{size:12})," Allocations"]}),l.jsxs("button",{onClick:()=>P({editPortfolio:bt}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(ka,{size:12})," Edit"]})]}),l.jsxs("button",{onClick:()=>P("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Pr,{size:14})," New Portfolio"]})]})]}),bt&&l.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Platform:"})," ",bt.platform]}),l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",E(bt.clientId,"clientId")]}),l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Funds:"})," ",bt.fundCount]}),bt.sipTarget>=100&&l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"SIP Target:"})," ",Q(bt.sipTarget),"/mo"]}),bt.lumpsumTarget>=100&&l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Lumpsum Target:"})," ",Q(bt.lumpsumTarget)]}),l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Rebalance Threshold:"})," ",(bt.rebalanceThreshold*100).toFixed(0),"%"]})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[l.jsx(Vo,{label:"Invested",value:Q(X.invested)}),l.jsx(Vo,{label:"Current Value",value:Q(X.current),bold:!0}),l.jsx(Vo,{label:"Unrealized P&L",value:`${X.unrealizedPL>=0?"+":""}${Q(X.unrealizedPL)}`,sub:`${X.unrealizedPLPct>=0?"+":""}${X.unrealizedPLPct.toFixed(1)}%`,positive:X.unrealizedPL>=0}),l.jsx(Vo,{label:"Realized P&L",value:`${X.realizedPL>=0?"+":""}${Q(X.realizedPL)}`,sub:`${X.realizedPLPct>=0?"+":""}${X.realizedPLPct.toFixed(1)}%`,positive:X.realizedPL>=0}),l.jsx(Vo,{label:"Total P&L",value:`${X.totalPL>=0?"+":""}${Q(X.totalPL)}`,sub:`${X.totalPLPct>=0?"+":""}${X.totalPLPct.toFixed(1)}%`,positive:X.totalPL>=0,bold:!0}),l.jsx(Vo,{label:"Monthly SIP",value:Q(X.monthlySIP),sub:`${X.funds} funds`})]}),Ct&&Ct.assetList.length>0&&l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsxs("button",{onClick:()=>ve(Y=>!Y),className:"w-full flex items-center justify-between px-4 py-2.5 hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx("span",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Portfolio Breakdown"}),l.jsx(ya,{size:14,className:`text-[var(--text-dim)] transition-transform duration-200 ${ne?"rotate-180":""}`})]}),ne&&l.jsxs("div",{className:"px-4 pb-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsx(Ub,{title:"Asset Class",data:Ct.assetList,bgMap:Qse}),Ct.capList.length>0?l.jsx(Ub,{title:"Market Cap",data:Ct.capList,bgMap:Xse}):l.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-4",children:l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:["Classify funds for",l.jsx("br",{}),"market cap breakdown"]})}),Ct.geoList?.length>0?l.jsx(Ub,{title:"Geography",data:Ct.geoList,bgMap:Zse}):l.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-4",children:l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:["Classify funds for",l.jsx("br",{}),"geography breakdown"]})})]}),!Ct.hasDetailedAlloc&&l.jsx("p",{className:"text-[9px] text-[var(--text-dim)]/50 mt-2 text-center",children:"Based on fund category. Go to Fund Breakdown tab to add detailed data from Morningstar."}),Ct.hasDetailedAlloc&&Ct.configuredCount<Ct.totalFunds&&l.jsxs("p",{className:"text-[9px] text-amber-400/70 mt-2 text-center",children:[Ct.totalFunds-Ct.configuredCount," of ",Ct.totalFunds," funds not yet classified"]})]})]}),l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[l.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[l.jsxs("button",{onClick:()=>B("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${R==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[l.jsx(VO,{size:12})," Holdings (",Se.length,")"]}),l.jsxs("button",{onClick:()=>B("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${R==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[l.jsx(gp,{size:12})," Transactions (",et.length,")"]}),l.jsxs("button",{onClick:()=>B("breakdown"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${R==="breakdown"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[l.jsx(CC,{size:12})," Fund Breakdown (",Nr.length,")"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[O==="all"&&l.jsx("span",{className:"text-xs text-[var(--text-dim)] mr-1 hidden sm:inline",children:"Select a portfolio to take actions"}),l.jsxs("button",{onClick:()=>O!=="all"&&P({invest:O}),disabled:O==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${O==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:O==="all"?"Select a portfolio first":"",children:[l.jsx(sc,{size:14})," Invest"]}),l.jsxs("button",{onClick:()=>O!=="all"&&Se.length>0&&P({redeem:O}),disabled:O==="all"||Se.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${O==="all"||Se.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:O==="all"?"Select a portfolio first":"",children:[l.jsx(BO,{size:14})," Redeem"]}),l.jsxs("button",{onClick:()=>O!=="all"&&Se.length>0&&P({switchFunds:O}),disabled:O==="all"||Se.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${O==="all"||Se.length===0?"bg-amber-600/40 text-white/50 cursor-not-allowed":"text-white bg-amber-600 hover:bg-amber-500"}`,title:O==="all"?"Select a portfolio first":"",children:[l.jsx(R8,{size:14})," Switch"]})]})]}),R==="holdings"&&l.jsx(l.Fragment,{children:Se.length>0?l.jsx("div",{className:O==="all"?"space-y-4":"",children:(O==="all"?He:[{portfolioId:O,holdings:ge}]).map(Y=>{const ue=_e.find(se=>se.portfolioId===Y.portfolioId),je=Y.holdings,De=je.reduce((se,Tt)=>se+Tt.pl,0),Fe=De>=0;return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[O==="all"&&ue&&l.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:qm(ue.portfolioName)}),ue.ownerName&&l.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:["(",E(ue.ownerName,"name"),")"]}),l.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[" ",je.filter(se=>se.units>0).length," funds"]})]}),l.jsxs("div",{className:"flex items-center gap-4 text-xs tabular-nums",children:[l.jsx("span",{className:"text-[var(--text-muted)]",children:Q(ue.currentValue||0)}),l.jsxs("span",{className:`font-bold ${Fe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Fe?"+":"",Q(De)]})]})]}),l.jsx("div",{className:"hidden lg:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:`border-b border-[var(--border-light)] ${O!=="all"?"bg-[var(--bg-inset)]":""}`,children:[l.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund Name"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),l.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[l.jsx("div",{children:"NAV"}),l.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Avg"})]}),l.jsxs("th",{className:"text-center py-2 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[l.jsx("div",{children:"ATH"}),l.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Below Peak"})]}),l.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[l.jsx("div",{children:"Allocation %"}),l.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),l.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[l.jsx("div",{children:"Amount"}),l.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Invested"})]}),l.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[l.jsx("div",{children:"P&L"}),l.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"on Holdings"})]}),l.jsx("th",{className:"py-2 px-2 w-8"})]})}),l.jsx("tbody",{children:je.map(se=>{const Tt=C_(se.belowATHPct),Ye=se.units===0,Mt=_e.find(Ce=>Ce.portfolioId===se.portfolioId),Kt=Mt?.currentValue||0,$e=W===se._key,qt=se.pl,Xe=qt>=0,we=Ye&&se.targetAllocationPct>0&&se.targetAllocationPct<100&&Kt>0?se.targetAllocationPct/(100-se.targetAllocationPct)*Kt:0,We=Ye&&se.targetAllocationPct>0&&Mt?.sipTarget>=100?se.targetAllocationPct/100*Mt.sipTarget:0,tt=$e?(r||[]).filter(Ce=>Ce.portfolioId===se.portfolioId&&Ce.fundCode===se.schemeCode).sort((Ce,_r)=>(pa(_r.date)||0)-(pa(Ce.date)||0)):[],Pt=$[se._key]||5,zr=tt.slice(0,Pt),vr=Ce=>{const _r=pa(Ce);return _r?Math.floor((new Date-_r)/864e5):null};return l.jsxs(ce.Fragment,{children:[l.jsxs("tr",{onClick:()=>!Ye&&be(se._key),className:`border-b border-[var(--border-light)] last:border-0 transition-colors ${Ye?"opacity-60":"cursor-pointer hover:bg-[var(--bg-hover)]"} ${$e?"bg-[var(--bg-hover)]":""}`,children:[l.jsx("td",{className:"py-2.5 px-3 max-w-[240px]",children:l.jsxs("div",{className:"flex items-center gap-1.5",children:[!Ye&&l.jsx(ya,{size:12,className:`shrink-0 text-[var(--text-dim)] transition-transform ${$e?"rotate-180":""}`}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-xs text-[var(--text-primary)] leading-tight",children:[se.fundName,Ye&&l.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]}),Ye&&(we>0||We>0)&&l.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[we>0&&l.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",Q(we)]}),We>0&&l.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",Q(We),"/mo"]})]})]})]})}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Ye?"":se.units.toFixed(2)}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:Ye?l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:["",se.currentNav.toFixed(2)]}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["",se.avgNav.toFixed(2)]})]})}),l.jsx("td",{className:"py-2.5 px-2 text-center",children:Ye?l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):se.athNav>0&&se.belowATHPct>0?l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm font-bold tabular-nums",style:Tt,children:["",se.belowATHPct.toFixed(1),"%"]}),l.jsxs("p",{className:"text-[11px] text-[var(--text-muted)] tabular-nums",children:["",se.athNav.toFixed(0)]})]}):se.athNav>0?l.jsx("span",{className:"text-[10px] text-emerald-400/70 font-semibold",children:"AT HIGH"}):l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:Ye?l.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums",children:[se.targetAllocationPct.toFixed(1),"%"]}):l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[se.currentAllocationPct.toFixed(1),"%"]}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[se.targetAllocationPct.toFixed(1),"%"]})]})}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:Ye?l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(se.currentValue)}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:Q(se.investment)})]})}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:Ye?l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Xe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Xe?"+":"",Q(qt)]}),l.jsxs("p",{className:`text-xs font-bold tabular-nums ${Xe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Xe?"+":"",se.plPct.toFixed(1),"%"]})]})}),l.jsx("td",{className:"py-2.5 px-2 text-center",children:l.jsxs("div",{className:"flex items-center gap-0.5 justify-center",children:[l.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),P({invest:{portfolioId:se.portfolioId,fundCode:se.schemeCode,fundName:se.fundName}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25 transition-colors",title:"Buy / Invest",children:l.jsx(Pr,{size:14,strokeWidth:2.5})}),!Ye&&l.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),P({redeem:{portfolioId:se.portfolioId,fundCode:se.schemeCode}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-rose-500/15 text-rose-400 hover:bg-rose-500/25 transition-colors",title:"Sell / Redeem",children:l.jsx(Yg,{size:14,strokeWidth:2.5})})]})})]}),$e&&!Ye&&l.jsx("tr",{className:"border-b border-[var(--border-light)]",children:l.jsx("td",{colSpan:8,className:"p-0",children:l.jsxs("div",{className:"bg-[var(--bg-expanded)] border-t border-[var(--border-light)]",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row",children:[l.jsx("div",{className:"lg:w-52 shrink-0 p-4 border-b lg:border-b-0 lg:border-r border-[var(--border-light)]",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Units"}),l.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:se.units.toFixed(3)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Avg NAV"}),l.jsxs("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:["",se.avgNav.toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Invested"}),l.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:Q(se.investment)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Current Value"}),l.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:Q(se.currentValue)})]}),se.ongoingSIP>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Monthly SIP"}),l.jsx("p",{className:"text-base font-bold text-blue-400 tabular-nums",children:Q(se.ongoingSIP)})]}),l.jsxs("div",{className:"pt-3 border-t border-[var(--border-light)] flex gap-2",children:[l.jsxs("button",{onClick:Ce=>{Ce.stopPropagation(),P({invest:{portfolioId:se.portfolioId,fundCode:se.schemeCode,fundName:se.fundName}})},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-emerald-400 bg-emerald-500/10 hover:bg-emerald-500/20 rounded-lg transition-colors",children:[l.jsx("span",{className:"w-5 h-5 flex items-center justify-center rounded-full bg-emerald-500/20",children:l.jsx(Pr,{size:12,strokeWidth:2.5})})," Buy"]}),l.jsxs("button",{onClick:Ce=>{Ce.stopPropagation(),P({redeem:{portfolioId:se.portfolioId,fundCode:se.schemeCode}})},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-rose-400 bg-rose-500/10 hover:bg-rose-500/20 rounded-lg transition-colors",children:[l.jsx("span",{className:"w-5 h-5 flex items-center justify-center rounded-full bg-rose-500/20",children:l.jsx(Yg,{size:12,strokeWidth:2.5})})," Sell"]})]})]})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"px-4 pt-3 pb-1",children:l.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:"Transactions"})}),tt.length===0?l.jsx("p",{className:"py-8 text-xs text-[var(--text-dim)] text-center",children:"No transactions recorded"}):l.jsxs(l.Fragment,{children:[l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[l.jsx("th",{className:"text-left py-2 px-4 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Date"}),l.jsx("th",{className:"text-left py-2 px-2 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Type"}),l.jsx("th",{className:"text-center py-2 px-2 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Days"}),l.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Amount"}),l.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"NAV"}),l.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Units"}),l.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"P&L"}),l.jsx("th",{className:"w-8 py-2 px-1"})]})}),l.jsx("tbody",{children:zr.map((Ce,_r)=>{const mi=pa(Ce.date),Oa=!!mi,Ta=Oa?mi.toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):Ce.date||"",Pa=Oa?vr(Ce.date):null,al=Ce.type==="BUY",ss=!al&&Ce.gainLoss!=null&&Ce.gainLoss!==0,Sn=ss&&Ce.gainLoss>=0;return l.jsxs("tr",{className:"group border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)] tabular-nums whitespace-nowrap",children:Ta}),l.jsx("td",{className:"py-2.5 px-2",children:l.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded ${al?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:Ce.transactionType||Ce.type})}),l.jsx("td",{className:"py-2.5 px-2 text-xs text-[var(--text-dim)] tabular-nums text-center",children:Pa??""}),l.jsx("td",{className:"py-2.5 px-3 text-xs font-semibold text-[var(--text-primary)] tabular-nums text-right",children:Q(Ce.totalAmount)}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums text-right",children:Number(Ce.price).toFixed(4)}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums text-right",children:Number(Ce.units).toFixed(3)}),l.jsx("td",{className:`py-2.5 px-3 text-xs font-semibold tabular-nums text-right ${ss?Sn?"text-emerald-400":"text-[var(--accent-rose)]":"text-[var(--text-dim)]"}`,children:ss?`${Sn?"+":""}${Q(Ce.gainLoss)}`:""}),l.jsx("td",{className:"py-2.5 px-1",children:l.jsx(Hm,{txn:Ce,isOpen:he===Ce.transactionId,onToggle:()=>F(he===Ce.transactionId?null:Ce.transactionId),onEdit:()=>{F(null),P({editTxn:Ce})},onDelete:()=>{F(null),te(Ce.transactionId)}})})]},Ce.transactionId||`txn-${_r}`)})})]}),tt.length>Pt&&l.jsx("div",{className:"py-2 text-center border-t border-[var(--border-light)]",children:l.jsxs("button",{onClick:Ce=>{Ce.stopPropagation(),Pe(se._key)},className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:["Show More (",tt.length-Pt," remaining)"]})})]})]})]}),l.jsx("div",{className:"flex justify-center py-1.5 border-t border-[var(--border-light)]",children:l.jsx("button",{onClick:()=>be(se._key),className:"p-0.5 text-[var(--text-dim)] hover:text-[var(--text-muted)]",children:l.jsx(IF,{size:14})})})]})})})]},se._key)})})]})}),l.jsx("div",{className:"lg:hidden divide-y divide-[var(--border-light)]",children:je.map(se=>{const Tt=C_(se.belowATHPct),Ye=se.units===0,Mt=_e.find(Ce=>Ce.portfolioId===se.portfolioId),Kt=Mt?.currentValue||0,$e=W===se._key,qt=se.pl,Xe=qt>=0,we=Ye&&se.targetAllocationPct>0&&se.targetAllocationPct<100&&Kt>0?se.targetAllocationPct/(100-se.targetAllocationPct)*Kt:0,We=Ye&&se.targetAllocationPct>0&&Mt?.sipTarget>=100?se.targetAllocationPct/100*Mt.sipTarget:0,tt=$e?(r||[]).filter(Ce=>Ce.portfolioId===se.portfolioId&&Ce.fundCode===se.schemeCode).sort((Ce,_r)=>(pa(_r.date)||0)-(pa(Ce.date)||0)):[],Pt=$[se._key]||5,zr=tt.slice(0,Pt),vr=Ce=>{const _r=pa(Ce);return _r?Math.floor((new Date-_r)/864e5):null};return l.jsxs("div",{className:Ye?"opacity-60":"",children:[l.jsxs("div",{onClick:()=>!Ye&&be(se._key),className:`px-4 py-3 ${Ye?"":"cursor-pointer"} ${$e?"bg-[var(--bg-hover)]":""}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-1.5",children:[l.jsxs("div",{className:"flex-1 mr-3",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[!Ye&&l.jsx(ya,{size:12,className:`shrink-0 text-[var(--text-dim)] transition-transform ${$e?"rotate-180":""}`}),l.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:[se.fundName,Ye&&l.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]})]}),Ye&&(we>0||We>0)&&l.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[we>0&&l.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",Q(we)]}),We>0&&l.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",Q(We),"/mo"]})]})]}),Ye?l.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums shrink-0",children:["Target: ",se.targetAllocationPct.toFixed(1),"%"]}):l.jsxs("div",{className:"text-right shrink-0",children:[l.jsxs("p",{className:`text-xs font-bold tabular-nums ${Xe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Xe?"+":"",Q(qt)]}),l.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Xe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Xe?"+":"",se.plPct.toFixed(1),"%"]})]})]}),Ye?l.jsx("div",{className:"flex items-center justify-end mt-1",children:l.jsxs("button",{onClick:Ce=>{Ce.stopPropagation(),P({invest:{portfolioId:se.portfolioId,fundCode:se.schemeCode,fundName:se.fundName}})},className:"shrink-0 flex items-center gap-1 text-[10px] font-semibold text-emerald-400 hover:text-emerald-300 px-2 py-0.5 rounded bg-emerald-500/10",children:[l.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-emerald-500/20",children:l.jsx(Pr,{size:10,strokeWidth:2.5})})," Buy"]})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between text-xs text-[var(--text-dim)]",children:[l.jsxs("div",{children:[l.jsxs("span",{children:[se.units.toFixed(2)," units"]}),l.jsx("span",{className:"mx-1",children:""}),l.jsxs("span",{children:["NAV ",se.currentNav.toFixed(2)," / ",se.avgNav.toFixed(2)]})]}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(se.currentValue)})]}),l.jsxs("div",{className:"flex items-center justify-between mt-1",children:[l.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] flex-wrap",children:[l.jsxs("span",{children:["Alloc: ",se.currentAllocationPct.toFixed(1),"% / ",se.targetAllocationPct.toFixed(1),"%"]}),se.athNav>0&&se.belowATHPct>0?l.jsxs("span",{className:"font-bold tabular-nums",style:Tt,children:["ATH ",se.belowATHPct.toFixed(1),"%"]}):se.athNav>0?l.jsx("span",{className:"text-emerald-400/70 font-semibold text-[10px]",children:"AT HIGH"}):null]}),l.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[l.jsxs("button",{onClick:Ce=>{Ce.stopPropagation(),P({invest:{portfolioId:se.portfolioId,fundCode:se.schemeCode,fundName:se.fundName}})},className:"flex items-center gap-1 text-[10px] font-semibold text-emerald-400 hover:text-emerald-300 px-2 py-0.5 rounded bg-emerald-500/10",children:[l.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-emerald-500/20",children:l.jsx(Pr,{size:10,strokeWidth:2.5})})," Buy"]}),l.jsxs("button",{onClick:Ce=>{Ce.stopPropagation(),P({redeem:{portfolioId:se.portfolioId,fundCode:se.schemeCode}})},className:"flex items-center gap-1 text-[10px] font-semibold text-rose-400 hover:text-rose-300 px-2 py-0.5 rounded bg-rose-500/10",children:[l.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-rose-500/20",children:l.jsx(Yg,{size:10,strokeWidth:2.5})})," Sell"]})]})]})]})]}),$e&&!Ye&&l.jsxs("div",{className:"bg-[var(--bg-inset)] border-l-2 border-l-violet-500/40 px-4 pb-3",children:[l.jsx("div",{className:"flex items-center justify-between py-2",children:l.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:["Transactions (",tt.length,")"]})}),tt.length===0?l.jsx("p",{className:"py-4 text-xs text-[var(--text-dim)] text-center",children:"No transactions recorded"}):l.jsxs("div",{className:"space-y-2",children:[zr.map((Ce,_r)=>{const mi=vr(Ce.date),Oa=Ce.type==="BUY",Ta=!Oa&&Ce.gainLoss!=null&&Ce.gainLoss!==0,Pa=Ta&&Ce.gainLoss>=0;return l.jsxs("div",{className:"flex items-center justify-between text-xs bg-[var(--bg-card)] rounded-lg px-3 py-2",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:"text-[var(--text-secondary)]",children:(pa(Ce.date)||new Date).toLocaleDateString("en-IN",{day:"2-digit",month:"short"})}),l.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${Oa?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:Ce.transactionType||Ce.type}),l.jsxs("span",{className:"text-[var(--text-dim)]",children:[mi,"d"]})]}),l.jsxs("p",{className:"text-[var(--text-dim)] mt-0.5",children:[Number(Ce.units).toFixed(3)," units @ ",Number(Ce.price).toFixed(2)]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-semibold text-[var(--text-primary)] tabular-nums",children:Q(Ce.totalAmount)}),Ta&&l.jsxs("p",{className:`font-semibold tabular-nums ${Pa?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Pa?"+":"",Q(Ce.gainLoss)]})]}),l.jsx(Hm,{txn:Ce,isOpen:he===Ce.transactionId,onToggle:()=>F(he===Ce.transactionId?null:Ce.transactionId),onEdit:()=>{F(null),P({editTxn:Ce})},onDelete:()=>{F(null),te(Ce.transactionId)}})]})]},Ce.transactionId||`txn-${_r}`)}),tt.length>Pt&&l.jsxs("button",{onClick:()=>Pe(se._key),className:"w-full py-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 text-center",children:["Show More (",tt.length-Pt," remaining)"]})]})]})]},se._key)})})]},Y.portfolioId)})}):l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[l.jsx(ec,{size:28,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",bt?" in this portfolio":""]}),l.jsx("button",{onClick:()=>P({invest:O!=="all"?O:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Add your first fund"})]})}),R==="transactions"&&l.jsxs(l.Fragment,{children:[xe.length>1&&l.jsxs("div",{className:"flex items-center gap-2 px-1",children:[l.jsx(UO,{size:12,className:"text-[var(--text-dim)]"}),l.jsxs("select",{value:z,onChange:Y=>re(Y.target.value),className:"text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg px-3 py-1.5 max-w-[350px] truncate",children:[l.jsxs("option",{value:"all",children:["All Funds (",Be.length,")"]}),xe.map(Y=>l.jsxs("option",{value:Y,children:[Y," (",Be.filter(ue=>ue.fundName===Y).length,")"]},Y))]}),z!=="all"&&l.jsx("button",{onClick:()=>re("all"),className:"text-xs text-[var(--text-dim)] hover:text-[var(--text-muted)] underline",children:"Clear"})]}),et.length>0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"}),l.jsx("th",{className:"w-8"})]})}),l.jsx("tbody",{children:et.map((Y,ue)=>{const je=Y.type==="BUY",De=!je&&Y.gainLoss!=null&&Y.gainLoss!==0,Fe=De&&Y.gainLoss>=0,se=O==="all"?_e.find(Ye=>Ye.portfolioId===Y.portfolioId):null,Tt={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[Y.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:Y.date}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${je?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:Y.type}),l.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${Tt.bg} ${Tt.text}`,children:Y.transactionType})]})}),l.jsxs("td",{className:"py-2.5 px-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate max-w-[200px]",children:Y.fundName}),se&&l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:qm(se.portfolioName)})]}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Y.units.toFixed(2)}),l.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",Y.price.toFixed(2)]}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(Y.totalAmount)}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:De?l.jsxs("span",{className:`text-xs font-semibold tabular-nums ${Fe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Fe?"+":"",Q(Y.gainLoss)]}):l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),l.jsx("td",{className:"py-2.5 px-1",children:l.jsx(Hm,{txn:Y,isOpen:he===Y.transactionId,onToggle:()=>F(he===Y.transactionId?null:Y.transactionId),onEdit:()=>{F(null),P({editTxn:Y})},onDelete:()=>{F(null),te(Y.transactionId)}})})]},Y.transactionId||`txn-${ue}`)})})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:et.map((Y,ue)=>{const je=Y.type==="BUY",De=!je&&Y.gainLoss!=null&&Y.gainLoss!==0,Fe=De&&Y.gainLoss>=0;return l.jsxs("div",{className:"px-4 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${je?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:Y.type}),l.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:Y.transactionType})]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Y.date}),l.jsx(Hm,{txn:Y,isOpen:he===Y.transactionId,onToggle:()=>F(he===Y.transactionId?null:Y.transactionId),onEdit:()=>{F(null),P({editTxn:Y})},onDelete:()=>{F(null),te(Y.transactionId)}})]})]}),l.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate mb-1",children:Y.fundName}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("p",{className:"text-[var(--text-dim)]",children:[Y.units.toFixed(2)," units @ ",Y.price.toFixed(2)]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(Y.totalAmount)}),De&&l.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Fe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",Fe?"+":"",Q(Y.gainLoss)]})]})]}),Y.notes&&l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:Y.notes})]},Y.transactionId||`txn-m-${ue}`)})})]}):l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[l.jsx(gp,{size:28,className:"text-[var(--text-dim)]"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:z!=="all"?"No transactions for this fund":"No transactions yet"}),z!=="all"?l.jsx("button",{onClick:()=>re("all"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Show all transactions"}):l.jsx("button",{onClick:()=>P({invest:O!=="all"?O:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first investment"})]})]}),R==="breakdown"&&l.jsx(l.Fragment,{children:Nr.length>0?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Copy allocation data from ",l.jsx("span",{className:"font-semibold text-[var(--text-muted)]",children:"morningstar.in"}),"  Fund  Portfolio tab"]}),Nr.map(Y=>{const ue=w?.find(je=>je.fundCode===Y.fundCode);return l.jsx(nle,{fund:Y,existing:ue,onConfigure:()=>P({classifyFund:{fund:Y,existing:ue}})},Y.fundCode)})]}):l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[l.jsx(CC,{size:28,className:"text-[var(--text-dim)]"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No funds to configure"})]})})]}),l.jsx(mr,{open:T==="addPortfolio"||!!T?.editPortfolio,onClose:()=>P(null),title:T?.editPortfolio?"Edit Portfolio":"New MF Portfolio",children:l.jsx(Zie,{initial:T?.editPortfolio||void 0,onSave:Er,onDelete:T?.editPortfolio?sn:void 0,onCancel:()=>P(null)})}),l.jsx(mr,{open:!!T?.invest,onClose:()=>P(null),title:"Invest in Mutual Fund",wide:!0,children:l.jsx($se,{portfolioId:typeof T?.invest=="object"?T.invest.portfolioId:typeof T?.invest=="string"?T.invest:void 0,fundCode:typeof T?.invest=="object"?T.invest.fundCode:void 0,fundName:typeof T?.invest=="object"?T.invest.fundName:void 0,onSave:nr,onCancel:()=>P(null)},T?.invest?.fundCode||T?.invest?.portfolioId||T?.invest)}),l.jsx(mr,{open:!!T?.redeem,onClose:()=>P(null),title:"Redeem Mutual Fund",wide:!0,children:l.jsx(qse,{portfolioId:typeof T?.redeem=="object"?T.redeem.portfolioId:typeof T?.redeem=="string"?T.redeem:void 0,fundCode:typeof T?.redeem=="object"?T.redeem.fundCode:void 0,onSave:_a,onCancel:()=>P(null)},T?.redeem?.fundCode||T?.redeem?.portfolioId||T?.redeem)}),l.jsx(mr,{open:!!T?.switchFunds,onClose:()=>P(null),title:"Switch Funds",wide:!0,children:l.jsx(Hse,{portfolioId:typeof T?.switchFunds=="string"?T.switchFunds:void 0,onSave:Ue,onCancel:()=>P(null)})}),l.jsx(mr,{open:!!T?.allocations,onClose:()=>P(null),title:"Manage Portfolio Allocation",wide:!0,children:T?.allocations&&l.jsx(Use,{portfolioId:T.allocations,onSave:Oe,onCancel:()=>P(null)})}),l.jsx(mr,{open:T==="rebalance",onClose:()=>P(null),title:"Rebalance Portfolios",wide:!0,children:T==="rebalance"&&l.jsx(GT,{})}),l.jsx(mr,{open:T==="buyOpp",onClose:()=>P(null),title:"Buy Opportunities",wide:!0,children:T==="buyOpp"&&l.jsx(sT,{})}),l.jsx(mr,{open:!!T?.editTxn,onClose:()=>P(null),title:"Edit Transaction",children:T?.editTxn&&l.jsx(ele,{txn:T.editTxn,onSave:me,onCancel:()=>P(null)})}),l.jsx(mr,{open:!!T?.classifyFund,onClose:()=>P(null),title:"Classify Fund",children:T?.classifyFund&&l.jsx(Yse,{fund:T.classifyFund.fund,initial:T.classifyFund.existing,onSave:rt,onCancel:()=>P(null)})})]})}function Vo({label:e,value:t,sub:n,positive:r,bold:a}){return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t}),n&&l.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:n})]})}function Hm({txn:e,isOpen:t,onToggle:n,onEdit:r,onDelete:a}){const s=j.useRef(null),[c,u]=j.useState({top:0,right:0});if(!e.transactionId)return null;function f(m){if(m.stopPropagation(),!t&&s.current){const h=s.current.getBoundingClientRect();u({top:h.bottom+4,right:window.innerWidth-h.right})}n()}return l.jsxs(l.Fragment,{children:[l.jsx("button",{ref:s,onClick:f,className:"p-1 rounded-md text-[var(--text-dim)] hover:text-[var(--text-muted)] hover:bg-[var(--bg-hover)] transition-colors",title:"Actions",children:l.jsx(ZF,{size:14})}),t&&Ad.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{position:"fixed",inset:0,zIndex:9998},onClick:m=>{m.stopPropagation(),n()}}),l.jsxs("div",{style:{position:"fixed",top:c.top,right:c.right,zIndex:9999},className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl py-1 min-w-[120px] animate-fade-in",children:[l.jsxs("button",{onClick:m=>{m.stopPropagation(),r()},className:"w-full text-left px-3 py-2 text-xs text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)] flex items-center gap-2 transition-colors",children:[l.jsx(ka,{size:12})," Edit"]}),l.jsxs("button",{onClick:m=>{m.stopPropagation(),a()},className:"w-full text-left px-3 py-2 text-xs text-[var(--accent-rose)] hover:bg-rose-500/10 flex items-center gap-2 transition-colors",children:[l.jsx(Mh,{size:12})," Delete"]})]})]}),document.body)]})}function ele({txn:e,onSave:t,onCancel:n}){const[r,a]=j.useState(()=>{const w=pa(e.date);return w?w.toISOString().split("T")[0]:""}),[s,c]=j.useState(String(e.units||"")),[u,f]=j.useState(String(e.price||"")),[m,h]=j.useState(e.notes||""),[v,x]=j.useState(!1),b=(Number(s)||0)*(Number(u)||0);async function S(){if(!(!s||Number(s)<=0)&&!(!u||Number(u)<=0)){x(!0);try{await t({transactionId:e.transactionId,date:r,units:s,price:u,notes:m})}finally{x(!1)}}}return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:e.fundName}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[e.type,"  ",e.transactionType,"  ",e.transactionId]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Date"}),l.jsx(ni,{value:r,onChange:a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Units"}),l.jsx("input",{type:"number",value:s,onChange:w=>c(w.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"NAV (price)"}),l.jsx("input",{type:"number",value:u,onChange:w=>f(w.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]})]}),b>0&&l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(b)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Notes"}),l.jsx("input",{type:"text",value:m,onChange:w=>h(w.target.value),placeholder:"Optional notes...",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-[var(--border-light)]",children:[l.jsx("button",{onClick:n,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:"Cancel"}),l.jsx("button",{onClick:S,disabled:v||!s||Number(s)<=0||!u||Number(u)<=0,className:"px-4 py-2 text-xs font-bold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Saving...":"Update Transaction"})]})]})}const A_=[{key:"Equity",bg:"bg-violet-500"},{key:"Debt",bg:"bg-sky-500"},{key:"Cash",bg:"bg-teal-400"},{key:"Commodities",bg:"bg-yellow-500"},{key:"Real Estate",bg:"bg-orange-500"},{key:"Other",bg:"bg-slate-400"}],tle={Giant:"G",Large:"L",Mid:"M",Small:"S",Micro:"Mi"},rle={India:"IN",Global:"GL"};function nle({fund:e,existing:t,onConfigure:n}){const r=t?.assetAllocation&&Object.keys(t.assetAllocation).length>0,a=t?.equityAllocation&&Object.keys(t.equityAllocation).length>0,s=t?.geoAllocation&&Object.keys(t.geoAllocation).length>0;return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:e.fundName}),l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:e.fundCode})]}),l.jsx("button",{onClick:n,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-violet-400 hover:bg-violet-500/10 transition-colors shrink-0 ml-3",title:"Classify fund",children:l.jsx(eT,{size:14})})]}),r?l.jsxs("div",{className:"px-4 pb-3",children:[l.jsx("div",{className:"h-2 rounded-full overflow-hidden bg-[var(--bg-inset)] flex mb-1.5",children:A_.map(({key:c,bg:u})=>{const f=t.assetAllocation[c]||0;return f>0?l.jsx("div",{className:`h-full ${u}`,style:{width:`${f}%`}},c):null})}),l.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-0.5",children:[A_.map(({key:c,bg:u})=>{const f=t.assetAllocation[c]||0;return f>0?l.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-[var(--text-muted)] tabular-nums",children:[l.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${u}`}),f,"% ",c]},c):null}),a&&l.jsxs("span",{className:"text-[11px] text-[var(--text-dim)] tabular-nums ml-1",children:["| ",Object.entries(tle).map(([c,u])=>{const f=t.equityAllocation[c]||0;return f>0?`${u}${f}`:""}).filter(Boolean).join(" ")]}),s&&l.jsxs("span",{className:"text-[11px] text-[var(--text-dim)] tabular-nums ml-1",children:["| ",Object.entries(rle).map(([c,u])=>{const f=t.geoAllocation[c]||0;return f>0?`${u}${f}`:""}).filter(Boolean).join(" ")]})]})]}):l.jsxs("div",{className:"px-4 pb-3",children:[l.jsx("div",{className:"h-2 rounded-full bg-[var(--bg-inset)] mb-1"}),l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] italic",children:"Not configured  click  to classify"})]})]})}function Ub({title:e,data:t,bgMap:n}){return l.jsxs("div",{className:"rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-3",children:[l.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider mb-2 text-center",children:e}),l.jsx("div",{className:"w-full h-[120px]",children:l.jsx(HG,{width:"100%",height:"100%",children:l.jsxs(Xie,{children:[l.jsx(W3,{data:t,dataKey:"pct",nameKey:"name",cx:"50%",cy:"50%",innerRadius:30,outerRadius:48,paddingAngle:2,stroke:"none",children:t.map((r,a)=>l.jsx(wv,{fill:r.fill},a))}),l.jsx(Rte,{content:({payload:r})=>{if(!r?.length)return null;const a=r[0].payload;return l.jsxs("div",{className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg px-2.5 py-1.5 shadow-xl",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:a.name}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[a.pct.toFixed(1),"%"]})]})}})]})})}),l.jsx("div",{className:"flex flex-wrap justify-center gap-x-3 gap-y-0.5 mt-1",children:t.map(r=>l.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-[var(--text-muted)] tabular-nums",children:[l.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${n[r.name]||"bg-slate-500"}`}),r.name," ",r.pct.toFixed(0),"%"]},r.name))})]})}function ale({initial:e,onSave:t,onDelete:n,onCancel:r}){const{activeMembers:a,activeInvestmentAccounts:s}=ht(),c=!!e,[u,f]=j.useState({portfolioName:e?.portfolioName||"",ownerId:e?.ownerId||"",investmentAccountId:e?.investmentAccountId||""}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(A,_){f(E=>({...E,[A]:_})),h(E=>({...E,[A]:void 0}))}function S(A){f(_=>({..._,ownerId:A,investmentAccountId:""})),h(_=>({..._,ownerId:void 0}))}const w=j.useMemo(()=>u.ownerId?s.filter(A=>A.memberId===u.ownerId&&(A.accountType==="Demat + Trading"||A.accountType==="Trading")).map(A=>({value:A.accountId,label:`${A.accountName} - ${A.platformBroker}`})):[],[s,u.ownerId]);function y(){const A={};return u.portfolioName.trim()||(A.portfolioName="Required"),u.ownerId||(A.ownerId="Required"),u.investmentAccountId||(A.investmentAccountId="Required"),h(A),Object.keys(A).length===0}async function C(){if(y()){x(!0);try{await t(u)}finally{x(!1)}}}const M=a.map(A=>({value:A.memberId,label:`${A.memberName} (${A.relationship})`}));return l.jsxs("div",{className:"space-y-4",children:[l.jsx(oe,{label:"Portfolio Name",required:!0,error:m.portfolioName,children:l.jsx(Me,{value:u.portfolioName,onChange:A=>b("portfolioName",A),placeholder:"e.g., Long-Term Growth"})}),l.jsx(oe,{label:"Owner",required:!0,error:m.ownerId,children:l.jsx(Ke,{value:u.ownerId,onChange:S,options:M,placeholder:"Select family member..."})}),l.jsx(oe,{label:"Investment Account",required:!0,error:m.investmentAccountId,children:l.jsx(Ke,{value:u.investmentAccountId,onChange:A=>b("investmentAccountId",A),options:w,placeholder:u.ownerId?w.length?"Select demat account...":"No demat accounts for this member":"Select owner first..."})}),c&&n&&l.jsx(es,{onClick:n}),l.jsx(an,{onCancel:r,onSubmit:C,submitLabel:c?"Update":"Create Portfolio",loading:v})]})}function ile({portfolioId:e,onSave:t,onCancel:n}){const{stockPortfolios:r}=ht(),{selectedMember:a}=Yr(),s=j.useMemo(()=>{const M=r.filter(A=>A.status==="Active");return a==="all"?M:M.filter(A=>A.ownerId===a)},[r,a]),[c,u]=j.useState({portfolioId:e||"",symbol:"",companyName:"",exchange:"NSE",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[f,m]=j.useState({}),[h,v]=j.useState(!1);function x(M,A){u(_=>({..._,[M]:A})),m(_=>({..._,[M]:void 0}))}const b=j.useMemo(()=>{const M=Number(c.quantity)||0,A=Number(c.pricePerShare)||0;return M*A},[c.quantity,c.pricePerShare]),S=j.useMemo(()=>b+(Number(c.brokerage)||0),[b,c.brokerage]);function w(){const M={};return c.portfolioId||(M.portfolioId="Required"),c.symbol.trim()||(M.symbol="Required"),c.companyName.trim()||(M.companyName="Required"),c.date||(M.date="Required"),(!c.quantity||Number(c.quantity)<=0)&&(M.quantity="Must be > 0"),(!c.pricePerShare||Number(c.pricePerShare)<=0)&&(M.pricePerShare="Must be > 0"),m(M),Object.keys(M).length===0}async function y(){if(w()){v(!0);try{await t(c)}finally{v(!1)}}}const C=s.map(M=>{const A=M.portfolioName?.replace(/^PFL-/,"")||M.portfolioName,_=M.ownerName?`${A} (${M.ownerName})`:A;return{value:M.portfolioId,label:_}});return l.jsxs("div",{className:"space-y-4",children:[l.jsx(oe,{label:"Portfolio",required:!0,error:f.portfolioId,children:l.jsx(Ke,{value:c.portfolioId,onChange:M=>x("portfolioId",M),options:C,placeholder:"Select portfolio..."})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Stock Symbol",required:!0,error:f.symbol,children:l.jsx(Me,{value:c.symbol,onChange:M=>x("symbol",M.toUpperCase()),placeholder:"e.g., RELIANCE"})}),l.jsx(oe,{label:"Company Name",required:!0,error:f.companyName,children:l.jsx(Me,{value:c.companyName,onChange:M=>x("companyName",M),placeholder:"e.g., Reliance Industries Ltd"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsx(oe,{label:"Purchase Date",required:!0,error:f.date,children:l.jsx(ni,{value:c.date,onChange:M=>x("date",M)})}),l.jsx(oe,{label:"Quantity (Shares)",required:!0,error:f.quantity,children:l.jsx(Me,{type:"number",value:c.quantity,onChange:M=>x("quantity",M),placeholder:"e.g., 100"})}),l.jsx(oe,{label:"Price per Share ()",required:!0,error:f.pricePerShare,children:l.jsx(Me,{type:"number",value:c.pricePerShare,onChange:M=>x("pricePerShare",M),placeholder:"e.g., 2500"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Brokerage ()",children:l.jsx(Me,{type:"number",value:c.brokerage,onChange:M=>x("brokerage",M),placeholder:"0"})}),l.jsx("div",{className:"flex flex-col justify-end",children:l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(b)}),Number(c.brokerage)>0&&l.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:["Net: ",Q(S)]})]})})]}),l.jsx(oe,{label:"Notes",children:l.jsx(Me,{value:c.notes,onChange:M=>x("notes",M),placeholder:"Optional notes..."})}),l.jsx(an,{onCancel:n,onSubmit:y,submitLabel:"Buy Stock",loading:h})]})}function sle({portfolioId:e,onSave:t,onCancel:n}){const{stockPortfolios:r,stockHoldings:a}=ht(),{selectedMember:s}=Yr(),c=j.useMemo(()=>{const L=r.filter(R=>R.status==="Active");return s==="all"?L:L.filter(R=>R.ownerId===s)},[r,s]),[u,f]=j.useState({portfolioId:e||"",symbol:"",companyName:"",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(L,R){f(B=>({...B,[L]:R})),h(B=>({...B,[L]:void 0}))}const S=j.useMemo(()=>u.portfolioId?a.filter(L=>L.portfolioId===u.portfolioId&&L.quantity>0):[],[a,u.portfolioId]),w=S.find(L=>L.symbol===u.symbol),y=w?.quantity||0,C=j.useMemo(()=>{const L=Number(u.quantity)||0,R=Number(u.pricePerShare)||0;return L*R},[u.quantity,u.pricePerShare]),M=j.useMemo(()=>C-(Number(u.brokerage)||0),[C,u.brokerage]);function A(L){const R=S.find(B=>B.symbol===L);f(B=>({...B,symbol:L,companyName:R?.companyName||""})),h(B=>({...B,symbol:void 0}))}function _(L){f(R=>({...R,portfolioId:L,symbol:"",companyName:"",quantity:""})),h(R=>({...R,portfolioId:void 0}))}function E(){const L={};return u.portfolioId||(L.portfolioId="Required"),u.symbol||(L.symbol="Required"),u.date||(L.date="Required"),(!u.quantity||Number(u.quantity)<=0)&&(L.quantity="Must be > 0"),Number(u.quantity)>y&&(L.quantity=`Max ${y} shares`),(!u.pricePerShare||Number(u.pricePerShare)<=0)&&(L.pricePerShare="Must be > 0"),h(L),Object.keys(L).length===0}async function T(){if(E()){x(!0);try{await t(u)}finally{x(!1)}}}const P=c.map(L=>{const R=L.portfolioName?.replace(/^PFL-/,"")||L.portfolioName,B=L.ownerName?`${R} (${L.ownerName})`:R;return{value:L.portfolioId,label:B}}),O=S.map(L=>({value:L.symbol,label:`${L.symbol}  ${L.quantity} shares`}));return l.jsxs("div",{className:"space-y-4",children:[l.jsx(oe,{label:"Portfolio",required:!0,error:m.portfolioId,children:l.jsx(Ke,{value:u.portfolioId,onChange:_,options:P,placeholder:"Select portfolio..."})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Stock to Sell",required:!0,error:m.symbol,children:l.jsx(Ke,{value:u.symbol,onChange:A,options:O,placeholder:u.portfolioId?S.length?"Select stock...":"No holdings in this portfolio":"Select portfolio first..."})}),w&&l.jsx("div",{className:"flex flex-col justify-end",children:l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:w.companyName}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",l.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:y})," shares @ ",Q(w.avgBuyPrice)," avg"]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Sale Date",required:!0,error:m.date,children:l.jsx(ni,{value:u.date,onChange:L=>b("date",L)})}),l.jsx(oe,{label:"Quantity to Sell",required:!0,error:m.quantity,children:l.jsx(Me,{type:"number",value:u.quantity,onChange:L=>b("quantity",L),placeholder:y?`Max: ${y}`:""})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Sale Price per Share ()",required:!0,error:m.pricePerShare,children:l.jsx(Me,{type:"number",value:u.pricePerShare,onChange:L=>b("pricePerShare",L),placeholder:"e.g., 2750"})}),l.jsx(oe,{label:"Brokerage ()",children:l.jsx(Me,{type:"number",value:u.brokerage,onChange:L=>b("brokerage",L),placeholder:"0"})})]}),C>0&&l.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Net Sale Amount"}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(M)})]}),w&&l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. P&L"}),(()=>{const L=Number(u.quantity)*w.avgBuyPrice,R=M-L,B=R>=0;return l.jsxs("p",{className:`text-sm font-bold tabular-nums ${B?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[B?"+":"",Q(R)]})})()]})]})}),l.jsx(oe,{label:"Notes",children:l.jsx(Me,{value:u.notes,onChange:L=>b("notes",L),placeholder:"Optional notes..."})}),l.jsx(an,{onCancel:n,onSubmit:T,submitLabel:"Sell Stock",loading:v})]})}function lle(){const{selectedMember:e}=Yr(),{stockPortfolios:t,stockHoldings:n,stockTransactions:r,activeInvestmentAccounts:a,addStockPortfolio:s,updateStockPortfolio:c,deleteStockPortfolio:u,buyStock:f,sellStock:m}=ht(),{showToast:h,showBlockUI:v,hideBlockUI:x}=oi(),b=ci(),{mv:S}=ui(),[w,y]=j.useState(null),[C,M]=j.useState("all"),[A,_]=j.useState("holdings"),[E,T]=j.useState(!1),P=j.useMemo(()=>{if(!t)return[];const z=t.filter(re=>re.status!=="Inactive");return e==="all"?z:z.filter(re=>re.ownerId===e)},[t,e]),O=j.useMemo(()=>n?P.map(z=>{const re=n.filter(_e=>_e.portfolioId===z.portfolioId),he=(r||[]).filter(_e=>_e.portfolioId===z.portfolioId),F=re.reduce((_e,X)=>_e+X.totalInvestment,0),ne=re.reduce((_e,X)=>_e+X.currentValue,0),ve=ne-F,be=he.filter(_e=>_e.type==="SELL"&&_e.realizedPL!=null).reduce((_e,X)=>_e+X.realizedPL,0),Pe=ve+be,Re=F>0?Pe/F*100:0,Ne=a.find(_e=>_e.accountId===z.investmentAccountId);return{...z,holdings:re,txns:he,invested:F,current:ne,unrealizedPL:ve,realizedPL:be,totalPL:Pe,totalPLPct:Re,stockCount:re.length,platform:Ne?.platformBroker||z.investmentAccountName||"",clientId:Ne?.accountClientId||""}}):[],[P,n,r,a]),L=j.useMemo(()=>{const z=C==="all"?O:O.filter(Ne=>Ne.portfolioId===C),re=z.reduce((Ne,_e)=>Ne+_e.invested,0),he=z.reduce((Ne,_e)=>Ne+_e.current,0),F=z.reduce((Ne,_e)=>Ne+_e.unrealizedPL,0),ne=z.reduce((Ne,_e)=>Ne+_e.realizedPL,0),ve=F+ne,be=re>0?ve/re*100:0,Pe=re>0?F/re*100:0,Re=z.reduce((Ne,_e)=>Ne+_e.stockCount,0);return{invested:re,current:he,unrealizedPL:F,unrealizedPLPct:Pe,realizedPL:ne,totalPL:ve,totalPLPct:be,stocks:Re}},[O,C]),R=j.useMemo(()=>n?C==="all"?n.filter(z=>P.some(re=>re.portfolioId===z.portfolioId)):n.filter(z=>z.portfolioId===C):[],[n,P,C]),B=j.useMemo(()=>r?(C==="all"?r.filter(re=>P.some(he=>he.portfolioId===re.portfolioId)):r.filter(re=>re.portfolioId===C)).sort((re,he)=>new Date(he.date)-new Date(re.date)):[],[r,P,C]);if(t===null||n===null)return l.jsx(ts,{title:"Loading stocks",cards:5});const k=O.find(z=>z.portfolioId===C),K=C==="all"?`All Portfolios (${P.length})`:`${k?.portfolioName}  ${S(k?.ownerName,"name")}`;async function W(z){v("Saving...");try{w?.editPortfolio?await c(w.editPortfolio.portfolioId,z):await s(z),h(w?.editPortfolio?"Portfolio updated":"Portfolio created"),y(null)}catch(re){h(re.message||"Failed to save portfolio","error")}finally{x()}}async function Z(){if(w?.editPortfolio&&await b("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){v("Deactivating...");try{await u(w.editPortfolio.portfolioId),h("Portfolio deactivated"),M("all"),y(null)}catch(z){h(z.message||"Failed to deactivate portfolio","error")}finally{x()}}}async function $(z){v("Recording purchase...");try{await f(z),h("Stock purchase recorded"),y(null)}catch(re){h(re.message||"Failed to record purchase","error")}finally{x()}}async function G(z){v("Recording sale...");try{await m(z),h("Stock sale recorded"),y(null)}catch(re){h(re.message||"Failed to record sale","error")}finally{x()}}return l.jsxs("div",{className:"space-y-4",children:[P.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(ed,{size:32,className:"text-[var(--text-dim)]"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No stock portfolios yet"}),l.jsx("button",{onClick:()=>y("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>T(!E),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[l.jsx(ed,{size:14,className:"text-violet-400 shrink-0"}),l.jsx("span",{className:"truncate",children:K}),l.jsx(ya,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${E?"rotate-180":""}`})]}),E&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>T(!1)}),l.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl min-w-[280px] py-1 overflow-hidden",children:[l.jsxs("button",{onClick:()=>{M("all"),T(!1),_("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${C==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",P.length,")"]}),l.jsx("div",{className:"border-t border-[var(--border-light)]"}),O.map(z=>{const re=z.totalPL>=0;return l.jsx("button",{onClick:()=>{M(z.portfolioId),T(!1),_("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${C===z.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:`text-sm ${C===z.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:z.portfolioName}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[S(z.ownerName,"name"),"  ",z.platform]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.current)}),l.jsxs("p",{className:`text-xs font-semibold tabular-nums ${re?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[re?"+":"",z.totalPLPct.toFixed(1),"%"]})]})]})},z.portfolioId)})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[k&&l.jsxs("button",{onClick:()=>y({editPortfolio:k}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(ka,{size:12})," Edit"]}),l.jsxs("button",{onClick:()=>y("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Pr,{size:14})," New Portfolio"]})]})]}),k&&l.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1",children:[l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Platform:"})," ",k.platform]}),l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",S(k.clientId,"clientId")]}),l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Stocks:"})," ",k.stockCount]})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[l.jsx(Wu,{label:"Invested",value:Q(L.invested)}),l.jsx(Wu,{label:"Current Value",value:Q(L.current),bold:!0}),l.jsx(Wu,{label:"Unrealized P&L",value:`${L.unrealizedPL>=0?"+":""}${Q(L.unrealizedPL)}`,sub:`${L.unrealizedPLPct>=0?"+":""}${L.unrealizedPLPct.toFixed(1)}%`,positive:L.unrealizedPL>=0}),l.jsx(Wu,{label:"Realized P&L",value:`${L.realizedPL>=0?"+":""}${Q(L.realizedPL)}`,positive:L.realizedPL>=0}),l.jsx(Wu,{label:"Total P&L",value:`${L.totalPL>=0?"+":""}${Q(L.totalPL)}`,sub:`${L.totalPLPct>=0?"+":""}${L.totalPLPct.toFixed(1)}%`,positive:L.totalPL>=0,bold:!0})]}),l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[l.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[l.jsxs("button",{onClick:()=>_("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${A==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[l.jsx(VO,{size:12})," Holdings (",R.length,")"]}),l.jsxs("button",{onClick:()=>_("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${A==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[l.jsx(gp,{size:12})," Transactions (",B.length,")"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>C!=="all"&&y({buy:C}),disabled:C==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${C==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:C==="all"?"Select a portfolio first":"",children:[l.jsx(sc,{size:14})," Buy"]}),l.jsxs("button",{onClick:()=>C!=="all"&&R.length>0&&y({sell:C}),disabled:C==="all"||R.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${C==="all"||R.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:C==="all"?"Select a portfolio first":"",children:[l.jsx(Dh,{size:14})," Sell"]})]})]}),A==="holdings"&&l.jsx(l.Fragment,{children:R.length>0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Avg Price"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Price"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Value"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Returns"})]})}),l.jsxs("tbody",{children:[R.map(z=>{const re=z.unrealizedPL>=0,he=C==="all"?O.find(F=>F.portfolioId===z.portfolioId):null;return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsxs("td",{className:"py-2.5 px-4",children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:z.companyName}),l.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[z.symbol,he&&l.jsxs("span",{className:"ml-1.5 text-[var(--text-dim)] font-sans",children:[" ",he.portfolioName]})]})]}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:z.quantity}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(z.avgBuyPrice)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.currentPrice)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Q(z.totalInvestment)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.currentValue)}),l.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${re?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[re?"+":"",Q(z.unrealizedPL)]}),l.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${re?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[re?"+":"",z.unrealizedPLPct.toFixed(1),"%"]})]},z.holdingId)}),l.jsxs("tr",{className:"bg-[var(--bg-inset)] border-t-2 border-[var(--border-light)]",children:[l.jsxs("td",{className:"py-2.5 px-4 text-xs font-semibold text-[var(--text-muted)]",children:["Total (",R.length," stocks)"]}),l.jsx("td",{colSpan:3,className:"py-2.5 px-3"}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(L.invested)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(L.current)}),l.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${L.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L.unrealizedPL>=0?"+":"",Q(L.unrealizedPL)]}),l.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${L.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L.unrealizedPLPct>=0?"+":"",L.unrealizedPLPct.toFixed(1),"%"]})]})]})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:R.map(z=>{const re=z.unrealizedPL>=0,he=C==="all"?O.find(F=>F.portfolioId===z.portfolioId):null;return l.jsxs("div",{className:"px-4 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:z.companyName}),l.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[z.symbol,he&&l.jsxs("span",{className:"ml-1 font-sans",children:[" ",he.portfolioName]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:`text-xs font-bold tabular-nums ${re?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[re?"+":"",z.unrealizedPLPct.toFixed(1),"%"]}),l.jsxs("p",{className:`text-xs font-semibold tabular-nums ${re?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[re?"+":"",Q(z.unrealizedPL)]})]})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("div",{className:"text-[var(--text-dim)]",children:[l.jsxs("span",{children:[z.quantity," shares"]}),l.jsx("span",{className:"mx-1",children:""}),l.jsxs("span",{children:["Avg ",Q(z.avgBuyPrice)]}),l.jsx("span",{className:"mx-1",children:""}),l.jsxs("span",{children:["CMP ",Q(z.currentPrice)]})]}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.currentValue)})]})]},z.holdingId)})})]}):l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[l.jsx(ed,{size:28,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",k?" in this portfolio":""]}),l.jsx("button",{onClick:()=>y({buy:C!=="all"?C:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Buy your first stock"})]})}),A==="transactions"&&l.jsx(l.Fragment,{children:B.length>0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Price"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Brokerage"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Net"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Realized P&L"})]})}),l.jsx("tbody",{children:B.map(z=>{const re=z.type==="BUY",he=!re&&z.realizedPL!=null,F=he&&z.realizedPL>=0,ne=C==="all"?O.find(ve=>ve.portfolioId===z.portfolioId):null;return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)]",children:z.date}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${re?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:z.type})}),l.jsxs("td",{className:"py-2.5 px-3",children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:z.symbol}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[140px]",children:[z.companyName,ne&&l.jsxs("span",{children:["  ",ne.portfolioName]})]})]}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:z.quantity}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(z.pricePerShare)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Q(z.totalAmount)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-dim)] tabular-nums",children:z.brokerage>0?Q(z.brokerage):""}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.netAmount)}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:he?l.jsxs("span",{className:`text-xs font-semibold tabular-nums ${F?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[F?"+":"",Q(z.realizedPL)]}):l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},z.transactionId)})})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:B.map(z=>{const re=z.type==="BUY",he=!re&&z.realizedPL!=null,F=he&&z.realizedPL>=0;return l.jsxs("div",{className:"px-4 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${re?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:z.type}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:z.symbol})]}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:z.date})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[z.quantity," shares @ ",Q(z.pricePerShare)]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.netAmount)}),he&&l.jsxs("p",{className:`text-xs font-semibold tabular-nums ${F?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["P&L: ",F?"+":"",Q(z.realizedPL)]})]})]}),z.notes&&l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:z.notes})]},z.transactionId)})})]}):l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[l.jsx(gp,{size:28,className:"text-[var(--text-dim)]"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions yet"}),l.jsx("button",{onClick:()=>y({buy:C!=="all"?C:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first purchase"})]})})]}),l.jsx(mr,{open:w==="addPortfolio"||!!w?.editPortfolio,onClose:()=>y(null),title:w?.editPortfolio?"Edit Portfolio":"New Stock Portfolio",children:l.jsx(ale,{initial:w?.editPortfolio||void 0,onSave:W,onDelete:w?.editPortfolio?Z:void 0,onCancel:()=>y(null)})}),l.jsx(mr,{open:!!w?.buy,onClose:()=>y(null),title:"Buy Stock",wide:!0,children:l.jsx(ile,{portfolioId:typeof w?.buy=="string"?w.buy:void 0,onSave:$,onCancel:()=>y(null)})}),l.jsx(mr,{open:!!w?.sell,onClose:()=>y(null),title:"Sell Stock",wide:!0,children:l.jsx(sle,{portfolioId:typeof w?.sell=="string"?w.sell:void 0,onSave:G,onCancel:()=>y(null)})})]})}function Wu({label:e,value:t,sub:n,positive:r,bold:a}){return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t}),n&&l.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:n})]})}const ole=["Self","Spouse","Father","Mother","Son","Daughter","Brother","Sister","Other"].map(e=>({value:e,label:e})),Um={pan:/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,aadhar:/^\d{12}$/,email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,mobile:/^\d{10}$/};function cle({initial:e,onSave:t,onDelete:n,onCancel:r}){const a=!!e,[s,c]=j.useState({memberName:e?.memberName||"",relationship:e?.relationship||"",pan:e?.pan||"",aadhar:e?.aadhar||"",email:e?.email||"",mobile:e?.mobile||"",includeInEmailReports:e?.includeInEmailReports??!0,status:e?.status||"Active"}),[u,f]=j.useState({}),[m,h]=j.useState(!1),[v,x]=j.useState(()=>{const A=e?.dynamicFields||{};return Object.entries(A).map(([_,E])=>({key:_,value:E}))});function b(A,_){c(E=>({...E,[A]:_})),f(E=>({...E,[A]:void 0}))}function S(){const A={};return s.memberName.trim()||(A.memberName="Required"),s.relationship||(A.relationship="Required"),Um.pan.test(s.pan.toUpperCase())||(A.pan="Format: ABCDE1234F"),Um.aadhar.test(s.aadhar)||(A.aadhar="12 digits required"),Um.email.test(s.email)||(A.email="Invalid email"),Um.mobile.test(s.mobile)||(A.mobile="10 digits required"),f(A),Object.keys(A).length===0}function w(){x(A=>[...A,{key:"",value:""}])}function y(A,_,E){x(T=>T.map((P,O)=>O===A?{...P,[_]:E}:P))}function C(A){x(_=>_.filter((E,T)=>T!==A))}async function M(){if(!S())return;const A={};v.forEach(({key:_,value:E})=>{const T=_.trim();T&&(A[T]=E)}),h(!0);try{await t({...s,pan:s.pan.toUpperCase(),dynamicFields:A})}finally{h(!1)}}return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Member Name",required:!0,error:u.memberName,children:l.jsx(Me,{value:s.memberName,onChange:A=>b("memberName",A),placeholder:"e.g., Jagadeesh"})}),l.jsx(oe,{label:"Relationship",required:!0,error:u.relationship,children:l.jsx(Ke,{value:s.relationship,onChange:A=>b("relationship",A),options:ole,placeholder:"Select..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"PAN",required:!0,error:u.pan,children:l.jsx(Me,{sensitive:!0,value:s.pan,onChange:A=>b("pan",A.toUpperCase()),placeholder:"ABCDE1234F",maxLength:10})}),l.jsx(oe,{label:"Aadhar",required:!0,error:u.aadhar,children:l.jsx(Me,{sensitive:!0,value:s.aadhar,onChange:A=>b("aadhar",A.replace(/\D/g,"")),placeholder:"123456789012",maxLength:12})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Email",required:!0,error:u.email,children:l.jsx(Me,{sensitive:!0,type:"email",value:s.email,onChange:A=>b("email",A),placeholder:"email@example.com"})}),l.jsx(oe,{label:"Mobile",required:!0,error:u.mobile,children:l.jsx(Me,{sensitive:!0,value:s.mobile,onChange:A=>b("mobile",A.replace(/\D/g,"")),placeholder:"9876543210",maxLength:10})})]}),l.jsx(l7,{checked:s.includeInEmailReports,onChange:A=>b("includeInEmailReports",A),label:"Include in email reports"}),a&&l.jsx(oe,{label:"Status",children:l.jsx(Ke,{value:s.status,onChange:A=>b("status",A),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)]",children:"Custom Fields"}),l.jsxs("button",{onClick:w,type:"button",className:"flex items-center gap-1 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[l.jsx(Pr,{size:12})," Add Field"]})]}),v.length===0&&l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"No custom fields. Add DOB, occupation, blood group, etc."}),l.jsx("div",{className:"space-y-2",children:v.map((A,_)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{value:A.key,onChange:E=>y(_,"key",E.target.value),placeholder:"Field name",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),l.jsx("input",{value:A.value,onChange:E=>y(_,"value",E.target.value),placeholder:"Value",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),l.jsx("button",{onClick:()=>C(_),type:"button",className:"p-1 text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:l.jsx(Mh,{size:13})})]},_))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[a&&n?l.jsx(es,{onClick:n}):l.jsx("div",{}),l.jsx(an,{onCancel:r,onSubmit:M,submitLabel:a?"Update":"Add Member",loading:m})]})]})}const Ym=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],M_={Self:"bg-violet-500/15 text-[var(--accent-violet)]",Spouse:"bg-rose-500/15 text-[var(--accent-rose)]",Father:"bg-blue-500/15 text-[var(--accent-blue)]",Mother:"bg-amber-500/15 text-[var(--accent-amber)]",Son:"bg-emerald-500/15 text-emerald-400",Daughter:"bg-emerald-500/15 text-emerald-400"};function ule(){const{members:e,addMember:t,updateMember:n,deleteMember:r}=ht(),{showToast:a,showBlockUI:s,hideBlockUI:c}=oi(),u=ci(),{mv:f}=ui(),[m,h]=j.useState(null);if(e===null)return l.jsx(ts,{title:"Loading family",cards:3});const v=e.filter(S=>S.status!=="Inactive");async function x(S){s("Saving member...");try{m?.edit?await n(m.edit.memberId,S):await t(S),a(m?.edit?"Member updated":"Member added"),h(null)}catch(w){a(w.message||"Failed to save member","error")}finally{c()}}async function b(){if(m?.edit&&await u("Deactivate this family member?",{title:"Deactivate Member",confirmLabel:"Deactivate"})){s("Deactivating...");try{await r(m.edit.memberId),a("Member deactivated"),h(null)}catch(S){a(S.message||"Failed to deactivate member","error")}finally{c()}}}return[...new Set(v.flatMap(S=>Object.keys(S.dynamicFields||{})))],l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>h("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Pr,{size:14})," Add Member"]})}),v.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(lc,{size:32,className:"text-[var(--text-dim)]"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No family members yet"}),l.jsx("button",{onClick:()=>h("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first member"})]}):l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Relationship"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"PAN"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Aadhaar"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Email"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Mobile"}),l.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),l.jsx("tbody",{children:v.map((S,w)=>{const y=S.dynamicFields||{},C=Object.entries(y);return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsx("td",{className:"py-2.5 px-4",children:l.jsxs("div",{className:"flex items-center gap-2.5",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Ym[w%Ym.length]}`,children:S.memberName.charAt(0)}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:f(S.memberName,"name")}),C.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-1 mt-0.5",children:[C.slice(0,3).map(([M,A])=>l.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[M,": ",A]},M)),C.length>3&&l.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",C.length-3," more"]})]})]})]})}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${M_[S.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:S.relationship})}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:f(S.pan,"pan")||""}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:f(S.aadhar,"aadhaar")||""}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] truncate max-w-[180px]",children:f(S.email,"email")}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:f(S.mobile,"mobile")}),l.jsx("td",{className:"py-2.5 px-2",children:l.jsx("button",{onClick:()=>h({edit:S}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:l.jsx(ka,{size:12})})})]},S.memberId)})})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:v.map((S,w)=>{const y=S.dynamicFields||{},C=Object.entries(y);return l.jsxs("div",{onClick:()=>h({edit:S}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Ym[w%Ym.length]}`,children:S.memberName.charAt(0)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:f(S.memberName,"name")}),l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${M_[S.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:S.relationship})]}),l.jsx("p",{className:"text-xs text-[var(--text-muted)] truncate",children:f(S.email,"email")})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:f(S.mobile,"mobile")}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["PAN: ",f(S.pan,"pan")||""]}),S.aadhar&&l.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["Aadhaar: ",f(S.aadhar,"aadhaar")]})]})]}),C.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[C.slice(0,3).map(([M,A])=>l.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[M,": ",A]},M)),C.length>3&&l.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",C.length-3," more"]})]})]},S.memberId)})})]}),l.jsx(mr,{open:!!m,onClose:()=>h(null),title:m?.edit?"Edit Member":"Add Family Member",wide:!0,children:l.jsx(cle,{initial:m?.edit||void 0,onSave:x,onDelete:m?.edit?b:void 0,onCancel:()=>h(null)})})]})}const D_=["Retirement","Emergency Fund","Child Education","Home Purchase","Car","Travel","Wedding","Custom"].map(e=>({value:e,label:e})),k_=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],Vm={Retirement:{inflation:6,cagr:12},"Emergency Fund":{inflation:0,cagr:7},"Child Education":{inflation:10,cagr:12},"Home Purchase":{inflation:8,cagr:12},Wedding:{inflation:6,cagr:12},Car:{inflation:5,cagr:10},Travel:{inflation:6,cagr:10},Custom:{inflation:6,cagr:12}},E_=[{label:"Basics",icon:Md},{label:"Financials",icon:QF},{label:"Review",icon:Mc}];function dle({initial:e,onSave:t,onDelete:n,onCancel:r}){const a=!!e,{activeMembers:s}=ht(),c=(s||[]).map(O=>({value:O.memberId,label:O.relationship?`${O.memberName} (${O.relationship})`:O.memberName})),[u,f]=j.useState(0),[m,h]=j.useState(()=>{if(a){const O=(e.expectedInflation||.06)*100,L=(e.expectedCAGR||.12)*100,R=e.targetDate?Math.max(0,(new Date(e.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,B=O/100;let k=e.targetAmount||0;B>0&&R>0&&e.goalType!=="Emergency Fund"&&(k=e.targetAmount/Math.pow(1+B,R));const K=s.find(W=>W.memberName===e.familyMemberName);return{goalType:e.goalType||"",goalName:e.goalName||"",familyMemberId:K?.memberId||"",todaysCost:Math.round(k).toString(),targetDate:e.targetDate||"",lumpsum:(e.lumpsumInvested||0).toString(),monthlySIP:(e.monthlyInvestment||0).toString(),inflation:O.toString(),cagr:L.toString(),priority:e.priority||"Medium",notes:e.notes||"",monthlyExpenses:(e.monthlyExpenses||"").toString(),emergencyMonths:(e.emergencyMonths||6).toString()}}return{goalType:"",goalName:"",familyMemberId:"",todaysCost:"",targetDate:"",lumpsum:"",monthlySIP:"",inflation:"6",cagr:"12",priority:"Medium",notes:"",monthlyExpenses:"",emergencyMonths:"6"}}),[v,x]=j.useState({}),[b,S]=j.useState(!1);function w(O,L){h(R=>({...R,[O]:L})),x(R=>({...R,[O]:void 0}))}j.useEffect(()=>{if(a||!m.goalType)return;const O=Vm[m.goalType]||Vm.Custom;h(L=>({...L,inflation:O.inflation.toString(),cagr:O.cagr.toString()}))},[m.goalType,a]);const y=m.goalType==="Retirement",C=m.goalType==="Emergency Fund",M=j.useMemo(()=>{const O=(Number(m.inflation)||0)/100,R=(Number(m.cagr)||0)/100/12,B=Number(m.lumpsum)||0,k=Number(m.monthlyExpenses)||0,K=Number(m.emergencyMonths)||6,W=m.targetDate?Math.max(0,(new Date(m.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,Z=Math.round(W*12);let $=0,G=0;y?($=k*12*25,G=$*Math.pow(1+O,W)):C?($=k*K,G=$):($=Number(m.todaysCost)||0,G=O>0&&W>0?$*Math.pow(1+O,W):$),G=Math.round(G);const z=B>0&&Z>0?B*Math.pow(1+R,Z):B;let re=0;if(G>0&&Z>0){const be=G-z;be>0&&R>0?re=be/((Math.pow(1+R,Z)-1)/R):be>0&&(re=be/Z),re=Math.max(0,Math.ceil(re))}const he=re>0&&R>0&&Z>0?re*((Math.pow(1+R,Z)-1)/R):re*Z,F=Math.round(B+re*Z),ne=Math.round(G-F),ve=B>0&&z>=G;return{todaysCost:$,inflatedTarget:G,yearsToGo:W,months:Z,fvLumpsum:Math.round(z),requiredSIP:re,fvRequiredSIP:Math.round(he),planTotalInvested:F,planReturns:ne,lumpsumCoversGoal:ve,hasTarget:G>0}},[m.todaysCost,m.targetDate,m.lumpsum,m.inflation,m.cagr,m.monthlyExpenses,m.emergencyMonths,y,C]);function A(O){const L={};return O===0&&(m.goalType||(L.goalType="Required"),m.goalName.trim()||(L.goalName="Required")),O===1&&(m.targetDate||(L.targetDate="Required"),y||C?(!m.monthlyExpenses||Number(m.monthlyExpenses)<=0)&&(L.monthlyExpenses="Required"):(!m.todaysCost||Number(m.todaysCost)<=0)&&(L.todaysCost="Must be > 0")),x(L),Object.keys(L).length===0}function _(){const O={};return m.goalType||(O.goalType="Required"),m.goalName.trim()||(O.goalName="Required"),m.targetDate||(O.targetDate="Required"),y||C?(!m.monthlyExpenses||Number(m.monthlyExpenses)<=0)&&(O.monthlyExpenses="Required"):(!m.todaysCost||Number(m.todaysCost)<=0)&&(O.todaysCost="Must be > 0"),x(O),Object.keys(O).length===0}function E(){A(u)&&f(O=>Math.min(O+1,2))}async function T(){if(!_())return;const O=m.familyMemberId&&s.find(L=>L.memberId===m.familyMemberId)?.memberName||"Family";S(!0);try{await t({goalType:m.goalType,goalName:m.goalName,familyMemberId:m.familyMemberId||"",familyMember:O,targetAmount:M.inflatedTarget,targetDate:m.targetDate,priority:m.priority,notes:m.notes,expectedInflation:(Number(m.inflation)||0)/100,expectedCAGR:(Number(m.cagr)||0)/100,monthlyInvestment:M.requiredSIP||0,lumpsumInvested:Number(m.lumpsum)||0,monthlyExpenses:y||C?Number(m.monthlyExpenses)||0:void 0,emergencyMonths:C?Number(m.emergencyMonths)||6:void 0,isRetirement:y,currentCost:M.todaysCost})}finally{S(!1)}}const P=m.familyMemberId&&s.find(O=>O.memberId===m.familyMemberId)?.memberName||"Family";return a?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Goal Type",required:!0,error:v.goalType,children:l.jsx(Ke,{value:m.goalType,onChange:O=>w("goalType",O),options:D_,placeholder:"Select type..."})}),l.jsx(oe,{label:"Goal Name",required:!0,error:v.goalName,children:l.jsx(Me,{value:m.goalName,onChange:O=>w("goalName",O),placeholder:"e.g., Retirement Fund (2045)"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"For",error:v.familyMemberId,children:l.jsx(Ke,{value:m.familyMemberId,onChange:O=>w("familyMemberId",O),options:c,placeholder:"Family (Default)"})}),l.jsx(oe,{label:"Target Date",required:!0,error:v.targetDate,children:l.jsx(ni,{value:m.targetDate,onChange:O=>w("targetDate",O),maxDate:null})})]}),y||C?l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Monthly Expenses",required:!0,error:v.monthlyExpenses,children:l.jsx(Me,{type:"number",value:m.monthlyExpenses,onChange:O=>w("monthlyExpenses",O),placeholder:"e.g., 50000"})}),C&&l.jsx(oe,{label:"Emergency Months",children:l.jsx(Me,{type:"number",value:m.emergencyMonths,onChange:O=>w("emergencyMonths",O),placeholder:"6"})})]}):l.jsx(oe,{label:"Today's Cost",required:!0,error:v.todaysCost,children:l.jsx(Me,{type:"number",value:m.todaysCost,onChange:O=>w("todaysCost",O),placeholder:"e.g., 1000000"})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[l.jsx(oe,{label:"Inflation %",children:l.jsx(Me,{type:"number",value:m.inflation,onChange:O=>w("inflation",O),placeholder:"6"})}),l.jsx(oe,{label:"Expected CAGR %",children:l.jsx(Me,{type:"number",value:m.cagr,onChange:O=>w("cagr",O),placeholder:"12"})}),l.jsx(oe,{label:"Lumpsum Invested",children:l.jsx(Me,{type:"number",value:m.lumpsum,onChange:O=>w("lumpsum",O),placeholder:"0"})})]}),M.hasTarget&&l.jsx(__,{calc:M,inflation:m.inflation,isRetirement:y,isEmergency:C}),l.jsx(oe,{label:"Priority",children:l.jsx(Ke,{value:m.priority,onChange:O=>w("priority",O),options:k_})}),l.jsx(oe,{label:"Notes",children:l.jsx(hc,{value:m.notes,onChange:O=>w("notes",O),placeholder:"Optional notes...",rows:2})}),l.jsxs("div",{className:"flex items-center justify-between",children:[n?l.jsx(es,{onClick:n}):l.jsx("div",{}),l.jsx(an,{onCancel:r,onSubmit:T,submitLabel:"Update Goal",loading:b})]})]}):l.jsxs("div",{className:"space-y-5",children:[l.jsx("div",{className:"flex items-center gap-1 mb-2",children:E_.map((O,L)=>{const R=O.icon,B=L===u,k=L<u;return l.jsxs("div",{className:"flex items-center flex-1",children:[l.jsxs("button",{onClick:()=>{L<u&&f(L)},className:`flex items-center gap-1.5 text-xs font-semibold transition-colors ${B?"text-violet-400":k?"text-emerald-400 cursor-pointer":"text-[var(--text-dim)]"}`,children:[l.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold border ${B?"border-violet-400 bg-violet-500/15":k?"border-emerald-400 bg-emerald-500/15":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:k?l.jsx(Mc,{size:12}):l.jsx(R,{size:12})}),l.jsx("span",{className:"hidden sm:inline",children:O.label})]}),L<E_.length-1&&l.jsx("div",{className:`flex-1 h-px mx-2 ${k?"bg-emerald-400/40":"bg-[var(--border)]"}`})]},O.label)})}),u===0&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Tell us about your financial goal"}),l.jsx(oe,{label:"Goal Type",required:!0,error:v.goalType,children:l.jsx(Ke,{value:m.goalType,onChange:O=>w("goalType",O),options:D_,placeholder:"Select type..."})}),m.goalType&&l.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)]",children:[l.jsx(sc,{size:12,className:"text-[var(--text-dim)] shrink-0"}),l.jsxs("p",{className:"text-[11px] text-[var(--text-muted)]",children:["Default: ",Vm[m.goalType]?.inflation||6,"% inflation, ",Vm[m.goalType]?.cagr||12,"% CAGR",y&&"  Uses 25x annual expenses rule",C&&"  No inflation applied"]})]}),l.jsx(oe,{label:"Goal Name",required:!0,error:v.goalName,children:l.jsx(Me,{value:m.goalName,onChange:O=>w("goalName",O),placeholder:"e.g., Retirement Fund (2045)"})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"For",error:v.familyMemberId,children:l.jsx(Ke,{value:m.familyMemberId,onChange:O=>w("familyMemberId",O),options:c,placeholder:"Family (Default)"})}),l.jsx(oe,{label:"Priority",children:l.jsx(Ke,{value:m.priority,onChange:O=>w("priority",O),options:k_})})]})]}),u===1&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:y?"Set your retirement timeline and monthly expenses":C?"Set your emergency fund requirements":"Set your target and investment plan"}),y||C?l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Target Date",required:!0,error:v.targetDate,children:l.jsx(ni,{value:m.targetDate,onChange:O=>w("targetDate",O),maxDate:null})}),l.jsx(oe,{label:"Monthly Expenses (Today)",required:!0,error:v.monthlyExpenses,children:l.jsx(Me,{type:"number",value:m.monthlyExpenses,onChange:O=>w("monthlyExpenses",O),placeholder:"e.g., 50000"})}),C&&l.jsx(oe,{label:"Emergency Fund (Months)",children:l.jsx(Me,{type:"number",value:m.emergencyMonths,onChange:O=>w("emergencyMonths",O),placeholder:"6"})}),y&&l.jsx("div",{className:"sm:col-span-2",children:l.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Corpus = Monthly Expenses x 12 x 25 = ",Q(M.todaysCost)," (today)"]})})]}):l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Target Date",required:!0,error:v.targetDate,children:l.jsx(ni,{value:m.targetDate,onChange:O=>w("targetDate",O),maxDate:null})}),l.jsx(oe,{label:"Today's Cost",required:!0,error:v.todaysCost,children:l.jsx(Me,{type:"number",value:m.todaysCost,onChange:O=>w("todaysCost",O),placeholder:"e.g., 1000000"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(oe,{label:`Inflation Rate (%)${C?"  N/A":""}`,children:l.jsx(Me,{type:"number",value:m.inflation,onChange:O=>w("inflation",O),placeholder:"6"})}),l.jsx(oe,{label:"Expected Returns (CAGR %)",children:l.jsx(Me,{type:"number",value:m.cagr,onChange:O=>w("cagr",O),placeholder:"12"})})]}),M.hasTarget&&l.jsx(__,{calc:M,inflation:m.inflation,isRetirement:y,isEmergency:C}),l.jsx(oe,{label:"Lumpsum You Plan to Invest (Optional)",children:l.jsx(Me,{type:"number",value:m.lumpsum,onChange:O=>w("lumpsum",O),placeholder:"e.g., 500000"})}),M.hasTarget&&M.months>0&&l.jsx(O_,{calc:M,lumpsum:m.lumpsum}),l.jsx(oe,{label:"Notes",children:l.jsx(hc,{value:m.notes,onChange:O=>w("notes",O),placeholder:"Optional notes...",rows:2})})]}),u===2&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Review your goal before saving"}),l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-3",children:[l.jsx(hn,{label:"Goal",value:m.goalName,bold:!0}),l.jsx(hn,{label:"Type",value:m.goalType,color:"violet"}),l.jsx(hn,{label:"Member",value:P}),l.jsx(hn,{label:"Priority",value:m.priority,badge:m.priority==="High"?"rose":m.priority==="Low"?"blue":"amber"}),l.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[(y||C)&&l.jsx(hn,{label:"Monthly Expenses",value:Q(Number(m.monthlyExpenses)||0)}),C&&l.jsx(hn,{label:"Emergency Months",value:m.emergencyMonths}),!y&&!C&&l.jsx(hn,{label:"Today's Cost",value:Q(M.todaysCost)}),l.jsx(hn,{label:"Inflation",value:`${m.inflation}% p.a.`}),l.jsx(hn,{label:"Expected CAGR",value:`${m.cagr}% p.a.`}),l.jsx(hn,{label:"Future Value (Inflated)",value:Q(M.inflatedTarget),bold:!0,color:"violet"})]}),l.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[l.jsx(hn,{label:"Lumpsum",value:Q(Number(m.lumpsum)||0)}),l.jsx(hn,{label:"Required SIP",value:`${Q(M.requiredSIP)}/mo`,color:"emerald"}),l.jsx(hn,{label:"Target Date",value:m.targetDate}),l.jsx(hn,{label:"Time Remaining",value:M.yearsToGo>0?`${M.yearsToGo.toFixed(1)} years`:""})]})]}),M.hasTarget&&M.months>0&&l.jsx(O_,{calc:M,lumpsum:m.lumpsum,compact:!0})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-light)]",children:[l.jsx("div",{children:u>0&&l.jsxs("button",{onClick:()=>f(O=>O-1),className:"flex items-center gap-1 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx(FO,{size:14})," Back"]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),u<2?l.jsxs("button",{onClick:E,className:"flex items-center gap-1 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors",children:["Next ",l.jsx(td,{size:14})]}):l.jsx("button",{onClick:T,disabled:b,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Saving...":"Create Goal"})]})]})]})}function __({calc:e,inflation:t,isRetirement:n,isEmergency:r}){return r?l.jsx("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-500/5 border border-blue-500/15",children:l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Emergency Fund: ",l.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:Q(e.inflatedTarget)}),l.jsx("span",{className:"text-[var(--text-dim)]",children:" (no inflation applied)"})]})}):l.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 rounded-lg bg-violet-500/5 border border-violet-500/15",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase tracking-wider",children:n?"Corpus Today":"Today's Cost"}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:Q(e.todaysCost)})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[t,"% x ",e.yearsToGo.toFixed(1),"yrs"]}),l.jsx(td,{size:12,className:"text-violet-400 mx-auto"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-[10px] font-semibold text-violet-400 uppercase tracking-wider",children:"Future Value"}),l.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:Q(e.inflatedTarget)})]})]})}function O_({calc:e,lumpsum:t,compact:n}){const r=Number(t)||0;return n?l.jsxs("div",{className:"rounded-lg border p-3 bg-violet-500/5 border-violet-500/15",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Required Monthly SIP"}),l.jsxs("span",{className:"text-sm font-bold text-violet-400 tabular-nums",children:[e.lumpsumCoversGoal?"0":Q(e.requiredSIP),"/mo"]})]}),e.lumpsumCoversGoal&&l.jsx("p",{className:"text-[10px] text-emerald-400 mt-1",children:"Lumpsum alone covers this goal!"})]}):l.jsxs("div",{className:"rounded-lg border p-3 space-y-2 bg-violet-500/5 border-violet-500/15",children:[e.lumpsumCoversGoal?l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Mc,{size:12,className:"text-emerald-400"}),l.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400",children:"Lumpsum Covers Goal"})]}):l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-violet-400",children:"Required Monthly SIP"}),l.jsxs("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:[Q(e.requiredSIP),"/mo"]})]}),e.planTotalInvested>0&&l.jsxs("div",{className:"border-t border-[var(--border-light)] pt-2 space-y-1",children:[r>0&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["Lumpsum ",Q(r)," grows to"]}),l.jsx("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:Q(e.fvLumpsum)})]}),e.requiredSIP>0&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["SIP ",Q(e.requiredSIP),"/mo x ",e.months," months"]}),l.jsx("span",{className:"text-[11px] font-semibold text-blue-400 tabular-nums",children:Q(e.fvRequiredSIP)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Total You Invest"}),l.jsx("span",{className:"text-[11px] font-semibold text-[var(--text-primary)] tabular-nums",children:Q(e.planTotalInvested)})]}),e.planReturns>0&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Wealth Created"}),l.jsxs("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:["+",Q(e.planReturns)]})]})]})]})}function hn({label:e,value:t,bold:n,color:r,badge:a}){const s=r==="violet"?"text-violet-400":r==="emerald"?"text-emerald-400":"text-[var(--text-primary)]";if(a){const c=a==="rose"?"bg-rose-500/15 text-rose-400":a==="blue"?"bg-blue-500/15 text-blue-400":"bg-amber-500/15 text-amber-400";return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e}),l.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${c}`,children:t})]})}return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e}),l.jsx("span",{className:`text-xs ${n?"font-bold text-sm":"font-semibold"} ${s}`,children:t})]})}function fle({goal:e,onClose:t}){const{goalPortfolioMappings:n,mfPortfolios:r,mfHoldings:a}=ht(),s=j.useMemo(()=>{const u=n.filter(v=>v.goalId===e.goalId);if(u.length===0)return null;const f=u.map(v=>{const x=r.find(C=>C.portfolioId===v.portfolioId);if(!x)return null;const b=a.filter(C=>C.portfolioId===v.portfolioId&&C.units>0),S=b.reduce((C,M)=>C+M.currentValue,0),w=S*v.allocationPct/100,y=b.map(C=>{const M=S>0?C.currentValue/S:0,A=w*M,_=C.currentNav>0?A/C.currentNav:0,E=A-_*C.avgNav;return{fundName:C.fundName,currentValue:C.currentValue,withdrawValue:A,withdrawUnits:Math.min(_,C.units),currentNav:C.currentNav,taxableGain:E,availableUnits:C.units}}).filter(C=>C.withdrawValue>0);return{portfolioName:x.portfolioName,ownerName:x.ownerName,allocationPct:v.allocationPct,portfolioValue:S,linkedValue:w,fundWithdrawals:y}}).filter(Boolean),m=f.reduce((v,x)=>v+x.linkedValue,0),h=f.reduce((v,x)=>v+x.fundWithdrawals.reduce((b,S)=>b+S.taxableGain,0),0);return{portfolioDetails:f,totalLinked:m,totalTaxableGain:h}},[e,n,r,a]);if(!s)return l.jsxs("div",{className:"py-8 text-center space-y-2",children:[l.jsx(Hs,{size:24,className:"mx-auto text-amber-400"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No portfolios linked to this goal"}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Link portfolios first to generate a withdrawal plan"}),l.jsx("button",{onClick:t,className:"mt-2 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})]});const c=e.targetAmount>0?s.totalLinked/e.targetAmount*100:0;return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),l.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:Q(e.targetAmount)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Available from Linked Portfolios"}),l.jsx("span",{className:`text-sm font-bold ${s.totalLinked>=e.targetAmount?"text-emerald-400":"text-amber-400"}`,children:Q(s.totalLinked)})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-card)] rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full rounded-full ${c>=100?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(c,100)}%`}})}),l.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[c.toFixed(0),"%"]})]}),s.totalTaxableGain>0&&l.jsxs("div",{className:"flex items-center justify-between pt-1",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Estimated Taxable Gain"}),l.jsx("span",{className:"text-xs font-semibold text-amber-400",children:Q(s.totalTaxableGain)})]})]}),s.portfolioDetails.map(u=>l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] overflow-hidden",children:[l.jsxs("div",{className:"px-4 py-2.5 bg-[var(--bg-card)] border-b border-[var(--border-light)] flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:u.portfolioName}),l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[u.ownerName,"  ",u.allocationPct,"% allocated to goal"]})]}),l.jsx("span",{className:"text-xs font-bold text-[var(--text-primary)]",children:Q(u.linkedValue)})]}),l.jsx("div",{className:"px-4 py-2",children:l.jsxs("table",{className:"w-full text-xs",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-[var(--text-dim)]",children:[l.jsx("th",{className:"text-left py-1 font-medium",children:"Fund"}),l.jsx("th",{className:"text-right py-1 font-medium",children:"Units"}),l.jsx("th",{className:"text-right py-1 font-medium",children:"Amount"}),l.jsx("th",{className:"text-right py-1 font-medium",children:"Gain"})]})}),l.jsx("tbody",{children:u.fundWithdrawals.map(f=>l.jsxs("tr",{className:"border-t border-[var(--border-light)]",children:[l.jsx("td",{className:"py-1.5 text-[var(--text-secondary)] max-w-[180px] truncate",children:f.fundName}),l.jsx("td",{className:"py-1.5 text-right text-[var(--text-muted)] tabular-nums",children:f.withdrawUnits.toFixed(2)}),l.jsx("td",{className:"py-1.5 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:Q(f.withdrawValue)}),l.jsx("td",{className:`py-1.5 text-right tabular-nums font-semibold ${f.taxableGain>=0?"text-emerald-400":"text-rose-400"}`,children:Q(Math.abs(f.taxableGain))})]},f.fundName))})]})})]},u.portfolioName)),l.jsx("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:l.jsx("button",{onClick:t,className:"px-5 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})})]})}const mle={"On Track":"bg-blue-500/15 text-[var(--accent-blue)]",Behind:"bg-amber-500/15 text-[var(--accent-amber)]",Critical:"bg-rose-500/15 text-[var(--accent-rose)]","Needs Attention":"bg-amber-500/15 text-[var(--accent-amber)]",Achieved:"bg-emerald-500/15 text-emerald-400",Paused:"bg-slate-500/15 text-[var(--text-muted)]"},ple={High:"bg-rose-500/15 text-[var(--accent-rose)]",Medium:"bg-amber-500/15 text-[var(--accent-amber)]",Low:"bg-blue-500/15 text-[var(--accent-blue)]"},hle={"On Track":"bg-blue-500",Behind:"bg-amber-500",Critical:"bg-rose-500","Needs Attention":"bg-amber-500",Achieved:"bg-emerald-500",Paused:"bg-slate-500"};function vle(){const{selectedMember:e,member:t}=Yr(),{goalList:n,addGoal:r,updateGoal:a,deleteGoal:s,goalPortfolioMappings:c,updateGoalMappings:u,mfHoldings:f,activeMembers:m,mfPortfolios:h,stockPortfolios:v,otherInvList:x}=ht(),{showToast:b,showBlockUI:S,hideBlockUI:w}=oi(),y=ci(),[C,M]=j.useState(null),[A,_]=j.useState(null),[E,T]=j.useState(null),P=j.useRef(new Set),[O,L]=j.useState(null),[R,B]=j.useState([]),[k,K]=j.useState(!1),[W,Z]=j.useState(!1),$=j.useMemo(()=>{if(!n)return[];const te=n.filter(me=>me.isActive!==!1);return e==="all"?te:te.filter(me=>me.familyMemberId===e)},[n,e]);function G(te){if(!te.familyMemberName||te.familyMemberName==="Family")return te.familyMemberName||"Family";const me=(m||[]).find(Oe=>Oe.memberName===te.familyMemberName);return me?.relationship?`${te.familyMemberName} (${me.relationship})`:te.familyMemberName}const z=$.reduce((te,me)=>te+(me.targetAmount||0),0),re=$.reduce((te,me)=>te+(me.currentValue||0),0),he=$.reduce((te,me)=>te+(me.monthlyInvestment||0),0),F=$.reduce((te,me)=>te+(me.lumpsumNeeded||0),0),ne=z>0?re/z*100:0,ve=$.filter(te=>te.status==="Needs Attention").length,be=$.filter(te=>te.status==="Achieved").length,Pe=new Set(["Equity","ELSS","Index"]),Re=j.useMemo(()=>{if(!$.length||!c?.length||!f?.length)return[];const te=new Date,me=[];for(const Oe of $){if(Oe.status==="Achieved")continue;const Y=(new Date(Oe.targetDate)-te)/(365.25*24*60*60*1e3);if(Y>3||Y<=0)continue;const ue=c.filter(Tt=>Tt.goalId===Oe.goalId);if(!ue.length)continue;let je=0,De=0;for(const Tt of ue){const Ye=f.filter(Mt=>Mt.portfolioId===Tt.portfolioId&&Mt.units>0);for(const Mt of Ye){const Kt=Mt.currentValue*(Tt.allocationPct/100);je+=Kt,Pe.has(Mt.category)?De+=Kt:Mt.category==="Hybrid"&&(De+=Kt*.65)}}const Fe=je>0?De/je*100:0,se=Y<1?30:Y<2?50:70;Fe>se&&me.push({goalId:Oe.goalId,goalName:Oe.goalName,yearsLeft:Y.toFixed(1),equityPct:Math.round(Fe),maxEquity:se,excessPct:Math.round(Fe-se)})}return me},[$,c,f]);j.useEffect(()=>{const te=new Set($.filter(Oe=>Oe.status==="Achieved").map(Oe=>Oe.goalId)),me=P.current;for(const Oe of te)if(!me.has(Oe)){const rt=$.find(Y=>Y.goalId===Oe);rt&&(T(rt),setTimeout(()=>T(null),5e3))}P.current=te},[$]);function Ne(te){return te?te.startsWith("PFL-STK-")?"Stock":te.startsWith("INV-")?"Other":"MF":"MF"}const _e=j.useMemo(()=>{const te={};return(h||[]).forEach(me=>{te[me.portfolioId]={name:me.portfolioName?.replace(/^PFL-/,"")||me.portfolioName,value:me.currentValue||0,type:"MF",owner:me.ownerName||""}}),(v||[]).forEach(me=>{te[me.portfolioId]={name:me.portfolioName,value:me.currentValue||0,type:"Stock",owner:me.ownerName||""}}),(x||[]).forEach(me=>{te[me.investmentId]={name:me.investmentName,value:me.currentValue||0,type:"Other",owner:me.familyMemberName||""}}),te},[h,v,x]),X=j.useMemo(()=>{const te=[];return(h||[]).filter(me=>me.status!=="Inactive").forEach(me=>{te.push({id:me.portfolioId,name:me.portfolioName?.replace(/^PFL-/,"")||me.portfolioName,value:me.currentValue||0,type:"MF",owner:me.ownerName||""})}),(v||[]).filter(me=>me.status!=="Inactive").forEach(me=>{te.push({id:me.portfolioId,name:me.portfolioName,value:me.currentValue||0,type:"Stock",owner:me.ownerName||""})}),(x||[]).filter(me=>me.status==="Active").forEach(me=>{te.push({id:me.investmentId,name:me.investmentName,value:me.currentValue||0,type:"Other",owner:me.familyMemberName||""})}),te},[h,v,x]),Se=X.filter(te=>te.type==="MF"),Be=X.filter(te=>te.type==="Stock"),xe=X.filter(te=>te.type==="Other"),et=j.useMemo(()=>{const te={};return(c||[]).forEach(me=>{if(me.goalId===O)return;te[me.portfolioId]||(te[me.portfolioId]={total:0,goals:[]}),te[me.portfolioId].total+=me.allocationPct;const Oe=(n||[]).find(rt=>rt.goalId===me.goalId);te[me.portfolioId].goals.push({goalName:Oe?.goalName||me.goalId,pct:me.allocationPct})}),te},[c,O,n]),ge=j.useMemo(()=>{const te=[];for(const me of R){const rt=(et[me.portfolioId]?.total||0)+(me.allocationPct||0);if(rt>100){const Y=X.find(ue=>ue.id===me.portfolioId);te.push({name:Y?.name||me.portfolioId,combined:rt,excess:rt-100})}}return te},[R,et,X]),He=ge.length===0;function Ze(te){const me=(c||[]).filter(Oe=>Oe.goalId===te).map(Oe=>({portfolioId:Oe.portfolioId,allocationPct:Oe.allocationPct,investmentType:Oe.investmentType||Ne(Oe.portfolioId)}));B(me),L(te),K(!1)}function dt(){L(null),B([]),K(!1)}function Ct(te){O===te?dt():Ze(te)}function Nr(){const te=new Set(R.map(Oe=>Oe.portfolioId)),me=X.find(Oe=>!te.has(Oe.id)&&(et[Oe.id]?.total||0)<100);me&&(B(Oe=>[...Oe,{portfolioId:me.id,allocationPct:0,investmentType:me.type}]),K(!0))}function bt(te){B(me=>me.filter((Oe,rt)=>rt!==te)),K(!0)}function At(te,me,Oe){B(rt=>rt.map((Y,ue)=>{if(ue!==te)return Y;if(me==="allocationPct"){const je=et[Y.portfolioId]?.total||0,De=Math.max(0,100-je);return{...Y,allocationPct:Math.max(0,Math.min(De,Number(Oe)||0))}}if(me==="portfolioId"){const je=X.find(se=>se.id===Oe),De=et[Oe]?.total||0,Fe=Math.max(0,100-De);return{...Y,portfolioId:Oe,investmentType:je?.type||Ne(Oe),allocationPct:Math.min(Y.allocationPct,Fe)}}return Y})),K(!0)}async function Er(){if(He){Z(!0),S("Saving...");try{await u(O,R.filter(te=>te.allocationPct>0)),b("Allocation updated"),dt()}catch(te){b(te.message||"Failed to save","error")}finally{w(),Z(!1)}}}if(n===null)return l.jsx(ts,{title:"Loading goals",cards:5});async function sn(te){S("Saving...");try{C?.edit?await a(C.edit.goalId,te):await r(te),b(C?.edit?"Goal updated":"Goal added"),M(null)}catch(me){b(me.message||"Failed to save goal","error")}finally{w()}}async function nr(){if(C?.edit&&await y("Delete this goal?",{title:"Delete Goal",confirmLabel:"Delete"})){const te=C.edit.goalId,me=(c||[]).filter(Oe=>Oe.goalId===te);S("Deleting...");try{if(await s(te),M(null),me.length>0){const Oe=me.some(rt=>(c||[]).some(Y=>Y.portfolioId===rt.portfolioId&&Y.goalId!==te));b(Oe?"Goal deleted  shared allocations freed":"Goal deleted")}else b("Goal deleted")}catch(Oe){b(Oe.message||"Failed to delete goal","error")}finally{w()}}}function _a(te){return!te.targetAmount||te.targetAmount===0?0:Math.min((te.currentValue||0)/te.targetAmount*100,100)}function Ue(te){if(!te.targetDate)return null;const Oe=(new Date(te.targetDate)-new Date)/(365.25*24*60*60*1e3);return Oe>0?Oe.toFixed(1):"0"}return l.jsxs("div",{className:"space-y-4",children:[$.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(Md,{size:32,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No goals set",t?` for ${t.memberName}`:""]}),l.jsx("button",{onClick:()=>M("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first goal"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[l.jsx(Go,{label:"Target",value:Q(z),bold:!0}),l.jsx(Go,{label:"Current Value",value:Q(re),bold:!0}),l.jsx(Go,{label:"Gap",value:Q(Math.max(z-re,0)),positive:z<=re,bold:!0}),l.jsx(Go,{label:"Progress",value:`${ne.toFixed(1)}%`,sub:`${$.length} goal${$.length!==1?"s":""}${be>0?`  ${be} done`:""}`,positive:ne>=50,bold:!0}),l.jsx(Go,{label:"Required SIP",value:Q(he),sub:ve>0?`${ve} need attention`:"per month"}),l.jsx(Go,{label:"Required Lumpsum",value:Q(F),sub:"one-time today"})]}),E&&l.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-500/10 via-yellow-500/10 to-emerald-500/10 rounded-xl border border-emerald-500/30 px-4 py-3 flex items-center gap-3 animate-fade-in overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((te,me)=>l.jsx("span",{className:"absolute text-sm animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:["","","","",""][me%5]},me))}),l.jsx(MC,{size:20,className:"text-yellow-400 shrink-0 relative z-10"}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("p",{className:"text-sm font-bold text-emerald-400",children:"Goal Achieved!"}),l.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[E.goalName,"  Congratulations!"]})]}),l.jsx("button",{onClick:()=>T(null),className:"ml-auto text-xs text-[var(--text-dim)] hover:text-[var(--text-primary)] relative z-10",children:"Dismiss"})]}),Re.length>0&&l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-amber-500/20 p-4 space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(U8,{size:14,className:"text-amber-400"}),l.jsx("p",{className:"text-xs font-bold text-amber-400 uppercase tracking-wider",children:"De-risking Alerts"})]}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"These goals are approaching their deadline with high equity exposure. Consider moving funds to debt/liquid for capital protection."}),l.jsx("div",{className:"space-y-1.5",children:Re.map(te=>l.jsxs("div",{className:"flex items-center justify-between bg-amber-500/5 rounded-lg px-3 py-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:te.goalName}),l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[te.yearsLeft," yrs left"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-xs font-bold text-amber-400",children:[te.equityPct,"% equity"]}),l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Recommended max ",te.maxEquity,"%"]})]})]},te.goalId))})]}),l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>M("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Pr,{size:14})," Add Goal"]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:$.map(te=>{const me=_a(te),Oe=Ue(te),rt=O===te.goalId,Y=rt?R:(c||[]).filter(De=>De.goalId===te.goalId),ue=(c||[]).filter(De=>De.goalId===te.goalId).length,je=Y.reduce((De,Fe)=>{const se=_e[Fe.portfolioId];return De+(se?se.value*Fe.allocationPct/100:0)},0);return l.jsxs("div",{className:`bg-[var(--bg-card)] rounded-xl border overflow-hidden transition-colors ${rt?"border-violet-500/40":"border-[var(--border)]"}`,children:[l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-sm font-semibold text-[var(--text-primary)] truncate",children:te.goalName}),l.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[l.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:G(te)}),l.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded ${ple[te.priority]||""}`,children:te.priority})]})]}),l.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full shrink-0 ${mle[te.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:te.status})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full rounded-full transition-all ${hle[te.status]||"bg-blue-500"}`,style:{width:`${me}%`}})}),l.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums w-10 text-right",children:[me.toFixed(0),"%"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5 mb-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Current"}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(te.currentValue)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Target"}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(te.targetAmount)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Required SIP"}),l.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[Q(te.monthlyInvestment),"/mo"]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Timeline"}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:te.status==="Achieved"?"Done":Oe?`${Oe} yrs left`:""})]})]}),l.jsxs("div",{className:"flex items-center gap-1 pt-2 border-t border-[var(--border-light)]",children:[l.jsxs("button",{onClick:De=>{De.stopPropagation(),Ct(te.goalId)},className:`flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold rounded-lg transition-colors ${rt?"bg-violet-500/20 text-violet-400":ue>0?"text-violet-400 hover:bg-violet-500/10":"text-amber-400 hover:bg-amber-500/10"}`,children:[l.jsx(GO,{size:11}),ue>0?`${ue} linked`:"Link",ue===0&&l.jsx("span",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full animate-pulse"})]}),te.status==="Achieved"&&l.jsxs("button",{onClick:()=>_(te),className:"flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold text-[var(--text-dim)] hover:text-emerald-400 hover:bg-emerald-500/10 rounded-lg transition-colors",children:[l.jsx(BO,{size:11})," Withdraw"]}),l.jsxs("button",{onClick:()=>M({edit:te}),className:"flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-white/5 rounded-lg transition-colors ml-auto",children:[l.jsx(ka,{size:11})," Edit"]})]})]}),rt&&l.jsxs("div",{className:"px-4 pb-4 space-y-2 border-t border-violet-500/20 bg-violet-500/[0.03]",children:[l.jsxs("div",{className:"flex items-center justify-between pt-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ya,{size:12,className:"text-violet-400"}),l.jsx("span",{className:"text-xs font-semibold text-violet-400",children:"Link Investments"})]}),je>0&&l.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["Linked value: ",Q(je)]})]}),R.map((De,Fe)=>{const se=X.find($e=>$e.id===De.portfolioId),Tt=et[De.portfolioId],Ye=Tt?.total||0,Mt=100-Ye,Kt=Ye+(De.allocationPct||0);return l.jsxs("div",{className:`bg-[var(--bg-card)] rounded-lg border p-2.5 space-y-1.5 ${Kt>100?"border-rose-500/40":"border-[var(--border-light)]"}`,children:[l.jsxs("select",{value:De.portfolioId,onChange:$e=>At(Fe,"portfolioId",$e.target.value),className:"w-full px-2 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",children:[Se.length>0&&l.jsx("optgroup",{label:"MF Portfolios",children:Se.map($e=>{const qt=(et[$e.id]?.total||0)>=100,Xe=R.some((we,We)=>We!==Fe&&we.portfolioId===$e.id);return l.jsxs("option",{value:$e.id,disabled:Xe||qt,children:[$e.name,$e.owner?` (${$e.owner})`:"","  ",Q($e.value),qt?" (Fully allocated)":""]},$e.id)})}),Be.length>0&&l.jsx("optgroup",{label:"Stock Portfolios",children:Be.map($e=>{const qt=(et[$e.id]?.total||0)>=100,Xe=R.some((we,We)=>We!==Fe&&we.portfolioId===$e.id);return l.jsxs("option",{value:$e.id,disabled:Xe||qt,children:[$e.name,$e.owner?` (${$e.owner})`:"","  ",Q($e.value),qt?" (Fully allocated)":""]},$e.id)})}),xe.length>0&&l.jsx("optgroup",{label:"Other Investments",children:xe.map($e=>{const qt=(et[$e.id]?.total||0)>=100,Xe=R.some((we,We)=>We!==Fe&&we.portfolioId===$e.id);return l.jsxs("option",{value:$e.id,disabled:Xe||qt,children:[$e.name,$e.owner?` (${$e.owner})`:"","  ",Q($e.value),qt?" (Fully allocated)":""]},$e.id)})})]}),Ye>0&&l.jsxs("div",{className:`text-[10px] px-2 py-1 rounded ${Kt>100?"bg-rose-500/10 text-rose-400":"bg-blue-500/10 text-blue-400"}`,children:[Tt.goals.map($e=>`${$e.goalName} (${$e.pct}%)`).join(", "),"  ",l.jsxs("span",{className:"font-bold",children:["Available: ",Math.max(0,Mt),"%"]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Allocation"}),l.jsx("input",{type:"number",value:De.allocationPct,onChange:$e=>At(Fe,"allocationPct",$e.target.value),className:"w-16 px-2 py-1 text-xs text-center bg-[var(--bg-input)] border border-[var(--border-input)] rounded-md text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",min:"0",max:Mt}),l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"}),l.jsx("button",{onClick:()=>bt(Fe),className:"p-1 text-[var(--text-dim)] hover:text-rose-400 rounded transition-colors ml-1",children:l.jsx(Mh,{size:12})})]}),se&&l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Contributes ",Q(se.value*De.allocationPct/100)]})]})]},Fe)}),ge.length>0&&l.jsxs("div",{className:"bg-rose-500/10 border border-rose-500/20 rounded-lg px-3 py-2 space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Hs,{size:12,className:"text-rose-400 shrink-0"}),l.jsx("span",{className:"text-[10px] font-bold text-rose-400 uppercase",children:"Over-allocated"})]}),ge.map((De,Fe)=>l.jsxs("p",{className:"text-[10px] text-rose-300",children:[De.name,": ",De.combined,"% total (exceeds by ",De.excess,"%)"]},Fe))]}),(()=>{const De=new Set(R.map(se=>se.portfolioId));return X.some(se=>!De.has(se.id)&&(et[se.id]?.total||0)<100)&&l.jsxs("button",{onClick:Nr,className:"flex items-center gap-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[l.jsx(Pr,{size:14})," Link Investment"]})})(),l.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2 border-t border-[var(--border-light)]",children:[l.jsx("button",{onClick:dt,className:"px-4 py-1.5 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),l.jsx("button",{onClick:Er,disabled:!k||!He||W,className:"px-5 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"})]})]})]},te.goalId)})}),be>0&&l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-emerald-500/20 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(MC,{size:14,className:"text-yellow-400"}),l.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Achieved Goals"})]}),l.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-1",children:$.filter(te=>te.status==="Achieved").map(te=>l.jsxs("div",{className:"shrink-0 bg-emerald-500/10 border border-emerald-500/20 rounded-lg px-3 py-2 min-w-[160px]",children:[l.jsx("p",{className:"text-xs font-semibold text-emerald-400",children:te.goalName}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] mt-1",children:Q(te.targetAmount)}),l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:G(te)})]},te.goalId))})]})]}),l.jsx(mr,{open:!!C,onClose:()=>M(null),title:C?.edit?"Edit Goal":"Add Goal",wide:!0,children:l.jsx(dle,{initial:C?.edit||void 0,onSave:sn,onDelete:C?.edit?nr:void 0,onCancel:()=>M(null)})}),l.jsx(mr,{open:!!A,onClose:()=>_(null),title:`Withdrawal Plan  ${A?.goalName||""}`,wide:!0,children:A&&l.jsx(fle,{goal:A,onClose:()=>_(null)})})]})}function Go({label:e,value:t,sub:n,positive:r,bold:a}){return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:t}),n&&l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:n})]})}const xle=[{label:"Reports & Transactions",desc:"View transaction history",icon:HO,path:"/reports",color:"bg-blue-500/15 text-[var(--accent-blue)]"},{label:"Reminders",desc:"View and manage reminders",icon:Ah,path:"/reminders",color:"bg-amber-500/15 text-[var(--accent-amber)]"},{label:"Health Check",desc:"Financial health questionnaire",icon:Qb,path:"/health-check",color:"bg-emerald-500/15 text-emerald-400"},{label:"Settings",desc:"App configuration",icon:h1,path:"/settings",color:"bg-slate-500/15 text-[var(--text-muted)]"},{label:"About",desc:"Capital Friends v2.0",icon:m8,path:"/about",color:"bg-violet-500/15 text-[var(--accent-violet)]"},{label:"Support Developer",desc:"UPI: jagadeeshmanne.hdfc@kphdfc",icon:xp,path:"/about",color:"bg-pink-500/15 text-pink-400"}];function gle(){const e=Jl();return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-base font-bold text-[var(--text-primary)]",children:"More"}),l.jsx("div",{className:"space-y-2",children:xle.map(t=>l.jsxs("button",{onClick:()=>e(t.path),className:"w-full flex items-center gap-3 bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[l.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${t.color}`,children:l.jsx(t.icon,{size:18})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:t.label}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:t.desc})]})]},t.label))})]})}const Gm=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function ble(){const e=Jl(),{theme:t,toggle:n}=TO(),{members:r,settings:a,updateSettings:s,updateMember:c,healthCheckCompleted:u}=ht(),{user:f,signOut:m}=eo(),{masked:h,toggleMask:v,mv:x}=ui(),b=r.filter(Z=>Z.status==="Active"),[S,w]=j.useState("Daily"),[y,C]=j.useState("09"),[M,A]=j.useState("Monday"),[_,E]=j.useState(!1),[T,P]=j.useState(!1),[O,L]=j.useState(!1),[R,B]=j.useState(null);j.useEffect(()=>{!a||!Object.keys(a).length||(a.EmailFrequency&&w(a.EmailFrequency),a.EmailHour!=null&&C(String(a.EmailHour).padStart(2,"0")),a.EmailDayOfWeek!=null&&A(Gm[Number(a.EmailDayOfWeek)]||"Monday"))},[a]);async function k(){E(!0),P(!1);try{const Z=Gm.indexOf(M);await s({EmailFrequency:S==="None"?"None":S,EmailConfigured:S==="None"?"FALSE":"TRUE",EmailHour:String(parseInt(y,10)),EmailMinute:"0",EmailDayOfWeek:String(Z>=0?Z:1)}),P(!0),setTimeout(()=>P(!1),2e3)}catch(Z){alert("Failed to save: "+Z.message)}finally{E(!1)}}async function K(){L(!0),B(null);try{const Z=await Xz();B(Z)}catch(Z){B({error:Z.message})}finally{L(!1)}}function W(Z){if(!Z)return"Never";try{const $=new Date(Z);if(isNaN($.getTime()))return"Unknown";const G=Date.now(),z=Math.floor((G-$.getTime())/(1e3*60));if(z<1)return"Just now";if(z<60)return z+" min ago";const re=Math.floor(z/60);return re<24?re+"h ago":$.toLocaleDateString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}}return l.jsxs("div",{className:"space-y-4 max-w-xl mx-auto",children:[l.jsxs(Sl,{children:[l.jsx(Cl,{icon:l.jsx(eB,{size:14}),title:"Account"}),l.jsxs("div",{className:"px-4 py-4 space-y-3",children:[l.jsx(Tn,{label:"Signed in as",children:l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate max-w-[200px]",children:x(f?.email,"email")||""})}),l.jsx(Tn,{label:"Name",children:l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:f?.name||""})}),l.jsx("div",{className:"pt-1",children:l.jsxs("button",{onClick:m,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-red-500 border border-red-200 dark:border-red-800/40 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[l.jsx(WO,{size:12}),"Sign Out"]})})]})]}),l.jsxs(Sl,{children:[l.jsx(Cl,{icon:l.jsx(Qb,{size:14}),title:"Financial Health Check"}),l.jsxs("div",{className:"px-4 py-4 space-y-3",children:[l.jsx(Tn,{label:"Status",children:l.jsx("span",{className:`text-xs font-semibold ${u?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:u?"Completed":"Not completed"})}),l.jsx("div",{className:"flex justify-end pt-1",children:l.jsxs("button",{onClick:()=>e("/health-check"),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx(Qb,{size:12}),u?"Update Answers":"Take Health Check"]})})]})]}),l.jsxs(Sl,{children:[l.jsx(Cl,{icon:l.jsx(KF,{size:14}),title:"Data & Sync"}),l.jsxs("div",{className:"px-4 py-4 space-y-3",children:[l.jsx(Tn,{label:"Last synced",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:W(a.masterDataLastSync)}),a._stale&&l.jsx("span",{className:"text-[10px] font-bold text-amber-600 px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30",children:"STALE"})]})}),a._navDataDate&&l.jsx(Tn,{label:"NAV data as of",children:l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:a._navDataDate})}),l.jsx(Tn,{label:"Auto-refresh",children:l.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Daily at ~6:30 AM"})}),l.jsxs("div",{className:"flex items-center justify-between pt-1",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Refresh MF NAVs, ATH & Stock prices"}),l.jsxs("button",{onClick:K,disabled:O,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg bg-violet-600 text-white hover:bg-violet-500 transition-colors disabled:opacity-50",children:[l.jsx(ic,{size:12,className:O?"animate-spin":""}),O?"Refreshing...":"Refresh Now"]})]}),R&&l.jsx("div",{className:`text-xs px-3 py-2 rounded-lg ${R.error?"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400":"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400"}`,children:R.error?"Failed: "+R.error:`Done  MF: ${R.mf?.count||0} | ATH: ${R.ath?.count||0} | Stocks: ${R.stocks?.count||0} (${R.duration})`})]})]}),l.jsxs(Sl,{children:[l.jsx(Cl,{icon:l.jsx(Wb,{size:14}),title:"Appearance"}),l.jsx("div",{className:"px-4 py-4",children:l.jsx(Tn,{label:"Theme",children:l.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[t==="dark"?l.jsx(QO,{size:12}):l.jsx(Wb,{size:12}),t==="dark"?"Dark":"Light"]})})})]}),l.jsxs(Sl,{children:[l.jsx(Cl,{icon:l.jsx(S8,{size:14}),title:"Email Reports"}),l.jsxs("div",{className:"px-4 py-4 space-y-3",children:[l.jsx(Tn,{label:"Frequency",children:l.jsx(Yb,{value:S,onChange:w,options:["Daily","Weekly","Monthly","None"]})}),S!=="None"&&l.jsx(Tn,{label:"Send time",children:l.jsx(Yb,{value:y,onChange:C,options:Array.from({length:24},(Z,$)=>String($).padStart(2,"0")),suffix:":00"})}),S==="Weekly"&&l.jsx(Tn,{label:"Day",children:l.jsx(Yb,{value:M,onChange:A,options:Gm.slice(1).concat(Gm[0])})}),l.jsx("div",{className:"flex justify-end pt-1",children:l.jsx("button",{onClick:k,disabled:_,className:"px-4 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:_?"Saving...":T?"Saved!":"Save"})}),b.length>0&&l.jsx(l.Fragment,{children:l.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Send report to"}),l.jsx("div",{className:"space-y-2",children:b.map(Z=>l.jsx(yle,{member:Z,onToggle:c},Z.memberId))})]})}),b.length===0&&l.jsx("p",{className:"text-xs text-[var(--text-dim)] pt-1",children:"Add family members to configure email recipients."})]})]}),l.jsxs(Sl,{children:[l.jsx(Cl,{icon:l.jsx(ep,{size:14}),title:"Privacy"}),l.jsxs("div",{className:"px-4 py-4 space-y-3",children:[l.jsx(Tn,{label:"Mask sensitive data",children:l.jsx("button",{onClick:v,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 ${h?"bg-amber-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:l.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${h?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[h?"Sensitive data is hidden. ":"","Masks PAN, Aadhaar, mobile, email, account numbers, client IDs, and policy numbers across the app. Use the ",h?l.jsx(ep,{size:11,className:"inline text-amber-400"}):l.jsx(p1,{size:11,className:"inline"})," icon in the header to quickly toggle."]}),h&&l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[l.jsx(ep,{size:14,className:"text-amber-400 shrink-0"}),l.jsx("p",{className:"text-xs text-amber-400 font-medium",children:"Data masking is active  safe for screen sharing"})]})]})]}),l.jsxs(Sl,{children:[l.jsx(Cl,{icon:l.jsx(o8,{size:14}),title:"Display"}),l.jsxs("div",{className:"px-4 py-4 space-y-3",children:[l.jsx(Tn,{label:"Currency",children:l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"INR ()"})}),l.jsx(Tn,{label:"Date format",children:l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"DD/MM/YYYY"})})]})]})]})}function Sl({children:e}){return l.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:e})}function Cl({icon:e,title:t}){return l.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-[var(--text-muted)]",children:e}),l.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:t})]})})}function Tn({label:e,children:t}){return l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] shrink-0",children:e}),t]})}function Yb({value:e,onChange:t,options:n,suffix:r}){return l.jsxs("div",{className:"relative",children:[l.jsx("select",{value:e,onChange:a=>t(a.target.value),className:"appearance-none pl-3 pr-7 py-1.5 text-xs font-semibold bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-violet-500 cursor-pointer",children:n.map(a=>l.jsxs("option",{value:a,children:[a,r||""]},a))}),l.jsx(ya,{size:10,className:"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function yle({member:e,onToggle:t}){const{mv:n}=ui(),r=e.includeInEmailReports==="Yes"||e.includeInEmailReports===!0,[a,s]=j.useState(!1);async function c(){s(!0);try{await t(e.memberId,{...e,includeInEmailReports:r?"No":"Yes"})}catch{}finally{s(!1)}}return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsx("div",{className:"w-6 h-6 rounded-full bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center shrink-0",children:l.jsx("span",{className:"text-[10px] font-bold text-violet-600",children:e.memberName?.charAt(0)?.toUpperCase()})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:n(e.memberName,"name")}),e.email&&l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] truncate",children:n(e.email,"email")})]})]}),l.jsx("button",{onClick:c,disabled:a,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 disabled:opacity-50 ${r?"bg-violet-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:l.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${r?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})]})}const wle=["SIP Due Date","Insurance Renewal","FD Maturity","Loan EMI","Investment Review","Custom"].map(e=>({value:e,label:e})),jle=[{value:"One-time",label:"One-time"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],Nle=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}];function Sle({initial:e,onSave:t,onDelete:n,onCancel:r}){const a=!!e,{activeMembers:s}=ht(),c=s.map(y=>({value:y.memberId,label:y.memberName})),[u,f]=j.useState({reminderType:e?.reminderType||"",title:e?.title||"",description:e?.description||"",familyMemberId:e?.familyMemberId||"",dueDate:e?.dueDate||"",advanceNoticeDays:e?.advanceNoticeDays?.toString()||"7",frequency:e?.frequency||"One-time",priority:e?.priority||"Medium",status:e?.status||"Pending"}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(y,C){f(M=>({...M,[y]:C})),h(M=>({...M,[y]:void 0}))}function S(){const y={};return u.reminderType||(y.reminderType="Required"),u.title.trim()||(y.title="Required"),u.familyMemberId||(y.familyMemberId="Required"),u.dueDate||(y.dueDate="Required"),h(y),Object.keys(y).length===0}async function w(){if(S()){x(!0);try{await t({...u,advanceNoticeDays:Number(u.advanceNoticeDays)||7})}finally{x(!1)}}}return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Reminder Type",required:!0,error:m.reminderType,children:l.jsx(Ke,{value:u.reminderType,onChange:y=>b("reminderType",y),options:wle,placeholder:"Select type..."})}),l.jsx(oe,{label:"Title",required:!0,error:m.title,children:l.jsx(Me,{value:u.title,onChange:y=>b("title",y),placeholder:"e.g., HDFC SIP Due"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Family Member",required:!0,error:m.familyMemberId,children:l.jsx(Ke,{value:u.familyMemberId,onChange:y=>b("familyMemberId",y),options:c,placeholder:"Select member..."})}),l.jsx(oe,{label:"Due Date",required:!0,error:m.dueDate,children:l.jsx(ni,{value:u.dueDate,onChange:y=>b("dueDate",y),maxDate:null})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsx(oe,{label:"Frequency",children:l.jsx(Ke,{value:u.frequency,onChange:y=>b("frequency",y),options:jle})}),l.jsx(oe,{label:"Priority",children:l.jsx(Ke,{value:u.priority,onChange:y=>b("priority",y),options:Nle})}),l.jsx(oe,{label:"Advance Notice (days)",children:l.jsx(Me,{type:"number",value:u.advanceNoticeDays,onChange:y=>b("advanceNoticeDays",y),placeholder:"7"})})]}),a&&l.jsx(oe,{label:"Status",children:l.jsx(Ke,{value:u.status,onChange:y=>b("status",y),options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"}]})}),l.jsx(oe,{label:"Description",children:l.jsx(hc,{value:u.description,onChange:y=>b("description",y),placeholder:"Optional details...",rows:2})}),l.jsxs("div",{className:"flex items-center justify-between",children:[a&&n?l.jsx(es,{onClick:n,label:"Delete"}):l.jsx("div",{}),l.jsx(an,{onCancel:r,onSubmit:w,submitLabel:a?"Update Reminder":"Add Reminder",loading:v})]})]})}const Km={"SIP Due Date":"bg-violet-500/15 text-[var(--accent-violet)]","Insurance Renewal":"bg-amber-500/15 text-[var(--accent-amber)]","FD Maturity":"bg-blue-500/15 text-[var(--accent-blue)]","Loan EMI":"bg-rose-500/15 text-[var(--accent-rose)]","Investment Review":"bg-emerald-500/15 text-emerald-400",Custom:"bg-slate-500/15 text-[var(--text-muted)]"},T_={High:"bg-rose-500",Medium:"bg-amber-500",Low:"bg-blue-500"};function Ko(e){if(!e)return 1/0;const t=new Date(e)-new Date;return Math.ceil(t/(1440*60*1e3))}function Cle(){const{selectedMember:e,member:t}=Yr(),{reminderList:n,addReminder:r,updateReminder:a,deleteReminder:s}=ht(),{showToast:c,showBlockUI:u,hideBlockUI:f}=oi(),m=ci(),[h,v]=j.useState(null),x=j.useMemo(()=>{const _=n.filter(E=>E.isActive!==!1);return e==="all"?_:_.filter(E=>E.familyMemberId===e)},[n,e]),b=x.filter(_=>Ko(_.dueDate)<0).length,S=x.filter(_=>{const E=Ko(_.dueDate);return E>=0&&E<=7}).length,w=x.filter(_=>{const E=Ko(_.dueDate);return E>7&&E<=30}).length,y=[...x].sort((_,E)=>{const T=Ko(_.dueDate),P=Ko(E.dueDate);return T-P});async function C(_){u("Saving...");try{h?.edit?await a(h.edit.reminderId,_):await r(_),c(h?.edit?"Reminder updated":"Reminder added"),v(null)}catch(E){c(E.message||"Failed to save reminder","error")}finally{f()}}async function M(){if(h?.edit&&await m("Delete this reminder?",{title:"Delete Reminder",confirmLabel:"Delete"})){u("Deleting...");try{await s(h.edit.reminderId),c("Reminder deleted"),v(null)}catch(_){c(_.message||"Failed to delete reminder","error")}finally{f()}}}function A(_){const E=Ko(_);return E<0?{label:`${Math.abs(E)}d overdue`,cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:E===0?{label:"Today",cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:E<=7?{label:`${E}d`,cls:"bg-amber-500/20 text-[var(--accent-amber)]"}:E<=30?{label:`${E}d`,cls:"bg-blue-500/20 text-[var(--accent-blue)]"}:{label:`${E}d`,cls:"bg-slate-500/20 text-[var(--text-muted)]"}}return l.jsxs("div",{className:"space-y-4",children:[x.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(NF,{size:32,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No reminders",t?` for ${t.memberName}`:""]}),l.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a reminder"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[l.jsx(Wm,{label:"Active",value:x.length}),b>0&&l.jsx(Wm,{label:"Overdue",value:b,color:"rose"}),S>0&&l.jsx(Wm,{label:"Due This Week",value:S,color:"amber"}),l.jsx(Wm,{label:"Next 30 Days",value:w})]}),l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Pr,{size:14})," Add Reminder"]})}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[680px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Reminder"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),!t&&l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),l.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Due Date"}),l.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Frequency"}),l.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),l.jsx("tbody",{children:y.map(_=>{const E=A(_.dueDate);return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsx("td",{className:"py-2.5 px-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${T_[_.priority]||"bg-slate-400"}`}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:_.title}),_.description&&l.jsx("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[200px]",children:_.description})]})]})}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Km[_.reminderType]||Km.Custom}`,children:_.reminderType})}),!t&&l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:_.familyMemberName}),l.jsx("td",{className:"py-2.5 px-3 text-center",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:_.dueDate}),l.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${E.cls}`,children:E.label})]})}),l.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)]",children:_.frequency}),l.jsx("td",{className:"py-2.5 px-3 text-center",children:l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${_.status==="Pending"?"bg-amber-500/15 text-[var(--accent-amber)]":"bg-emerald-500/15 text-emerald-400"}`,children:_.status})}),l.jsx("td",{className:"py-2.5 px-2",children:l.jsx("button",{onClick:()=>v({edit:_}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:l.jsx(ka,{size:12})})})]},_.reminderId)})})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:y.map(_=>{const E=A(_.dueDate);return l.jsxs("div",{onClick:()=>v({edit:_}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${T_[_.priority]||"bg-slate-400"}`}),l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:_.title})]}),l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ml-2 ${Km[_.reminderType]||Km.Custom}`,children:_.reminderType})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[_.familyMemberName,"  ",_.frequency]}),l.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${E.cls}`,children:E.label})]})]},_.reminderId)})})]})]}),l.jsx(mr,{open:!!h,onClose:()=>v(null),title:h?.edit?"Edit Reminder":"Add Reminder",wide:!0,children:l.jsx(Sle,{initial:h?.edit||void 0,onSave:C,onDelete:h?.edit?M:void 0,onCancel:()=>v(null)})})]})}function Wm({label:e,value:t,color:n}){const r=n==="rose"?"text-[var(--accent-rose)]":n==="amber"?"text-[var(--accent-amber)]":"text-[var(--text-primary)]";return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm font-bold tabular-nums ${r}`,children:t})]})}const P_={BUY:"bg-emerald-500/15 text-emerald-400",SELL:"bg-rose-500/15 text-[var(--accent-rose)]"},Ale={INITIAL:"bg-violet-500/15 text-[var(--accent-violet)]",SIP:"bg-blue-500/15 text-[var(--accent-blue)]",LUMPSUM:"bg-emerald-500/15 text-emerald-400",WITHDRAWAL:"bg-amber-500/15 text-[var(--accent-amber)]",SWITCH:"bg-orange-500/15 text-[var(--accent-orange)]"};function Mle(){const{selectedMember:e}=Yr(),{mfTransactions:t,mfPortfolios:n,stockTransactions:r,stockPortfolios:a}=ht(),[s,c]=j.useState("mf"),[u,f]=j.useState("all"),m=j.useMemo(()=>{let w=[...t].sort((y,C)=>new Date(C.date)-new Date(y.date));if(e!=="all"){const y=new Set(n.filter(C=>C.ownerId===e).map(C=>C.portfolioId));w=w.filter(C=>y.has(C.portfolioId))}return u!=="all"&&(w=w.filter(y=>y.type===u)),w},[t,n,e,u]),h=j.useMemo(()=>{let w=[...r].sort((y,C)=>new Date(C.date)-new Date(y.date));if(e!=="all"){const y=new Set(a.filter(C=>C.ownerId===e).map(C=>C.portfolioId));w=w.filter(C=>y.has(C.portfolioId))}return u!=="all"&&(w=w.filter(y=>y.type===u)),w},[r,a,e,u]),v=s==="mf"?m:h,x=v.filter(w=>w.type==="BUY").reduce((w,y)=>w+(y.totalAmount||0),0),b=v.filter(w=>w.type==="SELL").reduce((w,y)=>w+(y.totalAmount||0),0),S=v.reduce((w,y)=>w+(y.gainLoss||y.realizedPL||0),0);return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[l.jsx(Qm,{label:"Transactions",value:v.length}),l.jsx(Qm,{label:"Total Bought",value:Q(x)}),l.jsx(Qm,{label:"Total Sold",value:Q(b)}),l.jsx(Qm,{label:"Realized P&L",value:`${S>=0?"+":""}${Q(Math.abs(S))}`,positive:S>=0,bold:!0})]}),l.jsxs("div",{className:"flex items-center justify-between px-1",children:[l.jsx("div",{className:"flex gap-1",children:["mf","stocks"].map(w=>l.jsx("button",{onClick:()=>c(w),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${s===w?"bg-violet-500/20 text-violet-400 border border-violet-500/30":"text-[var(--text-dim)] hover:text-[var(--text-primary)] border border-transparent"}`,children:w==="mf"?"Mutual Funds":"Stocks"},w))}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(UO,{size:12,className:"text-[var(--text-dim)]"}),["all","BUY","SELL"].map(w=>l.jsx("button",{onClick:()=>f(w),className:`px-2 py-1 text-xs font-semibold rounded transition-colors ${u===w?"bg-[var(--bg-card)] text-[var(--text-primary)] border border-[var(--border)]":"text-[var(--text-dim)] hover:text-[var(--text-muted)]"}`,children:w==="all"?"All":w},w))]})]}),l.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:v.length===0?l.jsxs("div",{className:"py-12 flex flex-col items-center gap-3",children:[l.jsx(HO,{size:32,className:"text-[var(--text-dim)]"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions found"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:s==="mf"?"Fund":"Stock"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Portfolio"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:s==="mf"?"Units":"Qty"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:s==="mf"?"NAV":"Price"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"})]})}),l.jsx("tbody",{children:v.map(w=>{const y=w.gainLoss||w.realizedPL||0;return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-muted)] tabular-nums",children:w.date}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${P_[w.type]||""}`,children:w.type}),w.transactionType&&l.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${Ale[w.transactionType]||""}`,children:w.transactionType})]})}),l.jsxs("td",{className:"py-2.5 px-3",children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:w.fundName||w.companyName}),l.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:w.fundCode||w.symbol})]}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)]",children:w.portfolioName||""}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:(w.units||w.quantity||0).toFixed(s==="mf"?2:0)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(w.price||w.pricePerShare||0)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(w.totalAmount||0)}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:y!==0?l.jsxs("span",{className:`text-xs font-semibold tabular-nums ${y>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[y>=0?"+":"",Q(Math.abs(y))]}):l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},w.transactionId)})})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:v.map(w=>(w.gainLoss||w.realizedPL,l.jsxs("div",{className:"px-4 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:w.fundName||w.companyName}),l.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded shrink-0 ${P_[w.type]||""}`,children:w.type})]}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[w.date,"  ",w.portfolioName]}),l.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[l.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[(w.units||w.quantity||0).toFixed(s==="mf"?2:0)," @ ",Q(w.price||w.pricePerShare||0)]}),l.jsx("span",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(w.totalAmount||0)})]})]},w.transactionId)))})]})})]})}function Qm({label:e,value:t,positive:n,bold:r}){return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm tabular-nums ${r?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t})]})}const Ua=[{id:"healthIns",question:"Does your family have Health Insurance?",tip:"50L to 1Cr family floater recommended (considering inflation & future expenses)",category:"Insurance"},{id:"termLife",question:"Do you have adequate Term Life Insurance?",tip:"Recommended: 10-15x annual income",category:"Insurance"},{id:"emergencyFund",question:"Do you have an Emergency Fund?",tip:"6-12 months of monthly expenses in liquid assets",category:"Savings"},{id:"familyAware",question:"Is your family aware of all investments?",tip:"Ensure nominees and family know about all assets",category:"Planning"},{id:"hasWill",question:"Do you have a Will?",tip:"Legal document for asset distribution",category:"Planning"},{id:"nominees",question:"Have you updated Nominees on all accounts?",tip:"Bank, demat, insurance, MF  all should have nominees",category:"Planning"},{id:"goals",question:"Do you have clearly defined Financial Goals?",tip:"Retirement, education, home  with target amounts and dates",category:"Goals"}];function Dle(){const e=Jl(),{members:t,insurancePolicies:n,goalList:r,otherInvList:a,healthCheckCompleted:s,completeHealthCheck:c}=ht(),u=t.filter(R=>R.status==="Active"),f=s===!1,[m,h]=j.useState(!1),[v,x]=j.useState(!0),[b,S]=j.useState(null),w=j.useMemo(()=>{const R={},B=n.filter(Z=>Z.policyType==="Health"&&Z.status==="Active");R.healthIns=B.length>0;const k=n.filter(Z=>Z.policyType==="Term Life"&&Z.status==="Active");R.termLife=k.length>0;const K=r.filter(Z=>Z.goalType==="Emergency Fund"&&Z.isActive),W=a.filter(Z=>Z.investmentType==="FD"||Z.investmentType==="PPF");return R.emergencyFund=K.length>0||W.length>0,R.goals=r.filter(Z=>Z.isActive).length>=2,R},[n,r,a]);j.useEffect(()=>{let R=!1;async function B(){const k=await EO("healthCheckAnswers");!R&&k&&(S(k),x(!1));try{const K=await kO();!R&&K&&(S(K),vn("healthCheckAnswers",K))}catch{}R||x(!1)}return B(),()=>{R=!0}},[]);const[y,C]=j.useState(()=>{const R={};return Ua.forEach(B=>{R[B.id]=w[B.id]?"yes":""}),R});j.useEffect(()=>{b&&C(R=>{const B={...R};return Ua.forEach(k=>{const K=b[k.id];K==="Yes"?B[k.id]="yes":K==="No"&&(B[k.id]="no")}),B})},[b]);const M=Object.values(y).filter(R=>R).length,A=Object.values(y).filter(R=>R==="yes").length,_=M===Ua.length,E=M>0?Math.round(A/Ua.length*100):0;function T(){return E>=80?"text-emerald-400":E>=50?"text-[var(--accent-amber)]":"text-[var(--accent-rose)]"}function P(){return E>=80?"Excellent":E>=60?"Good":E>=40?"Needs Work":"Critical"}const O=j.useMemo(()=>{const R=[];return y.healthIns!=="yes"&&R.push({severity:"critical",text:"Get Health Insurance for your family",action:"Minimum 5L cover recommended"}),y.termLife!=="yes"&&R.push({severity:"critical",text:"Get Term Life Insurance (10-15x annual income)",action:"Compare plans online"}),y.emergencyFund!=="yes"&&R.push({severity:"warning",text:"Build an Emergency Fund",action:"Save 6-12 months expenses in liquid fund/FD"}),y.familyAware!=="yes"&&R.push({severity:"warning",text:"Share investment details with family",action:"Create a document with all account info"}),y.hasWill!=="yes"&&R.push({severity:"warning",text:"Create a legal Will",action:"Consult a lawyer for Will registration"}),y.nominees!=="yes"&&R.push({severity:"warning",text:"Update nominees on all accounts",action:"Check bank, demat, insurance, MF accounts"}),y.goals!=="yes"&&R.push({severity:"info",text:"Define clear financial goals",action:"Use the Goal Planner to set targets"}),R},[y]),L=j.useCallback(async()=>{if(_){h(!0);try{const R={};Ua.forEach(B=>{R[B.id]=y[B.id]==="yes"?"Yes":"No"}),R.score=A,R.total=Ua.length,await c(R),e("/dashboard")}catch(R){console.error("Failed to save health check:",R)}finally{h(!1)}}},[_,y,A,c,e]);return l.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[f&&l.jsxs("div",{className:"bg-violet-500/10 border border-violet-500/20 rounded-xl p-4",children:[l.jsx("h2",{className:"text-base font-bold text-violet-400 mb-1",children:"Welcome to Capital Friends!"}),l.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Before you start, please complete this quick Financial Health Check. It takes less than a minute and helps you understand where your family stands financially."})]}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qO,{size:16,className:"text-violet-400"}),l.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:"Financial Health Score"})]}),l.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[M,"/",Ua.length," answered"]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"relative w-20 h-20",children:[l.jsxs("svg",{className:"w-20 h-20 -rotate-90",viewBox:"0 0 36 36",children:[l.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"var(--border)",strokeWidth:"3"}),l.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${E}, 100`,className:T(),strokeLinecap:"round"})]}),l.jsxs("span",{className:`absolute inset-0 flex items-center justify-center text-lg font-bold ${T()}`,children:[E,"%"]})]}),l.jsxs("div",{children:[l.jsx("p",{className:`text-base font-bold ${T()}`,children:P()}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:[A," of ",Ua.length," checks passed"]}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[u.length," family members tracked"]})]})]})]}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:l.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Health Check Questions"})}),l.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:Ua.map((R,B)=>l.jsxs("div",{className:"px-4 py-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("p",{className:"text-sm text-[var(--text-primary)]",children:[l.jsxs("span",{className:"text-[var(--text-dim)] mr-2",children:[B+1,"."]}),R.question]}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5 ml-5",children:R.tip})]}),l.jsxs("div",{className:"flex gap-1 shrink-0",children:[l.jsx("button",{onClick:()=>C(k=>({...k,[R.id]:"yes"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${y[R.id]==="yes"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"Yes"}),l.jsx("button",{onClick:()=>C(k=>({...k,[R.id]:"no"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${y[R.id]==="no"?"bg-rose-500/20 text-[var(--accent-rose)] border border-rose-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"No"})]})]}),w[R.id]&&l.jsx("p",{className:"text-xs text-violet-400 mt-1 ml-5",children:"Auto-detected from your data"})]},R.id))})]}),O.length>0&&_&&l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:l.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Recommendations"})}),l.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:O.map((R,B)=>{const k=R.severity==="critical"?l.jsx($O,{size:14,className:"text-[var(--accent-rose)]"}):R.severity==="warning"?l.jsx(Hs,{size:14,className:"text-[var(--accent-amber)]"}):l.jsx(zF,{size:14,className:"text-[var(--accent-blue)]"});return l.jsxs("div",{className:"flex items-start gap-3 px-4 py-3",children:[l.jsx("span",{className:"shrink-0 mt-0.5",children:k}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm text-[var(--text-primary)]",children:R.text}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:R.action})]})]},B)})})]}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[!_&&l.jsxs("p",{className:"text-xs text-[var(--accent-amber)] mb-3",children:["Please answer all ",Ua.length," questions before saving."]}),l.jsx("button",{onClick:L,disabled:!_||m,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-bold transition-colors ${_&&!m?"bg-violet-600 hover:bg-violet-500 text-white":"bg-[var(--bg-inset)] text-[var(--text-dim)] cursor-not-allowed"}`,children:m?l.jsxs(l.Fragment,{children:[l.jsx(KO,{size:16,className:"animate-spin"}),"Saving..."]}):f?l.jsxs(l.Fragment,{children:["Save & Continue to Dashboard",l.jsx(bF,{size:16})]}):l.jsxs(l.Fragment,{children:[l.jsx(ZO,{size:16}),"Update Health Check"]})})]})]})}function kle(){return l.jsxs("div",{className:"space-y-4 max-w-lg mx-auto",children:[l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-5 text-center",children:[l.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-indigo-600 flex items-center justify-center mx-auto mb-3",children:l.jsx("span",{className:"text-xl font-bold text-white",children:"CF"})}),l.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Capital Friends"}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Family Portfolio Management"}),l.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-2",children:"v2.0.0"})]}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:l.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Features"})}),l.jsx("div",{className:"px-4 py-3 space-y-2",children:["Track Mutual Funds, Stocks & Other Investments","Family member-wise portfolio management","ATH-based Buy Opportunities","Smart Rebalancing with threshold alerts","Goal planning with portfolio mapping","Insurance, Liabilities & Bank Accounts","Financial Health Check questionnaire","Reminders for SIPs, renewals & due dates","Email reports with detailed breakdowns"].map(e=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-500 shrink-0"}),l.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:e})]},e))})]}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(xp,{size:12,className:"text-pink-400"}),l.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Support Developer"})]})}),l.jsxs("div",{className:"px-4 py-4 text-center",children:[l.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-3",children:"If Capital Friends helps you manage your family finances, consider supporting the developer."}),l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-3 border border-[var(--border)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-1",children:"UPI"}),l.jsx("p",{className:"text-sm font-mono font-semibold text-[var(--text-primary)] select-all",children:"jagadeeshmanne.hdfc@kphdfc"})]}),l.jsxs("div",{className:"flex items-center justify-center gap-1 mt-3",children:[l.jsx(HF,{size:12,className:"text-[var(--accent-amber)]"}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Buy me a chai!"})]})]})]}),l.jsxs("div",{className:"text-center py-2",children:[l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Made with ",l.jsx(xp,{size:10,className:"inline text-pink-400 mx-0.5"})," by Jagadeesh Manne"]}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Built with React + Vite + Tailwind CSS"})]})]})}function Ele(){return Date.now().toString(36).toUpperCase()}function _le(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=n=>Array.from({length:n},()=>e[Math.floor(Math.random()*26)]).join("");return t(5)+Math.floor(1e3+Math.random()*9e3)+t(1)}function Ole(){return String(Math.floor(2e11+Math.random()*8e11))}function I_(){return"9"+String(Math.floor(1e8+Math.random()*9e8))}function Tle(){return String(Math.floor(1e9+Math.random()*9e9))}function Ple(){const e=Ele();return{member:{memberName:`Test Member ${e}`,relationship:"Self",pan:_le(),aadhar:Ole(),email:`test-${e.toLowerCase()}@example.com`,mobile:I_(),includeInEmailReports:!0},bank:{accountName:`Test Savings ${e}`,bankName:"Test Bank",accountNumber:Tle(),ifscCode:"TEST0001234",accountType:"Savings",branchName:"Test Branch"},investmentAccount:{accountName:`Test Demat ${e}`,accountType:"Demat",platformBroker:"Test Broker Platform",accountClientId:`CLI-${e}`,registeredEmail:`test-${e.toLowerCase()}@example.com`,registeredPhone:I_()},insurance:{policyType:"Term Life",company:"Test Insurance Co",policyNumber:`POL-${e}`,policyName:`Test Term Plan ${e}`,sumAssured:5e6,nominee:"Test Nominee",dynamicFields:{Premium:15e3,"Premium Frequency":"Annual"}},liability:{liabilityType:"Home Loan",lenderName:"Test Bank",outstandingBalance:45e5,dynamicFields:{"Principal Amount":5e6,"Interest Rate":8.5,"EMI Amount":45e3},notes:`Test liability ${e}`},otherInvestment:{investmentType:"Fixed Deposit",investmentName:`Test FD ${e}`,investedAmount:1e5,currentValue:105e3,investmentCategory:"Debt"},stockPortfolio:{portfolioName:`Test Stock Portfolio ${e}`,broker:"Test Broker"},reminder:{title:`Test Reminder ${e}`,description:"Automated test reminder",dueDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],category:"Insurance",priority:"Medium"},goal:{goalName:`Test Goal ${e}`,goalType:"Custom",targetAmount:1e6,targetDate:"2040-01-01",priority:"Medium",expectedInflation:.06,expectedCAGR:.12}}}function Ile({status:e,text:t}){const n={pass:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",fail:"bg-rose-500/20 text-rose-400 border-rose-500/30",skip:"bg-amber-500/20 text-amber-400 border-amber-500/30",running:"bg-blue-500/20 text-blue-400 border-blue-500/30",pending:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return l.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded border ${n[e]||n.pending}`,children:t||e.toUpperCase()})}function Rle(){const{user:e}=eo(),[t,n]=j.useState([]),[r,a]=j.useState(!1),[s,c]=j.useState(null),[u,f]=j.useState(!1),m=j.useCallback((y,C,M="")=>{n(A=>[...A,{test:y,status:C,detail:M,time:new Date().toLocaleTimeString()}])},[]),h=j.useCallback((y,C="")=>{n(M=>{const A=[...M];return A.length>0&&(A[A.length-1]={...A[A.length-1],status:y,detail:C}),A})},[]),v=async()=>{f(!0),c(null);try{const y=await ke("test:diagnose");c(y)}catch(y){c({error:y.message})}finally{f(!1)}},x=async()=>{a(!0),n([]);const y=Ple();let C=null,M=null,A=null,_=null,E=null,T=null,P=null,O=null,L=null,R=null;try{m("API Echo Test","running");try{const k=await ke("test:echo",{hello:"world"});k&&k.echo&&k.echo.hello==="world"?h("pass","Echo response received correctly"):h("fail","Unexpected response: "+JSON.stringify(k))}catch(k){h("fail",k.message)}m("Diagnostics","running");try{const k=await ke("test:diagnose"),K=Object.entries(k.sheets||{}).filter(([,Z])=>!Z.exists).map(([Z])=>Z);if(K.length>0)h("fail",`Missing sheets: ${K.join(", ")}`);else{const Z=Object.keys(k.sheets).length;h("pass",`All ${Z} sheets exist. SpreadsheetId: ${k.spreadsheetId}`)}const W=Object.entries(k.dataTests||{}).filter(([,Z])=>!Z.success).map(([Z,$])=>`${Z}: ${$.error}`);W.length>0&&m("Data Function Errors","fail",W.join("; "))}catch(k){h("fail",k.message)}m("Load All Data (bulk)","running");try{const k=await vp(),K=Object.entries(k).map(([W,Z])=>`${W}: ${Array.isArray(Z)?Z.length:"?"}`);h("pass",K.join(", "))}catch(k){h("fail",k.message)}m("Members  Create","running");try{const k=await rO(y.member);C=k?.memberId,M=y.member.memberName,C?h("pass",`Created: ${C}`):h("fail","No memberId returned: "+JSON.stringify(k))}catch(k){h("fail",k.message)}m("Members  List","running");try{const k=await tO();Array.isArray(k)&&k.some(W=>W.memberId===C)?h("pass",`Found ${C} in ${k.length} member(s)`):h("fail",`Member ${C} not found. Got ${Array.isArray(k)?k.length:0} members: ${JSON.stringify(k).substring(0,200)}`)}catch(k){h("fail",k.message)}if(C){m("Members  Update","running");try{await nO({...y.member,memberId:C,memberName:"Updated Test Member"}),M="Updated Test Member",h("pass",'Updated name to "Updated Test Member"')}catch(k){h("fail",k.message)}}m("Banks  Create","running");try{const k=await sO({...y.bank,memberId:C||"FM-001"});A=k?.accountId,h(A?"pass":"fail",A?`Created: ${A}`:"No accountId: "+JSON.stringify(k))}catch(k){h("fail",k.message)}m("Banks  List","running");try{const k=await iO();h("pass",`${Array.isArray(k)?k.length:0} account(s)`)}catch(k){h("fail",k.message)}m("Investment Accounts  Create","running");try{const k=await cO({...y.investmentAccount,memberId:C||"FM-001",bankAccountId:A||"BA-001"});_=k?.accountId,h(_?"pass":"fail",_?`Created: ${_}`:"No accountId: "+JSON.stringify(k))}catch(k){h("fail",k.message)}m("Investment Accounts  List","running");try{const k=await oO();h("pass",`${Array.isArray(k)?k.length:0} account(s)`)}catch(k){h("fail",k.message)}m("Insurance  Create","running");try{const k=await hO({...y.insurance,memberId:C||"FM-001",insuredMember:M||"Test Member"});E=k?.policyId,h(E?"pass":"fail",E?`Created: ${E}`:"No policyId: "+JSON.stringify(k))}catch(k){h("fail",k.message)}m("Insurance  List","running");try{const k=await pO();h("pass",`${Array.isArray(k)?k.length:0} policy/policies`)}catch(k){h("fail",k.message)}m("Liabilities  Create","running");try{const k=await gO({...y.liability,familyMember:C||"FM-001"});T=k?.liabilityId,h(T?"pass":"fail",T?`Created: ${T}`:"No liabilityId: "+JSON.stringify(k))}catch(k){h("fail",k.message)}m("Liabilities  List","running");try{const k=await xO();h("pass",`${Array.isArray(k)?k.length:0} liability/liabilities`)}catch(k){h("fail",k.message)}m("Other Investments  Create","running");try{const k=await wO({...y.otherInvestment,familyMember:C||"FM-001"});P=k?.investmentId,h(P?"pass":"fail",P?`Created: ${P}`:"No investmentId: "+JSON.stringify(k))}catch(k){h("fail",k.message)}m("Other Investments  List","running");try{const k=await yO();h("pass",`${Array.isArray(k)?k.length:0} investment(s)`)}catch(k){h("fail",k.message)}m("Stock Portfolios  Create","running");try{const k=await SO({...y.stockPortfolio,owner:C||"FM-001"});O=k?.portfolioId,h(O?"pass":"fail",O?`Created: ${O}`:"No portfolioId: "+JSON.stringify(k))}catch(k){h("fail",k.message)}m("Stock Portfolios  List","running");try{const k=await NO();h("pass",`${Array.isArray(k)?k.length:0} portfolio(s)`)}catch(k){h("fail",k.message)}m("Reminders  Create","running");try{const k=await MO(y.reminder);L=k?.reminderId,h(L?"pass":"fail",L?`Created: ${L}`:"No reminderId: "+JSON.stringify(k))}catch(k){h("fail",k.message)}m("Reminders  List","running");try{const k=await AO();h("pass",`${Array.isArray(k)?k.length:0} reminder(s)`)}catch(k){h("fail",k.message)}m("Goals  Create","running");try{const k=await fO(y.goal);R=k?.goalId,h(R?"pass":"fail",R?`Created: ${R}`:"No goalId: "+JSON.stringify(k))}catch(k){h("fail",k.message)}m("Goals  List","running");try{const k=await dO();h("pass",`${Array.isArray(k)?k.length:0} goal(s)`)}catch(k){h("fail",k.message)}m("Cleanup  Delete test data","running");const B=[];if(R)try{await mO(R)}catch(k){B.push("goal: "+k.message)}if(L)try{await DO(L)}catch(k){B.push("reminder: "+k.message)}if(O)try{await CO(O)}catch(k){B.push("stockPortfolio: "+k.message)}if(P)try{await jO(P)}catch(k){B.push("otherInv: "+k.message)}if(T)try{await bO(T)}catch(k){B.push("liability: "+k.message)}if(E)try{await vO(E)}catch(k){B.push("insurance: "+k.message)}if(_)try{await uO(_)}catch(k){B.push("invAcct: "+k.message)}if(A)try{await lO(A)}catch(k){B.push("bank: "+k.message)}if(C)try{await aO(C)}catch(k){B.push("member: "+k.message)}B.length>0?h("fail",B.join("; ")):h("pass","All test data cleaned up"),m("Final Load All (post-cleanup)","running");try{const k=await vp(),K=Object.entries(k).map(([W,Z])=>`${W}: ${Array.isArray(Z)?Z.length:"?"}`);h("pass",K.join(", "))}catch(k){h("fail",k.message)}}catch(B){m("UNEXPECTED ERROR","fail",B.message)}finally{a(!1)}},b=t.filter(y=>y.status==="pass").length,S=t.filter(y=>y.status==="fail").length,w=t.filter(y=>y.status!=="running").length;return l.jsx("div",{className:"min-h-screen bg-[var(--bg-main)] p-4 max-w-3xl mx-auto",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"API Test Suite"}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Signed in as ",e?.email||"unknown"]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:v,disabled:u||r,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--bg-card)] border border-[var(--border)] text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] disabled:opacity-50 cursor-pointer",children:u?"Running...":"Diagnostics"}),l.jsx("button",{onClick:x,disabled:r,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-violet-600 text-white hover:bg-violet-700 disabled:opacity-50 cursor-pointer",children:r?"Running Tests...":"Run All Tests"})]})]}),w>0&&l.jsxs("div",{className:"flex gap-3 text-xs",children:[l.jsxs("span",{className:"text-emerald-400",children:["Pass: ",b]}),l.jsxs("span",{className:"text-rose-400",children:["Fail: ",S]}),l.jsxs("span",{className:"text-[var(--text-dim)]",children:["Total: ",w]})]}),s&&l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 space-y-3",children:[l.jsx("h2",{className:"text-sm font-semibold text-[var(--text-primary)]",children:"Diagnostics Report"}),s.error?l.jsx("p",{className:"text-xs text-rose-400",children:s.error}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-xs text-[var(--text-secondary)] space-y-1",children:[l.jsxs("p",{children:[l.jsx("span",{className:"text-[var(--text-dim)]",children:"Spreadsheet:"})," ",s.spreadsheetName]}),l.jsxs("p",{children:[l.jsx("span",{className:"text-[var(--text-dim)]",children:"ID:"})," ",l.jsx("code",{className:"text-[10px]",children:s.spreadsheetId})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Sheets"}),l.jsx("div",{className:"grid grid-cols-2 gap-1",children:Object.entries(s.sheets||{}).map(([y,C])=>l.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[l.jsx("span",{className:"text-[var(--text-secondary)] truncate",children:y}),C.exists?l.jsxs("span",{className:"text-emerald-400 ml-1",children:[C.dataRows,"r"]}):l.jsx("span",{className:"text-rose-400 ml-1",children:"MISSING"})]},y))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Data Functions"}),l.jsx("div",{className:"space-y-1",children:Object.entries(s.dataTests||{}).map(([y,C])=>l.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[l.jsx("span",{className:"text-[var(--text-secondary)]",children:y}),C.success?l.jsxs("span",{className:"text-emerald-400",children:[C.count," items"]}):l.jsx("span",{className:"text-rose-400 truncate ml-2 max-w-[200px]",title:C.error,children:C.error})]},y))})]}),s.safeCallErrors&&s.safeCallErrors.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs font-medium text-rose-400 mb-1",children:"SafeCall Errors"}),s.safeCallErrors.map((y,C)=>l.jsxs("p",{className:"text-[11px] text-rose-400",children:[y.fn,": ",y.error]},C))]})]})]}),t.length>0&&l.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:l.jsx("div",{className:"divide-y divide-[var(--border)]",children:t.map((y,C)=>l.jsxs("div",{className:"px-4 py-2 flex items-start gap-3",children:[l.jsx("div",{className:"mt-0.5 shrink-0",children:l.jsx(Ile,{status:y.status})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:y.test}),y.detail&&l.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5 break-all",children:y.detail})]}),l.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:y.time})]},C))})}),t.length===0&&!s&&l.jsxs("div",{className:"text-center py-12 text-[var(--text-dim)]",children:[l.jsx("p",{className:"text-sm",children:'Click "Run All Tests" to test all CRUD operations'}),l.jsx("p",{className:"text-xs mt-1",children:'or "Diagnostics" to check spreadsheet structure'})]})]})})}function Lle(){return l.jsxs(I6,{children:[l.jsx(Qt,{index:!0,element:l.jsx(C7,{})}),l.jsx(Qt,{path:"login",element:l.jsx(KT,{})}),l.jsx(Qt,{element:l.jsx(y7,{}),children:l.jsxs(Qt,{element:l.jsx(b7,{}),children:[l.jsx(Qt,{path:"dashboard",element:l.jsx(pp,{to:"/investments/mutual-funds",replace:!0})}),l.jsx(Qt,{path:"family",element:l.jsx(ule,{})}),l.jsx(Qt,{path:"accounts/bank",element:l.jsx(EA,{})}),l.jsx(Qt,{path:"accounts/investment",element:l.jsx(_7,{})}),l.jsx(Qt,{path:"insurance",element:l.jsx(I7,{})}),l.jsx(Qt,{path:"investments/mutual-funds",element:l.jsx(Jse,{})}),l.jsx(Qt,{path:"investments/stocks",element:l.jsx(lle,{})}),l.jsx(Qt,{path:"investments/other",element:l.jsx(G7,{})}),l.jsx(Qt,{path:"liabilities",element:l.jsx(F7,{})}),l.jsx(Qt,{path:"goals",element:l.jsx(vle,{})}),l.jsx(Qt,{path:"reports",element:l.jsx(Mle,{})}),l.jsx(Qt,{path:"reminders",element:l.jsx(Cle,{})}),l.jsx(Qt,{path:"health-check",element:l.jsx(Dle,{})}),l.jsx(Qt,{path:"about",element:l.jsx(kle,{})}),l.jsx(Qt,{path:"test",element:l.jsx(Rle,{})}),l.jsx(Qt,{path:"settings",element:l.jsx(ble,{})}),l.jsx(Qt,{path:"more",element:l.jsx(gle,{})}),l.jsx(Qt,{path:"accounts",element:l.jsx(EA,{})}),l.jsx(Qt,{path:"*",element:l.jsx(A7,{})})]})})]})}RL.createRoot(document.getElementById("root")).render(l.jsx(iz,{children:l.jsx(sF,{children:l.jsx(lF,{children:l.jsx(vB,{children:l.jsx(iB,{children:l.jsx(sB,{children:l.jsx(cF,{children:l.jsx(uF,{children:l.jsx(Lle,{})})})})})})})})}));
