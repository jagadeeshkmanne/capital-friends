function Fj(s,l){for(var r=0;r<l.length;r++){const t=l[r];if(typeof t!="string"&&!Array.isArray(t)){for(const o in t)if(o!=="default"&&!(o in s)){const u=Object.getOwnPropertyDescriptor(t,o);u&&Object.defineProperty(s,o,u.get?u:{enumerable:!0,get:()=>t[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&t(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function t(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function cg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Wm={exports:{}},Mi={};var u0;function Bj(){if(u0)return Mi;u0=1;var s=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function r(t,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:t,key:d,ref:o!==void 0?o:null,props:u}}return Mi.Fragment=l,Mi.jsx=r,Mi.jsxs=r,Mi}var d0;function Hj(){return d0||(d0=1,Wm.exports=Bj()),Wm.exports}var a=Hj(),Zm={exports:{}},Oe={};var m0;function Yj(){if(m0)return Oe;m0=1;var s=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),t=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.iterator;function C(F){return F===null||typeof F!="object"?null:(F=N&&F[N]||F["@@iterator"],typeof F=="function"?F:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,g={};function j(F,ee,oe){this.props=F,this.context=ee,this.refs=g,this.updater=oe||M}j.prototype.isReactComponent={},j.prototype.setState=function(F,ee){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ee,"setState")},j.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function D(){}D.prototype=j.prototype;function y(F,ee,oe){this.props=F,this.context=ee,this.refs=g,this.updater=oe||M}var _=y.prototype=new D;_.constructor=y,S(_,j.prototype),_.isPureReactComponent=!0;var O=Array.isArray;function U(){}var G={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function z(F,ee,oe){var ce=oe.ref;return{$$typeof:s,type:F,key:ee,ref:ce!==void 0?ce:null,props:oe}}function H(F,ee){return z(F.type,ee,F.props)}function W(F){return typeof F=="object"&&F!==null&&F.$$typeof===s}function A(F){var ee={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(oe){return ee[oe]})}var se=/\/+/g;function $(F,ee){return typeof F=="object"&&F!==null&&F.key!=null?A(""+F.key):ee.toString(36)}function J(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(U,U):(F.status="pending",F.then(function(ee){F.status==="pending"&&(F.status="fulfilled",F.value=ee)},function(ee){F.status==="pending"&&(F.status="rejected",F.reason=ee)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function B(F,ee,oe,ce,we){var be=typeof F;(be==="undefined"||be==="boolean")&&(F=null);var ge=!1;if(F===null)ge=!0;else switch(be){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(F.$$typeof){case s:case l:ge=!0;break;case v:return ge=F._init,B(ge(F._payload),ee,oe,ce,we)}}if(ge)return we=we(F),ge=ce===""?"."+$(F,0):ce,O(we)?(oe="",ge!=null&&(oe=ge.replace(se,"$&/")+"/"),B(we,ee,oe,"",function(Rt){return Rt})):we!=null&&(W(we)&&(we=H(we,oe+(we.key==null||F&&F.key===we.key?"":(""+we.key).replace(se,"$&/")+"/")+ge)),ee.push(we)),1;ge=0;var qe=ce===""?".":ce+":";if(O(F))for(var Je=0;Je<F.length;Je++)ce=F[Je],be=qe+$(ce,Je),ge+=B(ce,ee,oe,be,we);else if(Je=C(F),typeof Je=="function")for(F=Je.call(F),Je=0;!(ce=F.next()).done;)ce=ce.value,be=qe+$(ce,Je++),ge+=B(ce,ee,oe,be,we);else if(be==="object"){if(typeof F.then=="function")return B(J(F),ee,oe,ce,we);throw ee=String(F),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ge}function R(F,ee,oe){if(F==null)return F;var ce=[],we=0;return B(F,ce,"","",function(be){return ee.call(oe,be,we++)}),ce}function I(F){if(F._status===-1){var ee=F._result;ee=ee(),ee.then(function(oe){(F._status===0||F._status===-1)&&(F._status=1,F._result=oe)},function(oe){(F._status===0||F._status===-1)&&(F._status=2,F._result=oe)}),F._status===-1&&(F._status=0,F._result=ee)}if(F._status===1)return F._result.default;throw F._result}var ue=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},ve={map:R,forEach:function(F,ee,oe){R(F,function(){ee.apply(this,arguments)},oe)},count:function(F){var ee=0;return R(F,function(){ee++}),ee},toArray:function(F){return R(F,function(ee){return ee})||[]},only:function(F){if(!W(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Oe.Activity=b,Oe.Children=ve,Oe.Component=j,Oe.Fragment=r,Oe.Profiler=o,Oe.PureComponent=y,Oe.StrictMode=t,Oe.Suspense=x,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(F){return G.H.useMemoCache(F)}},Oe.cache=function(F){return function(){return F.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(F,ee,oe){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ce=S({},F.props),we=F.key;if(ee!=null)for(be in ee.key!==void 0&&(we=""+ee.key),ee)!E.call(ee,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ee.ref===void 0||(ce[be]=ee[be]);var be=arguments.length-2;if(be===1)ce.children=oe;else if(1<be){for(var ge=Array(be),qe=0;qe<be;qe++)ge[qe]=arguments[qe+2];ce.children=ge}return z(F.type,we,ce)},Oe.createContext=function(F){return F={$$typeof:d,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:u,_context:F},F},Oe.createElement=function(F,ee,oe){var ce,we={},be=null;if(ee!=null)for(ce in ee.key!==void 0&&(be=""+ee.key),ee)E.call(ee,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(we[ce]=ee[ce]);var ge=arguments.length-2;if(ge===1)we.children=oe;else if(1<ge){for(var qe=Array(ge),Je=0;Je<ge;Je++)qe[Je]=arguments[Je+2];we.children=qe}if(F&&F.defaultProps)for(ce in ge=F.defaultProps,ge)we[ce]===void 0&&(we[ce]=ge[ce]);return z(F,be,we)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(F){return{$$typeof:m,render:F}},Oe.isValidElement=W,Oe.lazy=function(F){return{$$typeof:v,_payload:{_status:-1,_result:F},_init:I}},Oe.memo=function(F,ee){return{$$typeof:p,type:F,compare:ee===void 0?null:ee}},Oe.startTransition=function(F){var ee=G.T,oe={};G.T=oe;try{var ce=F(),we=G.S;we!==null&&we(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(U,ue)}catch(be){ue(be)}finally{ee!==null&&oe.types!==null&&(ee.types=oe.types),G.T=ee}},Oe.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Oe.use=function(F){return G.H.use(F)},Oe.useActionState=function(F,ee,oe){return G.H.useActionState(F,ee,oe)},Oe.useCallback=function(F,ee){return G.H.useCallback(F,ee)},Oe.useContext=function(F){return G.H.useContext(F)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(F,ee){return G.H.useDeferredValue(F,ee)},Oe.useEffect=function(F,ee){return G.H.useEffect(F,ee)},Oe.useEffectEvent=function(F){return G.H.useEffectEvent(F)},Oe.useId=function(){return G.H.useId()},Oe.useImperativeHandle=function(F,ee,oe){return G.H.useImperativeHandle(F,ee,oe)},Oe.useInsertionEffect=function(F,ee){return G.H.useInsertionEffect(F,ee)},Oe.useLayoutEffect=function(F,ee){return G.H.useLayoutEffect(F,ee)},Oe.useMemo=function(F,ee){return G.H.useMemo(F,ee)},Oe.useOptimistic=function(F,ee){return G.H.useOptimistic(F,ee)},Oe.useReducer=function(F,ee,oe){return G.H.useReducer(F,ee,oe)},Oe.useRef=function(F){return G.H.useRef(F)},Oe.useState=function(F){return G.H.useState(F)},Oe.useSyncExternalStore=function(F,ee,oe){return G.H.useSyncExternalStore(F,ee,oe)},Oe.useTransition=function(){return G.H.useTransition()},Oe.version="19.2.4",Oe}var f0;function qf(){return f0||(f0=1,Zm.exports=Yj()),Zm.exports}var w=qf();const ne=cg(w),ug=Fj({__proto__:null,default:ne},[w]);var Jm={exports:{}},Ai={},ef={exports:{}},tf={};var p0;function Uj(){return p0||(p0=1,(function(s){function l(B,R){var I=B.length;B.push(R);e:for(;0<I;){var ue=I-1>>>1,ve=B[ue];if(0<o(ve,R))B[ue]=R,B[I]=ve,I=ue;else break e}}function r(B){return B.length===0?null:B[0]}function t(B){if(B.length===0)return null;var R=B[0],I=B.pop();if(I!==R){B[0]=I;e:for(var ue=0,ve=B.length,F=ve>>>1;ue<F;){var ee=2*(ue+1)-1,oe=B[ee],ce=ee+1,we=B[ce];if(0>o(oe,I))ce<ve&&0>o(we,oe)?(B[ue]=we,B[ce]=I,ue=ce):(B[ue]=oe,B[ee]=I,ue=ee);else if(ce<ve&&0>o(we,I))B[ue]=we,B[ce]=I,ue=ce;else break e}}return R}function o(B,R){var I=B.sortIndex-R.sortIndex;return I!==0?I:B.id-R.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var x=[],p=[],v=1,b=null,N=3,C=!1,M=!1,S=!1,g=!1,j=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function _(B){for(var R=r(p);R!==null;){if(R.callback===null)t(p);else if(R.startTime<=B)t(p),R.sortIndex=R.expirationTime,l(x,R);else break;R=r(p)}}function O(B){if(S=!1,_(B),!M)if(r(x)!==null)M=!0,U||(U=!0,A());else{var R=r(p);R!==null&&J(O,R.startTime-B)}}var U=!1,G=-1,E=5,z=-1;function H(){return g?!0:!(s.unstable_now()-z<E)}function W(){if(g=!1,U){var B=s.unstable_now();z=B;var R=!0;try{e:{M=!1,S&&(S=!1,D(G),G=-1),C=!0;var I=N;try{t:{for(_(B),b=r(x);b!==null&&!(b.expirationTime>B&&H());){var ue=b.callback;if(typeof ue=="function"){b.callback=null,N=b.priorityLevel;var ve=ue(b.expirationTime<=B);if(B=s.unstable_now(),typeof ve=="function"){b.callback=ve,_(B),R=!0;break t}b===r(x)&&t(x),_(B)}else t(x);b=r(x)}if(b!==null)R=!0;else{var F=r(p);F!==null&&J(O,F.startTime-B),R=!1}}break e}finally{b=null,N=I,C=!1}R=void 0}}finally{R?A():U=!1}}}var A;if(typeof y=="function")A=function(){y(W)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,$=se.port2;se.port1.onmessage=W,A=function(){$.postMessage(null)}}else A=function(){j(W,0)};function J(B,R){G=j(function(){B(s.unstable_now())},R)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(B){switch(N){case 1:case 2:case 3:var R=3;break;default:R=N}var I=N;N=R;try{return B()}finally{N=I}},s.unstable_requestPaint=function(){g=!0},s.unstable_runWithPriority=function(B,R){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var I=N;N=B;try{return R()}finally{N=I}},s.unstable_scheduleCallback=function(B,R,I){var ue=s.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?ue+I:ue):I=ue,B){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=I+ve,B={id:v++,callback:R,priorityLevel:B,startTime:I,expirationTime:ve,sortIndex:-1},I>ue?(B.sortIndex=I,l(p,B),r(x)===null&&B===r(p)&&(S?(D(G),G=-1):S=!0,J(O,I-ue))):(B.sortIndex=ve,l(x,B),M||C||(M=!0,U||(U=!0,A()))),B},s.unstable_shouldYield=H,s.unstable_wrapCallback=function(B){var R=N;return function(){var I=N;N=R;try{return B.apply(this,arguments)}finally{N=I}}}})(tf)),tf}var x0;function qj(){return x0||(x0=1,ef.exports=Uj()),ef.exports}var af={exports:{}},ta={};var h0;function $j(){if(h0)return ta;h0=1;var s=qf();function l(x){var p="https://react.dev/errors/"+x;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+x+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var t={d:{f:r,r:function(){throw Error(l(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(x,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:x,containerInfo:p,implementation:v}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(x,p){if(x==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ta.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=t,ta.createPortal=function(x,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(l(299));return u(x,p,null,v)},ta.flushSync=function(x){var p=d.T,v=t.p;try{if(d.T=null,t.p=2,x)return x()}finally{d.T=p,t.p=v,t.d.f()}},ta.preconnect=function(x,p){typeof x=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,t.d.C(x,p))},ta.prefetchDNS=function(x){typeof x=="string"&&t.d.D(x)},ta.preinit=function(x,p){if(typeof x=="string"&&p&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?t.d.S(x,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:C}):v==="script"&&t.d.X(x,{crossOrigin:b,integrity:N,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ta.preinitModule=function(x,p){if(typeof x=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);t.d.M(x,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&t.d.M(x)},ta.preload=function(x,p){if(typeof x=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin);t.d.L(x,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ta.preloadModule=function(x,p){if(typeof x=="string")if(p){var v=m(p.as,p.crossOrigin);t.d.m(x,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else t.d.m(x)},ta.requestFormReset=function(x){t.d.r(x)},ta.unstable_batchedUpdates=function(x,p){return x(p)},ta.useFormState=function(x,p,v){return d.H.useFormState(x,p,v)},ta.useFormStatus=function(){return d.H.useHostTransitionStatus()},ta.version="19.2.4",ta}var v0;function dg(){if(v0)return af.exports;v0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),af.exports=$j(),af.exports}var b0;function Vj(){if(b0)return Ai;b0=1;var s=qj(),l=qf(),r=dg();function t(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function x(e){if(u(e)!==e)throw Error(t(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(t(188));return n!==e?null:e}for(var i=e,c=n;;){var f=i.return;if(f===null)break;var h=f.alternate;if(h===null){if(c=f.return,c!==null){i=c;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===i)return x(f),e;if(h===c)return x(f),n;h=h.sibling}throw Error(t(188))}if(i.return!==c.return)i=f,c=h;else{for(var k=!1,T=f.child;T;){if(T===i){k=!0,i=f,c=h;break}if(T===c){k=!0,c=f,i=h;break}T=T.sibling}if(!k){for(T=h.child;T;){if(T===i){k=!0,i=h,c=f;break}if(T===c){k=!0,c=h,i=f;break}T=T.sibling}if(!k)throw Error(t(189))}}if(i.alternate!==c)throw Error(t(190))}if(i.tag!==3)throw Error(t(188));return i.stateNode.current===i?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,N=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),y=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function A(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var se=Symbol.for("react.client.reference");function $(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case j:return"Profiler";case g:return"StrictMode";case O:return"Suspense";case U:return"SuspenseList";case z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case y:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case _:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return n=e.displayName||null,n!==null?n:$(e.type)||"Memo";case E:n=e._payload,e=e._init;try{return $(e(n))}catch{}}return null}var J=Array.isArray,B=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},ue=[],ve=-1;function F(e){return{current:e}}function ee(e){0>ve||(e.current=ue[ve],ue[ve]=null,ve--)}function oe(e,n){ve++,ue[ve]=e.current,e.current=n}var ce=F(null),we=F(null),be=F(null),ge=F(null);function qe(e,n){switch(oe(be,n),oe(we,e),oe(ce,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ov(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ov(n),e=Rv(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(ce),oe(ce,e)}function Je(){ee(ce),ee(we),ee(be)}function Rt(e){e.memoizedState!==null&&oe(ge,e);var n=ce.current,i=Rv(n,e.type);n!==i&&(oe(we,e),oe(ce,i))}function wt(e){we.current===e&&(ee(ce),ee(we)),ge.current===e&&(ee(ge),Si._currentValue=I)}var rt,ua;function Ne(e){if(rt===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);rt=n&&n[1]||"",ua=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rt+e+ua}var ze=!1;function xt(e,n){if(!e||ze)return"";ze=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(ae){var Z=ae}Reflect.construct(e,[],ie)}else{try{ie.call()}catch(ae){Z=ae}e.call(ie.prototype)}}else{try{throw Error()}catch(ae){Z=ae}(ie=e())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(ae){if(ae&&Z&&typeof ae.stack=="string")return[ae.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=c.DetermineComponentFrameRoot(),k=h[0],T=h[1];if(k&&T){var P=k.split(`
`),X=T.split(`
`);for(f=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;f<X.length&&!X[f].includes("DetermineComponentFrameRoot");)f++;if(c===P.length||f===X.length)for(c=P.length-1,f=X.length-1;1<=c&&0<=f&&P[c]!==X[f];)f--;for(;1<=c&&0<=f;c--,f--)if(P[c]!==X[f]){if(c!==1||f!==1)do if(c--,f--,0>f||P[c]!==X[f]){var re=`
`+P[c].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=c&&0<=f);break}}}finally{ze=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Ne(i):""}function la(e,n){switch(e.tag){case 26:case 27:case 5:return Ne(e.type);case 16:return Ne("Lazy");case 13:return e.child!==n&&n!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return xt(e.type,!1);case 11:return xt(e.type.render,!1);case 1:return xt(e.type,!0);case 31:return Ne("Activity");default:return""}}function za(e){try{var n="",i=null;do n+=la(e,i),i=e,e=e.return;while(e);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ct=Object.prototype.hasOwnProperty,It=s.unstable_scheduleCallback,da=s.unstable_cancelCallback,L=s.unstable_shouldYield,me=s.unstable_requestPaint,De=s.unstable_now,Ae=s.unstable_getCurrentPriorityLevel,pe=s.unstable_ImmediatePriority,Re=s.unstable_UserBlockingPriority,$e=s.unstable_NormalPriority,Ke=s.unstable_LowPriority,Xe=s.unstable_IdlePriority,ht=s.log,Jt=s.unstable_setDisableYieldValue,Mt=null,Le=null;function ut(e){if(typeof ht=="function"&&Jt(e),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Mt,e)}catch{}}var Ht=Math.clz32?Math.clz32:qr,xe=Math.log,en=Math.LN2;function qr(e){return e>>>=0,e===0?32:31-(xe(e)/en|0)|0}var Fa=256,Ba=262144,fn=4194304;function Rn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ms(e,n,i){var c=e.pendingLanes;if(c===0)return 0;var f=0,h=e.suspendedLanes,k=e.pingedLanes;e=e.warmLanes;var T=c&134217727;return T!==0?(c=T&~h,c!==0?f=Rn(c):(k&=T,k!==0?f=Rn(k):i||(i=T&~e,i!==0&&(f=Rn(i))))):(T=c&~h,T!==0?f=Rn(T):k!==0?f=Rn(k):i||(i=c&~e,i!==0&&(f=Rn(i)))),f===0?0:n!==0&&n!==f&&(n&h)===0&&(h=f&-f,i=n&-n,h>=i||h===32&&(i&4194048)!==0)?n:f}function $r(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Bu(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function so(){var e=fn;return fn<<=1,(fn&62914560)===0&&(fn=4194304),e}function Pl(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Vr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hu(e,n,i,c,f,h){var k=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var T=e.entanglements,P=e.expirationTimes,X=e.hiddenUpdates;for(i=k&~i;0<i;){var re=31-Ht(i),ie=1<<re;T[re]=0,P[re]=-1;var Z=X[re];if(Z!==null)for(X[re]=null,re=0;re<Z.length;re++){var ae=Z[re];ae!==null&&(ae.lane&=-536870913)}i&=~ie}c!==0&&lo(e,c,0),h!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=h&~(k&~n))}function lo(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-Ht(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|i&261930}function io(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var c=31-Ht(i),f=1<<c;f&n|e[c]&n&&(e[c]|=n),i&=~f}}function oo(e,n){var i=n&-n;return i=(i&42)!==0?1:zl(i),(i&(e.suspendedLanes|n))!==0?0:i}function zl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function co(){var e=R.p;return e!==0?e:(e=window.event,e===void 0?32:n0(e.type))}function uo(e,n){var i=R.p;try{return R.p=e,n()}finally{R.p=i}}var pn=Math.random().toString(36).slice(2),Yt="__reactFiber$"+pn,ea="__reactProps$"+pn,ur="__reactContainer$"+pn,Bl="__reactEvents$"+pn,Yu="__reactListeners$"+pn,Uu="__reactHandles$"+pn,mo="__reactResources$"+pn,Gr="__reactMarker$"+pn;function q(e){delete e[Yt],delete e[ea],delete e[Bl],delete e[Yu],delete e[Uu]}function de(e){var n=e[Yt];if(n)return n;for(var i=e.parentNode;i;){if(n=i[ur]||i[Yt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Hv(e);e!==null;){if(i=e[Yt])return i;e=Hv(e)}return n}e=i,i=e.parentNode}return null}function Lt(e){if(e=e[Yt]||e[ur]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ca(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(t(33))}function tn(e){var n=e[mo];return n||(n=e[mo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function $t(e){e[Gr]=!0}var Np=new Set,jp={};function Qr(e,n){As(e,n),As(e+"Capture",n)}function As(e,n){for(jp[e]=n,e=0;e<n.length;e++)Np.add(n[e])}var T1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wp={},Sp={};function E1(e){return ct.call(Sp,e)?!0:ct.call(wp,e)?!1:T1.test(e)?Sp[e]=!0:(wp[e]=!0,!1)}function fo(e,n,i){if(E1(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function po(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function In(e,n,i,c){if(c===null)e.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+c)}}function Ha(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cp(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _1(e,n,i){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,h=c.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(k){i=""+k,h.call(this,k)}}),Object.defineProperty(e,n,{enumerable:c.enumerable}),{getValue:function(){return i},setValue:function(k){i=""+k},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function qu(e){if(!e._valueTracker){var n=Cp(e)?"checked":"value";e._valueTracker=_1(e,n,""+e[n])}}function kp(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),c="";return e&&(c=Cp(e)?e.checked?"true":"false":e.value),e=c,e!==i?(n.setValue(e),!0):!1}function xo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var O1=/[\n"\\]/g;function Ya(e){return e.replace(O1,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $u(e,n,i,c,f,h,k,T){e.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?e.type=k:e.removeAttribute("type"),n!=null?k==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ha(n)):e.value!==""+Ha(n)&&(e.value=""+Ha(n)):k!=="submit"&&k!=="reset"||e.removeAttribute("value"),n!=null?Vu(e,k,Ha(n)):i!=null?Vu(e,k,Ha(i)):c!=null&&e.removeAttribute("value"),f==null&&h!=null&&(e.defaultChecked=!!h),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ha(T):e.removeAttribute("name")}function Dp(e,n,i,c,f,h,k,T){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){qu(e);return}i=i!=null?""+Ha(i):"",n=n!=null?""+Ha(n):i,T||n===e.value||(e.value=n),e.defaultValue=n}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=T?e.checked:!!c,e.defaultChecked=!!c,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(e.name=k),qu(e)}function Vu(e,n,i){n==="number"&&xo(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Ts(e,n,i,c){if(e=e.options,n){n={};for(var f=0;f<i.length;f++)n["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=n.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&c&&(e[i].defaultSelected=!0)}else{for(i=""+Ha(i),n=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Mp(e,n,i){if(n!=null&&(n=""+Ha(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Ha(i):""}function Ap(e,n,i,c){if(n==null){if(c!=null){if(i!=null)throw Error(t(92));if(J(c)){if(1<c.length)throw Error(t(93));c=c[0]}i=c}i==null&&(i=""),n=i}i=Ha(n),e.defaultValue=i,c=e.textContent,c===i&&c!==""&&c!==null&&(e.value=c),qu(e)}function Es(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var R1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tp(e,n,i){var c=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,i):typeof i!="number"||i===0||R1.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function Ep(e,n,i){if(n!=null&&typeof n!="object")throw Error(t(62));if(e=e.style,i!=null){for(var c in i)!i.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var f in n)c=n[f],n.hasOwnProperty(f)&&i[f]!==c&&Tp(e,f,c)}else for(var h in n)n.hasOwnProperty(h)&&Tp(e,h,n[h])}function Gu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),L1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(e){return L1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ln(){}var Qu=null;function Ku(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _s=null,Os=null;function _p(e){var n=Lt(e);if(n&&(e=n.stateNode)){var i=e[ea]||null;e:switch(e=n.stateNode,n.type){case"input":if($u(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Ya(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var c=i[n];if(c!==e&&c.form===e.form){var f=c[ea]||null;if(!f)throw Error(t(90));$u(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<i.length;n++)c=i[n],c.form===e.form&&kp(c)}break e;case"textarea":Mp(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Ts(e,!!i.multiple,n,!1)}}}var Xu=!1;function Op(e,n,i){if(Xu)return e(n,i);Xu=!0;try{var c=e(n);return c}finally{if(Xu=!1,(_s!==null||Os!==null)&&(nc(),_s&&(n=_s,e=Os,Os=_s=null,_p(n),e)))for(n=0;n<e.length;n++)_p(e[n])}}function Hl(e,n){var i=e.stateNode;if(i===null)return null;var c=i[ea]||null;if(c===null)return null;i=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(t(231,n,typeof i));return i}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wu=!1;if(Pn)try{var Yl={};Object.defineProperty(Yl,"passive",{get:function(){Wu=!0}}),window.addEventListener("test",Yl,Yl),window.removeEventListener("test",Yl,Yl)}catch{Wu=!1}var dr=null,Zu=null,vo=null;function Rp(){if(vo)return vo;var e,n=Zu,i=n.length,c,f="value"in dr?dr.value:dr.textContent,h=f.length;for(e=0;e<i&&n[e]===f[e];e++);var k=i-e;for(c=1;c<=k&&n[i-c]===f[h-c];c++);return vo=f.slice(e,1<c?1-c:void 0)}function bo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function go(){return!0}function Ip(){return!1}function ma(e){function n(i,c,f,h,k){this._reactName=i,this._targetInst=f,this.type=c,this.nativeEvent=h,this.target=k,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(i=e[T],this[T]=i?i(h):h[T]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?go:Ip,this.isPropagationStopped=Ip,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),n}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yo=ma(Kr),Ul=b({},Kr,{view:0,detail:0}),P1=ma(Ul),Ju,ed,ql,No=b({},Ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ad,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ql&&(ql&&e.type==="mousemove"?(Ju=e.screenX-ql.screenX,ed=e.screenY-ql.screenY):ed=Ju=0,ql=e),Ju)},movementY:function(e){return"movementY"in e?e.movementY:ed}}),Lp=ma(No),z1=b({},No,{dataTransfer:0}),F1=ma(z1),B1=b({},Ul,{relatedTarget:0}),td=ma(B1),H1=b({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),Y1=ma(H1),U1=b({},Kr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),q1=ma(U1),$1=b({},Kr,{data:0}),Pp=ma($1),V1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K1(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Q1[e])?!!n[e]:!1}function ad(){return K1}var X1=b({},Ul,{key:function(e){if(e.key){var n=V1[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=bo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?G1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ad,charCode:function(e){return e.type==="keypress"?bo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),W1=ma(X1),Z1=b({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zp=ma(Z1),J1=b({},Ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ad}),eN=ma(J1),tN=b({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),aN=ma(tN),nN=b({},No,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rN=ma(nN),sN=b({},Kr,{newState:0,oldState:0}),lN=ma(sN),iN=[9,13,27,32],nd=Pn&&"CompositionEvent"in window,$l=null;Pn&&"documentMode"in document&&($l=document.documentMode);var oN=Pn&&"TextEvent"in window&&!$l,Fp=Pn&&(!nd||$l&&8<$l&&11>=$l),Bp=" ",Hp=!1;function Yp(e,n){switch(e){case"keyup":return iN.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Up(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rs=!1;function cN(e,n){switch(e){case"compositionend":return Up(n);case"keypress":return n.which!==32?null:(Hp=!0,Bp);case"textInput":return e=n.data,e===Bp&&Hp?null:e;default:return null}}function uN(e,n){if(Rs)return e==="compositionend"||!nd&&Yp(e,n)?(e=Rp(),vo=Zu=dr=null,Rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Fp&&n.locale!=="ko"?null:n.data;default:return null}}var dN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!dN[e.type]:n==="textarea"}function $p(e,n,i,c){_s?Os?Os.push(c):Os=[c]:_s=c,n=uc(n,"onChange"),0<n.length&&(i=new yo("onChange","change",null,i,c),e.push({event:i,listeners:n}))}var Vl=null,Gl=null;function mN(e){Dv(e,0)}function jo(e){var n=Ca(e);if(kp(n))return e}function Vp(e,n){if(e==="change")return n}var Gp=!1;if(Pn){var rd;if(Pn){var sd="oninput"in document;if(!sd){var Qp=document.createElement("div");Qp.setAttribute("oninput","return;"),sd=typeof Qp.oninput=="function"}rd=sd}else rd=!1;Gp=rd&&(!document.documentMode||9<document.documentMode)}function Kp(){Vl&&(Vl.detachEvent("onpropertychange",Xp),Gl=Vl=null)}function Xp(e){if(e.propertyName==="value"&&jo(Gl)){var n=[];$p(n,Gl,e,Ku(e)),Op(mN,n)}}function fN(e,n,i){e==="focusin"?(Kp(),Vl=n,Gl=i,Vl.attachEvent("onpropertychange",Xp)):e==="focusout"&&Kp()}function pN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jo(Gl)}function xN(e,n){if(e==="click")return jo(n)}function hN(e,n){if(e==="input"||e==="change")return jo(n)}function vN(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ka=typeof Object.is=="function"?Object.is:vN;function Ql(e,n){if(ka(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),c=Object.keys(n);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var f=i[c];if(!ct.call(n,f)||!ka(e[f],n[f]))return!1}return!0}function Wp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zp(e,n){var i=Wp(e);e=0;for(var c;i;){if(i.nodeType===3){if(c=e+i.textContent.length,e<=n&&c>=n)return{node:i,offset:n-e};e=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Wp(i)}}function Jp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Jp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ex(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=xo(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=xo(e.document)}return n}function ld(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var bN=Pn&&"documentMode"in document&&11>=document.documentMode,Is=null,id=null,Kl=null,od=!1;function tx(e,n,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;od||Is==null||Is!==xo(c)||(c=Is,"selectionStart"in c&&ld(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Kl&&Ql(Kl,c)||(Kl=c,c=uc(id,"onSelect"),0<c.length&&(n=new yo("onSelect","select",null,n,i),e.push({event:n,listeners:c}),n.target=Is)))}function Xr(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Ls={animationend:Xr("Animation","AnimationEnd"),animationiteration:Xr("Animation","AnimationIteration"),animationstart:Xr("Animation","AnimationStart"),transitionrun:Xr("Transition","TransitionRun"),transitionstart:Xr("Transition","TransitionStart"),transitioncancel:Xr("Transition","TransitionCancel"),transitionend:Xr("Transition","TransitionEnd")},cd={},ax={};Pn&&(ax=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function Wr(e){if(cd[e])return cd[e];if(!Ls[e])return e;var n=Ls[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in ax)return cd[e]=n[i];return e}var nx=Wr("animationend"),rx=Wr("animationiteration"),sx=Wr("animationstart"),gN=Wr("transitionrun"),yN=Wr("transitionstart"),NN=Wr("transitioncancel"),lx=Wr("transitionend"),ix=new Map,ud="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ud.push("scrollEnd");function an(e,n){ix.set(e,n),Qr(n,[e])}var wo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ua=[],Ps=0,dd=0;function So(){for(var e=Ps,n=dd=Ps=0;n<e;){var i=Ua[n];Ua[n++]=null;var c=Ua[n];Ua[n++]=null;var f=Ua[n];Ua[n++]=null;var h=Ua[n];if(Ua[n++]=null,c!==null&&f!==null){var k=c.pending;k===null?f.next=f:(f.next=k.next,k.next=f),c.pending=f}h!==0&&ox(i,f,h)}}function Co(e,n,i,c){Ua[Ps++]=e,Ua[Ps++]=n,Ua[Ps++]=i,Ua[Ps++]=c,dd|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function md(e,n,i,c){return Co(e,n,i,c),ko(e)}function Zr(e,n){return Co(e,null,null,n),ko(e)}function ox(e,n,i){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i);for(var f=!1,h=e.return;h!==null;)h.childLanes|=i,c=h.alternate,c!==null&&(c.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(f=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,f&&n!==null&&(f=31-Ht(i),e=h.hiddenUpdates,c=e[f],c===null?e[f]=[n]:c.push(n),n.lane=i|536870912),h):null}function ko(e){if(50<vi)throw vi=0,Nm=null,Error(t(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var zs={};function jN(e,n,i,c){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Da(e,n,i,c){return new jN(e,n,i,c)}function fd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zn(e,n){var i=e.alternate;return i===null?(i=Da(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function cx(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Do(e,n,i,c,f,h){var k=0;if(c=e,typeof e=="function")fd(e)&&(k=1);else if(typeof e=="string")k=Dj(e,i,ce.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case z:return e=Da(31,i,n,f),e.elementType=z,e.lanes=h,e;case S:return Jr(i.children,f,h,n);case g:k=8,f|=24;break;case j:return e=Da(12,i,n,f|2),e.elementType=j,e.lanes=h,e;case O:return e=Da(13,i,n,f),e.elementType=O,e.lanes=h,e;case U:return e=Da(19,i,n,f),e.elementType=U,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case y:k=10;break e;case D:k=9;break e;case _:k=11;break e;case G:k=14;break e;case E:k=16,c=null;break e}k=29,i=Error(t(130,e===null?"null":typeof e,"")),c=null}return n=Da(k,i,n,f),n.elementType=e,n.type=c,n.lanes=h,n}function Jr(e,n,i,c){return e=Da(7,e,c,n),e.lanes=i,e}function pd(e,n,i){return e=Da(6,e,null,n),e.lanes=i,e}function ux(e){var n=Da(18,null,null,0);return n.stateNode=e,n}function xd(e,n,i){return n=Da(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var dx=new WeakMap;function qa(e,n){if(typeof e=="object"&&e!==null){var i=dx.get(e);return i!==void 0?i:(n={value:e,source:n,stack:za(n)},dx.set(e,n),n)}return{value:e,source:n,stack:za(n)}}var Fs=[],Bs=0,Mo=null,Xl=0,$a=[],Va=0,mr=null,xn=1,hn="";function Fn(e,n){Fs[Bs++]=Xl,Fs[Bs++]=Mo,Mo=e,Xl=n}function mx(e,n,i){$a[Va++]=xn,$a[Va++]=hn,$a[Va++]=mr,mr=e;var c=xn;e=hn;var f=32-Ht(c)-1;c&=~(1<<f),i+=1;var h=32-Ht(n)+f;if(30<h){var k=f-f%5;h=(c&(1<<k)-1).toString(32),c>>=k,f-=k,xn=1<<32-Ht(n)+f|i<<f|c,hn=h+e}else xn=1<<h|i<<f|c,hn=e}function hd(e){e.return!==null&&(Fn(e,1),mx(e,1,0))}function vd(e){for(;e===Mo;)Mo=Fs[--Bs],Fs[Bs]=null,Xl=Fs[--Bs],Fs[Bs]=null;for(;e===mr;)mr=$a[--Va],$a[Va]=null,hn=$a[--Va],$a[Va]=null,xn=$a[--Va],$a[Va]=null}function fx(e,n){$a[Va++]=xn,$a[Va++]=hn,$a[Va++]=mr,xn=n.id,hn=n.overflow,mr=e}var Gt=null,vt=null,We=!1,fr=null,Ga=!1,bd=Error(t(519));function pr(e){var n=Error(t(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(qa(n,e)),bd}function px(e){var n=e.stateNode,i=e.type,c=e.memoizedProps;switch(n[Yt]=e,n[ea]=c,i){case"dialog":He("cancel",n),He("close",n);break;case"iframe":case"object":case"embed":He("load",n);break;case"video":case"audio":for(i=0;i<gi.length;i++)He(gi[i],n);break;case"source":He("error",n);break;case"img":case"image":case"link":He("error",n),He("load",n);break;case"details":He("toggle",n);break;case"input":He("invalid",n),Dp(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":He("invalid",n);break;case"textarea":He("invalid",n),Ap(n,c.value,c.defaultValue,c.children)}i=c.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||c.suppressHydrationWarning===!0||Ev(n.textContent,i)?(c.popover!=null&&(He("beforetoggle",n),He("toggle",n)),c.onScroll!=null&&He("scroll",n),c.onScrollEnd!=null&&He("scrollend",n),c.onClick!=null&&(n.onclick=Ln),n=!0):n=!1,n||pr(e,!0)}function xx(e){for(Gt=e.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Ga=!1;return;case 27:case 3:Ga=!0;return;default:Gt=Gt.return}}function Hs(e){if(e!==Gt)return!1;if(!We)return xx(e),We=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Lm(e.type,e.memoizedProps)),i=!i),i&&vt&&pr(e),xx(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(t(317));vt=Bv(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(t(317));vt=Bv(e)}else n===27?(n=vt,Mr(e.type)?(e=Hm,Hm=null,vt=e):vt=n):vt=Gt?Ka(e.stateNode.nextSibling):null;return!0}function es(){vt=Gt=null,We=!1}function gd(){var e=fr;return e!==null&&(ha===null?ha=e:ha.push.apply(ha,e),fr=null),e}function Wl(e){fr===null?fr=[e]:fr.push(e)}var yd=F(null),ts=null,Bn=null;function xr(e,n,i){oe(yd,n._currentValue),n._currentValue=i}function Hn(e){e._currentValue=yd.current,ee(yd)}function Nd(e,n,i){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===i)break;e=e.return}}function jd(e,n,i,c){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var h=f.dependencies;if(h!==null){var k=f.child;h=h.firstContext;e:for(;h!==null;){var T=h;h=f;for(var P=0;P<n.length;P++)if(T.context===n[P]){h.lanes|=i,T=h.alternate,T!==null&&(T.lanes|=i),Nd(h.return,i,e),c||(k=null);break e}h=T.next}}else if(f.tag===18){if(k=f.return,k===null)throw Error(t(341));k.lanes|=i,h=k.alternate,h!==null&&(h.lanes|=i),Nd(k,i,e),k=null}else k=f.child;if(k!==null)k.return=f;else for(k=f;k!==null;){if(k===e){k=null;break}if(f=k.sibling,f!==null){f.return=k.return,k=f;break}k=k.return}f=k}}function Ys(e,n,i,c){e=null;for(var f=n,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var k=f.alternate;if(k===null)throw Error(t(387));if(k=k.memoizedProps,k!==null){var T=f.type;ka(f.pendingProps.value,k.value)||(e!==null?e.push(T):e=[T])}}else if(f===ge.current){if(k=f.alternate,k===null)throw Error(t(387));k.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Si):e=[Si])}f=f.return}e!==null&&jd(n,e,i,c),n.flags|=262144}function Ao(e){for(e=e.firstContext;e!==null;){if(!ka(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function as(e){ts=e,Bn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qt(e){return hx(ts,e)}function To(e,n){return ts===null&&as(e),hx(e,n)}function hx(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},Bn===null){if(e===null)throw Error(t(308));Bn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Bn=Bn.next=n;return i}var wN=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},SN=s.unstable_scheduleCallback,CN=s.unstable_NormalPriority,Pt={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wd(){return{controller:new wN,data:new Map,refCount:0}}function Zl(e){e.refCount--,e.refCount===0&&SN(CN,function(){e.controller.abort()})}var Jl=null,Sd=0,Us=0,qs=null;function kN(e,n){if(Jl===null){var i=Jl=[];Sd=0,Us=Dm(),qs={status:"pending",value:void 0,then:function(c){i.push(c)}}}return Sd++,n.then(vx,vx),n}function vx(){if(--Sd===0&&Jl!==null){qs!==null&&(qs.status="fulfilled");var e=Jl;Jl=null,Us=0,qs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function DN(e,n){var i=[],c={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var f=0;f<i.length;f++)(0,i[f])(n)},function(f){for(c.status="rejected",c.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),c}var bx=B.S;B.S=function(e,n){tv=De(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&kN(e,n),bx!==null&&bx(e,n)};var ns=F(null);function Cd(){var e=ns.current;return e!==null?e:pt.pooledCache}function Eo(e,n){n===null?oe(ns,ns.current):oe(ns,n.pool)}function gx(){var e=Cd();return e===null?null:{parent:Pt._currentValue,pool:e}}var $s=Error(t(460)),kd=Error(t(474)),_o=Error(t(542)),Oo={then:function(){}};function yx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Nx(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(Ln,Ln),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,wx(e),e;default:if(typeof n.status=="string")n.then(Ln,Ln);else{if(e=pt,e!==null&&100<e.shellSuspendCounter)throw Error(t(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=c}},function(c){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,wx(e),e}throw ss=n,$s}}function rs(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(ss=i,$s):i}}var ss=null;function jx(){if(ss===null)throw Error(t(459));var e=ss;return ss=null,e}function wx(e){if(e===$s||e===_o)throw Error(t(483))}var Vs=null,ei=0;function Ro(e){var n=ei;return ei+=1,Vs===null&&(Vs=[]),Nx(Vs,e,n)}function ti(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Io(e,n){throw n.$$typeof===N?Error(t(525)):(e=Object.prototype.toString.call(n),Error(t(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Sx(e){function n(V,Y){if(e){var K=V.deletions;K===null?(V.deletions=[Y],V.flags|=16):K.push(Y)}}function i(V,Y){if(!e)return null;for(;Y!==null;)n(V,Y),Y=Y.sibling;return null}function c(V){for(var Y=new Map;V!==null;)V.key!==null?Y.set(V.key,V):Y.set(V.index,V),V=V.sibling;return Y}function f(V,Y){return V=zn(V,Y),V.index=0,V.sibling=null,V}function h(V,Y,K){return V.index=K,e?(K=V.alternate,K!==null?(K=K.index,K<Y?(V.flags|=67108866,Y):K):(V.flags|=67108866,Y)):(V.flags|=1048576,Y)}function k(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function T(V,Y,K,le){return Y===null||Y.tag!==6?(Y=pd(K,V.mode,le),Y.return=V,Y):(Y=f(Y,K),Y.return=V,Y)}function P(V,Y,K,le){var Me=K.type;return Me===S?re(V,Y,K.props.children,le,K.key):Y!==null&&(Y.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===E&&rs(Me)===Y.type)?(Y=f(Y,K.props),ti(Y,K),Y.return=V,Y):(Y=Do(K.type,K.key,K.props,null,V.mode,le),ti(Y,K),Y.return=V,Y)}function X(V,Y,K,le){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==K.containerInfo||Y.stateNode.implementation!==K.implementation?(Y=xd(K,V.mode,le),Y.return=V,Y):(Y=f(Y,K.children||[]),Y.return=V,Y)}function re(V,Y,K,le,Me){return Y===null||Y.tag!==7?(Y=Jr(K,V.mode,le,Me),Y.return=V,Y):(Y=f(Y,K),Y.return=V,Y)}function ie(V,Y,K){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=pd(""+Y,V.mode,K),Y.return=V,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:return K=Do(Y.type,Y.key,Y.props,null,V.mode,K),ti(K,Y),K.return=V,K;case M:return Y=xd(Y,V.mode,K),Y.return=V,Y;case E:return Y=rs(Y),ie(V,Y,K)}if(J(Y)||A(Y))return Y=Jr(Y,V.mode,K,null),Y.return=V,Y;if(typeof Y.then=="function")return ie(V,Ro(Y),K);if(Y.$$typeof===y)return ie(V,To(V,Y),K);Io(V,Y)}return null}function Z(V,Y,K,le){var Me=Y!==null?Y.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Me!==null?null:T(V,Y,""+K,le);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case C:return K.key===Me?P(V,Y,K,le):null;case M:return K.key===Me?X(V,Y,K,le):null;case E:return K=rs(K),Z(V,Y,K,le)}if(J(K)||A(K))return Me!==null?null:re(V,Y,K,le,null);if(typeof K.then=="function")return Z(V,Y,Ro(K),le);if(K.$$typeof===y)return Z(V,Y,To(V,K),le);Io(V,K)}return null}function ae(V,Y,K,le,Me){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return V=V.get(K)||null,T(Y,V,""+le,Me);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case C:return V=V.get(le.key===null?K:le.key)||null,P(Y,V,le,Me);case M:return V=V.get(le.key===null?K:le.key)||null,X(Y,V,le,Me);case E:return le=rs(le),ae(V,Y,K,le,Me)}if(J(le)||A(le))return V=V.get(K)||null,re(Y,V,le,Me,null);if(typeof le.then=="function")return ae(V,Y,K,Ro(le),Me);if(le.$$typeof===y)return ae(V,Y,K,To(Y,le),Me);Io(Y,le)}return null}function Se(V,Y,K,le){for(var Me=null,et=null,Ce=Y,Pe=Y=0,Ge=null;Ce!==null&&Pe<K.length;Pe++){Ce.index>Pe?(Ge=Ce,Ce=null):Ge=Ce.sibling;var tt=Z(V,Ce,K[Pe],le);if(tt===null){Ce===null&&(Ce=Ge);break}e&&Ce&&tt.alternate===null&&n(V,Ce),Y=h(tt,Y,Pe),et===null?Me=tt:et.sibling=tt,et=tt,Ce=Ge}if(Pe===K.length)return i(V,Ce),We&&Fn(V,Pe),Me;if(Ce===null){for(;Pe<K.length;Pe++)Ce=ie(V,K[Pe],le),Ce!==null&&(Y=h(Ce,Y,Pe),et===null?Me=Ce:et.sibling=Ce,et=Ce);return We&&Fn(V,Pe),Me}for(Ce=c(Ce);Pe<K.length;Pe++)Ge=ae(Ce,V,Pe,K[Pe],le),Ge!==null&&(e&&Ge.alternate!==null&&Ce.delete(Ge.key===null?Pe:Ge.key),Y=h(Ge,Y,Pe),et===null?Me=Ge:et.sibling=Ge,et=Ge);return e&&Ce.forEach(function(Or){return n(V,Or)}),We&&Fn(V,Pe),Me}function Te(V,Y,K,le){if(K==null)throw Error(t(151));for(var Me=null,et=null,Ce=Y,Pe=Y=0,Ge=null,tt=K.next();Ce!==null&&!tt.done;Pe++,tt=K.next()){Ce.index>Pe?(Ge=Ce,Ce=null):Ge=Ce.sibling;var Or=Z(V,Ce,tt.value,le);if(Or===null){Ce===null&&(Ce=Ge);break}e&&Ce&&Or.alternate===null&&n(V,Ce),Y=h(Or,Y,Pe),et===null?Me=Or:et.sibling=Or,et=Or,Ce=Ge}if(tt.done)return i(V,Ce),We&&Fn(V,Pe),Me;if(Ce===null){for(;!tt.done;Pe++,tt=K.next())tt=ie(V,tt.value,le),tt!==null&&(Y=h(tt,Y,Pe),et===null?Me=tt:et.sibling=tt,et=tt);return We&&Fn(V,Pe),Me}for(Ce=c(Ce);!tt.done;Pe++,tt=K.next())tt=ae(Ce,V,Pe,tt.value,le),tt!==null&&(e&&tt.alternate!==null&&Ce.delete(tt.key===null?Pe:tt.key),Y=h(tt,Y,Pe),et===null?Me=tt:et.sibling=tt,et=tt);return e&&Ce.forEach(function(zj){return n(V,zj)}),We&&Fn(V,Pe),Me}function ft(V,Y,K,le){if(typeof K=="object"&&K!==null&&K.type===S&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case C:e:{for(var Me=K.key;Y!==null;){if(Y.key===Me){if(Me=K.type,Me===S){if(Y.tag===7){i(V,Y.sibling),le=f(Y,K.props.children),le.return=V,V=le;break e}}else if(Y.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===E&&rs(Me)===Y.type){i(V,Y.sibling),le=f(Y,K.props),ti(le,K),le.return=V,V=le;break e}i(V,Y);break}else n(V,Y);Y=Y.sibling}K.type===S?(le=Jr(K.props.children,V.mode,le,K.key),le.return=V,V=le):(le=Do(K.type,K.key,K.props,null,V.mode,le),ti(le,K),le.return=V,V=le)}return k(V);case M:e:{for(Me=K.key;Y!==null;){if(Y.key===Me)if(Y.tag===4&&Y.stateNode.containerInfo===K.containerInfo&&Y.stateNode.implementation===K.implementation){i(V,Y.sibling),le=f(Y,K.children||[]),le.return=V,V=le;break e}else{i(V,Y);break}else n(V,Y);Y=Y.sibling}le=xd(K,V.mode,le),le.return=V,V=le}return k(V);case E:return K=rs(K),ft(V,Y,K,le)}if(J(K))return Se(V,Y,K,le);if(A(K)){if(Me=A(K),typeof Me!="function")throw Error(t(150));return K=Me.call(K),Te(V,Y,K,le)}if(typeof K.then=="function")return ft(V,Y,Ro(K),le);if(K.$$typeof===y)return ft(V,Y,To(V,K),le);Io(V,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,Y!==null&&Y.tag===6?(i(V,Y.sibling),le=f(Y,K),le.return=V,V=le):(i(V,Y),le=pd(K,V.mode,le),le.return=V,V=le),k(V)):i(V,Y)}return function(V,Y,K,le){try{ei=0;var Me=ft(V,Y,K,le);return Vs=null,Me}catch(Ce){if(Ce===$s||Ce===_o)throw Ce;var et=Da(29,Ce,null,V.mode);return et.lanes=le,et.return=V,et}}}var ls=Sx(!0),Cx=Sx(!1),hr=!1;function Dd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Md(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function br(e,n,i){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(at&2)!==0){var f=c.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),c.pending=n,n=ko(e),ox(e,null,i),n}return Co(e,c,n,i),ko(e)}function ai(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,i|=c,n.lanes=i,io(e,i)}}function Ad(e,n){var i=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var f=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var k={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?f=h=k:h=h.next=k,i=i.next}while(i!==null);h===null?f=h=n:h=h.next=n}else f=h=n;i={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:c.shared,callbacks:c.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Td=!1;function ni(){if(Td){var e=qs;if(e!==null)throw e}}function ri(e,n,i,c){Td=!1;var f=e.updateQueue;hr=!1;var h=f.firstBaseUpdate,k=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var P=T,X=P.next;P.next=null,k===null?h=X:k.next=X,k=P;var re=e.alternate;re!==null&&(re=re.updateQueue,T=re.lastBaseUpdate,T!==k&&(T===null?re.firstBaseUpdate=X:T.next=X,re.lastBaseUpdate=P))}if(h!==null){var ie=f.baseState;k=0,re=X=P=null,T=h;do{var Z=T.lane&-536870913,ae=Z!==T.lane;if(ae?(Ve&Z)===Z:(c&Z)===Z){Z!==0&&Z===Us&&(Td=!0),re!==null&&(re=re.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=e,Te=T;Z=n;var ft=i;switch(Te.tag){case 1:if(Se=Te.payload,typeof Se=="function"){ie=Se.call(ft,ie,Z);break e}ie=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Te.payload,Z=typeof Se=="function"?Se.call(ft,ie,Z):Se,Z==null)break e;ie=b({},ie,Z);break e;case 2:hr=!0}}Z=T.callback,Z!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=f.callbacks,ae===null?f.callbacks=[Z]:ae.push(Z))}else ae={lane:Z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},re===null?(X=re=ae,P=ie):re=re.next=ae,k|=Z;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;ae=T,T=ae.next,ae.next=null,f.lastBaseUpdate=ae,f.shared.pending=null}}while(!0);re===null&&(P=ie),f.baseState=P,f.firstBaseUpdate=X,f.lastBaseUpdate=re,h===null&&(f.shared.lanes=0),wr|=k,e.lanes=k,e.memoizedState=ie}}function kx(e,n){if(typeof e!="function")throw Error(t(191,e));e.call(n)}function Dx(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)kx(i[e],n)}var Gs=F(null),Lo=F(0);function Mx(e,n){e=Xn,oe(Lo,e),oe(Gs,n),Xn=e|n.baseLanes}function Ed(){oe(Lo,Xn),oe(Gs,Gs.current)}function _d(){Xn=Lo.current,ee(Gs),ee(Lo)}var Ma=F(null),Qa=null;function gr(e){var n=e.alternate;oe(At,At.current&1),oe(Ma,e),Qa===null&&(n===null||Gs.current!==null||n.memoizedState!==null)&&(Qa=e)}function Od(e){oe(At,At.current),oe(Ma,e),Qa===null&&(Qa=e)}function Ax(e){e.tag===22?(oe(At,At.current),oe(Ma,e),Qa===null&&(Qa=e)):yr()}function yr(){oe(At,At.current),oe(Ma,Ma.current)}function Aa(e){ee(Ma),Qa===e&&(Qa=null),ee(At)}var At=F(0);function Po(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Fm(i)||Bm(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Yn=0,Ie=null,dt=null,zt=null,zo=!1,Qs=!1,is=!1,Fo=0,si=0,Ks=null,MN=0;function Ct(){throw Error(t(321))}function Rd(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!ka(e[i],n[i]))return!1;return!0}function Id(e,n,i,c,f,h){return Yn=h,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=e===null||e.memoizedState===null?mh:Xd,is=!1,h=i(c,f),is=!1,Qs&&(h=Ex(n,i,c,f)),Tx(e),h}function Tx(e){B.H=oi;var n=dt!==null&&dt.next!==null;if(Yn=0,zt=dt=Ie=null,zo=!1,si=0,Ks=null,n)throw Error(t(300));e===null||Ft||(e=e.dependencies,e!==null&&Ao(e)&&(Ft=!0))}function Ex(e,n,i,c){Ie=e;var f=0;do{if(Qs&&(Ks=null),si=0,Qs=!1,25<=f)throw Error(t(301));if(f+=1,zt=dt=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}B.H=fh,h=n(i,c)}while(Qs);return h}function AN(){var e=B.H,n=e.useState()[0];return n=typeof n.then=="function"?li(n):n,e=e.useState()[0],(dt!==null?dt.memoizedState:null)!==e&&(Ie.flags|=1024),n}function Ld(){var e=Fo!==0;return Fo=0,e}function Pd(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function zd(e){if(zo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}zo=!1}Yn=0,zt=dt=Ie=null,Qs=!1,si=Fo=0,Ks=null}function ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Ie.memoizedState=zt=e:zt=zt.next=e,zt}function Tt(){if(dt===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var n=zt===null?Ie.memoizedState:zt.next;if(n!==null)zt=n,dt=e;else{if(e===null)throw Ie.alternate===null?Error(t(467)):Error(t(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},zt===null?Ie.memoizedState=zt=e:zt=zt.next=e}return zt}function Bo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function li(e){var n=si;return si+=1,Ks===null&&(Ks=[]),e=Nx(Ks,e,n),n=Ie,(zt===null?n.memoizedState:zt.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?mh:Xd),e}function Ho(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return li(e);if(e.$$typeof===y)return Qt(e)}throw Error(t(438,String(e)))}function Fd(e){var n=null,i=Ie.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var c=Ie.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Bo(),Ie.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),c=0;c<e;c++)i[c]=H;return n.index++,i}function Un(e,n){return typeof n=="function"?n(e):n}function Yo(e){var n=Tt();return Bd(n,dt,e)}function Bd(e,n,i){var c=e.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var f=e.baseQueue,h=c.pending;if(h!==null){if(f!==null){var k=f.next;f.next=h.next,h.next=k}n.baseQueue=f=h,c.pending=null}if(h=e.baseState,f===null)e.memoizedState=h;else{n=f.next;var T=k=null,P=null,X=n,re=!1;do{var ie=X.lane&-536870913;if(ie!==X.lane?(Ve&ie)===ie:(Yn&ie)===ie){var Z=X.revertLane;if(Z===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ie===Us&&(re=!0);else if((Yn&Z)===Z){X=X.next,Z===Us&&(re=!0);continue}else ie={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},P===null?(T=P=ie,k=h):P=P.next=ie,Ie.lanes|=Z,wr|=Z;ie=X.action,is&&i(h,ie),h=X.hasEagerState?X.eagerState:i(h,ie)}else Z={lane:ie,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},P===null?(T=P=Z,k=h):P=P.next=Z,Ie.lanes|=ie,wr|=ie;X=X.next}while(X!==null&&X!==n);if(P===null?k=h:P.next=T,!ka(h,e.memoizedState)&&(Ft=!0,re&&(i=qs,i!==null)))throw i;e.memoizedState=h,e.baseState=k,e.baseQueue=P,c.lastRenderedState=h}return f===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Hd(e){var n=Tt(),i=n.queue;if(i===null)throw Error(t(311));i.lastRenderedReducer=e;var c=i.dispatch,f=i.pending,h=n.memoizedState;if(f!==null){i.pending=null;var k=f=f.next;do h=e(h,k.action),k=k.next;while(k!==f);ka(h,n.memoizedState)||(Ft=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),i.lastRenderedState=h}return[h,c]}function _x(e,n,i){var c=Ie,f=Tt(),h=We;if(h){if(i===void 0)throw Error(t(407));i=i()}else i=n();var k=!ka((dt||f).memoizedState,i);if(k&&(f.memoizedState=i,Ft=!0),f=f.queue,qd(Ix.bind(null,c,f,e),[e]),f.getSnapshot!==n||k||zt!==null&&zt.memoizedState.tag&1){if(c.flags|=2048,Xs(9,{destroy:void 0},Rx.bind(null,c,f,i,n),null),pt===null)throw Error(t(349));h||(Yn&127)!==0||Ox(c,n,i)}return i}function Ox(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Ie.updateQueue,n===null?(n=Bo(),Ie.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Rx(e,n,i,c){n.value=i,n.getSnapshot=c,Lx(n)&&Px(e)}function Ix(e,n,i){return i(function(){Lx(n)&&Px(e)})}function Lx(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!ka(e,i)}catch{return!0}}function Px(e){var n=Zr(e,2);n!==null&&va(n,e,2)}function Yd(e){var n=ia();if(typeof e=="function"){var i=e;if(e=i(),is){ut(!0);try{i()}finally{ut(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:e},n}function zx(e,n,i,c){return e.baseState=i,Bd(e,dt,typeof c=="function"?c:Un)}function TN(e,n,i,c,f){if($o(e))throw Error(t(485));if(e=n.action,e!==null){var h={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){h.listeners.push(k)}};B.T!==null?i(!0):h.isTransition=!1,c(h),i=n.pending,i===null?(h.next=n.pending=h,Fx(n,h)):(h.next=i.next,n.pending=i.next=h)}}function Fx(e,n){var i=n.action,c=n.payload,f=e.state;if(n.isTransition){var h=B.T,k={};B.T=k;try{var T=i(f,c),P=B.S;P!==null&&P(k,T),Bx(e,n,T)}catch(X){Ud(e,n,X)}finally{h!==null&&k.types!==null&&(h.types=k.types),B.T=h}}else try{h=i(f,c),Bx(e,n,h)}catch(X){Ud(e,n,X)}}function Bx(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(c){Hx(e,n,c)},function(c){return Ud(e,n,c)}):Hx(e,n,i)}function Hx(e,n,i){n.status="fulfilled",n.value=i,Yx(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,Fx(e,i)))}function Ud(e,n,i){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=i,Yx(n),n=n.next;while(n!==c)}e.action=null}function Yx(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ux(e,n){return n}function qx(e,n){if(We){var i=pt.formState;if(i!==null){e:{var c=Ie;if(We){if(vt){t:{for(var f=vt,h=Ga;f.nodeType!==8;){if(!h){f=null;break t}if(f=Ka(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){vt=Ka(f.nextSibling),c=f.data==="F!";break e}}pr(c)}c=!1}c&&(n=i[0])}}return i=ia(),i.memoizedState=i.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ux,lastRenderedState:n},i.queue=c,i=ch.bind(null,Ie,c),c.dispatch=i,c=Yd(!1),h=Kd.bind(null,Ie,!1,c.queue),c=ia(),f={state:n,dispatch:null,action:e,pending:null},c.queue=f,i=TN.bind(null,Ie,f,h,i),f.dispatch=i,c.memoizedState=e,[n,i,!1]}function $x(e){var n=Tt();return Vx(n,dt,e)}function Vx(e,n,i){if(n=Bd(e,n,Ux)[0],e=Yo(Un)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=li(n)}catch(k){throw k===$s?_o:k}else c=n;n=Tt();var f=n.queue,h=f.dispatch;return i!==n.memoizedState&&(Ie.flags|=2048,Xs(9,{destroy:void 0},EN.bind(null,f,i),null)),[c,h,e]}function EN(e,n){e.action=n}function Gx(e){var n=Tt(),i=dt;if(i!==null)return Vx(n,i,e);Tt(),n=n.memoizedState,i=Tt();var c=i.queue.dispatch;return i.memoizedState=e,[n,c,!1]}function Xs(e,n,i,c){return e={tag:e,create:i,deps:c,inst:n,next:null},n=Ie.updateQueue,n===null&&(n=Bo(),Ie.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(c=i.next,i.next=e,e.next=c,n.lastEffect=e),e}function Qx(){return Tt().memoizedState}function Uo(e,n,i,c){var f=ia();Ie.flags|=e,f.memoizedState=Xs(1|n,{destroy:void 0},i,c===void 0?null:c)}function qo(e,n,i,c){var f=Tt();c=c===void 0?null:c;var h=f.memoizedState.inst;dt!==null&&c!==null&&Rd(c,dt.memoizedState.deps)?f.memoizedState=Xs(n,h,i,c):(Ie.flags|=e,f.memoizedState=Xs(1|n,h,i,c))}function Kx(e,n){Uo(8390656,8,e,n)}function qd(e,n){qo(2048,8,e,n)}function _N(e){Ie.flags|=4;var n=Ie.updateQueue;if(n===null)n=Bo(),Ie.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function Xx(e){var n=Tt().memoizedState;return _N({ref:n,nextImpl:e}),function(){if((at&2)!==0)throw Error(t(440));return n.impl.apply(void 0,arguments)}}function Wx(e,n){return qo(4,2,e,n)}function Zx(e,n){return qo(4,4,e,n)}function Jx(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function eh(e,n,i){i=i!=null?i.concat([e]):null,qo(4,4,Jx.bind(null,n,e),i)}function $d(){}function th(e,n){var i=Tt();n=n===void 0?null:n;var c=i.memoizedState;return n!==null&&Rd(n,c[1])?c[0]:(i.memoizedState=[e,n],e)}function ah(e,n){var i=Tt();n=n===void 0?null:n;var c=i.memoizedState;if(n!==null&&Rd(n,c[1]))return c[0];if(c=e(),is){ut(!0);try{e()}finally{ut(!1)}}return i.memoizedState=[c,n],c}function Vd(e,n,i){return i===void 0||(Yn&1073741824)!==0&&(Ve&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=nv(),Ie.lanes|=e,wr|=e,i)}function nh(e,n,i,c){return ka(i,n)?i:Gs.current!==null?(e=Vd(e,i,c),ka(e,n)||(Ft=!0),e):(Yn&42)===0||(Yn&1073741824)!==0&&(Ve&261930)===0?(Ft=!0,e.memoizedState=i):(e=nv(),Ie.lanes|=e,wr|=e,n)}function rh(e,n,i,c,f){var h=R.p;R.p=h!==0&&8>h?h:8;var k=B.T,T={};B.T=T,Kd(e,!1,n,i);try{var P=f(),X=B.S;if(X!==null&&X(T,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var re=DN(P,c);ii(e,n,re,_a(e))}else ii(e,n,c,_a(e))}catch(ie){ii(e,n,{then:function(){},status:"rejected",reason:ie},_a())}finally{R.p=h,k!==null&&T.types!==null&&(k.types=T.types),B.T=k}}function ON(){}function Gd(e,n,i,c){if(e.tag!==5)throw Error(t(476));var f=sh(e).queue;rh(e,f,n,I,i===null?ON:function(){return lh(e),i(c)})}function sh(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:I},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function lh(e){var n=sh(e);n.next===null&&(n=e.alternate.memoizedState),ii(e,n.next.queue,{},_a())}function Qd(){return Qt(Si)}function ih(){return Tt().memoizedState}function oh(){return Tt().memoizedState}function RN(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=_a();e=vr(i);var c=br(n,e,i);c!==null&&(va(c,n,i),ai(c,n,i)),n={cache:wd()},e.payload=n;return}n=n.return}}function IN(e,n,i){var c=_a();i={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},$o(e)?uh(n,i):(i=md(e,n,i,c),i!==null&&(va(i,e,c),dh(i,n,c)))}function ch(e,n,i){var c=_a();ii(e,n,i,c)}function ii(e,n,i,c){var f={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if($o(e))uh(n,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var k=n.lastRenderedState,T=h(k,i);if(f.hasEagerState=!0,f.eagerState=T,ka(T,k))return Co(e,n,f,0),pt===null&&So(),!1}catch{}if(i=md(e,n,f,c),i!==null)return va(i,e,c),dh(i,n,c),!0}return!1}function Kd(e,n,i,c){if(c={lane:2,revertLane:Dm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},$o(e)){if(n)throw Error(t(479))}else n=md(e,i,c,2),n!==null&&va(n,e,2)}function $o(e){var n=e.alternate;return e===Ie||n!==null&&n===Ie}function uh(e,n){Qs=zo=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function dh(e,n,i){if((i&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,i|=c,n.lanes=i,io(e,i)}}var oi={readContext:Qt,use:Ho,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};oi.useEffectEvent=Ct;var mh={readContext:Qt,use:Ho,useCallback:function(e,n){return ia().memoizedState=[e,n===void 0?null:n],e},useContext:Qt,useEffect:Kx,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Uo(4194308,4,Jx.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Uo(4194308,4,e,n)},useInsertionEffect:function(e,n){Uo(4,2,e,n)},useMemo:function(e,n){var i=ia();n=n===void 0?null:n;var c=e();if(is){ut(!0);try{e()}finally{ut(!1)}}return i.memoizedState=[c,n],c},useReducer:function(e,n,i){var c=ia();if(i!==void 0){var f=i(n);if(is){ut(!0);try{i(n)}finally{ut(!1)}}}else f=n;return c.memoizedState=c.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},c.queue=e,e=e.dispatch=IN.bind(null,Ie,e),[c.memoizedState,e]},useRef:function(e){var n=ia();return e={current:e},n.memoizedState=e},useState:function(e){e=Yd(e);var n=e.queue,i=ch.bind(null,Ie,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:$d,useDeferredValue:function(e,n){var i=ia();return Vd(i,e,n)},useTransition:function(){var e=Yd(!1);return e=rh.bind(null,Ie,e.queue,!0,!1),ia().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var c=Ie,f=ia();if(We){if(i===void 0)throw Error(t(407));i=i()}else{if(i=n(),pt===null)throw Error(t(349));(Ve&127)!==0||Ox(c,n,i)}f.memoizedState=i;var h={value:i,getSnapshot:n};return f.queue=h,Kx(Ix.bind(null,c,h,e),[e]),c.flags|=2048,Xs(9,{destroy:void 0},Rx.bind(null,c,h,i,n),null),i},useId:function(){var e=ia(),n=pt.identifierPrefix;if(We){var i=hn,c=xn;i=(c&~(1<<32-Ht(c)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Fo++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=MN++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Qd,useFormState:qx,useActionState:qx,useOptimistic:function(e){var n=ia();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Kd.bind(null,Ie,!0,i),i.dispatch=n,[e,n]},useMemoCache:Fd,useCacheRefresh:function(){return ia().memoizedState=RN.bind(null,Ie)},useEffectEvent:function(e){var n=ia(),i={impl:e};return n.memoizedState=i,function(){if((at&2)!==0)throw Error(t(440));return i.impl.apply(void 0,arguments)}}},Xd={readContext:Qt,use:Ho,useCallback:th,useContext:Qt,useEffect:qd,useImperativeHandle:eh,useInsertionEffect:Wx,useLayoutEffect:Zx,useMemo:ah,useReducer:Yo,useRef:Qx,useState:function(){return Yo(Un)},useDebugValue:$d,useDeferredValue:function(e,n){var i=Tt();return nh(i,dt.memoizedState,e,n)},useTransition:function(){var e=Yo(Un)[0],n=Tt().memoizedState;return[typeof e=="boolean"?e:li(e),n]},useSyncExternalStore:_x,useId:ih,useHostTransitionStatus:Qd,useFormState:$x,useActionState:$x,useOptimistic:function(e,n){var i=Tt();return zx(i,dt,e,n)},useMemoCache:Fd,useCacheRefresh:oh};Xd.useEffectEvent=Xx;var fh={readContext:Qt,use:Ho,useCallback:th,useContext:Qt,useEffect:qd,useImperativeHandle:eh,useInsertionEffect:Wx,useLayoutEffect:Zx,useMemo:ah,useReducer:Hd,useRef:Qx,useState:function(){return Hd(Un)},useDebugValue:$d,useDeferredValue:function(e,n){var i=Tt();return dt===null?Vd(i,e,n):nh(i,dt.memoizedState,e,n)},useTransition:function(){var e=Hd(Un)[0],n=Tt().memoizedState;return[typeof e=="boolean"?e:li(e),n]},useSyncExternalStore:_x,useId:ih,useHostTransitionStatus:Qd,useFormState:Gx,useActionState:Gx,useOptimistic:function(e,n){var i=Tt();return dt!==null?zx(i,dt,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Fd,useCacheRefresh:oh};fh.useEffectEvent=Xx;function Wd(e,n,i,c){n=e.memoizedState,i=i(c,n),i=i==null?n:b({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Zd={enqueueSetState:function(e,n,i){e=e._reactInternals;var c=_a(),f=vr(c);f.payload=n,i!=null&&(f.callback=i),n=br(e,f,c),n!==null&&(va(n,e,c),ai(n,e,c))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var c=_a(),f=vr(c);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=br(e,f,c),n!==null&&(va(n,e,c),ai(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=_a(),c=vr(i);c.tag=2,n!=null&&(c.callback=n),n=br(e,c,i),n!==null&&(va(n,e,i),ai(n,e,i))}};function ph(e,n,i,c,f,h,k){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,h,k):n.prototype&&n.prototype.isPureReactComponent?!Ql(i,c)||!Ql(f,h):!0}function xh(e,n,i,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,c),n.state!==e&&Zd.enqueueReplaceState(n,n.state,null)}function os(e,n){var i=n;if("ref"in n){i={};for(var c in n)c!=="ref"&&(i[c]=n[c])}if(e=e.defaultProps){i===n&&(i=b({},i));for(var f in e)i[f]===void 0&&(i[f]=e[f])}return i}function hh(e){wo(e)}function vh(e){console.error(e)}function bh(e){wo(e)}function Vo(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function gh(e,n,i){try{var c=e.onCaughtError;c(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Jd(e,n,i){return i=vr(i),i.tag=3,i.payload={element:null},i.callback=function(){Vo(e,n)},i}function yh(e){return e=vr(e),e.tag=3,e}function Nh(e,n,i,c){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var h=c.value;e.payload=function(){return f(h)},e.callback=function(){gh(n,i,c)}}var k=i.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(e.callback=function(){gh(n,i,c),typeof f!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function LN(e,n,i,c,f){if(i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=i.alternate,n!==null&&Ys(n,i,f,!0),i=Ma.current,i!==null){switch(i.tag){case 31:case 13:return Qa===null?rc():i.alternate===null&&kt===0&&(kt=3),i.flags&=-257,i.flags|=65536,i.lanes=f,c===Oo?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([c]):n.add(c),Sm(e,c,f)),!1;case 22:return i.flags|=65536,c===Oo?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([c]):i.add(c)),Sm(e,c,f)),!1}throw Error(t(435,i.tag))}return Sm(e,c,f),rc(),!1}if(We)return n=Ma.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,c!==bd&&(e=Error(t(422),{cause:c}),Wl(qa(e,i)))):(c!==bd&&(n=Error(t(423),{cause:c}),Wl(qa(n,i))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,c=qa(c,i),f=Jd(e.stateNode,c,f),Ad(e,f),kt!==4&&(kt=2)),!1;var h=Error(t(520),{cause:c});if(h=qa(h,i),hi===null?hi=[h]:hi.push(h),kt!==4&&(kt=2),n===null)return!0;c=qa(c,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=f&-f,i.lanes|=e,e=Jd(i.stateNode,c,e),Ad(i,e),!1;case 1:if(n=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Sr===null||!Sr.has(h))))return i.flags|=65536,f&=-f,i.lanes|=f,f=yh(f),Nh(f,e,i,c),Ad(i,f),!1}i=i.return}while(i!==null);return!1}var em=Error(t(461)),Ft=!1;function Kt(e,n,i,c){n.child=e===null?Cx(n,null,i,c):ls(n,e.child,i,c)}function jh(e,n,i,c,f){i=i.render;var h=n.ref;if("ref"in c){var k={};for(var T in c)T!=="ref"&&(k[T]=c[T])}else k=c;return as(n),c=Id(e,n,i,k,h,f),T=Ld(),e!==null&&!Ft?(Pd(e,n,f),qn(e,n,f)):(We&&T&&hd(n),n.flags|=1,Kt(e,n,c,f),n.child)}function wh(e,n,i,c,f){if(e===null){var h=i.type;return typeof h=="function"&&!fd(h)&&h.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=h,Sh(e,n,h,c,f)):(e=Do(i.type,null,c,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!om(e,f)){var k=h.memoizedProps;if(i=i.compare,i=i!==null?i:Ql,i(k,c)&&e.ref===n.ref)return qn(e,n,f)}return n.flags|=1,e=zn(h,c),e.ref=n.ref,e.return=n,n.child=e}function Sh(e,n,i,c,f){if(e!==null){var h=e.memoizedProps;if(Ql(h,c)&&e.ref===n.ref)if(Ft=!1,n.pendingProps=c=h,om(e,f))(e.flags&131072)!==0&&(Ft=!0);else return n.lanes=e.lanes,qn(e,n,f)}return tm(e,n,i,c,f)}function Ch(e,n,i,c){var f=c.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~h}else c=0,n.child=null;return kh(e,n,h,i,c)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Eo(n,h!==null?h.cachePool:null),h!==null?Mx(n,h):Ed(),Ax(n);else return c=n.lanes=536870912,kh(e,n,h!==null?h.baseLanes|i:i,i,c)}else h!==null?(Eo(n,h.cachePool),Mx(n,h),yr(),n.memoizedState=null):(e!==null&&Eo(n,null),Ed(),yr());return Kt(e,n,f,i),n.child}function ci(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function kh(e,n,i,c,f){var h=Cd();return h=h===null?null:{parent:Pt._currentValue,pool:h},n.memoizedState={baseLanes:i,cachePool:h},e!==null&&Eo(n,null),Ed(),Ax(n),e!==null&&Ys(e,n,c,!0),n.childLanes=f,null}function Go(e,n){return n=Ko({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Dh(e,n,i){return ls(n,e.child,null,i),e=Go(n,n.pendingProps),e.flags|=2,Aa(n),n.memoizedState=null,e}function PN(e,n,i){var c=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(We){if(c.mode==="hidden")return e=Go(n,c),n.lanes=536870912,ci(null,e);if(Od(n),(e=vt)?(e=Fv(e,Ga),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:mr!==null?{id:xn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},i=ux(e),i.return=n,n.child=i,Gt=n,vt=null)):e=null,e===null)throw pr(n);return n.lanes=536870912,null}return Go(n,c)}var h=e.memoizedState;if(h!==null){var k=h.dehydrated;if(Od(n),f)if(n.flags&256)n.flags&=-257,n=Dh(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(t(558));else if(Ft||Ys(e,n,i,!1),f=(i&e.childLanes)!==0,Ft||f){if(c=pt,c!==null&&(k=oo(c,i),k!==0&&k!==h.retryLane))throw h.retryLane=k,Zr(e,k),va(c,e,k),em;rc(),n=Dh(e,n,i)}else e=h.treeContext,vt=Ka(k.nextSibling),Gt=n,We=!0,fr=null,Ga=!1,e!==null&&fx(n,e),n=Go(n,c),n.flags|=4096;return n}return e=zn(e.child,{mode:c.mode,children:c.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Qo(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(t(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function tm(e,n,i,c,f){return as(n),i=Id(e,n,i,c,void 0,f),c=Ld(),e!==null&&!Ft?(Pd(e,n,f),qn(e,n,f)):(We&&c&&hd(n),n.flags|=1,Kt(e,n,i,f),n.child)}function Mh(e,n,i,c,f,h){return as(n),n.updateQueue=null,i=Ex(n,c,i,f),Tx(e),c=Ld(),e!==null&&!Ft?(Pd(e,n,h),qn(e,n,h)):(We&&c&&hd(n),n.flags|=1,Kt(e,n,i,h),n.child)}function Ah(e,n,i,c,f){if(as(n),n.stateNode===null){var h=zs,k=i.contextType;typeof k=="object"&&k!==null&&(h=Qt(k)),h=new i(c,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Zd,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=c,h.state=n.memoizedState,h.refs={},Dd(n),k=i.contextType,h.context=typeof k=="object"&&k!==null?Qt(k):zs,h.state=n.memoizedState,k=i.getDerivedStateFromProps,typeof k=="function"&&(Wd(n,i,k,c),h.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(k=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),k!==h.state&&Zd.enqueueReplaceState(h,h.state,null),ri(n,c,h,f),ni(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){h=n.stateNode;var T=n.memoizedProps,P=os(i,T);h.props=P;var X=h.context,re=i.contextType;k=zs,typeof re=="object"&&re!==null&&(k=Qt(re));var ie=i.getDerivedStateFromProps;re=typeof ie=="function"||typeof h.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,re||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T||X!==k)&&xh(n,h,c,k),hr=!1;var Z=n.memoizedState;h.state=Z,ri(n,c,h,f),ni(),X=n.memoizedState,T||Z!==X||hr?(typeof ie=="function"&&(Wd(n,i,ie,c),X=n.memoizedState),(P=hr||ph(n,i,P,c,Z,X,k))?(re||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=X),h.props=c,h.state=X,h.context=k,c=P):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{h=n.stateNode,Md(e,n),k=n.memoizedProps,re=os(i,k),h.props=re,ie=n.pendingProps,Z=h.context,X=i.contextType,P=zs,typeof X=="object"&&X!==null&&(P=Qt(X)),T=i.getDerivedStateFromProps,(X=typeof T=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(k!==ie||Z!==P)&&xh(n,h,c,P),hr=!1,Z=n.memoizedState,h.state=Z,ri(n,c,h,f),ni();var ae=n.memoizedState;k!==ie||Z!==ae||hr||e!==null&&e.dependencies!==null&&Ao(e.dependencies)?(typeof T=="function"&&(Wd(n,i,T,c),ae=n.memoizedState),(re=hr||ph(n,i,re,c,Z,ae,P)||e!==null&&e.dependencies!==null&&Ao(e.dependencies))?(X||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(c,ae,P),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(c,ae,P)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||k===e.memoizedProps&&Z===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&Z===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=ae),h.props=c,h.state=ae,h.context=P,c=re):(typeof h.componentDidUpdate!="function"||k===e.memoizedProps&&Z===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&Z===e.memoizedState||(n.flags|=1024),c=!1)}return h=c,Qo(e,n),c=(n.flags&128)!==0,h||c?(h=n.stateNode,i=c&&typeof i.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&c?(n.child=ls(n,e.child,null,f),n.child=ls(n,null,i,f)):Kt(e,n,i,f),n.memoizedState=h.state,e=n.child):e=qn(e,n,f),e}function Th(e,n,i,c){return es(),n.flags|=256,Kt(e,n,i,c),n.child}var am={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nm(e){return{baseLanes:e,cachePool:gx()}}function rm(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=Ea),e}function Eh(e,n,i){var c=n.pendingProps,f=!1,h=(n.flags&128)!==0,k;if((k=h)||(k=e!==null&&e.memoizedState===null?!1:(At.current&2)!==0),k&&(f=!0,n.flags&=-129),k=(n.flags&32)!==0,n.flags&=-33,e===null){if(We){if(f?gr(n):yr(),(e=vt)?(e=Fv(e,Ga),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:mr!==null?{id:xn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},i=ux(e),i.return=n,n.child=i,Gt=n,vt=null)):e=null,e===null)throw pr(n);return Bm(e)?n.lanes=32:n.lanes=536870912,null}var T=c.children;return c=c.fallback,f?(yr(),f=n.mode,T=Ko({mode:"hidden",children:T},f),c=Jr(c,f,i,null),T.return=n,c.return=n,T.sibling=c,n.child=T,c=n.child,c.memoizedState=nm(i),c.childLanes=rm(e,k,i),n.memoizedState=am,ci(null,c)):(gr(n),sm(n,T))}var P=e.memoizedState;if(P!==null&&(T=P.dehydrated,T!==null)){if(h)n.flags&256?(gr(n),n.flags&=-257,n=lm(e,n,i)):n.memoizedState!==null?(yr(),n.child=e.child,n.flags|=128,n=null):(yr(),T=c.fallback,f=n.mode,c=Ko({mode:"visible",children:c.children},f),T=Jr(T,f,i,null),T.flags|=2,c.return=n,T.return=n,c.sibling=T,n.child=c,ls(n,e.child,null,i),c=n.child,c.memoizedState=nm(i),c.childLanes=rm(e,k,i),n.memoizedState=am,n=ci(null,c));else if(gr(n),Bm(T)){if(k=T.nextSibling&&T.nextSibling.dataset,k)var X=k.dgst;k=X,c=Error(t(419)),c.stack="",c.digest=k,Wl({value:c,source:null,stack:null}),n=lm(e,n,i)}else if(Ft||Ys(e,n,i,!1),k=(i&e.childLanes)!==0,Ft||k){if(k=pt,k!==null&&(c=oo(k,i),c!==0&&c!==P.retryLane))throw P.retryLane=c,Zr(e,c),va(k,e,c),em;Fm(T)||rc(),n=lm(e,n,i)}else Fm(T)?(n.flags|=192,n.child=e.child,n=null):(e=P.treeContext,vt=Ka(T.nextSibling),Gt=n,We=!0,fr=null,Ga=!1,e!==null&&fx(n,e),n=sm(n,c.children),n.flags|=4096);return n}return f?(yr(),T=c.fallback,f=n.mode,P=e.child,X=P.sibling,c=zn(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&65011712,X!==null?T=zn(X,T):(T=Jr(T,f,i,null),T.flags|=2),T.return=n,c.return=n,c.sibling=T,n.child=c,ci(null,c),c=n.child,T=e.child.memoizedState,T===null?T=nm(i):(f=T.cachePool,f!==null?(P=Pt._currentValue,f=f.parent!==P?{parent:P,pool:P}:f):f=gx(),T={baseLanes:T.baseLanes|i,cachePool:f}),c.memoizedState=T,c.childLanes=rm(e,k,i),n.memoizedState=am,ci(e.child,c)):(gr(n),i=e.child,e=i.sibling,i=zn(i,{mode:"visible",children:c.children}),i.return=n,i.sibling=null,e!==null&&(k=n.deletions,k===null?(n.deletions=[e],n.flags|=16):k.push(e)),n.child=i,n.memoizedState=null,i)}function sm(e,n){return n=Ko({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ko(e,n){return e=Da(22,e,null,n),e.lanes=0,e}function lm(e,n,i){return ls(n,e.child,null,i),e=sm(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function _h(e,n,i){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),Nd(e.return,n,i)}function im(e,n,i,c,f,h){var k=e.memoizedState;k===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:f,treeForkCount:h}:(k.isBackwards=n,k.rendering=null,k.renderingStartTime=0,k.last=c,k.tail=i,k.tailMode=f,k.treeForkCount=h)}function Oh(e,n,i){var c=n.pendingProps,f=c.revealOrder,h=c.tail;c=c.children;var k=At.current,T=(k&2)!==0;if(T?(k=k&1|2,n.flags|=128):k&=1,oe(At,k),Kt(e,n,c,i),c=We?Xl:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_h(e,i,n);else if(e.tag===19)_h(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(i=n.child,f=null;i!==null;)e=i.alternate,e!==null&&Po(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=n.child,n.child=null):(f=i.sibling,i.sibling=null),im(n,!1,f,i,h,c);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Po(e)===null){n.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}im(n,!0,i,null,h,c);break;case"together":im(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function qn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),wr|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Ys(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(t(153));if(n.child!==null){for(e=n.child,i=zn(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=zn(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function om(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ao(e)))}function zN(e,n,i){switch(n.tag){case 3:qe(n,n.stateNode.containerInfo),xr(n,Pt,e.memoizedState.cache),es();break;case 27:case 5:Rt(n);break;case 4:qe(n,n.stateNode.containerInfo);break;case 10:xr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Od(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(gr(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Eh(e,n,i):(gr(n),e=qn(e,n,i),e!==null?e.sibling:null);gr(n);break;case 19:var f=(e.flags&128)!==0;if(c=(i&n.childLanes)!==0,c||(Ys(e,n,i,!1),c=(i&n.childLanes)!==0),f){if(c)return Oh(e,n,i);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(At,At.current),c)break;return null;case 22:return n.lanes=0,Ch(e,n,i,n.pendingProps);case 24:xr(n,Pt,e.memoizedState.cache)}return qn(e,n,i)}function Rh(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ft=!0;else{if(!om(e,i)&&(n.flags&128)===0)return Ft=!1,zN(e,n,i);Ft=(e.flags&131072)!==0}else Ft=!1,We&&(n.flags&1048576)!==0&&mx(n,Xl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var c=n.pendingProps;if(e=rs(n.elementType),n.type=e,typeof e=="function")fd(e)?(c=os(e,c),n.tag=1,n=Ah(null,n,e,c,i)):(n.tag=0,n=tm(null,n,e,c,i));else{if(e!=null){var f=e.$$typeof;if(f===_){n.tag=11,n=jh(null,n,e,c,i);break e}else if(f===G){n.tag=14,n=wh(null,n,e,c,i);break e}}throw n=$(e)||e,Error(t(306,n,""))}}return n;case 0:return tm(e,n,n.type,n.pendingProps,i);case 1:return c=n.type,f=os(c,n.pendingProps),Ah(e,n,c,f,i);case 3:e:{if(qe(n,n.stateNode.containerInfo),e===null)throw Error(t(387));c=n.pendingProps;var h=n.memoizedState;f=h.element,Md(e,n),ri(n,c,null,i);var k=n.memoizedState;if(c=k.cache,xr(n,Pt,c),c!==h.cache&&jd(n,[Pt],i,!0),ni(),c=k.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:k.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Th(e,n,c,i);break e}else if(c!==f){f=qa(Error(t(424)),n),Wl(f),n=Th(e,n,c,i);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,vt=Ka(e.firstChild),Gt=n,We=!0,fr=null,Ga=!0,i=Cx(n,null,c,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(es(),c===f){n=qn(e,n,i);break e}Kt(e,n,c,i)}n=n.child}return n;case 26:return Qo(e,n),e===null?(i=$v(n.type,null,n.pendingProps,null))?n.memoizedState=i:We||(i=n.type,e=n.pendingProps,c=dc(be.current).createElement(i),c[Yt]=n,c[ea]=e,Xt(c,i,e),$t(c),n.stateNode=c):n.memoizedState=$v(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Rt(n),e===null&&We&&(c=n.stateNode=Yv(n.type,n.pendingProps,be.current),Gt=n,Ga=!0,f=vt,Mr(n.type)?(Hm=f,vt=Ka(c.firstChild)):vt=f),Kt(e,n,n.pendingProps.children,i),Qo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&We&&((f=c=vt)&&(c=pj(c,n.type,n.pendingProps,Ga),c!==null?(n.stateNode=c,Gt=n,vt=Ka(c.firstChild),Ga=!1,f=!0):f=!1),f||pr(n)),Rt(n),f=n.type,h=n.pendingProps,k=e!==null?e.memoizedProps:null,c=h.children,Lm(f,h)?c=null:k!==null&&Lm(f,k)&&(n.flags|=32),n.memoizedState!==null&&(f=Id(e,n,AN,null,null,i),Si._currentValue=f),Qo(e,n),Kt(e,n,c,i),n.child;case 6:return e===null&&We&&((e=i=vt)&&(i=xj(i,n.pendingProps,Ga),i!==null?(n.stateNode=i,Gt=n,vt=null,e=!0):e=!1),e||pr(n)),null;case 13:return Eh(e,n,i);case 4:return qe(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=ls(n,null,c,i):Kt(e,n,c,i),n.child;case 11:return jh(e,n,n.type,n.pendingProps,i);case 7:return Kt(e,n,n.pendingProps,i),n.child;case 8:return Kt(e,n,n.pendingProps.children,i),n.child;case 12:return Kt(e,n,n.pendingProps.children,i),n.child;case 10:return c=n.pendingProps,xr(n,n.type,c.value),Kt(e,n,c.children,i),n.child;case 9:return f=n.type._context,c=n.pendingProps.children,as(n),f=Qt(f),c=c(f),n.flags|=1,Kt(e,n,c,i),n.child;case 14:return wh(e,n,n.type,n.pendingProps,i);case 15:return Sh(e,n,n.type,n.pendingProps,i);case 19:return Oh(e,n,i);case 31:return PN(e,n,i);case 22:return Ch(e,n,i,n.pendingProps);case 24:return as(n),c=Qt(Pt),e===null?(f=Cd(),f===null&&(f=pt,h=wd(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=i),f=h),n.memoizedState={parent:c,cache:f},Dd(n),xr(n,Pt,f)):((e.lanes&i)!==0&&(Md(e,n),ri(n,null,null,i),ni()),f=e.memoizedState,h=n.memoizedState,f.parent!==c?(f={parent:c,cache:c},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),xr(n,Pt,c)):(c=h.cache,xr(n,Pt,c),c!==f.cache&&jd(n,[Pt],i,!0))),Kt(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(t(156,n.tag))}function $n(e){e.flags|=4}function cm(e,n,i,c,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(iv())e.flags|=8192;else throw ss=Oo,kd}else e.flags&=-16777217}function Ih(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Xv(n))if(iv())e.flags|=8192;else throw ss=Oo,kd}function Xo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?so():536870912,e.lanes|=n,el|=n)}function ui(e,n){if(!We)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function bt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,c=0;if(n)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=i,n}function FN(e,n,i){var c=n.pendingProps;switch(vd(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(n),null;case 1:return bt(n),null;case 3:return i=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Hn(Pt),Je(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Hs(n)?$n(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,gd())),bt(n),null;case 26:var f=n.type,h=n.memoizedState;return e===null?($n(n),h!==null?(bt(n),Ih(n,h)):(bt(n),cm(n,f,null,c,i))):h?h!==e.memoizedState?($n(n),bt(n),Ih(n,h)):(bt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==c&&$n(n),bt(n),cm(n,f,e,c,i)),null;case 27:if(wt(n),i=be.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&$n(n);else{if(!c){if(n.stateNode===null)throw Error(t(166));return bt(n),null}e=ce.current,Hs(n)?px(n):(e=Yv(f,c,i),n.stateNode=e,$n(n))}return bt(n),null;case 5:if(wt(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&$n(n);else{if(!c){if(n.stateNode===null)throw Error(t(166));return bt(n),null}if(h=ce.current,Hs(n))px(n);else{var k=dc(be.current);switch(h){case 1:h=k.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=k.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=k.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=k.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=k.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof c.is=="string"?k.createElement("select",{is:c.is}):k.createElement("select"),c.multiple?h.multiple=!0:c.size&&(h.size=c.size);break;default:h=typeof c.is=="string"?k.createElement(f,{is:c.is}):k.createElement(f)}}h[Yt]=n,h[ea]=c;e:for(k=n.child;k!==null;){if(k.tag===5||k.tag===6)h.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===n)break e;for(;k.sibling===null;){if(k.return===null||k.return===n)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}n.stateNode=h;e:switch(Xt(h,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&$n(n)}}return bt(n),cm(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&$n(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(t(166));if(e=be.current,Hs(n)){if(e=n.stateNode,i=n.memoizedProps,c=null,f=Gt,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}e[Yt]=n,e=!!(e.nodeValue===i||c!==null&&c.suppressHydrationWarning===!0||Ev(e.nodeValue,i)),e||pr(n,!0)}else e=dc(e).createTextNode(c),e[Yt]=n,n.stateNode=e}return bt(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(c=Hs(n),i!==null){if(e===null){if(!c)throw Error(t(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(t(557));e[Yt]=n}else es(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),e=!1}else i=gd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(Aa(n),n):(Aa(n),null);if((n.flags&128)!==0)throw Error(t(558))}return bt(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Hs(n),c!==null&&c.dehydrated!==null){if(e===null){if(!f)throw Error(t(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(t(317));f[Yt]=n}else es(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),f=!1}else f=gd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Aa(n),n):(Aa(n),null)}return Aa(n),(n.flags&128)!==0?(n.lanes=i,n):(i=c!==null,e=e!==null&&e.memoizedState!==null,i&&(c=n.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),h=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),h!==f&&(c.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),Xo(n,n.updateQueue),bt(n),null);case 4:return Je(),e===null&&Em(n.stateNode.containerInfo),bt(n),null;case 10:return Hn(n.type),bt(n),null;case 19:if(ee(At),c=n.memoizedState,c===null)return bt(n),null;if(f=(n.flags&128)!==0,h=c.rendering,h===null)if(f)ui(c,!1);else{if(kt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Po(e),h!==null){for(n.flags|=128,ui(c,!1),e=h.updateQueue,n.updateQueue=e,Xo(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)cx(i,e),i=i.sibling;return oe(At,At.current&1|2),We&&Fn(n,c.treeForkCount),n.child}e=e.sibling}c.tail!==null&&De()>tc&&(n.flags|=128,f=!0,ui(c,!1),n.lanes=4194304)}else{if(!f)if(e=Po(h),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,Xo(n,e),ui(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!We)return bt(n),null}else 2*De()-c.renderingStartTime>tc&&i!==536870912&&(n.flags|=128,f=!0,ui(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(e=c.last,e!==null?e.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=De(),e.sibling=null,i=At.current,oe(At,f?i&1|2:i&1),We&&Fn(n,c.treeForkCount),e):(bt(n),null);case 22:case 23:return Aa(n),_d(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(i&536870912)!==0&&(n.flags&128)===0&&(bt(n),n.subtreeFlags&6&&(n.flags|=8192)):bt(n),i=n.updateQueue,i!==null&&Xo(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==i&&(n.flags|=2048),e!==null&&ee(ns),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Hn(Pt),bt(n),null;case 25:return null;case 30:return null}throw Error(t(156,n.tag))}function BN(e,n){switch(vd(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Hn(Pt),Je(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return wt(n),null;case 31:if(n.memoizedState!==null){if(Aa(n),n.alternate===null)throw Error(t(340));es()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Aa(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(t(340));es()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ee(At),null;case 4:return Je(),null;case 10:return Hn(n.type),null;case 22:case 23:return Aa(n),_d(),e!==null&&ee(ns),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Hn(Pt),null;case 25:return null;default:return null}}function Lh(e,n){switch(vd(n),n.tag){case 3:Hn(Pt),Je();break;case 26:case 27:case 5:wt(n);break;case 4:Je();break;case 31:n.memoizedState!==null&&Aa(n);break;case 13:Aa(n);break;case 19:ee(At);break;case 10:Hn(n.type);break;case 22:case 23:Aa(n),_d(),e!==null&&ee(ns);break;case 24:Hn(Pt)}}function di(e,n){try{var i=n.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var f=c.next;i=f;do{if((i.tag&e)===e){c=void 0;var h=i.create,k=i.inst;c=h(),k.destroy=c}i=i.next}while(i!==f)}}catch(T){lt(n,n.return,T)}}function Nr(e,n,i){try{var c=n.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var h=f.next;c=h;do{if((c.tag&e)===e){var k=c.inst,T=k.destroy;if(T!==void 0){k.destroy=void 0,f=n;var P=i,X=T;try{X()}catch(re){lt(f,P,re)}}}c=c.next}while(c!==h)}}catch(re){lt(n,n.return,re)}}function Ph(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{Dx(n,i)}catch(c){lt(e,e.return,c)}}}function zh(e,n,i){i.props=os(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(c){lt(e,n,c)}}function mi(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof i=="function"?e.refCleanup=i(c):i.current=c}}catch(f){lt(e,n,f)}}function vn(e,n){var i=e.ref,c=e.refCleanup;if(i!==null)if(typeof c=="function")try{c()}catch(f){lt(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){lt(e,n,f)}else i.current=null}function Fh(e){var n=e.type,i=e.memoizedProps,c=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&c.focus();break e;case"img":i.src?c.src=i.src:i.srcSet&&(c.srcset=i.srcSet)}}catch(f){lt(e,e.return,f)}}function um(e,n,i){try{var c=e.stateNode;oj(c,e.type,i,n),c[ea]=n}catch(f){lt(e,e.return,f)}}function Bh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Mr(e.type)||e.tag===4}function dm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Mr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mm(e,n,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Ln));else if(c!==4&&(c===27&&Mr(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(mm(e,n,i),e=e.sibling;e!==null;)mm(e,n,i),e=e.sibling}function Wo(e,n,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(c!==4&&(c===27&&Mr(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Wo(e,n,i),e=e.sibling;e!==null;)Wo(e,n,i),e=e.sibling}function Hh(e){var n=e.stateNode,i=e.memoizedProps;try{for(var c=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Xt(n,c,i),n[Yt]=e,n[ea]=i}catch(h){lt(e,e.return,h)}}var Vn=!1,Bt=!1,fm=!1,Yh=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function HN(e,n){if(e=e.containerInfo,Rm=bc,e=ex(e),ld(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var f=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var k=0,T=-1,P=-1,X=0,re=0,ie=e,Z=null;t:for(;;){for(var ae;ie!==i||f!==0&&ie.nodeType!==3||(T=k+f),ie!==h||c!==0&&ie.nodeType!==3||(P=k+c),ie.nodeType===3&&(k+=ie.nodeValue.length),(ae=ie.firstChild)!==null;)Z=ie,ie=ae;for(;;){if(ie===e)break t;if(Z===i&&++X===f&&(T=k),Z===h&&++re===c&&(P=k),(ae=ie.nextSibling)!==null)break;ie=Z,Z=ie.parentNode}ie=ae}i=T===-1||P===-1?null:{start:T,end:P}}else i=null}i=i||{start:0,end:0}}else i=null;for(Im={focusedElem:e,selectionRange:i},bc=!1,Vt=n;Vt!==null;)if(n=Vt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Vt=e;else for(;Vt!==null;){switch(n=Vt,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)f=e[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=n,f=h.memoizedProps,h=h.memoizedState,c=i.stateNode;try{var Se=os(i.type,f);e=c.getSnapshotBeforeUpdate(Se,h),c.__reactInternalSnapshotBeforeUpdate=e}catch(Te){lt(i,i.return,Te)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)zm(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(t(163))}if(e=n.sibling,e!==null){e.return=n.return,Vt=e;break}Vt=n.return}}function Uh(e,n,i){var c=i.flags;switch(i.tag){case 0:case 11:case 15:Qn(e,i),c&4&&di(5,i);break;case 1:if(Qn(e,i),c&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(k){lt(i,i.return,k)}else{var f=os(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(k){lt(i,i.return,k)}}c&64&&Ph(i),c&512&&mi(i,i.return);break;case 3:if(Qn(e,i),c&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Dx(e,n)}catch(k){lt(i,i.return,k)}}break;case 27:n===null&&c&4&&Hh(i);case 26:case 5:Qn(e,i),n===null&&c&4&&Fh(i),c&512&&mi(i,i.return);break;case 12:Qn(e,i);break;case 31:Qn(e,i),c&4&&Vh(e,i);break;case 13:Qn(e,i),c&4&&Gh(e,i),c&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=XN.bind(null,i),hj(e,i))));break;case 22:if(c=i.memoizedState!==null||Vn,!c){n=n!==null&&n.memoizedState!==null||Bt,f=Vn;var h=Bt;Vn=c,(Bt=n)&&!h?Kn(e,i,(i.subtreeFlags&8772)!==0):Qn(e,i),Vn=f,Bt=h}break;case 30:break;default:Qn(e,i)}}function qh(e){var n=e.alternate;n!==null&&(e.alternate=null,qh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&q(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var yt=null,fa=!1;function Gn(e,n,i){for(i=i.child;i!==null;)$h(e,n,i),i=i.sibling}function $h(e,n,i){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Mt,i)}catch{}switch(i.tag){case 26:Bt||vn(i,n),Gn(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Bt||vn(i,n);var c=yt,f=fa;Mr(i.type)&&(yt=i.stateNode,fa=!1),Gn(e,n,i),Ni(i.stateNode),yt=c,fa=f;break;case 5:Bt||vn(i,n);case 6:if(c=yt,f=fa,yt=null,Gn(e,n,i),yt=c,fa=f,yt!==null)if(fa)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(i.stateNode)}catch(h){lt(i,n,h)}else try{yt.removeChild(i.stateNode)}catch(h){lt(i,n,h)}break;case 18:yt!==null&&(fa?(e=yt,Pv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ol(e)):Pv(yt,i.stateNode));break;case 4:c=yt,f=fa,yt=i.stateNode.containerInfo,fa=!0,Gn(e,n,i),yt=c,fa=f;break;case 0:case 11:case 14:case 15:Nr(2,i,n),Bt||Nr(4,i,n),Gn(e,n,i);break;case 1:Bt||(vn(i,n),c=i.stateNode,typeof c.componentWillUnmount=="function"&&zh(i,n,c)),Gn(e,n,i);break;case 21:Gn(e,n,i);break;case 22:Bt=(c=Bt)||i.memoizedState!==null,Gn(e,n,i),Bt=c;break;default:Gn(e,n,i)}}function Vh(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ol(e)}catch(i){lt(n,n.return,i)}}}function Gh(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ol(e)}catch(i){lt(n,n.return,i)}}function YN(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Yh),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Yh),n;default:throw Error(t(435,e.tag))}}function Zo(e,n){var i=YN(e);n.forEach(function(c){if(!i.has(c)){i.add(c);var f=WN.bind(null,e,c);c.then(f,f)}})}function pa(e,n){var i=n.deletions;if(i!==null)for(var c=0;c<i.length;c++){var f=i[c],h=e,k=n,T=k;e:for(;T!==null;){switch(T.tag){case 27:if(Mr(T.type)){yt=T.stateNode,fa=!1;break e}break;case 5:yt=T.stateNode,fa=!1;break e;case 3:case 4:yt=T.stateNode.containerInfo,fa=!0;break e}T=T.return}if(yt===null)throw Error(t(160));$h(h,k,f),yt=null,fa=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Qh(n,e),n=n.sibling}var nn=null;function Qh(e,n){var i=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pa(n,e),xa(e),c&4&&(Nr(3,e,e.return),di(3,e),Nr(5,e,e.return));break;case 1:pa(n,e),xa(e),c&512&&(Bt||i===null||vn(i,i.return)),c&64&&Vn&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?c:i.concat(c))));break;case 26:var f=nn;if(pa(n,e),xa(e),c&512&&(Bt||i===null||vn(i,i.return)),c&4){var h=i!==null?i.memoizedState:null;if(c=e.memoizedState,i===null)if(c===null)if(e.stateNode===null){e:{c=e.type,i=e.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":h=f.getElementsByTagName("title")[0],(!h||h[Gr]||h[Yt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(c),f.head.insertBefore(h,f.querySelector("head > title"))),Xt(h,c,i),h[Yt]=e,$t(h),c=h;break e;case"link":var k=Qv("link","href",f).get(c+(i.href||""));if(k){for(var T=0;T<k.length;T++)if(h=k[T],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){k.splice(T,1);break t}}h=f.createElement(c),Xt(h,c,i),f.head.appendChild(h);break;case"meta":if(k=Qv("meta","content",f).get(c+(i.content||""))){for(T=0;T<k.length;T++)if(h=k[T],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){k.splice(T,1);break t}}h=f.createElement(c),Xt(h,c,i),f.head.appendChild(h);break;default:throw Error(t(468,c))}h[Yt]=e,$t(h),c=h}e.stateNode=c}else Kv(f,e.type,e.stateNode);else e.stateNode=Gv(f,c,e.memoizedProps);else h!==c?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,c===null?Kv(f,e.type,e.stateNode):Gv(f,c,e.memoizedProps)):c===null&&e.stateNode!==null&&um(e,e.memoizedProps,i.memoizedProps)}break;case 27:pa(n,e),xa(e),c&512&&(Bt||i===null||vn(i,i.return)),i!==null&&c&4&&um(e,e.memoizedProps,i.memoizedProps);break;case 5:if(pa(n,e),xa(e),c&512&&(Bt||i===null||vn(i,i.return)),e.flags&32){f=e.stateNode;try{Es(f,"")}catch(Se){lt(e,e.return,Se)}}c&4&&e.stateNode!=null&&(f=e.memoizedProps,um(e,f,i!==null?i.memoizedProps:f)),c&1024&&(fm=!0);break;case 6:if(pa(n,e),xa(e),c&4){if(e.stateNode===null)throw Error(t(162));c=e.memoizedProps,i=e.stateNode;try{i.nodeValue=c}catch(Se){lt(e,e.return,Se)}}break;case 3:if(pc=null,f=nn,nn=mc(n.containerInfo),pa(n,e),nn=f,xa(e),c&4&&i!==null&&i.memoizedState.isDehydrated)try{ol(n.containerInfo)}catch(Se){lt(e,e.return,Se)}fm&&(fm=!1,Kh(e));break;case 4:c=nn,nn=mc(e.stateNode.containerInfo),pa(n,e),xa(e),nn=c;break;case 12:pa(n,e),xa(e);break;case 31:pa(n,e),xa(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Zo(e,c)));break;case 13:pa(n,e),xa(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(ec=De()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Zo(e,c)));break;case 22:f=e.memoizedState!==null;var P=i!==null&&i.memoizedState!==null,X=Vn,re=Bt;if(Vn=X||f,Bt=re||P,pa(n,e),Bt=re,Vn=X,xa(e),c&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(i===null||P||Vn||Bt||cs(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){P=i=n;try{if(h=P.stateNode,f)k=h.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{T=P.stateNode;var ie=P.memoizedProps.style,Z=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;T.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Se){lt(P,P.return,Se)}}}else if(n.tag===6){if(i===null){P=n;try{P.stateNode.nodeValue=f?"":P.memoizedProps}catch(Se){lt(P,P.return,Se)}}}else if(n.tag===18){if(i===null){P=n;try{var ae=P.stateNode;f?zv(ae,!0):zv(P.stateNode,!1)}catch(Se){lt(P,P.return,Se)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(i=c.retryQueue,i!==null&&(c.retryQueue=null,Zo(e,i))));break;case 19:pa(n,e),xa(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Zo(e,c)));break;case 30:break;case 21:break;default:pa(n,e),xa(e)}}function xa(e){var n=e.flags;if(n&2){try{for(var i,c=e.return;c!==null;){if(Bh(c)){i=c;break}c=c.return}if(i==null)throw Error(t(160));switch(i.tag){case 27:var f=i.stateNode,h=dm(e);Wo(e,h,f);break;case 5:var k=i.stateNode;i.flags&32&&(Es(k,""),i.flags&=-33);var T=dm(e);Wo(e,T,k);break;case 3:case 4:var P=i.stateNode.containerInfo,X=dm(e);mm(e,X,P);break;default:throw Error(t(161))}}catch(re){lt(e,e.return,re)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Kh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Kh(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Qn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Uh(e,n.alternate,n),n=n.sibling}function cs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Nr(4,n,n.return),cs(n);break;case 1:vn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&zh(n,n.return,i),cs(n);break;case 27:Ni(n.stateNode);case 26:case 5:vn(n,n.return),cs(n);break;case 22:n.memoizedState===null&&cs(n);break;case 30:cs(n);break;default:cs(n)}e=e.sibling}}function Kn(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,f=e,h=n,k=h.flags;switch(h.tag){case 0:case 11:case 15:Kn(f,h,i),di(4,h);break;case 1:if(Kn(f,h,i),c=h,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(X){lt(c,c.return,X)}if(c=h,f=c.updateQueue,f!==null){var T=c.stateNode;try{var P=f.shared.hiddenCallbacks;if(P!==null)for(f.shared.hiddenCallbacks=null,f=0;f<P.length;f++)kx(P[f],T)}catch(X){lt(c,c.return,X)}}i&&k&64&&Ph(h),mi(h,h.return);break;case 27:Hh(h);case 26:case 5:Kn(f,h,i),i&&c===null&&k&4&&Fh(h),mi(h,h.return);break;case 12:Kn(f,h,i);break;case 31:Kn(f,h,i),i&&k&4&&Vh(f,h);break;case 13:Kn(f,h,i),i&&k&4&&Gh(f,h);break;case 22:h.memoizedState===null&&Kn(f,h,i),mi(h,h.return);break;case 30:break;default:Kn(f,h,i)}n=n.sibling}}function pm(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Zl(i))}function xm(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Zl(e))}function rn(e,n,i,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Xh(e,n,i,c),n=n.sibling}function Xh(e,n,i,c){var f=n.flags;switch(n.tag){case 0:case 11:case 15:rn(e,n,i,c),f&2048&&di(9,n);break;case 1:rn(e,n,i,c);break;case 3:rn(e,n,i,c),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Zl(e)));break;case 12:if(f&2048){rn(e,n,i,c),e=n.stateNode;try{var h=n.memoizedProps,k=h.id,T=h.onPostCommit;typeof T=="function"&&T(k,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(P){lt(n,n.return,P)}}else rn(e,n,i,c);break;case 31:rn(e,n,i,c);break;case 13:rn(e,n,i,c);break;case 23:break;case 22:h=n.stateNode,k=n.alternate,n.memoizedState!==null?h._visibility&2?rn(e,n,i,c):fi(e,n):h._visibility&2?rn(e,n,i,c):(h._visibility|=2,Ws(e,n,i,c,(n.subtreeFlags&10256)!==0||!1)),f&2048&&pm(k,n);break;case 24:rn(e,n,i,c),f&2048&&xm(n.alternate,n);break;default:rn(e,n,i,c)}}function Ws(e,n,i,c,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,k=n,T=i,P=c,X=k.flags;switch(k.tag){case 0:case 11:case 15:Ws(h,k,T,P,f),di(8,k);break;case 23:break;case 22:var re=k.stateNode;k.memoizedState!==null?re._visibility&2?Ws(h,k,T,P,f):fi(h,k):(re._visibility|=2,Ws(h,k,T,P,f)),f&&X&2048&&pm(k.alternate,k);break;case 24:Ws(h,k,T,P,f),f&&X&2048&&xm(k.alternate,k);break;default:Ws(h,k,T,P,f)}n=n.sibling}}function fi(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,c=n,f=c.flags;switch(c.tag){case 22:fi(i,c),f&2048&&pm(c.alternate,c);break;case 24:fi(i,c),f&2048&&xm(c.alternate,c);break;default:fi(i,c)}n=n.sibling}}var pi=8192;function Zs(e,n,i){if(e.subtreeFlags&pi)for(e=e.child;e!==null;)Wh(e,n,i),e=e.sibling}function Wh(e,n,i){switch(e.tag){case 26:Zs(e,n,i),e.flags&pi&&e.memoizedState!==null&&Mj(i,nn,e.memoizedState,e.memoizedProps);break;case 5:Zs(e,n,i);break;case 3:case 4:var c=nn;nn=mc(e.stateNode.containerInfo),Zs(e,n,i),nn=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=pi,pi=16777216,Zs(e,n,i),pi=c):Zs(e,n,i));break;default:Zs(e,n,i)}}function Zh(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function xi(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var c=n[i];Vt=c,ev(c,e)}Zh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Jh(e),e=e.sibling}function Jh(e){switch(e.tag){case 0:case 11:case 15:xi(e),e.flags&2048&&Nr(9,e,e.return);break;case 3:xi(e);break;case 12:xi(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Jo(e)):xi(e);break;default:xi(e)}}function Jo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var c=n[i];Vt=c,ev(c,e)}Zh(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Nr(8,n,n.return),Jo(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,Jo(n));break;default:Jo(n)}e=e.sibling}}function ev(e,n){for(;Vt!==null;){var i=Vt;switch(i.tag){case 0:case 11:case 15:Nr(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var c=i.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Zl(i.memoizedState.cache)}if(c=i.child,c!==null)c.return=i,Vt=c;else e:for(i=e;Vt!==null;){c=Vt;var f=c.sibling,h=c.return;if(qh(c),c===i){Vt=null;break e}if(f!==null){f.return=h,Vt=f;break e}Vt=h}}}var UN={getCacheForType:function(e){var n=Qt(Pt),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return Qt(Pt).controller.signal}},qN=typeof WeakMap=="function"?WeakMap:Map,at=0,pt=null,Be=null,Ve=0,st=0,Ta=null,jr=!1,Js=!1,hm=!1,Xn=0,kt=0,wr=0,us=0,vm=0,Ea=0,el=0,hi=null,ha=null,bm=!1,ec=0,tv=0,tc=1/0,ac=null,Sr=null,Ut=0,Cr=null,tl=null,Wn=0,gm=0,ym=null,av=null,vi=0,Nm=null;function _a(){return(at&2)!==0&&Ve!==0?Ve&-Ve:B.T!==null?Dm():co()}function nv(){if(Ea===0)if((Ve&536870912)===0||We){var e=Ba;Ba<<=1,(Ba&3932160)===0&&(Ba=262144),Ea=e}else Ea=536870912;return e=Ma.current,e!==null&&(e.flags|=32),Ea}function va(e,n,i){(e===pt&&(st===2||st===9)||e.cancelPendingCommit!==null)&&(al(e,0),kr(e,Ve,Ea,!1)),Vr(e,i),((at&2)===0||e!==pt)&&(e===pt&&((at&2)===0&&(us|=i),kt===4&&kr(e,Ve,Ea,!1)),bn(e))}function rv(e,n,i){if((at&6)!==0)throw Error(t(327));var c=!i&&(n&127)===0&&(n&e.expiredLanes)===0||$r(e,n),f=c?GN(e,n):wm(e,n,!0),h=c;do{if(f===0){Js&&!c&&kr(e,n,0,!1);break}else{if(i=e.current.alternate,h&&!$N(i)){f=wm(e,n,!1),h=!1;continue}if(f===2){if(h=n,e.errorRecoveryDisabledLanes&h)var k=0;else k=e.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){n=k;e:{var T=e;f=hi;var P=T.current.memoizedState.isDehydrated;if(P&&(al(T,k).flags|=256),k=wm(T,k,!1),k!==2){if(hm&&!P){T.errorRecoveryDisabledLanes|=h,us|=h,f=4;break e}h=ha,ha=f,h!==null&&(ha===null?ha=h:ha.push.apply(ha,h))}f=k}if(h=!1,f!==2)continue}}if(f===1){al(e,0),kr(e,n,0,!0);break}e:{switch(c=e,h=f,h){case 0:case 1:throw Error(t(345));case 4:if((n&4194048)!==n)break;case 6:kr(c,n,Ea,!jr);break e;case 2:ha=null;break;case 3:case 5:break;default:throw Error(t(329))}if((n&62914560)===n&&(f=ec+300-De(),10<f)){if(kr(c,n,Ea,!jr),Ms(c,0,!0)!==0)break e;Wn=n,c.timeoutHandle=Iv(sv.bind(null,c,i,ha,ac,bm,n,Ea,us,el,jr,h,"Throttled",-0,0),f);break e}sv(c,i,ha,ac,bm,n,Ea,us,el,jr,h,null,-0,0)}}break}while(!0);bn(e)}function sv(e,n,i,c,f,h,k,T,P,X,re,ie,Z,ae){if(e.timeoutHandle=-1,ie=n.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},Wh(n,h,ie);var Se=(h&62914560)===h?ec-De():(h&4194048)===h?tv-De():0;if(Se=Aj(ie,Se),Se!==null){Wn=h,e.cancelPendingCommit=Se(fv.bind(null,e,n,h,i,c,f,k,T,P,re,ie,null,Z,ae)),kr(e,h,k,!X);return}}fv(e,n,h,i,c,f,k,T,P)}function $N(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var c=0;c<i.length;c++){var f=i[c],h=f.getSnapshot;f=f.value;try{if(!ka(h(),f))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function kr(e,n,i,c){n&=~vm,n&=~us,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var f=n;0<f;){var h=31-Ht(f),k=1<<h;c[h]=-1,f&=~k}i!==0&&lo(e,i,n)}function nc(){return(at&6)===0?(bi(0),!1):!0}function jm(){if(Be!==null){if(st===0)var e=Be.return;else e=Be,Bn=ts=null,zd(e),Vs=null,ei=0,e=Be;for(;e!==null;)Lh(e.alternate,e),e=e.return;Be=null}}function al(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,dj(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Wn=0,jm(),pt=e,Be=i=zn(e.current,null),Ve=n,st=0,Ta=null,jr=!1,Js=$r(e,n),hm=!1,el=Ea=vm=us=wr=kt=0,ha=hi=null,bm=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var f=31-Ht(c),h=1<<f;n|=e[f],c&=~h}return Xn=n,So(),i}function lv(e,n){Ie=null,B.H=oi,n===$s||n===_o?(n=jx(),st=3):n===kd?(n=jx(),st=4):st=n===em?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ta=n,Be===null&&(kt=1,Vo(e,qa(n,e.current)))}function iv(){var e=Ma.current;return e===null?!0:(Ve&4194048)===Ve?Qa===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?e===Qa:!1}function ov(){var e=B.H;return B.H=oi,e===null?oi:e}function cv(){var e=B.A;return B.A=UN,e}function rc(){kt=4,jr||(Ve&4194048)!==Ve&&Ma.current!==null||(Js=!0),(wr&134217727)===0&&(us&134217727)===0||pt===null||kr(pt,Ve,Ea,!1)}function wm(e,n,i){var c=at;at|=2;var f=ov(),h=cv();(pt!==e||Ve!==n)&&(ac=null,al(e,n)),n=!1;var k=kt;e:do try{if(st!==0&&Be!==null){var T=Be,P=Ta;switch(st){case 8:jm(),k=6;break e;case 3:case 2:case 9:case 6:Ma.current===null&&(n=!0);var X=st;if(st=0,Ta=null,nl(e,T,P,X),i&&Js){k=0;break e}break;default:X=st,st=0,Ta=null,nl(e,T,P,X)}}VN(),k=kt;break}catch(re){lv(e,re)}while(!0);return n&&e.shellSuspendCounter++,Bn=ts=null,at=c,B.H=f,B.A=h,Be===null&&(pt=null,Ve=0,So()),k}function VN(){for(;Be!==null;)uv(Be)}function GN(e,n){var i=at;at|=2;var c=ov(),f=cv();pt!==e||Ve!==n?(ac=null,tc=De()+500,al(e,n)):Js=$r(e,n);e:do try{if(st!==0&&Be!==null){n=Be;var h=Ta;t:switch(st){case 1:st=0,Ta=null,nl(e,n,h,1);break;case 2:case 9:if(yx(h)){st=0,Ta=null,dv(n);break}n=function(){st!==2&&st!==9||pt!==e||(st=7),bn(e)},h.then(n,n);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:yx(h)?(st=0,Ta=null,dv(n)):(st=0,Ta=null,nl(e,n,h,7));break;case 5:var k=null;switch(Be.tag){case 26:k=Be.memoizedState;case 5:case 27:var T=Be;if(k?Xv(k):T.stateNode.complete){st=0,Ta=null;var P=T.sibling;if(P!==null)Be=P;else{var X=T.return;X!==null?(Be=X,sc(X)):Be=null}break t}}st=0,Ta=null,nl(e,n,h,5);break;case 6:st=0,Ta=null,nl(e,n,h,6);break;case 8:jm(),kt=6;break e;default:throw Error(t(462))}}QN();break}catch(re){lv(e,re)}while(!0);return Bn=ts=null,B.H=c,B.A=f,at=i,Be!==null?0:(pt=null,Ve=0,So(),kt)}function QN(){for(;Be!==null&&!L();)uv(Be)}function uv(e){var n=Rh(e.alternate,e,Xn);e.memoizedProps=e.pendingProps,n===null?sc(e):Be=n}function dv(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=Mh(i,n,n.pendingProps,n.type,void 0,Ve);break;case 11:n=Mh(i,n,n.pendingProps,n.type.render,n.ref,Ve);break;case 5:zd(n);default:Lh(i,n),n=Be=cx(n,Xn),n=Rh(i,n,Xn)}e.memoizedProps=e.pendingProps,n===null?sc(e):Be=n}function nl(e,n,i,c){Bn=ts=null,zd(n),Vs=null,ei=0;var f=n.return;try{if(LN(e,f,n,i,Ve)){kt=1,Vo(e,qa(i,e.current)),Be=null;return}}catch(h){if(f!==null)throw Be=f,h;kt=1,Vo(e,qa(i,e.current)),Be=null;return}n.flags&32768?(We||c===1?e=!0:Js||(Ve&536870912)!==0?e=!1:(jr=e=!0,(c===2||c===9||c===3||c===6)&&(c=Ma.current,c!==null&&c.tag===13&&(c.flags|=16384))),mv(n,e)):sc(n)}function sc(e){var n=e;do{if((n.flags&32768)!==0){mv(n,jr);return}e=n.return;var i=FN(n.alternate,n,Xn);if(i!==null){Be=i;return}if(n=n.sibling,n!==null){Be=n;return}Be=n=e}while(n!==null);kt===0&&(kt=5)}function mv(e,n){do{var i=BN(e.alternate,e);if(i!==null){i.flags&=32767,Be=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Be=e;return}Be=e=i}while(e!==null);kt=6,Be=null}function fv(e,n,i,c,f,h,k,T,P){e.cancelPendingCommit=null;do lc();while(Ut!==0);if((at&6)!==0)throw Error(t(327));if(n!==null){if(n===e.current)throw Error(t(177));if(h=n.lanes|n.childLanes,h|=dd,Hu(e,i,h,k,T,P),e===pt&&(Be=pt=null,Ve=0),tl=n,Cr=e,Wn=i,gm=h,ym=f,av=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ZN($e,function(){return bv(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=B.T,B.T=null,f=R.p,R.p=2,k=at,at|=4;try{HN(e,n,i)}finally{at=k,R.p=f,B.T=c}}Ut=1,pv(),xv(),hv()}}function pv(){if(Ut===1){Ut=0;var e=Cr,n=tl,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=B.T,B.T=null;var c=R.p;R.p=2;var f=at;at|=4;try{Qh(n,e);var h=Im,k=ex(e.containerInfo),T=h.focusedElem,P=h.selectionRange;if(k!==T&&T&&T.ownerDocument&&Jp(T.ownerDocument.documentElement,T)){if(P!==null&&ld(T)){var X=P.start,re=P.end;if(re===void 0&&(re=X),"selectionStart"in T)T.selectionStart=X,T.selectionEnd=Math.min(re,T.value.length);else{var ie=T.ownerDocument||document,Z=ie&&ie.defaultView||window;if(Z.getSelection){var ae=Z.getSelection(),Se=T.textContent.length,Te=Math.min(P.start,Se),ft=P.end===void 0?Te:Math.min(P.end,Se);!ae.extend&&Te>ft&&(k=ft,ft=Te,Te=k);var V=Zp(T,Te),Y=Zp(T,ft);if(V&&Y&&(ae.rangeCount!==1||ae.anchorNode!==V.node||ae.anchorOffset!==V.offset||ae.focusNode!==Y.node||ae.focusOffset!==Y.offset)){var K=ie.createRange();K.setStart(V.node,V.offset),ae.removeAllRanges(),Te>ft?(ae.addRange(K),ae.extend(Y.node,Y.offset)):(K.setEnd(Y.node,Y.offset),ae.addRange(K))}}}}for(ie=[],ae=T;ae=ae.parentNode;)ae.nodeType===1&&ie.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ie.length;T++){var le=ie[T];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}bc=!!Rm,Im=Rm=null}finally{at=f,R.p=c,B.T=i}}e.current=n,Ut=2}}function xv(){if(Ut===2){Ut=0;var e=Cr,n=tl,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=B.T,B.T=null;var c=R.p;R.p=2;var f=at;at|=4;try{Uh(e,n.alternate,n)}finally{at=f,R.p=c,B.T=i}}Ut=3}}function hv(){if(Ut===4||Ut===3){Ut=0,me();var e=Cr,n=tl,i=Wn,c=av;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ut=5:(Ut=0,tl=Cr=null,vv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Sr=null),Fl(i),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Mt,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=B.T,f=R.p,R.p=2,B.T=null;try{for(var h=e.onRecoverableError,k=0;k<c.length;k++){var T=c[k];h(T.value,{componentStack:T.stack})}}finally{B.T=n,R.p=f}}(Wn&3)!==0&&lc(),bn(e),f=e.pendingLanes,(i&261930)!==0&&(f&42)!==0?e===Nm?vi++:(vi=0,Nm=e):vi=0,bi(0)}}function vv(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Zl(n)))}function lc(){return pv(),xv(),hv(),bv()}function bv(){if(Ut!==5)return!1;var e=Cr,n=gm;gm=0;var i=Fl(Wn),c=B.T,f=R.p;try{R.p=32>i?32:i,B.T=null,i=ym,ym=null;var h=Cr,k=Wn;if(Ut=0,tl=Cr=null,Wn=0,(at&6)!==0)throw Error(t(331));var T=at;if(at|=4,Jh(h.current),Xh(h,h.current,k,i),at=T,bi(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Mt,h)}catch{}return!0}finally{R.p=f,B.T=c,vv(e,n)}}function gv(e,n,i){n=qa(i,n),n=Jd(e.stateNode,n,2),e=br(e,n,2),e!==null&&(Vr(e,2),bn(e))}function lt(e,n,i){if(e.tag===3)gv(e,e,i);else for(;n!==null;){if(n.tag===3){gv(n,e,i);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Sr===null||!Sr.has(c))){e=qa(i,e),i=yh(2),c=br(n,i,2),c!==null&&(Nh(i,c,n,e),Vr(c,2),bn(c));break}}n=n.return}}function Sm(e,n,i){var c=e.pingCache;if(c===null){c=e.pingCache=new qN;var f=new Set;c.set(n,f)}else f=c.get(n),f===void 0&&(f=new Set,c.set(n,f));f.has(i)||(hm=!0,f.add(i),e=KN.bind(null,e,n,i),n.then(e,e))}function KN(e,n,i){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,pt===e&&(Ve&i)===i&&(kt===4||kt===3&&(Ve&62914560)===Ve&&300>De()-ec?(at&2)===0&&al(e,0):vm|=i,el===Ve&&(el=0)),bn(e)}function yv(e,n){n===0&&(n=so()),e=Zr(e,n),e!==null&&(Vr(e,n),bn(e))}function XN(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),yv(e,i)}function WN(e,n){var i=0;switch(e.tag){case 31:case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(t(314))}c!==null&&c.delete(n),yv(e,i)}function ZN(e,n){return It(e,n)}var ic=null,rl=null,Cm=!1,oc=!1,km=!1,Dr=0;function bn(e){e!==rl&&e.next===null&&(rl===null?ic=rl=e:rl=rl.next=e),oc=!0,Cm||(Cm=!0,ej())}function bi(e,n){if(!km&&oc){km=!0;do for(var i=!1,c=ic;c!==null;){if(e!==0){var f=c.pendingLanes;if(f===0)var h=0;else{var k=c.suspendedLanes,T=c.pingedLanes;h=(1<<31-Ht(42|e)+1)-1,h&=f&~(k&~T),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,Sv(c,h))}else h=Ve,h=Ms(c,c===pt?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(h&3)===0||$r(c,h)||(i=!0,Sv(c,h));c=c.next}while(i);km=!1}}function JN(){Nv()}function Nv(){oc=Cm=!1;var e=0;Dr!==0&&uj()&&(e=Dr);for(var n=De(),i=null,c=ic;c!==null;){var f=c.next,h=jv(c,n);h===0?(c.next=null,i===null?ic=f:i.next=f,f===null&&(rl=i)):(i=c,(e!==0||(h&3)!==0)&&(oc=!0)),c=f}Ut!==0&&Ut!==5||bi(e),Dr!==0&&(Dr=0)}function jv(e,n){for(var i=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var k=31-Ht(h),T=1<<k,P=f[k];P===-1?((T&i)===0||(T&c)!==0)&&(f[k]=Bu(T,n)):P<=n&&(e.expiredLanes|=T),h&=~T}if(n=pt,i=Ve,i=Ms(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,i===0||e===n&&(st===2||st===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&da(c),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||$r(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(c!==null&&da(c),Fl(i)){case 2:case 8:i=Re;break;case 32:i=$e;break;case 268435456:i=Xe;break;default:i=$e}return c=wv.bind(null,e),i=It(i,c),e.callbackPriority=n,e.callbackNode=i,n}return c!==null&&c!==null&&da(c),e.callbackPriority=2,e.callbackNode=null,2}function wv(e,n){if(Ut!==0&&Ut!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(lc()&&e.callbackNode!==i)return null;var c=Ve;return c=Ms(e,e===pt?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(rv(e,c,n),jv(e,De()),e.callbackNode!=null&&e.callbackNode===i?wv.bind(null,e):null)}function Sv(e,n){if(lc())return null;rv(e,n,!0)}function ej(){mj(function(){(at&6)!==0?It(pe,JN):Nv()})}function Dm(){if(Dr===0){var e=Us;e===0&&(e=Fa,Fa<<=1,(Fa&261888)===0&&(Fa=256)),Dr=e}return Dr}function Cv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ho(""+e)}function kv(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function tj(e,n,i,c,f){if(n==="submit"&&i&&i.stateNode===f){var h=Cv((f[ea]||null).action),k=c.submitter;k&&(n=(n=k[ea]||null)?Cv(n.formAction):k.getAttribute("formAction"),n!==null&&(h=n,k=null));var T=new yo("action","action",null,c,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Dr!==0){var P=k?kv(f,k):new FormData(f);Gd(i,{pending:!0,data:P,method:f.method,action:h},null,P)}}else typeof h=="function"&&(T.preventDefault(),P=k?kv(f,k):new FormData(f),Gd(i,{pending:!0,data:P,method:f.method,action:h},h,P))},currentTarget:f}]})}}for(var Mm=0;Mm<ud.length;Mm++){var Am=ud[Mm],aj=Am.toLowerCase(),nj=Am[0].toUpperCase()+Am.slice(1);an(aj,"on"+nj)}an(nx,"onAnimationEnd"),an(rx,"onAnimationIteration"),an(sx,"onAnimationStart"),an("dblclick","onDoubleClick"),an("focusin","onFocus"),an("focusout","onBlur"),an(gN,"onTransitionRun"),an(yN,"onTransitionStart"),an(NN,"onTransitionCancel"),an(lx,"onTransitionEnd"),As("onMouseEnter",["mouseout","mouseover"]),As("onMouseLeave",["mouseout","mouseover"]),As("onPointerEnter",["pointerout","pointerover"]),As("onPointerLeave",["pointerout","pointerover"]),Qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gi));function Dv(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var c=e[i],f=c.event;c=c.listeners;e:{var h=void 0;if(n)for(var k=c.length-1;0<=k;k--){var T=c[k],P=T.instance,X=T.currentTarget;if(T=T.listener,P!==h&&f.isPropagationStopped())break e;h=T,f.currentTarget=X;try{h(f)}catch(re){wo(re)}f.currentTarget=null,h=P}else for(k=0;k<c.length;k++){if(T=c[k],P=T.instance,X=T.currentTarget,T=T.listener,P!==h&&f.isPropagationStopped())break e;h=T,f.currentTarget=X;try{h(f)}catch(re){wo(re)}f.currentTarget=null,h=P}}}}function He(e,n){var i=n[Bl];i===void 0&&(i=n[Bl]=new Set);var c=e+"__bubble";i.has(c)||(Mv(n,e,2,!1),i.add(c))}function Tm(e,n,i){var c=0;n&&(c|=4),Mv(i,e,c,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function Em(e){if(!e[cc]){e[cc]=!0,Np.forEach(function(i){i!=="selectionchange"&&(rj.has(i)||Tm(i,!1,e),Tm(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cc]||(n[cc]=!0,Tm("selectionchange",!1,n))}}function Mv(e,n,i,c){switch(n0(n)){case 2:var f=_j;break;case 8:f=Oj;break;default:f=Vm}i=f.bind(null,n,i,e),f=void 0,!Wu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(n,i,{capture:!0,passive:f}):e.addEventListener(n,i,!0):f!==void 0?e.addEventListener(n,i,{passive:f}):e.addEventListener(n,i,!1)}function _m(e,n,i,c,f){var h=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var k=c.tag;if(k===3||k===4){var T=c.stateNode.containerInfo;if(T===f)break;if(k===4)for(k=c.return;k!==null;){var P=k.tag;if((P===3||P===4)&&k.stateNode.containerInfo===f)return;k=k.return}for(;T!==null;){if(k=de(T),k===null)return;if(P=k.tag,P===5||P===6||P===26||P===27){c=h=k;continue e}T=T.parentNode}}c=c.return}Op(function(){var X=h,re=Ku(i),ie=[];e:{var Z=ix.get(e);if(Z!==void 0){var ae=yo,Se=e;switch(e){case"keypress":if(bo(i)===0)break e;case"keydown":case"keyup":ae=W1;break;case"focusin":Se="focus",ae=td;break;case"focusout":Se="blur",ae=td;break;case"beforeblur":case"afterblur":ae=td;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Lp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=F1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=eN;break;case nx:case rx:case sx:ae=Y1;break;case lx:ae=aN;break;case"scroll":case"scrollend":ae=P1;break;case"wheel":ae=rN;break;case"copy":case"cut":case"paste":ae=q1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=zp;break;case"toggle":case"beforetoggle":ae=lN}var Te=(n&4)!==0,ft=!Te&&(e==="scroll"||e==="scrollend"),V=Te?Z!==null?Z+"Capture":null:Z;Te=[];for(var Y=X,K;Y!==null;){var le=Y;if(K=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||K===null||V===null||(le=Hl(Y,V),le!=null&&Te.push(yi(Y,le,K))),ft)break;Y=Y.return}0<Te.length&&(Z=new ae(Z,Se,null,i,re),ie.push({event:Z,listeners:Te}))}}if((n&7)===0){e:{if(Z=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",Z&&i!==Qu&&(Se=i.relatedTarget||i.fromElement)&&(de(Se)||Se[ur]))break e;if((ae||Z)&&(Z=re.window===re?re:(Z=re.ownerDocument)?Z.defaultView||Z.parentWindow:window,ae?(Se=i.relatedTarget||i.toElement,ae=X,Se=Se?de(Se):null,Se!==null&&(ft=u(Se),Te=Se.tag,Se!==ft||Te!==5&&Te!==27&&Te!==6)&&(Se=null)):(ae=null,Se=X),ae!==Se)){if(Te=Lp,le="onMouseLeave",V="onMouseEnter",Y="mouse",(e==="pointerout"||e==="pointerover")&&(Te=zp,le="onPointerLeave",V="onPointerEnter",Y="pointer"),ft=ae==null?Z:Ca(ae),K=Se==null?Z:Ca(Se),Z=new Te(le,Y+"leave",ae,i,re),Z.target=ft,Z.relatedTarget=K,le=null,de(re)===X&&(Te=new Te(V,Y+"enter",Se,i,re),Te.target=K,Te.relatedTarget=ft,le=Te),ft=le,ae&&Se)t:{for(Te=sj,V=ae,Y=Se,K=0,le=V;le;le=Te(le))K++;le=0;for(var Me=Y;Me;Me=Te(Me))le++;for(;0<K-le;)V=Te(V),K--;for(;0<le-K;)Y=Te(Y),le--;for(;K--;){if(V===Y||Y!==null&&V===Y.alternate){Te=V;break t}V=Te(V),Y=Te(Y)}Te=null}else Te=null;ae!==null&&Av(ie,Z,ae,Te,!1),Se!==null&&ft!==null&&Av(ie,ft,Se,Te,!0)}}e:{if(Z=X?Ca(X):window,ae=Z.nodeName&&Z.nodeName.toLowerCase(),ae==="select"||ae==="input"&&Z.type==="file")var et=Vp;else if(qp(Z))if(Gp)et=hN;else{et=pN;var Ce=fN}else ae=Z.nodeName,!ae||ae.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&Gu(X.elementType)&&(et=Vp):et=xN;if(et&&(et=et(e,X))){$p(ie,et,i,re);break e}Ce&&Ce(e,Z,X),e==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&Vu(Z,"number",Z.value)}switch(Ce=X?Ca(X):window,e){case"focusin":(qp(Ce)||Ce.contentEditable==="true")&&(Is=Ce,id=X,Kl=null);break;case"focusout":Kl=id=Is=null;break;case"mousedown":od=!0;break;case"contextmenu":case"mouseup":case"dragend":od=!1,tx(ie,i,re);break;case"selectionchange":if(bN)break;case"keydown":case"keyup":tx(ie,i,re)}var Pe;if(nd)e:{switch(e){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Rs?Yp(e,i)&&(Ge="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ge="onCompositionStart");Ge&&(Fp&&i.locale!=="ko"&&(Rs||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Rs&&(Pe=Rp()):(dr=re,Zu="value"in dr?dr.value:dr.textContent,Rs=!0)),Ce=uc(X,Ge),0<Ce.length&&(Ge=new Pp(Ge,e,null,i,re),ie.push({event:Ge,listeners:Ce}),Pe?Ge.data=Pe:(Pe=Up(i),Pe!==null&&(Ge.data=Pe)))),(Pe=oN?cN(e,i):uN(e,i))&&(Ge=uc(X,"onBeforeInput"),0<Ge.length&&(Ce=new Pp("onBeforeInput","beforeinput",null,i,re),ie.push({event:Ce,listeners:Ge}),Ce.data=Pe)),tj(ie,e,X,i,re)}Dv(ie,n)})}function yi(e,n,i){return{instance:e,listener:n,currentTarget:i}}function uc(e,n){for(var i=n+"Capture",c=[];e!==null;){var f=e,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Hl(e,i),f!=null&&c.unshift(yi(e,f,h)),f=Hl(e,n),f!=null&&c.push(yi(e,f,h))),e.tag===3)return c;e=e.return}return[]}function sj(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Av(e,n,i,c,f){for(var h=n._reactName,k=[];i!==null&&i!==c;){var T=i,P=T.alternate,X=T.stateNode;if(T=T.tag,P!==null&&P===c)break;T!==5&&T!==26&&T!==27||X===null||(P=X,f?(X=Hl(i,h),X!=null&&k.unshift(yi(i,X,P))):f||(X=Hl(i,h),X!=null&&k.push(yi(i,X,P)))),i=i.return}k.length!==0&&e.push({event:n,listeners:k})}var lj=/\r\n?/g,ij=/\u0000|\uFFFD/g;function Tv(e){return(typeof e=="string"?e:""+e).replace(lj,`
`).replace(ij,"")}function Ev(e,n){return n=Tv(n),Tv(e)===n}function mt(e,n,i,c,f,h){switch(i){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||Es(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&Es(e,""+c);break;case"className":po(e,"class",c);break;case"tabIndex":po(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":po(e,i,c);break;case"style":Ep(e,c,h);break;case"data":if(n!=="object"){po(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(i);break}c=ho(""+c),e.setAttribute(i,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(n!=="input"&&mt(e,n,"name",f.name,f,null),mt(e,n,"formEncType",f.formEncType,f,null),mt(e,n,"formMethod",f.formMethod,f,null),mt(e,n,"formTarget",f.formTarget,f,null)):(mt(e,n,"encType",f.encType,f,null),mt(e,n,"method",f.method,f,null),mt(e,n,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(i);break}c=ho(""+c),e.setAttribute(i,c);break;case"onClick":c!=null&&(e.onclick=Ln);break;case"onScroll":c!=null&&He("scroll",e);break;case"onScrollEnd":c!=null&&He("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(t(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(t(60));e.innerHTML=i}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}i=ho(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,""+c):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":c===!0?e.setAttribute(i,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,c):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(i,c):e.removeAttribute(i);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(i):e.setAttribute(i,c);break;case"popover":He("beforetoggle",e),He("toggle",e),fo(e,"popover",c);break;case"xlinkActuate":In(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":In(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":In(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":In(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":In(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":In(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":In(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":In(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":In(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":fo(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=I1.get(i)||i,fo(e,i,c))}}function Om(e,n,i,c,f,h){switch(i){case"style":Ep(e,c,h);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(t(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(t(60));e.innerHTML=i}}break;case"children":typeof c=="string"?Es(e,c):(typeof c=="number"||typeof c=="bigint")&&Es(e,""+c);break;case"onScroll":c!=null&&He("scroll",e);break;case"onScrollEnd":c!=null&&He("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jp.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),n=i.slice(2,f?i.length-7:void 0),h=e[ea]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(n,h,f),typeof c=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,c,f);break e}i in e?e[i]=c:c===!0?e.setAttribute(i,""):fo(e,i,c)}}}function Xt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",e),He("load",e);var c=!1,f=!1,h;for(h in i)if(i.hasOwnProperty(h)){var k=i[h];if(k!=null)switch(h){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(t(137,n));default:mt(e,n,h,k,i,null)}}f&&mt(e,n,"srcSet",i.srcSet,i,null),c&&mt(e,n,"src",i.src,i,null);return;case"input":He("invalid",e);var T=h=k=f=null,P=null,X=null;for(c in i)if(i.hasOwnProperty(c)){var re=i[c];if(re!=null)switch(c){case"name":f=re;break;case"type":k=re;break;case"checked":P=re;break;case"defaultChecked":X=re;break;case"value":h=re;break;case"defaultValue":T=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(t(137,n));break;default:mt(e,n,c,re,i,null)}}Dp(e,h,T,P,X,k,f,!1);return;case"select":He("invalid",e),c=k=h=null;for(f in i)if(i.hasOwnProperty(f)&&(T=i[f],T!=null))switch(f){case"value":h=T;break;case"defaultValue":k=T;break;case"multiple":c=T;default:mt(e,n,f,T,i,null)}n=h,i=k,e.multiple=!!c,n!=null?Ts(e,!!c,n,!1):i!=null&&Ts(e,!!c,i,!0);return;case"textarea":He("invalid",e),h=f=c=null;for(k in i)if(i.hasOwnProperty(k)&&(T=i[k],T!=null))switch(k){case"value":c=T;break;case"defaultValue":f=T;break;case"children":h=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(t(91));break;default:mt(e,n,k,T,i,null)}Ap(e,c,f,h);return;case"option":for(P in i)i.hasOwnProperty(P)&&(c=i[P],c!=null)&&(P==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":mt(e,n,P,c,i,null));return;case"dialog":He("beforetoggle",e),He("toggle",e),He("cancel",e),He("close",e);break;case"iframe":case"object":He("load",e);break;case"video":case"audio":for(c=0;c<gi.length;c++)He(gi[c],e);break;case"image":He("error",e),He("load",e);break;case"details":He("toggle",e);break;case"embed":case"source":case"link":He("error",e),He("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in i)if(i.hasOwnProperty(X)&&(c=i[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(t(137,n));default:mt(e,n,X,c,i,null)}return;default:if(Gu(n)){for(re in i)i.hasOwnProperty(re)&&(c=i[re],c!==void 0&&Om(e,n,re,c,i,void 0));return}}for(T in i)i.hasOwnProperty(T)&&(c=i[T],c!=null&&mt(e,n,T,c,i,null))}function oj(e,n,i,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,k=null,T=null,P=null,X=null,re=null;for(ae in i){var ie=i[ae];if(i.hasOwnProperty(ae)&&ie!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":P=ie;default:c.hasOwnProperty(ae)||mt(e,n,ae,null,c,ie)}}for(var Z in c){var ae=c[Z];if(ie=i[Z],c.hasOwnProperty(Z)&&(ae!=null||ie!=null))switch(Z){case"type":h=ae;break;case"name":f=ae;break;case"checked":X=ae;break;case"defaultChecked":re=ae;break;case"value":k=ae;break;case"defaultValue":T=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(t(137,n));break;default:ae!==ie&&mt(e,n,Z,ae,c,ie)}}$u(e,k,T,P,X,re,h,f);return;case"select":ae=k=T=Z=null;for(h in i)if(P=i[h],i.hasOwnProperty(h)&&P!=null)switch(h){case"value":break;case"multiple":ae=P;default:c.hasOwnProperty(h)||mt(e,n,h,null,c,P)}for(f in c)if(h=c[f],P=i[f],c.hasOwnProperty(f)&&(h!=null||P!=null))switch(f){case"value":Z=h;break;case"defaultValue":T=h;break;case"multiple":k=h;default:h!==P&&mt(e,n,f,h,c,P)}n=T,i=k,c=ae,Z!=null?Ts(e,!!i,Z,!1):!!c!=!!i&&(n!=null?Ts(e,!!i,n,!0):Ts(e,!!i,i?[]:"",!1));return;case"textarea":ae=Z=null;for(T in i)if(f=i[T],i.hasOwnProperty(T)&&f!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:mt(e,n,T,null,c,f)}for(k in c)if(f=c[k],h=i[k],c.hasOwnProperty(k)&&(f!=null||h!=null))switch(k){case"value":Z=f;break;case"defaultValue":ae=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(t(91));break;default:f!==h&&mt(e,n,k,f,c,h)}Mp(e,Z,ae);return;case"option":for(var Se in i)Z=i[Se],i.hasOwnProperty(Se)&&Z!=null&&!c.hasOwnProperty(Se)&&(Se==="selected"?e.selected=!1:mt(e,n,Se,null,c,Z));for(P in c)Z=c[P],ae=i[P],c.hasOwnProperty(P)&&Z!==ae&&(Z!=null||ae!=null)&&(P==="selected"?e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":mt(e,n,P,Z,c,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in i)Z=i[Te],i.hasOwnProperty(Te)&&Z!=null&&!c.hasOwnProperty(Te)&&mt(e,n,Te,null,c,Z);for(X in c)if(Z=c[X],ae=i[X],c.hasOwnProperty(X)&&Z!==ae&&(Z!=null||ae!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(t(137,n));break;default:mt(e,n,X,Z,c,ae)}return;default:if(Gu(n)){for(var ft in i)Z=i[ft],i.hasOwnProperty(ft)&&Z!==void 0&&!c.hasOwnProperty(ft)&&Om(e,n,ft,void 0,c,Z);for(re in c)Z=c[re],ae=i[re],!c.hasOwnProperty(re)||Z===ae||Z===void 0&&ae===void 0||Om(e,n,re,Z,c,ae);return}}for(var V in i)Z=i[V],i.hasOwnProperty(V)&&Z!=null&&!c.hasOwnProperty(V)&&mt(e,n,V,null,c,Z);for(ie in c)Z=c[ie],ae=i[ie],!c.hasOwnProperty(ie)||Z===ae||Z==null&&ae==null||mt(e,n,ie,Z,c,ae)}function _v(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cj(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),c=0;c<i.length;c++){var f=i[c],h=f.transferSize,k=f.initiatorType,T=f.duration;if(h&&T&&_v(k)){for(k=0,T=f.responseEnd,c+=1;c<i.length;c++){var P=i[c],X=P.startTime;if(X>T)break;var re=P.transferSize,ie=P.initiatorType;re&&_v(ie)&&(P=P.responseEnd,k+=re*(P<T?1:(T-X)/(P-X)))}if(--c,n+=8*(h+k)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Rm=null,Im=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function Ov(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Lm(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Pm=null;function uj(){var e=window.event;return e&&e.type==="popstate"?e===Pm?!1:(Pm=e,!0):(Pm=null,!1)}var Iv=typeof setTimeout=="function"?setTimeout:void 0,dj=typeof clearTimeout=="function"?clearTimeout:void 0,Lv=typeof Promise=="function"?Promise:void 0,mj=typeof queueMicrotask=="function"?queueMicrotask:typeof Lv<"u"?function(e){return Lv.resolve(null).then(e).catch(fj)}:Iv;function fj(e){setTimeout(function(){throw e})}function Mr(e){return e==="head"}function Pv(e,n){var i=n,c=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(c===0){e.removeChild(f),ol(n);return}c--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")c++;else if(i==="html")Ni(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Ni(i);for(var h=i.firstChild;h;){var k=h.nextSibling,T=h.nodeName;h[Gr]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=k}}else i==="body"&&Ni(e.ownerDocument.body);i=f}while(i);ol(n)}function zv(e,n){var i=e;e=0;do{var c=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=c}while(i)}function zm(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":zm(i),q(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function pj(e,n,i,c){for(;e.nodeType===1;){var f=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Gr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Ka(e.nextSibling),e===null)break}return null}function xj(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ka(e.nextSibling),e===null))return null;return e}function Fv(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ka(e.nextSibling),e===null))return null;return e}function Fm(e){return e.data==="$?"||e.data==="$~"}function Bm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function hj(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var c=function(){n(),i.removeEventListener("DOMContentLoaded",c)};i.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Ka(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Hm=null;function Bv(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return Ka(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function Hv(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function Yv(e,n,i){switch(n=dc(i),e){case"html":if(e=n.documentElement,!e)throw Error(t(452));return e;case"head":if(e=n.head,!e)throw Error(t(453));return e;case"body":if(e=n.body,!e)throw Error(t(454));return e;default:throw Error(t(451))}}function Ni(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);q(e)}var Xa=new Map,Uv=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zn=R.d;R.d={f:vj,r:bj,D:gj,C:yj,L:Nj,m:jj,X:Sj,S:wj,M:Cj};function vj(){var e=Zn.f(),n=nc();return e||n}function bj(e){var n=Lt(e);n!==null&&n.tag===5&&n.type==="form"?lh(n):Zn.r(e)}var sl=typeof document>"u"?null:document;function qv(e,n,i){var c=sl;if(c&&typeof n=="string"&&n){var f=Ya(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),Uv.has(f)||(Uv.add(f),e={rel:e,crossOrigin:i,href:n},c.querySelector(f)===null&&(n=c.createElement("link"),Xt(n,"link",e),$t(n),c.head.appendChild(n)))}}function gj(e){Zn.D(e),qv("dns-prefetch",e,null)}function yj(e,n){Zn.C(e,n),qv("preconnect",e,n)}function Nj(e,n,i){Zn.L(e,n,i);var c=sl;if(c&&e&&n){var f='link[rel="preload"][as="'+Ya(n)+'"]';n==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+Ya(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+Ya(i.imageSizes)+'"]')):f+='[href="'+Ya(e)+'"]';var h=f;switch(n){case"style":h=ll(e);break;case"script":h=il(e)}Xa.has(h)||(e=b({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Xa.set(h,e),c.querySelector(f)!==null||n==="style"&&c.querySelector(ji(h))||n==="script"&&c.querySelector(wi(h))||(n=c.createElement("link"),Xt(n,"link",e),$t(n),c.head.appendChild(n)))}}function jj(e,n){Zn.m(e,n);var i=sl;if(i&&e){var c=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Ya(c)+'"][href="'+Ya(e)+'"]',h=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=il(e)}if(!Xa.has(h)&&(e=b({rel:"modulepreload",href:e},n),Xa.set(h,e),i.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(wi(h)))return}c=i.createElement("link"),Xt(c,"link",e),$t(c),i.head.appendChild(c)}}}function wj(e,n,i){Zn.S(e,n,i);var c=sl;if(c&&e){var f=tn(c).hoistableStyles,h=ll(e);n=n||"default";var k=f.get(h);if(!k){var T={loading:0,preload:null};if(k=c.querySelector(ji(h)))T.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Xa.get(h))&&Ym(e,i);var P=k=c.createElement("link");$t(P),Xt(P,"link",e),P._p=new Promise(function(X,re){P.onload=X,P.onerror=re}),P.addEventListener("load",function(){T.loading|=1}),P.addEventListener("error",function(){T.loading|=2}),T.loading|=4,fc(k,n,c)}k={type:"stylesheet",instance:k,count:1,state:T},f.set(h,k)}}}function Sj(e,n){Zn.X(e,n);var i=sl;if(i&&e){var c=tn(i).hoistableScripts,f=il(e),h=c.get(f);h||(h=i.querySelector(wi(f)),h||(e=b({src:e,async:!0},n),(n=Xa.get(f))&&Um(e,n),h=i.createElement("script"),$t(h),Xt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(f,h))}}function Cj(e,n){Zn.M(e,n);var i=sl;if(i&&e){var c=tn(i).hoistableScripts,f=il(e),h=c.get(f);h||(h=i.querySelector(wi(f)),h||(e=b({src:e,async:!0,type:"module"},n),(n=Xa.get(f))&&Um(e,n),h=i.createElement("script"),$t(h),Xt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(f,h))}}function $v(e,n,i,c){var f=(f=be.current)?mc(f):null;if(!f)throw Error(t(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=ll(i.href),i=tn(f).hoistableStyles,c=i.get(n),c||(c={type:"style",instance:null,count:0,state:null},i.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=ll(i.href);var h=tn(f).hoistableStyles,k=h.get(e);if(k||(f=f.ownerDocument||f,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,k),(h=f.querySelector(ji(e)))&&!h._p&&(k.instance=h,k.state.loading=5),Xa.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Xa.set(e,i),h||kj(f,e,i,k.state))),n&&c===null)throw Error(t(528,""));return k}if(n&&c!==null)throw Error(t(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=il(i),i=tn(f).hoistableScripts,c=i.get(n),c||(c={type:"script",instance:null,count:0,state:null},i.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(t(444,e))}}function ll(e){return'href="'+Ya(e)+'"'}function ji(e){return'link[rel="stylesheet"]['+e+"]"}function Vv(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function kj(e,n,i,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),Xt(n,"link",i),$t(n),e.head.appendChild(n))}function il(e){return'[src="'+Ya(e)+'"]'}function wi(e){return"script[async]"+e}function Gv(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+Ya(i.href)+'"]');if(c)return n.instance=c,$t(c),c;var f=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),$t(c),Xt(c,"style",f),fc(c,i.precedence,e),n.instance=c;case"stylesheet":f=ll(i.href);var h=e.querySelector(ji(f));if(h)return n.state.loading|=4,n.instance=h,$t(h),h;c=Vv(i),(f=Xa.get(f))&&Ym(c,f),h=(e.ownerDocument||e).createElement("link"),$t(h);var k=h;return k._p=new Promise(function(T,P){k.onload=T,k.onerror=P}),Xt(h,"link",c),n.state.loading|=4,fc(h,i.precedence,e),n.instance=h;case"script":return h=il(i.src),(f=e.querySelector(wi(h)))?(n.instance=f,$t(f),f):(c=i,(f=Xa.get(h))&&(c=b({},i),Um(c,f)),e=e.ownerDocument||e,f=e.createElement("script"),$t(f),Xt(f,"link",c),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(t(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,fc(c,i.precedence,e));return n.instance}function fc(e,n,i){for(var c=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,h=f,k=0;k<c.length;k++){var T=c[k];if(T.dataset.precedence===n)h=T;else if(h!==f)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Ym(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Um(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function Qv(e,n,i){if(pc===null){var c=new Map,f=pc=new Map;f.set(i,c)}else f=pc,c=f.get(i),c||(c=new Map,f.set(i,c));if(c.has(e))return c;for(c.set(e,null),i=i.getElementsByTagName(e),f=0;f<i.length;f++){var h=i[f];if(!(h[Gr]||h[Yt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var k=h.getAttribute(n)||"";k=e+k;var T=c.get(k);T?T.push(h):c.set(k,[h])}}return c}function Kv(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function Dj(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Xv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Mj(e,n,i,c){if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=ll(c.href),h=n.querySelector(ji(f));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=xc.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=h,$t(h);return}h=n.ownerDocument||n,c=Vv(c),(f=Xa.get(f))&&Ym(c,f),h=h.createElement("link"),$t(h);var k=h;k._p=new Promise(function(T,P){k.onload=T,k.onerror=P}),Xt(h,"link",c),i.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=xc.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var qm=0;function Aj(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var c=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&qm===0&&(qm=62500*cj());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>qm?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hc=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hc=new Map,n.forEach(Tj,e),hc=null,xc.call(e))}function Tj(e,n){if(!(n.state.loading&4)){var i=hc.get(e);if(i)var c=i.get(null);else{i=new Map,hc.set(e,i);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var k=f[h];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(i.set(k.dataset.precedence,k),c=k)}c&&i.set(null,c)}f=n.instance,k=f.getAttribute("data-precedence"),h=i.get(k)||c,h===c&&i.set(null,f),i.set(k,f),this.count++,c=xc.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),h?h.parentNode.insertBefore(f,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Si={$$typeof:y,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function Ej(e,n,i,c,f,h,k,T,P){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pl(0),this.hiddenUpdates=Pl(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Wv(e,n,i,c,f,h,k,T,P,X,re,ie){return e=new Ej(e,n,i,k,P,X,re,ie,T),n=1,h===!0&&(n|=24),h=Da(3,null,null,n),e.current=h,h.stateNode=e,n=wd(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:c,isDehydrated:i,cache:n},Dd(h),e}function Zv(e){return e?(e=zs,e):zs}function Jv(e,n,i,c,f,h){f=Zv(f),c.context===null?c.context=f:c.pendingContext=f,c=vr(n),c.payload={element:i},h=h===void 0?null:h,h!==null&&(c.callback=h),i=br(e,c,n),i!==null&&(va(i,e,n),ai(i,e,n))}function e0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function $m(e,n){e0(e,n),(e=e.alternate)&&e0(e,n)}function t0(e){if(e.tag===13||e.tag===31){var n=Zr(e,67108864);n!==null&&va(n,e,67108864),$m(e,67108864)}}function a0(e){if(e.tag===13||e.tag===31){var n=_a();n=zl(n);var i=Zr(e,n);i!==null&&va(i,e,n),$m(e,n)}}var bc=!0;function _j(e,n,i,c){var f=B.T;B.T=null;var h=R.p;try{R.p=2,Vm(e,n,i,c)}finally{R.p=h,B.T=f}}function Oj(e,n,i,c){var f=B.T;B.T=null;var h=R.p;try{R.p=8,Vm(e,n,i,c)}finally{R.p=h,B.T=f}}function Vm(e,n,i,c){if(bc){var f=Gm(c);if(f===null)_m(e,n,c,gc,i),r0(e,c);else if(Ij(f,e,n,i,c))c.stopPropagation();else if(r0(e,c),n&4&&-1<Rj.indexOf(e)){for(;f!==null;){var h=Lt(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var k=Rn(h.pendingLanes);if(k!==0){var T=h;for(T.pendingLanes|=2,T.entangledLanes|=2;k;){var P=1<<31-Ht(k);T.entanglements[1]|=P,k&=~P}bn(h),(at&6)===0&&(tc=De()+500,bi(0))}}break;case 31:case 13:T=Zr(h,2),T!==null&&va(T,h,2),nc(),$m(h,2)}if(h=Gm(c),h===null&&_m(e,n,c,gc,i),h===f)break;f=h}f!==null&&c.stopPropagation()}else _m(e,n,c,null,i)}}function Gm(e){return e=Ku(e),Qm(e)}var gc=null;function Qm(e){if(gc=null,e=de(e),e!==null){var n=u(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=d(n),e!==null)return e;e=null}else if(i===31){if(e=m(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return gc=e,null}function n0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case pe:return 2;case Re:return 8;case $e:case Ke:return 32;case Xe:return 268435456;default:return 32}default:return 32}}var Km=!1,Ar=null,Tr=null,Er=null,Ci=new Map,ki=new Map,_r=[],Rj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function r0(e,n){switch(e){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":Ci.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ki.delete(n.pointerId)}}function Di(e,n,i,c,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:i,eventSystemFlags:c,nativeEvent:h,targetContainers:[f]},n!==null&&(n=Lt(n),n!==null&&t0(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function Ij(e,n,i,c,f){switch(n){case"focusin":return Ar=Di(Ar,e,n,i,c,f),!0;case"dragenter":return Tr=Di(Tr,e,n,i,c,f),!0;case"mouseover":return Er=Di(Er,e,n,i,c,f),!0;case"pointerover":var h=f.pointerId;return Ci.set(h,Di(Ci.get(h)||null,e,n,i,c,f)),!0;case"gotpointercapture":return h=f.pointerId,ki.set(h,Di(ki.get(h)||null,e,n,i,c,f)),!0}return!1}function s0(e){var n=de(e.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=d(i),n!==null){e.blockedOn=n,uo(e.priority,function(){a0(i)});return}}else if(n===31){if(n=m(i),n!==null){e.blockedOn=n,uo(e.priority,function(){a0(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Gm(e.nativeEvent);if(i===null){i=e.nativeEvent;var c=new i.constructor(i.type,i);Qu=c,i.target.dispatchEvent(c),Qu=null}else return n=Lt(i),n!==null&&t0(n),e.blockedOn=i,!1;n.shift()}return!0}function l0(e,n,i){yc(e)&&i.delete(n)}function Lj(){Km=!1,Ar!==null&&yc(Ar)&&(Ar=null),Tr!==null&&yc(Tr)&&(Tr=null),Er!==null&&yc(Er)&&(Er=null),Ci.forEach(l0),ki.forEach(l0)}function Nc(e,n){e.blockedOn===n&&(e.blockedOn=null,Km||(Km=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Lj)))}var jc=null;function i0(e){jc!==e&&(jc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){jc===e&&(jc=null);for(var n=0;n<e.length;n+=3){var i=e[n],c=e[n+1],f=e[n+2];if(typeof c!="function"){if(Qm(c||i)===null)continue;break}var h=Lt(i);h!==null&&(e.splice(n,3),n-=3,Gd(h,{pending:!0,data:f,method:i.method,action:c},c,f))}}))}function ol(e){function n(P){return Nc(P,e)}Ar!==null&&Nc(Ar,e),Tr!==null&&Nc(Tr,e),Er!==null&&Nc(Er,e),Ci.forEach(n),ki.forEach(n);for(var i=0;i<_r.length;i++){var c=_r[i];c.blockedOn===e&&(c.blockedOn=null)}for(;0<_r.length&&(i=_r[0],i.blockedOn===null);)s0(i),i.blockedOn===null&&_r.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(c=0;c<i.length;c+=3){var f=i[c],h=i[c+1],k=f[ea]||null;if(typeof h=="function")k||i0(i);else if(k){var T=null;if(h&&h.hasAttribute("formAction")){if(f=h,k=h[ea]||null)T=k.formAction;else if(Qm(f)!==null)continue}else T=k.action;typeof T=="function"?i[c+1]=T:(i.splice(c,3),c-=3),i0(i)}}}function o0(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(k){return f=k})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),c||setTimeout(i,20)}function i(){if(!c&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Xm(e){this._internalRoot=e}wc.prototype.render=Xm.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(t(409));var i=n.current,c=_a();Jv(i,c,e,n,null,null)},wc.prototype.unmount=Xm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Jv(e.current,2,null,e,null,null),nc(),n[ur]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=co();e={blockedOn:null,target:e,priority:n};for(var i=0;i<_r.length&&n!==0&&n<_r[i].priority;i++);_r.splice(i,0,e),i===0&&s0(e)}};var c0=l.version;if(c0!=="19.2.4")throw Error(t(527,c0,"19.2.4"));R.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(t(188)):(e=Object.keys(e).join(","),Error(t(268,e)));return e=p(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Pj={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{Mt=Sc.inject(Pj),Le=Sc}catch{}}return Ai.createRoot=function(e,n){if(!o(e))throw Error(t(299));var i=!1,c="",f=hh,h=vh,k=bh;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(k=n.onRecoverableError)),n=Wv(e,1,!1,null,null,i,c,null,f,h,k,o0),e[ur]=n.current,Em(e),new Xm(n)},Ai.hydrateRoot=function(e,n,i){if(!o(e))throw Error(t(299));var c=!1,f="",h=hh,k=vh,T=bh,P=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(k=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.formState!==void 0&&(P=i.formState)),n=Wv(e,1,!0,n,i??null,c,f,P,h,k,T,o0),n.context=Zv(null),i=n.current,c=_a(),c=zl(c),f=vr(c),f.callback=null,br(i,f,c),i=c,n.current.lanes=i,Vr(n,i),bn(n),e[ur]=n.current,Em(e),new wc(n)},Ai.version="19.2.4",Ai}var g0;function Gj(){if(g0)return Jm.exports;g0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),Jm.exports=Vj(),Jm.exports}var Qj=Gj();var y0="popstate";function Kj(s={}){function l(t,o){let{pathname:u,search:d,hash:m}=t.location;return kf("",{pathname:u,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(t,o){return typeof o=="string"?o:Vi(o)}return Wj(l,r,null,s)}function jt(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function cn(s,l){if(!s){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function Xj(){return Math.random().toString(36).substring(2,10)}function N0(s,l){return{usr:s.state,key:s.key,idx:l}}function kf(s,l,r=null,t){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof l=="string"?Tl(l):l,state:r,key:l&&l.key||t||Xj()}}function Vi({pathname:s="/",search:l="",hash:r=""}){return l&&l!=="?"&&(s+=l.charAt(0)==="?"?l:"?"+l),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Tl(s){let l={};if(s){let r=s.indexOf("#");r>=0&&(l.hash=s.substring(r),s=s.substring(0,r));let t=s.indexOf("?");t>=0&&(l.search=s.substring(t),s=s.substring(0,t)),s&&(l.pathname=s)}return l}function Wj(s,l,r,t={}){let{window:o=document.defaultView,v5Compat:u=!1}=t,d=o.history,m="POP",x=null,p=v();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function v(){return(d.state||{idx:null}).idx}function b(){m="POP";let g=v(),j=g==null?null:g-p;p=g,x&&x({action:m,location:S.location,delta:j})}function N(g,j){m="PUSH";let D=kf(S.location,g,j);p=v()+1;let y=N0(D,p),_=S.createHref(D);try{d.pushState(y,"",_)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;o.location.assign(_)}u&&x&&x({action:m,location:S.location,delta:1})}function C(g,j){m="REPLACE";let D=kf(S.location,g,j);p=v();let y=N0(D,p),_=S.createHref(D);d.replaceState(y,"",_),u&&x&&x({action:m,location:S.location,delta:0})}function M(g){return Zj(g)}let S={get action(){return m},get location(){return s(o,d)},listen(g){if(x)throw new Error("A history only accepts one active listener");return o.addEventListener(y0,b),x=g,()=>{o.removeEventListener(y0,b),x=null}},createHref(g){return l(o,g)},createURL:M,encodeLocation(g){let j=M(g);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:N,replace:C,go(g){return d.go(g)}};return S}function Zj(s,l=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),jt(r,"No window.location.(origin|href) available to create URL");let t=typeof s=="string"?s:Vi(s);return t=t.replace(/ $/,"%20"),!l&&t.startsWith("//")&&(t=r+t),new URL(t,r)}function mg(s,l,r="/"){return Jj(s,l,r,!1)}function Jj(s,l,r,t){let o=typeof l=="string"?Tl(l):l,u=sr(o.pathname||"/",r);if(u==null)return null;let d=fg(s);ew(d);let m=null;for(let x=0;m==null&&x<d.length;++x){let p=dw(u);m=cw(d[x],p,t)}return m}function fg(s,l=[],r=[],t="",o=!1){let u=(d,m,x=o,p)=>{let v={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(t)&&x)return;jt(v.relativePath.startsWith(t),`Absolute route path "${v.relativePath}" nested under path "${t}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(t.length)}let b=ar([t,v.relativePath]),N=r.concat(v);d.children&&d.children.length>0&&(jt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),fg(d.children,l,N,b,x)),!(d.path==null&&!d.index)&&l.push({path:b,score:iw(b,d.index),routesMeta:N})};return s.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))u(d,m);else for(let x of pg(d.path))u(d,m,!0,x)}),l}function pg(s){let l=s.split("/");if(l.length===0)return[];let[r,...t]=l,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(t.length===0)return o?[u,""]:[u];let d=pg(t.join("/")),m=[];return m.push(...d.map(x=>x===""?u:[u,x].join("/"))),o&&m.push(...d),m.map(x=>s.startsWith("/")&&x===""?"/":x)}function ew(s){s.sort((l,r)=>l.score!==r.score?r.score-l.score:ow(l.routesMeta.map(t=>t.childrenIndex),r.routesMeta.map(t=>t.childrenIndex)))}var tw=/^:[\w-]+$/,aw=3,nw=2,rw=1,sw=10,lw=-2,j0=s=>s==="*";function iw(s,l){let r=s.split("/"),t=r.length;return r.some(j0)&&(t+=lw),l&&(t+=nw),r.filter(o=>!j0(o)).reduce((o,u)=>o+(tw.test(u)?aw:u===""?rw:sw),t)}function ow(s,l){return s.length===l.length&&s.slice(0,-1).every((t,o)=>t===l[o])?s[s.length-1]-l[l.length-1]:0}function cw(s,l,r=!1){let{routesMeta:t}=s,o={},u="/",d=[];for(let m=0;m<t.length;++m){let x=t[m],p=m===t.length-1,v=u==="/"?l:l.slice(u.length)||"/",b=nu({path:x.relativePath,caseSensitive:x.caseSensitive,end:p},v),N=x.route;if(!b&&p&&r&&!t[t.length-1].route.index&&(b=nu({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:ar([u,b.pathname]),pathnameBase:xw(ar([u,b.pathnameBase])),route:N}),b.pathnameBase!=="/"&&(u=ar([u,b.pathnameBase]))}return d}function nu(s,l){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,t]=uw(s.path,s.caseSensitive,s.end),o=l.match(r);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:t.reduce((p,{paramName:v,isOptional:b},N)=>{if(v==="*"){let M=m[N]||"";d=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const C=m[N];return b&&!C?p[v]=void 0:p[v]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:s}}function uw(s,l=!1,r=!0){cn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let t=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,x)=>(t.push({paramName:m,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(t.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,l?void 0:"i"),t]}function dw(s){try{return s.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return cn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${l}).`),s}}function sr(s,l){if(l==="/")return s;if(!s.toLowerCase().startsWith(l.toLowerCase()))return null;let r=l.endsWith("/")?l.length-1:l.length,t=s.charAt(r);return t&&t!=="/"?null:s.slice(r)||"/"}var mw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function fw(s,l="/"){let{pathname:r,search:t="",hash:o=""}=typeof s=="string"?Tl(s):s,u;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?u=w0(r.substring(1),"/"):u=w0(r,l)):u=l,{pathname:u,search:hw(t),hash:vw(o)}}function w0(s,l){let r=l.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function nf(s,l,r,t){return`Cannot include a '${s}' character in a manually specified \`to.${l}\` field [${JSON.stringify(t)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pw(s){return s.filter((l,r)=>r===0||l.route.path&&l.route.path.length>0)}function $f(s){let l=pw(s);return l.map((r,t)=>t===l.length-1?r.pathname:r.pathnameBase)}function Vf(s,l,r,t=!1){let o;typeof s=="string"?o=Tl(s):(o={...s},jt(!o.pathname||!o.pathname.includes("?"),nf("?","pathname","search",o)),jt(!o.pathname||!o.pathname.includes("#"),nf("#","pathname","hash",o)),jt(!o.search||!o.search.includes("#"),nf("#","search","hash",o)));let u=s===""||o.pathname==="",d=u?"/":o.pathname,m;if(d==null)m=r;else{let b=l.length-1;if(!t&&d.startsWith("..")){let N=d.split("/");for(;N[0]==="..";)N.shift(),b-=1;o.pathname=N.join("/")}m=b>=0?l[b]:"/"}let x=fw(o,m),p=d&&d!=="/"&&d.endsWith("/"),v=(u||d===".")&&r.endsWith("/");return!x.pathname.endsWith("/")&&(p||v)&&(x.pathname+="/"),x}var ar=s=>s.join("/").replace(/\/\/+/g,"/"),xw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),hw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,vw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,bw=class{constructor(s,l,r,t=!1){this.status=s,this.statusText=l||"",this.internal=t,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function gw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function yw(s){return s.map(l=>l.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var xg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function hg(s,l){let r=s;if(typeof r!="string"||!mw.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let t=r,o=!1;if(xg)try{let u=new URL(window.location.href),d=r.startsWith("//")?new URL(u.protocol+r):new URL(r),m=sr(d.pathname,l);d.origin===u.origin&&m!=null?r=m+d.search+d.hash:o=!0}catch{cn(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:t,isExternal:o,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vg=["POST","PUT","PATCH","DELETE"];new Set(vg);var Nw=["GET",...vg];new Set(Nw);var El=w.createContext(null);El.displayName="DataRouter";var Cu=w.createContext(null);Cu.displayName="DataRouterState";var jw=w.createContext(!1),bg=w.createContext({isTransitioning:!1});bg.displayName="ViewTransition";var ww=w.createContext(new Map);ww.displayName="Fetchers";var Sw=w.createContext(null);Sw.displayName="Await";var Pa=w.createContext(null);Pa.displayName="Navigation";var Wi=w.createContext(null);Wi.displayName="Location";var dn=w.createContext({outlet:null,matches:[],isDataRoute:!1});dn.displayName="Route";var Gf=w.createContext(null);Gf.displayName="RouteError";var gg="REACT_ROUTER_ERROR",Cw="REDIRECT",kw="ROUTE_ERROR_RESPONSE";function Dw(s){if(s.startsWith(`${gg}:${Cw}:{`))try{let l=JSON.parse(s.slice(28));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.location=="string"&&typeof l.reloadDocument=="boolean"&&typeof l.replace=="boolean")return l}catch{}}function Mw(s){if(s.startsWith(`${gg}:${kw}:{`))try{let l=JSON.parse(s.slice(40));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string")return new bw(l.status,l.statusText,l.data)}catch{}}function Aw(s,{relative:l}={}){jt(_l(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:t}=w.useContext(Pa),{hash:o,pathname:u,search:d}=Zi(s,{relative:l}),m=u;return r!=="/"&&(m=u==="/"?r:ar([r,u])),t.createHref({pathname:m,search:d,hash:o})}function _l(){return w.useContext(Wi)!=null}function Ja(){return jt(_l(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Wi).location}var yg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ng(s){w.useContext(Pa).static||w.useLayoutEffect(s)}function Cs(){let{isDataRoute:s}=w.useContext(dn);return s?qw():Tw()}function Tw(){jt(_l(),"useNavigate() may be used only in the context of a <Router> component.");let s=w.useContext(El),{basename:l,navigator:r}=w.useContext(Pa),{matches:t}=w.useContext(dn),{pathname:o}=Ja(),u=JSON.stringify($f(t)),d=w.useRef(!1);return Ng(()=>{d.current=!0}),w.useCallback((x,p={})=>{if(cn(d.current,yg),!d.current)return;if(typeof x=="number"){r.go(x);return}let v=Vf(x,JSON.parse(u),o,p.relative==="path");s==null&&l!=="/"&&(v.pathname=v.pathname==="/"?l:ar([l,v.pathname])),(p.replace?r.replace:r.push)(v,p.state,p)},[l,r,u,o,s])}var Ew=w.createContext(null);function _w(s){let l=w.useContext(dn).outlet;return w.useMemo(()=>l&&w.createElement(Ew.Provider,{value:s},l),[l,s])}function Zi(s,{relative:l}={}){let{matches:r}=w.useContext(dn),{pathname:t}=Ja(),o=JSON.stringify($f(r));return w.useMemo(()=>Vf(s,JSON.parse(o),t,l==="path"),[s,o,t,l])}function Ow(s,l){return jg(s,l)}function jg(s,l,r,t,o){jt(_l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=w.useContext(Pa),{matches:d}=w.useContext(dn),m=d[d.length-1],x=m?m.params:{},p=m?m.pathname:"/",v=m?m.pathnameBase:"/",b=m&&m.route;{let D=b&&b.path||"";Sg(p,!b||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let N=Ja(),C;if(l){let D=typeof l=="string"?Tl(l):l;jt(v==="/"||D.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${D.pathname}" was given in the \`location\` prop.`),C=D}else C=N;let M=C.pathname||"/",S=M;if(v!=="/"){let D=v.replace(/^\//,"").split("/");S="/"+M.replace(/^\//,"").split("/").slice(D.length).join("/")}let g=mg(s,{pathname:S});cn(b||g!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),cn(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=zw(g&&g.map(D=>Object.assign({},D,{params:Object.assign({},x,D.params),pathname:ar([v,u.encodeLocation?u.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:ar([v,u.encodeLocation?u.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),d,r,t,o);return l&&j?w.createElement(Wi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},j):j}function Rw(){let s=Uw(),l=gw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,t="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:t},u={padding:"2px 4px",backgroundColor:t},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:u},"ErrorBoundary")," or"," ",w.createElement("code",{style:u},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},l),r?w.createElement("pre",{style:o},r):null,d)}var Iw=w.createElement(Rw,null),wg=class extends w.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,l){return l.location!==s.location||l.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:l.error,location:l.location,revalidation:s.revalidation||l.revalidation}}componentDidCatch(s,l){this.props.onError?this.props.onError(s,l):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const r=Mw(s.digest);r&&(s=r)}let l=s!==void 0?w.createElement(dn.Provider,{value:this.props.routeContext},w.createElement(Gf.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?w.createElement(Lw,{error:s},l):l}};wg.contextType=jw;var rf=new WeakMap;function Lw({children:s,error:l}){let{basename:r}=w.useContext(Pa);if(typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){let t=Dw(l.digest);if(t){let o=rf.get(l);if(o)throw o;let u=hg(t.location,r);if(xg&&!rf.get(l))if(u.isExternal||t.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:t.replace}));throw rf.set(l,d),d}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function Pw({routeContext:s,match:l,children:r}){let t=w.useContext(El);return t&&t.static&&t.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(t.staticContext._deepestRenderedBoundaryId=l.route.id),w.createElement(dn.Provider,{value:s},r)}function zw(s,l=[],r=null,t=null,o=null){if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(l.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let u=s,d=r?.errors;if(d!=null){let v=u.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);jt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,x=-1;if(r)for(let v=0;v<u.length;v++){let b=u[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(x=v),b.route.id){let{loaderData:N,errors:C}=r,M=b.route.loader&&!N.hasOwnProperty(b.route.id)&&(!C||C[b.route.id]===void 0);if(b.route.lazy||M){m=!0,x>=0?u=u.slice(0,x+1):u=[u[0]];break}}}let p=r&&t?(v,b)=>{t(v,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:yw(r.matches),errorInfo:b})}:void 0;return u.reduceRight((v,b,N)=>{let C,M=!1,S=null,g=null;r&&(C=d&&b.route.id?d[b.route.id]:void 0,S=b.route.errorElement||Iw,m&&(x<0&&N===0?(Sg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,g=null):x===N&&(M=!0,g=b.route.hydrateFallbackElement||null)));let j=l.concat(u.slice(0,N+1)),D=()=>{let y;return C?y=S:M?y=g:b.route.Component?y=w.createElement(b.route.Component,null):b.route.element?y=b.route.element:y=v,w.createElement(Pw,{match:b,routeContext:{outlet:v,matches:j,isDataRoute:r!=null},children:y})};return r&&(b.route.ErrorBoundary||b.route.errorElement||N===0)?w.createElement(wg,{location:r.location,revalidation:r.revalidation,component:S,error:C,children:D(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:p}):D()},null)}function Qf(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fw(s){let l=w.useContext(El);return jt(l,Qf(s)),l}function Bw(s){let l=w.useContext(Cu);return jt(l,Qf(s)),l}function Hw(s){let l=w.useContext(dn);return jt(l,Qf(s)),l}function Kf(s){let l=Hw(s),r=l.matches[l.matches.length-1];return jt(r.route.id,`${s} can only be used on routes that contain a unique "id"`),r.route.id}function Yw(){return Kf("useRouteId")}function Uw(){let s=w.useContext(Gf),l=Bw("useRouteError"),r=Kf("useRouteError");return s!==void 0?s:l.errors?.[r]}function qw(){let{router:s}=Fw("useNavigate"),l=Kf("useNavigate"),r=w.useRef(!1);return Ng(()=>{r.current=!0}),w.useCallback(async(o,u={})=>{cn(r.current,yg),r.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:l,...u}))},[s,l])}var S0={};function Sg(s,l,r){!l&&!S0[s]&&(S0[s]=!0,cn(!1,r))}w.memo($w);function $w({routes:s,future:l,state:r,onError:t}){return jg(s,void 0,r,t,l)}function ru({to:s,replace:l,state:r,relative:t}){jt(_l(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=w.useContext(Pa);cn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=w.useContext(dn),{pathname:d}=Ja(),m=Cs(),x=Vf(s,$f(u),d,t==="path"),p=JSON.stringify(x);return w.useEffect(()=>{m(JSON.parse(p),{replace:l,state:r,relative:t})},[m,p,t,l,r]),null}function Cg(s){return _w(s.context)}function Nt(s){jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Vw({basename:s="/",children:l=null,location:r,navigationType:t="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){jt(!_l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),x=w.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[m,o,u,d]);typeof r=="string"&&(r=Tl(r));let{pathname:p="/",search:v="",hash:b="",state:N=null,key:C="default"}=r,M=w.useMemo(()=>{let S=sr(p,m);return S==null?null:{location:{pathname:S,search:v,hash:b,state:N,key:C},navigationType:t}},[m,p,v,b,N,C,t]);return cn(M!=null,`<Router basename="${m}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:w.createElement(Pa.Provider,{value:x},w.createElement(Wi.Provider,{children:l,value:M}))}function Gw({children:s,location:l}){return Ow(Df(s),l)}function Df(s,l=[]){let r=[];return w.Children.forEach(s,(t,o)=>{if(!w.isValidElement(t))return;let u=[...l,o];if(t.type===w.Fragment){r.push.apply(r,Df(t.props.children,u));return}jt(t.type===Nt,`[${typeof t.type=="string"?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jt(!t.props.index||!t.props.children,"An index route cannot have child routes.");let d={id:t.props.id||u.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,middleware:t.props.middleware,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:t.props.hasErrorBoundary===!0||t.props.ErrorBoundary!=null||t.props.errorElement!=null,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(d.children=Df(t.props.children,u)),r.push(d)}),r}var Gc="get",Qc="application/x-www-form-urlencoded";function ku(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function Qw(s){return ku(s)&&s.tagName.toLowerCase()==="button"}function Kw(s){return ku(s)&&s.tagName.toLowerCase()==="form"}function Xw(s){return ku(s)&&s.tagName.toLowerCase()==="input"}function Ww(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Zw(s,l){return s.button===0&&(!l||l==="_self")&&!Ww(s)}var Cc=null;function Jw(){if(Cc===null)try{new FormData(document.createElement("form"),0),Cc=!1}catch{Cc=!0}return Cc}var e2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sf(s){return s!=null&&!e2.has(s)?(cn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qc}"`),null):s}function t2(s,l){let r,t,o,u,d;if(Kw(s)){let m=s.getAttribute("action");t=m?sr(m,l):null,r=s.getAttribute("method")||Gc,o=sf(s.getAttribute("enctype"))||Qc,u=new FormData(s)}else if(Qw(s)||Xw(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=s.getAttribute("formaction")||m.getAttribute("action");if(t=x?sr(x,l):null,r=s.getAttribute("formmethod")||m.getAttribute("method")||Gc,o=sf(s.getAttribute("formenctype"))||sf(m.getAttribute("enctype"))||Qc,u=new FormData(m,s),!Jw()){let{name:p,type:v,value:b}=s;if(v==="image"){let N=p?`${p}.`:"";u.append(`${N}x`,"0"),u.append(`${N}y`,"0")}else p&&u.append(p,b)}}else{if(ku(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Gc,t=null,o=Qc,d=s}return u&&o==="text/plain"&&(d=u,u=void 0),{action:t,method:r.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xf(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function a2(s,l,r,t){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${t}`:o.pathname=`${o.pathname}.${t}`:o.pathname==="/"?o.pathname=`_root.${t}`:l&&sr(o.pathname,l)==="/"?o.pathname=`${l.replace(/\/$/,"")}/_root.${t}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${t}`,o}async function n2(s,l){if(s.id in l)return l[s.id];try{let r=await import(s.module);return l[s.id]=r,r}catch(r){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function r2(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function s2(s,l,r){let t=await Promise.all(s.map(async o=>{let u=l.routes[o.route.id];if(u){let d=await n2(u,r);return d.links?d.links():[]}return[]}));return c2(t.flat(1).filter(r2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function C0(s,l,r,t,o,u){let d=(x,p)=>r[p]?x.route.id!==r[p].route.id:!0,m=(x,p)=>r[p].pathname!==x.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==x.params["*"];return u==="assets"?l.filter((x,p)=>d(x,p)||m(x,p)):u==="data"?l.filter((x,p)=>{let v=t.routes[x.route.id];if(!v||!v.hasLoader)return!1;if(d(x,p)||m(x,p))return!0;if(x.route.shouldRevalidate){let b=x.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function l2(s,l,{includeHydrateFallback:r}={}){return i2(s.map(t=>{let o=l.routes[t.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function i2(s){return[...new Set(s)]}function o2(s){let l={},r=Object.keys(s).sort();for(let t of r)l[t]=s[t];return l}function c2(s,l){let r=new Set;return new Set(l),s.reduce((t,o)=>{let u=JSON.stringify(o2(o));return r.has(u)||(r.add(u),t.push({key:u,link:o})),t},[])}function kg(){let s=w.useContext(El);return Xf(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function u2(){let s=w.useContext(Cu);return Xf(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Wf=w.createContext(void 0);Wf.displayName="FrameworkContext";function Dg(){let s=w.useContext(Wf);return Xf(s,"You must render this element inside a <HydratedRouter> element"),s}function d2(s,l){let r=w.useContext(Wf),[t,o]=w.useState(!1),[u,d]=w.useState(!1),{onFocus:m,onBlur:x,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=l,N=w.useRef(null);w.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let S=j=>{j.forEach(D=>{d(D.isIntersecting)})},g=new IntersectionObserver(S,{threshold:.5});return N.current&&g.observe(N.current),()=>{g.disconnect()}}},[s]),w.useEffect(()=>{if(t){let S=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(S)}}},[t]);let C=()=>{o(!0)},M=()=>{o(!1),d(!1)};return r?s!=="intent"?[u,N,{}]:[u,N,{onFocus:Ti(m,C),onBlur:Ti(x,M),onMouseEnter:Ti(p,C),onMouseLeave:Ti(v,M),onTouchStart:Ti(b,C)}]:[!1,N,{}]}function Ti(s,l){return r=>{s&&s(r),r.defaultPrevented||l(r)}}function m2({page:s,...l}){let{router:r}=kg(),t=w.useMemo(()=>mg(r.routes,s,r.basename),[r.routes,s,r.basename]);return t?w.createElement(p2,{page:s,matches:t,...l}):null}function f2(s){let{manifest:l,routeModules:r}=Dg(),[t,o]=w.useState([]);return w.useEffect(()=>{let u=!1;return s2(s,l,r).then(d=>{u||o(d)}),()=>{u=!0}},[s,l,r]),t}function p2({page:s,matches:l,...r}){let t=Ja(),{future:o,manifest:u,routeModules:d}=Dg(),{basename:m}=kg(),{loaderData:x,matches:p}=u2(),v=w.useMemo(()=>C0(s,l,p,u,t,"data"),[s,l,p,u,t]),b=w.useMemo(()=>C0(s,l,p,u,t,"assets"),[s,l,p,u,t]),N=w.useMemo(()=>{if(s===t.pathname+t.search+t.hash)return[];let S=new Set,g=!1;if(l.forEach(D=>{let y=u.routes[D.route.id];!y||!y.hasLoader||(!v.some(_=>_.route.id===D.route.id)&&D.route.id in x&&d[D.route.id]?.shouldRevalidate||y.hasClientLoader?g=!0:S.add(D.route.id))}),S.size===0)return[];let j=a2(s,m,o.unstable_trailingSlashAwareDataRequests,"data");return g&&S.size>0&&j.searchParams.set("_routes",l.filter(D=>S.has(D.route.id)).map(D=>D.route.id).join(",")),[j.pathname+j.search]},[m,o.unstable_trailingSlashAwareDataRequests,x,t,u,v,l,s,d]),C=w.useMemo(()=>l2(b,u),[b,u]),M=f2(b);return w.createElement(w.Fragment,null,N.map(S=>w.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),C.map(S=>w.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),M.map(({key:S,link:g})=>w.createElement("link",{key:S,nonce:r.nonce,...g,crossOrigin:g.crossOrigin??r.crossOrigin})))}function x2(...s){return l=>{s.forEach(r=>{typeof r=="function"?r(l):r!=null&&(r.current=l)})}}var h2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h2&&(window.__reactRouterVersion="7.13.0")}catch{}function v2({basename:s,children:l,unstable_useTransitions:r,window:t}){let o=w.useRef();o.current==null&&(o.current=Kj({window:t,v5Compat:!0}));let u=o.current,[d,m]=w.useState({action:u.action,location:u.location}),x=w.useCallback(p=>{r===!1?m(p):w.startTransition(()=>m(p))},[r]);return w.useLayoutEffect(()=>u.listen(x),[u,x]),w.createElement(Vw,{basename:s,children:l,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:r})}var Mg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hl=w.forwardRef(function({onClick:l,discover:r="render",prefetch:t="none",relative:o,reloadDocument:u,replace:d,state:m,target:x,to:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:N,...C},M){let{basename:S,unstable_useTransitions:g}=w.useContext(Pa),j=typeof p=="string"&&Mg.test(p),D=hg(p,S);p=D.to;let y=Aw(p,{relative:o}),[_,O,U]=d2(t,C),G=y2(p,{replace:d,state:m,target:x,preventScrollReset:v,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:N,unstable_useTransitions:g});function E(H){l&&l(H),H.defaultPrevented||G(H)}let z=w.createElement("a",{...C,...U,href:D.absoluteURL||y,onClick:D.isExternal||u?l:E,ref:x2(M,O),target:x,"data-discover":!j&&r==="render"?"true":void 0});return _&&!j?w.createElement(w.Fragment,null,z,w.createElement(m2,{page:y})):z});hl.displayName="Link";var Zf=w.forwardRef(function({"aria-current":l="page",caseSensitive:r=!1,className:t="",end:o=!1,style:u,to:d,viewTransition:m,children:x,...p},v){let b=Zi(d,{relative:p.relative}),N=Ja(),C=w.useContext(Cu),{navigator:M,basename:S}=w.useContext(Pa),g=C!=null&&C2(b)&&m===!0,j=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,D=N.pathname,y=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;r||(D=D.toLowerCase(),y=y?y.toLowerCase():null,j=j.toLowerCase()),y&&S&&(y=sr(y,S)||y);const _=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let O=D===j||!o&&D.startsWith(j)&&D.charAt(_)==="/",U=y!=null&&(y===j||!o&&y.startsWith(j)&&y.charAt(j.length)==="/"),G={isActive:O,isPending:U,isTransitioning:g},E=O?l:void 0,z;typeof t=="function"?z=t(G):z=[t,O?"active":null,U?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let H=typeof u=="function"?u(G):u;return w.createElement(hl,{...p,"aria-current":E,className:z,ref:v,style:H,to:d,viewTransition:m},typeof x=="function"?x(G):x)});Zf.displayName="NavLink";var b2=w.forwardRef(({discover:s="render",fetcherKey:l,navigate:r,reloadDocument:t,replace:o,state:u,method:d=Gc,action:m,onSubmit:x,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:N,...C},M)=>{let{unstable_useTransitions:S}=w.useContext(Pa),g=w2(),j=S2(m,{relative:p}),D=d.toLowerCase()==="get"?"get":"post",y=typeof m=="string"&&Mg.test(m),_=O=>{if(x&&x(O),O.defaultPrevented)return;O.preventDefault();let U=O.nativeEvent.submitter,G=U?.getAttribute("formmethod")||d,E=()=>g(U||O.currentTarget,{fetcherKey:l,method:G,navigate:r,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:N});S&&r!==!1?w.startTransition(()=>E()):E()};return w.createElement("form",{ref:M,method:D,action:j,onSubmit:t?x:_,...C,"data-discover":!y&&s==="render"?"true":void 0})});b2.displayName="Form";function g2(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ag(s){let l=w.useContext(El);return jt(l,g2(s)),l}function y2(s,{target:l,replace:r,state:t,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:m,unstable_useTransitions:x}={}){let p=Cs(),v=Ja(),b=Zi(s,{relative:u});return w.useCallback(N=>{if(Zw(N,l)){N.preventDefault();let C=r!==void 0?r:Vi(v)===Vi(b),M=()=>p(s,{replace:C,state:t,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:m});x?w.startTransition(()=>M()):M()}},[v,p,b,r,t,l,s,o,u,d,m,x])}var N2=0,j2=()=>`__${String(++N2)}__`;function w2(){let{router:s}=Ag("useSubmit"),{basename:l}=w.useContext(Pa),r=Yw(),t=s.fetch,o=s.navigate;return w.useCallback(async(u,d={})=>{let{action:m,method:x,encType:p,formData:v,body:b}=t2(u,l);if(d.navigate===!1){let N=d.fetcherKey||j2();await t(N,r,d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:b,formMethod:d.method||x,formEncType:d.encType||p,flushSync:d.flushSync})}else await o(d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:b,formMethod:d.method||x,formEncType:d.encType||p,replace:d.replace,state:d.state,fromRouteId:r,flushSync:d.flushSync,viewTransition:d.viewTransition})},[t,o,l,r])}function S2(s,{relative:l}={}){let{basename:r}=w.useContext(Pa),t=w.useContext(dn);jt(t,"useFormAction must be used inside a RouteContext");let[o]=t.matches.slice(-1),u={...Zi(s||".",{relative:l})},d=Ja();if(s==null){u.search=d.search;let m=new URLSearchParams(u.search),x=m.getAll("index");if(x.some(v=>v==="")){m.delete("index"),x.filter(b=>b).forEach(b=>m.append("index",b));let v=m.toString();u.search=v?`?${v}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:ar([r,u.pathname])),Vi(u)}function C2(s,{relative:l}={}){let r=w.useContext(bg);jt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:t}=Ag("useViewTransitionState"),o=Zi(s,{relative:l});if(!r.isTransitioning)return!1;let u=sr(r.currentLocation.pathname,t)||r.currentLocation.pathname,d=sr(r.nextLocation.pathname,t)||r.nextLocation.pathname;return nu(o.pathname,d)!=null||nu(o.pathname,u)!=null}var Tg=dg();const k2=cg(Tg),D2="AKfycbyDW__tLgVg_lV4yBPUIUP12JD0zpYgWEUL9zSTehPc2w2W71PoPhdqVVh-fcawHAe5",Jf="cf_access_token",ep="cf_token_expiry",tp="cf_user_name";function su(){const s=localStorage.getItem(ep);return s&&Date.now()>Number(s)?(Kc(),null):localStorage.getItem(Jf)}function k0(s,l=3500){localStorage.setItem(Jf,s),localStorage.setItem(ep,String(Date.now()+l*1e3))}function Kc(){localStorage.removeItem(Jf),localStorage.removeItem(ep),localStorage.removeItem(tp)}function D0(){return!!su()}function M0(s){localStorage.setItem(tp,s)}function M2(){return localStorage.getItem(tp)||""}let Mf=null;function A2(s){Mf=s}async function ye(s,l={},r=!0){const t=su();if(!t)throw new Error("Not authenticated. Please sign in.");const m=await(await fetch(`https://script.googleapis.com/v1/scripts/${D2}:run`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({function:"apiRouter",devMode:!1,parameters:[{action:s,params:l,userName:M2()}]})})).json();if(m.error){if(r&&(m.error.code===401||m.error.code===403||m.error.status==="UNAUTHENTICATED"||m.error.status==="PERMISSION_DENIED")&&Mf)try{return await Mf(),ye(s,l,!1)}catch{}if(m.error.details&&m.error.details.length>0){const x=m.error.details[0];throw new Error(x.errorMessage||"Script execution error")}throw new Error(m.error.message||"API error")}if(m.response&&m.response.result!==void 0){const x=m.response.result;if(x&&!x.success){const v=new Error(x.error||"Unknown error");throw v.code=x.code,v}const p=x?x.data:null;if(p&&p.success===!1)throw new Error(p.message||"Operation failed");return p}throw new Error("Unexpected response format")}const A0=()=>ye("auth:me"),T2=(s,l)=>ye("auth:invite",{email:s,name:l}),lu=()=>ye("data:load-all"),Eg=()=>ye("members:list"),_g=s=>ye("member:create",s),Og=s=>ye("member:update",s),Rg=s=>ye("member:delete",{memberId:s}),Ig=()=>ye("banks:list"),Lg=s=>ye("bank:create",s),E2=s=>ye("bank:update",s),Pg=s=>ye("bank:delete",{accountId:s}),zg=()=>ye("invaccounts:list"),Fg=s=>ye("invacct:create",s),_2=s=>ye("invacct:update",s),Bg=s=>ye("invacct:delete",{accountId:s}),O2=()=>ye("portfolios:list"),R2=s=>ye("portfolio:create",s),I2=s=>ye("portfolio:update",s),L2=s=>ye("portfolio:delete",{portfolioId:s}),P2=s=>ye("mf:invest",s),z2=s=>ye("mf:redeem",s),F2=s=>ye("mf:switch",s),B2=(s,l)=>ye("mf:allocations-update",{portfolioId:s,allocations:l}),H2=()=>ye("funds:all"),Hg=()=>ye("goals:list"),Yg=s=>ye("goal:create",s),Y2=(s,l)=>ye("goal:update",{goalId:s,...l}),Ug=s=>ye("goal:delete",{goalId:s}),U2=()=>ye("goal:mappings-list"),q2=(s,l)=>ye("goal:mappings-update",{goalId:s,mappings:l}),qg=()=>ye("insurance:list"),$g=s=>ye("insurance:create",s),$2=s=>ye("insurance:update",s),Vg=s=>ye("insurance:delete",{policyId:s}),Gg=()=>ye("liabilities:list"),Qg=s=>ye("liability:create",s),V2=s=>ye("liability:update",s),Kg=s=>ye("liability:delete",{liabilityId:s}),Xg=()=>ye("otherinv:list"),Wg=s=>ye("otherinv:create",s),G2=s=>ye("otherinv:update",s),Zg=s=>ye("otherinv:delete",{investmentId:s}),Jg=()=>ye("stock-portfolios:list"),ey=s=>ye("stock-portfolio:create",s),Q2=s=>ye("stock-portfolio:update",s),ty=s=>ye("stock-portfolio:delete",{portfolioId:s}),K2=s=>ye("stock:buy",s),X2=s=>ye("stock:sell",s),W2=s=>ye("mf-transaction:delete",{transactionId:s}),Z2=s=>ye("mf-transaction:edit",s),J2=()=>ye("mf-holdings:list"),eS=()=>ye("mf-transactions:list"),tS=()=>ye("stock-holdings:list-all"),aS=()=>ye("stock-transactions:list-all"),ay=()=>ye("reminders:list"),ny=s=>ye("reminder:create",s),nS=s=>ye("reminder:update",s),ry=s=>ye("reminder:delete",{reminderId:s}),rS=s=>ye("healthcheck:save",s),sy=()=>ye("healthcheck:get"),sS=()=>ye("settings:list"),lS=s=>ye("settings:update",s),iS=()=>ye("market:data"),oS=()=>ye("data:refresh-master");typeof window<"u"&&(window._cf={callAPI:ye,checkTriggers:()=>ye("test:triggers"),diagnose:()=>ye("test:diagnose")});const cS="capital-friends",uS=1,wa="cache";let Ei=null;function Ol(){return Ei||(Ei=new Promise((s,l)=>{const r=indexedDB.open(cS,uS);r.onupgradeneeded=t=>{const o=t.target.result;o.objectStoreNames.contains(wa)||o.createObjectStore(wa,{keyPath:"key"})},r.onsuccess=()=>s(r.result),r.onerror=()=>{console.warn("[idb] Failed to open database:",r.error),Ei=null,l(r.error)}}),Ei)}async function ly(s){try{const l=await Ol();return new Promise(r=>{const o=l.transaction(wa,"readonly").objectStore(wa).get(s);o.onsuccess=()=>r(o.result?o.result.data:null),o.onerror=()=>r(null)})}catch{return null}}async function dS(s){try{const l=await Ol();return new Promise(r=>{const o=l.transaction(wa,"readonly").objectStore(wa).get(s);o.onsuccess=()=>r(o.result||null),o.onerror=()=>r(null)})}catch{return null}}async function ga(s,l){try{const r=await Ol();return new Promise(t=>{const o=r.transaction(wa,"readwrite");o.objectStore(wa).put({key:s,data:l,updatedAt:Date.now()}),o.oncomplete=()=>t(),o.onerror=()=>t()})}catch{}}async function mS(){try{const s=await Ol();return new Promise(l=>{const t=s.transaction(wa,"readonly").objectStore(wa).getAll();t.onsuccess=()=>{const o={};for(const u of t.result||[])o[u.key]=u.data;l(o)},t.onerror=()=>l({})})}catch{return{}}}async function lf(s){try{const l=await Ol();return new Promise(r=>{const t=l.transaction(wa,"readwrite"),o=t.objectStore(wa),u=Date.now();for(const[d,m]of Object.entries(s))o.put({key:d,data:m,updatedAt:u});t.oncomplete=()=>r(),t.onerror=()=>r()})}catch{}}async function fS(){try{const s=await Ol();return new Promise(l=>{const r=s.transaction(wa,"readwrite");r.objectStore(wa).clear(),r.oncomplete=()=>l(),r.onerror=()=>l()})}catch{}}const iy=w.createContext(null),pS="868467315292-7hfrvkh8pq8f1e2l3v38m6qrupboa295.apps.googleusercontent.com",xS=["https://www.googleapis.com/auth/spreadsheets","https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/gmail.send","https://www.googleapis.com/auth/script.scriptapp","openid","email","profile"].join(" "),ap="cf_user_profile";function T0(){try{const s=localStorage.getItem(ap);return s?JSON.parse(s):null}catch{return null}}function hS(s){try{localStorage.setItem(ap,JSON.stringify(s))}catch{}}function E0(){localStorage.removeItem(ap)}function vS({children:s}){const l=D0()?T0():null,[r,t]=w.useState(l),[o,u]=w.useState(!l),[d,m]=w.useState(null),x=w.useRef(null);function p(j){t(j),j?hS(j):E0()}w.useEffect(()=>{const j=()=>{if(!window.google?.accounts?.oauth2){setTimeout(j,200);return}x.current=window.google.accounts.oauth2.initTokenClient({client_id:pS,scope:xS,callback:v}),A2(C),D0()?N():u(!1)};j()},[]);async function v(j){if(j.error){m(j.error_description||j.error),u(!1);return}try{u(!0),m(null),k0(j.access_token,j.expires_in);const D=await b(j.access_token);M0(D.name||"");const y=await A0();p({email:y.email||D.email,name:y.name||D.name,role:y.role,picture:D.picture||""})}catch(D){m(D.message),Kc(),p(null)}finally{u(!1)}}async function b(j){const D=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${j}`}});if(!D.ok)throw new Error("Failed to fetch user profile");return D.json()}async function N(){const j=!!T0();try{const D=su(),y=await b(D);M0(y.name||"");const _=await A0();p({email:_.email||y.email,name:_.name||y.name,role:_.role,picture:y.picture||""})}catch{Kc(),p(null)}finally{j||u(!1)}}function C(){return new Promise((j,D)=>{if(!x.current){D(new Error("Token client not initialized"));return}const y=x.current,_=y.callback;y.callback=O=>{y.callback=_,O.error?D(new Error(O.error)):(k0(O.access_token,O.expires_in),j())},y.requestAccessToken({prompt:""})})}const M=w.useCallback(()=>{x.current&&(m(null),x.current.requestAccessToken())},[]),S=w.useCallback(()=>{const j=su();j&&window.google?.accounts?.oauth2&&window.google.accounts.oauth2.revoke(j),Kc(),E0(),fS(),sessionStorage.removeItem("cf_health_check"),t(null)},[]),g={user:r,loading:o,error:d,isAuthenticated:!!r,isOwner:r?.role==="owner",signIn:M,signOut:S};return a.jsx(iy.Provider,{value:g,children:s})}function ks(){const s=w.useContext(iy);if(!s)throw new Error("useAuth must be used within AuthProvider");return s}const oy=w.createContext();function bS({children:s}){const[l,r]=w.useState(()=>{const o=localStorage.getItem("cf-theme");return o||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")});w.useEffect(()=>{localStorage.setItem("cf-theme",l),document.documentElement.setAttribute("data-theme",l)},[l]);const t=()=>r(o=>o==="dark"?"light":"dark");return a.jsx(oy.Provider,{value:{theme:l,toggle:t},children:s})}function cy(){return w.useContext(oy)}const uy=w.createContext(),dy="cf_hc_done";function gS(){try{return sessionStorage.getItem(dy)==="1"?!0:null}catch{return null}}function cl(s){try{sessionStorage.setItem(dy,s?"1":"0")}catch{}}function yS({children:s}){const{isAuthenticated:l}=ks(),r=l?gS():null,[t,o]=w.useState(!0),[u,d]=w.useState(!1),[m,x]=w.useState(null),[p,v]=w.useState(null),[b,N]=w.useState(null),[C,M]=w.useState(null),[S,g]=w.useState(null),[j,D]=w.useState(null),[y,_]=w.useState(null),[O,U]=w.useState(null),[G,E]=w.useState(null),[z,H]=w.useState(null),[W,A]=w.useState(null),[se,$]=w.useState(null),[J,B]=w.useState(null),[R,I]=w.useState(null),[ue,ve]=w.useState(null),[F,ee]=w.useState(null),[oe,ce]=w.useState(null),[we,be]=w.useState(r!==null?r:null),ge=w.useRef(!1),qe=w.useCallback(q=>{q&&("members"in q&&v(q.members||[]),"bankAccounts"in q&&N(q.bankAccounts||[]),"investments"in q&&M(q.investments||[]),"insurancePolicies"in q&&g(q.insurancePolicies||[]),"liabilities"in q&&D(q.liabilities||[]),"otherInvestments"in q&&_(q.otherInvestments||[]),"stockPortfolios"in q&&U(q.stockPortfolios||[]),"stockHoldings"in q&&E(q.stockHoldings||[]),"stockTransactions"in q&&H(q.stockTransactions||[]),"mfPortfolios"in q&&A(q.mfPortfolios||[]),"mfHoldings"in q&&$((q.mfHoldings||[]).map(de=>de.schemeCode?de:{...de,schemeCode:de.fundCode})),"mfTransactions"in q&&B(q.mfTransactions||[]),"goals"in q&&I(q.goals||[]),"reminders"in q&&ve(q.reminders||[]),"goalPortfolioMappings"in q&&ee(q.goalPortfolioMappings||[]),"settings"in q&&ce(q.settings||{}))},[]),Je=w.useCallback(q=>{lf({members:q.members||[],bankAccounts:q.bankAccounts||[],investments:q.investments||[],insurancePolicies:q.insurancePolicies||[],liabilities:q.liabilities||[],otherInvestments:q.otherInvestments||[],stockPortfolios:q.stockPortfolios||[],stockHoldings:q.stockHoldings||[],stockTransactions:q.stockTransactions||[],mfPortfolios:q.mfPortfolios||[],mfHoldings:q.mfHoldings||[],mfTransactions:q.mfTransactions||[],goals:q.goals||[],reminders:q.reminders||[],goalPortfolioMappings:q.goalPortfolioMappings||[]})},[]),Rt=w.useCallback(async(q=!1)=>{try{q?d(!0):o(!0),x(null);const de=await lu();qe(de),Je(de)}catch(de){x(de.message)}finally{o(!1),d(!1)}},[qe,Je]),wt=w.useCallback(async()=>{const q=await Eg();v(q||[]),ga("members",q||[])},[]),rt=w.useCallback(async()=>{const q=await Ig();N(q||[]),ga("bankAccounts",q||[])},[]),ua=w.useCallback(async()=>{const q=await zg();M(q||[]),ga("investments",q||[])},[]),Ne=w.useCallback(async()=>{const q=await qg();g(q||[]),ga("insurancePolicies",q||[])},[]),ze=w.useCallback(async()=>{const q=await Gg();D(q||[]),ga("liabilities",q||[])},[]),xt=w.useCallback(async()=>{const q=await Xg();_(q||[]),ga("otherInvestments",q||[])},[]),la=w.useCallback(async()=>{const[q,de]=await Promise.all([Hg(),U2()]);I(q||[]),ee(de||[]),ga("goals",q||[]),ga("goalPortfolioMappings",de||[])},[]),za=w.useCallback(async()=>{const q=await ay();ve(q||[]),ga("reminders",q||[])},[]),ct=w.useCallback(async()=>{const[q,de,Lt]=await Promise.all([O2(),J2(),eS()]),Ca=(de||[]).map(tn=>tn.schemeCode?tn:{...tn,schemeCode:tn.fundCode});A(q||[]),$(Ca),B(Lt||[]),lf({mfPortfolios:q||[],mfHoldings:Ca,mfTransactions:Lt||[]})},[]),It=w.useCallback(async()=>{const[q,de,Lt]=await Promise.all([Jg(),tS(),aS()]);U(q||[]),E(de||[]),H(Lt||[]),lf({stockPortfolios:q||[],stockHoldings:de||[],stockTransactions:Lt||[]})},[]),da=w.useCallback(async()=>{const q=await sS();ce(q||{}),ga("settings",q||{})},[]),L=w.useCallback(async q=>{await lS(q),await da()},[da]),me=w.useCallback(async()=>{try{const q=await ly("healthCheckAnswers");if(q&&Object.keys(q).length>0){be(!0),cl(!0);return}const de=await sy();de&&Object.keys(de).length>0?(be(!0),cl(!0),ga("healthCheckAnswers",de)):(be(!1),cl(!1))}catch{be(!1),cl(!1)}},[]),De=w.useCallback(async q=>{const de=await rS(q);return de?.success&&(be(!0),cl(!0),ga("healthCheckAnswers",q)),de},[]);w.useEffect(()=>{if(!l){o(!1);return}if(ge.current)return;ge.current=!0;async function q(){const de=await mS(),Lt=Object.keys(de).length>0;Lt&&(qe(de),de.healthCheckAnswers&&Object.keys(de.healthCheckAnswers).length>0&&(be(!0),cl(!0)),o(!1));try{Lt&&d(!0);const Ca=await lu();qe(Ca),Je(Ca)}catch(Ca){Lt||x(Ca.message)}finally{o(!1),d(!1)}}q(),da().catch(()=>{}),r===null&&me().catch(()=>{})},[l,qe,Je,da,me]),w.useEffect(()=>{l||(ge.current=!1)},[l]);const Ae=w.useCallback(async q=>{const de=await _g(q);if(q.email)try{await T2(q.email,q.memberName)}catch(Lt){console.warn("Auto-invite failed (non-blocking):",Lt.message)}return await wt(),de},[wt]),pe=w.useCallback(async(q,de)=>{await Og({memberId:q,...de}),await wt()},[wt]),Re=w.useCallback(async q=>{await Rg(q),await wt()},[wt]),$e=w.useCallback(async q=>{const de=await Lg(q);return await rt(),de},[rt]),Ke=w.useCallback(async(q,de)=>{await E2({accountId:q,...de}),await rt()},[rt]),Xe=w.useCallback(async q=>{await Pg(q),await rt()},[rt]),ht=w.useCallback(async q=>{const de=await Fg(q);return await ua(),de},[ua]),Jt=w.useCallback(async(q,de)=>{await _2({accountId:q,...de}),await ua()},[ua]),Mt=w.useCallback(async q=>{await Bg(q),await ua()},[ua]),Le=w.useCallback(async q=>{const de=await $g(q);return await Ne(),de},[Ne]),ut=w.useCallback(async(q,de)=>{await $2({policyId:q,...de}),await Ne()},[Ne]),Ht=w.useCallback(async q=>{await Vg(q),await Ne()},[Ne]),xe=w.useCallback(async q=>{const de=await Qg(q);return await ze(),de},[ze]),en=w.useCallback(async(q,de)=>{await V2({liabilityId:q,...de}),await ze()},[ze]),qr=w.useCallback(async q=>{await Kg(q),await ze()},[ze]),Fa=w.useCallback(async q=>{const de=await Wg(q);return await xt(),q.quickLoan&&await ze(),de},[xt,ze]),Ba=w.useCallback(async(q,de)=>{await G2({investmentId:q,...de}),await xt()},[xt]),fn=w.useCallback(async q=>{await Zg(q),await xt()},[xt]),Rn=w.useCallback(async q=>{const de=await Yg(q);return await la(),de},[la]),Ms=w.useCallback(async(q,de)=>{await Y2(q,de),await la()},[la]),$r=w.useCallback(async q=>{await Ug(q),await la()},[la]),Bu=w.useCallback(async q=>{const de=await ny(q);return await za(),de},[za]),so=w.useCallback(async(q,de)=>{await nS({reminderId:q,...de}),await za()},[za]),Pl=w.useCallback(async q=>{await ry(q),await za()},[za]),Vr=w.useCallback(async(q,de)=>{await q2(q,de),await la()},[la]),Hu=w.useCallback(async q=>{const de=await ey(q);return await It(),de},[It]),lo=w.useCallback(async(q,de)=>{await Q2({portfolioId:q,...de}),await It()},[It]),io=w.useCallback(async q=>{await ty(q),await It()},[It]),oo=w.useCallback(async q=>{const de=await K2(q);return await It(),de},[It]),zl=w.useCallback(async q=>{const de=await X2(q);return await It(),de},[It]),Fl=w.useCallback(async q=>{const de=await R2(q);return await ct(),de},[ct]),co=w.useCallback(async(q,de)=>{await I2({portfolioId:q,...de}),await ct()},[ct]),uo=w.useCallback(async q=>{await L2(q),await ct()},[ct]),pn=w.useCallback(async(q,de)=>{const Lt=await P2({...q,transactionType:de});return await ct(),Lt},[ct]),Yt=w.useCallback(async q=>{const de=await z2(q);return await ct(),de},[ct]),ea=w.useCallback(async q=>{const de=await F2(q);return await ct(),de},[ct]),ur=w.useCallback(async(q,de)=>{await B2(q,de),await ct()},[ct]),Bl=w.useCallback(async q=>{await W2(q),await ct()},[ct]),Yu=w.useCallback(async q=>{await Z2(q),await ct()},[ct]),Uu=(p||[]).filter(q=>q.status==="Active"),mo=(b||[]).filter(q=>q.status==="Active"),Gr=(C||[]).filter(q=>q.status==="Active");return a.jsx(uy.Provider,{value:{loading:t,isRefreshing:u,error:m,refreshData:Rt,members:p,banks:b,investmentAccounts:C,insurancePolicies:S,liabilityList:j,otherInvList:y,activeMembers:Uu,activeBanks:mo,activeInvestmentAccounts:Gr,addMember:Ae,updateMember:pe,deleteMember:Re,addBankAccount:$e,updateBankAccount:Ke,deleteBankAccount:Xe,addInvestmentAccount:ht,updateInvestmentAccount:Jt,deleteInvestmentAccount:Mt,addInsurance:Le,updateInsurance:ut,deleteInsurance:Ht,addLiability:xe,updateLiability:en,deleteLiability:qr,addOtherInvestment:Fa,updateOtherInvestment:Ba,deleteOtherInvestment:fn,goalList:R,addGoal:Rn,updateGoal:Ms,deleteGoal:$r,reminderList:ue,addReminder:Bu,updateReminder:so,deleteReminder:Pl,goalPortfolioMappings:F,updateGoalMappings:Vr,stockPortfolios:O,stockHoldings:G,stockTransactions:z,addStockPortfolio:Hu,updateStockPortfolio:lo,deleteStockPortfolio:io,buyStock:oo,sellStock:zl,mfPortfolios:W,mfHoldings:se,mfTransactions:J,addMFPortfolio:Fl,updateMFPortfolio:co,deleteMFPortfolio:uo,investMF:pn,redeemMF:Yt,switchMF:ea,updateHoldingAllocations:ur,deleteMFTransaction:Bl,editMFTransaction:Yu,settings:oe,updateSettings:L,refreshSettings:da,healthCheckCompleted:we,completeHealthCheck:De},children:s})}function Ue(){return w.useContext(uy)}const my=w.createContext();function NS({children:s}){const{activeMembers:l}=Ue(),[r,t]=w.useState("all"),o=l.find(u=>u.memberId===r)||null;return a.jsx(my.Provider,{value:{selectedMember:r,setSelectedMember:t,member:o,familyMembers:l},children:s})}function Wt(){return w.useContext(my)}const fy=(...s)=>s.filter((l,r,t)=>!!l&&l.trim()!==""&&t.indexOf(l)===r).join(" ").trim();const jS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const wS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(l,r,t)=>t?t.toUpperCase():r.toLowerCase());const _0=s=>{const l=wS(s);return l.charAt(0).toUpperCase()+l.slice(1)};var SS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const CS=s=>{for(const l in s)if(l.startsWith("aria-")||l==="role"||l==="title")return!0;return!1};const kS=w.forwardRef(({color:s="currentColor",size:l=24,strokeWidth:r=2,absoluteStrokeWidth:t,className:o="",children:u,iconNode:d,...m},x)=>w.createElement("svg",{ref:x,...SS,width:l,height:l,stroke:s,strokeWidth:t?Number(r)*24/Number(l):r,className:fy("lucide",o),...!u&&!CS(m)&&{"aria-hidden":"true"},...m},[...d.map(([p,v])=>w.createElement(p,v)),...Array.isArray(u)?u:[u]]));const je=(s,l)=>{const r=w.forwardRef(({className:t,...o},u)=>w.createElement(kS,{ref:u,iconNode:l,className:fy(`lucide-${jS(_0(s))}`,`lucide-${s}`,t),...o}));return r.displayName=_0(s),r};const DS=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],MS=je("arrow-down",DS);const AS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],TS=je("arrow-right",AS);const ES=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],_S=je("arrow-up-down",ES);const OS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],RS=je("bell-off",OS);const IS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Du=je("bell",IS);const LS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],py=je("briefcase",LS);const PS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zS=je("calendar",PS);const FS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ui=je("chart-column",FS);const BS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],O0=je("check",BS);const HS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Pr=je("chevron-down",HS);const YS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],xy=je("chevron-left",YS);const US=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qi=je("chevron-right",US);const qS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],$S=je("chevron-up",qS);const VS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],Af=je("circle-arrow-down",VS);const GS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],QS=je("circle-check-big",GS);const KS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Rl=je("circle-check",KS);const XS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],hy=je("circle-x",XS);const WS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],vy=je("clipboard-check",WS);const ZS=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],JS=je("coffee",ZS);const eC=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],tC=je("construction",eC);const aC=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Gi=je("credit-card",aC);const nC=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],rC=je("database",nC);const sC=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],lC=je("dollar-sign",sC);const iC=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],oC=je("ellipsis-vertical",iC);const cC=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],uC=je("ellipsis",cC);const dC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],np=je("eye",dC);const mC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Xc=je("eye-off",mC);const fC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],pC=je("file-spreadsheet",fC);const xC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],by=je("file-text",xC);const hC=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],gy=je("funnel",hC);const vC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],bC=je("globe",vC);const gC=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],iu=je("heart",gC);const yC=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],NC=je("indian-rupee",yC);const jC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],wC=je("info",jC);const SC=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],yy=je("landmark",SC);const CC=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Ny=je("layers",CC);const kC=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],ou=je("link-2",kC);const DC=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],cu=je("list",DC);const MC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],jy=je("loader-circle",MC);const AC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],of=je("lock",AC);const TC=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],EC=je("log-in",TC);const _C=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wy=je("log-out",_C);const OC=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],RC=je("mail",OC);const IC=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],LC=je("menu",IC);const PC=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Sy=je("moon",PC);const zC=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Cy=je("package",zC);const FC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],mn=je("pencil",FC);const BC=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],HC=je("piggy-bank",BC);const YC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Sa=je("plus",YC);const UC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],yl=je("refresh-cw",UC);const qC=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],$C=je("repeat-2",qC);const VC=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],GC=je("repeat",VC);const QC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],KC=je("save",QC);const XC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],WC=je("search",XC);const ZC=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],JC=je("settings-2",ZC);const e5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rp=je("settings",e5);const t5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],$i=je("shield",t5);const a5=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Tf=je("sun",a5);const n5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ji=je("target",n5);const r5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Mu=je("trash-2",r5);const s5=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Au=je("trending-down",s5);const l5=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],zr=je("trending-up",l5);const i5=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Tu=je("triangle-alert",i5);const o5=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],R0=je("trophy",o5);const c5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],u5=je("user",c5);const d5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Nl=je("users",d5);const m5=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],vl=je("wallet",m5);const f5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],eo=je("x",f5);const p5=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ef=je("zap",p5),ky=w.createContext();function x5({children:s}){const[l,r]=w.useState([]),[t,o]=w.useState(null),u=w.useRef(0),d=w.useCallback((v,b="success")=>{const N=++u.current;r(C=>[...C,{id:N,message:v,type:b}]),setTimeout(()=>r(C=>C.filter(M=>M.id!==N)),3e3)},[]),m=w.useCallback(v=>{r(b=>b.filter(N=>N.id!==v))},[]),x=w.useCallback((v="Saving...")=>{o(v)},[]),p=w.useCallback(()=>{o(null)},[]);return a.jsxs(ky.Provider,{value:{showToast:d,showBlockUI:x,hideBlockUI:p},children:[s,t&&a.jsx("div",{className:"fixed inset-0 z-[200] bg-black/50 backdrop-blur-sm flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 bg-[var(--bg-card)] rounded-xl px-8 py-6 border border-[var(--border)] shadow-2xl",children:[a.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),a.jsx("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:t})]})}),l.length>0&&a.jsx("div",{className:"fixed bottom-20 sm:bottom-6 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-2 items-center pointer-events-none",children:l.map(v=>a.jsxs("div",{className:`pointer-events-auto flex items-center gap-2 px-4 py-2.5 rounded-lg shadow-xl border text-sm font-medium animate-fade-in ${v.type==="error"?"bg-rose-500/15 border-rose-500/30 text-[var(--accent-rose)]":"bg-emerald-500/15 border-emerald-500/30 text-emerald-400"}`,style:{backdropFilter:"blur(12px)"},children:[v.type==="error"?a.jsx(hy,{size:16}):a.jsx(Rl,{size:16}),a.jsx("span",{children:v.message}),a.jsx("button",{onClick:()=>m(v.id),className:"ml-1 opacity-60 hover:opacity-100 transition-opacity",children:a.jsx(eo,{size:14})})]},v.id))})]})}function Tn(){return w.useContext(ky)}const Dy=w.createContext(),I0="cf-mask-data";function h5(s){return!s||s.length<4?"":""+s.slice(-4)}function v5(s){return!s||s.length<4?"  ":"  "+s.slice(-4)}function b5(s){return!s||s.length<3?"":""+s.slice(-3)}function g5(s){if(!s)return"@";const[l,r]=s.split("@");if(!r)return"@";const t=l.charAt(0)+"",o=r.split("."),u=o[0].charAt(0)+""+(o.length>1?"."+o.slice(1).join("."):"");return t+"@"+u}function y5(s){return!s||s.length<4?"":""+s.slice(-4)}function N5(s){return!s||s.length<3?"":""+s.slice(-3)}function j5(s){return!s||s.length<4?"":""+s.slice(-4)}const w5={pan:h5,aadhaar:v5,mobile:b5,email:g5,account:y5,clientId:N5,policy:j5};function S5({children:s}){const[l,r]=w.useState(()=>{try{return localStorage.getItem(I0)==="true"}catch{return!1}});w.useEffect(()=>{try{localStorage.setItem(I0,String(l))}catch{}},[l]);const t=w.useCallback(()=>r(u=>!u),[]),o=w.useCallback((u,d)=>{if(!l||u==null||u==="")return u;const m=w5[d];return m?m(String(u)):u},[l]);return a.jsx(Dy.Provider,{value:{masked:l,toggleMask:t,mv:o},children:s})}function En(){return w.useContext(Dy)}const L0=[{label:"Family",icon:Nl,path:"/family"},{label:"Accounts",icon:Gi,children:[{label:"Bank Accounts",icon:yy,path:"/accounts/bank"},{label:"Investment A/c",icon:py,path:"/accounts/investment"}]},{label:"Insurance",icon:$i,path:"/insurance"},{label:"Investments",icon:vl,children:[{label:"Mutual Funds",icon:vl,path:"/investments/mutual-funds"},{label:"Stocks",icon:Ui,path:"/investments/stocks"},{label:"Other Investments",icon:Cy,path:"/investments/other"}]},{label:"Liabilities",icon:Gi,path:"/liabilities"},{label:"Goals",icon:Ji,path:"/goals"},{label:"Settings",icon:rp,path:"/settings"}];function C5({open:s,onClose:l}){const r=Ja(),t=L0.filter(m=>m.children?.some(x=>r.pathname.startsWith(x.path))).map(m=>m.label),[o,u]=w.useState(new Set(t));function d(m){u(x=>{const p=new Set(x);return p.has(m)?p.delete(m):p.add(m),p})}return a.jsxs(a.Fragment,{children:[s&&a.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 lg:hidden",onClick:l}),a.jsxs("aside",{className:`
        fixed top-0 left-0 z-50 h-full w-56
        bg-[var(--bg-sidebar)] border-r border-[var(--border)]
        flex flex-col transition-transform duration-300
        lg:hidden
        ${s?"translate-x-0":"-translate-x-full"}
      `,children:[a.jsxs("div",{className:"flex items-center justify-between px-3 h-12 border-b border-[var(--border)] shrink-0",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Menu"}),a.jsx("button",{onClick:l,className:"p-1.5 rounded-md text-[var(--text-dim)] hover:text-[var(--text-primary)]",children:a.jsx(eo,{size:16})})]}),a.jsx("nav",{className:"flex-1 py-2 overflow-y-auto overflow-x-hidden",children:L0.map(m=>m.children?a.jsx(k5,{item:m,isOpen:o.has(m.label),onToggle:()=>d(m.label),onNavigate:l,currentPath:r.pathname},m.label):a.jsx(My,{item:m,onNavigate:l},m.path))})]})]})}function My({item:s,onNavigate:l,nested:r}){const{label:t,icon:o,path:u}=s;return a.jsx(Zf,{to:u,onClick:l,end:u==="/",className:({isActive:d})=>`group flex items-center gap-2.5 ${r?"pl-11 pr-4 py-[7px]":"px-4 py-2.5"} text-[13px] font-medium transition-all border-r-2 ${d?"bg-[var(--sidebar-active-bg)] text-[var(--sidebar-active-text)] border-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] border-transparent"}`,children:({isActive:d})=>a.jsxs(a.Fragment,{children:[a.jsx(o,{size:r?14:17,strokeWidth:d?2.2:1.7}),a.jsx("span",{children:t})]})})}function k5({item:s,isOpen:l,onToggle:r,onNavigate:t,currentPath:o}){const{label:u,icon:d,children:m}=s,x=m.some(p=>o.startsWith(p.path));return a.jsxs("div",{children:[a.jsxs("button",{onClick:r,className:`w-full group flex items-center gap-2.5 px-4 py-2.5 text-[13px] font-medium transition-all border-r-2 border-transparent ${x?"text-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:[a.jsx(d,{size:17,strokeWidth:x?2.2:1.7}),a.jsx("span",{className:"flex-1 text-left",children:u}),a.jsx(Pr,{size:13,className:`text-[var(--text-dim)] transition-transform duration-200 ${l?"rotate-180":""}`})]}),l&&a.jsx("div",{className:"py-0.5",children:m.map(p=>a.jsx(My,{item:p,onNavigate:t,nested:!0},p.path))})]})}function Q(s){return s>=1e7?`${(s/1e7).toFixed(2)} Cr`:s>=1e5?`${(s/1e5).toFixed(2)} L`:s>=1e3?`${(s/1e3).toFixed(0)}K`:`${s.toLocaleString("en-IN")}`}const Ay="cf_market_data",D5=300*1e3,P0=300*1e3;function M5(){try{const s=sessionStorage.getItem(Ay);if(!s)return null;const l=JSON.parse(s);return Date.now()-l._ts>D5?null:l}catch{return null}}function A5(s){try{sessionStorage.setItem(Ay,JSON.stringify({...s,_ts:Date.now()}))}catch{}}function T5(){const[s,l]=w.useState(()=>M5()),[r,t]=w.useState([]),o=w.useRef(null),[u,d]=w.useState(!1),[m,x]=w.useState(!1);w.useEffect(()=>{let b=!1;async function N(){try{const M=await iS();if(!b&&M){const S={...M,_ts:Date.now()};l(S),A5(S)}}catch{}}N();const C=setInterval(N,P0);return()=>{b=!0,clearInterval(C)}},[]),w.useEffect(()=>{let b=!1;async function N(){try{const M=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=inr&include_24hr_change=true");if(!b&&M.ok){const S=await M.json(),g=[];S.bitcoin&&g.push({name:"BTC",price:S.bitcoin.inr,changePct:S.bitcoin.inr_24h_change||0,type:"crypto"}),S.ethereum&&g.push({name:"ETH",price:S.ethereum.inr,changePct:S.ethereum.inr_24h_change||0,type:"crypto"}),t(g)}}catch{}}N();const C=setInterval(N,P0);return()=>{b=!0,clearInterval(C)}},[]);const p=[];if(s?.indices&&p.push(...s.indices),s?.metals&&p.push(...s.metals),r.length>0&&p.push(...r),w.useEffect(()=>{if(!o.current)return;const b=o.current,N=b.parentElement;d(b.scrollWidth>N.clientWidth)},[p.length]),p.length===0)return null;const v=p.length*3;return a.jsxs("div",{className:"bg-[var(--bg-card)]/80 backdrop-blur-sm border-b border-[var(--border-light)] overflow-hidden",onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),onTouchStart:()=>x(!0),onTouchEnd:()=>x(!1),children:[a.jsx("div",{className:"overflow-hidden",children:a.jsxs("div",{ref:o,className:"flex items-stretch w-max",style:u?{animation:`ticker-scroll ${v}s linear infinite`,animationPlayState:m?"paused":"running"}:{margin:"0 auto"},children:[p.map((b,N)=>a.jsx(z0,{item:b},b.name+N)),u&&p.map((b,N)=>a.jsx(z0,{item:b},"dup-"+b.name+N))]})}),a.jsx("style",{children:`
        @keyframes ticker-scroll {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
      `})]})}function z0({item:s}){const l=s.changePct>=0,r=l?a.jsx(zr,{size:10}):a.jsx(Au,{size:10}),t=l?"text-emerald-400":"text-[var(--accent-rose)]",o=u=>u>=1e5?`${(u/1e5).toFixed(2)}L`:u>=1e3?`${u.toLocaleString("en-IN",{maximumFractionDigits:0})}`:`${u.toLocaleString("en-IN",{maximumFractionDigits:2})}`;return a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 border-r border-[var(--border-light)] last:border-0 shrink-0",children:[a.jsx("span",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase whitespace-nowrap",children:s.name}),a.jsx("span",{className:"text-[11px] font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:s.unit?`${o(s.price)}`:o(s.price)}),s.changePct!==void 0&&s.changePct!==null&&a.jsxs("span",{className:`flex items-center gap-0.5 text-[10px] font-bold tabular-nums ${t}`,children:[r,l?"+":"",s.changePct.toFixed(2),"%"]})]})}function E5(){const{selectedMember:s}=Wt(),{mfPortfolios:l,mfHoldings:r,insurancePolicies:t,goalList:o,reminderList:u}=Ue(),d=(N,C)=>{const M=N||[];return s==="all"?M:M.filter(S=>S[C]===s)},m=w.useMemo(()=>{let N=0,C=0,M=0;return d((l||[]).filter(j=>j.status!=="Inactive"),"ownerId").forEach(j=>{const D=(r||[]).filter(O=>O.portfolioId===j.portfolioId&&O.units>0),y=D.reduce((O,U)=>O+U.currentValue,0),_=(j.rebalanceThreshold||.05)*100;D.forEach(O=>{if(O.athNav>0&&O.belowATHPct>=10?C++:O.athNav>0&&O.belowATHPct>=5&&N++,O.targetAllocationPct>0&&y>0){const U=O.currentValue/y*100;Math.abs(U-O.targetAllocationPct)>_&&M++}})}),{buyOppCount:N+C,buyCount:N,strongBuyCount:C,rebalanceCount:M}},[s,l,r]),x=w.useMemo(()=>{const N=[],C=d((t||[]).filter(y=>y.status==="Active"),"memberId");C.some(y=>y.policyType==="Term Life")||N.push({type:"critical",title:"Missing Term Life Insurance",badge:"Add Policy",navigateTo:"/insurance"});const S=C.filter(y=>y.policyType==="Health").reduce((y,_)=>y+_.sumAssured,0);return S===0?N.push({type:"critical",title:"No Health Insurance",badge:"Add Policy",navigateTo:"/insurance"}):S<5e5&&N.push({type:"warning",title:"Inadequate Health Insurance",badge:Q(S),navigateTo:"/insurance"}),d((o||[]).filter(y=>y.isActive!==!1&&y.goalType==="Emergency Fund"),"familyMemberId").forEach(y=>{const _=y.targetAmount>0?y.currentValue/y.targetAmount*100:0;_<100&&N.push({type:_>=75?"info":"warning",title:`Emergency Fund at ${_.toFixed(0)}%`,badge:Q(y.targetAmount-y.currentValue)+" left",navigateTo:"/goals"})}),d((u||[]).filter(y=>y.isActive!==!1),"familyMemberId").filter(y=>new Date(y.dueDate)<new Date).forEach(y=>{const _=Math.ceil((new Date-new Date(y.dueDate))/864e5);N.push({type:"critical",title:y.title,badge:`${_}d overdue`,navigateTo:"/reminders"})}),d((o||[]).filter(y=>y.isActive!==!1&&y.status==="Needs Attention"),"familyMemberId").forEach(y=>{N.push({type:"warning",title:`${y.goalName} needs attention`,badge:y.priority,navigateTo:"/goals"})}),N},[s,t,o,u]),p=w.useMemo(()=>{const N=d((u||[]).filter(M=>M.isActive!==!1&&M.status!=="Completed"),"familyMemberId"),C=new Date;return N.map(M=>{const S=new Date(M.dueDate)-C,g=Math.ceil(S/(1440*60*1e3)),j=new Date(M.dueDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short"});return{...M,days:g,dateStr:j}}).filter(M=>M.days>=0&&M.days<=30).sort((M,S)=>M.days-S.days).slice(0,5)},[s,u]),v=x.length+m.buyOppCount+m.rebalanceCount+p.length,b=x.filter(N=>N.type==="critical").length;return{criticalAlerts:x,investmentSignals:m,upcomingReminders:p,totalCount:v,criticalCount:b}}function F0(s){return s>=20?"bg-rose-500/20 text-[var(--accent-rose)]":s>=10?"bg-orange-500/20 text-[var(--accent-orange)]":s>=5?"bg-amber-500/20 text-[var(--accent-amber)]":"bg-slate-500/20 text-[var(--text-muted)]"}function B0(s){return s>=10?{label:"Strong Buy",cls:"bg-emerald-500/20 text-emerald-400 ring-1 ring-emerald-500/30"}:s>=5?{label:"Buy",cls:"bg-blue-500/20 text-blue-400"}:null}function Ty(){const{mfHoldings:s,mfPortfolios:l}=Ue(),r=w.useMemo(()=>l.filter(o=>o.status!=="Inactive").map(o=>{const u=s.filter(x=>x.portfolioId===o.portfolioId&&x.units>0),d=u.reduce((x,p)=>x+p.currentValue,0),m=u.filter(x=>x.athNav>0&&x.belowATHPct>=1).sort((x,p)=>p.belowATHPct-x.belowATHPct).map(x=>({...x,currentPct:d>0?x.currentValue/d*100:0}));return{...o,totalValue:d,opportunities:m}}).filter(o=>o.opportunities.length>0),[l,s]);return r.reduce((o,u)=>o+u.opportunities.length,0)===0?a.jsxs("div",{className:"py-8 text-center",children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No buy opportunities right now"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"All funds are near their all-time highs"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] px-1",children:"Funds below their All-Time High NAV. Higher discount = better opportunity."}),r.map((o,u)=>a.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-emerald-500/50 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-[var(--bg-inset)]",children:[a.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-500/15 w-5 h-5 rounded flex items-center justify-center",children:u+1}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:o.portfolioName}),a.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:o.ownerName}),a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15 text-emerald-400",children:[o.opportunities.length," funds"]})]}),a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Signal"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Below ATH"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"ATH NAV"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Current"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Value"})]})}),a.jsx("tbody",{children:o.opportunities.map(d=>{const m=B0(d.belowATHPct);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[200px] truncate",children:d.fundName}),a.jsx("td",{className:"py-2 px-2 text-center",children:m?a.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded-full whitespace-nowrap ${m.cls}`,children:m.label}):a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Watch"})}),a.jsx("td",{className:"py-2 px-2 text-right",children:a.jsxs("span",{className:`inline-block text-xs font-semibold px-1.5 py-0.5 rounded-full ${F0(d.belowATHPct)}`,children:["",d.belowATHPct.toFixed(1),"%"]})}),a.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:["",d.athNav.toFixed(2)]}),a.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:["",d.currentNav.toFixed(2)]}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:Q(d.currentValue)})]},d.holdingId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:o.opportunities.map(d=>{const m=B0(d.belowATHPct);return a.jsxs("div",{className:"px-3 py-2.5",children:[a.jsxs("div",{className:"flex items-start justify-between mb-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight flex-1 mr-2",children:d.fundName}),a.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[m&&a.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded-full ${m.cls}`,children:m.label}),a.jsxs("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${F0(d.belowATHPct)}`,children:["",d.belowATHPct.toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)]",children:[a.jsxs("span",{children:["ATH ",d.athNav.toFixed(2),"  ",d.currentNav.toFixed(2)]}),a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:Q(d.currentValue)})]})]},d.holdingId)})})]},o.portfolioId))]})}function Ey(s){var l,r,t="";if(typeof s=="string"||typeof s=="number")t+=s;else if(typeof s=="object")if(Array.isArray(s)){var o=s.length;for(l=0;l<o;l++)s[l]&&(r=Ey(s[l]))&&(t&&(t+=" "),t+=r)}else for(r in s)s[r]&&(t&&(t+=" "),t+=r);return t}function qt(){for(var s,l,r=0,t="",o=arguments.length;r<o;r++)(s=arguments[r])&&(l=Ey(s))&&(t&&(t+=" "),t+=l);return t}const _y=6048e5,_5=864e5,Eu=6e4,_u=36e5,O5=1e3,H0=Symbol.for("constructDateFrom");function ot(s,l){return typeof s=="function"?s(l):s&&typeof s=="object"&&H0 in s?s[H0](l):s instanceof Date?new s.constructor(l):new Date(l)}function ke(s,l){return ot(l||s,s)}function ln(s,l,r){const t=ke(s,r?.in);return isNaN(l)?ot(r?.in||s,NaN):(l&&t.setDate(t.getDate()+l),t)}function un(s,l,r){const t=ke(s,r?.in);if(isNaN(l))return ot(s,NaN);if(!l)return t;const o=t.getDate(),u=ot(s,t.getTime());u.setMonth(t.getMonth()+l+1,0);const d=u.getDate();return o>=d?u:(t.setFullYear(u.getFullYear(),u.getMonth(),o),t)}function Oy(s,l,r){return ot(s,+ke(s)+l)}function R5(s,l,r){return Oy(s,l*_u)}let I5={};function Ds(){return I5}function lr(s,l){const r=Ds(),t=l?.weekStartsOn??l?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=ke(s,l?.in),u=o.getDay(),d=(u<t?7:0)+u-t;return o.setDate(o.getDate()-d),o.setHours(0,0,0,0),o}function jl(s,l){return lr(s,{...l,weekStartsOn:1})}function Ry(s,l){const r=ke(s,l?.in),t=r.getFullYear(),o=ot(r,0);o.setFullYear(t+1,0,4),o.setHours(0,0,0,0);const u=jl(o),d=ot(r,0);d.setFullYear(t,0,4),d.setHours(0,0,0,0);const m=jl(d);return r.getTime()>=u.getTime()?t+1:r.getTime()>=m.getTime()?t:t-1}function uu(s){const l=ke(s),r=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()));return r.setUTCFullYear(l.getFullYear()),+s-+r}function or(s,...l){const r=ot.bind(null,l.find(t=>typeof t=="object"));return l.map(r)}function ws(s,l){const r=ke(s,l?.in);return r.setHours(0,0,0,0),r}function wl(s,l,r){const[t,o]=or(r?.in,s,l),u=ws(t),d=ws(o),m=+u-uu(u),x=+d-uu(d);return Math.round((m-x)/_5)}function L5(s,l){const r=Ry(s,l),t=ot(s,0);return t.setFullYear(r,0,4),t.setHours(0,0,0,0),jl(t)}function Qi(s,l,r){const t=ke(s,r?.in);return t.setTime(t.getTime()+l*Eu),t}function sp(s,l,r){return un(s,l*3,r)}function P5(s,l,r){return Oy(s,l*1e3)}function du(s,l,r){return ln(s,l*7,r)}function on(s,l,r){return un(s,l*12,r)}function Y0(s,l){let r,t=l?.in;return s.forEach(o=>{!t&&typeof o=="object"&&(t=ot.bind(null,o));const u=ke(o,t);(!r||r<u||isNaN(+u))&&(r=u)}),ot(t,r||NaN)}function U0(s,l){let r,t=l?.in;return s.forEach(o=>{!t&&typeof o=="object"&&(t=ot.bind(null,o));const u=ke(o,t);(!r||r>u||isNaN(+u))&&(r=u)}),ot(t,r||NaN)}function z5(s,l,r){const[t,o]=or(r?.in,s,l);return+ws(t)==+ws(o)}function Dn(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function Sl(s){return!(!Dn(s)&&typeof s!="number"||isNaN(+ke(s)))}function mu(s,l,r){const[t,o]=or(r?.in,s,l),u=t.getFullYear()-o.getFullYear(),d=t.getMonth()-o.getMonth();return u*12+d}function Lr(s,l){const r=ke(s,l?.in);return Math.trunc(r.getMonth()/3)+1}function fu(s,l,r){const[t,o]=or(r?.in,s,l),u=t.getFullYear()-o.getFullYear(),d=Lr(t)-Lr(o);return u*4+d}function pu(s,l,r){const[t,o]=or(r?.in,s,l);return t.getFullYear()-o.getFullYear()}function F5(s,l,r){const[t,o]=or(r?.in,s,l),u=q0(t,o),d=Math.abs(wl(t,o));t.setDate(t.getDate()-u*d);const m=+(q0(t,o)===-u),x=u*(d-m);return x===0?0:x}function q0(s,l){const r=s.getFullYear()-l.getFullYear()||s.getMonth()-l.getMonth()||s.getDate()-l.getDate()||s.getHours()-l.getHours()||s.getMinutes()-l.getMinutes()||s.getSeconds()-l.getSeconds()||s.getMilliseconds()-l.getMilliseconds();return r<0?-1:r>0?1:r}function Iy(s,l){const r=ke(s,l?.in);return r.setHours(23,59,59,999),r}function Ly(s,l){const r=ke(s,l?.in),t=r.getMonth();return r.setFullYear(r.getFullYear(),t+1,0),r.setHours(23,59,59,999),r}function _f(s,l){const r=ke(s,l?.in),t=r.getMonth(),o=t-t%3;return r.setMonth(o,1),r.setHours(0,0,0,0),r}function Py(s,l){const r=ke(s,l?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function zy(s,l){const r=ke(s,l?.in),t=r.getFullYear();return r.setFullYear(t+1,0,0),r.setHours(23,59,59,999),r}function Ou(s,l){const r=ke(s,l?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function B5(s,l){const r=Ds(),t=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=ke(s,l?.in),u=o.getDay(),d=(u<t?-7:0)+6-(u-t);return o.setDate(o.getDate()+d),o.setHours(23,59,59,999),o}const H5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Y5=(s,l,r)=>{let t;const o=H5[s];return typeof o=="string"?t=o:l===1?t=o.one:t=o.other.replace("{{count}}",l.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+t:t+" ago":t};function cf(s){return(l={})=>{const r=l.width?String(l.width):s.defaultWidth;return s.formats[r]||s.formats[s.defaultWidth]}}const U5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},q5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},V5={date:cf({formats:U5,defaultWidth:"full"}),time:cf({formats:q5,defaultWidth:"full"}),dateTime:cf({formats:$5,defaultWidth:"full"})},G5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Q5=(s,l,r,t)=>G5[s];function _i(s){return(l,r)=>{const t=r?.context?String(r.context):"standalone";let o;if(t==="formatting"&&s.formattingValues){const d=s.defaultFormattingWidth||s.defaultWidth,m=r?.width?String(r.width):d;o=s.formattingValues[m]||s.formattingValues[d]}else{const d=s.defaultWidth,m=r?.width?String(r.width):s.defaultWidth;o=s.values[m]||s.values[d]}const u=s.argumentCallback?s.argumentCallback(l):l;return o[u]}}const K5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},X5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},W5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Z5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},J5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ek={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tk=(s,l)=>{const r=Number(s),t=r%100;if(t>20||t<10)switch(t%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ak={ordinalNumber:tk,era:_i({values:K5,defaultWidth:"wide"}),quarter:_i({values:X5,defaultWidth:"wide",argumentCallback:s=>s-1}),month:_i({values:W5,defaultWidth:"wide"}),day:_i({values:Z5,defaultWidth:"wide"}),dayPeriod:_i({values:J5,defaultWidth:"wide",formattingValues:ek,defaultFormattingWidth:"wide"})};function Oi(s){return(l,r={})=>{const t=r.width,o=t&&s.matchPatterns[t]||s.matchPatterns[s.defaultMatchWidth],u=l.match(o);if(!u)return null;const d=u[0],m=t&&s.parsePatterns[t]||s.parsePatterns[s.defaultParseWidth],x=Array.isArray(m)?rk(m,b=>b.test(d)):nk(m,b=>b.test(d));let p;p=s.valueCallback?s.valueCallback(x):x,p=r.valueCallback?r.valueCallback(p):p;const v=l.slice(d.length);return{value:p,rest:v}}}function nk(s,l){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r)&&l(s[r]))return r}function rk(s,l){for(let r=0;r<s.length;r++)if(l(s[r]))return r}function sk(s){return(l,r={})=>{const t=l.match(s.matchPattern);if(!t)return null;const o=t[0],u=l.match(s.parsePattern);if(!u)return null;let d=s.valueCallback?s.valueCallback(u[0]):u[0];d=r.valueCallback?r.valueCallback(d):d;const m=l.slice(o.length);return{value:d,rest:m}}}const lk=/^(\d+)(th|st|nd|rd)?/i,ik=/\d+/i,ok={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ck={any:[/^b/i,/^(a|c)/i]},uk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dk={any:[/1/i,/2/i,/3/i,/4/i]},mk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bk={ordinalNumber:sk({matchPattern:lk,parsePattern:ik,valueCallback:s=>parseInt(s,10)}),era:Oi({matchPatterns:ok,defaultMatchWidth:"wide",parsePatterns:ck,defaultParseWidth:"any"}),quarter:Oi({matchPatterns:uk,defaultMatchWidth:"wide",parsePatterns:dk,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Oi({matchPatterns:mk,defaultMatchWidth:"wide",parsePatterns:fk,defaultParseWidth:"any"}),day:Oi({matchPatterns:pk,defaultMatchWidth:"wide",parsePatterns:xk,defaultParseWidth:"any"}),dayPeriod:Oi({matchPatterns:hk,defaultMatchWidth:"any",parsePatterns:vk,defaultParseWidth:"any"})},Fy={code:"en-US",formatDistance:Y5,formatLong:V5,formatRelative:Q5,localize:ak,match:bk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gk(s,l){const r=ke(s,l?.in);return wl(r,Ou(r))+1}function lp(s,l){const r=ke(s,l?.in),t=+jl(r)-+L5(r);return Math.round(t/_y)+1}function ip(s,l){const r=ke(s,l?.in),t=r.getFullYear(),o=Ds(),u=l?.firstWeekContainsDate??l?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,d=ot(l?.in||s,0);d.setFullYear(t+1,0,u),d.setHours(0,0,0,0);const m=lr(d,l),x=ot(l?.in||s,0);x.setFullYear(t,0,u),x.setHours(0,0,0,0);const p=lr(x,l);return+r>=+m?t+1:+r>=+p?t:t-1}function yk(s,l){const r=Ds(),t=l?.firstWeekContainsDate??l?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=ip(s,l),u=ot(l?.in||s,0);return u.setFullYear(o,0,t),u.setHours(0,0,0,0),lr(u,l)}function By(s,l){const r=ke(s,l?.in),t=+lr(r,l)-+yk(r,l);return Math.round(t/_y)+1}function it(s,l){const r=s<0?"-":"",t=Math.abs(s).toString().padStart(l,"0");return r+t}const Rr={y(s,l){const r=s.getFullYear(),t=r>0?r:1-r;return it(l==="yy"?t%100:t,l.length)},M(s,l){const r=s.getMonth();return l==="M"?String(r+1):it(r+1,2)},d(s,l){return it(s.getDate(),l.length)},a(s,l){const r=s.getHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(s,l){return it(s.getHours()%12||12,l.length)},H(s,l){return it(s.getHours(),l.length)},m(s,l){return it(s.getMinutes(),l.length)},s(s,l){return it(s.getSeconds(),l.length)},S(s,l){const r=l.length,t=s.getMilliseconds(),o=Math.trunc(t*Math.pow(10,r-3));return it(o,l.length)}},ul={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$0={G:function(s,l,r){const t=s.getFullYear()>0?1:0;switch(l){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"});case"GGGGG":return r.era(t,{width:"narrow"});default:return r.era(t,{width:"wide"})}},y:function(s,l,r){if(l==="yo"){const t=s.getFullYear(),o=t>0?t:1-t;return r.ordinalNumber(o,{unit:"year"})}return Rr.y(s,l)},Y:function(s,l,r,t){const o=ip(s,t),u=o>0?o:1-o;if(l==="YY"){const d=u%100;return it(d,2)}return l==="Yo"?r.ordinalNumber(u,{unit:"year"}):it(u,l.length)},R:function(s,l){const r=Ry(s);return it(r,l.length)},u:function(s,l){const r=s.getFullYear();return it(r,l.length)},Q:function(s,l,r){const t=Math.ceil((s.getMonth()+1)/3);switch(l){case"Q":return String(t);case"QQ":return it(t,2);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});default:return r.quarter(t,{width:"wide",context:"formatting"})}},q:function(s,l,r){const t=Math.ceil((s.getMonth()+1)/3);switch(l){case"q":return String(t);case"qq":return it(t,2);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});default:return r.quarter(t,{width:"wide",context:"standalone"})}},M:function(s,l,r){const t=s.getMonth();switch(l){case"M":case"MM":return Rr.M(s,l);case"Mo":return r.ordinalNumber(t+1,{unit:"month"});case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});default:return r.month(t,{width:"wide",context:"formatting"})}},L:function(s,l,r){const t=s.getMonth();switch(l){case"L":return String(t+1);case"LL":return it(t+1,2);case"Lo":return r.ordinalNumber(t+1,{unit:"month"});case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});default:return r.month(t,{width:"wide",context:"standalone"})}},w:function(s,l,r,t){const o=By(s,t);return l==="wo"?r.ordinalNumber(o,{unit:"week"}):it(o,l.length)},I:function(s,l,r){const t=lp(s);return l==="Io"?r.ordinalNumber(t,{unit:"week"}):it(t,l.length)},d:function(s,l,r){return l==="do"?r.ordinalNumber(s.getDate(),{unit:"date"}):Rr.d(s,l)},D:function(s,l,r){const t=gk(s);return l==="Do"?r.ordinalNumber(t,{unit:"dayOfYear"}):it(t,l.length)},E:function(s,l,r){const t=s.getDay();switch(l){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})}},e:function(s,l,r,t){const o=s.getDay(),u=(o-t.weekStartsOn+8)%7||7;switch(l){case"e":return String(u);case"ee":return it(u,2);case"eo":return r.ordinalNumber(u,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(s,l,r,t){const o=s.getDay(),u=(o-t.weekStartsOn+8)%7||7;switch(l){case"c":return String(u);case"cc":return it(u,l.length);case"co":return r.ordinalNumber(u,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(s,l,r){const t=s.getDay(),o=t===0?7:t;switch(l){case"i":return String(o);case"ii":return it(o,l.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(t,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(t,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(t,{width:"short",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})}},a:function(s,l,r){const o=s.getHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(s,l,r){const t=s.getHours();let o;switch(t===12?o=ul.noon:t===0?o=ul.midnight:o=t/12>=1?"pm":"am",l){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(s,l,r){const t=s.getHours();let o;switch(t>=17?o=ul.evening:t>=12?o=ul.afternoon:t>=4?o=ul.morning:o=ul.night,l){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(s,l,r){if(l==="ho"){let t=s.getHours()%12;return t===0&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return Rr.h(s,l)},H:function(s,l,r){return l==="Ho"?r.ordinalNumber(s.getHours(),{unit:"hour"}):Rr.H(s,l)},K:function(s,l,r){const t=s.getHours()%12;return l==="Ko"?r.ordinalNumber(t,{unit:"hour"}):it(t,l.length)},k:function(s,l,r){let t=s.getHours();return t===0&&(t=24),l==="ko"?r.ordinalNumber(t,{unit:"hour"}):it(t,l.length)},m:function(s,l,r){return l==="mo"?r.ordinalNumber(s.getMinutes(),{unit:"minute"}):Rr.m(s,l)},s:function(s,l,r){return l==="so"?r.ordinalNumber(s.getSeconds(),{unit:"second"}):Rr.s(s,l)},S:function(s,l){return Rr.S(s,l)},X:function(s,l,r){const t=s.getTimezoneOffset();if(t===0)return"Z";switch(l){case"X":return G0(t);case"XXXX":case"XX":return ps(t);default:return ps(t,":")}},x:function(s,l,r){const t=s.getTimezoneOffset();switch(l){case"x":return G0(t);case"xxxx":case"xx":return ps(t);default:return ps(t,":")}},O:function(s,l,r){const t=s.getTimezoneOffset();switch(l){case"O":case"OO":case"OOO":return"GMT"+V0(t,":");default:return"GMT"+ps(t,":")}},z:function(s,l,r){const t=s.getTimezoneOffset();switch(l){case"z":case"zz":case"zzz":return"GMT"+V0(t,":");default:return"GMT"+ps(t,":")}},t:function(s,l,r){const t=Math.trunc(+s/1e3);return it(t,l.length)},T:function(s,l,r){return it(+s,l.length)}};function V0(s,l=""){const r=s>0?"-":"+",t=Math.abs(s),o=Math.trunc(t/60),u=t%60;return u===0?r+String(o):r+String(o)+l+it(u,2)}function G0(s,l){return s%60===0?(s>0?"-":"+")+it(Math.abs(s)/60,2):ps(s,l)}function ps(s,l=""){const r=s>0?"-":"+",t=Math.abs(s),o=it(Math.trunc(t/60),2),u=it(t%60,2);return r+o+l+u}const Q0=(s,l)=>{switch(s){case"P":return l.date({width:"short"});case"PP":return l.date({width:"medium"});case"PPP":return l.date({width:"long"});default:return l.date({width:"full"})}},Hy=(s,l)=>{switch(s){case"p":return l.time({width:"short"});case"pp":return l.time({width:"medium"});case"ppp":return l.time({width:"long"});default:return l.time({width:"full"})}},Nk=(s,l)=>{const r=s.match(/(P+)(p+)?/)||[],t=r[1],o=r[2];if(!o)return Q0(s,l);let u;switch(t){case"P":u=l.dateTime({width:"short"});break;case"PP":u=l.dateTime({width:"medium"});break;case"PPP":u=l.dateTime({width:"long"});break;default:u=l.dateTime({width:"full"});break}return u.replace("{{date}}",Q0(t,l)).replace("{{time}}",Hy(o,l))},Of={p:Hy,P:Nk},jk=/^D+$/,wk=/^Y+$/,Sk=["D","DD","YY","YYYY"];function Ck(s){return jk.test(s)}function kk(s){return wk.test(s)}function Dk(s,l,r){const t=Mk(s,l,r);if(console.warn(t),Sk.includes(s))throw new RangeError(t)}function Mk(s,l,r){const t=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${l}\`) for formatting ${t} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ak=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Tk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ek=/^'([^]*?)'?$/,_k=/''/g,Ok=/[a-zA-Z]/;function K0(s,l,r){const t=Ds(),o=r?.locale??t.locale??Fy,u=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,d=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,m=ke(s,r?.in);if(!Sl(m))throw new RangeError("Invalid time value");let x=l.match(Tk).map(v=>{const b=v[0];if(b==="p"||b==="P"){const N=Of[b];return N(v,o.formatLong)}return v}).join("").match(Ak).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const b=v[0];if(b==="'")return{isToken:!1,value:Rk(v)};if($0[b])return{isToken:!0,value:v};if(b.match(Ok))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:v}});o.localize.preprocessor&&(x=o.localize.preprocessor(m,x));const p={firstWeekContainsDate:u,weekStartsOn:d,locale:o};return x.map(v=>{if(!v.isToken)return v.value;const b=v.value;(!r?.useAdditionalWeekYearTokens&&kk(b)||!r?.useAdditionalDayOfYearTokens&&Ck(b))&&Dk(b,l,String(s));const N=$0[b[0]];return N(m,b,o.localize,p)}).join("")}function Rk(s){const l=s.match(Ek);return l?l[1].replace(_k,"'"):s}function X0(s,l){return ke(s,l?.in).getDate()}function Ik(s,l){return ke(s,l?.in).getDay()}function Lk(s,l){const r=ke(s,l?.in),t=r.getFullYear(),o=r.getMonth(),u=ot(r,0);return u.setFullYear(t,o+1,0),u.setHours(0,0,0,0),u.getDate()}function Pk(){return Object.assign({},Ds())}function na(s,l){return ke(s,l?.in).getHours()}function zk(s,l){const r=ke(s,l?.in).getDay();return r===0?7:r}function ra(s,l){return ke(s,l?.in).getMinutes()}function ja(s,l){return ke(s,l?.in).getMonth()}function Fr(s){return ke(s).getSeconds()}function Rf(s){return+ke(s)}function Ye(s,l){return ke(s,l?.in).getFullYear()}function nr(s,l){return+ke(s)>+ke(l)}function Sn(s,l){return+ke(s)<+ke(l)}function Fk(s,l){return+ke(s)==+ke(l)}function Bk(s,l){const r=Hk(l)?new l(0):ot(l,0);return r.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()),r.setHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),r}function Hk(s){return typeof s=="function"&&s.prototype?.constructor===s}const Yk=10;class Yy{subPriority=0;validate(l,r){return!0}}class Uk extends Yy{constructor(l,r,t,o,u){super(),this.value=l,this.validateValue=r,this.setValue=t,this.priority=o,u&&(this.subPriority=u)}validate(l,r){return this.validateValue(l,this.value,r)}set(l,r,t){return this.setValue(l,r,this.value,t)}}class qk extends Yy{priority=Yk;subPriority=-1;constructor(l,r){super(),this.context=l||(t=>ot(r,t))}set(l,r){return r.timestampIsSet?l:ot(l,Bk(l,this.context))}}class nt{run(l,r,t,o){const u=this.parse(l,r,t,o);return u?{setter:new Uk(u.value,this.validate,this.set,this.priority,this.subPriority),rest:u.rest}:null}validate(l,r,t){return!0}}class $k extends nt{priority=140;parse(l,r,t){switch(r){case"G":case"GG":case"GGG":return t.era(l,{width:"abbreviated"})||t.era(l,{width:"narrow"});case"GGGGG":return t.era(l,{width:"narrow"});default:return t.era(l,{width:"wide"})||t.era(l,{width:"abbreviated"})||t.era(l,{width:"narrow"})}}set(l,r,t){return r.era=t,l.setFullYear(t,0,1),l.setHours(0,0,0,0),l}incompatibleTokens=["R","u","t","T"]}const _t={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},jn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ot(s,l){return s&&{value:l(s.value),rest:s.rest}}function St(s,l){const r=l.match(s);return r?{value:parseInt(r[0],10),rest:l.slice(r[0].length)}:null}function wn(s,l){const r=l.match(s);if(!r)return null;if(r[0]==="Z")return{value:0,rest:l.slice(1)};const t=r[1]==="+"?1:-1,o=r[2]?parseInt(r[2],10):0,u=r[3]?parseInt(r[3],10):0,d=r[5]?parseInt(r[5],10):0;return{value:t*(o*_u+u*Eu+d*O5),rest:l.slice(r[0].length)}}function Uy(s){return St(_t.anyDigitsSigned,s)}function Dt(s,l){switch(s){case 1:return St(_t.singleDigit,l);case 2:return St(_t.twoDigits,l);case 3:return St(_t.threeDigits,l);case 4:return St(_t.fourDigits,l);default:return St(new RegExp("^\\d{1,"+s+"}"),l)}}function xu(s,l){switch(s){case 1:return St(_t.singleDigitSigned,l);case 2:return St(_t.twoDigitsSigned,l);case 3:return St(_t.threeDigitsSigned,l);case 4:return St(_t.fourDigitsSigned,l);default:return St(new RegExp("^-?\\d{1,"+s+"}"),l)}}function op(s){switch(s){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function qy(s,l){const r=l>0,t=r?l:1-l;let o;if(t<=50)o=s||100;else{const u=t+50,d=Math.trunc(u/100)*100,m=s>=u%100;o=s+d-(m?100:0)}return r?o:1-o}function $y(s){return s%400===0||s%4===0&&s%100!==0}class Vk extends nt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(l,r,t){const o=u=>({year:u,isTwoDigitYear:r==="yy"});switch(r){case"y":return Ot(Dt(4,l),o);case"yo":return Ot(t.ordinalNumber(l,{unit:"year"}),o);default:return Ot(Dt(r.length,l),o)}}validate(l,r){return r.isTwoDigitYear||r.year>0}set(l,r,t){const o=l.getFullYear();if(t.isTwoDigitYear){const d=qy(t.year,o);return l.setFullYear(d,0,1),l.setHours(0,0,0,0),l}const u=!("era"in r)||r.era===1?t.year:1-t.year;return l.setFullYear(u,0,1),l.setHours(0,0,0,0),l}}class Gk extends nt{priority=130;parse(l,r,t){const o=u=>({year:u,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Ot(Dt(4,l),o);case"Yo":return Ot(t.ordinalNumber(l,{unit:"year"}),o);default:return Ot(Dt(r.length,l),o)}}validate(l,r){return r.isTwoDigitYear||r.year>0}set(l,r,t,o){const u=ip(l,o);if(t.isTwoDigitYear){const m=qy(t.year,u);return l.setFullYear(m,0,o.firstWeekContainsDate),l.setHours(0,0,0,0),lr(l,o)}const d=!("era"in r)||r.era===1?t.year:1-t.year;return l.setFullYear(d,0,o.firstWeekContainsDate),l.setHours(0,0,0,0),lr(l,o)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class Qk extends nt{priority=130;parse(l,r){return xu(r==="R"?4:r.length,l)}set(l,r,t){const o=ot(l,0);return o.setFullYear(t,0,4),o.setHours(0,0,0,0),jl(o)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class Kk extends nt{priority=130;parse(l,r){return xu(r==="u"?4:r.length,l)}set(l,r,t){return l.setFullYear(t,0,1),l.setHours(0,0,0,0),l}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class Xk extends nt{priority=120;parse(l,r,t){switch(r){case"Q":case"QQ":return Dt(r.length,l);case"Qo":return t.ordinalNumber(l,{unit:"quarter"});case"QQQ":return t.quarter(l,{width:"abbreviated",context:"formatting"})||t.quarter(l,{width:"narrow",context:"formatting"});case"QQQQQ":return t.quarter(l,{width:"narrow",context:"formatting"});default:return t.quarter(l,{width:"wide",context:"formatting"})||t.quarter(l,{width:"abbreviated",context:"formatting"})||t.quarter(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=1&&r<=4}set(l,r,t){return l.setMonth((t-1)*3,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class Wk extends nt{priority=120;parse(l,r,t){switch(r){case"q":case"qq":return Dt(r.length,l);case"qo":return t.ordinalNumber(l,{unit:"quarter"});case"qqq":return t.quarter(l,{width:"abbreviated",context:"standalone"})||t.quarter(l,{width:"narrow",context:"standalone"});case"qqqqq":return t.quarter(l,{width:"narrow",context:"standalone"});default:return t.quarter(l,{width:"wide",context:"standalone"})||t.quarter(l,{width:"abbreviated",context:"standalone"})||t.quarter(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=1&&r<=4}set(l,r,t){return l.setMonth((t-1)*3,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class Zk extends nt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(l,r,t){const o=u=>u-1;switch(r){case"M":return Ot(St(_t.month,l),o);case"MM":return Ot(Dt(2,l),o);case"Mo":return Ot(t.ordinalNumber(l,{unit:"month"}),o);case"MMM":return t.month(l,{width:"abbreviated",context:"formatting"})||t.month(l,{width:"narrow",context:"formatting"});case"MMMMM":return t.month(l,{width:"narrow",context:"formatting"});default:return t.month(l,{width:"wide",context:"formatting"})||t.month(l,{width:"abbreviated",context:"formatting"})||t.month(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=11}set(l,r,t){return l.setMonth(t,1),l.setHours(0,0,0,0),l}}class Jk extends nt{priority=110;parse(l,r,t){const o=u=>u-1;switch(r){case"L":return Ot(St(_t.month,l),o);case"LL":return Ot(Dt(2,l),o);case"Lo":return Ot(t.ordinalNumber(l,{unit:"month"}),o);case"LLL":return t.month(l,{width:"abbreviated",context:"standalone"})||t.month(l,{width:"narrow",context:"standalone"});case"LLLLL":return t.month(l,{width:"narrow",context:"standalone"});default:return t.month(l,{width:"wide",context:"standalone"})||t.month(l,{width:"abbreviated",context:"standalone"})||t.month(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=0&&r<=11}set(l,r,t){return l.setMonth(t,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function eD(s,l,r){const t=ke(s,r?.in),o=By(t,r)-l;return t.setDate(t.getDate()-o*7),ke(t,r?.in)}class tD extends nt{priority=100;parse(l,r,t){switch(r){case"w":return St(_t.week,l);case"wo":return t.ordinalNumber(l,{unit:"week"});default:return Dt(r.length,l)}}validate(l,r){return r>=1&&r<=53}set(l,r,t,o){return lr(eD(l,t,o),o)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function aD(s,l,r){const t=ke(s,r?.in),o=lp(t,r)-l;return t.setDate(t.getDate()-o*7),t}class nD extends nt{priority=100;parse(l,r,t){switch(r){case"I":return St(_t.week,l);case"Io":return t.ordinalNumber(l,{unit:"week"});default:return Dt(r.length,l)}}validate(l,r){return r>=1&&r<=53}set(l,r,t){return jl(aD(l,t))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const rD=[31,28,31,30,31,30,31,31,30,31,30,31],sD=[31,29,31,30,31,30,31,31,30,31,30,31];class lD extends nt{priority=90;subPriority=1;parse(l,r,t){switch(r){case"d":return St(_t.date,l);case"do":return t.ordinalNumber(l,{unit:"date"});default:return Dt(r.length,l)}}validate(l,r){const t=l.getFullYear(),o=$y(t),u=l.getMonth();return o?r>=1&&r<=sD[u]:r>=1&&r<=rD[u]}set(l,r,t){return l.setDate(t),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class iD extends nt{priority=90;subpriority=1;parse(l,r,t){switch(r){case"D":case"DD":return St(_t.dayOfYear,l);case"Do":return t.ordinalNumber(l,{unit:"date"});default:return Dt(r.length,l)}}validate(l,r){const t=l.getFullYear();return $y(t)?r>=1&&r<=366:r>=1&&r<=365}set(l,r,t){return l.setMonth(0,t),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function cp(s,l,r){const t=Ds(),o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,u=ke(s,r?.in),d=u.getDay(),x=(l%7+7)%7,p=7-o,v=l<0||l>6?l-(d+p)%7:(x+p)%7-(d+p)%7;return ln(u,v,r)}class oD extends nt{priority=90;parse(l,r,t){switch(r){case"E":case"EE":case"EEE":return t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});case"EEEEE":return t.day(l,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});default:return t.day(l,{width:"wide",context:"formatting"})||t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=6}set(l,r,t,o){return l=cp(l,t,o),l.setHours(0,0,0,0),l}incompatibleTokens=["D","i","e","c","t","T"]}class cD extends nt{priority=90;parse(l,r,t,o){const u=d=>{const m=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+m};switch(r){case"e":case"ee":return Ot(Dt(r.length,l),u);case"eo":return Ot(t.ordinalNumber(l,{unit:"day"}),u);case"eee":return t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});case"eeeee":return t.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});default:return t.day(l,{width:"wide",context:"formatting"})||t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=6}set(l,r,t,o){return l=cp(l,t,o),l.setHours(0,0,0,0),l}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class uD extends nt{priority=90;parse(l,r,t,o){const u=d=>{const m=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+m};switch(r){case"c":case"cc":return Ot(Dt(r.length,l),u);case"co":return Ot(t.ordinalNumber(l,{unit:"day"}),u);case"ccc":return t.day(l,{width:"abbreviated",context:"standalone"})||t.day(l,{width:"short",context:"standalone"})||t.day(l,{width:"narrow",context:"standalone"});case"ccccc":return t.day(l,{width:"narrow",context:"standalone"});case"cccccc":return t.day(l,{width:"short",context:"standalone"})||t.day(l,{width:"narrow",context:"standalone"});default:return t.day(l,{width:"wide",context:"standalone"})||t.day(l,{width:"abbreviated",context:"standalone"})||t.day(l,{width:"short",context:"standalone"})||t.day(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=0&&r<=6}set(l,r,t,o){return l=cp(l,t,o),l.setHours(0,0,0,0),l}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function dD(s,l,r){const t=ke(s,r?.in),o=zk(t,r),u=l-o;return ln(t,u,r)}class mD extends nt{priority=90;parse(l,r,t){const o=u=>u===0?7:u;switch(r){case"i":case"ii":return Dt(r.length,l);case"io":return t.ordinalNumber(l,{unit:"day"});case"iii":return Ot(t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"}),o);case"iiiii":return Ot(t.day(l,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Ot(t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"}),o);default:return Ot(t.day(l,{width:"wide",context:"formatting"})||t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"}),o)}}validate(l,r){return r>=1&&r<=7}set(l,r,t){return l=dD(l,t),l.setHours(0,0,0,0),l}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class fD extends nt{priority=80;parse(l,r,t){switch(r){case"a":case"aa":case"aaa":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaaa":return t.dayPeriod(l,{width:"narrow",context:"formatting"});default:return t.dayPeriod(l,{width:"wide",context:"formatting"})||t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,t){return l.setHours(op(t),0,0,0),l}incompatibleTokens=["b","B","H","k","t","T"]}class pD extends nt{priority=80;parse(l,r,t){switch(r){case"b":case"bb":case"bbb":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbbb":return t.dayPeriod(l,{width:"narrow",context:"formatting"});default:return t.dayPeriod(l,{width:"wide",context:"formatting"})||t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,t){return l.setHours(op(t),0,0,0),l}incompatibleTokens=["a","B","H","k","t","T"]}class xD extends nt{priority=80;parse(l,r,t){switch(r){case"B":case"BB":case"BBB":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBBB":return t.dayPeriod(l,{width:"narrow",context:"formatting"});default:return t.dayPeriod(l,{width:"wide",context:"formatting"})||t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,t){return l.setHours(op(t),0,0,0),l}incompatibleTokens=["a","b","t","T"]}class hD extends nt{priority=70;parse(l,r,t){switch(r){case"h":return St(_t.hour12h,l);case"ho":return t.ordinalNumber(l,{unit:"hour"});default:return Dt(r.length,l)}}validate(l,r){return r>=1&&r<=12}set(l,r,t){const o=l.getHours()>=12;return o&&t<12?l.setHours(t+12,0,0,0):!o&&t===12?l.setHours(0,0,0,0):l.setHours(t,0,0,0),l}incompatibleTokens=["H","K","k","t","T"]}class vD extends nt{priority=70;parse(l,r,t){switch(r){case"H":return St(_t.hour23h,l);case"Ho":return t.ordinalNumber(l,{unit:"hour"});default:return Dt(r.length,l)}}validate(l,r){return r>=0&&r<=23}set(l,r,t){return l.setHours(t,0,0,0),l}incompatibleTokens=["a","b","h","K","k","t","T"]}class bD extends nt{priority=70;parse(l,r,t){switch(r){case"K":return St(_t.hour11h,l);case"Ko":return t.ordinalNumber(l,{unit:"hour"});default:return Dt(r.length,l)}}validate(l,r){return r>=0&&r<=11}set(l,r,t){return l.getHours()>=12&&t<12?l.setHours(t+12,0,0,0):l.setHours(t,0,0,0),l}incompatibleTokens=["h","H","k","t","T"]}class gD extends nt{priority=70;parse(l,r,t){switch(r){case"k":return St(_t.hour24h,l);case"ko":return t.ordinalNumber(l,{unit:"hour"});default:return Dt(r.length,l)}}validate(l,r){return r>=1&&r<=24}set(l,r,t){const o=t<=24?t%24:t;return l.setHours(o,0,0,0),l}incompatibleTokens=["a","b","h","H","K","t","T"]}class yD extends nt{priority=60;parse(l,r,t){switch(r){case"m":return St(_t.minute,l);case"mo":return t.ordinalNumber(l,{unit:"minute"});default:return Dt(r.length,l)}}validate(l,r){return r>=0&&r<=59}set(l,r,t){return l.setMinutes(t,0,0),l}incompatibleTokens=["t","T"]}class ND extends nt{priority=50;parse(l,r,t){switch(r){case"s":return St(_t.second,l);case"so":return t.ordinalNumber(l,{unit:"second"});default:return Dt(r.length,l)}}validate(l,r){return r>=0&&r<=59}set(l,r,t){return l.setSeconds(t,0),l}incompatibleTokens=["t","T"]}class jD extends nt{priority=30;parse(l,r){const t=o=>Math.trunc(o*Math.pow(10,-r.length+3));return Ot(Dt(r.length,l),t)}set(l,r,t){return l.setMilliseconds(t),l}incompatibleTokens=["t","T"]}class wD extends nt{priority=10;parse(l,r){switch(r){case"X":return wn(jn.basicOptionalMinutes,l);case"XX":return wn(jn.basic,l);case"XXXX":return wn(jn.basicOptionalSeconds,l);case"XXXXX":return wn(jn.extendedOptionalSeconds,l);default:return wn(jn.extended,l)}}set(l,r,t){return r.timestampIsSet?l:ot(l,l.getTime()-uu(l)-t)}incompatibleTokens=["t","T","x"]}class SD extends nt{priority=10;parse(l,r){switch(r){case"x":return wn(jn.basicOptionalMinutes,l);case"xx":return wn(jn.basic,l);case"xxxx":return wn(jn.basicOptionalSeconds,l);case"xxxxx":return wn(jn.extendedOptionalSeconds,l);default:return wn(jn.extended,l)}}set(l,r,t){return r.timestampIsSet?l:ot(l,l.getTime()-uu(l)-t)}incompatibleTokens=["t","T","X"]}class CD extends nt{priority=40;parse(l){return Uy(l)}set(l,r,t){return[ot(l,t*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class kD extends nt{priority=20;parse(l){return Uy(l)}set(l,r,t){return[ot(l,t),{timestampIsSet:!0}]}incompatibleTokens="*"}const DD={G:new $k,y:new Vk,Y:new Gk,R:new Qk,u:new Kk,Q:new Xk,q:new Wk,M:new Zk,L:new Jk,w:new tD,I:new nD,d:new lD,D:new iD,E:new oD,e:new cD,c:new uD,i:new mD,a:new fD,b:new pD,B:new xD,h:new hD,H:new vD,K:new bD,k:new gD,m:new yD,s:new ND,S:new jD,X:new wD,x:new SD,t:new CD,T:new kD},MD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,AD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TD=/^'([^]*?)'?$/,ED=/''/g,_D=/\S/,OD=/[a-zA-Z]/;function RD(s,l,r,t){const o=()=>ot(t?.in||r,NaN),u=Pk(),d=t?.locale??u.locale??Fy,m=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,x=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0;if(!l)return s?o():ke(r,t?.in);const p={firstWeekContainsDate:m,weekStartsOn:x,locale:d},v=[new qk(t?.in,r)],b=l.match(AD).map(g=>{const j=g[0];if(j in Of){const D=Of[j];return D(g,d.formatLong)}return g}).join("").match(MD),N=[];for(let g of b){const j=g[0],D=DD[j];if(D){const{incompatibleTokens:y}=D;if(Array.isArray(y)){const O=N.find(U=>y.includes(U.token)||U.token===j);if(O)throw new RangeError(`The format string mustn't contain \`${O.fullToken}\` and \`${g}\` at the same time`)}else if(D.incompatibleTokens==="*"&&N.length>0)throw new RangeError(`The format string mustn't contain \`${g}\` and any other token at the same time`);N.push({token:j,fullToken:g});const _=D.run(s,g,d.match,p);if(!_)return o();v.push(_.setter),s=_.rest}else{if(j.match(OD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");if(g==="''"?g="'":j==="'"&&(g=ID(g)),s.indexOf(g)===0)s=s.slice(g.length);else return o()}}if(s.length>0&&_D.test(s))return o();const C=v.map(g=>g.priority).sort((g,j)=>j-g).filter((g,j,D)=>D.indexOf(g)===j).map(g=>v.filter(j=>j.priority===g).sort((j,D)=>D.subPriority-j.subPriority)).map(g=>g[0]);let M=ke(r,t?.in);if(isNaN(+M))return o();const S={};for(const g of C){if(!g.validate(M,p))return o();const j=g.set(M,S,p);Array.isArray(j)?(M=j[0],Object.assign(S,j[1])):M=j}return M}function ID(s){return s.match(TD)[1].replace(ED,"'")}function LD(s,l,r){const[t,o]=or(r?.in,s,l);return t.getFullYear()===o.getFullYear()&&t.getMonth()===o.getMonth()}function PD(s,l,r){const[t,o]=or(r?.in,s,l);return+_f(t)==+_f(o)}function zD(s,l,r){const[t,o]=or(r?.in,s,l);return t.getFullYear()===o.getFullYear()}function Ki(s,l,r){const t=+ke(s,r?.in),[o,u]=[+ke(l.start,r?.in),+ke(l.end,r?.in)].sort((d,m)=>d-m);return t>=o&&t<=u}function FD(s,l,r){return ln(s,-1,r)}function BD(s,l){const r=()=>ot(l?.in,NaN),o=qD(s);let u;if(o.date){const p=$D(o.date,2);u=VD(p.restDateString,p.year)}if(!u||isNaN(+u))return r();const d=+u;let m=0,x;if(o.time&&(m=GD(o.time),isNaN(m)))return r();if(o.timezone){if(x=QD(o.timezone),isNaN(x))return r()}else{const p=new Date(d+m),v=ke(0,l?.in);return v.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),v.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),v}return ke(d+m+x,l?.in)}const kc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},HD=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,YD=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,UD=/^([+-])(\d{2})(?::?(\d{2}))?$/;function qD(s){const l={},r=s.split(kc.dateTimeDelimiter);let t;if(r.length>2)return l;if(/:/.test(r[0])?t=r[0]:(l.date=r[0],t=r[1],kc.timeZoneDelimiter.test(l.date)&&(l.date=s.split(kc.timeZoneDelimiter)[0],t=s.substr(l.date.length,s.length))),t){const o=kc.timezone.exec(t);o?(l.time=t.replace(o[1],""),l.timezone=o[1]):l.time=t}return l}function $D(s,l){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+l)+"})|(\\d{2}|[+-]\\d{"+(2+l)+"})$)"),t=s.match(r);if(!t)return{year:NaN,restDateString:""};const o=t[1]?parseInt(t[1]):null,u=t[2]?parseInt(t[2]):null;return{year:u===null?o:u*100,restDateString:s.slice((t[1]||t[2]).length)}}function VD(s,l){if(l===null)return new Date(NaN);const r=s.match(HD);if(!r)return new Date(NaN);const t=!!r[4],o=Ri(r[1]),u=Ri(r[2])-1,d=Ri(r[3]),m=Ri(r[4]),x=Ri(r[5])-1;if(t)return JD(l,m,x)?KD(l,m,x):new Date(NaN);{const p=new Date(0);return!WD(l,u,d)||!ZD(l,o)?new Date(NaN):(p.setUTCFullYear(l,u,Math.max(o,d)),p)}}function Ri(s){return s?parseInt(s):1}function GD(s){const l=s.match(YD);if(!l)return NaN;const r=uf(l[1]),t=uf(l[2]),o=uf(l[3]);return eM(r,t,o)?r*_u+t*Eu+o*1e3:NaN}function uf(s){return s&&parseFloat(s.replace(",","."))||0}function QD(s){if(s==="Z")return 0;const l=s.match(UD);if(!l)return 0;const r=l[1]==="+"?-1:1,t=parseInt(l[2]),o=l[3]&&parseInt(l[3])||0;return tM(t,o)?r*(t*_u+o*Eu):NaN}function KD(s,l,r){const t=new Date(0);t.setUTCFullYear(s,0,4);const o=t.getUTCDay()||7,u=(l-1)*7+r+1-o;return t.setUTCDate(t.getUTCDate()+u),t}const XD=[31,null,31,30,31,30,31,31,30,31,30,31];function Vy(s){return s%400===0||s%4===0&&s%100!==0}function WD(s,l,r){return l>=0&&l<=11&&r>=1&&r<=(XD[l]||(Vy(s)?29:28))}function ZD(s,l){return l>=1&&l<=(Vy(s)?366:365)}function JD(s,l,r){return l>=1&&l<=53&&r>=0&&r<=6}function eM(s,l,r){return s===24?l===0&&r===0:r>=0&&r<60&&l>=0&&l<60&&s>=0&&s<25}function tM(s,l){return l>=0&&l<=59}function Ra(s,l,r){const t=ke(s,r?.in),o=t.getFullYear(),u=t.getDate(),d=ot(s,0);d.setFullYear(o,l,15),d.setHours(0,0,0,0);const m=Lk(d);return t.setMonth(l,Math.min(u,m)),t}function Wc(s,l,r){const t=ke(s,r?.in);return t.setHours(l),t}function Zc(s,l,r){const t=ke(s,r?.in);return t.setMinutes(l),t}function xl(s,l,r){const t=ke(s,r?.in),o=Math.trunc(t.getMonth()/3)+1,u=l-o;return Ra(t,t.getMonth()+u*3)}function Jc(s,l,r){const t=ke(s,r?.in);return t.setSeconds(l),t}function yn(s,l,r){const t=ke(s,r?.in);return isNaN(+t)?ot(s,NaN):(t.setFullYear(l),t)}function Ns(s,l,r){return un(s,-l,r)}function Gy(s,l,r){return sp(s,-1,r)}function W0(s,l,r){return du(s,-1,r)}function Hr(s,l,r){return on(s,-l,r)}function Ru(){return typeof window<"u"}function Il(s){return Qy(s)?(s.nodeName||"").toLowerCase():"#document"}function La(s){var l;return(s==null||(l=s.ownerDocument)==null?void 0:l.defaultView)||window}function _n(s){var l;return(l=(Qy(s)?s.ownerDocument:s.document)||window.document)==null?void 0:l.documentElement}function Qy(s){return Ru()?s instanceof Node||s instanceof La(s).Node:!1}function ca(s){return Ru()?s instanceof Element||s instanceof La(s).Element:!1}function An(s){return Ru()?s instanceof HTMLElement||s instanceof La(s).HTMLElement:!1}function Z0(s){return!Ru()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof La(s).ShadowRoot}const aM=new Set(["inline","contents"]);function to(s){const{overflow:l,overflowX:r,overflowY:t,display:o}=Za(s);return/auto|scroll|overlay|hidden|clip/.test(l+t+r)&&!aM.has(o)}const nM=new Set(["table","td","th"]);function rM(s){return nM.has(Il(s))}const sM=[":popover-open",":modal"];function Iu(s){return sM.some(l=>{try{return s.matches(l)}catch{return!1}})}const lM=["transform","translate","scale","rotate","perspective"],iM=["transform","translate","scale","rotate","perspective","filter"],oM=["paint","layout","strict","content"];function up(s){const l=dp(),r=ca(s)?Za(s):s;return lM.some(t=>r[t]?r[t]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!l&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!l&&(r.filter?r.filter!=="none":!1)||iM.some(t=>(r.willChange||"").includes(t))||oM.some(t=>(r.contain||"").includes(t))}function cM(s){let l=Yr(s);for(;An(l)&&!Cl(l);){if(up(l))return l;if(Iu(l))return null;l=Yr(l)}return null}function dp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uM=new Set(["html","body","#document"]);function Cl(s){return uM.has(Il(s))}function Za(s){return La(s).getComputedStyle(s)}function Lu(s){return ca(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function Yr(s){if(Il(s)==="html")return s;const l=s.assignedSlot||s.parentNode||Z0(s)&&s.host||_n(s);return Z0(l)?l.host:l}function Ky(s){const l=Yr(s);return Cl(l)?s.ownerDocument?s.ownerDocument.body:s.body:An(l)&&to(l)?l:Ky(l)}function Xi(s,l,r){var t;l===void 0&&(l=[]),r===void 0&&(r=!0);const o=Ky(s),u=o===((t=s.ownerDocument)==null?void 0:t.body),d=La(o);if(u){const m=If(d);return l.concat(d,d.visualViewport||[],to(o)?o:[],m&&r?Xi(m):[])}return l.concat(o,Xi(o,[],r))}function If(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}const kl=Math.min,js=Math.max,hu=Math.round,Dc=Math.floor,Mn=s=>({x:s,y:s}),dM={left:"right",right:"left",bottom:"top",top:"bottom"},mM={start:"end",end:"start"};function fM(s,l,r){return js(s,kl(l,r))}function Pu(s,l){return typeof s=="function"?s(l):s}function Dl(s){return s.split("-")[0]}function ao(s){return s.split("-")[1]}function pM(s){return s==="x"?"y":"x"}function mp(s){return s==="y"?"height":"width"}const xM=new Set(["top","bottom"]);function bs(s){return xM.has(Dl(s))?"y":"x"}function fp(s){return pM(bs(s))}function hM(s,l,r){r===void 0&&(r=!1);const t=ao(s),o=fp(s),u=mp(o);let d=o==="x"?t===(r?"end":"start")?"right":"left":t==="start"?"bottom":"top";return l.reference[u]>l.floating[u]&&(d=vu(d)),[d,vu(d)]}function vM(s){const l=vu(s);return[Lf(s),l,Lf(l)]}function Lf(s){return s.replace(/start|end/g,l=>mM[l])}const J0=["left","right"],eb=["right","left"],bM=["top","bottom"],gM=["bottom","top"];function yM(s,l,r){switch(s){case"top":case"bottom":return r?l?eb:J0:l?J0:eb;case"left":case"right":return l?bM:gM;default:return[]}}function NM(s,l,r,t){const o=ao(s);let u=yM(Dl(s),r==="start",t);return o&&(u=u.map(d=>d+"-"+o),l&&(u=u.concat(u.map(Lf)))),u}function vu(s){return s.replace(/left|right|bottom|top/g,l=>dM[l])}function jM(s){return{top:0,right:0,bottom:0,left:0,...s}}function Xy(s){return typeof s!="number"?jM(s):{top:s,right:s,bottom:s,left:s}}function bu(s){const{x:l,y:r,width:t,height:o}=s;return{width:t,height:o,top:r,left:l,right:l+t,bottom:r+o,x:l,y:r}}var wM=typeof document<"u",SM=function(){},gu=wM?w.useLayoutEffect:SM;const CM={...ug},kM=CM.useInsertionEffect,DM=kM||(s=>s());function MM(s){const l=w.useRef(()=>{});return DM(()=>{l.current=s}),w.useCallback(function(){for(var r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];return l.current==null?void 0:l.current(...t)},[])}function tb(s,l,r){let{reference:t,floating:o}=s;const u=bs(l),d=fp(l),m=mp(d),x=Dl(l),p=u==="y",v=t.x+t.width/2-o.width/2,b=t.y+t.height/2-o.height/2,N=t[m]/2-o[m]/2;let C;switch(x){case"top":C={x:v,y:t.y-o.height};break;case"bottom":C={x:v,y:t.y+t.height};break;case"right":C={x:t.x+t.width,y:b};break;case"left":C={x:t.x-o.width,y:b};break;default:C={x:t.x,y:t.y}}switch(ao(l)){case"start":C[d]-=N*(r&&p?-1:1);break;case"end":C[d]+=N*(r&&p?-1:1);break}return C}async function AM(s,l){var r;l===void 0&&(l={});const{x:t,y:o,platform:u,rects:d,elements:m,strategy:x}=s,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:N=!1,padding:C=0}=Pu(l,s),M=Xy(C),g=m[N?b==="floating"?"reference":"floating":b],j=bu(await u.getClippingRect({element:(r=await(u.isElement==null?void 0:u.isElement(g)))==null||r?g:g.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(m.floating)),boundary:p,rootBoundary:v,strategy:x})),D=b==="floating"?{x:t,y:o,width:d.floating.width,height:d.floating.height}:d.reference,y=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m.floating)),_=await(u.isElement==null?void 0:u.isElement(y))?await(u.getScale==null?void 0:u.getScale(y))||{x:1,y:1}:{x:1,y:1},O=bu(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:D,offsetParent:y,strategy:x}):D);return{top:(j.top-O.top+M.top)/_.y,bottom:(O.bottom-j.bottom+M.bottom)/_.y,left:(j.left-O.left+M.left)/_.x,right:(O.right-j.right+M.right)/_.x}}const TM=async(s,l,r)=>{const{placement:t="bottom",strategy:o="absolute",middleware:u=[],platform:d}=r,m=u.filter(Boolean),x=await(d.isRTL==null?void 0:d.isRTL(l));let p=await d.getElementRects({reference:s,floating:l,strategy:o}),{x:v,y:b}=tb(p,t,x),N=t,C={},M=0;for(let g=0;g<m.length;g++){var S;const{name:j,fn:D}=m[g],{x:y,y:_,data:O,reset:U}=await D({x:v,y:b,initialPlacement:t,placement:N,strategy:o,middlewareData:C,rects:p,platform:{...d,detectOverflow:(S=d.detectOverflow)!=null?S:AM},elements:{reference:s,floating:l}});v=y??v,b=_??b,C={...C,[j]:{...C[j],...O}},U&&M<=50&&(M++,typeof U=="object"&&(U.placement&&(N=U.placement),U.rects&&(p=U.rects===!0?await d.getElementRects({reference:s,floating:l,strategy:o}):U.rects),{x:v,y:b}=tb(p,N,x)),g=-1)}return{x:v,y:b,placement:N,strategy:o,middlewareData:C}},EM=s=>({name:"arrow",options:s,async fn(l){const{x:r,y:t,placement:o,rects:u,platform:d,elements:m,middlewareData:x}=l,{element:p,padding:v=0}=Pu(s,l)||{};if(p==null)return{};const b=Xy(v),N={x:r,y:t},C=fp(o),M=mp(C),S=await d.getDimensions(p),g=C==="y",j=g?"top":"left",D=g?"bottom":"right",y=g?"clientHeight":"clientWidth",_=u.reference[M]+u.reference[C]-N[C]-u.floating[M],O=N[C]-u.reference[C],U=await(d.getOffsetParent==null?void 0:d.getOffsetParent(p));let G=U?U[y]:0;(!G||!await(d.isElement==null?void 0:d.isElement(U)))&&(G=m.floating[y]||u.floating[M]);const E=_/2-O/2,z=G/2-S[M]/2-1,H=kl(b[j],z),W=kl(b[D],z),A=H,se=G-S[M]-W,$=G/2-S[M]/2+E,J=fM(A,$,se),B=!x.arrow&&ao(o)!=null&&$!==J&&u.reference[M]/2-($<A?H:W)-S[M]/2<0,R=B?$<A?$-A:$-se:0;return{[C]:N[C]+R,data:{[C]:J,centerOffset:$-J-R,...B&&{alignmentOffset:R}},reset:B}}}),_M=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(l){var r,t;const{placement:o,middlewareData:u,rects:d,initialPlacement:m,platform:x,elements:p}=l,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:N,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:M="none",flipAlignment:S=!0,...g}=Pu(s,l);if((r=u.arrow)!=null&&r.alignmentOffset)return{};const j=Dl(o),D=bs(m),y=Dl(m)===m,_=await(x.isRTL==null?void 0:x.isRTL(p.floating)),O=N||(y||!S?[vu(m)]:vM(m)),U=M!=="none";!N&&U&&O.push(...NM(m,S,M,_));const G=[m,...O],E=await x.detectOverflow(l,g),z=[];let H=((t=u.flip)==null?void 0:t.overflows)||[];if(v&&z.push(E[j]),b){const $=hM(o,d,_);z.push(E[$[0]],E[$[1]])}if(H=[...H,{placement:o,overflows:z}],!z.every($=>$<=0)){var W,A;const $=(((W=u.flip)==null?void 0:W.index)||0)+1,J=G[$];if(J&&(!(b==="alignment"?D!==bs(J):!1)||H.every(I=>bs(I.placement)===D?I.overflows[0]>0:!0)))return{data:{index:$,overflows:H},reset:{placement:J}};let B=(A=H.filter(R=>R.overflows[0]<=0).sort((R,I)=>R.overflows[1]-I.overflows[1])[0])==null?void 0:A.placement;if(!B)switch(C){case"bestFit":{var se;const R=(se=H.filter(I=>{if(U){const ue=bs(I.placement);return ue===D||ue==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(ue=>ue>0).reduce((ue,ve)=>ue+ve,0)]).sort((I,ue)=>I[1]-ue[1])[0])==null?void 0:se[0];R&&(B=R);break}case"initialPlacement":B=m;break}if(o!==B)return{reset:{placement:B}}}return{}}}},OM=new Set(["left","top"]);async function RM(s,l){const{placement:r,platform:t,elements:o}=s,u=await(t.isRTL==null?void 0:t.isRTL(o.floating)),d=Dl(r),m=ao(r),x=bs(r)==="y",p=OM.has(d)?-1:1,v=u&&x?-1:1,b=Pu(l,s);let{mainAxis:N,crossAxis:C,alignmentAxis:M}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return m&&typeof M=="number"&&(C=m==="end"?M*-1:M),x?{x:C*v,y:N*p}:{x:N*p,y:C*v}}const IM=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(l){var r,t;const{x:o,y:u,placement:d,middlewareData:m}=l,x=await RM(l,s);return d===((r=m.offset)==null?void 0:r.placement)&&(t=m.arrow)!=null&&t.alignmentOffset?{}:{x:o+x.x,y:u+x.y,data:{...x,placement:d}}}}};function Wy(s){const l=Za(s);let r=parseFloat(l.width)||0,t=parseFloat(l.height)||0;const o=An(s),u=o?s.offsetWidth:r,d=o?s.offsetHeight:t,m=hu(r)!==u||hu(t)!==d;return m&&(r=u,t=d),{width:r,height:t,$:m}}function pp(s){return ca(s)?s:s.contextElement}function bl(s){const l=pp(s);if(!An(l))return Mn(1);const r=l.getBoundingClientRect(),{width:t,height:o,$:u}=Wy(l);let d=(u?hu(r.width):r.width)/t,m=(u?hu(r.height):r.height)/o;return(!d||!Number.isFinite(d))&&(d=1),(!m||!Number.isFinite(m))&&(m=1),{x:d,y:m}}const LM=Mn(0);function Zy(s){const l=La(s);return!dp()||!l.visualViewport?LM:{x:l.visualViewport.offsetLeft,y:l.visualViewport.offsetTop}}function PM(s,l,r){return l===void 0&&(l=!1),!r||l&&r!==La(s)?!1:l}function Ss(s,l,r,t){l===void 0&&(l=!1),r===void 0&&(r=!1);const o=s.getBoundingClientRect(),u=pp(s);let d=Mn(1);l&&(t?ca(t)&&(d=bl(t)):d=bl(s));const m=PM(u,r,t)?Zy(u):Mn(0);let x=(o.left+m.x)/d.x,p=(o.top+m.y)/d.y,v=o.width/d.x,b=o.height/d.y;if(u){const N=La(u),C=t&&ca(t)?La(t):t;let M=N,S=If(M);for(;S&&t&&C!==M;){const g=bl(S),j=S.getBoundingClientRect(),D=Za(S),y=j.left+(S.clientLeft+parseFloat(D.paddingLeft))*g.x,_=j.top+(S.clientTop+parseFloat(D.paddingTop))*g.y;x*=g.x,p*=g.y,v*=g.x,b*=g.y,x+=y,p+=_,M=La(S),S=If(M)}}return bu({width:v,height:b,x,y:p})}function zu(s,l){const r=Lu(s).scrollLeft;return l?l.left+r:Ss(_n(s)).left+r}function Jy(s,l){const r=s.getBoundingClientRect(),t=r.left+l.scrollLeft-zu(s,r),o=r.top+l.scrollTop;return{x:t,y:o}}function zM(s){let{elements:l,rect:r,offsetParent:t,strategy:o}=s;const u=o==="fixed",d=_n(t),m=l?Iu(l.floating):!1;if(t===d||m&&u)return r;let x={scrollLeft:0,scrollTop:0},p=Mn(1);const v=Mn(0),b=An(t);if((b||!b&&!u)&&((Il(t)!=="body"||to(d))&&(x=Lu(t)),An(t))){const C=Ss(t);p=bl(t),v.x=C.x+t.clientLeft,v.y=C.y+t.clientTop}const N=d&&!b&&!u?Jy(d,x):Mn(0);return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-x.scrollLeft*p.x+v.x+N.x,y:r.y*p.y-x.scrollTop*p.y+v.y+N.y}}function FM(s){return Array.from(s.getClientRects())}function BM(s){const l=_n(s),r=Lu(s),t=s.ownerDocument.body,o=js(l.scrollWidth,l.clientWidth,t.scrollWidth,t.clientWidth),u=js(l.scrollHeight,l.clientHeight,t.scrollHeight,t.clientHeight);let d=-r.scrollLeft+zu(s);const m=-r.scrollTop;return Za(t).direction==="rtl"&&(d+=js(l.clientWidth,t.clientWidth)-o),{width:o,height:u,x:d,y:m}}const ab=25;function HM(s,l){const r=La(s),t=_n(s),o=r.visualViewport;let u=t.clientWidth,d=t.clientHeight,m=0,x=0;if(o){u=o.width,d=o.height;const v=dp();(!v||v&&l==="fixed")&&(m=o.offsetLeft,x=o.offsetTop)}const p=zu(t);if(p<=0){const v=t.ownerDocument,b=v.body,N=getComputedStyle(b),C=v.compatMode==="CSS1Compat"&&parseFloat(N.marginLeft)+parseFloat(N.marginRight)||0,M=Math.abs(t.clientWidth-b.clientWidth-C);M<=ab&&(u-=M)}else p<=ab&&(u+=p);return{width:u,height:d,x:m,y:x}}const YM=new Set(["absolute","fixed"]);function UM(s,l){const r=Ss(s,!0,l==="fixed"),t=r.top+s.clientTop,o=r.left+s.clientLeft,u=An(s)?bl(s):Mn(1),d=s.clientWidth*u.x,m=s.clientHeight*u.y,x=o*u.x,p=t*u.y;return{width:d,height:m,x,y:p}}function nb(s,l,r){let t;if(l==="viewport")t=HM(s,r);else if(l==="document")t=BM(_n(s));else if(ca(l))t=UM(l,r);else{const o=Zy(s);t={x:l.x-o.x,y:l.y-o.y,width:l.width,height:l.height}}return bu(t)}function e1(s,l){const r=Yr(s);return r===l||!ca(r)||Cl(r)?!1:Za(r).position==="fixed"||e1(r,l)}function qM(s,l){const r=l.get(s);if(r)return r;let t=Xi(s,[],!1).filter(m=>ca(m)&&Il(m)!=="body"),o=null;const u=Za(s).position==="fixed";let d=u?Yr(s):s;for(;ca(d)&&!Cl(d);){const m=Za(d),x=up(d);!x&&m.position==="fixed"&&(o=null),(u?!x&&!o:!x&&m.position==="static"&&!!o&&YM.has(o.position)||to(d)&&!x&&e1(s,d))?t=t.filter(v=>v!==d):o=m,d=Yr(d)}return l.set(s,t),t}function $M(s){let{element:l,boundary:r,rootBoundary:t,strategy:o}=s;const d=[...r==="clippingAncestors"?Iu(l)?[]:qM(l,this._c):[].concat(r),t],m=d[0],x=d.reduce((p,v)=>{const b=nb(l,v,o);return p.top=js(b.top,p.top),p.right=kl(b.right,p.right),p.bottom=kl(b.bottom,p.bottom),p.left=js(b.left,p.left),p},nb(l,m,o));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function VM(s){const{width:l,height:r}=Wy(s);return{width:l,height:r}}function GM(s,l,r){const t=An(l),o=_n(l),u=r==="fixed",d=Ss(s,!0,u,l);let m={scrollLeft:0,scrollTop:0};const x=Mn(0);function p(){x.x=zu(o)}if(t||!t&&!u)if((Il(l)!=="body"||to(o))&&(m=Lu(l)),t){const C=Ss(l,!0,u,l);x.x=C.x+l.clientLeft,x.y=C.y+l.clientTop}else o&&p();u&&!t&&o&&p();const v=o&&!t&&!u?Jy(o,m):Mn(0),b=d.left+m.scrollLeft-x.x-v.x,N=d.top+m.scrollTop-x.y-v.y;return{x:b,y:N,width:d.width,height:d.height}}function df(s){return Za(s).position==="static"}function rb(s,l){if(!An(s)||Za(s).position==="fixed")return null;if(l)return l(s);let r=s.offsetParent;return _n(s)===r&&(r=r.ownerDocument.body),r}function t1(s,l){const r=La(s);if(Iu(s))return r;if(!An(s)){let o=Yr(s);for(;o&&!Cl(o);){if(ca(o)&&!df(o))return o;o=Yr(o)}return r}let t=rb(s,l);for(;t&&rM(t)&&df(t);)t=rb(t,l);return t&&Cl(t)&&df(t)&&!up(t)?r:t||cM(s)||r}const QM=async function(s){const l=this.getOffsetParent||t1,r=this.getDimensions,t=await r(s.floating);return{reference:GM(s.reference,await l(s.floating),s.strategy),floating:{x:0,y:0,width:t.width,height:t.height}}};function KM(s){return Za(s).direction==="rtl"}const XM={convertOffsetParentRelativeRectToViewportRelativeRect:zM,getDocumentElement:_n,getClippingRect:$M,getOffsetParent:t1,getElementRects:QM,getClientRects:FM,getDimensions:VM,getScale:bl,isElement:ca,isRTL:KM};function a1(s,l){return s.x===l.x&&s.y===l.y&&s.width===l.width&&s.height===l.height}function WM(s,l){let r=null,t;const o=_n(s);function u(){var m;clearTimeout(t),(m=r)==null||m.disconnect(),r=null}function d(m,x){m===void 0&&(m=!1),x===void 0&&(x=1),u();const p=s.getBoundingClientRect(),{left:v,top:b,width:N,height:C}=p;if(m||l(),!N||!C)return;const M=Dc(b),S=Dc(o.clientWidth-(v+N)),g=Dc(o.clientHeight-(b+C)),j=Dc(v),y={rootMargin:-M+"px "+-S+"px "+-g+"px "+-j+"px",threshold:js(0,kl(1,x))||1};let _=!0;function O(U){const G=U[0].intersectionRatio;if(G!==x){if(!_)return d();G?d(!1,G):t=setTimeout(()=>{d(!1,1e-7)},1e3)}G===1&&!a1(p,s.getBoundingClientRect())&&d(),_=!1}try{r=new IntersectionObserver(O,{...y,root:o.ownerDocument})}catch{r=new IntersectionObserver(O,y)}r.observe(s)}return d(!0),u}function ZM(s,l,r,t){t===void 0&&(t={});const{ancestorScroll:o=!0,ancestorResize:u=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:x=!1}=t,p=pp(s),v=o||u?[...p?Xi(p):[],...Xi(l)]:[];v.forEach(j=>{o&&j.addEventListener("scroll",r,{passive:!0}),u&&j.addEventListener("resize",r)});const b=p&&m?WM(p,r):null;let N=-1,C=null;d&&(C=new ResizeObserver(j=>{let[D]=j;D&&D.target===p&&C&&(C.unobserve(l),cancelAnimationFrame(N),N=requestAnimationFrame(()=>{var y;(y=C)==null||y.observe(l)})),r()}),p&&!x&&C.observe(p),C.observe(l));let M,S=x?Ss(s):null;x&&g();function g(){const j=Ss(s);S&&!a1(S,j)&&r(),S=j,M=requestAnimationFrame(g)}return r(),()=>{var j;v.forEach(D=>{o&&D.removeEventListener("scroll",r),u&&D.removeEventListener("resize",r)}),b?.(),(j=C)==null||j.disconnect(),C=null,x&&cancelAnimationFrame(M)}}const JM=IM,e4=_M,sb=EM,t4=(s,l,r)=>{const t=new Map,o={platform:XM,...r},u={...o.platform,_c:t};return TM(s,l,{...o,platform:u})};var a4=typeof document<"u",n4=function(){},eu=a4?w.useLayoutEffect:n4;function yu(s,l){if(s===l)return!0;if(typeof s!=typeof l)return!1;if(typeof s=="function"&&s.toString()===l.toString())return!0;let r,t,o;if(s&&l&&typeof s=="object"){if(Array.isArray(s)){if(r=s.length,r!==l.length)return!1;for(t=r;t--!==0;)if(!yu(s[t],l[t]))return!1;return!0}if(o=Object.keys(s),r=o.length,r!==Object.keys(l).length)return!1;for(t=r;t--!==0;)if(!{}.hasOwnProperty.call(l,o[t]))return!1;for(t=r;t--!==0;){const u=o[t];if(!(u==="_owner"&&s.$$typeof)&&!yu(s[u],l[u]))return!1}return!0}return s!==s&&l!==l}function n1(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function lb(s,l){const r=n1(s);return Math.round(l*r)/r}function mf(s){const l=w.useRef(s);return eu(()=>{l.current=s}),l}function r4(s){s===void 0&&(s={});const{placement:l="bottom",strategy:r="absolute",middleware:t=[],platform:o,elements:{reference:u,floating:d}={},transform:m=!0,whileElementsMounted:x,open:p}=s,[v,b]=w.useState({x:0,y:0,strategy:r,placement:l,middlewareData:{},isPositioned:!1}),[N,C]=w.useState(t);yu(N,t)||C(t);const[M,S]=w.useState(null),[g,j]=w.useState(null),D=w.useCallback(I=>{I!==U.current&&(U.current=I,S(I))},[]),y=w.useCallback(I=>{I!==G.current&&(G.current=I,j(I))},[]),_=u||M,O=d||g,U=w.useRef(null),G=w.useRef(null),E=w.useRef(v),z=x!=null,H=mf(x),W=mf(o),A=mf(p),se=w.useCallback(()=>{if(!U.current||!G.current)return;const I={placement:l,strategy:r,middleware:N};W.current&&(I.platform=W.current),t4(U.current,G.current,I).then(ue=>{const ve={...ue,isPositioned:A.current!==!1};$.current&&!yu(E.current,ve)&&(E.current=ve,Tg.flushSync(()=>{b(ve)}))})},[N,l,r,W,A]);eu(()=>{p===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,b(I=>({...I,isPositioned:!1})))},[p]);const $=w.useRef(!1);eu(()=>($.current=!0,()=>{$.current=!1}),[]),eu(()=>{if(_&&(U.current=_),O&&(G.current=O),_&&O){if(H.current)return H.current(_,O,se);se()}},[_,O,se,H,z]);const J=w.useMemo(()=>({reference:U,floating:G,setReference:D,setFloating:y}),[D,y]),B=w.useMemo(()=>({reference:_,floating:O}),[_,O]),R=w.useMemo(()=>{const I={position:r,left:0,top:0};if(!B.floating)return I;const ue=lb(B.floating,v.x),ve=lb(B.floating,v.y);return m?{...I,transform:"translate("+ue+"px, "+ve+"px)",...n1(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ue,top:ve}},[r,m,B.floating,v.x,v.y]);return w.useMemo(()=>({...v,update:se,refs:J,elements:B,floatingStyles:R}),[v,se,J,B,R])}const s4=s=>{function l(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:s,fn(r){const{element:t,padding:o}=typeof s=="function"?s(r):s;return t&&l(t)?t.current!=null?sb({element:t.current,padding:o}).fn(r):{}:t?sb({element:t,padding:o}).fn(r):{}}}},l4=(s,l)=>({...JM(s),options:[s,l]}),i4=(s,l)=>({...e4(s),options:[s,l]}),o4=(s,l)=>({...s4(s),options:[s,l]}),c4={...ug};let ib=!1,u4=0;const ob=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+u4++;function d4(){const[s,l]=w.useState(()=>ib?ob():void 0);return gu(()=>{s==null&&l(ob())},[]),w.useEffect(()=>{ib=!0},[]),s}const m4=c4.useId,r1=m4||d4,f4=w.forwardRef(function(l,r){const{context:{placement:t,elements:{floating:o},middlewareData:{arrow:u,shift:d}},width:m=14,height:x=7,tipRadius:p=0,strokeWidth:v=0,staticOffset:b,stroke:N,d:C,style:{transform:M,...S}={},...g}=l,j=r1(),[D,y]=w.useState(!1);if(gu(()=>{if(!o)return;Za(o).direction==="rtl"&&y(!0)},[o]),!o)return null;const[_,O]=t.split("-"),U=_==="top"||_==="bottom";let G=b;(U&&d!=null&&d.x||!U&&d!=null&&d.y)&&(G=null);const E=v*2,z=E/2,H=m/2*(p/-8+1),W=x/2*p/4,A=!!C,se=G&&O==="end"?"bottom":"top";let $=G&&O==="end"?"right":"left";G&&D&&($=O==="end"?"left":"right");const J=u?.x!=null?G||u.x:"",B=u?.y!=null?G||u.y:"",R=C||"M0,0"+(" H"+m)+(" L"+(m-H)+","+(x-W))+(" Q"+m/2+","+x+" "+H+","+(x-W))+" Z",I={top:A?"rotate(180deg)":"",left:A?"rotate(90deg)":"rotate(-90deg)",bottom:A?"":"rotate(180deg)",right:A?"rotate(-90deg)":"rotate(90deg)"}[_];return a.jsxs("svg",{...g,"aria-hidden":!0,ref:r,width:A?m:m+E,height:m,viewBox:"0 0 "+m+" "+(x>m?x:m),style:{position:"absolute",pointerEvents:"none",[$]:J,[se]:B,[_]:U||A?"100%":"calc(100% - "+E/2+"px)",transform:[I,M].filter(ue=>!!ue).join(" "),...S},children:[E>0&&a.jsx("path",{clipPath:"url(#"+j+")",fill:"none",stroke:N,strokeWidth:E+(C?0:1),d:R}),a.jsx("path",{stroke:E&&!C?g.fill:"none",d:R}),a.jsx("clipPath",{id:j,children:a.jsx("rect",{x:-z,y:z*(A?-1:1),width:m+E,height:m})})]})});function p4(){const s=new Map;return{emit(l,r){var t;(t=s.get(l))==null||t.forEach(o=>o(r))},on(l,r){s.has(l)||s.set(l,new Set),s.get(l).add(r)},off(l,r){var t;(t=s.get(l))==null||t.delete(r)}}}const x4=w.createContext(null),h4=w.createContext(null),v4=()=>{var s;return((s=w.useContext(x4))==null?void 0:s.id)||null},b4=()=>w.useContext(h4);function g4(s){const{open:l=!1,onOpenChange:r,elements:t}=s,o=r1(),u=w.useRef({}),[d]=w.useState(()=>p4()),m=v4()!=null,[x,p]=w.useState(t.reference),v=MM((C,M,S)=>{u.current.openEvent=C?M:void 0,d.emit("openchange",{open:C,event:M,reason:S,nested:m}),r?.(C,M,S)}),b=w.useMemo(()=>({setPositionReference:p}),[]),N=w.useMemo(()=>({reference:x||t.reference||null,floating:t.floating||null,domReference:t.reference}),[x,t.reference,t.floating]);return w.useMemo(()=>({dataRef:u,open:l,onOpenChange:v,elements:N,events:d,floatingId:o,refs:b}),[l,v,N,d,o,b])}function y4(s){s===void 0&&(s={});const{nodeId:l}=s,r=g4({...s,elements:{reference:null,floating:null,...s.elements}}),t=s.rootContext||r,o=t.elements,[u,d]=w.useState(null),[m,x]=w.useState(null),v=o?.domReference||u,b=w.useRef(null),N=b4();gu(()=>{v&&(b.current=v)},[v]);const C=r4({...s,elements:{...o,...m&&{reference:m}}}),M=w.useCallback(y=>{const _=ca(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),getClientRects:()=>y.getClientRects(),contextElement:y}:y;x(_),C.refs.setReference(_)},[C.refs]),S=w.useCallback(y=>{(ca(y)||y===null)&&(b.current=y,d(y)),(ca(C.refs.reference.current)||C.refs.reference.current===null||y!==null&&!ca(y))&&C.refs.setReference(y)},[C.refs]),g=w.useMemo(()=>({...C.refs,setReference:S,setPositionReference:M,domReference:b}),[C.refs,S,M]),j=w.useMemo(()=>({...C.elements,domReference:v}),[C.elements,v]),D=w.useMemo(()=>({...C,...t,refs:g,elements:j,nodeId:l}),[C,g,j,l,t]);return gu(()=>{t.dataRef.current.floatingContext=D;const y=N?.nodesRef.current.find(_=>_.id===l);y&&(y.context=D)}),w.useMemo(()=>({...C,context:D,refs:g,elements:j}),[C,g,j,D])}var Pf=function(l,r){return Pf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(t[u]=o[u])},Pf(l,r)};function Zt(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");Pf(s,l);function r(){this.constructor=s}s.prototype=l===null?Object.create(l):(r.prototype=l.prototype,new r)}var Fe=function(){return Fe=Object.assign||function(r){for(var t,o=1,u=arguments.length;o<u;o++){t=arguments[o];for(var d in t)Object.prototype.hasOwnProperty.call(t,d)&&(r[d]=t[d])}return r},Fe.apply(this,arguments)};function Cn(s,l,r){if(r||arguments.length===2)for(var t=0,o=l.length,u;t<o;t++)(u||!(t in l))&&(u||(u=Array.prototype.slice.call(l,0,t)),u[t]=l[t]);return s.concat(u||Array.prototype.slice.call(l))}var N4=function(s){var l=s.showTimeSelectOnly,r=l===void 0?!1:l,t=s.showTime,o=t===void 0?!1:t,u=s.className,d=s.children,m=s.inline,x=r?"Choose Time":"Choose Date".concat(o?" and Time":"");return ne.createElement("div",{className:u,"aria-label":x,role:m?void 0:"dialog","aria-modal":m?void 0:"true",translate:"no"},d)},j4=function(s,l){var r=w.useRef(null),t=w.useRef(s);w.useEffect(function(){t.current=s},[s]);var o=w.useCallback(function(u){var d,m=u.composed&&u.composedPath&&u.composedPath().find(function(x){return x instanceof Node})||u.target;r.current&&!r.current.contains(m)&&(l&&m instanceof HTMLElement&&m.classList.contains(l)||(d=t.current)===null||d===void 0||d.call(t,u))},[l]);return w.useEffect(function(){return document.addEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}},[o]),r},Fu=function(s){var l=s.children,r=s.onClickOutside,t=s.className,o=s.containerRef,u=s.style,d=s.ignoreClass,m=j4(r,d);return ne.createElement("div",{className:t,style:u,ref:function(x){m.current=x,o&&(o.current=x)}},l)},Mc=null,cb=!1;function s1(){if(cb)return Mc;cb=!0;try{var s="date-fns-tz";Mc=require(s)}catch{Mc=null}return Mc}function ub(s,l){if(!l)return s;var r=s1();return r?r.toZonedTime(s,l):s}function Jn(s,l){if(!l)return s;var r=s1();return r?r.fromZonedTime(s,l):s}var he;(function(s){s.ArrowUp="ArrowUp",s.ArrowDown="ArrowDown",s.ArrowLeft="ArrowLeft",s.ArrowRight="ArrowRight",s.PageUp="PageUp",s.PageDown="PageDown",s.Home="Home",s.End="End",s.Enter="Enter",s.Space=" ",s.Tab="Tab",s.Escape="Escape",s.Backspace="Backspace",s.X="x"})(he||(he={}));function l1(){var s=typeof window<"u"?window:globalThis;return s}var no=12;function Ze(s){if(s==null)return new Date;var l=typeof s=="string"?BD(s):ke(s);return Na(l)?l:new Date}function ds(s,l,r,t,o){o===void 0&&(o=Ze());for(var u=Ml(r)||Ml(xp()),d=Array.isArray(l)?l:[l],m=0,x=d;m<x.length;m++){var p=x[m],v=RD(s,p,o,{locale:u});if(Na(v)&&(!t||s===gt(v,p,r)))return v}if(!t&&s&&s.length>=8){var b=new Date(s);if(Sl(b))return b}return null}function w4(s,l){if(l===void 0&&(l=Ze()),!s)return null;var r=s.match(/\b(1\d{3}|2\d{3})\b/);if(!r||!r[1])return null;var t=parseInt(r[1],10),o=s.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),u=o&&o[1]?parseInt(o[1],10)-1:l.getMonth();return new Date(t,u,1)}function Na(s){return Sl(s)}function gs(s){return s==null?null:Dn(s)&&Sl(s)?s:null}function gt(s,l,r){if(r==="en")return K0(s,l,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var t=r?Ml(r):void 0;return r&&!t&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),t=t||Ml(xp()),K0(s,l,{locale:t,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ya(s,l){var r=l.dateFormat,t=l.locale,o=Array.isArray(r)&&r.length>0?r[0]:r;return s&&gt(s,o,t)||""}var i1=" - ";function S4(s,l,r){if(!s&&!l)return"";var t=s?ya(s,r):"",o=l?ya(l,r):"",u=r.rangeSeparator||i1;return"".concat(t).concat(u).concat(o)}function C4(s,l){if(!s?.length)return"";var r=s[0]?ya(s[0],l):"";if(s.length===1)return r;if(s.length===2&&s[1]){var t=ya(s[1],l);return"".concat(r,", ").concat(t)}var o=s.length-1;return"".concat(r," (+").concat(o,")")}function er(s,l){var r=l.hour,t=r===void 0?0:r,o=l.minute,u=o===void 0?0:o,d=l.second,m=d===void 0?0:d;return Wc(Zc(Jc(s,m),u),t)}function k4(s){return lp(s)}function D4(s,l){return gt(s,"ddd",l)}function Hi(s){return ws(s)}function Br(s,l,r){var t=Ml(l||xp());return lr(s,{locale:t,weekStartsOn:r})}function rr(s){return Py(s)}function Yi(s){return Ou(s)}function db(s){return _f(s)}function mb(){return ws(Ze())}function fb(s){return Iy(s)}function M4(s){return B5(s)}function A4(s){return Ly(s)}function Nn(s,l){return s&&l?zD(s,l):!s&&!l}function oa(s,l){return s&&l?LD(s,l):!s&&!l}function Nu(s,l){return s&&l?PD(s,l):!s&&!l}function Qe(s,l){return s&&l?z5(s,l):!s&&!l}function ys(s,l){return s&&l?Fk(s,l):!s&&!l}function xs(s,l,r){var t,o=ws(l),u=Iy(r);try{t=Ki(s,{start:o,end:u})}catch{t=!1}return t}function xp(){var s=l1();return s.__localeId__}function Ml(s){if(typeof s=="string"){var l=l1();return l.__localeData__?l.__localeData__[s]:void 0}else return s}function T4(s,l,r){return l(gt(s,"EEEE",r))}function E4(s,l){return gt(s,"EEEEEE",l)}function _4(s,l){return gt(s,"EEE",l)}function hp(s,l){return gt(Ra(Ze(),s),"LLLL",l)}function o1(s,l){return gt(Ra(Ze(),s),"LLL",l)}function O4(s,l){return gt(xl(Ze(),s),"QQQ",l)}function Wa(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.excludeDateIntervals,m=r.includeDates,x=r.includeDateIntervals,p=r.filterDate,v=r.disabled;return v?!0:ro(s,{minDate:t,maxDate:o})||u&&u.some(function(b){return b instanceof Date?Qe(s,b):Qe(s,b.date)})||d&&d.some(function(b){var N=b.start,C=b.end;return Ki(s,{start:N,end:C})})||m&&!m.some(function(b){return Qe(s,b)})||x&&!x.some(function(b){var N=b.start,C=b.end;return Ki(s,{start:N,end:C})})||p&&!p(Ze(s))||!1}function vp(s,l){var r=l===void 0?{}:l,t=r.excludeDates,o=r.excludeDateIntervals;return o&&o.length>0?o.some(function(u){var d=u.start,m=u.end;return Ki(s,{start:d,end:m})}):t&&t.some(function(u){var d;return u instanceof Date?Qe(s,u):Qe(s,(d=u.date)!==null&&d!==void 0?d:new Date)})||!1}function c1(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate;return ro(s,{minDate:t?Py(t):void 0,maxDate:o?Ly(o):void 0})||u?.some(function(x){return oa(s,x instanceof Date?x:x.date)})||d&&!d.some(function(x){return oa(s,x)})||m&&!m(Ze(s))||!1}function Ac(s,l,r,t){var o=Ye(s),u=ja(s),d=Ye(l),m=ja(l),x=Ye(t);return o===d&&o===x?u<=r&&r<=m:o<d?x===o&&u<=r||x===d&&m>=r||x<d&&x>o:!1}function R4(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates;return ro(s,{minDate:t,maxDate:o})||u&&u.some(function(m){return oa(m instanceof Date?m:m.date,s)})||d&&!d.some(function(m){return oa(m,s)})||!1}function Tc(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate,x=r.disabled;return x?!0:ro(s,{minDate:t,maxDate:o})||u?.some(function(p){return Nu(s,p instanceof Date?p:p.date)})||d&&!d.some(function(p){return Nu(s,p)})||m&&!m(Ze(s))||!1}function Ec(s,l,r){if(!l||!r||!Sl(l)||!Sl(r))return!1;var t=Ye(l),o=Ye(r);return t<=s&&o>=s}function tu(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate,x=r.disabled;if(x)return!0;var p=new Date(s,0,1);return ro(p,{minDate:t?Ou(t):void 0,maxDate:o?zy(o):void 0})||u?.some(function(v){return Nn(p,v instanceof Date?v:v.date)})||d&&!d.some(function(v){return Nn(p,v)})||m&&!m(Ze(p))||!1}function _c(s,l,r,t){var o=Ye(s),u=Lr(s),d=Ye(l),m=Lr(l),x=Ye(t);return o===d&&o===x?u<=r&&r<=m:o<d?x===o&&u<=r||x===d&&m>=r||x<d&&x>o:!1}function ro(s,l){var r,t=l===void 0?{}:l,o=t.minDate,u=t.maxDate;return(r=o&&wl(s,o)<0||u&&wl(s,u)>0)!==null&&r!==void 0?r:!1}function pb(s,l){return l.some(function(r){return na(r)===na(s)&&ra(r)===ra(s)&&Fr(r)===Fr(s)})}function xb(s,l){var r=l===void 0?{}:l,t=r.excludeTimes,o=r.includeTimes,u=r.filterTime;return t&&pb(s,t)||o&&!pb(s,o)||u&&!u(s)||!1}function hb(s,l){var r=l.minTime,t=l.maxTime;if(!r||!t)throw new Error("Both minTime and maxTime props required");var o=Ze();o=Wc(o,na(s)),o=Zc(o,ra(s)),o=Jc(o,Fr(s));var u=Ze();u=Wc(u,na(r)),u=Zc(u,ra(r)),u=Jc(u,Fr(r));var d=Ze();d=Wc(d,na(t)),d=Zc(d,ra(t)),d=Jc(d,Fr(t));var m;try{m=!Ki(o,{start:u,end:d})}catch{m=!1}return m}function vb(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.includeDates,u=Ns(s,1);return t&&mu(t,u)>0||o&&o.every(function(d){return mu(d,u)>0})||!1}function bb(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.includeDates,u=un(s,1);return t&&mu(u,t)>0||o&&o.every(function(d){return mu(u,d)>0})||!1}function I4(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.includeDates,u=Ou(s),d=Gy(u);return t&&fu(t,d)>0||o&&o.every(function(m){return fu(m,d)>0})||!1}function L4(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.includeDates,u=zy(s),d=sp(u,1);return t&&fu(d,t)>0||o&&o.every(function(m){return fu(d,m)>0})||!1}function gb(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.includeDates,u=Hr(s,1);return t&&pu(t,u)>0||o&&o.every(function(d){return pu(d,u)>0})||!1}function P4(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.yearItemNumber,u=o===void 0?no:o,d=Yi(Hr(s,u)),m=tr(d,u).endPeriod,x=t&&Ye(t);return x&&x>m||!1}function yb(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.includeDates,u=on(s,1);return t&&pu(u,t)>0||o&&o.every(function(d){return pu(u,d)>0})||!1}function z4(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.yearItemNumber,u=o===void 0?no:o,d=on(s,u),m=tr(d,u).startPeriod,x=t&&Ye(t);return x&&x<m||!1}function u1(s){var l=s.minDate,r=s.includeDates;if(r&&l){var t=r.filter(function(o){return wl(o,l)>=0});return U0(t)}else return r?U0(r):l}function d1(s){var l=s.maxDate,r=s.includeDates;if(r&&l){var t=r.filter(function(o){return wl(o,l)<=0});return Y0(t)}else return r?Y0(r):l}function Nb(s,l){var r;s===void 0&&(s=[]),l===void 0&&(l="react-datepicker__day--highlighted");for(var t=new Map,o=0,u=s.length;o<u;o++){var d=s[o];if(Dn(d)){var m=gt(d,"MM.dd.yyyy"),x=t.get(m)||[];x.includes(l)||(x.push(l),t.set(m,x))}else if(typeof d=="object"){var p=Object.keys(d),v=(r=p[0])!==null&&r!==void 0?r:"",b=d[v];if(typeof v=="string"&&Array.isArray(b))for(var N=0,C=b.length;N<C;N++){var M=b[N];if(M){var m=gt(M,"MM.dd.yyyy"),x=t.get(m)||[];x.includes(v)||(x.push(v),t.set(m,x))}}}}return t}function F4(s,l){return s.length!==l.length?!1:s.every(function(r,t){return r===l[t]})}function B4(s,l){s===void 0&&(s=[]),l===void 0&&(l="react-datepicker__day--holidays");var r=new Map;return s.forEach(function(t){var o=t.date,u=t.holidayName;if(Dn(o)){var d=gt(o,"MM.dd.yyyy"),m=r.get(d)||{className:"",holidayNames:[]};if(!("className"in m&&m.className===l&&F4(m.holidayNames,[u]))){m.className=l;var x=m.holidayNames;m.holidayNames=x?Cn(Cn([],x,!0),[u],!1):[u],r.set(d,m)}}}),r}function H4(s,l,r,t,o){for(var u=o.length,d=[],m=0;m<u;m++){var x=s,p=o[m];p&&(x=R5(x,na(p)),x=Qi(x,ra(p)),x=P5(x,Fr(p)));var v=Qi(s,(r+1)*t);nr(x,l)&&Sn(x,v)&&p!=null&&d.push(p)}return d}function dl(s){return s<10?"0".concat(s):"".concat(s)}function tr(s,l){l===void 0&&(l=no);var r=Math.ceil(Ye(s)/l)*l,t=r-(l-1);return{startPeriod:t,endPeriod:r}}function Y4(s){var l=new Date(s.getFullYear(),s.getMonth(),s.getDate()),r=new Date(s.getFullYear(),s.getMonth(),s.getDate(),24);return Math.round((+r-+l)/36e5)}function jb(s){var l=s.getSeconds(),r=s.getMilliseconds();return ke(s.getTime()-l*1e3-r)}function m1(s,l){return jb(s).getTime()===jb(l).getTime()}function wb(s){if(!Dn(s))throw new Error("Invalid date");var l=new Date(s);return l.setHours(0,0,0,0),l}function ff(s,l){if(!Dn(s)||!Dn(l))throw new Error("Invalid date received");var r=wb(s),t=wb(l);return Sn(r,t)}function f1(s){return s.key===he.Space}var pf=(function(s){Zt(l,s);function l(r){var t=s.call(this,r)||this;return t.inputRef=ne.createRef(),t.onTimeChange=function(o){var u,d;t.setState({time:o});var m=t.props.date,x=m instanceof Date&&!isNaN(+m),p=x?m:new Date;if(o?.includes(":")){var v=o.split(":"),b=v[0],N=v[1];p.setHours(Number(b)),p.setMinutes(Number(N))}(d=(u=t.props).onChange)===null||d===void 0||d.call(u,p)},t.renderTimeInput=function(){var o=t.state.time,u=t.props,d=u.date,m=u.timeString,x=u.customTimeInput;return x?w.cloneElement(x,{date:d,value:o,onChange:t.onTimeChange}):ne.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:t.inputRef,onClick:function(){var p;(p=t.inputRef.current)===null||p===void 0||p.focus()},required:!0,value:o,onChange:function(p){t.onTimeChange(p.target.value||m)}})},t.state={time:t.props.timeString},t}return l.getDerivedStateFromProps=function(r,t){return r.timeString!==t.time?{time:r.timeString}:null},l.prototype.render=function(){return ne.createElement("div",{className:"react-datepicker__input-time-container"},ne.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ne.createElement("div",{className:"react-datepicker-time__input-container"},ne.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},l})(w.Component),U4=(function(s){Zt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.dayEl=w.createRef(),r.handleClick=function(t){!r.isDisabled()&&r.props.onClick&&r.props.onClick(t)},r.handleMouseEnter=function(t){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(t)},r.handleOnKeyDown=function(t){var o,u,d=t.key;d===he.Space&&(t.preventDefault(),t.key=he.Enter),(u=(o=r.props).handleOnKeyDown)===null||u===void 0||u.call(o,t)},r.isSameDay=function(t){return Qe(r.props.day,t)},r.isKeyboardSelected=function(){var t;if(r.props.disabledKeyboardNavigation)return!1;var o=r.props.selectsMultiple?(t=r.props.selectedDates)===null||t===void 0?void 0:t.some(function(d){return r.isSameDayOrWeek(d)}):r.isSameDayOrWeek(r.props.selected),u=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!o&&r.isSameDayOrWeek(r.props.preSelection)&&!u},r.isDisabled=function(t){return t===void 0&&(t=r.props.day),Wa(t,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(){return vp(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return Qe(r.props.day,Br(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(t){return r.props.showWeekPicker&&Qe(t,Br(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(t){return r.isSameDay(t)||r.isSameWeek(t)},r.getHighLightedClass=function(){var t=r.props,o=t.day,u=t.highlightDates;if(!u)return!1;var d=gt(o,"MM.dd.yyyy");return u.get(d)},r.getHolidaysClass=function(){var t,o=r.props,u=o.day,d=o.holidays;if(!d)return[void 0];var m=gt(u,"MM.dd.yyyy");return d.has(m)?[(t=d.get(m))===null||t===void 0?void 0:t.className]:[void 0]},r.isInRange=function(){var t=r.props,o=t.day,u=t.startDate,d=t.endDate;return!u||!d?!1:xs(o,u,d)},r.isInSelectingRange=function(){var t,o=r.props,u=o.day,d=o.selectsStart,m=o.selectsEnd,x=o.selectsRange,p=o.selectsDisabledDaysInRange,v=o.startDate,b=o.swapRange,N=o.endDate,C=(t=r.props.selectingDate)!==null&&t!==void 0?t:r.props.preSelection;if(r.isAfterMonth()||r.isBeforeMonth()||!(d||m||x)||!C||!p&&r.isDisabled())return!1;if(d&&N&&(Sn(C,N)||ys(C,N)))return xs(u,C,N);if(m&&v&&(nr(C,v)||ys(C,v)))return xs(u,v,C);if(x&&v&&!N){if(ys(C,v)||nr(C,v))return xs(u,v,C);if(b&&Sn(C,v))return xs(u,C,v)}return!1},r.isSelectingRangeStart=function(){var t;if(!r.isInSelectingRange())return!1;var o=r.props,u=o.day,d=o.startDate,m=o.selectsStart,x=o.swapRange,p=o.selectsRange,v=(t=r.props.selectingDate)!==null&&t!==void 0?t:r.props.preSelection;return m?Qe(u,v):p&&x&&d&&v?Qe(u,Sn(v,d)?v:d):Qe(u,d)},r.isSelectingRangeEnd=function(){var t;if(!r.isInSelectingRange())return!1;var o=r.props,u=o.day,d=o.endDate,m=o.selectsEnd,x=o.selectsRange,p=o.swapRange,v=o.startDate,b=(t=r.props.selectingDate)!==null&&t!==void 0?t:r.props.preSelection;return m?Qe(u,b):x&&p&&v&&b?Qe(u,Sn(b,v)?v:b):x?Qe(u,b):Qe(u,d)},r.isRangeStart=function(){var t=r.props,o=t.day,u=t.startDate,d=t.endDate;return!u||!d?!1:Qe(u,o)},r.isRangeEnd=function(){var t=r.props,o=t.day,u=t.startDate,d=t.endDate;return!u||!d?!1:Qe(d,o)},r.isWeekend=function(){var t=Ik(r.props.day);return t===0||t===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===ja(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(ja(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(Ze())},r.isSelected=function(){var t;return r.props.selectsMultiple?(t=r.props.selectedDates)===null||t===void 0?void 0:t.some(function(o){return r.isSameDayOrWeek(o)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(t){var o=r.props.dayClassName?r.props.dayClassName(t):void 0;return qt("react-datepicker__day",o,"react-datepicker__day--"+D4(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var t=r.props,o=t.day,u=t.ariaLabelPrefixWhenEnabled,d=u===void 0?"Choose":u,m=t.ariaLabelPrefixWhenDisabled,x=m===void 0?"Not available":m,p=r.isDisabled()||r.isExcluded()?x:d;return"".concat(p," ").concat(gt(o,"PPPP",r.props.locale))},r.getTitle=function(){var t=r.props,o=t.day,u=t.holidays,d=u===void 0?new Map:u,m=t.excludeDates,x=gt(o,"MM.dd.yyyy"),p=[];return d.has(x)&&p.push.apply(p,d.get(x).holidayNames),r.isExcluded()&&p.push(m?.filter(function(v){return v instanceof Date?Qe(v,o):Qe(v?.date,o)}).map(function(v){if(!(v instanceof Date))return v?.message})),p.join(", ")},r.getTabIndex=function(){var t=r.props.selected,o=r.props.preSelection,u=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(t)&&Qe(o,t))?0:-1;return u},r.handleFocusDay=function(){var t;r.shouldFocusDay()&&((t=r.dayEl.current)===null||t===void 0||t.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(X0(r.props.day),r.props.day):X0(r.props.day)},r.render=function(){return ne.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&ne.createElement("span",{className:"overlay"},r.getTitle()))},r}return l.prototype.componentDidMount=function(){this.handleFocusDay()},l.prototype.componentDidUpdate=function(){this.handleFocusDay()},l.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},l.prototype.isDayActiveElement=function(){var r,t,o;return((t=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||t===void 0?void 0:t.contains(document.activeElement))&&((o=document.activeElement)===null||o===void 0?void 0:o.classList.contains("react-datepicker__day"))},l.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},l})(w.Component),q4=(function(s){Zt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.weekNumberEl=w.createRef(),r.handleClick=function(t){r.props.onClick&&r.props.onClick(t)},r.handleOnKeyDown=function(t){var o,u,d=t.key;d===he.Space&&(t.preventDefault(),t.key=he.Enter),(u=(o=r.props).handleOnKeyDown)===null||u===void 0||u.call(o,t)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Qe(r.props.date,r.props.selected)&&Qe(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||Qe(r.props.date,r.props.selected)&&Qe(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(t){var o=!1;r.getTabIndex()===0&&!t?.isInputFocused&&Qe(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(o=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(o=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(o=!0)),o&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},l.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},l.prototype.render=function(){var r=this.props,t=r.weekNumber,o=r.isWeekDisabled,u=r.ariaLabelPrefix,d=u===void 0?l.defaultProps.ariaLabelPrefix:u,m=r.onClick,x={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!m&&!o,"react-datepicker__week-number--selected":!!m&&Qe(this.props.date,this.props.selected)};return ne.createElement("div",{ref:this.weekNumberEl,className:qt(x),"aria-label":"".concat(d," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},t)},l})(w.Component),$4=(function(s){Zt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.isDisabled=function(t){return Wa(t,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(t,o){r.props.onDayClick&&r.props.onDayClick(t,o)},r.handleDayMouseEnter=function(t){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(t)},r.handleWeekClick=function(t,o,u){for(var d,m,x,p=new Date(t),v=0;v<7;v++){var b=new Date(t);b.setDate(b.getDate()+v);var N=!r.isDisabled(b);if(N){p=b;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(p,o,u),r.props.showWeekPicker&&r.handleDayClick(p,u),((d=r.props.shouldCloseOnSelect)!==null&&d!==void 0?d:l.defaultProps.shouldCloseOnSelect)&&((x=(m=r.props).setOpen)===null||x===void 0||x.call(m,!1))},r.formatWeekNumber=function(t){return r.props.formatWeekNumber?r.props.formatWeekNumber(t):k4(t)},r.isWeekDisabled=function(){for(var t=r.startOfWeek(),o=ln(t,6),u=new Date(t);u<=o;){if(!r.isDisabled(u))return!1;u=ln(u,1)}return!0},r.renderDays=function(){var t=r.startOfWeek(),o=[],u=r.formatWeekNumber(t);if(r.props.showWeekNumber){var d=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,t,u):void 0;o.push(ne.createElement(q4,Fe({key:"W"},l.defaultProps,r.props,{weekNumber:u,isWeekDisabled:r.isWeekDisabled(),date:t,onClick:d})))}return o.concat([0,1,2,3,4,5,6].map(function(m){var x=ln(t,m);return ne.createElement(U4,Fe({},l.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:x.valueOf(),day:x,onClick:r.handleDayClick.bind(r,x),onMouseEnter:r.handleDayMouseEnter.bind(r,x)}))}))},r.startOfWeek=function(){return Br(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Qe(r.startOfWeek(),r.props.selected)&&Qe(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),l.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":Qe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},t=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return ne.createElement("div",{className:qt(r,t),role:"row"},this.renderDays())},l})(w.Component),Ii,V4=6,gl={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},xf=(Ii={},Ii[gl.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Ii[gl.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Ii[gl.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Ii),Oc=1;function Sb(s,l){return s?gl.FOUR_COLUMNS:l?gl.TWO_COLUMNS:gl.THREE_COLUMNS}var G4=(function(s){Zt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.MONTH_REFS=Cn([],Array(12),!0).map(function(){return w.createRef()}),r.QUARTER_REFS=Cn([],Array(4),!0).map(function(){return w.createRef()}),r.isDisabled=function(t){return Wa(t,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(t){return vp(t,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(t,o){var u,d;(d=(u=r.props).onDayClick)===null||d===void 0||d.call(u,t,o,r.props.orderInDisplay)},r.handleDayMouseEnter=function(t){var o,u;(u=(o=r.props).onDayMouseEnter)===null||u===void 0||u.call(o,t)},r.handleMouseLeave=function(){var t,o;(o=(t=r.props).onMouseLeave)===null||o===void 0||o.call(t)},r.isRangeStartMonth=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:oa(Ra(u,t),d)},r.isRangeStartQuarter=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:Nu(xl(u,t),d)},r.isRangeEndMonth=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:oa(Ra(u,t),m)},r.isRangeEndQuarter=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:Nu(xl(u,t),m)},r.isInSelectingRangeMonth=function(t){var o,u=r.props,d=u.day,m=u.selectsStart,x=u.selectsEnd,p=u.selectsRange,v=u.startDate,b=u.endDate,N=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return!(m||x||p)||!N?!1:m&&b?Ac(N,b,t,d):x&&v||p&&v&&!b?Ac(v,N,t,d):!1},r.isSelectingMonthRangeStart=function(t){var o;if(!r.isInSelectingRangeMonth(t))return!1;var u=r.props,d=u.day,m=u.startDate,x=u.selectsStart,p=Ra(d,t),v=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return x?oa(p,v):oa(p,m)},r.isSelectingMonthRangeEnd=function(t){var o;if(!r.isInSelectingRangeMonth(t))return!1;var u=r.props,d=u.day,m=u.endDate,x=u.selectsEnd,p=u.selectsRange,v=Ra(d,t),b=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return x||p?oa(v,b):oa(v,m)},r.isInSelectingRangeQuarter=function(t){var o,u=r.props,d=u.day,m=u.selectsStart,x=u.selectsEnd,p=u.selectsRange,v=u.startDate,b=u.endDate,N=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return!(m||x||p)||!N?!1:m&&b?_c(N,b,t,d):x&&v||p&&v&&!b?_c(v,N,t,d):!1},r.isWeekInMonth=function(t){var o=r.props.day,u=ln(t,6);return oa(t,o)||oa(u,o)},r.isCurrentMonth=function(t,o){return Ye(t)===Ye(Ze())&&o===ja(Ze())},r.isCurrentQuarter=function(t,o){return Ye(t)===Ye(Ze())&&o===Lr(Ze())},r.isSelectedMonth=function(t,o,u){return ja(u)===o&&Ye(t)===Ye(u)},r.isSelectMonthInList=function(t,o,u){return u.some(function(d){return r.isSelectedMonth(t,o,d)})},r.isSelectedQuarter=function(t,o,u){return Lr(u)===o&&Ye(t)===Ye(u)},r.isSelectQuarterInList=function(t,o,u){return u.some(function(d){return r.isSelectedQuarter(t,o,d)})},r.isMonthSelected=function(){var t=r.props,o=t.day,u=t.selected,d=t.selectedDates,m=t.selectsMultiple,x=ja(o);return m?d?.some(function(p){return r.isSelectedMonth(o,x,p)}):!!u&&r.isSelectedMonth(o,x,u)},r.isQuarterSelected=function(){var t=r.props,o=t.day,u=t.selected,d=t.selectedDates,m=t.selectsMultiple,x=Lr(o);return m?d?.some(function(p){return r.isSelectedQuarter(o,x,p)}):!!u&&r.isSelectedQuarter(o,x,u)},r.renderWeeks=function(){if(!Na(r.props.day))return[];for(var t=[],o=r.props.fixedHeight,u=0,d=!1,m=Br(rr(r.props.day),r.props.locale,r.props.calendarStartDay),x=function(M){return r.props.showWeekPicker?Br(M,r.props.locale,r.props.calendarStartDay):r.props.preSelection},p=function(M){return r.props.showWeekPicker?Br(M,r.props.locale,r.props.calendarStartDay):r.props.selected},v=r.props.selected?p(r.props.selected):void 0,b=r.props.preSelection?x(r.props.preSelection):void 0;t.push(ne.createElement($4,Fe({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:u,day:m,month:ja(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:v,preSelection:b,showWeekNumber:r.props.showWeekNumbers}))),!d;){u++,m=du(m,1);var N=o&&u>=V4,C=!o&&!r.isWeekInMonth(m);if(N||C)if(r.props.peekNextMonth)d=!0;else break}return t},r.onMonthClick=function(t,o){var u=r.isMonthDisabledForLabelDate(o),d=u.isDisabled,m=u.labelDate;d||r.handleDayClick(rr(m),t)},r.onMonthMouseEnter=function(t){var o=r.isMonthDisabledForLabelDate(t),u=o.isDisabled,d=o.labelDate;u||r.handleDayMouseEnter(rr(d))},r.handleMonthNavigation=function(t,o){var u,d,m,x;(d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,o),(x=(m=r.MONTH_REFS[t])===null||m===void 0?void 0:m.current)===null||x===void 0||x.focus()},r.handleKeyboardNavigation=function(t,o,u){var d,m=r.props,x=m.selected,p=m.preSelection,v=m.setPreSelection,b=m.minDate,N=m.maxDate,C=m.showFourColumnMonthYearPicker,M=m.showTwoColumnMonthYearPicker;if(p){var S=Sb(C,M),g=r.getVerticalOffset(S),j=(d=xf[S])===null||d===void 0?void 0:d.grid,D=function(G,E,z){var H,W,A=E,se=z;switch(G){case he.ArrowRight:A=un(E,Oc),se=z===11?0:z+Oc;break;case he.ArrowLeft:A=Ns(E,Oc),se=z===0?11:z-Oc;break;case he.ArrowUp:A=Ns(E,g),se=!((H=j?.[0])===null||H===void 0)&&H.includes(z)?z+12-g:z-g;break;case he.ArrowDown:A=un(E,g),se=!((W=j?.[j.length-1])===null||W===void 0)&&W.includes(z)?z-12+g:z+g;break}return{newCalculatedDate:A,newCalculatedMonth:se}},y=function(G,E,z){for(var H=40,W=G,A=!1,se=0,$=D(W,E,z),J=$.newCalculatedDate,B=$.newCalculatedMonth;!A;){if(se>=H){J=E,B=z;break}if(b&&J<b){W=he.ArrowRight;var R=D(W,J,B);J=R.newCalculatedDate,B=R.newCalculatedMonth}if(N&&J>N){W=he.ArrowLeft;var R=D(W,J,B);J=R.newCalculatedDate,B=R.newCalculatedMonth}if(R4(J,r.props)){var R=D(W,J,B);J=R.newCalculatedDate,B=R.newCalculatedMonth}else A=!0;se++}return{newCalculatedDate:J,newCalculatedMonth:B}};if(o===he.Enter){r.isMonthDisabled(u)||(r.onMonthClick(t,u),v?.(x));return}var _=y(o,p,u),O=_.newCalculatedDate,U=_.newCalculatedMonth;switch(o){case he.ArrowRight:case he.ArrowLeft:case he.ArrowUp:case he.ArrowDown:r.handleMonthNavigation(U,O);break}}},r.getVerticalOffset=function(t){var o,u;return(u=(o=xf[t])===null||o===void 0?void 0:o.verticalNavigationOffset)!==null&&u!==void 0?u:0},r.onMonthKeyDown=function(t,o){var u=r.props,d=u.disabledKeyboardNavigation,m=u.handleOnMonthKeyDown,x=t.key;x!==he.Tab&&t.preventDefault(),d||r.handleKeyboardNavigation(t,x,o),m&&m(t)},r.onQuarterClick=function(t,o){var u=xl(r.props.day,o);Tc(u,r.props)||r.handleDayClick(db(u),t)},r.onQuarterMouseEnter=function(t){var o=xl(r.props.day,t);Tc(o,r.props)||r.handleDayMouseEnter(db(o))},r.handleQuarterNavigation=function(t,o){var u,d,m,x;r.isDisabled(o)||r.isExcluded(o)||((d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,o),(x=(m=r.QUARTER_REFS[t-1])===null||m===void 0?void 0:m.current)===null||x===void 0||x.focus())},r.onQuarterKeyDown=function(t,o){var u,d,m=t.key;if(!r.props.disabledKeyboardNavigation)switch(m){case he.Enter:r.onQuarterClick(t,o),(d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,r.props.selected);break;case he.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(o===4?1:o+1,sp(r.props.preSelection,1));break;case he.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(o===1?4:o-1,Gy(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(t){var o,u=r.props,d=u.day,m=u.disabled,x=u.minDate,p=u.maxDate,v=u.excludeDates,b=u.includeDates,N=Ra(d,t);return m?{isDisabled:!0,labelDate:Ra(d,t)}:{isDisabled:(o=(x||p||v||b)&&c1(N,r.props))!==null&&o!==void 0?o:!1,labelDate:N}},r.isMonthDisabled=function(t){var o=r.isMonthDisabledForLabelDate(t).isDisabled;return o},r.getMonthClassNames=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate,x=o.preSelection,p=o.monthClassName,v=p?p(Ra(u,t)):void 0,b=r.getSelection();return qt("react-datepicker__month-text","react-datepicker__month-".concat(t),v,{"react-datepicker__month-text--disabled":r.isMonthDisabled(t),"react-datepicker__month-text--selected":b?r.isSelectMonthInList(u,t,b):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&x&&r.isSelectedMonth(u,t,x)&&!r.isMonthSelected()&&!r.isMonthDisabled(t),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(t),"react-datepicker__month-text--in-range":d&&m?Ac(d,m,t,u):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(t),"react-datepicker__month-text--range-end":r.isRangeEndMonth(t),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(t),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(t),"react-datepicker__month-text--today":r.isCurrentMonth(u,t)})},r.getTabIndex=function(t){if(r.props.preSelection==null)return"-1";var o=ja(r.props.preSelection),u=r.isMonthDisabledForLabelDate(o).isDisabled,d=t===o&&!(u||r.props.disabledKeyboardNavigation)?"0":"-1";return d},r.getQuarterTabIndex=function(t){if(r.props.preSelection==null)return"-1";var o=Lr(r.props.preSelection),u=Tc(r.props.day,r.props),d=t===o&&!(u||r.props.disabledKeyboardNavigation)?"0":"-1";return d},r.getAriaLabel=function(t){var o=r.props,u=o.chooseDayAriaLabelPrefix,d=u===void 0?"Choose":u,m=o.disabledDayAriaLabelPrefix,x=m===void 0?"Not available":m,p=o.day,v=o.locale,b=Ra(p,t),N=r.isDisabled(b)||r.isExcluded(b)?x:d;return"".concat(N," ").concat(gt(b,"MMMM yyyy",v))},r.getQuarterClassNames=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate,x=o.minDate,p=o.maxDate,v=o.excludeDates,b=o.includeDates,N=o.filterDate,C=o.preSelection,M=o.disabledKeyboardNavigation,S=o.disabled,g=(x||p||v||b||N||S)&&Tc(xl(u,t),r.props),j=r.getSelection();return qt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(t),{"react-datepicker__quarter-text--disabled":g,"react-datepicker__quarter-text--selected":j?r.isSelectQuarterInList(u,t,j):void 0,"react-datepicker__quarter-text--keyboard-selected":!M&&C&&r.isSelectedQuarter(u,t,C)&&!r.isQuarterSelected()&&!g,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(t),"react-datepicker__quarter-text--in-range":d&&m?_c(d,m,t,u):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(t),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(t),"react-datepicker__quarter-text--today":r.isCurrentQuarter(u,t)})},r.getMonthContent=function(t){var o=r.props,u=o.showFullMonthYearPicker,d=o.renderMonthContent,m=o.locale,x=o.day,p=o1(t,m),v=hp(t,m);return d?d(t,p,v,x):u?v:p},r.getQuarterContent=function(t){var o,u=r.props,d=u.renderQuarterContent,m=u.locale,x=O4(t,m);return(o=d?.(t,x))!==null&&o!==void 0?o:x},r.renderMonths=function(){var t,o=r.props,u=o.showTwoColumnMonthYearPicker,d=o.showFourColumnMonthYearPicker,m=o.day,x=o.selected,p=(t=xf[Sb(d,u)])===null||t===void 0?void 0:t.grid;return p?.map(function(v,b){return ne.createElement("div",{className:"react-datepicker__month-wrapper",key:b},v.map(function(N,C){return ne.createElement("div",{ref:r.MONTH_REFS[N],key:C,onClick:function(M){r.onMonthClick(M,N)},onKeyDown:function(M){f1(M)&&(M.preventDefault(),M.key=he.Enter),r.onMonthKeyDown(M,N)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(N)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(N)}:void 0,tabIndex:Number(r.getTabIndex(N)),className:r.getMonthClassNames(N),"aria-disabled":r.isMonthDisabled(N),role:"option","aria-label":r.getAriaLabel(N),"aria-current":r.isCurrentMonth(m,N)?"date":void 0,"aria-selected":x?r.isSelectedMonth(m,N,x):void 0},r.getMonthContent(N))}))})},r.renderQuarters=function(){var t=r.props,o=t.day,u=t.selected,d=[1,2,3,4];return ne.createElement("div",{className:"react-datepicker__quarter-wrapper"},d.map(function(m,x){return ne.createElement("div",{key:x,ref:r.QUARTER_REFS[x],role:"option",onClick:function(p){r.onQuarterClick(p,m)},onKeyDown:function(p){r.onQuarterKeyDown(p,m)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(m)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(m)}:void 0,className:r.getQuarterClassNames(m),"aria-selected":u?r.isSelectedQuarter(o,m,u):void 0,tabIndex:Number(r.getQuarterTabIndex(m)),"aria-current":r.isCurrentQuarter(o,m)?"date":void 0},r.getQuarterContent(m))}))},r.getClassNames=function(){var t=r.props,o=t.selectingDate,u=t.selectsStart,d=t.selectsEnd,m=t.showMonthYearPicker,x=t.showQuarterYearPicker,p=t.showWeekPicker;return qt("react-datepicker__month",{"react-datepicker__month--selecting-range":o&&(u||d)},{"react-datepicker__monthPicker":m},{"react-datepicker__quarterPicker":x},{"react-datepicker__weekPicker":p})},r}return l.prototype.getSelection=function(){var r=this.props,t=r.selected,o=r.selectedDates,u=r.selectsMultiple;if(u)return o;if(t)return[t]},l.prototype.render=function(){var r=this.props,t=r.showMonthYearPicker,o=r.showQuarterYearPicker,u=r.day,d=r.ariaLabelPrefix,m=d===void 0?"Month ":d,x=m?m.trim()+" ":"",p=Na(u)?"".concat(x).concat(gt(u,"MMMM, yyyy",this.props.locale)):"",v=t||o;return v?ne.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"listbox"},t?this.renderMonths():this.renderQuarters()):ne.createElement("div",{role:"table"},this.props.dayNamesHeader&&ne.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&ne.createElement("div",{role:"rowgroup"},this.props.monthHeader),ne.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&ne.createElement("div",{role:"rowgroup"},this.props.monthFooter))},l})(w.Component),Q4=(function(s){Zt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(t){return r.props.month===t},r.handleOptionKeyDown=function(t,o){var u;switch(o.key){case"Enter":o.preventDefault(),r.onChange(t);break;case"Escape":o.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{o.preventDefault();var d=(t+(o.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(u=r.monthOptionButtonsRef[d])===null||u===void 0||u.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(t,o){return ne.createElement("div",{ref:function(u){r.monthOptionButtonsRef[o]=u,r.isSelectedMonth(o)&&u?.focus()},role:"button",tabIndex:0,className:r.isSelectedMonth(o)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:t,onClick:r.onChange.bind(r,o),onKeyDown:r.handleOptionKeyDown.bind(r,o),"aria-selected":r.isSelectedMonth(o)?"true":void 0},r.isSelectedMonth(o)?ne.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",t)})},r.onChange=function(t){return r.props.onChange(t)},r.handleClickOutside=function(){return r.props.onCancel()},r}return l.prototype.render=function(){return ne.createElement(Fu,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},l})(w.Component),K4=(function(s){Zt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(t){return t.map(function(o,u){return ne.createElement("option",{key:o,value:u},o)})},r.renderSelectMode=function(t){return ne.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(o){return r.onChange(parseInt(o.target.value))}},r.renderSelectOptions(t))},r.renderReadView=function(t,o){return ne.createElement("button",{key:"read",type:"button",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},ne.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ne.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},o[r.props.month]))},r.renderDropdown=function(t){return ne.createElement(Q4,Fe({key:"dropdown"},r.props,{monthNames:t,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(t){var o=r.state.dropdownVisible,u=[r.renderReadView(!o,t)];return o&&u.unshift(r.renderDropdown(t)),u},r.onChange=function(t){r.toggleDropdown(),t!==r.props.month&&r.props.onChange(t)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return l.prototype.render=function(){var r=this,t=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(u){return o1(u,r.props.locale)}:function(u){return hp(u,r.props.locale)}),o;switch(this.props.dropdownMode){case"scroll":o=this.renderScrollMode(t);break;case"select":o=this.renderSelectMode(t);break}return ne.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},o)},l})(w.Component),Cb=5;function X4(s,l,r){for(var t=[],o=s??Hr(r,Cb),u=l??on(r,Cb),d=rr(o),m=rr(u);!nr(d,m);)t.push(Ze(d)),d=un(d,1);return t}var W4=(function(s){Zt(l,s);function l(r){var t=s.call(this,r)||this;return t.renderOptions=function(){return t.state.monthYearsList.map(function(o){var u=Rf(o),d=Nn(t.props.date,o)&&oa(t.props.date,o);return ne.createElement("div",{className:d?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:u,onClick:t.onChange.bind(t,u),"aria-selected":d?"true":void 0},d?ne.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",gt(o,t.props.dateFormat,t.props.locale))})},t.onChange=function(o){return t.props.onChange(o)},t.handleClickOutside=function(){t.props.onCancel()},t.state={monthYearsList:X4(t.props.minDate,t.props.maxDate,t.props.date)},t}return l.prototype.render=function(){var r=qt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ne.createElement(Fu,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},l})(w.Component),kb=5,Z4=(function(s){Zt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var t,o,u=(t=r.props.minDate)!==null&&t!==void 0?t:Hr(r.props.date,kb),d=(o=r.props.maxDate)!==null&&o!==void 0?o:on(r.props.date,kb),m=rr(u),x=rr(d),p=[];!nr(m,x);){var v=Rf(m);p.push(ne.createElement("option",{key:v,value:v},gt(m,r.props.dateFormat,r.props.locale))),m=un(m,1)}return p},r.onSelectChange=function(t){r.onChange(parseInt(t.target.value))},r.renderSelectMode=function(){return ne.createElement("select",{value:Rf(rr(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(t){var o=gt(r.props.date,r.props.dateFormat,r.props.locale);return ne.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},ne.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ne.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},o))},r.renderDropdown=function(){return ne.createElement(W4,Fe({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var t=r.state.dropdownVisible,o=[r.renderReadView(!t)];return t&&o.unshift(r.renderDropdown()),o},r.onChange=function(t){r.toggleDropdown();var o=Ze(t);Nn(r.props.date,o)&&oa(r.props.date,o)||r.props.onChange(o)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return l.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ne.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},l})(w.Component),J4=(function(s){Zt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var t,o,u;r.list&&(r.list.scrollTop=(u=r.centerLi&&l.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((o=(t=r.header)===null||t===void 0?void 0:t.clientHeight)!==null&&o!==void 0?o:0):r.list.clientHeight,r.centerLi))!==null&&u!==void 0?u:0)})},r.handleClick=function(t){var o,u;(r.props.minTime||r.props.maxTime)&&hb(t,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&xb(t,r.props)||(u=(o=r.props).onChange)===null||u===void 0||u.call(o,t)},r.isSelectedTime=function(t){var o=gs(r.props.selected);return o&&m1(o,t)},r.isDisabledTime=function(t){return(r.props.minTime||r.props.maxTime)&&hb(t,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&xb(t,r.props)},r.liClasses=function(t){var o,u=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(t):void 0];return r.isSelectedTime(t)&&u.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(t)&&u.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(na(t)*3600+ra(t)*60+Fr(t))%(((o=r.props.intervals)!==null&&o!==void 0?o:l.defaultProps.intervals)*60)!==0&&u.push("react-datepicker__time-list-item--injected"),u.join(" ")},r.handleOnKeyDown=function(t,o){var u,d;t.key===he.Space&&(t.preventDefault(),t.key=he.Enter),(t.key===he.ArrowUp||t.key===he.ArrowLeft)&&t.target instanceof HTMLElement&&t.target.previousSibling&&(t.preventDefault(),t.target.previousSibling instanceof HTMLElement&&t.target.previousSibling.focus()),(t.key===he.ArrowDown||t.key===he.ArrowRight)&&t.target instanceof HTMLElement&&t.target.nextSibling&&(t.preventDefault(),t.target.nextSibling instanceof HTMLElement&&t.target.nextSibling.focus()),t.key===he.Enter&&r.handleClick(o),(d=(u=r.props).handleOnKeyDown)===null||d===void 0||d.call(u,t)},r.renderTimes=function(){for(var t,o=[],u=typeof r.props.format=="string"?r.props.format:"p",d=(t=r.props.intervals)!==null&&t!==void 0?t:l.defaultProps.intervals,m=gs(r.props.selected)||gs(r.props.openToDate)||Ze(),x=Hi(m),p=r.props.injectTimes&&r.props.injectTimes.sort(function(g,j){return g.getTime()-j.getTime()}),v=60*Y4(m),b=v/d,N=0;N<b;N++){var C=Qi(x,N*d);if(o.push(C),p){var M=H4(x,C,N,d,p);o=o.concat(M)}}var S=o.reduce(function(g,j){return j.getTime()<=m.getTime()?j:g},o[0]);return o.map(function(g){return ne.createElement("li",{key:g.valueOf(),onClick:r.handleClick.bind(r,g),className:r.liClasses(g),ref:function(j){g===S&&(r.centerLi=j)},onKeyDown:function(j){r.handleOnKeyDown(j,g)},tabIndex:g===S?0:-1,role:"option","aria-selected":r.isSelectedTime(g)?"true":void 0,"aria-disabled":r.isDisabledTime(g)?"true":void 0},gt(g,u,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?ne.createElement(ne.Fragment,null):ne.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(t){r.header=t}},ne.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},l.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},l.prototype.observeDatePickerHeightChanges=function(){var r=this,t=this.props.monthRef;this.updateContainerHeight(),t&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(t))},l.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var r=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==r&&this.setState({height:r})}},l.prototype.render=function(){var r=this,t,o=this.state.height;return ne.createElement("div",{className:"react-datepicker__time-container ".concat(((t=this.props.todayButton)!==null&&t!==void 0?t:l.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ne.createElement("div",{className:"react-datepicker__time"},ne.createElement("div",{className:"react-datepicker__time-box"},ne.createElement("ul",{className:"react-datepicker__time-list",ref:function(u){r.list=u},style:o?{height:o}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},l.calcCenterPosition=function(r,t){return t.offsetTop-(r/2-t.clientHeight/2)},l})(w.Component),Db=3,e3=(function(s){Zt(l,s);function l(r){var t=s.call(this,r)||this;return t.YEAR_REFS=Cn([],Array(t.props.yearItemNumber),!0).map(function(){return w.createRef()}),t.isDisabled=function(o){return Wa(o,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(o){return vp(o,{excludeDates:t.props.excludeDates})},t.selectingDate=function(){var o;return(o=t.props.selectingDate)!==null&&o!==void 0?o:t.props.preSelection},t.updateFocusOnPaginate=function(o){var u=function(){var d,m;(m=(d=t.YEAR_REFS[o])===null||d===void 0?void 0:d.current)===null||m===void 0||m.focus()};window.requestAnimationFrame(u)},t.handleYearClick=function(o,u){t.props.onDayClick&&t.props.onDayClick(o,u)},t.handleYearNavigation=function(o,u){var d,m,x,p,v=t.props,b=v.date,N=v.yearItemNumber;if(!(b===void 0||N===void 0)){var C=tr(b,N).startPeriod;t.isDisabled(u)||t.isExcluded(u)||((m=(d=t.props).setPreSelection)===null||m===void 0||m.call(d,u),o-C<0?t.updateFocusOnPaginate(N-(C-o)):o-C>=N?t.updateFocusOnPaginate(Math.abs(N-(o-C))):(p=(x=t.YEAR_REFS[o-C])===null||x===void 0?void 0:x.current)===null||p===void 0||p.focus())}},t.isSameDay=function(o,u){return Qe(o,u)},t.isCurrentYear=function(o){return o===Ye(Ze())},t.isRangeStart=function(o){return t.props.startDate&&t.props.endDate&&Nn(yn(Ze(),o),t.props.startDate)},t.isRangeEnd=function(o){return t.props.startDate&&t.props.endDate&&Nn(yn(Ze(),o),t.props.endDate)},t.isInRange=function(o){return Ec(o,t.props.startDate,t.props.endDate)},t.isInSelectingRange=function(o){var u=t.props,d=u.selectsStart,m=u.selectsEnd,x=u.selectsRange,p=u.startDate,v=u.endDate;return!(d||m||x)||!t.selectingDate()?!1:d&&v?Ec(o,t.selectingDate(),v):m&&p||x&&p&&!v?Ec(o,p,t.selectingDate()):!1},t.isSelectingRangeStart=function(o){var u;if(!t.isInSelectingRange(o))return!1;var d=t.props,m=d.startDate,x=d.selectsStart,p=yn(Ze(),o);return x?Nn(p,(u=t.selectingDate())!==null&&u!==void 0?u:null):Nn(p,m??null)},t.isSelectingRangeEnd=function(o){var u;if(!t.isInSelectingRange(o))return!1;var d=t.props,m=d.endDate,x=d.selectsEnd,p=d.selectsRange,v=yn(Ze(),o);return x||p?Nn(v,(u=t.selectingDate())!==null&&u!==void 0?u:null):Nn(v,m??null)},t.isKeyboardSelected=function(o){if(!(t.props.disabledKeyboardNavigation||t.props.date===void 0||t.props.preSelection==null)){var u=t.props,d=u.minDate,m=u.maxDate,x=u.excludeDates,p=u.includeDates,v=u.filterDate,b=u.selected,N=Yi(yn(t.props.date,o)),C=(d||m||x||p||v)&&tu(o,t.props),M=!!b&&Qe(N,Yi(b)),S=Qe(N,Yi(t.props.preSelection));return!t.props.inline&&!M&&S&&!C}},t.isSelectedYear=function(o){var u=t.props,d=u.selectsMultiple,m=u.selected,x=u.selectedDates;return d?x?.some(function(p){return o===Ye(p)}):!!m&&o===Ye(m)},t.onYearClick=function(o,u){var d=t.props.date;d!==void 0&&t.handleYearClick(Yi(yn(d,u)),o)},t.onYearKeyDown=function(o,u){var d,m,x=o.key,p=t.props,v=p.date,b=p.yearItemNumber,N=p.handleOnKeyDown;if(x!==he.Tab&&o.preventDefault(),!t.props.disabledKeyboardNavigation)switch(x){case he.Enter:if(t.props.selected==null)break;t.onYearClick(o,u),(m=(d=t.props).setPreSelection)===null||m===void 0||m.call(d,t.props.selected);break;case he.ArrowRight:if(t.props.preSelection==null)break;t.handleYearNavigation(u+1,on(t.props.preSelection,1));break;case he.ArrowLeft:if(t.props.preSelection==null)break;t.handleYearNavigation(u-1,Hr(t.props.preSelection,1));break;case he.ArrowUp:{if(v===void 0||b===void 0||t.props.preSelection==null)break;var C=tr(v,b).startPeriod,M=Db,S=u-M;if(S<C){var g=b%M;u>=C&&u<C+g?M=g:M+=g,S=u-M}t.handleYearNavigation(S,Hr(t.props.preSelection,M));break}case he.ArrowDown:{if(v===void 0||b===void 0||t.props.preSelection==null)break;var j=tr(v,b).endPeriod,M=Db,S=u+M;if(S>j){var g=b%M;u<=j&&u>j-g?M=g:M+=g,S=u+M}t.handleYearNavigation(S,on(t.props.preSelection,M));break}}N&&N(o)},t.getYearClassNames=function(o){var u=t.props,d=u.date,m=u.disabled,x=u.minDate,p=u.maxDate,v=u.excludeDates,b=u.includeDates,N=u.filterDate,C=u.yearClassName;return qt("react-datepicker__year-text","react-datepicker__year-".concat(o),d?C?.(yn(d,o)):void 0,{"react-datepicker__year-text--selected":t.isSelectedYear(o),"react-datepicker__year-text--disabled":(x||p||v||b||N||m)&&tu(o,t.props),"react-datepicker__year-text--keyboard-selected":t.isKeyboardSelected(o),"react-datepicker__year-text--range-start":t.isRangeStart(o),"react-datepicker__year-text--range-end":t.isRangeEnd(o),"react-datepicker__year-text--in-range":t.isInRange(o),"react-datepicker__year-text--in-selecting-range":t.isInSelectingRange(o),"react-datepicker__year-text--selecting-range-start":t.isSelectingRangeStart(o),"react-datepicker__year-text--selecting-range-end":t.isSelectingRangeEnd(o),"react-datepicker__year-text--today":t.isCurrentYear(o)})},t.getYearTabIndex=function(o){if(t.props.disabledKeyboardNavigation||t.props.preSelection==null)return"-1";var u=Ye(t.props.preSelection),d=tu(o,t.props);return o===u&&!d?"0":"-1"},t.getYearContent=function(o){return t.props.renderYearContent?t.props.renderYearContent(o):o},t}return l.prototype.render=function(){var r=this,t=[],o=this.props,u=o.date,d=o.yearItemNumber,m=o.onYearMouseEnter,x=o.onYearMouseLeave;if(u===void 0)return null;for(var p=tr(u,d),v=p.startPeriod,b=p.endPeriod,N=function(S){t.push(ne.createElement("div",{ref:C.YEAR_REFS[S-v],onClick:function(g){r.onYearClick(g,S)},onKeyDown:function(g){f1(g)&&(g.preventDefault(),g.key=he.Enter),r.onYearKeyDown(g,S)},tabIndex:Number(C.getYearTabIndex(S)),className:C.getYearClassNames(S),onMouseEnter:C.props.usePointerEvent?void 0:function(g){return m(g,S)},onPointerEnter:C.props.usePointerEvent?function(g){return m(g,S)}:void 0,onMouseLeave:C.props.usePointerEvent?void 0:function(g){return x(g,S)},onPointerLeave:C.props.usePointerEvent?function(g){return x(g,S)}:void 0,key:S,"aria-current":C.isCurrentYear(S)?"date":void 0},C.getYearContent(S)))},C=this,M=v;M<=b;M++)N(M);return ne.createElement("div",{className:"react-datepicker__year"},ne.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},l})(w.Component);function t3(s,l,r,t){for(var o=[],u=0;u<2*l+1;u++){var d=s+l-u,m=!0;r&&(m=Ye(r)<=d),t&&m&&(m=Ye(t)>=d),m&&o.push(d)}return o}var a3=(function(s){Zt(l,s);function l(r){var t=s.call(this,r)||this;t.yearOptionButtonsRef={},t.handleOptionKeyDown=function(m,x){var p;switch(x.key){case"Enter":x.preventDefault(),t.onChange(m);break;case"Escape":x.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{x.preventDefault();var v=m+(x.key==="ArrowUp"?1:-1);t.yearOptionButtonsRef[v]&&((p=t.yearOptionButtonsRef[v])===null||p===void 0||p.focus());break}}},t.renderOptions=function(){t.yearOptionButtonsRef={};var m=t.props.year,x=t.state.yearsList.map(function(b){return ne.createElement("div",{ref:function(N){t.yearOptionButtonsRef[b]=N,b===m&&N?.focus()},role:"button",tabIndex:0,className:m===b?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:b,onClick:t.onChange.bind(t,b),onKeyDown:t.handleOptionKeyDown.bind(t,b),"aria-selected":m===b?"true":void 0},m===b?ne.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",b)}),p=t.props.minDate?Ye(t.props.minDate):null,v=t.props.maxDate?Ye(t.props.maxDate):null;return(!v||!t.state.yearsList.find(function(b){return b===v}))&&x.unshift(ne.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:t.incrementYears},ne.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!p||!t.state.yearsList.find(function(b){return b===p}))&&x.push(ne.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:t.decrementYears},ne.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),x},t.onChange=function(m){t.props.onChange(m)},t.handleClickOutside=function(){t.props.onCancel()},t.shiftYears=function(m){var x=t.state.yearsList.map(function(p){return p+m});t.setState({yearsList:x})},t.incrementYears=function(){return t.shiftYears(1)},t.decrementYears=function(){return t.shiftYears(-1)};var o=r.yearDropdownItemNumber,u=r.scrollableYearDropdown,d=o||(u?10:5);return t.state={yearsList:t3(t.props.year,d,t.props.minDate,t.props.maxDate)},t.dropdownRef=w.createRef(),t}return l.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var t=r.children?Array.from(r.children):null,o=t?t.find(function(u){return u.ariaSelected}):null;r.scrollTop=o&&o instanceof HTMLElement?o.offsetTop+(o.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},l.prototype.render=function(){var r=qt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ne.createElement(Fu,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},l})(w.Component),n3=(function(s){Zt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var t=r.props.minDate?Ye(r.props.minDate):1900,o=r.props.maxDate?Ye(r.props.maxDate):2100,u=[],d=t;d<=o;d++)u.push(ne.createElement("option",{key:d,value:d},d));return u},r.onSelectChange=function(t){r.onChange(parseInt(t.target.value))},r.renderSelectMode=function(){return ne.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(t){return ne.createElement("button",{key:"read",type:"button",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},ne.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ne.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return ne.createElement(a3,Fe({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var t=r.state.dropdownVisible,o=[r.renderReadView(!t)];return t&&o.unshift(r.renderDropdown()),o},r.onChange=function(t){r.toggleDropdown(),t!==r.props.year&&r.props.onChange(t)},r.toggleDropdown=function(t){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,t)})},r.handleYearChange=function(t,o){var u;(u=r.onSelect)===null||u===void 0||u.call(r,t,o),r.setOpen()},r.onSelect=function(t,o){var u,d;(d=(u=r.props).onSelect)===null||d===void 0||d.call(u,t,o)},r.setOpen=function(){var t,o;(o=(t=r.props).setOpen)===null||o===void 0||o.call(t,!0)},r}return l.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ne.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},l})(w.Component),r3=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],p1="react-datepicker-ignore-onclickoutside",s3=function(s){var l=(s.className||"").split(/\s+/);return r3.some(function(r){return l.indexOf(r)>=0})},l3=(function(s){Zt(l,s);function l(r){var t=s.call(this,r)||this;return t.monthContainer=void 0,t.handleClickOutside=function(o){t.props.onClickOutside(o)},t.setClickOutsideRef=function(){return t.containerRef.current},t.handleDropdownFocus=function(o){var u,d;s3(o.target)&&((d=(u=t.props).onDropdownFocus)===null||d===void 0||d.call(u,o))},t.getDateInView=function(){var o=t.props,u=o.preSelection,d=o.selected,m=o.openToDate,x=u1(t.props),p=d1(t.props),v=Ze(),b=m||d||u;return b||(x&&Sn(v,x)?x:p&&nr(v,p)?p:v)},t.increaseMonth=function(){t.setState(function(o){var u=o.date;return{date:un(u,1)}},function(){return t.handleMonthChange(t.state.date)})},t.decreaseMonth=function(){t.setState(function(o){var u=o.date;return{date:Ns(u,1)}},function(){return t.handleMonthChange(t.state.date)})},t.handleDayClick=function(o,u,d){t.props.onSelect(o,u,d),t.props.setPreSelection&&t.props.setPreSelection(o)},t.handleDayMouseEnter=function(o){t.setState({selectingDate:o}),t.props.onDayMouseEnter&&t.props.onDayMouseEnter(o)},t.handleMonthMouseLeave=function(){t.setState({selectingDate:void 0}),t.props.onMonthMouseLeave&&t.props.onMonthMouseLeave()},t.handleYearMouseEnter=function(o,u){t.setState({selectingDate:yn(Ze(),u)}),t.props.onYearMouseEnter&&t.props.onYearMouseEnter(o,u)},t.handleYearMouseLeave=function(o,u){t.props.onYearMouseLeave&&t.props.onYearMouseLeave(o,u)},t.handleYearChange=function(o){var u,d,m,x;(d=(u=t.props).onYearChange)===null||d===void 0||d.call(u,o),t.setState({isRenderAriaLiveMessage:!0}),t.props.adjustDateOnChange&&(t.props.onSelect(o),(x=(m=t.props).setOpen)===null||x===void 0||x.call(m,!0)),t.props.setPreSelection&&t.props.setPreSelection(o)},t.getEnabledPreSelectionDateForMonth=function(o){if(!Wa(o,t.props))return o;for(var u=rr(o),d=A4(o),m=F5(d,u),x=null,p=0;p<=m;p++){var v=ln(u,p);if(!Wa(v,t.props)){x=v;break}}return x},t.handleMonthChange=function(o){var u,d,m,x=(u=t.getEnabledPreSelectionDateForMonth(o))!==null&&u!==void 0?u:o;t.handleCustomMonthChange(x),t.props.adjustDateOnChange&&(t.props.onSelect(x),(m=(d=t.props).setOpen)===null||m===void 0||m.call(d,!0)),t.props.setPreSelection&&t.props.setPreSelection(x)},t.handleCustomMonthChange=function(o){var u,d;(d=(u=t.props).onMonthChange)===null||d===void 0||d.call(u,o),t.setState({isRenderAriaLiveMessage:!0})},t.handleMonthYearChange=function(o){t.handleYearChange(o),t.handleMonthChange(o)},t.changeYear=function(o){t.setState(function(u){var d=u.date;return{date:yn(d,Number(o))}},function(){return t.handleYearChange(t.state.date)})},t.changeMonth=function(o){t.setState(function(u){var d=u.date;return{date:Ra(d,Number(o))}},function(){var u,d;t.handleMonthChange(t.state.date),(d=(u=t.props).onMonthSelectedInChange)===null||d===void 0||d.call(u,0)})},t.changeMonthYear=function(o){t.setState(function(u){var d=u.date;return{date:yn(Ra(d,ja(o)),Ye(o))}},function(){return t.handleMonthYearChange(t.state.date)})},t.header=function(o,u){if(o===void 0&&(o=t.state.date),u===void 0&&(u=0),!Na(o))return[];var d=t.props.disabled,m=Br(o,t.props.locale,t.props.calendarStartDay),x=[];return t.props.showWeekNumbers&&x.push(ne.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(d?"react-datepicker__day-name--disabled":""),role:"columnheader"},ne.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),ne.createElement("span",{"aria-hidden":"true"},t.props.weekLabel||"#"))),x.concat([0,1,2,3,4,5,6].map(function(p){var v=ln(m,p),b=t.formatWeekday(v,t.props.locale),N=gt(v,"EEEE",t.props.locale),C=t.props.weekDayClassName?t.props.weekDayClassName(v):void 0;if(t.props.renderCustomDayName){var M=t.props.renderCustomDayName({day:v,shortName:b,fullName:N,locale:t.props.locale,customDayNameCount:u});return ne.createElement("div",{key:p,role:"columnheader",className:qt("react-datepicker__day-name",C,d?"react-datepicker__day-name--disabled":"")},M)}return ne.createElement("div",{key:p,role:"columnheader",className:qt("react-datepicker__day-name",C,d?"react-datepicker__day-name--disabled":"")},ne.createElement("span",{className:"react-datepicker__sr-only"},N),ne.createElement("span",{"aria-hidden":"true"},b))}))},t.formatWeekday=function(o,u){return t.props.formatWeekDay?T4(o,t.props.formatWeekDay,u):t.props.useWeekdaysShort?_4(o,u):E4(o,u)},t.decreaseYear=function(){t.setState(function(o){var u,d=o.date;return{date:Hr(d,t.props.showYearPicker?(u=t.props.yearItemNumber)!==null&&u!==void 0?u:l.defaultProps.yearItemNumber:1)}},function(){return t.handleYearChange(t.state.date)})},t.clearSelectingDate=function(){t.setState({selectingDate:void 0})},t.renderPreviousButton=function(){var o,u,d;if(!t.props.renderCustomHeader){var m=(o=t.props.monthsShown)!==null&&o!==void 0?o:l.defaultProps.monthsShown,x=t.props.showPreviousMonths?m-1:0,p=(u=t.props.monthSelectedIn)!==null&&u!==void 0?u:x,v=Ns(t.state.date,p),b;switch(!0){case t.props.disabled:b=!0;break;case t.props.showMonthYearPicker:b=gb(t.state.date,t.props);break;case t.props.showYearPicker:b=P4(t.state.date,t.props);break;case t.props.showQuarterYearPicker:b=I4(t.state.date,t.props);break;default:b=vb(v,t.props);break}if(!(!((d=t.props.forceShowMonthNavigation)!==null&&d!==void 0?d:l.defaultProps.forceShowMonthNavigation)&&!t.props.showDisabledMonthNavigation&&b||t.props.showTimeSelectOnly)){var N=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],C=["react-datepicker__navigation","react-datepicker__navigation--previous"],M=t.decreaseMonth;(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker)&&(M=t.decreaseYear),b&&t.props.showDisabledMonthNavigation&&(C.push("react-datepicker__navigation--previous--disabled"),M=void 0);var S=t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker,g=t.props,j=g.previousMonthButtonLabel,D=j===void 0?l.defaultProps.previousMonthButtonLabel:j,y=g.previousYearButtonLabel,_=y===void 0?l.defaultProps.previousYearButtonLabel:y,O=t.props,U=O.previousMonthAriaLabel,G=U===void 0?typeof D=="string"?D:"Previous Month":U,E=O.previousYearAriaLabel,z=E===void 0?typeof _=="string"?_:"Previous Year":E;return ne.createElement("button",{type:"button",className:C.join(" "),onClick:M,onKeyDown:t.props.handleOnKeyDown,"aria-label":S?z:G},ne.createElement("span",{className:N.join(" ")},S?_:D))}}},t.increaseYear=function(){t.setState(function(o){var u,d=o.date;return{date:on(d,t.props.showYearPicker?(u=t.props.yearItemNumber)!==null&&u!==void 0?u:l.defaultProps.yearItemNumber:1)}},function(){return t.handleYearChange(t.state.date)})},t.renderNextButton=function(){var o;if(!t.props.renderCustomHeader){var u;switch(!0){case t.props.disabled:u=!0;break;case t.props.showMonthYearPicker:u=yb(t.state.date,t.props);break;case t.props.showYearPicker:u=z4(t.state.date,t.props);break;case t.props.showQuarterYearPicker:u=L4(t.state.date,t.props);break;default:u=bb(t.state.date,t.props);break}if(!(!((o=t.props.forceShowMonthNavigation)!==null&&o!==void 0?o:l.defaultProps.forceShowMonthNavigation)&&!t.props.showDisabledMonthNavigation&&u||t.props.showTimeSelectOnly)){var d=["react-datepicker__navigation","react-datepicker__navigation--next"],m=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];t.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),t.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var x=t.increaseMonth;(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker)&&(x=t.increaseYear),u&&t.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),x=void 0);var p=t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker,v=t.props,b=v.nextMonthButtonLabel,N=b===void 0?l.defaultProps.nextMonthButtonLabel:b,C=v.nextYearButtonLabel,M=C===void 0?l.defaultProps.nextYearButtonLabel:C,S=t.props,g=S.nextMonthAriaLabel,j=g===void 0?typeof N=="string"?N:"Next Month":g,D=S.nextYearAriaLabel,y=D===void 0?typeof M=="string"?M:"Next Year":D;return ne.createElement("button",{type:"button",className:d.join(" "),onClick:x,onKeyDown:t.props.handleOnKeyDown,"aria-label":p?y:j},ne.createElement("span",{className:m.join(" ")},p?M:N))}}},t.renderCurrentMonth=function(o){o===void 0&&(o=t.state.date);var u=["react-datepicker__current-month"];return t.props.showYearDropdown&&u.push("react-datepicker__current-month--hasYearDropdown"),t.props.showMonthDropdown&&u.push("react-datepicker__current-month--hasMonthDropdown"),t.props.showMonthYearDropdown&&u.push("react-datepicker__current-month--hasMonthYearDropdown"),ne.createElement("h2",{className:u.join(" ")},Na(o)?gt(o,t.props.dateFormat,t.props.locale):"")},t.renderYearDropdown=function(o){if(o===void 0&&(o=!1),!(!t.props.showYearDropdown||o))return ne.createElement(n3,Fe({},l.defaultProps,t.props,{date:t.state.date,onChange:t.changeYear,year:Ye(t.state.date)}))},t.renderMonthDropdown=function(o){if(o===void 0&&(o=!1),!(!t.props.showMonthDropdown||o))return ne.createElement(K4,Fe({},l.defaultProps,t.props,{month:ja(t.state.date),onChange:t.changeMonth}))},t.renderMonthYearDropdown=function(o){if(o===void 0&&(o=!1),!(!t.props.showMonthYearDropdown||o))return ne.createElement(Z4,Fe({},l.defaultProps,t.props,{date:t.state.date,onChange:t.changeMonthYear}))},t.handleTodayButtonClick=function(o){t.props.onSelect(mb(),o),t.props.setPreSelection&&t.props.setPreSelection(mb())},t.renderTodayButton=function(){if(!(!t.props.todayButton||t.props.showTimeSelectOnly))return ne.createElement("div",{className:"react-datepicker__today-button",onClick:t.handleTodayButtonClick},t.props.todayButton)},t.renderDayNamesHeader=function(o,u){return u===void 0&&(u=0),ne.createElement("div",{className:"react-datepicker__day-names",role:"row"},t.header(o,u))},t.renderDefaultHeader=function(o){var u=o.monthDate,d=o.i,m=ne.createElement("div",{className:qt("react-datepicker__header",{"react-datepicker__header--has-time-select":t.props.showTimeSelect,"react-datepicker__header--middle":t.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":t.props.monthHeaderPosition==="bottom"})},t.renderCurrentMonth(u),ne.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(t.props.dropdownMode),onFocus:t.handleDropdownFocus},t.renderMonthDropdown(d!==0),t.renderMonthYearDropdown(d!==0),t.renderYearDropdown(d!==0)));return t.props.monthHeaderPosition==="top"?m:ne.createElement("div",{className:"react-datepicker__header-wrapper"},t.renderPreviousButton()||null,t.renderNextButton()||null,m)},t.renderCustomHeader=function(o){var u,d,m=o.monthDate,x=o.i;if(t.props.showTimeSelect&&!t.state.monthContainer||t.props.showTimeSelectOnly)return null;var p=t.props,v=p.showYearPicker,b=p.yearItemNumber,N;if(v){var C=tr(m,b),M=C.startPeriod,S=C.endPeriod;N={startYear:M,endYear:S}}var g=vb(t.state.date,t.props),j=bb(t.state.date,t.props),D=gb(t.state.date,t.props),y=yb(t.state.date,t.props);return ne.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:t.props.onDropdownFocus},(d=(u=t.props).renderCustomHeader)===null||d===void 0?void 0:d.call(u,Fe(Fe(Fe({},t.state),v&&{visibleYearsRange:N}),{customHeaderCount:x,monthDate:m,changeMonth:t.changeMonth,changeYear:t.changeYear,decreaseMonth:t.decreaseMonth,increaseMonth:t.increaseMonth,decreaseYear:t.decreaseYear,increaseYear:t.increaseYear,prevMonthButtonDisabled:g,nextMonthButtonDisabled:j,prevYearButtonDisabled:D,nextYearButtonDisabled:y})))},t.renderYearHeader=function(o){var u=o.monthDate,d=t.props,m=d.showYearPicker,x=d.yearItemNumber,p=x===void 0?l.defaultProps.yearItemNumber:x,v=tr(u,p),b=v.startPeriod,N=v.endPeriod;return ne.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},m?"".concat(b," - ").concat(N):Ye(u))},t.renderHeader=function(o){var u=o.monthDate,d=o.i,m=d===void 0?0:d,x={monthDate:u,i:m};switch(!0){case t.props.renderCustomHeader!==void 0:return t.renderCustomHeader(x);case(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker):return t.renderYearHeader(x);default:return t.renderDefaultHeader(x)}},t.renderMonths=function(){var o,u;if(!(t.props.showTimeSelectOnly||t.props.showYearPicker)){for(var d=[],m=(o=t.props.monthsShown)!==null&&o!==void 0?o:l.defaultProps.monthsShown,x=t.props.showPreviousMonths?m-1:0,p=t.props.showMonthYearPicker||t.props.showQuarterYearPicker?on(t.state.date,x):Ns(t.state.date,x),v=(u=t.props.monthSelectedIn)!==null&&u!==void 0?u:x,b=0;b<m;++b){var N=b-v+x,C=t.props.showMonthYearPicker||t.props.showQuarterYearPicker?on(p,N):un(p,N),M="month-".concat(b),S=b<m-1,g=b>0;d.push(ne.createElement("div",{key:M,ref:function(j){t.monthContainer=j??void 0},className:"react-datepicker__month-container"},t.props.monthHeaderPosition==="top"&&t.renderHeader({monthDate:C,i:b}),ne.createElement(G4,Fe({},l.defaultProps,t.props,{containerRef:t.containerRef,ariaLabelPrefix:t.props.monthAriaLabelPrefix,day:C,onDayClick:t.handleDayClick,handleOnKeyDown:t.props.handleOnDayKeyDown,handleOnMonthKeyDown:t.props.handleOnKeyDown,onDayMouseEnter:t.handleDayMouseEnter,onMouseLeave:t.handleMonthMouseLeave,orderInDisplay:b,selectingDate:t.state.selectingDate,monthShowsDuplicateDaysEnd:S,monthShowsDuplicateDaysStart:g,dayNamesHeader:t.renderDayNamesHeader(C,b),monthHeader:t.props.monthHeaderPosition==="middle"?t.renderHeader({monthDate:C,i:b}):void 0,monthFooter:t.props.monthHeaderPosition==="bottom"?t.renderHeader({monthDate:C,i:b}):void 0}))))}return d}},t.renderYears=function(){if(!t.props.showTimeSelectOnly&&t.props.showYearPicker)return ne.createElement("div",{className:"react-datepicker__year--container"},t.renderHeader({monthDate:t.state.date}),ne.createElement(e3,Fe({},l.defaultProps,t.props,{selectingDate:t.state.selectingDate,date:t.state.date,onDayClick:t.handleDayClick,clearSelectingDate:t.clearSelectingDate,onYearMouseEnter:t.handleYearMouseEnter,onYearMouseLeave:t.handleYearMouseLeave})))},t.renderTimeSection=function(){if(t.props.showTimeSelect&&(t.state.monthContainer||t.props.showTimeSelectOnly))return ne.createElement(J4,Fe({},l.defaultProps,t.props,{onChange:t.props.onTimeChange,format:t.props.timeFormat,intervals:t.props.timeIntervals,monthRef:t.state.monthContainer}))},t.renderInputTimeSection=function(){var o,u;if(t.props.showTimeInput){if(t.props.selectsRange){var d=t.props,m=d.startDate,x=d.endDate,p=m?new Date(m):void 0,v=p&&Na(p)&&!!m,b=v?"".concat(dl(p.getHours()),":").concat(dl(p.getMinutes())):"",N=x?new Date(x):void 0,C=N&&Na(N)&&!!x,M=C?"".concat(dl(N.getHours()),":").concat(dl(N.getMinutes())):"";return ne.createElement(ne.Fragment,null,ne.createElement(pf,Fe({},l.defaultProps,t.props,{date:p,timeString:b,onChange:function(D){var y,_;(_=(y=t.props).onTimeChange)===null||_===void 0||_.call(y,D,"start")},timeInputLabel:((o=t.props.timeInputLabel)!==null&&o!==void 0?o:"Time")+" (Start)"})),ne.createElement(pf,Fe({},l.defaultProps,t.props,{date:N,timeString:M,onChange:function(D){var y,_;(_=(y=t.props).onTimeChange)===null||_===void 0||_.call(y,D,"end")},timeInputLabel:((u=t.props.timeInputLabel)!==null&&u!==void 0?u:"Time")+" (End)"})))}var S=t.props.selected?new Date(t.props.selected):void 0,g=S&&Na(S)&&!!t.props.selected,j=g?"".concat(dl(S.getHours()),":").concat(dl(S.getMinutes())):"";return ne.createElement(pf,Fe({},l.defaultProps,t.props,{date:S,timeString:j,onChange:function(D){var y,_;(_=(y=t.props).onTimeChange)===null||_===void 0||_.call(y,D)}}))}},t.renderAriaLiveRegion=function(){var o;if(!Na(t.state.date))return ne.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var u=tr(t.state.date,(o=t.props.yearItemNumber)!==null&&o!==void 0?o:l.defaultProps.yearItemNumber),d=u.startPeriod,m=u.endPeriod,x;return t.props.showYearPicker?x="".concat(d," - ").concat(m):t.props.showMonthYearPicker||t.props.showQuarterYearPicker?x=Ye(t.state.date):x="".concat(hp(ja(t.state.date),t.props.locale)," ").concat(Ye(t.state.date)),ne.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},t.state.isRenderAriaLiveMessage&&x)},t.renderChildren=function(){if(t.props.children)return ne.createElement("div",{className:"react-datepicker__children-container"},t.props.children)},t.containerRef=w.createRef(),t.state={date:t.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},t}return Object.defineProperty(l,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:p1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:no,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())},l.prototype.componentDidUpdate=function(r){var t=this;if(this.props.preSelection&&Na(this.props.preSelection)&&(!Qe(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var o=!oa(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return o&&t.handleCustomMonthChange(t.state.date)})}else this.props.openToDate&&!Qe(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},l.prototype.render=function(){var r=this.props.container||N4;return ne.createElement(Fu,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ne.createElement("div",{style:{display:"contents"},ref:this.containerRef},ne.createElement(r,{className:qt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},l})(w.Component),i3=function(s){var l=s.icon,r=s.className,t=r===void 0?"":r,o=s.onClick,u="react-datepicker__calendar-icon";if(typeof l=="string")return ne.createElement("i",{className:"".concat(u," ").concat(l," ").concat(t),"aria-hidden":"true",onClick:o});if(ne.isValidElement(l)){var d=l;return ne.cloneElement(d,{className:"".concat(d.props.className||""," ").concat(u," ").concat(t),onClick:function(m){typeof d.props.onClick=="function"&&d.props.onClick(m),typeof o=="function"&&o(m)}})}return ne.createElement("svg",{className:"".concat(u," ").concat(t),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:o},ne.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},x1=(function(s){Zt(l,s);function l(r){var t=s.call(this,r)||this;return t.portalRoot=null,t.el=document.createElement("div"),t}return l.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},l.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},l.prototype.render=function(){return k2.createPortal(this.props.children,this.el)},l})(w.Component),o3="[tabindex], a, button, input, select, textarea",c3=function(s){return(s instanceof HTMLAnchorElement||!s.disabled)&&s.tabIndex!==-1},h1=(function(s){Zt(l,s);function l(r){var t=s.call(this,r)||this;return t.getTabChildren=function(){var o;return Array.prototype.slice.call((o=t.tabLoopRef.current)===null||o===void 0?void 0:o.querySelectorAll(o3),1,-1).filter(c3)},t.handleFocusStart=function(){var o=t.getTabChildren();o&&o.length>1&&o[o.length-1].focus()},t.handleFocusEnd=function(){var o=t.getTabChildren();o&&o.length>1&&o[0].focus()},t.tabLoopRef=w.createRef(),t}return l.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:l.defaultProps.enableTabLoop)?ne.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ne.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ne.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},l.defaultProps={enableTabLoop:!0},l})(w.Component);function u3(s){function l(r){var t,o=typeof r.hidePopper=="boolean"?r.hidePopper:!0,u=w.useRef(null),d=y4(Fe({open:!o,whileElementsMounted:ZM,placement:r.popperPlacement,middleware:Cn([i4({padding:15}),l4(10),o4({element:u})],(t=r.popperModifiers)!==null&&t!==void 0?t:[],!0)},r.popperProps)),m=Fe(Fe({},r),{hidePopper:o,popperProps:Fe(Fe({},d),{arrowRef:u})});return ne.createElement(s,Fe({},m))}return l.displayName="withFloating(".concat(s.displayName||s.name||"Component",")"),l}var d3=function(s){var l=s.className,r=s.wrapperClassName,t=s.hidePopper,o=t===void 0?!0:t,u=s.popperComponent,d=s.targetComponent,m=s.enableTabLoop,x=s.popperOnKeyDown,p=s.portalId,v=s.portalHost,b=s.popperProps,N=s.showArrow,C=s.popperTargetRef,M=s.monthHeaderPosition;w.useEffect(function(){C?.current&&b.refs.setPositionReference(C.current)},[C,b.refs]);var S=void 0;if(!o){var g=qt("react-datepicker-popper",!N&&"react-datepicker-popper-offset",M==="middle"&&"react-datepicker-popper--header-middle",M==="bottom"&&"react-datepicker-popper--header-bottom",l);S=ne.createElement(h1,{enableTabLoop:m},ne.createElement("div",{ref:b.refs.setFloating,style:b.floatingStyles,className:g,"data-placement":b.placement,onKeyDown:x},u,N&&ne.createElement(f4,{ref:b.arrowRef,context:b.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}s.popperContainer&&(S=w.createElement(s.popperContainer,{},S)),p&&!o&&(S=ne.createElement(x1,{portalId:p,portalHost:v},S));var j=qt("react-datepicker-wrapper",r);return ne.createElement(ne.Fragment,null,ne.createElement("div",{ref:b.refs.setReference,className:j},d),S)},m3=u3(d3);function Mb(s,l){return s&&l?ja(s)!==ja(l)||Ye(s)!==Ye(l):s!==l}var hf="Date input not valid.",f3=(function(s){Zt(l,s);function l(r){var t=s.call(this,r)||this;return t.calendar=null,t.input=null,t.getPreSelection=function(){var o=t.props.timeZone,u=t.props.openToDate?t.props.openToDate:t.props.selectsEnd&&t.props.startDate?t.props.startDate:t.props.selectsStart&&t.props.endDate?t.props.endDate:Ze();return o?ub(u,o):u},t.modifyHolidays=function(){var o;return(o=t.props.holidays)===null||o===void 0?void 0:o.reduce(function(u,d){var m=ds(d.date,"yyyy-MM-dd",void 0,!1);return m?Cn(Cn([],u,!0),[Fe(Fe({},d),{date:m})],!1):u},[])},t.calcInitialState=function(){var o=t.props.timeZone,u=t.getPreSelection(),d=u1(t.props),m=d1(t.props),x=d&&Sn(u,Hi(d))?d:m&&nr(u,fb(m))?m:u,p=t.props.selectsRange?t.props.startDate:t.props.selected;return p&&o&&(p=ub(p,o)),{open:t.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:p??x,highlightDates:Nb(t.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},t.getInputValue=function(){var o,u=t.props,d=u.locale,m=u.startDate,x=u.endDate,p=u.rangeSeparator,v=u.selected,b=u.selectedDates,N=u.selectsMultiple,C=u.selectsRange,M=u.formatMultipleDates,S=u.value,g=(o=t.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,j=t.state.inputValue;if(typeof S=="string")return S;if(typeof j=="string")return j;if(C)return S4(m,x,{dateFormat:g,locale:d,rangeSeparator:p});if(N){if(M){var D=function(y){return ya(y,{dateFormat:g,locale:d})};return M(b??[],D)}return C4(b??[],{dateFormat:g,locale:d})}return ya(v,{dateFormat:g,locale:d})},t.resetHiddenStatus=function(){t.setState(Fe(Fe({},t.state),{wasHidden:!1}))},t.setHiddenStatus=function(){t.setState(Fe(Fe({},t.state),{wasHidden:!0}))},t.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&t.setHiddenStatus()},t.clearPreventFocusTimeout=function(){t.preventFocusTimeout&&clearTimeout(t.preventFocusTimeout)},t.setFocus=function(){var o,u;(u=(o=t.input)===null||o===void 0?void 0:o.focus)===null||u===void 0||u.call(o,{preventScroll:!0})},t.setBlur=function(){var o,u;(u=(o=t.input)===null||o===void 0?void 0:o.blur)===null||u===void 0||u.call(o),t.cancelFocusInput()},t.deferBlur=function(){requestAnimationFrame(function(){t.setBlur()})},t.setOpen=function(o,u){u===void 0&&(u=!1),t.setState({open:o,preSelection:o&&t.state.open?t.state.preSelection:t.calcInitialState().preSelection,lastPreSelectChange:vf},function(){o||t.setState(function(d){return{focused:u?d.focused:!1}},function(){!u&&t.deferBlur(),t.setState({inputValue:null})})})},t.inputOk=function(){return Dn(t.state.preSelection)},t.isCalendarOpen=function(){return t.props.open===void 0?t.state.open&&!t.props.disabled&&!t.props.readOnly:t.props.open},t.handleFocus=function(o){var u,d,m=t.state.wasHidden,x=m?t.state.open:!0;m&&t.resetHiddenStatus(),t.state.preventFocus||((d=(u=t.props).onFocus)===null||d===void 0||d.call(u,o),x&&!t.props.preventOpenOnFocus&&!t.props.readOnly&&t.setOpen(!0)),t.setState({focused:!0})},t.sendFocusBackToInput=function(){t.preventFocusTimeout&&t.clearPreventFocusTimeout(),t.setState({preventFocus:!0},function(){t.preventFocusTimeout=setTimeout(function(){t.setFocus(),t.setState({preventFocus:!1})})})},t.cancelFocusInput=function(){clearTimeout(t.inputFocusTimeout),t.inputFocusTimeout=void 0},t.deferFocusInput=function(){t.cancelFocusInput(),t.inputFocusTimeout=setTimeout(function(){return t.setFocus()},1)},t.handleDropdownFocus=function(){t.cancelFocusInput()},t.resetInputValue=function(){t.setState(Fe(Fe({},t.state),{inputValue:null}))},t.handleBlur=function(o){var u,d;(!t.state.open||t.props.withPortal||t.props.showTimeInput)&&((d=(u=t.props).onBlur)===null||d===void 0||d.call(u,o));var m=t.state.inputValue;if(typeof m=="string"&&m.length>0){var x=/[a-zA-Z0-9]/.test(m);!x&&t.props.selected&&t.setSelected(null,void 0,!0)}t.resetInputValue(),t.state.open&&t.props.open===!1&&t.setOpen(!1),t.setState({focused:!1})},t.handleCalendarClickOutside=function(o){var u,d;(d=(u=t.props).onClickOutside)===null||d===void 0||d.call(u,o),!t.props.inline&&!o.defaultPrevented&&t.setOpen(!1),t.props.withPortal&&o.preventDefault()},t.handleChange=function(){for(var o,u,d,m,x,p,v,b,N=[],C=0;C<arguments.length;C++)N[C]=arguments[C];var M=N[0];if(!(t.props.onChangeRaw&&(t.props.onChangeRaw.apply(t,N),!M||typeof M.isDefaultPrevented!="function"||M.isDefaultPrevented()))){t.setState({inputValue:M?.target instanceof HTMLInputElement?M.target.value:null,lastPreSelectChange:p3});var S=t.props,g=S.selectsRange,j=S.startDate,D=S.endDate,y=(o=t.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,_=(u=t.props.strictParsing)!==null&&u!==void 0?u:l.defaultProps.strictParsing,O=M?.target instanceof HTMLInputElement?M.target.value:"";if(g){var U=t.props.rangeSeparator,G=U.trim(),E=O.split(y.includes(G)?U:G,2).map(function(R){return R.trim()}),z=E[0],H=E[1],W=ds(z??"",y,t.props.locale,_),A=W?ds(H??"",y,t.props.locale,_):null,se=((d=gs(j))===null||d===void 0?void 0:d.getTime())!==W?.getTime(),$=((m=gs(D))===null||m===void 0?void 0:m.getTime())!==A?.getTime();if(!se&&!$||W&&Wa(W,t.props)||A&&Wa(A,t.props))return;W&&t.setState({preSelection:W}),(p=(x=t.props).onChange)===null||p===void 0||p.call(x,[W,A],M)}else{var J=ds(O,y,t.props.locale,_,(v=t.props.selected)!==null&&v!==void 0?v:void 0);if(J||!O)t.setSelected(J,M,!0);else if(!t.props.inline){var B=w4(O,(b=t.state.preSelection)!==null&&b!==void 0?b:void 0);B&&(!t.props.minDate||!Sn(B,t.props.minDate))&&(!t.props.maxDate||!nr(B,t.props.maxDate))&&t.setState({preSelection:B})}}}},t.handleSelect=function(o,u,d){var m;if(!t.props.readOnly){var x=t.props,p=x.selectsRange,v=x.startDate,b=x.endDate,N=x.locale,C=x.swapRange,M=(m=t.props.dateFormat)!==null&&m!==void 0?m:l.defaultProps.dateFormat,S=!p||v&&!b&&(C||!ff(o,v));if(t.props.shouldCloseOnSelect&&!t.props.showTimeSelect&&S&&t.sendFocusBackToInput(),t.props.onChangeRaw){var g=ya(o,{dateFormat:M,locale:N});t.props.onChangeRaw(u,{date:o,formattedDate:g})}t.setSelected(o,u,!1,d),t.props.showDateSelect&&t.setState({isRenderAriaLiveMessage:!0}),!t.props.shouldCloseOnSelect||t.props.showTimeSelect?t.setPreSelection(o):S&&t.setOpen(!1)}},t.setSelected=function(o,u,d,m){var x,p,v=t.props.timeZone,b=o;if(b&&v&&(b=Jn(b,v)),t.props.showYearPicker){if(b!==null&&tu(Ye(b),t.props))return}else if(t.props.showMonthYearPicker){if(b!==null&&c1(b,t.props))return}else if(b!==null&&Wa(b,t.props))return;var N=t.props,C=N.onChange,M=N.selectsRange,S=N.startDate,g=N.endDate,j=N.selectsMultiple,D=N.selectedDates,y=N.minTime,_=N.swapRange;if(!ys(t.props.selected,b)||t.props.allowSameDay||M||j)if(b!==null&&(t.props.selected&&(!d||!t.props.showTimeSelect&&!t.props.showTimeSelectOnly&&!t.props.showTimeInput)&&(b=er(b,{hour:na(t.props.selected),minute:ra(t.props.selected),second:Fr(t.props.selected)})),!d&&(t.props.showTimeSelect||t.props.showTimeSelectOnly)&&y&&(b=er(b,{hour:y.getHours(),minute:y.getMinutes(),second:y.getSeconds()})),t.props.inline||t.setState({preSelection:b}),t.props.focusSelectedMonth||t.setState({monthSelectedIn:m})),M){var O=C,U=!S&&!g,G=S&&!g,E=!S&&!!g,z=S&&g;U?O?.([b,null],u):G?b===null?O?.([null,null],u):ff(b,S)?O?.(_?[b,S]:[b,null],u):O?.([S,b],u):E&&(b&&ff(b,g)?O?.([b,g],u):O?.([b,null],u)),z&&O?.([b,null],u)}else if(j){var H=C;if(b!==null)if(!D?.length)H?.([b],u);else{var W=D.some(function(se){return Qe(se,b)});if(W){var A=D.filter(function(se){return!Qe(se,b)});H?.(A,u)}else H?.(Cn(Cn([],D,!0),[b],!1),u)}}else C?.(b,u);d||((p=(x=t.props).onSelect)===null||p===void 0||p.call(x,b,u),t.setState({inputValue:null}))},t.setPreSelection=function(o){if(!t.props.readOnly){var u=Dn(t.props.minDate),d=Dn(t.props.maxDate),m=!0;if(o){var x=Hi(o);if(u&&d)m=xs(o,t.props.minDate,t.props.maxDate);else if(u){var p=Hi(t.props.minDate);m=nr(o,p)||ys(x,p)}else if(d){var v=fb(t.props.maxDate);m=Sn(o,v)||ys(x,v)}}m&&t.setState({preSelection:o})}},t.toggleCalendar=function(){t.setOpen(!t.state.open)},t.handleTimeChange=function(o,u){var d,m;if(!t.props.selectsMultiple){var x=t.props,p=x.selectsRange,v=x.startDate,b=x.endDate,N=x.onChange,C=x.timeZone;if(p){var M=N;if(u==="start"){if(v){var S=er(v,{hour:na(o),minute:ra(o)});t.setState({preSelection:S}),C&&(S=Jn(S,C)),M?.([S,b?C?Jn(b,C):b:null],void 0)}}else if(u==="end"){if(b){var g=er(b,{hour:na(o),minute:ra(o)});t.setState({preSelection:g}),C&&(g=Jn(g,C)),M?.([v?C?Jn(v,C):v:null,g],void 0)}}else{var j=v&&!b;if(j){var S=er(v,{hour:na(o),minute:ra(o)});t.setState({preSelection:S}),C&&(S=Jn(S,C)),M?.([S,null],void 0)}else if(v&&b){var g=er(b,{hour:na(o),minute:ra(o)});t.setState({preSelection:g}),C&&(g=Jn(g,C)),M?.([C?Jn(v,C):v,g],void 0)}else{var D=er(t.getPreSelection(),{hour:na(o),minute:ra(o)});t.setState({preSelection:D})}}}else{var y=t.props.selected?t.props.selected:t.getPreSelection(),D=t.props.selected?o:er(y,{hour:na(o),minute:ra(o)});t.setState({preSelection:D}),D&&C&&(D=Jn(D,C)),(m=(d=t.props).onChange)===null||m===void 0||m.call(d,D)}t.props.shouldCloseOnSelect&&!t.props.showTimeInput&&(t.sendFocusBackToInput(),t.setOpen(!1)),t.props.showTimeInput&&t.setOpen(!0),(t.props.showTimeSelectOnly||t.props.showTimeSelect)&&t.setState({isRenderAriaLiveMessage:!0}),t.setState({inputValue:null})}},t.onInputClick=function(){var o,u;!t.props.disabled&&!t.props.readOnly&&t.setOpen(!0),(u=(o=t.props).onInputClick)===null||u===void 0||u.call(o)},t.handleTimeOnlyArrowKey=function(o){var u,d,m,x,p=gs(t.props.selected)||t.state.preSelection||Ze(),v=(u=t.props.timeIntervals)!==null&&u!==void 0?u:30,b=(d=t.props.dateFormat)!==null&&d!==void 0?d:l.defaultProps.dateFormat,N=Array.isArray(b)?b[0]:b,C=Hi(p),M=na(p)*60+ra(p),S=1440-v,g;if(o===he.ArrowUp){var j=Math.max(0,M-v);g=Qi(C,j)}else{var j=Math.min(S,M+v);g=Qi(C,j)}var D=gt(g,N||l.defaultProps.dateFormat,t.props.locale);if(t.setState({preSelection:g,inputValue:D}),!(t.props.selectsRange||t.props.selectsMultiple)){var y=t.props.selected?t.props.selected:t.getPreSelection(),_=t.props.selected?g:er(y,{hour:na(g),minute:ra(g)});(x=(m=t.props).onChange)===null||x===void 0||x.call(m,_),(t.props.showTimeSelectOnly||t.props.showTimeSelect)&&t.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){t.scrollToTimeOption(g)})}},t.handleTimeOnlyEnterKey=function(o){var u,d,m,x,p=o.target,v=p.value,b=(u=t.props.dateFormat)!==null&&u!==void 0?u:l.defaultProps.dateFormat,N=t.props.timeFormat||"p",C=t.state.preSelection||gs(t.props.selected)||Ze(),M=ds(v,b,t.props.locale,(d=t.props.strictParsing)!==null&&d!==void 0?d:!1,C),S=C;if(M&&Na(M))S=M;else{var g=((m=t.calendar)===null||m===void 0?void 0:m.containerRef.current)instanceof Element&&t.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(g instanceof HTMLElement){var j=(x=g.textContent)===null||x===void 0?void 0:x.trim();if(j){var D=ds(j,N,t.props.locale,!1,C);D&&Na(D)&&(S=D)}}}t.handleTimeChange(S),t.setOpen(!1),t.sendFocusBackToInput()},t.scrollToTimeOption=function(o){var u,d;if(!((u=t.calendar)===null||u===void 0)&&u.containerRef.current){for(var m=t.calendar.containerRef.current,x=Array.from(m.querySelectorAll(".react-datepicker__time-list-item")),p=null,v=1/0,b=t.props.timeFormat||"p",N=0,C=x;N<C.length;N++){var M=C[N],S=(d=M.textContent)===null||d===void 0?void 0:d.trim();if(S){var g=ds(S,b,t.props.locale,!1,o);if(g&&Na(g)){if(m1(g,o)){p=M;break}var j=Math.abs(g.getTime()-o.getTime());j<v&&(v=j,p=M)}}}p&&(x.forEach(function(D){D.setAttribute("tabindex","-1")}),p.setAttribute("tabindex","0"),p.scrollIntoView({behavior:"smooth",block:"center"}))}},t.onInputKeyDown=function(o){var u,d,m,x,p,v;(d=(u=t.props).onKeyDown)===null||d===void 0||d.call(u,o);var b=o.key;if(!t.state.open&&!t.props.inline&&!t.props.preventOpenOnFocus){(b===he.ArrowDown||b===he.ArrowUp||b===he.Enter)&&((m=t.onInputClick)===null||m===void 0||m.call(t));return}if(t.state.open&&t.props.showTimeSelectOnly){if(b===he.ArrowDown||b===he.ArrowUp){o.preventDefault(),t.handleTimeOnlyArrowKey(b);return}if(b===he.Enter){o.preventDefault(),t.handleTimeOnlyEnterKey(o);return}}if(t.state.open){if(b===he.ArrowDown||b===he.ArrowUp){o.preventDefault();var N=t.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":t.props.showWeekPicker&&t.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':t.props.showFullMonthYearPicker||t.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',C=((x=t.calendar)===null||x===void 0?void 0:x.containerRef.current)instanceof Element&&t.calendar.containerRef.current.querySelector(N);C instanceof HTMLElement&&C.focus({preventScroll:!0});return}var M=Ze(t.state.preSelection);b===he.Enter?(o.preventDefault(),o.target.blur(),t.inputOk()&&t.state.lastPreSelectChange===vf?(t.handleSelect(M,o),!t.props.shouldCloseOnSelect&&t.setPreSelection(M)):t.setOpen(!1)):b===he.Escape?(o.preventDefault(),o.target.blur(),t.sendFocusBackToInput(),t.setOpen(!1)):b===he.Tab&&t.setOpen(!1),t.inputOk()||(v=(p=t.props).onInputError)===null||v===void 0||v.call(p,{code:1,msg:hf})}},t.onPortalKeyDown=function(o){var u=o.key;u===he.Escape&&(o.preventDefault(),t.setState({preventFocus:!0},function(){t.setOpen(!1),setTimeout(function(){t.setFocus(),t.setState({preventFocus:!1})})}))},t.onDayKeyDown=function(o){var u,d,m,x,p,v,b=t.props,N=b.minDate,C=b.maxDate,M=b.disabledKeyboardNavigation,S=b.showWeekPicker,g=b.shouldCloseOnSelect,j=b.locale,D=b.calendarStartDay,y=b.adjustDateOnChange,_=b.inline;if((d=(u=t.props).onKeyDown)===null||d===void 0||d.call(u,o),!M){var O=o.key,U=o.shiftKey,G=Ze(t.state.preSelection),E=function(W,A){var se=A;switch(W){case he.ArrowRight:se=S?du(A,1):ln(A,1);break;case he.ArrowLeft:se=S?W0(A):FD(A);break;case he.ArrowUp:se=W0(A);break;case he.ArrowDown:se=du(A,1);break;case he.PageUp:se=U?Hr(A,1):Ns(A,1);break;case he.PageDown:se=U?on(A,1):un(A,1);break;case he.Home:se=Br(A,j,D);break;case he.End:se=M4(A);break}return se},z=function(W,A){for(var se=40,$=W,J=!1,B=0,R=E(W,A);!J;){if(B>=se){R=A;break}N&&R<N&&($=he.ArrowRight,R=Wa(N,t.props)?E($,R):N),C&&R>C&&($=he.ArrowLeft,R=Wa(C,t.props)?E($,R):C),Wa(R,t.props)?(($===he.PageUp||$===he.Home)&&($=he.ArrowRight),($===he.PageDown||$===he.End)&&($=he.ArrowLeft),R=E($,R)):J=!0,B++}return R};if(O===he.Enter){o.preventDefault(),t.handleSelect(G,o),!g&&t.setPreSelection(G);return}else if(O===he.Escape){o.preventDefault(),t.setOpen(!1),t.inputOk()||(x=(m=t.props).onInputError)===null||x===void 0||x.call(m,{code:1,msg:hf});return}var H=null;switch(O){case he.ArrowLeft:case he.ArrowRight:case he.ArrowUp:case he.ArrowDown:case he.PageUp:case he.PageDown:case he.Home:case he.End:H=z(O,G);break}if(!H){(v=(p=t.props).onInputError)===null||v===void 0||v.call(p,{code:1,msg:hf});return}o.preventDefault(),t.setState({lastPreSelectChange:vf}),y&&t.setSelected(H),t.setPreSelection(H),_&&t.setState({shouldFocusDayInline:!0})}},t.onPopperKeyDown=function(o){var u=o.key;u===he.Escape&&(o.preventDefault(),t.sendFocusBackToInput(),t.setOpen(!1))},t.onClearClick=function(o){o&&o.preventDefault&&o.preventDefault(),t.sendFocusBackToInput();var u=t.props,d=u.selectsRange,m=u.onChange;m?.(d?[null,null]:null,o),t.setState({inputValue:null})},t.clear=function(){t.onClearClick()},t.onScroll=function(o){typeof t.props.closeOnScroll=="boolean"&&t.props.closeOnScroll?(o.target===document||o.target===document.documentElement||o.target===document.body)&&t.setOpen(!1):typeof t.props.closeOnScroll=="function"&&t.props.closeOnScroll(o)&&t.setOpen(!1)},t.handleMonthSelectedInChange=function(o){t.setState({monthSelectedIn:o})},t.renderCalendar=function(){var o,u;return!t.props.inline&&!t.isCalendarOpen()?null:ne.createElement(l3,Fe({showMonthYearDropdown:void 0,ref:function(d){t.calendar=d}},t.props,t.state,{setOpen:t.setOpen,dateFormat:(o=t.props.dateFormatCalendar)!==null&&o!==void 0?o:l.defaultProps.dateFormatCalendar,onSelect:t.handleSelect,onClickOutside:t.handleCalendarClickOutside,holidays:B4(t.modifyHolidays()),outsideClickIgnoreClass:t.props.outsideClickIgnoreClass,onDropdownFocus:t.handleDropdownFocus,onTimeChange:t.handleTimeChange,className:t.props.calendarClassName,container:t.props.calendarContainer,handleOnKeyDown:t.props.onKeyDown,handleOnDayKeyDown:t.onDayKeyDown,setPreSelection:t.setPreSelection,dropdownMode:(u=t.props.dropdownMode)!==null&&u!==void 0?u:l.defaultProps.dropdownMode,onMonthSelectedInChange:t.handleMonthSelectedInChange}),t.props.children)},t.renderAriaLiveRegion=function(){var o,u=t.props.locale,d=(o=t.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,m=t.props.showTimeInput||t.props.showTimeSelect,x=m?"PPPPp":"PPPP",p;return t.props.selectsRange?p="Selected start date: ".concat(ya(t.props.startDate,{dateFormat:x,locale:u}),". ").concat(t.props.endDate?"End date: "+ya(t.props.endDate,{dateFormat:x,locale:u}):""):t.props.showTimeSelectOnly?p="Selected time: ".concat(ya(t.props.selected,{dateFormat:d,locale:u})):t.props.showYearPicker?p="Selected year: ".concat(ya(t.props.selected,{dateFormat:"yyyy",locale:u})):t.props.showMonthYearPicker?p="Selected month: ".concat(ya(t.props.selected,{dateFormat:"MMMM yyyy",locale:u})):t.props.showQuarterYearPicker?p="Selected quarter: ".concat(ya(t.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):p="Selected date: ".concat(ya(t.props.selected,{dateFormat:x,locale:u})),ne.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},t.renderDateInput=function(){var o,u,d,m,x,p,v,b=qt(t.props.className,(o={},o[t.props.outsideClickIgnoreClass||l.defaultProps.outsideClickIgnoreClass]=t.state.open,o)),N=t.props.customInput||ne.createElement("input",{type:"text"}),C=t.props.customInputRef||"ref",M={},S=(d=t.props["aria-describedby"])!==null&&d!==void 0?d:t.props.ariaDescribedBy,g=(m=t.props["aria-invalid"])!==null&&m!==void 0?m:t.props.ariaInvalid,j=(x=t.props["aria-label"])!==null&&x!==void 0?x:t.props.ariaLabel,D=(p=t.props["aria-labelledby"])!==null&&p!==void 0?p:t.props.ariaLabelledBy,y=(v=t.props["aria-required"])!==null&&v!==void 0?v:t.props.ariaRequired;return S!=null&&(M["aria-describedby"]=S),g!=null&&(M["aria-invalid"]=g),j!=null&&(M["aria-label"]=j),D!=null&&(M["aria-labelledby"]=D),y!=null&&(M["aria-required"]=y),w.cloneElement(N,Fe((u={},u[C]=function(_){t.input=_},u.value=t.getInputValue(),u.onBlur=t.handleBlur,u.onChange=t.handleChange,u.onClick=t.onInputClick,u.onFocus=t.handleFocus,u.onKeyDown=t.onInputKeyDown,u.id=t.props.id,u.name=t.props.name,u.form=t.props.form,u.autoFocus=t.props.autoFocus,u.placeholder=t.props.placeholderText,u.disabled=t.props.disabled,u.autoComplete=t.props.autoComplete,u.className=qt(N.props.className,b),u.title=t.props.title,u.readOnly=t.props.readOnly,u.required=t.props.required,u.tabIndex=t.props.tabIndex,u),M))},t.renderClearButton=function(){var o=t.props,u=o.isClearable,d=o.disabled,m=o.selected,x=o.startDate,p=o.endDate,v=o.clearButtonTitle,b=o.clearButtonClassName,N=b===void 0?"":b,C=o.ariaLabelClose,M=C===void 0?"Close":C,S=o.selectedDates,g=o.readOnly;return u&&!g&&(m!=null||x!=null||p!=null||S?.length)?ne.createElement("button",{type:"button",className:qt("react-datepicker__close-icon",N,{"react-datepicker__close-icon--disabled":d}),disabled:d,"aria-label":M,onClick:t.onClearClick,title:v,tabIndex:-1}):null},t.state=t.calcInitialState(),t.preventFocusTimeout=void 0,t}return Object.defineProperty(l,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:p1,readOnly:!1,rangeSeparator:i1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:no,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},l.prototype.componentDidUpdate=function(r,t){var o,u,d,m;this.props.selectsRange&&Mb(r.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):Mb(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&t.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Nb(this.props.highlightDates)}),!t.focused&&!ys(r.selected,this.props.selected)&&this.setState({inputValue:null}),t.open!==this.state.open&&(t.open===!1&&this.state.open===!0&&((u=(o=this.props).onCalendarOpen)===null||u===void 0||u.call(o)),t.open===!0&&this.state.open===!1&&((m=(d=this.props).onCalendarClose)===null||m===void 0||m.call(d)))},l.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},l.prototype.renderInputContainer=function(){var r=this.props,t=r.showIcon,o=r.icon,u=r.calendarIconClassname,d=r.calendarIconClassName,m=r.toggleCalendarOnIconClick,x=this.state.open;return u&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ne.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&ne.createElement(i3,Fe({icon:o,className:qt(d,!d&&u,x&&"react-datepicker-ignore-onclickoutside")},m?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},l.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var t=this.state.open?ne.createElement(h1,{enableTabLoop:this.props.enableTabLoop},ne.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(t=ne.createElement(x1,Fe({portalId:this.props.portalId},this.props),t)),ne.createElement(ne.Fragment,null,this.renderInputContainer(),t)}return ne.createElement(m3,Fe({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},l})(w.Component),p3="input",vf="navigate";function Et({open:s,onClose:l,title:r,children:t,wide:o}){const u=w.useRef(null);return w.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[s]),w.useEffect(()=>{function d(m){m.key==="Escape"&&l()}return s&&window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[s,l]),s?a.jsxs("div",{ref:u,className:"fixed inset-0 z-50 flex items-start justify-center pt-[5vh] sm:pt-[10vh] px-4",onClick:d=>{d.target===u.current&&l()},children:[a.jsx("div",{className:"fixed inset-0 bg-black/60"}),a.jsxs("div",{className:`relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full ${o?"max-w-2xl":"max-w-lg"} max-h-[80vh] flex flex-col animate-fade-in`,children:[a.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-[var(--border-light)] shrink-0",children:[a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:r}),a.jsx("button",{onClick:l,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:a.jsx(eo,{size:16})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:t})]})]}):null}function te({label:s,required:l,error:r,children:t}){return a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:[s,l&&a.jsx("span",{className:"text-rose-500 ml-0.5",children:"*"})]}),t,r&&a.jsx("p",{className:"text-xs text-rose-500 mt-1",children:r})]})}function fe({value:s,onChange:l,placeholder:r,type:t="text",sensitive:o,...u}){const{masked:d}=En();return a.jsx("input",{type:t,value:s,onChange:m=>l(m.target.value),placeholder:r,className:`w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors ${o&&d?"sensitive-blur":""}`,...u})}function v1({value:s,onChange:l,...r}){const t=s?new Date(s+"T00:00:00"):null;function o(u){if(!u){l("");return}const d=u.getFullYear(),m=String(u.getMonth()+1).padStart(2,"0"),x=String(u.getDate()).padStart(2,"0");l(`${d}-${m}-${x}`)}return a.jsxs("div",{className:"relative cf-datepicker",children:[a.jsx(f3,{selected:t,onChange:o,dateFormat:"dd MMM yyyy",maxDate:new Date,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",placeholderText:"Select date",className:"w-full px-3 py-2 pr-9 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",...r}),a.jsx(zS,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function _e({value:s,onChange:l,options:r,placeholder:t}){return a.jsxs("select",{value:s,onChange:o=>l(o.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",children:[t&&a.jsx("option",{value:"",children:t}),r.map(o=>a.jsx("option",{value:o.value,children:o.label},o.value))]})}function Al({value:s,onChange:l,placeholder:r,rows:t=3}){return a.jsx("textarea",{value:s,onChange:o=>l(o.target.value),placeholder:r,rows:t,className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors resize-none"})}function x3({checked:s,onChange:l,label:r}){return a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:s,onChange:t=>l(t.target.checked),className:"w-4 h-4 rounded border-[var(--border-input)] bg-[var(--bg-input)] text-violet-500 focus:ring-violet-500"}),a.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:r})]})}function sa({onCancel:s,onSubmit:l,submitLabel:r="Save",loading:t}){return a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 mt-4 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:s,disabled:t,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),a.jsxs("button",{onClick:l,disabled:t,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[t&&a.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),t?"Saving...":r]})]})}function On({onClick:s,label:l="Deactivate"}){return a.jsx("button",{onClick:s,className:"px-4 py-2 text-xs font-semibold text-rose-400 hover:text-rose-300 hover:bg-rose-500/10 rounded-lg transition-colors",children:l})}const Ab=[{key:"sip",label:"Adjust SIP",icon:GC,color:"text-blue-400",dimColor:"text-blue-400/60 hover:text-blue-400",activeBg:"bg-blue-500/20 border border-blue-500/40"},{key:"lumpsum",label:"Lumpsum",icon:NC,color:"text-emerald-400",dimColor:"text-emerald-400/60 hover:text-emerald-400",activeBg:"bg-emerald-500/20 border border-emerald-500/40"},{key:"buysell",label:"Buy / Sell",icon:_S,color:"text-amber-400",dimColor:"text-amber-400/60 hover:text-amber-400",activeBg:"bg-amber-500/20 border border-amber-500/40"}];function hs(s){return s>=1e5?`${(s/1e5).toFixed(1)}L`:s>=1e3?`${(s/1e3).toFixed(0)}K`:`${Math.round(s)}`}function bp({exitOnly:s}){return a.jsx("div",{className:"py-4 text-center space-y-1",children:s?a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Only exit candidates here  use ",a.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab"]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No target allocations set"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Use ",a.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund first"]})]})})}function h3({portfolio:s,holdings:l,totalValue:r}){const t=s.sipTarget||0,o=(s.rebalanceThreshold||.05)*100,u=l.some(N=>N.targetAllocationPct>0),d=l.some(N=>N.targetAllocationPct===0&&N.units>0);if(!u)return a.jsx(bp,{exitOnly:d});if(t<=0)return a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"No SIP target set for this portfolio"});const m=l.filter(N=>N.targetAllocationPct>0).map(N=>{const C=r>0?N.currentValue/r*100:0,M=Math.abs(C-N.targetAllocationPct),S=M>o,j=N.targetAllocationPct/100*r-N.currentValue,D=N.targetAllocationPct/100*t;return{...N,currentPct:C,drift:M,drifted:S,gap:j,normalSIP:D}}),x=m.filter(N=>N.drifted&&N.gap>0);m.filter(N=>N.drifted&&N.gap<=0);const p=x.reduce((N,C)=>N+C.gap,0),v=m.map(N=>({...N,suggestedSIP:N.drifted&&N.gap>0&&p>0?N.gap/p*t:N.drifted&&N.gap<=0?0:N.normalSIP}));return m.some(N=>N.drifted)?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Funds drifted >",o.toFixed(0),"%: overweight  0, underweight  extra SIP. Others keep normal SIP."]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Normal SIP"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Rebalance SIP"})]})}),a.jsx("tbody",{children:v.map(N=>{const C=N.drifted&&N.gap<=0,M=N.drifted&&N.gap>0,S=!N.drifted;return a.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${S?"opacity-50":C?"opacity-60":""}`,children:[a.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:N.fundName}),a.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[a.jsxs("span",{className:C?"text-amber-400":M?"text-blue-400":"text-[var(--text-dim)]",children:[N.currentPct.toFixed(1),"%"]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:[" / ",N.targetAllocationPct.toFixed(1),"%"]})]}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:hs(N.normalSIP)}),a.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:C?a.jsx("span",{className:"text-amber-400/70",children:"0"}):M?a.jsx("span",{className:"text-blue-400",children:hs(N.suggestedSIP)}):a.jsx("span",{className:"text-[var(--text-dim)]",children:hs(N.suggestedSIP)})})]},N.holdingId)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:hs(t)}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-blue-400 tabular-nums",children:hs(t)})]})})]})})]}):a.jsxs("p",{className:"text-xs text-[var(--text-dim)] py-2",children:["SIPs are balanced (within ",o.toFixed(0),"% threshold)"]})}function v3({portfolio:s,holdings:l,totalValue:r}){const[t,o]=w.useState("");(s.rebalanceThreshold||.05)*100;const u=l.some(S=>S.targetAllocationPct>0),d=l.some(S=>S.targetAllocationPct===0&&S.units>0);if(!u)return a.jsx(bp,{exitOnly:d});const m=l.filter(S=>S.targetAllocationPct>0).map(S=>{const g=r>0?S.currentValue/r*100:0;return{...S,currentPct:g}}),x=w.useMemo(()=>{if(r<=0||m.length===0)return 0;const S=m.filter(y=>{const _=y.targetAllocationPct/100*r;return y.currentValue<_});if(S.length===0)return 0;const g=S.reduce((y,_)=>y+_.targetAllocationPct,0);if(g>=100)return 0;const j=S.reduce((y,_)=>y+_.currentValue,0),D=(g/100*r-j)/(1-g/100);return D>0?Math.ceil(D/100)*100:0},[m,r]),p=Number(t)||s.lumpsumTarget||x,v=w.useMemo(()=>{const S=p>0?r+p:r,g=m.map(D=>{const y=D.targetAllocationPct/100*S,_=p>0?Math.max(0,y-D.currentValue):0,O=S>0?(D.currentValue+_)/S*100:0,U=D.currentValue>y+1;return{...D,invest:_,newPct:O,isOverweight:U}}),j=g.reduce((D,y)=>D+y.invest,0);if(p>0&&j>0&&Math.abs(j-p)>1){const D=p/j;return g.map(y=>({...y,invest:y.invest>0?y.invest*D:0,newPct:S>0?(y.currentValue+(y.invest>0?y.invest*D:0))/S*100:0}))}return g},[m,p,r]),b=v.reduce((S,g)=>S+g.invest,0),N=v.some(S=>S.isOverweight),C=Number(t),M=C>0&&x>0&&C<x;return a.jsxs("div",{className:"space-y-2",children:[x>0&&a.jsx("div",{className:"flex items-center gap-2 px-2.5 py-1.5 rounded-md bg-emerald-500/10 border border-emerald-500/20",children:a.jsxs("p",{className:"text-xs text-emerald-400",children:[a.jsx("span",{className:"font-bold",children:Q(x)})," needed to bring all underweight funds to target %"]})}),a.jsxs("div",{className:"flex items-end gap-3",children:[a.jsx("div",{className:"flex-1 max-w-[200px]",children:a.jsx(te,{label:"Invest Amount ()",children:a.jsx(fe,{type:"number",value:t,onChange:o,placeholder:x>0?`${Q(x)}`:"Enter amount..."})})}),!C&&!s.lumpsumTarget&&x>0&&a.jsx("p",{className:"text-xs text-emerald-400/70 pb-2.5",children:"Using suggested"}),!C&&s.lumpsumTarget>=100&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] pb-2.5",children:"Using lumpsum target"})]}),M&&a.jsxs("p",{className:"text-xs text-amber-400/80 px-1",children:["Below minimum  distributes proportionally but won't fully rebalance. Need ",Q(x)," for exact target %."]}),v.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Invest"})]})}),a.jsx("tbody",{children:v.map(S=>a.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${S.invest===0?"opacity-50":""}`,children:[a.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:S.fundName}),a.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[a.jsxs("span",{className:S.isOverweight?"text-amber-400":S.invest>0?"text-blue-400":"text-[var(--text-dim)]",children:[S.currentPct.toFixed(1),"%"]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:["  ",S.newPct.toFixed(1),"%"]})]}),a.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:S.isOverweight?a.jsx("span",{className:"text-amber-400/70 text-xs",children:"Overweight"}):S.invest>0?a.jsx("span",{className:"text-emerald-400",children:hs(S.invest)}):a.jsx("span",{className:"text-[var(--text-dim)] text-xs",children:"Balanced"})})]},S.holdingId))}),b>0&&a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-emerald-400 tabular-nums",children:Q(b)})]})})]})}):a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2 text-center",children:"All funds balanced"}),N&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Overweight funds can't be fixed by buying. Use ",a.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab to sell overweight and buy underweight."]})]})}function b3({portfolio:s,holdings:l,totalValue:r}){const t=(s.rebalanceThreshold||.05)*100,o=l.some(m=>m.targetAllocationPct>0),u=l.some(m=>m.targetAllocationPct===0&&m.units>0);if(!o&&!u)return a.jsx(bp,{});const d=l.filter(m=>m.targetAllocationPct>0||m.units>0).map(m=>{const x=r>0?m.currentValue/r*100:0,p=m.targetAllocationPct===0&&m.units>0,v=p||Math.abs(x-m.targetAllocationPct)>t,b=m.targetAllocationPct/100*r,N=v?b-m.currentValue:0;return{...m,currentPct:x,amount:N,isExit:p}}).filter(m=>Math.abs(m.amount)>=500);return d.length===0?a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"Portfolio is balanced"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Drift"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Action"})]})}),a.jsx("tbody",{children:d.map(m=>{const x=m.amount>0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:m.fundName}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:m.isExit?a.jsxs("span",{className:"text-[var(--accent-rose)]",children:[m.currentPct.toFixed(1),"%  Exit"]}):`${m.currentPct.toFixed(1)}%  ${m.targetAllocationPct.toFixed(1)}%`}),a.jsx("td",{className:"py-2 px-2 text-right",children:a.jsxs("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${x?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[x?"Buy":m.isExit?"Exit":"Sell"," ",hs(Math.abs(m.amount))]})})]},m.schemeCode||m.fundCode)})})]})})}function b1(){const{mfHoldings:s,mfPortfolios:l}=Ue(),[r,t]=w.useState("buysell"),o=w.useMemo(()=>l.filter(x=>x.status!=="Inactive").map(x=>{const p=s.filter(S=>S.portfolioId===x.portfolioId&&S.units>0),v=p.reduce((S,g)=>S+g.currentValue,0),b=(x.rebalanceThreshold||.05)*100,N=p.filter(S=>{if(S.targetAllocationPct<=0)return!1;const g=v>0?S.currentValue/v*100:0;return Math.abs(g-S.targetAllocationPct)>b}).length,C=p.filter(S=>S.targetAllocationPct===0&&S.units>0&&S.currentValue>=500).length,M=p.some(S=>S.targetAllocationPct>0);return{...x,holdings:p,totalValue:v,driftedCount:N,exitCount:C,hasTargets:M}}).filter(x=>x.driftedCount>0||x.exitCount>0),[l,s]);if(o.length===0){const x=s.some(p=>p.targetAllocationPct>0);return a.jsx("div",{className:"py-8 text-center",children:x?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"All portfolios are balanced"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"No funds exceed their rebalance threshold"})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No target allocations set"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:["Use ",a.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund, then rebalance will show drift"]})]})})}const d=o.some(x=>(x.sipTarget||0)>=500)?Ab:Ab.filter(x=>x.key!=="sip"),m=d.some(x=>x.key===r)?r:d[0]?.key||"buysell";return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex bg-[var(--bg-inset)] rounded-lg p-0.5",children:d.map(({key:x,label:p,icon:v,color:b,dimColor:N,activeBg:C})=>a.jsxs("button",{onClick:()=>t(x),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-semibold transition-colors ${m===x?`${C} ${b} shadow-sm`:N}`,children:[a.jsx(v,{size:13})," ",p]},x))}),o.map((x,p)=>a.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-violet-500/50 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between px-3 py-2.5 bg-[var(--bg-inset)]",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center",children:p+1}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:x.portfolioName}),a.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:x.ownerName}),x.driftedCount>0&&a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[x.driftedCount," drifted"]}),x.exitCount>0&&a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-rose-500/15 text-[var(--accent-rose)]",children:[x.exitCount," exit"]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-muted)]",children:[a.jsx("span",{className:"font-semibold text-[var(--text-secondary)]",children:Q(x.totalValue)}),a.jsxs("span",{children:["Threshold: ",((x.rebalanceThreshold||.05)*100).toFixed(0),"%"]}),x.sipTarget>=100&&a.jsxs("span",{children:["SIP: ",Q(x.sipTarget),"/mo"]})]})]}),a.jsxs("div",{className:"px-3 py-2",children:[m==="sip"&&a.jsx(h3,{portfolio:x,holdings:x.holdings,totalValue:x.totalValue}),m==="lumpsum"&&a.jsx(v3,{portfolio:x,holdings:x.holdings,totalValue:x.totalValue}),m==="buysell"&&a.jsx(b3,{portfolio:x,holdings:x.holdings,totalValue:x.totalValue})]})]},x.portfolioId))]})}const g3="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png",Tb={mf:{label:"Mutual Funds",color:"bg-violet-500",order:1,route:"/investments/mutual-funds"},stocks:{label:"Stocks",color:"bg-blue-500",order:2,route:"/investments/stocks"},Debt:{label:"Debt",color:"bg-cyan-500",order:3,route:"/investments/other"},Gold:{label:"Gold",color:"bg-amber-500",order:4,route:"/investments/other"},Silver:{label:"Silver",color:"bg-slate-400",order:5,route:"/investments/other"},Property:{label:"Real Estate",color:"bg-orange-500",order:6,route:"/investments/other"},Alternative:{label:"Alternative",color:"bg-violet-400",order:7,route:"/investments/other"},Equity:{label:"Equity",color:"bg-emerald-500",order:8,route:"/investments/other"},Other:{label:"Other",color:"bg-gray-500",order:9,route:"/investments/other"}},Rc=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],Eb=["bg-violet-500","bg-rose-500","bg-blue-500","bg-amber-500","bg-emerald-500"],y3=[{label:"Family Members",path:"/family",match:"/family"},{label:"Bank Accounts",path:"/accounts/bank",match:"/accounts/bank"},{label:"Investment Accounts",path:"/accounts/investment",match:"/accounts/investment"},{label:"Insurance",path:"/insurance",match:"/insurance"},{label:"Mutual Funds",path:"/investments/mutual-funds",match:"/investments/mutual-funds"},{label:"Stocks",path:"/investments/stocks",match:"/investments/stocks"},{label:"Other Investments",path:"/investments/other",match:"/investments/other"},{label:"Goals",path:"/goals",match:"/goals"}],N3={buyopp:"Buying Opportunities",rebalance:"Rebalance Alerts"};function j3({onMenuClick:s}){const{theme:l,toggle:r}=cy(),{selectedMember:t,setSelectedMember:o,familyMembers:u}=Wt(),{mfPortfolios:d,mfHoldings:m,stockPortfolios:x,stockHoldings:p,otherInvList:v,liabilityList:b,refreshData:N,isRefreshing:C}=Ue(),{user:M,signOut:S}=ks(),{masked:g,toggleMask:j,mv:D}=En(),y=Cs(),_=Ja(),{criticalAlerts:O,upcomingReminders:U,investmentSignals:G}=E5(),[E,z]=w.useState(!1),[H,W]=w.useState(!1),[A,se]=w.useState(null),[$,J]=w.useState(!1),[B,R]=w.useState(!1),[I,ue]=w.useState(!0),ve=w.useRef(null),F=w.useRef(null),ee=w.useRef(null),oe=O.length+U.length,{buyOppCount:ce,buyCount:we,strongBuyCount:be,rebalanceCount:ge}=G;w.useEffect(()=>{function Ne(ze){ve.current&&!ve.current.contains(ze.target)&&z(!1),F.current&&!F.current.contains(ze.target)&&W(!1)}return(E||H)&&document.addEventListener("mousedown",Ne),()=>document.removeEventListener("mousedown",Ne)},[E,H]);const qe=u.findIndex(Ne=>Ne.memberId===t),Je=qe>=0?u[qe]:null,Rt=w.useMemo(()=>{const Ne=(pe,Re)=>t==="all"?pe:pe.filter($e=>$e[Re]===t),ze={},xt=(pe,Re,$e,Ke)=>{ze[pe]||(ze[pe]={items:[],invested:0}),ze[pe].items.push({label:Re,value:$e}),ze[pe].invested+=Ke};Ne((d||[]).filter(pe=>pe.status==="Active"),"ownerId").forEach(pe=>{const Re=(m||[]).filter(Xe=>Xe.portfolioId===pe.portfolioId&&Xe.units>0),$e=Re.reduce((Xe,ht)=>Xe+ht.currentValue,0),Ke=Re.reduce((Xe,ht)=>Xe+ht.investment,0);$e>0&&xt("mf",pe.portfolioName?.replace(/^PFL-/,"")||pe.portfolioName,$e,Ke)}),Ne((x||[]).filter(pe=>pe.status==="Active"),"ownerId").forEach(pe=>{const Re=(p||[]).filter(Xe=>Xe.portfolioId===pe.portfolioId),$e=Re.reduce((Xe,ht)=>Xe+ht.currentValue,0),Ke=Re.reduce((Xe,ht)=>Xe+ht.totalInvestment,0);$e>0&&xt("stocks",pe.portfolioName,$e,Ke)}),Ne((v||[]).filter(pe=>pe.status==="Active"),"familyMemberId").forEach(pe=>{const Re=pe.investmentCategory||"Other";xt(Re,pe.investmentName||pe.investmentType||"Other",pe.currentValue,pe.investedAmount||0)});const It=Object.entries(ze).map(([pe,{items:Re,invested:$e}])=>{const Ke=Tb[pe]||Tb.Other,Xe=Re.reduce((ht,Jt)=>ht+Jt.value,0);return{key:pe,label:Ke.label,color:Ke.color,order:Ke.order,route:Ke.route,total:Xe,invested:$e,items:Re.sort((ht,Jt)=>Jt.value-ht.value)}}).filter(pe=>pe.total>0).sort((pe,Re)=>pe.order-Re.order),da=Ne((b||[]).filter(pe=>pe.status==="Active"),"familyMemberId"),L=da.map(pe=>({label:pe.liabilityName||pe.liabilityType||"Loan",value:pe.outstandingBalance})),me=da.reduce((pe,Re)=>pe+Re.outstandingBalance,0),De=It.reduce((pe,Re)=>pe+Re.total,0),Ae=It.reduce((pe,Re)=>pe+Re.invested,0);return{netWorth:De-me,totalInv:De,totalInvested:Ae,sections:It,totalLiab:me,liabilities:L}},[t,d,m,x,p,v,b]);function wt(){z(!1),W(!1)}function rt(){if(!ee.current)return;const{scrollLeft:Ne,scrollWidth:ze,clientWidth:xt}=ee.current;R(Ne>5),ue(Ne+xt<ze-5)}function ua(Ne){if(!ee.current)return;const xt=(ee.current.querySelector("a")?.offsetWidth||240)+12;ee.current.scrollBy({left:Ne*xt,behavior:"smooth"})}return w.useEffect(()=>{rt()},[Rt,$]),a.jsxs("header",{className:"sticky top-0 z-30 shrink-0",children:[a.jsx("style",{children:`
        @keyframes glow-emerald {
          0%, 100% { box-shadow: 0 0 6px rgba(16,185,129,0.3), 0 0 12px rgba(16,185,129,0.15); }
          50% { box-shadow: 0 0 12px rgba(16,185,129,0.5), 0 0 24px rgba(16,185,129,0.25); }
        }
        @keyframes glow-violet {
          0%, 100% { box-shadow: 0 0 6px rgba(139,92,246,0.3), 0 0 12px rgba(139,92,246,0.15); }
          50% { box-shadow: 0 0 12px rgba(139,92,246,0.5), 0 0 24px rgba(139,92,246,0.25); }
        }
        .glow-emerald { animation: glow-emerald 2s ease-in-out infinite; }
        .glow-violet { animation: glow-violet 2s ease-in-out infinite; }
      `}),a.jsx("div",{className:"relative z-10 bg-[var(--bg-header)]/95 backdrop-blur-sm border-b border-[var(--border)]",children:a.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:s,className:"lg:hidden p-2 -ml-1.5 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:a.jsx(LC,{size:20})}),a.jsx("img",{src:g3,alt:"Capital Friends",className:"h-10"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[ce>0&&a.jsxs("button",{onClick:()=>{se(A==="buyopp"?null:"buyopp"),wt()},className:`glow-emerald flex items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${A==="buyopp"?"bg-emerald-500/30 text-emerald-300 ring-1 ring-emerald-400/50":"bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25"}`,children:[a.jsx(Au,{size:13,strokeWidth:2.5}),a.jsx("span",{className:"hidden sm:inline",children:be>0?"Buy Opportunities":"Buying Opportunities"}),be>0&&a.jsxs("span",{className:"text-[11px] bg-emerald-500/30 px-1.5 py-0.5 rounded-full",children:[be," Strong"]}),we>0&&a.jsxs("span",{className:"text-[11px] bg-emerald-500/20 px-1.5 py-0.5 rounded-full",children:[we," Buy"]})]}),ge>0&&a.jsxs("button",{onClick:()=>{se(A==="rebalance"?null:"rebalance"),wt()},className:`glow-violet flex items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${A==="rebalance"?"bg-violet-500/30 text-violet-300 ring-1 ring-violet-400/50":"bg-violet-500/15 text-violet-400 hover:bg-violet-500/25"}`,children:[a.jsx(yl,{size:13,strokeWidth:2.5}),a.jsx("span",{className:"hidden sm:inline",children:"Rebalance Alerts"}),a.jsx("span",{className:"text-[11px] bg-violet-500/30 px-1.5 py-0.5 rounded-full",children:ge})]}),a.jsx("button",{onClick:()=>N(!0),disabled:C,className:`p-2 rounded-lg transition-colors ${C?"text-blue-400 cursor-not-allowed":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:"Sync data from Google Sheets",children:a.jsx(yl,{size:18,className:C?"animate-spin":""})}),a.jsx("button",{onClick:j,className:`p-2 rounded-lg transition-colors ${g?"text-amber-400 bg-amber-500/10":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:g?"Data masked  click to reveal":"Mask sensitive data",children:g?a.jsx(Xc,{size:18}):a.jsx(np,{size:18})}),a.jsx("button",{onClick:r,className:"p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",title:`Switch to ${l==="dark"?"light":"dark"} mode`,children:l==="dark"?a.jsx(Tf,{size:18}):a.jsx(Sy,{size:18})}),oe>0&&a.jsxs("div",{className:"relative",ref:F,children:[a.jsxs("button",{onClick:()=>{W(!H),z(!1)},className:"relative p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(Du,{size:18}),a.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-rose-500 rounded-full px-1",children:oe})]}),H&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[a.jsx("div",{className:"px-3 py-2 border-b border-[var(--border-light)]",children:a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Notifications"})}),a.jsxs("div",{className:"max-h-[300px] overflow-y-auto py-1",children:[O.map((Ne,ze)=>{const xt={critical:"bg-rose-500",warning:"bg-amber-500",info:"bg-blue-500"}[Ne.type],la={critical:"bg-rose-500/15 text-rose-400",warning:"bg-amber-500/15 text-amber-400",info:"bg-blue-500/15 text-blue-400"}[Ne.type];return a.jsxs("button",{onClick:()=>{W(!1),y(Ne.navigateTo)},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${xt}`}),a.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 text-left truncate",children:Ne.title}),a.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${la}`,children:Ne.badge})]},`c-${ze}`)}),O.length>0&&U.length>0&&a.jsx("div",{className:"mx-3 my-1 border-t border-[var(--border-light)]"}),U.map(Ne=>{const ze=Ne.days<=7?"bg-rose-500/15 text-rose-400":Ne.days<=15?"bg-amber-500/15 text-amber-400":"bg-slate-500/15 text-[var(--text-muted)]";return a.jsxs("button",{onClick:()=>{W(!1),y("/reminders")},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[a.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-amber-500"}),a.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 truncate",children:Ne.title}),a.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${ze}`,children:Ne.days===0?"Today":Ne.days<=30?`${Ne.days}d`:Ne.dateStr})]},`r-${Ne.reminderId}`)})]})]})]}),a.jsxs("div",{className:"relative",ref:ve,children:[a.jsxs("button",{onClick:()=>{z(!E),W(!1)},className:"flex items-center gap-1.5 pl-1 pr-2 py-1 rounded-full hover:bg-[var(--bg-hover)] transition-colors",children:[Je?a.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-br ${Rc[qe%Rc.length]} flex items-center justify-center text-white text-xs font-bold shadow-sm`,children:Je.memberName.charAt(0)}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm",children:a.jsx(Nl,{size:14})}),a.jsx(Pr,{size:14,className:`text-[var(--text-muted)] transition-transform ${E?"rotate-180":""}`})]}),E&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[a.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)]",children:a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Viewing as"})}),a.jsxs("div",{className:"py-1.5",children:[a.jsxs("button",{onClick:()=>{o("all"),z(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${t==="all"?"bg-violet-500/10":"hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm shrink-0",children:a.jsx(Nl,{size:15})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`text-sm font-semibold truncate ${t==="all"?"text-violet-400":"text-[var(--text-primary)]"}`,children:"Everyone"}),a.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:"All family members"})]}),t==="all"&&a.jsx(O0,{size:16,className:"text-violet-400 shrink-0"})]}),u.length>0&&a.jsx("div",{className:"mx-4 my-1 border-t border-[var(--border-light)]"}),u.map((Ne,ze)=>{const xt=t===Ne.memberId;return a.jsxs("button",{onClick:()=>{o(Ne.memberId),z(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${xt?`${Eb[ze%Eb.length]}/10`:"hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("div",{className:`w-9 h-9 rounded-full bg-gradient-to-br ${Rc[ze%Rc.length]} flex items-center justify-center text-white text-sm font-bold shadow-sm shrink-0`,children:Ne.memberName.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold truncate text-[var(--text-primary)]",children:Ne.memberName}),a.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:Ne.relationship||"Family member"})]}),xt&&a.jsx(O0,{size:16,className:"text-emerald-400 shrink-0"})]},Ne.memberId)})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] py-1.5",children:[a.jsxs(hl,{to:"/settings",onClick:()=>z(!1),className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(rp,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),M&&a.jsx("div",{className:"px-4 py-1.5",children:a.jsx("p",{className:"text-[11px] text-[var(--text-muted)] truncate",children:D(M.email,"email")})}),a.jsxs("button",{onClick:()=>{S(),z(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-rose-400 hover:bg-rose-500/10 transition-colors",children:[a.jsx(wy,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"Sign out"})]})]})]})]})]})]})}),a.jsx(T5,{}),a.jsx("nav",{className:"bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)]",children:a.jsxs("div",{className:"flex items-center px-3 sm:px-4 py-1.5",children:[a.jsx("div",{className:"flex items-center gap-1 overflow-x-auto no-scrollbar flex-1 min-w-0",children:y3.map(Ne=>{const ze=_.pathname.startsWith(Ne.match);return a.jsx(hl,{to:Ne.path,className:`whitespace-nowrap px-3 py-1.5 rounded-lg text-[13px] font-medium transition-colors ${ze?"bg-violet-500/15 text-violet-400":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:Ne.label},Ne.path)})}),a.jsxs("button",{onClick:()=>J(!$),className:"shrink-0 ml-3 flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15 transition-colors",children:[a.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400/70",children:"Net Worth"}),a.jsx("span",{className:"text-sm font-extrabold text-emerald-400 tabular-nums",children:Q(Rt.netWorth)}),a.jsx(Pr,{size:12,className:`text-emerald-400/60 transition-transform duration-200 ${$?"rotate-180":""}`})]})]})}),$&&a.jsx("div",{className:"bg-[var(--bg-card)]/90 backdrop-blur-sm border-b border-[var(--border-light)] animate-in slide-in-from-top-2 fade-in duration-200",children:a.jsxs("div",{className:"relative max-w-7xl mx-auto",children:[B&&a.jsx("button",{onClick:()=>ua(-1),className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 z-10 w-7 h-7 flex items-center justify-center rounded-full bg-[var(--bg-card)] border border-[var(--border)] shadow-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:a.jsx(xy,{size:14})}),a.jsxs("div",{ref:ee,onScroll:rt,className:"flex gap-3 px-12 sm:px-14 py-3 overflow-x-auto scroll-smooth snap-x snap-mandatory no-scrollbar",children:[Rt.sections?.map(Ne=>a.jsxs(hl,{to:Ne.route,className:"group snap-start shrink-0 w-[calc(50%-6px)] sm:w-[calc(33.333%-8px)] lg:w-[calc(25%-9px)] rounded-lg p-3 bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)] border border-[var(--border-light)] transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold uppercase tracking-wider text-[var(--text-muted)]",children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${Ne.color}`}),Ne.label]}),a.jsx(qi,{size:10,className:"text-[var(--text-dim)] opacity-0 group-hover:opacity-100 transition-opacity"})]}),a.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums mb-1",children:Q(Ne.total)}),Ne.items.length>0&&a.jsx("div",{className:"space-y-0.5",children:Ne.items.map(ze=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)] truncate mr-2",children:ze.label}),a.jsx("span",{className:"text-[11px] text-[var(--text-muted)] tabular-nums shrink-0",children:Q(ze.value)})]},ze.label))})]},Ne.key)),Rt.totalLiab>0&&a.jsxs(hl,{to:"/liabilities",className:"group snap-start shrink-0 w-[calc(50%-6px)] sm:w-[calc(33.333%-8px)] lg:w-[calc(25%-9px)] rounded-lg p-3 bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)] border border-[var(--border-light)] transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold uppercase tracking-wider text-[var(--text-muted)]",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-500"}),"Liabilities"]}),a.jsx(qi,{size:10,className:"text-[var(--text-dim)] opacity-0 group-hover:opacity-100 transition-opacity"})]}),a.jsxs("p",{className:"text-base font-bold text-[var(--accent-rose)] tabular-nums mb-1",children:["",Q(Rt.totalLiab)]}),Rt.liabilities?.length>0&&a.jsx("div",{className:"space-y-0.5",children:Rt.liabilities.map(Ne=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)] truncate mr-2",children:Ne.label}),a.jsx("span",{className:"text-[11px] text-[var(--accent-rose)]/70 tabular-nums shrink-0",children:Q(Ne.value)})]},Ne.label))})]})]}),I&&a.jsx("button",{onClick:()=>ua(1),className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 z-10 w-7 h-7 flex items-center justify-center rounded-full bg-[var(--bg-card)] border border-[var(--border)] shadow-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:a.jsx(qi,{size:14})})]})}),A&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-16 sm:pt-24 px-3",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>se(null)}),a.jsxs("div",{className:"relative w-full max-w-3xl max-h-[75vh] rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-2xl shadow-black/40 overflow-hidden flex flex-col animate-in fade-in slide-in-from-top-4 duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--border-light)] shrink-0",children:[a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:N3[A]}),a.jsx("button",{onClick:()=>se(null),className:"p-1.5 rounded-lg hover:bg-[var(--bg-hover)] text-[var(--text-dim)] transition-colors",children:a.jsx(eo,{size:16})})]}),a.jsxs("div",{className:"overflow-y-auto p-4",children:[A==="buyopp"&&a.jsx(Ty,{}),A==="rebalance"&&a.jsx(b1,{})]})]})]})]})}const w3=[{label:"Invest",icon:vl,path:"/investments/mutual-funds"},{label:"Accounts",icon:Gi,path:"/accounts/bank"},{label:"Goals",icon:Ji,path:"/goals"},{label:"Reminders",icon:Du,path:"/reminders"},{label:"More",icon:uC,path:"/more"}];function S3(){return a.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-[var(--bg-sidebar)] border-t border-[var(--border)] safe-bottom",children:a.jsx("div",{className:"flex items-center justify-around h-[56px]",children:w3.map(({label:s,icon:l,path:r})=>a.jsx(Zf,{to:r,className:({isActive:t})=>`relative flex flex-col items-center justify-center gap-0.5 w-full h-full text-xs font-medium transition-colors ${t?"text-[var(--sidebar-active-text)]":"text-[var(--text-dim)]"}`,children:({isActive:t})=>a.jsxs(a.Fragment,{children:[t&&a.jsx("span",{className:"absolute top-0 w-10 h-[2.5px] bg-[var(--sidebar-active-text)] rounded-b-full"}),a.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-xl transition-colors ${t?"bg-[var(--sidebar-active-bg)]":""}`,children:a.jsx(l,{size:19,strokeWidth:t?2.2:1.5})}),a.jsx("span",{className:t?"font-semibold":"",children:s})]})},r))})})}const C3="/logo-small.png",bf=[{key:"auth",label:"Signing in"},{key:"data",label:"Loading your data"},{key:"health",label:"Checking health status"},{key:"ready",label:"Almost ready"}];function ju({phase:s="auth"}){const[l,r]=w.useState("");w.useEffect(()=>{const o=setInterval(()=>{r(u=>u.length>=3?"":u+".")},500);return()=>clearInterval(o)},[]);const t=bf.findIndex(o=>o.key===s);return a.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:a.jsxs("div",{className:"flex flex-col items-center gap-8",children:[a.jsx("img",{src:C3,alt:"Capital Friends",className:"h-16 w-16 animate-pulse"}),a.jsxs("div",{className:"flex flex-col items-center gap-4 min-w-[220px]",children:[bf.map((o,u)=>{const d=u===t,m=u<t;return a.jsxs("div",{className:"flex items-center gap-3 w-full",children:[a.jsx("div",{className:`flex-shrink-0 w-5 h-5 rounded-full flex items-center justify-center text-xs font-medium transition-all duration-300 ${m?"bg-green-500 text-white":d?"bg-violet-500 text-white animate-pulse":"bg-[var(--border)] text-[var(--text-muted)]"}`,children:m?"":u+1}),a.jsxs("span",{className:`text-sm transition-all duration-300 ${m?"text-green-400":d?"text-[var(--text-primary)] font-medium":"text-[var(--text-muted)]"}`,children:[o.label,d?l:""]})]},o.key)}),a.jsx("div",{className:"w-full h-1 rounded-full bg-[var(--border)] overflow-hidden mt-2",children:a.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-violet-500 to-cyan-500 transition-all duration-500 ease-out",style:{width:`${(t+1)/bf.length*100}%`}})})]})]})})}function k3(){const[s,l]=w.useState(!1),{loading:r,error:t}=Ue();return r?a.jsx(ju,{}):t?a.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:a.jsxs("div",{className:"flex flex-col items-center gap-4 text-center px-6",children:[a.jsx("img",{src:"/logo-small.png",alt:"Capital Friends",className:"h-16 w-16 opacity-50"}),a.jsx("p",{className:"text-rose-400 text-sm font-medium",children:t}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-violet-600 hover:bg-violet-500 text-white transition-colors",children:"Retry"})]})}):a.jsxs("div",{className:"flex flex-col h-dvh bg-[var(--bg-base)] overflow-hidden",children:[a.jsx(j3,{onMenuClick:()=>l(!0)}),a.jsx(C5,{open:s,onClose:()=>l(!1)}),a.jsx("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-20 lg:pb-0",children:a.jsx("div",{className:"px-3 sm:px-4 py-3 sm:py-4 w-full max-w-7xl mx-auto",children:a.jsx(Cg,{})})}),a.jsx(S3,{})]})}function D3(){const{isAuthenticated:s,loading:l}=ks(),{healthCheckCompleted:r,loading:t}=Ue(),o=Ja();return l&&!s?a.jsx(ju,{phase:"auth"}):!s&&!l?a.jsx(ru,{to:"/",replace:!0}):t?a.jsx(ju,{phase:"data"}):r===!1&&o.pathname!=="/health-check"?a.jsx(ru,{to:"/health-check",replace:!0}):a.jsx(Cg,{})}const _b="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png";function g1(){const{isAuthenticated:s,loading:l,error:r,signIn:t}=ks(),o=Cs(),[u,d]=w.useState(0),[m,x]=w.useState(!1),p=w.useRef(null),v=w.useCallback(()=>{p.current&&clearInterval(p.current),p.current=setInterval(()=>{x(M=>(M||d(S=>(S+1)%4),M))},5e3)},[]);w.useEffect(()=>(v(),()=>{p.current&&clearInterval(p.current)}),[v]);function b(M){d(M),v()}if(w.useEffect(()=>{s&&o("/dashboard",{replace:!0})},[s,o]),l)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#080d1a]",children:a.jsx("img",{src:"/logo-small.png",alt:"",className:"h-16 w-16 animate-pulse"})});const N=[{id:"ath",label:"ATH Tracking",icon:a.jsx(zr,{size:18}),color:"emerald",tagline:"Spot Buying Opportunities",desc:"See how far each mutual fund is from its All-Time High NAV. When a quality fund dips 10-20% below ATH, it's your signal to invest more  via SIP increase or lumpsum.",mock:a.jsx(A3,{})},{id:"rebalance",label:"Rebalancing",icon:a.jsx(yl,{size:18}),color:"violet",tagline:"Know Exactly What to Buy or Sell",desc:"Set target allocation for each fund. When your portfolio drifts, Capital Friends tells you exactly how much to adjust  via SIP changes, lumpsum top-ups, or buy/sell actions.",mock:a.jsx(T3,{})},{id:"goals",label:"Goal Linking",icon:a.jsx(Ji,{size:18}),color:"cyan",tagline:"Link Portfolios to Goals",desc:"Create goals like retirement, child education, or emergency fund. Link MF portfolios with allocation percentages. Goal progress updates automatically as NAVs change daily.",mock:a.jsx(E3,{})},{id:"dashboard",label:"Family View",icon:a.jsx(Nl,{size:18}),color:"amber",tagline:"Everyone's Wealth, One Dashboard",desc:"Switch between family members in one click. See combined or individual net worth, investments, insurance, loans  everything your family owns, in one place.",mock:a.jsx(M3,{})}],C=N[u];return a.jsxs("div",{className:"min-h-screen bg-[#080d1a] text-slate-200",children:[a.jsx("header",{className:"sticky top-0 z-50 bg-[#0a0f1f]/95 backdrop-blur-sm border-b border-white/[0.06]",children:a.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[a.jsx("img",{src:_b,alt:"Capital Friends",className:"h-12"}),a.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-600 to-cyan-600 text-white text-sm font-semibold hover:from-violet-500 hover:to-cyan-500 transition-all cursor-pointer",children:[a.jsx(Rb,{s:14})," Sign In"]})]})}),a.jsxs("section",{className:"relative px-5 sm:px-8 lg:px-16 pt-10 sm:pt-14 pb-8 sm:pb-10 overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[400px] bg-violet-600/8 rounded-full blur-[120px] pointer-events-none"}),a.jsx("div",{className:"absolute top-20 right-1/4 w-[400px] h-[300px] bg-cyan-600/6 rounded-full blur-[100px] pointer-events-none"}),a.jsxs("div",{className:"relative text-center",children:[a.jsx("span",{className:"inline-block text-xs font-bold uppercase tracking-[0.2em] text-violet-400 bg-violet-500/10 border border-violet-500/20 rounded-full px-4 py-1.5 mb-5",children:"Always Free  100% Private  Your Google Sheet"}),a.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold leading-[1.1] tracking-tight text-white",children:["One dashboard for your family's"," ",a.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-cyan-400 bg-clip-text text-transparent",children:"entire wealth"})]}),a.jsxs("p",{className:"mt-5 text-base sm:text-lg text-slate-400 leading-relaxed max-w-2xl mx-auto",children:["Mutual funds, stocks, FDs, gold, insurance, loans  track everything for every family member. Manual entry means ",a.jsx("strong",{className:"text-white",children:"no bank credentials, no privacy risk"}),"."]}),r&&a.jsx("p",{className:"mt-5 text-sm text-rose-400",children:r})]})]}),a.jsxs("section",{className:"bg-gradient-to-b from-[#0d0a1a] to-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-10 sm:py-14",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3 flex-wrap justify-center",children:[a.jsx(Tu,{size:28,className:"text-amber-400 shrink-0"}),a.jsxs("span",{children:["What happens if something happens to ",a.jsx("span",{className:"text-amber-400",children:"you"}),"?"]})]}),a.jsxs("p",{className:"mt-4 text-lg text-slate-400 leading-relaxed",children:["Your family should know about every investment, every policy, every loan. Not someday. ",a.jsx("strong",{className:"text-white",children:"Right now."})]})]}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsx(Ob,{icon:a.jsx(np,{size:20}),color:"rose",title:"Without Capital Friends",items:["Scattered investments across 10+ platforms","Family has no idea what you own or owe","Insurance policies lost in email threads","Months of confusion, missed renewals, lost money"],bad:!0}),a.jsx(Ob,{icon:a.jsx($i,{size:20}),color:"emerald",title:"With Capital Friends",items:["One sheet  every investment, policy, and loan","Family receives email reports with full portfolio details","Reminders for SIPs, renewals, EMI payments","Complete clarity, instantly  when it matters most"]})]}),a.jsxs("p",{className:"text-center mt-8 text-base text-slate-500",children:["Built for ",a.jsx("strong",{className:"text-white",children:"you"})," to manage your wealth  and for your ",a.jsx("strong",{className:"text-white",children:"family"})," to access it when they need to."]})]}),a.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"How it Works"}),a.jsx("p",{className:"text-base text-slate-500",children:"Set up in 2 minutes  no bank credentials, no downloads"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-4",children:[a.jsx(Ic,{num:1,icon:a.jsx(EC,{size:24}),color:"violet",title:"Sign In with Google",desc:"Go to capitalfriends.in and sign in with your Google account. That's all  no registration form, no passwords."}),a.jsx(Ic,{num:2,icon:a.jsx(pC,{size:24}),color:"emerald",title:"App Creates Your Sheet",desc:"The app creates a private Google Sheet in your own Google Drive. This sheet stores all your financial data. Only you can see it  not even the developer."}),a.jsx(Ic,{num:3,icon:a.jsx(vy,{size:24}),color:"cyan",title:"Financial Health Check",desc:"Answer 7 simple yes/no questions about your financial health. Get your score and personalized recommendations instantly."}),a.jsx(Ic,{num:4,icon:a.jsx(zr,{size:24}),color:"amber",title:"Start Tracking",desc:"Add family members, portfolios, goals, insurance, and loans. The app connects to AMFI for live mutual fund prices automatically."})]}),a.jsxs("p",{className:"text-center mt-10 text-sm text-slate-600",children:["Your sheet is named ",a.jsx("strong",{className:"text-slate-400",children:"Capital Friends - Your Name"})," and lives in your Google Drive. The web app is just a beautiful dashboard to view and manage it."]})]}),a.jsxs("section",{id:"features",className:"bg-[#0b1022] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",onMouseEnter:()=>x(!0),onMouseLeave:()=>{x(!1),v()},children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Features That Set Us Apart"}),a.jsx("p",{className:"text-base text-slate-500",children:"Things you won't find on other portfolio trackers"})]}),a.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 mb-10 flex-wrap",children:N.map((M,S)=>{const g=S===u,j={emerald:"border-emerald-500",violet:"border-violet-500",cyan:"border-cyan-500",amber:"border-amber-500"},D={emerald:"text-emerald-400",violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400"};return a.jsxs("button",{onClick:()=>b(S),className:`relative flex items-center gap-2 px-5 py-2.5 rounded-full border text-sm font-semibold transition-all cursor-pointer ${g?`${j[M.color]} bg-white/[0.05] ${D[M.color]}`:"border-white/[0.08] text-slate-500 hover:border-white/[0.15] hover:text-slate-300"}`,children:[a.jsx("span",{className:"shrink-0",children:M.icon}),M.label,g&&a.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-0.5 bg-white/[0.06] rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-current",style:{animation:"featureProgress 5s linear",animationPlayState:m?"paused":"running"}})})]},M.id)})}),a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-8 lg:gap-12",children:[a.jsxs("div",{className:"lg:flex-1 min-h-[280px]",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:C.tagline}),a.jsx("p",{className:"mt-3 text-base text-slate-400 leading-relaxed",children:C.desc}),C.id==="ath"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(aa,{c:"emerald",t:"ATH tracking only for funds in your portfolios"}),a.jsx(aa,{c:"emerald",t:"Color-coded signals: watch, consider, buy, strong buy"}),a.jsx(aa,{c:"emerald",t:"Increase SIP or invest lumpsum when funds dip"}),a.jsx(aa,{c:"emerald",t:"Daily NAV updates from AMFI data"})]}),C.id==="rebalance"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(aa,{c:"violet",t:"Adjust monthly SIP to rebalance gradually"}),a.jsx(aa,{c:"violet",t:"Lumpsum top-up for quick rebalance"}),a.jsx(aa,{c:"violet",t:"Buy/Sell amounts to match target"}),a.jsx(aa,{c:"violet",t:"Configurable threshold per portfolio"})]}),C.id==="goals"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(aa,{c:"cyan",t:"Link multiple MF portfolios to each goal"}),a.jsx(aa,{c:"cyan",t:"Built-in SIP + lumpsum calculator with inflation"}),a.jsx(aa,{c:"cyan",t:"Auto-status: On Track, Needs Attention, Achieved"}),a.jsx(aa,{c:"cyan",t:"Withdrawal planning for retirement goals"})]}),C.id==="dashboard"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(aa,{c:"amber",t:"One-click switch between family members"}),a.jsx(aa,{c:"amber",t:"Combined net worth across everyone"}),a.jsx(aa,{c:"amber",t:"MF, stocks, FD, gold, PPF, NPS, insurance"}),a.jsx(aa,{c:"amber",t:"Email reports sent to family automatically"})]})]}),a.jsx("div",{className:"lg:flex-1 min-w-0 min-h-[380px] flex flex-col justify-center",children:C.mock})]}),a.jsx("style",{children:`
          @keyframes featureProgress {
            from { width: 0% }
            to { width: 100% }
          }
        `})]}),a.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Everything You Need"}),a.jsx("p",{className:"text-base text-slate-500",children:"One dashboard for your entire financial life"})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[a.jsx(Ir,{icon:a.jsx(Ui,{size:20}),c:"rose",t:"Stock Portfolios",d:"Buy/sell tracking, average cost, P&L with live NSE prices"}),a.jsx(Ir,{icon:a.jsx(HC,{size:20}),c:"orange",t:"FD, Gold, PPF, NPS",d:"Track any investment type  all counted in net worth"}),a.jsx(Ir,{icon:a.jsx($i,{size:20}),c:"teal",t:"Insurance Tracker",d:"Life, health, term policies with premiums & renewal dates"}),a.jsx(Ir,{icon:a.jsx(Gi,{size:20}),c:"red",t:"Liabilities",d:"Loans & EMIs. Net worth = total assets minus debts"}),a.jsx(Ir,{icon:a.jsx(Du,{size:20}),c:"yellow",t:"Smart Reminders",d:"SIP dates, renewals, EMI payments, maturity alerts"}),a.jsx(Ir,{icon:a.jsx(Nl,{size:20}),c:"pink",t:"Family Sharing",d:"Invite family with Google accounts  shared dashboard"}),a.jsx(Ir,{icon:a.jsx(yl,{size:20}),c:"blue",t:"Daily Auto-Refresh",d:"NAVs and stock prices update automatically every day"}),a.jsx(Ir,{icon:a.jsx(of,{size:20}),c:"emerald",t:"Complete Privacy",d:"No servers, no database, no tracking  your Sheet only"})]})]}),a.jsxs("section",{className:"border-y border-white/[0.06]",children:[a.jsxs("div",{className:"bg-[#0b1022] px-5 sm:px-8 lg:px-16 py-10 sm:py-14 text-center",children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3",children:[a.jsx(of,{size:28,className:"text-emerald-400 shrink-0"}),"Your Data Never Leaves Google"]}),a.jsxs("p",{className:"mt-3 text-base sm:text-lg text-slate-400 leading-relaxed",children:["No backend server. No database. No tracking. The web app is a static site. Your spreadsheet lives in ",a.jsx("strong",{className:"text-white",children:"your Google Drive"}),". We literally cannot access your financial data."]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row",children:[a.jsx(Nf,{icon:a.jsx($i,{size:20}),t:"Manual Entry Only",d:"No bank linking, no credentials shared. You type your data  no one else has access.",bg:"bg-[#0d1326]",c:"emerald"}),a.jsx(Nf,{icon:a.jsx(of,{size:20}),t:"Your Google Sheet",d:"A private spreadsheet in your Drive. Share only with family you choose.",bg:"bg-[#0f1530]",c:"violet"}),a.jsx(Nf,{icon:a.jsx(iu,{size:20}),t:"Always Free",d:"No premium tier, no hidden fees, no ads. Free today, free forever.",bg:"bg-[#111838]",c:"amber"})]})]}),a.jsxs("section",{className:"bg-gradient-to-t from-[#080d1a] to-[#0d1128] border-t border-white/[0.06] px-5 sm:px-8 lg:px-16 py-16 text-center",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white",children:"Start managing your family's wealth today"}),a.jsx("p",{className:"mt-3 text-base text-slate-500",children:"Always free. No credit card. No bank linking. Just your Google account."}),a.jsxs("button",{onClick:t,className:"mt-8 inline-flex items-center gap-2.5 px-8 py-3.5 bg-gradient-to-r from-violet-600 to-cyan-600 text-white font-bold text-base rounded-xl hover:from-violet-500 hover:to-cyan-500 shadow-lg shadow-violet-900/30 transition-all hover:scale-[1.02] cursor-pointer",children:[a.jsx(Rb,{s:20})," Sign in with Google  It's Free"]}),r&&a.jsx("p",{className:"mt-3 text-sm text-rose-400",children:r})]}),a.jsxs("footer",{className:"border-t border-white/[0.04] px-5 sm:px-8 lg:px-16 py-5 flex items-center justify-between",children:[a.jsx("img",{src:_b,alt:"",className:"h-5 opacity-30"}),a.jsx("p",{className:"text-xs text-slate-600",children:"Your data. Your Google Drive. Your control."})]})]})}function Ob({icon:s,title:l,items:r,bad:t}){const o=t?"border-rose-500/15":"border-emerald-500/15",u=t?"bg-rose-500/[0.04]":"bg-emerald-500/[0.04]",d=t?"bg-rose-500/10 text-rose-400":"bg-emerald-500/10 text-emerald-400",m=t?"text-rose-400":"text-emerald-400";return a.jsxs("div",{className:`rounded-2xl border ${o} ${u} p-6`,children:[a.jsxs("h3",{className:`text-lg font-bold ${m} mb-4 flex items-center gap-2.5`,children:[a.jsx("span",{className:`flex items-center justify-center w-8 h-8 rounded-lg ${d} shrink-0`,children:s}),l]}),a.jsx("ul",{className:"space-y-3",children:r.map((x,p)=>a.jsxs("li",{className:"flex items-start gap-2.5",children:[t?a.jsx("span",{className:"text-rose-500/60 mt-0.5 shrink-0",children:""}):a.jsx(Rl,{size:16,className:"text-emerald-500 mt-0.5 shrink-0"}),a.jsx("span",{className:"text-sm text-slate-300 leading-relaxed",children:x})]},p))})]})}function M3(){return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f]",children:[a.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Dashboard"}),a.jsx("div",{className:"flex gap-1.5",children:["Everyone","Jagadeesh","Priya","Arjun"].map((s,l)=>a.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ${l===0?"bg-violet-500/20 text-violet-300":"text-slate-600"}`,children:s},s))})]}),a.jsxs("div",{className:"grid grid-cols-3 divide-x divide-white/[0.04]",children:[a.jsx(gf,{l:"Net Worth",v:"45.2L",lc:"text-violet-400",vc:"text-white"}),a.jsx(gf,{l:"Invested",v:"38.7L",lc:"text-slate-500",vc:"text-slate-300"}),a.jsx(gf,{l:"P&L",v:"+6.5L",lc:"text-slate-500",vc:"text-emerald-400",extra:"+16.8%"})]}),a.jsxs("div",{className:"border-t border-white/[0.04]",children:[a.jsx(yf,{n:"Axis Bluechip Fund",alloc:"30% / 25%",cur:"6.2L",pl:"+24.0%",ath:"5.2%",athC:"text-[#e67e00]",up:!0}),a.jsx(yf,{n:"Parag Parikh Flexi Cap",alloc:"35% / 40%",cur:"4.8L",pl:"+37.1%",ath:"At ATH",athC:"text-emerald-500",up:!0}),a.jsx(yf,{n:"SBI Small Cap Fund",alloc:"20% / 15%",cur:"1.8L",pl:"-10.0%",ath:"18.3%",athC:"text-[#d84315]",last:!0})]})]})}function A3(){const s=[{n:"HDFC Mid-Cap Opportunities",nav:"142.35",ath:"168.50",pct:"15.5%",color:"text-[#d84315]",signal:"Good Buy Signal",sigC:"text-[#d84315] bg-[#d84315]/15"},{n:"Axis Small Cap Fund",nav:"38.22",ath:"52.10",pct:"26.6%",color:"text-[#c62828]",signal:"Strong Buy",sigC:"text-[#c62828] bg-[#c62828]/15 font-bold"},{n:"Kotak Emerging Equity",nav:"89.10",ath:"92.40",pct:"3.6%",color:"text-[#b8860b]",signal:"Watch",sigC:"text-[#b8860b] bg-[#b8860b]/15"},{n:"Mirae Asset Large Cap",nav:"105.80",ath:"106.20",pct:"0.4%",color:"text-slate-500",signal:"Near ATH",sigC:"text-slate-500 bg-white/[0.04]"}];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Buy Opportunities"}),a.jsx("span",{className:"text-xs text-emerald-400 font-semibold bg-emerald-500/10 px-2.5 py-1 rounded-full",children:"2 signals"})]}),s.map((l,r)=>a.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${r<s.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:l.n}),a.jsxs("p",{className:"text-xs text-slate-600 mt-0.5",children:["NAV ","",l.nav,"  ATH ","",l.ath]})]}),a.jsxs("div",{className:"text-right shrink-0 ml-3",children:[a.jsxs("p",{className:`text-base font-bold tabular-nums ${l.color}`,children:[a.jsx(MS,{size:13,className:"inline -mt-0.5"})," ",l.pct]}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded ${l.sigC}`,children:l.signal})]})]},r))]})}function T3(){const[s,l]=w.useState(0),r=["SIP Adjust","Lumpsum","Buy / Sell"],t=["New SIP","Lumpsum Top-up","Action"],u=[[{n:"Axis Bluechip",val:"SIP 6,000",cur:"30%",tgt:"25%",action:"Stop SIP",actionC:"text-amber-400"},{n:"Parag Parikh Flexi",val:"SIP 7,000",cur:"35%",tgt:"40%",action:"12,000/mo",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"SIP 4,000",cur:"20%",tgt:"15%",action:"Stop SIP",actionC:"text-amber-400"},{n:"HDFC Large Cap",val:"SIP 3,000",cur:"15%",tgt:"20%",action:"8,000/mo",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"No action",actionC:"text-slate-600"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Invest 55,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"No action",actionC:"text-slate-600"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Invest 45,000",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Buy 50,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Buy 50,000",actionC:"text-emerald-400"}]][s];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Rebalance Portfolio"}),a.jsx("span",{className:"text-xs text-violet-400 font-semibold bg-violet-500/10 px-2.5 py-1 rounded-full",children:"4 off-target"})]}),a.jsx("div",{className:"flex border-b border-white/[0.04]",children:r.map((d,m)=>a.jsx("button",{onClick:()=>l(m),className:`flex-1 text-xs font-semibold py-2.5 text-center cursor-pointer transition-colors ${m===s?"text-violet-400 border-b-2 border-violet-400":"text-slate-600 hover:text-slate-400"}`,children:d},d))}),a.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 border-b border-white/[0.04] bg-[#0a0f1f]/50 flex-wrap",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"Portfolio Value"}),a.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","10,00,000"]}),s===0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xs text-slate-600",children:"|"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Total SIP"}),a.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","20,000"]})]}),s===1&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xs text-slate-600",children:"|"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Lumpsum"}),a.jsx("input",{type:"text",readOnly:!0,value:"1,00,000",className:"bg-white/[0.04] border border-white/[0.08] rounded-md px-2 py-1 text-sm text-white font-semibold tabular-nums w-24 text-right cursor-default outline-none"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 text-xs text-slate-600 font-semibold border-b border-white/[0.03]",children:[a.jsx("span",{children:"Fund / Value"}),a.jsx("span",{className:"text-center",children:"Current"}),a.jsx("span",{className:"text-center",children:"Target"}),a.jsx("span",{className:"text-right",children:t[s]})]}),u.map((d,m)=>a.jsxs("div",{className:`grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 items-center ${m<u.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("span",{className:"text-sm text-slate-300 truncate block",children:d.n}),a.jsxs("span",{className:"text-[10px] text-slate-600",children:["",d.val]})]}),a.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:d.cur}),a.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:d.tgt}),a.jsx("span",{className:`text-sm text-right font-semibold ${d.actionC}`,children:d.action})]},`${s}-${m}`))]})]})}function E3(){const s=[{n:"Retirement",tgt:"2Cr",cur:"28.5L",pct:14,sip:"45,000",yrs:"18 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"Child Education",tgt:"50L",cur:"12.2L",pct:24,sip:"15,000",yrs:"12 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"New Car",tgt:"15L",cur:"4.1L",pct:27,sip:"12,000",yrs:"3 yrs",status:"Needs Attention",sc:"text-amber-400 bg-amber-500/15",bc:"bg-amber-500"}];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Goals"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"2 On Track"}),a.jsx("span",{className:"text-xs text-amber-400",children:"1 Needs Attention"})]})]}),s.map((l,r)=>a.jsxs("div",{className:`px-4 py-3.5 ${r<s.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:l.n}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${l.sc}`,children:l.status})]}),a.jsxs("span",{className:"text-xs text-slate-500",children:["",l.sip,"/mo  ",l.yrs]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1 h-2.5 rounded-full bg-white/[0.06] overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${l.bc}`,style:{width:`${l.pct}%`}})}),a.jsxs("span",{className:"text-sm font-semibold text-slate-300 tabular-nums w-10 text-right",children:[l.pct,"%"]})]}),a.jsxs("div",{className:"flex justify-between mt-1.5 text-xs text-slate-600",children:[a.jsxs("span",{children:["",l.cur," of ","",l.tgt]}),a.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[a.jsx(ou,{size:10})," 2 portfolios linked"]})]})]},r))]})}function Rb({s=16}){return a.jsxs("svg",{viewBox:"0 0 24 24",width:s,height:s,className:"shrink-0",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function gf({l:s,v:l,lc:r,vc:t,extra:o}){return a.jsxs("div",{className:"py-3.5 text-center",children:[a.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${r}`,children:s}),a.jsxs("p",{className:`text-lg font-bold tabular-nums mt-0.5 ${t}`,children:[l,o&&a.jsx("span",{className:"text-sm ml-1 text-emerald-400",children:o})]})]})}function yf({n:s,alloc:l,cur:r,pl:t,ath:o,athC:u,up:d,last:m}){return a.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${m?"":"border-b border-white/[0.03]"}`,children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-300",children:s}),a.jsxs("p",{className:"text-xs text-slate-600",children:["Alloc ",l,"  ",a.jsx("span",{className:u,children:o!=="At ATH"?`${o} below ATH`:o})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-200 tabular-nums",children:r}),a.jsx("p",{className:`text-sm font-semibold tabular-nums ${d?"text-emerald-400":"text-rose-400"}`,children:t})]})]})}function aa({c:s,t:l}){const r={violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400",emerald:"text-emerald-400"};return a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx(Rl,{size:16,className:`${r[s]} shrink-0`}),a.jsx("span",{className:"text-sm text-slate-300",children:l})]})}function Ic({num:s,icon:l,color:r,title:t,desc:o}){const u={violet:["text-violet-400","bg-violet-500/10","border-violet-500/20","from-violet-500/20 to-violet-500/5"],emerald:["text-emerald-400","bg-emerald-500/10","border-emerald-500/20","from-emerald-500/20 to-emerald-500/5"],cyan:["text-cyan-400","bg-cyan-500/10","border-cyan-500/20","from-cyan-500/20 to-cyan-500/5"],amber:["text-amber-400","bg-amber-500/10","border-amber-500/20","from-amber-500/20 to-amber-500/5"]},[d,m,x,p]=u[r]||u.violet;return a.jsxs("div",{className:`relative rounded-2xl border ${x} bg-gradient-to-b ${p} p-6 text-center`,children:[a.jsx("span",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl ${m} ${d} mb-4`,children:l}),a.jsxs("span",{className:`absolute top-4 right-4 text-xs font-bold ${d} opacity-40`,children:["0",s]}),a.jsx("h3",{className:"text-base font-bold text-white mb-2",children:t}),a.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:o})]})}function Nf({icon:s,t:l,d:r,bg:t,c:o}){const u={emerald:"text-emerald-400",violet:"text-violet-400",amber:"text-amber-400"};return a.jsxs("div",{className:`flex-1 ${t} px-5 sm:px-8 lg:px-10 py-6 sm:py-8 border-b sm:border-b-0 sm:border-r border-white/[0.04] last:border-0`,children:[a.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:`${u[o]} shrink-0`,children:s}),l]}),a.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:r})]})}const Ib={violet:["text-violet-400","bg-violet-500/8","border-violet-500/10"],blue:["text-blue-400","bg-blue-500/8","border-blue-500/10"],emerald:["text-emerald-400","bg-emerald-500/8","border-emerald-500/10"],cyan:["text-cyan-400","bg-cyan-500/8","border-cyan-500/10"],rose:["text-rose-400","bg-rose-500/8","border-rose-500/10"],orange:["text-orange-400","bg-orange-500/8","border-orange-500/10"],teal:["text-teal-400","bg-teal-500/8","border-teal-500/10"],red:["text-red-400","bg-red-500/8","border-red-500/10"],yellow:["text-yellow-400","bg-yellow-500/8","border-yellow-500/10"],pink:["text-pink-400","bg-pink-500/8","border-pink-500/10"]};function Ir({icon:s,c:l,t:r,d:t}){const[o,u,d]=Ib[l]||Ib.violet;return a.jsxs("div",{className:`rounded-xl border ${d} ${u} p-5`,children:[a.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:`${o} shrink-0`,children:s}),r]}),a.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:t})]})}function _3(){const{isAuthenticated:s,loading:l}=ks();return l?a.jsx(ju,{}):s?a.jsx(ru,{to:"/investments/mutual-funds",replace:!0}):a.jsx(g1,{})}function O3(){const s=Ja();return a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-violet-500/15 rounded-2xl flex items-center justify-center mb-4",children:a.jsx(tC,{size:32,className:"text-violet-400"})}),a.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)] mb-2",children:"Coming Soon"}),a.jsx("p",{className:"text-[var(--text-muted)] text-sm max-w-sm",children:"This page is under construction. Navigate using the sidebar to explore available sections."}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-3 font-mono",children:s.pathname})]})}const R3=["Savings Account","Current Account","Fixed Deposit (FD)","Recurring Deposit (RD)","NRE Account","NRO Account","Minor Account"].map(s=>({value:s,label:s}));function I3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o}=Ue(),u=!!s,[d,m]=w.useState({accountName:s?.accountName||"",memberId:s?.memberId||"",bankName:s?.bankName||"",accountNumber:s?.accountNumber||"",ifscCode:s?.ifscCode||"",branchName:s?.branchName||"",accountType:s?.accountType||"",status:s?.status||"Active"}),[x,p]=w.useState({}),[v,b]=w.useState(!1);function N(g,j){m(D=>({...D,[g]:j})),p(D=>({...D,[g]:void 0}))}function C(){const g={};return d.accountName.trim()||(g.accountName="Required"),d.memberId||(g.memberId="Required"),d.bankName.trim()||(g.bankName="Required"),String(d.accountNumber||"").trim()||(g.accountNumber="Required"),d.ifscCode.trim()||(g.ifscCode="Required"),d.branchName.trim()||(g.branchName="Required"),d.accountType||(g.accountType="Required"),p(g),Object.keys(g).length===0}async function M(){if(C()){b(!0);try{await l({...d,ifscCode:d.ifscCode.toUpperCase()})}finally{b(!1)}}}const S=o.map(g=>({value:g.memberId,label:`${g.memberName} (${g.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Account Name",required:!0,error:x.accountName,children:a.jsx(fe,{value:d.accountName,onChange:g=>N("accountName",g),placeholder:"e.g., HDFC Savings"})}),a.jsx(te,{label:"Family Member",required:!0,error:x.memberId,children:a.jsx(_e,{value:d.memberId,onChange:g=>N("memberId",g),options:S,placeholder:"Select member..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Bank Name",required:!0,error:x.bankName,children:a.jsx(fe,{value:d.bankName,onChange:g=>N("bankName",g),placeholder:"e.g., HDFC Bank"})}),a.jsx(te,{label:"Account Type",required:!0,error:x.accountType,children:a.jsx(_e,{value:d.accountType,onChange:g=>N("accountType",g),options:R3,placeholder:"Select type..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Account Number",required:!0,error:x.accountNumber,children:a.jsx(fe,{sensitive:!0,value:d.accountNumber,onChange:g=>N("accountNumber",g),placeholder:"e.g., 1234567890"})}),a.jsx(te,{label:"IFSC Code",required:!0,error:x.ifscCode,children:a.jsx(fe,{value:d.ifscCode,onChange:g=>N("ifscCode",g.toUpperCase()),placeholder:"e.g., HDFC0001234",maxLength:11})})]}),a.jsx(te,{label:"Branch Name",required:!0,error:x.branchName,children:a.jsx(fe,{value:d.branchName,onChange:g=>N("branchName",g),placeholder:"e.g., Hyderabad - Kondapur"})}),u&&a.jsx(te,{label:"Status",children:a.jsx(_e,{value:d.status,onChange:g=>N("status",g),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?a.jsx(On,{onClick:r}):a.jsx("div",{}),a.jsx(sa,{onCancel:t,onSubmit:M,submitLabel:u?"Update":"Add Account",loading:v})]})]})}function cr({title:s="Loading"}){return a.jsxs("div",{className:"flex flex-col items-center justify-center py-32 gap-3",children:[a.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),a.jsxs("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:[s,"..."]})]})}const Lb={"Savings Account":"bg-blue-500/15 text-[var(--accent-blue)]",Savings:"bg-blue-500/15 text-[var(--accent-blue)]",Salary:"bg-emerald-500/15 text-emerald-400","Current Account":"bg-violet-500/15 text-[var(--accent-violet)]","Fixed Deposit":"bg-amber-500/15 text-[var(--accent-amber)]","Fixed Deposit (FD)":"bg-amber-500/15 text-[var(--accent-amber)]"};function Pb(){const{selectedMember:s,member:l}=Wt(),{banks:r,addBankAccount:t,updateBankAccount:o,deleteBankAccount:u}=Ue(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Tn(),{mv:p}=En(),[v,b]=w.useState(null);if(r===null)return a.jsx(cr,{title:"Loading bank accounts",cards:3});const N=w.useMemo(()=>{const j=r.filter(D=>D.status!=="Inactive");return s==="all"?j:j.filter(D=>D.memberId===s)},[r,s]),C=w.useMemo(()=>new Set(N.map(j=>j.bankName)).size,[N]),M=w.useMemo(()=>N.filter(j=>j.accountType==="Savings"||j.accountType==="Savings Account"||j.accountType==="Salary").length,[N]);async function S(j){m("Saving...");try{v?.edit?await o(v.edit.accountId,j):await t(j),d(v?.edit?"Bank account updated":"Bank account added"),b(null)}catch(D){d(D.message||"Failed to save bank account","error")}finally{x()}}async function g(){if(v?.edit&&confirm("Deactivate this bank account?")){m("Deactivating...");try{await u(v.edit.accountId),d("Bank account deactivated"),b(null)}catch(j){d(j.message||"Failed to deactivate bank account","error")}finally{x()}}}return a.jsxs("div",{className:"space-y-4",children:[N.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(yy,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No bank accounts",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first bank account"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsx(jf,{label:"Total Accounts",value:N.length}),a.jsx(jf,{label:"Banks",value:C}),a.jsx(jf,{label:"Savings / Salary",value:M})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Sa,{size:14})," Add Account"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[580px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Bank"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account No."}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Branch"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:N.map(j=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:j.accountName})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:j.bankName}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:j.memberName}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Lb[j.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:j.accountType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:p(j.accountNumber,"account")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:j.branchName}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>b({edit:j}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(mn,{size:12})})})]},j.accountId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:N.map(j=>a.jsxs("div",{onClick:()=>b({edit:j}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:j.accountName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Lb[j.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:j.accountType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[j.bankName,l?"":`  ${j.memberName}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:p(j.accountNumber,"account")}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:j.branchName})]})]},j.accountId))})]})]}),a.jsx(Et,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Bank Account":"Add Bank Account",children:a.jsx(I3,{initial:v?.edit||void 0,onSave:S,onDelete:v?.edit?g:void 0,onCancel:()=>b(null)})})]})}function jf({label:s,value:l}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:l})]})}const L3=["Demat + Trading","Mutual Fund","Trading","Direct AMC","Broker"].map(s=>({value:s,label:s}));function P3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,activeBanks:u}=Ue(),d=!!s,[m,x]=w.useState({accountName:s?.accountName||"",memberId:s?.memberId||"",bankAccountId:s?.bankAccountId||"",accountType:s?.accountType||"",platformBroker:s?.platformBroker||"",accountClientId:s?.accountClientId||"",dematDpId:s?.dematDpId||"",registeredEmail:s?.registeredEmail||"",registeredPhone:s?.registeredPhone||"",status:s?.status||"Active"}),[p,v]=w.useState({}),[b,N]=w.useState(!1);function C(y,_){x(O=>({...O,[y]:_})),v(O=>({...O,[y]:void 0}))}function M(y){x(_=>({..._,memberId:y,bankAccountId:""})),v(_=>({..._,memberId:void 0}))}function S(){const y={};return m.accountName.trim()||(y.accountName="Required"),m.memberId||(y.memberId="Required"),m.bankAccountId||(y.bankAccountId="Required"),m.accountType||(y.accountType="Required"),m.platformBroker.trim()||(y.platformBroker="Required"),m.registeredEmail.trim()||(y.registeredEmail="Required"),m.registeredPhone.trim()||(y.registeredPhone="Required"),v(y),Object.keys(y).length===0}async function g(){if(S()){N(!0);try{await l(m)}finally{N(!1)}}}const j=o.map(y=>({value:y.memberId,label:`${y.memberName} (${y.relationship})`})),D=w.useMemo(()=>m.memberId?u.filter(y=>y.memberId===m.memberId).map(y=>({value:y.accountId,label:`${y.accountName} - ${y.bankName}`})):[],[u,m.memberId]);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Account Name",required:!0,error:p.accountName,children:a.jsx(fe,{value:m.accountName,onChange:y=>C("accountName",y),placeholder:"e.g., Zerodha Demat"})}),a.jsx(te,{label:"Family Member",required:!0,error:p.memberId,children:a.jsx(_e,{value:m.memberId,onChange:M,options:j,placeholder:"Select member..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Linked Bank Account",required:!0,error:p.bankAccountId,children:a.jsx(_e,{value:m.bankAccountId,onChange:y=>C("bankAccountId",y),options:D,placeholder:m.memberId?D.length?"Select bank account...":"No bank accounts for this member":"Select member first..."})}),a.jsx(te,{label:"Account Type",required:!0,error:p.accountType,children:a.jsx(_e,{value:m.accountType,onChange:y=>C("accountType",y),options:L3,placeholder:"Select type..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Platform / Broker",required:!0,error:p.platformBroker,children:a.jsx(fe,{value:m.platformBroker,onChange:y=>C("platformBroker",y),placeholder:"e.g., Zerodha, Groww"})}),a.jsx(te,{label:"Account / Client ID",error:p.accountClientId,children:a.jsx(fe,{sensitive:!0,value:m.accountClientId,onChange:y=>C("accountClientId",y),placeholder:"e.g., ZR1234 (optional)"})})]}),a.jsx(te,{label:"Demat DP ID",error:p.dematDpId,children:a.jsx(fe,{sensitive:!0,value:m.dematDpId,onChange:y=>C("dematDpId",y),placeholder:"16-digit DP ID (optional)",maxLength:16})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Registered Email",required:!0,error:p.registeredEmail,children:a.jsx(fe,{sensitive:!0,type:"email",value:m.registeredEmail,onChange:y=>C("registeredEmail",y),placeholder:"email@example.com"})}),a.jsx(te,{label:"Registered Phone",required:!0,error:p.registeredPhone,children:a.jsx(fe,{sensitive:!0,value:m.registeredPhone,onChange:y=>C("registeredPhone",y),placeholder:"9876543210"})})]}),d&&a.jsx(te,{label:"Status",children:a.jsx(_e,{value:m.status,onChange:y=>C("status",y),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[d&&r?a.jsx(On,{onClick:r}):a.jsx("div",{}),a.jsx(sa,{onCancel:t,onSubmit:g,submitLabel:d?"Update":"Add Account",loading:b})]})]})}const zb={"Demat + Trading":"bg-violet-500/15 text-[var(--accent-violet)]","Mutual Fund":"bg-blue-500/15 text-[var(--accent-blue)]",Trading:"bg-orange-500/15 text-[var(--accent-orange)]",Demat:"bg-amber-500/15 text-[var(--accent-amber)]","Direct AMC":"bg-emerald-500/15 text-emerald-400",Broker:"bg-rose-500/15 text-[var(--accent-rose)]"};function z3(){const{selectedMember:s,member:l}=Wt(),{investmentAccounts:r,addInvestmentAccount:t,updateInvestmentAccount:o,deleteInvestmentAccount:u}=Ue(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Tn(),{mv:p}=En(),[v,b]=w.useState(null);if(r===null)return a.jsx(cr,{title:"Loading investment accounts",cards:4});const N=w.useMemo(()=>{const D=r.filter(y=>y.status!=="Inactive");return s==="all"?D:D.filter(y=>y.memberId===s)},[r,s]),C=w.useMemo(()=>new Set(N.map(D=>D.platformBroker)).size,[N]),M=N.filter(D=>D.accountType==="Demat + Trading"||D.accountType==="Demat"||D.accountType==="Trading").length,S=N.filter(D=>D.accountType==="Mutual Fund"||D.accountType==="Direct AMC").length;async function g(D){m("Saving...");try{v?.edit?await o(v.edit.accountId,D):await t(D),d(v?.edit?"Investment account updated":"Investment account added"),b(null)}catch(y){d(y.message||"Failed to save investment account","error")}finally{x()}}async function j(){if(v?.edit&&confirm("Deactivate this investment account?")){m("Deactivating...");try{await u(v.edit.accountId),d("Investment account deactivated"),b(null)}catch(D){d(D.message||"Failed to deactivate investment account","error")}finally{x()}}}return a.jsxs("div",{className:"space-y-4",children:[N.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(py,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No investment accounts",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first investment account"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Lc,{label:"Total Accounts",value:N.length}),a.jsx(Lc,{label:"Platforms",value:C}),a.jsx(Lc,{label:"Demat / Trading",value:M}),a.jsx(Lc,{label:"Mutual Fund",value:S})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Sa,{size:14})," Add Account"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[620px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Platform"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Client ID"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Bank"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:N.map(D=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:D.accountName})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:D.platformBroker}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:D.memberName}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${zb[D.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.accountType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:p(D.accountClientId,"clientId")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:D.bankAccountName}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>b({edit:D}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(mn,{size:12})})})]},D.accountId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:N.map(D=>a.jsxs("div",{onClick:()=>b({edit:D}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:D.accountName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${zb[D.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.accountType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[D.platformBroker,l?"":`  ${D.memberName}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Client: ",p(D.accountClientId,"clientId")]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:D.bankAccountName})]})]},D.accountId))})]})]}),a.jsx(Et,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Investment Account":"Add Investment Account",wide:!0,children:a.jsx(P3,{initial:v?.edit||void 0,onSave:g,onDelete:v?.edit?j:void 0,onCancel:()=>b(null)})})]})}function Lc({label:s,value:l}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:l})]})}const F3=["Term Life","Health","Motor","Home Insurance","Travel","Personal Accident","Life Insurance","Others"].map(s=>({value:s,label:s})),B3=[{value:"Active",label:"Active"},{value:"Expired",label:"Expired"},{value:"Surrendered",label:"Surrendered"},{value:"Lapsed",label:"Lapsed"},{value:"Inactive",label:"Inactive"}];function H3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o}=Ue(),u=!!s,[d,m]=w.useState({policyType:s?.policyType||"",company:s?.company||"",policyNumber:s?.policyNumber||"",policyName:s?.policyName||"",insuredMember:s?.insuredMember||"",memberId:s?.memberId||"",sumAssured:s?.sumAssured||"",nominee:s?.nominee||"",premium:s?.premium||"",premiumFrequency:s?.premiumFrequency||"Annual",status:s?.status||"Active",notes:s?.notes||""}),[x,p]=w.useState({}),[v,b]=w.useState(!1);function N(j,D){m(y=>({...y,[j]:D})),p(y=>({...y,[j]:void 0}))}function C(j){const D=o.find(y=>y.memberId===j);m(y=>({...y,memberId:j,insuredMember:D?.memberName||""})),p(y=>({...y,memberId:void 0}))}function M(){const j={};return d.policyType||(j.policyType="Required"),d.company.trim()||(j.company="Required"),d.policyNumber.trim()||(j.policyNumber="Required"),d.policyName.trim()||(j.policyName="Required"),d.memberId||(j.memberId="Required"),(!d.sumAssured||Number(d.sumAssured)<=0)&&(j.sumAssured="Must be > 0"),p(j),Object.keys(j).length===0}async function S(){if(M()){b(!0);try{await l({...d,sumAssured:Number(d.sumAssured),premium:Number(d.premium)||0})}finally{b(!1)}}}const g=o.map(j=>({value:j.memberId,label:`${j.memberName} (${j.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Policy Type",required:!0,error:x.policyType,children:a.jsx(_e,{value:d.policyType,onChange:j=>N("policyType",j),options:F3,placeholder:"Select type..."})}),a.jsx(te,{label:"Insurance Company",required:!0,error:x.company,children:a.jsx(fe,{value:d.company,onChange:j=>N("company",j),placeholder:"e.g., HDFC Life"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Policy Number",required:!0,error:x.policyNumber,children:a.jsx(fe,{sensitive:!0,value:d.policyNumber,onChange:j=>N("policyNumber",j),placeholder:"e.g., HL-2024-78901"})}),a.jsx(te,{label:"Policy Name",required:!0,error:x.policyName,children:a.jsx(fe,{value:d.policyName,onChange:j=>N("policyName",j),placeholder:"e.g., Click 2 Protect Life"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Insured Member",required:!0,error:x.memberId,children:a.jsx(_e,{value:d.memberId,onChange:C,options:g,placeholder:"Select member..."})}),a.jsx(te,{label:"Nominee",children:a.jsx(_e,{value:d.nominee,onChange:j=>N("nominee",j),options:g.map(j=>({...j,label:j.label.split(" (")[0]})),placeholder:"Select nominee (optional)..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(te,{label:"Sum Assured ()",required:!0,error:x.sumAssured,children:a.jsx(fe,{type:"number",value:d.sumAssured,onChange:j=>N("sumAssured",j),placeholder:"e.g., 10000000"})}),a.jsx(te,{label:"Premium ()",children:a.jsx(fe,{type:"number",value:d.premium,onChange:j=>N("premium",j),placeholder:"e.g., 12500"})}),a.jsx(te,{label:"Premium Frequency",children:a.jsx(_e,{value:d.premiumFrequency,onChange:j=>N("premiumFrequency",j),options:[{value:"Annual",label:"Annual"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"}]})})]}),u&&a.jsx(te,{label:"Status",children:a.jsx(_e,{value:d.status,onChange:j=>N("status",j),options:B3})}),a.jsx(te,{label:"Notes",children:a.jsx(Al,{value:d.notes,onChange:j=>N("notes",j),placeholder:"Additional information..."})}),a.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?a.jsx(On,{onClick:r}):a.jsx("div",{}),a.jsx(sa,{onCancel:t,onSubmit:S,submitLabel:u?"Update":"Add Policy",loading:v})]})]})}const Fb={"Term Life":"bg-rose-500/15 text-[var(--accent-rose)]",Health:"bg-emerald-500/15 text-emerald-400",Motor:"bg-blue-500/15 text-[var(--accent-blue)]","Home Insurance":"bg-amber-500/15 text-[var(--accent-amber)]",Travel:"bg-violet-500/15 text-[var(--accent-violet)]","Life Insurance":"bg-rose-500/15 text-[var(--accent-rose)]","Personal Accident":"bg-orange-500/15 text-[var(--accent-orange)]"};function Y3(){const{selectedMember:s,member:l}=Wt(),{insurancePolicies:r,addInsurance:t,updateInsurance:o,deleteInsurance:u}=Ue(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Tn(),{mv:p}=En(),[v,b]=w.useState(null);if(r===null)return a.jsx(cr,{title:"Loading insurance",cards:5});const N=w.useMemo(()=>{const y=r.filter(_=>_.status!=="Inactive");return s==="all"?y:y.filter(_=>_.memberId===s)},[r,s]),C=N.reduce((y,_)=>y+(_.sumAssured||0),0),M=N.reduce((y,_)=>y+(_.premium||0),0),S=N.filter(y=>y.policyType==="Term Life"||y.policyType==="Life Insurance").reduce((y,_)=>y+(_.sumAssured||0),0),g=N.filter(y=>y.policyType==="Health").reduce((y,_)=>y+(_.sumAssured||0),0);async function j(y){m("Saving...");try{v?.edit?await o(v.edit.policyId,y):await t(y),d(v?.edit?"Insurance policy updated":"Insurance policy added"),b(null)}catch(_){d(_.message||"Failed to save insurance policy","error")}finally{x()}}async function D(){if(v?.edit&&confirm("Deactivate this insurance policy?")){m("Deactivating...");try{await u(v.edit.policyId),d("Insurance policy deactivated"),b(null)}catch(y){d(y.message||"Failed to deactivate insurance policy","error")}finally{x()}}}return a.jsxs("div",{className:"space-y-4",children:[N.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx($i,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No insurance policies",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first policy"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(Li,{label:"Policies",value:N.length}),a.jsx(Li,{label:"Total Cover",value:Q(C),bold:!0}),a.jsx(Li,{label:"Life Cover",value:Q(S)}),a.jsx(Li,{label:"Health Cover",value:Q(g)}),a.jsx(Li,{label:"Annual Premium",value:Q(M)})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-3",children:"Coverage Adequacy"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(Bb,{label:"Life Insurance",current:S,recommended:"10-15x annual income",tip:"Term life cover should be 10-15x your annual income to protect dependents",icon:"heart"}),a.jsx(Bb,{label:"Health Insurance",current:g,recommended:"50L - 1Cr family floater",tip:"Considering medical inflation, a 50L-1Cr family floater is recommended",icon:"shield"})]})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Sa,{size:14})," Add Policy"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Policy"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Company"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Insured"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Sum Assured"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Premium"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:N.map(y=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:y.policyName}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:p(y.policyNumber,"policy")})]}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Fb[y.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:y.policyType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:y.company}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:y.insuredMember}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(y.sumAssured)}),a.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:[Q(y.premium),"/",y.premiumFrequency==="Annual"?"yr":"mo"]}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>b({edit:y}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(mn,{size:12})})})]},y.policyId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:N.map(y=>a.jsxs("div",{onClick:()=>b({edit:y}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:y.policyName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${Fb[y.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:y.policyType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[y.company,l?"":`  ${y.insuredMember}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Cover"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(y.sumAssured)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Premium"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[Q(y.premium),"/",y.premiumFrequency==="Annual"?"yr":"mo"]})]})]})]},y.policyId))})]})]}),a.jsx(Et,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Insurance Policy":"Add Insurance Policy",wide:!0,children:a.jsx(H3,{initial:v?.edit||void 0,onSave:j,onDelete:v?.edit?D:void 0,onCancel:()=>b(null)})})]})}function Bb({label:s,current:l,recommended:r,tip:t}){const o=l===0;return a.jsxs("div",{className:`rounded-lg border px-3 py-2.5 ${o?"border-rose-500/30 bg-rose-500/5":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:s}),o?a.jsx("span",{className:"text-xs font-bold text-[var(--accent-rose)]",children:"Not covered"}):a.jsx("span",{className:"text-xs font-semibold text-emerald-400",children:Q(l)})]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Recommended: ",r]}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5 italic",children:t})]})}function Li({label:s,value:l,bold:r}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${r?"font-bold":"font-semibold"} text-[var(--text-primary)]`,children:l})]})}const U3=["Home Loan","Car Loan","Personal Loan","Education Loan","Gold Loan","Credit Card","Business Loan","Loan Against Property","Other"].map(s=>({value:s,label:s})),q3=[{value:"Active",label:"Active"},{value:"Closed",label:"Closed"},{value:"Inactive",label:"Inactive"}];function $3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o}=Ue(),u=!!s,[d,m]=w.useState({liabilityType:s?.liabilityType||"",lenderName:s?.lenderName||"",familyMemberId:s?.familyMemberId||"",outstandingBalance:s?.outstandingBalance||"",emiAmount:s?.emiAmount||"",interestRate:s?.interestRate||"",status:s?.status||"Active",notes:s?.notes||""}),[x,p]=w.useState({}),[v,b]=w.useState(!1);function N(g,j){m(D=>({...D,[g]:j})),p(D=>({...D,[g]:void 0}))}function C(){const g={};return d.liabilityType||(g.liabilityType="Required"),d.lenderName.trim()||(g.lenderName="Required"),(!d.outstandingBalance||Number(d.outstandingBalance)<=0)&&(g.outstandingBalance="Must be > 0"),p(g),Object.keys(g).length===0}async function M(){if(C()){b(!0);try{await l({...d,outstandingBalance:Number(d.outstandingBalance),emiAmount:Number(d.emiAmount)||0,interestRate:Number(d.interestRate)||0})}finally{b(!1)}}}const S=o.map(g=>({value:g.memberId,label:`${g.memberName} (${g.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Liability Type",required:!0,error:x.liabilityType,children:a.jsx(_e,{value:d.liabilityType,onChange:g=>N("liabilityType",g),options:U3,placeholder:"Select type..."})}),a.jsx(te,{label:"Lender / Bank",required:!0,error:x.lenderName,children:a.jsx(fe,{value:d.lenderName,onChange:g=>N("lenderName",g),placeholder:"e.g., HDFC Bank"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Family Member",children:a.jsx(_e,{value:d.familyMemberId,onChange:g=>N("familyMemberId",g),options:S,placeholder:"Select member (optional)..."})}),a.jsx(te,{label:"Outstanding Balance ()",required:!0,error:x.outstandingBalance,children:a.jsx(fe,{type:"number",value:d.outstandingBalance,onChange:g=>N("outstandingBalance",g),placeholder:"e.g., 3500000"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"EMI Amount ()",children:a.jsx(fe,{type:"number",value:d.emiAmount,onChange:g=>N("emiAmount",g),placeholder:"e.g., 32000"})}),a.jsx(te,{label:"Interest Rate (%)",children:a.jsx(fe,{type:"number",value:d.interestRate,onChange:g=>N("interestRate",g),placeholder:"e.g., 8.5",step:"0.01"})})]}),u&&a.jsx(te,{label:"Status",children:a.jsx(_e,{value:d.status,onChange:g=>N("status",g),options:q3})}),a.jsx(te,{label:"Notes",children:a.jsx(Al,{value:d.notes,onChange:g=>N("notes",g),placeholder:"e.g., Flat in Kondapur"})}),a.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?a.jsx(On,{onClick:r}):a.jsx("div",{}),a.jsx(sa,{onCancel:t,onSubmit:M,submitLabel:u?"Update":"Add Liability",loading:v})]})]})}const Hb={"Home Loan":"bg-blue-500/15 text-[var(--accent-blue)]","Car Loan":"bg-amber-500/15 text-[var(--accent-amber)]","Gold Loan":"bg-orange-500/15 text-[var(--accent-orange)]","Personal Loan":"bg-violet-500/15 text-[var(--accent-violet)]","Education Loan":"bg-emerald-500/15 text-emerald-400","Credit Card":"bg-rose-500/15 text-[var(--accent-rose)]"};function V3(){const{selectedMember:s,member:l}=Wt(),{liabilityList:r,addLiability:t,updateLiability:o,deleteLiability:u}=Ue(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Tn(),[p,v]=w.useState(null);if(r===null)return a.jsx(cr,{title:"Loading liabilities",cards:4});const b=w.useMemo(()=>{const j=r.filter(D=>D.status!=="Inactive");return s==="all"?j:j.filter(D=>D.familyMemberId===s)},[r,s]),N=b.reduce((j,D)=>j+(D.outstandingBalance||0),0),C=b.reduce((j,D)=>j+(D.emiAmount||0),0),M=b.filter(j=>j.status==="Active").length;async function S(j){m("Saving...");try{p?.edit?await o(p.edit.liabilityId,j):await t(j),d(p?.edit?"Liability updated":"Liability added"),v(null)}catch(D){d(D.message||"Failed to save liability","error")}finally{x()}}async function g(){if(p?.edit&&confirm("Deactivate this liability?")){m("Deactivating...");try{await u(p.edit.liabilityId),d("Liability deactivated"),v(null)}catch(j){d(j.message||"Failed to deactivate liability","error")}finally{x()}}}return a.jsxs("div",{className:"space-y-4",children:[b.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Gi,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No liabilities",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a liability"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Pc,{label:"Liabilities",value:`${M} active`}),a.jsx(Pc,{label:"Outstanding",value:Q(N),color:"rose",bold:!0}),a.jsx(Pc,{label:"Monthly EMI",value:Q(C),color:"rose"}),a.jsx(Pc,{label:"Avg. Interest",value:b.length>0?`${(b.reduce((j,D)=>j+(D.interestRate||0),0)/b.length).toFixed(1)}%`:""})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Sa,{size:14})," Add Liability"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Lender"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Outstanding"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"EMI"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Interest"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Remaining"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:b.map(j=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Hb[j.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:j.liabilityType}),j.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:j.notes})]}),a.jsx("td",{className:"py-2.5 px-3 text-sm font-medium text-[var(--text-primary)]",children:j.lenderName}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:j.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(j.outstandingBalance)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:j.emiAmount?`${Q(j.emiAmount)}/mo`:""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:j.interestRate?`${j.interestRate}%`:""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:j.emiAmount>0&&j.outstandingBalance>0?`${Math.ceil(j.outstandingBalance/j.emiAmount)} mo`:""}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:j}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(mn,{size:12})})})]},j.liabilityId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(j=>a.jsxs("div",{onClick:()=>v({edit:j}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Hb[j.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:j.liabilityType}),a.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(j.outstandingBalance)})]}),a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:j.lenderName}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[j.familyMemberName,j.notes?`  ${j.notes}`:""]}),a.jsxs("div",{className:"text-right",children:[j.emiAmount>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["EMI: ",Q(j.emiAmount),"/mo"]}),j.emiAmount>0&&j.outstandingBalance>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[Math.ceil(j.outstandingBalance/j.emiAmount)," months left"]})]})]})]},j.liabilityId))})]})]}),a.jsx(Et,{open:!!p,onClose:()=>v(null),title:p?.edit?"Edit Liability":"Add Liability",children:a.jsx($3,{initial:p?.edit||void 0,onSave:S,onDelete:p?.edit?g:void 0,onCancel:()=>v(null)})})]})}function Pc({label:s,value:l,color:r,bold:t}){const o=r==="rose"?"text-[var(--accent-rose)]":"text-[var(--text-primary)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${t?"font-bold":"font-semibold"} ${o}`,children:l})]})}const G3="cf_market_data",y1=[{value:"Fixed Deposit",category:"Debt"},{value:"PPF",category:"Debt"},{value:"EPF",category:"Debt"},{value:"NPS",category:"Debt"},{value:"Sovereign Gold Bond",category:"Gold"},{value:"Physical Gold",category:"Gold"},{value:"Digital Gold",category:"Gold"},{value:"Real Estate",category:"Property"},{value:"Bonds",category:"Debt"},{value:"Physical Silver",category:"Silver"},{value:"Digital Silver",category:"Silver"},{value:"Crypto",category:"Alternative"},{value:"Other",category:"Other"}],Yb={"Real Estate":"Home Loan","Physical Gold":"Gold Loan","Sovereign Gold Bond":"Gold Loan","Fixed Deposit":"Loan Against FD"},Q3=y1.map(s=>({value:s.value,label:s.value})),K3=["Equity","Debt","Gold","Silver","Property","Alternative","Other"].map(s=>({value:s,label:s})),X3=[{value:"Active",label:"Active"},{value:"Sold",label:"Sold"},{value:"Matured",label:"Matured"},{value:"Inactive",label:"Inactive"}],Ub=[{value:"24K",label:"24K (99.9%)",factor:.999},{value:"22K",label:"22K (91.6%)",factor:.916},{value:"18K",label:"18K (75.0%)",factor:.75}],qb=[{value:"999",label:"999 Fine (99.9%)",factor:.999},{value:"925",label:"925 Sterling (92.5%)",factor:.925}];function au(s){return["Physical Gold","Digital Gold","Sovereign Gold Bond"].includes(s)}function W3(s){return["Physical Silver","Digital Silver"].includes(s)||s&&s.toLowerCase().includes("silver")}function wf(s){return au(s)||W3(s)}function Z3(s){try{const l=sessionStorage.getItem(G3);if(!l)return null;const r=JSON.parse(l);if(!r.metals)return null;const t=s==="gold"?"Gold":"Silver",o=r.metals.find(u=>u.name.toLowerCase().includes(t.toLowerCase()));return o?o.price:null}catch{return null}}function J3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,liabilityList:u}=Ue(),d=!!s;function m(I){return y1.find(ue=>ue.value===I)?.category||"Other"}const x=s?.dynamicFields?typeof s.dynamicFields=="string"?JSON.parse(s.dynamicFields):s.dynamicFields:{},[p,v]=w.useState({investmentType:s?.investmentType||"",investmentCategory:s?.investmentCategory||"",investmentName:s?.investmentName||"",familyMemberId:s?.familyMemberId||"",investedAmount:s?.investedAmount||"",currentValue:s?.currentValue||"",linkedLiabilityId:s?.linkedLiabilityId||"",status:s?.status||"Active",notes:s?.notes||""}),[b,N]=w.useState(x.weightGrams||""),[C,M]=w.useState(x.purity||""),[S,g]=w.useState(null),[j,D]=w.useState(!1),[y,_]=w.useState({lenderName:"",outstandingBalance:"",emiAmount:"",interestRate:""});w.useEffect(()=>{if(!wf(p.investmentType)||!b||Number(b)<=0){g(null);return}const I=au(p.investmentType)?"gold":"silver",ue=Z3(I);if(!ue){g(null);return}const F=(I==="gold"?Ub:qb).find(oe=>oe.value===C),ee=F?F.factor:1;g(Math.round(Number(b)*ue*ee))},[p.investmentType,b,C]);const[O,U]=w.useState({}),[G,E]=w.useState(!1);function z(I,ue){v(ve=>({...ve,[I]:ue})),U(ve=>({...ve,[I]:void 0}))}function H(I){v(ue=>({...ue,investmentType:I,investmentCategory:m(I)})),U(ue=>({...ue,investmentType:void 0}))}function W(I,ue){_(ve=>({...ve,[I]:ue}))}function A(){const I={};return p.investmentType||(I.investmentType="Required"),p.investmentName.trim()||(I.investmentName="Required"),(!p.currentValue||Number(p.currentValue)<0)&&(I.currentValue="Required"),j&&(y.lenderName.trim()||(I.qlLender="Required"),(!y.outstandingBalance||Number(y.outstandingBalance)<=0)&&(I.qlOutstanding="Must be > 0")),U(I),Object.keys(I).length===0}async function se(){if(!A())return;const I={...p,investedAmount:Number(p.investedAmount)||0,currentValue:Number(p.currentValue)||0};wf(p.investmentType)&&(I.dynamicFields=JSON.stringify({weightGrams:Number(b)||0,purity:C||""})),j&&y.lenderName&&(I.quickLoan={liabilityType:Yb[p.investmentType]||"Personal Loan",lenderName:y.lenderName,outstandingBalance:Number(y.outstandingBalance)||0,emiAmount:Number(y.emiAmount)||0,interestRate:Number(y.interestRate)||0}),E(!0);try{await l(I)}finally{E(!1)}}const $=u.filter(I=>I.status!=="Inactive"),J=[{value:"",label:"None"},...$.map(I=>({value:I.liabilityId,label:`${I.liabilityType}  ${I.lenderName} (${Q(I.outstandingBalance)})`}))],B=o.map(I=>({value:I.memberId,label:`${I.memberName} (${I.relationship})`})),R=Yb[p.investmentType];return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Investment Type",required:!0,error:O.investmentType,children:a.jsx(_e,{value:p.investmentType,onChange:H,options:Q3,placeholder:"Select type..."})}),a.jsx(te,{label:"Category",children:a.jsx(_e,{value:p.investmentCategory,onChange:I=>z("investmentCategory",I),options:K3,placeholder:"Auto-selected..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Investment Name",required:!0,error:O.investmentName,children:a.jsx(fe,{value:p.investmentName,onChange:I=>z("investmentName",I),placeholder:"e.g., HDFC FD - 7.5%"})}),a.jsx(te,{label:"Family Member",children:a.jsx(_e,{value:p.familyMemberId,onChange:I=>z("familyMemberId",I),options:B,placeholder:"Select member (optional)..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Invested Amount",children:a.jsx(fe,{type:"number",value:p.investedAmount,onChange:I=>z("investedAmount",I),placeholder:"e.g., 500000"})}),a.jsx(te,{label:"Current Value",required:!0,error:O.currentValue,children:a.jsx(fe,{type:"number",value:p.currentValue,onChange:I=>z("currentValue",I),placeholder:"e.g., 537500"})})]}),wf(p.investmentType)&&a.jsxs("div",{className:"p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:[au(p.investmentType)?"Gold":"Silver"," Details"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(te,{label:"Weight (grams)",children:a.jsx(fe,{type:"number",value:b,onChange:N,placeholder:"e.g., 50"})}),a.jsx(te,{label:"Purity",children:a.jsx(_e,{value:C,onChange:M,options:(au(p.investmentType)?Ub:qb).map(I=>({value:I.value,label:I.label})),placeholder:"Select purity..."})})]}),S!==null&&a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-card)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Estimated market value"}),a.jsx("p",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:Q(S)})]}),a.jsx("button",{type:"button",onClick:()=>z("currentValue",String(S)),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 px-3 py-1.5 rounded-lg bg-violet-500/10 border border-violet-500/20 transition-colors",children:"Use this value"})]})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-4",children:[a.jsx(te,{label:"Linked Loan / Liability",children:a.jsx(_e,{value:p.linkedLiabilityId,onChange:I=>{z("linkedLiabilityId",I),I&&D(!1)},options:J})}),!p.linkedLiabilityId&&!d&&a.jsx("div",{className:"mt-2",children:a.jsx("button",{type:"button",onClick:()=>D(!j),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:j?" Cancel quick loan":`+ Create new loan${R?` (${R})`:""}`})}),j&&a.jsxs("div",{className:"mt-3 p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:"Quick Loan"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(te,{label:"Lender",required:!0,error:O.qlLender,children:a.jsx(fe,{value:y.lenderName,onChange:I=>W("lenderName",I),placeholder:"e.g., HDFC Bank"})}),a.jsx(te,{label:"Outstanding Balance",required:!0,error:O.qlOutstanding,children:a.jsx(fe,{type:"number",value:y.outstandingBalance,onChange:I=>W("outstandingBalance",I),placeholder:"e.g., 3500000"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(te,{label:"EMI (monthly)",children:a.jsx(fe,{type:"number",value:y.emiAmount,onChange:I=>W("emiAmount",I),placeholder:"e.g., 32000"})}),a.jsx(te,{label:"Interest Rate %",children:a.jsx(fe,{type:"number",value:y.interestRate,onChange:I=>W("interestRate",I),placeholder:"e.g., 8.5"})})]})]})]}),d&&a.jsx(te,{label:"Status",children:a.jsx(_e,{value:p.status,onChange:I=>z("status",I),options:X3})}),a.jsx(te,{label:"Notes",children:a.jsx(Al,{value:p.notes,onChange:I=>z("notes",I),placeholder:"Additional information..."})}),a.jsxs("div",{className:"flex items-center justify-between",children:[d&&r?a.jsx(On,{onClick:r}):a.jsx("div",{}),a.jsx(sa,{onCancel:t,onSubmit:se,submitLabel:d?"Update":"Add Investment",loading:G})]})]})}const $b={Debt:"bg-blue-500/15 text-[var(--accent-blue)]",Gold:"bg-amber-500/15 text-[var(--accent-amber)]",Property:"bg-orange-500/15 text-[var(--accent-orange)]",Equity:"bg-emerald-500/15 text-emerald-400",Alternative:"bg-violet-500/15 text-[var(--accent-violet)]"};function eA(){const{selectedMember:s,member:l}=Wt(),{otherInvList:r,liabilityList:t,addOtherInvestment:o,updateOtherInvestment:u,deleteOtherInvestment:d}=Ue(),{showToast:m,showBlockUI:x,hideBlockUI:p}=Tn(),[v,b]=w.useState(null);if(r===null)return a.jsx(cr,{title:"Loading investments",cards:5});const N=w.useMemo(()=>{const U=r.filter(G=>G.status!=="Inactive");return s==="all"?U:U.filter(G=>G.familyMemberId===s)},[r,s]),C=N.reduce((U,G)=>U+(G.investedAmount||0),0),M=N.reduce((U,G)=>U+(G.currentValue||0),0),S=M-C,g=S>=0,j=C>0?S/C*100:0,D=w.useMemo(()=>{const U={};return t.forEach(G=>{U[G.liabilityId]=G}),U},[t]),y=N.reduce((U,G)=>{const E=G.linkedLiabilityId?D[G.linkedLiabilityId]:null;return U+(E?.outstandingBalance||0)},0);async function _(U){x("Saving...");try{v?.edit?await u(v.edit.investmentId,U):await o(U),m(v?.edit?"Investment updated":"Investment added"),b(null)}catch(G){m(G.message||"Failed to save investment","error")}finally{p()}}async function O(){if(v?.edit&&confirm("Deactivate this investment?")){x("Deactivating...");try{await d(v.edit.investmentId),m("Investment deactivated"),b(null)}catch(U){m(U.message||"Failed to deactivate investment","error")}finally{p()}}}return a.jsxs("div",{className:"space-y-4",children:[N.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Cy,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No other investments",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add an investment"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(Pi,{label:"Invested",value:Q(C)}),a.jsx(Pi,{label:"Current Value",value:Q(M),bold:!0}),a.jsx(Pi,{label:"P&L",value:`${g?"+":""}${Q(Math.abs(S))}`,sub:`${g?"+":""}${j.toFixed(1)}%`,positive:g,bold:!0}),y>0&&a.jsx(Pi,{label:"Linked Loans",value:Q(y),color:"rose"}),a.jsx(Pi,{label:"Holdings",value:N.length})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Sa,{size:14})," Add Investment"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[720px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Investment"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Category"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Loan"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:N.map(U=>{const G=(U.currentValue||0)-(U.investedAmount||0),E=G>=0,z=U.linkedLiabilityId?D[U.linkedLiabilityId]:null;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:U.investmentName}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:U.investmentType})]}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${$b[U.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:U.investmentCategory})}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:U.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(U.investedAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(U.currentValue)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${E?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[E?"+":"",Q(G)]})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:z?a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(z.outstandingBalance)}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:z.liabilityType})]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>b({edit:U}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(mn,{size:12})})})]},U.investmentId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:N.map(U=>{const G=(U.currentValue||0)-(U.investedAmount||0),E=G>=0,z=U.linkedLiabilityId?D[U.linkedLiabilityId]:null;return a.jsxs("div",{onClick:()=>b({edit:U}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:U.investmentName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${$b[U.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:U.investmentCategory})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[U.familyMemberName,"  ",U.investmentType]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Invested"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:Q(U.investedAmount)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Current"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(U.currentValue)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"P&L"}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${E?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[E?"+":"",Q(G)]})]})]}),z&&a.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-rose-500/5 rounded px-2 py-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:z.liabilityType}),a.jsx("span",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(z.outstandingBalance)})]})]},U.investmentId)})})]})]}),a.jsx(Et,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Investment":"Add Investment",wide:!0,children:a.jsx(J3,{initial:v?.edit||void 0,onSave:_,onDelete:v?.edit?O:void 0,onCancel:()=>b(null)})})]})}function Pi({label:s,value:l,sub:r,positive:t,bold:o,color:u}){const d=u==="rose"?"text-[var(--accent-rose)]":t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-rose)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${d}`,children:l}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function tA({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,activeInvestmentAccounts:u}=Ue(),d=!!s,[m,x]=w.useState({portfolioName:(s?.portfolioName||"").replace(/^PFL-/,""),investmentAccountId:s?.investmentAccountId||"",ownerId:s?.ownerId||"",initialInvestment:s?.initialInvestment||0,sipTarget:s?.sipTarget||"",lumpsumTarget:s?.lumpsumTarget||"",rebalanceThreshold:s?s.rebalanceThreshold*100:5}),[p,v]=w.useState({}),[b,N]=w.useState(!1);function C(y,_){x(O=>({...O,[y]:_})),v(O=>({...O,[y]:void 0}))}function M(y){x(_=>({..._,ownerId:y,investmentAccountId:""})),v(_=>({..._,ownerId:void 0}))}const S=u.filter(y=>m.ownerId?y.memberId===m.ownerId:!0).map(y=>({value:y.accountId,label:`${y.accountName} - ${y.platformBroker}`})),g=o.map(y=>({value:y.memberId,label:`${y.memberName} (${y.relationship})`}));function j(){const y={};return m.portfolioName.trim()||(y.portfolioName="Required"),m.ownerId||(y.ownerId="Required"),m.investmentAccountId||(y.investmentAccountId="Required"),v(y),Object.keys(y).length===0}async function D(){if(j()){N(!0);try{const y=u.find(O=>O.accountId===m.investmentAccountId),_=y?`${y.accountName} - ${y.platformBroker}`:m.investmentAccountId;await l({...m,investmentAccount:_,initialInvestment:Number(m.initialInvestment)||0,sipTarget:Number(m.sipTarget)||0,lumpsumTarget:Number(m.lumpsumTarget)||0,rebalanceThreshold:Number(m.rebalanceThreshold)})}finally{N(!1)}}}return a.jsxs("div",{className:"space-y-4",children:[a.jsx(te,{label:"Portfolio Name",required:!0,error:p.portfolioName,children:a.jsx(fe,{value:m.portfolioName,onChange:y=>C("portfolioName",y),placeholder:"e.g., Long Term Wealth"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Owner",required:!0,error:p.ownerId,children:a.jsx(_e,{value:m.ownerId,onChange:M,options:g,placeholder:"Select member..."})}),a.jsx(te,{label:"Investment Account",required:!0,error:p.investmentAccountId,children:a.jsx(_e,{value:m.investmentAccountId,onChange:y=>C("investmentAccountId",y),options:S,placeholder:m.ownerId?S.length?"Select account...":"No MF accounts":"Select owner first..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(te,{label:"SIP Target (/month)",children:a.jsx(fe,{type:"number",value:m.sipTarget,onChange:y=>C("sipTarget",y),placeholder:"e.g., 50000"})}),a.jsx(te,{label:"Lumpsum Target ()",children:a.jsx(fe,{type:"number",value:m.lumpsumTarget,onChange:y=>C("lumpsumTarget",y),placeholder:"e.g., 200000"})}),a.jsx(te,{label:"Rebalance Threshold (%)",children:a.jsx(fe,{type:"number",value:m.rebalanceThreshold,onChange:y=>C("rebalanceThreshold",y),placeholder:"e.g., 5"})})]}),!d&&a.jsx(te,{label:"Initial Investment ()",children:a.jsx(fe,{type:"number",value:m.initialInvestment,onChange:y=>C("initialInvestment",y),placeholder:"0 if unknown"})}),a.jsxs("div",{className:"flex items-center justify-between",children:[d&&r?a.jsx(On,{onClick:r}):a.jsx("div",{}),a.jsx(sa,{onCancel:t,onSubmit:D,submitLabel:d?"Update":"Create Portfolio",loading:b})]})]})}function ir(s){return Array.isArray?Array.isArray(s):w1(s)==="[object Array]"}function aA(s){if(typeof s=="string")return s;let l=s+"";return l=="0"&&1/s==-1/0?"-0":l}function nA(s){return s==null?"":aA(s)}function kn(s){return typeof s=="string"}function N1(s){return typeof s=="number"}function rA(s){return s===!0||s===!1||sA(s)&&w1(s)=="[object Boolean]"}function j1(s){return typeof s=="object"}function sA(s){return j1(s)&&s!==null}function Ia(s){return s!=null}function Sf(s){return!s.trim().length}function w1(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const lA="Incorrect 'index' type",iA=s=>`Invalid value for key ${s}`,oA=s=>`Pattern length exceeds max of ${s}.`,cA=s=>`Missing ${s} property in key`,uA=s=>`Property 'weight' in key '${s}' must be a positive integer`,Vb=Object.prototype.hasOwnProperty;class dA{constructor(l){this._keys=[],this._keyMap={};let r=0;l.forEach(t=>{let o=S1(t);this._keys.push(o),this._keyMap[o.id]=o,r+=o.weight}),this._keys.forEach(t=>{t.weight/=r})}get(l){return this._keyMap[l]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function S1(s){let l=null,r=null,t=null,o=1,u=null;if(kn(s)||ir(s))t=s,l=Gb(s),r=zf(s);else{if(!Vb.call(s,"name"))throw new Error(cA("name"));const d=s.name;if(t=d,Vb.call(s,"weight")&&(o=s.weight,o<=0))throw new Error(uA(d));l=Gb(d),r=zf(d),u=s.getFn}return{path:l,id:r,weight:o,src:t,getFn:u}}function Gb(s){return ir(s)?s:s.split(".")}function zf(s){return ir(s)?s.join("."):s}function mA(s,l){let r=[],t=!1;const o=(u,d,m)=>{if(Ia(u))if(!d[m])r.push(u);else{let x=d[m];const p=u[x];if(!Ia(p))return;if(m===d.length-1&&(kn(p)||N1(p)||rA(p)))r.push(nA(p));else if(ir(p)){t=!0;for(let v=0,b=p.length;v<b;v+=1)o(p[v],d,m+1)}else d.length&&o(p,d,m+1)}};return o(s,kn(l)?l.split("."):l,0),t?r:r[0]}const fA={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},pA={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,l)=>s.score===l.score?s.idx<l.idx?-1:1:s.score<l.score?-1:1},xA={location:0,threshold:.6,distance:100},hA={useExtendedSearch:!1,getFn:mA,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Ee={...pA,...fA,...xA,...hA};const vA=/[^ ]+/g;function bA(s=1,l=3){const r=new Map,t=Math.pow(10,l);return{get(o){const u=o.match(vA).length;if(r.has(u))return r.get(u);const d=1/Math.pow(u,.5*s),m=parseFloat(Math.round(d*t)/t);return r.set(u,m),m},clear(){r.clear()}}}class gp{constructor({getFn:l=Ee.getFn,fieldNormWeight:r=Ee.fieldNormWeight}={}){this.norm=bA(r,3),this.getFn=l,this.isCreated=!1,this.setIndexRecords()}setSources(l=[]){this.docs=l}setIndexRecords(l=[]){this.records=l}setKeys(l=[]){this.keys=l,this._keysMap={},l.forEach((r,t)=>{this._keysMap[r.id]=t})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,kn(this.docs[0])?this.docs.forEach((l,r)=>{this._addString(l,r)}):this.docs.forEach((l,r)=>{this._addObject(l,r)}),this.norm.clear())}add(l){const r=this.size();kn(l)?this._addString(l,r):this._addObject(l,r)}removeAt(l){this.records.splice(l,1);for(let r=l,t=this.size();r<t;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(l,r){return l[this._keysMap[r]]}size(){return this.records.length}_addString(l,r){if(!Ia(l)||Sf(l))return;let t={v:l,i:r,n:this.norm.get(l)};this.records.push(t)}_addObject(l,r){let t={i:r,$:{}};this.keys.forEach((o,u)=>{let d=o.getFn?o.getFn(l):this.getFn(l,o.path);if(Ia(d)){if(ir(d)){let m=[];const x=[{nestedArrIndex:-1,value:d}];for(;x.length;){const{nestedArrIndex:p,value:v}=x.pop();if(Ia(v))if(kn(v)&&!Sf(v)){let b={v,i:p,n:this.norm.get(v)};m.push(b)}else ir(v)&&v.forEach((b,N)=>{x.push({nestedArrIndex:N,value:b})})}t.$[u]=m}else if(kn(d)&&!Sf(d)){let m={v:d,n:this.norm.get(d)};t.$[u]=m}}}),this.records.push(t)}toJSON(){return{keys:this.keys,records:this.records}}}function C1(s,l,{getFn:r=Ee.getFn,fieldNormWeight:t=Ee.fieldNormWeight}={}){const o=new gp({getFn:r,fieldNormWeight:t});return o.setKeys(s.map(S1)),o.setSources(l),o.create(),o}function gA(s,{getFn:l=Ee.getFn,fieldNormWeight:r=Ee.fieldNormWeight}={}){const{keys:t,records:o}=s,u=new gp({getFn:l,fieldNormWeight:r});return u.setKeys(t),u.setIndexRecords(o),u}function zc(s,{errors:l=0,currentLocation:r=0,expectedLocation:t=0,distance:o=Ee.distance,ignoreLocation:u=Ee.ignoreLocation}={}){const d=l/s.length;if(u)return d;const m=Math.abs(t-r);return o?d+m/o:m?1:d}function yA(s=[],l=Ee.minMatchCharLength){let r=[],t=-1,o=-1,u=0;for(let d=s.length;u<d;u+=1){let m=s[u];m&&t===-1?t=u:!m&&t!==-1&&(o=u-1,o-t+1>=l&&r.push([t,o]),t=-1)}return s[u-1]&&u-t>=l&&r.push([t,u-1]),r}const vs=32;function NA(s,l,r,{location:t=Ee.location,distance:o=Ee.distance,threshold:u=Ee.threshold,findAllMatches:d=Ee.findAllMatches,minMatchCharLength:m=Ee.minMatchCharLength,includeMatches:x=Ee.includeMatches,ignoreLocation:p=Ee.ignoreLocation}={}){if(l.length>vs)throw new Error(oA(vs));const v=l.length,b=s.length,N=Math.max(0,Math.min(t,b));let C=u,M=N;const S=m>1||x,g=S?Array(b):[];let j;for(;(j=s.indexOf(l,M))>-1;){let G=zc(l,{currentLocation:j,expectedLocation:N,distance:o,ignoreLocation:p});if(C=Math.min(G,C),M=j+v,S){let E=0;for(;E<v;)g[j+E]=1,E+=1}}M=-1;let D=[],y=1,_=v+b;const O=1<<v-1;for(let G=0;G<v;G+=1){let E=0,z=_;for(;E<z;)zc(l,{errors:G,currentLocation:N+z,expectedLocation:N,distance:o,ignoreLocation:p})<=C?E=z:_=z,z=Math.floor((_-E)/2+E);_=z;let H=Math.max(1,N-z+1),W=d?b:Math.min(N+z,b)+v,A=Array(W+2);A[W+1]=(1<<G)-1;for(let $=W;$>=H;$-=1){let J=$-1,B=r[s.charAt(J)];if(S&&(g[J]=+!!B),A[$]=(A[$+1]<<1|1)&B,G&&(A[$]|=(D[$+1]|D[$])<<1|1|D[$+1]),A[$]&O&&(y=zc(l,{errors:G,currentLocation:J,expectedLocation:N,distance:o,ignoreLocation:p}),y<=C)){if(C=y,M=J,M<=N)break;H=Math.max(1,2*N-M)}}if(zc(l,{errors:G+1,currentLocation:N,expectedLocation:N,distance:o,ignoreLocation:p})>C)break;D=A}const U={isMatch:M>=0,score:Math.max(.001,y)};if(S){const G=yA(g,m);G.length?x&&(U.indices=G):U.isMatch=!1}return U}function jA(s){let l={};for(let r=0,t=s.length;r<t;r+=1){const o=s.charAt(r);l[o]=(l[o]||0)|1<<t-r-1}return l}const wu=String.prototype.normalize?(s=>s.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(s=>s);class k1{constructor(l,{location:r=Ee.location,threshold:t=Ee.threshold,distance:o=Ee.distance,includeMatches:u=Ee.includeMatches,findAllMatches:d=Ee.findAllMatches,minMatchCharLength:m=Ee.minMatchCharLength,isCaseSensitive:x=Ee.isCaseSensitive,ignoreDiacritics:p=Ee.ignoreDiacritics,ignoreLocation:v=Ee.ignoreLocation}={}){if(this.options={location:r,threshold:t,distance:o,includeMatches:u,findAllMatches:d,minMatchCharLength:m,isCaseSensitive:x,ignoreDiacritics:p,ignoreLocation:v},l=x?l:l.toLowerCase(),l=p?wu(l):l,this.pattern=l,this.chunks=[],!this.pattern.length)return;const b=(C,M)=>{this.chunks.push({pattern:C,alphabet:jA(C),startIndex:M})},N=this.pattern.length;if(N>vs){let C=0;const M=N%vs,S=N-M;for(;C<S;)b(this.pattern.substr(C,vs),C),C+=vs;if(M){const g=N-vs;b(this.pattern.substr(g),g)}}else b(this.pattern,0)}searchIn(l){const{isCaseSensitive:r,ignoreDiacritics:t,includeMatches:o}=this.options;if(l=r?l:l.toLowerCase(),l=t?wu(l):l,this.pattern===l){let S={isMatch:!0,score:0};return o&&(S.indices=[[0,l.length-1]]),S}const{location:u,distance:d,threshold:m,findAllMatches:x,minMatchCharLength:p,ignoreLocation:v}=this.options;let b=[],N=0,C=!1;this.chunks.forEach(({pattern:S,alphabet:g,startIndex:j})=>{const{isMatch:D,score:y,indices:_}=NA(l,S,g,{location:u+j,distance:d,threshold:m,findAllMatches:x,minMatchCharLength:p,includeMatches:o,ignoreLocation:v});D&&(C=!0),N+=y,D&&_&&(b=[...b,..._])});let M={isMatch:C,score:C?N/this.chunks.length:1};return C&&o&&(M.indices=b),M}}class Ur{constructor(l){this.pattern=l}static isMultiMatch(l){return Qb(l,this.multiRegex)}static isSingleMatch(l){return Qb(l,this.singleRegex)}search(){}}function Qb(s,l){const r=s.match(l);return r?r[1]:null}class wA extends Ur{constructor(l){super(l)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(l){const r=l===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class SA extends Ur{constructor(l){super(l)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(l){const t=l.indexOf(this.pattern)===-1;return{isMatch:t,score:t?0:1,indices:[0,l.length-1]}}}class CA extends Ur{constructor(l){super(l)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(l){const r=l.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class kA extends Ur{constructor(l){super(l)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(l){const r=!l.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,l.length-1]}}}class DA extends Ur{constructor(l){super(l)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(l){const r=l.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[l.length-this.pattern.length,l.length-1]}}}class MA extends Ur{constructor(l){super(l)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(l){const r=!l.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,l.length-1]}}}class D1 extends Ur{constructor(l,{location:r=Ee.location,threshold:t=Ee.threshold,distance:o=Ee.distance,includeMatches:u=Ee.includeMatches,findAllMatches:d=Ee.findAllMatches,minMatchCharLength:m=Ee.minMatchCharLength,isCaseSensitive:x=Ee.isCaseSensitive,ignoreDiacritics:p=Ee.ignoreDiacritics,ignoreLocation:v=Ee.ignoreLocation}={}){super(l),this._bitapSearch=new k1(l,{location:r,threshold:t,distance:o,includeMatches:u,findAllMatches:d,minMatchCharLength:m,isCaseSensitive:x,ignoreDiacritics:p,ignoreLocation:v})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(l){return this._bitapSearch.searchIn(l)}}class M1 extends Ur{constructor(l){super(l)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(l){let r=0,t;const o=[],u=this.pattern.length;for(;(t=l.indexOf(this.pattern,r))>-1;)r=t+u,o.push([t,r-1]);const d=!!o.length;return{isMatch:d,score:d?0:1,indices:o}}}const Ff=[wA,M1,CA,kA,MA,DA,SA,D1],Kb=Ff.length,AA=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,TA="|";function EA(s,l={}){return s.split(TA).map(r=>{let t=r.trim().split(AA).filter(u=>u&&!!u.trim()),o=[];for(let u=0,d=t.length;u<d;u+=1){const m=t[u];let x=!1,p=-1;for(;!x&&++p<Kb;){const v=Ff[p];let b=v.isMultiMatch(m);b&&(o.push(new v(b,l)),x=!0)}if(!x)for(p=-1;++p<Kb;){const v=Ff[p];let b=v.isSingleMatch(m);if(b){o.push(new v(b,l));break}}}return o})}const _A=new Set([D1.type,M1.type]);class OA{constructor(l,{isCaseSensitive:r=Ee.isCaseSensitive,ignoreDiacritics:t=Ee.ignoreDiacritics,includeMatches:o=Ee.includeMatches,minMatchCharLength:u=Ee.minMatchCharLength,ignoreLocation:d=Ee.ignoreLocation,findAllMatches:m=Ee.findAllMatches,location:x=Ee.location,threshold:p=Ee.threshold,distance:v=Ee.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:t,includeMatches:o,minMatchCharLength:u,findAllMatches:m,ignoreLocation:d,location:x,threshold:p,distance:v},l=r?l:l.toLowerCase(),l=t?wu(l):l,this.pattern=l,this.query=EA(this.pattern,this.options)}static condition(l,r){return r.useExtendedSearch}searchIn(l){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:t,isCaseSensitive:o,ignoreDiacritics:u}=this.options;l=o?l:l.toLowerCase(),l=u?wu(l):l;let d=0,m=[],x=0;for(let p=0,v=r.length;p<v;p+=1){const b=r[p];m.length=0,d=0;for(let N=0,C=b.length;N<C;N+=1){const M=b[N],{isMatch:S,indices:g,score:j}=M.search(l);if(S){if(d+=1,x+=j,t){const D=M.constructor.type;_A.has(D)?m=[...m,...g]:m.push(g)}}else{x=0,d=0,m.length=0;break}}if(d){let N={isMatch:!0,score:x/d};return t&&(N.indices=m),N}}return{isMatch:!1,score:1}}}const Bf=[];function RA(...s){Bf.push(...s)}function Hf(s,l){for(let r=0,t=Bf.length;r<t;r+=1){let o=Bf[r];if(o.condition(s,l))return new o(s,l)}return new k1(s,l)}const Su={AND:"$and",OR:"$or"},Yf={PATH:"$path",PATTERN:"$val"},Uf=s=>!!(s[Su.AND]||s[Su.OR]),IA=s=>!!s[Yf.PATH],LA=s=>!ir(s)&&j1(s)&&!Uf(s),Xb=s=>({[Su.AND]:Object.keys(s).map(l=>({[l]:s[l]}))});function A1(s,l,{auto:r=!0}={}){const t=o=>{let u=Object.keys(o);const d=IA(o);if(!d&&u.length>1&&!Uf(o))return t(Xb(o));if(LA(o)){const x=d?o[Yf.PATH]:u[0],p=d?o[Yf.PATTERN]:o[x];if(!kn(p))throw new Error(iA(x));const v={keyId:zf(x),pattern:p};return r&&(v.searcher=Hf(p,l)),v}let m={children:[],operator:u[0]};return u.forEach(x=>{const p=o[x];ir(p)&&p.forEach(v=>{m.children.push(t(v))})}),m};return Uf(s)||(s=Xb(s)),t(s)}function PA(s,{ignoreFieldNorm:l=Ee.ignoreFieldNorm}){s.forEach(r=>{let t=1;r.matches.forEach(({key:o,norm:u,score:d})=>{const m=o?o.weight:null;t*=Math.pow(d===0&&m?Number.EPSILON:d,(m||1)*(l?1:u))}),r.score=t})}function zA(s,l){const r=s.matches;l.matches=[],Ia(r)&&r.forEach(t=>{if(!Ia(t.indices)||!t.indices.length)return;const{indices:o,value:u}=t;let d={indices:o,value:u};t.key&&(d.key=t.key.src),t.idx>-1&&(d.refIndex=t.idx),l.matches.push(d)})}function FA(s,l){l.score=s.score}function BA(s,l,{includeMatches:r=Ee.includeMatches,includeScore:t=Ee.includeScore}={}){const o=[];return r&&o.push(zA),t&&o.push(FA),s.map(u=>{const{idx:d}=u,m={item:l[d],refIndex:d};return o.length&&o.forEach(x=>{x(u,m)}),m})}class Ll{constructor(l,r={},t){this.options={...Ee,...r},this.options.useExtendedSearch,this._keyStore=new dA(this.options.keys),this.setCollection(l,t)}setCollection(l,r){if(this._docs=l,r&&!(r instanceof gp))throw new Error(lA);this._myIndex=r||C1(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(l){Ia(l)&&(this._docs.push(l),this._myIndex.add(l))}remove(l=()=>!1){const r=[];for(let t=0,o=this._docs.length;t<o;t+=1){const u=this._docs[t];l(u,t)&&(this.removeAt(t),t-=1,o-=1,r.push(u))}return r}removeAt(l){this._docs.splice(l,1),this._myIndex.removeAt(l)}getIndex(){return this._myIndex}search(l,{limit:r=-1}={}){const{includeMatches:t,includeScore:o,shouldSort:u,sortFn:d,ignoreFieldNorm:m}=this.options;let x=kn(l)?kn(this._docs[0])?this._searchStringList(l):this._searchObjectList(l):this._searchLogical(l);return PA(x,{ignoreFieldNorm:m}),u&&x.sort(d),N1(r)&&r>-1&&(x=x.slice(0,r)),BA(x,this._docs,{includeMatches:t,includeScore:o})}_searchStringList(l){const r=Hf(l,this.options),{records:t}=this._myIndex,o=[];return t.forEach(({v:u,i:d,n:m})=>{if(!Ia(u))return;const{isMatch:x,score:p,indices:v}=r.searchIn(u);x&&o.push({item:u,idx:d,matches:[{score:p,value:u,norm:m,indices:v}]})}),o}_searchLogical(l){const r=A1(l,this.options),t=(m,x,p)=>{if(!m.children){const{keyId:b,searcher:N}=m,C=this._findMatches({key:this._keyStore.get(b),value:this._myIndex.getValueForItemAtKeyId(x,b),searcher:N});return C&&C.length?[{idx:p,item:x,matches:C}]:[]}const v=[];for(let b=0,N=m.children.length;b<N;b+=1){const C=m.children[b],M=t(C,x,p);if(M.length)v.push(...M);else if(m.operator===Su.AND)return[]}return v},o=this._myIndex.records,u={},d=[];return o.forEach(({$:m,i:x})=>{if(Ia(m)){let p=t(r,m,x);p.length&&(u[x]||(u[x]={idx:x,item:m,matches:[]},d.push(u[x])),p.forEach(({matches:v})=>{u[x].matches.push(...v)}))}}),d}_searchObjectList(l){const r=Hf(l,this.options),{keys:t,records:o}=this._myIndex,u=[];return o.forEach(({$:d,i:m})=>{if(!Ia(d))return;let x=[];t.forEach((p,v)=>{x.push(...this._findMatches({key:p,value:d[v],searcher:r}))}),x.length&&u.push({idx:m,item:d,matches:x})}),u}_findMatches({key:l,value:r,searcher:t}){if(!Ia(r))return[];let o=[];if(ir(r))r.forEach(({v:u,i:d,n:m})=>{if(!Ia(u))return;const{isMatch:x,score:p,indices:v}=t.searchIn(u);x&&o.push({score:p,key:l,value:u,idx:d,norm:m,indices:v})});else{const{v:u,n:d}=r,{isMatch:m,score:x,indices:p}=t.searchIn(u);m&&o.push({score:x,key:l,value:u,norm:d,indices:p})}return o}}Ll.version="7.1.0";Ll.createIndex=C1;Ll.parseIndex=gA;Ll.config=Ee;Ll.parseQuery=A1;RA(OA);let sn=null,zi=null;function HA(s){if(!s)return!1;const l=new Date(s),r=new Date;return l.getFullYear()===r.getFullYear()&&l.getMonth()===r.getMonth()&&l.getDate()===r.getDate()}function YA(){return sn?Promise.resolve(sn):zi||(zi=dS("fundsList").then(s=>s&&Array.isArray(s.data)&&HA(s.updatedAt)?(sn=s.data,sn):H2().then(l=>(sn=Array.isArray(l)?l:[],ga("fundsList",sn),sn))).catch(()=>(zi=null,[])),zi)}function yp({value:s,onSelect:l,placeholder:r,disabled:t}){const[o,u]=w.useState(""),[d,m]=w.useState(sn||[]),[x,p]=w.useState(!sn),[v,b]=w.useState(!1),N=w.useRef(null);w.useEffect(()=>{if(sn){m(sn),p(!1);return}YA().then(D=>{m(D),p(!1)})},[]),w.useEffect(()=>{function D(y){N.current&&!N.current.contains(y.target)&&b(!1)}return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const C=w.useMemo(()=>d.length?new Ll(d,{keys:["fundName"],threshold:.3,distance:50,minMatchCharLength:2,includeScore:!0,ignoreLocation:!1,findAllMatches:!0}):null,[d]),M=w.useMemo(()=>!C||o.length<2?[]:C.search(o).slice(0,50).map(D=>D.item),[C,o]);function S(D){u(D),b(D.length>=2)}function g(D){l({schemeCode:D.fundCode||D.schemeCode,fundName:D.fundName,nav:D.nav,navDate:D.navDate}),u(""),b(!1)}function j(){l({schemeCode:"",fundName:"",nav:0,navDate:""}),u("")}return s?.fundName?a.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate",children:s.fundName}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s.schemeCode}),s.nav>0&&a.jsxs("span",{className:"text-xs font-medium text-emerald-400",children:["NAV: ",s.nav.toFixed(2),s.navDate?` (${s.navDate})`:""]})]})]}),a.jsx("button",{type:"button",onClick:j,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:a.jsx(eo,{size:14})})]}):a.jsxs("div",{ref:N,className:"relative",children:[a.jsxs("div",{className:"relative",children:[x?a.jsx(jy,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400 animate-spin"}):a.jsx(WC,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),a.jsx("input",{type:"text",value:o,onChange:D=>S(D.target.value),onFocus:()=>o.length>=2&&b(!0),placeholder:x?"Loading funds...":r||"Search fund name...",disabled:t||x,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),v&&M.length>0&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:M.map(D=>a.jsxs("button",{type:"button",onClick:()=>g(D),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:D.fundName}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:D.fundCode||D.schemeCode}),D.nav>0&&a.jsxs("span",{className:"text-xs text-emerald-400 tabular-nums",children:["NAV: ",D.nav.toFixed(2),D.navDate?` (${D.navDate})`:""]})]})]},D.fundCode||D.schemeCode))}),v&&o.length>=2&&M.length===0&&!x&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No funds found for "',o,'"']})})]})}const UA=[{value:"INITIAL",label:"Add Existing Holdings"},{value:"SIP",label:"SIP Investment"},{value:"LUMPSUM",label:"Lumpsum Investment"}];function qA({portfolioId:s,fundCode:l,fundName:r,transactionType:t,onSave:o,onCancel:u}){const{mfPortfolios:d,mfHoldings:m}=Ue(),{selectedMember:x}=Wt(),p=w.useMemo(()=>{const A=d.filter(se=>se.status==="Active");return x==="all"?A:A.filter(se=>se.ownerId===x)},[d,x]),[v,b]=w.useState({portfolioId:s||"",fundCode:l||"",fundName:r||"",nav:0,navDate:"",transactionType:t||"SIP",date:new Date().toISOString().split("T")[0],units:"",price:"",notes:""}),[N,C]=w.useState({}),[M,S]=w.useState(!1),[g,j]=w.useState(!l);function D(A,se){b($=>({...$,[A]:se})),C($=>({...$,[A]:void 0}))}function y({schemeCode:A,fundName:se,nav:$,navDate:J}){b(B=>({...B,fundCode:A,fundName:se,nav:$||0,navDate:J||"",price:$>0?String($):B.price})),C(B=>({...B,fundCode:void 0,fundName:void 0})),j(!1)}function _(A){b(se=>({...se,fundCode:A.schemeCode,fundName:A.fundName,nav:A.currentNav||0,navDate:"",price:A.currentNav>0?String(A.currentNav):se.price})),C(se=>({...se,fundCode:void 0})),j(!1)}const O=w.useMemo(()=>v.portfolioId?m.filter(A=>A.portfolioId===v.portfolioId).sort((A,se)=>se.currentValue-A.currentValue):[],[m,v.portfolioId]),U=w.useMemo(()=>!v.portfolioId||!v.fundCode?null:m.find(A=>A.portfolioId===v.portfolioId&&A.schemeCode===v.fundCode),[m,v.portfolioId,v.fundCode]),G=v.fundCode&&!U,E=w.useMemo(()=>(Number(v.units)||0)*(Number(v.price)||0),[v.units,v.price]);function z(){const A={};return v.portfolioId||(A.portfolioId="Required"),v.fundCode||(A.fundCode="Select a fund"),v.date||(A.date="Required"),(!v.units||Number(v.units)<=0)&&(A.units="Must be > 0"),(!v.price||Number(v.price)<=0)&&(A.price="Must be > 0"),C(A),Object.keys(A).length===0}async function H(){if(z()){S(!0);try{await o({portfolioId:v.portfolioId,fundCode:v.fundCode,fundName:v.fundName,transactionType:v.transactionType,purchaseDate:v.date,units:v.units,avgPrice:v.price,notes:v.notes})}finally{S(!1)}}}const W=p.map(A=>({value:A.portfolioId,label:`${A.portfolioName} (${A.ownerName})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Portfolio",required:!0,error:N.portfolioId,children:a.jsx(_e,{value:v.portfolioId,onChange:A=>{D("portfolioId",A),l||(D("fundCode",""),D("fundName",""),j(!1))},options:W,placeholder:"Select portfolio..."})}),a.jsx(te,{label:"Transaction Type",required:!0,children:a.jsx(_e,{value:v.transactionType,onChange:A=>D("transactionType",A),options:UA})})]}),a.jsx(te,{label:"Fund",required:!0,error:N.fundCode,children:v.fundCode&&!g?a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:v.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[v.fundCode,v.nav>0&&a.jsxs("span",{className:"ml-2 text-emerald-400",children:["NAV: ",v.nav.toFixed(2)]})]})]}),a.jsx("button",{type:"button",onClick:()=>{D("fundCode",""),D("fundName",""),j(!0)},className:"text-xs text-[var(--text-muted)] hover:text-[var(--text-primary)] underline shrink-0",children:"Change"})]}):a.jsxs("div",{className:"space-y-2",children:[O.length>0&&a.jsxs("select",{value:"",onChange:A=>{const se=O.find($=>$.schemeCode===A.target.value);se&&_(se)},className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg",children:[a.jsx("option",{value:"",disabled:!0,children:"Select from portfolio funds..."}),O.map(A=>a.jsxs("option",{value:A.schemeCode,children:[A.fundName,A.units>0?`  ${A.units.toFixed(0)} units  ${Q(A.currentValue)}`:" (Planned)"]},A.holdingId))]}),a.jsxs("div",{children:[O.length>0&&a.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-muted)] mb-1 flex items-center gap-1",children:[a.jsx(Sa,{size:10})," Add New Fund"]}),a.jsx(yp,{value:null,onSelect:y,placeholder:"Search fund by name, code, or category..."})]})]})}),U&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  will average out"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:U.units.toFixed(2)})," units @ ",U.avgNav.toFixed(2)," avg NAV | Value: ",Q(U.currentValue),U.targetAllocationPct>0&&a.jsxs("span",{children:["  Target: ",U.targetAllocationPct.toFixed(1),"%"]})]})]}),G&&a.jsxs("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:[a.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"}),a.jsx("p",{className:"text-xs text-violet-300/70 mt-0.5",children:"Use Allocations to plan how much to invest before buying"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(te,{label:"Date",required:!0,error:N.date,children:a.jsx(v1,{value:v.date,onChange:A=>D("date",A)})}),a.jsx(te,{label:"Units",required:!0,error:N.units,children:a.jsx(fe,{type:"number",value:v.units,onChange:A=>D("units",A),placeholder:"e.g., 150.50"})}),a.jsx(te,{label:"NAV ()",required:!0,error:N.price,children:a.jsx(fe,{type:"number",value:v.price,onChange:A=>D("price",A),placeholder:"e.g., 178.45"})})]}),E>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(E)}),U&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:["New avg NAV: ",((U.investment+E)/(U.units+Number(v.units))).toFixed(2)," Total units: ",(U.units+Number(v.units)).toFixed(2)]})]}),a.jsx(te,{label:"Notes",children:a.jsx(fe,{value:v.notes,onChange:A=>D("notes",A),placeholder:"Optional notes..."})}),a.jsx(sa,{onCancel:u,onSubmit:H,submitLabel:v.transactionType==="SIP"?"Record SIP":v.transactionType==="LUMPSUM"?"Record Lumpsum":"Add Holdings",loading:M})]})}function $A({portfolioId:s,onSave:l,onCancel:r}){const{mfPortfolios:t,mfHoldings:o}=Ue(),{selectedMember:u}=Wt(),d=w.useMemo(()=>{const E=t.filter(z=>z.status==="Active");return u==="all"?E:E.filter(z=>z.ownerId===u)},[t,u]),[m,x]=w.useState({portfolioId:s||"",fundCode:"",fundName:"",date:new Date().toISOString().split("T")[0],units:"",price:"",notes:""}),[p,v]=w.useState({}),[b,N]=w.useState(!1);function C(E,z){x(H=>({...H,[E]:z})),v(H=>({...H,[E]:void 0}))}const M=w.useMemo(()=>m.portfolioId?o.filter(E=>E.portfolioId===m.portfolioId&&E.units>0):[],[o,m.portfolioId]),S=M.find(E=>E.schemeCode===m.fundCode);function g(E){const z=M.find(H=>H.schemeCode===E);x(H=>({...H,fundCode:E,fundName:z?.fundName||"",price:z?.currentNav?.toString()||""})),v(H=>({...H,fundCode:void 0}))}function j(E){x(z=>({...z,portfolioId:E,fundCode:"",fundName:"",units:"",price:""})),v(z=>({...z,portfolioId:void 0}))}const D=w.useMemo(()=>(Number(m.units)||0)*(Number(m.price)||0),[m.units,m.price]),y=S?D-Number(m.units)*S.avgNav:0;function _(){const E={};return m.portfolioId||(E.portfolioId="Required"),m.fundCode||(E.fundCode="Required"),m.date||(E.date="Required"),(!m.units||Number(m.units)<=0)&&(E.units="Must be > 0"),S&&Number(m.units)>S.units&&(E.units=`Max ${S.units.toFixed(2)} units`),(!m.price||Number(m.price)<=0)&&(E.price="Must be > 0"),v(E),Object.keys(E).length===0}async function O(){if(_()){N(!0);try{await l(m)}finally{N(!1)}}}const U=d.map(E=>({value:E.portfolioId,label:`${E.portfolioName} (${E.ownerName})`})),G=M.map(E=>({value:E.schemeCode,label:`${E.fundName}`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(te,{label:"Portfolio",required:!0,error:p.portfolioId,children:a.jsx(_e,{value:m.portfolioId,onChange:j,options:U,placeholder:"Select portfolio..."})}),a.jsx(te,{label:"Fund to Redeem",required:!0,error:p.fundCode,children:a.jsx(_e,{value:m.fundCode,onChange:g,options:G,placeholder:m.portfolioId?M.length?"Select fund...":"No holdings":"Select portfolio first..."})}),S&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:S.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:S.units.toFixed(2)})," units @ ",S.avgNav.toFixed(2)," avg | Current NAV: ",S.currentNav.toFixed(2)]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(te,{label:"Date",required:!0,error:p.date,children:a.jsx(v1,{value:m.date,onChange:E=>C("date",E)})}),a.jsx(te,{label:"Units",required:!0,error:p.units,children:a.jsx(fe,{type:"number",value:m.units,onChange:E=>C("units",E),placeholder:S?`Max: ${S.units.toFixed(2)}`:""})}),a.jsx(te,{label:"NAV ()",required:!0,error:p.price,children:a.jsx(fe,{type:"number",value:m.price,onChange:E=>C("price",E),placeholder:"e.g., 178.45"})})]}),D>0&&a.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Redemption Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(D)})]}),S&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),a.jsxs("p",{className:`text-sm font-bold tabular-nums ${y>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[y>=0?"+":"",Q(y)]})]})]})}),a.jsx(te,{label:"Notes",children:a.jsx(fe,{value:m.notes,onChange:E=>C("notes",E),placeholder:"Optional notes..."})}),a.jsx(sa,{onCancel:r,onSubmit:O,submitLabel:"Redeem",loading:b})]})}function VA({portfolioId:s,onSave:l,onCancel:r}){const{mfPortfolios:t,mfHoldings:o}=Ue(),{selectedMember:u}=Wt(),d=w.useMemo(()=>{const A=t.filter(se=>se.status==="Active");return u==="all"?A:A.filter(se=>se.ownerId===u)},[t,u]),[m,x]=w.useState({portfolioId:s||"",fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",date:new Date().toISOString().split("T")[0],units:"",fromPrice:"",toPrice:"",targetAllocation:"",notes:""}),[p,v]=w.useState({}),[b,N]=w.useState(!1);function C(A,se){x($=>({...$,[A]:se})),v($=>({...$,[A]:void 0}))}function M(A){x(se=>({...se,portfolioId:A,fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",units:"",fromPrice:"",toPrice:"",targetAllocation:""})),v(se=>({...se,portfolioId:void 0}))}const S=w.useMemo(()=>m.portfolioId?o.filter(A=>A.portfolioId===m.portfolioId&&A.units>0):[],[o,m.portfolioId]),g=S.find(A=>A.schemeCode===m.fromFundCode),j=w.useMemo(()=>!m.portfolioId||!m.toFundCode?null:o.find(A=>A.portfolioId===m.portfolioId&&A.schemeCode===m.toFundCode),[o,m.portfolioId,m.toFundCode]),D=m.toFundCode&&!j;function y(A){const se=S.find($=>$.schemeCode===A);x($=>({...$,fromFundCode:A,fromFundName:se?.fundName||"",fromPrice:se?.currentNav?.toString()||""})),v($=>({...$,fromFundCode:void 0}))}function _({schemeCode:A,fundName:se}){const $=o.find(J=>J.portfolioId===m.portfolioId&&J.schemeCode===A);x(J=>({...J,toFundCode:A,toFundName:se,toPrice:$?.currentNav?.toString()||J.toPrice,targetAllocation:""})),v(J=>({...J,toFundCode:void 0}))}const O=w.useMemo(()=>(Number(m.units)||0)*(Number(m.fromPrice)||0),[m.units,m.fromPrice]),U=O>0&&Number(m.toPrice)>0?O/Number(m.toPrice):0,G=g?O-Number(m.units)*g.avgNav:0;function E(){const A={};return m.portfolioId||(A.portfolioId="Required"),m.fromFundCode||(A.fromFundCode="Required"),m.toFundCode||(A.toFundCode="Required"),m.fromFundCode&&m.toFundCode&&m.fromFundCode===m.toFundCode&&(A.toFundCode="Must be different from source fund"),m.date||(A.date="Required"),(!m.units||Number(m.units)<=0)&&(A.units="Must be > 0"),g&&Number(m.units)>g.units&&(A.units=`Max ${g.units.toFixed(2)} units`),(!m.fromPrice||Number(m.fromPrice)<=0)&&(A.fromPrice="Must be > 0"),(!m.toPrice||Number(m.toPrice)<=0)&&(A.toPrice="Must be > 0"),v(A),Object.keys(A).length===0}async function z(){if(E()){N(!0);try{await l(m)}finally{N(!1)}}}const H=d.map(A=>({value:A.portfolioId,label:`${A.portfolioName} (${A.ownerName})`})),W=S.map(A=>({value:A.schemeCode,label:A.fundName}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(te,{label:"Portfolio",required:!0,error:p.portfolioId,children:a.jsx(_e,{value:m.portfolioId,onChange:M,options:H,placeholder:"Select portfolio..."})}),a.jsx(te,{label:"Switch From (Sell)",required:!0,error:p.fromFundCode,children:a.jsx(_e,{value:m.fromFundCode,onChange:y,options:W,placeholder:m.portfolioId?S.length?"Select fund to switch from...":"No holdings":"Select portfolio first..."})}),g&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:g.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:g.units.toFixed(2)})," units @ ",g.avgNav.toFixed(2)," avg | Current NAV: ",g.currentNav.toFixed(2)]})]}),a.jsx(te,{label:"Switch To (Buy)",required:!0,error:p.toFundCode,children:a.jsx(yp,{value:m.toFundCode?{schemeCode:m.toFundCode,fundName:m.toFundName}:null,onSelect:_,placeholder:"Search fund to switch into...",disabled:!m.portfolioId})}),j&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  units will be added, NAV averaged out"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:j.units.toFixed(2)})," units @ ",j.avgNav.toFixed(2)," avg | Alloc: ",j.targetAllocationPct.toFixed(1),"%"]})]}),D&&m.toFundCode&&a.jsx("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:a.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Switch Date",required:!0,error:p.date,children:a.jsx(fe,{type:"date",value:m.date,onChange:A=>C("date",A)})}),a.jsx(te,{label:"Units to Switch",required:!0,error:p.units,children:a.jsx(fe,{type:"number",value:m.units,onChange:A=>C("units",A),placeholder:g?`Max: ${g.units.toFixed(2)}`:""})})]}),a.jsxs("div",{className:`grid grid-cols-1 ${D?"sm:grid-cols-3":"sm:grid-cols-2"} gap-4`,children:[a.jsx(te,{label:"From Fund NAV ()",required:!0,error:p.fromPrice,children:a.jsx(fe,{type:"number",value:m.fromPrice,onChange:A=>C("fromPrice",A),placeholder:"e.g., 178.45"})}),a.jsx(te,{label:"To Fund NAV ()",required:!0,error:p.toPrice,children:a.jsx(fe,{type:"number",value:m.toPrice,onChange:A=>C("toPrice",A),placeholder:"e.g., 82.10"})}),D&&a.jsx(te,{label:"Target Allocation (%)",children:a.jsx(fe,{type:"number",value:m.targetAllocation,onChange:A=>C("targetAllocation",A),placeholder:"e.g., 20"})})]}),O>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Switch Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(O)})]}),U>0&&a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Units Bought"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:U.toFixed(4)})]}),g&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),a.jsxs("p",{className:`text-sm font-bold tabular-nums ${G>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[G>=0?"+":"",Q(G)]})]})]}),j&&U>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1 border-t border-[var(--border-light)] pt-1",children:["New total: ",(j.units+U).toFixed(2)," units  New avg NAV: ",((j.investment+O)/(j.units+U)).toFixed(2)]})]}),a.jsx(te,{label:"Notes",children:a.jsx(fe,{value:m.notes,onChange:A=>C("notes",A),placeholder:"Optional notes..."})}),a.jsx(sa,{onCancel:r,onSubmit:z,submitLabel:"Switch Funds",loading:b})]})}function GA({portfolioId:s,onSave:l,onCancel:r}){const{mfHoldings:t,mfPortfolios:o}=Ue(),u=o.find(E=>E.portfolioId===s),d=w.useMemo(()=>t.filter(E=>E.portfolioId===s),[t,s]),[m,x]=w.useState(()=>d.map(E=>({schemeCode:E.schemeCode,fundName:E.fundName,units:E.units,currentValue:E.currentValue,currentAllocationPct:E.currentAllocationPct,targetAllocationPct:E.targetAllocationPct,isNew:!1}))),[p,v]=w.useState(null),[b,N]=w.useState(""),[C,M]=w.useState(""),[S,g]=w.useState(!1),j=m.reduce((E,z)=>E+z.targetAllocationPct,0),D=m.reduce((E,z)=>E+z.currentValue,0);function y(E,z){x(H=>H.map(W=>W.schemeCode===E?{...W,targetAllocationPct:Number(z)||0}:W)),M("")}function _(E){const z=m.find(H=>H.schemeCode===E);z&&z.units>0||x(H=>H.filter(W=>W.schemeCode!==E))}function O(){if(p){if(m.find(E=>E.schemeCode===p.schemeCode)){M("Fund already exists in portfolio");return}x(E=>[...E,{schemeCode:p.schemeCode,fundName:p.fundName,units:0,currentValue:0,currentAllocationPct:0,targetAllocationPct:Number(b)||0,isNew:!0}]),v(null),N(""),M("")}}async function U(){if(j>100){M(`Total allocation is ${j.toFixed(1)}%  must be  100%`);return}g(!0);try{await l(m.map(E=>({schemeCode:E.schemeCode,fundName:E.fundName,targetAllocationPct:E.targetAllocationPct,isNew:E.isNew})))}finally{g(!1)}}const G=u?.sipTarget||0;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:u?.portfolioName}),a.jsx("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] mt-0.5 flex-wrap",children:a.jsxs("span",{children:["Current Value: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:Q(D)})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Units"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Current %"}),a.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Target %"}),a.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold w-8"})]})}),a.jsx("tbody",{children:m.map(E=>{const z=E.isNew&&E.targetAllocationPct>0&&E.targetAllocationPct<100&&D>0?E.targetAllocationPct/(100-E.targetAllocationPct)*D:0,H=E.isNew&&E.targetAllocationPct>0&&G>=100?E.targetAllocationPct/100*G:0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("td",{className:"py-2 px-2",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight max-w-[200px] truncate",children:E.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[E.schemeCode,E.isNew&&a.jsx("span",{className:"text-violet-400 ml-1",children:"(new)"})]}),(z>0||H>0)&&a.jsxs("p",{className:"text-xs text-blue-400 mt-0.5",children:["Invest: ",z>0&&a.jsx("span",{className:"font-semibold",children:Q(z)}),z>0&&H>0&&"  ",H>0&&a.jsxs("span",{className:"font-semibold",children:[Q(H),"/mo SIP"]})]})]}),a.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:E.units.toFixed(2)}),a.jsxs("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:[E.currentAllocationPct.toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-2",children:a.jsx("input",{type:"number",value:E.targetAllocationPct,onChange:W=>y(E.schemeCode,W.target.value),className:"w-20 mx-auto block bg-[var(--bg-inset)] border border-[var(--border)] rounded px-2 py-1 text-xs text-center text-[var(--text-primary)] focus:outline-none focus:border-violet-500/50"})}),a.jsx("td",{className:"py-2 px-2 text-center",children:E.units===0&&a.jsx("button",{onClick:()=>_(E.schemeCode),className:"p-1 rounded hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors",children:a.jsx(Mu,{size:12})})})]},E.schemeCode)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-2 px-2 text-xs font-bold text-[var(--text-primary)]",children:"Total"}),a.jsx("td",{}),a.jsxs("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[m.reduce((E,z)=>E+z.currentAllocationPct,0).toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-2 text-center",children:a.jsxs("span",{className:`text-xs font-bold tabular-nums ${j>100?"text-[var(--accent-rose)]":j===100?"text-emerald-400":"text-amber-400"}`,children:[j.toFixed(1),"%"]})}),a.jsx("td",{})]})})]})}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider mb-1",children:"Add New Fund"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Set target % to see how much to invest. After buying, use Invest to record the transaction."}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx("div",{className:"flex-1",children:a.jsx(yp,{value:p,onSelect:E=>v(E.schemeCode?E:null),placeholder:"Search fund to add..."})}),a.jsx("div",{className:"w-24",children:a.jsx(fe,{type:"number",value:b,onChange:N,placeholder:"Target %",style:{textAlign:"center"}})}),a.jsxs("button",{onClick:O,disabled:!p,className:"shrink-0 flex items-center gap-1 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[a.jsx(Sa,{size:14})," Add"]})]})]})]}),C&&a.jsx("p",{className:"text-xs text-[var(--accent-rose)] font-medium",children:C}),a.jsx(sa,{onCancel:r,onSubmit:U,submitLabel:"Save Allocations",loading:S})]})}const Fi=s=>s?.replace(/^PFL-/,"")||s;function Wb(s){return s>=20?{color:"#c62828",fontWeight:700}:s>=10?{color:"#d84315",fontWeight:700}:s>=5?{color:"#e67e00",fontWeight:600}:s>=1?{color:"#b8860b",fontWeight:600}:{color:"var(--text-dim)",fontWeight:400}}function QA(){const{selectedMember:s}=Wt(),{mfPortfolios:l,mfHoldings:r,mfTransactions:t,activeMembers:o,activeInvestmentAccounts:u,addMFPortfolio:d,updateMFPortfolio:m,deleteMFPortfolio:x,investMF:p,redeemMF:v,switchMF:b,updateHoldingAllocations:N,deleteMFTransaction:C,editMFTransaction:M}=Ue(),{showToast:S,showBlockUI:g,hideBlockUI:j}=Tn(),{mv:D}=En(),[y,_]=w.useState(null),[O,U]=w.useState("all"),[G,E]=w.useState("holdings"),[z,H]=w.useState(!1),[W,A]=w.useState(null),[se,$]=w.useState({}),[J,B]=w.useState("all"),[R,I]=w.useState(null),ue=w.useCallback(L=>{A(me=>me===L?null:L)},[]),ve=w.useCallback(L=>{$(me=>({...me,[L]:(me[L]||5)+10}))},[]),F=w.useMemo(()=>l?l.filter(L=>L.status!=="Inactive").map(L=>{let me=u.find(pe=>pe.accountId===L.investmentAccountId);!me&&L.investmentAccountId&&(me=u.find(pe=>`${pe.accountName} - ${pe.platformBroker}`===L.investmentAccountId));const De=me?.memberId||L.ownerId||"",Ae=De?o.find(pe=>pe.memberId===De):null;return{...L,investmentAccountId:me?.accountId||L.investmentAccountId,ownerId:De,ownerName:Ae?.memberName||L.ownerName||"",platform:me?.platformBroker||L.investmentAccountName||"",clientId:me?.accountClientId||""}}):[],[l,u,o]),ee=w.useMemo(()=>F.length?s==="all"?F:F.filter(L=>L.ownerId===s):[],[F,s]),oe=w.useMemo(()=>r?ee.map(L=>{const me=r.filter(Ae=>Ae.portfolioId===L.portfolioId),De=(t||[]).filter(Ae=>Ae.portfolioId===L.portfolioId);return{...L,holdings:me,txns:De,fundCount:me.length}}):[],[ee,r,t]),ce=w.useMemo(()=>{const L=O==="all"?oe:oe.filter(Le=>Le.portfolioId===O),me=L.reduce((Le,ut)=>Le+ut.totalInvestment,0),De=L.reduce((Le,ut)=>Le+ut.currentValue,0),Ae=L.reduce((Le,ut)=>Le+ut.unrealizedPL,0),pe=L.reduce((Le,ut)=>Le+ut.realizedPL,0),Re=Ae+pe,$e=me>0?Re/me*100:0,Ke=me>0?Ae/me*100:0,Xe=me>0?pe/me*100:0,ht=L.reduce((Le,ut)=>Le+ut.fundCount,0),Mt=(r?O==="all"?r.filter(Le=>L.some(ut=>ut.portfolioId===Le.portfolioId)):r.filter(Le=>Le.portfolioId===O):[]).reduce((Le,ut)=>Le+(ut.ongoingSIP||0),0);return{invested:me,current:De,unrealizedPL:Ae,unrealizedPLPct:Ke,realizedPL:pe,realizedPLPct:Xe,totalPL:Re,totalPLPct:$e,funds:ht,monthlySIP:Mt}},[oe,O,r]),we=w.useMemo(()=>r?O==="all"?r.filter(L=>ee.some(me=>me.portfolioId===L.portfolioId)):r.filter(L=>L.portfolioId===O):[],[r,ee,O]),be=w.useMemo(()=>t?(O==="all"?t.filter(me=>ee.some(De=>De.portfolioId===me.portfolioId)):t.filter(me=>me.portfolioId===O)).sort((me,De)=>new Date(De.date)-new Date(me.date)):[],[t,ee,O]),ge=w.useMemo(()=>{const L=new Set;return be.forEach(me=>{me.fundName&&L.add(me.fundName)}),[...L].sort()},[be]),qe=w.useMemo(()=>J==="all"?be:be.filter(L=>L.fundName===J),[be,J]),Je=w.useMemo(()=>{const L={};return we.forEach(me=>{L[me.portfolioId]=(L[me.portfolioId]||0)+me.currentValue}),we.map(me=>{const De=L[me.portfolioId]||0,Ae=De>0?me.currentValue/De*100:0,pe=me.investment>0?me.pl/me.investment*100:0;return{...me,currentAllocationPct:Ae,plPct:pe}})},[we]),Rt=w.useMemo(()=>{if(!r)return{};const L={};return oe.forEach(me=>{const De=r.filter(Ke=>Ke.portfolioId===me.portfolioId&&Ke.units>0),Ae=De.reduce((Ke,Xe)=>Ke+Xe.currentValue,0),pe=(me.rebalanceThreshold||.05)*100;let Re=0,$e=0;De.forEach(Ke=>{Ke.athNav>0&&Ke.belowATHPct>=5&&Re++;const Xe=Ae>0?Ke.currentValue/Ae*100:0;Ke.targetAllocationPct>0&&Math.abs(Xe-Ke.targetAllocationPct)>pe&&$e++}),L[me.portfolioId]={buyOpp:Re,rebalance:$e}}),L},[oe,r]),wt=w.useMemo(()=>{if(O!=="all")return Rt[O]||{buyOpp:0,rebalance:0};let L=0,me=0;return Object.values(Rt).forEach(De=>{L+=De.buyOpp,me+=De.rebalance}),{buyOpp:L,rebalance:me}},[O,Rt]);if(l===null||r===null)return a.jsx(cr,{title:"Loading mutual funds",cards:5});const rt=oe.find(L=>L.portfolioId===O),ua=O==="all"?`All Portfolios (${ee.length})`:`${Fi(rt?.portfolioName)}  ${rt?.ownerName}`;async function Ne(L){g("Saving...");try{y?.editPortfolio?await m(y.editPortfolio.portfolioId,L):await d(L),S(y?.editPortfolio?"Portfolio updated":"Portfolio created"),_(null)}catch(me){S(me.message||"Failed to save portfolio","error")}finally{j()}}async function ze(){if(y?.editPortfolio&&confirm("Deactivate this portfolio?")){g("Deactivating...");try{await x(y.editPortfolio.portfolioId),S("Portfolio deactivated"),U("all"),_(null)}catch(L){S(L.message||"Failed to deactivate portfolio","error")}finally{j()}}}async function xt(L){g("Recording investment...");try{await p(L,L.transactionType),S("Investment recorded"),_(null)}catch(me){S(me.message||"Failed to record investment","error")}finally{j()}}async function la(L){g("Recording redemption...");try{await v(L),S("Redemption recorded"),_(null)}catch(me){S(me.message||"Failed to record redemption","error")}finally{j()}}async function za(L){g("Recording switch...");try{await b(L),S("Switch recorded"),_(null)}catch(me){S(me.message||"Failed to record switch","error")}finally{j()}}async function ct(L){if(confirm("Delete this transaction? This will recalculate your holdings.")){g("Deleting...");try{await C(L),S("Transaction deleted"),I(null)}catch(me){S(me.message||"Failed to delete transaction","error")}finally{j()}}}async function It(L){g("Updating...");try{await M(L),S("Transaction updated"),_(null)}catch(me){S(me.message||"Failed to update transaction","error")}finally{j()}}async function da(L){if(y?.allocations){g("Saving allocations...");try{await N(y.allocations,L),S("Allocations updated"),_(null)}catch(me){S(me.message||"Failed to update allocations","error")}finally{j()}}}return a.jsxs("div",{className:"space-y-4",children:[ee.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(vl,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No mutual fund portfolios yet"}),a.jsx("button",{onClick:()=>_("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>H(!z),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[a.jsx(vl,{size:14,className:"text-violet-400 shrink-0"}),a.jsx("span",{className:"truncate",children:ua}),a.jsx(Pr,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${z?"rotate-180":""}`})]}),z&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>H(!1)}),a.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl min-w-[300px] py-1 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{U("all"),H(!1),E("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${O==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",ee.length,")"]}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),oe.map(L=>{const me=L.totalPL>=0,De=Rt[L.portfolioId]||{};return a.jsx("button",{onClick:()=>{U(L.portfolioId),H(!1),E("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${O===L.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("p",{className:`text-sm ${O===L.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:Fi(L.portfolioName)}),De.buyOpp>0&&a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 shrink-0",title:`${De.buyOpp} buy opportunities`}),De.rebalance>0&&a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 shrink-0",title:`${De.rebalance} funds need rebalancing`})]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[L.ownerName,"  ",L.platform,"  ",L.fundCount," funds"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(L.currentValue)}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${me?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[me?"+":"",L.totalPLPct.toFixed(1),"%"]})]})]})},L.portfolioId)})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("button",{onClick:()=>_("buyOpp"),disabled:wt.buyOpp===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${wt.buyOpp>0?"text-emerald-400 hover:text-emerald-300 bg-[var(--bg-card)] border border-emerald-500/30 animate-glow-emerald":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[a.jsx(Au,{size:12})," Buy Opp.",wt.buyOpp>0&&a.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15",children:wt.buyOpp})]}),a.jsxs("button",{onClick:()=>_("rebalance"),disabled:wt.rebalance===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${wt.rebalance>0?"text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-violet-500/30 animate-glow-violet":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[a.jsx(yl,{size:12})," Rebalance",wt.rebalance>0&&a.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-violet-500/15",children:wt.rebalance})]}),rt&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>_({allocations:rt.portfolioId}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(JC,{size:12})," Allocations"]}),a.jsxs("button",{onClick:()=>_({editPortfolio:rt}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(mn,{size:12})," Edit"]})]}),a.jsxs("button",{onClick:()=>_("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Sa,{size:14})," New Portfolio"]})]})]}),rt&&a.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Platform:"})," ",rt.platform]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",D(rt.clientId,"clientId")]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Funds:"})," ",rt.fundCount]}),rt.sipTarget>=100&&a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"SIP Target:"})," ",Q(rt.sipTarget),"/mo"]}),rt.lumpsumTarget>=100&&a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Lumpsum Target:"})," ",Q(rt.lumpsumTarget)]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Rebalance Threshold:"})," ",(rt.rebalanceThreshold*100).toFixed(0),"%"]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[a.jsx(ml,{label:"Invested",value:Q(ce.invested)}),a.jsx(ml,{label:"Current Value",value:Q(ce.current),bold:!0}),a.jsx(ml,{label:"Unrealized P&L",value:`${ce.unrealizedPL>=0?"+":""}${Q(ce.unrealizedPL)}`,sub:`${ce.unrealizedPLPct>=0?"+":""}${ce.unrealizedPLPct.toFixed(1)}%`,positive:ce.unrealizedPL>=0}),a.jsx(ml,{label:"Realized P&L",value:`${ce.realizedPL>=0?"+":""}${Q(ce.realizedPL)}`,sub:`${ce.realizedPLPct>=0?"+":""}${ce.realizedPLPct.toFixed(1)}%`,positive:ce.realizedPL>=0}),a.jsx(ml,{label:"Total P&L",value:`${ce.totalPL>=0?"+":""}${Q(ce.totalPL)}`,sub:`${ce.totalPLPct>=0?"+":""}${ce.totalPLPct.toFixed(1)}%`,positive:ce.totalPL>=0,bold:!0}),a.jsx(ml,{label:"Monthly SIP",value:Q(ce.monthlySIP),sub:`${ce.funds} funds`})]}),a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[a.jsxs("button",{onClick:()=>E("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${G==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(Ny,{size:12})," Holdings (",we.length,")"]}),a.jsxs("button",{onClick:()=>E("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${G==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(cu,{size:12})," Transactions (",qe.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[O==="all"&&a.jsx("span",{className:"text-xs text-[var(--text-dim)] mr-1 hidden sm:inline",children:"Select a portfolio to take actions"}),a.jsxs("button",{onClick:()=>O!=="all"&&_({invest:O}),disabled:O==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${O==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:O==="all"?"Select a portfolio first":"",children:[a.jsx(zr,{size:14})," Invest"]}),a.jsxs("button",{onClick:()=>O!=="all"&&we.length>0&&_({redeem:O}),disabled:O==="all"||we.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${O==="all"||we.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:O==="all"?"Select a portfolio first":"",children:[a.jsx(Af,{size:14})," Redeem"]}),a.jsxs("button",{onClick:()=>O!=="all"&&we.length>0&&_({switchFunds:O}),disabled:O==="all"||we.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${O==="all"||we.length===0?"bg-amber-600/40 text-white/50 cursor-not-allowed":"text-white bg-amber-600 hover:bg-amber-500"}`,title:O==="all"?"Select a portfolio first":"",children:[a.jsx($C,{size:14})," Switch"]})]})]}),G==="holdings"&&a.jsx(a.Fragment,{children:we.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden lg:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund Name"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"NAV"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Avg"})]}),a.jsxs("th",{className:"text-center py-2 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"ATH"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Below Peak"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Allocation %"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Amount"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Invested"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"P&L"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"on Holdings"})]}),a.jsx("th",{className:"py-2 px-2 w-8"})]})}),a.jsx("tbody",{children:Je.map(L=>{const me=Wb(L.belowATHPct),De=O==="all"?oe.find(xe=>xe.portfolioId===L.portfolioId):null,Ae=L.units===0,pe=oe.find(xe=>xe.portfolioId===L.portfolioId),Re=pe?.currentValue||0,$e=W===L.holdingId,Ke=L.pl,Xe=Ke>=0,ht=Ae&&L.targetAllocationPct>0&&L.targetAllocationPct<100&&Re>0?L.targetAllocationPct/(100-L.targetAllocationPct)*Re:0,Jt=Ae&&L.targetAllocationPct>0&&pe?.sipTarget>=100?L.targetAllocationPct/100*pe.sipTarget:0,Mt=$e?(t||[]).filter(xe=>xe.portfolioId===L.portfolioId&&xe.fundCode===L.schemeCode).sort((xe,en)=>new Date(en.date)-new Date(xe.date)):[],Le=se[L.holdingId]||5,ut=Mt.slice(0,Le),Ht=xe=>Math.floor((new Date-new Date(xe))/864e5);return a.jsxs(ne.Fragment,{children:[a.jsxs("tr",{onClick:()=>!Ae&&ue(L.holdingId),className:`border-b border-[var(--border-light)] last:border-0 transition-colors ${Ae?"opacity-60":"cursor-pointer hover:bg-[var(--bg-hover)]"} ${$e?"bg-[var(--bg-hover)]":""}`,children:[a.jsx("td",{className:"py-2.5 px-3 max-w-[240px]",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[!Ae&&a.jsx(Pr,{size:12,className:`shrink-0 text-[var(--text-dim)] transition-transform ${$e?"rotate-180":""}`}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs text-[var(--text-primary)] leading-tight",children:[L.fundName,Ae&&a.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]}),De&&a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Fi(De.portfolioName)}),Ae&&(ht>0||Jt>0)&&a.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[ht>0&&a.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",Q(ht)]}),Jt>0&&a.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",Q(Jt),"/mo"]})]})]})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Ae?"":L.units.toFixed(2)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:Ae?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:["",L.currentNav.toFixed(2)]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["",L.avgNav.toFixed(2)]})]})}),a.jsx("td",{className:"py-2.5 px-2 text-center",children:Ae?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):L.athNav>0&&L.belowATHPct>0?a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-bold tabular-nums",style:me,children:["",L.belowATHPct.toFixed(1),"%"]}),a.jsxs("p",{className:"text-[11px] text-[var(--text-muted)] tabular-nums",children:["",L.athNav.toFixed(0)]})]}):L.athNav>0?a.jsx("span",{className:"text-[10px] text-emerald-400/70 font-semibold",children:"AT HIGH"}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:Ae?a.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums",children:[L.targetAllocationPct.toFixed(1),"%"]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[L.currentAllocationPct.toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[L.targetAllocationPct.toFixed(1),"%"]})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:Ae?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(L.currentValue)}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:Q(L.investment)})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:Ae?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Xe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Xe?"+":"",Q(Ke)]}),a.jsxs("p",{className:`text-xs font-bold tabular-nums ${Xe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Xe?"+":"",L.plPct.toFixed(1),"%"]})]})}),a.jsx("td",{className:"py-2.5 px-2 text-center",children:a.jsxs("div",{className:"flex items-center gap-0.5 justify-center",children:[a.jsx("button",{onClick:xe=>{xe.stopPropagation(),_({invest:{portfolioId:L.portfolioId,fundCode:L.schemeCode,fundName:L.fundName}})},className:"p-1.5 rounded-md text-emerald-400/60 hover:text-emerald-400 hover:bg-emerald-500/10 transition-colors",title:"Invest in this fund",children:a.jsx(zr,{size:14})}),!Ae&&a.jsx("button",{onClick:xe=>{xe.stopPropagation(),_({redeem:L.portfolioId})},className:"p-1.5 rounded-md text-rose-400/60 hover:text-rose-400 hover:bg-rose-500/10 transition-colors",title:"Redeem this fund",children:a.jsx(Af,{size:14})})]})})]}),$e&&!Ae&&a.jsx("tr",{className:"border-b border-[var(--border-light)]",children:a.jsx("td",{colSpan:8,className:"p-0",children:a.jsxs("div",{className:"bg-[var(--bg-inset)] border-l-2 border-l-violet-500/40",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row",children:[a.jsx("div",{className:"lg:w-52 shrink-0 p-4 border-b lg:border-b-0 lg:border-r border-[var(--border-light)]",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Units"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:L.units.toFixed(3)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Avg NAV"}),a.jsxs("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:["",L.avgNav.toFixed(4)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Invested"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(L.investment)})]}),L.ongoingSIP>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Monthly SIP"}),a.jsx("p",{className:"text-sm font-bold text-blue-400 tabular-nums",children:Q(L.ongoingSIP)})]}),a.jsx("div",{className:"pt-2 border-t border-[var(--border-light)]",children:a.jsxs("button",{onClick:xe=>{xe.stopPropagation(),_({invest:{portfolioId:L.portfolioId,fundCode:L.schemeCode,fundName:L.fundName}})},className:"w-full flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-emerald-400 bg-emerald-500/10 hover:bg-emerald-500/20 rounded-lg transition-colors",children:[a.jsx(zr,{size:12})," Invest"]})})]})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"px-4 py-2 border-b border-[var(--border-light)] flex items-center justify-between",children:a.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:["Transactions (",Mt.length,")"]})}),Mt.length===0?a.jsx("p",{className:"px-4 py-6 text-xs text-[var(--text-dim)] text-center",children:"No transactions recorded"}):a.jsxs(a.Fragment,{children:[a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-3 text-[10px] text-[var(--text-dim)] font-semibold uppercase",children:"Date"}),a.jsx("th",{className:"text-right py-1.5 px-3 text-[10px] text-[var(--text-dim)] font-semibold uppercase",children:"Days"}),a.jsx("th",{className:"text-right py-1.5 px-3 text-[10px] text-[var(--text-dim)] font-semibold uppercase",children:"Amount"}),a.jsx("th",{className:"text-right py-1.5 px-3 text-[10px] text-[var(--text-dim)] font-semibold uppercase",children:"NAV"}),a.jsx("th",{className:"text-right py-1.5 px-3 text-[10px] text-[var(--text-dim)] font-semibold uppercase",children:"Units"}),a.jsx("th",{className:"text-right py-1.5 px-3 text-[10px] text-[var(--text-dim)] font-semibold uppercase",children:"P&L"}),a.jsx("th",{className:"w-8"})]})}),a.jsx("tbody",{children:ut.map((xe,en)=>{const qr=Ht(xe.date),Fa=xe.type==="BUY"?(L.currentNav-xe.price)*xe.units:xe.gainLoss||0,Ba=Fa>=0,fn=xe.type==="BUY";return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 group",children:[a.jsxs("td",{className:"py-1.5 px-3 text-[var(--text-secondary)] whitespace-nowrap",children:[new Date(xe.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),a.jsx("span",{className:`ml-1.5 text-[10px] font-semibold px-1 py-0.5 rounded ${fn?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:xe.transactionType||xe.type})]}),a.jsx("td",{className:"py-1.5 px-3 text-right text-[var(--text-dim)] tabular-nums",children:qr}),a.jsx("td",{className:"py-1.5 px-3 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:Q(xe.totalAmount)}),a.jsxs("td",{className:"py-1.5 px-3 text-right text-[var(--text-muted)] tabular-nums",children:["",Number(xe.price).toFixed(4)]}),a.jsx("td",{className:"py-1.5 px-3 text-right text-[var(--text-muted)] tabular-nums",children:Number(xe.units).toFixed(3)}),a.jsx("td",{className:"py-1.5 px-3 text-right tabular-nums",children:a.jsxs("span",{className:`font-semibold ${Ba?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ba?"+":"",Q(Fa)]})}),a.jsx("td",{className:"py-1.5 px-1",children:a.jsx(Fc,{txn:xe,isOpen:R===xe.transactionId,onToggle:()=>I(R===xe.transactionId?null:xe.transactionId),onEdit:()=>{I(null),_({editTxn:xe})},onDelete:()=>{I(null),ct(xe.transactionId)}})})]},xe.transactionId||`txn-${en}`)})})]}),Mt.length>Le&&a.jsx("div",{className:"px-4 py-2 text-center border-t border-[var(--border-light)]",children:a.jsxs("button",{onClick:xe=>{xe.stopPropagation(),ve(L.holdingId)},className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:["Show More (",Mt.length-Le," remaining)"]})})]})]})]}),a.jsx("div",{className:"flex justify-center py-1 border-t border-[var(--border-light)]",children:a.jsx("button",{onClick:()=>ue(L.holdingId),className:"p-0.5 text-[var(--text-dim)] hover:text-[var(--text-muted)]",children:a.jsx($S,{size:14})})})]})})})]},L.holdingId)})})]})}),a.jsx("div",{className:"lg:hidden divide-y divide-[var(--border-light)]",children:Je.map(L=>{const me=Wb(L.belowATHPct),De=O==="all"?oe.find(xe=>xe.portfolioId===L.portfolioId):null,Ae=L.units===0,pe=oe.find(xe=>xe.portfolioId===L.portfolioId),Re=pe?.currentValue||0,$e=W===L.holdingId,Ke=L.pl,Xe=Ke>=0,ht=Ae&&L.targetAllocationPct>0&&L.targetAllocationPct<100&&Re>0?L.targetAllocationPct/(100-L.targetAllocationPct)*Re:0,Jt=Ae&&L.targetAllocationPct>0&&pe?.sipTarget>=100?L.targetAllocationPct/100*pe.sipTarget:0,Mt=$e?(t||[]).filter(xe=>xe.portfolioId===L.portfolioId&&xe.fundCode===L.schemeCode).sort((xe,en)=>new Date(en.date)-new Date(xe.date)):[],Le=se[L.holdingId]||5,ut=Mt.slice(0,Le),Ht=xe=>Math.floor((new Date-new Date(xe))/864e5);return a.jsxs("div",{className:Ae?"opacity-60":"",children:[a.jsxs("div",{onClick:()=>!Ae&&ue(L.holdingId),className:`px-4 py-3 ${Ae?"":"cursor-pointer"} ${$e?"bg-[var(--bg-hover)]":""}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-1.5",children:[a.jsxs("div",{className:"flex-1 mr-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[!Ae&&a.jsx(Pr,{size:12,className:`shrink-0 text-[var(--text-dim)] transition-transform ${$e?"rotate-180":""}`}),a.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:[L.fundName,Ae&&a.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]})]}),De&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] ml-5",children:Fi(De.portfolioName)}),Ae&&(ht>0||Jt>0)&&a.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[ht>0&&a.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",Q(ht)]}),Jt>0&&a.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",Q(Jt),"/mo"]})]})]}),Ae?a.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums shrink-0",children:["Target: ",L.targetAllocationPct.toFixed(1),"%"]}):a.jsxs("div",{className:"text-right shrink-0",children:[a.jsxs("p",{className:`text-xs font-bold tabular-nums ${Xe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Xe?"+":"",Q(Ke)]}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Xe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Xe?"+":"",L.plPct.toFixed(1),"%"]})]})]}),Ae?a.jsx("div",{className:"flex items-center justify-end mt-1",children:a.jsx("button",{onClick:xe=>{xe.stopPropagation(),_({invest:{portfolioId:L.portfolioId,fundCode:L.schemeCode,fundName:L.fundName}})},className:"shrink-0 text-[10px] font-semibold text-emerald-400 hover:text-emerald-300 px-2 py-0.5 rounded bg-emerald-500/10",children:"Invest"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between text-xs text-[var(--text-dim)]",children:[a.jsxs("div",{children:[a.jsxs("span",{children:[L.units.toFixed(2)," units"]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:["NAV ",L.currentNav.toFixed(2)," / ",L.avgNav.toFixed(2)]})]}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(L.currentValue)})]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] flex-wrap",children:[a.jsxs("span",{children:["Alloc: ",L.currentAllocationPct.toFixed(1),"% / ",L.targetAllocationPct.toFixed(1),"%"]}),L.athNav>0&&L.belowATHPct>0?a.jsxs("span",{className:"font-bold tabular-nums",style:me,children:["ATH ",L.belowATHPct.toFixed(1),"%"]}):L.athNav>0?a.jsx("span",{className:"text-emerald-400/70 font-semibold text-[10px]",children:"AT HIGH"}):null]}),a.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[a.jsx("button",{onClick:xe=>{xe.stopPropagation(),_({invest:{portfolioId:L.portfolioId,fundCode:L.schemeCode,fundName:L.fundName}})},className:"text-[10px] font-semibold text-emerald-400 hover:text-emerald-300 px-2 py-0.5 rounded bg-emerald-500/10",children:"Invest"}),a.jsx("button",{onClick:xe=>{xe.stopPropagation(),_({redeem:L.portfolioId})},className:"text-[10px] font-semibold text-rose-400 hover:text-rose-300 px-2 py-0.5 rounded bg-rose-500/10",children:"Redeem"})]})]})]})]}),$e&&!Ae&&a.jsxs("div",{className:"bg-[var(--bg-inset)] border-l-2 border-l-violet-500/40 px-4 pb-3",children:[a.jsx("div",{className:"flex items-center justify-between py-2",children:a.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:["Transactions (",Mt.length,")"]})}),Mt.length===0?a.jsx("p",{className:"py-4 text-xs text-[var(--text-dim)] text-center",children:"No transactions recorded"}):a.jsxs("div",{className:"space-y-2",children:[ut.map((xe,en)=>{const qr=Ht(xe.date),Fa=xe.type==="BUY"?(L.currentNav-xe.price)*xe.units:xe.gainLoss||0,Ba=Fa>=0,fn=xe.type==="BUY";return a.jsxs("div",{className:"flex items-center justify-between text-xs bg-[var(--bg-card)] rounded-lg px-3 py-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"text-[var(--text-secondary)]",children:new Date(xe.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short"})}),a.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${fn?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:xe.transactionType||xe.type}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:[qr,"d"]})]}),a.jsxs("p",{className:"text-[var(--text-dim)] mt-0.5",children:[Number(xe.units).toFixed(3)," units @ ",Number(xe.price).toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-semibold text-[var(--text-primary)] tabular-nums",children:Q(xe.totalAmount)}),a.jsxs("p",{className:`font-semibold tabular-nums ${Ba?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ba?"+":"",Q(Fa)]})]}),a.jsx(Fc,{txn:xe,isOpen:R===xe.transactionId,onToggle:()=>I(R===xe.transactionId?null:xe.transactionId),onEdit:()=>{I(null),_({editTxn:xe})},onDelete:()=>{I(null),ct(xe.transactionId)}})]})]},xe.transactionId||`txn-${en}`)}),Mt.length>Le&&a.jsxs("button",{onClick:()=>ve(L.holdingId),className:"w-full py-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 text-center",children:["Show More (",Mt.length-Le," remaining)"]})]})]})]},L.holdingId)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(vl,{size:28,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",rt?" in this portfolio":""]}),a.jsx("button",{onClick:()=>_({invest:O!=="all"?O:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Add your first fund"})]})}),G==="transactions"&&a.jsxs(a.Fragment,{children:[ge.length>1&&a.jsxs("div",{className:"flex items-center gap-2 px-1",children:[a.jsx(gy,{size:12,className:"text-[var(--text-dim)]"}),a.jsxs("select",{value:J,onChange:L=>B(L.target.value),className:"text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg px-3 py-1.5 max-w-[350px] truncate",children:[a.jsxs("option",{value:"all",children:["All Funds (",be.length,")"]}),ge.map(L=>a.jsxs("option",{value:L,children:[L," (",be.filter(me=>me.fundName===L).length,")"]},L))]}),J!=="all"&&a.jsx("button",{onClick:()=>B("all"),className:"text-xs text-[var(--text-dim)] hover:text-[var(--text-muted)] underline",children:"Clear"})]}),qe.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"}),a.jsx("th",{className:"w-8"})]})}),a.jsx("tbody",{children:qe.map((L,me)=>{const De=L.type==="BUY",Ae=!De&&L.gainLoss!=null&&L.gainLoss!==0,pe=Ae&&L.gainLoss>=0,Re=O==="all"?oe.find(Ke=>Ke.portfolioId===L.portfolioId):null,$e={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[L.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:L.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${De?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:L.type}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${$e.bg} ${$e.text}`,children:L.transactionType})]})}),a.jsxs("td",{className:"py-2.5 px-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate max-w-[200px]",children:L.fundName}),Re&&a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Fi(Re.portfolioName)})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:L.units.toFixed(2)}),a.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",L.price.toFixed(2)]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(L.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:Ae?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${pe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[pe?"+":"",Q(L.gainLoss)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-1",children:a.jsx(Fc,{txn:L,isOpen:R===L.transactionId,onToggle:()=>I(R===L.transactionId?null:L.transactionId),onEdit:()=>{I(null),_({editTxn:L})},onDelete:()=>{I(null),ct(L.transactionId)}})})]},L.transactionId||`txn-${me}`)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:qe.map((L,me)=>{const De=L.type==="BUY",Ae=!De&&L.gainLoss!=null&&L.gainLoss!==0,pe=Ae&&L.gainLoss>=0;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${De?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:L.type}),a.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:L.transactionType})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:L.date}),a.jsx(Fc,{txn:L,isOpen:R===L.transactionId,onToggle:()=>I(R===L.transactionId?null:L.transactionId),onEdit:()=>{I(null),_({editTxn:L})},onDelete:()=>{I(null),ct(L.transactionId)}})]})]}),a.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate mb-1",children:L.fundName}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("p",{className:"text-[var(--text-dim)]",children:[L.units.toFixed(2)," units @ ",L.price.toFixed(2)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(L.totalAmount)}),Ae&&a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${pe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",pe?"+":"",Q(L.gainLoss)]})]})]}),L.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:L.notes})]},L.transactionId||`txn-m-${me}`)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(cu,{size:28,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:J!=="all"?"No transactions for this fund":"No transactions yet"}),J!=="all"?a.jsx("button",{onClick:()=>B("all"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Show all transactions"}):a.jsx("button",{onClick:()=>_({invest:O!=="all"?O:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first investment"})]})]})]}),a.jsx(Et,{open:y==="addPortfolio"||!!y?.editPortfolio,onClose:()=>_(null),title:y?.editPortfolio?"Edit Portfolio":"New MF Portfolio",children:a.jsx(tA,{initial:y?.editPortfolio||void 0,onSave:Ne,onDelete:y?.editPortfolio?ze:void 0,onCancel:()=>_(null)})}),a.jsx(Et,{open:!!y?.invest,onClose:()=>_(null),title:"Invest in Mutual Fund",wide:!0,children:a.jsx(qA,{portfolioId:typeof y?.invest=="object"?y.invest.portfolioId:typeof y?.invest=="string"?y.invest:void 0,fundCode:typeof y?.invest=="object"?y.invest.fundCode:void 0,fundName:typeof y?.invest=="object"?y.invest.fundName:void 0,onSave:xt,onCancel:()=>_(null)},y?.invest?.fundCode||y?.invest?.portfolioId||y?.invest)}),a.jsx(Et,{open:!!y?.redeem,onClose:()=>_(null),title:"Redeem Mutual Fund",wide:!0,children:a.jsx($A,{portfolioId:typeof y?.redeem=="string"?y.redeem:void 0,onSave:la,onCancel:()=>_(null)})}),a.jsx(Et,{open:!!y?.switchFunds,onClose:()=>_(null),title:"Switch Funds",wide:!0,children:a.jsx(VA,{portfolioId:typeof y?.switchFunds=="string"?y.switchFunds:void 0,onSave:za,onCancel:()=>_(null)})}),a.jsx(Et,{open:!!y?.allocations,onClose:()=>_(null),title:"Manage Portfolio Allocation",wide:!0,children:y?.allocations&&a.jsx(GA,{portfolioId:y.allocations,onSave:da,onCancel:()=>_(null)})}),a.jsx(Et,{open:y==="rebalance",onClose:()=>_(null),title:"Rebalance Portfolios",wide:!0,children:y==="rebalance"&&a.jsx(b1,{})}),a.jsx(Et,{open:y==="buyOpp",onClose:()=>_(null),title:"Buy Opportunities",wide:!0,children:y==="buyOpp"&&a.jsx(Ty,{})}),a.jsx(Et,{open:!!y?.editTxn,onClose:()=>_(null),title:"Edit Transaction",children:y?.editTxn&&a.jsx(KA,{txn:y.editTxn,onSave:It,onCancel:()=>_(null)})})]})}function ml({label:s,value:l,sub:r,positive:t,bold:o}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function Fc({txn:s,isOpen:l,onToggle:r,onEdit:t,onDelete:o}){const u=w.useRef(null);return w.useEffect(()=>{if(!l)return;function d(m){u.current&&!u.current.contains(m.target)&&r()}return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[l,r]),s.transactionId?a.jsxs("div",{ref:u,className:"relative",children:[a.jsx("button",{onClick:d=>{d.stopPropagation(),r()},className:"p-1 rounded-md text-[var(--text-dim)] hover:text-[var(--text-muted)] hover:bg-[var(--bg-hover)] transition-colors sm:opacity-0 sm:group-hover:opacity-100 sm:focus:opacity-100",title:"Actions",children:a.jsx(oC,{size:14})}),l&&a.jsxs("div",{className:"absolute right-0 top-full mt-1 z-50 bg-[var(--bg-dropdown)] border border-[var(--border)] rounded-lg shadow-xl py-1 min-w-[120px]",children:[a.jsxs("button",{onClick:d=>{d.stopPropagation(),t()},className:"w-full text-left px-3 py-2 text-xs text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)] flex items-center gap-2 transition-colors",children:[a.jsx(mn,{size:12})," Edit"]}),a.jsxs("button",{onClick:d=>{d.stopPropagation(),o()},className:"w-full text-left px-3 py-2 text-xs text-[var(--accent-rose)] hover:bg-rose-500/10 flex items-center gap-2 transition-colors",children:[a.jsx(Mu,{size:12})," Delete"]})]})]}):null}function KA({txn:s,onSave:l,onCancel:r}){const[t,o]=w.useState(s.date?new Date(s.date).toISOString().split("T")[0]:""),[u,d]=w.useState(String(s.units||"")),[m,x]=w.useState(String(s.price||"")),[p,v]=w.useState(s.notes||""),[b,N]=w.useState(!1),C=(Number(u)||0)*(Number(m)||0);async function M(){if(!(!u||Number(u)<=0)&&!(!m||Number(m)<=0)){N(!0);try{await l({transactionId:s.transactionId,date:t,units:u,price:m,notes:p})}finally{N(!1)}}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:s.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[s.type,"  ",s.transactionType,"  ",s.transactionId]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Date"}),a.jsx("input",{type:"date",value:t,onChange:S=>o(S.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Units"}),a.jsx("input",{type:"number",value:u,onChange:S=>d(S.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"NAV (price)"}),a.jsx("input",{type:"number",value:m,onChange:S=>x(S.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]})]}),C>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(C)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Notes"}),a.jsx("input",{type:"text",value:p,onChange:S=>v(S.target.value),placeholder:"Optional notes...",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:"Cancel"}),a.jsx("button",{onClick:M,disabled:b||!u||Number(u)<=0||!m||Number(m)<=0,className:"px-4 py-2 text-xs font-bold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Saving...":"Update Transaction"})]})]})}function XA({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,activeInvestmentAccounts:u}=Ue(),d=!!s,[m,x]=w.useState({portfolioName:s?.portfolioName||"",ownerId:s?.ownerId||"",investmentAccountId:s?.investmentAccountId||""}),[p,v]=w.useState({}),[b,N]=w.useState(!1);function C(y,_){x(O=>({...O,[y]:_})),v(O=>({...O,[y]:void 0}))}function M(y){x(_=>({..._,ownerId:y,investmentAccountId:""})),v(_=>({..._,ownerId:void 0}))}const S=w.useMemo(()=>m.ownerId?u.filter(y=>y.memberId===m.ownerId&&(y.accountType==="Demat + Trading"||y.accountType==="Trading")).map(y=>({value:y.accountId,label:`${y.accountName} - ${y.platformBroker}`})):[],[u,m.ownerId]);function g(){const y={};return m.portfolioName.trim()||(y.portfolioName="Required"),m.ownerId||(y.ownerId="Required"),m.investmentAccountId||(y.investmentAccountId="Required"),v(y),Object.keys(y).length===0}async function j(){if(g()){N(!0);try{await l(m)}finally{N(!1)}}}const D=o.map(y=>({value:y.memberId,label:`${y.memberName} (${y.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(te,{label:"Portfolio Name",required:!0,error:p.portfolioName,children:a.jsx(fe,{value:m.portfolioName,onChange:y=>C("portfolioName",y),placeholder:"e.g., Long-Term Growth"})}),a.jsx(te,{label:"Owner",required:!0,error:p.ownerId,children:a.jsx(_e,{value:m.ownerId,onChange:M,options:D,placeholder:"Select family member..."})}),a.jsx(te,{label:"Investment Account",required:!0,error:p.investmentAccountId,children:a.jsx(_e,{value:m.investmentAccountId,onChange:y=>C("investmentAccountId",y),options:S,placeholder:m.ownerId?S.length?"Select demat account...":"No demat accounts for this member":"Select owner first..."})}),a.jsxs("div",{className:"flex items-center justify-between",children:[d&&r?a.jsx(On,{onClick:r}):a.jsx("div",{}),a.jsx(sa,{onCancel:t,onSubmit:j,submitLabel:d?"Update":"Create Portfolio",loading:b})]})]})}function WA({portfolioId:s,onSave:l,onCancel:r}){const{stockPortfolios:t}=Ue(),{selectedMember:o}=Wt(),u=w.useMemo(()=>{const D=t.filter(y=>y.status==="Active");return o==="all"?D:D.filter(y=>y.ownerId===o)},[t,o]),[d,m]=w.useState({portfolioId:s||"",symbol:"",companyName:"",exchange:"NSE",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[x,p]=w.useState({}),[v,b]=w.useState(!1);function N(D,y){m(_=>({..._,[D]:y})),p(_=>({..._,[D]:void 0}))}const C=w.useMemo(()=>{const D=Number(d.quantity)||0,y=Number(d.pricePerShare)||0;return D*y},[d.quantity,d.pricePerShare]),M=w.useMemo(()=>C+(Number(d.brokerage)||0),[C,d.brokerage]);function S(){const D={};return d.portfolioId||(D.portfolioId="Required"),d.symbol.trim()||(D.symbol="Required"),d.companyName.trim()||(D.companyName="Required"),d.date||(D.date="Required"),(!d.quantity||Number(d.quantity)<=0)&&(D.quantity="Must be > 0"),(!d.pricePerShare||Number(d.pricePerShare)<=0)&&(D.pricePerShare="Must be > 0"),p(D),Object.keys(D).length===0}async function g(){if(S()){b(!0);try{await l(d)}finally{b(!1)}}}const j=u.map(D=>({value:D.portfolioId,label:`${D.portfolioName} (${D.ownerName})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(te,{label:"Portfolio",required:!0,error:x.portfolioId,children:a.jsx(_e,{value:d.portfolioId,onChange:D=>N("portfolioId",D),options:j,placeholder:"Select portfolio..."})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Stock Symbol",required:!0,error:x.symbol,children:a.jsx(fe,{value:d.symbol,onChange:D=>N("symbol",D.toUpperCase()),placeholder:"e.g., RELIANCE"})}),a.jsx(te,{label:"Company Name",required:!0,error:x.companyName,children:a.jsx(fe,{value:d.companyName,onChange:D=>N("companyName",D),placeholder:"e.g., Reliance Industries Ltd"})})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:a.jsx(te,{label:"Purchase Date",required:!0,error:x.date,children:a.jsx(fe,{type:"date",value:d.date,onChange:D=>N("date",D)})})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Quantity (Shares)",required:!0,error:x.quantity,children:a.jsx(fe,{type:"number",value:d.quantity,onChange:D=>N("quantity",D),placeholder:"e.g., 100"})}),a.jsx(te,{label:"Price per Share ()",required:!0,error:x.pricePerShare,children:a.jsx(fe,{type:"number",value:d.pricePerShare,onChange:D=>N("pricePerShare",D),placeholder:"e.g., 2500"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Brokerage ()",children:a.jsx(fe,{type:"number",value:d.brokerage,onChange:D=>N("brokerage",D),placeholder:"0"})}),a.jsx("div",{className:"flex flex-col justify-end",children:a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(C)}),Number(d.brokerage)>0&&a.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:["Net: ",Q(M)]})]})})]}),a.jsx(te,{label:"Notes",children:a.jsx(fe,{value:d.notes,onChange:D=>N("notes",D),placeholder:"Optional notes..."})}),a.jsx(sa,{onCancel:r,onSubmit:g,submitLabel:"Buy Stock",loading:v})]})}function ZA({portfolioId:s,onSave:l,onCancel:r}){const{stockPortfolios:t,stockHoldings:o}=Ue(),{selectedMember:u}=Wt(),d=w.useMemo(()=>{const z=t.filter(H=>H.status==="Active");return u==="all"?z:z.filter(H=>H.ownerId===u)},[t,u]),[m,x]=w.useState({portfolioId:s||"",symbol:"",companyName:"",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[p,v]=w.useState({}),[b,N]=w.useState(!1);function C(z,H){x(W=>({...W,[z]:H})),v(W=>({...W,[z]:void 0}))}const M=w.useMemo(()=>m.portfolioId?o.filter(z=>z.portfolioId===m.portfolioId&&z.quantity>0):[],[o,m.portfolioId]),S=M.find(z=>z.symbol===m.symbol),g=S?.quantity||0,j=w.useMemo(()=>{const z=Number(m.quantity)||0,H=Number(m.pricePerShare)||0;return z*H},[m.quantity,m.pricePerShare]),D=w.useMemo(()=>j-(Number(m.brokerage)||0),[j,m.brokerage]);function y(z){const H=M.find(W=>W.symbol===z);x(W=>({...W,symbol:z,companyName:H?.companyName||""})),v(W=>({...W,symbol:void 0}))}function _(z){x(H=>({...H,portfolioId:z,symbol:"",companyName:"",quantity:""})),v(H=>({...H,portfolioId:void 0}))}function O(){const z={};return m.portfolioId||(z.portfolioId="Required"),m.symbol||(z.symbol="Required"),m.date||(z.date="Required"),(!m.quantity||Number(m.quantity)<=0)&&(z.quantity="Must be > 0"),Number(m.quantity)>g&&(z.quantity=`Max ${g} shares`),(!m.pricePerShare||Number(m.pricePerShare)<=0)&&(z.pricePerShare="Must be > 0"),v(z),Object.keys(z).length===0}async function U(){if(O()){N(!0);try{await l(m)}finally{N(!1)}}}const G=d.map(z=>({value:z.portfolioId,label:`${z.portfolioName} (${z.ownerName})`})),E=M.map(z=>({value:z.symbol,label:`${z.symbol}  ${z.quantity} shares`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(te,{label:"Portfolio",required:!0,error:p.portfolioId,children:a.jsx(_e,{value:m.portfolioId,onChange:_,options:G,placeholder:"Select portfolio..."})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Stock to Sell",required:!0,error:p.symbol,children:a.jsx(_e,{value:m.symbol,onChange:y,options:E,placeholder:m.portfolioId?M.length?"Select stock...":"No holdings in this portfolio":"Select portfolio first..."})}),S&&a.jsx("div",{className:"flex flex-col justify-end",children:a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:S.companyName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:g})," shares @ ",Q(S.avgBuyPrice)," avg"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Sale Date",required:!0,error:p.date,children:a.jsx(fe,{type:"date",value:m.date,onChange:z=>C("date",z)})}),a.jsx(te,{label:"Quantity to Sell",required:!0,error:p.quantity,children:a.jsx(fe,{type:"number",value:m.quantity,onChange:z=>C("quantity",z),placeholder:g?`Max: ${g}`:""})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Sale Price per Share ()",required:!0,error:p.pricePerShare,children:a.jsx(fe,{type:"number",value:m.pricePerShare,onChange:z=>C("pricePerShare",z),placeholder:"e.g., 2750"})}),a.jsx(te,{label:"Brokerage ()",children:a.jsx(fe,{type:"number",value:m.brokerage,onChange:z=>C("brokerage",z),placeholder:"0"})})]}),j>0&&a.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Net Sale Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(D)})]}),S&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. P&L"}),(()=>{const z=Number(m.quantity)*S.avgBuyPrice,H=D-z,W=H>=0;return a.jsxs("p",{className:`text-sm font-bold tabular-nums ${W?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[W?"+":"",Q(H)]})})()]})]})}),a.jsx(te,{label:"Notes",children:a.jsx(fe,{value:m.notes,onChange:z=>C("notes",z),placeholder:"Optional notes..."})}),a.jsx(sa,{onCancel:r,onSubmit:U,submitLabel:"Sell Stock",loading:b})]})}function JA(){const{selectedMember:s}=Wt(),{stockPortfolios:l,stockHoldings:r,stockTransactions:t,activeInvestmentAccounts:o,addStockPortfolio:u,updateStockPortfolio:d,deleteStockPortfolio:m,buyStock:x,sellStock:p}=Ue(),{showToast:v,showBlockUI:b,hideBlockUI:N}=Tn(),{mv:C}=En(),[M,S]=w.useState(null),[g,j]=w.useState("all"),[D,y]=w.useState("holdings"),[_,O]=w.useState(!1),U=w.useMemo(()=>{if(!l)return[];const R=l.filter(I=>I.status!=="Inactive");return s==="all"?R:R.filter(I=>I.ownerId===s)},[l,s]),G=w.useMemo(()=>r?U.map(R=>{const I=r.filter(ge=>ge.portfolioId===R.portfolioId),ue=(t||[]).filter(ge=>ge.portfolioId===R.portfolioId),ve=I.reduce((ge,qe)=>ge+qe.totalInvestment,0),F=I.reduce((ge,qe)=>ge+qe.currentValue,0),ee=F-ve,oe=ue.filter(ge=>ge.type==="SELL"&&ge.realizedPL!=null).reduce((ge,qe)=>ge+qe.realizedPL,0),ce=ee+oe,we=ve>0?ce/ve*100:0,be=o.find(ge=>ge.accountId===R.investmentAccountId);return{...R,holdings:I,txns:ue,invested:ve,current:F,unrealizedPL:ee,realizedPL:oe,totalPL:ce,totalPLPct:we,stockCount:I.length,platform:be?.platformBroker||R.investmentAccountName||"",clientId:be?.accountClientId||""}}):[],[U,r,t,o]),E=w.useMemo(()=>{const R=g==="all"?G:G.filter(be=>be.portfolioId===g),I=R.reduce((be,ge)=>be+ge.invested,0),ue=R.reduce((be,ge)=>be+ge.current,0),ve=R.reduce((be,ge)=>be+ge.unrealizedPL,0),F=R.reduce((be,ge)=>be+ge.realizedPL,0),ee=ve+F,oe=I>0?ee/I*100:0,ce=I>0?ve/I*100:0,we=R.reduce((be,ge)=>be+ge.stockCount,0);return{invested:I,current:ue,unrealizedPL:ve,unrealizedPLPct:ce,realizedPL:F,totalPL:ee,totalPLPct:oe,stocks:we}},[G,g]),z=w.useMemo(()=>r?g==="all"?r.filter(R=>U.some(I=>I.portfolioId===R.portfolioId)):r.filter(R=>R.portfolioId===g):[],[r,U,g]),H=w.useMemo(()=>t?(g==="all"?t.filter(I=>U.some(ue=>ue.portfolioId===I.portfolioId)):t.filter(I=>I.portfolioId===g)).sort((I,ue)=>new Date(ue.date)-new Date(I.date)):[],[t,U,g]);if(l===null||r===null)return a.jsx(cr,{title:"Loading stocks",cards:5});const W=G.find(R=>R.portfolioId===g),A=g==="all"?`All Portfolios (${U.length})`:`${W?.portfolioName}  ${W?.ownerName}`;async function se(R){b("Saving...");try{M?.editPortfolio?await d(M.editPortfolio.portfolioId,R):await u(R),v(M?.editPortfolio?"Portfolio updated":"Portfolio created"),S(null)}catch(I){v(I.message||"Failed to save portfolio","error")}finally{N()}}async function $(){if(M?.editPortfolio&&confirm("Deactivate this portfolio?")){b("Deactivating...");try{await m(M.editPortfolio.portfolioId),v("Portfolio deactivated"),j("all"),S(null)}catch(R){v(R.message||"Failed to deactivate portfolio","error")}finally{N()}}}async function J(R){b("Recording purchase...");try{await x(R),v("Stock purchase recorded"),S(null)}catch(I){v(I.message||"Failed to record purchase","error")}finally{N()}}async function B(R){b("Recording sale...");try{await p(R),v("Stock sale recorded"),S(null)}catch(I){v(I.message||"Failed to record sale","error")}finally{N()}}return a.jsxs("div",{className:"space-y-4",children:[U.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Ui,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No stock portfolios yet"}),a.jsx("button",{onClick:()=>S("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>O(!_),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[a.jsx(Ui,{size:14,className:"text-violet-400 shrink-0"}),a.jsx("span",{className:"truncate",children:A}),a.jsx(Pr,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${_?"rotate-180":""}`})]}),_&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>O(!1)}),a.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl min-w-[280px] py-1 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{j("all"),O(!1),y("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${g==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",U.length,")"]}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),G.map(R=>{const I=R.totalPL>=0;return a.jsx("button",{onClick:()=>{j(R.portfolioId),O(!1),y("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${g===R.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm ${g===R.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:R.portfolioName}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[R.ownerName,"  ",R.platform]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(R.current)}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${I?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[I?"+":"",R.totalPLPct.toFixed(1),"%"]})]})]})},R.portfolioId)})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[W&&a.jsxs("button",{onClick:()=>S({editPortfolio:W}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(mn,{size:12})," Edit"]}),a.jsxs("button",{onClick:()=>S("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Sa,{size:14})," New Portfolio"]})]})]}),W&&a.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Platform:"})," ",W.platform]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",C(W.clientId,"clientId")]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Stocks:"})," ",W.stockCount]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(Bi,{label:"Invested",value:Q(E.invested)}),a.jsx(Bi,{label:"Current Value",value:Q(E.current),bold:!0}),a.jsx(Bi,{label:"Unrealized P&L",value:`${E.unrealizedPL>=0?"+":""}${Q(E.unrealizedPL)}`,sub:`${E.unrealizedPLPct>=0?"+":""}${E.unrealizedPLPct.toFixed(1)}%`,positive:E.unrealizedPL>=0}),a.jsx(Bi,{label:"Realized P&L",value:`${E.realizedPL>=0?"+":""}${Q(E.realizedPL)}`,positive:E.realizedPL>=0}),a.jsx(Bi,{label:"Total P&L",value:`${E.totalPL>=0?"+":""}${Q(E.totalPL)}`,sub:`${E.totalPLPct>=0?"+":""}${E.totalPLPct.toFixed(1)}%`,positive:E.totalPL>=0,bold:!0})]}),a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[a.jsxs("button",{onClick:()=>y("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${D==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(Ny,{size:12})," Holdings (",z.length,")"]}),a.jsxs("button",{onClick:()=>y("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${D==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(cu,{size:12})," Transactions (",H.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>g!=="all"&&S({buy:g}),disabled:g==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${g==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:g==="all"?"Select a portfolio first":"",children:[a.jsx(zr,{size:14})," Buy"]}),a.jsxs("button",{onClick:()=>g!=="all"&&z.length>0&&S({sell:g}),disabled:g==="all"||z.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${g==="all"||z.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:g==="all"?"Select a portfolio first":"",children:[a.jsx(Au,{size:14})," Sell"]})]})]}),D==="holdings"&&a.jsx(a.Fragment,{children:z.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Avg Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Value"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Returns"})]})}),a.jsxs("tbody",{children:[z.map(R=>{const I=R.unrealizedPL>=0,ue=g==="all"?G.find(ve=>ve.portfolioId===R.portfolioId):null;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:R.companyName}),a.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[R.symbol,ue&&a.jsxs("span",{className:"ml-1.5 text-[var(--text-dim)] font-sans",children:[" ",ue.portfolioName]})]})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:R.quantity}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(R.avgBuyPrice)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(R.currentPrice)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Q(R.totalInvestment)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(R.currentValue)}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${I?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[I?"+":"",Q(R.unrealizedPL)]}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${I?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[I?"+":"",R.unrealizedPLPct.toFixed(1),"%"]})]},R.holdingId)}),a.jsxs("tr",{className:"bg-[var(--bg-inset)] border-t-2 border-[var(--border-light)]",children:[a.jsxs("td",{className:"py-2.5 px-4 text-xs font-semibold text-[var(--text-muted)]",children:["Total (",z.length," stocks)"]}),a.jsx("td",{colSpan:3,className:"py-2.5 px-3"}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(E.invested)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(E.current)}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${E.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[E.unrealizedPL>=0?"+":"",Q(E.unrealizedPL)]}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${E.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[E.unrealizedPLPct>=0?"+":"",E.unrealizedPLPct.toFixed(1),"%"]})]})]})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:z.map(R=>{const I=R.unrealizedPL>=0,ue=g==="all"?G.find(ve=>ve.portfolioId===R.portfolioId):null;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:R.companyName}),a.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[R.symbol,ue&&a.jsxs("span",{className:"ml-1 font-sans",children:[" ",ue.portfolioName]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`text-xs font-bold tabular-nums ${I?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[I?"+":"",R.unrealizedPLPct.toFixed(1),"%"]}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${I?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[I?"+":"",Q(R.unrealizedPL)]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("div",{className:"text-[var(--text-dim)]",children:[a.jsxs("span",{children:[R.quantity," shares"]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:["Avg ",Q(R.avgBuyPrice)]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:["CMP ",Q(R.currentPrice)]})]}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(R.currentValue)})]})]},R.holdingId)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(Ui,{size:28,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",W?" in this portfolio":""]}),a.jsx("button",{onClick:()=>S({buy:g!=="all"?g:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Buy your first stock"})]})}),D==="transactions"&&a.jsx(a.Fragment,{children:H.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Brokerage"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Net"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Realized P&L"})]})}),a.jsx("tbody",{children:H.map(R=>{const I=R.type==="BUY",ue=!I&&R.realizedPL!=null,ve=ue&&R.realizedPL>=0,F=g==="all"?G.find(ee=>ee.portfolioId===R.portfolioId):null;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)]",children:R.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${I?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:R.type})}),a.jsxs("td",{className:"py-2.5 px-3",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:R.symbol}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[140px]",children:[R.companyName,F&&a.jsxs("span",{children:["  ",F.portfolioName]})]})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:R.quantity}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(R.pricePerShare)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Q(R.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-dim)] tabular-nums",children:R.brokerage>0?Q(R.brokerage):""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(R.netAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:ue?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${ve?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ve?"+":"",Q(R.realizedPL)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},R.transactionId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:H.map(R=>{const I=R.type==="BUY",ue=!I&&R.realizedPL!=null,ve=ue&&R.realizedPL>=0;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${I?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:R.type}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:R.symbol})]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:R.date})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[R.quantity," shares @ ",Q(R.pricePerShare)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(R.netAmount)}),ue&&a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ve?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["P&L: ",ve?"+":"",Q(R.realizedPL)]})]})]}),R.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:R.notes})]},R.transactionId)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(cu,{size:28,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions yet"}),a.jsx("button",{onClick:()=>S({buy:g!=="all"?g:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first purchase"})]})})]}),a.jsx(Et,{open:M==="addPortfolio"||!!M?.editPortfolio,onClose:()=>S(null),title:M?.editPortfolio?"Edit Portfolio":"New Stock Portfolio",children:a.jsx(XA,{initial:M?.editPortfolio||void 0,onSave:se,onDelete:M?.editPortfolio?$:void 0,onCancel:()=>S(null)})}),a.jsx(Et,{open:!!M?.buy,onClose:()=>S(null),title:"Buy Stock",wide:!0,children:a.jsx(WA,{portfolioId:typeof M?.buy=="string"?M.buy:void 0,onSave:J,onCancel:()=>S(null)})}),a.jsx(Et,{open:!!M?.sell,onClose:()=>S(null),title:"Sell Stock",wide:!0,children:a.jsx(ZA,{portfolioId:typeof M?.sell=="string"?M.sell:void 0,onSave:B,onCancel:()=>S(null)})})]})}function Bi({label:s,value:l,sub:r,positive:t,bold:o}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}const eT=["Self","Spouse","Father","Mother","Son","Daughter","Brother","Sister","Other"].map(s=>({value:s,label:s})),Bc={pan:/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,aadhar:/^\d{12}$/,email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,mobile:/^\d{10}$/};function tT({initial:s,onSave:l,onDelete:r,onCancel:t}){const o=!!s,[u,d]=w.useState({memberName:s?.memberName||"",relationship:s?.relationship||"",pan:s?.pan||"",aadhar:s?.aadhar||"",email:s?.email||"",mobile:s?.mobile||"",includeInEmailReports:s?.includeInEmailReports??!0,status:s?.status||"Active"}),[m,x]=w.useState({}),[p,v]=w.useState(!1),[b,N]=w.useState(()=>{const y=s?.dynamicFields||{};return Object.entries(y).map(([_,O])=>({key:_,value:O}))});function C(y,_){d(O=>({...O,[y]:_})),x(O=>({...O,[y]:void 0}))}function M(){const y={};return u.memberName.trim()||(y.memberName="Required"),u.relationship||(y.relationship="Required"),Bc.pan.test(u.pan.toUpperCase())||(y.pan="Format: ABCDE1234F"),Bc.aadhar.test(u.aadhar)||(y.aadhar="12 digits required"),Bc.email.test(u.email)||(y.email="Invalid email"),Bc.mobile.test(u.mobile)||(y.mobile="10 digits required"),x(y),Object.keys(y).length===0}function S(){N(y=>[...y,{key:"",value:""}])}function g(y,_,O){N(U=>U.map((G,E)=>E===y?{...G,[_]:O}:G))}function j(y){N(_=>_.filter((O,U)=>U!==y))}async function D(){if(!M())return;const y={};b.forEach(({key:_,value:O})=>{const U=_.trim();U&&(y[U]=O)}),v(!0);try{await l({...u,pan:u.pan.toUpperCase(),dynamicFields:y})}finally{v(!1)}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Member Name",required:!0,error:m.memberName,children:a.jsx(fe,{value:u.memberName,onChange:y=>C("memberName",y),placeholder:"e.g., Jagadeesh"})}),a.jsx(te,{label:"Relationship",required:!0,error:m.relationship,children:a.jsx(_e,{value:u.relationship,onChange:y=>C("relationship",y),options:eT,placeholder:"Select..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"PAN",required:!0,error:m.pan,children:a.jsx(fe,{sensitive:!0,value:u.pan,onChange:y=>C("pan",y.toUpperCase()),placeholder:"ABCDE1234F",maxLength:10})}),a.jsx(te,{label:"Aadhar",required:!0,error:m.aadhar,children:a.jsx(fe,{sensitive:!0,value:u.aadhar,onChange:y=>C("aadhar",y.replace(/\D/g,"")),placeholder:"123456789012",maxLength:12})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Email",required:!0,error:m.email,children:a.jsx(fe,{sensitive:!0,type:"email",value:u.email,onChange:y=>C("email",y),placeholder:"email@example.com"})}),a.jsx(te,{label:"Mobile",required:!0,error:m.mobile,children:a.jsx(fe,{sensitive:!0,value:u.mobile,onChange:y=>C("mobile",y.replace(/\D/g,"")),placeholder:"9876543210",maxLength:10})})]}),a.jsx(x3,{checked:u.includeInEmailReports,onChange:y=>C("includeInEmailReports",y),label:"Include in email reports"}),o&&a.jsx(te,{label:"Status",children:a.jsx(_e,{value:u.status,onChange:y=>C("status",y),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)]",children:"Custom Fields"}),a.jsxs("button",{onClick:S,type:"button",className:"flex items-center gap-1 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[a.jsx(Sa,{size:12})," Add Field"]})]}),b.length===0&&a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"No custom fields. Add DOB, occupation, blood group, etc."}),a.jsx("div",{className:"space-y-2",children:b.map((y,_)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{value:y.key,onChange:O=>g(_,"key",O.target.value),placeholder:"Field name",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),a.jsx("input",{value:y.value,onChange:O=>g(_,"value",O.target.value),placeholder:"Value",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),a.jsx("button",{onClick:()=>j(_),type:"button",className:"p-1 text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:a.jsx(Mu,{size:13})})]},_))})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[o&&r?a.jsx(On,{onClick:r}):a.jsx("div",{}),a.jsx(sa,{onCancel:t,onSubmit:D,submitLabel:o?"Update":"Add Member",loading:p})]})]})}const Hc=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],Zb={Self:"bg-violet-500/15 text-[var(--accent-violet)]",Spouse:"bg-rose-500/15 text-[var(--accent-rose)]",Father:"bg-blue-500/15 text-[var(--accent-blue)]",Mother:"bg-amber-500/15 text-[var(--accent-amber)]",Son:"bg-emerald-500/15 text-emerald-400",Daughter:"bg-emerald-500/15 text-emerald-400"};function aT(){const{members:s,addMember:l,updateMember:r,deleteMember:t}=Ue(),{showToast:o,showBlockUI:u,hideBlockUI:d}=Tn(),{mv:m}=En(),[x,p]=w.useState(null);if(s===null)return a.jsx(cr,{title:"Loading family",cards:3});const v=s.filter(C=>C.status!=="Inactive");async function b(C){u("Saving member...");try{x?.edit?await r(x.edit.memberId,C):await l(C),o(x?.edit?"Member updated":"Member added"),p(null)}catch(M){o(M.message||"Failed to save member","error")}finally{d()}}async function N(){if(x?.edit&&confirm("Deactivate this family member?")){u("Deactivating...");try{await t(x.edit.memberId),o("Member deactivated"),p(null)}catch(C){o(C.message||"Failed to deactivate member","error")}finally{d()}}}return[...new Set(v.flatMap(C=>Object.keys(C.dynamicFields||{})))],a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>p("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Sa,{size:14})," Add Member"]})}),v.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Nl,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No family members yet"}),a.jsx("button",{onClick:()=>p("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first member"})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Relationship"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"PAN"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Aadhaar"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Mobile"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:v.map((C,M)=>{const S=C.dynamicFields||{},g=Object.entries(S);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Hc[M%Hc.length]}`,children:C.memberName.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:C.memberName}),g.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-0.5",children:[g.slice(0,3).map(([j,D])=>a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[j,": ",D]},j)),g.length>3&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",g.length-3," more"]})]})]})]})}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Zb[C.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:C.relationship})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:m(C.pan,"pan")||""}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:m(C.aadhar,"aadhaar")||""}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] truncate max-w-[180px]",children:m(C.email,"email")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:m(C.mobile,"mobile")}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>p({edit:C}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(mn,{size:12})})})]},C.memberId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:v.map((C,M)=>{const S=C.dynamicFields||{},g=Object.entries(S);return a.jsxs("div",{onClick:()=>p({edit:C}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Hc[M%Hc.length]}`,children:C.memberName.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:C.memberName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Zb[C.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:C.relationship})]}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] truncate",children:m(C.email,"email")})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:m(C.mobile,"mobile")}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["PAN: ",m(C.pan,"pan")||""]}),C.aadhar&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["Aadhaar: ",m(C.aadhar,"aadhaar")]})]})]}),g.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[g.slice(0,3).map(([j,D])=>a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[j,": ",D]},j)),g.length>3&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",g.length-3," more"]})]})]},C.memberId)})})]}),a.jsx(Et,{open:!!x,onClose:()=>p(null),title:x?.edit?"Edit Member":"Add Family Member",wide:!0,children:a.jsx(tT,{initial:x?.edit||void 0,onSave:b,onDelete:x?.edit?N:void 0,onCancel:()=>p(null)})})]})}const Jb=["Retirement","Emergency Fund","Child Education","Home Purchase","Car","Travel","Wedding","Custom"].map(s=>({value:s,label:s})),eg=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],nT=[{value:"On Track",label:"On Track"},{value:"Needs Attention",label:"Needs Attention"},{value:"Achieved",label:"Achieved"},{value:"Paused",label:"Paused"}],Yc={Retirement:{inflation:6,cagr:12},"Emergency Fund":{inflation:0,cagr:7},"Child Education":{inflation:10,cagr:12},"Home Purchase":{inflation:8,cagr:12},Wedding:{inflation:6,cagr:12},Car:{inflation:5,cagr:10},Travel:{inflation:6,cagr:10},Custom:{inflation:6,cagr:12}},tg=[{label:"Basics",icon:Ji},{label:"Financials",icon:lC},{label:"Review",icon:Rl}];function rT({initial:s,onSave:l,onDelete:r,onCancel:t}){const o=!!s,{activeMembers:u}=Ue(),d=[{value:"",label:"Family (Default)"},...u.map(E=>({value:E.memberId,label:E.memberName}))],[m,x]=w.useState(0),[p,v]=w.useState(()=>{if(o){const E=(s.expectedInflation||.06)*100,z=(s.expectedCAGR||.12)*100,H=s.targetDate?Math.max(0,(new Date(s.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,W=E/100;let A=s.targetAmount||0;return W>0&&H>0&&s.goalType!=="Emergency Fund"&&(A=s.targetAmount/Math.pow(1+W,H)),{goalType:s.goalType||"",goalName:s.goalName||"",familyMemberId:s.familyMemberId||"",todaysCost:Math.round(A).toString(),targetDate:s.targetDate||"",lumpsum:(s.lumpsumInvested||0).toString(),monthlySIP:(s.monthlyInvestment||0).toString(),inflation:E.toString(),cagr:z.toString(),priority:s.priority||"Medium",status:s.status||"On Track",notes:s.notes||"",monthlyExpenses:(s.monthlyExpenses||"").toString(),emergencyMonths:(s.emergencyMonths||6).toString()}}return{goalType:"",goalName:"",familyMemberId:"",todaysCost:"",targetDate:"",lumpsum:"",monthlySIP:"",inflation:"6",cagr:"12",priority:"Medium",status:"On Track",notes:"",monthlyExpenses:"",emergencyMonths:"6"}}),[b,N]=w.useState({}),[C,M]=w.useState(!1);function S(E,z){v(H=>({...H,[E]:z})),N(H=>({...H,[E]:void 0}))}w.useEffect(()=>{if(o||!p.goalType)return;const E=Yc[p.goalType]||Yc.Custom;v(z=>({...z,inflation:E.inflation.toString(),cagr:E.cagr.toString()}))},[p.goalType,o]);const g=p.goalType==="Retirement",j=p.goalType==="Emergency Fund",D=w.useMemo(()=>{const E=(Number(p.inflation)||0)/100,H=(Number(p.cagr)||0)/100/12,W=Number(p.lumpsum)||0,A=Number(p.monthlySIP)||0,se=Number(p.monthlyExpenses)||0,$=Number(p.emergencyMonths)||6,J=p.targetDate?Math.max(0,(new Date(p.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,B=Math.round(J*12);let R=0,I=0;g?(R=se*12*25,I=R*Math.pow(1+E,J)):j?(R=se*$,I=R):(R=Number(p.todaysCost)||0,I=E>0&&J>0?R*Math.pow(1+E,J):R),I=Math.round(I);const ue=W>0&&B>0?W*Math.pow(1+H,B):W,ve=A>0&&H>0&&B>0?A*((Math.pow(1+H,B)-1)/H):A*B,F=Math.round(ue+ve),ee=Math.round(W+A*B),oe=F-ee;let ce=0;if(I>0&&B>0){const ge=I-ue;ge>0&&H>0?ce=ge/((Math.pow(1+H,B)-1)/H):ge>0&&(ce=ge/B),ce=Math.max(0,Math.ceil(ce))}const we=I>0&&F>=I,be=I>0?F/I*100:0;return{todaysCost:R,inflatedTarget:I,yearsToGo:J,months:B,fvLumpsum:Math.round(ue),fvSIP:Math.round(ve),projectedValue:F,totalInvested:ee,totalReturns:oe,requiredSIP:ce,isOnTrack:we,pctOfTarget:be,hasTarget:I>0,hasInputs:W>0||A>0}},[p.todaysCost,p.targetDate,p.lumpsum,p.monthlySIP,p.inflation,p.cagr,p.monthlyExpenses,p.emergencyMonths,g,j]);function y(E){const z={};return E===0&&(p.goalType||(z.goalType="Required"),p.goalName.trim()||(z.goalName="Required")),E===1&&(p.targetDate||(z.targetDate="Required"),g||j?(!p.monthlyExpenses||Number(p.monthlyExpenses)<=0)&&(z.monthlyExpenses="Required"):(!p.todaysCost||Number(p.todaysCost)<=0)&&(z.todaysCost="Must be > 0")),N(z),Object.keys(z).length===0}function _(){const E={};return p.goalType||(E.goalType="Required"),p.goalName.trim()||(E.goalName="Required"),p.targetDate||(E.targetDate="Required"),g||j?(!p.monthlyExpenses||Number(p.monthlyExpenses)<=0)&&(E.monthlyExpenses="Required"):(!p.todaysCost||Number(p.todaysCost)<=0)&&(E.todaysCost="Must be > 0"),N(E),Object.keys(E).length===0}function O(){y(m)&&x(E=>Math.min(E+1,2))}async function U(){if(!_())return;const E=p.familyMemberId&&u.find(z=>z.memberId===p.familyMemberId)?.memberName||"Family";M(!0);try{await l({goalType:p.goalType,goalName:p.goalName,familyMemberId:p.familyMemberId||"",familyMember:E,targetAmount:D.inflatedTarget,targetDate:p.targetDate,priority:p.priority,status:p.status,notes:p.notes,expectedInflation:(Number(p.inflation)||0)/100,expectedCAGR:(Number(p.cagr)||0)/100,monthlyInvestment:Number(p.monthlySIP)||0,lumpsumInvested:Number(p.lumpsum)||0,monthlyExpenses:g||j?Number(p.monthlyExpenses)||0:void 0,emergencyMonths:j?Number(p.emergencyMonths)||6:void 0,isRetirement:g,currentCost:D.todaysCost})}finally{M(!1)}}const G=p.familyMemberId&&u.find(E=>E.memberId===p.familyMemberId)?.memberName||"Family";return o?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Goal Type",required:!0,error:b.goalType,children:a.jsx(_e,{value:p.goalType,onChange:E=>S("goalType",E),options:Jb,placeholder:"Select type..."})}),a.jsx(te,{label:"Goal Name",required:!0,error:b.goalName,children:a.jsx(fe,{value:p.goalName,onChange:E=>S("goalName",E),placeholder:"e.g., Retirement Fund (2045)"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Family Member",error:b.familyMemberId,children:a.jsx(_e,{value:p.familyMemberId,onChange:E=>S("familyMemberId",E),options:d,placeholder:"Family (Default)"})}),a.jsx(te,{label:"Target Date",required:!0,error:b.targetDate,children:a.jsx(fe,{type:"date",value:p.targetDate,onChange:E=>S("targetDate",E)})})]}),g||j?a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Monthly Expenses",required:!0,error:b.monthlyExpenses,children:a.jsx(fe,{type:"number",value:p.monthlyExpenses,onChange:E=>S("monthlyExpenses",E),placeholder:"e.g., 50000"})}),j&&a.jsx(te,{label:"Emergency Months",children:a.jsx(fe,{type:"number",value:p.emergencyMonths,onChange:E=>S("emergencyMonths",E),placeholder:"6"})})]}):a.jsx(te,{label:"Today's Cost",required:!0,error:b.todaysCost,children:a.jsx(fe,{type:"number",value:p.todaysCost,onChange:E=>S("todaysCost",E),placeholder:"e.g., 1000000"})}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(te,{label:"Inflation %",children:a.jsx(fe,{type:"number",value:p.inflation,onChange:E=>S("inflation",E),placeholder:"6"})}),a.jsx(te,{label:"Expected CAGR %",children:a.jsx(fe,{type:"number",value:p.cagr,onChange:E=>S("cagr",E),placeholder:"12"})}),a.jsx(te,{label:"Lumpsum",children:a.jsx(fe,{type:"number",value:p.lumpsum,onChange:E=>S("lumpsum",E),placeholder:"0"})}),a.jsx(te,{label:"Monthly SIP",children:a.jsx(fe,{type:"number",value:p.monthlySIP,onChange:E=>S("monthlySIP",E),placeholder:"0"})})]}),D.hasTarget&&a.jsx(ag,{calc:D,inflation:p.inflation,isRetirement:g,isEmergency:j}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Priority",children:a.jsx(_e,{value:p.priority,onChange:E=>S("priority",E),options:eg})}),a.jsx(te,{label:"Status",children:a.jsx(_e,{value:p.status,onChange:E=>S("status",E),options:nT})})]}),a.jsx(te,{label:"Notes",children:a.jsx(Al,{value:p.notes,onChange:E=>S("notes",E),placeholder:"Optional notes...",rows:2})}),a.jsxs("div",{className:"flex items-center justify-between",children:[r?a.jsx(On,{onClick:r}):a.jsx("div",{}),a.jsx(sa,{onCancel:t,onSubmit:U,submitLabel:"Update Goal",loading:C})]})]}):a.jsxs("div",{className:"space-y-5",children:[a.jsx("div",{className:"flex items-center gap-1 mb-2",children:tg.map((E,z)=>{const H=E.icon,W=z===m,A=z<m;return a.jsxs("div",{className:"flex items-center flex-1",children:[a.jsxs("button",{onClick:()=>{z<m&&x(z)},className:`flex items-center gap-1.5 text-xs font-semibold transition-colors ${W?"text-violet-400":A?"text-emerald-400 cursor-pointer":"text-[var(--text-dim)]"}`,children:[a.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold border ${W?"border-violet-400 bg-violet-500/15":A?"border-emerald-400 bg-emerald-500/15":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:A?a.jsx(Rl,{size:12}):a.jsx(H,{size:12})}),a.jsx("span",{className:"hidden sm:inline",children:E.label})]}),z<tg.length-1&&a.jsx("div",{className:`flex-1 h-px mx-2 ${A?"bg-emerald-400/40":"bg-[var(--border)]"}`})]},E.label)})}),m===0&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Tell us about your financial goal"}),a.jsx(te,{label:"Goal Type",required:!0,error:b.goalType,children:a.jsx(_e,{value:p.goalType,onChange:E=>S("goalType",E),options:Jb,placeholder:"Select type..."})}),p.goalType&&a.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)]",children:[a.jsx(zr,{size:12,className:"text-[var(--text-dim)] shrink-0"}),a.jsxs("p",{className:"text-[11px] text-[var(--text-muted)]",children:["Default: ",Yc[p.goalType]?.inflation||6,"% inflation, ",Yc[p.goalType]?.cagr||12,"% CAGR",g&&"  Uses 25x annual expenses rule",j&&"  No inflation applied"]})]}),a.jsx(te,{label:"Goal Name",required:!0,error:b.goalName,children:a.jsx(fe,{value:p.goalName,onChange:E=>S("goalName",E),placeholder:"e.g., Retirement Fund (2045)"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Family Member",error:b.familyMemberId,children:a.jsx(_e,{value:p.familyMemberId,onChange:E=>S("familyMemberId",E),options:d,placeholder:"Family (Default)"})}),a.jsx(te,{label:"Priority",children:a.jsx(_e,{value:p.priority,onChange:E=>S("priority",E),options:eg})})]})]}),m===1&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:g?"Set your retirement timeline and monthly expenses":j?"Set your emergency fund requirements":"Set your target and investment plan"}),a.jsx(te,{label:"Target Date",required:!0,error:b.targetDate,children:a.jsx(fe,{type:"date",value:p.targetDate,onChange:E=>S("targetDate",E)})}),g||j?a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Monthly Expenses (Today)",required:!0,error:b.monthlyExpenses,children:a.jsx(fe,{type:"number",value:p.monthlyExpenses,onChange:E=>S("monthlyExpenses",E),placeholder:"e.g., 50000"})}),j&&a.jsx(te,{label:"Emergency Fund (Months)",children:a.jsx(fe,{type:"number",value:p.emergencyMonths,onChange:E=>S("emergencyMonths",E),placeholder:"6"})}),g&&a.jsx("div",{className:"sm:col-span-2",children:a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Corpus = Monthly Expenses x 12 x 25 = ",Q(D.todaysCost)," (today)"]})})]}):a.jsx(te,{label:"Today's Cost",required:!0,error:b.todaysCost,children:a.jsx(fe,{type:"number",value:p.todaysCost,onChange:E=>S("todaysCost",E),placeholder:"e.g., 1000000"})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(te,{label:`Inflation Rate (%)${j?"  N/A":""}`,children:a.jsx(fe,{type:"number",value:p.inflation,onChange:E=>S("inflation",E),placeholder:"6"})}),a.jsx(te,{label:"Expected Returns (CAGR %)",children:a.jsx(fe,{type:"number",value:p.cagr,onChange:E=>S("cagr",E),placeholder:"12"})})]}),D.hasTarget&&a.jsx(ag,{calc:D,inflation:p.inflation,isRetirement:g,isEmergency:j}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Lumpsum Investment (Optional)",children:a.jsx(fe,{type:"number",value:p.lumpsum,onChange:E=>S("lumpsum",E),placeholder:"0"})}),a.jsx(te,{label:"Monthly SIP",children:a.jsx(fe,{type:"number",value:p.monthlySIP,onChange:E=>S("monthlySIP",E),placeholder:"0"})})]}),D.hasTarget&&D.months>0&&a.jsx(ng,{calc:D,sip:p.monthlySIP,lumpsum:p.lumpsum}),a.jsx(te,{label:"Notes",children:a.jsx(Al,{value:p.notes,onChange:E=>S("notes",E),placeholder:"Optional notes...",rows:2})})]}),m===2&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Review your goal before saving"}),a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-3",children:[a.jsx(ba,{label:"Goal",value:p.goalName,bold:!0}),a.jsx(ba,{label:"Type",value:p.goalType,color:"violet"}),a.jsx(ba,{label:"Member",value:G}),a.jsx(ba,{label:"Priority",value:p.priority,badge:p.priority==="High"?"rose":p.priority==="Low"?"blue":"amber"}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[(g||j)&&a.jsx(ba,{label:"Monthly Expenses",value:Q(Number(p.monthlyExpenses)||0)}),j&&a.jsx(ba,{label:"Emergency Months",value:p.emergencyMonths}),!g&&!j&&a.jsx(ba,{label:"Today's Cost",value:Q(D.todaysCost)}),a.jsx(ba,{label:"Inflation",value:`${p.inflation}% p.a.`}),a.jsx(ba,{label:"Expected CAGR",value:`${p.cagr}% p.a.`}),a.jsx(ba,{label:"Future Value (Inflated)",value:Q(D.inflatedTarget),bold:!0,color:"violet"})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[a.jsx(ba,{label:"Lumpsum",value:Q(Number(p.lumpsum)||0)}),a.jsx(ba,{label:"Monthly SIP",value:`${Q(Number(p.monthlySIP)||0)}/mo`,color:"emerald"}),a.jsx(ba,{label:"Target Date",value:p.targetDate}),a.jsx(ba,{label:"Time Remaining",value:D.yearsToGo>0?`${D.yearsToGo.toFixed(1)} years`:""})]})]}),D.hasTarget&&D.months>0&&D.hasInputs&&a.jsx(ng,{calc:D,sip:p.monthlySIP,lumpsum:p.lumpsum,compact:!0})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-light)]",children:[a.jsx("div",{children:m>0&&a.jsxs("button",{onClick:()=>x(E=>E-1),className:"flex items-center gap-1 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(xy,{size:14})," Back"]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),m<2?a.jsxs("button",{onClick:O,className:"flex items-center gap-1 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors",children:["Next ",a.jsx(qi,{size:14})]}):a.jsx("button",{onClick:U,disabled:C,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Saving...":"Create Goal"})]})]})]})}function ag({calc:s,inflation:l,isRetirement:r,isEmergency:t}){return t?a.jsx("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-500/5 border border-blue-500/15",children:a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Emergency Fund: ",a.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:Q(s.inflatedTarget)}),a.jsx("span",{className:"text-[var(--text-dim)]",children:" (no inflation applied)"})]})}):a.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 rounded-lg bg-violet-500/5 border border-violet-500/15",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase tracking-wider",children:r?"Corpus Today":"Today's Cost"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:Q(s.todaysCost)})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[l,"% x ",s.yearsToGo.toFixed(1),"yrs"]}),a.jsx(qi,{size:12,className:"text-violet-400 mx-auto"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-semibold text-violet-400 uppercase tracking-wider",children:"Future Value"}),a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:Q(s.inflatedTarget)})]})]})}function ng({calc:s,sip:l,lumpsum:r,compact:t}){const o=Number(l)||0,u=Number(r)||0;return a.jsxs("div",{className:`rounded-lg border p-3 space-y-2 ${s.isOnTrack?"bg-emerald-500/5 border-emerald-500/20":"bg-amber-500/5 border-amber-500/20"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[s.isOnTrack?a.jsx(Rl,{size:12,className:"text-emerald-400"}):a.jsx(Tu,{size:12,className:"text-amber-400"}),a.jsx("p",{className:`text-[10px] font-bold uppercase tracking-wider ${s.isOnTrack?"text-emerald-400":"text-amber-400"}`,children:s.isOnTrack?"On Track":"SIP May Be Insufficient"})]}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["@","0","CAGR assumed"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Required Monthly SIP"}),a.jsxs("span",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:[Q(s.requiredSIP),"/mo"]})]}),!t&&s.hasInputs&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Projected Value"}),a.jsx("span",{className:`text-sm font-bold tabular-nums ${s.isOnTrack?"text-emerald-400":"text-amber-400"}`,children:Q(s.projectedValue)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-1.5 bg-[var(--bg-card)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${s.isOnTrack?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(s.pctOfTarget,100)}%`}})}),a.jsxs("span",{className:"text-xs font-bold tabular-nums text-[var(--text-primary)]",children:[Math.round(s.pctOfTarget),"%"]})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-2 space-y-1",children:[u>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["Lumpsum ",Q(u)," grows to"]}),a.jsx("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:Q(s.fvLumpsum)})]}),o>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["SIP ",Q(o),"/mo x ",s.months," mo"]}),a.jsx("span",{className:"text-[11px] font-semibold text-blue-400 tabular-nums",children:Q(s.fvSIP)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Total Invested"}),a.jsx("span",{className:"text-[11px] font-semibold text-[var(--text-primary)] tabular-nums",children:Q(s.totalInvested)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Wealth Created"}),a.jsxs("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:["+",Q(s.totalReturns)]})]})]})]})]})}function ba({label:s,value:l,bold:r,color:t,badge:o}){const u=t==="violet"?"text-violet-400":t==="emerald"?"text-emerald-400":"text-[var(--text-primary)]";if(o){const d=o==="rose"?"bg-rose-500/15 text-rose-400":o==="blue"?"bg-blue-500/15 text-blue-400":"bg-amber-500/15 text-amber-400";return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${d}`,children:l})]})}return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s}),a.jsx("span",{className:`text-xs ${r?"font-bold text-sm":"font-semibold"} ${u}`,children:l})]})}function sT({goal:s,onClose:l}){const{mfPortfolios:r,goalPortfolioMappings:t,updateGoalMappings:o}=Ue(),u=r.filter(g=>g.status!=="Inactive"),d=w.useMemo(()=>t.filter(g=>g.goalId===s.goalId).map(g=>({portfolioId:g.portfolioId,allocationPct:g.allocationPct})),[t,s.goalId]),[m,x]=w.useState(d.length>0?d:[]),p=m.reduce((g,j)=>g+(j.allocationPct||0),0),v=p===100||m.length===0;function b(){const g=new Set(m.map(D=>D.portfolioId)),j=u.find(D=>!g.has(D.portfolioId));j&&x(D=>[...D,{portfolioId:j.portfolioId,allocationPct:0}])}function N(g){x(j=>j.filter((D,y)=>y!==g))}function C(g,j,D){x(y=>y.map((_,O)=>O===g?{..._,[j]:j==="allocationPct"?Math.max(0,Math.min(100,Number(D)||0)):D}:_))}function M(){o(s.goalId,m),l()}const S=m.reduce((g,j)=>{const D=u.find(y=>y.portfolioId===j.portfolioId);return g+(D?D.currentValue*j.allocationPct/100:0)},0);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),a.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:Q(s.targetAmount)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Linked Portfolio Value"}),a.jsx("span",{className:"text-sm font-semibold text-emerald-400",children:Q(S)})]})]}),m.length===0?a.jsxs("div",{className:"py-6 text-center",children:[a.jsx(ou,{size:24,className:"mx-auto mb-2 text-[var(--text-dim)]"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No portfolios linked to this goal"})]}):a.jsx("div",{className:"space-y-2",children:m.map((g,j)=>{const D=u.find(y=>y.portfolioId===g.portfolioId);return a.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("select",{value:g.portfolioId,onChange:y=>C(j,"portfolioId",y.target.value),className:"w-full px-2 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",children:u.map(y=>a.jsxs("option",{value:y.portfolioId,disabled:m.some((_,O)=>O!==j&&_.portfolioId===y.portfolioId),children:[y.portfolioName," (",y.ownerName,")  ",Q(y.currentValue)]},y.portfolioId))}),D&&a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] mt-1 px-1",children:["Contributes ",Q(D.currentValue*g.allocationPct/100)," to this goal"]})]}),a.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[a.jsx("input",{type:"number",value:g.allocationPct,onChange:y=>C(j,"allocationPct",y.target.value),className:"w-16 px-2 py-1.5 text-xs text-center bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",min:"0",max:"100"}),a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"}),a.jsx("button",{onClick:()=>N(j),className:"p-1.5 text-[var(--text-dim)] hover:text-rose-400 rounded transition-colors",children:a.jsx(Mu,{size:12})})]})]},j)})}),m.length>0&&a.jsxs("div",{className:"flex items-center justify-between px-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Total Allocation"}),a.jsxs("span",{className:`text-xs font-bold ${p===100?"text-emerald-400":p>100?"text-rose-400":"text-amber-400"}`,children:[p,"%",p!==100&&a.jsx("span",{className:"font-normal text-[var(--text-dim)]",children:" (must be 100%)"})]})]}),m.length<u.length&&a.jsxs("button",{onClick:b,className:"flex items-center gap-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[a.jsx(Sa,{size:14})," Link Portfolio"]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:l,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),a.jsx("button",{onClick:M,disabled:!v,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Mapping"})]})]})}function lT({goal:s,onClose:l}){const{goalPortfolioMappings:r,mfPortfolios:t,mfHoldings:o}=Ue(),u=w.useMemo(()=>{const m=r.filter(b=>b.goalId===s.goalId);if(m.length===0)return null;const x=m.map(b=>{const N=t.find(j=>j.portfolioId===b.portfolioId);if(!N)return null;const C=o.filter(j=>j.portfolioId===b.portfolioId&&j.units>0),M=C.reduce((j,D)=>j+D.currentValue,0),S=M*b.allocationPct/100,g=C.map(j=>{const D=M>0?j.currentValue/M:0,y=S*D,_=j.currentNav>0?y/j.currentNav:0,O=y-_*j.avgNav;return{fundName:j.fundName,currentValue:j.currentValue,withdrawValue:y,withdrawUnits:Math.min(_,j.units),currentNav:j.currentNav,taxableGain:O,availableUnits:j.units}}).filter(j=>j.withdrawValue>0);return{portfolioName:N.portfolioName,ownerName:N.ownerName,allocationPct:b.allocationPct,portfolioValue:M,linkedValue:S,fundWithdrawals:g}}).filter(Boolean),p=x.reduce((b,N)=>b+N.linkedValue,0),v=x.reduce((b,N)=>b+N.fundWithdrawals.reduce((C,M)=>C+M.taxableGain,0),0);return{portfolioDetails:x,totalLinked:p,totalTaxableGain:v}},[s,r,t,o]);if(!u)return a.jsxs("div",{className:"py-8 text-center space-y-2",children:[a.jsx(Tu,{size:24,className:"mx-auto text-amber-400"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No portfolios linked to this goal"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Link portfolios first to generate a withdrawal plan"}),a.jsx("button",{onClick:l,className:"mt-2 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})]});const d=s.targetAmount>0?u.totalLinked/s.targetAmount*100:0;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),a.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:Q(s.targetAmount)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Available from Linked Portfolios"}),a.jsx("span",{className:`text-sm font-bold ${u.totalLinked>=s.targetAmount?"text-emerald-400":"text-amber-400"}`,children:Q(u.totalLinked)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-card)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${d>=100?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(d,100)}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[d.toFixed(0),"%"]})]}),u.totalTaxableGain>0&&a.jsxs("div",{className:"flex items-center justify-between pt-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Estimated Taxable Gain"}),a.jsx("span",{className:"text-xs font-semibold text-amber-400",children:Q(u.totalTaxableGain)})]})]}),u.portfolioDetails.map(m=>a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] overflow-hidden",children:[a.jsxs("div",{className:"px-4 py-2.5 bg-[var(--bg-card)] border-b border-[var(--border-light)] flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:m.portfolioName}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[m.ownerName,"  ",m.allocationPct,"% allocated to goal"]})]}),a.jsx("span",{className:"text-xs font-bold text-[var(--text-primary)]",children:Q(m.linkedValue)})]}),a.jsx("div",{className:"px-4 py-2",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-[var(--text-dim)]",children:[a.jsx("th",{className:"text-left py-1 font-medium",children:"Fund"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Units"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Amount"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Gain"})]})}),a.jsx("tbody",{children:m.fundWithdrawals.map(x=>a.jsxs("tr",{className:"border-t border-[var(--border-light)]",children:[a.jsx("td",{className:"py-1.5 text-[var(--text-secondary)] max-w-[180px] truncate",children:x.fundName}),a.jsx("td",{className:"py-1.5 text-right text-[var(--text-muted)] tabular-nums",children:x.withdrawUnits.toFixed(2)}),a.jsx("td",{className:"py-1.5 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:Q(x.withdrawValue)}),a.jsx("td",{className:`py-1.5 text-right tabular-nums font-semibold ${x.taxableGain>=0?"text-emerald-400":"text-rose-400"}`,children:Q(Math.abs(x.taxableGain))})]},x.fundName))})]})})]},m.portfolioName)),a.jsx("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:a.jsx("button",{onClick:l,className:"px-5 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})})]})}const rg={"On Track":"bg-blue-500/15 text-[var(--accent-blue)]","Needs Attention":"bg-amber-500/15 text-[var(--accent-amber)]",Achieved:"bg-emerald-500/15 text-emerald-400",Paused:"bg-slate-500/15 text-[var(--text-muted)]"},iT={High:"bg-rose-500/15 text-[var(--accent-rose)]",Medium:"bg-amber-500/15 text-[var(--accent-amber)]",Low:"bg-blue-500/15 text-[var(--accent-blue)]"},sg={"On Track":"bg-blue-500","Needs Attention":"bg-amber-500",Achieved:"bg-emerald-500",Paused:"bg-slate-500"};function oT(){const{selectedMember:s,member:l}=Wt(),{goalList:r,addGoal:t,updateGoal:o,deleteGoal:u,goalPortfolioMappings:d}=Ue(),{showToast:m,showBlockUI:x,hideBlockUI:p}=Tn(),[v,b]=w.useState(null),[N,C]=w.useState(null),[M,S]=w.useState(null),[g,j]=w.useState(null),D=w.useRef(new Set),y=w.useMemo(()=>{if(!r)return[];const $=r.filter(J=>J.isActive!==!1);return s==="all"?$:$.filter(J=>J.familyMemberId===s)},[r,s]),_=y.reduce(($,J)=>$+(J.targetAmount||0),0),O=y.reduce(($,J)=>$+(J.currentValue||0),0),U=y.reduce(($,J)=>$+(J.monthlyInvestment||0),0),G=_>0?O/_*100:0,E=y.filter($=>$.status==="Needs Attention").length,z=y.filter($=>$.status==="Achieved").length;if(w.useEffect(()=>{const $=new Set(y.filter(B=>B.status==="Achieved").map(B=>B.goalId)),J=D.current;for(const B of $)if(!J.has(B)){const R=y.find(I=>I.goalId===B);R&&(j(R),setTimeout(()=>j(null),5e3))}D.current=$},[y]),r===null)return a.jsx(cr,{title:"Loading goals",cards:5});async function H($){x("Saving...");try{v?.edit?await o(v.edit.goalId,$):await t($),m(v?.edit?"Goal updated":"Goal added"),b(null)}catch(J){m(J.message||"Failed to save goal","error")}finally{p()}}async function W(){if(v?.edit&&confirm("Delete this goal?")){x("Deleting...");try{await u(v.edit.goalId),m("Goal deleted"),b(null)}catch($){m($.message||"Failed to delete goal","error")}finally{p()}}}function A($){return!$.targetAmount||$.targetAmount===0?0:Math.min(($.currentValue||0)/$.targetAmount*100,100)}function se($){if(!$.targetDate)return null;const B=(new Date($.targetDate)-new Date)/(365.25*24*60*60*1e3);return B>0?B.toFixed(1):"0"}return a.jsxs("div",{className:"space-y-4",children:[y.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Ji,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No goals set",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first goal"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[a.jsx(fl,{label:"Goals",value:y.length,sub:z>0?`${z} achieved`:void 0}),a.jsx(fl,{label:"Target",value:Q(_),bold:!0}),a.jsx(fl,{label:"Current Value",value:Q(O),bold:!0}),a.jsx(fl,{label:"Total Gap",value:Q(Math.max(_-O,0)),sub:_>O?"remaining to target":"all targets met",positive:_<=O,bold:!0}),a.jsx(fl,{label:"Overall Progress",value:`${G.toFixed(1)}%`,positive:G>=50,bold:!0}),a.jsx(fl,{label:"Monthly SIP",value:Q(U),sub:E>0?`${E} need attention`:void 0})]}),g&&a.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-500/10 via-yellow-500/10 to-emerald-500/10 rounded-xl border border-emerald-500/30 px-4 py-3 flex items-center gap-3 animate-fade-in overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map(($,J)=>a.jsx("span",{className:"absolute text-sm animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:["","","","",""][J%5]},J))}),a.jsx(R0,{size:20,className:"text-yellow-400 shrink-0 relative z-10"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-sm font-bold text-emerald-400",children:"Goal Achieved!"}),a.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[g.goalName,"  Congratulations!"]})]}),a.jsx("button",{onClick:()=>j(null),className:"ml-auto text-xs text-[var(--text-dim)] hover:text-[var(--text-primary)] relative z-10",children:"Dismiss"})]}),z>0&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-emerald-500/20 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(R0,{size:14,className:"text-yellow-400"}),a.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Achieved Goals"})]}),a.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-1",children:y.filter($=>$.status==="Achieved").map($=>a.jsxs("div",{className:"shrink-0 bg-emerald-500/10 border border-emerald-500/20 rounded-lg px-3 py-2 min-w-[160px]",children:[a.jsx("p",{className:"text-xs font-semibold text-emerald-400",children:$.goalName}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] mt-1",children:Q($.targetAmount)}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:$.familyMemberName})]},$.goalId))})]}),a.jsx("div",{className:"flex items-center justify-end gap-2 px-1",children:a.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Sa,{size:14})," Add Goal"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden lg:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Goal"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsxs("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Amount"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider min-w-[120px]",children:"Progress"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Monthly SIP"}),a.jsxs("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Timeline"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Years Left"})]}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:y.map($=>{const J=A($),B=se($);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:$.goalName}),a.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${iT[$.priority]||""}`,children:$.priority}),$.notes&&a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:$.notes})]})]}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:$.familyMemberName}),a.jsxs("td",{className:"py-2.5 px-3 text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q($.currentValue)}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:Q($.targetAmount)})]}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${sg[$.status]||"bg-blue-500"}`,style:{width:`${J}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums w-10 text-right",children:[J.toFixed(0),"%"]})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q($.monthlyInvestment)}),a.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)] tabular-nums",children:$.status==="Achieved"?"Done":B?`${B} yrs`:""}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${rg[$.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:$.status})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsxs("div",{className:"flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all",children:[a.jsx("button",{onClick:()=>S($),className:"p-1 rounded text-[var(--text-dim)] hover:text-emerald-400 transition-colors",title:"Withdrawal plan",children:a.jsx(Af,{size:12})}),a.jsx("button",{onClick:()=>C($),className:"p-1 rounded text-[var(--text-dim)] hover:text-violet-400 transition-colors",title:"Link portfolios",children:a.jsx(ou,{size:12})}),a.jsx("button",{onClick:()=>b({edit:$}),className:"p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-colors",children:a.jsx(mn,{size:12})})]})})]},$.goalId)})})]})}),a.jsx("div",{className:"lg:hidden divide-y divide-[var(--border-light)]",children:y.map($=>{const J=A($),B=se($);return a.jsxs("div",{onClick:()=>b({edit:$}),className:"px-4 py-4 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:$.goalName}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsxs("span",{className:"text-xs text-[var(--text-muted)]",children:[$.familyMemberName,"  SIP ",Q($.monthlyInvestment),"/mo"]}),d.filter(R=>R.goalId===$.goalId).length>0&&a.jsxs("span",{className:"text-[10px] font-semibold text-violet-400 flex items-center gap-0.5",children:[a.jsx(ou,{size:9}),d.filter(R=>R.goalId===$.goalId).length]})]})]}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${rg[$.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:$.status})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${sg[$.status]||"bg-blue-500"}`,style:{width:`${J}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[J.toFixed(0),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs text-[var(--text-muted)]",children:[Q($.currentValue)," ",a.jsx("span",{className:"text-[var(--text-dim)]",children:"of"})," ",Q($.targetAmount)]}),a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:$.status==="Achieved"?"Done":B?`${B} yrs left`:""})]})]},$.goalId)})})]})]}),a.jsx(Et,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Goal":"Add Goal",wide:!0,children:a.jsx(rT,{initial:v?.edit||void 0,onSave:H,onDelete:v?.edit?W:void 0,onCancel:()=>b(null)})}),a.jsx(Et,{open:!!N,onClose:()=>C(null),title:`Link Portfolios  ${N?.goalName||""}`,wide:!0,children:N&&a.jsx(sT,{goal:N,onClose:()=>C(null)})}),a.jsx(Et,{open:!!M,onClose:()=>S(null),title:`Withdrawal Plan  ${M?.goalName||""}`,wide:!0,children:M&&a.jsx(lT,{goal:M,onClose:()=>S(null)})})]})}function fl({label:s,value:l,sub:r,positive:t,bold:o}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:l}),r&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:r})]})}const cT=[{label:"Reports & Transactions",desc:"View transaction history",icon:by,path:"/reports",color:"bg-blue-500/15 text-[var(--accent-blue)]"},{label:"Reminders",desc:"View and manage reminders",icon:Du,path:"/reminders",color:"bg-amber-500/15 text-[var(--accent-amber)]"},{label:"Health Check",desc:"Financial health questionnaire",icon:Ef,path:"/health-check",color:"bg-emerald-500/15 text-emerald-400"},{label:"Settings",desc:"App configuration",icon:rp,path:"/settings",color:"bg-slate-500/15 text-[var(--text-muted)]"},{label:"About",desc:"Capital Friends v2.0",icon:wC,path:"/about",color:"bg-violet-500/15 text-[var(--accent-violet)]"},{label:"Support Developer",desc:"UPI: jagadeeshmanne.hdfc@kphdfc",icon:iu,path:"/about",color:"bg-pink-500/15 text-pink-400"}];function uT(){const s=Cs();return a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-base font-bold text-[var(--text-primary)]",children:"More"}),a.jsx("div",{className:"space-y-2",children:cT.map(l=>a.jsxs("button",{onClick:()=>s(l.path),className:"w-full flex items-center gap-3 bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${l.color}`,children:a.jsx(l.icon,{size:18})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:l.label}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:l.desc})]})]},l.label))})]})}const Uc=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function dT(){const s=Cs(),{theme:l,toggle:r}=cy(),{members:t,settings:o,updateSettings:u,updateMember:d,healthCheckCompleted:m}=Ue(),{user:x,signOut:p}=ks(),{masked:v,toggleMask:b,mv:N}=En(),C=t.filter(J=>J.status==="Active"),[M,S]=w.useState("Daily"),[g,j]=w.useState("09"),[D,y]=w.useState("Monday"),[_,O]=w.useState(!1),[U,G]=w.useState(!1),[E,z]=w.useState(!1),[H,W]=w.useState(null);w.useEffect(()=>{!o||!Object.keys(o).length||(o.EmailFrequency&&S(o.EmailFrequency),o.EmailHour!=null&&j(String(o.EmailHour).padStart(2,"0")),o.EmailDayOfWeek!=null&&y(Uc[Number(o.EmailDayOfWeek)]||"Monday"))},[o]);async function A(){O(!0),G(!1);try{const J=Uc.indexOf(D);await u({EmailFrequency:M==="None"?"None":M,EmailConfigured:M==="None"?"FALSE":"TRUE",EmailHour:String(parseInt(g,10)),EmailMinute:"0",EmailDayOfWeek:String(J>=0?J:1)}),G(!0),setTimeout(()=>G(!1),2e3)}catch(J){alert("Failed to save: "+J.message)}finally{O(!1)}}async function se(){z(!0),W(null);try{const J=await oS();W(J)}catch(J){W({error:J.message})}finally{z(!1)}}function $(J){if(!J)return"Never";try{const B=new Date(J);if(isNaN(B.getTime()))return"Unknown";const R=Date.now(),I=Math.floor((R-B.getTime())/(1e3*60));if(I<1)return"Just now";if(I<60)return I+" min ago";const ue=Math.floor(I/60);return ue<24?ue+"h ago":B.toLocaleDateString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}}return a.jsxs("div",{className:"space-y-4 max-w-xl mx-auto",children:[a.jsxs(ms,{children:[a.jsx(fs,{icon:a.jsx(u5,{size:14}),title:"Account"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(Oa,{label:"Signed in as",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate max-w-[200px]",children:N(x?.email,"email")||""})}),a.jsx(Oa,{label:"Name",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:x?.name||""})}),a.jsx("div",{className:"pt-1",children:a.jsxs("button",{onClick:p,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-red-500 border border-red-200 dark:border-red-800/40 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[a.jsx(wy,{size:12}),"Sign Out"]})})]})]}),a.jsxs(ms,{children:[a.jsx(fs,{icon:a.jsx(Ef,{size:14}),title:"Financial Health Check"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(Oa,{label:"Status",children:a.jsx("span",{className:`text-xs font-semibold ${m?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:m?"Completed":"Not completed"})}),a.jsx("div",{className:"flex justify-end pt-1",children:a.jsxs("button",{onClick:()=>s("/health-check"),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(Ef,{size:12}),m?"Update Answers":"Take Health Check"]})})]})]}),a.jsxs(ms,{children:[a.jsx(fs,{icon:a.jsx(rC,{size:14}),title:"Data & Sync"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(Oa,{label:"Last synced",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:$(o.masterDataLastSync)}),o._stale&&a.jsx("span",{className:"text-[10px] font-bold text-amber-600 px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30",children:"STALE"})]})}),o._navDataDate&&a.jsx(Oa,{label:"NAV data as of",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:o._navDataDate})}),a.jsx(Oa,{label:"Auto-refresh",children:a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Daily at ~6:30 AM"})}),a.jsxs("div",{className:"flex items-center justify-between pt-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Refresh MF NAVs, ATH & Stock prices"}),a.jsxs("button",{onClick:se,disabled:E,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg bg-violet-600 text-white hover:bg-violet-500 transition-colors disabled:opacity-50",children:[a.jsx(yl,{size:12,className:E?"animate-spin":""}),E?"Refreshing...":"Refresh Now"]})]}),H&&a.jsx("div",{className:`text-xs px-3 py-2 rounded-lg ${H.error?"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400":"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400"}`,children:H.error?"Failed: "+H.error:`Done  MF: ${H.mf?.count||0} | ATH: ${H.ath?.count||0} | Stocks: ${H.stocks?.count||0} (${H.duration})`})]})]}),a.jsxs(ms,{children:[a.jsx(fs,{icon:a.jsx(Tf,{size:14}),title:"Appearance"}),a.jsx("div",{className:"px-4 py-4",children:a.jsx(Oa,{label:"Theme",children:a.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[l==="dark"?a.jsx(Sy,{size:12}):a.jsx(Tf,{size:12}),l==="dark"?"Dark":"Light"]})})})]}),a.jsxs(ms,{children:[a.jsx(fs,{icon:a.jsx(RC,{size:14}),title:"Email Reports"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(Oa,{label:"Frequency",children:a.jsx(Cf,{value:M,onChange:S,options:["Daily","Weekly","Monthly","None"]})}),M!=="None"&&a.jsx(Oa,{label:"Send time",children:a.jsx(Cf,{value:g,onChange:j,options:Array.from({length:24},(J,B)=>String(B).padStart(2,"0")),suffix:":00"})}),M==="Weekly"&&a.jsx(Oa,{label:"Day",children:a.jsx(Cf,{value:D,onChange:y,options:Uc.slice(1).concat(Uc[0])})}),a.jsx("div",{className:"flex justify-end pt-1",children:a.jsx("button",{onClick:A,disabled:_,className:"px-4 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:_?"Saving...":U?"Saved!":"Save"})}),C.length>0&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Send report to"}),a.jsx("div",{className:"space-y-2",children:C.map(J=>a.jsx(mT,{member:J,onToggle:d},J.memberId))})]})}),C.length===0&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] pt-1",children:"Add family members to configure email recipients."})]})]}),a.jsxs(ms,{children:[a.jsx(fs,{icon:a.jsx(Xc,{size:14}),title:"Privacy"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(Oa,{label:"Mask sensitive data",children:a.jsx("button",{onClick:b,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 ${v?"bg-amber-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:a.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${v?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[v?"Sensitive data is hidden. ":"","Masks PAN, Aadhaar, mobile, email, account numbers, client IDs, and policy numbers across the app. Use the ",v?a.jsx(Xc,{size:11,className:"inline text-amber-400"}):a.jsx(np,{size:11,className:"inline"})," icon in the header to quickly toggle."]}),v&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[a.jsx(Xc,{size:14,className:"text-amber-400 shrink-0"}),a.jsx("p",{className:"text-xs text-amber-400 font-medium",children:"Data masking is active  safe for screen sharing"})]})]})]}),a.jsxs(ms,{children:[a.jsx(fs,{icon:a.jsx(bC,{size:14}),title:"Display"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(Oa,{label:"Currency",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"INR ()"})}),a.jsx(Oa,{label:"Date format",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"DD/MM/YYYY"})})]})]})]})}function ms({children:s}){return a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:s})}function fs({icon:s,title:l}){return a.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[var(--text-muted)]",children:s}),a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:l})]})})}function Oa({label:s,children:l}){return a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] shrink-0",children:s}),l]})}function Cf({value:s,onChange:l,options:r,suffix:t}){return a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:s,onChange:o=>l(o.target.value),className:"appearance-none pl-3 pr-7 py-1.5 text-xs font-semibold bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-violet-500 cursor-pointer",children:r.map(o=>a.jsxs("option",{value:o,children:[o,t||""]},o))}),a.jsx(Pr,{size:10,className:"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function mT({member:s,onToggle:l}){const{mv:r}=En(),t=s.includeInEmailReports==="Yes"||s.includeInEmailReports===!0,[o,u]=w.useState(!1);async function d(){u(!0);try{await l(s.memberId,{...s,includeInEmailReports:t?"No":"Yes"})}catch{}finally{u(!1)}}return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center shrink-0",children:a.jsx("span",{className:"text-[10px] font-bold text-violet-600",children:s.memberName?.charAt(0)?.toUpperCase()})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:s.memberName}),s.email&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] truncate",children:r(s.email,"email")})]})]}),a.jsx("button",{onClick:d,disabled:o,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 disabled:opacity-50 ${t?"bg-violet-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:a.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${t?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})]})}const fT=["SIP Due Date","Insurance Renewal","FD Maturity","Loan EMI","Investment Review","Custom"].map(s=>({value:s,label:s})),pT=[{value:"One-time",label:"One-time"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],xT=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}];function hT({initial:s,onSave:l,onDelete:r,onCancel:t}){const o=!!s,{activeMembers:u}=Ue(),d=u.map(g=>({value:g.memberId,label:g.memberName})),[m,x]=w.useState({reminderType:s?.reminderType||"",title:s?.title||"",description:s?.description||"",familyMemberId:s?.familyMemberId||"",dueDate:s?.dueDate||"",advanceNoticeDays:s?.advanceNoticeDays?.toString()||"7",frequency:s?.frequency||"One-time",priority:s?.priority||"Medium",status:s?.status||"Pending"}),[p,v]=w.useState({}),[b,N]=w.useState(!1);function C(g,j){x(D=>({...D,[g]:j})),v(D=>({...D,[g]:void 0}))}function M(){const g={};return m.reminderType||(g.reminderType="Required"),m.title.trim()||(g.title="Required"),m.familyMemberId||(g.familyMemberId="Required"),m.dueDate||(g.dueDate="Required"),v(g),Object.keys(g).length===0}async function S(){if(M()){N(!0);try{await l({...m,advanceNoticeDays:Number(m.advanceNoticeDays)||7})}finally{N(!1)}}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Reminder Type",required:!0,error:p.reminderType,children:a.jsx(_e,{value:m.reminderType,onChange:g=>C("reminderType",g),options:fT,placeholder:"Select type..."})}),a.jsx(te,{label:"Title",required:!0,error:p.title,children:a.jsx(fe,{value:m.title,onChange:g=>C("title",g),placeholder:"e.g., HDFC SIP Due"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Family Member",required:!0,error:p.familyMemberId,children:a.jsx(_e,{value:m.familyMemberId,onChange:g=>C("familyMemberId",g),options:d,placeholder:"Select member..."})}),a.jsx(te,{label:"Due Date",required:!0,error:p.dueDate,children:a.jsx(fe,{type:"date",value:m.dueDate,onChange:g=>C("dueDate",g)})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(te,{label:"Frequency",children:a.jsx(_e,{value:m.frequency,onChange:g=>C("frequency",g),options:pT})}),a.jsx(te,{label:"Priority",children:a.jsx(_e,{value:m.priority,onChange:g=>C("priority",g),options:xT})}),a.jsx(te,{label:"Advance Notice (days)",children:a.jsx(fe,{type:"number",value:m.advanceNoticeDays,onChange:g=>C("advanceNoticeDays",g),placeholder:"7"})})]}),o&&a.jsx(te,{label:"Status",children:a.jsx(_e,{value:m.status,onChange:g=>C("status",g),options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"}]})}),a.jsx(te,{label:"Description",children:a.jsx(Al,{value:m.description,onChange:g=>C("description",g),placeholder:"Optional details...",rows:2})}),a.jsxs("div",{className:"flex items-center justify-between",children:[o&&r?a.jsx(On,{onClick:r,label:"Delete"}):a.jsx("div",{}),a.jsx(sa,{onCancel:t,onSubmit:S,submitLabel:o?"Update Reminder":"Add Reminder",loading:b})]})]})}const qc={"SIP Due Date":"bg-violet-500/15 text-[var(--accent-violet)]","Insurance Renewal":"bg-amber-500/15 text-[var(--accent-amber)]","FD Maturity":"bg-blue-500/15 text-[var(--accent-blue)]","Loan EMI":"bg-rose-500/15 text-[var(--accent-rose)]","Investment Review":"bg-emerald-500/15 text-emerald-400",Custom:"bg-slate-500/15 text-[var(--text-muted)]"},lg={High:"bg-rose-500",Medium:"bg-amber-500",Low:"bg-blue-500"};function pl(s){if(!s)return 1/0;const l=new Date(s)-new Date;return Math.ceil(l/(1440*60*1e3))}function vT(){const{selectedMember:s,member:l}=Wt(),{reminderList:r,addReminder:t,updateReminder:o,deleteReminder:u}=Ue(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Tn(),[p,v]=w.useState(null),b=w.useMemo(()=>{const y=r.filter(_=>_.isActive!==!1);return s==="all"?y:y.filter(_=>_.familyMemberId===s)},[r,s]),N=b.filter(y=>pl(y.dueDate)<0).length,C=b.filter(y=>{const _=pl(y.dueDate);return _>=0&&_<=7}).length,M=b.filter(y=>{const _=pl(y.dueDate);return _>7&&_<=30}).length,S=[...b].sort((y,_)=>{const O=pl(y.dueDate),U=pl(_.dueDate);return O-U});async function g(y){m("Saving...");try{p?.edit?await o(p.edit.reminderId,y):await t(y),d(p?.edit?"Reminder updated":"Reminder added"),v(null)}catch(_){d(_.message||"Failed to save reminder","error")}finally{x()}}async function j(){if(p?.edit&&confirm("Delete this reminder?")){m("Deleting...");try{await u(p.edit.reminderId),d("Reminder deleted"),v(null)}catch(y){d(y.message||"Failed to delete reminder","error")}finally{x()}}}function D(y){const _=pl(y);return _<0?{label:`${Math.abs(_)}d overdue`,cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:_===0?{label:"Today",cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:_<=7?{label:`${_}d`,cls:"bg-amber-500/20 text-[var(--accent-amber)]"}:_<=30?{label:`${_}d`,cls:"bg-blue-500/20 text-[var(--accent-blue)]"}:{label:`${_}d`,cls:"bg-slate-500/20 text-[var(--text-muted)]"}}return a.jsxs("div",{className:"space-y-4",children:[b.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(RS,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No reminders",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a reminder"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx($c,{label:"Active",value:b.length}),N>0&&a.jsx($c,{label:"Overdue",value:N,color:"rose"}),C>0&&a.jsx($c,{label:"Due This Week",value:C,color:"amber"}),a.jsx($c,{label:"Next 30 Days",value:M})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Sa,{size:14})," Add Reminder"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[680px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Reminder"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Due Date"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Frequency"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:S.map(y=>{const _=D(y.dueDate);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${lg[y.priority]||"bg-slate-400"}`}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:y.title}),y.description&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[200px]",children:y.description})]})]})}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${qc[y.reminderType]||qc.Custom}`,children:y.reminderType})}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:y.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:y.dueDate}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${_.cls}`,children:_.label})]})}),a.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)]",children:y.frequency}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${y.status==="Pending"?"bg-amber-500/15 text-[var(--accent-amber)]":"bg-emerald-500/15 text-emerald-400"}`,children:y.status})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:y}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(mn,{size:12})})})]},y.reminderId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:S.map(y=>{const _=D(y.dueDate);return a.jsxs("div",{onClick:()=>v({edit:y}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${lg[y.priority]||"bg-slate-400"}`}),a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:y.title})]}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ml-2 ${qc[y.reminderType]||qc.Custom}`,children:y.reminderType})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[y.familyMemberName,"  ",y.frequency]}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${_.cls}`,children:_.label})]})]},y.reminderId)})})]})]}),a.jsx(Et,{open:!!p,onClose:()=>v(null),title:p?.edit?"Edit Reminder":"Add Reminder",wide:!0,children:a.jsx(hT,{initial:p?.edit||void 0,onSave:g,onDelete:p?.edit?j:void 0,onCancel:()=>v(null)})})]})}function $c({label:s,value:l,color:r}){const t=r==="rose"?"text-[var(--accent-rose)]":r==="amber"?"text-[var(--accent-amber)]":"text-[var(--text-primary)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm font-bold tabular-nums ${t}`,children:l})]})}const ig={BUY:"bg-emerald-500/15 text-emerald-400",SELL:"bg-rose-500/15 text-[var(--accent-rose)]"},bT={INITIAL:"bg-violet-500/15 text-[var(--accent-violet)]",SIP:"bg-blue-500/15 text-[var(--accent-blue)]",LUMPSUM:"bg-emerald-500/15 text-emerald-400",WITHDRAWAL:"bg-amber-500/15 text-[var(--accent-amber)]",SWITCH:"bg-orange-500/15 text-[var(--accent-orange)]"};function gT(){const{selectedMember:s}=Wt(),{mfTransactions:l,mfPortfolios:r,stockTransactions:t,stockPortfolios:o}=Ue(),[u,d]=w.useState("mf"),[m,x]=w.useState("all"),p=w.useMemo(()=>{let S=[...l].sort((g,j)=>new Date(j.date)-new Date(g.date));if(s!=="all"){const g=new Set(r.filter(j=>j.ownerId===s).map(j=>j.portfolioId));S=S.filter(j=>g.has(j.portfolioId))}return m!=="all"&&(S=S.filter(g=>g.type===m)),S},[l,r,s,m]),v=w.useMemo(()=>{let S=[...t].sort((g,j)=>new Date(j.date)-new Date(g.date));if(s!=="all"){const g=new Set(o.filter(j=>j.ownerId===s).map(j=>j.portfolioId));S=S.filter(j=>g.has(j.portfolioId))}return m!=="all"&&(S=S.filter(g=>g.type===m)),S},[t,o,s,m]),b=u==="mf"?p:v,N=b.filter(S=>S.type==="BUY").reduce((S,g)=>S+(g.totalAmount||0),0),C=b.filter(S=>S.type==="SELL").reduce((S,g)=>S+(g.totalAmount||0),0),M=b.reduce((S,g)=>S+(g.gainLoss||g.realizedPL||0),0);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Vc,{label:"Transactions",value:b.length}),a.jsx(Vc,{label:"Total Bought",value:Q(N)}),a.jsx(Vc,{label:"Total Sold",value:Q(C)}),a.jsx(Vc,{label:"Realized P&L",value:`${M>=0?"+":""}${Q(Math.abs(M))}`,positive:M>=0,bold:!0})]}),a.jsxs("div",{className:"flex items-center justify-between px-1",children:[a.jsx("div",{className:"flex gap-1",children:["mf","stocks"].map(S=>a.jsx("button",{onClick:()=>d(S),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${u===S?"bg-violet-500/20 text-violet-400 border border-violet-500/30":"text-[var(--text-dim)] hover:text-[var(--text-primary)] border border-transparent"}`,children:S==="mf"?"Mutual Funds":"Stocks"},S))}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(gy,{size:12,className:"text-[var(--text-dim)]"}),["all","BUY","SELL"].map(S=>a.jsx("button",{onClick:()=>x(S),className:`px-2 py-1 text-xs font-semibold rounded transition-colors ${m===S?"bg-[var(--bg-card)] text-[var(--text-primary)] border border-[var(--border)]":"text-[var(--text-dim)] hover:text-[var(--text-muted)]"}`,children:S==="all"?"All":S},S))]})]}),a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:b.length===0?a.jsxs("div",{className:"py-12 flex flex-col items-center gap-3",children:[a.jsx(by,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions found"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"Fund":"Stock"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Portfolio"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"Units":"Qty"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"NAV":"Price"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"})]})}),a.jsx("tbody",{children:b.map(S=>{const g=S.gainLoss||S.realizedPL||0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-muted)] tabular-nums",children:S.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${ig[S.type]||""}`,children:S.type}),S.transactionType&&a.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${bT[S.transactionType]||""}`,children:S.transactionType})]})}),a.jsxs("td",{className:"py-2.5 px-3",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:S.fundName||S.companyName}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:S.fundCode||S.symbol})]}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)]",children:S.portfolioName||""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:(S.units||S.quantity||0).toFixed(u==="mf"?2:0)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(S.price||S.pricePerShare||0)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(S.totalAmount||0)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:g!==0?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${g>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[g>=0?"+":"",Q(Math.abs(g))]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},S.transactionId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(S=>(S.gainLoss||S.realizedPL,a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:S.fundName||S.companyName}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded shrink-0 ${ig[S.type]||""}`,children:S.type})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[S.date,"  ",S.portfolioName]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[(S.units||S.quantity||0).toFixed(u==="mf"?2:0)," @ ",Q(S.price||S.pricePerShare||0)]}),a.jsx("span",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(S.totalAmount||0)})]})]},S.transactionId)))})]})})]})}function Vc({label:s,value:l,positive:r,bold:t}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${t?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l})]})}const gn=[{id:"healthIns",question:"Does your family have Health Insurance?",tip:"50L to 1Cr family floater recommended (considering inflation & future expenses)",category:"Insurance"},{id:"termLife",question:"Do you have adequate Term Life Insurance?",tip:"Recommended: 10-15x annual income",category:"Insurance"},{id:"emergencyFund",question:"Do you have an Emergency Fund?",tip:"6-12 months of monthly expenses in liquid assets",category:"Savings"},{id:"familyAware",question:"Is your family aware of all investments?",tip:"Ensure nominees and family know about all assets",category:"Planning"},{id:"hasWill",question:"Do you have a Will?",tip:"Legal document for asset distribution",category:"Planning"},{id:"nominees",question:"Have you updated Nominees on all accounts?",tip:"Bank, demat, insurance, MF  all should have nominees",category:"Planning"},{id:"goals",question:"Do you have clearly defined Financial Goals?",tip:"Retirement, education, home  with target amounts and dates",category:"Goals"}];function yT(){const s=Cs(),{members:l,insurancePolicies:r,goalList:t,otherInvList:o,healthCheckCompleted:u,completeHealthCheck:d}=Ue(),m=l.filter(H=>H.status==="Active"),x=u===!1,[p,v]=w.useState(!1),[b,N]=w.useState(!0),[C,M]=w.useState(null),S=w.useMemo(()=>{const H={},W=r.filter(J=>J.policyType==="Health"&&J.status==="Active");H.healthIns=W.length>0;const A=r.filter(J=>J.policyType==="Term Life"&&J.status==="Active");H.termLife=A.length>0;const se=t.filter(J=>J.goalType==="Emergency Fund"&&J.isActive),$=o.filter(J=>J.investmentType==="FD"||J.investmentType==="PPF");return H.emergencyFund=se.length>0||$.length>0,H.goals=t.filter(J=>J.isActive).length>=2,H},[r,t,o]);w.useEffect(()=>{let H=!1;async function W(){const A=await ly("healthCheckAnswers");!H&&A&&(M(A),N(!1));try{const se=await sy();!H&&se&&(M(se),ga("healthCheckAnswers",se))}catch{}H||N(!1)}return W(),()=>{H=!0}},[]);const[g,j]=w.useState(()=>{const H={};return gn.forEach(W=>{H[W.id]=S[W.id]?"yes":""}),H});w.useEffect(()=>{C&&j(H=>{const W={...H};return gn.forEach(A=>{const se=C[A.id];se==="Yes"?W[A.id]="yes":se==="No"&&(W[A.id]="no")}),W})},[C]);const D=Object.values(g).filter(H=>H).length,y=Object.values(g).filter(H=>H==="yes").length,_=D===gn.length,O=D>0?Math.round(y/gn.length*100):0;function U(){return O>=80?"text-emerald-400":O>=50?"text-[var(--accent-amber)]":"text-[var(--accent-rose)]"}function G(){return O>=80?"Excellent":O>=60?"Good":O>=40?"Needs Work":"Critical"}const E=w.useMemo(()=>{const H=[];return g.healthIns!=="yes"&&H.push({severity:"critical",text:"Get Health Insurance for your family",action:"Minimum 5L cover recommended"}),g.termLife!=="yes"&&H.push({severity:"critical",text:"Get Term Life Insurance (10-15x annual income)",action:"Compare plans online"}),g.emergencyFund!=="yes"&&H.push({severity:"warning",text:"Build an Emergency Fund",action:"Save 6-12 months expenses in liquid fund/FD"}),g.familyAware!=="yes"&&H.push({severity:"warning",text:"Share investment details with family",action:"Create a document with all account info"}),g.hasWill!=="yes"&&H.push({severity:"warning",text:"Create a legal Will",action:"Consult a lawyer for Will registration"}),g.nominees!=="yes"&&H.push({severity:"warning",text:"Update nominees on all accounts",action:"Check bank, demat, insurance, MF accounts"}),g.goals!=="yes"&&H.push({severity:"info",text:"Define clear financial goals",action:"Use the Goal Planner to set targets"}),H},[g]),z=w.useCallback(async()=>{if(_){v(!0);try{const H={};gn.forEach(W=>{H[W.id]=g[W.id]==="yes"?"Yes":"No"}),H.score=y,H.total=gn.length,await d(H),s("/dashboard")}catch(H){console.error("Failed to save health check:",H)}finally{v(!1)}}},[_,g,y,d,s]);return a.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[x&&a.jsxs("div",{className:"bg-violet-500/10 border border-violet-500/20 rounded-xl p-4",children:[a.jsx("h2",{className:"text-base font-bold text-violet-400 mb-1",children:"Welcome to Capital Friends!"}),a.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Before you start, please complete this quick Financial Health Check. It takes less than a minute and helps you understand where your family stands financially."})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(vy,{size:16,className:"text-violet-400"}),a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:"Financial Health Score"})]}),a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[D,"/",gn.length," answered"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative w-20 h-20",children:[a.jsxs("svg",{className:"w-20 h-20 -rotate-90",viewBox:"0 0 36 36",children:[a.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"var(--border)",strokeWidth:"3"}),a.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${O}, 100`,className:U(),strokeLinecap:"round"})]}),a.jsxs("span",{className:`absolute inset-0 flex items-center justify-center text-lg font-bold ${U()}`,children:[O,"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-base font-bold ${U()}`,children:G()}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:[y," of ",gn.length," checks passed"]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[m.length," family members tracked"]})]})]})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Health Check Questions"})}),a.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:gn.map((H,W)=>a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-sm text-[var(--text-primary)]",children:[a.jsxs("span",{className:"text-[var(--text-dim)] mr-2",children:[W+1,"."]}),H.question]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5 ml-5",children:H.tip})]}),a.jsxs("div",{className:"flex gap-1 shrink-0",children:[a.jsx("button",{onClick:()=>j(A=>({...A,[H.id]:"yes"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${g[H.id]==="yes"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"Yes"}),a.jsx("button",{onClick:()=>j(A=>({...A,[H.id]:"no"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${g[H.id]==="no"?"bg-rose-500/20 text-[var(--accent-rose)] border border-rose-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"No"})]})]}),S[H.id]&&a.jsx("p",{className:"text-xs text-violet-400 mt-1 ml-5",children:"Auto-detected from your data"})]},H.id))})]}),E.length>0&&_&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Recommendations"})}),a.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:E.map((H,W)=>{const A=H.severity==="critical"?a.jsx(hy,{size:14,className:"text-[var(--accent-rose)]"}):H.severity==="warning"?a.jsx(Tu,{size:14,className:"text-[var(--accent-amber)]"}):a.jsx(QS,{size:14,className:"text-[var(--accent-blue)]"});return a.jsxs("div",{className:"flex items-start gap-3 px-4 py-3",children:[a.jsx("span",{className:"shrink-0 mt-0.5",children:A}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-[var(--text-primary)]",children:H.text}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:H.action})]})]},W)})})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[!_&&a.jsxs("p",{className:"text-xs text-[var(--accent-amber)] mb-3",children:["Please answer all ",gn.length," questions before saving."]}),a.jsx("button",{onClick:z,disabled:!_||p,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-bold transition-colors ${_&&!p?"bg-violet-600 hover:bg-violet-500 text-white":"bg-[var(--bg-inset)] text-[var(--text-dim)] cursor-not-allowed"}`,children:p?a.jsxs(a.Fragment,{children:[a.jsx(jy,{size:16,className:"animate-spin"}),"Saving..."]}):x?a.jsxs(a.Fragment,{children:["Save & Continue to Dashboard",a.jsx(TS,{size:16})]}):a.jsxs(a.Fragment,{children:[a.jsx(KC,{size:16}),"Update Health Check"]})})]})]})}function NT(){return a.jsxs("div",{className:"space-y-4 max-w-lg mx-auto",children:[a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-5 text-center",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-indigo-600 flex items-center justify-center mx-auto mb-3",children:a.jsx("span",{className:"text-xl font-bold text-white",children:"CF"})}),a.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Capital Friends"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Family Portfolio Management"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-2",children:"v2.0.0"})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Features"})}),a.jsx("div",{className:"px-4 py-3 space-y-2",children:["Track Mutual Funds, Stocks & Other Investments","Family member-wise portfolio management","ATH-based Buy Opportunities","Smart Rebalancing with threshold alerts","Goal planning with portfolio mapping","Insurance, Liabilities & Bank Accounts","Financial Health Check questionnaire","Reminders for SIPs, renewals & due dates","Email reports with detailed breakdowns"].map(s=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-500 shrink-0"}),a.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:s})]},s))})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(iu,{size:12,className:"text-pink-400"}),a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Support Developer"})]})}),a.jsxs("div",{className:"px-4 py-4 text-center",children:[a.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-3",children:"If Capital Friends helps you manage your family finances, consider supporting the developer."}),a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-3 border border-[var(--border)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-1",children:"UPI"}),a.jsx("p",{className:"text-sm font-mono font-semibold text-[var(--text-primary)] select-all",children:"jagadeeshmanne.hdfc@kphdfc"})]}),a.jsxs("div",{className:"flex items-center justify-center gap-1 mt-3",children:[a.jsx(JS,{size:12,className:"text-[var(--accent-amber)]"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Buy me a chai!"})]})]})]}),a.jsxs("div",{className:"text-center py-2",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Made with ",a.jsx(iu,{size:10,className:"inline text-pink-400 mx-0.5"})," by Jagadeesh Manne"]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Built with React + Vite + Tailwind CSS"})]})]})}function jT(){return Date.now().toString(36).toUpperCase()}function wT(){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZ",l=r=>Array.from({length:r},()=>s[Math.floor(Math.random()*26)]).join("");return l(5)+Math.floor(1e3+Math.random()*9e3)+l(1)}function ST(){return String(Math.floor(2e11+Math.random()*8e11))}function og(){return"9"+String(Math.floor(1e8+Math.random()*9e8))}function CT(){return String(Math.floor(1e9+Math.random()*9e9))}function kT(){const s=jT();return{member:{memberName:`Test Member ${s}`,relationship:"Self",pan:wT(),aadhar:ST(),email:`test-${s.toLowerCase()}@example.com`,mobile:og(),includeInEmailReports:!0},bank:{accountName:`Test Savings ${s}`,bankName:"Test Bank",accountNumber:CT(),ifscCode:"TEST0001234",accountType:"Savings",branchName:"Test Branch"},investmentAccount:{accountName:`Test Demat ${s}`,accountType:"Demat",platformBroker:"Test Broker Platform",accountClientId:`CLI-${s}`,registeredEmail:`test-${s.toLowerCase()}@example.com`,registeredPhone:og()},insurance:{policyType:"Term Life",company:"Test Insurance Co",policyNumber:`POL-${s}`,policyName:`Test Term Plan ${s}`,sumAssured:5e6,nominee:"Test Nominee",dynamicFields:{Premium:15e3,"Premium Frequency":"Annual"}},liability:{liabilityType:"Home Loan",lenderName:"Test Bank",outstandingBalance:45e5,dynamicFields:{"Principal Amount":5e6,"Interest Rate":8.5,"EMI Amount":45e3},notes:`Test liability ${s}`},otherInvestment:{investmentType:"Fixed Deposit",investmentName:`Test FD ${s}`,investedAmount:1e5,currentValue:105e3,investmentCategory:"Debt"},stockPortfolio:{portfolioName:`Test Stock Portfolio ${s}`,broker:"Test Broker"},reminder:{title:`Test Reminder ${s}`,description:"Automated test reminder",dueDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],category:"Insurance",priority:"Medium"},goal:{goalName:`Test Goal ${s}`,goalType:"Custom",targetAmount:1e6,targetDate:"2040-01-01",priority:"Medium",expectedInflation:.06,expectedCAGR:.12}}}function DT({status:s,text:l}){const r={pass:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",fail:"bg-rose-500/20 text-rose-400 border-rose-500/30",skip:"bg-amber-500/20 text-amber-400 border-amber-500/30",running:"bg-blue-500/20 text-blue-400 border-blue-500/30",pending:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return a.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded border ${r[s]||r.pending}`,children:l||s.toUpperCase()})}function MT(){const{user:s}=ks(),[l,r]=w.useState([]),[t,o]=w.useState(!1),[u,d]=w.useState(null),[m,x]=w.useState(!1),p=w.useCallback((g,j,D="")=>{r(y=>[...y,{test:g,status:j,detail:D,time:new Date().toLocaleTimeString()}])},[]),v=w.useCallback((g,j="")=>{r(D=>{const y=[...D];return y.length>0&&(y[y.length-1]={...y[y.length-1],status:g,detail:j}),y})},[]),b=async()=>{x(!0),d(null);try{const g=await ye("test:diagnose");d(g)}catch(g){d({error:g.message})}finally{x(!1)}},N=async()=>{o(!0),r([]);const g=kT();let j=null,D=null,y=null,_=null,O=null,U=null,G=null,E=null,z=null,H=null;try{p("API Echo Test","running");try{const A=await ye("test:echo",{hello:"world"});A&&A.echo&&A.echo.hello==="world"?v("pass","Echo response received correctly"):v("fail","Unexpected response: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Diagnostics","running");try{const A=await ye("test:diagnose"),se=Object.entries(A.sheets||{}).filter(([,J])=>!J.exists).map(([J])=>J);if(se.length>0)v("fail",`Missing sheets: ${se.join(", ")}`);else{const J=Object.keys(A.sheets).length;v("pass",`All ${J} sheets exist. SpreadsheetId: ${A.spreadsheetId}`)}const $=Object.entries(A.dataTests||{}).filter(([,J])=>!J.success).map(([J,B])=>`${J}: ${B.error}`);$.length>0&&p("Data Function Errors","fail",$.join("; "))}catch(A){v("fail",A.message)}p("Load All Data (bulk)","running");try{const A=await lu(),se=Object.entries(A).map(([$,J])=>`${$}: ${Array.isArray(J)?J.length:"?"}`);v("pass",se.join(", "))}catch(A){v("fail",A.message)}p("Members  Create","running");try{const A=await _g(g.member);j=A?.memberId,D=g.member.memberName,j?v("pass",`Created: ${j}`):v("fail","No memberId returned: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Members  List","running");try{const A=await Eg();Array.isArray(A)&&A.some($=>$.memberId===j)?v("pass",`Found ${j} in ${A.length} member(s)`):v("fail",`Member ${j} not found. Got ${Array.isArray(A)?A.length:0} members: ${JSON.stringify(A).substring(0,200)}`)}catch(A){v("fail",A.message)}if(j){p("Members  Update","running");try{await Og({...g.member,memberId:j,memberName:"Updated Test Member"}),D="Updated Test Member",v("pass",'Updated name to "Updated Test Member"')}catch(A){v("fail",A.message)}}p("Banks  Create","running");try{const A=await Lg({...g.bank,memberId:j||"FM-001"});y=A?.accountId,v(y?"pass":"fail",y?`Created: ${y}`:"No accountId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Banks  List","running");try{const A=await Ig();v("pass",`${Array.isArray(A)?A.length:0} account(s)`)}catch(A){v("fail",A.message)}p("Investment Accounts  Create","running");try{const A=await Fg({...g.investmentAccount,memberId:j||"FM-001",bankAccountId:y||"BA-001"});_=A?.accountId,v(_?"pass":"fail",_?`Created: ${_}`:"No accountId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Investment Accounts  List","running");try{const A=await zg();v("pass",`${Array.isArray(A)?A.length:0} account(s)`)}catch(A){v("fail",A.message)}p("Insurance  Create","running");try{const A=await $g({...g.insurance,memberId:j||"FM-001",insuredMember:D||"Test Member"});O=A?.policyId,v(O?"pass":"fail",O?`Created: ${O}`:"No policyId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Insurance  List","running");try{const A=await qg();v("pass",`${Array.isArray(A)?A.length:0} policy/policies`)}catch(A){v("fail",A.message)}p("Liabilities  Create","running");try{const A=await Qg({...g.liability,familyMember:j||"FM-001"});U=A?.liabilityId,v(U?"pass":"fail",U?`Created: ${U}`:"No liabilityId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Liabilities  List","running");try{const A=await Gg();v("pass",`${Array.isArray(A)?A.length:0} liability/liabilities`)}catch(A){v("fail",A.message)}p("Other Investments  Create","running");try{const A=await Wg({...g.otherInvestment,familyMember:j||"FM-001"});G=A?.investmentId,v(G?"pass":"fail",G?`Created: ${G}`:"No investmentId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Other Investments  List","running");try{const A=await Xg();v("pass",`${Array.isArray(A)?A.length:0} investment(s)`)}catch(A){v("fail",A.message)}p("Stock Portfolios  Create","running");try{const A=await ey({...g.stockPortfolio,owner:j||"FM-001"});E=A?.portfolioId,v(E?"pass":"fail",E?`Created: ${E}`:"No portfolioId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Stock Portfolios  List","running");try{const A=await Jg();v("pass",`${Array.isArray(A)?A.length:0} portfolio(s)`)}catch(A){v("fail",A.message)}p("Reminders  Create","running");try{const A=await ny(g.reminder);z=A?.reminderId,v(z?"pass":"fail",z?`Created: ${z}`:"No reminderId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Reminders  List","running");try{const A=await ay();v("pass",`${Array.isArray(A)?A.length:0} reminder(s)`)}catch(A){v("fail",A.message)}p("Goals  Create","running");try{const A=await Yg(g.goal);H=A?.goalId,v(H?"pass":"fail",H?`Created: ${H}`:"No goalId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Goals  List","running");try{const A=await Hg();v("pass",`${Array.isArray(A)?A.length:0} goal(s)`)}catch(A){v("fail",A.message)}p("Cleanup  Delete test data","running");const W=[];if(H)try{await Ug(H)}catch(A){W.push("goal: "+A.message)}if(z)try{await ry(z)}catch(A){W.push("reminder: "+A.message)}if(E)try{await ty(E)}catch(A){W.push("stockPortfolio: "+A.message)}if(G)try{await Zg(G)}catch(A){W.push("otherInv: "+A.message)}if(U)try{await Kg(U)}catch(A){W.push("liability: "+A.message)}if(O)try{await Vg(O)}catch(A){W.push("insurance: "+A.message)}if(_)try{await Bg(_)}catch(A){W.push("invAcct: "+A.message)}if(y)try{await Pg(y)}catch(A){W.push("bank: "+A.message)}if(j)try{await Rg(j)}catch(A){W.push("member: "+A.message)}W.length>0?v("fail",W.join("; ")):v("pass","All test data cleaned up"),p("Final Load All (post-cleanup)","running");try{const A=await lu(),se=Object.entries(A).map(([$,J])=>`${$}: ${Array.isArray(J)?J.length:"?"}`);v("pass",se.join(", "))}catch(A){v("fail",A.message)}}catch(W){p("UNEXPECTED ERROR","fail",W.message)}finally{o(!1)}},C=l.filter(g=>g.status==="pass").length,M=l.filter(g=>g.status==="fail").length,S=l.filter(g=>g.status!=="running").length;return a.jsx("div",{className:"min-h-screen bg-[var(--bg-main)] p-4 max-w-3xl mx-auto",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"API Test Suite"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Signed in as ",s?.email||"unknown"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:b,disabled:m||t,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--bg-card)] border border-[var(--border)] text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] disabled:opacity-50 cursor-pointer",children:m?"Running...":"Diagnostics"}),a.jsx("button",{onClick:N,disabled:t,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-violet-600 text-white hover:bg-violet-700 disabled:opacity-50 cursor-pointer",children:t?"Running Tests...":"Run All Tests"})]})]}),S>0&&a.jsxs("div",{className:"flex gap-3 text-xs",children:[a.jsxs("span",{className:"text-emerald-400",children:["Pass: ",C]}),a.jsxs("span",{className:"text-rose-400",children:["Fail: ",M]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:["Total: ",S]})]}),u&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 space-y-3",children:[a.jsx("h2",{className:"text-sm font-semibold text-[var(--text-primary)]",children:"Diagnostics Report"}),u.error?a.jsx("p",{className:"text-xs text-rose-400",children:u.error}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-xs text-[var(--text-secondary)] space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Spreadsheet:"})," ",u.spreadsheetName]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"ID:"})," ",a.jsx("code",{className:"text-[10px]",children:u.spreadsheetId})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Sheets"}),a.jsx("div",{className:"grid grid-cols-2 gap-1",children:Object.entries(u.sheets||{}).map(([g,j])=>a.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[a.jsx("span",{className:"text-[var(--text-secondary)] truncate",children:g}),j.exists?a.jsxs("span",{className:"text-emerald-400 ml-1",children:[j.dataRows,"r"]}):a.jsx("span",{className:"text-rose-400 ml-1",children:"MISSING"})]},g))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Data Functions"}),a.jsx("div",{className:"space-y-1",children:Object.entries(u.dataTests||{}).map(([g,j])=>a.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[a.jsx("span",{className:"text-[var(--text-secondary)]",children:g}),j.success?a.jsxs("span",{className:"text-emerald-400",children:[j.count," items"]}):a.jsx("span",{className:"text-rose-400 truncate ml-2 max-w-[200px]",title:j.error,children:j.error})]},g))})]}),u.safeCallErrors&&u.safeCallErrors.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-rose-400 mb-1",children:"SafeCall Errors"}),u.safeCallErrors.map((g,j)=>a.jsxs("p",{className:"text-[11px] text-rose-400",children:[g.fn,": ",g.error]},j))]})]})]}),l.length>0&&a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:a.jsx("div",{className:"divide-y divide-[var(--border)]",children:l.map((g,j)=>a.jsxs("div",{className:"px-4 py-2 flex items-start gap-3",children:[a.jsx("div",{className:"mt-0.5 shrink-0",children:a.jsx(DT,{status:g.status})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:g.test}),g.detail&&a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5 break-all",children:g.detail})]}),a.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:g.time})]},j))})}),l.length===0&&!u&&a.jsxs("div",{className:"text-center py-12 text-[var(--text-dim)]",children:[a.jsx("p",{className:"text-sm",children:'Click "Run All Tests" to test all CRUD operations'}),a.jsx("p",{className:"text-xs mt-1",children:'or "Diagnostics" to check spreadsheet structure'})]})]})})}function AT(){return a.jsxs(Gw,{children:[a.jsx(Nt,{index:!0,element:a.jsx(_3,{})}),a.jsx(Nt,{path:"login",element:a.jsx(g1,{})}),a.jsx(Nt,{element:a.jsx(D3,{}),children:a.jsxs(Nt,{element:a.jsx(k3,{}),children:[a.jsx(Nt,{path:"dashboard",element:a.jsx(ru,{to:"/investments/mutual-funds",replace:!0})}),a.jsx(Nt,{path:"family",element:a.jsx(aT,{})}),a.jsx(Nt,{path:"accounts/bank",element:a.jsx(Pb,{})}),a.jsx(Nt,{path:"accounts/investment",element:a.jsx(z3,{})}),a.jsx(Nt,{path:"insurance",element:a.jsx(Y3,{})}),a.jsx(Nt,{path:"investments/mutual-funds",element:a.jsx(QA,{})}),a.jsx(Nt,{path:"investments/stocks",element:a.jsx(JA,{})}),a.jsx(Nt,{path:"investments/other",element:a.jsx(eA,{})}),a.jsx(Nt,{path:"liabilities",element:a.jsx(V3,{})}),a.jsx(Nt,{path:"goals",element:a.jsx(oT,{})}),a.jsx(Nt,{path:"reports",element:a.jsx(gT,{})}),a.jsx(Nt,{path:"reminders",element:a.jsx(vT,{})}),a.jsx(Nt,{path:"health-check",element:a.jsx(yT,{})}),a.jsx(Nt,{path:"about",element:a.jsx(NT,{})}),a.jsx(Nt,{path:"test",element:a.jsx(MT,{})}),a.jsx(Nt,{path:"settings",element:a.jsx(dT,{})}),a.jsx(Nt,{path:"more",element:a.jsx(uT,{})}),a.jsx(Nt,{path:"accounts",element:a.jsx(Pb,{})}),a.jsx(Nt,{path:"*",element:a.jsx(O3,{})})]})})]})}Qj.createRoot(document.getElementById("root")).render(a.jsx(v2,{children:a.jsx(vS,{children:a.jsx(bS,{children:a.jsx(S5,{children:a.jsx(x5,{children:a.jsx(yS,{children:a.jsx(NS,{children:a.jsx(AT,{})})})})})})})}));
