function EL(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function si(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var R0={exports:{}},ku={};var aC;function _L(){if(aC)return ku;aC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var u in a)u!=="key"&&(l[u]=a[u])}else l=a;return a=l.ref,{$$typeof:e,type:r,key:c,ref:a!==void 0?a:null,props:l}}return ku.Fragment=t,ku.jsx=n,ku.jsxs=n,ku}var iC;function OL(){return iC||(iC=1,R0.exports=_L()),R0.exports}var s=OL(),L0={exports:{}},Je={};var sC;function TL(){if(sC)return Je;sC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function b(F){return F===null||typeof F!="object"?null:(F=x&&F[x]||F["@@iterator"],typeof F=="function"?F:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function C(F,ae,he){this.props=F,this.context=ae,this.refs=y,this.updater=he||S}C.prototype.isReactComponent={},C.prototype.setState=function(F,ae){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ae,"setState")},C.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function M(){}M.prototype=C.prototype;function A(F,ae,he){this.props=F,this.context=ae,this.refs=y,this.updater=he||S}var _=A.prototype=new M;_.constructor=A,w(_,C.prototype),_.isPureReactComponent=!0;var E=Array.isArray;function T(){}var P={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function L(F,ae,he){var ye=he.ref;return{$$typeof:e,type:F,key:ae,ref:ye!==void 0?ye:null,props:he}}function R(F,ae){return L(F.type,ae,F.props)}function B(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function D(F){var ae={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(he){return ae[he]})}var K=/\/+/g;function X(F,ae){return typeof F=="object"&&F!==null&&F.key!=null?D(""+F.key):ae.toString(36)}function Z(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(T,T):(F.status="pending",F.then(function(ae){F.status==="pending"&&(F.status="fulfilled",F.value=ae)},function(ae){F.status==="pending"&&(F.status="rejected",F.reason=ae)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function $(F,ae,he,ye,je){var Ie=typeof F;(Ie==="undefined"||Ie==="boolean")&&(F=null);var me=!1;if(F===null)me=!0;else switch(Ie){case"bigint":case"string":case"number":me=!0;break;case"object":switch(F.$$typeof){case e:case t:me=!0;break;case h:return me=F._init,$(me(F._payload),ae,he,ye,je)}}if(me)return je=je(F),me=ye===""?"."+X(F,0):ye,E(je)?(he="",me!=null&&(he=me.replace(K,"$&/")+"/"),$(je,ae,he,"",function(Ne){return Ne})):je!=null&&(B(je)&&(je=R(je,he+(je.key==null||F&&F.key===je.key?"":(""+je.key).replace(K,"$&/")+"/")+me)),ae.push(je)),1;me=0;var ge=ye===""?".":ye+":";if(E(F))for(var W=0;W<F.length;W++)ye=F[W],Ie=ge+X(ye,W),me+=$(ye,ae,he,Ie,je);else if(W=b(F),typeof W=="function")for(F=W.call(F),W=0;!(ye=F.next()).done;)ye=ye.value,Ie=ge+X(ye,W++),me+=$(ye,ae,he,Ie,je);else if(Ie==="object"){if(typeof F.then=="function")return $(Z(F),ae,he,ye,je);throw ae=String(F),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return me}function G(F,ae,he){if(F==null)return F;var ye=[],je=0;return $(F,ye,"","",function(Ie){return ae.call(he,Ie,je++)}),ye}function z(F){if(F._status===-1){var ae=F._result;ae=ae(),ae.then(function(he){(F._status===0||F._status===-1)&&(F._status=1,F._result=he)},function(he){(F._status===0||F._status===-1)&&(F._status=2,F._result=he)}),F._status===-1&&(F._status=0,F._result=ae)}if(F._status===1)return F._result.default;throw F._result}var te=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},ve={map:G,forEach:function(F,ae,he){G(F,function(){ae.apply(this,arguments)},he)},count:function(F){var ae=0;return G(F,function(){ae++}),ae},toArray:function(F){return G(F,function(ae){return ae})||[]},only:function(F){if(!B(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Je.Activity=v,Je.Children=ve,Je.Component=C,Je.Fragment=n,Je.Profiler=a,Je.PureComponent=A,Je.StrictMode=r,Je.Suspense=f,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Je.__COMPILER_RUNTIME={__proto__:null,c:function(F){return P.H.useMemoCache(F)}},Je.cache=function(F){return function(){return F.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function(F,ae,he){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ye=w({},F.props),je=F.key;if(ae!=null)for(Ie in ae.key!==void 0&&(je=""+ae.key),ae)!O.call(ae,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ae.ref===void 0||(ye[Ie]=ae[Ie]);var Ie=arguments.length-2;if(Ie===1)ye.children=he;else if(1<Ie){for(var me=Array(Ie),ge=0;ge<Ie;ge++)me[ge]=arguments[ge+2];ye.children=me}return L(F.type,je,ye)},Je.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:l,_context:F},F},Je.createElement=function(F,ae,he){var ye,je={},Ie=null;if(ae!=null)for(ye in ae.key!==void 0&&(Ie=""+ae.key),ae)O.call(ae,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(je[ye]=ae[ye]);var me=arguments.length-2;if(me===1)je.children=he;else if(1<me){for(var ge=Array(me),W=0;W<me;W++)ge[W]=arguments[W+2];je.children=ge}if(F&&F.defaultProps)for(ye in me=F.defaultProps,me)je[ye]===void 0&&(je[ye]=me[ye]);return L(F,Ie,je)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(F){return{$$typeof:u,render:F}},Je.isValidElement=B,Je.lazy=function(F){return{$$typeof:h,_payload:{_status:-1,_result:F},_init:z}},Je.memo=function(F,ae){return{$$typeof:m,type:F,compare:ae===void 0?null:ae}},Je.startTransition=function(F){var ae=P.T,he={};P.T=he;try{var ye=F(),je=P.S;je!==null&&je(he,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(T,te)}catch(Ie){te(Ie)}finally{ae!==null&&he.types!==null&&(ae.types=he.types),P.T=ae}},Je.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Je.use=function(F){return P.H.use(F)},Je.useActionState=function(F,ae,he){return P.H.useActionState(F,ae,he)},Je.useCallback=function(F,ae){return P.H.useCallback(F,ae)},Je.useContext=function(F){return P.H.useContext(F)},Je.useDebugValue=function(){},Je.useDeferredValue=function(F,ae){return P.H.useDeferredValue(F,ae)},Je.useEffect=function(F,ae){return P.H.useEffect(F,ae)},Je.useEffectEvent=function(F){return P.H.useEffectEvent(F)},Je.useId=function(){return P.H.useId()},Je.useImperativeHandle=function(F,ae,he){return P.H.useImperativeHandle(F,ae,he)},Je.useInsertionEffect=function(F,ae){return P.H.useInsertionEffect(F,ae)},Je.useLayoutEffect=function(F,ae){return P.H.useLayoutEffect(F,ae)},Je.useMemo=function(F,ae){return P.H.useMemo(F,ae)},Je.useOptimistic=function(F,ae){return P.H.useOptimistic(F,ae)},Je.useReducer=function(F,ae,he){return P.H.useReducer(F,ae,he)},Je.useRef=function(F){return P.H.useRef(F)},Je.useState=function(F){return P.H.useState(F)},Je.useSyncExternalStore=function(F,ae,he){return P.H.useSyncExternalStore(F,ae,he)},Je.useTransition=function(){return P.H.useTransition()},Je.version="19.2.4",Je}var lC;function wc(){return lC||(lC=1,L0.exports=TL()),L0.exports}var j=wc();const oe=si(j),n1=EL({__proto__:null,default:oe},[j]);var z0={exports:{}},Du={},F0={exports:{}},B0={};var oC;function PL(){return oC||(oC=1,(function(e){function t($,G){var z=$.length;$.push(G);e:for(;0<z;){var te=z-1>>>1,ve=$[te];if(0<a(ve,G))$[te]=G,$[z]=ve,z=te;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var G=$[0],z=$.pop();if(z!==G){$[0]=z;e:for(var te=0,ve=$.length,F=ve>>>1;te<F;){var ae=2*(te+1)-1,he=$[ae],ye=ae+1,je=$[ye];if(0>a(he,z))ye<ve&&0>a(je,he)?($[te]=je,$[ye]=z,te=ye):($[te]=he,$[ae]=z,te=ae);else if(ye<ve&&0>a(je,z))$[te]=je,$[ye]=z,te=ye;else break e}}return G}function a($,G){var z=$.sortIndex-G.sortIndex;return z!==0?z:$.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],m=[],h=1,v=null,x=3,b=!1,S=!1,w=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function _($){for(var G=n(m);G!==null;){if(G.callback===null)r(m);else if(G.startTime<=$)r(m),G.sortIndex=G.expirationTime,t(f,G);else break;G=n(m)}}function E($){if(w=!1,_($),!S)if(n(f)!==null)S=!0,T||(T=!0,D());else{var G=n(m);G!==null&&Z(E,G.startTime-$)}}var T=!1,P=-1,O=5,L=-1;function R(){return y?!0:!(e.unstable_now()-L<O)}function B(){if(y=!1,T){var $=e.unstable_now();L=$;var G=!0;try{e:{S=!1,w&&(w=!1,M(P),P=-1),b=!0;var z=x;try{t:{for(_($),v=n(f);v!==null&&!(v.expirationTime>$&&R());){var te=v.callback;if(typeof te=="function"){v.callback=null,x=v.priorityLevel;var ve=te(v.expirationTime<=$);if($=e.unstable_now(),typeof ve=="function"){v.callback=ve,_($),G=!0;break t}v===n(f)&&r(f),_($)}else r(f);v=n(f)}if(v!==null)G=!0;else{var F=n(m);F!==null&&Z(E,F.startTime-$),G=!1}}break e}finally{v=null,x=z,b=!1}G=void 0}}finally{G?D():T=!1}}}var D;if(typeof A=="function")D=function(){A(B)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,X=K.port2;K.port1.onmessage=B,D=function(){X.postMessage(null)}}else D=function(){C(B,0)};function Z($,G){P=C(function(){$(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function($){switch(x){case 1:case 2:case 3:var G=3;break;default:G=x}var z=x;x=G;try{return $()}finally{x=z}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var z=x;x=$;try{return G()}finally{x=z}},e.unstable_scheduleCallback=function($,G,z){var te=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?te+z:te):z=te,$){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=z+ve,$={id:h++,callback:G,priorityLevel:$,startTime:z,expirationTime:ve,sortIndex:-1},z>te?($.sortIndex=z,t(m,$),n(f)===null&&$===n(m)&&(w?(M(P),P=-1):w=!0,Z(E,z-te))):($.sortIndex=ve,t(f,$),S||b||(S=!0,T||(T=!0,D()))),$},e.unstable_shouldYield=R,e.unstable_wrapCallback=function($){var G=x;return function(){var z=x;x=G;try{return $.apply(this,arguments)}finally{x=z}}}})(B0)),B0}var cC;function IL(){return cC||(cC=1,F0.exports=PL()),F0.exports}var $0={exports:{}},Wr={};var uC;function RL(){if(uC)return Wr;uC=1;var e=wc();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)m+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,m,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:m,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Wr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wr.createPortal=function(f,m){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(f,m,null,h)},Wr.flushSync=function(f){var m=c.T,h=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=m,r.p=h,r.d.f()}},Wr.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},Wr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Wr.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var h=m.as,v=u(h,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;h==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:b}):h==="script"&&r.d.X(f,{crossOrigin:v,integrity:x,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Wr.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var h=u(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},Wr.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var h=m.as,v=u(h,m.crossOrigin);r.d.L(f,h,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Wr.preloadModule=function(f,m){if(typeof f=="string")if(m){var h=u(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},Wr.requestFormReset=function(f){r.d.r(f)},Wr.unstable_batchedUpdates=function(f,m){return f(m)},Wr.useFormState=function(f,m,h){return c.H.useFormState(f,m,h)},Wr.useFormStatus=function(){return c.H.useHostTransitionStatus()},Wr.version="19.2.4",Wr}var dC;function z_(){if(dC)return $0.exports;dC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$0.exports=RL(),$0.exports}var fC;function LL(){if(fC)return Du;fC=1;var e=IL(),t=wc(),n=z_();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,d=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(d=o.return),i=o.return;while(i)}return o.tag===3?d:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(r(188))}function m(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(r(188));return o!==i?null:i}for(var d=i,p=o;;){var g=d.return;if(g===null)break;var N=g.alternate;if(N===null){if(p=g.return,p!==null){d=p;continue}break}if(g.child===N.child){for(N=g.child;N;){if(N===d)return f(g),i;if(N===p)return f(g),o;N=N.sibling}throw Error(r(188))}if(d.return!==p.return)d=g,p=N;else{for(var k=!1,I=g.child;I;){if(I===d){k=!0,d=g,p=N;break}if(I===p){k=!0,p=g,d=N;break}I=I.sibling}if(!k){for(I=N.child;I;){if(I===d){k=!0,d=N,p=g;break}if(I===p){k=!0,p=N,d=g;break}I=I.sibling}if(!k)throw Error(r(189))}}if(d.alternate!==p)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?i:o}function h(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=h(i),o!==null)return o;i=i.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),A=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var K=Symbol.for("react.client.reference");function X(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===K?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case C:return"Profiler";case y:return"StrictMode";case E:return"Suspense";case T:return"SuspenseList";case L:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case A:return i.displayName||"Context";case M:return(i._context.displayName||"Context")+".Consumer";case _:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return o=i.displayName||null,o!==null?o:X(i.type)||"Memo";case O:o=i._payload,i=i._init;try{return X(i(o))}catch{}}return null}var Z=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},te=[],ve=-1;function F(i){return{current:i}}function ae(i){0>ve||(i.current=te[ve],te[ve]=null,ve--)}function he(i,o){ve++,te[ve]=i.current,i.current=o}var ye=F(null),je=F(null),Ie=F(null),me=F(null);function ge(i,o){switch(he(Ie,o),he(je,i),he(ye,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?M2(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=M2(o),i=k2(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ae(ye),he(ye,i)}function W(){ae(ye),ae(je),ae(Ie)}function Ne(i){i.memoizedState!==null&&he(me,i);var o=ye.current,d=k2(o,i.type);o!==d&&(he(je,i),he(ye,d))}function qe(i){je.current===i&&(ae(ye),ae(je)),me.current===i&&(ae(me),Su._currentValue=z)}var be,Ze;function Ue(i){if(be===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);be=o&&o[1]||"",Ze=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+be+i+Ze}var jt=!1;function vt(i,o){if(!i||jt)return"";jt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(se){var re=se}Reflect.construct(i,[],pe)}else{try{pe.call()}catch(se){re=se}i.call(pe.prototype)}}else{try{throw Error()}catch(se){re=se}(pe=i())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(se){if(se&&re&&typeof se.stack=="string")return[se.stack,re.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),k=N[0],I=N[1];if(k&&I){var q=k.split(`
`),ee=I.split(`
`);for(g=p=0;p<q.length&&!q[p].includes("DetermineComponentFrameRoot");)p++;for(;g<ee.length&&!ee[g].includes("DetermineComponentFrameRoot");)g++;if(p===q.length||g===ee.length)for(p=q.length-1,g=ee.length-1;1<=p&&0<=g&&q[p]!==ee[g];)g--;for(;1<=p&&0<=g;p--,g--)if(q[p]!==ee[g]){if(p!==1||g!==1)do if(p--,g--,0>g||q[p]!==ee[g]){var de=`
`+q[p].replace(" at new "," at ");return i.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",i.displayName)),de}while(1<=p&&0<=g);break}}}finally{jt=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?Ue(d):""}function ut(i,o){switch(i.tag){case 26:case 27:case 5:return Ue(i.type);case 16:return Ue("Lazy");case 13:return i.child!==o&&o!==null?Ue("Suspense Fallback"):Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 15:return vt(i.type,!1);case 11:return vt(i.type.render,!1);case 1:return vt(i.type,!0);case 31:return Ue("Activity");default:return""}}function Nt(i){try{var o="",d=null;do o+=ut(i,d),d=i,i=i.return;while(i);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Pe=Object.prototype.hasOwnProperty,Ye=e.unstable_scheduleCallback,at=e.unstable_cancelCallback,$t=e.unstable_shouldYield,Ut=e.unstable_requestPaint,St=e.unstable_now,Hn=e.unstable_getCurrentPriorityLevel,is=e.unstable_ImmediatePriority,ue=e.unstable_UserBlockingPriority,xe=e.unstable_NormalPriority,Fe=e.unstable_LowPriority,Mt=e.unstable_IdlePriority,Y=e.log,ce=e.unstable_setDisableYieldValue,Ce=null,De=null;function ze(i){if(typeof Y=="function"&&ce(i),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(Ce,i)}catch{}}var ie=Math.clz32?Math.clz32:kt,Pt=Math.log,He=Math.LN2;function kt(i){return i>>>=0,i===0?32:31-(Pt(i)/He|0)|0}var Xt=256,Be=262144,Yt=4194304;function Xe(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Se(i,o,d){var p=i.pendingLanes;if(p===0)return 0;var g=0,N=i.suspendedLanes,k=i.pingedLanes;i=i.warmLanes;var I=p&134217727;return I!==0?(p=I&~N,p!==0?g=Xe(p):(k&=I,k!==0?g=Xe(k):d||(d=I&~i,d!==0&&(g=Xe(d))))):(I=p&~N,I!==0?g=Xe(I):k!==0?g=Xe(k):d||(d=p&~i,d!==0&&(g=Xe(d)))),g===0?0:o!==0&&o!==g&&(o&N)===0&&(N=g&-g,d=o&-o,N>=d||N===32&&(d&4194048)!==0)?o:g}function Ke(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function et(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function It(){var i=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),i}function zr(i){for(var o=[],d=0;31>d;d++)o.push(i);return o}function gr(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ae(i,o,d,p,g,N){var k=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var I=i.entanglements,q=i.expirationTimes,ee=i.hiddenUpdates;for(d=k&~d;0<d;){var de=31-ie(d),pe=1<<de;I[de]=0,q[de]=-1;var re=ee[de];if(re!==null)for(ee[de]=null,de=0;de<re.length;de++){var se=re[de];se!==null&&(se.lane&=-536870913)}d&=~pe}p!==0&&_r(i,p,0),N!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=N&~(k&~o))}function _r(i,o,d){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-ie(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|d&261930}function fi(i,o){var d=i.entangledLanes|=o;for(i=i.entanglements;d;){var p=31-ie(d),g=1<<p;g&o|i[p]&o&&(i[p]|=o),d&=~g}}function Ea(i,o){var d=o&-o;return d=(d&42)!==0?1:_a(d),(d&(i.suspendedLanes|o))!==0?0:d}function _a(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Oa(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function sl(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:X2(i.type))}function ss(i,o){var d=G.p;try{return G.p=i,o()}finally{G.p=d}}var Nn=Math.random().toString(36).slice(2),Cr="__reactFiber$"+Nn,Gr="__reactProps$"+Nn,ls="__reactContainer$"+Nn,zc="__reactEvents$"+Nn,Mv="__reactListeners$"+Nn,kv="__reactHandles$"+Nn,Zd="__reactResources$"+Nn,ll="__reactMarker$"+Nn;function Fc(i){delete i[Cr],delete i[Gr],delete i[zc],delete i[Mv],delete i[kv]}function os(i){var o=i[Cr];if(o)return o;for(var d=i.parentNode;d;){if(o=d[ls]||d[Cr]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(i=I2(i);i!==null;){if(d=i[Cr])return d;i=I2(i)}return o}i=d,d=i.parentNode}return null}function cs(i){if(i=i[Cr]||i[ls]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function H(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function we(i){var o=i[Zd];return o||(o=i[Zd]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function xt(i){i[ll]=!0}var sn=new Set,Ta={};function Zr(i,o){ln(i,o),ln(i+"Capture",o)}function ln(i,o){for(Ta[i]=o,i=0;i<o.length;i++)sn.add(o[i])}var io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bc={},Sn={};function Pa(i){return Pe.call(Sn,i)?!0:Pe.call(Bc,i)?!1:io.test(i)?Sn[i]=!0:(Bc[i]=!0,!1)}function Jd(i,o,d){if(Pa(o))if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+d)}}function ef(i,o,d){if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+d)}}function mi(i,o,d,p){if(p===null)i.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(o,d,""+p)}}function Un(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function bj(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function NI(i,o,d){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var g=p.get,N=p.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(k){d=""+k,N.call(this,k)}}),Object.defineProperty(i,o,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Dv(i){if(!i._valueTracker){var o=bj(i)?"checked":"value";i._valueTracker=NI(i,o,""+i[o])}}function yj(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var d=o.getValue(),p="";return i&&(p=bj(i)?i.checked?"true":"false":i.value),i=p,i!==d?(o.setValue(i),!0):!1}function tf(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var SI=/[\n"\\]/g;function Yn(i){return i.replace(SI,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ev(i,o,d,p,g,N,k,I){i.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.type=k:i.removeAttribute("type"),o!=null?k==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Un(o)):i.value!==""+Un(o)&&(i.value=""+Un(o)):k!=="submit"&&k!=="reset"||i.removeAttribute("value"),o!=null?_v(i,k,Un(o)):d!=null?_v(i,k,Un(d)):p!=null&&i.removeAttribute("value"),g==null&&N!=null&&(i.defaultChecked=!!N),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+Un(I):i.removeAttribute("name")}function wj(i,o,d,p,g,N,k,I){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.type=N),o!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||o!=null)){Dv(i);return}d=d!=null?""+Un(d):"",o=o!=null?""+Un(o):d,I||o===i.value||(i.value=o),i.defaultValue=o}p=p??g,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=I?i.checked:!!p,i.defaultChecked=!!p,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(i.name=k),Dv(i)}function _v(i,o,d){o==="number"&&tf(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function so(i,o,d,p){if(i=i.options,o){o={};for(var g=0;g<d.length;g++)o["$"+d[g]]=!0;for(d=0;d<i.length;d++)g=o.hasOwnProperty("$"+i[d].value),i[d].selected!==g&&(i[d].selected=g),g&&p&&(i[d].defaultSelected=!0)}else{for(d=""+Un(d),o=null,g=0;g<i.length;g++){if(i[g].value===d){i[g].selected=!0,p&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function jj(i,o,d){if(o!=null&&(o=""+Un(o),o!==i.value&&(i.value=o),d==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=d!=null?""+Un(d):""}function Nj(i,o,d,p){if(o==null){if(p!=null){if(d!=null)throw Error(r(92));if(Z(p)){if(1<p.length)throw Error(r(93));p=p[0]}d=p}d==null&&(d=""),o=d}d=Un(o),i.defaultValue=d,p=i.textContent,p===d&&p!==""&&p!==null&&(i.value=p),Dv(i)}function lo(i,o){if(o){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=o;return}}i.textContent=o}var CI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sj(i,o,d){var p=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,d):typeof d!="number"||d===0||CI.has(o)?o==="float"?i.cssFloat=d:i[o]=(""+d).trim():i[o]=d+"px"}function Cj(i,o,d){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var g in o)p=o[g],o.hasOwnProperty(g)&&d[g]!==p&&Sj(i,g,p)}else for(var N in o)o.hasOwnProperty(N)&&Sj(i,N,o[N])}function Ov(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),MI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rf(i){return MI.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function pi(){}var Tv=null;function Pv(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var oo=null,co=null;function Aj(i){var o=cs(i);if(o&&(i=o.stateNode)){var d=i[Gr]||null;e:switch(i=o.stateNode,o.type){case"input":if(Ev(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Yn(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var p=d[o];if(p!==i&&p.form===i.form){var g=p[Gr]||null;if(!g)throw Error(r(90));Ev(p,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<d.length;o++)p=d[o],p.form===i.form&&yj(p)}break e;case"textarea":jj(i,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&so(i,!!d.multiple,o,!1)}}}var Iv=!1;function Mj(i,o,d){if(Iv)return i(o,d);Iv=!0;try{var p=i(o);return p}finally{if(Iv=!1,(oo!==null||co!==null)&&(Uf(),oo&&(o=oo,i=co,co=oo=null,Aj(o),i)))for(o=0;o<i.length;o++)Aj(i[o])}}function $c(i,o){var d=i.stateNode;if(d===null)return null;var p=d[Gr]||null;if(p===null)return null;d=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(r(231,o,typeof d));return d}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rv=!1;if(hi)try{var qc={};Object.defineProperty(qc,"passive",{get:function(){Rv=!0}}),window.addEventListener("test",qc,qc),window.removeEventListener("test",qc,qc)}catch{Rv=!1}var us=null,Lv=null,nf=null;function kj(){if(nf)return nf;var i,o=Lv,d=o.length,p,g="value"in us?us.value:us.textContent,N=g.length;for(i=0;i<d&&o[i]===g[i];i++);var k=d-i;for(p=1;p<=k&&o[d-p]===g[N-p];p++);return nf=g.slice(i,1<p?1-p:void 0)}function af(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function sf(){return!0}function Dj(){return!1}function on(i){function o(d,p,g,N,k){this._reactName=d,this._targetInst=g,this.type=p,this.nativeEvent=N,this.target=k,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(d=i[I],this[I]=d?d(N):N[I]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?sf:Dj,this.isPropagationStopped=Dj,this}return v(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=sf)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=sf)},persist:function(){},isPersistent:sf}),o}var ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lf=on(ol),Hc=v({},ol,{view:0,detail:0}),kI=on(Hc),zv,Fv,Uc,of=v({},Hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$v,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Uc&&(Uc&&i.type==="mousemove"?(zv=i.screenX-Uc.screenX,Fv=i.screenY-Uc.screenY):Fv=zv=0,Uc=i),zv)},movementY:function(i){return"movementY"in i?i.movementY:Fv}}),Ej=on(of),DI=v({},of,{dataTransfer:0}),EI=on(DI),_I=v({},Hc,{relatedTarget:0}),Bv=on(_I),OI=v({},ol,{animationName:0,elapsedTime:0,pseudoElement:0}),TI=on(OI),PI=v({},ol,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),II=on(PI),RI=v({},ol,{data:0}),_j=on(RI),LI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BI(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=FI[i])?!!o[i]:!1}function $v(){return BI}var $I=v({},Hc,{key:function(i){if(i.key){var o=LI[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=af(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?zI[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$v,charCode:function(i){return i.type==="keypress"?af(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?af(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),qI=on($I),HI=v({},of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oj=on(HI),UI=v({},Hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$v}),YI=on(UI),VI=v({},ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),GI=on(VI),WI=v({},of,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),KI=on(WI),QI=v({},ol,{newState:0,oldState:0}),XI=on(QI),ZI=[9,13,27,32],qv=hi&&"CompositionEvent"in window,Yc=null;hi&&"documentMode"in document&&(Yc=document.documentMode);var JI=hi&&"TextEvent"in window&&!Yc,Tj=hi&&(!qv||Yc&&8<Yc&&11>=Yc),Pj=" ",Ij=!1;function Rj(i,o){switch(i){case"keyup":return ZI.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lj(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var uo=!1;function eR(i,o){switch(i){case"compositionend":return Lj(o);case"keypress":return o.which!==32?null:(Ij=!0,Pj);case"textInput":return i=o.data,i===Pj&&Ij?null:i;default:return null}}function tR(i,o){if(uo)return i==="compositionend"||!qv&&Rj(i,o)?(i=kj(),nf=Lv=us=null,uo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Tj&&o.locale!=="ko"?null:o.data;default:return null}}var rR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zj(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!rR[i.type]:o==="textarea"}function Fj(i,o,d,p){oo?co?co.push(p):co=[p]:oo=p,o=Xf(o,"onChange"),0<o.length&&(d=new lf("onChange","change",null,d,p),i.push({event:d,listeners:o}))}var Vc=null,Gc=null;function nR(i){w2(i,0)}function cf(i){var o=H(i);if(yj(o))return i}function Bj(i,o){if(i==="change")return o}var $j=!1;if(hi){var Hv;if(hi){var Uv="oninput"in document;if(!Uv){var qj=document.createElement("div");qj.setAttribute("oninput","return;"),Uv=typeof qj.oninput=="function"}Hv=Uv}else Hv=!1;$j=Hv&&(!document.documentMode||9<document.documentMode)}function Hj(){Vc&&(Vc.detachEvent("onpropertychange",Uj),Gc=Vc=null)}function Uj(i){if(i.propertyName==="value"&&cf(Gc)){var o=[];Fj(o,Gc,i,Pv(i)),Mj(nR,o)}}function aR(i,o,d){i==="focusin"?(Hj(),Vc=o,Gc=d,Vc.attachEvent("onpropertychange",Uj)):i==="focusout"&&Hj()}function iR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return cf(Gc)}function sR(i,o){if(i==="click")return cf(o)}function lR(i,o){if(i==="input"||i==="change")return cf(o)}function oR(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Cn=typeof Object.is=="function"?Object.is:oR;function Wc(i,o){if(Cn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var d=Object.keys(i),p=Object.keys(o);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var g=d[p];if(!Pe.call(o,g)||!Cn(i[g],o[g]))return!1}return!0}function Yj(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Vj(i,o){var d=Yj(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=o&&p>=o)return{node:d,offset:o-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Yj(d)}}function Gj(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Gj(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Wj(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=tf(i.document);o instanceof i.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)i=o.contentWindow;else break;o=tf(i.document)}return o}function Yv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var cR=hi&&"documentMode"in document&&11>=document.documentMode,fo=null,Vv=null,Kc=null,Gv=!1;function Kj(i,o,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Gv||fo==null||fo!==tf(p)||(p=fo,"selectionStart"in p&&Yv(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Kc&&Wc(Kc,p)||(Kc=p,p=Xf(Vv,"onSelect"),0<p.length&&(o=new lf("onSelect","select",null,o,d),i.push({event:o,listeners:p}),o.target=fo)))}function cl(i,o){var d={};return d[i.toLowerCase()]=o.toLowerCase(),d["Webkit"+i]="webkit"+o,d["Moz"+i]="moz"+o,d}var mo={animationend:cl("Animation","AnimationEnd"),animationiteration:cl("Animation","AnimationIteration"),animationstart:cl("Animation","AnimationStart"),transitionrun:cl("Transition","TransitionRun"),transitionstart:cl("Transition","TransitionStart"),transitioncancel:cl("Transition","TransitionCancel"),transitionend:cl("Transition","TransitionEnd")},Wv={},Qj={};hi&&(Qj=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function ul(i){if(Wv[i])return Wv[i];if(!mo[i])return i;var o=mo[i],d;for(d in o)if(o.hasOwnProperty(d)&&d in Qj)return Wv[i]=o[d];return i}var Xj=ul("animationend"),Zj=ul("animationiteration"),Jj=ul("animationstart"),uR=ul("transitionrun"),dR=ul("transitionstart"),fR=ul("transitioncancel"),eN=ul("transitionend"),tN=new Map,Kv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kv.push("scrollEnd");function da(i,o){tN.set(i,o),Zr(o,[i])}var uf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Vn=[],po=0,Qv=0;function df(){for(var i=po,o=Qv=po=0;o<i;){var d=Vn[o];Vn[o++]=null;var p=Vn[o];Vn[o++]=null;var g=Vn[o];Vn[o++]=null;var N=Vn[o];if(Vn[o++]=null,p!==null&&g!==null){var k=p.pending;k===null?g.next=g:(g.next=k.next,k.next=g),p.pending=g}N!==0&&rN(d,g,N)}}function ff(i,o,d,p){Vn[po++]=i,Vn[po++]=o,Vn[po++]=d,Vn[po++]=p,Qv|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function Xv(i,o,d,p){return ff(i,o,d,p),mf(i)}function dl(i,o){return ff(i,null,null,o),mf(i)}function rN(i,o,d){i.lanes|=d;var p=i.alternate;p!==null&&(p.lanes|=d);for(var g=!1,N=i.return;N!==null;)N.childLanes|=d,p=N.alternate,p!==null&&(p.childLanes|=d),N.tag===22&&(i=N.stateNode,i===null||i._visibility&1||(g=!0)),i=N,N=N.return;return i.tag===3?(N=i.stateNode,g&&o!==null&&(g=31-ie(d),i=N.hiddenUpdates,p=i[g],p===null?i[g]=[o]:p.push(o),o.lane=d|536870912),N):null}function mf(i){if(50<xu)throw xu=0,s0=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var ho={};function mR(i,o,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(i,o,d,p){return new mR(i,o,d,p)}function Zv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function vi(i,o){var d=i.alternate;return d===null?(d=An(i.tag,o,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=o,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,o=i.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function nN(i,o){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,o=d.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function pf(i,o,d,p,g,N){var k=0;if(p=i,typeof i=="function")Zv(i)&&(k=1);else if(typeof i=="string")k=gL(i,d,ye.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case L:return i=An(31,d,o,g),i.elementType=L,i.lanes=N,i;case w:return fl(d.children,g,N,o);case y:k=8,g|=24;break;case C:return i=An(12,d,o,g|2),i.elementType=C,i.lanes=N,i;case E:return i=An(13,d,o,g),i.elementType=E,i.lanes=N,i;case T:return i=An(19,d,o,g),i.elementType=T,i.lanes=N,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:k=10;break e;case M:k=9;break e;case _:k=11;break e;case P:k=14;break e;case O:k=16,p=null;break e}k=29,d=Error(r(130,i===null?"null":typeof i,"")),p=null}return o=An(k,d,o,g),o.elementType=i,o.type=p,o.lanes=N,o}function fl(i,o,d,p){return i=An(7,i,p,o),i.lanes=d,i}function Jv(i,o,d){return i=An(6,i,null,o),i.lanes=d,i}function aN(i){var o=An(18,null,null,0);return o.stateNode=i,o}function ex(i,o,d){return o=An(4,i.children!==null?i.children:[],i.key,o),o.lanes=d,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var iN=new WeakMap;function Gn(i,o){if(typeof i=="object"&&i!==null){var d=iN.get(i);return d!==void 0?d:(o={value:i,source:o,stack:Nt(o)},iN.set(i,o),o)}return{value:i,source:o,stack:Nt(o)}}var vo=[],xo=0,hf=null,Qc=0,Wn=[],Kn=0,ds=null,Ia=1,Ra="";function xi(i,o){vo[xo++]=Qc,vo[xo++]=hf,hf=i,Qc=o}function sN(i,o,d){Wn[Kn++]=Ia,Wn[Kn++]=Ra,Wn[Kn++]=ds,ds=i;var p=Ia;i=Ra;var g=32-ie(p)-1;p&=~(1<<g),d+=1;var N=32-ie(o)+g;if(30<N){var k=g-g%5;N=(p&(1<<k)-1).toString(32),p>>=k,g-=k,Ia=1<<32-ie(o)+g|d<<g|p,Ra=N+i}else Ia=1<<N|d<<g|p,Ra=i}function tx(i){i.return!==null&&(xi(i,1),sN(i,1,0))}function rx(i){for(;i===hf;)hf=vo[--xo],vo[xo]=null,Qc=vo[--xo],vo[xo]=null;for(;i===ds;)ds=Wn[--Kn],Wn[Kn]=null,Ra=Wn[--Kn],Wn[Kn]=null,Ia=Wn[--Kn],Wn[Kn]=null}function lN(i,o){Wn[Kn++]=Ia,Wn[Kn++]=Ra,Wn[Kn++]=ds,Ia=o.id,Ra=o.overflow,ds=i}var Fr=null,Gt=null,ht=!1,fs=null,Qn=!1,nx=Error(r(519));function ms(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xc(Gn(o,i)),nx}function oN(i){var o=i.stateNode,d=i.type,p=i.memoizedProps;switch(o[Cr]=i,o[Gr]=p,d){case"dialog":ot("cancel",o),ot("close",o);break;case"iframe":case"object":case"embed":ot("load",o);break;case"video":case"audio":for(d=0;d<bu.length;d++)ot(bu[d],o);break;case"source":ot("error",o);break;case"img":case"image":case"link":ot("error",o),ot("load",o);break;case"details":ot("toggle",o);break;case"input":ot("invalid",o),wj(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":ot("invalid",o);break;case"textarea":ot("invalid",o),Nj(o,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||p.suppressHydrationWarning===!0||C2(o.textContent,d)?(p.popover!=null&&(ot("beforetoggle",o),ot("toggle",o)),p.onScroll!=null&&ot("scroll",o),p.onScrollEnd!=null&&ot("scrollend",o),p.onClick!=null&&(o.onclick=pi),o=!0):o=!1,o||ms(i,!0)}function cN(i){for(Fr=i.return;Fr;)switch(Fr.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Fr=Fr.return}}function go(i){if(i!==Fr)return!1;if(!ht)return cN(i),ht=!0,!1;var o=i.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||w0(i.type,i.memoizedProps)),d=!d),d&&Gt&&ms(i),cN(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Gt=P2(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Gt=P2(i)}else o===27?(o=Gt,Ms(i.type)?(i=A0,A0=null,Gt=i):Gt=o):Gt=Fr?Zn(i.stateNode.nextSibling):null;return!0}function ml(){Gt=Fr=null,ht=!1}function ax(){var i=fs;return i!==null&&(fn===null?fn=i:fn.push.apply(fn,i),fs=null),i}function Xc(i){fs===null?fs=[i]:fs.push(i)}var ix=F(null),pl=null,gi=null;function ps(i,o,d){he(ix,o._currentValue),o._currentValue=d}function bi(i){i._currentValue=ix.current,ae(ix)}function sx(i,o,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===d)break;i=i.return}}function lx(i,o,d,p){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var N=g.dependencies;if(N!==null){var k=g.child;N=N.firstContext;e:for(;N!==null;){var I=N;N=g;for(var q=0;q<o.length;q++)if(I.context===o[q]){N.lanes|=d,I=N.alternate,I!==null&&(I.lanes|=d),sx(N.return,d,i),p||(k=null);break e}N=I.next}}else if(g.tag===18){if(k=g.return,k===null)throw Error(r(341));k.lanes|=d,N=k.alternate,N!==null&&(N.lanes|=d),sx(k,d,i),k=null}else k=g.child;if(k!==null)k.return=g;else for(k=g;k!==null;){if(k===i){k=null;break}if(g=k.sibling,g!==null){g.return=k.return,k=g;break}k=k.return}g=k}}function bo(i,o,d,p){i=null;for(var g=o,N=!1;g!==null;){if(!N){if((g.flags&524288)!==0)N=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var k=g.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var I=g.type;Cn(g.pendingProps.value,k.value)||(i!==null?i.push(I):i=[I])}}else if(g===me.current){if(k=g.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Su):i=[Su])}g=g.return}i!==null&&lx(o,i,d,p),o.flags|=262144}function vf(i){for(i=i.firstContext;i!==null;){if(!Cn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function hl(i){pl=i,gi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Br(i){return uN(pl,i)}function xf(i,o){return pl===null&&hl(i),uN(i,o)}function uN(i,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},gi===null){if(i===null)throw Error(r(308));gi=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else gi=gi.next=o;return d}var pR=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(d,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(d){return d()})}},hR=e.unstable_scheduleCallback,vR=e.unstable_NormalPriority,br={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ox(){return{controller:new pR,data:new Map,refCount:0}}function Zc(i){i.refCount--,i.refCount===0&&hR(vR,function(){i.controller.abort()})}var Jc=null,cx=0,yo=0,wo=null;function xR(i,o){if(Jc===null){var d=Jc=[];cx=0,yo=f0(),wo={status:"pending",value:void 0,then:function(p){d.push(p)}}}return cx++,o.then(dN,dN),o}function dN(){if(--cx===0&&Jc!==null){wo!==null&&(wo.status="fulfilled");var i=Jc;Jc=null,yo=0,wo=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function gR(i,o){var d=[],p={status:"pending",value:null,reason:null,then:function(g){d.push(g)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var g=0;g<d.length;g++)(0,d[g])(o)},function(g){for(p.status="rejected",p.reason=g,g=0;g<d.length;g++)(0,d[g])(void 0)}),p}var fN=$.S;$.S=function(i,o){KS=St(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&xR(i,o),fN!==null&&fN(i,o)};var vl=F(null);function ux(){var i=vl.current;return i!==null?i:qt.pooledCache}function gf(i,o){o===null?he(vl,vl.current):he(vl,o.pool)}function mN(){var i=ux();return i===null?null:{parent:br._currentValue,pool:i}}var jo=Error(r(460)),dx=Error(r(474)),bf=Error(r(542)),yf={then:function(){}};function pN(i){return i=i.status,i==="fulfilled"||i==="rejected"}function hN(i,o,d){switch(d=i[d],d===void 0?i.push(o):d!==o&&(o.then(pi,pi),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,xN(i),i;default:if(typeof o.status=="string")o.then(pi,pi);else{if(i=qt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=p}},function(p){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,xN(i),i}throw gl=o,jo}}function xl(i){try{var o=i._init;return o(i._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(gl=d,jo):d}}var gl=null;function vN(){if(gl===null)throw Error(r(459));var i=gl;return gl=null,i}function xN(i){if(i===jo||i===bf)throw Error(r(483))}var No=null,eu=0;function wf(i){var o=eu;return eu+=1,No===null&&(No=[]),hN(No,i,o)}function tu(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function jf(i,o){throw o.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function gN(i){function o(V,U){if(i){var J=V.deletions;J===null?(V.deletions=[U],V.flags|=16):J.push(U)}}function d(V,U){if(!i)return null;for(;U!==null;)o(V,U),U=U.sibling;return null}function p(V){for(var U=new Map;V!==null;)V.key!==null?U.set(V.key,V):U.set(V.index,V),V=V.sibling;return U}function g(V,U){return V=vi(V,U),V.index=0,V.sibling=null,V}function N(V,U,J){return V.index=J,i?(J=V.alternate,J!==null?(J=J.index,J<U?(V.flags|=67108866,U):J):(V.flags|=67108866,U)):(V.flags|=1048576,U)}function k(V){return i&&V.alternate===null&&(V.flags|=67108866),V}function I(V,U,J,fe){return U===null||U.tag!==6?(U=Jv(J,V.mode,fe),U.return=V,U):(U=g(U,J),U.return=V,U)}function q(V,U,J,fe){var $e=J.type;return $e===w?de(V,U,J.props.children,fe,J.key):U!==null&&(U.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===O&&xl($e)===U.type)?(U=g(U,J.props),tu(U,J),U.return=V,U):(U=pf(J.type,J.key,J.props,null,V.mode,fe),tu(U,J),U.return=V,U)}function ee(V,U,J,fe){return U===null||U.tag!==4||U.stateNode.containerInfo!==J.containerInfo||U.stateNode.implementation!==J.implementation?(U=ex(J,V.mode,fe),U.return=V,U):(U=g(U,J.children||[]),U.return=V,U)}function de(V,U,J,fe,$e){return U===null||U.tag!==7?(U=fl(J,V.mode,fe,$e),U.return=V,U):(U=g(U,J),U.return=V,U)}function pe(V,U,J){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Jv(""+U,V.mode,J),U.return=V,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return J=pf(U.type,U.key,U.props,null,V.mode,J),tu(J,U),J.return=V,J;case S:return U=ex(U,V.mode,J),U.return=V,U;case O:return U=xl(U),pe(V,U,J)}if(Z(U)||D(U))return U=fl(U,V.mode,J,null),U.return=V,U;if(typeof U.then=="function")return pe(V,wf(U),J);if(U.$$typeof===A)return pe(V,xf(V,U),J);jf(V,U)}return null}function re(V,U,J,fe){var $e=U!==null?U.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return $e!==null?null:I(V,U,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return J.key===$e?q(V,U,J,fe):null;case S:return J.key===$e?ee(V,U,J,fe):null;case O:return J=xl(J),re(V,U,J,fe)}if(Z(J)||D(J))return $e!==null?null:de(V,U,J,fe,null);if(typeof J.then=="function")return re(V,U,wf(J),fe);if(J.$$typeof===A)return re(V,U,xf(V,J),fe);jf(V,J)}return null}function se(V,U,J,fe,$e){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return V=V.get(J)||null,I(U,V,""+fe,$e);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:return V=V.get(fe.key===null?J:fe.key)||null,q(U,V,fe,$e);case S:return V=V.get(fe.key===null?J:fe.key)||null,ee(U,V,fe,$e);case O:return fe=xl(fe),se(V,U,J,fe,$e)}if(Z(fe)||D(fe))return V=V.get(J)||null,de(U,V,fe,$e,null);if(typeof fe.then=="function")return se(V,U,J,wf(fe),$e);if(fe.$$typeof===A)return se(V,U,J,xf(U,fe),$e);jf(U,fe)}return null}function Te(V,U,J,fe){for(var $e=null,bt=null,Re=U,rt=U=0,ft=null;Re!==null&&rt<J.length;rt++){Re.index>rt?(ft=Re,Re=null):ft=Re.sibling;var yt=re(V,Re,J[rt],fe);if(yt===null){Re===null&&(Re=ft);break}i&&Re&&yt.alternate===null&&o(V,Re),U=N(yt,U,rt),bt===null?$e=yt:bt.sibling=yt,bt=yt,Re=ft}if(rt===J.length)return d(V,Re),ht&&xi(V,rt),$e;if(Re===null){for(;rt<J.length;rt++)Re=pe(V,J[rt],fe),Re!==null&&(U=N(Re,U,rt),bt===null?$e=Re:bt.sibling=Re,bt=Re);return ht&&xi(V,rt),$e}for(Re=p(Re);rt<J.length;rt++)ft=se(Re,V,rt,J[rt],fe),ft!==null&&(i&&ft.alternate!==null&&Re.delete(ft.key===null?rt:ft.key),U=N(ft,U,rt),bt===null?$e=ft:bt.sibling=ft,bt=ft);return i&&Re.forEach(function(Os){return o(V,Os)}),ht&&xi(V,rt),$e}function Ve(V,U,J,fe){if(J==null)throw Error(r(151));for(var $e=null,bt=null,Re=U,rt=U=0,ft=null,yt=J.next();Re!==null&&!yt.done;rt++,yt=J.next()){Re.index>rt?(ft=Re,Re=null):ft=Re.sibling;var Os=re(V,Re,yt.value,fe);if(Os===null){Re===null&&(Re=ft);break}i&&Re&&Os.alternate===null&&o(V,Re),U=N(Os,U,rt),bt===null?$e=Os:bt.sibling=Os,bt=Os,Re=ft}if(yt.done)return d(V,Re),ht&&xi(V,rt),$e;if(Re===null){for(;!yt.done;rt++,yt=J.next())yt=pe(V,yt.value,fe),yt!==null&&(U=N(yt,U,rt),bt===null?$e=yt:bt.sibling=yt,bt=yt);return ht&&xi(V,rt),$e}for(Re=p(Re);!yt.done;rt++,yt=J.next())yt=se(Re,V,rt,yt.value,fe),yt!==null&&(i&&yt.alternate!==null&&Re.delete(yt.key===null?rt:yt.key),U=N(yt,U,rt),bt===null?$e=yt:bt.sibling=yt,bt=yt);return i&&Re.forEach(function(DL){return o(V,DL)}),ht&&xi(V,rt),$e}function zt(V,U,J,fe){if(typeof J=="object"&&J!==null&&J.type===w&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case b:e:{for(var $e=J.key;U!==null;){if(U.key===$e){if($e=J.type,$e===w){if(U.tag===7){d(V,U.sibling),fe=g(U,J.props.children),fe.return=V,V=fe;break e}}else if(U.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===O&&xl($e)===U.type){d(V,U.sibling),fe=g(U,J.props),tu(fe,J),fe.return=V,V=fe;break e}d(V,U);break}else o(V,U);U=U.sibling}J.type===w?(fe=fl(J.props.children,V.mode,fe,J.key),fe.return=V,V=fe):(fe=pf(J.type,J.key,J.props,null,V.mode,fe),tu(fe,J),fe.return=V,V=fe)}return k(V);case S:e:{for($e=J.key;U!==null;){if(U.key===$e)if(U.tag===4&&U.stateNode.containerInfo===J.containerInfo&&U.stateNode.implementation===J.implementation){d(V,U.sibling),fe=g(U,J.children||[]),fe.return=V,V=fe;break e}else{d(V,U);break}else o(V,U);U=U.sibling}fe=ex(J,V.mode,fe),fe.return=V,V=fe}return k(V);case O:return J=xl(J),zt(V,U,J,fe)}if(Z(J))return Te(V,U,J,fe);if(D(J)){if($e=D(J),typeof $e!="function")throw Error(r(150));return J=$e.call(J),Ve(V,U,J,fe)}if(typeof J.then=="function")return zt(V,U,wf(J),fe);if(J.$$typeof===A)return zt(V,U,xf(V,J),fe);jf(V,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,U!==null&&U.tag===6?(d(V,U.sibling),fe=g(U,J),fe.return=V,V=fe):(d(V,U),fe=Jv(J,V.mode,fe),fe.return=V,V=fe),k(V)):d(V,U)}return function(V,U,J,fe){try{eu=0;var $e=zt(V,U,J,fe);return No=null,$e}catch(Re){if(Re===jo||Re===bf)throw Re;var bt=An(29,Re,null,V.mode);return bt.lanes=fe,bt.return=V,bt}}}var bl=gN(!0),bN=gN(!1),hs=!1;function fx(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mx(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function vs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function xs(i,o,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Ct&2)!==0){var g=p.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),p.pending=o,o=mf(i),rN(i,null,d),o}return ff(i,p,o,d),mf(i)}function ru(i,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,fi(i,d)}}function px(i,o){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var g=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var k={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?g=N=k:N=N.next=k,d=d.next}while(d!==null);N===null?g=N=o:N=N.next=o}else g=N=o;d={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=o:i.next=o,d.lastBaseUpdate=o}var hx=!1;function nu(){if(hx){var i=wo;if(i!==null)throw i}}function au(i,o,d,p){hx=!1;var g=i.updateQueue;hs=!1;var N=g.firstBaseUpdate,k=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var q=I,ee=q.next;q.next=null,k===null?N=ee:k.next=ee,k=q;var de=i.alternate;de!==null&&(de=de.updateQueue,I=de.lastBaseUpdate,I!==k&&(I===null?de.firstBaseUpdate=ee:I.next=ee,de.lastBaseUpdate=q))}if(N!==null){var pe=g.baseState;k=0,de=ee=q=null,I=N;do{var re=I.lane&-536870913,se=re!==I.lane;if(se?(dt&re)===re:(p&re)===re){re!==0&&re===yo&&(hx=!0),de!==null&&(de=de.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Te=i,Ve=I;re=o;var zt=d;switch(Ve.tag){case 1:if(Te=Ve.payload,typeof Te=="function"){pe=Te.call(zt,pe,re);break e}pe=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ve.payload,re=typeof Te=="function"?Te.call(zt,pe,re):Te,re==null)break e;pe=v({},pe,re);break e;case 2:hs=!0}}re=I.callback,re!==null&&(i.flags|=64,se&&(i.flags|=8192),se=g.callbacks,se===null?g.callbacks=[re]:se.push(re))}else se={lane:re,tag:I.tag,payload:I.payload,callback:I.callback,next:null},de===null?(ee=de=se,q=pe):de=de.next=se,k|=re;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;se=I,I=se.next,se.next=null,g.lastBaseUpdate=se,g.shared.pending=null}}while(!0);de===null&&(q=pe),g.baseState=q,g.firstBaseUpdate=ee,g.lastBaseUpdate=de,N===null&&(g.shared.lanes=0),js|=k,i.lanes=k,i.memoizedState=pe}}function yN(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function wN(i,o){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)yN(d[i],o)}var So=F(null),Nf=F(0);function jN(i,o){i=ki,he(Nf,i),he(So,o),ki=i|o.baseLanes}function vx(){he(Nf,ki),he(So,So.current)}function xx(){ki=Nf.current,ae(So),ae(Nf)}var Mn=F(null),Xn=null;function gs(i){var o=i.alternate;he(mr,mr.current&1),he(Mn,i),Xn===null&&(o===null||So.current!==null||o.memoizedState!==null)&&(Xn=i)}function gx(i){he(mr,mr.current),he(Mn,i),Xn===null&&(Xn=i)}function NN(i){i.tag===22?(he(mr,mr.current),he(Mn,i),Xn===null&&(Xn=i)):bs()}function bs(){he(mr,mr.current),he(Mn,Mn.current)}function kn(i){ae(Mn),Xn===i&&(Xn=null),ae(mr)}var mr=F(0);function Sf(i){for(var o=i;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||S0(d)||C0(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var yi=0,tt=null,Rt=null,yr=null,Cf=!1,Co=!1,yl=!1,Af=0,iu=0,Ao=null,bR=0;function sr(){throw Error(r(321))}function bx(i,o){if(o===null)return!1;for(var d=0;d<o.length&&d<i.length;d++)if(!Cn(i[d],o[d]))return!1;return!0}function yx(i,o,d,p,g,N){return yi=N,tt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$.H=i===null||i.memoizedState===null?sS:Ix,yl=!1,N=d(p,g),yl=!1,Co&&(N=CN(o,d,p,g)),SN(i),N}function SN(i){$.H=ou;var o=Rt!==null&&Rt.next!==null;if(yi=0,yr=Rt=tt=null,Cf=!1,iu=0,Ao=null,o)throw Error(r(300));i===null||wr||(i=i.dependencies,i!==null&&vf(i)&&(wr=!0))}function CN(i,o,d,p){tt=i;var g=0;do{if(Co&&(Ao=null),iu=0,Co=!1,25<=g)throw Error(r(301));if(g+=1,yr=Rt=null,i.updateQueue!=null){var N=i.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}$.H=lS,N=o(d,p)}while(Co);return N}function yR(){var i=$.H,o=i.useState()[0];return o=typeof o.then=="function"?su(o):o,i=i.useState()[0],(Rt!==null?Rt.memoizedState:null)!==i&&(tt.flags|=1024),o}function wx(){var i=Af!==0;return Af=0,i}function jx(i,o,d){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~d}function Nx(i){if(Cf){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Cf=!1}yi=0,yr=Rt=tt=null,Co=!1,iu=Af=0,Ao=null}function Jr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?tt.memoizedState=yr=i:yr=yr.next=i,yr}function pr(){if(Rt===null){var i=tt.alternate;i=i!==null?i.memoizedState:null}else i=Rt.next;var o=yr===null?tt.memoizedState:yr.next;if(o!==null)yr=o,Rt=i;else{if(i===null)throw tt.alternate===null?Error(r(467)):Error(r(310));Rt=i,i={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},yr===null?tt.memoizedState=yr=i:yr=yr.next=i}return yr}function Mf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function su(i){var o=iu;return iu+=1,Ao===null&&(Ao=[]),i=hN(Ao,i,o),o=tt,(yr===null?o.memoizedState:yr.next)===null&&(o=o.alternate,$.H=o===null||o.memoizedState===null?sS:Ix),i}function kf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return su(i);if(i.$$typeof===A)return Br(i)}throw Error(r(438,String(i)))}function Sx(i){var o=null,d=tt.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var p=tt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=Mf(),tt.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(i),p=0;p<i;p++)d[p]=R;return o.index++,d}function wi(i,o){return typeof o=="function"?o(i):o}function Df(i){var o=pr();return Cx(o,Rt,i)}function Cx(i,o,d){var p=i.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=d;var g=i.baseQueue,N=p.pending;if(N!==null){if(g!==null){var k=g.next;g.next=N.next,N.next=k}o.baseQueue=g=N,p.pending=null}if(N=i.baseState,g===null)i.memoizedState=N;else{o=g.next;var I=k=null,q=null,ee=o,de=!1;do{var pe=ee.lane&-536870913;if(pe!==ee.lane?(dt&pe)===pe:(yi&pe)===pe){var re=ee.revertLane;if(re===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),pe===yo&&(de=!0);else if((yi&re)===re){ee=ee.next,re===yo&&(de=!0);continue}else pe={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(I=q=pe,k=N):q=q.next=pe,tt.lanes|=re,js|=re;pe=ee.action,yl&&d(N,pe),N=ee.hasEagerState?ee.eagerState:d(N,pe)}else re={lane:pe,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(I=q=re,k=N):q=q.next=re,tt.lanes|=pe,js|=pe;ee=ee.next}while(ee!==null&&ee!==o);if(q===null?k=N:q.next=I,!Cn(N,i.memoizedState)&&(wr=!0,de&&(d=wo,d!==null)))throw d;i.memoizedState=N,i.baseState=k,i.baseQueue=q,p.lastRenderedState=N}return g===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function Ax(i){var o=pr(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var p=d.dispatch,g=d.pending,N=o.memoizedState;if(g!==null){d.pending=null;var k=g=g.next;do N=i(N,k.action),k=k.next;while(k!==g);Cn(N,o.memoizedState)||(wr=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),d.lastRenderedState=N}return[N,p]}function AN(i,o,d){var p=tt,g=pr(),N=ht;if(N){if(d===void 0)throw Error(r(407));d=d()}else d=o();var k=!Cn((Rt||g).memoizedState,d);if(k&&(g.memoizedState=d,wr=!0),g=g.queue,Dx(DN.bind(null,p,g,i),[i]),g.getSnapshot!==o||k||yr!==null&&yr.memoizedState.tag&1){if(p.flags|=2048,Mo(9,{destroy:void 0},kN.bind(null,p,g,d,o),null),qt===null)throw Error(r(349));N||(yi&127)!==0||MN(p,o,d)}return d}function MN(i,o,d){i.flags|=16384,i={getSnapshot:o,value:d},o=tt.updateQueue,o===null?(o=Mf(),tt.updateQueue=o,o.stores=[i]):(d=o.stores,d===null?o.stores=[i]:d.push(i))}function kN(i,o,d,p){o.value=d,o.getSnapshot=p,EN(o)&&_N(i)}function DN(i,o,d){return d(function(){EN(o)&&_N(i)})}function EN(i){var o=i.getSnapshot;i=i.value;try{var d=o();return!Cn(i,d)}catch{return!0}}function _N(i){var o=dl(i,2);o!==null&&mn(o,i,2)}function Mx(i){var o=Jr();if(typeof i=="function"){var d=i;if(i=d(),yl){ze(!0);try{d()}finally{ze(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:i},o}function ON(i,o,d,p){return i.baseState=d,Cx(i,Rt,typeof p=="function"?p:wi)}function wR(i,o,d,p,g){if(Of(i))throw Error(r(485));if(i=o.action,i!==null){var N={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){N.listeners.push(k)}};$.T!==null?d(!0):N.isTransition=!1,p(N),d=o.pending,d===null?(N.next=o.pending=N,TN(o,N)):(N.next=d.next,o.pending=d.next=N)}}function TN(i,o){var d=o.action,p=o.payload,g=i.state;if(o.isTransition){var N=$.T,k={};$.T=k;try{var I=d(g,p),q=$.S;q!==null&&q(k,I),PN(i,o,I)}catch(ee){kx(i,o,ee)}finally{N!==null&&k.types!==null&&(N.types=k.types),$.T=N}}else try{N=d(g,p),PN(i,o,N)}catch(ee){kx(i,o,ee)}}function PN(i,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){IN(i,o,p)},function(p){return kx(i,o,p)}):IN(i,o,d)}function IN(i,o,d){o.status="fulfilled",o.value=d,RN(o),i.state=d,o=i.pending,o!==null&&(d=o.next,d===o?i.pending=null:(d=d.next,o.next=d,TN(i,d)))}function kx(i,o,d){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=d,RN(o),o=o.next;while(o!==p)}i.action=null}function RN(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function LN(i,o){return o}function zN(i,o){if(ht){var d=qt.formState;if(d!==null){e:{var p=tt;if(ht){if(Gt){t:{for(var g=Gt,N=Qn;g.nodeType!==8;){if(!N){g=null;break t}if(g=Zn(g.nextSibling),g===null){g=null;break t}}N=g.data,g=N==="F!"||N==="F"?g:null}if(g){Gt=Zn(g.nextSibling),p=g.data==="F!";break e}}ms(p)}p=!1}p&&(o=d[0])}}return d=Jr(),d.memoizedState=d.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:LN,lastRenderedState:o},d.queue=p,d=nS.bind(null,tt,p),p.dispatch=d,p=Mx(!1),N=Px.bind(null,tt,!1,p.queue),p=Jr(),g={state:o,dispatch:null,action:i,pending:null},p.queue=g,d=wR.bind(null,tt,g,N,d),g.dispatch=d,p.memoizedState=i,[o,d,!1]}function FN(i){var o=pr();return BN(o,Rt,i)}function BN(i,o,d){if(o=Cx(i,o,LN)[0],i=Df(wi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=su(o)}catch(k){throw k===jo?bf:k}else p=o;o=pr();var g=o.queue,N=g.dispatch;return d!==o.memoizedState&&(tt.flags|=2048,Mo(9,{destroy:void 0},jR.bind(null,g,d),null)),[p,N,i]}function jR(i,o){i.action=o}function $N(i){var o=pr(),d=Rt;if(d!==null)return BN(o,d,i);pr(),o=o.memoizedState,d=pr();var p=d.queue.dispatch;return d.memoizedState=i,[o,p,!1]}function Mo(i,o,d,p){return i={tag:i,create:d,deps:p,inst:o,next:null},o=tt.updateQueue,o===null&&(o=Mf(),tt.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,o.lastEffect=i),i}function qN(){return pr().memoizedState}function Ef(i,o,d,p){var g=Jr();tt.flags|=i,g.memoizedState=Mo(1|o,{destroy:void 0},d,p===void 0?null:p)}function _f(i,o,d,p){var g=pr();p=p===void 0?null:p;var N=g.memoizedState.inst;Rt!==null&&p!==null&&bx(p,Rt.memoizedState.deps)?g.memoizedState=Mo(o,N,d,p):(tt.flags|=i,g.memoizedState=Mo(1|o,N,d,p))}function HN(i,o){Ef(8390656,8,i,o)}function Dx(i,o){_f(2048,8,i,o)}function NR(i){tt.flags|=4;var o=tt.updateQueue;if(o===null)o=Mf(),tt.updateQueue=o,o.events=[i];else{var d=o.events;d===null?o.events=[i]:d.push(i)}}function UN(i){var o=pr().memoizedState;return NR({ref:o,nextImpl:i}),function(){if((Ct&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function YN(i,o){return _f(4,2,i,o)}function VN(i,o){return _f(4,4,i,o)}function GN(i,o){if(typeof o=="function"){i=i();var d=o(i);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function WN(i,o,d){d=d!=null?d.concat([i]):null,_f(4,4,GN.bind(null,o,i),d)}function Ex(){}function KN(i,o){var d=pr();o=o===void 0?null:o;var p=d.memoizedState;return o!==null&&bx(o,p[1])?p[0]:(d.memoizedState=[i,o],i)}function QN(i,o){var d=pr();o=o===void 0?null:o;var p=d.memoizedState;if(o!==null&&bx(o,p[1]))return p[0];if(p=i(),yl){ze(!0);try{i()}finally{ze(!1)}}return d.memoizedState=[p,o],p}function _x(i,o,d){return d===void 0||(yi&1073741824)!==0&&(dt&261930)===0?i.memoizedState=o:(i.memoizedState=d,i=XS(),tt.lanes|=i,js|=i,d)}function XN(i,o,d,p){return Cn(d,o)?d:So.current!==null?(i=_x(i,d,p),Cn(i,o)||(wr=!0),i):(yi&42)===0||(yi&1073741824)!==0&&(dt&261930)===0?(wr=!0,i.memoizedState=d):(i=XS(),tt.lanes|=i,js|=i,o)}function ZN(i,o,d,p,g){var N=G.p;G.p=N!==0&&8>N?N:8;var k=$.T,I={};$.T=I,Px(i,!1,o,d);try{var q=g(),ee=$.S;if(ee!==null&&ee(I,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var de=gR(q,p);lu(i,o,de,_n(i))}else lu(i,o,p,_n(i))}catch(pe){lu(i,o,{then:function(){},status:"rejected",reason:pe},_n())}finally{G.p=N,k!==null&&I.types!==null&&(k.types=I.types),$.T=k}}function SR(){}function Ox(i,o,d,p){if(i.tag!==5)throw Error(r(476));var g=JN(i).queue;ZN(i,g,o,z,d===null?SR:function(){return eS(i),d(p)})}function JN(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:z},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:d},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function eS(i){var o=JN(i);o.next===null&&(o=i.alternate.memoizedState),lu(i,o.next.queue,{},_n())}function Tx(){return Br(Su)}function tS(){return pr().memoizedState}function rS(){return pr().memoizedState}function CR(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var d=_n();i=vs(d);var p=xs(o,i,d);p!==null&&(mn(p,o,d),ru(p,o,d)),o={cache:ox()},i.payload=o;return}o=o.return}}function AR(i,o,d){var p=_n();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Of(i)?aS(o,d):(d=Xv(i,o,d,p),d!==null&&(mn(d,i,p),iS(d,o,p)))}function nS(i,o,d){var p=_n();lu(i,o,d,p)}function lu(i,o,d,p){var g={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Of(i))aS(o,g);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var k=o.lastRenderedState,I=N(k,d);if(g.hasEagerState=!0,g.eagerState=I,Cn(I,k))return ff(i,o,g,0),qt===null&&df(),!1}catch{}if(d=Xv(i,o,g,p),d!==null)return mn(d,i,p),iS(d,o,p),!0}return!1}function Px(i,o,d,p){if(p={lane:2,revertLane:f0(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Of(i)){if(o)throw Error(r(479))}else o=Xv(i,d,p,2),o!==null&&mn(o,i,2)}function Of(i){var o=i.alternate;return i===tt||o!==null&&o===tt}function aS(i,o){Co=Cf=!0;var d=i.pending;d===null?o.next=o:(o.next=d.next,d.next=o),i.pending=o}function iS(i,o,d){if((d&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,fi(i,d)}}var ou={readContext:Br,use:kf,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useLayoutEffect:sr,useInsertionEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useSyncExternalStore:sr,useId:sr,useHostTransitionStatus:sr,useFormState:sr,useActionState:sr,useOptimistic:sr,useMemoCache:sr,useCacheRefresh:sr};ou.useEffectEvent=sr;var sS={readContext:Br,use:kf,useCallback:function(i,o){return Jr().memoizedState=[i,o===void 0?null:o],i},useContext:Br,useEffect:HN,useImperativeHandle:function(i,o,d){d=d!=null?d.concat([i]):null,Ef(4194308,4,GN.bind(null,o,i),d)},useLayoutEffect:function(i,o){return Ef(4194308,4,i,o)},useInsertionEffect:function(i,o){Ef(4,2,i,o)},useMemo:function(i,o){var d=Jr();o=o===void 0?null:o;var p=i();if(yl){ze(!0);try{i()}finally{ze(!1)}}return d.memoizedState=[p,o],p},useReducer:function(i,o,d){var p=Jr();if(d!==void 0){var g=d(o);if(yl){ze(!0);try{d(o)}finally{ze(!1)}}}else g=o;return p.memoizedState=p.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},p.queue=i,i=i.dispatch=AR.bind(null,tt,i),[p.memoizedState,i]},useRef:function(i){var o=Jr();return i={current:i},o.memoizedState=i},useState:function(i){i=Mx(i);var o=i.queue,d=nS.bind(null,tt,o);return o.dispatch=d,[i.memoizedState,d]},useDebugValue:Ex,useDeferredValue:function(i,o){var d=Jr();return _x(d,i,o)},useTransition:function(){var i=Mx(!1);return i=ZN.bind(null,tt,i.queue,!0,!1),Jr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,d){var p=tt,g=Jr();if(ht){if(d===void 0)throw Error(r(407));d=d()}else{if(d=o(),qt===null)throw Error(r(349));(dt&127)!==0||MN(p,o,d)}g.memoizedState=d;var N={value:d,getSnapshot:o};return g.queue=N,HN(DN.bind(null,p,N,i),[i]),p.flags|=2048,Mo(9,{destroy:void 0},kN.bind(null,p,N,d,o),null),d},useId:function(){var i=Jr(),o=qt.identifierPrefix;if(ht){var d=Ra,p=Ia;d=(p&~(1<<32-ie(p)-1)).toString(32)+d,o="_"+o+"R_"+d,d=Af++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=bR++,o="_"+o+"r_"+d.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Tx,useFormState:zN,useActionState:zN,useOptimistic:function(i){var o=Jr();o.memoizedState=o.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=Px.bind(null,tt,!0,d),d.dispatch=o,[i,o]},useMemoCache:Sx,useCacheRefresh:function(){return Jr().memoizedState=CR.bind(null,tt)},useEffectEvent:function(i){var o=Jr(),d={impl:i};return o.memoizedState=d,function(){if((Ct&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},Ix={readContext:Br,use:kf,useCallback:KN,useContext:Br,useEffect:Dx,useImperativeHandle:WN,useInsertionEffect:YN,useLayoutEffect:VN,useMemo:QN,useReducer:Df,useRef:qN,useState:function(){return Df(wi)},useDebugValue:Ex,useDeferredValue:function(i,o){var d=pr();return XN(d,Rt.memoizedState,i,o)},useTransition:function(){var i=Df(wi)[0],o=pr().memoizedState;return[typeof i=="boolean"?i:su(i),o]},useSyncExternalStore:AN,useId:tS,useHostTransitionStatus:Tx,useFormState:FN,useActionState:FN,useOptimistic:function(i,o){var d=pr();return ON(d,Rt,i,o)},useMemoCache:Sx,useCacheRefresh:rS};Ix.useEffectEvent=UN;var lS={readContext:Br,use:kf,useCallback:KN,useContext:Br,useEffect:Dx,useImperativeHandle:WN,useInsertionEffect:YN,useLayoutEffect:VN,useMemo:QN,useReducer:Ax,useRef:qN,useState:function(){return Ax(wi)},useDebugValue:Ex,useDeferredValue:function(i,o){var d=pr();return Rt===null?_x(d,i,o):XN(d,Rt.memoizedState,i,o)},useTransition:function(){var i=Ax(wi)[0],o=pr().memoizedState;return[typeof i=="boolean"?i:su(i),o]},useSyncExternalStore:AN,useId:tS,useHostTransitionStatus:Tx,useFormState:$N,useActionState:$N,useOptimistic:function(i,o){var d=pr();return Rt!==null?ON(d,Rt,i,o):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:Sx,useCacheRefresh:rS};lS.useEffectEvent=UN;function Rx(i,o,d,p){o=i.memoizedState,d=d(p,o),d=d==null?o:v({},o,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Lx={enqueueSetState:function(i,o,d){i=i._reactInternals;var p=_n(),g=vs(p);g.payload=o,d!=null&&(g.callback=d),o=xs(i,g,p),o!==null&&(mn(o,i,p),ru(o,i,p))},enqueueReplaceState:function(i,o,d){i=i._reactInternals;var p=_n(),g=vs(p);g.tag=1,g.payload=o,d!=null&&(g.callback=d),o=xs(i,g,p),o!==null&&(mn(o,i,p),ru(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var d=_n(),p=vs(d);p.tag=2,o!=null&&(p.callback=o),o=xs(i,p,d),o!==null&&(mn(o,i,d),ru(o,i,d))}};function oS(i,o,d,p,g,N,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,N,k):o.prototype&&o.prototype.isPureReactComponent?!Wc(d,p)||!Wc(g,N):!0}function cS(i,o,d,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,p),o.state!==i&&Lx.enqueueReplaceState(o,o.state,null)}function wl(i,o){var d=o;if("ref"in o){d={};for(var p in o)p!=="ref"&&(d[p]=o[p])}if(i=i.defaultProps){d===o&&(d=v({},d));for(var g in i)d[g]===void 0&&(d[g]=i[g])}return d}function uS(i){uf(i)}function dS(i){console.error(i)}function fS(i){uf(i)}function Tf(i,o){try{var d=i.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function mS(i,o,d){try{var p=i.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function zx(i,o,d){return d=vs(d),d.tag=3,d.payload={element:null},d.callback=function(){Tf(i,o)},d}function pS(i){return i=vs(i),i.tag=3,i}function hS(i,o,d,p){var g=d.type.getDerivedStateFromError;if(typeof g=="function"){var N=p.value;i.payload=function(){return g(N)},i.callback=function(){mS(o,d,p)}}var k=d.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(i.callback=function(){mS(o,d,p),typeof g!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function MR(i,o,d,p,g){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=d.alternate,o!==null&&bo(o,d,g,!0),d=Mn.current,d!==null){switch(d.tag){case 31:case 13:return Xn===null?Yf():d.alternate===null&&lr===0&&(lr=3),d.flags&=-257,d.flags|=65536,d.lanes=g,p===yf?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([p]):o.add(p),c0(i,p,g)),!1;case 22:return d.flags|=65536,p===yf?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([p]):d.add(p)),c0(i,p,g)),!1}throw Error(r(435,d.tag))}return c0(i,p,g),Yf(),!1}if(ht)return o=Mn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,p!==nx&&(i=Error(r(422),{cause:p}),Xc(Gn(i,d)))):(p!==nx&&(o=Error(r(423),{cause:p}),Xc(Gn(o,d))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,p=Gn(p,d),g=zx(i.stateNode,p,g),px(i,g),lr!==4&&(lr=2)),!1;var N=Error(r(520),{cause:p});if(N=Gn(N,d),vu===null?vu=[N]:vu.push(N),lr!==4&&(lr=2),o===null)return!0;p=Gn(p,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,i=g&-g,d.lanes|=i,i=zx(d.stateNode,p,i),px(d,i),!1;case 1:if(o=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Ns===null||!Ns.has(N))))return d.flags|=65536,g&=-g,d.lanes|=g,g=pS(g),hS(g,i,d,p),px(d,g),!1}d=d.return}while(d!==null);return!1}var Fx=Error(r(461)),wr=!1;function $r(i,o,d,p){o.child=i===null?bN(o,null,d,p):bl(o,i.child,d,p)}function vS(i,o,d,p,g){d=d.render;var N=o.ref;if("ref"in p){var k={};for(var I in p)I!=="ref"&&(k[I]=p[I])}else k=p;return hl(o),p=yx(i,o,d,k,N,g),I=wx(),i!==null&&!wr?(jx(i,o,g),ji(i,o,g)):(ht&&I&&tx(o),o.flags|=1,$r(i,o,p,g),o.child)}function xS(i,o,d,p,g){if(i===null){var N=d.type;return typeof N=="function"&&!Zv(N)&&N.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=N,gS(i,o,N,p,g)):(i=pf(d.type,null,p,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(N=i.child,!Gx(i,g)){var k=N.memoizedProps;if(d=d.compare,d=d!==null?d:Wc,d(k,p)&&i.ref===o.ref)return ji(i,o,g)}return o.flags|=1,i=vi(N,p),i.ref=o.ref,i.return=o,o.child=i}function gS(i,o,d,p,g){if(i!==null){var N=i.memoizedProps;if(Wc(N,p)&&i.ref===o.ref)if(wr=!1,o.pendingProps=p=N,Gx(i,g))(i.flags&131072)!==0&&(wr=!0);else return o.lanes=i.lanes,ji(i,o,g)}return Bx(i,o,d,p,g)}function bS(i,o,d,p){var g=p.children,N=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(N=N!==null?N.baseLanes|d:d,i!==null){for(p=o.child=i.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;p=g&~N}else p=0,o.child=null;return yS(i,o,N,d,p)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&gf(o,N!==null?N.cachePool:null),N!==null?jN(o,N):vx(),NN(o);else return p=o.lanes=536870912,yS(i,o,N!==null?N.baseLanes|d:d,d,p)}else N!==null?(gf(o,N.cachePool),jN(o,N),bs(),o.memoizedState=null):(i!==null&&gf(o,null),vx(),bs());return $r(i,o,g,d),o.child}function cu(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function yS(i,o,d,p,g){var N=ux();return N=N===null?null:{parent:br._currentValue,pool:N},o.memoizedState={baseLanes:d,cachePool:N},i!==null&&gf(o,null),vx(),NN(o),i!==null&&bo(i,o,p,!0),o.childLanes=g,null}function Pf(i,o){return o=Rf({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function wS(i,o,d){return bl(o,i.child,null,d),i=Pf(o,o.pendingProps),i.flags|=2,kn(o),o.memoizedState=null,i}function kR(i,o,d){var p=o.pendingProps,g=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(ht){if(p.mode==="hidden")return i=Pf(o,p),o.lanes=536870912,cu(null,i);if(gx(o),(i=Gt)?(i=T2(i,Qn),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ds!==null?{id:Ia,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},d=aN(i),d.return=o,o.child=d,Fr=o,Gt=null)):i=null,i===null)throw ms(o);return o.lanes=536870912,null}return Pf(o,p)}var N=i.memoizedState;if(N!==null){var k=N.dehydrated;if(gx(o),g)if(o.flags&256)o.flags&=-257,o=wS(i,o,d);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(wr||bo(i,o,d,!1),g=(d&i.childLanes)!==0,wr||g){if(p=qt,p!==null&&(k=Ea(p,d),k!==0&&k!==N.retryLane))throw N.retryLane=k,dl(i,k),mn(p,i,k),Fx;Yf(),o=wS(i,o,d)}else i=N.treeContext,Gt=Zn(k.nextSibling),Fr=o,ht=!0,fs=null,Qn=!1,i!==null&&lN(o,i),o=Pf(o,p),o.flags|=4096;return o}return i=vi(i.child,{mode:p.mode,children:p.children}),i.ref=o.ref,o.child=i,i.return=o,i}function If(i,o){var d=o.ref;if(d===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(i===null||i.ref!==d)&&(o.flags|=4194816)}}function Bx(i,o,d,p,g){return hl(o),d=yx(i,o,d,p,void 0,g),p=wx(),i!==null&&!wr?(jx(i,o,g),ji(i,o,g)):(ht&&p&&tx(o),o.flags|=1,$r(i,o,d,g),o.child)}function jS(i,o,d,p,g,N){return hl(o),o.updateQueue=null,d=CN(o,p,d,g),SN(i),p=wx(),i!==null&&!wr?(jx(i,o,N),ji(i,o,N)):(ht&&p&&tx(o),o.flags|=1,$r(i,o,d,N),o.child)}function NS(i,o,d,p,g){if(hl(o),o.stateNode===null){var N=ho,k=d.contextType;typeof k=="object"&&k!==null&&(N=Br(k)),N=new d(p,N),o.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Lx,o.stateNode=N,N._reactInternals=o,N=o.stateNode,N.props=p,N.state=o.memoizedState,N.refs={},fx(o),k=d.contextType,N.context=typeof k=="object"&&k!==null?Br(k):ho,N.state=o.memoizedState,k=d.getDerivedStateFromProps,typeof k=="function"&&(Rx(o,d,k,p),N.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(k=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),k!==N.state&&Lx.enqueueReplaceState(N,N.state,null),au(o,p,N,g),nu(),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){N=o.stateNode;var I=o.memoizedProps,q=wl(d,I);N.props=q;var ee=N.context,de=d.contextType;k=ho,typeof de=="object"&&de!==null&&(k=Br(de));var pe=d.getDerivedStateFromProps;de=typeof pe=="function"||typeof N.getSnapshotBeforeUpdate=="function",I=o.pendingProps!==I,de||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(I||ee!==k)&&cS(o,N,p,k),hs=!1;var re=o.memoizedState;N.state=re,au(o,p,N,g),nu(),ee=o.memoizedState,I||re!==ee||hs?(typeof pe=="function"&&(Rx(o,d,pe,p),ee=o.memoizedState),(q=hs||oS(o,d,q,p,re,ee,k))?(de||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=ee),N.props=p,N.state=ee,N.context=k,p=q):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{N=o.stateNode,mx(i,o),k=o.memoizedProps,de=wl(d,k),N.props=de,pe=o.pendingProps,re=N.context,ee=d.contextType,q=ho,typeof ee=="object"&&ee!==null&&(q=Br(ee)),I=d.getDerivedStateFromProps,(ee=typeof I=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(k!==pe||re!==q)&&cS(o,N,p,q),hs=!1,re=o.memoizedState,N.state=re,au(o,p,N,g),nu();var se=o.memoizedState;k!==pe||re!==se||hs||i!==null&&i.dependencies!==null&&vf(i.dependencies)?(typeof I=="function"&&(Rx(o,d,I,p),se=o.memoizedState),(de=hs||oS(o,d,de,p,re,se,q)||i!==null&&i.dependencies!==null&&vf(i.dependencies))?(ee||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,se,q),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,se,q)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||k===i.memoizedProps&&re===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&re===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=se),N.props=p,N.state=se,N.context=q,p=de):(typeof N.componentDidUpdate!="function"||k===i.memoizedProps&&re===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&re===i.memoizedState||(o.flags|=1024),p=!1)}return N=p,If(i,o),p=(o.flags&128)!==0,N||p?(N=o.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:N.render(),o.flags|=1,i!==null&&p?(o.child=bl(o,i.child,null,g),o.child=bl(o,null,d,g)):$r(i,o,d,g),o.memoizedState=N.state,i=o.child):i=ji(i,o,g),i}function SS(i,o,d,p){return ml(),o.flags|=256,$r(i,o,d,p),o.child}var $x={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qx(i){return{baseLanes:i,cachePool:mN()}}function Hx(i,o,d){return i=i!==null?i.childLanes&~d:0,o&&(i|=En),i}function CS(i,o,d){var p=o.pendingProps,g=!1,N=(o.flags&128)!==0,k;if((k=N)||(k=i!==null&&i.memoizedState===null?!1:(mr.current&2)!==0),k&&(g=!0,o.flags&=-129),k=(o.flags&32)!==0,o.flags&=-33,i===null){if(ht){if(g?gs(o):bs(),(i=Gt)?(i=T2(i,Qn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ds!==null?{id:Ia,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},d=aN(i),d.return=o,o.child=d,Fr=o,Gt=null)):i=null,i===null)throw ms(o);return C0(i)?o.lanes=32:o.lanes=536870912,null}var I=p.children;return p=p.fallback,g?(bs(),g=o.mode,I=Rf({mode:"hidden",children:I},g),p=fl(p,g,d,null),I.return=o,p.return=o,I.sibling=p,o.child=I,p=o.child,p.memoizedState=qx(d),p.childLanes=Hx(i,k,d),o.memoizedState=$x,cu(null,p)):(gs(o),Ux(o,I))}var q=i.memoizedState;if(q!==null&&(I=q.dehydrated,I!==null)){if(N)o.flags&256?(gs(o),o.flags&=-257,o=Yx(i,o,d)):o.memoizedState!==null?(bs(),o.child=i.child,o.flags|=128,o=null):(bs(),I=p.fallback,g=o.mode,p=Rf({mode:"visible",children:p.children},g),I=fl(I,g,d,null),I.flags|=2,p.return=o,I.return=o,p.sibling=I,o.child=p,bl(o,i.child,null,d),p=o.child,p.memoizedState=qx(d),p.childLanes=Hx(i,k,d),o.memoizedState=$x,o=cu(null,p));else if(gs(o),C0(I)){if(k=I.nextSibling&&I.nextSibling.dataset,k)var ee=k.dgst;k=ee,p=Error(r(419)),p.stack="",p.digest=k,Xc({value:p,source:null,stack:null}),o=Yx(i,o,d)}else if(wr||bo(i,o,d,!1),k=(d&i.childLanes)!==0,wr||k){if(k=qt,k!==null&&(p=Ea(k,d),p!==0&&p!==q.retryLane))throw q.retryLane=p,dl(i,p),mn(k,i,p),Fx;S0(I)||Yf(),o=Yx(i,o,d)}else S0(I)?(o.flags|=192,o.child=i.child,o=null):(i=q.treeContext,Gt=Zn(I.nextSibling),Fr=o,ht=!0,fs=null,Qn=!1,i!==null&&lN(o,i),o=Ux(o,p.children),o.flags|=4096);return o}return g?(bs(),I=p.fallback,g=o.mode,q=i.child,ee=q.sibling,p=vi(q,{mode:"hidden",children:p.children}),p.subtreeFlags=q.subtreeFlags&65011712,ee!==null?I=vi(ee,I):(I=fl(I,g,d,null),I.flags|=2),I.return=o,p.return=o,p.sibling=I,o.child=p,cu(null,p),p=o.child,I=i.child.memoizedState,I===null?I=qx(d):(g=I.cachePool,g!==null?(q=br._currentValue,g=g.parent!==q?{parent:q,pool:q}:g):g=mN(),I={baseLanes:I.baseLanes|d,cachePool:g}),p.memoizedState=I,p.childLanes=Hx(i,k,d),o.memoizedState=$x,cu(i.child,p)):(gs(o),d=i.child,i=d.sibling,d=vi(d,{mode:"visible",children:p.children}),d.return=o,d.sibling=null,i!==null&&(k=o.deletions,k===null?(o.deletions=[i],o.flags|=16):k.push(i)),o.child=d,o.memoizedState=null,d)}function Ux(i,o){return o=Rf({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Rf(i,o){return i=An(22,i,null,o),i.lanes=0,i}function Yx(i,o,d){return bl(o,i.child,null,d),i=Ux(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function AS(i,o,d){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),sx(i.return,o,d)}function Vx(i,o,d,p,g,N){var k=i.memoizedState;k===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:g,treeForkCount:N}:(k.isBackwards=o,k.rendering=null,k.renderingStartTime=0,k.last=p,k.tail=d,k.tailMode=g,k.treeForkCount=N)}function MS(i,o,d){var p=o.pendingProps,g=p.revealOrder,N=p.tail;p=p.children;var k=mr.current,I=(k&2)!==0;if(I?(k=k&1|2,o.flags|=128):k&=1,he(mr,k),$r(i,o,p,d),p=ht?Qc:0,!I&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&AS(i,d,o);else if(i.tag===19)AS(i,d,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(d=o.child,g=null;d!==null;)i=d.alternate,i!==null&&Sf(i)===null&&(g=d),d=d.sibling;d=g,d===null?(g=o.child,o.child=null):(g=d.sibling,d.sibling=null),Vx(o,!1,g,d,N,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&Sf(i)===null){o.child=g;break}i=g.sibling,g.sibling=d,d=g,g=i}Vx(o,!0,d,null,N,p);break;case"together":Vx(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function ji(i,o,d){if(i!==null&&(o.dependencies=i.dependencies),js|=o.lanes,(d&o.childLanes)===0)if(i!==null){if(bo(i,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,d=vi(i,i.pendingProps),o.child=d,d.return=o;i.sibling!==null;)i=i.sibling,d=d.sibling=vi(i,i.pendingProps),d.return=o;d.sibling=null}return o.child}function Gx(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&vf(i)))}function DR(i,o,d){switch(o.tag){case 3:ge(o,o.stateNode.containerInfo),ps(o,br,i.memoizedState.cache),ml();break;case 27:case 5:Ne(o);break;case 4:ge(o,o.stateNode.containerInfo);break;case 10:ps(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,gx(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(gs(o),o.flags|=128,null):(d&o.child.childLanes)!==0?CS(i,o,d):(gs(o),i=ji(i,o,d),i!==null?i.sibling:null);gs(o);break;case 19:var g=(i.flags&128)!==0;if(p=(d&o.childLanes)!==0,p||(bo(i,o,d,!1),p=(d&o.childLanes)!==0),g){if(p)return MS(i,o,d);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),he(mr,mr.current),p)break;return null;case 22:return o.lanes=0,bS(i,o,d,o.pendingProps);case 24:ps(o,br,i.memoizedState.cache)}return ji(i,o,d)}function kS(i,o,d){if(i!==null)if(i.memoizedProps!==o.pendingProps)wr=!0;else{if(!Gx(i,d)&&(o.flags&128)===0)return wr=!1,DR(i,o,d);wr=(i.flags&131072)!==0}else wr=!1,ht&&(o.flags&1048576)!==0&&sN(o,Qc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(i=xl(o.elementType),o.type=i,typeof i=="function")Zv(i)?(p=wl(i,p),o.tag=1,o=NS(null,o,i,p,d)):(o.tag=0,o=Bx(null,o,i,p,d));else{if(i!=null){var g=i.$$typeof;if(g===_){o.tag=11,o=vS(null,o,i,p,d);break e}else if(g===P){o.tag=14,o=xS(null,o,i,p,d);break e}}throw o=X(i)||i,Error(r(306,o,""))}}return o;case 0:return Bx(i,o,o.type,o.pendingProps,d);case 1:return p=o.type,g=wl(p,o.pendingProps),NS(i,o,p,g,d);case 3:e:{if(ge(o,o.stateNode.containerInfo),i===null)throw Error(r(387));p=o.pendingProps;var N=o.memoizedState;g=N.element,mx(i,o),au(o,p,null,d);var k=o.memoizedState;if(p=k.cache,ps(o,br,p),p!==N.cache&&lx(o,[br],d,!0),nu(),p=k.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:k.cache},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){o=SS(i,o,p,d);break e}else if(p!==g){g=Gn(Error(r(424)),o),Xc(g),o=SS(i,o,p,d);break e}else for(i=o.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Gt=Zn(i.firstChild),Fr=o,ht=!0,fs=null,Qn=!0,d=bN(o,null,p,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(ml(),p===g){o=ji(i,o,d);break e}$r(i,o,p,d)}o=o.child}return o;case 26:return If(i,o),i===null?(d=F2(o.type,null,o.pendingProps,null))?o.memoizedState=d:ht||(d=o.type,i=o.pendingProps,p=Zf(Ie.current).createElement(d),p[Cr]=o,p[Gr]=i,qr(p,d,i),xt(p),o.stateNode=p):o.memoizedState=F2(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Ne(o),i===null&&ht&&(p=o.stateNode=R2(o.type,o.pendingProps,Ie.current),Fr=o,Qn=!0,g=Gt,Ms(o.type)?(A0=g,Gt=Zn(p.firstChild)):Gt=g),$r(i,o,o.pendingProps.children,d),If(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&ht&&((g=p=Gt)&&(p=iL(p,o.type,o.pendingProps,Qn),p!==null?(o.stateNode=p,Fr=o,Gt=Zn(p.firstChild),Qn=!1,g=!0):g=!1),g||ms(o)),Ne(o),g=o.type,N=o.pendingProps,k=i!==null?i.memoizedProps:null,p=N.children,w0(g,N)?p=null:k!==null&&w0(g,k)&&(o.flags|=32),o.memoizedState!==null&&(g=yx(i,o,yR,null,null,d),Su._currentValue=g),If(i,o),$r(i,o,p,d),o.child;case 6:return i===null&&ht&&((i=d=Gt)&&(d=sL(d,o.pendingProps,Qn),d!==null?(o.stateNode=d,Fr=o,Gt=null,i=!0):i=!1),i||ms(o)),null;case 13:return CS(i,o,d);case 4:return ge(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=bl(o,null,p,d):$r(i,o,p,d),o.child;case 11:return vS(i,o,o.type,o.pendingProps,d);case 7:return $r(i,o,o.pendingProps,d),o.child;case 8:return $r(i,o,o.pendingProps.children,d),o.child;case 12:return $r(i,o,o.pendingProps.children,d),o.child;case 10:return p=o.pendingProps,ps(o,o.type,p.value),$r(i,o,p.children,d),o.child;case 9:return g=o.type._context,p=o.pendingProps.children,hl(o),g=Br(g),p=p(g),o.flags|=1,$r(i,o,p,d),o.child;case 14:return xS(i,o,o.type,o.pendingProps,d);case 15:return gS(i,o,o.type,o.pendingProps,d);case 19:return MS(i,o,d);case 31:return kR(i,o,d);case 22:return bS(i,o,d,o.pendingProps);case 24:return hl(o),p=Br(br),i===null?(g=ux(),g===null&&(g=qt,N=ox(),g.pooledCache=N,N.refCount++,N!==null&&(g.pooledCacheLanes|=d),g=N),o.memoizedState={parent:p,cache:g},fx(o),ps(o,br,g)):((i.lanes&d)!==0&&(mx(i,o),au(o,null,null,d),nu()),g=i.memoizedState,N=o.memoizedState,g.parent!==p?(g={parent:p,cache:p},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),ps(o,br,p)):(p=N.cache,ps(o,br,p),p!==g.cache&&lx(o,[br],d,!0))),$r(i,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Ni(i){i.flags|=4}function Wx(i,o,d,p,g){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(t2())i.flags|=8192;else throw gl=yf,dx}else i.flags&=-16777217}function DS(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!U2(o))if(t2())i.flags|=8192;else throw gl=yf,dx}function Lf(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?It():536870912,i.lanes|=o,_o|=o)}function uu(i,o){if(!ht)switch(i.tailMode){case"hidden":o=i.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Wt(i){var o=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(o)for(var g=i.child;g!==null;)d|=g.lanes|g.childLanes,p|=g.subtreeFlags&65011712,p|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)d|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=p,i.childLanes=d,o}function ER(i,o,d){var p=o.pendingProps;switch(rx(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(o),null;case 1:return Wt(o),null;case 3:return d=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),bi(br),W(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(go(o)?Ni(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ax())),Wt(o),null;case 26:var g=o.type,N=o.memoizedState;return i===null?(Ni(o),N!==null?(Wt(o),DS(o,N)):(Wt(o),Wx(o,g,null,p,d))):N?N!==i.memoizedState?(Ni(o),Wt(o),DS(o,N)):(Wt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==p&&Ni(o),Wt(o),Wx(o,g,i,p,d)),null;case 27:if(qe(o),d=Ie.current,g=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&Ni(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return Wt(o),null}i=ye.current,go(o)?oN(o):(i=R2(g,p,d),o.stateNode=i,Ni(o))}return Wt(o),null;case 5:if(qe(o),g=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&Ni(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return Wt(o),null}if(N=ye.current,go(o))oN(o);else{var k=Zf(Ie.current);switch(N){case 1:N=k.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:N=k.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":N=k.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":N=k.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":N=k.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof p.is=="string"?k.createElement("select",{is:p.is}):k.createElement("select"),p.multiple?N.multiple=!0:p.size&&(N.size=p.size);break;default:N=typeof p.is=="string"?k.createElement(g,{is:p.is}):k.createElement(g)}}N[Cr]=o,N[Gr]=p;e:for(k=o.child;k!==null;){if(k.tag===5||k.tag===6)N.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===o)break e;for(;k.sibling===null;){if(k.return===null||k.return===o)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}o.stateNode=N;e:switch(qr(N,g,p),g){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Ni(o)}}return Wt(o),Wx(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,d),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&Ni(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(i=Ie.current,go(o)){if(i=o.stateNode,d=o.memoizedProps,p=null,g=Fr,g!==null)switch(g.tag){case 27:case 5:p=g.memoizedProps}i[Cr]=o,i=!!(i.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||C2(i.nodeValue,d)),i||ms(o,!0)}else i=Zf(i).createTextNode(p),i[Cr]=o,o.stateNode=i}return Wt(o),null;case 31:if(d=o.memoizedState,i===null||i.memoizedState!==null){if(p=go(o),d!==null){if(i===null){if(!p)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Cr]=o}else ml(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),i=!1}else d=ax(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),i=!0;if(!i)return o.flags&256?(kn(o),o):(kn(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Wt(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=go(o),p!==null&&p.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Cr]=o}else ml(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),g=!1}else g=ax(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(kn(o),o):(kn(o),null)}return kn(o),(o.flags&128)!==0?(o.lanes=d,o):(d=p!==null,i=i!==null&&i.memoizedState!==null,d&&(p=o.child,g=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(g=p.alternate.memoizedState.cachePool.pool),N=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==g&&(p.flags|=2048)),d!==i&&d&&(o.child.flags|=8192),Lf(o,o.updateQueue),Wt(o),null);case 4:return W(),i===null&&v0(o.stateNode.containerInfo),Wt(o),null;case 10:return bi(o.type),Wt(o),null;case 19:if(ae(mr),p=o.memoizedState,p===null)return Wt(o),null;if(g=(o.flags&128)!==0,N=p.rendering,N===null)if(g)uu(p,!1);else{if(lr!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(N=Sf(i),N!==null){for(o.flags|=128,uu(p,!1),i=N.updateQueue,o.updateQueue=i,Lf(o,i),o.subtreeFlags=0,i=d,d=o.child;d!==null;)nN(d,i),d=d.sibling;return he(mr,mr.current&1|2),ht&&xi(o,p.treeForkCount),o.child}i=i.sibling}p.tail!==null&&St()>qf&&(o.flags|=128,g=!0,uu(p,!1),o.lanes=4194304)}else{if(!g)if(i=Sf(N),i!==null){if(o.flags|=128,g=!0,i=i.updateQueue,o.updateQueue=i,Lf(o,i),uu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!N.alternate&&!ht)return Wt(o),null}else 2*St()-p.renderingStartTime>qf&&d!==536870912&&(o.flags|=128,g=!0,uu(p,!1),o.lanes=4194304);p.isBackwards?(N.sibling=o.child,o.child=N):(i=p.last,i!==null?i.sibling=N:o.child=N,p.last=N)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=St(),i.sibling=null,d=mr.current,he(mr,g?d&1|2:d&1),ht&&xi(o,p.treeForkCount),i):(Wt(o),null);case 22:case 23:return kn(o),xx(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(d&536870912)!==0&&(o.flags&128)===0&&(Wt(o),o.subtreeFlags&6&&(o.flags|=8192)):Wt(o),d=o.updateQueue,d!==null&&Lf(o,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==d&&(o.flags|=2048),i!==null&&ae(vl),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),bi(br),Wt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function _R(i,o){switch(rx(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return bi(br),W(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return qe(o),null;case 31:if(o.memoizedState!==null){if(kn(o),o.alternate===null)throw Error(r(340));ml()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(kn(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));ml()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ae(mr),null;case 4:return W(),null;case 10:return bi(o.type),null;case 22:case 23:return kn(o),xx(),i!==null&&ae(vl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return bi(br),null;case 25:return null;default:return null}}function ES(i,o){switch(rx(o),o.tag){case 3:bi(br),W();break;case 26:case 27:case 5:qe(o);break;case 4:W();break;case 31:o.memoizedState!==null&&kn(o);break;case 13:kn(o);break;case 19:ae(mr);break;case 10:bi(o.type);break;case 22:case 23:kn(o),xx(),i!==null&&ae(vl);break;case 24:bi(br)}}function du(i,o){try{var d=o.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var g=p.next;d=g;do{if((d.tag&i)===i){p=void 0;var N=d.create,k=d.inst;p=N(),k.destroy=p}d=d.next}while(d!==g)}}catch(I){Et(o,o.return,I)}}function ys(i,o,d){try{var p=o.updateQueue,g=p!==null?p.lastEffect:null;if(g!==null){var N=g.next;p=N;do{if((p.tag&i)===i){var k=p.inst,I=k.destroy;if(I!==void 0){k.destroy=void 0,g=o;var q=d,ee=I;try{ee()}catch(de){Et(g,q,de)}}}p=p.next}while(p!==N)}}catch(de){Et(o,o.return,de)}}function _S(i){var o=i.updateQueue;if(o!==null){var d=i.stateNode;try{wN(o,d)}catch(p){Et(i,i.return,p)}}}function OS(i,o,d){d.props=wl(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(p){Et(i,o,p)}}function fu(i,o){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof d=="function"?i.refCleanup=d(p):d.current=p}}catch(g){Et(i,o,g)}}function La(i,o){var d=i.ref,p=i.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(g){Et(i,o,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(g){Et(i,o,g)}else d.current=null}function TS(i){var o=i.type,d=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(g){Et(i,i.return,g)}}function Kx(i,o,d){try{var p=i.stateNode;JR(p,i.type,d,o),p[Gr]=o}catch(g){Et(i,i.return,g)}}function PS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ms(i.type)||i.tag===4}function Qx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||PS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ms(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Xx(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(i),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=pi));else if(p!==4&&(p===27&&Ms(i.type)&&(d=i.stateNode,o=null),i=i.child,i!==null))for(Xx(i,o,d),i=i.sibling;i!==null;)Xx(i,o,d),i=i.sibling}function zf(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?d.insertBefore(i,o):d.appendChild(i);else if(p!==4&&(p===27&&Ms(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(zf(i,o,d),i=i.sibling;i!==null;)zf(i,o,d),i=i.sibling}function IS(i){var o=i.stateNode,d=i.memoizedProps;try{for(var p=i.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);qr(o,p,d),o[Cr]=i,o[Gr]=d}catch(N){Et(i,i.return,N)}}var Si=!1,jr=!1,Zx=!1,RS=typeof WeakSet=="function"?WeakSet:Set,Or=null;function OR(i,o){if(i=i.containerInfo,b0=im,i=Wj(i),Yv(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var g=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var k=0,I=-1,q=-1,ee=0,de=0,pe=i,re=null;t:for(;;){for(var se;pe!==d||g!==0&&pe.nodeType!==3||(I=k+g),pe!==N||p!==0&&pe.nodeType!==3||(q=k+p),pe.nodeType===3&&(k+=pe.nodeValue.length),(se=pe.firstChild)!==null;)re=pe,pe=se;for(;;){if(pe===i)break t;if(re===d&&++ee===g&&(I=k),re===N&&++de===p&&(q=k),(se=pe.nextSibling)!==null)break;pe=re,re=pe.parentNode}pe=se}d=I===-1||q===-1?null:{start:I,end:q}}else d=null}d=d||{start:0,end:0}}else d=null;for(y0={focusedElem:i,selectionRange:d},im=!1,Or=o;Or!==null;)if(o=Or,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Or=i;else for(;Or!==null;){switch(o=Or,N=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(d=0;d<i.length;d++)g=i[d],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&N!==null){i=void 0,d=o,g=N.memoizedProps,N=N.memoizedState,p=d.stateNode;try{var Te=wl(d.type,g);i=p.getSnapshotBeforeUpdate(Te,N),p.__reactInternalSnapshotBeforeUpdate=i}catch(Ve){Et(d,d.return,Ve)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,d=i.nodeType,d===9)N0(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":N0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Or=i;break}Or=o.return}}function LS(i,o,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:Ai(i,d),p&4&&du(5,d);break;case 1:if(Ai(i,d),p&4)if(i=d.stateNode,o===null)try{i.componentDidMount()}catch(k){Et(d,d.return,k)}else{var g=wl(d.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(g,o,i.__reactInternalSnapshotBeforeUpdate)}catch(k){Et(d,d.return,k)}}p&64&&_S(d),p&512&&fu(d,d.return);break;case 3:if(Ai(i,d),p&64&&(i=d.updateQueue,i!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{wN(i,o)}catch(k){Et(d,d.return,k)}}break;case 27:o===null&&p&4&&IS(d);case 26:case 5:Ai(i,d),o===null&&p&4&&TS(d),p&512&&fu(d,d.return);break;case 12:Ai(i,d);break;case 31:Ai(i,d),p&4&&BS(i,d);break;case 13:Ai(i,d),p&4&&$S(i,d),p&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=$R.bind(null,d),lL(i,d))));break;case 22:if(p=d.memoizedState!==null||Si,!p){o=o!==null&&o.memoizedState!==null||jr,g=Si;var N=jr;Si=p,(jr=o)&&!N?Mi(i,d,(d.subtreeFlags&8772)!==0):Ai(i,d),Si=g,jr=N}break;case 30:break;default:Ai(i,d)}}function zS(i){var o=i.alternate;o!==null&&(i.alternate=null,zS(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Fc(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Zt=null,cn=!1;function Ci(i,o,d){for(d=d.child;d!==null;)FS(i,o,d),d=d.sibling}function FS(i,o,d){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(Ce,d)}catch{}switch(d.tag){case 26:jr||La(d,o),Ci(i,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:jr||La(d,o);var p=Zt,g=cn;Ms(d.type)&&(Zt=d.stateNode,cn=!1),Ci(i,o,d),wu(d.stateNode),Zt=p,cn=g;break;case 5:jr||La(d,o);case 6:if(p=Zt,g=cn,Zt=null,Ci(i,o,d),Zt=p,cn=g,Zt!==null)if(cn)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(d.stateNode)}catch(N){Et(d,o,N)}else try{Zt.removeChild(d.stateNode)}catch(N){Et(d,o,N)}break;case 18:Zt!==null&&(cn?(i=Zt,_2(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),Fo(i)):_2(Zt,d.stateNode));break;case 4:p=Zt,g=cn,Zt=d.stateNode.containerInfo,cn=!0,Ci(i,o,d),Zt=p,cn=g;break;case 0:case 11:case 14:case 15:ys(2,d,o),jr||ys(4,d,o),Ci(i,o,d);break;case 1:jr||(La(d,o),p=d.stateNode,typeof p.componentWillUnmount=="function"&&OS(d,o,p)),Ci(i,o,d);break;case 21:Ci(i,o,d);break;case 22:jr=(p=jr)||d.memoizedState!==null,Ci(i,o,d),jr=p;break;default:Ci(i,o,d)}}function BS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Fo(i)}catch(d){Et(o,o.return,d)}}}function $S(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Fo(i)}catch(d){Et(o,o.return,d)}}function TR(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new RS),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new RS),o;default:throw Error(r(435,i.tag))}}function Ff(i,o){var d=TR(i);o.forEach(function(p){if(!d.has(p)){d.add(p);var g=qR.bind(null,i,p);p.then(g,g)}})}function un(i,o){var d=o.deletions;if(d!==null)for(var p=0;p<d.length;p++){var g=d[p],N=i,k=o,I=k;e:for(;I!==null;){switch(I.tag){case 27:if(Ms(I.type)){Zt=I.stateNode,cn=!1;break e}break;case 5:Zt=I.stateNode,cn=!1;break e;case 3:case 4:Zt=I.stateNode.containerInfo,cn=!0;break e}I=I.return}if(Zt===null)throw Error(r(160));FS(N,k,g),Zt=null,cn=!1,N=g.alternate,N!==null&&(N.return=null),g.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)qS(o,i),o=o.sibling}var fa=null;function qS(i,o){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:un(o,i),dn(i),p&4&&(ys(3,i,i.return),du(3,i),ys(5,i,i.return));break;case 1:un(o,i),dn(i),p&512&&(jr||d===null||La(d,d.return)),p&64&&Si&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var g=fa;if(un(o,i),dn(i),p&512&&(jr||d===null||La(d,d.return)),p&4){var N=d!==null?d.memoizedState:null;if(p=i.memoizedState,d===null)if(p===null)if(i.stateNode===null){e:{p=i.type,d=i.memoizedProps,g=g.ownerDocument||g;t:switch(p){case"title":N=g.getElementsByTagName("title")[0],(!N||N[ll]||N[Cr]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=g.createElement(p),g.head.insertBefore(N,g.querySelector("head > title"))),qr(N,p,d),N[Cr]=i,xt(N),p=N;break e;case"link":var k=q2("link","href",g).get(p+(d.href||""));if(k){for(var I=0;I<k.length;I++)if(N=k[I],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){k.splice(I,1);break t}}N=g.createElement(p),qr(N,p,d),g.head.appendChild(N);break;case"meta":if(k=q2("meta","content",g).get(p+(d.content||""))){for(I=0;I<k.length;I++)if(N=k[I],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){k.splice(I,1);break t}}N=g.createElement(p),qr(N,p,d),g.head.appendChild(N);break;default:throw Error(r(468,p))}N[Cr]=i,xt(N),p=N}i.stateNode=p}else H2(g,i.type,i.stateNode);else i.stateNode=$2(g,p,i.memoizedProps);else N!==p?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,p===null?H2(g,i.type,i.stateNode):$2(g,p,i.memoizedProps)):p===null&&i.stateNode!==null&&Kx(i,i.memoizedProps,d.memoizedProps)}break;case 27:un(o,i),dn(i),p&512&&(jr||d===null||La(d,d.return)),d!==null&&p&4&&Kx(i,i.memoizedProps,d.memoizedProps);break;case 5:if(un(o,i),dn(i),p&512&&(jr||d===null||La(d,d.return)),i.flags&32){g=i.stateNode;try{lo(g,"")}catch(Te){Et(i,i.return,Te)}}p&4&&i.stateNode!=null&&(g=i.memoizedProps,Kx(i,g,d!==null?d.memoizedProps:g)),p&1024&&(Zx=!0);break;case 6:if(un(o,i),dn(i),p&4){if(i.stateNode===null)throw Error(r(162));p=i.memoizedProps,d=i.stateNode;try{d.nodeValue=p}catch(Te){Et(i,i.return,Te)}}break;case 3:if(tm=null,g=fa,fa=Jf(o.containerInfo),un(o,i),fa=g,dn(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Fo(o.containerInfo)}catch(Te){Et(i,i.return,Te)}Zx&&(Zx=!1,HS(i));break;case 4:p=fa,fa=Jf(i.stateNode.containerInfo),un(o,i),dn(i),fa=p;break;case 12:un(o,i),dn(i);break;case 31:un(o,i),dn(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Ff(i,p)));break;case 13:un(o,i),dn(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&($f=St()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Ff(i,p)));break;case 22:g=i.memoizedState!==null;var q=d!==null&&d.memoizedState!==null,ee=Si,de=jr;if(Si=ee||g,jr=de||q,un(o,i),jr=de,Si=ee,dn(i),p&8192)e:for(o=i.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(d===null||q||Si||jr||jl(i)),d=null,o=i;;){if(o.tag===5||o.tag===26){if(d===null){q=d=o;try{if(N=q.stateNode,g)k=N.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{I=q.stateNode;var pe=q.memoizedProps.style,re=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;I.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Te){Et(q,q.return,Te)}}}else if(o.tag===6){if(d===null){q=o;try{q.stateNode.nodeValue=g?"":q.memoizedProps}catch(Te){Et(q,q.return,Te)}}}else if(o.tag===18){if(d===null){q=o;try{var se=q.stateNode;g?O2(se,!0):O2(q.stateNode,!1)}catch(Te){Et(q,q.return,Te)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Ff(i,d))));break;case 19:un(o,i),dn(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Ff(i,p)));break;case 30:break;case 21:break;default:un(o,i),dn(i)}}function dn(i){var o=i.flags;if(o&2){try{for(var d,p=i.return;p!==null;){if(PS(p)){d=p;break}p=p.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var g=d.stateNode,N=Qx(i);zf(i,N,g);break;case 5:var k=d.stateNode;d.flags&32&&(lo(k,""),d.flags&=-33);var I=Qx(i);zf(i,I,k);break;case 3:case 4:var q=d.stateNode.containerInfo,ee=Qx(i);Xx(i,ee,q);break;default:throw Error(r(161))}}catch(de){Et(i,i.return,de)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function HS(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;HS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Ai(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)LS(i,o.alternate,o),o=o.sibling}function jl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:ys(4,o,o.return),jl(o);break;case 1:La(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&OS(o,o.return,d),jl(o);break;case 27:wu(o.stateNode);case 26:case 5:La(o,o.return),jl(o);break;case 22:o.memoizedState===null&&jl(o);break;case 30:jl(o);break;default:jl(o)}i=i.sibling}}function Mi(i,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,g=i,N=o,k=N.flags;switch(N.tag){case 0:case 11:case 15:Mi(g,N,d),du(4,N);break;case 1:if(Mi(g,N,d),p=N,g=p.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ee){Et(p,p.return,ee)}if(p=N,g=p.updateQueue,g!==null){var I=p.stateNode;try{var q=g.shared.hiddenCallbacks;if(q!==null)for(g.shared.hiddenCallbacks=null,g=0;g<q.length;g++)yN(q[g],I)}catch(ee){Et(p,p.return,ee)}}d&&k&64&&_S(N),fu(N,N.return);break;case 27:IS(N);case 26:case 5:Mi(g,N,d),d&&p===null&&k&4&&TS(N),fu(N,N.return);break;case 12:Mi(g,N,d);break;case 31:Mi(g,N,d),d&&k&4&&BS(g,N);break;case 13:Mi(g,N,d),d&&k&4&&$S(g,N);break;case 22:N.memoizedState===null&&Mi(g,N,d),fu(N,N.return);break;case 30:break;default:Mi(g,N,d)}o=o.sibling}}function Jx(i,o){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&Zc(d))}function e0(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Zc(i))}function ma(i,o,d,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)US(i,o,d,p),o=o.sibling}function US(i,o,d,p){var g=o.flags;switch(o.tag){case 0:case 11:case 15:ma(i,o,d,p),g&2048&&du(9,o);break;case 1:ma(i,o,d,p);break;case 3:ma(i,o,d,p),g&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Zc(i)));break;case 12:if(g&2048){ma(i,o,d,p),i=o.stateNode;try{var N=o.memoizedProps,k=N.id,I=N.onPostCommit;typeof I=="function"&&I(k,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(q){Et(o,o.return,q)}}else ma(i,o,d,p);break;case 31:ma(i,o,d,p);break;case 13:ma(i,o,d,p);break;case 23:break;case 22:N=o.stateNode,k=o.alternate,o.memoizedState!==null?N._visibility&2?ma(i,o,d,p):mu(i,o):N._visibility&2?ma(i,o,d,p):(N._visibility|=2,ko(i,o,d,p,(o.subtreeFlags&10256)!==0||!1)),g&2048&&Jx(k,o);break;case 24:ma(i,o,d,p),g&2048&&e0(o.alternate,o);break;default:ma(i,o,d,p)}}function ko(i,o,d,p,g){for(g=g&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var N=i,k=o,I=d,q=p,ee=k.flags;switch(k.tag){case 0:case 11:case 15:ko(N,k,I,q,g),du(8,k);break;case 23:break;case 22:var de=k.stateNode;k.memoizedState!==null?de._visibility&2?ko(N,k,I,q,g):mu(N,k):(de._visibility|=2,ko(N,k,I,q,g)),g&&ee&2048&&Jx(k.alternate,k);break;case 24:ko(N,k,I,q,g),g&&ee&2048&&e0(k.alternate,k);break;default:ko(N,k,I,q,g)}o=o.sibling}}function mu(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=i,p=o,g=p.flags;switch(p.tag){case 22:mu(d,p),g&2048&&Jx(p.alternate,p);break;case 24:mu(d,p),g&2048&&e0(p.alternate,p);break;default:mu(d,p)}o=o.sibling}}var pu=8192;function Do(i,o,d){if(i.subtreeFlags&pu)for(i=i.child;i!==null;)YS(i,o,d),i=i.sibling}function YS(i,o,d){switch(i.tag){case 26:Do(i,o,d),i.flags&pu&&i.memoizedState!==null&&bL(d,fa,i.memoizedState,i.memoizedProps);break;case 5:Do(i,o,d);break;case 3:case 4:var p=fa;fa=Jf(i.stateNode.containerInfo),Do(i,o,d),fa=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=pu,pu=16777216,Do(i,o,d),pu=p):Do(i,o,d));break;default:Do(i,o,d)}}function VS(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function hu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];Or=p,WS(p,i)}VS(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)GS(i),i=i.sibling}function GS(i){switch(i.tag){case 0:case 11:case 15:hu(i),i.flags&2048&&ys(9,i,i.return);break;case 3:hu(i);break;case 12:hu(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Bf(i)):hu(i);break;default:hu(i)}}function Bf(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];Or=p,WS(p,i)}VS(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:ys(8,o,o.return),Bf(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,Bf(o));break;default:Bf(o)}i=i.sibling}}function WS(i,o){for(;Or!==null;){var d=Or;switch(d.tag){case 0:case 11:case 15:ys(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Zc(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Or=p;else e:for(d=i;Or!==null;){p=Or;var g=p.sibling,N=p.return;if(zS(p),p===d){Or=null;break e}if(g!==null){g.return=N,Or=g;break e}Or=N}}}var PR={getCacheForType:function(i){var o=Br(br),d=o.data.get(i);return d===void 0&&(d=i(),o.data.set(i,d)),d},cacheSignal:function(){return Br(br).controller.signal}},IR=typeof WeakMap=="function"?WeakMap:Map,Ct=0,qt=null,lt=null,dt=0,Dt=0,Dn=null,ws=!1,Eo=!1,t0=!1,ki=0,lr=0,js=0,Nl=0,r0=0,En=0,_o=0,vu=null,fn=null,n0=!1,$f=0,KS=0,qf=1/0,Hf=null,Ns=null,Ar=0,Ss=null,Oo=null,Di=0,a0=0,i0=null,QS=null,xu=0,s0=null;function _n(){return(Ct&2)!==0&&dt!==0?dt&-dt:$.T!==null?f0():sl()}function XS(){if(En===0)if((dt&536870912)===0||ht){var i=Be;Be<<=1,(Be&3932160)===0&&(Be=262144),En=i}else En=536870912;return i=Mn.current,i!==null&&(i.flags|=32),En}function mn(i,o,d){(i===qt&&(Dt===2||Dt===9)||i.cancelPendingCommit!==null)&&(To(i,0),Cs(i,dt,En,!1)),gr(i,d),((Ct&2)===0||i!==qt)&&(i===qt&&((Ct&2)===0&&(Nl|=d),lr===4&&Cs(i,dt,En,!1)),za(i))}function ZS(i,o,d){if((Ct&6)!==0)throw Error(r(327));var p=!d&&(o&127)===0&&(o&i.expiredLanes)===0||Ke(i,o),g=p?zR(i,o):o0(i,o,!0),N=p;do{if(g===0){Eo&&!p&&Cs(i,o,0,!1);break}else{if(d=i.current.alternate,N&&!RR(d)){g=o0(i,o,!1),N=!1;continue}if(g===2){if(N=o,i.errorRecoveryDisabledLanes&N)var k=0;else k=i.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){o=k;e:{var I=i;g=vu;var q=I.current.memoizedState.isDehydrated;if(q&&(To(I,k).flags|=256),k=o0(I,k,!1),k!==2){if(t0&&!q){I.errorRecoveryDisabledLanes|=N,Nl|=N,g=4;break e}N=fn,fn=g,N!==null&&(fn===null?fn=N:fn.push.apply(fn,N))}g=k}if(N=!1,g!==2)continue}}if(g===1){To(i,0),Cs(i,o,0,!0);break}e:{switch(p=i,N=g,N){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Cs(p,o,En,!ws);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(g=$f+300-St(),10<g)){if(Cs(p,o,En,!ws),Se(p,0,!0)!==0)break e;Di=o,p.timeoutHandle=D2(JS.bind(null,p,d,fn,Hf,n0,o,En,Nl,_o,ws,N,"Throttled",-0,0),g);break e}JS(p,d,fn,Hf,n0,o,En,Nl,_o,ws,N,null,-0,0)}}break}while(!0);za(i)}function JS(i,o,d,p,g,N,k,I,q,ee,de,pe,re,se){if(i.timeoutHandle=-1,pe=o.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pi},YS(o,N,pe);var Te=(N&62914560)===N?$f-St():(N&4194048)===N?KS-St():0;if(Te=yL(pe,Te),Te!==null){Di=N,i.cancelPendingCommit=Te(l2.bind(null,i,o,N,d,p,g,k,I,q,de,pe,null,re,se)),Cs(i,N,k,!ee);return}}l2(i,o,N,d,p,g,k,I,q)}function RR(i){for(var o=i;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var g=d[p],N=g.getSnapshot;g=g.value;try{if(!Cn(N(),g))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Cs(i,o,d,p){o&=~r0,o&=~Nl,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var g=o;0<g;){var N=31-ie(g),k=1<<N;p[N]=-1,g&=~k}d!==0&&_r(i,d,o)}function Uf(){return(Ct&6)===0?(gu(0),!1):!0}function l0(){if(lt!==null){if(Dt===0)var i=lt.return;else i=lt,gi=pl=null,Nx(i),No=null,eu=0,i=lt;for(;i!==null;)ES(i.alternate,i),i=i.return;lt=null}}function To(i,o){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,rL(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),Di=0,l0(),qt=i,lt=d=vi(i.current,null),dt=o,Dt=0,Dn=null,ws=!1,Eo=Ke(i,o),t0=!1,_o=En=r0=Nl=js=lr=0,fn=vu=null,n0=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var g=31-ie(p),N=1<<g;o|=i[g],p&=~N}return ki=o,df(),d}function e2(i,o){tt=null,$.H=ou,o===jo||o===bf?(o=vN(),Dt=3):o===dx?(o=vN(),Dt=4):Dt=o===Fx?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Dn=o,lt===null&&(lr=1,Tf(i,Gn(o,i.current)))}function t2(){var i=Mn.current;return i===null?!0:(dt&4194048)===dt?Xn===null:(dt&62914560)===dt||(dt&536870912)!==0?i===Xn:!1}function r2(){var i=$.H;return $.H=ou,i===null?ou:i}function n2(){var i=$.A;return $.A=PR,i}function Yf(){lr=4,ws||(dt&4194048)!==dt&&Mn.current!==null||(Eo=!0),(js&134217727)===0&&(Nl&134217727)===0||qt===null||Cs(qt,dt,En,!1)}function o0(i,o,d){var p=Ct;Ct|=2;var g=r2(),N=n2();(qt!==i||dt!==o)&&(Hf=null,To(i,o)),o=!1;var k=lr;e:do try{if(Dt!==0&&lt!==null){var I=lt,q=Dn;switch(Dt){case 8:l0(),k=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(o=!0);var ee=Dt;if(Dt=0,Dn=null,Po(i,I,q,ee),d&&Eo){k=0;break e}break;default:ee=Dt,Dt=0,Dn=null,Po(i,I,q,ee)}}LR(),k=lr;break}catch(de){e2(i,de)}while(!0);return o&&i.shellSuspendCounter++,gi=pl=null,Ct=p,$.H=g,$.A=N,lt===null&&(qt=null,dt=0,df()),k}function LR(){for(;lt!==null;)a2(lt)}function zR(i,o){var d=Ct;Ct|=2;var p=r2(),g=n2();qt!==i||dt!==o?(Hf=null,qf=St()+500,To(i,o)):Eo=Ke(i,o);e:do try{if(Dt!==0&&lt!==null){o=lt;var N=Dn;t:switch(Dt){case 1:Dt=0,Dn=null,Po(i,o,N,1);break;case 2:case 9:if(pN(N)){Dt=0,Dn=null,i2(o);break}o=function(){Dt!==2&&Dt!==9||qt!==i||(Dt=7),za(i)},N.then(o,o);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:pN(N)?(Dt=0,Dn=null,i2(o)):(Dt=0,Dn=null,Po(i,o,N,7));break;case 5:var k=null;switch(lt.tag){case 26:k=lt.memoizedState;case 5:case 27:var I=lt;if(k?U2(k):I.stateNode.complete){Dt=0,Dn=null;var q=I.sibling;if(q!==null)lt=q;else{var ee=I.return;ee!==null?(lt=ee,Vf(ee)):lt=null}break t}}Dt=0,Dn=null,Po(i,o,N,5);break;case 6:Dt=0,Dn=null,Po(i,o,N,6);break;case 8:l0(),lr=6;break e;default:throw Error(r(462))}}FR();break}catch(de){e2(i,de)}while(!0);return gi=pl=null,$.H=p,$.A=g,Ct=d,lt!==null?0:(qt=null,dt=0,df(),lr)}function FR(){for(;lt!==null&&!$t();)a2(lt)}function a2(i){var o=kS(i.alternate,i,ki);i.memoizedProps=i.pendingProps,o===null?Vf(i):lt=o}function i2(i){var o=i,d=o.alternate;switch(o.tag){case 15:case 0:o=jS(d,o,o.pendingProps,o.type,void 0,dt);break;case 11:o=jS(d,o,o.pendingProps,o.type.render,o.ref,dt);break;case 5:Nx(o);default:ES(d,o),o=lt=nN(o,ki),o=kS(d,o,ki)}i.memoizedProps=i.pendingProps,o===null?Vf(i):lt=o}function Po(i,o,d,p){gi=pl=null,Nx(o),No=null,eu=0;var g=o.return;try{if(MR(i,g,o,d,dt)){lr=1,Tf(i,Gn(d,i.current)),lt=null;return}}catch(N){if(g!==null)throw lt=g,N;lr=1,Tf(i,Gn(d,i.current)),lt=null;return}o.flags&32768?(ht||p===1?i=!0:Eo||(dt&536870912)!==0?i=!1:(ws=i=!0,(p===2||p===9||p===3||p===6)&&(p=Mn.current,p!==null&&p.tag===13&&(p.flags|=16384))),s2(o,i)):Vf(o)}function Vf(i){var o=i;do{if((o.flags&32768)!==0){s2(o,ws);return}i=o.return;var d=ER(o.alternate,o,ki);if(d!==null){lt=d;return}if(o=o.sibling,o!==null){lt=o;return}lt=o=i}while(o!==null);lr===0&&(lr=5)}function s2(i,o){do{var d=_R(i.alternate,i);if(d!==null){d.flags&=32767,lt=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(i=i.sibling,i!==null)){lt=i;return}lt=i=d}while(i!==null);lr=6,lt=null}function l2(i,o,d,p,g,N,k,I,q){i.cancelPendingCommit=null;do Gf();while(Ar!==0);if((Ct&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(N=o.lanes|o.childLanes,N|=Qv,Ae(i,d,N,k,I,q),i===qt&&(lt=qt=null,dt=0),Oo=o,Ss=i,Di=d,a0=N,i0=g,QS=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,HR(xe,function(){return f2(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=$.T,$.T=null,g=G.p,G.p=2,k=Ct,Ct|=4;try{OR(i,o,d)}finally{Ct=k,G.p=g,$.T=p}}Ar=1,o2(),c2(),u2()}}function o2(){if(Ar===1){Ar=0;var i=Ss,o=Oo,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=$.T,$.T=null;var p=G.p;G.p=2;var g=Ct;Ct|=4;try{qS(o,i);var N=y0,k=Wj(i.containerInfo),I=N.focusedElem,q=N.selectionRange;if(k!==I&&I&&I.ownerDocument&&Gj(I.ownerDocument.documentElement,I)){if(q!==null&&Yv(I)){var ee=q.start,de=q.end;if(de===void 0&&(de=ee),"selectionStart"in I)I.selectionStart=ee,I.selectionEnd=Math.min(de,I.value.length);else{var pe=I.ownerDocument||document,re=pe&&pe.defaultView||window;if(re.getSelection){var se=re.getSelection(),Te=I.textContent.length,Ve=Math.min(q.start,Te),zt=q.end===void 0?Ve:Math.min(q.end,Te);!se.extend&&Ve>zt&&(k=zt,zt=Ve,Ve=k);var V=Vj(I,Ve),U=Vj(I,zt);if(V&&U&&(se.rangeCount!==1||se.anchorNode!==V.node||se.anchorOffset!==V.offset||se.focusNode!==U.node||se.focusOffset!==U.offset)){var J=pe.createRange();J.setStart(V.node,V.offset),se.removeAllRanges(),Ve>zt?(se.addRange(J),se.extend(U.node,U.offset)):(J.setEnd(U.node,U.offset),se.addRange(J))}}}}for(pe=[],se=I;se=se.parentNode;)se.nodeType===1&&pe.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<pe.length;I++){var fe=pe[I];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}im=!!b0,y0=b0=null}finally{Ct=g,G.p=p,$.T=d}}i.current=o,Ar=2}}function c2(){if(Ar===2){Ar=0;var i=Ss,o=Oo,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=$.T,$.T=null;var p=G.p;G.p=2;var g=Ct;Ct|=4;try{LS(i,o.alternate,o)}finally{Ct=g,G.p=p,$.T=d}}Ar=3}}function u2(){if(Ar===4||Ar===3){Ar=0,Ut();var i=Ss,o=Oo,d=Di,p=QS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ar=5:(Ar=0,Oo=Ss=null,d2(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Ns=null),Oa(d),o=o.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(Ce,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=$.T,g=G.p,G.p=2,$.T=null;try{for(var N=i.onRecoverableError,k=0;k<p.length;k++){var I=p[k];N(I.value,{componentStack:I.stack})}}finally{$.T=o,G.p=g}}(Di&3)!==0&&Gf(),za(i),g=i.pendingLanes,(d&261930)!==0&&(g&42)!==0?i===s0?xu++:(xu=0,s0=i):xu=0,gu(0)}}function d2(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Zc(o)))}function Gf(){return o2(),c2(),u2(),f2()}function f2(){if(Ar!==5)return!1;var i=Ss,o=a0;a0=0;var d=Oa(Di),p=$.T,g=G.p;try{G.p=32>d?32:d,$.T=null,d=i0,i0=null;var N=Ss,k=Di;if(Ar=0,Oo=Ss=null,Di=0,(Ct&6)!==0)throw Error(r(331));var I=Ct;if(Ct|=4,GS(N.current),US(N,N.current,k,d),Ct=I,gu(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(Ce,N)}catch{}return!0}finally{G.p=g,$.T=p,d2(i,o)}}function m2(i,o,d){o=Gn(d,o),o=zx(i.stateNode,o,2),i=xs(i,o,2),i!==null&&(gr(i,2),za(i))}function Et(i,o,d){if(i.tag===3)m2(i,i,d);else for(;o!==null;){if(o.tag===3){m2(o,i,d);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ns===null||!Ns.has(p))){i=Gn(d,i),d=pS(2),p=xs(o,d,2),p!==null&&(hS(d,p,o,i),gr(p,2),za(p));break}}o=o.return}}function c0(i,o,d){var p=i.pingCache;if(p===null){p=i.pingCache=new IR;var g=new Set;p.set(o,g)}else g=p.get(o),g===void 0&&(g=new Set,p.set(o,g));g.has(d)||(t0=!0,g.add(d),i=BR.bind(null,i,o,d),o.then(i,i))}function BR(i,o,d){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,qt===i&&(dt&d)===d&&(lr===4||lr===3&&(dt&62914560)===dt&&300>St()-$f?(Ct&2)===0&&To(i,0):r0|=d,_o===dt&&(_o=0)),za(i)}function p2(i,o){o===0&&(o=It()),i=dl(i,o),i!==null&&(gr(i,o),za(i))}function $R(i){var o=i.memoizedState,d=0;o!==null&&(d=o.retryLane),p2(i,d)}function qR(i,o){var d=0;switch(i.tag){case 31:case 13:var p=i.stateNode,g=i.memoizedState;g!==null&&(d=g.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(o),p2(i,d)}function HR(i,o){return Ye(i,o)}var Wf=null,Io=null,u0=!1,Kf=!1,d0=!1,As=0;function za(i){i!==Io&&i.next===null&&(Io===null?Wf=Io=i:Io=Io.next=i),Kf=!0,u0||(u0=!0,YR())}function gu(i,o){if(!d0&&Kf){d0=!0;do for(var d=!1,p=Wf;p!==null;){if(i!==0){var g=p.pendingLanes;if(g===0)var N=0;else{var k=p.suspendedLanes,I=p.pingedLanes;N=(1<<31-ie(42|i)+1)-1,N&=g&~(k&~I),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,g2(p,N))}else N=dt,N=Se(p,p===qt?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||Ke(p,N)||(d=!0,g2(p,N));p=p.next}while(d);d0=!1}}function UR(){h2()}function h2(){Kf=u0=!1;var i=0;As!==0&&tL()&&(i=As);for(var o=St(),d=null,p=Wf;p!==null;){var g=p.next,N=v2(p,o);N===0?(p.next=null,d===null?Wf=g:d.next=g,g===null&&(Io=d)):(d=p,(i!==0||(N&3)!==0)&&(Kf=!0)),p=g}Ar!==0&&Ar!==5||gu(i),As!==0&&(As=0)}function v2(i,o){for(var d=i.suspendedLanes,p=i.pingedLanes,g=i.expirationTimes,N=i.pendingLanes&-62914561;0<N;){var k=31-ie(N),I=1<<k,q=g[k];q===-1?((I&d)===0||(I&p)!==0)&&(g[k]=et(I,o)):q<=o&&(i.expiredLanes|=I),N&=~I}if(o=qt,d=dt,d=Se(i,i===o?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,d===0||i===o&&(Dt===2||Dt===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&at(p),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||Ke(i,d)){if(o=d&-d,o===i.callbackPriority)return o;switch(p!==null&&at(p),Oa(d)){case 2:case 8:d=ue;break;case 32:d=xe;break;case 268435456:d=Mt;break;default:d=xe}return p=x2.bind(null,i),d=Ye(d,p),i.callbackPriority=o,i.callbackNode=d,o}return p!==null&&p!==null&&at(p),i.callbackPriority=2,i.callbackNode=null,2}function x2(i,o){if(Ar!==0&&Ar!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(Gf()&&i.callbackNode!==d)return null;var p=dt;return p=Se(i,i===qt?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(ZS(i,p,o),v2(i,St()),i.callbackNode!=null&&i.callbackNode===d?x2.bind(null,i):null)}function g2(i,o){if(Gf())return null;ZS(i,o,!0)}function YR(){nL(function(){(Ct&6)!==0?Ye(is,UR):h2()})}function f0(){if(As===0){var i=yo;i===0&&(i=Xt,Xt<<=1,(Xt&261888)===0&&(Xt=256)),As=i}return As}function b2(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:rf(""+i)}function y2(i,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,i.id&&d.setAttribute("form",i.id),o.parentNode.insertBefore(d,o),i=new FormData(i),d.parentNode.removeChild(d),i}function VR(i,o,d,p,g){if(o==="submit"&&d&&d.stateNode===g){var N=b2((g[Gr]||null).action),k=p.submitter;k&&(o=(o=k[Gr]||null)?b2(o.formAction):k.getAttribute("formAction"),o!==null&&(N=o,k=null));var I=new lf("action","action",null,p,g);i.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(As!==0){var q=k?y2(g,k):new FormData(g);Ox(d,{pending:!0,data:q,method:g.method,action:N},null,q)}}else typeof N=="function"&&(I.preventDefault(),q=k?y2(g,k):new FormData(g),Ox(d,{pending:!0,data:q,method:g.method,action:N},N,q))},currentTarget:g}]})}}for(var m0=0;m0<Kv.length;m0++){var p0=Kv[m0],GR=p0.toLowerCase(),WR=p0[0].toUpperCase()+p0.slice(1);da(GR,"on"+WR)}da(Xj,"onAnimationEnd"),da(Zj,"onAnimationIteration"),da(Jj,"onAnimationStart"),da("dblclick","onDoubleClick"),da("focusin","onFocus"),da("focusout","onBlur"),da(uR,"onTransitionRun"),da(dR,"onTransitionStart"),da(fR,"onTransitionCancel"),da(eN,"onTransitionEnd"),ln("onMouseEnter",["mouseout","mouseover"]),ln("onMouseLeave",["mouseout","mouseover"]),ln("onPointerEnter",["pointerout","pointerover"]),ln("onPointerLeave",["pointerout","pointerover"]),Zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bu));function w2(i,o){o=(o&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],g=p.event;p=p.listeners;e:{var N=void 0;if(o)for(var k=p.length-1;0<=k;k--){var I=p[k],q=I.instance,ee=I.currentTarget;if(I=I.listener,q!==N&&g.isPropagationStopped())break e;N=I,g.currentTarget=ee;try{N(g)}catch(de){uf(de)}g.currentTarget=null,N=q}else for(k=0;k<p.length;k++){if(I=p[k],q=I.instance,ee=I.currentTarget,I=I.listener,q!==N&&g.isPropagationStopped())break e;N=I,g.currentTarget=ee;try{N(g)}catch(de){uf(de)}g.currentTarget=null,N=q}}}}function ot(i,o){var d=o[zc];d===void 0&&(d=o[zc]=new Set);var p=i+"__bubble";d.has(p)||(j2(o,i,2,!1),d.add(p))}function h0(i,o,d){var p=0;o&&(p|=4),j2(d,i,p,o)}var Qf="_reactListening"+Math.random().toString(36).slice(2);function v0(i){if(!i[Qf]){i[Qf]=!0,sn.forEach(function(d){d!=="selectionchange"&&(KR.has(d)||h0(d,!1,i),h0(d,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Qf]||(o[Qf]=!0,h0("selectionchange",!1,o))}}function j2(i,o,d,p){switch(X2(o)){case 2:var g=NL;break;case 8:g=SL;break;default:g=_0}d=g.bind(null,o,d,i),g=void 0,!Rv||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),p?g!==void 0?i.addEventListener(o,d,{capture:!0,passive:g}):i.addEventListener(o,d,!0):g!==void 0?i.addEventListener(o,d,{passive:g}):i.addEventListener(o,d,!1)}function x0(i,o,d,p,g){var N=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var I=p.stateNode.containerInfo;if(I===g)break;if(k===4)for(k=p.return;k!==null;){var q=k.tag;if((q===3||q===4)&&k.stateNode.containerInfo===g)return;k=k.return}for(;I!==null;){if(k=os(I),k===null)return;if(q=k.tag,q===5||q===6||q===26||q===27){p=N=k;continue e}I=I.parentNode}}p=p.return}Mj(function(){var ee=N,de=Pv(d),pe=[];e:{var re=tN.get(i);if(re!==void 0){var se=lf,Te=i;switch(i){case"keypress":if(af(d)===0)break e;case"keydown":case"keyup":se=qI;break;case"focusin":Te="focus",se=Bv;break;case"focusout":Te="blur",se=Bv;break;case"beforeblur":case"afterblur":se=Bv;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Ej;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=EI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=YI;break;case Xj:case Zj:case Jj:se=TI;break;case eN:se=GI;break;case"scroll":case"scrollend":se=kI;break;case"wheel":se=KI;break;case"copy":case"cut":case"paste":se=II;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Oj;break;case"toggle":case"beforetoggle":se=XI}var Ve=(o&4)!==0,zt=!Ve&&(i==="scroll"||i==="scrollend"),V=Ve?re!==null?re+"Capture":null:re;Ve=[];for(var U=ee,J;U!==null;){var fe=U;if(J=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||J===null||V===null||(fe=$c(U,V),fe!=null&&Ve.push(yu(U,fe,J))),zt)break;U=U.return}0<Ve.length&&(re=new se(re,Te,null,d,de),pe.push({event:re,listeners:Ve}))}}if((o&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",se=i==="mouseout"||i==="pointerout",re&&d!==Tv&&(Te=d.relatedTarget||d.fromElement)&&(os(Te)||Te[ls]))break e;if((se||re)&&(re=de.window===de?de:(re=de.ownerDocument)?re.defaultView||re.parentWindow:window,se?(Te=d.relatedTarget||d.toElement,se=ee,Te=Te?os(Te):null,Te!==null&&(zt=l(Te),Ve=Te.tag,Te!==zt||Ve!==5&&Ve!==27&&Ve!==6)&&(Te=null)):(se=null,Te=ee),se!==Te)){if(Ve=Ej,fe="onMouseLeave",V="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(Ve=Oj,fe="onPointerLeave",V="onPointerEnter",U="pointer"),zt=se==null?re:H(se),J=Te==null?re:H(Te),re=new Ve(fe,U+"leave",se,d,de),re.target=zt,re.relatedTarget=J,fe=null,os(de)===ee&&(Ve=new Ve(V,U+"enter",Te,d,de),Ve.target=J,Ve.relatedTarget=zt,fe=Ve),zt=fe,se&&Te)t:{for(Ve=QR,V=se,U=Te,J=0,fe=V;fe;fe=Ve(fe))J++;fe=0;for(var $e=U;$e;$e=Ve($e))fe++;for(;0<J-fe;)V=Ve(V),J--;for(;0<fe-J;)U=Ve(U),fe--;for(;J--;){if(V===U||U!==null&&V===U.alternate){Ve=V;break t}V=Ve(V),U=Ve(U)}Ve=null}else Ve=null;se!==null&&N2(pe,re,se,Ve,!1),Te!==null&&zt!==null&&N2(pe,zt,Te,Ve,!0)}}e:{if(re=ee?H(ee):window,se=re.nodeName&&re.nodeName.toLowerCase(),se==="select"||se==="input"&&re.type==="file")var bt=Bj;else if(zj(re))if($j)bt=lR;else{bt=iR;var Re=aR}else se=re.nodeName,!se||se.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ee&&Ov(ee.elementType)&&(bt=Bj):bt=sR;if(bt&&(bt=bt(i,ee))){Fj(pe,bt,d,de);break e}Re&&Re(i,re,ee),i==="focusout"&&ee&&re.type==="number"&&ee.memoizedProps.value!=null&&_v(re,"number",re.value)}switch(Re=ee?H(ee):window,i){case"focusin":(zj(Re)||Re.contentEditable==="true")&&(fo=Re,Vv=ee,Kc=null);break;case"focusout":Kc=Vv=fo=null;break;case"mousedown":Gv=!0;break;case"contextmenu":case"mouseup":case"dragend":Gv=!1,Kj(pe,d,de);break;case"selectionchange":if(cR)break;case"keydown":case"keyup":Kj(pe,d,de)}var rt;if(qv)e:{switch(i){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else uo?Rj(i,d)&&(ft="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(ft="onCompositionStart");ft&&(Tj&&d.locale!=="ko"&&(uo||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&uo&&(rt=kj()):(us=de,Lv="value"in us?us.value:us.textContent,uo=!0)),Re=Xf(ee,ft),0<Re.length&&(ft=new _j(ft,i,null,d,de),pe.push({event:ft,listeners:Re}),rt?ft.data=rt:(rt=Lj(d),rt!==null&&(ft.data=rt)))),(rt=JI?eR(i,d):tR(i,d))&&(ft=Xf(ee,"onBeforeInput"),0<ft.length&&(Re=new _j("onBeforeInput","beforeinput",null,d,de),pe.push({event:Re,listeners:ft}),Re.data=rt)),VR(pe,i,ee,d,de)}w2(pe,o)})}function yu(i,o,d){return{instance:i,listener:o,currentTarget:d}}function Xf(i,o){for(var d=o+"Capture",p=[];i!==null;){var g=i,N=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||N===null||(g=$c(i,d),g!=null&&p.unshift(yu(i,g,N)),g=$c(i,o),g!=null&&p.push(yu(i,g,N))),i.tag===3)return p;i=i.return}return[]}function QR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function N2(i,o,d,p,g){for(var N=o._reactName,k=[];d!==null&&d!==p;){var I=d,q=I.alternate,ee=I.stateNode;if(I=I.tag,q!==null&&q===p)break;I!==5&&I!==26&&I!==27||ee===null||(q=ee,g?(ee=$c(d,N),ee!=null&&k.unshift(yu(d,ee,q))):g||(ee=$c(d,N),ee!=null&&k.push(yu(d,ee,q)))),d=d.return}k.length!==0&&i.push({event:o,listeners:k})}var XR=/\r\n?/g,ZR=/\u0000|\uFFFD/g;function S2(i){return(typeof i=="string"?i:""+i).replace(XR,`
`).replace(ZR,"")}function C2(i,o){return o=S2(o),S2(i)===o}function Lt(i,o,d,p,g,N){switch(d){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||lo(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&lo(i,""+p);break;case"className":ef(i,"class",p);break;case"tabIndex":ef(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":ef(i,d,p);break;case"style":Cj(i,p,N);break;case"data":if(o!=="object"){ef(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||d!=="href")){i.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=rf(""+p),i.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(o!=="input"&&Lt(i,o,"name",g.name,g,null),Lt(i,o,"formEncType",g.formEncType,g,null),Lt(i,o,"formMethod",g.formMethod,g,null),Lt(i,o,"formTarget",g.formTarget,g,null)):(Lt(i,o,"encType",g.encType,g,null),Lt(i,o,"method",g.method,g,null),Lt(i,o,"target",g.target,g,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=rf(""+p),i.setAttribute(d,p);break;case"onClick":p!=null&&(i.onclick=pi);break;case"onScroll":p!=null&&ot("scroll",i);break;case"onScrollEnd":p!=null&&ot("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}d=rf(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""+p):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":p===!0?i.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,p):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(d,p):i.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(d):i.setAttribute(d,p);break;case"popover":ot("beforetoggle",i),ot("toggle",i),Jd(i,"popover",p);break;case"xlinkActuate":mi(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":mi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":mi(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":mi(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":mi(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":mi(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":mi(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":mi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":mi(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Jd(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=AI.get(d)||d,Jd(i,d,p))}}function g0(i,o,d,p,g,N){switch(d){case"style":Cj(i,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"children":typeof p=="string"?lo(i,p):(typeof p=="number"||typeof p=="bigint")&&lo(i,""+p);break;case"onScroll":p!=null&&ot("scroll",i);break;case"onScrollEnd":p!=null&&ot("scrollend",i);break;case"onClick":p!=null&&(i.onclick=pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ta.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(g=d.endsWith("Capture"),o=d.slice(2,g?d.length-7:void 0),N=i[Gr]||null,N=N!=null?N[d]:null,typeof N=="function"&&i.removeEventListener(o,N,g),typeof p=="function")){typeof N!="function"&&N!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(o,p,g);break e}d in i?i[d]=p:p===!0?i.setAttribute(d,""):Jd(i,d,p)}}}function qr(i,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",i),ot("load",i);var p=!1,g=!1,N;for(N in d)if(d.hasOwnProperty(N)){var k=d[N];if(k!=null)switch(N){case"src":p=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Lt(i,o,N,k,d,null)}}g&&Lt(i,o,"srcSet",d.srcSet,d,null),p&&Lt(i,o,"src",d.src,d,null);return;case"input":ot("invalid",i);var I=N=k=g=null,q=null,ee=null;for(p in d)if(d.hasOwnProperty(p)){var de=d[p];if(de!=null)switch(p){case"name":g=de;break;case"type":k=de;break;case"checked":q=de;break;case"defaultChecked":ee=de;break;case"value":N=de;break;case"defaultValue":I=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:Lt(i,o,p,de,d,null)}}wj(i,N,I,q,ee,k,g,!1);return;case"select":ot("invalid",i),p=k=N=null;for(g in d)if(d.hasOwnProperty(g)&&(I=d[g],I!=null))switch(g){case"value":N=I;break;case"defaultValue":k=I;break;case"multiple":p=I;default:Lt(i,o,g,I,d,null)}o=N,d=k,i.multiple=!!p,o!=null?so(i,!!p,o,!1):d!=null&&so(i,!!p,d,!0);return;case"textarea":ot("invalid",i),N=g=p=null;for(k in d)if(d.hasOwnProperty(k)&&(I=d[k],I!=null))switch(k){case"value":p=I;break;case"defaultValue":g=I;break;case"children":N=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:Lt(i,o,k,I,d,null)}Nj(i,p,g,N);return;case"option":for(q in d)d.hasOwnProperty(q)&&(p=d[q],p!=null)&&(q==="selected"?i.selected=p&&typeof p!="function"&&typeof p!="symbol":Lt(i,o,q,p,d,null));return;case"dialog":ot("beforetoggle",i),ot("toggle",i),ot("cancel",i),ot("close",i);break;case"iframe":case"object":ot("load",i);break;case"video":case"audio":for(p=0;p<bu.length;p++)ot(bu[p],i);break;case"image":ot("error",i),ot("load",i);break;case"details":ot("toggle",i);break;case"embed":case"source":case"link":ot("error",i),ot("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in d)if(d.hasOwnProperty(ee)&&(p=d[ee],p!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Lt(i,o,ee,p,d,null)}return;default:if(Ov(o)){for(de in d)d.hasOwnProperty(de)&&(p=d[de],p!==void 0&&g0(i,o,de,p,d,void 0));return}}for(I in d)d.hasOwnProperty(I)&&(p=d[I],p!=null&&Lt(i,o,I,p,d,null))}function JR(i,o,d,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,N=null,k=null,I=null,q=null,ee=null,de=null;for(se in d){var pe=d[se];if(d.hasOwnProperty(se)&&pe!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":q=pe;default:p.hasOwnProperty(se)||Lt(i,o,se,null,p,pe)}}for(var re in p){var se=p[re];if(pe=d[re],p.hasOwnProperty(re)&&(se!=null||pe!=null))switch(re){case"type":N=se;break;case"name":g=se;break;case"checked":ee=se;break;case"defaultChecked":de=se;break;case"value":k=se;break;case"defaultValue":I=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:se!==pe&&Lt(i,o,re,se,p,pe)}}Ev(i,k,I,q,ee,de,N,g);return;case"select":se=k=I=re=null;for(N in d)if(q=d[N],d.hasOwnProperty(N)&&q!=null)switch(N){case"value":break;case"multiple":se=q;default:p.hasOwnProperty(N)||Lt(i,o,N,null,p,q)}for(g in p)if(N=p[g],q=d[g],p.hasOwnProperty(g)&&(N!=null||q!=null))switch(g){case"value":re=N;break;case"defaultValue":I=N;break;case"multiple":k=N;default:N!==q&&Lt(i,o,g,N,p,q)}o=I,d=k,p=se,re!=null?so(i,!!d,re,!1):!!p!=!!d&&(o!=null?so(i,!!d,o,!0):so(i,!!d,d?[]:"",!1));return;case"textarea":se=re=null;for(I in d)if(g=d[I],d.hasOwnProperty(I)&&g!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Lt(i,o,I,null,p,g)}for(k in p)if(g=p[k],N=d[k],p.hasOwnProperty(k)&&(g!=null||N!=null))switch(k){case"value":re=g;break;case"defaultValue":se=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==N&&Lt(i,o,k,g,p,N)}jj(i,re,se);return;case"option":for(var Te in d)re=d[Te],d.hasOwnProperty(Te)&&re!=null&&!p.hasOwnProperty(Te)&&(Te==="selected"?i.selected=!1:Lt(i,o,Te,null,p,re));for(q in p)re=p[q],se=d[q],p.hasOwnProperty(q)&&re!==se&&(re!=null||se!=null)&&(q==="selected"?i.selected=re&&typeof re!="function"&&typeof re!="symbol":Lt(i,o,q,re,p,se));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in d)re=d[Ve],d.hasOwnProperty(Ve)&&re!=null&&!p.hasOwnProperty(Ve)&&Lt(i,o,Ve,null,p,re);for(ee in p)if(re=p[ee],se=d[ee],p.hasOwnProperty(ee)&&re!==se&&(re!=null||se!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,o));break;default:Lt(i,o,ee,re,p,se)}return;default:if(Ov(o)){for(var zt in d)re=d[zt],d.hasOwnProperty(zt)&&re!==void 0&&!p.hasOwnProperty(zt)&&g0(i,o,zt,void 0,p,re);for(de in p)re=p[de],se=d[de],!p.hasOwnProperty(de)||re===se||re===void 0&&se===void 0||g0(i,o,de,re,p,se);return}}for(var V in d)re=d[V],d.hasOwnProperty(V)&&re!=null&&!p.hasOwnProperty(V)&&Lt(i,o,V,null,p,re);for(pe in p)re=p[pe],se=d[pe],!p.hasOwnProperty(pe)||re===se||re==null&&se==null||Lt(i,o,pe,re,p,se)}function A2(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eL(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var g=d[p],N=g.transferSize,k=g.initiatorType,I=g.duration;if(N&&I&&A2(k)){for(k=0,I=g.responseEnd,p+=1;p<d.length;p++){var q=d[p],ee=q.startTime;if(ee>I)break;var de=q.transferSize,pe=q.initiatorType;de&&A2(pe)&&(q=q.responseEnd,k+=de*(q<I?1:(I-ee)/(q-ee)))}if(--p,o+=8*(N+k)/(g.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var b0=null,y0=null;function Zf(i){return i.nodeType===9?i:i.ownerDocument}function M2(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k2(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function w0(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var j0=null;function tL(){var i=window.event;return i&&i.type==="popstate"?i===j0?!1:(j0=i,!0):(j0=null,!1)}var D2=typeof setTimeout=="function"?setTimeout:void 0,rL=typeof clearTimeout=="function"?clearTimeout:void 0,E2=typeof Promise=="function"?Promise:void 0,nL=typeof queueMicrotask=="function"?queueMicrotask:typeof E2<"u"?function(i){return E2.resolve(null).then(i).catch(aL)}:D2;function aL(i){setTimeout(function(){throw i})}function Ms(i){return i==="head"}function _2(i,o){var d=o,p=0;do{var g=d.nextSibling;if(i.removeChild(d),g&&g.nodeType===8)if(d=g.data,d==="/$"||d==="/&"){if(p===0){i.removeChild(g),Fo(o);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")wu(i.ownerDocument.documentElement);else if(d==="head"){d=i.ownerDocument.head,wu(d);for(var N=d.firstChild;N;){var k=N.nextSibling,I=N.nodeName;N[ll]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=k}}else d==="body"&&wu(i.ownerDocument.body);d=g}while(d);Fo(o)}function O2(i,o){var d=i;i=0;do{var p=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(i===0)break;i--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||i++;d=p}while(d)}function N0(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":N0(d),Fc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function iL(i,o,d,p){for(;i.nodeType===1;){var g=d;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[ll])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(N=i.getAttribute("rel"),N==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(N!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(N=i.getAttribute("src"),(N!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&N&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var N=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===N)return i}else return i;if(i=Zn(i.nextSibling),i===null)break}return null}function sL(i,o,d){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=Zn(i.nextSibling),i===null))return null;return i}function T2(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Zn(i.nextSibling),i===null))return null;return i}function S0(i){return i.data==="$?"||i.data==="$~"}function C0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function lL(i,o){var d=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||d.readyState!=="loading")o();else{var p=function(){o(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function Zn(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var A0=null;function P2(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"||d==="/&"){if(o===0)return Zn(i.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}i=i.nextSibling}return null}function I2(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return i;o--}else d!=="/$"&&d!=="/&"||o++}i=i.previousSibling}return null}function R2(i,o,d){switch(o=Zf(d),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function wu(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Fc(i)}var Jn=new Map,L2=new Set;function Jf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ei=G.d;G.d={f:oL,r:cL,D:uL,C:dL,L:fL,m:mL,X:hL,S:pL,M:vL};function oL(){var i=Ei.f(),o=Uf();return i||o}function cL(i){var o=cs(i);o!==null&&o.tag===5&&o.type==="form"?eS(o):Ei.r(i)}var Ro=typeof document>"u"?null:document;function z2(i,o,d){var p=Ro;if(p&&typeof o=="string"&&o){var g=Yn(o);g='link[rel="'+i+'"][href="'+g+'"]',typeof d=="string"&&(g+='[crossorigin="'+d+'"]'),L2.has(g)||(L2.add(g),i={rel:i,crossOrigin:d,href:o},p.querySelector(g)===null&&(o=p.createElement("link"),qr(o,"link",i),xt(o),p.head.appendChild(o)))}}function uL(i){Ei.D(i),z2("dns-prefetch",i,null)}function dL(i,o){Ei.C(i,o),z2("preconnect",i,o)}function fL(i,o,d){Ei.L(i,o,d);var p=Ro;if(p&&i&&o){var g='link[rel="preload"][as="'+Yn(o)+'"]';o==="image"&&d&&d.imageSrcSet?(g+='[imagesrcset="'+Yn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(g+='[imagesizes="'+Yn(d.imageSizes)+'"]')):g+='[href="'+Yn(i)+'"]';var N=g;switch(o){case"style":N=Lo(i);break;case"script":N=zo(i)}Jn.has(N)||(i=v({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:i,as:o},d),Jn.set(N,i),p.querySelector(g)!==null||o==="style"&&p.querySelector(ju(N))||o==="script"&&p.querySelector(Nu(N))||(o=p.createElement("link"),qr(o,"link",i),xt(o),p.head.appendChild(o)))}}function mL(i,o){Ei.m(i,o);var d=Ro;if(d&&i){var p=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+Yn(p)+'"][href="'+Yn(i)+'"]',N=g;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=zo(i)}if(!Jn.has(N)&&(i=v({rel:"modulepreload",href:i},o),Jn.set(N,i),d.querySelector(g)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Nu(N)))return}p=d.createElement("link"),qr(p,"link",i),xt(p),d.head.appendChild(p)}}}function pL(i,o,d){Ei.S(i,o,d);var p=Ro;if(p&&i){var g=we(p).hoistableStyles,N=Lo(i);o=o||"default";var k=g.get(N);if(!k){var I={loading:0,preload:null};if(k=p.querySelector(ju(N)))I.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":o},d),(d=Jn.get(N))&&M0(i,d);var q=k=p.createElement("link");xt(q),qr(q,"link",i),q._p=new Promise(function(ee,de){q.onload=ee,q.onerror=de}),q.addEventListener("load",function(){I.loading|=1}),q.addEventListener("error",function(){I.loading|=2}),I.loading|=4,em(k,o,p)}k={type:"stylesheet",instance:k,count:1,state:I},g.set(N,k)}}}function hL(i,o){Ei.X(i,o);var d=Ro;if(d&&i){var p=we(d).hoistableScripts,g=zo(i),N=p.get(g);N||(N=d.querySelector(Nu(g)),N||(i=v({src:i,async:!0},o),(o=Jn.get(g))&&k0(i,o),N=d.createElement("script"),xt(N),qr(N,"link",i),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(g,N))}}function vL(i,o){Ei.M(i,o);var d=Ro;if(d&&i){var p=we(d).hoistableScripts,g=zo(i),N=p.get(g);N||(N=d.querySelector(Nu(g)),N||(i=v({src:i,async:!0,type:"module"},o),(o=Jn.get(g))&&k0(i,o),N=d.createElement("script"),xt(N),qr(N,"link",i),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(g,N))}}function F2(i,o,d,p){var g=(g=Ie.current)?Jf(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=Lo(d.href),d=we(g).hoistableStyles,p=d.get(o),p||(p={type:"style",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=Lo(d.href);var N=we(g).hoistableStyles,k=N.get(i);if(k||(g=g.ownerDocument||g,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(i,k),(N=g.querySelector(ju(i)))&&!N._p&&(k.instance=N,k.state.loading=5),Jn.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Jn.set(i,d),N||xL(g,i,d,k.state))),o&&p===null)throw Error(r(528,""));return k}if(o&&p!==null)throw Error(r(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=zo(d),d=we(g).hoistableScripts,p=d.get(o),p||(p={type:"script",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Lo(i){return'href="'+Yn(i)+'"'}function ju(i){return'link[rel="stylesheet"]['+i+"]"}function B2(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function xL(i,o,d,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),qr(o,"link",d),xt(o),i.head.appendChild(o))}function zo(i){return'[src="'+Yn(i)+'"]'}function Nu(i){return"script[async]"+i}function $2(i,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+Yn(d.href)+'"]');if(p)return o.instance=p,xt(p),p;var g=v({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),xt(p),qr(p,"style",g),em(p,d.precedence,i),o.instance=p;case"stylesheet":g=Lo(d.href);var N=i.querySelector(ju(g));if(N)return o.state.loading|=4,o.instance=N,xt(N),N;p=B2(d),(g=Jn.get(g))&&M0(p,g),N=(i.ownerDocument||i).createElement("link"),xt(N);var k=N;return k._p=new Promise(function(I,q){k.onload=I,k.onerror=q}),qr(N,"link",p),o.state.loading|=4,em(N,d.precedence,i),o.instance=N;case"script":return N=zo(d.src),(g=i.querySelector(Nu(N)))?(o.instance=g,xt(g),g):(p=d,(g=Jn.get(N))&&(p=v({},d),k0(p,g)),i=i.ownerDocument||i,g=i.createElement("script"),xt(g),qr(g,"link",p),i.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,em(p,d.precedence,i));return o.instance}function em(i,o,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=p.length?p[p.length-1]:null,N=g,k=0;k<p.length;k++){var I=p[k];if(I.dataset.precedence===o)N=I;else if(N!==g)break}N?N.parentNode.insertBefore(i,N.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(i,o.firstChild))}function M0(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function k0(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var tm=null;function q2(i,o,d){if(tm===null){var p=new Map,g=tm=new Map;g.set(d,p)}else g=tm,p=g.get(d),p||(p=new Map,g.set(d,p));if(p.has(i))return p;for(p.set(i,null),d=d.getElementsByTagName(i),g=0;g<d.length;g++){var N=d[g];if(!(N[ll]||N[Cr]||i==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var k=N.getAttribute(o)||"";k=i+k;var I=p.get(k);I?I.push(N):p.set(k,[N])}}return p}function H2(i,o,d){i=i.ownerDocument||i,i.head.insertBefore(d,o==="title"?i.querySelector("head > title"):null)}function gL(i,o,d){if(d===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(i=o.disabled,typeof o.precedence=="string"&&i==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function U2(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function bL(i,o,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var g=Lo(p.href),N=o.querySelector(ju(g));if(N){o=N._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=rm.bind(i),o.then(i,i)),d.state.loading|=4,d.instance=N,xt(N);return}N=o.ownerDocument||o,p=B2(p),(g=Jn.get(g))&&M0(p,g),N=N.createElement("link"),xt(N);var k=N;k._p=new Promise(function(I,q){k.onload=I,k.onerror=q}),qr(N,"link",p),d.instance=N}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(i.count++,d=rm.bind(i),o.addEventListener("load",d),o.addEventListener("error",d))}}var D0=0;function yL(i,o){return i.stylesheets&&i.count===0&&am(i,i.stylesheets),0<i.count||0<i.imgCount?function(d){var p=setTimeout(function(){if(i.stylesheets&&am(i,i.stylesheets),i.unsuspend){var N=i.unsuspend;i.unsuspend=null,N()}},6e4+o);0<i.imgBytes&&D0===0&&(D0=62500*eL());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&am(i,i.stylesheets),i.unsuspend)){var N=i.unsuspend;i.unsuspend=null,N()}},(i.imgBytes>D0?50:800)+o);return i.unsuspend=d,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(g)}}:null}function rm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)am(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var nm=null;function am(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,nm=new Map,o.forEach(wL,i),nm=null,rm.call(i))}function wL(i,o){if(!(o.state.loading&4)){var d=nm.get(i);if(d)var p=d.get(null);else{d=new Map,nm.set(i,d);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<g.length;N++){var k=g[N];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(d.set(k.dataset.precedence,k),p=k)}p&&d.set(null,p)}g=o.instance,k=g.getAttribute("data-precedence"),N=d.get(k)||p,N===p&&d.set(null,g),d.set(k,g),this.count++,p=rm.bind(this),g.addEventListener("load",p),g.addEventListener("error",p),N?N.parentNode.insertBefore(g,N.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),o.state.loading|=4}}var Su={$$typeof:A,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function jL(i,o,d,p,g,N,k,I,q){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zr(0),this.hiddenUpdates=zr(null),this.identifierPrefix=p,this.onUncaughtError=g,this.onCaughtError=N,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function Y2(i,o,d,p,g,N,k,I,q,ee,de,pe){return i=new jL(i,o,d,k,q,ee,de,pe,I),o=1,N===!0&&(o|=24),N=An(3,null,null,o),i.current=N,N.stateNode=i,o=ox(),o.refCount++,i.pooledCache=o,o.refCount++,N.memoizedState={element:p,isDehydrated:d,cache:o},fx(N),i}function V2(i){return i?(i=ho,i):ho}function G2(i,o,d,p,g,N){g=V2(g),p.context===null?p.context=g:p.pendingContext=g,p=vs(o),p.payload={element:d},N=N===void 0?null:N,N!==null&&(p.callback=N),d=xs(i,p,o),d!==null&&(mn(d,i,o),ru(d,i,o))}function W2(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<o?d:o}}function E0(i,o){W2(i,o),(i=i.alternate)&&W2(i,o)}function K2(i){if(i.tag===13||i.tag===31){var o=dl(i,67108864);o!==null&&mn(o,i,67108864),E0(i,67108864)}}function Q2(i){if(i.tag===13||i.tag===31){var o=_n();o=_a(o);var d=dl(i,o);d!==null&&mn(d,i,o),E0(i,o)}}var im=!0;function NL(i,o,d,p){var g=$.T;$.T=null;var N=G.p;try{G.p=2,_0(i,o,d,p)}finally{G.p=N,$.T=g}}function SL(i,o,d,p){var g=$.T;$.T=null;var N=G.p;try{G.p=8,_0(i,o,d,p)}finally{G.p=N,$.T=g}}function _0(i,o,d,p){if(im){var g=O0(p);if(g===null)x0(i,o,p,sm,d),Z2(i,p);else if(AL(g,i,o,d,p))p.stopPropagation();else if(Z2(i,p),o&4&&-1<CL.indexOf(i)){for(;g!==null;){var N=cs(g);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var k=Xe(N.pendingLanes);if(k!==0){var I=N;for(I.pendingLanes|=2,I.entangledLanes|=2;k;){var q=1<<31-ie(k);I.entanglements[1]|=q,k&=~q}za(N),(Ct&6)===0&&(qf=St()+500,gu(0))}}break;case 31:case 13:I=dl(N,2),I!==null&&mn(I,N,2),Uf(),E0(N,2)}if(N=O0(p),N===null&&x0(i,o,p,sm,d),N===g)break;g=N}g!==null&&p.stopPropagation()}else x0(i,o,p,null,d)}}function O0(i){return i=Pv(i),T0(i)}var sm=null;function T0(i){if(sm=null,i=os(i),i!==null){var o=l(i);if(o===null)i=null;else{var d=o.tag;if(d===13){if(i=c(o),i!==null)return i;i=null}else if(d===31){if(i=u(o),i!==null)return i;i=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return sm=i,null}function X2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hn()){case is:return 2;case ue:return 8;case xe:case Fe:return 32;case Mt:return 268435456;default:return 32}default:return 32}}var P0=!1,ks=null,Ds=null,Es=null,Cu=new Map,Au=new Map,_s=[],CL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z2(i,o){switch(i){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":Cu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Au.delete(o.pointerId)}}function Mu(i,o,d,p,g,N){return i===null||i.nativeEvent!==N?(i={blockedOn:o,domEventName:d,eventSystemFlags:p,nativeEvent:N,targetContainers:[g]},o!==null&&(o=cs(o),o!==null&&K2(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function AL(i,o,d,p,g){switch(o){case"focusin":return ks=Mu(ks,i,o,d,p,g),!0;case"dragenter":return Ds=Mu(Ds,i,o,d,p,g),!0;case"mouseover":return Es=Mu(Es,i,o,d,p,g),!0;case"pointerover":var N=g.pointerId;return Cu.set(N,Mu(Cu.get(N)||null,i,o,d,p,g)),!0;case"gotpointercapture":return N=g.pointerId,Au.set(N,Mu(Au.get(N)||null,i,o,d,p,g)),!0}return!1}function J2(i){var o=os(i.target);if(o!==null){var d=l(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){i.blockedOn=o,ss(i.priority,function(){Q2(d)});return}}else if(o===31){if(o=u(d),o!==null){i.blockedOn=o,ss(i.priority,function(){Q2(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function lm(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var d=O0(i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);Tv=p,d.target.dispatchEvent(p),Tv=null}else return o=cs(d),o!==null&&K2(o),i.blockedOn=d,!1;o.shift()}return!0}function eC(i,o,d){lm(i)&&d.delete(o)}function ML(){P0=!1,ks!==null&&lm(ks)&&(ks=null),Ds!==null&&lm(Ds)&&(Ds=null),Es!==null&&lm(Es)&&(Es=null),Cu.forEach(eC),Au.forEach(eC)}function om(i,o){i.blockedOn===o&&(i.blockedOn=null,P0||(P0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ML)))}var cm=null;function tC(i){cm!==i&&(cm=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){cm===i&&(cm=null);for(var o=0;o<i.length;o+=3){var d=i[o],p=i[o+1],g=i[o+2];if(typeof p!="function"){if(T0(p||d)===null)continue;break}var N=cs(d);N!==null&&(i.splice(o,3),o-=3,Ox(N,{pending:!0,data:g,method:d.method,action:p},p,g))}}))}function Fo(i){function o(q){return om(q,i)}ks!==null&&om(ks,i),Ds!==null&&om(Ds,i),Es!==null&&om(Es,i),Cu.forEach(o),Au.forEach(o);for(var d=0;d<_s.length;d++){var p=_s[d];p.blockedOn===i&&(p.blockedOn=null)}for(;0<_s.length&&(d=_s[0],d.blockedOn===null);)J2(d),d.blockedOn===null&&_s.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var g=d[p],N=d[p+1],k=g[Gr]||null;if(typeof N=="function")k||tC(d);else if(k){var I=null;if(N&&N.hasAttribute("formAction")){if(g=N,k=N[Gr]||null)I=k.formAction;else if(T0(g)!==null)continue}else I=k.action;typeof I=="function"?d[p+1]=I:(d.splice(p,3),p-=3),tC(d)}}}function rC(){function i(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(k){return g=k})},focusReset:"manual",scroll:"manual"})}function o(){g!==null&&(g(),g=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),g!==null&&(g(),g=null)}}}function I0(i){this._internalRoot=i}um.prototype.render=I0.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var d=o.current,p=_n();G2(d,p,i,o,null,null)},um.prototype.unmount=I0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;G2(i.current,2,null,i,null,null),Uf(),o[ls]=null}};function um(i){this._internalRoot=i}um.prototype.unstable_scheduleHydration=function(i){if(i){var o=sl();i={blockedOn:null,target:i,priority:o};for(var d=0;d<_s.length&&o!==0&&o<_s[d].priority;d++);_s.splice(d,0,i),d===0&&J2(i)}};var nC=t.version;if(nC!=="19.2.4")throw Error(r(527,nC,"19.2.4"));G.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(o),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var kL={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dm.isDisabled&&dm.supportsFiber)try{Ce=dm.inject(kL),De=dm}catch{}}return Du.createRoot=function(i,o){if(!a(i))throw Error(r(299));var d=!1,p="",g=uS,N=dS,k=fS;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError)),o=Y2(i,1,!1,null,null,d,p,null,g,N,k,rC),i[ls]=o.current,v0(i),new I0(o)},Du.hydrateRoot=function(i,o,d){if(!a(i))throw Error(r(299));var p=!1,g="",N=uS,k=dS,I=fS,q=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(g=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&(I=d.onRecoverableError),d.formState!==void 0&&(q=d.formState)),o=Y2(i,1,!0,o,d??null,p,g,q,N,k,I,rC),o.context=V2(null),d=o.current,p=_n(),p=_a(p),g=vs(p),g.callback=null,xs(d,g,p),d=p,o.current.lanes=d,gr(o,d),za(o),i[ls]=o.current,v0(i),new um(o)},Du.version="19.2.4",Du}var mC;function zL(){if(mC)return z0.exports;mC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),z0.exports=LL(),z0.exports}var FL=zL();var pC="popstate";function BL(e={}){function t(r,a){let{pathname:l,search:c,hash:u}=r.location;return Wb("",{pathname:l,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:nd(a)}return qL(t,n,null,e)}function rr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $L(){return Math.random().toString(36).substring(2,10)}function hC(e,t){return{usr:e.state,key:e.key,idx:t}}function Wb(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?jc(t):t,state:n,key:t&&t.key||r||$L()}}function nd({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function jc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function qL(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,u="POP",f=null,m=h();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function h(){return(c.state||{idx:null}).idx}function v(){u="POP";let y=h(),C=y==null?null:y-m;m=y,f&&f({action:u,location:w.location,delta:C})}function x(y,C){u="PUSH";let M=Wb(w.location,y,C);m=h()+1;let A=hC(M,m),_=w.createHref(M);try{c.pushState(A,"",_)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(_)}l&&f&&f({action:u,location:w.location,delta:1})}function b(y,C){u="REPLACE";let M=Wb(w.location,y,C);m=h();let A=hC(M,m),_=w.createHref(M);c.replaceState(A,"",_),l&&f&&f({action:u,location:w.location,delta:0})}function S(y){return HL(y)}let w={get action(){return u},get location(){return e(a,c)},listen(y){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(pC,v),f=y,()=>{a.removeEventListener(pC,v),f=null}},createHref(y){return t(a,y)},createURL:S,encodeLocation(y){let C=S(y);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:b,go(y){return c.go(y)}};return w}function HL(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),rr(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:nd(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function F_(e,t,n="/"){return UL(e,t,n,!1)}function UL(e,t,n,r){let a=typeof t=="string"?jc(t):t,l=$i(a.pathname||"/",n);if(l==null)return null;let c=B_(e);YL(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let m=r6(l);u=e6(c[f],m,r)}return u}function B_(e,t=[],n=[],r="",a=!1){let l=(c,u,f=a,m)=>{let h={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&f)return;rr(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let v=Li([r,h.relativePath]),x=n.concat(h);c.children&&c.children.length>0&&(rr(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),B_(c.children,t,x,v,f)),!(c.path==null&&!c.index)&&t.push({path:v,score:ZL(v,c.index),routesMeta:x})};return e.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))l(c,u);else for(let f of $_(c.path))l(c,u,!0,f)}),t}function $_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=$_(r.join("/")),u=[];return u.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function YL(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:JL(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var VL=/^:[\w-]+$/,GL=3,WL=2,KL=1,QL=10,XL=-2,vC=e=>e==="*";function ZL(e,t){let n=e.split("/"),r=n.length;return n.some(vC)&&(r+=XL),t&&(r+=WL),n.filter(a=>!vC(a)).reduce((a,l)=>a+(VL.test(l)?GL:l===""?KL:QL),r)}function JL(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function e6(e,t,n=!1){let{routesMeta:r}=e,a={},l="/",c=[];for(let u=0;u<r.length;++u){let f=r[u],m=u===r.length-1,h=l==="/"?t:t.slice(l.length)||"/",v=mp({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},h),x=f.route;if(!v&&m&&n&&!r[r.length-1].route.index&&(v=mp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Li([l,v.pathname]),pathnameBase:s6(Li([l,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(l=Li([l,v.pathnameBase]))}return c}function mp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=t6(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((m,{paramName:h,isOptional:v},x)=>{if(h==="*"){let S=u[x]||"";c=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const b=u[x];return v&&!b?m[h]=void 0:m[h]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function t6(e,t=!1,n=!0){Sa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function r6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function $i(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var n6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function a6(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?jc(e):e,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=xC(n.substring(1),"/"):l=xC(n,t)):l=t,{pathname:l,search:l6(r),hash:o6(a)}}function xC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function q0(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function i6(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function a1(e){let t=i6(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function i1(e,t,n,r=!1){let a;typeof e=="string"?a=jc(e):(a={...e},rr(!a.pathname||!a.pathname.includes("?"),q0("?","pathname","search",a)),rr(!a.pathname||!a.pathname.includes("#"),q0("#","pathname","hash",a)),rr(!a.search||!a.search.includes("#"),q0("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,u;if(c==null)u=n;else{let v=t.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}u=v>=0?t[v]:"/"}let f=a6(a,u),m=c&&c!=="/"&&c.endsWith("/"),h=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||h)&&(f.pathname+="/"),f}var Li=e=>e.join("/").replace(/\/\/+/g,"/"),s6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),l6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,o6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,c6=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function u6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function d6(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var q_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function H_(e,t){let n=e;if(typeof n!="string"||!n6.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(q_)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),u=$i(c.pathname,t);c.origin===l.origin&&u!=null?n=u+c.search+c.hash:a=!0}catch{Sa(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var U_=["POST","PUT","PATCH","DELETE"];new Set(U_);var f6=["GET",...U_];new Set(f6);var Nc=j.createContext(null);Nc.displayName="DataRouter";var Mh=j.createContext(null);Mh.displayName="DataRouterState";var m6=j.createContext(!1),Y_=j.createContext({isTransitioning:!1});Y_.displayName="ViewTransition";var p6=j.createContext(new Map);p6.displayName="Fetchers";var h6=j.createContext(null);h6.displayName="Await";var qn=j.createContext(null);qn.displayName="Navigation";var Nd=j.createContext(null);Nd.displayName="Location";var Ma=j.createContext({outlet:null,matches:[],isDataRoute:!1});Ma.displayName="Route";var s1=j.createContext(null);s1.displayName="RouteError";var V_="REACT_ROUTER_ERROR",v6="REDIRECT",x6="ROUTE_ERROR_RESPONSE";function g6(e){if(e.startsWith(`${V_}:${v6}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function b6(e){if(e.startsWith(`${V_}:${x6}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new c6(t.status,t.statusText,t.data)}catch{}}function y6(e,{relative:t}={}){rr(Sc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(qn),{hash:a,pathname:l,search:c}=Sd(e,{relative:t}),u=l;return n!=="/"&&(u=l==="/"?n:Li([n,l])),r.createHref({pathname:u,search:c,hash:a})}function Sc(){return j.useContext(Nd)!=null}function ca(){return rr(Sc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Nd).location}var G_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function W_(e){j.useContext(qn).static||j.useLayoutEffect(e)}function Qs(){let{isDataRoute:e}=j.useContext(Ma);return e?I6():w6()}function w6(){rr(Sc(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(Nc),{basename:t,navigator:n}=j.useContext(qn),{matches:r}=j.useContext(Ma),{pathname:a}=ca(),l=JSON.stringify(a1(r)),c=j.useRef(!1);return W_(()=>{c.current=!0}),j.useCallback((f,m={})=>{if(Sa(c.current,G_),!c.current)return;if(typeof f=="number"){n.go(f);return}let h=i1(f,JSON.parse(l),a,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Li([t,h.pathname])),(m.replace?n.replace:n.push)(h,m.state,m)},[t,n,l,a,e])}var j6=j.createContext(null);function N6(e){let t=j.useContext(Ma).outlet;return j.useMemo(()=>t&&j.createElement(j6.Provider,{value:e},t),[t,e])}function Sd(e,{relative:t}={}){let{matches:n}=j.useContext(Ma),{pathname:r}=ca(),a=JSON.stringify(a1(n));return j.useMemo(()=>i1(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function S6(e,t){return K_(e,t)}function K_(e,t,n,r,a){rr(Sc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=j.useContext(qn),{matches:c}=j.useContext(Ma),u=c[c.length-1],f=u?u.params:{},m=u?u.pathname:"/",h=u?u.pathnameBase:"/",v=u&&u.route;{let M=v&&v.path||"";X_(m,!v||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let x=ca(),b;if(t){let M=typeof t=="string"?jc(t):t;rr(h==="/"||M.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${M.pathname}" was given in the \`location\` prop.`),b=M}else b=x;let S=b.pathname||"/",w=S;if(h!=="/"){let M=h.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(M.length).join("/")}let y=F_(e,{pathname:w});Sa(v||y!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Sa(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=D6(y&&y.map(M=>Object.assign({},M,{params:Object.assign({},f,M.params),pathname:Li([h,l.encodeLocation?l.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?h:Li([h,l.encodeLocation?l.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),c,n,r,a);return t&&C?j.createElement(Nd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function C6(){let e=P6(),t=u6(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:a},n):null,c)}var A6=j.createElement(C6,null),Q_=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=b6(e.digest);n&&(e=n)}let t=e!==void 0?j.createElement(Ma.Provider,{value:this.props.routeContext},j.createElement(s1.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?j.createElement(M6,{error:e},t):t}};Q_.contextType=m6;var H0=new WeakMap;function M6({children:e,error:t}){let{basename:n}=j.useContext(qn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=g6(t.digest);if(r){let a=H0.get(t);if(a)throw a;let l=H_(r.location,n);if(q_&&!H0.get(t))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw H0.set(t,c),c}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function k6({routeContext:e,match:t,children:n}){let r=j.useContext(Nc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Ma.Provider,{value:e},n)}function D6(e,t=[],n=null,r=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let h=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);rr(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,h+1))}let u=!1,f=-1;if(n)for(let h=0;h<l.length;h++){let v=l[h];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=h),v.route.id){let{loaderData:x,errors:b}=n,S=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!b||b[v.route.id]===void 0);if(v.route.lazy||S){u=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let m=n&&r?(h,v)=>{r(h,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:d6(n.matches),errorInfo:v})}:void 0;return l.reduceRight((h,v,x)=>{let b,S=!1,w=null,y=null;n&&(b=c&&v.route.id?c[v.route.id]:void 0,w=v.route.errorElement||A6,u&&(f<0&&x===0?(X_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,y=null):f===x&&(S=!0,y=v.route.hydrateFallbackElement||null)));let C=t.concat(l.slice(0,x+1)),M=()=>{let A;return b?A=w:S?A=y:v.route.Component?A=j.createElement(v.route.Component,null):v.route.element?A=v.route.element:A=h,j.createElement(k6,{match:v,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:A})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?j.createElement(Q_,{location:n.location,revalidation:n.revalidation,component:w,error:b,children:M(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:m}):M()},null)}function l1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E6(e){let t=j.useContext(Nc);return rr(t,l1(e)),t}function _6(e){let t=j.useContext(Mh);return rr(t,l1(e)),t}function O6(e){let t=j.useContext(Ma);return rr(t,l1(e)),t}function o1(e){let t=O6(e),n=t.matches[t.matches.length-1];return rr(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function T6(){return o1("useRouteId")}function P6(){let e=j.useContext(s1),t=_6("useRouteError"),n=o1("useRouteError");return e!==void 0?e:t.errors?.[n]}function I6(){let{router:e}=E6("useNavigate"),t=o1("useNavigate"),n=j.useRef(!1);return W_(()=>{n.current=!0}),j.useCallback(async(a,l={})=>{Sa(n.current,G_),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var gC={};function X_(e,t,n){!t&&!gC[e]&&(gC[e]=!0,Sa(!1,n))}j.memo(R6);function R6({routes:e,future:t,state:n,onError:r}){return K_(e,void 0,n,r,t)}function pp({to:e,replace:t,state:n,relative:r}){rr(Sc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext(qn);Sa(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=j.useContext(Ma),{pathname:c}=ca(),u=Qs(),f=i1(e,a1(l),c,r==="path"),m=JSON.stringify(f);return j.useEffect(()=>{u(JSON.parse(m),{replace:t,state:n,relative:r})},[u,m,r,t,n]),null}function Z_(e){return N6(e.context)}function Jt(e){rr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function L6({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){rr(!Sc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:u,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[u,a,l,c]);typeof n=="string"&&(n=jc(n));let{pathname:m="/",search:h="",hash:v="",state:x=null,key:b="default"}=n,S=j.useMemo(()=>{let w=$i(m,u);return w==null?null:{location:{pathname:w,search:h,hash:v,state:x,key:b},navigationType:r}},[u,m,h,v,x,b,r]);return Sa(S!=null,`<Router basename="${u}"> is not able to match the URL "${m}${h}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:j.createElement(qn.Provider,{value:f},j.createElement(Nd.Provider,{children:t,value:S}))}function z6({children:e,location:t}){return S6(Kb(e),t)}function Kb(e,t=[]){let n=[];return j.Children.forEach(e,(r,a)=>{if(!j.isValidElement(r))return;let l=[...t,a];if(r.type===j.Fragment){n.push.apply(n,Kb(r.props.children,l));return}rr(r.type===Jt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Kb(r.props.children,l)),n.push(c)}),n}var Zm="get",Jm="application/x-www-form-urlencoded";function kh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function F6(e){return kh(e)&&e.tagName.toLowerCase()==="button"}function B6(e){return kh(e)&&e.tagName.toLowerCase()==="form"}function $6(e){return kh(e)&&e.tagName.toLowerCase()==="input"}function q6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function H6(e,t){return e.button===0&&(!t||t==="_self")&&!q6(e)}var fm=null;function U6(){if(fm===null)try{new FormData(document.createElement("form"),0),fm=!1}catch{fm=!0}return fm}var Y6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function U0(e){return e!=null&&!Y6.has(e)?(Sa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jm}"`),null):e}function V6(e,t){let n,r,a,l,c;if(B6(e)){let u=e.getAttribute("action");r=u?$i(u,t):null,n=e.getAttribute("method")||Zm,a=U0(e.getAttribute("enctype"))||Jm,l=new FormData(e)}else if(F6(e)||$6(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(r=f?$i(f,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||Zm,a=U0(e.getAttribute("formenctype"))||U0(u.getAttribute("enctype"))||Jm,l=new FormData(u,e),!U6()){let{name:m,type:h,value:v}=e;if(h==="image"){let x=m?`${m}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else m&&l.append(m,v)}}else{if(kh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zm,r=null,a=Jm,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function c1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function G6(e,t,n,r){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:t&&$i(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function W6(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Q6(e,t,n){let r=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await W6(l,n);return c.links?c.links():[]}return[]}));return ez(r.flat(1).filter(K6).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function bC(e,t,n,r,a,l){let c=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,u=(f,m)=>n[m].pathname!==f.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==f.params["*"];return l==="assets"?t.filter((f,m)=>c(f,m)||u(f,m)):l==="data"?t.filter((f,m)=>{let h=r.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(c(f,m)||u(f,m))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function X6(e,t,{includeHydrateFallback:n}={}){return Z6(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Z6(e){return[...new Set(e)]}function J6(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function ez(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let l=JSON.stringify(J6(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function J_(){let e=j.useContext(Nc);return c1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function tz(){let e=j.useContext(Mh);return c1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var u1=j.createContext(void 0);u1.displayName="FrameworkContext";function eO(){let e=j.useContext(u1);return c1(e,"You must render this element inside a <HydratedRouter> element"),e}function rz(e,t){let n=j.useContext(u1),[r,a]=j.useState(!1),[l,c]=j.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:m,onMouseLeave:h,onTouchStart:v}=t,x=j.useRef(null);j.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let w=C=>{C.forEach(M=>{c(M.isIntersecting)})},y=new IntersectionObserver(w,{threshold:.5});return x.current&&y.observe(x.current),()=>{y.disconnect()}}},[e]),j.useEffect(()=>{if(r){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[r]);let b=()=>{a(!0)},S=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,x,{}]:[l,x,{onFocus:Eu(u,b),onBlur:Eu(f,S),onMouseEnter:Eu(m,b),onMouseLeave:Eu(h,S),onTouchStart:Eu(v,b)}]:[!1,x,{}]}function Eu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function nz({page:e,...t}){let{router:n}=J_(),r=j.useMemo(()=>F_(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?j.createElement(iz,{page:e,matches:r,...t}):null}function az(e){let{manifest:t,routeModules:n}=eO(),[r,a]=j.useState([]);return j.useEffect(()=>{let l=!1;return Q6(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),r}function iz({page:e,matches:t,...n}){let r=ca(),{future:a,manifest:l,routeModules:c}=eO(),{basename:u}=J_(),{loaderData:f,matches:m}=tz(),h=j.useMemo(()=>bC(e,t,m,l,r,"data"),[e,t,m,l,r]),v=j.useMemo(()=>bC(e,t,m,l,r,"assets"),[e,t,m,l,r]),x=j.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,y=!1;if(t.forEach(M=>{let A=l.routes[M.route.id];!A||!A.hasLoader||(!h.some(_=>_.route.id===M.route.id)&&M.route.id in f&&c[M.route.id]?.shouldRevalidate||A.hasClientLoader?y=!0:w.add(M.route.id))}),w.size===0)return[];let C=G6(e,u,a.unstable_trailingSlashAwareDataRequests,"data");return y&&w.size>0&&C.searchParams.set("_routes",t.filter(M=>w.has(M.route.id)).map(M=>M.route.id).join(",")),[C.pathname+C.search]},[u,a.unstable_trailingSlashAwareDataRequests,f,r,l,h,t,e,c]),b=j.useMemo(()=>X6(v,l),[v,l]),S=az(v);return j.createElement(j.Fragment,null,x.map(w=>j.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),b.map(w=>j.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),S.map(({key:w,link:y})=>j.createElement("link",{key:w,nonce:n.nonce,...y,crossOrigin:y.crossOrigin??n.crossOrigin})))}function sz(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var lz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lz&&(window.__reactRouterVersion="7.13.0")}catch{}function oz({basename:e,children:t,unstable_useTransitions:n,window:r}){let a=j.useRef();a.current==null&&(a.current=BL({window:r,v5Compat:!0}));let l=a.current,[c,u]=j.useState({action:l.action,location:l.location}),f=j.useCallback(m=>{n===!1?u(m):j.startTransition(()=>u(m))},[n]);return j.useLayoutEffect(()=>l.listen(f),[l,f]),j.createElement(L6,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var tO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zo=j.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:u,target:f,to:m,preventScrollReset:h,viewTransition:v,unstable_defaultShouldRevalidate:x,...b},S){let{basename:w,unstable_useTransitions:y}=j.useContext(qn),C=typeof m=="string"&&tO.test(m),M=H_(m,w);m=M.to;let A=y6(m,{relative:a}),[_,E,T]=rz(r,b),P=dz(m,{replace:c,state:u,target:f,preventScrollReset:h,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:x,unstable_useTransitions:y});function O(R){t&&t(R),R.defaultPrevented||P(R)}let L=j.createElement("a",{...b,...T,href:M.absoluteURL||A,onClick:M.isExternal||l?t:O,ref:sz(S,E),target:f,"data-discover":!C&&n==="render"?"true":void 0});return _&&!C?j.createElement(j.Fragment,null,L,j.createElement(nz,{page:A})):L});Zo.displayName="Link";var d1=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:u,children:f,...m},h){let v=Sd(c,{relative:m.relative}),x=ca(),b=j.useContext(Mh),{navigator:S,basename:w}=j.useContext(qn),y=b!=null&&vz(v)&&u===!0,C=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,M=x.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(M=M.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&w&&(A=$i(A,w)||A);const _=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let E=M===C||!a&&M.startsWith(C)&&M.charAt(_)==="/",T=A!=null&&(A===C||!a&&A.startsWith(C)&&A.charAt(C.length)==="/"),P={isActive:E,isPending:T,isTransitioning:y},O=E?t:void 0,L;typeof r=="function"?L=r(P):L=[r,E?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let R=typeof l=="function"?l(P):l;return j.createElement(Zo,{...m,"aria-current":O,className:L,ref:h,style:R,to:c,viewTransition:u},typeof f=="function"?f(P):f)});d1.displayName="NavLink";var cz=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:l,method:c=Zm,action:u,onSubmit:f,relative:m,preventScrollReset:h,viewTransition:v,unstable_defaultShouldRevalidate:x,...b},S)=>{let{unstable_useTransitions:w}=j.useContext(qn),y=pz(),C=hz(u,{relative:m}),M=c.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&tO.test(u),_=E=>{if(f&&f(E),E.defaultPrevented)return;E.preventDefault();let T=E.nativeEvent.submitter,P=T?.getAttribute("formmethod")||c,O=()=>y(T||E.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:a,state:l,relative:m,preventScrollReset:h,viewTransition:v,unstable_defaultShouldRevalidate:x});w&&n!==!1?j.startTransition(()=>O()):O()};return j.createElement("form",{ref:S,method:M,action:C,onSubmit:r?f:_,...b,"data-discover":!A&&e==="render"?"true":void 0})});cz.displayName="Form";function uz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rO(e){let t=j.useContext(Nc);return rr(t,uz(e)),t}function dz(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let m=Qs(),h=ca(),v=Sd(e,{relative:l});return j.useCallback(x=>{if(H6(x,t)){x.preventDefault();let b=n!==void 0?n:nd(h)===nd(v),S=()=>m(e,{replace:b,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:u});f?j.startTransition(()=>S()):S()}},[h,m,v,n,r,t,e,a,l,c,u,f])}var fz=0,mz=()=>`__${String(++fz)}__`;function pz(){let{router:e}=rO("useSubmit"),{basename:t}=j.useContext(qn),n=T6(),r=e.fetch,a=e.navigate;return j.useCallback(async(l,c={})=>{let{action:u,method:f,encType:m,formData:h,body:v}=V6(l,t);if(c.navigate===!1){let x=c.fetcherKey||mz();await r(x,n,c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:h,body:v,formMethod:c.method||f,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:h,body:v,formMethod:c.method||f,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,t,n])}function hz(e,{relative:t}={}){let{basename:n}=j.useContext(qn),r=j.useContext(Ma);rr(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Sd(e||".",{relative:t})},c=ca();if(e==null){l.search=c.search;let u=new URLSearchParams(l.search),f=u.getAll("index");if(f.some(h=>h==="")){u.delete("index"),f.filter(v=>v).forEach(v=>u.append("index",v));let h=u.toString();l.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Li([n,l.pathname])),nd(l)}function vz(e,{relative:t}={}){let n=j.useContext(Y_);rr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=rO("useViewTransitionState"),a=Sd(e,{relative:t});if(!n.isTransitioning)return!1;let l=$i(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=$i(n.nextLocation.pathname,r)||n.nextLocation.pathname;return mp(a.pathname,c)!=null||mp(a.pathname,l)!=null}var Cd=z_();const xz=si(Cd),gz="AKfycbxE3XLsPtfg8goiLv8szt3-_Jokx-fzU5Nmevxzp48b-ZAW6J5Kp3GAGtbBue84JBkt",f1="cf_access_token",m1="cf_token_expiry",p1="cf_user_name";function hp(){const e=localStorage.getItem(m1);return e&&Date.now()>Number(e)?(ep(),null):localStorage.getItem(f1)}function yC(e,t=3500){localStorage.setItem(f1,e),localStorage.setItem(m1,String(Date.now()+t*1e3))}function ep(){localStorage.removeItem(f1),localStorage.removeItem(m1),localStorage.removeItem(p1)}function wC(){return!!hp()}function jC(e){localStorage.setItem(p1,e)}function bz(){return localStorage.getItem(p1)||""}let Qb=null;function yz(e){Qb=e}async function Ee(e,t={},n=!0){const r=hp();if(!r)throw new Error("Not authenticated. Please sign in.");const u=await(await fetch(`https://script.googleapis.com/v1/scripts/${gz}:run`,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({function:"apiRouter",devMode:!1,parameters:[{action:e,params:t,userName:bz()}]})})).json();if(u.error){if(n&&(u.error.code===401||u.error.code===403||u.error.status==="UNAUTHENTICATED"||u.error.status==="PERMISSION_DENIED")&&Qb)try{return await Qb(),Ee(e,t,!1)}catch{}if(u.error.details&&u.error.details.length>0){const f=u.error.details[0];throw new Error(f.errorMessage||"Script execution error")}throw new Error(u.error.message||"API error")}if(u.response&&u.response.result!==void 0){const f=u.response.result;if(f&&!f.success){const h=new Error(f.error||"Unknown error");throw h.code=f.code,h}const m=f?f.data:null;if(m&&m.success===!1)throw new Error(m.message||"Operation failed");return m}throw new Error("Unexpected response format")}const NC=()=>Ee("auth:me"),wz=(e,t)=>Ee("auth:invite",{email:e,name:t}),vp=()=>Ee("data:load-all"),nO=()=>Ee("members:list"),aO=e=>Ee("member:create",e),iO=e=>Ee("member:update",e),sO=e=>Ee("member:delete",{memberId:e}),lO=()=>Ee("banks:list"),oO=e=>Ee("bank:create",e),jz=e=>Ee("bank:update",e),cO=e=>Ee("bank:delete",{accountId:e}),uO=()=>Ee("invaccounts:list"),dO=e=>Ee("invacct:create",e),Nz=e=>Ee("invacct:update",e),fO=e=>Ee("invacct:delete",{accountId:e}),Sz=()=>Ee("portfolios:list"),Cz=e=>Ee("portfolio:create",e),Az=e=>Ee("portfolio:update",e),Mz=e=>Ee("portfolio:delete",{portfolioId:e}),kz=e=>Ee("mf:invest",e),Dz=e=>Ee("mf:redeem",e),Ez=e=>Ee("mf:switch",e),_z=(e,t)=>Ee("mf:allocations-update",{portfolioId:e,allocations:t}),Oz=()=>Ee("funds:all"),Tz=e=>Ee("asset-allocation:save",e),mO=()=>Ee("goals:list"),pO=e=>Ee("goal:create",e),Pz=(e,t)=>Ee("goal:update",{goalId:e,...t}),hO=e=>Ee("goal:delete",{goalId:e}),Iz=()=>Ee("goal:mappings-list"),Rz=(e,t)=>Ee("goal:mappings-update",{goalId:e,mappings:t}),vO=()=>Ee("insurance:list"),xO=e=>Ee("insurance:create",e),Lz=e=>Ee("insurance:update",e),gO=e=>Ee("insurance:delete",{policyId:e}),bO=()=>Ee("liabilities:list"),yO=e=>Ee("liability:create",e),zz=e=>Ee("liability:update",e),wO=e=>Ee("liability:delete",{liabilityId:e}),jO=()=>Ee("otherinv:list"),NO=e=>Ee("otherinv:create",e),Fz=e=>Ee("otherinv:update",e),SO=e=>Ee("otherinv:delete",{investmentId:e}),CO=()=>Ee("stock-portfolios:list"),AO=e=>Ee("stock-portfolio:create",e),Bz=e=>Ee("stock-portfolio:update",e),MO=e=>Ee("stock-portfolio:delete",{portfolioId:e}),$z=e=>Ee("stock:buy",e),qz=e=>Ee("stock:sell",e),Hz=e=>Ee("mf-transaction:delete",{transactionId:e}),Uz=e=>Ee("mf-transaction:edit",e),Yz=()=>Ee("mf-holdings:list"),Vz=()=>Ee("mf-transactions:list"),Gz=()=>Ee("stock-holdings:list-all"),Wz=()=>Ee("stock-transactions:list-all"),kO=()=>Ee("reminders:list"),DO=e=>Ee("reminder:create",e),Kz=e=>Ee("reminder:update",e),EO=e=>Ee("reminder:delete",{reminderId:e}),Qz=e=>Ee("healthcheck:save",e),_O=()=>Ee("healthcheck:get"),Xz=()=>Ee("settings:list"),Zz=e=>Ee("settings:update",e),Jz=()=>Ee("market:data"),eF=()=>Ee("data:refresh-master");typeof window<"u"&&(window._cf={callAPI:Ee,checkTriggers:()=>Ee("test:triggers"),diagnose:()=>Ee("test:diagnose")});const tF="capital-friends",rF=1,wn="cache";let _u=null;function Cc(){return _u||(_u=new Promise((e,t)=>{const n=indexedDB.open(tF,rF);n.onupgradeneeded=r=>{const a=r.target.result;a.objectStoreNames.contains(wn)||a.createObjectStore(wn,{keyPath:"key"})},n.onsuccess=()=>e(n.result),n.onerror=()=>{console.warn("[idb] Failed to open database:",n.error),_u=null,t(n.error)}}),_u)}async function OO(e){try{const t=await Cc();return new Promise(n=>{const a=t.transaction(wn,"readonly").objectStore(wn).get(e);a.onsuccess=()=>n(a.result?a.result.data:null),a.onerror=()=>n(null)})}catch{return null}}async function nF(e){try{const t=await Cc();return new Promise(n=>{const a=t.transaction(wn,"readonly").objectStore(wn).get(e);a.onsuccess=()=>n(a.result||null),a.onerror=()=>n(null)})}catch{return null}}async function hn(e,t){try{const n=await Cc();return new Promise(r=>{const a=n.transaction(wn,"readwrite");a.objectStore(wn).put({key:e,data:t,updatedAt:Date.now()}),a.oncomplete=()=>r(),a.onerror=()=>r()})}catch{}}async function aF(){try{const e=await Cc();return new Promise(t=>{const r=e.transaction(wn,"readonly").objectStore(wn).getAll();r.onsuccess=()=>{const a={};for(const l of r.result||[])a[l.key]=l.data;t(a)},r.onerror=()=>t({})})}catch{return{}}}async function Y0(e){try{const t=await Cc();return new Promise(n=>{const r=t.transaction(wn,"readwrite"),a=r.objectStore(wn),l=Date.now();for(const[c,u]of Object.entries(e))a.put({key:c,data:u,updatedAt:l});r.oncomplete=()=>n(),r.onerror=()=>n()})}catch{}}async function iF(){try{const e=await Cc();return new Promise(t=>{const n=e.transaction(wn,"readwrite");n.objectStore(wn).clear(),n.oncomplete=()=>t(),n.onerror=()=>t()})}catch{}}const TO=j.createContext(null),sF="868467315292-7hfrvkh8pq8f1e2l3v38m6qrupboa295.apps.googleusercontent.com",lF=["https://www.googleapis.com/auth/spreadsheets","https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/gmail.send","https://www.googleapis.com/auth/script.scriptapp","openid","email","profile"].join(" "),h1="cf_user_profile";function SC(){try{const e=localStorage.getItem(h1);return e?JSON.parse(e):null}catch{return null}}function oF(e){try{localStorage.setItem(h1,JSON.stringify(e))}catch{}}function CC(){localStorage.removeItem(h1)}function cF({children:e}){const t=wC()?SC():null,[n,r]=j.useState(t),[a,l]=j.useState(!t),[c,u]=j.useState(null),f=j.useRef(null);function m(C){r(C),C?oF(C):CC()}j.useEffect(()=>{const C=()=>{if(!window.google?.accounts?.oauth2){setTimeout(C,200);return}f.current=window.google.accounts.oauth2.initTokenClient({client_id:sF,scope:lF,callback:h}),yz(b),wC()?x():l(!1)};C()},[]);async function h(C){if(C.error){u(C.error_description||C.error),l(!1);return}try{l(!0),u(null),yC(C.access_token,C.expires_in);const M=await v(C.access_token);jC(M.name||"");const A=await NC();m({email:A.email||M.email,name:A.name||M.name,role:A.role,picture:M.picture||""})}catch(M){u(M.message),ep(),m(null)}finally{l(!1)}}async function v(C){const M=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${C}`}});if(!M.ok)throw new Error("Failed to fetch user profile");return M.json()}async function x(){const C=!!SC();try{const M=hp(),A=await v(M);jC(A.name||"");const _=await NC();m({email:_.email||A.email,name:_.name||A.name,role:_.role,picture:A.picture||""})}catch{ep(),m(null)}finally{C||l(!1)}}function b(){return new Promise((C,M)=>{if(!f.current){M(new Error("Token client not initialized"));return}const A=f.current,_=A.callback;A.callback=E=>{A.callback=_,E.error?M(new Error(E.error)):(yC(E.access_token,E.expires_in),C())},A.requestAccessToken({prompt:""})})}const S=j.useCallback(()=>{f.current&&(u(null),f.current.requestAccessToken())},[]),w=j.useCallback(()=>{const C=hp();C&&window.google?.accounts?.oauth2&&window.google.accounts.oauth2.revoke(C),ep(),CC(),iF(),sessionStorage.removeItem("cf_health_check"),r(null)},[]),y={user:n,loading:a,error:c,isAuthenticated:!!n,isOwner:n?.role==="owner",signIn:S,signOut:w};return s.jsx(TO.Provider,{value:y,children:e})}function to(){const e=j.useContext(TO);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const PO=j.createContext();function uF({children:e}){const[t,n]=j.useState(()=>{const a=localStorage.getItem("cf-theme");return a||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")});j.useEffect(()=>{localStorage.setItem("cf-theme",t),document.documentElement.setAttribute("data-theme",t)},[t]);const r=()=>n(a=>a==="dark"?"light":"dark");return s.jsx(PO.Provider,{value:{theme:t,toggle:r},children:e})}function IO(){return j.useContext(PO)}const RO=j.createContext(),LO="cf_hc_done";function dF(){try{return sessionStorage.getItem(LO)==="1"?!0:null}catch{return null}}function Bo(e){try{sessionStorage.setItem(LO,e?"1":"0")}catch{}}function fF({children:e}){const{isAuthenticated:t}=to(),n=t?dF():null,[r,a]=j.useState(!0),[l,c]=j.useState(!1),[u,f]=j.useState(null),[m,h]=j.useState(null),[v,x]=j.useState(null),[b,S]=j.useState(null),[w,y]=j.useState(null),[C,M]=j.useState(null),[A,_]=j.useState(null),[E,T]=j.useState(null),[P,O]=j.useState(null),[L,R]=j.useState(null),[B,D]=j.useState(null),[K,X]=j.useState(null),[Z,$]=j.useState(null),[G,z]=j.useState(null),[te,ve]=j.useState(null),[F,ae]=j.useState(null),[he,ye]=j.useState(null),[je,Ie]=j.useState(null),[me,ge]=j.useState(n!==null?n:null),W=j.useRef(!1),Ne=j.useCallback(H=>{H&&("members"in H&&h(H.members||[]),"bankAccounts"in H&&x(H.bankAccounts||[]),"investments"in H&&S(H.investments||[]),"insurancePolicies"in H&&y(H.insurancePolicies||[]),"liabilities"in H&&M(H.liabilities||[]),"otherInvestments"in H&&_(H.otherInvestments||[]),"stockPortfolios"in H&&T(H.stockPortfolios||[]),"stockHoldings"in H&&O(H.stockHoldings||[]),"stockTransactions"in H&&R(H.stockTransactions||[]),"mfPortfolios"in H&&D(H.mfPortfolios||[]),"mfHoldings"in H&&X((H.mfHoldings||[]).map(we=>we.schemeCode?we:{...we,schemeCode:we.fundCode})),"mfTransactions"in H&&$(H.mfTransactions||[]),"goals"in H&&z(H.goals||[]),"reminders"in H&&ve(H.reminders||[]),"goalPortfolioMappings"in H&&ae(H.goalPortfolioMappings||[]),"assetAllocations"in H&&ye(H.assetAllocations||[]),"settings"in H&&Ie(H.settings||{}))},[]),qe=j.useCallback(H=>{Y0({members:H.members||[],bankAccounts:H.bankAccounts||[],investments:H.investments||[],insurancePolicies:H.insurancePolicies||[],liabilities:H.liabilities||[],otherInvestments:H.otherInvestments||[],stockPortfolios:H.stockPortfolios||[],stockHoldings:H.stockHoldings||[],stockTransactions:H.stockTransactions||[],mfPortfolios:H.mfPortfolios||[],mfHoldings:H.mfHoldings||[],mfTransactions:H.mfTransactions||[],goals:H.goals||[],reminders:H.reminders||[],goalPortfolioMappings:H.goalPortfolioMappings||[],assetAllocations:H.assetAllocations||[]})},[]),be=j.useCallback(async(H=!1)=>{try{H?c(!0):a(!0),f(null);const we=await vp();Ne(we),qe(we)}catch(we){f(we.message)}finally{a(!1),c(!1)}},[Ne,qe]),Ze=j.useCallback(async()=>{const H=await nO();h(H||[]),hn("members",H||[])},[]),Ue=j.useCallback(async()=>{const H=await lO();x(H||[]),hn("bankAccounts",H||[])},[]),jt=j.useCallback(async()=>{const H=await uO();S(H||[]),hn("investments",H||[])},[]),vt=j.useCallback(async()=>{const H=await vO();y(H||[]),hn("insurancePolicies",H||[])},[]),ut=j.useCallback(async()=>{const H=await bO();M(H||[]),hn("liabilities",H||[])},[]),Nt=j.useCallback(async()=>{const H=await jO();_(H||[]),hn("otherInvestments",H||[])},[]),Pe=j.useCallback(async()=>{const[H,we]=await Promise.all([mO(),Iz()]);z(H||[]),ae(we||[]),hn("goals",H||[]),hn("goalPortfolioMappings",we||[])},[]),Ye=j.useCallback(async()=>{const H=await kO();ve(H||[]),hn("reminders",H||[])},[]),at=j.useCallback(async()=>{const[H,we,xt]=await Promise.all([Sz(),Yz(),Vz()]),sn=(we||[]).map(Ta=>Ta.schemeCode?Ta:{...Ta,schemeCode:Ta.fundCode});D(H||[]),X(sn),$(xt||[]),Y0({mfPortfolios:H||[],mfHoldings:sn,mfTransactions:xt||[]})},[]),$t=j.useCallback(async()=>{const[H,we,xt]=await Promise.all([CO(),Gz(),Wz()]);T(H||[]),O(we||[]),R(xt||[]),Y0({stockPortfolios:H||[],stockHoldings:we||[],stockTransactions:xt||[]})},[]),Ut=j.useCallback(async()=>{const H=await Xz();Ie(H||{}),hn("settings",H||{})},[]),St=j.useCallback(async H=>{await Zz(H),await Ut()},[Ut]),Hn=j.useCallback(async()=>{try{const H=await OO("healthCheckAnswers");if(H&&Object.keys(H).length>0){ge(!0),Bo(!0);return}const we=await _O();we&&Object.keys(we).length>0?(ge(!0),Bo(!0),hn("healthCheckAnswers",we)):(ge(!1),Bo(!1))}catch{ge(!1),Bo(!1)}},[]),is=j.useCallback(async H=>{const we=await Qz(H);return we?.success&&(ge(!0),Bo(!0),hn("healthCheckAnswers",H)),we},[]);j.useEffect(()=>{if(!t){a(!1);return}if(W.current)return;W.current=!0;async function H(){const we=await aF(),xt=Object.keys(we).length>0;xt&&(Ne(we),we.healthCheckAnswers&&Object.keys(we.healthCheckAnswers).length>0&&(ge(!0),Bo(!0)),a(!1));try{xt&&c(!0);const sn=await vp();Ne(sn),qe(sn)}catch(sn){xt||f(sn.message)}finally{a(!1),c(!1)}}H(),Ut().catch(()=>{}),n===null&&Hn().catch(()=>{})},[t,Ne,qe,Ut,Hn]),j.useEffect(()=>{t||(W.current=!1)},[t]);const ue=j.useCallback(async H=>{const we=await aO(H);if(H.email)try{await wz(H.email,H.memberName)}catch(xt){console.warn("Auto-invite failed (non-blocking):",xt.message)}return await Ze(),we},[Ze]),xe=j.useCallback(async(H,we)=>{await iO({memberId:H,...we}),await Ze()},[Ze]),Fe=j.useCallback(async H=>{await sO(H),await Ze()},[Ze]),Mt=j.useCallback(async H=>{const we=await oO(H);return await Ue(),we},[Ue]),Y=j.useCallback(async(H,we)=>{await jz({accountId:H,...we}),await Ue()},[Ue]),ce=j.useCallback(async H=>{await cO(H),await Ue()},[Ue]),Ce=j.useCallback(async H=>{const we=await dO(H);return await jt(),we},[jt]),De=j.useCallback(async(H,we)=>{await Nz({accountId:H,...we}),await jt()},[jt]),ze=j.useCallback(async H=>{await fO(H),await jt()},[jt]),ie=j.useCallback(async H=>{const we=await xO(H);return await vt(),we},[vt]),Pt=j.useCallback(async(H,we)=>{await Lz({policyId:H,...we}),await vt()},[vt]),He=j.useCallback(async H=>{await gO(H),await vt()},[vt]),kt=j.useCallback(async H=>{const we=await yO(H);return await ut(),we},[ut]),Xt=j.useCallback(async(H,we)=>{await zz({liabilityId:H,...we}),await ut()},[ut]),Be=j.useCallback(async H=>{await wO(H),await ut()},[ut]),Yt=j.useCallback(async H=>{const we=await NO(H);return await Nt(),H.quickLoan&&await ut(),we},[Nt,ut]),Xe=j.useCallback(async(H,we)=>{await Fz({investmentId:H,...we}),await Nt(),await ut()},[Nt,ut]),Se=j.useCallback(async H=>{await SO(H),await Nt()},[Nt]),Ke=j.useCallback(async H=>{const we=await pO(H);return await Pe(),we},[Pe]),et=j.useCallback(async(H,we)=>{await Pz(H,we),await Pe()},[Pe]),It=j.useCallback(async H=>{await hO(H),await Pe()},[Pe]),zr=j.useCallback(async H=>{const we=await DO(H);return await Ye(),we},[Ye]),gr=j.useCallback(async(H,we)=>{await Kz({reminderId:H,...we}),await Ye()},[Ye]),Ae=j.useCallback(async H=>{await EO(H),await Ye()},[Ye]),_r=j.useCallback(async(H,we)=>{await Rz(H,we),await Pe()},[Pe]),fi=j.useCallback(async H=>{const we=await AO(H);return await $t(),we},[$t]),Ea=j.useCallback(async(H,we)=>{await Bz({portfolioId:H,...we}),await $t()},[$t]),_a=j.useCallback(async H=>{await MO(H),await $t()},[$t]),Oa=j.useCallback(async H=>{const we=await $z(H);return await $t(),we},[$t]),sl=j.useCallback(async H=>{const we=await qz(H);return await $t(),we},[$t]),ss=j.useCallback(async H=>{const we=await Cz(H);return await at(),we},[at]),Nn=j.useCallback(async(H,we)=>{await Az({portfolioId:H,...we}),await at()},[at]),Cr=j.useCallback(async H=>{await Mz(H),await at()},[at]),Gr=j.useCallback(async(H,we)=>{const xt=await kz({...H,transactionType:we});return await at(),xt},[at]),ls=j.useCallback(async H=>{const we=await Dz(H);return await at(),we},[at]),zc=j.useCallback(async H=>{const we=await Ez(H);return await at(),we},[at]),Mv=j.useCallback(async(H,we)=>{await _z(H,we),await at()},[at]),kv=j.useCallback(async H=>{await Hz(H),await at()},[at]),Zd=j.useCallback(async H=>{await Uz(H),await at()},[at]),ll=j.useCallback(async H=>{const we=await Tz(H);return ye(xt=>{const sn=xt||[],Ta=sn.findIndex(Sn=>Sn.fundCode===H.fundCode),Zr={};H.equity&&(Zr.Equity=H.equity),H.debt&&(Zr.Debt=H.debt),H.cash&&(Zr.Cash=H.cash),H.realEstate&&(Zr["Real Estate"]=H.realEstate),H.commodities&&(Zr.Commodities=H.commodities),H.customAsset&&Object.entries(H.customAsset).forEach(([Sn,Pa])=>{Pa>0&&(Zr[Sn]=Pa)});const ln={};H.giantCap&&(ln.Giant=H.giantCap),H.largeCap&&(ln.Large=H.largeCap),H.midCap&&(ln.Mid=H.midCap),H.smallCap&&(ln.Small=H.smallCap),H.microCap&&(ln.Micro=H.microCap),H.customCap&&Object.entries(H.customCap).forEach(([Sn,Pa])=>{Pa>0&&(ln[Sn]=Pa)});const io={};H.geoIndia&&(io.India=H.geoIndia),H.geoGlobal&&(io.Global=H.geoGlobal),H.customGeo&&Object.entries(H.customGeo).forEach(([Sn,Pa])=>{Pa>0&&(io[Sn]=Pa)});const Bc={fundCode:H.fundCode,fundName:H.fundName,assetAllocation:Zr,equityAllocation:ln,geoAllocation:io};if(Ta>=0){const Sn=[...sn];return Sn[Ta]=Bc,Sn}return[...sn,Bc]}),we},[]),Fc=(m||[]).filter(H=>H.status==="Active"),os=(v||[]).filter(H=>H.status==="Active"),cs=(b||[]).filter(H=>H.status==="Active");return s.jsx(RO.Provider,{value:{loading:r,isRefreshing:l,error:u,refreshData:be,members:m,banks:v,investmentAccounts:b,insurancePolicies:w,liabilityList:C,otherInvList:A,activeMembers:Fc,activeBanks:os,activeInvestmentAccounts:cs,addMember:ue,updateMember:xe,deleteMember:Fe,addBankAccount:Mt,updateBankAccount:Y,deleteBankAccount:ce,addInvestmentAccount:Ce,updateInvestmentAccount:De,deleteInvestmentAccount:ze,addInsurance:ie,updateInsurance:Pt,deleteInsurance:He,addLiability:kt,updateLiability:Xt,deleteLiability:Be,addOtherInvestment:Yt,updateOtherInvestment:Xe,deleteOtherInvestment:Se,goalList:G,addGoal:Ke,updateGoal:et,deleteGoal:It,reminderList:te,addReminder:zr,updateReminder:gr,deleteReminder:Ae,goalPortfolioMappings:F,updateGoalMappings:_r,assetAllocations:he,updateAssetAllocation:ll,stockPortfolios:E,stockHoldings:P,stockTransactions:L,addStockPortfolio:fi,updateStockPortfolio:Ea,deleteStockPortfolio:_a,buyStock:Oa,sellStock:sl,mfPortfolios:B,mfHoldings:K,mfTransactions:Z,addMFPortfolio:ss,updateMFPortfolio:Nn,deleteMFPortfolio:Cr,investMF:Gr,redeemMF:ls,switchMF:zc,updateHoldingAllocations:Mv,deleteMFTransaction:kv,editMFTransaction:Zd,settings:je,updateSettings:St,refreshSettings:Ut,healthCheckCompleted:me,completeHealthCheck:is},children:e})}function pt(){return j.useContext(RO)}const zO=j.createContext();function mF({children:e}){const{activeMembers:t}=pt(),[n,r]=j.useState("all"),a=t.find(l=>l.memberId===n)||null;return s.jsx(zO.Provider,{value:{selectedMember:n,setSelectedMember:r,member:a,familyMembers:t},children:e})}function Yr(){return j.useContext(zO)}const FO=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();const pF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const hF=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase());const AC=e=>{const t=hF(e);return t.charAt(0).toUpperCase()+t.slice(1)};var vF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xF=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const gF=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...u},f)=>j.createElement("svg",{ref:f,...vF,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:FO("lucide",a),...!l&&!xF(u)&&{"aria-hidden":"true"},...u},[...c.map(([m,h])=>j.createElement(m,h)),...Array.isArray(l)?l:[l]]));const _e=(e,t)=>{const n=j.forwardRef(({className:r,...a},l)=>j.createElement(gF,{ref:l,iconNode:t,className:FO(`lucide-${pF(AC(e))}`,`lucide-${e}`,r),...a}));return n.displayName=AC(e),n};const bF=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],yF=_e("arrow-down",bF);const wF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],jF=_e("arrow-right",wF);const NF=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],SF=_e("arrow-up-down",NF);const CF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],AF=_e("bell-off",CF);const MF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Dh=_e("bell",MF);const kF=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],BO=_e("briefcase",kF);const DF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],EF=_e("calendar",DF);const _F=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ju=_e("chart-column",_F);const OF=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],MC=_e("chart-pie",OF);const TF=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kC=_e("check",TF);const PF=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ga=_e("chevron-down",PF);const IF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],RF=_e("chevron-left",IF);const LF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xp=_e("chevron-right",LF);const zF=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],FF=_e("chevron-up",zF);const BF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],$O=_e("circle-arrow-down",BF);const $F=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qF=_e("circle-check-big",$F);const HF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ac=_e("circle-check",HF);const UF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],qO=_e("circle-x",UF);const YF=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],HO=_e("clipboard-check",YF);const VF=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],GF=_e("coffee",VF);const WF=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],KF=_e("construction",WF);const QF=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Eh=_e("credit-card",QF);const XF=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ZF=_e("database",XF);const JF=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],e8=_e("dollar-sign",JF);const t8=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],r8=_e("ellipsis-vertical",t8);const n8=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],a8=_e("ellipsis",n8);const i8=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gp=_e("eye",i8);const s8=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ed=_e("eye-off",s8);const l8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],o8=_e("file-spreadsheet",l8);const c8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],UO=_e("file-text",c8);const u8=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],YO=_e("funnel",u8);const d8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],f8=_e("globe",d8);const m8=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],bp=_e("heart",m8);const p8=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],h8=_e("indian-rupee",p8);const v8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],x8=_e("info",v8);const g8=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],VO=_e("landmark",g8);const b8=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],GO=_e("layers",b8);const y8=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],WO=_e("link-2",y8);const w8=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],yp=_e("list",w8);const j8=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],KO=_e("loader-circle",j8);const N8=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],V0=_e("lock",N8);const S8=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],C8=_e("log-in",S8);const A8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],QO=_e("log-out",A8);const M8=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],k8=_e("mail",M8);const D8=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],E8=_e("menu",D8);const _8=[["path",{d:"M5 12h14",key:"1ays0h"}]],G0=_e("minus",_8);const O8=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Xb=_e("moon",O8);const T8=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],XO=_e("package",T8);const P8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ka=_e("pencil",P8);const I8=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],R8=_e("piggy-bank",I8);const L8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pr=_e("plus",L8);const z8=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Vl=_e("refresh-cw",z8);const F8=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],B8=_e("repeat-2",F8);const $8=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],q8=_e("repeat",$8);const H8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ZO=_e("save",H8);const U8=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],JO=_e("search",U8);const Y8=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],e5=_e("settings-2",Y8);const V8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],v1=_e("settings",V8);const G8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],W8=_e("shield-alert",G8);const K8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],td=_e("shield",K8);const Q8=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],wp=_e("sun",Q8);const X8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ad=_e("target",X8);const Z8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_h=_e("trash-2",Z8);const J8=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Md=_e("trending-down",J8);const eB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ic=_e("trending-up",eB);const tB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hs=_e("triangle-alert",tB);const rB=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],DC=_e("trophy",rB);const nB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],aB=_e("user",nB);const iB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sc=_e("users",iB);const sB=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],rd=_e("wallet",sB);const lB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Us=_e("x",lB);const oB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zb=_e("zap",oB),t5=j.createContext();function cB({children:e}){const[t,n]=j.useState([]),[r,a]=j.useState(null),l=j.useRef(0),c=j.useCallback((h,v="success",x=3e3)=>{const b=++l.current;n(S=>[...S,{id:b,message:h,type:v}]),setTimeout(()=>n(S=>S.filter(w=>w.id!==b)),x)},[]),u=j.useCallback(h=>{n(v=>v.filter(x=>x.id!==h))},[]),f=j.useCallback((h="Saving...")=>{a(h)},[]),m=j.useCallback(()=>{a(null)},[]);return s.jsxs(t5.Provider,{value:{showToast:c,showBlockUI:f,hideBlockUI:m},children:[e,r&&s.jsx("div",{className:"fixed inset-0 z-[200] bg-black/50 backdrop-blur-sm flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-3 bg-[var(--bg-card)] rounded-xl px-8 py-6 border border-[var(--border)] shadow-2xl",children:[s.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),s.jsx("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:r})]})}),t.length>0&&s.jsx("div",{className:"fixed bottom-20 sm:bottom-6 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-2 items-center pointer-events-none",children:t.map(h=>s.jsxs("div",{className:`pointer-events-auto flex items-center gap-2 px-4 py-2.5 rounded-lg shadow-xl border text-sm font-medium animate-fade-in ${h.type==="error"?"bg-rose-500/15 border-rose-500/30 text-[var(--accent-rose)]":h.type==="warning"?"bg-amber-500/15 border-amber-500/30 text-amber-400":"bg-emerald-500/15 border-emerald-500/30 text-emerald-400"}`,style:{backdropFilter:"blur(12px)"},children:[h.type==="error"?s.jsx(qO,{size:16}):h.type==="warning"?s.jsx(Hs,{size:16}):s.jsx(Ac,{size:16}),s.jsx("span",{children:h.message}),s.jsx("button",{onClick:()=>u(h.id),className:"ml-1 opacity-60 hover:opacity-100 transition-opacity",children:s.jsx(Us,{size:14})})]},h.id))})]})}function li(){return j.useContext(t5)}const r5=j.createContext();function uB({children:e}){const[t,n]=j.useState(null),r=j.useRef(null),a=j.useCallback((u,{title:f="Confirm",confirmLabel:m="Yes, proceed",cancelLabel:h="Cancel",destructive:v=!0}={})=>new Promise(x=>{r.current=x,n({message:u,title:f,confirmLabel:m,cancelLabel:h,destructive:v})}),[]);function l(){r.current?.(!0),r.current=null,n(null)}function c(){r.current?.(!1),r.current=null,n(null)}return s.jsxs(r5.Provider,{value:{confirm:a},children:[e,t&&s.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center px-4",onClick:c,children:[s.jsx("div",{className:"fixed inset-0 bg-black/60"}),s.jsxs("div",{className:"relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full max-w-sm p-5 animate-fade-in",onClick:u=>u.stopPropagation(),children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx("span",{className:`shrink-0 w-9 h-9 rounded-full flex items-center justify-center ${t.destructive?"bg-rose-500/15":"bg-violet-500/15"}`,children:s.jsx(Hs,{size:18,className:t.destructive?"text-[var(--accent-rose)]":"text-violet-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-[var(--text-primary)]",children:t.title}),s.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1 leading-relaxed",children:t.message})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:c,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:t.cancelLabel}),s.jsx("button",{onClick:l,autoFocus:!0,className:`px-4 py-2 text-xs font-bold text-white rounded-lg transition-colors ${t.destructive?"bg-rose-600 hover:bg-rose-500":"bg-violet-600 hover:bg-violet-500"}`,children:t.confirmLabel})]})]})]})]})}function oi(){return j.useContext(r5).confirm}const n5=j.createContext(),EC="cf-mask-data";function dB(e){return!e||e.length<4?"":""+e.slice(-4)}function fB(e){return!e||e.length<4?"  ":"  "+e.slice(-4)}function mB(e){return!e||e.length<3?"":""+e.slice(-3)}function pB(e){if(!e)return"@";const[t,n]=e.split("@");if(!n)return"@";const r=t.charAt(0)+"",a=n.split("."),l=a[0].charAt(0)+""+(a.length>1?"."+a.slice(1).join("."):"");return r+"@"+l}function hB(e){return!e||e.length<4?"":""+e.slice(-4)}function vB(e){return!e||e.length<3?"":""+e.slice(-3)}function xB(e){return!e||e.length<4?"":""+e.slice(-4)}function gB(e){return!e||e.length<2?"":e.split(/\s+/).map(t=>t.charAt(0)+"").join(" ")}const bB={pan:dB,aadhaar:fB,mobile:mB,email:pB,account:hB,clientId:vB,policy:xB,name:gB};function yB({children:e}){const[t,n]=j.useState(()=>{try{return localStorage.getItem(EC)==="true"}catch{return!1}});j.useEffect(()=>{try{localStorage.setItem(EC,String(t))}catch{}},[t]);const r=j.useCallback(()=>n(l=>!l),[]),a=j.useCallback((l,c)=>{if(!t||l==null||l==="")return l;const u=bB[c];return u?u(String(l)):l},[t]);return s.jsx(n5.Provider,{value:{masked:t,toggleMask:r,mv:a},children:e})}function ci(){return j.useContext(n5)}const _C=[{label:"Family Members",icon:sc,path:"/family"},{label:"Bank Accounts",icon:VO,path:"/accounts/bank"},{label:"Investment Accounts",icon:BO,path:"/accounts/investment"},{label:"Insurance",icon:td,path:"/insurance"},{label:"Mutual Funds",icon:rd,path:"/investments/mutual-funds"},{label:"Stocks",icon:Ju,path:"/investments/stocks"},{label:"Other Investments",icon:XO,path:"/investments/other"},{label:"Liabilities",icon:Eh,path:"/liabilities"},{label:"Goals",icon:Ad,path:"/goals"},{label:"Settings",icon:v1,path:"/settings"}];function Q(e){return e<0?`-${Q(-e)}`:e>=1e7?`${(e/1e7).toFixed(2)} Cr`:e>=1e5?`${(e/1e5).toFixed(2)} L`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${e.toLocaleString("en-IN")}`}function a5(){const{selectedMember:e}=Yr(),{mfPortfolios:t,mfHoldings:n,insurancePolicies:r,goalList:a,reminderList:l}=pt(),c=(x,b)=>{const S=x||[];return e==="all"?S:S.filter(w=>w[b]===e)},u=j.useMemo(()=>{let x=0,b=0,S=0;return c((t||[]).filter(C=>C.status!=="Inactive"),"ownerId").forEach(C=>{const M=(n||[]).filter(E=>E.portfolioId===C.portfolioId&&E.units>0),A=M.reduce((E,T)=>E+T.currentValue,0),_=(C.rebalanceThreshold||.05)*100;M.forEach(E=>{if(E.athNav>0&&E.belowATHPct>=10?b++:E.athNav>0&&E.belowATHPct>=5&&x++,E.targetAllocationPct>0&&A>0){const T=E.currentValue/A*100;Math.abs(T-E.targetAllocationPct)>_&&S++}})}),{buyOppCount:x+b,buyCount:x,strongBuyCount:b,rebalanceCount:S}},[e,t,n]),f=j.useMemo(()=>{const x=[],b=c((r||[]).filter(A=>A.status==="Active"),"memberId");b.some(A=>A.policyType==="Term Life")||x.push({type:"critical",title:"Missing Term Life Insurance",badge:"Add Policy",navigateTo:"/insurance"});const w=b.filter(A=>A.policyType==="Health").reduce((A,_)=>A+_.sumAssured,0);return w===0?x.push({type:"critical",title:"No Health Insurance",badge:"Add Policy",navigateTo:"/insurance"}):w<5e5&&x.push({type:"warning",title:"Inadequate Health Insurance",badge:Q(w),navigateTo:"/insurance"}),c((a||[]).filter(A=>A.isActive!==!1&&A.goalType==="Emergency Fund"),"familyMemberId").forEach(A=>{const _=A.targetAmount>0?A.currentValue/A.targetAmount*100:0;_<100&&x.push({type:_>=75?"info":"warning",title:`Emergency Fund at ${_.toFixed(0)}%`,badge:Q(A.targetAmount-A.currentValue)+" left",navigateTo:"/goals"})}),c((l||[]).filter(A=>A.isActive!==!1),"familyMemberId").filter(A=>new Date(A.dueDate)<new Date).forEach(A=>{const _=Math.ceil((new Date-new Date(A.dueDate))/864e5);x.push({type:"critical",title:A.title,badge:`${_}d overdue`,navigateTo:"/reminders"})}),c((a||[]).filter(A=>A.isActive!==!1&&A.status==="Needs Attention"),"familyMemberId").forEach(A=>{x.push({type:"warning",title:`${A.goalName} needs attention`,badge:A.priority,navigateTo:"/goals"})}),x},[e,r,a,l]),m=j.useMemo(()=>{const x=c((l||[]).filter(S=>S.isActive!==!1&&S.status!=="Completed"),"familyMemberId"),b=new Date;return x.map(S=>{const w=new Date(S.dueDate)-b,y=Math.ceil(w/(1440*60*1e3)),C=new Date(S.dueDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short"});return{...S,days:y,dateStr:C}}).filter(S=>S.days>=0&&S.days<=30).sort((S,w)=>S.days-w.days).slice(0,5)},[e,l]),h=f.length+u.buyOppCount+u.rebalanceCount+m.length,v=f.filter(x=>x.type==="critical").length;return{criticalAlerts:f,investmentSignals:u,upcomingReminders:m,totalCount:h,criticalCount:v}}function wB({open:e,onClose:t}){const n=ca(),r=Qs(),{investmentSignals:a}=a5(),{buyOppCount:l,rebalanceCount:c}=a,u=_C.filter(v=>v.children?.some(x=>n.pathname.startsWith(x.path))).map(v=>v.label),[f,m]=j.useState(new Set(u));function h(v){m(x=>{const b=new Set(x);return b.has(v)?b.delete(v):b.add(v),b})}return s.jsxs(s.Fragment,{children:[e&&s.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 lg:hidden",onClick:t}),s.jsxs("aside",{className:`
        fixed top-0 left-0 z-50 h-full w-56
        bg-[var(--bg-sidebar)] border-r border-[var(--border)]
        flex flex-col transition-transform duration-300
        lg:hidden
        ${e?"translate-x-0":"-translate-x-full"}
      `,children:[s.jsxs("div",{className:"flex items-center justify-between px-3 h-12 border-b border-[var(--border)] shrink-0",children:[s.jsx("p",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Menu"}),s.jsx("button",{onClick:t,className:"p-1.5 rounded-md text-[var(--text-dim)] hover:text-[var(--text-primary)]",children:s.jsx(Us,{size:16})})]}),(l>0||c>0)&&s.jsxs("div",{className:"px-3 py-2 border-b border-[var(--border)] space-y-1.5",children:[l>0&&s.jsxs("button",{onClick:()=>{r("/investments/mutual-funds"),t()},className:"w-full flex items-center gap-2 px-3 py-2 text-xs font-semibold text-emerald-400 bg-emerald-500/10 rounded-lg hover:bg-emerald-500/15 transition-colors",children:[s.jsx(Md,{size:14}),s.jsx("span",{className:"flex-1 text-left",children:"Buy Opportunities"}),s.jsx("span",{className:"text-[11px] bg-emerald-500/25 px-1.5 py-0.5 rounded-full",children:l})]}),c>0&&s.jsxs("button",{onClick:()=>{r("/investments/mutual-funds"),t()},className:"w-full flex items-center gap-2 px-3 py-2 text-xs font-semibold text-violet-400 bg-violet-500/10 rounded-lg hover:bg-violet-500/15 transition-colors",children:[s.jsx(Vl,{size:14}),s.jsx("span",{className:"flex-1 text-left",children:"Rebalance Alerts"}),s.jsx("span",{className:"text-[11px] bg-violet-500/25 px-1.5 py-0.5 rounded-full",children:c})]})]}),s.jsx("nav",{className:"flex-1 py-2 overflow-y-auto overflow-x-hidden",children:_C.map(v=>v.children?s.jsx(jB,{item:v,isOpen:f.has(v.label),onToggle:()=>h(v.label),onNavigate:t,currentPath:n.pathname},v.label):s.jsx(i5,{item:v,onNavigate:t},v.path))})]})]})}function i5({item:e,onNavigate:t,nested:n}){const{label:r,icon:a,path:l}=e;return s.jsx(d1,{to:l,onClick:t,end:l==="/",className:({isActive:c})=>`group flex items-center gap-2.5 ${n?"pl-11 pr-4 py-[7px]":"px-4 py-2.5"} text-[13px] font-medium transition-all border-r-2 ${c?"bg-[var(--sidebar-active-bg)] text-[var(--sidebar-active-text)] border-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] border-transparent"}`,children:({isActive:c})=>s.jsxs(s.Fragment,{children:[s.jsx(a,{size:n?14:17,strokeWidth:c?2.2:1.7}),s.jsx("span",{children:r})]})})}function jB({item:e,isOpen:t,onToggle:n,onNavigate:r,currentPath:a}){const{label:l,icon:c,children:u}=e,f=u.some(m=>a.startsWith(m.path));return s.jsxs("div",{children:[s.jsxs("button",{onClick:n,className:`w-full group flex items-center gap-2.5 px-4 py-2.5 text-[13px] font-medium transition-all border-r-2 border-transparent ${f?"text-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:[s.jsx(c,{size:17,strokeWidth:f?2.2:1.7}),s.jsx("span",{className:"flex-1 text-left",children:l}),s.jsx(Ga,{size:13,className:`text-[var(--text-dim)] transition-transform duration-200 ${t?"rotate-180":""}`})]}),t&&s.jsx("div",{className:"py-0.5",children:u.map(m=>s.jsx(i5,{item:m,onNavigate:r,nested:!0},m.path))})]})}function s5(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=s5(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function st(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=s5(e))&&(r&&(r+=" "),r+=t);return r}var NB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function x1(e){if(typeof e!="string")return!1;var t=NB;return t.includes(e)}var SB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],CB=new Set(SB);function l5(e){return typeof e!="string"?!1:CB.has(e)}function o5(e){return typeof e=="string"&&e.startsWith("data-")}function lc(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l5(n)||o5(n))&&(t[n]=e[n]);return t}function Jb(e){if(e==null)return null;if(j.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return lc(t)}return typeof e=="object"&&!Array.isArray(e)?lc(e):null}function ia(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l5(n)||o5(n)||x1(n))&&(t[n]=e[n]);return t}var AB=["children","width","height","viewBox","className","style","title","desc"];function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ey.apply(null,arguments)}function MB(e,t){if(e==null)return{};var n,r,a=kB(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function kB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var c5=j.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:l,className:c,style:u,title:f,desc:m}=e,h=MB(e,AB),v=l||{width:r,height:a,x:0,y:0},x=st("recharts-surface",c);return j.createElement("svg",ey({},ia(h),{className:x,width:r,height:a,style:u,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:t}),j.createElement("title",null,f),j.createElement("desc",null,m),n)}),DB=["children","className"];function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ty.apply(null,arguments)}function EB(e,t){if(e==null)return{};var n,r,a=_B(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _B(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ys=j.forwardRef((e,t)=>{var{children:n,className:r}=e,a=EB(e,DB),l=st("recharts-layer",r);return j.createElement("g",ty({className:l},ia(a),{ref:t}),n)}),OB=j.createContext(null);function Vt(e){return function(){return e}}const u5=Math.cos,jp=Math.sin,Da=Math.sqrt,Np=Math.PI,Oh=2*Np,ry=Math.PI,ny=2*ry,kl=1e-6,TB=ny-kl;function d5(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function PB(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return d5;const n=10**t;return function(r){this._+=r[0];for(let a=1,l=r.length;a<l;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class IB{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?d5:PB(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,l,c){this._append`C${+t},${+n},${+r},${+a},${this._x1=+l},${this._y1=+c}`}arcTo(t,n,r,a,l){if(t=+t,n=+n,r=+r,a=+a,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,u=this._y1,f=r-t,m=a-n,h=c-t,v=u-n,x=h*h+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(x>kl)if(!(Math.abs(v*f-m*h)>kl)||!l)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-c,S=a-u,w=f*f+m*m,y=b*b+S*S,C=Math.sqrt(w),M=Math.sqrt(x),A=l*Math.tan((ry-Math.acos((w+x-y)/(2*C*M)))/2),_=A/M,E=A/C;Math.abs(_-1)>kl&&this._append`L${t+_*h},${n+_*v}`,this._append`A${l},${l},0,0,${+(v*b>h*S)},${this._x1=t+E*f},${this._y1=n+E*m}`}}arc(t,n,r,a,l,c){if(t=+t,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(a),f=r*Math.sin(a),m=t+u,h=n+f,v=1^c,x=c?a-l:l-a;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>kl||Math.abs(this._y1-h)>kl)&&this._append`L${m},${h}`,r&&(x<0&&(x=x%ny+ny),x>TB?this._append`A${r},${r},0,1,${v},${t-u},${n-f}A${r},${r},0,1,${v},${this._x1=m},${this._y1=h}`:x>kl&&this._append`A${r},${r},0,${+(x>=ry)},${v},${this._x1=t+r*Math.cos(l)},${this._y1=n+r*Math.sin(l)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function g1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new IB(t)}function b1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function f5(e){this._context=e}f5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Th(e){return new f5(e)}function m5(e){return e[0]}function p5(e){return e[1]}function h5(e,t){var n=Vt(!0),r=null,a=Th,l=null,c=g1(u);e=typeof e=="function"?e:e===void 0?m5:Vt(e),t=typeof t=="function"?t:t===void 0?p5:Vt(t);function u(f){var m,h=(f=b1(f)).length,v,x=!1,b;for(r==null&&(l=a(b=c())),m=0;m<=h;++m)!(m<h&&n(v=f[m],m,f))===x&&((x=!x)?l.lineStart():l.lineEnd()),x&&l.point(+e(v,m,f),+t(v,m,f));if(b)return l=null,b+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Vt(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Vt(+f),u):t},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Vt(!!f),u):n},u.curve=function(f){return arguments.length?(a=f,r!=null&&(l=a(r)),u):a},u.context=function(f){return arguments.length?(f==null?r=l=null:l=a(r=f),u):r},u}function mm(e,t,n){var r=null,a=Vt(!0),l=null,c=Th,u=null,f=g1(m);e=typeof e=="function"?e:e===void 0?m5:Vt(+e),t=typeof t=="function"?t:Vt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?p5:Vt(+n);function m(v){var x,b,S,w=(v=b1(v)).length,y,C=!1,M,A=new Array(w),_=new Array(w);for(l==null&&(u=c(M=f())),x=0;x<=w;++x){if(!(x<w&&a(y=v[x],x,v))===C)if(C=!C)b=x,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=x-1;S>=b;--S)u.point(A[S],_[S]);u.lineEnd(),u.areaEnd()}C&&(A[x]=+e(y,x,v),_[x]=+t(y,x,v),u.point(r?+r(y,x,v):A[x],n?+n(y,x,v):_[x]))}if(M)return u=null,M+""||null}function h(){return h5().defined(a).curve(c).context(l)}return m.x=function(v){return arguments.length?(e=typeof v=="function"?v:Vt(+v),r=null,m):e},m.x0=function(v){return arguments.length?(e=typeof v=="function"?v:Vt(+v),m):e},m.x1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:Vt(+v),m):r},m.y=function(v){return arguments.length?(t=typeof v=="function"?v:Vt(+v),n=null,m):t},m.y0=function(v){return arguments.length?(t=typeof v=="function"?v:Vt(+v),m):t},m.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:Vt(+v),m):n},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(n)},m.lineX1=function(){return h().x(r).y(t)},m.defined=function(v){return arguments.length?(a=typeof v=="function"?v:Vt(!!v),m):a},m.curve=function(v){return arguments.length?(c=v,l!=null&&(u=c(l)),m):c},m.context=function(v){return arguments.length?(v==null?l=u=null:u=c(l=v),m):l},m}class v5{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function RB(e){return new v5(e,!0)}function LB(e){return new v5(e,!1)}const y1={draw(e,t){const n=Da(t/Np);e.moveTo(n,0),e.arc(0,0,n,0,Oh)}},zB={draw(e,t){const n=Da(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},x5=Da(1/3),FB=x5*2,BB={draw(e,t){const n=Da(t/FB),r=n*x5;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},$B={draw(e,t){const n=Da(t),r=-n/2;e.rect(r,r,n,n)}},qB=.8908130915292852,g5=jp(Np/10)/jp(7*Np/10),HB=jp(Oh/10)*g5,UB=-u5(Oh/10)*g5,YB={draw(e,t){const n=Da(t*qB),r=HB*n,a=UB*n;e.moveTo(0,-n),e.lineTo(r,a);for(let l=1;l<5;++l){const c=Oh*l/5,u=u5(c),f=jp(c);e.lineTo(f*n,-u*n),e.lineTo(u*r-f*a,f*r+u*a)}e.closePath()}},W0=Da(3),VB={draw(e,t){const n=-Da(t/(W0*3));e.moveTo(0,n*2),e.lineTo(-W0*n,-n),e.lineTo(W0*n,-n),e.closePath()}},ea=-.5,ta=Da(3)/2,ay=1/Da(12),GB=(ay/2+1)*3,WB={draw(e,t){const n=Da(t/GB),r=n/2,a=n*ay,l=r,c=n*ay+n,u=-l,f=c;e.moveTo(r,a),e.lineTo(l,c),e.lineTo(u,f),e.lineTo(ea*r-ta*a,ta*r+ea*a),e.lineTo(ea*l-ta*c,ta*l+ea*c),e.lineTo(ea*u-ta*f,ta*u+ea*f),e.lineTo(ea*r+ta*a,ea*a-ta*r),e.lineTo(ea*l+ta*c,ea*c-ta*l),e.lineTo(ea*u+ta*f,ea*f-ta*u),e.closePath()}};function KB(e,t){let n=null,r=g1(a);e=typeof e=="function"?e:Vt(e||y1),t=typeof t=="function"?t:Vt(t===void 0?64:+t);function a(){let l;if(n||(n=l=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),l)return n=null,l+""||null}return a.type=function(l){return arguments.length?(e=typeof l=="function"?l:Vt(l),a):e},a.size=function(l){return arguments.length?(t=typeof l=="function"?l:Vt(+l),a):t},a.context=function(l){return arguments.length?(n=l??null,a):n},a}function Sp(){}function Cp(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function b5(e){this._context=e}b5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function QB(e){return new b5(e)}function y5(e){this._context=e}y5.prototype={areaStart:Sp,areaEnd:Sp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Cp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XB(e){return new y5(e)}function w5(e){this._context=e}w5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Cp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ZB(e){return new w5(e)}function j5(e){this._context=e}j5.prototype={areaStart:Sp,areaEnd:Sp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function JB(e){return new j5(e)}function OC(e){return e<0?-1:1}function TC(e,t,n){var r=e._x1-e._x0,a=t-e._x1,l=(e._y1-e._y0)/(r||a<0&&-0),c=(n-e._y1)/(a||r<0&&-0),u=(l*a+c*r)/(r+a);return(OC(l)+OC(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(u))||0}function PC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function K0(e,t,n){var r=e._x0,a=e._y0,l=e._x1,c=e._y1,u=(l-r)/3;e._context.bezierCurveTo(r+u,a+u*t,l-u,c-u*n,l,c)}function Ap(e){this._context=e}Ap.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:K0(this,this._t0,PC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,K0(this,PC(this,n=TC(this,e,t)),n);break;default:K0(this,this._t0,n=TC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function N5(e){this._context=new S5(e)}(N5.prototype=Object.create(Ap.prototype)).point=function(e,t){Ap.prototype.point.call(this,t,e)};function S5(e){this._context=e}S5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,l){this._context.bezierCurveTo(t,e,r,n,l,a)}};function e$(e){return new Ap(e)}function t$(e){return new N5(e)}function C5(e){this._context=e}C5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=IC(e),a=IC(t),l=0,c=1;c<n;++l,++c)this._context.bezierCurveTo(r[0][l],a[0][l],r[1][l],a[1][l],e[c],t[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function IC(e){var t,n=e.length-1,r,a=new Array(n),l=new Array(n),c=new Array(n);for(a[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,l[n-1]=7,c[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/l[t-1],l[t]-=r,c[t]-=r*c[t-1];for(a[n-1]=c[n-1]/l[n-1],t=n-2;t>=0;--t)a[t]=(c[t]-a[t+1])/l[t];for(l[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)l[t]=2*e[t+1]-a[t+1];return[a,l]}function r$(e){return new C5(e)}function Ph(e,t){this._context=e,this._t=t}Ph.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function n$(e){return new Ph(e,.5)}function a$(e){return new Ph(e,0)}function i$(e){return new Ph(e,1)}function Gl(e,t){if((c=e.length)>1)for(var n=1,r,a,l=e[t[0]],c,u=l.length;n<c;++n)for(a=l,l=e[t[n]],r=0;r<u;++r)l[r][1]+=l[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function iy(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function s$(e,t){return e[t]}function l$(e){const t=[];return t.key=e,t}function o$(){var e=Vt([]),t=iy,n=Gl,r=s$;function a(l){var c=Array.from(e.apply(this,arguments),l$),u,f=c.length,m=-1,h;for(const v of l)for(u=0,++m;u<f;++u)(c[u][m]=[0,+r(v,c[u].key,m,l)]).data=v;for(u=0,h=b1(t(c));u<f;++u)c[h[u]].index=u;return n(c,h),c}return a.keys=function(l){return arguments.length?(e=typeof l=="function"?l:Vt(Array.from(l)),a):e},a.value=function(l){return arguments.length?(r=typeof l=="function"?l:Vt(+l),a):r},a.order=function(l){return arguments.length?(t=l==null?iy:typeof l=="function"?l:Vt(Array.from(l)),a):t},a.offset=function(l){return arguments.length?(n=l??Gl,a):n},a}function c$(e,t){if((r=e.length)>0){for(var n,r,a=0,l=e[0].length,c;a<l;++a){for(c=n=0;n<r;++n)c+=e[n][a][1]||0;if(c)for(n=0;n<r;++n)e[n][a][1]/=c}Gl(e,t)}}function u$(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,l=r.length;n<l;++n){for(var c=0,u=0;c<a;++c)u+=e[c][n][1]||0;r[n][1]+=r[n][0]=-u/2}Gl(e,t)}}function d$(e,t){if(!(!((c=e.length)>0)||!((l=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,l,c;r<l;++r){for(var u=0,f=0,m=0;u<c;++u){for(var h=e[t[u]],v=h[r][1]||0,x=h[r-1][1]||0,b=(v-x)/2,S=0;S<u;++S){var w=e[t[S]],y=w[r][1]||0,C=w[r-1][1]||0;b+=y-C}f+=v,m+=b*v}a[r-1][1]+=a[r-1][0]=n,f&&(n-=m/f)}a[r-1][1]+=a[r-1][0]=n,Gl(e,t)}}var Q0={},X0={},RC;function f$(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(X0)),X0}var Z0={},LC;function A5(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Z0)),Z0}var J0={},zC;function w1(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(J0)),J0}var eg={},tg={},FC;function m$(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(tg)),tg}var BC;function j1(){return BC||(BC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m$(),n=w1();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const l=[],c=a.length;if(c===0)return l;let u=0,f="",m="",h=!1;for(a.charCodeAt(0)===46&&(l.push(""),u++);u<c;){const v=a[u];m?v==="\\"&&u+1<c?(u++,f+=a[u]):v===m?m="":f+=v:h?v==='"'||v==="'"?m=v:v==="]"?(h=!1,l.push(f),f=""):f+=v:v==="["?(h=!0,f&&(l.push(f),f="")):v==="."?f&&(l.push(f),f=""):f+=v,u++}return f&&l.push(f),l}e.toPath=r})(eg)),eg}var $C;function N1(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f$(),n=A5(),r=w1(),a=j1();function l(u,f,m){if(u==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?n.isDeepKey(f)?l(u,a.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const h=u[f];return h===void 0?m:h}default:{if(Array.isArray(f))return c(u,f,m);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?m:h}}}function c(u,f,m){if(f.length===0)return m;let h=u;for(let v=0;v<f.length;v++){if(h==null||t.isUnsafeProperty(f[v]))return m;h=h[f[v]]}return h===void 0?m:h}e.get=l})(Q0)),Q0}var rg,qC;function p$(){return qC||(qC=1,rg=N1().get),rg}var h$=p$();const ad=si(h$);var v$=4;function Ls(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v$,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function or(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((a,l,c)=>{var u=n[c-1];return typeof u=="string"?a+u+l:u!==void 0?a+Ls(u)+l:a+l},"")}var bn=e=>e===0?0:e>0?1:-1,qi=e=>typeof e=="number"&&e!=+e,Wl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Qe=e=>(typeof e=="number"||e instanceof Number)&&!qi(e),Hi=e=>Qe(e)||typeof e=="string",x$=0,id=e=>{var t=++x$;return"".concat(e||"").concat(t)},Ln=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(t)&&typeof t!="string")return r;var l;if(Wl(t)){if(n==null)return r;var c=t.indexOf("%");l=n*parseFloat(t.slice(0,c))/100}else l=+t;return qi(l)&&(l=r),a&&n!=null&&l>n&&(l=n),l},M5=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function va(e,t,n){return Qe(e)&&Qe(t)?Ls(e+n*(t-e)):t}function g$(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):ad(r,t))===n)}var Bn=e=>e===null||typeof e>"u",kd=e=>Bn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Wa(e){return e!=null}function Dd(){}var b$=["type","size","sizeType"];function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sy.apply(null,arguments)}function HC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function UC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(n),!0).forEach(function(r){y$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y$(e,t,n){return(t=w$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w$(e){var t=j$(e,"string");return typeof t=="symbol"?t:t+""}function j$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N$(e,t){if(e==null)return{};var n,r,a=S$(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function S$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var k5={symbolCircle:y1,symbolCross:zB,symbolDiamond:BB,symbolSquare:$B,symbolStar:YB,symbolTriangle:VB,symbolWye:WB},C$=Math.PI/180,A$=e=>{var t="symbol".concat(kd(e));return k5[t]||y1},M$=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*C$;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},k$=(e,t)=>{k5["symbol".concat(kd(e))]=t},D5=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=N$(e,b$),l=UC(UC({},a),{},{type:t,size:n,sizeType:r}),c="circle";typeof t=="string"&&(c=t);var u=()=>{var x=A$(c),b=KB().type(x).size(M$(n,r,c)),S=b();if(S!==null)return S},{className:f,cx:m,cy:h}=l,v=ia(l);return Qe(m)&&Qe(h)&&Qe(n)?j.createElement("path",sy({},v,{className:st("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:u()})):null};D5.registerSymbol=k$;var E5=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,D$=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{x1(a)&&(r[a]=(l=>n[a](n,l)))}),r},E$=(e,t,n)=>r=>(e(t,n,r),null),_$=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var l=e[a];x1(a)&&typeof l=="function"&&(r||(r={}),r[a]=E$(l,t,n))}),r};function YC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function O$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YC(Object(n),!0).forEach(function(r){T$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T$(e,t,n){return(t=P$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P$(e){var t=I$(e,"string");return typeof t=="symbol"?t:t+""}function I$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ui(e,t){var n=O$({},e),r=t,a=Object.keys(t),l=a.reduce((c,u)=>(c[u]===void 0&&r[u]!==void 0&&(c[u]=r[u]),c),n);return l}var ng={},ag={},VC;function R$(){return VC||(VC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let l=0;l<n.length;l++){const c=n[l],u=r(c,l,n);a.has(u)||a.set(u,c)}return Array.from(a.values())}e.uniqBy=t})(ag)),ag}var ig={},GC;function L$(){return GC||(GC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...a){return n.apply(this,a.slice(0,r))}}e.ary=t})(ig)),ig}var sg={},WC;function _5(){return WC||(WC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(sg)),sg}var lg={},og={},cg={},KC;function z$(){return KC||(KC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(cg)),cg}var QC;function S1(){return QC||(QC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z$();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(og)),og}var ug={},XC;function F$(){return XC||(XC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(ug)),ug}var ZC;function B$(){return ZC||(ZC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S1(),n=F$();function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(lg)),lg}var dg={},fg={},JC;function $$(){return JC||(JC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N1();function n(r){return function(a){return t.get(a,r)}}e.property=n})(fg)),fg}var mg={},pg={},hg={},vg={},eA;function O5(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(vg)),vg}var xg={},tA;function T5(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(xg)),xg}var gg={},rA;function P5(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(gg)),gg}var nA;function q$(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O5(),n=T5(),r=P5();function a(h,v,x){return typeof x!="function"?a(h,v,()=>{}):l(h,v,function b(S,w,y,C,M,A){const _=x(S,w,y,C,M,A);return _!==void 0?!!_:l(S,w,b,A)},new Map)}function l(h,v,x,b){if(v===h)return!0;switch(typeof v){case"object":return c(h,v,x,b);case"function":return Object.keys(v).length>0?l(h,{...v},x,b):r.isEqualsSameValueZero(h,v);default:return t.isObject(h)?typeof v=="string"?v==="":!0:r.isEqualsSameValueZero(h,v)}}function c(h,v,x,b){if(v==null)return!0;if(Array.isArray(v))return f(h,v,x,b);if(v instanceof Map)return u(h,v,x,b);if(v instanceof Set)return m(h,v,x,b);const S=Object.keys(v);if(h==null||n.isPrimitive(h))return S.length===0;if(S.length===0)return!0;if(b?.has(v))return b.get(v)===h;b?.set(v,h);try{for(let w=0;w<S.length;w++){const y=S[w];if(!n.isPrimitive(h)&&!(y in h)||v[y]===void 0&&h[y]!==void 0||v[y]===null&&h[y]!==null||!x(h[y],v[y],y,h,v,b))return!1}return!0}finally{b?.delete(v)}}function u(h,v,x,b){if(v.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,w]of v.entries()){const y=h.get(S);if(x(y,w,S,h,v,b)===!1)return!1}return!0}function f(h,v,x,b){if(v.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let w=0;w<v.length;w++){const y=v[w];let C=!1;for(let M=0;M<h.length;M++){if(S.has(M))continue;const A=h[M];let _=!1;if(x(A,y,w,h,v,b)&&(_=!0),_){S.add(M),C=!0;break}}if(!C)return!1}return!0}function m(h,v,x,b){return v.size===0?!0:h instanceof Set?f([...h],[...v],x,b):!1}e.isMatchWith=a,e.isSetMatch=m})(hg)),hg}var aA;function I5(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q$();function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})(pg)),pg}var bg={},yg={},wg={},iA;function H$(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(wg)),wg}var jg={},sA;function C1(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(jg)),jg}var Ng={},lA;function R5(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",l="[object Arguments]",c="[object Symbol]",u="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",v="[object Function]",x="[object ArrayBuffer]",b="[object Object]",S="[object Error]",w="[object DataView]",y="[object Uint8Array]",C="[object Uint8ClampedArray]",M="[object Uint16Array]",A="[object Uint32Array]",_="[object BigUint64Array]",E="[object Int8Array]",T="[object Int16Array]",P="[object Int32Array]",O="[object BigInt64Array]",L="[object Float32Array]",R="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=x,e.arrayTag=h,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=_,e.booleanTag=a,e.dataViewTag=w,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=L,e.float64ArrayTag=R,e.functionTag=v,e.int16ArrayTag=T,e.int32ArrayTag=P,e.int8ArrayTag=E,e.mapTag=f,e.numberTag=r,e.objectTag=b,e.regexpTag=t,e.setTag=m,e.stringTag=n,e.symbolTag=c,e.uint16ArrayTag=M,e.uint32ArrayTag=A,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=C})(Ng)),Ng}var Sg={},oA;function U$(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Sg)),Sg}var cA;function L5(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H$(),n=C1(),r=R5(),a=T5(),l=U$();function c(h,v){return u(h,void 0,h,new Map,v)}function u(h,v,x,b=new Map,S=void 0){const w=S?.(h,v,x,b);if(w!==void 0)return w;if(a.isPrimitive(h))return h;if(b.has(h))return b.get(h);if(Array.isArray(h)){const y=new Array(h.length);b.set(h,y);for(let C=0;C<h.length;C++)y[C]=u(h[C],C,x,b,S);return Object.hasOwn(h,"index")&&(y.index=h.index),Object.hasOwn(h,"input")&&(y.input=h.input),y}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const y=new RegExp(h.source,h.flags);return y.lastIndex=h.lastIndex,y}if(h instanceof Map){const y=new Map;b.set(h,y);for(const[C,M]of h)y.set(C,u(M,C,x,b,S));return y}if(h instanceof Set){const y=new Set;b.set(h,y);for(const C of h)y.add(u(C,void 0,x,b,S));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const y=new(Object.getPrototypeOf(h)).constructor(h.length);b.set(h,y);for(let C=0;C<h.length;C++)y[C]=u(h[C],C,x,b,S);return y}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const y=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return b.set(h,y),f(y,h,x,b,S),y}if(typeof File<"u"&&h instanceof File){const y=new File([h],h.name,{type:h.type});return b.set(h,y),f(y,h,x,b,S),y}if(typeof Blob<"u"&&h instanceof Blob){const y=new Blob([h],{type:h.type});return b.set(h,y),f(y,h,x,b,S),y}if(h instanceof Error){const y=new h.constructor;return b.set(h,y),y.message=h.message,y.name=h.name,y.stack=h.stack,y.cause=h.cause,f(y,h,x,b,S),y}if(h instanceof Boolean){const y=new Boolean(h.valueOf());return b.set(h,y),f(y,h,x,b,S),y}if(h instanceof Number){const y=new Number(h.valueOf());return b.set(h,y),f(y,h,x,b,S),y}if(h instanceof String){const y=new String(h.valueOf());return b.set(h,y),f(y,h,x,b,S),y}if(typeof h=="object"&&m(h)){const y=Object.create(Object.getPrototypeOf(h));return b.set(h,y),f(y,h,x,b,S),y}return h}function f(h,v,x=h,b,S){const w=[...Object.keys(v),...t.getSymbols(v)];for(let y=0;y<w.length;y++){const C=w[y],M=Object.getOwnPropertyDescriptor(h,C);(M==null||M.writable)&&(h[C]=u(v[C],C,x,b,S))}}function m(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=u,e.copyProperties=f})(yg)),yg}var uA;function Y$(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L5();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(bg)),bg}var dA;function V$(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I5(),n=Y$();function r(a){return a=n.cloneDeep(a),l=>t.isMatch(l,a)}e.matches=r})(mg)),mg}var Cg={},Ag={},Mg={},fA;function G$(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L5(),n=C1(),r=R5();function a(l,c){return t.cloneDeepWith(l,(u,f,m,h)=>{const v=c?.(u,f,m,h);if(v!==void 0)return v;if(typeof l=="object"){if(n.getTag(l)===r.objectTag&&typeof l.constructor!="function"){const x={};return h.set(l,x),t.copyProperties(x,l,m,h),x}switch(Object.prototype.toString.call(l)){case r.numberTag:case r.stringTag:case r.booleanTag:{const x=new l.constructor(l?.valueOf());return t.copyProperties(x,l),x}case r.argumentsTag:{const x={};return t.copyProperties(x,l),x.length=l.length,x[Symbol.iterator]=l[Symbol.iterator],x}default:return}}})}e.cloneDeepWith=a})(Mg)),Mg}var mA;function W$(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G$();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Ag)),Ag}var kg={},Dg={},pA;function z5(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Dg)),Dg}var Eg={},hA;function K$(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C1();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Eg)),Eg}var vA;function Q$(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A5(),n=z5(),r=K$(),a=j1();function l(c,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&c?.[u]==null?f=a.toPath(u):f=[u],f.length===0)return!1;let m=c;for(let h=0;h<f.length;h++){const v=f[h];if((m==null||!Object.hasOwn(m,v))&&!((Array.isArray(m)||r.isArguments(m))&&n.isIndex(v)&&v<m.length))return!1;m=m[v]}return!0}e.has=l})(kg)),kg}var xA;function X$(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I5(),n=w1(),r=W$(),a=N1(),l=Q$();function c(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(m){const h=a.get(m,u);return h===void 0?l.has(m,u):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c})(Cg)),Cg}var gA;function Z$(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_5(),n=$$(),r=V$(),a=X$();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}e.iteratee=l})(dg)),dg}var bA;function J$(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R$(),n=L$(),r=_5(),a=B$(),l=Z$();function c(u,f=r.identity){return a.isArrayLikeObject(u)?t.uniqBy(Array.from(u),n.ary(l.iteratee(f),1)):[]}e.uniqBy=c})(ng)),ng}var _g,yA;function eq(){return yA||(yA=1,_g=J$().uniqBy),_g}var tq=eq();const wA=si(tq);function rq(e,t,n){return t===!0?wA(e,n):typeof t=="function"?wA(e,t):e}var Og={exports:{}},Tg={},Pg={exports:{}},Ig={};var jA;function nq(){if(jA)return Ig;jA=1;var e=wc();function t(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,a=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function u(v,x){var b=x(),S=r({inst:{value:b,getSnapshot:x}}),w=S[0].inst,y=S[1];return l(function(){w.value=b,w.getSnapshot=x,f(w)&&y({inst:w})},[v,b,x]),a(function(){return f(w)&&y({inst:w}),v(function(){f(w)&&y({inst:w})})},[v]),c(b),b}function f(v){var x=v.getSnapshot;v=v.value;try{var b=x();return!n(v,b)}catch{return!0}}function m(v,x){return x()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return Ig.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Ig}var NA;function aq(){return NA||(NA=1,Pg.exports=nq()),Pg.exports}var SA;function iq(){if(SA)return Tg;SA=1;var e=wc(),t=aq();function n(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var r=typeof Object.is=="function"?Object.is:n,a=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,u=e.useMemo,f=e.useDebugValue;return Tg.useSyncExternalStoreWithSelector=function(m,h,v,x,b){var S=l(null);if(S.current===null){var w={hasValue:!1,value:null};S.current=w}else w=S.current;S=u(function(){function C(T){if(!M){if(M=!0,A=T,T=x(T),b!==void 0&&w.hasValue){var P=w.value;if(b(P,T))return _=P}return _=T}if(P=_,r(A,T))return P;var O=x(T);return b!==void 0&&b(P,O)?(A=T,P):(A=T,_=O)}var M=!1,A,_,E=v===void 0?null:v;return[function(){return C(h())},E===null?void 0:function(){return C(E())}]},[h,v,x,b]);var y=a(m,S[0],S[1]);return c(function(){w.hasValue=!0,w.value=y},[y]),f(y),y},Tg}var CA;function sq(){return CA||(CA=1,Og.exports=iq()),Og.exports}var lq=sq(),A1=j.createContext(null),oq=e=>e,kr=()=>{var e=j.useContext(A1);return e?e.store.dispatch:oq},tp=()=>{},cq=()=>tp,uq=(e,t)=>e===t;function nt(e){var t=j.useContext(A1),n=j.useMemo(()=>t?r=>{if(r!=null)return e(r)}:tp,[t,e]);return lq.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:cq,t?t.store.getState:tp,t?t.store.getState:tp,n,uq)}function dq(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function fq(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function mq(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var AA=e=>Array.isArray(e)?e:[e];function pq(e){const t=Array.isArray(e[0])?e[0]:e;return mq(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function hq(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var vq=class{constructor(e){this.value=e}deref(){return this.value}},xq=typeof WeakRef<"u"?WeakRef:vq,gq=0,MA=1;function pm(){return{s:gq,v:void 0,o:null,p:null}}function F5(e,t={}){let n=pm();const{resultEqualityCheck:r}=t;let a,l=0;function c(){let u=n;const{length:f}=arguments;for(let v=0,x=f;v<x;v++){const b=arguments[v];if(typeof b=="function"||typeof b=="object"&&b!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const w=S.get(b);w===void 0?(u=pm(),S.set(b,u)):u=w}else{let S=u.p;S===null&&(u.p=S=new Map);const w=S.get(b);w===void 0?(u=pm(),S.set(b,u)):u=w}}const m=u;let h;if(u.s===MA)h=u.v;else if(h=e.apply(null,arguments),l++,r){const v=a?.deref?.()??a;v!=null&&r(v,h)&&(h=v,l!==0&&l--),a=typeof h=="object"&&h!==null||typeof h=="function"?new xq(h):h}return m.s=MA,m.v=h,h}return c.clearCache=()=>{n=pm(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function bq(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let l=0,c=0,u,f={},m=a.pop();typeof m=="object"&&(f=m,m=a.pop()),dq(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...n,...f},{memoize:v,memoizeOptions:x=[],argsMemoize:b=F5,argsMemoizeOptions:S=[]}=h,w=AA(x),y=AA(S),C=pq(a),M=v(function(){return l++,m.apply(null,arguments)},...w),A=b(function(){c++;const E=hq(C,arguments);return u=M.apply(null,E),u},...y);return Object.assign(A,{resultFunc:m,memoizedResultFunc:M,dependencies:C,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:v,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var ne=bq(F5),yq=Object.assign((e,t=ne)=>{fq(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(l=>e[l]);return t(r,(...l)=>l.reduce((c,u,f)=>(c[n[f]]=u,c),{}))},{withTypes:()=>yq}),Rg={},Lg={},zg={},kA;function wq(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,l)=>{if(r!==a){const c=t(r),u=t(a);if(c===u&&c===0){if(r<a)return l==="desc"?1:-1;if(r>a)return l==="desc"?-1:1}return l==="desc"?u-c:c-u}return 0};e.compareValues=n})(zg)),zg}var Fg={},Bg={},DA;function B5(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Bg)),Bg}var EA;function jq(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B5(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(r.test(l)||!n.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=a})(Fg)),Fg}var _A;function Nq(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wq(),n=jq(),r=j1();function a(l,c,u,f){if(l==null)return[];u=f?void 0:u,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const m=(b,S)=>{let w=b;for(let y=0;y<S.length&&w!=null;++y)w=w[S[y]];return w},h=(b,S)=>S==null||b==null?S:typeof b=="object"&&"key"in b?Object.hasOwn(S,b.key)?S[b.key]:m(S,b.path):typeof b=="function"?b(S):Array.isArray(b)?m(S,b):typeof S=="object"?S[b]:S,v=c.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return l.map(b=>({original:b,criteria:v.map(S=>h(S,b))})).slice().sort((b,S)=>{for(let w=0;w<v.length;w++){const y=t.compareValues(b.criteria[w],S.criteria[w],u[w]);if(y!==0)return y}return 0}).map(b=>b.original)}e.orderBy=a})(Lg)),Lg}var $g={},OA;function Sq(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],l=Math.floor(r),c=(u,f)=>{for(let m=0;m<u.length;m++){const h=u[m];Array.isArray(h)&&f<l?c(h,f+1):a.push(h)}};return c(n,0),a}e.flatten=t})($g)),$g}var qg={},TA;function $5(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z5(),n=S1(),r=O5(),a=P5();function l(c,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?a.isEqualsSameValueZero(f[u],c):!1}e.isIterateeCall=l})(qg)),qg}var PA;function Cq(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nq(),n=Sq(),r=$5();function a(l,...c){const u=c.length;return u>1&&r.isIterateeCall(l,c[0],c[1])?c=[]:u>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,n.flatten(c),["asc"])}e.sortBy=a})(Rg)),Rg}var Hg,IA;function Aq(){return IA||(IA=1,Hg=Cq().sortBy),Hg}var Mq=Aq();const Ih=si(Mq);var q5=e=>e.legend.settings,kq=e=>e.legend.size,Dq=e=>e.legend.payload;ne([Dq,q5],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Ih(r,n):r});var hm=1;function Eq(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=j.useState({height:0,left:0,top:0,width:0}),r=j.useCallback(a=>{if(a!=null){var l=a.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>hm||Math.abs(c.left-t.left)>hm||Math.abs(c.top-t.top)>hm||Math.abs(c.width-t.width)>hm)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Hr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _q=typeof Symbol=="function"&&Symbol.observable||"@@observable",RA=_q,Ug=()=>Math.random().toString(36).substring(7).split("").join("."),Oq={INIT:`@@redux/INIT${Ug()}`,REPLACE:`@@redux/REPLACE${Ug()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ug()}`},Mp=Oq;function M1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function H5(e,t,n){if(typeof e!="function")throw new Error(Hr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Hr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Hr(1));return n(H5)(e,t)}let r=e,a=t,l=new Map,c=l,u=0,f=!1;function m(){c===l&&(c=new Map,l.forEach((y,C)=>{c.set(C,y)}))}function h(){if(f)throw new Error(Hr(3));return a}function v(y){if(typeof y!="function")throw new Error(Hr(4));if(f)throw new Error(Hr(5));let C=!0;m();const M=u++;return c.set(M,y),function(){if(C){if(f)throw new Error(Hr(6));C=!1,m(),c.delete(M),l=null}}}function x(y){if(!M1(y))throw new Error(Hr(7));if(typeof y.type>"u")throw new Error(Hr(8));if(typeof y.type!="string")throw new Error(Hr(17));if(f)throw new Error(Hr(9));try{f=!0,a=r(a,y)}finally{f=!1}return(l=c).forEach(M=>{M()}),y}function b(y){if(typeof y!="function")throw new Error(Hr(10));r=y,x({type:Mp.REPLACE})}function S(){const y=v;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Hr(11));function M(){const _=C;_.next&&_.next(h())}return M(),{unsubscribe:y(M)}},[RA](){return this}}}return x({type:Mp.INIT}),{dispatch:x,subscribe:v,getState:h,replaceReducer:b,[RA]:S}}function Tq(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Mp.INIT})>"u")throw new Error(Hr(12));if(typeof n(void 0,{type:Mp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Hr(13))})}function U5(e){const t=Object.keys(e),n={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(n[c]=e[c])}const r=Object.keys(n);let a;try{Tq(n)}catch(l){a=l}return function(c={},u){if(a)throw a;let f=!1;const m={};for(let h=0;h<r.length;h++){const v=r[h],x=n[v],b=c[v],S=x(b,u);if(typeof S>"u")throw u&&u.type,new Error(Hr(14));m[v]=S,f=f||S!==b}return f=f||r.length!==Object.keys(c).length,f?m:c}}function kp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Pq(...e){return t=>(n,r)=>{const a=t(n,r);let l=()=>{throw new Error(Hr(15))};const c={getState:a.getState,dispatch:(f,...m)=>l(f,...m)},u=e.map(f=>f(c));return l=kp(...u)(a.dispatch),{...a,dispatch:l}}}function Y5(e){return M1(e)&&"type"in e&&typeof e.type=="string"}var V5=Symbol.for("immer-nothing"),LA=Symbol.for("immer-draftable"),nn=Symbol.for("immer-state");function xa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Rn=Object,oc=Rn.getPrototypeOf,Dp="constructor",Rh="prototype",ly="configurable",Ep="enumerable",rp="writable",sd="value",Ui=e=>!!e&&!!e[nn];function Ca(e){return e?G5(e)||zh(e)||!!e[LA]||!!e[Dp]?.[LA]||Fh(e)||Bh(e):!1}var Iq=Rn[Rh][Dp].toString(),zA=new WeakMap;function G5(e){if(!e||!k1(e))return!1;const t=oc(e);if(t===null||t===Rn[Rh])return!0;const n=Rn.hasOwnProperty.call(t,Dp)&&t[Dp];if(n===Object)return!0;if(!Qo(n))return!1;let r=zA.get(n);return r===void 0&&(r=Function.toString.call(n),zA.set(n,r)),r===Iq}function Lh(e,t,n=!0){Ed(e)===0?(n?Reflect.ownKeys(e):Rn.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((r,a)=>t(a,r,e))}function Ed(e){const t=e[nn];return t?t.type_:zh(e)?1:Fh(e)?2:Bh(e)?3:0}var FA=(e,t,n=Ed(e))=>n===2?e.has(t):Rn[Rh].hasOwnProperty.call(e,t),oy=(e,t,n=Ed(e))=>n===2?e.get(t):e[t],_p=(e,t,n,r=Ed(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function Rq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var zh=Array.isArray,Fh=e=>e instanceof Map,Bh=e=>e instanceof Set,k1=e=>typeof e=="object",Qo=e=>typeof e=="function",Yg=e=>typeof e=="boolean";function Lq(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ti=e=>e.copy_||e.base_,D1=e=>e.modified_?e.copy_:e.base_;function cy(e,t){if(Fh(e))return new Map(e);if(Bh(e))return new Set(e);if(zh(e))return Array[Rh].slice.call(e);const n=G5(e);if(t===!0||t==="class_only"&&!n){const r=Rn.getOwnPropertyDescriptors(e);delete r[nn];let a=Reflect.ownKeys(r);for(let l=0;l<a.length;l++){const c=a[l],u=r[c];u[rp]===!1&&(u[rp]=!0,u[ly]=!0),(u.get||u.set)&&(r[c]={[ly]:!0,[rp]:!0,[Ep]:u[Ep],[sd]:e[c]})}return Rn.create(oc(e),r)}else{const r=oc(e);if(r!==null&&n)return{...e};const a=Rn.create(r);return Rn.assign(a,e)}}function E1(e,t=!1){return $h(e)||Ui(e)||!Ca(e)||(Ed(e)>1&&Rn.defineProperties(e,{set:vm,add:vm,clear:vm,delete:vm}),Rn.freeze(e),t&&Lh(e,(n,r)=>{E1(r,!0)},!1)),e}function zq(){xa(2)}var vm={[sd]:zq};function $h(e){return e===null||!k1(e)?!0:Rn.isFrozen(e)}var Op="MapSet",uy="Patches",BA="ArrayMethods",W5={};function Kl(e){const t=W5[e];return t||xa(0,e),t}var $A=e=>!!W5[e],ld,K5=()=>ld,Fq=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:$A(Op)?Kl(Op):void 0,arrayMethodsPlugin_:$A(BA)?Kl(BA):void 0});function qA(e,t){t&&(e.patchPlugin_=Kl(uy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function dy(e){fy(e),e.drafts_.forEach(Bq),e.drafts_=null}function fy(e){e===ld&&(ld=e.parent_)}var HA=e=>ld=Fq(ld,e);function Bq(e){const t=e[nn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function UA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[nn].modified_&&(dy(t),xa(4)),Ca(e)&&(e=YA(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(n[nn].base_,e,t)}else e=YA(t,n);return $q(t,e,!0),dy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==V5?e:void 0}function YA(e,t){if($h(t))return t;const n=t[nn];if(!n)return Tp(t,e.handledSet_,e);if(!qh(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);Z5(n,e)}return n.copy_}function $q(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&E1(t,n)}function Q5(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var qh=(e,t)=>e.scope_===t,qq=[];function X5(e,t,n,r){const a=Ti(e),l=e.type_;if(r!==void 0&&oy(a,r,l)===t){_p(a,r,n,l);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;Lh(a,(f,m)=>{if(Ui(m)){const h=u.get(m)||[];h.push(f),u.set(m,h)}})}const c=e.draftLocations_.get(t)??qq;for(const u of c)_p(a,u,n,l)}function Hq(e,t,n){e.callbacks_.push(function(a){const l=t;if(!l||!qh(l,a))return;a.mapSetPlugin_?.fixSetContents(l);const c=D1(l);X5(e,l.draft_??l,c,n),Z5(l,a)})}function Z5(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const a=r.getPath(e);a&&r.generatePatches_(e,a,t)}Q5(e)}}function Uq(e,t,n){const{scope_:r}=e;if(Ui(n)){const a=n[nn];qh(a,r)&&a.callbacks_.push(function(){np(e);const c=D1(a);X5(e,n,c,t)})}else Ca(n)&&e.callbacks_.push(function(){const l=Ti(e);e.type_===3?l.has(n)&&Tp(n,r.handledSet_,r):oy(l,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Tp(oy(e.copy_,t,e.type_),r.handledSet_,r)})}function Tp(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ui(e)||t.has(e)||!Ca(e)||$h(e)||(t.add(e),Lh(e,(r,a)=>{if(Ui(a)){const l=a[nn];if(qh(l,n)){const c=D1(l);_p(e,r,c,e.type_),Q5(l)}}else Ca(a)&&Tp(a,t,n)})),e}function Yq(e,t){const n=zh(e),r={type_:n?1:0,scope_:t?t.scope_:K5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,l=Pp;n&&(a=[r],l=od);const{revoke:c,proxy:u}=Proxy.revocable(a,l);return r.draft_=u,r.revoke_=c,[u,r]}var Pp={get(e,t){if(t===nn)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n?.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=Ti(e);if(!FA(a,t,e.type_))return Vq(e,a,t);const l=a[t];if(e.finalized_||!Ca(l)||r&&e.operationMethod&&n?.isMutatingArrayMethod(e.operationMethod)&&Lq(t))return l;if(l===Vg(e.base_,t)){np(e);const c=e.type_===1?+t:t,u=py(e.scope_,l,e,c);return e.copy_[c]=u}return l},has(e,t){return t in Ti(e)},ownKeys(e){return Reflect.ownKeys(Ti(e))},set(e,t,n){const r=J5(Ti(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=Vg(Ti(e),t),l=a?.[nn];if(l&&l.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(Rq(n,a)&&(n!==void 0||FA(e.base_,t,e.type_)))return!0;np(e),my(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Uq(e,t,n)),!0},deleteProperty(e,t){return np(e),Vg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),my(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ti(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[rp]:!0,[ly]:e.type_!==1||t!=="length",[Ep]:r[Ep],[sd]:n[t]}},defineProperty(){xa(11)},getPrototypeOf(e){return oc(e.base_)},setPrototypeOf(){xa(12)}},od={};for(let e in Pp){let t=Pp[e];od[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}od.deleteProperty=function(e,t){return od.set.call(this,e,t,void 0)};od.set=function(e,t,n){return Pp.set.call(this,e[0],t,n,e[0])};function Vg(e,t){const n=e[nn];return(n?Ti(n):e)[t]}function Vq(e,t,n){const r=J5(t,n);return r?sd in r?r[sd]:r.get?.call(e.draft_):void 0}function J5(e,t){if(!(t in e))return;let n=oc(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=oc(n)}}function my(e){e.modified_||(e.modified_=!0,e.parent_&&my(e.parent_))}function np(e){e.copy_||(e.assigned_=new Map,e.copy_=cy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Gq=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,a)=>{if(Qo(n)&&!Qo(r)){const c=r;r=n;const u=this;return function(m=c,...h){return u.produce(m,v=>r.call(this,v,...h))}}Qo(r)||xa(6),a!==void 0&&!Qo(a)&&xa(7);let l;if(Ca(n)){const c=HA(this),u=py(c,n,void 0);let f=!0;try{l=r(u),f=!1}finally{f?dy(c):fy(c)}return qA(c,a),UA(l,c)}else if(!n||!k1(n)){if(l=r(n),l===void 0&&(l=n),l===V5&&(l=void 0),this.autoFreeze_&&E1(l,!0),a){const c=[],u=[];Kl(uy).generateReplacementPatches_(n,l,{patches_:c,inversePatches_:u}),a(c,u)}return l}else xa(1,n)},this.produceWithPatches=(n,r)=>{if(Qo(n))return(u,...f)=>this.produceWithPatches(u,m=>n(m,...f));let a,l;return[this.produce(n,r,(u,f)=>{a=u,l=f}),a,l]},Yg(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Yg(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Yg(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ca(t)||xa(8),Ui(t)&&(t=wa(t));const n=HA(this),r=py(n,t,void 0);return r[nn].isManual_=!0,fy(n),r}finishDraft(t,n){const r=t&&t[nn];(!r||!r.isManual_)&&xa(9);const{scope_:a}=r;return qA(a,n),UA(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const l=n[r];if(l.path.length===0&&l.op==="replace"){t=l.value;break}}r>-1&&(n=n.slice(r+1));const a=Kl(uy).applyPatches_;return Ui(t)?a(t,n):this.produce(t,l=>a(l,n))}};function py(e,t,n,r){const[a,l]=Fh(t)?Kl(Op).proxyMap_(t,n):Bh(t)?Kl(Op).proxySet_(t,n):Yq(t,n);return(n?.scope_??K5()).drafts_.push(a),l.callbacks_=n?.callbacks_??[],l.key_=r,n&&r!==void 0?Hq(n,l,r):l.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(l);const{patchPlugin_:m}=f;l.modified_&&m&&m.generatePatches_(l,[],f)}),a}function wa(e){return Ui(e)||xa(10,e),eT(e)}function eT(e){if(!Ca(e)||$h(e))return e;const t=e[nn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=cy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=cy(e,!0);return Lh(n,(a,l)=>{_p(n,a,eT(l))},r),t&&(t.finalized_=!1),n}var Wq=new Gq,tT=Wq.produce;function rT(e){return({dispatch:n,getState:r})=>a=>l=>typeof l=="function"?l(n,r,e):a(l)}var Kq=rT(),Qq=rT,Xq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?kp:kp.apply(null,arguments)};function sa(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(zn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Y5(r)&&r.type===e,n}var nT=class Ku extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ku.prototype)}static get[Symbol.species](){return Ku}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ku(...t[0].concat(this)):new Ku(...t.concat(this))}};function VA(e){return Ca(e)?tT(e,()=>{}):e}function xm(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Zq(e){return typeof e=="boolean"}var Jq=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=t??{};let c=new nT;return n&&(Zq(n)?c.push(Kq):c.push(Qq(n.extraArgument))),c},aT="RTK_autoBatch",er=()=>e=>({payload:e,meta:{[aT]:!0}}),GA=e=>t=>{setTimeout(t,e)},iT=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,l=!1,c=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:GA(10):e.type==="callback"?e.queueNotification:GA(e.timeout),m=()=>{c=!1,l&&(l=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const v=()=>a&&h(),x=r.subscribe(v);return u.add(h),()=>{x(),u.delete(h)}},dispatch(h){try{return a=!h?.meta?.[aT],l=!a,l&&(c||(c=!0,f(m))),r.dispatch(h)}finally{a=!0}}})},eH=e=>function(n){const{autoBatch:r=!0}=n??{};let a=new nT(e);return r&&a.push(iT(typeof r=="object"?r:void 0)),a};function tH(e){const t=Jq(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(M1(n))u=U5(n);else throw new Error(zn(1));let f;typeof r=="function"?f=r(t):f=t();let m=kp;a&&(m=Xq({trace:!1,...typeof a=="object"&&a}));const h=Pq(...f),v=eH(h);let x=typeof c=="function"?c(v):v();const b=m(...x);return H5(u,l,b)}function sT(e){const t={},n=[];let r;const a={addCase(l,c){const u=typeof l=="string"?l:l.type;if(!u)throw new Error(zn(28));if(u in t)throw new Error(zn(29));return t[u]=c,a},addAsyncThunk(l,c){return c.pending&&(t[l.pending.type]=c.pending),c.rejected&&(t[l.rejected.type]=c.rejected),c.fulfilled&&(t[l.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:l.settled,reducer:c.settled}),a},addMatcher(l,c){return n.push({matcher:l,reducer:c}),a},addDefaultCase(l){return r=l,a}};return e(a),[t,n,r]}function rH(e){return typeof e=="function"}function nH(e,t){let[n,r,a]=sT(t),l;if(rH(e))l=()=>VA(e());else{const u=VA(e);l=()=>u}function c(u=l(),f){let m=[n[f.type],...r.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[a]),m.reduce((h,v)=>{if(v)if(Ui(h)){const b=v(h,f);return b===void 0?h:b}else{if(Ca(h))return tT(h,x=>v(x,f));{const x=v(h,f);if(x===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return h},u)}return c.getInitialState=l,c}var aH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",iH=(e=21)=>{let t="",n=e;for(;n--;)t+=aH[Math.random()*64|0];return t},sH=Symbol.for("rtk-slice-createasyncthunk");function lH(e,t){return`${e}/${t}`}function oH({creators:e}={}){const t=e?.asyncThunk?.[sH];return function(r){const{name:a,reducerPath:l=a}=r;if(!a)throw new Error(zn(11));const c=(typeof r.reducers=="function"?r.reducers(uH()):r.reducers)||{},u=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(A,_){const E=typeof A=="string"?A:A.type;if(!E)throw new Error(zn(12));if(E in f.sliceCaseReducersByType)throw new Error(zn(13));return f.sliceCaseReducersByType[E]=_,m},addMatcher(A,_){return f.sliceMatchers.push({matcher:A,reducer:_}),m},exposeAction(A,_){return f.actionCreators[A]=_,m},exposeCaseReducer(A,_){return f.sliceCaseReducersByName[A]=_,m}};u.forEach(A=>{const _=c[A],E={reducerName:A,type:lH(a,A),createNotation:typeof r.reducers=="function"};fH(_)?pH(E,_,m,t):dH(E,_,m)});function h(){const[A={},_=[],E=void 0]=typeof r.extraReducers=="function"?sT(r.extraReducers):[r.extraReducers],T={...A,...f.sliceCaseReducersByType};return nH(r.initialState,P=>{for(let O in T)P.addCase(O,T[O]);for(let O of f.sliceMatchers)P.addMatcher(O.matcher,O.reducer);for(let O of _)P.addMatcher(O.matcher,O.reducer);E&&P.addDefaultCase(E)})}const v=A=>A,x=new Map,b=new WeakMap;let S;function w(A,_){return S||(S=h()),S(A,_)}function y(){return S||(S=h()),S.getInitialState()}function C(A,_=!1){function E(P){let O=P[A];return typeof O>"u"&&_&&(O=xm(b,E,y)),O}function T(P=v){const O=xm(x,_,()=>new WeakMap);return xm(O,P,()=>{const L={};for(const[R,B]of Object.entries(r.selectors??{}))L[R]=cH(B,P,()=>xm(b,P,y),_);return L})}return{reducerPath:A,getSelectors:T,get selectors(){return T(E)},selectSlice:E}}const M={name:a,reducer:w,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:y,...C(l),injectInto(A,{reducerPath:_,...E}={}){const T=_??l;return A.inject({reducerPath:T,reducer:w},E),{...M,...C(T,!0)}}};return M}}function cH(e,t,n,r){function a(l,...c){let u=t(l);return typeof u>"u"&&r&&(u=n()),e(u,...c)}return a.unwrapped=e,a}var jn=oH();function uH(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function dH({type:e,reducerName:t,createNotation:n},r,a){let l,c;if("reducer"in r){if(n&&!mH(r))throw new Error(zn(17));l=r.reducer,c=r.prepare}else l=r;a.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?sa(e,c):sa(e))}function fH(e){return e._reducerDefinitionType==="asyncThunk"}function mH(e){return e._reducerDefinitionType==="reducerWithPrepare"}function pH({type:e,reducerName:t},n,r,a){if(!a)throw new Error(zn(18));const{payloadCreator:l,fulfilled:c,pending:u,rejected:f,settled:m,options:h}=n,v=a(e,l,h);r.exposeAction(t,v),c&&r.addCase(v.fulfilled,c),u&&r.addCase(v.pending,u),f&&r.addCase(v.rejected,f),m&&r.addMatcher(v.settled,m),r.exposeCaseReducer(t,{fulfilled:c||gm,pending:u||gm,rejected:f||gm,settled:m||gm})}function gm(){}var hH="task",lT="listener",oT="completed",_1="cancelled",vH=`task-${_1}`,xH=`task-${oT}`,hy=`${lT}-${_1}`,gH=`${lT}-${oT}`,Hh=class{constructor(e){this.code=e,this.message=`${hH} ${_1} (reason: ${e})`}name="TaskAbortError";message},O1=(e,t)=>{if(typeof e!="function")throw new TypeError(zn(32))},Ip=()=>{},cT=(e,t=Ip)=>(e.catch(t),e),uT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),$l=e=>{if(e.aborted)throw new Hh(e.reason)};function dT(e,t){let n=Ip;return new Promise((r,a)=>{const l=()=>a(new Hh(e.reason));if(e.aborted){l();return}n=uT(e,l),t.finally(()=>n()).then(r,a)}).finally(()=>{n=Ip})}var bH=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Hh?"cancelled":"rejected",error:n}}finally{t?.()}},Rp=e=>t=>cT(dT(e,t).then(n=>($l(e),n))),fT=e=>{const t=Rp(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:tc}=Object,WA={},Uh="listenerMiddleware",yH=(e,t)=>{const n=r=>uT(e,()=>r.abort(e.reason));return(r,a)=>{O1(r);const l=new AbortController;n(l);const c=bH(async()=>{$l(e),$l(l.signal);const u=await r({pause:Rp(l.signal),delay:fT(l.signal),signal:l.signal});return $l(l.signal),u},()=>l.abort(xH));return a?.autoJoin&&t.push(c.catch(Ip)),{result:Rp(e)(c),cancel(){l.abort(vH)}}}},wH=(e,t)=>{const n=async(r,a)=>{$l(t);let l=()=>{};const u=[new Promise((f,m)=>{let h=e({predicate:r,effect:(v,x)=>{x.unsubscribe(),f([v,x.getState(),x.getOriginalState()])}});l=()=>{h(),m()}})];a!=null&&u.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await dT(t,Promise.race(u));return $l(t),f}finally{l()}};return(r,a)=>cT(n(r,a))},mT=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:l}=e;if(t)a=sa(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(zn(21));return O1(l),{predicate:a,type:t,effect:l}},pT=tc(e=>{const{type:t,predicate:n,effect:r}=mT(e);return{id:iH(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(zn(22))}}},{withTypes:()=>pT}),KA=(e,t)=>{const{type:n,effect:r,predicate:a}=mT(t);return Array.from(e.values()).find(l=>(typeof n=="string"?l.type===n:l.predicate===a)&&l.effect===r)},vy=e=>{e.pending.forEach(t=>{t.abort(hy)})},jH=(e,t)=>()=>{for(const n of t.keys())vy(n);e.clear()},QA=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},hT=tc(sa(`${Uh}/add`),{withTypes:()=>hT}),NH=sa(`${Uh}/removeAll`),vT=tc(sa(`${Uh}/remove`),{withTypes:()=>vT}),SH=(...e)=>{console.error(`${Uh}/error`,...e)},_d=(e={})=>{const t=new Map,n=new Map,r=b=>{const S=n.get(b)??0;n.set(b,S+1)},a=b=>{const S=n.get(b)??1;S===1?n.delete(b):n.set(b,S-1)},{extra:l,onError:c=SH}=e;O1(c);const u=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),S=>{b.unsubscribe(),S?.cancelActive&&vy(b)}),f=b=>{const S=KA(t,b)??pT(b);return u(S)};tc(f,{withTypes:()=>f});const m=b=>{const S=KA(t,b);return S&&(S.unsubscribe(),b.cancelActive&&vy(S)),!!S};tc(m,{withTypes:()=>m});const h=async(b,S,w,y)=>{const C=new AbortController,M=wH(f,C.signal),A=[];try{b.pending.add(C),r(b),await Promise.resolve(b.effect(S,tc({},w,{getOriginalState:y,condition:(_,E)=>M(_,E).then(Boolean),take:M,delay:fT(C.signal),pause:Rp(C.signal),extra:l,signal:C.signal,fork:yH(C.signal,A),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((_,E,T)=>{_!==C&&(_.abort(hy),T.delete(_))})},cancel:()=>{C.abort(hy),b.pending.delete(C)},throwIfCancelled:()=>{$l(C.signal)}})))}catch(_){_ instanceof Hh||QA(c,_,{raisedBy:"effect"})}finally{await Promise.all(A),C.abort(gH),a(b),b.pending.delete(C)}},v=jH(t,n);return{middleware:b=>S=>w=>{if(!Y5(w))return S(w);if(hT.match(w))return f(w.payload);if(NH.match(w)){v();return}if(vT.match(w))return m(w.payload);let y=b.getState();const C=()=>{if(y===WA)throw new Error(zn(23));return y};let M;try{if(M=S(w),t.size>0){const A=b.getState(),_=Array.from(t.values());for(const E of _){let T=!1;try{T=E.predicate(w,A,y)}catch(P){T=!1,QA(c,P,{raisedBy:"predicate"})}T&&h(E,w,b,C)}}}finally{y=WA}return M},startListening:f,stopListening:m,clearListeners:v}};function zn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var CH={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},xT=jn({name:"chartLayout",initialState:CH,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,l;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(l=t.payload.left)!==null&&l!==void 0?l:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:AH,setLayout:MH,setChartSize:kH,setScale:DH}=xT.actions,EH=xT.reducer;function gT(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Bt(e){return Number.isFinite(e)}function Vs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function XA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Jo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(n),!0).forEach(function(r){_H(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _H(e,t,n){return(t=OH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OH(e){var t=TH(e,"string");return typeof t=="symbol"?t:t+""}function TH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ur(e,t,n){return Bn(e)||Bn(t)?n:Hi(t)?ad(e,t,n):typeof t=="function"?t(e):n}var PH=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:l,verticalAlign:c,layout:u}=t;if((u==="vertical"||u==="horizontal"&&c==="middle")&&l!=="center"&&Qe(e[l]))return Jo(Jo({},e),{},{[l]:e[l]+(r||0)});if((u==="horizontal"||u==="vertical"&&l==="center")&&c!=="middle"&&Qe(e[c]))return Jo(Jo({},e),{},{[c]:e[c]+(a||0)})}return e},Xs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",IH=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var l=0,c=0,u=0;u<n;++u){var f=e[u],m=f?.[a];if(m!=null){var h=m[1],v=m[0],x=qi(h)?v:h;x>=0?(m[0]=l,l+=x,m[1]=l):(m[0]=c,c+=x,m[1]=c)}}}},RH=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var l=0,c=0;c<n;++c){var u=e[c],f=u?.[a];if(f!=null){var m=qi(f[1])?f[0]:f[1];m>=0?(f[0]=l,l+=m,f[1]=l):(f[0]=0,f[1]=0)}}}},LH={sign:IH,expand:c$,none:Gl,silhouette:u$,wiggle:d$,positive:RH},zH=(e,t,n)=>{var r,a=(r=LH[n])!==null&&r!==void 0?r:Gl,l=o$().keys(t).value((u,f)=>Number(ur(u,f,0))).order(iy).offset(a),c=l(e);return c.forEach((u,f)=>{u.forEach((m,h)=>{var v=ur(e[h],t[f],0);Array.isArray(v)&&v.length===2&&Qe(v[0])&&Qe(v[1])&&(m[0]=v[0],m[1]=v[1])})}),c},FH=e=>{var t=e.flat(2).filter(Qe);return[Math.min(...t),Math.max(...t)]},BH=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],$H=(e,t,n)=>{if(e!=null)return BH(Object.keys(e).reduce((r,a)=>{var l=e[a];if(!l)return r;var{stackedData:c}=l,u=c.reduce((f,m)=>{var h=gT(m,t,n),v=FH(h);return!Bt(v[0])||!Bt(v[1])?f:[Math.min(f[0],v[0]),Math.max(f[1],v[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},ZA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eM=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();return r}if(e&&t&&t.length>=2){for(var a=Ih(t,h=>h.coordinate),l=1/0,c=1,u=a.length;c<u;c++){var f=a[c],m=a[c-1];l=Math.min((f?.coordinate||0)-(m?.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0};function tM(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:l}=e;return Jo(Jo({},t),{},{dataKey:n,payload:r,value:a,name:l})}function bT(e,t){if(e)return String(e);if(typeof t=="string")return t}var qH=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},HH=(e,t)=>t==="centric"?e.angle:e.radius,Zi=e=>e.layout.width,Ji=e=>e.layout.height,UH=e=>e.layout.scale,yT=e=>e.layout.margin,Yh=ne(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Vh=ne(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),wT="data-recharts-item-index",jT="data-recharts-item-id",Od=60;function rM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rM(Object(n),!0).forEach(function(r){YH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YH(e,t,n){return(t=VH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VH(e){var t=GH(e,"string");return typeof t=="symbol"?t:t+""}function GH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WH=e=>e.brush.height;function KH(e){var t=Vh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Od;return n+a}return n},0)}function QH(e){var t=Vh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Od;return n+a}return n},0)}function XH(e){var t=Yh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function ZH(e){var t=Yh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Ir=ne([Zi,Ji,yT,WH,KH,QH,XH,ZH,q5,kq],(e,t,n,r,a,l,c,u,f,m)=>{var h={left:(n.left||0)+a,right:(n.right||0)+l},v={top:(n.top||0)+c,bottom:(n.bottom||0)+u},x=bm(bm({},v),h),b=x.bottom;x.bottom+=r,x=PH(x,f,m);var S=e-x.left-x.right,w=t-x.top-x.bottom;return bm(bm({brushBottom:b},x),{},{width:Math.max(S,0),height:Math.max(w,0)})}),JH=ne(Ir,e=>({x:e.left,y:e.top,width:e.width,height:e.height}));ne(Zi,Ji,(e,t)=>({x:0,y:0,width:e,height:t}));var e9=j.createContext(null),Zs=()=>j.useContext(e9)!=null,Gh=e=>e.brush,Wh=ne([Gh,Ir,yT],(e,t,n)=>({height:e.height,x:Qe(e.x)?e.x:t.left,y:Qe(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Qe(e.width)?e.width:t.width})),Gg={},Wg={},Kg={},nM;function t9(){return nM||(nM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:l}={}){let c,u=null;const f=l!=null&&l.includes("leading"),m=l==null||l.includes("trailing"),h=()=>{u!==null&&(n.apply(c,u),c=void 0,u=null)},v=()=>{m&&h(),w()};let x=null;const b=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,v()},r)},S=()=>{x!==null&&(clearTimeout(x),x=null)},w=()=>{S(),c=void 0,u=null},y=()=>{h()},C=function(...M){if(a?.aborted)return;c=this,u=M;const A=x==null;b(),f&&A&&h()};return C.schedule=b,C.cancel=w,C.flush=y,a?.addEventListener("abort",w,{once:!0}),C}e.debounce=t})(Kg)),Kg}var aM;function r9(){return aM||(aM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t9();function n(r,a=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:u=!0,maxWait:f}=l,m=Array(2);c&&(m[0]="leading"),u&&(m[1]="trailing");let h,v=null;const x=t.debounce(function(...w){h=r.apply(this,w),v=null},a,{edges:m}),b=function(...w){return f!=null&&(v===null&&(v=Date.now()),Date.now()-v>=f)?(h=r.apply(this,w),v=Date.now(),x.cancel(),x.schedule(),h):(x.apply(this,w),h)},S=()=>(x.flush(),h);return b.cancel=x.cancel,b.flush=S,b}e.debounce=n})(Wg)),Wg}var iM;function n9(){return iM||(iM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r9();function n(r,a=0,l={}){const{leading:c=!0,trailing:u=!0}=l;return t.debounce(r,a,{leading:c,maxWait:a,trailing:u})}e.throttle=n})(Gg)),Gg}var Qg,sM;function a9(){return sM||(sM=1,Qg=n9().throttle),Qg}var i9=a9();const s9=si(i9);var lM=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),l=2;l<r;l++)a[l-2]=arguments[l];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(n.replace(/%s/g,()=>a[c++]))}},Ka={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},NT=(e,t,n)=>{var{width:r=Ka.width,height:a=Ka.height,aspect:l,maxHeight:c}=n,u=Wl(r)?e:Number(r),f=Wl(a)?t:Number(a);return l&&l>0&&(u?f=u/l:f&&(u=f*l),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:u,calculatedHeight:f}},l9={width:0,height:0,overflow:"visible"},o9={width:0,overflowX:"visible"},c9={height:0,overflowY:"visible"},u9={},d9=e=>{var{width:t,height:n}=e,r=Wl(t),a=Wl(n);return r&&a?l9:r?o9:a?c9:u9};function f9(e){var{width:t,height:n,aspect:r}=e,a=t,l=n;return a===void 0&&l===void 0?(a=Ka.width,l=Ka.height):a===void 0?a=r&&r>0?void 0:Ka.width:l===void 0&&(l=r&&r>0?void 0:Ka.height),{width:a,height:l}}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xy.apply(null,arguments)}function oM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oM(Object(n),!0).forEach(function(r){m9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m9(e,t,n){return(t=p9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p9(e){var t=h9(e,"string");return typeof t=="symbol"?t:t+""}function h9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ST=j.createContext(Ka.initialDimension);function v9(e){return Vs(e.width)&&Vs(e.height)}function CT(e){var{children:t,width:n,height:r}=e,a=j.useMemo(()=>({width:n,height:r}),[n,r]);return v9(a)?j.createElement(ST.Provider,{value:a},t):null}var T1=()=>j.useContext(ST),x9=j.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=Ka.initialDimension,width:a,height:l,minWidth:c=Ka.minWidth,minHeight:u,maxHeight:f,children:m,debounce:h=Ka.debounce,id:v,className:x,onResize:b,style:S={}}=e,w=j.useRef(null),y=j.useRef();y.current=b,j.useImperativeHandle(t,()=>w.current);var[C,M]=j.useState({containerWidth:r.width,containerHeight:r.height}),A=j.useCallback((O,L)=>{M(R=>{var B=Math.round(O),D=Math.round(L);return R.containerWidth===B&&R.containerHeight===D?R:{containerWidth:B,containerHeight:D}})},[]);j.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Dd;var O=D=>{var K,X=D[0];if(X!=null){var{width:Z,height:$}=X.contentRect;A(Z,$),(K=y.current)===null||K===void 0||K.call(y,Z,$)}};h>0&&(O=s9(O,h,{trailing:!0,leading:!1}));var L=new ResizeObserver(O),{width:R,height:B}=w.current.getBoundingClientRect();return A(R,B),L.observe(w.current),()=>{L.disconnect()}},[A,h]);var{containerWidth:_,containerHeight:E}=C;lM(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:T,calculatedHeight:P}=NT(_,E,{width:a,height:l,aspect:n,maxHeight:f});return lM(T!=null&&T>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,P,a,l,c,u,n),j.createElement("div",{id:v?"".concat(v):void 0,className:st("recharts-responsive-container",x),style:cM(cM({},S),{},{width:a,height:l,minWidth:c,minHeight:u,maxHeight:f}),ref:w},j.createElement("div",{style:d9({width:a,height:l})},j.createElement(CT,{width:T,height:P},m)))}),AT=j.forwardRef((e,t)=>{var n=T1();if(Vs(n.width)&&Vs(n.height))return e.children;var{width:r,height:a}=f9({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:l,calculatedHeight:c}=NT(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Qe(l)&&Qe(c)?j.createElement(CT,{width:l,height:c},e.children):j.createElement(x9,xy({},e,{width:r,height:a,ref:t}))});function P1(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Kh=()=>{var e,t=Zs(),n=nt(JH),r=nt(Wh),a=(e=nt(Gh))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},g9={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},b9=()=>{var e;return(e=nt(Ir))!==null&&e!==void 0?e:g9},y9=()=>nt(Zi),w9=()=>nt(Ji),nr=e=>e.layout.layoutType,Qh=()=>nt(nr),MT=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},j9=()=>{var e=Qh();return e!==void 0},Td=e=>{var t=kr(),n=Zs(),{width:r,height:a}=e,l=T1(),c=r,u=a;return l&&(c=l.width>0?l.width:r,u=l.height>0?l.height:a),j.useEffect(()=>{!n&&Vs(c)&&Vs(u)&&t(kH({width:c,height:u}))},[t,n,c,u]),null},kT=Symbol.for("immer-nothing"),uM=Symbol.for("immer-draftable"),$n=Symbol.for("immer-state");function ga(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cd=Object.getPrototypeOf;function cc(e){return!!e&&!!e[$n]}function Ql(e){return e?DT(e)||Array.isArray(e)||!!e[uM]||!!e.constructor?.[uM]||Pd(e)||Zh(e):!1}var N9=Object.prototype.constructor.toString(),dM=new WeakMap;function DT(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=dM.get(n);return r===void 0&&(r=Function.toString.call(n),dM.set(n,r)),r===N9}function Lp(e,t,n=!0){Xh(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((r,a)=>t(a,r,e))}function Xh(e){const t=e[$n];return t?t.type_:Array.isArray(e)?1:Pd(e)?2:Zh(e)?3:0}function gy(e,t){return Xh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ET(e,t,n){const r=Xh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function S9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Pd(e){return e instanceof Map}function Zh(e){return e instanceof Set}function Dl(e){return e.copy_||e.base_}function by(e,t){if(Pd(e))return new Map(e);if(Zh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=DT(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[$n];let a=Reflect.ownKeys(r);for(let l=0;l<a.length;l++){const c=a[l],u=r[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(cd(e),r)}else{const r=cd(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function I1(e,t=!1){return Jh(e)||cc(e)||!Ql(e)||(Xh(e)>1&&Object.defineProperties(e,{set:ym,add:ym,clear:ym,delete:ym}),Object.freeze(e),t&&Object.values(e).forEach(n=>I1(n,!0))),e}function C9(){ga(2)}var ym={value:C9};function Jh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var A9={};function Xl(e){const t=A9[e];return t||ga(0,e),t}var ud;function _T(){return ud}function M9(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fM(e,t){t&&(Xl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function yy(e){wy(e),e.drafts_.forEach(k9),e.drafts_=null}function wy(e){e===ud&&(ud=e.parent_)}function mM(e){return ud=M9(ud,e)}function k9(e){const t=e[$n];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function pM(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[$n].modified_&&(yy(t),ga(4)),Ql(e)&&(e=zp(t,e),t.parent_||Fp(t,e)),t.patches_&&Xl("Patches").generateReplacementPatches_(n[$n].base_,e,t.patches_,t.inversePatches_)):e=zp(t,n,[]),yy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==kT?e:void 0}function zp(e,t,n){if(Jh(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[$n];if(!a)return Lp(t,(l,c)=>hM(e,a,t,l,c,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return Fp(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const l=a.copy_;let c=l,u=!1;a.type_===3&&(c=new Set(l),l.clear(),u=!0),Lp(c,(f,m)=>hM(e,a,l,f,m,n,u),r),Fp(e,l,!1),n&&e.patches_&&Xl("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function hM(e,t,n,r,a,l,c){if(a==null||typeof a!="object"&&!c)return;const u=Jh(a);if(!(u&&!c)){if(cc(a)){const f=l&&t&&t.type_!==3&&!gy(t.assigned_,r)?l.concat(r):void 0,m=zp(e,a,f);if(ET(n,r,m),cc(m))e.canAutoFreeze_=!1;else return}else c&&n.add(a);if(Ql(a)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&u)return;zp(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Pd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Fp(e,a)}}}function Fp(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&I1(t,n)}function D9(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:_T(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,l=R1;n&&(a=[r],l=dd);const{revoke:c,proxy:u}=Proxy.revocable(a,l);return r.draft_=u,r.revoke_=c,u}var R1={get(e,t){if(t===$n)return e;const n=Dl(e);if(!gy(n,t))return E9(e,n,t);const r=n[t];return e.finalized_||!Ql(r)?r:r===Xg(e.base_,t)?(Zg(e),e.copy_[t]=Ny(r,e)):r},has(e,t){return t in Dl(e)},ownKeys(e){return Reflect.ownKeys(Dl(e))},set(e,t,n){const r=OT(Dl(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=Xg(Dl(e),t),l=a?.[$n];if(l&&l.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(S9(n,a)&&(n!==void 0||gy(e.base_,t)))return!0;Zg(e),jy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Xg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Zg(e),jy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Dl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ga(11)},getPrototypeOf(e){return cd(e.base_)},setPrototypeOf(){ga(12)}},dd={};Lp(R1,(e,t)=>{dd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});dd.deleteProperty=function(e,t){return dd.set.call(this,e,t,void 0)};dd.set=function(e,t,n){return R1.set.call(this,e[0],t,n,e[0])};function Xg(e,t){const n=e[$n];return(n?Dl(n):e)[t]}function E9(e,t,n){const r=OT(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function OT(e,t){if(!(t in e))return;let n=cd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=cd(n)}}function jy(e){e.modified_||(e.modified_=!0,e.parent_&&jy(e.parent_))}function Zg(e){e.copy_||(e.copy_=by(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var _9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const l=n;n=t;const c=this;return function(f=l,...m){return c.produce(f,h=>n.call(this,h,...m))}}typeof n!="function"&&ga(6),r!==void 0&&typeof r!="function"&&ga(7);let a;if(Ql(t)){const l=mM(this),c=Ny(t,void 0);let u=!0;try{a=n(c),u=!1}finally{u?yy(l):wy(l)}return fM(l,r),pM(a,l)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===kT&&(a=void 0),this.autoFreeze_&&I1(a,!0),r){const l=[],c=[];Xl("Patches").generateReplacementPatches_(t,a,l,c),r(l,c)}return a}else ga(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,f=>t(f,...u));let r,a;return[this.produce(t,n,(c,u)=>{r=c,a=u}),r,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ql(e)||ga(8),cc(e)&&(e=O9(e));const t=mM(this),n=Ny(e,void 0);return n[$n].isManual_=!0,wy(t),n}finishDraft(e,t){const n=e&&e[$n];(!n||!n.isManual_)&&ga(9);const{scope_:r}=n;return fM(r,t),pM(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=Xl("Patches").applyPatches_;return cc(e)?r(e,t):this.produce(e,a=>r(a,t))}};function Ny(e,t){const n=Pd(e)?Xl("MapSet").proxyMap_(e,t):Zh(e)?Xl("MapSet").proxySet_(e,t):D9(e,t);return(t?t.scope_:_T()).drafts_.push(n),n}function O9(e){return cc(e)||ga(10,e),TT(e)}function TT(e){if(!Ql(e)||Jh(e))return e;const t=e[$n];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=by(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=by(e,!0);return Lp(n,(a,l)=>{ET(n,a,TT(l))},r),t&&(t.finalized_=!1),n}var T9=new _9;T9.produce;var P9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},PT=jn({name:"legend",initialState:P9,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:er()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,a=wa(e).payload.indexOf(n);a>-1&&(e.payload[a]=r)},prepare:er()},removeLegendPayload:{reducer(e,t){var n=wa(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:er()}}}),{setLegendSize:zle,setLegendSettings:Fle,addLegendPayload:I9,replaceLegendPayload:R9,removeLegendPayload:L9}=PT.actions,z9=PT.reducer;function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sy.apply(null,arguments)}function vM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ou(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vM(Object(n),!0).forEach(function(r){F9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F9(e,t,n){return(t=B9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B9(e){var t=$9(e,"string");return typeof t=="symbol"?t:t+""}function $9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q9(e){return Array.isArray(e)&&Hi(e[0])&&Hi(e[1])?e.join(" ~ "):e}var $o={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},H9=e=>{var{separator:t=$o.separator,contentStyle:n,itemStyle:r,labelStyle:a=$o.labelStyle,payload:l,formatter:c,itemSorter:u,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:v,accessibilityLayer:x=$o.accessibilityLayer}=e,b=()=>{if(l&&l.length){var E={padding:0,margin:0},T=(u?Ih(l,u):l).map((P,O)=>{if(P.type==="none")return null;var L=P.formatter||c||q9,{value:R,name:B}=P,D=R,K=B;if(L){var X=L(R,B,P,O,l);if(Array.isArray(X))[D,K]=X;else if(X!=null)D=X;else return null}var Z=Ou(Ou({},$o.itemStyle),{},{color:P.color||$o.itemStyle.color},r);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:Z},Hi(K)?j.createElement("span",{className:"recharts-tooltip-item-name"},K):null,Hi(K)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},D),j.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:E},T)}return null},S=Ou(Ou({},$o.contentStyle),n),w=Ou({margin:0},a),y=!Bn(h),C=y?h:"",M=st("recharts-default-tooltip",f),A=st("recharts-tooltip-label",m);y&&v&&l!==void 0&&l!==null&&(C=v(h,l));var _=x?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",Sy({className:M,style:S},_),j.createElement("p",{className:A,style:w},j.isValidElement(C)?C:"".concat(C)),b())},Tu="recharts-tooltip-wrapper",U9={visibility:"hidden"};function Y9(e){var{coordinate:t,translateX:n,translateY:r}=e;return st(Tu,{["".concat(Tu,"-right")]:Qe(n)&&t&&Qe(t.x)&&n>=t.x,["".concat(Tu,"-left")]:Qe(n)&&t&&Qe(t.x)&&n<t.x,["".concat(Tu,"-bottom")]:Qe(r)&&t&&Qe(t.y)&&r>=t.y,["".concat(Tu,"-top")]:Qe(r)&&t&&Qe(t.y)&&r<t.y})}function xM(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:a,position:l,reverseDirection:c,tooltipDimension:u,viewBox:f,viewBoxDimension:m}=e;if(l&&Qe(l[r]))return l[r];var h=n[r]-u-(a>0?a:0),v=n[r]+a;if(t[r])return c[r]?h:v;var x=f[r];if(x==null)return 0;if(c[r]){var b=h,S=x;return b<S?Math.max(v,x):Math.max(h,x)}if(m==null)return 0;var w=v+u,y=x+m;return w>y?Math.max(h,x):Math.max(v,x)}function V9(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function G9(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:a,position:l,reverseDirection:c,tooltipBox:u,useTranslate3d:f,viewBox:m}=e,h,v,x;return u.height>0&&u.width>0&&n?(v=xM({allowEscapeViewBox:t,coordinate:n,key:"x",offset:a,position:l,reverseDirection:c,tooltipDimension:u.width,viewBox:m,viewBoxDimension:m.width}),x=xM({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:l,reverseDirection:c,tooltipDimension:u.height,viewBox:m,viewBoxDimension:m.height}),h=V9({translateX:v,translateY:x,useTranslate3d:f})):h=U9,{cssProperties:h,cssClasses:Y9({translateX:v,translateY:x,coordinate:n})}}function gM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gM(Object(n),!0).forEach(function(r){Cy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cy(e,t,n){return(t=W9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W9(e){var t=K9(e,"string");return typeof t=="symbol"?t:t+""}function K9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Q9 extends j.PureComponent{constructor(){super(...arguments),Cy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Cy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:l,coordinate:c,hasPayload:u,isAnimationActive:f,offset:m,position:h,reverseDirection:v,useTranslate3d:x,viewBox:b,wrapperStyle:S,lastBoundingBox:w,innerRef:y,hasPortalFromProps:C}=this.props,M=typeof m=="number"?m:m.x,A=typeof m=="number"?m:m.y,{cssClasses:_,cssProperties:E}=G9({allowEscapeViewBox:n,coordinate:c,offsetLeft:M,offsetTop:A,position:h,reverseDirection:v,tooltipBox:{height:w.height,width:w.width},useTranslate3d:x,viewBox:b}),T=C?{}:wm(wm({transition:f&&t?"transform ".concat(r,"ms ").concat(a):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),P=wm(wm({},T),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:P,ref:y},l)}}var IT=()=>{var e;return(e=nt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ay.apply(null,arguments)}function bM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bM(Object(n),!0).forEach(function(r){X9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X9(e,t,n){return(t=Z9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z9(e){var t=J9(e,"string");return typeof t=="symbol"?t:t+""}function J9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wM={curveBasisClosed:XB,curveBasisOpen:ZB,curveBasis:QB,curveBumpX:RB,curveBumpY:LB,curveLinearClosed:JB,curveLinear:Th,curveMonotoneX:e$,curveMonotoneY:t$,curveNatural:r$,curveStep:n$,curveStepAfter:i$,curveStepBefore:a$},Bp=e=>Bt(e.x)&&Bt(e.y),jM=e=>e.base!=null&&Bp(e.base)&&Bp(e),Pu=e=>e.x,Iu=e=>e.y,e7=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(kd(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=wM["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return wM[n]||Th},NM={connectNulls:!1,type:"linear"},t7=e=>{var{type:t=NM.type,points:n=[],baseLine:r,layout:a,connectNulls:l=NM.connectNulls}=e,c=e7(t,a),u=l?n.filter(Bp):n;if(Array.isArray(r)){var f,m=n.map((S,w)=>yM(yM({},S),{},{base:r[w]}));a==="vertical"?f=mm().y(Iu).x1(Pu).x0(S=>S.base.x):f=mm().x(Pu).y1(Iu).y0(S=>S.base.y);var h=f.defined(jM).curve(c),v=l?m.filter(jM):m;return h(v)}var x;a==="vertical"&&Qe(r)?x=mm().y(Iu).x1(Pu).x0(r):Qe(r)?x=mm().x(Pu).y1(Iu).y0(r):x=h5().x(Pu).y(Iu);var b=x.defined(Bp).curve(c);return b(u)},L1=e=>{var{className:t,points:n,path:r,pathRef:a}=e,l=Qh();if((!n||!n.length)&&!r)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||l,connectNulls:e.connectNulls},u=n&&n.length?t7(c):r;return j.createElement("path",Ay({},lc(e),D$(e),{className:st("recharts-curve",t),d:u===null?void 0:u,ref:a}))},r7=["x","y","top","left","width","height","className"];function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},My.apply(null,arguments)}function SM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function n7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(n),!0).forEach(function(r){a7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a7(e,t,n){return(t=i7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i7(e){var t=s7(e,"string");return typeof t=="symbol"?t:t+""}function s7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l7(e,t){if(e==null)return{};var n,r,a=o7(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function o7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var c7=(e,t,n,r,a,l)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(l,",").concat(t,"h").concat(n),u7=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:l=0,height:c=0,className:u}=e,f=l7(e,r7),m=n7({x:t,y:n,top:r,left:a,width:l,height:c},f);return!Qe(t)||!Qe(n)||!Qe(l)||!Qe(c)||!Qe(r)||!Qe(a)?null:j.createElement("path",My({},ia(m),{className:st("recharts-cross",u),d:c7(t,n,l,c,r,a)}))};function d7(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function CM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function AM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CM(Object(n),!0).forEach(function(r){f7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f7(e,t,n){return(t=m7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m7(e){var t=p7(e,"string");return typeof t=="symbol"?t:t+""}function p7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h7=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),RT=(e,t,n)=>e.map(r=>"".concat(h7(r)," ").concat(t,"ms ").concat(n)).join(","),v7=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),fd=(e,t)=>Object.keys(t).reduce((n,r)=>AM(AM({},n),{},{[r]:e(r,t[r])}),{});function MM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(n),!0).forEach(function(r){x7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x7(e,t,n){return(t=g7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g7(e){var t=b7(e,"string");return typeof t=="symbol"?t:t+""}function b7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $p=(e,t,n)=>e+(t-e)*n,ky=e=>{var{from:t,to:n}=e;return t!==n},LT=(e,t,n)=>{var r=fd((a,l)=>{if(ky(l)){var[c,u]=e(l.from,l.to,l.velocity);return Mr(Mr({},l),{},{from:c,velocity:u})}return l},t);return n<1?fd((a,l)=>ky(l)&&r[a]!=null?Mr(Mr({},l),{},{velocity:$p(l.velocity,r[a].velocity,n),from:$p(l.from,r[a].from,n)}):l,t):LT(e,r,n-1)};function y7(e,t,n,r,a,l){var c,u=r.reduce((x,b)=>Mr(Mr({},x),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),f=()=>fd((x,b)=>b.from,u),m=()=>!Object.values(u).filter(ky).length,h=null,v=x=>{c||(c=x);var b=x-c,S=b/n.dt;u=LT(n,u,S),a(Mr(Mr(Mr({},e),t),f())),c=x,m()||(h=l.setTimeout(v))};return()=>(h=l.setTimeout(v),()=>{var x;(x=h)===null||x===void 0||x()})}function w7(e,t,n,r,a,l,c){var u=null,f=a.reduce((v,x)=>{var b=e[x],S=t[x];return b==null||S==null?v:Mr(Mr({},v),{},{[x]:[b,S]})},{}),m,h=v=>{m||(m=v);var x=(v-m)/r,b=fd((w,y)=>$p(...y,n(x)),f);if(l(Mr(Mr(Mr({},e),t),b)),x<1)u=c.setTimeout(h);else{var S=fd((w,y)=>$p(...y,n(1)),f);l(Mr(Mr(Mr({},e),t),S))}};return()=>(u=c.setTimeout(h),()=>{var v;(v=u)===null||v===void 0||v()})}const j7=(e,t,n,r,a,l)=>{var c=v7(e,t);return n==null?()=>(a(Mr(Mr({},e),t)),()=>{}):n.isStepper===!0?y7(e,t,n,c,a,l):w7(e,t,n,r,c,a,l)};var qp=1e-4,zT=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],FT=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),kM=(e,t)=>n=>{var r=zT(e,t);return FT(r,n)},N7=(e,t)=>n=>{var r=zT(e,t),a=[...r.map((l,c)=>l*c).slice(1),0];return FT(a,n)},S7=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var a=r.map(l=>parseFloat(l));return[a[0],a[1],a[2],a[3]]},C7=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=S7(n[0]);if(a)return a}}return n.length===4?n:[0,0,1,1]},A7=(e,t,n,r)=>{var a=kM(e,n),l=kM(t,r),c=N7(e,n),u=m=>m>1?1:m<0?0:m,f=m=>{for(var h=m>1?1:m,v=h,x=0;x<8;++x){var b=a(v)-h,S=c(v);if(Math.abs(b-h)<qp||S<qp)return l(v);v=u(v-b/S)}return l(v)};return f.isStepper=!1,f},DM=function(){return A7(...C7(...arguments))},M7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=t,l=(c,u,f)=>{var m=-(c-u)*n,h=f*r,v=f+(m-h)*a/1e3,x=f*a/1e3+c;return Math.abs(x-u)<qp&&Math.abs(v)<qp?[u,0]:[x,v]};return l.isStepper=!0,l.dt=a,l},k7=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return DM(e);case"spring":return M7();default:if(e.split("(")[0]==="cubic-bezier")return DM(e)}return typeof e=="function"?e:null};function D7(e){var t,n=()=>null,r=!1,a=null,l=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var u=c,[f,...m]=u;if(typeof f=="number"){a=e.setTimeout(l.bind(null,m),f);return}l(f),a=e.setTimeout(l.bind(null,m));return}typeof c=="string"&&(t=c,n(t)),typeof c=="object"&&(t=c,n(t)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,a&&(a(),a=null),l(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>e}}class E7{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,l=c=>{c-r>=n?t(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(l))};return a=requestAnimationFrame(l),()=>{a!=null&&cancelAnimationFrame(a)}}}function _7(){return D7(new E7)}var O7=j.createContext(_7);function T7(e,t){var n=j.useContext(O7);return j.useMemo(()=>t??n(e),[e,t,n])}var P7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),z1={isSsr:P7()},I7={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},EM={t:0},Jg={t:1};function F1(e){var t=ui(e,I7),{isActive:n,canBegin:r,duration:a,easing:l,begin:c,onAnimationEnd:u,onAnimationStart:f,children:m}=t,h=n==="auto"?!z1.isSsr:n,v=T7(t.animationId,t.animationManager),[x,b]=j.useState(h?EM:Jg),S=j.useRef(null);return j.useEffect(()=>{h||b(Jg)},[h]),j.useEffect(()=>{if(!h||!r)return Dd;var w=j7(EM,Jg,k7(l),a,b,v.getTimeoutController()),y=()=>{S.current=w()};return v.start([f,c,y,a,u]),()=>{v.stop(),S.current&&S.current(),u()}},[h,r,a,l,c,f,u,v]),m(x.t)}function B1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=j.useRef(id(t)),r=j.useRef(e);return r.current!==e&&(n.current=id(t),r.current=e),n.current}var R7=["radius"],L7=["radius"],_M,OM,TM,PM,IM,RM,LM,zM,FM,BM;function $M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$M(Object(n),!0).forEach(function(r){z7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z7(e,t,n){return(t=F7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F7(e){var t=B7(e,"string");return typeof t=="symbol"?t:t+""}function B7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hp(){return Hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hp.apply(null,arguments)}function HM(e,t){if(e==null)return{};var n,r,a=$7(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function $7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Fa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var UM=(e,t,n,r,a)=>{var l=Ls(n),c=Ls(r),u=Math.min(Math.abs(l)/2,Math.abs(c)/2),f=c>=0?1:-1,m=l>=0?1:-1,h=c>=0&&l>=0||c<0&&l<0?1:0,v;if(u>0&&Array.isArray(a)){for(var x=[0,0,0,0],b=0,S=4;b<S;b++){var w,y=(w=a[b])!==null&&w!==void 0?w:0;x[b]=y>u?u:y}v=or(_M||(_M=Fa(["M",",",""])),e,t+f*x[0]),x[0]>0&&(v+=or(OM||(OM=Fa(["A ",",",",0,0,",",",",",""])),x[0],x[0],h,e+m*x[0],t)),v+=or(TM||(TM=Fa(["L ",",",""])),e+n-m*x[1],t),x[1]>0&&(v+=or(PM||(PM=Fa(["A ",",",",0,0,",`,
        `,",",""])),x[1],x[1],h,e+n,t+f*x[1])),v+=or(IM||(IM=Fa(["L ",",",""])),e+n,t+r-f*x[2]),x[2]>0&&(v+=or(RM||(RM=Fa(["A ",",",",0,0,",`,
        `,",",""])),x[2],x[2],h,e+n-m*x[2],t+r)),v+=or(LM||(LM=Fa(["L ",",",""])),e+m*x[3],t+r),x[3]>0&&(v+=or(zM||(zM=Fa(["A ",",",",0,0,",`,
        `,",",""])),x[3],x[3],h,e,t+r-f*x[3])),v+="Z"}else if(u>0&&a===+a&&a>0){var C=Math.min(u,a);v=or(FM||(FM=Fa(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*C,C,C,h,e+m*C,t,e+n-m*C,t,C,C,h,e+n,t+f*C,e+n,t+r-f*C,C,C,h,e+n-m*C,t+r,e+m*C,t+r,C,C,h,e,t+r-f*C)}else v=or(BM||(BM=Fa(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return v},YM={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BT=e=>{var t=ui(e,YM),n=j.useRef(null),[r,a]=j.useState(-1);j.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var G=n.current.getTotalLength();G&&a(G)}catch{}},[]);var{x:l,y:c,width:u,height:f,radius:m,className:h}=t,{animationEasing:v,animationDuration:x,animationBegin:b,isAnimationActive:S,isUpdateAnimationActive:w}=t,y=j.useRef(u),C=j.useRef(f),M=j.useRef(l),A=j.useRef(c),_=j.useMemo(()=>({x:l,y:c,width:u,height:f,radius:m}),[l,c,u,f,m]),E=B1(_,"rectangle-");if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var T=st("recharts-rectangle",h);if(!w){var P=ia(t),{radius:O}=P,L=HM(P,R7);return j.createElement("path",Hp({},L,{x:Ls(l),y:Ls(c),width:Ls(u),height:Ls(f),radius:typeof m=="number"?m:void 0,className:T,d:UM(l,c,u,f,m)}))}var R=y.current,B=C.current,D=M.current,K=A.current,X="0px ".concat(r===-1?1:r,"px"),Z="".concat(r,"px 0px"),$=RT(["strokeDasharray"],x,typeof v=="string"?v:YM.animationEasing);return j.createElement(F1,{animationId:E,key:E,canBegin:r>0,duration:x,easing:v,isActive:w,begin:b},G=>{var z=va(R,u,G),te=va(B,f,G),ve=va(D,l,G),F=va(K,c,G);n.current&&(y.current=z,C.current=te,M.current=ve,A.current=F);var ae;S?G>0?ae={transition:$,strokeDasharray:Z}:ae={strokeDasharray:X}:ae={strokeDasharray:Z};var he=ia(t),{radius:ye}=he,je=HM(he,L7);return j.createElement("path",Hp({},je,{radius:typeof m=="number"?m:void 0,className:T,d:UM(ve,F,z,te,m),ref:n,style:qM(qM({},ae),t.style)}))})};function VM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function GM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VM(Object(n),!0).forEach(function(r){q7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q7(e,t,n){return(t=H7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H7(e){var t=U7(e,"string");return typeof t=="symbol"?t:t+""}function U7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Up=Math.PI/180,Y7=e=>e*180/Math.PI,Nr=(e,t,n,r)=>({x:e+Math.cos(-Up*r)*n,y:t+Math.sin(-Up*r)*n}),$T=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},V7=(e,t)=>{var{x:n,y:r}=e,{x:a,y:l}=t;return Math.sqrt((n-a)**2+(r-l)**2)},G7=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:l}=t,c=V7({x:n,y:r},{x:a,y:l});if(c<=0)return{radius:c,angle:0};var u=(n-a)/c,f=Math.acos(u);return r>l&&(f=2*Math.PI-f),{radius:c,angle:Y7(f),angleInRadian:f}},W7=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),l=Math.min(r,a);return{startAngle:t-l*360,endAngle:n-l*360}},K7=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),l=Math.floor(r/360),c=Math.min(a,l);return e+c*360},Q7=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:l}=G7({x:n,y:r},t),{innerRadius:c,outerRadius:u}=t;if(a<c||a>u||a===0)return null;var{startAngle:f,endAngle:m}=W7(t),h=l,v;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;v=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;v=h>=m&&h<=f}return v?GM(GM({},t),{},{radius:a,angle:K7(h,t)}):null};function qT(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:l}=e,c=Nr(t,n,r,a),u=Nr(t,n,r,l);return{points:[c,u],cx:t,cy:n,radius:r,startAngle:a,endAngle:l}}var WM,KM,QM,XM,ZM,JM,ek;function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dy.apply(null,arguments)}function Il(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var X7=(e,t)=>{var n=bn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},jm=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:l,isExternal:c,cornerRadius:u,cornerIsExternal:f}=e,m=u*(c?1:-1)+r,h=Math.asin(u/m)/Up,v=f?a:a+l*h,x=Nr(t,n,m,v),b=Nr(t,n,r,v),S=f?a-l*h:a,w=Nr(t,n,m*Math.cos(h*Up),S);return{center:x,circleTangency:b,lineTangency:w,theta:h}},HT=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c}=e,u=X7(l,c),f=l+u,m=Nr(t,n,a,l),h=Nr(t,n,a,f),v=or(WM||(WM=Il(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,a,a,+(Math.abs(u)>180),+(l>f),h.x,h.y);if(r>0){var x=Nr(t,n,r,l),b=Nr(t,n,r,f);v+=or(KM||(KM=Il(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),b.x,b.y,r,r,+(Math.abs(u)>180),+(l<=f),x.x,x.y)}else v+=or(QM||(QM=Il(["L ",","," Z"])),t,n);return v},Z7=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m}=e,h=bn(m-f),{circleTangency:v,lineTangency:x,theta:b}=jm({cx:t,cy:n,radius:a,angle:f,sign:h,cornerRadius:l,cornerIsExternal:u}),{circleTangency:S,lineTangency:w,theta:y}=jm({cx:t,cy:n,radius:a,angle:m,sign:-h,cornerRadius:l,cornerIsExternal:u}),C=u?Math.abs(f-m):Math.abs(f-m)-b-y;if(C<0)return c?or(XM||(XM=Il(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),x.x,x.y,l,l,l*2,l,l,-l*2):HT({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:f,endAngle:m});var M=or(ZM||(ZM=Il(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),x.x,x.y,l,l,+(h<0),v.x,v.y,a,a,+(C>180),+(h<0),S.x,S.y,l,l,+(h<0),w.x,w.y);if(r>0){var{circleTangency:A,lineTangency:_,theta:E}=jm({cx:t,cy:n,radius:r,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),{circleTangency:T,lineTangency:P,theta:O}=jm({cx:t,cy:n,radius:r,angle:m,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),L=u?Math.abs(f-m):Math.abs(f-m)-E-O;if(L<0&&l===0)return"".concat(M,"L").concat(t,",").concat(n,"Z");M+=or(JM||(JM=Il(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,l,l,+(h<0),T.x,T.y,r,r,+(L>180),+(h>0),A.x,A.y,l,l,+(h<0),_.x,_.y)}else M+=or(ek||(ek=Il(["L",",","Z"])),t,n);return M},J7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},UT=e=>{var t=ui(e,J7),{cx:n,cy:r,innerRadius:a,outerRadius:l,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h,className:v}=t;if(l<a||m===h)return null;var x=st("recharts-sector",v),b=l-a,S=Ln(c,b,0,!0),w;return S>0&&Math.abs(m-h)<360?w=Z7({cx:n,cy:r,innerRadius:a,outerRadius:l,cornerRadius:Math.min(S,b/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h}):w=HT({cx:n,cy:r,innerRadius:a,outerRadius:l,startAngle:m,endAngle:h}),j.createElement("path",Dy({},ia(t),{className:x,d:w}))};function eU(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(E5(t)){if(e==="centric"){var{cx:r,cy:a,innerRadius:l,outerRadius:c,angle:u}=t,f=Nr(r,a,l,u),m=Nr(r,a,c,u);return[{x:f.x,y:f.y},{x:m.x,y:m.y}]}return qT(t)}}var eb={},tb={},rb={},tk;function tU(){return tk||(tk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B5();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(rb)),rb}var rk;function rU(){return rk||(rk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tU();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(tb)),tb}var nk;function nU(){return nk||(nk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$5(),n=rU();function r(a,l,c){c&&typeof c!="number"&&t.isIterateeCall(a,l,c)&&(l=c=void 0),a=n.toFinite(a),l===void 0?(l=a,a=0):l=n.toFinite(l),c=c===void 0?a<l?1:-1:n.toFinite(c);const u=Math.max(Math.ceil((l-a)/(c||1)),0),f=new Array(u);for(let m=0;m<u;m++)f[m]=a,a+=c;return f}e.range=r})(eb)),eb}var nb,ak;function aU(){return ak||(ak=1,nb=nU().range),nb}var iU=aU();const YT=si(iU);function Fs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $1(e){let t,n,r;e.length!==2?(t=Fs,n=(u,f)=>Fs(e(u),f),r=(u,f)=>e(u)-f):(t=e===Fs||e===sU?e:lU,n=e,r=e);function a(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const v=m+h>>>1;n(u[v],f)<0?m=v+1:h=v}while(m<h)}return m}function l(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const v=m+h>>>1;n(u[v],f)<=0?m=v+1:h=v}while(m<h)}return m}function c(u,f,m=0,h=u.length){const v=a(u,f,m,h-1);return v>m&&r(u[v-1],f)>-r(u[v],f)?v-1:v}return{left:a,center:c,right:l}}function lU(){return 0}function VT(e){return e===null?NaN:+e}function*oU(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const cU=$1(Fs),Id=cU.right;$1(VT).center;class ik extends Map{constructor(t,n=fU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(sk(this,t))}has(t){return super.has(sk(this,t))}set(t,n){return super.set(uU(this,t),n)}delete(t){return super.delete(dU(this,t))}}function sk({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function uU({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function dU({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function fU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function mU(e=Fs){if(e===Fs)return GT;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function GT(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const pU=Math.sqrt(50),hU=Math.sqrt(10),vU=Math.sqrt(2);function Yp(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),l=r/Math.pow(10,a),c=l>=pU?10:l>=hU?5:l>=vU?2:1;let u,f,m;return a<0?(m=Math.pow(10,-a)/c,u=Math.round(e*m),f=Math.round(t*m),u/m<e&&++u,f/m>t&&--f,m=-m):(m=Math.pow(10,a)*c,u=Math.round(e/m),f=Math.round(t/m),u*m<e&&++u,f*m>t&&--f),f<u&&.5<=n&&n<2?Yp(e,t,n*2):[u,f,m]}function Ey(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,l,c]=r?Yp(t,e,n):Yp(e,t,n);if(!(l>=a))return[];const u=l-a+1,f=new Array(u);if(r)if(c<0)for(let m=0;m<u;++m)f[m]=(l-m)/-c;else for(let m=0;m<u;++m)f[m]=(l-m)*c;else if(c<0)for(let m=0;m<u;++m)f[m]=(a+m)/-c;else for(let m=0;m<u;++m)f[m]=(a+m)*c;return f}function _y(e,t,n){return t=+t,e=+e,n=+n,Yp(e,t,n)[2]}function Oy(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?_y(t,e,n):_y(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function lk(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function ok(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function WT(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?GT:mU(a);r>n;){if(r-n>600){const f=r-n+1,m=t-n+1,h=Math.log(f),v=.5*Math.exp(2*h/3),x=.5*Math.sqrt(h*v*(f-v)/f)*(m-f/2<0?-1:1),b=Math.max(n,Math.floor(t-m*v/f+x)),S=Math.min(r,Math.floor(t+(f-m)*v/f+x));WT(e,t,b,S,a)}const l=e[t];let c=n,u=r;for(Ru(e,n,t),a(e[r],l)>0&&Ru(e,n,r);c<u;){for(Ru(e,c,u),++c,--u;a(e[c],l)<0;)++c;for(;a(e[u],l)>0;)--u}a(e[n],l)===0?Ru(e,n,u):(++u,Ru(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function Ru(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function xU(e,t,n){if(e=Float64Array.from(oU(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return ok(e);if(t>=1)return lk(e);var r,a=(r-1)*t,l=Math.floor(a),c=lk(WT(e,l).subarray(0,l+1)),u=ok(e.subarray(l+1));return c+(u-c)*(a-l)}}function gU(e,t,n=VT){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,l=Math.floor(a),c=+n(e[l],l,e),u=+n(e[l+1],l+1,e);return c+(u-c)*(a-l)}}function bU(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(a);++r<a;)l[r]=e+r*n;return l}function ua(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function es(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ty=Symbol("implicit");function q1(){var e=new ik,t=[],n=[],r=Ty;function a(l){let c=e.get(l);if(c===void 0){if(r!==Ty)return r;e.set(l,c=t.push(l)-1)}return n[c%n.length]}return a.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new ik;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return a},a.range=function(l){return arguments.length?(n=Array.from(l),a):n.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.copy=function(){return q1(t,n).unknown(r)},ua.apply(a,arguments),a}function H1(){var e=q1().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,l,c,u=!1,f=0,m=0,h=.5;delete e.unknown;function v(){var x=t().length,b=a<r,S=b?a:r,w=b?r:a;l=(w-S)/Math.max(1,x-f+m*2),u&&(l=Math.floor(l)),S+=(w-S-l*(x-f))*h,c=l*(1-f),u&&(S=Math.round(S),c=Math.round(c));var y=bU(x).map(function(C){return S+l*C});return n(b?y.reverse():y)}return e.domain=function(x){return arguments.length?(t(x),v()):t()},e.range=function(x){return arguments.length?([r,a]=x,r=+r,a=+a,v()):[r,a]},e.rangeRound=function(x){return[r,a]=x,r=+r,a=+a,u=!0,v()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(x){return arguments.length?(u=!!x,v()):u},e.padding=function(x){return arguments.length?(f=Math.min(1,m=+x),v()):f},e.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),v()):f},e.paddingOuter=function(x){return arguments.length?(m=+x,v()):m},e.align=function(x){return arguments.length?(h=Math.max(0,Math.min(1,x)),v()):h},e.copy=function(){return H1(t(),[r,a]).round(u).paddingInner(f).paddingOuter(m).align(h)},ua.apply(v(),arguments)}function KT(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return KT(t())},e}function yU(){return KT(H1.apply(null,arguments).paddingInner(1))}function U1(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function QT(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Rd(){}var md=.7,Vp=1/md,rc="\\s*([+-]?\\d+)\\s*",pd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wU=/^#([0-9a-f]{3,8})$/,jU=new RegExp(`^rgb\\(${rc},${rc},${rc}\\)$`),NU=new RegExp(`^rgb\\(${ei},${ei},${ei}\\)$`),SU=new RegExp(`^rgba\\(${rc},${rc},${rc},${pd}\\)$`),CU=new RegExp(`^rgba\\(${ei},${ei},${ei},${pd}\\)$`),AU=new RegExp(`^hsl\\(${pd},${ei},${ei}\\)$`),MU=new RegExp(`^hsla\\(${pd},${ei},${ei},${pd}\\)$`),ck={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};U1(Rd,hd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:uk,formatHex:uk,formatHex8:kU,formatHsl:DU,formatRgb:dk,toString:dk});function uk(){return this.rgb().formatHex()}function kU(){return this.rgb().formatHex8()}function DU(){return XT(this).formatHsl()}function dk(){return this.rgb().formatRgb()}function hd(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=wU.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?fk(t):n===3?new yn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Nm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Nm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jU.exec(e))?new yn(t[1],t[2],t[3],1):(t=NU.exec(e))?new yn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=SU.exec(e))?Nm(t[1],t[2],t[3],t[4]):(t=CU.exec(e))?Nm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=AU.exec(e))?hk(t[1],t[2]/100,t[3]/100,1):(t=MU.exec(e))?hk(t[1],t[2]/100,t[3]/100,t[4]):ck.hasOwnProperty(e)?fk(ck[e]):e==="transparent"?new yn(NaN,NaN,NaN,0):null}function fk(e){return new yn(e>>16&255,e>>8&255,e&255,1)}function Nm(e,t,n,r){return r<=0&&(e=t=n=NaN),new yn(e,t,n,r)}function EU(e){return e instanceof Rd||(e=hd(e)),e?(e=e.rgb(),new yn(e.r,e.g,e.b,e.opacity)):new yn}function Py(e,t,n,r){return arguments.length===1?EU(e):new yn(e,t,n,r??1)}function yn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}U1(yn,Py,QT(Rd,{brighter(e){return e=e==null?Vp:Math.pow(Vp,e),new yn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?md:Math.pow(md,e),new yn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yn(ql(this.r),ql(this.g),ql(this.b),Gp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mk,formatHex:mk,formatHex8:_U,formatRgb:pk,toString:pk}));function mk(){return`#${Rl(this.r)}${Rl(this.g)}${Rl(this.b)}`}function _U(){return`#${Rl(this.r)}${Rl(this.g)}${Rl(this.b)}${Rl((isNaN(this.opacity)?1:this.opacity)*255)}`}function pk(){const e=Gp(this.opacity);return`${e===1?"rgb(":"rgba("}${ql(this.r)}, ${ql(this.g)}, ${ql(this.b)}${e===1?")":`, ${e})`}`}function Gp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ql(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Rl(e){return e=ql(e),(e<16?"0":"")+e.toString(16)}function hk(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ba(e,t,n,r)}function XT(e){if(e instanceof ba)return new ba(e.h,e.s,e.l,e.opacity);if(e instanceof Rd||(e=hd(e)),!e)return new ba;if(e instanceof ba)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),l=Math.max(t,n,r),c=NaN,u=l-a,f=(l+a)/2;return u?(t===l?c=(n-r)/u+(n<r)*6:n===l?c=(r-t)/u+2:c=(t-n)/u+4,u/=f<.5?l+a:2-l-a,c*=60):u=f>0&&f<1?0:c,new ba(c,u,f,e.opacity)}function OU(e,t,n,r){return arguments.length===1?XT(e):new ba(e,t,n,r??1)}function ba(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}U1(ba,OU,QT(Rd,{brighter(e){return e=e==null?Vp:Math.pow(Vp,e),new ba(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?md:Math.pow(md,e),new ba(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new yn(ab(e>=240?e-240:e+120,a,r),ab(e,a,r),ab(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new ba(vk(this.h),Sm(this.s),Sm(this.l),Gp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gp(this.opacity);return`${e===1?"hsl(":"hsla("}${vk(this.h)}, ${Sm(this.s)*100}%, ${Sm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function vk(e){return e=(e||0)%360,e<0?e+360:e}function Sm(e){return Math.max(0,Math.min(1,e||0))}function ab(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Y1=e=>()=>e;function TU(e,t){return function(n){return e+n*t}}function PU(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function IU(e){return(e=+e)==1?ZT:function(t,n){return n-t?PU(t,n,e):Y1(isNaN(t)?n:t)}}function ZT(e,t){var n=t-e;return n?TU(e,n):Y1(isNaN(e)?t:e)}const xk=(function e(t){var n=IU(t);function r(a,l){var c=n((a=Py(a)).r,(l=Py(l)).r),u=n(a.g,l.g),f=n(a.b,l.b),m=ZT(a.opacity,l.opacity);return function(h){return a.r=c(h),a.g=u(h),a.b=f(h),a.opacity=m(h),a+""}}return r.gamma=e,r})(1);function RU(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(l){for(a=0;a<n;++a)r[a]=e[a]*(1-l)+t[a]*l;return r}}function LU(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function zU(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),l=new Array(n),c;for(c=0;c<r;++c)a[c]=Mc(e[c],t[c]);for(;c<n;++c)l[c]=t[c];return function(u){for(c=0;c<r;++c)l[c]=a[c](u);return l}}function FU(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Wp(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function BU(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Mc(e[a],t[a]):r[a]=t[a];return function(l){for(a in n)r[a]=n[a](l);return r}}var Iy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ib=new RegExp(Iy.source,"g");function $U(e){return function(){return e}}function qU(e){return function(t){return e(t)+""}}function HU(e,t){var n=Iy.lastIndex=ib.lastIndex=0,r,a,l,c=-1,u=[],f=[];for(e=e+"",t=t+"";(r=Iy.exec(e))&&(a=ib.exec(t));)(l=a.index)>n&&(l=t.slice(n,l),u[c]?u[c]+=l:u[++c]=l),(r=r[0])===(a=a[0])?u[c]?u[c]+=a:u[++c]=a:(u[++c]=null,f.push({i:c,x:Wp(r,a)})),n=ib.lastIndex;return n<t.length&&(l=t.slice(n),u[c]?u[c]+=l:u[++c]=l),u.length<2?f[0]?qU(f[0].x):$U(t):(t=f.length,function(m){for(var h=0,v;h<t;++h)u[(v=f[h]).i]=v.x(m);return u.join("")})}function Mc(e,t){var n=typeof t,r;return t==null||n==="boolean"?Y1(t):(n==="number"?Wp:n==="string"?(r=hd(t))?(t=r,xk):HU:t instanceof hd?xk:t instanceof Date?FU:LU(t)?RU:Array.isArray(t)?zU:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?BU:Wp)(e,t)}function V1(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function UU(e,t){t===void 0&&(t=e,e=Mc);for(var n=0,r=t.length-1,a=t[0],l=new Array(r<0?0:r);n<r;)l[n]=e(a,a=t[++n]);return function(c){var u=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return l[u](c-u)}}function YU(e){return function(){return e}}function Kp(e){return+e}var gk=[0,1];function tn(e){return e}function Ry(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:YU(isNaN(t)?NaN:.5)}function VU(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function GU(e,t,n){var r=e[0],a=e[1],l=t[0],c=t[1];return a<r?(r=Ry(a,r),l=n(c,l)):(r=Ry(r,a),l=n(l,c)),function(u){return l(r(u))}}function WU(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),l=new Array(r),c=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<r;)a[c]=Ry(e[c],e[c+1]),l[c]=n(t[c],t[c+1]);return function(u){var f=Id(e,u,1,r)-1;return l[f](a[f](u))}}function Ld(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ev(){var e=gk,t=gk,n=Mc,r,a,l,c=tn,u,f,m;function h(){var x=Math.min(e.length,t.length);return c!==tn&&(c=VU(e[0],e[x-1])),u=x>2?WU:GU,f=m=null,v}function v(x){return x==null||isNaN(x=+x)?l:(f||(f=u(e.map(r),t,n)))(r(c(x)))}return v.invert=function(x){return c(a((m||(m=u(t,e.map(r),Wp)))(x)))},v.domain=function(x){return arguments.length?(e=Array.from(x,Kp),h()):e.slice()},v.range=function(x){return arguments.length?(t=Array.from(x),h()):t.slice()},v.rangeRound=function(x){return t=Array.from(x),n=V1,h()},v.clamp=function(x){return arguments.length?(c=x?!0:tn,h()):c!==tn},v.interpolate=function(x){return arguments.length?(n=x,h()):n},v.unknown=function(x){return arguments.length?(l=x,v):l},function(x,b){return r=x,a=b,h()}}function G1(){return ev()(tn,tn)}function KU(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Qp(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function uc(e){return e=Qp(Math.abs(e)),e?e[1]:NaN}function QU(e,t){return function(n,r){for(var a=n.length,l=[],c=0,u=e[0],f=0;a>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),l.push(n.substring(a-=u,a+u)),!((f+=u+1)>r));)u=e[c=(c+1)%e.length];return l.reverse().join(t)}}function XU(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var ZU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vd(e){if(!(t=ZU.exec(e)))throw new Error("invalid format: "+e);var t;return new W1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}vd.prototype=W1.prototype;function W1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}W1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function JU(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var Xp;function eY(e,t){var n=Qp(e,t);if(!n)return Xp=void 0,e.toPrecision(t);var r=n[0],a=n[1],l=a-(Xp=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=r.length;return l===c?r:l>c?r+new Array(l-c+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+Qp(e,Math.max(0,t+l-1))[0]}function bk(e,t){var n=Qp(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const yk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:KU,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>bk(e*100,t),r:bk,s:eY,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function wk(e){return e}var jk=Array.prototype.map,Nk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tY(e){var t=e.grouping===void 0||e.thousands===void 0?wk:QU(jk.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?wk:XU(jk.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(v,x){v=vd(v);var b=v.fill,S=v.align,w=v.sign,y=v.symbol,C=v.zero,M=v.width,A=v.comma,_=v.precision,E=v.trim,T=v.type;T==="n"?(A=!0,T="g"):yk[T]||(_===void 0&&(_=12),E=!0,T="g"),(C||b==="0"&&S==="=")&&(C=!0,b="0",S="=");var P=(x&&x.prefix!==void 0?x.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():""),O=(y==="$"?r:/[%p]/.test(T)?c:"")+(x&&x.suffix!==void 0?x.suffix:""),L=yk[T],R=/[defgprs%]/.test(T);_=_===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function B(D){var K=P,X=O,Z,$,G;if(T==="c")X=L(D)+X,D="";else{D=+D;var z=D<0||1/D<0;if(D=isNaN(D)?f:L(Math.abs(D),_),E&&(D=JU(D)),z&&+D==0&&w!=="+"&&(z=!1),K=(z?w==="("?w:u:w==="-"||w==="("?"":w)+K,X=(T==="s"&&!isNaN(D)&&Xp!==void 0?Nk[8+Xp/3]:"")+X+(z&&w==="("?")":""),R){for(Z=-1,$=D.length;++Z<$;)if(G=D.charCodeAt(Z),48>G||G>57){X=(G===46?a+D.slice(Z+1):D.slice(Z))+X,D=D.slice(0,Z);break}}}A&&!C&&(D=t(D,1/0));var te=K.length+D.length+X.length,ve=te<M?new Array(M-te+1).join(b):"";switch(A&&C&&(D=t(ve+D,ve.length?M-X.length:1/0),ve=""),S){case"<":D=K+D+X+ve;break;case"=":D=K+ve+D+X;break;case"^":D=ve.slice(0,te=ve.length>>1)+K+D+X+ve.slice(te);break;default:D=ve+K+D+X;break}return l(D)}return B.toString=function(){return v+""},B}function h(v,x){var b=Math.max(-8,Math.min(8,Math.floor(uc(x)/3)))*3,S=Math.pow(10,-b),w=m((v=vd(v),v.type="f",v),{suffix:Nk[8+b/3]});return function(y){return w(S*y)}}return{format:m,formatPrefix:h}}var Cm,K1,JT;rY({thousands:",",grouping:[3],currency:["$",""]});function rY(e){return Cm=tY(e),K1=Cm.format,JT=Cm.formatPrefix,Cm}function nY(e){return Math.max(0,-uc(Math.abs(e)))}function aY(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(uc(t)/3)))*3-uc(Math.abs(e)))}function iY(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,uc(t)-uc(e))+1}function eP(e,t,n,r){var a=Oy(e,t,n),l;switch(r=vd(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(l=aY(a,c))&&(r.precision=l),JT(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=iY(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=nY(a))&&(r.precision=l-(r.type==="%")*2);break}}return K1(r)}function Js(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ey(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return eP(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,l=r.length-1,c=r[a],u=r[l],f,m,h=10;for(u<c&&(m=c,c=u,u=m,m=a,a=l,l=m);h-- >0;){if(m=_y(c,u,n),m===f)return r[a]=c,r[l]=u,t(r);if(m>0)c=Math.floor(c/m)*m,u=Math.ceil(u/m)*m;else if(m<0)c=Math.ceil(c*m)/m,u=Math.floor(u*m)/m;else break;f=m}return e},e}function tP(){var e=G1();return e.copy=function(){return Ld(e,tP())},ua.apply(e,arguments),Js(e)}function rP(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Kp),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return rP(e).unknown(t)},e=arguments.length?Array.from(e,Kp):[0,1],Js(n)}function nP(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],l=e[r],c;return l<a&&(c=n,n=r,r=c,c=a,a=l,l=c),e[n]=t.floor(a),e[r]=t.ceil(l),e}function Sk(e){return Math.log(e)}function Ck(e){return Math.exp(e)}function sY(e){return-Math.log(-e)}function lY(e){return-Math.exp(-e)}function oY(e){return isFinite(e)?+("1e"+e):e<0?0:e}function cY(e){return e===10?oY:e===Math.E?Math.exp:t=>Math.pow(e,t)}function uY(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Ak(e){return(t,n)=>-e(-t,n)}function Q1(e){const t=e(Sk,Ck),n=t.domain;let r=10,a,l;function c(){return a=uY(r),l=cY(r),n()[0]<0?(a=Ak(a),l=Ak(l),e(sY,lY)):e(Sk,Ck),t}return t.base=function(u){return arguments.length?(r=+u,c()):r},t.domain=function(u){return arguments.length?(n(u),c()):n()},t.ticks=u=>{const f=n();let m=f[0],h=f[f.length-1];const v=h<m;v&&([m,h]=[h,m]);let x=a(m),b=a(h),S,w;const y=u==null?10:+u;let C=[];if(!(r%1)&&b-x<y){if(x=Math.floor(x),b=Math.ceil(b),m>0){for(;x<=b;++x)for(S=1;S<r;++S)if(w=x<0?S/l(-x):S*l(x),!(w<m)){if(w>h)break;C.push(w)}}else for(;x<=b;++x)for(S=r-1;S>=1;--S)if(w=x>0?S/l(-x):S*l(x),!(w<m)){if(w>h)break;C.push(w)}C.length*2<y&&(C=Ey(m,h,y))}else C=Ey(x,b,Math.min(b-x,y)).map(l);return v?C.reverse():C},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=vd(f)).precision==null&&(f.trim=!0),f=K1(f)),u===1/0)return f;const m=Math.max(1,r*u/t.ticks().length);return h=>{let v=h/l(Math.round(a(h)));return v*r<r-.5&&(v*=r),v<=m?f(h):""}},t.nice=()=>n(nP(n(),{floor:u=>l(Math.floor(a(u))),ceil:u=>l(Math.ceil(a(u)))})),t}function aP(){const e=Q1(ev()).domain([1,10]);return e.copy=()=>Ld(e,aP()).base(e.base()),ua.apply(e,arguments),e}function Mk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function kk(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function X1(e){var t=1,n=e(Mk(t),kk(t));return n.constant=function(r){return arguments.length?e(Mk(t=+r),kk(t)):t},Js(n)}function iP(){var e=X1(ev());return e.copy=function(){return Ld(e,iP()).constant(e.constant())},ua.apply(e,arguments)}function Dk(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function dY(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function fY(e){return e<0?-e*e:e*e}function Z1(e){var t=e(tn,tn),n=1;function r(){return n===1?e(tn,tn):n===.5?e(dY,fY):e(Dk(n),Dk(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},Js(t)}function J1(){var e=Z1(ev());return e.copy=function(){return Ld(e,J1()).exponent(e.exponent())},ua.apply(e,arguments),e}function mY(){return J1.apply(null,arguments).exponent(.5)}function Ek(e){return Math.sign(e)*e*e}function pY(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function sP(){var e=G1(),t=[0,1],n=!1,r;function a(l){var c=pY(e(l));return isNaN(c)?r:n?Math.round(c):c}return a.invert=function(l){return e.invert(Ek(l))},a.domain=function(l){return arguments.length?(e.domain(l),a):e.domain()},a.range=function(l){return arguments.length?(e.range((t=Array.from(l,Kp)).map(Ek)),a):t.slice()},a.rangeRound=function(l){return a.range(l).round(!0)},a.round=function(l){return arguments.length?(n=!!l,a):n},a.clamp=function(l){return arguments.length?(e.clamp(l),a):e.clamp()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.copy=function(){return sP(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},ua.apply(a,arguments),Js(a)}function lP(){var e=[],t=[],n=[],r;function a(){var c=0,u=Math.max(1,t.length);for(n=new Array(u-1);++c<u;)n[c-1]=gU(e,c/u);return l}function l(c){return c==null||isNaN(c=+c)?r:t[Id(n,c)]}return l.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Fs),a()},l.range=function(c){return arguments.length?(t=Array.from(c),a()):t.slice()},l.unknown=function(c){return arguments.length?(r=c,l):r},l.quantiles=function(){return n.slice()},l.copy=function(){return lP().domain(e).range(t).unknown(r)},ua.apply(l,arguments)}function oP(){var e=0,t=1,n=1,r=[.5],a=[0,1],l;function c(f){return f!=null&&f<=f?a[Id(r,f,0,n)]:l}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},c.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,u()):a.slice()},c.invertExtent=function(f){var m=a.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,r[0]]:m>=n?[r[n-1],t]:[r[m-1],r[m]]},c.unknown=function(f){return arguments.length&&(l=f),c},c.thresholds=function(){return r.slice()},c.copy=function(){return oP().domain([e,t]).range(a).unknown(l)},ua.apply(Js(c),arguments)}function cP(){var e=[.5],t=[0,1],n,r=1;function a(l){return l!=null&&l<=l?t[Id(e,l,0,r)]:n}return a.domain=function(l){return arguments.length?(e=Array.from(l),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(l){return arguments.length?(t=Array.from(l),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},a.unknown=function(l){return arguments.length?(n=l,a):n},a.copy=function(){return cP().domain(e).range(t).unknown(n)},ua.apply(a,arguments)}const sb=new Date,lb=new Date;function Dr(e,t,n,r){function a(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return a.floor=l=>(e(l=new Date(+l)),l),a.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),a.round=l=>{const c=a(l),u=a.ceil(l);return l-c<u-l?c:u},a.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),a.range=(l,c,u)=>{const f=[];if(l=a.ceil(l),u=u==null?1:Math.floor(u),!(l<c)||!(u>0))return f;let m;do f.push(m=new Date(+l)),t(l,u),e(l);while(m<l&&l<c);return f},a.filter=l=>Dr(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!l(c););else for(;--u>=0;)for(;t(c,1),!l(c););}),n&&(a.count=(l,c)=>(sb.setTime(+l),lb.setTime(+c),e(sb),e(lb),Math.floor(n(sb,lb))),a.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?a.filter(r?c=>r(c)%l===0:c=>a.count(0,c)%l===0):a)),a}const Zp=Dr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Zp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Dr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Zp);Zp.range;const Pi=1e3,aa=Pi*60,Ii=aa*60,Yi=Ii*24,ew=Yi*7,_k=Yi*30,ob=Yi*365,Ll=Dr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Pi)},(e,t)=>(t-e)/Pi,e=>e.getUTCSeconds());Ll.range;const tw=Dr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pi)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getMinutes());tw.range;const rw=Dr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getUTCMinutes());rw.range;const nw=Dr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pi-e.getMinutes()*aa)},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getHours());nw.range;const aw=Dr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getUTCHours());aw.range;const zd=Dr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*aa)/Yi,e=>e.getDate()-1);zd.range;const tv=Dr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yi,e=>e.getUTCDate()-1);tv.range;const uP=Dr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yi,e=>Math.floor(e/Yi));uP.range;function ro(e){return Dr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*aa)/ew)}const rv=ro(0),Jp=ro(1),hY=ro(2),vY=ro(3),dc=ro(4),xY=ro(5),gY=ro(6);rv.range;Jp.range;hY.range;vY.range;dc.range;xY.range;gY.range;function no(e){return Dr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/ew)}const nv=no(0),eh=no(1),bY=no(2),yY=no(3),fc=no(4),wY=no(5),jY=no(6);nv.range;eh.range;bY.range;yY.range;fc.range;wY.range;jY.range;const iw=Dr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());iw.range;const sw=Dr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());sw.range;const Vi=Dr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Dr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Vi.range;const Gi=Dr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Dr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Gi.range;function dP(e,t,n,r,a,l){const c=[[Ll,1,Pi],[Ll,5,5*Pi],[Ll,15,15*Pi],[Ll,30,30*Pi],[l,1,aa],[l,5,5*aa],[l,15,15*aa],[l,30,30*aa],[a,1,Ii],[a,3,3*Ii],[a,6,6*Ii],[a,12,12*Ii],[r,1,Yi],[r,2,2*Yi],[n,1,ew],[t,1,_k],[t,3,3*_k],[e,1,ob]];function u(m,h,v){const x=h<m;x&&([m,h]=[h,m]);const b=v&&typeof v.range=="function"?v:f(m,h,v),S=b?b.range(m,+h+1):[];return x?S.reverse():S}function f(m,h,v){const x=Math.abs(h-m)/v,b=$1(([,,y])=>y).right(c,x);if(b===c.length)return e.every(Oy(m/ob,h/ob,v));if(b===0)return Zp.every(Math.max(Oy(m,h,v),1));const[S,w]=c[x/c[b-1][2]<c[b][2]/x?b-1:b];return S.every(w)}return[u,f]}const[NY,SY]=dP(Gi,sw,nv,uP,aw,rw),[CY,AY]=dP(Vi,iw,rv,zd,nw,tw);function cb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ub(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Lu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function MY(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,l=e.days,c=e.shortDays,u=e.months,f=e.shortMonths,m=zu(a),h=Fu(a),v=zu(l),x=Fu(l),b=zu(c),S=Fu(c),w=zu(u),y=Fu(u),C=zu(f),M=Fu(f),A={a:G,A:z,b:te,B:ve,c:null,d:Lk,e:Lk,f:QY,g:sV,G:oV,H:GY,I:WY,j:KY,L:fP,m:XY,M:ZY,p:F,q:ae,Q:Bk,s:$k,S:JY,u:eV,U:tV,V:rV,w:nV,W:aV,x:null,X:null,y:iV,Y:lV,Z:cV,"%":Fk},_={a:he,A:ye,b:je,B:Ie,c:null,d:zk,e:zk,f:mV,g:NV,G:CV,H:uV,I:dV,j:fV,L:pP,m:pV,M:hV,p:me,q:ge,Q:Bk,s:$k,S:vV,u:xV,U:gV,V:bV,w:yV,W:wV,x:null,X:null,y:jV,Y:SV,Z:AV,"%":Fk},E={a:R,A:B,b:D,B:K,c:X,d:Ik,e:Ik,f:HY,g:Pk,G:Tk,H:Rk,I:Rk,j:FY,L:qY,m:zY,M:BY,p:L,q:LY,Q:YY,s:VY,S:$Y,u:OY,U:TY,V:PY,w:_Y,W:IY,x:Z,X:$,y:Pk,Y:Tk,Z:RY,"%":UY};A.x=T(n,A),A.X=T(r,A),A.c=T(t,A),_.x=T(n,_),_.X=T(r,_),_.c=T(t,_);function T(W,Ne){return function(qe){var be=[],Ze=-1,Ue=0,jt=W.length,vt,ut,Nt;for(qe instanceof Date||(qe=new Date(+qe));++Ze<jt;)W.charCodeAt(Ze)===37&&(be.push(W.slice(Ue,Ze)),(ut=Ok[vt=W.charAt(++Ze)])!=null?vt=W.charAt(++Ze):ut=vt==="e"?" ":"0",(Nt=Ne[vt])&&(vt=Nt(qe,ut)),be.push(vt),Ue=Ze+1);return be.push(W.slice(Ue,Ze)),be.join("")}}function P(W,Ne){return function(qe){var be=Lu(1900,void 0,1),Ze=O(be,W,qe+="",0),Ue,jt;if(Ze!=qe.length)return null;if("Q"in be)return new Date(be.Q);if("s"in be)return new Date(be.s*1e3+("L"in be?be.L:0));if(Ne&&!("Z"in be)&&(be.Z=0),"p"in be&&(be.H=be.H%12+be.p*12),be.m===void 0&&(be.m="q"in be?be.q:0),"V"in be){if(be.V<1||be.V>53)return null;"w"in be||(be.w=1),"Z"in be?(Ue=ub(Lu(be.y,0,1)),jt=Ue.getUTCDay(),Ue=jt>4||jt===0?eh.ceil(Ue):eh(Ue),Ue=tv.offset(Ue,(be.V-1)*7),be.y=Ue.getUTCFullYear(),be.m=Ue.getUTCMonth(),be.d=Ue.getUTCDate()+(be.w+6)%7):(Ue=cb(Lu(be.y,0,1)),jt=Ue.getDay(),Ue=jt>4||jt===0?Jp.ceil(Ue):Jp(Ue),Ue=zd.offset(Ue,(be.V-1)*7),be.y=Ue.getFullYear(),be.m=Ue.getMonth(),be.d=Ue.getDate()+(be.w+6)%7)}else("W"in be||"U"in be)&&("w"in be||(be.w="u"in be?be.u%7:"W"in be?1:0),jt="Z"in be?ub(Lu(be.y,0,1)).getUTCDay():cb(Lu(be.y,0,1)).getDay(),be.m=0,be.d="W"in be?(be.w+6)%7+be.W*7-(jt+5)%7:be.w+be.U*7-(jt+6)%7);return"Z"in be?(be.H+=be.Z/100|0,be.M+=be.Z%100,ub(be)):cb(be)}}function O(W,Ne,qe,be){for(var Ze=0,Ue=Ne.length,jt=qe.length,vt,ut;Ze<Ue;){if(be>=jt)return-1;if(vt=Ne.charCodeAt(Ze++),vt===37){if(vt=Ne.charAt(Ze++),ut=E[vt in Ok?Ne.charAt(Ze++):vt],!ut||(be=ut(W,qe,be))<0)return-1}else if(vt!=qe.charCodeAt(be++))return-1}return be}function L(W,Ne,qe){var be=m.exec(Ne.slice(qe));return be?(W.p=h.get(be[0].toLowerCase()),qe+be[0].length):-1}function R(W,Ne,qe){var be=b.exec(Ne.slice(qe));return be?(W.w=S.get(be[0].toLowerCase()),qe+be[0].length):-1}function B(W,Ne,qe){var be=v.exec(Ne.slice(qe));return be?(W.w=x.get(be[0].toLowerCase()),qe+be[0].length):-1}function D(W,Ne,qe){var be=C.exec(Ne.slice(qe));return be?(W.m=M.get(be[0].toLowerCase()),qe+be[0].length):-1}function K(W,Ne,qe){var be=w.exec(Ne.slice(qe));return be?(W.m=y.get(be[0].toLowerCase()),qe+be[0].length):-1}function X(W,Ne,qe){return O(W,t,Ne,qe)}function Z(W,Ne,qe){return O(W,n,Ne,qe)}function $(W,Ne,qe){return O(W,r,Ne,qe)}function G(W){return c[W.getDay()]}function z(W){return l[W.getDay()]}function te(W){return f[W.getMonth()]}function ve(W){return u[W.getMonth()]}function F(W){return a[+(W.getHours()>=12)]}function ae(W){return 1+~~(W.getMonth()/3)}function he(W){return c[W.getUTCDay()]}function ye(W){return l[W.getUTCDay()]}function je(W){return f[W.getUTCMonth()]}function Ie(W){return u[W.getUTCMonth()]}function me(W){return a[+(W.getUTCHours()>=12)]}function ge(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var Ne=T(W+="",A);return Ne.toString=function(){return W},Ne},parse:function(W){var Ne=P(W+="",!1);return Ne.toString=function(){return W},Ne},utcFormat:function(W){var Ne=T(W+="",_);return Ne.toString=function(){return W},Ne},utcParse:function(W){var Ne=P(W+="",!0);return Ne.toString=function(){return W},Ne}}}var Ok={"-":"",_:" ",0:"0"},Rr=/^\s*\d+/,kY=/^%/,DY=/[\\^$*+?|[\]().{}]/g;function wt(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",l=a.length;return r+(l<n?new Array(n-l+1).join(t)+a:a)}function EY(e){return e.replace(DY,"\\$&")}function zu(e){return new RegExp("^(?:"+e.map(EY).join("|")+")","i")}function Fu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function _Y(e,t,n){var r=Rr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function OY(e,t,n){var r=Rr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function TY(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function PY(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function IY(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Tk(e,t,n){var r=Rr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Pk(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function RY(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function LY(e,t,n){var r=Rr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function zY(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Ik(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function FY(e,t,n){var r=Rr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Rk(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function BY(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function $Y(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function qY(e,t,n){var r=Rr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function HY(e,t,n){var r=Rr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function UY(e,t,n){var r=kY.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function YY(e,t,n){var r=Rr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function VY(e,t,n){var r=Rr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Lk(e,t){return wt(e.getDate(),t,2)}function GY(e,t){return wt(e.getHours(),t,2)}function WY(e,t){return wt(e.getHours()%12||12,t,2)}function KY(e,t){return wt(1+zd.count(Vi(e),e),t,3)}function fP(e,t){return wt(e.getMilliseconds(),t,3)}function QY(e,t){return fP(e,t)+"000"}function XY(e,t){return wt(e.getMonth()+1,t,2)}function ZY(e,t){return wt(e.getMinutes(),t,2)}function JY(e,t){return wt(e.getSeconds(),t,2)}function eV(e){var t=e.getDay();return t===0?7:t}function tV(e,t){return wt(rv.count(Vi(e)-1,e),t,2)}function mP(e){var t=e.getDay();return t>=4||t===0?dc(e):dc.ceil(e)}function rV(e,t){return e=mP(e),wt(dc.count(Vi(e),e)+(Vi(e).getDay()===4),t,2)}function nV(e){return e.getDay()}function aV(e,t){return wt(Jp.count(Vi(e)-1,e),t,2)}function iV(e,t){return wt(e.getFullYear()%100,t,2)}function sV(e,t){return e=mP(e),wt(e.getFullYear()%100,t,2)}function lV(e,t){return wt(e.getFullYear()%1e4,t,4)}function oV(e,t){var n=e.getDay();return e=n>=4||n===0?dc(e):dc.ceil(e),wt(e.getFullYear()%1e4,t,4)}function cV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wt(t/60|0,"0",2)+wt(t%60,"0",2)}function zk(e,t){return wt(e.getUTCDate(),t,2)}function uV(e,t){return wt(e.getUTCHours(),t,2)}function dV(e,t){return wt(e.getUTCHours()%12||12,t,2)}function fV(e,t){return wt(1+tv.count(Gi(e),e),t,3)}function pP(e,t){return wt(e.getUTCMilliseconds(),t,3)}function mV(e,t){return pP(e,t)+"000"}function pV(e,t){return wt(e.getUTCMonth()+1,t,2)}function hV(e,t){return wt(e.getUTCMinutes(),t,2)}function vV(e,t){return wt(e.getUTCSeconds(),t,2)}function xV(e){var t=e.getUTCDay();return t===0?7:t}function gV(e,t){return wt(nv.count(Gi(e)-1,e),t,2)}function hP(e){var t=e.getUTCDay();return t>=4||t===0?fc(e):fc.ceil(e)}function bV(e,t){return e=hP(e),wt(fc.count(Gi(e),e)+(Gi(e).getUTCDay()===4),t,2)}function yV(e){return e.getUTCDay()}function wV(e,t){return wt(eh.count(Gi(e)-1,e),t,2)}function jV(e,t){return wt(e.getUTCFullYear()%100,t,2)}function NV(e,t){return e=hP(e),wt(e.getUTCFullYear()%100,t,2)}function SV(e,t){return wt(e.getUTCFullYear()%1e4,t,4)}function CV(e,t){var n=e.getUTCDay();return e=n>=4||n===0?fc(e):fc.ceil(e),wt(e.getUTCFullYear()%1e4,t,4)}function AV(){return"+0000"}function Fk(){return"%"}function Bk(e){return+e}function $k(e){return Math.floor(+e/1e3)}var qo,vP,xP;MV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function MV(e){return qo=MY(e),vP=qo.format,qo.parse,xP=qo.utcFormat,qo.utcParse,qo}function kV(e){return new Date(e)}function DV(e){return e instanceof Date?+e:+new Date(+e)}function lw(e,t,n,r,a,l,c,u,f,m){var h=G1(),v=h.invert,x=h.domain,b=m(".%L"),S=m(":%S"),w=m("%I:%M"),y=m("%I %p"),C=m("%a %d"),M=m("%b %d"),A=m("%B"),_=m("%Y");function E(T){return(f(T)<T?b:u(T)<T?S:c(T)<T?w:l(T)<T?y:r(T)<T?a(T)<T?C:M:n(T)<T?A:_)(T)}return h.invert=function(T){return new Date(v(T))},h.domain=function(T){return arguments.length?x(Array.from(T,DV)):x().map(kV)},h.ticks=function(T){var P=x();return e(P[0],P[P.length-1],T??10)},h.tickFormat=function(T,P){return P==null?E:m(P)},h.nice=function(T){var P=x();return(!T||typeof T.range!="function")&&(T=t(P[0],P[P.length-1],T??10)),T?x(nP(P,T)):h},h.copy=function(){return Ld(h,lw(e,t,n,r,a,l,c,u,f,m))},h}function EV(){return ua.apply(lw(CY,AY,Vi,iw,rv,zd,nw,tw,Ll,vP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _V(){return ua.apply(lw(NY,SY,Gi,sw,nv,tv,aw,rw,Ll,xP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function av(){var e=0,t=1,n,r,a,l,c=tn,u=!1,f;function m(v){return v==null||isNaN(v=+v)?f:c(a===0?.5:(v=(l(v)-n)*a,u?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t]=v,n=l(e=+e),r=l(t=+t),a=n===r?0:1/(r-n),m):[e,t]},m.clamp=function(v){return arguments.length?(u=!!v,m):u},m.interpolator=function(v){return arguments.length?(c=v,m):c};function h(v){return function(x){var b,S;return arguments.length?([b,S]=x,c=v(b,S),m):[c(0),c(1)]}}return m.range=h(Mc),m.rangeRound=h(V1),m.unknown=function(v){return arguments.length?(f=v,m):f},function(v){return l=v,n=v(e),r=v(t),a=n===r?0:1/(r-n),m}}function el(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function gP(){var e=Js(av()(tn));return e.copy=function(){return el(e,gP())},es.apply(e,arguments)}function bP(){var e=Q1(av()).domain([1,10]);return e.copy=function(){return el(e,bP()).base(e.base())},es.apply(e,arguments)}function yP(){var e=X1(av());return e.copy=function(){return el(e,yP()).constant(e.constant())},es.apply(e,arguments)}function ow(){var e=Z1(av());return e.copy=function(){return el(e,ow()).exponent(e.exponent())},es.apply(e,arguments)}function OV(){return ow.apply(null,arguments).exponent(.5)}function wP(){var e=[],t=tn;function n(r){if(r!=null&&!isNaN(r=+r))return t((Id(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Fs),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,l)=>xU(e,l/r))},n.copy=function(){return wP(t).domain(e)},es.apply(n,arguments)}function iv(){var e=0,t=.5,n=1,r=1,a,l,c,u,f,m=tn,h,v=!1,x;function b(w){return isNaN(w=+w)?x:(w=.5+((w=+h(w))-l)*(r*w<r*l?u:f),m(v?Math.max(0,Math.min(1,w)):w))}b.domain=function(w){return arguments.length?([e,t,n]=w,a=h(e=+e),l=h(t=+t),c=h(n=+n),u=a===l?0:.5/(l-a),f=l===c?0:.5/(c-l),r=l<a?-1:1,b):[e,t,n]},b.clamp=function(w){return arguments.length?(v=!!w,b):v},b.interpolator=function(w){return arguments.length?(m=w,b):m};function S(w){return function(y){var C,M,A;return arguments.length?([C,M,A]=y,m=UU(w,[C,M,A]),b):[m(0),m(.5),m(1)]}}return b.range=S(Mc),b.rangeRound=S(V1),b.unknown=function(w){return arguments.length?(x=w,b):x},function(w){return h=w,a=w(e),l=w(t),c=w(n),u=a===l?0:.5/(l-a),f=l===c?0:.5/(c-l),r=l<a?-1:1,b}}function jP(){var e=Js(iv()(tn));return e.copy=function(){return el(e,jP())},es.apply(e,arguments)}function NP(){var e=Q1(iv()).domain([.1,1,10]);return e.copy=function(){return el(e,NP()).base(e.base())},es.apply(e,arguments)}function SP(){var e=X1(iv());return e.copy=function(){return el(e,SP()).constant(e.constant())},es.apply(e,arguments)}function cw(){var e=Z1(iv());return e.copy=function(){return el(e,cw()).exponent(e.exponent())},es.apply(e,arguments)}function TV(){return cw.apply(null,arguments).exponent(.5)}const Qu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:H1,scaleDiverging:jP,scaleDivergingLog:NP,scaleDivergingPow:cw,scaleDivergingSqrt:TV,scaleDivergingSymlog:SP,scaleIdentity:rP,scaleImplicit:Ty,scaleLinear:tP,scaleLog:aP,scaleOrdinal:q1,scalePoint:yU,scalePow:J1,scaleQuantile:lP,scaleQuantize:oP,scaleRadial:sP,scaleSequential:gP,scaleSequentialLog:bP,scaleSequentialPow:ow,scaleSequentialQuantile:wP,scaleSequentialSqrt:OV,scaleSequentialSymlog:yP,scaleSqrt:mY,scaleSymlog:iP,scaleThreshold:cP,scaleTime:EV,scaleUtc:_V,tickFormat:eP},Symbol.toStringTag,{value:"Module"}));var tl=e=>e.chartData,uw=ne([tl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),CP=(e,t,n,r)=>r?uw(e):tl(e);function Wi(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Bt(t)&&Bt(n))return!0}return!1}function qk(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function AP(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,l;if(Bt(n))a=n;else if(typeof n=="function")return;if(Bt(r))l=r;else if(typeof r=="function")return;var c=[a,l];if(Wi(c))return c}}function PV(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Wi(r))return qk(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,l]=e,c,u;if(a==="auto")t!=null&&(c=Math.min(...t));else if(Qe(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[0]))}catch{}else if(typeof a=="string"&&ZA.test(a)){var f=ZA.exec(a);if(f==null||f[1]==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t?.[0];if(l==="auto")t!=null&&(u=Math.max(...t));else if(Qe(l))u=l;else if(typeof l=="function")try{t!=null&&(u=l(t?.[1]))}catch{}else if(typeof l=="string"&&JA.test(l)){var h=JA.exec(l);if(h==null||h[1]==null||t==null)u=void 0;else{var v=+h[1];u=t[1]+v}}else u=t?.[1];var x=[c,u];if(Wi(x))return t==null?x:qk(x,t,n)}}}var kc=1e9,IV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},fw,tr=!0,la="[DecimalError] ",Hl=la+"Invalid argument: ",dw=la+"Exponent out of range: ",Dc=Math.floor,El=Math.pow,RV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,In,Tr=1e7,Kt=7,MP=9007199254740991,th=Dc(MP/Kt),Oe={};Oe.absoluteValue=Oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Oe.comparedTo=Oe.cmp=function(e){var t,n,r,a,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(r=l.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return r===a?0:r>a^l.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Kt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Oe.dividedBy=Oe.div=function(e){return zi(this,new this.constructor(e))};Oe.dividedToIntegerBy=Oe.idiv=function(e){var t=this,n=t.constructor;return Ht(zi(t,new n(e),0,1),n.precision)};Oe.equals=Oe.eq=function(e){return!this.cmp(e)};Oe.exponent=function(){return Sr(this)};Oe.greaterThan=Oe.gt=function(e){return this.cmp(e)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(e){return this.cmp(e)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(e){return this.cmp(e)<0};Oe.lessThanOrEqualTo=Oe.lte=function(e){return this.cmp(e)<1};Oe.logarithm=Oe.log=function(e){var t,n=this,r=n.constructor,a=r.precision,l=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(In))throw Error(la+"NaN");if(n.s<1)throw Error(la+(n.s?"NaN":"-Infinity"));return n.eq(In)?new r(0):(tr=!1,t=zi(xd(n,l),xd(e,l),l),tr=!0,Ht(t,a))};Oe.minus=Oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?EP(t,e):kP(t,(e.s=-e.s,e))};Oe.modulo=Oe.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(la+"NaN");return n.s?(tr=!1,t=zi(n,e,0,1).times(e),tr=!0,n.minus(t)):Ht(new r(n),a)};Oe.naturalExponential=Oe.exp=function(){return DP(this)};Oe.naturalLogarithm=Oe.ln=function(){return xd(this)};Oe.negated=Oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Oe.plus=Oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?kP(t,e):EP(t,(e.s=-e.s,e))};Oe.precision=Oe.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Hl+e);if(t=Sr(a)+1,r=a.d.length-1,n=r*Kt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Oe.squareRoot=Oe.sqrt=function(){var e,t,n,r,a,l,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(la+"NaN")}for(e=Sr(u),tr=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=Qa(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Dc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(a.toString()),n=f.precision,a=c=n+3;;)if(l=r,r=l.plus(zi(u,l,c+2)).times(.5),Qa(l.d).slice(0,c)===(t=Qa(r.d)).slice(0,c)){if(t=t.slice(c-3,c+1),a==c&&t=="4999"){if(Ht(l,n+1,0),l.times(l).eq(u)){r=l;break}}else if(t!="9999")break;c+=4}return tr=!0,Ht(r,n)};Oe.times=Oe.mul=function(e){var t,n,r,a,l,c,u,f,m,h=this,v=h.constructor,x=h.d,b=(e=new v(e)).d;if(!h.s||!e.s)return new v(0);for(e.s*=h.s,n=h.e+e.e,f=x.length,m=b.length,f<m&&(l=x,x=b,b=l,c=f,f=m,m=c),l=[],c=f+m,r=c;r--;)l.push(0);for(r=m;--r>=0;){for(t=0,a=f+r;a>r;)u=l[a]+b[r]*x[a-r-1]+t,l[a--]=u%Tr|0,t=u/Tr|0;l[a]=(l[a]+t)%Tr|0}for(;!l[--c];)l.pop();return t?++n:l.shift(),e.d=l,e.e=n,tr?Ht(e,v.precision):e};Oe.toDecimalPlaces=Oe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ai(e,0,kc),t===void 0?t=r.rounding:ai(t,0,8),Ht(n,e+Sr(n)+1,t))};Oe.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Zl(r,!0):(ai(e,0,kc),t===void 0?t=a.rounding:ai(t,0,8),r=Ht(new a(r),e+1,t),n=Zl(r,!0,e+1)),n};Oe.toFixed=function(e,t){var n,r,a=this,l=a.constructor;return e===void 0?Zl(a):(ai(e,0,kc),t===void 0?t=l.rounding:ai(t,0,8),r=Ht(new l(a),e+Sr(a)+1,t),n=Zl(r.abs(),!1,e+Sr(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Oe.toInteger=Oe.toint=function(){var e=this,t=e.constructor;return Ht(new t(e),Sr(e)+1,t.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(e){var t,n,r,a,l,c,u=this,f=u.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(In);if(u=new f(u),!u.s){if(e.s<1)throw Error(la+"Infinity");return u}if(u.eq(In))return u;if(r=f.precision,e.eq(In))return Ht(u,r);if(t=e.e,n=e.d.length-1,c=t>=n,l=u.s,c){if((n=h<0?-h:h)<=MP){for(a=new f(In),t=Math.ceil(r/Kt+4),tr=!1;n%2&&(a=a.times(u),Uk(a.d,t)),n=Dc(n/2),n!==0;)u=u.times(u),Uk(u.d,t);return tr=!0,e.s<0?new f(In).div(a):Ht(a,r)}}else if(l<0)throw Error(la+"NaN");return l=l<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,tr=!1,a=e.times(xd(u,r+m)),tr=!0,a=DP(a),a.s=l,a};Oe.toPrecision=function(e,t){var n,r,a=this,l=a.constructor;return e===void 0?(n=Sr(a),r=Zl(a,n<=l.toExpNeg||n>=l.toExpPos)):(ai(e,1,kc),t===void 0?t=l.rounding:ai(t,0,8),a=Ht(new l(a),e,t),n=Sr(a),r=Zl(a,e<=n||n<=l.toExpNeg,e)),r};Oe.toSignificantDigits=Oe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ai(e,1,kc),t===void 0?t=r.rounding:ai(t,0,8)),Ht(new r(n),e,t)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Sr(e),n=e.constructor;return Zl(e,t<=n.toExpNeg||t>=n.toExpPos)};function kP(e,t){var n,r,a,l,c,u,f,m,h=e.constructor,v=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),tr?Ht(t,v):t;if(f=e.d,m=t.d,c=e.e,a=t.e,f=f.slice(),l=c-a,l){for(l<0?(r=f,l=-l,u=m.length):(r=m,a=c,u=f.length),c=Math.ceil(v/Kt),u=c>u?c+1:u+1,l>u&&(l=u,r.length=1),r.reverse();l--;)r.push(0);r.reverse()}for(u=f.length,l=m.length,u-l<0&&(l=u,r=m,m=f,f=r),n=0;l;)n=(f[--l]=f[l]+m[l]+n)/Tr|0,f[l]%=Tr;for(n&&(f.unshift(n),++a),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=a,tr?Ht(t,v):t}function ai(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Hl+e)}function Qa(e){var t,n,r,a=e.length-1,l="",c=e[0];if(a>0){for(l+=c,t=1;t<a;t++)r=e[t]+"",n=Kt-r.length,n&&(l+=Is(n)),l+=r;c=e[t],r=c+"",n=Kt-r.length,n&&(l+=Is(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var zi=(function(){function e(r,a){var l,c=0,u=r.length;for(r=r.slice();u--;)l=r[u]*a+c,r[u]=l%Tr|0,c=l/Tr|0;return c&&r.unshift(c),r}function t(r,a,l,c){var u,f;if(l!=c)f=l>c?1:-1;else for(u=f=0;u<l;u++)if(r[u]!=a[u]){f=r[u]>a[u]?1:-1;break}return f}function n(r,a,l){for(var c=0;l--;)r[l]-=c,c=r[l]<a[l]?1:0,r[l]=c*Tr+r[l]-a[l];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,l,c){var u,f,m,h,v,x,b,S,w,y,C,M,A,_,E,T,P,O,L=r.constructor,R=r.s==a.s?1:-1,B=r.d,D=a.d;if(!r.s)return new L(r);if(!a.s)throw Error(la+"Division by zero");for(f=r.e-a.e,P=D.length,E=B.length,b=new L(R),S=b.d=[],m=0;D[m]==(B[m]||0);)++m;if(D[m]>(B[m]||0)&&--f,l==null?M=l=L.precision:c?M=l+(Sr(r)-Sr(a))+1:M=l,M<0)return new L(0);if(M=M/Kt+2|0,m=0,P==1)for(h=0,D=D[0],M++;(m<E||h)&&M--;m++)A=h*Tr+(B[m]||0),S[m]=A/D|0,h=A%D|0;else{for(h=Tr/(D[0]+1)|0,h>1&&(D=e(D,h),B=e(B,h),P=D.length,E=B.length),_=P,w=B.slice(0,P),y=w.length;y<P;)w[y++]=0;O=D.slice(),O.unshift(0),T=D[0],D[1]>=Tr/2&&++T;do h=0,u=t(D,w,P,y),u<0?(C=w[0],P!=y&&(C=C*Tr+(w[1]||0)),h=C/T|0,h>1?(h>=Tr&&(h=Tr-1),v=e(D,h),x=v.length,y=w.length,u=t(v,w,x,y),u==1&&(h--,n(v,P<x?O:D,x))):(h==0&&(u=h=1),v=D.slice()),x=v.length,x<y&&v.unshift(0),n(w,v,y),u==-1&&(y=w.length,u=t(D,w,P,y),u<1&&(h++,n(w,P<y?O:D,y))),y=w.length):u===0&&(h++,w=[0]),S[m++]=h,u&&w[0]?w[y++]=B[_]||0:(w=[B[_]],y=1);while((_++<E||w[0]!==void 0)&&M--)}return S[0]||S.shift(),b.e=f,Ht(b,c?l+Sr(b)+1:l)}})();function DP(e,t){var n,r,a,l,c,u,f=0,m=0,h=e.constructor,v=h.precision;if(Sr(e)>16)throw Error(dw+Sr(e));if(!e.s)return new h(In);for(tr=!1,u=v,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(r=Math.log(El(2,m))/Math.LN10*2+5|0,u+=r,n=a=l=new h(In),h.precision=u;;){if(a=Ht(a.times(e),u),n=n.times(++f),c=l.plus(zi(a,n,u)),Qa(c.d).slice(0,u)===Qa(l.d).slice(0,u)){for(;m--;)l=Ht(l.times(l),u);return h.precision=v,t==null?(tr=!0,Ht(l,v)):l}l=c}}function Sr(e){for(var t=e.e*Kt,n=e.d[0];n>=10;n/=10)t++;return t}function db(e,t,n){if(t>e.LN10.sd())throw tr=!0,n&&(e.precision=n),Error(la+"LN10 precision limit exceeded");return Ht(new e(e.LN10),t)}function Is(e){for(var t="";e--;)t+="0";return t}function xd(e,t){var n,r,a,l,c,u,f,m,h,v=1,x=10,b=e,S=b.d,w=b.constructor,y=w.precision;if(b.s<1)throw Error(la+(b.s?"NaN":"-Infinity"));if(b.eq(In))return new w(0);if(t==null?(tr=!1,m=y):m=t,b.eq(10))return t==null&&(tr=!0),db(w,m);if(m+=x,w.precision=m,n=Qa(S),r=n.charAt(0),l=Sr(b),Math.abs(l)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=Qa(b.d),r=n.charAt(0),v++;l=Sr(b),r>1?(b=new w("0."+n),l++):b=new w(r+"."+n.slice(1))}else return f=db(w,m+2,y).times(l+""),b=xd(new w(r+"."+n.slice(1)),m-x).plus(f),w.precision=y,t==null?(tr=!0,Ht(b,y)):b;for(u=c=b=zi(b.minus(In),b.plus(In),m),h=Ht(b.times(b),m),a=3;;){if(c=Ht(c.times(h),m),f=u.plus(zi(c,new w(a),m)),Qa(f.d).slice(0,m)===Qa(u.d).slice(0,m))return u=u.times(2),l!==0&&(u=u.plus(db(w,m+2,y).times(l+""))),u=zi(u,new w(v),m),w.precision=y,t==null?(tr=!0,Ht(u,y)):u;u=f,a+=2}}function Hk(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Dc(n/Kt),e.d=[],r=(n+1)%Kt,n<0&&(r+=Kt),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Kt;r<a;)e.d.push(+t.slice(r,r+=Kt));t=t.slice(r),r=Kt-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),tr&&(e.e>th||e.e<-th))throw Error(dw+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ht(e,t,n){var r,a,l,c,u,f,m,h,v=e.d;for(c=1,l=v[0];l>=10;l/=10)c++;if(r=t-c,r<0)r+=Kt,a=t,m=v[h=0];else{if(h=Math.ceil((r+1)/Kt),l=v.length,h>=l)return e;for(m=l=v[h],c=1;l>=10;l/=10)c++;r%=Kt,a=r-Kt+c}if(n!==void 0&&(l=El(10,c-a-1),u=m/l%10|0,f=t<0||v[h+1]!==void 0||m%l,f=n<4?(u||f)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?a>0?m/El(10,c-a):0:v[h-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return f?(l=Sr(e),v.length=1,t=t-l-1,v[0]=El(10,(Kt-t%Kt)%Kt),e.e=Dc(-t/Kt)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(r==0?(v.length=h,l=1,h--):(v.length=h+1,l=El(10,Kt-r),v[h]=a>0?(m/El(10,c-a)%El(10,a)|0)*l:0),f)for(;;)if(h==0){(v[0]+=l)==Tr&&(v[0]=1,++e.e);break}else{if(v[h]+=l,v[h]!=Tr)break;v[h--]=0,l=1}for(r=v.length;v[--r]===0;)v.pop();if(tr&&(e.e>th||e.e<-th))throw Error(dw+Sr(e));return e}function EP(e,t){var n,r,a,l,c,u,f,m,h,v,x=e.constructor,b=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),tr?Ht(t,b):t;if(f=e.d,v=t.d,r=t.e,m=e.e,f=f.slice(),c=m-r,c){for(h=c<0,h?(n=f,c=-c,u=v.length):(n=v,r=m,u=f.length),a=Math.max(Math.ceil(b/Kt),u)+2,c>a&&(c=a,n.length=1),n.reverse(),a=c;a--;)n.push(0);n.reverse()}else{for(a=f.length,u=v.length,h=a<u,h&&(u=a),a=0;a<u;a++)if(f[a]!=v[a]){h=f[a]<v[a];break}c=0}for(h&&(n=f,f=v,v=n,t.s=-t.s),u=f.length,a=v.length-u;a>0;--a)f[u++]=0;for(a=v.length;a>c;){if(f[--a]<v[a]){for(l=a;l&&f[--l]===0;)f[l]=Tr-1;--f[l],f[a]+=Tr}f[a]-=v[a]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,tr?Ht(t,b):t):new x(0)}function Zl(e,t,n){var r,a=Sr(e),l=Qa(e.d),c=l.length;return t?(n&&(r=n-c)>0?l=l.charAt(0)+"."+l.slice(1)+Is(r):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(a<0?"e":"e+")+a):a<0?(l="0."+Is(-a-1)+l,n&&(r=n-c)>0&&(l+=Is(r))):a>=c?(l+=Is(a+1-c),n&&(r=n-a-1)>0&&(l=l+"."+Is(r))):((r=a+1)<c&&(l=l.slice(0,r)+"."+l.slice(r)),n&&(r=n-c)>0&&(a+1===c&&(l+="."),l+=Is(r))),e.s<0?"-"+l:l}function Uk(e,t){if(e.length>t)return e.length=t,!0}function _P(e){var t,n,r;function a(l){var c=this;if(!(c instanceof a))return new a(l);if(c.constructor=a,l instanceof a){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(Hl+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return Hk(c,l.toString())}else if(typeof l!="string")throw Error(Hl+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,RV.test(l))Hk(c,l);else throw Error(Hl+l)}if(a.prototype=Oe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=_P,a.config=a.set=LV,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function LV(e){if(!e||typeof e!="object")throw Error(la+"Object expected");var t,n,r,a=["precision",1,kc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Dc(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(Hl+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Hl+n+": "+r);return this}var fw=_P(IV);In=new fw(1);const Ot=fw;function OP(e){var t;return e===0?t=1:t=Math.floor(new Ot(e).abs().log(10).toNumber())+1,t}function TP(e,t,n){for(var r=new Ot(e),a=0,l=[];r.lt(t)&&a<1e5;)l.push(r.toNumber()),r=r.add(n),a++;return l}var PP=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},IP=(e,t,n)=>{if(e.lte(0))return new Ot(0);var r=OP(e.toNumber()),a=new Ot(10).pow(r),l=e.div(a),c=r!==1?.05:.1,u=new Ot(Math.ceil(l.div(c).toNumber())).add(n).mul(c),f=u.mul(a);return t?new Ot(f.toNumber()):new Ot(Math.ceil(f.toNumber()))},zV=(e,t,n)=>{var r=new Ot(1),a=new Ot(e);if(!a.isint()&&n){var l=Math.abs(e);l<1?(r=new Ot(10).pow(OP(e)-1),a=new Ot(Math.floor(a.div(r).toNumber())).mul(r)):l>1&&(a=new Ot(Math.floor(e)))}else e===0?a=new Ot(Math.floor((t-1)/2)):n||(a=new Ot(Math.floor(e)));for(var c=Math.floor((t-1)/2),u=[],f=0;f<t;f++)u.push(a.add(new Ot(f-c).mul(r)).toNumber());return u},RP=function(t,n,r,a){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ot(0),tickMin:new Ot(0),tickMax:new Ot(0)};var c=IP(new Ot(n).sub(t).div(r-1),a,l),u;t<=0&&n>=0?u=new Ot(0):(u=new Ot(t).add(n).div(2),u=u.sub(new Ot(u).mod(c)));var f=Math.ceil(u.sub(t).div(c).toNumber()),m=Math.ceil(new Ot(n).sub(u).div(c).toNumber()),h=f+m+1;return h>r?RP(t,n,r,a,l+1):(h<r&&(m=n>0?m+(r-h):m,f=n>0?f:f+(r-h)),{step:c,tickMin:u.sub(new Ot(f).mul(c)),tickMax:u.add(new Ot(m).mul(c))})},FV=function(t){var[n,r]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),[u,f]=PP([n,r]);if(u===-1/0||f===1/0){var m=f===1/0?[u,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),f];return n>r?m.reverse():m}if(u===f)return zV(u,a,l);var{step:h,tickMin:v,tickMax:x}=RP(u,f,c,l,0),b=TP(v,x.add(new Ot(.1).mul(h)),h);return n>r?b.reverse():b},BV=function(t,n){var[r,a]=t,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,u]=PP([r,a]);if(c===-1/0||u===1/0)return[r,a];if(c===u)return[c];var f=Math.max(n,2),m=IP(new Ot(u).sub(c).div(f-1),l,0),h=[...TP(new Ot(c),new Ot(u),m),u];return l===!1&&(h=h.map(v=>Math.round(v))),r>a?h.reverse():h},$V=e=>e.rootProps.barCategoryGap,Fd=e=>e.rootProps.stackOffset,LP=e=>e.rootProps.reverseStackOrder,mw=e=>e.options.chartName,pw=e=>e.rootProps.syncId,zP=e=>e.rootProps.syncMethod,hw=e=>e.options.eventEmitter,ya={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Sl={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Ba={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},sv=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function FP(e,t,n){if(n!=="auto")return n;if(e!=null)return Xs(e,t)?"category":"number"}function Yk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yk(Object(n),!0).forEach(function(r){qV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qV(e,t,n){return(t=HV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HV(e){var t=UV(e,"string");return typeof t=="symbol"?t:t+""}function UV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vk={allowDataOverflow:Sl.allowDataOverflow,allowDecimals:Sl.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Sl.angleAxisId,includeHidden:!1,name:void 0,reversed:Sl.reversed,scale:Sl.scale,tick:Sl.tick,tickCount:void 0,ticks:void 0,type:Sl.type,unit:void 0},Gk={allowDataOverflow:Ba.allowDataOverflow,allowDecimals:Ba.allowDecimals,allowDuplicatedCategory:Ba.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ba.radiusAxisId,includeHidden:Ba.includeHidden,name:void 0,reversed:Ba.reversed,scale:Ba.scale,tick:Ba.tick,tickCount:Ba.tickCount,ticks:void 0,type:Ba.type,unit:void 0},YV=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},vw=ne([YV,MT],(e,t)=>{var n;if(e!=null)return e;var r=(n=FP(t,"angleAxis",Vk.type))!==null&&n!==void 0?n:"category";return rh(rh({},Vk),{},{type:r})}),VV=(e,t)=>e.polarAxis.radiusAxis[t],xw=ne([VV,MT],(e,t)=>{var n;if(e!=null)return e;var r=(n=FP(t,"radiusAxis",Gk.type))!==null&&n!==void 0?n:"category";return rh(rh({},Gk),{},{type:r})}),lv=e=>e.polarOptions,gw=ne([Zi,Ji,Ir],$T),BP=ne([lv,gw],(e,t)=>{if(e!=null)return Ln(e.innerRadius,t,0)}),$P=ne([lv,gw],(e,t)=>{if(e!=null)return Ln(e.outerRadius,t,t*.8)}),GV=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},qP=ne([lv],GV);ne([vw,qP],sv);var HP=ne([gw,BP,$P],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ne([xw,HP],sv);var UP=ne([nr,lv,BP,$P,Zi,Ji],(e,t,n,r,a,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:c,cy:u,startAngle:f,endAngle:m}=t;return{cx:Ln(c,a,a/2),cy:Ln(u,l,l/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:m,clockWise:!1}}}),ir=(e,t)=>t,Bd=(e,t,n)=>n;function YP(e){return e?.id}function VP(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:l}=n,c=new Map;return e.forEach(u=>{var f,m=(f=u.data)!==null&&f!==void 0?f:r;if(!(m==null||m.length===0)){var h=YP(u);m.forEach((v,x)=>{var b=l==null||a?x:String(ur(v,l,null)),S=ur(v,u.dataKey,0),w;c.has(b)?w=c.get(b):w={},Object.assign(w,{[h]:S}),c.set(b,w)})}}),Array.from(c.values())}function bw(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var ov=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function cv(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function WV(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Lr=e=>{var t=nr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ec=e=>e.tooltip.settings.axisId;function KV(e){if(e in Qu)return Qu[e]();var t="scale".concat(kd(e));if(t in Qu)return Qu[t]()}function Wk(e){var t=e.ticks,n=e.bandwidth,r=e.range(),a=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:(function(l){function c(){return l.apply(this,arguments)}return c.toString=function(){return l.toString()},c})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(l){var c=a[0],u=a[1];return c<=u?l>=c&&l<=u:l>=u&&l<=c},bandwidth:n?()=>n.call(e):void 0,ticks:t?l=>t.call(e,l):void 0,map:(l,c)=>{var u=e(l);if(u!=null){if(e.bandwidth&&c!==null&&c!==void 0&&c.position){var f=e.bandwidth();switch(c.position){case"middle":u+=f/2;break;case"end":u+=f;break}}return u}}}}function Kk(e,t,n){if(typeof e=="function")return Wk(e.copy().domain(t).range(n));if(e!=null){var r=KV(e);if(r!=null)return r.domain(t).range(n),Wk(r)}}var GP=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Wi(t)){for(var n,r,a=0;a<t.length;a++){var l=t[a];Bt(l)&&((n===void 0||l<n)&&(n=l),(r===void 0||l>r)&&(r=l))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function Qk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qk(Object(n),!0).forEach(function(r){QV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QV(e,t,n){return(t=XV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XV(e){var t=ZV(e,"string");return typeof t=="symbol"?t:t+""}function ZV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ly=[0,"auto"],JV={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},eG=(e,t)=>e.cartesianAxis.xAxis[t],rl=(e,t)=>{var n=eG(e,t);return n??JV},tG={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ly,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Od},rG=(e,t)=>e.cartesianAxis.yAxis[t],nl=(e,t)=>{var n=rG(e,t);return n??tG},nG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},yw=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??nG},fr=(e,t,n)=>{switch(t){case"xAxis":return rl(e,n);case"yAxis":return nl(e,n);case"zAxis":return yw(e,n);case"angleAxis":return vw(e,n);case"radiusAxis":return xw(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},aG=(e,t,n)=>{switch(t){case"xAxis":return rl(e,n);case"yAxis":return nl(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},_c=(e,t,n)=>{switch(t){case"xAxis":return rl(e,n);case"yAxis":return nl(e,n);case"angleAxis":return vw(e,n);case"radiusAxis":return xw(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},WP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function ww(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var iG=e=>e.graphicalItems.cartesianItems,sG=ne([ir,Bd],ww),jw=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),$d=ne([iG,fr,sG],jw,{memoizeOptions:{resultEqualityCheck:cv}}),KP=ne([$d],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(bw)),QP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),lG=ne([$d],QP),Nw=e=>e.map(t=>t.data).filter(Boolean).flat(1),oG=ne([$d],Nw,{memoizeOptions:{resultEqualityCheck:cv}}),Sw=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},Cw=ne([oG,CP],Sw),Aw=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:ur(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:ur(a,r)}))):e.map(r=>({value:r})),uv=ne([Cw,fr,$d],Aw);function XP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ap(e){if(Hi(e)||e instanceof Date){var t=Number(e);if(Bt(t))return t}}function Xk(e){if(Array.isArray(e)){var t=[ap(e[0]),ap(e[1])];return Wi(t)?t:void 0}var n=ap(e);if(n!=null)return[n,n]}function Ki(e){return e.map(ap).filter(Wa)}function cG(e,t,n){return!n||typeof t!="number"||qi(t)?[]:n.length?Ki(n.flatMap(r=>{var a=ur(e,r.dataKey),l,c;if(Array.isArray(a)?[l,c]=a:l=c=a,!(!Bt(l)||!Bt(c)))return[t-l,t+c]})):[]}var Er=e=>{var t=Lr(e),n=Ec(e);return _c(e,t,n)},qd=ne([Er],e=>e?.dataKey),uG=ne([KP,CP,Er],VP),ZP=(e,t,n,r)=>{var a={},l=t.reduce((c,u)=>{if(u.stackId==null)return c;var f=c[u.stackId];return f==null&&(f=[]),f.push(u),c[u.stackId]=f,c},a);return Object.fromEntries(Object.entries(l).map(c=>{var[u,f]=c,m=r?[...f].reverse():f,h=m.map(YP);return[u,{stackedData:zH(e,h,n),graphicalItems:m}]}))},dG=ne([uG,KP,Fd,LP],ZP),JP=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:l}=t;if(r==null&&n!=="zAxis"){var c=$H(e,a,l);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},fG=ne([fr],e=>e.allowDataOverflow),Mw=e=>{var t;if(e==null||!("domain"in e))return Ly;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Ki(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Ly},kw=ne([fr],Mw),Dw=ne([kw,fG],AP),mG=ne([dG,tl,ir,Dw],JP,{memoizeOptions:{resultEqualityCheck:ov}}),dv=e=>e.errorBars,pG=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>XP(n,r)),ah=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var l=a.flat(),c=Math.min(...l),u=Math.max(...l);return[c,u]}},Ew=(e,t,n,r,a)=>{var l,c;if(n.length>0&&e.forEach(u=>{n.forEach(f=>{var m,h,v=(m=r[f.id])===null||m===void 0?void 0:m.filter(C=>XP(a,C)),x=ur(u,(h=t.dataKey)!==null&&h!==void 0?h:f.dataKey),b=cG(u,x,v);if(b.length>=2){var S=Math.min(...b),w=Math.max(...b);(l==null||S<l)&&(l=S),(c==null||w>c)&&(c=w)}var y=Xk(x);y!=null&&(l=l==null?y[0]:Math.min(l,y[0]),c=c==null?y[1]:Math.max(c,y[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var f=Xk(ur(u,t.dataKey));f!=null&&(l=l==null?f[0]:Math.min(l,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),Bt(l)&&Bt(c))return[l,c]},hG=ne([Cw,fr,lG,dv,ir],Ew,{memoizeOptions:{resultEqualityCheck:ov}});function vG(e){var{value:t}=e;if(Hi(t)||t instanceof Date)return t}var xG=(e,t,n)=>{var r=e.map(vG).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&M5(r))?YT(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},e4=e=>e.referenceElements.dots,Oc=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),gG=ne([e4,ir,Bd],Oc),t4=e=>e.referenceElements.areas,bG=ne([t4,ir,Bd],Oc),r4=e=>e.referenceElements.lines,yG=ne([r4,ir,Bd],Oc),n4=(e,t)=>{if(e!=null){var n=Ki(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},wG=ne(gG,ir,n4),a4=(e,t)=>{if(e!=null){var n=Ki(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},jG=ne([bG,ir],a4);function NG(e){var t;if(e.x!=null)return Ki([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Ki(n)}function SG(e){var t;if(e.y!=null)return Ki([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Ki(n)}var i4=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?NG(r):SG(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},CG=ne([yG,ir],i4),AG=ne(wG,CG,jG,(e,t,n)=>ah(e,n,t)),_w=(e,t,n,r,a,l,c,u)=>{if(n!=null)return n;var f=c==="vertical"&&u==="xAxis"||c==="horizontal"&&u==="yAxis",m=f?ah(r,l,a):ah(l,a);return PV(t,m,e.allowDataOverflow)},MG=ne([fr,kw,Dw,mG,hG,AG,nr,ir],_w,{memoizeOptions:{resultEqualityCheck:ov}}),kG=[0,1],Ow=(e,t,n,r,a,l,c)=>{if(!((e==null||n==null||n.length===0)&&c===void 0)){var{dataKey:u,type:f}=e,m=Xs(t,l);if(m&&u==null){var h;return YT(0,(h=n?.length)!==null&&h!==void 0?h:0)}return f==="category"?xG(r,e,m):a==="expand"?kG:c}},Tw=ne([fr,nr,Cw,uv,Fd,ir,MG],Ow);function DG(e){return e in Qu}var s4=(e,t,n)=>{if(e!=null){var{scale:r,type:a}=e;if(r==="auto")return a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof r=="string"){var l="scale".concat(kd(r));return DG(l)?l:"point"}}},al=ne([fr,WP,mw],s4);function Pw(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?Kk(e.scale,n,r):Kk(t,n,r)}var Iw=(e,t,n)=>{var r=Mw(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Wi(e))return FV(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Wi(e))return BV(e,t.tickCount,t.allowDecimals)}},Rw=ne([Tw,_c,al],Iw),Lw=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Wi(t)&&Array.isArray(n)&&n.length>0){var a,l,c=t[0],u=(a=n[0])!==null&&a!==void 0?a:0,f=t[1],m=(l=n[n.length-1])!==null&&l!==void 0?l:0;return[Math.min(c,u),Math.max(f,m)]}return t},EG=ne([fr,Tw,Rw,ir],Lw),_G=ne(uv,fr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ki(e.map(v=>v.value))).sort((v,x)=>v-x),a=r[0],l=r[r.length-1];if(a==null||l==null)return 1/0;var c=l-a;if(c===0)return 1/0;for(var u=0;u<r.length-1;u++){var f=r[u],m=r[u+1];if(!(f==null||m==null)){var h=m-f;n=Math.min(n,h)}}return n/c}}),l4=ne(_G,nr,$V,Ir,(e,t,n,r,a)=>a,(e,t,n,r,a)=>{if(!Bt(e))return 0;var l=t==="vertical"?r.height:r.width;if(a==="gap")return e*l/2;if(a==="no-gap"){var c=Ln(n,e*l),u=e*l/2;return u-c-(u-c)/l*c}return 0}),OG=(e,t,n)=>{var r=rl(e,t);return r==null||typeof r.padding!="string"?0:l4(e,"xAxis",t,n,r.padding)},TG=(e,t,n)=>{var r=nl(e,t);return r==null||typeof r.padding!="string"?0:l4(e,"yAxis",t,n,r.padding)},PG=ne(rl,OG,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),IG=ne(nl,TG,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),RG=ne([Ir,PG,Wh,Gh,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:l}=r;return a?[l.left,n.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),LG=ne([Ir,nr,IG,Wh,Gh,(e,t,n)=>n],(e,t,n,r,a,l)=>{var{padding:c}=a;return l?[r.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Hd=(e,t,n,r)=>{var a;switch(t){case"xAxis":return RG(e,n,r);case"yAxis":return LG(e,n,r);case"zAxis":return(a=yw(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return qP(e);case"radiusAxis":return HP(e,n);default:return}},o4=ne([fr,Hd],sv),zG=ne([al,EG],GP),fv=ne([fr,al,zG,o4],Pw);ne([$d,dv,ir],pG);function c4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var mv=(e,t)=>t,pv=(e,t,n)=>n,FG=ne(Yh,mv,pv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(c4)),BG=ne(Vh,mv,pv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(c4)),u4=(e,t)=>({width:e.width,height:t.height}),$G=(e,t)=>{var n=typeof t.width=="number"?t.width:Od;return{width:n,height:e.height}};ne(Ir,rl,u4);var qG=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},HG=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},UG=ne(Ji,Ir,FG,mv,pv,(e,t,n,r,a)=>{var l={},c;return n.forEach(u=>{var f=u4(t,u);c==null&&(c=qG(t,r,e));var m=r==="top"&&!a||r==="bottom"&&a;l[u.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),l}),YG=ne(Zi,Ir,BG,mv,pv,(e,t,n,r,a)=>{var l={},c;return n.forEach(u=>{var f=$G(t,u);c==null&&(c=HG(t,r,e));var m=r==="left"&&!a||r==="right"&&a;l[u.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),l}),VG=(e,t)=>{var n=rl(e,t);if(n!=null)return UG(e,n.orientation,n.mirror)};ne([Ir,rl,VG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n?.[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}});var GG=(e,t)=>{var n=nl(e,t);if(n!=null)return YG(e,n.orientation,n.mirror)};ne([Ir,nl,GG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n?.[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}});ne(Ir,nl,(e,t)=>{var n=typeof t.width=="number"?t.width:Od;return{width:n,height:e.height}});var d4=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:l,dataKey:c}=n,u=Xs(e,r),f=t.map(m=>m.value);if(c&&u&&l==="category"&&a&&M5(f))return f}},zw=ne([nr,uv,fr,ir],d4),f4=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:l}=n,c=Xs(e,r);if(c&&(a==="number"||l!=="auto"))return t.map(u=>u.value)}},Fw=ne([nr,uv,_c,ir],f4);ne([nr,aG,al,fv,zw,Fw,Hd,Rw,ir],(e,t,n,r,a,l,c,u,f)=>{if(t!=null){var m=Xs(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:l,duplicateDomain:a,isCategorical:m,niceTicks:u,range:c,realScaleType:n,scale:r}}});var WG=(e,t,n,r,a,l,c,u,f)=>{if(!(t==null||r==null)){var m=Xs(e,f),{type:h,ticks:v,tickCount:x}=t,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=h==="category"&&r.bandwidth?r.bandwidth()/b:0;S=f==="angleAxis"&&l!=null&&l.length>=2?bn(l[0]-l[1])*2*S:S;var w=v||a;return w?w.map((y,C)=>{var M=c?c.indexOf(y):y,A=r.map(M);return Bt(A)?{index:C,coordinate:A+S,value:y,offset:S}:null}).filter(Wa):m&&u?u.map((y,C)=>{var M=r.map(y);return Bt(M)?{coordinate:M+S,value:y,index:C,offset:S}:null}).filter(Wa):r.ticks?r.ticks(x).map((y,C)=>{var M=r.map(y);return Bt(M)?{coordinate:M+S,value:y,index:C,offset:S}:null}).filter(Wa):r.domain().map((y,C)=>{var M=r.map(y);return Bt(M)?{coordinate:M+S,value:c?c[y]:y,index:C,offset:S}:null}).filter(Wa)}};ne([nr,_c,al,fv,Rw,Hd,zw,Fw,ir],WG);var KG=(e,t,n,r,a,l,c)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=Xs(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&r?.length>=2?bn(r[0]-r[1])*2*m:m,u&&l?l.map((h,v)=>{var x=n.map(h);return Bt(x)?{coordinate:x+m,value:h,index:v,offset:m}:null}).filter(Wa):n.ticks?n.ticks(f).map((h,v)=>{var x=n.map(h);return Bt(x)?{coordinate:x+m,value:h,index:v,offset:m}:null}).filter(Wa):n.domain().map((h,v)=>{var x=n.map(h);return Bt(x)?{coordinate:x+m,value:a?a[h]:h,index:v,offset:m}:null}).filter(Wa)}};ne([nr,_c,fv,Hd,zw,Fw,ir],KG);ne(fr,fv,(e,t)=>{if(!(e==null||t==null))return nh(nh({},e),{},{scale:t})});var QG=ne([fr,al,Tw,o4],Pw);ne((e,t,n)=>yw(e,n),QG,(e,t)=>{if(!(e==null||t==null))return nh(nh({},e),{},{scale:t})});var XG=ne([nr,Yh,Vh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),m4=e=>e.options.defaultTooltipEventType,p4=e=>e.options.validateTooltipEventTypes;function h4(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Bw(e,t){var n=m4(e),r=p4(e);return h4(t,n,r)}function ZG(e){return nt(t=>Bw(t,e))}var v4=(e,t)=>{var n,r=Number(t);if(!(qi(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},JG=e=>e.tooltip.settings,Rs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},eW={itemInteraction:{click:Rs,hover:Rs},axisInteraction:{click:Rs,hover:Rs},keyboardInteraction:Rs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},x4=jn({name:"tooltip",initialState:eW,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:er()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,a=wa(e).tooltipItemPayloads.indexOf(n);a>-1&&(e.tooltipItemPayloads[a]=r)},prepare:er()},removeTooltipEntrySettings:{reducer(e,t){var n=wa(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:er()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:tW,replaceTooltipEntrySettings:rW,removeTooltipEntrySettings:nW,setTooltipSettingsState:aW,setActiveMouseOverItemIndex:g4,mouseLeaveItem:iW,mouseLeaveChart:b4,setActiveClickItemIndex:sW,setMouseOverAxisIndex:y4,setMouseClickAxisIndex:lW,setSyncInteraction:zy,setKeyboardInteraction:Fy}=x4.actions,oW=x4.reducer;function Zk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Am(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zk(Object(n),!0).forEach(function(r){cW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cW(e,t,n){return(t=uW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uW(e){var t=dW(e,"string");return typeof t=="symbol"?t:t+""}function dW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fW(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function mW(e){return e.index!=null}var w4=(e,t,n,r)=>{if(t==null)return Rs;var a=fW(e,t,n);if(a==null)return Rs;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(mW(a)){if(l)return Am(Am({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Am(Am({},Rs),{},{coordinate:a.coordinate})};function pW(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function hW(e,t){var n=pW(e),r=t[0],a=t[1];if(n===void 0)return!1;var l=Math.min(r,a),c=Math.max(r,a);return n>=l&&n<=c}function vW(e,t,n){if(n==null||t==null)return!0;var r=ur(e,t);return r==null||!Wi(n)?!0:hW(r,n)}var $w=(e,t,n,r)=>{var a=e?.index;if(a==null)return null;var l=Number(a);if(!Bt(l))return a;var c=0,u=1/0;t.length>0&&(u=t.length-1);var f=Math.max(c,Math.min(l,u)),m=t[f];return m==null||vW(m,n,r)?String(f):null},j4=(e,t,n,r,a,l,c)=>{if(l!=null){var u=c[0],f=u?.getPosition(l);if(f!=null)return f;var m=a?.[Number(l)];if(m)return n==="horizontal"?{x:m.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:m.coordinate}}},N4=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&r!=null){var l=e.tooltipItemPayloads[0];return l!=null?[l]:[]}return e.tooltipItemPayloads.filter(c=>{var u;return((u=c.settings)===null||u===void 0?void 0:u.graphicalItemId)===a})},S4=e=>e.options.tooltipPayloadSearcher,Tc=e=>e.tooltip;function Jk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function eD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jk(Object(n),!0).forEach(function(r){xW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xW(e,t,n){return(t=gW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gW(e){var t=bW(e,"string");return typeof t=="symbol"?t:t+""}function bW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yW(e,t){return e??t}var C4=(e,t,n,r,a,l,c)=>{if(!(t==null||l==null)){var{chartData:u,computedData:f,dataStartIndex:m,dataEndIndex:h}=n,v=[];return e.reduce((x,b)=>{var S,{dataDefinedOnItem:w,settings:y}=b,C=yW(w,u),M=Array.isArray(C)?gT(C,m,h):C,A=(S=y?.dataKey)!==null&&S!==void 0?S:r,_=y?.nameKey,E;if(r&&Array.isArray(M)&&!Array.isArray(M[0])&&c==="axis"?E=g$(M,r,a):E=l(M,t,f,_),Array.isArray(E))E.forEach(P=>{var O=eD(eD({},y),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});x.push(tM({tooltipEntrySettings:O,dataKey:P.dataKey,payload:P.payload,value:ur(P.payload,P.dataKey),name:P.name}))});else{var T;x.push(tM({tooltipEntrySettings:y,dataKey:A,payload:E,value:ur(E,A),name:(T=ur(E,_))!==null&&T!==void 0?T:y?.name}))}return x},v)}},qw=ne([Er,WP,mw],s4),wW=ne([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),jW=ne([Lr,Ec],ww),Pc=ne([wW,Er,jW],jw,{memoizeOptions:{resultEqualityCheck:cv}}),NW=ne([Pc],e=>e.filter(bw)),SW=ne([Pc],Nw,{memoizeOptions:{resultEqualityCheck:cv}}),Ic=ne([SW,tl],Sw),CW=ne([NW,tl,Er],VP),Hw=ne([Ic,Er,Pc],Aw),A4=ne([Er],Mw),AW=ne([Er],e=>e.allowDataOverflow),M4=ne([A4,AW],AP),MW=ne([Pc],e=>e.filter(bw)),kW=ne([CW,MW,Fd,LP],ZP),DW=ne([kW,tl,Lr,M4],JP),EW=ne([Pc],QP),_W=ne([Ic,Er,EW,dv,Lr],Ew,{memoizeOptions:{resultEqualityCheck:ov}}),OW=ne([e4,Lr,Ec],Oc),TW=ne([OW,Lr],n4),PW=ne([t4,Lr,Ec],Oc),IW=ne([PW,Lr],a4),RW=ne([r4,Lr,Ec],Oc),LW=ne([RW,Lr],i4),zW=ne([TW,LW,IW],ah),FW=ne([Er,A4,M4,DW,_W,zW,nr,Lr],_w),Ud=ne([Er,nr,Ic,Hw,Fd,Lr,FW],Ow),BW=ne([Ud,Er,qw],Iw),$W=ne([Er,Ud,BW,Lr],Lw),k4=e=>{var t=Lr(e),n=Ec(e),r=!1;return Hd(e,t,n,r)},D4=ne([Er,k4],sv),E4=ne([Er,qw,$W,D4],Pw),qW=ne([nr,Hw,Er,Lr],d4),HW=ne([nr,Hw,Er,Lr],f4),UW=(e,t,n,r,a,l,c,u)=>{if(t){var{type:f}=t,m=Xs(e,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,v=f==="category"&&r.bandwidth?r.bandwidth()/h:0;return v=u==="angleAxis"&&a!=null&&a?.length>=2?bn(a[0]-a[1])*2*v:v,m&&c?c.map((x,b)=>{var S=r.map(x);return Bt(S)?{coordinate:S+v,value:x,index:b,offset:v}:null}).filter(Wa):r.domain().map((x,b)=>{var S=r.map(x);return Bt(S)?{coordinate:S+v,value:l?l[x]:x,index:b,offset:v}:null}).filter(Wa)}}},ts=ne([nr,Er,qw,E4,k4,qW,HW,Lr],UW),Uw=ne([m4,p4,JG],(e,t,n)=>h4(n.shared,e,t)),_4=e=>e.tooltip.settings.trigger,Yw=e=>e.tooltip.settings.defaultIndex,Yd=ne([Tc,Uw,_4,Yw],w4),gd=ne([Yd,Ic,qd,Ud],$w),O4=ne([ts,gd],v4),T4=ne([Yd],e=>{if(e)return e.dataKey}),YW=ne([Yd],e=>{if(e)return e.graphicalItemId}),P4=ne([Tc,Uw,_4,Yw],N4),VW=ne([Zi,Ji,nr,Ir,ts,Yw,P4],j4),GW=ne([Yd,VW],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),WW=ne([Yd],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),KW=ne([P4,gd,tl,qd,O4,S4,Uw],C4);ne([KW],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function tD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tD(Object(n),!0).forEach(function(r){QW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QW(e,t,n){return(t=XW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XW(e){var t=ZW(e,"string");return typeof t=="symbol"?t:t+""}function ZW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JW=()=>nt(Er),eK=()=>{var e=JW(),t=nt(ts),n=nt(E4);return eM(!e||!n?void 0:rD(rD({},e),{},{scale:n}),t)};function nD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ho(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nD(Object(n),!0).forEach(function(r){tK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tK(e,t,n){return(t=rK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rK(e){var t=nK(e,"string");return typeof t=="symbol"?t:t+""}function nK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aK=(e,t,n,r)=>{var a=t.find(l=>l&&l.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},iK=(e,t,n,r)=>{var a=t.find(m=>m&&m.index===n);if(a){if(e==="centric"){var l=a.coordinate,{radius:c}=r;return Ho(Ho(Ho({},r),Nr(r.cx,r.cy,c,l)),{},{angle:l,radius:c})}var u=a.coordinate,{angle:f}=r;return Ho(Ho(Ho({},r),Nr(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function sK(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var I4=(e,t,n,r,a)=>{var l,c=(l=t?.length)!==null&&l!==void 0?l:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<c;u++){var f,m,h,v,x,b=u>0?(f=n[u-1])===null||f===void 0?void 0:f.coordinate:(m=n[c-1])===null||m===void 0?void 0:m.coordinate,S=(h=n[u])===null||h===void 0?void 0:h.coordinate,w=u>=c-1?(v=n[0])===null||v===void 0?void 0:v.coordinate:(x=n[u+1])===null||x===void 0?void 0:x.coordinate,y=void 0;if(!(b==null||S==null||w==null))if(bn(S-b)!==bn(w-S)){var C=[];if(bn(w-S)===bn(a[1]-a[0])){y=w;var M=S+a[1]-a[0];C[0]=Math.min(M,(M+b)/2),C[1]=Math.max(M,(M+b)/2)}else{y=b;var A=w+a[1]-a[0];C[0]=Math.min(S,(A+S)/2),C[1]=Math.max(S,(A+S)/2)}var _=[Math.min(S,(y+S)/2),Math.max(S,(y+S)/2)];if(e>_[0]&&e<=_[1]||e>=C[0]&&e<=C[1]){var E;return(E=n[u])===null||E===void 0?void 0:E.index}}else{var T=Math.min(b,w),P=Math.max(b,w);if(e>(T+S)/2&&e<=(P+S)/2){var O;return(O=n[u])===null||O===void 0?void 0:O.index}}}else if(t)for(var L=0;L<c;L++){var R=t[L];if(R!=null){var B=t[L+1],D=t[L-1];if(L===0&&B!=null&&e<=(R.coordinate+B.coordinate)/2||L===c-1&&D!=null&&e>(R.coordinate+D.coordinate)/2||L>0&&L<c-1&&D!=null&&B!=null&&e>(R.coordinate+D.coordinate)/2&&e<=(R.coordinate+B.coordinate)/2)return R.index}}return-1},lK=()=>nt(mw),Vw=(e,t)=>t,R4=(e,t,n)=>n,Gw=(e,t,n,r)=>r,oK=ne(ts,e=>Ih(e,t=>t.coordinate)),Ww=ne([Tc,Vw,R4,Gw],w4),Kw=ne([Ww,Ic,qd,Ud],$w),cK=(e,t,n)=>{if(t!=null){var r=Tc(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},L4=ne([Tc,Vw,R4,Gw],N4),ih=ne([Zi,Ji,nr,Ir,ts,Gw,L4],j4),uK=ne([Ww,ih],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),z4=ne([ts,Kw],v4),dK=ne([L4,Kw,tl,qd,z4,S4,Vw],C4),fK=ne([Ww,Kw],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),mK=(e,t,n,r,a,l,c)=>{if(!(!e||!n||!r||!a)&&sK(e,c)){var u=qH(e,t),f=I4(u,l,a,n,r),m=aK(t,a,f,e);return{activeIndex:String(f),activeCoordinate:m}}},pK=(e,t,n,r,a,l,c)=>{if(!(!e||!r||!a||!l||!n)){var u=Q7(e,n);if(u){var f=HH(u,t),m=I4(f,c,l,r,a),h=iK(t,l,m,u);return{activeIndex:String(m),activeCoordinate:h}}}},hK=(e,t,n,r,a,l,c,u)=>{if(!(!e||!t||!r||!a||!l))return t==="horizontal"||t==="vertical"?mK(e,t,r,a,l,c,u):pK(e,t,n,r,a,l,c)},vK=ne(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),xK=ne(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(ya)),n=Array.from(new Set(t));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:WV}});function aD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function iD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(n),!0).forEach(function(r){gK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gK(e,t,n){return(t=bK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bK(e){var t=yK(e,"string");return typeof t=="symbol"?t:t+""}function yK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wK={},jK={zIndexMap:Object.values(ya).reduce((e,t)=>iD(iD({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),wK)},NK=new Set(Object.values(ya));function SK(e){return NK.has(e)}var F4=jn({name:"zIndex",initialState:jK,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:er()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!SK(n)&&delete e.zIndexMap[n])},prepare:er()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:er()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:er()}}}),{registerZIndexPortal:CK,unregisterZIndexPortal:AK,registerZIndexPortalElement:MK,unregisterZIndexPortalElement:kK}=F4.actions,DK=F4.reducer;function Vd(e){var{zIndex:t,children:n}=e,r=j9(),a=r&&t!==void 0&&t!==0,l=Zs(),c=kr();j.useLayoutEffect(()=>a?(c(CK({zIndex:t})),()=>{c(AK({zIndex:t}))}):Dd,[c,t,a]);var u=nt(f=>vK(f,t,l));return a?u?Cd.createPortal(n,u):null:n}function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},By.apply(null,arguments)}function sD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(n),!0).forEach(function(r){EK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EK(e,t,n){return(t=_K(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _K(e){var t=OK(e,"string");return typeof t=="symbol"?t:t+""}function OK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TK(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return j.isValidElement(t)?j.cloneElement(t,r):j.createElement(n,r)}function PK(e){var t,{coordinate:n,payload:r,index:a,offset:l,tooltipAxisBandSize:c,layout:u,cursor:f,tooltipEventType:m,chartName:h}=e,v=n,x=r,b=a;if(!f||!v||h!=="ScatterChart"&&m!=="axis")return null;var S,w,y;if(h==="ScatterChart")S=v,w=u7,y=ya.cursorLine;else if(h==="BarChart")S=d7(u,v,l,c),w=BT,y=ya.cursorRectangle;else if(u==="radial"&&E5(v)){var{cx:C,cy:M,radius:A,startAngle:_,endAngle:E}=qT(v);S={cx:C,cy:M,startAngle:_,endAngle:E,innerRadius:A,outerRadius:A},w=UT,y=ya.cursorLine}else S={points:eU(u,v,l)},w=L1,y=ya.cursorLine;var T=typeof f=="object"&&"className"in f?f.className:void 0,P=Mm(Mm(Mm(Mm({stroke:"#ccc",pointerEvents:"none"},l),S),Jb(f)),{},{payload:x,payloadIndex:b,className:st("recharts-tooltip-cursor",T)});return j.createElement(Vd,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},j.createElement(TK,{cursor:f,cursorComp:w,cursorProps:P}))}function IK(e){var t=eK(),n=b9(),r=Qh(),a=lK();return t==null||n==null||r==null||a==null?null:j.createElement(PK,By({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var B4=j.createContext(null),RK=()=>j.useContext(B4),fb={exports:{}},lD;function LK(){return lD||(lD=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function l(f,m,h,v,x){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new a(h,v||f,x),S=n?n+m:m;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],b]:f._events[S].push(b):(f._events[S]=b,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new r:delete f._events[m]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],h,v;if(this._eventsCount===0)return m;for(v in h=this._events)t.call(h,v)&&m.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},u.prototype.listeners=function(m){var h=n?n+m:m,v=this._events[h];if(!v)return[];if(v.fn)return[v.fn];for(var x=0,b=v.length,S=new Array(b);x<b;x++)S[x]=v[x].fn;return S},u.prototype.listenerCount=function(m){var h=n?n+m:m,v=this._events[h];return v?v.fn?1:v.length:0},u.prototype.emit=function(m,h,v,x,b,S){var w=n?n+m:m;if(!this._events[w])return!1;var y=this._events[w],C=arguments.length,M,A;if(y.fn){switch(y.once&&this.removeListener(m,y.fn,void 0,!0),C){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,h),!0;case 3:return y.fn.call(y.context,h,v),!0;case 4:return y.fn.call(y.context,h,v,x),!0;case 5:return y.fn.call(y.context,h,v,x,b),!0;case 6:return y.fn.call(y.context,h,v,x,b,S),!0}for(A=1,M=new Array(C-1);A<C;A++)M[A-1]=arguments[A];y.fn.apply(y.context,M)}else{var _=y.length,E;for(A=0;A<_;A++)switch(y[A].once&&this.removeListener(m,y[A].fn,void 0,!0),C){case 1:y[A].fn.call(y[A].context);break;case 2:y[A].fn.call(y[A].context,h);break;case 3:y[A].fn.call(y[A].context,h,v);break;case 4:y[A].fn.call(y[A].context,h,v,x);break;default:if(!M)for(E=1,M=new Array(C-1);E<C;E++)M[E-1]=arguments[E];y[A].fn.apply(y[A].context,M)}}return!0},u.prototype.on=function(m,h,v){return l(this,m,h,v,!1)},u.prototype.once=function(m,h,v){return l(this,m,h,v,!0)},u.prototype.removeListener=function(m,h,v,x){var b=n?n+m:m;if(!this._events[b])return this;if(!h)return c(this,b),this;var S=this._events[b];if(S.fn)S.fn===h&&(!x||S.once)&&(!v||S.context===v)&&c(this,b);else{for(var w=0,y=[],C=S.length;w<C;w++)(S[w].fn!==h||x&&!S[w].once||v&&S[w].context!==v)&&y.push(S[w]);y.length?this._events[b]=y.length===1?y[0]:y:c(this,b)}return this},u.prototype.removeAllListeners=function(m){var h;return m?(h=n?n+m:m,this._events[h]&&c(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(fb)),fb.exports}var zK=LK();const FK=si(zK);var bd=new FK,$y="recharts.syncEvent.tooltip",oD="recharts.syncEvent.brush",BK=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!qi(n))return e[n]}},$K={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},$4=jn({name:"options",initialState:$K,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),qK=$4.reducer,{createEventEmitter:HK}=$4.actions;function UK(e){return e.tooltip.syncInteraction}var YK={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},q4=jn({name:"chartData",initialState:YK,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:cD,setDataStartEndIndexes:VK,setComputedData:Ble}=q4.actions,GK=q4.reducer,WK=["x","y"];function uD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Uo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uD(Object(n),!0).forEach(function(r){KK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KK(e,t,n){return(t=QK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QK(e){var t=XK(e,"string");return typeof t=="symbol"?t:t+""}function XK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZK(e,t){if(e==null)return{};var n,r,a=JK(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function JK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function eQ(){var e=nt(pw),t=nt(hw),n=kr(),r=nt(zP),a=nt(ts),l=Qh(),c=Kh(),u=nt(f=>f.rootProps.className);j.useEffect(()=>{if(e==null)return Dd;var f=(m,h,v)=>{if(t!==v&&e===m){if(r==="index"){var x;if(c&&h!==null&&h!==void 0&&(x=h.payload)!==null&&x!==void 0&&x.coordinate&&h.payload.sourceViewBox){var b=h.payload.coordinate,{x:S,y:w}=b,y=ZK(b,WK),{x:C,y:M,width:A,height:_}=h.payload.sourceViewBox,E=Uo(Uo({},y),{},{x:c.x+(A?(S-C)/A:0)*c.width,y:c.y+(_?(w-M)/_:0)*c.height});n(Uo(Uo({},h),{},{payload:Uo(Uo({},h.payload),{},{coordinate:E})}))}else n(h);return}if(a!=null){var T;if(typeof r=="function"){var P={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=r(a,P);T=a[O]}else r==="value"&&(T=a.find($=>String($.value)===h.payload.label));var{coordinate:L}=h.payload;if(T==null||h.payload.active===!1||L==null||c==null){n(zy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:R,y:B}=L,D=Math.min(R,c.x+c.width),K=Math.min(B,c.y+c.height),X={x:l==="horizontal"?T.coordinate:D,y:l==="horizontal"?K:T.coordinate},Z=zy({active:h.payload.active,coordinate:X,dataKey:h.payload.dataKey,index:String(T.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(Z)}}};return bd.on($y,f),()=>{bd.off($y,f)}},[u,n,t,e,r,a,l,c])}function tQ(){var e=nt(pw),t=nt(hw),n=kr();j.useEffect(()=>{if(e==null)return Dd;var r=(a,l,c)=>{t!==c&&e===a&&n(VK(l))};return bd.on(oD,r),()=>{bd.off(oD,r)}},[n,t,e])}function rQ(){var e=kr();j.useEffect(()=>{e(HK())},[e]),eQ(),tQ()}function nQ(e,t,n,r,a,l){var c=nt(b=>cK(b,e,t)),u=nt(hw),f=nt(pw),m=nt(zP),h=nt(UK),v=h?.active,x=Kh();j.useEffect(()=>{if(!v&&f!=null&&u!=null){var b=zy({active:l,coordinate:n,dataKey:c,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:x,graphicalItemId:void 0});bd.emit($y,f,b,u)}},[v,n,c,a,r,u,f,m,l,x])}function dD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dD(Object(n),!0).forEach(function(r){aQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aQ(e,t,n){return(t=iQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iQ(e){var t=sQ(e,"string");return typeof t=="symbol"?t:t+""}function sQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lQ(e){return e.dataKey}function oQ(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(H9,t)}var mD=[],cQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function H4(e){var t,n,r=ui(e,cQ),{active:a,allowEscapeViewBox:l,animationDuration:c,animationEasing:u,content:f,filterNull:m,isAnimationActive:h,offset:v,payloadUniqBy:x,position:b,reverseDirection:S,useTranslate3d:w,wrapperStyle:y,cursor:C,shared:M,trigger:A,defaultIndex:_,portal:E,axisId:T}=r,P=kr(),O=typeof _=="number"?String(_):_;j.useEffect(()=>{P(aW({shared:M,trigger:A,axisId:T,active:a,defaultIndex:O}))},[P,M,A,T,a,O]);var L=Kh(),R=IT(),B=ZG(M),{activeIndex:D,isActive:K}=(t=nt(me=>fK(me,B,A,O)))!==null&&t!==void 0?t:{},X=nt(me=>dK(me,B,A,O)),Z=nt(me=>z4(me,B,A,O)),$=nt(me=>uK(me,B,A,O)),G=X,z=RK(),te=(n=a??K)!==null&&n!==void 0?n:!1,[ve,F]=Eq([G,te]),ae=B==="axis"?Z:void 0;nQ(B,A,$,ae,D,te);var he=E??z;if(he==null||L==null||B==null)return null;var ye=G??mD;te||(ye=mD),m&&ye.length&&(ye=rq(ye.filter(me=>me.value!=null&&(me.hide!==!0||r.includeHidden)),x,lQ));var je=ye.length>0,Ie=j.createElement(Q9,{allowEscapeViewBox:l,animationDuration:c,animationEasing:u,isAnimationActive:h,active:te,coordinate:$,hasPayload:je,offset:v,position:b,reverseDirection:S,useTranslate3d:w,viewBox:L,wrapperStyle:y,lastBoundingBox:ve,innerRef:F,hasPortalFromProps:!!E},oQ(f,fD(fD({},r),{},{payload:ye,label:ae,active:te,activeIndex:D,coordinate:$,accessibilityLayer:R})));return j.createElement(j.Fragment,null,Cd.createPortal(Ie,he),te&&j.createElement(IK,{cursor:C,tooltipEventType:B,coordinate:$,payload:ye,index:D}))}var Gd=e=>null;Gd.displayName="Cell";function uQ(e,t,n){return(t=dQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dQ(e){var t=fQ(e,"string");return typeof t=="symbol"?t:t+""}function fQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class mQ{constructor(t){uQ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function pD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pD(Object(n),!0).forEach(function(r){hQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hQ(e,t,n){return(t=vQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vQ(e){var t=xQ(e,"string");return typeof t=="symbol"?t:t+""}function xQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gQ={cacheSize:2e3,enableCache:!0},U4=pQ({},gQ),hD=new mQ(U4.cacheSize),bQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vD="recharts_measurement_span";function yQ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(l,"|").concat(c,"|").concat(u)}var xD=(e,t)=>{try{var n=document.getElementById(vD);n||(n=document.createElement("span"),n.setAttribute("id",vD),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,bQ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},gD=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||z1.isSsr)return{width:0,height:0};if(!U4.enableCache)return xD(t,n);var r=yQ(t,n),a=hD.get(r);if(a)return a;var l=xD(t,n);return hD.set(r,l),l},Y4;function wQ(e,t,n){return(t=jQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jQ(e){var t=NQ(e,"string");return typeof t=="symbol"?t:t+""}function NQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,CQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,AQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},MQ=["cm","mm","pt","pc","in","Q","px"];function kQ(e){return MQ.includes(e)}var ec="NaN";function DQ(e,t){return e*AQ[t]}class Ur{static parse(t){var n,[,r,a]=(n=CQ.exec(t))!==null&&n!==void 0?n:[];return r==null?Ur.NaN:new Ur(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,qi(t)&&(this.unit=""),n!==""&&!SQ.test(n)&&(this.num=NaN,this.unit=""),kQ(n)&&(this.num=DQ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Ur(NaN,""):new Ur(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ur(NaN,""):new Ur(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ur(NaN,""):new Ur(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ur(NaN,""):new Ur(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return qi(this.num)}}Y4=Ur;wQ(Ur,"NaN",new Y4(NaN,""));function V4(e){if(e==null||e.includes(ec))return ec;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,l]=(n=bD.exec(t))!==null&&n!==void 0?n:[],c=Ur.parse(r??""),u=Ur.parse(l??""),f=a==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return ec;t=t.replace(bD,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,v,x]=(m=yD.exec(t))!==null&&m!==void 0?m:[],b=Ur.parse(h??""),S=Ur.parse(x??""),w=v==="+"?b.add(S):b.subtract(S);if(w.isNaN())return ec;t=t.replace(yD,w.toString())}return t}var wD=/\(([^()]*)\)/;function EQ(e){for(var t=e,n;(n=wD.exec(t))!=null;){var[,r]=n;t=t.replace(wD,V4(r))}return t}function _Q(e){var t=e.replace(/\s+/g,"");return t=EQ(t),t=V4(t),t}function OQ(e){try{return _Q(e)}catch{return ec}}function mb(e){var t=OQ(e.slice(5,-1));return t===ec?"":t}var TQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],PQ=["dx","dy","angle","className","breakAll"];function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qy.apply(null,arguments)}function jD(e,t){if(e==null)return{};var n,r,a=IQ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function IQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var G4=/[ \f\n\r\t\v\u2028\u2029]+/,W4=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];Bn(t)||(n?a=t.toString().split(""):a=t.toString().split(G4));var l=a.map(u=>({word:u,width:gD(u,r).width})),c=n?0:gD("",r).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}};function RQ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var K4=(e,t,n,r)=>e.reduce((a,l)=>{var{word:c,width:u}=l,f=a[a.length-1];if(f&&u!=null&&(t==null||r||f.width+u+n<Number(t)))f.words.push(c),f.width+=u+n;else{var m={words:[c],width:u};a.push(m)}return a},[]),Q4=e=>e.reduce((t,n)=>t.width>n.width?t:n),LQ="",ND=(e,t,n,r,a,l,c,u)=>{var f=e.slice(0,t),m=W4({breakAll:n,style:r,children:f+LQ});if(!m)return[!1,[]];var h=K4(m.wordsWithComputedWidth,l,c,u),v=h.length>a||Q4(h).width>Number(l);return[v,h]},zQ=(e,t,n,r,a)=>{var{maxLines:l,children:c,style:u,breakAll:f}=e,m=Qe(l),h=String(c),v=K4(t,r,n,a);if(!m||a)return v;var x=v.length>l||Q4(v).width>Number(r);if(!x)return v;for(var b=0,S=h.length-1,w=0,y;b<=S&&w<=h.length-1;){var C=Math.floor((b+S)/2),M=C-1,[A,_]=ND(h,M,f,u,l,r,n,a),[E]=ND(h,C,f,u,l,r,n,a);if(!A&&!E&&(b=C+1),A&&E&&(S=C-1),!A&&E){y=_;break}w++}return y||v},SD=e=>{var t=Bn(e)?[]:e.toString().split(G4);return[{words:t,width:void 0}]},FQ=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:l,maxLines:c}=e;if((t||n)&&!z1.isSsr){var u,f,m=W4({breakAll:l,children:r,style:a});if(m){var{wordsWithComputedWidth:h,spaceWidth:v}=m;u=h,f=v}else return SD(r);return zQ({breakAll:l,children:r,maxLines:c,style:a},u,f,t,!!n)}return SD(r)},X4="#808080",BQ={angle:0,breakAll:!1,capHeight:"0.71em",fill:X4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Qw=j.forwardRef((e,t)=>{var n=ui(e,BQ),{x:r,y:a,lineHeight:l,capHeight:c,fill:u,scaleToFit:f,textAnchor:m,verticalAnchor:h}=n,v=jD(n,TQ),x=j.useMemo(()=>FQ({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width}),[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),{dx:b,dy:S,angle:w,className:y,breakAll:C}=v,M=jD(v,PQ);if(!Hi(r)||!Hi(a)||x.length===0)return null;var A=Number(r)+(Qe(b)?b:0),_=Number(a)+(Qe(S)?S:0);if(!Bt(A)||!Bt(_))return null;var E;switch(h){case"start":E=mb("calc(".concat(c,")"));break;case"middle":E=mb("calc(".concat((x.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:E=mb("calc(".concat(x.length-1," * -").concat(l,")"));break}var T=[],P=x[0];if(f&&P!=null){var O=P.width,{width:L}=v;T.push("scale(".concat(Qe(L)&&Qe(O)?L/O:1,")"))}return w&&T.push("rotate(".concat(w,", ").concat(A,", ").concat(_,")")),T.length&&(M.transform=T.join(" ")),j.createElement("text",qy({},ia(M),{ref:t,x:A,y:_,className:st("recharts-text",y),textAnchor:m,fill:u.includes("url")?X4:u}),x.map((R,B)=>{var D=R.words.join(C?"":" ");return j.createElement("tspan",{x:A,dy:B===0?E:l,key:"".concat(D,"-").concat(B)},D)}))});Qw.displayName="Text";function CD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(n),!0).forEach(function(r){$Q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Q(e,t,n){return(t=qQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qQ(e){var t=HQ(e,"string");return typeof t=="symbol"?t:t+""}function HQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UQ=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:a}=e,{x:l,y:c,height:u,upperWidth:f,lowerWidth:m}=P1(t),h=l,v=l+(f-m)/2,x=(h+v)/2,b=(f+m)/2,S=h+f/2,w=u>=0?1:-1,y=w*r,C=w>0?"end":"start",M=w>0?"start":"end",A=f>=0?1:-1,_=A*r,E=A>0?"end":"start",T=A>0?"start":"end",P=a;if(n==="top"){var O={x:h+f/2,y:c-y,horizontalAnchor:"middle",verticalAnchor:C};return P&&(O.height=Math.max(c-P.y,0),O.width=f),O}if(n==="bottom"){var L={x:v+m/2,y:c+u+y,horizontalAnchor:"middle",verticalAnchor:M};return P&&(L.height=Math.max(P.y+P.height-(c+u),0),L.width=m),L}if(n==="left"){var R={x:x-_,y:c+u/2,horizontalAnchor:E,verticalAnchor:"middle"};return P&&(R.width=Math.max(R.x-P.x,0),R.height=u),R}if(n==="right"){var B={x:x+b+_,y:c+u/2,horizontalAnchor:T,verticalAnchor:"middle"};return P&&(B.width=Math.max(P.x+P.width-B.x,0),B.height=u),B}var D=P?{width:b,height:u}:{};return n==="insideLeft"?$a({x:x+_,y:c+u/2,horizontalAnchor:T,verticalAnchor:"middle"},D):n==="insideRight"?$a({x:x+b-_,y:c+u/2,horizontalAnchor:E,verticalAnchor:"middle"},D):n==="insideTop"?$a({x:h+f/2,y:c+y,horizontalAnchor:"middle",verticalAnchor:M},D):n==="insideBottom"?$a({x:v+m/2,y:c+u-y,horizontalAnchor:"middle",verticalAnchor:C},D):n==="insideTopLeft"?$a({x:h+_,y:c+y,horizontalAnchor:T,verticalAnchor:M},D):n==="insideTopRight"?$a({x:h+f-_,y:c+y,horizontalAnchor:E,verticalAnchor:M},D):n==="insideBottomLeft"?$a({x:v+_,y:c+u-y,horizontalAnchor:T,verticalAnchor:C},D):n==="insideBottomRight"?$a({x:v+m-_,y:c+u-y,horizontalAnchor:E,verticalAnchor:C},D):n&&typeof n=="object"&&(Qe(n.x)||Wl(n.x))&&(Qe(n.y)||Wl(n.y))?$a({x:l+Ln(n.x,b),y:c+Ln(n.y,u),horizontalAnchor:"end",verticalAnchor:"end"},D):$a({x:S,y:c+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},D)},YQ=["labelRef"],VQ=["content"];function AD(e,t){if(e==null)return{};var n,r,a=GQ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function GQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function MD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function km(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MD(Object(n),!0).forEach(function(r){WQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WQ(e,t,n){return(t=KQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KQ(e){var t=QQ(e,"string");return typeof t=="symbol"?t:t+""}function QQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sh(){return sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sh.apply(null,arguments)}var XQ=j.createContext(null),ZQ=()=>{var e=j.useContext(XQ),t=Kh();return e||(t?P1(t):void 0)},JQ=j.createContext(null),eX=()=>{var e=j.useContext(JQ),t=nt(UP);return e||t},tX=e=>{var{value:t,formatter:n}=e,r=Bn(e.children)?t:e.children;return typeof n=="function"?n(r):r},rX=e=>e!=null&&typeof e=="function",nX=(e,t)=>{var n=bn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},aX=(e,t,n,r,a)=>{var{offset:l,className:c}=e,{cx:u,cy:f,innerRadius:m,outerRadius:h,startAngle:v,endAngle:x,clockWise:b}=a,S=(m+h)/2,w=nX(v,x),y=w>=0?1:-1,C,M;switch(t){case"insideStart":C=v+y*l,M=b;break;case"insideEnd":C=x-y*l,M=!b;break;case"end":C=x+y*l,M=b;break;default:throw new Error("Unsupported position ".concat(t))}M=w<=0?M:!M;var A=Nr(u,f,S,C),_=Nr(u,f,S,C+(M?1:-1)*359),E="M".concat(A.x,",").concat(A.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(M?0:1,`,
    `).concat(_.x,",").concat(_.y),T=Bn(e.id)?id("recharts-radial-line-"):e.id;return j.createElement("text",sh({},r,{dominantBaseline:"central",className:st("recharts-radial-bar-label",c)}),j.createElement("defs",null,j.createElement("path",{id:T,d:E})),j.createElement("textPath",{xlinkHref:"#".concat(T)},n))},iX=(e,t,n)=>{var{cx:r,cy:a,innerRadius:l,outerRadius:c,startAngle:u,endAngle:f}=e,m=(u+f)/2;if(n==="outside"){var{x:h,y:v}=Nr(r,a,c+t,m);return{x:h,y:v,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,{x:b,y:S}=Nr(r,a,x,m);return{x:b,y:S,textAnchor:"middle",verticalAnchor:"middle"}},ip=e=>e!=null&&"cx"in e&&Qe(e.cx),sX={angle:0,offset:5,zIndex:ya.label,position:"middle",textBreakAll:!1};function lX(e){if(!ip(e))return e;var{cx:t,cy:n,outerRadius:r}=e,a=r*2;return{x:t-r,y:n-r,width:a,upperWidth:a,lowerWidth:a,height:a}}function Z4(e){var t=ui(e,sX),{viewBox:n,parentViewBox:r,position:a,value:l,children:c,content:u,className:f="",textBreakAll:m,labelRef:h}=t,v=eX(),x=ZQ(),b=a==="center"?x:v??x,S,w,y;n==null?S=b:ip(n)?S=n:S=P1(n);var C=lX(S);if(!S||Bn(l)&&Bn(c)&&!j.isValidElement(u)&&typeof u!="function")return null;var M=km(km({},t),{},{viewBox:S});if(j.isValidElement(u)){var{labelRef:A}=M,_=AD(M,YQ);return j.cloneElement(u,_)}if(typeof u=="function"){var{content:E}=M,T=AD(M,VQ);if(w=j.createElement(u,T),j.isValidElement(w))return w}else w=tX(t);var P=ia(t);if(ip(S)){if(a==="insideStart"||a==="insideEnd"||a==="end")return aX(t,a,w,P,S);y=iX(S,t.offset,t.position)}else{if(!C)return null;var O=UQ({viewBox:C,position:a,offset:t.offset,parentViewBox:ip(r)?void 0:r});y=km(km({x:O.x,y:O.y,textAnchor:O.horizontalAnchor,verticalAnchor:O.verticalAnchor},O.width!==void 0?{width:O.width}:{}),O.height!==void 0?{height:O.height}:{})}return j.createElement(Vd,{zIndex:t.zIndex},j.createElement(Qw,sh({ref:h,className:st("recharts-label",f)},P,y,{textAnchor:RQ(P.textAnchor)?P.textAnchor:y.textAnchor,breakAll:m}),w))}Z4.displayName="Label";var pb={},hb={},kD;function oX(){return kD||(kD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(hb)),hb}var vb={},DD;function cX(){return DD||(DD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(vb)),vb}var ED;function uX(){return ED||(ED=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oX(),n=cX(),r=S1();function a(l){if(r.isArrayLike(l))return t.last(n.toArray(l))}e.last=a})(pb)),pb}var xb,_D;function dX(){return _D||(_D=1,xb=uX().last),xb}var fX=dX();const mX=si(fX);var pX=["valueAccessor"],hX=["dataKey","clockWise","id","textBreakAll","zIndex"];function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lh.apply(null,arguments)}function OD(e,t){if(e==null)return{};var n,r,a=vX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function vX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xX=e=>Array.isArray(e.value)?mX(e.value):e.value,J4=j.createContext(void 0);J4.Provider;var e3=j.createContext(void 0),gX=e3.Provider;function bX(){return j.useContext(J4)}function yX(){return j.useContext(e3)}function sp(e){var{valueAccessor:t=xX}=e,n=OD(e,pX),{dataKey:r,clockWise:a,id:l,textBreakAll:c,zIndex:u}=n,f=OD(n,hX),m=bX(),h=yX(),v=m||h;return!v||!v.length?null:j.createElement(Vd,{zIndex:u??ya.label},j.createElement(Ys,{className:"recharts-label-list"},v.map((x,b)=>{var S,w=Bn(r)?t(x,b):ur(x.payload,r),y=Bn(l)?{}:{id:"".concat(l,"-").concat(b)};return j.createElement(Z4,lh({key:"label-".concat(b)},ia(x),f,y,{fill:(S=n.fill)!==null&&S!==void 0?S:x.fill,parentViewBox:x.parentViewBox,value:w,textBreakAll:c,viewBox:x.viewBox,index:b,zIndex:0}))})))}sp.displayName="LabelList";function wX(e){var{label:t}=e;return t?t===!0?j.createElement(sp,{key:"labelList-implicit"}):j.isValidElement(t)||rX(t)?j.createElement(sp,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(sp,lh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var t3=e=>e.graphicalItems.polarItems,jX=ne([ir,Bd],ww),hv=ne([t3,fr,jX],jw),NX=ne([hv],Nw),vv=ne([NX,uw],Sw),SX=ne([vv,fr,hv],Aw);ne([vv,fr,hv],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var l,c=ur(r,(l=t.dataKey)!==null&&l!==void 0?l:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:ur(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var TD=()=>{},CX=ne([vv,fr,hv,dv,ir],Ew),AX=ne([fr,kw,Dw,TD,CX,TD,nr,ir],_w),r3=ne([fr,nr,vv,SX,Fd,ir,AX],Ow),MX=ne([r3,_c,al],Iw),kX=ne([fr,r3,MX,ir],Lw);ne([al,kX],GP);var DX={radiusAxis:{},angleAxis:{}},n3=jn({name:"polarAxis",initialState:DX,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:$le,removeRadiusAxis:qle,addAngleAxis:Hle,removeAngleAxis:Ule}=n3.actions,EX=n3.reducer;function _X(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function PD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ID(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PD(Object(n),!0).forEach(function(r){OX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OX(e,t,n){return(t=TX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TX(e){var t=PX(e,"string");return typeof t=="symbol"?t:t+""}function PX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IX=(e,t)=>t,Xw=ne([t3,IX],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),RX=[],Zw=(e,t,n)=>n?.length===0?RX:n,a3=ne([uw,Xw,Zw],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(l=>ID(ID({},t.presentationProps),l.props))),a!=null)return a}}),LX=ne([a3,Xw,Zw],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,a)=>{var l,c=ur(r,t.nameKey,t.name),u;return n!=null&&(l=n[a])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?u=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=t.fill,{value:bT(c,t.dataKey),color:u,payload:r,type:t.legendType}})}),zX=ne([a3,Xw,Zw,Ir],(e,t,n,r)=>{if(!(t==null||e==null))return $Z({offset:r,pieSettings:t,displayedData:e,cells:n})}),gb={exports:{}},Ft={};var RD;function FX(){if(RD)return Ft;RD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function S(w){if(typeof w=="object"&&w!==null){var y=w.$$typeof;switch(y){case e:switch(w=w.type,w){case n:case a:case r:case f:case m:case x:return w;default:switch(w=w&&w.$$typeof,w){case c:case u:case v:case h:return w;case l:return w;default:return y}}case t:return y}}}return Ft.ContextConsumer=l,Ft.ContextProvider=c,Ft.Element=e,Ft.ForwardRef=u,Ft.Fragment=n,Ft.Lazy=v,Ft.Memo=h,Ft.Portal=t,Ft.Profiler=a,Ft.StrictMode=r,Ft.Suspense=f,Ft.SuspenseList=m,Ft.isContextConsumer=function(w){return S(w)===l},Ft.isContextProvider=function(w){return S(w)===c},Ft.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Ft.isForwardRef=function(w){return S(w)===u},Ft.isFragment=function(w){return S(w)===n},Ft.isLazy=function(w){return S(w)===v},Ft.isMemo=function(w){return S(w)===h},Ft.isPortal=function(w){return S(w)===t},Ft.isProfiler=function(w){return S(w)===a},Ft.isStrictMode=function(w){return S(w)===r},Ft.isSuspense=function(w){return S(w)===f},Ft.isSuspenseList=function(w){return S(w)===m},Ft.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===a||w===r||w===f||w===m||typeof w=="object"&&w!==null&&(w.$$typeof===v||w.$$typeof===h||w.$$typeof===c||w.$$typeof===l||w.$$typeof===u||w.$$typeof===b||w.getModuleId!==void 0)},Ft.typeOf=S,Ft}var LD;function BX(){return LD||(LD=1,gb.exports=FX()),gb.exports}var $X=BX(),zD=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",FD=null,bb=null,i3=e=>{if(e===FD&&Array.isArray(bb))return bb;var t=[];return j.Children.forEach(e,n=>{Bn(n)||($X.isFragment(n)?t=t.concat(i3(n.props.children)):t.push(n))}),bb=t,FD=e,t};function s3(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>zD(a)):r=[zD(t)],i3(e).forEach(a=>{var l=ad(a,"type.displayName")||ad(a,"type.name");l&&r.indexOf(l)!==-1&&n.push(a)}),n}var yb={},BD;function qX(){return BD||(BD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(yb)),yb}var wb,$D;function HX(){return $D||($D=1,wb=qX().isPlainObject),wb}var UX=HX();const YX=si(UX);var qD,HD,UD,YD,VD;function GD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function WD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GD(Object(n),!0).forEach(function(r){VX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VX(e,t,n){return(t=GX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GX(e){var t=WX(e,"string");return typeof t=="symbol"?t:t+""}function WX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oh(){return oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oh.apply(null,arguments)}function Bu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var KD=(e,t,n,r,a)=>{var l=n-r,c;return c=or(qD||(qD=Bu(["M ",",",""])),e,t),c+=or(HD||(HD=Bu(["L ",",",""])),e+n,t),c+=or(UD||(UD=Bu(["L ",",",""])),e+n-l/2,t+a),c+=or(YD||(YD=Bu(["L ",",",""])),e+n-l/2-r,t+a),c+=or(VD||(VD=Bu(["L ",","," Z"])),e,t),c},KX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QX=e=>{var t=ui(e,KX),{x:n,y:r,upperWidth:a,lowerWidth:l,height:c,className:u}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isUpdateAnimationActive:v}=t,x=j.useRef(null),[b,S]=j.useState(-1),w=j.useRef(a),y=j.useRef(l),C=j.useRef(c),M=j.useRef(n),A=j.useRef(r),_=B1(e,"trapezoid-");if(j.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var X=x.current.getTotalLength();X&&S(X)}catch{}},[]),n!==+n||r!==+r||a!==+a||l!==+l||c!==+c||a===0&&l===0||c===0)return null;var E=st("recharts-trapezoid",u);if(!v)return j.createElement("g",null,j.createElement("path",oh({},ia(t),{className:E,d:KD(n,r,a,l,c)})));var T=w.current,P=y.current,O=C.current,L=M.current,R=A.current,B="0px ".concat(b===-1?1:b,"px"),D="".concat(b,"px 0px"),K=RT(["strokeDasharray"],m,f);return j.createElement(F1,{animationId:_,key:_,canBegin:b>0,duration:m,easing:f,isActive:v,begin:h},X=>{var Z=va(T,a,X),$=va(P,l,X),G=va(O,c,X),z=va(L,n,X),te=va(R,r,X);x.current&&(w.current=Z,y.current=$,C.current=G,M.current=z,A.current=te);var ve=X>0?{transition:K,strokeDasharray:D}:{strokeDasharray:B};return j.createElement("path",oh({},ia(t),{className:E,d:KD(z,te,Z,$,G),ref:x,style:WD(WD({},ve),t.style)}))})},XX=["option","shapeType","activeClassName"];function ZX(e,t){if(e==null)return{};var n,r,a=JX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function JX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function QD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ch(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QD(Object(n),!0).forEach(function(r){eZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eZ(e,t,n){return(t=tZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tZ(e){var t=rZ(e,"string");return typeof t=="symbol"?t:t+""}function rZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nZ(e,t){return ch(ch({},t),e)}function aZ(e,t){return e==="symbols"}function XD(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return j.createElement(BT,n);case"trapezoid":return j.createElement(QX,n);case"sector":return j.createElement(UT,n);case"symbols":if(aZ(t))return j.createElement(D5,n);break;case"curve":return j.createElement(L1,n);default:return null}}function iZ(e){return j.isValidElement(e)?e.props:e}function sZ(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,a=ZX(e,XX),l;if(j.isValidElement(t))l=j.cloneElement(t,ch(ch({},a),iZ(t)));else if(typeof t=="function")l=t(a,a.index);else if(YX(t)&&typeof t!="boolean"){var c=nZ(t,a);l=j.createElement(XD,{shapeType:n,elementProps:c})}else{var u=a;l=j.createElement(XD,{shapeType:n,elementProps:u})}return a.isActive?j.createElement(Ys,{className:r},l):l}var lZ=(e,t,n)=>{var r=kr();return(a,l)=>c=>{e?.(a,l,c),r(g4({activeIndex:String(l),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},oZ=e=>{var t=kr();return(n,r)=>a=>{e?.(n,r,a),t(iW())}},cZ=(e,t,n)=>{var r=kr();return(a,l)=>c=>{e?.(a,l,c),r(sW({activeIndex:String(l),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function uZ(e){var{tooltipEntrySettings:t}=e,n=kr(),r=Zs(),a=j.useRef(null);return j.useLayoutEffect(()=>{r||(a.current===null?n(tW(t)):a.current!==t&&n(rW({prev:a.current,next:t})),a.current=t)},[t,n,r]),j.useLayoutEffect(()=>()=>{a.current&&(n(nW(a.current)),a.current=null)},[n]),null}function dZ(e){var{legendPayload:t}=e,n=kr(),r=nt(nr),a=j.useRef(null);return j.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(I9(t)):a.current!==t&&n(R9({prev:a.current,next:t})),a.current=t)},[n,r,t]),j.useLayoutEffect(()=>()=>{a.current&&(n(L9(a.current)),a.current=null)},[n]),null}var jb,fZ=()=>{var[e]=j.useState(()=>id("uid-"));return e},mZ=(jb=n1.useId)!==null&&jb!==void 0?jb:fZ;function pZ(e,t){var n=mZ();return t||(e?"".concat(e,"-").concat(n):n)}var hZ=j.createContext(void 0),vZ=e=>{var{id:t,type:n,children:r}=e,a=pZ("recharts-".concat(n),t);return j.createElement(hZ.Provider,{value:a},r(a))},xZ={cartesianItems:[],polarItems:[]},l3=jn({name:"graphicalItems",initialState:xZ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:er()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=wa(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:er()},removeCartesianGraphicalItem:{reducer(e,t){var n=wa(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:er()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:er()},removePolarGraphicalItem:{reducer(e,t){var n=wa(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:er()}}}),{addCartesianGraphicalItem:Yle,replaceCartesianGraphicalItem:Vle,removeCartesianGraphicalItem:Gle,addPolarGraphicalItem:gZ,removePolarGraphicalItem:bZ}=l3.actions,yZ=l3.reducer;function wZ(e){var t=kr();return j.useLayoutEffect(()=>(t(gZ(e)),()=>{t(bZ(e))}),[t,e]),null}var jZ=["key"],NZ=["onMouseEnter","onClick","onMouseLeave"],SZ=["id"],CZ=["id"];function ZD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZD(Object(n),!0).forEach(function(r){AZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AZ(e,t,n){return(t=MZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MZ(e){var t=kZ(e,"string");return typeof t=="symbol"?t:t+""}function kZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gs(){return Gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gs.apply(null,arguments)}function xv(e,t){if(e==null)return{};var n,r,a=DZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function DZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function EZ(e){var t=j.useMemo(()=>s3(e.children,Gd),[e.children]),n=nt(r=>LX(r,e.id,t));return n==null?null:j.createElement(dZ,{legendPayload:n})}var _Z=j.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:l,fill:c,name:u,hide:f,tooltipType:m,id:h}=e,v={dataDefinedOnItem:r.map(x=>x.tooltipPayload),getPosition:x=>{var b;return(b=r[Number(x)])===null||b===void 0?void 0:b.tooltipPosition},settings:{stroke:a,strokeWidth:l,fill:c,dataKey:t,nameKey:n,name:bT(u,t),hide:f,type:m,color:c,unit:"",graphicalItemId:h}};return j.createElement(uZ,{tooltipEntrySettings:v})}),OZ=(e,t)=>e>t?"start":e<t?"end":"middle",TZ=(e,t,n)=>Ln(typeof t=="function"?t(e):t,n,n*.8),PZ=(e,t,n)=>{var{top:r,left:a,width:l,height:c}=t,u=$T(l,c),f=a+Ln(e.cx,l,l/2),m=r+Ln(e.cy,c,c/2),h=Ln(e.innerRadius,u,0),v=TZ(n,e.outerRadius,u),x=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:f,cy:m,innerRadius:h,outerRadius:v,maxRadius:x}},IZ=(e,t)=>{var n=bn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},RZ=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var n=st("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,a=xv(t,jZ);return j.createElement(L1,Gs({},a,{type:"linear",className:n}))},LZ=(e,t,n)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),j.isValidElement(r)))return r;var a=st("recharts-pie-label-text",_X(e));return j.createElement(Qw,Gs({},t,{alignmentBaseline:"middle",className:a}),r)};function zZ(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:l,dataKey:c}=n;if(!r||!a||!t)return null;var u=lc(n),f=Jb(a),m=Jb(l),h=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,v=t.map((x,b)=>{var S=(x.startAngle+x.endAngle)/2,w=Nr(x.cx,x.cy,x.outerRadius+h,S),y=cr(cr(cr(cr({},u),x),{},{stroke:"none"},f),{},{index:b,textAnchor:OZ(w.x,x.cx)},w),C=cr(cr(cr(cr({},u),x),{},{fill:"none",stroke:x.fill},m),{},{index:b,points:[Nr(x.cx,x.cy,x.outerRadius,S),w],key:"line"});return j.createElement(Vd,{zIndex:ya.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(b)},j.createElement(Ys,null,l&&RZ(l,C),LZ(a,y,ur(x,c))))});return j.createElement(Ys,{className:"recharts-pie-labels"},v)}function FZ(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?j.createElement(wX,{label:a}):j.createElement(zZ,{sectors:t,props:n,showLabels:r})}function BZ(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:l,id:c}=e,u=nt(gd),f=nt(T4),m=nt(YW),{onMouseEnter:h,onClick:v,onMouseLeave:x}=a,b=xv(a,NZ),S=lZ(h,a.dataKey,c),w=oZ(x),y=cZ(v,a.dataKey,c);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((C,M)=>{if(C?.startAngle===0&&C?.endAngle===0&&t.length!==1)return null;var A=m==null||m===c,_=String(M)===u&&(f==null||a.dataKey===f)&&A,E=u?r:null,T=n&&_?n:E,P=cr(cr({},C),{},{stroke:C.stroke,tabIndex:-1,[wT]:M,[jT]:c});return j.createElement(Ys,Gs({key:"sector-".concat(C?.startAngle,"-").concat(C?.endAngle,"-").concat(C.midAngle,"-").concat(M),tabIndex:-1,className:"recharts-pie-sector"},_$(b,C,M),{onMouseEnter:S(C,M),onMouseLeave:w(C,M),onClick:y(C,M)}),j.createElement(sZ,Gs({option:l??T,index:M,shapeType:"sector",isActive:_},P)))}))}function $Z(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:l}=e,{cornerRadius:c,startAngle:u,endAngle:f,dataKey:m,nameKey:h,tooltipType:v}=n,x=Math.abs(n.minAngle),b=IZ(u,f),S=Math.abs(b),w=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,y=r.filter(T=>ur(T,m,0)!==0).length,C=(S>=360?y:y-1)*w,M=S-y*x-C,A=r.reduce((T,P)=>{var O=ur(P,m,0);return T+(Qe(O)?O:0)},0),_;if(A>0){var E;_=r.map((T,P)=>{var O=ur(T,m,0),L=ur(T,h,P),R=PZ(n,l,T),B=(Qe(O)?O:0)/A,D,K=cr(cr({},T),a&&a[P]&&a[P].props);P?D=E.endAngle+bn(b)*w*(O!==0?1:0):D=u;var X=D+bn(b)*((O!==0?x:0)+B*M),Z=(D+X)/2,$=(R.innerRadius+R.outerRadius)/2,G=[{name:L,value:O,payload:K,dataKey:m,type:v,graphicalItemId:n.id}],z=Nr(R.cx,R.cy,$,Z);return E=cr(cr(cr(cr({},n.presentationProps),{},{percent:B,cornerRadius:typeof c=="string"?parseFloat(c):c,name:L,tooltipPayload:G,midAngle:Z,middleRadius:$,tooltipPosition:z},K),R),{},{value:O,dataKey:m,startAngle:D,endAngle:X,payload:K,paddingAngle:bn(b)*w}),E})}return _}function qZ(e){var{showLabels:t,sectors:n,children:r}=e,a=j.useMemo(()=>!t||!n?[]:n.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[n,t]);return j.createElement(gX,{value:t?a:void 0},r)}function HZ(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:a,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,activeShape:m,inactiveShape:h,onAnimationStart:v,onAnimationEnd:x}=t,b=B1(t,"recharts-pie-"),S=n.current,[w,y]=j.useState(!1),C=j.useCallback(()=>{typeof x=="function"&&x(),y(!1)},[x]),M=j.useCallback(()=>{typeof v=="function"&&v(),y(!0)},[v]);return j.createElement(qZ,{showLabels:!w,sectors:a},j.createElement(F1,{animationId:b,begin:c,duration:u,isActive:l,easing:f,onAnimationStart:M,onAnimationEnd:C,key:b},A=>{var _,E=[],T=a&&a[0],P=(_=T?.startAngle)!==null&&_!==void 0?_:0;return a?.forEach((O,L)=>{var R=S&&S[L],B=L>0?ad(O,"paddingAngle",0):0;if(R){var D=va(R.endAngle-R.startAngle,O.endAngle-O.startAngle,A),K=cr(cr({},O),{},{startAngle:P+B,endAngle:P+D+B});E.push(K),P=K.endAngle}else{var{endAngle:X,startAngle:Z}=O,$=va(0,X-Z,A),G=cr(cr({},O),{},{startAngle:P+B,endAngle:P+$+B});E.push(G),P=G.endAngle}}),n.current=E,j.createElement(Ys,null,j.createElement(BZ,{sectors:E,activeShape:m,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:r}))}),j.createElement(FZ,{showLabels:!w,sectors:a,props:t}),t.children)}var UZ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ya.area};function YZ(e){var{id:t}=e,n=xv(e,SZ),{hide:r,className:a,rootTabIndex:l}=e,c=j.useMemo(()=>s3(e.children,Gd),[e.children]),u=nt(h=>zX(h,t,c)),f=j.useRef(null),m=st("recharts-pie",a);return r||u==null?(f.current=null,j.createElement(Ys,{tabIndex:l,className:m})):j.createElement(Vd,{zIndex:e.zIndex},j.createElement(_Z,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),j.createElement(Ys,{tabIndex:l,className:m},j.createElement(HZ,{props:cr(cr({},n),{},{sectors:u}),previousSectorsRef:f,id:t})))}function Jw(e){var t=ui(e,UZ),{id:n}=t,r=xv(t,CZ),a=lc(r);return j.createElement(vZ,{id:n,type:"pie"},l=>j.createElement(j.Fragment,null,j.createElement(wZ,{type:"pie",id:l,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),j.createElement(EZ,Gs({},r,{id:l})),j.createElement(YZ,Gs({},r,{id:l}))))}Jw.displayName="Pie";function JD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function eE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JD(Object(n),!0).forEach(function(r){VZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VZ(e,t,n){return(t=GZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GZ(e){var t=WZ(e,"string");return typeof t=="symbol"?t:t+""}function WZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KZ={xAxis:{},yAxis:{},zAxis:{}},o3=jn({name:"cartesianAxis",initialState:KZ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:er()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:er()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:er()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:er()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:er()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:er()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:er()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:er()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:er()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var l,c=a.widthHistory||[];if(c.length===3&&c[0]===c[2]&&r===c[1]&&r!==a.width&&Math.abs(r-((l=c[0])!==null&&l!==void 0?l:0))<=1)return;var u=[...c,r].slice(-3);e.yAxis[n]=eE(eE({},a),{},{width:r,widthHistory:u})}}}}),{addXAxis:Wle,replaceXAxis:Kle,removeXAxis:Qle,addYAxis:Xle,replaceYAxis:Zle,removeYAxis:Jle,addZAxis:eoe,replaceZAxis:toe,removeZAxis:roe,updateYAxisWidth:noe}=o3.actions,QZ=o3.reducer,XZ=ne([Ir],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),ZZ=ne([XZ,Zi,Ji],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),JZ=()=>nt(ZZ),eJ=e=>{var{chartData:t}=e,n=kr(),r=Zs();return j.useEffect(()=>r?()=>{}:(n(cD(t)),()=>{n(cD(void 0))}),[t,n,r]),null},tE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},c3=jn({name:"brush",initialState:tE,reducers:{setBrushSettings(e,t){return t.payload==null?tE:t.payload}}}),{setBrushSettings:aoe}=c3.actions,tJ=c3.reducer,rJ={dots:[],areas:[],lines:[]},u3=jn({name:"referenceElements",initialState:rJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=wa(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=wa(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=wa(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:ioe,removeDot:soe,addArea:loe,removeArea:ooe,addLine:coe,removeLine:uoe}=u3.actions,nJ=u3.reducer,aJ=j.createContext(void 0),iJ=e=>{var{children:t}=e,[n]=j.useState("".concat(id("recharts"),"-clip")),r=JZ();if(r==null)return null;var{x:a,y:l,width:c,height:u}=r;return j.createElement(aJ.Provider,{value:n},j.createElement("defs",null,j.createElement("clipPath",{id:n},j.createElement("rect",{x:a,y:l,height:u,width:c}))),t)},sJ={},d3=jn({name:"errorBars",initialState:sJ,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(l=>l.dataKey===r.dataKey&&l.direction===r.direction?a:l))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:doe,replaceErrorBar:foe,removeErrorBar:moe}=d3.actions,lJ=d3.reducer,Nb={exports:{}},Sb={};var rE;function oJ(){if(rE)return Sb;rE=1;var e=wc();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=e.useRef,l=e.useEffect,c=e.useMemo,u=e.useDebugValue;return Sb.useSyncExternalStoreWithSelector=function(f,m,h,v,x){var b=a(null);if(b.current===null){var S={hasValue:!1,value:null};b.current=S}else S=b.current;b=c(function(){function y(E){if(!C){if(C=!0,M=E,E=v(E),x!==void 0&&S.hasValue){var T=S.value;if(x(T,E))return A=T}return A=E}if(T=A,n(M,E))return T;var P=v(E);return x!==void 0&&x(T,P)?(M=E,T):(M=E,A=P)}var C=!1,M,A,_=h===void 0?null:h;return[function(){return y(m())},_===null?void 0:function(){return y(_())}]},[m,h,v,x]);var w=r(f,b[0],b[1]);return l(function(){S.hasValue=!0,S.value=w},[w]),u(w),w},Sb}var nE;function cJ(){return nE||(nE=1,Nb.exports=oJ()),Nb.exports}cJ();function uJ(e){e()}function dJ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){uJ(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var aE={notify(){},get:()=>[]};function fJ(e,t){let n,r=aE,a=0,l=!1;function c(w){h();const y=r.subscribe(w);let C=!1;return()=>{C||(C=!0,y(),v())}}function u(){r.notify()}function f(){S.onStateChange&&S.onStateChange()}function m(){return l}function h(){a++,n||(n=e.subscribe(f),r=dJ())}function v(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=aE)}function x(){l||(l=!0,h())}function b(){l&&(l=!1,v())}const S={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:m,trySubscribe:x,tryUnsubscribe:b,getListeners:()=>r};return S}var mJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pJ=mJ(),hJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",vJ=hJ(),xJ=()=>pJ||vJ?j.useLayoutEffect:j.useEffect,gJ=xJ();function iE(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function bJ(e,t){if(iE(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!iE(e[n[a]],t[n[a]]))return!1;return!0}var yJ=Symbol.for("react-redux-context"),wJ=typeof globalThis<"u"?globalThis:{};function jJ(){if(!j.createContext)return{};const e=wJ[yJ]??=new Map;let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var NJ=jJ();function SJ(e){const{children:t,context:n,serverState:r,store:a}=e,l=j.useMemo(()=>{const f=fJ(a);return{store:a,subscription:f,getServerState:r?()=>r:void 0}},[a,r]),c=j.useMemo(()=>a.getState(),[a]);gJ(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const u=n||NJ;return j.createElement(u.Provider,{value:l},t)}var CJ=SJ,AJ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function MJ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function kJ(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(AJ.has(r)){if(e[r]==null&&t[r]==null)continue;if(!bJ(e[r],t[r]))return!1}else if(!MJ(e[r],t[r]))return!1;return!0}var DJ=(e,t)=>t,ej=ne([DJ,nr,UP,Lr,D4,ts,oK,Ir],hK),tj=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},f3=sa("mouseClick"),m3=_d();m3.startListening({actionCreator:f3,effect:(e,t)=>{var n=e.payload,r=ej(t.getState(),tj(n));r?.activeIndex!=null&&t.dispatch(lW({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Hy=sa("mouseMove"),p3=_d(),Dm=null;p3.startListening({actionCreator:Hy,effect:(e,t)=>{var n=e.payload;Dm!==null&&cancelAnimationFrame(Dm);var r=tj(n);Dm=requestAnimationFrame(()=>{var a=t.getState(),l=Bw(a,a.tooltip.settings.shared);if(l==="axis"){var c=ej(a,r);c?.activeIndex!=null?t.dispatch(y4({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(b4())}Dm=null})}});function EJ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var sE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},h3=jn({name:"rootProps",initialState:sE,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:sE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),_J=h3.reducer,{updateOptions:OJ}=h3.actions,TJ=null,PJ={updatePolarOptions:(e,t)=>t.payload},v3=jn({name:"polarOptions",initialState:TJ,reducers:PJ}),{updatePolarOptions:IJ}=v3.actions,RJ=v3.reducer,x3=sa("keyDown"),g3=sa("focus"),rj=_d();rj.startListening({actionCreator:x3,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=$w(a,Ic(n),qd(n),Ud(n)),u=c==null?-1:Number(c);if(!(!Number.isFinite(u)||u<0)){var f=ts(n);if(l==="Enter"){var m=ih(n,"axis","hover",String(a.index));t.dispatch(Fy({active:!a.active,activeIndex:a.index,activeCoordinate:m}));return}var h=XG(n),v=h==="left-to-right"?1:-1,x=l==="ArrowRight"?1:-1,b=u+x*v;if(!(f==null||b>=f.length||b<0)){var S=ih(n,"axis","hover",String(b));t.dispatch(Fy({active:!0,activeIndex:b.toString(),activeCoordinate:S}))}}}}}});rj.startListening({actionCreator:g3,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var l="0",c=ih(n,"axis","hover",String(l));t.dispatch(Fy({active:!0,activeIndex:l,activeCoordinate:c}))}}}});var ra=sa("externalEvent"),b3=_d(),Cb=new Map;b3.startListening({actionCreator:ra,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var a=r.type,l=Cb.get(a);l!==void 0&&cancelAnimationFrame(l);var c=requestAnimationFrame(()=>{try{var u=t.getState(),f={activeCoordinate:GW(u),activeDataKey:T4(u),activeIndex:gd(u),activeLabel:O4(u),activeTooltipIndex:gd(u),isTooltipActive:WW(u)};n(f,r)}finally{Cb.delete(a)}});Cb.set(a,c)}}});var LJ=ne([Tc],e=>e.tooltipItemPayloads),zJ=ne([LJ,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(l=>l.settings.graphicalItemId===n);if(r!=null){var{getPosition:a}=r;if(a!=null)return a(t)}}}),y3=sa("touchMove"),w3=_d();w3.startListening({actionCreator:y3,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),a=Bw(r,r.tooltip.settings.shared);if(a==="axis"){var l=n.touches[0];if(l==null)return;var c=ej(r,tj({clientX:l.clientX,clientY:l.clientY,currentTarget:n.currentTarget}));c?.activeIndex!=null&&t.dispatch(y4({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(a==="item"){var u,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var m=document.elementFromPoint(f.clientX,f.clientY);if(!m||!m.getAttribute)return;var h=m.getAttribute(wT),v=(u=m.getAttribute(jT))!==null&&u!==void 0?u:void 0,x=Pc(r).find(w=>w.id===v);if(h==null||x==null||v==null)return;var{dataKey:b}=x,S=zJ(r,h,v);t.dispatch(g4({activeDataKey:b,activeIndex:h,activeCoordinate:S,activeGraphicalItemId:v}))}}}});var FJ=U5({brush:tJ,cartesianAxis:QZ,chartData:GK,errorBars:lJ,graphicalItems:yZ,layout:EH,legend:z9,options:qK,polarAxis:EX,polarOptions:RJ,referenceElements:nJ,rootProps:_J,tooltip:oW,zIndex:DK}),BJ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return tH({reducer:FJ,preloadedState:t,middleware:r=>{var a;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([m3.middleware,p3.middleware,rj.middleware,b3.middleware,w3.middleware])},enhancers:r=>{var a=r;return typeof r=="function"&&(a=r()),a.concat(iT({type:"raf"}))},devTools:{serialize:{replacer:EJ},name:"recharts-".concat(n)}})};function $J(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=Zs(),l=j.useRef(null);if(a)return n;l.current==null&&(l.current=BJ(t,r));var c=A1;return j.createElement(CJ,{context:c,store:l.current},n)}function qJ(e){var{layout:t,margin:n}=e,r=kr(),a=Zs();return j.useEffect(()=>{a||(r(MH(t)),r(AH(n)))},[r,a,t,n]),null}var HJ=j.memo(qJ,kJ);function UJ(e){var t=kr();return j.useEffect(()=>{t(OJ(e))},[t,e]),null}function lE(e){var{zIndex:t,isPanorama:n}=e,r=j.useRef(null),a=kr();return j.useLayoutEffect(()=>(r.current&&a(MK({zIndex:t,element:r.current,isPanorama:n})),()=>{a(kK({zIndex:t,isPanorama:n}))}),[a,t,n]),j.createElement("g",{tabIndex:-1,ref:r})}function oE(e){var{children:t,isPanorama:n}=e,r=nt(xK);if(!r||r.length===0)return t;var a=r.filter(c=>c<0),l=r.filter(c=>c>0);return j.createElement(j.Fragment,null,a.map(c=>j.createElement(lE,{key:c,zIndex:c,isPanorama:n})),t,l.map(c=>j.createElement(lE,{key:c,zIndex:c,isPanorama:n})))}var YJ=["children"];function VJ(e,t){if(e==null)return{};var n,r,a=GJ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function GJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function uh(){return uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uh.apply(null,arguments)}var WJ={width:"100%",height:"100%",display:"block"},KJ=j.forwardRef((e,t)=>{var n=y9(),r=w9(),a=IT();if(!Vs(n)||!Vs(r))return null;var{children:l,otherAttributes:c,title:u,desc:f}=e,m,h;return c!=null&&(typeof c.tabIndex=="number"?m=c.tabIndex:m=a?0:void 0,typeof c.role=="string"?h=c.role:h=a?"application":void 0),j.createElement(c5,uh({},c,{title:u,desc:f,role:h,tabIndex:m,width:n,height:r,style:WJ,ref:t}),l)}),QJ=e=>{var{children:t}=e,n=nt(Wh);if(!n)return null;var{width:r,height:a,y:l,x:c}=n;return j.createElement(c5,{width:r,height:a,x:c,y:l},t)},cE=j.forwardRef((e,t)=>{var{children:n}=e,r=VJ(e,YJ),a=Zs();return a?j.createElement(QJ,null,j.createElement(oE,{isPanorama:!0},n)):j.createElement(KJ,uh({ref:t},r),j.createElement(oE,{isPanorama:!1},n))});function XJ(){var e=kr(),[t,n]=j.useState(null),r=nt(UH);return j.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),l=a.width/t.offsetWidth;Bt(l)&&l!==r&&e(DH(l))}},[t,e,r]),n}function uE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ZJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(n),!0).forEach(function(r){JJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JJ(e,t,n){return(t=eee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eee(e){var t=tee(e,"string");return typeof t=="symbol"?t:t+""}function tee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bs.apply(null,arguments)}var ree=()=>(rQ(),null);function dh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var nee=j.forwardRef((e,t)=>{var n,r,a=j.useRef(null),[l,c]=j.useState({containerWidth:dh((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:dh((r=e.style)===null||r===void 0?void 0:r.height)}),u=j.useCallback((m,h)=>{c(v=>{var x=Math.round(m),b=Math.round(h);return v.containerWidth===x&&v.containerHeight===b?v:{containerWidth:x,containerHeight:b}})},[]),f=j.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:h,height:v}=m.getBoundingClientRect();u(h,v);var x=S=>{var w=S[0];if(w!=null){var{width:y,height:C}=w.contentRect;u(y,C)}},b=new ResizeObserver(x);b.observe(m),a.current=b}},[t,u]);return j.useEffect(()=>()=>{var m=a.current;m?.disconnect()},[u]),j.createElement(j.Fragment,null,j.createElement(Td,{width:l.containerWidth,height:l.containerHeight}),j.createElement("div",Bs({ref:f},e)))}),aee=j.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,l]=j.useState({containerWidth:dh(n),containerHeight:dh(r)}),c=j.useCallback((f,m)=>{l(h=>{var v=Math.round(f),x=Math.round(m);return h.containerWidth===v&&h.containerHeight===x?h:{containerWidth:v,containerHeight:x}})},[]),u=j.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:m,height:h}=f.getBoundingClientRect();c(m,h)}},[t,c]);return j.createElement(j.Fragment,null,j.createElement(Td,{width:a.containerWidth,height:a.containerHeight}),j.createElement("div",Bs({ref:u},e)))}),iee=j.forwardRef((e,t)=>{var{width:n,height:r}=e;return j.createElement(j.Fragment,null,j.createElement(Td,{width:n,height:r}),j.createElement("div",Bs({ref:t},e)))}),see=j.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?j.createElement(aee,Bs({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?j.createElement(iee,Bs({},e,{width:n,height:r,ref:t})):j.createElement(j.Fragment,null,j.createElement(Td,{width:n,height:r}),j.createElement("div",Bs({ref:t},e)))});function lee(e){return e?nee:see}var oee=j.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:l,onContextMenu:c,onDoubleClick:u,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:v,onMouseUp:x,onTouchEnd:b,onTouchMove:S,onTouchStart:w,style:y,width:C,responsive:M,dispatchTouchEvents:A=!0}=e,_=j.useRef(null),E=kr(),[T,P]=j.useState(null),[O,L]=j.useState(null),R=XJ(),B=T1(),D=B?.width>0?B.width:C,K=B?.height>0?B.height:a,X=j.useCallback(W=>{R(W),typeof t=="function"&&t(W),P(W),L(W),W!=null&&(_.current=W)},[R,t,P,L]),Z=j.useCallback(W=>{E(f3(W)),E(ra({handler:l,reactEvent:W}))},[E,l]),$=j.useCallback(W=>{E(Hy(W)),E(ra({handler:m,reactEvent:W}))},[E,m]),G=j.useCallback(W=>{E(b4()),E(ra({handler:h,reactEvent:W}))},[E,h]),z=j.useCallback(W=>{E(Hy(W)),E(ra({handler:v,reactEvent:W}))},[E,v]),te=j.useCallback(()=>{E(g3())},[E]),ve=j.useCallback(W=>{E(x3(W.key))},[E]),F=j.useCallback(W=>{E(ra({handler:c,reactEvent:W}))},[E,c]),ae=j.useCallback(W=>{E(ra({handler:u,reactEvent:W}))},[E,u]),he=j.useCallback(W=>{E(ra({handler:f,reactEvent:W}))},[E,f]),ye=j.useCallback(W=>{E(ra({handler:x,reactEvent:W}))},[E,x]),je=j.useCallback(W=>{E(ra({handler:w,reactEvent:W}))},[E,w]),Ie=j.useCallback(W=>{A&&E(y3(W)),E(ra({handler:S,reactEvent:W}))},[E,A,S]),me=j.useCallback(W=>{E(ra({handler:b,reactEvent:W}))},[E,b]),ge=lee(M);return j.createElement(B4.Provider,{value:T},j.createElement(OB.Provider,{value:O},j.createElement(ge,{width:D??y?.width,height:K??y?.height,className:st("recharts-wrapper",r),style:ZJ({position:"relative",cursor:"default",width:D,height:K},y),onClick:Z,onContextMenu:F,onDoubleClick:ae,onFocus:te,onKeyDown:ve,onMouseDown:he,onMouseEnter:$,onMouseLeave:G,onMouseMove:z,onMouseUp:ye,onTouchEnd:me,onTouchMove:Ie,onTouchStart:je,ref:X},j.createElement(ree,null),n)))}),cee=["width","height","responsive","children","className","style","compact","title","desc"];function uee(e,t){if(e==null)return{};var n,r,a=dee(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function dee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var fee=j.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:l,className:c,style:u,compact:f,title:m,desc:h}=e,v=uee(e,cee),x=lc(v);return f?j.createElement(j.Fragment,null,j.createElement(Td,{width:n,height:r}),j.createElement(cE,{otherAttributes:x,title:m,desc:h},l)):j.createElement(oee,{className:c,style:u,width:n,height:r,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(cE,{otherAttributes:x,title:m,desc:h,ref:t},j.createElement(iJ,null,l)))});function mee(e){var t=kr();return j.useEffect(()=>{t(IJ(e))},[t,e]),null}var pee=["layout"];function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uy.apply(null,arguments)}function hee(e,t){if(e==null)return{};var n,r,a=vee(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function vee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xee={top:5,right:5,bottom:5,left:5},j3={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:xee,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},gee=j.forwardRef(function(t,n){var r,a=ui(t.categoricalChartProps,j3),{layout:l}=a,c=hee(a,pee),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h}=t,v={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h,eventEmitter:void 0};return j.createElement($J,{preloadedState:{options:v},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:u},j.createElement(eJ,{chartData:a.data}),j.createElement(HJ,{layout:l,margin:a.margin}),j.createElement(UJ,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),j.createElement(mee,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),j.createElement(fee,Uy({},c,{ref:n})))});function dE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dE(Object(n),!0).forEach(function(r){bee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bee(e,t,n){return(t=yee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yee(e){var t=wee(e,"string");return typeof t=="symbol"?t:t+""}function wee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jee=["item"],Nee=fE(fE({},j3),{},{layout:"centric",startAngle:0,endAngle:360}),N3=j.forwardRef((e,t)=>{var n=ui(e,Nee);return j.createElement(gee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:jee,tooltipPayloadSearcher:BK,categoricalChartProps:n,ref:t})});const S3="cf_market_data",See=300*1e3,mE=300*1e3;function Cee(){try{const e=sessionStorage.getItem(S3);if(!e)return null;const t=JSON.parse(e);return Date.now()-t._ts>See?null:t}catch{return null}}function Aee(e){try{sessionStorage.setItem(S3,JSON.stringify({...e,_ts:Date.now()}))}catch{}}function Mee(){const[e,t]=j.useState(()=>Cee()),[n,r]=j.useState([]),a=j.useRef(null),[l,c]=j.useState(!1),[u,f]=j.useState(!1);j.useEffect(()=>{let v=!1;async function x(){try{const S=await Jz();if(!v&&S){const w={...S,_ts:Date.now()};t(w),Aee(w)}}catch{}}x();const b=setInterval(x,mE);return()=>{v=!0,clearInterval(b)}},[]),j.useEffect(()=>{let v=!1;async function x(){try{const S=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=inr&include_24hr_change=true");if(!v&&S.ok){const w=await S.json(),y=[];w.bitcoin&&y.push({name:"BTC",price:w.bitcoin.inr,changePct:w.bitcoin.inr_24h_change||0,type:"crypto"}),w.ethereum&&y.push({name:"ETH",price:w.ethereum.inr,changePct:w.ethereum.inr_24h_change||0,type:"crypto"}),r(y)}}catch{}}x();const b=setInterval(x,mE);return()=>{v=!0,clearInterval(b)}},[]);const m=[];if(e?.indices&&m.push(...e.indices),e?.metals&&m.push(...e.metals),n.length>0&&m.push(...n),j.useEffect(()=>{if(!a.current)return;const v=a.current,x=v.parentElement;c(v.scrollWidth>x.clientWidth)},[m.length]),m.length===0)return null;const h=m.length*3;return s.jsxs("div",{className:"bg-[var(--bg-card)]/80 backdrop-blur-sm border-b border-[var(--border-light)] overflow-hidden",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onTouchStart:()=>f(!0),onTouchEnd:()=>f(!1),children:[s.jsx("div",{className:"overflow-hidden",children:s.jsxs("div",{ref:a,className:"flex items-stretch w-max",style:l?{animation:`ticker-scroll ${h}s linear infinite`,animationPlayState:u?"paused":"running"}:{margin:"0 auto"},children:[m.map((v,x)=>s.jsx(pE,{item:v},v.name+x)),l&&m.map((v,x)=>s.jsx(pE,{item:v},"dup-"+v.name+x))]})}),s.jsx("style",{children:`
        @keyframes ticker-scroll {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
      `})]})}function pE({item:e}){const t=e.changePct>=0,n=t?s.jsx(ic,{size:10}):s.jsx(Md,{size:10}),r=t?"text-emerald-400":"text-[var(--accent-rose)]",a=l=>l>=1e5?`${(l/1e5).toFixed(2)}L`:l>=1e3?`${l.toLocaleString("en-IN",{maximumFractionDigits:0})}`:`${l.toLocaleString("en-IN",{maximumFractionDigits:2})}`;return s.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 border-r border-[var(--border-light)] last:border-0 shrink-0",children:[s.jsx("span",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase whitespace-nowrap",children:e.name}),s.jsx("span",{className:"text-[11px] font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:e.unit?`${a(e.price)}`:a(e.price)}),e.changePct!==void 0&&e.changePct!==null&&s.jsxs("span",{className:`flex items-center gap-0.5 text-[10px] font-bold tabular-nums ${r}`,children:[n,t?"+":"",e.changePct.toFixed(2),"%"]})]})}function hE(e){return e>=20?"bg-rose-500/20 text-[var(--accent-rose)]":e>=10?"bg-orange-500/20 text-[var(--accent-orange)]":e>=5?"bg-amber-500/20 text-[var(--accent-amber)]":"bg-slate-500/20 text-[var(--text-muted)]"}function vE(e){return e>=10?{label:"Strong Buy",cls:"bg-emerald-500/20 text-emerald-400 ring-1 ring-emerald-500/30"}:e>=5?{label:"Buy",cls:"bg-blue-500/20 text-blue-400"}:null}function C3(){const{mfHoldings:e,mfPortfolios:t}=pt(),n=j.useMemo(()=>t.filter(a=>a.status!=="Inactive").map(a=>{const l=e.filter(f=>f.portfolioId===a.portfolioId&&f.units>0),c=l.reduce((f,m)=>f+m.currentValue,0),u=l.filter(f=>f.athNav>0&&f.belowATHPct>=1).sort((f,m)=>m.belowATHPct-f.belowATHPct).map(f=>({...f,currentPct:c>0?f.currentValue/c*100:0}));return{...a,totalValue:c,opportunities:u}}).filter(a=>a.opportunities.length>0),[t,e]);return n.reduce((a,l)=>a+l.opportunities.length,0)===0?s.jsxs("div",{className:"py-8 text-center",children:[s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No buy opportunities right now"}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"All funds are near their all-time highs"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] px-1",children:"Funds below their All-Time High NAV. Higher discount = better opportunity."}),n.map((a,l)=>s.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-emerald-500/50 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-[var(--bg-inset)]",children:[s.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-500/15 w-5 h-5 rounded flex items-center justify-center",children:l+1}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:a.portfolioName}),s.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:a.ownerName}),s.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15 text-emerald-400",children:[a.opportunities.length," funds"]})]}),s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),s.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Signal"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Below ATH"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"ATH NAV"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Current"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Value"})]})}),s.jsx("tbody",{children:a.opportunities.map(c=>{const u=vE(c.belowATHPct);return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[s.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[200px] truncate",children:c.fundName}),s.jsx("td",{className:"py-2 px-2 text-center",children:u?s.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded-full whitespace-nowrap ${u.cls}`,children:u.label}):s.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Watch"})}),s.jsx("td",{className:"py-2 px-2 text-right",children:s.jsxs("span",{className:`inline-block text-xs font-semibold px-1.5 py-0.5 rounded-full ${hE(c.belowATHPct)}`,children:["",c.belowATHPct.toFixed(1),"%"]})}),s.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:["",c.athNav.toFixed(2)]}),s.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:["",c.currentNav.toFixed(2)]}),s.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:Q(c.currentValue)})]},c.holdingId)})})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:a.opportunities.map(c=>{const u=vE(c.belowATHPct);return s.jsxs("div",{className:"px-3 py-2.5",children:[s.jsxs("div",{className:"flex items-start justify-between mb-1",children:[s.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight flex-1 mr-2",children:c.fundName}),s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[u&&s.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded-full ${u.cls}`,children:u.label}),s.jsxs("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${hE(c.belowATHPct)}`,children:["",c.belowATHPct.toFixed(1),"%"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)]",children:[s.jsxs("span",{children:["ATH ",c.athNav.toFixed(2),"  ",c.currentNav.toFixed(2)]}),s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:Q(c.currentValue)})]})]},c.holdingId)})})]},a.portfolioId))]})}const A3=6048e5,kee=864e5,gv=6e4,bv=36e5,Dee=1e3,xE=Symbol.for("constructDateFrom");function Tt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&xE in e?e[xE](t):e instanceof Date?new e.constructor(t):new Date(t)}function Le(e,t){return Tt(t||e,e)}function ja(e,t,n){const r=Le(e,n?.in);return isNaN(t)?Tt(n?.in||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Aa(e,t,n){const r=Le(e,n?.in);if(isNaN(t))return Tt(e,NaN);if(!t)return r;const a=r.getDate(),l=Tt(e,r.getTime());l.setMonth(r.getMonth()+t+1,0);const c=l.getDate();return a>=c?l:(r.setFullYear(l.getFullYear(),l.getMonth(),a),r)}function M3(e,t,n){return Tt(e,+Le(e)+t)}function Eee(e,t,n){return M3(e,t*bv)}let _ee={};function ao(){return _ee}function Qi(e,t){const n=ao(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Le(e,t?.in),l=a.getDay(),c=(l<r?7:0)+l-r;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function mc(e,t){return Qi(e,{...t,weekStartsOn:1})}function k3(e,t){const n=Le(e,t?.in),r=n.getFullYear(),a=Tt(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const l=mc(a),c=Tt(n,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const u=mc(c);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function fh(e){const t=Le(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function rs(e,...t){const n=Tt.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function Jl(e,t){const n=Le(e,t?.in);return n.setHours(0,0,0,0),n}function pc(e,t,n){const[r,a]=rs(n?.in,e,t),l=Jl(r),c=Jl(a),u=+l-fh(l),f=+c-fh(c);return Math.round((u-f)/kee)}function Oee(e,t){const n=k3(e,t),r=Tt(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),mc(r)}function yd(e,t,n){const r=Le(e,n?.in);return r.setTime(r.getTime()+t*gv),r}function nj(e,t,n){return Aa(e,t*3,n)}function Tee(e,t,n){return M3(e,t*1e3)}function mh(e,t,n){return ja(e,t*7,n)}function Na(e,t,n){return Aa(e,t*12,n)}function gE(e,t){let n,r=t?.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=Tt.bind(null,a));const l=Le(a,r);(!n||n<l||isNaN(+l))&&(n=l)}),Tt(r,n||NaN)}function bE(e,t){let n,r=t?.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=Tt.bind(null,a));const l=Le(a,r);(!n||n>l||isNaN(+l))&&(n=l)}),Tt(r,n||NaN)}function Pee(e,t,n){const[r,a]=rs(n?.in,e,t);return+Jl(r)==+Jl(a)}function ti(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function hc(e){return!(!ti(e)&&typeof e!="number"||isNaN(+Le(e)))}function ph(e,t,n){const[r,a]=rs(n?.in,e,t),l=r.getFullYear()-a.getFullYear(),c=r.getMonth()-a.getMonth();return l*12+c}function zs(e,t){const n=Le(e,t?.in);return Math.trunc(n.getMonth()/3)+1}function hh(e,t,n){const[r,a]=rs(n?.in,e,t),l=r.getFullYear()-a.getFullYear(),c=zs(r)-zs(a);return l*4+c}function vh(e,t,n){const[r,a]=rs(n?.in,e,t);return r.getFullYear()-a.getFullYear()}function Iee(e,t,n){const[r,a]=rs(n?.in,e,t),l=yE(r,a),c=Math.abs(pc(r,a));r.setDate(r.getDate()-l*c);const u=+(yE(r,a)===-l),f=l*(c-u);return f===0?0:f}function yE(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function D3(e,t){const n=Le(e,t?.in);return n.setHours(23,59,59,999),n}function E3(e,t){const n=Le(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Yy(e,t){const n=Le(e,t?.in),r=n.getMonth(),a=r-r%3;return n.setMonth(a,1),n.setHours(0,0,0,0),n}function _3(e,t){const n=Le(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function O3(e,t){const n=Le(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function yv(e,t){const n=Le(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Ree(e,t){const n=ao(),r=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Le(e,t?.in),l=a.getDay(),c=(l<r?-7:0)+6-(l-r);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}const Lee={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zee=(e,t,n)=>{let r;const a=Lee[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ab(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Fee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Bee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$ee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qee={date:Ab({formats:Fee,defaultWidth:"full"}),time:Ab({formats:Bee,defaultWidth:"full"}),dateTime:Ab({formats:$ee,defaultWidth:"full"})},Hee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Uee=(e,t,n,r)=>Hee[e];function $u(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=n?.width?String(n.width):c;a=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=n?.width?String(n.width):e.defaultWidth;a=e.values[u]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(t):t;return a[l]}}const Yee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Vee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Gee={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Wee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Kee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Qee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Xee=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Zee={ordinalNumber:Xee,era:$u({values:Yee,defaultWidth:"wide"}),quarter:$u({values:Vee,defaultWidth:"wide",argumentCallback:e=>e-1}),month:$u({values:Gee,defaultWidth:"wide"}),day:$u({values:Wee,defaultWidth:"wide"}),dayPeriod:$u({values:Kee,defaultWidth:"wide",formattingValues:Qee,defaultFormattingWidth:"wide"})};function qu(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],l=t.match(a);if(!l)return null;const c=l[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(u)?ete(u,v=>v.test(c)):Jee(u,v=>v.test(c));let m;m=e.valueCallback?e.valueCallback(f):f,m=n.valueCallback?n.valueCallback(m):m;const h=t.slice(c.length);return{value:m,rest:h}}}function Jee(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function ete(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function tte(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],l=t.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(a.length);return{value:c,rest:u}}}const rte=/^(\d+)(th|st|nd|rd)?/i,nte=/\d+/i,ate={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ite={any:[/^b/i,/^(a|c)/i]},ste={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lte={any:[/1/i,/2/i,/3/i,/4/i]},ote={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ute={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pte={ordinalNumber:tte({matchPattern:rte,parsePattern:nte,valueCallback:e=>parseInt(e,10)}),era:qu({matchPatterns:ate,defaultMatchWidth:"wide",parsePatterns:ite,defaultParseWidth:"any"}),quarter:qu({matchPatterns:ste,defaultMatchWidth:"wide",parsePatterns:lte,defaultParseWidth:"any",valueCallback:e=>e+1}),month:qu({matchPatterns:ote,defaultMatchWidth:"wide",parsePatterns:cte,defaultParseWidth:"any"}),day:qu({matchPatterns:ute,defaultMatchWidth:"wide",parsePatterns:dte,defaultParseWidth:"any"}),dayPeriod:qu({matchPatterns:fte,defaultMatchWidth:"any",parsePatterns:mte,defaultParseWidth:"any"})},T3={code:"en-US",formatDistance:zee,formatLong:qee,formatRelative:Uee,localize:Zee,match:pte,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hte(e,t){const n=Le(e,t?.in);return pc(n,yv(n))+1}function aj(e,t){const n=Le(e,t?.in),r=+mc(n)-+Oee(n);return Math.round(r/A3)+1}function ij(e,t){const n=Le(e,t?.in),r=n.getFullYear(),a=ao(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=Tt(t?.in||e,0);c.setFullYear(r+1,0,l),c.setHours(0,0,0,0);const u=Qi(c,t),f=Tt(t?.in||e,0);f.setFullYear(r,0,l),f.setHours(0,0,0,0);const m=Qi(f,t);return+n>=+u?r+1:+n>=+m?r:r-1}function vte(e,t){const n=ao(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=ij(e,t),l=Tt(t?.in||e,0);return l.setFullYear(a,0,r),l.setHours(0,0,0,0),Qi(l,t)}function P3(e,t){const n=Le(e,t?.in),r=+Qi(n,t)-+vte(n,t);return Math.round(r/A3)+1}function _t(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Ts={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return _t(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):_t(n+1,2)},d(e,t){return _t(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(e,t){return _t(e.getHours()%12||12,t.length)},H(e,t){return _t(e.getHours(),t.length)},m(e,t){return _t(e.getMinutes(),t.length)},s(e,t){return _t(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return _t(a,t.length)}},Yo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wE={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Ts.y(e,t)},Y:function(e,t,n,r){const a=ij(e,r),l=a>0?a:1-a;if(t==="YY"){const c=l%100;return _t(c,2)}return t==="Yo"?n.ordinalNumber(l,{unit:"year"}):_t(l,t.length)},R:function(e,t){const n=k3(e);return _t(n,t.length)},u:function(e,t){const n=e.getFullYear();return _t(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return _t(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return _t(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ts.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return _t(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=P3(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):_t(a,t.length)},I:function(e,t,n){const r=aj(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):_t(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ts.d(e,t)},D:function(e,t,n){const r=hte(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):_t(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return _t(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return _t(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return _t(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Yo.noon:r===0?a=Yo.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Yo.evening:r>=12?a=Yo.afternoon:r>=4?a=Yo.morning:a=Yo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ts.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ts.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):_t(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):_t(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ts.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ts.s(e,t)},S:function(e,t){return Ts.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return NE(r);case"XXXX":case"XX":return _l(r);default:return _l(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return NE(r);case"xxxx":case"xx":return _l(r);default:return _l(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+jE(r,":");default:return"GMT"+_l(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+jE(r,":");default:return"GMT"+_l(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return _t(r,t.length)},T:function(e,t,n){return _t(+e,t.length)}};function jE(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),l=r%60;return l===0?n+String(a):n+String(a)+t+_t(l,2)}function NE(e,t){return e%60===0?(e>0?"-":"+")+_t(Math.abs(e)/60,2):_l(e,t)}function _l(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=_t(Math.trunc(r/60),2),l=_t(r%60,2);return n+a+t+l}const SE=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},I3=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},xte=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return SE(e,t);let l;switch(r){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",SE(r,t)).replace("{{time}}",I3(a,t))},Vy={p:I3,P:xte},gte=/^D+$/,bte=/^Y+$/,yte=["D","DD","YY","YYYY"];function wte(e){return gte.test(e)}function jte(e){return bte.test(e)}function Nte(e,t,n){const r=Ste(e,t,n);if(console.warn(r),yte.includes(e))throw new RangeError(r)}function Ste(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Cte=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ate=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Mte=/^'([^]*?)'?$/,kte=/''/g,Dte=/[a-zA-Z]/;function CE(e,t,n){const r=ao(),a=n?.locale??r.locale??T3,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,u=Le(e,n?.in);if(!hc(u))throw new RangeError("Invalid time value");let f=t.match(Ate).map(h=>{const v=h[0];if(v==="p"||v==="P"){const x=Vy[v];return x(h,a.formatLong)}return h}).join("").match(Cte).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const v=h[0];if(v==="'")return{isToken:!1,value:Ete(h)};if(wE[v])return{isToken:!0,value:h};if(v.match(Dte))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:h}});a.localize.preprocessor&&(f=a.localize.preprocessor(u,f));const m={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return f.map(h=>{if(!h.isToken)return h.value;const v=h.value;(!n?.useAdditionalWeekYearTokens&&jte(v)||!n?.useAdditionalDayOfYearTokens&&wte(v))&&Nte(v,t,String(e));const x=wE[v[0]];return x(u,v,a.localize,m)}).join("")}function Ete(e){const t=e.match(Mte);return t?t[1].replace(kte,"'"):e}function AE(e,t){return Le(e,t?.in).getDate()}function _te(e,t){return Le(e,t?.in).getDay()}function Ote(e,t){const n=Le(e,t?.in),r=n.getFullYear(),a=n.getMonth(),l=Tt(n,0);return l.setFullYear(r,a+1,0),l.setHours(0,0,0,0),l.getDate()}function Tte(){return Object.assign({},ao())}function Qr(e,t){return Le(e,t?.in).getHours()}function Pte(e,t){const n=Le(e,t?.in).getDay();return n===0?7:n}function Xr(e,t){return Le(e,t?.in).getMinutes()}function gn(e,t){return Le(e,t?.in).getMonth()}function $s(e){return Le(e).getSeconds()}function Gy(e){return+Le(e)}function ct(e,t){return Le(e,t?.in).getFullYear()}function Fi(e,t){return+Le(e)>+Le(t)}function Xa(e,t){return+Le(e)<+Le(t)}function Ite(e,t){return+Le(e)==+Le(t)}function Rte(e,t){const n=Lte(t)?new t(0):Tt(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function Lte(e){return typeof e=="function"&&e.prototype?.constructor===e}const zte=10;class R3{subPriority=0;validate(t,n){return!0}}class Fte extends R3{constructor(t,n,r,a,l){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=a,l&&(this.subPriority=l)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class Bte extends R3{priority=zte;subPriority=-1;constructor(t,n){super(),this.context=t||(r=>Tt(n,r))}set(t,n){return n.timestampIsSet?t:Tt(t,Rte(t,this.context))}}class At{run(t,n,r,a){const l=this.parse(t,n,r,a);return l?{setter:new Fte(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}validate(t,n,r){return!0}}class $te extends At{priority=140;parse(t,n,r){switch(n){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"});case"GGGGG":return r.era(t,{width:"narrow"});default:return r.era(t,{width:"wide"})||r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"})}}set(t,n,r){return n.era=r,t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const vr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ya={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function xr(e,t){return e&&{value:t(e.value),rest:e.rest}}function ar(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Va(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,a=n[2]?parseInt(n[2],10):0,l=n[3]?parseInt(n[3],10):0,c=n[5]?parseInt(n[5],10):0;return{value:r*(a*bv+l*gv+c*Dee),rest:t.slice(n[0].length)}}function L3(e){return ar(vr.anyDigitsSigned,e)}function dr(e,t){switch(e){case 1:return ar(vr.singleDigit,t);case 2:return ar(vr.twoDigits,t);case 3:return ar(vr.threeDigits,t);case 4:return ar(vr.fourDigits,t);default:return ar(new RegExp("^\\d{1,"+e+"}"),t)}}function xh(e,t){switch(e){case 1:return ar(vr.singleDigitSigned,t);case 2:return ar(vr.twoDigitsSigned,t);case 3:return ar(vr.threeDigitsSigned,t);case 4:return ar(vr.fourDigitsSigned,t);default:return ar(new RegExp("^-?\\d{1,"+e+"}"),t)}}function sj(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function z3(e,t){const n=t>0,r=n?t:1-t;let a;if(r<=50)a=e||100;else{const l=r+50,c=Math.trunc(l/100)*100,u=e>=l%100;a=e+c-(u?100:0)}return n?a:1-a}function F3(e){return e%400===0||e%4===0&&e%100!==0}class qte extends At{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,n,r){const a=l=>({year:l,isTwoDigitYear:n==="yy"});switch(n){case"y":return xr(dr(4,t),a);case"yo":return xr(r.ordinalNumber(t,{unit:"year"}),a);default:return xr(dr(n.length,t),a)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r){const a=t.getFullYear();if(r.isTwoDigitYear){const c=z3(r.year,a);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const l=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class Hte extends At{priority=130;parse(t,n,r){const a=l=>({year:l,isTwoDigitYear:n==="YY"});switch(n){case"Y":return xr(dr(4,t),a);case"Yo":return xr(r.ordinalNumber(t,{unit:"year"}),a);default:return xr(dr(n.length,t),a)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r,a){const l=ij(t,a);if(r.isTwoDigitYear){const u=z3(r.year,l);return t.setFullYear(u,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Qi(t,a)}const c=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(c,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Qi(t,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class Ute extends At{priority=130;parse(t,n){return xh(n==="R"?4:n.length,t)}set(t,n,r){const a=Tt(t,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),mc(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class Yte extends At{priority=130;parse(t,n){return xh(n==="u"?4:n.length,t)}set(t,n,r){return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class Vte extends At{priority=120;parse(t,n,r){switch(n){case"Q":case"QQ":return dr(n.length,t);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});default:return r.quarter(t,{width:"wide",context:"formatting"})||r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class Gte extends At{priority=120;parse(t,n,r){switch(n){case"q":case"qq":return dr(n.length,t);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});default:return r.quarter(t,{width:"wide",context:"standalone"})||r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class Wte extends At{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,n,r){const a=l=>l-1;switch(n){case"M":return xr(ar(vr.month,t),a);case"MM":return xr(dr(2,t),a);case"Mo":return xr(r.ordinalNumber(t,{unit:"month"}),a);case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});default:return r.month(t,{width:"wide",context:"formatting"})||r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}}class Kte extends At{priority=110;parse(t,n,r){const a=l=>l-1;switch(n){case"L":return xr(ar(vr.month,t),a);case"LL":return xr(dr(2,t),a);case"Lo":return xr(r.ordinalNumber(t,{unit:"month"}),a);case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});default:return r.month(t,{width:"wide",context:"standalone"})||r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function Qte(e,t,n){const r=Le(e,n?.in),a=P3(r,n)-t;return r.setDate(r.getDate()-a*7),Le(r,n?.in)}class Xte extends At{priority=100;parse(t,n,r){switch(n){case"w":return ar(vr.week,t);case"wo":return r.ordinalNumber(t,{unit:"week"});default:return dr(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r,a){return Qi(Qte(t,r,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function Zte(e,t,n){const r=Le(e,n?.in),a=aj(r,n)-t;return r.setDate(r.getDate()-a*7),r}class Jte extends At{priority=100;parse(t,n,r){switch(n){case"I":return ar(vr.week,t);case"Io":return r.ordinalNumber(t,{unit:"week"});default:return dr(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r){return mc(Zte(t,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const ere=[31,28,31,30,31,30,31,31,30,31,30,31],tre=[31,29,31,30,31,30,31,31,30,31,30,31];class rre extends At{priority=90;subPriority=1;parse(t,n,r){switch(n){case"d":return ar(vr.date,t);case"do":return r.ordinalNumber(t,{unit:"date"});default:return dr(n.length,t)}}validate(t,n){const r=t.getFullYear(),a=F3(r),l=t.getMonth();return a?n>=1&&n<=tre[l]:n>=1&&n<=ere[l]}set(t,n,r){return t.setDate(r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class nre extends At{priority=90;subpriority=1;parse(t,n,r){switch(n){case"D":case"DD":return ar(vr.dayOfYear,t);case"Do":return r.ordinalNumber(t,{unit:"date"});default:return dr(n.length,t)}}validate(t,n){const r=t.getFullYear();return F3(r)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,r){return t.setMonth(0,r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function lj(e,t,n){const r=ao(),a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=Le(e,n?.in),c=l.getDay(),f=(t%7+7)%7,m=7-a,h=t<0||t>6?t-(c+m)%7:(f+m)%7-(c+m)%7;return ja(l,h,n)}class are extends At{priority=90;parse(t,n,r){switch(n){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,a){return t=lj(t,r,a),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class ire extends At{priority=90;parse(t,n,r,a){const l=c=>{const u=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+u};switch(n){case"e":case"ee":return xr(dr(n.length,t),l);case"eo":return xr(r.ordinalNumber(t,{unit:"day"}),l);case"eee":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeeee":return r.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,a){return t=lj(t,r,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class sre extends At{priority=90;parse(t,n,r,a){const l=c=>{const u=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+u};switch(n){case"c":case"cc":return xr(dr(n.length,t),l);case"co":return xr(r.ordinalNumber(t,{unit:"day"}),l);case"ccc":return r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"ccccc":return r.day(t,{width:"narrow",context:"standalone"});case"cccccc":return r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});default:return r.day(t,{width:"wide",context:"standalone"})||r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,a){return t=lj(t,r,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function lre(e,t,n){const r=Le(e,n?.in),a=Pte(r,n),l=t-a;return ja(r,l,n)}class ore extends At{priority=90;parse(t,n,r){const a=l=>l===0?7:l;switch(n){case"i":case"ii":return dr(n.length,t);case"io":return r.ordinalNumber(t,{unit:"day"});case"iii":return xr(r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return xr(r.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return xr(r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),a);default:return xr(r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,n){return n>=1&&n<=7}set(t,n,r){return t=lre(t,r),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class cre extends At{priority=80;parse(t,n,r){switch(n){case"a":case"aa":case"aaa":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(t,{width:"narrow",context:"formatting"});default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(sj(r),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class ure extends At{priority=80;parse(t,n,r){switch(n){case"b":case"bb":case"bbb":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(t,{width:"narrow",context:"formatting"});default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(sj(r),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class dre extends At{priority=80;parse(t,n,r){switch(n){case"B":case"BB":case"BBB":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(t,{width:"narrow",context:"formatting"});default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(sj(r),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class fre extends At{priority=70;parse(t,n,r){switch(n){case"h":return ar(vr.hour12h,t);case"ho":return r.ordinalNumber(t,{unit:"hour"});default:return dr(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,r){const a=t.getHours()>=12;return a&&r<12?t.setHours(r+12,0,0,0):!a&&r===12?t.setHours(0,0,0,0):t.setHours(r,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class mre extends At{priority=70;parse(t,n,r){switch(n){case"H":return ar(vr.hour23h,t);case"Ho":return r.ordinalNumber(t,{unit:"hour"});default:return dr(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,r){return t.setHours(r,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class pre extends At{priority=70;parse(t,n,r){switch(n){case"K":return ar(vr.hour11h,t);case"Ko":return r.ordinalNumber(t,{unit:"hour"});default:return dr(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.getHours()>=12&&r<12?t.setHours(r+12,0,0,0):t.setHours(r,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class hre extends At{priority=70;parse(t,n,r){switch(n){case"k":return ar(vr.hour24h,t);case"ko":return r.ordinalNumber(t,{unit:"hour"});default:return dr(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,r){const a=r<=24?r%24:r;return t.setHours(a,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class vre extends At{priority=60;parse(t,n,r){switch(n){case"m":return ar(vr.minute,t);case"mo":return r.ordinalNumber(t,{unit:"minute"});default:return dr(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setMinutes(r,0,0),t}incompatibleTokens=["t","T"]}class xre extends At{priority=50;parse(t,n,r){switch(n){case"s":return ar(vr.second,t);case"so":return r.ordinalNumber(t,{unit:"second"});default:return dr(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setSeconds(r,0),t}incompatibleTokens=["t","T"]}class gre extends At{priority=30;parse(t,n){const r=a=>Math.trunc(a*Math.pow(10,-n.length+3));return xr(dr(n.length,t),r)}set(t,n,r){return t.setMilliseconds(r),t}incompatibleTokens=["t","T"]}class bre extends At{priority=10;parse(t,n){switch(n){case"X":return Va(Ya.basicOptionalMinutes,t);case"XX":return Va(Ya.basic,t);case"XXXX":return Va(Ya.basicOptionalSeconds,t);case"XXXXX":return Va(Ya.extendedOptionalSeconds,t);default:return Va(Ya.extended,t)}}set(t,n,r){return n.timestampIsSet?t:Tt(t,t.getTime()-fh(t)-r)}incompatibleTokens=["t","T","x"]}class yre extends At{priority=10;parse(t,n){switch(n){case"x":return Va(Ya.basicOptionalMinutes,t);case"xx":return Va(Ya.basic,t);case"xxxx":return Va(Ya.basicOptionalSeconds,t);case"xxxxx":return Va(Ya.extendedOptionalSeconds,t);default:return Va(Ya.extended,t)}}set(t,n,r){return n.timestampIsSet?t:Tt(t,t.getTime()-fh(t)-r)}incompatibleTokens=["t","T","X"]}class wre extends At{priority=40;parse(t){return L3(t)}set(t,n,r){return[Tt(t,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class jre extends At{priority=20;parse(t){return L3(t)}set(t,n,r){return[Tt(t,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const Nre={G:new $te,y:new qte,Y:new Hte,R:new Ute,u:new Yte,Q:new Vte,q:new Gte,M:new Wte,L:new Kte,w:new Xte,I:new Jte,d:new rre,D:new nre,E:new are,e:new ire,c:new sre,i:new ore,a:new cre,b:new ure,B:new dre,h:new fre,H:new mre,K:new pre,k:new hre,m:new vre,s:new xre,S:new gre,X:new bre,x:new yre,t:new wre,T:new jre},Sre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Cre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Are=/^'([^]*?)'?$/,Mre=/''/g,kre=/\S/,Dre=/[a-zA-Z]/;function Ere(e,t,n,r){const a=()=>Tt(r?.in||n,NaN),l=Tte(),c=r?.locale??l.locale??T3,u=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,f=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??l.weekStartsOn??l.locale?.options?.weekStartsOn??0;if(!t)return e?a():Le(n,r?.in);const m={firstWeekContainsDate:u,weekStartsOn:f,locale:c},h=[new Bte(r?.in,n)],v=t.match(Cre).map(y=>{const C=y[0];if(C in Vy){const M=Vy[C];return M(y,c.formatLong)}return y}).join("").match(Sre),x=[];for(let y of v){const C=y[0],M=Nre[C];if(M){const{incompatibleTokens:A}=M;if(Array.isArray(A)){const E=x.find(T=>A.includes(T.token)||T.token===C);if(E)throw new RangeError(`The format string mustn't contain \`${E.fullToken}\` and \`${y}\` at the same time`)}else if(M.incompatibleTokens==="*"&&x.length>0)throw new RangeError(`The format string mustn't contain \`${y}\` and any other token at the same time`);x.push({token:C,fullToken:y});const _=M.run(e,y,c.match,m);if(!_)return a();h.push(_.setter),e=_.rest}else{if(C.match(Dre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(y==="''"?y="'":C==="'"&&(y=_re(y)),e.indexOf(y)===0)e=e.slice(y.length);else return a()}}if(e.length>0&&kre.test(e))return a();const b=h.map(y=>y.priority).sort((y,C)=>C-y).filter((y,C,M)=>M.indexOf(y)===C).map(y=>h.filter(C=>C.priority===y).sort((C,M)=>M.subPriority-C.subPriority)).map(y=>y[0]);let S=Le(n,r?.in);if(isNaN(+S))return a();const w={};for(const y of b){if(!y.validate(S,m))return a();const C=y.set(S,w,m);Array.isArray(C)?(S=C[0],Object.assign(w,C[1])):S=C}return S}function _re(e){return e.match(Are)[1].replace(Mre,"'")}function Ore(e,t,n){const[r,a]=rs(n?.in,e,t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function Tre(e,t,n){const[r,a]=rs(n?.in,e,t);return+Yy(r)==+Yy(a)}function Pre(e,t,n){const[r,a]=rs(n?.in,e,t);return r.getFullYear()===a.getFullYear()}function wd(e,t,n){const r=+Le(e,n?.in),[a,l]=[+Le(t.start,n?.in),+Le(t.end,n?.in)].sort((c,u)=>c-u);return r>=a&&r<=l}function Ire(e,t,n){return ja(e,-1,n)}function Rre(e,t){const n=()=>Tt(t?.in,NaN),a=Bre(e);let l;if(a.date){const m=$re(a.date,2);l=qre(m.restDateString,m.year)}if(!l||isNaN(+l))return n();const c=+l;let u=0,f;if(a.time&&(u=Hre(a.time),isNaN(u)))return n();if(a.timezone){if(f=Ure(a.timezone),isNaN(f))return n()}else{const m=new Date(c+u),h=Le(0,t?.in);return h.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),h.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),h}return Le(c+u+f,t?.in)}const Em={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Lre=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,zre=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Fre=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Bre(e){const t={},n=e.split(Em.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Em.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Em.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const a=Em.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function $re(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,l=r[2]?parseInt(r[2]):null;return{year:l===null?a:l*100,restDateString:e.slice((r[1]||r[2]).length)}}function qre(e,t){if(t===null)return new Date(NaN);const n=e.match(Lre);if(!n)return new Date(NaN);const r=!!n[4],a=Hu(n[1]),l=Hu(n[2])-1,c=Hu(n[3]),u=Hu(n[4]),f=Hu(n[5])-1;if(r)return Kre(t,u,f)?Yre(t,u,f):new Date(NaN);{const m=new Date(0);return!Gre(t,l,c)||!Wre(t,a)?new Date(NaN):(m.setUTCFullYear(t,l,Math.max(a,c)),m)}}function Hu(e){return e?parseInt(e):1}function Hre(e){const t=e.match(zre);if(!t)return NaN;const n=Mb(t[1]),r=Mb(t[2]),a=Mb(t[3]);return Qre(n,r,a)?n*bv+r*gv+a*1e3:NaN}function Mb(e){return e&&parseFloat(e.replace(",","."))||0}function Ure(e){if(e==="Z")return 0;const t=e.match(Fre);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Xre(r,a)?n*(r*bv+a*gv):NaN}function Yre(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,l=(t-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+l),r}const Vre=[31,null,31,30,31,30,31,31,30,31,30,31];function B3(e){return e%400===0||e%4===0&&e%100!==0}function Gre(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Vre[t]||(B3(e)?29:28))}function Wre(e,t){return t>=1&&t<=(B3(e)?366:365)}function Kre(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Qre(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Xre(e,t){return t>=0&&t<=59}function Tn(e,t,n){const r=Le(e,n?.in),a=r.getFullYear(),l=r.getDate(),c=Tt(e,0);c.setFullYear(a,t,15),c.setHours(0,0,0,0);const u=Ote(c);return r.setMonth(t,Math.min(l,u)),r}function lp(e,t,n){const r=Le(e,n?.in);return r.setHours(t),r}function op(e,t,n){const r=Le(e,n?.in);return r.setMinutes(t),r}function Xo(e,t,n){const r=Le(e,n?.in),a=Math.trunc(r.getMonth()/3)+1,l=t-a;return Tn(r,r.getMonth()+l*3)}function cp(e,t,n){const r=Le(e,n?.in);return r.setSeconds(t),r}function Ha(e,t,n){const r=Le(e,n?.in);return isNaN(+r)?Tt(e,NaN):(r.setFullYear(t),r)}function Ul(e,t,n){return Aa(e,-t,n)}function $3(e,t,n){return nj(e,-1,n)}function ME(e,t,n){return mh(e,-1,n)}function Ws(e,t,n){return Na(e,-t,n)}function wv(){return typeof window<"u"}function Rc(e){return q3(e)?(e.nodeName||"").toLowerCase():"#document"}function Fn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function di(e){var t;return(t=(q3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function q3(e){return wv()?e instanceof Node||e instanceof Fn(e).Node:!1}function rn(e){return wv()?e instanceof Element||e instanceof Fn(e).Element:!1}function ii(e){return wv()?e instanceof HTMLElement||e instanceof Fn(e).HTMLElement:!1}function kE(e){return!wv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Fn(e).ShadowRoot}const Zre=new Set(["inline","contents"]);function Wd(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=oa(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Zre.has(a)}const Jre=new Set(["table","td","th"]);function ene(e){return Jre.has(Rc(e))}const tne=[":popover-open",":modal"];function jv(e){return tne.some(t=>{try{return e.matches(t)}catch{return!1}})}const rne=["transform","translate","scale","rotate","perspective"],nne=["transform","translate","scale","rotate","perspective","filter"],ane=["paint","layout","strict","content"];function oj(e){const t=cj(),n=rn(e)?oa(e):e;return rne.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||nne.some(r=>(n.willChange||"").includes(r))||ane.some(r=>(n.contain||"").includes(r))}function ine(e){let t=Ks(e);for(;ii(t)&&!vc(t);){if(oj(t))return t;if(jv(t))return null;t=Ks(t)}return null}function cj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sne=new Set(["html","body","#document"]);function vc(e){return sne.has(Rc(e))}function oa(e){return Fn(e).getComputedStyle(e)}function Nv(e){return rn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ks(e){if(Rc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||kE(e)&&e.host||di(e);return kE(t)?t.host:t}function H3(e){const t=Ks(e);return vc(t)?e.ownerDocument?e.ownerDocument.body:e.body:ii(t)&&Wd(t)?t:H3(t)}function jd(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=H3(e),l=a===((r=e.ownerDocument)==null?void 0:r.body),c=Fn(a);if(l){const u=Wy(c);return t.concat(c,c.visualViewport||[],Wd(a)?a:[],u&&n?jd(u):[])}return t.concat(a,jd(a,[],n))}function Wy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const xc=Math.min,Yl=Math.max,gh=Math.round,_m=Math.floor,ri=e=>({x:e,y:e}),lne={left:"right",right:"left",bottom:"top",top:"bottom"},one={start:"end",end:"start"};function cne(e,t,n){return Yl(e,xc(t,n))}function Sv(e,t){return typeof e=="function"?e(t):e}function gc(e){return e.split("-")[0]}function Kd(e){return e.split("-")[1]}function une(e){return e==="x"?"y":"x"}function uj(e){return e==="y"?"height":"width"}const dne=new Set(["top","bottom"]);function zl(e){return dne.has(gc(e))?"y":"x"}function dj(e){return une(zl(e))}function fne(e,t,n){n===void 0&&(n=!1);const r=Kd(e),a=dj(e),l=uj(a);let c=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=bh(c)),[c,bh(c)]}function mne(e){const t=bh(e);return[Ky(e),t,Ky(t)]}function Ky(e){return e.replace(/start|end/g,t=>one[t])}const DE=["left","right"],EE=["right","left"],pne=["top","bottom"],hne=["bottom","top"];function vne(e,t,n){switch(e){case"top":case"bottom":return n?t?EE:DE:t?DE:EE;case"left":case"right":return t?pne:hne;default:return[]}}function xne(e,t,n,r){const a=Kd(e);let l=vne(gc(e),n==="start",r);return a&&(l=l.map(c=>c+"-"+a),t&&(l=l.concat(l.map(Ky)))),l}function bh(e){return e.replace(/left|right|bottom|top/g,t=>lne[t])}function gne(e){return{top:0,right:0,bottom:0,left:0,...e}}function U3(e){return typeof e!="number"?gne(e):{top:e,right:e,bottom:e,left:e}}function yh(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}var bne=typeof document<"u",yne=function(){},wh=bne?j.useLayoutEffect:yne;const wne={...n1},jne=wne.useInsertionEffect,Nne=jne||(e=>e());function Sne(e){const t=j.useRef(()=>{});return Nne(()=>{t.current=e}),j.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function _E(e,t,n){let{reference:r,floating:a}=e;const l=zl(t),c=dj(t),u=uj(c),f=gc(t),m=l==="y",h=r.x+r.width/2-a.width/2,v=r.y+r.height/2-a.height/2,x=r[u]/2-a[u]/2;let b;switch(f){case"top":b={x:h,y:r.y-a.height};break;case"bottom":b={x:h,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:v};break;case"left":b={x:r.x-a.width,y:v};break;default:b={x:r.x,y:r.y}}switch(Kd(t)){case"start":b[c]-=x*(n&&m?-1:1);break;case"end":b[c]+=x*(n&&m?-1:1);break}return b}async function Cne(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:l,rects:c,elements:u,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:h="viewport",elementContext:v="floating",altBoundary:x=!1,padding:b=0}=Sv(t,e),S=U3(b),y=u[x?v==="floating"?"reference":"floating":v],C=yh(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(y)))==null||n?y:y.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:m,rootBoundary:h,strategy:f})),M=v==="floating"?{x:r,y:a,width:c.floating.width,height:c.floating.height}:c.reference,A=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),_=await(l.isElement==null?void 0:l.isElement(A))?await(l.getScale==null?void 0:l.getScale(A))||{x:1,y:1}:{x:1,y:1},E=yh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:M,offsetParent:A,strategy:f}):M);return{top:(C.top-E.top+S.top)/_.y,bottom:(E.bottom-C.bottom+S.bottom)/_.y,left:(C.left-E.left+S.left)/_.x,right:(E.right-C.right+S.right)/_.x}}const Ane=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:l=[],platform:c}=n,u=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let m=await c.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:v}=_E(m,r,f),x=r,b={},S=0;for(let y=0;y<u.length;y++){var w;const{name:C,fn:M}=u[y],{x:A,y:_,data:E,reset:T}=await M({x:h,y:v,initialPlacement:r,placement:x,strategy:a,middlewareData:b,rects:m,platform:{...c,detectOverflow:(w=c.detectOverflow)!=null?w:Cne},elements:{reference:e,floating:t}});h=A??h,v=_??v,b={...b,[C]:{...b[C],...E}},T&&S<=50&&(S++,typeof T=="object"&&(T.placement&&(x=T.placement),T.rects&&(m=T.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:a}):T.rects),{x:h,y:v}=_E(m,x,f)),y=-1)}return{x:h,y:v,placement:x,strategy:a,middlewareData:b}},Mne=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:l,platform:c,elements:u,middlewareData:f}=t,{element:m,padding:h=0}=Sv(e,t)||{};if(m==null)return{};const v=U3(h),x={x:n,y:r},b=dj(a),S=uj(b),w=await c.getDimensions(m),y=b==="y",C=y?"top":"left",M=y?"bottom":"right",A=y?"clientHeight":"clientWidth",_=l.reference[S]+l.reference[b]-x[b]-l.floating[S],E=x[b]-l.reference[b],T=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let P=T?T[A]:0;(!P||!await(c.isElement==null?void 0:c.isElement(T)))&&(P=u.floating[A]||l.floating[S]);const O=_/2-E/2,L=P/2-w[S]/2-1,R=xc(v[C],L),B=xc(v[M],L),D=R,K=P-w[S]-B,X=P/2-w[S]/2+O,Z=cne(D,X,K),$=!f.arrow&&Kd(a)!=null&&X!==Z&&l.reference[S]/2-(X<D?R:B)-w[S]/2<0,G=$?X<D?X-D:X-K:0;return{[b]:x[b]+G,data:{[b]:Z,centerOffset:X-Z-G,...$&&{alignmentOffset:G}},reset:$}}}),kne=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:l,rects:c,initialPlacement:u,platform:f,elements:m}=t,{mainAxis:h=!0,crossAxis:v=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:w=!0,...y}=Sv(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const C=gc(a),M=zl(u),A=gc(u)===u,_=await(f.isRTL==null?void 0:f.isRTL(m.floating)),E=x||(A||!w?[bh(u)]:mne(u)),T=S!=="none";!x&&T&&E.push(...xne(u,w,S,_));const P=[u,...E],O=await f.detectOverflow(t,y),L=[];let R=((r=l.flip)==null?void 0:r.overflows)||[];if(h&&L.push(O[C]),v){const X=fne(a,c,_);L.push(O[X[0]],O[X[1]])}if(R=[...R,{placement:a,overflows:L}],!L.every(X=>X<=0)){var B,D;const X=(((B=l.flip)==null?void 0:B.index)||0)+1,Z=P[X];if(Z&&(!(v==="alignment"?M!==zl(Z):!1)||R.every(z=>zl(z.placement)===M?z.overflows[0]>0:!0)))return{data:{index:X,overflows:R},reset:{placement:Z}};let $=(D=R.filter(G=>G.overflows[0]<=0).sort((G,z)=>G.overflows[1]-z.overflows[1])[0])==null?void 0:D.placement;if(!$)switch(b){case"bestFit":{var K;const G=(K=R.filter(z=>{if(T){const te=zl(z.placement);return te===M||te==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(te=>te>0).reduce((te,ve)=>te+ve,0)]).sort((z,te)=>z[1]-te[1])[0])==null?void 0:K[0];G&&($=G);break}case"initialPlacement":$=u;break}if(a!==$)return{reset:{placement:$}}}return{}}}},Dne=new Set(["left","top"]);async function Ene(e,t){const{placement:n,platform:r,elements:a}=e,l=await(r.isRTL==null?void 0:r.isRTL(a.floating)),c=gc(n),u=Kd(n),f=zl(n)==="y",m=Dne.has(c)?-1:1,h=l&&f?-1:1,v=Sv(t,e);let{mainAxis:x,crossAxis:b,alignmentAxis:S}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof S=="number"&&(b=u==="end"?S*-1:S),f?{x:b*h,y:x*m}:{x:x*m,y:b*h}}const _ne=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:l,placement:c,middlewareData:u}=t,f=await Ene(t,e);return c===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:a+f.x,y:l+f.y,data:{...f,placement:c}}}}};function Y3(e){const t=oa(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=ii(e),l=a?e.offsetWidth:n,c=a?e.offsetHeight:r,u=gh(n)!==l||gh(r)!==c;return u&&(n=l,r=c),{width:n,height:r,$:u}}function fj(e){return rn(e)?e:e.contextElement}function nc(e){const t=fj(e);if(!ii(t))return ri(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:l}=Y3(t);let c=(l?gh(n.width):n.width)/r,u=(l?gh(n.height):n.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const One=ri(0);function V3(e){const t=Fn(e);return!cj()||!t.visualViewport?One:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Tne(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Fn(e)?!1:t}function eo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),l=fj(e);let c=ri(1);t&&(r?rn(r)&&(c=nc(r)):c=nc(e));const u=Tne(l,n,r)?V3(l):ri(0);let f=(a.left+u.x)/c.x,m=(a.top+u.y)/c.y,h=a.width/c.x,v=a.height/c.y;if(l){const x=Fn(l),b=r&&rn(r)?Fn(r):r;let S=x,w=Wy(S);for(;w&&r&&b!==S;){const y=nc(w),C=w.getBoundingClientRect(),M=oa(w),A=C.left+(w.clientLeft+parseFloat(M.paddingLeft))*y.x,_=C.top+(w.clientTop+parseFloat(M.paddingTop))*y.y;f*=y.x,m*=y.y,h*=y.x,v*=y.y,f+=A,m+=_,S=Fn(w),w=Wy(S)}}return yh({width:h,height:v,x:f,y:m})}function Cv(e,t){const n=Nv(e).scrollLeft;return t?t.left+n:eo(di(e)).left+n}function G3(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Cv(e,n),a=n.top+t.scrollTop;return{x:r,y:a}}function Pne(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const l=a==="fixed",c=di(r),u=t?jv(t.floating):!1;if(r===c||u&&l)return n;let f={scrollLeft:0,scrollTop:0},m=ri(1);const h=ri(0),v=ii(r);if((v||!v&&!l)&&((Rc(r)!=="body"||Wd(c))&&(f=Nv(r)),ii(r))){const b=eo(r);m=nc(r),h.x=b.x+r.clientLeft,h.y=b.y+r.clientTop}const x=c&&!v&&!l?G3(c,f):ri(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-f.scrollLeft*m.x+h.x+x.x,y:n.y*m.y-f.scrollTop*m.y+h.y+x.y}}function Ine(e){return Array.from(e.getClientRects())}function Rne(e){const t=di(e),n=Nv(e),r=e.ownerDocument.body,a=Yl(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),l=Yl(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+Cv(e);const u=-n.scrollTop;return oa(r).direction==="rtl"&&(c+=Yl(t.clientWidth,r.clientWidth)-a),{width:a,height:l,x:c,y:u}}const OE=25;function Lne(e,t){const n=Fn(e),r=di(e),a=n.visualViewport;let l=r.clientWidth,c=r.clientHeight,u=0,f=0;if(a){l=a.width,c=a.height;const h=cj();(!h||h&&t==="fixed")&&(u=a.offsetLeft,f=a.offsetTop)}const m=Cv(r);if(m<=0){const h=r.ownerDocument,v=h.body,x=getComputedStyle(v),b=h.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,S=Math.abs(r.clientWidth-v.clientWidth-b);S<=OE&&(l-=S)}else m<=OE&&(l+=m);return{width:l,height:c,x:u,y:f}}const zne=new Set(["absolute","fixed"]);function Fne(e,t){const n=eo(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,l=ii(e)?nc(e):ri(1),c=e.clientWidth*l.x,u=e.clientHeight*l.y,f=a*l.x,m=r*l.y;return{width:c,height:u,x:f,y:m}}function TE(e,t,n){let r;if(t==="viewport")r=Lne(e,n);else if(t==="document")r=Rne(di(e));else if(rn(t))r=Fne(t,n);else{const a=V3(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return yh(r)}function W3(e,t){const n=Ks(e);return n===t||!rn(n)||vc(n)?!1:oa(n).position==="fixed"||W3(n,t)}function Bne(e,t){const n=t.get(e);if(n)return n;let r=jd(e,[],!1).filter(u=>rn(u)&&Rc(u)!=="body"),a=null;const l=oa(e).position==="fixed";let c=l?Ks(e):e;for(;rn(c)&&!vc(c);){const u=oa(c),f=oj(c);!f&&u.position==="fixed"&&(a=null),(l?!f&&!a:!f&&u.position==="static"&&!!a&&zne.has(a.position)||Wd(c)&&!f&&W3(e,c))?r=r.filter(h=>h!==c):a=u,c=Ks(c)}return t.set(e,r),r}function $ne(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const c=[...n==="clippingAncestors"?jv(t)?[]:Bne(t,this._c):[].concat(n),r],u=c[0],f=c.reduce((m,h)=>{const v=TE(t,h,a);return m.top=Yl(v.top,m.top),m.right=xc(v.right,m.right),m.bottom=xc(v.bottom,m.bottom),m.left=Yl(v.left,m.left),m},TE(t,u,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function qne(e){const{width:t,height:n}=Y3(e);return{width:t,height:n}}function Hne(e,t,n){const r=ii(t),a=di(t),l=n==="fixed",c=eo(e,!0,l,t);let u={scrollLeft:0,scrollTop:0};const f=ri(0);function m(){f.x=Cv(a)}if(r||!r&&!l)if((Rc(t)!=="body"||Wd(a))&&(u=Nv(t)),r){const b=eo(t,!0,l,t);f.x=b.x+t.clientLeft,f.y=b.y+t.clientTop}else a&&m();l&&!r&&a&&m();const h=a&&!r&&!l?G3(a,u):ri(0),v=c.left+u.scrollLeft-f.x-h.x,x=c.top+u.scrollTop-f.y-h.y;return{x:v,y:x,width:c.width,height:c.height}}function kb(e){return oa(e).position==="static"}function PE(e,t){if(!ii(e)||oa(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return di(e)===n&&(n=n.ownerDocument.body),n}function K3(e,t){const n=Fn(e);if(jv(e))return n;if(!ii(e)){let a=Ks(e);for(;a&&!vc(a);){if(rn(a)&&!kb(a))return a;a=Ks(a)}return n}let r=PE(e,t);for(;r&&ene(r)&&kb(r);)r=PE(r,t);return r&&vc(r)&&kb(r)&&!oj(r)?n:r||ine(e)||n}const Une=async function(e){const t=this.getOffsetParent||K3,n=this.getDimensions,r=await n(e.floating);return{reference:Hne(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Yne(e){return oa(e).direction==="rtl"}const Vne={convertOffsetParentRelativeRectToViewportRelativeRect:Pne,getDocumentElement:di,getClippingRect:$ne,getOffsetParent:K3,getElementRects:Une,getClientRects:Ine,getDimensions:qne,getScale:nc,isElement:rn,isRTL:Yne};function Q3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Gne(e,t){let n=null,r;const a=di(e);function l(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),l();const m=e.getBoundingClientRect(),{left:h,top:v,width:x,height:b}=m;if(u||t(),!x||!b)return;const S=_m(v),w=_m(a.clientWidth-(h+x)),y=_m(a.clientHeight-(v+b)),C=_m(h),A={rootMargin:-S+"px "+-w+"px "+-y+"px "+-C+"px",threshold:Yl(0,xc(1,f))||1};let _=!0;function E(T){const P=T[0].intersectionRatio;if(P!==f){if(!_)return c();P?c(!1,P):r=setTimeout(()=>{c(!1,1e-7)},1e3)}P===1&&!Q3(m,e.getBoundingClientRect())&&c(),_=!1}try{n=new IntersectionObserver(E,{...A,root:a.ownerDocument})}catch{n=new IntersectionObserver(E,A)}n.observe(e)}return c(!0),l}function Wne(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,m=fj(e),h=a||l?[...m?jd(m):[],...jd(t)]:[];h.forEach(C=>{a&&C.addEventListener("scroll",n,{passive:!0}),l&&C.addEventListener("resize",n)});const v=m&&u?Gne(m,n):null;let x=-1,b=null;c&&(b=new ResizeObserver(C=>{let[M]=C;M&&M.target===m&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var A;(A=b)==null||A.observe(t)})),n()}),m&&!f&&b.observe(m),b.observe(t));let S,w=f?eo(e):null;f&&y();function y(){const C=eo(e);w&&!Q3(w,C)&&n(),w=C,S=requestAnimationFrame(y)}return n(),()=>{var C;h.forEach(M=>{a&&M.removeEventListener("scroll",n),l&&M.removeEventListener("resize",n)}),v?.(),(C=b)==null||C.disconnect(),b=null,f&&cancelAnimationFrame(S)}}const Kne=_ne,Qne=kne,IE=Mne,Xne=(e,t,n)=>{const r=new Map,a={platform:Vne,...n},l={...a.platform,_c:r};return Ane(e,t,{...a,platform:l})};var Zne=typeof document<"u",Jne=function(){},up=Zne?j.useLayoutEffect:Jne;function jh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!jh(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const l=a[r];if(!(l==="_owner"&&e.$$typeof)&&!jh(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function X3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function RE(e,t){const n=X3(e);return Math.round(t*n)/n}function Db(e){const t=j.useRef(e);return up(()=>{t.current=e}),t}function eae(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:f,open:m}=e,[h,v]=j.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,b]=j.useState(r);jh(x,r)||b(r);const[S,w]=j.useState(null),[y,C]=j.useState(null),M=j.useCallback(z=>{z!==T.current&&(T.current=z,w(z))},[]),A=j.useCallback(z=>{z!==P.current&&(P.current=z,C(z))},[]),_=l||S,E=c||y,T=j.useRef(null),P=j.useRef(null),O=j.useRef(h),L=f!=null,R=Db(f),B=Db(a),D=Db(m),K=j.useCallback(()=>{if(!T.current||!P.current)return;const z={placement:t,strategy:n,middleware:x};B.current&&(z.platform=B.current),Xne(T.current,P.current,z).then(te=>{const ve={...te,isPositioned:D.current!==!1};X.current&&!jh(O.current,ve)&&(O.current=ve,Cd.flushSync(()=>{v(ve)}))})},[x,t,n,B,D]);up(()=>{m===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,v(z=>({...z,isPositioned:!1})))},[m]);const X=j.useRef(!1);up(()=>(X.current=!0,()=>{X.current=!1}),[]),up(()=>{if(_&&(T.current=_),E&&(P.current=E),_&&E){if(R.current)return R.current(_,E,K);K()}},[_,E,K,R,L]);const Z=j.useMemo(()=>({reference:T,floating:P,setReference:M,setFloating:A}),[M,A]),$=j.useMemo(()=>({reference:_,floating:E}),[_,E]),G=j.useMemo(()=>{const z={position:n,left:0,top:0};if(!$.floating)return z;const te=RE($.floating,h.x),ve=RE($.floating,h.y);return u?{...z,transform:"translate("+te+"px, "+ve+"px)",...X3($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:te,top:ve}},[n,u,$.floating,h.x,h.y]);return j.useMemo(()=>({...h,update:K,refs:Z,elements:$,floatingStyles:G}),[h,K,Z,$,G])}const tae=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?IE({element:r.current,padding:a}).fn(n):{}:r?IE({element:r,padding:a}).fn(n):{}}}},rae=(e,t)=>({...Kne(e),options:[e,t]}),nae=(e,t)=>({...Qne(e),options:[e,t]}),aae=(e,t)=>({...tae(e),options:[e,t]}),iae={...n1};let LE=!1,sae=0;const zE=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+sae++;function lae(){const[e,t]=j.useState(()=>LE?zE():void 0);return wh(()=>{e==null&&t(zE())},[]),j.useEffect(()=>{LE=!0},[]),e}const oae=iae.useId,Z3=oae||lae,cae=j.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:a},middlewareData:{arrow:l,shift:c}},width:u=14,height:f=7,tipRadius:m=0,strokeWidth:h=0,staticOffset:v,stroke:x,d:b,style:{transform:S,...w}={},...y}=t,C=Z3(),[M,A]=j.useState(!1);if(wh(()=>{if(!a)return;oa(a).direction==="rtl"&&A(!0)},[a]),!a)return null;const[_,E]=r.split("-"),T=_==="top"||_==="bottom";let P=v;(T&&c!=null&&c.x||!T&&c!=null&&c.y)&&(P=null);const O=h*2,L=O/2,R=u/2*(m/-8+1),B=f/2*m/4,D=!!b,K=P&&E==="end"?"bottom":"top";let X=P&&E==="end"?"right":"left";P&&M&&(X=E==="end"?"left":"right");const Z=l?.x!=null?P||l.x:"",$=l?.y!=null?P||l.y:"",G=b||"M0,0"+(" H"+u)+(" L"+(u-R)+","+(f-B))+(" Q"+u/2+","+f+" "+R+","+(f-B))+" Z",z={top:D?"rotate(180deg)":"",left:D?"rotate(90deg)":"rotate(-90deg)",bottom:D?"":"rotate(180deg)",right:D?"rotate(-90deg)":"rotate(90deg)"}[_];return s.jsxs("svg",{...y,"aria-hidden":!0,ref:n,width:D?u:u+O,height:u,viewBox:"0 0 "+u+" "+(f>u?f:u),style:{position:"absolute",pointerEvents:"none",[X]:Z,[K]:$,[_]:T||D?"100%":"calc(100% - "+O/2+"px)",transform:[z,S].filter(te=>!!te).join(" "),...w},children:[O>0&&s.jsx("path",{clipPath:"url(#"+C+")",fill:"none",stroke:x,strokeWidth:O+(b?0:1),d:G}),s.jsx("path",{stroke:O&&!b?y.fill:"none",d:G}),s.jsx("clipPath",{id:C,children:s.jsx("rect",{x:-L,y:L*(D?-1:1),width:u+O,height:u})})]})});function uae(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(a=>a(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const dae=j.createContext(null),fae=j.createContext(null),mae=()=>{var e;return((e=j.useContext(dae))==null?void 0:e.id)||null},pae=()=>j.useContext(fae);function hae(e){const{open:t=!1,onOpenChange:n,elements:r}=e,a=Z3(),l=j.useRef({}),[c]=j.useState(()=>uae()),u=mae()!=null,[f,m]=j.useState(r.reference),h=Sne((b,S,w)=>{l.current.openEvent=b?S:void 0,c.emit("openchange",{open:b,event:S,reason:w,nested:u}),n?.(b,S,w)}),v=j.useMemo(()=>({setPositionReference:m}),[]),x=j.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return j.useMemo(()=>({dataRef:l,open:t,onOpenChange:h,elements:x,events:c,floatingId:a,refs:v}),[t,h,x,c,a,v])}function vae(e){e===void 0&&(e={});const{nodeId:t}=e,n=hae({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,a=r.elements,[l,c]=j.useState(null),[u,f]=j.useState(null),h=a?.domReference||l,v=j.useRef(null),x=pae();wh(()=>{h&&(v.current=h)},[h]);const b=eae({...e,elements:{...a,...u&&{reference:u}}}),S=j.useCallback(A=>{const _=rn(A)?{getBoundingClientRect:()=>A.getBoundingClientRect(),getClientRects:()=>A.getClientRects(),contextElement:A}:A;f(_),b.refs.setReference(_)},[b.refs]),w=j.useCallback(A=>{(rn(A)||A===null)&&(v.current=A,c(A)),(rn(b.refs.reference.current)||b.refs.reference.current===null||A!==null&&!rn(A))&&b.refs.setReference(A)},[b.refs]),y=j.useMemo(()=>({...b.refs,setReference:w,setPositionReference:S,domReference:v}),[b.refs,w,S]),C=j.useMemo(()=>({...b.elements,domReference:h}),[b.elements,h]),M=j.useMemo(()=>({...b,...r,refs:y,elements:C,nodeId:t}),[b,y,C,t,r]);return wh(()=>{r.dataRef.current.floatingContext=M;const A=x?.nodesRef.current.find(_=>_.id===t);A&&(A.context=M)}),j.useMemo(()=>({...b,context:M,refs:y,elements:C}),[b,y,C,M])}var Qy=function(t,n){return Qy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},Qy(t,n)};function Vr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Qy(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var it=function(){return it=Object.assign||function(n){for(var r,a=1,l=arguments.length;a<l;a++){r=arguments[a];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(n[c]=r[c])}return n},it.apply(this,arguments)};function Za(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,l;r<a;r++)(l||!(r in t))&&(l||(l=Array.prototype.slice.call(t,0,r)),l[r]=t[r]);return e.concat(l||Array.prototype.slice.call(t))}var xae=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,a=r===void 0?!1:r,l=e.className,c=e.children,u=e.inline,f=n?"Choose Time":"Choose Date".concat(a?" and Time":"");return oe.createElement("div",{className:l,"aria-label":f,role:u?void 0:"dialog","aria-modal":u?void 0:"true",translate:"no"},c)},gae=function(e,t){var n=j.useRef(null),r=j.useRef(e);j.useEffect(function(){r.current=e},[e]);var a=j.useCallback(function(l){var c,u=l.composed&&l.composedPath&&l.composedPath().find(function(f){return f instanceof Node})||l.target;n.current&&!n.current.contains(u)&&(t&&u instanceof HTMLElement&&u.classList.contains(t)||(c=r.current)===null||c===void 0||c.call(r,l))},[t]);return j.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),n},Av=function(e){var t=e.children,n=e.onClickOutside,r=e.className,a=e.containerRef,l=e.style,c=e.ignoreClass,u=gae(n,c);return oe.createElement("div",{className:r,style:l,ref:function(f){u.current=f,a&&(a.current=f)}},t)},Om=null,FE=!1;function J3(){if(FE)return Om;FE=!0;try{var e="date-fns-tz";Om=require(e)}catch{Om=null}return Om}function BE(e,t){if(!t)return e;var n=J3();return n?n.toZonedTime(e,t):e}function _i(e,t){if(!t)return e;var n=J3();return n?n.fromZonedTime(e,t):e}var Me;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Me||(Me={}));function eI(){var e=typeof window<"u"?window:globalThis;return e}var Qd=12;function gt(e){if(e==null)return new Date;var t=typeof e=="string"?Rre(e):Le(e);return xn(t)?t:new Date}function Cl(e,t,n,r,a){a===void 0&&(a=gt());for(var l=bc(n)||bc(mj()),c=Array.isArray(t)?t:[t],u=0,f=c;u<f.length;u++){var m=f[u],h=Ere(e,m,a,{locale:l});if(xn(h)&&(!r||e===Qt(h,m,n)))return h}if(!r&&e&&e.length>=8){var v=new Date(e);if(hc(v))return v}return null}function bae(e,t){if(t===void 0&&(t=gt()),!e)return null;var n=e.match(/\b(1\d{3}|2\d{3})\b/);if(!n||!n[1])return null;var r=parseInt(n[1],10),a=e.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),l=a&&a[1]?parseInt(a[1],10)-1:t.getMonth();return new Date(r,l,1)}function xn(e){return hc(e)}function Fl(e){return e==null?null:ti(e)&&hc(e)?e:null}function Qt(e,t,n){if(n==="en")return CE(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?bc(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||bc(mj()),CE(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function vn(e,t){var n=t.dateFormat,r=t.locale,a=Array.isArray(n)&&n.length>0?n[0]:n;return e&&Qt(e,a,r)||""}var tI=" - ";function yae(e,t,n){if(!e&&!t)return"";var r=e?vn(e,n):"",a=t?vn(t,n):"",l=n.rangeSeparator||tI;return"".concat(r).concat(l).concat(a)}function wae(e,t){if(!e?.length)return"";var n=e[0]?vn(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var r=vn(e[1],t);return"".concat(n,", ").concat(r)}var a=e.length-1;return"".concat(n," (+").concat(a,")")}function Oi(e,t){var n=t.hour,r=n===void 0?0:n,a=t.minute,l=a===void 0?0:a,c=t.second,u=c===void 0?0:c;return lp(op(cp(e,u),l),r)}function jae(e){return aj(e)}function Nae(e,t){return Qt(e,"ddd",t)}function Xu(e){return Jl(e)}function qs(e,t,n){var r=bc(t||mj());return Qi(e,{locale:r,weekStartsOn:n})}function Bi(e){return _3(e)}function Zu(e){return yv(e)}function $E(e){return Yy(e)}function qE(){return Jl(gt())}function HE(e){return D3(e)}function Sae(e){return Ree(e)}function Cae(e){return E3(e)}function Ua(e,t){return e&&t?Pre(e,t):!e&&!t}function en(e,t){return e&&t?Ore(e,t):!e&&!t}function Nh(e,t){return e&&t?Tre(e,t):!e&&!t}function mt(e,t){return e&&t?Pee(e,t):!e&&!t}function Bl(e,t){return e&&t?Ite(e,t):!e&&!t}function Ol(e,t,n){var r,a=Jl(t),l=D3(n);try{r=wd(e,{start:a,end:l})}catch{r=!1}return r}function mj(){var e=eI();return e.__localeId__}function bc(e){if(typeof e=="string"){var t=eI();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function Aae(e,t,n){return t(Qt(e,"EEEE",n))}function Mae(e,t){return Qt(e,"EEEEEE",t)}function kae(e,t){return Qt(e,"EEE",t)}function pj(e,t){return Qt(Tn(gt(),e),"LLLL",t)}function rI(e,t){return Qt(Tn(gt(),e),"LLL",t)}function Dae(e,t){return Qt(Xo(gt(),e),"QQQ",t)}function na(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,l=n.excludeDates,c=n.excludeDateIntervals,u=n.includeDates,f=n.includeDateIntervals,m=n.filterDate,h=n.disabled;return h?!0:Xd(e,{minDate:r,maxDate:a})||l&&l.some(function(v){return v instanceof Date?mt(e,v):mt(e,v.date)})||c&&c.some(function(v){var x=v.start,b=v.end;return wd(e,{start:x,end:b})})||u&&!u.some(function(v){return mt(e,v)})||f&&!f.some(function(v){var x=v.start,b=v.end;return wd(e,{start:x,end:b})})||m&&!m(gt(e))||!1}function hj(e,t){var n=t===void 0?{}:t,r=n.excludeDates,a=n.excludeDateIntervals;return a&&a.length>0?a.some(function(l){var c=l.start,u=l.end;return wd(e,{start:c,end:u})}):r&&r.some(function(l){var c;return l instanceof Date?mt(e,l):mt(e,(c=l.date)!==null&&c!==void 0?c:new Date)})||!1}function nI(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,l=n.excludeDates,c=n.includeDates,u=n.filterDate;return Xd(e,{minDate:r?_3(r):void 0,maxDate:a?E3(a):void 0})||l?.some(function(f){return en(e,f instanceof Date?f:f.date)})||c&&!c.some(function(f){return en(e,f)})||u&&!u(gt(e))||!1}function Tm(e,t,n,r){var a=ct(e),l=gn(e),c=ct(t),u=gn(t),f=ct(r);return a===c&&a===f?l<=n&&n<=u:a<c?f===a&&l<=n||f===c&&u>=n||f<c&&f>a:!1}function Eae(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,l=n.excludeDates,c=n.includeDates;return Xd(e,{minDate:r,maxDate:a})||l&&l.some(function(u){return en(u instanceof Date?u:u.date,e)})||c&&!c.some(function(u){return en(u,e)})||!1}function Pm(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,l=n.excludeDates,c=n.includeDates,u=n.filterDate,f=n.disabled;return f?!0:Xd(e,{minDate:r,maxDate:a})||l?.some(function(m){return Nh(e,m instanceof Date?m:m.date)})||c&&!c.some(function(m){return Nh(e,m)})||u&&!u(gt(e))||!1}function Im(e,t,n){if(!t||!n||!hc(t)||!hc(n))return!1;var r=ct(t),a=ct(n);return r<=e&&a>=e}function dp(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,l=n.excludeDates,c=n.includeDates,u=n.filterDate,f=n.disabled;if(f)return!0;var m=new Date(e,0,1);return Xd(m,{minDate:r?yv(r):void 0,maxDate:a?O3(a):void 0})||l?.some(function(h){return Ua(m,h instanceof Date?h:h.date)})||c&&!c.some(function(h){return Ua(m,h)})||u&&!u(gt(m))||!1}function Rm(e,t,n,r){var a=ct(e),l=zs(e),c=ct(t),u=zs(t),f=ct(r);return a===c&&a===f?l<=n&&n<=u:a<c?f===a&&l<=n||f===c&&u>=n||f<c&&f>a:!1}function Xd(e,t){var n,r=t===void 0?{}:t,a=r.minDate,l=r.maxDate;return(n=a&&pc(e,a)<0||l&&pc(e,l)>0)!==null&&n!==void 0?n:!1}function UE(e,t){return t.some(function(n){return Qr(n)===Qr(e)&&Xr(n)===Xr(e)&&$s(n)===$s(e)})}function YE(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,a=n.includeTimes,l=n.filterTime;return r&&UE(e,r)||a&&!UE(e,a)||l&&!l(e)||!1}function VE(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var a=gt();a=lp(a,Qr(e)),a=op(a,Xr(e)),a=cp(a,$s(e));var l=gt();l=lp(l,Qr(n)),l=op(l,Xr(n)),l=cp(l,$s(n));var c=gt();c=lp(c,Qr(r)),c=op(c,Xr(r)),c=cp(c,$s(r));var u;try{u=!wd(a,{start:l,end:c})}catch{u=!1}return u}function GE(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.includeDates,l=Ul(e,1);return r&&ph(r,l)>0||a&&a.every(function(c){return ph(c,l)>0})||!1}function WE(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.includeDates,l=Aa(e,1);return r&&ph(l,r)>0||a&&a.every(function(c){return ph(l,c)>0})||!1}function _ae(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.includeDates,l=yv(e),c=$3(l);return r&&hh(r,c)>0||a&&a.every(function(u){return hh(u,c)>0})||!1}function Oae(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.includeDates,l=O3(e),c=nj(l,1);return r&&hh(c,r)>0||a&&a.every(function(u){return hh(c,u)>0})||!1}function KE(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.includeDates,l=Ws(e,1);return r&&vh(r,l)>0||a&&a.every(function(c){return vh(c,l)>0})||!1}function Tae(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.yearItemNumber,l=a===void 0?Qd:a,c=Zu(Ws(e,l)),u=Ri(c,l).endPeriod,f=r&&ct(r);return f&&f>u||!1}function QE(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.includeDates,l=Na(e,1);return r&&vh(l,r)>0||a&&a.every(function(c){return vh(l,c)>0})||!1}function Pae(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.yearItemNumber,l=a===void 0?Qd:a,c=Na(e,l),u=Ri(c,l).startPeriod,f=r&&ct(r);return f&&f<u||!1}function aI(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(a){return pc(a,t)>=0});return bE(r)}else return n?bE(n):t}function iI(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(a){return pc(a,t)<=0});return gE(r)}else return n?gE(n):t}function XE(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var r=new Map,a=0,l=e.length;a<l;a++){var c=e[a];if(ti(c)){var u=Qt(c,"MM.dd.yyyy"),f=r.get(u)||[];f.includes(t)||(f.push(t),r.set(u,f))}else if(typeof c=="object"){var m=Object.keys(c),h=(n=m[0])!==null&&n!==void 0?n:"",v=c[h];if(typeof h=="string"&&Array.isArray(v))for(var x=0,b=v.length;x<b;x++){var S=v[x];if(S){var u=Qt(S,"MM.dd.yyyy"),f=r.get(u)||[];f.includes(h)||(f.push(h),r.set(u,f))}}}}return r}function Iae(e,t){return e.length!==t.length?!1:e.every(function(n,r){return n===t[r]})}function Rae(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(r){var a=r.date,l=r.holidayName;if(ti(a)){var c=Qt(a,"MM.dd.yyyy"),u=n.get(c)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===t&&Iae(u.holidayNames,[l]))){u.className=t;var f=u.holidayNames;u.holidayNames=f?Za(Za([],f,!0),[l],!1):[l],n.set(c,u)}}}),n}function Lae(e,t,n,r,a){for(var l=a.length,c=[],u=0;u<l;u++){var f=e,m=a[u];m&&(f=Eee(f,Qr(m)),f=yd(f,Xr(m)),f=Tee(f,$s(m)));var h=yd(e,(n+1)*r);Fi(f,t)&&Xa(f,h)&&m!=null&&c.push(m)}return c}function Vo(e){return e<10?"0".concat(e):"".concat(e)}function Ri(e,t){t===void 0&&(t=Qd);var n=Math.ceil(ct(e)/t)*t,r=n-(t-1);return{startPeriod:r,endPeriod:n}}function zae(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function ZE(e){var t=e.getSeconds(),n=e.getMilliseconds();return Le(e.getTime()-t*1e3-n)}function sI(e,t){return ZE(e).getTime()===ZE(t).getTime()}function JE(e){if(!ti(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function Eb(e,t){if(!ti(e)||!ti(t))throw new Error("Invalid date received");var n=JE(e),r=JE(t);return Xa(n,r)}function lI(e){return e.key===Me.Space}var _b=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;return r.inputRef=oe.createRef(),r.onTimeChange=function(a){var l,c;r.setState({time:a});var u=r.props.date,f=u instanceof Date&&!isNaN(+u),m=f?u:new Date;if(a?.includes(":")){var h=a.split(":"),v=h[0],x=h[1];m.setHours(Number(v)),m.setMinutes(Number(x))}(c=(l=r.props).onChange)===null||c===void 0||c.call(l,m)},r.renderTimeInput=function(){var a=r.state.time,l=r.props,c=l.date,u=l.timeString,f=l.customTimeInput;return f?j.cloneElement(f,{date:c,value:a,onChange:r.onTimeChange}):oe.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var m;(m=r.inputRef.current)===null||m===void 0||m.focus()},required:!0,value:a,onChange:function(m){r.onTimeChange(m.target.value||u)}})},r.state={time:r.props.timeString},r}return t.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},t.prototype.render=function(){return oe.createElement("div",{className:"react-datepicker__input-time-container"},oe.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),oe.createElement("div",{className:"react-datepicker-time__input-container"},oe.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t})(j.Component),Fae=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=j.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var a,l,c=r.key;c===Me.Space&&(r.preventDefault(),r.key=Me.Enter),(l=(a=n.props).handleOnKeyDown)===null||l===void 0||l.call(a,r)},n.isSameDay=function(r){return mt(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var a=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(c){return n.isSameDayOrWeek(c)}):n.isSameDayOrWeek(n.props.selected),l=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!a&&n.isSameDayOrWeek(n.props.preSelection)&&!l},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),na(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate,disabled:n.props.disabled})},n.isExcluded=function(){return hj(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return mt(n.props.day,qs(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&mt(r,qs(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,a=r.day,l=r.highlightDates;if(!l)return!1;var c=Qt(a,"MM.dd.yyyy");return l.get(c)},n.getHolidaysClass=function(){var r,a=n.props,l=a.day,c=a.holidays;if(!c)return[void 0];var u=Qt(l,"MM.dd.yyyy");return c.has(u)?[(r=c.get(u))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,a=r.day,l=r.startDate,c=r.endDate;return!l||!c?!1:Ol(a,l,c)},n.isInSelectingRange=function(){var r,a=n.props,l=a.day,c=a.selectsStart,u=a.selectsEnd,f=a.selectsRange,m=a.selectsDisabledDaysInRange,h=a.startDate,v=a.swapRange,x=a.endDate,b=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;if(n.isAfterMonth()||n.isBeforeMonth()||!(c||u||f)||!b||!m&&n.isDisabled())return!1;if(c&&x&&(Xa(b,x)||Bl(b,x)))return Ol(l,b,x);if(u&&h&&(Fi(b,h)||Bl(b,h)))return Ol(l,h,b);if(f&&h&&!x){if(Bl(b,h)||Fi(b,h))return Ol(l,h,b);if(v&&Xa(b,h))return Ol(l,b,h)}return!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var a=n.props,l=a.day,c=a.startDate,u=a.selectsStart,f=a.swapRange,m=a.selectsRange,h=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return u?mt(l,h):m&&f&&c&&h?mt(l,Xa(h,c)?h:c):mt(l,c)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var a=n.props,l=a.day,c=a.endDate,u=a.selectsEnd,f=a.selectsRange,m=a.swapRange,h=a.startDate,v=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return u?mt(l,v):f&&m&&h&&v?mt(l,Xa(v,h)?h:v):f?mt(l,v):mt(l,c)},n.isRangeStart=function(){var r=n.props,a=r.day,l=r.startDate,c=r.endDate;return!l||!c?!1:mt(l,a)},n.isRangeEnd=function(){var r=n.props,a=r.day,l=r.startDate,c=r.endDate;return!l||!c?!1:mt(c,a)},n.isWeekend=function(){var r=_te(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===gn(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(gn(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(gt())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return n.isSameDayOrWeek(a)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var a=n.props.dayClassName?n.props.dayClassName(r):void 0;return st("react-datepicker__day",a,"react-datepicker__day--"+Nae(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,a=r.day,l=r.ariaLabelPrefixWhenEnabled,c=l===void 0?"Choose":l,u=r.ariaLabelPrefixWhenDisabled,f=u===void 0?"Not available":u,m=n.isDisabled()||n.isExcluded()?f:c;return"".concat(m," ").concat(Qt(a,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,a=r.day,l=r.holidays,c=l===void 0?new Map:l,u=r.excludeDates,f=Qt(a,"MM.dd.yyyy"),m=[];return c.has(f)&&m.push.apply(m,c.get(f).holidayNames),n.isExcluded()&&m.push(u?.filter(function(h){return h instanceof Date?mt(h,a):mt(h?.date,a)}).map(function(h){if(!(h instanceof Date))return h?.message})),m.join(", ")},n.getTabIndex=function(){var r=n.props.selected,a=n.props.preSelection,l=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&mt(a,r))?0:-1;return l},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(AE(n.props.day),n.props.day):AE(n.props.day)},n.render=function(){return oe.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"gridcell",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&oe.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,r,a;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t})(j.Component),Bae=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=j.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var a,l,c=r.key;c===Me.Space&&(r.preventDefault(),r.key=Me.Enter),(l=(a=n.props).handleOnKeyDown)===null||l===void 0||l.call(a,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!mt(n.props.date,n.props.selected)&&mt(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||mt(n.props.date,n.props.selected)&&mt(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var a=!1;n.getTabIndex()===0&&!r?.isInputFocused&&mt(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(a=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,r=n.weekNumber,a=n.isWeekDisabled,l=n.ariaLabelPrefix,c=l===void 0?t.defaultProps.ariaLabelPrefix:l,u=n.onClick,f={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!a,"react-datepicker__week-number--selected":!!u&&mt(this.props.date,this.props.selected)};return oe.createElement("div",{ref:this.weekNumberEl,className:st(f),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},r)},t})(j.Component),$ae=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(r){return na(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,a){n.props.onDayClick&&n.props.onDayClick(r,a)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,a,l){for(var c,u,f,m=new Date(r),h=0;h<7;h++){var v=new Date(r);v.setDate(v.getDate()+h);var x=!n.isDisabled(v);if(x){m=v;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(m,a,l),n.props.showWeekPicker&&n.handleDayClick(m,l),((c=n.props.shouldCloseOnSelect)!==null&&c!==void 0?c:t.defaultProps.shouldCloseOnSelect)&&((f=(u=n.props).setOpen)===null||f===void 0||f.call(u,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):jae(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),a=ja(r,6),l=new Date(r);l<=a;){if(!n.isDisabled(l))return!1;l=ja(l,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),a=[],l=n.formatWeekNumber(r);if(n.props.showWeekNumber){var c=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,l):void 0;a.push(oe.createElement(Bae,it({key:"W"},t.defaultProps,n.props,{weekNumber:l,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:c})))}return a.concat([0,1,2,3,4,5,6].map(function(u){var f=ja(r,u);return oe.createElement(Fae,it({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,onClick:n.handleDayClick.bind(n,f),onMouseEnter:n.handleDayMouseEnter.bind(n,f)}))}))},n.startOfWeek=function(){return qs(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!mt(n.startOfWeek(),n.props.selected)&&mt(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":mt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},r=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return oe.createElement("div",{className:st(n,r),role:"row"},this.renderDays())},t})(j.Component),Uu,qae=6,ac={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Ob=(Uu={},Uu[ac.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Uu[ac.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Uu[ac.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Uu),Lm=1;function e_(e,t){return e?ac.FOUR_COLUMNS:t?ac.TWO_COLUMNS:ac.THREE_COLUMNS}var Hae=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=Za([],Array(12),!0).map(function(){return j.createRef()}),n.QUARTER_REFS=Za([],Array(4),!0).map(function(){return j.createRef()}),n.isDisabled=function(r){return na(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate,disabled:n.props.disabled})},n.isExcluded=function(r){return hj(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,a){var l,c;(c=(l=n.props).onDayClick)===null||c===void 0||c.call(l,r,a,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var a,l;(l=(a=n.props).onDayMouseEnter)===null||l===void 0||l.call(a,r)},n.handleMouseLeave=function(){var r,a;(a=(r=n.props).onMouseLeave)===null||a===void 0||a.call(r)},n.isRangeStartMonth=function(r){var a=n.props,l=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:en(Tn(l,r),c)},n.isRangeStartQuarter=function(r){var a=n.props,l=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:Nh(Xo(l,r),c)},n.isRangeEndMonth=function(r){var a=n.props,l=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:en(Tn(l,r),u)},n.isRangeEndQuarter=function(r){var a=n.props,l=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:Nh(Xo(l,r),u)},n.isInSelectingRangeMonth=function(r){var a,l=n.props,c=l.day,u=l.selectsStart,f=l.selectsEnd,m=l.selectsRange,h=l.startDate,v=l.endDate,x=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(u||f||m)||!x?!1:u&&v?Tm(x,v,r,c):f&&h||m&&h&&!v?Tm(h,x,r,c):!1},n.isSelectingMonthRangeStart=function(r){var a;if(!n.isInSelectingRangeMonth(r))return!1;var l=n.props,c=l.day,u=l.startDate,f=l.selectsStart,m=Tn(c,r),h=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return f?en(m,h):en(m,u)},n.isSelectingMonthRangeEnd=function(r){var a;if(!n.isInSelectingRangeMonth(r))return!1;var l=n.props,c=l.day,u=l.endDate,f=l.selectsEnd,m=l.selectsRange,h=Tn(c,r),v=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return f||m?en(h,v):en(h,u)},n.isInSelectingRangeQuarter=function(r){var a,l=n.props,c=l.day,u=l.selectsStart,f=l.selectsEnd,m=l.selectsRange,h=l.startDate,v=l.endDate,x=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(u||f||m)||!x?!1:u&&v?Rm(x,v,r,c):f&&h||m&&h&&!v?Rm(h,x,r,c):!1},n.isWeekInMonth=function(r){var a=n.props.day,l=ja(r,6);return en(r,a)||en(l,a)},n.isCurrentMonth=function(r,a){return ct(r)===ct(gt())&&a===gn(gt())},n.isCurrentQuarter=function(r,a){return ct(r)===ct(gt())&&a===zs(gt())},n.isSelectedMonth=function(r,a,l){return gn(l)===a&&ct(r)===ct(l)},n.isSelectMonthInList=function(r,a,l){return l.some(function(c){return n.isSelectedMonth(r,a,c)})},n.isSelectedQuarter=function(r,a,l){return zs(l)===a&&ct(r)===ct(l)},n.isSelectQuarterInList=function(r,a,l){return l.some(function(c){return n.isSelectedQuarter(r,a,c)})},n.isMonthSelected=function(){var r=n.props,a=r.day,l=r.selected,c=r.selectedDates,u=r.selectsMultiple,f=gn(a);return u?c?.some(function(m){return n.isSelectedMonth(a,f,m)}):!!l&&n.isSelectedMonth(a,f,l)},n.isQuarterSelected=function(){var r=n.props,a=r.day,l=r.selected,c=r.selectedDates,u=r.selectsMultiple,f=zs(a);return u?c?.some(function(m){return n.isSelectedQuarter(a,f,m)}):!!l&&n.isSelectedQuarter(a,f,l)},n.renderWeeks=function(){if(!xn(n.props.day))return[];for(var r=[],a=n.props.fixedHeight,l=0,c=!1,u=qs(Bi(n.props.day),n.props.locale,n.props.calendarStartDay),f=function(S){return n.props.showWeekPicker?qs(S,n.props.locale,n.props.calendarStartDay):n.props.preSelection},m=function(S){return n.props.showWeekPicker?qs(S,n.props.locale,n.props.calendarStartDay):n.props.selected},h=n.props.selected?m(n.props.selected):void 0,v=n.props.preSelection?f(n.props.preSelection):void 0;r.push(oe.createElement($ae,it({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:l,day:u,month:gn(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:h,preSelection:v,showWeekNumber:n.props.showWeekNumbers}))),!c;){l++,u=mh(u,1);var x=a&&l>=qae,b=!a&&!n.isWeekInMonth(u);if(x||b)if(n.props.peekNextMonth)c=!0;else break}return r},n.onMonthClick=function(r,a){var l=n.isMonthDisabledForLabelDate(a),c=l.isDisabled,u=l.labelDate;c||n.handleDayClick(Bi(u),r)},n.onMonthMouseEnter=function(r){var a=n.isMonthDisabledForLabelDate(r),l=a.isDisabled,c=a.labelDate;l||n.handleDayMouseEnter(Bi(c))},n.handleMonthNavigation=function(r,a){var l,c,u,f;(c=(l=n.props).setPreSelection)===null||c===void 0||c.call(l,a),(f=(u=n.MONTH_REFS[r])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus()},n.handleKeyboardNavigation=function(r,a,l){var c,u=n.props,f=u.selected,m=u.preSelection,h=u.setPreSelection,v=u.minDate,x=u.maxDate,b=u.showFourColumnMonthYearPicker,S=u.showTwoColumnMonthYearPicker;if(m){var w=e_(b,S),y=n.getVerticalOffset(w),C=(c=Ob[w])===null||c===void 0?void 0:c.grid,M=function(P,O,L){var R,B,D=O,K=L;switch(P){case Me.ArrowRight:D=Aa(O,Lm),K=L===11?0:L+Lm;break;case Me.ArrowLeft:D=Ul(O,Lm),K=L===0?11:L-Lm;break;case Me.ArrowUp:D=Ul(O,y),K=!((R=C?.[0])===null||R===void 0)&&R.includes(L)?L+12-y:L-y;break;case Me.ArrowDown:D=Aa(O,y),K=!((B=C?.[C.length-1])===null||B===void 0)&&B.includes(L)?L-12+y:L+y;break}return{newCalculatedDate:D,newCalculatedMonth:K}},A=function(P,O,L){for(var R=40,B=P,D=!1,K=0,X=M(B,O,L),Z=X.newCalculatedDate,$=X.newCalculatedMonth;!D;){if(K>=R){Z=O,$=L;break}if(v&&Z<v){B=Me.ArrowRight;var G=M(B,Z,$);Z=G.newCalculatedDate,$=G.newCalculatedMonth}if(x&&Z>x){B=Me.ArrowLeft;var G=M(B,Z,$);Z=G.newCalculatedDate,$=G.newCalculatedMonth}if(Eae(Z,n.props)){var G=M(B,Z,$);Z=G.newCalculatedDate,$=G.newCalculatedMonth}else D=!0;K++}return{newCalculatedDate:Z,newCalculatedMonth:$}};if(a===Me.Enter){n.isMonthDisabled(l)||(n.onMonthClick(r,l),h?.(f));return}var _=A(a,m,l),E=_.newCalculatedDate,T=_.newCalculatedMonth;switch(a){case Me.ArrowRight:case Me.ArrowLeft:case Me.ArrowUp:case Me.ArrowDown:n.handleMonthNavigation(T,E);break}}},n.getVerticalOffset=function(r){var a,l;return(l=(a=Ob[r])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&l!==void 0?l:0},n.onMonthKeyDown=function(r,a){var l=n.props,c=l.disabledKeyboardNavigation,u=l.handleOnMonthKeyDown,f=r.key;f!==Me.Tab&&r.preventDefault(),c||n.handleKeyboardNavigation(r,f,a),u&&u(r)},n.onQuarterClick=function(r,a){var l=Xo(n.props.day,a);Pm(l,n.props)||n.handleDayClick($E(l),r)},n.onQuarterMouseEnter=function(r){var a=Xo(n.props.day,r);Pm(a,n.props)||n.handleDayMouseEnter($E(a))},n.handleQuarterNavigation=function(r,a){var l,c,u,f;n.isDisabled(a)||n.isExcluded(a)||((c=(l=n.props).setPreSelection)===null||c===void 0||c.call(l,a),(f=(u=n.QUARTER_REFS[r-1])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus())},n.onQuarterKeyDown=function(r,a){var l,c,u=r.key;if(!n.props.disabledKeyboardNavigation)switch(u){case Me.Enter:n.onQuarterClick(r,a),(c=(l=n.props).setPreSelection)===null||c===void 0||c.call(l,n.props.selected);break;case Me.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(a===4?1:a+1,nj(n.props.preSelection,1));break;case Me.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(a===1?4:a-1,$3(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(r){var a,l=n.props,c=l.day,u=l.disabled,f=l.minDate,m=l.maxDate,h=l.excludeDates,v=l.includeDates,x=Tn(c,r);return u?{isDisabled:!0,labelDate:Tn(c,r)}:{isDisabled:(a=(f||m||h||v)&&nI(x,n.props))!==null&&a!==void 0?a:!1,labelDate:x}},n.isMonthDisabled=function(r){var a=n.isMonthDisabledForLabelDate(r).isDisabled;return a},n.getMonthClassNames=function(r){var a=n.props,l=a.day,c=a.startDate,u=a.endDate,f=a.preSelection,m=a.monthClassName,h=m?m(Tn(l,r)):void 0,v=n.getSelection();return st("react-datepicker__month-text","react-datepicker__month-".concat(r),h,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":v?n.isSelectMonthInList(l,r,v):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&f&&n.isSelectedMonth(l,r,f)&&!n.isMonthSelected()&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":c&&u?Tm(c,u,r,l):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(l,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var a=gn(n.props.preSelection),l=n.isMonthDisabledForLabelDate(a).isDisabled,c=r===a&&!(l||n.props.disabledKeyboardNavigation)?"0":"-1";return c},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var a=zs(n.props.preSelection),l=Pm(n.props.day,n.props),c=r===a&&!(l||n.props.disabledKeyboardNavigation)?"0":"-1";return c},n.getAriaLabel=function(r){var a=n.props,l=a.chooseDayAriaLabelPrefix,c=l===void 0?"Choose":l,u=a.disabledDayAriaLabelPrefix,f=u===void 0?"Not available":u,m=a.day,h=a.locale,v=Tn(m,r),x=n.isDisabled(v)||n.isExcluded(v)?f:c;return"".concat(x," ").concat(Qt(v,"MMMM yyyy",h))},n.getQuarterClassNames=function(r){var a=n.props,l=a.day,c=a.startDate,u=a.endDate,f=a.minDate,m=a.maxDate,h=a.excludeDates,v=a.includeDates,x=a.filterDate,b=a.preSelection,S=a.disabledKeyboardNavigation,w=a.disabled,y=(f||m||h||v||x||w)&&Pm(Xo(l,r),n.props),C=n.getSelection();return st("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":y,"react-datepicker__quarter-text--selected":C?n.isSelectQuarterInList(l,r,C):void 0,"react-datepicker__quarter-text--keyboard-selected":!S&&b&&n.isSelectedQuarter(l,r,b)&&!n.isQuarterSelected()&&!y,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":c&&u?Rm(c,u,r,l):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(l,r)})},n.getMonthContent=function(r){var a=n.props,l=a.showFullMonthYearPicker,c=a.renderMonthContent,u=a.locale,f=a.day,m=rI(r,u),h=pj(r,u);return c?c(r,m,h,f):l?h:m},n.getQuarterContent=function(r){var a,l=n.props,c=l.renderQuarterContent,u=l.locale,f=Dae(r,u);return(a=c?.(r,f))!==null&&a!==void 0?a:f},n.renderMonths=function(){var r,a=n.props,l=a.showTwoColumnMonthYearPicker,c=a.showFourColumnMonthYearPicker,u=a.day,f=a.selected,m=(r=Ob[e_(c,l)])===null||r===void 0?void 0:r.grid;return m?.map(function(h,v){return oe.createElement("div",{className:"react-datepicker__month-wrapper",key:v},h.map(function(x,b){return oe.createElement("div",{ref:n.MONTH_REFS[x],key:b,onClick:function(S){n.onMonthClick(S,x)},onKeyDown:function(S){lI(S)&&(S.preventDefault(),S.key=Me.Enter),n.onMonthKeyDown(S,x)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(x)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(x)}:void 0,tabIndex:Number(n.getTabIndex(x)),className:n.getMonthClassNames(x),"aria-disabled":n.isMonthDisabled(x),role:"option","aria-label":n.getAriaLabel(x),"aria-current":n.isCurrentMonth(u,x)?"date":void 0,"aria-selected":f?n.isSelectedMonth(u,x,f):void 0},n.getMonthContent(x))}))})},n.renderQuarters=function(){var r=n.props,a=r.day,l=r.selected,c=[1,2,3,4];return oe.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(u,f){return oe.createElement("div",{key:f,ref:n.QUARTER_REFS[f],role:"option",onClick:function(m){n.onQuarterClick(m,u)},onKeyDown:function(m){n.onQuarterKeyDown(m,u)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(u)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(u)}:void 0,className:n.getQuarterClassNames(u),"aria-selected":l?n.isSelectedQuarter(a,u,l):void 0,tabIndex:Number(n.getQuarterTabIndex(u)),"aria-current":n.isCurrentQuarter(a,u)?"date":void 0},n.getQuarterContent(u))}))},n.getClassNames=function(){var r=n.props,a=r.selectingDate,l=r.selectsStart,c=r.selectsEnd,u=r.showMonthYearPicker,f=r.showQuarterYearPicker,m=r.showWeekPicker;return st("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(l||c)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":m})},n}return t.prototype.getSelection=function(){var n=this.props,r=n.selected,a=n.selectedDates,l=n.selectsMultiple;if(l)return a;if(r)return[r]},t.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,a=n.showQuarterYearPicker,l=n.day,c=n.ariaLabelPrefix,u=c===void 0?"Month ":c,f=u?u.trim()+" ":"",m=xn(l)?"".concat(f).concat(Qt(l,"MMMM, yyyy",this.props.locale)):"",h=r||a;return h?oe.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":m,role:"listbox"},r?this.renderMonths():this.renderQuarters()):oe.createElement("div",{role:"table"},this.props.dayNamesHeader&&oe.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&oe.createElement("div",{role:"rowgroup"},this.props.monthHeader),oe.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":m,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&oe.createElement("div",{role:"rowgroup"},this.props.monthFooter))},t})(j.Component),Uae=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.monthOptionButtonsRef={},n.isSelectedMonth=function(r){return n.props.month===r},n.handleOptionKeyDown=function(r,a){var l;switch(a.key){case"Enter":a.preventDefault(),n.onChange(r);break;case"Escape":a.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{a.preventDefault();var c=(r+(a.key==="ArrowUp"?-1:1)+n.props.monthNames.length)%n.props.monthNames.length;(l=n.monthOptionButtonsRef[c])===null||l===void 0||l.focus();break}}},n.renderOptions=function(){return n.monthOptionButtonsRef={},n.props.monthNames.map(function(r,a){return oe.createElement("div",{ref:function(l){n.monthOptionButtonsRef[a]=l,n.isSelectedMonth(a)&&l?.focus()},role:"button",tabIndex:0,className:n.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,a),onKeyDown:n.handleOptionKeyDown.bind(n,a),"aria-selected":n.isSelectedMonth(a)?"true":void 0},n.isSelectedMonth(a)?oe.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return oe.createElement(Av,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),Yae=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(a,l){return oe.createElement("option",{key:a,value:l},a)})},n.renderSelectMode=function(r){return oe.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(a){return n.onChange(parseInt(a.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,a){return oe.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},oe.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),oe.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[n.props.month]))},n.renderDropdown=function(r){return oe.createElement(Uae,it({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var a=n.state.dropdownVisible,l=[n.renderReadView(!a,r)];return a&&l.unshift(n.renderDropdown(r)),l},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(l){return rI(l,n.props.locale)}:function(l){return pj(l,n.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(r);break;case"select":a=this.renderSelectMode(r);break}return oe.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},t})(j.Component),t_=5;function Vae(e,t,n){for(var r=[],a=e??Ws(n,t_),l=t??Na(n,t_),c=Bi(a),u=Bi(l);!Fi(c,u);)r.push(gt(c)),c=Aa(c,1);return r}var Gae=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(a){var l=Gy(a),c=Ua(r.props.date,a)&&en(r.props.date,a);return oe.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:l,onClick:r.onChange.bind(r,l),"aria-selected":c?"true":void 0},c?oe.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Qt(a,r.props.dateFormat,r.props.locale))})},r.onChange=function(a){return r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:Vae(r.props.minDate,r.props.maxDate,r.props.date)},r}return t.prototype.render=function(){var n=st({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return oe.createElement(Av,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),r_=5,Wae=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r,a,l=(r=n.props.minDate)!==null&&r!==void 0?r:Ws(n.props.date,r_),c=(a=n.props.maxDate)!==null&&a!==void 0?a:Na(n.props.date,r_),u=Bi(l),f=Bi(c),m=[];!Fi(u,f);){var h=Gy(u);m.push(oe.createElement("option",{key:h,value:h},Qt(u,n.props.dateFormat,n.props.locale))),u=Aa(u,1)}return m},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return oe.createElement("select",{value:Gy(Bi(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var a=Qt(n.props.date,n.props.dateFormat,n.props.locale);return oe.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},oe.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),oe.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},n.renderDropdown=function(){return oe.createElement(Gae,it({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,a=[n.renderReadView(!r)];return r&&a.unshift(n.renderDropdown()),a},n.onChange=function(r){n.toggleDropdown();var a=gt(r);Ua(n.props.date,a)&&en(n.props.date,a)||n.props.onChange(a)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return oe.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t})(j.Component),Kae=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,a,l;n.list&&(n.list.scrollTop=(l=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((a=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&a!==void 0?a:0):n.list.clientHeight,n.centerLi))!==null&&l!==void 0?l:0)})},n.handleClick=function(r){var a,l;(n.props.minTime||n.props.maxTime)&&VE(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&YE(r,n.props)||(l=(a=n.props).onChange)===null||l===void 0||l.call(a,r)},n.isSelectedTime=function(r){var a=Fl(n.props.selected);return a&&sI(a,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&VE(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&YE(r,n.props)},n.liClasses=function(r){var a,l=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&l.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&l.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(Qr(r)*3600+Xr(r)*60+$s(r))%(((a=n.props.intervals)!==null&&a!==void 0?a:t.defaultProps.intervals)*60)!==0&&l.push("react-datepicker__time-list-item--injected"),l.join(" ")},n.handleOnKeyDown=function(r,a){var l,c;r.key===Me.Space&&(r.preventDefault(),r.key=Me.Enter),(r.key===Me.ArrowUp||r.key===Me.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Me.ArrowDown||r.key===Me.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Me.Enter&&n.handleClick(a),(c=(l=n.props).handleOnKeyDown)===null||c===void 0||c.call(l,r)},n.renderTimes=function(){for(var r,a=[],l=typeof n.props.format=="string"?n.props.format:"p",c=(r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals,u=Fl(n.props.selected)||Fl(n.props.openToDate)||gt(),f=Xu(u),m=n.props.injectTimes&&n.props.injectTimes.sort(function(y,C){return y.getTime()-C.getTime()}),h=60*zae(u),v=h/c,x=0;x<v;x++){var b=yd(f,x*c);if(a.push(b),m){var S=Lae(f,b,x,c,m);a=a.concat(S)}}var w=a.reduce(function(y,C){return C.getTime()<=u.getTime()?C:y},a[0]);return a.map(function(y){return oe.createElement("li",{key:y.valueOf(),onClick:n.handleClick.bind(n,y),className:n.liClasses(y),ref:function(C){y===w&&(n.centerLi=C)},onKeyDown:function(C){n.handleOnKeyDown(C,y)},tabIndex:y===w?0:-1,role:"option","aria-selected":n.isSelectedTime(y)?"true":void 0,"aria-disabled":n.isDisabledTime(y)?"true":void 0},Qt(y,l,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?oe.createElement(oe.Fragment,null):oe.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},oe.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},t.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var n=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==n&&this.setState({height:n})}},t.prototype.render=function(){var n=this,r,a=this.state.height;return oe.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),oe.createElement("div",{className:"react-datepicker__time"},oe.createElement("div",{className:"react-datepicker__time-box"},oe.createElement("ul",{className:"react-datepicker__time-list",ref:function(l){n.list=l},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},t})(j.Component),n_=3,Qae=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;return r.YEAR_REFS=Za([],Array(r.props.yearItemNumber),!0).map(function(){return j.createRef()}),r.isDisabled=function(a){return na(a,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(a){return hj(a,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var a;return(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection},r.updateFocusOnPaginate=function(a){var l=function(){var c,u;(u=(c=r.YEAR_REFS[a])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(l)},r.handleYearClick=function(a,l){r.props.onDayClick&&r.props.onDayClick(a,l)},r.handleYearNavigation=function(a,l){var c,u,f,m,h=r.props,v=h.date,x=h.yearItemNumber;if(!(v===void 0||x===void 0)){var b=Ri(v,x).startPeriod;r.isDisabled(l)||r.isExcluded(l)||((u=(c=r.props).setPreSelection)===null||u===void 0||u.call(c,l),a-b<0?r.updateFocusOnPaginate(x-(b-a)):a-b>=x?r.updateFocusOnPaginate(Math.abs(x-(a-b))):(m=(f=r.YEAR_REFS[a-b])===null||f===void 0?void 0:f.current)===null||m===void 0||m.focus())}},r.isSameDay=function(a,l){return mt(a,l)},r.isCurrentYear=function(a){return a===ct(gt())},r.isRangeStart=function(a){return r.props.startDate&&r.props.endDate&&Ua(Ha(gt(),a),r.props.startDate)},r.isRangeEnd=function(a){return r.props.startDate&&r.props.endDate&&Ua(Ha(gt(),a),r.props.endDate)},r.isInRange=function(a){return Im(a,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(a){var l=r.props,c=l.selectsStart,u=l.selectsEnd,f=l.selectsRange,m=l.startDate,h=l.endDate;return!(c||u||f)||!r.selectingDate()?!1:c&&h?Im(a,r.selectingDate(),h):u&&m||f&&m&&!h?Im(a,m,r.selectingDate()):!1},r.isSelectingRangeStart=function(a){var l;if(!r.isInSelectingRange(a))return!1;var c=r.props,u=c.startDate,f=c.selectsStart,m=Ha(gt(),a);return f?Ua(m,(l=r.selectingDate())!==null&&l!==void 0?l:null):Ua(m,u??null)},r.isSelectingRangeEnd=function(a){var l;if(!r.isInSelectingRange(a))return!1;var c=r.props,u=c.endDate,f=c.selectsEnd,m=c.selectsRange,h=Ha(gt(),a);return f||m?Ua(h,(l=r.selectingDate())!==null&&l!==void 0?l:null):Ua(h,u??null)},r.isKeyboardSelected=function(a){if(!(r.props.disabledKeyboardNavigation||r.props.date===void 0||r.props.preSelection==null)){var l=r.props,c=l.minDate,u=l.maxDate,f=l.excludeDates,m=l.includeDates,h=l.filterDate,v=l.selected,x=Zu(Ha(r.props.date,a)),b=(c||u||f||m||h)&&dp(a,r.props),S=!!v&&mt(x,Zu(v)),w=mt(x,Zu(r.props.preSelection));return!r.props.inline&&!S&&w&&!b}},r.isSelectedYear=function(a){var l=r.props,c=l.selectsMultiple,u=l.selected,f=l.selectedDates;return c?f?.some(function(m){return a===ct(m)}):!!u&&a===ct(u)},r.onYearClick=function(a,l){var c=r.props.date;c!==void 0&&r.handleYearClick(Zu(Ha(c,l)),a)},r.onYearKeyDown=function(a,l){var c,u,f=a.key,m=r.props,h=m.date,v=m.yearItemNumber,x=m.handleOnKeyDown;if(f!==Me.Tab&&a.preventDefault(),!r.props.disabledKeyboardNavigation)switch(f){case Me.Enter:if(r.props.selected==null)break;r.onYearClick(a,l),(u=(c=r.props).setPreSelection)===null||u===void 0||u.call(c,r.props.selected);break;case Me.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(l+1,Na(r.props.preSelection,1));break;case Me.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(l-1,Ws(r.props.preSelection,1));break;case Me.ArrowUp:{if(h===void 0||v===void 0||r.props.preSelection==null)break;var b=Ri(h,v).startPeriod,S=n_,w=l-S;if(w<b){var y=v%S;l>=b&&l<b+y?S=y:S+=y,w=l-S}r.handleYearNavigation(w,Ws(r.props.preSelection,S));break}case Me.ArrowDown:{if(h===void 0||v===void 0||r.props.preSelection==null)break;var C=Ri(h,v).endPeriod,S=n_,w=l+S;if(w>C){var y=v%S;l<=C&&l>C-y?S=y:S+=y,w=l+S}r.handleYearNavigation(w,Na(r.props.preSelection,S));break}}x&&x(a)},r.getYearClassNames=function(a){var l=r.props,c=l.date,u=l.disabled,f=l.minDate,m=l.maxDate,h=l.excludeDates,v=l.includeDates,x=l.filterDate,b=l.yearClassName;return st("react-datepicker__year-text","react-datepicker__year-".concat(a),c?b?.(Ha(c,a)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(a),"react-datepicker__year-text--disabled":(f||m||h||v||x||u)&&dp(a,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(a),"react-datepicker__year-text--range-start":r.isRangeStart(a),"react-datepicker__year-text--range-end":r.isRangeEnd(a),"react-datepicker__year-text--in-range":r.isInRange(a),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(a),"react-datepicker__year-text--today":r.isCurrentYear(a)})},r.getYearTabIndex=function(a){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var l=ct(r.props.preSelection),c=dp(a,r.props);return a===l&&!c?"0":"-1"},r.getYearContent=function(a){return r.props.renderYearContent?r.props.renderYearContent(a):a},r}return t.prototype.render=function(){var n=this,r=[],a=this.props,l=a.date,c=a.yearItemNumber,u=a.onYearMouseEnter,f=a.onYearMouseLeave;if(l===void 0)return null;for(var m=Ri(l,c),h=m.startPeriod,v=m.endPeriod,x=function(w){r.push(oe.createElement("div",{ref:b.YEAR_REFS[w-h],onClick:function(y){n.onYearClick(y,w)},onKeyDown:function(y){lI(y)&&(y.preventDefault(),y.key=Me.Enter),n.onYearKeyDown(y,w)},tabIndex:Number(b.getYearTabIndex(w)),className:b.getYearClassNames(w),onMouseEnter:b.props.usePointerEvent?void 0:function(y){return u(y,w)},onPointerEnter:b.props.usePointerEvent?function(y){return u(y,w)}:void 0,onMouseLeave:b.props.usePointerEvent?void 0:function(y){return f(y,w)},onPointerLeave:b.props.usePointerEvent?function(y){return f(y,w)}:void 0,key:w,"aria-current":b.isCurrentYear(w)?"date":void 0},b.getYearContent(w)))},b=this,S=h;S<=v;S++)x(S);return oe.createElement("div",{className:"react-datepicker__year"},oe.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},t})(j.Component);function Xae(e,t,n,r){for(var a=[],l=0;l<2*t+1;l++){var c=e+t-l,u=!0;n&&(u=ct(n)<=c),r&&u&&(u=ct(r)>=c),u&&a.push(c)}return a}var Zae=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;r.yearOptionButtonsRef={},r.handleOptionKeyDown=function(u,f){var m;switch(f.key){case"Enter":f.preventDefault(),r.onChange(u);break;case"Escape":f.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{f.preventDefault();var h=u+(f.key==="ArrowUp"?1:-1);r.yearOptionButtonsRef[h]&&((m=r.yearOptionButtonsRef[h])===null||m===void 0||m.focus());break}}},r.renderOptions=function(){r.yearOptionButtonsRef={};var u=r.props.year,f=r.state.yearsList.map(function(v){return oe.createElement("div",{ref:function(x){r.yearOptionButtonsRef[v]=x,v===u&&x?.focus()},role:"button",tabIndex:0,className:u===v?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:v,onClick:r.onChange.bind(r,v),onKeyDown:r.handleOptionKeyDown.bind(r,v),"aria-selected":u===v?"true":void 0},u===v?oe.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",v)}),m=r.props.minDate?ct(r.props.minDate):null,h=r.props.maxDate?ct(r.props.maxDate):null;return(!h||!r.state.yearsList.find(function(v){return v===h}))&&f.unshift(oe.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},oe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!m||!r.state.yearsList.find(function(v){return v===m}))&&f.push(oe.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},oe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),f},r.onChange=function(u){r.props.onChange(u)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(u){var f=r.state.yearsList.map(function(m){return m+u});r.setState({yearsList:f})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var a=n.yearDropdownItemNumber,l=n.scrollableYearDropdown,c=a||(l?10:5);return r.state={yearsList:Xae(r.props.year,c,r.props.minDate,r.props.maxDate)},r.dropdownRef=j.createRef(),r}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,a=r?r.find(function(l){return l.ariaSelected}):null;n.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=st({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return oe.createElement(Av,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),Jae=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?ct(n.props.minDate):1900,a=n.props.maxDate?ct(n.props.maxDate):2100,l=[],c=r;c<=a;c++)l.push(oe.createElement("option",{key:c,value:c},c));return l},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return oe.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return oe.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:n.toggleDropdown},oe.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),oe.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return oe.createElement(Zae,it({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,a=[n.renderReadView(!r)];return r&&a.unshift(n.renderDropdown()),a},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,a){var l;(l=n.onSelect)===null||l===void 0||l.call(n,r,a),n.setOpen()},n.onSelect=function(r,a){var l,c;(c=(l=n.props).onSelect)===null||c===void 0||c.call(l,r,a)},n.setOpen=function(){var r,a;(a=(r=n.props).setOpen)===null||a===void 0||a.call(r,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return oe.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t})(j.Component),eie=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],oI="react-datepicker-ignore-onclickoutside",tie=function(e){var t=(e.className||"").split(/\s+/);return eie.some(function(n){return t.indexOf(n)>=0})},rie=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(a){r.props.onClickOutside(a)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(a){var l,c;tie(a.target)&&((c=(l=r.props).onDropdownFocus)===null||c===void 0||c.call(l,a))},r.getDateInView=function(){var a=r.props,l=a.preSelection,c=a.selected,u=a.openToDate,f=aI(r.props),m=iI(r.props),h=gt(),v=u||c||l;return v||(f&&Xa(h,f)?f:m&&Fi(h,m)?m:h)},r.increaseMonth=function(){r.setState(function(a){var l=a.date;return{date:Aa(l,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(a){var l=a.date;return{date:Ul(l,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(a,l,c){r.props.onSelect(a,l,c),r.props.setPreSelection&&r.props.setPreSelection(a)},r.handleDayMouseEnter=function(a){r.setState({selectingDate:a}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(a)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(a,l){r.setState({selectingDate:Ha(gt(),l)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(a,l)},r.handleYearMouseLeave=function(a,l){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(a,l)},r.handleYearChange=function(a){var l,c,u,f;(c=(l=r.props).onYearChange)===null||c===void 0||c.call(l,a),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(a),(f=(u=r.props).setOpen)===null||f===void 0||f.call(u,!0)),r.props.setPreSelection&&r.props.setPreSelection(a)},r.getEnabledPreSelectionDateForMonth=function(a){if(!na(a,r.props))return a;for(var l=Bi(a),c=Cae(a),u=Iee(c,l),f=null,m=0;m<=u;m++){var h=ja(l,m);if(!na(h,r.props)){f=h;break}}return f},r.handleMonthChange=function(a){var l,c,u,f=(l=r.getEnabledPreSelectionDateForMonth(a))!==null&&l!==void 0?l:a;r.handleCustomMonthChange(f),r.props.adjustDateOnChange&&(r.props.onSelect(f),(u=(c=r.props).setOpen)===null||u===void 0||u.call(c,!0)),r.props.setPreSelection&&r.props.setPreSelection(f)},r.handleCustomMonthChange=function(a){var l,c;(c=(l=r.props).onMonthChange)===null||c===void 0||c.call(l,a),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(a){r.handleYearChange(a),r.handleMonthChange(a)},r.changeYear=function(a){r.setState(function(l){var c=l.date;return{date:Ha(c,Number(a))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(a){r.setState(function(l){var c=l.date;return{date:Tn(c,Number(a))}},function(){var l,c;r.handleMonthChange(r.state.date),(c=(l=r.props).onMonthSelectedInChange)===null||c===void 0||c.call(l,0)})},r.changeMonthYear=function(a){r.setState(function(l){var c=l.date;return{date:Ha(Tn(c,gn(a)),ct(a))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(a,l){if(a===void 0&&(a=r.state.date),l===void 0&&(l=0),!xn(a))return[];var c=r.props.disabled,u=qs(a,r.props.locale,r.props.calendarStartDay),f=[];return r.props.showWeekNumbers&&f.push(oe.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(c?"react-datepicker__day-name--disabled":""),role:"columnheader"},oe.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),oe.createElement("span",{"aria-hidden":"true"},r.props.weekLabel||"#"))),f.concat([0,1,2,3,4,5,6].map(function(m){var h=ja(u,m),v=r.formatWeekday(h,r.props.locale),x=Qt(h,"EEEE",r.props.locale),b=r.props.weekDayClassName?r.props.weekDayClassName(h):void 0;if(r.props.renderCustomDayName){var S=r.props.renderCustomDayName({day:h,shortName:v,fullName:x,locale:r.props.locale,customDayNameCount:l});return oe.createElement("div",{key:m,role:"columnheader",className:st("react-datepicker__day-name",b,c?"react-datepicker__day-name--disabled":"")},S)}return oe.createElement("div",{key:m,role:"columnheader",className:st("react-datepicker__day-name",b,c?"react-datepicker__day-name--disabled":"")},oe.createElement("span",{className:"react-datepicker__sr-only"},x),oe.createElement("span",{"aria-hidden":"true"},v))}))},r.formatWeekday=function(a,l){return r.props.formatWeekDay?Aae(a,r.props.formatWeekDay,l):r.props.useWeekdaysShort?kae(a,l):Mae(a,l)},r.decreaseYear=function(){r.setState(function(a){var l,c=a.date;return{date:Ws(c,r.props.showYearPicker?(l=r.props.yearItemNumber)!==null&&l!==void 0?l:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var a,l,c;if(!r.props.renderCustomHeader){var u=(a=r.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,f=r.props.showPreviousMonths?u-1:0,m=(l=r.props.monthSelectedIn)!==null&&l!==void 0?l:f,h=Ul(r.state.date,m),v;switch(!0){case r.props.disabled:v=!0;break;case r.props.showMonthYearPicker:v=KE(r.state.date,r.props);break;case r.props.showYearPicker:v=Tae(r.state.date,r.props);break;case r.props.showQuarterYearPicker:v=_ae(r.state.date,r.props);break;default:v=GE(h,r.props);break}if(!(!((c=r.props.forceShowMonthNavigation)!==null&&c!==void 0?c:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&v||r.props.showTimeSelectOnly)){var x=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],b=["react-datepicker__navigation","react-datepicker__navigation--previous"],S=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(S=r.decreaseYear),v&&r.props.showDisabledMonthNavigation&&(b.push("react-datepicker__navigation--previous--disabled"),S=void 0);var w=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,y=r.props,C=y.previousMonthButtonLabel,M=C===void 0?t.defaultProps.previousMonthButtonLabel:C,A=y.previousYearButtonLabel,_=A===void 0?t.defaultProps.previousYearButtonLabel:A,E=r.props,T=E.previousMonthAriaLabel,P=T===void 0?typeof M=="string"?M:"Previous Month":T,O=E.previousYearAriaLabel,L=O===void 0?typeof _=="string"?_:"Previous Year":O;return oe.createElement("button",{type:"button",className:b.join(" "),onClick:S,onKeyDown:r.props.handleOnKeyDown,"aria-label":w?L:P},oe.createElement("span",{className:x.join(" ")},w?_:M))}}},r.increaseYear=function(){r.setState(function(a){var l,c=a.date;return{date:Na(c,r.props.showYearPicker?(l=r.props.yearItemNumber)!==null&&l!==void 0?l:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var a;if(!r.props.renderCustomHeader){var l;switch(!0){case r.props.disabled:l=!0;break;case r.props.showMonthYearPicker:l=QE(r.state.date,r.props);break;case r.props.showYearPicker:l=Pae(r.state.date,r.props);break;case r.props.showQuarterYearPicker:l=Oae(r.state.date,r.props);break;default:l=WE(r.state.date,r.props);break}if(!(!((a=r.props.forceShowMonthNavigation)!==null&&a!==void 0?a:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&l||r.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var f=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(f=r.increaseYear),l&&r.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),f=void 0);var m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,h=r.props,v=h.nextMonthButtonLabel,x=v===void 0?t.defaultProps.nextMonthButtonLabel:v,b=h.nextYearButtonLabel,S=b===void 0?t.defaultProps.nextYearButtonLabel:b,w=r.props,y=w.nextMonthAriaLabel,C=y===void 0?typeof x=="string"?x:"Next Month":y,M=w.nextYearAriaLabel,A=M===void 0?typeof S=="string"?S:"Next Year":M;return oe.createElement("button",{type:"button",className:c.join(" "),onClick:f,onKeyDown:r.props.handleOnKeyDown,"aria-label":m?A:C},oe.createElement("span",{className:u.join(" ")},m?S:x))}}},r.renderCurrentMonth=function(a){a===void 0&&(a=r.state.date);var l=["react-datepicker__current-month"];return r.props.showYearDropdown&&l.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&l.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&l.push("react-datepicker__current-month--hasMonthYearDropdown"),oe.createElement("h2",{className:l.join(" ")},xn(a)?Qt(a,r.props.dateFormat,r.props.locale):"")},r.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showYearDropdown||a))return oe.createElement(Jae,it({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:ct(r.state.date)}))},r.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthDropdown||a))return oe.createElement(Yae,it({},t.defaultProps,r.props,{month:gn(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthYearDropdown||a))return oe.createElement(Wae,it({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(a){r.props.onSelect(qE(),a),r.props.setPreSelection&&r.props.setPreSelection(qE())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return oe.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDayNamesHeader=function(a,l){return l===void 0&&(l=0),oe.createElement("div",{className:"react-datepicker__day-names",role:"row"},r.header(a,l))},r.renderDefaultHeader=function(a){var l=a.monthDate,c=a.i,u=oe.createElement("div",{className:st("react-datepicker__header",{"react-datepicker__header--has-time-select":r.props.showTimeSelect,"react-datepicker__header--middle":r.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":r.props.monthHeaderPosition==="bottom"})},r.renderCurrentMonth(l),oe.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(c!==0),r.renderMonthYearDropdown(c!==0),r.renderYearDropdown(c!==0)));return r.props.monthHeaderPosition==="top"?u:oe.createElement("div",{className:"react-datepicker__header-wrapper"},r.renderPreviousButton()||null,r.renderNextButton()||null,u)},r.renderCustomHeader=function(a){var l,c,u=a.monthDate,f=a.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var m=r.props,h=m.showYearPicker,v=m.yearItemNumber,x;if(h){var b=Ri(u,v),S=b.startPeriod,w=b.endPeriod;x={startYear:S,endYear:w}}var y=GE(r.state.date,r.props),C=WE(r.state.date,r.props),M=KE(r.state.date,r.props),A=QE(r.state.date,r.props);return oe.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(c=(l=r.props).renderCustomHeader)===null||c===void 0?void 0:c.call(l,it(it(it({},r.state),h&&{visibleYearsRange:x}),{customHeaderCount:f,monthDate:u,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:y,nextMonthButtonDisabled:C,prevYearButtonDisabled:M,nextYearButtonDisabled:A})))},r.renderYearHeader=function(a){var l=a.monthDate,c=r.props,u=c.showYearPicker,f=c.yearItemNumber,m=f===void 0?t.defaultProps.yearItemNumber:f,h=Ri(l,m),v=h.startPeriod,x=h.endPeriod;return oe.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(v," - ").concat(x):ct(l))},r.renderHeader=function(a){var l=a.monthDate,c=a.i,u=c===void 0?0:c,f={monthDate:l,i:u};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(f);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(f);default:return r.renderDefaultHeader(f)}},r.renderMonths=function(){var a,l;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var c=[],u=(a=r.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,f=r.props.showPreviousMonths?u-1:0,m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Na(r.state.date,f):Ul(r.state.date,f),h=(l=r.props.monthSelectedIn)!==null&&l!==void 0?l:f,v=0;v<u;++v){var x=v-h+f,b=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Na(m,x):Aa(m,x),S="month-".concat(v),w=v<u-1,y=v>0;c.push(oe.createElement("div",{key:S,ref:function(C){r.monthContainer=C??void 0},className:"react-datepicker__month-container"},r.props.monthHeaderPosition==="top"&&r.renderHeader({monthDate:b,i:v}),oe.createElement(Hae,it({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:b,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:v,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:w,monthShowsDuplicateDaysStart:y,dayNamesHeader:r.renderDayNamesHeader(b,v),monthHeader:r.props.monthHeaderPosition==="middle"?r.renderHeader({monthDate:b,i:v}):void 0,monthFooter:r.props.monthHeaderPosition==="bottom"?r.renderHeader({monthDate:b,i:v}):void 0}))))}return c}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return oe.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),oe.createElement(Qae,it({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return oe.createElement(Kae,it({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var a,l;if(r.props.showTimeInput){if(r.props.selectsRange){var c=r.props,u=c.startDate,f=c.endDate,m=u?new Date(u):void 0,h=m&&xn(m)&&!!u,v=h?"".concat(Vo(m.getHours()),":").concat(Vo(m.getMinutes())):"",x=f?new Date(f):void 0,b=x&&xn(x)&&!!f,S=b?"".concat(Vo(x.getHours()),":").concat(Vo(x.getMinutes())):"";return oe.createElement(oe.Fragment,null,oe.createElement(_b,it({},t.defaultProps,r.props,{date:m,timeString:v,onChange:function(M){var A,_;(_=(A=r.props).onTimeChange)===null||_===void 0||_.call(A,M,"start")},timeInputLabel:((a=r.props.timeInputLabel)!==null&&a!==void 0?a:"Time")+" (Start)"})),oe.createElement(_b,it({},t.defaultProps,r.props,{date:x,timeString:S,onChange:function(M){var A,_;(_=(A=r.props).onTimeChange)===null||_===void 0||_.call(A,M,"end")},timeInputLabel:((l=r.props.timeInputLabel)!==null&&l!==void 0?l:"Time")+" (End)"})))}var w=r.props.selected?new Date(r.props.selected):void 0,y=w&&xn(w)&&!!r.props.selected,C=y?"".concat(Vo(w.getHours()),":").concat(Vo(w.getMinutes())):"";return oe.createElement(_b,it({},t.defaultProps,r.props,{date:w,timeString:C,onChange:function(M){var A,_;(_=(A=r.props).onTimeChange)===null||_===void 0||_.call(A,M)}}))}},r.renderAriaLiveRegion=function(){var a;if(!xn(r.state.date))return oe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var l=Ri(r.state.date,(a=r.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber),c=l.startPeriod,u=l.endPeriod,f;return r.props.showYearPicker?f="".concat(c," - ").concat(u):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?f=ct(r.state.date):f="".concat(pj(gn(r.state.date),r.props.locale)," ").concat(ct(r.state.date)),oe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&f)},r.renderChildren=function(){if(r.props.children)return oe.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=j.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:oI,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Qd,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){n.setState({monthContainer:n.monthContainer})})())},t.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&xn(this.props.preSelection)&&(!mt(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var a=!en(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!mt(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||xae;return oe.createElement(Av,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},oe.createElement("div",{style:{display:"contents"},ref:this.containerRef},oe.createElement(n,{className:st("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t})(j.Component),nie=function(e){var t=e.icon,n=e.className,r=n===void 0?"":n,a=e.onClick,l="react-datepicker__calendar-icon";if(typeof t=="string")return oe.createElement("i",{className:"".concat(l," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:a});if(oe.isValidElement(t)){var c=t;return oe.cloneElement(c,{className:"".concat(c.props.className||""," ").concat(l," ").concat(r),onClick:function(u){typeof c.props.onClick=="function"&&c.props.onClick(u),typeof a=="function"&&a(u)}})}return oe.createElement("svg",{className:"".concat(l," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},oe.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},cI=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return xz.createPortal(this.props.children,this.el)},t})(j.Component),aie="[tabindex], a, button, input, select, textarea",iie=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},uI=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;return r.getTabChildren=function(){var a;return Array.prototype.slice.call((a=r.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(aie),1,-1).filter(iie)},r.handleFocusStart=function(){var a=r.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},r.handleFocusEnd=function(){var a=r.getTabChildren();a&&a.length>1&&a[0].focus()},r.tabLoopRef=j.createRef(),r}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?oe.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},oe.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,oe.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t})(j.Component);function sie(e){function t(n){var r,a=typeof n.hidePopper=="boolean"?n.hidePopper:!0,l=j.useRef(null),c=vae(it({open:!a,whileElementsMounted:Wne,placement:n.popperPlacement,middleware:Za([nae({padding:15}),rae(10),aae({element:l})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),u=it(it({},n),{hidePopper:a,popperProps:it(it({},c),{arrowRef:l})});return oe.createElement(e,it({},u))}return t.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),t}var lie=function(e){var t=e.className,n=e.wrapperClassName,r=e.hidePopper,a=r===void 0?!0:r,l=e.popperComponent,c=e.targetComponent,u=e.enableTabLoop,f=e.popperOnKeyDown,m=e.portalId,h=e.portalHost,v=e.popperProps,x=e.showArrow,b=e.popperTargetRef,S=e.monthHeaderPosition;j.useEffect(function(){b?.current&&v.refs.setPositionReference(b.current)},[b,v.refs]);var w=void 0;if(!a){var y=st("react-datepicker-popper",!x&&"react-datepicker-popper-offset",S==="middle"&&"react-datepicker-popper--header-middle",S==="bottom"&&"react-datepicker-popper--header-bottom",t);w=oe.createElement(uI,{enableTabLoop:u},oe.createElement("div",{ref:v.refs.setFloating,style:v.floatingStyles,className:y,"data-placement":v.placement,onKeyDown:f},l,x&&oe.createElement(cae,{ref:v.arrowRef,context:v.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(w=j.createElement(e.popperContainer,{},w)),m&&!a&&(w=oe.createElement(cI,{portalId:m,portalHost:h},w));var C=st("react-datepicker-wrapper",n);return oe.createElement(oe.Fragment,null,oe.createElement("div",{ref:v.refs.setReference,className:C},c),w)},oie=sie(lie);function a_(e,t){return e&&t?gn(e)!==gn(t)||ct(e)!==ct(t):e!==t}var Tb="Date input not valid.",cie=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){var a=r.props.timeZone,l=r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:gt();return a?BE(l,a):l},r.modifyHolidays=function(){var a;return(a=r.props.holidays)===null||a===void 0?void 0:a.reduce(function(l,c){var u=Cl(c.date,"yyyy-MM-dd",void 0,!1);return u?Za(Za([],l,!0),[it(it({},c),{date:u})],!1):l},[])},r.calcInitialState=function(){var a=r.props.timeZone,l=r.getPreSelection(),c=aI(r.props),u=iI(r.props),f=c&&Xa(l,Xu(c))?c:u&&Fi(l,HE(u))?u:l,m=r.props.selectsRange?r.props.startDate:r.props.selected;return m&&a&&(m=BE(m,a)),{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:m??f,highlightDates:XE(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var a,l=r.props,c=l.locale,u=l.startDate,f=l.endDate,m=l.rangeSeparator,h=l.selected,v=l.selectedDates,x=l.selectsMultiple,b=l.selectsRange,S=l.formatMultipleDates,w=l.value,y=(a=r.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,C=r.state.inputValue;if(typeof w=="string")return w;if(typeof C=="string")return C;if(b)return yae(u,f,{dateFormat:y,locale:c,rangeSeparator:m});if(x){if(S){var M=function(A){return vn(A,{dateFormat:y,locale:c})};return S(v??[],M)}return wae(v??[],{dateFormat:y,locale:c})}return vn(h,{dateFormat:y,locale:c})},r.resetHiddenStatus=function(){r.setState(it(it({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(it(it({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var a,l;(l=(a=r.input)===null||a===void 0?void 0:a.focus)===null||l===void 0||l.call(a,{preventScroll:!0})},r.setBlur=function(){var a,l;(l=(a=r.input)===null||a===void 0?void 0:a.blur)===null||l===void 0||l.call(a),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(a,l){l===void 0&&(l=!1),r.setState({open:a,preSelection:a&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Pb},function(){a||r.setState(function(c){return{focused:l?c.focused:!1}},function(){!l&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return ti(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(a){var l,c,u=r.state.wasHidden,f=u?r.state.open:!0;u&&r.resetHiddenStatus(),r.state.preventFocus||((c=(l=r.props).onFocus)===null||c===void 0||c.call(l,a),f&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(it(it({},r.state),{inputValue:null}))},r.handleBlur=function(a){var l,c;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((c=(l=r.props).onBlur)===null||c===void 0||c.call(l,a));var u=r.state.inputValue;if(typeof u=="string"&&u.length>0){var f=/[a-zA-Z0-9]/.test(u);!f&&r.props.selected&&r.setSelected(null,void 0,!0)}r.resetInputValue(),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(a){var l,c;(c=(l=r.props).onClickOutside)===null||c===void 0||c.call(l,a),!r.props.inline&&!a.defaultPrevented&&r.setOpen(!1),r.props.withPortal&&a.preventDefault()},r.handleChange=function(){for(var a,l,c,u,f,m,h,v,x=[],b=0;b<arguments.length;b++)x[b]=arguments[b];var S=x[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,x),!S||typeof S.isDefaultPrevented!="function"||S.isDefaultPrevented()))){r.setState({inputValue:S?.target instanceof HTMLInputElement?S.target.value:null,lastPreSelectChange:uie});var w=r.props,y=w.selectsRange,C=w.startDate,M=w.endDate,A=(a=r.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,_=(l=r.props.strictParsing)!==null&&l!==void 0?l:t.defaultProps.strictParsing,E=S?.target instanceof HTMLInputElement?S.target.value:"";if(y){var T=r.props.rangeSeparator,P=T.trim(),O=E.split(A.includes(P)?T:P,2).map(function(G){return G.trim()}),L=O[0],R=O[1],B=Cl(L??"",A,r.props.locale,_),D=B?Cl(R??"",A,r.props.locale,_):null,K=((c=Fl(C))===null||c===void 0?void 0:c.getTime())!==B?.getTime(),X=((u=Fl(M))===null||u===void 0?void 0:u.getTime())!==D?.getTime();if(!K&&!X||B&&na(B,r.props)||D&&na(D,r.props))return;B&&r.setState({preSelection:B}),(m=(f=r.props).onChange)===null||m===void 0||m.call(f,[B,D],S)}else{var Z=Cl(E,A,r.props.locale,_,(h=r.props.selected)!==null&&h!==void 0?h:void 0);if(Z||!E)r.setSelected(Z,S,!0);else if(!r.props.inline){var $=bae(E,(v=r.state.preSelection)!==null&&v!==void 0?v:void 0);$&&(!r.props.minDate||!Xa($,r.props.minDate))&&(!r.props.maxDate||!Fi($,r.props.maxDate))&&r.setState({preSelection:$})}}}},r.handleSelect=function(a,l,c){var u;if(!r.props.readOnly){var f=r.props,m=f.selectsRange,h=f.startDate,v=f.endDate,x=f.locale,b=f.swapRange,S=(u=r.props.dateFormat)!==null&&u!==void 0?u:t.defaultProps.dateFormat,w=!m||h&&!v&&(b||!Eb(a,h));if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&w&&r.sendFocusBackToInput(),r.props.onChangeRaw){var y=vn(a,{dateFormat:S,locale:x});r.props.onChangeRaw(l,{date:a,formattedDate:y})}r.setSelected(a,l,!1,c),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(a):w&&r.setOpen(!1)}},r.setSelected=function(a,l,c,u){var f,m,h=r.props.timeZone,v=a;if(v&&h&&(v=_i(v,h)),r.props.showYearPicker){if(v!==null&&dp(ct(v),r.props))return}else if(r.props.showMonthYearPicker){if(v!==null&&nI(v,r.props))return}else if(v!==null&&na(v,r.props))return;var x=r.props,b=x.onChange,S=x.selectsRange,w=x.startDate,y=x.endDate,C=x.selectsMultiple,M=x.selectedDates,A=x.minTime,_=x.swapRange;if(!Bl(r.props.selected,v)||r.props.allowSameDay||S||C)if(v!==null&&(r.props.selected&&(!c||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(v=Oi(v,{hour:Qr(r.props.selected),minute:Xr(r.props.selected),second:$s(r.props.selected)})),!c&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&A&&(v=Oi(v,{hour:A.getHours(),minute:A.getMinutes(),second:A.getSeconds()})),r.props.inline||r.setState({preSelection:v}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:u})),S){var E=b,T=!w&&!y,P=w&&!y,O=!w&&!!y,L=w&&y;T?E?.([v,null],l):P?v===null?E?.([null,null],l):Eb(v,w)?E?.(_?[v,w]:[v,null],l):E?.([w,v],l):O&&(v&&Eb(v,y)?E?.([v,y],l):E?.([v,null],l)),L&&E?.([v,null],l)}else if(C){var R=b;if(v!==null)if(!M?.length)R?.([v],l);else{var B=M.some(function(K){return mt(K,v)});if(B){var D=M.filter(function(K){return!mt(K,v)});R?.(D,l)}else R?.(Za(Za([],M,!0),[v],!1),l)}}else b?.(v,l);c||((m=(f=r.props).onSelect)===null||m===void 0||m.call(f,v,l),r.setState({inputValue:null}))},r.setPreSelection=function(a){if(!r.props.readOnly){var l=ti(r.props.minDate),c=ti(r.props.maxDate),u=!0;if(a){var f=Xu(a);if(l&&c)u=Ol(a,r.props.minDate,r.props.maxDate);else if(l){var m=Xu(r.props.minDate);u=Fi(a,m)||Bl(f,m)}else if(c){var h=HE(r.props.maxDate);u=Xa(a,h)||Bl(f,h)}}u&&r.setState({preSelection:a})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(a,l){var c,u;if(!r.props.selectsMultiple){var f=r.props,m=f.selectsRange,h=f.startDate,v=f.endDate,x=f.onChange,b=f.timeZone;if(m){var S=x;if(l==="start"){if(h){var w=Oi(h,{hour:Qr(a),minute:Xr(a)});r.setState({preSelection:w}),b&&(w=_i(w,b)),S?.([w,v?b?_i(v,b):v:null],void 0)}}else if(l==="end"){if(v){var y=Oi(v,{hour:Qr(a),minute:Xr(a)});r.setState({preSelection:y}),b&&(y=_i(y,b)),S?.([h?b?_i(h,b):h:null,y],void 0)}}else{var C=h&&!v;if(C){var w=Oi(h,{hour:Qr(a),minute:Xr(a)});r.setState({preSelection:w}),b&&(w=_i(w,b)),S?.([w,null],void 0)}else if(h&&v){var y=Oi(v,{hour:Qr(a),minute:Xr(a)});r.setState({preSelection:y}),b&&(y=_i(y,b)),S?.([b?_i(h,b):h,y],void 0)}else{var M=Oi(r.getPreSelection(),{hour:Qr(a),minute:Xr(a)});r.setState({preSelection:M})}}}else{var A=r.props.selected?r.props.selected:r.getPreSelection(),M=r.props.selected?a:Oi(A,{hour:Qr(a),minute:Xr(a)});r.setState({preSelection:M}),M&&b&&(M=_i(M,b)),(u=(c=r.props).onChange)===null||u===void 0||u.call(c,M)}r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var a,l;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(l=(a=r.props).onInputClick)===null||l===void 0||l.call(a)},r.handleTimeOnlyArrowKey=function(a){var l,c,u,f,m=Fl(r.props.selected)||r.state.preSelection||gt(),h=(l=r.props.timeIntervals)!==null&&l!==void 0?l:30,v=(c=r.props.dateFormat)!==null&&c!==void 0?c:t.defaultProps.dateFormat,x=Array.isArray(v)?v[0]:v,b=Xu(m),S=Qr(m)*60+Xr(m),w=1440-h,y;if(a===Me.ArrowUp){var C=Math.max(0,S-h);y=yd(b,C)}else{var C=Math.min(w,S+h);y=yd(b,C)}var M=Qt(y,x||t.defaultProps.dateFormat,r.props.locale);if(r.setState({preSelection:y,inputValue:M}),!(r.props.selectsRange||r.props.selectsMultiple)){var A=r.props.selected?r.props.selected:r.getPreSelection(),_=r.props.selected?y:Oi(A,{hour:Qr(y),minute:Xr(y)});(f=(u=r.props).onChange)===null||f===void 0||f.call(u,_),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){r.scrollToTimeOption(y)})}},r.handleTimeOnlyEnterKey=function(a){var l,c,u,f,m=a.target,h=m.value,v=(l=r.props.dateFormat)!==null&&l!==void 0?l:t.defaultProps.dateFormat,x=r.props.timeFormat||"p",b=r.state.preSelection||Fl(r.props.selected)||gt(),S=Cl(h,v,r.props.locale,(c=r.props.strictParsing)!==null&&c!==void 0?c:!1,b),w=b;if(S&&xn(S))w=S;else{var y=((u=r.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(y instanceof HTMLElement){var C=(f=y.textContent)===null||f===void 0?void 0:f.trim();if(C){var M=Cl(C,x,r.props.locale,!1,b);M&&xn(M)&&(w=M)}}}r.handleTimeChange(w),r.setOpen(!1),r.sendFocusBackToInput()},r.scrollToTimeOption=function(a){var l,c;if(!((l=r.calendar)===null||l===void 0)&&l.containerRef.current){for(var u=r.calendar.containerRef.current,f=Array.from(u.querySelectorAll(".react-datepicker__time-list-item")),m=null,h=1/0,v=r.props.timeFormat||"p",x=0,b=f;x<b.length;x++){var S=b[x],w=(c=S.textContent)===null||c===void 0?void 0:c.trim();if(w){var y=Cl(w,v,r.props.locale,!1,a);if(y&&xn(y)){if(sI(y,a)){m=S;break}var C=Math.abs(y.getTime()-a.getTime());C<h&&(h=C,m=S)}}}m&&(f.forEach(function(M){M.setAttribute("tabindex","-1")}),m.setAttribute("tabindex","0"),m.scrollIntoView({behavior:"smooth",block:"center"}))}},r.onInputKeyDown=function(a){var l,c,u,f,m,h;(c=(l=r.props).onKeyDown)===null||c===void 0||c.call(l,a);var v=a.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(v===Me.ArrowDown||v===Me.ArrowUp||v===Me.Enter)&&((u=r.onInputClick)===null||u===void 0||u.call(r));return}if(r.state.open&&r.props.showTimeSelectOnly){if(v===Me.ArrowDown||v===Me.ArrowUp){a.preventDefault(),r.handleTimeOnlyArrowKey(v);return}if(v===Me.Enter){a.preventDefault(),r.handleTimeOnlyEnterKey(a);return}}if(r.state.open){if(v===Me.ArrowDown||v===Me.ArrowUp){a.preventDefault();var x=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',b=((f=r.calendar)===null||f===void 0?void 0:f.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(x);b instanceof HTMLElement&&b.focus({preventScroll:!0});return}var S=gt(r.state.preSelection);v===Me.Enter?(a.preventDefault(),a.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===Pb?(r.handleSelect(S,a),!r.props.shouldCloseOnSelect&&r.setPreSelection(S)):r.setOpen(!1)):v===Me.Escape?(a.preventDefault(),a.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):v===Me.Tab&&r.setOpen(!1),r.inputOk()||(h=(m=r.props).onInputError)===null||h===void 0||h.call(m,{code:1,msg:Tb})}},r.onPortalKeyDown=function(a){var l=a.key;l===Me.Escape&&(a.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(a){var l,c,u,f,m,h,v=r.props,x=v.minDate,b=v.maxDate,S=v.disabledKeyboardNavigation,w=v.showWeekPicker,y=v.shouldCloseOnSelect,C=v.locale,M=v.calendarStartDay,A=v.adjustDateOnChange,_=v.inline;if((c=(l=r.props).onKeyDown)===null||c===void 0||c.call(l,a),!S){var E=a.key,T=a.shiftKey,P=gt(r.state.preSelection),O=function(B,D){var K=D;switch(B){case Me.ArrowRight:K=w?mh(D,1):ja(D,1);break;case Me.ArrowLeft:K=w?ME(D):Ire(D);break;case Me.ArrowUp:K=ME(D);break;case Me.ArrowDown:K=mh(D,1);break;case Me.PageUp:K=T?Ws(D,1):Ul(D,1);break;case Me.PageDown:K=T?Na(D,1):Aa(D,1);break;case Me.Home:K=qs(D,C,M);break;case Me.End:K=Sae(D);break}return K},L=function(B,D){for(var K=40,X=B,Z=!1,$=0,G=O(B,D);!Z;){if($>=K){G=D;break}x&&G<x&&(X=Me.ArrowRight,G=na(x,r.props)?O(X,G):x),b&&G>b&&(X=Me.ArrowLeft,G=na(b,r.props)?O(X,G):b),na(G,r.props)?((X===Me.PageUp||X===Me.Home)&&(X=Me.ArrowRight),(X===Me.PageDown||X===Me.End)&&(X=Me.ArrowLeft),G=O(X,G)):Z=!0,$++}return G};if(E===Me.Enter){a.preventDefault(),r.handleSelect(P,a),!y&&r.setPreSelection(P);return}else if(E===Me.Escape){a.preventDefault(),r.setOpen(!1),r.inputOk()||(f=(u=r.props).onInputError)===null||f===void 0||f.call(u,{code:1,msg:Tb});return}var R=null;switch(E){case Me.ArrowLeft:case Me.ArrowRight:case Me.ArrowUp:case Me.ArrowDown:case Me.PageUp:case Me.PageDown:case Me.Home:case Me.End:R=L(E,P);break}if(!R){(h=(m=r.props).onInputError)===null||h===void 0||h.call(m,{code:1,msg:Tb});return}a.preventDefault(),r.setState({lastPreSelectChange:Pb}),A&&r.setSelected(R),r.setPreSelection(R),_&&r.setState({shouldFocusDayInline:!0})}},r.onPopperKeyDown=function(a){var l=a.key;l===Me.Escape&&(a.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),r.sendFocusBackToInput();var l=r.props,c=l.selectsRange,u=l.onChange;u?.(c?[null,null]:null,a),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(a){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(a)&&r.setOpen(!1)},r.handleMonthSelectedInChange=function(a){r.setState({monthSelectedIn:a})},r.renderCalendar=function(){var a,l;return!r.props.inline&&!r.isCalendarOpen()?null:oe.createElement(rie,it({showMonthYearDropdown:void 0,ref:function(c){r.calendar=c}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(a=r.props.dateFormatCalendar)!==null&&a!==void 0?a:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:Rae(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(l=r.props.dropdownMode)!==null&&l!==void 0?l:t.defaultProps.dropdownMode,onMonthSelectedInChange:r.handleMonthSelectedInChange}),r.props.children)},r.renderAriaLiveRegion=function(){var a,l=r.props.locale,c=(a=r.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,u=r.props.showTimeInput||r.props.showTimeSelect,f=u?"PPPPp":"PPPP",m;return r.props.selectsRange?m="Selected start date: ".concat(vn(r.props.startDate,{dateFormat:f,locale:l}),". ").concat(r.props.endDate?"End date: "+vn(r.props.endDate,{dateFormat:f,locale:l}):""):r.props.showTimeSelectOnly?m="Selected time: ".concat(vn(r.props.selected,{dateFormat:c,locale:l})):r.props.showYearPicker?m="Selected year: ".concat(vn(r.props.selected,{dateFormat:"yyyy",locale:l})):r.props.showMonthYearPicker?m="Selected month: ".concat(vn(r.props.selected,{dateFormat:"MMMM yyyy",locale:l})):r.props.showQuarterYearPicker?m="Selected quarter: ".concat(vn(r.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):m="Selected date: ".concat(vn(r.props.selected,{dateFormat:f,locale:l})),oe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},m)},r.renderDateInput=function(){var a,l,c,u,f,m,h,v=st(r.props.className,(a={},a[r.props.outsideClickIgnoreClass||t.defaultProps.outsideClickIgnoreClass]=r.state.open,a)),x=r.props.customInput||oe.createElement("input",{type:"text"}),b=r.props.customInputRef||"ref",S={},w=(c=r.props["aria-describedby"])!==null&&c!==void 0?c:r.props.ariaDescribedBy,y=(u=r.props["aria-invalid"])!==null&&u!==void 0?u:r.props.ariaInvalid,C=(f=r.props["aria-label"])!==null&&f!==void 0?f:r.props.ariaLabel,M=(m=r.props["aria-labelledby"])!==null&&m!==void 0?m:r.props.ariaLabelledBy,A=(h=r.props["aria-required"])!==null&&h!==void 0?h:r.props.ariaRequired;return w!=null&&(S["aria-describedby"]=w),y!=null&&(S["aria-invalid"]=y),C!=null&&(S["aria-label"]=C),M!=null&&(S["aria-labelledby"]=M),A!=null&&(S["aria-required"]=A),j.cloneElement(x,it((l={},l[b]=function(_){r.input=_},l.value=r.getInputValue(),l.onBlur=r.handleBlur,l.onChange=r.handleChange,l.onClick=r.onInputClick,l.onFocus=r.handleFocus,l.onKeyDown=r.onInputKeyDown,l.id=r.props.id,l.name=r.props.name,l.form=r.props.form,l.autoFocus=r.props.autoFocus,l.placeholder=r.props.placeholderText,l.disabled=r.props.disabled,l.autoComplete=r.props.autoComplete,l.className=st(x.props.className,v),l.title=r.props.title,l.readOnly=r.props.readOnly,l.required=r.props.required,l.tabIndex=r.props.tabIndex,l),S))},r.renderClearButton=function(){var a=r.props,l=a.isClearable,c=a.disabled,u=a.selected,f=a.startDate,m=a.endDate,h=a.clearButtonTitle,v=a.clearButtonClassName,x=v===void 0?"":v,b=a.ariaLabelClose,S=b===void 0?"Close":b,w=a.selectedDates,y=a.readOnly;return l&&!y&&(u!=null||f!=null||m!=null||w?.length)?oe.createElement("button",{type:"button",className:st("react-datepicker__close-icon",x,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":S,onClick:r.onClearClick,title:h,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:oI,readOnly:!1,rangeSeparator:tI,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Qd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,r){var a,l,c,u;this.props.selectsRange&&a_(n.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):a_(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&r.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:XE(this.props.highlightDates)}),!r.focused&&!Bl(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((l=(a=this.props).onCalendarOpen)===null||l===void 0||l.call(a)),r.open===!0&&this.state.open===!1&&((u=(c=this.props).onCalendarClose)===null||u===void 0||u.call(c)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,a=n.icon,l=n.calendarIconClassname,c=n.calendarIconClassName,u=n.toggleCalendarOnIconClick,f=this.state.open;return l&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),oe.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&oe.createElement(nie,it({icon:a,className:st(c,!c&&l,f&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?oe.createElement(uI,{enableTabLoop:this.props.enableTabLoop},oe.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=oe.createElement(cI,it({portalId:this.props.portalId},this.props),r)),oe.createElement(oe.Fragment,null,this.renderInputContainer(),r)}return oe.createElement(oie,it({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},t})(j.Component),uie="input",Pb="navigate";function hr({open:e,onClose:t,title:n,children:r,wide:a}){const l=j.useRef(null);return j.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),j.useEffect(()=>{function c(u){u.key==="Escape"&&t()}return e&&window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[e,t]),e?s.jsxs("div",{ref:l,className:"fixed inset-0 z-50 flex items-start justify-center pt-[5vh] sm:pt-[10vh] px-4",onClick:c=>{c.target===l.current&&t()},children:[s.jsx("div",{className:"fixed inset-0 bg-black/60"}),s.jsxs("div",{className:`relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full ${a?"max-w-2xl":"max-w-lg"} max-h-[80vh] flex flex-col animate-fade-in`,children:[s.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-[var(--border-light)] shrink-0",children:[s.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:n}),s.jsx("button",{onClick:t,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:s.jsx(Us,{size:16})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:r})]})]}):null}function le({label:e,required:t,error:n,children:r}){return s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:[e,t&&s.jsx("span",{className:"text-rose-500 ml-0.5",children:"*"})]}),r,n&&s.jsx("p",{className:"text-xs text-rose-500 mt-1",children:n})]})}function ke({value:e,onChange:t,placeholder:n,type:r="text",sensitive:a,...l}){const{masked:c}=ci();return s.jsx("input",{type:r,value:e,onChange:u=>t(u.target.value),placeholder:n,className:`w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors ${a&&c?"sensitive-blur":""}`,...l})}function ni({value:e,onChange:t,...n}){const r=e?new Date(e.length>10?e:e+"T00:00:00"):null;function a(l){if(!l){t("");return}const c=l.getFullYear(),u=String(l.getMonth()+1).padStart(2,"0"),f=String(l.getDate()).padStart(2,"0");t(`${c}-${u}-${f}`)}return s.jsxs("div",{className:"relative cf-datepicker",children:[s.jsx(cie,{selected:r,onChange:a,dateFormat:"dd MMM yyyy",maxDate:new Date,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",placeholderText:"Select date",className:"w-full px-3 py-2 pr-9 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",...n}),s.jsx(EF,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function We({value:e,onChange:t,options:n,placeholder:r}){return s.jsxs("select",{value:e,onChange:a=>t(a.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",children:[r&&s.jsx("option",{value:"",children:r}),n.map(a=>s.jsx("option",{value:a.value,children:a.label},a.value))]})}function yc({value:e,onChange:t,placeholder:n,rows:r=3}){return s.jsx("textarea",{value:e,onChange:a=>t(a.target.value),placeholder:n,rows:r,className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors resize-none"})}function die({checked:e,onChange:t,label:n}){return s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:e,onChange:r=>t(r.target.checked),className:"w-4 h-4 rounded border-[var(--border-input)] bg-[var(--bg-input)] text-violet-500 focus:ring-violet-500"}),s.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:n})]})}function an({onCancel:e,onSubmit:t,submitLabel:n="Save",loading:r}){return s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 mt-4 border-t border-[var(--border-light)]",children:[s.jsx("button",{onClick:e,disabled:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),s.jsxs("button",{onClick:t,disabled:r,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[r&&s.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),r?"Saving...":n]})]})}function ns({onClick:e,label:t="Deactivate"}){return s.jsx("button",{onClick:e,className:"px-4 py-2 text-xs font-semibold text-rose-400 hover:text-rose-300 hover:bg-rose-500/10 rounded-lg transition-colors",children:t})}const i_=[{key:"sip",label:"Adjust SIP",icon:q8,color:"text-blue-400",dimColor:"text-blue-400/60 hover:text-blue-400",activeBg:"bg-blue-500/20 border border-blue-500/40"},{key:"lumpsum",label:"Lumpsum",icon:h8,color:"text-emerald-400",dimColor:"text-emerald-400/60 hover:text-emerald-400",activeBg:"bg-emerald-500/20 border border-emerald-500/40"},{key:"buysell",label:"Buy / Sell",icon:SF,color:"text-amber-400",dimColor:"text-amber-400/60 hover:text-amber-400",activeBg:"bg-amber-500/20 border border-amber-500/40"}];function Tl(e){return e>=1e5?`${(e/1e5).toFixed(1)}L`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${Math.round(e)}`}function vj({exitOnly:e}){return s.jsx("div",{className:"py-4 text-center space-y-1",children:e?s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Only exit candidates here  use ",s.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab"]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No target allocations set"}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Use ",s.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund first"]})]})})}function fie({portfolio:e,holdings:t,totalValue:n}){const r=e.sipTarget||0,a=(e.rebalanceThreshold||.05)*100,l=t.some(x=>x.targetAllocationPct>0),c=t.some(x=>x.targetAllocationPct===0&&x.units>0);if(!l)return s.jsx(vj,{exitOnly:c});if(r<=0)return s.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"No SIP target set for this portfolio"});const u=t.filter(x=>x.targetAllocationPct>0).map(x=>{const b=n>0?x.currentValue/n*100:0,S=Math.abs(b-x.targetAllocationPct),w=S>a,C=x.targetAllocationPct/100*n-x.currentValue,M=x.targetAllocationPct/100*r;return{...x,currentPct:b,drift:S,drifted:w,gap:C,normalSIP:M}}),f=u.filter(x=>x.drifted&&x.gap>0);u.filter(x=>x.drifted&&x.gap<=0);const m=f.reduce((x,b)=>x+b.gap,0),h=u.map(x=>({...x,suggestedSIP:x.drifted&&x.gap>0&&m>0?x.gap/m*r:x.drifted&&x.gap<=0?0:x.normalSIP}));return u.some(x=>x.drifted)?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Funds drifted >",a.toFixed(0),"%: overweight  0, underweight  extra SIP. Others keep normal SIP."]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[s.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Normal SIP"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Rebalance SIP"})]})}),s.jsx("tbody",{children:h.map(x=>{const b=x.drifted&&x.gap<=0,S=x.drifted&&x.gap>0,w=!x.drifted;return s.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${w?"opacity-50":b?"opacity-60":""}`,children:[s.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:x.fundName}),s.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[s.jsxs("span",{className:b?"text-amber-400":S?"text-blue-400":"text-[var(--text-dim)]",children:[x.currentPct.toFixed(1),"%"]}),s.jsxs("span",{className:"text-[var(--text-dim)]",children:[" / ",x.targetAllocationPct.toFixed(1),"%"]})]}),s.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:Tl(x.normalSIP)}),s.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:b?s.jsx("span",{className:"text-amber-400/70",children:"0"}):S?s.jsx("span",{className:"text-blue-400",children:Tl(x.suggestedSIP)}):s.jsx("span",{className:"text-[var(--text-dim)]",children:Tl(x.suggestedSIP)})})]},x.holdingId)})}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t border-[var(--border)]",children:[s.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),s.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:Tl(r)}),s.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-blue-400 tabular-nums",children:Tl(r)})]})})]})})]}):s.jsxs("p",{className:"text-xs text-[var(--text-dim)] py-2",children:["SIPs are balanced (within ",a.toFixed(0),"% threshold)"]})}function mie({portfolio:e,holdings:t,totalValue:n}){const[r,a]=j.useState("");(e.rebalanceThreshold||.05)*100;const l=t.some(w=>w.targetAllocationPct>0),c=t.some(w=>w.targetAllocationPct===0&&w.units>0);if(!l)return s.jsx(vj,{exitOnly:c});const u=t.filter(w=>w.targetAllocationPct>0).map(w=>{const y=n>0?w.currentValue/n*100:0;return{...w,currentPct:y}}),f=j.useMemo(()=>{if(n<=0||u.length===0)return 0;const w=u.filter(A=>{const _=A.targetAllocationPct/100*n;return A.currentValue<_});if(w.length===0)return 0;const y=w.reduce((A,_)=>A+_.targetAllocationPct,0);if(y>=100)return 0;const C=w.reduce((A,_)=>A+_.currentValue,0),M=(y/100*n-C)/(1-y/100);return M>0?Math.ceil(M/100)*100:0},[u,n]),m=Number(r)||e.lumpsumTarget||f,h=j.useMemo(()=>{const w=m>0?n+m:n,y=u.map(M=>{const A=M.targetAllocationPct/100*w,_=m>0?Math.max(0,A-M.currentValue):0,E=w>0?(M.currentValue+_)/w*100:0,T=M.currentValue>A+1;return{...M,invest:_,newPct:E,isOverweight:T}}),C=y.reduce((M,A)=>M+A.invest,0);if(m>0&&C>0&&Math.abs(C-m)>1){const M=m/C;return y.map(A=>({...A,invest:A.invest>0?A.invest*M:0,newPct:w>0?(A.currentValue+(A.invest>0?A.invest*M:0))/w*100:0}))}return y},[u,m,n]),v=h.reduce((w,y)=>w+y.invest,0),x=h.some(w=>w.isOverweight),b=Number(r),S=b>0&&f>0&&b<f;return s.jsxs("div",{className:"space-y-2",children:[f>0&&s.jsx("div",{className:"flex items-center gap-2 px-2.5 py-1.5 rounded-md bg-emerald-500/10 border border-emerald-500/20",children:s.jsxs("p",{className:"text-xs text-emerald-400",children:[s.jsx("span",{className:"font-bold",children:Q(f)})," needed to bring all underweight funds to target %"]})}),s.jsxs("div",{className:"flex items-end gap-3",children:[s.jsx("div",{className:"flex-1 max-w-[200px]",children:s.jsx(le,{label:"Invest Amount ()",children:s.jsx(ke,{type:"number",value:r,onChange:a,placeholder:f>0?`${Q(f)}`:"Enter amount..."})})}),!b&&!e.lumpsumTarget&&f>0&&s.jsx("p",{className:"text-xs text-emerald-400/70 pb-2.5",children:"Using suggested"}),!b&&e.lumpsumTarget>=100&&s.jsx("p",{className:"text-xs text-[var(--text-dim)] pb-2.5",children:"Using lumpsum target"})]}),S&&s.jsxs("p",{className:"text-xs text-amber-400/80 px-1",children:["Below minimum  distributes proportionally but won't fully rebalance. Need ",Q(f)," for exact target %."]}),h.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[s.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Invest"})]})}),s.jsx("tbody",{children:h.map(w=>s.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${w.invest===0?"opacity-50":""}`,children:[s.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:w.fundName}),s.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[s.jsxs("span",{className:w.isOverweight?"text-amber-400":w.invest>0?"text-blue-400":"text-[var(--text-dim)]",children:[w.currentPct.toFixed(1),"%"]}),s.jsxs("span",{className:"text-[var(--text-dim)]",children:["  ",w.newPct.toFixed(1),"%"]})]}),s.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:w.isOverweight?s.jsx("span",{className:"text-amber-400/70 text-xs",children:"Overweight"}):w.invest>0?s.jsx("span",{className:"text-emerald-400",children:Tl(w.invest)}):s.jsx("span",{className:"text-[var(--text-dim)] text-xs",children:"Balanced"})})]},w.holdingId))}),v>0&&s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t border-[var(--border)]",children:[s.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),s.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-emerald-400 tabular-nums",children:Q(v)})]})})]})}):s.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2 text-center",children:"All funds balanced"}),x&&s.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Overweight funds can't be fixed by buying. Use ",s.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab to sell overweight and buy underweight."]})]})}function pie({portfolio:e,holdings:t,totalValue:n}){const r=(e.rebalanceThreshold||.05)*100,a=t.some(u=>u.targetAllocationPct>0),l=t.some(u=>u.targetAllocationPct===0&&u.units>0);if(!a&&!l)return s.jsx(vj,{});const c=t.filter(u=>u.targetAllocationPct>0||u.units>0).map(u=>{const f=n>0?u.currentValue/n*100:0,m=u.targetAllocationPct===0&&u.units>0,h=m||Math.abs(f-u.targetAllocationPct)>r,v=u.targetAllocationPct/100*n,x=h?v-u.currentValue:0;return{...u,currentPct:f,amount:x,isExit:m}}).filter(u=>Math.abs(u.amount)>=500);return c.length===0?s.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"Portfolio is balanced"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[s.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Drift"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Action"})]})}),s.jsx("tbody",{children:c.map(u=>{const f=u.amount>0;return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[s.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:u.fundName}),s.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:u.isExit?s.jsxs("span",{className:"text-[var(--accent-rose)]",children:[u.currentPct.toFixed(1),"%  Exit"]}):`${u.currentPct.toFixed(1)}%  ${u.targetAllocationPct.toFixed(1)}%`}),s.jsx("td",{className:"py-2 px-2 text-right",children:s.jsxs("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${f?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[f?"Buy":u.isExit?"Exit":"Sell"," ",Tl(Math.abs(u.amount))]})})]},u.schemeCode||u.fundCode)})})]})})}function dI(){const{mfHoldings:e,mfPortfolios:t}=pt(),[n,r]=j.useState("buysell"),a=j.useMemo(()=>t.filter(f=>f.status!=="Inactive").map(f=>{const m=e.filter(w=>w.portfolioId===f.portfolioId&&w.units>0),h=m.reduce((w,y)=>w+y.currentValue,0),v=(f.rebalanceThreshold||.05)*100,x=m.filter(w=>{if(w.targetAllocationPct<=0)return!1;const y=h>0?w.currentValue/h*100:0;return Math.abs(y-w.targetAllocationPct)>v}).length,b=m.filter(w=>w.targetAllocationPct===0&&w.units>0&&w.currentValue>=500).length,S=m.some(w=>w.targetAllocationPct>0);return{...f,holdings:m,totalValue:h,driftedCount:x,exitCount:b,hasTargets:S}}).filter(f=>f.driftedCount>0||f.exitCount>0),[t,e]);if(a.length===0){const f=e.some(m=>m.targetAllocationPct>0);return s.jsx("div",{className:"py-8 text-center",children:f?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"All portfolios are balanced"}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"No funds exceed their rebalance threshold"})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No target allocations set"}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:["Use ",s.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund, then rebalance will show drift"]})]})})}const c=a.some(f=>(f.sipTarget||0)>=500)?i_:i_.filter(f=>f.key!=="sip"),u=c.some(f=>f.key===n)?n:c[0]?.key||"buysell";return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex bg-[var(--bg-inset)] rounded-lg p-0.5",children:c.map(({key:f,label:m,icon:h,color:v,dimColor:x,activeBg:b})=>s.jsxs("button",{onClick:()=>r(f),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-semibold transition-colors ${u===f?`${b} ${v} shadow-sm`:x}`,children:[s.jsx(h,{size:13})," ",m]},f))}),a.map((f,m)=>s.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-violet-500/50 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-3 py-2.5 bg-[var(--bg-inset)]",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center",children:m+1}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:f.portfolioName}),s.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:f.ownerName}),f.driftedCount>0&&s.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[f.driftedCount," drifted"]}),f.exitCount>0&&s.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-rose-500/15 text-[var(--accent-rose)]",children:[f.exitCount," exit"]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-muted)]",children:[s.jsx("span",{className:"font-semibold text-[var(--text-secondary)]",children:Q(f.totalValue)}),s.jsxs("span",{children:["Threshold: ",((f.rebalanceThreshold||.05)*100).toFixed(0),"%"]}),f.sipTarget>=100&&s.jsxs("span",{children:["SIP: ",Q(f.sipTarget),"/mo"]})]})]}),s.jsxs("div",{className:"px-3 py-2",children:[u==="sip"&&s.jsx(fie,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue}),u==="lumpsum"&&s.jsx(mie,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue}),u==="buysell"&&s.jsx(pie,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue})]})]},f.portfolioId))]})}const hie="/logo-new.png",s_={mf:{label:"Mutual Funds",color:"bg-violet-500",order:1,route:"/investments/mutual-funds"},stocks:{label:"Stocks",color:"bg-blue-500",order:2,route:"/investments/stocks"},PPF:{label:"PPF",color:"bg-cyan-600",order:3,route:"/investments/other"},EPF:{label:"EPF",color:"bg-cyan-500",order:4,route:"/investments/other"},NPS:{label:"NPS",color:"bg-sky-500",order:5,route:"/investments/other"},FD:{label:"Fixed Deposit",color:"bg-teal-500",order:6,route:"/investments/other"},RD:{label:"RD",color:"bg-teal-400",order:7,route:"/investments/other"},SSY:{label:"SSY",color:"bg-pink-400",order:8,route:"/investments/other"},NSC:{label:"NSC",color:"bg-indigo-400",order:9,route:"/investments/other"},Bonds:{label:"Bonds",color:"bg-cyan-400",order:10,route:"/investments/other"},Debt:{label:"Debt",color:"bg-cyan-500",order:11,route:"/investments/other"},Gold:{label:"Gold",color:"bg-amber-500",order:12,route:"/investments/other"},Silver:{label:"Silver",color:"bg-slate-400",order:13,route:"/investments/other"},Property:{label:"Real Estate",color:"bg-orange-500",order:14,route:"/investments/other"},Alternative:{label:"Alternative",color:"bg-violet-400",order:15,route:"/investments/other"},Equity:{label:"Equity",color:"bg-emerald-500",order:16,route:"/investments/other"},Other:{label:"Other",color:"bg-gray-500",order:17,route:"/investments/other"}},zm=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],l_=["bg-violet-500","bg-rose-500","bg-blue-500","bg-amber-500","bg-emerald-500"],vie=[{label:"Family Members",path:"/family",match:"/family"},{label:"Bank Accounts",path:"/accounts/bank",match:"/accounts/bank"},{label:"Investment Accounts",path:"/accounts/investment",match:"/accounts/investment"},{label:"Insurance",path:"/insurance",match:"/insurance"},{label:"Mutual Funds",path:"/investments/mutual-funds",match:"/investments/mutual-funds"},{label:"Stocks",path:"/investments/stocks",match:"/investments/stocks"},{label:"Other Investments",path:"/investments/other",match:"/investments/other"},{label:"Liabilities",path:"/liabilities",match:"/liabilities"},{label:"Goals",path:"/goals",match:"/goals"}],o_={mf:"#8b5cf6",stocks:"#3b82f6",PPF:"#0891b2",EPF:"#06b6d4",NPS:"#0ea5e9",FD:"#14b8a6",RD:"#2dd4bf",SSY:"#f472b6",NSC:"#818cf8",Bonds:"#22d3ee",Debt:"#0ea5e9",Gold:"#fbbf24",Silver:"#94a3b8",Property:"#f97316",Alternative:"#a78bfa",Equity:"#10b981",Other:"#6b7280"},xie={buyopp:"Buying Opportunities",rebalance:"Rebalance Alerts"};function gie({onMenuClick:e}){const{theme:t,toggle:n}=IO(),{selectedMember:r,setSelectedMember:a,familyMembers:l}=Yr(),{mfPortfolios:c,mfHoldings:u,stockPortfolios:f,stockHoldings:m,otherInvList:h,liabilityList:v,refreshData:x,isRefreshing:b}=pt(),{user:S,signOut:w}=to(),{masked:y,toggleMask:C,mv:M}=ci(),A=Qs(),_=ca(),{criticalAlerts:E,upcomingReminders:T,investmentSignals:P}=a5(),[O,L]=j.useState(!1),[R,B]=j.useState(!1),[D,K]=j.useState(null),[X,Z]=j.useState(!1),$=j.useRef(null),G=j.useRef(null),z=E.length+T.length,{buyOppCount:te,buyCount:ve,strongBuyCount:F,rebalanceCount:ae}=P;j.useEffect(()=>{function me(ge){$.current&&!$.current.contains(ge.target)&&L(!1),G.current&&!G.current.contains(ge.target)&&B(!1)}return(O||R)&&document.addEventListener("mousedown",me),()=>document.removeEventListener("mousedown",me)},[O,R]);const he=l.findIndex(me=>me.memberId===r),ye=he>=0?l[he]:null,je=j.useMemo(()=>{const me=(Pe,Ye)=>r==="all"?Pe:Pe.filter(at=>at[Ye]===r),ge={},W=(Pe,Ye,at,$t)=>{ge[Pe]||(ge[Pe]={items:[],invested:0}),ge[Pe].items.push({label:Ye,value:at}),ge[Pe].invested+=$t};me((c||[]).filter(Pe=>Pe.status==="Active"),"ownerId").forEach(Pe=>{const Ye=(u||[]).filter(Ut=>Ut.portfolioId===Pe.portfolioId&&Ut.units>0),at=Ye.reduce((Ut,St)=>Ut+St.currentValue,0),$t=Ye.reduce((Ut,St)=>Ut+St.investment,0);at>0&&W("mf",Pe.portfolioName?.replace(/^PFL-/,"")||Pe.portfolioName,at,$t)}),me((f||[]).filter(Pe=>Pe.status==="Active"),"ownerId").forEach(Pe=>{const Ye=(m||[]).filter(Ut=>Ut.portfolioId===Pe.portfolioId),at=Ye.reduce((Ut,St)=>Ut+St.currentValue,0),$t=Ye.reduce((Ut,St)=>Ut+St.totalInvestment,0);at>0&&W("stocks",Pe.portfolioName,at,$t)}),me((h||[]).filter(Pe=>Pe.status==="Active"),"familyMemberId").forEach(Pe=>{const Ye=Pe.investmentType||Pe.investmentCategory||"Other";W(Ye,Pe.investmentName||Ye,Pe.currentValue,Pe.investedAmount||0)});const Ze=Object.entries(ge).map(([Pe,{items:Ye,invested:at}])=>{const $t=s_[Pe]||s_.Other,Ut=Ye.reduce((St,Hn)=>St+Hn.value,0);return{key:Pe,label:$t.label,color:$t.color,order:$t.order,route:$t.route,total:Ut,invested:at,items:Ye.sort((St,Hn)=>Hn.value-St.value)}}).filter(Pe=>Pe.total>0).sort((Pe,Ye)=>Pe.order-Ye.order),Ue=me((v||[]).filter(Pe=>Pe.status==="Active"),"familyMemberId"),jt=Ue.map(Pe=>({label:Pe.liabilityName||Pe.liabilityType||"Loan",value:Pe.outstandingBalance})),vt=Ue.reduce((Pe,Ye)=>Pe+Ye.outstandingBalance,0),ut=Ze.reduce((Pe,Ye)=>Pe+Ye.total,0),Nt=Ze.reduce((Pe,Ye)=>Pe+Ye.invested,0);return{netWorth:ut-vt,totalInv:ut,totalInvested:Nt,sections:Ze,totalLiab:vt,liabilities:jt}},[r,c,u,f,m,h,v]);function Ie(){L(!1),B(!1)}return s.jsxs("header",{className:"sticky top-0 z-30 shrink-0",children:[s.jsx("style",{children:`
        @keyframes glow-emerald {
          0%, 100% { box-shadow: 0 0 6px rgba(16,185,129,0.3), 0 0 12px rgba(16,185,129,0.15); }
          50% { box-shadow: 0 0 12px rgba(16,185,129,0.5), 0 0 24px rgba(16,185,129,0.25); }
        }
        @keyframes glow-violet {
          0%, 100% { box-shadow: 0 0 6px rgba(139,92,246,0.3), 0 0 12px rgba(139,92,246,0.15); }
          50% { box-shadow: 0 0 12px rgba(139,92,246,0.5), 0 0 24px rgba(139,92,246,0.25); }
        }
        .glow-emerald { animation: glow-emerald 2s ease-in-out infinite; }
        .glow-violet { animation: glow-violet 2s ease-in-out infinite; }
      `}),s.jsx("div",{className:"relative z-10 bg-[var(--bg-header)]/95 backdrop-blur-sm border-b border-[var(--border)]",children:s.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:e,className:"lg:hidden p-2 -ml-1.5 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:s.jsx(E8,{size:20})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:hie,alt:"CF",className:"h-9 sm:h-12 w-auto"}),s.jsxs("span",{className:"hidden sm:flex items-baseline gap-1 text-lg tracking-tight",style:{fontFamily:"'Poppins', sans-serif"},children:[s.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:"Capital"}),s.jsx("span",{className:"font-extrabold text-emerald-400",children:"Friends"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[te>0&&s.jsxs("button",{onClick:()=>{K(D==="buyopp"?null:"buyopp"),Ie()},className:`hidden sm:flex glow-emerald items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${D==="buyopp"?"bg-emerald-500/30 text-emerald-300 ring-1 ring-emerald-400/50":"bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25"}`,children:[s.jsx(Md,{size:13,strokeWidth:2.5}),s.jsx("span",{children:F>0?"Buy Opportunities":"Buying Opportunities"}),F>0&&s.jsxs("span",{className:"text-[11px] bg-emerald-500/30 px-1.5 py-0.5 rounded-full",children:[F," Strong"]}),ve>0&&s.jsxs("span",{className:"text-[11px] bg-emerald-500/20 px-1.5 py-0.5 rounded-full",children:[ve," Buy"]})]}),ae>0&&s.jsxs("button",{onClick:()=>{K(D==="rebalance"?null:"rebalance"),Ie()},className:`hidden sm:flex glow-violet items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${D==="rebalance"?"bg-violet-500/30 text-violet-300 ring-1 ring-violet-400/50":"bg-violet-500/15 text-violet-400 hover:bg-violet-500/25"}`,children:[s.jsx(Vl,{size:13,strokeWidth:2.5}),s.jsx("span",{children:"Rebalance Alerts"}),s.jsx("span",{className:"text-[11px] bg-violet-500/30 px-1.5 py-0.5 rounded-full",children:ae})]}),s.jsx("button",{onClick:()=>x(!0),disabled:b,className:`p-1.5 sm:p-2 rounded-lg transition-colors ${b?"text-blue-400 cursor-not-allowed":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:"Sync data from Google Sheets",children:s.jsx(Vl,{size:16,className:b?"animate-spin":""})}),s.jsx("button",{onClick:C,className:`hidden sm:block p-2 rounded-lg transition-colors ${y?"text-amber-400 bg-amber-500/10":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:y?"Data masked  click to reveal":"Mask sensitive data",children:y?s.jsx(ed,{size:18}):s.jsx(gp,{size:18})}),s.jsx("button",{onClick:n,className:"hidden sm:block p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",title:`Switch to ${t==="dark"?"light":"dark"} mode`,children:t==="dark"?s.jsx(wp,{size:18}):s.jsx(Xb,{size:18})}),z>0&&s.jsxs("div",{className:"relative",ref:G,children:[s.jsxs("button",{onClick:()=>{B(!R),L(!1)},className:"relative p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx(Dh,{size:18}),s.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-rose-500 rounded-full px-1",children:z})]}),R&&s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[s.jsx("div",{className:"px-3 py-2 border-b border-[var(--border-light)]",children:s.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Notifications"})}),s.jsxs("div",{className:"max-h-[300px] overflow-y-auto py-1",children:[E.map((me,ge)=>{const W={critical:"bg-rose-500",warning:"bg-amber-500",info:"bg-blue-500"}[me.type],Ne={critical:"bg-rose-500/15 text-rose-400",warning:"bg-amber-500/15 text-amber-400",info:"bg-blue-500/15 text-blue-400"}[me.type];return s.jsxs("button",{onClick:()=>{B(!1),A(me.navigateTo)},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${W}`}),s.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 text-left truncate",children:me.title}),s.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${Ne}`,children:me.badge})]},`c-${ge}`)}),E.length>0&&T.length>0&&s.jsx("div",{className:"mx-3 my-1 border-t border-[var(--border-light)]"}),T.map(me=>{const ge=me.days<=7?"bg-rose-500/15 text-rose-400":me.days<=15?"bg-amber-500/15 text-amber-400":"bg-slate-500/15 text-[var(--text-muted)]";return s.jsxs("button",{onClick:()=>{B(!1),A("/reminders")},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[s.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-amber-500"}),s.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 truncate",children:me.title}),s.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${ge}`,children:me.days===0?"Today":me.days<=30?`${me.days}d`:me.dateStr})]},`r-${me.reminderId}`)})]})]})]}),s.jsxs("div",{className:"relative",ref:$,children:[s.jsxs("button",{onClick:()=>{L(!O),B(!1)},className:"flex items-center gap-1.5 pl-1 pr-2 py-1 rounded-full hover:bg-[var(--bg-hover)] transition-colors",children:[ye?s.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-br ${zm[he%zm.length]} flex items-center justify-center text-white text-xs font-bold shadow-sm`,children:ye.memberName.charAt(0)}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm",children:s.jsx(sc,{size:14})}),s.jsx(Ga,{size:14,className:`text-[var(--text-muted)] transition-transform ${O?"rotate-180":""}`})]}),O&&s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[s.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)]",children:s.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Viewing as"})}),s.jsxs("div",{className:"py-1.5",children:[s.jsxs("button",{onClick:()=>{a("all"),L(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${r==="all"?"bg-violet-500/10":"hover:bg-[var(--bg-hover)]"}`,children:[s.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm shrink-0",children:s.jsx(sc,{size:15})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`text-sm font-semibold truncate ${r==="all"?"text-violet-400":"text-[var(--text-primary)]"}`,children:"Everyone"}),s.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:"All family members"})]}),r==="all"&&s.jsx(kC,{size:16,className:"text-violet-400 shrink-0"})]}),l.length>0&&s.jsx("div",{className:"mx-4 my-1 border-t border-[var(--border-light)]"}),l.map((me,ge)=>{const W=r===me.memberId;return s.jsxs("button",{onClick:()=>{a(me.memberId),L(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${W?`${l_[ge%l_.length]}/10`:"hover:bg-[var(--bg-hover)]"}`,children:[s.jsx("div",{className:`w-9 h-9 rounded-full bg-gradient-to-br ${zm[ge%zm.length]} flex items-center justify-center text-white text-sm font-bold shadow-sm shrink-0`,children:me.memberName.charAt(0)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold truncate text-[var(--text-primary)]",children:M(me.memberName,"name")}),s.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:me.relationship||"Family member"})]}),W&&s.jsx(kC,{size:16,className:"text-emerald-400 shrink-0"})]},me.memberId)})]}),s.jsxs("div",{className:"sm:hidden border-t border-[var(--border-light)] py-1.5",children:[s.jsxs("button",{onClick:()=>{C(),L(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[y?s.jsx(ed,{size:16}):s.jsx(gp,{size:16}),s.jsx("span",{className:"text-sm font-medium",children:y?"Unmask Data":"Mask Data"})]}),s.jsxs("button",{onClick:()=>{n(),L(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[t==="dark"?s.jsx(wp,{size:16}):s.jsx(Xb,{size:16}),s.jsx("span",{className:"text-sm font-medium",children:t==="dark"?"Light Mode":"Dark Mode"})]})]}),s.jsxs("div",{className:"border-t border-[var(--border-light)] py-1.5",children:[s.jsxs(Zo,{to:"/settings",onClick:()=>L(!1),className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx(v1,{size:16}),s.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),S&&s.jsx("div",{className:"px-4 py-1.5",children:s.jsx("p",{className:"text-[11px] text-[var(--text-muted)] truncate",children:M(S.email,"email")})}),s.jsxs("button",{onClick:()=>{w(),L(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-rose-400 hover:bg-rose-500/10 transition-colors",children:[s.jsx(QO,{size:16}),s.jsx("span",{className:"text-sm font-medium",children:"Sign out"})]})]})]})]})]})]})}),s.jsx(Mee,{}),s.jsx("nav",{className:"hidden lg:block bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)]",children:s.jsxs("div",{className:"flex items-center px-3 sm:px-4 py-1.5",children:[s.jsx("div",{className:"flex items-center gap-1 overflow-x-auto no-scrollbar flex-1 min-w-0",children:vie.map(me=>{const ge=_.pathname.startsWith(me.match);return s.jsx(Zo,{to:me.path,className:`whitespace-nowrap px-3 py-1.5 rounded-lg text-[13px] font-medium transition-colors ${ge?"bg-violet-500/15 text-violet-400":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:me.label},me.path)})}),s.jsxs("button",{onClick:()=>{Z(!0),Ie()},className:`shrink-0 ml-3 flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-colors ${je.netWorth>=0?"bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15":"bg-rose-500/10 border border-rose-500/20 hover:bg-rose-500/15"}`,children:[s.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${je.netWorth>=0?"text-emerald-400/70":"text-rose-400/70"}`,children:"Net Worth"}),s.jsx("span",{className:`text-sm font-extrabold tabular-nums ${je.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:Q(je.netWorth)}),s.jsx(xp,{size:12,className:je.netWorth>=0?"text-emerald-400/60":"text-rose-400/60"})]})]})}),s.jsx("div",{className:"lg:hidden bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)] px-3 py-1.5 flex justify-end",children:s.jsxs("button",{onClick:()=>{Z(!0),Ie()},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-colors ${je.netWorth>=0?"bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15":"bg-rose-500/10 border border-rose-500/20 hover:bg-rose-500/15"}`,children:[s.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${je.netWorth>=0?"text-emerald-400/70":"text-rose-400/70"}`,children:"Net Worth"}),s.jsx("span",{className:`text-sm font-extrabold tabular-nums ${je.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:Q(je.netWorth)}),s.jsx(xp,{size:12,className:je.netWorth>=0?"text-emerald-400/60":"text-rose-400/60"})]})}),X&&(()=>{const me=je.sections.map(ge=>({name:ge.label,value:ge.total,fill:o_[ge.key]||"#6b7280",pct:je.totalInv>0?ge.total/je.totalInv*100:0,color:ge.color,route:ge.route}));return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-3",onClick:()=>Z(!1),children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),s.jsxs("div",{className:"relative w-full md:w-auto md:min-w-[720px] md:max-w-4xl max-h-[85vh] overflow-y-auto bg-[var(--bg-card)] rounded-2xl border border-[var(--border)] shadow-2xl shadow-black/40",onClick:ge=>ge.stopPropagation(),children:[s.jsx("button",{onClick:()=>Z(!1),className:"absolute top-3 right-3 z-20 p-1.5 rounded-full bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)]",children:s.jsx(Us,{size:16,className:"text-[var(--text-muted)]"})}),s.jsxs("div",{className:"flex flex-col md:flex-row",children:[s.jsx("div",{className:"flex-shrink-0 md:w-[340px] pt-6 pb-4 md:pb-6 px-6 flex flex-col items-center justify-center md:border-r md:border-[var(--border-light)]",children:s.jsxs("div",{className:"relative w-[200px] h-[200px] md:w-[280px] md:h-[280px]",children:[s.jsx(AT,{width:"100%",height:"100%",children:s.jsxs(N3,{children:[s.jsx(Jw,{data:me,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:"55%",outerRadius:"85%",paddingAngle:3,stroke:"none",children:me.map((ge,W)=>s.jsx(Gd,{fill:ge.fill},W))}),s.jsx(H4,{content:({active:ge,payload:W})=>{if(!ge||!W?.[0])return null;const Ne=W[0].payload;return s.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-2.5 py-1.5 shadow-lg text-xs",children:[s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:Ne.name}),s.jsx("span",{className:"text-[var(--text-muted)] ml-1.5",children:Q(Ne.value)})]})}})]})}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Net Worth"}),s.jsx("p",{className:"text-lg md:text-xl font-bold text-[var(--text-primary)] tabular-nums",children:Q(je.netWorth)})]})]})}),s.jsxs("div",{className:"flex-1 min-w-0 px-3 md:px-5 pt-4 md:pt-6 pb-5 flex flex-col justify-center",children:[s.jsxs("div",{className:"space-y-2",children:[je.sections.map(ge=>{const W=je.totalInv>0?ge.total/je.totalInv*100:0,Ne=o_[ge.key]||"#6b7280";return s.jsxs(Zo,{to:ge.route,onClick:()=>Z(!1),className:"flex items-center gap-2.5 py-2.5 px-3 rounded-xl transition-colors group",style:{backgroundColor:`${Ne}12`},children:[s.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:Ne}}),s.jsx("span",{className:"text-[13px] font-medium text-[var(--text-primary)] flex-1 min-w-0 truncate",children:ge.label}),s.jsx("span",{className:"text-[13px] font-bold text-[var(--text-primary)] tabular-nums shrink-0",children:Q(ge.total)}),s.jsxs("span",{className:"text-[10px] font-medium tabular-nums shrink-0 px-1.5 py-0.5 rounded-full",style:{backgroundColor:`${Ne}20`,color:Ne},children:[W.toFixed(0),"%"]})]},ge.key)}),je.totalLiab>0&&s.jsxs(Zo,{to:"/liabilities",onClick:()=>Z(!1),className:"flex items-center gap-2.5 py-2.5 px-3 rounded-xl transition-colors group bg-rose-500/[0.07]",children:[s.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-rose-500"}),s.jsxs("span",{className:"text-[13px] font-medium text-[var(--text-primary)] flex-1 min-w-0",children:[je.liabilities.length," ",je.liabilities.length===1?"Loan":"Loans"]}),s.jsxs("span",{className:"text-[13px] font-bold text-rose-400 tabular-nums shrink-0",children:["",Q(je.totalLiab)]})]})]}),s.jsxs("div",{className:"mt-4 pt-3 mx-1 border-t border-[var(--border-light)] flex items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[10px] uppercase tracking-wider text-[var(--text-dim)]",children:"Net Worth"}),s.jsx("span",{className:`text-lg font-bold tabular-nums ${je.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:Q(je.netWorth)})]}),s.jsxs("div",{className:"flex flex-col items-end text-[11px] text-[var(--text-dim)] tabular-nums",children:[s.jsxs("span",{children:[Q(je.totalInv)," invested"]}),je.totalLiab>0&&s.jsxs("span",{className:"text-rose-400/70",children:["",Q(je.totalLiab)," owed"]})]})]})]})]})]})]})})(),D&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-16 sm:pt-24 px-3",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>K(null)}),s.jsxs("div",{className:"relative w-full max-w-3xl max-h-[75vh] rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-2xl shadow-black/40 overflow-hidden flex flex-col animate-in fade-in slide-in-from-top-4 duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--border-light)] shrink-0",children:[s.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:xie[D]}),s.jsx("button",{onClick:()=>K(null),className:"p-1.5 rounded-lg hover:bg-[var(--bg-hover)] text-[var(--text-dim)] transition-colors",children:s.jsx(Us,{size:16})})]}),s.jsxs("div",{className:"overflow-y-auto p-4",children:[D==="buyopp"&&s.jsx(C3,{}),D==="rebalance"&&s.jsx(dI,{})]})]})]})]})}const bie=[{label:"Invest",icon:rd,path:"/investments/mutual-funds"},{label:"Accounts",icon:Eh,path:"/accounts/bank"},{label:"Goals",icon:Ad,path:"/goals"},{label:"Reminders",icon:Dh,path:"/reminders"},{label:"More",icon:a8,path:"/more"}];function yie(){return s.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-[var(--bg-sidebar)] border-t border-[var(--border)] safe-bottom",children:s.jsx("div",{className:"flex items-center justify-around h-[56px]",children:bie.map(({label:e,icon:t,path:n})=>s.jsx(d1,{to:n,className:({isActive:r})=>`relative flex flex-col items-center justify-center gap-0.5 w-full h-full text-xs font-medium transition-colors ${r?"text-[var(--sidebar-active-text)]":"text-[var(--text-dim)]"}`,children:({isActive:r})=>s.jsxs(s.Fragment,{children:[r&&s.jsx("span",{className:"absolute top-0 w-10 h-[2.5px] bg-[var(--sidebar-active-text)] rounded-b-full"}),s.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-xl transition-colors ${r?"bg-[var(--sidebar-active-bg)]":""}`,children:s.jsx(t,{size:19,strokeWidth:r?2.2:1.5})}),s.jsx("span",{className:r?"font-semibold":"",children:e})]})},n))})})}const wie="/logo-new.png";function Sh(){return s.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:s.jsxs("div",{className:"flex flex-col items-center gap-6",children:[s.jsx("img",{src:wie,alt:"Capital Friends",className:"h-16 w-auto animate-pulse"}),s.jsx("div",{className:"w-40 h-1 rounded-full bg-[var(--border)] overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-violet-500 to-cyan-500 animate-loading-bar"})})]})})}function jie(){const[e,t]=j.useState(!1),{loading:n,error:r}=pt();return n?s.jsx(Sh,{}):r?s.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:s.jsxs("div",{className:"flex flex-col items-center gap-4 text-center px-6",children:[s.jsx("img",{src:"/logo-new.png",alt:"Capital Friends",className:"h-16 w-auto opacity-50"}),s.jsx("p",{className:"text-rose-400 text-sm font-medium",children:r}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-violet-600 hover:bg-violet-500 text-white transition-colors",children:"Retry"})]})}):s.jsxs("div",{className:"flex flex-col h-dvh bg-[var(--bg-base)] overflow-hidden",children:[s.jsx(gie,{onMenuClick:()=>t(!0)}),s.jsx(wB,{open:e,onClose:()=>t(!1)}),s.jsx("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-20 lg:pb-0",children:s.jsx("div",{className:"px-3 sm:px-4 py-3 sm:py-4 w-full max-w-7xl mx-auto",children:s.jsx(Z_,{})})}),s.jsx(yie,{})]})}function Nie(){const{isAuthenticated:e,loading:t}=to(),{healthCheckCompleted:n,loading:r}=pt(),a=ca();return t&&!e?s.jsx(Sh,{phase:"auth"}):!e&&!t?s.jsx(pp,{to:"/",replace:!0}):r?s.jsx(Sh,{phase:"data"}):n===!1&&a.pathname!=="/health-check"?s.jsx(pp,{to:"/health-check",replace:!0}):s.jsx(Z_,{})}const Ib="/logo-new.png";function fI(){const{isAuthenticated:e,loading:t,error:n,signIn:r}=to(),a=Qs(),[l,c]=j.useState(0),[u,f]=j.useState(!1),m=j.useRef(null),h=j.useCallback(()=>{m.current&&clearInterval(m.current),m.current=setInterval(()=>{f(S=>(S||c(w=>(w+1)%4),S))},5e3)},[]);j.useEffect(()=>(h(),()=>{m.current&&clearInterval(m.current)}),[h]);function v(S){c(S),h()}if(j.useEffect(()=>{e&&a("/dashboard",{replace:!0})},[e,a]),t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#080d1a]",children:s.jsx("img",{src:Ib,alt:"",className:"h-16 w-auto animate-pulse"})});const x=[{id:"ath",label:"ATH Tracking",icon:s.jsx(ic,{size:18}),color:"emerald",tagline:"Spot Buying Opportunities",desc:"See how far each mutual fund is from its All-Time High NAV. When a quality fund dips 10-20% below ATH, it's your signal to invest more  via SIP increase or lumpsum.",mock:s.jsx(Cie,{})},{id:"rebalance",label:"Rebalancing",icon:s.jsx(Vl,{size:18}),color:"violet",tagline:"Know Exactly What to Buy or Sell",desc:"Set target allocation for each fund. When your portfolio drifts, Capital Friends tells you exactly how much to adjust  via SIP changes, lumpsum top-ups, or buy/sell actions.",mock:s.jsx(Aie,{})},{id:"goals",label:"Goal Linking",icon:s.jsx(Ad,{size:18}),color:"cyan",tagline:"Link Portfolios to Goals",desc:"Create goals like retirement, child education, or emergency fund. Link MF portfolios with allocation percentages. Goal progress updates automatically as NAVs change daily.",mock:s.jsx(Mie,{})},{id:"dashboard",label:"Family View",icon:s.jsx(sc,{size:18}),color:"amber",tagline:"Everyone's Wealth, One Dashboard",desc:"Switch between family members in one click. See combined or individual net worth, investments, insurance, loans  everything your family owns, in one place.",mock:s.jsx(Sie,{})}],b=x[l];return s.jsxs("div",{className:"min-h-screen bg-[#080d1a] text-slate-200",children:[s.jsx("header",{className:"sticky top-0 z-50 bg-[#0a0f1f]/95 backdrop-blur-sm border-b border-white/[0.06]",children:s.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:Ib,alt:"CF",className:"h-12 w-auto"}),s.jsxs("span",{className:"flex items-baseline gap-1 text-lg tracking-tight",style:{fontFamily:"'Poppins', sans-serif"},children:[s.jsx("span",{className:"font-bold text-white",children:"Capital"}),s.jsx("span",{className:"font-extrabold text-emerald-400",children:"Friends"})]})]}),s.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-600 to-cyan-600 text-white text-sm font-semibold hover:from-violet-500 hover:to-cyan-500 transition-all cursor-pointer",children:[s.jsx(u_,{s:14})," Sign In"]})]})}),s.jsxs("section",{className:"relative px-5 sm:px-8 lg:px-16 pt-10 sm:pt-14 pb-8 sm:pb-10 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[400px] bg-violet-600/8 rounded-full blur-[120px] pointer-events-none"}),s.jsx("div",{className:"absolute top-20 right-1/4 w-[400px] h-[300px] bg-cyan-600/6 rounded-full blur-[100px] pointer-events-none"}),s.jsxs("div",{className:"relative text-center",children:[s.jsx("span",{className:"inline-block text-xs font-bold uppercase tracking-[0.2em] text-violet-400 bg-violet-500/10 border border-violet-500/20 rounded-full px-4 py-1.5 mb-5",children:"Always Free  100% Private  Your Google Sheet"}),s.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold leading-[1.1] tracking-tight text-white",children:["One dashboard for your family's"," ",s.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-cyan-400 bg-clip-text text-transparent",children:"entire wealth"})]}),s.jsxs("p",{className:"mt-5 text-base sm:text-lg text-slate-400 leading-relaxed max-w-2xl mx-auto",children:["Mutual funds, stocks, FDs, gold, insurance, loans  track everything for every family member. Manual entry means ",s.jsx("strong",{className:"text-white",children:"no bank credentials, no privacy risk"}),"."]}),n&&s.jsx("p",{className:"mt-5 text-sm text-rose-400",children:n})]})]}),s.jsxs("section",{className:"bg-gradient-to-b from-[#0d0a1a] to-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-10 sm:py-14",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3 flex-wrap justify-center",children:[s.jsx(Hs,{size:28,className:"text-amber-400 shrink-0"}),s.jsxs("span",{children:["What happens if something happens to ",s.jsx("span",{className:"text-amber-400",children:"you"}),"?"]})]}),s.jsxs("p",{className:"mt-4 text-lg text-slate-400 leading-relaxed",children:["Your family should know about every investment, every policy, every loan. Not someday. ",s.jsx("strong",{className:"text-white",children:"Right now."})]})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsx(c_,{icon:s.jsx(gp,{size:20}),color:"rose",title:"Without Capital Friends",items:["Scattered investments across 10+ platforms","Family has no idea what you own or owe","Insurance policies lost in email threads","Months of confusion, missed renewals, lost money"],bad:!0}),s.jsx(c_,{icon:s.jsx(td,{size:20}),color:"emerald",title:"With Capital Friends",items:["One sheet  every investment, policy, and loan","Family receives email reports with full portfolio details","Reminders for SIPs, renewals, EMI payments","Complete clarity, instantly  when it matters most"]})]}),s.jsxs("p",{className:"text-center mt-8 text-base text-slate-500",children:["Built for ",s.jsx("strong",{className:"text-white",children:"you"})," to manage your wealth  and for your ",s.jsx("strong",{className:"text-white",children:"family"})," to access it when they need to."]})]}),s.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"How it Works"}),s.jsx("p",{className:"text-base text-slate-500",children:"Set up in 2 minutes  no bank credentials, no downloads"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-4",children:[s.jsx(Fm,{num:1,icon:s.jsx(C8,{size:24}),color:"violet",title:"Sign In with Google",desc:"Go to capitalfriends.in and sign in with your Google account. That's all  no registration form, no passwords."}),s.jsx(Fm,{num:2,icon:s.jsx(o8,{size:24}),color:"emerald",title:"App Creates Your Sheet",desc:"The app creates a private Google Sheet in your own Google Drive. This sheet stores all your financial data. Only you can see it  not even the developer."}),s.jsx(Fm,{num:3,icon:s.jsx(HO,{size:24}),color:"cyan",title:"Financial Health Check",desc:"Answer 7 simple yes/no questions about your financial health. Get your score and personalized recommendations instantly."}),s.jsx(Fm,{num:4,icon:s.jsx(ic,{size:24}),color:"amber",title:"Start Tracking",desc:"Add family members, portfolios, goals, insurance, and loans. The app connects to AMFI for live mutual fund prices automatically."})]}),s.jsxs("p",{className:"text-center mt-10 text-sm text-slate-600",children:["Your sheet is named ",s.jsx("strong",{className:"text-slate-400",children:"Capital Friends - Your Name"})," and lives in your Google Drive. The web app is just a beautiful dashboard to view and manage it."]})]}),s.jsxs("section",{id:"features",className:"bg-[#0b1022] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",onMouseEnter:()=>f(!0),onMouseLeave:()=>{f(!1),h()},children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Features That Set Us Apart"}),s.jsx("p",{className:"text-base text-slate-500",children:"Things you won't find on other portfolio trackers"})]}),s.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 mb-10 flex-wrap",children:x.map((S,w)=>{const y=w===l,C={emerald:"border-emerald-500",violet:"border-violet-500",cyan:"border-cyan-500",amber:"border-amber-500"},M={emerald:"text-emerald-400",violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400"};return s.jsxs("button",{onClick:()=>v(w),className:`relative flex items-center gap-2 px-5 py-2.5 rounded-full border text-sm font-semibold transition-all cursor-pointer ${y?`${C[S.color]} bg-white/[0.05] ${M[S.color]}`:"border-white/[0.08] text-slate-500 hover:border-white/[0.15] hover:text-slate-300"}`,children:[s.jsx("span",{className:"shrink-0",children:S.icon}),S.label,y&&s.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-0.5 bg-white/[0.06] rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full bg-current",style:{animation:"featureProgress 5s linear",animationPlayState:u?"paused":"running"}})})]},S.id)})}),s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-8 lg:gap-12",children:[s.jsxs("div",{className:"lg:flex-1 min-h-[280px]",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:b.tagline}),s.jsx("p",{className:"mt-3 text-base text-slate-400 leading-relaxed",children:b.desc}),b.id==="ath"&&s.jsxs("div",{className:"mt-6 space-y-5",children:[s.jsx(Kr,{c:"emerald",t:"ATH tracking only for funds in your portfolios"}),s.jsx(Kr,{c:"emerald",t:"Color-coded signals: watch, consider, buy, strong buy"}),s.jsx(Kr,{c:"emerald",t:"Increase SIP or invest lumpsum when funds dip"}),s.jsx(Kr,{c:"emerald",t:"Daily NAV updates from AMFI data"})]}),b.id==="rebalance"&&s.jsxs("div",{className:"mt-6 space-y-5",children:[s.jsx(Kr,{c:"violet",t:"Adjust monthly SIP to rebalance gradually"}),s.jsx(Kr,{c:"violet",t:"Lumpsum top-up for quick rebalance"}),s.jsx(Kr,{c:"violet",t:"Buy/Sell amounts to match target"}),s.jsx(Kr,{c:"violet",t:"Configurable threshold per portfolio"})]}),b.id==="goals"&&s.jsxs("div",{className:"mt-6 space-y-5",children:[s.jsx(Kr,{c:"cyan",t:"Link multiple MF portfolios to each goal"}),s.jsx(Kr,{c:"cyan",t:"Built-in SIP + lumpsum calculator with inflation"}),s.jsx(Kr,{c:"cyan",t:"Auto-status: On Track, Needs Attention, Achieved"}),s.jsx(Kr,{c:"cyan",t:"Withdrawal planning for retirement goals"})]}),b.id==="dashboard"&&s.jsxs("div",{className:"mt-6 space-y-5",children:[s.jsx(Kr,{c:"amber",t:"One-click switch between family members"}),s.jsx(Kr,{c:"amber",t:"Combined net worth across everyone"}),s.jsx(Kr,{c:"amber",t:"MF, stocks, FD, gold, PPF, NPS, insurance"}),s.jsx(Kr,{c:"amber",t:"Email reports sent to family automatically"})]})]}),s.jsx("div",{className:"lg:flex-1 min-w-0 min-h-[380px] flex flex-col justify-center",children:b.mock})]}),s.jsx("style",{children:`
          @keyframes featureProgress {
            from { width: 0% }
            to { width: 100% }
          }
        `})]}),s.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Everything You Need"}),s.jsx("p",{className:"text-base text-slate-500",children:"One dashboard for your entire financial life"})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[s.jsx(Ps,{icon:s.jsx(Ju,{size:20}),c:"rose",t:"Stock Portfolios",d:"Buy/sell tracking, average cost, P&L with live NSE prices"}),s.jsx(Ps,{icon:s.jsx(R8,{size:20}),c:"orange",t:"FD, Gold, PPF, NPS",d:"Track any investment type  all counted in net worth"}),s.jsx(Ps,{icon:s.jsx(td,{size:20}),c:"teal",t:"Insurance Tracker",d:"Life, health, term policies with premiums & renewal dates"}),s.jsx(Ps,{icon:s.jsx(Eh,{size:20}),c:"red",t:"Liabilities",d:"Loans & EMIs. Net worth = total assets minus debts"}),s.jsx(Ps,{icon:s.jsx(Dh,{size:20}),c:"yellow",t:"Smart Reminders",d:"SIP dates, renewals, EMI payments, maturity alerts"}),s.jsx(Ps,{icon:s.jsx(sc,{size:20}),c:"pink",t:"Family Sharing",d:"Invite family with Google accounts  shared dashboard"}),s.jsx(Ps,{icon:s.jsx(Vl,{size:20}),c:"blue",t:"Daily Auto-Refresh",d:"NAVs and stock prices update automatically every day"}),s.jsx(Ps,{icon:s.jsx(V0,{size:20}),c:"emerald",t:"Complete Privacy",d:"No servers, no database, no tracking  your Sheet only"})]})]}),s.jsxs("section",{className:"border-y border-white/[0.06]",children:[s.jsxs("div",{className:"bg-[#0b1022] px-5 sm:px-8 lg:px-16 py-10 sm:py-14 text-center",children:[s.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3",children:[s.jsx(V0,{size:28,className:"text-emerald-400 shrink-0"}),"Your Data Never Leaves Google"]}),s.jsxs("p",{className:"mt-3 text-base sm:text-lg text-slate-400 leading-relaxed",children:["No backend server. No database. No tracking. The web app is a static site. Your spreadsheet lives in ",s.jsx("strong",{className:"text-white",children:"your Google Drive"}),". We literally cannot access your financial data."]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row",children:[s.jsx(zb,{icon:s.jsx(td,{size:20}),t:"Manual Entry Only",d:"No bank linking, no credentials shared. You type your data  no one else has access.",bg:"bg-[#0d1326]",c:"emerald"}),s.jsx(zb,{icon:s.jsx(V0,{size:20}),t:"Your Google Sheet",d:"A private spreadsheet in your Drive. Share only with family you choose.",bg:"bg-[#0f1530]",c:"violet"}),s.jsx(zb,{icon:s.jsx(bp,{size:20}),t:"Always Free",d:"No premium tier, no hidden fees, no ads. Free today, free forever.",bg:"bg-[#111838]",c:"amber"})]})]}),s.jsxs("section",{className:"bg-gradient-to-t from-[#080d1a] to-[#0d1128] border-t border-white/[0.06] px-5 sm:px-8 lg:px-16 py-16 text-center",children:[s.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white",children:"Start managing your family's wealth today"}),s.jsx("p",{className:"mt-3 text-base text-slate-500",children:"Always free. No credit card. No bank linking. Just your Google account."}),s.jsxs("button",{onClick:r,className:"mt-8 inline-flex items-center gap-2.5 px-8 py-3.5 bg-gradient-to-r from-violet-600 to-cyan-600 text-white font-bold text-base rounded-xl hover:from-violet-500 hover:to-cyan-500 shadow-lg shadow-violet-900/30 transition-all hover:scale-[1.02] cursor-pointer",children:[s.jsx(u_,{s:20})," Sign in with Google  It's Free"]}),n&&s.jsx("p",{className:"mt-3 text-sm text-rose-400",children:n})]}),s.jsxs("footer",{className:"border-t border-white/[0.04] px-5 sm:px-8 lg:px-16 py-5 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1.5 opacity-30",children:[s.jsx("img",{src:Ib,alt:"",className:"h-5 w-auto"}),s.jsxs("span",{className:"text-xs font-bold text-white",style:{fontFamily:"'Poppins', sans-serif"},children:["Capital",s.jsx("span",{class:"text-emerald-400",children:"Friends"})]})]}),s.jsx("p",{className:"text-xs text-slate-600",children:"Your data. Your Google Drive. Your control."})]})]})}function c_({icon:e,title:t,items:n,bad:r}){const a=r?"border-rose-500/15":"border-emerald-500/15",l=r?"bg-rose-500/[0.04]":"bg-emerald-500/[0.04]",c=r?"bg-rose-500/10 text-rose-400":"bg-emerald-500/10 text-emerald-400",u=r?"text-rose-400":"text-emerald-400";return s.jsxs("div",{className:`rounded-2xl border ${a} ${l} p-6`,children:[s.jsxs("h3",{className:`text-lg font-bold ${u} mb-4 flex items-center gap-2.5`,children:[s.jsx("span",{className:`flex items-center justify-center w-8 h-8 rounded-lg ${c} shrink-0`,children:e}),t]}),s.jsx("ul",{className:"space-y-3",children:n.map((f,m)=>s.jsxs("li",{className:"flex items-start gap-2.5",children:[r?s.jsx("span",{className:"text-rose-500/60 mt-0.5 shrink-0",children:""}):s.jsx(Ac,{size:16,className:"text-emerald-500 mt-0.5 shrink-0"}),s.jsx("span",{className:"text-sm text-slate-300 leading-relaxed",children:f})]},m))})]})}function Sie(){return s.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f]",children:[s.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Dashboard"}),s.jsx("div",{className:"flex gap-1.5",children:["Everyone","Jagadeesh","Priya","Arjun"].map((e,t)=>s.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ${t===0?"bg-violet-500/20 text-violet-300":"text-slate-600"}`,children:e},e))})]}),s.jsxs("div",{className:"grid grid-cols-3 divide-x divide-white/[0.04]",children:[s.jsx(Rb,{l:"Net Worth",v:"45.2L",lc:"text-violet-400",vc:"text-white"}),s.jsx(Rb,{l:"Invested",v:"38.7L",lc:"text-slate-500",vc:"text-slate-300"}),s.jsx(Rb,{l:"P&L",v:"+6.5L",lc:"text-slate-500",vc:"text-emerald-400",extra:"+16.8%"})]}),s.jsxs("div",{className:"border-t border-white/[0.04]",children:[s.jsx(Lb,{n:"Axis Bluechip Fund",alloc:"30% / 25%",cur:"6.2L",pl:"+24.0%",ath:"5.2%",athC:"text-[#e67e00]",up:!0}),s.jsx(Lb,{n:"Parag Parikh Flexi Cap",alloc:"35% / 40%",cur:"4.8L",pl:"+37.1%",ath:"At ATH",athC:"text-emerald-500",up:!0}),s.jsx(Lb,{n:"SBI Small Cap Fund",alloc:"20% / 15%",cur:"1.8L",pl:"-10.0%",ath:"18.3%",athC:"text-[#d84315]",last:!0})]})]})}function Cie(){const e=[{n:"HDFC Mid-Cap Opportunities",nav:"142.35",ath:"168.50",pct:"15.5%",color:"text-[#d84315]",signal:"Good Buy Signal",sigC:"text-[#d84315] bg-[#d84315]/15"},{n:"Axis Small Cap Fund",nav:"38.22",ath:"52.10",pct:"26.6%",color:"text-[#c62828]",signal:"Strong Buy",sigC:"text-[#c62828] bg-[#c62828]/15 font-bold"},{n:"Kotak Emerging Equity",nav:"89.10",ath:"92.40",pct:"3.6%",color:"text-[#b8860b]",signal:"Watch",sigC:"text-[#b8860b] bg-[#b8860b]/15"},{n:"Mirae Asset Large Cap",nav:"105.80",ath:"106.20",pct:"0.4%",color:"text-slate-500",signal:"Near ATH",sigC:"text-slate-500 bg-white/[0.04]"}];return s.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-semibold text-white",children:"Buy Opportunities"}),s.jsx("span",{className:"text-xs text-emerald-400 font-semibold bg-emerald-500/10 px-2.5 py-1 rounded-full",children:"2 signals"})]}),e.map((t,n)=>s.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${n<e.length-1?"border-b border-white/[0.03]":""}`,children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:t.n}),s.jsxs("p",{className:"text-xs text-slate-600 mt-0.5",children:["NAV ","",t.nav,"  ATH ","",t.ath]})]}),s.jsxs("div",{className:"text-right shrink-0 ml-3",children:[s.jsxs("p",{className:`text-base font-bold tabular-nums ${t.color}`,children:[s.jsx(yF,{size:13,className:"inline -mt-0.5"})," ",t.pct]}),s.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded ${t.sigC}`,children:t.signal})]})]},n))]})}function Aie(){const[e,t]=j.useState(0),n=["SIP Adjust","Lumpsum","Buy / Sell"],r=["New SIP","Lumpsum Top-up","Action"],l=[[{n:"Axis Bluechip",val:"SIP 6,000",cur:"30%",tgt:"25%",action:"Stop SIP",actionC:"text-amber-400"},{n:"Parag Parikh Flexi",val:"SIP 7,000",cur:"35%",tgt:"40%",action:"12,000/mo",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"SIP 4,000",cur:"20%",tgt:"15%",action:"Stop SIP",actionC:"text-amber-400"},{n:"HDFC Large Cap",val:"SIP 3,000",cur:"15%",tgt:"20%",action:"8,000/mo",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"No action",actionC:"text-slate-600"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Invest 55,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"No action",actionC:"text-slate-600"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Invest 45,000",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Buy 50,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Buy 50,000",actionC:"text-emerald-400"}]][e];return s.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-semibold text-white",children:"Rebalance Portfolio"}),s.jsx("span",{className:"text-xs text-violet-400 font-semibold bg-violet-500/10 px-2.5 py-1 rounded-full",children:"4 off-target"})]}),s.jsx("div",{className:"flex border-b border-white/[0.04]",children:n.map((c,u)=>s.jsx("button",{onClick:()=>t(u),className:`flex-1 text-xs font-semibold py-2.5 text-center cursor-pointer transition-colors ${u===e?"text-violet-400 border-b-2 border-violet-400":"text-slate-600 hover:text-slate-400"}`,children:c},c))}),s.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 border-b border-white/[0.04] bg-[#0a0f1f]/50 flex-wrap",children:[s.jsx("span",{className:"text-xs text-slate-500",children:"Portfolio Value"}),s.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","10,00,000"]}),e===0&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-xs text-slate-600",children:"|"}),s.jsx("span",{className:"text-xs text-slate-500",children:"Total SIP"}),s.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","20,000"]})]}),e===1&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-xs text-slate-600",children:"|"}),s.jsx("span",{className:"text-xs text-slate-500",children:"Lumpsum"}),s.jsx("input",{type:"text",readOnly:!0,value:"1,00,000",className:"bg-white/[0.04] border border-white/[0.08] rounded-md px-2 py-1 text-sm text-white font-semibold tabular-nums w-24 text-right cursor-default outline-none"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 text-xs text-slate-600 font-semibold border-b border-white/[0.03]",children:[s.jsx("span",{children:"Fund / Value"}),s.jsx("span",{className:"text-center",children:"Current"}),s.jsx("span",{className:"text-center",children:"Target"}),s.jsx("span",{className:"text-right",children:r[e]})]}),l.map((c,u)=>s.jsxs("div",{className:`grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 items-center ${u<l.length-1?"border-b border-white/[0.03]":""}`,children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("span",{className:"text-sm text-slate-300 truncate block",children:c.n}),s.jsxs("span",{className:"text-[10px] text-slate-600",children:["",c.val]})]}),s.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:c.cur}),s.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:c.tgt}),s.jsx("span",{className:`text-sm text-right font-semibold ${c.actionC}`,children:c.action})]},`${e}-${u}`))]})]})}function Mie(){const e=[{n:"Retirement",tgt:"2Cr",cur:"28.5L",pct:14,sip:"45,000",yrs:"18 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"Child Education",tgt:"50L",cur:"12.2L",pct:24,sip:"15,000",yrs:"12 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"New Car",tgt:"15L",cur:"4.1L",pct:27,sip:"12,000",yrs:"3 yrs",status:"Needs Attention",sc:"text-amber-400 bg-amber-500/15",bc:"bg-amber-500"}];return s.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-semibold text-white",children:"Goals"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-slate-500",children:"2 On Track"}),s.jsx("span",{className:"text-xs text-amber-400",children:"1 Needs Attention"})]})]}),e.map((t,n)=>s.jsxs("div",{className:`px-4 py-3.5 ${n<e.length-1?"border-b border-white/[0.03]":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-semibold text-white",children:t.n}),s.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${t.sc}`,children:t.status})]}),s.jsxs("span",{className:"text-xs text-slate-500",children:["",t.sip,"/mo  ",t.yrs]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex-1 h-2.5 rounded-full bg-white/[0.06] overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full ${t.bc}`,style:{width:`${t.pct}%`}})}),s.jsxs("span",{className:"text-sm font-semibold text-slate-300 tabular-nums w-10 text-right",children:[t.pct,"%"]})]}),s.jsxs("div",{className:"flex justify-between mt-1.5 text-xs text-slate-600",children:[s.jsxs("span",{children:["",t.cur," of ","",t.tgt]}),s.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[s.jsx(WO,{size:10})," 2 portfolios linked"]})]})]},n))]})}function u_({s:e=16}){return s.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,className:"shrink-0",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function Rb({l:e,v:t,lc:n,vc:r,extra:a}){return s.jsxs("div",{className:"py-3.5 text-center",children:[s.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${n}`,children:e}),s.jsxs("p",{className:`text-lg font-bold tabular-nums mt-0.5 ${r}`,children:[t,a&&s.jsx("span",{className:"text-sm ml-1 text-emerald-400",children:a})]})]})}function Lb({n:e,alloc:t,cur:n,pl:r,ath:a,athC:l,up:c,last:u}){return s.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${u?"":"border-b border-white/[0.03]"}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-300",children:e}),s.jsxs("p",{className:"text-xs text-slate-600",children:["Alloc ",t,"  ",s.jsx("span",{className:l,children:a!=="At ATH"?`${a} below ATH`:a})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-200 tabular-nums",children:n}),s.jsx("p",{className:`text-sm font-semibold tabular-nums ${c?"text-emerald-400":"text-rose-400"}`,children:r})]})]})}function Kr({c:e,t}){const n={violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400",emerald:"text-emerald-400"};return s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx(Ac,{size:16,className:`${n[e]} shrink-0`}),s.jsx("span",{className:"text-sm text-slate-300",children:t})]})}function Fm({num:e,icon:t,color:n,title:r,desc:a}){const l={violet:["text-violet-400","bg-violet-500/10","border-violet-500/20","from-violet-500/20 to-violet-500/5"],emerald:["text-emerald-400","bg-emerald-500/10","border-emerald-500/20","from-emerald-500/20 to-emerald-500/5"],cyan:["text-cyan-400","bg-cyan-500/10","border-cyan-500/20","from-cyan-500/20 to-cyan-500/5"],amber:["text-amber-400","bg-amber-500/10","border-amber-500/20","from-amber-500/20 to-amber-500/5"]},[c,u,f,m]=l[n]||l.violet;return s.jsxs("div",{className:`relative rounded-2xl border ${f} bg-gradient-to-b ${m} p-6 text-center`,children:[s.jsx("span",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl ${u} ${c} mb-4`,children:t}),s.jsxs("span",{className:`absolute top-4 right-4 text-xs font-bold ${c} opacity-40`,children:["0",e]}),s.jsx("h3",{className:"text-base font-bold text-white mb-2",children:r}),s.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:a})]})}function zb({icon:e,t,d:n,bg:r,c:a}){const l={emerald:"text-emerald-400",violet:"text-violet-400",amber:"text-amber-400"};return s.jsxs("div",{className:`flex-1 ${r} px-5 sm:px-8 lg:px-10 py-6 sm:py-8 border-b sm:border-b-0 sm:border-r border-white/[0.04] last:border-0`,children:[s.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[s.jsx("span",{className:`${l[a]} shrink-0`,children:e}),t]}),s.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:n})]})}const d_={violet:["text-violet-400","bg-violet-500/8","border-violet-500/10"],blue:["text-blue-400","bg-blue-500/8","border-blue-500/10"],emerald:["text-emerald-400","bg-emerald-500/8","border-emerald-500/10"],cyan:["text-cyan-400","bg-cyan-500/8","border-cyan-500/10"],rose:["text-rose-400","bg-rose-500/8","border-rose-500/10"],orange:["text-orange-400","bg-orange-500/8","border-orange-500/10"],teal:["text-teal-400","bg-teal-500/8","border-teal-500/10"],red:["text-red-400","bg-red-500/8","border-red-500/10"],yellow:["text-yellow-400","bg-yellow-500/8","border-yellow-500/10"],pink:["text-pink-400","bg-pink-500/8","border-pink-500/10"]};function Ps({icon:e,c:t,t:n,d:r}){const[a,l,c]=d_[t]||d_.violet;return s.jsxs("div",{className:`rounded-xl border ${c} ${l} p-5`,children:[s.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[s.jsx("span",{className:`${a} shrink-0`,children:e}),n]}),s.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:r})]})}function kie(){const{isAuthenticated:e,loading:t}=to();return t?s.jsx(Sh,{}):e?s.jsx(pp,{to:"/investments/mutual-funds",replace:!0}):s.jsx(fI,{})}function Die(){const e=ca();return s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-violet-500/15 rounded-2xl flex items-center justify-center mb-4",children:s.jsx(KF,{size:32,className:"text-violet-400"})}),s.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)] mb-2",children:"Coming Soon"}),s.jsx("p",{className:"text-[var(--text-muted)] text-sm max-w-sm",children:"This page is under construction. Navigate using the sidebar to explore available sections."}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-3 font-mono",children:e.pathname})]})}const Eie=["Savings Account","Current Account","Fixed Deposit (FD)","Recurring Deposit (RD)","NRE Account","NRO Account","Minor Account"].map(e=>({value:e,label:e}));function _ie({initial:e,onSave:t,onDelete:n,onCancel:r}){const{activeMembers:a}=pt(),l=!!e,[c,u]=j.useState({accountName:e?.accountName||"",memberId:e?.memberId||"",bankName:e?.bankName||"",accountNumber:e?.accountNumber||"",ifscCode:e?.ifscCode||"",branchName:e?.branchName||"",accountType:e?.accountType||"",status:e?.status||"Active"}),[f,m]=j.useState({}),[h,v]=j.useState(!1);function x(y,C){u(M=>({...M,[y]:C})),m(M=>({...M,[y]:void 0}))}function b(){const y={};return c.accountName.trim()||(y.accountName="Required"),c.memberId||(y.memberId="Required"),c.bankName.trim()||(y.bankName="Required"),String(c.accountNumber||"").trim()||(y.accountNumber="Required"),c.ifscCode.trim()||(y.ifscCode="Required"),c.branchName.trim()||(y.branchName="Required"),c.accountType||(y.accountType="Required"),m(y),Object.keys(y).length===0}async function S(){if(b()){v(!0);try{await t({...c,ifscCode:c.ifscCode.toUpperCase()})}finally{v(!1)}}}const w=a.map(y=>({value:y.memberId,label:`${y.memberName} (${y.relationship})`}));return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Account Name",required:!0,error:f.accountName,children:s.jsx(ke,{value:c.accountName,onChange:y=>x("accountName",y),placeholder:"e.g., HDFC Savings"})}),s.jsx(le,{label:"Family Member",required:!0,error:f.memberId,children:s.jsx(We,{value:c.memberId,onChange:y=>x("memberId",y),options:w,placeholder:"Select member..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Bank Name",required:!0,error:f.bankName,children:s.jsx(ke,{value:c.bankName,onChange:y=>x("bankName",y),placeholder:"e.g., HDFC Bank"})}),s.jsx(le,{label:"Account Type",required:!0,error:f.accountType,children:s.jsx(We,{value:c.accountType,onChange:y=>x("accountType",y),options:Eie,placeholder:"Select type..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Account Number",required:!0,error:f.accountNumber,children:s.jsx(ke,{sensitive:!0,value:c.accountNumber,onChange:y=>x("accountNumber",y),placeholder:"e.g., 1234567890"})}),s.jsx(le,{label:"IFSC Code",required:!0,error:f.ifscCode,children:s.jsx(ke,{value:c.ifscCode,onChange:y=>x("ifscCode",y.toUpperCase()),placeholder:"e.g., HDFC0001234",maxLength:11})})]}),s.jsx(le,{label:"Branch Name",required:!0,error:f.branchName,children:s.jsx(ke,{value:c.branchName,onChange:y=>x("branchName",y),placeholder:"e.g., Hyderabad - Kondapur"})}),l&&s.jsx(le,{label:"Status",children:s.jsx(We,{value:c.status,onChange:y=>x("status",y),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[l&&n?s.jsx(ns,{onClick:n}):s.jsx("div",{}),s.jsx(an,{onCancel:r,onSubmit:S,submitLabel:l?"Update":"Add Account",loading:h})]})]})}function as({title:e="Loading"}){return s.jsxs("div",{className:"flex flex-col items-center justify-center py-32 gap-3",children:[s.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),s.jsxs("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:[e,"..."]})]})}const f_={"Savings Account":"bg-blue-500/15 text-[var(--accent-blue)]",Savings:"bg-blue-500/15 text-[var(--accent-blue)]",Salary:"bg-emerald-500/15 text-emerald-400","Current Account":"bg-violet-500/15 text-[var(--accent-violet)]","Fixed Deposit":"bg-amber-500/15 text-[var(--accent-amber)]","Fixed Deposit (FD)":"bg-amber-500/15 text-[var(--accent-amber)]"};function m_(){const{selectedMember:e,member:t}=Yr(),{banks:n,addBankAccount:r,updateBankAccount:a,deleteBankAccount:l}=pt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=li(),m=oi(),{mv:h}=ci(),[v,x]=j.useState(null);if(n===null)return s.jsx(as,{title:"Loading bank accounts",cards:3});const b=j.useMemo(()=>{const M=n.filter(A=>A.status!=="Inactive");return e==="all"?M:M.filter(A=>A.memberId===e)},[n,e]),S=j.useMemo(()=>new Set(b.map(M=>M.bankName)).size,[b]),w=j.useMemo(()=>b.filter(M=>M.accountType==="Savings"||M.accountType==="Savings Account"||M.accountType==="Salary").length,[b]);async function y(M){u("Saving...");try{v?.edit?await a(v.edit.accountId,M):await r(M),c(v?.edit?"Bank account updated":"Bank account added"),x(null)}catch(A){c(A.message||"Failed to save bank account","error")}finally{f()}}async function C(){if(v?.edit&&await m("Deactivate this bank account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){u("Deactivating...");try{await l(v.edit.accountId),c("Bank account deactivated"),x(null)}catch(M){c(M.message||"Failed to deactivate bank account","error")}finally{f()}}}return s.jsxs("div",{className:"space-y-4",children:[b.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(VO,{size:32,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No bank accounts",t?` for ${t.memberName}`:""]}),s.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first bank account"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[s.jsx(Fb,{label:"Total Accounts",value:b.length}),s.jsx(Fb,{label:"Banks",value:S}),s.jsx(Fb,{label:"Savings / Salary",value:w})]}),s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Pr,{size:14})," Add Account"]})}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[580px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Bank"}),!t&&s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account No."}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Branch"}),s.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),s.jsx("tbody",{children:b.map(M=>s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsx("td",{className:"py-2.5 px-4",children:s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.accountName})}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.bankName}),!t&&s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:h(M.memberName,"name")}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${f_[M.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.accountType})}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:h(M.accountNumber,"account")}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:M.branchName}),s.jsx("td",{className:"py-2.5 px-2",children:s.jsx("button",{onClick:()=>x({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:s.jsx(ka,{size:12})})})]},M.accountId))})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(M=>s.jsxs("div",{onClick:()=>x({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.accountName}),s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${f_[M.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.accountType})]}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.bankName,t?"":`  ${h(M.memberName,"name")}`]}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:h(M.accountNumber,"account")}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:M.branchName})]})]},M.accountId))})]})]}),s.jsx(hr,{open:!!v,onClose:()=>x(null),title:v?.edit?"Edit Bank Account":"Add Bank Account",children:s.jsx(_ie,{initial:v?.edit||void 0,onSave:y,onDelete:v?.edit?C:void 0,onCancel:()=>x(null)})})]})}function Fb({label:e,value:t}){return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:t})]})}const Oie=["Demat + Trading","Mutual Fund","Trading","Direct AMC","Broker"].map(e=>({value:e,label:e}));function Tie({initial:e,onSave:t,onDelete:n,onCancel:r}){const{activeMembers:a,activeBanks:l}=pt(),c=!!e,[u,f]=j.useState({accountName:e?.accountName||"",memberId:e?.memberId||"",bankAccountId:e?.bankAccountId||"",accountType:e?.accountType||"",platformBroker:e?.platformBroker||"",accountClientId:e?.accountClientId||"",dematDpId:e?.dematDpId||"",registeredEmail:e?.registeredEmail||"",registeredPhone:e?.registeredPhone||"",status:e?.status||"Active"}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(A,_){f(E=>({...E,[A]:_})),h(E=>({...E,[A]:void 0}))}function S(A){f(_=>({..._,memberId:A,bankAccountId:""})),h(_=>({..._,memberId:void 0}))}function w(){const A={};return u.accountName.trim()||(A.accountName="Required"),u.memberId||(A.memberId="Required"),u.bankAccountId||(A.bankAccountId="Required"),u.accountType||(A.accountType="Required"),u.platformBroker.trim()||(A.platformBroker="Required"),u.registeredEmail.trim()||(A.registeredEmail="Required"),u.registeredPhone.trim()||(A.registeredPhone="Required"),h(A),Object.keys(A).length===0}async function y(){if(w()){x(!0);try{await t(u)}finally{x(!1)}}}const C=a.map(A=>({value:A.memberId,label:`${A.memberName} (${A.relationship})`})),M=j.useMemo(()=>u.memberId?l.filter(A=>A.memberId===u.memberId).map(A=>({value:A.accountId,label:`${A.accountName} - ${A.bankName}`})):[],[l,u.memberId]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Account Name",required:!0,error:m.accountName,children:s.jsx(ke,{value:u.accountName,onChange:A=>b("accountName",A),placeholder:"e.g., Zerodha Demat"})}),s.jsx(le,{label:"Family Member",required:!0,error:m.memberId,children:s.jsx(We,{value:u.memberId,onChange:S,options:C,placeholder:"Select member..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Linked Bank Account",required:!0,error:m.bankAccountId,children:s.jsx(We,{value:u.bankAccountId,onChange:A=>b("bankAccountId",A),options:M,placeholder:u.memberId?M.length?"Select bank account...":"No bank accounts for this member":"Select member first..."})}),s.jsx(le,{label:"Account Type",required:!0,error:m.accountType,children:s.jsx(We,{value:u.accountType,onChange:A=>b("accountType",A),options:Oie,placeholder:"Select type..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Platform / Broker",required:!0,error:m.platformBroker,children:s.jsx(ke,{value:u.platformBroker,onChange:A=>b("platformBroker",A),placeholder:"e.g., Zerodha, Groww"})}),s.jsx(le,{label:"Account / Client ID",error:m.accountClientId,children:s.jsx(ke,{sensitive:!0,value:u.accountClientId,onChange:A=>b("accountClientId",A),placeholder:"e.g., ZR1234 (optional)"})})]}),s.jsx(le,{label:"Demat DP ID",error:m.dematDpId,children:s.jsx(ke,{sensitive:!0,value:u.dematDpId,onChange:A=>b("dematDpId",A),placeholder:"16-digit DP ID (optional)",maxLength:16})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Registered Email",required:!0,error:m.registeredEmail,children:s.jsx(ke,{sensitive:!0,type:"email",value:u.registeredEmail,onChange:A=>b("registeredEmail",A),placeholder:"email@example.com"})}),s.jsx(le,{label:"Registered Phone",required:!0,error:m.registeredPhone,children:s.jsx(ke,{sensitive:!0,value:u.registeredPhone,onChange:A=>b("registeredPhone",A),placeholder:"9876543210"})})]}),c&&s.jsx(le,{label:"Status",children:s.jsx(We,{value:u.status,onChange:A=>b("status",A),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[c&&n?s.jsx(ns,{onClick:n}):s.jsx("div",{}),s.jsx(an,{onCancel:r,onSubmit:y,submitLabel:c?"Update":"Add Account",loading:v})]})]})}const p_={"Demat + Trading":"bg-violet-500/15 text-[var(--accent-violet)]","Mutual Fund":"bg-blue-500/15 text-[var(--accent-blue)]",Trading:"bg-orange-500/15 text-[var(--accent-orange)]",Demat:"bg-amber-500/15 text-[var(--accent-amber)]","Direct AMC":"bg-emerald-500/15 text-emerald-400",Broker:"bg-rose-500/15 text-[var(--accent-rose)]"};function Pie(){const{selectedMember:e,member:t}=Yr(),{investmentAccounts:n,addInvestmentAccount:r,updateInvestmentAccount:a,deleteInvestmentAccount:l}=pt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=li(),m=oi(),{mv:h}=ci(),[v,x]=j.useState(null);if(n===null)return s.jsx(as,{title:"Loading investment accounts",cards:4});const b=j.useMemo(()=>{const A=n.filter(_=>_.status!=="Inactive");return e==="all"?A:A.filter(_=>_.memberId===e)},[n,e]),S=j.useMemo(()=>new Set(b.map(A=>A.platformBroker)).size,[b]),w=b.filter(A=>A.accountType==="Demat + Trading"||A.accountType==="Demat"||A.accountType==="Trading").length,y=b.filter(A=>A.accountType==="Mutual Fund"||A.accountType==="Direct AMC").length;async function C(A){u("Saving...");try{v?.edit?await a(v.edit.accountId,A):await r(A),c(v?.edit?"Investment account updated":"Investment account added"),x(null)}catch(_){c(_.message||"Failed to save investment account","error")}finally{f()}}async function M(){if(v?.edit&&await m("Deactivate this investment account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){u("Deactivating...");try{await l(v.edit.accountId),c("Investment account deactivated"),x(null)}catch(A){c(A.message||"Failed to deactivate investment account","error")}finally{f()}}}return s.jsxs("div",{className:"space-y-4",children:[b.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(BO,{size:32,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No investment accounts",t?` for ${t.memberName}`:""]}),s.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first investment account"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[s.jsx(Bm,{label:"Total Accounts",value:b.length}),s.jsx(Bm,{label:"Platforms",value:S}),s.jsx(Bm,{label:"Demat / Trading",value:w}),s.jsx(Bm,{label:"Mutual Fund",value:y})]}),s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Pr,{size:14})," Add Account"]})}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[620px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Platform"}),!t&&s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Client ID"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Bank"}),s.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),s.jsx("tbody",{children:b.map(A=>s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsx("td",{className:"py-2.5 px-4",children:s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:A.accountName})}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:A.platformBroker}),!t&&s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:h(A.memberName,"name")}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${p_[A.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:A.accountType})}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:h(A.accountClientId,"clientId")}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:A.bankAccountName}),s.jsx("td",{className:"py-2.5 px-2",children:s.jsx("button",{onClick:()=>x({edit:A}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:s.jsx(ka,{size:12})})})]},A.accountId))})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(A=>s.jsxs("div",{onClick:()=>x({edit:A}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:A.accountName}),s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${p_[A.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:A.accountType})]}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[A.platformBroker,t?"":`  ${h(A.memberName,"name")}`]}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Client: ",h(A.accountClientId,"clientId")]}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:A.bankAccountName})]})]},A.accountId))})]})]}),s.jsx(hr,{open:!!v,onClose:()=>x(null),title:v?.edit?"Edit Investment Account":"Add Investment Account",wide:!0,children:s.jsx(Tie,{initial:v?.edit||void 0,onSave:C,onDelete:v?.edit?M:void 0,onCancel:()=>x(null)})})]})}function Bm({label:e,value:t}){return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:t})]})}const Iie=["Term Life","Health","Motor","Home Insurance","Travel","Personal Accident","Life Insurance","Others"].map(e=>({value:e,label:e})),Rie=[{value:"Active",label:"Active"},{value:"Expired",label:"Expired"},{value:"Surrendered",label:"Surrendered"},{value:"Lapsed",label:"Lapsed"},{value:"Inactive",label:"Inactive"}];function Lie({initial:e,onSave:t,onDelete:n,onCancel:r}){const{activeMembers:a}=pt(),l=!!e,[c,u]=j.useState({policyType:e?.policyType||"",company:e?.company||"",policyNumber:e?.policyNumber||"",policyName:e?.policyName||"",insuredMember:e?.insuredMember||"",memberId:e?.memberId||"",sumAssured:e?.sumAssured||"",nominee:e?.nominee||"",premium:e?.premium||"",premiumFrequency:e?.premiumFrequency||"Annual",status:e?.status||"Active",notes:e?.notes||""}),[f,m]=j.useState({}),[h,v]=j.useState(!1);function x(C,M){u(A=>({...A,[C]:M})),m(A=>({...A,[C]:void 0}))}function b(C){const M=a.find(A=>A.memberId===C);u(A=>({...A,memberId:C,insuredMember:M?.memberName||""})),m(A=>({...A,memberId:void 0}))}function S(){const C={};return c.policyType||(C.policyType="Required"),c.company.trim()||(C.company="Required"),c.policyNumber.trim()||(C.policyNumber="Required"),c.policyName.trim()||(C.policyName="Required"),c.memberId||(C.memberId="Required"),(!c.sumAssured||Number(c.sumAssured)<=0)&&(C.sumAssured="Must be > 0"),m(C),Object.keys(C).length===0}async function w(){if(S()){v(!0);try{await t({...c,sumAssured:Number(c.sumAssured),premium:Number(c.premium)||0})}finally{v(!1)}}}const y=a.map(C=>({value:C.memberId,label:`${C.memberName} (${C.relationship})`}));return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Policy Type",required:!0,error:f.policyType,children:s.jsx(We,{value:c.policyType,onChange:C=>x("policyType",C),options:Iie,placeholder:"Select type..."})}),s.jsx(le,{label:"Insurance Company",required:!0,error:f.company,children:s.jsx(ke,{value:c.company,onChange:C=>x("company",C),placeholder:"e.g., HDFC Life"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Policy Number",required:!0,error:f.policyNumber,children:s.jsx(ke,{sensitive:!0,value:c.policyNumber,onChange:C=>x("policyNumber",C),placeholder:"e.g., HL-2024-78901"})}),s.jsx(le,{label:"Policy Name",required:!0,error:f.policyName,children:s.jsx(ke,{value:c.policyName,onChange:C=>x("policyName",C),placeholder:"e.g., Click 2 Protect Life"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Insured Member",required:!0,error:f.memberId,children:s.jsx(We,{value:c.memberId,onChange:b,options:y,placeholder:"Select member..."})}),s.jsx(le,{label:"Nominee",children:s.jsx(We,{value:c.nominee,onChange:C=>x("nominee",C),options:y.map(C=>({...C,label:C.label.split(" (")[0]})),placeholder:"Select nominee (optional)..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(le,{label:"Sum Assured ()",required:!0,error:f.sumAssured,children:s.jsx(ke,{type:"number",value:c.sumAssured,onChange:C=>x("sumAssured",C),placeholder:"e.g., 10000000"})}),s.jsx(le,{label:"Premium ()",children:s.jsx(ke,{type:"number",value:c.premium,onChange:C=>x("premium",C),placeholder:"e.g., 12500"})}),s.jsx(le,{label:"Premium Frequency",children:s.jsx(We,{value:c.premiumFrequency,onChange:C=>x("premiumFrequency",C),options:[{value:"Annual",label:"Annual"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"}]})})]}),l&&s.jsx(le,{label:"Status",children:s.jsx(We,{value:c.status,onChange:C=>x("status",C),options:Rie})}),s.jsx(le,{label:"Notes",children:s.jsx(yc,{value:c.notes,onChange:C=>x("notes",C),placeholder:"Additional information..."})}),s.jsxs("div",{className:"flex items-center justify-between",children:[l&&n?s.jsx(ns,{onClick:n}):s.jsx("div",{}),s.jsx(an,{onCancel:r,onSubmit:w,submitLabel:l?"Update":"Add Policy",loading:h})]})]})}const h_={"Term Life":"bg-rose-500/15 text-[var(--accent-rose)]",Health:"bg-emerald-500/15 text-emerald-400",Motor:"bg-blue-500/15 text-[var(--accent-blue)]","Home Insurance":"bg-amber-500/15 text-[var(--accent-amber)]",Travel:"bg-violet-500/15 text-[var(--accent-violet)]","Life Insurance":"bg-rose-500/15 text-[var(--accent-rose)]","Personal Accident":"bg-orange-500/15 text-[var(--accent-orange)]"};function zie(){const{selectedMember:e,member:t}=Yr(),{insurancePolicies:n,addInsurance:r,updateInsurance:a,deleteInsurance:l}=pt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=li(),m=oi(),{mv:h}=ci(),[v,x]=j.useState(null);if(n===null)return s.jsx(as,{title:"Loading insurance",cards:5});const b=j.useMemo(()=>{const _=n.filter(E=>E.status!=="Inactive");return e==="all"?_:_.filter(E=>E.memberId===e)},[n,e]),S=b.reduce((_,E)=>_+(E.sumAssured||0),0),w=b.reduce((_,E)=>_+(E.premium||0),0),y=b.filter(_=>_.policyType==="Term Life"||_.policyType==="Life Insurance").reduce((_,E)=>_+(E.sumAssured||0),0),C=b.filter(_=>_.policyType==="Health").reduce((_,E)=>_+(E.sumAssured||0),0);async function M(_){u("Saving...");try{v?.edit?await a(v.edit.policyId,_):await r(_),c(v?.edit?"Insurance policy updated":"Insurance policy added"),x(null)}catch(E){c(E.message||"Failed to save insurance policy","error")}finally{f()}}async function A(){if(v?.edit&&await m("Deactivate this insurance policy?",{title:"Deactivate Policy",confirmLabel:"Deactivate"})){u("Deactivating...");try{await l(v.edit.policyId),c("Insurance policy deactivated"),x(null)}catch(_){c(_.message||"Failed to deactivate insurance policy","error")}finally{f()}}}return s.jsxs("div",{className:"space-y-4",children:[b.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(td,{size:32,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No insurance policies",t?` for ${t.memberName}`:""]}),s.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first policy"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[s.jsx(Yu,{label:"Policies",value:b.length}),s.jsx(Yu,{label:"Total Cover",value:Q(S),bold:!0}),s.jsx(Yu,{label:"Life Cover",value:Q(y)}),s.jsx(Yu,{label:"Health Cover",value:Q(C)}),s.jsx(Yu,{label:"Annual Premium",value:Q(w)})]}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[s.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-3",children:"Coverage Adequacy"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsx(v_,{label:"Life Insurance",current:y,recommended:"10-15x annual income",tip:"Term life cover should be 10-15x your annual income to protect dependents",icon:"heart"}),s.jsx(v_,{label:"Health Insurance",current:C,recommended:"50L - 1Cr family floater",tip:"Considering medical inflation, a 50L-1Cr family floater is recommended",icon:"shield"})]})]}),s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Pr,{size:14})," Add Policy"]})}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Policy"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Company"}),!t&&s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Insured"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Sum Assured"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Premium"}),s.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),s.jsx("tbody",{children:b.map(_=>s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsxs("td",{className:"py-2.5 px-4",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:_.policyName}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:h(_.policyNumber,"policy")})]}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${h_[_.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:_.policyType})}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:_.company}),!t&&s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:_.insuredMember}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(_.sumAssured)}),s.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:[Q(_.premium),"/",_.premiumFrequency==="Annual"?"yr":"mo"]}),s.jsx("td",{className:"py-2.5 px-2",children:s.jsx("button",{onClick:()=>x({edit:_}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:s.jsx(ka,{size:12})})})]},_.policyId))})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(_=>s.jsxs("div",{onClick:()=>x({edit:_}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:_.policyName}),s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${h_[_.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:_.policyType})]}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[_.company,t?"":`  ${_.insuredMember}`]}),s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Cover"}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(_.sumAssured)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Premium"}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[Q(_.premium),"/",_.premiumFrequency==="Annual"?"yr":"mo"]})]})]})]},_.policyId))})]})]}),s.jsx(hr,{open:!!v,onClose:()=>x(null),title:v?.edit?"Edit Insurance Policy":"Add Insurance Policy",wide:!0,children:s.jsx(Lie,{initial:v?.edit||void 0,onSave:M,onDelete:v?.edit?A:void 0,onCancel:()=>x(null)})})]})}function v_({label:e,current:t,recommended:n,tip:r}){const a=t===0;return s.jsxs("div",{className:`rounded-lg border px-3 py-2.5 ${a?"border-rose-500/30 bg-rose-500/5":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:e}),a?s.jsx("span",{className:"text-xs font-bold text-[var(--accent-rose)]",children:"Not covered"}):s.jsx("span",{className:"text-xs font-semibold text-emerald-400",children:Q(t)})]}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Recommended: ",n]}),s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5 italic",children:r})]})}function Yu({label:e,value:t,bold:n}){return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm tabular-nums ${n?"font-bold":"font-semibold"} text-[var(--text-primary)]`,children:t})]})}const Fie=["Home Loan","Car Loan","Personal Loan","Education Loan","Gold Loan","Credit Card","Business Loan","Loan Against Property","Other"].map(e=>({value:e,label:e})),Bie=[{value:"Active",label:"Active"},{value:"Closed",label:"Closed"},{value:"Inactive",label:"Inactive"}];function $ie({initial:e,onSave:t,onDelete:n,onCancel:r}){const{activeMembers:a}=pt(),l=!!e,[c,u]=j.useState({liabilityType:e?.liabilityType||"",lenderName:e?.lenderName||"",familyMemberId:e?.familyMemberId||"",outstandingBalance:e?.outstandingBalance||"",emiAmount:e?.emiAmount||"",interestRate:e?.interestRate||"",status:e?.status||"Active",notes:e?.notes||""}),[f,m]=j.useState({}),[h,v]=j.useState(!1);function x(y,C){u(M=>({...M,[y]:C})),m(M=>({...M,[y]:void 0}))}function b(){const y={};return c.liabilityType||(y.liabilityType="Required"),c.lenderName.trim()||(y.lenderName="Required"),(!c.outstandingBalance||Number(c.outstandingBalance)<=0)&&(y.outstandingBalance="Must be > 0"),m(y),Object.keys(y).length===0}async function S(){if(b()){v(!0);try{await t({...c,outstandingBalance:Number(c.outstandingBalance),emiAmount:Number(c.emiAmount)||0,interestRate:Number(c.interestRate)||0})}finally{v(!1)}}}const w=a.map(y=>({value:y.memberId,label:`${y.memberName} (${y.relationship})`}));return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Liability Type",required:!0,error:f.liabilityType,children:s.jsx(We,{value:c.liabilityType,onChange:y=>x("liabilityType",y),options:Fie,placeholder:"Select type..."})}),s.jsx(le,{label:"Lender / Bank",required:!0,error:f.lenderName,children:s.jsx(ke,{value:c.lenderName,onChange:y=>x("lenderName",y),placeholder:"e.g., HDFC Bank"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Family Member",children:s.jsx(We,{value:c.familyMemberId,onChange:y=>x("familyMemberId",y),options:w,placeholder:"Select member (optional)..."})}),s.jsx(le,{label:"Outstanding Balance ()",required:!0,error:f.outstandingBalance,children:s.jsx(ke,{type:"number",value:c.outstandingBalance,onChange:y=>x("outstandingBalance",y),placeholder:"e.g., 3500000"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"EMI Amount ()",children:s.jsx(ke,{type:"number",value:c.emiAmount,onChange:y=>x("emiAmount",y),placeholder:"e.g., 32000"})}),s.jsx(le,{label:"Interest Rate (%)",children:s.jsx(ke,{type:"number",value:c.interestRate,onChange:y=>x("interestRate",y),placeholder:"e.g., 8.5",step:"0.01"})})]}),l&&s.jsx(le,{label:"Status",children:s.jsx(We,{value:c.status,onChange:y=>x("status",y),options:Bie})}),s.jsx(le,{label:"Notes",children:s.jsx(yc,{value:c.notes,onChange:y=>x("notes",y),placeholder:"e.g., Flat in Kondapur"})}),s.jsxs("div",{className:"flex items-center justify-between",children:[l&&n?s.jsx(ns,{onClick:n}):s.jsx("div",{}),s.jsx(an,{onCancel:r,onSubmit:S,submitLabel:l?"Update":"Add Liability",loading:h})]})]})}const x_={"Home Loan":"bg-blue-500/15 text-[var(--accent-blue)]","Car Loan":"bg-amber-500/15 text-[var(--accent-amber)]","Gold Loan":"bg-orange-500/15 text-[var(--accent-orange)]","Personal Loan":"bg-violet-500/15 text-[var(--accent-violet)]","Education Loan":"bg-emerald-500/15 text-emerald-400","Credit Card":"bg-rose-500/15 text-[var(--accent-rose)]"};function qie(){const{selectedMember:e,member:t}=Yr(),{liabilityList:n,addLiability:r,updateLiability:a,deleteLiability:l}=pt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=li(),m=oi(),[h,v]=j.useState(null);if(n===null)return s.jsx(as,{title:"Loading liabilities",cards:4});const x=j.useMemo(()=>{const M=n.filter(A=>A.status!=="Inactive");return e==="all"?M:M.filter(A=>A.familyMemberId===e)},[n,e]),b=x.reduce((M,A)=>M+(A.outstandingBalance||0),0),S=x.reduce((M,A)=>M+(A.emiAmount||0),0),w=x.filter(M=>M.status==="Active").length;async function y(M){u("Saving...");try{h?.edit?await a(h.edit.liabilityId,M):await r(M),c(h?.edit?"Liability updated":"Liability added"),v(null)}catch(A){c(A.message||"Failed to save liability","error")}finally{f()}}async function C(){if(h?.edit&&await m("Deactivate this liability?",{title:"Deactivate Liability",confirmLabel:"Deactivate"})){u("Deactivating...");try{await l(h.edit.liabilityId),c("Liability deactivated"),v(null)}catch(M){c(M.message||"Failed to deactivate liability","error")}finally{f()}}}return s.jsxs("div",{className:"space-y-4",children:[x.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(Eh,{size:32,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No liabilities",t?` for ${t.memberName}`:""]}),s.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a liability"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[s.jsx($m,{label:"Liabilities",value:`${w} active`}),s.jsx($m,{label:"Outstanding",value:Q(b),color:"rose",bold:!0}),s.jsx($m,{label:"Monthly EMI",value:Q(S),color:"rose"}),s.jsx($m,{label:"Avg. Interest",value:x.length>0?`${(x.reduce((M,A)=>M+(A.interestRate||0),0)/x.length).toFixed(1)}%`:""})]}),s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Pr,{size:14})," Add Liability"]})}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Lender"}),!t&&s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Outstanding"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"EMI"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Interest"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Remaining"}),s.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),s.jsx("tbody",{children:x.map(M=>s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsxs("td",{className:"py-2.5 px-4",children:[s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${x_[M.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.liabilityType}),M.notes&&s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:M.notes})]}),s.jsx("td",{className:"py-2.5 px-3 text-sm font-medium text-[var(--text-primary)]",children:M.lenderName}),!t&&s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.familyMemberName}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(M.outstandingBalance)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:M.emiAmount?`${Q(M.emiAmount)}/mo`:""}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:M.interestRate?`${M.interestRate}%`:""}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:M.emiAmount>0&&M.outstandingBalance>0?`${Math.ceil(M.outstandingBalance/M.emiAmount)} mo`:""}),s.jsx("td",{className:"py-2.5 px-2",children:s.jsx("button",{onClick:()=>v({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:s.jsx(ka,{size:12})})})]},M.liabilityId))})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:x.map(M=>s.jsxs("div",{onClick:()=>v({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${x_[M.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.liabilityType}),s.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(M.outstandingBalance)})]}),s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.lenderName}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.familyMemberName,M.notes?`  ${M.notes}`:""]}),s.jsxs("div",{className:"text-right",children:[M.emiAmount>0&&s.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["EMI: ",Q(M.emiAmount),"/mo"]}),M.emiAmount>0&&M.outstandingBalance>0&&s.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[Math.ceil(M.outstandingBalance/M.emiAmount)," months left"]})]})]})]},M.liabilityId))})]})]}),s.jsx(hr,{open:!!h,onClose:()=>v(null),title:h?.edit?"Edit Liability":"Add Liability",children:s.jsx($ie,{initial:h?.edit||void 0,onSave:y,onDelete:h?.edit?C:void 0,onCancel:()=>v(null)})})]})}function $m({label:e,value:t,color:n,bold:r}){const a=n==="rose"?"text-[var(--accent-rose)]":"text-[var(--text-primary)]";return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm tabular-nums ${r?"font-bold":"font-semibold"} ${a}`,children:t})]})}const Hie="cf_market_data",mI=[{value:"Fixed Deposit",category:"Debt"},{value:"PPF",category:"Debt"},{value:"EPF",category:"Debt"},{value:"NPS",category:"Debt"},{value:"Sovereign Gold Bond",category:"Gold"},{value:"Physical Gold",category:"Gold"},{value:"Digital Gold",category:"Gold"},{value:"Real Estate",category:"Property"},{value:"Bonds",category:"Debt"},{value:"Physical Silver",category:"Silver"},{value:"Digital Silver",category:"Silver"},{value:"Crypto",category:"Alternative"},{value:"Other",category:"Other"}],g_={"Real Estate":"Home Loan","Physical Gold":"Gold Loan","Sovereign Gold Bond":"Gold Loan","Fixed Deposit":"Loan Against FD"},Uie=mI.map(e=>({value:e.value,label:e.value})),Yie=["Equity","Debt","Gold","Silver","Property","Alternative","Other"].map(e=>({value:e,label:e})),Vie=[{value:"Active",label:"Active"},{value:"Sold",label:"Sold"},{value:"Matured",label:"Matured"},{value:"Inactive",label:"Inactive"}],b_=[{value:"24K",label:"24K (99.9%)",factor:.999},{value:"22K",label:"22K (91.6%)",factor:.916},{value:"18K",label:"18K (75.0%)",factor:.75}],y_=[{value:"999",label:"999 Fine (99.9%)",factor:.999},{value:"925",label:"925 Sterling (92.5%)",factor:.925}];function fp(e){return["Physical Gold","Digital Gold","Sovereign Gold Bond"].includes(e)}function Gie(e){return["Physical Silver","Digital Silver"].includes(e)||e&&e.toLowerCase().includes("silver")}function Bb(e){return fp(e)||Gie(e)}function Wie(e){try{const t=sessionStorage.getItem(Hie);if(!t)return null;const n=JSON.parse(t);if(!n.metals)return null;const r=e==="gold"?"Gold":"Silver",a=n.metals.find(l=>l.name.toLowerCase().includes(r.toLowerCase()));return a?a.price:null}catch{return null}}function Kie({initial:e,onSave:t,onDelete:n,onCancel:r}){const{activeMembers:a,liabilityList:l}=pt(),c=!!e;function u(z){return mI.find(te=>te.value===z)?.category||"Other"}const f=e?.dynamicFields?typeof e.dynamicFields=="string"?JSON.parse(e.dynamicFields):e.dynamicFields:{},[m,h]=j.useState({investmentType:e?.investmentType||"",investmentCategory:e?.investmentCategory||"",investmentName:e?.investmentName||"",familyMemberId:e?.familyMemberId||"",investedAmount:e?.investedAmount||"",currentValue:e?.currentValue||"",linkedLiabilityId:e?.linkedLiabilityId||"",status:e?.status||"Active",notes:e?.notes||""}),[v,x]=j.useState(f.weightGrams||""),[b,S]=j.useState(f.purity||""),[w,y]=j.useState(null),[C,M]=j.useState(!1),[A,_]=j.useState({lenderName:"",outstandingBalance:"",emiAmount:"",interestRate:""});j.useEffect(()=>{if(!Bb(m.investmentType)||!v||Number(v)<=0){y(null);return}const z=fp(m.investmentType)?"gold":"silver",te=Wie(z);if(!te){y(null);return}const F=(z==="gold"?b_:y_).find(he=>he.value===b),ae=F?F.factor:1;y(Math.round(Number(v)*te*ae))},[m.investmentType,v,b]);const[E,T]=j.useState({}),[P,O]=j.useState(!1);function L(z,te){h(ve=>({...ve,[z]:te})),T(ve=>({...ve,[z]:void 0}))}function R(z){h(te=>({...te,investmentType:z,investmentCategory:u(z)})),T(te=>({...te,investmentType:void 0}))}function B(z,te){_(ve=>({...ve,[z]:te}))}function D(){const z={};return m.investmentType||(z.investmentType="Required"),m.investmentName.trim()||(z.investmentName="Required"),(!m.currentValue||Number(m.currentValue)<0)&&(z.currentValue="Required"),C&&(A.lenderName.trim()||(z.qlLender="Required"),(!A.outstandingBalance||Number(A.outstandingBalance)<=0)&&(z.qlOutstanding="Must be > 0")),T(z),Object.keys(z).length===0}async function K(){if(!D())return;const z={...m,familyMember:m.familyMemberId,investedAmount:Number(m.investedAmount)||0,currentValue:Number(m.currentValue)||0};Bb(m.investmentType)&&(z.dynamicFields=JSON.stringify({weightGrams:Number(v)||0,purity:b||""})),C&&A.lenderName&&(z.quickLoan={liabilityType:g_[m.investmentType]||"Personal Loan",lender:A.lenderName,outstanding:Number(A.outstandingBalance)||0,emiAmount:Number(A.emiAmount)||0,interestRate:Number(A.interestRate)||0}),O(!0);try{await t(z)}finally{O(!1)}}const X=(l||[]).filter(z=>z.status!=="Inactive"),Z=[{value:"",label:"None"},...X.map(z=>({value:z.liabilityId,label:`${z.liabilityType}  ${z.lenderName} (${Q(z.outstandingBalance)})`}))],$=(a||[]).map(z=>({value:z.memberId,label:`${z.memberName} (${z.relationship})`})),G=g_[m.investmentType];return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Investment Type",required:!0,error:E.investmentType,children:s.jsx(We,{value:m.investmentType,onChange:R,options:Uie,placeholder:"Select type..."})}),s.jsx(le,{label:"Category",children:s.jsx(We,{value:m.investmentCategory,onChange:z=>L("investmentCategory",z),options:Yie,placeholder:"Auto-selected..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Investment Name",required:!0,error:E.investmentName,children:s.jsx(ke,{value:m.investmentName,onChange:z=>L("investmentName",z),placeholder:"e.g., HDFC FD - 7.5%"})}),s.jsx(le,{label:"Family Member",children:s.jsx(We,{value:m.familyMemberId,onChange:z=>L("familyMemberId",z),options:$,placeholder:"Select member (optional)..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Invested Amount",children:s.jsx(ke,{type:"number",value:m.investedAmount,onChange:z=>L("investedAmount",z),placeholder:"e.g., 500000"})}),s.jsx(le,{label:"Current Value",required:!0,error:E.currentValue,children:s.jsx(ke,{type:"number",value:m.currentValue,onChange:z=>L("currentValue",z),placeholder:"e.g., 537500"})})]}),Bb(m.investmentType)&&s.jsxs("div",{className:"p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[s.jsxs("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:[fp(m.investmentType)?"Gold":"Silver"," Details"]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsx(le,{label:"Weight (grams)",children:s.jsx(ke,{type:"number",value:v,onChange:x,placeholder:"e.g., 50"})}),s.jsx(le,{label:"Purity",children:s.jsx(We,{value:b,onChange:S,options:(fp(m.investmentType)?b_:y_).map(z=>({value:z.value,label:z.label})),placeholder:"Select purity..."})})]}),w!==null&&s.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-card)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Estimated market value"}),s.jsx("p",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:Q(w)})]}),s.jsx("button",{type:"button",onClick:()=>L("currentValue",String(w)),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 px-3 py-1.5 rounded-lg bg-violet-500/10 border border-violet-500/20 transition-colors",children:"Use this value"})]})]}),s.jsxs("div",{className:"border-t border-[var(--border-light)] pt-4",children:[s.jsx(le,{label:"Linked Loan / Liability",children:s.jsx(We,{value:m.linkedLiabilityId,onChange:z=>{L("linkedLiabilityId",z),z&&M(!1)},options:Z})}),!m.linkedLiabilityId&&!c&&s.jsx("div",{className:"mt-2",children:s.jsx("button",{type:"button",onClick:()=>M(!C),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:C?" Cancel quick loan":`+ Create new loan${G?` (${G})`:""}`})}),C&&s.jsxs("div",{className:"mt-3 p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:"Quick Loan"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsx(le,{label:"Lender",required:!0,error:E.qlLender,children:s.jsx(ke,{value:A.lenderName,onChange:z=>B("lenderName",z),placeholder:"e.g., HDFC Bank"})}),s.jsx(le,{label:"Outstanding Balance",required:!0,error:E.qlOutstanding,children:s.jsx(ke,{type:"number",value:A.outstandingBalance,onChange:z=>B("outstandingBalance",z),placeholder:"e.g., 3500000"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsx(le,{label:"EMI (monthly)",children:s.jsx(ke,{type:"number",value:A.emiAmount,onChange:z=>B("emiAmount",z),placeholder:"e.g., 32000"})}),s.jsx(le,{label:"Interest Rate %",children:s.jsx(ke,{type:"number",value:A.interestRate,onChange:z=>B("interestRate",z),placeholder:"e.g., 8.5"})})]})]})]}),c&&s.jsx(le,{label:"Status",children:s.jsx(We,{value:m.status,onChange:z=>L("status",z),options:Vie})}),s.jsx(le,{label:"Notes",children:s.jsx(yc,{value:m.notes,onChange:z=>L("notes",z),placeholder:"Additional information..."})}),s.jsxs("div",{className:"flex items-center justify-between",children:[c&&n?s.jsx(ns,{onClick:n}):s.jsx("div",{}),s.jsx(an,{onCancel:r,onSubmit:K,submitLabel:c?"Update":"Add Investment",loading:P})]})]})}const w_={Debt:"bg-blue-500/15 text-[var(--accent-blue)]",Gold:"bg-amber-500/15 text-[var(--accent-amber)]",Property:"bg-orange-500/15 text-[var(--accent-orange)]",Equity:"bg-emerald-500/15 text-emerald-400",Alternative:"bg-violet-500/15 text-[var(--accent-violet)]"};function Qie(){const{selectedMember:e,member:t}=Yr(),{otherInvList:n,liabilityList:r,addOtherInvestment:a,updateOtherInvestment:l,deleteOtherInvestment:c}=pt(),{showToast:u,showBlockUI:f,hideBlockUI:m}=li(),h=oi(),[v,x]=j.useState(null);if(n===null)return s.jsx(as,{title:"Loading investments",cards:5});const b=j.useMemo(()=>{const P=n.filter(O=>O.status!=="Inactive");return e==="all"?P:P.filter(O=>O.familyMemberId===e)},[n,e]),S=b.reduce((P,O)=>P+(O.investedAmount||0),0),w=b.reduce((P,O)=>P+(O.currentValue||0),0),y=w-S,C=y>=0,M=S>0?y/S*100:0,A=j.useMemo(()=>{const P={};return r.forEach(O=>{P[O.liabilityId]=O}),P},[r]),_=b.reduce((P,O)=>{const L=O.linkedLiabilityId?A[O.linkedLiabilityId]:null;return P+(L?.outstandingBalance||0)},0);async function E(P){f("Saving...");try{v?.edit?await l(v.edit.investmentId,P):await a(P),u(v?.edit?"Investment updated":"Investment added"),x(null)}catch(O){u(O.message||"Failed to save investment","error")}finally{m()}}async function T(){if(v?.edit&&await h("Deactivate this investment?",{title:"Deactivate Investment",confirmLabel:"Deactivate"})){f("Deactivating...");try{await c(v.edit.investmentId),u("Investment deactivated"),x(null)}catch(P){u(P.message||"Failed to deactivate investment","error")}finally{m()}}}return s.jsxs("div",{className:"space-y-4",children:[b.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(XO,{size:32,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No other investments",t?` for ${t.memberName}`:""]}),s.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add an investment"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[s.jsx(Vu,{label:"Invested",value:Q(S)}),s.jsx(Vu,{label:"Current Value",value:Q(w),bold:!0}),s.jsx(Vu,{label:"P&L",value:`${C?"+":""}${Q(Math.abs(y))}`,sub:`${C?"+":""}${M.toFixed(1)}%`,positive:C,bold:!0}),_>0&&s.jsx(Vu,{label:"Linked Loans",value:Q(_),color:"rose"}),s.jsx(Vu,{label:"Holdings",value:b.length})]}),s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Pr,{size:14})," Add Investment"]})}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[720px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Investment"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Category"}),!t&&s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Loan"}),s.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),s.jsx("tbody",{children:b.map(P=>{const O=(P.currentValue||0)-(P.investedAmount||0),L=O>=0,R=P.linkedLiabilityId?A[P.linkedLiabilityId]:null;return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsxs("td",{className:"py-2.5 px-4",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:P.investmentName}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:P.investmentType})]}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${w_[P.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:P.investmentCategory})}),!t&&s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:P.familyMemberName}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(P.investedAmount)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(P.currentValue)}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:s.jsxs("span",{className:`text-xs font-semibold tabular-nums ${L?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L?"+":"",Q(O)]})}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:R?s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(R.outstandingBalance)}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:R.liabilityType})]}):s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),s.jsx("td",{className:"py-2.5 px-2",children:s.jsx("button",{onClick:()=>x({edit:P}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:s.jsx(ka,{size:12})})})]},P.investmentId)})})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(P=>{const O=(P.currentValue||0)-(P.investedAmount||0),L=O>=0,R=P.linkedLiabilityId?A[P.linkedLiabilityId]:null;return s.jsxs("div",{onClick:()=>x({edit:P}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:P.investmentName}),s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${w_[P.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:P.investmentCategory})]}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[P.familyMemberName,"  ",P.investmentType]}),s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Invested"}),s.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:Q(P.investedAmount)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Current"}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(P.currentValue)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"P&L"}),s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${L?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L?"+":"",Q(O)]})]})]}),R&&s.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-rose-500/5 rounded px-2 py-1",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:R.liabilityType}),s.jsx("span",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(R.outstandingBalance)})]})]},P.investmentId)})})]})]}),s.jsx(hr,{open:!!v,onClose:()=>x(null),title:v?.edit?"Edit Investment":"Add Investment",wide:!0,children:s.jsx(Kie,{initial:v?.edit||void 0,onSave:E,onDelete:v?.edit?T:void 0,onCancel:()=>x(null)})})]})}function Vu({label:e,value:t,sub:n,positive:r,bold:a,color:l}){const c=l==="rose"?"text-[var(--accent-rose)]":r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]";return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${c}`,children:t}),n&&s.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:n})]})}function Xie({initial:e,onSave:t,onDelete:n,onCancel:r}){const{activeMembers:a,activeInvestmentAccounts:l}=pt(),c=!!e,[u,f]=j.useState({portfolioName:(e?.portfolioName||"").replace(/^PFL-/,""),investmentAccountId:e?.investmentAccountId||"",ownerId:e?.ownerId||"",initialInvestment:e?.initialInvestment||0,sipTarget:e?.sipTarget||"",lumpsumTarget:e?.lumpsumTarget||"",rebalanceThreshold:e?e.rebalanceThreshold*100:5}),[m,h]=j.useState({}),[v,x]=j.useState(!1),[b,S]=j.useState(!1);function w(E,T){f(P=>({...P,[E]:T})),h(P=>({...P,[E]:void 0}))}function y(E){f(T=>({...T,ownerId:E,investmentAccountId:""})),h(T=>({...T,ownerId:void 0}))}const C=l.filter(E=>u.ownerId?E.memberId===u.ownerId:!0).map(E=>({value:E.accountId,label:`${E.accountName} - ${E.platformBroker}`})),M=a.map(E=>({value:E.memberId,label:`${E.memberName} (${E.relationship})`}));function A(){const E={};return u.portfolioName.trim()||(E.portfolioName="Required"),u.ownerId||(E.ownerId="Required"),u.investmentAccountId||(E.investmentAccountId="Required"),h(E),Object.keys(E).length===0}async function _(){if(A()){x(!0);try{const E=l.find(P=>P.accountId===u.investmentAccountId),T=E?`${E.accountName} - ${E.platformBroker}`:u.investmentAccountId;await t({...u,investmentAccount:T,initialInvestment:Number(u.initialInvestment)||0,sipTarget:Number(u.sipTarget)||0,lumpsumTarget:Number(u.lumpsumTarget)||0,rebalanceThreshold:Number(u.rebalanceThreshold)})}finally{x(!1)}}}return s.jsxs("div",{className:"space-y-5",children:[s.jsx(le,{label:"Portfolio Name",required:!0,error:m.portfolioName,children:s.jsx(ke,{value:u.portfolioName,onChange:E=>w("portfolioName",E),placeholder:"e.g., Long Term Wealth"})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Owner",required:!0,error:m.ownerId,children:s.jsx(We,{value:u.ownerId,onChange:y,options:M,placeholder:"Select member..."})}),s.jsx(le,{label:"Investment Account",required:!0,error:m.investmentAccountId,children:s.jsx(We,{value:u.investmentAccountId,onChange:E=>w("investmentAccountId",E),options:C,placeholder:u.ownerId?C.length?"Select account...":"No MF accounts":"Select owner first..."})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(le,{label:"SIP Target (/month)",children:s.jsx(ke,{type:"number",value:u.sipTarget,onChange:E=>w("sipTarget",E),placeholder:"e.g., 50000"})}),s.jsx(le,{label:"Lumpsum Target ()",children:s.jsx(ke,{type:"number",value:u.lumpsumTarget,onChange:E=>w("lumpsumTarget",E),placeholder:"e.g., 200000"})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-xs font-semibold text-[var(--text-muted)] whitespace-nowrap",children:"Rebalance Threshold"}),s.jsx("div",{className:"w-20 shrink-0",children:s.jsx("input",{type:"number",value:u.rebalanceThreshold,onChange:E=>w("rebalanceThreshold",E.target.value),placeholder:"5",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"})]}),!c&&s.jsx(le,{label:"Initial Investment ()",children:s.jsx(ke,{type:"number",value:u.initialInvestment,onChange:E=>w("initialInvestment",E),placeholder:"0 if unknown"})}),c&&n&&b&&s.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 bg-rose-500/10 border border-rose-500/20 rounded-lg",children:[s.jsx(Hs,{size:15,className:"text-rose-400 shrink-0"}),s.jsx("p",{className:"text-xs text-rose-300/90 flex-1",children:"This will deactivate the portfolio and hide it from views. Are you sure?"}),s.jsxs("div",{className:"flex gap-2 shrink-0",children:[s.jsx("button",{onClick:()=>S(!1),className:"px-2.5 py-1 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded transition-colors",children:"No"}),s.jsx("button",{onClick:n,className:"px-2.5 py-1 text-xs font-semibold text-white bg-rose-600 hover:bg-rose-500 rounded transition-colors",children:"Yes, Deactivate"})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 mt-4 border-t border-[var(--border-light)]",children:[c&&n?s.jsxs("button",{onClick:()=>S(!0),disabled:v,className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-amber-400 border border-amber-500/30 hover:bg-amber-500/15 hover:border-amber-500/50 rounded-lg transition-colors disabled:opacity-40",children:[s.jsx(Hs,{size:13}),"Deactivate"]}):s.jsx("div",{}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:r,disabled:v,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),s.jsxs("button",{onClick:_,disabled:v,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[v&&s.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),v?"Saving...":c?"Update":"Create Portfolio"]})]})]})]})}function Xi(e){return Array.isArray?Array.isArray(e):vI(e)==="[object Array]"}function Zie(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Jie(e){return e==null?"":Zie(e)}function Ja(e){return typeof e=="string"}function pI(e){return typeof e=="number"}function ese(e){return e===!0||e===!1||tse(e)&&vI(e)=="[object Boolean]"}function hI(e){return typeof e=="object"}function tse(e){return hI(e)&&e!==null}function Pn(e){return e!=null}function $b(e){return!e.trim().length}function vI(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const rse="Incorrect 'index' type",nse=e=>`Invalid value for key ${e}`,ase=e=>`Pattern length exceeds max of ${e}.`,ise=e=>`Missing ${e} property in key`,sse=e=>`Property 'weight' in key '${e}' must be a positive integer`,j_=Object.prototype.hasOwnProperty;class lse{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let a=xI(r);this._keys.push(a),this._keyMap[a.id]=a,n+=a.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function xI(e){let t=null,n=null,r=null,a=1,l=null;if(Ja(e)||Xi(e))r=e,t=N_(e),n=Xy(e);else{if(!j_.call(e,"name"))throw new Error(ise("name"));const c=e.name;if(r=c,j_.call(e,"weight")&&(a=e.weight,a<=0))throw new Error(sse(c));t=N_(c),n=Xy(c),l=e.getFn}return{path:t,id:n,weight:a,src:r,getFn:l}}function N_(e){return Xi(e)?e:e.split(".")}function Xy(e){return Xi(e)?e.join("."):e}function ose(e,t){let n=[],r=!1;const a=(l,c,u)=>{if(Pn(l))if(!c[u])n.push(l);else{let f=c[u];const m=l[f];if(!Pn(m))return;if(u===c.length-1&&(Ja(m)||pI(m)||ese(m)))n.push(Jie(m));else if(Xi(m)){r=!0;for(let h=0,v=m.length;h<v;h+=1)a(m[h],c,u+1)}else c.length&&a(m,c,u+1)}};return a(e,Ja(t)?t.split("."):t,0),r?n:n[0]}const cse={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},use={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},dse={location:0,threshold:.6,distance:100},fse={useExtendedSearch:!1,getFn:ose,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Ge={...use,...cse,...dse,...fse};const mse=/[^ ]+/g;function pse(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(a){const l=a.match(mse).length;if(n.has(l))return n.get(l);const c=1/Math.pow(l,.5*e),u=parseFloat(Math.round(c*r)/r);return n.set(l,u),u},clear(){n.clear()}}}class xj{constructor({getFn:t=Ge.getFn,fieldNormWeight:n=Ge.fieldNormWeight}={}){this.norm=pse(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ja(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();Ja(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!Pn(t)||$b(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((a,l)=>{let c=a.getFn?a.getFn(t):this.getFn(t,a.path);if(Pn(c)){if(Xi(c)){let u=[];const f=[{nestedArrIndex:-1,value:c}];for(;f.length;){const{nestedArrIndex:m,value:h}=f.pop();if(Pn(h))if(Ja(h)&&!$b(h)){let v={v:h,i:m,n:this.norm.get(h)};u.push(v)}else Xi(h)&&h.forEach((v,x)=>{f.push({nestedArrIndex:x,value:v})})}r.$[l]=u}else if(Ja(c)&&!$b(c)){let u={v:c,n:this.norm.get(c)};r.$[l]=u}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function gI(e,t,{getFn:n=Ge.getFn,fieldNormWeight:r=Ge.fieldNormWeight}={}){const a=new xj({getFn:n,fieldNormWeight:r});return a.setKeys(e.map(xI)),a.setSources(t),a.create(),a}function hse(e,{getFn:t=Ge.getFn,fieldNormWeight:n=Ge.fieldNormWeight}={}){const{keys:r,records:a}=e,l=new xj({getFn:t,fieldNormWeight:n});return l.setKeys(r),l.setIndexRecords(a),l}function qm(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:a=Ge.distance,ignoreLocation:l=Ge.ignoreLocation}={}){const c=t/e.length;if(l)return c;const u=Math.abs(r-n);return a?c+u/a:u?1:c}function vse(e=[],t=Ge.minMatchCharLength){let n=[],r=-1,a=-1,l=0;for(let c=e.length;l<c;l+=1){let u=e[l];u&&r===-1?r=l:!u&&r!==-1&&(a=l-1,a-r+1>=t&&n.push([r,a]),r=-1)}return e[l-1]&&l-r>=t&&n.push([r,l-1]),n}const Pl=32;function xse(e,t,n,{location:r=Ge.location,distance:a=Ge.distance,threshold:l=Ge.threshold,findAllMatches:c=Ge.findAllMatches,minMatchCharLength:u=Ge.minMatchCharLength,includeMatches:f=Ge.includeMatches,ignoreLocation:m=Ge.ignoreLocation}={}){if(t.length>Pl)throw new Error(ase(Pl));const h=t.length,v=e.length,x=Math.max(0,Math.min(r,v));let b=l,S=x;const w=u>1||f,y=w?Array(v):[];let C;for(;(C=e.indexOf(t,S))>-1;){let P=qm(t,{currentLocation:C,expectedLocation:x,distance:a,ignoreLocation:m});if(b=Math.min(P,b),S=C+h,w){let O=0;for(;O<h;)y[C+O]=1,O+=1}}S=-1;let M=[],A=1,_=h+v;const E=1<<h-1;for(let P=0;P<h;P+=1){let O=0,L=_;for(;O<L;)qm(t,{errors:P,currentLocation:x+L,expectedLocation:x,distance:a,ignoreLocation:m})<=b?O=L:_=L,L=Math.floor((_-O)/2+O);_=L;let R=Math.max(1,x-L+1),B=c?v:Math.min(x+L,v)+h,D=Array(B+2);D[B+1]=(1<<P)-1;for(let X=B;X>=R;X-=1){let Z=X-1,$=n[e.charAt(Z)];if(w&&(y[Z]=+!!$),D[X]=(D[X+1]<<1|1)&$,P&&(D[X]|=(M[X+1]|M[X])<<1|1|M[X+1]),D[X]&E&&(A=qm(t,{errors:P,currentLocation:Z,expectedLocation:x,distance:a,ignoreLocation:m}),A<=b)){if(b=A,S=Z,S<=x)break;R=Math.max(1,2*x-S)}}if(qm(t,{errors:P+1,currentLocation:x,expectedLocation:x,distance:a,ignoreLocation:m})>b)break;M=D}const T={isMatch:S>=0,score:Math.max(.001,A)};if(w){const P=vse(y,u);P.length?f&&(T.indices=P):T.isMatch=!1}return T}function gse(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const a=e.charAt(n);t[a]=(t[a]||0)|1<<r-n-1}return t}const Ch=String.prototype.normalize?(e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(e=>e);class bI{constructor(t,{location:n=Ge.location,threshold:r=Ge.threshold,distance:a=Ge.distance,includeMatches:l=Ge.includeMatches,findAllMatches:c=Ge.findAllMatches,minMatchCharLength:u=Ge.minMatchCharLength,isCaseSensitive:f=Ge.isCaseSensitive,ignoreDiacritics:m=Ge.ignoreDiacritics,ignoreLocation:h=Ge.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:a,includeMatches:l,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:f,ignoreDiacritics:m,ignoreLocation:h},t=f?t:t.toLowerCase(),t=m?Ch(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const v=(b,S)=>{this.chunks.push({pattern:b,alphabet:gse(b),startIndex:S})},x=this.pattern.length;if(x>Pl){let b=0;const S=x%Pl,w=x-S;for(;b<w;)v(this.pattern.substr(b,Pl),b),b+=Pl;if(S){const y=x-Pl;v(this.pattern.substr(y),y)}}else v(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:a}=this.options;if(t=n?t:t.toLowerCase(),t=r?Ch(t):t,this.pattern===t){let w={isMatch:!0,score:0};return a&&(w.indices=[[0,t.length-1]]),w}const{location:l,distance:c,threshold:u,findAllMatches:f,minMatchCharLength:m,ignoreLocation:h}=this.options;let v=[],x=0,b=!1;this.chunks.forEach(({pattern:w,alphabet:y,startIndex:C})=>{const{isMatch:M,score:A,indices:_}=xse(t,w,y,{location:l+C,distance:c,threshold:u,findAllMatches:f,minMatchCharLength:m,includeMatches:a,ignoreLocation:h});M&&(b=!0),x+=A,M&&_&&(v=[...v,..._])});let S={isMatch:b,score:b?x/this.chunks.length:1};return b&&a&&(S.indices=v),S}}class il{constructor(t){this.pattern=t}static isMultiMatch(t){return S_(t,this.multiRegex)}static isSingleMatch(t){return S_(t,this.singleRegex)}search(){}}function S_(e,t){const n=e.match(t);return n?n[1]:null}class bse extends il{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class yse extends il{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class wse extends il{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class jse extends il{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Nse extends il{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class Sse extends il{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class yI extends il{constructor(t,{location:n=Ge.location,threshold:r=Ge.threshold,distance:a=Ge.distance,includeMatches:l=Ge.includeMatches,findAllMatches:c=Ge.findAllMatches,minMatchCharLength:u=Ge.minMatchCharLength,isCaseSensitive:f=Ge.isCaseSensitive,ignoreDiacritics:m=Ge.ignoreDiacritics,ignoreLocation:h=Ge.ignoreLocation}={}){super(t),this._bitapSearch=new bI(t,{location:n,threshold:r,distance:a,includeMatches:l,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:f,ignoreDiacritics:m,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class wI extends il{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const a=[],l=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+l,a.push([r,n-1]);const c=!!a.length;return{isMatch:c,score:c?0:1,indices:a}}}const Zy=[bse,wI,wse,jse,Sse,Nse,yse,yI],C_=Zy.length,Cse=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Ase="|";function Mse(e,t={}){return e.split(Ase).map(n=>{let r=n.trim().split(Cse).filter(l=>l&&!!l.trim()),a=[];for(let l=0,c=r.length;l<c;l+=1){const u=r[l];let f=!1,m=-1;for(;!f&&++m<C_;){const h=Zy[m];let v=h.isMultiMatch(u);v&&(a.push(new h(v,t)),f=!0)}if(!f)for(m=-1;++m<C_;){const h=Zy[m];let v=h.isSingleMatch(u);if(v){a.push(new h(v,t));break}}}return a})}const kse=new Set([yI.type,wI.type]);class Dse{constructor(t,{isCaseSensitive:n=Ge.isCaseSensitive,ignoreDiacritics:r=Ge.ignoreDiacritics,includeMatches:a=Ge.includeMatches,minMatchCharLength:l=Ge.minMatchCharLength,ignoreLocation:c=Ge.ignoreLocation,findAllMatches:u=Ge.findAllMatches,location:f=Ge.location,threshold:m=Ge.threshold,distance:h=Ge.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:a,minMatchCharLength:l,findAllMatches:u,ignoreLocation:c,location:f,threshold:m,distance:h},t=n?t:t.toLowerCase(),t=r?Ch(t):t,this.pattern=t,this.query=Mse(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:a,ignoreDiacritics:l}=this.options;t=a?t:t.toLowerCase(),t=l?Ch(t):t;let c=0,u=[],f=0;for(let m=0,h=n.length;m<h;m+=1){const v=n[m];u.length=0,c=0;for(let x=0,b=v.length;x<b;x+=1){const S=v[x],{isMatch:w,indices:y,score:C}=S.search(t);if(w){if(c+=1,f+=C,r){const M=S.constructor.type;kse.has(M)?u=[...u,...y]:u.push(y)}}else{f=0,c=0,u.length=0;break}}if(c){let x={isMatch:!0,score:f/c};return r&&(x.indices=u),x}}return{isMatch:!1,score:1}}}const Jy=[];function Ese(...e){Jy.push(...e)}function e1(e,t){for(let n=0,r=Jy.length;n<r;n+=1){let a=Jy[n];if(a.condition(e,t))return new a(e,t)}return new bI(e,t)}const Ah={AND:"$and",OR:"$or"},t1={PATH:"$path",PATTERN:"$val"},r1=e=>!!(e[Ah.AND]||e[Ah.OR]),_se=e=>!!e[t1.PATH],Ose=e=>!Xi(e)&&hI(e)&&!r1(e),A_=e=>({[Ah.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function jI(e,t,{auto:n=!0}={}){const r=a=>{let l=Object.keys(a);const c=_se(a);if(!c&&l.length>1&&!r1(a))return r(A_(a));if(Ose(a)){const f=c?a[t1.PATH]:l[0],m=c?a[t1.PATTERN]:a[f];if(!Ja(m))throw new Error(nse(f));const h={keyId:Xy(f),pattern:m};return n&&(h.searcher=e1(m,t)),h}let u={children:[],operator:l[0]};return l.forEach(f=>{const m=a[f];Xi(m)&&m.forEach(h=>{u.children.push(r(h))})}),u};return r1(e)||(e=A_(e)),r(e)}function Tse(e,{ignoreFieldNorm:t=Ge.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:a,norm:l,score:c})=>{const u=a?a.weight:null;r*=Math.pow(c===0&&u?Number.EPSILON:c,(u||1)*(t?1:l))}),n.score=r})}function Pse(e,t){const n=e.matches;t.matches=[],Pn(n)&&n.forEach(r=>{if(!Pn(r.indices)||!r.indices.length)return;const{indices:a,value:l}=r;let c={indices:a,value:l};r.key&&(c.key=r.key.src),r.idx>-1&&(c.refIndex=r.idx),t.matches.push(c)})}function Ise(e,t){t.score=e.score}function Rse(e,t,{includeMatches:n=Ge.includeMatches,includeScore:r=Ge.includeScore}={}){const a=[];return n&&a.push(Pse),r&&a.push(Ise),e.map(l=>{const{idx:c}=l,u={item:t[c],refIndex:c};return a.length&&a.forEach(f=>{f(l,u)}),u})}class Lc{constructor(t,n={},r){this.options={...Ge,...n},this.options.useExtendedSearch,this._keyStore=new lse(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof xj))throw new Error(rse);this._myIndex=n||gI(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Pn(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,a=this._docs.length;r<a;r+=1){const l=this._docs[r];t(l,r)&&(this.removeAt(r),r-=1,a-=1,n.push(l))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:a,shouldSort:l,sortFn:c,ignoreFieldNorm:u}=this.options;let f=Ja(t)?Ja(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Tse(f,{ignoreFieldNorm:u}),l&&f.sort(c),pI(n)&&n>-1&&(f=f.slice(0,n)),Rse(f,this._docs,{includeMatches:r,includeScore:a})}_searchStringList(t){const n=e1(t,this.options),{records:r}=this._myIndex,a=[];return r.forEach(({v:l,i:c,n:u})=>{if(!Pn(l))return;const{isMatch:f,score:m,indices:h}=n.searchIn(l);f&&a.push({item:l,idx:c,matches:[{score:m,value:l,norm:u,indices:h}]})}),a}_searchLogical(t){const n=jI(t,this.options),r=(u,f,m)=>{if(!u.children){const{keyId:v,searcher:x}=u,b=this._findMatches({key:this._keyStore.get(v),value:this._myIndex.getValueForItemAtKeyId(f,v),searcher:x});return b&&b.length?[{idx:m,item:f,matches:b}]:[]}const h=[];for(let v=0,x=u.children.length;v<x;v+=1){const b=u.children[v],S=r(b,f,m);if(S.length)h.push(...S);else if(u.operator===Ah.AND)return[]}return h},a=this._myIndex.records,l={},c=[];return a.forEach(({$:u,i:f})=>{if(Pn(u)){let m=r(n,u,f);m.length&&(l[f]||(l[f]={idx:f,item:u,matches:[]},c.push(l[f])),m.forEach(({matches:h})=>{l[f].matches.push(...h)}))}}),c}_searchObjectList(t){const n=e1(t,this.options),{keys:r,records:a}=this._myIndex,l=[];return a.forEach(({$:c,i:u})=>{if(!Pn(c))return;let f=[];r.forEach((m,h)=>{f.push(...this._findMatches({key:m,value:c[h],searcher:n}))}),f.length&&l.push({idx:u,item:c,matches:f})}),l}_findMatches({key:t,value:n,searcher:r}){if(!Pn(n))return[];let a=[];if(Xi(n))n.forEach(({v:l,i:c,n:u})=>{if(!Pn(l))return;const{isMatch:f,score:m,indices:h}=r.searchIn(l);f&&a.push({score:m,key:t,value:l,idx:c,norm:u,indices:h})});else{const{v:l,n:c}=n,{isMatch:u,score:f,indices:m}=r.searchIn(l);u&&a.push({score:f,key:t,value:l,norm:c,indices:m})}return a}}Lc.version="7.1.0";Lc.createIndex=gI;Lc.parseIndex=hse;Lc.config=Ge;Lc.parseQuery=jI;Ese(Dse);let ha=null,Gu=null;function Lse(e){if(!e)return!1;const t=new Date(e),n=new Date;return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()}function zse(){return ha?Promise.resolve(ha):Gu||(Gu=nF("fundsList").then(e=>e&&Array.isArray(e.data)&&Lse(e.updatedAt)?(ha=e.data,ha):Oz().then(t=>(ha=Array.isArray(t)?t:[],hn("fundsList",ha),ha))).catch(()=>(Gu=null,[])),Gu)}function gj({value:e,onSelect:t,placeholder:n,disabled:r}){const[a,l]=j.useState(""),[c,u]=j.useState(ha||[]),[f,m]=j.useState(!ha),[h,v]=j.useState(!1),x=j.useRef(null);j.useEffect(()=>{if(ha){u(ha),m(!1);return}zse().then(M=>{u(M),m(!1)})},[]),j.useEffect(()=>{function M(A){x.current&&!x.current.contains(A.target)&&v(!1)}return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const b=j.useMemo(()=>c.length?new Lc(c,{keys:["fundName"],threshold:.3,distance:50,minMatchCharLength:2,includeScore:!0,ignoreLocation:!1,findAllMatches:!0}):null,[c]),S=j.useMemo(()=>!b||a.length<2?[]:b.search(a).slice(0,50).map(M=>M.item),[b,a]);function w(M){l(M),v(M.length>=2)}function y(M){t({schemeCode:M.fundCode||M.schemeCode,fundName:M.fundName,nav:M.nav,navDate:M.navDate}),l(""),v(!1)}function C(){t({schemeCode:"",fundName:"",nav:0,navDate:""}),l("")}return e?.fundName?s.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate",children:e.fundName}),s.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e.schemeCode}),e.nav>0&&s.jsxs("span",{className:"text-xs font-medium text-emerald-400",children:["NAV: ",e.nav.toFixed(2),e.navDate?` (${e.navDate})`:""]})]})]}),s.jsx("button",{type:"button",onClick:C,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:s.jsx(Us,{size:14})})]}):s.jsxs("div",{ref:x,className:"relative",children:[s.jsxs("div",{className:"relative",children:[f?s.jsx(KO,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400 animate-spin"}):s.jsx(JO,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),s.jsx("input",{type:"text",value:a,onChange:M=>w(M.target.value),onFocus:()=>a.length>=2&&v(!0),placeholder:f?"Loading funds...":n||"Search fund name...",disabled:r||f,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),h&&S.length>0&&s.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:S.map(M=>s.jsxs("button",{type:"button",onClick:()=>y(M),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:M.fundName}),s.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:M.fundCode||M.schemeCode}),M.nav>0&&s.jsxs("span",{className:"text-xs text-emerald-400 tabular-nums",children:["NAV: ",M.nav.toFixed(2),M.navDate?` (${M.navDate})`:""]})]})]},M.fundCode||M.schemeCode))}),h&&a.length>=2&&S.length===0&&!f&&s.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No funds found for "',a,'"']})})]})}const Fse=[{value:"INITIAL",label:"Add Existing Holdings"},{value:"SIP",label:"SIP Investment"},{value:"LUMPSUM",label:"Lumpsum Investment"}];function Bse({portfolioId:e,fundCode:t,fundName:n,transactionType:r,onSave:a,onCancel:l}){const{mfPortfolios:c,mfHoldings:u}=pt(),{selectedMember:f}=Yr(),m=j.useMemo(()=>{const D=c.filter(K=>K.status==="Active");return f==="all"?D:D.filter(K=>K.ownerId===f)},[c,f]),[h,v]=j.useState({portfolioId:e||"",fundCode:t||"",fundName:n||"",nav:0,navDate:"",transactionType:r||"SIP",date:new Date().toISOString().split("T")[0],units:"",price:"",notes:""}),[x,b]=j.useState({}),[S,w]=j.useState(!1),[y,C]=j.useState(!t);function M(D,K){v(X=>({...X,[D]:K})),b(X=>({...X,[D]:void 0}))}function A({schemeCode:D,fundName:K,nav:X,navDate:Z}){v($=>({...$,fundCode:D,fundName:K,nav:X||0,navDate:Z||"",price:X>0?String(X):$.price})),b($=>({...$,fundCode:void 0,fundName:void 0})),C(!1)}function _(D){v(K=>({...K,fundCode:D.schemeCode,fundName:D.fundName,nav:D.currentNav||0,navDate:"",price:D.currentNav>0?String(D.currentNav):K.price})),b(K=>({...K,fundCode:void 0})),C(!1)}const E=j.useMemo(()=>h.portfolioId?u.filter(D=>D.portfolioId===h.portfolioId).sort((D,K)=>K.currentValue-D.currentValue):[],[u,h.portfolioId]),T=j.useMemo(()=>!h.portfolioId||!h.fundCode?null:u.find(D=>D.portfolioId===h.portfolioId&&D.schemeCode===h.fundCode),[u,h.portfolioId,h.fundCode]),P=h.fundCode&&!T,O=j.useMemo(()=>(Number(h.units)||0)*(Number(h.price)||0),[h.units,h.price]);function L(){const D={};return h.portfolioId||(D.portfolioId="Required"),h.fundCode||(D.fundCode="Select a fund"),h.date||(D.date="Required"),(!h.units||Number(h.units)<=0)&&(D.units="Must be > 0"),(!h.price||Number(h.price)<=0)&&(D.price="Must be > 0"),b(D),Object.keys(D).length===0}async function R(){if(L()){w(!0);try{await a({portfolioId:h.portfolioId,fundCode:h.fundCode,fundName:h.fundName,transactionType:h.transactionType,purchaseDate:h.date,units:h.units,avgPrice:h.price,notes:h.notes})}finally{w(!1)}}}const B=m.map(D=>{const K=D.portfolioName?.replace(/^PFL-/,"")||D.portfolioName,X=D.ownerName?`${K} (${D.ownerName})`:K;return{value:D.portfolioId,label:X}});return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Portfolio",required:!0,error:x.portfolioId,children:s.jsx(We,{value:h.portfolioId,onChange:D=>{M("portfolioId",D),t||(M("fundCode",""),M("fundName",""),C(!1))},options:B,placeholder:"Select portfolio..."})}),s.jsx(le,{label:"Transaction Type",required:!0,children:s.jsx(We,{value:h.transactionType,onChange:D=>M("transactionType",D),options:Fse})})]}),s.jsx(le,{label:"Fund",required:!0,error:x.fundCode,children:h.fundCode&&!y?s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:h.fundName}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[h.fundCode,h.nav>0&&s.jsxs("span",{className:"ml-2 text-emerald-400",children:["NAV: ",h.nav.toFixed(2)]})]})]}),s.jsx("button",{type:"button",onClick:()=>{M("fundCode",""),M("fundName",""),C(!0)},className:"text-xs text-[var(--text-muted)] hover:text-[var(--text-primary)] underline shrink-0",children:"Change"})]}):s.jsxs("div",{className:"space-y-3",children:[E.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5",children:"Portfolio Funds"}),s.jsx("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] overflow-hidden max-h-44 overflow-y-auto",children:E.map(D=>s.jsxs("button",{type:"button",onClick:()=>_(D),className:"w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-[var(--bg-hover)] border-b border-[var(--border-light)] last:border-b-0 transition-colors group",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate group-hover:text-white transition-colors",children:D.fundName}),s.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:D.units>0?`${D.units.toFixed(0)} units  ${Q(D.currentValue)}`:"Planned"})]}),s.jsx(Ga,{size:12,className:"text-[var(--text-dim)] -rotate-90 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity"})]},D.holdingId))})]}),s.jsxs("div",{children:[E.length>0&&s.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5 flex items-center gap-1",children:[s.jsx(JO,{size:10})," Or search new fund"]}),s.jsx(gj,{value:null,onSelect:A,placeholder:"Search fund by name or code..."})]})]})}),T&&s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  will average out"}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:T.units.toFixed(2)})," units @ ",T.avgNav.toFixed(2)," avg NAV | Value: ",Q(T.currentValue),T.targetAllocationPct>0&&s.jsxs("span",{children:["  Target: ",T.targetAllocationPct.toFixed(1),"%"]})]})]}),P&&s.jsxs("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:[s.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"}),s.jsx("p",{className:"text-xs text-violet-300/70 mt-0.5",children:"Use Allocations to plan how much to invest before buying"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(le,{label:"Date",required:!0,error:x.date,children:s.jsx(ni,{value:h.date,onChange:D=>M("date",D)})}),s.jsx(le,{label:"Units",required:!0,error:x.units,children:s.jsx(ke,{type:"number",value:h.units,onChange:D=>M("units",D),placeholder:"e.g., 150.50"})}),s.jsx(le,{label:"NAV ()",required:!0,error:x.price,children:s.jsx(ke,{type:"number",value:h.price,onChange:D=>M("price",D),placeholder:"e.g., 178.45"})})]}),O>0&&s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(O)}),T&&s.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:["New avg NAV: ",((T.investment+O)/(T.units+Number(h.units))).toFixed(2)," Total units: ",(T.units+Number(h.units)).toFixed(2)]})]}),s.jsx(le,{label:"Notes",children:s.jsx(ke,{value:h.notes,onChange:D=>M("notes",D),placeholder:"Optional notes..."})}),s.jsx(an,{onCancel:l,onSubmit:R,submitLabel:h.transactionType==="SIP"?"Record SIP":h.transactionType==="LUMPSUM"?"Record Lumpsum":"Add Holdings",loading:S})]})}function $se({portfolioId:e,fundCode:t,onSave:n,onCancel:r}){const{mfPortfolios:a,mfHoldings:l}=pt(),{selectedMember:c}=Yr(),u=j.useMemo(()=>{const R=a.filter(B=>B.status==="Active");return c==="all"?R:R.filter(B=>B.ownerId===c)},[a,c]),f=j.useMemo(()=>!e||!t?null:l.find(R=>R.portfolioId===e&&R.schemeCode===t),[l,e,t]),[m,h]=j.useState({portfolioId:e||"",fundCode:t||"",fundName:f?.fundName||"",date:new Date().toISOString().split("T")[0],units:"",price:f?.currentNav>0?String(f.currentNav):"",notes:""}),[v,x]=j.useState({}),[b,S]=j.useState(!1);function w(R,B){h(D=>({...D,[R]:B})),x(D=>({...D,[R]:void 0}))}const y=j.useMemo(()=>m.portfolioId?l.filter(R=>R.portfolioId===m.portfolioId&&R.units>0):[],[l,m.portfolioId]),C=y.find(R=>R.schemeCode===m.fundCode);function M(R){const B=y.find(D=>D.schemeCode===R);h(D=>({...D,fundCode:R,fundName:B?.fundName||"",price:B?.currentNav?.toString()||""})),x(D=>({...D,fundCode:void 0}))}function A(R){h(B=>({...B,portfolioId:R,fundCode:"",fundName:"",units:"",price:""})),x(B=>({...B,portfolioId:void 0}))}const _=j.useMemo(()=>(Number(m.units)||0)*(Number(m.price)||0),[m.units,m.price]),E=C?_-Number(m.units)*C.avgNav:0;function T(){const R={};return m.portfolioId||(R.portfolioId="Required"),m.fundCode||(R.fundCode="Required"),m.date||(R.date="Required"),(!m.units||Number(m.units)<=0)&&(R.units="Must be > 0"),C&&Number(m.units)>C.units&&(R.units=`Max ${C.units.toFixed(2)} units`),(!m.price||Number(m.price)<=0)&&(R.price="Must be > 0"),x(R),Object.keys(R).length===0}async function P(){if(T()){S(!0);try{await n(m)}finally{S(!1)}}}const O=u.map(R=>{const B=R.portfolioName?.replace(/^PFL-/,"")||R.portfolioName,D=R.ownerName?`${B} (${R.ownerName})`:B;return{value:R.portfolioId,label:D}}),L=y.map(R=>({value:R.schemeCode,label:`${R.fundName}  ${R.units.toFixed(0)} units  ${Q(R.currentValue)}`}));return s.jsxs("div",{className:"space-y-4",children:[s.jsx(le,{label:"Portfolio",required:!0,error:v.portfolioId,children:s.jsx(We,{value:m.portfolioId,onChange:A,options:O,placeholder:"Select portfolio..."})}),s.jsx(le,{label:"Fund to Redeem",required:!0,error:v.fundCode,children:s.jsx(We,{value:m.fundCode,onChange:M,options:L,placeholder:m.portfolioId?y.length?"Select fund...":"No holdings":"Select portfolio first..."})}),C&&s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:C.fundName}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:C.units.toFixed(2)})," units @ ",C.avgNav.toFixed(2)," avg | Current NAV: ",C.currentNav.toFixed(2)]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(le,{label:"Date",required:!0,error:v.date,children:s.jsx(ni,{value:m.date,onChange:R=>w("date",R)})}),s.jsx(le,{label:"Units",required:!0,error:v.units,children:s.jsx(ke,{type:"number",value:m.units,onChange:R=>w("units",R),placeholder:C?`Max: ${C.units.toFixed(2)}`:""})}),s.jsx(le,{label:"NAV ()",required:!0,error:v.price,children:s.jsx(ke,{type:"number",value:m.price,onChange:R=>w("price",R),placeholder:"e.g., 178.45"})})]}),_>0&&s.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Redemption Amount"}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(_)})]}),C&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),s.jsxs("p",{className:`text-sm font-bold tabular-nums ${E>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[E>=0?"+":"",Q(E)]})]})]})}),s.jsx(le,{label:"Notes",children:s.jsx(ke,{value:m.notes,onChange:R=>w("notes",R),placeholder:"Optional notes..."})}),s.jsx(an,{onCancel:r,onSubmit:P,submitLabel:"Redeem",loading:b})]})}function qse({portfolioId:e,onSave:t,onCancel:n}){const{mfPortfolios:r,mfHoldings:a}=pt(),{selectedMember:l}=Yr(),c=j.useMemo(()=>{const D=r.filter(K=>K.status==="Active");return l==="all"?D:D.filter(K=>K.ownerId===l)},[r,l]),[u,f]=j.useState({portfolioId:e||"",fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",date:new Date().toISOString().split("T")[0],units:"",fromPrice:"",toPrice:"",targetAllocation:"",notes:""}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(D,K){f(X=>({...X,[D]:K})),h(X=>({...X,[D]:void 0}))}function S(D){f(K=>({...K,portfolioId:D,fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",units:"",fromPrice:"",toPrice:"",targetAllocation:""})),h(K=>({...K,portfolioId:void 0}))}const w=j.useMemo(()=>u.portfolioId?a.filter(D=>D.portfolioId===u.portfolioId&&D.units>0):[],[a,u.portfolioId]),y=w.find(D=>D.schemeCode===u.fromFundCode),C=j.useMemo(()=>!u.portfolioId||!u.toFundCode?null:a.find(D=>D.portfolioId===u.portfolioId&&D.schemeCode===u.toFundCode),[a,u.portfolioId,u.toFundCode]),M=u.toFundCode&&!C;function A(D){const K=w.find(X=>X.schemeCode===D);f(X=>({...X,fromFundCode:D,fromFundName:K?.fundName||"",fromPrice:K?.currentNav?.toString()||""})),h(X=>({...X,fromFundCode:void 0}))}function _({schemeCode:D,fundName:K}){const X=a.find(Z=>Z.portfolioId===u.portfolioId&&Z.schemeCode===D);f(Z=>({...Z,toFundCode:D,toFundName:K,toPrice:X?.currentNav?.toString()||Z.toPrice,targetAllocation:""})),h(Z=>({...Z,toFundCode:void 0}))}const E=j.useMemo(()=>(Number(u.units)||0)*(Number(u.fromPrice)||0),[u.units,u.fromPrice]),T=E>0&&Number(u.toPrice)>0?E/Number(u.toPrice):0,P=y?E-Number(u.units)*y.avgNav:0;function O(){const D={};return u.portfolioId||(D.portfolioId="Required"),u.fromFundCode||(D.fromFundCode="Required"),u.toFundCode||(D.toFundCode="Required"),u.fromFundCode&&u.toFundCode&&u.fromFundCode===u.toFundCode&&(D.toFundCode="Must be different from source fund"),u.date||(D.date="Required"),(!u.units||Number(u.units)<=0)&&(D.units="Must be > 0"),y&&Number(u.units)>y.units&&(D.units=`Max ${y.units.toFixed(2)} units`),(!u.fromPrice||Number(u.fromPrice)<=0)&&(D.fromPrice="Must be > 0"),(!u.toPrice||Number(u.toPrice)<=0)&&(D.toPrice="Must be > 0"),h(D),Object.keys(D).length===0}async function L(){if(O()){x(!0);try{await t(u)}finally{x(!1)}}}const R=c.map(D=>{const K=D.portfolioName?.replace(/^PFL-/,"")||D.portfolioName,X=D.ownerName?`${K} (${D.ownerName})`:K;return{value:D.portfolioId,label:X}}),B=w.map(D=>({value:D.schemeCode,label:D.fundName}));return s.jsxs("div",{className:"space-y-4",children:[s.jsx(le,{label:"Portfolio",required:!0,error:m.portfolioId,children:s.jsx(We,{value:u.portfolioId,onChange:S,options:R,placeholder:"Select portfolio..."})}),s.jsx(le,{label:"Switch From (Sell)",required:!0,error:m.fromFundCode,children:s.jsx(We,{value:u.fromFundCode,onChange:A,options:B,placeholder:u.portfolioId?w.length?"Select fund to switch from...":"No holdings":"Select portfolio first..."})}),y&&s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:y.fundName}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:y.units.toFixed(2)})," units @ ",y.avgNav.toFixed(2)," avg | Current NAV: ",y.currentNav.toFixed(2)]})]}),s.jsx(le,{label:"Switch To (Buy)",required:!0,error:m.toFundCode,children:s.jsx(gj,{value:u.toFundCode?{schemeCode:u.toFundCode,fundName:u.toFundName}:null,onSelect:_,placeholder:"Search fund to switch into...",disabled:!u.portfolioId})}),C&&s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  units will be added, NAV averaged out"}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:C.units.toFixed(2)})," units @ ",C.avgNav.toFixed(2)," avg | Alloc: ",C.targetAllocationPct.toFixed(1),"%"]})]}),M&&u.toFundCode&&s.jsx("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:s.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Switch Date",required:!0,error:m.date,children:s.jsx(ni,{value:u.date,onChange:D=>b("date",D)})}),s.jsx(le,{label:"Units to Switch",required:!0,error:m.units,children:s.jsx(ke,{type:"number",value:u.units,onChange:D=>b("units",D),placeholder:y?`Max: ${y.units.toFixed(2)}`:""})})]}),s.jsxs("div",{className:`grid grid-cols-1 ${M?"sm:grid-cols-3":"sm:grid-cols-2"} gap-4`,children:[s.jsx(le,{label:"From Fund NAV ()",required:!0,error:m.fromPrice,children:s.jsx(ke,{type:"number",value:u.fromPrice,onChange:D=>b("fromPrice",D),placeholder:"e.g., 178.45"})}),s.jsx(le,{label:"To Fund NAV ()",required:!0,error:m.toPrice,children:s.jsx(ke,{type:"number",value:u.toPrice,onChange:D=>b("toPrice",D),placeholder:"e.g., 82.10"})}),M&&s.jsx(le,{label:"Target Allocation (%)",children:s.jsx(ke,{type:"number",value:u.targetAllocation,onChange:D=>b("targetAllocation",D),placeholder:"e.g., 20"})})]}),E>0&&s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Switch Amount"}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(E)})]}),T>0&&s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Units Bought"}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:T.toFixed(4)})]}),y&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),s.jsxs("p",{className:`text-sm font-bold tabular-nums ${P>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[P>=0?"+":"",Q(P)]})]})]}),C&&T>0&&s.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1 border-t border-[var(--border-light)] pt-1",children:["New total: ",(C.units+T).toFixed(2)," units  New avg NAV: ",((C.investment+E)/(C.units+T)).toFixed(2)]})]}),s.jsx(le,{label:"Notes",children:s.jsx(ke,{value:u.notes,onChange:D=>b("notes",D),placeholder:"Optional notes..."})}),s.jsx(an,{onCancel:n,onSubmit:L,submitLabel:"Switch Funds",loading:v})]})}function Hse({portfolioId:e,onSave:t,onCancel:n}){const{mfHoldings:r,mfPortfolios:a}=pt(),l=a.find(O=>O.portfolioId===e),c=j.useMemo(()=>r.filter(O=>O.portfolioId===e),[r,e]),[u,f]=j.useState(()=>c.map(O=>({schemeCode:O.schemeCode,fundName:O.fundName,units:O.units,currentValue:O.currentValue,currentAllocationPct:O.currentAllocationPct,targetAllocationPct:O.targetAllocationPct,isNew:!1}))),[m,h]=j.useState(null),[v,x]=j.useState(""),[b,S]=j.useState(""),[w,y]=j.useState(!1),C=u.reduce((O,L)=>O+L.targetAllocationPct,0),M=u.reduce((O,L)=>O+L.currentValue,0);function A(O,L){f(R=>R.map(B=>B.schemeCode===O?{...B,targetAllocationPct:Number(L)||0}:B)),S("")}function _(O){const L=u.find(R=>R.schemeCode===O);L&&L.units>0||f(R=>R.filter(B=>B.schemeCode!==O))}function E(){if(m){if(u.find(O=>O.schemeCode===m.schemeCode)){S("Fund already exists in portfolio");return}f(O=>[...O,{schemeCode:m.schemeCode,fundName:m.fundName,units:0,currentValue:0,currentAllocationPct:0,targetAllocationPct:Number(v)||0,isNew:!0}]),h(null),x(""),S("")}}async function T(){if(C>100){S(`Total allocation is ${C.toFixed(1)}%  must be  100%`);return}y(!0);try{await t(u.map(O=>({schemeCode:O.schemeCode,fundName:O.fundName,targetAllocationPct:O.targetAllocationPct,isNew:O.isNew})))}finally{y(!1)}}const P=l?.sipTarget||0;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:l?.portfolioName}),s.jsx("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] mt-0.5 flex-wrap",children:s.jsxs("span",{children:["Current Value: ",s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:Q(M)})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[s.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Units"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Current %"}),s.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Target %"}),s.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold w-8"})]})}),s.jsx("tbody",{children:u.map(O=>{const L=O.isNew&&O.targetAllocationPct>0&&O.targetAllocationPct<100&&M>0?O.targetAllocationPct/(100-O.targetAllocationPct)*M:0,R=O.isNew&&O.targetAllocationPct>0&&P>=100?O.targetAllocationPct/100*P:0;return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[s.jsxs("td",{className:"py-2 px-2",children:[s.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight max-w-[200px] truncate",children:O.fundName}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[O.schemeCode,O.isNew&&s.jsx("span",{className:"text-violet-400 ml-1",children:"(new)"})]}),(L>0||R>0)&&s.jsxs("p",{className:"text-xs text-blue-400 mt-0.5",children:["Invest: ",L>0&&s.jsx("span",{className:"font-semibold",children:Q(L)}),L>0&&R>0&&"  ",R>0&&s.jsxs("span",{className:"font-semibold",children:[Q(R),"/mo SIP"]})]})]}),s.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:O.units.toFixed(2)}),s.jsxs("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:[O.currentAllocationPct.toFixed(1),"%"]}),s.jsx("td",{className:"py-2 px-2",children:s.jsx("input",{type:"number",value:O.targetAllocationPct,onChange:B=>A(O.schemeCode,B.target.value),className:"w-20 mx-auto block bg-[var(--bg-inset)] border border-[var(--border)] rounded px-2 py-1 text-xs text-center text-[var(--text-primary)] focus:outline-none focus:border-violet-500/50"})}),s.jsx("td",{className:"py-2 px-2 text-center",children:O.units===0&&s.jsx("button",{onClick:()=>_(O.schemeCode),className:"p-1 rounded hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors",children:s.jsx(_h,{size:12})})})]},O.schemeCode)})}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t border-[var(--border)]",children:[s.jsx("td",{className:"py-2 px-2 text-xs font-bold text-[var(--text-primary)]",children:"Total"}),s.jsx("td",{}),s.jsxs("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[u.reduce((O,L)=>O+L.currentAllocationPct,0).toFixed(1),"%"]}),s.jsx("td",{className:"py-2 px-2 text-center",children:s.jsxs("span",{className:`text-xs font-bold tabular-nums ${C>100?"text-[var(--accent-rose)]":C===100?"text-emerald-400":"text-amber-400"}`,children:[C.toFixed(1),"%"]})}),s.jsx("td",{})]})})]})}),s.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider mb-1",children:"Add New Fund"}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Set target % to see how much to invest. After buying, use Invest to record the transaction."}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(gj,{value:m,onSelect:O=>h(O.schemeCode?O:null),placeholder:"Search fund to add..."}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-28",children:s.jsx("input",{type:"number",value:v,onChange:O=>x(O.target.value),placeholder:"Target %",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),s.jsxs("button",{onClick:E,disabled:!m,className:"flex items-center gap-1 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[s.jsx(Pr,{size:14})," Add"]})]})]})]})]}),b&&s.jsx("p",{className:"text-xs text-[var(--accent-rose)] font-medium",children:b}),s.jsx(an,{onCancel:n,onSubmit:T,submitLabel:"Save Allocations",loading:w})]})}const qb=["Equity","Debt","Cash","Commodities","Real Estate","Other"],Hb=["Giant","Large","Mid","Small","Micro"],Ub=["India","Global"];function Use({fund:e,initial:t,onSave:n,onCancel:r}){const[a,l]=j.useState(()=>{const E={};return qb.forEach(T=>{E[T]=t?.assetAllocation?.[T]||0}),t?.assetAllocation&&Object.keys(t.assetAllocation).forEach(T=>{T in E||(E[T]=t.assetAllocation[T])}),E}),[c,u]=j.useState(()=>{const E={};return Hb.forEach(T=>{E[T]=t?.equityAllocation?.[T]||0}),t?.equityAllocation&&Object.keys(t.equityAllocation).forEach(T=>{T in E||(E[T]=t.equityAllocation[T])}),E}),[f,m]=j.useState(()=>{const E={};return Ub.forEach(T=>{E[T]=t?.geoAllocation?.[T]||0}),t?.geoAllocation&&Object.keys(t.geoAllocation).forEach(T=>{T in E||(E[T]=t.geoAllocation[T])}),E}),[h,v]=j.useState(!1),x=Object.values(a).reduce((E,T)=>E+T,0),b=Object.values(c).reduce((E,T)=>E+T,0),S=Object.values(f).reduce((E,T)=>E+T,0),w=a.Equity||0,y=x===100||x===0,C=b===100||b===0||w===0,M=S===100||S===0||w===0,A=y&&C&&M;async function _(){if(A){v(!0);try{const E={fundCode:e.fundCode,fundName:e.fundName,equity:a.Equity||0,debt:a.Debt||0,cash:a.Cash||0,commodities:a.Commodities||0,realEstate:a["Real Estate"]||0,customAsset:{},giantCap:c.Giant||0,largeCap:c.Large||0,midCap:c.Mid||0,smallCap:c.Small||0,microCap:c.Micro||0,customCap:{},geoIndia:f.India||0,geoGlobal:f.Global||0,customGeo:{}};Object.entries(a).forEach(([T,P])=>{!qb.includes(T)&&P>0&&(E.customAsset[T]=P)}),Object.entries(c).forEach(([T,P])=>{!Hb.includes(T)&&P>0&&(E.customCap[T]=P)}),Object.entries(f).forEach(([T,P])=>{!Ub.includes(T)&&P>0&&(E.customGeo[T]=P)}),await n(E)}finally{v(!1)}}}return s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-2.5",children:[s.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)] truncate",children:e.fundName}),s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:e.fundCode})]}),s.jsx(Yb,{title:"Asset Class %",fields:a,setFields:l,standardKeys:qb,total:x,valid:y}),w>0&&s.jsx(Yb,{title:"Market Cap %",subtitle:"Equity breakdown",fields:c,setFields:u,standardKeys:Hb,total:b,valid:C}),w>0&&s.jsx(Yb,{title:"Geography %",fields:f,setFields:m,standardKeys:Ub,total:S,valid:M}),s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-3 border-t border-[var(--border-light)]",children:[s.jsx("button",{onClick:r,disabled:h,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),s.jsxs("button",{onClick:_,disabled:h||!A,className:"flex items-center gap-1.5 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:[h?s.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):s.jsx(ZO,{size:12}),h?"Saving...":"Save"]})]})]})}function Yb({title:e,subtitle:t,fields:n,setFields:r,standardKeys:a,total:l,valid:c}){const[u,f]=j.useState(!1),[m,h]=j.useState("");function v(w,y){r(C=>({...C,[w]:Number(y)||0}))}function x(){const w=m.trim();!w||w in n||(r(y=>({...y,[w]:0})),h(""),f(!1))}function b(w){r(y=>{const C={...y};return delete C[w],C})}const S=Object.keys(n);return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider",children:e}),t&&s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["(",t,")"]})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-1.5",children:S.map(w=>{const y=!a.includes(w);return s.jsxs("div",{className:"relative",children:[s.jsxs("label",{className:"block text-[10px] text-[var(--text-dim)] mb-0.5 flex items-center gap-1",children:[w,y&&s.jsx("button",{onClick:()=>b(w),className:"text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:s.jsx(Us,{size:8})})]}),s.jsx("input",{type:"number",min:"0",max:"100",value:n[w]||"",onChange:C=>v(w,C.target.value),className:"w-[72px] px-1.5 py-1 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md tabular-nums text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})]},w)})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:`text-[10px] tabular-nums ${c?"text-[var(--text-dim)]":"text-[var(--accent-rose)] font-semibold"}`,children:["Total: ",l,"% ",!c&&" must equal 100%",c&&l===100&&s.jsx("span",{className:"text-emerald-400 ml-1",children:""})]}),u?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("input",{autoFocus:!0,value:m,onChange:w=>h(w.target.value),onKeyDown:w=>{w.key==="Enter"&&x(),w.key==="Escape"&&f(!1)},placeholder:"Field name",className:"w-24 px-1.5 py-0.5 text-[10px] bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md focus:outline-none focus:border-[var(--sidebar-active-text)]"}),s.jsx("button",{onClick:x,className:"text-[10px] font-semibold text-emerald-400 hover:text-emerald-300",children:"Add"}),s.jsx("button",{onClick:()=>{f(!1),h("")},className:"text-[10px] text-[var(--text-dim)] hover:text-[var(--text-primary)]",children:s.jsx(Us,{size:10})})]}):s.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-0.5 text-[10px] font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[s.jsx(Pr,{size:10})," Add Field"]})]})]})}const Hm=e=>e?.replace(/^PFL-/,"")||e;function Yse(e){if(!e)return"Other";const t=e.toLowerCase();return t.includes("gold")||t.includes("silver")||t.includes("commodity")?"Commodity":t.includes("liquid")||t.includes("money market")||t.includes("overnight")?"Liquid":t.includes("gilt")||t.includes("government securities")||t.includes("constant maturity")?"Gilt":t.includes("elss")||t.includes("tax saver")?"ELSS":t.includes("debt")||t.includes("bond")||t.includes("income fund")||t.includes("corporate bond")||t.includes("banking & psu")||t.includes("short duration")||t.includes("medium duration")||t.includes("long duration")||t.includes("short term")||t.includes("medium term")||t.includes("floater")||t.includes("floating rate")||t.includes("credit")||t.includes("accrual")||t.includes("savings fund")||t.includes("ultra short")?"Debt":t.includes("multi asset")?"Multi-Asset":t.includes("hybrid")||t.includes("balanced")||t.includes("dynamic asset")||t.includes("arbitrage")||t.includes("retirement")||t.includes("children")||t.includes("pension")?"Hybrid":t.includes("equity")||t.includes("flexi cap")||t.includes("large cap")||t.includes("mid cap")||t.includes("small cap")||t.includes("multi cap")||t.includes("focused")||t.includes("contra")||t.includes("value fund")||t.includes("thematic")||t.includes("sectoral")||t.includes("consumption")||t.includes("infrastructure")||t.includes("pharma")||t.includes("healthcare")||t.includes("technology")||t.includes("fmcg")||t.includes("mnc")||t.includes("opportunities fund")||t.includes("midcap")||t.includes("smallcap")||t.includes("largecap")||t.includes("large & mid")?"Equity":t.includes("index")||t.includes("etf")||t.includes("nifty")||t.includes("sensex")?"Index":t.includes("fund of fund")||t.includes("fof")||t.includes("aggressive")||t.includes("conservative")?"Hybrid":"Other"}const Vse={Equity:"#8b5cf6",Debt:"#0ea5e9",Cash:"#2dd4bf",Commodities:"#eab308","Real Estate":"#f97316",Other:"#94a3b8"},Gse={Giant:"#6366f1",Large:"#3b82f6",Mid:"#f59e0b",Small:"#ef4444",Micro:"#ec4899"},Wse={India:"#f97316",Global:"#06b6d4"},Kse={Equity:"bg-violet-500",Debt:"bg-sky-500",Cash:"bg-teal-400",Commodities:"bg-yellow-500","Real Estate":"bg-orange-500",Other:"bg-slate-400"},Qse={Giant:"bg-indigo-500",Large:"bg-blue-500",Mid:"bg-amber-500",Small:"bg-rose-500",Micro:"bg-pink-500"},Xse={India:"bg-orange-500",Global:"bg-cyan-500"};function pa(e){if(!e)return null;if(e instanceof Date)return isNaN(e.getTime())?null:e;const t=String(e),n=t.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(n)return new Date(Number(n[3]),Number(n[2])-1,Number(n[1]));const r=new Date(t);return isNaN(r.getTime())?null:r}function M_(e){return e>=20?{color:"#c62828",fontWeight:700}:e>=10?{color:"#d84315",fontWeight:700}:e>=5?{color:"#e67e00",fontWeight:600}:e>=1?{color:"#b8860b",fontWeight:600}:{color:"var(--text-dim)",fontWeight:400}}function Zse(){const{selectedMember:e}=Yr(),{mfPortfolios:t,mfHoldings:n,mfTransactions:r,activeMembers:a,activeInvestmentAccounts:l,addMFPortfolio:c,updateMFPortfolio:u,deleteMFPortfolio:f,investMF:m,redeemMF:h,switchMF:v,updateHoldingAllocations:x,deleteMFTransaction:b,editMFTransaction:S,assetAllocations:w,updateAssetAllocation:y}=pt(),{showToast:C,showBlockUI:M,hideBlockUI:A}=li(),_=oi(),{mv:E}=ci(),[T,P]=j.useState(null),[O,L]=j.useState("all"),[R,B]=j.useState("holdings"),[D,K]=j.useState(!1),[X,Z]=j.useState(null),[$,G]=j.useState({}),[z,te]=j.useState("all"),[ve,F]=j.useState(null),[ae,he]=j.useState(!1),ye=j.useCallback(Y=>{Z(ce=>ce===Y?null:Y)},[]),je=j.useCallback(Y=>{G(ce=>({...ce,[Y]:(ce[Y]||5)+10}))},[]),Ie=j.useMemo(()=>t?t.filter(Y=>Y.status!=="Inactive").map(Y=>{let ce=l.find(ze=>ze.accountId===Y.investmentAccountId);!ce&&Y.investmentAccountId&&(ce=l.find(ze=>`${ze.accountName} - ${ze.platformBroker}`===Y.investmentAccountId));const Ce=ce?.memberId||Y.ownerId||"",De=Ce?a.find(ze=>ze.memberId===Ce):null;return{...Y,investmentAccountId:ce?.accountId||Y.investmentAccountId,ownerId:Ce,ownerName:De?.memberName||Y.ownerName||"",platform:ce?.platformBroker||Y.investmentAccountName||"",clientId:ce?.accountClientId||""}}):[],[t,l,a]),me=j.useMemo(()=>Ie.length?e==="all"?Ie:Ie.filter(Y=>Y.ownerId===e):[],[Ie,e]),ge=j.useMemo(()=>n?me.map(Y=>{const ce=n.filter(De=>De.portfolioId===Y.portfolioId),Ce=(r||[]).filter(De=>De.portfolioId===Y.portfolioId);return{...Y,holdings:ce,txns:Ce,fundCount:ce.length}}):[],[me,n,r]),W=j.useMemo(()=>{const Y=O==="all"?ge:ge.filter(Xe=>Xe.portfolioId===O),ce=Y.reduce((Xe,Se)=>Xe+Se.totalInvestment,0),Ce=Y.reduce((Xe,Se)=>Xe+Se.currentValue,0),De=Y.reduce((Xe,Se)=>Xe+Se.unrealizedPL,0),ze=Y.reduce((Xe,Se)=>Xe+Se.realizedPL,0),ie=De+ze,Pt=ce>0?ie/ce*100:0,He=ce>0?De/ce*100:0,kt=ce>0?ze/ce*100:0,Xt=Y.reduce((Xe,Se)=>Xe+Se.fundCount,0),Yt=(n?O==="all"?n.filter(Xe=>Y.some(Se=>Se.portfolioId===Xe.portfolioId)):n.filter(Xe=>Xe.portfolioId===O):[]).reduce((Xe,Se)=>Xe+(Se.ongoingSIP||0),0);return{invested:ce,current:Ce,unrealizedPL:De,unrealizedPLPct:He,realizedPL:ze,realizedPLPct:kt,totalPL:ie,totalPLPct:Pt,funds:Xt,monthlySIP:Yt}},[ge,O,n]),Ne=j.useMemo(()=>n?O==="all"?n.filter(Y=>me.some(ce=>ce.portfolioId===Y.portfolioId)):n.filter(Y=>Y.portfolioId===O):[],[n,me,O]),qe=j.useMemo(()=>r?(O==="all"?r.filter(ce=>me.some(Ce=>Ce.portfolioId===ce.portfolioId)):r.filter(ce=>ce.portfolioId===O)).sort((ce,Ce)=>(pa(Ce.date)||0)-(pa(ce.date)||0)):[],[r,me,O]),be=j.useMemo(()=>{const Y=new Set;return qe.forEach(ce=>{ce.fundName&&Y.add(ce.fundName)}),[...Y].sort()},[qe]),Ze=j.useMemo(()=>z==="all"?qe:qe.filter(Y=>Y.fundName===z),[qe,z]),Ue=j.useMemo(()=>{const Y={};return Ne.forEach(ce=>{Y[ce.portfolioId]=(Y[ce.portfolioId]||0)+ce.currentValue}),Ne.map(ce=>{const Ce=Y[ce.portfolioId]||0,De=Ce>0?ce.currentValue/Ce*100:0,ze=ce.investment>0?ce.pl/ce.investment*100:0,ie=ce.holdingId||`${ce.portfolioId}::${ce.schemeCode||ce.fundCode}`;return{...ce,currentAllocationPct:De,plPct:ze,_key:ie}})},[Ne]),jt=j.useMemo(()=>{if(O!=="all")return null;const Y=[],ce={};return Ue.forEach(Ce=>{ce[Ce.portfolioId]||(ce[Ce.portfolioId]={portfolioId:Ce.portfolioId,holdings:[]},Y.push(ce[Ce.portfolioId])),ce[Ce.portfolioId].holdings.push(Ce)}),Y},[Ue,O]),vt=j.useMemo(()=>{if(!n)return{};const Y={};return ge.forEach(ce=>{const Ce=n.filter(He=>He.portfolioId===ce.portfolioId&&He.units>0),De=Ce.reduce((He,kt)=>He+kt.currentValue,0),ze=(ce.rebalanceThreshold||.05)*100;let ie=0,Pt=0;Ce.forEach(He=>{He.athNav>0&&He.belowATHPct>=5&&ie++;const kt=De>0?He.currentValue/De*100:0;He.targetAllocationPct>0&&Math.abs(kt-He.targetAllocationPct)>ze&&Pt++}),Y[ce.portfolioId]={buyOpp:ie,rebalance:Pt}}),Y},[ge,n]),ut=j.useMemo(()=>{if(O!=="all")return vt[O]||{buyOpp:0,rebalance:0};let Y=0,ce=0;return Object.values(vt).forEach(Ce=>{Y+=Ce.buyOpp,ce+=Ce.rebalance}),{buyOpp:Y,rebalance:ce}},[O,vt]),Nt=j.useMemo(()=>{if(!Ne.length)return null;const Y={};if(w)for(const Se of w)Y[Se.fundCode]={asset:Se.assetAllocation,equity:Se.equityAllocation,geo:Se.geoAllocation};const ce={Equity:0,Debt:0,Cash:0,Commodities:0,"Real Estate":0,Other:0},Ce={Giant:0,Large:0,Mid:0,Small:0,Micro:0},De={India:0,Global:0};let ze=0,ie=!1,Pt=0;for(const Se of Ne){if(Se.units<=0)continue;ze+=Se.currentValue;const Ke=Y[Se.fundCode||Se.schemeCode];if(Ke?.asset){ie=!0,Pt++;for(const[et,It]of Object.entries(Ke.asset)){const zr=Se.currentValue*(It/100);et in ce?ce[et]+=zr:et==="Gold"?ce.Commodities+=zr:ce.Other+=zr}if(Ke.equity){const et=Se.currentValue*((Ke.asset.Equity||0)/100);for(const[It,zr]of Object.entries(Ke.equity)){const gr=et*(zr/100);It in Ce?Ce[It]+=gr:It==="Large Cap"?Ce.Large+=gr:It==="Mid Cap"?Ce.Mid+=gr:Ce.Small+=gr}}if(Ke.geo){const et=Se.currentValue*((Ke.asset.Equity||0)/100);for(const[It,zr]of Object.entries(Ke.geo)){const gr=et*(zr/100);It in De?De[It]+=gr:De.Global+=gr}}}else{let et=Se.category;(!et||et==="Other")&&(et=Yse(Se.fundName)),et==="Equity"||et==="ELSS"||et==="Index"?ce.Equity+=Se.currentValue:et==="Debt"||et==="Gilt"?ce.Debt+=Se.currentValue:et==="Liquid"?ce.Cash+=Se.currentValue:et==="Commodity"?ce.Commodities+=Se.currentValue:et==="Multi-Asset"?(ce.Equity+=Se.currentValue*.5,ce.Debt+=Se.currentValue*.3,ce.Commodities+=Se.currentValue*.2):et==="Hybrid"||et==="FoF"?(ce.Equity+=Se.currentValue*.65,ce.Debt+=Se.currentValue*.35):ce.Other+=Se.currentValue}}if(ze===0)return null;const kt=((Se,Ke)=>Object.entries(Se).filter(([,et])=>et>0).sort(([,et],[,It])=>It-et).map(([et,It])=>({name:et,value:It,pct:It/ze*100,fill:Ke[et]||"#94a3b8"})))(ce,Vse),Xt=Object.values(Ce).reduce((Se,Ke)=>Se+Ke,0),Be=Xt>0?Object.entries(Ce).filter(([,Se])=>Se>0).sort(([,Se],[,Ke])=>Ke-Se).map(([Se,Ke])=>({name:Se,value:Ke,pct:Ke/Xt*100,fill:Gse[Se]||"#94a3b8"})):[],Yt=Object.values(De).reduce((Se,Ke)=>Se+Ke,0),Xe=Yt>0?Object.entries(De).filter(([,Se])=>Se>0).sort(([,Se],[,Ke])=>Ke-Se).map(([Se,Ke])=>({name:Se,value:Ke,pct:Ke/Yt*100,fill:Wse[Se]||"#94a3b8"})):[];return{assetList:kt,capList:Be,geoList:Xe,hasDetailedAlloc:ie,configuredCount:Pt,totalFunds:Ne.filter(Se=>Se.units>0).length}},[Ne,w]),Pe=j.useMemo(()=>{if(!Ne.length)return[];const Y={};return Ne.forEach(ce=>{if(!ce.fundCode&&!ce.schemeCode)return;const Ce=(ce.fundCode||ce.schemeCode).toString();Y[Ce]||(Y[Ce]={fundCode:Ce,fundName:ce.fundName||""})}),Object.values(Y).sort((ce,Ce)=>ce.fundName.localeCompare(Ce.fundName))},[Ne]);if(t===null||n===null)return s.jsx(as,{title:"Loading mutual funds",cards:5});const Ye=ge.find(Y=>Y.portfolioId===O),at=O==="all"?`All Portfolios (${me.length})`:`${Hm(Ye?.portfolioName)}  ${E(Ye?.ownerName,"name")}`;async function $t(Y){M("Saving...");try{T?.editPortfolio?await u(T.editPortfolio.portfolioId,Y):await c(Y),C(T?.editPortfolio?"Portfolio updated":"Portfolio created"),P(null)}catch(ce){C(ce.message||"Failed to save portfolio","error")}finally{A()}}async function Ut(){if(T?.editPortfolio&&await _("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){M("Deactivating...");try{await f(T.editPortfolio.portfolioId),C("Portfolio deactivated"),L("all"),P(null)}catch(Y){C(Y.message||"Failed to deactivate portfolio","error")}finally{A()}}}async function St(Y){M("Recording investment...");try{await m(Y,Y.transactionType),C("Investment recorded"),P(null)}catch(ce){C(ce.message||"Failed to record investment","error")}finally{A()}}async function Hn(Y){M("Recording redemption...");try{await h(Y),C("Redemption recorded"),P(null)}catch(ce){C(ce.message||"Failed to record redemption","error")}finally{A()}}async function is(Y){M("Recording switch...");try{await v(Y),C("Switch recorded"),P(null)}catch(ce){C(ce.message||"Failed to record switch","error")}finally{A()}}async function ue(Y){if(await _("Delete this transaction? This will recalculate your holdings.",{title:"Delete Transaction",confirmLabel:"Delete"})){M("Deleting...");try{await b(Y),C("Transaction deleted"),F(null)}catch(ce){C(ce.message||"Failed to delete transaction","error")}finally{A()}}}async function xe(Y){M("Updating...");try{await S(Y),C("Transaction updated"),P(null)}catch(ce){C(ce.message||"Failed to update transaction","error")}finally{A()}}async function Fe(Y){if(T?.allocations){M("Saving allocations...");try{await x(T.allocations,Y),C("Allocations updated"),P(null)}catch(ce){C(ce.message||"Failed to update allocations","error")}finally{A()}}}async function Mt(Y){M("Saving classification...");try{await y(Y),C("Fund classified"),P(null)}catch(ce){C(ce.message||"Failed to save classification","error")}finally{A()}}return s.jsxs("div",{className:"space-y-4",children:[me.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(rd,{size:32,className:"text-[var(--text-dim)]"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No mutual fund portfolios yet"}),s.jsx("button",{onClick:()=>P("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[s.jsxs("div",{className:"relative w-full sm:w-auto",children:[s.jsxs("button",{onClick:()=>K(!D),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors w-full sm:min-w-[220px]",children:[s.jsx(rd,{size:14,className:"text-violet-400 shrink-0"}),s.jsx("span",{className:"truncate",children:at}),s.jsx(Ga,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${D?"rotate-180":""}`})]}),D&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>K(!1)}),s.jsxs("div",{className:"absolute left-0 right-0 sm:right-auto top-full mt-1 z-40 bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl sm:min-w-[300px] py-1 overflow-hidden",children:[s.jsxs("button",{onClick:()=>{L("all"),K(!1),B("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${O==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",me.length,")"]}),s.jsx("div",{className:"border-t border-[var(--border-light)]"}),ge.map(Y=>{const ce=Y.totalPL>=0,Ce=vt[Y.portfolioId]||{};return s.jsx("button",{onClick:()=>{L(Y.portfolioId),K(!1),B("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${O===Y.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("p",{className:`text-sm ${O===Y.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:Hm(Y.portfolioName)}),Ce.buyOpp>0&&s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 shrink-0",title:`${Ce.buyOpp} buy opportunities`}),Ce.rebalance>0&&s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 shrink-0",title:`${Ce.rebalance} funds need rebalancing`})]}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[E(Y.ownerName,"name"),"  ",Y.platform,"  ",Y.fundCount," funds"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(Y.currentValue)}),s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ce?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ce?"+":"",Y.totalPLPct.toFixed(1),"%"]})]})]})},Y.portfolioId)})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("button",{onClick:()=>P("buyOpp"),disabled:ut.buyOpp===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${ut.buyOpp>0?"text-emerald-400 hover:text-emerald-300 bg-[var(--bg-card)] border border-emerald-500/30 animate-glow-emerald":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[s.jsx(Md,{size:12})," Buy Opp.",ut.buyOpp>0&&s.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15",children:ut.buyOpp})]}),s.jsxs("button",{onClick:()=>P("rebalance"),disabled:ut.rebalance===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${ut.rebalance>0?"text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-violet-500/30 animate-glow-violet":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[s.jsx(Vl,{size:12})," Rebalance",ut.rebalance>0&&s.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-violet-500/15",children:ut.rebalance})]}),Ye&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>P({allocations:Ye.portfolioId}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(e5,{size:12})," Allocations"]}),s.jsxs("button",{onClick:()=>P({editPortfolio:Ye}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(ka,{size:12})," Edit"]})]}),s.jsxs("button",{onClick:()=>P("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Pr,{size:14})," New Portfolio"]})]})]}),Ye&&s.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Platform:"})," ",Ye.platform]}),s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",E(Ye.clientId,"clientId")]}),s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Funds:"})," ",Ye.fundCount]}),Ye.sipTarget>=100&&s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"SIP Target:"})," ",Q(Ye.sipTarget),"/mo"]}),Ye.lumpsumTarget>=100&&s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Lumpsum Target:"})," ",Q(Ye.lumpsumTarget)]}),s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Rebalance Threshold:"})," ",(Ye.rebalanceThreshold*100).toFixed(0),"%"]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[s.jsx(Go,{label:"Invested",value:Q(W.invested)}),s.jsx(Go,{label:"Current Value",value:Q(W.current),bold:!0}),s.jsx(Go,{label:"Unrealized P&L",value:`${W.unrealizedPL>=0?"+":""}${Q(W.unrealizedPL)}`,sub:`${W.unrealizedPLPct>=0?"+":""}${W.unrealizedPLPct.toFixed(1)}%`,positive:W.unrealizedPL>=0}),s.jsx(Go,{label:"Realized P&L",value:`${W.realizedPL>=0?"+":""}${Q(W.realizedPL)}`,sub:`${W.realizedPLPct>=0?"+":""}${W.realizedPLPct.toFixed(1)}%`,positive:W.realizedPL>=0}),s.jsx(Go,{label:"Total P&L",value:`${W.totalPL>=0?"+":""}${Q(W.totalPL)}`,sub:`${W.totalPLPct>=0?"+":""}${W.totalPLPct.toFixed(1)}%`,positive:W.totalPL>=0,bold:!0}),s.jsx(Go,{label:"Monthly SIP",value:Q(W.monthlySIP),sub:`${W.funds} funds`})]}),Nt&&Nt.assetList.length>0&&s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsxs("button",{onClick:()=>he(Y=>!Y),className:"w-full flex items-center justify-between px-4 py-2.5 hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx("span",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Portfolio Breakdown"}),s.jsx(Ga,{size:14,className:`text-[var(--text-dim)] transition-transform duration-200 ${ae?"rotate-180":""}`})]}),ae&&s.jsxs("div",{className:"px-4 pb-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(Vb,{title:"Asset Class",data:Nt.assetList,bgMap:Kse}),Nt.capList.length>0?s.jsx(Vb,{title:"Market Cap",data:Nt.capList,bgMap:Qse}):s.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-4",children:s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:["Classify funds for",s.jsx("br",{}),"market cap breakdown"]})}),Nt.geoList?.length>0?s.jsx(Vb,{title:"Geography",data:Nt.geoList,bgMap:Xse}):s.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-4",children:s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:["Classify funds for",s.jsx("br",{}),"geography breakdown"]})})]}),!Nt.hasDetailedAlloc&&s.jsx("p",{className:"text-[9px] text-[var(--text-dim)]/50 mt-2 text-center",children:"Based on fund category. Go to Fund Breakdown tab to add detailed data from Morningstar."}),Nt.hasDetailedAlloc&&Nt.configuredCount<Nt.totalFunds&&s.jsxs("p",{className:"text-[9px] text-amber-400/70 mt-2 text-center",children:[Nt.totalFunds-Nt.configuredCount," of ",Nt.totalFunds," funds not yet classified"]})]})]}),s.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5 overflow-x-auto no-scrollbar",children:[s.jsxs("button",{onClick:()=>B("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${R==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[s.jsx(GO,{size:12})," Holdings (",Ne.length,")"]}),s.jsxs("button",{onClick:()=>B("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${R==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[s.jsx(yp,{size:12})," Transactions (",Ze.length,")"]}),s.jsxs("button",{onClick:()=>B("breakdown"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${R==="breakdown"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[s.jsx(MC,{size:12})," Fund Breakdown (",Pe.length,")"]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("button",{onClick:()=>O!=="all"&&P({invest:O}),disabled:O==="all",className:`flex items-center justify-center gap-1.5 px-3 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${O==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:O==="all"?"Select a portfolio first":"",children:[s.jsx(ic,{size:14})," Invest"]}),s.jsxs("button",{onClick:()=>O!=="all"&&Ne.length>0&&P({redeem:O}),disabled:O==="all"||Ne.length===0,className:`flex items-center justify-center gap-1.5 px-3 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${O==="all"||Ne.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:O==="all"?"Select a portfolio first":"",children:[s.jsx($O,{size:14})," Redeem"]}),s.jsxs("button",{onClick:()=>O!=="all"&&Ne.length>0&&P({switchFunds:O}),disabled:O==="all"||Ne.length===0,className:`flex items-center justify-center gap-1.5 px-3 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${O==="all"||Ne.length===0?"bg-amber-600/40 text-white/50 cursor-not-allowed":"text-white bg-amber-600 hover:bg-amber-500"}`,title:O==="all"?"Select a portfolio first":"",children:[s.jsx(B8,{size:14})," Switch"]})]}),R==="holdings"&&s.jsx(s.Fragment,{children:Ne.length>0?s.jsx("div",{className:O==="all"?"space-y-4":"",children:(O==="all"?jt:[{portfolioId:O,holdings:Ue}]).map(Y=>{const ce=ge.find(ie=>ie.portfolioId===Y.portfolioId),Ce=Y.holdings,De=Ce.reduce((ie,Pt)=>ie+Pt.pl,0),ze=De>=0;return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[O==="all"&&ce&&s.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:Hm(ce.portfolioName)}),ce.ownerName&&s.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:["(",E(ce.ownerName,"name"),")"]}),s.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[" ",Ce.filter(ie=>ie.units>0).length," funds"]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs tabular-nums",children:[s.jsx("span",{className:"text-[var(--text-muted)]",children:Q(ce.currentValue||0)}),s.jsxs("span",{className:`font-bold ${ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ze?"+":"",Q(De)]})]})]}),s.jsx("div",{className:"hidden lg:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:`border-b border-[var(--border-light)] ${O!=="all"?"bg-[var(--bg-inset)]":""}`,children:[s.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund Name"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),s.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[s.jsx("div",{children:"NAV"}),s.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Avg"})]}),s.jsxs("th",{className:"text-center py-2 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[s.jsx("div",{children:"ATH"}),s.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Below Peak"})]}),s.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[s.jsx("div",{children:"Allocation %"}),s.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),s.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[s.jsx("div",{children:"Amount"}),s.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Invested"})]}),s.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[s.jsx("div",{children:"P&L"}),s.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"on Holdings"})]}),s.jsx("th",{className:"py-2 px-2 w-8"})]})}),s.jsx("tbody",{children:Ce.map(ie=>{const Pt=M_(ie.belowATHPct),He=ie.units===0,kt=ge.find(Ae=>Ae.portfolioId===ie.portfolioId),Xt=kt?.currentValue||0,Be=X===ie._key,Yt=ie.pl,Xe=Yt>=0,Se=He&&ie.targetAllocationPct>0&&ie.targetAllocationPct<100&&Xt>0?ie.targetAllocationPct/(100-ie.targetAllocationPct)*Xt:0,Ke=He&&ie.targetAllocationPct>0&&kt?.sipTarget>=100?ie.targetAllocationPct/100*kt.sipTarget:0,et=Be?(r||[]).filter(Ae=>Ae.portfolioId===ie.portfolioId&&Ae.fundCode===ie.schemeCode).sort((Ae,_r)=>(pa(_r.date)||0)-(pa(Ae.date)||0)):[],It=$[ie._key]||5,zr=et.slice(0,It),gr=Ae=>{const _r=pa(Ae);return _r?Math.floor((new Date-_r)/864e5):null};return s.jsxs(oe.Fragment,{children:[s.jsxs("tr",{onClick:()=>!He&&ye(ie._key),className:`border-b border-[var(--border-light)] last:border-0 transition-colors ${He?"opacity-60":"cursor-pointer hover:bg-[var(--bg-hover)]"} ${Be?"bg-[var(--bg-hover)]":""}`,children:[s.jsx("td",{className:"py-2.5 px-3 max-w-[240px]",children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[!He&&s.jsx(Ga,{size:12,className:`shrink-0 text-[var(--text-dim)] transition-transform ${Be?"rotate-180":""}`}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-[var(--text-primary)] leading-tight",children:[ie.fundName,He&&s.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]}),He&&(Se>0||Ke>0)&&s.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[Se>0&&s.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",Q(Se)]}),Ke>0&&s.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",Q(Ke),"/mo"]})]})]})]})}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:He?"":ie.units.toFixed(2)}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:He?s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:["",ie.currentNav.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["",ie.avgNav.toFixed(2)]})]})}),s.jsx("td",{className:"py-2.5 px-2 text-center",children:He?s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):ie.athNav>0&&ie.belowATHPct>0?s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-bold tabular-nums",style:Pt,children:["",ie.belowATHPct.toFixed(1),"%"]}),s.jsxs("p",{className:"text-[11px] text-[var(--text-muted)] tabular-nums",children:["",ie.athNav.toFixed(0)]})]}):ie.athNav>0?s.jsx("span",{className:"text-[10px] text-emerald-400/70 font-semibold",children:"AT HIGH"}):s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:He?s.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums",children:[ie.targetAllocationPct.toFixed(1),"%"]}):s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[ie.currentAllocationPct.toFixed(1),"%"]}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[ie.targetAllocationPct.toFixed(1),"%"]})]})}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:He?s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(ie.currentValue)}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:Q(ie.investment)})]})}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:He?s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Xe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Xe?"+":"",Q(Yt)]}),s.jsxs("p",{className:`text-xs font-bold tabular-nums ${Xe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Xe?"+":"",ie.plPct.toFixed(1),"%"]})]})}),s.jsx("td",{className:"py-2.5 px-2 text-center",children:s.jsxs("div",{className:"flex items-center gap-0.5 justify-center",children:[s.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),P({invest:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode,fundName:ie.fundName}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25 transition-colors",title:"Buy / Invest",children:s.jsx(Pr,{size:14,strokeWidth:2.5})}),!He&&s.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),P({redeem:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-rose-500/15 text-rose-400 hover:bg-rose-500/25 transition-colors",title:"Sell / Redeem",children:s.jsx(G0,{size:14,strokeWidth:2.5})})]})})]}),Be&&!He&&s.jsx("tr",{className:"border-b border-[var(--border-light)]",children:s.jsx("td",{colSpan:8,className:"p-0",children:s.jsxs("div",{className:"bg-[var(--bg-expanded)] border-t border-[var(--border-light)]",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row",children:[s.jsx("div",{className:"lg:w-52 shrink-0 p-4 border-b lg:border-b-0 lg:border-r border-[var(--border-light)]",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Units"}),s.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:ie.units.toFixed(3)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Avg NAV"}),s.jsxs("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:["",ie.avgNav.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Invested"}),s.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:Q(ie.investment)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Current Value"}),s.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:Q(ie.currentValue)})]}),ie.ongoingSIP>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Monthly SIP"}),s.jsx("p",{className:"text-base font-bold text-blue-400 tabular-nums",children:Q(ie.ongoingSIP)})]}),s.jsxs("div",{className:"pt-3 border-t border-[var(--border-light)] flex gap-2",children:[s.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),P({invest:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode,fundName:ie.fundName}})},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-emerald-400 bg-emerald-500/10 hover:bg-emerald-500/20 rounded-lg transition-colors",children:[s.jsx("span",{className:"w-5 h-5 flex items-center justify-center rounded-full bg-emerald-500/20",children:s.jsx(Pr,{size:12,strokeWidth:2.5})})," Buy"]}),s.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),P({redeem:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode}})},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-rose-400 bg-rose-500/10 hover:bg-rose-500/20 rounded-lg transition-colors",children:[s.jsx("span",{className:"w-5 h-5 flex items-center justify-center rounded-full bg-rose-500/20",children:s.jsx(G0,{size:12,strokeWidth:2.5})})," Sell"]})]})]})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"px-4 pt-3 pb-1",children:s.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:"Transactions"})}),et.length===0?s.jsx("p",{className:"py-8 text-xs text-[var(--text-dim)] text-center",children:"No transactions recorded"}):s.jsxs(s.Fragment,{children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[s.jsx("th",{className:"text-left py-2 px-4 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Date"}),s.jsx("th",{className:"text-left py-2 px-2 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Type"}),s.jsx("th",{className:"text-center py-2 px-2 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Days"}),s.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Amount"}),s.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"NAV"}),s.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Units"}),s.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"P&L"}),s.jsx("th",{className:"w-8 py-2 px-1"})]})}),s.jsx("tbody",{children:zr.map((Ae,_r)=>{const fi=pa(Ae.date),Ea=!!fi,_a=Ea?fi.toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):Ae.date||"",Oa=Ea?gr(Ae.date):null,sl=Ae.type==="BUY",ss=!sl&&Ae.gainLoss!=null&&Ae.gainLoss!==0,Nn=ss&&Ae.gainLoss>=0;return s.jsxs("tr",{className:"group border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)] tabular-nums whitespace-nowrap",children:_a}),s.jsx("td",{className:"py-2.5 px-2",children:s.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded ${sl?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:Ae.transactionType||Ae.type})}),s.jsx("td",{className:"py-2.5 px-2 text-xs text-[var(--text-dim)] tabular-nums text-center",children:Oa??""}),s.jsx("td",{className:"py-2.5 px-3 text-xs font-semibold text-[var(--text-primary)] tabular-nums text-right",children:Q(Ae.totalAmount)}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums text-right",children:Number(Ae.price).toFixed(4)}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums text-right",children:Number(Ae.units).toFixed(3)}),s.jsx("td",{className:`py-2.5 px-3 text-xs font-semibold tabular-nums text-right ${ss?Nn?"text-emerald-400":"text-[var(--accent-rose)]":"text-[var(--text-dim)]"}`,children:ss?`${Nn?"+":""}${Q(Ae.gainLoss)}`:""}),s.jsx("td",{className:"py-2.5 px-1",children:s.jsx(Um,{txn:Ae,isOpen:ve===Ae.transactionId,onToggle:()=>F(ve===Ae.transactionId?null:Ae.transactionId),onEdit:()=>{F(null),P({editTxn:Ae})},onDelete:()=>{F(null),ue(Ae.transactionId)}})})]},Ae.transactionId||`txn-${_r}`)})})]}),et.length>It&&s.jsx("div",{className:"py-2 text-center border-t border-[var(--border-light)]",children:s.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),je(ie._key)},className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:["Show More (",et.length-It," remaining)"]})})]})]})]}),s.jsx("div",{className:"flex justify-center py-1.5 border-t border-[var(--border-light)]",children:s.jsx("button",{onClick:()=>ye(ie._key),className:"p-0.5 text-[var(--text-dim)] hover:text-[var(--text-muted)]",children:s.jsx(FF,{size:14})})})]})})})]},ie._key)})})]})}),s.jsx("div",{className:"lg:hidden divide-y divide-[var(--border-light)]",children:Ce.map(ie=>{const Pt=M_(ie.belowATHPct),He=ie.units===0,kt=ge.find(Ae=>Ae.portfolioId===ie.portfolioId),Xt=kt?.currentValue||0,Be=X===ie._key,Yt=ie.pl,Xe=Yt>=0,Se=He&&ie.targetAllocationPct>0&&ie.targetAllocationPct<100&&Xt>0?ie.targetAllocationPct/(100-ie.targetAllocationPct)*Xt:0,Ke=He&&ie.targetAllocationPct>0&&kt?.sipTarget>=100?ie.targetAllocationPct/100*kt.sipTarget:0,et=Be?(r||[]).filter(Ae=>Ae.portfolioId===ie.portfolioId&&Ae.fundCode===ie.schemeCode).sort((Ae,_r)=>(pa(_r.date)||0)-(pa(Ae.date)||0)):[],It=$[ie._key]||5,zr=et.slice(0,It),gr=Ae=>{const _r=pa(Ae);return _r?Math.floor((new Date-_r)/864e5):null};return s.jsxs("div",{className:He?"opacity-60":"",children:[s.jsxs("div",{onClick:()=>!He&&ye(ie._key),className:`px-4 py-3 ${He?"":"cursor-pointer"} ${Be?"bg-[var(--bg-hover)]":""}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-1.5",children:[s.jsxs("div",{className:"flex-1 mr-3",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[!He&&s.jsx(Ga,{size:12,className:`shrink-0 text-[var(--text-dim)] transition-transform ${Be?"rotate-180":""}`}),s.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:[ie.fundName,He&&s.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]})]}),He&&(Se>0||Ke>0)&&s.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[Se>0&&s.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",Q(Se)]}),Ke>0&&s.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",Q(Ke),"/mo"]})]})]}),He?s.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums shrink-0",children:["Target: ",ie.targetAllocationPct.toFixed(1),"%"]}):s.jsxs("div",{className:"text-right shrink-0",children:[s.jsxs("p",{className:`text-xs font-bold tabular-nums ${Xe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Xe?"+":"",Q(Yt)]}),s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Xe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Xe?"+":"",ie.plPct.toFixed(1),"%"]})]})]}),He?s.jsx("div",{className:"flex items-center justify-end mt-1",children:s.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),P({invest:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode,fundName:ie.fundName}})},className:"shrink-0 flex items-center gap-1 text-[10px] font-semibold text-emerald-400 hover:text-emerald-300 px-2 py-0.5 rounded bg-emerald-500/10",children:[s.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-emerald-500/20",children:s.jsx(Pr,{size:10,strokeWidth:2.5})})," Buy"]})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-[var(--text-dim)] gap-2",children:[s.jsxs("div",{className:"min-w-0 truncate",children:[s.jsxs("span",{children:[ie.units.toFixed(2)," units"]}),s.jsx("span",{className:"mx-1",children:""}),s.jsxs("span",{children:["NAV ",ie.currentNav.toFixed(2)," / ",ie.avgNav.toFixed(2)]})]}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums shrink-0",children:Q(ie.currentValue)})]}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] flex-wrap",children:[s.jsxs("span",{children:["Alloc: ",ie.currentAllocationPct.toFixed(1),"% / ",ie.targetAllocationPct.toFixed(1),"%"]}),ie.athNav>0&&ie.belowATHPct>0?s.jsxs("span",{className:"font-bold tabular-nums",style:Pt,children:["ATH ",ie.belowATHPct.toFixed(1),"%"]}):ie.athNav>0?s.jsx("span",{className:"text-emerald-400/70 font-semibold text-[10px]",children:"AT HIGH"}):null]}),s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[s.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),P({invest:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode,fundName:ie.fundName}})},className:"flex items-center gap-1 text-[10px] font-semibold text-emerald-400 hover:text-emerald-300 px-2 py-0.5 rounded bg-emerald-500/10",children:[s.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-emerald-500/20",children:s.jsx(Pr,{size:10,strokeWidth:2.5})})," Buy"]}),s.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),P({redeem:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode}})},className:"flex items-center gap-1 text-[10px] font-semibold text-rose-400 hover:text-rose-300 px-2 py-0.5 rounded bg-rose-500/10",children:[s.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-rose-500/20",children:s.jsx(G0,{size:10,strokeWidth:2.5})})," Sell"]})]})]})]})]}),Be&&!He&&s.jsxs("div",{className:"bg-[var(--bg-inset)] border-l-2 border-l-violet-500/40 px-4 pb-3",children:[s.jsx("div",{className:"flex items-center justify-between py-2",children:s.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:["Transactions (",et.length,")"]})}),et.length===0?s.jsx("p",{className:"py-4 text-xs text-[var(--text-dim)] text-center",children:"No transactions recorded"}):s.jsxs("div",{className:"space-y-2",children:[zr.map((Ae,_r)=>{const fi=gr(Ae.date),Ea=Ae.type==="BUY",_a=!Ea&&Ae.gainLoss!=null&&Ae.gainLoss!==0,Oa=_a&&Ae.gainLoss>=0;return s.jsxs("div",{className:"flex items-center justify-between text-xs bg-[var(--bg-card)] rounded-lg px-3 py-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"text-[var(--text-secondary)]",children:(pa(Ae.date)||new Date).toLocaleDateString("en-IN",{day:"2-digit",month:"short"})}),s.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${Ea?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:Ae.transactionType||Ae.type}),s.jsxs("span",{className:"text-[var(--text-dim)]",children:[fi,"d"]})]}),s.jsxs("p",{className:"text-[var(--text-dim)] mt-0.5",children:[Number(Ae.units).toFixed(3)," units @ ",Number(Ae.price).toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-semibold text-[var(--text-primary)] tabular-nums",children:Q(Ae.totalAmount)}),_a&&s.jsxs("p",{className:`font-semibold tabular-nums ${Oa?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Oa?"+":"",Q(Ae.gainLoss)]})]}),s.jsx(Um,{txn:Ae,isOpen:ve===Ae.transactionId,onToggle:()=>F(ve===Ae.transactionId?null:Ae.transactionId),onEdit:()=>{F(null),P({editTxn:Ae})},onDelete:()=>{F(null),ue(Ae.transactionId)}})]})]},Ae.transactionId||`txn-${_r}`)}),et.length>It&&s.jsxs("button",{onClick:()=>je(ie._key),className:"w-full py-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 text-center",children:["Show More (",et.length-It," remaining)"]})]})]})]},ie._key)})})]},Y.portfolioId)})}):s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[s.jsx(rd,{size:28,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",Ye?" in this portfolio":""]}),s.jsx("button",{onClick:()=>P({invest:O!=="all"?O:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Add your first fund"})]})}),R==="transactions"&&s.jsxs(s.Fragment,{children:[be.length>1&&s.jsxs("div",{className:"flex items-center gap-2 px-1",children:[s.jsx(YO,{size:12,className:"text-[var(--text-dim)]"}),s.jsxs("select",{value:z,onChange:Y=>te(Y.target.value),className:"text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg px-3 py-1.5 max-w-[350px] truncate",children:[s.jsxs("option",{value:"all",children:["All Funds (",qe.length,")"]}),be.map(Y=>s.jsxs("option",{value:Y,children:[Y," (",qe.filter(ce=>ce.fundName===Y).length,")"]},Y))]}),z!=="all"&&s.jsx("button",{onClick:()=>te("all"),className:"text-xs text-[var(--text-dim)] hover:text-[var(--text-muted)] underline",children:"Clear"})]}),Ze.length>0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"}),s.jsx("th",{className:"w-8"})]})}),s.jsx("tbody",{children:Ze.map((Y,ce)=>{const Ce=Y.type==="BUY",De=!Ce&&Y.gainLoss!=null&&Y.gainLoss!==0,ze=De&&Y.gainLoss>=0,ie=O==="all"?ge.find(He=>He.portfolioId===Y.portfolioId):null,Pt={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[Y.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:Y.date}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${Ce?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:Y.type}),s.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${Pt.bg} ${Pt.text}`,children:Y.transactionType})]})}),s.jsxs("td",{className:"py-2.5 px-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate max-w-[200px]",children:Y.fundName}),ie&&s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Hm(ie.portfolioName)})]}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Y.units.toFixed(2)}),s.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",Y.price.toFixed(2)]}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(Y.totalAmount)}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:De?s.jsxs("span",{className:`text-xs font-semibold tabular-nums ${ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ze?"+":"",Q(Y.gainLoss)]}):s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),s.jsx("td",{className:"py-2.5 px-1",children:s.jsx(Um,{txn:Y,isOpen:ve===Y.transactionId,onToggle:()=>F(ve===Y.transactionId?null:Y.transactionId),onEdit:()=>{F(null),P({editTxn:Y})},onDelete:()=>{F(null),ue(Y.transactionId)}})})]},Y.transactionId||`txn-${ce}`)})})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:Ze.map((Y,ce)=>{const Ce=Y.type==="BUY",De=!Ce&&Y.gainLoss!=null&&Y.gainLoss!==0,ze=De&&Y.gainLoss>=0;return s.jsxs("div",{className:"px-4 py-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${Ce?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:Y.type}),s.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:Y.transactionType})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Y.date}),s.jsx(Um,{txn:Y,isOpen:ve===Y.transactionId,onToggle:()=>F(ve===Y.transactionId?null:Y.transactionId),onEdit:()=>{F(null),P({editTxn:Y})},onDelete:()=>{F(null),ue(Y.transactionId)}})]})]}),s.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate mb-1",children:Y.fundName}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("p",{className:"text-[var(--text-dim)]",children:[Y.units.toFixed(2)," units @ ",Y.price.toFixed(2)]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(Y.totalAmount)}),De&&s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",ze?"+":"",Q(Y.gainLoss)]})]})]}),Y.notes&&s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:Y.notes})]},Y.transactionId||`txn-m-${ce}`)})})]}):s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[s.jsx(yp,{size:28,className:"text-[var(--text-dim)]"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:z!=="all"?"No transactions for this fund":"No transactions yet"}),z!=="all"?s.jsx("button",{onClick:()=>te("all"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Show all transactions"}):s.jsx("button",{onClick:()=>P({invest:O!=="all"?O:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first investment"})]})]}),R==="breakdown"&&s.jsx(s.Fragment,{children:Pe.length>0?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Copy allocation data from ",s.jsx("span",{className:"font-semibold text-[var(--text-muted)]",children:"morningstar.in"}),"  Fund  Portfolio tab"]}),Pe.map(Y=>{const ce=w?.find(Ce=>Ce.fundCode===Y.fundCode);return s.jsx(rle,{fund:Y,existing:ce,onConfigure:()=>P({classifyFund:{fund:Y,existing:ce}})},Y.fundCode)})]}):s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[s.jsx(MC,{size:28,className:"text-[var(--text-dim)]"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No funds to configure"})]})})]}),s.jsx(hr,{open:T==="addPortfolio"||!!T?.editPortfolio,onClose:()=>P(null),title:T?.editPortfolio?"Edit Portfolio":"New MF Portfolio",children:s.jsx(Xie,{initial:T?.editPortfolio||void 0,onSave:$t,onDelete:T?.editPortfolio?Ut:void 0,onCancel:()=>P(null)})}),s.jsx(hr,{open:!!T?.invest,onClose:()=>P(null),title:"Invest in Mutual Fund",wide:!0,children:s.jsx(Bse,{portfolioId:typeof T?.invest=="object"?T.invest.portfolioId:typeof T?.invest=="string"?T.invest:void 0,fundCode:typeof T?.invest=="object"?T.invest.fundCode:void 0,fundName:typeof T?.invest=="object"?T.invest.fundName:void 0,onSave:St,onCancel:()=>P(null)},T?.invest?.fundCode||T?.invest?.portfolioId||T?.invest)}),s.jsx(hr,{open:!!T?.redeem,onClose:()=>P(null),title:"Redeem Mutual Fund",wide:!0,children:s.jsx($se,{portfolioId:typeof T?.redeem=="object"?T.redeem.portfolioId:typeof T?.redeem=="string"?T.redeem:void 0,fundCode:typeof T?.redeem=="object"?T.redeem.fundCode:void 0,onSave:Hn,onCancel:()=>P(null)},T?.redeem?.fundCode||T?.redeem?.portfolioId||T?.redeem)}),s.jsx(hr,{open:!!T?.switchFunds,onClose:()=>P(null),title:"Switch Funds",wide:!0,children:s.jsx(qse,{portfolioId:typeof T?.switchFunds=="string"?T.switchFunds:void 0,onSave:is,onCancel:()=>P(null)})}),s.jsx(hr,{open:!!T?.allocations,onClose:()=>P(null),title:"Manage Portfolio Allocation",wide:!0,children:T?.allocations&&s.jsx(Hse,{portfolioId:T.allocations,onSave:Fe,onCancel:()=>P(null)})}),s.jsx(hr,{open:T==="rebalance",onClose:()=>P(null),title:"Rebalance Portfolios",wide:!0,children:T==="rebalance"&&s.jsx(dI,{})}),s.jsx(hr,{open:T==="buyOpp",onClose:()=>P(null),title:"Buy Opportunities",wide:!0,children:T==="buyOpp"&&s.jsx(C3,{})}),s.jsx(hr,{open:!!T?.editTxn,onClose:()=>P(null),title:"Edit Transaction",children:T?.editTxn&&s.jsx(Jse,{txn:T.editTxn,onSave:xe,onCancel:()=>P(null)})}),s.jsx(hr,{open:!!T?.classifyFund,onClose:()=>P(null),title:"Classify Fund",children:T?.classifyFund&&s.jsx(Use,{fund:T.classifyFund.fund,initial:T.classifyFund.existing,onSave:Mt,onCancel:()=>P(null)})})]})}function Go({label:e,value:t,sub:n,positive:r,bold:a}){return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t}),n&&s.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:n})]})}function Um({txn:e,isOpen:t,onToggle:n,onEdit:r,onDelete:a}){const l=j.useRef(null),[c,u]=j.useState({top:0,right:0});if(!e.transactionId)return null;function f(m){if(m.stopPropagation(),!t&&l.current){const h=l.current.getBoundingClientRect();u({top:h.bottom+4,right:window.innerWidth-h.right})}n()}return s.jsxs(s.Fragment,{children:[s.jsx("button",{ref:l,onClick:f,className:"p-1 rounded-md text-[var(--text-dim)] hover:text-[var(--text-muted)] hover:bg-[var(--bg-hover)] transition-colors",title:"Actions",children:s.jsx(r8,{size:14})}),t&&Cd.createPortal(s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{position:"fixed",inset:0,zIndex:9998},onClick:m=>{m.stopPropagation(),n()}}),s.jsxs("div",{style:{position:"fixed",top:c.top,right:c.right,zIndex:9999},className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl py-1 min-w-[120px] animate-fade-in",children:[s.jsxs("button",{onClick:m=>{m.stopPropagation(),r()},className:"w-full text-left px-3 py-2 text-xs text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)] flex items-center gap-2 transition-colors",children:[s.jsx(ka,{size:12})," Edit"]}),s.jsxs("button",{onClick:m=>{m.stopPropagation(),a()},className:"w-full text-left px-3 py-2 text-xs text-[var(--accent-rose)] hover:bg-rose-500/10 flex items-center gap-2 transition-colors",children:[s.jsx(_h,{size:12})," Delete"]})]})]}),document.body)]})}function Jse({txn:e,onSave:t,onCancel:n}){const[r,a]=j.useState(()=>{const w=pa(e.date);return w?w.toISOString().split("T")[0]:""}),[l,c]=j.useState(String(e.units||"")),[u,f]=j.useState(String(e.price||"")),[m,h]=j.useState(e.notes||""),[v,x]=j.useState(!1),b=(Number(l)||0)*(Number(u)||0);async function S(){if(!(!l||Number(l)<=0)&&!(!u||Number(u)<=0)){x(!0);try{await t({transactionId:e.transactionId,date:r,units:l,price:u,notes:m})}finally{x(!1)}}}return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:e.fundName}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[e.type,"  ",e.transactionType,"  ",e.transactionId]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Date"}),s.jsx(ni,{value:r,onChange:a})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Units"}),s.jsx("input",{type:"number",value:l,onChange:w=>c(w.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"NAV (price)"}),s.jsx("input",{type:"number",value:u,onChange:w=>f(w.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]})]}),b>0&&s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(b)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Notes"}),s.jsx("input",{type:"text",value:m,onChange:w=>h(w.target.value),placeholder:"Optional notes...",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-[var(--border-light)]",children:[s.jsx("button",{onClick:n,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:"Cancel"}),s.jsx("button",{onClick:S,disabled:v||!l||Number(l)<=0||!u||Number(u)<=0,className:"px-4 py-2 text-xs font-bold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Saving...":"Update Transaction"})]})]})}const k_=[{key:"Equity",bg:"bg-violet-500"},{key:"Debt",bg:"bg-sky-500"},{key:"Cash",bg:"bg-teal-400"},{key:"Commodities",bg:"bg-yellow-500"},{key:"Real Estate",bg:"bg-orange-500"},{key:"Other",bg:"bg-slate-400"}],ele={Giant:"G",Large:"L",Mid:"M",Small:"S",Micro:"Mi"},tle={India:"IN",Global:"GL"};function rle({fund:e,existing:t,onConfigure:n}){const r=t?.assetAllocation&&Object.keys(t.assetAllocation).length>0,a=t?.equityAllocation&&Object.keys(t.equityAllocation).length>0,l=t?.geoAllocation&&Object.keys(t.geoAllocation).length>0;return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:e.fundName}),s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:e.fundCode})]}),s.jsx("button",{onClick:n,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-violet-400 hover:bg-violet-500/10 transition-colors shrink-0 ml-3",title:"Classify fund",children:s.jsx(e5,{size:14})})]}),r?s.jsxs("div",{className:"px-4 pb-3",children:[s.jsx("div",{className:"h-2 rounded-full overflow-hidden bg-[var(--bg-inset)] flex mb-1.5",children:k_.map(({key:c,bg:u})=>{const f=t.assetAllocation[c]||0;return f>0?s.jsx("div",{className:`h-full ${u}`,style:{width:`${f}%`}},c):null})}),s.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-0.5",children:[k_.map(({key:c,bg:u})=>{const f=t.assetAllocation[c]||0;return f>0?s.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-[var(--text-muted)] tabular-nums",children:[s.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${u}`}),f,"% ",c]},c):null}),a&&s.jsxs("span",{className:"text-[11px] text-[var(--text-dim)] tabular-nums ml-1",children:["| ",Object.entries(ele).map(([c,u])=>{const f=t.equityAllocation[c]||0;return f>0?`${u}${f}`:""}).filter(Boolean).join(" ")]}),l&&s.jsxs("span",{className:"text-[11px] text-[var(--text-dim)] tabular-nums ml-1",children:["| ",Object.entries(tle).map(([c,u])=>{const f=t.geoAllocation[c]||0;return f>0?`${u}${f}`:""}).filter(Boolean).join(" ")]})]})]}):s.jsxs("div",{className:"px-4 pb-3",children:[s.jsx("div",{className:"h-2 rounded-full bg-[var(--bg-inset)] mb-1"}),s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] italic",children:"Not configured  click  to classify"})]})]})}function Vb({title:e,data:t,bgMap:n}){return s.jsxs("div",{className:"rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-3",children:[s.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider mb-2 text-center",children:e}),s.jsx("div",{className:"w-full h-[120px]",children:s.jsx(AT,{width:"100%",height:"100%",children:s.jsxs(N3,{children:[s.jsx(Jw,{data:t,dataKey:"pct",nameKey:"name",cx:"50%",cy:"50%",innerRadius:30,outerRadius:48,paddingAngle:2,stroke:"none",children:t.map((r,a)=>s.jsx(Gd,{fill:r.fill},a))}),s.jsx(H4,{content:({payload:r})=>{if(!r?.length)return null;const a=r[0].payload;return s.jsxs("div",{className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg px-2.5 py-1.5 shadow-xl",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:a.name}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[a.pct.toFixed(1),"%"]})]})}})]})})}),s.jsx("div",{className:"flex flex-wrap justify-center gap-x-3 gap-y-0.5 mt-1",children:t.map(r=>s.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-[var(--text-muted)] tabular-nums",children:[s.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${n[r.name]||"bg-slate-500"}`}),r.name," ",r.pct.toFixed(0),"%"]},r.name))})]})}function nle({initial:e,onSave:t,onDelete:n,onCancel:r}){const{activeMembers:a,activeInvestmentAccounts:l}=pt(),c=!!e,[u,f]=j.useState({portfolioName:e?.portfolioName||"",ownerId:e?.ownerId||"",investmentAccountId:e?.investmentAccountId||""}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(A,_){f(E=>({...E,[A]:_})),h(E=>({...E,[A]:void 0}))}function S(A){f(_=>({..._,ownerId:A,investmentAccountId:""})),h(_=>({..._,ownerId:void 0}))}const w=j.useMemo(()=>u.ownerId?l.filter(A=>A.memberId===u.ownerId&&(A.accountType==="Demat + Trading"||A.accountType==="Trading")).map(A=>({value:A.accountId,label:`${A.accountName} - ${A.platformBroker}`})):[],[l,u.ownerId]);function y(){const A={};return u.portfolioName.trim()||(A.portfolioName="Required"),u.ownerId||(A.ownerId="Required"),u.investmentAccountId||(A.investmentAccountId="Required"),h(A),Object.keys(A).length===0}async function C(){if(y()){x(!0);try{await t(u)}finally{x(!1)}}}const M=a.map(A=>({value:A.memberId,label:`${A.memberName} (${A.relationship})`}));return s.jsxs("div",{className:"space-y-4",children:[s.jsx(le,{label:"Portfolio Name",required:!0,error:m.portfolioName,children:s.jsx(ke,{value:u.portfolioName,onChange:A=>b("portfolioName",A),placeholder:"e.g., Long-Term Growth"})}),s.jsx(le,{label:"Owner",required:!0,error:m.ownerId,children:s.jsx(We,{value:u.ownerId,onChange:S,options:M,placeholder:"Select family member..."})}),s.jsx(le,{label:"Investment Account",required:!0,error:m.investmentAccountId,children:s.jsx(We,{value:u.investmentAccountId,onChange:A=>b("investmentAccountId",A),options:w,placeholder:u.ownerId?w.length?"Select demat account...":"No demat accounts for this member":"Select owner first..."})}),c&&n&&s.jsx(ns,{onClick:n}),s.jsx(an,{onCancel:r,onSubmit:C,submitLabel:c?"Update":"Create Portfolio",loading:v})]})}function ale({portfolioId:e,onSave:t,onCancel:n}){const{stockPortfolios:r}=pt(),{selectedMember:a}=Yr(),l=j.useMemo(()=>{const M=r.filter(A=>A.status==="Active");return a==="all"?M:M.filter(A=>A.ownerId===a)},[r,a]),[c,u]=j.useState({portfolioId:e||"",symbol:"",companyName:"",exchange:"NSE",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[f,m]=j.useState({}),[h,v]=j.useState(!1);function x(M,A){u(_=>({..._,[M]:A})),m(_=>({..._,[M]:void 0}))}const b=j.useMemo(()=>{const M=Number(c.quantity)||0,A=Number(c.pricePerShare)||0;return M*A},[c.quantity,c.pricePerShare]),S=j.useMemo(()=>b+(Number(c.brokerage)||0),[b,c.brokerage]);function w(){const M={};return c.portfolioId||(M.portfolioId="Required"),c.symbol.trim()||(M.symbol="Required"),c.companyName.trim()||(M.companyName="Required"),c.date||(M.date="Required"),(!c.quantity||Number(c.quantity)<=0)&&(M.quantity="Must be > 0"),(!c.pricePerShare||Number(c.pricePerShare)<=0)&&(M.pricePerShare="Must be > 0"),m(M),Object.keys(M).length===0}async function y(){if(w()){v(!0);try{await t(c)}finally{v(!1)}}}const C=l.map(M=>{const A=M.portfolioName?.replace(/^PFL-/,"")||M.portfolioName,_=M.ownerName?`${A} (${M.ownerName})`:A;return{value:M.portfolioId,label:_}});return s.jsxs("div",{className:"space-y-4",children:[s.jsx(le,{label:"Portfolio",required:!0,error:f.portfolioId,children:s.jsx(We,{value:c.portfolioId,onChange:M=>x("portfolioId",M),options:C,placeholder:"Select portfolio..."})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Stock Symbol",required:!0,error:f.symbol,children:s.jsx(ke,{value:c.symbol,onChange:M=>x("symbol",M.toUpperCase()),placeholder:"e.g., RELIANCE"})}),s.jsx(le,{label:"Company Name",required:!0,error:f.companyName,children:s.jsx(ke,{value:c.companyName,onChange:M=>x("companyName",M),placeholder:"e.g., Reliance Industries Ltd"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(le,{label:"Purchase Date",required:!0,error:f.date,children:s.jsx(ni,{value:c.date,onChange:M=>x("date",M)})}),s.jsx(le,{label:"Quantity (Shares)",required:!0,error:f.quantity,children:s.jsx(ke,{type:"number",value:c.quantity,onChange:M=>x("quantity",M),placeholder:"e.g., 100"})}),s.jsx(le,{label:"Price per Share ()",required:!0,error:f.pricePerShare,children:s.jsx(ke,{type:"number",value:c.pricePerShare,onChange:M=>x("pricePerShare",M),placeholder:"e.g., 2500"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Brokerage ()",children:s.jsx(ke,{type:"number",value:c.brokerage,onChange:M=>x("brokerage",M),placeholder:"0"})}),s.jsx("div",{className:"flex flex-col justify-end",children:s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(b)}),Number(c.brokerage)>0&&s.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:["Net: ",Q(S)]})]})})]}),s.jsx(le,{label:"Notes",children:s.jsx(ke,{value:c.notes,onChange:M=>x("notes",M),placeholder:"Optional notes..."})}),s.jsx(an,{onCancel:n,onSubmit:y,submitLabel:"Buy Stock",loading:h})]})}function ile({portfolioId:e,onSave:t,onCancel:n}){const{stockPortfolios:r,stockHoldings:a}=pt(),{selectedMember:l}=Yr(),c=j.useMemo(()=>{const L=r.filter(R=>R.status==="Active");return l==="all"?L:L.filter(R=>R.ownerId===l)},[r,l]),[u,f]=j.useState({portfolioId:e||"",symbol:"",companyName:"",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(L,R){f(B=>({...B,[L]:R})),h(B=>({...B,[L]:void 0}))}const S=j.useMemo(()=>u.portfolioId?a.filter(L=>L.portfolioId===u.portfolioId&&L.quantity>0):[],[a,u.portfolioId]),w=S.find(L=>L.symbol===u.symbol),y=w?.quantity||0,C=j.useMemo(()=>{const L=Number(u.quantity)||0,R=Number(u.pricePerShare)||0;return L*R},[u.quantity,u.pricePerShare]),M=j.useMemo(()=>C-(Number(u.brokerage)||0),[C,u.brokerage]);function A(L){const R=S.find(B=>B.symbol===L);f(B=>({...B,symbol:L,companyName:R?.companyName||""})),h(B=>({...B,symbol:void 0}))}function _(L){f(R=>({...R,portfolioId:L,symbol:"",companyName:"",quantity:""})),h(R=>({...R,portfolioId:void 0}))}function E(){const L={};return u.portfolioId||(L.portfolioId="Required"),u.symbol||(L.symbol="Required"),u.date||(L.date="Required"),(!u.quantity||Number(u.quantity)<=0)&&(L.quantity="Must be > 0"),Number(u.quantity)>y&&(L.quantity=`Max ${y} shares`),(!u.pricePerShare||Number(u.pricePerShare)<=0)&&(L.pricePerShare="Must be > 0"),h(L),Object.keys(L).length===0}async function T(){if(E()){x(!0);try{await t(u)}finally{x(!1)}}}const P=c.map(L=>{const R=L.portfolioName?.replace(/^PFL-/,"")||L.portfolioName,B=L.ownerName?`${R} (${L.ownerName})`:R;return{value:L.portfolioId,label:B}}),O=S.map(L=>({value:L.symbol,label:`${L.symbol}  ${L.quantity} shares`}));return s.jsxs("div",{className:"space-y-4",children:[s.jsx(le,{label:"Portfolio",required:!0,error:m.portfolioId,children:s.jsx(We,{value:u.portfolioId,onChange:_,options:P,placeholder:"Select portfolio..."})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Stock to Sell",required:!0,error:m.symbol,children:s.jsx(We,{value:u.symbol,onChange:A,options:O,placeholder:u.portfolioId?S.length?"Select stock...":"No holdings in this portfolio":"Select portfolio first..."})}),w&&s.jsx("div",{className:"flex flex-col justify-end",children:s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:w.companyName}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:y})," shares @ ",Q(w.avgBuyPrice)," avg"]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Sale Date",required:!0,error:m.date,children:s.jsx(ni,{value:u.date,onChange:L=>b("date",L)})}),s.jsx(le,{label:"Quantity to Sell",required:!0,error:m.quantity,children:s.jsx(ke,{type:"number",value:u.quantity,onChange:L=>b("quantity",L),placeholder:y?`Max: ${y}`:""})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Sale Price per Share ()",required:!0,error:m.pricePerShare,children:s.jsx(ke,{type:"number",value:u.pricePerShare,onChange:L=>b("pricePerShare",L),placeholder:"e.g., 2750"})}),s.jsx(le,{label:"Brokerage ()",children:s.jsx(ke,{type:"number",value:u.brokerage,onChange:L=>b("brokerage",L),placeholder:"0"})})]}),C>0&&s.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Net Sale Amount"}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(M)})]}),w&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. P&L"}),(()=>{const L=Number(u.quantity)*w.avgBuyPrice,R=M-L,B=R>=0;return s.jsxs("p",{className:`text-sm font-bold tabular-nums ${B?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[B?"+":"",Q(R)]})})()]})]})}),s.jsx(le,{label:"Notes",children:s.jsx(ke,{value:u.notes,onChange:L=>b("notes",L),placeholder:"Optional notes..."})}),s.jsx(an,{onCancel:n,onSubmit:T,submitLabel:"Sell Stock",loading:v})]})}function sle(){const{selectedMember:e}=Yr(),{stockPortfolios:t,stockHoldings:n,stockTransactions:r,activeInvestmentAccounts:a,addStockPortfolio:l,updateStockPortfolio:c,deleteStockPortfolio:u,buyStock:f,sellStock:m}=pt(),{showToast:h,showBlockUI:v,hideBlockUI:x}=li(),b=oi(),{mv:S}=ci(),[w,y]=j.useState(null),[C,M]=j.useState("all"),[A,_]=j.useState("holdings"),[E,T]=j.useState(!1),P=j.useMemo(()=>{if(!t)return[];const z=t.filter(te=>te.status!=="Inactive");return e==="all"?z:z.filter(te=>te.ownerId===e)},[t,e]),O=j.useMemo(()=>n?P.map(z=>{const te=n.filter(ge=>ge.portfolioId===z.portfolioId),ve=(r||[]).filter(ge=>ge.portfolioId===z.portfolioId),F=te.reduce((ge,W)=>ge+W.totalInvestment,0),ae=te.reduce((ge,W)=>ge+W.currentValue,0),he=ae-F,ye=ve.filter(ge=>ge.type==="SELL"&&ge.realizedPL!=null).reduce((ge,W)=>ge+W.realizedPL,0),je=he+ye,Ie=F>0?je/F*100:0,me=a.find(ge=>ge.accountId===z.investmentAccountId);return{...z,holdings:te,txns:ve,invested:F,current:ae,unrealizedPL:he,realizedPL:ye,totalPL:je,totalPLPct:Ie,stockCount:te.length,platform:me?.platformBroker||z.investmentAccountName||"",clientId:me?.accountClientId||""}}):[],[P,n,r,a]),L=j.useMemo(()=>{const z=C==="all"?O:O.filter(me=>me.portfolioId===C),te=z.reduce((me,ge)=>me+ge.invested,0),ve=z.reduce((me,ge)=>me+ge.current,0),F=z.reduce((me,ge)=>me+ge.unrealizedPL,0),ae=z.reduce((me,ge)=>me+ge.realizedPL,0),he=F+ae,ye=te>0?he/te*100:0,je=te>0?F/te*100:0,Ie=z.reduce((me,ge)=>me+ge.stockCount,0);return{invested:te,current:ve,unrealizedPL:F,unrealizedPLPct:je,realizedPL:ae,totalPL:he,totalPLPct:ye,stocks:Ie}},[O,C]),R=j.useMemo(()=>n?C==="all"?n.filter(z=>P.some(te=>te.portfolioId===z.portfolioId)):n.filter(z=>z.portfolioId===C):[],[n,P,C]),B=j.useMemo(()=>r?(C==="all"?r.filter(te=>P.some(ve=>ve.portfolioId===te.portfolioId)):r.filter(te=>te.portfolioId===C)).sort((te,ve)=>new Date(ve.date)-new Date(te.date)):[],[r,P,C]);if(t===null||n===null)return s.jsx(as,{title:"Loading stocks",cards:5});const D=O.find(z=>z.portfolioId===C),K=C==="all"?`All Portfolios (${P.length})`:`${D?.portfolioName}  ${S(D?.ownerName,"name")}`;async function X(z){v("Saving...");try{w?.editPortfolio?await c(w.editPortfolio.portfolioId,z):await l(z),h(w?.editPortfolio?"Portfolio updated":"Portfolio created"),y(null)}catch(te){h(te.message||"Failed to save portfolio","error")}finally{x()}}async function Z(){if(w?.editPortfolio&&await b("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){v("Deactivating...");try{await u(w.editPortfolio.portfolioId),h("Portfolio deactivated"),M("all"),y(null)}catch(z){h(z.message||"Failed to deactivate portfolio","error")}finally{x()}}}async function $(z){v("Recording purchase...");try{await f(z),h("Stock purchase recorded"),y(null)}catch(te){h(te.message||"Failed to record purchase","error")}finally{x()}}async function G(z){v("Recording sale...");try{await m(z),h("Stock sale recorded"),y(null)}catch(te){h(te.message||"Failed to record sale","error")}finally{x()}}return s.jsxs("div",{className:"space-y-4",children:[P.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(Ju,{size:32,className:"text-[var(--text-dim)]"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No stock portfolios yet"}),s.jsx("button",{onClick:()=>y("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>T(!E),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[s.jsx(Ju,{size:14,className:"text-violet-400 shrink-0"}),s.jsx("span",{className:"truncate",children:K}),s.jsx(Ga,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${E?"rotate-180":""}`})]}),E&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>T(!1)}),s.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl min-w-[280px] py-1 overflow-hidden",children:[s.jsxs("button",{onClick:()=>{M("all"),T(!1),_("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${C==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",P.length,")"]}),s.jsx("div",{className:"border-t border-[var(--border-light)]"}),O.map(z=>{const te=z.totalPL>=0;return s.jsx("button",{onClick:()=>{M(z.portfolioId),T(!1),_("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${C===z.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${C===z.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:z.portfolioName}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[S(z.ownerName,"name"),"  ",z.platform]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.current)}),s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${te?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[te?"+":"",z.totalPLPct.toFixed(1),"%"]})]})]})},z.portfolioId)})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[D&&s.jsxs("button",{onClick:()=>y({editPortfolio:D}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(ka,{size:12})," Edit"]}),s.jsxs("button",{onClick:()=>y("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Pr,{size:14})," New Portfolio"]})]})]}),D&&s.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Platform:"})," ",D.platform]}),s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",S(D.clientId,"clientId")]}),s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Stocks:"})," ",D.stockCount]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[s.jsx(Wu,{label:"Invested",value:Q(L.invested)}),s.jsx(Wu,{label:"Current Value",value:Q(L.current),bold:!0}),s.jsx(Wu,{label:"Unrealized P&L",value:`${L.unrealizedPL>=0?"+":""}${Q(L.unrealizedPL)}`,sub:`${L.unrealizedPLPct>=0?"+":""}${L.unrealizedPLPct.toFixed(1)}%`,positive:L.unrealizedPL>=0}),s.jsx(Wu,{label:"Realized P&L",value:`${L.realizedPL>=0?"+":""}${Q(L.realizedPL)}`,positive:L.realizedPL>=0}),s.jsx(Wu,{label:"Total P&L",value:`${L.totalPL>=0?"+":""}${Q(L.totalPL)}`,sub:`${L.totalPLPct>=0?"+":""}${L.totalPLPct.toFixed(1)}%`,positive:L.totalPL>=0,bold:!0})]}),s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[s.jsxs("button",{onClick:()=>_("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${A==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[s.jsx(GO,{size:12})," Holdings (",R.length,")"]}),s.jsxs("button",{onClick:()=>_("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${A==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[s.jsx(yp,{size:12})," Transactions (",B.length,")"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>C!=="all"&&y({buy:C}),disabled:C==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${C==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:C==="all"?"Select a portfolio first":"",children:[s.jsx(ic,{size:14})," Buy"]}),s.jsxs("button",{onClick:()=>C!=="all"&&R.length>0&&y({sell:C}),disabled:C==="all"||R.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${C==="all"||R.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:C==="all"?"Select a portfolio first":"",children:[s.jsx(Md,{size:14})," Sell"]})]})]}),A==="holdings"&&s.jsx(s.Fragment,{children:R.length>0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Avg Price"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Price"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Value"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Returns"})]})}),s.jsxs("tbody",{children:[R.map(z=>{const te=z.unrealizedPL>=0,ve=C==="all"?O.find(F=>F.portfolioId===z.portfolioId):null;return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsxs("td",{className:"py-2.5 px-4",children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:z.companyName}),s.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[z.symbol,ve&&s.jsxs("span",{className:"ml-1.5 text-[var(--text-dim)] font-sans",children:[" ",ve.portfolioName]})]})]}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:z.quantity}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(z.avgBuyPrice)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.currentPrice)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Q(z.totalInvestment)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.currentValue)}),s.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${te?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[te?"+":"",Q(z.unrealizedPL)]}),s.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${te?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[te?"+":"",z.unrealizedPLPct.toFixed(1),"%"]})]},z.holdingId)}),s.jsxs("tr",{className:"bg-[var(--bg-inset)] border-t-2 border-[var(--border-light)]",children:[s.jsxs("td",{className:"py-2.5 px-4 text-xs font-semibold text-[var(--text-muted)]",children:["Total (",R.length," stocks)"]}),s.jsx("td",{colSpan:3,className:"py-2.5 px-3"}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(L.invested)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(L.current)}),s.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${L.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L.unrealizedPL>=0?"+":"",Q(L.unrealizedPL)]}),s.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${L.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L.unrealizedPLPct>=0?"+":"",L.unrealizedPLPct.toFixed(1),"%"]})]})]})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:R.map(z=>{const te=z.unrealizedPL>=0,ve=C==="all"?O.find(F=>F.portfolioId===z.portfolioId):null;return s.jsxs("div",{className:"px-4 py-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:z.companyName}),s.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[z.symbol,ve&&s.jsxs("span",{className:"ml-1 font-sans",children:[" ",ve.portfolioName]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:`text-xs font-bold tabular-nums ${te?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[te?"+":"",z.unrealizedPLPct.toFixed(1),"%"]}),s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${te?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[te?"+":"",Q(z.unrealizedPL)]})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs gap-2",children:[s.jsxs("div",{className:"text-[var(--text-dim)] min-w-0 truncate",children:[s.jsxs("span",{children:[z.quantity," shares"]}),s.jsx("span",{className:"mx-1",children:""}),s.jsxs("span",{children:["Avg ",Q(z.avgBuyPrice)]}),s.jsx("span",{className:"mx-1",children:""}),s.jsxs("span",{children:["CMP ",Q(z.currentPrice)]})]}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums shrink-0",children:Q(z.currentValue)})]})]},z.holdingId)})})]}):s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[s.jsx(Ju,{size:28,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",D?" in this portfolio":""]}),s.jsx("button",{onClick:()=>y({buy:C!=="all"?C:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Buy your first stock"})]})}),A==="transactions"&&s.jsx(s.Fragment,{children:B.length>0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Brokerage"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Net"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Realized P&L"})]})}),s.jsx("tbody",{children:B.map(z=>{const te=z.type==="BUY",ve=!te&&z.realizedPL!=null,F=ve&&z.realizedPL>=0,ae=C==="all"?O.find(he=>he.portfolioId===z.portfolioId):null;return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)]",children:z.date}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${te?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:z.type})}),s.jsxs("td",{className:"py-2.5 px-3",children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:z.symbol}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[140px]",children:[z.companyName,ae&&s.jsxs("span",{children:["  ",ae.portfolioName]})]})]}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:z.quantity}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(z.pricePerShare)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Q(z.totalAmount)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-dim)] tabular-nums",children:z.brokerage>0?Q(z.brokerage):""}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.netAmount)}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:ve?s.jsxs("span",{className:`text-xs font-semibold tabular-nums ${F?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[F?"+":"",Q(z.realizedPL)]}):s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},z.transactionId)})})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:B.map(z=>{const te=z.type==="BUY",ve=!te&&z.realizedPL!=null,F=ve&&z.realizedPL>=0;return s.jsxs("div",{className:"px-4 py-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${te?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:z.type}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:z.symbol})]}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:z.date})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[z.quantity," shares @ ",Q(z.pricePerShare)]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.netAmount)}),ve&&s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${F?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["P&L: ",F?"+":"",Q(z.realizedPL)]})]})]}),z.notes&&s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:z.notes})]},z.transactionId)})})]}):s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[s.jsx(yp,{size:28,className:"text-[var(--text-dim)]"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions yet"}),s.jsx("button",{onClick:()=>y({buy:C!=="all"?C:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first purchase"})]})})]}),s.jsx(hr,{open:w==="addPortfolio"||!!w?.editPortfolio,onClose:()=>y(null),title:w?.editPortfolio?"Edit Portfolio":"New Stock Portfolio",children:s.jsx(nle,{initial:w?.editPortfolio||void 0,onSave:X,onDelete:w?.editPortfolio?Z:void 0,onCancel:()=>y(null)})}),s.jsx(hr,{open:!!w?.buy,onClose:()=>y(null),title:"Buy Stock",wide:!0,children:s.jsx(ale,{portfolioId:typeof w?.buy=="string"?w.buy:void 0,onSave:$,onCancel:()=>y(null)})}),s.jsx(hr,{open:!!w?.sell,onClose:()=>y(null),title:"Sell Stock",wide:!0,children:s.jsx(ile,{portfolioId:typeof w?.sell=="string"?w.sell:void 0,onSave:G,onCancel:()=>y(null)})})]})}function Wu({label:e,value:t,sub:n,positive:r,bold:a}){return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t}),n&&s.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:n})]})}const lle=["Self","Spouse","Father","Mother","Son","Daughter","Brother","Sister","Other"].map(e=>({value:e,label:e})),Ym={pan:/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,aadhar:/^\d{12}$/,email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,mobile:/^\d{10}$/};function ole({initial:e,onSave:t,onDelete:n,onCancel:r}){const a=!!e,[l,c]=j.useState({memberName:e?.memberName||"",relationship:e?.relationship||"",pan:e?.pan||"",aadhar:e?.aadhar||"",email:e?.email||"",mobile:e?.mobile||"",includeInEmailReports:e?.includeInEmailReports??!0,status:e?.status||"Active"}),[u,f]=j.useState({}),[m,h]=j.useState(!1),[v,x]=j.useState(()=>{const A=e?.dynamicFields||{};return Object.entries(A).map(([_,E])=>({key:_,value:E}))});function b(A,_){c(E=>({...E,[A]:_})),f(E=>({...E,[A]:void 0}))}function S(){const A={};return l.memberName.trim()||(A.memberName="Required"),l.relationship||(A.relationship="Required"),Ym.pan.test(l.pan.toUpperCase())||(A.pan="Format: ABCDE1234F"),Ym.aadhar.test(l.aadhar)||(A.aadhar="12 digits required"),Ym.email.test(l.email)||(A.email="Invalid email"),Ym.mobile.test(l.mobile)||(A.mobile="10 digits required"),f(A),Object.keys(A).length===0}function w(){x(A=>[...A,{key:"",value:""}])}function y(A,_,E){x(T=>T.map((P,O)=>O===A?{...P,[_]:E}:P))}function C(A){x(_=>_.filter((E,T)=>T!==A))}async function M(){if(!S())return;const A={};v.forEach(({key:_,value:E})=>{const T=_.trim();T&&(A[T]=E)}),h(!0);try{await t({...l,pan:l.pan.toUpperCase(),dynamicFields:A})}finally{h(!1)}}return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Member Name",required:!0,error:u.memberName,children:s.jsx(ke,{value:l.memberName,onChange:A=>b("memberName",A),placeholder:"e.g., Jagadeesh"})}),s.jsx(le,{label:"Relationship",required:!0,error:u.relationship,children:s.jsx(We,{value:l.relationship,onChange:A=>b("relationship",A),options:lle,placeholder:"Select..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"PAN",required:!0,error:u.pan,children:s.jsx(ke,{sensitive:!0,value:l.pan,onChange:A=>b("pan",A.toUpperCase()),placeholder:"ABCDE1234F",maxLength:10})}),s.jsx(le,{label:"Aadhar",required:!0,error:u.aadhar,children:s.jsx(ke,{sensitive:!0,value:l.aadhar,onChange:A=>b("aadhar",A.replace(/\D/g,"")),placeholder:"123456789012",maxLength:12})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Email",required:!0,error:u.email,children:s.jsx(ke,{sensitive:!0,type:"email",value:l.email,onChange:A=>b("email",A),placeholder:"email@example.com"})}),s.jsx(le,{label:"Mobile",required:!0,error:u.mobile,children:s.jsx(ke,{sensitive:!0,value:l.mobile,onChange:A=>b("mobile",A.replace(/\D/g,"")),placeholder:"9876543210",maxLength:10})})]}),s.jsx(die,{checked:l.includeInEmailReports,onChange:A=>b("includeInEmailReports",A),label:"Include in email reports"}),a&&s.jsx(le,{label:"Status",children:s.jsx(We,{value:l.status,onChange:A=>b("status",A),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)]",children:"Custom Fields"}),s.jsxs("button",{onClick:w,type:"button",className:"flex items-center gap-1 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[s.jsx(Pr,{size:12})," Add Field"]})]}),v.length===0&&s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"No custom fields. Add DOB, occupation, blood group, etc."}),s.jsx("div",{className:"space-y-2",children:v.map((A,_)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{value:A.key,onChange:E=>y(_,"key",E.target.value),placeholder:"Field name",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),s.jsx("input",{value:A.value,onChange:E=>y(_,"value",E.target.value),placeholder:"Value",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),s.jsx("button",{onClick:()=>C(_),type:"button",className:"p-1 text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:s.jsx(_h,{size:13})})]},_))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[a&&n?s.jsx(ns,{onClick:n}):s.jsx("div",{}),s.jsx(an,{onCancel:r,onSubmit:M,submitLabel:a?"Update":"Add Member",loading:m})]})]})}const Vm=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],D_={Self:"bg-violet-500/15 text-[var(--accent-violet)]",Spouse:"bg-rose-500/15 text-[var(--accent-rose)]",Father:"bg-blue-500/15 text-[var(--accent-blue)]",Mother:"bg-amber-500/15 text-[var(--accent-amber)]",Son:"bg-emerald-500/15 text-emerald-400",Daughter:"bg-emerald-500/15 text-emerald-400"};function cle(){const{members:e,addMember:t,updateMember:n,deleteMember:r}=pt(),{showToast:a,showBlockUI:l,hideBlockUI:c}=li(),u=oi(),{mv:f}=ci(),[m,h]=j.useState(null);if(e===null)return s.jsx(as,{title:"Loading family",cards:3});const v=e.filter(S=>S.status!=="Inactive");async function x(S){l("Saving member...");try{m?.edit?await n(m.edit.memberId,S):await t(S),a(m?.edit?"Member updated":"Member added"),h(null)}catch(w){a(w.message||"Failed to save member","error")}finally{c()}}async function b(){if(m?.edit&&await u("Deactivate this family member?",{title:"Deactivate Member",confirmLabel:"Deactivate"})){l("Deactivating...");try{await r(m.edit.memberId),a("Member deactivated"),h(null)}catch(S){a(S.message||"Failed to deactivate member","error")}finally{c()}}}return[...new Set(v.flatMap(S=>Object.keys(S.dynamicFields||{})))],s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>h("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Pr,{size:14})," Add Member"]})}),v.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(sc,{size:32,className:"text-[var(--text-dim)]"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No family members yet"}),s.jsx("button",{onClick:()=>h("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first member"})]}):s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Relationship"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"PAN"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Aadhaar"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Mobile"}),s.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),s.jsx("tbody",{children:v.map((S,w)=>{const y=S.dynamicFields||{},C=Object.entries(y);return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsx("td",{className:"py-2.5 px-4",children:s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Vm[w%Vm.length]}`,children:S.memberName.charAt(0)}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:f(S.memberName,"name")}),C.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-0.5",children:[C.slice(0,3).map(([M,A])=>s.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[M,": ",A]},M)),C.length>3&&s.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",C.length-3," more"]})]})]})]})}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${D_[S.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:S.relationship})}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:f(S.pan,"pan")||""}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:f(S.aadhar,"aadhaar")||""}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] truncate max-w-[180px]",children:f(S.email,"email")}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:f(S.mobile,"mobile")}),s.jsx("td",{className:"py-2.5 px-2",children:s.jsx("button",{onClick:()=>h({edit:S}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:s.jsx(ka,{size:12})})})]},S.memberId)})})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:v.map((S,w)=>{const y=S.dynamicFields||{},C=Object.entries(y);return s.jsxs("div",{onClick:()=>h({edit:S}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Vm[w%Vm.length]}`,children:S.memberName.charAt(0)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:f(S.memberName,"name")}),s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${D_[S.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:S.relationship})]}),s.jsx("p",{className:"text-xs text-[var(--text-muted)] truncate",children:f(S.email,"email")})]})]}),s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-1",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:f(S.mobile,"mobile")}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["PAN: ",f(S.pan,"pan")||""]}),S.aadhar&&s.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["Aadhaar: ",f(S.aadhar,"aadhaar")]})]})]}),C.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[C.slice(0,3).map(([M,A])=>s.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[M,": ",A]},M)),C.length>3&&s.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",C.length-3," more"]})]})]},S.memberId)})})]}),s.jsx(hr,{open:!!m,onClose:()=>h(null),title:m?.edit?"Edit Member":"Add Family Member",wide:!0,children:s.jsx(ole,{initial:m?.edit||void 0,onSave:x,onDelete:m?.edit?b:void 0,onCancel:()=>h(null)})})]})}const E_=["Retirement","Emergency Fund","Child Education","Home Purchase","Car","Travel","Wedding","Custom"].map(e=>({value:e,label:e})),__=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],Gm={Retirement:{inflation:6,cagr:12},"Emergency Fund":{inflation:0,cagr:7},"Child Education":{inflation:10,cagr:12},"Home Purchase":{inflation:8,cagr:12},Wedding:{inflation:6,cagr:12},Car:{inflation:5,cagr:10},Travel:{inflation:6,cagr:10},Custom:{inflation:6,cagr:12}},O_=[{label:"Basics",icon:Ad},{label:"Financials",icon:e8},{label:"Review",icon:Ac}];function ule({initial:e,onSave:t,onDelete:n,onCancel:r}){const a=!!e,{activeMembers:l}=pt(),c=(l||[]).map(O=>({value:O.memberId,label:O.relationship?`${O.memberName} (${O.relationship})`:O.memberName})),[u,f]=j.useState(0),[m,h]=j.useState(()=>{if(a){const O=(e.expectedInflation||.06)*100,L=(e.expectedCAGR||.12)*100,R=e.targetDate?Math.max(0,(new Date(e.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,B=O/100;let D=e.targetAmount||0;B>0&&R>0&&e.goalType!=="Emergency Fund"&&(D=e.targetAmount/Math.pow(1+B,R));const K=l.find(X=>X.memberName===e.familyMemberName);return{goalType:e.goalType||"",goalName:e.goalName||"",familyMemberId:K?.memberId||"",todaysCost:Math.round(D).toString(),targetDate:e.targetDate||"",lumpsum:(e.lumpsumInvested||0).toString(),monthlySIP:(e.monthlyInvestment||0).toString(),inflation:O.toString(),cagr:L.toString(),priority:e.priority||"Medium",notes:e.notes||"",monthlyExpenses:(e.monthlyExpenses||"").toString(),emergencyMonths:(e.emergencyMonths||6).toString()}}return{goalType:"",goalName:"",familyMemberId:"",todaysCost:"",targetDate:"",lumpsum:"",monthlySIP:"",inflation:"6",cagr:"12",priority:"Medium",notes:"",monthlyExpenses:"",emergencyMonths:"6"}}),[v,x]=j.useState({}),[b,S]=j.useState(!1);function w(O,L){h(R=>({...R,[O]:L})),x(R=>({...R,[O]:void 0}))}j.useEffect(()=>{if(a||!m.goalType)return;const O=Gm[m.goalType]||Gm.Custom;h(L=>({...L,inflation:O.inflation.toString(),cagr:O.cagr.toString()}))},[m.goalType,a]);const y=m.goalType==="Retirement",C=m.goalType==="Emergency Fund",M=j.useMemo(()=>{const O=(Number(m.inflation)||0)/100,R=(Number(m.cagr)||0)/100/12,B=Number(m.lumpsum)||0,D=Number(m.monthlyExpenses)||0,K=Number(m.emergencyMonths)||6,X=m.targetDate?Math.max(0,(new Date(m.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,Z=Math.round(X*12);let $=0,G=0;y?($=D*12*25,G=$*Math.pow(1+O,X)):C?($=D*K,G=$):($=Number(m.todaysCost)||0,G=O>0&&X>0?$*Math.pow(1+O,X):$),G=Math.round(G);const z=B>0&&Z>0?B*Math.pow(1+R,Z):B;let te=0;if(G>0&&Z>0){const ye=G-z;ye>0&&R>0?te=ye/((Math.pow(1+R,Z)-1)/R):ye>0&&(te=ye/Z),te=Math.max(0,Math.ceil(te))}const ve=te>0&&R>0&&Z>0?te*((Math.pow(1+R,Z)-1)/R):te*Z,F=Math.round(B+te*Z),ae=Math.round(G-F),he=B>0&&z>=G;return{todaysCost:$,inflatedTarget:G,yearsToGo:X,months:Z,fvLumpsum:Math.round(z),requiredSIP:te,fvRequiredSIP:Math.round(ve),planTotalInvested:F,planReturns:ae,lumpsumCoversGoal:he,hasTarget:G>0}},[m.todaysCost,m.targetDate,m.lumpsum,m.inflation,m.cagr,m.monthlyExpenses,m.emergencyMonths,y,C]);function A(O){const L={};return O===0&&(m.goalType||(L.goalType="Required"),m.goalName.trim()||(L.goalName="Required")),O===1&&(m.targetDate||(L.targetDate="Required"),y||C?(!m.monthlyExpenses||Number(m.monthlyExpenses)<=0)&&(L.monthlyExpenses="Required"):(!m.todaysCost||Number(m.todaysCost)<=0)&&(L.todaysCost="Must be > 0")),x(L),Object.keys(L).length===0}function _(){const O={};return m.goalType||(O.goalType="Required"),m.goalName.trim()||(O.goalName="Required"),m.targetDate||(O.targetDate="Required"),y||C?(!m.monthlyExpenses||Number(m.monthlyExpenses)<=0)&&(O.monthlyExpenses="Required"):(!m.todaysCost||Number(m.todaysCost)<=0)&&(O.todaysCost="Must be > 0"),x(O),Object.keys(O).length===0}function E(){A(u)&&f(O=>Math.min(O+1,2))}async function T(){if(!_())return;const O=m.familyMemberId&&l.find(L=>L.memberId===m.familyMemberId)?.memberName||"Family";S(!0);try{await t({goalType:m.goalType,goalName:m.goalName,familyMemberId:m.familyMemberId||"",familyMember:O,targetAmount:M.inflatedTarget,targetDate:m.targetDate,priority:m.priority,notes:m.notes,expectedInflation:(Number(m.inflation)||0)/100,expectedCAGR:(Number(m.cagr)||0)/100,monthlyInvestment:M.requiredSIP||0,lumpsumInvested:Number(m.lumpsum)||0,monthlyExpenses:y||C?Number(m.monthlyExpenses)||0:void 0,emergencyMonths:C?Number(m.emergencyMonths)||6:void 0,isRetirement:y,currentCost:M.todaysCost})}finally{S(!1)}}const P=m.familyMemberId&&l.find(O=>O.memberId===m.familyMemberId)?.memberName||"Family";return a?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Goal Type",required:!0,error:v.goalType,children:s.jsx(We,{value:m.goalType,onChange:O=>w("goalType",O),options:E_,placeholder:"Select type..."})}),s.jsx(le,{label:"Goal Name",required:!0,error:v.goalName,children:s.jsx(ke,{value:m.goalName,onChange:O=>w("goalName",O),placeholder:"e.g., Retirement Fund (2045)"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"For",error:v.familyMemberId,children:s.jsx(We,{value:m.familyMemberId,onChange:O=>w("familyMemberId",O),options:c,placeholder:"Family (Default)"})}),s.jsx(le,{label:"Target Date",required:!0,error:v.targetDate,children:s.jsx(ni,{value:m.targetDate,onChange:O=>w("targetDate",O),maxDate:null})})]}),y||C?s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Monthly Expenses",required:!0,error:v.monthlyExpenses,children:s.jsx(ke,{type:"number",value:m.monthlyExpenses,onChange:O=>w("monthlyExpenses",O),placeholder:"e.g., 50000"})}),C&&s.jsx(le,{label:"Emergency Months",children:s.jsx(ke,{type:"number",value:m.emergencyMonths,onChange:O=>w("emergencyMonths",O),placeholder:"6"})})]}):s.jsx(le,{label:"Today's Cost",required:!0,error:v.todaysCost,children:s.jsx(ke,{type:"number",value:m.todaysCost,onChange:O=>w("todaysCost",O),placeholder:"e.g., 1000000"})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[s.jsx(le,{label:"Inflation %",children:s.jsx(ke,{type:"number",value:m.inflation,onChange:O=>w("inflation",O),placeholder:"6"})}),s.jsx(le,{label:"Expected CAGR %",children:s.jsx(ke,{type:"number",value:m.cagr,onChange:O=>w("cagr",O),placeholder:"12"})}),s.jsx(le,{label:"Lumpsum Invested",children:s.jsx(ke,{type:"number",value:m.lumpsum,onChange:O=>w("lumpsum",O),placeholder:"0"})})]}),M.hasTarget&&s.jsx(T_,{calc:M,inflation:m.inflation,isRetirement:y,isEmergency:C}),s.jsx(le,{label:"Priority",children:s.jsx(We,{value:m.priority,onChange:O=>w("priority",O),options:__})}),s.jsx(le,{label:"Notes",children:s.jsx(yc,{value:m.notes,onChange:O=>w("notes",O),placeholder:"Optional notes...",rows:2})}),s.jsxs("div",{className:"flex items-center justify-between",children:[n?s.jsx(ns,{onClick:n}):s.jsx("div",{}),s.jsx(an,{onCancel:r,onSubmit:T,submitLabel:"Update Goal",loading:b})]})]}):s.jsxs("div",{className:"space-y-5",children:[s.jsx("div",{className:"flex items-center gap-1 mb-2",children:O_.map((O,L)=>{const R=O.icon,B=L===u,D=L<u;return s.jsxs("div",{className:"flex items-center flex-1",children:[s.jsxs("button",{onClick:()=>{L<u&&f(L)},className:`flex items-center gap-1.5 text-xs font-semibold transition-colors ${B?"text-violet-400":D?"text-emerald-400 cursor-pointer":"text-[var(--text-dim)]"}`,children:[s.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold border ${B?"border-violet-400 bg-violet-500/15":D?"border-emerald-400 bg-emerald-500/15":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:D?s.jsx(Ac,{size:12}):s.jsx(R,{size:12})}),s.jsx("span",{className:"hidden sm:inline",children:O.label})]}),L<O_.length-1&&s.jsx("div",{className:`flex-1 h-px mx-2 ${D?"bg-emerald-400/40":"bg-[var(--border)]"}`})]},O.label)})}),u===0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Tell us about your financial goal"}),s.jsx(le,{label:"Goal Type",required:!0,error:v.goalType,children:s.jsx(We,{value:m.goalType,onChange:O=>w("goalType",O),options:E_,placeholder:"Select type..."})}),m.goalType&&s.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)]",children:[s.jsx(ic,{size:12,className:"text-[var(--text-dim)] shrink-0"}),s.jsxs("p",{className:"text-[11px] text-[var(--text-muted)]",children:["Default: ",Gm[m.goalType]?.inflation||6,"% inflation, ",Gm[m.goalType]?.cagr||12,"% CAGR",y&&"  Uses 25x annual expenses rule",C&&"  No inflation applied"]})]}),s.jsx(le,{label:"Goal Name",required:!0,error:v.goalName,children:s.jsx(ke,{value:m.goalName,onChange:O=>w("goalName",O),placeholder:"e.g., Retirement Fund (2045)"})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"For",error:v.familyMemberId,children:s.jsx(We,{value:m.familyMemberId,onChange:O=>w("familyMemberId",O),options:c,placeholder:"Family (Default)"})}),s.jsx(le,{label:"Priority",children:s.jsx(We,{value:m.priority,onChange:O=>w("priority",O),options:__})})]})]}),u===1&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:y?"Set your retirement timeline and monthly expenses":C?"Set your emergency fund requirements":"Set your target and investment plan"}),y||C?s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Target Date",required:!0,error:v.targetDate,children:s.jsx(ni,{value:m.targetDate,onChange:O=>w("targetDate",O),maxDate:null})}),s.jsx(le,{label:"Monthly Expenses (Today)",required:!0,error:v.monthlyExpenses,children:s.jsx(ke,{type:"number",value:m.monthlyExpenses,onChange:O=>w("monthlyExpenses",O),placeholder:"e.g., 50000"})}),C&&s.jsx(le,{label:"Emergency Fund (Months)",children:s.jsx(ke,{type:"number",value:m.emergencyMonths,onChange:O=>w("emergencyMonths",O),placeholder:"6"})}),y&&s.jsx("div",{className:"sm:col-span-2",children:s.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Corpus = Monthly Expenses x 12 x 25 = ",Q(M.todaysCost)," (today)"]})})]}):s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Target Date",required:!0,error:v.targetDate,children:s.jsx(ni,{value:m.targetDate,onChange:O=>w("targetDate",O),maxDate:null})}),s.jsx(le,{label:"Today's Cost",required:!0,error:v.todaysCost,children:s.jsx(ke,{type:"number",value:m.todaysCost,onChange:O=>w("todaysCost",O),placeholder:"e.g., 1000000"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(le,{label:`Inflation Rate (%)${C?"  N/A":""}`,children:s.jsx(ke,{type:"number",value:m.inflation,onChange:O=>w("inflation",O),placeholder:"6"})}),s.jsx(le,{label:"Expected Returns (CAGR %)",children:s.jsx(ke,{type:"number",value:m.cagr,onChange:O=>w("cagr",O),placeholder:"12"})})]}),M.hasTarget&&s.jsx(T_,{calc:M,inflation:m.inflation,isRetirement:y,isEmergency:C}),s.jsx(le,{label:"Lumpsum You Plan to Invest (Optional)",children:s.jsx(ke,{type:"number",value:m.lumpsum,onChange:O=>w("lumpsum",O),placeholder:"e.g., 500000"})}),M.hasTarget&&M.months>0&&s.jsx(P_,{calc:M,lumpsum:m.lumpsum}),s.jsx(le,{label:"Notes",children:s.jsx(yc,{value:m.notes,onChange:O=>w("notes",O),placeholder:"Optional notes...",rows:2})})]}),u===2&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Review your goal before saving"}),s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-3",children:[s.jsx(pn,{label:"Goal",value:m.goalName,bold:!0}),s.jsx(pn,{label:"Type",value:m.goalType,color:"violet"}),s.jsx(pn,{label:"Member",value:P}),s.jsx(pn,{label:"Priority",value:m.priority,badge:m.priority==="High"?"rose":m.priority==="Low"?"blue":"amber"}),s.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[(y||C)&&s.jsx(pn,{label:"Monthly Expenses",value:Q(Number(m.monthlyExpenses)||0)}),C&&s.jsx(pn,{label:"Emergency Months",value:m.emergencyMonths}),!y&&!C&&s.jsx(pn,{label:"Today's Cost",value:Q(M.todaysCost)}),s.jsx(pn,{label:"Inflation",value:`${m.inflation}% p.a.`}),s.jsx(pn,{label:"Expected CAGR",value:`${m.cagr}% p.a.`}),s.jsx(pn,{label:"Future Value (Inflated)",value:Q(M.inflatedTarget),bold:!0,color:"violet"})]}),s.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[s.jsx(pn,{label:"Lumpsum",value:Q(Number(m.lumpsum)||0)}),s.jsx(pn,{label:"Required SIP",value:`${Q(M.requiredSIP)}/mo`,color:"emerald"}),s.jsx(pn,{label:"Target Date",value:m.targetDate}),s.jsx(pn,{label:"Time Remaining",value:M.yearsToGo>0?`${M.yearsToGo.toFixed(1)} years`:""})]})]}),M.hasTarget&&M.months>0&&s.jsx(P_,{calc:M,lumpsum:m.lumpsum,compact:!0})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-light)]",children:[s.jsx("div",{children:u>0&&s.jsxs("button",{onClick:()=>f(O=>O-1),className:"flex items-center gap-1 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx(RF,{size:14})," Back"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),u<2?s.jsxs("button",{onClick:E,className:"flex items-center gap-1 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors",children:["Next ",s.jsx(xp,{size:14})]}):s.jsx("button",{onClick:T,disabled:b,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Saving...":"Create Goal"})]})]})]})}function T_({calc:e,inflation:t,isRetirement:n,isEmergency:r}){return r?s.jsx("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-500/5 border border-blue-500/15",children:s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Emergency Fund: ",s.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:Q(e.inflatedTarget)}),s.jsx("span",{className:"text-[var(--text-dim)]",children:" (no inflation applied)"})]})}):s.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 rounded-lg bg-violet-500/5 border border-violet-500/15",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase tracking-wider",children:n?"Corpus Today":"Today's Cost"}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:Q(e.todaysCost)})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[t,"% x ",e.yearsToGo.toFixed(1),"yrs"]}),s.jsx(xp,{size:12,className:"text-violet-400 mx-auto"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-[10px] font-semibold text-violet-400 uppercase tracking-wider",children:"Future Value"}),s.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:Q(e.inflatedTarget)})]})]})}function P_({calc:e,lumpsum:t,compact:n}){const r=Number(t)||0;return n?s.jsxs("div",{className:"rounded-lg border p-3 bg-violet-500/5 border-violet-500/15",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Required Monthly SIP"}),s.jsxs("span",{className:"text-sm font-bold text-violet-400 tabular-nums",children:[e.lumpsumCoversGoal?"0":Q(e.requiredSIP),"/mo"]})]}),e.lumpsumCoversGoal&&s.jsx("p",{className:"text-[10px] text-emerald-400 mt-1",children:"Lumpsum alone covers this goal!"})]}):s.jsxs("div",{className:"rounded-lg border p-3 space-y-2 bg-violet-500/5 border-violet-500/15",children:[e.lumpsumCoversGoal?s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Ac,{size:12,className:"text-emerald-400"}),s.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400",children:"Lumpsum Covers Goal"})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-violet-400",children:"Required Monthly SIP"}),s.jsxs("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:[Q(e.requiredSIP),"/mo"]})]}),e.planTotalInvested>0&&s.jsxs("div",{className:"border-t border-[var(--border-light)] pt-2 space-y-1",children:[r>0&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["Lumpsum ",Q(r)," grows to"]}),s.jsx("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:Q(e.fvLumpsum)})]}),e.requiredSIP>0&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["SIP ",Q(e.requiredSIP),"/mo x ",e.months," months"]}),s.jsx("span",{className:"text-[11px] font-semibold text-blue-400 tabular-nums",children:Q(e.fvRequiredSIP)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Total You Invest"}),s.jsx("span",{className:"text-[11px] font-semibold text-[var(--text-primary)] tabular-nums",children:Q(e.planTotalInvested)})]}),e.planReturns>0&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Wealth Created"}),s.jsxs("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:["+",Q(e.planReturns)]})]})]})]})}function pn({label:e,value:t,bold:n,color:r,badge:a}){const l=r==="violet"?"text-violet-400":r==="emerald"?"text-emerald-400":"text-[var(--text-primary)]";if(a){const c=a==="rose"?"bg-rose-500/15 text-rose-400":a==="blue"?"bg-blue-500/15 text-blue-400":"bg-amber-500/15 text-amber-400";return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e}),s.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${c}`,children:t})]})}return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e}),s.jsx("span",{className:`text-xs ${n?"font-bold text-sm":"font-semibold"} ${l}`,children:t})]})}function dle({goal:e,onClose:t}){const{goalPortfolioMappings:n,mfPortfolios:r,mfHoldings:a}=pt(),l=j.useMemo(()=>{const u=n.filter(v=>v.goalId===e.goalId);if(u.length===0)return null;const f=u.map(v=>{const x=r.find(C=>C.portfolioId===v.portfolioId);if(!x)return null;const b=a.filter(C=>C.portfolioId===v.portfolioId&&C.units>0),S=b.reduce((C,M)=>C+M.currentValue,0),w=S*v.allocationPct/100,y=b.map(C=>{const M=S>0?C.currentValue/S:0,A=w*M,_=C.currentNav>0?A/C.currentNav:0,E=A-_*C.avgNav;return{fundName:C.fundName,currentValue:C.currentValue,withdrawValue:A,withdrawUnits:Math.min(_,C.units),currentNav:C.currentNav,taxableGain:E,availableUnits:C.units}}).filter(C=>C.withdrawValue>0);return{portfolioName:x.portfolioName,ownerName:x.ownerName,allocationPct:v.allocationPct,portfolioValue:S,linkedValue:w,fundWithdrawals:y}}).filter(Boolean),m=f.reduce((v,x)=>v+x.linkedValue,0),h=f.reduce((v,x)=>v+x.fundWithdrawals.reduce((b,S)=>b+S.taxableGain,0),0);return{portfolioDetails:f,totalLinked:m,totalTaxableGain:h}},[e,n,r,a]);if(!l)return s.jsxs("div",{className:"py-8 text-center space-y-2",children:[s.jsx(Hs,{size:24,className:"mx-auto text-amber-400"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No portfolios linked to this goal"}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Link portfolios first to generate a withdrawal plan"}),s.jsx("button",{onClick:t,className:"mt-2 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})]});const c=e.targetAmount>0?l.totalLinked/e.targetAmount*100:0;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),s.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:Q(e.targetAmount)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Available from Linked Portfolios"}),s.jsx("span",{className:`text-sm font-bold ${l.totalLinked>=e.targetAmount?"text-emerald-400":"text-amber-400"}`,children:Q(l.totalLinked)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-card)] rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full ${c>=100?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(c,100)}%`}})}),s.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[c.toFixed(0),"%"]})]}),l.totalTaxableGain>0&&s.jsxs("div",{className:"flex items-center justify-between pt-1",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Estimated Taxable Gain"}),s.jsx("span",{className:"text-xs font-semibold text-amber-400",children:Q(l.totalTaxableGain)})]})]}),l.portfolioDetails.map(u=>s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] overflow-hidden",children:[s.jsxs("div",{className:"px-4 py-2.5 bg-[var(--bg-card)] border-b border-[var(--border-light)] flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:u.portfolioName}),s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[u.ownerName,"  ",u.allocationPct,"% allocated to goal"]})]}),s.jsx("span",{className:"text-xs font-bold text-[var(--text-primary)]",children:Q(u.linkedValue)})]}),s.jsx("div",{className:"px-4 py-2",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-[var(--text-dim)]",children:[s.jsx("th",{className:"text-left py-1 font-medium",children:"Fund"}),s.jsx("th",{className:"text-right py-1 font-medium",children:"Units"}),s.jsx("th",{className:"text-right py-1 font-medium",children:"Amount"}),s.jsx("th",{className:"text-right py-1 font-medium",children:"Gain"})]})}),s.jsx("tbody",{children:u.fundWithdrawals.map(f=>s.jsxs("tr",{className:"border-t border-[var(--border-light)]",children:[s.jsx("td",{className:"py-1.5 text-[var(--text-secondary)] max-w-[180px] truncate",children:f.fundName}),s.jsx("td",{className:"py-1.5 text-right text-[var(--text-muted)] tabular-nums",children:f.withdrawUnits.toFixed(2)}),s.jsx("td",{className:"py-1.5 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:Q(f.withdrawValue)}),s.jsx("td",{className:`py-1.5 text-right tabular-nums font-semibold ${f.taxableGain>=0?"text-emerald-400":"text-rose-400"}`,children:Q(Math.abs(f.taxableGain))})]},f.fundName))})]})})]},u.portfolioName)),s.jsx("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:s.jsx("button",{onClick:t,className:"px-5 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})})]})}const fle={"On Track":"bg-blue-500/15 text-[var(--accent-blue)]",Behind:"bg-amber-500/15 text-[var(--accent-amber)]",Critical:"bg-rose-500/15 text-[var(--accent-rose)]","Needs Attention":"bg-amber-500/15 text-[var(--accent-amber)]",Achieved:"bg-emerald-500/15 text-emerald-400",Paused:"bg-slate-500/15 text-[var(--text-muted)]"},mle={High:"bg-rose-500/15 text-[var(--accent-rose)]",Medium:"bg-amber-500/15 text-[var(--accent-amber)]",Low:"bg-blue-500/15 text-[var(--accent-blue)]"},ple={"On Track":"bg-blue-500",Behind:"bg-amber-500",Critical:"bg-rose-500","Needs Attention":"bg-amber-500",Achieved:"bg-emerald-500",Paused:"bg-slate-500"};function hle(){const{selectedMember:e,member:t}=Yr(),{goalList:n,addGoal:r,updateGoal:a,deleteGoal:l,goalPortfolioMappings:c,updateGoalMappings:u,mfHoldings:f,activeMembers:m,mfPortfolios:h,stockPortfolios:v,otherInvList:x}=pt(),{showToast:b,showBlockUI:S,hideBlockUI:w}=li(),y=oi(),[C,M]=j.useState(null),[A,_]=j.useState(null),[E,T]=j.useState(null),P=j.useRef(new Set),[O,L]=j.useState(null),[R,B]=j.useState([]),[D,K]=j.useState(!1),[X,Z]=j.useState(!1),$=j.useMemo(()=>{if(!n)return[];const ue=n.filter(xe=>xe.isActive!==!1);return e==="all"?ue:ue.filter(xe=>xe.familyMemberId===e)},[n,e]);function G(ue){if(!ue.familyMemberName||ue.familyMemberName==="Family")return ue.familyMemberName||"Family";const xe=(m||[]).find(Fe=>Fe.memberName===ue.familyMemberName);return xe?.relationship?`${ue.familyMemberName} (${xe.relationship})`:ue.familyMemberName}const z=$.reduce((ue,xe)=>ue+(xe.targetAmount||0),0),te=$.reduce((ue,xe)=>ue+(xe.currentValue||0),0),ve=$.reduce((ue,xe)=>ue+(xe.monthlyInvestment||0),0),F=$.reduce((ue,xe)=>ue+(xe.lumpsumNeeded||0),0),ae=z>0?te/z*100:0,he=$.filter(ue=>ue.status==="Needs Attention").length,ye=$.filter(ue=>ue.status==="Achieved").length,je=new Set(["Equity","ELSS","Index"]),Ie=j.useMemo(()=>{if(!$.length||!c?.length||!f?.length)return[];const ue=new Date,xe=[];for(const Fe of $){if(Fe.status==="Achieved")continue;const Y=(new Date(Fe.targetDate)-ue)/(365.25*24*60*60*1e3);if(Y>3||Y<=0)continue;const ce=c.filter(Pt=>Pt.goalId===Fe.goalId);if(!ce.length)continue;let Ce=0,De=0;for(const Pt of ce){const He=f.filter(kt=>kt.portfolioId===Pt.portfolioId&&kt.units>0);for(const kt of He){const Xt=kt.currentValue*(Pt.allocationPct/100);Ce+=Xt,je.has(kt.category)?De+=Xt:kt.category==="Hybrid"&&(De+=Xt*.65)}}const ze=Ce>0?De/Ce*100:0,ie=Y<1?30:Y<2?50:70;ze>ie&&xe.push({goalId:Fe.goalId,goalName:Fe.goalName,yearsLeft:Y.toFixed(1),equityPct:Math.round(ze),maxEquity:ie,excessPct:Math.round(ze-ie)})}return xe},[$,c,f]);j.useEffect(()=>{const ue=new Set($.filter(Fe=>Fe.status==="Achieved").map(Fe=>Fe.goalId)),xe=P.current;for(const Fe of ue)if(!xe.has(Fe)){const Mt=$.find(Y=>Y.goalId===Fe);Mt&&(T(Mt),setTimeout(()=>T(null),5e3))}P.current=ue},[$]);function me(ue){return ue?ue.startsWith("PFL-STK-")?"Stock":ue.startsWith("INV-")?"Other":"MF":"MF"}const ge=j.useMemo(()=>{const ue={};return(h||[]).forEach(xe=>{ue[xe.portfolioId]={name:xe.portfolioName?.replace(/^PFL-/,"")||xe.portfolioName,value:xe.currentValue||0,type:"MF",owner:xe.ownerName||""}}),(v||[]).forEach(xe=>{ue[xe.portfolioId]={name:xe.portfolioName,value:xe.currentValue||0,type:"Stock",owner:xe.ownerName||""}}),(x||[]).forEach(xe=>{ue[xe.investmentId]={name:xe.investmentName,value:xe.currentValue||0,type:"Other",owner:xe.familyMemberName||""}}),ue},[h,v,x]),W=j.useMemo(()=>{const ue=[];return(h||[]).filter(xe=>xe.status!=="Inactive").forEach(xe=>{ue.push({id:xe.portfolioId,name:xe.portfolioName?.replace(/^PFL-/,"")||xe.portfolioName,value:xe.currentValue||0,type:"MF",owner:xe.ownerName||""})}),(v||[]).filter(xe=>xe.status!=="Inactive").forEach(xe=>{ue.push({id:xe.portfolioId,name:xe.portfolioName,value:xe.currentValue||0,type:"Stock",owner:xe.ownerName||""})}),(x||[]).filter(xe=>xe.status==="Active").forEach(xe=>{ue.push({id:xe.investmentId,name:xe.investmentName,value:xe.currentValue||0,type:"Other",owner:xe.familyMemberName||""})}),ue},[h,v,x]),Ne=W.filter(ue=>ue.type==="MF"),qe=W.filter(ue=>ue.type==="Stock"),be=W.filter(ue=>ue.type==="Other"),Ze=j.useMemo(()=>{const ue={};return(c||[]).forEach(xe=>{if(xe.goalId===O)return;ue[xe.portfolioId]||(ue[xe.portfolioId]={total:0,goals:[]}),ue[xe.portfolioId].total+=xe.allocationPct;const Fe=(n||[]).find(Mt=>Mt.goalId===xe.goalId);ue[xe.portfolioId].goals.push({goalName:Fe?.goalName||xe.goalId,pct:xe.allocationPct})}),ue},[c,O,n]),Ue=j.useMemo(()=>{const ue=[];for(const xe of R){const Mt=(Ze[xe.portfolioId]?.total||0)+(xe.allocationPct||0);if(Mt>100){const Y=W.find(ce=>ce.id===xe.portfolioId);ue.push({name:Y?.name||xe.portfolioId,combined:Mt,excess:Mt-100})}}return ue},[R,Ze,W]),jt=Ue.length===0;function vt(ue){const xe=(c||[]).filter(Fe=>Fe.goalId===ue).map(Fe=>({portfolioId:Fe.portfolioId,allocationPct:Fe.allocationPct,investmentType:Fe.investmentType||me(Fe.portfolioId)}));B(xe),L(ue),K(!1)}function ut(){L(null),B([]),K(!1)}function Nt(ue){O===ue?ut():vt(ue)}function Pe(){const ue=new Set(R.map(Fe=>Fe.portfolioId)),xe=W.find(Fe=>!ue.has(Fe.id)&&(Ze[Fe.id]?.total||0)<100);xe&&(B(Fe=>[...Fe,{portfolioId:xe.id,allocationPct:0,investmentType:xe.type}]),K(!0))}function Ye(ue){B(xe=>xe.filter((Fe,Mt)=>Mt!==ue)),K(!0)}function at(ue,xe,Fe){B(Mt=>Mt.map((Y,ce)=>{if(ce!==ue)return Y;if(xe==="allocationPct"){const Ce=Ze[Y.portfolioId]?.total||0,De=Math.max(0,100-Ce);return{...Y,allocationPct:Math.max(0,Math.min(De,Number(Fe)||0))}}if(xe==="portfolioId"){const Ce=W.find(ie=>ie.id===Fe),De=Ze[Fe]?.total||0,ze=Math.max(0,100-De);return{...Y,portfolioId:Fe,investmentType:Ce?.type||me(Fe),allocationPct:Math.min(Y.allocationPct,ze)}}return Y})),K(!0)}async function $t(){if(jt){Z(!0),S("Saving...");try{await u(O,R.filter(ue=>ue.allocationPct>0)),b("Allocation updated"),ut()}catch(ue){b(ue.message||"Failed to save","error")}finally{w(),Z(!1)}}}if(n===null)return s.jsx(as,{title:"Loading goals",cards:5});async function Ut(ue){S("Saving...");try{C?.edit?await a(C.edit.goalId,ue):await r(ue),b(C?.edit?"Goal updated":"Goal added"),M(null)}catch(xe){b(xe.message||"Failed to save goal","error")}finally{w()}}async function St(){if(C?.edit&&await y("Delete this goal?",{title:"Delete Goal",confirmLabel:"Delete"})){const ue=C.edit.goalId,xe=(c||[]).filter(Fe=>Fe.goalId===ue);S("Deleting...");try{if(await l(ue),M(null),xe.length>0){const Fe=xe.some(Mt=>(c||[]).some(Y=>Y.portfolioId===Mt.portfolioId&&Y.goalId!==ue));b(Fe?"Goal deleted  shared allocations freed":"Goal deleted")}else b("Goal deleted")}catch(Fe){b(Fe.message||"Failed to delete goal","error")}finally{w()}}}function Hn(ue){return!ue.targetAmount||ue.targetAmount===0?0:Math.min((ue.currentValue||0)/ue.targetAmount*100,100)}function is(ue){if(!ue.targetDate)return null;const Fe=(new Date(ue.targetDate)-new Date)/(365.25*24*60*60*1e3);return Fe>0?Fe.toFixed(1):"0"}return s.jsxs("div",{className:"space-y-4",children:[$.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(Ad,{size:32,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No goals set",t?` for ${t.memberName}`:""]}),s.jsx("button",{onClick:()=>M("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first goal"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[s.jsx(Wo,{label:"Target",value:Q(z),bold:!0}),s.jsx(Wo,{label:"Current Value",value:Q(te),bold:!0}),s.jsx(Wo,{label:"Gap",value:Q(Math.max(z-te,0)),positive:z<=te,bold:!0}),s.jsx(Wo,{label:"Progress",value:`${ae.toFixed(1)}%`,sub:`${$.length} goal${$.length!==1?"s":""}${ye>0?`  ${ye} done`:""}`,positive:ae>=50,bold:!0}),s.jsx(Wo,{label:"Required SIP",value:Q(ve),sub:he>0?`${he} need attention`:"per month"}),s.jsx(Wo,{label:"Required Lumpsum",value:Q(F),sub:"one-time today"})]}),E&&s.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-500/10 via-yellow-500/10 to-emerald-500/10 rounded-xl border border-emerald-500/30 px-4 py-3 flex items-center gap-3 animate-fade-in overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((ue,xe)=>s.jsx("span",{className:"absolute text-sm animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:["","","","",""][xe%5]},xe))}),s.jsx(DC,{size:20,className:"text-yellow-400 shrink-0 relative z-10"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("p",{className:"text-sm font-bold text-emerald-400",children:"Goal Achieved!"}),s.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[E.goalName,"  Congratulations!"]})]}),s.jsx("button",{onClick:()=>T(null),className:"ml-auto text-xs text-[var(--text-dim)] hover:text-[var(--text-primary)] relative z-10",children:"Dismiss"})]}),Ie.length>0&&s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-amber-500/20 p-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(W8,{size:14,className:"text-amber-400"}),s.jsx("p",{className:"text-xs font-bold text-amber-400 uppercase tracking-wider",children:"De-risking Alerts"})]}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"These goals are approaching their deadline with high equity exposure. Consider moving funds to debt/liquid for capital protection."}),s.jsx("div",{className:"space-y-1.5",children:Ie.map(ue=>s.jsxs("div",{className:"flex items-center justify-between bg-amber-500/5 rounded-lg px-3 py-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:ue.goalName}),s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[ue.yearsLeft," yrs left"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-xs font-bold text-amber-400",children:[ue.equityPct,"% equity"]}),s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Recommended max ",ue.maxEquity,"%"]})]})]},ue.goalId))})]}),s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>M("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Pr,{size:14})," Add Goal"]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:$.map(ue=>{const xe=Hn(ue),Fe=is(ue),Mt=O===ue.goalId,Y=Mt?R:(c||[]).filter(De=>De.goalId===ue.goalId),ce=(c||[]).filter(De=>De.goalId===ue.goalId).length,Ce=Y.reduce((De,ze)=>{const ie=ge[ze.portfolioId];return De+(ie?ie.value*ze.allocationPct/100:0)},0);return s.jsxs("div",{className:`bg-[var(--bg-card)] rounded-xl border overflow-hidden transition-colors ${Mt?"border-violet-500/40":"border-[var(--border)]"}`,children:[s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-[var(--text-primary)] truncate",children:ue.goalName}),s.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[s.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:G(ue)}),s.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded ${mle[ue.priority]||""}`,children:ue.priority})]})]}),s.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full shrink-0 ${fle[ue.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:ue.status})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full transition-all ${ple[ue.status]||"bg-blue-500"}`,style:{width:`${xe}%`}})}),s.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums w-10 text-right",children:[xe.toFixed(0),"%"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5 mb-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Current"}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(ue.currentValue)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Target"}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(ue.targetAmount)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Required SIP"}),s.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[Q(ue.monthlyInvestment),"/mo"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Timeline"}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:ue.status==="Achieved"?"Done":Fe?`${Fe} yrs left`:""})]})]}),s.jsxs("div",{className:"flex items-center gap-1 pt-2 border-t border-[var(--border-light)]",children:[s.jsxs("button",{onClick:De=>{De.stopPropagation(),Nt(ue.goalId)},className:`flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold rounded-lg transition-colors ${Mt?"bg-violet-500/20 text-violet-400":ce>0?"text-violet-400 hover:bg-violet-500/10":"text-amber-400 hover:bg-amber-500/10"}`,children:[s.jsx(WO,{size:11}),Mt?"Linking...":ce>0?`${ce} linked`:"Link",!Mt&&ce===0&&s.jsx("span",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full animate-pulse"})]}),ue.status==="Achieved"&&s.jsxs("button",{onClick:()=>_(ue),className:"flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold text-[var(--text-dim)] hover:text-emerald-400 hover:bg-emerald-500/10 rounded-lg transition-colors",children:[s.jsx($O,{size:11})," Withdraw"]}),s.jsxs("button",{onClick:()=>M({edit:ue}),className:"flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-white/5 rounded-lg transition-colors ml-auto",children:[s.jsx(ka,{size:11})," Edit"]})]})]}),Mt&&s.jsxs("div",{className:"px-4 pb-4 space-y-2 border-t border-violet-500/20 bg-violet-500/[0.03]",children:[s.jsxs("div",{className:"flex items-center justify-between pt-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ga,{size:12,className:"text-violet-400"}),s.jsx("span",{className:"text-xs font-semibold text-violet-400",children:"Link Investments"})]}),Ce>0&&s.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["Linked value: ",Q(Ce)]})]}),R.map((De,ze)=>{const ie=W.find(Be=>Be.id===De.portfolioId),Pt=Ze[De.portfolioId],He=Pt?.total||0,kt=100-He,Xt=He+(De.allocationPct||0);return s.jsxs("div",{className:`bg-[var(--bg-card)] rounded-lg border p-2.5 space-y-1.5 ${Xt>100?"border-rose-500/40":"border-[var(--border-light)]"}`,children:[s.jsxs("select",{value:De.portfolioId,onChange:Be=>at(ze,"portfolioId",Be.target.value),className:"w-full px-2 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",children:[Ne.length>0&&s.jsx("optgroup",{label:"MF Portfolios",children:Ne.map(Be=>{const Yt=(Ze[Be.id]?.total||0)>=100,Xe=R.some((Se,Ke)=>Ke!==ze&&Se.portfolioId===Be.id);return s.jsxs("option",{value:Be.id,disabled:Xe||Yt,children:[Be.name,Be.owner?` (${Be.owner})`:"","  ",Q(Be.value),Yt?" (Fully allocated)":""]},Be.id)})}),qe.length>0&&s.jsx("optgroup",{label:"Stock Portfolios",children:qe.map(Be=>{const Yt=(Ze[Be.id]?.total||0)>=100,Xe=R.some((Se,Ke)=>Ke!==ze&&Se.portfolioId===Be.id);return s.jsxs("option",{value:Be.id,disabled:Xe||Yt,children:[Be.name,Be.owner?` (${Be.owner})`:"","  ",Q(Be.value),Yt?" (Fully allocated)":""]},Be.id)})}),be.length>0&&s.jsx("optgroup",{label:"Other Investments",children:be.map(Be=>{const Yt=(Ze[Be.id]?.total||0)>=100,Xe=R.some((Se,Ke)=>Ke!==ze&&Se.portfolioId===Be.id);return s.jsxs("option",{value:Be.id,disabled:Xe||Yt,children:[Be.name,Be.owner?` (${Be.owner})`:"","  ",Q(Be.value),Yt?" (Fully allocated)":""]},Be.id)})})]}),He>0&&s.jsxs("div",{className:`text-[10px] px-2 py-1 rounded ${Xt>100?"bg-rose-500/10 text-rose-400":"bg-blue-500/10 text-blue-400"}`,children:[Pt.goals.map(Be=>`${Be.goalName} (${Be.pct}%)`).join(", "),"  ",s.jsxs("span",{className:"font-bold",children:["Available: ",Math.max(0,kt),"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Allocation"}),s.jsx("input",{type:"number",value:De.allocationPct,onChange:Be=>at(ze,"allocationPct",Be.target.value),className:"w-16 px-2 py-1 text-xs text-center bg-[var(--bg-input)] border border-[var(--border-input)] rounded-md text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",min:"0",max:kt}),s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"}),s.jsx("button",{onClick:()=>Ye(ze),className:"p-1 text-[var(--text-dim)] hover:text-rose-400 rounded transition-colors ml-1",children:s.jsx(_h,{size:12})})]}),ie&&s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Contributes ",Q(ie.value*De.allocationPct/100)]})]})]},ze)}),Ue.length>0&&s.jsxs("div",{className:"bg-rose-500/10 border border-rose-500/20 rounded-lg px-3 py-2 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Hs,{size:12,className:"text-rose-400 shrink-0"}),s.jsx("span",{className:"text-[10px] font-bold text-rose-400 uppercase",children:"Over-allocated"})]}),Ue.map((De,ze)=>s.jsxs("p",{className:"text-[10px] text-rose-300",children:[De.name,": ",De.combined,"% total (exceeds by ",De.excess,"%)"]},ze))]}),(()=>{const De=new Set(R.map(ie=>ie.portfolioId));return W.some(ie=>!De.has(ie.id)&&(Ze[ie.id]?.total||0)<100)&&s.jsxs("button",{onClick:Pe,className:"flex items-center gap-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[s.jsx(Pr,{size:14})," Link Investment"]})})(),s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2 border-t border-[var(--border-light)]",children:[s.jsx("button",{onClick:ut,className:"px-4 py-1.5 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),s.jsx("button",{onClick:$t,disabled:!D||!jt||X,className:"px-5 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"})]})]})]},ue.goalId)})}),ye>0&&s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-emerald-500/20 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(DC,{size:14,className:"text-yellow-400"}),s.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Achieved Goals"})]}),s.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-1",children:$.filter(ue=>ue.status==="Achieved").map(ue=>s.jsxs("div",{className:"shrink-0 bg-emerald-500/10 border border-emerald-500/20 rounded-lg px-3 py-2 min-w-[160px]",children:[s.jsx("p",{className:"text-xs font-semibold text-emerald-400",children:ue.goalName}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] mt-1",children:Q(ue.targetAmount)}),s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:G(ue)})]},ue.goalId))})]})]}),s.jsx(hr,{open:!!C,onClose:()=>M(null),title:C?.edit?"Edit Goal":"Add Goal",wide:!0,children:s.jsx(ule,{initial:C?.edit||void 0,onSave:Ut,onDelete:C?.edit?St:void 0,onCancel:()=>M(null)})}),s.jsx(hr,{open:!!A,onClose:()=>_(null),title:`Withdrawal Plan  ${A?.goalName||""}`,wide:!0,children:A&&s.jsx(dle,{goal:A,onClose:()=>_(null)})})]})}function Wo({label:e,value:t,sub:n,positive:r,bold:a}){return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:t}),n&&s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:n})]})}const vle=[{label:"Reports & Transactions",desc:"View transaction history",icon:UO,path:"/reports",color:"bg-blue-500/15 text-[var(--accent-blue)]"},{label:"Reminders",desc:"View and manage reminders",icon:Dh,path:"/reminders",color:"bg-amber-500/15 text-[var(--accent-amber)]"},{label:"Health Check",desc:"Financial health questionnaire",icon:Zb,path:"/health-check",color:"bg-emerald-500/15 text-emerald-400"},{label:"Settings",desc:"App configuration",icon:v1,path:"/settings",color:"bg-slate-500/15 text-[var(--text-muted)]"},{label:"About",desc:"Capital Friends v2.0",icon:x8,path:"/about",color:"bg-violet-500/15 text-[var(--accent-violet)]"},{label:"Support Developer",desc:"UPI: jagadeeshmanne.hdfc@kphdfc",icon:bp,path:"/about",color:"bg-pink-500/15 text-pink-400"}];function xle(){const e=Qs();return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-base font-bold text-[var(--text-primary)]",children:"More"}),s.jsx("div",{className:"space-y-2",children:vle.map(t=>s.jsxs("button",{onClick:()=>e(t.path),className:"w-full flex items-center gap-3 bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${t.color}`,children:s.jsx(t.icon,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:t.label}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:t.desc})]})]},t.label))})]})}const Wm=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function gle(){const e=Qs(),{theme:t,toggle:n}=IO(),{members:r,settings:a,updateSettings:l,updateMember:c,healthCheckCompleted:u}=pt(),{user:f,signOut:m}=to(),{masked:h,toggleMask:v,mv:x}=ci(),b=r.filter(Z=>Z.status==="Active"),[S,w]=j.useState("Daily"),[y,C]=j.useState("09"),[M,A]=j.useState("Monday"),[_,E]=j.useState(!1),[T,P]=j.useState(!1),[O,L]=j.useState(!1),[R,B]=j.useState(null);j.useEffect(()=>{!a||!Object.keys(a).length||(a.EmailFrequency&&w(a.EmailFrequency),a.EmailHour!=null&&C(String(a.EmailHour).padStart(2,"0")),a.EmailDayOfWeek!=null&&A(Wm[Number(a.EmailDayOfWeek)]||"Monday"))},[a]);async function D(){E(!0),P(!1);try{const Z=Wm.indexOf(M);await l({EmailFrequency:S==="None"?"None":S,EmailConfigured:S==="None"?"FALSE":"TRUE",EmailHour:String(parseInt(y,10)),EmailMinute:"0",EmailDayOfWeek:String(Z>=0?Z:1)}),P(!0),setTimeout(()=>P(!1),2e3)}catch(Z){alert("Failed to save: "+Z.message)}finally{E(!1)}}async function K(){L(!0),B(null);try{const Z=await eF();B(Z)}catch(Z){B({error:Z.message})}finally{L(!1)}}function X(Z){if(!Z)return"Never";try{const $=new Date(Z);if(isNaN($.getTime()))return"Unknown";const G=Date.now(),z=Math.floor((G-$.getTime())/(1e3*60));if(z<1)return"Just now";if(z<60)return z+" min ago";const te=Math.floor(z/60);return te<24?te+"h ago":$.toLocaleDateString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}}return s.jsxs("div",{className:"space-y-4 max-w-xl mx-auto",children:[s.jsxs(Al,{children:[s.jsx(Ml,{icon:s.jsx(aB,{size:14}),title:"Account"}),s.jsxs("div",{className:"px-4 py-4 space-y-3",children:[s.jsx(On,{label:"Signed in as",children:s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate max-w-[200px]",children:x(f?.email,"email")||""})}),s.jsx(On,{label:"Name",children:s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:f?.name||""})}),s.jsx("div",{className:"pt-1",children:s.jsxs("button",{onClick:m,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-red-500 border border-red-200 dark:border-red-800/40 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[s.jsx(QO,{size:12}),"Sign Out"]})})]})]}),s.jsxs(Al,{children:[s.jsx(Ml,{icon:s.jsx(Zb,{size:14}),title:"Financial Health Check"}),s.jsxs("div",{className:"px-4 py-4 space-y-3",children:[s.jsx(On,{label:"Status",children:s.jsx("span",{className:`text-xs font-semibold ${u?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:u?"Completed":"Not completed"})}),s.jsx("div",{className:"flex justify-end pt-1",children:s.jsxs("button",{onClick:()=>e("/health-check"),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx(Zb,{size:12}),u?"Update Answers":"Take Health Check"]})})]})]}),s.jsxs(Al,{children:[s.jsx(Ml,{icon:s.jsx(ZF,{size:14}),title:"Data & Sync"}),s.jsxs("div",{className:"px-4 py-4 space-y-3",children:[s.jsx(On,{label:"Last synced",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:X(a.masterDataLastSync)}),a._stale&&s.jsx("span",{className:"text-[10px] font-bold text-amber-600 px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30",children:"STALE"})]})}),a._navDataDate&&s.jsx(On,{label:"NAV data as of",children:s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:a._navDataDate})}),s.jsx(On,{label:"Auto-refresh",children:s.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Daily at ~6:30 AM"})}),s.jsxs("div",{className:"flex items-center justify-between pt-1",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Refresh MF NAVs, ATH & Stock prices"}),s.jsxs("button",{onClick:K,disabled:O,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg bg-violet-600 text-white hover:bg-violet-500 transition-colors disabled:opacity-50",children:[s.jsx(Vl,{size:12,className:O?"animate-spin":""}),O?"Refreshing...":"Refresh Now"]})]}),R&&s.jsx("div",{className:`text-xs px-3 py-2 rounded-lg ${R.error?"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400":"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400"}`,children:R.error?"Failed: "+R.error:`Done  MF: ${R.mf?.count||0} | ATH: ${R.ath?.count||0} | Stocks: ${R.stocks?.count||0} (${R.duration})`})]})]}),s.jsxs(Al,{children:[s.jsx(Ml,{icon:s.jsx(wp,{size:14}),title:"Appearance"}),s.jsx("div",{className:"px-4 py-4",children:s.jsx(On,{label:"Theme",children:s.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[t==="dark"?s.jsx(Xb,{size:12}):s.jsx(wp,{size:12}),t==="dark"?"Dark":"Light"]})})})]}),s.jsxs(Al,{children:[s.jsx(Ml,{icon:s.jsx(k8,{size:14}),title:"Email Reports"}),s.jsxs("div",{className:"px-4 py-4 space-y-3",children:[s.jsx(On,{label:"Frequency",children:s.jsx(Gb,{value:S,onChange:w,options:["Daily","Weekly","Monthly","None"]})}),S!=="None"&&s.jsx(On,{label:"Send time",children:s.jsx(Gb,{value:y,onChange:C,options:Array.from({length:24},(Z,$)=>String($).padStart(2,"0")),suffix:":00"})}),S==="Weekly"&&s.jsx(On,{label:"Day",children:s.jsx(Gb,{value:M,onChange:A,options:Wm.slice(1).concat(Wm[0])})}),s.jsx("div",{className:"flex justify-end pt-1",children:s.jsx("button",{onClick:D,disabled:_,className:"px-4 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:_?"Saving...":T?"Saved!":"Save"})}),b.length>0&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Send report to"}),s.jsx("div",{className:"space-y-2",children:b.map(Z=>s.jsx(ble,{member:Z,onToggle:c},Z.memberId))})]})}),b.length===0&&s.jsx("p",{className:"text-xs text-[var(--text-dim)] pt-1",children:"Add family members to configure email recipients."})]})]}),s.jsxs(Al,{children:[s.jsx(Ml,{icon:s.jsx(ed,{size:14}),title:"Privacy"}),s.jsxs("div",{className:"px-4 py-4 space-y-3",children:[s.jsx(On,{label:"Mask sensitive data",children:s.jsx("button",{onClick:v,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 ${h?"bg-amber-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:s.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${h?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[h?"Sensitive data is hidden. ":"","Masks PAN, Aadhaar, mobile, email, account numbers, client IDs, and policy numbers across the app. Use the ",h?s.jsx(ed,{size:11,className:"inline text-amber-400"}):s.jsx(gp,{size:11,className:"inline"})," icon in the header to quickly toggle."]}),h&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[s.jsx(ed,{size:14,className:"text-amber-400 shrink-0"}),s.jsx("p",{className:"text-xs text-amber-400 font-medium",children:"Data masking is active  safe for screen sharing"})]})]})]}),s.jsxs(Al,{children:[s.jsx(Ml,{icon:s.jsx(f8,{size:14}),title:"Display"}),s.jsxs("div",{className:"px-4 py-4 space-y-3",children:[s.jsx(On,{label:"Currency",children:s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"INR ()"})}),s.jsx(On,{label:"Date format",children:s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"DD/MM/YYYY"})})]})]})]})}function Al({children:e}){return s.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:e})}function Ml({icon:e,title:t}){return s.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[var(--text-muted)]",children:e}),s.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:t})]})})}function On({label:e,children:t}){return s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] shrink-0",children:e}),t]})}function Gb({value:e,onChange:t,options:n,suffix:r}){return s.jsxs("div",{className:"relative",children:[s.jsx("select",{value:e,onChange:a=>t(a.target.value),className:"appearance-none pl-3 pr-7 py-1.5 text-xs font-semibold bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-violet-500 cursor-pointer",children:n.map(a=>s.jsxs("option",{value:a,children:[a,r||""]},a))}),s.jsx(Ga,{size:10,className:"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function ble({member:e,onToggle:t}){const{mv:n}=ci(),r=e.includeInEmailReports==="Yes"||e.includeInEmailReports===!0,[a,l]=j.useState(!1);async function c(){l(!0);try{await t(e.memberId,{...e,includeInEmailReports:r?"No":"Yes"})}catch{}finally{l(!1)}}return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center shrink-0",children:s.jsx("span",{className:"text-[10px] font-bold text-violet-600",children:e.memberName?.charAt(0)?.toUpperCase()})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:n(e.memberName,"name")}),e.email&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] truncate",children:n(e.email,"email")})]})]}),s.jsx("button",{onClick:c,disabled:a,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 disabled:opacity-50 ${r?"bg-violet-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:s.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${r?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})]})}const yle=["SIP Due Date","Insurance Renewal","FD Maturity","Loan EMI","Investment Review","Custom"].map(e=>({value:e,label:e})),wle=[{value:"One-time",label:"One-time"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],jle=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}];function Nle({initial:e,onSave:t,onDelete:n,onCancel:r}){const a=!!e,{activeMembers:l}=pt(),c=l.map(y=>({value:y.memberId,label:y.memberName})),[u,f]=j.useState({reminderType:e?.reminderType||"",title:e?.title||"",description:e?.description||"",familyMemberId:e?.familyMemberId||"",dueDate:e?.dueDate||"",advanceNoticeDays:e?.advanceNoticeDays?.toString()||"7",frequency:e?.frequency||"One-time",priority:e?.priority||"Medium",status:e?.status||"Pending"}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(y,C){f(M=>({...M,[y]:C})),h(M=>({...M,[y]:void 0}))}function S(){const y={};return u.reminderType||(y.reminderType="Required"),u.title.trim()||(y.title="Required"),u.familyMemberId||(y.familyMemberId="Required"),u.dueDate||(y.dueDate="Required"),h(y),Object.keys(y).length===0}async function w(){if(S()){x(!0);try{await t({...u,advanceNoticeDays:Number(u.advanceNoticeDays)||7})}finally{x(!1)}}}return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Reminder Type",required:!0,error:m.reminderType,children:s.jsx(We,{value:u.reminderType,onChange:y=>b("reminderType",y),options:yle,placeholder:"Select type..."})}),s.jsx(le,{label:"Title",required:!0,error:m.title,children:s.jsx(ke,{value:u.title,onChange:y=>b("title",y),placeholder:"e.g., HDFC SIP Due"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Family Member",required:!0,error:m.familyMemberId,children:s.jsx(We,{value:u.familyMemberId,onChange:y=>b("familyMemberId",y),options:c,placeholder:"Select member..."})}),s.jsx(le,{label:"Due Date",required:!0,error:m.dueDate,children:s.jsx(ni,{value:u.dueDate,onChange:y=>b("dueDate",y),maxDate:null})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(le,{label:"Frequency",children:s.jsx(We,{value:u.frequency,onChange:y=>b("frequency",y),options:wle})}),s.jsx(le,{label:"Priority",children:s.jsx(We,{value:u.priority,onChange:y=>b("priority",y),options:jle})}),s.jsx(le,{label:"Advance Notice (days)",children:s.jsx(ke,{type:"number",value:u.advanceNoticeDays,onChange:y=>b("advanceNoticeDays",y),placeholder:"7"})})]}),a&&s.jsx(le,{label:"Status",children:s.jsx(We,{value:u.status,onChange:y=>b("status",y),options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"}]})}),s.jsx(le,{label:"Description",children:s.jsx(yc,{value:u.description,onChange:y=>b("description",y),placeholder:"Optional details...",rows:2})}),s.jsxs("div",{className:"flex items-center justify-between",children:[a&&n?s.jsx(ns,{onClick:n,label:"Delete"}):s.jsx("div",{}),s.jsx(an,{onCancel:r,onSubmit:w,submitLabel:a?"Update Reminder":"Add Reminder",loading:v})]})]})}const Km={"SIP Due Date":"bg-violet-500/15 text-[var(--accent-violet)]","Insurance Renewal":"bg-amber-500/15 text-[var(--accent-amber)]","FD Maturity":"bg-blue-500/15 text-[var(--accent-blue)]","Loan EMI":"bg-rose-500/15 text-[var(--accent-rose)]","Investment Review":"bg-emerald-500/15 text-emerald-400",Custom:"bg-slate-500/15 text-[var(--text-muted)]"},I_={High:"bg-rose-500",Medium:"bg-amber-500",Low:"bg-blue-500"};function Ko(e){if(!e)return 1/0;const t=new Date(e)-new Date;return Math.ceil(t/(1440*60*1e3))}function Sle(){const{selectedMember:e,member:t}=Yr(),{reminderList:n,addReminder:r,updateReminder:a,deleteReminder:l}=pt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=li(),m=oi(),[h,v]=j.useState(null),x=j.useMemo(()=>{const _=n.filter(E=>E.isActive!==!1);return e==="all"?_:_.filter(E=>E.familyMemberId===e)},[n,e]),b=x.filter(_=>Ko(_.dueDate)<0).length,S=x.filter(_=>{const E=Ko(_.dueDate);return E>=0&&E<=7}).length,w=x.filter(_=>{const E=Ko(_.dueDate);return E>7&&E<=30}).length,y=[...x].sort((_,E)=>{const T=Ko(_.dueDate),P=Ko(E.dueDate);return T-P});async function C(_){u("Saving...");try{h?.edit?await a(h.edit.reminderId,_):await r(_),c(h?.edit?"Reminder updated":"Reminder added"),v(null)}catch(E){c(E.message||"Failed to save reminder","error")}finally{f()}}async function M(){if(h?.edit&&await m("Delete this reminder?",{title:"Delete Reminder",confirmLabel:"Delete"})){u("Deleting...");try{await l(h.edit.reminderId),c("Reminder deleted"),v(null)}catch(_){c(_.message||"Failed to delete reminder","error")}finally{f()}}}function A(_){const E=Ko(_);return E<0?{label:`${Math.abs(E)}d overdue`,cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:E===0?{label:"Today",cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:E<=7?{label:`${E}d`,cls:"bg-amber-500/20 text-[var(--accent-amber)]"}:E<=30?{label:`${E}d`,cls:"bg-blue-500/20 text-[var(--accent-blue)]"}:{label:`${E}d`,cls:"bg-slate-500/20 text-[var(--text-muted)]"}}return s.jsxs("div",{className:"space-y-4",children:[x.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(AF,{size:32,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No reminders",t?` for ${t.memberName}`:""]}),s.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a reminder"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[s.jsx(Qm,{label:"Active",value:x.length}),b>0&&s.jsx(Qm,{label:"Overdue",value:b,color:"rose"}),S>0&&s.jsx(Qm,{label:"Due This Week",value:S,color:"amber"}),s.jsx(Qm,{label:"Next 30 Days",value:w})]}),s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Pr,{size:14})," Add Reminder"]})}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[680px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Reminder"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),!t&&s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Due Date"}),s.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Frequency"}),s.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),s.jsx("tbody",{children:y.map(_=>{const E=A(_.dueDate);return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsx("td",{className:"py-2.5 px-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${I_[_.priority]||"bg-slate-400"}`}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:_.title}),_.description&&s.jsx("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[200px]",children:_.description})]})]})}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Km[_.reminderType]||Km.Custom}`,children:_.reminderType})}),!t&&s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:_.familyMemberName}),s.jsx("td",{className:"py-2.5 px-3 text-center",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:_.dueDate}),s.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${E.cls}`,children:E.label})]})}),s.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)]",children:_.frequency}),s.jsx("td",{className:"py-2.5 px-3 text-center",children:s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${_.status==="Pending"?"bg-amber-500/15 text-[var(--accent-amber)]":"bg-emerald-500/15 text-emerald-400"}`,children:_.status})}),s.jsx("td",{className:"py-2.5 px-2",children:s.jsx("button",{onClick:()=>v({edit:_}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:s.jsx(ka,{size:12})})})]},_.reminderId)})})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:y.map(_=>{const E=A(_.dueDate);return s.jsxs("div",{onClick:()=>v({edit:_}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${I_[_.priority]||"bg-slate-400"}`}),s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:_.title})]}),s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ml-2 ${Km[_.reminderType]||Km.Custom}`,children:_.reminderType})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[_.familyMemberName,"  ",_.frequency]}),s.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${E.cls}`,children:E.label})]})]},_.reminderId)})})]})]}),s.jsx(hr,{open:!!h,onClose:()=>v(null),title:h?.edit?"Edit Reminder":"Add Reminder",wide:!0,children:s.jsx(Nle,{initial:h?.edit||void 0,onSave:C,onDelete:h?.edit?M:void 0,onCancel:()=>v(null)})})]})}function Qm({label:e,value:t,color:n}){const r=n==="rose"?"text-[var(--accent-rose)]":n==="amber"?"text-[var(--accent-amber)]":"text-[var(--text-primary)]";return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm font-bold tabular-nums ${r}`,children:t})]})}const R_={BUY:"bg-emerald-500/15 text-emerald-400",SELL:"bg-rose-500/15 text-[var(--accent-rose)]"},Cle={INITIAL:"bg-violet-500/15 text-[var(--accent-violet)]",SIP:"bg-blue-500/15 text-[var(--accent-blue)]",LUMPSUM:"bg-emerald-500/15 text-emerald-400",WITHDRAWAL:"bg-amber-500/15 text-[var(--accent-amber)]",SWITCH:"bg-orange-500/15 text-[var(--accent-orange)]"};function Ale(){const{selectedMember:e}=Yr(),{mfTransactions:t,mfPortfolios:n,stockTransactions:r,stockPortfolios:a}=pt(),[l,c]=j.useState("mf"),[u,f]=j.useState("all"),m=j.useMemo(()=>{let w=[...t].sort((y,C)=>new Date(C.date)-new Date(y.date));if(e!=="all"){const y=new Set(n.filter(C=>C.ownerId===e).map(C=>C.portfolioId));w=w.filter(C=>y.has(C.portfolioId))}return u!=="all"&&(w=w.filter(y=>y.type===u)),w},[t,n,e,u]),h=j.useMemo(()=>{let w=[...r].sort((y,C)=>new Date(C.date)-new Date(y.date));if(e!=="all"){const y=new Set(a.filter(C=>C.ownerId===e).map(C=>C.portfolioId));w=w.filter(C=>y.has(C.portfolioId))}return u!=="all"&&(w=w.filter(y=>y.type===u)),w},[r,a,e,u]),v=l==="mf"?m:h,x=v.filter(w=>w.type==="BUY").reduce((w,y)=>w+(y.totalAmount||0),0),b=v.filter(w=>w.type==="SELL").reduce((w,y)=>w+(y.totalAmount||0),0),S=v.reduce((w,y)=>w+(y.gainLoss||y.realizedPL||0),0);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[s.jsx(Xm,{label:"Transactions",value:v.length}),s.jsx(Xm,{label:"Total Bought",value:Q(x)}),s.jsx(Xm,{label:"Total Sold",value:Q(b)}),s.jsx(Xm,{label:"Realized P&L",value:`${S>=0?"+":""}${Q(Math.abs(S))}`,positive:S>=0,bold:!0})]}),s.jsxs("div",{className:"flex items-center justify-between px-1",children:[s.jsx("div",{className:"flex gap-1",children:["mf","stocks"].map(w=>s.jsx("button",{onClick:()=>c(w),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${l===w?"bg-violet-500/20 text-violet-400 border border-violet-500/30":"text-[var(--text-dim)] hover:text-[var(--text-primary)] border border-transparent"}`,children:w==="mf"?"Mutual Funds":"Stocks"},w))}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(YO,{size:12,className:"text-[var(--text-dim)]"}),["all","BUY","SELL"].map(w=>s.jsx("button",{onClick:()=>f(w),className:`px-2 py-1 text-xs font-semibold rounded transition-colors ${u===w?"bg-[var(--bg-card)] text-[var(--text-primary)] border border-[var(--border)]":"text-[var(--text-dim)] hover:text-[var(--text-muted)]"}`,children:w==="all"?"All":w},w))]})]}),s.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:v.length===0?s.jsxs("div",{className:"py-12 flex flex-col items-center gap-3",children:[s.jsx(UO,{size:32,className:"text-[var(--text-dim)]"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:l==="mf"?"Fund":"Stock"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Portfolio"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:l==="mf"?"Units":"Qty"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:l==="mf"?"NAV":"Price"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"})]})}),s.jsx("tbody",{children:v.map(w=>{const y=w.gainLoss||w.realizedPL||0;return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-muted)] tabular-nums",children:w.date}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${R_[w.type]||""}`,children:w.type}),w.transactionType&&s.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${Cle[w.transactionType]||""}`,children:w.transactionType})]})}),s.jsxs("td",{className:"py-2.5 px-3",children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:w.fundName||w.companyName}),s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:w.fundCode||w.symbol})]}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)]",children:w.portfolioName||""}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:(w.units||w.quantity||0).toFixed(l==="mf"?2:0)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(w.price||w.pricePerShare||0)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(w.totalAmount||0)}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:y!==0?s.jsxs("span",{className:`text-xs font-semibold tabular-nums ${y>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[y>=0?"+":"",Q(Math.abs(y))]}):s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},w.transactionId)})})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:v.map(w=>(w.gainLoss||w.realizedPL,s.jsxs("div",{className:"px-4 py-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:w.fundName||w.companyName}),s.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded shrink-0 ${R_[w.type]||""}`,children:w.type})]}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[w.date,"  ",w.portfolioName]}),s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[(w.units||w.quantity||0).toFixed(l==="mf"?2:0)," @ ",Q(w.price||w.pricePerShare||0)]}),s.jsx("span",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(w.totalAmount||0)})]})]},w.transactionId)))})]})})]})}function Xm({label:e,value:t,positive:n,bold:r}){return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm tabular-nums ${r?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t})]})}const qa=[{id:"healthIns",question:"Does your family have Health Insurance?",tip:"50L to 1Cr family floater recommended (considering inflation & future expenses)",category:"Insurance"},{id:"termLife",question:"Do you have adequate Term Life Insurance?",tip:"Recommended: 10-15x annual income",category:"Insurance"},{id:"emergencyFund",question:"Do you have an Emergency Fund?",tip:"6-12 months of monthly expenses in liquid assets",category:"Savings"},{id:"familyAware",question:"Is your family aware of all investments?",tip:"Ensure nominees and family know about all assets",category:"Planning"},{id:"hasWill",question:"Do you have a Will?",tip:"Legal document for asset distribution",category:"Planning"},{id:"nominees",question:"Have you updated Nominees on all accounts?",tip:"Bank, demat, insurance, MF  all should have nominees",category:"Planning"},{id:"goals",question:"Do you have clearly defined Financial Goals?",tip:"Retirement, education, home  with target amounts and dates",category:"Goals"}];function Mle(){const e=Qs(),{members:t,insurancePolicies:n,goalList:r,otherInvList:a,healthCheckCompleted:l,completeHealthCheck:c}=pt(),u=t.filter(R=>R.status==="Active"),f=l===!1,[m,h]=j.useState(!1),[v,x]=j.useState(!0),[b,S]=j.useState(null),w=j.useMemo(()=>{const R={},B=n.filter(Z=>Z.policyType==="Health"&&Z.status==="Active");R.healthIns=B.length>0;const D=n.filter(Z=>Z.policyType==="Term Life"&&Z.status==="Active");R.termLife=D.length>0;const K=r.filter(Z=>Z.goalType==="Emergency Fund"&&Z.isActive),X=a.filter(Z=>Z.investmentType==="FD"||Z.investmentType==="PPF");return R.emergencyFund=K.length>0||X.length>0,R.goals=r.filter(Z=>Z.isActive).length>=2,R},[n,r,a]);j.useEffect(()=>{let R=!1;async function B(){const D=await OO("healthCheckAnswers");!R&&D&&(S(D),x(!1));try{const K=await _O();!R&&K&&(S(K),hn("healthCheckAnswers",K))}catch{}R||x(!1)}return B(),()=>{R=!0}},[]);const[y,C]=j.useState(()=>{const R={};return qa.forEach(B=>{R[B.id]=w[B.id]?"yes":""}),R});j.useEffect(()=>{b&&C(R=>{const B={...R};return qa.forEach(D=>{const K=b[D.id];K==="Yes"?B[D.id]="yes":K==="No"&&(B[D.id]="no")}),B})},[b]);const M=Object.values(y).filter(R=>R).length,A=Object.values(y).filter(R=>R==="yes").length,_=M===qa.length,E=M>0?Math.round(A/qa.length*100):0;function T(){return E>=80?"text-emerald-400":E>=50?"text-[var(--accent-amber)]":"text-[var(--accent-rose)]"}function P(){return E>=80?"Excellent":E>=60?"Good":E>=40?"Needs Work":"Critical"}const O=j.useMemo(()=>{const R=[];return y.healthIns!=="yes"&&R.push({severity:"critical",text:"Get Health Insurance for your family",action:"Minimum 5L cover recommended"}),y.termLife!=="yes"&&R.push({severity:"critical",text:"Get Term Life Insurance (10-15x annual income)",action:"Compare plans online"}),y.emergencyFund!=="yes"&&R.push({severity:"warning",text:"Build an Emergency Fund",action:"Save 6-12 months expenses in liquid fund/FD"}),y.familyAware!=="yes"&&R.push({severity:"warning",text:"Share investment details with family",action:"Create a document with all account info"}),y.hasWill!=="yes"&&R.push({severity:"warning",text:"Create a legal Will",action:"Consult a lawyer for Will registration"}),y.nominees!=="yes"&&R.push({severity:"warning",text:"Update nominees on all accounts",action:"Check bank, demat, insurance, MF accounts"}),y.goals!=="yes"&&R.push({severity:"info",text:"Define clear financial goals",action:"Use the Goal Planner to set targets"}),R},[y]),L=j.useCallback(async()=>{if(_){h(!0);try{const R={};qa.forEach(B=>{R[B.id]=y[B.id]==="yes"?"Yes":"No"}),R.score=A,R.total=qa.length,await c(R),e("/dashboard")}catch(R){console.error("Failed to save health check:",R)}finally{h(!1)}}},[_,y,A,c,e]);return s.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[f&&s.jsxs("div",{className:"bg-violet-500/10 border border-violet-500/20 rounded-xl p-4",children:[s.jsx("h2",{className:"text-base font-bold text-violet-400 mb-1",children:"Welcome to Capital Friends!"}),s.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Before you start, please complete this quick Financial Health Check. It takes less than a minute and helps you understand where your family stands financially."})]}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(HO,{size:16,className:"text-violet-400"}),s.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:"Financial Health Score"})]}),s.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[M,"/",qa.length," answered"]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative w-20 h-20",children:[s.jsxs("svg",{className:"w-20 h-20 -rotate-90",viewBox:"0 0 36 36",children:[s.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"var(--border)",strokeWidth:"3"}),s.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${E}, 100`,className:T(),strokeLinecap:"round"})]}),s.jsxs("span",{className:`absolute inset-0 flex items-center justify-center text-lg font-bold ${T()}`,children:[E,"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:`text-base font-bold ${T()}`,children:P()}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:[A," of ",qa.length," checks passed"]}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[u.length," family members tracked"]})]})]})]}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:s.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Health Check Questions"})}),s.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:qa.map((R,B)=>s.jsxs("div",{className:"px-4 py-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm text-[var(--text-primary)]",children:[s.jsxs("span",{className:"text-[var(--text-dim)] mr-2",children:[B+1,"."]}),R.question]}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5 ml-5",children:R.tip})]}),s.jsxs("div",{className:"flex gap-1 shrink-0",children:[s.jsx("button",{onClick:()=>C(D=>({...D,[R.id]:"yes"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${y[R.id]==="yes"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"Yes"}),s.jsx("button",{onClick:()=>C(D=>({...D,[R.id]:"no"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${y[R.id]==="no"?"bg-rose-500/20 text-[var(--accent-rose)] border border-rose-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"No"})]})]}),w[R.id]&&s.jsx("p",{className:"text-xs text-violet-400 mt-1 ml-5",children:"Auto-detected from your data"})]},R.id))})]}),O.length>0&&_&&s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:s.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Recommendations"})}),s.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:O.map((R,B)=>{const D=R.severity==="critical"?s.jsx(qO,{size:14,className:"text-[var(--accent-rose)]"}):R.severity==="warning"?s.jsx(Hs,{size:14,className:"text-[var(--accent-amber)]"}):s.jsx(qF,{size:14,className:"text-[var(--accent-blue)]"});return s.jsxs("div",{className:"flex items-start gap-3 px-4 py-3",children:[s.jsx("span",{className:"shrink-0 mt-0.5",children:D}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-[var(--text-primary)]",children:R.text}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:R.action})]})]},B)})})]}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[!_&&s.jsxs("p",{className:"text-xs text-[var(--accent-amber)] mb-3",children:["Please answer all ",qa.length," questions before saving."]}),s.jsx("button",{onClick:L,disabled:!_||m,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-bold transition-colors ${_&&!m?"bg-violet-600 hover:bg-violet-500 text-white":"bg-[var(--bg-inset)] text-[var(--text-dim)] cursor-not-allowed"}`,children:m?s.jsxs(s.Fragment,{children:[s.jsx(KO,{size:16,className:"animate-spin"}),"Saving..."]}):f?s.jsxs(s.Fragment,{children:["Save & Continue to Dashboard",s.jsx(jF,{size:16})]}):s.jsxs(s.Fragment,{children:[s.jsx(ZO,{size:16}),"Update Health Check"]})})]})]})}function kle(){return s.jsxs("div",{className:"space-y-4 max-w-lg mx-auto",children:[s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-5 text-center",children:[s.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-indigo-600 flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-xl font-bold text-white",children:"CF"})}),s.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Capital Friends"}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Family Portfolio Management"}),s.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-2",children:"v2.0.0"})]}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:s.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Features"})}),s.jsx("div",{className:"px-4 py-3 space-y-2",children:["Track Mutual Funds, Stocks & Other Investments","Family member-wise portfolio management","ATH-based Buy Opportunities","Smart Rebalancing with threshold alerts","Goal planning with portfolio mapping","Insurance, Liabilities & Bank Accounts","Financial Health Check questionnaire","Reminders for SIPs, renewals & due dates","Email reports with detailed breakdowns"].map(e=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-500 shrink-0"}),s.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:e})]},e))})]}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bp,{size:12,className:"text-pink-400"}),s.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Support Developer"})]})}),s.jsxs("div",{className:"px-4 py-4 text-center",children:[s.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-3",children:"If Capital Friends helps you manage your family finances, consider supporting the developer."}),s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-3 border border-[var(--border)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-1",children:"UPI"}),s.jsx("p",{className:"text-sm font-mono font-semibold text-[var(--text-primary)] select-all",children:"jagadeeshmanne.hdfc@kphdfc"})]}),s.jsxs("div",{className:"flex items-center justify-center gap-1 mt-3",children:[s.jsx(GF,{size:12,className:"text-[var(--accent-amber)]"}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Buy me a chai!"})]})]})]}),s.jsxs("div",{className:"text-center py-2",children:[s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Made with ",s.jsx(bp,{size:10,className:"inline text-pink-400 mx-0.5"})," by Jagadeesh Manne"]}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Built with React + Vite + Tailwind CSS"})]})]})}function Dle(){return Date.now().toString(36).toUpperCase()}function Ele(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=n=>Array.from({length:n},()=>e[Math.floor(Math.random()*26)]).join("");return t(5)+Math.floor(1e3+Math.random()*9e3)+t(1)}function _le(){return String(Math.floor(2e11+Math.random()*8e11))}function L_(){return"9"+String(Math.floor(1e8+Math.random()*9e8))}function Ole(){return String(Math.floor(1e9+Math.random()*9e9))}function Tle(){const e=Dle();return{member:{memberName:`Test Member ${e}`,relationship:"Self",pan:Ele(),aadhar:_le(),email:`test-${e.toLowerCase()}@example.com`,mobile:L_(),includeInEmailReports:!0},bank:{accountName:`Test Savings ${e}`,bankName:"Test Bank",accountNumber:Ole(),ifscCode:"TEST0001234",accountType:"Savings",branchName:"Test Branch"},investmentAccount:{accountName:`Test Demat ${e}`,accountType:"Demat",platformBroker:"Test Broker Platform",accountClientId:`CLI-${e}`,registeredEmail:`test-${e.toLowerCase()}@example.com`,registeredPhone:L_()},insurance:{policyType:"Term Life",company:"Test Insurance Co",policyNumber:`POL-${e}`,policyName:`Test Term Plan ${e}`,sumAssured:5e6,nominee:"Test Nominee",dynamicFields:{Premium:15e3,"Premium Frequency":"Annual"}},liability:{liabilityType:"Home Loan",lenderName:"Test Bank",outstandingBalance:45e5,dynamicFields:{"Principal Amount":5e6,"Interest Rate":8.5,"EMI Amount":45e3},notes:`Test liability ${e}`},otherInvestment:{investmentType:"Fixed Deposit",investmentName:`Test FD ${e}`,investedAmount:1e5,currentValue:105e3,investmentCategory:"Debt"},stockPortfolio:{portfolioName:`Test Stock Portfolio ${e}`,broker:"Test Broker"},reminder:{title:`Test Reminder ${e}`,description:"Automated test reminder",dueDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],category:"Insurance",priority:"Medium"},goal:{goalName:`Test Goal ${e}`,goalType:"Custom",targetAmount:1e6,targetDate:"2040-01-01",priority:"Medium",expectedInflation:.06,expectedCAGR:.12}}}function Ple({status:e,text:t}){const n={pass:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",fail:"bg-rose-500/20 text-rose-400 border-rose-500/30",skip:"bg-amber-500/20 text-amber-400 border-amber-500/30",running:"bg-blue-500/20 text-blue-400 border-blue-500/30",pending:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return s.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded border ${n[e]||n.pending}`,children:t||e.toUpperCase()})}function Ile(){const{user:e}=to(),[t,n]=j.useState([]),[r,a]=j.useState(!1),[l,c]=j.useState(null),[u,f]=j.useState(!1),m=j.useCallback((y,C,M="")=>{n(A=>[...A,{test:y,status:C,detail:M,time:new Date().toLocaleTimeString()}])},[]),h=j.useCallback((y,C="")=>{n(M=>{const A=[...M];return A.length>0&&(A[A.length-1]={...A[A.length-1],status:y,detail:C}),A})},[]),v=async()=>{f(!0),c(null);try{const y=await Ee("test:diagnose");c(y)}catch(y){c({error:y.message})}finally{f(!1)}},x=async()=>{a(!0),n([]);const y=Tle();let C=null,M=null,A=null,_=null,E=null,T=null,P=null,O=null,L=null,R=null;try{m("API Echo Test","running");try{const D=await Ee("test:echo",{hello:"world"});D&&D.echo&&D.echo.hello==="world"?h("pass","Echo response received correctly"):h("fail","Unexpected response: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Diagnostics","running");try{const D=await Ee("test:diagnose"),K=Object.entries(D.sheets||{}).filter(([,Z])=>!Z.exists).map(([Z])=>Z);if(K.length>0)h("fail",`Missing sheets: ${K.join(", ")}`);else{const Z=Object.keys(D.sheets).length;h("pass",`All ${Z} sheets exist. SpreadsheetId: ${D.spreadsheetId}`)}const X=Object.entries(D.dataTests||{}).filter(([,Z])=>!Z.success).map(([Z,$])=>`${Z}: ${$.error}`);X.length>0&&m("Data Function Errors","fail",X.join("; "))}catch(D){h("fail",D.message)}m("Load All Data (bulk)","running");try{const D=await vp(),K=Object.entries(D).map(([X,Z])=>`${X}: ${Array.isArray(Z)?Z.length:"?"}`);h("pass",K.join(", "))}catch(D){h("fail",D.message)}m("Members  Create","running");try{const D=await aO(y.member);C=D?.memberId,M=y.member.memberName,C?h("pass",`Created: ${C}`):h("fail","No memberId returned: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Members  List","running");try{const D=await nO();Array.isArray(D)&&D.some(X=>X.memberId===C)?h("pass",`Found ${C} in ${D.length} member(s)`):h("fail",`Member ${C} not found. Got ${Array.isArray(D)?D.length:0} members: ${JSON.stringify(D).substring(0,200)}`)}catch(D){h("fail",D.message)}if(C){m("Members  Update","running");try{await iO({...y.member,memberId:C,memberName:"Updated Test Member"}),M="Updated Test Member",h("pass",'Updated name to "Updated Test Member"')}catch(D){h("fail",D.message)}}m("Banks  Create","running");try{const D=await oO({...y.bank,memberId:C||"FM-001"});A=D?.accountId,h(A?"pass":"fail",A?`Created: ${A}`:"No accountId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Banks  List","running");try{const D=await lO();h("pass",`${Array.isArray(D)?D.length:0} account(s)`)}catch(D){h("fail",D.message)}m("Investment Accounts  Create","running");try{const D=await dO({...y.investmentAccount,memberId:C||"FM-001",bankAccountId:A||"BA-001"});_=D?.accountId,h(_?"pass":"fail",_?`Created: ${_}`:"No accountId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Investment Accounts  List","running");try{const D=await uO();h("pass",`${Array.isArray(D)?D.length:0} account(s)`)}catch(D){h("fail",D.message)}m("Insurance  Create","running");try{const D=await xO({...y.insurance,memberId:C||"FM-001",insuredMember:M||"Test Member"});E=D?.policyId,h(E?"pass":"fail",E?`Created: ${E}`:"No policyId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Insurance  List","running");try{const D=await vO();h("pass",`${Array.isArray(D)?D.length:0} policy/policies`)}catch(D){h("fail",D.message)}m("Liabilities  Create","running");try{const D=await yO({...y.liability,familyMember:C||"FM-001"});T=D?.liabilityId,h(T?"pass":"fail",T?`Created: ${T}`:"No liabilityId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Liabilities  List","running");try{const D=await bO();h("pass",`${Array.isArray(D)?D.length:0} liability/liabilities`)}catch(D){h("fail",D.message)}m("Other Investments  Create","running");try{const D=await NO({...y.otherInvestment,familyMember:C||"FM-001"});P=D?.investmentId,h(P?"pass":"fail",P?`Created: ${P}`:"No investmentId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Other Investments  List","running");try{const D=await jO();h("pass",`${Array.isArray(D)?D.length:0} investment(s)`)}catch(D){h("fail",D.message)}m("Stock Portfolios  Create","running");try{const D=await AO({...y.stockPortfolio,owner:C||"FM-001"});O=D?.portfolioId,h(O?"pass":"fail",O?`Created: ${O}`:"No portfolioId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Stock Portfolios  List","running");try{const D=await CO();h("pass",`${Array.isArray(D)?D.length:0} portfolio(s)`)}catch(D){h("fail",D.message)}m("Reminders  Create","running");try{const D=await DO(y.reminder);L=D?.reminderId,h(L?"pass":"fail",L?`Created: ${L}`:"No reminderId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Reminders  List","running");try{const D=await kO();h("pass",`${Array.isArray(D)?D.length:0} reminder(s)`)}catch(D){h("fail",D.message)}m("Goals  Create","running");try{const D=await pO(y.goal);R=D?.goalId,h(R?"pass":"fail",R?`Created: ${R}`:"No goalId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Goals  List","running");try{const D=await mO();h("pass",`${Array.isArray(D)?D.length:0} goal(s)`)}catch(D){h("fail",D.message)}m("Cleanup  Delete test data","running");const B=[];if(R)try{await hO(R)}catch(D){B.push("goal: "+D.message)}if(L)try{await EO(L)}catch(D){B.push("reminder: "+D.message)}if(O)try{await MO(O)}catch(D){B.push("stockPortfolio: "+D.message)}if(P)try{await SO(P)}catch(D){B.push("otherInv: "+D.message)}if(T)try{await wO(T)}catch(D){B.push("liability: "+D.message)}if(E)try{await gO(E)}catch(D){B.push("insurance: "+D.message)}if(_)try{await fO(_)}catch(D){B.push("invAcct: "+D.message)}if(A)try{await cO(A)}catch(D){B.push("bank: "+D.message)}if(C)try{await sO(C)}catch(D){B.push("member: "+D.message)}B.length>0?h("fail",B.join("; ")):h("pass","All test data cleaned up"),m("Final Load All (post-cleanup)","running");try{const D=await vp(),K=Object.entries(D).map(([X,Z])=>`${X}: ${Array.isArray(Z)?Z.length:"?"}`);h("pass",K.join(", "))}catch(D){h("fail",D.message)}}catch(B){m("UNEXPECTED ERROR","fail",B.message)}finally{a(!1)}},b=t.filter(y=>y.status==="pass").length,S=t.filter(y=>y.status==="fail").length,w=t.filter(y=>y.status!=="running").length;return s.jsx("div",{className:"min-h-screen bg-[var(--bg-main)] p-4 max-w-3xl mx-auto",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"API Test Suite"}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Signed in as ",e?.email||"unknown"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:v,disabled:u||r,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--bg-card)] border border-[var(--border)] text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] disabled:opacity-50 cursor-pointer",children:u?"Running...":"Diagnostics"}),s.jsx("button",{onClick:x,disabled:r,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-violet-600 text-white hover:bg-violet-700 disabled:opacity-50 cursor-pointer",children:r?"Running Tests...":"Run All Tests"})]})]}),w>0&&s.jsxs("div",{className:"flex gap-3 text-xs",children:[s.jsxs("span",{className:"text-emerald-400",children:["Pass: ",b]}),s.jsxs("span",{className:"text-rose-400",children:["Fail: ",S]}),s.jsxs("span",{className:"text-[var(--text-dim)]",children:["Total: ",w]})]}),l&&s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 space-y-3",children:[s.jsx("h2",{className:"text-sm font-semibold text-[var(--text-primary)]",children:"Diagnostics Report"}),l.error?s.jsx("p",{className:"text-xs text-rose-400",children:l.error}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-xs text-[var(--text-secondary)] space-y-1",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-[var(--text-dim)]",children:"Spreadsheet:"})," ",l.spreadsheetName]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-[var(--text-dim)]",children:"ID:"})," ",s.jsx("code",{className:"text-[10px]",children:l.spreadsheetId})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Sheets"}),s.jsx("div",{className:"grid grid-cols-2 gap-1",children:Object.entries(l.sheets||{}).map(([y,C])=>s.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[s.jsx("span",{className:"text-[var(--text-secondary)] truncate",children:y}),C.exists?s.jsxs("span",{className:"text-emerald-400 ml-1",children:[C.dataRows,"r"]}):s.jsx("span",{className:"text-rose-400 ml-1",children:"MISSING"})]},y))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Data Functions"}),s.jsx("div",{className:"space-y-1",children:Object.entries(l.dataTests||{}).map(([y,C])=>s.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[s.jsx("span",{className:"text-[var(--text-secondary)]",children:y}),C.success?s.jsxs("span",{className:"text-emerald-400",children:[C.count," items"]}):s.jsx("span",{className:"text-rose-400 truncate ml-2 max-w-[200px]",title:C.error,children:C.error})]},y))})]}),l.safeCallErrors&&l.safeCallErrors.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-rose-400 mb-1",children:"SafeCall Errors"}),l.safeCallErrors.map((y,C)=>s.jsxs("p",{className:"text-[11px] text-rose-400",children:[y.fn,": ",y.error]},C))]})]})]}),t.length>0&&s.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:s.jsx("div",{className:"divide-y divide-[var(--border)]",children:t.map((y,C)=>s.jsxs("div",{className:"px-4 py-2 flex items-start gap-3",children:[s.jsx("div",{className:"mt-0.5 shrink-0",children:s.jsx(Ple,{status:y.status})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:y.test}),y.detail&&s.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5 break-all",children:y.detail})]}),s.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:y.time})]},C))})}),t.length===0&&!l&&s.jsxs("div",{className:"text-center py-12 text-[var(--text-dim)]",children:[s.jsx("p",{className:"text-sm",children:'Click "Run All Tests" to test all CRUD operations'}),s.jsx("p",{className:"text-xs mt-1",children:'or "Diagnostics" to check spreadsheet structure'})]})]})})}function Rle(){return s.jsxs(z6,{children:[s.jsx(Jt,{index:!0,element:s.jsx(kie,{})}),s.jsx(Jt,{path:"login",element:s.jsx(fI,{})}),s.jsx(Jt,{element:s.jsx(Nie,{}),children:s.jsxs(Jt,{element:s.jsx(jie,{}),children:[s.jsx(Jt,{path:"dashboard",element:s.jsx(pp,{to:"/investments/mutual-funds",replace:!0})}),s.jsx(Jt,{path:"family",element:s.jsx(cle,{})}),s.jsx(Jt,{path:"accounts/bank",element:s.jsx(m_,{})}),s.jsx(Jt,{path:"accounts/investment",element:s.jsx(Pie,{})}),s.jsx(Jt,{path:"insurance",element:s.jsx(zie,{})}),s.jsx(Jt,{path:"investments/mutual-funds",element:s.jsx(Zse,{})}),s.jsx(Jt,{path:"investments/stocks",element:s.jsx(sle,{})}),s.jsx(Jt,{path:"investments/other",element:s.jsx(Qie,{})}),s.jsx(Jt,{path:"liabilities",element:s.jsx(qie,{})}),s.jsx(Jt,{path:"goals",element:s.jsx(hle,{})}),s.jsx(Jt,{path:"reports",element:s.jsx(Ale,{})}),s.jsx(Jt,{path:"reminders",element:s.jsx(Sle,{})}),s.jsx(Jt,{path:"health-check",element:s.jsx(Mle,{})}),s.jsx(Jt,{path:"about",element:s.jsx(kle,{})}),s.jsx(Jt,{path:"test",element:s.jsx(Ile,{})}),s.jsx(Jt,{path:"settings",element:s.jsx(gle,{})}),s.jsx(Jt,{path:"more",element:s.jsx(xle,{})}),s.jsx(Jt,{path:"accounts",element:s.jsx(m_,{})}),s.jsx(Jt,{path:"*",element:s.jsx(Die,{})})]})})]})}FL.createRoot(document.getElementById("root")).render(s.jsx(oz,{children:s.jsx(cF,{children:s.jsx(uF,{children:s.jsx(yB,{children:s.jsx(cB,{children:s.jsx(uB,{children:s.jsx(fF,{children:s.jsx(mF,{children:s.jsx(Rle,{})})})})})})})})}));
