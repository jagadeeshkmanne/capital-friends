function WL(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(n,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();var Doe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function si(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var q0={exports:{}},Tu={};var bC;function KL(){if(bC)return Tu;bC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,i,l){var c=null;if(l!==void 0&&(c=""+l),i.key!==void 0&&(c=""+i.key),"key"in i){l={};for(var u in i)u!=="key"&&(l[u]=i[u])}else l=i;return i=l.ref,{$$typeof:e,type:n,key:c,ref:i!==void 0?i:null,props:l}}return Tu.Fragment=t,Tu.jsx=r,Tu.jsxs=r,Tu}var yC;function QL(){return yC||(yC=1,q0.exports=KL()),q0.exports}var a=QL(),H0={exports:{}},nt={};var wC;function XL(){if(wC)return nt;wC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),v=Symbol.iterator;function g(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function C(B,Q,ue){this.props=B,this.context=Q,this.refs=w,this.updater=ue||S}C.prototype.isReactComponent={},C.prototype.setState=function(B,Q){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Q,"setState")},C.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function k(){}k.prototype=C.prototype;function A(B,Q,ue){this.props=B,this.context=Q,this.refs=w,this.updater=ue||S}var M=A.prototype=new k;M.constructor=A,y(M,C.prototype),M.isPureReactComponent=!0;var D=Array.isArray;function T(){}var P={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function z(B,Q,ue){var xe=ue.ref;return{$$typeof:e,type:B,key:Q,ref:xe!==void 0?xe:null,props:ue}}function L(B,Q){return z(B.type,Q,B.props)}function $(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function E(B){var Q={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ue){return Q[ue]})}var J=/\/+/g;function Z(B,Q){return typeof B=="object"&&B!==null&&B.key!=null?E(""+B.key):Q.toString(36)}function te(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(T,T):(B.status="pending",B.then(function(Q){B.status==="pending"&&(B.status="fulfilled",B.value=Q)},function(Q){B.status==="pending"&&(B.status="rejected",B.reason=Q)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function R(B,Q,ue,xe,U){var de=typeof B;(de==="undefined"||de==="boolean")&&(B=null);var ie=!1;if(B===null)ie=!0;else switch(de){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(B.$$typeof){case e:case t:ie=!0;break;case h:return ie=B._init,R(ie(B._payload),Q,ue,xe,U)}}if(ie)return U=U(B),ie=xe===""?"."+Z(B,0):xe,D(U)?(ue="",ie!=null&&(ue=ie.replace(J,"$&/")+"/"),R(U,Q,ue,"",function(Me){return Me})):U!=null&&($(U)&&(U=L(U,ue+(U.key==null||B&&B.key===U.key?"":(""+U.key).replace(J,"$&/")+"/")+ie)),Q.push(U)),1;ie=0;var ye=xe===""?".":xe+":";if(D(B))for(var re=0;re<B.length;re++)xe=B[re],de=ye+Z(xe,re),ie+=R(xe,Q,ue,de,U);else if(re=g(B),typeof re=="function")for(B=re.call(B),re=0;!(xe=B.next()).done;)xe=xe.value,de=ye+Z(xe,re++),ie+=R(xe,Q,ue,de,U);else if(de==="object"){if(typeof B.then=="function")return R(te(B),Q,ue,xe,U);throw Q=String(B),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ie}function F(B,Q,ue){if(B==null)return B;var xe=[],U=0;return R(B,xe,"","",function(de){return Q.call(ue,de,U++)}),xe}function fe(B){if(B._status===-1){var Q=B._result;Q=Q(),Q.then(function(ue){(B._status===0||B._status===-1)&&(B._status=1,B._result=ue)},function(ue){(B._status===0||B._status===-1)&&(B._status=2,B._result=ue)}),B._status===-1&&(B._status=0,B._result=Q)}if(B._status===1)return B._result.default;throw B._result}var Se=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},H={map:F,forEach:function(B,Q,ue){F(B,function(){Q.apply(this,arguments)},ue)},count:function(B){var Q=0;return F(B,function(){Q++}),Q},toArray:function(B){return F(B,function(Q){return Q})||[]},only:function(B){if(!$(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return nt.Activity=x,nt.Children=H,nt.Component=C,nt.Fragment=r,nt.Profiler=i,nt.PureComponent=A,nt.StrictMode=n,nt.Suspense=f,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,nt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return P.H.useMemoCache(B)}},nt.cache=function(B){return function(){return B.apply(null,arguments)}},nt.cacheSignal=function(){return null},nt.cloneElement=function(B,Q,ue){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var xe=y({},B.props),U=B.key;if(Q!=null)for(de in Q.key!==void 0&&(U=""+Q.key),Q)!O.call(Q,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&Q.ref===void 0||(xe[de]=Q[de]);var de=arguments.length-2;if(de===1)xe.children=ue;else if(1<de){for(var ie=Array(de),ye=0;ye<de;ye++)ie[ye]=arguments[ye+2];xe.children=ie}return z(B.type,U,xe)},nt.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},nt.createElement=function(B,Q,ue){var xe,U={},de=null;if(Q!=null)for(xe in Q.key!==void 0&&(de=""+Q.key),Q)O.call(Q,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(U[xe]=Q[xe]);var ie=arguments.length-2;if(ie===1)U.children=ue;else if(1<ie){for(var ye=Array(ie),re=0;re<ie;re++)ye[re]=arguments[re+2];U.children=ye}if(B&&B.defaultProps)for(xe in ie=B.defaultProps,ie)U[xe]===void 0&&(U[xe]=ie[xe]);return z(B,de,U)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(B){return{$$typeof:u,render:B}},nt.isValidElement=$,nt.lazy=function(B){return{$$typeof:h,_payload:{_status:-1,_result:B},_init:fe}},nt.memo=function(B,Q){return{$$typeof:m,type:B,compare:Q===void 0?null:Q}},nt.startTransition=function(B){var Q=P.T,ue={};P.T=ue;try{var xe=B(),U=P.S;U!==null&&U(ue,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(T,Se)}catch(de){Se(de)}finally{Q!==null&&ue.types!==null&&(Q.types=ue.types),P.T=Q}},nt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},nt.use=function(B){return P.H.use(B)},nt.useActionState=function(B,Q,ue){return P.H.useActionState(B,Q,ue)},nt.useCallback=function(B,Q){return P.H.useCallback(B,Q)},nt.useContext=function(B){return P.H.useContext(B)},nt.useDebugValue=function(){},nt.useDeferredValue=function(B,Q){return P.H.useDeferredValue(B,Q)},nt.useEffect=function(B,Q){return P.H.useEffect(B,Q)},nt.useEffectEvent=function(B){return P.H.useEffectEvent(B)},nt.useId=function(){return P.H.useId()},nt.useImperativeHandle=function(B,Q,ue){return P.H.useImperativeHandle(B,Q,ue)},nt.useInsertionEffect=function(B,Q){return P.H.useInsertionEffect(B,Q)},nt.useLayoutEffect=function(B,Q){return P.H.useLayoutEffect(B,Q)},nt.useMemo=function(B,Q){return P.H.useMemo(B,Q)},nt.useOptimistic=function(B,Q){return P.H.useOptimistic(B,Q)},nt.useReducer=function(B,Q,ue){return P.H.useReducer(B,Q,ue)},nt.useRef=function(B){return P.H.useRef(B)},nt.useState=function(B){return P.H.useState(B)},nt.useSyncExternalStore=function(B,Q,ue){return P.H.useSyncExternalStore(B,Q,ue)},nt.useTransition=function(){return P.H.useTransition()},nt.version="19.2.4",nt}var jC;function Nc(){return jC||(jC=1,H0.exports=XL()),H0.exports}var j=Nc();const he=si(j),f1=WL({__proto__:null,default:he},[j]);var U0={exports:{}},Pu={},Y0={exports:{}},V0={};var NC;function ZL(){return NC||(NC=1,(function(e){function t(R,F){var fe=R.length;R.push(F);e:for(;0<fe;){var Se=fe-1>>>1,H=R[Se];if(0<i(H,F))R[Se]=F,R[fe]=H,fe=Se;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var F=R[0],fe=R.pop();if(fe!==F){R[0]=fe;e:for(var Se=0,H=R.length,B=H>>>1;Se<B;){var Q=2*(Se+1)-1,ue=R[Q],xe=Q+1,U=R[xe];if(0>i(ue,fe))xe<H&&0>i(U,ue)?(R[Se]=U,R[xe]=fe,Se=xe):(R[Se]=ue,R[Q]=fe,Se=Q);else if(xe<H&&0>i(U,fe))R[Se]=U,R[xe]=fe,Se=xe;else break e}}return F}function i(R,F){var fe=R.sortIndex-F.sortIndex;return fe!==0?fe:R.id-F.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],m=[],h=1,x=null,v=3,g=!1,S=!1,y=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function M(R){for(var F=r(m);F!==null;){if(F.callback===null)n(m);else if(F.startTime<=R)n(m),F.sortIndex=F.expirationTime,t(f,F);else break;F=r(m)}}function D(R){if(y=!1,M(R),!S)if(r(f)!==null)S=!0,T||(T=!0,E());else{var F=r(m);F!==null&&te(D,F.startTime-R)}}var T=!1,P=-1,O=5,z=-1;function L(){return w?!0:!(e.unstable_now()-z<O)}function $(){if(w=!1,T){var R=e.unstable_now();z=R;var F=!0;try{e:{S=!1,y&&(y=!1,k(P),P=-1),g=!0;var fe=v;try{t:{for(M(R),x=r(f);x!==null&&!(x.expirationTime>R&&L());){var Se=x.callback;if(typeof Se=="function"){x.callback=null,v=x.priorityLevel;var H=Se(x.expirationTime<=R);if(R=e.unstable_now(),typeof H=="function"){x.callback=H,M(R),F=!0;break t}x===r(f)&&n(f),M(R)}else n(f);x=r(f)}if(x!==null)F=!0;else{var B=r(m);B!==null&&te(D,B.startTime-R),F=!1}}break e}finally{x=null,v=fe,g=!1}F=void 0}}finally{F?E():T=!1}}}var E;if(typeof A=="function")E=function(){A($)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,Z=J.port2;J.port1.onmessage=$,E=function(){Z.postMessage(null)}}else E=function(){C($,0)};function te(R,F){P=C(function(){R(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(R){switch(v){case 1:case 2:case 3:var F=3;break;default:F=v}var fe=v;v=F;try{return R()}finally{v=fe}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(R,F){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var fe=v;v=R;try{return F()}finally{v=fe}},e.unstable_scheduleCallback=function(R,F,fe){var Se=e.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Se+fe:Se):fe=Se,R){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=fe+H,R={id:h++,callback:F,priorityLevel:R,startTime:fe,expirationTime:H,sortIndex:-1},fe>Se?(R.sortIndex=fe,t(m,R),r(f)===null&&R===r(m)&&(y?(k(P),P=-1):y=!0,te(D,fe-Se))):(R.sortIndex=H,t(f,R),S||g||(S=!0,T||(T=!0,E()))),R},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(R){var F=v;return function(){var fe=v;v=F;try{return R.apply(this,arguments)}finally{v=fe}}}})(V0)),V0}var SC;function JL(){return SC||(SC=1,Y0.exports=ZL()),Y0.exports}var G0={exports:{}},Qr={};var CC;function e6(){if(CC)return Qr;CC=1;var e=Nc();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)m+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(f,m,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:f,containerInfo:m,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Qr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Qr.createPortal=function(f,m){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(f,m,null,h)},Qr.flushSync=function(f){var m=c.T,h=n.p;try{if(c.T=null,n.p=2,f)return f()}finally{c.T=m,n.p=h,n.d.f()}},Qr.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(f,m))},Qr.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Qr.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var h=m.as,x=u(h,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,g=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;h==="style"?n.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:v,fetchPriority:g}):h==="script"&&n.d.X(f,{crossOrigin:x,integrity:v,fetchPriority:g,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Qr.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var h=u(m.as,m.crossOrigin);n.d.M(f,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(f)},Qr.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var h=m.as,x=u(h,m.crossOrigin);n.d.L(f,h,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Qr.preloadModule=function(f,m){if(typeof f=="string")if(m){var h=u(m.as,m.crossOrigin);n.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(f)},Qr.requestFormReset=function(f){n.d.r(f)},Qr.unstable_batchedUpdates=function(f,m){return f(m)},Qr.useFormState=function(f,m,h){return c.H.useFormState(f,m,h)},Qr.useFormStatus=function(){return c.H.useHostTransitionStatus()},Qr.version="19.2.4",Qr}var AC;function i_(){if(AC)return G0.exports;AC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),G0.exports=e6(),G0.exports}var kC;function t6(){if(kC)return Pu;kC=1;var e=JL(),t=Nc(),r=i_();function n(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var o=s,d=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(d=o.return),s=o.return;while(s)}return o.tag===3?d:null}function c(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function f(s){if(l(s)!==s)throw Error(n(188))}function m(s){var o=s.alternate;if(!o){if(o=l(s),o===null)throw Error(n(188));return o!==s?null:s}for(var d=s,p=o;;){var b=d.return;if(b===null)break;var N=b.alternate;if(N===null){if(p=b.return,p!==null){d=p;continue}break}if(b.child===N.child){for(N=b.child;N;){if(N===d)return f(b),s;if(N===p)return f(b),o;N=N.sibling}throw Error(n(188))}if(d.return!==p.return)d=b,p=N;else{for(var _=!1,I=b.child;I;){if(I===d){_=!0,d=b,p=N;break}if(I===p){_=!0,p=b,d=N;break}I=I.sibling}if(!_){for(I=N.child;I;){if(I===d){_=!0,d=N,p=b;break}if(I===p){_=!0,p=N,d=b;break}I=I.sibling}if(!_)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:o}function h(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=h(s),o!==null)return o;s=s.sibling}return null}var x=Object.assign,v=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),A=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function E(s){return s===null||typeof s!="object"?null:(s=$&&s[$]||s["@@iterator"],typeof s=="function"?s:null)}var J=Symbol.for("react.client.reference");function Z(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===J?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case y:return"Fragment";case C:return"Profiler";case w:return"StrictMode";case D:return"Suspense";case T:return"SuspenseList";case z:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case A:return s.displayName||"Context";case k:return(s._context.displayName||"Context")+".Consumer";case M:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return o=s.displayName||null,o!==null?o:Z(s.type)||"Memo";case O:o=s._payload,s=s._init;try{return Z(s(o))}catch{}}return null}var te=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Se=[],H=-1;function B(s){return{current:s}}function Q(s){0>H||(s.current=Se[H],Se[H]=null,H--)}function ue(s,o){H++,Se[H]=s.current,s.current=o}var xe=B(null),U=B(null),de=B(null),ie=B(null);function ye(s,o){switch(ue(de,o),ue(U,s),ue(xe,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?qS(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=qS(o),s=HS(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Q(xe),ue(xe,s)}function re(){Q(xe),Q(U),Q(de)}function Me(s){s.memoizedState!==null&&ue(ie,s);var o=xe.current,d=HS(o,s.type);o!==d&&(ue(U,s),ue(xe,d))}function Ve(s){U.current===s&&(Q(xe),Q(U)),ie.current===s&&(Q(ie),Du._currentValue=fe)}var ge,ze;function ke(s){if(ge===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);ge=o&&o[1]||"",ze=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+s+ze}var Ie=!1;function rt(s,o){if(!s||Ie)return"";Ie=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(me){var oe=me}Reflect.construct(s,[],je)}else{try{je.call()}catch(me){oe=me}s.call(je.prototype)}}else{try{throw Error()}catch(me){oe=me}(je=s())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(me){if(me&&oe&&typeof me.stack=="string")return[me.stack,oe.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),_=N[0],I=N[1];if(_&&I){var V=_.split(`
`),se=I.split(`
`);for(b=p=0;p<V.length&&!V[p].includes("DetermineComponentFrameRoot");)p++;for(;b<se.length&&!se[b].includes("DetermineComponentFrameRoot");)b++;if(p===V.length||b===se.length)for(p=V.length-1,b=se.length-1;1<=p&&0<=b&&V[p]!==se[b];)b--;for(;1<=p&&0<=b;p--,b--)if(V[p]!==se[b]){if(p!==1||b!==1)do if(p--,b--,0>b||V[p]!==se[b]){var ve=`
`+V[p].replace(" at new "," at ");return s.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",s.displayName)),ve}while(1<=p&&0<=b);break}}}finally{Ie=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?ke(d):""}function Tt(s,o){switch(s.tag){case 26:case 27:case 5:return ke(s.type);case 16:return ke("Lazy");case 13:return s.child!==o&&o!==null?ke("Suspense Fallback"):ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return rt(s.type,!1);case 11:return rt(s.type.render,!1);case 1:return rt(s.type,!0);case 31:return ke("Activity");default:return""}}function kt(s){try{var o="",d=null;do o+=Tt(s,d),d=s,s=s.return;while(s);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var St=Object.prototype.hasOwnProperty,Mr=e.unstable_scheduleCallback,Wt=e.unstable_cancelCallback,ir=e.unstable_shouldYield,Pt=e.unstable_requestPaint,be=e.unstable_now,Qe=e.unstable_getCurrentPriorityLevel,G=e.unstable_ImmediatePriority,q=e.unstable_UserBlockingPriority,X=e.unstable_NormalPriority,Ce=e.unstable_LowPriority,Fe=e.unstable_IdlePriority,le=e.log,ot=e.unstable_setDisableYieldValue,qe=null,De=null;function Ze(s){if(typeof le=="function"&&ot(s),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(qe,s)}catch{}}var Ke=Math.clz32?Math.clz32:Ee,Ht=Math.log,dt=Math.LN2;function Ee(s){return s>>>=0,s===0?32:31-(Ht(s)/dt|0)|0}var We=256,_e=262144,it=4194304;function ne(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ne(s,o,d){var p=s.pendingLanes;if(p===0)return 0;var b=0,N=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var I=p&134217727;return I!==0?(p=I&~N,p!==0?b=ne(p):(_&=I,_!==0?b=ne(_):d||(d=I&~s,d!==0&&(b=ne(d))))):(I=p&~N,I!==0?b=ne(I):_!==0?b=ne(_):d||(d=p&~s,d!==0&&(b=ne(d)))),b===0?0:o!==0&&o!==b&&(o&N)===0&&(N=b&-b,d=o&-o,N>=d||N===32&&(d&4194048)!==0)?o:b}function Ue(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Kt(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rr(){var s=it;return it<<=1,(it&62914560)===0&&(it=4194304),s}function _a(s){for(var o=[],d=0;31>d;d++)o.push(s);return o}function Oa(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function $c(s,o,d,p,b,N){var _=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var I=s.entanglements,V=s.expirationTimes,se=s.hiddenUpdates;for(d=_&~d;0<d;){var ve=31-Ke(d),je=1<<ve;I[ve]=0,V[ve]=-1;var oe=se[ve];if(oe!==null)for(se[ve]=null,ve=0;ve<oe.length;ve++){var me=oe[ve];me!==null&&(me.lane&=-536870913)}d&=~je}p!==0&&tf(s,p,0),N!==0&&b===0&&s.tag!==0&&(s.suspendedLanes|=N&~(_&~o))}function tf(s,o,d){s.pendingLanes|=o,s.suspendedLanes&=~o;var p=31-Ke(o);s.entangledLanes|=o,s.entanglements[p]=s.entanglements[p]|1073741824|d&261930}function rf(s,o){var d=s.entangledLanes|=o;for(s=s.entanglements;d;){var p=31-Ke(d),b=1<<p;b&o|s[p]&o&&(s[p]|=o),d&=~b}}function nf(s,o){var d=o&-o;return d=(d&42)!==0?1:qc(d),(d&(s.suspendedLanes|o))!==0?0:d}function qc(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Hc(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function af(){var s=F.p;return s!==0?s:(s=window.event,s===void 0?32:fC(s.type))}function sf(s,o){var d=F.p;try{return F.p=s,o()}finally{F.p=d}}var Ta=Math.random().toString(36).slice(2),Dr="__reactFiber$"+Ta,Kr="__reactProps$"+Ta,as="__reactContainer$"+Ta,Uc="__reactEvents$"+Ta,Tx="__reactListeners$"+Ta,Px="__reactHandles$"+Ta,lf="__reactResources$"+Ta,nl="__reactMarker$"+Ta;function Yc(s){delete s[Dr],delete s[Kr],delete s[Uc],delete s[Tx],delete s[Px]}function is(s){var o=s[Dr];if(o)return o;for(var d=s.parentNode;d;){if(o=d[as]||d[Dr]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(s=QS(s);s!==null;){if(d=s[Dr])return d;s=QS(s)}return o}s=d,d=s.parentNode}return null}function ss(s){if(s=s[Dr]||s[as]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function al(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(n(33))}function ls(s){var o=s[lf];return o||(o=s[lf]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function yr(s){s[nl]=!0}var of=new Set,Y={};function Ae(s,o){sr(s,o),sr(s+"Capture",o)}function sr(s,o){for(Y[s]=o,s=0;s<o.length;s++)of.add(o[s])}var jn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pa={},Ia={};function fi(s){return St.call(Ia,s)?!0:St.call(Pa,s)?!1:jn.test(s)?Ia[s]=!0:(Pa[s]=!0,!1)}function mi(s,o,d){if(fi(o))if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+d)}}function il(s,o,d){if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+d)}}function wr(s,o,d,p){if(p===null)s.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(o,d,""+p)}}function hr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Pj(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function $I(s,o,d){var p=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,N=p.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return b.call(this)},set:function(_){d=""+_,N.call(this,_)}}),Object.defineProperty(s,o,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(_){d=""+_},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Ix(s){if(!s._valueTracker){var o=Pj(s)?"checked":"value";s._valueTracker=$I(s,o,""+s[o])}}function Ij(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var d=o.getValue(),p="";return s&&(p=Pj(s)?s.checked?"true":"false":s.value),s=p,s!==d?(o.setValue(s),!0):!1}function cf(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var qI=/[\n"\\]/g;function qn(s){return s.replace(qI,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Rx(s,o,d,p,b,N,_,I){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),o!=null?_==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+hr(o)):s.value!==""+hr(o)&&(s.value=""+hr(o)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),o!=null?Lx(s,_,hr(o)):d!=null?Lx(s,_,hr(d)):p!=null&&s.removeAttribute("value"),b==null&&N!=null&&(s.defaultChecked=!!N),b!=null&&(s.checked=b&&typeof b!="function"&&typeof b!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.name=""+hr(I):s.removeAttribute("name")}function Rj(s,o,d,p,b,N,_,I){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(s.type=N),o!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||o!=null)){Ix(s);return}d=d!=null?""+hr(d):"",o=o!=null?""+hr(o):d,I||o===s.value||(s.value=o),s.defaultValue=o}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=I?s.checked:!!p,s.defaultChecked=!!p,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_),Ix(s)}function Lx(s,o,d){o==="number"&&cf(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function io(s,o,d,p){if(s=s.options,o){o={};for(var b=0;b<d.length;b++)o["$"+d[b]]=!0;for(d=0;d<s.length;d++)b=o.hasOwnProperty("$"+s[d].value),s[d].selected!==b&&(s[d].selected=b),b&&p&&(s[d].defaultSelected=!0)}else{for(d=""+hr(d),o=null,b=0;b<s.length;b++){if(s[b].value===d){s[b].selected=!0,p&&(s[b].defaultSelected=!0);return}o!==null||s[b].disabled||(o=s[b])}o!==null&&(o.selected=!0)}}function Lj(s,o,d){if(o!=null&&(o=""+hr(o),o!==s.value&&(s.value=o),d==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=d!=null?""+hr(d):""}function Fj(s,o,d,p){if(o==null){if(p!=null){if(d!=null)throw Error(n(92));if(te(p)){if(1<p.length)throw Error(n(93));p=p[0]}d=p}d==null&&(d=""),o=d}d=hr(o),s.defaultValue=d,p=s.textContent,p===d&&p!==""&&p!==null&&(s.value=p),Ix(s)}function so(s,o){if(o){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=o;return}}s.textContent=o}var HI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zj(s,o,d){var p=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":p?s.setProperty(o,d):typeof d!="number"||d===0||HI.has(o)?o==="float"?s.cssFloat=d:s[o]=(""+d).trim():s[o]=d+"px"}function Bj(s,o,d){if(o!=null&&typeof o!="object")throw Error(n(62));if(s=s.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var b in o)p=o[b],o.hasOwnProperty(b)&&d[b]!==p&&zj(s,b,p)}else for(var N in o)o.hasOwnProperty(N)&&zj(s,N,o[N])}function Fx(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),YI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uf(s){return YI.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function pi(){}var zx=null;function Bx(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var lo=null,oo=null;function $j(s){var o=ss(s);if(o&&(s=o.stateNode)){var d=s[Kr]||null;e:switch(s=o.stateNode,o.type){case"input":if(Rx(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+qn(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var p=d[o];if(p!==s&&p.form===s.form){var b=p[Kr]||null;if(!b)throw Error(n(90));Rx(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<d.length;o++)p=d[o],p.form===s.form&&Ij(p)}break e;case"textarea":Lj(s,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&io(s,!!d.multiple,o,!1)}}}var $x=!1;function qj(s,o,d){if($x)return s(o,d);$x=!0;try{var p=s(o);return p}finally{if($x=!1,(lo!==null||oo!==null)&&(Xf(),lo&&(o=lo,s=oo,oo=lo=null,$j(o),s)))for(o=0;o<s.length;o++)$j(s[o])}}function Vc(s,o){var d=s.stateNode;if(d===null)return null;var p=d[Kr]||null;if(p===null)return null;d=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,o,typeof d));return d}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qx=!1;if(hi)try{var Gc={};Object.defineProperty(Gc,"passive",{get:function(){qx=!0}}),window.addEventListener("test",Gc,Gc),window.removeEventListener("test",Gc,Gc)}catch{qx=!1}var os=null,Hx=null,df=null;function Hj(){if(df)return df;var s,o=Hx,d=o.length,p,b="value"in os?os.value:os.textContent,N=b.length;for(s=0;s<d&&o[s]===b[s];s++);var _=d-s;for(p=1;p<=_&&o[d-p]===b[N-p];p++);return df=b.slice(s,1<p?1-p:void 0)}function ff(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function mf(){return!0}function Uj(){return!1}function on(s){function o(d,p,b,N,_){this._reactName=d,this._targetInst=b,this.type=p,this.nativeEvent=N,this.target=_,this.currentTarget=null;for(var I in s)s.hasOwnProperty(I)&&(d=s[I],this[I]=d?d(N):N[I]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?mf:Uj,this.isPropagationStopped=Uj,this}return x(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=mf)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=mf)},persist:function(){},isPersistent:mf}),o}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pf=on(sl),Wc=x({},sl,{view:0,detail:0}),VI=on(Wc),Ux,Yx,Kc,hf=x({},Wc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gx,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Kc&&(Kc&&s.type==="mousemove"?(Ux=s.screenX-Kc.screenX,Yx=s.screenY-Kc.screenY):Yx=Ux=0,Kc=s),Ux)},movementY:function(s){return"movementY"in s?s.movementY:Yx}}),Yj=on(hf),GI=x({},hf,{dataTransfer:0}),WI=on(GI),KI=x({},Wc,{relatedTarget:0}),Vx=on(KI),QI=x({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),XI=on(QI),ZI=x({},sl,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),JI=on(ZI),eR=x({},sl,{data:0}),Vj=on(eR),tR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aR(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=nR[s])?!!o[s]:!1}function Gx(){return aR}var iR=x({},Wc,{key:function(s){if(s.key){var o=tR[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ff(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?rR[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gx,charCode:function(s){return s.type==="keypress"?ff(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ff(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),sR=on(iR),lR=x({},hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gj=on(lR),oR=x({},Wc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gx}),cR=on(oR),uR=x({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),dR=on(uR),fR=x({},hf,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),mR=on(fR),pR=x({},sl,{newState:0,oldState:0}),hR=on(pR),xR=[9,13,27,32],Wx=hi&&"CompositionEvent"in window,Qc=null;hi&&"documentMode"in document&&(Qc=document.documentMode);var vR=hi&&"TextEvent"in window&&!Qc,Wj=hi&&(!Wx||Qc&&8<Qc&&11>=Qc),Kj=" ",Qj=!1;function Xj(s,o){switch(s){case"keyup":return xR.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zj(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var co=!1;function gR(s,o){switch(s){case"compositionend":return Zj(o);case"keypress":return o.which!==32?null:(Qj=!0,Kj);case"textInput":return s=o.data,s===Kj&&Qj?null:s;default:return null}}function bR(s,o){if(co)return s==="compositionend"||!Wx&&Xj(s,o)?(s=Hj(),df=Hx=os=null,co=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Wj&&o.locale!=="ko"?null:o.data;default:return null}}var yR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jj(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!yR[s.type]:o==="textarea"}function eN(s,o,d,p){lo?oo?oo.push(p):oo=[p]:lo=p,o=am(o,"onChange"),0<o.length&&(d=new pf("onChange","change",null,d,p),s.push({event:d,listeners:o}))}var Xc=null,Zc=null;function wR(s){RS(s,0)}function xf(s){var o=al(s);if(Ij(o))return s}function tN(s,o){if(s==="change")return o}var rN=!1;if(hi){var Kx;if(hi){var Qx="oninput"in document;if(!Qx){var nN=document.createElement("div");nN.setAttribute("oninput","return;"),Qx=typeof nN.oninput=="function"}Kx=Qx}else Kx=!1;rN=Kx&&(!document.documentMode||9<document.documentMode)}function aN(){Xc&&(Xc.detachEvent("onpropertychange",iN),Zc=Xc=null)}function iN(s){if(s.propertyName==="value"&&xf(Zc)){var o=[];eN(o,Zc,s,Bx(s)),qj(wR,o)}}function jR(s,o,d){s==="focusin"?(aN(),Xc=o,Zc=d,Xc.attachEvent("onpropertychange",iN)):s==="focusout"&&aN()}function NR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return xf(Zc)}function SR(s,o){if(s==="click")return xf(o)}function CR(s,o){if(s==="input"||s==="change")return xf(o)}function AR(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Nn=typeof Object.is=="function"?Object.is:AR;function Jc(s,o){if(Nn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var d=Object.keys(s),p=Object.keys(o);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var b=d[p];if(!St.call(o,b)||!Nn(s[b],o[b]))return!1}return!0}function sN(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function lN(s,o){var d=sN(s);s=0;for(var p;d;){if(d.nodeType===3){if(p=s+d.textContent.length,s<=o&&p>=o)return{node:d,offset:o-s};s=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=sN(d)}}function oN(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?oN(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function cN(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=cf(s.document);o instanceof s.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)s=o.contentWindow;else break;o=cf(s.document)}return o}function Xx(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var kR=hi&&"documentMode"in document&&11>=document.documentMode,uo=null,Zx=null,eu=null,Jx=!1;function uN(s,o,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Jx||uo==null||uo!==cf(p)||(p=uo,"selectionStart"in p&&Xx(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),eu&&Jc(eu,p)||(eu=p,p=am(Zx,"onSelect"),0<p.length&&(o=new pf("onSelect","select",null,o,d),s.push({event:o,listeners:p}),o.target=uo)))}function ll(s,o){var d={};return d[s.toLowerCase()]=o.toLowerCase(),d["Webkit"+s]="webkit"+o,d["Moz"+s]="moz"+o,d}var fo={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionrun:ll("Transition","TransitionRun"),transitionstart:ll("Transition","TransitionStart"),transitioncancel:ll("Transition","TransitionCancel"),transitionend:ll("Transition","TransitionEnd")},ev={},dN={};hi&&(dN=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function ol(s){if(ev[s])return ev[s];if(!fo[s])return s;var o=fo[s],d;for(d in o)if(o.hasOwnProperty(d)&&d in dN)return ev[s]=o[d];return s}var fN=ol("animationend"),mN=ol("animationiteration"),pN=ol("animationstart"),MR=ol("transitionrun"),DR=ol("transitionstart"),ER=ol("transitioncancel"),hN=ol("transitionend"),xN=new Map,tv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tv.push("scrollEnd");function ca(s,o){xN.set(s,o),Ae(o,[s])}var vf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Hn=[],mo=0,rv=0;function gf(){for(var s=mo,o=rv=mo=0;o<s;){var d=Hn[o];Hn[o++]=null;var p=Hn[o];Hn[o++]=null;var b=Hn[o];Hn[o++]=null;var N=Hn[o];if(Hn[o++]=null,p!==null&&b!==null){var _=p.pending;_===null?b.next=b:(b.next=_.next,_.next=b),p.pending=b}N!==0&&vN(d,b,N)}}function bf(s,o,d,p){Hn[mo++]=s,Hn[mo++]=o,Hn[mo++]=d,Hn[mo++]=p,rv|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function nv(s,o,d,p){return bf(s,o,d,p),yf(s)}function cl(s,o){return bf(s,null,null,o),yf(s)}function vN(s,o,d){s.lanes|=d;var p=s.alternate;p!==null&&(p.lanes|=d);for(var b=!1,N=s.return;N!==null;)N.childLanes|=d,p=N.alternate,p!==null&&(p.childLanes|=d),N.tag===22&&(s=N.stateNode,s===null||s._visibility&1||(b=!0)),s=N,N=N.return;return s.tag===3?(N=s.stateNode,b&&o!==null&&(b=31-Ke(d),s=N.hiddenUpdates,p=s[b],p===null?s[b]=[o]:p.push(o),o.lane=d|536870912),N):null}function yf(s){if(50<ju)throw ju=0,f0=null,Error(n(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var po={};function _R(s,o,d,p){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(s,o,d,p){return new _R(s,o,d,p)}function av(s){return s=s.prototype,!(!s||!s.isReactComponent)}function xi(s,o){var d=s.alternate;return d===null?(d=Sn(s.tag,o,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=o,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,o=s.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function gN(s,o){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,o=d.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function wf(s,o,d,p,b,N){var _=0;if(p=s,typeof s=="function")av(s)&&(_=1);else if(typeof s=="string")_=RL(s,d,xe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case z:return s=Sn(31,d,o,b),s.elementType=z,s.lanes=N,s;case y:return ul(d.children,b,N,o);case w:_=8,b|=24;break;case C:return s=Sn(12,d,o,b|2),s.elementType=C,s.lanes=N,s;case D:return s=Sn(13,d,o,b),s.elementType=D,s.lanes=N,s;case T:return s=Sn(19,d,o,b),s.elementType=T,s.lanes=N,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:_=10;break e;case k:_=9;break e;case M:_=11;break e;case P:_=14;break e;case O:_=16,p=null;break e}_=29,d=Error(n(130,s===null?"null":typeof s,"")),p=null}return o=Sn(_,d,o,b),o.elementType=s,o.type=p,o.lanes=N,o}function ul(s,o,d,p){return s=Sn(7,s,p,o),s.lanes=d,s}function iv(s,o,d){return s=Sn(6,s,null,o),s.lanes=d,s}function bN(s){var o=Sn(18,null,null,0);return o.stateNode=s,o}function sv(s,o,d){return o=Sn(4,s.children!==null?s.children:[],s.key,o),o.lanes=d,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var yN=new WeakMap;function Un(s,o){if(typeof s=="object"&&s!==null){var d=yN.get(s);return d!==void 0?d:(o={value:s,source:o,stack:kt(o)},yN.set(s,o),o)}return{value:s,source:o,stack:kt(o)}}var ho=[],xo=0,jf=null,tu=0,Yn=[],Vn=0,cs=null,Ra=1,La="";function vi(s,o){ho[xo++]=tu,ho[xo++]=jf,jf=s,tu=o}function wN(s,o,d){Yn[Vn++]=Ra,Yn[Vn++]=La,Yn[Vn++]=cs,cs=s;var p=Ra;s=La;var b=32-Ke(p)-1;p&=~(1<<b),d+=1;var N=32-Ke(o)+b;if(30<N){var _=b-b%5;N=(p&(1<<_)-1).toString(32),p>>=_,b-=_,Ra=1<<32-Ke(o)+b|d<<b|p,La=N+s}else Ra=1<<N|d<<b|p,La=s}function lv(s){s.return!==null&&(vi(s,1),wN(s,1,0))}function ov(s){for(;s===jf;)jf=ho[--xo],ho[xo]=null,tu=ho[--xo],ho[xo]=null;for(;s===cs;)cs=Yn[--Vn],Yn[Vn]=null,La=Yn[--Vn],Yn[Vn]=null,Ra=Yn[--Vn],Yn[Vn]=null}function jN(s,o){Yn[Vn++]=Ra,Yn[Vn++]=La,Yn[Vn++]=cs,Ra=o.id,La=o.overflow,cs=s}var $r=null,Ut=null,bt=!1,us=null,Gn=!1,cv=Error(n(519));function ds(s){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ru(Un(o,s)),cv}function NN(s){var o=s.stateNode,d=s.type,p=s.memoizedProps;switch(o[Dr]=s,o[Kr]=p,d){case"dialog":mt("cancel",o),mt("close",o);break;case"iframe":case"object":case"embed":mt("load",o);break;case"video":case"audio":for(d=0;d<Su.length;d++)mt(Su[d],o);break;case"source":mt("error",o);break;case"img":case"image":case"link":mt("error",o),mt("load",o);break;case"details":mt("toggle",o);break;case"input":mt("invalid",o),Rj(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":mt("invalid",o);break;case"textarea":mt("invalid",o),Fj(o,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||p.suppressHydrationWarning===!0||BS(o.textContent,d)?(p.popover!=null&&(mt("beforetoggle",o),mt("toggle",o)),p.onScroll!=null&&mt("scroll",o),p.onScrollEnd!=null&&mt("scrollend",o),p.onClick!=null&&(o.onclick=pi),o=!0):o=!1,o||ds(s,!0)}function SN(s){for($r=s.return;$r;)switch($r.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:$r=$r.return}}function vo(s){if(s!==$r)return!1;if(!bt)return SN(s),bt=!0,!1;var o=s.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||k0(s.type,s.memoizedProps)),d=!d),d&&Ut&&ds(s),SN(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Ut=KS(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Ut=KS(s)}else o===27?(o=Ut,Cs(s.type)?(s=O0,O0=null,Ut=s):Ut=o):Ut=$r?Kn(s.stateNode.nextSibling):null;return!0}function dl(){Ut=$r=null,bt=!1}function uv(){var s=us;return s!==null&&(fn===null?fn=s:fn.push.apply(fn,s),us=null),s}function ru(s){us===null?us=[s]:us.push(s)}var dv=B(null),fl=null,gi=null;function fs(s,o,d){ue(dv,o._currentValue),o._currentValue=d}function bi(s){s._currentValue=dv.current,Q(dv)}function fv(s,o,d){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===d)break;s=s.return}}function mv(s,o,d,p){var b=s.child;for(b!==null&&(b.return=s);b!==null;){var N=b.dependencies;if(N!==null){var _=b.child;N=N.firstContext;e:for(;N!==null;){var I=N;N=b;for(var V=0;V<o.length;V++)if(I.context===o[V]){N.lanes|=d,I=N.alternate,I!==null&&(I.lanes|=d),fv(N.return,d,s),p||(_=null);break e}N=I.next}}else if(b.tag===18){if(_=b.return,_===null)throw Error(n(341));_.lanes|=d,N=_.alternate,N!==null&&(N.lanes|=d),fv(_,d,s),_=null}else _=b.child;if(_!==null)_.return=b;else for(_=b;_!==null;){if(_===s){_=null;break}if(b=_.sibling,b!==null){b.return=_.return,_=b;break}_=_.return}b=_}}function go(s,o,d,p){s=null;for(var b=o,N=!1;b!==null;){if(!N){if((b.flags&524288)!==0)N=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var _=b.alternate;if(_===null)throw Error(n(387));if(_=_.memoizedProps,_!==null){var I=b.type;Nn(b.pendingProps.value,_.value)||(s!==null?s.push(I):s=[I])}}else if(b===ie.current){if(_=b.alternate,_===null)throw Error(n(387));_.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(s!==null?s.push(Du):s=[Du])}b=b.return}s!==null&&mv(o,s,d,p),o.flags|=262144}function Nf(s){for(s=s.firstContext;s!==null;){if(!Nn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ml(s){fl=s,gi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function qr(s){return CN(fl,s)}function Sf(s,o){return fl===null&&ml(s),CN(s,o)}function CN(s,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},gi===null){if(s===null)throw Error(n(308));gi=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else gi=gi.next=o;return d}var OR=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(d,p){s.push(p)}};this.abort=function(){o.aborted=!0,s.forEach(function(d){return d()})}},TR=e.unstable_scheduleCallback,PR=e.unstable_NormalPriority,jr={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pv(){return{controller:new OR,data:new Map,refCount:0}}function nu(s){s.refCount--,s.refCount===0&&TR(PR,function(){s.controller.abort()})}var au=null,hv=0,bo=0,yo=null;function IR(s,o){if(au===null){var d=au=[];hv=0,bo=g0(),yo={status:"pending",value:void 0,then:function(p){d.push(p)}}}return hv++,o.then(AN,AN),o}function AN(){if(--hv===0&&au!==null){yo!==null&&(yo.status="fulfilled");var s=au;au=null,bo=0,yo=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function RR(s,o){var d=[],p={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return s.then(function(){p.status="fulfilled",p.value=o;for(var b=0;b<d.length;b++)(0,d[b])(o)},function(b){for(p.status="rejected",p.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),p}var kN=R.S;R.S=function(s,o){uS=be(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&IR(s,o),kN!==null&&kN(s,o)};var pl=B(null);function xv(){var s=pl.current;return s!==null?s:Bt.pooledCache}function Cf(s,o){o===null?ue(pl,pl.current):ue(pl,o.pool)}function MN(){var s=xv();return s===null?null:{parent:jr._currentValue,pool:s}}var wo=Error(n(460)),vv=Error(n(474)),Af=Error(n(542)),kf={then:function(){}};function DN(s){return s=s.status,s==="fulfilled"||s==="rejected"}function EN(s,o,d){switch(d=s[d],d===void 0?s.push(o):d!==o&&(o.then(pi,pi),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,ON(s),s;default:if(typeof o.status=="string")o.then(pi,pi);else{if(s=Bt,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=o,s.status="pending",s.then(function(p){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=p}},function(p){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,ON(s),s}throw xl=o,wo}}function hl(s){try{var o=s._init;return o(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(xl=d,wo):d}}var xl=null;function _N(){if(xl===null)throw Error(n(459));var s=xl;return xl=null,s}function ON(s){if(s===wo||s===Af)throw Error(n(483))}var jo=null,iu=0;function Mf(s){var o=iu;return iu+=1,jo===null&&(jo=[]),EN(jo,s,o)}function su(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Df(s,o){throw o.$$typeof===v?Error(n(525)):(s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function TN(s){function o(ee,K){if(s){var ae=ee.deletions;ae===null?(ee.deletions=[K],ee.flags|=16):ae.push(K)}}function d(ee,K){if(!s)return null;for(;K!==null;)o(ee,K),K=K.sibling;return null}function p(ee){for(var K=new Map;ee!==null;)ee.key!==null?K.set(ee.key,ee):K.set(ee.index,ee),ee=ee.sibling;return K}function b(ee,K){return ee=xi(ee,K),ee.index=0,ee.sibling=null,ee}function N(ee,K,ae){return ee.index=ae,s?(ae=ee.alternate,ae!==null?(ae=ae.index,ae<K?(ee.flags|=67108866,K):ae):(ee.flags|=67108866,K)):(ee.flags|=1048576,K)}function _(ee){return s&&ee.alternate===null&&(ee.flags|=67108866),ee}function I(ee,K,ae,we){return K===null||K.tag!==6?(K=iv(ae,ee.mode,we),K.return=ee,K):(K=b(K,ae),K.return=ee,K)}function V(ee,K,ae,we){var Ge=ae.type;return Ge===y?ve(ee,K,ae.props.children,we,ae.key):K!==null&&(K.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===O&&hl(Ge)===K.type)?(K=b(K,ae.props),su(K,ae),K.return=ee,K):(K=wf(ae.type,ae.key,ae.props,null,ee.mode,we),su(K,ae),K.return=ee,K)}function se(ee,K,ae,we){return K===null||K.tag!==4||K.stateNode.containerInfo!==ae.containerInfo||K.stateNode.implementation!==ae.implementation?(K=sv(ae,ee.mode,we),K.return=ee,K):(K=b(K,ae.children||[]),K.return=ee,K)}function ve(ee,K,ae,we,Ge){return K===null||K.tag!==7?(K=ul(ae,ee.mode,we,Ge),K.return=ee,K):(K=b(K,ae),K.return=ee,K)}function je(ee,K,ae){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=iv(""+K,ee.mode,ae),K.return=ee,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case g:return ae=wf(K.type,K.key,K.props,null,ee.mode,ae),su(ae,K),ae.return=ee,ae;case S:return K=sv(K,ee.mode,ae),K.return=ee,K;case O:return K=hl(K),je(ee,K,ae)}if(te(K)||E(K))return K=ul(K,ee.mode,ae,null),K.return=ee,K;if(typeof K.then=="function")return je(ee,Mf(K),ae);if(K.$$typeof===A)return je(ee,Sf(ee,K),ae);Df(ee,K)}return null}function oe(ee,K,ae,we){var Ge=K!==null?K.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Ge!==null?null:I(ee,K,""+ae,we);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case g:return ae.key===Ge?V(ee,K,ae,we):null;case S:return ae.key===Ge?se(ee,K,ae,we):null;case O:return ae=hl(ae),oe(ee,K,ae,we)}if(te(ae)||E(ae))return Ge!==null?null:ve(ee,K,ae,we,null);if(typeof ae.then=="function")return oe(ee,K,Mf(ae),we);if(ae.$$typeof===A)return oe(ee,K,Sf(ee,ae),we);Df(ee,ae)}return null}function me(ee,K,ae,we,Ge){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return ee=ee.get(ae)||null,I(K,ee,""+we,Ge);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case g:return ee=ee.get(we.key===null?ae:we.key)||null,V(K,ee,we,Ge);case S:return ee=ee.get(we.key===null?ae:we.key)||null,se(K,ee,we,Ge);case O:return we=hl(we),me(ee,K,ae,we,Ge)}if(te(we)||E(we))return ee=ee.get(ae)||null,ve(K,ee,we,Ge,null);if(typeof we.then=="function")return me(ee,K,ae,Mf(we),Ge);if(we.$$typeof===A)return me(ee,K,ae,Sf(K,we),Ge);Df(K,we)}return null}function $e(ee,K,ae,we){for(var Ge=null,wt=null,He=K,st=K=0,vt=null;He!==null&&st<ae.length;st++){He.index>st?(vt=He,He=null):vt=He.sibling;var jt=oe(ee,He,ae[st],we);if(jt===null){He===null&&(He=vt);break}s&&He&&jt.alternate===null&&o(ee,He),K=N(jt,K,st),wt===null?Ge=jt:wt.sibling=jt,wt=jt,He=vt}if(st===ae.length)return d(ee,He),bt&&vi(ee,st),Ge;if(He===null){for(;st<ae.length;st++)He=je(ee,ae[st],we),He!==null&&(K=N(He,K,st),wt===null?Ge=He:wt.sibling=He,wt=He);return bt&&vi(ee,st),Ge}for(He=p(He);st<ae.length;st++)vt=me(He,ee,st,ae[st],we),vt!==null&&(s&&vt.alternate!==null&&He.delete(vt.key===null?st:vt.key),K=N(vt,K,st),wt===null?Ge=vt:wt.sibling=vt,wt=vt);return s&&He.forEach(function(Es){return o(ee,Es)}),bt&&vi(ee,st),Ge}function Xe(ee,K,ae,we){if(ae==null)throw Error(n(151));for(var Ge=null,wt=null,He=K,st=K=0,vt=null,jt=ae.next();He!==null&&!jt.done;st++,jt=ae.next()){He.index>st?(vt=He,He=null):vt=He.sibling;var Es=oe(ee,He,jt.value,we);if(Es===null){He===null&&(He=vt);break}s&&He&&Es.alternate===null&&o(ee,He),K=N(Es,K,st),wt===null?Ge=Es:wt.sibling=Es,wt=Es,He=vt}if(jt.done)return d(ee,He),bt&&vi(ee,st),Ge;if(He===null){for(;!jt.done;st++,jt=ae.next())jt=je(ee,jt.value,we),jt!==null&&(K=N(jt,K,st),wt===null?Ge=jt:wt.sibling=jt,wt=jt);return bt&&vi(ee,st),Ge}for(He=p(He);!jt.done;st++,jt=ae.next())jt=me(He,ee,st,jt.value,we),jt!==null&&(s&&jt.alternate!==null&&He.delete(jt.key===null?st:jt.key),K=N(jt,K,st),wt===null?Ge=jt:wt.sibling=jt,wt=jt);return s&&He.forEach(function(GL){return o(ee,GL)}),bt&&vi(ee,st),Ge}function Lt(ee,K,ae,we){if(typeof ae=="object"&&ae!==null&&ae.type===y&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case g:e:{for(var Ge=ae.key;K!==null;){if(K.key===Ge){if(Ge=ae.type,Ge===y){if(K.tag===7){d(ee,K.sibling),we=b(K,ae.props.children),we.return=ee,ee=we;break e}}else if(K.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===O&&hl(Ge)===K.type){d(ee,K.sibling),we=b(K,ae.props),su(we,ae),we.return=ee,ee=we;break e}d(ee,K);break}else o(ee,K);K=K.sibling}ae.type===y?(we=ul(ae.props.children,ee.mode,we,ae.key),we.return=ee,ee=we):(we=wf(ae.type,ae.key,ae.props,null,ee.mode,we),su(we,ae),we.return=ee,ee=we)}return _(ee);case S:e:{for(Ge=ae.key;K!==null;){if(K.key===Ge)if(K.tag===4&&K.stateNode.containerInfo===ae.containerInfo&&K.stateNode.implementation===ae.implementation){d(ee,K.sibling),we=b(K,ae.children||[]),we.return=ee,ee=we;break e}else{d(ee,K);break}else o(ee,K);K=K.sibling}we=sv(ae,ee.mode,we),we.return=ee,ee=we}return _(ee);case O:return ae=hl(ae),Lt(ee,K,ae,we)}if(te(ae))return $e(ee,K,ae,we);if(E(ae)){if(Ge=E(ae),typeof Ge!="function")throw Error(n(150));return ae=Ge.call(ae),Xe(ee,K,ae,we)}if(typeof ae.then=="function")return Lt(ee,K,Mf(ae),we);if(ae.$$typeof===A)return Lt(ee,K,Sf(ee,ae),we);Df(ee,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,K!==null&&K.tag===6?(d(ee,K.sibling),we=b(K,ae),we.return=ee,ee=we):(d(ee,K),we=iv(ae,ee.mode,we),we.return=ee,ee=we),_(ee)):d(ee,K)}return function(ee,K,ae,we){try{iu=0;var Ge=Lt(ee,K,ae,we);return jo=null,Ge}catch(He){if(He===wo||He===Af)throw He;var wt=Sn(29,He,null,ee.mode);return wt.lanes=we,wt.return=ee,wt}}}var vl=TN(!0),PN=TN(!1),ms=!1;function gv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ps(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function hs(s,o,d){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(Ct&2)!==0){var b=p.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),p.pending=o,o=yf(s),vN(s,null,d),o}return bf(s,p,o,d),yf(s)}function lu(s,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var p=o.lanes;p&=s.pendingLanes,d|=p,o.lanes=d,rf(s,d)}}function yv(s,o){var d=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var b=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var _={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?b=N=_:N=N.next=_,d=d.next}while(d!==null);N===null?b=N=o:N=N.next=o}else b=N=o;d={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=o:s.next=o,d.lastBaseUpdate=o}var wv=!1;function ou(){if(wv){var s=yo;if(s!==null)throw s}}function cu(s,o,d,p){wv=!1;var b=s.updateQueue;ms=!1;var N=b.firstBaseUpdate,_=b.lastBaseUpdate,I=b.shared.pending;if(I!==null){b.shared.pending=null;var V=I,se=V.next;V.next=null,_===null?N=se:_.next=se,_=V;var ve=s.alternate;ve!==null&&(ve=ve.updateQueue,I=ve.lastBaseUpdate,I!==_&&(I===null?ve.firstBaseUpdate=se:I.next=se,ve.lastBaseUpdate=V))}if(N!==null){var je=b.baseState;_=0,ve=se=V=null,I=N;do{var oe=I.lane&-536870913,me=oe!==I.lane;if(me?(xt&oe)===oe:(p&oe)===oe){oe!==0&&oe===bo&&(wv=!0),ve!==null&&(ve=ve.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var $e=s,Xe=I;oe=o;var Lt=d;switch(Xe.tag){case 1:if($e=Xe.payload,typeof $e=="function"){je=$e.call(Lt,je,oe);break e}je=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Xe.payload,oe=typeof $e=="function"?$e.call(Lt,je,oe):$e,oe==null)break e;je=x({},je,oe);break e;case 2:ms=!0}}oe=I.callback,oe!==null&&(s.flags|=64,me&&(s.flags|=8192),me=b.callbacks,me===null?b.callbacks=[oe]:me.push(oe))}else me={lane:oe,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ve===null?(se=ve=me,V=je):ve=ve.next=me,_|=oe;if(I=I.next,I===null){if(I=b.shared.pending,I===null)break;me=I,I=me.next,me.next=null,b.lastBaseUpdate=me,b.shared.pending=null}}while(!0);ve===null&&(V=je),b.baseState=V,b.firstBaseUpdate=se,b.lastBaseUpdate=ve,N===null&&(b.shared.lanes=0),ys|=_,s.lanes=_,s.memoizedState=je}}function IN(s,o){if(typeof s!="function")throw Error(n(191,s));s.call(o)}function RN(s,o){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)IN(d[s],o)}var No=B(null),Ef=B(0);function LN(s,o){s=Mi,ue(Ef,s),ue(No,o),Mi=s|o.baseLanes}function jv(){ue(Ef,Mi),ue(No,No.current)}function Nv(){Mi=Ef.current,Q(No),Q(Ef)}var Cn=B(null),Wn=null;function xs(s){var o=s.alternate;ue(xr,xr.current&1),ue(Cn,s),Wn===null&&(o===null||No.current!==null||o.memoizedState!==null)&&(Wn=s)}function Sv(s){ue(xr,xr.current),ue(Cn,s),Wn===null&&(Wn=s)}function FN(s){s.tag===22?(ue(xr,xr.current),ue(Cn,s),Wn===null&&(Wn=s)):vs()}function vs(){ue(xr,xr.current),ue(Cn,Cn.current)}function An(s){Q(Cn),Wn===s&&(Wn=null),Q(xr)}var xr=B(0);function _f(s){for(var o=s;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||E0(d)||_0(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var yi=0,at=null,It=null,Nr=null,Of=!1,So=!1,gl=!1,Tf=0,uu=0,Co=null,LR=0;function lr(){throw Error(n(321))}function Cv(s,o){if(o===null)return!1;for(var d=0;d<o.length&&d<s.length;d++)if(!Nn(s[d],o[d]))return!1;return!0}function Av(s,o,d,p,b,N){return yi=N,at=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,R.H=s===null||s.memoizedState===null?w2:$v,gl=!1,N=d(p,b),gl=!1,So&&(N=BN(o,d,p,b)),zN(s),N}function zN(s){R.H=mu;var o=It!==null&&It.next!==null;if(yi=0,Nr=It=at=null,Of=!1,uu=0,Co=null,o)throw Error(n(300));s===null||Sr||(s=s.dependencies,s!==null&&Nf(s)&&(Sr=!0))}function BN(s,o,d,p){at=s;var b=0;do{if(So&&(Co=null),uu=0,So=!1,25<=b)throw Error(n(301));if(b+=1,Nr=It=null,s.updateQueue!=null){var N=s.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}R.H=j2,N=o(d,p)}while(So);return N}function FR(){var s=R.H,o=s.useState()[0];return o=typeof o.then=="function"?du(o):o,s=s.useState()[0],(It!==null?It.memoizedState:null)!==s&&(at.flags|=1024),o}function kv(){var s=Tf!==0;return Tf=0,s}function Mv(s,o,d){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~d}function Dv(s){if(Of){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Of=!1}yi=0,Nr=It=at=null,So=!1,uu=Tf=0,Co=null}function en(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nr===null?at.memoizedState=Nr=s:Nr=Nr.next=s,Nr}function vr(){if(It===null){var s=at.alternate;s=s!==null?s.memoizedState:null}else s=It.next;var o=Nr===null?at.memoizedState:Nr.next;if(o!==null)Nr=o,It=s;else{if(s===null)throw at.alternate===null?Error(n(467)):Error(n(310));It=s,s={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Nr===null?at.memoizedState=Nr=s:Nr=Nr.next=s}return Nr}function Pf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function du(s){var o=uu;return uu+=1,Co===null&&(Co=[]),s=EN(Co,s,o),o=at,(Nr===null?o.memoizedState:Nr.next)===null&&(o=o.alternate,R.H=o===null||o.memoizedState===null?w2:$v),s}function If(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return du(s);if(s.$$typeof===A)return qr(s)}throw Error(n(438,String(s)))}function Ev(s){var o=null,d=at.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var p=at.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=Pf(),at.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(s),p=0;p<s;p++)d[p]=L;return o.index++,d}function wi(s,o){return typeof o=="function"?o(s):o}function Rf(s){var o=vr();return _v(o,It,s)}function _v(s,o,d){var p=s.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=d;var b=s.baseQueue,N=p.pending;if(N!==null){if(b!==null){var _=b.next;b.next=N.next,N.next=_}o.baseQueue=b=N,p.pending=null}if(N=s.baseState,b===null)s.memoizedState=N;else{o=b.next;var I=_=null,V=null,se=o,ve=!1;do{var je=se.lane&-536870913;if(je!==se.lane?(xt&je)===je:(yi&je)===je){var oe=se.revertLane;if(oe===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),je===bo&&(ve=!0);else if((yi&oe)===oe){se=se.next,oe===bo&&(ve=!0);continue}else je={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},V===null?(I=V=je,_=N):V=V.next=je,at.lanes|=oe,ys|=oe;je=se.action,gl&&d(N,je),N=se.hasEagerState?se.eagerState:d(N,je)}else oe={lane:je,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},V===null?(I=V=oe,_=N):V=V.next=oe,at.lanes|=je,ys|=je;se=se.next}while(se!==null&&se!==o);if(V===null?_=N:V.next=I,!Nn(N,s.memoizedState)&&(Sr=!0,ve&&(d=yo,d!==null)))throw d;s.memoizedState=N,s.baseState=_,s.baseQueue=V,p.lastRenderedState=N}return b===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function Ov(s){var o=vr(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var p=d.dispatch,b=d.pending,N=o.memoizedState;if(b!==null){d.pending=null;var _=b=b.next;do N=s(N,_.action),_=_.next;while(_!==b);Nn(N,o.memoizedState)||(Sr=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),d.lastRenderedState=N}return[N,p]}function $N(s,o,d){var p=at,b=vr(),N=bt;if(N){if(d===void 0)throw Error(n(407));d=d()}else d=o();var _=!Nn((It||b).memoizedState,d);if(_&&(b.memoizedState=d,Sr=!0),b=b.queue,Iv(UN.bind(null,p,b,s),[s]),b.getSnapshot!==o||_||Nr!==null&&Nr.memoizedState.tag&1){if(p.flags|=2048,Ao(9,{destroy:void 0},HN.bind(null,p,b,d,o),null),Bt===null)throw Error(n(349));N||(yi&127)!==0||qN(p,o,d)}return d}function qN(s,o,d){s.flags|=16384,s={getSnapshot:o,value:d},o=at.updateQueue,o===null?(o=Pf(),at.updateQueue=o,o.stores=[s]):(d=o.stores,d===null?o.stores=[s]:d.push(s))}function HN(s,o,d,p){o.value=d,o.getSnapshot=p,YN(o)&&VN(s)}function UN(s,o,d){return d(function(){YN(o)&&VN(s)})}function YN(s){var o=s.getSnapshot;s=s.value;try{var d=o();return!Nn(s,d)}catch{return!0}}function VN(s){var o=cl(s,2);o!==null&&mn(o,s,2)}function Tv(s){var o=en();if(typeof s=="function"){var d=s;if(s=d(),gl){Ze(!0);try{d()}finally{Ze(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:s},o}function GN(s,o,d,p){return s.baseState=d,_v(s,It,typeof p=="function"?p:wi)}function zR(s,o,d,p,b){if(zf(s))throw Error(n(485));if(s=o.action,s!==null){var N={payload:b,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){N.listeners.push(_)}};R.T!==null?d(!0):N.isTransition=!1,p(N),d=o.pending,d===null?(N.next=o.pending=N,WN(o,N)):(N.next=d.next,o.pending=d.next=N)}}function WN(s,o){var d=o.action,p=o.payload,b=s.state;if(o.isTransition){var N=R.T,_={};R.T=_;try{var I=d(b,p),V=R.S;V!==null&&V(_,I),KN(s,o,I)}catch(se){Pv(s,o,se)}finally{N!==null&&_.types!==null&&(N.types=_.types),R.T=N}}else try{N=d(b,p),KN(s,o,N)}catch(se){Pv(s,o,se)}}function KN(s,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){QN(s,o,p)},function(p){return Pv(s,o,p)}):QN(s,o,d)}function QN(s,o,d){o.status="fulfilled",o.value=d,XN(o),s.state=d,o=s.pending,o!==null&&(d=o.next,d===o?s.pending=null:(d=d.next,o.next=d,WN(s,d)))}function Pv(s,o,d){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=d,XN(o),o=o.next;while(o!==p)}s.action=null}function XN(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function ZN(s,o){return o}function JN(s,o){if(bt){var d=Bt.formState;if(d!==null){e:{var p=at;if(bt){if(Ut){t:{for(var b=Ut,N=Gn;b.nodeType!==8;){if(!N){b=null;break t}if(b=Kn(b.nextSibling),b===null){b=null;break t}}N=b.data,b=N==="F!"||N==="F"?b:null}if(b){Ut=Kn(b.nextSibling),p=b.data==="F!";break e}}ds(p)}p=!1}p&&(o=d[0])}}return d=en(),d.memoizedState=d.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ZN,lastRenderedState:o},d.queue=p,d=g2.bind(null,at,p),p.dispatch=d,p=Tv(!1),N=Bv.bind(null,at,!1,p.queue),p=en(),b={state:o,dispatch:null,action:s,pending:null},p.queue=b,d=zR.bind(null,at,b,N,d),b.dispatch=d,p.memoizedState=s,[o,d,!1]}function e2(s){var o=vr();return t2(o,It,s)}function t2(s,o,d){if(o=_v(s,o,ZN)[0],s=Rf(wi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=du(o)}catch(_){throw _===wo?Af:_}else p=o;o=vr();var b=o.queue,N=b.dispatch;return d!==o.memoizedState&&(at.flags|=2048,Ao(9,{destroy:void 0},BR.bind(null,b,d),null)),[p,N,s]}function BR(s,o){s.action=o}function r2(s){var o=vr(),d=It;if(d!==null)return t2(o,d,s);vr(),o=o.memoizedState,d=vr();var p=d.queue.dispatch;return d.memoizedState=s,[o,p,!1]}function Ao(s,o,d,p){return s={tag:s,create:d,deps:p,inst:o,next:null},o=at.updateQueue,o===null&&(o=Pf(),at.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=s.next=s:(p=d.next,d.next=s,s.next=p,o.lastEffect=s),s}function n2(){return vr().memoizedState}function Lf(s,o,d,p){var b=en();at.flags|=s,b.memoizedState=Ao(1|o,{destroy:void 0},d,p===void 0?null:p)}function Ff(s,o,d,p){var b=vr();p=p===void 0?null:p;var N=b.memoizedState.inst;It!==null&&p!==null&&Cv(p,It.memoizedState.deps)?b.memoizedState=Ao(o,N,d,p):(at.flags|=s,b.memoizedState=Ao(1|o,N,d,p))}function a2(s,o){Lf(8390656,8,s,o)}function Iv(s,o){Ff(2048,8,s,o)}function $R(s){at.flags|=4;var o=at.updateQueue;if(o===null)o=Pf(),at.updateQueue=o,o.events=[s];else{var d=o.events;d===null?o.events=[s]:d.push(s)}}function i2(s){var o=vr().memoizedState;return $R({ref:o,nextImpl:s}),function(){if((Ct&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function s2(s,o){return Ff(4,2,s,o)}function l2(s,o){return Ff(4,4,s,o)}function o2(s,o){if(typeof o=="function"){s=s();var d=o(s);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function c2(s,o,d){d=d!=null?d.concat([s]):null,Ff(4,4,o2.bind(null,o,s),d)}function Rv(){}function u2(s,o){var d=vr();o=o===void 0?null:o;var p=d.memoizedState;return o!==null&&Cv(o,p[1])?p[0]:(d.memoizedState=[s,o],s)}function d2(s,o){var d=vr();o=o===void 0?null:o;var p=d.memoizedState;if(o!==null&&Cv(o,p[1]))return p[0];if(p=s(),gl){Ze(!0);try{s()}finally{Ze(!1)}}return d.memoizedState=[p,o],p}function Lv(s,o,d){return d===void 0||(yi&1073741824)!==0&&(xt&261930)===0?s.memoizedState=o:(s.memoizedState=d,s=fS(),at.lanes|=s,ys|=s,d)}function f2(s,o,d,p){return Nn(d,o)?d:No.current!==null?(s=Lv(s,d,p),Nn(s,o)||(Sr=!0),s):(yi&42)===0||(yi&1073741824)!==0&&(xt&261930)===0?(Sr=!0,s.memoizedState=d):(s=fS(),at.lanes|=s,ys|=s,o)}function m2(s,o,d,p,b){var N=F.p;F.p=N!==0&&8>N?N:8;var _=R.T,I={};R.T=I,Bv(s,!1,o,d);try{var V=b(),se=R.S;if(se!==null&&se(I,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ve=RR(V,p);fu(s,o,ve,Dn(s))}else fu(s,o,p,Dn(s))}catch(je){fu(s,o,{then:function(){},status:"rejected",reason:je},Dn())}finally{F.p=N,_!==null&&I.types!==null&&(_.types=I.types),R.T=_}}function qR(){}function Fv(s,o,d,p){if(s.tag!==5)throw Error(n(476));var b=p2(s).queue;m2(s,b,o,fe,d===null?qR:function(){return h2(s),d(p)})}function p2(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:fe},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:d},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function h2(s){var o=p2(s);o.next===null&&(o=s.alternate.memoizedState),fu(s,o.next.queue,{},Dn())}function zv(){return qr(Du)}function x2(){return vr().memoizedState}function v2(){return vr().memoizedState}function HR(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var d=Dn();s=ps(d);var p=hs(o,s,d);p!==null&&(mn(p,o,d),lu(p,o,d)),o={cache:pv()},s.payload=o;return}o=o.return}}function UR(s,o,d){var p=Dn();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},zf(s)?b2(o,d):(d=nv(s,o,d,p),d!==null&&(mn(d,s,p),y2(d,o,p)))}function g2(s,o,d){var p=Dn();fu(s,o,d,p)}function fu(s,o,d,p){var b={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(zf(s))b2(o,b);else{var N=s.alternate;if(s.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var _=o.lastRenderedState,I=N(_,d);if(b.hasEagerState=!0,b.eagerState=I,Nn(I,_))return bf(s,o,b,0),Bt===null&&gf(),!1}catch{}if(d=nv(s,o,b,p),d!==null)return mn(d,s,p),y2(d,o,p),!0}return!1}function Bv(s,o,d,p){if(p={lane:2,revertLane:g0(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},zf(s)){if(o)throw Error(n(479))}else o=nv(s,d,p,2),o!==null&&mn(o,s,2)}function zf(s){var o=s.alternate;return s===at||o!==null&&o===at}function b2(s,o){So=Of=!0;var d=s.pending;d===null?o.next=o:(o.next=d.next,d.next=o),s.pending=o}function y2(s,o,d){if((d&4194048)!==0){var p=o.lanes;p&=s.pendingLanes,d|=p,o.lanes=d,rf(s,d)}}var mu={readContext:qr,use:If,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useLayoutEffect:lr,useInsertionEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useSyncExternalStore:lr,useId:lr,useHostTransitionStatus:lr,useFormState:lr,useActionState:lr,useOptimistic:lr,useMemoCache:lr,useCacheRefresh:lr};mu.useEffectEvent=lr;var w2={readContext:qr,use:If,useCallback:function(s,o){return en().memoizedState=[s,o===void 0?null:o],s},useContext:qr,useEffect:a2,useImperativeHandle:function(s,o,d){d=d!=null?d.concat([s]):null,Lf(4194308,4,o2.bind(null,o,s),d)},useLayoutEffect:function(s,o){return Lf(4194308,4,s,o)},useInsertionEffect:function(s,o){Lf(4,2,s,o)},useMemo:function(s,o){var d=en();o=o===void 0?null:o;var p=s();if(gl){Ze(!0);try{s()}finally{Ze(!1)}}return d.memoizedState=[p,o],p},useReducer:function(s,o,d){var p=en();if(d!==void 0){var b=d(o);if(gl){Ze(!0);try{d(o)}finally{Ze(!1)}}}else b=o;return p.memoizedState=p.baseState=b,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:b},p.queue=s,s=s.dispatch=UR.bind(null,at,s),[p.memoizedState,s]},useRef:function(s){var o=en();return s={current:s},o.memoizedState=s},useState:function(s){s=Tv(s);var o=s.queue,d=g2.bind(null,at,o);return o.dispatch=d,[s.memoizedState,d]},useDebugValue:Rv,useDeferredValue:function(s,o){var d=en();return Lv(d,s,o)},useTransition:function(){var s=Tv(!1);return s=m2.bind(null,at,s.queue,!0,!1),en().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,d){var p=at,b=en();if(bt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=o(),Bt===null)throw Error(n(349));(xt&127)!==0||qN(p,o,d)}b.memoizedState=d;var N={value:d,getSnapshot:o};return b.queue=N,a2(UN.bind(null,p,N,s),[s]),p.flags|=2048,Ao(9,{destroy:void 0},HN.bind(null,p,N,d,o),null),d},useId:function(){var s=en(),o=Bt.identifierPrefix;if(bt){var d=La,p=Ra;d=(p&~(1<<32-Ke(p)-1)).toString(32)+d,o="_"+o+"R_"+d,d=Tf++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=LR++,o="_"+o+"r_"+d.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:zv,useFormState:JN,useActionState:JN,useOptimistic:function(s){var o=en();o.memoizedState=o.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=Bv.bind(null,at,!0,d),d.dispatch=o,[s,o]},useMemoCache:Ev,useCacheRefresh:function(){return en().memoizedState=HR.bind(null,at)},useEffectEvent:function(s){var o=en(),d={impl:s};return o.memoizedState=d,function(){if((Ct&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},$v={readContext:qr,use:If,useCallback:u2,useContext:qr,useEffect:Iv,useImperativeHandle:c2,useInsertionEffect:s2,useLayoutEffect:l2,useMemo:d2,useReducer:Rf,useRef:n2,useState:function(){return Rf(wi)},useDebugValue:Rv,useDeferredValue:function(s,o){var d=vr();return f2(d,It.memoizedState,s,o)},useTransition:function(){var s=Rf(wi)[0],o=vr().memoizedState;return[typeof s=="boolean"?s:du(s),o]},useSyncExternalStore:$N,useId:x2,useHostTransitionStatus:zv,useFormState:e2,useActionState:e2,useOptimistic:function(s,o){var d=vr();return GN(d,It,s,o)},useMemoCache:Ev,useCacheRefresh:v2};$v.useEffectEvent=i2;var j2={readContext:qr,use:If,useCallback:u2,useContext:qr,useEffect:Iv,useImperativeHandle:c2,useInsertionEffect:s2,useLayoutEffect:l2,useMemo:d2,useReducer:Ov,useRef:n2,useState:function(){return Ov(wi)},useDebugValue:Rv,useDeferredValue:function(s,o){var d=vr();return It===null?Lv(d,s,o):f2(d,It.memoizedState,s,o)},useTransition:function(){var s=Ov(wi)[0],o=vr().memoizedState;return[typeof s=="boolean"?s:du(s),o]},useSyncExternalStore:$N,useId:x2,useHostTransitionStatus:zv,useFormState:r2,useActionState:r2,useOptimistic:function(s,o){var d=vr();return It!==null?GN(d,It,s,o):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:Ev,useCacheRefresh:v2};j2.useEffectEvent=i2;function qv(s,o,d,p){o=s.memoizedState,d=d(p,o),d=d==null?o:x({},o,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Hv={enqueueSetState:function(s,o,d){s=s._reactInternals;var p=Dn(),b=ps(p);b.payload=o,d!=null&&(b.callback=d),o=hs(s,b,p),o!==null&&(mn(o,s,p),lu(o,s,p))},enqueueReplaceState:function(s,o,d){s=s._reactInternals;var p=Dn(),b=ps(p);b.tag=1,b.payload=o,d!=null&&(b.callback=d),o=hs(s,b,p),o!==null&&(mn(o,s,p),lu(o,s,p))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var d=Dn(),p=ps(d);p.tag=2,o!=null&&(p.callback=o),o=hs(s,p,d),o!==null&&(mn(o,s,d),lu(o,s,d))}};function N2(s,o,d,p,b,N,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,N,_):o.prototype&&o.prototype.isPureReactComponent?!Jc(d,p)||!Jc(b,N):!0}function S2(s,o,d,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,p),o.state!==s&&Hv.enqueueReplaceState(o,o.state,null)}function bl(s,o){var d=o;if("ref"in o){d={};for(var p in o)p!=="ref"&&(d[p]=o[p])}if(s=s.defaultProps){d===o&&(d=x({},d));for(var b in s)d[b]===void 0&&(d[b]=s[b])}return d}function C2(s){vf(s)}function A2(s){console.error(s)}function k2(s){vf(s)}function Bf(s,o){try{var d=s.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function M2(s,o,d){try{var p=s.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Uv(s,o,d){return d=ps(d),d.tag=3,d.payload={element:null},d.callback=function(){Bf(s,o)},d}function D2(s){return s=ps(s),s.tag=3,s}function E2(s,o,d,p){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var N=p.value;s.payload=function(){return b(N)},s.callback=function(){M2(o,d,p)}}var _=d.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){M2(o,d,p),typeof b!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function YR(s,o,d,p,b){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=d.alternate,o!==null&&go(o,d,b,!0),d=Cn.current,d!==null){switch(d.tag){case 31:case 13:return Wn===null?Zf():d.alternate===null&&or===0&&(or=3),d.flags&=-257,d.flags|=65536,d.lanes=b,p===kf?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([p]):o.add(p),h0(s,p,b)),!1;case 22:return d.flags|=65536,p===kf?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([p]):d.add(p)),h0(s,p,b)),!1}throw Error(n(435,d.tag))}return h0(s,p,b),Zf(),!1}if(bt)return o=Cn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,p!==cv&&(s=Error(n(422),{cause:p}),ru(Un(s,d)))):(p!==cv&&(o=Error(n(423),{cause:p}),ru(Un(o,d))),s=s.current.alternate,s.flags|=65536,b&=-b,s.lanes|=b,p=Un(p,d),b=Uv(s.stateNode,p,b),yv(s,b),or!==4&&(or=2)),!1;var N=Error(n(520),{cause:p});if(N=Un(N,d),wu===null?wu=[N]:wu.push(N),or!==4&&(or=2),o===null)return!0;p=Un(p,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,s=b&-b,d.lanes|=s,s=Uv(d.stateNode,p,s),yv(d,s),!1;case 1:if(o=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(ws===null||!ws.has(N))))return d.flags|=65536,b&=-b,d.lanes|=b,b=D2(b),E2(b,s,d,p),yv(d,b),!1}d=d.return}while(d!==null);return!1}var Yv=Error(n(461)),Sr=!1;function Hr(s,o,d,p){o.child=s===null?PN(o,null,d,p):vl(o,s.child,d,p)}function _2(s,o,d,p,b){d=d.render;var N=o.ref;if("ref"in p){var _={};for(var I in p)I!=="ref"&&(_[I]=p[I])}else _=p;return ml(o),p=Av(s,o,d,_,N,b),I=kv(),s!==null&&!Sr?(Mv(s,o,b),ji(s,o,b)):(bt&&I&&lv(o),o.flags|=1,Hr(s,o,p,b),o.child)}function O2(s,o,d,p,b){if(s===null){var N=d.type;return typeof N=="function"&&!av(N)&&N.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=N,T2(s,o,N,p,b)):(s=wf(d.type,null,p,o,o.mode,b),s.ref=o.ref,s.return=o,o.child=s)}if(N=s.child,!Jv(s,b)){var _=N.memoizedProps;if(d=d.compare,d=d!==null?d:Jc,d(_,p)&&s.ref===o.ref)return ji(s,o,b)}return o.flags|=1,s=xi(N,p),s.ref=o.ref,s.return=o,o.child=s}function T2(s,o,d,p,b){if(s!==null){var N=s.memoizedProps;if(Jc(N,p)&&s.ref===o.ref)if(Sr=!1,o.pendingProps=p=N,Jv(s,b))(s.flags&131072)!==0&&(Sr=!0);else return o.lanes=s.lanes,ji(s,o,b)}return Vv(s,o,d,p,b)}function P2(s,o,d,p){var b=p.children,N=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(N=N!==null?N.baseLanes|d:d,s!==null){for(p=o.child=s.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~N}else p=0,o.child=null;return I2(s,o,N,d,p)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Cf(o,N!==null?N.cachePool:null),N!==null?LN(o,N):jv(),FN(o);else return p=o.lanes=536870912,I2(s,o,N!==null?N.baseLanes|d:d,d,p)}else N!==null?(Cf(o,N.cachePool),LN(o,N),vs(),o.memoizedState=null):(s!==null&&Cf(o,null),jv(),vs());return Hr(s,o,b,d),o.child}function pu(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function I2(s,o,d,p,b){var N=xv();return N=N===null?null:{parent:jr._currentValue,pool:N},o.memoizedState={baseLanes:d,cachePool:N},s!==null&&Cf(o,null),jv(),FN(o),s!==null&&go(s,o,p,!0),o.childLanes=b,null}function $f(s,o){return o=Hf({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function R2(s,o,d){return vl(o,s.child,null,d),s=$f(o,o.pendingProps),s.flags|=2,An(o),o.memoizedState=null,s}function VR(s,o,d){var p=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(bt){if(p.mode==="hidden")return s=$f(o,p),o.lanes=536870912,pu(null,s);if(Sv(o),(s=Ut)?(s=WS(s,Gn),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:cs!==null?{id:Ra,overflow:La}:null,retryLane:536870912,hydrationErrors:null},d=bN(s),d.return=o,o.child=d,$r=o,Ut=null)):s=null,s===null)throw ds(o);return o.lanes=536870912,null}return $f(o,p)}var N=s.memoizedState;if(N!==null){var _=N.dehydrated;if(Sv(o),b)if(o.flags&256)o.flags&=-257,o=R2(s,o,d);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(n(558));else if(Sr||go(s,o,d,!1),b=(d&s.childLanes)!==0,Sr||b){if(p=Bt,p!==null&&(_=nf(p,d),_!==0&&_!==N.retryLane))throw N.retryLane=_,cl(s,_),mn(p,s,_),Yv;Zf(),o=R2(s,o,d)}else s=N.treeContext,Ut=Kn(_.nextSibling),$r=o,bt=!0,us=null,Gn=!1,s!==null&&jN(o,s),o=$f(o,p),o.flags|=4096;return o}return s=xi(s.child,{mode:p.mode,children:p.children}),s.ref=o.ref,o.child=s,s.return=o,s}function qf(s,o){var d=o.ref;if(d===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(s===null||s.ref!==d)&&(o.flags|=4194816)}}function Vv(s,o,d,p,b){return ml(o),d=Av(s,o,d,p,void 0,b),p=kv(),s!==null&&!Sr?(Mv(s,o,b),ji(s,o,b)):(bt&&p&&lv(o),o.flags|=1,Hr(s,o,d,b),o.child)}function L2(s,o,d,p,b,N){return ml(o),o.updateQueue=null,d=BN(o,p,d,b),zN(s),p=kv(),s!==null&&!Sr?(Mv(s,o,N),ji(s,o,N)):(bt&&p&&lv(o),o.flags|=1,Hr(s,o,d,N),o.child)}function F2(s,o,d,p,b){if(ml(o),o.stateNode===null){var N=po,_=d.contextType;typeof _=="object"&&_!==null&&(N=qr(_)),N=new d(p,N),o.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Hv,o.stateNode=N,N._reactInternals=o,N=o.stateNode,N.props=p,N.state=o.memoizedState,N.refs={},gv(o),_=d.contextType,N.context=typeof _=="object"&&_!==null?qr(_):po,N.state=o.memoizedState,_=d.getDerivedStateFromProps,typeof _=="function"&&(qv(o,d,_,p),N.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(_=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),_!==N.state&&Hv.enqueueReplaceState(N,N.state,null),cu(o,p,N,b),ou(),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(s===null){N=o.stateNode;var I=o.memoizedProps,V=bl(d,I);N.props=V;var se=N.context,ve=d.contextType;_=po,typeof ve=="object"&&ve!==null&&(_=qr(ve));var je=d.getDerivedStateFromProps;ve=typeof je=="function"||typeof N.getSnapshotBeforeUpdate=="function",I=o.pendingProps!==I,ve||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(I||se!==_)&&S2(o,N,p,_),ms=!1;var oe=o.memoizedState;N.state=oe,cu(o,p,N,b),ou(),se=o.memoizedState,I||oe!==se||ms?(typeof je=="function"&&(qv(o,d,je,p),se=o.memoizedState),(V=ms||N2(o,d,V,p,oe,se,_))?(ve||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=se),N.props=p,N.state=se,N.context=_,p=V):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{N=o.stateNode,bv(s,o),_=o.memoizedProps,ve=bl(d,_),N.props=ve,je=o.pendingProps,oe=N.context,se=d.contextType,V=po,typeof se=="object"&&se!==null&&(V=qr(se)),I=d.getDerivedStateFromProps,(se=typeof I=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(_!==je||oe!==V)&&S2(o,N,p,V),ms=!1,oe=o.memoizedState,N.state=oe,cu(o,p,N,b),ou();var me=o.memoizedState;_!==je||oe!==me||ms||s!==null&&s.dependencies!==null&&Nf(s.dependencies)?(typeof I=="function"&&(qv(o,d,I,p),me=o.memoizedState),(ve=ms||N2(o,d,ve,p,oe,me,V)||s!==null&&s.dependencies!==null&&Nf(s.dependencies))?(se||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,me,V),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,me,V)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||_===s.memoizedProps&&oe===s.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&oe===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=me),N.props=p,N.state=me,N.context=V,p=ve):(typeof N.componentDidUpdate!="function"||_===s.memoizedProps&&oe===s.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&oe===s.memoizedState||(o.flags|=1024),p=!1)}return N=p,qf(s,o),p=(o.flags&128)!==0,N||p?(N=o.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:N.render(),o.flags|=1,s!==null&&p?(o.child=vl(o,s.child,null,b),o.child=vl(o,null,d,b)):Hr(s,o,d,b),o.memoizedState=N.state,s=o.child):s=ji(s,o,b),s}function z2(s,o,d,p){return dl(),o.flags|=256,Hr(s,o,d,p),o.child}var Gv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wv(s){return{baseLanes:s,cachePool:MN()}}function Kv(s,o,d){return s=s!==null?s.childLanes&~d:0,o&&(s|=Mn),s}function B2(s,o,d){var p=o.pendingProps,b=!1,N=(o.flags&128)!==0,_;if((_=N)||(_=s!==null&&s.memoizedState===null?!1:(xr.current&2)!==0),_&&(b=!0,o.flags&=-129),_=(o.flags&32)!==0,o.flags&=-33,s===null){if(bt){if(b?xs(o):vs(),(s=Ut)?(s=WS(s,Gn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:cs!==null?{id:Ra,overflow:La}:null,retryLane:536870912,hydrationErrors:null},d=bN(s),d.return=o,o.child=d,$r=o,Ut=null)):s=null,s===null)throw ds(o);return _0(s)?o.lanes=32:o.lanes=536870912,null}var I=p.children;return p=p.fallback,b?(vs(),b=o.mode,I=Hf({mode:"hidden",children:I},b),p=ul(p,b,d,null),I.return=o,p.return=o,I.sibling=p,o.child=I,p=o.child,p.memoizedState=Wv(d),p.childLanes=Kv(s,_,d),o.memoizedState=Gv,pu(null,p)):(xs(o),Qv(o,I))}var V=s.memoizedState;if(V!==null&&(I=V.dehydrated,I!==null)){if(N)o.flags&256?(xs(o),o.flags&=-257,o=Xv(s,o,d)):o.memoizedState!==null?(vs(),o.child=s.child,o.flags|=128,o=null):(vs(),I=p.fallback,b=o.mode,p=Hf({mode:"visible",children:p.children},b),I=ul(I,b,d,null),I.flags|=2,p.return=o,I.return=o,p.sibling=I,o.child=p,vl(o,s.child,null,d),p=o.child,p.memoizedState=Wv(d),p.childLanes=Kv(s,_,d),o.memoizedState=Gv,o=pu(null,p));else if(xs(o),_0(I)){if(_=I.nextSibling&&I.nextSibling.dataset,_)var se=_.dgst;_=se,p=Error(n(419)),p.stack="",p.digest=_,ru({value:p,source:null,stack:null}),o=Xv(s,o,d)}else if(Sr||go(s,o,d,!1),_=(d&s.childLanes)!==0,Sr||_){if(_=Bt,_!==null&&(p=nf(_,d),p!==0&&p!==V.retryLane))throw V.retryLane=p,cl(s,p),mn(_,s,p),Yv;E0(I)||Zf(),o=Xv(s,o,d)}else E0(I)?(o.flags|=192,o.child=s.child,o=null):(s=V.treeContext,Ut=Kn(I.nextSibling),$r=o,bt=!0,us=null,Gn=!1,s!==null&&jN(o,s),o=Qv(o,p.children),o.flags|=4096);return o}return b?(vs(),I=p.fallback,b=o.mode,V=s.child,se=V.sibling,p=xi(V,{mode:"hidden",children:p.children}),p.subtreeFlags=V.subtreeFlags&65011712,se!==null?I=xi(se,I):(I=ul(I,b,d,null),I.flags|=2),I.return=o,p.return=o,p.sibling=I,o.child=p,pu(null,p),p=o.child,I=s.child.memoizedState,I===null?I=Wv(d):(b=I.cachePool,b!==null?(V=jr._currentValue,b=b.parent!==V?{parent:V,pool:V}:b):b=MN(),I={baseLanes:I.baseLanes|d,cachePool:b}),p.memoizedState=I,p.childLanes=Kv(s,_,d),o.memoizedState=Gv,pu(s.child,p)):(xs(o),d=s.child,s=d.sibling,d=xi(d,{mode:"visible",children:p.children}),d.return=o,d.sibling=null,s!==null&&(_=o.deletions,_===null?(o.deletions=[s],o.flags|=16):_.push(s)),o.child=d,o.memoizedState=null,d)}function Qv(s,o){return o=Hf({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Hf(s,o){return s=Sn(22,s,null,o),s.lanes=0,s}function Xv(s,o,d){return vl(o,s.child,null,d),s=Qv(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function $2(s,o,d){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),fv(s.return,o,d)}function Zv(s,o,d,p,b,N){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:b,treeForkCount:N}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=d,_.tailMode=b,_.treeForkCount=N)}function q2(s,o,d){var p=o.pendingProps,b=p.revealOrder,N=p.tail;p=p.children;var _=xr.current,I=(_&2)!==0;if(I?(_=_&1|2,o.flags|=128):_&=1,ue(xr,_),Hr(s,o,p,d),p=bt?tu:0,!I&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&$2(s,d,o);else if(s.tag===19)$2(s,d,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(b){case"forwards":for(d=o.child,b=null;d!==null;)s=d.alternate,s!==null&&_f(s)===null&&(b=d),d=d.sibling;d=b,d===null?(b=o.child,o.child=null):(b=d.sibling,d.sibling=null),Zv(o,!1,b,d,N,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,b=o.child,o.child=null;b!==null;){if(s=b.alternate,s!==null&&_f(s)===null){o.child=b;break}s=b.sibling,b.sibling=d,d=b,b=s}Zv(o,!0,d,null,N,p);break;case"together":Zv(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function ji(s,o,d){if(s!==null&&(o.dependencies=s.dependencies),ys|=o.lanes,(d&o.childLanes)===0)if(s!==null){if(go(s,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,d=xi(s,s.pendingProps),o.child=d,d.return=o;s.sibling!==null;)s=s.sibling,d=d.sibling=xi(s,s.pendingProps),d.return=o;d.sibling=null}return o.child}function Jv(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Nf(s)))}function GR(s,o,d){switch(o.tag){case 3:ye(o,o.stateNode.containerInfo),fs(o,jr,s.memoizedState.cache),dl();break;case 27:case 5:Me(o);break;case 4:ye(o,o.stateNode.containerInfo);break;case 10:fs(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Sv(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(xs(o),o.flags|=128,null):(d&o.child.childLanes)!==0?B2(s,o,d):(xs(o),s=ji(s,o,d),s!==null?s.sibling:null);xs(o);break;case 19:var b=(s.flags&128)!==0;if(p=(d&o.childLanes)!==0,p||(go(s,o,d,!1),p=(d&o.childLanes)!==0),b){if(p)return q2(s,o,d);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ue(xr,xr.current),p)break;return null;case 22:return o.lanes=0,P2(s,o,d,o.pendingProps);case 24:fs(o,jr,s.memoizedState.cache)}return ji(s,o,d)}function H2(s,o,d){if(s!==null)if(s.memoizedProps!==o.pendingProps)Sr=!0;else{if(!Jv(s,d)&&(o.flags&128)===0)return Sr=!1,GR(s,o,d);Sr=(s.flags&131072)!==0}else Sr=!1,bt&&(o.flags&1048576)!==0&&wN(o,tu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(s=hl(o.elementType),o.type=s,typeof s=="function")av(s)?(p=bl(s,p),o.tag=1,o=F2(null,o,s,p,d)):(o.tag=0,o=Vv(null,o,s,p,d));else{if(s!=null){var b=s.$$typeof;if(b===M){o.tag=11,o=_2(null,o,s,p,d);break e}else if(b===P){o.tag=14,o=O2(null,o,s,p,d);break e}}throw o=Z(s)||s,Error(n(306,o,""))}}return o;case 0:return Vv(s,o,o.type,o.pendingProps,d);case 1:return p=o.type,b=bl(p,o.pendingProps),F2(s,o,p,b,d);case 3:e:{if(ye(o,o.stateNode.containerInfo),s===null)throw Error(n(387));p=o.pendingProps;var N=o.memoizedState;b=N.element,bv(s,o),cu(o,p,null,d);var _=o.memoizedState;if(p=_.cache,fs(o,jr,p),p!==N.cache&&mv(o,[jr],d,!0),ou(),p=_.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:_.cache},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){o=z2(s,o,p,d);break e}else if(p!==b){b=Un(Error(n(424)),o),ru(b),o=z2(s,o,p,d);break e}else for(s=o.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,Ut=Kn(s.firstChild),$r=o,bt=!0,us=null,Gn=!0,d=PN(o,null,p,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(dl(),p===b){o=ji(s,o,d);break e}Hr(s,o,p,d)}o=o.child}return o;case 26:return qf(s,o),s===null?(d=eC(o.type,null,o.pendingProps,null))?o.memoizedState=d:bt||(d=o.type,s=o.pendingProps,p=im(de.current).createElement(d),p[Dr]=o,p[Kr]=s,Ur(p,d,s),yr(p),o.stateNode=p):o.memoizedState=eC(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Me(o),s===null&&bt&&(p=o.stateNode=XS(o.type,o.pendingProps,de.current),$r=o,Gn=!0,b=Ut,Cs(o.type)?(O0=b,Ut=Kn(p.firstChild)):Ut=b),Hr(s,o,o.pendingProps.children,d),qf(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&bt&&((b=p=Ut)&&(p=NL(p,o.type,o.pendingProps,Gn),p!==null?(o.stateNode=p,$r=o,Ut=Kn(p.firstChild),Gn=!1,b=!0):b=!1),b||ds(o)),Me(o),b=o.type,N=o.pendingProps,_=s!==null?s.memoizedProps:null,p=N.children,k0(b,N)?p=null:_!==null&&k0(b,_)&&(o.flags|=32),o.memoizedState!==null&&(b=Av(s,o,FR,null,null,d),Du._currentValue=b),qf(s,o),Hr(s,o,p,d),o.child;case 6:return s===null&&bt&&((s=d=Ut)&&(d=SL(d,o.pendingProps,Gn),d!==null?(o.stateNode=d,$r=o,Ut=null,s=!0):s=!1),s||ds(o)),null;case 13:return B2(s,o,d);case 4:return ye(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=vl(o,null,p,d):Hr(s,o,p,d),o.child;case 11:return _2(s,o,o.type,o.pendingProps,d);case 7:return Hr(s,o,o.pendingProps,d),o.child;case 8:return Hr(s,o,o.pendingProps.children,d),o.child;case 12:return Hr(s,o,o.pendingProps.children,d),o.child;case 10:return p=o.pendingProps,fs(o,o.type,p.value),Hr(s,o,p.children,d),o.child;case 9:return b=o.type._context,p=o.pendingProps.children,ml(o),b=qr(b),p=p(b),o.flags|=1,Hr(s,o,p,d),o.child;case 14:return O2(s,o,o.type,o.pendingProps,d);case 15:return T2(s,o,o.type,o.pendingProps,d);case 19:return q2(s,o,d);case 31:return VR(s,o,d);case 22:return P2(s,o,d,o.pendingProps);case 24:return ml(o),p=qr(jr),s===null?(b=xv(),b===null&&(b=Bt,N=pv(),b.pooledCache=N,N.refCount++,N!==null&&(b.pooledCacheLanes|=d),b=N),o.memoizedState={parent:p,cache:b},gv(o),fs(o,jr,b)):((s.lanes&d)!==0&&(bv(s,o),cu(o,null,null,d),ou()),b=s.memoizedState,N=o.memoizedState,b.parent!==p?(b={parent:p,cache:p},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),fs(o,jr,p)):(p=N.cache,fs(o,jr,p),p!==b.cache&&mv(o,[jr],d,!0))),Hr(s,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Ni(s){s.flags|=4}function e0(s,o,d,p,b){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(b&335544128)===b)if(s.stateNode.complete)s.flags|=8192;else if(xS())s.flags|=8192;else throw xl=kf,vv}else s.flags&=-16777217}function U2(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!iC(o))if(xS())s.flags|=8192;else throw xl=kf,vv}function Uf(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?rr():536870912,s.lanes|=o,Eo|=o)}function hu(s,o){if(!bt)switch(s.tailMode){case"hidden":o=s.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Yt(s){var o=s.alternate!==null&&s.alternate.child===s.child,d=0,p=0;if(o)for(var b=s.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=p,s.childLanes=d,o}function WR(s,o,d){var p=o.pendingProps;switch(ov(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(o),null;case 1:return Yt(o),null;case 3:return d=o.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),bi(jr),re(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(vo(o)?Ni(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,uv())),Yt(o),null;case 26:var b=o.type,N=o.memoizedState;return s===null?(Ni(o),N!==null?(Yt(o),U2(o,N)):(Yt(o),e0(o,b,null,p,d))):N?N!==s.memoizedState?(Ni(o),Yt(o),U2(o,N)):(Yt(o),o.flags&=-16777217):(s=s.memoizedProps,s!==p&&Ni(o),Yt(o),e0(o,b,s,p,d)),null;case 27:if(Ve(o),d=de.current,b=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==p&&Ni(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Yt(o),null}s=xe.current,vo(o)?NN(o):(s=XS(b,p,d),o.stateNode=s,Ni(o))}return Yt(o),null;case 5:if(Ve(o),b=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==p&&Ni(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Yt(o),null}if(N=xe.current,vo(o))NN(o);else{var _=im(de.current);switch(N){case 1:N=_.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:N=_.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":N=_.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":N=_.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":N=_.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof p.is=="string"?_.createElement("select",{is:p.is}):_.createElement("select"),p.multiple?N.multiple=!0:p.size&&(N.size=p.size);break;default:N=typeof p.is=="string"?_.createElement(b,{is:p.is}):_.createElement(b)}}N[Dr]=o,N[Kr]=p;e:for(_=o.child;_!==null;){if(_.tag===5||_.tag===6)N.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===o)break e;for(;_.sibling===null;){if(_.return===null||_.return===o)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}o.stateNode=N;e:switch(Ur(N,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Ni(o)}}return Yt(o),e0(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,d),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==p&&Ni(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(s=de.current,vo(o)){if(s=o.stateNode,d=o.memoizedProps,p=null,b=$r,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}s[Dr]=o,s=!!(s.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||BS(s.nodeValue,d)),s||ds(o,!0)}else s=im(s).createTextNode(p),s[Dr]=o,o.stateNode=s}return Yt(o),null;case 31:if(d=o.memoizedState,s===null||s.memoizedState!==null){if(p=vo(o),d!==null){if(s===null){if(!p)throw Error(n(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[Dr]=o}else dl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Yt(o),s=!1}else d=uv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return o.flags&256?(An(o),o):(An(o),null);if((o.flags&128)!==0)throw Error(n(558))}return Yt(o),null;case 13:if(p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(b=vo(o),p!==null&&p.dehydrated!==null){if(s===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Dr]=o}else dl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Yt(o),b=!1}else b=uv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(An(o),o):(An(o),null)}return An(o),(o.flags&128)!==0?(o.lanes=d,o):(d=p!==null,s=s!==null&&s.memoizedState!==null,d&&(p=o.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),N=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==b&&(p.flags|=2048)),d!==s&&d&&(o.child.flags|=8192),Uf(o,o.updateQueue),Yt(o),null);case 4:return re(),s===null&&j0(o.stateNode.containerInfo),Yt(o),null;case 10:return bi(o.type),Yt(o),null;case 19:if(Q(xr),p=o.memoizedState,p===null)return Yt(o),null;if(b=(o.flags&128)!==0,N=p.rendering,N===null)if(b)hu(p,!1);else{if(or!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(N=_f(s),N!==null){for(o.flags|=128,hu(p,!1),s=N.updateQueue,o.updateQueue=s,Uf(o,s),o.subtreeFlags=0,s=d,d=o.child;d!==null;)gN(d,s),d=d.sibling;return ue(xr,xr.current&1|2),bt&&vi(o,p.treeForkCount),o.child}s=s.sibling}p.tail!==null&&be()>Kf&&(o.flags|=128,b=!0,hu(p,!1),o.lanes=4194304)}else{if(!b)if(s=_f(N),s!==null){if(o.flags|=128,b=!0,s=s.updateQueue,o.updateQueue=s,Uf(o,s),hu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!N.alternate&&!bt)return Yt(o),null}else 2*be()-p.renderingStartTime>Kf&&d!==536870912&&(o.flags|=128,b=!0,hu(p,!1),o.lanes=4194304);p.isBackwards?(N.sibling=o.child,o.child=N):(s=p.last,s!==null?s.sibling=N:o.child=N,p.last=N)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=be(),s.sibling=null,d=xr.current,ue(xr,b?d&1|2:d&1),bt&&vi(o,p.treeForkCount),s):(Yt(o),null);case 22:case 23:return An(o),Nv(),p=o.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(d&536870912)!==0&&(o.flags&128)===0&&(Yt(o),o.subtreeFlags&6&&(o.flags|=8192)):Yt(o),d=o.updateQueue,d!==null&&Uf(o,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==d&&(o.flags|=2048),s!==null&&Q(pl),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),bi(jr),Yt(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function KR(s,o){switch(ov(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return bi(jr),re(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Ve(o),null;case 31:if(o.memoizedState!==null){if(An(o),o.alternate===null)throw Error(n(340));dl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(An(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));dl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Q(xr),null;case 4:return re(),null;case 10:return bi(o.type),null;case 22:case 23:return An(o),Nv(),s!==null&&Q(pl),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return bi(jr),null;case 25:return null;default:return null}}function Y2(s,o){switch(ov(o),o.tag){case 3:bi(jr),re();break;case 26:case 27:case 5:Ve(o);break;case 4:re();break;case 31:o.memoizedState!==null&&An(o);break;case 13:An(o);break;case 19:Q(xr);break;case 10:bi(o.type);break;case 22:case 23:An(o),Nv(),s!==null&&Q(pl);break;case 24:bi(jr)}}function xu(s,o){try{var d=o.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var b=p.next;d=b;do{if((d.tag&s)===s){p=void 0;var N=d.create,_=d.inst;p=N(),_.destroy=p}d=d.next}while(d!==b)}}catch(I){Dt(o,o.return,I)}}function gs(s,o,d){try{var p=o.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var N=b.next;p=N;do{if((p.tag&s)===s){var _=p.inst,I=_.destroy;if(I!==void 0){_.destroy=void 0,b=o;var V=d,se=I;try{se()}catch(ve){Dt(b,V,ve)}}}p=p.next}while(p!==N)}}catch(ve){Dt(o,o.return,ve)}}function V2(s){var o=s.updateQueue;if(o!==null){var d=s.stateNode;try{RN(o,d)}catch(p){Dt(s,s.return,p)}}}function G2(s,o,d){d.props=bl(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(p){Dt(s,o,p)}}function vu(s,o){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var p=s.stateNode;break;case 30:p=s.stateNode;break;default:p=s.stateNode}typeof d=="function"?s.refCleanup=d(p):d.current=p}}catch(b){Dt(s,o,b)}}function Fa(s,o){var d=s.ref,p=s.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(b){Dt(s,o,b)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){Dt(s,o,b)}else d.current=null}function W2(s){var o=s.type,d=s.memoizedProps,p=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(b){Dt(s,s.return,b)}}function t0(s,o,d){try{var p=s.stateNode;vL(p,s.type,d,o),p[Kr]=o}catch(b){Dt(s,s.return,b)}}function K2(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Cs(s.type)||s.tag===4}function r0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||K2(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Cs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function n0(s,o,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(s),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=pi));else if(p!==4&&(p===27&&Cs(s.type)&&(d=s.stateNode,o=null),s=s.child,s!==null))for(n0(s,o,d),s=s.sibling;s!==null;)n0(s,o,d),s=s.sibling}function Yf(s,o,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?d.insertBefore(s,o):d.appendChild(s);else if(p!==4&&(p===27&&Cs(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(Yf(s,o,d),s=s.sibling;s!==null;)Yf(s,o,d),s=s.sibling}function Q2(s){var o=s.stateNode,d=s.memoizedProps;try{for(var p=s.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);Ur(o,p,d),o[Dr]=s,o[Kr]=d}catch(N){Dt(s,s.return,N)}}var Si=!1,Cr=!1,a0=!1,X2=typeof WeakSet=="function"?WeakSet:Set,Ir=null;function QR(s,o){if(s=s.containerInfo,C0=fm,s=cN(s),Xx(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var b=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var _=0,I=-1,V=-1,se=0,ve=0,je=s,oe=null;t:for(;;){for(var me;je!==d||b!==0&&je.nodeType!==3||(I=_+b),je!==N||p!==0&&je.nodeType!==3||(V=_+p),je.nodeType===3&&(_+=je.nodeValue.length),(me=je.firstChild)!==null;)oe=je,je=me;for(;;){if(je===s)break t;if(oe===d&&++se===b&&(I=_),oe===N&&++ve===p&&(V=_),(me=je.nextSibling)!==null)break;je=oe,oe=je.parentNode}je=me}d=I===-1||V===-1?null:{start:I,end:V}}else d=null}d=d||{start:0,end:0}}else d=null;for(A0={focusedElem:s,selectionRange:d},fm=!1,Ir=o;Ir!==null;)if(o=Ir,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Ir=s;else for(;Ir!==null;){switch(o=Ir,N=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)b=s[d],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&N!==null){s=void 0,d=o,b=N.memoizedProps,N=N.memoizedState,p=d.stateNode;try{var $e=bl(d.type,b);s=p.getSnapshotBeforeUpdate($e,N),p.__reactInternalSnapshotBeforeUpdate=s}catch(Xe){Dt(d,d.return,Xe)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,d=s.nodeType,d===9)D0(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":D0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=o.sibling,s!==null){s.return=o.return,Ir=s;break}Ir=o.return}}function Z2(s,o,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:Ai(s,d),p&4&&xu(5,d);break;case 1:if(Ai(s,d),p&4)if(s=d.stateNode,o===null)try{s.componentDidMount()}catch(_){Dt(d,d.return,_)}else{var b=bl(d.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(b,o,s.__reactInternalSnapshotBeforeUpdate)}catch(_){Dt(d,d.return,_)}}p&64&&V2(d),p&512&&vu(d,d.return);break;case 3:if(Ai(s,d),p&64&&(s=d.updateQueue,s!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{RN(s,o)}catch(_){Dt(d,d.return,_)}}break;case 27:o===null&&p&4&&Q2(d);case 26:case 5:Ai(s,d),o===null&&p&4&&W2(d),p&512&&vu(d,d.return);break;case 12:Ai(s,d);break;case 31:Ai(s,d),p&4&&tS(s,d);break;case 13:Ai(s,d),p&4&&rS(s,d),p&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=iL.bind(null,d),CL(s,d))));break;case 22:if(p=d.memoizedState!==null||Si,!p){o=o!==null&&o.memoizedState!==null||Cr,b=Si;var N=Cr;Si=p,(Cr=o)&&!N?ki(s,d,(d.subtreeFlags&8772)!==0):Ai(s,d),Si=b,Cr=N}break;case 30:break;default:Ai(s,d)}}function J2(s){var o=s.alternate;o!==null&&(s.alternate=null,J2(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Yc(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Qt=null,cn=!1;function Ci(s,o,d){for(d=d.child;d!==null;)eS(s,o,d),d=d.sibling}function eS(s,o,d){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(qe,d)}catch{}switch(d.tag){case 26:Cr||Fa(d,o),Ci(s,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Cr||Fa(d,o);var p=Qt,b=cn;Cs(d.type)&&(Qt=d.stateNode,cn=!1),Ci(s,o,d),Au(d.stateNode),Qt=p,cn=b;break;case 5:Cr||Fa(d,o);case 6:if(p=Qt,b=cn,Qt=null,Ci(s,o,d),Qt=p,cn=b,Qt!==null)if(cn)try{(Qt.nodeType===9?Qt.body:Qt.nodeName==="HTML"?Qt.ownerDocument.body:Qt).removeChild(d.stateNode)}catch(N){Dt(d,o,N)}else try{Qt.removeChild(d.stateNode)}catch(N){Dt(d,o,N)}break;case 18:Qt!==null&&(cn?(s=Qt,VS(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),Fo(s)):VS(Qt,d.stateNode));break;case 4:p=Qt,b=cn,Qt=d.stateNode.containerInfo,cn=!0,Ci(s,o,d),Qt=p,cn=b;break;case 0:case 11:case 14:case 15:gs(2,d,o),Cr||gs(4,d,o),Ci(s,o,d);break;case 1:Cr||(Fa(d,o),p=d.stateNode,typeof p.componentWillUnmount=="function"&&G2(d,o,p)),Ci(s,o,d);break;case 21:Ci(s,o,d);break;case 22:Cr=(p=Cr)||d.memoizedState!==null,Ci(s,o,d),Cr=p;break;default:Ci(s,o,d)}}function tS(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Fo(s)}catch(d){Dt(o,o.return,d)}}}function rS(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Fo(s)}catch(d){Dt(o,o.return,d)}}function XR(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new X2),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new X2),o;default:throw Error(n(435,s.tag))}}function Vf(s,o){var d=XR(s);o.forEach(function(p){if(!d.has(p)){d.add(p);var b=sL.bind(null,s,p);p.then(b,b)}})}function un(s,o){var d=o.deletions;if(d!==null)for(var p=0;p<d.length;p++){var b=d[p],N=s,_=o,I=_;e:for(;I!==null;){switch(I.tag){case 27:if(Cs(I.type)){Qt=I.stateNode,cn=!1;break e}break;case 5:Qt=I.stateNode,cn=!1;break e;case 3:case 4:Qt=I.stateNode.containerInfo,cn=!0;break e}I=I.return}if(Qt===null)throw Error(n(160));eS(N,_,b),Qt=null,cn=!1,N=b.alternate,N!==null&&(N.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)nS(o,s),o=o.sibling}var ua=null;function nS(s,o){var d=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:un(o,s),dn(s),p&4&&(gs(3,s,s.return),xu(3,s),gs(5,s,s.return));break;case 1:un(o,s),dn(s),p&512&&(Cr||d===null||Fa(d,d.return)),p&64&&Si&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var b=ua;if(un(o,s),dn(s),p&512&&(Cr||d===null||Fa(d,d.return)),p&4){var N=d!==null?d.memoizedState:null;if(p=s.memoizedState,d===null)if(p===null)if(s.stateNode===null){e:{p=s.type,d=s.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":N=b.getElementsByTagName("title")[0],(!N||N[nl]||N[Dr]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=b.createElement(p),b.head.insertBefore(N,b.querySelector("head > title"))),Ur(N,p,d),N[Dr]=s,yr(N),p=N;break e;case"link":var _=nC("link","href",b).get(p+(d.href||""));if(_){for(var I=0;I<_.length;I++)if(N=_[I],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){_.splice(I,1);break t}}N=b.createElement(p),Ur(N,p,d),b.head.appendChild(N);break;case"meta":if(_=nC("meta","content",b).get(p+(d.content||""))){for(I=0;I<_.length;I++)if(N=_[I],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){_.splice(I,1);break t}}N=b.createElement(p),Ur(N,p,d),b.head.appendChild(N);break;default:throw Error(n(468,p))}N[Dr]=s,yr(N),p=N}s.stateNode=p}else aC(b,s.type,s.stateNode);else s.stateNode=rC(b,p,s.memoizedProps);else N!==p?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,p===null?aC(b,s.type,s.stateNode):rC(b,p,s.memoizedProps)):p===null&&s.stateNode!==null&&t0(s,s.memoizedProps,d.memoizedProps)}break;case 27:un(o,s),dn(s),p&512&&(Cr||d===null||Fa(d,d.return)),d!==null&&p&4&&t0(s,s.memoizedProps,d.memoizedProps);break;case 5:if(un(o,s),dn(s),p&512&&(Cr||d===null||Fa(d,d.return)),s.flags&32){b=s.stateNode;try{so(b,"")}catch($e){Dt(s,s.return,$e)}}p&4&&s.stateNode!=null&&(b=s.memoizedProps,t0(s,b,d!==null?d.memoizedProps:b)),p&1024&&(a0=!0);break;case 6:if(un(o,s),dn(s),p&4){if(s.stateNode===null)throw Error(n(162));p=s.memoizedProps,d=s.stateNode;try{d.nodeValue=p}catch($e){Dt(s,s.return,$e)}}break;case 3:if(om=null,b=ua,ua=sm(o.containerInfo),un(o,s),ua=b,dn(s),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Fo(o.containerInfo)}catch($e){Dt(s,s.return,$e)}a0&&(a0=!1,aS(s));break;case 4:p=ua,ua=sm(s.stateNode.containerInfo),un(o,s),dn(s),ua=p;break;case 12:un(o,s),dn(s);break;case 31:un(o,s),dn(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Vf(s,p)));break;case 13:un(o,s),dn(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Wf=be()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Vf(s,p)));break;case 22:b=s.memoizedState!==null;var V=d!==null&&d.memoizedState!==null,se=Si,ve=Cr;if(Si=se||b,Cr=ve||V,un(o,s),Cr=ve,Si=se,dn(s),p&8192)e:for(o=s.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(d===null||V||Si||Cr||yl(s)),d=null,o=s;;){if(o.tag===5||o.tag===26){if(d===null){V=d=o;try{if(N=V.stateNode,b)_=N.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{I=V.stateNode;var je=V.memoizedProps.style,oe=je!=null&&je.hasOwnProperty("display")?je.display:null;I.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch($e){Dt(V,V.return,$e)}}}else if(o.tag===6){if(d===null){V=o;try{V.stateNode.nodeValue=b?"":V.memoizedProps}catch($e){Dt(V,V.return,$e)}}}else if(o.tag===18){if(d===null){V=o;try{var me=V.stateNode;b?GS(me,!0):GS(V.stateNode,!1)}catch($e){Dt(V,V.return,$e)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=s.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Vf(s,d))));break;case 19:un(o,s),dn(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Vf(s,p)));break;case 30:break;case 21:break;default:un(o,s),dn(s)}}function dn(s){var o=s.flags;if(o&2){try{for(var d,p=s.return;p!==null;){if(K2(p)){d=p;break}p=p.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var b=d.stateNode,N=r0(s);Yf(s,N,b);break;case 5:var _=d.stateNode;d.flags&32&&(so(_,""),d.flags&=-33);var I=r0(s);Yf(s,I,_);break;case 3:case 4:var V=d.stateNode.containerInfo,se=r0(s);n0(s,se,V);break;default:throw Error(n(161))}}catch(ve){Dt(s,s.return,ve)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function aS(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;aS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Ai(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Z2(s,o.alternate,o),o=o.sibling}function yl(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:gs(4,o,o.return),yl(o);break;case 1:Fa(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&G2(o,o.return,d),yl(o);break;case 27:Au(o.stateNode);case 26:case 5:Fa(o,o.return),yl(o);break;case 22:o.memoizedState===null&&yl(o);break;case 30:yl(o);break;default:yl(o)}s=s.sibling}}function ki(s,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,b=s,N=o,_=N.flags;switch(N.tag){case 0:case 11:case 15:ki(b,N,d),xu(4,N);break;case 1:if(ki(b,N,d),p=N,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(se){Dt(p,p.return,se)}if(p=N,b=p.updateQueue,b!==null){var I=p.stateNode;try{var V=b.shared.hiddenCallbacks;if(V!==null)for(b.shared.hiddenCallbacks=null,b=0;b<V.length;b++)IN(V[b],I)}catch(se){Dt(p,p.return,se)}}d&&_&64&&V2(N),vu(N,N.return);break;case 27:Q2(N);case 26:case 5:ki(b,N,d),d&&p===null&&_&4&&W2(N),vu(N,N.return);break;case 12:ki(b,N,d);break;case 31:ki(b,N,d),d&&_&4&&tS(b,N);break;case 13:ki(b,N,d),d&&_&4&&rS(b,N);break;case 22:N.memoizedState===null&&ki(b,N,d),vu(N,N.return);break;case 30:break;default:ki(b,N,d)}o=o.sibling}}function i0(s,o){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&nu(d))}function s0(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&nu(s))}function da(s,o,d,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)iS(s,o,d,p),o=o.sibling}function iS(s,o,d,p){var b=o.flags;switch(o.tag){case 0:case 11:case 15:da(s,o,d,p),b&2048&&xu(9,o);break;case 1:da(s,o,d,p);break;case 3:da(s,o,d,p),b&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&nu(s)));break;case 12:if(b&2048){da(s,o,d,p),s=o.stateNode;try{var N=o.memoizedProps,_=N.id,I=N.onPostCommit;typeof I=="function"&&I(_,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){Dt(o,o.return,V)}}else da(s,o,d,p);break;case 31:da(s,o,d,p);break;case 13:da(s,o,d,p);break;case 23:break;case 22:N=o.stateNode,_=o.alternate,o.memoizedState!==null?N._visibility&2?da(s,o,d,p):gu(s,o):N._visibility&2?da(s,o,d,p):(N._visibility|=2,ko(s,o,d,p,(o.subtreeFlags&10256)!==0||!1)),b&2048&&i0(_,o);break;case 24:da(s,o,d,p),b&2048&&s0(o.alternate,o);break;default:da(s,o,d,p)}}function ko(s,o,d,p,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var N=s,_=o,I=d,V=p,se=_.flags;switch(_.tag){case 0:case 11:case 15:ko(N,_,I,V,b),xu(8,_);break;case 23:break;case 22:var ve=_.stateNode;_.memoizedState!==null?ve._visibility&2?ko(N,_,I,V,b):gu(N,_):(ve._visibility|=2,ko(N,_,I,V,b)),b&&se&2048&&i0(_.alternate,_);break;case 24:ko(N,_,I,V,b),b&&se&2048&&s0(_.alternate,_);break;default:ko(N,_,I,V,b)}o=o.sibling}}function gu(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=s,p=o,b=p.flags;switch(p.tag){case 22:gu(d,p),b&2048&&i0(p.alternate,p);break;case 24:gu(d,p),b&2048&&s0(p.alternate,p);break;default:gu(d,p)}o=o.sibling}}var bu=8192;function Mo(s,o,d){if(s.subtreeFlags&bu)for(s=s.child;s!==null;)sS(s,o,d),s=s.sibling}function sS(s,o,d){switch(s.tag){case 26:Mo(s,o,d),s.flags&bu&&s.memoizedState!==null&&LL(d,ua,s.memoizedState,s.memoizedProps);break;case 5:Mo(s,o,d);break;case 3:case 4:var p=ua;ua=sm(s.stateNode.containerInfo),Mo(s,o,d),ua=p;break;case 22:s.memoizedState===null&&(p=s.alternate,p!==null&&p.memoizedState!==null?(p=bu,bu=16777216,Mo(s,o,d),bu=p):Mo(s,o,d));break;default:Mo(s,o,d)}}function lS(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function yu(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];Ir=p,cS(p,s)}lS(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)oS(s),s=s.sibling}function oS(s){switch(s.tag){case 0:case 11:case 15:yu(s),s.flags&2048&&gs(9,s,s.return);break;case 3:yu(s);break;case 12:yu(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Gf(s)):yu(s);break;default:yu(s)}}function Gf(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];Ir=p,cS(p,s)}lS(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:gs(8,o,o.return),Gf(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,Gf(o));break;default:Gf(o)}s=s.sibling}}function cS(s,o){for(;Ir!==null;){var d=Ir;switch(d.tag){case 0:case 11:case 15:gs(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:nu(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Ir=p;else e:for(d=s;Ir!==null;){p=Ir;var b=p.sibling,N=p.return;if(J2(p),p===d){Ir=null;break e}if(b!==null){b.return=N,Ir=b;break e}Ir=N}}}var ZR={getCacheForType:function(s){var o=qr(jr),d=o.data.get(s);return d===void 0&&(d=s(),o.data.set(s,d)),d},cacheSignal:function(){return qr(jr).controller.signal}},JR=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Bt=null,ft=null,xt=0,Mt=0,kn=null,bs=!1,Do=!1,l0=!1,Mi=0,or=0,ys=0,wl=0,o0=0,Mn=0,Eo=0,wu=null,fn=null,c0=!1,Wf=0,uS=0,Kf=1/0,Qf=null,ws=null,Er=0,js=null,_o=null,Di=0,u0=0,d0=null,dS=null,ju=0,f0=null;function Dn(){return(Ct&2)!==0&&xt!==0?xt&-xt:R.T!==null?g0():af()}function fS(){if(Mn===0)if((xt&536870912)===0||bt){var s=_e;_e<<=1,(_e&3932160)===0&&(_e=262144),Mn=s}else Mn=536870912;return s=Cn.current,s!==null&&(s.flags|=32),Mn}function mn(s,o,d){(s===Bt&&(Mt===2||Mt===9)||s.cancelPendingCommit!==null)&&(Oo(s,0),Ns(s,xt,Mn,!1)),Oa(s,d),((Ct&2)===0||s!==Bt)&&(s===Bt&&((Ct&2)===0&&(wl|=d),or===4&&Ns(s,xt,Mn,!1)),za(s))}function mS(s,o,d){if((Ct&6)!==0)throw Error(n(327));var p=!d&&(o&127)===0&&(o&s.expiredLanes)===0||Ue(s,o),b=p?rL(s,o):p0(s,o,!0),N=p;do{if(b===0){Do&&!p&&Ns(s,o,0,!1);break}else{if(d=s.current.alternate,N&&!eL(d)){b=p0(s,o,!1),N=!1;continue}if(b===2){if(N=o,s.errorRecoveryDisabledLanes&N)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){o=_;e:{var I=s;b=wu;var V=I.current.memoizedState.isDehydrated;if(V&&(Oo(I,_).flags|=256),_=p0(I,_,!1),_!==2){if(l0&&!V){I.errorRecoveryDisabledLanes|=N,wl|=N,b=4;break e}N=fn,fn=b,N!==null&&(fn===null?fn=N:fn.push.apply(fn,N))}b=_}if(N=!1,b!==2)continue}}if(b===1){Oo(s,0),Ns(s,o,0,!0);break}e:{switch(p=s,N=b,N){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Ns(p,o,Mn,!bs);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(b=Wf+300-be(),10<b)){if(Ns(p,o,Mn,!bs),Ne(p,0,!0)!==0)break e;Di=o,p.timeoutHandle=US(pS.bind(null,p,d,fn,Qf,c0,o,Mn,wl,Eo,bs,N,"Throttled",-0,0),b);break e}pS(p,d,fn,Qf,c0,o,Mn,wl,Eo,bs,N,null,-0,0)}}break}while(!0);za(s)}function pS(s,o,d,p,b,N,_,I,V,se,ve,je,oe,me){if(s.timeoutHandle=-1,je=o.subtreeFlags,je&8192||(je&16785408)===16785408){je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pi},sS(o,N,je);var $e=(N&62914560)===N?Wf-be():(N&4194048)===N?uS-be():0;if($e=FL(je,$e),$e!==null){Di=N,s.cancelPendingCommit=$e(jS.bind(null,s,o,N,d,p,b,_,I,V,ve,je,null,oe,me)),Ns(s,N,_,!se);return}}jS(s,o,N,d,p,b,_,I,V)}function eL(s){for(var o=s;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var b=d[p],N=b.getSnapshot;b=b.value;try{if(!Nn(N(),b))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ns(s,o,d,p){o&=~o0,o&=~wl,s.suspendedLanes|=o,s.pingedLanes&=~o,p&&(s.warmLanes|=o),p=s.expirationTimes;for(var b=o;0<b;){var N=31-Ke(b),_=1<<N;p[N]=-1,b&=~_}d!==0&&tf(s,d,o)}function Xf(){return(Ct&6)===0?(Nu(0),!1):!0}function m0(){if(ft!==null){if(Mt===0)var s=ft.return;else s=ft,gi=fl=null,Dv(s),jo=null,iu=0,s=ft;for(;s!==null;)Y2(s.alternate,s),s=s.return;ft=null}}function Oo(s,o){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,yL(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),Di=0,m0(),Bt=s,ft=d=xi(s.current,null),xt=o,Mt=0,kn=null,bs=!1,Do=Ue(s,o),l0=!1,Eo=Mn=o0=wl=ys=or=0,fn=wu=null,c0=!1,(o&8)!==0&&(o|=o&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=o;0<p;){var b=31-Ke(p),N=1<<b;o|=s[b],p&=~N}return Mi=o,gf(),d}function hS(s,o){at=null,R.H=mu,o===wo||o===Af?(o=_N(),Mt=3):o===vv?(o=_N(),Mt=4):Mt=o===Yv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,kn=o,ft===null&&(or=1,Bf(s,Un(o,s.current)))}function xS(){var s=Cn.current;return s===null?!0:(xt&4194048)===xt?Wn===null:(xt&62914560)===xt||(xt&536870912)!==0?s===Wn:!1}function vS(){var s=R.H;return R.H=mu,s===null?mu:s}function gS(){var s=R.A;return R.A=ZR,s}function Zf(){or=4,bs||(xt&4194048)!==xt&&Cn.current!==null||(Do=!0),(ys&134217727)===0&&(wl&134217727)===0||Bt===null||Ns(Bt,xt,Mn,!1)}function p0(s,o,d){var p=Ct;Ct|=2;var b=vS(),N=gS();(Bt!==s||xt!==o)&&(Qf=null,Oo(s,o)),o=!1;var _=or;e:do try{if(Mt!==0&&ft!==null){var I=ft,V=kn;switch(Mt){case 8:m0(),_=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(o=!0);var se=Mt;if(Mt=0,kn=null,To(s,I,V,se),d&&Do){_=0;break e}break;default:se=Mt,Mt=0,kn=null,To(s,I,V,se)}}tL(),_=or;break}catch(ve){hS(s,ve)}while(!0);return o&&s.shellSuspendCounter++,gi=fl=null,Ct=p,R.H=b,R.A=N,ft===null&&(Bt=null,xt=0,gf()),_}function tL(){for(;ft!==null;)bS(ft)}function rL(s,o){var d=Ct;Ct|=2;var p=vS(),b=gS();Bt!==s||xt!==o?(Qf=null,Kf=be()+500,Oo(s,o)):Do=Ue(s,o);e:do try{if(Mt!==0&&ft!==null){o=ft;var N=kn;t:switch(Mt){case 1:Mt=0,kn=null,To(s,o,N,1);break;case 2:case 9:if(DN(N)){Mt=0,kn=null,yS(o);break}o=function(){Mt!==2&&Mt!==9||Bt!==s||(Mt=7),za(s)},N.then(o,o);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:DN(N)?(Mt=0,kn=null,yS(o)):(Mt=0,kn=null,To(s,o,N,7));break;case 5:var _=null;switch(ft.tag){case 26:_=ft.memoizedState;case 5:case 27:var I=ft;if(_?iC(_):I.stateNode.complete){Mt=0,kn=null;var V=I.sibling;if(V!==null)ft=V;else{var se=I.return;se!==null?(ft=se,Jf(se)):ft=null}break t}}Mt=0,kn=null,To(s,o,N,5);break;case 6:Mt=0,kn=null,To(s,o,N,6);break;case 8:m0(),or=6;break e;default:throw Error(n(462))}}nL();break}catch(ve){hS(s,ve)}while(!0);return gi=fl=null,R.H=p,R.A=b,Ct=d,ft!==null?0:(Bt=null,xt=0,gf(),or)}function nL(){for(;ft!==null&&!ir();)bS(ft)}function bS(s){var o=H2(s.alternate,s,Mi);s.memoizedProps=s.pendingProps,o===null?Jf(s):ft=o}function yS(s){var o=s,d=o.alternate;switch(o.tag){case 15:case 0:o=L2(d,o,o.pendingProps,o.type,void 0,xt);break;case 11:o=L2(d,o,o.pendingProps,o.type.render,o.ref,xt);break;case 5:Dv(o);default:Y2(d,o),o=ft=gN(o,Mi),o=H2(d,o,Mi)}s.memoizedProps=s.pendingProps,o===null?Jf(s):ft=o}function To(s,o,d,p){gi=fl=null,Dv(o),jo=null,iu=0;var b=o.return;try{if(YR(s,b,o,d,xt)){or=1,Bf(s,Un(d,s.current)),ft=null;return}}catch(N){if(b!==null)throw ft=b,N;or=1,Bf(s,Un(d,s.current)),ft=null;return}o.flags&32768?(bt||p===1?s=!0:Do||(xt&536870912)!==0?s=!1:(bs=s=!0,(p===2||p===9||p===3||p===6)&&(p=Cn.current,p!==null&&p.tag===13&&(p.flags|=16384))),wS(o,s)):Jf(o)}function Jf(s){var o=s;do{if((o.flags&32768)!==0){wS(o,bs);return}s=o.return;var d=WR(o.alternate,o,Mi);if(d!==null){ft=d;return}if(o=o.sibling,o!==null){ft=o;return}ft=o=s}while(o!==null);or===0&&(or=5)}function wS(s,o){do{var d=KR(s.alternate,s);if(d!==null){d.flags&=32767,ft=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(s=s.sibling,s!==null)){ft=s;return}ft=s=d}while(s!==null);or=6,ft=null}function jS(s,o,d,p,b,N,_,I,V){s.cancelPendingCommit=null;do em();while(Er!==0);if((Ct&6)!==0)throw Error(n(327));if(o!==null){if(o===s.current)throw Error(n(177));if(N=o.lanes|o.childLanes,N|=rv,$c(s,d,N,_,I,V),s===Bt&&(ft=Bt=null,xt=0),_o=o,js=s,Di=d,u0=N,d0=b,dS=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,lL(X,function(){return kS(),null})):(s.callbackNode=null,s.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=R.T,R.T=null,b=F.p,F.p=2,_=Ct,Ct|=4;try{QR(s,o,d)}finally{Ct=_,F.p=b,R.T=p}}Er=1,NS(),SS(),CS()}}function NS(){if(Er===1){Er=0;var s=js,o=_o,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=R.T,R.T=null;var p=F.p;F.p=2;var b=Ct;Ct|=4;try{nS(o,s);var N=A0,_=cN(s.containerInfo),I=N.focusedElem,V=N.selectionRange;if(_!==I&&I&&I.ownerDocument&&oN(I.ownerDocument.documentElement,I)){if(V!==null&&Xx(I)){var se=V.start,ve=V.end;if(ve===void 0&&(ve=se),"selectionStart"in I)I.selectionStart=se,I.selectionEnd=Math.min(ve,I.value.length);else{var je=I.ownerDocument||document,oe=je&&je.defaultView||window;if(oe.getSelection){var me=oe.getSelection(),$e=I.textContent.length,Xe=Math.min(V.start,$e),Lt=V.end===void 0?Xe:Math.min(V.end,$e);!me.extend&&Xe>Lt&&(_=Lt,Lt=Xe,Xe=_);var ee=lN(I,Xe),K=lN(I,Lt);if(ee&&K&&(me.rangeCount!==1||me.anchorNode!==ee.node||me.anchorOffset!==ee.offset||me.focusNode!==K.node||me.focusOffset!==K.offset)){var ae=je.createRange();ae.setStart(ee.node,ee.offset),me.removeAllRanges(),Xe>Lt?(me.addRange(ae),me.extend(K.node,K.offset)):(ae.setEnd(K.node,K.offset),me.addRange(ae))}}}}for(je=[],me=I;me=me.parentNode;)me.nodeType===1&&je.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<je.length;I++){var we=je[I];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}fm=!!C0,A0=C0=null}finally{Ct=b,F.p=p,R.T=d}}s.current=o,Er=2}}function SS(){if(Er===2){Er=0;var s=js,o=_o,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=R.T,R.T=null;var p=F.p;F.p=2;var b=Ct;Ct|=4;try{Z2(s,o.alternate,o)}finally{Ct=b,F.p=p,R.T=d}}Er=3}}function CS(){if(Er===4||Er===3){Er=0,Pt();var s=js,o=_o,d=Di,p=dS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Er=5:(Er=0,_o=js=null,AS(s,s.pendingLanes));var b=s.pendingLanes;if(b===0&&(ws=null),Hc(d),o=o.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(qe,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=R.T,b=F.p,F.p=2,R.T=null;try{for(var N=s.onRecoverableError,_=0;_<p.length;_++){var I=p[_];N(I.value,{componentStack:I.stack})}}finally{R.T=o,F.p=b}}(Di&3)!==0&&em(),za(s),b=s.pendingLanes,(d&261930)!==0&&(b&42)!==0?s===f0?ju++:(ju=0,f0=s):ju=0,Nu(0)}}function AS(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,nu(o)))}function em(){return NS(),SS(),CS(),kS()}function kS(){if(Er!==5)return!1;var s=js,o=u0;u0=0;var d=Hc(Di),p=R.T,b=F.p;try{F.p=32>d?32:d,R.T=null,d=d0,d0=null;var N=js,_=Di;if(Er=0,_o=js=null,Di=0,(Ct&6)!==0)throw Error(n(331));var I=Ct;if(Ct|=4,oS(N.current),iS(N,N.current,_,d),Ct=I,Nu(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(qe,N)}catch{}return!0}finally{F.p=b,R.T=p,AS(s,o)}}function MS(s,o,d){o=Un(d,o),o=Uv(s.stateNode,o,2),s=hs(s,o,2),s!==null&&(Oa(s,2),za(s))}function Dt(s,o,d){if(s.tag===3)MS(s,s,d);else for(;o!==null;){if(o.tag===3){MS(o,s,d);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ws===null||!ws.has(p))){s=Un(d,s),d=D2(2),p=hs(o,d,2),p!==null&&(E2(d,p,o,s),Oa(p,2),za(p));break}}o=o.return}}function h0(s,o,d){var p=s.pingCache;if(p===null){p=s.pingCache=new JR;var b=new Set;p.set(o,b)}else b=p.get(o),b===void 0&&(b=new Set,p.set(o,b));b.has(d)||(l0=!0,b.add(d),s=aL.bind(null,s,o,d),o.then(s,s))}function aL(s,o,d){var p=s.pingCache;p!==null&&p.delete(o),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,Bt===s&&(xt&d)===d&&(or===4||or===3&&(xt&62914560)===xt&&300>be()-Wf?(Ct&2)===0&&Oo(s,0):o0|=d,Eo===xt&&(Eo=0)),za(s)}function DS(s,o){o===0&&(o=rr()),s=cl(s,o),s!==null&&(Oa(s,o),za(s))}function iL(s){var o=s.memoizedState,d=0;o!==null&&(d=o.retryLane),DS(s,d)}function sL(s,o){var d=0;switch(s.tag){case 31:case 13:var p=s.stateNode,b=s.memoizedState;b!==null&&(d=b.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(o),DS(s,d)}function lL(s,o){return Mr(s,o)}var tm=null,Po=null,x0=!1,rm=!1,v0=!1,Ss=0;function za(s){s!==Po&&s.next===null&&(Po===null?tm=Po=s:Po=Po.next=s),rm=!0,x0||(x0=!0,cL())}function Nu(s,o){if(!v0&&rm){v0=!0;do for(var d=!1,p=tm;p!==null;){if(s!==0){var b=p.pendingLanes;if(b===0)var N=0;else{var _=p.suspendedLanes,I=p.pingedLanes;N=(1<<31-Ke(42|s)+1)-1,N&=b&~(_&~I),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,TS(p,N))}else N=xt,N=Ne(p,p===Bt?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||Ue(p,N)||(d=!0,TS(p,N));p=p.next}while(d);v0=!1}}function oL(){ES()}function ES(){rm=x0=!1;var s=0;Ss!==0&&bL()&&(s=Ss);for(var o=be(),d=null,p=tm;p!==null;){var b=p.next,N=_S(p,o);N===0?(p.next=null,d===null?tm=b:d.next=b,b===null&&(Po=d)):(d=p,(s!==0||(N&3)!==0)&&(rm=!0)),p=b}Er!==0&&Er!==5||Nu(s),Ss!==0&&(Ss=0)}function _S(s,o){for(var d=s.suspendedLanes,p=s.pingedLanes,b=s.expirationTimes,N=s.pendingLanes&-62914561;0<N;){var _=31-Ke(N),I=1<<_,V=b[_];V===-1?((I&d)===0||(I&p)!==0)&&(b[_]=Kt(I,o)):V<=o&&(s.expiredLanes|=I),N&=~I}if(o=Bt,d=xt,d=Ne(s,s===o?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p=s.callbackNode,d===0||s===o&&(Mt===2||Mt===9)||s.cancelPendingCommit!==null)return p!==null&&p!==null&&Wt(p),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||Ue(s,d)){if(o=d&-d,o===s.callbackPriority)return o;switch(p!==null&&Wt(p),Hc(d)){case 2:case 8:d=q;break;case 32:d=X;break;case 268435456:d=Fe;break;default:d=X}return p=OS.bind(null,s),d=Mr(d,p),s.callbackPriority=o,s.callbackNode=d,o}return p!==null&&p!==null&&Wt(p),s.callbackPriority=2,s.callbackNode=null,2}function OS(s,o){if(Er!==0&&Er!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(em()&&s.callbackNode!==d)return null;var p=xt;return p=Ne(s,s===Bt?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p===0?null:(mS(s,p,o),_S(s,be()),s.callbackNode!=null&&s.callbackNode===d?OS.bind(null,s):null)}function TS(s,o){if(em())return null;mS(s,o,!0)}function cL(){wL(function(){(Ct&6)!==0?Mr(G,oL):ES()})}function g0(){if(Ss===0){var s=bo;s===0&&(s=We,We<<=1,(We&261888)===0&&(We=256)),Ss=s}return Ss}function PS(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:uf(""+s)}function IS(s,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,s.id&&d.setAttribute("form",s.id),o.parentNode.insertBefore(d,o),s=new FormData(s),d.parentNode.removeChild(d),s}function uL(s,o,d,p,b){if(o==="submit"&&d&&d.stateNode===b){var N=PS((b[Kr]||null).action),_=p.submitter;_&&(o=(o=_[Kr]||null)?PS(o.formAction):_.getAttribute("formAction"),o!==null&&(N=o,_=null));var I=new pf("action","action",null,p,b);s.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ss!==0){var V=_?IS(b,_):new FormData(b);Fv(d,{pending:!0,data:V,method:b.method,action:N},null,V)}}else typeof N=="function"&&(I.preventDefault(),V=_?IS(b,_):new FormData(b),Fv(d,{pending:!0,data:V,method:b.method,action:N},N,V))},currentTarget:b}]})}}for(var b0=0;b0<tv.length;b0++){var y0=tv[b0],dL=y0.toLowerCase(),fL=y0[0].toUpperCase()+y0.slice(1);ca(dL,"on"+fL)}ca(fN,"onAnimationEnd"),ca(mN,"onAnimationIteration"),ca(pN,"onAnimationStart"),ca("dblclick","onDoubleClick"),ca("focusin","onFocus"),ca("focusout","onBlur"),ca(MR,"onTransitionRun"),ca(DR,"onTransitionStart"),ca(ER,"onTransitionCancel"),ca(hN,"onTransitionEnd"),sr("onMouseEnter",["mouseout","mouseover"]),sr("onMouseLeave",["mouseout","mouseover"]),sr("onPointerEnter",["pointerout","pointerover"]),sr("onPointerLeave",["pointerout","pointerover"]),Ae("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ae("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ae("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ae("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ae("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ae("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Su));function RS(s,o){o=(o&4)!==0;for(var d=0;d<s.length;d++){var p=s[d],b=p.event;p=p.listeners;e:{var N=void 0;if(o)for(var _=p.length-1;0<=_;_--){var I=p[_],V=I.instance,se=I.currentTarget;if(I=I.listener,V!==N&&b.isPropagationStopped())break e;N=I,b.currentTarget=se;try{N(b)}catch(ve){vf(ve)}b.currentTarget=null,N=V}else for(_=0;_<p.length;_++){if(I=p[_],V=I.instance,se=I.currentTarget,I=I.listener,V!==N&&b.isPropagationStopped())break e;N=I,b.currentTarget=se;try{N(b)}catch(ve){vf(ve)}b.currentTarget=null,N=V}}}}function mt(s,o){var d=o[Uc];d===void 0&&(d=o[Uc]=new Set);var p=s+"__bubble";d.has(p)||(LS(o,s,2,!1),d.add(p))}function w0(s,o,d){var p=0;o&&(p|=4),LS(d,s,p,o)}var nm="_reactListening"+Math.random().toString(36).slice(2);function j0(s){if(!s[nm]){s[nm]=!0,of.forEach(function(d){d!=="selectionchange"&&(mL.has(d)||w0(d,!1,s),w0(d,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[nm]||(o[nm]=!0,w0("selectionchange",!1,o))}}function LS(s,o,d,p){switch(fC(o)){case 2:var b=$L;break;case 8:b=qL;break;default:b=L0}d=b.bind(null,o,d,s),b=void 0,!qx||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),p?b!==void 0?s.addEventListener(o,d,{capture:!0,passive:b}):s.addEventListener(o,d,!0):b!==void 0?s.addEventListener(o,d,{passive:b}):s.addEventListener(o,d,!1)}function N0(s,o,d,p,b){var N=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var _=p.tag;if(_===3||_===4){var I=p.stateNode.containerInfo;if(I===b)break;if(_===4)for(_=p.return;_!==null;){var V=_.tag;if((V===3||V===4)&&_.stateNode.containerInfo===b)return;_=_.return}for(;I!==null;){if(_=is(I),_===null)return;if(V=_.tag,V===5||V===6||V===26||V===27){p=N=_;continue e}I=I.parentNode}}p=p.return}qj(function(){var se=N,ve=Bx(d),je=[];e:{var oe=xN.get(s);if(oe!==void 0){var me=pf,$e=s;switch(s){case"keypress":if(ff(d)===0)break e;case"keydown":case"keyup":me=sR;break;case"focusin":$e="focus",me=Vx;break;case"focusout":$e="blur",me=Vx;break;case"beforeblur":case"afterblur":me=Vx;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Yj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=WI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=cR;break;case fN:case mN:case pN:me=XI;break;case hN:me=dR;break;case"scroll":case"scrollend":me=VI;break;case"wheel":me=mR;break;case"copy":case"cut":case"paste":me=JI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Gj;break;case"toggle":case"beforetoggle":me=hR}var Xe=(o&4)!==0,Lt=!Xe&&(s==="scroll"||s==="scrollend"),ee=Xe?oe!==null?oe+"Capture":null:oe;Xe=[];for(var K=se,ae;K!==null;){var we=K;if(ae=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||ae===null||ee===null||(we=Vc(K,ee),we!=null&&Xe.push(Cu(K,we,ae))),Lt)break;K=K.return}0<Xe.length&&(oe=new me(oe,$e,null,d,ve),je.push({event:oe,listeners:Xe}))}}if((o&7)===0){e:{if(oe=s==="mouseover"||s==="pointerover",me=s==="mouseout"||s==="pointerout",oe&&d!==zx&&($e=d.relatedTarget||d.fromElement)&&(is($e)||$e[as]))break e;if((me||oe)&&(oe=ve.window===ve?ve:(oe=ve.ownerDocument)?oe.defaultView||oe.parentWindow:window,me?($e=d.relatedTarget||d.toElement,me=se,$e=$e?is($e):null,$e!==null&&(Lt=l($e),Xe=$e.tag,$e!==Lt||Xe!==5&&Xe!==27&&Xe!==6)&&($e=null)):(me=null,$e=se),me!==$e)){if(Xe=Yj,we="onMouseLeave",ee="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Xe=Gj,we="onPointerLeave",ee="onPointerEnter",K="pointer"),Lt=me==null?oe:al(me),ae=$e==null?oe:al($e),oe=new Xe(we,K+"leave",me,d,ve),oe.target=Lt,oe.relatedTarget=ae,we=null,is(ve)===se&&(Xe=new Xe(ee,K+"enter",$e,d,ve),Xe.target=ae,Xe.relatedTarget=Lt,we=Xe),Lt=we,me&&$e)t:{for(Xe=pL,ee=me,K=$e,ae=0,we=ee;we;we=Xe(we))ae++;we=0;for(var Ge=K;Ge;Ge=Xe(Ge))we++;for(;0<ae-we;)ee=Xe(ee),ae--;for(;0<we-ae;)K=Xe(K),we--;for(;ae--;){if(ee===K||K!==null&&ee===K.alternate){Xe=ee;break t}ee=Xe(ee),K=Xe(K)}Xe=null}else Xe=null;me!==null&&FS(je,oe,me,Xe,!1),$e!==null&&Lt!==null&&FS(je,Lt,$e,Xe,!0)}}e:{if(oe=se?al(se):window,me=oe.nodeName&&oe.nodeName.toLowerCase(),me==="select"||me==="input"&&oe.type==="file")var wt=tN;else if(Jj(oe))if(rN)wt=CR;else{wt=NR;var He=jR}else me=oe.nodeName,!me||me.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?se&&Fx(se.elementType)&&(wt=tN):wt=SR;if(wt&&(wt=wt(s,se))){eN(je,wt,d,ve);break e}He&&He(s,oe,se),s==="focusout"&&se&&oe.type==="number"&&se.memoizedProps.value!=null&&Lx(oe,"number",oe.value)}switch(He=se?al(se):window,s){case"focusin":(Jj(He)||He.contentEditable==="true")&&(uo=He,Zx=se,eu=null);break;case"focusout":eu=Zx=uo=null;break;case"mousedown":Jx=!0;break;case"contextmenu":case"mouseup":case"dragend":Jx=!1,uN(je,d,ve);break;case"selectionchange":if(kR)break;case"keydown":case"keyup":uN(je,d,ve)}var st;if(Wx)e:{switch(s){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else co?Xj(s,d)&&(vt="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(vt="onCompositionStart");vt&&(Wj&&d.locale!=="ko"&&(co||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&co&&(st=Hj()):(os=ve,Hx="value"in os?os.value:os.textContent,co=!0)),He=am(se,vt),0<He.length&&(vt=new Vj(vt,s,null,d,ve),je.push({event:vt,listeners:He}),st?vt.data=st:(st=Zj(d),st!==null&&(vt.data=st)))),(st=vR?gR(s,d):bR(s,d))&&(vt=am(se,"onBeforeInput"),0<vt.length&&(He=new Vj("onBeforeInput","beforeinput",null,d,ve),je.push({event:He,listeners:vt}),He.data=st)),uL(je,s,se,d,ve)}RS(je,o)})}function Cu(s,o,d){return{instance:s,listener:o,currentTarget:d}}function am(s,o){for(var d=o+"Capture",p=[];s!==null;){var b=s,N=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||N===null||(b=Vc(s,d),b!=null&&p.unshift(Cu(s,b,N)),b=Vc(s,o),b!=null&&p.push(Cu(s,b,N))),s.tag===3)return p;s=s.return}return[]}function pL(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function FS(s,o,d,p,b){for(var N=o._reactName,_=[];d!==null&&d!==p;){var I=d,V=I.alternate,se=I.stateNode;if(I=I.tag,V!==null&&V===p)break;I!==5&&I!==26&&I!==27||se===null||(V=se,b?(se=Vc(d,N),se!=null&&_.unshift(Cu(d,se,V))):b||(se=Vc(d,N),se!=null&&_.push(Cu(d,se,V)))),d=d.return}_.length!==0&&s.push({event:o,listeners:_})}var hL=/\r\n?/g,xL=/\u0000|\uFFFD/g;function zS(s){return(typeof s=="string"?s:""+s).replace(hL,`
`).replace(xL,"")}function BS(s,o){return o=zS(o),zS(s)===o}function Rt(s,o,d,p,b,N){switch(d){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||so(s,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&so(s,""+p);break;case"className":il(s,"class",p);break;case"tabIndex":il(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":il(s,d,p);break;case"style":Bj(s,p,N);break;case"data":if(o!=="object"){il(s,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||d!=="href")){s.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(d);break}p=uf(""+p),s.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(o!=="input"&&Rt(s,o,"name",b.name,b,null),Rt(s,o,"formEncType",b.formEncType,b,null),Rt(s,o,"formMethod",b.formMethod,b,null),Rt(s,o,"formTarget",b.formTarget,b,null)):(Rt(s,o,"encType",b.encType,b,null),Rt(s,o,"method",b.method,b,null),Rt(s,o,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(d);break}p=uf(""+p),s.setAttribute(d,p);break;case"onClick":p!=null&&(s.onclick=pi);break;case"onScroll":p!=null&&mt("scroll",s);break;case"onScrollEnd":p!=null&&mt("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}d=uf(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,""+p):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":p===!0?s.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,p):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(d,p):s.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(d):s.setAttribute(d,p);break;case"popover":mt("beforetoggle",s),mt("toggle",s),mi(s,"popover",p);break;case"xlinkActuate":wr(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":wr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":wr(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":wr(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":wr(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":wr(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":wr(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":wr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":wr(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":mi(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=UI.get(d)||d,mi(s,d,p))}}function S0(s,o,d,p,b,N){switch(d){case"style":Bj(s,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"children":typeof p=="string"?so(s,p):(typeof p=="number"||typeof p=="bigint")&&so(s,""+p);break;case"onScroll":p!=null&&mt("scroll",s);break;case"onScrollEnd":p!=null&&mt("scrollend",s);break;case"onClick":p!=null&&(s.onclick=pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Y.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),o=d.slice(2,b?d.length-7:void 0),N=s[Kr]||null,N=N!=null?N[d]:null,typeof N=="function"&&s.removeEventListener(o,N,b),typeof p=="function")){typeof N!="function"&&N!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(o,p,b);break e}d in s?s[d]=p:p===!0?s.setAttribute(d,""):mi(s,d,p)}}}function Ur(s,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",s),mt("load",s);var p=!1,b=!1,N;for(N in d)if(d.hasOwnProperty(N)){var _=d[N];if(_!=null)switch(N){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Rt(s,o,N,_,d,null)}}b&&Rt(s,o,"srcSet",d.srcSet,d,null),p&&Rt(s,o,"src",d.src,d,null);return;case"input":mt("invalid",s);var I=N=_=b=null,V=null,se=null;for(p in d)if(d.hasOwnProperty(p)){var ve=d[p];if(ve!=null)switch(p){case"name":b=ve;break;case"type":_=ve;break;case"checked":V=ve;break;case"defaultChecked":se=ve;break;case"value":N=ve;break;case"defaultValue":I=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(n(137,o));break;default:Rt(s,o,p,ve,d,null)}}Rj(s,N,I,V,se,_,b,!1);return;case"select":mt("invalid",s),p=_=N=null;for(b in d)if(d.hasOwnProperty(b)&&(I=d[b],I!=null))switch(b){case"value":N=I;break;case"defaultValue":_=I;break;case"multiple":p=I;default:Rt(s,o,b,I,d,null)}o=N,d=_,s.multiple=!!p,o!=null?io(s,!!p,o,!1):d!=null&&io(s,!!p,d,!0);return;case"textarea":mt("invalid",s),N=b=p=null;for(_ in d)if(d.hasOwnProperty(_)&&(I=d[_],I!=null))switch(_){case"value":p=I;break;case"defaultValue":b=I;break;case"children":N=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(n(91));break;default:Rt(s,o,_,I,d,null)}Fj(s,p,b,N);return;case"option":for(V in d)d.hasOwnProperty(V)&&(p=d[V],p!=null)&&(V==="selected"?s.selected=p&&typeof p!="function"&&typeof p!="symbol":Rt(s,o,V,p,d,null));return;case"dialog":mt("beforetoggle",s),mt("toggle",s),mt("cancel",s),mt("close",s);break;case"iframe":case"object":mt("load",s);break;case"video":case"audio":for(p=0;p<Su.length;p++)mt(Su[p],s);break;case"image":mt("error",s),mt("load",s);break;case"details":mt("toggle",s);break;case"embed":case"source":case"link":mt("error",s),mt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in d)if(d.hasOwnProperty(se)&&(p=d[se],p!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Rt(s,o,se,p,d,null)}return;default:if(Fx(o)){for(ve in d)d.hasOwnProperty(ve)&&(p=d[ve],p!==void 0&&S0(s,o,ve,p,d,void 0));return}}for(I in d)d.hasOwnProperty(I)&&(p=d[I],p!=null&&Rt(s,o,I,p,d,null))}function vL(s,o,d,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,N=null,_=null,I=null,V=null,se=null,ve=null;for(me in d){var je=d[me];if(d.hasOwnProperty(me)&&je!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":V=je;default:p.hasOwnProperty(me)||Rt(s,o,me,null,p,je)}}for(var oe in p){var me=p[oe];if(je=d[oe],p.hasOwnProperty(oe)&&(me!=null||je!=null))switch(oe){case"type":N=me;break;case"name":b=me;break;case"checked":se=me;break;case"defaultChecked":ve=me;break;case"value":_=me;break;case"defaultValue":I=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(n(137,o));break;default:me!==je&&Rt(s,o,oe,me,p,je)}}Rx(s,_,I,V,se,ve,N,b);return;case"select":me=_=I=oe=null;for(N in d)if(V=d[N],d.hasOwnProperty(N)&&V!=null)switch(N){case"value":break;case"multiple":me=V;default:p.hasOwnProperty(N)||Rt(s,o,N,null,p,V)}for(b in p)if(N=p[b],V=d[b],p.hasOwnProperty(b)&&(N!=null||V!=null))switch(b){case"value":oe=N;break;case"defaultValue":I=N;break;case"multiple":_=N;default:N!==V&&Rt(s,o,b,N,p,V)}o=I,d=_,p=me,oe!=null?io(s,!!d,oe,!1):!!p!=!!d&&(o!=null?io(s,!!d,o,!0):io(s,!!d,d?[]:"",!1));return;case"textarea":me=oe=null;for(I in d)if(b=d[I],d.hasOwnProperty(I)&&b!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Rt(s,o,I,null,p,b)}for(_ in p)if(b=p[_],N=d[_],p.hasOwnProperty(_)&&(b!=null||N!=null))switch(_){case"value":oe=b;break;case"defaultValue":me=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==N&&Rt(s,o,_,b,p,N)}Lj(s,oe,me);return;case"option":for(var $e in d)oe=d[$e],d.hasOwnProperty($e)&&oe!=null&&!p.hasOwnProperty($e)&&($e==="selected"?s.selected=!1:Rt(s,o,$e,null,p,oe));for(V in p)oe=p[V],me=d[V],p.hasOwnProperty(V)&&oe!==me&&(oe!=null||me!=null)&&(V==="selected"?s.selected=oe&&typeof oe!="function"&&typeof oe!="symbol":Rt(s,o,V,oe,p,me));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in d)oe=d[Xe],d.hasOwnProperty(Xe)&&oe!=null&&!p.hasOwnProperty(Xe)&&Rt(s,o,Xe,null,p,oe);for(se in p)if(oe=p[se],me=d[se],p.hasOwnProperty(se)&&oe!==me&&(oe!=null||me!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(n(137,o));break;default:Rt(s,o,se,oe,p,me)}return;default:if(Fx(o)){for(var Lt in d)oe=d[Lt],d.hasOwnProperty(Lt)&&oe!==void 0&&!p.hasOwnProperty(Lt)&&S0(s,o,Lt,void 0,p,oe);for(ve in p)oe=p[ve],me=d[ve],!p.hasOwnProperty(ve)||oe===me||oe===void 0&&me===void 0||S0(s,o,ve,oe,p,me);return}}for(var ee in d)oe=d[ee],d.hasOwnProperty(ee)&&oe!=null&&!p.hasOwnProperty(ee)&&Rt(s,o,ee,null,p,oe);for(je in p)oe=p[je],me=d[je],!p.hasOwnProperty(je)||oe===me||oe==null&&me==null||Rt(s,o,je,oe,p,me)}function $S(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gL(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var b=d[p],N=b.transferSize,_=b.initiatorType,I=b.duration;if(N&&I&&$S(_)){for(_=0,I=b.responseEnd,p+=1;p<d.length;p++){var V=d[p],se=V.startTime;if(se>I)break;var ve=V.transferSize,je=V.initiatorType;ve&&$S(je)&&(V=V.responseEnd,_+=ve*(V<I?1:(I-se)/(V-se)))}if(--p,o+=8*(N+_)/(b.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var C0=null,A0=null;function im(s){return s.nodeType===9?s:s.ownerDocument}function qS(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function HS(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function k0(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var M0=null;function bL(){var s=window.event;return s&&s.type==="popstate"?s===M0?!1:(M0=s,!0):(M0=null,!1)}var US=typeof setTimeout=="function"?setTimeout:void 0,yL=typeof clearTimeout=="function"?clearTimeout:void 0,YS=typeof Promise=="function"?Promise:void 0,wL=typeof queueMicrotask=="function"?queueMicrotask:typeof YS<"u"?function(s){return YS.resolve(null).then(s).catch(jL)}:US;function jL(s){setTimeout(function(){throw s})}function Cs(s){return s==="head"}function VS(s,o){var d=o,p=0;do{var b=d.nextSibling;if(s.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"||d==="/&"){if(p===0){s.removeChild(b),Fo(o);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")Au(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,Au(d);for(var N=d.firstChild;N;){var _=N.nextSibling,I=N.nodeName;N[nl]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=_}}else d==="body"&&Au(s.ownerDocument.body);d=b}while(d);Fo(o)}function GS(s,o){var d=s;s=0;do{var p=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=p}while(d)}function D0(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":D0(d),Yc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function NL(s,o,d,p){for(;s.nodeType===1;){var b=d;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[nl])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(N=s.getAttribute("rel"),N==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(N!==b.rel||s.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||s.getAttribute("title")!==(b.title==null?null:b.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(N=s.getAttribute("src"),(N!==(b.src==null?null:b.src)||s.getAttribute("type")!==(b.type==null?null:b.type)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&N&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var N=b.name==null?null:""+b.name;if(b.type==="hidden"&&s.getAttribute("name")===N)return s}else return s;if(s=Kn(s.nextSibling),s===null)break}return null}function SL(s,o,d){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=Kn(s.nextSibling),s===null))return null;return s}function WS(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Kn(s.nextSibling),s===null))return null;return s}function E0(s){return s.data==="$?"||s.data==="$~"}function _0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function CL(s,o){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||d.readyState!=="loading")o();else{var p=function(){o(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),s._reactRetry=p}}function Kn(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var O0=null;function KS(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(o===0)return Kn(s.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}s=s.nextSibling}return null}function QS(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return s;o--}else d!=="/$"&&d!=="/&"||o++}s=s.previousSibling}return null}function XS(s,o,d){switch(o=im(d),s){case"html":if(s=o.documentElement,!s)throw Error(n(452));return s;case"head":if(s=o.head,!s)throw Error(n(453));return s;case"body":if(s=o.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function Au(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Yc(s)}var Qn=new Map,ZS=new Set;function sm(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ei=F.d;F.d={f:AL,r:kL,D:ML,C:DL,L:EL,m:_L,X:TL,S:OL,M:PL};function AL(){var s=Ei.f(),o=Xf();return s||o}function kL(s){var o=ss(s);o!==null&&o.tag===5&&o.type==="form"?h2(o):Ei.r(s)}var Io=typeof document>"u"?null:document;function JS(s,o,d){var p=Io;if(p&&typeof o=="string"&&o){var b=qn(o);b='link[rel="'+s+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),ZS.has(b)||(ZS.add(b),s={rel:s,crossOrigin:d,href:o},p.querySelector(b)===null&&(o=p.createElement("link"),Ur(o,"link",s),yr(o),p.head.appendChild(o)))}}function ML(s){Ei.D(s),JS("dns-prefetch",s,null)}function DL(s,o){Ei.C(s,o),JS("preconnect",s,o)}function EL(s,o,d){Ei.L(s,o,d);var p=Io;if(p&&s&&o){var b='link[rel="preload"][as="'+qn(o)+'"]';o==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+qn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+qn(d.imageSizes)+'"]')):b+='[href="'+qn(s)+'"]';var N=b;switch(o){case"style":N=Ro(s);break;case"script":N=Lo(s)}Qn.has(N)||(s=x({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:s,as:o},d),Qn.set(N,s),p.querySelector(b)!==null||o==="style"&&p.querySelector(ku(N))||o==="script"&&p.querySelector(Mu(N))||(o=p.createElement("link"),Ur(o,"link",s),yr(o),p.head.appendChild(o)))}}function _L(s,o){Ei.m(s,o);var d=Io;if(d&&s){var p=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+qn(p)+'"][href="'+qn(s)+'"]',N=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Lo(s)}if(!Qn.has(N)&&(s=x({rel:"modulepreload",href:s},o),Qn.set(N,s),d.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Mu(N)))return}p=d.createElement("link"),Ur(p,"link",s),yr(p),d.head.appendChild(p)}}}function OL(s,o,d){Ei.S(s,o,d);var p=Io;if(p&&s){var b=ls(p).hoistableStyles,N=Ro(s);o=o||"default";var _=b.get(N);if(!_){var I={loading:0,preload:null};if(_=p.querySelector(ku(N)))I.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":o},d),(d=Qn.get(N))&&T0(s,d);var V=_=p.createElement("link");yr(V),Ur(V,"link",s),V._p=new Promise(function(se,ve){V.onload=se,V.onerror=ve}),V.addEventListener("load",function(){I.loading|=1}),V.addEventListener("error",function(){I.loading|=2}),I.loading|=4,lm(_,o,p)}_={type:"stylesheet",instance:_,count:1,state:I},b.set(N,_)}}}function TL(s,o){Ei.X(s,o);var d=Io;if(d&&s){var p=ls(d).hoistableScripts,b=Lo(s),N=p.get(b);N||(N=d.querySelector(Mu(b)),N||(s=x({src:s,async:!0},o),(o=Qn.get(b))&&P0(s,o),N=d.createElement("script"),yr(N),Ur(N,"link",s),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(b,N))}}function PL(s,o){Ei.M(s,o);var d=Io;if(d&&s){var p=ls(d).hoistableScripts,b=Lo(s),N=p.get(b);N||(N=d.querySelector(Mu(b)),N||(s=x({src:s,async:!0,type:"module"},o),(o=Qn.get(b))&&P0(s,o),N=d.createElement("script"),yr(N),Ur(N,"link",s),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(b,N))}}function eC(s,o,d,p){var b=(b=de.current)?sm(b):null;if(!b)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=Ro(d.href),d=ls(b).hoistableStyles,p=d.get(o),p||(p={type:"style",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=Ro(d.href);var N=ls(b).hoistableStyles,_=N.get(s);if(_||(b=b.ownerDocument||b,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(s,_),(N=b.querySelector(ku(s)))&&!N._p&&(_.instance=N,_.state.loading=5),Qn.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Qn.set(s,d),N||IL(b,s,d,_.state))),o&&p===null)throw Error(n(528,""));return _}if(o&&p!==null)throw Error(n(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Lo(d),d=ls(b).hoistableScripts,p=d.get(o),p||(p={type:"script",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Ro(s){return'href="'+qn(s)+'"'}function ku(s){return'link[rel="stylesheet"]['+s+"]"}function tC(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function IL(s,o,d,p){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=s.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),Ur(o,"link",d),yr(o),s.head.appendChild(o))}function Lo(s){return'[src="'+qn(s)+'"]'}function Mu(s){return"script[async]"+s}function rC(s,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var p=s.querySelector('style[data-href~="'+qn(d.href)+'"]');if(p)return o.instance=p,yr(p),p;var b=x({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),yr(p),Ur(p,"style",b),lm(p,d.precedence,s),o.instance=p;case"stylesheet":b=Ro(d.href);var N=s.querySelector(ku(b));if(N)return o.state.loading|=4,o.instance=N,yr(N),N;p=tC(d),(b=Qn.get(b))&&T0(p,b),N=(s.ownerDocument||s).createElement("link"),yr(N);var _=N;return _._p=new Promise(function(I,V){_.onload=I,_.onerror=V}),Ur(N,"link",p),o.state.loading|=4,lm(N,d.precedence,s),o.instance=N;case"script":return N=Lo(d.src),(b=s.querySelector(Mu(N)))?(o.instance=b,yr(b),b):(p=d,(b=Qn.get(N))&&(p=x({},d),P0(p,b)),s=s.ownerDocument||s,b=s.createElement("script"),yr(b),Ur(b,"link",p),s.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,lm(p,d.precedence,s));return o.instance}function lm(s,o,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,N=b,_=0;_<p.length;_++){var I=p[_];if(I.dataset.precedence===o)N=I;else if(N!==b)break}N?N.parentNode.insertBefore(s,N.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(s,o.firstChild))}function T0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function P0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var om=null;function nC(s,o,d){if(om===null){var p=new Map,b=om=new Map;b.set(d,p)}else b=om,p=b.get(d),p||(p=new Map,b.set(d,p));if(p.has(s))return p;for(p.set(s,null),d=d.getElementsByTagName(s),b=0;b<d.length;b++){var N=d[b];if(!(N[nl]||N[Dr]||s==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var _=N.getAttribute(o)||"";_=s+_;var I=p.get(_);I?I.push(N):p.set(_,[N])}}return p}function aC(s,o,d){s=s.ownerDocument||s,s.head.insertBefore(d,o==="title"?s.querySelector("head > title"):null)}function RL(s,o,d){if(d===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(s=o.disabled,typeof o.precedence=="string"&&s==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function iC(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function LL(s,o,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var b=Ro(p.href),N=o.querySelector(ku(b));if(N){o=N._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=cm.bind(s),o.then(s,s)),d.state.loading|=4,d.instance=N,yr(N);return}N=o.ownerDocument||o,p=tC(p),(b=Qn.get(b))&&T0(p,b),N=N.createElement("link"),yr(N);var _=N;_._p=new Promise(function(I,V){_.onload=I,_.onerror=V}),Ur(N,"link",p),d.instance=N}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=cm.bind(s),o.addEventListener("load",d),o.addEventListener("error",d))}}var I0=0;function FL(s,o){return s.stylesheets&&s.count===0&&dm(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var p=setTimeout(function(){if(s.stylesheets&&dm(s,s.stylesheets),s.unsuspend){var N=s.unsuspend;s.unsuspend=null,N()}},6e4+o);0<s.imgBytes&&I0===0&&(I0=62500*gL());var b=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&dm(s,s.stylesheets),s.unsuspend)){var N=s.unsuspend;s.unsuspend=null,N()}},(s.imgBytes>I0?50:800)+o);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function cm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var um=null;function dm(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,um=new Map,o.forEach(zL,s),um=null,cm.call(s))}function zL(s,o){if(!(o.state.loading&4)){var d=um.get(s);if(d)var p=d.get(null);else{d=new Map,um.set(s,d);for(var b=s.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<b.length;N++){var _=b[N];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(d.set(_.dataset.precedence,_),p=_)}p&&d.set(null,p)}b=o.instance,_=b.getAttribute("data-precedence"),N=d.get(_)||p,N===p&&d.set(null,b),d.set(_,b),this.count++,p=cm.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),N?N.parentNode.insertBefore(b,N.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(b,s.firstChild)),o.state.loading|=4}}var Du={$$typeof:A,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function BL(s,o,d,p,b,N,_,I,V){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_a(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_a(0),this.hiddenUpdates=_a(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=N,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function sC(s,o,d,p,b,N,_,I,V,se,ve,je){return s=new BL(s,o,d,_,V,se,ve,je,I),o=1,N===!0&&(o|=24),N=Sn(3,null,null,o),s.current=N,N.stateNode=s,o=pv(),o.refCount++,s.pooledCache=o,o.refCount++,N.memoizedState={element:p,isDehydrated:d,cache:o},gv(N),s}function lC(s){return s?(s=po,s):po}function oC(s,o,d,p,b,N){b=lC(b),p.context===null?p.context=b:p.pendingContext=b,p=ps(o),p.payload={element:d},N=N===void 0?null:N,N!==null&&(p.callback=N),d=hs(s,p,o),d!==null&&(mn(d,s,o),lu(d,s,o))}function cC(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<o?d:o}}function R0(s,o){cC(s,o),(s=s.alternate)&&cC(s,o)}function uC(s){if(s.tag===13||s.tag===31){var o=cl(s,67108864);o!==null&&mn(o,s,67108864),R0(s,67108864)}}function dC(s){if(s.tag===13||s.tag===31){var o=Dn();o=qc(o);var d=cl(s,o);d!==null&&mn(d,s,o),R0(s,o)}}var fm=!0;function $L(s,o,d,p){var b=R.T;R.T=null;var N=F.p;try{F.p=2,L0(s,o,d,p)}finally{F.p=N,R.T=b}}function qL(s,o,d,p){var b=R.T;R.T=null;var N=F.p;try{F.p=8,L0(s,o,d,p)}finally{F.p=N,R.T=b}}function L0(s,o,d,p){if(fm){var b=F0(p);if(b===null)N0(s,o,p,mm,d),mC(s,p);else if(UL(b,s,o,d,p))p.stopPropagation();else if(mC(s,p),o&4&&-1<HL.indexOf(s)){for(;b!==null;){var N=ss(b);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var _=ne(N.pendingLanes);if(_!==0){var I=N;for(I.pendingLanes|=2,I.entangledLanes|=2;_;){var V=1<<31-Ke(_);I.entanglements[1]|=V,_&=~V}za(N),(Ct&6)===0&&(Kf=be()+500,Nu(0))}}break;case 31:case 13:I=cl(N,2),I!==null&&mn(I,N,2),Xf(),R0(N,2)}if(N=F0(p),N===null&&N0(s,o,p,mm,d),N===b)break;b=N}b!==null&&p.stopPropagation()}else N0(s,o,p,null,d)}}function F0(s){return s=Bx(s),z0(s)}var mm=null;function z0(s){if(mm=null,s=is(s),s!==null){var o=l(s);if(o===null)s=null;else{var d=o.tag;if(d===13){if(s=c(o),s!==null)return s;s=null}else if(d===31){if(s=u(o),s!==null)return s;s=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return mm=s,null}function fC(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qe()){case G:return 2;case q:return 8;case X:case Ce:return 32;case Fe:return 268435456;default:return 32}default:return 32}}var B0=!1,As=null,ks=null,Ms=null,Eu=new Map,_u=new Map,Ds=[],HL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mC(s,o){switch(s){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":Eu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":_u.delete(o.pointerId)}}function Ou(s,o,d,p,b,N){return s===null||s.nativeEvent!==N?(s={blockedOn:o,domEventName:d,eventSystemFlags:p,nativeEvent:N,targetContainers:[b]},o!==null&&(o=ss(o),o!==null&&uC(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),s)}function UL(s,o,d,p,b){switch(o){case"focusin":return As=Ou(As,s,o,d,p,b),!0;case"dragenter":return ks=Ou(ks,s,o,d,p,b),!0;case"mouseover":return Ms=Ou(Ms,s,o,d,p,b),!0;case"pointerover":var N=b.pointerId;return Eu.set(N,Ou(Eu.get(N)||null,s,o,d,p,b)),!0;case"gotpointercapture":return N=b.pointerId,_u.set(N,Ou(_u.get(N)||null,s,o,d,p,b)),!0}return!1}function pC(s){var o=is(s.target);if(o!==null){var d=l(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){s.blockedOn=o,sf(s.priority,function(){dC(d)});return}}else if(o===31){if(o=u(d),o!==null){s.blockedOn=o,sf(s.priority,function(){dC(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function pm(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var d=F0(s.nativeEvent);if(d===null){d=s.nativeEvent;var p=new d.constructor(d.type,d);zx=p,d.target.dispatchEvent(p),zx=null}else return o=ss(d),o!==null&&uC(o),s.blockedOn=d,!1;o.shift()}return!0}function hC(s,o,d){pm(s)&&d.delete(o)}function YL(){B0=!1,As!==null&&pm(As)&&(As=null),ks!==null&&pm(ks)&&(ks=null),Ms!==null&&pm(Ms)&&(Ms=null),Eu.forEach(hC),_u.forEach(hC)}function hm(s,o){s.blockedOn===o&&(s.blockedOn=null,B0||(B0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,YL)))}var xm=null;function xC(s){xm!==s&&(xm=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){xm===s&&(xm=null);for(var o=0;o<s.length;o+=3){var d=s[o],p=s[o+1],b=s[o+2];if(typeof p!="function"){if(z0(p||d)===null)continue;break}var N=ss(d);N!==null&&(s.splice(o,3),o-=3,Fv(N,{pending:!0,data:b,method:d.method,action:p},p,b))}}))}function Fo(s){function o(V){return hm(V,s)}As!==null&&hm(As,s),ks!==null&&hm(ks,s),Ms!==null&&hm(Ms,s),Eu.forEach(o),_u.forEach(o);for(var d=0;d<Ds.length;d++){var p=Ds[d];p.blockedOn===s&&(p.blockedOn=null)}for(;0<Ds.length&&(d=Ds[0],d.blockedOn===null);)pC(d),d.blockedOn===null&&Ds.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var b=d[p],N=d[p+1],_=b[Kr]||null;if(typeof N=="function")_||xC(d);else if(_){var I=null;if(N&&N.hasAttribute("formAction")){if(b=N,_=N[Kr]||null)I=_.formAction;else if(z0(b)!==null)continue}else I=_.action;typeof I=="function"?d[p+1]=I:(d.splice(p,3),p-=3),xC(d)}}}function vC(){function s(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(_){return b=_})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function $0(s){this._internalRoot=s}vm.prototype.render=$0.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));var d=o.current,p=Dn();oC(d,p,s,o,null,null)},vm.prototype.unmount=$0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;oC(s.current,2,null,s,null,null),Xf(),o[as]=null}};function vm(s){this._internalRoot=s}vm.prototype.unstable_scheduleHydration=function(s){if(s){var o=af();s={blockedOn:null,target:s,priority:o};for(var d=0;d<Ds.length&&o!==0&&o<Ds[d].priority;d++);Ds.splice(d,0,s),d===0&&pC(s)}};var gC=t.version;if(gC!=="19.2.4")throw Error(n(527,gC,"19.2.4"));F.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=m(o),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var VL={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gm.isDisabled&&gm.supportsFiber)try{qe=gm.inject(VL),De=gm}catch{}}return Pu.createRoot=function(s,o){if(!i(s))throw Error(n(299));var d=!1,p="",b=C2,N=A2,_=k2;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),o=sC(s,1,!1,null,null,d,p,null,b,N,_,vC),s[as]=o.current,j0(s),new $0(o)},Pu.hydrateRoot=function(s,o,d){if(!i(s))throw Error(n(299));var p=!1,b="",N=C2,_=A2,I=k2,V=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(_=d.onCaughtError),d.onRecoverableError!==void 0&&(I=d.onRecoverableError),d.formState!==void 0&&(V=d.formState)),o=sC(s,1,!0,o,d??null,p,b,V,N,_,I,vC),o.context=lC(null),d=o.current,p=Dn(),p=qc(p),b=ps(p),b.callback=null,hs(d,b,p),d=p,o.current.lanes=d,Oa(o,d),za(o),s[as]=o.current,j0(s),new vm(o)},Pu.version="19.2.4",Pu}var MC;function r6(){if(MC)return U0.exports;MC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),U0.exports=t6(),U0.exports}var n6=r6();var DC="popstate";function a6(e={}){function t(n,i){let{pathname:l,search:c,hash:u}=n.location;return ty("",{pathname:l,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:ld(i)}return s6(t,r,null,e)}function er(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function i6(){return Math.random().toString(36).substring(2,10)}function EC(e,t){return{usr:e.state,key:e.key,idx:t}}function ty(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Sc(t):t,state:r,key:t&&t.key||n||i6()}}function ld({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Sc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function s6(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:l=!1}=n,c=i.history,u="POP",f=null,m=h();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function h(){return(c.state||{idx:null}).idx}function x(){u="POP";let w=h(),C=w==null?null:w-m;m=w,f&&f({action:u,location:y.location,delta:C})}function v(w,C){u="PUSH";let k=ty(y.location,w,C);m=h()+1;let A=EC(k,m),M=y.createHref(k);try{c.pushState(A,"",M)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(M)}l&&f&&f({action:u,location:y.location,delta:1})}function g(w,C){u="REPLACE";let k=ty(y.location,w,C);m=h();let A=EC(k,m),M=y.createHref(k);c.replaceState(A,"",M),l&&f&&f({action:u,location:y.location,delta:0})}function S(w){return l6(w)}let y={get action(){return u},get location(){return e(i,c)},listen(w){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(DC,x),f=w,()=>{i.removeEventListener(DC,x),f=null}},createHref(w){return t(i,w)},createURL:S,encodeLocation(w){let C=S(w);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:g,go(w){return c.go(w)}};return y}function l6(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),er(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:ld(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function s_(e,t,r="/"){return o6(e,t,r,!1)}function o6(e,t,r,n){let i=typeof t=="string"?Sc(t):t,l=$i(i.pathname||"/",r);if(l==null)return null;let c=l_(e);c6(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let m=y6(l);u=g6(c[f],m,n)}return u}function l_(e,t=[],r=[],n="",i=!1){let l=(c,u,f=i,m)=>{let h={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&f)return;er(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let x=Li([n,h.relativePath]),v=r.concat(h);c.children&&c.children.length>0&&(er(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),l_(c.children,t,v,x,f)),!(c.path==null&&!c.index)&&t.push({path:x,score:x6(x,c.index),routesMeta:v})};return e.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))l(c,u);else for(let f of o_(c.path))l(c,u,!0,f)}),t}function o_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return i?[l,""]:[l];let c=o_(n.join("/")),u=[];return u.push(...c.map(f=>f===""?l:[l,f].join("/"))),i&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function c6(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:v6(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var u6=/^:[\w-]+$/,d6=3,f6=2,m6=1,p6=10,h6=-2,_C=e=>e==="*";function x6(e,t){let r=e.split("/"),n=r.length;return r.some(_C)&&(n+=h6),t&&(n+=f6),r.filter(i=>!_C(i)).reduce((i,l)=>i+(u6.test(l)?d6:l===""?m6:p6),n)}function v6(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function g6(e,t,r=!1){let{routesMeta:n}=e,i={},l="/",c=[];for(let u=0;u<n.length;++u){let f=n[u],m=u===n.length-1,h=l==="/"?t:t.slice(l.length)||"/",x=jp({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},h),v=f.route;if(!x&&m&&r&&!n[n.length-1].route.index&&(x=jp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!x)return null;Object.assign(i,x.params),c.push({params:i,pathname:Li([l,x.pathname]),pathnameBase:S6(Li([l,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(l=Li([l,x.pathnameBase]))}return c}function jp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=b6(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((m,{paramName:h,isOptional:x},v)=>{if(h==="*"){let S=u[v]||"";c=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const g=u[v];return x&&!g?m[h]=void 0:m[h]=(g||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function b6(e,t=!1,r=!0){Sa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function y6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function $i(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var w6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function j6(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Sc(e):e,l;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?l=OC(r.substring(1),"/"):l=OC(r,t)):l=t,{pathname:l,search:C6(n),hash:A6(i)}}function OC(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function W0(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N6(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function m1(e){let t=N6(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function p1(e,t,r,n=!1){let i;typeof e=="string"?i=Sc(e):(i={...e},er(!i.pathname||!i.pathname.includes("?"),W0("?","pathname","search",i)),er(!i.pathname||!i.pathname.includes("#"),W0("#","pathname","hash",i)),er(!i.search||!i.search.includes("#"),W0("#","search","hash",i)));let l=e===""||i.pathname==="",c=l?"/":i.pathname,u;if(c==null)u=r;else{let x=t.length-1;if(!n&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),x-=1;i.pathname=v.join("/")}u=x>=0?t[x]:"/"}let f=j6(i,u),m=c&&c!=="/"&&c.endsWith("/"),h=(l||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(m||h)&&(f.pathname+="/"),f}var Li=e=>e.join("/").replace(/\/\/+/g,"/"),S6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),C6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,A6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,k6=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function M6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function D6(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var c_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function u_(e,t){let r=e;if(typeof r!="string"||!w6.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(c_)try{let l=new URL(window.location.href),c=r.startsWith("//")?new URL(l.protocol+r):new URL(r),u=$i(c.pathname,t);c.origin===l.origin&&u!=null?r=u+c.search+c.hash:i=!0}catch{Sa(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var d_=["POST","PUT","PATCH","DELETE"];new Set(d_);var E6=["GET",...d_];new Set(E6);var Cc=j.createContext(null);Cc.displayName="DataRouter";var Ph=j.createContext(null);Ph.displayName="DataRouterState";var _6=j.createContext(!1),f_=j.createContext({isTransitioning:!1});f_.displayName="ViewTransition";var O6=j.createContext(new Map);O6.displayName="Fetchers";var T6=j.createContext(null);T6.displayName="Await";var $n=j.createContext(null);$n.displayName="Navigation";var Md=j.createContext(null);Md.displayName="Location";var ka=j.createContext({outlet:null,matches:[],isDataRoute:!1});ka.displayName="Route";var h1=j.createContext(null);h1.displayName="RouteError";var m_="REACT_ROUTER_ERROR",P6="REDIRECT",I6="ROUTE_ERROR_RESPONSE";function R6(e){if(e.startsWith(`${m_}:${P6}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function L6(e){if(e.startsWith(`${m_}:${I6}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new k6(t.status,t.statusText,t.data)}catch{}}function F6(e,{relative:t}={}){er(Ac(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=j.useContext($n),{hash:i,pathname:l,search:c}=Dd(e,{relative:t}),u=l;return r!=="/"&&(u=l==="/"?r:Li([r,l])),n.createHref({pathname:u,search:c,hash:i})}function Ac(){return j.useContext(Md)!=null}function Ma(){return er(Ac(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Md).location}var p_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function h_(e){j.useContext($n).static||j.useLayoutEffect(e)}function Gs(){let{isDataRoute:e}=j.useContext(ka);return e?J6():z6()}function z6(){er(Ac(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(Cc),{basename:t,navigator:r}=j.useContext($n),{matches:n}=j.useContext(ka),{pathname:i}=Ma(),l=JSON.stringify(m1(n)),c=j.useRef(!1);return h_(()=>{c.current=!0}),j.useCallback((f,m={})=>{if(Sa(c.current,p_),!c.current)return;if(typeof f=="number"){r.go(f);return}let h=p1(f,JSON.parse(l),i,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Li([t,h.pathname])),(m.replace?r.replace:r.push)(h,m.state,m)},[t,r,l,i,e])}var B6=j.createContext(null);function $6(e){let t=j.useContext(ka).outlet;return j.useMemo(()=>t&&j.createElement(B6.Provider,{value:e},t),[t,e])}function Dd(e,{relative:t}={}){let{matches:r}=j.useContext(ka),{pathname:n}=Ma(),i=JSON.stringify(m1(r));return j.useMemo(()=>p1(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function q6(e,t){return x_(e,t)}function x_(e,t,r,n,i){er(Ac(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=j.useContext($n),{matches:c}=j.useContext(ka),u=c[c.length-1],f=u?u.params:{},m=u?u.pathname:"/",h=u?u.pathnameBase:"/",x=u&&u.route;{let k=x&&x.path||"";g_(m,!x||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let v=Ma(),g;if(t){let k=typeof t=="string"?Sc(t):t;er(h==="/"||k.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${k.pathname}" was given in the \`location\` prop.`),g=k}else g=v;let S=g.pathname||"/",y=S;if(h!=="/"){let k=h.replace(/^\//,"").split("/");y="/"+S.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=s_(e,{pathname:y});Sa(x||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Sa(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=G6(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:Li([h,l.encodeLocation?l.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:Li([h,l.encodeLocation?l.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),c,r,n,i);return t&&C?j.createElement(Md.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},C):C}function H6(){let e=Z6(),t=M6(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:i},r):null,c)}var U6=j.createElement(H6,null),v_=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=L6(e.digest);r&&(e=r)}let t=e!==void 0?j.createElement(ka.Provider,{value:this.props.routeContext},j.createElement(h1.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?j.createElement(Y6,{error:e},t):t}};v_.contextType=_6;var K0=new WeakMap;function Y6({children:e,error:t}){let{basename:r}=j.useContext($n);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=R6(t.digest);if(n){let i=K0.get(t);if(i)throw i;let l=u_(n.location,r);if(c_&&!K0.get(t))if(l.isExternal||n.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:n.replace}));throw K0.set(t,c),c}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function V6({routeContext:e,match:t,children:r}){let n=j.useContext(Cc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(ka.Provider,{value:e},r)}function G6(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,c=r?.errors;if(c!=null){let h=l.findIndex(x=>x.route.id&&c?.[x.route.id]!==void 0);er(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,h+1))}let u=!1,f=-1;if(r)for(let h=0;h<l.length;h++){let x=l[h];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(f=h),x.route.id){let{loaderData:v,errors:g}=r,S=x.route.loader&&!v.hasOwnProperty(x.route.id)&&(!g||g[x.route.id]===void 0);if(x.route.lazy||S){u=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let m=r&&n?(h,x)=>{n(h,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:D6(r.matches),errorInfo:x})}:void 0;return l.reduceRight((h,x,v)=>{let g,S=!1,y=null,w=null;r&&(g=c&&x.route.id?c[x.route.id]:void 0,y=x.route.errorElement||U6,u&&(f<0&&v===0?(g_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,w=null):f===v&&(S=!0,w=x.route.hydrateFallbackElement||null)));let C=t.concat(l.slice(0,v+1)),k=()=>{let A;return g?A=y:S?A=w:x.route.Component?A=j.createElement(x.route.Component,null):x.route.element?A=x.route.element:A=h,j.createElement(V6,{match:x,routeContext:{outlet:h,matches:C,isDataRoute:r!=null},children:A})};return r&&(x.route.ErrorBoundary||x.route.errorElement||v===0)?j.createElement(v_,{location:r.location,revalidation:r.revalidation,component:y,error:g,children:k(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:m}):k()},null)}function x1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W6(e){let t=j.useContext(Cc);return er(t,x1(e)),t}function K6(e){let t=j.useContext(Ph);return er(t,x1(e)),t}function Q6(e){let t=j.useContext(ka);return er(t,x1(e)),t}function v1(e){let t=Q6(e),r=t.matches[t.matches.length-1];return er(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function X6(){return v1("useRouteId")}function Z6(){let e=j.useContext(h1),t=K6("useRouteError"),r=v1("useRouteError");return e!==void 0?e:t.errors?.[r]}function J6(){let{router:e}=W6("useNavigate"),t=v1("useNavigate"),r=j.useRef(!1);return h_(()=>{r.current=!0}),j.useCallback(async(i,l={})=>{Sa(r.current,p_),r.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...l}))},[e,t])}var TC={};function g_(e,t,r){!t&&!TC[e]&&(TC[e]=!0,Sa(!1,r))}j.memo(e8);function e8({routes:e,future:t,state:r,onError:n}){return x_(e,void 0,r,n,t)}function ry({to:e,replace:t,state:r,relative:n}){er(Ac(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=j.useContext($n);Sa(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=j.useContext(ka),{pathname:c}=Ma(),u=Gs(),f=p1(e,m1(l),c,n==="path"),m=JSON.stringify(f);return j.useEffect(()=>{u(JSON.parse(m),{replace:t,state:r,relative:n})},[u,m,n,t,r]),null}function b_(e){return $6(e.context)}function Xt(e){er(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function t8({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:l=!1,unstable_useTransitions:c}){er(!Ac(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:u,navigator:i,static:l,unstable_useTransitions:c,future:{}}),[u,i,l,c]);typeof r=="string"&&(r=Sc(r));let{pathname:m="/",search:h="",hash:x="",state:v=null,key:g="default"}=r,S=j.useMemo(()=>{let y=$i(m,u);return y==null?null:{location:{pathname:y,search:h,hash:x,state:v,key:g},navigationType:n}},[u,m,h,x,v,g,n]);return Sa(S!=null,`<Router basename="${u}"> is not able to match the URL "${m}${h}${x}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:j.createElement($n.Provider,{value:f},j.createElement(Md.Provider,{children:t,value:S}))}function r8({children:e,location:t}){return q6(ny(e),t)}function ny(e,t=[]){let r=[];return j.Children.forEach(e,(n,i)=>{if(!j.isValidElement(n))return;let l=[...t,i];if(n.type===j.Fragment){r.push.apply(r,ny(n.props.children,l));return}er(n.type===Xt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),er(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=ny(n.props.children,l)),r.push(c)}),r}var sp="get",lp="application/x-www-form-urlencoded";function Ih(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function n8(e){return Ih(e)&&e.tagName.toLowerCase()==="button"}function a8(e){return Ih(e)&&e.tagName.toLowerCase()==="form"}function i8(e){return Ih(e)&&e.tagName.toLowerCase()==="input"}function s8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function l8(e,t){return e.button===0&&(!t||t==="_self")&&!s8(e)}var bm=null;function o8(){if(bm===null)try{new FormData(document.createElement("form"),0),bm=!1}catch{bm=!0}return bm}var c8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Q0(e){return e!=null&&!c8.has(e)?(Sa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lp}"`),null):e}function u8(e,t){let r,n,i,l,c;if(a8(e)){let u=e.getAttribute("action");n=u?$i(u,t):null,r=e.getAttribute("method")||sp,i=Q0(e.getAttribute("enctype"))||lp,l=new FormData(e)}else if(n8(e)||i8(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(n=f?$i(f,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||sp,i=Q0(e.getAttribute("formenctype"))||Q0(u.getAttribute("enctype"))||lp,l=new FormData(u,e),!o8()){let{name:m,type:h,value:x}=e;if(h==="image"){let v=m?`${m}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else m&&l.append(m,x)}}else{if(Ih(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=sp,n=null,i=lp,c=e}return l&&i==="text/plain"&&(c=l,l=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function g1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function d8(e,t,r,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:t&&$i(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function f8(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m8(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function p8(e,t,r){let n=await Promise.all(e.map(async i=>{let l=t.routes[i.route.id];if(l){let c=await f8(l,r);return c.links?c.links():[]}return[]}));return g8(n.flat(1).filter(m8).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function PC(e,t,r,n,i,l){let c=(f,m)=>r[m]?f.route.id!==r[m].route.id:!0,u=(f,m)=>r[m].pathname!==f.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==f.params["*"];return l==="assets"?t.filter((f,m)=>c(f,m)||u(f,m)):l==="data"?t.filter((f,m)=>{let h=n.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(c(f,m)||u(f,m))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function h8(e,t,{includeHydrateFallback:r}={}){return x8(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function x8(e){return[...new Set(e)]}function v8(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function g8(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let l=JSON.stringify(v8(i));return r.has(l)||(r.add(l),n.push({key:l,link:i})),n},[])}function y_(){let e=j.useContext(Cc);return g1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function b8(){let e=j.useContext(Ph);return g1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var b1=j.createContext(void 0);b1.displayName="FrameworkContext";function w_(){let e=j.useContext(b1);return g1(e,"You must render this element inside a <HydratedRouter> element"),e}function y8(e,t){let r=j.useContext(b1),[n,i]=j.useState(!1),[l,c]=j.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:m,onMouseLeave:h,onTouchStart:x}=t,v=j.useRef(null);j.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let y=C=>{C.forEach(k=>{c(k.isIntersecting)})},w=new IntersectionObserver(y,{threshold:.5});return v.current&&w.observe(v.current),()=>{w.disconnect()}}},[e]),j.useEffect(()=>{if(n){let y=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(y)}}},[n]);let g=()=>{i(!0)},S=()=>{i(!1),c(!1)};return r?e!=="intent"?[l,v,{}]:[l,v,{onFocus:Iu(u,g),onBlur:Iu(f,S),onMouseEnter:Iu(m,g),onMouseLeave:Iu(h,S),onTouchStart:Iu(x,g)}]:[!1,v,{}]}function Iu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function w8({page:e,...t}){let{router:r}=y_(),n=j.useMemo(()=>s_(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?j.createElement(N8,{page:e,matches:n,...t}):null}function j8(e){let{manifest:t,routeModules:r}=w_(),[n,i]=j.useState([]);return j.useEffect(()=>{let l=!1;return p8(e,t,r).then(c=>{l||i(c)}),()=>{l=!0}},[e,t,r]),n}function N8({page:e,matches:t,...r}){let n=Ma(),{future:i,manifest:l,routeModules:c}=w_(),{basename:u}=y_(),{loaderData:f,matches:m}=b8(),h=j.useMemo(()=>PC(e,t,m,l,n,"data"),[e,t,m,l,n]),x=j.useMemo(()=>PC(e,t,m,l,n,"assets"),[e,t,m,l,n]),v=j.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,w=!1;if(t.forEach(k=>{let A=l.routes[k.route.id];!A||!A.hasLoader||(!h.some(M=>M.route.id===k.route.id)&&k.route.id in f&&c[k.route.id]?.shouldRevalidate||A.hasClientLoader?w=!0:y.add(k.route.id))}),y.size===0)return[];let C=d8(e,u,i.unstable_trailingSlashAwareDataRequests,"data");return w&&y.size>0&&C.searchParams.set("_routes",t.filter(k=>y.has(k.route.id)).map(k=>k.route.id).join(",")),[C.pathname+C.search]},[u,i.unstable_trailingSlashAwareDataRequests,f,n,l,h,t,e,c]),g=j.useMemo(()=>h8(x,l),[x,l]),S=j8(x);return j.createElement(j.Fragment,null,v.map(y=>j.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),g.map(y=>j.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),S.map(({key:y,link:w})=>j.createElement("link",{key:y,nonce:r.nonce,...w,crossOrigin:w.crossOrigin??r.crossOrigin})))}function S8(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var C8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{C8&&(window.__reactRouterVersion="7.13.0")}catch{}function A8({basename:e,children:t,unstable_useTransitions:r,window:n}){let i=j.useRef();i.current==null&&(i.current=a6({window:n,v5Compat:!0}));let l=i.current,[c,u]=j.useState({action:l.action,location:l.location}),f=j.useCallback(m=>{r===!1?u(m):j.startTransition(()=>u(m))},[r]);return j.useLayoutEffect(()=>l.listen(f),[l,f]),j.createElement(t8,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:r})}var j_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_l=j.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:l,replace:c,state:u,target:f,to:m,preventScrollReset:h,viewTransition:x,unstable_defaultShouldRevalidate:v,...g},S){let{basename:y,unstable_useTransitions:w}=j.useContext($n),C=typeof m=="string"&&j_.test(m),k=u_(m,y);m=k.to;let A=F6(m,{relative:i}),[M,D,T]=y8(n,g),P=D8(m,{replace:c,state:u,target:f,preventScrollReset:h,relative:i,viewTransition:x,unstable_defaultShouldRevalidate:v,unstable_useTransitions:w});function O(L){t&&t(L),L.defaultPrevented||P(L)}let z=j.createElement("a",{...g,...T,href:k.absoluteURL||A,onClick:k.isExternal||l?t:O,ref:S8(S,D),target:f,"data-discover":!C&&r==="render"?"true":void 0});return M&&!C?j.createElement(j.Fragment,null,z,j.createElement(w8,{page:A})):z});_l.displayName="Link";var N_=j.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:l,to:c,viewTransition:u,children:f,...m},h){let x=Dd(c,{relative:m.relative}),v=Ma(),g=j.useContext(Ph),{navigator:S,basename:y}=j.useContext($n),w=g!=null&&P8(x)&&u===!0,C=S.encodeLocation?S.encodeLocation(x).pathname:x.pathname,k=v.pathname,A=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(k=k.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&y&&(A=$i(A,y)||A);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let D=k===C||!i&&k.startsWith(C)&&k.charAt(M)==="/",T=A!=null&&(A===C||!i&&A.startsWith(C)&&A.charAt(C.length)==="/"),P={isActive:D,isPending:T,isTransitioning:w},O=D?t:void 0,z;typeof n=="function"?z=n(P):z=[n,D?"active":null,T?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(P):l;return j.createElement(_l,{...m,"aria-current":O,className:z,ref:h,style:L,to:c,viewTransition:u},typeof f=="function"?f(P):f)});N_.displayName="NavLink";var k8=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:l,method:c=sp,action:u,onSubmit:f,relative:m,preventScrollReset:h,viewTransition:x,unstable_defaultShouldRevalidate:v,...g},S)=>{let{unstable_useTransitions:y}=j.useContext($n),w=O8(),C=T8(u,{relative:m}),k=c.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&j_.test(u),M=D=>{if(f&&f(D),D.defaultPrevented)return;D.preventDefault();let T=D.nativeEvent.submitter,P=T?.getAttribute("formmethod")||c,O=()=>w(T||D.currentTarget,{fetcherKey:t,method:P,navigate:r,replace:i,state:l,relative:m,preventScrollReset:h,viewTransition:x,unstable_defaultShouldRevalidate:v});y&&r!==!1?j.startTransition(()=>O()):O()};return j.createElement("form",{ref:S,method:k,action:C,onSubmit:n?f:M,...g,"data-discover":!A&&e==="render"?"true":void 0})});k8.displayName="Form";function M8(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S_(e){let t=j.useContext(Cc);return er(t,M8(e)),t}function D8(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let m=Gs(),h=Ma(),x=Dd(e,{relative:l});return j.useCallback(v=>{if(l8(v,t)){v.preventDefault();let g=r!==void 0?r:ld(h)===ld(x),S=()=>m(e,{replace:g,state:n,preventScrollReset:i,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:u});f?j.startTransition(()=>S()):S()}},[h,m,x,r,n,t,e,i,l,c,u,f])}var E8=0,_8=()=>`__${String(++E8)}__`;function O8(){let{router:e}=S_("useSubmit"),{basename:t}=j.useContext($n),r=X6(),n=e.fetch,i=e.navigate;return j.useCallback(async(l,c={})=>{let{action:u,method:f,encType:m,formData:h,body:x}=u8(l,t);if(c.navigate===!1){let v=c.fetcherKey||_8();await n(v,r,c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:h,body:x,formMethod:c.method||f,formEncType:c.encType||m,flushSync:c.flushSync})}else await i(c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:h,body:x,formMethod:c.method||f,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,i,t,r])}function T8(e,{relative:t}={}){let{basename:r}=j.useContext($n),n=j.useContext(ka);er(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),l={...Dd(e||".",{relative:t})},c=Ma();if(e==null){l.search=c.search;let u=new URLSearchParams(l.search),f=u.getAll("index");if(f.some(h=>h==="")){u.delete("index"),f.filter(x=>x).forEach(x=>u.append("index",x));let h=u.toString();l.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Li([r,l.pathname])),ld(l)}function P8(e,{relative:t}={}){let r=j.useContext(f_);er(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=S_("useViewTransitionState"),i=Dd(e,{relative:t});if(!r.isTransitioning)return!1;let l=$i(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=$i(r.nextLocation.pathname,n)||r.nextLocation.pathname;return jp(i.pathname,c)!=null||jp(i.pathname,l)!=null}var kc=i_();const I8=si(kc),R8="AKfycbxNnsmrDH4amuH7TBH-C7QGngbEMics1MQrmHpKIr2o6MGV5i36z-IAArogJdE4W_8a",y1="cf_access_token",w1="cf_token_expiry",j1="cf_user_name";function Np(){const e=localStorage.getItem(w1);return e&&Date.now()>Number(e)?(op(),null):localStorage.getItem(y1)}function IC(e,t=3500){localStorage.setItem(y1,e),localStorage.setItem(w1,String(Date.now()+t*1e3))}function op(){localStorage.removeItem(y1),localStorage.removeItem(w1),localStorage.removeItem(j1)}function RC(){return!!Np()}function LC(e){localStorage.setItem(j1,e)}function L8(){return localStorage.getItem(j1)||""}let ay=null;function F8(e){ay=e}async function Te(e,t={},r=!0){const n=Np();if(!n)throw new Error("Not authenticated. Please sign in.");const u=await(await fetch(`https://script.googleapis.com/v1/scripts/${R8}:run`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({function:"apiRouter",devMode:!1,parameters:[{action:e,params:t,userName:L8()}]})})).json();if(u.error){if(r&&(u.error.code===401||u.error.code===403||u.error.status==="UNAUTHENTICATED"||u.error.status==="PERMISSION_DENIED")&&ay)try{return await ay(),Te(e,t,!1)}catch{}if(u.error.details&&u.error.details.length>0){const f=u.error.details[0];throw new Error(f.errorMessage||"Script execution error")}throw new Error(u.error.message||"API error")}if(u.response&&u.response.result!==void 0){const f=u.response.result;if(f&&!f.success){const h=new Error(f.error||"Unknown error");throw h.code=f.code,h}const m=f?f.data:null;if(m&&m.success===!1)throw new Error(m.message||"Operation failed");return m}throw new Error("Unexpected response format")}const FC=()=>Te("auth:me"),z8=(e,t)=>Te("auth:invite",{email:e,name:t}),Sp=()=>Te("data:load-all"),C_=()=>Te("members:list"),A_=e=>Te("member:create",e),k_=e=>Te("member:update",e),M_=e=>Te("member:delete",{memberId:e}),D_=()=>Te("banks:list"),E_=e=>Te("bank:create",e),B8=e=>Te("bank:update",e),__=e=>Te("bank:delete",{accountId:e}),O_=()=>Te("invaccounts:list"),T_=e=>Te("invacct:create",e),$8=e=>Te("invacct:update",e),P_=e=>Te("invacct:delete",{accountId:e}),q8=()=>Te("portfolios:list"),H8=e=>Te("portfolio:create",e),U8=e=>Te("portfolio:update",e),Y8=e=>Te("portfolio:delete",{portfolioId:e}),V8=e=>Te("mf:invest",e),G8=e=>Te("mf:redeem",e),W8=e=>Te("mf:switch",e),K8=(e,t)=>Te("mf:allocations-update",{portfolioId:e,allocations:t}),Q8=()=>Te("funds:all"),X8=e=>Te("asset-allocation:save",e),I_=()=>Te("goals:list"),R_=e=>Te("goal:create",e),Z8=(e,t)=>Te("goal:update",{goalId:e,...t}),L_=e=>Te("goal:delete",{goalId:e}),J8=()=>Te("goal:mappings-list"),eF=(e,t)=>Te("goal:mappings-update",{goalId:e,mappings:t}),F_=()=>Te("insurance:list"),z_=e=>Te("insurance:create",e),tF=e=>Te("insurance:update",e),B_=e=>Te("insurance:delete",{policyId:e}),$_=()=>Te("liabilities:list"),q_=e=>Te("liability:create",e),rF=e=>Te("liability:update",e),H_=e=>Te("liability:delete",{liabilityId:e}),U_=()=>Te("otherinv:list"),Y_=e=>Te("otherinv:create",e),nF=e=>Te("otherinv:update",e),V_=e=>Te("otherinv:delete",{investmentId:e}),G_=()=>Te("stock-portfolios:list"),W_=e=>Te("stock-portfolio:create",e),aF=e=>Te("stock-portfolio:update",e),K_=e=>Te("stock-portfolio:delete",{portfolioId:e}),iF=()=>Te("stocks:all"),sF=e=>Te("stock:price",{symbol:e}),lF=e=>Te("stock:buy",e),oF=e=>Te("stock:sell",e),cF=e=>Te("mf-transaction:delete",{transactionId:e}),uF=e=>Te("mf-transaction:edit",e),dF=e=>Te("stock-transaction:edit",e),fF=e=>Te("stock-transaction:delete",{transactionId:e}),mF=()=>Te("mf-holdings:list"),pF=()=>Te("mf-transactions:list"),hF=()=>Te("stock-holdings:list-all"),xF=()=>Te("stock-transactions:list-all"),Q_=()=>Te("reminders:list"),X_=e=>Te("reminder:create",e),vF=e=>Te("reminder:update",e),Z_=e=>Te("reminder:delete",{reminderId:e}),gF=e=>Te("healthcheck:save",e),J_=()=>Te("healthcheck:get"),bF=()=>Te("settings:list"),yF=e=>Te("settings:update",e),wF=()=>Te("market:data"),jF=()=>Te("data:refresh-master"),NF=(e,t)=>Te("email:send-dashboard-pdf",{pdfBase64:e,fileName:t});typeof window<"u"&&(window._cf={callAPI:Te,checkTriggers:()=>Te("test:triggers"),diagnose:()=>Te("test:diagnose")});const SF="capital-friends",CF=1,yn="cache";let Ru=null;function Mc(){return Ru||(Ru=new Promise((e,t)=>{const r=indexedDB.open(SF,CF);r.onupgradeneeded=n=>{const i=n.target.result;i.objectStoreNames.contains(yn)||i.createObjectStore(yn,{keyPath:"key"})},r.onsuccess=()=>e(r.result),r.onerror=()=>{console.warn("[idb] Failed to open database:",r.error),Ru=null,t(r.error)}}),Ru)}async function eO(e){try{const t=await Mc();return new Promise(r=>{const i=t.transaction(yn,"readonly").objectStore(yn).get(e);i.onsuccess=()=>r(i.result?i.result.data:null),i.onerror=()=>r(null)})}catch{return null}}async function tO(e){try{const t=await Mc();return new Promise(r=>{const i=t.transaction(yn,"readonly").objectStore(yn).get(e);i.onsuccess=()=>r(i.result||null),i.onerror=()=>r(null)})}catch{return null}}async function tn(e,t){try{const r=await Mc();return new Promise(n=>{const i=r.transaction(yn,"readwrite");i.objectStore(yn).put({key:e,data:t,updatedAt:Date.now()}),i.oncomplete=()=>n(),i.onerror=()=>n()})}catch{}}async function AF(){try{const e=await Mc();return new Promise(t=>{const n=e.transaction(yn,"readonly").objectStore(yn).getAll();n.onsuccess=()=>{const i={};for(const l of n.result||[])i[l.key]=l.data;t(i)},n.onerror=()=>t({})})}catch{return{}}}async function X0(e){try{const t=await Mc();return new Promise(r=>{const n=t.transaction(yn,"readwrite"),i=n.objectStore(yn),l=Date.now();for(const[c,u]of Object.entries(e))i.put({key:c,data:u,updatedAt:l});n.oncomplete=()=>r(),n.onerror=()=>r()})}catch{}}async function kF(){try{const e=await Mc();return new Promise(t=>{const r=e.transaction(yn,"readwrite");r.objectStore(yn).clear(),r.oncomplete=()=>t(),r.onerror=()=>t()})}catch{}}const rO=j.createContext(null),MF="868467315292-7hfrvkh8pq8f1e2l3v38m6qrupboa295.apps.googleusercontent.com",DF=["https://www.googleapis.com/auth/spreadsheets","https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/gmail.send","https://www.googleapis.com/auth/script.scriptapp","openid","email","profile"].join(" "),N1="cf_user_profile";function zC(){try{const e=localStorage.getItem(N1);return e?JSON.parse(e):null}catch{return null}}function EF(e){try{localStorage.setItem(N1,JSON.stringify(e))}catch{}}function BC(){localStorage.removeItem(N1)}function _F({children:e}){const t=RC()?zC():null,[r,n]=j.useState(t),[i,l]=j.useState(!t),[c,u]=j.useState(null),f=j.useRef(null);function m(C){n(C),C?EF(C):BC()}j.useEffect(()=>{const C=()=>{if(!window.google?.accounts?.oauth2){setTimeout(C,200);return}f.current=window.google.accounts.oauth2.initTokenClient({client_id:MF,scope:DF,callback:h}),F8(g),RC()?v():l(!1)};C()},[]);async function h(C){if(C.error){u(C.error_description||C.error),l(!1);return}try{l(!0),u(null),IC(C.access_token,C.expires_in);const k=await x(C.access_token);LC(k.name||"");const A=await FC();m({email:A.email||k.email,name:A.name||k.name,role:A.role,picture:k.picture||""})}catch(k){u(k.message),op(),m(null)}finally{l(!1)}}async function x(C){const k=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${C}`}});if(!k.ok)throw new Error("Failed to fetch user profile");return k.json()}async function v(){const C=!!zC();try{const k=Np(),A=await x(k);LC(A.name||"");const M=await FC();m({email:M.email||A.email,name:M.name||A.name,role:M.role,picture:A.picture||""})}catch{op(),m(null)}finally{C||l(!1)}}function g(){return new Promise((C,k)=>{if(!f.current){k(new Error("Token client not initialized"));return}const A=f.current,M=A.callback;A.callback=D=>{A.callback=M,D.error?k(new Error(D.error)):(IC(D.access_token,D.expires_in),C())},A.requestAccessToken({prompt:""})})}const S=j.useCallback(()=>{f.current&&(u(null),f.current.requestAccessToken())},[]),y=j.useCallback(()=>{const C=Np();C&&window.google?.accounts?.oauth2&&window.google.accounts.oauth2.revoke(C),op(),BC(),kF(),sessionStorage.removeItem("cf_health_check"),n(null)},[]),w={user:r,loading:i,error:c,isAuthenticated:!!r,isOwner:r?.role==="owner",signIn:S,signOut:y};return a.jsx(rO.Provider,{value:w,children:e})}function eo(){const e=j.useContext(rO);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const nO=j.createContext();function OF({children:e}){const[t,r]=j.useState(()=>{const i=localStorage.getItem("cf-theme");return i||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")});j.useEffect(()=>{localStorage.setItem("cf-theme",t),document.documentElement.setAttribute("data-theme",t)},[t]);const n=()=>r(i=>i==="dark"?"light":"dark");return a.jsx(nO.Provider,{value:{theme:t,toggle:n},children:e})}function aO(){return j.useContext(nO)}const iO=j.createContext(),sO="cf_hc_done";function TF(){try{return sessionStorage.getItem(sO)==="1"?!0:null}catch{return null}}function zo(e){try{sessionStorage.setItem(sO,e?"1":"0")}catch{}}function PF({children:e}){const{isAuthenticated:t}=eo(),r=t?TF():null,[n,i]=j.useState(!0),[l,c]=j.useState(!1),[u,f]=j.useState(null),[m,h]=j.useState(null),[x,v]=j.useState(null),[g,S]=j.useState(null),[y,w]=j.useState(null),[C,k]=j.useState(null),[A,M]=j.useState(null),[D,T]=j.useState(null),[P,O]=j.useState(null),[z,L]=j.useState(null),[$,E]=j.useState(null),[J,Z]=j.useState(null),[te,R]=j.useState(null),[F,fe]=j.useState(null),[Se,H]=j.useState(null),[B,Q]=j.useState(null),[ue,xe]=j.useState(null),[U,de]=j.useState(null),[ie,ye]=j.useState(r!==null?r:null),[re,Me]=j.useState(null),Ve=j.useRef(!1),ge=j.useCallback(Y=>{Y&&("members"in Y&&h(Y.members||[]),"bankAccounts"in Y&&v(Y.bankAccounts||[]),"investments"in Y&&S(Y.investments||[]),"insurancePolicies"in Y&&w(Y.insurancePolicies||[]),"liabilities"in Y&&k(Y.liabilities||[]),"otherInvestments"in Y&&M(Y.otherInvestments||[]),"stockPortfolios"in Y&&T(Y.stockPortfolios||[]),"stockHoldings"in Y&&O(Y.stockHoldings||[]),"stockTransactions"in Y&&L(Y.stockTransactions||[]),"mfPortfolios"in Y&&E(Y.mfPortfolios||[]),"mfHoldings"in Y&&Z((Y.mfHoldings||[]).map(Ae=>Ae.schemeCode?Ae:{...Ae,schemeCode:Ae.fundCode})),"mfTransactions"in Y&&R(Y.mfTransactions||[]),"goals"in Y&&fe(Y.goals||[]),"reminders"in Y&&H(Y.reminders||[]),"goalPortfolioMappings"in Y&&Q(Y.goalPortfolioMappings||[]),"assetAllocations"in Y&&xe(Y.assetAllocations||[]),"settings"in Y&&de(Y.settings||{}))},[]),ze=j.useCallback(Y=>{X0({members:Y.members||[],bankAccounts:Y.bankAccounts||[],investments:Y.investments||[],insurancePolicies:Y.insurancePolicies||[],liabilities:Y.liabilities||[],otherInvestments:Y.otherInvestments||[],stockPortfolios:Y.stockPortfolios||[],stockHoldings:Y.stockHoldings||[],stockTransactions:Y.stockTransactions||[],mfPortfolios:Y.mfPortfolios||[],mfHoldings:Y.mfHoldings||[],mfTransactions:Y.mfTransactions||[],goals:Y.goals||[],reminders:Y.reminders||[],goalPortfolioMappings:Y.goalPortfolioMappings||[],assetAllocations:Y.assetAllocations||[]})},[]),ke=j.useCallback(async(Y=!1)=>{try{Y?c(!0):i(!0),f(null);const Ae=await Sp();ge(Ae),ze(Ae)}catch(Ae){f(Ae.message)}finally{i(!1),c(!1)}},[ge,ze]),Ie=j.useCallback(async()=>{const Y=await C_();h(Y||[]),tn("members",Y||[])},[]),rt=j.useCallback(async()=>{const Y=await D_();v(Y||[]),tn("bankAccounts",Y||[])},[]),Tt=j.useCallback(async()=>{const Y=await O_();S(Y||[]),tn("investments",Y||[])},[]),kt=j.useCallback(async()=>{const Y=await F_();w(Y||[]),tn("insurancePolicies",Y||[])},[]),St=j.useCallback(async()=>{const Y=await $_();k(Y||[]),tn("liabilities",Y||[])},[]),Mr=j.useCallback(async()=>{const Y=await U_();M(Y||[]),tn("otherInvestments",Y||[])},[]),Wt=j.useCallback(async()=>{const[Y,Ae]=await Promise.all([I_(),J8()]);fe(Y||[]),Q(Ae||[]),tn("goals",Y||[]),tn("goalPortfolioMappings",Ae||[])},[]),ir=j.useCallback(async()=>{const Y=await Q_();H(Y||[]),tn("reminders",Y||[])},[]),Pt=j.useCallback(async()=>{const[Y,Ae,sr]=await Promise.all([q8(),mF(),pF()]),jn=(Ae||[]).map(Pa=>Pa.schemeCode?Pa:{...Pa,schemeCode:Pa.fundCode});E(Y||[]),Z(jn),R(sr||[]),X0({mfPortfolios:Y||[],mfHoldings:jn,mfTransactions:sr||[]})},[]),be=j.useCallback(async()=>{const[Y,Ae,sr]=await Promise.all([G_(),hF(),xF()]);T(Y||[]),O(Ae||[]),L(sr||[]),X0({stockPortfolios:Y||[],stockHoldings:Ae||[],stockTransactions:sr||[]})},[]),Qe=j.useCallback(async()=>{const Y=await bF();de(Y||{}),tn("settings",Y||{})},[]),G=j.useCallback(async Y=>{await yF(Y),await Qe()},[Qe]),q=j.useCallback(async()=>{try{const Y=await eO("healthCheckAnswers");if(Y&&Object.keys(Y).length>0){ye(!0),Me(Y),zo(!0);return}const Ae=await J_();Ae&&Object.keys(Ae).length>0?(ye(!0),Me(Ae),zo(!0),tn("healthCheckAnswers",Ae)):(ye(!1),zo(!1))}catch{ye(!1),zo(!1)}},[]),X=j.useCallback(async Y=>{const Ae=await gF(Y);return Ae?.success&&(ye(!0),Me(Y),zo(!0),tn("healthCheckAnswers",Y)),Ae},[]);j.useEffect(()=>{if(!t){i(!1);return}if(Ve.current)return;Ve.current=!0;async function Y(){const Ae=await AF(),sr=Object.keys(Ae).length>0;sr&&(ge(Ae),Ae.healthCheckAnswers&&Object.keys(Ae.healthCheckAnswers).length>0&&(ye(!0),Me(Ae.healthCheckAnswers),zo(!0)),i(!1));try{sr&&c(!0);const jn=await Sp();ge(jn),ze(jn)}catch(jn){sr||f(jn.message)}finally{i(!1),c(!1)}}Y(),Qe().catch(()=>{}),r===null&&q().catch(()=>{})},[t,ge,ze,Qe,q]),j.useEffect(()=>{t||(Ve.current=!1)},[t]);const Ce=j.useCallback(async Y=>{const Ae=await A_(Y);if(Y.email)try{await z8(Y.email,Y.memberName)}catch(sr){console.warn("Auto-invite failed (non-blocking):",sr.message)}return await Ie(),Ae},[Ie]),Fe=j.useCallback(async(Y,Ae)=>{await k_({memberId:Y,...Ae}),await Ie()},[Ie]),le=j.useCallback(async Y=>{await M_(Y),await Ie()},[Ie]),ot=j.useCallback(async Y=>{const Ae=await E_(Y);return await rt(),Ae},[rt]),qe=j.useCallback(async(Y,Ae)=>{await B8({accountId:Y,...Ae}),await rt()},[rt]),De=j.useCallback(async Y=>{await __(Y),await rt()},[rt]),Ze=j.useCallback(async Y=>{const Ae=await T_(Y);return await Tt(),Ae},[Tt]),Ke=j.useCallback(async(Y,Ae)=>{await $8({accountId:Y,...Ae}),await Tt()},[Tt]),Ht=j.useCallback(async Y=>{await P_(Y),await Tt()},[Tt]),dt=j.useCallback(async Y=>{const Ae=await z_(Y);return await kt(),Ae},[kt]),Ee=j.useCallback(async(Y,Ae)=>{await tF({policyId:Y,...Ae}),await kt()},[kt]),We=j.useCallback(async Y=>{await B_(Y),await kt()},[kt]),_e=j.useCallback(async Y=>{const Ae=await q_(Y);return await St(),Ae},[St]),it=j.useCallback(async(Y,Ae)=>{await rF({liabilityId:Y,...Ae}),await St()},[St]),ne=j.useCallback(async Y=>{await H_(Y),await St()},[St]),Ne=j.useCallback(async Y=>{const Ae=await Y_(Y);return await Mr(),Y.quickLoan&&await St(),Ae},[Mr,St]),Ue=j.useCallback(async(Y,Ae)=>{await nF({investmentId:Y,...Ae}),await Mr(),await St()},[Mr,St]),Kt=j.useCallback(async Y=>{await V_(Y),await Mr()},[Mr]),rr=j.useCallback(async Y=>{const Ae=await R_(Y);return await Wt(),Ae},[Wt]),_a=j.useCallback(async(Y,Ae)=>{await Z8(Y,Ae),await Wt()},[Wt]),Oa=j.useCallback(async Y=>{await L_(Y),await Wt()},[Wt]),$c=j.useCallback(async Y=>{const Ae=await X_(Y);return await ir(),Ae},[ir]),tf=j.useCallback(async(Y,Ae)=>{await vF({reminderId:Y,...Ae}),await ir()},[ir]),rf=j.useCallback(async Y=>{await Z_(Y),await ir()},[ir]),nf=j.useCallback(async(Y,Ae)=>{await eF(Y,Ae),await Wt()},[Wt]),qc=j.useCallback(async Y=>{const Ae=await W_(Y);return await be(),Ae},[be]),Hc=j.useCallback(async(Y,Ae)=>{await aF({portfolioId:Y,...Ae}),await be()},[be]),af=j.useCallback(async Y=>{await K_(Y),await be()},[be]),sf=j.useCallback(async Y=>{const Ae=await lF(Y);return await be(),Ae},[be]),Ta=j.useCallback(async Y=>{const Ae=await oF(Y);return await be(),Ae},[be]),Dr=j.useCallback(async Y=>{await dF(Y),await be()},[be]),Kr=j.useCallback(async Y=>{await fF(Y),await be()},[be]),as=j.useCallback(async Y=>{const Ae=await H8(Y);return await Pt(),Ae},[Pt]),Uc=j.useCallback(async(Y,Ae)=>{await U8({portfolioId:Y,...Ae}),await Pt()},[Pt]),Tx=j.useCallback(async Y=>{await Y8(Y),await Pt()},[Pt]),Px=j.useCallback(async(Y,Ae)=>{const sr=await V8({...Y,transactionType:Ae});return await Pt(),sr},[Pt]),lf=j.useCallback(async Y=>{const Ae=await G8(Y);return await Pt(),Ae},[Pt]),nl=j.useCallback(async Y=>{const Ae=await W8(Y);return await Pt(),Ae},[Pt]),Yc=j.useCallback(async(Y,Ae)=>{await K8(Y,Ae),await Pt()},[Pt]),is=j.useCallback(async Y=>{await cF(Y),await Pt()},[Pt]),ss=j.useCallback(async Y=>{await uF(Y),await Pt()},[Pt]),al=j.useCallback(async Y=>{const Ae=await X8(Y);return xe(sr=>{const jn=sr||[],Pa=jn.findIndex(wr=>wr.fundCode===Y.fundCode),Ia={};Y.equity&&(Ia.Equity=Y.equity),Y.debt&&(Ia.Debt=Y.debt),Y.cash&&(Ia.Cash=Y.cash),Y.realEstate&&(Ia["Real Estate"]=Y.realEstate),Y.commodities&&(Ia.Commodities=Y.commodities),Y.customAsset&&Object.entries(Y.customAsset).forEach(([wr,hr])=>{hr>0&&(Ia[wr]=hr)});const fi={};Y.giantCap&&(fi.Giant=Y.giantCap),Y.largeCap&&(fi.Large=Y.largeCap),Y.midCap&&(fi.Mid=Y.midCap),Y.smallCap&&(fi.Small=Y.smallCap),Y.microCap&&(fi.Micro=Y.microCap),Y.customCap&&Object.entries(Y.customCap).forEach(([wr,hr])=>{hr>0&&(fi[wr]=hr)});const mi={};Y.geoIndia&&(mi.India=Y.geoIndia),Y.geoGlobal&&(mi.Global=Y.geoGlobal),Y.customGeo&&Object.entries(Y.customGeo).forEach(([wr,hr])=>{hr>0&&(mi[wr]=hr)});const il={fundCode:Y.fundCode,fundName:Y.fundName,assetAllocation:Ia,equityAllocation:fi,geoAllocation:mi};if(Pa>=0){const wr=[...jn];return wr[Pa]=il,wr}return[...jn,il]}),Ae},[]),ls=(m||[]).filter(Y=>Y.status==="Active"),yr=(x||[]).filter(Y=>Y.status==="Active"),of=(g||[]).filter(Y=>Y.status==="Active");return a.jsx(iO.Provider,{value:{loading:n,isRefreshing:l,error:u,refreshData:ke,members:m,banks:x,investmentAccounts:g,insurancePolicies:y,liabilityList:C,otherInvList:A,activeMembers:ls,activeBanks:yr,activeInvestmentAccounts:of,addMember:Ce,updateMember:Fe,deleteMember:le,addBankAccount:ot,updateBankAccount:qe,deleteBankAccount:De,addInvestmentAccount:Ze,updateInvestmentAccount:Ke,deleteInvestmentAccount:Ht,addInsurance:dt,updateInsurance:Ee,deleteInsurance:We,addLiability:_e,updateLiability:it,deleteLiability:ne,addOtherInvestment:Ne,updateOtherInvestment:Ue,deleteOtherInvestment:Kt,goalList:F,addGoal:rr,updateGoal:_a,deleteGoal:Oa,reminderList:Se,addReminder:$c,updateReminder:tf,deleteReminder:rf,goalPortfolioMappings:B,updateGoalMappings:nf,assetAllocations:ue,updateAssetAllocation:al,stockPortfolios:D,stockHoldings:P,stockTransactions:z,addStockPortfolio:qc,updateStockPortfolio:Hc,deleteStockPortfolio:af,buyStock:sf,sellStock:Ta,editStockTransaction:Dr,deleteStockTransaction:Kr,mfPortfolios:$,mfHoldings:J,mfTransactions:te,addMFPortfolio:as,updateMFPortfolio:Uc,deleteMFPortfolio:Tx,investMF:Px,redeemMF:lf,switchMF:nl,updateHoldingAllocations:Yc,deleteMFTransaction:is,editMFTransaction:ss,settings:U,updateSettings:G,refreshSettings:Qe,healthCheckCompleted:ie,healthCheckAnswers:re,completeHealthCheck:X},children:e})}function ht(){return j.useContext(iO)}const lO=j.createContext();function IF({children:e}){const{activeMembers:t}=ht(),[r,n]=j.useState("all"),i=t.find(l=>l.memberId===r)||null;return a.jsx(lO.Provider,{value:{selectedMember:r,setSelectedMember:n,member:i,familyMembers:t},children:e})}function Lr(){return j.useContext(lO)}const oO=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();const RF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const LF=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());const $C=e=>{const t=LF(e);return t.charAt(0).toUpperCase()+t.slice(1)};var FF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zF=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const BF=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:l,iconNode:c,...u},f)=>j.createElement("svg",{ref:f,...FF,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:oO("lucide",i),...!l&&!zF(u)&&{"aria-hidden":"true"},...u},[...c.map(([m,h])=>j.createElement(m,h)),...Array.isArray(l)?l:[l]]));const Pe=(e,t)=>{const r=j.forwardRef(({className:n,...i},l)=>j.createElement(BF,{ref:l,iconNode:t,className:oO(`lucide-${RF($C(e))}`,`lucide-${e}`,n),...i}));return r.displayName=$C(e),r};const $F=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],qF=Pe("arrow-down",$F);const HF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],UF=Pe("arrow-left",HF);const YF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],VF=Pe("arrow-right",YF);const GF=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],WF=Pe("arrow-up-down",GF);const KF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],QF=Pe("bell-off",KF);const XF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],S1=Pe("bell",XF);const ZF=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],cO=Pe("briefcase",ZF);const JF=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],ez=Pe("bug",JF);const tz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],rz=Pe("calendar",tz);const nz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ec=Pe("chart-column",nz);const az=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],qC=Pe("chart-pie",az);const iz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Cp=Pe("check",iz);const sz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ul=Pe("chevron-down",sz);const lz=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],oz=Pe("chevron-left",lz);const cz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ga=Pe("chevron-right",cz);const uz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],uO=Pe("circle-arrow-down",uz);const dz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fz=Pe("circle-check-big",dz);const mz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Dc=Pe("circle-check",mz);const pz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],dO=Pe("circle-x",pz);const hz=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],fO=Pe("clipboard-check",hz);const xz=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],vz=Pe("construction",xz);const gz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],bz=Pe("copy",gz);const yz=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Rh=Pe("credit-card",yz);const wz=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],jz=Pe("database",wz);const Nz=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Sz=Pe("dollar-sign",Nz);const Cz=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Az=Pe("download",Cz);const kz=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],mO=Pe("ellipsis-vertical",kz);const Mz=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Dz=Pe("ellipsis",Mz);const Ez=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ap=Pe("eye",Ez);const _z=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],id=Pe("eye-off",_z);const Oz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Tz=Pe("file-spreadsheet",Oz);const Pz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Iz=Pe("file-text",Pz);const Rz=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],pO=Pe("funnel",Rz);const Lz=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],Fz=Pe("github",Lz);const zz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],hO=Pe("globe",zz);const Bz=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Ed=Pe("heart",Bz);const $z=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],qz=Pe("indian-rupee",$z);const Hz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Uz=Pe("info",Hz);const Yz=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Vz=Pe("landmark",Yz);const Gz=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],xO=Pe("layers",Gz);const Wz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Kz=Pe("layout-dashboard",Wz);const Qz=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],vO=Pe("link-2",Qz);const Xz=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],sd=Pe("list",Xz);const Zz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],od=Pe("loader-circle",Zz);const Jz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Z0=Pe("lock",Jz);const eB=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],tB=Pe("log-in",eB);const rB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gO=Pe("log-out",rB);const nB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],C1=Pe("mail",nB);const aB=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 8v6",key:"1ib9pf"}],["path",{d:"M9 11h6",key:"1fldmi"}]],iB=Pe("message-square-plus",aB);const sB=[["path",{d:"M5 12h14",key:"1ays0h"}]],HC=Pe("minus",sB);const lB=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],iy=Pe("moon",lB);const oB=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],bO=Pe("package",oB);const cB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],la=Pe("pencil",cB);const uB=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],dB=Pe("piggy-bank",uB);const fB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gr=Pe("plus",fB);const mB=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],tc=Pe("refresh-cw",mB);const pB=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],J0=Pe("repeat-2",pB);const hB=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],xB=Pe("repeat",hB);const vB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],yO=Pe("save",vB);const gB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],A1=Pe("search",gB);const bB=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],wO=Pe("settings-2",bB);const yB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jO=Pe("settings",yB);const wB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],jB=Pe("shield-alert",wB);const NB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],rc=Pe("shield",NB);const SB=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],CB=Pe("smartphone",SB);const AB=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],kp=Pe("sun",AB);const kB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],_d=Pe("target",kB);const MB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],lc=Pe("trash-2",MB);const DB=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Mp=Pe("trending-down",DB);const EB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],oc=Pe("trending-up",EB);const _B=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$s=Pe("triangle-alert",_B);const OB=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],UC=Pe("trophy",OB);const TB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],PB=Pe("user",TB);const IB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yl=Pe("users",IB);const RB=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],cp=Pe("wallet",RB);const LB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ni=Pe("x",LB);const FB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],sy=Pe("zap",FB),NO=j.createContext();function zB({children:e}){const[t,r]=j.useState([]),[n,i]=j.useState(null),l=j.useRef(0),c=j.useCallback((h,x="success",v=3e3)=>{const g=++l.current;r(S=>[...S,{id:g,message:h,type:x}]),setTimeout(()=>r(S=>S.filter(y=>y.id!==g)),v)},[]),u=j.useCallback(h=>{r(x=>x.filter(v=>v.id!==h))},[]),f=j.useCallback((h="Saving...")=>{i(h)},[]),m=j.useCallback(()=>{i(null)},[]);return a.jsxs(NO.Provider,{value:{showToast:c,showBlockUI:f,hideBlockUI:m},children:[e,n&&a.jsx("div",{className:"fixed inset-0 z-[200] bg-black/50 backdrop-blur-sm flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 bg-[var(--bg-card)] rounded-xl px-8 py-6 border border-[var(--border)] shadow-2xl",children:[a.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),a.jsx("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:n})]})}),t.length>0&&a.jsx("div",{className:"fixed bottom-20 sm:bottom-6 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-2 items-center pointer-events-none",children:t.map(h=>a.jsxs("div",{className:`pointer-events-auto flex items-center gap-2 px-4 py-2.5 rounded-lg shadow-xl border text-sm font-medium animate-fade-in ${h.type==="error"?"bg-rose-500/15 border-rose-500/30 text-[var(--accent-rose)]":h.type==="warning"?"bg-amber-500/15 border-amber-500/30 text-amber-400":"bg-emerald-500/15 border-emerald-500/30 text-emerald-400"}`,style:{backdropFilter:"blur(12px)"},children:[h.type==="error"?a.jsx(dO,{size:16}):h.type==="warning"?a.jsx($s,{size:16}):a.jsx(Dc,{size:16}),a.jsx("span",{children:h.message}),a.jsx("button",{onClick:()=>u(h.id),className:"ml-1 opacity-60 hover:opacity-100 transition-opacity",children:a.jsx(ni,{size:14})})]},h.id))})]})}function li(){return j.useContext(NO)}const SO=j.createContext();function BB({children:e}){const[t,r]=j.useState(null),n=j.useRef(null),i=j.useCallback((u,{title:f="Confirm",confirmLabel:m="Yes, proceed",cancelLabel:h="Cancel",destructive:x=!0}={})=>new Promise(v=>{n.current=v,r({message:u,title:f,confirmLabel:m,cancelLabel:h,destructive:x})}),[]);function l(){n.current?.(!0),n.current=null,r(null)}function c(){n.current?.(!1),n.current=null,r(null)}return a.jsxs(SO.Provider,{value:{confirm:i},children:[e,t&&a.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center px-4",onClick:c,children:[a.jsx("div",{className:"fixed inset-0 bg-black/60"}),a.jsxs("div",{className:"relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full max-w-sm p-5 animate-fade-in",onClick:u=>u.stopPropagation(),children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx("span",{className:`shrink-0 w-9 h-9 rounded-full flex items-center justify-center ${t.destructive?"bg-rose-500/15":"bg-violet-500/15"}`,children:a.jsx($s,{size:18,className:t.destructive?"text-[var(--accent-rose)]":"text-violet-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-[var(--text-primary)]",children:t.title}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1 leading-relaxed",children:t.message})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:c,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:t.cancelLabel}),a.jsx("button",{onClick:l,autoFocus:!0,className:`px-4 py-2 text-xs font-bold text-white rounded-lg transition-colors ${t.destructive?"bg-rose-600 hover:bg-rose-500":"bg-violet-600 hover:bg-violet-500"}`,children:t.confirmLabel})]})]})]})]})}function oi(){return j.useContext(SO).confirm}const CO=j.createContext(),YC="cf-mask-data";function $B(e){return!e||e.length<4?"":""+e.slice(-4)}function qB(e){return!e||e.length<4?"  ":"  "+e.slice(-4)}function HB(e){return!e||e.length<3?"":""+e.slice(-3)}function UB(e){if(!e)return"@";const[t,r]=e.split("@");if(!r)return"@";const n=t.charAt(0)+"",i=r.split("."),l=i[0].charAt(0)+""+(i.length>1?"."+i.slice(1).join("."):"");return n+"@"+l}function YB(e){return!e||e.length<4?"":""+e.slice(-4)}function VB(e){return!e||e.length<3?"":""+e.slice(-3)}function GB(e){return!e||e.length<4?"":""+e.slice(-4)}function WB(e){return!e||e.length<2?"":e.split(/\s+/).map(t=>t.charAt(0)+"").join(" ")}const KB={pan:$B,aadhaar:qB,mobile:HB,email:UB,account:YB,clientId:VB,policy:GB,name:WB};function QB({children:e}){const[t,r]=j.useState(()=>{try{return localStorage.getItem(YC)==="true"}catch{return!1}});j.useEffect(()=>{try{localStorage.setItem(YC,String(t))}catch{}},[t]);const n=j.useCallback(()=>r(l=>!l),[]),i=j.useCallback((l,c)=>{if(!t||l==null||l==="")return l;const u=KB[c];return u?u(String(l)):l},[t]);return a.jsx(CO.Provider,{value:{masked:t,toggleMask:n,mv:i},children:e})}function Da(){return j.useContext(CO)}function AO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=AO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ut(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=AO(e))&&(n&&(n+=" "),n+=t);return n}var XB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function k1(e){if(typeof e!="string")return!1;var t=XB;return t.includes(e)}var ZB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],JB=new Set(ZB);function kO(e){return typeof e!="string"?!1:JB.has(e)}function MO(e){return typeof e=="string"&&e.startsWith("data-")}function cc(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(kO(r)||MO(r))&&(t[r]=e[r]);return t}function ly(e){if(e==null)return null;if(j.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return cc(t)}return typeof e=="object"&&!Array.isArray(e)?cc(e):null}function na(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(kO(r)||MO(r)||k1(r))&&(t[r]=e[r]);return t}var e$=["children","width","height","viewBox","className","style","title","desc"];function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oy.apply(null,arguments)}function t$(e,t){if(e==null)return{};var r,n,i=r$(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function r$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DO=j.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:l,className:c,style:u,title:f,desc:m}=e,h=t$(e,e$),x=l||{width:n,height:i,x:0,y:0},v=ut("recharts-surface",c);return j.createElement("svg",oy({},na(h),{className:v,width:n,height:i,style:u,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),j.createElement("title",null,f),j.createElement("desc",null,m),r)}),n$=["children","className"];function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cy.apply(null,arguments)}function a$(e,t){if(e==null)return{};var r,n,i=i$(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function i$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qs=j.forwardRef((e,t)=>{var{children:r,className:n}=e,i=a$(e,n$),l=ut("recharts-layer",n);return j.createElement("g",cy({className:l},na(i),{ref:t}),r)}),s$=j.createContext(null);function qt(e){return function(){return e}}const EO=Math.cos,Dp=Math.sin,Ea=Math.sqrt,Ep=Math.PI,Lh=2*Ep,uy=Math.PI,dy=2*uy,Al=1e-6,l$=dy-Al;function _O(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function o$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _O;const r=10**t;return function(n){this._+=n[0];for(let i=1,l=n.length;i<l;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class c${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_O:o$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,l,c){this._append`C${+t},${+r},${+n},${+i},${this._x1=+l},${this._y1=+c}`}arcTo(t,r,n,i,l){if(t=+t,r=+r,n=+n,i=+i,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,u=this._y1,f=n-t,m=i-r,h=c-t,x=u-r,v=h*h+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>Al)if(!(Math.abs(x*f-m*h)>Al)||!l)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-c,S=i-u,y=f*f+m*m,w=g*g+S*S,C=Math.sqrt(y),k=Math.sqrt(v),A=l*Math.tan((uy-Math.acos((y+v-w)/(2*C*k)))/2),M=A/k,D=A/C;Math.abs(M-1)>Al&&this._append`L${t+M*h},${r+M*x}`,this._append`A${l},${l},0,0,${+(x*g>h*S)},${this._x1=t+D*f},${this._y1=r+D*m}`}}arc(t,r,n,i,l,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),f=n*Math.sin(i),m=t+u,h=r+f,x=1^c,v=c?i-l:l-i;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>Al||Math.abs(this._y1-h)>Al)&&this._append`L${m},${h}`,n&&(v<0&&(v=v%dy+dy),v>l$?this._append`A${n},${n},0,1,${x},${t-u},${r-f}A${n},${n},0,1,${x},${this._x1=m},${this._y1=h}`:v>Al&&this._append`A${n},${n},0,${+(v>=uy)},${x},${this._x1=t+n*Math.cos(l)},${this._y1=r+n*Math.sin(l)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function M1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new c$(t)}function D1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function OO(e){this._context=e}OO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Fh(e){return new OO(e)}function TO(e){return e[0]}function PO(e){return e[1]}function IO(e,t){var r=qt(!0),n=null,i=Fh,l=null,c=M1(u);e=typeof e=="function"?e:e===void 0?TO:qt(e),t=typeof t=="function"?t:t===void 0?PO:qt(t);function u(f){var m,h=(f=D1(f)).length,x,v=!1,g;for(n==null&&(l=i(g=c())),m=0;m<=h;++m)!(m<h&&r(x=f[m],m,f))===v&&((v=!v)?l.lineStart():l.lineEnd()),v&&l.point(+e(x,m,f),+t(x,m,f));if(g)return l=null,g+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),u):t},u.defined=function(f){return arguments.length?(r=typeof f=="function"?f:qt(!!f),u):r},u.curve=function(f){return arguments.length?(i=f,n!=null&&(l=i(n)),u):i},u.context=function(f){return arguments.length?(f==null?n=l=null:l=i(n=f),u):n},u}function ym(e,t,r){var n=null,i=qt(!0),l=null,c=Fh,u=null,f=M1(m);e=typeof e=="function"?e:e===void 0?TO:qt(+e),t=typeof t=="function"?t:qt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?PO:qt(+r);function m(x){var v,g,S,y=(x=D1(x)).length,w,C=!1,k,A=new Array(y),M=new Array(y);for(l==null&&(u=c(k=f())),v=0;v<=y;++v){if(!(v<y&&i(w=x[v],v,x))===C)if(C=!C)g=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=v-1;S>=g;--S)u.point(A[S],M[S]);u.lineEnd(),u.areaEnd()}C&&(A[v]=+e(w,v,x),M[v]=+t(w,v,x),u.point(n?+n(w,v,x):A[v],r?+r(w,v,x):M[v]))}if(k)return u=null,k+""||null}function h(){return IO().defined(i).curve(c).context(l)}return m.x=function(x){return arguments.length?(e=typeof x=="function"?x:qt(+x),n=null,m):e},m.x0=function(x){return arguments.length?(e=typeof x=="function"?x:qt(+x),m):e},m.x1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:qt(+x),m):n},m.y=function(x){return arguments.length?(t=typeof x=="function"?x:qt(+x),r=null,m):t},m.y0=function(x){return arguments.length?(t=typeof x=="function"?x:qt(+x),m):t},m.y1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:qt(+x),m):r},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(r)},m.lineX1=function(){return h().x(n).y(t)},m.defined=function(x){return arguments.length?(i=typeof x=="function"?x:qt(!!x),m):i},m.curve=function(x){return arguments.length?(c=x,l!=null&&(u=c(l)),m):c},m.context=function(x){return arguments.length?(x==null?l=u=null:u=c(l=x),m):l},m}class RO{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function u$(e){return new RO(e,!0)}function d$(e){return new RO(e,!1)}const E1={draw(e,t){const r=Ea(t/Ep);e.moveTo(r,0),e.arc(0,0,r,0,Lh)}},f$={draw(e,t){const r=Ea(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},LO=Ea(1/3),m$=LO*2,p$={draw(e,t){const r=Ea(t/m$),n=r*LO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},h$={draw(e,t){const r=Ea(t),n=-r/2;e.rect(n,n,r,r)}},x$=.8908130915292852,FO=Dp(Ep/10)/Dp(7*Ep/10),v$=Dp(Lh/10)*FO,g$=-EO(Lh/10)*FO,b$={draw(e,t){const r=Ea(t*x$),n=v$*r,i=g$*r;e.moveTo(0,-r),e.lineTo(n,i);for(let l=1;l<5;++l){const c=Lh*l/5,u=EO(c),f=Dp(c);e.lineTo(f*r,-u*r),e.lineTo(u*n-f*i,f*n+u*i)}e.closePath()}},eg=Ea(3),y$={draw(e,t){const r=-Ea(t/(eg*3));e.moveTo(0,r*2),e.lineTo(-eg*r,-r),e.lineTo(eg*r,-r),e.closePath()}},Xn=-.5,Zn=Ea(3)/2,fy=1/Ea(12),w$=(fy/2+1)*3,j$={draw(e,t){const r=Ea(t/w$),n=r/2,i=r*fy,l=n,c=r*fy+r,u=-l,f=c;e.moveTo(n,i),e.lineTo(l,c),e.lineTo(u,f),e.lineTo(Xn*n-Zn*i,Zn*n+Xn*i),e.lineTo(Xn*l-Zn*c,Zn*l+Xn*c),e.lineTo(Xn*u-Zn*f,Zn*u+Xn*f),e.lineTo(Xn*n+Zn*i,Xn*i-Zn*n),e.lineTo(Xn*l+Zn*c,Xn*c-Zn*l),e.lineTo(Xn*u+Zn*f,Xn*f-Zn*u),e.closePath()}};function N$(e,t){let r=null,n=M1(i);e=typeof e=="function"?e:qt(e||E1),t=typeof t=="function"?t:qt(t===void 0?64:+t);function i(){let l;if(r||(r=l=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),l)return r=null,l+""||null}return i.type=function(l){return arguments.length?(e=typeof l=="function"?l:qt(l),i):e},i.size=function(l){return arguments.length?(t=typeof l=="function"?l:qt(+l),i):t},i.context=function(l){return arguments.length?(r=l??null,i):r},i}function _p(){}function Op(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function zO(e){this._context=e}zO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Op(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Op(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function S$(e){return new zO(e)}function BO(e){this._context=e}BO.prototype={areaStart:_p,areaEnd:_p,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Op(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function C$(e){return new BO(e)}function $O(e){this._context=e}$O.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Op(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function A$(e){return new $O(e)}function qO(e){this._context=e}qO.prototype={areaStart:_p,areaEnd:_p,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function k$(e){return new qO(e)}function VC(e){return e<0?-1:1}function GC(e,t,r){var n=e._x1-e._x0,i=t-e._x1,l=(e._y1-e._y0)/(n||i<0&&-0),c=(r-e._y1)/(i||n<0&&-0),u=(l*i+c*n)/(n+i);return(VC(l)+VC(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(u))||0}function WC(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function tg(e,t,r){var n=e._x0,i=e._y0,l=e._x1,c=e._y1,u=(l-n)/3;e._context.bezierCurveTo(n+u,i+u*t,l-u,c-u*r,l,c)}function Tp(e){this._context=e}Tp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tg(this,this._t0,WC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,tg(this,WC(this,r=GC(this,e,t)),r);break;default:tg(this,this._t0,r=GC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function HO(e){this._context=new UO(e)}(HO.prototype=Object.create(Tp.prototype)).point=function(e,t){Tp.prototype.point.call(this,t,e)};function UO(e){this._context=e}UO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,l){this._context.bezierCurveTo(t,e,n,r,l,i)}};function M$(e){return new Tp(e)}function D$(e){return new HO(e)}function YO(e){this._context=e}YO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=KC(e),i=KC(t),l=0,c=1;c<r;++l,++c)this._context.bezierCurveTo(n[0][l],i[0][l],n[1][l],i[1][l],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function KC(e){var t,r=e.length-1,n,i=new Array(r),l=new Array(r),c=new Array(r);for(i[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,l[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/l[t-1],l[t]-=n,c[t]-=n*c[t-1];for(i[r-1]=c[r-1]/l[r-1],t=r-2;t>=0;--t)i[t]=(c[t]-i[t+1])/l[t];for(l[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)l[t]=2*e[t+1]-i[t+1];return[i,l]}function E$(e){return new YO(e)}function zh(e,t){this._context=e,this._t=t}zh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function _$(e){return new zh(e,.5)}function O$(e){return new zh(e,0)}function T$(e){return new zh(e,1)}function Vl(e,t){if((c=e.length)>1)for(var r=1,n,i,l=e[t[0]],c,u=l.length;r<c;++r)for(i=l,l=e[t[r]],n=0;n<u;++n)l[n][1]+=l[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function my(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function P$(e,t){return e[t]}function I$(e){const t=[];return t.key=e,t}function R$(){var e=qt([]),t=my,r=Vl,n=P$;function i(l){var c=Array.from(e.apply(this,arguments),I$),u,f=c.length,m=-1,h;for(const x of l)for(u=0,++m;u<f;++u)(c[u][m]=[0,+n(x,c[u].key,m,l)]).data=x;for(u=0,h=D1(t(c));u<f;++u)c[h[u]].index=u;return r(c,h),c}return i.keys=function(l){return arguments.length?(e=typeof l=="function"?l:qt(Array.from(l)),i):e},i.value=function(l){return arguments.length?(n=typeof l=="function"?l:qt(+l),i):n},i.order=function(l){return arguments.length?(t=l==null?my:typeof l=="function"?l:qt(Array.from(l)),i):t},i.offset=function(l){return arguments.length?(r=l??Vl,i):r},i}function L$(e,t){if((n=e.length)>0){for(var r,n,i=0,l=e[0].length,c;i<l;++i){for(c=r=0;r<n;++r)c+=e[r][i][1]||0;if(c)for(r=0;r<n;++r)e[r][i][1]/=c}Vl(e,t)}}function F$(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,l=n.length;r<l;++r){for(var c=0,u=0;c<i;++c)u+=e[c][r][1]||0;n[r][1]+=n[r][0]=-u/2}Vl(e,t)}}function z$(e,t){if(!(!((c=e.length)>0)||!((l=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,l,c;n<l;++n){for(var u=0,f=0,m=0;u<c;++u){for(var h=e[t[u]],x=h[n][1]||0,v=h[n-1][1]||0,g=(x-v)/2,S=0;S<u;++S){var y=e[t[S]],w=y[n][1]||0,C=y[n-1][1]||0;g+=w-C}f+=x,m+=g*x}i[n-1][1]+=i[n-1][0]=r,f&&(r-=m/f)}i[n-1][1]+=i[n-1][0]=r,Vl(e,t)}}var rg={},ng={},QC;function B$(){return QC||(QC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(ng)),ng}var ag={},XC;function VO(){return XC||(XC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(ag)),ag}var ig={},ZC;function _1(){return ZC||(ZC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(ig)),ig}var sg={},lg={},JC;function $$(){return JC||(JC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(lg)),lg}var eA;function O1(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$$(),r=_1();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const l=[],c=i.length;if(c===0)return l;let u=0,f="",m="",h=!1;for(i.charCodeAt(0)===46&&(l.push(""),u++);u<c;){const x=i[u];m?x==="\\"&&u+1<c?(u++,f+=i[u]):x===m?m="":f+=x:h?x==='"'||x==="'"?m=x:x==="]"?(h=!1,l.push(f),f=""):f+=x:x==="["?(h=!0,f&&(l.push(f),f="")):x==="."?f&&(l.push(f),f=""):f+=x,u++}return f&&l.push(f),l}e.toPath=n})(sg)),sg}var tA;function T1(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B$(),r=VO(),n=_1(),i=O1();function l(u,f,m){if(u==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?r.isDeepKey(f)?l(u,i.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const h=u[f];return h===void 0?m:h}default:{if(Array.isArray(f))return c(u,f,m);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?m:h}}}function c(u,f,m){if(f.length===0)return m;let h=u;for(let x=0;x<f.length;x++){if(h==null||t.isUnsafeProperty(f[x]))return m;h=h[f[x]]}return h===void 0?m:h}e.get=l})(rg)),rg}var og,rA;function q$(){return rA||(rA=1,og=T1().get),og}var H$=q$();const cd=si(H$);var U$=4;function Is(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U$,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function cr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,l,c)=>{var u=r[c-1];return typeof u=="string"?i+u+l:u!==void 0?i+Is(u)+l:i+l},"")}var gn=e=>e===0?0:e>0?1:-1,qi=e=>typeof e=="number"&&e!=+e,Gl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,tt=e=>(typeof e=="number"||e instanceof Number)&&!qi(e),Hi=e=>tt(e)||typeof e=="string",Y$=0,ud=e=>{var t=++Y$;return"".concat(e||"").concat(t)},Rn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!tt(t)&&typeof t!="string")return n;var l;if(Gl(t)){if(r==null)return n;var c=t.indexOf("%");l=r*parseFloat(t.slice(0,c))/100}else l=+t;return qi(l)&&(l=n),i&&r!=null&&l>r&&(l=r),l},GO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function pa(e,t,r){return tt(e)&&tt(t)?Is(e+r*(t-e)):t}function V$(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):cd(n,t))===r)}var zn=e=>e===null||typeof e>"u",Od=e=>zn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Wa(e){return e!=null}function Td(){}var G$=["type","size","sizeType"];function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},py.apply(null,arguments)}function nA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(r),!0).forEach(function(n){W$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W$(e,t,r){return(t=K$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K$(e){var t=Q$(e,"string");return typeof t=="symbol"?t:t+""}function Q$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X$(e,t){if(e==null)return{};var r,n,i=Z$(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Z$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WO={symbolCircle:E1,symbolCross:f$,symbolDiamond:p$,symbolSquare:h$,symbolStar:b$,symbolTriangle:y$,symbolWye:j$},J$=Math.PI/180,e9=e=>{var t="symbol".concat(Od(e));return WO[t]||E1},t9=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*J$;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},r9=(e,t)=>{WO["symbol".concat(Od(e))]=t},KO=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=X$(e,G$),l=aA(aA({},i),{},{type:t,size:r,sizeType:n}),c="circle";typeof t=="string"&&(c=t);var u=()=>{var v=e9(c),g=N$().type(v).size(t9(r,n,c)),S=g();if(S!==null)return S},{className:f,cx:m,cy:h}=l,x=na(l);return tt(m)&&tt(h)&&tt(r)?j.createElement("path",py({},x,{className:ut("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:u()})):null};KO.registerSymbol=r9;var QO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,n9=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{k1(i)&&(n[i]=(l=>r[i](r,l)))}),n},a9=(e,t,r)=>n=>(e(t,r,n),null),i9=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var l=e[i];k1(i)&&typeof l=="function"&&(n||(n={}),n[i]=a9(l,t,r))}),n};function iA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function s9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(r),!0).forEach(function(n){l9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l9(e,t,r){return(t=o9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o9(e){var t=c9(e,"string");return typeof t=="symbol"?t:t+""}function c9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ci(e,t){var r=s9({},e),n=t,i=Object.keys(t),l=i.reduce((c,u)=>(c[u]===void 0&&n[u]!==void 0&&(c[u]=n[u]),c),r);return l}var cg={},ug={},sA;function u9(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let l=0;l<r.length;l++){const c=r[l],u=n(c,l,r);i.has(u)||i.set(u,c)}return Array.from(i.values())}e.uniqBy=t})(ug)),ug}var dg={},lA;function d9(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}e.ary=t})(dg)),dg}var fg={},oA;function XO(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(fg)),fg}var mg={},pg={},hg={},cA;function f9(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(hg)),hg}var uA;function P1(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f9();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(pg)),pg}var xg={},dA;function m9(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(xg)),xg}var fA;function p9(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P1(),r=m9();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(mg)),mg}var vg={},gg={},mA;function h9(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T1();function r(n){return function(i){return t.get(i,n)}}e.property=r})(gg)),gg}var bg={},yg={},wg={},jg={},pA;function ZO(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(jg)),jg}var Ng={},hA;function JO(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Ng)),Ng}var Sg={},xA;function eT(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(Sg)),Sg}var vA;function x9(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZO(),r=JO(),n=eT();function i(h,x,v){return typeof v!="function"?i(h,x,()=>{}):l(h,x,function g(S,y,w,C,k,A){const M=v(S,y,w,C,k,A);return M!==void 0?!!M:l(S,y,g,A)},new Map)}function l(h,x,v,g){if(x===h)return!0;switch(typeof x){case"object":return c(h,x,v,g);case"function":return Object.keys(x).length>0?l(h,{...x},v,g):n.isEqualsSameValueZero(h,x);default:return t.isObject(h)?typeof x=="string"?x==="":!0:n.isEqualsSameValueZero(h,x)}}function c(h,x,v,g){if(x==null)return!0;if(Array.isArray(x))return f(h,x,v,g);if(x instanceof Map)return u(h,x,v,g);if(x instanceof Set)return m(h,x,v,g);const S=Object.keys(x);if(h==null||r.isPrimitive(h))return S.length===0;if(S.length===0)return!0;if(g?.has(x))return g.get(x)===h;g?.set(x,h);try{for(let y=0;y<S.length;y++){const w=S[y];if(!r.isPrimitive(h)&&!(w in h)||x[w]===void 0&&h[w]!==void 0||x[w]===null&&h[w]!==null||!v(h[w],x[w],w,h,x,g))return!1}return!0}finally{g?.delete(x)}}function u(h,x,v,g){if(x.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,y]of x.entries()){const w=h.get(S);if(v(w,y,S,h,x,g)===!1)return!1}return!0}function f(h,x,v,g){if(x.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let y=0;y<x.length;y++){const w=x[y];let C=!1;for(let k=0;k<h.length;k++){if(S.has(k))continue;const A=h[k];let M=!1;if(v(A,w,y,h,x,g)&&(M=!0),M){S.add(k),C=!0;break}}if(!C)return!1}return!0}function m(h,x,v,g){return x.size===0?!0:h instanceof Set?f([...h],[...x],v,g):!1}e.isMatchWith=i,e.isSetMatch=m})(wg)),wg}var gA;function tT(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x9();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(yg)),yg}var Cg={},Ag={},kg={},bA;function v9(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(kg)),kg}var Mg={},yA;function I1(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Mg)),Mg}var Dg={},wA;function rT(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",l="[object Arguments]",c="[object Symbol]",u="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",x="[object Function]",v="[object ArrayBuffer]",g="[object Object]",S="[object Error]",y="[object DataView]",w="[object Uint8Array]",C="[object Uint8ClampedArray]",k="[object Uint16Array]",A="[object Uint32Array]",M="[object BigUint64Array]",D="[object Int8Array]",T="[object Int16Array]",P="[object Int32Array]",O="[object BigInt64Array]",z="[object Float32Array]",L="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=M,e.booleanTag=i,e.dataViewTag=y,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=z,e.float64ArrayTag=L,e.functionTag=x,e.int16ArrayTag=T,e.int32ArrayTag=P,e.int8ArrayTag=D,e.mapTag=f,e.numberTag=n,e.objectTag=g,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=k,e.uint32ArrayTag=A,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=C})(Dg)),Dg}var Eg={},jA;function g9(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Eg)),Eg}var NA;function nT(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v9(),r=I1(),n=rT(),i=JO(),l=g9();function c(h,x){return u(h,void 0,h,new Map,x)}function u(h,x,v,g=new Map,S=void 0){const y=S?.(h,x,v,g);if(y!==void 0)return y;if(i.isPrimitive(h))return h;if(g.has(h))return g.get(h);if(Array.isArray(h)){const w=new Array(h.length);g.set(h,w);for(let C=0;C<h.length;C++)w[C]=u(h[C],C,v,g,S);return Object.hasOwn(h,"index")&&(w.index=h.index),Object.hasOwn(h,"input")&&(w.input=h.input),w}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const w=new RegExp(h.source,h.flags);return w.lastIndex=h.lastIndex,w}if(h instanceof Map){const w=new Map;g.set(h,w);for(const[C,k]of h)w.set(C,u(k,C,v,g,S));return w}if(h instanceof Set){const w=new Set;g.set(h,w);for(const C of h)w.add(u(C,void 0,v,g,S));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const w=new(Object.getPrototypeOf(h)).constructor(h.length);g.set(h,w);for(let C=0;C<h.length;C++)w[C]=u(h[C],C,v,g,S);return w}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const w=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return g.set(h,w),f(w,h,v,g,S),w}if(typeof File<"u"&&h instanceof File){const w=new File([h],h.name,{type:h.type});return g.set(h,w),f(w,h,v,g,S),w}if(typeof Blob<"u"&&h instanceof Blob){const w=new Blob([h],{type:h.type});return g.set(h,w),f(w,h,v,g,S),w}if(h instanceof Error){const w=new h.constructor;return g.set(h,w),w.message=h.message,w.name=h.name,w.stack=h.stack,w.cause=h.cause,f(w,h,v,g,S),w}if(h instanceof Boolean){const w=new Boolean(h.valueOf());return g.set(h,w),f(w,h,v,g,S),w}if(h instanceof Number){const w=new Number(h.valueOf());return g.set(h,w),f(w,h,v,g,S),w}if(h instanceof String){const w=new String(h.valueOf());return g.set(h,w),f(w,h,v,g,S),w}if(typeof h=="object"&&m(h)){const w=Object.create(Object.getPrototypeOf(h));return g.set(h,w),f(w,h,v,g,S),w}return h}function f(h,x,v=h,g,S){const y=[...Object.keys(x),...t.getSymbols(x)];for(let w=0;w<y.length;w++){const C=y[w],k=Object.getOwnPropertyDescriptor(h,C);(k==null||k.writable)&&(h[C]=u(x[C],C,v,g,S))}}function m(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=u,e.copyProperties=f})(Ag)),Ag}var SA;function b9(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nT();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Cg)),Cg}var CA;function y9(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tT(),r=b9();function n(i){return i=r.cloneDeep(i),l=>t.isMatch(l,i)}e.matches=n})(bg)),bg}var _g={},Og={},Tg={},AA;function w9(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nT(),r=I1(),n=rT();function i(l,c){return t.cloneDeepWith(l,(u,f,m,h)=>{const x=c?.(u,f,m,h);if(x!==void 0)return x;if(typeof l=="object"){if(r.getTag(l)===n.objectTag&&typeof l.constructor!="function"){const v={};return h.set(l,v),t.copyProperties(v,l,m,h),v}switch(Object.prototype.toString.call(l)){case n.numberTag:case n.stringTag:case n.booleanTag:{const v=new l.constructor(l?.valueOf());return t.copyProperties(v,l),v}case n.argumentsTag:{const v={};return t.copyProperties(v,l),v.length=l.length,v[Symbol.iterator]=l[Symbol.iterator],v}default:return}}})}e.cloneDeepWith=i})(Tg)),Tg}var kA;function j9(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w9();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Og)),Og}var Pg={},Ig={},MA;function aT(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Ig)),Ig}var Rg={},DA;function N9(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I1();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Rg)),Rg}var EA;function S9(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VO(),r=aT(),n=N9(),i=O1();function l(c,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&c?.[u]==null?f=i.toPath(u):f=[u],f.length===0)return!1;let m=c;for(let h=0;h<f.length;h++){const x=f[h];if((m==null||!Object.hasOwn(m,x))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(x)&&x<m.length))return!1;m=m[x]}return!0}e.has=l})(Pg)),Pg}var _A;function C9(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tT(),r=_1(),n=j9(),i=T1(),l=S9();function c(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return f=n.cloneDeep(f),function(m){const h=i.get(m,u);return h===void 0?l.has(m,u):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c})(_g)),_g}var OA;function A9(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XO(),r=h9(),n=y9(),i=C9();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=l})(vg)),vg}var TA;function k9(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u9(),r=d9(),n=XO(),i=p9(),l=A9();function c(u,f=n.identity){return i.isArrayLikeObject(u)?t.uniqBy(Array.from(u),r.ary(l.iteratee(f),1)):[]}e.uniqBy=c})(cg)),cg}var Lg,PA;function M9(){return PA||(PA=1,Lg=k9().uniqBy),Lg}var D9=M9();const IA=si(D9);function E9(e,t,r){return t===!0?IA(e,r):typeof t=="function"?IA(e,t):e}var Fg={exports:{}},zg={},Bg={exports:{}},$g={};var RA;function _9(){if(RA)return $g;RA=1;var e=Nc();function t(x,v){return x===v&&(x!==0||1/x===1/v)||x!==x&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function u(x,v){var g=v(),S=n({inst:{value:g,getSnapshot:v}}),y=S[0].inst,w=S[1];return l(function(){y.value=g,y.getSnapshot=v,f(y)&&w({inst:y})},[x,g,v]),i(function(){return f(y)&&w({inst:y}),x(function(){f(y)&&w({inst:y})})},[x]),c(g),g}function f(x){var v=x.getSnapshot;x=x.value;try{var g=v();return!r(x,g)}catch{return!0}}function m(x,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return $g.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,$g}var LA;function O9(){return LA||(LA=1,Bg.exports=_9()),Bg.exports}var FA;function T9(){if(FA)return zg;FA=1;var e=Nc(),t=O9();function r(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,u=e.useMemo,f=e.useDebugValue;return zg.useSyncExternalStoreWithSelector=function(m,h,x,v,g){var S=l(null);if(S.current===null){var y={hasValue:!1,value:null};S.current=y}else y=S.current;S=u(function(){function C(T){if(!k){if(k=!0,A=T,T=v(T),g!==void 0&&y.hasValue){var P=y.value;if(g(P,T))return M=P}return M=T}if(P=M,n(A,T))return P;var O=v(T);return g!==void 0&&g(P,O)?(A=T,P):(A=T,M=O)}var k=!1,A,M,D=x===void 0?null:x;return[function(){return C(h())},D===null?void 0:function(){return C(D())}]},[h,x,v,g]);var w=i(m,S[0],S[1]);return c(function(){y.hasValue=!0,y.value=w},[w]),f(w),w},zg}var zA;function P9(){return zA||(zA=1,Fg.exports=T9()),Fg.exports}var I9=P9(),R1=j.createContext(null),R9=e=>e,Or=()=>{var e=j.useContext(R1);return e?e.store.dispatch:R9},up=()=>{},L9=()=>up,F9=(e,t)=>e===t;function lt(e){var t=j.useContext(R1),r=j.useMemo(()=>t?n=>{if(n!=null)return e(n)}:up,[t,e]);return I9.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:L9,t?t.store.getState:up,t?t.store.getState:up,r,F9)}function z9(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function B9(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function $9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var BA=e=>Array.isArray(e)?e:[e];function q9(e){const t=Array.isArray(e[0])?e[0]:e;return $9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function H9(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var U9=class{constructor(e){this.value=e}deref(){return this.value}},Y9=typeof WeakRef<"u"?WeakRef:U9,V9=0,$A=1;function wm(){return{s:V9,v:void 0,o:null,p:null}}function iT(e,t={}){let r=wm();const{resultEqualityCheck:n}=t;let i,l=0;function c(){let u=r;const{length:f}=arguments;for(let x=0,v=f;x<v;x++){const g=arguments[x];if(typeof g=="function"||typeof g=="object"&&g!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const y=S.get(g);y===void 0?(u=wm(),S.set(g,u)):u=y}else{let S=u.p;S===null&&(u.p=S=new Map);const y=S.get(g);y===void 0?(u=wm(),S.set(g,u)):u=y}}const m=u;let h;if(u.s===$A)h=u.v;else if(h=e.apply(null,arguments),l++,n){const x=i?.deref?.()??i;x!=null&&n(x,h)&&(h=x,l!==0&&l--),i=typeof h=="object"&&h!==null||typeof h=="function"?new Y9(h):h}return m.s=$A,m.v=h,h}return c.clearCache=()=>{r=wm(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function G9(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let l=0,c=0,u,f={},m=i.pop();typeof m=="object"&&(f=m,m=i.pop()),z9(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...r,...f},{memoize:x,memoizeOptions:v=[],argsMemoize:g=iT,argsMemoizeOptions:S=[]}=h,y=BA(v),w=BA(S),C=q9(i),k=x(function(){return l++,m.apply(null,arguments)},...y),A=g(function(){c++;const D=H9(C,arguments);return u=k.apply(null,D),u},...w);return Object.assign(A,{resultFunc:m,memoizedResultFunc:k,dependencies:C,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:x,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var ce=G9(iT),W9=Object.assign((e,t=ce)=>{B9(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(l=>e[l]);return t(n,(...l)=>l.reduce((c,u,f)=>(c[r[f]]=u,c),{}))},{withTypes:()=>W9}),qg={},Hg={},Ug={},qA;function K9(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,l)=>{if(n!==i){const c=t(n),u=t(i);if(c===u&&c===0){if(n<i)return l==="desc"?1:-1;if(n>i)return l==="desc"?-1:1}return l==="desc"?u-c:c-u}return 0};e.compareValues=r})(Ug)),Ug}var Yg={},Vg={},HA;function sT(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Vg)),Vg}var UA;function Q9(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sT(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(n.test(l)||!r.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=i})(Yg)),Yg}var YA;function X9(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K9(),r=Q9(),n=O1();function i(l,c,u,f){if(l==null)return[];u=f?void 0:u,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(g=>String(g));const m=(g,S)=>{let y=g;for(let w=0;w<S.length&&y!=null;++w)y=y[S[w]];return y},h=(g,S)=>S==null||g==null?S:typeof g=="object"&&"key"in g?Object.hasOwn(S,g.key)?S[g.key]:m(S,g.path):typeof g=="function"?g(S):Array.isArray(g)?m(S,g):typeof S=="object"?S[g]:S,x=c.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return l.map(g=>({original:g,criteria:x.map(S=>h(S,g))})).slice().sort((g,S)=>{for(let y=0;y<x.length;y++){const w=t.compareValues(g.criteria[y],S.criteria[y],u[y]);if(w!==0)return w}return 0}).map(g=>g.original)}e.orderBy=i})(Hg)),Hg}var Gg={},VA;function Z9(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],l=Math.floor(n),c=(u,f)=>{for(let m=0;m<u.length;m++){const h=u[m];Array.isArray(h)&&f<l?c(h,f+1):i.push(h)}};return c(r,0),i}e.flatten=t})(Gg)),Gg}var Wg={},GA;function lT(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aT(),r=P1(),n=ZO(),i=eT();function l(c,u,f){return n.isObject(f)&&(typeof u=="number"&&r.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.isEqualsSameValueZero(f[u],c):!1}e.isIterateeCall=l})(Wg)),Wg}var WA;function J9(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X9(),r=Z9(),n=lT();function i(l,...c){const u=c.length;return u>1&&n.isIterateeCall(l,c[0],c[1])?c=[]:u>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,r.flatten(c),["asc"])}e.sortBy=i})(qg)),qg}var Kg,KA;function eq(){return KA||(KA=1,Kg=J9().sortBy),Kg}var tq=eq();const Bh=si(tq);var oT=e=>e.legend.settings,rq=e=>e.legend.size,nq=e=>e.legend.payload;ce([nq,oT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Bh(n,r):n});var jm=1;function aq(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=j.useState({height:0,left:0,top:0,width:0}),n=j.useCallback(i=>{if(i!=null){var l=i.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>jm||Math.abs(c.left-t.left)>jm||Math.abs(c.top-t.top)>jm||Math.abs(c.width-t.width)>jm)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Yr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var iq=typeof Symbol=="function"&&Symbol.observable||"@@observable",QA=iq,Qg=()=>Math.random().toString(36).substring(7).split("").join("."),sq={INIT:`@@redux/INIT${Qg()}`,REPLACE:`@@redux/REPLACE${Qg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Qg()}`},Pp=sq;function L1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function cT(e,t,r){if(typeof e!="function")throw new Error(Yr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Yr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Yr(1));return r(cT)(e,t)}let n=e,i=t,l=new Map,c=l,u=0,f=!1;function m(){c===l&&(c=new Map,l.forEach((w,C)=>{c.set(C,w)}))}function h(){if(f)throw new Error(Yr(3));return i}function x(w){if(typeof w!="function")throw new Error(Yr(4));if(f)throw new Error(Yr(5));let C=!0;m();const k=u++;return c.set(k,w),function(){if(C){if(f)throw new Error(Yr(6));C=!1,m(),c.delete(k),l=null}}}function v(w){if(!L1(w))throw new Error(Yr(7));if(typeof w.type>"u")throw new Error(Yr(8));if(typeof w.type!="string")throw new Error(Yr(17));if(f)throw new Error(Yr(9));try{f=!0,i=n(i,w)}finally{f=!1}return(l=c).forEach(k=>{k()}),w}function g(w){if(typeof w!="function")throw new Error(Yr(10));n=w,v({type:Pp.REPLACE})}function S(){const w=x;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Yr(11));function k(){const M=C;M.next&&M.next(h())}return k(),{unsubscribe:w(k)}},[QA](){return this}}}return v({type:Pp.INIT}),{dispatch:v,subscribe:x,getState:h,replaceReducer:g,[QA]:S}}function lq(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Pp.INIT})>"u")throw new Error(Yr(12));if(typeof r(void 0,{type:Pp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Yr(13))})}function uT(e){const t=Object.keys(e),r={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let i;try{lq(r)}catch(l){i=l}return function(c={},u){if(i)throw i;let f=!1;const m={};for(let h=0;h<n.length;h++){const x=n[h],v=r[x],g=c[x],S=v(g,u);if(typeof S>"u")throw u&&u.type,new Error(Yr(14));m[x]=S,f=f||S!==g}return f=f||n.length!==Object.keys(c).length,f?m:c}}function Ip(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function oq(...e){return t=>(r,n)=>{const i=t(r,n);let l=()=>{throw new Error(Yr(15))};const c={getState:i.getState,dispatch:(f,...m)=>l(f,...m)},u=e.map(f=>f(c));return l=Ip(...u)(i.dispatch),{...i,dispatch:l}}}function dT(e){return L1(e)&&"type"in e&&typeof e.type=="string"}var fT=Symbol.for("immer-nothing"),XA=Symbol.for("immer-draftable"),sn=Symbol.for("immer-state");function ha(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var In=Object,uc=In.getPrototypeOf,Rp="constructor",$h="prototype",hy="configurable",Lp="enumerable",dp="writable",dd="value",Ui=e=>!!e&&!!e[sn];function Ca(e){return e?mT(e)||Hh(e)||!!e[XA]||!!e[Rp]?.[XA]||Uh(e)||Yh(e):!1}var cq=In[$h][Rp].toString(),ZA=new WeakMap;function mT(e){if(!e||!F1(e))return!1;const t=uc(e);if(t===null||t===In[$h])return!0;const r=In.hasOwnProperty.call(t,Rp)&&t[Rp];if(r===Object)return!0;if(!Qo(r))return!1;let n=ZA.get(r);return n===void 0&&(n=Function.toString.call(r),ZA.set(r,n)),n===cq}function qh(e,t,r=!0){Pd(e)===0?(r?Reflect.ownKeys(e):In.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Pd(e){const t=e[sn];return t?t.type_:Hh(e)?1:Uh(e)?2:Yh(e)?3:0}var JA=(e,t,r=Pd(e))=>r===2?e.has(t):In[$h].hasOwnProperty.call(e,t),xy=(e,t,r=Pd(e))=>r===2?e.get(t):e[t],Fp=(e,t,r,n=Pd(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function uq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Hh=Array.isArray,Uh=e=>e instanceof Map,Yh=e=>e instanceof Set,F1=e=>typeof e=="object",Qo=e=>typeof e=="function",Xg=e=>typeof e=="boolean";function dq(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ti=e=>e.copy_||e.base_,z1=e=>e.modified_?e.copy_:e.base_;function vy(e,t){if(Uh(e))return new Map(e);if(Yh(e))return new Set(e);if(Hh(e))return Array[$h].slice.call(e);const r=mT(e);if(t===!0||t==="class_only"&&!r){const n=In.getOwnPropertyDescriptors(e);delete n[sn];let i=Reflect.ownKeys(n);for(let l=0;l<i.length;l++){const c=i[l],u=n[c];u[dp]===!1&&(u[dp]=!0,u[hy]=!0),(u.get||u.set)&&(n[c]={[hy]:!0,[dp]:!0,[Lp]:u[Lp],[dd]:e[c]})}return In.create(uc(e),n)}else{const n=uc(e);if(n!==null&&r)return{...e};const i=In.create(n);return In.assign(i,e)}}function B1(e,t=!1){return Vh(e)||Ui(e)||!Ca(e)||(Pd(e)>1&&In.defineProperties(e,{set:Nm,add:Nm,clear:Nm,delete:Nm}),In.freeze(e),t&&qh(e,(r,n)=>{B1(n,!0)},!1)),e}function fq(){ha(2)}var Nm={[dd]:fq};function Vh(e){return e===null||!F1(e)?!0:In.isFrozen(e)}var zp="MapSet",gy="Patches",ek="ArrayMethods",pT={};function Wl(e){const t=pT[e];return t||ha(0,e),t}var tk=e=>!!pT[e],fd,hT=()=>fd,mq=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:tk(zp)?Wl(zp):void 0,arrayMethodsPlugin_:tk(ek)?Wl(ek):void 0});function rk(e,t){t&&(e.patchPlugin_=Wl(gy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function by(e){yy(e),e.drafts_.forEach(pq),e.drafts_=null}function yy(e){e===fd&&(fd=e.parent_)}var nk=e=>fd=mq(fd,e);function pq(e){const t=e[sn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ak(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[sn].modified_&&(by(t),ha(4)),Ca(e)&&(e=ik(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[sn].base_,e,t)}else e=ik(t,r);return hq(t,e,!0),by(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==fT?e:void 0}function ik(e,t){if(Vh(t))return t;const r=t[sn];if(!r)return Bp(t,e.handledSet_,e);if(!Gh(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);gT(r,e)}return r.copy_}function hq(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&B1(t,r)}function xT(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Gh=(e,t)=>e.scope_===t,xq=[];function vT(e,t,r,n){const i=Ti(e),l=e.type_;if(n!==void 0&&xy(i,n,l)===t){Fp(i,n,r,l);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;qh(i,(f,m)=>{if(Ui(m)){const h=u.get(m)||[];h.push(f),u.set(m,h)}})}const c=e.draftLocations_.get(t)??xq;for(const u of c)Fp(i,u,r,l)}function vq(e,t,r){e.callbacks_.push(function(i){const l=t;if(!l||!Gh(l,i))return;i.mapSetPlugin_?.fixSetContents(l);const c=z1(l);vT(e,l.draft_??l,c,r),gT(l,i)})}function gT(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const i=n.getPath(e);i&&n.generatePatches_(e,i,t)}xT(e)}}function gq(e,t,r){const{scope_:n}=e;if(Ui(r)){const i=r[sn];Gh(i,n)&&i.callbacks_.push(function(){fp(e);const c=z1(i);vT(e,r,c,t)})}else Ca(r)&&e.callbacks_.push(function(){const l=Ti(e);e.type_===3?l.has(r)&&Bp(r,n.handledSet_,n):xy(l,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Bp(xy(e.copy_,t,e.type_),n.handledSet_,n)})}function Bp(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ui(e)||t.has(e)||!Ca(e)||Vh(e)||(t.add(e),qh(e,(n,i)=>{if(Ui(i)){const l=i[sn];if(Gh(l,r)){const c=z1(l);Fp(e,n,c,e.type_),xT(l)}}else Ca(i)&&Bp(i,t,r)})),e}function bq(e,t){const r=Hh(e),n={type_:r?1:0,scope_:t?t.scope_:hT(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,l=$p;r&&(i=[n],l=md);const{revoke:c,proxy:u}=Proxy.revocable(i,l);return n.draft_=u,n.revoke_=c,[u,n]}var $p={get(e,t){if(t===sn)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=Ti(e);if(!JA(i,t,e.type_))return yq(e,i,t);const l=i[t];if(e.finalized_||!Ca(l)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&dq(t))return l;if(l===Zg(e.base_,t)){fp(e);const c=e.type_===1?+t:t,u=jy(e.scope_,l,e,c);return e.copy_[c]=u}return l},has(e,t){return t in Ti(e)},ownKeys(e){return Reflect.ownKeys(Ti(e))},set(e,t,r){const n=bT(Ti(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Zg(Ti(e),t),l=i?.[sn];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(uq(r,i)&&(r!==void 0||JA(e.base_,t,e.type_)))return!0;fp(e),wy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),gq(e,t,r)),!0},deleteProperty(e,t){return fp(e),Zg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),wy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ti(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[dp]:!0,[hy]:e.type_!==1||t!=="length",[Lp]:n[Lp],[dd]:r[t]}},defineProperty(){ha(11)},getPrototypeOf(e){return uc(e.base_)},setPrototypeOf(){ha(12)}},md={};for(let e in $p){let t=$p[e];md[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}md.deleteProperty=function(e,t){return md.set.call(this,e,t,void 0)};md.set=function(e,t,r){return $p.set.call(this,e[0],t,r,e[0])};function Zg(e,t){const r=e[sn];return(r?Ti(r):e)[t]}function yq(e,t,r){const n=bT(t,r);return n?dd in n?n[dd]:n.get?.call(e.draft_):void 0}function bT(e,t){if(!(t in e))return;let r=uc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=uc(r)}}function wy(e){e.modified_||(e.modified_=!0,e.parent_&&wy(e.parent_))}function fp(e){e.copy_||(e.assigned_=new Map,e.copy_=vy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var wq=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Qo(r)&&!Qo(n)){const c=n;n=r;const u=this;return function(m=c,...h){return u.produce(m,x=>n.call(this,x,...h))}}Qo(n)||ha(6),i!==void 0&&!Qo(i)&&ha(7);let l;if(Ca(r)){const c=nk(this),u=jy(c,r,void 0);let f=!0;try{l=n(u),f=!1}finally{f?by(c):yy(c)}return rk(c,i),ak(l,c)}else if(!r||!F1(r)){if(l=n(r),l===void 0&&(l=r),l===fT&&(l=void 0),this.autoFreeze_&&B1(l,!0),i){const c=[],u=[];Wl(gy).generateReplacementPatches_(r,l,{patches_:c,inversePatches_:u}),i(c,u)}return l}else ha(1,r)},this.produceWithPatches=(r,n)=>{if(Qo(r))return(u,...f)=>this.produceWithPatches(u,m=>r(m,...f));let i,l;return[this.produce(r,n,(u,f)=>{i=u,l=f}),i,l]},Xg(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Xg(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Xg(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ca(t)||ha(8),Ui(t)&&(t=ya(t));const r=nk(this),n=jy(r,t,void 0);return n[sn].isManual_=!0,yy(r),n}finishDraft(t,r){const n=t&&t[sn];(!n||!n.isManual_)&&ha(9);const{scope_:i}=n;return rk(i,r),ak(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const l=r[n];if(l.path.length===0&&l.op==="replace"){t=l.value;break}}n>-1&&(r=r.slice(n+1));const i=Wl(gy).applyPatches_;return Ui(t)?i(t,r):this.produce(t,l=>i(l,r))}};function jy(e,t,r,n){const[i,l]=Uh(t)?Wl(zp).proxyMap_(t,r):Yh(t)?Wl(zp).proxySet_(t,r):bq(t,r);return(r?.scope_??hT()).drafts_.push(i),l.callbacks_=r?.callbacks_??[],l.key_=n,r&&n!==void 0?vq(r,l,n):l.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(l);const{patchPlugin_:m}=f;l.modified_&&m&&m.generatePatches_(l,[],f)}),i}function ya(e){return Ui(e)||ha(10,e),yT(e)}function yT(e){if(!Ca(e)||Vh(e))return e;const t=e[sn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=vy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=vy(e,!0);return qh(r,(i,l)=>{Fp(r,i,yT(l))},n),t&&(t.finalized_=!1),r}var jq=new wq,wT=jq.produce;function jT(e){return({dispatch:r,getState:n})=>i=>l=>typeof l=="function"?l(r,n,e):i(l)}var Nq=jT(),Sq=jT,Cq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ip:Ip.apply(null,arguments)};function aa(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Ln(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>dT(n)&&n.type===e,r}var NT=class td extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,td.prototype)}static get[Symbol.species](){return td}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new td(...t[0].concat(this)):new td(...t.concat(this))}};function sk(e){return Ca(e)?wT(e,()=>{}):e}function Sm(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Aq(e){return typeof e=="boolean"}var kq=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:l=!0}=t??{};let c=new NT;return r&&(Aq(r)?c.push(Nq):c.push(Sq(r.extraArgument))),c},ST="RTK_autoBatch",Zt=()=>e=>({payload:e,meta:{[ST]:!0}}),lk=e=>t=>{setTimeout(t,e)},CT=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,l=!1,c=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:lk(10):e.type==="callback"?e.queueNotification:lk(e.timeout),m=()=>{c=!1,l&&(l=!1,u.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const x=()=>i&&h(),v=n.subscribe(x);return u.add(h),()=>{v(),u.delete(h)}},dispatch(h){try{return i=!h?.meta?.[ST],l=!i,l&&(c||(c=!0,f(m))),n.dispatch(h)}finally{i=!0}}})},Mq=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new NT(e);return n&&i.push(CT(typeof n=="object"?n:void 0)),i};function Dq(e){const t=kq(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(L1(r))u=uT(r);else throw new Error(Ln(1));let f;typeof n=="function"?f=n(t):f=t();let m=Ip;i&&(m=Cq({trace:!1,...typeof i=="object"&&i}));const h=oq(...f),x=Mq(h);let v=typeof c=="function"?c(x):x();const g=m(...v);return cT(u,l,g)}function AT(e){const t={},r=[];let n;const i={addCase(l,c){const u=typeof l=="string"?l:l.type;if(!u)throw new Error(Ln(28));if(u in t)throw new Error(Ln(29));return t[u]=c,i},addAsyncThunk(l,c){return c.pending&&(t[l.pending.type]=c.pending),c.rejected&&(t[l.rejected.type]=c.rejected),c.fulfilled&&(t[l.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:l.settled,reducer:c.settled}),i},addMatcher(l,c){return r.push({matcher:l,reducer:c}),i},addDefaultCase(l){return n=l,i}};return e(i),[t,r,n]}function Eq(e){return typeof e=="function"}function _q(e,t){let[r,n,i]=AT(t),l;if(Eq(e))l=()=>sk(e());else{const u=sk(e);l=()=>u}function c(u=l(),f){let m=[r[f.type],...n.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[i]),m.reduce((h,x)=>{if(x)if(Ui(h)){const g=x(h,f);return g===void 0?h:g}else{if(Ca(h))return wT(h,v=>x(v,f));{const v=x(h,f);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},u)}return c.getInitialState=l,c}var Oq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Tq=(e=21)=>{let t="",r=e;for(;r--;)t+=Oq[Math.random()*64|0];return t},Pq=Symbol.for("rtk-slice-createasyncthunk");function Iq(e,t){return`${e}/${t}`}function Rq({creators:e}={}){const t=e?.asyncThunk?.[Pq];return function(n){const{name:i,reducerPath:l=i}=n;if(!i)throw new Error(Ln(11));const c=(typeof n.reducers=="function"?n.reducers(Fq()):n.reducers)||{},u=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(A,M){const D=typeof A=="string"?A:A.type;if(!D)throw new Error(Ln(12));if(D in f.sliceCaseReducersByType)throw new Error(Ln(13));return f.sliceCaseReducersByType[D]=M,m},addMatcher(A,M){return f.sliceMatchers.push({matcher:A,reducer:M}),m},exposeAction(A,M){return f.actionCreators[A]=M,m},exposeCaseReducer(A,M){return f.sliceCaseReducersByName[A]=M,m}};u.forEach(A=>{const M=c[A],D={reducerName:A,type:Iq(i,A),createNotation:typeof n.reducers=="function"};Bq(M)?qq(D,M,m,t):zq(D,M,m)});function h(){const[A={},M=[],D=void 0]=typeof n.extraReducers=="function"?AT(n.extraReducers):[n.extraReducers],T={...A,...f.sliceCaseReducersByType};return _q(n.initialState,P=>{for(let O in T)P.addCase(O,T[O]);for(let O of f.sliceMatchers)P.addMatcher(O.matcher,O.reducer);for(let O of M)P.addMatcher(O.matcher,O.reducer);D&&P.addDefaultCase(D)})}const x=A=>A,v=new Map,g=new WeakMap;let S;function y(A,M){return S||(S=h()),S(A,M)}function w(){return S||(S=h()),S.getInitialState()}function C(A,M=!1){function D(P){let O=P[A];return typeof O>"u"&&M&&(O=Sm(g,D,w)),O}function T(P=x){const O=Sm(v,M,()=>new WeakMap);return Sm(O,P,()=>{const z={};for(const[L,$]of Object.entries(n.selectors??{}))z[L]=Lq($,P,()=>Sm(g,P,w),M);return z})}return{reducerPath:A,getSelectors:T,get selectors(){return T(D)},selectSlice:D}}const k={name:i,reducer:y,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:w,...C(l),injectInto(A,{reducerPath:M,...D}={}){const T=M??l;return A.inject({reducerPath:T,reducer:y},D),{...k,...C(T,!0)}}};return k}}function Lq(e,t,r,n){function i(l,...c){let u=t(l);return typeof u>"u"&&n&&(u=r()),e(u,...c)}return i.unwrapped=e,i}var wn=Rq();function Fq(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function zq({type:e,reducerName:t,createNotation:r},n,i){let l,c;if("reducer"in n){if(r&&!$q(n))throw new Error(Ln(17));l=n.reducer,c=n.prepare}else l=n;i.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?aa(e,c):aa(e))}function Bq(e){return e._reducerDefinitionType==="asyncThunk"}function $q(e){return e._reducerDefinitionType==="reducerWithPrepare"}function qq({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Ln(18));const{payloadCreator:l,fulfilled:c,pending:u,rejected:f,settled:m,options:h}=r,x=i(e,l,h);n.exposeAction(t,x),c&&n.addCase(x.fulfilled,c),u&&n.addCase(x.pending,u),f&&n.addCase(x.rejected,f),m&&n.addMatcher(x.settled,m),n.exposeCaseReducer(t,{fulfilled:c||Cm,pending:u||Cm,rejected:f||Cm,settled:m||Cm})}function Cm(){}var Hq="task",kT="listener",MT="completed",$1="cancelled",Uq=`task-${$1}`,Yq=`task-${MT}`,Ny=`${kT}-${$1}`,Vq=`${kT}-${MT}`,Wh=class{constructor(e){this.code=e,this.message=`${Hq} ${$1} (reason: ${e})`}name="TaskAbortError";message},q1=(e,t)=>{if(typeof e!="function")throw new TypeError(Ln(32))},qp=()=>{},DT=(e,t=qp)=>(e.catch(t),e),ET=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),zl=e=>{if(e.aborted)throw new Wh(e.reason)};function _T(e,t){let r=qp;return new Promise((n,i)=>{const l=()=>i(new Wh(e.reason));if(e.aborted){l();return}r=ET(e,l),t.finally(()=>r()).then(n,i)}).finally(()=>{r=qp})}var Gq=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Wh?"cancelled":"rejected",error:r}}finally{t?.()}},Hp=e=>t=>DT(_T(e,t).then(r=>(zl(e),r))),OT=e=>{const t=Hp(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:nc}=Object,ok={},Kh="listenerMiddleware",Wq=(e,t)=>{const r=n=>ET(e,()=>n.abort(e.reason));return(n,i)=>{q1(n);const l=new AbortController;r(l);const c=Gq(async()=>{zl(e),zl(l.signal);const u=await n({pause:Hp(l.signal),delay:OT(l.signal),signal:l.signal});return zl(l.signal),u},()=>l.abort(Yq));return i?.autoJoin&&t.push(c.catch(qp)),{result:Hp(e)(c),cancel(){l.abort(Uq)}}}},Kq=(e,t)=>{const r=async(n,i)=>{zl(t);let l=()=>{};const u=[new Promise((f,m)=>{let h=e({predicate:n,effect:(x,v)=>{v.unsubscribe(),f([x,v.getState(),v.getOriginalState()])}});l=()=>{h(),m()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await _T(t,Promise.race(u));return zl(t),f}finally{l()}};return(n,i)=>DT(r(n,i))},TT=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:l}=e;if(t)i=aa(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Ln(21));return q1(l),{predicate:i,type:t,effect:l}},PT=nc(e=>{const{type:t,predicate:r,effect:n}=TT(e);return{id:Tq(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ln(22))}}},{withTypes:()=>PT}),ck=(e,t)=>{const{type:r,effect:n,predicate:i}=TT(t);return Array.from(e.values()).find(l=>(typeof r=="string"?l.type===r:l.predicate===i)&&l.effect===n)},Sy=e=>{e.pending.forEach(t=>{t.abort(Ny)})},Qq=(e,t)=>()=>{for(const r of t.keys())Sy(r);e.clear()},uk=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},IT=nc(aa(`${Kh}/add`),{withTypes:()=>IT}),Xq=aa(`${Kh}/removeAll`),RT=nc(aa(`${Kh}/remove`),{withTypes:()=>RT}),Zq=(...e)=>{console.error(`${Kh}/error`,...e)},Id=(e={})=>{const t=new Map,r=new Map,n=g=>{const S=r.get(g)??0;r.set(g,S+1)},i=g=>{const S=r.get(g)??1;S===1?r.delete(g):r.set(g,S-1)},{extra:l,onError:c=Zq}=e;q1(c);const u=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),S=>{g.unsubscribe(),S?.cancelActive&&Sy(g)}),f=g=>{const S=ck(t,g)??PT(g);return u(S)};nc(f,{withTypes:()=>f});const m=g=>{const S=ck(t,g);return S&&(S.unsubscribe(),g.cancelActive&&Sy(S)),!!S};nc(m,{withTypes:()=>m});const h=async(g,S,y,w)=>{const C=new AbortController,k=Kq(f,C.signal),A=[];try{g.pending.add(C),n(g),await Promise.resolve(g.effect(S,nc({},y,{getOriginalState:w,condition:(M,D)=>k(M,D).then(Boolean),take:k,delay:OT(C.signal),pause:Hp(C.signal),extra:l,signal:C.signal,fork:Wq(C.signal,A),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((M,D,T)=>{M!==C&&(M.abort(Ny),T.delete(M))})},cancel:()=>{C.abort(Ny),g.pending.delete(C)},throwIfCancelled:()=>{zl(C.signal)}})))}catch(M){M instanceof Wh||uk(c,M,{raisedBy:"effect"})}finally{await Promise.all(A),C.abort(Vq),i(g),g.pending.delete(C)}},x=Qq(t,r);return{middleware:g=>S=>y=>{if(!dT(y))return S(y);if(IT.match(y))return f(y.payload);if(Xq.match(y)){x();return}if(RT.match(y))return m(y.payload);let w=g.getState();const C=()=>{if(w===ok)throw new Error(Ln(23));return w};let k;try{if(k=S(y),t.size>0){const A=g.getState(),M=Array.from(t.values());for(const D of M){let T=!1;try{T=D.predicate(y,A,w)}catch(P){T=!1,uk(c,P,{raisedBy:"predicate"})}T&&h(D,y,g,C)}}}finally{w=ok}return k},startListening:f,stopListening:m,clearListeners:x}};function Ln(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Jq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},LT=wn({name:"chartLayout",initialState:Jq,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,l;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(l=t.payload.left)!==null&&l!==void 0?l:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:eH,setLayout:tH,setChartSize:rH,setScale:nH}=LT.actions,aH=LT.reducer;function FT(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function zt(e){return Number.isFinite(e)}function Hs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dk(Object(r),!0).forEach(function(n){iH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iH(e,t,r){return(t=sH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sH(e){var t=lH(e,"string");return typeof t=="symbol"?t:t+""}function lH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fr(e,t,r){return zn(e)||zn(t)?r:Hi(t)?cd(e,t,r):typeof t=="function"?t(e):r}var oH=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:l,verticalAlign:c,layout:u}=t;if((u==="vertical"||u==="horizontal"&&c==="middle")&&l!=="center"&&tt(e[l]))return Zo(Zo({},e),{},{[l]:e[l]+(n||0)});if((u==="horizontal"||u==="vertical"&&l==="center")&&c!=="middle"&&tt(e[c]))return Zo(Zo({},e),{},{[c]:e[c]+(i||0)})}return e},Ws=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",cH=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var l=0,c=0,u=0;u<r;++u){var f=e[u],m=f?.[i];if(m!=null){var h=m[1],x=m[0],v=qi(h)?x:h;v>=0?(m[0]=l,l+=v,m[1]=l):(m[0]=c,c+=v,m[1]=c)}}}},uH=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var l=0,c=0;c<r;++c){var u=e[c],f=u?.[i];if(f!=null){var m=qi(f[1])?f[0]:f[1];m>=0?(f[0]=l,l+=m,f[1]=l):(f[0]=0,f[1]=0)}}}},dH={sign:cH,expand:L$,none:Vl,silhouette:F$,wiggle:z$,positive:uH},fH=(e,t,r)=>{var n,i=(n=dH[r])!==null&&n!==void 0?n:Vl,l=R$().keys(t).value((u,f)=>Number(fr(u,f,0))).order(my).offset(i),c=l(e);return c.forEach((u,f)=>{u.forEach((m,h)=>{var x=fr(e[h],t[f],0);Array.isArray(x)&&x.length===2&&tt(x[0])&&tt(x[1])&&(m[0]=x[0],m[1]=x[1])})}),c},mH=e=>{var t=e.flat(2).filter(tt);return[Math.min(...t),Math.max(...t)]},pH=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],hH=(e,t,r)=>{if(e!=null)return pH(Object.keys(e).reduce((n,i)=>{var l=e[i];if(!l)return n;var{stackedData:c}=l,u=c.reduce((f,m)=>{var h=FT(m,t,r),x=mH(h);return!zt(x[0])||!zt(x[1])?f:[Math.min(f[0],x[0]),Math.max(f[1],x[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},fk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pk=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();return n}if(e&&t&&t.length>=2){for(var i=Bh(t,h=>h.coordinate),l=1/0,c=1,u=i.length;c<u;c++){var f=i[c],m=i[c-1];l=Math.min((f?.coordinate||0)-(m?.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0};function hk(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:l}=e;return Zo(Zo({},t),{},{dataKey:r,payload:n,value:i,name:l})}function zT(e,t){if(e)return String(e);if(typeof t=="string")return t}var xH=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},vH=(e,t)=>t==="centric"?e.angle:e.radius,Zi=e=>e.layout.width,Ji=e=>e.layout.height,gH=e=>e.layout.scale,BT=e=>e.layout.margin,Qh=ce(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Xh=ce(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),$T="data-recharts-item-index",qT="data-recharts-item-id",Rd=60;function xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(r),!0).forEach(function(n){bH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bH(e,t,r){return(t=yH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yH(e){var t=wH(e,"string");return typeof t=="symbol"?t:t+""}function wH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jH=e=>e.brush.height;function NH(e){var t=Xh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Rd;return r+i}return r},0)}function SH(e){var t=Xh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Rd;return r+i}return r},0)}function CH(e){var t=Qh(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function AH(e){var t=Qh(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Fr=ce([Zi,Ji,BT,jH,NH,SH,CH,AH,oT,rq],(e,t,r,n,i,l,c,u,f,m)=>{var h={left:(r.left||0)+i,right:(r.right||0)+l},x={top:(r.top||0)+c,bottom:(r.bottom||0)+u},v=Am(Am({},x),h),g=v.bottom;v.bottom+=n,v=oH(v,f,m);var S=e-v.left-v.right,y=t-v.top-v.bottom;return Am(Am({brushBottom:g},v),{},{width:Math.max(S,0),height:Math.max(y,0)})}),kH=ce(Fr,e=>({x:e.left,y:e.top,width:e.width,height:e.height}));ce(Zi,Ji,(e,t)=>({x:0,y:0,width:e,height:t}));var MH=j.createContext(null),Ks=()=>j.useContext(MH)!=null,Zh=e=>e.brush,Jh=ce([Zh,Fr,BT],(e,t,r)=>({height:e.height,x:tt(e.x)?e.x:t.left,y:tt(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:tt(e.width)?e.width:t.width})),Jg={},eb={},tb={},vk;function DH(){return vk||(vk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:l}={}){let c,u=null;const f=l!=null&&l.includes("leading"),m=l==null||l.includes("trailing"),h=()=>{u!==null&&(r.apply(c,u),c=void 0,u=null)},x=()=>{m&&h(),y()};let v=null;const g=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,x()},n)},S=()=>{v!==null&&(clearTimeout(v),v=null)},y=()=>{S(),c=void 0,u=null},w=()=>{h()},C=function(...k){if(i?.aborted)return;c=this,u=k;const A=v==null;g(),f&&A&&h()};return C.schedule=g,C.cancel=y,C.flush=w,i?.addEventListener("abort",y,{once:!0}),C}e.debounce=t})(tb)),tb}var gk;function EH(){return gk||(gk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DH();function r(n,i=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:u=!0,maxWait:f}=l,m=Array(2);c&&(m[0]="leading"),u&&(m[1]="trailing");let h,x=null;const v=t.debounce(function(...y){h=n.apply(this,y),x=null},i,{edges:m}),g=function(...y){return f!=null&&(x===null&&(x=Date.now()),Date.now()-x>=f)?(h=n.apply(this,y),x=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,y),h)},S=()=>(v.flush(),h);return g.cancel=v.cancel,g.flush=S,g}e.debounce=r})(eb)),eb}var bk;function _H(){return bk||(bk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EH();function r(n,i=0,l={}){const{leading:c=!0,trailing:u=!0}=l;return t.debounce(n,i,{leading:c,maxWait:i,trailing:u})}e.throttle=r})(Jg)),Jg}var rb,yk;function OH(){return yk||(yk=1,rb=_H().throttle),rb}var TH=OH();const PH=si(TH);var wk=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),l=2;l<n;l++)i[l-2]=arguments[l];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>i[c++]))}},Ka={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},HT=(e,t,r)=>{var{width:n=Ka.width,height:i=Ka.height,aspect:l,maxHeight:c}=r,u=Gl(n)?e:Number(n),f=Gl(i)?t:Number(i);return l&&l>0&&(u?f=u/l:f&&(u=f*l),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:u,calculatedHeight:f}},IH={width:0,height:0,overflow:"visible"},RH={width:0,overflowX:"visible"},LH={height:0,overflowY:"visible"},FH={},zH=e=>{var{width:t,height:r}=e,n=Gl(t),i=Gl(r);return n&&i?IH:n?RH:i?LH:FH};function BH(e){var{width:t,height:r,aspect:n}=e,i=t,l=r;return i===void 0&&l===void 0?(i=Ka.width,l=Ka.height):i===void 0?i=n&&n>0?void 0:Ka.width:l===void 0&&(l=n&&n>0?void 0:Ka.height),{width:i,height:l}}function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(null,arguments)}function jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(r),!0).forEach(function(n){$H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $H(e,t,r){return(t=qH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=HH(e,"string");return typeof t=="symbol"?t:t+""}function HH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UT=j.createContext(Ka.initialDimension);function UH(e){return Hs(e.width)&&Hs(e.height)}function YT(e){var{children:t,width:r,height:n}=e,i=j.useMemo(()=>({width:r,height:n}),[r,n]);return UH(i)?j.createElement(UT.Provider,{value:i},t):null}var H1=()=>j.useContext(UT),YH=j.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Ka.initialDimension,width:i,height:l,minWidth:c=Ka.minWidth,minHeight:u,maxHeight:f,children:m,debounce:h=Ka.debounce,id:x,className:v,onResize:g,style:S={}}=e,y=j.useRef(null),w=j.useRef();w.current=g,j.useImperativeHandle(t,()=>y.current);var[C,k]=j.useState({containerWidth:n.width,containerHeight:n.height}),A=j.useCallback((O,z)=>{k(L=>{var $=Math.round(O),E=Math.round(z);return L.containerWidth===$&&L.containerHeight===E?L:{containerWidth:$,containerHeight:E}})},[]);j.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return Td;var O=E=>{var J,Z=E[0];if(Z!=null){var{width:te,height:R}=Z.contentRect;A(te,R),(J=w.current)===null||J===void 0||J.call(w,te,R)}};h>0&&(O=PH(O,h,{trailing:!0,leading:!1}));var z=new ResizeObserver(O),{width:L,height:$}=y.current.getBoundingClientRect();return A(L,$),z.observe(y.current),()=>{z.disconnect()}},[A,h]);var{containerWidth:M,containerHeight:D}=C;wk(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:T,calculatedHeight:P}=HT(M,D,{width:i,height:l,aspect:r,maxHeight:f});return wk(T!=null&&T>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,P,i,l,c,u,r),j.createElement("div",{id:x?"".concat(x):void 0,className:ut("recharts-responsive-container",v),style:Nk(Nk({},S),{},{width:i,height:l,minWidth:c,minHeight:u,maxHeight:f}),ref:y},j.createElement("div",{style:zH({width:i,height:l})},j.createElement(YT,{width:T,height:P},m)))}),U1=j.forwardRef((e,t)=>{var r=H1();if(Hs(r.width)&&Hs(r.height))return e.children;var{width:n,height:i}=BH({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:l,calculatedHeight:c}=HT(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return tt(l)&&tt(c)?j.createElement(YT,{width:l,height:c},e.children):j.createElement(YH,Cy({},e,{width:n,height:i,ref:t}))});function Y1(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var ex=()=>{var e,t=Ks(),r=lt(kH),n=lt(Jh),i=(e=lt(Zh))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},VH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},GH=()=>{var e;return(e=lt(Fr))!==null&&e!==void 0?e:VH},WH=()=>lt(Zi),KH=()=>lt(Ji),tr=e=>e.layout.layoutType,tx=()=>lt(tr),VT=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},QH=()=>{var e=tx();return e!==void 0},Ld=e=>{var t=Or(),r=Ks(),{width:n,height:i}=e,l=H1(),c=n,u=i;return l&&(c=l.width>0?l.width:n,u=l.height>0?l.height:i),j.useEffect(()=>{!r&&Hs(c)&&Hs(u)&&t(rH({width:c,height:u}))},[t,r,c,u]),null},GT=Symbol.for("immer-nothing"),Sk=Symbol.for("immer-draftable"),Bn=Symbol.for("immer-state");function xa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var pd=Object.getPrototypeOf;function dc(e){return!!e&&!!e[Bn]}function Kl(e){return e?WT(e)||Array.isArray(e)||!!e[Sk]||!!e.constructor?.[Sk]||Fd(e)||nx(e):!1}var XH=Object.prototype.constructor.toString(),Ck=new WeakMap;function WT(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=Ck.get(r);return n===void 0&&(n=Function.toString.call(r),Ck.set(r,n)),n===XH}function Up(e,t,r=!0){rx(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function rx(e){const t=e[Bn];return t?t.type_:Array.isArray(e)?1:Fd(e)?2:nx(e)?3:0}function Ay(e,t){return rx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function KT(e,t,r){const n=rx(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function ZH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Fd(e){return e instanceof Map}function nx(e){return e instanceof Set}function kl(e){return e.copy_||e.base_}function ky(e,t){if(Fd(e))return new Map(e);if(nx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=WT(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Bn];let i=Reflect.ownKeys(n);for(let l=0;l<i.length;l++){const c=i[l],u=n[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(pd(e),n)}else{const n=pd(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function V1(e,t=!1){return ax(e)||dc(e)||!Kl(e)||(rx(e)>1&&Object.defineProperties(e,{set:km,add:km,clear:km,delete:km}),Object.freeze(e),t&&Object.values(e).forEach(r=>V1(r,!0))),e}function JH(){xa(2)}var km={value:JH};function ax(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var e7={};function Ql(e){const t=e7[e];return t||xa(0,e),t}var hd;function QT(){return hd}function t7(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ak(e,t){t&&(Ql("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function My(e){Dy(e),e.drafts_.forEach(r7),e.drafts_=null}function Dy(e){e===hd&&(hd=e.parent_)}function kk(e){return hd=t7(hd,e)}function r7(e){const t=e[Bn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Mk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Bn].modified_&&(My(t),xa(4)),Kl(e)&&(e=Yp(t,e),t.parent_||Vp(t,e)),t.patches_&&Ql("Patches").generateReplacementPatches_(r[Bn].base_,e,t.patches_,t.inversePatches_)):e=Yp(t,r,[]),My(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==GT?e:void 0}function Yp(e,t,r){if(ax(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Bn];if(!i)return Up(t,(l,c)=>Dk(e,i,t,l,c,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Vp(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const l=i.copy_;let c=l,u=!1;i.type_===3&&(c=new Set(l),l.clear(),u=!0),Up(c,(f,m)=>Dk(e,i,l,f,m,r,u),n),Vp(e,l,!1),r&&e.patches_&&Ql("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function Dk(e,t,r,n,i,l,c){if(i==null||typeof i!="object"&&!c)return;const u=ax(i);if(!(u&&!c)){if(dc(i)){const f=l&&t&&t.type_!==3&&!Ay(t.assigned_,n)?l.concat(n):void 0,m=Yp(e,i,f);if(KT(r,n,m),dc(m))e.canAutoFreeze_=!1;else return}else c&&r.add(i);if(Kl(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&u)return;Yp(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Fd(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Vp(e,i)}}}function Vp(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&V1(t,r)}function n7(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:QT(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,l=G1;r&&(i=[n],l=xd);const{revoke:c,proxy:u}=Proxy.revocable(i,l);return n.draft_=u,n.revoke_=c,u}var G1={get(e,t){if(t===Bn)return e;const r=kl(e);if(!Ay(r,t))return a7(e,r,t);const n=r[t];return e.finalized_||!Kl(n)?n:n===nb(e.base_,t)?(ab(e),e.copy_[t]=_y(n,e)):n},has(e,t){return t in kl(e)},ownKeys(e){return Reflect.ownKeys(kl(e))},set(e,t,r){const n=XT(kl(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=nb(kl(e),t),l=i?.[Bn];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(ZH(r,i)&&(r!==void 0||Ay(e.base_,t)))return!0;ab(e),Ey(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return nb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ab(e),Ey(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=kl(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){xa(11)},getPrototypeOf(e){return pd(e.base_)},setPrototypeOf(){xa(12)}},xd={};Up(G1,(e,t)=>{xd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});xd.deleteProperty=function(e,t){return xd.set.call(this,e,t,void 0)};xd.set=function(e,t,r){return G1.set.call(this,e[0],t,r,e[0])};function nb(e,t){const r=e[Bn];return(r?kl(r):e)[t]}function a7(e,t,r){const n=XT(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function XT(e,t){if(!(t in e))return;let r=pd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=pd(r)}}function Ey(e){e.modified_||(e.modified_=!0,e.parent_&&Ey(e.parent_))}function ab(e){e.copy_||(e.copy_=ky(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var i7=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const l=r;r=t;const c=this;return function(f=l,...m){return c.produce(f,h=>r.call(this,h,...m))}}typeof r!="function"&&xa(6),n!==void 0&&typeof n!="function"&&xa(7);let i;if(Kl(t)){const l=kk(this),c=_y(t,void 0);let u=!0;try{i=r(c),u=!1}finally{u?My(l):Dy(l)}return Ak(l,n),Mk(i,l)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===GT&&(i=void 0),this.autoFreeze_&&V1(i,!0),n){const l=[],c=[];Ql("Patches").generateReplacementPatches_(t,i,l,c),n(l,c)}return i}else xa(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,f=>t(f,...u));let n,i;return[this.produce(t,r,(c,u)=>{n=c,i=u}),n,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Kl(e)||xa(8),dc(e)&&(e=s7(e));const t=kk(this),r=_y(e,void 0);return r[Bn].isManual_=!0,Dy(t),r}finishDraft(e,t){const r=e&&e[Bn];(!r||!r.isManual_)&&xa(9);const{scope_:n}=r;return Ak(n,t),Mk(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Ql("Patches").applyPatches_;return dc(e)?n(e,t):this.produce(e,i=>n(i,t))}};function _y(e,t){const r=Fd(e)?Ql("MapSet").proxyMap_(e,t):nx(e)?Ql("MapSet").proxySet_(e,t):n7(e,t);return(t?t.scope_:QT()).drafts_.push(r),r}function s7(e){return dc(e)||xa(10,e),ZT(e)}function ZT(e){if(!Kl(e)||ax(e))return e;const t=e[Bn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ky(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=ky(e,!0);return Up(r,(i,l)=>{KT(r,i,ZT(l))},n),t&&(t.finalized_=!1),r}var l7=new i7;l7.produce;var o7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},JT=wn({name:"legend",initialState:o7,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Zt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=ya(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:Zt()},removeLegendPayload:{reducer(e,t){var r=ya(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Zt()}}}),{setLegendSize:_oe,setLegendSettings:Ooe,addLegendPayload:c7,replaceLegendPayload:u7,removeLegendPayload:d7}=JT.actions,f7=JT.reducer;function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oy.apply(null,arguments)}function Ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ek(Object(r),!0).forEach(function(n){m7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ek(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m7(e,t,r){return(t=p7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p7(e){var t=h7(e,"string");return typeof t=="symbol"?t:t+""}function h7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x7(e){return Array.isArray(e)&&Hi(e[0])&&Hi(e[1])?e.join(" ~ "):e}var Bo={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},v7=e=>{var{separator:t=Bo.separator,contentStyle:r,itemStyle:n,labelStyle:i=Bo.labelStyle,payload:l,formatter:c,itemSorter:u,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:x,accessibilityLayer:v=Bo.accessibilityLayer}=e,g=()=>{if(l&&l.length){var D={padding:0,margin:0},T=(u?Bh(l,u):l).map((P,O)=>{if(P.type==="none")return null;var z=P.formatter||c||x7,{value:L,name:$}=P,E=L,J=$;if(z){var Z=z(L,$,P,O,l);if(Array.isArray(Z))[E,J]=Z;else if(Z!=null)E=Z;else return null}var te=Lu(Lu({},Bo.itemStyle),{},{color:P.color||Bo.itemStyle.color},n);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:te},Hi(J)?j.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Hi(J)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},E),j.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:D},T)}return null},S=Lu(Lu({},Bo.contentStyle),r),y=Lu({margin:0},i),w=!zn(h),C=w?h:"",k=ut("recharts-default-tooltip",f),A=ut("recharts-tooltip-label",m);w&&x&&l!==void 0&&l!==null&&(C=x(h,l));var M=v?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",Oy({className:k,style:S},M),j.createElement("p",{className:A,style:y},j.isValidElement(C)?C:"".concat(C)),g())},Fu="recharts-tooltip-wrapper",g7={visibility:"hidden"};function b7(e){var{coordinate:t,translateX:r,translateY:n}=e;return ut(Fu,{["".concat(Fu,"-right")]:tt(r)&&t&&tt(t.x)&&r>=t.x,["".concat(Fu,"-left")]:tt(r)&&t&&tt(t.x)&&r<t.x,["".concat(Fu,"-bottom")]:tt(n)&&t&&tt(t.y)&&n>=t.y,["".concat(Fu,"-top")]:tt(n)&&t&&tt(t.y)&&n<t.y})}function _k(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:i,position:l,reverseDirection:c,tooltipDimension:u,viewBox:f,viewBoxDimension:m}=e;if(l&&tt(l[n]))return l[n];var h=r[n]-u-(i>0?i:0),x=r[n]+i;if(t[n])return c[n]?h:x;var v=f[n];if(v==null)return 0;if(c[n]){var g=h,S=v;return g<S?Math.max(x,v):Math.max(h,v)}if(m==null)return 0;var y=x+u,w=v+m;return y>w?Math.max(h,v):Math.max(x,v)}function y7(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function w7(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:i,position:l,reverseDirection:c,tooltipBox:u,useTranslate3d:f,viewBox:m}=e,h,x,v;return u.height>0&&u.width>0&&r?(x=_k({allowEscapeViewBox:t,coordinate:r,key:"x",offset:i,position:l,reverseDirection:c,tooltipDimension:u.width,viewBox:m,viewBoxDimension:m.width}),v=_k({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:l,reverseDirection:c,tooltipDimension:u.height,viewBox:m,viewBoxDimension:m.height}),h=y7({translateX:x,translateY:v,useTranslate3d:f})):h=g7,{cssProperties:h,cssClasses:b7({translateX:x,translateY:v,coordinate:r})}}function Ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(r),!0).forEach(function(n){Ty(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ty(e,t,r){return(t=j7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j7(e){var t=N7(e,"string");return typeof t=="symbol"?t:t+""}function N7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class S7 extends j.PureComponent{constructor(){super(...arguments),Ty(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ty(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:l,coordinate:c,hasPayload:u,isAnimationActive:f,offset:m,position:h,reverseDirection:x,useTranslate3d:v,viewBox:g,wrapperStyle:S,lastBoundingBox:y,innerRef:w,hasPortalFromProps:C}=this.props,k=typeof m=="number"?m:m.x,A=typeof m=="number"?m:m.y,{cssClasses:M,cssProperties:D}=w7({allowEscapeViewBox:r,coordinate:c,offsetLeft:k,offsetTop:A,position:h,reverseDirection:x,tooltipBox:{height:y.height,width:y.width},useTranslate3d:v,viewBox:g}),T=C?{}:Mm(Mm({transition:f&&t?"transform ".concat(n,"ms ").concat(i):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),P=Mm(Mm({},T),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:P,ref:w},l)}}var eP=()=>{var e;return(e=lt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Py.apply(null,arguments)}function Tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(r),!0).forEach(function(n){C7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C7(e,t,r){return(t=A7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A7(e){var t=k7(e,"string");return typeof t=="symbol"?t:t+""}function k7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ik={curveBasisClosed:C$,curveBasisOpen:A$,curveBasis:S$,curveBumpX:u$,curveBumpY:d$,curveLinearClosed:k$,curveLinear:Fh,curveMonotoneX:M$,curveMonotoneY:D$,curveNatural:E$,curveStep:_$,curveStepAfter:T$,curveStepBefore:O$},Gp=e=>zt(e.x)&&zt(e.y),Rk=e=>e.base!=null&&Gp(e.base)&&Gp(e),zu=e=>e.x,Bu=e=>e.y,M7=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Od(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=Ik["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return Ik[r]||Fh},Lk={connectNulls:!1,type:"linear"},D7=e=>{var{type:t=Lk.type,points:r=[],baseLine:n,layout:i,connectNulls:l=Lk.connectNulls}=e,c=M7(t,i),u=l?r.filter(Gp):r;if(Array.isArray(n)){var f,m=r.map((S,y)=>Pk(Pk({},S),{},{base:n[y]}));i==="vertical"?f=ym().y(Bu).x1(zu).x0(S=>S.base.x):f=ym().x(zu).y1(Bu).y0(S=>S.base.y);var h=f.defined(Rk).curve(c),x=l?m.filter(Rk):m;return h(x)}var v;i==="vertical"&&tt(n)?v=ym().y(Bu).x1(zu).x0(n):tt(n)?v=ym().x(zu).y1(Bu).y0(n):v=IO().x(zu).y(Bu);var g=v.defined(Gp).curve(c);return g(u)},W1=e=>{var{className:t,points:r,path:n,pathRef:i}=e,l=tx();if((!r||!r.length)&&!n)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||l,connectNulls:e.connectNulls},u=r&&r.length?D7(c):n;return j.createElement("path",Py({},cc(e),n9(e),{className:ut("recharts-curve",t),d:u===null?void 0:u,ref:i}))},E7=["x","y","top","left","width","height","className"];function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(null,arguments)}function Fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(r),!0).forEach(function(n){O7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O7(e,t,r){return(t=T7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T7(e){var t=P7(e,"string");return typeof t=="symbol"?t:t+""}function P7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I7(e,t){if(e==null)return{};var r,n,i=R7(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function R7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var L7=(e,t,r,n,i,l)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(l,",").concat(t,"h").concat(r),F7=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:l=0,height:c=0,className:u}=e,f=I7(e,E7),m=_7({x:t,y:r,top:n,left:i,width:l,height:c},f);return!tt(t)||!tt(r)||!tt(l)||!tt(c)||!tt(n)||!tt(i)?null:j.createElement("path",Iy({},na(m),{className:ut("recharts-cross",u),d:L7(t,r,l,c,n,i)}))};function z7(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(r),!0).forEach(function(n){B7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B7(e,t,r){return(t=$7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $7(e){var t=q7(e,"string");return typeof t=="symbol"?t:t+""}function q7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H7=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),tP=(e,t,r)=>e.map(n=>"".concat(H7(n)," ").concat(t,"ms ").concat(r)).join(","),U7=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),vd=(e,t)=>Object.keys(t).reduce((r,n)=>Bk(Bk({},r),{},{[n]:e(n,t[n])}),{});function $k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(r),!0).forEach(function(n){Y7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$k(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y7(e,t,r){return(t=V7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V7(e){var t=G7(e,"string");return typeof t=="symbol"?t:t+""}function G7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wp=(e,t,r)=>e+(t-e)*r,Ry=e=>{var{from:t,to:r}=e;return t!==r},rP=(e,t,r)=>{var n=vd((i,l)=>{if(Ry(l)){var[c,u]=e(l.from,l.to,l.velocity);return _r(_r({},l),{},{from:c,velocity:u})}return l},t);return r<1?vd((i,l)=>Ry(l)&&n[i]!=null?_r(_r({},l),{},{velocity:Wp(l.velocity,n[i].velocity,r),from:Wp(l.from,n[i].from,r)}):l,t):rP(e,n,r-1)};function W7(e,t,r,n,i,l){var c,u=n.reduce((v,g)=>_r(_r({},v),{},{[g]:{from:e[g],velocity:0,to:t[g]}}),{}),f=()=>vd((v,g)=>g.from,u),m=()=>!Object.values(u).filter(Ry).length,h=null,x=v=>{c||(c=v);var g=v-c,S=g/r.dt;u=rP(r,u,S),i(_r(_r(_r({},e),t),f())),c=v,m()||(h=l.setTimeout(x))};return()=>(h=l.setTimeout(x),()=>{var v;(v=h)===null||v===void 0||v()})}function K7(e,t,r,n,i,l,c){var u=null,f=i.reduce((x,v)=>{var g=e[v],S=t[v];return g==null||S==null?x:_r(_r({},x),{},{[v]:[g,S]})},{}),m,h=x=>{m||(m=x);var v=(x-m)/n,g=vd((y,w)=>Wp(...w,r(v)),f);if(l(_r(_r(_r({},e),t),g)),v<1)u=c.setTimeout(h);else{var S=vd((y,w)=>Wp(...w,r(1)),f);l(_r(_r(_r({},e),t),S))}};return()=>(u=c.setTimeout(h),()=>{var x;(x=u)===null||x===void 0||x()})}const Q7=(e,t,r,n,i,l)=>{var c=U7(e,t);return r==null?()=>(i(_r(_r({},e),t)),()=>{}):r.isStepper===!0?W7(e,t,r,c,i,l):K7(e,t,r,n,c,i,l)};var Kp=1e-4,nP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],aP=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),qk=(e,t)=>r=>{var n=nP(e,t);return aP(n,r)},X7=(e,t)=>r=>{var n=nP(e,t),i=[...n.map((l,c)=>l*c).slice(1),0];return aP(i,r)},Z7=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(l=>parseFloat(l));return[i[0],i[1],i[2],i[3]]},J7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Z7(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},eU=(e,t,r,n)=>{var i=qk(e,r),l=qk(t,n),c=X7(e,r),u=m=>m>1?1:m<0?0:m,f=m=>{for(var h=m>1?1:m,x=h,v=0;v<8;++v){var g=i(x)-h,S=c(x);if(Math.abs(g-h)<Kp||S<Kp)return l(x);x=u(x-g/S)}return l(x)};return f.isStepper=!1,f},Hk=function(){return eU(...J7(...arguments))},tU=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,l=(c,u,f)=>{var m=-(c-u)*r,h=f*n,x=f+(m-h)*i/1e3,v=f*i/1e3+c;return Math.abs(v-u)<Kp&&Math.abs(x)<Kp?[u,0]:[v,x]};return l.isStepper=!0,l.dt=i,l},rU=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Hk(e);case"spring":return tU();default:if(e.split("(")[0]==="cubic-bezier")return Hk(e)}return typeof e=="function"?e:null};function nU(e){var t,r=()=>null,n=!1,i=null,l=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var u=c,[f,...m]=u;if(typeof f=="number"){i=e.setTimeout(l.bind(null,m),f);return}l(f),i=e.setTimeout(l.bind(null,m));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,i&&(i(),i=null),l(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class aU{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,l=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(l))};return i=requestAnimationFrame(l),()=>{i!=null&&cancelAnimationFrame(i)}}}function iU(){return nU(new aU)}var sU=j.createContext(iU);function lU(e,t){var r=j.useContext(sU);return j.useMemo(()=>t??r(e),[e,t,r])}var oU=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),K1={isSsr:oU()},cU={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Uk={t:0},ib={t:1};function Q1(e){var t=ci(e,cU),{isActive:r,canBegin:n,duration:i,easing:l,begin:c,onAnimationEnd:u,onAnimationStart:f,children:m}=t,h=r==="auto"?!K1.isSsr:r,x=lU(t.animationId,t.animationManager),[v,g]=j.useState(h?Uk:ib),S=j.useRef(null);return j.useEffect(()=>{h||g(ib)},[h]),j.useEffect(()=>{if(!h||!n)return Td;var y=Q7(Uk,ib,rU(l),i,g,x.getTimeoutController()),w=()=>{S.current=y()};return x.start([f,c,w,i,u]),()=>{x.stop(),S.current&&S.current(),u()}},[h,n,i,l,c,f,u,x]),m(v.t)}function X1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=j.useRef(ud(t)),n=j.useRef(e);return n.current!==e&&(r.current=ud(t),n.current=e),r.current}var uU=["radius"],dU=["radius"],Yk,Vk,Gk,Wk,Kk,Qk,Xk,Zk,Jk,eM;function tM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tM(Object(r),!0).forEach(function(n){fU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fU(e,t,r){return(t=mU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mU(e){var t=pU(e,"string");return typeof t=="symbol"?t:t+""}function pU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qp.apply(null,arguments)}function nM(e,t){if(e==null)return{};var r,n,i=hU(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ba(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var aM=(e,t,r,n,i)=>{var l=Is(r),c=Is(n),u=Math.min(Math.abs(l)/2,Math.abs(c)/2),f=c>=0?1:-1,m=l>=0?1:-1,h=c>=0&&l>=0||c<0&&l<0?1:0,x;if(u>0&&Array.isArray(i)){for(var v=[0,0,0,0],g=0,S=4;g<S;g++){var y,w=(y=i[g])!==null&&y!==void 0?y:0;v[g]=w>u?u:w}x=cr(Yk||(Yk=Ba(["M",",",""])),e,t+f*v[0]),v[0]>0&&(x+=cr(Vk||(Vk=Ba(["A ",",",",0,0,",",",",",""])),v[0],v[0],h,e+m*v[0],t)),x+=cr(Gk||(Gk=Ba(["L ",",",""])),e+r-m*v[1],t),v[1]>0&&(x+=cr(Wk||(Wk=Ba(["A ",",",",0,0,",`,
        `,",",""])),v[1],v[1],h,e+r,t+f*v[1])),x+=cr(Kk||(Kk=Ba(["L ",",",""])),e+r,t+n-f*v[2]),v[2]>0&&(x+=cr(Qk||(Qk=Ba(["A ",",",",0,0,",`,
        `,",",""])),v[2],v[2],h,e+r-m*v[2],t+n)),x+=cr(Xk||(Xk=Ba(["L ",",",""])),e+m*v[3],t+n),v[3]>0&&(x+=cr(Zk||(Zk=Ba(["A ",",",",0,0,",`,
        `,",",""])),v[3],v[3],h,e,t+n-f*v[3])),x+="Z"}else if(u>0&&i===+i&&i>0){var C=Math.min(u,i);x=cr(Jk||(Jk=Ba(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*C,C,C,h,e+m*C,t,e+r-m*C,t,C,C,h,e+r,t+f*C,e+r,t+n-f*C,C,C,h,e+r-m*C,t+n,e+m*C,t+n,C,C,h,e,t+n-f*C)}else x=cr(eM||(eM=Ba(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return x},iM={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iP=e=>{var t=ci(e,iM),r=j.useRef(null),[n,i]=j.useState(-1);j.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var F=r.current.getTotalLength();F&&i(F)}catch{}},[]);var{x:l,y:c,width:u,height:f,radius:m,className:h}=t,{animationEasing:x,animationDuration:v,animationBegin:g,isAnimationActive:S,isUpdateAnimationActive:y}=t,w=j.useRef(u),C=j.useRef(f),k=j.useRef(l),A=j.useRef(c),M=j.useMemo(()=>({x:l,y:c,width:u,height:f,radius:m}),[l,c,u,f,m]),D=X1(M,"rectangle-");if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var T=ut("recharts-rectangle",h);if(!y){var P=na(t),{radius:O}=P,z=nM(P,uU);return j.createElement("path",Qp({},z,{x:Is(l),y:Is(c),width:Is(u),height:Is(f),radius:typeof m=="number"?m:void 0,className:T,d:aM(l,c,u,f,m)}))}var L=w.current,$=C.current,E=k.current,J=A.current,Z="0px ".concat(n===-1?1:n,"px"),te="".concat(n,"px 0px"),R=tP(["strokeDasharray"],v,typeof x=="string"?x:iM.animationEasing);return j.createElement(Q1,{animationId:D,key:D,canBegin:n>0,duration:v,easing:x,isActive:y,begin:g},F=>{var fe=pa(L,u,F),Se=pa($,f,F),H=pa(E,l,F),B=pa(J,c,F);r.current&&(w.current=fe,C.current=Se,k.current=H,A.current=B);var Q;S?F>0?Q={transition:R,strokeDasharray:te}:Q={strokeDasharray:Z}:Q={strokeDasharray:te};var ue=na(t),{radius:xe}=ue,U=nM(ue,dU);return j.createElement("path",Qp({},U,{radius:typeof m=="number"?m:void 0,className:T,d:aM(H,B,fe,Se,m),ref:r,style:rM(rM({},Q),t.style)}))})};function sM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sM(Object(r),!0).forEach(function(n){xU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xU(e,t,r){return(t=vU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vU(e){var t=gU(e,"string");return typeof t=="symbol"?t:t+""}function gU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xp=Math.PI/180,bU=e=>e*180/Math.PI,Ar=(e,t,r,n)=>({x:e+Math.cos(-Xp*n)*r,y:t+Math.sin(-Xp*n)*r}),sP=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},yU=(e,t)=>{var{x:r,y:n}=e,{x:i,y:l}=t;return Math.sqrt((r-i)**2+(n-l)**2)},wU=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:l}=t,c=yU({x:r,y:n},{x:i,y:l});if(c<=0)return{radius:c,angle:0};var u=(r-i)/c,f=Math.acos(u);return n>l&&(f=2*Math.PI-f),{radius:c,angle:bU(f),angleInRadian:f}},jU=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),l=Math.min(n,i);return{startAngle:t-l*360,endAngle:r-l*360}},NU=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),l=Math.floor(n/360),c=Math.min(i,l);return e+c*360},SU=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:l}=wU({x:r,y:n},t),{innerRadius:c,outerRadius:u}=t;if(i<c||i>u||i===0)return null;var{startAngle:f,endAngle:m}=jU(t),h=l,x;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;x=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;x=h>=m&&h<=f}return x?lM(lM({},t),{},{radius:i,angle:NU(h,t)}):null};function lP(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:l}=e,c=Ar(t,r,n,i),u=Ar(t,r,n,l);return{points:[c,u],cx:t,cy:r,radius:n,startAngle:i,endAngle:l}}var oM,cM,uM,dM,fM,mM,pM;function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ly.apply(null,arguments)}function Tl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var CU=(e,t)=>{var r=gn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Dm=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:l,isExternal:c,cornerRadius:u,cornerIsExternal:f}=e,m=u*(c?1:-1)+n,h=Math.asin(u/m)/Xp,x=f?i:i+l*h,v=Ar(t,r,m,x),g=Ar(t,r,n,x),S=f?i-l*h:i,y=Ar(t,r,m*Math.cos(h*Xp),S);return{center:v,circleTangency:g,lineTangency:y,theta:h}},oP=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:c}=e,u=CU(l,c),f=l+u,m=Ar(t,r,i,l),h=Ar(t,r,i,f),x=cr(oM||(oM=Tl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,i,i,+(Math.abs(u)>180),+(l>f),h.x,h.y);if(n>0){var v=Ar(t,r,n,l),g=Ar(t,r,n,f);x+=cr(cM||(cM=Tl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),g.x,g.y,n,n,+(Math.abs(u)>180),+(l<=f),v.x,v.y)}else x+=cr(uM||(uM=Tl(["L ",","," Z"])),t,r);return x},AU=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m}=e,h=gn(m-f),{circleTangency:x,lineTangency:v,theta:g}=Dm({cx:t,cy:r,radius:i,angle:f,sign:h,cornerRadius:l,cornerIsExternal:u}),{circleTangency:S,lineTangency:y,theta:w}=Dm({cx:t,cy:r,radius:i,angle:m,sign:-h,cornerRadius:l,cornerIsExternal:u}),C=u?Math.abs(f-m):Math.abs(f-m)-g-w;if(C<0)return c?cr(dM||(dM=Tl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),v.x,v.y,l,l,l*2,l,l,-l*2):oP({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:f,endAngle:m});var k=cr(fM||(fM=Tl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),v.x,v.y,l,l,+(h<0),x.x,x.y,i,i,+(C>180),+(h<0),S.x,S.y,l,l,+(h<0),y.x,y.y);if(n>0){var{circleTangency:A,lineTangency:M,theta:D}=Dm({cx:t,cy:r,radius:n,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),{circleTangency:T,lineTangency:P,theta:O}=Dm({cx:t,cy:r,radius:n,angle:m,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),z=u?Math.abs(f-m):Math.abs(f-m)-D-O;if(z<0&&l===0)return"".concat(k,"L").concat(t,",").concat(r,"Z");k+=cr(mM||(mM=Tl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,l,l,+(h<0),T.x,T.y,n,n,+(z>180),+(h>0),A.x,A.y,l,l,+(h<0),M.x,M.y)}else k+=cr(pM||(pM=Tl(["L",",","Z"])),t,r);return k},kU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},cP=e=>{var t=ci(e,kU),{cx:r,cy:n,innerRadius:i,outerRadius:l,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h,className:x}=t;if(l<i||m===h)return null;var v=ut("recharts-sector",x),g=l-i,S=Rn(c,g,0,!0),y;return S>0&&Math.abs(m-h)<360?y=AU({cx:r,cy:n,innerRadius:i,outerRadius:l,cornerRadius:Math.min(S,g/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h}):y=oP({cx:r,cy:n,innerRadius:i,outerRadius:l,startAngle:m,endAngle:h}),j.createElement("path",Ly({},na(t),{className:v,d:y}))};function MU(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(QO(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:l,outerRadius:c,angle:u}=t,f=Ar(n,i,l,u),m=Ar(n,i,c,u);return[{x:f.x,y:f.y},{x:m.x,y:m.y}]}return lP(t)}}var sb={},lb={},ob={},hM;function DU(){return hM||(hM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sT();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(ob)),ob}var xM;function EU(){return xM||(xM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DU();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(lb)),lb}var vM;function _U(){return vM||(vM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lT(),r=EU();function n(i,l,c){c&&typeof c!="number"&&t.isIterateeCall(i,l,c)&&(l=c=void 0),i=r.toFinite(i),l===void 0?(l=i,i=0):l=r.toFinite(l),c=c===void 0?i<l?1:-1:r.toFinite(c);const u=Math.max(Math.ceil((l-i)/(c||1)),0),f=new Array(u);for(let m=0;m<u;m++)f[m]=i,i+=c;return f}e.range=n})(sb)),sb}var cb,gM;function OU(){return gM||(gM=1,cb=_U().range),cb}var TU=OU();const uP=si(TU);function Ls(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Z1(e){let t,r,n;e.length!==2?(t=Ls,r=(u,f)=>Ls(e(u),f),n=(u,f)=>e(u)-f):(t=e===Ls||e===PU?e:IU,r=e,n=e);function i(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const x=m+h>>>1;r(u[x],f)<0?m=x+1:h=x}while(m<h)}return m}function l(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const x=m+h>>>1;r(u[x],f)<=0?m=x+1:h=x}while(m<h)}return m}function c(u,f,m=0,h=u.length){const x=i(u,f,m,h-1);return x>m&&n(u[x-1],f)>-n(u[x],f)?x-1:x}return{left:i,center:c,right:l}}function IU(){return 0}function dP(e){return e===null?NaN:+e}function*RU(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const LU=Z1(Ls),zd=LU.right;Z1(dP).center;class bM extends Map{constructor(t,r=BU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(yM(this,t))}has(t){return super.has(yM(this,t))}set(t,r){return super.set(FU(this,t),r)}delete(t){return super.delete(zU(this,t))}}function yM({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function FU({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function zU({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function BU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function $U(e=Ls){if(e===Ls)return fP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function fP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const qU=Math.sqrt(50),HU=Math.sqrt(10),UU=Math.sqrt(2);function Zp(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),l=n/Math.pow(10,i),c=l>=qU?10:l>=HU?5:l>=UU?2:1;let u,f,m;return i<0?(m=Math.pow(10,-i)/c,u=Math.round(e*m),f=Math.round(t*m),u/m<e&&++u,f/m>t&&--f,m=-m):(m=Math.pow(10,i)*c,u=Math.round(e/m),f=Math.round(t/m),u*m<e&&++u,f*m>t&&--f),f<u&&.5<=r&&r<2?Zp(e,t,r*2):[u,f,m]}function Fy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,l,c]=n?Zp(t,e,r):Zp(e,t,r);if(!(l>=i))return[];const u=l-i+1,f=new Array(u);if(n)if(c<0)for(let m=0;m<u;++m)f[m]=(l-m)/-c;else for(let m=0;m<u;++m)f[m]=(l-m)*c;else if(c<0)for(let m=0;m<u;++m)f[m]=(i+m)/-c;else for(let m=0;m<u;++m)f[m]=(i+m)*c;return f}function zy(e,t,r){return t=+t,e=+e,r=+r,Zp(e,t,r)[2]}function By(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?zy(t,e,r):zy(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function wM(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function jM(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function mP(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?fP:$U(i);n>r;){if(n-r>600){const f=n-r+1,m=t-r+1,h=Math.log(f),x=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*x*(f-x)/f)*(m-f/2<0?-1:1),g=Math.max(r,Math.floor(t-m*x/f+v)),S=Math.min(n,Math.floor(t+(f-m)*x/f+v));mP(e,t,g,S,i)}const l=e[t];let c=r,u=n;for($u(e,r,t),i(e[n],l)>0&&$u(e,r,n);c<u;){for($u(e,c,u),++c,--u;i(e[c],l)<0;)++c;for(;i(e[u],l)>0;)--u}i(e[r],l)===0?$u(e,r,u):(++u,$u(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function $u(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function YU(e,t,r){if(e=Float64Array.from(RU(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return jM(e);if(t>=1)return wM(e);var n,i=(n-1)*t,l=Math.floor(i),c=wM(mP(e,l).subarray(0,l+1)),u=jM(e.subarray(l+1));return c+(u-c)*(i-l)}}function VU(e,t,r=dP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,l=Math.floor(i),c=+r(e[l],l,e),u=+r(e[l+1],l+1,e);return c+(u-c)*(i-l)}}function GU(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,l=new Array(i);++n<i;)l[n]=e+n*r;return l}function oa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function es(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const $y=Symbol("implicit");function J1(){var e=new bM,t=[],r=[],n=$y;function i(l){let c=e.get(l);if(c===void 0){if(n!==$y)return n;e.set(l,c=t.push(l)-1)}return r[c%r.length]}return i.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new bM;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return i},i.range=function(l){return arguments.length?(r=Array.from(l),i):r.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.copy=function(){return J1(t,r).unknown(n)},oa.apply(i,arguments),i}function ew(){var e=J1().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,l,c,u=!1,f=0,m=0,h=.5;delete e.unknown;function x(){var v=t().length,g=i<n,S=g?i:n,y=g?n:i;l=(y-S)/Math.max(1,v-f+m*2),u&&(l=Math.floor(l)),S+=(y-S-l*(v-f))*h,c=l*(1-f),u&&(S=Math.round(S),c=Math.round(c));var w=GU(v).map(function(C){return S+l*C});return r(g?w.reverse():w)}return e.domain=function(v){return arguments.length?(t(v),x()):t()},e.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,x()):[n,i]},e.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,u=!0,x()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(v){return arguments.length?(u=!!v,x()):u},e.padding=function(v){return arguments.length?(f=Math.min(1,m=+v),x()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),x()):f},e.paddingOuter=function(v){return arguments.length?(m=+v,x()):m},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),x()):h},e.copy=function(){return ew(t(),[n,i]).round(u).paddingInner(f).paddingOuter(m).align(h)},oa.apply(x(),arguments)}function pP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pP(t())},e}function WU(){return pP(ew.apply(null,arguments).paddingInner(1))}function tw(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function hP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Bd(){}var gd=.7,Jp=1/gd,ac="\\s*([+-]?\\d+)\\s*",bd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",KU=/^#([0-9a-f]{3,8})$/,QU=new RegExp(`^rgb\\(${ac},${ac},${ac}\\)$`),XU=new RegExp(`^rgb\\(${ei},${ei},${ei}\\)$`),ZU=new RegExp(`^rgba\\(${ac},${ac},${ac},${bd}\\)$`),JU=new RegExp(`^rgba\\(${ei},${ei},${ei},${bd}\\)$`),eY=new RegExp(`^hsl\\(${bd},${ei},${ei}\\)$`),tY=new RegExp(`^hsla\\(${bd},${ei},${ei},${bd}\\)$`),NM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tw(Bd,yd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:SM,formatHex:SM,formatHex8:rY,formatHsl:nY,formatRgb:CM,toString:CM});function SM(){return this.rgb().formatHex()}function rY(){return this.rgb().formatHex8()}function nY(){return xP(this).formatHsl()}function CM(){return this.rgb().formatRgb()}function yd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=KU.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?AM(t):r===3?new bn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Em(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Em(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=QU.exec(e))?new bn(t[1],t[2],t[3],1):(t=XU.exec(e))?new bn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ZU.exec(e))?Em(t[1],t[2],t[3],t[4]):(t=JU.exec(e))?Em(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=eY.exec(e))?DM(t[1],t[2]/100,t[3]/100,1):(t=tY.exec(e))?DM(t[1],t[2]/100,t[3]/100,t[4]):NM.hasOwnProperty(e)?AM(NM[e]):e==="transparent"?new bn(NaN,NaN,NaN,0):null}function AM(e){return new bn(e>>16&255,e>>8&255,e&255,1)}function Em(e,t,r,n){return n<=0&&(e=t=r=NaN),new bn(e,t,r,n)}function aY(e){return e instanceof Bd||(e=yd(e)),e?(e=e.rgb(),new bn(e.r,e.g,e.b,e.opacity)):new bn}function qy(e,t,r,n){return arguments.length===1?aY(e):new bn(e,t,r,n??1)}function bn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}tw(bn,qy,hP(Bd,{brighter(e){return e=e==null?Jp:Math.pow(Jp,e),new bn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gd:Math.pow(gd,e),new bn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new bn(Bl(this.r),Bl(this.g),Bl(this.b),eh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kM,formatHex:kM,formatHex8:iY,formatRgb:MM,toString:MM}));function kM(){return`#${Pl(this.r)}${Pl(this.g)}${Pl(this.b)}`}function iY(){return`#${Pl(this.r)}${Pl(this.g)}${Pl(this.b)}${Pl((isNaN(this.opacity)?1:this.opacity)*255)}`}function MM(){const e=eh(this.opacity);return`${e===1?"rgb(":"rgba("}${Bl(this.r)}, ${Bl(this.g)}, ${Bl(this.b)}${e===1?")":`, ${e})`}`}function eh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pl(e){return e=Bl(e),(e<16?"0":"")+e.toString(16)}function DM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new va(e,t,r,n)}function xP(e){if(e instanceof va)return new va(e.h,e.s,e.l,e.opacity);if(e instanceof Bd||(e=yd(e)),!e)return new va;if(e instanceof va)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),l=Math.max(t,r,n),c=NaN,u=l-i,f=(l+i)/2;return u?(t===l?c=(r-n)/u+(r<n)*6:r===l?c=(n-t)/u+2:c=(t-r)/u+4,u/=f<.5?l+i:2-l-i,c*=60):u=f>0&&f<1?0:c,new va(c,u,f,e.opacity)}function sY(e,t,r,n){return arguments.length===1?xP(e):new va(e,t,r,n??1)}function va(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}tw(va,sY,hP(Bd,{brighter(e){return e=e==null?Jp:Math.pow(Jp,e),new va(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gd:Math.pow(gd,e),new va(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new bn(ub(e>=240?e-240:e+120,i,n),ub(e,i,n),ub(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new va(EM(this.h),_m(this.s),_m(this.l),eh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=eh(this.opacity);return`${e===1?"hsl(":"hsla("}${EM(this.h)}, ${_m(this.s)*100}%, ${_m(this.l)*100}%${e===1?")":`, ${e})`}`}}));function EM(e){return e=(e||0)%360,e<0?e+360:e}function _m(e){return Math.max(0,Math.min(1,e||0))}function ub(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const rw=e=>()=>e;function lY(e,t){return function(r){return e+r*t}}function oY(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function cY(e){return(e=+e)==1?vP:function(t,r){return r-t?oY(t,r,e):rw(isNaN(t)?r:t)}}function vP(e,t){var r=t-e;return r?lY(e,r):rw(isNaN(e)?t:e)}const _M=(function e(t){var r=cY(t);function n(i,l){var c=r((i=qy(i)).r,(l=qy(l)).r),u=r(i.g,l.g),f=r(i.b,l.b),m=vP(i.opacity,l.opacity);return function(h){return i.r=c(h),i.g=u(h),i.b=f(h),i.opacity=m(h),i+""}}return n.gamma=e,n})(1);function uY(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(l){for(i=0;i<r;++i)n[i]=e[i]*(1-l)+t[i]*l;return n}}function dY(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function fY(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),l=new Array(r),c;for(c=0;c<n;++c)i[c]=Ec(e[c],t[c]);for(;c<r;++c)l[c]=t[c];return function(u){for(c=0;c<n;++c)l[c]=i[c](u);return l}}function mY(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function th(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function pY(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Ec(e[i],t[i]):n[i]=t[i];return function(l){for(i in r)n[i]=r[i](l);return n}}var Hy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,db=new RegExp(Hy.source,"g");function hY(e){return function(){return e}}function xY(e){return function(t){return e(t)+""}}function vY(e,t){var r=Hy.lastIndex=db.lastIndex=0,n,i,l,c=-1,u=[],f=[];for(e=e+"",t=t+"";(n=Hy.exec(e))&&(i=db.exec(t));)(l=i.index)>r&&(l=t.slice(r,l),u[c]?u[c]+=l:u[++c]=l),(n=n[0])===(i=i[0])?u[c]?u[c]+=i:u[++c]=i:(u[++c]=null,f.push({i:c,x:th(n,i)})),r=db.lastIndex;return r<t.length&&(l=t.slice(r),u[c]?u[c]+=l:u[++c]=l),u.length<2?f[0]?xY(f[0].x):hY(t):(t=f.length,function(m){for(var h=0,x;h<t;++h)u[(x=f[h]).i]=x.x(m);return u.join("")})}function Ec(e,t){var r=typeof t,n;return t==null||r==="boolean"?rw(t):(r==="number"?th:r==="string"?(n=yd(t))?(t=n,_M):vY:t instanceof yd?_M:t instanceof Date?mY:dY(t)?uY:Array.isArray(t)?fY:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?pY:th)(e,t)}function nw(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function gY(e,t){t===void 0&&(t=e,e=Ec);for(var r=0,n=t.length-1,i=t[0],l=new Array(n<0?0:n);r<n;)l[r]=e(i,i=t[++r]);return function(c){var u=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return l[u](c-u)}}function bY(e){return function(){return e}}function rh(e){return+e}var OM=[0,1];function nn(e){return e}function Uy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:bY(isNaN(t)?NaN:.5)}function yY(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function wY(e,t,r){var n=e[0],i=e[1],l=t[0],c=t[1];return i<n?(n=Uy(i,n),l=r(c,l)):(n=Uy(n,i),l=r(l,c)),function(u){return l(n(u))}}function jY(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),l=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)i[c]=Uy(e[c],e[c+1]),l[c]=r(t[c],t[c+1]);return function(u){var f=zd(e,u,1,n)-1;return l[f](i[f](u))}}function $d(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ix(){var e=OM,t=OM,r=Ec,n,i,l,c=nn,u,f,m;function h(){var v=Math.min(e.length,t.length);return c!==nn&&(c=yY(e[0],e[v-1])),u=v>2?jY:wY,f=m=null,x}function x(v){return v==null||isNaN(v=+v)?l:(f||(f=u(e.map(n),t,r)))(n(c(v)))}return x.invert=function(v){return c(i((m||(m=u(t,e.map(n),th)))(v)))},x.domain=function(v){return arguments.length?(e=Array.from(v,rh),h()):e.slice()},x.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},x.rangeRound=function(v){return t=Array.from(v),r=nw,h()},x.clamp=function(v){return arguments.length?(c=v?!0:nn,h()):c!==nn},x.interpolate=function(v){return arguments.length?(r=v,h()):r},x.unknown=function(v){return arguments.length?(l=v,x):l},function(v,g){return n=v,i=g,h()}}function aw(){return ix()(nn,nn)}function NY(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function nh(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function fc(e){return e=nh(Math.abs(e)),e?e[1]:NaN}function SY(e,t){return function(r,n){for(var i=r.length,l=[],c=0,u=e[0],f=0;i>0&&u>0&&(f+u+1>n&&(u=Math.max(1,n-f)),l.push(r.substring(i-=u,i+u)),!((f+=u+1)>n));)u=e[c=(c+1)%e.length];return l.reverse().join(t)}}function CY(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var AY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wd(e){if(!(t=AY.exec(e)))throw new Error("invalid format: "+e);var t;return new iw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}wd.prototype=iw.prototype;function iw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}iw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kY(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var ah;function MY(e,t){var r=nh(e,t);if(!r)return ah=void 0,e.toPrecision(t);var n=r[0],i=r[1],l=i-(ah=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=n.length;return l===c?n:l>c?n+new Array(l-c+1).join("0"):l>0?n.slice(0,l)+"."+n.slice(l):"0."+new Array(1-l).join("0")+nh(e,Math.max(0,t+l-1))[0]}function TM(e,t){var r=nh(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const PM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:NY,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>TM(e*100,t),r:TM,s:MY,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function IM(e){return e}var RM=Array.prototype.map,LM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function DY(e){var t=e.grouping===void 0||e.thousands===void 0?IM:SY(RM.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?IM:CY(RM.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(x,v){x=wd(x);var g=x.fill,S=x.align,y=x.sign,w=x.symbol,C=x.zero,k=x.width,A=x.comma,M=x.precision,D=x.trim,T=x.type;T==="n"?(A=!0,T="g"):PM[T]||(M===void 0&&(M=12),D=!0,T="g"),(C||g==="0"&&S==="=")&&(C=!0,g="0",S="=");var P=(v&&v.prefix!==void 0?v.prefix:"")+(w==="$"?r:w==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():""),O=(w==="$"?n:/[%p]/.test(T)?c:"")+(v&&v.suffix!==void 0?v.suffix:""),z=PM[T],L=/[defgprs%]/.test(T);M=M===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function $(E){var J=P,Z=O,te,R,F;if(T==="c")Z=z(E)+Z,E="";else{E=+E;var fe=E<0||1/E<0;if(E=isNaN(E)?f:z(Math.abs(E),M),D&&(E=kY(E)),fe&&+E==0&&y!=="+"&&(fe=!1),J=(fe?y==="("?y:u:y==="-"||y==="("?"":y)+J,Z=(T==="s"&&!isNaN(E)&&ah!==void 0?LM[8+ah/3]:"")+Z+(fe&&y==="("?")":""),L){for(te=-1,R=E.length;++te<R;)if(F=E.charCodeAt(te),48>F||F>57){Z=(F===46?i+E.slice(te+1):E.slice(te))+Z,E=E.slice(0,te);break}}}A&&!C&&(E=t(E,1/0));var Se=J.length+E.length+Z.length,H=Se<k?new Array(k-Se+1).join(g):"";switch(A&&C&&(E=t(H+E,H.length?k-Z.length:1/0),H=""),S){case"<":E=J+E+Z+H;break;case"=":E=J+H+E+Z;break;case"^":E=H.slice(0,Se=H.length>>1)+J+E+Z+H.slice(Se);break;default:E=H+J+E+Z;break}return l(E)}return $.toString=function(){return x+""},$}function h(x,v){var g=Math.max(-8,Math.min(8,Math.floor(fc(v)/3)))*3,S=Math.pow(10,-g),y=m((x=wd(x),x.type="f",x),{suffix:LM[8+g/3]});return function(w){return y(S*w)}}return{format:m,formatPrefix:h}}var Om,sw,gP;EY({thousands:",",grouping:[3],currency:["$",""]});function EY(e){return Om=DY(e),sw=Om.format,gP=Om.formatPrefix,Om}function _Y(e){return Math.max(0,-fc(Math.abs(e)))}function OY(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fc(t)/3)))*3-fc(Math.abs(e)))}function TY(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,fc(t)-fc(e))+1}function bP(e,t,r,n){var i=By(e,t,r),l;switch(n=wd(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(l=OY(i,c))&&(n.precision=l),gP(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(l=TY(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=l-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(l=_Y(i))&&(n.precision=l-(n.type==="%")*2);break}}return sw(n)}function Qs(e){var t=e.domain;return e.ticks=function(r){var n=t();return Fy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return bP(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,l=n.length-1,c=n[i],u=n[l],f,m,h=10;for(u<c&&(m=c,c=u,u=m,m=i,i=l,l=m);h-- >0;){if(m=zy(c,u,r),m===f)return n[i]=c,n[l]=u,t(n);if(m>0)c=Math.floor(c/m)*m,u=Math.ceil(u/m)*m;else if(m<0)c=Math.ceil(c*m)/m,u=Math.floor(u*m)/m;else break;f=m}return e},e}function yP(){var e=aw();return e.copy=function(){return $d(e,yP())},oa.apply(e,arguments),Qs(e)}function wP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,rh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return wP(e).unknown(t)},e=arguments.length?Array.from(e,rh):[0,1],Qs(r)}function jP(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],l=e[n],c;return l<i&&(c=r,r=n,n=c,c=i,i=l,l=c),e[r]=t.floor(i),e[n]=t.ceil(l),e}function FM(e){return Math.log(e)}function zM(e){return Math.exp(e)}function PY(e){return-Math.log(-e)}function IY(e){return-Math.exp(-e)}function RY(e){return isFinite(e)?+("1e"+e):e<0?0:e}function LY(e){return e===10?RY:e===Math.E?Math.exp:t=>Math.pow(e,t)}function FY(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function BM(e){return(t,r)=>-e(-t,r)}function lw(e){const t=e(FM,zM),r=t.domain;let n=10,i,l;function c(){return i=FY(n),l=LY(n),r()[0]<0?(i=BM(i),l=BM(l),e(PY,IY)):e(FM,zM),t}return t.base=function(u){return arguments.length?(n=+u,c()):n},t.domain=function(u){return arguments.length?(r(u),c()):r()},t.ticks=u=>{const f=r();let m=f[0],h=f[f.length-1];const x=h<m;x&&([m,h]=[h,m]);let v=i(m),g=i(h),S,y;const w=u==null?10:+u;let C=[];if(!(n%1)&&g-v<w){if(v=Math.floor(v),g=Math.ceil(g),m>0){for(;v<=g;++v)for(S=1;S<n;++S)if(y=v<0?S/l(-v):S*l(v),!(y<m)){if(y>h)break;C.push(y)}}else for(;v<=g;++v)for(S=n-1;S>=1;--S)if(y=v>0?S/l(-v):S*l(v),!(y<m)){if(y>h)break;C.push(y)}C.length*2<w&&(C=Fy(m,h,w))}else C=Fy(v,g,Math.min(g-v,w)).map(l);return x?C.reverse():C},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=wd(f)).precision==null&&(f.trim=!0),f=sw(f)),u===1/0)return f;const m=Math.max(1,n*u/t.ticks().length);return h=>{let x=h/l(Math.round(i(h)));return x*n<n-.5&&(x*=n),x<=m?f(h):""}},t.nice=()=>r(jP(r(),{floor:u=>l(Math.floor(i(u))),ceil:u=>l(Math.ceil(i(u)))})),t}function NP(){const e=lw(ix()).domain([1,10]);return e.copy=()=>$d(e,NP()).base(e.base()),oa.apply(e,arguments),e}function $M(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function qM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ow(e){var t=1,r=e($M(t),qM(t));return r.constant=function(n){return arguments.length?e($M(t=+n),qM(t)):t},Qs(r)}function SP(){var e=ow(ix());return e.copy=function(){return $d(e,SP()).constant(e.constant())},oa.apply(e,arguments)}function HM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function zY(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function BY(e){return e<0?-e*e:e*e}function cw(e){var t=e(nn,nn),r=1;function n(){return r===1?e(nn,nn):r===.5?e(zY,BY):e(HM(r),HM(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Qs(t)}function uw(){var e=cw(ix());return e.copy=function(){return $d(e,uw()).exponent(e.exponent())},oa.apply(e,arguments),e}function $Y(){return uw.apply(null,arguments).exponent(.5)}function UM(e){return Math.sign(e)*e*e}function qY(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function CP(){var e=aw(),t=[0,1],r=!1,n;function i(l){var c=qY(e(l));return isNaN(c)?n:r?Math.round(c):c}return i.invert=function(l){return e.invert(UM(l))},i.domain=function(l){return arguments.length?(e.domain(l),i):e.domain()},i.range=function(l){return arguments.length?(e.range((t=Array.from(l,rh)).map(UM)),i):t.slice()},i.rangeRound=function(l){return i.range(l).round(!0)},i.round=function(l){return arguments.length?(r=!!l,i):r},i.clamp=function(l){return arguments.length?(e.clamp(l),i):e.clamp()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.copy=function(){return CP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},oa.apply(i,arguments),Qs(i)}function AP(){var e=[],t=[],r=[],n;function i(){var c=0,u=Math.max(1,t.length);for(r=new Array(u-1);++c<u;)r[c-1]=VU(e,c/u);return l}function l(c){return c==null||isNaN(c=+c)?n:t[zd(r,c)]}return l.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ls),i()},l.range=function(c){return arguments.length?(t=Array.from(c),i()):t.slice()},l.unknown=function(c){return arguments.length?(n=c,l):n},l.quantiles=function(){return r.slice()},l.copy=function(){return AP().domain(e).range(t).unknown(n)},oa.apply(l,arguments)}function kP(){var e=0,t=1,r=1,n=[.5],i=[0,1],l;function c(f){return f!=null&&f<=f?i[zd(n,f,0,r)]:l}function u(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},c.range=function(f){return arguments.length?(r=(i=Array.from(f)).length-1,u()):i.slice()},c.invertExtent=function(f){var m=i.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},c.unknown=function(f){return arguments.length&&(l=f),c},c.thresholds=function(){return n.slice()},c.copy=function(){return kP().domain([e,t]).range(i).unknown(l)},oa.apply(Qs(c),arguments)}function MP(){var e=[.5],t=[0,1],r,n=1;function i(l){return l!=null&&l<=l?t[zd(e,l,0,n)]:r}return i.domain=function(l){return arguments.length?(e=Array.from(l),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(l){return arguments.length?(t=Array.from(l),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},i.unknown=function(l){return arguments.length?(r=l,i):r},i.copy=function(){return MP().domain(e).range(t).unknown(r)},oa.apply(i,arguments)}const fb=new Date,mb=new Date;function Tr(e,t,r,n){function i(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return i.floor=l=>(e(l=new Date(+l)),l),i.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),i.round=l=>{const c=i(l),u=i.ceil(l);return l-c<u-l?c:u},i.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),i.range=(l,c,u)=>{const f=[];if(l=i.ceil(l),u=u==null?1:Math.floor(u),!(l<c)||!(u>0))return f;let m;do f.push(m=new Date(+l)),t(l,u),e(l);while(m<l&&l<c);return f},i.filter=l=>Tr(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!l(c););else for(;--u>=0;)for(;t(c,1),!l(c););}),r&&(i.count=(l,c)=>(fb.setTime(+l),mb.setTime(+c),e(fb),e(mb),Math.floor(r(fb,mb))),i.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?i.filter(n?c=>n(c)%l===0:c=>i.count(0,c)%l===0):i)),i}const ih=Tr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ih.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Tr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ih);ih.range;const Pi=1e3,ra=Pi*60,Ii=ra*60,Yi=Ii*24,dw=Yi*7,YM=Yi*30,pb=Yi*365,Il=Tr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Pi)},(e,t)=>(t-e)/Pi,e=>e.getUTCSeconds());Il.range;const fw=Tr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pi)},(e,t)=>{e.setTime(+e+t*ra)},(e,t)=>(t-e)/ra,e=>e.getMinutes());fw.range;const mw=Tr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ra)},(e,t)=>(t-e)/ra,e=>e.getUTCMinutes());mw.range;const pw=Tr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pi-e.getMinutes()*ra)},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getHours());pw.range;const hw=Tr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getUTCHours());hw.range;const qd=Tr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ra)/Yi,e=>e.getDate()-1);qd.range;const sx=Tr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yi,e=>e.getUTCDate()-1);sx.range;const DP=Tr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yi,e=>Math.floor(e/Yi));DP.range;function to(e){return Tr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ra)/dw)}const lx=to(0),sh=to(1),HY=to(2),UY=to(3),mc=to(4),YY=to(5),VY=to(6);lx.range;sh.range;HY.range;UY.range;mc.range;YY.range;VY.range;function ro(e){return Tr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/dw)}const ox=ro(0),lh=ro(1),GY=ro(2),WY=ro(3),pc=ro(4),KY=ro(5),QY=ro(6);ox.range;lh.range;GY.range;WY.range;pc.range;KY.range;QY.range;const xw=Tr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());xw.range;const vw=Tr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());vw.range;const Vi=Tr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Tr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Vi.range;const Gi=Tr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Tr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Gi.range;function EP(e,t,r,n,i,l){const c=[[Il,1,Pi],[Il,5,5*Pi],[Il,15,15*Pi],[Il,30,30*Pi],[l,1,ra],[l,5,5*ra],[l,15,15*ra],[l,30,30*ra],[i,1,Ii],[i,3,3*Ii],[i,6,6*Ii],[i,12,12*Ii],[n,1,Yi],[n,2,2*Yi],[r,1,dw],[t,1,YM],[t,3,3*YM],[e,1,pb]];function u(m,h,x){const v=h<m;v&&([m,h]=[h,m]);const g=x&&typeof x.range=="function"?x:f(m,h,x),S=g?g.range(m,+h+1):[];return v?S.reverse():S}function f(m,h,x){const v=Math.abs(h-m)/x,g=Z1(([,,w])=>w).right(c,v);if(g===c.length)return e.every(By(m/pb,h/pb,x));if(g===0)return ih.every(Math.max(By(m,h,x),1));const[S,y]=c[v/c[g-1][2]<c[g][2]/v?g-1:g];return S.every(y)}return[u,f]}const[XY,ZY]=EP(Gi,vw,ox,DP,hw,mw),[JY,eV]=EP(Vi,xw,lx,qd,pw,fw);function hb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function xb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function qu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function tV(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,l=e.days,c=e.shortDays,u=e.months,f=e.shortMonths,m=Hu(i),h=Uu(i),x=Hu(l),v=Uu(l),g=Hu(c),S=Uu(c),y=Hu(u),w=Uu(u),C=Hu(f),k=Uu(f),A={a:F,A:fe,b:Se,B:H,c:null,d:XM,e:XM,f:SV,g:PV,G:RV,H:wV,I:jV,j:NV,L:_P,m:CV,M:AV,p:B,q:Q,Q:eD,s:tD,S:kV,u:MV,U:DV,V:EV,w:_V,W:OV,x:null,X:null,y:TV,Y:IV,Z:LV,"%":JM},M={a:ue,A:xe,b:U,B:de,c:null,d:ZM,e:ZM,f:$V,g:XV,G:JV,H:FV,I:zV,j:BV,L:TP,m:qV,M:HV,p:ie,q:ye,Q:eD,s:tD,S:UV,u:YV,U:VV,V:GV,w:WV,W:KV,x:null,X:null,y:QV,Y:ZV,Z:eG,"%":JM},D={a:L,A:$,b:E,B:J,c:Z,d:KM,e:KM,f:vV,g:WM,G:GM,H:QM,I:QM,j:mV,L:xV,m:fV,M:pV,p:z,q:dV,Q:bV,s:yV,S:hV,u:sV,U:lV,V:oV,w:iV,W:cV,x:te,X:R,y:WM,Y:GM,Z:uV,"%":gV};A.x=T(r,A),A.X=T(n,A),A.c=T(t,A),M.x=T(r,M),M.X=T(n,M),M.c=T(t,M);function T(re,Me){return function(Ve){var ge=[],ze=-1,ke=0,Ie=re.length,rt,Tt,kt;for(Ve instanceof Date||(Ve=new Date(+Ve));++ze<Ie;)re.charCodeAt(ze)===37&&(ge.push(re.slice(ke,ze)),(Tt=VM[rt=re.charAt(++ze)])!=null?rt=re.charAt(++ze):Tt=rt==="e"?" ":"0",(kt=Me[rt])&&(rt=kt(Ve,Tt)),ge.push(rt),ke=ze+1);return ge.push(re.slice(ke,ze)),ge.join("")}}function P(re,Me){return function(Ve){var ge=qu(1900,void 0,1),ze=O(ge,re,Ve+="",0),ke,Ie;if(ze!=Ve.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(Me&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(ke=xb(qu(ge.y,0,1)),Ie=ke.getUTCDay(),ke=Ie>4||Ie===0?lh.ceil(ke):lh(ke),ke=sx.offset(ke,(ge.V-1)*7),ge.y=ke.getUTCFullYear(),ge.m=ke.getUTCMonth(),ge.d=ke.getUTCDate()+(ge.w+6)%7):(ke=hb(qu(ge.y,0,1)),Ie=ke.getDay(),ke=Ie>4||Ie===0?sh.ceil(ke):sh(ke),ke=qd.offset(ke,(ge.V-1)*7),ge.y=ke.getFullYear(),ge.m=ke.getMonth(),ge.d=ke.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),Ie="Z"in ge?xb(qu(ge.y,0,1)).getUTCDay():hb(qu(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(Ie+5)%7:ge.w+ge.U*7-(Ie+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,xb(ge)):hb(ge)}}function O(re,Me,Ve,ge){for(var ze=0,ke=Me.length,Ie=Ve.length,rt,Tt;ze<ke;){if(ge>=Ie)return-1;if(rt=Me.charCodeAt(ze++),rt===37){if(rt=Me.charAt(ze++),Tt=D[rt in VM?Me.charAt(ze++):rt],!Tt||(ge=Tt(re,Ve,ge))<0)return-1}else if(rt!=Ve.charCodeAt(ge++))return-1}return ge}function z(re,Me,Ve){var ge=m.exec(Me.slice(Ve));return ge?(re.p=h.get(ge[0].toLowerCase()),Ve+ge[0].length):-1}function L(re,Me,Ve){var ge=g.exec(Me.slice(Ve));return ge?(re.w=S.get(ge[0].toLowerCase()),Ve+ge[0].length):-1}function $(re,Me,Ve){var ge=x.exec(Me.slice(Ve));return ge?(re.w=v.get(ge[0].toLowerCase()),Ve+ge[0].length):-1}function E(re,Me,Ve){var ge=C.exec(Me.slice(Ve));return ge?(re.m=k.get(ge[0].toLowerCase()),Ve+ge[0].length):-1}function J(re,Me,Ve){var ge=y.exec(Me.slice(Ve));return ge?(re.m=w.get(ge[0].toLowerCase()),Ve+ge[0].length):-1}function Z(re,Me,Ve){return O(re,t,Me,Ve)}function te(re,Me,Ve){return O(re,r,Me,Ve)}function R(re,Me,Ve){return O(re,n,Me,Ve)}function F(re){return c[re.getDay()]}function fe(re){return l[re.getDay()]}function Se(re){return f[re.getMonth()]}function H(re){return u[re.getMonth()]}function B(re){return i[+(re.getHours()>=12)]}function Q(re){return 1+~~(re.getMonth()/3)}function ue(re){return c[re.getUTCDay()]}function xe(re){return l[re.getUTCDay()]}function U(re){return f[re.getUTCMonth()]}function de(re){return u[re.getUTCMonth()]}function ie(re){return i[+(re.getUTCHours()>=12)]}function ye(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var Me=T(re+="",A);return Me.toString=function(){return re},Me},parse:function(re){var Me=P(re+="",!1);return Me.toString=function(){return re},Me},utcFormat:function(re){var Me=T(re+="",M);return Me.toString=function(){return re},Me},utcParse:function(re){var Me=P(re+="",!0);return Me.toString=function(){return re},Me}}}var VM={"-":"",_:" ",0:"0"},zr=/^\s*\d+/,rV=/^%/,nV=/[\\^$*+?|[\]().{}]/g;function Nt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",l=i.length;return n+(l<r?new Array(r-l+1).join(t)+i:i)}function aV(e){return e.replace(nV,"\\$&")}function Hu(e){return new RegExp("^(?:"+e.map(aV).join("|")+")","i")}function Uu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function iV(e,t,r){var n=zr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function sV(e,t,r){var n=zr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function lV(e,t,r){var n=zr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function oV(e,t,r){var n=zr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function cV(e,t,r){var n=zr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function GM(e,t,r){var n=zr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function WM(e,t,r){var n=zr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function uV(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function dV(e,t,r){var n=zr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function fV(e,t,r){var n=zr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function KM(e,t,r){var n=zr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function mV(e,t,r){var n=zr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function QM(e,t,r){var n=zr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function pV(e,t,r){var n=zr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function hV(e,t,r){var n=zr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function xV(e,t,r){var n=zr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function vV(e,t,r){var n=zr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function gV(e,t,r){var n=rV.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function bV(e,t,r){var n=zr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function yV(e,t,r){var n=zr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function XM(e,t){return Nt(e.getDate(),t,2)}function wV(e,t){return Nt(e.getHours(),t,2)}function jV(e,t){return Nt(e.getHours()%12||12,t,2)}function NV(e,t){return Nt(1+qd.count(Vi(e),e),t,3)}function _P(e,t){return Nt(e.getMilliseconds(),t,3)}function SV(e,t){return _P(e,t)+"000"}function CV(e,t){return Nt(e.getMonth()+1,t,2)}function AV(e,t){return Nt(e.getMinutes(),t,2)}function kV(e,t){return Nt(e.getSeconds(),t,2)}function MV(e){var t=e.getDay();return t===0?7:t}function DV(e,t){return Nt(lx.count(Vi(e)-1,e),t,2)}function OP(e){var t=e.getDay();return t>=4||t===0?mc(e):mc.ceil(e)}function EV(e,t){return e=OP(e),Nt(mc.count(Vi(e),e)+(Vi(e).getDay()===4),t,2)}function _V(e){return e.getDay()}function OV(e,t){return Nt(sh.count(Vi(e)-1,e),t,2)}function TV(e,t){return Nt(e.getFullYear()%100,t,2)}function PV(e,t){return e=OP(e),Nt(e.getFullYear()%100,t,2)}function IV(e,t){return Nt(e.getFullYear()%1e4,t,4)}function RV(e,t){var r=e.getDay();return e=r>=4||r===0?mc(e):mc.ceil(e),Nt(e.getFullYear()%1e4,t,4)}function LV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Nt(t/60|0,"0",2)+Nt(t%60,"0",2)}function ZM(e,t){return Nt(e.getUTCDate(),t,2)}function FV(e,t){return Nt(e.getUTCHours(),t,2)}function zV(e,t){return Nt(e.getUTCHours()%12||12,t,2)}function BV(e,t){return Nt(1+sx.count(Gi(e),e),t,3)}function TP(e,t){return Nt(e.getUTCMilliseconds(),t,3)}function $V(e,t){return TP(e,t)+"000"}function qV(e,t){return Nt(e.getUTCMonth()+1,t,2)}function HV(e,t){return Nt(e.getUTCMinutes(),t,2)}function UV(e,t){return Nt(e.getUTCSeconds(),t,2)}function YV(e){var t=e.getUTCDay();return t===0?7:t}function VV(e,t){return Nt(ox.count(Gi(e)-1,e),t,2)}function PP(e){var t=e.getUTCDay();return t>=4||t===0?pc(e):pc.ceil(e)}function GV(e,t){return e=PP(e),Nt(pc.count(Gi(e),e)+(Gi(e).getUTCDay()===4),t,2)}function WV(e){return e.getUTCDay()}function KV(e,t){return Nt(lh.count(Gi(e)-1,e),t,2)}function QV(e,t){return Nt(e.getUTCFullYear()%100,t,2)}function XV(e,t){return e=PP(e),Nt(e.getUTCFullYear()%100,t,2)}function ZV(e,t){return Nt(e.getUTCFullYear()%1e4,t,4)}function JV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?pc(e):pc.ceil(e),Nt(e.getUTCFullYear()%1e4,t,4)}function eG(){return"+0000"}function JM(){return"%"}function eD(e){return+e}function tD(e){return Math.floor(+e/1e3)}var $o,IP,RP;tG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tG(e){return $o=tV(e),IP=$o.format,$o.parse,RP=$o.utcFormat,$o.utcParse,$o}function rG(e){return new Date(e)}function nG(e){return e instanceof Date?+e:+new Date(+e)}function gw(e,t,r,n,i,l,c,u,f,m){var h=aw(),x=h.invert,v=h.domain,g=m(".%L"),S=m(":%S"),y=m("%I:%M"),w=m("%I %p"),C=m("%a %d"),k=m("%b %d"),A=m("%B"),M=m("%Y");function D(T){return(f(T)<T?g:u(T)<T?S:c(T)<T?y:l(T)<T?w:n(T)<T?i(T)<T?C:k:r(T)<T?A:M)(T)}return h.invert=function(T){return new Date(x(T))},h.domain=function(T){return arguments.length?v(Array.from(T,nG)):v().map(rG)},h.ticks=function(T){var P=v();return e(P[0],P[P.length-1],T??10)},h.tickFormat=function(T,P){return P==null?D:m(P)},h.nice=function(T){var P=v();return(!T||typeof T.range!="function")&&(T=t(P[0],P[P.length-1],T??10)),T?v(jP(P,T)):h},h.copy=function(){return $d(h,gw(e,t,r,n,i,l,c,u,f,m))},h}function aG(){return oa.apply(gw(JY,eV,Vi,xw,lx,qd,pw,fw,Il,IP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function iG(){return oa.apply(gw(XY,ZY,Gi,vw,ox,sx,hw,mw,Il,RP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function cx(){var e=0,t=1,r,n,i,l,c=nn,u=!1,f;function m(x){return x==null||isNaN(x=+x)?f:c(i===0?.5:(x=(l(x)-r)*i,u?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t]=x,r=l(e=+e),n=l(t=+t),i=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(x){return arguments.length?(u=!!x,m):u},m.interpolator=function(x){return arguments.length?(c=x,m):c};function h(x){return function(v){var g,S;return arguments.length?([g,S]=v,c=x(g,S),m):[c(0),c(1)]}}return m.range=h(Ec),m.rangeRound=h(nw),m.unknown=function(x){return arguments.length?(f=x,m):f},function(x){return l=x,r=x(e),n=x(t),i=r===n?0:1/(n-r),m}}function Xs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function LP(){var e=Qs(cx()(nn));return e.copy=function(){return Xs(e,LP())},es.apply(e,arguments)}function FP(){var e=lw(cx()).domain([1,10]);return e.copy=function(){return Xs(e,FP()).base(e.base())},es.apply(e,arguments)}function zP(){var e=ow(cx());return e.copy=function(){return Xs(e,zP()).constant(e.constant())},es.apply(e,arguments)}function bw(){var e=cw(cx());return e.copy=function(){return Xs(e,bw()).exponent(e.exponent())},es.apply(e,arguments)}function sG(){return bw.apply(null,arguments).exponent(.5)}function BP(){var e=[],t=nn;function r(n){if(n!=null&&!isNaN(n=+n))return t((zd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ls),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,l)=>YU(e,l/n))},r.copy=function(){return BP(t).domain(e)},es.apply(r,arguments)}function ux(){var e=0,t=.5,r=1,n=1,i,l,c,u,f,m=nn,h,x=!1,v;function g(y){return isNaN(y=+y)?v:(y=.5+((y=+h(y))-l)*(n*y<n*l?u:f),m(x?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([e,t,r]=y,i=h(e=+e),l=h(t=+t),c=h(r=+r),u=i===l?0:.5/(l-i),f=l===c?0:.5/(c-l),n=l<i?-1:1,g):[e,t,r]},g.clamp=function(y){return arguments.length?(x=!!y,g):x},g.interpolator=function(y){return arguments.length?(m=y,g):m};function S(y){return function(w){var C,k,A;return arguments.length?([C,k,A]=w,m=gY(y,[C,k,A]),g):[m(0),m(.5),m(1)]}}return g.range=S(Ec),g.rangeRound=S(nw),g.unknown=function(y){return arguments.length?(v=y,g):v},function(y){return h=y,i=y(e),l=y(t),c=y(r),u=i===l?0:.5/(l-i),f=l===c?0:.5/(c-l),n=l<i?-1:1,g}}function $P(){var e=Qs(ux()(nn));return e.copy=function(){return Xs(e,$P())},es.apply(e,arguments)}function qP(){var e=lw(ux()).domain([.1,1,10]);return e.copy=function(){return Xs(e,qP()).base(e.base())},es.apply(e,arguments)}function HP(){var e=ow(ux());return e.copy=function(){return Xs(e,HP()).constant(e.constant())},es.apply(e,arguments)}function yw(){var e=cw(ux());return e.copy=function(){return Xs(e,yw()).exponent(e.exponent())},es.apply(e,arguments)}function lG(){return yw.apply(null,arguments).exponent(.5)}const rd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ew,scaleDiverging:$P,scaleDivergingLog:qP,scaleDivergingPow:yw,scaleDivergingSqrt:lG,scaleDivergingSymlog:HP,scaleIdentity:wP,scaleImplicit:$y,scaleLinear:yP,scaleLog:NP,scaleOrdinal:J1,scalePoint:WU,scalePow:uw,scaleQuantile:AP,scaleQuantize:kP,scaleRadial:CP,scaleSequential:LP,scaleSequentialLog:FP,scaleSequentialPow:bw,scaleSequentialQuantile:BP,scaleSequentialSqrt:sG,scaleSequentialSymlog:zP,scaleSqrt:$Y,scaleSymlog:SP,scaleThreshold:MP,scaleTime:aG,scaleUtc:iG,tickFormat:bP},Symbol.toStringTag,{value:"Module"}));var Zs=e=>e.chartData,ww=ce([Zs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),UP=(e,t,r,n)=>n?ww(e):Zs(e);function Wi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(zt(t)&&zt(r))return!0}return!1}function rD(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function YP(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,l;if(zt(r))i=r;else if(typeof r=="function")return;if(zt(n))l=n;else if(typeof n=="function")return;var c=[i,l];if(Wi(c))return c}}function oG(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Wi(n))return rD(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,l]=e,c,u;if(i==="auto")t!=null&&(c=Math.min(...t));else if(tt(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[0]))}catch{}else if(typeof i=="string"&&fk.test(i)){var f=fk.exec(i);if(f==null||f[1]==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t?.[0];if(l==="auto")t!=null&&(u=Math.max(...t));else if(tt(l))u=l;else if(typeof l=="function")try{t!=null&&(u=l(t?.[1]))}catch{}else if(typeof l=="string"&&mk.test(l)){var h=mk.exec(l);if(h==null||h[1]==null||t==null)u=void 0;else{var x=+h[1];u=t[1]+x}}else u=t?.[1];var v=[c,u];if(Wi(v))return t==null?v:rD(v,t,r)}}}var _c=1e9,cG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Nw,Jt=!0,ia="[DecimalError] ",$l=ia+"Invalid argument: ",jw=ia+"Exponent out of range: ",Oc=Math.floor,Ml=Math.pow,uG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pn,Rr=1e7,Vt=7,VP=9007199254740991,oh=Oc(VP/Vt),Be={};Be.absoluteValue=Be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Be.comparedTo=Be.cmp=function(e){var t,r,n,i,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(n=l.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return n===i?0:n>i^l.s<0?1:-1};Be.decimalPlaces=Be.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Vt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Be.dividedBy=Be.div=function(e){return Fi(this,new this.constructor(e))};Be.dividedToIntegerBy=Be.idiv=function(e){var t=this,r=t.constructor;return $t(Fi(t,new r(e),0,1),r.precision)};Be.equals=Be.eq=function(e){return!this.cmp(e)};Be.exponent=function(){return kr(this)};Be.greaterThan=Be.gt=function(e){return this.cmp(e)>0};Be.greaterThanOrEqualTo=Be.gte=function(e){return this.cmp(e)>=0};Be.isInteger=Be.isint=function(){return this.e>this.d.length-2};Be.isNegative=Be.isneg=function(){return this.s<0};Be.isPositive=Be.ispos=function(){return this.s>0};Be.isZero=function(){return this.s===0};Be.lessThan=Be.lt=function(e){return this.cmp(e)<0};Be.lessThanOrEqualTo=Be.lte=function(e){return this.cmp(e)<1};Be.logarithm=Be.log=function(e){var t,r=this,n=r.constructor,i=n.precision,l=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Pn))throw Error(ia+"NaN");if(r.s<1)throw Error(ia+(r.s?"NaN":"-Infinity"));return r.eq(Pn)?new n(0):(Jt=!1,t=Fi(jd(r,l),jd(e,l),l),Jt=!0,$t(t,i))};Be.minus=Be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?KP(t,e):GP(t,(e.s=-e.s,e))};Be.modulo=Be.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(ia+"NaN");return r.s?(Jt=!1,t=Fi(r,e,0,1).times(e),Jt=!0,r.minus(t)):$t(new n(r),i)};Be.naturalExponential=Be.exp=function(){return WP(this)};Be.naturalLogarithm=Be.ln=function(){return jd(this)};Be.negated=Be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Be.plus=Be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?GP(t,e):KP(t,(e.s=-e.s,e))};Be.precision=Be.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error($l+e);if(t=kr(i)+1,n=i.d.length-1,r=n*Vt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Be.squareRoot=Be.sqrt=function(){var e,t,r,n,i,l,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(ia+"NaN")}for(e=kr(u),Jt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Qa(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Oc((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(i.toString()),r=f.precision,i=c=r+3;;)if(l=n,n=l.plus(Fi(u,l,c+2)).times(.5),Qa(l.d).slice(0,c)===(t=Qa(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),i==c&&t=="4999"){if($t(l,r+1,0),l.times(l).eq(u)){n=l;break}}else if(t!="9999")break;c+=4}return Jt=!0,$t(n,r)};Be.times=Be.mul=function(e){var t,r,n,i,l,c,u,f,m,h=this,x=h.constructor,v=h.d,g=(e=new x(e)).d;if(!h.s||!e.s)return new x(0);for(e.s*=h.s,r=h.e+e.e,f=v.length,m=g.length,f<m&&(l=v,v=g,g=l,c=f,f=m,m=c),l=[],c=f+m,n=c;n--;)l.push(0);for(n=m;--n>=0;){for(t=0,i=f+n;i>n;)u=l[i]+g[n]*v[i-n-1]+t,l[i--]=u%Rr|0,t=u/Rr|0;l[i]=(l[i]+t)%Rr|0}for(;!l[--c];)l.pop();return t?++r:l.shift(),e.d=l,e.e=r,Jt?$t(e,x.precision):e};Be.toDecimalPlaces=Be.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ai(e,0,_c),t===void 0?t=n.rounding:ai(t,0,8),$t(r,e+kr(r)+1,t))};Be.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Xl(n,!0):(ai(e,0,_c),t===void 0?t=i.rounding:ai(t,0,8),n=$t(new i(n),e+1,t),r=Xl(n,!0,e+1)),r};Be.toFixed=function(e,t){var r,n,i=this,l=i.constructor;return e===void 0?Xl(i):(ai(e,0,_c),t===void 0?t=l.rounding:ai(t,0,8),n=$t(new l(i),e+kr(i)+1,t),r=Xl(n.abs(),!1,e+kr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Be.toInteger=Be.toint=function(){var e=this,t=e.constructor;return $t(new t(e),kr(e)+1,t.rounding)};Be.toNumber=function(){return+this};Be.toPower=Be.pow=function(e){var t,r,n,i,l,c,u=this,f=u.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(Pn);if(u=new f(u),!u.s){if(e.s<1)throw Error(ia+"Infinity");return u}if(u.eq(Pn))return u;if(n=f.precision,e.eq(Pn))return $t(u,n);if(t=e.e,r=e.d.length-1,c=t>=r,l=u.s,c){if((r=h<0?-h:h)<=VP){for(i=new f(Pn),t=Math.ceil(n/Vt+4),Jt=!1;r%2&&(i=i.times(u),aD(i.d,t)),r=Oc(r/2),r!==0;)u=u.times(u),aD(u.d,t);return Jt=!0,e.s<0?new f(Pn).div(i):$t(i,n)}}else if(l<0)throw Error(ia+"NaN");return l=l<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,Jt=!1,i=e.times(jd(u,n+m)),Jt=!0,i=WP(i),i.s=l,i};Be.toPrecision=function(e,t){var r,n,i=this,l=i.constructor;return e===void 0?(r=kr(i),n=Xl(i,r<=l.toExpNeg||r>=l.toExpPos)):(ai(e,1,_c),t===void 0?t=l.rounding:ai(t,0,8),i=$t(new l(i),e,t),r=kr(i),n=Xl(i,e<=r||r<=l.toExpNeg,e)),n};Be.toSignificantDigits=Be.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ai(e,1,_c),t===void 0?t=n.rounding:ai(t,0,8)),$t(new n(r),e,t)};Be.toString=Be.valueOf=Be.val=Be.toJSON=Be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=kr(e),r=e.constructor;return Xl(e,t<=r.toExpNeg||t>=r.toExpPos)};function GP(e,t){var r,n,i,l,c,u,f,m,h=e.constructor,x=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Jt?$t(t,x):t;if(f=e.d,m=t.d,c=e.e,i=t.e,f=f.slice(),l=c-i,l){for(l<0?(n=f,l=-l,u=m.length):(n=m,i=c,u=f.length),c=Math.ceil(x/Vt),u=c>u?c+1:u+1,l>u&&(l=u,n.length=1),n.reverse();l--;)n.push(0);n.reverse()}for(u=f.length,l=m.length,u-l<0&&(l=u,n=m,m=f,f=n),r=0;l;)r=(f[--l]=f[l]+m[l]+r)/Rr|0,f[l]%=Rr;for(r&&(f.unshift(r),++i),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=i,Jt?$t(t,x):t}function ai(e,t,r){if(e!==~~e||e<t||e>r)throw Error($l+e)}function Qa(e){var t,r,n,i=e.length-1,l="",c=e[0];if(i>0){for(l+=c,t=1;t<i;t++)n=e[t]+"",r=Vt-n.length,r&&(l+=Ts(r)),l+=n;c=e[t],n=c+"",r=Vt-n.length,r&&(l+=Ts(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var Fi=(function(){function e(n,i){var l,c=0,u=n.length;for(n=n.slice();u--;)l=n[u]*i+c,n[u]=l%Rr|0,c=l/Rr|0;return c&&n.unshift(c),n}function t(n,i,l,c){var u,f;if(l!=c)f=l>c?1:-1;else for(u=f=0;u<l;u++)if(n[u]!=i[u]){f=n[u]>i[u]?1:-1;break}return f}function r(n,i,l){for(var c=0;l--;)n[l]-=c,c=n[l]<i[l]?1:0,n[l]=c*Rr+n[l]-i[l];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,l,c){var u,f,m,h,x,v,g,S,y,w,C,k,A,M,D,T,P,O,z=n.constructor,L=n.s==i.s?1:-1,$=n.d,E=i.d;if(!n.s)return new z(n);if(!i.s)throw Error(ia+"Division by zero");for(f=n.e-i.e,P=E.length,D=$.length,g=new z(L),S=g.d=[],m=0;E[m]==($[m]||0);)++m;if(E[m]>($[m]||0)&&--f,l==null?k=l=z.precision:c?k=l+(kr(n)-kr(i))+1:k=l,k<0)return new z(0);if(k=k/Vt+2|0,m=0,P==1)for(h=0,E=E[0],k++;(m<D||h)&&k--;m++)A=h*Rr+($[m]||0),S[m]=A/E|0,h=A%E|0;else{for(h=Rr/(E[0]+1)|0,h>1&&(E=e(E,h),$=e($,h),P=E.length,D=$.length),M=P,y=$.slice(0,P),w=y.length;w<P;)y[w++]=0;O=E.slice(),O.unshift(0),T=E[0],E[1]>=Rr/2&&++T;do h=0,u=t(E,y,P,w),u<0?(C=y[0],P!=w&&(C=C*Rr+(y[1]||0)),h=C/T|0,h>1?(h>=Rr&&(h=Rr-1),x=e(E,h),v=x.length,w=y.length,u=t(x,y,v,w),u==1&&(h--,r(x,P<v?O:E,v))):(h==0&&(u=h=1),x=E.slice()),v=x.length,v<w&&x.unshift(0),r(y,x,w),u==-1&&(w=y.length,u=t(E,y,P,w),u<1&&(h++,r(y,P<w?O:E,w))),w=y.length):u===0&&(h++,y=[0]),S[m++]=h,u&&y[0]?y[w++]=$[M]||0:(y=[$[M]],w=1);while((M++<D||y[0]!==void 0)&&k--)}return S[0]||S.shift(),g.e=f,$t(g,c?l+kr(g)+1:l)}})();function WP(e,t){var r,n,i,l,c,u,f=0,m=0,h=e.constructor,x=h.precision;if(kr(e)>16)throw Error(jw+kr(e));if(!e.s)return new h(Pn);for(Jt=!1,u=x,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(n=Math.log(Ml(2,m))/Math.LN10*2+5|0,u+=n,r=i=l=new h(Pn),h.precision=u;;){if(i=$t(i.times(e),u),r=r.times(++f),c=l.plus(Fi(i,r,u)),Qa(c.d).slice(0,u)===Qa(l.d).slice(0,u)){for(;m--;)l=$t(l.times(l),u);return h.precision=x,t==null?(Jt=!0,$t(l,x)):l}l=c}}function kr(e){for(var t=e.e*Vt,r=e.d[0];r>=10;r/=10)t++;return t}function vb(e,t,r){if(t>e.LN10.sd())throw Jt=!0,r&&(e.precision=r),Error(ia+"LN10 precision limit exceeded");return $t(new e(e.LN10),t)}function Ts(e){for(var t="";e--;)t+="0";return t}function jd(e,t){var r,n,i,l,c,u,f,m,h,x=1,v=10,g=e,S=g.d,y=g.constructor,w=y.precision;if(g.s<1)throw Error(ia+(g.s?"NaN":"-Infinity"));if(g.eq(Pn))return new y(0);if(t==null?(Jt=!1,m=w):m=t,g.eq(10))return t==null&&(Jt=!0),vb(y,m);if(m+=v,y.precision=m,r=Qa(S),n=r.charAt(0),l=kr(g),Math.abs(l)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=Qa(g.d),n=r.charAt(0),x++;l=kr(g),n>1?(g=new y("0."+r),l++):g=new y(n+"."+r.slice(1))}else return f=vb(y,m+2,w).times(l+""),g=jd(new y(n+"."+r.slice(1)),m-v).plus(f),y.precision=w,t==null?(Jt=!0,$t(g,w)):g;for(u=c=g=Fi(g.minus(Pn),g.plus(Pn),m),h=$t(g.times(g),m),i=3;;){if(c=$t(c.times(h),m),f=u.plus(Fi(c,new y(i),m)),Qa(f.d).slice(0,m)===Qa(u.d).slice(0,m))return u=u.times(2),l!==0&&(u=u.plus(vb(y,m+2,w).times(l+""))),u=Fi(u,new y(x),m),y.precision=w,t==null?(Jt=!0,$t(u,w)):u;u=f,i+=2}}function nD(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Oc(r/Vt),e.d=[],n=(r+1)%Vt,r<0&&(n+=Vt),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Vt;n<i;)e.d.push(+t.slice(n,n+=Vt));t=t.slice(n),n=Vt-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Jt&&(e.e>oh||e.e<-oh))throw Error(jw+r)}else e.s=0,e.e=0,e.d=[0];return e}function $t(e,t,r){var n,i,l,c,u,f,m,h,x=e.d;for(c=1,l=x[0];l>=10;l/=10)c++;if(n=t-c,n<0)n+=Vt,i=t,m=x[h=0];else{if(h=Math.ceil((n+1)/Vt),l=x.length,h>=l)return e;for(m=l=x[h],c=1;l>=10;l/=10)c++;n%=Vt,i=n-Vt+c}if(r!==void 0&&(l=Ml(10,c-i-1),u=m/l%10|0,f=t<0||x[h+1]!==void 0||m%l,f=r<4?(u||f)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||f||r==6&&(n>0?i>0?m/Ml(10,c-i):0:x[h-1])%10&1||r==(e.s<0?8:7))),t<1||!x[0])return f?(l=kr(e),x.length=1,t=t-l-1,x[0]=Ml(10,(Vt-t%Vt)%Vt),e.e=Oc(-t/Vt)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(n==0?(x.length=h,l=1,h--):(x.length=h+1,l=Ml(10,Vt-n),x[h]=i>0?(m/Ml(10,c-i)%Ml(10,i)|0)*l:0),f)for(;;)if(h==0){(x[0]+=l)==Rr&&(x[0]=1,++e.e);break}else{if(x[h]+=l,x[h]!=Rr)break;x[h--]=0,l=1}for(n=x.length;x[--n]===0;)x.pop();if(Jt&&(e.e>oh||e.e<-oh))throw Error(jw+kr(e));return e}function KP(e,t){var r,n,i,l,c,u,f,m,h,x,v=e.constructor,g=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Jt?$t(t,g):t;if(f=e.d,x=t.d,n=t.e,m=e.e,f=f.slice(),c=m-n,c){for(h=c<0,h?(r=f,c=-c,u=x.length):(r=x,n=m,u=f.length),i=Math.max(Math.ceil(g/Vt),u)+2,c>i&&(c=i,r.length=1),r.reverse(),i=c;i--;)r.push(0);r.reverse()}else{for(i=f.length,u=x.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(f[i]!=x[i]){h=f[i]<x[i];break}c=0}for(h&&(r=f,f=x,x=r,t.s=-t.s),u=f.length,i=x.length-u;i>0;--i)f[u++]=0;for(i=x.length;i>c;){if(f[--i]<x[i]){for(l=i;l&&f[--l]===0;)f[l]=Rr-1;--f[l],f[i]+=Rr}f[i]-=x[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,Jt?$t(t,g):t):new v(0)}function Xl(e,t,r){var n,i=kr(e),l=Qa(e.d),c=l.length;return t?(r&&(n=r-c)>0?l=l.charAt(0)+"."+l.slice(1)+Ts(n):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(i<0?"e":"e+")+i):i<0?(l="0."+Ts(-i-1)+l,r&&(n=r-c)>0&&(l+=Ts(n))):i>=c?(l+=Ts(i+1-c),r&&(n=r-i-1)>0&&(l=l+"."+Ts(n))):((n=i+1)<c&&(l=l.slice(0,n)+"."+l.slice(n)),r&&(n=r-c)>0&&(i+1===c&&(l+="."),l+=Ts(n))),e.s<0?"-"+l:l}function aD(e,t){if(e.length>t)return e.length=t,!0}function QP(e){var t,r,n;function i(l){var c=this;if(!(c instanceof i))return new i(l);if(c.constructor=i,l instanceof i){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error($l+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return nD(c,l.toString())}else if(typeof l!="string")throw Error($l+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,uG.test(l))nD(c,l);else throw Error($l+l)}if(i.prototype=Be,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=QP,i.config=i.set=dG,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function dG(e){if(!e||typeof e!="object")throw Error(ia+"Object expected");var t,r,n,i=["precision",1,_c,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Oc(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error($l+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error($l+r+": "+n);return this}var Nw=QP(cG);Pn=new Nw(1);const _t=Nw;function XP(e){var t;return e===0?t=1:t=Math.floor(new _t(e).abs().log(10).toNumber())+1,t}function ZP(e,t,r){for(var n=new _t(e),i=0,l=[];n.lt(t)&&i<1e5;)l.push(n.toNumber()),n=n.add(r),i++;return l}var JP=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},e3=(e,t,r)=>{if(e.lte(0))return new _t(0);var n=XP(e.toNumber()),i=new _t(10).pow(n),l=e.div(i),c=n!==1?.05:.1,u=new _t(Math.ceil(l.div(c).toNumber())).add(r).mul(c),f=u.mul(i);return t?new _t(f.toNumber()):new _t(Math.ceil(f.toNumber()))},fG=(e,t,r)=>{var n=new _t(1),i=new _t(e);if(!i.isint()&&r){var l=Math.abs(e);l<1?(n=new _t(10).pow(XP(e)-1),i=new _t(Math.floor(i.div(n).toNumber())).mul(n)):l>1&&(i=new _t(Math.floor(e)))}else e===0?i=new _t(Math.floor((t-1)/2)):r||(i=new _t(Math.floor(e)));for(var c=Math.floor((t-1)/2),u=[],f=0;f<t;f++)u.push(i.add(new _t(f-c).mul(n)).toNumber());return u},t3=function(t,r,n,i){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new _t(0),tickMin:new _t(0),tickMax:new _t(0)};var c=e3(new _t(r).sub(t).div(n-1),i,l),u;t<=0&&r>=0?u=new _t(0):(u=new _t(t).add(r).div(2),u=u.sub(new _t(u).mod(c)));var f=Math.ceil(u.sub(t).div(c).toNumber()),m=Math.ceil(new _t(r).sub(u).div(c).toNumber()),h=f+m+1;return h>n?t3(t,r,n,i,l+1):(h<n&&(m=r>0?m+(n-h):m,f=r>0?f:f+(n-h)),{step:c,tickMin:u.sub(new _t(f).mul(c)),tickMax:u.add(new _t(m).mul(c))})},mG=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[u,f]=JP([r,n]);if(u===-1/0||f===1/0){var m=f===1/0?[u,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),f];return r>n?m.reverse():m}if(u===f)return fG(u,i,l);var{step:h,tickMin:x,tickMax:v}=t3(u,f,c,l,0),g=ZP(x,v.add(new _t(.1).mul(h)),h);return r>n?g.reverse():g},pG=function(t,r){var[n,i]=t,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,u]=JP([n,i]);if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var f=Math.max(r,2),m=e3(new _t(u).sub(c).div(f-1),l,0),h=[...ZP(new _t(c),new _t(u),m),u];return l===!1&&(h=h.map(x=>Math.round(x))),n>i?h.reverse():h},hG=e=>e.rootProps.barCategoryGap,Hd=e=>e.rootProps.stackOffset,r3=e=>e.rootProps.reverseStackOrder,Sw=e=>e.options.chartName,Cw=e=>e.rootProps.syncId,n3=e=>e.rootProps.syncMethod,Aw=e=>e.options.eventEmitter,ba={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},jl={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},$a={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},dx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function a3(e,t,r){if(r!=="auto")return r;if(e!=null)return Ws(e,t)?"category":"number"}function iD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iD(Object(r),!0).forEach(function(n){xG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xG(e,t,r){return(t=vG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vG(e){var t=gG(e,"string");return typeof t=="symbol"?t:t+""}function gG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sD={allowDataOverflow:jl.allowDataOverflow,allowDecimals:jl.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:jl.angleAxisId,includeHidden:!1,name:void 0,reversed:jl.reversed,scale:jl.scale,tick:jl.tick,tickCount:void 0,ticks:void 0,type:jl.type,unit:void 0},lD={allowDataOverflow:$a.allowDataOverflow,allowDecimals:$a.allowDecimals,allowDuplicatedCategory:$a.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$a.radiusAxisId,includeHidden:$a.includeHidden,name:void 0,reversed:$a.reversed,scale:$a.scale,tick:$a.tick,tickCount:$a.tickCount,ticks:void 0,type:$a.type,unit:void 0},bG=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},kw=ce([bG,VT],(e,t)=>{var r;if(e!=null)return e;var n=(r=a3(t,"angleAxis",sD.type))!==null&&r!==void 0?r:"category";return ch(ch({},sD),{},{type:n})}),yG=(e,t)=>e.polarAxis.radiusAxis[t],Mw=ce([yG,VT],(e,t)=>{var r;if(e!=null)return e;var n=(r=a3(t,"radiusAxis",lD.type))!==null&&r!==void 0?r:"category";return ch(ch({},lD),{},{type:n})}),fx=e=>e.polarOptions,Dw=ce([Zi,Ji,Fr],sP),i3=ce([fx,Dw],(e,t)=>{if(e!=null)return Rn(e.innerRadius,t,0)}),s3=ce([fx,Dw],(e,t)=>{if(e!=null)return Rn(e.outerRadius,t,t*.8)}),wG=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},l3=ce([fx],wG);ce([kw,l3],dx);var o3=ce([Dw,i3,s3],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ce([Mw,o3],dx);var c3=ce([tr,fx,i3,s3,Zi,Ji],(e,t,r,n,i,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:u,startAngle:f,endAngle:m}=t;return{cx:Rn(c,i,i/2),cy:Rn(u,l,l/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:m,clockWise:!1}}}),ar=(e,t)=>t,Ud=(e,t,r)=>r;function u3(e){return e?.id}function d3(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:l}=r,c=new Map;return e.forEach(u=>{var f,m=(f=u.data)!==null&&f!==void 0?f:n;if(!(m==null||m.length===0)){var h=u3(u);m.forEach((x,v)=>{var g=l==null||i?v:String(fr(x,l,null)),S=fr(x,u.dataKey,0),y;c.has(g)?y=c.get(g):y={},Object.assign(y,{[h]:S}),c.set(g,y)})}}),Array.from(c.values())}function Ew(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var mx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function px(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function jG(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Br=e=>{var t=tr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Tc=e=>e.tooltip.settings.axisId;function NG(e){if(e in rd)return rd[e]();var t="scale".concat(Od(e));if(t in rd)return rd[t]()}function oD(e){var t=e.ticks,r=e.bandwidth,n=e.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(l){function c(){return l.apply(this,arguments)}return c.toString=function(){return l.toString()},c})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(l){var c=i[0],u=i[1];return c<=u?l>=c&&l<=u:l>=u&&l<=c},bandwidth:r?()=>r.call(e):void 0,ticks:t?l=>t.call(e,l):void 0,map:(l,c)=>{var u=e(l);if(u!=null){if(e.bandwidth&&c!==null&&c!==void 0&&c.position){var f=e.bandwidth();switch(c.position){case"middle":u+=f/2;break;case"end":u+=f;break}}return u}}}}function cD(e,t,r){if(typeof e=="function")return oD(e.copy().domain(t).range(r));if(e!=null){var n=NG(e);if(n!=null)return n.domain(t).range(r),oD(n)}}var f3=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Wi(t)){for(var r,n,i=0;i<t.length;i++){var l=t[i];zt(l)&&((r===void 0||l<r)&&(r=l),(n===void 0||l>n)&&(n=l))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function uD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uD(Object(r),!0).forEach(function(n){SG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SG(e,t,r){return(t=CG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CG(e){var t=AG(e,"string");return typeof t=="symbol"?t:t+""}function AG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yy=[0,"auto"],kG={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},MG=(e,t)=>e.cartesianAxis.xAxis[t],Js=(e,t)=>{var r=MG(e,t);return r??kG},DG={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Yy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Rd},EG=(e,t)=>e.cartesianAxis.yAxis[t],el=(e,t)=>{var r=EG(e,t);return r??DG},_G={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},_w=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??_G},pr=(e,t,r)=>{switch(t){case"xAxis":return Js(e,r);case"yAxis":return el(e,r);case"zAxis":return _w(e,r);case"angleAxis":return kw(e,r);case"radiusAxis":return Mw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},OG=(e,t,r)=>{switch(t){case"xAxis":return Js(e,r);case"yAxis":return el(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Pc=(e,t,r)=>{switch(t){case"xAxis":return Js(e,r);case"yAxis":return el(e,r);case"angleAxis":return kw(e,r);case"radiusAxis":return Mw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},m3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Ow(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var TG=e=>e.graphicalItems.cartesianItems,PG=ce([ar,Ud],Ow),Tw=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Yd=ce([TG,pr,PG],Tw,{memoizeOptions:{resultEqualityCheck:px}}),p3=ce([Yd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Ew)),h3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),IG=ce([Yd],h3),Pw=e=>e.map(t=>t.data).filter(Boolean).flat(1),RG=ce([Yd],Pw,{memoizeOptions:{resultEqualityCheck:px}}),Iw=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Rw=ce([RG,UP],Iw),Lw=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:fr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:fr(i,n)}))):e.map(n=>({value:n})),hx=ce([Rw,pr,Yd],Lw);function x3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function mp(e){if(Hi(e)||e instanceof Date){var t=Number(e);if(zt(t))return t}}function dD(e){if(Array.isArray(e)){var t=[mp(e[0]),mp(e[1])];return Wi(t)?t:void 0}var r=mp(e);if(r!=null)return[r,r]}function Ki(e){return e.map(mp).filter(Wa)}function LG(e,t,r){return!r||typeof t!="number"||qi(t)?[]:r.length?Ki(r.flatMap(n=>{var i=fr(e,n.dataKey),l,c;if(Array.isArray(i)?[l,c]=i:l=c=i,!(!zt(l)||!zt(c)))return[t-l,t+c]})):[]}var Pr=e=>{var t=Br(e),r=Tc(e);return Pc(e,t,r)},Vd=ce([Pr],e=>e?.dataKey),FG=ce([p3,UP,Pr],d3),v3=(e,t,r,n)=>{var i={},l=t.reduce((c,u)=>{if(u.stackId==null)return c;var f=c[u.stackId];return f==null&&(f=[]),f.push(u),c[u.stackId]=f,c},i);return Object.fromEntries(Object.entries(l).map(c=>{var[u,f]=c,m=n?[...f].reverse():f,h=m.map(u3);return[u,{stackedData:fH(e,h,r),graphicalItems:m}]}))},zG=ce([FG,p3,Hd,r3],v3),g3=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:l}=t;if(n==null&&r!=="zAxis"){var c=hH(e,i,l);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},BG=ce([pr],e=>e.allowDataOverflow),Fw=e=>{var t;if(e==null||!("domain"in e))return Yy;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Ki(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Yy},zw=ce([pr],Fw),Bw=ce([zw,BG],YP),$G=ce([zG,Zs,ar,Bw],g3,{memoizeOptions:{resultEqualityCheck:mx}}),xx=e=>e.errorBars,qG=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>x3(r,n)),dh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var l=i.flat(),c=Math.min(...l),u=Math.max(...l);return[c,u]}},$w=(e,t,r,n,i)=>{var l,c;if(r.length>0&&e.forEach(u=>{r.forEach(f=>{var m,h,x=(m=n[f.id])===null||m===void 0?void 0:m.filter(C=>x3(i,C)),v=fr(u,(h=t.dataKey)!==null&&h!==void 0?h:f.dataKey),g=LG(u,v,x);if(g.length>=2){var S=Math.min(...g),y=Math.max(...g);(l==null||S<l)&&(l=S),(c==null||y>c)&&(c=y)}var w=dD(v);w!=null&&(l=l==null?w[0]:Math.min(l,w[0]),c=c==null?w[1]:Math.max(c,w[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var f=dD(fr(u,t.dataKey));f!=null&&(l=l==null?f[0]:Math.min(l,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),zt(l)&&zt(c))return[l,c]},HG=ce([Rw,pr,IG,xx,ar],$w,{memoizeOptions:{resultEqualityCheck:mx}});function UG(e){var{value:t}=e;if(Hi(t)||t instanceof Date)return t}var YG=(e,t,r)=>{var n=e.map(UG).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&GO(n))?uP(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},b3=e=>e.referenceElements.dots,Ic=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),VG=ce([b3,ar,Ud],Ic),y3=e=>e.referenceElements.areas,GG=ce([y3,ar,Ud],Ic),w3=e=>e.referenceElements.lines,WG=ce([w3,ar,Ud],Ic),j3=(e,t)=>{if(e!=null){var r=Ki(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},KG=ce(VG,ar,j3),N3=(e,t)=>{if(e!=null){var r=Ki(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},QG=ce([GG,ar],N3);function XG(e){var t;if(e.x!=null)return Ki([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ki(r)}function ZG(e){var t;if(e.y!=null)return Ki([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ki(r)}var S3=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?XG(n):ZG(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},JG=ce([WG,ar],S3),eW=ce(KG,JG,QG,(e,t,r)=>dh(e,r,t)),qw=(e,t,r,n,i,l,c,u)=>{if(r!=null)return r;var f=c==="vertical"&&u==="xAxis"||c==="horizontal"&&u==="yAxis",m=f?dh(n,l,i):dh(l,i);return oG(t,m,e.allowDataOverflow)},tW=ce([pr,zw,Bw,$G,HG,eW,tr,ar],qw,{memoizeOptions:{resultEqualityCheck:mx}}),rW=[0,1],Hw=(e,t,r,n,i,l,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:u,type:f}=e,m=Ws(t,l);if(m&&u==null){var h;return uP(0,(h=r?.length)!==null&&h!==void 0?h:0)}return f==="category"?YG(n,e,m):i==="expand"?rW:c}},Uw=ce([pr,tr,Rw,hx,Hd,ar,tW],Hw);function nW(e){return e in rd}var C3=(e,t,r)=>{if(e!=null){var{scale:n,type:i}=e;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var l="scale".concat(Od(n));return nW(l)?l:"point"}}},tl=ce([pr,m3,Sw],C3);function Yw(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?cD(e.scale,r,n):cD(t,r,n)}var Vw=(e,t,r)=>{var n=Fw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Wi(e))return mG(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Wi(e))return pG(e,t.tickCount,t.allowDecimals)}},Gw=ce([Uw,Pc,tl],Vw),Ww=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Wi(t)&&Array.isArray(r)&&r.length>0){var i,l,c=t[0],u=(i=r[0])!==null&&i!==void 0?i:0,f=t[1],m=(l=r[r.length-1])!==null&&l!==void 0?l:0;return[Math.min(c,u),Math.max(f,m)]}return t},aW=ce([pr,Uw,Gw,ar],Ww),iW=ce(hx,pr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ki(e.map(x=>x.value))).sort((x,v)=>x-v),i=n[0],l=n[n.length-1];if(i==null||l==null)return 1/0;var c=l-i;if(c===0)return 1/0;for(var u=0;u<n.length-1;u++){var f=n[u],m=n[u+1];if(!(f==null||m==null)){var h=m-f;r=Math.min(r,h)}}return r/c}}),A3=ce(iW,tr,hG,Fr,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!zt(e))return 0;var l=t==="vertical"?n.height:n.width;if(i==="gap")return e*l/2;if(i==="no-gap"){var c=Rn(r,e*l),u=e*l/2;return u-c-(u-c)/l*c}return 0}),sW=(e,t,r)=>{var n=Js(e,t);return n==null||typeof n.padding!="string"?0:A3(e,"xAxis",t,r,n.padding)},lW=(e,t,r)=>{var n=el(e,t);return n==null||typeof n.padding!="string"?0:A3(e,"yAxis",t,r,n.padding)},oW=ce(Js,sW,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),cW=ce(el,lW,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),uW=ce([Fr,oW,Jh,Zh,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:l}=n;return i?[l.left,r.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),dW=ce([Fr,tr,cW,Jh,Zh,(e,t,r)=>r],(e,t,r,n,i,l)=>{var{padding:c}=i;return l?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Gd=(e,t,r,n)=>{var i;switch(t){case"xAxis":return uW(e,r,n);case"yAxis":return dW(e,r,n);case"zAxis":return(i=_w(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return l3(e);case"radiusAxis":return o3(e,r);default:return}},k3=ce([pr,Gd],dx),fW=ce([tl,aW],f3),vx=ce([pr,tl,fW,k3],Yw);ce([Yd,xx,ar],qG);function M3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var gx=(e,t)=>t,bx=(e,t,r)=>r,mW=ce(Qh,gx,bx,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(M3)),pW=ce(Xh,gx,bx,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(M3)),D3=(e,t)=>({width:e.width,height:t.height}),hW=(e,t)=>{var r=typeof t.width=="number"?t.width:Rd;return{width:r,height:e.height}};ce(Fr,Js,D3);var xW=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},vW=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},gW=ce(Ji,Fr,mW,gx,bx,(e,t,r,n,i)=>{var l={},c;return r.forEach(u=>{var f=D3(t,u);c==null&&(c=xW(t,n,e));var m=n==="top"&&!i||n==="bottom"&&i;l[u.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),l}),bW=ce(Zi,Fr,pW,gx,bx,(e,t,r,n,i)=>{var l={},c;return r.forEach(u=>{var f=hW(t,u);c==null&&(c=vW(t,n,e));var m=n==="left"&&!i||n==="right"&&i;l[u.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),l}),yW=(e,t)=>{var r=Js(e,t);if(r!=null)return gW(e,r.orientation,r.mirror)};ce([Fr,Js,yW,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}});var wW=(e,t)=>{var r=el(e,t);if(r!=null)return bW(e,r.orientation,r.mirror)};ce([Fr,el,wW,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}});ce(Fr,el,(e,t)=>{var r=typeof t.width=="number"?t.width:Rd;return{width:r,height:e.height}});var E3=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:l,dataKey:c}=r,u=Ws(e,n),f=t.map(m=>m.value);if(c&&u&&l==="category"&&i&&GO(f))return f}},Kw=ce([tr,hx,pr,ar],E3),_3=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:l}=r,c=Ws(e,n);if(c&&(i==="number"||l!=="auto"))return t.map(u=>u.value)}},Qw=ce([tr,hx,Pc,ar],_3);ce([tr,OG,tl,vx,Kw,Qw,Gd,Gw,ar],(e,t,r,n,i,l,c,u,f)=>{if(t!=null){var m=Ws(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:l,duplicateDomain:i,isCategorical:m,niceTicks:u,range:c,realScaleType:r,scale:n}}});var jW=(e,t,r,n,i,l,c,u,f)=>{if(!(t==null||n==null)){var m=Ws(e,f),{type:h,ticks:x,tickCount:v}=t,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,S=h==="category"&&n.bandwidth?n.bandwidth()/g:0;S=f==="angleAxis"&&l!=null&&l.length>=2?gn(l[0]-l[1])*2*S:S;var y=x||i;return y?y.map((w,C)=>{var k=c?c.indexOf(w):w,A=n.map(k);return zt(A)?{index:C,coordinate:A+S,value:w,offset:S}:null}).filter(Wa):m&&u?u.map((w,C)=>{var k=n.map(w);return zt(k)?{coordinate:k+S,value:w,index:C,offset:S}:null}).filter(Wa):n.ticks?n.ticks(v).map((w,C)=>{var k=n.map(w);return zt(k)?{coordinate:k+S,value:w,index:C,offset:S}:null}).filter(Wa):n.domain().map((w,C)=>{var k=n.map(w);return zt(k)?{coordinate:k+S,value:c?c[w]:w,index:C,offset:S}:null}).filter(Wa)}};ce([tr,Pc,tl,vx,Gw,Gd,Kw,Qw,ar],jW);var NW=(e,t,r,n,i,l,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=Ws(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&n?.length>=2?gn(n[0]-n[1])*2*m:m,u&&l?l.map((h,x)=>{var v=r.map(h);return zt(v)?{coordinate:v+m,value:h,index:x,offset:m}:null}).filter(Wa):r.ticks?r.ticks(f).map((h,x)=>{var v=r.map(h);return zt(v)?{coordinate:v+m,value:h,index:x,offset:m}:null}).filter(Wa):r.domain().map((h,x)=>{var v=r.map(h);return zt(v)?{coordinate:v+m,value:i?i[h]:h,index:x,offset:m}:null}).filter(Wa)}};ce([tr,Pc,vx,Gd,Kw,Qw,ar],NW);ce(pr,vx,(e,t)=>{if(!(e==null||t==null))return uh(uh({},e),{},{scale:t})});var SW=ce([pr,tl,Uw,k3],Yw);ce((e,t,r)=>_w(e,r),SW,(e,t)=>{if(!(e==null||t==null))return uh(uh({},e),{},{scale:t})});var CW=ce([tr,Qh,Xh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),O3=e=>e.options.defaultTooltipEventType,T3=e=>e.options.validateTooltipEventTypes;function P3(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Xw(e,t){var r=O3(e),n=T3(e);return P3(t,r,n)}function AW(e){return lt(t=>Xw(t,e))}var I3=(e,t)=>{var r,n=Number(t);if(!(qi(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},kW=e=>e.tooltip.settings,Ps={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},MW={itemInteraction:{click:Ps,hover:Ps},axisInteraction:{click:Ps,hover:Ps},keyboardInteraction:Ps,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},R3=wn({name:"tooltip",initialState:MW,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Zt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=ya(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:Zt()},removeTooltipEntrySettings:{reducer(e,t){var r=ya(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Zt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:DW,replaceTooltipEntrySettings:EW,removeTooltipEntrySettings:_W,setTooltipSettingsState:OW,setActiveMouseOverItemIndex:L3,mouseLeaveItem:TW,mouseLeaveChart:F3,setActiveClickItemIndex:PW,setMouseOverAxisIndex:z3,setMouseClickAxisIndex:IW,setSyncInteraction:Vy,setKeyboardInteraction:Gy}=R3.actions,RW=R3.reducer;function fD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fD(Object(r),!0).forEach(function(n){LW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LW(e,t,r){return(t=FW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FW(e){var t=zW(e,"string");return typeof t=="symbol"?t:t+""}function zW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BW(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function $W(e){return e.index!=null}var B3=(e,t,r,n)=>{if(t==null)return Ps;var i=BW(e,t,r);if(i==null)return Ps;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if($W(i)){if(l)return Tm(Tm({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Tm(Tm({},Ps),{},{coordinate:i.coordinate})};function qW(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function HW(e,t){var r=qW(e),n=t[0],i=t[1];if(r===void 0)return!1;var l=Math.min(n,i),c=Math.max(n,i);return r>=l&&r<=c}function UW(e,t,r){if(r==null||t==null)return!0;var n=fr(e,t);return n==null||!Wi(r)?!0:HW(n,r)}var Zw=(e,t,r,n)=>{var i=e?.index;if(i==null)return null;var l=Number(i);if(!zt(l))return i;var c=0,u=1/0;t.length>0&&(u=t.length-1);var f=Math.max(c,Math.min(l,u)),m=t[f];return m==null||UW(m,r,n)?String(f):null},$3=(e,t,r,n,i,l,c)=>{if(l!=null){var u=c[0],f=u?.getPosition(l);if(f!=null)return f;var m=i?.[Number(l)];if(m)return r==="horizontal"?{x:m.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:m.coordinate}}},q3=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var l=e.tooltipItemPayloads[0];return l!=null?[l]:[]}return e.tooltipItemPayloads.filter(c=>{var u;return((u=c.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},H3=e=>e.options.tooltipPayloadSearcher,Rc=e=>e.tooltip;function mD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mD(Object(r),!0).forEach(function(n){YW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YW(e,t,r){return(t=VW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VW(e){var t=GW(e,"string");return typeof t=="symbol"?t:t+""}function GW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WW(e,t){return e??t}var U3=(e,t,r,n,i,l,c)=>{if(!(t==null||l==null)){var{chartData:u,computedData:f,dataStartIndex:m,dataEndIndex:h}=r,x=[];return e.reduce((v,g)=>{var S,{dataDefinedOnItem:y,settings:w}=g,C=WW(y,u),k=Array.isArray(C)?FT(C,m,h):C,A=(S=w?.dataKey)!==null&&S!==void 0?S:n,M=w?.nameKey,D;if(n&&Array.isArray(k)&&!Array.isArray(k[0])&&c==="axis"?D=V$(k,n,i):D=l(k,t,f,M),Array.isArray(D))D.forEach(P=>{var O=pD(pD({},w),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});v.push(hk({tooltipEntrySettings:O,dataKey:P.dataKey,payload:P.payload,value:fr(P.payload,P.dataKey),name:P.name}))});else{var T;v.push(hk({tooltipEntrySettings:w,dataKey:A,payload:D,value:fr(D,A),name:(T=fr(D,M))!==null&&T!==void 0?T:w?.name}))}return v},x)}},Jw=ce([Pr,m3,Sw],C3),KW=ce([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),QW=ce([Br,Tc],Ow),Lc=ce([KW,Pr,QW],Tw,{memoizeOptions:{resultEqualityCheck:px}}),XW=ce([Lc],e=>e.filter(Ew)),ZW=ce([Lc],Pw,{memoizeOptions:{resultEqualityCheck:px}}),Fc=ce([ZW,Zs],Iw),JW=ce([XW,Zs,Pr],d3),ej=ce([Fc,Pr,Lc],Lw),Y3=ce([Pr],Fw),eK=ce([Pr],e=>e.allowDataOverflow),V3=ce([Y3,eK],YP),tK=ce([Lc],e=>e.filter(Ew)),rK=ce([JW,tK,Hd,r3],v3),nK=ce([rK,Zs,Br,V3],g3),aK=ce([Lc],h3),iK=ce([Fc,Pr,aK,xx,Br],$w,{memoizeOptions:{resultEqualityCheck:mx}}),sK=ce([b3,Br,Tc],Ic),lK=ce([sK,Br],j3),oK=ce([y3,Br,Tc],Ic),cK=ce([oK,Br],N3),uK=ce([w3,Br,Tc],Ic),dK=ce([uK,Br],S3),fK=ce([lK,dK,cK],dh),mK=ce([Pr,Y3,V3,nK,iK,fK,tr,Br],qw),Wd=ce([Pr,tr,Fc,ej,Hd,Br,mK],Hw),pK=ce([Wd,Pr,Jw],Vw),hK=ce([Pr,Wd,pK,Br],Ww),G3=e=>{var t=Br(e),r=Tc(e),n=!1;return Gd(e,t,r,n)},W3=ce([Pr,G3],dx),K3=ce([Pr,Jw,hK,W3],Yw),xK=ce([tr,ej,Pr,Br],E3),vK=ce([tr,ej,Pr,Br],_3),gK=(e,t,r,n,i,l,c,u)=>{if(t){var{type:f}=t,m=Ws(e,u);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,x=f==="category"&&n.bandwidth?n.bandwidth()/h:0;return x=u==="angleAxis"&&i!=null&&i?.length>=2?gn(i[0]-i[1])*2*x:x,m&&c?c.map((v,g)=>{var S=n.map(v);return zt(S)?{coordinate:S+x,value:v,index:g,offset:x}:null}).filter(Wa):n.domain().map((v,g)=>{var S=n.map(v);return zt(S)?{coordinate:S+x,value:l?l[v]:v,index:g,offset:x}:null}).filter(Wa)}}},ts=ce([tr,Pr,Jw,K3,G3,xK,vK,Br],gK),tj=ce([O3,T3,kW],(e,t,r)=>P3(r.shared,e,t)),Q3=e=>e.tooltip.settings.trigger,rj=e=>e.tooltip.settings.defaultIndex,Kd=ce([Rc,tj,Q3,rj],B3),Nd=ce([Kd,Fc,Vd,Wd],Zw),X3=ce([ts,Nd],I3),Z3=ce([Kd],e=>{if(e)return e.dataKey}),bK=ce([Kd],e=>{if(e)return e.graphicalItemId}),J3=ce([Rc,tj,Q3,rj],q3),yK=ce([Zi,Ji,tr,Fr,ts,rj,J3],$3),wK=ce([Kd,yK],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),jK=ce([Kd],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),NK=ce([J3,Nd,Zs,Vd,X3,H3,tj],U3);ce([NK],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function hD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hD(Object(r),!0).forEach(function(n){SK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SK(e,t,r){return(t=CK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CK(e){var t=AK(e,"string");return typeof t=="symbol"?t:t+""}function AK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kK=()=>lt(Pr),MK=()=>{var e=kK(),t=lt(ts),r=lt(K3);return pk(!e||!r?void 0:xD(xD({},e),{},{scale:r}),t)};function vD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vD(Object(r),!0).forEach(function(n){DK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DK(e,t,r){return(t=EK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EK(e){var t=_K(e,"string");return typeof t=="symbol"?t:t+""}function _K(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OK=(e,t,r,n)=>{var i=t.find(l=>l&&l.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},TK=(e,t,r,n)=>{var i=t.find(m=>m&&m.index===r);if(i){if(e==="centric"){var l=i.coordinate,{radius:c}=n;return qo(qo(qo({},n),Ar(n.cx,n.cy,c,l)),{},{angle:l,radius:c})}var u=i.coordinate,{angle:f}=n;return qo(qo(qo({},n),Ar(n.cx,n.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function PK(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var e4=(e,t,r,n,i)=>{var l,c=(l=t?.length)!==null&&l!==void 0?l:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<c;u++){var f,m,h,x,v,g=u>0?(f=r[u-1])===null||f===void 0?void 0:f.coordinate:(m=r[c-1])===null||m===void 0?void 0:m.coordinate,S=(h=r[u])===null||h===void 0?void 0:h.coordinate,y=u>=c-1?(x=r[0])===null||x===void 0?void 0:x.coordinate:(v=r[u+1])===null||v===void 0?void 0:v.coordinate,w=void 0;if(!(g==null||S==null||y==null))if(gn(S-g)!==gn(y-S)){var C=[];if(gn(y-S)===gn(i[1]-i[0])){w=y;var k=S+i[1]-i[0];C[0]=Math.min(k,(k+g)/2),C[1]=Math.max(k,(k+g)/2)}else{w=g;var A=y+i[1]-i[0];C[0]=Math.min(S,(A+S)/2),C[1]=Math.max(S,(A+S)/2)}var M=[Math.min(S,(w+S)/2),Math.max(S,(w+S)/2)];if(e>M[0]&&e<=M[1]||e>=C[0]&&e<=C[1]){var D;return(D=r[u])===null||D===void 0?void 0:D.index}}else{var T=Math.min(g,y),P=Math.max(g,y);if(e>(T+S)/2&&e<=(P+S)/2){var O;return(O=r[u])===null||O===void 0?void 0:O.index}}}else if(t)for(var z=0;z<c;z++){var L=t[z];if(L!=null){var $=t[z+1],E=t[z-1];if(z===0&&$!=null&&e<=(L.coordinate+$.coordinate)/2||z===c-1&&E!=null&&e>(L.coordinate+E.coordinate)/2||z>0&&z<c-1&&E!=null&&$!=null&&e>(L.coordinate+E.coordinate)/2&&e<=(L.coordinate+$.coordinate)/2)return L.index}}return-1},IK=()=>lt(Sw),nj=(e,t)=>t,t4=(e,t,r)=>r,aj=(e,t,r,n)=>n,RK=ce(ts,e=>Bh(e,t=>t.coordinate)),ij=ce([Rc,nj,t4,aj],B3),sj=ce([ij,Fc,Vd,Wd],Zw),LK=(e,t,r)=>{if(t!=null){var n=Rc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},r4=ce([Rc,nj,t4,aj],q3),fh=ce([Zi,Ji,tr,Fr,ts,aj,r4],$3),FK=ce([ij,fh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),n4=ce([ts,sj],I3),zK=ce([r4,sj,Zs,Vd,n4,H3,nj],U3),BK=ce([ij,sj],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),$K=(e,t,r,n,i,l,c)=>{if(!(!e||!r||!n||!i)&&PK(e,c)){var u=xH(e,t),f=e4(u,l,i,r,n),m=OK(t,i,f,e);return{activeIndex:String(f),activeCoordinate:m}}},qK=(e,t,r,n,i,l,c)=>{if(!(!e||!n||!i||!l||!r)){var u=SU(e,r);if(u){var f=vH(u,t),m=e4(f,c,l,n,i),h=TK(t,l,m,u);return{activeIndex:String(m),activeCoordinate:h}}}},HK=(e,t,r,n,i,l,c,u)=>{if(!(!e||!t||!n||!i||!l))return t==="horizontal"||t==="vertical"?$K(e,t,n,i,l,c,u):qK(e,t,r,n,i,l,c)},UK=ce(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),YK=ce(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(ba)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:jG}});function gD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(r),!0).forEach(function(n){VK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VK(e,t,r){return(t=GK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GK(e){var t=WK(e,"string");return typeof t=="symbol"?t:t+""}function WK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KK={},QK={zIndexMap:Object.values(ba).reduce((e,t)=>bD(bD({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),KK)},XK=new Set(Object.values(ba));function ZK(e){return XK.has(e)}var a4=wn({name:"zIndex",initialState:QK,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Zt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!ZK(r)&&delete e.zIndexMap[r])},prepare:Zt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:Zt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Zt()}}}),{registerZIndexPortal:JK,unregisterZIndexPortal:eQ,registerZIndexPortalElement:tQ,unregisterZIndexPortalElement:rQ}=a4.actions,nQ=a4.reducer;function Qd(e){var{zIndex:t,children:r}=e,n=QH(),i=n&&t!==void 0&&t!==0,l=Ks(),c=Or();j.useLayoutEffect(()=>i?(c(JK({zIndex:t})),()=>{c(eQ({zIndex:t}))}):Td,[c,t,i]);var u=lt(f=>UK(f,t,l));return i?u?kc.createPortal(r,u):null:r}function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(null,arguments)}function yD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yD(Object(r),!0).forEach(function(n){aQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aQ(e,t,r){return(t=iQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iQ(e){var t=sQ(e,"string");return typeof t=="symbol"?t:t+""}function sQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lQ(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return j.isValidElement(t)?j.cloneElement(t,n):j.createElement(r,n)}function oQ(e){var t,{coordinate:r,payload:n,index:i,offset:l,tooltipAxisBandSize:c,layout:u,cursor:f,tooltipEventType:m,chartName:h}=e,x=r,v=n,g=i;if(!f||!x||h!=="ScatterChart"&&m!=="axis")return null;var S,y,w;if(h==="ScatterChart")S=x,y=F7,w=ba.cursorLine;else if(h==="BarChart")S=z7(u,x,l,c),y=iP,w=ba.cursorRectangle;else if(u==="radial"&&QO(x)){var{cx:C,cy:k,radius:A,startAngle:M,endAngle:D}=lP(x);S={cx:C,cy:k,startAngle:M,endAngle:D,innerRadius:A,outerRadius:A},y=cP,w=ba.cursorLine}else S={points:MU(u,x,l)},y=W1,w=ba.cursorLine;var T=typeof f=="object"&&"className"in f?f.className:void 0,P=Pm(Pm(Pm(Pm({stroke:"#ccc",pointerEvents:"none"},l),S),ly(f)),{},{payload:v,payloadIndex:g,className:ut("recharts-tooltip-cursor",T)});return j.createElement(Qd,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:w},j.createElement(lQ,{cursor:f,cursorComp:y,cursorProps:P}))}function cQ(e){var t=MK(),r=GH(),n=tx(),i=IK();return t==null||r==null||n==null||i==null?null:j.createElement(oQ,Wy({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var i4=j.createContext(null),uQ=()=>j.useContext(i4),gb={exports:{}},wD;function dQ(){return wD||(wD=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function l(f,m,h,x,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new i(h,x||f,v),S=r?r+m:m;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],g]:f._events[S].push(g):(f._events[S]=g,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new n:delete f._events[m]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],h,x;if(this._eventsCount===0)return m;for(x in h=this._events)t.call(h,x)&&m.push(r?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},u.prototype.listeners=function(m){var h=r?r+m:m,x=this._events[h];if(!x)return[];if(x.fn)return[x.fn];for(var v=0,g=x.length,S=new Array(g);v<g;v++)S[v]=x[v].fn;return S},u.prototype.listenerCount=function(m){var h=r?r+m:m,x=this._events[h];return x?x.fn?1:x.length:0},u.prototype.emit=function(m,h,x,v,g,S){var y=r?r+m:m;if(!this._events[y])return!1;var w=this._events[y],C=arguments.length,k,A;if(w.fn){switch(w.once&&this.removeListener(m,w.fn,void 0,!0),C){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,x),!0;case 4:return w.fn.call(w.context,h,x,v),!0;case 5:return w.fn.call(w.context,h,x,v,g),!0;case 6:return w.fn.call(w.context,h,x,v,g,S),!0}for(A=1,k=new Array(C-1);A<C;A++)k[A-1]=arguments[A];w.fn.apply(w.context,k)}else{var M=w.length,D;for(A=0;A<M;A++)switch(w[A].once&&this.removeListener(m,w[A].fn,void 0,!0),C){case 1:w[A].fn.call(w[A].context);break;case 2:w[A].fn.call(w[A].context,h);break;case 3:w[A].fn.call(w[A].context,h,x);break;case 4:w[A].fn.call(w[A].context,h,x,v);break;default:if(!k)for(D=1,k=new Array(C-1);D<C;D++)k[D-1]=arguments[D];w[A].fn.apply(w[A].context,k)}}return!0},u.prototype.on=function(m,h,x){return l(this,m,h,x,!1)},u.prototype.once=function(m,h,x){return l(this,m,h,x,!0)},u.prototype.removeListener=function(m,h,x,v){var g=r?r+m:m;if(!this._events[g])return this;if(!h)return c(this,g),this;var S=this._events[g];if(S.fn)S.fn===h&&(!v||S.once)&&(!x||S.context===x)&&c(this,g);else{for(var y=0,w=[],C=S.length;y<C;y++)(S[y].fn!==h||v&&!S[y].once||x&&S[y].context!==x)&&w.push(S[y]);w.length?this._events[g]=w.length===1?w[0]:w:c(this,g)}return this},u.prototype.removeAllListeners=function(m){var h;return m?(h=r?r+m:m,this._events[h]&&c(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(gb)),gb.exports}var fQ=dQ();const mQ=si(fQ);var Sd=new mQ,Ky="recharts.syncEvent.tooltip",jD="recharts.syncEvent.brush",pQ=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!qi(r))return e[r]}},hQ={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},s4=wn({name:"options",initialState:hQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),xQ=s4.reducer,{createEventEmitter:vQ}=s4.actions;function gQ(e){return e.tooltip.syncInteraction}var bQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},l4=wn({name:"chartData",initialState:bQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:ND,setDataStartEndIndexes:yQ,setComputedData:Toe}=l4.actions,wQ=l4.reducer,jQ=["x","y"];function SD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SD(Object(r),!0).forEach(function(n){NQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NQ(e,t,r){return(t=SQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SQ(e){var t=CQ(e,"string");return typeof t=="symbol"?t:t+""}function CQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AQ(e,t){if(e==null)return{};var r,n,i=kQ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function MQ(){var e=lt(Cw),t=lt(Aw),r=Or(),n=lt(n3),i=lt(ts),l=tx(),c=ex(),u=lt(f=>f.rootProps.className);j.useEffect(()=>{if(e==null)return Td;var f=(m,h,x)=>{if(t!==x&&e===m){if(n==="index"){var v;if(c&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var g=h.payload.coordinate,{x:S,y}=g,w=AQ(g,jQ),{x:C,y:k,width:A,height:M}=h.payload.sourceViewBox,D=Ho(Ho({},w),{},{x:c.x+(A?(S-C)/A:0)*c.width,y:c.y+(M?(y-k)/M:0)*c.height});r(Ho(Ho({},h),{},{payload:Ho(Ho({},h.payload),{},{coordinate:D})}))}else r(h);return}if(i!=null){var T;if(typeof n=="function"){var P={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=n(i,P);T=i[O]}else n==="value"&&(T=i.find(R=>String(R.value)===h.payload.label));var{coordinate:z}=h.payload;if(T==null||h.payload.active===!1||z==null||c==null){r(Vy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:L,y:$}=z,E=Math.min(L,c.x+c.width),J=Math.min($,c.y+c.height),Z={x:l==="horizontal"?T.coordinate:E,y:l==="horizontal"?J:T.coordinate},te=Vy({active:h.payload.active,coordinate:Z,dataKey:h.payload.dataKey,index:String(T.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});r(te)}}};return Sd.on(Ky,f),()=>{Sd.off(Ky,f)}},[u,r,t,e,n,i,l,c])}function DQ(){var e=lt(Cw),t=lt(Aw),r=Or();j.useEffect(()=>{if(e==null)return Td;var n=(i,l,c)=>{t!==c&&e===i&&r(yQ(l))};return Sd.on(jD,n),()=>{Sd.off(jD,n)}},[r,t,e])}function EQ(){var e=Or();j.useEffect(()=>{e(vQ())},[e]),MQ(),DQ()}function _Q(e,t,r,n,i,l){var c=lt(g=>LK(g,e,t)),u=lt(Aw),f=lt(Cw),m=lt(n3),h=lt(gQ),x=h?.active,v=ex();j.useEffect(()=>{if(!x&&f!=null&&u!=null){var g=Vy({active:l,coordinate:r,dataKey:c,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:v,graphicalItemId:void 0});Sd.emit(Ky,f,g,u)}},[x,r,c,i,n,u,f,m,l,v])}function CD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(r),!0).forEach(function(n){OQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OQ(e,t,r){return(t=TQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TQ(e){var t=PQ(e,"string");return typeof t=="symbol"?t:t+""}function PQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IQ(e){return e.dataKey}function RQ(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(v7,t)}var kD=[],LQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function lj(e){var t,r,n=ci(e,LQ),{active:i,allowEscapeViewBox:l,animationDuration:c,animationEasing:u,content:f,filterNull:m,isAnimationActive:h,offset:x,payloadUniqBy:v,position:g,reverseDirection:S,useTranslate3d:y,wrapperStyle:w,cursor:C,shared:k,trigger:A,defaultIndex:M,portal:D,axisId:T}=n,P=Or(),O=typeof M=="number"?String(M):M;j.useEffect(()=>{P(OW({shared:k,trigger:A,axisId:T,active:i,defaultIndex:O}))},[P,k,A,T,i,O]);var z=ex(),L=eP(),$=AW(k),{activeIndex:E,isActive:J}=(t=lt(ie=>BK(ie,$,A,O)))!==null&&t!==void 0?t:{},Z=lt(ie=>zK(ie,$,A,O)),te=lt(ie=>n4(ie,$,A,O)),R=lt(ie=>FK(ie,$,A,O)),F=Z,fe=uQ(),Se=(r=i??J)!==null&&r!==void 0?r:!1,[H,B]=aq([F,Se]),Q=$==="axis"?te:void 0;_Q($,A,R,Q,E,Se);var ue=D??fe;if(ue==null||z==null||$==null)return null;var xe=F??kD;Se||(xe=kD),m&&xe.length&&(xe=E9(xe.filter(ie=>ie.value!=null&&(ie.hide!==!0||n.includeHidden)),v,IQ));var U=xe.length>0,de=j.createElement(S7,{allowEscapeViewBox:l,animationDuration:c,animationEasing:u,isAnimationActive:h,active:Se,coordinate:R,hasPayload:U,offset:x,position:g,reverseDirection:S,useTranslate3d:y,viewBox:z,wrapperStyle:w,lastBoundingBox:H,innerRef:B,hasPortalFromProps:!!D},RQ(f,AD(AD({},n),{},{payload:xe,label:Q,active:Se,activeIndex:E,coordinate:R,accessibilityLayer:L})));return j.createElement(j.Fragment,null,kc.createPortal(de,ue),Se&&j.createElement(cQ,{cursor:C,tooltipEventType:$,coordinate:R,payload:xe,index:E}))}var zc=e=>null;zc.displayName="Cell";function FQ(e,t,r){return(t=zQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zQ(e){var t=BQ(e,"string");return typeof t=="symbol"?t:t+""}function BQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $Q{constructor(t){FQ(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function MD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MD(Object(r),!0).forEach(function(n){HQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HQ(e,t,r){return(t=UQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UQ(e){var t=YQ(e,"string");return typeof t=="symbol"?t:t+""}function YQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VQ={cacheSize:2e3,enableCache:!0},o4=qQ({},VQ),DD=new $Q(o4.cacheSize),GQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ED="recharts_measurement_span";function WQ(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(l,"|").concat(c,"|").concat(u)}var _D=(e,t)=>{try{var r=document.getElementById(ED);r||(r=document.createElement("span"),r.setAttribute("id",ED),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,GQ,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},OD=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||K1.isSsr)return{width:0,height:0};if(!o4.enableCache)return _D(t,r);var n=WQ(t,r),i=DD.get(n);if(i)return i;var l=_D(t,r);return DD.set(n,l),l},c4;function KQ(e,t,r){return(t=QQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QQ(e){var t=XQ(e,"string");return typeof t=="symbol"?t:t+""}function XQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,JQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tX=["cm","mm","pt","pc","in","Q","px"];function rX(e){return tX.includes(e)}var Jo="NaN";function nX(e,t){return e*eX[t]}class Vr{static parse(t){var r,[,n,i]=(r=JQ.exec(t))!==null&&r!==void 0?r:[];return n==null?Vr.NaN:new Vr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,qi(t)&&(this.unit=""),r!==""&&!ZQ.test(r)&&(this.num=NaN,this.unit=""),rX(r)&&(this.num=nX(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Vr(NaN,""):new Vr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Vr(NaN,""):new Vr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Vr(NaN,""):new Vr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Vr(NaN,""):new Vr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return qi(this.num)}}c4=Vr;KQ(Vr,"NaN",new c4(NaN,""));function u4(e){if(e==null||e.includes(Jo))return Jo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,l]=(r=TD.exec(t))!==null&&r!==void 0?r:[],c=Vr.parse(n??""),u=Vr.parse(l??""),f=i==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Jo;t=t.replace(TD,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,x,v]=(m=PD.exec(t))!==null&&m!==void 0?m:[],g=Vr.parse(h??""),S=Vr.parse(v??""),y=x==="+"?g.add(S):g.subtract(S);if(y.isNaN())return Jo;t=t.replace(PD,y.toString())}return t}var ID=/\(([^()]*)\)/;function aX(e){for(var t=e,r;(r=ID.exec(t))!=null;){var[,n]=r;t=t.replace(ID,u4(n))}return t}function iX(e){var t=e.replace(/\s+/g,"");return t=aX(t),t=u4(t),t}function sX(e){try{return iX(e)}catch{return Jo}}function bb(e){var t=sX(e.slice(5,-1));return t===Jo?"":t}var lX=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],oX=["dx","dy","angle","className","breakAll"];function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(null,arguments)}function RD(e,t){if(e==null)return{};var r,n,i=cX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var d4=/[ \f\n\r\t\v\u2028\u2029]+/,f4=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];zn(t)||(r?i=t.toString().split(""):i=t.toString().split(d4));var l=i.map(u=>({word:u,width:OD(u,n).width})),c=r?0:OD("",n).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}};function uX(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var m4=(e,t,r,n)=>e.reduce((i,l)=>{var{word:c,width:u}=l,f=i[i.length-1];if(f&&u!=null&&(t==null||n||f.width+u+r<Number(t)))f.words.push(c),f.width+=u+r;else{var m={words:[c],width:u};i.push(m)}return i},[]),p4=e=>e.reduce((t,r)=>t.width>r.width?t:r),dX="",LD=(e,t,r,n,i,l,c,u)=>{var f=e.slice(0,t),m=f4({breakAll:r,style:n,children:f+dX});if(!m)return[!1,[]];var h=m4(m.wordsWithComputedWidth,l,c,u),x=h.length>i||p4(h).width>Number(l);return[x,h]},fX=(e,t,r,n,i)=>{var{maxLines:l,children:c,style:u,breakAll:f}=e,m=tt(l),h=String(c),x=m4(t,n,r,i);if(!m||i)return x;var v=x.length>l||p4(x).width>Number(n);if(!v)return x;for(var g=0,S=h.length-1,y=0,w;g<=S&&y<=h.length-1;){var C=Math.floor((g+S)/2),k=C-1,[A,M]=LD(h,k,f,u,l,n,r,i),[D]=LD(h,C,f,u,l,n,r,i);if(!A&&!D&&(g=C+1),A&&D&&(S=C-1),!A&&D){w=M;break}y++}return w||x},FD=e=>{var t=zn(e)?[]:e.toString().split(d4);return[{words:t,width:void 0}]},mX=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:l,maxLines:c}=e;if((t||r)&&!K1.isSsr){var u,f,m=f4({breakAll:l,children:n,style:i});if(m){var{wordsWithComputedWidth:h,spaceWidth:x}=m;u=h,f=x}else return FD(n);return fX({breakAll:l,children:n,maxLines:c,style:i},u,f,t,!!r)}return FD(n)},h4="#808080",pX={angle:0,breakAll:!1,capHeight:"0.71em",fill:h4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},oj=j.forwardRef((e,t)=>{var r=ci(e,pX),{x:n,y:i,lineHeight:l,capHeight:c,fill:u,scaleToFit:f,textAnchor:m,verticalAnchor:h}=r,x=RD(r,lX),v=j.useMemo(()=>mX({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width}),[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),{dx:g,dy:S,angle:y,className:w,breakAll:C}=x,k=RD(x,oX);if(!Hi(n)||!Hi(i)||v.length===0)return null;var A=Number(n)+(tt(g)?g:0),M=Number(i)+(tt(S)?S:0);if(!zt(A)||!zt(M))return null;var D;switch(h){case"start":D=bb("calc(".concat(c,")"));break;case"middle":D=bb("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:D=bb("calc(".concat(v.length-1," * -").concat(l,")"));break}var T=[],P=v[0];if(f&&P!=null){var O=P.width,{width:z}=x;T.push("scale(".concat(tt(z)&&tt(O)?z/O:1,")"))}return y&&T.push("rotate(".concat(y,", ").concat(A,", ").concat(M,")")),T.length&&(k.transform=T.join(" ")),j.createElement("text",Qy({},na(k),{ref:t,x:A,y:M,className:ut("recharts-text",w),textAnchor:m,fill:u.includes("url")?h4:u}),v.map((L,$)=>{var E=L.words.join(C?"":" ");return j.createElement("tspan",{x:A,dy:$===0?D:l,key:"".concat(E,"-").concat($)},E)}))});oj.displayName="Text";function zD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zD(Object(r),!0).forEach(function(n){hX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hX(e,t,r){return(t=xX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xX(e){var t=vX(e,"string");return typeof t=="symbol"?t:t+""}function vX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gX=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:i}=e,{x:l,y:c,height:u,upperWidth:f,lowerWidth:m}=Y1(t),h=l,x=l+(f-m)/2,v=(h+x)/2,g=(f+m)/2,S=h+f/2,y=u>=0?1:-1,w=y*n,C=y>0?"end":"start",k=y>0?"start":"end",A=f>=0?1:-1,M=A*n,D=A>0?"end":"start",T=A>0?"start":"end",P=i;if(r==="top"){var O={x:h+f/2,y:c-w,horizontalAnchor:"middle",verticalAnchor:C};return P&&(O.height=Math.max(c-P.y,0),O.width=f),O}if(r==="bottom"){var z={x:x+m/2,y:c+u+w,horizontalAnchor:"middle",verticalAnchor:k};return P&&(z.height=Math.max(P.y+P.height-(c+u),0),z.width=m),z}if(r==="left"){var L={x:v-M,y:c+u/2,horizontalAnchor:D,verticalAnchor:"middle"};return P&&(L.width=Math.max(L.x-P.x,0),L.height=u),L}if(r==="right"){var $={x:v+g+M,y:c+u/2,horizontalAnchor:T,verticalAnchor:"middle"};return P&&($.width=Math.max(P.x+P.width-$.x,0),$.height=u),$}var E=P?{width:g,height:u}:{};return r==="insideLeft"?qa({x:v+M,y:c+u/2,horizontalAnchor:T,verticalAnchor:"middle"},E):r==="insideRight"?qa({x:v+g-M,y:c+u/2,horizontalAnchor:D,verticalAnchor:"middle"},E):r==="insideTop"?qa({x:h+f/2,y:c+w,horizontalAnchor:"middle",verticalAnchor:k},E):r==="insideBottom"?qa({x:x+m/2,y:c+u-w,horizontalAnchor:"middle",verticalAnchor:C},E):r==="insideTopLeft"?qa({x:h+M,y:c+w,horizontalAnchor:T,verticalAnchor:k},E):r==="insideTopRight"?qa({x:h+f-M,y:c+w,horizontalAnchor:D,verticalAnchor:k},E):r==="insideBottomLeft"?qa({x:x+M,y:c+u-w,horizontalAnchor:T,verticalAnchor:C},E):r==="insideBottomRight"?qa({x:x+m-M,y:c+u-w,horizontalAnchor:D,verticalAnchor:C},E):r&&typeof r=="object"&&(tt(r.x)||Gl(r.x))&&(tt(r.y)||Gl(r.y))?qa({x:l+Rn(r.x,g),y:c+Rn(r.y,u),horizontalAnchor:"end",verticalAnchor:"end"},E):qa({x:S,y:c+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},E)},bX=["labelRef"],yX=["content"];function BD(e,t){if(e==null)return{};var r,n,i=wX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Im(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$D(Object(r),!0).forEach(function(n){jX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$D(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jX(e,t,r){return(t=NX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NX(e){var t=SX(e,"string");return typeof t=="symbol"?t:t+""}function SX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mh.apply(null,arguments)}var CX=j.createContext(null),AX=()=>{var e=j.useContext(CX),t=ex();return e||(t?Y1(t):void 0)},kX=j.createContext(null),MX=()=>{var e=j.useContext(kX),t=lt(c3);return e||t},DX=e=>{var{value:t,formatter:r}=e,n=zn(e.children)?t:e.children;return typeof r=="function"?r(n):n},EX=e=>e!=null&&typeof e=="function",_X=(e,t)=>{var r=gn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},OX=(e,t,r,n,i)=>{var{offset:l,className:c}=e,{cx:u,cy:f,innerRadius:m,outerRadius:h,startAngle:x,endAngle:v,clockWise:g}=i,S=(m+h)/2,y=_X(x,v),w=y>=0?1:-1,C,k;switch(t){case"insideStart":C=x+w*l,k=g;break;case"insideEnd":C=v-w*l,k=!g;break;case"end":C=v+w*l,k=g;break;default:throw new Error("Unsupported position ".concat(t))}k=y<=0?k:!k;var A=Ar(u,f,S,C),M=Ar(u,f,S,C+(k?1:-1)*359),D="M".concat(A.x,",").concat(A.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(k?0:1,`,
    `).concat(M.x,",").concat(M.y),T=zn(e.id)?ud("recharts-radial-line-"):e.id;return j.createElement("text",mh({},n,{dominantBaseline:"central",className:ut("recharts-radial-bar-label",c)}),j.createElement("defs",null,j.createElement("path",{id:T,d:D})),j.createElement("textPath",{xlinkHref:"#".concat(T)},r))},TX=(e,t,r)=>{var{cx:n,cy:i,innerRadius:l,outerRadius:c,startAngle:u,endAngle:f}=e,m=(u+f)/2;if(r==="outside"){var{x:h,y:x}=Ar(n,i,c+t,m);return{x:h,y:x,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,{x:g,y:S}=Ar(n,i,v,m);return{x:g,y:S,textAnchor:"middle",verticalAnchor:"middle"}},pp=e=>e!=null&&"cx"in e&&tt(e.cx),PX={angle:0,offset:5,zIndex:ba.label,position:"middle",textBreakAll:!1};function IX(e){if(!pp(e))return e;var{cx:t,cy:r,outerRadius:n}=e,i=n*2;return{x:t-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function x4(e){var t=ci(e,PX),{viewBox:r,parentViewBox:n,position:i,value:l,children:c,content:u,className:f="",textBreakAll:m,labelRef:h}=t,x=MX(),v=AX(),g=i==="center"?v:x??v,S,y,w;r==null?S=g:pp(r)?S=r:S=Y1(r);var C=IX(S);if(!S||zn(l)&&zn(c)&&!j.isValidElement(u)&&typeof u!="function")return null;var k=Im(Im({},t),{},{viewBox:S});if(j.isValidElement(u)){var{labelRef:A}=k,M=BD(k,bX);return j.cloneElement(u,M)}if(typeof u=="function"){var{content:D}=k,T=BD(k,yX);if(y=j.createElement(u,T),j.isValidElement(y))return y}else y=DX(t);var P=na(t);if(pp(S)){if(i==="insideStart"||i==="insideEnd"||i==="end")return OX(t,i,y,P,S);w=TX(S,t.offset,t.position)}else{if(!C)return null;var O=gX({viewBox:C,position:i,offset:t.offset,parentViewBox:pp(n)?void 0:n});w=Im(Im({x:O.x,y:O.y,textAnchor:O.horizontalAnchor,verticalAnchor:O.verticalAnchor},O.width!==void 0?{width:O.width}:{}),O.height!==void 0?{height:O.height}:{})}return j.createElement(Qd,{zIndex:t.zIndex},j.createElement(oj,mh({ref:h,className:ut("recharts-label",f)},P,w,{textAnchor:uX(P.textAnchor)?P.textAnchor:w.textAnchor,breakAll:m}),y))}x4.displayName="Label";var yb={},wb={},qD;function RX(){return qD||(qD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(wb)),wb}var jb={},HD;function LX(){return HD||(HD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(jb)),jb}var UD;function FX(){return UD||(UD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RX(),r=LX(),n=P1();function i(l){if(n.isArrayLike(l))return t.last(r.toArray(l))}e.last=i})(yb)),yb}var Nb,YD;function zX(){return YD||(YD=1,Nb=FX().last),Nb}var BX=zX();const $X=si(BX);var qX=["valueAccessor"],HX=["dataKey","clockWise","id","textBreakAll","zIndex"];function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ph.apply(null,arguments)}function VD(e,t){if(e==null)return{};var r,n,i=UX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YX=e=>Array.isArray(e.value)?$X(e.value):e.value,v4=j.createContext(void 0);v4.Provider;var g4=j.createContext(void 0),VX=g4.Provider;function GX(){return j.useContext(v4)}function WX(){return j.useContext(g4)}function hp(e){var{valueAccessor:t=YX}=e,r=VD(e,qX),{dataKey:n,clockWise:i,id:l,textBreakAll:c,zIndex:u}=r,f=VD(r,HX),m=GX(),h=WX(),x=m||h;return!x||!x.length?null:j.createElement(Qd,{zIndex:u??ba.label},j.createElement(qs,{className:"recharts-label-list"},x.map((v,g)=>{var S,y=zn(n)?t(v,g):fr(v.payload,n),w=zn(l)?{}:{id:"".concat(l,"-").concat(g)};return j.createElement(x4,ph({key:"label-".concat(g)},na(v),f,w,{fill:(S=r.fill)!==null&&S!==void 0?S:v.fill,parentViewBox:v.parentViewBox,value:y,textBreakAll:c,viewBox:v.viewBox,index:g,zIndex:0}))})))}hp.displayName="LabelList";function KX(e){var{label:t}=e;return t?t===!0?j.createElement(hp,{key:"labelList-implicit"}):j.isValidElement(t)||EX(t)?j.createElement(hp,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(hp,ph({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var b4=e=>e.graphicalItems.polarItems,QX=ce([ar,Ud],Ow),yx=ce([b4,pr,QX],Tw),XX=ce([yx],Pw),wx=ce([XX,ww],Iw),ZX=ce([wx,pr,yx],Lw);ce([wx,pr,yx],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var l,c=fr(n,(l=t.dataKey)!==null&&l!==void 0?l:i.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:fr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var GD=()=>{},JX=ce([wx,pr,yx,xx,ar],$w),eZ=ce([pr,zw,Bw,GD,JX,GD,tr,ar],qw),y4=ce([pr,tr,wx,ZX,Hd,ar,eZ],Hw),tZ=ce([y4,Pc,tl],Vw),rZ=ce([pr,y4,tZ,ar],Ww);ce([tl,rZ],f3);var nZ={radiusAxis:{},angleAxis:{}},w4=wn({name:"polarAxis",initialState:nZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Poe,removeRadiusAxis:Ioe,addAngleAxis:Roe,removeAngleAxis:Loe}=w4.actions,aZ=w4.reducer;function iZ(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function WD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(r),!0).forEach(function(n){sZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sZ(e,t,r){return(t=lZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lZ(e){var t=oZ(e,"string");return typeof t=="symbol"?t:t+""}function oZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cZ=(e,t)=>t,cj=ce([b4,cZ],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),uZ=[],uj=(e,t,r)=>r?.length===0?uZ:r,j4=ce([ww,cj,uj],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(l=>KD(KD({},t.presentationProps),l.props))),i!=null)return i}}),dZ=ce([j4,cj,uj],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var l,c=fr(n,t.nameKey,t.name),u;return r!=null&&(l=r[i])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?u=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?u=n.fill:u=t.fill,{value:zT(c,t.dataKey),color:u,payload:n,type:t.legendType}})}),fZ=ce([j4,cj,uj,Fr],(e,t,r,n)=>{if(!(t==null||e==null))return hJ({offset:n,pieSettings:t,displayedData:e,cells:r})}),Sb={exports:{}},Ft={};var QD;function mZ(){if(QD)return Ft;QD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function S(y){if(typeof y=="object"&&y!==null){var w=y.$$typeof;switch(w){case e:switch(y=y.type,y){case r:case i:case n:case f:case m:case v:return y;default:switch(y=y&&y.$$typeof,y){case c:case u:case x:case h:return y;case l:return y;default:return w}}case t:return w}}}return Ft.ContextConsumer=l,Ft.ContextProvider=c,Ft.Element=e,Ft.ForwardRef=u,Ft.Fragment=r,Ft.Lazy=x,Ft.Memo=h,Ft.Portal=t,Ft.Profiler=i,Ft.StrictMode=n,Ft.Suspense=f,Ft.SuspenseList=m,Ft.isContextConsumer=function(y){return S(y)===l},Ft.isContextProvider=function(y){return S(y)===c},Ft.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},Ft.isForwardRef=function(y){return S(y)===u},Ft.isFragment=function(y){return S(y)===r},Ft.isLazy=function(y){return S(y)===x},Ft.isMemo=function(y){return S(y)===h},Ft.isPortal=function(y){return S(y)===t},Ft.isProfiler=function(y){return S(y)===i},Ft.isStrictMode=function(y){return S(y)===n},Ft.isSuspense=function(y){return S(y)===f},Ft.isSuspenseList=function(y){return S(y)===m},Ft.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===i||y===n||y===f||y===m||typeof y=="object"&&y!==null&&(y.$$typeof===x||y.$$typeof===h||y.$$typeof===c||y.$$typeof===l||y.$$typeof===u||y.$$typeof===g||y.getModuleId!==void 0)},Ft.typeOf=S,Ft}var XD;function pZ(){return XD||(XD=1,Sb.exports=mZ()),Sb.exports}var hZ=pZ(),ZD=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",JD=null,Cb=null,N4=e=>{if(e===JD&&Array.isArray(Cb))return Cb;var t=[];return j.Children.forEach(e,r=>{zn(r)||(hZ.isFragment(r)?t=t.concat(N4(r.props.children)):t.push(r))}),Cb=t,JD=e,t};function S4(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>ZD(i)):n=[ZD(t)],N4(e).forEach(i=>{var l=cd(i,"type.displayName")||cd(i,"type.name");l&&n.indexOf(l)!==-1&&r.push(i)}),r}var Ab={},e5;function xZ(){return e5||(e5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Ab)),Ab}var kb,t5;function vZ(){return t5||(t5=1,kb=xZ().isPlainObject),kb}var gZ=vZ();const bZ=si(gZ);var r5,n5,a5,i5,s5;function l5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function o5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l5(Object(r),!0).forEach(function(n){yZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yZ(e,t,r){return(t=wZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wZ(e){var t=jZ(e,"string");return typeof t=="symbol"?t:t+""}function jZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hh.apply(null,arguments)}function Yu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var c5=(e,t,r,n,i)=>{var l=r-n,c;return c=cr(r5||(r5=Yu(["M ",",",""])),e,t),c+=cr(n5||(n5=Yu(["L ",",",""])),e+r,t),c+=cr(a5||(a5=Yu(["L ",",",""])),e+r-l/2,t+i),c+=cr(i5||(i5=Yu(["L ",",",""])),e+r-l/2-n,t+i),c+=cr(s5||(s5=Yu(["L ",","," Z"])),e,t),c},NZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SZ=e=>{var t=ci(e,NZ),{x:r,y:n,upperWidth:i,lowerWidth:l,height:c,className:u}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isUpdateAnimationActive:x}=t,v=j.useRef(null),[g,S]=j.useState(-1),y=j.useRef(i),w=j.useRef(l),C=j.useRef(c),k=j.useRef(r),A=j.useRef(n),M=X1(e,"trapezoid-");if(j.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var Z=v.current.getTotalLength();Z&&S(Z)}catch{}},[]),r!==+r||n!==+n||i!==+i||l!==+l||c!==+c||i===0&&l===0||c===0)return null;var D=ut("recharts-trapezoid",u);if(!x)return j.createElement("g",null,j.createElement("path",hh({},na(t),{className:D,d:c5(r,n,i,l,c)})));var T=y.current,P=w.current,O=C.current,z=k.current,L=A.current,$="0px ".concat(g===-1?1:g,"px"),E="".concat(g,"px 0px"),J=tP(["strokeDasharray"],m,f);return j.createElement(Q1,{animationId:M,key:M,canBegin:g>0,duration:m,easing:f,isActive:x,begin:h},Z=>{var te=pa(T,i,Z),R=pa(P,l,Z),F=pa(O,c,Z),fe=pa(z,r,Z),Se=pa(L,n,Z);v.current&&(y.current=te,w.current=R,C.current=F,k.current=fe,A.current=Se);var H=Z>0?{transition:J,strokeDasharray:E}:{strokeDasharray:$};return j.createElement("path",hh({},na(t),{className:D,d:c5(fe,Se,te,R,F),ref:v,style:o5(o5({},H),t.style)}))})},CZ=["option","shapeType","activeClassName"];function AZ(e,t){if(e==null)return{};var r,n,i=kZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function u5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u5(Object(r),!0).forEach(function(n){MZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MZ(e,t,r){return(t=DZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DZ(e){var t=EZ(e,"string");return typeof t=="symbol"?t:t+""}function EZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Z(e,t){return xh(xh({},t),e)}function OZ(e,t){return e==="symbols"}function d5(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return j.createElement(iP,r);case"trapezoid":return j.createElement(SZ,r);case"sector":return j.createElement(cP,r);case"symbols":if(OZ(t))return j.createElement(KO,r);break;case"curve":return j.createElement(W1,r);default:return null}}function TZ(e){return j.isValidElement(e)?e.props:e}function PZ(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=AZ(e,CZ),l;if(j.isValidElement(t))l=j.cloneElement(t,xh(xh({},i),TZ(t)));else if(typeof t=="function")l=t(i,i.index);else if(bZ(t)&&typeof t!="boolean"){var c=_Z(t,i);l=j.createElement(d5,{shapeType:r,elementProps:c})}else{var u=i;l=j.createElement(d5,{shapeType:r,elementProps:u})}return i.isActive?j.createElement(qs,{className:n},l):l}var IZ=(e,t,r)=>{var n=Or();return(i,l)=>c=>{e?.(i,l,c),n(L3({activeIndex:String(l),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},RZ=e=>{var t=Or();return(r,n)=>i=>{e?.(r,n,i),t(TW())}},LZ=(e,t,r)=>{var n=Or();return(i,l)=>c=>{e?.(i,l,c),n(PW({activeIndex:String(l),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function FZ(e){var{tooltipEntrySettings:t}=e,r=Or(),n=Ks(),i=j.useRef(null);return j.useLayoutEffect(()=>{n||(i.current===null?r(DW(t)):i.current!==t&&r(EW({prev:i.current,next:t})),i.current=t)},[t,r,n]),j.useLayoutEffect(()=>()=>{i.current&&(r(_W(i.current)),i.current=null)},[r]),null}function zZ(e){var{legendPayload:t}=e,r=Or(),n=lt(tr),i=j.useRef(null);return j.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(c7(t)):i.current!==t&&r(u7({prev:i.current,next:t})),i.current=t)},[r,n,t]),j.useLayoutEffect(()=>()=>{i.current&&(r(d7(i.current)),i.current=null)},[r]),null}var Mb,BZ=()=>{var[e]=j.useState(()=>ud("uid-"));return e},$Z=(Mb=f1.useId)!==null&&Mb!==void 0?Mb:BZ;function qZ(e,t){var r=$Z();return t||(e?"".concat(e,"-").concat(r):r)}var HZ=j.createContext(void 0),UZ=e=>{var{id:t,type:r,children:n}=e,i=qZ("recharts-".concat(r),t);return j.createElement(HZ.Provider,{value:i},n(i))},YZ={cartesianItems:[],polarItems:[]},C4=wn({name:"graphicalItems",initialState:YZ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Zt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=ya(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Zt()},removeCartesianGraphicalItem:{reducer(e,t){var r=ya(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Zt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Zt()},removePolarGraphicalItem:{reducer(e,t){var r=ya(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Zt()}}}),{addCartesianGraphicalItem:Foe,replaceCartesianGraphicalItem:zoe,removeCartesianGraphicalItem:Boe,addPolarGraphicalItem:VZ,removePolarGraphicalItem:GZ}=C4.actions,WZ=C4.reducer;function KZ(e){var t=Or();return j.useLayoutEffect(()=>(t(VZ(e)),()=>{t(GZ(e))}),[t,e]),null}var QZ=["key"],XZ=["onMouseEnter","onClick","onMouseLeave"],ZZ=["id"],JZ=["id"];function f5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f5(Object(r),!0).forEach(function(n){eJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eJ(e,t,r){return(t=tJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tJ(e){var t=rJ(e,"string");return typeof t=="symbol"?t:t+""}function rJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Us(){return Us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Us.apply(null,arguments)}function jx(e,t){if(e==null)return{};var r,n,i=nJ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aJ(e){var t=j.useMemo(()=>S4(e.children,zc),[e.children]),r=lt(n=>dZ(n,e.id,t));return r==null?null:j.createElement(zZ,{legendPayload:r})}var iJ=j.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:l,fill:c,name:u,hide:f,tooltipType:m,id:h}=e,x={dataDefinedOnItem:n.map(v=>v.tooltipPayload),getPosition:v=>{var g;return(g=n[Number(v)])===null||g===void 0?void 0:g.tooltipPosition},settings:{stroke:i,strokeWidth:l,fill:c,dataKey:t,nameKey:r,name:zT(u,t),hide:f,type:m,color:c,unit:"",graphicalItemId:h}};return j.createElement(FZ,{tooltipEntrySettings:x})}),sJ=(e,t)=>e>t?"start":e<t?"end":"middle",lJ=(e,t,r)=>Rn(typeof t=="function"?t(e):t,r,r*.8),oJ=(e,t,r)=>{var{top:n,left:i,width:l,height:c}=t,u=sP(l,c),f=i+Rn(e.cx,l,l/2),m=n+Rn(e.cy,c,c/2),h=Rn(e.innerRadius,u,0),x=lJ(r,e.outerRadius,u),v=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:f,cy:m,innerRadius:h,outerRadius:x,maxRadius:v}},cJ=(e,t)=>{var r=gn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},uJ=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var r=ut("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=jx(t,QZ);return j.createElement(W1,Us({},i,{type:"linear",className:r}))},dJ=(e,t,r)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),j.isValidElement(n)))return n;var i=ut("recharts-pie-label-text",iZ(e));return j.createElement(oj,Us({},t,{alignmentBaseline:"middle",className:i}),n)};function fJ(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:l,dataKey:c}=r;if(!n||!i||!t)return null;var u=cc(r),f=ly(i),m=ly(l),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,x=t.map((v,g)=>{var S=(v.startAngle+v.endAngle)/2,y=Ar(v.cx,v.cy,v.outerRadius+h,S),w=dr(dr(dr(dr({},u),v),{},{stroke:"none"},f),{},{index:g,textAnchor:sJ(y.x,v.cx)},y),C=dr(dr(dr(dr({},u),v),{},{fill:"none",stroke:v.fill},m),{},{index:g,points:[Ar(v.cx,v.cy,v.outerRadius,S),y],key:"line"});return j.createElement(Qd,{zIndex:ba.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(g)},j.createElement(qs,null,l&&uJ(l,C),dJ(i,w,fr(v,c))))});return j.createElement(qs,{className:"recharts-pie-labels"},x)}function mJ(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?j.createElement(KX,{label:i}):j.createElement(fJ,{sectors:t,props:r,showLabels:n})}function pJ(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:l,id:c}=e,u=lt(Nd),f=lt(Z3),m=lt(bK),{onMouseEnter:h,onClick:x,onMouseLeave:v}=i,g=jx(i,XZ),S=IZ(h,i.dataKey,c),y=RZ(v),w=LZ(x,i.dataKey,c);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((C,k)=>{if(C?.startAngle===0&&C?.endAngle===0&&t.length!==1)return null;var A=m==null||m===c,M=String(k)===u&&(f==null||i.dataKey===f)&&A,D=u?n:null,T=r&&M?r:D,P=dr(dr({},C),{},{stroke:C.stroke,tabIndex:-1,[$T]:k,[qT]:c});return j.createElement(qs,Us({key:"sector-".concat(C?.startAngle,"-").concat(C?.endAngle,"-").concat(C.midAngle,"-").concat(k),tabIndex:-1,className:"recharts-pie-sector"},i9(g,C,k),{onMouseEnter:S(C,k),onMouseLeave:y(C,k),onClick:w(C,k)}),j.createElement(PZ,Us({option:l??T,index:k,shapeType:"sector",isActive:M},P)))}))}function hJ(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:l}=e,{cornerRadius:c,startAngle:u,endAngle:f,dataKey:m,nameKey:h,tooltipType:x}=r,v=Math.abs(r.minAngle),g=cJ(u,f),S=Math.abs(g),y=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(T=>fr(T,m,0)!==0).length,C=(S>=360?w:w-1)*y,k=S-w*v-C,A=n.reduce((T,P)=>{var O=fr(P,m,0);return T+(tt(O)?O:0)},0),M;if(A>0){var D;M=n.map((T,P)=>{var O=fr(T,m,0),z=fr(T,h,P),L=oJ(r,l,T),$=(tt(O)?O:0)/A,E,J=dr(dr({},T),i&&i[P]&&i[P].props);P?E=D.endAngle+gn(g)*y*(O!==0?1:0):E=u;var Z=E+gn(g)*((O!==0?v:0)+$*k),te=(E+Z)/2,R=(L.innerRadius+L.outerRadius)/2,F=[{name:z,value:O,payload:J,dataKey:m,type:x,graphicalItemId:r.id}],fe=Ar(L.cx,L.cy,R,te);return D=dr(dr(dr(dr({},r.presentationProps),{},{percent:$,cornerRadius:typeof c=="string"?parseFloat(c):c,name:z,tooltipPayload:F,midAngle:te,middleRadius:R,tooltipPosition:fe},J),L),{},{value:O,dataKey:m,startAngle:E,endAngle:Z,payload:J,paddingAngle:gn(g)*y}),D})}return M}function xJ(e){var{showLabels:t,sectors:r,children:n}=e,i=j.useMemo(()=>!t||!r?[]:r.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[r,t]);return j.createElement(VX,{value:t?i:void 0},n)}function vJ(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,activeShape:m,inactiveShape:h,onAnimationStart:x,onAnimationEnd:v}=t,g=X1(t,"recharts-pie-"),S=r.current,[y,w]=j.useState(!1),C=j.useCallback(()=>{typeof v=="function"&&v(),w(!1)},[v]),k=j.useCallback(()=>{typeof x=="function"&&x(),w(!0)},[x]);return j.createElement(xJ,{showLabels:!y,sectors:i},j.createElement(Q1,{animationId:g,begin:c,duration:u,isActive:l,easing:f,onAnimationStart:k,onAnimationEnd:C,key:g},A=>{var M,D=[],T=i&&i[0],P=(M=T?.startAngle)!==null&&M!==void 0?M:0;return i?.forEach((O,z)=>{var L=S&&S[z],$=z>0?cd(O,"paddingAngle",0):0;if(L){var E=pa(L.endAngle-L.startAngle,O.endAngle-O.startAngle,A),J=dr(dr({},O),{},{startAngle:P+$,endAngle:P+E+$});D.push(J),P=J.endAngle}else{var{endAngle:Z,startAngle:te}=O,R=pa(0,Z-te,A),F=dr(dr({},O),{},{startAngle:P+$,endAngle:P+R+$});D.push(F),P=F.endAngle}}),r.current=D,j.createElement(qs,null,j.createElement(pJ,{sectors:D,activeShape:m,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:n}))}),j.createElement(mJ,{showLabels:!y,sectors:i,props:t}),t.children)}var gJ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ba.area};function bJ(e){var{id:t}=e,r=jx(e,ZZ),{hide:n,className:i,rootTabIndex:l}=e,c=j.useMemo(()=>S4(e.children,zc),[e.children]),u=lt(h=>fZ(h,t,c)),f=j.useRef(null),m=ut("recharts-pie",i);return n||u==null?(f.current=null,j.createElement(qs,{tabIndex:l,className:m})):j.createElement(Qd,{zIndex:e.zIndex},j.createElement(iJ,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),j.createElement(qs,{tabIndex:l,className:m},j.createElement(vJ,{props:dr(dr({},r),{},{sectors:u}),previousSectorsRef:f,id:t})))}function Nx(e){var t=ci(e,gJ),{id:r}=t,n=jx(t,JZ),i=cc(n);return j.createElement(UZ,{id:r,type:"pie"},l=>j.createElement(j.Fragment,null,j.createElement(KZ,{type:"pie",id:l,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),j.createElement(aJ,Us({},n,{id:l})),j.createElement(bJ,Us({},n,{id:l}))))}Nx.displayName="Pie";function m5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function p5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m5(Object(r),!0).forEach(function(n){yJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yJ(e,t,r){return(t=wJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wJ(e){var t=jJ(e,"string");return typeof t=="symbol"?t:t+""}function jJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NJ={xAxis:{},yAxis:{},zAxis:{}},A4=wn({name:"cartesianAxis",initialState:NJ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Zt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Zt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Zt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Zt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Zt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Zt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Zt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Zt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Zt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var l,c=i.widthHistory||[];if(c.length===3&&c[0]===c[2]&&n===c[1]&&n!==i.width&&Math.abs(n-((l=c[0])!==null&&l!==void 0?l:0))<=1)return;var u=[...c,n].slice(-3);e.yAxis[r]=p5(p5({},i),{},{width:n,widthHistory:u})}}}}),{addXAxis:$oe,replaceXAxis:qoe,removeXAxis:Hoe,addYAxis:Uoe,replaceYAxis:Yoe,removeYAxis:Voe,addZAxis:Goe,replaceZAxis:Woe,removeZAxis:Koe,updateYAxisWidth:Qoe}=A4.actions,SJ=A4.reducer,CJ=ce([Fr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),AJ=ce([CJ,Zi,Ji],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),kJ=()=>lt(AJ),MJ=e=>{var{chartData:t}=e,r=Or(),n=Ks();return j.useEffect(()=>n?()=>{}:(r(ND(t)),()=>{r(ND(void 0))}),[t,r,n]),null},h5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},k4=wn({name:"brush",initialState:h5,reducers:{setBrushSettings(e,t){return t.payload==null?h5:t.payload}}}),{setBrushSettings:Xoe}=k4.actions,DJ=k4.reducer,EJ={dots:[],areas:[],lines:[]},M4=wn({name:"referenceElements",initialState:EJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ya(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ya(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ya(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Zoe,removeDot:Joe,addArea:ece,removeArea:tce,addLine:rce,removeLine:nce}=M4.actions,_J=M4.reducer,OJ=j.createContext(void 0),TJ=e=>{var{children:t}=e,[r]=j.useState("".concat(ud("recharts"),"-clip")),n=kJ();if(n==null)return null;var{x:i,y:l,width:c,height:u}=n;return j.createElement(OJ.Provider,{value:r},j.createElement("defs",null,j.createElement("clipPath",{id:r},j.createElement("rect",{x:i,y:l,height:u,width:c}))),t)},PJ={},D4=wn({name:"errorBars",initialState:PJ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(l=>l.dataKey===n.dataKey&&l.direction===n.direction?i:l))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:ace,replaceErrorBar:ice,removeErrorBar:sce}=D4.actions,IJ=D4.reducer,Db={exports:{}},Eb={};var x5;function RJ(){if(x5)return Eb;x5=1;var e=Nc();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,l=e.useEffect,c=e.useMemo,u=e.useDebugValue;return Eb.useSyncExternalStoreWithSelector=function(f,m,h,x,v){var g=i(null);if(g.current===null){var S={hasValue:!1,value:null};g.current=S}else S=g.current;g=c(function(){function w(D){if(!C){if(C=!0,k=D,D=x(D),v!==void 0&&S.hasValue){var T=S.value;if(v(T,D))return A=T}return A=D}if(T=A,r(k,D))return T;var P=x(D);return v!==void 0&&v(T,P)?(k=D,T):(k=D,A=P)}var C=!1,k,A,M=h===void 0?null:h;return[function(){return w(m())},M===null?void 0:function(){return w(M())}]},[m,h,x,v]);var y=n(f,g[0],g[1]);return l(function(){S.hasValue=!0,S.value=y},[y]),u(y),y},Eb}var v5;function LJ(){return v5||(v5=1,Db.exports=RJ()),Db.exports}LJ();function FJ(e){e()}function zJ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){FJ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var g5={notify(){},get:()=>[]};function BJ(e,t){let r,n=g5,i=0,l=!1;function c(y){h();const w=n.subscribe(y);let C=!1;return()=>{C||(C=!0,w(),x())}}function u(){n.notify()}function f(){S.onStateChange&&S.onStateChange()}function m(){return l}function h(){i++,r||(r=e.subscribe(f),n=zJ())}function x(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=g5)}function v(){l||(l=!0,h())}function g(){l&&(l=!1,x())}const S={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:m,trySubscribe:v,tryUnsubscribe:g,getListeners:()=>n};return S}var $J=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qJ=$J(),HJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",UJ=HJ(),YJ=()=>qJ||UJ?j.useLayoutEffect:j.useEffect,VJ=YJ();function b5(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function GJ(e,t){if(b5(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!b5(e[r[i]],t[r[i]]))return!1;return!0}var WJ=Symbol.for("react-redux-context"),KJ=typeof globalThis<"u"?globalThis:{};function QJ(){if(!j.createContext)return{};const e=KJ[WJ]??=new Map;let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var XJ=QJ();function ZJ(e){const{children:t,context:r,serverState:n,store:i}=e,l=j.useMemo(()=>{const f=BJ(i);return{store:i,subscription:f,getServerState:n?()=>n:void 0}},[i,n]),c=j.useMemo(()=>i.getState(),[i]);VJ(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const u=r||XJ;return j.createElement(u.Provider,{value:l},t)}var JJ=ZJ,eee=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function tee(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function ree(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(eee.has(n)){if(e[n]==null&&t[n]==null)continue;if(!GJ(e[n],t[n]))return!1}else if(!tee(e[n],t[n]))return!1;return!0}var nee=(e,t)=>t,dj=ce([nee,tr,c3,Br,W3,ts,RK,Fr],HK),fj=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},E4=aa("mouseClick"),_4=Id();_4.startListening({actionCreator:E4,effect:(e,t)=>{var r=e.payload,n=dj(t.getState(),fj(r));n?.activeIndex!=null&&t.dispatch(IW({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Xy=aa("mouseMove"),O4=Id(),Rm=null;O4.startListening({actionCreator:Xy,effect:(e,t)=>{var r=e.payload;Rm!==null&&cancelAnimationFrame(Rm);var n=fj(r);Rm=requestAnimationFrame(()=>{var i=t.getState(),l=Xw(i,i.tooltip.settings.shared);if(l==="axis"){var c=dj(i,n);c?.activeIndex!=null?t.dispatch(z3({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(F3())}Rm=null})}});function aee(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var y5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},T4=wn({name:"rootProps",initialState:y5,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:y5.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),iee=T4.reducer,{updateOptions:see}=T4.actions,lee=null,oee={updatePolarOptions:(e,t)=>t.payload},P4=wn({name:"polarOptions",initialState:lee,reducers:oee}),{updatePolarOptions:cee}=P4.actions,uee=P4.reducer,I4=aa("keyDown"),R4=aa("focus"),mj=Id();mj.startListening({actionCreator:I4,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=Zw(i,Fc(r),Vd(r),Wd(r)),u=c==null?-1:Number(c);if(!(!Number.isFinite(u)||u<0)){var f=ts(r);if(l==="Enter"){var m=fh(r,"axis","hover",String(i.index));t.dispatch(Gy({active:!i.active,activeIndex:i.index,activeCoordinate:m}));return}var h=CW(r),x=h==="left-to-right"?1:-1,v=l==="ArrowRight"?1:-1,g=u+v*x;if(!(f==null||g>=f.length||g<0)){var S=fh(r,"axis","hover",String(g));t.dispatch(Gy({active:!0,activeIndex:g.toString(),activeCoordinate:S}))}}}}}});mj.startListening({actionCreator:R4,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var l="0",c=fh(r,"axis","hover",String(l));t.dispatch(Gy({active:!0,activeIndex:l,activeCoordinate:c}))}}}});var ea=aa("externalEvent"),L4=Id(),_b=new Map;L4.startListening({actionCreator:ea,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,l=_b.get(i);l!==void 0&&cancelAnimationFrame(l);var c=requestAnimationFrame(()=>{try{var u=t.getState(),f={activeCoordinate:wK(u),activeDataKey:Z3(u),activeIndex:Nd(u),activeLabel:X3(u),activeTooltipIndex:Nd(u),isTooltipActive:jK(u)};r(f,n)}finally{_b.delete(i)}});_b.set(i,c)}}});var dee=ce([Rc],e=>e.tooltipItemPayloads),fee=ce([dee,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(l=>l.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(t)}}}),F4=aa("touchMove"),z4=Id();z4.startListening({actionCreator:F4,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=Xw(n,n.tooltip.settings.shared);if(i==="axis"){var l=r.touches[0];if(l==null)return;var c=dj(n,fj({clientX:l.clientX,clientY:l.clientY,currentTarget:r.currentTarget}));c?.activeIndex!=null&&t.dispatch(z3({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(i==="item"){var u,f=r.touches[0];if(document.elementFromPoint==null||f==null)return;var m=document.elementFromPoint(f.clientX,f.clientY);if(!m||!m.getAttribute)return;var h=m.getAttribute($T),x=(u=m.getAttribute(qT))!==null&&u!==void 0?u:void 0,v=Lc(n).find(y=>y.id===x);if(h==null||v==null||x==null)return;var{dataKey:g}=v,S=fee(n,h,x);t.dispatch(L3({activeDataKey:g,activeIndex:h,activeCoordinate:S,activeGraphicalItemId:x}))}}}});var mee=uT({brush:DJ,cartesianAxis:SJ,chartData:wQ,errorBars:IJ,graphicalItems:WZ,layout:aH,legend:f7,options:xQ,polarAxis:aZ,polarOptions:uee,referenceElements:_J,rootProps:iee,tooltip:RW,zIndex:nQ}),pee=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Dq({reducer:mee,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([_4.middleware,O4.middleware,mj.middleware,L4.middleware,z4.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(CT({type:"raf"}))},devTools:{serialize:{replacer:aee},name:"recharts-".concat(r)}})};function hee(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Ks(),l=j.useRef(null);if(i)return r;l.current==null&&(l.current=pee(t,n));var c=R1;return j.createElement(JJ,{context:c,store:l.current},r)}function xee(e){var{layout:t,margin:r}=e,n=Or(),i=Ks();return j.useEffect(()=>{i||(n(tH(t)),n(eH(r)))},[n,i,t,r]),null}var vee=j.memo(xee,ree);function gee(e){var t=Or();return j.useEffect(()=>{t(see(e))},[t,e]),null}function w5(e){var{zIndex:t,isPanorama:r}=e,n=j.useRef(null),i=Or();return j.useLayoutEffect(()=>(n.current&&i(tQ({zIndex:t,element:n.current,isPanorama:r})),()=>{i(rQ({zIndex:t,isPanorama:r}))}),[i,t,r]),j.createElement("g",{tabIndex:-1,ref:n})}function j5(e){var{children:t,isPanorama:r}=e,n=lt(YK);if(!n||n.length===0)return t;var i=n.filter(c=>c<0),l=n.filter(c=>c>0);return j.createElement(j.Fragment,null,i.map(c=>j.createElement(w5,{key:c,zIndex:c,isPanorama:r})),t,l.map(c=>j.createElement(w5,{key:c,zIndex:c,isPanorama:r})))}var bee=["children"];function yee(e,t){if(e==null)return{};var r,n,i=wee(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vh.apply(null,arguments)}var jee={width:"100%",height:"100%",display:"block"},Nee=j.forwardRef((e,t)=>{var r=WH(),n=KH(),i=eP();if(!Hs(r)||!Hs(n))return null;var{children:l,otherAttributes:c,title:u,desc:f}=e,m,h;return c!=null&&(typeof c.tabIndex=="number"?m=c.tabIndex:m=i?0:void 0,typeof c.role=="string"?h=c.role:h=i?"application":void 0),j.createElement(DO,vh({},c,{title:u,desc:f,role:h,tabIndex:m,width:r,height:n,style:jee,ref:t}),l)}),See=e=>{var{children:t}=e,r=lt(Jh);if(!r)return null;var{width:n,height:i,y:l,x:c}=r;return j.createElement(DO,{width:n,height:i,x:c,y:l},t)},N5=j.forwardRef((e,t)=>{var{children:r}=e,n=yee(e,bee),i=Ks();return i?j.createElement(See,null,j.createElement(j5,{isPanorama:!0},r)):j.createElement(Nee,vh({ref:t},n),j.createElement(j5,{isPanorama:!1},r))});function Cee(){var e=Or(),[t,r]=j.useState(null),n=lt(gH);return j.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),l=i.width/t.offsetWidth;zt(l)&&l!==n&&e(nH(l))}},[t,e,n]),r}function S5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Aee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S5(Object(r),!0).forEach(function(n){kee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kee(e,t,r){return(t=Mee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mee(e){var t=Dee(e,"string");return typeof t=="symbol"?t:t+""}function Dee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fs.apply(null,arguments)}var Eee=()=>(EQ(),null);function gh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var _ee=j.forwardRef((e,t)=>{var r,n,i=j.useRef(null),[l,c]=j.useState({containerWidth:gh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:gh((n=e.style)===null||n===void 0?void 0:n.height)}),u=j.useCallback((m,h)=>{c(x=>{var v=Math.round(m),g=Math.round(h);return x.containerWidth===v&&x.containerHeight===g?x:{containerWidth:v,containerHeight:g}})},[]),f=j.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:h,height:x}=m.getBoundingClientRect();u(h,x);var v=S=>{var y=S[0];if(y!=null){var{width:w,height:C}=y.contentRect;u(w,C)}},g=new ResizeObserver(v);g.observe(m),i.current=g}},[t,u]);return j.useEffect(()=>()=>{var m=i.current;m?.disconnect()},[u]),j.createElement(j.Fragment,null,j.createElement(Ld,{width:l.containerWidth,height:l.containerHeight}),j.createElement("div",Fs({ref:f},e)))}),Oee=j.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,l]=j.useState({containerWidth:gh(r),containerHeight:gh(n)}),c=j.useCallback((f,m)=>{l(h=>{var x=Math.round(f),v=Math.round(m);return h.containerWidth===x&&h.containerHeight===v?h:{containerWidth:x,containerHeight:v}})},[]),u=j.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:m,height:h}=f.getBoundingClientRect();c(m,h)}},[t,c]);return j.createElement(j.Fragment,null,j.createElement(Ld,{width:i.containerWidth,height:i.containerHeight}),j.createElement("div",Fs({ref:u},e)))}),Tee=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return j.createElement(j.Fragment,null,j.createElement(Ld,{width:r,height:n}),j.createElement("div",Fs({ref:t},e)))}),Pee=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?j.createElement(Oee,Fs({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?j.createElement(Tee,Fs({},e,{width:r,height:n,ref:t})):j.createElement(j.Fragment,null,j.createElement(Ld,{width:r,height:n}),j.createElement("div",Fs({ref:t},e)))});function Iee(e){return e?_ee:Pee}var Ree=j.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:l,onContextMenu:c,onDoubleClick:u,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:x,onMouseUp:v,onTouchEnd:g,onTouchMove:S,onTouchStart:y,style:w,width:C,responsive:k,dispatchTouchEvents:A=!0}=e,M=j.useRef(null),D=Or(),[T,P]=j.useState(null),[O,z]=j.useState(null),L=Cee(),$=H1(),E=$?.width>0?$.width:C,J=$?.height>0?$.height:i,Z=j.useCallback(re=>{L(re),typeof t=="function"&&t(re),P(re),z(re),re!=null&&(M.current=re)},[L,t,P,z]),te=j.useCallback(re=>{D(E4(re)),D(ea({handler:l,reactEvent:re}))},[D,l]),R=j.useCallback(re=>{D(Xy(re)),D(ea({handler:m,reactEvent:re}))},[D,m]),F=j.useCallback(re=>{D(F3()),D(ea({handler:h,reactEvent:re}))},[D,h]),fe=j.useCallback(re=>{D(Xy(re)),D(ea({handler:x,reactEvent:re}))},[D,x]),Se=j.useCallback(()=>{D(R4())},[D]),H=j.useCallback(re=>{D(I4(re.key))},[D]),B=j.useCallback(re=>{D(ea({handler:c,reactEvent:re}))},[D,c]),Q=j.useCallback(re=>{D(ea({handler:u,reactEvent:re}))},[D,u]),ue=j.useCallback(re=>{D(ea({handler:f,reactEvent:re}))},[D,f]),xe=j.useCallback(re=>{D(ea({handler:v,reactEvent:re}))},[D,v]),U=j.useCallback(re=>{D(ea({handler:y,reactEvent:re}))},[D,y]),de=j.useCallback(re=>{A&&D(F4(re)),D(ea({handler:S,reactEvent:re}))},[D,A,S]),ie=j.useCallback(re=>{D(ea({handler:g,reactEvent:re}))},[D,g]),ye=Iee(k);return j.createElement(i4.Provider,{value:T},j.createElement(s$.Provider,{value:O},j.createElement(ye,{width:E??w?.width,height:J??w?.height,className:ut("recharts-wrapper",n),style:Aee({position:"relative",cursor:"default",width:E,height:J},w),onClick:te,onContextMenu:B,onDoubleClick:Q,onFocus:Se,onKeyDown:H,onMouseDown:ue,onMouseEnter:R,onMouseLeave:F,onMouseMove:fe,onMouseUp:xe,onTouchEnd:ie,onTouchMove:de,onTouchStart:U,ref:Z},j.createElement(Eee,null),r)))}),Lee=["width","height","responsive","children","className","style","compact","title","desc"];function Fee(e,t){if(e==null)return{};var r,n,i=zee(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bee=j.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:l,className:c,style:u,compact:f,title:m,desc:h}=e,x=Fee(e,Lee),v=cc(x);return f?j.createElement(j.Fragment,null,j.createElement(Ld,{width:r,height:n}),j.createElement(N5,{otherAttributes:v,title:m,desc:h},l)):j.createElement(Ree,{className:c,style:u,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(N5,{otherAttributes:v,title:m,desc:h,ref:t},j.createElement(TJ,null,l)))});function $ee(e){var t=Or();return j.useEffect(()=>{t(cee(e))},[t,e]),null}var qee=["layout"];function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zy.apply(null,arguments)}function Hee(e,t){if(e==null)return{};var r,n,i=Uee(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Uee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Yee={top:5,right:5,bottom:5,left:5},B4={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Yee,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Vee=j.forwardRef(function(t,r){var n,i=ci(t.categoricalChartProps,B4),{layout:l}=i,c=Hee(i,qee),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h}=t,x={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h,eventEmitter:void 0};return j.createElement(hee,{preloadedState:{options:x},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:u},j.createElement(MJ,{chartData:i.data}),j.createElement(vee,{layout:l,margin:i.margin}),j.createElement(gee,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),j.createElement($ee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),j.createElement(Bee,Zy({},c,{ref:r})))});function C5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function A5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C5(Object(r),!0).forEach(function(n){Gee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gee(e,t,r){return(t=Wee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wee(e){var t=Kee(e,"string");return typeof t=="symbol"?t:t+""}function Kee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qee=["item"],Xee=A5(A5({},B4),{},{layout:"centric",startAngle:0,endAngle:360}),pj=j.forwardRef((e,t)=>{var r=ci(e,Xee);return j.createElement(Vee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Qee,tooltipPayloadSearcher:pQ,categoricalChartProps:r,ref:t})});function Le(e){const t=e.match(/ ?-\s+(Direct|Regular|Growth)\b/i);if(t){const r=t.index+t[0].length-t[1].length;return{main:e.slice(0,t.index).trim(),plan:e.slice(r)}}return{main:e,plan:""}}function W(e){return e<0?`-${W(-e)}`:e>=1e7?`${(e/1e7).toFixed(2)} Cr`:e>=1e5?`${(e/1e5).toFixed(2)} L`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${e.toLocaleString("en-IN")}`}const $4="cf_market_data",Zee=300*1e3,k5=300*1e3;function Jee(){try{const e=sessionStorage.getItem($4);if(!e)return null;const t=JSON.parse(e);return Date.now()-t._ts>Zee?null:t}catch{return null}}function ete(e){try{sessionStorage.setItem($4,JSON.stringify({...e,_ts:Date.now()}))}catch{}}function tte(){const[e,t]=j.useState(()=>Jee()),[r,n]=j.useState([]),i=j.useRef(null),[l,c]=j.useState(!1),[u,f]=j.useState(!1);j.useEffect(()=>{let x=!1;async function v(){try{const S=await wF();if(!x&&S){const y={...S,_ts:Date.now()};t(y),ete(y)}}catch{}}v();const g=setInterval(v,k5);return()=>{x=!0,clearInterval(g)}},[]),j.useEffect(()=>{let x=!1;async function v(){try{const S=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=inr&include_24hr_change=true");if(!x&&S.ok){const y=await S.json(),w=[];y.bitcoin&&w.push({name:"BTC",price:y.bitcoin.inr,changePct:y.bitcoin.inr_24h_change||0,type:"crypto"}),y.ethereum&&w.push({name:"ETH",price:y.ethereum.inr,changePct:y.ethereum.inr_24h_change||0,type:"crypto"}),n(w)}}catch{}}v();const g=setInterval(v,k5);return()=>{x=!0,clearInterval(g)}},[]);const m=[];if(e?.indices&&m.push(...e.indices),e?.metals&&m.push(...e.metals),r.length>0&&m.push(...r),j.useEffect(()=>{if(!i.current)return;const x=i.current,v=x.parentElement;c(x.scrollWidth>v.clientWidth)},[m.length]),m.length===0)return null;const h=m.length*3;return a.jsxs("div",{className:"bg-[var(--bg-card)]/80 backdrop-blur-sm border-b border-[var(--border-light)] overflow-hidden",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onTouchStart:()=>f(!0),onTouchEnd:()=>f(!1),children:[a.jsx("div",{className:"overflow-hidden",children:a.jsxs("div",{ref:i,className:"flex items-stretch w-max",style:l?{animation:`ticker-scroll ${h}s linear infinite`,animationPlayState:u?"paused":"running"}:{margin:"0 auto"},children:[m.map((x,v)=>a.jsx(M5,{item:x},x.name+v)),l&&m.map((x,v)=>a.jsx(M5,{item:x},"dup-"+x.name+v))]})}),a.jsx("style",{children:`
        @keyframes ticker-scroll {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
      `})]})}function M5({item:e}){const t=e.changePct>=0,r=t?a.jsx(oc,{size:10}):a.jsx(Mp,{size:10}),n=t?"text-emerald-400":"text-[var(--accent-rose)]",i=l=>l>=1e5?`${(l/1e5).toFixed(2)}L`:l>=1e3?`${l.toLocaleString("en-IN",{maximumFractionDigits:0})}`:`${l.toLocaleString("en-IN",{maximumFractionDigits:2})}`;return a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 border-r border-[var(--border-light)] last:border-0 shrink-0",children:[a.jsx("span",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase whitespace-nowrap",children:e.name}),a.jsx("span",{className:"text-[11px] font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:e.unit?`${i(e.price)}`:i(e.price)}),e.changePct!==void 0&&e.changePct!==null&&a.jsxs("span",{className:`flex items-center gap-0.5 text-[10px] font-bold tabular-nums ${n}`,children:[r,t?"+":"",e.changePct.toFixed(2),"%"]})]})}function rte(){const{selectedMember:e}=Lr(),{mfPortfolios:t,mfHoldings:r,insurancePolicies:n,goalList:i,reminderList:l}=ht(),c=(v,g)=>{const S=v||[];return e==="all"?S:S.filter(y=>y[g]===e)},u=j.useMemo(()=>{let v=0,g=0,S=0;return c((t||[]).filter(C=>C.status!=="Inactive"),"ownerId").forEach(C=>{const k=(r||[]).filter(D=>D.portfolioId===C.portfolioId&&D.units>0),A=k.reduce((D,T)=>D+T.currentValue,0),M=(C.rebalanceThreshold||.05)*100;k.forEach(D=>{if(D.athNav>0&&D.belowATHPct>=10?g++:D.athNav>0&&D.belowATHPct>=5&&v++,D.targetAllocationPct>0&&A>0){const T=D.currentValue/A*100;Math.abs(T-D.targetAllocationPct)>M&&S++}})}),{buyOppCount:v+g,buyCount:v,strongBuyCount:g,rebalanceCount:S}},[e,t,r]),f=j.useMemo(()=>{const v=[],g=c((n||[]).filter(A=>A.status==="Active"),"memberId");g.some(A=>A.policyType==="Term Life")||v.push({type:"critical",title:"Missing Term Life Insurance",badge:"Add Policy",navigateTo:"/insurance"});const y=g.filter(A=>A.policyType==="Health").reduce((A,M)=>A+M.sumAssured,0);return y===0?v.push({type:"critical",title:"No Health Insurance",badge:"Add Policy",navigateTo:"/insurance"}):y<5e5&&v.push({type:"warning",title:"Inadequate Health Insurance",badge:W(y),navigateTo:"/insurance"}),c((i||[]).filter(A=>A.isActive!==!1&&A.goalType==="Emergency Fund"),"familyMemberId").forEach(A=>{const M=A.targetAmount>0?A.currentValue/A.targetAmount*100:0;M<100&&v.push({type:M>=75?"info":"warning",title:`Emergency Fund at ${M.toFixed(0)}%`,badge:W(A.targetAmount-A.currentValue)+" left",navigateTo:"/goals"})}),c((l||[]).filter(A=>A.isActive!==!1),"familyMemberId").filter(A=>new Date(A.dueDate)<new Date).forEach(A=>{const M=Math.ceil((new Date-new Date(A.dueDate))/864e5);v.push({type:"critical",title:A.title,badge:`${M}d overdue`,navigateTo:"/reminders"})}),c((i||[]).filter(A=>A.isActive!==!1&&A.status==="Needs Attention"),"familyMemberId").forEach(A=>{v.push({type:"warning",title:`${A.goalName} needs attention`,badge:A.priority,navigateTo:"/goals"})}),v},[e,n,i,l]),m=j.useMemo(()=>{const v=c((l||[]).filter(S=>S.isActive!==!1&&S.status!=="Completed"),"familyMemberId"),g=new Date;return v.map(S=>{const y=new Date(S.dueDate)-g,w=Math.ceil(y/(1440*60*1e3)),C=new Date(S.dueDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short"});return{...S,days:w,dateStr:C}}).filter(S=>S.days>=0&&S.days<=30).sort((S,y)=>S.days-y.days).slice(0,5)},[e,l]),h=f.length+u.buyOppCount+u.rebalanceCount+m.length,x=f.filter(v=>v.type==="critical").length;return{criticalAlerts:f,investmentSignals:u,upcomingReminders:m,totalCount:h,criticalCount:x}}function D5(e){return e>=20?"bg-rose-500/20 text-[var(--accent-rose)]":e>=10?"bg-orange-500/20 text-[var(--accent-orange)]":e>=5?"bg-amber-500/20 text-[var(--accent-amber)]":"bg-slate-500/20 text-[var(--text-muted)]"}function E5(e){return e>=10?{label:"Strong Buy",cls:"bg-emerald-500/20 text-emerald-400 ring-1 ring-emerald-500/30"}:e>=5?{label:"Buy",cls:"bg-blue-500/20 text-blue-400"}:null}function q4(){const{mfHoldings:e,mfPortfolios:t}=ht(),r=j.useMemo(()=>t.filter(i=>i.status!=="Inactive").map(i=>{const l=e.filter(f=>f.portfolioId===i.portfolioId&&f.units>0),c=l.reduce((f,m)=>f+m.currentValue,0),u=l.filter(f=>f.athNav>0&&f.belowATHPct>=1).sort((f,m)=>m.belowATHPct-f.belowATHPct).map(f=>({...f,currentPct:c>0?f.currentValue/c*100:0}));return{...i,totalValue:c,opportunities:u}}).filter(i=>i.opportunities.length>0),[t,e]);return r.reduce((i,l)=>i+l.opportunities.length,0)===0?a.jsxs("div",{className:"py-8 text-center",children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No buy opportunities right now"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"All funds are near their all-time highs"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] px-1",children:"Funds below their All-Time High NAV. Higher discount = better opportunity."}),r.map((i,l)=>a.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-emerald-500/50 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-[var(--bg-inset)]",children:[a.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-500/15 w-5 h-5 rounded flex items-center justify-center",children:l+1}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:i.portfolioName}),a.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:i.ownerName}),a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15 text-emerald-400",children:[i.opportunities.length," funds"]})]}),a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Signal"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Below ATH"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"ATH NAV"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Current"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Value"})]})}),a.jsx("tbody",{children:i.opportunities.map(c=>{const u=E5(c.belowATHPct);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[200px]",children:[a.jsx("p",{className:"truncate",children:Le(c.fundName).main}),Le(c.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(c.fundName).plan})]}),a.jsx("td",{className:"py-2 px-2 text-center",children:u?a.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded-full whitespace-nowrap ${u.cls}`,children:u.label}):a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Watch"})}),a.jsx("td",{className:"py-2 px-2 text-right",children:a.jsxs("span",{className:`inline-block text-xs font-semibold px-1.5 py-0.5 rounded-full ${D5(c.belowATHPct)}`,children:["",c.belowATHPct.toFixed(1),"%"]})}),a.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:["",c.athNav.toFixed(2)]}),a.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:["",c.currentNav.toFixed(2)]}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:W(c.currentValue)})]},c.holdingId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:i.opportunities.map(c=>{const u=E5(c.belowATHPct);return a.jsxs("div",{className:"px-3 py-2.5",children:[a.jsxs("div",{className:"flex items-start justify-between mb-1",children:[a.jsxs("div",{className:"flex-1 mr-2",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight",children:Le(c.fundName).main}),Le(c.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(c.fundName).plan})]}),a.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[u&&a.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded-full ${u.cls}`,children:u.label}),a.jsxs("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${D5(c.belowATHPct)}`,children:["",c.belowATHPct.toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)]",children:[a.jsxs("span",{children:["ATH ",c.athNav.toFixed(2),"  ",c.currentNav.toFixed(2)]}),a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:W(c.currentValue)})]})]},c.holdingId)})})]},i.portfolioId))]})}const H4=6048e5,nte=864e5,Sx=6e4,Cx=36e5,ate=1e3,_5=Symbol.for("constructDateFrom");function Ot(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&_5 in e?e[_5](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ye(e,t){return Ot(t||e,e)}function wa(e,t,r){const n=Ye(e,r?.in);return isNaN(t)?Ot(r?.in||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Aa(e,t,r){const n=Ye(e,r?.in);if(isNaN(t))return Ot(e,NaN);if(!t)return n;const i=n.getDate(),l=Ot(e,n.getTime());l.setMonth(n.getMonth()+t+1,0);const c=l.getDate();return i>=c?l:(n.setFullYear(l.getFullYear(),l.getMonth(),i),n)}function U4(e,t,r){return Ot(e,+Ye(e)+t)}function ite(e,t,r){return U4(e,t*Cx)}let ste={};function no(){return ste}function Qi(e,t){const r=no(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Ye(e,t?.in),l=i.getDay(),c=(l<n?7:0)+l-n;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function hc(e,t){return Qi(e,{...t,weekStartsOn:1})}function Y4(e,t){const r=Ye(e,t?.in),n=r.getFullYear(),i=Ot(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const l=hc(i),c=Ot(r,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const u=hc(c);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function bh(e){const t=Ye(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function rs(e,...t){const r=Ot.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function Zl(e,t){const r=Ye(e,t?.in);return r.setHours(0,0,0,0),r}function xc(e,t,r){const[n,i]=rs(r?.in,e,t),l=Zl(n),c=Zl(i),u=+l-bh(l),f=+c-bh(c);return Math.round((u-f)/nte)}function lte(e,t){const r=Y4(e,t),n=Ot(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),hc(n)}function Cd(e,t,r){const n=Ye(e,r?.in);return n.setTime(n.getTime()+t*Sx),n}function hj(e,t,r){return Aa(e,t*3,r)}function ote(e,t,r){return U4(e,t*1e3)}function yh(e,t,r){return wa(e,t*7,r)}function ja(e,t,r){return Aa(e,t*12,r)}function O5(e,t){let r,n=t?.in;return e.forEach(i=>{!n&&typeof i=="object"&&(n=Ot.bind(null,i));const l=Ye(i,n);(!r||r<l||isNaN(+l))&&(r=l)}),Ot(n,r||NaN)}function T5(e,t){let r,n=t?.in;return e.forEach(i=>{!n&&typeof i=="object"&&(n=Ot.bind(null,i));const l=Ye(i,n);(!r||r>l||isNaN(+l))&&(r=l)}),Ot(n,r||NaN)}function cte(e,t,r){const[n,i]=rs(r?.in,e,t);return+Zl(n)==+Zl(i)}function ti(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function vc(e){return!(!ti(e)&&typeof e!="number"||isNaN(+Ye(e)))}function wh(e,t,r){const[n,i]=rs(r?.in,e,t),l=n.getFullYear()-i.getFullYear(),c=n.getMonth()-i.getMonth();return l*12+c}function Rs(e,t){const r=Ye(e,t?.in);return Math.trunc(r.getMonth()/3)+1}function jh(e,t,r){const[n,i]=rs(r?.in,e,t),l=n.getFullYear()-i.getFullYear(),c=Rs(n)-Rs(i);return l*4+c}function Nh(e,t,r){const[n,i]=rs(r?.in,e,t);return n.getFullYear()-i.getFullYear()}function ute(e,t,r){const[n,i]=rs(r?.in,e,t),l=P5(n,i),c=Math.abs(xc(n,i));n.setDate(n.getDate()-l*c);const u=+(P5(n,i)===-l),f=l*(c-u);return f===0?0:f}function P5(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function V4(e,t){const r=Ye(e,t?.in);return r.setHours(23,59,59,999),r}function G4(e,t){const r=Ye(e,t?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function Jy(e,t){const r=Ye(e,t?.in),n=r.getMonth(),i=n-n%3;return r.setMonth(i,1),r.setHours(0,0,0,0),r}function W4(e,t){const r=Ye(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function K4(e,t){const r=Ye(e,t?.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function Ax(e,t){const r=Ye(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function dte(e,t){const r=no(),n=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Ye(e,t?.in),l=i.getDay(),c=(l<n?-7:0)+6-(l-n);return i.setDate(i.getDate()+c),i.setHours(23,59,59,999),i}const fte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mte=(e,t,r)=>{let n;const i=fte[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Ob(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const pte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vte={date:Ob({formats:pte,defaultWidth:"full"}),time:Ob({formats:hte,defaultWidth:"full"}),dateTime:Ob({formats:xte,defaultWidth:"full"})},gte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bte=(e,t,r,n)=>gte[e];function Vu(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=r?.width?String(r.width):c;i=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=r?.width?String(r.width):e.defaultWidth;i=e.values[u]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(t):t;return i[l]}}const yte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Nte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ste={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Cte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ate=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},kte={ordinalNumber:Ate,era:Vu({values:yte,defaultWidth:"wide"}),quarter:Vu({values:wte,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Vu({values:jte,defaultWidth:"wide"}),day:Vu({values:Nte,defaultWidth:"wide"}),dayPeriod:Vu({values:Ste,defaultWidth:"wide",formattingValues:Cte,defaultFormattingWidth:"wide"})};function Gu(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],l=t.match(i);if(!l)return null;const c=l[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(u)?Dte(u,x=>x.test(c)):Mte(u,x=>x.test(c));let m;m=e.valueCallback?e.valueCallback(f):f,m=r.valueCallback?r.valueCallback(m):m;const h=t.slice(c.length);return{value:m,rest:h}}}function Mte(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Dte(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Ete(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],l=t.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=r.valueCallback?r.valueCallback(c):c;const u=t.slice(i.length);return{value:c,rest:u}}}const _te=/^(\d+)(th|st|nd|rd)?/i,Ote=/\d+/i,Tte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Pte={any:[/^b/i,/^(a|c)/i]},Ite={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Rte={any:[/1/i,/2/i,/3/i,/4/i]},Lte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Fte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Bte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$te={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Hte={ordinalNumber:Ete({matchPattern:_te,parsePattern:Ote,valueCallback:e=>parseInt(e,10)}),era:Gu({matchPatterns:Tte,defaultMatchWidth:"wide",parsePatterns:Pte,defaultParseWidth:"any"}),quarter:Gu({matchPatterns:Ite,defaultMatchWidth:"wide",parsePatterns:Rte,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Gu({matchPatterns:Lte,defaultMatchWidth:"wide",parsePatterns:Fte,defaultParseWidth:"any"}),day:Gu({matchPatterns:zte,defaultMatchWidth:"wide",parsePatterns:Bte,defaultParseWidth:"any"}),dayPeriod:Gu({matchPatterns:$te,defaultMatchWidth:"any",parsePatterns:qte,defaultParseWidth:"any"})},Q4={code:"en-US",formatDistance:mte,formatLong:vte,formatRelative:bte,localize:kte,match:Hte,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ute(e,t){const r=Ye(e,t?.in);return xc(r,Ax(r))+1}function xj(e,t){const r=Ye(e,t?.in),n=+hc(r)-+lte(r);return Math.round(n/H4)+1}function vj(e,t){const r=Ye(e,t?.in),n=r.getFullYear(),i=no(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=Ot(t?.in||e,0);c.setFullYear(n+1,0,l),c.setHours(0,0,0,0);const u=Qi(c,t),f=Ot(t?.in||e,0);f.setFullYear(n,0,l),f.setHours(0,0,0,0);const m=Qi(f,t);return+r>=+u?n+1:+r>=+m?n:n-1}function Yte(e,t){const r=no(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=vj(e,t),l=Ot(t?.in||e,0);return l.setFullYear(i,0,n),l.setHours(0,0,0,0),Qi(l,t)}function X4(e,t){const r=Ye(e,t?.in),n=+Qi(r,t)-+Yte(r,t);return Math.round(n/H4)+1}function Et(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const _s={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Et(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Et(r+1,2)},d(e,t){return Et(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Et(e.getHours()%12||12,t.length)},H(e,t){return Et(e.getHours(),t.length)},m(e,t){return Et(e.getMinutes(),t.length)},s(e,t){return Et(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Et(i,t.length)}},Uo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},I5={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return _s.y(e,t)},Y:function(e,t,r,n){const i=vj(e,n),l=i>0?i:1-i;if(t==="YY"){const c=l%100;return Et(c,2)}return t==="Yo"?r.ordinalNumber(l,{unit:"year"}):Et(l,t.length)},R:function(e,t){const r=Y4(e);return Et(r,t.length)},u:function(e,t){const r=e.getFullYear();return Et(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Et(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Et(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return _s.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Et(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=X4(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):Et(i,t.length)},I:function(e,t,r){const n=xj(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Et(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):_s.d(e,t)},D:function(e,t,r){const n=Ute(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Et(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),l=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Et(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),l=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Et(l,t.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Et(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=Uo.noon:n===0?i=Uo.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=Uo.evening:n>=12?i=Uo.afternoon:n>=4?i=Uo.morning:i=Uo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return _s.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):_s.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Et(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Et(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):_s.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):_s.s(e,t)},S:function(e,t){return _s.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return L5(n);case"XXXX":case"XX":return Dl(n);default:return Dl(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return L5(n);case"xxxx":case"xx":return Dl(n);default:return Dl(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+R5(n,":");default:return"GMT"+Dl(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+R5(n,":");default:return"GMT"+Dl(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Et(n,t.length)},T:function(e,t,r){return Et(+e,t.length)}};function R5(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),l=n%60;return l===0?r+String(i):r+String(i)+t+Et(l,2)}function L5(e,t){return e%60===0?(e>0?"-":"+")+Et(Math.abs(e)/60,2):Dl(e,t)}function Dl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Et(Math.trunc(n/60),2),l=Et(n%60,2);return r+i+t+l}const F5=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Z4=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Vte=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return F5(e,t);let l;switch(n){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",F5(n,t)).replace("{{time}}",Z4(i,t))},e1={p:Z4,P:Vte},Gte=/^D+$/,Wte=/^Y+$/,Kte=["D","DD","YY","YYYY"];function Qte(e){return Gte.test(e)}function Xte(e){return Wte.test(e)}function Zte(e,t,r){const n=Jte(e,t,r);if(console.warn(n),Kte.includes(e))throw new RangeError(n)}function Jte(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ere=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rre=/^'([^]*?)'?$/,nre=/''/g,are=/[a-zA-Z]/;function z5(e,t,r){const n=no(),i=r?.locale??n.locale??Q4,l=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,u=Ye(e,r?.in);if(!vc(u))throw new RangeError("Invalid time value");let f=t.match(tre).map(h=>{const x=h[0];if(x==="p"||x==="P"){const v=e1[x];return v(h,i.formatLong)}return h}).join("").match(ere).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const x=h[0];if(x==="'")return{isToken:!1,value:ire(h)};if(I5[x])return{isToken:!0,value:h};if(x.match(are))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:h}});i.localize.preprocessor&&(f=i.localize.preprocessor(u,f));const m={firstWeekContainsDate:l,weekStartsOn:c,locale:i};return f.map(h=>{if(!h.isToken)return h.value;const x=h.value;(!r?.useAdditionalWeekYearTokens&&Xte(x)||!r?.useAdditionalDayOfYearTokens&&Qte(x))&&Zte(x,t,String(e));const v=I5[x[0]];return v(u,x,i.localize,m)}).join("")}function ire(e){const t=e.match(rre);return t?t[1].replace(nre,"'"):e}function B5(e,t){return Ye(e,t?.in).getDate()}function sre(e,t){return Ye(e,t?.in).getDay()}function lre(e,t){const r=Ye(e,t?.in),n=r.getFullYear(),i=r.getMonth(),l=Ot(r,0);return l.setFullYear(n,i+1,0),l.setHours(0,0,0,0),l.getDate()}function ore(){return Object.assign({},no())}function Zr(e,t){return Ye(e,t?.in).getHours()}function cre(e,t){const r=Ye(e,t?.in).getDay();return r===0?7:r}function Jr(e,t){return Ye(e,t?.in).getMinutes()}function vn(e,t){return Ye(e,t?.in).getMonth()}function zs(e){return Ye(e).getSeconds()}function t1(e){return+Ye(e)}function pt(e,t){return Ye(e,t?.in).getFullYear()}function zi(e,t){return+Ye(e)>+Ye(t)}function Xa(e,t){return+Ye(e)<+Ye(t)}function ure(e,t){return+Ye(e)==+Ye(t)}function dre(e,t){const r=fre(t)?new t(0):Ot(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function fre(e){return typeof e=="function"&&e.prototype?.constructor===e}const mre=10;class J4{subPriority=0;validate(t,r){return!0}}class pre extends J4{constructor(t,r,n,i,l){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=i,l&&(this.subPriority=l)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class hre extends J4{priority=mre;subPriority=-1;constructor(t,r){super(),this.context=t||(n=>Ot(r,n))}set(t,r){return r.timestampIsSet?t:Ot(t,dre(t,this.context))}}class At{run(t,r,n,i){const l=this.parse(t,r,n,i);return l?{setter:new pre(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}validate(t,r,n){return!0}}class xre extends At{priority=140;parse(t,r,n){switch(r){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}}set(t,r,n){return r.era=n,t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const gr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Va={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function br(e,t){return e&&{value:t(e.value),rest:e.rest}}function nr(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Ga(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,i=r[2]?parseInt(r[2],10):0,l=r[3]?parseInt(r[3],10):0,c=r[5]?parseInt(r[5],10):0;return{value:n*(i*Cx+l*Sx+c*ate),rest:t.slice(r[0].length)}}function eI(e){return nr(gr.anyDigitsSigned,e)}function mr(e,t){switch(e){case 1:return nr(gr.singleDigit,t);case 2:return nr(gr.twoDigits,t);case 3:return nr(gr.threeDigits,t);case 4:return nr(gr.fourDigits,t);default:return nr(new RegExp("^\\d{1,"+e+"}"),t)}}function Sh(e,t){switch(e){case 1:return nr(gr.singleDigitSigned,t);case 2:return nr(gr.twoDigitsSigned,t);case 3:return nr(gr.threeDigitsSigned,t);case 4:return nr(gr.fourDigitsSigned,t);default:return nr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function gj(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function tI(e,t){const r=t>0,n=r?t:1-t;let i;if(n<=50)i=e||100;else{const l=n+50,c=Math.trunc(l/100)*100,u=e>=l%100;i=e+c-(u?100:0)}return r?i:1-i}function rI(e){return e%400===0||e%4===0&&e%100!==0}class vre extends At{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,r,n){const i=l=>({year:l,isTwoDigitYear:r==="yy"});switch(r){case"y":return br(mr(4,t),i);case"yo":return br(n.ordinalNumber(t,{unit:"year"}),i);default:return br(mr(r.length,t),i)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n){const i=t.getFullYear();if(n.isTwoDigitYear){const c=tI(n.year,i);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const l=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class gre extends At{priority=130;parse(t,r,n){const i=l=>({year:l,isTwoDigitYear:r==="YY"});switch(r){case"Y":return br(mr(4,t),i);case"Yo":return br(n.ordinalNumber(t,{unit:"year"}),i);default:return br(mr(r.length,t),i)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n,i){const l=vj(t,i);if(n.isTwoDigitYear){const u=tI(n.year,l);return t.setFullYear(u,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),Qi(t,i)}const c=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(c,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),Qi(t,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class bre extends At{priority=130;parse(t,r){return Sh(r==="R"?4:r.length,t)}set(t,r,n){const i=Ot(t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),hc(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class yre extends At{priority=130;parse(t,r){return Sh(r==="u"?4:r.length,t)}set(t,r,n){return t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class wre extends At{priority=120;parse(t,r,n){switch(r){case"Q":case"QQ":return mr(r.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class jre extends At{priority=120;parse(t,r,n){switch(r){case"q":case"qq":return mr(r.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class Nre extends At{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,r,n){const i=l=>l-1;switch(r){case"M":return br(nr(gr.month,t),i);case"MM":return br(mr(2,t),i);case"Mo":return br(n.ordinalNumber(t,{unit:"month"}),i);case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}}class Sre extends At{priority=110;parse(t,r,n){const i=l=>l-1;switch(r){case"L":return br(nr(gr.month,t),i);case"LL":return br(mr(2,t),i);case"Lo":return br(n.ordinalNumber(t,{unit:"month"}),i);case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function Cre(e,t,r){const n=Ye(e,r?.in),i=X4(n,r)-t;return n.setDate(n.getDate()-i*7),Ye(n,r?.in)}class Are extends At{priority=100;parse(t,r,n){switch(r){case"w":return nr(gr.week,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return mr(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n,i){return Qi(Cre(t,n,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function kre(e,t,r){const n=Ye(e,r?.in),i=xj(n,r)-t;return n.setDate(n.getDate()-i*7),n}class Mre extends At{priority=100;parse(t,r,n){switch(r){case"I":return nr(gr.week,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return mr(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n){return hc(kre(t,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const Dre=[31,28,31,30,31,30,31,31,30,31,30,31],Ere=[31,29,31,30,31,30,31,31,30,31,30,31];class _re extends At{priority=90;subPriority=1;parse(t,r,n){switch(r){case"d":return nr(gr.date,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return mr(r.length,t)}}validate(t,r){const n=t.getFullYear(),i=rI(n),l=t.getMonth();return i?r>=1&&r<=Ere[l]:r>=1&&r<=Dre[l]}set(t,r,n){return t.setDate(n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class Ore extends At{priority=90;subpriority=1;parse(t,r,n){switch(r){case"D":case"DD":return nr(gr.dayOfYear,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return mr(r.length,t)}}validate(t,r){const n=t.getFullYear();return rI(n)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,n){return t.setMonth(0,n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function bj(e,t,r){const n=no(),i=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=Ye(e,r?.in),c=l.getDay(),f=(t%7+7)%7,m=7-i,h=t<0||t>6?t-(c+m)%7:(f+m)%7-(c+m)%7;return wa(l,h,r)}class Tre extends At{priority=90;parse(t,r,n){switch(r){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,i){return t=bj(t,n,i),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class Pre extends At{priority=90;parse(t,r,n,i){const l=c=>{const u=Math.floor((c-1)/7)*7;return(c+i.weekStartsOn+6)%7+u};switch(r){case"e":case"ee":return br(mr(r.length,t),l);case"eo":return br(n.ordinalNumber(t,{unit:"day"}),l);case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,i){return t=bj(t,n,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class Ire extends At{priority=90;parse(t,r,n,i){const l=c=>{const u=Math.floor((c-1)/7)*7;return(c+i.weekStartsOn+6)%7+u};switch(r){case"c":case"cc":return br(mr(r.length,t),l);case"co":return br(n.ordinalNumber(t,{unit:"day"}),l);case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,i){return t=bj(t,n,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function Rre(e,t,r){const n=Ye(e,r?.in),i=cre(n,r),l=t-i;return wa(n,l,r)}class Lre extends At{priority=90;parse(t,r,n){const i=l=>l===0?7:l;switch(r){case"i":case"ii":return mr(r.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return br(n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),i);case"iiiii":return br(n.day(t,{width:"narrow",context:"formatting"}),i);case"iiiiii":return br(n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),i);default:return br(n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),i)}}validate(t,r){return r>=1&&r<=7}set(t,r,n){return t=Rre(t,n),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class Fre extends At{priority=80;parse(t,r,n){switch(r){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(gj(n),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class zre extends At{priority=80;parse(t,r,n){switch(r){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(gj(n),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class Bre extends At{priority=80;parse(t,r,n){switch(r){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(gj(n),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class $re extends At{priority=70;parse(t,r,n){switch(r){case"h":return nr(gr.hour12h,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return mr(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,n){const i=t.getHours()>=12;return i&&n<12?t.setHours(n+12,0,0,0):!i&&n===12?t.setHours(0,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class qre extends At{priority=70;parse(t,r,n){switch(r){case"H":return nr(gr.hour23h,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return mr(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,n){return t.setHours(n,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class Hre extends At{priority=70;parse(t,r,n){switch(r){case"K":return nr(gr.hour11h,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return mr(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.getHours()>=12&&n<12?t.setHours(n+12,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class Ure extends At{priority=70;parse(t,r,n){switch(r){case"k":return nr(gr.hour24h,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return mr(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,n){const i=n<=24?n%24:n;return t.setHours(i,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class Yre extends At{priority=60;parse(t,r,n){switch(r){case"m":return nr(gr.minute,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return mr(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setMinutes(n,0,0),t}incompatibleTokens=["t","T"]}class Vre extends At{priority=50;parse(t,r,n){switch(r){case"s":return nr(gr.second,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return mr(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setSeconds(n,0),t}incompatibleTokens=["t","T"]}class Gre extends At{priority=30;parse(t,r){const n=i=>Math.trunc(i*Math.pow(10,-r.length+3));return br(mr(r.length,t),n)}set(t,r,n){return t.setMilliseconds(n),t}incompatibleTokens=["t","T"]}class Wre extends At{priority=10;parse(t,r){switch(r){case"X":return Ga(Va.basicOptionalMinutes,t);case"XX":return Ga(Va.basic,t);case"XXXX":return Ga(Va.basicOptionalSeconds,t);case"XXXXX":return Ga(Va.extendedOptionalSeconds,t);default:return Ga(Va.extended,t)}}set(t,r,n){return r.timestampIsSet?t:Ot(t,t.getTime()-bh(t)-n)}incompatibleTokens=["t","T","x"]}class Kre extends At{priority=10;parse(t,r){switch(r){case"x":return Ga(Va.basicOptionalMinutes,t);case"xx":return Ga(Va.basic,t);case"xxxx":return Ga(Va.basicOptionalSeconds,t);case"xxxxx":return Ga(Va.extendedOptionalSeconds,t);default:return Ga(Va.extended,t)}}set(t,r,n){return r.timestampIsSet?t:Ot(t,t.getTime()-bh(t)-n)}incompatibleTokens=["t","T","X"]}class Qre extends At{priority=40;parse(t){return eI(t)}set(t,r,n){return[Ot(t,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class Xre extends At{priority=20;parse(t){return eI(t)}set(t,r,n){return[Ot(t,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const Zre={G:new xre,y:new vre,Y:new gre,R:new bre,u:new yre,Q:new wre,q:new jre,M:new Nre,L:new Sre,w:new Are,I:new Mre,d:new _re,D:new Ore,E:new Tre,e:new Pre,c:new Ire,i:new Lre,a:new Fre,b:new zre,B:new Bre,h:new $re,H:new qre,K:new Hre,k:new Ure,m:new Yre,s:new Vre,S:new Gre,X:new Wre,x:new Kre,t:new Qre,T:new Xre},Jre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ene=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tne=/^'([^]*?)'?$/,rne=/''/g,nne=/\S/,ane=/[a-zA-Z]/;function ine(e,t,r,n){const i=()=>Ot(n?.in||r,NaN),l=ore(),c=n?.locale??l.locale??Q4,u=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,f=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??l.weekStartsOn??l.locale?.options?.weekStartsOn??0;if(!t)return e?i():Ye(r,n?.in);const m={firstWeekContainsDate:u,weekStartsOn:f,locale:c},h=[new hre(n?.in,r)],x=t.match(ene).map(w=>{const C=w[0];if(C in e1){const k=e1[C];return k(w,c.formatLong)}return w}).join("").match(Jre),v=[];for(let w of x){const C=w[0],k=Zre[C];if(k){const{incompatibleTokens:A}=k;if(Array.isArray(A)){const D=v.find(T=>A.includes(T.token)||T.token===C);if(D)throw new RangeError(`The format string mustn't contain \`${D.fullToken}\` and \`${w}\` at the same time`)}else if(k.incompatibleTokens==="*"&&v.length>0)throw new RangeError(`The format string mustn't contain \`${w}\` and any other token at the same time`);v.push({token:C,fullToken:w});const M=k.run(e,w,c.match,m);if(!M)return i();h.push(M.setter),e=M.rest}else{if(C.match(ane))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(w==="''"?w="'":C==="'"&&(w=sne(w)),e.indexOf(w)===0)e=e.slice(w.length);else return i()}}if(e.length>0&&nne.test(e))return i();const g=h.map(w=>w.priority).sort((w,C)=>C-w).filter((w,C,k)=>k.indexOf(w)===C).map(w=>h.filter(C=>C.priority===w).sort((C,k)=>k.subPriority-C.subPriority)).map(w=>w[0]);let S=Ye(r,n?.in);if(isNaN(+S))return i();const y={};for(const w of g){if(!w.validate(S,m))return i();const C=w.set(S,y,m);Array.isArray(C)?(S=C[0],Object.assign(y,C[1])):S=C}return S}function sne(e){return e.match(tne)[1].replace(rne,"'")}function lne(e,t,r){const[n,i]=rs(r?.in,e,t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function one(e,t,r){const[n,i]=rs(r?.in,e,t);return+Jy(n)==+Jy(i)}function cne(e,t,r){const[n,i]=rs(r?.in,e,t);return n.getFullYear()===i.getFullYear()}function Ad(e,t,r){const n=+Ye(e,r?.in),[i,l]=[+Ye(t.start,r?.in),+Ye(t.end,r?.in)].sort((c,u)=>c-u);return n>=i&&n<=l}function une(e,t,r){return wa(e,-1,r)}function dne(e,t){const r=()=>Ot(t?.in,NaN),i=hne(e);let l;if(i.date){const m=xne(i.date,2);l=vne(m.restDateString,m.year)}if(!l||isNaN(+l))return r();const c=+l;let u=0,f;if(i.time&&(u=gne(i.time),isNaN(u)))return r();if(i.timezone){if(f=bne(i.timezone),isNaN(f))return r()}else{const m=new Date(c+u),h=Ye(0,t?.in);return h.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),h.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),h}return Ye(c+u+f,t?.in)}const Lm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},fne=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,mne=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,pne=/^([+-])(\d{2})(?::?(\d{2}))?$/;function hne(e){const t={},r=e.split(Lm.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Lm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Lm.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=Lm.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function xne(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,l=n[2]?parseInt(n[2]):null;return{year:l===null?i:l*100,restDateString:e.slice((n[1]||n[2]).length)}}function vne(e,t){if(t===null)return new Date(NaN);const r=e.match(fne);if(!r)return new Date(NaN);const n=!!r[4],i=Wu(r[1]),l=Wu(r[2])-1,c=Wu(r[3]),u=Wu(r[4]),f=Wu(r[5])-1;if(n)return Sne(t,u,f)?yne(t,u,f):new Date(NaN);{const m=new Date(0);return!jne(t,l,c)||!Nne(t,i)?new Date(NaN):(m.setUTCFullYear(t,l,Math.max(i,c)),m)}}function Wu(e){return e?parseInt(e):1}function gne(e){const t=e.match(mne);if(!t)return NaN;const r=Tb(t[1]),n=Tb(t[2]),i=Tb(t[3]);return Cne(r,n,i)?r*Cx+n*Sx+i*1e3:NaN}function Tb(e){return e&&parseFloat(e.replace(",","."))||0}function bne(e){if(e==="Z")return 0;const t=e.match(pne);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return Ane(n,i)?r*(n*Cx+i*Sx):NaN}function yne(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,l=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+l),n}const wne=[31,null,31,30,31,30,31,31,30,31,30,31];function nI(e){return e%400===0||e%4===0&&e%100!==0}function jne(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(wne[t]||(nI(e)?29:28))}function Nne(e,t){return t>=1&&t<=(nI(e)?366:365)}function Sne(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Cne(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Ane(e,t){return t>=0&&t<=59}function On(e,t,r){const n=Ye(e,r?.in),i=n.getFullYear(),l=n.getDate(),c=Ot(e,0);c.setFullYear(i,t,15),c.setHours(0,0,0,0);const u=lre(c);return n.setMonth(t,Math.min(l,u)),n}function xp(e,t,r){const n=Ye(e,r?.in);return n.setHours(t),n}function vp(e,t,r){const n=Ye(e,r?.in);return n.setMinutes(t),n}function Xo(e,t,r){const n=Ye(e,r?.in),i=Math.trunc(n.getMonth()/3)+1,l=t-i;return On(n,n.getMonth()+l*3)}function gp(e,t,r){const n=Ye(e,r?.in);return n.setSeconds(t),n}function Ua(e,t,r){const n=Ye(e,r?.in);return isNaN(+n)?Ot(e,NaN):(n.setFullYear(t),n)}function ql(e,t,r){return Aa(e,-t,r)}function aI(e,t,r){return hj(e,-1,r)}function $5(e,t,r){return yh(e,-1,r)}function Ys(e,t,r){return ja(e,-t,r)}function kx(){return typeof window<"u"}function Bc(e){return iI(e)?(e.nodeName||"").toLowerCase():"#document"}function Fn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ui(e){var t;return(t=(iI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function iI(e){return kx()?e instanceof Node||e instanceof Fn(e).Node:!1}function an(e){return kx()?e instanceof Element||e instanceof Fn(e).Element:!1}function ii(e){return kx()?e instanceof HTMLElement||e instanceof Fn(e).HTMLElement:!1}function q5(e){return!kx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Fn(e).ShadowRoot}const kne=new Set(["inline","contents"]);function Xd(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=sa(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!kne.has(i)}const Mne=new Set(["table","td","th"]);function Dne(e){return Mne.has(Bc(e))}const Ene=[":popover-open",":modal"];function Mx(e){return Ene.some(t=>{try{return e.matches(t)}catch{return!1}})}const _ne=["transform","translate","scale","rotate","perspective"],One=["transform","translate","scale","rotate","perspective","filter"],Tne=["paint","layout","strict","content"];function yj(e){const t=wj(),r=an(e)?sa(e):e;return _ne.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||One.some(n=>(r.willChange||"").includes(n))||Tne.some(n=>(r.contain||"").includes(n))}function Pne(e){let t=Vs(e);for(;ii(t)&&!gc(t);){if(yj(t))return t;if(Mx(t))return null;t=Vs(t)}return null}function wj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ine=new Set(["html","body","#document"]);function gc(e){return Ine.has(Bc(e))}function sa(e){return Fn(e).getComputedStyle(e)}function Dx(e){return an(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Vs(e){if(Bc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||q5(e)&&e.host||ui(e);return q5(t)?t.host:t}function sI(e){const t=Vs(e);return gc(t)?e.ownerDocument?e.ownerDocument.body:e.body:ii(t)&&Xd(t)?t:sI(t)}function kd(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=sI(e),l=i===((n=e.ownerDocument)==null?void 0:n.body),c=Fn(i);if(l){const u=r1(c);return t.concat(c,c.visualViewport||[],Xd(i)?i:[],u&&r?kd(u):[])}return t.concat(i,kd(i,[],r))}function r1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const bc=Math.min,Hl=Math.max,Ch=Math.round,Fm=Math.floor,ri=e=>({x:e,y:e}),Rne={left:"right",right:"left",bottom:"top",top:"bottom"},Lne={start:"end",end:"start"};function Fne(e,t,r){return Hl(e,bc(t,r))}function Ex(e,t){return typeof e=="function"?e(t):e}function yc(e){return e.split("-")[0]}function Zd(e){return e.split("-")[1]}function zne(e){return e==="x"?"y":"x"}function jj(e){return e==="y"?"height":"width"}const Bne=new Set(["top","bottom"]);function Rl(e){return Bne.has(yc(e))?"y":"x"}function Nj(e){return zne(Rl(e))}function $ne(e,t,r){r===void 0&&(r=!1);const n=Zd(e),i=Nj(e),l=jj(i);let c=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=Ah(c)),[c,Ah(c)]}function qne(e){const t=Ah(e);return[n1(e),t,n1(t)]}function n1(e){return e.replace(/start|end/g,t=>Lne[t])}const H5=["left","right"],U5=["right","left"],Hne=["top","bottom"],Une=["bottom","top"];function Yne(e,t,r){switch(e){case"top":case"bottom":return r?t?U5:H5:t?H5:U5;case"left":case"right":return t?Hne:Une;default:return[]}}function Vne(e,t,r,n){const i=Zd(e);let l=Yne(yc(e),r==="start",n);return i&&(l=l.map(c=>c+"-"+i),t&&(l=l.concat(l.map(n1)))),l}function Ah(e){return e.replace(/left|right|bottom|top/g,t=>Rne[t])}function Gne(e){return{top:0,right:0,bottom:0,left:0,...e}}function lI(e){return typeof e!="number"?Gne(e):{top:e,right:e,bottom:e,left:e}}function kh(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}var Wne=typeof document<"u",Kne=function(){},Mh=Wne?j.useLayoutEffect:Kne;const Qne={...f1},Xne=Qne.useInsertionEffect,Zne=Xne||(e=>e());function Jne(e){const t=j.useRef(()=>{});return Zne(()=>{t.current=e}),j.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}function Y5(e,t,r){let{reference:n,floating:i}=e;const l=Rl(t),c=Nj(t),u=jj(c),f=yc(t),m=l==="y",h=n.x+n.width/2-i.width/2,x=n.y+n.height/2-i.height/2,v=n[u]/2-i[u]/2;let g;switch(f){case"top":g={x:h,y:n.y-i.height};break;case"bottom":g={x:h,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:x};break;case"left":g={x:n.x-i.width,y:x};break;default:g={x:n.x,y:n.y}}switch(Zd(t)){case"start":g[c]-=v*(r&&m?-1:1);break;case"end":g[c]+=v*(r&&m?-1:1);break}return g}async function eae(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:l,rects:c,elements:u,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:h="viewport",elementContext:x="floating",altBoundary:v=!1,padding:g=0}=Ex(t,e),S=lI(g),w=u[v?x==="floating"?"reference":"floating":x],C=kh(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(w)))==null||r?w:w.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:m,rootBoundary:h,strategy:f})),k=x==="floating"?{x:n,y:i,width:c.floating.width,height:c.floating.height}:c.reference,A=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),M=await(l.isElement==null?void 0:l.isElement(A))?await(l.getScale==null?void 0:l.getScale(A))||{x:1,y:1}:{x:1,y:1},D=kh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:k,offsetParent:A,strategy:f}):k);return{top:(C.top-D.top+S.top)/M.y,bottom:(D.bottom-C.bottom+S.bottom)/M.y,left:(C.left-D.left+S.left)/M.x,right:(D.right-C.right+S.right)/M.x}}const tae=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:l=[],platform:c}=r,u=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let m=await c.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:x}=Y5(m,n,f),v=n,g={},S=0;for(let w=0;w<u.length;w++){var y;const{name:C,fn:k}=u[w],{x:A,y:M,data:D,reset:T}=await k({x:h,y:x,initialPlacement:n,placement:v,strategy:i,middlewareData:g,rects:m,platform:{...c,detectOverflow:(y=c.detectOverflow)!=null?y:eae},elements:{reference:e,floating:t}});h=A??h,x=M??x,g={...g,[C]:{...g[C],...D}},T&&S<=50&&(S++,typeof T=="object"&&(T.placement&&(v=T.placement),T.rects&&(m=T.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:h,y:x}=Y5(m,v,f)),w=-1)}return{x:h,y:x,placement:v,strategy:i,middlewareData:g}},rae=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:l,platform:c,elements:u,middlewareData:f}=t,{element:m,padding:h=0}=Ex(e,t)||{};if(m==null)return{};const x=lI(h),v={x:r,y:n},g=Nj(i),S=jj(g),y=await c.getDimensions(m),w=g==="y",C=w?"top":"left",k=w?"bottom":"right",A=w?"clientHeight":"clientWidth",M=l.reference[S]+l.reference[g]-v[g]-l.floating[S],D=v[g]-l.reference[g],T=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let P=T?T[A]:0;(!P||!await(c.isElement==null?void 0:c.isElement(T)))&&(P=u.floating[A]||l.floating[S]);const O=M/2-D/2,z=P/2-y[S]/2-1,L=bc(x[C],z),$=bc(x[k],z),E=L,J=P-y[S]-$,Z=P/2-y[S]/2+O,te=Fne(E,Z,J),R=!f.arrow&&Zd(i)!=null&&Z!==te&&l.reference[S]/2-(Z<E?L:$)-y[S]/2<0,F=R?Z<E?Z-E:Z-J:0;return{[g]:v[g]+F,data:{[g]:te,centerOffset:Z-te-F,...R&&{alignmentOffset:F}},reset:R}}}),nae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:l,rects:c,initialPlacement:u,platform:f,elements:m}=t,{mainAxis:h=!0,crossAxis:x=!0,fallbackPlacements:v,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:y=!0,...w}=Ex(e,t);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const C=yc(i),k=Rl(u),A=yc(u)===u,M=await(f.isRTL==null?void 0:f.isRTL(m.floating)),D=v||(A||!y?[Ah(u)]:qne(u)),T=S!=="none";!v&&T&&D.push(...Vne(u,y,S,M));const P=[u,...D],O=await f.detectOverflow(t,w),z=[];let L=((n=l.flip)==null?void 0:n.overflows)||[];if(h&&z.push(O[C]),x){const Z=$ne(i,c,M);z.push(O[Z[0]],O[Z[1]])}if(L=[...L,{placement:i,overflows:z}],!z.every(Z=>Z<=0)){var $,E;const Z=((($=l.flip)==null?void 0:$.index)||0)+1,te=P[Z];if(te&&(!(x==="alignment"?k!==Rl(te):!1)||L.every(fe=>Rl(fe.placement)===k?fe.overflows[0]>0:!0)))return{data:{index:Z,overflows:L},reset:{placement:te}};let R=(E=L.filter(F=>F.overflows[0]<=0).sort((F,fe)=>F.overflows[1]-fe.overflows[1])[0])==null?void 0:E.placement;if(!R)switch(g){case"bestFit":{var J;const F=(J=L.filter(fe=>{if(T){const Se=Rl(fe.placement);return Se===k||Se==="y"}return!0}).map(fe=>[fe.placement,fe.overflows.filter(Se=>Se>0).reduce((Se,H)=>Se+H,0)]).sort((fe,Se)=>fe[1]-Se[1])[0])==null?void 0:J[0];F&&(R=F);break}case"initialPlacement":R=u;break}if(i!==R)return{reset:{placement:R}}}return{}}}},aae=new Set(["left","top"]);async function iae(e,t){const{placement:r,platform:n,elements:i}=e,l=await(n.isRTL==null?void 0:n.isRTL(i.floating)),c=yc(r),u=Zd(r),f=Rl(r)==="y",m=aae.has(c)?-1:1,h=l&&f?-1:1,x=Ex(t,e);let{mainAxis:v,crossAxis:g,alignmentAxis:S}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return u&&typeof S=="number"&&(g=u==="end"?S*-1:S),f?{x:g*h,y:v*m}:{x:v*m,y:g*h}}const sae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:l,placement:c,middlewareData:u}=t,f=await iae(t,e);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+f.x,y:l+f.y,data:{...f,placement:c}}}}};function oI(e){const t=sa(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=ii(e),l=i?e.offsetWidth:r,c=i?e.offsetHeight:n,u=Ch(r)!==l||Ch(n)!==c;return u&&(r=l,n=c),{width:r,height:n,$:u}}function Sj(e){return an(e)?e:e.contextElement}function ic(e){const t=Sj(e);if(!ii(t))return ri(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:l}=oI(t);let c=(l?Ch(r.width):r.width)/n,u=(l?Ch(r.height):r.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const lae=ri(0);function cI(e){const t=Fn(e);return!wj()||!t.visualViewport?lae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function oae(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Fn(e)?!1:t}function Jl(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),l=Sj(e);let c=ri(1);t&&(n?an(n)&&(c=ic(n)):c=ic(e));const u=oae(l,r,n)?cI(l):ri(0);let f=(i.left+u.x)/c.x,m=(i.top+u.y)/c.y,h=i.width/c.x,x=i.height/c.y;if(l){const v=Fn(l),g=n&&an(n)?Fn(n):n;let S=v,y=r1(S);for(;y&&n&&g!==S;){const w=ic(y),C=y.getBoundingClientRect(),k=sa(y),A=C.left+(y.clientLeft+parseFloat(k.paddingLeft))*w.x,M=C.top+(y.clientTop+parseFloat(k.paddingTop))*w.y;f*=w.x,m*=w.y,h*=w.x,x*=w.y,f+=A,m+=M,S=Fn(y),y=r1(S)}}return kh({width:h,height:x,x:f,y:m})}function _x(e,t){const r=Dx(e).scrollLeft;return t?t.left+r:Jl(ui(e)).left+r}function uI(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-_x(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function cae(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const l=i==="fixed",c=ui(n),u=t?Mx(t.floating):!1;if(n===c||u&&l)return r;let f={scrollLeft:0,scrollTop:0},m=ri(1);const h=ri(0),x=ii(n);if((x||!x&&!l)&&((Bc(n)!=="body"||Xd(c))&&(f=Dx(n)),ii(n))){const g=Jl(n);m=ic(n),h.x=g.x+n.clientLeft,h.y=g.y+n.clientTop}const v=c&&!x&&!l?uI(c,f):ri(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-f.scrollLeft*m.x+h.x+v.x,y:r.y*m.y-f.scrollTop*m.y+h.y+v.y}}function uae(e){return Array.from(e.getClientRects())}function dae(e){const t=ui(e),r=Dx(e),n=e.ownerDocument.body,i=Hl(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),l=Hl(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+_x(e);const u=-r.scrollTop;return sa(n).direction==="rtl"&&(c+=Hl(t.clientWidth,n.clientWidth)-i),{width:i,height:l,x:c,y:u}}const V5=25;function fae(e,t){const r=Fn(e),n=ui(e),i=r.visualViewport;let l=n.clientWidth,c=n.clientHeight,u=0,f=0;if(i){l=i.width,c=i.height;const h=wj();(!h||h&&t==="fixed")&&(u=i.offsetLeft,f=i.offsetTop)}const m=_x(n);if(m<=0){const h=n.ownerDocument,x=h.body,v=getComputedStyle(x),g=h.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,S=Math.abs(n.clientWidth-x.clientWidth-g);S<=V5&&(l-=S)}else m<=V5&&(l+=m);return{width:l,height:c,x:u,y:f}}const mae=new Set(["absolute","fixed"]);function pae(e,t){const r=Jl(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,l=ii(e)?ic(e):ri(1),c=e.clientWidth*l.x,u=e.clientHeight*l.y,f=i*l.x,m=n*l.y;return{width:c,height:u,x:f,y:m}}function G5(e,t,r){let n;if(t==="viewport")n=fae(e,r);else if(t==="document")n=dae(ui(e));else if(an(t))n=pae(t,r);else{const i=cI(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return kh(n)}function dI(e,t){const r=Vs(e);return r===t||!an(r)||gc(r)?!1:sa(r).position==="fixed"||dI(r,t)}function hae(e,t){const r=t.get(e);if(r)return r;let n=kd(e,[],!1).filter(u=>an(u)&&Bc(u)!=="body"),i=null;const l=sa(e).position==="fixed";let c=l?Vs(e):e;for(;an(c)&&!gc(c);){const u=sa(c),f=yj(c);!f&&u.position==="fixed"&&(i=null),(l?!f&&!i:!f&&u.position==="static"&&!!i&&mae.has(i.position)||Xd(c)&&!f&&dI(e,c))?n=n.filter(h=>h!==c):i=u,c=Vs(c)}return t.set(e,n),n}function xae(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const c=[...r==="clippingAncestors"?Mx(t)?[]:hae(t,this._c):[].concat(r),n],u=c[0],f=c.reduce((m,h)=>{const x=G5(t,h,i);return m.top=Hl(x.top,m.top),m.right=bc(x.right,m.right),m.bottom=bc(x.bottom,m.bottom),m.left=Hl(x.left,m.left),m},G5(t,u,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function vae(e){const{width:t,height:r}=oI(e);return{width:t,height:r}}function gae(e,t,r){const n=ii(t),i=ui(t),l=r==="fixed",c=Jl(e,!0,l,t);let u={scrollLeft:0,scrollTop:0};const f=ri(0);function m(){f.x=_x(i)}if(n||!n&&!l)if((Bc(t)!=="body"||Xd(i))&&(u=Dx(t)),n){const g=Jl(t,!0,l,t);f.x=g.x+t.clientLeft,f.y=g.y+t.clientTop}else i&&m();l&&!n&&i&&m();const h=i&&!n&&!l?uI(i,u):ri(0),x=c.left+u.scrollLeft-f.x-h.x,v=c.top+u.scrollTop-f.y-h.y;return{x,y:v,width:c.width,height:c.height}}function Pb(e){return sa(e).position==="static"}function W5(e,t){if(!ii(e)||sa(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ui(e)===r&&(r=r.ownerDocument.body),r}function fI(e,t){const r=Fn(e);if(Mx(e))return r;if(!ii(e)){let i=Vs(e);for(;i&&!gc(i);){if(an(i)&&!Pb(i))return i;i=Vs(i)}return r}let n=W5(e,t);for(;n&&Dne(n)&&Pb(n);)n=W5(n,t);return n&&gc(n)&&Pb(n)&&!yj(n)?r:n||Pne(e)||r}const bae=async function(e){const t=this.getOffsetParent||fI,r=this.getDimensions,n=await r(e.floating);return{reference:gae(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function yae(e){return sa(e).direction==="rtl"}const wae={convertOffsetParentRelativeRectToViewportRelativeRect:cae,getDocumentElement:ui,getClippingRect:xae,getOffsetParent:fI,getElementRects:bae,getClientRects:uae,getDimensions:vae,getScale:ic,isElement:an,isRTL:yae};function mI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function jae(e,t){let r=null,n;const i=ui(e);function l(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),l();const m=e.getBoundingClientRect(),{left:h,top:x,width:v,height:g}=m;if(u||t(),!v||!g)return;const S=Fm(x),y=Fm(i.clientWidth-(h+v)),w=Fm(i.clientHeight-(x+g)),C=Fm(h),A={rootMargin:-S+"px "+-y+"px "+-w+"px "+-C+"px",threshold:Hl(0,bc(1,f))||1};let M=!0;function D(T){const P=T[0].intersectionRatio;if(P!==f){if(!M)return c();P?c(!1,P):n=setTimeout(()=>{c(!1,1e-7)},1e3)}P===1&&!mI(m,e.getBoundingClientRect())&&c(),M=!1}try{r=new IntersectionObserver(D,{...A,root:i.ownerDocument})}catch{r=new IntersectionObserver(D,A)}r.observe(e)}return c(!0),l}function Nae(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,m=Sj(e),h=i||l?[...m?kd(m):[],...kd(t)]:[];h.forEach(C=>{i&&C.addEventListener("scroll",r,{passive:!0}),l&&C.addEventListener("resize",r)});const x=m&&u?jae(m,r):null;let v=-1,g=null;c&&(g=new ResizeObserver(C=>{let[k]=C;k&&k.target===m&&g&&(g.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var A;(A=g)==null||A.observe(t)})),r()}),m&&!f&&g.observe(m),g.observe(t));let S,y=f?Jl(e):null;f&&w();function w(){const C=Jl(e);y&&!mI(y,C)&&r(),y=C,S=requestAnimationFrame(w)}return r(),()=>{var C;h.forEach(k=>{i&&k.removeEventListener("scroll",r),l&&k.removeEventListener("resize",r)}),x?.(),(C=g)==null||C.disconnect(),g=null,f&&cancelAnimationFrame(S)}}const Sae=sae,Cae=nae,K5=rae,Aae=(e,t,r)=>{const n=new Map,i={platform:wae,...r},l={...i.platform,_c:n};return tae(e,t,{...i,platform:l})};var kae=typeof document<"u",Mae=function(){},bp=kae?j.useLayoutEffect:Mae;function Dh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Dh(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const l=i[n];if(!(l==="_owner"&&e.$$typeof)&&!Dh(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function pI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Q5(e,t){const r=pI(e);return Math.round(t*r)/r}function Ib(e){const t=j.useRef(e);return bp(()=>{t.current=e}),t}function Dae(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:f,open:m}=e,[h,x]=j.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,g]=j.useState(n);Dh(v,n)||g(n);const[S,y]=j.useState(null),[w,C]=j.useState(null),k=j.useCallback(fe=>{fe!==T.current&&(T.current=fe,y(fe))},[]),A=j.useCallback(fe=>{fe!==P.current&&(P.current=fe,C(fe))},[]),M=l||S,D=c||w,T=j.useRef(null),P=j.useRef(null),O=j.useRef(h),z=f!=null,L=Ib(f),$=Ib(i),E=Ib(m),J=j.useCallback(()=>{if(!T.current||!P.current)return;const fe={placement:t,strategy:r,middleware:v};$.current&&(fe.platform=$.current),Aae(T.current,P.current,fe).then(Se=>{const H={...Se,isPositioned:E.current!==!1};Z.current&&!Dh(O.current,H)&&(O.current=H,kc.flushSync(()=>{x(H)}))})},[v,t,r,$,E]);bp(()=>{m===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,x(fe=>({...fe,isPositioned:!1})))},[m]);const Z=j.useRef(!1);bp(()=>(Z.current=!0,()=>{Z.current=!1}),[]),bp(()=>{if(M&&(T.current=M),D&&(P.current=D),M&&D){if(L.current)return L.current(M,D,J);J()}},[M,D,J,L,z]);const te=j.useMemo(()=>({reference:T,floating:P,setReference:k,setFloating:A}),[k,A]),R=j.useMemo(()=>({reference:M,floating:D}),[M,D]),F=j.useMemo(()=>{const fe={position:r,left:0,top:0};if(!R.floating)return fe;const Se=Q5(R.floating,h.x),H=Q5(R.floating,h.y);return u?{...fe,transform:"translate("+Se+"px, "+H+"px)",...pI(R.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Se,top:H}},[r,u,R.floating,h.x,h.y]);return j.useMemo(()=>({...h,update:J,refs:te,elements:R,floatingStyles:F}),[h,J,te,R,F])}const Eae=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?K5({element:n.current,padding:i}).fn(r):{}:n?K5({element:n,padding:i}).fn(r):{}}}},_ae=(e,t)=>({...Sae(e),options:[e,t]}),Oae=(e,t)=>({...Cae(e),options:[e,t]}),Tae=(e,t)=>({...Eae(e),options:[e,t]}),Pae={...f1};let X5=!1,Iae=0;const Z5=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Iae++;function Rae(){const[e,t]=j.useState(()=>X5?Z5():void 0);return Mh(()=>{e==null&&t(Z5())},[]),j.useEffect(()=>{X5=!0},[]),e}const Lae=Pae.useId,hI=Lae||Rae,Fae=j.forwardRef(function(t,r){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:l,shift:c}},width:u=14,height:f=7,tipRadius:m=0,strokeWidth:h=0,staticOffset:x,stroke:v,d:g,style:{transform:S,...y}={},...w}=t,C=hI(),[k,A]=j.useState(!1);if(Mh(()=>{if(!i)return;sa(i).direction==="rtl"&&A(!0)},[i]),!i)return null;const[M,D]=n.split("-"),T=M==="top"||M==="bottom";let P=x;(T&&c!=null&&c.x||!T&&c!=null&&c.y)&&(P=null);const O=h*2,z=O/2,L=u/2*(m/-8+1),$=f/2*m/4,E=!!g,J=P&&D==="end"?"bottom":"top";let Z=P&&D==="end"?"right":"left";P&&k&&(Z=D==="end"?"left":"right");const te=l?.x!=null?P||l.x:"",R=l?.y!=null?P||l.y:"",F=g||"M0,0"+(" H"+u)+(" L"+(u-L)+","+(f-$))+(" Q"+u/2+","+f+" "+L+","+(f-$))+" Z",fe={top:E?"rotate(180deg)":"",left:E?"rotate(90deg)":"rotate(-90deg)",bottom:E?"":"rotate(180deg)",right:E?"rotate(-90deg)":"rotate(90deg)"}[M];return a.jsxs("svg",{...w,"aria-hidden":!0,ref:r,width:E?u:u+O,height:u,viewBox:"0 0 "+u+" "+(f>u?f:u),style:{position:"absolute",pointerEvents:"none",[Z]:te,[J]:R,[M]:T||E?"100%":"calc(100% - "+O/2+"px)",transform:[fe,S].filter(Se=>!!Se).join(" "),...y},children:[O>0&&a.jsx("path",{clipPath:"url(#"+C+")",fill:"none",stroke:v,strokeWidth:O+(g?0:1),d:F}),a.jsx("path",{stroke:O&&!g?w.fill:"none",d:F}),a.jsx("clipPath",{id:C,children:a.jsx("rect",{x:-z,y:z*(E?-1:1),width:u+O,height:u})})]})});function zae(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(i=>i(r))},on(t,r){e.has(t)||e.set(t,new Set),e.get(t).add(r)},off(t,r){var n;(n=e.get(t))==null||n.delete(r)}}}const Bae=j.createContext(null),$ae=j.createContext(null),qae=()=>{var e;return((e=j.useContext(Bae))==null?void 0:e.id)||null},Hae=()=>j.useContext($ae);function Uae(e){const{open:t=!1,onOpenChange:r,elements:n}=e,i=hI(),l=j.useRef({}),[c]=j.useState(()=>zae()),u=qae()!=null,[f,m]=j.useState(n.reference),h=Jne((g,S,y)=>{l.current.openEvent=g?S:void 0,c.emit("openchange",{open:g,event:S,reason:y,nested:u}),r?.(g,S,y)}),x=j.useMemo(()=>({setPositionReference:m}),[]),v=j.useMemo(()=>({reference:f||n.reference||null,floating:n.floating||null,domReference:n.reference}),[f,n.reference,n.floating]);return j.useMemo(()=>({dataRef:l,open:t,onOpenChange:h,elements:v,events:c,floatingId:i,refs:x}),[t,h,v,c,i,x])}function Yae(e){e===void 0&&(e={});const{nodeId:t}=e,r=Uae({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,i=n.elements,[l,c]=j.useState(null),[u,f]=j.useState(null),h=i?.domReference||l,x=j.useRef(null),v=Hae();Mh(()=>{h&&(x.current=h)},[h]);const g=Dae({...e,elements:{...i,...u&&{reference:u}}}),S=j.useCallback(A=>{const M=an(A)?{getBoundingClientRect:()=>A.getBoundingClientRect(),getClientRects:()=>A.getClientRects(),contextElement:A}:A;f(M),g.refs.setReference(M)},[g.refs]),y=j.useCallback(A=>{(an(A)||A===null)&&(x.current=A,c(A)),(an(g.refs.reference.current)||g.refs.reference.current===null||A!==null&&!an(A))&&g.refs.setReference(A)},[g.refs]),w=j.useMemo(()=>({...g.refs,setReference:y,setPositionReference:S,domReference:x}),[g.refs,y,S]),C=j.useMemo(()=>({...g.elements,domReference:h}),[g.elements,h]),k=j.useMemo(()=>({...g,...n,refs:w,elements:C,nodeId:t}),[g,w,C,t,n]);return Mh(()=>{n.dataRef.current.floatingContext=k;const A=v?.nodesRef.current.find(M=>M.id===t);A&&(A.context=k)}),j.useMemo(()=>({...g,context:k,refs:w,elements:C}),[g,w,C,k])}var a1=function(t,r){return a1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])},a1(t,r)};function Wr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ct=function(){return ct=Object.assign||function(r){for(var n,i=1,l=arguments.length;i<l;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},ct.apply(this,arguments)};function Za(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,l;n<i;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))}var Vae=function(e){var t=e.showTimeSelectOnly,r=t===void 0?!1:t,n=e.showTime,i=n===void 0?!1:n,l=e.className,c=e.children,u=e.inline,f=r?"Choose Time":"Choose Date".concat(i?" and Time":"");return he.createElement("div",{className:l,"aria-label":f,role:u?void 0:"dialog","aria-modal":u?void 0:"true",translate:"no"},c)},Gae=function(e,t){var r=j.useRef(null),n=j.useRef(e);j.useEffect(function(){n.current=e},[e]);var i=j.useCallback(function(l){var c,u=l.composed&&l.composedPath&&l.composedPath().find(function(f){return f instanceof Node})||l.target;r.current&&!r.current.contains(u)&&(t&&u instanceof HTMLElement&&u.classList.contains(t)||(c=n.current)===null||c===void 0||c.call(n,l))},[t]);return j.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),r},Ox=function(e){var t=e.children,r=e.onClickOutside,n=e.className,i=e.containerRef,l=e.style,c=e.ignoreClass,u=Gae(r,c);return he.createElement("div",{className:n,style:l,ref:function(f){u.current=f,i&&(i.current=f)}},t)},zm=null,J5=!1;function xI(){if(J5)return zm;J5=!0;try{var e="date-fns-tz";zm=require(e)}catch{zm=null}return zm}function eE(e,t){if(!t)return e;var r=xI();return r?r.toZonedTime(e,t):e}function _i(e,t){if(!t)return e;var r=xI();return r?r.fromZonedTime(e,t):e}var Oe;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Oe||(Oe={}));function vI(){var e=typeof window<"u"?window:globalThis;return e}var Jd=12;function yt(e){if(e==null)return new Date;var t=typeof e=="string"?dne(e):Ye(e);return xn(t)?t:new Date}function Nl(e,t,r,n,i){i===void 0&&(i=yt());for(var l=wc(r)||wc(Cj()),c=Array.isArray(t)?t:[t],u=0,f=c;u<f.length;u++){var m=f[u],h=ine(e,m,i,{locale:l});if(xn(h)&&(!n||e===Gt(h,m,r)))return h}if(!n&&e&&e.length>=8){var x=new Date(e);if(vc(x))return x}return null}function Wae(e,t){if(t===void 0&&(t=yt()),!e)return null;var r=e.match(/\b(1\d{3}|2\d{3})\b/);if(!r||!r[1])return null;var n=parseInt(r[1],10),i=e.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),l=i&&i[1]?parseInt(i[1],10)-1:t.getMonth();return new Date(n,l,1)}function xn(e){return vc(e)}function Ll(e){return e==null?null:ti(e)&&vc(e)?e:null}function Gt(e,t,r){if(r==="en")return z5(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?wc(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||wc(Cj()),z5(e,t,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function hn(e,t){var r=t.dateFormat,n=t.locale,i=Array.isArray(r)&&r.length>0?r[0]:r;return e&&Gt(e,i,n)||""}var gI=" - ";function Kae(e,t,r){if(!e&&!t)return"";var n=e?hn(e,r):"",i=t?hn(t,r):"",l=r.rangeSeparator||gI;return"".concat(n).concat(l).concat(i)}function Qae(e,t){if(!e?.length)return"";var r=e[0]?hn(e[0],t):"";if(e.length===1)return r;if(e.length===2&&e[1]){var n=hn(e[1],t);return"".concat(r,", ").concat(n)}var i=e.length-1;return"".concat(r," (+").concat(i,")")}function Oi(e,t){var r=t.hour,n=r===void 0?0:r,i=t.minute,l=i===void 0?0:i,c=t.second,u=c===void 0?0:c;return xp(vp(gp(e,u),l),n)}function Xae(e){return xj(e)}function Zae(e,t){return Gt(e,"ddd",t)}function nd(e){return Zl(e)}function Bs(e,t,r){var n=wc(t||Cj());return Qi(e,{locale:n,weekStartsOn:r})}function Bi(e){return W4(e)}function ad(e){return Ax(e)}function tE(e){return Jy(e)}function rE(){return Zl(yt())}function nE(e){return V4(e)}function Jae(e){return dte(e)}function eie(e){return G4(e)}function Ya(e,t){return e&&t?cne(e,t):!e&&!t}function rn(e,t){return e&&t?lne(e,t):!e&&!t}function Eh(e,t){return e&&t?one(e,t):!e&&!t}function gt(e,t){return e&&t?cte(e,t):!e&&!t}function Fl(e,t){return e&&t?ure(e,t):!e&&!t}function El(e,t,r){var n,i=Zl(t),l=V4(r);try{n=Ad(e,{start:i,end:l})}catch{n=!1}return n}function Cj(){var e=vI();return e.__localeId__}function wc(e){if(typeof e=="string"){var t=vI();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function tie(e,t,r){return t(Gt(e,"EEEE",r))}function rie(e,t){return Gt(e,"EEEEEE",t)}function nie(e,t){return Gt(e,"EEE",t)}function Aj(e,t){return Gt(On(yt(),e),"LLLL",t)}function bI(e,t){return Gt(On(yt(),e),"LLL",t)}function aie(e,t){return Gt(Xo(yt(),e),"QQQ",t)}function ta(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,l=r.excludeDates,c=r.excludeDateIntervals,u=r.includeDates,f=r.includeDateIntervals,m=r.filterDate,h=r.disabled;return h?!0:ef(e,{minDate:n,maxDate:i})||l&&l.some(function(x){return x instanceof Date?gt(e,x):gt(e,x.date)})||c&&c.some(function(x){var v=x.start,g=x.end;return Ad(e,{start:v,end:g})})||u&&!u.some(function(x){return gt(e,x)})||f&&!f.some(function(x){var v=x.start,g=x.end;return Ad(e,{start:v,end:g})})||m&&!m(yt(e))||!1}function kj(e,t){var r=t===void 0?{}:t,n=r.excludeDates,i=r.excludeDateIntervals;return i&&i.length>0?i.some(function(l){var c=l.start,u=l.end;return Ad(e,{start:c,end:u})}):n&&n.some(function(l){var c;return l instanceof Date?gt(e,l):gt(e,(c=l.date)!==null&&c!==void 0?c:new Date)})||!1}function yI(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,l=r.excludeDates,c=r.includeDates,u=r.filterDate;return ef(e,{minDate:n?W4(n):void 0,maxDate:i?G4(i):void 0})||l?.some(function(f){return rn(e,f instanceof Date?f:f.date)})||c&&!c.some(function(f){return rn(e,f)})||u&&!u(yt(e))||!1}function Bm(e,t,r,n){var i=pt(e),l=vn(e),c=pt(t),u=vn(t),f=pt(n);return i===c&&i===f?l<=r&&r<=u:i<c?f===i&&l<=r||f===c&&u>=r||f<c&&f>i:!1}function iie(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,l=r.excludeDates,c=r.includeDates;return ef(e,{minDate:n,maxDate:i})||l&&l.some(function(u){return rn(u instanceof Date?u:u.date,e)})||c&&!c.some(function(u){return rn(u,e)})||!1}function $m(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,l=r.excludeDates,c=r.includeDates,u=r.filterDate,f=r.disabled;return f?!0:ef(e,{minDate:n,maxDate:i})||l?.some(function(m){return Eh(e,m instanceof Date?m:m.date)})||c&&!c.some(function(m){return Eh(e,m)})||u&&!u(yt(e))||!1}function qm(e,t,r){if(!t||!r||!vc(t)||!vc(r))return!1;var n=pt(t),i=pt(r);return n<=e&&i>=e}function yp(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,l=r.excludeDates,c=r.includeDates,u=r.filterDate,f=r.disabled;if(f)return!0;var m=new Date(e,0,1);return ef(m,{minDate:n?Ax(n):void 0,maxDate:i?K4(i):void 0})||l?.some(function(h){return Ya(m,h instanceof Date?h:h.date)})||c&&!c.some(function(h){return Ya(m,h)})||u&&!u(yt(m))||!1}function Hm(e,t,r,n){var i=pt(e),l=Rs(e),c=pt(t),u=Rs(t),f=pt(n);return i===c&&i===f?l<=r&&r<=u:i<c?f===i&&l<=r||f===c&&u>=r||f<c&&f>i:!1}function ef(e,t){var r,n=t===void 0?{}:t,i=n.minDate,l=n.maxDate;return(r=i&&xc(e,i)<0||l&&xc(e,l)>0)!==null&&r!==void 0?r:!1}function aE(e,t){return t.some(function(r){return Zr(r)===Zr(e)&&Jr(r)===Jr(e)&&zs(r)===zs(e)})}function iE(e,t){var r=t===void 0?{}:t,n=r.excludeTimes,i=r.includeTimes,l=r.filterTime;return n&&aE(e,n)||i&&!aE(e,i)||l&&!l(e)||!1}function sE(e,t){var r=t.minTime,n=t.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var i=yt();i=xp(i,Zr(e)),i=vp(i,Jr(e)),i=gp(i,zs(e));var l=yt();l=xp(l,Zr(r)),l=vp(l,Jr(r)),l=gp(l,zs(r));var c=yt();c=xp(c,Zr(n)),c=vp(c,Jr(n)),c=gp(c,zs(n));var u;try{u=!Ad(i,{start:l,end:c})}catch{u=!1}return u}function lE(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.includeDates,l=ql(e,1);return n&&wh(n,l)>0||i&&i.every(function(c){return wh(c,l)>0})||!1}function oE(e,t){var r=t===void 0?{}:t,n=r.maxDate,i=r.includeDates,l=Aa(e,1);return n&&wh(l,n)>0||i&&i.every(function(c){return wh(l,c)>0})||!1}function sie(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.includeDates,l=Ax(e),c=aI(l);return n&&jh(n,c)>0||i&&i.every(function(u){return jh(u,c)>0})||!1}function lie(e,t){var r=t===void 0?{}:t,n=r.maxDate,i=r.includeDates,l=K4(e),c=hj(l,1);return n&&jh(c,n)>0||i&&i.every(function(u){return jh(c,u)>0})||!1}function cE(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.includeDates,l=Ys(e,1);return n&&Nh(n,l)>0||i&&i.every(function(c){return Nh(c,l)>0})||!1}function oie(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.yearItemNumber,l=i===void 0?Jd:i,c=ad(Ys(e,l)),u=Ri(c,l).endPeriod,f=n&&pt(n);return f&&f>u||!1}function uE(e,t){var r=t===void 0?{}:t,n=r.maxDate,i=r.includeDates,l=ja(e,1);return n&&Nh(l,n)>0||i&&i.every(function(c){return Nh(l,c)>0})||!1}function cie(e,t){var r=t===void 0?{}:t,n=r.maxDate,i=r.yearItemNumber,l=i===void 0?Jd:i,c=ja(e,l),u=Ri(c,l).startPeriod,f=n&&pt(n);return f&&f<u||!1}function wI(e){var t=e.minDate,r=e.includeDates;if(r&&t){var n=r.filter(function(i){return xc(i,t)>=0});return T5(n)}else return r?T5(r):t}function jI(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var n=r.filter(function(i){return xc(i,t)<=0});return O5(n)}else return r?O5(r):t}function dE(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var n=new Map,i=0,l=e.length;i<l;i++){var c=e[i];if(ti(c)){var u=Gt(c,"MM.dd.yyyy"),f=n.get(u)||[];f.includes(t)||(f.push(t),n.set(u,f))}else if(typeof c=="object"){var m=Object.keys(c),h=(r=m[0])!==null&&r!==void 0?r:"",x=c[h];if(typeof h=="string"&&Array.isArray(x))for(var v=0,g=x.length;v<g;v++){var S=x[v];if(S){var u=Gt(S,"MM.dd.yyyy"),f=n.get(u)||[];f.includes(h)||(f.push(h),n.set(u,f))}}}}return n}function uie(e,t){return e.length!==t.length?!1:e.every(function(r,n){return r===t[n]})}function die(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var r=new Map;return e.forEach(function(n){var i=n.date,l=n.holidayName;if(ti(i)){var c=Gt(i,"MM.dd.yyyy"),u=r.get(c)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===t&&uie(u.holidayNames,[l]))){u.className=t;var f=u.holidayNames;u.holidayNames=f?Za(Za([],f,!0),[l],!1):[l],r.set(c,u)}}}),r}function fie(e,t,r,n,i){for(var l=i.length,c=[],u=0;u<l;u++){var f=e,m=i[u];m&&(f=ite(f,Zr(m)),f=Cd(f,Jr(m)),f=ote(f,zs(m)));var h=Cd(e,(r+1)*n);zi(f,t)&&Xa(f,h)&&m!=null&&c.push(m)}return c}function Yo(e){return e<10?"0".concat(e):"".concat(e)}function Ri(e,t){t===void 0&&(t=Jd);var r=Math.ceil(pt(e)/t)*t,n=r-(t-1);return{startPeriod:n,endPeriod:r}}function mie(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}function fE(e){var t=e.getSeconds(),r=e.getMilliseconds();return Ye(e.getTime()-t*1e3-r)}function NI(e,t){return fE(e).getTime()===fE(t).getTime()}function mE(e){if(!ti(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function Rb(e,t){if(!ti(e)||!ti(t))throw new Error("Invalid date received");var r=mE(e),n=mE(t);return Xa(r,n)}function SI(e){return e.key===Oe.Space}var Lb=(function(e){Wr(t,e);function t(r){var n=e.call(this,r)||this;return n.inputRef=he.createRef(),n.onTimeChange=function(i){var l,c;n.setState({time:i});var u=n.props.date,f=u instanceof Date&&!isNaN(+u),m=f?u:new Date;if(i?.includes(":")){var h=i.split(":"),x=h[0],v=h[1];m.setHours(Number(x)),m.setMinutes(Number(v))}(c=(l=n.props).onChange)===null||c===void 0||c.call(l,m)},n.renderTimeInput=function(){var i=n.state.time,l=n.props,c=l.date,u=l.timeString,f=l.customTimeInput;return f?j.cloneElement(f,{date:c,value:i,onChange:n.onTimeChange}):he.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var m;(m=n.inputRef.current)===null||m===void 0||m.focus()},required:!0,value:i,onChange:function(m){n.onTimeChange(m.target.value||u)}})},n.state={time:n.props.timeString},n}return t.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},t.prototype.render=function(){return he.createElement("div",{className:"react-datepicker__input-time-container"},he.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),he.createElement("div",{className:"react-datepicker-time__input-container"},he.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t})(j.Component),pie=(function(e){Wr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.dayEl=j.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var i,l,c=n.key;c===Oe.Space&&(n.preventDefault(),n.key=Oe.Enter),(l=(i=r.props).handleOnKeyDown)===null||l===void 0||l.call(i,n)},r.isSameDay=function(n){return gt(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var i=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(c){return r.isSameDayOrWeek(c)}):r.isSameDayOrWeek(r.props.selected),l=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!i&&r.isSameDayOrWeek(r.props.preSelection)&&!l},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),ta(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(){return kj(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return gt(r.props.day,Bs(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&gt(n,Bs(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,i=n.day,l=n.highlightDates;if(!l)return!1;var c=Gt(i,"MM.dd.yyyy");return l.get(c)},r.getHolidaysClass=function(){var n,i=r.props,l=i.day,c=i.holidays;if(!c)return[void 0];var u=Gt(l,"MM.dd.yyyy");return c.has(u)?[(n=c.get(u))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,i=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:El(i,l,c)},r.isInSelectingRange=function(){var n,i=r.props,l=i.day,c=i.selectsStart,u=i.selectsEnd,f=i.selectsRange,m=i.selectsDisabledDaysInRange,h=i.startDate,x=i.swapRange,v=i.endDate,g=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;if(r.isAfterMonth()||r.isBeforeMonth()||!(c||u||f)||!g||!m&&r.isDisabled())return!1;if(c&&v&&(Xa(g,v)||Fl(g,v)))return El(l,g,v);if(u&&h&&(zi(g,h)||Fl(g,h)))return El(l,h,g);if(f&&h&&!v){if(Fl(g,h)||zi(g,h))return El(l,h,g);if(x&&Xa(g,h))return El(l,g,h)}return!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var i=r.props,l=i.day,c=i.startDate,u=i.selectsStart,f=i.swapRange,m=i.selectsRange,h=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return u?gt(l,h):m&&f&&c&&h?gt(l,Xa(h,c)?h:c):gt(l,c)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var i=r.props,l=i.day,c=i.endDate,u=i.selectsEnd,f=i.selectsRange,m=i.swapRange,h=i.startDate,x=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return u?gt(l,x):f&&m&&h&&x?gt(l,Xa(x,h)?h:x):f?gt(l,x):gt(l,c)},r.isRangeStart=function(){var n=r.props,i=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:gt(l,i)},r.isRangeEnd=function(){var n=r.props,i=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:gt(c,i)},r.isWeekend=function(){var n=sre(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===vn(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(vn(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(yt())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return r.isSameDayOrWeek(i)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var i=r.props.dayClassName?r.props.dayClassName(n):void 0;return ut("react-datepicker__day",i,"react-datepicker__day--"+Zae(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,i=n.day,l=n.ariaLabelPrefixWhenEnabled,c=l===void 0?"Choose":l,u=n.ariaLabelPrefixWhenDisabled,f=u===void 0?"Not available":u,m=r.isDisabled()||r.isExcluded()?f:c;return"".concat(m," ").concat(Gt(i,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,i=n.day,l=n.holidays,c=l===void 0?new Map:l,u=n.excludeDates,f=Gt(i,"MM.dd.yyyy"),m=[];return c.has(f)&&m.push.apply(m,c.get(f).holidayNames),r.isExcluded()&&m.push(u?.filter(function(h){return h instanceof Date?gt(h,i):gt(h?.date,i)}).map(function(h){if(!(h instanceof Date))return h?.message})),m.join(", ")},r.getTabIndex=function(){var n=r.props.selected,i=r.props.preSelection,l=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&gt(i,n))?0:-1;return l},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(B5(r.props.day),r.props.day):B5(r.props.day)},r.render=function(){return he.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&he.createElement("span",{className:"overlay"},r.getTitle()))},r}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},t.prototype.isDayActiveElement=function(){var r,n,i;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t})(j.Component),hie=(function(e){Wr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.weekNumberEl=j.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var i,l,c=n.key;c===Oe.Space&&(n.preventDefault(),n.key=Oe.Enter),(l=(i=r.props).handleOnKeyDown)===null||l===void 0||l.call(i,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!gt(r.props.date,r.props.selected)&&gt(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||gt(r.props.date,r.props.selected)&&gt(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var i=!1;r.getTabIndex()===0&&!n?.isInputFocused&&gt(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(i=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},t.prototype.render=function(){var r=this.props,n=r.weekNumber,i=r.isWeekDisabled,l=r.ariaLabelPrefix,c=l===void 0?t.defaultProps.ariaLabelPrefix:l,u=r.onClick,f={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!i,"react-datepicker__week-number--selected":!!u&&gt(this.props.date,this.props.selected)};return he.createElement("div",{ref:this.weekNumberEl,className:ut(f),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},t})(j.Component),xie=(function(e){Wr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isDisabled=function(n){return ta(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,i){r.props.onDayClick&&r.props.onDayClick(n,i)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,i,l){for(var c,u,f,m=new Date(n),h=0;h<7;h++){var x=new Date(n);x.setDate(x.getDate()+h);var v=!r.isDisabled(x);if(v){m=x;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(m,i,l),r.props.showWeekPicker&&r.handleDayClick(m,l),((c=r.props.shouldCloseOnSelect)!==null&&c!==void 0?c:t.defaultProps.shouldCloseOnSelect)&&((f=(u=r.props).setOpen)===null||f===void 0||f.call(u,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):Xae(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),i=wa(n,6),l=new Date(n);l<=i;){if(!r.isDisabled(l))return!1;l=wa(l,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),i=[],l=r.formatWeekNumber(n);if(r.props.showWeekNumber){var c=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,l):void 0;i.push(he.createElement(hie,ct({key:"W"},t.defaultProps,r.props,{weekNumber:l,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:c})))}return i.concat([0,1,2,3,4,5,6].map(function(u){var f=wa(n,u);return he.createElement(pie,ct({},t.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,onClick:r.handleDayClick.bind(r,f),onMouseEnter:r.handleDayMouseEnter.bind(r,f)}))}))},r.startOfWeek=function(){return Bs(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!gt(r.startOfWeek(),r.props.selected)&&gt(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":gt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return he.createElement("div",{className:ut(r,n),role:"row"},this.renderDays())},t})(j.Component),Ku,vie=6,sc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Fb=(Ku={},Ku[sc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Ku[sc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Ku[sc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Ku),Um=1;function pE(e,t){return e?sc.FOUR_COLUMNS:t?sc.TWO_COLUMNS:sc.THREE_COLUMNS}var gie=(function(e){Wr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.MONTH_REFS=Za([],Array(12),!0).map(function(){return j.createRef()}),r.QUARTER_REFS=Za([],Array(4),!0).map(function(){return j.createRef()}),r.isDisabled=function(n){return ta(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(n){return kj(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,i){var l,c;(c=(l=r.props).onDayClick)===null||c===void 0||c.call(l,n,i,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var i,l;(l=(i=r.props).onDayMouseEnter)===null||l===void 0||l.call(i,n)},r.handleMouseLeave=function(){var n,i;(i=(n=r.props).onMouseLeave)===null||i===void 0||i.call(n)},r.isRangeStartMonth=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate;return!c||!u?!1:rn(On(l,n),c)},r.isRangeStartQuarter=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate;return!c||!u?!1:Eh(Xo(l,n),c)},r.isRangeEndMonth=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate;return!c||!u?!1:rn(On(l,n),u)},r.isRangeEndQuarter=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate;return!c||!u?!1:Eh(Xo(l,n),u)},r.isInSelectingRangeMonth=function(n){var i,l=r.props,c=l.day,u=l.selectsStart,f=l.selectsEnd,m=l.selectsRange,h=l.startDate,x=l.endDate,v=(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection;return!(u||f||m)||!v?!1:u&&x?Bm(v,x,n,c):f&&h||m&&h&&!x?Bm(h,v,n,c):!1},r.isSelectingMonthRangeStart=function(n){var i;if(!r.isInSelectingRangeMonth(n))return!1;var l=r.props,c=l.day,u=l.startDate,f=l.selectsStart,m=On(c,n),h=(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection;return f?rn(m,h):rn(m,u)},r.isSelectingMonthRangeEnd=function(n){var i;if(!r.isInSelectingRangeMonth(n))return!1;var l=r.props,c=l.day,u=l.endDate,f=l.selectsEnd,m=l.selectsRange,h=On(c,n),x=(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection;return f||m?rn(h,x):rn(h,u)},r.isInSelectingRangeQuarter=function(n){var i,l=r.props,c=l.day,u=l.selectsStart,f=l.selectsEnd,m=l.selectsRange,h=l.startDate,x=l.endDate,v=(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection;return!(u||f||m)||!v?!1:u&&x?Hm(v,x,n,c):f&&h||m&&h&&!x?Hm(h,v,n,c):!1},r.isWeekInMonth=function(n){var i=r.props.day,l=wa(n,6);return rn(n,i)||rn(l,i)},r.isCurrentMonth=function(n,i){return pt(n)===pt(yt())&&i===vn(yt())},r.isCurrentQuarter=function(n,i){return pt(n)===pt(yt())&&i===Rs(yt())},r.isSelectedMonth=function(n,i,l){return vn(l)===i&&pt(n)===pt(l)},r.isSelectMonthInList=function(n,i,l){return l.some(function(c){return r.isSelectedMonth(n,i,c)})},r.isSelectedQuarter=function(n,i,l){return Rs(l)===i&&pt(n)===pt(l)},r.isSelectQuarterInList=function(n,i,l){return l.some(function(c){return r.isSelectedQuarter(n,i,c)})},r.isMonthSelected=function(){var n=r.props,i=n.day,l=n.selected,c=n.selectedDates,u=n.selectsMultiple,f=vn(i);return u?c?.some(function(m){return r.isSelectedMonth(i,f,m)}):!!l&&r.isSelectedMonth(i,f,l)},r.isQuarterSelected=function(){var n=r.props,i=n.day,l=n.selected,c=n.selectedDates,u=n.selectsMultiple,f=Rs(i);return u?c?.some(function(m){return r.isSelectedQuarter(i,f,m)}):!!l&&r.isSelectedQuarter(i,f,l)},r.renderWeeks=function(){if(!xn(r.props.day))return[];for(var n=[],i=r.props.fixedHeight,l=0,c=!1,u=Bs(Bi(r.props.day),r.props.locale,r.props.calendarStartDay),f=function(S){return r.props.showWeekPicker?Bs(S,r.props.locale,r.props.calendarStartDay):r.props.preSelection},m=function(S){return r.props.showWeekPicker?Bs(S,r.props.locale,r.props.calendarStartDay):r.props.selected},h=r.props.selected?m(r.props.selected):void 0,x=r.props.preSelection?f(r.props.preSelection):void 0;n.push(he.createElement(xie,ct({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:l,day:u,month:vn(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:h,preSelection:x,showWeekNumber:r.props.showWeekNumbers}))),!c;){l++,u=yh(u,1);var v=i&&l>=vie,g=!i&&!r.isWeekInMonth(u);if(v||g)if(r.props.peekNextMonth)c=!0;else break}return n},r.onMonthClick=function(n,i){var l=r.isMonthDisabledForLabelDate(i),c=l.isDisabled,u=l.labelDate;c||r.handleDayClick(Bi(u),n)},r.onMonthMouseEnter=function(n){var i=r.isMonthDisabledForLabelDate(n),l=i.isDisabled,c=i.labelDate;l||r.handleDayMouseEnter(Bi(c))},r.handleMonthNavigation=function(n,i){var l,c,u,f;(c=(l=r.props).setPreSelection)===null||c===void 0||c.call(l,i),(f=(u=r.MONTH_REFS[n])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus()},r.handleKeyboardNavigation=function(n,i,l){var c,u=r.props,f=u.selected,m=u.preSelection,h=u.setPreSelection,x=u.minDate,v=u.maxDate,g=u.showFourColumnMonthYearPicker,S=u.showTwoColumnMonthYearPicker;if(m){var y=pE(g,S),w=r.getVerticalOffset(y),C=(c=Fb[y])===null||c===void 0?void 0:c.grid,k=function(P,O,z){var L,$,E=O,J=z;switch(P){case Oe.ArrowRight:E=Aa(O,Um),J=z===11?0:z+Um;break;case Oe.ArrowLeft:E=ql(O,Um),J=z===0?11:z-Um;break;case Oe.ArrowUp:E=ql(O,w),J=!((L=C?.[0])===null||L===void 0)&&L.includes(z)?z+12-w:z-w;break;case Oe.ArrowDown:E=Aa(O,w),J=!(($=C?.[C.length-1])===null||$===void 0)&&$.includes(z)?z-12+w:z+w;break}return{newCalculatedDate:E,newCalculatedMonth:J}},A=function(P,O,z){for(var L=40,$=P,E=!1,J=0,Z=k($,O,z),te=Z.newCalculatedDate,R=Z.newCalculatedMonth;!E;){if(J>=L){te=O,R=z;break}if(x&&te<x){$=Oe.ArrowRight;var F=k($,te,R);te=F.newCalculatedDate,R=F.newCalculatedMonth}if(v&&te>v){$=Oe.ArrowLeft;var F=k($,te,R);te=F.newCalculatedDate,R=F.newCalculatedMonth}if(iie(te,r.props)){var F=k($,te,R);te=F.newCalculatedDate,R=F.newCalculatedMonth}else E=!0;J++}return{newCalculatedDate:te,newCalculatedMonth:R}};if(i===Oe.Enter){r.isMonthDisabled(l)||(r.onMonthClick(n,l),h?.(f));return}var M=A(i,m,l),D=M.newCalculatedDate,T=M.newCalculatedMonth;switch(i){case Oe.ArrowRight:case Oe.ArrowLeft:case Oe.ArrowUp:case Oe.ArrowDown:r.handleMonthNavigation(T,D);break}}},r.getVerticalOffset=function(n){var i,l;return(l=(i=Fb[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&l!==void 0?l:0},r.onMonthKeyDown=function(n,i){var l=r.props,c=l.disabledKeyboardNavigation,u=l.handleOnMonthKeyDown,f=n.key;f!==Oe.Tab&&n.preventDefault(),c||r.handleKeyboardNavigation(n,f,i),u&&u(n)},r.onQuarterClick=function(n,i){var l=Xo(r.props.day,i);$m(l,r.props)||r.handleDayClick(tE(l),n)},r.onQuarterMouseEnter=function(n){var i=Xo(r.props.day,n);$m(i,r.props)||r.handleDayMouseEnter(tE(i))},r.handleQuarterNavigation=function(n,i){var l,c,u,f;r.isDisabled(i)||r.isExcluded(i)||((c=(l=r.props).setPreSelection)===null||c===void 0||c.call(l,i),(f=(u=r.QUARTER_REFS[n-1])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus())},r.onQuarterKeyDown=function(n,i){var l,c,u=n.key;if(!r.props.disabledKeyboardNavigation)switch(u){case Oe.Enter:r.onQuarterClick(n,i),(c=(l=r.props).setPreSelection)===null||c===void 0||c.call(l,r.props.selected);break;case Oe.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(i===4?1:i+1,hj(r.props.preSelection,1));break;case Oe.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(i===1?4:i-1,aI(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(n){var i,l=r.props,c=l.day,u=l.disabled,f=l.minDate,m=l.maxDate,h=l.excludeDates,x=l.includeDates,v=On(c,n);return u?{isDisabled:!0,labelDate:On(c,n)}:{isDisabled:(i=(f||m||h||x)&&yI(v,r.props))!==null&&i!==void 0?i:!1,labelDate:v}},r.isMonthDisabled=function(n){var i=r.isMonthDisabledForLabelDate(n).isDisabled;return i},r.getMonthClassNames=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate,f=i.preSelection,m=i.monthClassName,h=m?m(On(l,n)):void 0,x=r.getSelection();return ut("react-datepicker__month-text","react-datepicker__month-".concat(n),h,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":x?r.isSelectMonthInList(l,n,x):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&f&&r.isSelectedMonth(l,n,f)&&!r.isMonthSelected()&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":c&&u?Bm(c,u,n,l):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(l,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var i=vn(r.props.preSelection),l=r.isMonthDisabledForLabelDate(i).isDisabled,c=n===i&&!(l||r.props.disabledKeyboardNavigation)?"0":"-1";return c},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var i=Rs(r.props.preSelection),l=$m(r.props.day,r.props),c=n===i&&!(l||r.props.disabledKeyboardNavigation)?"0":"-1";return c},r.getAriaLabel=function(n){var i=r.props,l=i.chooseDayAriaLabelPrefix,c=l===void 0?"Choose":l,u=i.disabledDayAriaLabelPrefix,f=u===void 0?"Not available":u,m=i.day,h=i.locale,x=On(m,n),v=r.isDisabled(x)||r.isExcluded(x)?f:c;return"".concat(v," ").concat(Gt(x,"MMMM yyyy",h))},r.getQuarterClassNames=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate,f=i.minDate,m=i.maxDate,h=i.excludeDates,x=i.includeDates,v=i.filterDate,g=i.preSelection,S=i.disabledKeyboardNavigation,y=i.disabled,w=(f||m||h||x||v||y)&&$m(Xo(l,n),r.props),C=r.getSelection();return ut("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":w,"react-datepicker__quarter-text--selected":C?r.isSelectQuarterInList(l,n,C):void 0,"react-datepicker__quarter-text--keyboard-selected":!S&&g&&r.isSelectedQuarter(l,n,g)&&!r.isQuarterSelected()&&!w,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":c&&u?Hm(c,u,n,l):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(l,n)})},r.getMonthContent=function(n){var i=r.props,l=i.showFullMonthYearPicker,c=i.renderMonthContent,u=i.locale,f=i.day,m=bI(n,u),h=Aj(n,u);return c?c(n,m,h,f):l?h:m},r.getQuarterContent=function(n){var i,l=r.props,c=l.renderQuarterContent,u=l.locale,f=aie(n,u);return(i=c?.(n,f))!==null&&i!==void 0?i:f},r.renderMonths=function(){var n,i=r.props,l=i.showTwoColumnMonthYearPicker,c=i.showFourColumnMonthYearPicker,u=i.day,f=i.selected,m=(n=Fb[pE(c,l)])===null||n===void 0?void 0:n.grid;return m?.map(function(h,x){return he.createElement("div",{className:"react-datepicker__month-wrapper",key:x},h.map(function(v,g){return he.createElement("div",{ref:r.MONTH_REFS[v],key:g,onClick:function(S){r.onMonthClick(S,v)},onKeyDown:function(S){SI(S)&&(S.preventDefault(),S.key=Oe.Enter),r.onMonthKeyDown(S,v)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(v)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(v)}:void 0,tabIndex:Number(r.getTabIndex(v)),className:r.getMonthClassNames(v),"aria-disabled":r.isMonthDisabled(v),role:"option","aria-label":r.getAriaLabel(v),"aria-current":r.isCurrentMonth(u,v)?"date":void 0,"aria-selected":f?r.isSelectedMonth(u,v,f):void 0},r.getMonthContent(v))}))})},r.renderQuarters=function(){var n=r.props,i=n.day,l=n.selected,c=[1,2,3,4];return he.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(u,f){return he.createElement("div",{key:f,ref:r.QUARTER_REFS[f],role:"option",onClick:function(m){r.onQuarterClick(m,u)},onKeyDown:function(m){r.onQuarterKeyDown(m,u)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(u)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(u)}:void 0,className:r.getQuarterClassNames(u),"aria-selected":l?r.isSelectedQuarter(i,u,l):void 0,tabIndex:Number(r.getQuarterTabIndex(u)),"aria-current":r.isCurrentQuarter(i,u)?"date":void 0},r.getQuarterContent(u))}))},r.getClassNames=function(){var n=r.props,i=n.selectingDate,l=n.selectsStart,c=n.selectsEnd,u=n.showMonthYearPicker,f=n.showQuarterYearPicker,m=n.showWeekPicker;return ut("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(l||c)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":m})},r}return t.prototype.getSelection=function(){var r=this.props,n=r.selected,i=r.selectedDates,l=r.selectsMultiple;if(l)return i;if(n)return[n]},t.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,i=r.showQuarterYearPicker,l=r.day,c=r.ariaLabelPrefix,u=c===void 0?"Month ":c,f=u?u.trim()+" ":"",m=xn(l)?"".concat(f).concat(Gt(l,"MMMM, yyyy",this.props.locale)):"",h=n||i;return h?he.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":m,role:"listbox"},n?this.renderMonths():this.renderQuarters()):he.createElement("div",{role:"table"},this.props.dayNamesHeader&&he.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&he.createElement("div",{role:"rowgroup"},this.props.monthHeader),he.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":m,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&he.createElement("div",{role:"rowgroup"},this.props.monthFooter))},t})(j.Component),bie=(function(e){Wr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(n){return r.props.month===n},r.handleOptionKeyDown=function(n,i){var l;switch(i.key){case"Enter":i.preventDefault(),r.onChange(n);break;case"Escape":i.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{i.preventDefault();var c=(n+(i.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(l=r.monthOptionButtonsRef[c])===null||l===void 0||l.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(n,i){return he.createElement("div",{ref:function(l){r.monthOptionButtonsRef[i]=l,r.isSelectedMonth(i)&&l?.focus()},role:"button",tabIndex:0,className:r.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,i),onKeyDown:r.handleOptionKeyDown.bind(r,i),"aria-selected":r.isSelectedMonth(i)?"true":void 0},r.isSelectedMonth(i)?he.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return t.prototype.render=function(){return he.createElement(Ox,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),yie=(function(e){Wr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(i,l){return he.createElement("option",{key:i,value:l},i)})},r.renderSelectMode=function(n){return he.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(i){return r.onChange(parseInt(i.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,i){return he.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},he.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),he.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[r.props.month]))},r.renderDropdown=function(n){return he.createElement(bie,ct({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var i=r.state.dropdownVisible,l=[r.renderReadView(!i,n)];return i&&l.unshift(r.renderDropdown(n)),l},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(l){return bI(l,r.props.locale)}:function(l){return Aj(l,r.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return he.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},t})(j.Component),hE=5;function wie(e,t,r){for(var n=[],i=e??Ys(r,hE),l=t??ja(r,hE),c=Bi(i),u=Bi(l);!zi(c,u);)n.push(yt(c)),c=Aa(c,1);return n}var jie=(function(e){Wr(t,e);function t(r){var n=e.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var l=t1(i),c=Ya(n.props.date,i)&&rn(n.props.date,i);return he.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:l,onClick:n.onChange.bind(n,l),"aria-selected":c?"true":void 0},c?he.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Gt(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:wie(n.props.minDate,n.props.maxDate,n.props.date)},n}return t.prototype.render=function(){var r=ut({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return he.createElement(Ox,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),xE=5,Nie=(function(e){Wr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n,i,l=(n=r.props.minDate)!==null&&n!==void 0?n:Ys(r.props.date,xE),c=(i=r.props.maxDate)!==null&&i!==void 0?i:ja(r.props.date,xE),u=Bi(l),f=Bi(c),m=[];!zi(u,f);){var h=t1(u);m.push(he.createElement("option",{key:h,value:h},Gt(u,r.props.dateFormat,r.props.locale))),u=Aa(u,1)}return m},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return he.createElement("select",{value:t1(Bi(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var i=Gt(r.props.date,r.props.dateFormat,r.props.locale);return he.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},he.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),he.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},r.renderDropdown=function(){return he.createElement(jie,ct({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,i=[r.renderReadView(!n)];return n&&i.unshift(r.renderDropdown()),i},r.onChange=function(n){r.toggleDropdown();var i=yt(n);Ya(r.props.date,i)&&rn(r.props.date,i)||r.props.onChange(i)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return he.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},t})(j.Component),Sie=(function(e){Wr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,l;r.list&&(r.list.scrollTop=(l=r.centerLi&&t.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((i=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):r.list.clientHeight,r.centerLi))!==null&&l!==void 0?l:0)})},r.handleClick=function(n){var i,l;(r.props.minTime||r.props.maxTime)&&sE(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&iE(n,r.props)||(l=(i=r.props).onChange)===null||l===void 0||l.call(i,n)},r.isSelectedTime=function(n){var i=Ll(r.props.selected);return i&&NI(i,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&sE(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&iE(n,r.props)},r.liClasses=function(n){var i,l=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&l.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&l.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(Zr(n)*3600+Jr(n)*60+zs(n))%(((i=r.props.intervals)!==null&&i!==void 0?i:t.defaultProps.intervals)*60)!==0&&l.push("react-datepicker__time-list-item--injected"),l.join(" ")},r.handleOnKeyDown=function(n,i){var l,c;n.key===Oe.Space&&(n.preventDefault(),n.key=Oe.Enter),(n.key===Oe.ArrowUp||n.key===Oe.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===Oe.ArrowDown||n.key===Oe.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===Oe.Enter&&r.handleClick(i),(c=(l=r.props).handleOnKeyDown)===null||c===void 0||c.call(l,n)},r.renderTimes=function(){for(var n,i=[],l=typeof r.props.format=="string"?r.props.format:"p",c=(n=r.props.intervals)!==null&&n!==void 0?n:t.defaultProps.intervals,u=Ll(r.props.selected)||Ll(r.props.openToDate)||yt(),f=nd(u),m=r.props.injectTimes&&r.props.injectTimes.sort(function(w,C){return w.getTime()-C.getTime()}),h=60*mie(u),x=h/c,v=0;v<x;v++){var g=Cd(f,v*c);if(i.push(g),m){var S=fie(f,g,v,c,m);i=i.concat(S)}}var y=i.reduce(function(w,C){return C.getTime()<=u.getTime()?C:w},i[0]);return i.map(function(w){return he.createElement("li",{key:w.valueOf(),onClick:r.handleClick.bind(r,w),className:r.liClasses(w),ref:function(C){w===y&&(r.centerLi=C)},onKeyDown:function(C){r.handleOnKeyDown(C,w)},tabIndex:w===y?0:-1,role:"option","aria-selected":r.isSelectedTime(w)?"true":void 0,"aria-disabled":r.isDisabledTime(w)?"true":void 0},Gt(w,l,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?he.createElement(he.Fragment,null):he.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},he.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var r=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(n))},t.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var r=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==r&&this.setState({height:r})}},t.prototype.render=function(){var r=this,n,i=this.state.height;return he.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),he.createElement("div",{className:"react-datepicker__time"},he.createElement("div",{className:"react-datepicker__time-box"},he.createElement("ul",{className:"react-datepicker__time-list",ref:function(l){r.list=l},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},t})(j.Component),vE=3,Cie=(function(e){Wr(t,e);function t(r){var n=e.call(this,r)||this;return n.YEAR_REFS=Za([],Array(n.props.yearItemNumber),!0).map(function(){return j.createRef()}),n.isDisabled=function(i){return ta(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return kj(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var l=function(){var c,u;(u=(c=n.YEAR_REFS[i])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(l)},n.handleYearClick=function(i,l){n.props.onDayClick&&n.props.onDayClick(i,l)},n.handleYearNavigation=function(i,l){var c,u,f,m,h=n.props,x=h.date,v=h.yearItemNumber;if(!(x===void 0||v===void 0)){var g=Ri(x,v).startPeriod;n.isDisabled(l)||n.isExcluded(l)||((u=(c=n.props).setPreSelection)===null||u===void 0||u.call(c,l),i-g<0?n.updateFocusOnPaginate(v-(g-i)):i-g>=v?n.updateFocusOnPaginate(Math.abs(v-(i-g))):(m=(f=n.YEAR_REFS[i-g])===null||f===void 0?void 0:f.current)===null||m===void 0||m.focus())}},n.isSameDay=function(i,l){return gt(i,l)},n.isCurrentYear=function(i){return i===pt(yt())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&Ya(Ua(yt(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&Ya(Ua(yt(),i),n.props.endDate)},n.isInRange=function(i){return qm(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var l=n.props,c=l.selectsStart,u=l.selectsEnd,f=l.selectsRange,m=l.startDate,h=l.endDate;return!(c||u||f)||!n.selectingDate()?!1:c&&h?qm(i,n.selectingDate(),h):u&&m||f&&m&&!h?qm(i,m,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var l;if(!n.isInSelectingRange(i))return!1;var c=n.props,u=c.startDate,f=c.selectsStart,m=Ua(yt(),i);return f?Ya(m,(l=n.selectingDate())!==null&&l!==void 0?l:null):Ya(m,u??null)},n.isSelectingRangeEnd=function(i){var l;if(!n.isInSelectingRange(i))return!1;var c=n.props,u=c.endDate,f=c.selectsEnd,m=c.selectsRange,h=Ua(yt(),i);return f||m?Ya(h,(l=n.selectingDate())!==null&&l!==void 0?l:null):Ya(h,u??null)},n.isKeyboardSelected=function(i){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var l=n.props,c=l.minDate,u=l.maxDate,f=l.excludeDates,m=l.includeDates,h=l.filterDate,x=l.selected,v=ad(Ua(n.props.date,i)),g=(c||u||f||m||h)&&yp(i,n.props),S=!!x&&gt(v,ad(x)),y=gt(v,ad(n.props.preSelection));return!n.props.inline&&!S&&y&&!g}},n.isSelectedYear=function(i){var l=n.props,c=l.selectsMultiple,u=l.selected,f=l.selectedDates;return c?f?.some(function(m){return i===pt(m)}):!!u&&i===pt(u)},n.onYearClick=function(i,l){var c=n.props.date;c!==void 0&&n.handleYearClick(ad(Ua(c,l)),i)},n.onYearKeyDown=function(i,l){var c,u,f=i.key,m=n.props,h=m.date,x=m.yearItemNumber,v=m.handleOnKeyDown;if(f!==Oe.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(f){case Oe.Enter:if(n.props.selected==null)break;n.onYearClick(i,l),(u=(c=n.props).setPreSelection)===null||u===void 0||u.call(c,n.props.selected);break;case Oe.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(l+1,ja(n.props.preSelection,1));break;case Oe.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(l-1,Ys(n.props.preSelection,1));break;case Oe.ArrowUp:{if(h===void 0||x===void 0||n.props.preSelection==null)break;var g=Ri(h,x).startPeriod,S=vE,y=l-S;if(y<g){var w=x%S;l>=g&&l<g+w?S=w:S+=w,y=l-S}n.handleYearNavigation(y,Ys(n.props.preSelection,S));break}case Oe.ArrowDown:{if(h===void 0||x===void 0||n.props.preSelection==null)break;var C=Ri(h,x).endPeriod,S=vE,y=l+S;if(y>C){var w=x%S;l<=C&&l>C-w?S=w:S+=w,y=l+S}n.handleYearNavigation(y,ja(n.props.preSelection,S));break}}v&&v(i)},n.getYearClassNames=function(i){var l=n.props,c=l.date,u=l.disabled,f=l.minDate,m=l.maxDate,h=l.excludeDates,x=l.includeDates,v=l.filterDate,g=l.yearClassName;return ut("react-datepicker__year-text","react-datepicker__year-".concat(i),c?g?.(Ua(c,i)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(i),"react-datepicker__year-text--disabled":(f||m||h||x||v||u)&&yp(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var l=pt(n.props.preSelection),c=yp(i,n.props);return i===l&&!c?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return t.prototype.render=function(){var r=this,n=[],i=this.props,l=i.date,c=i.yearItemNumber,u=i.onYearMouseEnter,f=i.onYearMouseLeave;if(l===void 0)return null;for(var m=Ri(l,c),h=m.startPeriod,x=m.endPeriod,v=function(y){n.push(he.createElement("div",{ref:g.YEAR_REFS[y-h],onClick:function(w){r.onYearClick(w,y)},onKeyDown:function(w){SI(w)&&(w.preventDefault(),w.key=Oe.Enter),r.onYearKeyDown(w,y)},tabIndex:Number(g.getYearTabIndex(y)),className:g.getYearClassNames(y),onMouseEnter:g.props.usePointerEvent?void 0:function(w){return u(w,y)},onPointerEnter:g.props.usePointerEvent?function(w){return u(w,y)}:void 0,onMouseLeave:g.props.usePointerEvent?void 0:function(w){return f(w,y)},onPointerLeave:g.props.usePointerEvent?function(w){return f(w,y)}:void 0,key:y,"aria-current":g.isCurrentYear(y)?"date":void 0},g.getYearContent(y)))},g=this,S=h;S<=x;S++)v(S);return he.createElement("div",{className:"react-datepicker__year"},he.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},t})(j.Component);function Aie(e,t,r,n){for(var i=[],l=0;l<2*t+1;l++){var c=e+t-l,u=!0;r&&(u=pt(r)<=c),n&&u&&(u=pt(n)>=c),u&&i.push(c)}return i}var kie=(function(e){Wr(t,e);function t(r){var n=e.call(this,r)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(u,f){var m;switch(f.key){case"Enter":f.preventDefault(),n.onChange(u);break;case"Escape":f.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{f.preventDefault();var h=u+(f.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[h]&&((m=n.yearOptionButtonsRef[h])===null||m===void 0||m.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var u=n.props.year,f=n.state.yearsList.map(function(x){return he.createElement("div",{ref:function(v){n.yearOptionButtonsRef[x]=v,x===u&&v?.focus()},role:"button",tabIndex:0,className:u===x?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:x,onClick:n.onChange.bind(n,x),onKeyDown:n.handleOptionKeyDown.bind(n,x),"aria-selected":u===x?"true":void 0},u===x?he.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",x)}),m=n.props.minDate?pt(n.props.minDate):null,h=n.props.maxDate?pt(n.props.maxDate):null;return(!h||!n.state.yearsList.find(function(x){return x===h}))&&f.unshift(he.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},he.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!m||!n.state.yearsList.find(function(x){return x===m}))&&f.push(he.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},he.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),f},n.onChange=function(u){n.props.onChange(u)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(u){var f=n.state.yearsList.map(function(m){return m+u});n.setState({yearsList:f})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=r.yearDropdownItemNumber,l=r.scrollableYearDropdown,c=i||(l?10:5);return n.state={yearsList:Aie(n.props.year,c,n.props.minDate,n.props.maxDate)},n.dropdownRef=j.createRef(),n}return t.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,i=n?n.find(function(l){return l.ariaSelected}):null;r.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},t.prototype.render=function(){var r=ut({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return he.createElement(Ox,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),Mie=(function(e){Wr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?pt(r.props.minDate):1900,i=r.props.maxDate?pt(r.props.maxDate):2100,l=[],c=n;c<=i;c++)l.push(he.createElement("option",{key:c,value:c},c));return l},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return he.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return he.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},he.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),he.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return he.createElement(kie,ct({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,i=[r.renderReadView(!n)];return n&&i.unshift(r.renderDropdown()),i},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,i){var l;(l=r.onSelect)===null||l===void 0||l.call(r,n,i),r.setOpen()},r.onSelect=function(n,i){var l,c;(c=(l=r.props).onSelect)===null||c===void 0||c.call(l,n,i)},r.setOpen=function(){var n,i;(i=(n=r.props).setOpen)===null||i===void 0||i.call(n,!0)},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return he.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},t})(j.Component),Die=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],CI="react-datepicker-ignore-onclickoutside",Eie=function(e){var t=(e.className||"").split(/\s+/);return Die.some(function(r){return t.indexOf(r)>=0})},_ie=(function(e){Wr(t,e);function t(r){var n=e.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var l,c;Eie(i.target)&&((c=(l=n.props).onDropdownFocus)===null||c===void 0||c.call(l,i))},n.getDateInView=function(){var i=n.props,l=i.preSelection,c=i.selected,u=i.openToDate,f=wI(n.props),m=jI(n.props),h=yt(),x=u||c||l;return x||(f&&Xa(h,f)?f:m&&zi(h,m)?m:h)},n.increaseMonth=function(){n.setState(function(i){var l=i.date;return{date:Aa(l,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var l=i.date;return{date:ql(l,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,l,c){n.props.onSelect(i,l,c),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,l){n.setState({selectingDate:Ua(yt(),l)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,l)},n.handleYearMouseLeave=function(i,l){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,l)},n.handleYearChange=function(i){var l,c,u,f;(c=(l=n.props).onYearChange)===null||c===void 0||c.call(l,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(f=(u=n.props).setOpen)===null||f===void 0||f.call(u,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!ta(i,n.props))return i;for(var l=Bi(i),c=eie(i),u=ute(c,l),f=null,m=0;m<=u;m++){var h=wa(l,m);if(!ta(h,n.props)){f=h;break}}return f},n.handleMonthChange=function(i){var l,c,u,f=(l=n.getEnabledPreSelectionDateForMonth(i))!==null&&l!==void 0?l:i;n.handleCustomMonthChange(f),n.props.adjustDateOnChange&&(n.props.onSelect(f),(u=(c=n.props).setOpen)===null||u===void 0||u.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(f)},n.handleCustomMonthChange=function(i){var l,c;(c=(l=n.props).onMonthChange)===null||c===void 0||c.call(l,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(l){var c=l.date;return{date:Ua(c,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(l){var c=l.date;return{date:On(c,Number(i))}},function(){var l,c;n.handleMonthChange(n.state.date),(c=(l=n.props).onMonthSelectedInChange)===null||c===void 0||c.call(l,0)})},n.changeMonthYear=function(i){n.setState(function(l){var c=l.date;return{date:Ua(On(c,vn(i)),pt(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i,l){if(i===void 0&&(i=n.state.date),l===void 0&&(l=0),!xn(i))return[];var c=n.props.disabled,u=Bs(i,n.props.locale,n.props.calendarStartDay),f=[];return n.props.showWeekNumbers&&f.push(he.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(c?"react-datepicker__day-name--disabled":""),role:"columnheader"},he.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),he.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),f.concat([0,1,2,3,4,5,6].map(function(m){var h=wa(u,m),x=n.formatWeekday(h,n.props.locale),v=Gt(h,"EEEE",n.props.locale),g=n.props.weekDayClassName?n.props.weekDayClassName(h):void 0;if(n.props.renderCustomDayName){var S=n.props.renderCustomDayName({day:h,shortName:x,fullName:v,locale:n.props.locale,customDayNameCount:l});return he.createElement("div",{key:m,role:"columnheader",className:ut("react-datepicker__day-name",g,c?"react-datepicker__day-name--disabled":"")},S)}return he.createElement("div",{key:m,role:"columnheader",className:ut("react-datepicker__day-name",g,c?"react-datepicker__day-name--disabled":"")},he.createElement("span",{className:"react-datepicker__sr-only"},v),he.createElement("span",{"aria-hidden":"true"},x))}))},n.formatWeekday=function(i,l){return n.props.formatWeekDay?tie(i,n.props.formatWeekDay,l):n.props.useWeekdaysShort?nie(i,l):rie(i,l)},n.decreaseYear=function(){n.setState(function(i){var l,c=i.date;return{date:Ys(c,n.props.showYearPicker?(l=n.props.yearItemNumber)!==null&&l!==void 0?l:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,l,c;if(!n.props.renderCustomHeader){var u=(i=n.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,f=n.props.showPreviousMonths?u-1:0,m=(l=n.props.monthSelectedIn)!==null&&l!==void 0?l:f,h=ql(n.state.date,m),x;switch(!0){case n.props.disabled:x=!0;break;case n.props.showMonthYearPicker:x=cE(n.state.date,n.props);break;case n.props.showYearPicker:x=oie(n.state.date,n.props);break;case n.props.showQuarterYearPicker:x=sie(n.state.date,n.props);break;default:x=lE(h,n.props);break}if(!(!((c=n.props.forceShowMonthNavigation)!==null&&c!==void 0?c:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&x||n.props.showTimeSelectOnly)){var v=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],g=["react-datepicker__navigation","react-datepicker__navigation--previous"],S=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(S=n.decreaseYear),x&&n.props.showDisabledMonthNavigation&&(g.push("react-datepicker__navigation--previous--disabled"),S=void 0);var y=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,w=n.props,C=w.previousMonthButtonLabel,k=C===void 0?t.defaultProps.previousMonthButtonLabel:C,A=w.previousYearButtonLabel,M=A===void 0?t.defaultProps.previousYearButtonLabel:A,D=n.props,T=D.previousMonthAriaLabel,P=T===void 0?typeof k=="string"?k:"Previous Month":T,O=D.previousYearAriaLabel,z=O===void 0?typeof M=="string"?M:"Previous Year":O;return he.createElement("button",{type:"button",className:g.join(" "),onClick:S,onKeyDown:n.props.handleOnKeyDown,"aria-label":y?z:P},he.createElement("span",{className:v.join(" ")},y?M:k))}}},n.increaseYear=function(){n.setState(function(i){var l,c=i.date;return{date:ja(c,n.props.showYearPicker?(l=n.props.yearItemNumber)!==null&&l!==void 0?l:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var l;switch(!0){case n.props.disabled:l=!0;break;case n.props.showMonthYearPicker:l=uE(n.state.date,n.props);break;case n.props.showYearPicker:l=cie(n.state.date,n.props);break;case n.props.showQuarterYearPicker:l=lie(n.state.date,n.props);break;default:l=oE(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&l||n.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var f=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(f=n.increaseYear),l&&n.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),f=void 0);var m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,h=n.props,x=h.nextMonthButtonLabel,v=x===void 0?t.defaultProps.nextMonthButtonLabel:x,g=h.nextYearButtonLabel,S=g===void 0?t.defaultProps.nextYearButtonLabel:g,y=n.props,w=y.nextMonthAriaLabel,C=w===void 0?typeof v=="string"?v:"Next Month":w,k=y.nextYearAriaLabel,A=k===void 0?typeof S=="string"?S:"Next Year":k;return he.createElement("button",{type:"button",className:c.join(" "),onClick:f,onKeyDown:n.props.handleOnKeyDown,"aria-label":m?A:C},he.createElement("span",{className:u.join(" ")},m?S:v))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var l=["react-datepicker__current-month"];return n.props.showYearDropdown&&l.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&l.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&l.push("react-datepicker__current-month--hasMonthYearDropdown"),he.createElement("h2",{className:l.join(" ")},xn(i)?Gt(i,n.props.dateFormat,n.props.locale):"")},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return he.createElement(Mie,ct({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:pt(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return he.createElement(yie,ct({},t.defaultProps,n.props,{month:vn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return he.createElement(Nie,ct({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(rE(),i),n.props.setPreSelection&&n.props.setPreSelection(rE())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return he.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(i,l){return l===void 0&&(l=0),he.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(i,l))},n.renderDefaultHeader=function(i){var l=i.monthDate,c=i.i,u=he.createElement("div",{className:ut("react-datepicker__header",{"react-datepicker__header--has-time-select":n.props.showTimeSelect,"react-datepicker__header--middle":n.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":n.props.monthHeaderPosition==="bottom"})},n.renderCurrentMonth(l),he.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(c!==0),n.renderMonthYearDropdown(c!==0),n.renderYearDropdown(c!==0)));return n.props.monthHeaderPosition==="top"?u:he.createElement("div",{className:"react-datepicker__header-wrapper"},n.renderPreviousButton()||null,n.renderNextButton()||null,u)},n.renderCustomHeader=function(i){var l,c,u=i.monthDate,f=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var m=n.props,h=m.showYearPicker,x=m.yearItemNumber,v;if(h){var g=Ri(u,x),S=g.startPeriod,y=g.endPeriod;v={startYear:S,endYear:y}}var w=lE(n.state.date,n.props),C=oE(n.state.date,n.props),k=cE(n.state.date,n.props),A=uE(n.state.date,n.props);return he.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(c=(l=n.props).renderCustomHeader)===null||c===void 0?void 0:c.call(l,ct(ct(ct({},n.state),h&&{visibleYearsRange:v}),{customHeaderCount:f,monthDate:u,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:w,nextMonthButtonDisabled:C,prevYearButtonDisabled:k,nextYearButtonDisabled:A})))},n.renderYearHeader=function(i){var l=i.monthDate,c=n.props,u=c.showYearPicker,f=c.yearItemNumber,m=f===void 0?t.defaultProps.yearItemNumber:f,h=Ri(l,m),x=h.startPeriod,v=h.endPeriod;return he.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(x," - ").concat(v):pt(l))},n.renderHeader=function(i){var l=i.monthDate,c=i.i,u=c===void 0?0:c,f={monthDate:l,i:u};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(f);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(f);default:return n.renderDefaultHeader(f)}},n.renderMonths=function(){var i,l;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var c=[],u=(i=n.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,f=n.props.showPreviousMonths?u-1:0,m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ja(n.state.date,f):ql(n.state.date,f),h=(l=n.props.monthSelectedIn)!==null&&l!==void 0?l:f,x=0;x<u;++x){var v=x-h+f,g=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ja(m,v):Aa(m,v),S="month-".concat(x),y=x<u-1,w=x>0;c.push(he.createElement("div",{key:S,ref:function(C){n.monthContainer=C??void 0},className:"react-datepicker__month-container"},n.props.monthHeaderPosition==="top"&&n.renderHeader({monthDate:g,i:x}),he.createElement(gie,ct({},t.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:g,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:x,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:w,dayNamesHeader:n.renderDayNamesHeader(g,x),monthHeader:n.props.monthHeaderPosition==="middle"?n.renderHeader({monthDate:g,i:x}):void 0,monthFooter:n.props.monthHeaderPosition==="bottom"?n.renderHeader({monthDate:g,i:x}):void 0}))))}return c}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return he.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),he.createElement(Cie,ct({},t.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return he.createElement(Sie,ct({},t.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i,l;if(n.props.showTimeInput){if(n.props.selectsRange){var c=n.props,u=c.startDate,f=c.endDate,m=u?new Date(u):void 0,h=m&&xn(m)&&!!u,x=h?"".concat(Yo(m.getHours()),":").concat(Yo(m.getMinutes())):"",v=f?new Date(f):void 0,g=v&&xn(v)&&!!f,S=g?"".concat(Yo(v.getHours()),":").concat(Yo(v.getMinutes())):"";return he.createElement(he.Fragment,null,he.createElement(Lb,ct({},t.defaultProps,n.props,{date:m,timeString:x,onChange:function(k){var A,M;(M=(A=n.props).onTimeChange)===null||M===void 0||M.call(A,k,"start")},timeInputLabel:((i=n.props.timeInputLabel)!==null&&i!==void 0?i:"Time")+" (Start)"})),he.createElement(Lb,ct({},t.defaultProps,n.props,{date:v,timeString:S,onChange:function(k){var A,M;(M=(A=n.props).onTimeChange)===null||M===void 0||M.call(A,k,"end")},timeInputLabel:((l=n.props.timeInputLabel)!==null&&l!==void 0?l:"Time")+" (End)"})))}var y=n.props.selected?new Date(n.props.selected):void 0,w=y&&xn(y)&&!!n.props.selected,C=w?"".concat(Yo(y.getHours()),":").concat(Yo(y.getMinutes())):"";return he.createElement(Lb,ct({},t.defaultProps,n.props,{date:y,timeString:C,onChange:function(k){var A,M;(M=(A=n.props).onTimeChange)===null||M===void 0||M.call(A,k)}}))}},n.renderAriaLiveRegion=function(){var i;if(!xn(n.state.date))return he.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var l=Ri(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber),c=l.startPeriod,u=l.endPeriod,f;return n.props.showYearPicker?f="".concat(c," - ").concat(u):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?f=pt(n.state.date):f="".concat(Aj(vn(n.state.date),n.props.locale)," ").concat(pt(n.state.date)),he.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&f)},n.renderChildren=function(){if(n.props.children)return he.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=j.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:CI,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Jd,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())},t.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&xn(this.props.preSelection)&&(!gt(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var i=!rn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!gt(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var r=this.props.container||Vae;return he.createElement(Ox,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},he.createElement("div",{style:{display:"contents"},ref:this.containerRef},he.createElement(r,{className:ut("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t})(j.Component),Oie=function(e){var t=e.icon,r=e.className,n=r===void 0?"":r,i=e.onClick,l="react-datepicker__calendar-icon";if(typeof t=="string")return he.createElement("i",{className:"".concat(l," ").concat(t," ").concat(n),"aria-hidden":"true",onClick:i});if(he.isValidElement(t)){var c=t;return he.cloneElement(c,{className:"".concat(c.props.className||""," ").concat(l," ").concat(n),onClick:function(u){typeof c.props.onClick=="function"&&c.props.onClick(u),typeof i=="function"&&i(u)}})}return he.createElement("svg",{className:"".concat(l," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},he.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},AI=(function(e){Wr(t,e);function t(r){var n=e.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return I8.createPortal(this.props.children,this.el)},t})(j.Component),Tie="[tabindex], a, button, input, select, textarea",Pie=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},kI=(function(e){Wr(t,e);function t(r){var n=e.call(this,r)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(Tie),1,-1).filter(Pie)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=j.createRef(),n}return t.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:t.defaultProps.enableTabLoop)?he.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},he.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,he.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t})(j.Component);function Iie(e){function t(r){var n,i=typeof r.hidePopper=="boolean"?r.hidePopper:!0,l=j.useRef(null),c=Yae(ct({open:!i,whileElementsMounted:Nae,placement:r.popperPlacement,middleware:Za([Oae({padding:15}),_ae(10),Tae({element:l})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),u=ct(ct({},r),{hidePopper:i,popperProps:ct(ct({},c),{arrowRef:l})});return he.createElement(e,ct({},u))}return t.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),t}var Rie=function(e){var t=e.className,r=e.wrapperClassName,n=e.hidePopper,i=n===void 0?!0:n,l=e.popperComponent,c=e.targetComponent,u=e.enableTabLoop,f=e.popperOnKeyDown,m=e.portalId,h=e.portalHost,x=e.popperProps,v=e.showArrow,g=e.popperTargetRef,S=e.monthHeaderPosition;j.useEffect(function(){g?.current&&x.refs.setPositionReference(g.current)},[g,x.refs]);var y=void 0;if(!i){var w=ut("react-datepicker-popper",!v&&"react-datepicker-popper-offset",S==="middle"&&"react-datepicker-popper--header-middle",S==="bottom"&&"react-datepicker-popper--header-bottom",t);y=he.createElement(kI,{enableTabLoop:u},he.createElement("div",{ref:x.refs.setFloating,style:x.floatingStyles,className:w,"data-placement":x.placement,onKeyDown:f},l,v&&he.createElement(Fae,{ref:x.arrowRef,context:x.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(y=j.createElement(e.popperContainer,{},y)),m&&!i&&(y=he.createElement(AI,{portalId:m,portalHost:h},y));var C=ut("react-datepicker-wrapper",r);return he.createElement(he.Fragment,null,he.createElement("div",{ref:x.refs.setReference,className:C},c),y)},Lie=Iie(Rie);function gE(e,t){return e&&t?vn(e)!==vn(t)||pt(e)!==pt(t):e!==t}var zb="Date input not valid.",Fie=(function(e){Wr(t,e);function t(r){var n=e.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){var i=n.props.timeZone,l=n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:yt();return i?eE(l,i):l},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(l,c){var u=Nl(c.date,"yyyy-MM-dd",void 0,!1);return u?Za(Za([],l,!0),[ct(ct({},c),{date:u})],!1):l},[])},n.calcInitialState=function(){var i=n.props.timeZone,l=n.getPreSelection(),c=wI(n.props),u=jI(n.props),f=c&&Xa(l,nd(c))?c:u&&zi(l,nE(u))?u:l,m=n.props.selectsRange?n.props.startDate:n.props.selected;return m&&i&&(m=eE(m,i)),{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:m??f,highlightDates:dE(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var i,l=n.props,c=l.locale,u=l.startDate,f=l.endDate,m=l.rangeSeparator,h=l.selected,x=l.selectedDates,v=l.selectsMultiple,g=l.selectsRange,S=l.formatMultipleDates,y=l.value,w=(i=n.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,C=n.state.inputValue;if(typeof y=="string")return y;if(typeof C=="string")return C;if(g)return Kae(u,f,{dateFormat:w,locale:c,rangeSeparator:m});if(v){if(S){var k=function(A){return hn(A,{dateFormat:w,locale:c})};return S(x??[],k)}return Qae(x??[],{dateFormat:w,locale:c})}return hn(h,{dateFormat:w,locale:c})},n.resetHiddenStatus=function(){n.setState(ct(ct({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(ct(ct({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var i,l;(l=(i=n.input)===null||i===void 0?void 0:i.focus)===null||l===void 0||l.call(i,{preventScroll:!0})},n.setBlur=function(){var i,l;(l=(i=n.input)===null||i===void 0?void 0:i.blur)===null||l===void 0||l.call(i),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(i,l){l===void 0&&(l=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:Bb},function(){i||n.setState(function(c){return{focused:l?c.focused:!1}},function(){!l&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return ti(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var l,c,u=n.state.wasHidden,f=u?n.state.open:!0;u&&n.resetHiddenStatus(),n.state.preventFocus||((c=(l=n.props).onFocus)===null||c===void 0||c.call(l,i),f&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(ct(ct({},n.state),{inputValue:null}))},n.handleBlur=function(i){var l,c;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((c=(l=n.props).onBlur)===null||c===void 0||c.call(l,i));var u=n.state.inputValue;if(typeof u=="string"&&u.length>0){var f=/[a-zA-Z0-9]/.test(u);!f&&n.props.selected&&n.setSelected(null,void 0,!0)}n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var l,c;(c=(l=n.props).onClickOutside)===null||c===void 0||c.call(l,i),!n.props.inline&&!i.defaultPrevented&&n.setOpen(!1),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,l,c,u,f,m,h,x,v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];var S=v[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,v),!S||typeof S.isDefaultPrevented!="function"||S.isDefaultPrevented()))){n.setState({inputValue:S?.target instanceof HTMLInputElement?S.target.value:null,lastPreSelectChange:zie});var y=n.props,w=y.selectsRange,C=y.startDate,k=y.endDate,A=(i=n.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,M=(l=n.props.strictParsing)!==null&&l!==void 0?l:t.defaultProps.strictParsing,D=S?.target instanceof HTMLInputElement?S.target.value:"";if(w){var T=n.props.rangeSeparator,P=T.trim(),O=D.split(A.includes(P)?T:P,2).map(function(F){return F.trim()}),z=O[0],L=O[1],$=Nl(z??"",A,n.props.locale,M),E=$?Nl(L??"",A,n.props.locale,M):null,J=((c=Ll(C))===null||c===void 0?void 0:c.getTime())!==$?.getTime(),Z=((u=Ll(k))===null||u===void 0?void 0:u.getTime())!==E?.getTime();if(!J&&!Z||$&&ta($,n.props)||E&&ta(E,n.props))return;$&&n.setState({preSelection:$}),(m=(f=n.props).onChange)===null||m===void 0||m.call(f,[$,E],S)}else{var te=Nl(D,A,n.props.locale,M,(h=n.props.selected)!==null&&h!==void 0?h:void 0);if(te||!D)n.setSelected(te,S,!0);else if(!n.props.inline){var R=Wae(D,(x=n.state.preSelection)!==null&&x!==void 0?x:void 0);R&&(!n.props.minDate||!Xa(R,n.props.minDate))&&(!n.props.maxDate||!zi(R,n.props.maxDate))&&n.setState({preSelection:R})}}}},n.handleSelect=function(i,l,c){var u;if(!n.props.readOnly){var f=n.props,m=f.selectsRange,h=f.startDate,x=f.endDate,v=f.locale,g=f.swapRange,S=(u=n.props.dateFormat)!==null&&u!==void 0?u:t.defaultProps.dateFormat,y=!m||h&&!x&&(g||!Rb(i,h));if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&y&&n.sendFocusBackToInput(),n.props.onChangeRaw){var w=hn(i,{dateFormat:S,locale:v});n.props.onChangeRaw(l,{date:i,formattedDate:w})}n.setSelected(i,l,!1,c),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(i):y&&n.setOpen(!1)}},n.setSelected=function(i,l,c,u){var f,m,h=n.props.timeZone,x=i;if(x&&h&&(x=_i(x,h)),n.props.showYearPicker){if(x!==null&&yp(pt(x),n.props))return}else if(n.props.showMonthYearPicker){if(x!==null&&yI(x,n.props))return}else if(x!==null&&ta(x,n.props))return;var v=n.props,g=v.onChange,S=v.selectsRange,y=v.startDate,w=v.endDate,C=v.selectsMultiple,k=v.selectedDates,A=v.minTime,M=v.swapRange;if(!Fl(n.props.selected,x)||n.props.allowSameDay||S||C)if(x!==null&&(n.props.selected&&(!c||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(x=Oi(x,{hour:Zr(n.props.selected),minute:Jr(n.props.selected),second:zs(n.props.selected)})),!c&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&A&&(x=Oi(x,{hour:A.getHours(),minute:A.getMinutes(),second:A.getSeconds()})),n.props.inline||n.setState({preSelection:x}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:u})),S){var D=g,T=!y&&!w,P=y&&!w,O=!y&&!!w,z=y&&w;T?D?.([x,null],l):P?x===null?D?.([null,null],l):Rb(x,y)?D?.(M?[x,y]:[x,null],l):D?.([y,x],l):O&&(x&&Rb(x,w)?D?.([x,w],l):D?.([x,null],l)),z&&D?.([x,null],l)}else if(C){var L=g;if(x!==null)if(!k?.length)L?.([x],l);else{var $=k.some(function(J){return gt(J,x)});if($){var E=k.filter(function(J){return!gt(J,x)});L?.(E,l)}else L?.(Za(Za([],k,!0),[x],!1),l)}}else g?.(x,l);c||((m=(f=n.props).onSelect)===null||m===void 0||m.call(f,x,l),n.setState({inputValue:null}))},n.setPreSelection=function(i){if(!n.props.readOnly){var l=ti(n.props.minDate),c=ti(n.props.maxDate),u=!0;if(i){var f=nd(i);if(l&&c)u=El(i,n.props.minDate,n.props.maxDate);else if(l){var m=nd(n.props.minDate);u=zi(i,m)||Fl(f,m)}else if(c){var h=nE(n.props.maxDate);u=Xa(i,h)||Fl(f,h)}}u&&n.setState({preSelection:i})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i,l){var c,u;if(!n.props.selectsMultiple){var f=n.props,m=f.selectsRange,h=f.startDate,x=f.endDate,v=f.onChange,g=f.timeZone;if(m){var S=v;if(l==="start"){if(h){var y=Oi(h,{hour:Zr(i),minute:Jr(i)});n.setState({preSelection:y}),g&&(y=_i(y,g)),S?.([y,x?g?_i(x,g):x:null],void 0)}}else if(l==="end"){if(x){var w=Oi(x,{hour:Zr(i),minute:Jr(i)});n.setState({preSelection:w}),g&&(w=_i(w,g)),S?.([h?g?_i(h,g):h:null,w],void 0)}}else{var C=h&&!x;if(C){var y=Oi(h,{hour:Zr(i),minute:Jr(i)});n.setState({preSelection:y}),g&&(y=_i(y,g)),S?.([y,null],void 0)}else if(h&&x){var w=Oi(x,{hour:Zr(i),minute:Jr(i)});n.setState({preSelection:w}),g&&(w=_i(w,g)),S?.([g?_i(h,g):h,w],void 0)}else{var k=Oi(n.getPreSelection(),{hour:Zr(i),minute:Jr(i)});n.setState({preSelection:k})}}}else{var A=n.props.selected?n.props.selected:n.getPreSelection(),k=n.props.selected?i:Oi(A,{hour:Zr(i),minute:Jr(i)});n.setState({preSelection:k}),k&&g&&(k=_i(k,g)),(u=(c=n.props).onChange)===null||u===void 0||u.call(c,k)}n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,l;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(l=(i=n.props).onInputClick)===null||l===void 0||l.call(i)},n.handleTimeOnlyArrowKey=function(i){var l,c,u,f,m=Ll(n.props.selected)||n.state.preSelection||yt(),h=(l=n.props.timeIntervals)!==null&&l!==void 0?l:30,x=(c=n.props.dateFormat)!==null&&c!==void 0?c:t.defaultProps.dateFormat,v=Array.isArray(x)?x[0]:x,g=nd(m),S=Zr(m)*60+Jr(m),y=1440-h,w;if(i===Oe.ArrowUp){var C=Math.max(0,S-h);w=Cd(g,C)}else{var C=Math.min(y,S+h);w=Cd(g,C)}var k=Gt(w,v||t.defaultProps.dateFormat,n.props.locale);if(n.setState({preSelection:w,inputValue:k}),!(n.props.selectsRange||n.props.selectsMultiple)){var A=n.props.selected?n.props.selected:n.getPreSelection(),M=n.props.selected?w:Oi(A,{hour:Zr(w),minute:Jr(w)});(f=(u=n.props).onChange)===null||f===void 0||f.call(u,M),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){n.scrollToTimeOption(w)})}},n.handleTimeOnlyEnterKey=function(i){var l,c,u,f,m=i.target,h=m.value,x=(l=n.props.dateFormat)!==null&&l!==void 0?l:t.defaultProps.dateFormat,v=n.props.timeFormat||"p",g=n.state.preSelection||Ll(n.props.selected)||yt(),S=Nl(h,x,n.props.locale,(c=n.props.strictParsing)!==null&&c!==void 0?c:!1,g),y=g;if(S&&xn(S))y=S;else{var w=((u=n.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(w instanceof HTMLElement){var C=(f=w.textContent)===null||f===void 0?void 0:f.trim();if(C){var k=Nl(C,v,n.props.locale,!1,g);k&&xn(k)&&(y=k)}}}n.handleTimeChange(y),n.setOpen(!1),n.sendFocusBackToInput()},n.scrollToTimeOption=function(i){var l,c;if(!((l=n.calendar)===null||l===void 0)&&l.containerRef.current){for(var u=n.calendar.containerRef.current,f=Array.from(u.querySelectorAll(".react-datepicker__time-list-item")),m=null,h=1/0,x=n.props.timeFormat||"p",v=0,g=f;v<g.length;v++){var S=g[v],y=(c=S.textContent)===null||c===void 0?void 0:c.trim();if(y){var w=Nl(y,x,n.props.locale,!1,i);if(w&&xn(w)){if(NI(w,i)){m=S;break}var C=Math.abs(w.getTime()-i.getTime());C<h&&(h=C,m=S)}}}m&&(f.forEach(function(k){k.setAttribute("tabindex","-1")}),m.setAttribute("tabindex","0"),m.scrollIntoView({behavior:"smooth",block:"center"}))}},n.onInputKeyDown=function(i){var l,c,u,f,m,h;(c=(l=n.props).onKeyDown)===null||c===void 0||c.call(l,i);var x=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(x===Oe.ArrowDown||x===Oe.ArrowUp||x===Oe.Enter)&&((u=n.onInputClick)===null||u===void 0||u.call(n));return}if(n.state.open&&n.props.showTimeSelectOnly){if(x===Oe.ArrowDown||x===Oe.ArrowUp){i.preventDefault(),n.handleTimeOnlyArrowKey(x);return}if(x===Oe.Enter){i.preventDefault(),n.handleTimeOnlyEnterKey(i);return}}if(n.state.open){if(x===Oe.ArrowDown||x===Oe.ArrowUp){i.preventDefault();var v=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',g=((f=n.calendar)===null||f===void 0?void 0:f.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(v);g instanceof HTMLElement&&g.focus({preventScroll:!0});return}var S=yt(n.state.preSelection);x===Oe.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===Bb?(n.handleSelect(S,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(S)):n.setOpen(!1)):x===Oe.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):x===Oe.Tab&&n.setOpen(!1),n.inputOk()||(h=(m=n.props).onInputError)===null||h===void 0||h.call(m,{code:1,msg:zb})}},n.onPortalKeyDown=function(i){var l=i.key;l===Oe.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var l,c,u,f,m,h,x=n.props,v=x.minDate,g=x.maxDate,S=x.disabledKeyboardNavigation,y=x.showWeekPicker,w=x.shouldCloseOnSelect,C=x.locale,k=x.calendarStartDay,A=x.adjustDateOnChange,M=x.inline;if((c=(l=n.props).onKeyDown)===null||c===void 0||c.call(l,i),!S){var D=i.key,T=i.shiftKey,P=yt(n.state.preSelection),O=function($,E){var J=E;switch($){case Oe.ArrowRight:J=y?yh(E,1):wa(E,1);break;case Oe.ArrowLeft:J=y?$5(E):une(E);break;case Oe.ArrowUp:J=$5(E);break;case Oe.ArrowDown:J=yh(E,1);break;case Oe.PageUp:J=T?Ys(E,1):ql(E,1);break;case Oe.PageDown:J=T?ja(E,1):Aa(E,1);break;case Oe.Home:J=Bs(E,C,k);break;case Oe.End:J=Jae(E);break}return J},z=function($,E){for(var J=40,Z=$,te=!1,R=0,F=O($,E);!te;){if(R>=J){F=E;break}v&&F<v&&(Z=Oe.ArrowRight,F=ta(v,n.props)?O(Z,F):v),g&&F>g&&(Z=Oe.ArrowLeft,F=ta(g,n.props)?O(Z,F):g),ta(F,n.props)?((Z===Oe.PageUp||Z===Oe.Home)&&(Z=Oe.ArrowRight),(Z===Oe.PageDown||Z===Oe.End)&&(Z=Oe.ArrowLeft),F=O(Z,F)):te=!0,R++}return F};if(D===Oe.Enter){i.preventDefault(),n.handleSelect(P,i),!w&&n.setPreSelection(P);return}else if(D===Oe.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(f=(u=n.props).onInputError)===null||f===void 0||f.call(u,{code:1,msg:zb});return}var L=null;switch(D){case Oe.ArrowLeft:case Oe.ArrowRight:case Oe.ArrowUp:case Oe.ArrowDown:case Oe.PageUp:case Oe.PageDown:case Oe.Home:case Oe.End:L=z(D,P);break}if(!L){(h=(m=n.props).onInputError)===null||h===void 0||h.call(m,{code:1,msg:zb});return}i.preventDefault(),n.setState({lastPreSelectChange:Bb}),A&&n.setSelected(L),n.setPreSelection(L),M&&n.setState({shouldFocusDayInline:!0})}},n.onPopperKeyDown=function(i){var l=i.key;l===Oe.Escape&&(i.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var l=n.props,c=l.selectsRange,u=l.onChange;u?.(c?[null,null]:null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.handleMonthSelectedInChange=function(i){n.setState({monthSelectedIn:i})},n.renderCalendar=function(){var i,l;return!n.props.inline&&!n.isCalendarOpen()?null:he.createElement(_ie,ct({showMonthYearDropdown:void 0,ref:function(c){n.calendar=c}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:t.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:die(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(l=n.props.dropdownMode)!==null&&l!==void 0?l:t.defaultProps.dropdownMode,onMonthSelectedInChange:n.handleMonthSelectedInChange}),n.props.children)},n.renderAriaLiveRegion=function(){var i,l=n.props.locale,c=(i=n.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,u=n.props.showTimeInput||n.props.showTimeSelect,f=u?"PPPPp":"PPPP",m;return n.props.selectsRange?m="Selected start date: ".concat(hn(n.props.startDate,{dateFormat:f,locale:l}),". ").concat(n.props.endDate?"End date: "+hn(n.props.endDate,{dateFormat:f,locale:l}):""):n.props.showTimeSelectOnly?m="Selected time: ".concat(hn(n.props.selected,{dateFormat:c,locale:l})):n.props.showYearPicker?m="Selected year: ".concat(hn(n.props.selected,{dateFormat:"yyyy",locale:l})):n.props.showMonthYearPicker?m="Selected month: ".concat(hn(n.props.selected,{dateFormat:"MMMM yyyy",locale:l})):n.props.showQuarterYearPicker?m="Selected quarter: ".concat(hn(n.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):m="Selected date: ".concat(hn(n.props.selected,{dateFormat:f,locale:l})),he.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},m)},n.renderDateInput=function(){var i,l,c,u,f,m,h,x=ut(n.props.className,(i={},i[n.props.outsideClickIgnoreClass||t.defaultProps.outsideClickIgnoreClass]=n.state.open,i)),v=n.props.customInput||he.createElement("input",{type:"text"}),g=n.props.customInputRef||"ref",S={},y=(c=n.props["aria-describedby"])!==null&&c!==void 0?c:n.props.ariaDescribedBy,w=(u=n.props["aria-invalid"])!==null&&u!==void 0?u:n.props.ariaInvalid,C=(f=n.props["aria-label"])!==null&&f!==void 0?f:n.props.ariaLabel,k=(m=n.props["aria-labelledby"])!==null&&m!==void 0?m:n.props.ariaLabelledBy,A=(h=n.props["aria-required"])!==null&&h!==void 0?h:n.props.ariaRequired;return y!=null&&(S["aria-describedby"]=y),w!=null&&(S["aria-invalid"]=w),C!=null&&(S["aria-label"]=C),k!=null&&(S["aria-labelledby"]=k),A!=null&&(S["aria-required"]=A),j.cloneElement(v,ct((l={},l[g]=function(M){n.input=M},l.value=n.getInputValue(),l.onBlur=n.handleBlur,l.onChange=n.handleChange,l.onClick=n.onInputClick,l.onFocus=n.handleFocus,l.onKeyDown=n.onInputKeyDown,l.id=n.props.id,l.name=n.props.name,l.form=n.props.form,l.autoFocus=n.props.autoFocus,l.placeholder=n.props.placeholderText,l.disabled=n.props.disabled,l.autoComplete=n.props.autoComplete,l.className=ut(v.props.className,x),l.title=n.props.title,l.readOnly=n.props.readOnly,l.required=n.props.required,l.tabIndex=n.props.tabIndex,l),S))},n.renderClearButton=function(){var i=n.props,l=i.isClearable,c=i.disabled,u=i.selected,f=i.startDate,m=i.endDate,h=i.clearButtonTitle,x=i.clearButtonClassName,v=x===void 0?"":x,g=i.ariaLabelClose,S=g===void 0?"Close":g,y=i.selectedDates,w=i.readOnly;return l&&!w&&(u!=null||f!=null||m!=null||y?.length)?he.createElement("button",{type:"button",className:ut("react-datepicker__close-icon",v,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":S,onClick:n.onClearClick,title:h,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:CI,readOnly:!1,rangeSeparator:gI,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Jd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(r,n){var i,l,c,u;this.props.selectsRange&&gE(r.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):gE(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&n.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:dE(this.props.highlightDates)}),!n.focused&&!Fl(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((l=(i=this.props).onCalendarOpen)===null||l===void 0||l.call(i)),n.open===!0&&this.state.open===!1&&((u=(c=this.props).onCalendarClose)===null||u===void 0||u.call(c)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,i=r.icon,l=r.calendarIconClassname,c=r.calendarIconClassName,u=r.toggleCalendarOnIconClick,f=this.state.open;return l&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),he.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&he.createElement(Oie,ct({icon:i,className:ut(c,!c&&l,f&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?he.createElement(kI,{enableTabLoop:this.props.enableTabLoop},he.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=he.createElement(AI,ct({portalId:this.props.portalId},this.props),n)),he.createElement(he.Fragment,null,this.renderInputContainer(),n)}return he.createElement(Lie,ct({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},t})(j.Component),zie="input",Bb="navigate";function ur({open:e,onClose:t,title:r,children:n,wide:i}){const l=j.useRef(null);return j.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),j.useEffect(()=>{function c(u){u.key==="Escape"&&t()}return e&&window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[e,t]),e?a.jsxs("div",{ref:l,className:"fixed inset-0 z-50 flex items-start justify-center pt-[5vh] sm:pt-[10vh] px-4",onClick:c=>{c.target===l.current&&t()},children:[a.jsx("div",{className:"fixed inset-0 bg-black/60"}),a.jsxs("div",{className:`relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full ${i?"max-w-2xl":"max-w-lg"} max-h-[80vh] flex flex-col animate-fade-in`,children:[a.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-[var(--border-light)] shrink-0",children:[a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:r}),a.jsx("button",{onClick:t,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:a.jsx(ni,{size:16})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:n})]})]}):null}function pe({label:e,required:t,error:r,children:n}){return a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:[e,t&&a.jsx("span",{className:"text-rose-500 ml-0.5",children:"*"})]}),n,r&&a.jsx("p",{className:"text-xs text-rose-500 mt-1",children:r})]})}function Re({value:e,onChange:t,placeholder:r,type:n="text",sensitive:i,...l}){const{masked:c}=Da();return a.jsx("input",{type:n,value:e,onChange:u=>t(u.target.value),placeholder:r,className:`w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors ${i&&c?"sensitive-blur":""}`,...l})}function Na({value:e,onChange:t,...r}){const n=e?new Date(e.length>10?e:e+"T00:00:00"):null;function i(l){if(!l){t("");return}const c=l.getFullYear(),u=String(l.getMonth()+1).padStart(2,"0"),f=String(l.getDate()).padStart(2,"0");t(`${c}-${u}-${f}`)}return a.jsxs("div",{className:"relative cf-datepicker",children:[a.jsx(Fie,{selected:n,onChange:i,dateFormat:"dd MMM yyyy",maxDate:new Date,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",placeholderText:"Select date",className:"w-full px-3 py-2 pr-9 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",...r}),a.jsx(rz,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function et({value:e,onChange:t,options:r,placeholder:n}){return a.jsxs("select",{value:e,onChange:i=>t(i.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",children:[n&&a.jsx("option",{value:"",children:n}),r.map(i=>a.jsx("option",{value:i.value,children:i.label},i.value))]})}function jc({value:e,onChange:t,placeholder:r,rows:n=3}){return a.jsx("textarea",{value:e,onChange:i=>t(i.target.value),placeholder:r,rows:n,className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors resize-none"})}function Bie({checked:e,onChange:t,label:r}){return a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e,onChange:n=>t(n.target.checked),className:"w-4 h-4 rounded border-[var(--border-input)] bg-[var(--bg-input)] text-violet-500 focus:ring-violet-500"}),a.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:r})]})}function ln({onCancel:e,onSubmit:t,submitLabel:r="Save",loading:n}){return a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 mt-4 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:e,disabled:n,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),a.jsxs("button",{onClick:t,disabled:n,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[n&&a.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),n?"Saving...":r]})]})}function ns({onClick:e,label:t="Deactivate"}){return a.jsx("button",{onClick:e,className:"px-4 py-2 text-xs font-semibold text-rose-400 hover:text-rose-300 hover:bg-rose-500/10 rounded-lg transition-colors",children:t})}const bE=[{key:"sip",label:"Adjust SIP",icon:xB,color:"text-blue-400",dimColor:"text-blue-400/60 hover:text-blue-400",activeBg:"bg-blue-500/20 border border-blue-500/40"},{key:"lumpsum",label:"Lumpsum",icon:qz,color:"text-emerald-400",dimColor:"text-emerald-400/60 hover:text-emerald-400",activeBg:"bg-emerald-500/20 border border-emerald-500/40"},{key:"buysell",label:"Buy / Sell",icon:WF,color:"text-amber-400",dimColor:"text-amber-400/60 hover:text-amber-400",activeBg:"bg-amber-500/20 border border-amber-500/40"}];function _n(e){return e>=1e5?`${(e/1e5).toFixed(1)}L`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${Math.round(e)}`}function Mj({exitOnly:e}){return a.jsx("div",{className:"py-4 text-center space-y-1",children:e?a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Only exit candidates here  use ",a.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab"]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No target allocations set"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Use ",a.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund first"]})]})})}function Dj({children:e,dimmed:t}){return a.jsx("div",{className:`bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-3.5 py-3 space-y-2 ${t?"opacity-50":""}`,children:e})}function Ej({fundName:e}){const{main:t,plan:r}=Le(e);return a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-[11px] font-medium text-[var(--text-primary)] leading-tight",children:t}),r&&a.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:r})]})}function _j({label:e,value:t,valueClass:r}){return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:e}),a.jsx("span",{className:`text-[11px] tabular-nums font-medium ${r||"text-[var(--text-secondary)]"}`,children:t})]})}function $ie({portfolio:e,holdings:t,totalValue:r}){const n=e.sipTarget||0,i=(e.rebalanceThreshold||.05)*100,l=t.some(v=>v.targetAllocationPct>0),c=t.some(v=>v.targetAllocationPct===0&&v.units>0);if(!l)return a.jsx(Mj,{exitOnly:c});if(n<=0)return a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"No SIP target set for this portfolio"});const u=t.filter(v=>v.targetAllocationPct>0).map(v=>{const g=r>0?v.currentValue/r*100:0,S=Math.abs(g-v.targetAllocationPct),y=S>i,C=v.targetAllocationPct/100*r-v.currentValue,k=v.targetAllocationPct/100*n;return{...v,currentPct:g,drift:S,drifted:y,gap:C,normalSIP:k}}),m=u.filter(v=>v.drifted&&v.gap>0).reduce((v,g)=>v+g.gap,0),h=u.map(v=>({...v,suggestedSIP:v.drifted&&v.gap>0&&m>0?v.gap/m*n:v.drifted&&v.gap<=0?0:v.normalSIP}));return u.some(v=>v.drifted)?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Funds drifted >",i.toFixed(0),"%: overweight  0, underweight  extra SIP. Others keep normal SIP."]}),a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Normal SIP"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Rebalance SIP"})]})}),a.jsx("tbody",{children:h.map(v=>{const g=v.drifted&&v.gap<=0,S=v.drifted&&v.gap>0,y=!v.drifted;return a.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${y?"opacity-50":g?"opacity-60":""}`,children:[a.jsxs("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px]",children:[a.jsx("p",{className:"truncate",children:Le(v.fundName).main}),Le(v.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(v.fundName).plan})]}),a.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[a.jsxs("span",{className:g?"text-amber-400":S?"text-blue-400":"text-[var(--text-dim)]",children:[v.currentPct.toFixed(1),"%"]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:[" / ",v.targetAllocationPct.toFixed(1),"%"]})]}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:_n(v.normalSIP)}),a.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:g?a.jsx("span",{className:"text-amber-400/70",children:"0"}):S?a.jsx("span",{className:"text-blue-400",children:_n(v.suggestedSIP)}):a.jsx("span",{className:"text-[var(--text-dim)]",children:_n(v.suggestedSIP)})})]},v.holdingId)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:_n(n)}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-blue-400 tabular-nums",children:_n(n)})]})})]})}),a.jsxs("div",{className:"sm:hidden space-y-2",children:[h.map(v=>{const g=v.drifted&&v.gap<=0,S=v.drifted&&v.gap>0,y=!v.drifted;return a.jsxs(Dj,{dimmed:y||g,children:[a.jsx(Ej,{fundName:v.fundName}),a.jsx(_j,{label:"Allocation",value:a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:g?"text-amber-400":S?"text-blue-400":"",children:[v.currentPct.toFixed(1),"%"]})," ",a.jsxs("span",{className:"text-[var(--text-dim)]",children:["/ ",v.targetAllocationPct.toFixed(1),"%"]})]})}),a.jsxs("div",{className:"flex items-center justify-between pt-1 border-t border-[var(--border-light)]",children:[a.jsxs("div",{className:"text-center flex-1",children:[a.jsx("p",{className:"text-[9px] text-[var(--text-dim)] uppercase",children:"Normal"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:_n(v.normalSIP)})]}),a.jsx("div",{className:"text-[var(--text-dim)] text-xs px-2",children:""}),a.jsxs("div",{className:"text-center flex-1",children:[a.jsx("p",{className:"text-[9px] text-[var(--text-dim)] uppercase",children:"Rebalance"}),a.jsx("p",{className:`text-xs font-semibold tabular-nums ${g?"text-amber-400/70":S?"text-blue-400":"text-[var(--text-dim)]"}`,children:g?"0":_n(v.suggestedSIP)})]})]})]},v.holdingId)}),a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-inset)] rounded-xl border border-[var(--border-light)] px-3.5 py-2.5",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:"Total SIP"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:_n(n)}),a.jsx("span",{className:"text-[var(--text-dim)]",children:""}),a.jsx("span",{className:"text-xs font-bold text-blue-400 tabular-nums",children:_n(n)})]})]})]})]}):a.jsxs("p",{className:"text-xs text-[var(--text-dim)] py-2",children:["SIPs are balanced (within ",i.toFixed(0),"% threshold)"]})}function qie({portfolio:e,holdings:t,totalValue:r}){const[n,i]=j.useState("");(e.rebalanceThreshold||.05)*100;const l=t.some(y=>y.targetAllocationPct>0),c=t.some(y=>y.targetAllocationPct===0&&y.units>0);if(!l)return a.jsx(Mj,{exitOnly:c});const u=t.filter(y=>y.targetAllocationPct>0).map(y=>{const w=r>0?y.currentValue/r*100:0;return{...y,currentPct:w}}),f=j.useMemo(()=>{if(r<=0||u.length===0)return 0;const y=u.filter(A=>{const M=A.targetAllocationPct/100*r;return A.currentValue<M});if(y.length===0)return 0;const w=y.reduce((A,M)=>A+M.targetAllocationPct,0);if(w>=100)return 0;const C=y.reduce((A,M)=>A+M.currentValue,0),k=(w/100*r-C)/(1-w/100);return k>0?Math.ceil(k/100)*100:0},[u,r]),m=Number(n)||e.lumpsumTarget||f,h=j.useMemo(()=>{const y=m>0?r+m:r,w=u.map(k=>{const A=k.targetAllocationPct/100*y,M=m>0?Math.max(0,A-k.currentValue):0,D=y>0?(k.currentValue+M)/y*100:0,T=k.currentValue>A+1;return{...k,invest:M,newPct:D,isOverweight:T}}),C=w.reduce((k,A)=>k+A.invest,0);if(m>0&&C>0&&Math.abs(C-m)>1){const k=m/C;return w.map(A=>({...A,invest:A.invest>0?A.invest*k:0,newPct:y>0?(A.currentValue+(A.invest>0?A.invest*k:0))/y*100:0}))}return w},[u,m,r]),x=h.reduce((y,w)=>y+w.invest,0),v=h.some(y=>y.isOverweight),g=Number(n),S=g>0&&f>0&&g<f;return a.jsxs("div",{className:"space-y-2",children:[f>0&&a.jsx("div",{className:"flex items-center gap-2 px-2.5 py-1.5 rounded-md bg-emerald-500/10 border border-emerald-500/20",children:a.jsxs("p",{className:"text-xs text-emerald-400",children:[a.jsx("span",{className:"font-bold",children:W(f)})," needed to bring all underweight funds to target %"]})}),a.jsxs("div",{className:"flex items-end gap-3",children:[a.jsx("div",{className:"flex-1 max-w-[200px]",children:a.jsx(pe,{label:"Invest Amount ()",children:a.jsx(Re,{type:"number",value:n,onChange:i,placeholder:f>0?`${W(f)}`:"Enter amount..."})})}),!g&&!e.lumpsumTarget&&f>0&&a.jsx("p",{className:"text-xs text-emerald-400/70 pb-2.5",children:"Using suggested"}),!g&&e.lumpsumTarget>=100&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] pb-2.5",children:"Using lumpsum target"})]}),S&&a.jsxs("p",{className:"text-xs text-amber-400/80 px-1",children:["Below minimum  distributes proportionally but won't fully rebalance. Need ",W(f)," for exact target %."]}),h.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Invest"})]})}),a.jsx("tbody",{children:h.map(y=>a.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${y.invest===0?"opacity-50":""}`,children:[a.jsxs("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px]",children:[a.jsx("p",{className:"truncate",children:Le(y.fundName).main}),Le(y.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(y.fundName).plan})]}),a.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[a.jsxs("span",{className:y.isOverweight?"text-amber-400":y.invest>0?"text-blue-400":"text-[var(--text-dim)]",children:[y.currentPct.toFixed(1),"%"]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:["  ",y.newPct.toFixed(1),"%"]})]}),a.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:y.isOverweight?a.jsx("span",{className:"text-amber-400/70 text-xs",children:"Overweight"}):y.invest>0?a.jsx("span",{className:"text-emerald-400",children:_n(y.invest)}):a.jsx("span",{className:"text-[var(--text-dim)] text-xs",children:"Balanced"})})]},y.holdingId))}),x>0&&a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-emerald-400 tabular-nums",children:W(x)})]})})]})}),a.jsxs("div",{className:"sm:hidden space-y-2",children:[h.map(y=>a.jsxs(Dj,{dimmed:y.invest===0,children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx(Ej,{fundName:y.fundName}),a.jsx("div",{className:"text-right shrink-0",children:y.isOverweight?a.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:"Overweight"}):y.invest>0?a.jsx("p",{className:"text-xs font-bold text-emerald-400 tabular-nums",children:_n(y.invest)}):a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Balanced"})})]}),a.jsx(_j,{label:"Allocation",value:a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:y.isOverweight?"text-amber-400":y.invest>0?"text-blue-400":"",children:[y.currentPct.toFixed(1),"%"]})," ",a.jsxs("span",{className:"text-[var(--text-dim)]",children:[" ",y.newPct.toFixed(1),"%"]})]})})]},y.holdingId)),x>0&&a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-inset)] rounded-xl border border-[var(--border-light)] px-3.5 py-2.5",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:"Total Invest"}),a.jsx("span",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:W(x)})]})]})]}):a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2 text-center",children:"All funds balanced"}),v&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Overweight funds can't be fixed by buying. Use ",a.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab to sell overweight and buy underweight."]})]})}function Hie({portfolio:e,holdings:t,totalValue:r}){const n=(e.rebalanceThreshold||.05)*100,i=t.some(u=>u.targetAllocationPct>0),l=t.some(u=>u.targetAllocationPct===0&&u.units>0);if(!i&&!l)return a.jsx(Mj,{});const c=t.filter(u=>u.targetAllocationPct>0||u.units>0).map(u=>{const f=r>0?u.currentValue/r*100:0,m=u.targetAllocationPct===0&&u.units>0,h=m||Math.abs(f-u.targetAllocationPct)>n,x=u.targetAllocationPct/100*r,v=h?x-u.currentValue:0;return{...u,currentPct:f,amount:v,isExit:m}}).filter(u=>Math.abs(u.amount)>=500);return c.length===0?a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"Portfolio is balanced"}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Drift"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Action"})]})}),a.jsx("tbody",{children:c.map(u=>{const f=u.amount>0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px]",children:[a.jsx("p",{className:"truncate",children:Le(u.fundName).main}),Le(u.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(u.fundName).plan})]}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:u.isExit?a.jsxs("span",{className:"text-[var(--accent-rose)]",children:[u.currentPct.toFixed(1),"%  Exit"]}):`${u.currentPct.toFixed(1)}%  ${u.targetAllocationPct.toFixed(1)}%`}),a.jsx("td",{className:"py-2 px-2 text-right",children:a.jsxs("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${f?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[f?"Buy":u.isExit?"Exit":"Sell"," ",_n(Math.abs(u.amount))]})})]},u.schemeCode||u.fundCode)})})]})}),a.jsx("div",{className:"sm:hidden space-y-2",children:c.map(u=>{const f=u.amount>0;return a.jsxs(Dj,{children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx(Ej,{fundName:u.fundName}),a.jsxs("span",{className:`text-[11px] font-bold px-2.5 py-1 rounded-full shrink-0 ${f?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[f?"Buy":u.isExit?"Exit":"Sell"," ",_n(Math.abs(u.amount))]})]}),a.jsx(_j,{label:"Drift",value:u.isExit?a.jsxs("span",{className:"text-[var(--accent-rose)]",children:[u.currentPct.toFixed(1),"%  Exit"]}):a.jsxs(a.Fragment,{children:[a.jsxs("span",{children:[u.currentPct.toFixed(1),"%"]})," ",a.jsxs("span",{className:"text-[var(--text-dim)]",children:[" ",u.targetAllocationPct.toFixed(1),"%"]})]}),valueClass:f?"text-emerald-400":"text-amber-400"})]},u.schemeCode||u.fundCode)})})]})}function MI(){const{mfHoldings:e,mfPortfolios:t}=ht(),[r,n]=j.useState("buysell"),i=j.useMemo(()=>t.filter(f=>f.status!=="Inactive").map(f=>{const m=e.filter(y=>y.portfolioId===f.portfolioId&&y.units>0),h=m.reduce((y,w)=>y+w.currentValue,0),x=(f.rebalanceThreshold||.05)*100,v=m.filter(y=>{if(y.targetAllocationPct<=0)return!1;const w=h>0?y.currentValue/h*100:0;return Math.abs(w-y.targetAllocationPct)>x}).length,g=m.filter(y=>y.targetAllocationPct===0&&y.units>0&&y.currentValue>=500).length,S=m.some(y=>y.targetAllocationPct>0);return{...f,holdings:m,totalValue:h,driftedCount:v,exitCount:g,hasTargets:S}}).filter(f=>f.driftedCount>0||f.exitCount>0),[t,e]);if(i.length===0){const f=e.some(m=>m.targetAllocationPct>0);return a.jsx("div",{className:"py-8 text-center",children:f?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"All portfolios are balanced"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"No funds exceed their rebalance threshold"})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No target allocations set"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:["Use ",a.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund, then rebalance will show drift"]})]})})}const c=i.some(f=>(f.sipTarget||0)>=500)?bE:bE.filter(f=>f.key!=="sip"),u=c.some(f=>f.key===r)?r:c[0]?.key||"buysell";return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"hidden sm:flex bg-[var(--bg-inset)] rounded-lg p-0.5",children:c.map(({key:f,label:m,icon:h,color:x,dimColor:v,activeBg:g})=>a.jsxs("button",{onClick:()=>n(f),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-semibold transition-colors ${u===f?`${g} ${x} shadow-sm`:v}`,children:[a.jsx(h,{size:13})," ",m]},f))}),a.jsx("div",{className:"sm:hidden space-y-1.5",children:c.map(({key:f,label:m,icon:h,color:x,dimColor:v,activeBg:g})=>a.jsxs("button",{onClick:()=>n(f),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-semibold transition-colors ${u===f?`${g} ${x}`:`bg-[var(--bg-card)] border border-[var(--border)] ${v}`}`,children:[a.jsx(h,{size:16}),a.jsx("span",{children:m})]},f))}),i.map((f,m)=>a.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-violet-500/50 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"px-3 py-2.5 bg-[var(--bg-inset)]",children:[a.jsxs("div",{className:"hidden sm:flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center",children:m+1}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:f.portfolioName}),a.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:f.ownerName}),f.driftedCount>0&&a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[f.driftedCount," drifted"]}),f.exitCount>0&&a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-rose-500/15 text-[var(--accent-rose)]",children:[f.exitCount," exit"]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-muted)]",children:[a.jsx("span",{className:"font-semibold text-[var(--text-secondary)]",children:W(f.totalValue)}),a.jsxs("span",{children:["Threshold: ",((f.rebalanceThreshold||.05)*100).toFixed(0),"%"]}),f.sipTarget>=100&&a.jsxs("span",{children:["SIP: ",W(f.sipTarget),"/mo"]})]})]}),a.jsxs("div",{className:"sm:hidden space-y-1.5",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center shrink-0",children:m+1}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] flex-1 min-w-0 truncate",children:f.portfolioName})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap pl-7",children:[a.jsx("span",{className:"text-[11px] font-semibold text-[var(--text-secondary)] tabular-nums",children:W(f.totalValue)}),a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:f.ownerName}),f.driftedCount>0&&a.jsxs("span",{className:"text-[10px] font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[f.driftedCount," drifted"]}),f.exitCount>0&&a.jsxs("span",{className:"text-[10px] font-bold px-1.5 py-0.5 rounded-full bg-rose-500/15 text-[var(--accent-rose)]",children:[f.exitCount," exit"]})]})]})]}),a.jsxs("div",{className:"px-3 py-2",children:[u==="sip"&&a.jsx($ie,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue}),u==="lumpsum"&&a.jsx(qie,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue}),u==="buysell"&&a.jsx(Hie,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue})]})]},f.portfolioId))]})}const Uie="/logo-new.png",Yie={mf:{label:"Mutual Funds",color:"bg-violet-500",order:1,route:"/investments/mutual-funds"},stocks:{label:"Stocks",color:"bg-blue-500",order:2,route:"/investments/stocks"},PPF:{label:"PPF",color:"bg-cyan-600",order:3,route:"/investments/other"},EPF:{label:"EPF",color:"bg-cyan-500",order:4,route:"/investments/other"},NPS:{label:"NPS",color:"bg-sky-500",order:5,route:"/investments/other"},"Fixed Deposit":{label:"Fixed Deposit",color:"bg-teal-500",order:6,route:"/investments/other"},FD:{label:"Fixed Deposit",color:"bg-teal-500",order:6,route:"/investments/other"},RD:{label:"RD",color:"bg-teal-400",order:7,route:"/investments/other"},SSY:{label:"SSY",color:"bg-pink-400",order:8,route:"/investments/other"},NSC:{label:"NSC",color:"bg-indigo-400",order:9,route:"/investments/other"},Bonds:{label:"Bonds",color:"bg-cyan-400",order:10,route:"/investments/other"},Debt:{label:"Debt",color:"bg-cyan-500",order:11,route:"/investments/other"},"Physical Gold":{label:"Physical Gold",color:"bg-amber-500",order:12,route:"/investments/other"},"Digital Gold":{label:"Digital Gold",color:"bg-amber-400",order:12,route:"/investments/other"},"Sovereign Gold Bond":{label:"SGB",color:"bg-amber-600",order:12,route:"/investments/other"},Gold:{label:"Gold",color:"bg-amber-500",order:12,route:"/investments/other"},"Physical Silver":{label:"Physical Silver",color:"bg-slate-400",order:13,route:"/investments/other"},"Digital Silver":{label:"Digital Silver",color:"bg-slate-300",order:13,route:"/investments/other"},Silver:{label:"Silver",color:"bg-slate-400",order:13,route:"/investments/other"},"Real Estate":{label:"Real Estate",color:"bg-orange-500",order:14,route:"/investments/other"},Property:{label:"Real Estate",color:"bg-orange-500",order:14,route:"/investments/other"},Crypto:{label:"Crypto",color:"bg-violet-400",order:15,route:"/investments/other"},Alternative:{label:"Alternative",color:"bg-violet-400",order:15,route:"/investments/other"},Equity:{label:"Equity",color:"bg-emerald-500",order:16,route:"/investments/other"},Other:{label:"Other",color:"bg-gray-500",order:17,route:"/investments/other"}},Ym=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],yE=["bg-violet-500","bg-rose-500","bg-blue-500","bg-amber-500","bg-emerald-500"],Vie=[{label:"Dashboard",path:"/dashboard",match:"/dashboard"},{label:"Family Members",path:"/family",match:"/family"},{label:"Bank Accounts",path:"/accounts/bank",match:"/accounts/bank"},{label:"Investment Accounts",path:"/accounts/investment",match:"/accounts/investment"},{label:"Insurance",path:"/insurance",match:"/insurance"},{label:"Mutual Funds",path:"/investments/mutual-funds",match:"/investments/mutual-funds"},{label:"Stocks",path:"/investments/stocks",match:"/investments/stocks"},{label:"Other Investments",path:"/investments/other",match:"/investments/other"},{label:"Liabilities",path:"/liabilities",match:"/liabilities"},{label:"Goals",path:"/goals",match:"/goals"}],Gie={mf:"#8b5cf6",stocks:"#3b82f6",PPF:"#14b8a6",EPF:"#f59e0b",NPS:"#ec4899","Fixed Deposit":"#06b6d4",FD:"#06b6d4",RD:"#2dd4bf",SSY:"#f472b6",NSC:"#818cf8",Bonds:"#22d3ee",Debt:"#0ea5e9","Physical Gold":"#fbbf24","Digital Gold":"#f59e0b","Sovereign Gold Bond":"#d97706",Gold:"#fbbf24","Physical Silver":"#94a3b8","Digital Silver":"#cbd5e1",Silver:"#94a3b8","Real Estate":"#f97316",Property:"#f97316",Crypto:"#a78bfa",Alternative:"#a78bfa",Equity:"#10b981",Other:"#6b7280"};function Wie(e){let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return`hsl(${(t%360+360)%360}, 65%, 55%)`}function wE(e){return Gie[e]||Wie(e)}const Kie={stocks:"Equity",PPF:"Debt",EPF:"Debt",NPS:"Debt","Fixed Deposit":"Debt",FD:"Debt",RD:"Debt",SSY:"Debt",NSC:"Debt",Bonds:"Debt",Debt:"Debt","Physical Gold":"Gold","Digital Gold":"Gold","Sovereign Gold Bond":"Gold",Gold:"Gold","Physical Silver":"Gold","Digital Silver":"Gold",Silver:"Gold","Real Estate":"Real Estate",Property:"Real Estate",Crypto:"Alternative",Alternative:"Alternative",Equity:"Equity",Other:"Other"},Qie={Equity:"#8b5cf6",Debt:"#3b82f6",Gold:"#fbbf24","Real Estate":"#f97316",Cash:"#2dd4bf",Alternative:"#a78bfa",Other:"#6b7280"};function Xie(e){if(!e)return"Equity";const t=e.toLowerCase();return t.includes("gold")||t.includes("silver")||t.includes("commodity")?"Gold":t.includes("liquid")||t.includes("money market")||t.includes("overnight")?"Cash":t.includes("gilt")||t.includes("government securities")||t.includes("constant maturity")||t.includes("debt")||t.includes("bond")||t.includes("income fund")||t.includes("corporate bond")||t.includes("banking & psu")||t.includes("short duration")||t.includes("medium duration")||t.includes("long duration")||t.includes("short term")||t.includes("medium term")||t.includes("floater")||t.includes("floating rate")||t.includes("credit")||t.includes("accrual")||t.includes("savings fund")||t.includes("ultra short")?"Debt":t.includes("multi asset")?"Multi-Asset":t.includes("hybrid")||t.includes("balanced")||t.includes("dynamic asset")||t.includes("arbitrage")||t.includes("retirement")||t.includes("aggressive")||t.includes("conservative")||t.includes("children")||t.includes("pension")||t.includes("fund of fund")||t.includes("fof")?"Hybrid":"Equity"}const Zie={buyopp:"Buy Opportunities",rebalance:"Rebalance Alerts"};function Jie(){const{theme:e,toggle:t}=aO(),{selectedMember:r,setSelectedMember:n,familyMembers:i}=Lr(),{mfPortfolios:l,mfHoldings:c,stockPortfolios:u,stockHoldings:f,otherInvList:m,liabilityList:h,assetAllocations:x,refreshData:v,isRefreshing:g}=ht(),{user:S,signOut:y}=eo(),{masked:w,toggleMask:C,mv:k}=Da(),A=Gs(),M=Ma(),{criticalAlerts:D,upcomingReminders:T,investmentSignals:P}=rte(),[O,z]=j.useState(!1),[L,$]=j.useState(!1),[E,J]=j.useState(null),[Z,te]=j.useState(!1),R=j.useRef(null),F=j.useRef(null),fe=D.length+T.length,{buyOppCount:Se,buyCount:H,strongBuyCount:B,rebalanceCount:Q}=P;j.useEffect(()=>{function ie(ye){R.current&&!R.current.contains(ye.target)&&z(!1),F.current&&!F.current.contains(ye.target)&&$(!1)}return(O||L)&&document.addEventListener("mousedown",ie),()=>document.removeEventListener("mousedown",ie)},[O,L]);const ue=i.findIndex(ie=>ie.memberId===r),xe=ue>=0?i[ue]:null,U=j.useMemo(()=>{const ie=(be,Qe)=>r==="all"?be:be.filter(G=>G[Qe]===r),ye={},re=(be,Qe,G,q)=>{ye[be]||(ye[be]={items:[],invested:0}),ye[be].items.push({label:Qe,value:G}),ye[be].invested+=q};ie((l||[]).filter(be=>be.status==="Active"),"ownerId").forEach(be=>{const Qe=(c||[]).filter(X=>X.portfolioId===be.portfolioId&&X.units>0),G=Qe.reduce((X,Ce)=>X+Ce.currentValue,0),q=Qe.reduce((X,Ce)=>X+Ce.investment,0);G>0&&re("mf",be.portfolioName?.replace(/^PFL-/,"")||be.portfolioName,G,q)}),ie((u||[]).filter(be=>be.status==="Active"),"ownerId").forEach(be=>{const Qe=(f||[]).filter(X=>X.portfolioId===be.portfolioId),G=Qe.reduce((X,Ce)=>X+Ce.currentValue,0),q=Qe.reduce((X,Ce)=>X+Ce.totalInvestment,0);G>0&&re("stocks",be.portfolioName,G,q)}),ie((m||[]).filter(be=>be.status==="Active"),"familyMemberId").forEach(be=>{const Qe=be.investmentType||"Other";re(Qe,be.investmentName||Qe,be.currentValue,be.investedAmount||0)});const ze=Object.entries(ye).map(([be,{items:Qe,invested:G}])=>{const q=Yie[be]||{label:be,color:"bg-gray-500",order:50,route:"/investments/other"},X=Qe.reduce((Ce,Fe)=>Ce+Fe.value,0);return{key:be,label:q.label,color:q.color,order:q.order,route:q.route,total:X,invested:G,items:Qe.sort((Ce,Fe)=>Fe.value-Ce.value)}}).filter(be=>be.total>0).sort((be,Qe)=>Qe.total-be.total),ke={Equity:0,Debt:0,Gold:0,Cash:0,"Real Estate":0,Alternative:0,Other:0},Ie={};if(x)for(const be of x)Ie[be.fundCode]=be.assetAllocation;const rt=(c||[]).filter(be=>be.units>0);(r==="all"?rt:rt.filter(be=>{const Qe=(l||[]).find(G=>G.portfolioId===be.portfolioId);return Qe&&Qe.ownerId===r&&Qe.status==="Active"})).forEach(be=>{const Qe=Ie[be.fundCode||be.schemeCode];if(Qe)for(const[G,q]of Object.entries(Qe)){const X=be.currentValue*(q/100);G==="Equity"?ke.Equity+=X:G==="Debt"?ke.Debt+=X:G==="Cash"?ke.Cash+=X:G==="Commodities"||G==="Gold"?ke.Gold+=X:G==="Real Estate"?ke["Real Estate"]+=X:ke.Other+=X}else{const G=Xie(be.fundName);G==="Equity"?ke.Equity+=be.currentValue:G==="Debt"?ke.Debt+=be.currentValue:G==="Cash"?ke.Cash+=be.currentValue:G==="Gold"?ke.Gold+=be.currentValue:G==="Hybrid"?(ke.Equity+=be.currentValue*.65,ke.Debt+=be.currentValue*.35):G==="Multi-Asset"?(ke.Equity+=be.currentValue*.5,ke.Debt+=be.currentValue*.3,ke.Gold+=be.currentValue*.2):ke.Equity+=be.currentValue}}),ze.filter(be=>be.key==="stocks").forEach(be=>{ke.Equity+=be.total}),ze.filter(be=>be.key!=="mf"&&be.key!=="stocks").forEach(be=>{const Qe=Kie[be.key]||"Other";Qe in ke?ke[Qe]+=be.total:ke.Other+=be.total});const kt=Object.entries(ke).filter(([,be])=>be>0).map(([be,Qe])=>({cls:be,total:Qe,hex:Qie[be]||"#6b7280"})).sort((be,Qe)=>Qe.total-be.total),St=ie((h||[]).filter(be=>be.status==="Active"),"familyMemberId"),Mr=St.map(be=>({label:be.liabilityName||be.liabilityType||"Loan",value:be.outstandingBalance})),Wt=St.reduce((be,Qe)=>be+Qe.outstandingBalance,0),ir=ze.reduce((be,Qe)=>be+Qe.total,0),Pt=ze.reduce((be,Qe)=>be+Qe.invested,0);return{netWorth:ir-Wt,totalInv:ir,totalInvested:Pt,sections:ze,totalLiab:Wt,liabilities:Mr,assetAllocation:kt}},[r,l,c,u,f,m,h,x]);function de(){z(!1),$(!1)}return a.jsxs("header",{className:"sticky top-0 z-30 shrink-0",children:[a.jsx("style",{children:`
        @keyframes glow-emerald {
          0%, 100% { box-shadow: 0 0 6px rgba(16,185,129,0.3), 0 0 12px rgba(16,185,129,0.15); }
          50% { box-shadow: 0 0 12px rgba(16,185,129,0.5), 0 0 24px rgba(16,185,129,0.25); }
        }
        @keyframes glow-violet {
          0%, 100% { box-shadow: 0 0 6px rgba(139,92,246,0.3), 0 0 12px rgba(139,92,246,0.15); }
          50% { box-shadow: 0 0 12px rgba(139,92,246,0.5), 0 0 24px rgba(139,92,246,0.25); }
        }
        .glow-emerald { animation: glow-emerald 2s ease-in-out infinite; }
        .glow-violet { animation: glow-violet 2s ease-in-out infinite; }
      `}),a.jsx("div",{className:"relative z-10 bg-[var(--bg-header)]/95 backdrop-blur-sm border-b border-[var(--border)]",children:a.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[a.jsxs(_l,{to:"/dashboard",className:"flex items-center gap-2",children:[a.jsx("img",{src:Uie,alt:"CF",className:"h-9 sm:h-12 w-auto"}),a.jsxs("span",{className:"hidden sm:flex items-baseline gap-1 text-lg tracking-tight",style:{fontFamily:"'Poppins', sans-serif"},children:[a.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:"Capital"}),a.jsx("span",{className:"font-extrabold text-emerald-400",children:"Friends"})]})]}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[Se>0&&a.jsxs("button",{onClick:()=>{J(E==="buyopp"?null:"buyopp"),de()},className:`hidden sm:flex glow-emerald items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${E==="buyopp"?"bg-emerald-500/30 text-emerald-300 ring-1 ring-emerald-400/50":"bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25"}`,children:[a.jsx(Mp,{size:13,strokeWidth:2.5}),a.jsx("span",{children:B>0?"Buy Opportunities":"Buying Opportunities"}),B>0&&a.jsxs("span",{className:"text-[11px] bg-emerald-500/30 px-1.5 py-0.5 rounded-full",children:[B," Strong"]}),H>0&&a.jsxs("span",{className:"text-[11px] bg-emerald-500/20 px-1.5 py-0.5 rounded-full",children:[H," Buy"]})]}),Q>0&&a.jsxs("button",{onClick:()=>{J(E==="rebalance"?null:"rebalance"),de()},className:`hidden sm:flex glow-violet items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${E==="rebalance"?"bg-violet-500/30 text-violet-300 ring-1 ring-violet-400/50":"bg-violet-500/15 text-violet-400 hover:bg-violet-500/25"}`,children:[a.jsx(tc,{size:13,strokeWidth:2.5}),a.jsx("span",{children:"Rebalance Alerts"}),a.jsx("span",{className:"text-[11px] bg-violet-500/30 px-1.5 py-0.5 rounded-full",children:Q})]}),a.jsx("button",{onClick:()=>v(!0),disabled:g,className:`p-1.5 sm:p-2 rounded-lg transition-colors ${g?"text-blue-400 cursor-not-allowed":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:"Sync data from Google Sheets",children:a.jsx(tc,{size:16,className:g?"animate-spin":""})}),a.jsx("button",{onClick:C,className:`hidden sm:block p-2 rounded-lg transition-colors ${w?"text-amber-400 bg-amber-500/10":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:w?"Data masked  click to reveal":"Mask sensitive data",children:w?a.jsx(id,{size:18}):a.jsx(Ap,{size:18})}),a.jsx("button",{onClick:t,className:"hidden sm:block p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",title:`Switch to ${e==="dark"?"light":"dark"} mode`,children:e==="dark"?a.jsx(kp,{size:18}):a.jsx(iy,{size:18})}),fe>0&&a.jsxs("div",{className:"relative",ref:F,children:[a.jsxs("button",{onClick:()=>{$(!L),z(!1)},className:"relative p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(S1,{size:18}),a.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-rose-500 rounded-full px-1",children:fe})]}),L&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[a.jsx("div",{className:"px-3 py-2 border-b border-[var(--border-light)]",children:a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Notifications"})}),a.jsxs("div",{className:"max-h-[300px] overflow-y-auto py-1",children:[D.map((ie,ye)=>{const re={critical:"bg-rose-500",warning:"bg-amber-500",info:"bg-blue-500"}[ie.type],Me={critical:"bg-rose-500/15 text-rose-400",warning:"bg-amber-500/15 text-amber-400",info:"bg-blue-500/15 text-blue-400"}[ie.type];return a.jsxs("button",{onClick:()=>{$(!1),A(ie.navigateTo)},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${re}`}),a.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 text-left truncate",children:ie.title}),a.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${Me}`,children:ie.badge})]},`c-${ye}`)}),D.length>0&&T.length>0&&a.jsx("div",{className:"mx-3 my-1 border-t border-[var(--border-light)]"}),T.map(ie=>{const ye=ie.days<=7?"bg-rose-500/15 text-rose-400":ie.days<=15?"bg-amber-500/15 text-amber-400":"bg-slate-500/15 text-[var(--text-muted)]";return a.jsxs("button",{onClick:()=>{$(!1),A("/reminders")},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[a.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-amber-500"}),a.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 truncate",children:ie.title}),a.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${ye}`,children:ie.days===0?"Today":ie.days<=30?`${ie.days}d`:ie.dateStr})]},`r-${ie.reminderId}`)})]})]})]}),a.jsxs("div",{className:"relative",ref:R,children:[a.jsxs("button",{onClick:()=>{z(!O),$(!1)},className:"flex items-center gap-1.5 pl-1 pr-2 py-1 rounded-full hover:bg-[var(--bg-hover)] transition-colors",children:[xe?a.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-br ${Ym[ue%Ym.length]} flex items-center justify-center text-white text-xs font-bold shadow-sm`,children:xe.memberName.charAt(0)}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm",children:a.jsx(Yl,{size:14})}),a.jsx(Ul,{size:14,className:`text-[var(--text-muted)] transition-transform ${O?"rotate-180":""}`})]}),O&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[a.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)]",children:a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Viewing as"})}),a.jsxs("div",{className:"py-1.5",children:[a.jsxs("button",{onClick:()=>{n("all"),z(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${r==="all"?"bg-violet-500/10":"hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm shrink-0",children:a.jsx(Yl,{size:15})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`text-sm font-semibold truncate ${r==="all"?"text-violet-400":"text-[var(--text-primary)]"}`,children:"Everyone"}),a.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:"All family members"})]}),r==="all"&&a.jsx(Cp,{size:16,className:"text-violet-400 shrink-0"})]}),i.length>0&&a.jsx("div",{className:"mx-4 my-1 border-t border-[var(--border-light)]"}),i.map((ie,ye)=>{const re=r===ie.memberId;return a.jsxs("button",{onClick:()=>{n(ie.memberId),z(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${re?`${yE[ye%yE.length]}/10`:"hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("div",{className:`w-9 h-9 rounded-full bg-gradient-to-br ${Ym[ye%Ym.length]} flex items-center justify-center text-white text-sm font-bold shadow-sm shrink-0`,children:ie.memberName.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold truncate text-[var(--text-primary)]",children:k(ie.memberName,"name")}),a.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:ie.relationship||"Family member"})]}),re&&a.jsx(Cp,{size:16,className:"text-emerald-400 shrink-0"})]},ie.memberId)})]}),a.jsxs("div",{className:"sm:hidden border-t border-[var(--border-light)] py-1.5",children:[a.jsxs("button",{onClick:()=>{C(),z(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[w?a.jsx(id,{size:16}):a.jsx(Ap,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:w?"Unmask Data":"Mask Data"})]}),a.jsxs("button",{onClick:()=>{t(),z(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[e==="dark"?a.jsx(kp,{size:16}):a.jsx(iy,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:e==="dark"?"Light Mode":"Dark Mode"})]})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] py-1.5",children:[a.jsxs(_l,{to:"/settings",onClick:()=>z(!1),className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(jO,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),S&&a.jsx("div",{className:"px-4 py-1.5",children:a.jsx("p",{className:"text-[11px] text-[var(--text-muted)] truncate",children:k(S.email,"email")})}),a.jsxs("button",{onClick:()=>{y(),z(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-rose-400 hover:bg-rose-500/10 transition-colors",children:[a.jsx(gO,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"Sign out"})]})]})]})]})]})]})}),a.jsx(tte,{}),a.jsx("nav",{className:"hidden lg:block bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)]",children:a.jsxs("div",{className:"flex items-center px-3 sm:px-4 py-1.5",children:[a.jsx("div",{className:"flex items-center gap-1 overflow-x-auto no-scrollbar flex-1 min-w-0",children:Vie.map(ie=>{const ye=M.pathname.startsWith(ie.match);return a.jsx(_l,{to:ie.path,className:`whitespace-nowrap px-3 py-1.5 rounded-lg text-[13px] font-medium transition-colors ${ye?"bg-violet-500/15 text-violet-400":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:ie.label},ie.path)})}),a.jsxs("button",{onClick:()=>{te(!0),de()},className:`shrink-0 ml-3 flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-colors ${U.netWorth>=0?"bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15":"bg-rose-500/10 border border-rose-500/20 hover:bg-rose-500/15"}`,children:[a.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${U.netWorth>=0?"text-emerald-400/70":"text-rose-400/70"}`,children:"Net Worth"}),a.jsx("span",{className:`text-sm font-extrabold tabular-nums ${U.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:W(U.netWorth)}),a.jsx(ga,{size:12,className:U.netWorth>=0?"text-emerald-400/60":"text-rose-400/60"})]})]})}),a.jsxs("div",{className:"lg:hidden bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)] px-3 py-1.5 flex items-center gap-2 justify-end",children:[Se>0&&a.jsxs("button",{onClick:()=>{J(E==="buyopp"?null:"buyopp"),de()},className:"flex items-center gap-1 px-2 py-1 text-[11px] font-bold text-emerald-400 bg-emerald-500/12 border border-emerald-500/25 rounded-full",children:[a.jsx(Mp,{size:11,strokeWidth:2.5}),a.jsx("span",{children:Se})]}),Q>0&&a.jsxs("button",{onClick:()=>{J(E==="rebalance"?null:"rebalance"),de()},className:"flex items-center gap-1 px-2 py-1 text-[11px] font-bold text-violet-400 bg-violet-500/12 border border-violet-500/25 rounded-full",children:[a.jsx(tc,{size:11,strokeWidth:2.5}),a.jsx("span",{children:Q})]}),a.jsxs("button",{onClick:()=>{te(!0),de()},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-colors ${U.netWorth>=0?"bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15":"bg-rose-500/10 border border-rose-500/20 hover:bg-rose-500/15"}`,children:[a.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${U.netWorth>=0?"text-emerald-400/70":"text-rose-400/70"}`,children:"Net Worth"}),a.jsx("span",{className:`text-sm font-extrabold tabular-nums ${U.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:W(U.netWorth)}),a.jsx(ga,{size:12,className:U.netWorth>=0?"text-emerald-400/60":"text-rose-400/60"})]})]}),Z&&(()=>{const ie=U.sections.map(ye=>({name:ye.label,value:ye.total,fill:wE(ye.key),pct:U.totalInv>0?ye.total/U.totalInv*100:0,color:ye.color,route:ye.route}));return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-3",onClick:()=>te(!1),children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),a.jsxs("div",{className:"relative w-full md:w-auto md:min-w-[720px] md:max-w-4xl max-h-[85vh] overflow-y-auto bg-[var(--bg-card)] rounded-2xl border border-[var(--border)] shadow-2xl shadow-black/40",onClick:ye=>ye.stopPropagation(),children:[a.jsx("button",{onClick:()=>te(!1),className:"absolute top-4 right-4 z-20 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:a.jsx(ni,{size:18,className:"text-[var(--text-secondary)]"})}),U.assetAllocation.length>0&&a.jsxs("div",{className:"px-6 pt-6 pb-3 border-b border-[var(--border-light)]",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider text-center mb-2",children:"Asset Allocation"}),a.jsx("div",{className:"flex h-3 rounded-full overflow-hidden",children:U.assetAllocation.map(ye=>a.jsx("div",{style:{width:`${ye.total/U.totalInv*100}%`,backgroundColor:ye.hex},title:`${ye.cls}: ${(ye.total/U.totalInv*100).toFixed(1)}%`},ye.cls))}),a.jsx("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-1 mt-2",children:U.assetAllocation.map(ye=>a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:ye.hex}}),a.jsxs("span",{className:"text-[10px] text-[var(--text-muted)] tabular-nums",children:[ye.cls," ",(ye.total/U.totalInv*100).toFixed(0),"%"]})]},ye.cls))})]}),a.jsxs("div",{className:"flex flex-col md:flex-row",children:[a.jsx("div",{className:"flex-shrink-0 md:w-[340px] pt-6 pb-4 md:pb-6 px-6 flex flex-col items-center justify-center md:border-r md:border-[var(--border-light)]",children:a.jsxs("div",{className:"relative w-[200px] h-[200px] md:w-[280px] md:h-[280px]",children:[a.jsx(U1,{width:"100%",height:"100%",children:a.jsxs(pj,{children:[a.jsx(Nx,{data:ie,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:"55%",outerRadius:"85%",paddingAngle:3,stroke:"none",isAnimationActive:!1,activeShape:null,children:ie.map((ye,re)=>a.jsx(zc,{fill:ye.fill},re))}),a.jsx(lj,{content:({active:ye,payload:re})=>{if(!ye||!re?.[0])return null;const Me=re[0].payload;return a.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-2.5 py-1.5 shadow-lg text-xs",children:[a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:Me.name}),a.jsxs("span",{className:"text-[var(--text-muted)] ml-1.5",children:[W(Me.value)," (",Me.pct.toFixed(1),"%)"]})]})}})]})}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Net Worth"}),a.jsx("p",{className:"text-lg md:text-xl font-bold text-[var(--text-primary)] tabular-nums",children:W(U.netWorth)})]})]})}),a.jsxs("div",{className:"flex-1 min-w-0 px-3 md:px-5 pt-4 md:pt-6 pb-5 flex flex-col justify-center",children:[a.jsxs("div",{className:"space-y-2",children:[U.sections.map(ye=>{const re=U.totalInv>0?ye.total/U.totalInv*100:0,Me=wE(ye.key);return a.jsxs(_l,{to:ye.route,onClick:()=>te(!1),className:"flex items-center gap-2.5 py-2.5 px-3 rounded-xl transition-colors group",style:{backgroundColor:`${Me}12`},children:[a.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:Me}}),a.jsx("span",{className:"text-[13px] font-medium text-[var(--text-primary)] flex-1 min-w-0 truncate",children:ye.label}),a.jsx("span",{className:"text-[13px] font-bold text-[var(--text-primary)] tabular-nums shrink-0 w-[80px] text-right",children:W(ye.total)}),a.jsxs("span",{className:"text-[10px] font-medium tabular-nums shrink-0 w-[40px] text-center py-0.5 rounded-full",style:{backgroundColor:`${Me}20`,color:Me},children:[re.toFixed(0),"%"]})]},ye.key)}),U.totalLiab>0&&a.jsxs(_l,{to:"/liabilities",onClick:()=>te(!1),className:"flex items-center gap-2.5 py-2.5 px-3 rounded-xl transition-colors group bg-rose-500/[0.07]",children:[a.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-rose-500"}),a.jsxs("span",{className:"text-[13px] font-medium text-[var(--text-primary)] flex-1 min-w-0",children:[U.liabilities.length," ",U.liabilities.length===1?"Loan":"Loans"]}),a.jsxs("span",{className:"text-[13px] font-bold text-rose-400 tabular-nums shrink-0",children:["",W(U.totalLiab)]})]})]}),a.jsxs("div",{className:"mt-4 pt-3 mx-1 border-t border-[var(--border-light)] flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] uppercase tracking-wider text-[var(--text-dim)]",children:"Net Worth"}),a.jsx("span",{className:`text-lg font-bold tabular-nums ${U.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:W(U.netWorth)})]}),a.jsxs("div",{className:"flex flex-col items-end text-[11px] text-[var(--text-dim)] tabular-nums",children:[a.jsxs("span",{children:[W(U.totalInv)," invested"]}),U.totalLiab>0&&a.jsxs("span",{className:"text-rose-400/70",children:["",W(U.totalLiab)," owed"]})]})]})]})]}),U.assetAllocation.length>0&&a.jsx("div",{className:"px-6 py-2.5 border-t border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:"Approximate. MF splits are estimated from fund names. Add Morningstar data in Fund Breakdown for accuracy."})})]})]})})(),E&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-16 sm:pt-24 px-3",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>J(null)}),a.jsxs("div",{className:"relative w-full max-w-3xl max-h-[75vh] rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-2xl shadow-black/40 overflow-hidden flex flex-col animate-in fade-in slide-in-from-top-4 duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--border-light)] shrink-0",children:[a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:Zie[E]}),a.jsx("button",{onClick:()=>J(null),className:"p-1.5 rounded-lg hover:bg-[var(--bg-hover)] text-[var(--text-dim)] transition-colors",children:a.jsx(ni,{size:16})})]}),a.jsxs("div",{className:"overflow-y-auto p-4",children:[E==="buyopp"&&a.jsx(q4,{}),E==="rebalance"&&a.jsx(MI,{})]})]})]})]})}const ese=[{label:"Dashboard",icon:Kz,path:"/dashboard"},{label:"Invest",icon:cp,path:"/investments/mutual-funds"},{label:"Accounts",icon:Rh,path:"/accounts/bank"},{label:"Goals",icon:_d,path:"/goals"},{label:"More",icon:Dz,path:"/more"}];function tse(){return a.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-[var(--bg-sidebar)] border-t border-[var(--border)] safe-bottom",children:a.jsx("div",{className:"flex items-center justify-around h-[56px]",children:ese.map(({label:e,icon:t,path:r})=>a.jsx(N_,{to:r,className:({isActive:n})=>`relative flex flex-col items-center justify-center gap-0.5 w-full h-full text-xs font-medium transition-colors ${n?"text-[var(--sidebar-active-text)]":"text-[var(--text-dim)]"}`,children:({isActive:n})=>a.jsxs(a.Fragment,{children:[n&&a.jsx("span",{className:"absolute top-0 w-10 h-[2.5px] bg-[var(--sidebar-active-text)] rounded-b-full"}),a.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-xl transition-colors ${n?"bg-[var(--sidebar-active-bg)]":""}`,children:a.jsx(t,{size:19,strokeWidth:n?2.2:1.5})}),a.jsx("span",{className:n?"font-semibold":"",children:e})]})},r))})})}const rse="/logo-new.png";function _h(){return a.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:a.jsxs("div",{className:"flex flex-col items-center gap-6",children:[a.jsx("img",{src:rse,alt:"Capital Friends",className:"h-16 w-auto animate-pulse"}),a.jsx("div",{className:"w-40 h-1 rounded-full bg-[var(--border)] overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-violet-500 to-cyan-500 animate-loading-bar"})})]})})}const jE="jagadeeshmanne.hdfc@kphdfc";function DI({open:e,onClose:t}){const[r,n]=j.useState(!1);if(!e)return null;function i(){navigator.clipboard.writeText(jE).then(()=>{n(!0),setTimeout(()=>n(!1),2e3)})}return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:t,children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),a.jsxs("div",{className:"relative w-full max-w-sm mx-4 bg-[var(--bg-card)] rounded-2xl border border-[var(--border)] overflow-hidden",onClick:l=>l.stopPropagation(),children:[a.jsx("button",{onClick:t,className:"absolute top-3 right-3 z-20 p-1.5 rounded-full bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)]",children:a.jsx(ni,{size:16,className:"text-[var(--text-muted)]"})}),a.jsxs("div",{className:"pt-6 pb-5 px-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-pink-500/20 flex items-center justify-center mx-auto mb-3",children:a.jsx(Ed,{size:24,className:"text-pink-400"})}),a.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Support the Developer"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"Capital Friends is free and always will be. If it helps your family, a small donation means a lot!"}),a.jsx("div",{className:"mt-4 bg-white rounded-xl p-3 inline-block mx-auto",children:a.jsx("img",{src:"/upi-qr-code.png",alt:"UPI QR Code",className:"w-48 h-48 object-contain"})}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-3",children:"Scan with any UPI app"}),a.jsxs("div",{className:"mt-3 flex items-center justify-center gap-2",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"UPI ID"}),a.jsx("p",{className:"text-sm font-mono font-semibold text-[var(--text-primary)] select-all",children:jE})]}),a.jsx("button",{onClick:i,className:"shrink-0 px-3 py-2.5 rounded-lg text-xs font-semibold bg-pink-500/15 text-pink-400 hover:bg-pink-500/25 transition-colors flex items-center gap-1.5",children:r?a.jsxs(a.Fragment,{children:[a.jsx(Cp,{size:14})," Copied"]}):a.jsxs(a.Fragment,{children:[a.jsx(bz,{size:14})," Copy"]})})]}),a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)] mt-4",children:["Developed with love by ",a.jsx("span",{className:"font-semibold text-[var(--text-muted)]",children:"Jagadeesh Manne"})]})]})]})]})}function nse(){const{loading:e,error:t}=ht(),[r,n]=j.useState(!1),[i,l]=j.useState(!1);return e?a.jsx(_h,{}):t?a.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:a.jsxs("div",{className:"flex flex-col items-center gap-4 text-center px-6",children:[a.jsx("img",{src:"/logo-new.png",alt:"Capital Friends",className:"h-16 w-auto opacity-50"}),a.jsx("p",{className:"text-rose-400 text-sm font-medium",children:t}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-violet-600 hover:bg-violet-500 text-white transition-colors",children:"Retry"})]})}):a.jsxs("div",{className:"flex flex-col h-dvh bg-[var(--bg-base)] overflow-hidden",children:[a.jsx(Jie,{}),a.jsxs("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-20 lg:pb-0",children:[a.jsx("div",{className:"px-3 sm:px-4 py-3 sm:py-4 w-full max-w-7xl mx-auto",children:a.jsx(b_,{})}),a.jsx("footer",{className:"hidden lg:block border-t border-[var(--border-light)] mt-4",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"Capital Friends  Family Portfolio Manager"})})})]}),a.jsx(tse,{}),!i&&a.jsx("div",{className:"fixed bottom-20 lg:bottom-4 left-1/2 -translate-x-1/2 z-40 w-[calc(100%-32px)] max-w-md",children:a.jsxs("div",{className:"relative overflow-hidden rounded-xl border border-pink-500/30 p-3.5 shadow-lg backdrop-blur-sm",style:{background:"var(--bg-card)"},children:[a.jsx("button",{onClick:c=>{c.stopPropagation(),l(!0)},className:"absolute top-2 right-2 p-1 rounded-full hover:bg-[var(--bg-hover)] transition-colors",children:a.jsx(ni,{size:14,className:"text-[var(--text-dim)]"})}),a.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>{n(!0),l(!0)},children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-pink-500/20 flex items-center justify-center shrink-0",children:a.jsx(Ed,{size:20,className:"text-pink-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Built with ",a.jsx("span",{className:"text-rose-400",children:""})," by Jagadeesh Manne"]}),a.jsx("p",{className:"text-sm font-semibold text-pink-400 mt-0.5",children:"Support the Developer"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:"If Capital Friends helps you, consider buying me a chai!"})]})]})]})}),a.jsx(DI,{open:r,onClose:()=>n(!1)})]})}function ase(){const{isAuthenticated:e,loading:t}=eo(),{healthCheckCompleted:r,loading:n}=ht(),i=Ma();return t&&!e?a.jsx(_h,{phase:"auth"}):!e&&!t?a.jsx(ry,{to:"/",replace:!0}):n?a.jsx(_h,{phase:"data"}):r===!1&&i.pathname!=="/health-check"?a.jsx(ry,{to:"/health-check",replace:!0}):a.jsx(b_,{})}const $b="/logo-new.png";function EI(){const{isAuthenticated:e,loading:t,error:r,signIn:n}=eo(),i=Gs(),[l,c]=j.useState(0),[u,f]=j.useState(!1),m=j.useRef(null),h=j.useCallback(()=>{m.current&&clearInterval(m.current),m.current=setInterval(()=>{f(S=>(S||c(y=>(y+1)%4),S))},5e3)},[]);j.useEffect(()=>(h(),()=>{m.current&&clearInterval(m.current)}),[h]);function x(S){c(S),h()}if(j.useEffect(()=>{e&&i("/dashboard",{replace:!0})},[e,i]),t)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#080d1a]",children:a.jsx("img",{src:$b,alt:"",className:"h-16 w-auto animate-pulse"})});const v=[{id:"ath",label:"ATH Tracking",icon:a.jsx(oc,{size:18}),color:"emerald",tagline:"Spot Buying Opportunities",desc:"See how far each mutual fund is from its All-Time High NAV. When a quality fund dips 10-20% below ATH, it's your signal to invest more  via SIP increase or lumpsum.",mock:a.jsx(sse,{})},{id:"rebalance",label:"Rebalancing",icon:a.jsx(tc,{size:18}),color:"violet",tagline:"Know Exactly What to Buy or Sell",desc:"Set target allocation for each fund. When your portfolio drifts, Capital Friends tells you exactly how much to adjust  via SIP changes, lumpsum top-ups, or buy/sell actions.",mock:a.jsx(lse,{})},{id:"goals",label:"Goal Linking",icon:a.jsx(_d,{size:18}),color:"cyan",tagline:"Link Portfolios to Goals",desc:"Create goals like retirement, child education, or emergency fund. Link MF portfolios with allocation percentages. Goal progress updates automatically as NAVs change daily.",mock:a.jsx(ose,{})},{id:"dashboard",label:"Family View",icon:a.jsx(Yl,{size:18}),color:"amber",tagline:"Everyone's Wealth, One Dashboard",desc:"Switch between family members in one click. See combined or individual net worth, investments, insurance, loans  everything your family owns, in one place.",mock:a.jsx(ise,{})}],g=v[l];return a.jsxs("div",{className:"min-h-screen bg-[#080d1a] text-slate-200",children:[a.jsx("header",{className:"sticky top-0 z-50 bg-[#0a0f1f]/95 backdrop-blur-sm border-b border-white/[0.06]",children:a.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:$b,alt:"CF",className:"h-12 w-auto"}),a.jsxs("span",{className:"flex items-baseline gap-1 text-lg tracking-tight",style:{fontFamily:"'Poppins', sans-serif"},children:[a.jsx("span",{className:"font-bold text-white",children:"Capital"}),a.jsx("span",{className:"font-extrabold text-emerald-400",children:"Friends"})]})]}),a.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-600 to-cyan-600 text-white text-sm font-semibold hover:from-violet-500 hover:to-cyan-500 transition-all cursor-pointer",children:[a.jsx(SE,{s:14})," Sign In"]})]})}),a.jsxs("section",{className:"relative px-5 sm:px-8 lg:px-16 pt-10 sm:pt-14 pb-8 sm:pb-10 overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[400px] bg-violet-600/8 rounded-full blur-[120px] pointer-events-none"}),a.jsx("div",{className:"absolute top-20 right-1/4 w-[400px] h-[300px] bg-cyan-600/6 rounded-full blur-[100px] pointer-events-none"}),a.jsxs("div",{className:"relative text-center",children:[a.jsx("span",{className:"inline-block text-xs font-bold uppercase tracking-[0.2em] text-violet-400 bg-violet-500/10 border border-violet-500/20 rounded-full px-4 py-1.5 mb-5",children:"Always Free  100% Private  Your Google Sheet"}),a.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold leading-[1.1] tracking-tight text-white",children:["One dashboard for your family's"," ",a.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-cyan-400 bg-clip-text text-transparent",children:"entire wealth"})]}),a.jsxs("p",{className:"mt-5 text-base sm:text-lg text-slate-400 leading-relaxed max-w-2xl mx-auto",children:["Mutual funds, stocks, FDs, gold, insurance, loans  track everything for every family member. Manual entry means ",a.jsx("strong",{className:"text-white",children:"no bank credentials, no privacy risk"}),"."]}),r&&a.jsx("p",{className:"mt-5 text-sm text-rose-400",children:r})]})]}),a.jsxs("section",{className:"bg-gradient-to-b from-[#0d0a1a] to-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-10 sm:py-14",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3 flex-wrap justify-center",children:[a.jsx($s,{size:28,className:"text-amber-400 shrink-0"}),a.jsxs("span",{children:["What happens if something happens to ",a.jsx("span",{className:"text-amber-400",children:"you"}),"?"]})]}),a.jsxs("p",{className:"mt-4 text-lg text-slate-400 leading-relaxed",children:["Your family should know about every investment, every policy, every loan. Not someday. ",a.jsx("strong",{className:"text-white",children:"Right now."})]})]}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsx(NE,{icon:a.jsx(Ap,{size:20}),color:"rose",title:"Without Capital Friends",items:["Scattered investments across 10+ platforms","Family has no idea what you own or owe","Insurance policies lost in email threads","Months of confusion, missed renewals, lost money"],bad:!0}),a.jsx(NE,{icon:a.jsx(rc,{size:20}),color:"emerald",title:"With Capital Friends",items:["One sheet  every investment, policy, and loan","Family receives email reports with full portfolio details","Reminders for SIPs, renewals, EMI payments","Complete clarity, instantly  when it matters most"]})]}),a.jsxs("p",{className:"text-center mt-8 text-base text-slate-500",children:["Built for ",a.jsx("strong",{className:"text-white",children:"you"})," to manage your wealth  and for your ",a.jsx("strong",{className:"text-white",children:"family"})," to access it when they need to."]})]}),a.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"How it Works"}),a.jsx("p",{className:"text-base text-slate-500",children:"Set up in 2 minutes  no bank credentials, no downloads"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-4",children:[a.jsx(Vm,{num:1,icon:a.jsx(tB,{size:24}),color:"violet",title:"Sign In with Google",desc:"Go to capitalfriends.in and sign in with your Google account. That's all  no registration form, no passwords."}),a.jsx(Vm,{num:2,icon:a.jsx(Tz,{size:24}),color:"emerald",title:"App Creates Your Sheet",desc:"The app creates a private Google Sheet in your own Google Drive. This sheet stores all your financial data. Only you can see it  not even the developer."}),a.jsx(Vm,{num:3,icon:a.jsx(fO,{size:24}),color:"cyan",title:"Financial Health Check",desc:"Answer 7 simple yes/no questions about your financial health. Get your score and personalized recommendations instantly."}),a.jsx(Vm,{num:4,icon:a.jsx(oc,{size:24}),color:"amber",title:"Start Tracking",desc:"Add family members, portfolios, goals, insurance, and loans. The app connects to AMFI for live mutual fund prices automatically."})]}),a.jsxs("p",{className:"text-center mt-10 text-sm text-slate-600",children:["Your sheet is named ",a.jsx("strong",{className:"text-slate-400",children:"Capital Friends - Your Name"})," and lives in your Google Drive. The web app is just a beautiful dashboard to view and manage it."]})]}),a.jsxs("section",{id:"features",className:"bg-[#0b1022] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",onMouseEnter:()=>f(!0),onMouseLeave:()=>{f(!1),h()},children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Features That Set Us Apart"}),a.jsx("p",{className:"text-base text-slate-500",children:"Things you won't find on other portfolio trackers"})]}),a.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 mb-10 flex-wrap",children:v.map((S,y)=>{const w=y===l,C={emerald:"border-emerald-500",violet:"border-violet-500",cyan:"border-cyan-500",amber:"border-amber-500"},k={emerald:"text-emerald-400",violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400"};return a.jsxs("button",{onClick:()=>x(y),className:`relative flex items-center gap-2 px-5 py-2.5 rounded-full border text-sm font-semibold transition-all cursor-pointer ${w?`${C[S.color]} bg-white/[0.05] ${k[S.color]}`:"border-white/[0.08] text-slate-500 hover:border-white/[0.15] hover:text-slate-300"}`,children:[a.jsx("span",{className:"shrink-0",children:S.icon}),S.label,w&&a.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-0.5 bg-white/[0.06] rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-current",style:{animation:"featureProgress 5s linear",animationPlayState:u?"paused":"running"}})})]},S.id)})}),a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-8 lg:gap-12",children:[a.jsxs("div",{className:"lg:flex-1 min-h-[280px]",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:g.tagline}),a.jsx("p",{className:"mt-3 text-base text-slate-400 leading-relaxed",children:g.desc}),g.id==="ath"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(Xr,{c:"emerald",t:"ATH tracking only for funds in your portfolios"}),a.jsx(Xr,{c:"emerald",t:"Color-coded signals: watch, consider, buy, strong buy"}),a.jsx(Xr,{c:"emerald",t:"Increase SIP or invest lumpsum when funds dip"}),a.jsx(Xr,{c:"emerald",t:"Daily NAV updates from AMFI data"})]}),g.id==="rebalance"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(Xr,{c:"violet",t:"Adjust monthly SIP to rebalance gradually"}),a.jsx(Xr,{c:"violet",t:"Lumpsum top-up for quick rebalance"}),a.jsx(Xr,{c:"violet",t:"Buy/Sell amounts to match target"}),a.jsx(Xr,{c:"violet",t:"Configurable threshold per portfolio"})]}),g.id==="goals"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(Xr,{c:"cyan",t:"Link multiple MF portfolios to each goal"}),a.jsx(Xr,{c:"cyan",t:"Built-in SIP + lumpsum calculator with inflation"}),a.jsx(Xr,{c:"cyan",t:"Auto-status: On Track, Needs Attention, Achieved"}),a.jsx(Xr,{c:"cyan",t:"Withdrawal planning for retirement goals"})]}),g.id==="dashboard"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(Xr,{c:"amber",t:"One-click switch between family members"}),a.jsx(Xr,{c:"amber",t:"Combined net worth across everyone"}),a.jsx(Xr,{c:"amber",t:"MF, stocks, FD, gold, PPF, NPS, insurance"}),a.jsx(Xr,{c:"amber",t:"Email reports sent to family automatically"})]})]}),a.jsx("div",{className:"lg:flex-1 min-w-0 min-h-[380px] flex flex-col justify-center",children:g.mock})]}),a.jsx("style",{children:`
          @keyframes featureProgress {
            from { width: 0% }
            to { width: 100% }
          }
        `})]}),a.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Everything You Need"}),a.jsx("p",{className:"text-base text-slate-500",children:"One dashboard for your entire financial life"})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[a.jsx(Os,{icon:a.jsx(ec,{size:20}),c:"rose",t:"Stock Portfolios",d:"Buy/sell tracking, average cost, P&L with live NSE prices"}),a.jsx(Os,{icon:a.jsx(dB,{size:20}),c:"orange",t:"FD, Gold, PPF, NPS",d:"Track any investment type  all counted in net worth"}),a.jsx(Os,{icon:a.jsx(rc,{size:20}),c:"teal",t:"Insurance Tracker",d:"Life, health, term policies with premiums & renewal dates"}),a.jsx(Os,{icon:a.jsx(Rh,{size:20}),c:"red",t:"Liabilities",d:"Loans & EMIs. Net worth = total assets minus debts"}),a.jsx(Os,{icon:a.jsx(S1,{size:20}),c:"yellow",t:"Smart Reminders",d:"SIP dates, renewals, EMI payments, maturity alerts"}),a.jsx(Os,{icon:a.jsx(Yl,{size:20}),c:"pink",t:"Family Sharing",d:"Invite family with Google accounts  shared dashboard"}),a.jsx(Os,{icon:a.jsx(tc,{size:20}),c:"blue",t:"Daily Auto-Refresh",d:"NAVs and stock prices update automatically every day"}),a.jsx(Os,{icon:a.jsx(Z0,{size:20}),c:"emerald",t:"Complete Privacy",d:"No servers, no database, no tracking  your Sheet only"})]})]}),a.jsxs("section",{className:"border-y border-white/[0.06]",children:[a.jsxs("div",{className:"bg-[#0b1022] px-5 sm:px-8 lg:px-16 py-10 sm:py-14 text-center",children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3",children:[a.jsx(Z0,{size:28,className:"text-emerald-400 shrink-0"}),"Your Data Never Leaves Google"]}),a.jsxs("p",{className:"mt-3 text-base sm:text-lg text-slate-400 leading-relaxed",children:["No backend server. No database. No tracking. The web app is a static site. Your spreadsheet lives in ",a.jsx("strong",{className:"text-white",children:"your Google Drive"}),". We literally cannot access your financial data."]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row",children:[a.jsx(Ub,{icon:a.jsx(rc,{size:20}),t:"Manual Entry Only",d:"No bank linking, no credentials shared. You type your data  no one else has access.",bg:"bg-[#0d1326]",c:"emerald"}),a.jsx(Ub,{icon:a.jsx(Z0,{size:20}),t:"Your Google Sheet",d:"A private spreadsheet in your Drive. Share only with family you choose.",bg:"bg-[#0f1530]",c:"violet"}),a.jsx(Ub,{icon:a.jsx(Ed,{size:20}),t:"Always Free",d:"No premium tier, no hidden fees, no ads. Free today, free forever.",bg:"bg-[#111838]",c:"amber"})]})]}),a.jsxs("section",{className:"bg-gradient-to-t from-[#080d1a] to-[#0d1128] border-t border-white/[0.06] px-5 sm:px-8 lg:px-16 py-16 text-center",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white",children:"Start managing your family's wealth today"}),a.jsx("p",{className:"mt-3 text-base text-slate-500",children:"Always free. No credit card. No bank linking. Just your Google account."}),a.jsxs("button",{onClick:n,className:"mt-8 inline-flex items-center gap-2.5 px-8 py-3.5 bg-gradient-to-r from-violet-600 to-cyan-600 text-white font-bold text-base rounded-xl hover:from-violet-500 hover:to-cyan-500 shadow-lg shadow-violet-900/30 transition-all hover:scale-[1.02] cursor-pointer",children:[a.jsx(SE,{s:20})," Sign in with Google  It's Free"]}),r&&a.jsx("p",{className:"mt-3 text-sm text-rose-400",children:r})]}),a.jsxs("footer",{className:"border-t border-white/[0.04] px-5 sm:px-8 lg:px-16 py-5 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1.5 opacity-30",children:[a.jsx("img",{src:$b,alt:"",className:"h-5 w-auto"}),a.jsxs("span",{className:"text-xs font-bold text-white",style:{fontFamily:"'Poppins', sans-serif"},children:["Capital",a.jsx("span",{class:"text-emerald-400",children:"Friends"})]})]}),a.jsx("p",{className:"text-xs text-slate-600",children:"Your data. Your Google Drive. Your control."})]})]})}function NE({icon:e,title:t,items:r,bad:n}){const i=n?"border-rose-500/15":"border-emerald-500/15",l=n?"bg-rose-500/[0.04]":"bg-emerald-500/[0.04]",c=n?"bg-rose-500/10 text-rose-400":"bg-emerald-500/10 text-emerald-400",u=n?"text-rose-400":"text-emerald-400";return a.jsxs("div",{className:`rounded-2xl border ${i} ${l} p-6`,children:[a.jsxs("h3",{className:`text-lg font-bold ${u} mb-4 flex items-center gap-2.5`,children:[a.jsx("span",{className:`flex items-center justify-center w-8 h-8 rounded-lg ${c} shrink-0`,children:e}),t]}),a.jsx("ul",{className:"space-y-3",children:r.map((f,m)=>a.jsxs("li",{className:"flex items-start gap-2.5",children:[n?a.jsx("span",{className:"text-rose-500/60 mt-0.5 shrink-0",children:""}):a.jsx(Dc,{size:16,className:"text-emerald-500 mt-0.5 shrink-0"}),a.jsx("span",{className:"text-sm text-slate-300 leading-relaxed",children:f})]},m))})]})}function ise(){return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f]",children:[a.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Dashboard"}),a.jsx("div",{className:"flex gap-1.5",children:["Everyone","Jagadeesh","Priya","Arjun"].map((e,t)=>a.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ${t===0?"bg-violet-500/20 text-violet-300":"text-slate-600"}`,children:e},e))})]}),a.jsxs("div",{className:"grid grid-cols-3 divide-x divide-white/[0.04]",children:[a.jsx(qb,{l:"Net Worth",v:"45.2L",lc:"text-violet-400",vc:"text-white"}),a.jsx(qb,{l:"Invested",v:"38.7L",lc:"text-slate-500",vc:"text-slate-300"}),a.jsx(qb,{l:"P&L",v:"+6.5L",lc:"text-slate-500",vc:"text-emerald-400",extra:"+16.8%"})]}),a.jsxs("div",{className:"border-t border-white/[0.04]",children:[a.jsx(Hb,{n:"Axis Bluechip Fund",alloc:"30% / 25%",cur:"6.2L",pl:"+24.0%",ath:"5.2%",athC:"text-[#e67e00]",up:!0}),a.jsx(Hb,{n:"Parag Parikh Flexi Cap",alloc:"35% / 40%",cur:"4.8L",pl:"+37.1%",ath:"At ATH",athC:"text-emerald-500",up:!0}),a.jsx(Hb,{n:"SBI Small Cap Fund",alloc:"20% / 15%",cur:"1.8L",pl:"-10.0%",ath:"18.3%",athC:"text-[#d84315]",last:!0})]})]})}function sse(){const e=[{n:"HDFC Mid-Cap Opportunities",nav:"142.35",ath:"168.50",pct:"15.5%",color:"text-[#d84315]",signal:"Good Buy Signal",sigC:"text-[#d84315] bg-[#d84315]/15"},{n:"Axis Small Cap Fund",nav:"38.22",ath:"52.10",pct:"26.6%",color:"text-[#c62828]",signal:"Strong Buy",sigC:"text-[#c62828] bg-[#c62828]/15 font-bold"},{n:"Kotak Emerging Equity",nav:"89.10",ath:"92.40",pct:"3.6%",color:"text-[#b8860b]",signal:"Watch",sigC:"text-[#b8860b] bg-[#b8860b]/15"},{n:"Mirae Asset Large Cap",nav:"105.80",ath:"106.20",pct:"0.4%",color:"text-slate-500",signal:"Near ATH",sigC:"text-slate-500 bg-white/[0.04]"}];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Buy Opportunities"}),a.jsx("span",{className:"text-xs text-emerald-400 font-semibold bg-emerald-500/10 px-2.5 py-1 rounded-full",children:"2 signals"})]}),e.map((t,r)=>a.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${r<e.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:t.n}),a.jsxs("p",{className:"text-xs text-slate-600 mt-0.5",children:["NAV ","",t.nav,"  ATH ","",t.ath]})]}),a.jsxs("div",{className:"text-right shrink-0 ml-3",children:[a.jsxs("p",{className:`text-base font-bold tabular-nums ${t.color}`,children:[a.jsx(qF,{size:13,className:"inline -mt-0.5"})," ",t.pct]}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded ${t.sigC}`,children:t.signal})]})]},r))]})}function lse(){const[e,t]=j.useState(0),r=["SIP Adjust","Lumpsum","Buy / Sell"],n=["New SIP","Lumpsum Top-up","Action"],l=[[{n:"Axis Bluechip",val:"SIP 6,000",cur:"30%",tgt:"25%",action:"Stop SIP",actionC:"text-amber-400"},{n:"Parag Parikh Flexi",val:"SIP 7,000",cur:"35%",tgt:"40%",action:"12,000/mo",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"SIP 4,000",cur:"20%",tgt:"15%",action:"Stop SIP",actionC:"text-amber-400"},{n:"HDFC Large Cap",val:"SIP 3,000",cur:"15%",tgt:"20%",action:"8,000/mo",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"No action",actionC:"text-slate-600"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Invest 55,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"No action",actionC:"text-slate-600"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Invest 45,000",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Buy 50,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Buy 50,000",actionC:"text-emerald-400"}]][e];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Rebalance Portfolio"}),a.jsx("span",{className:"text-xs text-violet-400 font-semibold bg-violet-500/10 px-2.5 py-1 rounded-full",children:"4 off-target"})]}),a.jsx("div",{className:"flex border-b border-white/[0.04]",children:r.map((c,u)=>a.jsx("button",{onClick:()=>t(u),className:`flex-1 text-xs font-semibold py-2.5 text-center cursor-pointer transition-colors ${u===e?"text-violet-400 border-b-2 border-violet-400":"text-slate-600 hover:text-slate-400"}`,children:c},c))}),a.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 border-b border-white/[0.04] bg-[#0a0f1f]/50 flex-wrap",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"Portfolio Value"}),a.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","10,00,000"]}),e===0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xs text-slate-600",children:"|"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Total SIP"}),a.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","20,000"]})]}),e===1&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xs text-slate-600",children:"|"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Lumpsum"}),a.jsx("input",{type:"text",readOnly:!0,value:"1,00,000",className:"bg-white/[0.04] border border-white/[0.08] rounded-md px-2 py-1 text-sm text-white font-semibold tabular-nums w-24 text-right cursor-default outline-none"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 text-xs text-slate-600 font-semibold border-b border-white/[0.03]",children:[a.jsx("span",{children:"Fund / Value"}),a.jsx("span",{className:"text-center",children:"Current"}),a.jsx("span",{className:"text-center",children:"Target"}),a.jsx("span",{className:"text-right",children:n[e]})]}),l.map((c,u)=>a.jsxs("div",{className:`grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 items-center ${u<l.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("span",{className:"text-sm text-slate-300 truncate block",children:c.n}),a.jsxs("span",{className:"text-[10px] text-slate-600",children:["",c.val]})]}),a.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:c.cur}),a.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:c.tgt}),a.jsx("span",{className:`text-sm text-right font-semibold ${c.actionC}`,children:c.action})]},`${e}-${u}`))]})]})}function ose(){const e=[{n:"Retirement",tgt:"2Cr",cur:"28.5L",pct:14,sip:"45,000",yrs:"18 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"Child Education",tgt:"50L",cur:"12.2L",pct:24,sip:"15,000",yrs:"12 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"New Car",tgt:"15L",cur:"4.1L",pct:27,sip:"12,000",yrs:"3 yrs",status:"Needs Attention",sc:"text-amber-400 bg-amber-500/15",bc:"bg-amber-500"}];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Goals"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"2 On Track"}),a.jsx("span",{className:"text-xs text-amber-400",children:"1 Needs Attention"})]})]}),e.map((t,r)=>a.jsxs("div",{className:`px-4 py-3.5 ${r<e.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:t.n}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${t.sc}`,children:t.status})]}),a.jsxs("span",{className:"text-xs text-slate-500",children:["",t.sip,"/mo  ",t.yrs]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1 h-2.5 rounded-full bg-white/[0.06] overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${t.bc}`,style:{width:`${t.pct}%`}})}),a.jsxs("span",{className:"text-sm font-semibold text-slate-300 tabular-nums w-10 text-right",children:[t.pct,"%"]})]}),a.jsxs("div",{className:"flex justify-between mt-1.5 text-xs text-slate-600",children:[a.jsxs("span",{children:["",t.cur," of ","",t.tgt]}),a.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[a.jsx(vO,{size:10})," 2 portfolios linked"]})]})]},r))]})}function SE({s:e=16}){return a.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,className:"shrink-0",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function qb({l:e,v:t,lc:r,vc:n,extra:i}){return a.jsxs("div",{className:"py-3.5 text-center",children:[a.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${r}`,children:e}),a.jsxs("p",{className:`text-lg font-bold tabular-nums mt-0.5 ${n}`,children:[t,i&&a.jsx("span",{className:"text-sm ml-1 text-emerald-400",children:i})]})]})}function Hb({n:e,alloc:t,cur:r,pl:n,ath:i,athC:l,up:c,last:u}){return a.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${u?"":"border-b border-white/[0.03]"}`,children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-300",children:e}),a.jsxs("p",{className:"text-xs text-slate-600",children:["Alloc ",t,"  ",a.jsx("span",{className:l,children:i!=="At ATH"?`${i} below ATH`:i})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-200 tabular-nums",children:r}),a.jsx("p",{className:`text-sm font-semibold tabular-nums ${c?"text-emerald-400":"text-rose-400"}`,children:n})]})]})}function Xr({c:e,t}){const r={violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400",emerald:"text-emerald-400"};return a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx(Dc,{size:16,className:`${r[e]} shrink-0`}),a.jsx("span",{className:"text-sm text-slate-300",children:t})]})}function Vm({num:e,icon:t,color:r,title:n,desc:i}){const l={violet:["text-violet-400","bg-violet-500/10","border-violet-500/20","from-violet-500/20 to-violet-500/5"],emerald:["text-emerald-400","bg-emerald-500/10","border-emerald-500/20","from-emerald-500/20 to-emerald-500/5"],cyan:["text-cyan-400","bg-cyan-500/10","border-cyan-500/20","from-cyan-500/20 to-cyan-500/5"],amber:["text-amber-400","bg-amber-500/10","border-amber-500/20","from-amber-500/20 to-amber-500/5"]},[c,u,f,m]=l[r]||l.violet;return a.jsxs("div",{className:`relative rounded-2xl border ${f} bg-gradient-to-b ${m} p-6 text-center`,children:[a.jsx("span",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl ${u} ${c} mb-4`,children:t}),a.jsxs("span",{className:`absolute top-4 right-4 text-xs font-bold ${c} opacity-40`,children:["0",e]}),a.jsx("h3",{className:"text-base font-bold text-white mb-2",children:n}),a.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:i})]})}function Ub({icon:e,t,d:r,bg:n,c:i}){const l={emerald:"text-emerald-400",violet:"text-violet-400",amber:"text-amber-400"};return a.jsxs("div",{className:`flex-1 ${n} px-5 sm:px-8 lg:px-10 py-6 sm:py-8 border-b sm:border-b-0 sm:border-r border-white/[0.04] last:border-0`,children:[a.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:`${l[i]} shrink-0`,children:e}),t]}),a.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:r})]})}const CE={violet:["text-violet-400","bg-violet-500/8","border-violet-500/10"],blue:["text-blue-400","bg-blue-500/8","border-blue-500/10"],emerald:["text-emerald-400","bg-emerald-500/8","border-emerald-500/10"],cyan:["text-cyan-400","bg-cyan-500/8","border-cyan-500/10"],rose:["text-rose-400","bg-rose-500/8","border-rose-500/10"],orange:["text-orange-400","bg-orange-500/8","border-orange-500/10"],teal:["text-teal-400","bg-teal-500/8","border-teal-500/10"],red:["text-red-400","bg-red-500/8","border-red-500/10"],yellow:["text-yellow-400","bg-yellow-500/8","border-yellow-500/10"],pink:["text-pink-400","bg-pink-500/8","border-pink-500/10"]};function Os({icon:e,c:t,t:r,d:n}){const[i,l,c]=CE[t]||CE.violet;return a.jsxs("div",{className:`rounded-xl border ${c} ${l} p-5`,children:[a.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:`${i} shrink-0`,children:e}),r]}),a.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:n})]})}function cse(){const{isAuthenticated:e,loading:t}=eo();return t?a.jsx(_h,{}):e?a.jsx(ry,{to:"/dashboard",replace:!0}):a.jsx(EI,{})}function use(){const e=Ma();return a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-violet-500/15 rounded-2xl flex items-center justify-center mb-4",children:a.jsx(vz,{size:32,className:"text-violet-400"})}),a.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)] mb-2",children:"Coming Soon"}),a.jsx("p",{className:"text-[var(--text-muted)] text-sm max-w-sm",children:"This page is under construction. Navigate using the sidebar to explore available sections."}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-3 font-mono",children:e.pathname})]})}const dse=["Savings Account","Current Account","Fixed Deposit (FD)","Recurring Deposit (RD)","NRE Account","NRO Account","Minor Account"].map(e=>({value:e,label:e}));function fse({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i}=ht(),l=!!e,[c,u]=j.useState({accountName:e?.accountName||"",memberId:e?.memberId||"",bankName:e?.bankName||"",accountNumber:e?.accountNumber||"",ifscCode:e?.ifscCode||"",branchName:e?.branchName||"",accountType:e?.accountType||"",status:e?.status||"Active"}),[f,m]=j.useState({}),[h,x]=j.useState(!1);function v(w,C){u(k=>({...k,[w]:C})),m(k=>({...k,[w]:void 0}))}function g(){const w={};return c.accountName.trim()||(w.accountName="Required"),c.memberId||(w.memberId="Required"),c.bankName.trim()||(w.bankName="Required"),String(c.accountNumber||"").trim()||(w.accountNumber="Required"),c.ifscCode.trim()||(w.ifscCode="Required"),c.branchName.trim()||(w.branchName="Required"),c.accountType||(w.accountType="Required"),m(w),Object.keys(w).length===0}async function S(){if(g()){x(!0);try{await t({...c,ifscCode:c.ifscCode.toUpperCase()})}finally{x(!1)}}}const y=i.map(w=>({value:w.memberId,label:`${w.memberName} (${w.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Account Name",required:!0,error:f.accountName,children:a.jsx(Re,{value:c.accountName,onChange:w=>v("accountName",w),placeholder:"e.g., HDFC Savings"})}),a.jsx(pe,{label:"Family Member",required:!0,error:f.memberId,children:a.jsx(et,{value:c.memberId,onChange:w=>v("memberId",w),options:y,placeholder:"Select member..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Bank Name",required:!0,error:f.bankName,children:a.jsx(Re,{value:c.bankName,onChange:w=>v("bankName",w),placeholder:"e.g., HDFC Bank"})}),a.jsx(pe,{label:"Account Type",required:!0,error:f.accountType,children:a.jsx(et,{value:c.accountType,onChange:w=>v("accountType",w),options:dse,placeholder:"Select type..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Account Number",required:!0,error:f.accountNumber,children:a.jsx(Re,{sensitive:!0,value:c.accountNumber,onChange:w=>v("accountNumber",w),placeholder:"e.g., 1234567890"})}),a.jsx(pe,{label:"IFSC Code",required:!0,error:f.ifscCode,children:a.jsx(Re,{value:c.ifscCode,onChange:w=>v("ifscCode",w.toUpperCase()),placeholder:"e.g., HDFC0001234",maxLength:11})})]}),a.jsx(pe,{label:"Branch Name",required:!0,error:f.branchName,children:a.jsx(Re,{value:c.branchName,onChange:w=>v("branchName",w),placeholder:"e.g., Hyderabad - Kondapur"})}),l&&a.jsx(pe,{label:"Status",children:a.jsx(et,{value:c.status,onChange:w=>v("status",w),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[l&&r?a.jsx(ns,{onClick:r}):a.jsx("div",{}),a.jsx(ln,{onCancel:n,onSubmit:S,submitLabel:l?"Update":"Add Account",loading:h})]})]})}function di({title:e="Loading"}){return a.jsxs("div",{className:"flex flex-col items-center justify-center py-32 gap-3",children:[a.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),a.jsxs("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:[e,"..."]})]})}const AE={"Savings Account":"bg-blue-500/15 text-[var(--accent-blue)]",Savings:"bg-blue-500/15 text-[var(--accent-blue)]",Salary:"bg-emerald-500/15 text-emerald-400","Current Account":"bg-violet-500/15 text-[var(--accent-violet)]","Fixed Deposit":"bg-amber-500/15 text-[var(--accent-amber)]","Fixed Deposit (FD)":"bg-amber-500/15 text-[var(--accent-amber)]"};function kE(){const{selectedMember:e,member:t}=Lr(),{banks:r,addBankAccount:n,updateBankAccount:i,deleteBankAccount:l}=ht(),{showToast:c,showBlockUI:u,hideBlockUI:f}=li(),m=oi(),{mv:h}=Da(),[x,v]=j.useState(null);if(r===null)return a.jsx(di,{title:"Loading bank accounts",cards:3});const g=j.useMemo(()=>{const k=r.filter(A=>A.status!=="Inactive");return e==="all"?k:k.filter(A=>A.memberId===e)},[r,e]),S=j.useMemo(()=>new Set(g.map(k=>k.bankName)).size,[g]),y=j.useMemo(()=>g.filter(k=>k.accountType==="Savings"||k.accountType==="Savings Account"||k.accountType==="Salary").length,[g]);async function w(k){u("Saving...");try{x?.edit?await i(x.edit.accountId,k):await n(k),c(x?.edit?"Bank account updated":"Bank account added"),v(null)}catch(A){c(A.message||"Failed to save bank account","error")}finally{f()}}async function C(){if(x?.edit&&await m("Deactivate this bank account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){u("Deactivating...");try{await l(x.edit.accountId),c("Bank account deactivated"),v(null)}catch(k){c(k.message||"Failed to deactivate bank account","error")}finally{f()}}}return a.jsxs("div",{className:"space-y-4",children:[g.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Vz,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No bank accounts",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first bank account"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[a.jsx(Yb,{label:"Total Accounts",value:g.length}),a.jsx(Yb,{label:"Banks",value:S}),a.jsx(Yb,{label:"Savings / Salary",value:y})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Gr,{size:14})," Add Account"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[580px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Bank"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account No."}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Branch"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:g.map(k=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:k.accountName})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:k.bankName}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:h(k.memberName,"name")}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${AE[k.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:k.accountType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:h(k.accountNumber,"account")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:k.branchName}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:k}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(la,{size:12})})})]},k.accountId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(k=>a.jsxs("div",{onClick:()=>v({edit:k}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:k.accountName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${AE[k.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:k.accountType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[k.bankName,t?"":`  ${h(k.memberName,"name")}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:h(k.accountNumber,"account")}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:k.branchName})]})]},k.accountId))})]})]}),a.jsx(ur,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Bank Account":"Add Bank Account",children:a.jsx(fse,{initial:x?.edit||void 0,onSave:w,onDelete:x?.edit?C:void 0,onCancel:()=>v(null)})})]})}function Yb({label:e,value:t}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:t})]})}const mse=["Demat + Trading","Mutual Fund","Trading","Direct AMC","Broker"].map(e=>({value:e,label:e}));function pse({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i,activeBanks:l}=ht(),c=!!e,[u,f]=j.useState({accountName:e?.accountName||"",memberId:e?.memberId||"",bankAccountId:e?.bankAccountId||"",accountType:e?.accountType||"",platformBroker:e?.platformBroker||"",accountClientId:e?.accountClientId||"",dematDpId:e?.dematDpId||"",registeredEmail:e?.registeredEmail||"",registeredPhone:e?.registeredPhone||"",status:e?.status||"Active"}),[m,h]=j.useState({}),[x,v]=j.useState(!1);function g(A,M){f(D=>({...D,[A]:M})),h(D=>({...D,[A]:void 0}))}function S(A){f(M=>({...M,memberId:A,bankAccountId:""})),h(M=>({...M,memberId:void 0}))}function y(){const A={};return u.accountName.trim()||(A.accountName="Required"),u.memberId||(A.memberId="Required"),u.bankAccountId||(A.bankAccountId="Required"),u.accountType||(A.accountType="Required"),u.platformBroker.trim()||(A.platformBroker="Required"),u.registeredEmail.trim()||(A.registeredEmail="Required"),u.registeredPhone.trim()||(A.registeredPhone="Required"),h(A),Object.keys(A).length===0}async function w(){if(y()){v(!0);try{await t(u)}finally{v(!1)}}}const C=i.map(A=>({value:A.memberId,label:`${A.memberName} (${A.relationship})`})),k=j.useMemo(()=>u.memberId?l.filter(A=>A.memberId===u.memberId).map(A=>({value:A.accountId,label:`${A.accountName} - ${A.bankName}`})):[],[l,u.memberId]);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Account Name",required:!0,error:m.accountName,children:a.jsx(Re,{value:u.accountName,onChange:A=>g("accountName",A),placeholder:"e.g., Zerodha Demat"})}),a.jsx(pe,{label:"Family Member",required:!0,error:m.memberId,children:a.jsx(et,{value:u.memberId,onChange:S,options:C,placeholder:"Select member..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Linked Bank Account",required:!0,error:m.bankAccountId,children:a.jsx(et,{value:u.bankAccountId,onChange:A=>g("bankAccountId",A),options:k,placeholder:u.memberId?k.length?"Select bank account...":"No bank accounts for this member":"Select member first..."})}),a.jsx(pe,{label:"Account Type",required:!0,error:m.accountType,children:a.jsx(et,{value:u.accountType,onChange:A=>g("accountType",A),options:mse,placeholder:"Select type..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Platform / Broker",required:!0,error:m.platformBroker,children:a.jsx(Re,{value:u.platformBroker,onChange:A=>g("platformBroker",A),placeholder:"e.g., Zerodha, Groww"})}),a.jsx(pe,{label:"Account / Client ID",error:m.accountClientId,children:a.jsx(Re,{sensitive:!0,value:u.accountClientId,onChange:A=>g("accountClientId",A),placeholder:"e.g., ZR1234 (optional)"})})]}),a.jsx(pe,{label:"Demat DP ID",error:m.dematDpId,children:a.jsx(Re,{sensitive:!0,value:u.dematDpId,onChange:A=>g("dematDpId",A),placeholder:"16-digit DP ID (optional)",maxLength:16})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Registered Email",required:!0,error:m.registeredEmail,children:a.jsx(Re,{sensitive:!0,type:"email",value:u.registeredEmail,onChange:A=>g("registeredEmail",A),placeholder:"email@example.com"})}),a.jsx(pe,{label:"Registered Phone",required:!0,error:m.registeredPhone,children:a.jsx(Re,{sensitive:!0,value:u.registeredPhone,onChange:A=>g("registeredPhone",A),placeholder:"9876543210"})})]}),c&&a.jsx(pe,{label:"Status",children:a.jsx(et,{value:u.status,onChange:A=>g("status",A),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[c&&r?a.jsx(ns,{onClick:r}):a.jsx("div",{}),a.jsx(ln,{onCancel:n,onSubmit:w,submitLabel:c?"Update":"Add Account",loading:x})]})]})}const ME={"Demat + Trading":"bg-violet-500/15 text-[var(--accent-violet)]","Mutual Fund":"bg-blue-500/15 text-[var(--accent-blue)]",Trading:"bg-orange-500/15 text-[var(--accent-orange)]",Demat:"bg-amber-500/15 text-[var(--accent-amber)]","Direct AMC":"bg-emerald-500/15 text-emerald-400",Broker:"bg-rose-500/15 text-[var(--accent-rose)]"};function hse(){const{selectedMember:e,member:t}=Lr(),{investmentAccounts:r,addInvestmentAccount:n,updateInvestmentAccount:i,deleteInvestmentAccount:l}=ht(),{showToast:c,showBlockUI:u,hideBlockUI:f}=li(),m=oi(),{mv:h}=Da(),[x,v]=j.useState(null);if(r===null)return a.jsx(di,{title:"Loading investment accounts",cards:4});const g=j.useMemo(()=>{const A=r.filter(M=>M.status!=="Inactive");return e==="all"?A:A.filter(M=>M.memberId===e)},[r,e]),S=j.useMemo(()=>new Set(g.map(A=>A.platformBroker)).size,[g]),y=g.filter(A=>A.accountType==="Demat + Trading"||A.accountType==="Demat"||A.accountType==="Trading").length,w=g.filter(A=>A.accountType==="Mutual Fund"||A.accountType==="Direct AMC").length;async function C(A){u("Saving...");try{x?.edit?await i(x.edit.accountId,A):await n(A),c(x?.edit?"Investment account updated":"Investment account added"),v(null)}catch(M){c(M.message||"Failed to save investment account","error")}finally{f()}}async function k(){if(x?.edit&&await m("Deactivate this investment account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){u("Deactivating...");try{await l(x.edit.accountId),c("Investment account deactivated"),v(null)}catch(A){c(A.message||"Failed to deactivate investment account","error")}finally{f()}}}return a.jsxs("div",{className:"space-y-4",children:[g.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(cO,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No investment accounts",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first investment account"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Gm,{label:"Total Accounts",value:g.length}),a.jsx(Gm,{label:"Platforms",value:S}),a.jsx(Gm,{label:"Demat / Trading",value:y}),a.jsx(Gm,{label:"Mutual Fund",value:w})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Gr,{size:14})," Add Account"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[620px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Platform"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Client ID"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Bank"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:g.map(A=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:A.accountName})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:A.platformBroker}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:h(A.memberName,"name")}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${ME[A.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:A.accountType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:h(A.accountClientId,"clientId")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:A.bankAccountName}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:A}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(la,{size:12})})})]},A.accountId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(A=>a.jsxs("div",{onClick:()=>v({edit:A}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:A.accountName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${ME[A.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:A.accountType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[A.platformBroker,t?"":`  ${h(A.memberName,"name")}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Client: ",h(A.accountClientId,"clientId")]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:A.bankAccountName})]})]},A.accountId))})]})]}),a.jsx(ur,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Investment Account":"Add Investment Account",wide:!0,children:a.jsx(pse,{initial:x?.edit||void 0,onSave:C,onDelete:x?.edit?k:void 0,onCancel:()=>v(null)})})]})}function Gm({label:e,value:t}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:t})]})}const xse=["Term Life","Health","Motor","Home Insurance","Travel","Personal Accident","Life Insurance","Others"].map(e=>({value:e,label:e})),vse=[{value:"Active",label:"Active"},{value:"Expired",label:"Expired"},{value:"Surrendered",label:"Surrendered"},{value:"Lapsed",label:"Lapsed"},{value:"Inactive",label:"Inactive"}];function gse({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i}=ht(),l=!!e,[c,u]=j.useState({policyType:e?.policyType||"",company:e?.company||"",policyNumber:e?.policyNumber||"",policyName:e?.policyName||"",insuredMember:e?.insuredMember||"",memberId:e?.memberId||"",sumAssured:e?.sumAssured||"",nominee:e?.nominee||"",premium:e?.premium||"",premiumFrequency:e?.premiumFrequency||"Annual",status:e?.status||"Active",notes:e?.notes||""}),[f,m]=j.useState({}),[h,x]=j.useState(!1);function v(C,k){u(A=>({...A,[C]:k})),m(A=>({...A,[C]:void 0}))}function g(C){const k=i.find(A=>A.memberId===C);u(A=>({...A,memberId:C,insuredMember:k?.memberName||""})),m(A=>({...A,memberId:void 0}))}function S(){const C={};return c.policyType||(C.policyType="Required"),c.company.trim()||(C.company="Required"),c.policyNumber.trim()||(C.policyNumber="Required"),c.policyName.trim()||(C.policyName="Required"),c.memberId||(C.memberId="Required"),(!c.sumAssured||Number(c.sumAssured)<=0)&&(C.sumAssured="Must be > 0"),m(C),Object.keys(C).length===0}async function y(){if(S()){x(!0);try{await t({...c,sumAssured:Number(c.sumAssured),premium:Number(c.premium)||0})}finally{x(!1)}}}const w=i.map(C=>({value:C.memberId,label:`${C.memberName} (${C.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Policy Type",required:!0,error:f.policyType,children:a.jsx(et,{value:c.policyType,onChange:C=>v("policyType",C),options:xse,placeholder:"Select type..."})}),a.jsx(pe,{label:"Insurance Company",required:!0,error:f.company,children:a.jsx(Re,{value:c.company,onChange:C=>v("company",C),placeholder:"e.g., HDFC Life"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Policy Number",required:!0,error:f.policyNumber,children:a.jsx(Re,{sensitive:!0,value:c.policyNumber,onChange:C=>v("policyNumber",C),placeholder:"e.g., HL-2024-78901"})}),a.jsx(pe,{label:"Policy Name",required:!0,error:f.policyName,children:a.jsx(Re,{value:c.policyName,onChange:C=>v("policyName",C),placeholder:"e.g., Click 2 Protect Life"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Insured Member",required:!0,error:f.memberId,children:a.jsx(et,{value:c.memberId,onChange:g,options:w,placeholder:"Select member..."})}),a.jsx(pe,{label:"Nominee",children:a.jsx(et,{value:c.nominee,onChange:C=>v("nominee",C),options:w.map(C=>({...C,label:C.label.split(" (")[0]})),placeholder:"Select nominee (optional)..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(pe,{label:"Sum Assured ()",required:!0,error:f.sumAssured,children:a.jsx(Re,{type:"number",value:c.sumAssured,onChange:C=>v("sumAssured",C),placeholder:"e.g., 10000000"})}),a.jsx(pe,{label:"Premium ()",children:a.jsx(Re,{type:"number",value:c.premium,onChange:C=>v("premium",C),placeholder:"e.g., 12500"})}),a.jsx(pe,{label:"Premium Frequency",children:a.jsx(et,{value:c.premiumFrequency,onChange:C=>v("premiumFrequency",C),options:[{value:"Annual",label:"Annual"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"}]})})]}),l&&a.jsx(pe,{label:"Status",children:a.jsx(et,{value:c.status,onChange:C=>v("status",C),options:vse})}),a.jsx(pe,{label:"Notes",children:a.jsx(jc,{value:c.notes,onChange:C=>v("notes",C),placeholder:"Additional information..."})}),a.jsxs("div",{className:"flex items-center justify-between",children:[l&&r?a.jsx(ns,{onClick:r}):a.jsx("div",{}),a.jsx(ln,{onCancel:n,onSubmit:y,submitLabel:l?"Update":"Add Policy",loading:h})]})]})}const DE={"Term Life":"bg-rose-500/15 text-[var(--accent-rose)]",Health:"bg-emerald-500/15 text-emerald-400",Motor:"bg-blue-500/15 text-[var(--accent-blue)]","Home Insurance":"bg-amber-500/15 text-[var(--accent-amber)]",Travel:"bg-violet-500/15 text-[var(--accent-violet)]","Life Insurance":"bg-rose-500/15 text-[var(--accent-rose)]","Personal Accident":"bg-orange-500/15 text-[var(--accent-orange)]"};function bse(){const{selectedMember:e,member:t}=Lr(),{insurancePolicies:r,addInsurance:n,updateInsurance:i,deleteInsurance:l}=ht(),{showToast:c,showBlockUI:u,hideBlockUI:f}=li(),m=oi(),{mv:h}=Da(),[x,v]=j.useState(null);if(r===null)return a.jsx(di,{title:"Loading insurance",cards:5});const g=j.useMemo(()=>{const M=r.filter(D=>D.status!=="Inactive");return e==="all"?M:M.filter(D=>D.memberId===e)},[r,e]),S=g.reduce((M,D)=>M+(D.sumAssured||0),0),y=g.reduce((M,D)=>M+(D.premium||0),0),w=g.filter(M=>M.policyType==="Term Life"||M.policyType==="Life Insurance").reduce((M,D)=>M+(D.sumAssured||0),0),C=g.filter(M=>M.policyType==="Health").reduce((M,D)=>M+(D.sumAssured||0),0);async function k(M){u("Saving...");try{x?.edit?await i(x.edit.policyId,M):await n(M),c(x?.edit?"Insurance policy updated":"Insurance policy added"),v(null)}catch(D){c(D.message||"Failed to save insurance policy","error")}finally{f()}}async function A(){if(x?.edit&&await m("Deactivate this insurance policy?",{title:"Deactivate Policy",confirmLabel:"Deactivate"})){u("Deactivating...");try{await l(x.edit.policyId),c("Insurance policy deactivated"),v(null)}catch(M){c(M.message||"Failed to deactivate insurance policy","error")}finally{f()}}}return a.jsxs("div",{className:"space-y-4",children:[g.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(rc,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No insurance policies",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first policy"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(Qu,{label:"Policies",value:g.length}),a.jsx(Qu,{label:"Total Cover",value:W(S),bold:!0}),a.jsx(Qu,{label:"Life Cover",value:W(w)}),a.jsx(Qu,{label:"Health Cover",value:W(C)}),a.jsx(Qu,{label:"Annual Premium",value:W(y)})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-3",children:"Coverage Adequacy"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(EE,{label:"Life Insurance",current:w,recommended:"10-15x annual income",tip:"Term life cover should be 10-15x your annual income to protect dependents",icon:"heart"}),a.jsx(EE,{label:"Health Insurance",current:C,recommended:"50L - 1Cr family floater",tip:"Considering medical inflation, a 50L-1Cr family floater is recommended",icon:"shield"})]})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Gr,{size:14})," Add Policy"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Policy"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Company"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Insured"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Sum Assured"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Premium"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:g.map(M=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.policyName}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:h(M.policyNumber,"policy")})]}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${DE[M.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.policyType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.company}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.insuredMember}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:W(M.sumAssured)}),a.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:[W(M.premium),"/",M.premiumFrequency==="Annual"?"yr":"mo"]}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(la,{size:12})})})]},M.policyId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(M=>a.jsxs("div",{onClick:()=>v({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:M.policyName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${DE[M.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.policyType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.company,t?"":`  ${M.insuredMember}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Cover"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:W(M.sumAssured)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Premium"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[W(M.premium),"/",M.premiumFrequency==="Annual"?"yr":"mo"]})]})]})]},M.policyId))})]})]}),a.jsx(ur,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Insurance Policy":"Add Insurance Policy",wide:!0,children:a.jsx(gse,{initial:x?.edit||void 0,onSave:k,onDelete:x?.edit?A:void 0,onCancel:()=>v(null)})})]})}function EE({label:e,current:t,recommended:r,tip:n}){const i=t===0;return a.jsxs("div",{className:`rounded-lg border px-3 py-2.5 ${i?"border-rose-500/30 bg-rose-500/5":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:e}),i?a.jsx("span",{className:"text-xs font-bold text-[var(--accent-rose)]",children:"Not covered"}):a.jsx("span",{className:"text-xs font-semibold text-emerald-400",children:W(t)})]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Recommended: ",r]}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5 italic",children:n})]})}function Qu({label:e,value:t,bold:r}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${r?"font-bold":"font-semibold"} text-[var(--text-primary)]`,children:t})]})}const yse=["Home Loan","Car Loan","Personal Loan","Education Loan","Gold Loan","Credit Card","Business Loan","Loan Against Property","Other"].map(e=>({value:e,label:e})),wse=[{value:"Active",label:"Active"},{value:"Closed",label:"Closed"},{value:"Inactive",label:"Inactive"}];function jse({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i,otherInvList:l}=ht(),c=!!e,[u,f]=j.useState({liabilityType:e?.liabilityType||"",lenderName:e?.lenderName||"",familyMemberId:e?.familyMemberId||"",outstandingBalance:e?.outstandingBalance||"",emiAmount:e?.emiAmount||"",interestRate:e?.interestRate||"",linkedInvestmentId:e?.linkedInvestmentId||"",status:e?.status||"Active",notes:e?.notes||""}),[m,h]=j.useState({}),[x,v]=j.useState(!1);function g(A,M){f(D=>({...D,[A]:M})),h(D=>({...D,[A]:void 0}))}function S(){const A={};return u.liabilityType||(A.liabilityType="Required"),u.lenderName.trim()||(A.lenderName="Required"),(!u.outstandingBalance||Number(u.outstandingBalance)<=0)&&(A.outstandingBalance="Must be > 0"),h(A),Object.keys(A).length===0}async function y(){if(S()){v(!0);try{await t({...u,outstandingBalance:Number(u.outstandingBalance),emiAmount:Number(u.emiAmount)||0,interestRate:Number(u.interestRate)||0,linkedInvestmentId:u.linkedInvestmentId||""})}finally{v(!1)}}}const w=i.map(A=>({value:A.memberId,label:`${A.memberName} (${A.relationship})`})),C=(l||[]).filter(A=>A.status!=="Inactive"),k=[{value:"",label:"None"},...C.map(A=>({value:A.investmentId,label:`${A.investmentName} (${A.investmentType}  ${W(A.currentValue)})`}))];return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Liability Type",required:!0,error:m.liabilityType,children:a.jsx(et,{value:u.liabilityType,onChange:A=>g("liabilityType",A),options:yse,placeholder:"Select type..."})}),a.jsx(pe,{label:"Lender / Bank",required:!0,error:m.lenderName,children:a.jsx(Re,{value:u.lenderName,onChange:A=>g("lenderName",A),placeholder:"e.g., HDFC Bank"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Family Member",children:a.jsx(et,{value:u.familyMemberId,onChange:A=>g("familyMemberId",A),options:w,placeholder:"Select member (optional)..."})}),a.jsx(pe,{label:"Outstanding Balance ()",required:!0,error:m.outstandingBalance,children:a.jsx(Re,{type:"number",value:u.outstandingBalance,onChange:A=>g("outstandingBalance",A),placeholder:"e.g., 3500000"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"EMI Amount ()",children:a.jsx(Re,{type:"number",value:u.emiAmount,onChange:A=>g("emiAmount",A),placeholder:"e.g., 32000"})}),a.jsx(pe,{label:"Interest Rate (%)",children:a.jsx(Re,{type:"number",value:u.interestRate,onChange:A=>g("interestRate",A),placeholder:"e.g., 8.5",step:"0.01"})})]}),a.jsx(pe,{label:"Linked Investment",children:a.jsx(et,{value:u.linkedInvestmentId,onChange:A=>g("linkedInvestmentId",A),options:k,placeholder:"Link to an investment (optional)..."})}),c&&a.jsx(pe,{label:"Status",children:a.jsx(et,{value:u.status,onChange:A=>g("status",A),options:wse})}),a.jsx(pe,{label:"Notes",children:a.jsx(jc,{value:u.notes,onChange:A=>g("notes",A),placeholder:"e.g., Flat in Kondapur"})}),a.jsxs("div",{className:"flex items-center justify-between",children:[c&&r?a.jsx(ns,{onClick:r}):a.jsx("div",{}),a.jsx(ln,{onCancel:n,onSubmit:y,submitLabel:c?"Update":"Add Liability",loading:x})]})]})}const _E={"Home Loan":"bg-blue-500/15 text-[var(--accent-blue)]","Car Loan":"bg-amber-500/15 text-[var(--accent-amber)]","Gold Loan":"bg-orange-500/15 text-[var(--accent-orange)]","Personal Loan":"bg-violet-500/15 text-[var(--accent-violet)]","Education Loan":"bg-emerald-500/15 text-emerald-400","Credit Card":"bg-rose-500/15 text-[var(--accent-rose)]"};function Nse(){const{selectedMember:e,member:t}=Lr(),{liabilityList:r,otherInvList:n,addLiability:i,updateLiability:l,deleteLiability:c}=ht(),{showToast:u,showBlockUI:f,hideBlockUI:m}=li(),h=oi(),[x,v]=j.useState(null);if(r===null)return a.jsx(di,{title:"Loading liabilities",cards:4});const g=j.useMemo(()=>{const D=r.filter(T=>T.status!=="Inactive");return e==="all"?D:D.filter(T=>T.familyMemberId===e)},[r,e]),S=g.reduce((D,T)=>D+(T.outstandingBalance||0),0),y=g.reduce((D,T)=>D+(T.emiAmount||0),0),w=g.filter(D=>D.status==="Active").length,C=j.useMemo(()=>{const D={};return n&&n.forEach(T=>{D[T.investmentId]=T}),D},[n]),k=j.useMemo(()=>{const D={};return n&&n.forEach(T=>{T.linkedLiabilityId&&T.linkedLiabilityId.split(",").map(P=>P.trim()).filter(Boolean).forEach(P=>{D[P]=T})}),D},[n]);async function A(D){f("Saving...");try{x?.edit?await l(x.edit.liabilityId,D):await i(D),u(x?.edit?"Liability updated":"Liability added"),v(null)}catch(T){u(T.message||"Failed to save liability","error")}finally{m()}}async function M(){if(x?.edit&&await h("Deactivate this liability?",{title:"Deactivate Liability",confirmLabel:"Deactivate"})){f("Deactivating...");try{await c(x.edit.liabilityId),u("Liability deactivated"),v(null)}catch(D){u(D.message||"Failed to deactivate liability","error")}finally{m()}}}return a.jsxs("div",{className:"space-y-4",children:[g.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Rh,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No liabilities",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a liability"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Wm,{label:"Liabilities",value:`${w} active`}),a.jsx(Wm,{label:"Outstanding",value:W(S),color:"rose",bold:!0}),a.jsx(Wm,{label:"Monthly EMI",value:W(y),color:"rose"}),a.jsx(Wm,{label:"Avg. Interest",value:g.length>0?`${(g.reduce((D,T)=>D+(T.interestRate||0),0)/g.length).toFixed(1)}%`:""})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Gr,{size:14})," Add Liability"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Lender"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Outstanding"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"EMI"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Interest"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Remaining"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Asset"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:g.map(D=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${_E[D.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.liabilityType}),D.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:D.notes})]}),a.jsx("td",{className:"py-2.5 px-3 text-sm font-medium text-[var(--text-primary)]",children:D.lenderName}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:D.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:W(D.outstandingBalance)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:D.emiAmount?`${W(D.emiAmount)}/mo`:""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:D.interestRate?`${D.interestRate}%`:""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:D.emiAmount>0&&D.outstandingBalance>0?`${Math.ceil(D.outstandingBalance/D.emiAmount)} mo`:""}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:(()=>{const T=D.linkedInvestmentId&&C[D.linkedInvestmentId]||k[D.liabilityId];return T?a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)]",children:T.investmentName}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:T.investmentType})]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})()}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:D}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(la,{size:12})})})]},D.liabilityId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(D=>a.jsxs("div",{onClick:()=>v({edit:D}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${_E[D.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.liabilityType}),a.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:W(D.outstandingBalance)})]}),a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:D.lenderName}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[D.familyMemberName,D.notes?`  ${D.notes}`:""]}),a.jsxs("div",{className:"text-right",children:[D.emiAmount>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["EMI: ",W(D.emiAmount),"/mo"]}),D.emiAmount>0&&D.outstandingBalance>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[Math.ceil(D.outstandingBalance/D.emiAmount)," months left"]})]})]}),(()=>{const T=D.linkedInvestmentId&&C[D.linkedInvestmentId]||k[D.liabilityId];return T?a.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-blue-500/5 rounded px-2 py-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Linked"}),a.jsx("span",{className:"text-xs text-[var(--text-secondary)]",children:T.investmentName})]}):null})()]},D.liabilityId))})]})]}),a.jsx(ur,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Liability":"Add Liability",children:a.jsx(jse,{initial:x?.edit||void 0,onSave:A,onDelete:x?.edit?M:void 0,onCancel:()=>v(null)})})]})}function Wm({label:e,value:t,color:r,bold:n}){const i=r==="rose"?"text-[var(--accent-rose)]":"text-[var(--text-primary)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${n?"font-bold":"font-semibold"} ${i}`,children:t})]})}const Sse="cf_market_data",_I=[{value:"Fixed Deposit",category:"Debt"},{value:"PPF",category:"Debt"},{value:"EPF",category:"Debt"},{value:"NPS",category:"Debt"},{value:"Sovereign Gold Bond",category:"Gold"},{value:"Physical Gold",category:"Gold"},{value:"Digital Gold",category:"Gold"},{value:"Real Estate",category:"Property"},{value:"Bonds",category:"Debt"},{value:"Physical Silver",category:"Silver"},{value:"Digital Silver",category:"Silver"},{value:"Crypto",category:"Alternative"},{value:"Other",category:"Other"}],Vb={"Real Estate":"Home Loan"},Cse=_I.map(e=>({value:e.value,label:e.value})),Ase=["Equity","Debt","Gold","Silver","Property","Alternative","Other"].map(e=>({value:e,label:e})),kse=[{value:"Active",label:"Active"},{value:"Sold",label:"Sold"},{value:"Matured",label:"Matured"},{value:"Inactive",label:"Inactive"}],OE=[{value:"24K",label:"24K (99.9%)",factor:.999},{value:"22K",label:"22K (91.6%)",factor:.916},{value:"18K",label:"18K (75.0%)",factor:.75}],TE=[{value:"999",label:"999 Fine (99.9%)",factor:.999},{value:"925",label:"925 Sterling (92.5%)",factor:.925}];function wp(e){return["Physical Gold","Digital Gold","Sovereign Gold Bond"].includes(e)}function Mse(e){return["Physical Silver","Digital Silver"].includes(e)||e&&e.toLowerCase().includes("silver")}function Gb(e){return wp(e)||Mse(e)}function Dse(e){try{const t=sessionStorage.getItem(Sse);if(!t)return null;const r=JSON.parse(t);if(!r.metals)return null;const n=e==="gold"?"Gold":"Silver",i=r.metals.find(l=>l.name.toLowerCase().includes(n.toLowerCase()));return i?i.price:null}catch{return null}}function Ese({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i,liabilityList:l}=ht(),c=!!e;function u(R){return _I.find(F=>F.value===R)?.category||"Other"}const f=e?.dynamicFields?typeof e.dynamicFields=="string"?JSON.parse(e.dynamicFields):e.dynamicFields:{},[m,h]=j.useState({investmentType:e?.investmentType||"",investmentCategory:e?.investmentCategory||"",investmentName:e?.investmentName||"",customType:e?.customType||"",familyMemberId:e?.familyMemberId||"",investedAmount:e?.investedAmount||"",currentValue:e?.currentValue||"",linkedLiabilityIds:e?.linkedLiabilityId?e.linkedLiabilityId.split(",").map(R=>R.trim()).filter(Boolean):[],status:e?.status||"Active",notes:e?.notes||""}),[x,v]=j.useState(f.weightGrams||""),[g,S]=j.useState(f.purity||""),[y,w]=j.useState(null),[C,k]=j.useState(!1),[A,M]=j.useState({lenderName:"",outstandingBalance:"",emiAmount:"",interestRate:""});j.useEffect(()=>{if(!Gb(m.investmentType)||!x||Number(x)<=0){w(null);return}const R=wp(m.investmentType)?"gold":"silver",F=Dse(R);if(!F){w(null);return}const Se=(R==="gold"?OE:TE).find(B=>B.value===g),H=Se?Se.factor:1;w(Math.round(Number(x)*F*H))},[m.investmentType,x,g]);const[D,T]=j.useState({}),[P,O]=j.useState(!1);function z(R,F){h(fe=>({...fe,[R]:F})),T(fe=>({...fe,[R]:void 0}))}function L(R){h(F=>({...F,investmentType:R,investmentCategory:u(R)})),T(F=>({...F,investmentType:void 0}))}function $(R,F){M(fe=>({...fe,[R]:F}))}function E(){const R={};return m.investmentType||(R.investmentType="Required"),m.investmentType==="Other"&&!m.customType?.trim()&&(R.customType="Specify the type"),m.investmentName.trim()||(R.investmentName="Required"),(!m.currentValue||Number(m.currentValue)<0)&&(R.currentValue="Required"),C&&(A.lenderName.trim()||(R.qlLender="Required"),(!A.outstandingBalance||Number(A.outstandingBalance)<=0)&&(R.qlOutstanding="Must be > 0")),T(R),Object.keys(R).length===0}async function J(){if(!E())return;const R={...m,investmentType:m.investmentType==="Other"?m.customType.trim():m.investmentType,familyMember:m.familyMemberId,investedAmount:Number(m.investedAmount)||0,currentValue:Number(m.currentValue)||0,linkedLiabilityId:m.linkedLiabilityIds.join(",")};delete R.linkedLiabilityIds,delete R.customType,Gb(m.investmentType)&&(R.dynamicFields=JSON.stringify({weightGrams:Number(x)||0,purity:g||""})),C&&A.lenderName&&(R.quickLoan={liabilityType:Vb[m.investmentType]||"Personal Loan",lender:A.lenderName,outstanding:Number(A.outstandingBalance)||0,emiAmount:Number(A.emiAmount)||0,interestRate:Number(A.interestRate)||0}),O(!0);try{await t(R)}finally{O(!1)}}const Z=(l||[]).filter(R=>R.status!=="Inactive"),te=(i||[]).map(R=>({value:R.memberId,label:`${R.memberName} (${R.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Investment Type",required:!0,error:D.investmentType,children:a.jsx(et,{value:m.investmentType,onChange:L,options:Cse,placeholder:"Select type..."})}),a.jsx(pe,{label:"Category",children:a.jsx(et,{value:m.investmentCategory,onChange:R=>z("investmentCategory",R),options:Ase,placeholder:"Auto-selected..."})})]}),m.investmentType==="Other"&&a.jsx(pe,{label:"Custom Type",required:!0,error:D.customType,children:a.jsx(Re,{value:m.customType||"",onChange:R=>z("customType",R),placeholder:"e.g., Art, Collectibles, ULIP..."})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Investment Name",required:!0,error:D.investmentName,children:a.jsx(Re,{value:m.investmentName,onChange:R=>z("investmentName",R),placeholder:"e.g., HDFC FD - 7.5%"})}),a.jsx(pe,{label:"Family Member",children:a.jsx(et,{value:m.familyMemberId,onChange:R=>z("familyMemberId",R),options:te,placeholder:"Select member (optional)..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Invested Amount",children:a.jsx(Re,{type:"number",value:m.investedAmount,onChange:R=>z("investedAmount",R),placeholder:"e.g., 500000"})}),a.jsx(pe,{label:"Current Value",required:!0,error:D.currentValue,children:a.jsx(Re,{type:"number",value:m.currentValue,onChange:R=>z("currentValue",R),placeholder:"e.g., 537500"})})]}),Gb(m.investmentType)&&a.jsxs("div",{className:"p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:[wp(m.investmentType)?"Gold":"Silver"," Details"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(pe,{label:"Weight (grams)",children:a.jsx(Re,{type:"number",value:x,onChange:v,placeholder:"e.g., 50"})}),a.jsx(pe,{label:"Purity",children:a.jsx(et,{value:g,onChange:S,options:(wp(m.investmentType)?OE:TE).map(R=>({value:R.value,label:R.label})),placeholder:"Select purity..."})})]}),y!==null&&a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-card)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Estimated market value"}),a.jsx("p",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:W(y)})]}),a.jsx("button",{type:"button",onClick:()=>z("currentValue",String(y)),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 px-3 py-1.5 rounded-lg bg-violet-500/10 border border-violet-500/20 transition-colors",children:"Use this value"})]})]}),Vb[m.investmentType]&&a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-4",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider mb-2",children:"Linked Loans"}),m.linkedLiabilityIds.length>0&&a.jsx("div",{className:"space-y-1.5 mb-3",children:m.linkedLiabilityIds.map(R=>{const F=Z.find(fe=>fe.liabilityId===R);return F?a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:[F.liabilityType,"  ",F.lenderName]}),a.jsx("p",{className:"text-xs text-[var(--accent-rose)] tabular-nums",children:W(F.outstandingBalance)})]}),a.jsx("button",{type:"button",onClick:()=>z("linkedLiabilityIds",m.linkedLiabilityIds.filter(fe=>fe!==R)),className:"text-xs text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors px-2 py-1",children:"Remove"})]},R):null})}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("div",{className:"flex-1",children:a.jsx(et,{value:"",onChange:R=>{R&&!m.linkedLiabilityIds.includes(R)&&(z("linkedLiabilityIds",[...m.linkedLiabilityIds,R]),k(!1))},options:[{value:"",label:"Link an existing loan..."},...Z.filter(R=>!m.linkedLiabilityIds.includes(R.liabilityId)).map(R=>({value:R.liabilityId,label:`${R.liabilityType}  ${R.lenderName} (${W(R.outstandingBalance)})`}))]})})}),!c&&a.jsx("div",{className:"mt-2",children:a.jsx("button",{type:"button",onClick:()=>k(!C),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:C?" Cancel quick loan":`+ Create new loan (${Vb[m.investmentType]})`})}),C&&a.jsxs("div",{className:"mt-3 p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:"Quick Loan"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(pe,{label:"Lender",required:!0,error:D.qlLender,children:a.jsx(Re,{value:A.lenderName,onChange:R=>$("lenderName",R),placeholder:"e.g., HDFC Bank"})}),a.jsx(pe,{label:"Outstanding Balance",required:!0,error:D.qlOutstanding,children:a.jsx(Re,{type:"number",value:A.outstandingBalance,onChange:R=>$("outstandingBalance",R),placeholder:"e.g., 3500000"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(pe,{label:"EMI (monthly)",children:a.jsx(Re,{type:"number",value:A.emiAmount,onChange:R=>$("emiAmount",R),placeholder:"e.g., 32000"})}),a.jsx(pe,{label:"Interest Rate %",children:a.jsx(Re,{type:"number",value:A.interestRate,onChange:R=>$("interestRate",R),placeholder:"e.g., 8.5"})})]})]})]}),c&&a.jsx(pe,{label:"Status",children:a.jsx(et,{value:m.status,onChange:R=>z("status",R),options:kse})}),a.jsx(pe,{label:"Notes",children:a.jsx(jc,{value:m.notes,onChange:R=>z("notes",R),placeholder:"Additional information..."})}),a.jsxs("div",{className:"flex items-center justify-between",children:[c&&r?a.jsx(ns,{onClick:r}):a.jsx("div",{}),a.jsx(ln,{onCancel:n,onSubmit:J,submitLabel:c?"Update":"Add Investment",loading:P})]})]})}const PE={Debt:"bg-blue-500/15 text-[var(--accent-blue)]",Gold:"bg-amber-500/15 text-[var(--accent-amber)]",Property:"bg-orange-500/15 text-[var(--accent-orange)]",Equity:"bg-emerald-500/15 text-emerald-400",Alternative:"bg-violet-500/15 text-[var(--accent-violet)]"};function _se(){const{selectedMember:e,member:t}=Lr(),{otherInvList:r,liabilityList:n,addOtherInvestment:i,updateOtherInvestment:l,deleteOtherInvestment:c}=ht(),{showToast:u,showBlockUI:f,hideBlockUI:m}=li(),h=oi(),[x,v]=j.useState(null);if(r===null)return a.jsx(di,{title:"Loading investments",cards:5});const g=j.useMemo(()=>{const M=r.filter(D=>D.status!=="Inactive");return e==="all"?M:M.filter(D=>D.familyMemberId===e)},[r,e]),S=g.reduce((M,D)=>M+(D.investedAmount||0),0),y=g.reduce((M,D)=>M+(D.currentValue||0),0),w=j.useMemo(()=>{const M={};return n.forEach(D=>{M[D.liabilityId]=D}),M},[n]),C=g.reduce((M,D)=>{if(!D.linkedLiabilityId)return M;const T=D.linkedLiabilityId.split(",").map(P=>P.trim()).filter(Boolean);return M+T.reduce((P,O)=>P+(w[O]?.outstandingBalance||0),0)},0);async function k(M){f("Saving...");try{x?.edit?await l(x.edit.investmentId,M):await i(M),u(x?.edit?"Investment updated":"Investment added"),v(null)}catch(D){u(D.message||"Failed to save investment","error")}finally{m()}}async function A(){if(x?.edit&&await h("Deactivate this investment?",{title:"Deactivate Investment",confirmLabel:"Deactivate"})){f("Deactivating...");try{await c(x.edit.investmentId),u("Investment deactivated"),v(null)}catch(M){u(M.message||"Failed to deactivate investment","error")}finally{m()}}}return a.jsxs("div",{className:"space-y-4",children:[g.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(bO,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No other investments",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add an investment"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Km,{label:"Invested",value:W(S)}),a.jsx(Km,{label:"Current Value",value:W(y),bold:!0}),C>0&&a.jsx(Km,{label:"Linked Loans",value:W(C),color:"rose"}),a.jsx(Km,{label:"Holdings",value:g.length})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Gr,{size:14})," Add Investment"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[720px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Investment"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Category"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Loan"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:g.map(M=>{const D=(M.currentValue||0)-(M.investedAmount||0),T=D>=0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.investmentName}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:M.investmentType})]}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${PE[M.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.investmentCategory})}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:W(M.investedAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:W(M.currentValue)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:M.investedAmount>0?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${T?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[T?"+":"",W(D)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:(()=>{const O=(M.linkedLiabilityId?M.linkedLiabilityId.split(",").map(z=>z.trim()).filter(Boolean):[]).map(z=>w[z]).filter(Boolean);return O.length===0?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsx("div",{className:"space-y-0.5",children:O.map(z=>a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:W(z.outstandingBalance)}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:z.liabilityType})]},z.liabilityId))})})()}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(la,{size:12})})})]},M.investmentId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(M=>{const D=(M.currentValue||0)-(M.investedAmount||0),T=D>=0;return a.jsxs("div",{onClick:()=>v({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:M.investmentName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${PE[M.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.investmentCategory})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.familyMemberName,"  ",M.investmentType]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Invested"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:W(M.investedAmount)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Current"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:W(M.currentValue)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"P&L"}),M.investedAmount>0?a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${T?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[T?"+":"",W(D)]}):a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:""})]})]}),(()=>{const O=(M.linkedLiabilityId?M.linkedLiabilityId.split(",").map(z=>z.trim()).filter(Boolean):[]).map(z=>w[z]).filter(Boolean);return O.length===0?null:O.map(z=>a.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-rose-500/5 rounded px-2 py-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:z.liabilityType}),a.jsx("span",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:W(z.outstandingBalance)})]},z.liabilityId))})()]},M.investmentId)})})]})]}),a.jsx(ur,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Investment":"Add Investment",wide:!0,children:a.jsx(Ese,{initial:x?.edit||void 0,onSave:k,onDelete:x?.edit?A:void 0,onCancel:()=>v(null)})})]})}function Km({label:e,value:t,sub:r,positive:n,bold:i,color:l}){const c=l==="rose"?"text-[var(--accent-rose)]":n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${i?"font-bold":"font-semibold"} ${c}`,children:t}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function Ose({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i,activeInvestmentAccounts:l}=ht(),c=!!e,[u,f]=j.useState({portfolioName:(e?.portfolioName||"").replace(/^PFL-/,""),investmentAccountId:e?.investmentAccountId||"",ownerId:e?.ownerId||"",initialInvestment:e?.initialInvestment||0,sipTarget:e?.sipTarget||"",lumpsumTarget:e?.lumpsumTarget||"",rebalanceThreshold:e?e.rebalanceThreshold*100:5}),[m,h]=j.useState({}),[x,v]=j.useState(!1),[g,S]=j.useState(!1);function y(D,T){f(P=>({...P,[D]:T})),h(P=>({...P,[D]:void 0}))}function w(D){f(T=>({...T,ownerId:D,investmentAccountId:""})),h(T=>({...T,ownerId:void 0}))}const C=l.filter(D=>u.ownerId?D.memberId===u.ownerId:!0).map(D=>({value:D.accountId,label:`${D.accountName} - ${D.platformBroker}`})),k=i.map(D=>({value:D.memberId,label:`${D.memberName} (${D.relationship})`}));function A(){const D={};return u.portfolioName.trim()||(D.portfolioName="Required"),u.ownerId||(D.ownerId="Required"),u.investmentAccountId||(D.investmentAccountId="Required"),h(D),Object.keys(D).length===0}async function M(){if(A()){v(!0);try{const D=l.find(P=>P.accountId===u.investmentAccountId),T=D?`${D.accountName} - ${D.platformBroker}`:u.investmentAccountId;await t({...u,investmentAccount:T,initialInvestment:Number(u.initialInvestment)||0,sipTarget:Number(u.sipTarget)||0,lumpsumTarget:Number(u.lumpsumTarget)||0,rebalanceThreshold:Number(u.rebalanceThreshold)})}finally{v(!1)}}}return a.jsxs("div",{className:"space-y-5",children:[a.jsx(pe,{label:"Portfolio Name",required:!0,error:m.portfolioName,children:a.jsx(Re,{value:u.portfolioName,onChange:D=>y("portfolioName",D),placeholder:"e.g., Long Term Wealth"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Owner",required:!0,error:m.ownerId,children:a.jsx(et,{value:u.ownerId,onChange:w,options:k,placeholder:"Select member..."})}),a.jsx(pe,{label:"Investment Account",required:!0,error:m.investmentAccountId,children:a.jsx(et,{value:u.investmentAccountId,onChange:D=>y("investmentAccountId",D),options:C,placeholder:u.ownerId?C.length?"Select account...":"No MF accounts":"Select owner first..."})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(pe,{label:"SIP Target (/month)",children:a.jsx(Re,{type:"number",value:u.sipTarget,onChange:D=>y("sipTarget",D),placeholder:"e.g., 50000"})}),a.jsx(pe,{label:"Lumpsum Target ()",children:a.jsx(Re,{type:"number",value:u.lumpsumTarget,onChange:D=>y("lumpsumTarget",D),placeholder:"e.g., 200000"})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-xs font-semibold text-[var(--text-muted)] whitespace-nowrap",children:"Rebalance Threshold"}),a.jsx("div",{className:"w-20 shrink-0",children:a.jsx("input",{type:"number",value:u.rebalanceThreshold,onChange:D=>y("rebalanceThreshold",D.target.value),placeholder:"5",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"})]}),!c&&a.jsx(pe,{label:"Initial Investment ()",children:a.jsx(Re,{type:"number",value:u.initialInvestment,onChange:D=>y("initialInvestment",D),placeholder:"0 if unknown"})}),c&&r&&g&&a.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 bg-rose-500/10 border border-rose-500/20 rounded-lg",children:[a.jsx($s,{size:15,className:"text-rose-400 shrink-0"}),a.jsx("p",{className:"text-xs text-rose-300/90 flex-1",children:"This will deactivate the portfolio and hide it from views. Are you sure?"}),a.jsxs("div",{className:"flex gap-2 shrink-0",children:[a.jsx("button",{onClick:()=>S(!1),className:"px-2.5 py-1 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded transition-colors",children:"No"}),a.jsx("button",{onClick:r,className:"px-2.5 py-1 text-xs font-semibold text-white bg-rose-600 hover:bg-rose-500 rounded transition-colors",children:"Yes, Deactivate"})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 mt-4 border-t border-[var(--border-light)]",children:[c&&r?a.jsxs("button",{onClick:()=>S(!0),disabled:x,className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-amber-400 border border-amber-500/30 hover:bg-amber-500/15 hover:border-amber-500/50 rounded-lg transition-colors disabled:opacity-40",children:[a.jsx($s,{size:13}),"Deactivate"]}):a.jsx("div",{}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:n,disabled:x,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),a.jsxs("button",{onClick:M,disabled:x,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[x&&a.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),x?"Saving...":c?"Update":"Create Portfolio"]})]})]})]})}function Xi(e){return Array.isArray?Array.isArray(e):PI(e)==="[object Array]"}function Tse(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Pse(e){return e==null?"":Tse(e)}function Ja(e){return typeof e=="string"}function OI(e){return typeof e=="number"}function Ise(e){return e===!0||e===!1||Rse(e)&&PI(e)=="[object Boolean]"}function TI(e){return typeof e=="object"}function Rse(e){return TI(e)&&e!==null}function Tn(e){return e!=null}function Wb(e){return!e.trim().length}function PI(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Lse="Incorrect 'index' type",Fse=e=>`Invalid value for key ${e}`,zse=e=>`Pattern length exceeds max of ${e}.`,Bse=e=>`Missing ${e} property in key`,$se=e=>`Property 'weight' in key '${e}' must be a positive integer`,IE=Object.prototype.hasOwnProperty;class qse{constructor(t){this._keys=[],this._keyMap={};let r=0;t.forEach(n=>{let i=II(n);this._keys.push(i),this._keyMap[i.id]=i,r+=i.weight}),this._keys.forEach(n=>{n.weight/=r})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function II(e){let t=null,r=null,n=null,i=1,l=null;if(Ja(e)||Xi(e))n=e,t=RE(e),r=i1(e);else{if(!IE.call(e,"name"))throw new Error(Bse("name"));const c=e.name;if(n=c,IE.call(e,"weight")&&(i=e.weight,i<=0))throw new Error($se(c));t=RE(c),r=i1(c),l=e.getFn}return{path:t,id:r,weight:i,src:n,getFn:l}}function RE(e){return Xi(e)?e:e.split(".")}function i1(e){return Xi(e)?e.join("."):e}function Hse(e,t){let r=[],n=!1;const i=(l,c,u)=>{if(Tn(l))if(!c[u])r.push(l);else{let f=c[u];const m=l[f];if(!Tn(m))return;if(u===c.length-1&&(Ja(m)||OI(m)||Ise(m)))r.push(Pse(m));else if(Xi(m)){n=!0;for(let h=0,x=m.length;h<x;h+=1)i(m[h],c,u+1)}else c.length&&i(m,c,u+1)}};return i(e,Ja(t)?t.split("."):t,0),n?r:r[0]}const Use={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Yse={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},Vse={location:0,threshold:.6,distance:100},Gse={useExtendedSearch:!1,getFn:Hse,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Je={...Yse,...Use,...Vse,...Gse};const Wse=/[^ ]+/g;function Kse(e=1,t=3){const r=new Map,n=Math.pow(10,t);return{get(i){const l=i.match(Wse).length;if(r.has(l))return r.get(l);const c=1/Math.pow(l,.5*e),u=parseFloat(Math.round(c*n)/n);return r.set(l,u),u},clear(){r.clear()}}}class Oj{constructor({getFn:t=Je.getFn,fieldNormWeight:r=Je.fieldNormWeight}={}){this.norm=Kse(r,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ja(this.docs[0])?this.docs.forEach((t,r)=>{this._addString(t,r)}):this.docs.forEach((t,r)=>{this._addObject(t,r)}),this.norm.clear())}add(t){const r=this.size();Ja(t)?this._addString(t,r):this._addObject(t,r)}removeAt(t){this.records.splice(t,1);for(let r=t,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(t,r){return t[this._keysMap[r]]}size(){return this.records.length}_addString(t,r){if(!Tn(t)||Wb(t))return;let n={v:t,i:r,n:this.norm.get(t)};this.records.push(n)}_addObject(t,r){let n={i:r,$:{}};this.keys.forEach((i,l)=>{let c=i.getFn?i.getFn(t):this.getFn(t,i.path);if(Tn(c)){if(Xi(c)){let u=[];const f=[{nestedArrIndex:-1,value:c}];for(;f.length;){const{nestedArrIndex:m,value:h}=f.pop();if(Tn(h))if(Ja(h)&&!Wb(h)){let x={v:h,i:m,n:this.norm.get(h)};u.push(x)}else Xi(h)&&h.forEach((x,v)=>{f.push({nestedArrIndex:v,value:x})})}n.$[l]=u}else if(Ja(c)&&!Wb(c)){let u={v:c,n:this.norm.get(c)};n.$[l]=u}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function RI(e,t,{getFn:r=Je.getFn,fieldNormWeight:n=Je.fieldNormWeight}={}){const i=new Oj({getFn:r,fieldNormWeight:n});return i.setKeys(e.map(II)),i.setSources(t),i.create(),i}function Qse(e,{getFn:t=Je.getFn,fieldNormWeight:r=Je.fieldNormWeight}={}){const{keys:n,records:i}=e,l=new Oj({getFn:t,fieldNormWeight:r});return l.setKeys(n),l.setIndexRecords(i),l}function Qm(e,{errors:t=0,currentLocation:r=0,expectedLocation:n=0,distance:i=Je.distance,ignoreLocation:l=Je.ignoreLocation}={}){const c=t/e.length;if(l)return c;const u=Math.abs(n-r);return i?c+u/i:u?1:c}function Xse(e=[],t=Je.minMatchCharLength){let r=[],n=-1,i=-1,l=0;for(let c=e.length;l<c;l+=1){let u=e[l];u&&n===-1?n=l:!u&&n!==-1&&(i=l-1,i-n+1>=t&&r.push([n,i]),n=-1)}return e[l-1]&&l-n>=t&&r.push([n,l-1]),r}const Ol=32;function Zse(e,t,r,{location:n=Je.location,distance:i=Je.distance,threshold:l=Je.threshold,findAllMatches:c=Je.findAllMatches,minMatchCharLength:u=Je.minMatchCharLength,includeMatches:f=Je.includeMatches,ignoreLocation:m=Je.ignoreLocation}={}){if(t.length>Ol)throw new Error(zse(Ol));const h=t.length,x=e.length,v=Math.max(0,Math.min(n,x));let g=l,S=v;const y=u>1||f,w=y?Array(x):[];let C;for(;(C=e.indexOf(t,S))>-1;){let P=Qm(t,{currentLocation:C,expectedLocation:v,distance:i,ignoreLocation:m});if(g=Math.min(P,g),S=C+h,y){let O=0;for(;O<h;)w[C+O]=1,O+=1}}S=-1;let k=[],A=1,M=h+x;const D=1<<h-1;for(let P=0;P<h;P+=1){let O=0,z=M;for(;O<z;)Qm(t,{errors:P,currentLocation:v+z,expectedLocation:v,distance:i,ignoreLocation:m})<=g?O=z:M=z,z=Math.floor((M-O)/2+O);M=z;let L=Math.max(1,v-z+1),$=c?x:Math.min(v+z,x)+h,E=Array($+2);E[$+1]=(1<<P)-1;for(let Z=$;Z>=L;Z-=1){let te=Z-1,R=r[e.charAt(te)];if(y&&(w[te]=+!!R),E[Z]=(E[Z+1]<<1|1)&R,P&&(E[Z]|=(k[Z+1]|k[Z])<<1|1|k[Z+1]),E[Z]&D&&(A=Qm(t,{errors:P,currentLocation:te,expectedLocation:v,distance:i,ignoreLocation:m}),A<=g)){if(g=A,S=te,S<=v)break;L=Math.max(1,2*v-S)}}if(Qm(t,{errors:P+1,currentLocation:v,expectedLocation:v,distance:i,ignoreLocation:m})>g)break;k=E}const T={isMatch:S>=0,score:Math.max(.001,A)};if(y){const P=Xse(w,u);P.length?f&&(T.indices=P):T.isMatch=!1}return T}function Jse(e){let t={};for(let r=0,n=e.length;r<n;r+=1){const i=e.charAt(r);t[i]=(t[i]||0)|1<<n-r-1}return t}const Oh=String.prototype.normalize?(e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(e=>e);class LI{constructor(t,{location:r=Je.location,threshold:n=Je.threshold,distance:i=Je.distance,includeMatches:l=Je.includeMatches,findAllMatches:c=Je.findAllMatches,minMatchCharLength:u=Je.minMatchCharLength,isCaseSensitive:f=Je.isCaseSensitive,ignoreDiacritics:m=Je.ignoreDiacritics,ignoreLocation:h=Je.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:i,includeMatches:l,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:f,ignoreDiacritics:m,ignoreLocation:h},t=f?t:t.toLowerCase(),t=m?Oh(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const x=(g,S)=>{this.chunks.push({pattern:g,alphabet:Jse(g),startIndex:S})},v=this.pattern.length;if(v>Ol){let g=0;const S=v%Ol,y=v-S;for(;g<y;)x(this.pattern.substr(g,Ol),g),g+=Ol;if(S){const w=v-Ol;x(this.pattern.substr(w),w)}}else x(this.pattern,0)}searchIn(t){const{isCaseSensitive:r,ignoreDiacritics:n,includeMatches:i}=this.options;if(t=r?t:t.toLowerCase(),t=n?Oh(t):t,this.pattern===t){let y={isMatch:!0,score:0};return i&&(y.indices=[[0,t.length-1]]),y}const{location:l,distance:c,threshold:u,findAllMatches:f,minMatchCharLength:m,ignoreLocation:h}=this.options;let x=[],v=0,g=!1;this.chunks.forEach(({pattern:y,alphabet:w,startIndex:C})=>{const{isMatch:k,score:A,indices:M}=Zse(t,y,w,{location:l+C,distance:c,threshold:u,findAllMatches:f,minMatchCharLength:m,includeMatches:i,ignoreLocation:h});k&&(g=!0),v+=A,k&&M&&(x=[...x,...M])});let S={isMatch:g,score:g?v/this.chunks.length:1};return g&&i&&(S.indices=x),S}}class rl{constructor(t){this.pattern=t}static isMultiMatch(t){return LE(t,this.multiRegex)}static isSingleMatch(t){return LE(t,this.singleRegex)}search(){}}function LE(e,t){const r=e.match(t);return r?r[1]:null}class ele extends rl{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const r=t===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class tle extends rl{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class rle extends rl{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const r=t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class nle extends rl{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const r=!t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class ale extends rl{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const r=t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class ile extends rl{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const r=!t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class FI extends rl{constructor(t,{location:r=Je.location,threshold:n=Je.threshold,distance:i=Je.distance,includeMatches:l=Je.includeMatches,findAllMatches:c=Je.findAllMatches,minMatchCharLength:u=Je.minMatchCharLength,isCaseSensitive:f=Je.isCaseSensitive,ignoreDiacritics:m=Je.ignoreDiacritics,ignoreLocation:h=Je.ignoreLocation}={}){super(t),this._bitapSearch=new LI(t,{location:r,threshold:n,distance:i,includeMatches:l,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:f,ignoreDiacritics:m,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class zI extends rl{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r=0,n;const i=[],l=this.pattern.length;for(;(n=t.indexOf(this.pattern,r))>-1;)r=n+l,i.push([n,r-1]);const c=!!i.length;return{isMatch:c,score:c?0:1,indices:i}}}const s1=[ele,zI,rle,nle,ile,ale,tle,FI],FE=s1.length,sle=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,lle="|";function ole(e,t={}){return e.split(lle).map(r=>{let n=r.trim().split(sle).filter(l=>l&&!!l.trim()),i=[];for(let l=0,c=n.length;l<c;l+=1){const u=n[l];let f=!1,m=-1;for(;!f&&++m<FE;){const h=s1[m];let x=h.isMultiMatch(u);x&&(i.push(new h(x,t)),f=!0)}if(!f)for(m=-1;++m<FE;){const h=s1[m];let x=h.isSingleMatch(u);if(x){i.push(new h(x,t));break}}}return i})}const cle=new Set([FI.type,zI.type]);class ule{constructor(t,{isCaseSensitive:r=Je.isCaseSensitive,ignoreDiacritics:n=Je.ignoreDiacritics,includeMatches:i=Je.includeMatches,minMatchCharLength:l=Je.minMatchCharLength,ignoreLocation:c=Je.ignoreLocation,findAllMatches:u=Je.findAllMatches,location:f=Je.location,threshold:m=Je.threshold,distance:h=Je.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:n,includeMatches:i,minMatchCharLength:l,findAllMatches:u,ignoreLocation:c,location:f,threshold:m,distance:h},t=r?t:t.toLowerCase(),t=n?Oh(t):t,this.pattern=t,this.query=ole(this.pattern,this.options)}static condition(t,r){return r.useExtendedSearch}searchIn(t){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i,ignoreDiacritics:l}=this.options;t=i?t:t.toLowerCase(),t=l?Oh(t):t;let c=0,u=[],f=0;for(let m=0,h=r.length;m<h;m+=1){const x=r[m];u.length=0,c=0;for(let v=0,g=x.length;v<g;v+=1){const S=x[v],{isMatch:y,indices:w,score:C}=S.search(t);if(y){if(c+=1,f+=C,n){const k=S.constructor.type;cle.has(k)?u=[...u,...w]:u.push(w)}}else{f=0,c=0,u.length=0;break}}if(c){let v={isMatch:!0,score:f/c};return n&&(v.indices=u),v}}return{isMatch:!1,score:1}}}const l1=[];function dle(...e){l1.push(...e)}function o1(e,t){for(let r=0,n=l1.length;r<n;r+=1){let i=l1[r];if(i.condition(e,t))return new i(e,t)}return new LI(e,t)}const Th={AND:"$and",OR:"$or"},c1={PATH:"$path",PATTERN:"$val"},u1=e=>!!(e[Th.AND]||e[Th.OR]),fle=e=>!!e[c1.PATH],mle=e=>!Xi(e)&&TI(e)&&!u1(e),zE=e=>({[Th.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function BI(e,t,{auto:r=!0}={}){const n=i=>{let l=Object.keys(i);const c=fle(i);if(!c&&l.length>1&&!u1(i))return n(zE(i));if(mle(i)){const f=c?i[c1.PATH]:l[0],m=c?i[c1.PATTERN]:i[f];if(!Ja(m))throw new Error(Fse(f));const h={keyId:i1(f),pattern:m};return r&&(h.searcher=o1(m,t)),h}let u={children:[],operator:l[0]};return l.forEach(f=>{const m=i[f];Xi(m)&&m.forEach(h=>{u.children.push(n(h))})}),u};return u1(e)||(e=zE(e)),n(e)}function ple(e,{ignoreFieldNorm:t=Je.ignoreFieldNorm}){e.forEach(r=>{let n=1;r.matches.forEach(({key:i,norm:l,score:c})=>{const u=i?i.weight:null;n*=Math.pow(c===0&&u?Number.EPSILON:c,(u||1)*(t?1:l))}),r.score=n})}function hle(e,t){const r=e.matches;t.matches=[],Tn(r)&&r.forEach(n=>{if(!Tn(n.indices)||!n.indices.length)return;const{indices:i,value:l}=n;let c={indices:i,value:l};n.key&&(c.key=n.key.src),n.idx>-1&&(c.refIndex=n.idx),t.matches.push(c)})}function xle(e,t){t.score=e.score}function vle(e,t,{includeMatches:r=Je.includeMatches,includeScore:n=Je.includeScore}={}){const i=[];return r&&i.push(hle),n&&i.push(xle),e.map(l=>{const{idx:c}=l,u={item:t[c],refIndex:c};return i.length&&i.forEach(f=>{f(l,u)}),u})}class ao{constructor(t,r={},n){this.options={...Je,...r},this.options.useExtendedSearch,this._keyStore=new qse(this.options.keys),this.setCollection(t,n)}setCollection(t,r){if(this._docs=t,r&&!(r instanceof Oj))throw new Error(Lse);this._myIndex=r||RI(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Tn(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const r=[];for(let n=0,i=this._docs.length;n<i;n+=1){const l=this._docs[n];t(l,n)&&(this.removeAt(n),n-=1,i-=1,r.push(l))}return r}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:r=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:l,sortFn:c,ignoreFieldNorm:u}=this.options;let f=Ja(t)?Ja(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return ple(f,{ignoreFieldNorm:u}),l&&f.sort(c),OI(r)&&r>-1&&(f=f.slice(0,r)),vle(f,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(t){const r=o1(t,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:l,i:c,n:u})=>{if(!Tn(l))return;const{isMatch:f,score:m,indices:h}=r.searchIn(l);f&&i.push({item:l,idx:c,matches:[{score:m,value:l,norm:u,indices:h}]})}),i}_searchLogical(t){const r=BI(t,this.options),n=(u,f,m)=>{if(!u.children){const{keyId:x,searcher:v}=u,g=this._findMatches({key:this._keyStore.get(x),value:this._myIndex.getValueForItemAtKeyId(f,x),searcher:v});return g&&g.length?[{idx:m,item:f,matches:g}]:[]}const h=[];for(let x=0,v=u.children.length;x<v;x+=1){const g=u.children[x],S=n(g,f,m);if(S.length)h.push(...S);else if(u.operator===Th.AND)return[]}return h},i=this._myIndex.records,l={},c=[];return i.forEach(({$:u,i:f})=>{if(Tn(u)){let m=n(r,u,f);m.length&&(l[f]||(l[f]={idx:f,item:u,matches:[]},c.push(l[f])),m.forEach(({matches:h})=>{l[f].matches.push(...h)}))}}),c}_searchObjectList(t){const r=o1(t,this.options),{keys:n,records:i}=this._myIndex,l=[];return i.forEach(({$:c,i:u})=>{if(!Tn(c))return;let f=[];n.forEach((m,h)=>{f.push(...this._findMatches({key:m,value:c[h],searcher:r}))}),f.length&&l.push({idx:u,item:c,matches:f})}),l}_findMatches({key:t,value:r,searcher:n}){if(!Tn(r))return[];let i=[];if(Xi(r))r.forEach(({v:l,i:c,n:u})=>{if(!Tn(l))return;const{isMatch:f,score:m,indices:h}=n.searchIn(l);f&&i.push({score:m,key:t,value:l,idx:c,norm:u,indices:h})});else{const{v:l,n:c}=r,{isMatch:u,score:f,indices:m}=n.searchIn(l);u&&i.push({score:f,key:t,value:l,norm:c,indices:m})}return i}}ao.version="7.1.0";ao.createIndex=RI;ao.parseIndex=Qse;ao.config=Je;ao.parseQuery=BI;dle(ule);let fa=null,Xu=null;function gle(e){if(!e)return!1;const t=new Date(e),r=new Date;return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&t.getDate()===r.getDate()}function ble(){return fa?Promise.resolve(fa):Xu||(Xu=tO("fundsList").then(e=>e&&Array.isArray(e.data)&&gle(e.updatedAt)?(fa=e.data,fa):Q8().then(t=>(fa=Array.isArray(t)?t:[],tn("fundsList",fa),fa))).catch(()=>(Xu=null,[])),Xu)}function Tj({value:e,onSelect:t,placeholder:r,disabled:n}){const[i,l]=j.useState(""),[c,u]=j.useState(fa||[]),[f,m]=j.useState(!fa),[h,x]=j.useState(!1),v=j.useRef(null);j.useEffect(()=>{if(fa){u(fa),m(!1);return}ble().then(k=>{u(k),m(!1)})},[]),j.useEffect(()=>{function k(A){v.current&&!v.current.contains(A.target)&&x(!1)}return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const g=j.useMemo(()=>c.length?new ao(c,{keys:["fundName"],threshold:.3,distance:50,minMatchCharLength:2,includeScore:!0,ignoreLocation:!1,findAllMatches:!0}):null,[c]),S=j.useMemo(()=>!g||i.length<2?[]:g.search(i).slice(0,50).map(k=>k.item),[g,i]);function y(k){l(k),x(k.length>=2)}function w(k){t({schemeCode:k.fundCode||k.schemeCode,fundName:k.fundName,nav:k.nav,navDate:k.navDate}),l(""),x(!1)}function C(){t({schemeCode:"",fundName:"",nav:0,navDate:""}),l("")}return e?.fundName?a.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate",children:Le(e.fundName).main}),Le(e.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(e.fundName).plan})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e.schemeCode}),e.nav>0&&a.jsxs("span",{className:"text-xs font-medium text-emerald-400",children:["NAV: ",e.nav.toFixed(2),e.navDate?` (${e.navDate})`:""]})]})]}),a.jsx("button",{type:"button",onClick:C,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:a.jsx(ni,{size:14})})]}):a.jsxs("div",{ref:v,className:"relative",children:[a.jsxs("div",{className:"relative",children:[f?a.jsx(od,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400 animate-spin"}):a.jsx(A1,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),a.jsx("input",{type:"text",value:i,onChange:k=>y(k.target.value),onFocus:()=>i.length>=2&&x(!0),placeholder:f?"Loading funds...":r||"Search fund name...",disabled:n||f,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),h&&S.length>0&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:S.map(k=>a.jsxs("button",{type:"button",onClick:()=>w(k),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:Le(k.fundName).main}),Le(k.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(k.fundName).plan})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:k.fundCode||k.schemeCode}),k.nav>0&&a.jsxs("span",{className:"text-xs text-emerald-400 tabular-nums",children:["NAV: ",k.nav.toFixed(2),k.navDate?` (${k.navDate})`:""]})]})]},k.fundCode||k.schemeCode))}),h&&i.length>=2&&S.length===0&&!f&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No funds found for "',i,'"']})})]})}const yle=[{value:"INITIAL",label:"Add Existing Holdings"},{value:"SIP",label:"SIP Investment"},{value:"LUMPSUM",label:"Lumpsum Investment"}];function wle({portfolioId:e,fundCode:t,fundName:r,transactionType:n,onSave:i,onCancel:l}){const{mfPortfolios:c,mfHoldings:u}=ht(),{selectedMember:f}=Lr(),m=j.useMemo(()=>{const E=c.filter(J=>J.status==="Active");return f==="all"?E:E.filter(J=>J.ownerId===f)},[c,f]),[h,x]=j.useState({portfolioId:e||"",fundCode:t||"",fundName:r||"",nav:0,navDate:"",transactionType:n||"SIP",date:new Date().toISOString().split("T")[0],units:"",price:"",notes:""}),[v,g]=j.useState({}),[S,y]=j.useState(!1),[w,C]=j.useState(!t);function k(E,J){x(Z=>({...Z,[E]:J})),g(Z=>({...Z,[E]:void 0}))}function A({schemeCode:E,fundName:J,nav:Z,navDate:te}){x(R=>({...R,fundCode:E,fundName:J,nav:Z||0,navDate:te||"",price:Z>0?String(Z):R.price})),g(R=>({...R,fundCode:void 0,fundName:void 0})),C(!1)}function M(E){x(J=>({...J,fundCode:E.schemeCode,fundName:E.fundName,nav:E.currentNav||0,navDate:"",price:E.currentNav>0?String(E.currentNav):J.price})),g(J=>({...J,fundCode:void 0})),C(!1)}const D=j.useMemo(()=>h.portfolioId?u.filter(E=>E.portfolioId===h.portfolioId).sort((E,J)=>J.currentValue-E.currentValue):[],[u,h.portfolioId]),T=j.useMemo(()=>!h.portfolioId||!h.fundCode?null:u.find(E=>E.portfolioId===h.portfolioId&&E.schemeCode===h.fundCode),[u,h.portfolioId,h.fundCode]),P=h.fundCode&&!T,O=j.useMemo(()=>(Number(h.units)||0)*(Number(h.price)||0),[h.units,h.price]);function z(){const E={};return h.portfolioId||(E.portfolioId="Required"),h.fundCode||(E.fundCode="Select a fund"),h.date||(E.date="Required"),(!h.units||Number(h.units)<=0)&&(E.units="Must be > 0"),(!h.price||Number(h.price)<=0)&&(E.price="Must be > 0"),g(E),Object.keys(E).length===0}async function L(){if(z()){y(!0);try{await i({portfolioId:h.portfolioId,fundCode:h.fundCode,fundName:h.fundName,transactionType:h.transactionType,purchaseDate:h.date,units:h.units,avgPrice:h.price,notes:h.notes})}finally{y(!1)}}}const $=m.map(E=>{const J=E.portfolioName?.replace(/^PFL-/,"")||E.portfolioName,Z=E.ownerName?`${J} (${E.ownerName})`:J;return{value:E.portfolioId,label:Z}});return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Portfolio",required:!0,error:v.portfolioId,children:a.jsx(et,{value:h.portfolioId,onChange:E=>{k("portfolioId",E),t||(k("fundCode",""),k("fundName",""),C(!1))},options:$,placeholder:"Select portfolio..."})}),a.jsx(pe,{label:"Transaction Type",required:!0,children:a.jsx(et,{value:h.transactionType,onChange:E=>k("transactionType",E),options:yle})})]}),a.jsx(pe,{label:"Fund",required:!0,error:v.fundCode,children:h.fundCode&&!w?a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:Le(h.fundName).main}),Le(h.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(h.fundName).plan})]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[h.fundCode,h.nav>0&&a.jsxs("span",{className:"ml-2 text-emerald-400",children:["NAV: ",h.nav.toFixed(2)]})]})]}),a.jsx("button",{type:"button",onClick:()=>{k("fundCode",""),k("fundName",""),C(!0)},className:"text-xs text-[var(--text-muted)] hover:text-[var(--text-primary)] underline shrink-0",children:"Change"})]}):a.jsxs("div",{className:"space-y-3",children:[D.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5",children:"Portfolio Funds"}),a.jsx("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] overflow-hidden max-h-44 overflow-y-auto",children:D.map(E=>a.jsxs("button",{type:"button",onClick:()=>M(E),className:"w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-[var(--bg-hover)] border-b border-[var(--border-light)] last:border-b-0 transition-colors group",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate group-hover:text-white transition-colors",children:Le(E.fundName).main}),Le(E.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(E.fundName).plan})]}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:E.units>0?`${E.units.toFixed(0)} units  ${W(E.currentValue)}`:"Planned"})]}),a.jsx(Ul,{size:12,className:"text-[var(--text-dim)] -rotate-90 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity"})]},E.holdingId))})]}),a.jsxs("div",{children:[D.length>0&&a.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5 flex items-center gap-1",children:[a.jsx(A1,{size:10})," Or search new fund"]}),a.jsx(Tj,{value:null,onSelect:A,placeholder:"Search fund by name or code..."})]})]})}),T&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  will average out"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:T.units.toFixed(2)})," units @ ",T.avgNav.toFixed(2)," avg NAV | Value: ",W(T.currentValue),T.targetAllocationPct>0&&a.jsxs("span",{children:["  Target: ",T.targetAllocationPct.toFixed(1),"%"]})]})]}),P&&a.jsxs("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:[a.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"}),a.jsx("p",{className:"text-xs text-violet-300/70 mt-0.5",children:"Use Allocations to plan how much to invest before buying"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(pe,{label:"Date",required:!0,error:v.date,children:a.jsx(Na,{value:h.date,onChange:E=>k("date",E)})}),a.jsx(pe,{label:"Units",required:!0,error:v.units,children:a.jsx(Re,{type:"number",value:h.units,onChange:E=>k("units",E),placeholder:"e.g., 150.50"})}),a.jsx(pe,{label:"NAV ()",required:!0,error:v.price,children:a.jsx(Re,{type:"number",value:h.price,onChange:E=>k("price",E),placeholder:"e.g., 178.45"})})]}),O>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:W(O)}),T&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:["New avg NAV: ",((T.investment+O)/(T.units+Number(h.units))).toFixed(2)," Total units: ",(T.units+Number(h.units)).toFixed(2)]})]}),a.jsx(pe,{label:"Notes",children:a.jsx(Re,{value:h.notes,onChange:E=>k("notes",E),placeholder:"Optional notes..."})}),a.jsx(ln,{onCancel:l,onSubmit:L,submitLabel:h.transactionType==="SIP"?"Record SIP":h.transactionType==="LUMPSUM"?"Record Lumpsum":"Add Holdings",loading:S})]})}function jle({portfolioId:e,fundCode:t,onSave:r,onCancel:n}){const{mfPortfolios:i,mfHoldings:l}=ht(),{selectedMember:c}=Lr(),u=j.useMemo(()=>{const L=i.filter($=>$.status==="Active");return c==="all"?L:L.filter($=>$.ownerId===c)},[i,c]),f=j.useMemo(()=>!e||!t?null:l.find(L=>L.portfolioId===e&&L.schemeCode===t),[l,e,t]),[m,h]=j.useState({portfolioId:e||"",fundCode:t||"",fundName:f?.fundName||"",date:new Date().toISOString().split("T")[0],units:"",price:f?.currentNav>0?String(f.currentNav):"",notes:""}),[x,v]=j.useState({}),[g,S]=j.useState(!1);function y(L,$){h(E=>({...E,[L]:$})),v(E=>({...E,[L]:void 0}))}const w=j.useMemo(()=>m.portfolioId?l.filter(L=>L.portfolioId===m.portfolioId&&L.units>0):[],[l,m.portfolioId]),C=w.find(L=>L.schemeCode===m.fundCode);function k(L){const $=w.find(E=>E.schemeCode===L);h(E=>({...E,fundCode:L,fundName:$?.fundName||"",price:$?.currentNav?.toString()||""})),v(E=>({...E,fundCode:void 0}))}function A(L){h($=>({...$,portfolioId:L,fundCode:"",fundName:"",units:"",price:""})),v($=>({...$,portfolioId:void 0}))}const M=j.useMemo(()=>(Number(m.units)||0)*(Number(m.price)||0),[m.units,m.price]),D=C?M-Number(m.units)*C.avgNav:0;function T(){const L={};return m.portfolioId||(L.portfolioId="Required"),m.fundCode||(L.fundCode="Required"),m.date||(L.date="Required"),(!m.units||Number(m.units)<=0)&&(L.units="Must be > 0"),C&&Number(m.units)>C.units&&(L.units=`Max ${C.units.toFixed(2)} units`),(!m.price||Number(m.price)<=0)&&(L.price="Must be > 0"),v(L),Object.keys(L).length===0}async function P(){if(T()){S(!0);try{await r(m)}finally{S(!1)}}}const O=u.map(L=>{const $=L.portfolioName?.replace(/^PFL-/,"")||L.portfolioName,E=L.ownerName?`${$} (${L.ownerName})`:$;return{value:L.portfolioId,label:E}}),z=w.map(L=>({value:L.schemeCode,label:`${L.fundName}  ${L.units.toFixed(0)} units  ${W(L.currentValue)}`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(pe,{label:"Portfolio",required:!0,error:x.portfolioId,children:a.jsx(et,{value:m.portfolioId,onChange:A,options:O,placeholder:"Select portfolio..."})}),a.jsx(pe,{label:"Fund to Redeem",required:!0,error:x.fundCode,children:a.jsx(et,{value:m.fundCode,onChange:k,options:z,placeholder:m.portfolioId?w.length?"Select fund...":"No holdings":"Select portfolio first..."})}),C&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Le(C.fundName).main}),Le(C.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(C.fundName).plan})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:C.units.toFixed(2)})," units @ ",C.avgNav.toFixed(2)," avg | Current NAV: ",C.currentNav.toFixed(2)]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(pe,{label:"Date",required:!0,error:x.date,children:a.jsx(Na,{value:m.date,onChange:L=>y("date",L)})}),a.jsx(pe,{label:"Units",required:!0,error:x.units,children:a.jsx(Re,{type:"number",value:m.units,onChange:L=>y("units",L),placeholder:C?`Max: ${C.units.toFixed(2)}`:""})}),a.jsx(pe,{label:"NAV ()",required:!0,error:x.price,children:a.jsx(Re,{type:"number",value:m.price,onChange:L=>y("price",L),placeholder:"e.g., 178.45"})})]}),M>0&&a.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Redemption Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:W(M)})]}),C&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),a.jsxs("p",{className:`text-sm font-bold tabular-nums ${D>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[D>=0?"+":"",W(D)]})]})]})}),a.jsx(pe,{label:"Notes",children:a.jsx(Re,{value:m.notes,onChange:L=>y("notes",L),placeholder:"Optional notes..."})}),a.jsx(ln,{onCancel:n,onSubmit:P,submitLabel:"Redeem",loading:g})]})}function Nle({portfolioId:e,onSave:t,onCancel:r}){const{mfPortfolios:n,mfHoldings:i}=ht(),{selectedMember:l}=Lr(),c=j.useMemo(()=>{const E=n.filter(J=>J.status==="Active");return l==="all"?E:E.filter(J=>J.ownerId===l)},[n,l]),[u,f]=j.useState({portfolioId:e||"",fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",date:new Date().toISOString().split("T")[0],units:"",fromPrice:"",toPrice:"",targetAllocation:"",notes:""}),[m,h]=j.useState({}),[x,v]=j.useState(!1);function g(E,J){f(Z=>({...Z,[E]:J})),h(Z=>({...Z,[E]:void 0}))}function S(E){f(J=>({...J,portfolioId:E,fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",units:"",fromPrice:"",toPrice:"",targetAllocation:""})),h(J=>({...J,portfolioId:void 0}))}const y=j.useMemo(()=>u.portfolioId?i.filter(E=>E.portfolioId===u.portfolioId&&E.units>0):[],[i,u.portfolioId]),w=y.find(E=>E.schemeCode===u.fromFundCode),C=j.useMemo(()=>!u.portfolioId||!u.toFundCode?null:i.find(E=>E.portfolioId===u.portfolioId&&E.schemeCode===u.toFundCode),[i,u.portfolioId,u.toFundCode]),k=u.toFundCode&&!C;function A(E){const J=y.find(Z=>Z.schemeCode===E);f(Z=>({...Z,fromFundCode:E,fromFundName:J?.fundName||"",fromPrice:J?.currentNav?.toString()||""})),h(Z=>({...Z,fromFundCode:void 0}))}function M({schemeCode:E,fundName:J}){const Z=i.find(te=>te.portfolioId===u.portfolioId&&te.schemeCode===E);f(te=>({...te,toFundCode:E,toFundName:J,toPrice:Z?.currentNav?.toString()||te.toPrice,targetAllocation:""})),h(te=>({...te,toFundCode:void 0}))}const D=j.useMemo(()=>(Number(u.units)||0)*(Number(u.fromPrice)||0),[u.units,u.fromPrice]),T=D>0&&Number(u.toPrice)>0?D/Number(u.toPrice):0,P=w?D-Number(u.units)*w.avgNav:0;function O(){const E={};return u.portfolioId||(E.portfolioId="Required"),u.fromFundCode||(E.fromFundCode="Required"),u.toFundCode||(E.toFundCode="Required"),u.fromFundCode&&u.toFundCode&&u.fromFundCode===u.toFundCode&&(E.toFundCode="Must be different from source fund"),u.date||(E.date="Required"),(!u.units||Number(u.units)<=0)&&(E.units="Must be > 0"),w&&Number(u.units)>w.units&&(E.units=`Max ${w.units.toFixed(2)} units`),(!u.fromPrice||Number(u.fromPrice)<=0)&&(E.fromPrice="Must be > 0"),(!u.toPrice||Number(u.toPrice)<=0)&&(E.toPrice="Must be > 0"),h(E),Object.keys(E).length===0}async function z(){if(O()){v(!0);try{await t(u)}finally{v(!1)}}}const L=c.map(E=>{const J=E.portfolioName?.replace(/^PFL-/,"")||E.portfolioName,Z=E.ownerName?`${J} (${E.ownerName})`:J;return{value:E.portfolioId,label:Z}}),$=y.map(E=>({value:E.schemeCode,label:E.fundName}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(pe,{label:"Portfolio",required:!0,error:m.portfolioId,children:a.jsx(et,{value:u.portfolioId,onChange:S,options:L,placeholder:"Select portfolio..."})}),a.jsx(pe,{label:"Switch From (Sell)",required:!0,error:m.fromFundCode,children:a.jsx(et,{value:u.fromFundCode,onChange:A,options:$,placeholder:u.portfolioId?y.length?"Select fund to switch from...":"No holdings":"Select portfolio first..."})}),w&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Le(w.fundName).main}),Le(w.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(w.fundName).plan})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:w.units.toFixed(2)})," units @ ",w.avgNav.toFixed(2)," avg | Current NAV: ",w.currentNav.toFixed(2)]})]}),a.jsx(pe,{label:"Switch To (Buy)",required:!0,error:m.toFundCode,children:a.jsx(Tj,{value:u.toFundCode?{schemeCode:u.toFundCode,fundName:u.toFundName}:null,onSelect:M,placeholder:"Search fund to switch into...",disabled:!u.portfolioId})}),C&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  units will be added, NAV averaged out"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:C.units.toFixed(2)})," units @ ",C.avgNav.toFixed(2)," avg | Alloc: ",C.targetAllocationPct.toFixed(1),"%"]})]}),k&&u.toFundCode&&a.jsx("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:a.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Switch Date",required:!0,error:m.date,children:a.jsx(Na,{value:u.date,onChange:E=>g("date",E)})}),a.jsx(pe,{label:"Units to Switch",required:!0,error:m.units,children:a.jsx(Re,{type:"number",value:u.units,onChange:E=>g("units",E),placeholder:w?`Max: ${w.units.toFixed(2)}`:""})})]}),a.jsxs("div",{className:`grid grid-cols-1 ${k?"sm:grid-cols-3":"sm:grid-cols-2"} gap-4`,children:[a.jsx(pe,{label:"From Fund NAV ()",required:!0,error:m.fromPrice,children:a.jsx(Re,{type:"number",value:u.fromPrice,onChange:E=>g("fromPrice",E),placeholder:"e.g., 178.45"})}),a.jsx(pe,{label:"To Fund NAV ()",required:!0,error:m.toPrice,children:a.jsx(Re,{type:"number",value:u.toPrice,onChange:E=>g("toPrice",E),placeholder:"e.g., 82.10"})}),k&&a.jsx(pe,{label:"Target Allocation (%)",children:a.jsx(Re,{type:"number",value:u.targetAllocation,onChange:E=>g("targetAllocation",E),placeholder:"e.g., 20"})})]}),D>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Switch Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:W(D)})]}),T>0&&a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Units Bought"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:T.toFixed(4)})]}),w&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),a.jsxs("p",{className:`text-sm font-bold tabular-nums ${P>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[P>=0?"+":"",W(P)]})]})]}),C&&T>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1 border-t border-[var(--border-light)] pt-1",children:["New total: ",(C.units+T).toFixed(2)," units  New avg NAV: ",((C.investment+D)/(C.units+T)).toFixed(2)]})]}),a.jsx(pe,{label:"Notes",children:a.jsx(Re,{value:u.notes,onChange:E=>g("notes",E),placeholder:"Optional notes..."})}),a.jsx(ln,{onCancel:r,onSubmit:z,submitLabel:"Switch Funds",loading:x})]})}function Sle({portfolioId:e,onSave:t,onCancel:r}){const{mfHoldings:n,mfPortfolios:i}=ht(),l=i.find(O=>O.portfolioId===e),c=j.useMemo(()=>n.filter(O=>O.portfolioId===e),[n,e]),[u,f]=j.useState(()=>c.map(O=>({schemeCode:O.schemeCode,fundName:O.fundName,units:O.units,currentValue:O.currentValue,currentAllocationPct:O.currentAllocationPct,targetAllocationPct:O.targetAllocationPct,isNew:!1}))),[m,h]=j.useState(null),[x,v]=j.useState(""),[g,S]=j.useState(""),[y,w]=j.useState(!1),C=u.reduce((O,z)=>O+z.targetAllocationPct,0),k=u.reduce((O,z)=>O+z.currentValue,0);function A(O,z){f(L=>L.map($=>$.schemeCode===O?{...$,targetAllocationPct:Number(z)||0}:$)),S("")}function M(O){const z=u.find(L=>L.schemeCode===O);z&&z.units>0||f(L=>L.filter($=>$.schemeCode!==O))}function D(){if(m){if(u.find(O=>O.schemeCode===m.schemeCode)){S("Fund already exists in portfolio");return}f(O=>[...O,{schemeCode:m.schemeCode,fundName:m.fundName,units:0,currentValue:0,currentAllocationPct:0,targetAllocationPct:Number(x)||0,isNew:!0}]),h(null),v(""),S("")}}async function T(){if(C>100){S(`Total allocation is ${C.toFixed(1)}%  must be  100%`);return}w(!0);try{await t(u.map(O=>({schemeCode:O.schemeCode,fundName:O.fundName,targetAllocationPct:O.targetAllocationPct,isNew:O.isNew})))}finally{w(!1)}}const P=l?.sipTarget||0;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:l?.portfolioName}),a.jsx("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] mt-0.5 flex-wrap",children:a.jsxs("span",{children:["Current Value: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:W(k)})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold whitespace-nowrap w-24",children:"Amount"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold whitespace-nowrap w-20",children:"Current %"}),a.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold whitespace-nowrap w-24",children:"Target %"}),a.jsx("th",{className:"w-8 px-2"})]})}),a.jsx("tbody",{children:u.map(O=>{const z=O.isNew&&O.targetAllocationPct>0&&O.targetAllocationPct<100&&k>0?O.targetAllocationPct/(100-O.targetAllocationPct)*k:0,L=O.isNew&&O.targetAllocationPct>0&&P>=100?O.targetAllocationPct/100*P:0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("td",{className:"py-2 px-2",children:[a.jsxs("p",{className:"text-xs text-[var(--text-primary)] leading-tight",children:[Le(O.fundName).main,O.isNew&&a.jsx("span",{className:"text-violet-400 ml-1 text-[10px]",children:"(new)"})]}),(z>0||L>0)&&a.jsxs("p",{className:"text-xs text-blue-400 mt-0.5",children:["Invest: ",z>0&&a.jsx("span",{className:"font-semibold",children:W(z)}),z>0&&L>0&&"  ",L>0&&a.jsxs("span",{className:"font-semibold",children:[W(L),"/mo SIP"]})]})]}),a.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums whitespace-nowrap",children:O.currentValue>0?W(O.currentValue):""}),a.jsxs("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums whitespace-nowrap",children:[O.currentAllocationPct.toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-2",children:a.jsx("input",{type:"number",value:O.targetAllocationPct,onChange:$=>A(O.schemeCode,$.target.value),className:"w-20 mx-auto block bg-[var(--bg-inset)] border border-[var(--border)] rounded px-2 py-1 text-xs text-center text-[var(--text-primary)] focus:outline-none focus:border-violet-500/50"})}),a.jsx("td",{className:"py-2 px-2 text-center",children:O.units===0&&a.jsx("button",{onClick:()=>M(O.schemeCode),className:"p-1 rounded hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors",children:a.jsx(lc,{size:12})})})]},O.schemeCode)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-2 px-2 text-xs font-bold text-[var(--text-primary)]",children:"Total"}),a.jsx("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:W(k)}),a.jsxs("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:[u.reduce((O,z)=>O+z.currentAllocationPct,0).toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-2 text-center",children:a.jsxs("span",{className:`text-xs font-bold tabular-nums ${C>100?"text-[var(--accent-rose)]":C===100?"text-emerald-400":"text-amber-400"}`,children:[C.toFixed(1),"%"]})}),a.jsx("td",{})]})})]})}),a.jsxs("div",{className:"sm:hidden space-y-2",children:[u.map(O=>{const z=O.isNew&&O.targetAllocationPct>0&&O.targetAllocationPct<100&&k>0?O.targetAllocationPct/(100-O.targetAllocationPct)*k:0,L=O.isNew&&O.targetAllocationPct>0&&P>=100?O.targetAllocationPct/100*P:0;return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-3.5 py-3 space-y-2",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:[Le(O.fundName).main,O.isNew&&a.jsx("span",{className:"text-violet-400 ml-1 text-[10px] font-semibold",children:"(new)"})]}),a.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5 text-[11px] text-[var(--text-dim)] flex-wrap",children:[O.currentValue>0&&a.jsx("span",{className:"tabular-nums",children:W(O.currentValue)}),O.currentValue>0&&a.jsx("span",{children:""}),a.jsxs("span",{className:"tabular-nums",children:["Current ",O.currentAllocationPct.toFixed(1),"%"]})]})]}),O.units===0&&a.jsx("button",{onClick:()=>M(O.schemeCode),className:"p-1.5 rounded-lg hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors shrink-0",children:a.jsx(lc,{size:14})})]}),a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("span",{className:"text-[10px] text-[var(--text-dim)] w-10 shrink-0",children:"Target"}),a.jsx("input",{type:"range",min:"0",max:"50",step:"0.5",value:O.targetAllocationPct,onChange:$=>A(O.schemeCode,$.target.value),className:"flex-1 h-1.5 rounded-full appearance-none cursor-pointer accent-violet-500",style:{background:`linear-gradient(to right, rgb(139 92 246) 0%, rgb(139 92 246) ${O.targetAllocationPct/50*100}%, var(--bg-inset) ${O.targetAllocationPct/50*100}%, var(--bg-inset) 100%)`}}),a.jsx("input",{type:"number",value:O.targetAllocationPct,onChange:$=>A(O.schemeCode,$.target.value),className:"w-14 bg-[var(--bg-inset)] border border-[var(--border)] rounded px-1.5 py-1 text-xs text-center text-[var(--text-primary)] tabular-nums focus:outline-none focus:border-violet-500/50 shrink-0"}),a.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:"%"})]}),(z>0||L>0)&&a.jsxs("p",{className:"text-[11px] text-blue-400",children:["Invest: ",z>0&&a.jsx("span",{className:"font-semibold",children:W(z)}),z>0&&L>0&&"  ",L>0&&a.jsxs("span",{className:"font-semibold",children:[W(L),"/mo SIP"]})]})]},O.schemeCode)}),a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-inset)] rounded-xl border border-[var(--border-light)] px-3.5 py-2.5",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:"Total Target"}),a.jsxs("span",{className:`text-sm font-bold tabular-nums ${C>100?"text-[var(--accent-rose)]":C===100?"text-emerald-400":"text-amber-400"}`,children:[C.toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider mb-1",children:"Add New Fund"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Set target % to see how much to invest. After buying, use Invest to record the transaction."}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Tj,{value:m,onSelect:O=>h(O.schemeCode?O:null),placeholder:"Search fund to add..."}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-28",children:a.jsx("input",{type:"number",value:x,onChange:O=>v(O.target.value),placeholder:"Target %",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),a.jsxs("button",{onClick:D,disabled:!m,className:"flex items-center gap-1 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[a.jsx(Gr,{size:14})," Add"]})]})]})]})]}),g&&a.jsx("p",{className:"text-xs text-[var(--accent-rose)] font-medium",children:g}),a.jsx(ln,{onCancel:r,onSubmit:T,submitLabel:"Save Allocations",loading:y})]})}const Kb=["Equity","Debt","Cash","Commodities","Real Estate","Other"],Qb=["Giant","Large","Mid","Small","Micro"],Xb=["India","Global"];function Cle({fund:e,initial:t,onSave:r,onCancel:n}){const[i,l]=j.useState(()=>{const D={};return Kb.forEach(T=>{D[T]=t?.assetAllocation?.[T]||0}),t?.assetAllocation&&Object.keys(t.assetAllocation).forEach(T=>{T in D||(D[T]=t.assetAllocation[T])}),D}),[c,u]=j.useState(()=>{const D={};return Qb.forEach(T=>{D[T]=t?.equityAllocation?.[T]||0}),t?.equityAllocation&&Object.keys(t.equityAllocation).forEach(T=>{T in D||(D[T]=t.equityAllocation[T])}),D}),[f,m]=j.useState(()=>{const D={};return Xb.forEach(T=>{D[T]=t?.geoAllocation?.[T]||0}),t?.geoAllocation&&Object.keys(t.geoAllocation).forEach(T=>{T in D||(D[T]=t.geoAllocation[T])}),D}),[h,x]=j.useState(!1),v=Object.values(i).reduce((D,T)=>D+T,0),g=Object.values(c).reduce((D,T)=>D+T,0),S=Object.values(f).reduce((D,T)=>D+T,0),y=i.Equity||0,w=v===100||v===0,C=g===100||g===0||y===0,k=S===100||S===0||y===0,A=w&&C&&k;async function M(){if(A){x(!0);try{const D={fundCode:e.fundCode,fundName:e.fundName,equity:i.Equity||0,debt:i.Debt||0,cash:i.Cash||0,commodities:i.Commodities||0,realEstate:i["Real Estate"]||0,customAsset:{},giantCap:c.Giant||0,largeCap:c.Large||0,midCap:c.Mid||0,smallCap:c.Small||0,microCap:c.Micro||0,customCap:{},geoIndia:f.India||0,geoGlobal:f.Global||0,customGeo:{}};Object.entries(i).forEach(([T,P])=>{!Kb.includes(T)&&P>0&&(D.customAsset[T]=P)}),Object.entries(c).forEach(([T,P])=>{!Qb.includes(T)&&P>0&&(D.customCap[T]=P)}),Object.entries(f).forEach(([T,P])=>{!Xb.includes(T)&&P>0&&(D.customGeo[T]=P)}),await r(D)}finally{x(!1)}}}return a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-2.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)] truncate",children:Le(e.fundName).main}),Le(e.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(e.fundName).plan})]}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:e.fundCode})]}),a.jsx(Zb,{title:"Asset Class %",fields:i,setFields:l,standardKeys:Kb,total:v,valid:w}),y>0&&a.jsx(Zb,{title:"Market Cap %",subtitle:"Equity breakdown",fields:c,setFields:u,standardKeys:Qb,total:g,valid:C}),y>0&&a.jsx(Zb,{title:"Geography %",fields:f,setFields:m,standardKeys:Xb,total:S,valid:k}),a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-3 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:n,disabled:h,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),a.jsxs("button",{onClick:M,disabled:h||!A,className:"flex items-center gap-1.5 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:[h?a.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):a.jsx(yO,{size:12}),h?"Saving...":"Save"]})]})]})}function Zb({title:e,subtitle:t,fields:r,setFields:n,standardKeys:i,total:l,valid:c}){const[u,f]=j.useState(!1),[m,h]=j.useState("");function x(y,w){n(C=>({...C,[y]:Number(w)||0}))}function v(){const y=m.trim();!y||y in r||(n(w=>({...w,[y]:0})),h(""),f(!1))}function g(y){n(w=>{const C={...w};return delete C[y],C})}const S=Object.keys(r);return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider",children:e}),t&&a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["(",t,")"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-1.5",children:S.map(y=>{const w=!i.includes(y);return a.jsxs("div",{className:"relative",children:[a.jsxs("label",{className:"block text-[10px] text-[var(--text-dim)] mb-0.5 flex items-center gap-1",children:[y,w&&a.jsx("button",{onClick:()=>g(y),className:"text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:a.jsx(ni,{size:8})})]}),a.jsx("input",{type:"number",min:"0",max:"100",value:r[y]||"",onChange:C=>x(y,C.target.value),className:"w-[72px] px-1.5 py-1 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md tabular-nums text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})]},y)})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:`text-[10px] tabular-nums ${c?"text-[var(--text-dim)]":"text-[var(--accent-rose)] font-semibold"}`,children:["Total: ",l,"% ",!c&&" must equal 100%",c&&l===100&&a.jsx("span",{className:"text-emerald-400 ml-1",children:""})]}),u?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("input",{autoFocus:!0,value:m,onChange:y=>h(y.target.value),onKeyDown:y=>{y.key==="Enter"&&v(),y.key==="Escape"&&f(!1)},placeholder:"Field name",className:"w-24 px-1.5 py-0.5 text-[10px] bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md focus:outline-none focus:border-[var(--sidebar-active-text)]"}),a.jsx("button",{onClick:v,className:"text-[10px] font-semibold text-emerald-400 hover:text-emerald-300",children:"Add"}),a.jsx("button",{onClick:()=>{f(!1),h("")},className:"text-[10px] text-[var(--text-dim)] hover:text-[var(--text-primary)]",children:a.jsx(ni,{size:10})})]}):a.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-0.5 text-[10px] font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[a.jsx(Gr,{size:10})," Add Field"]})]})]})}const Zu=e=>e?.replace(/^PFL-/,"")||e;function Ale(e){if(!e)return"Other";const t=e.toLowerCase();return t.includes("gold")||t.includes("silver")||t.includes("commodity")?"Commodity":t.includes("liquid")||t.includes("money market")||t.includes("overnight")?"Liquid":t.includes("gilt")||t.includes("government securities")||t.includes("constant maturity")?"Gilt":t.includes("elss")||t.includes("tax saver")?"ELSS":t.includes("debt")||t.includes("bond")||t.includes("income fund")||t.includes("corporate bond")||t.includes("banking & psu")||t.includes("short duration")||t.includes("medium duration")||t.includes("long duration")||t.includes("short term")||t.includes("medium term")||t.includes("floater")||t.includes("floating rate")||t.includes("credit")||t.includes("accrual")||t.includes("savings fund")||t.includes("ultra short")?"Debt":t.includes("multi asset")?"Multi-Asset":t.includes("hybrid")||t.includes("balanced")||t.includes("dynamic asset")||t.includes("arbitrage")||t.includes("retirement")||t.includes("children")||t.includes("pension")?"Hybrid":t.includes("equity")||t.includes("flexi cap")||t.includes("large cap")||t.includes("mid cap")||t.includes("small cap")||t.includes("multi cap")||t.includes("focused")||t.includes("contra")||t.includes("value fund")||t.includes("thematic")||t.includes("sectoral")||t.includes("consumption")||t.includes("infrastructure")||t.includes("pharma")||t.includes("healthcare")||t.includes("technology")||t.includes("fmcg")||t.includes("mnc")||t.includes("opportunities fund")||t.includes("midcap")||t.includes("smallcap")||t.includes("largecap")||t.includes("large & mid")?"Equity":t.includes("index")||t.includes("etf")||t.includes("nifty")||t.includes("sensex")?"Index":t.includes("fund of fund")||t.includes("fof")||t.includes("aggressive")||t.includes("conservative")?"Hybrid":"Other"}const kle={Equity:"#8b5cf6",Debt:"#0ea5e9",Cash:"#2dd4bf",Commodities:"#eab308","Real Estate":"#f97316",Other:"#94a3b8"},Mle={Giant:"#6366f1",Large:"#3b82f6",Mid:"#f59e0b",Small:"#ef4444",Micro:"#ec4899"},Dle={India:"#f97316",Global:"#06b6d4"},Ele={Equity:"bg-violet-500",Debt:"bg-sky-500",Cash:"bg-teal-400",Commodities:"bg-yellow-500","Real Estate":"bg-orange-500",Other:"bg-slate-400"},_le={Giant:"bg-indigo-500",Large:"bg-blue-500",Mid:"bg-amber-500",Small:"bg-rose-500",Micro:"bg-pink-500"},Ole={India:"bg-orange-500",Global:"bg-cyan-500"};function d1(e){if(!e)return null;if(e instanceof Date)return isNaN(e.getTime())?null:e;const t=String(e),r=t.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(r)return new Date(Number(r[3]),Number(r[2])-1,Number(r[1]));const n=new Date(t);return isNaN(n.getTime())?null:n}function BE(e){return e>=20?{color:"#c62828",fontWeight:700}:e>=10?{color:"#d84315",fontWeight:700}:e>=5?{color:"#e67e00",fontWeight:600}:e>=1?{color:"#b8860b",fontWeight:600}:{color:"var(--text-dim)",fontWeight:400}}function Tle(){const{selectedMember:e}=Lr(),{mfPortfolios:t,mfHoldings:r,mfTransactions:n,activeMembers:i,activeInvestmentAccounts:l,addMFPortfolio:c,updateMFPortfolio:u,deleteMFPortfolio:f,investMF:m,redeemMF:h,switchMF:x,updateHoldingAllocations:v,deleteMFTransaction:g,editMFTransaction:S,assetAllocations:y,updateAssetAllocation:w}=ht(),{showToast:C,showBlockUI:k,hideBlockUI:A}=li(),M=oi(),{mv:D}=Da(),[T,P]=j.useState(null),[O,z]=j.useState("all"),[L,$]=j.useState("holdings"),[E,J]=j.useState(!1),[Z,te]=j.useState("all"),[R,F]=j.useState(null),[fe,Se]=j.useState(!1),[H,B]=j.useState(null),Q=j.useMemo(()=>t?t.filter(G=>G.status!=="Inactive").map(G=>{let q=l.find(Fe=>Fe.accountId===G.investmentAccountId);!q&&G.investmentAccountId&&(q=l.find(Fe=>`${Fe.accountName} - ${Fe.platformBroker}`===G.investmentAccountId));const X=q?.memberId||G.ownerId||"",Ce=X?i.find(Fe=>Fe.memberId===X):null;return{...G,investmentAccountId:q?.accountId||G.investmentAccountId,ownerId:X,ownerName:Ce?.memberName||G.ownerName||"",platform:q?.platformBroker||G.investmentAccountName||"",clientId:q?.accountClientId||""}}):[],[t,l,i]),ue=j.useMemo(()=>Q.length?e==="all"?Q:Q.filter(G=>G.ownerId===e):[],[Q,e]),xe=j.useMemo(()=>r?ue.map(G=>{const q=r.filter(Ce=>Ce.portfolioId===G.portfolioId),X=(n||[]).filter(Ce=>Ce.portfolioId===G.portfolioId);return{...G,holdings:q,txns:X,fundCount:q.length}}):[],[ue,r,n]),U=j.useMemo(()=>{const G=O==="all"?xe:xe.filter(dt=>dt.portfolioId===O),q=G.reduce((dt,Ee)=>dt+Ee.totalInvestment,0),X=G.reduce((dt,Ee)=>dt+Ee.currentValue,0),Ce=G.reduce((dt,Ee)=>dt+Ee.unrealizedPL,0),Fe=G.reduce((dt,Ee)=>dt+Ee.realizedPL,0),le=Ce+Fe,ot=q>0?le/q*100:0,qe=q>0?Ce/q*100:0,De=q>0?Fe/q*100:0,Ze=G.reduce((dt,Ee)=>dt+Ee.fundCount,0),Ht=(r?O==="all"?r.filter(dt=>G.some(Ee=>Ee.portfolioId===dt.portfolioId)):r.filter(dt=>dt.portfolioId===O):[]).reduce((dt,Ee)=>dt+(Ee.ongoingSIP||0),0);return{invested:q,current:X,unrealizedPL:Ce,unrealizedPLPct:qe,realizedPL:Fe,realizedPLPct:De,totalPL:le,totalPLPct:ot,funds:Ze,monthlySIP:Ht}},[xe,O,r]),de=j.useMemo(()=>r?O==="all"?r.filter(G=>ue.some(q=>q.portfolioId===G.portfolioId)):r.filter(G=>G.portfolioId===O):[],[r,ue,O]),ie=j.useMemo(()=>n?(O==="all"?n.filter(q=>ue.some(X=>X.portfolioId===q.portfolioId)):n.filter(q=>q.portfolioId===O)).sort((q,X)=>(d1(X.date)||0)-(d1(q.date)||0)):[],[n,ue,O]),ye=j.useMemo(()=>{const G=new Set;return ie.forEach(q=>{q.fundName&&G.add(q.fundName)}),[...G].sort()},[ie]),re=j.useMemo(()=>Z==="all"?ie:ie.filter(G=>G.fundName===Z),[ie,Z]),Me=j.useMemo(()=>{const G={};return de.forEach(q=>{G[q.portfolioId]=(G[q.portfolioId]||0)+q.currentValue}),de.map(q=>{const X=G[q.portfolioId]||0,Ce=X>0?q.currentValue/X*100:0,Fe=q.investment>0?q.pl/q.investment*100:0,le=q.holdingId||`${q.portfolioId}::${q.schemeCode||q.fundCode}`;return{...q,currentAllocationPct:Ce,plPct:Fe,_key:le}})},[de]),Ve=j.useMemo(()=>{if(O!=="all")return null;const G=[],q={};return Me.forEach(X=>{q[X.portfolioId]||(q[X.portfolioId]={portfolioId:X.portfolioId,holdings:[]},G.push(q[X.portfolioId])),q[X.portfolioId].holdings.push(X)}),G},[Me,O]),ge=j.useMemo(()=>{if(!r)return{};const G={};return xe.forEach(q=>{const X=r.filter(qe=>qe.portfolioId===q.portfolioId&&qe.units>0),Ce=X.reduce((qe,De)=>qe+De.currentValue,0),Fe=(q.rebalanceThreshold||.05)*100;let le=0,ot=0;X.forEach(qe=>{qe.athNav>0&&qe.belowATHPct>=5&&le++;const De=Ce>0?qe.currentValue/Ce*100:0;qe.targetAllocationPct>0&&Math.abs(De-qe.targetAllocationPct)>Fe&&ot++}),G[q.portfolioId]={buyOpp:le,rebalance:ot}}),G},[xe,r]);j.useMemo(()=>{if(O!=="all")return ge[O]||{buyOpp:0,rebalance:0};let G=0,q=0;return Object.values(ge).forEach(X=>{G+=X.buyOpp,q+=X.rebalance}),{buyOpp:G,rebalance:q}},[O,ge]);const ze=j.useMemo(()=>{if(!de.length)return null;const G={};if(y)for(const Ee of y)G[Ee.fundCode]={asset:Ee.assetAllocation,equity:Ee.equityAllocation,geo:Ee.geoAllocation};const q={Equity:0,Debt:0,Cash:0,Commodities:0,"Real Estate":0,Other:0},X={Giant:0,Large:0,Mid:0,Small:0,Micro:0},Ce={India:0,Global:0};let Fe=0,le=!1,ot=0;for(const Ee of de){if(Ee.units<=0)continue;Fe+=Ee.currentValue;const We=G[Ee.fundCode||Ee.schemeCode];if(We?.asset){le=!0,ot++;for(const[_e,it]of Object.entries(We.asset)){const ne=Ee.currentValue*(it/100);_e in q?q[_e]+=ne:_e==="Gold"?q.Commodities+=ne:q.Other+=ne}if(We.equity){const _e=Ee.currentValue*((We.asset.Equity||0)/100);for(const[it,ne]of Object.entries(We.equity)){const Ne=_e*(ne/100);it in X?X[it]+=Ne:it==="Large Cap"?X.Large+=Ne:it==="Mid Cap"?X.Mid+=Ne:X.Small+=Ne}}if(We.geo){const _e=Ee.currentValue*((We.asset.Equity||0)/100);for(const[it,ne]of Object.entries(We.geo)){const Ne=_e*(ne/100);it in Ce?Ce[it]+=Ne:Ce.Global+=Ne}}}else{let _e=Ee.category;(!_e||_e==="Other")&&(_e=Ale(Ee.fundName)),_e==="Equity"||_e==="ELSS"||_e==="Index"?q.Equity+=Ee.currentValue:_e==="Debt"||_e==="Gilt"?q.Debt+=Ee.currentValue:_e==="Liquid"?q.Cash+=Ee.currentValue:_e==="Commodity"?q.Commodities+=Ee.currentValue:_e==="Multi-Asset"?(q.Equity+=Ee.currentValue*.5,q.Debt+=Ee.currentValue*.3,q.Commodities+=Ee.currentValue*.2):_e==="Hybrid"||_e==="FoF"?(q.Equity+=Ee.currentValue*.65,q.Debt+=Ee.currentValue*.35):q.Other+=Ee.currentValue}}if(Fe===0)return null;const De=((Ee,We)=>Object.entries(Ee).filter(([,_e])=>_e>0).sort(([,_e],[,it])=>it-_e).map(([_e,it])=>({name:_e,value:it,pct:it/Fe*100,fill:We[_e]||"#94a3b8"})))(q,kle),Ze=Object.values(X).reduce((Ee,We)=>Ee+We,0),Ke=Ze>0?Object.entries(X).filter(([,Ee])=>Ee>0).sort(([,Ee],[,We])=>We-Ee).map(([Ee,We])=>({name:Ee,value:We,pct:We/Ze*100,fill:Mle[Ee]||"#94a3b8"})):[],Ht=Object.values(Ce).reduce((Ee,We)=>Ee+We,0),dt=Ht>0?Object.entries(Ce).filter(([,Ee])=>Ee>0).sort(([,Ee],[,We])=>We-Ee).map(([Ee,We])=>({name:Ee,value:We,pct:We/Ht*100,fill:Dle[Ee]||"#94a3b8"})):[];return{assetList:De,capList:Ke,geoList:dt,hasDetailedAlloc:le,configuredCount:ot,totalFunds:de.filter(Ee=>Ee.units>0).length}},[de,y]),ke=j.useMemo(()=>{if(!de.length)return[];const G={};return de.forEach(q=>{if(!q.fundCode&&!q.schemeCode)return;const X=(q.fundCode||q.schemeCode).toString();G[X]||(G[X]={fundCode:X,fundName:q.fundName||""})}),Object.values(G).sort((q,X)=>q.fundName.localeCompare(X.fundName))},[de]);if(t===null||r===null)return a.jsx(di,{title:"Loading mutual funds",cards:5});const Ie=xe.find(G=>G.portfolioId===O),rt=O==="all"?`All Portfolios (${ue.length})`:`${Zu(Ie?.portfolioName)}  ${D(Ie?.ownerName,"name")}`;async function Tt(G){k("Saving...");try{T?.editPortfolio?await u(T.editPortfolio.portfolioId,G):await c(G),C(T?.editPortfolio?"Portfolio updated":"Portfolio created"),P(null)}catch(q){C(q.message||"Failed to save portfolio","error")}finally{A()}}async function kt(){if(T?.editPortfolio&&await M("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){k("Deactivating...");try{await f(T.editPortfolio.portfolioId),C("Portfolio deactivated"),z("all"),P(null)}catch(G){C(G.message||"Failed to deactivate portfolio","error")}finally{A()}}}async function St(G){k("Recording investment...");try{await m(G,G.transactionType),C("Investment recorded"),P(null)}catch(q){C(q.message||"Failed to record investment","error")}finally{A()}}async function Mr(G){k("Recording redemption...");try{await h(G),C("Redemption recorded"),P(null)}catch(q){C(q.message||"Failed to record redemption","error")}finally{A()}}async function Wt(G){k("Recording switch...");try{await x(G),C("Switch recorded"),P(null)}catch(q){C(q.message||"Failed to record switch","error")}finally{A()}}async function ir(G){if(await M("Delete this transaction? This will recalculate your holdings.",{title:"Delete Transaction",confirmLabel:"Delete"})){k("Deleting...");try{await g(G),C("Transaction deleted"),F(null)}catch(q){C(q.message||"Failed to delete transaction","error")}finally{A()}}}async function Pt(G){k("Updating...");try{await S(G),C("Transaction updated"),P(null)}catch(q){C(q.message||"Failed to update transaction","error")}finally{A()}}async function be(G){if(T?.allocations){k("Saving allocations...");try{await v(T.allocations,G),C("Allocations updated"),P(null)}catch(q){C(q.message||"Failed to update allocations","error")}finally{A()}}}async function Qe(G){k("Saving classification...");try{await w(G),C("Fund classified"),P(null)}catch(q){C(q.message||"Failed to save classification","error")}finally{A()}}return a.jsxs("div",{className:"space-y-4",children:[ue.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(cp,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No mutual fund portfolios yet"}),a.jsx("button",{onClick:()=>P("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):a.jsxs(a.Fragment,{children:[!H&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{className:"relative w-full sm:w-auto",children:[a.jsxs("button",{onClick:()=>J(!E),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors w-full sm:min-w-[220px]",children:[a.jsx(cp,{size:14,className:"text-violet-400 shrink-0"}),a.jsx("span",{className:"truncate",children:rt}),a.jsx(Ul,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${E?"rotate-180":""}`})]}),E&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>J(!1)}),a.jsxs("div",{className:"absolute left-0 right-0 sm:right-auto top-full mt-1 z-40 bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl sm:min-w-[300px] py-1 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{z("all"),J(!1),$("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${O==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",ue.length,")"]}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),xe.map(G=>{const q=G.totalPL>=0,X=ge[G.portfolioId]||{};return a.jsx("button",{onClick:()=>{z(G.portfolioId),J(!1),$("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${O===G.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("p",{className:`text-sm ${O===G.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:Zu(G.portfolioName)}),X.buyOpp>0&&a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 shrink-0",title:`${X.buyOpp} buy opportunities`}),X.rebalance>0&&a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 shrink-0",title:`${X.rebalance} funds need rebalancing`})]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[D(G.ownerName,"name"),"  ",G.platform,"  ",G.fundCount," funds"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:W(G.currentValue)}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${q?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[q?"+":"",G.totalPLPct.toFixed(1),"%"]})]})]})},G.portfolioId)})]})]})]}),a.jsxs("div",{className:"flex items-center gap-1.5 overflow-x-auto no-scrollbar",children:[Ie&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>P({allocations:Ie.portfolioId}),className:"shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(wO,{size:12})," Allocations"]}),a.jsxs("button",{onClick:()=>P({editPortfolio:Ie}),className:"shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(la,{size:12})," Edit"]})]}),a.jsxs("button",{onClick:()=>P("addPortfolio"),className:"shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Gr,{size:13})," New Portfolio"]})]})]}),Ie&&a.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Platform:"})," ",Ie.platform]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",D(Ie.clientId,"clientId")]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Funds:"})," ",Ie.fundCount]}),Ie.sipTarget>=100&&a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"SIP Target:"})," ",W(Ie.sipTarget),"/mo"]}),Ie.lumpsumTarget>=100&&a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Lumpsum Target:"})," ",W(Ie.lumpsumTarget)]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Rebalance Threshold:"})," ",(Ie.rebalanceThreshold*100).toFixed(0),"%"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[a.jsx(Vo,{label:"Invested",value:W(U.invested)}),a.jsx(Vo,{label:"Current Value",value:W(U.current),bold:!0}),a.jsx(Vo,{label:"Unrealized P&L",value:`${U.unrealizedPL>=0?"+":""}${W(U.unrealizedPL)}`,sub:`${U.unrealizedPLPct>=0?"+":""}${U.unrealizedPLPct.toFixed(1)}%`,positive:U.unrealizedPL>=0}),a.jsx(Vo,{label:"Realized P&L",value:`${U.realizedPL>=0?"+":""}${W(U.realizedPL)}`,sub:`${U.realizedPLPct>=0?"+":""}${U.realizedPLPct.toFixed(1)}%`,positive:U.realizedPL>=0}),a.jsx(Vo,{label:"Total P&L",value:`${U.totalPL>=0?"+":""}${W(U.totalPL)}`,sub:`${U.totalPLPct>=0?"+":""}${U.totalPLPct.toFixed(1)}%`,positive:U.totalPL>=0,bold:!0}),a.jsx(Vo,{label:"Monthly SIP",value:W(U.monthlySIP),sub:`${U.funds} funds`})]}),H?(()=>{const G=H,q=BE(G.belowATHPct),X=G.pl>=0,Ce=xe.find(le=>le.portfolioId===G.portfolioId),Fe=ie.filter(le=>le.fundCode===G.schemeCode&&le.portfolioId===G.portfolioId);return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-2.5",children:[a.jsx("button",{onClick:()=>B(null),className:"p-1 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors mt-0.5 shrink-0",children:a.jsx(UF,{size:16})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] leading-tight",children:Le(G.fundName).main}),Le(G.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:Le(G.fundName).plan})]}),Ce&&a.jsxs("div",{className:"text-right shrink-0 mt-0.5",children:[a.jsx("p",{className:"text-[10px] font-semibold text-[var(--text-secondary)]",children:D(Ce.ownerName,"name")}),a.jsxs("p",{className:"text-[10px] text-violet-400 bg-violet-500/10 px-2 py-0.5 rounded mt-0.5 inline-block",children:[Zu(Ce.portfolioName),"  ",Ce.platform]})]})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-2.5 flex items-baseline justify-between",children:[a.jsx("p",{className:"text-lg font-bold text-[var(--text-primary)] tabular-nums",children:W(G.currentValue)}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${X?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[X?"+":"",W(G.pl)," (",X?"+":"",G.plPct.toFixed(1),"%)"]})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] divide-y divide-[var(--border-light)]",children:[a.jsx(Go,{label:"Invested",value:W(G.investment)}),a.jsx(Go,{label:"Units",value:G.units.toFixed(3)}),a.jsx(Go,{label:"NAV (Current / Avg)",value:`${G.currentNav.toFixed(2)} / ${G.avgNav.toFixed(2)}`}),a.jsx(Go,{label:"Allocation (Current / Target)",value:`${G.currentAllocationPct.toFixed(1)}% / ${G.targetAllocationPct.toFixed(1)}%`}),G.athNav>0&&a.jsx(Go,{label:"ATH",value:G.belowATHPct>0?`${G.belowATHPct.toFixed(1)}% (${G.athNav.toFixed(0)})`:"At All-Time High",valueStyle:G.belowATHPct>0?q:{color:"#34d399"}}),G.ongoingSIP>0&&a.jsx(Go,{label:"Monthly SIP",value:W(G.ongoingSIP),valueClass:"text-blue-400"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>P({invest:{portfolioId:G.portfolioId,fundCode:G.schemeCode,fundName:G.fundName}}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-emerald-400 bg-[var(--bg-card)] border border-[var(--border)] hover:bg-emerald-500/10 rounded-lg transition-colors",children:[a.jsx(Gr,{size:14})," Invest"]}),a.jsxs("button",{onClick:()=>P({redeem:{portfolioId:G.portfolioId,fundCode:G.schemeCode}}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-rose-400 bg-[var(--bg-card)] border border-[var(--border)] hover:bg-rose-500/10 rounded-lg transition-colors",children:[a.jsx(HC,{size:14})," Redeem"]}),a.jsxs("button",{onClick:()=>P({switchFunds:G.portfolioId}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-amber-400 bg-[var(--bg-card)] border border-[var(--border)] hover:bg-amber-500/10 rounded-lg transition-colors",children:[a.jsx(J0,{size:14})," Switch"]})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-dim)] px-1 mb-2",children:["Transactions (",Fe.length,")"]}),Fe.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"}),a.jsx("th",{className:"w-8"})]})}),a.jsx("tbody",{children:Fe.map((le,ot)=>{const qe=le.type==="BUY",De=!qe&&le.gainLoss!=null&&le.gainLoss!==0,Ze=De&&le.gainLoss>=0,Ke={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[le.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:le.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${qe?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:le.type}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${Ke.bg} ${Ke.text}`,children:le.transactionType})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:le.units.toFixed(2)}),a.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",le.price.toFixed(2)]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:W(le.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:De?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${Ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ze?"+":"",W(le.gainLoss)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-1",children:a.jsx(Xm,{txn:le,isOpen:R===le.transactionId,onToggle:()=>F(R===le.transactionId?null:le.transactionId),onEdit:()=>{F(null),P({editTxn:le})},onDelete:()=>{F(null),ir(le.transactionId)}})})]},le.transactionId||`fd-txn-${ot}`)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:Fe.map((le,ot)=>{const qe=le.type==="BUY",De=!qe&&le.gainLoss!=null&&le.gainLoss!==0,Ze=De&&le.gainLoss>=0;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${qe?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:le.type}),a.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:le.transactionType})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:le.date}),a.jsx(Xm,{txn:le,isOpen:R===le.transactionId,onToggle:()=>F(R===le.transactionId?null:le.transactionId),onEdit:()=>{F(null),P({editTxn:le})},onDelete:()=>{F(null),ir(le.transactionId)}})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("p",{className:"text-[var(--text-dim)]",children:[le.units.toFixed(2)," units @ ",le.price.toFixed(2)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:W(le.totalAmount)}),De&&a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",Ze?"+":"",W(le.gainLoss)]})]})]}),le.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:le.notes})]},le.transactionId||`fd-txn-m-${ot}`)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-8 flex flex-col items-center gap-2",children:[a.jsx(sd,{size:24,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No transactions yet"})]})]})]})})():a.jsxs(a.Fragment,{children:[ze&&ze.assetList.length>0&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsxs("button",{onClick:()=>Se(G=>!G),className:"w-full flex items-center justify-between px-4 py-2.5 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("span",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Portfolio Breakdown"}),a.jsx(Ul,{size:14,className:`text-[var(--text-dim)] transition-transform duration-200 ${fe?"rotate-180":""}`})]}),fe&&a.jsxs("div",{className:"px-4 pb-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(Jb,{title:"Asset Class",data:ze.assetList,bgMap:Ele}),ze.capList.length>0?a.jsx(Jb,{title:"Market Cap",data:ze.capList,bgMap:_le}):a.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-4",children:a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:["Classify funds for",a.jsx("br",{}),"market cap breakdown"]})}),ze.geoList?.length>0?a.jsx(Jb,{title:"Geography",data:ze.geoList,bgMap:Ole}):a.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-4",children:a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:["Classify funds for",a.jsx("br",{}),"geography breakdown"]})})]}),!ze.hasDetailedAlloc&&a.jsx("p",{className:"text-[9px] text-[var(--text-dim)]/50 mt-2 text-center",children:"Based on fund category. Go to Fund Breakdown tab to add detailed data from Morningstar."}),ze.hasDetailedAlloc&&ze.configuredCount<ze.totalFunds&&a.jsxs("p",{className:"text-[9px] text-amber-400/70 mt-2 text-center",children:[ze.totalFunds-ze.configuredCount," of ",ze.totalFunds," funds not yet classified"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5 shrink-0",children:[a.jsxs("button",{onClick:()=>$("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${L==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(xO,{size:12})," Holdings (",de.length,")"]}),a.jsxs("button",{onClick:()=>$("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${L==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(sd,{size:12})," All Transactions (",ie.length,")"]}),a.jsxs("button",{onClick:()=>$("breakdown"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${L==="breakdown"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(qC,{size:12})," Fund Breakdown (",ke.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-1.5 ml-auto shrink-0",children:[a.jsxs("button",{onClick:()=>O!=="all"&&P({invest:O}),disabled:O==="all",className:`shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded-lg border transition-colors ${O==="all"?"border-[var(--border)] text-[var(--text-dim)] cursor-not-allowed opacity-50 bg-[var(--bg-card)]":"text-emerald-400 hover:text-emerald-300 bg-[var(--bg-card)] border-[var(--border)] hover:bg-[var(--bg-hover)]"}`,children:[a.jsx(oc,{size:12})," Invest"]}),a.jsxs("button",{onClick:()=>O!=="all"&&de.length>0&&P({redeem:O}),disabled:O==="all"||de.length===0,className:`shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded-lg border transition-colors ${O==="all"||de.length===0?"border-[var(--border)] text-[var(--text-dim)] cursor-not-allowed opacity-50 bg-[var(--bg-card)]":"text-rose-400 hover:text-rose-300 bg-[var(--bg-card)] border-[var(--border)] hover:bg-[var(--bg-hover)]"}`,children:[a.jsx(uO,{size:12})," Redeem"]}),a.jsxs("button",{onClick:()=>O!=="all"&&de.length>0&&P({switchFunds:O}),disabled:O==="all"||de.length===0,className:`shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded-lg border transition-colors ${O==="all"||de.length===0?"border-[var(--border)] text-[var(--text-dim)] cursor-not-allowed opacity-50 bg-[var(--bg-card)]":"text-amber-400 hover:text-amber-300 bg-[var(--bg-card)] border-[var(--border)] hover:bg-[var(--bg-hover)]"}`,children:[a.jsx(J0,{size:12})," Switch"]})]})]}),L==="holdings"&&a.jsx(a.Fragment,{children:de.length>0?a.jsx("div",{className:O==="all"?"space-y-4":"",children:(O==="all"?Ve:[{portfolioId:O,holdings:Me}]).map(G=>{const q=xe.find(le=>le.portfolioId===G.portfolioId),X=G.holdings,Ce=X.reduce((le,ot)=>le+ot.pl,0),Fe=Ce>=0;return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[O==="all"&&q&&a.jsxs("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:Zu(q.portfolioName)}),a.jsxs("div",{className:"flex items-center gap-3 text-xs tabular-nums",children:[a.jsx("span",{className:"text-[var(--text-muted)]",children:W(q.currentValue||0)}),a.jsxs("span",{className:`font-bold ${Fe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Fe?"+":"",W(Ce)]})]})]}),a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:[D(q.ownerName,"name"),"  ",X.filter(le=>le.units>0).length," funds"]})]}),a.jsx("div",{className:"hidden lg:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:`border-b border-[var(--border-light)] ${O!=="all"?"bg-[var(--bg-inset)]":""}`,children:[a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund Name"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"NAV"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Avg"})]}),a.jsxs("th",{className:"text-center py-2 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"ATH"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Below Peak"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Allocation %"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Amount"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Invested"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"P&L"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"on Holdings"})]}),a.jsx("th",{className:"py-2 px-2 w-8"})]})}),a.jsx("tbody",{children:X.map(le=>{const ot=BE(le.belowATHPct),qe=le.units===0,De=xe.find(We=>We.portfolioId===le.portfolioId),Ze=De?.currentValue||0,Ke=le.pl,Ht=Ke>=0,dt=qe&&le.targetAllocationPct>0&&le.targetAllocationPct<100&&Ze>0?le.targetAllocationPct/(100-le.targetAllocationPct)*Ze:0,Ee=qe&&le.targetAllocationPct>0&&De?.sipTarget>=100?le.targetAllocationPct/100*De.sipTarget:0;return a.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 transition-colors ${qe?"opacity-60":"hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("td",{className:"py-3.5 px-3 max-w-[240px]",children:a.jsxs("div",{children:[a.jsxs("button",{onClick:We=>{We.stopPropagation(),qe||B(le)},className:`text-xs leading-tight text-left ${qe?"text-[var(--text-secondary)] cursor-default":"text-[var(--text-secondary)] hover:text-violet-400 transition-colors cursor-pointer"}`,children:[Le(le.fundName).main,qe&&a.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"}),Le(le.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] font-normal mt-0.5",children:Le(le.fundName).plan})]}),qe&&(dt>0||Ee>0)&&a.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[dt>0&&a.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",W(dt)]}),Ee>0&&a.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",W(Ee),"/mo"]})]})]})}),a.jsx("td",{className:"py-3.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:qe?"":le.units.toFixed(2)}),a.jsx("td",{className:"py-3.5 px-3 text-right",children:qe?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:["",le.currentNav.toFixed(2)]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums mt-0.5",children:["",le.avgNav.toFixed(2)]})]})}),a.jsx("td",{className:"py-3.5 px-2 text-center",children:qe?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):le.athNav>0&&le.belowATHPct>0?a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-bold tabular-nums",style:ot,children:["",le.belowATHPct.toFixed(1),"%"]}),a.jsxs("p",{className:"text-[11px] text-[var(--text-muted)] tabular-nums mt-0.5",children:["",le.athNav.toFixed(0)]})]}):le.athNav>0?a.jsx("span",{className:"text-[10px] text-emerald-400/70 font-semibold",children:"AT HIGH"}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-3.5 px-3 text-right",children:qe?a.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums",children:[le.targetAllocationPct.toFixed(1),"%"]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[le.currentAllocationPct.toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums mt-0.5",children:[le.targetAllocationPct.toFixed(1),"%"]})]})}),a.jsx("td",{className:"py-3.5 px-3 text-right",children:qe?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:W(le.currentValue)}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums mt-0.5",children:W(le.investment)})]})}),a.jsx("td",{className:"py-3.5 px-3 text-right",children:qe?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Ht?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ht?"+":"",W(Ke)]}),a.jsxs("p",{className:`text-xs font-bold tabular-nums mt-0.5 ${Ht?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ht?"+":"",le.plPct.toFixed(1),"%"]})]})}),a.jsx("td",{className:"py-3.5 px-2 text-center",children:a.jsxs("div",{className:"flex items-center gap-0.5 justify-center",children:[a.jsx("button",{onClick:We=>{We.stopPropagation(),P({invest:{portfolioId:le.portfolioId,fundCode:le.schemeCode,fundName:le.fundName}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25 transition-colors",title:"Buy / Invest",children:a.jsx(Gr,{size:14,strokeWidth:2.5})}),!qe&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:We=>{We.stopPropagation(),P({redeem:{portfolioId:le.portfolioId,fundCode:le.schemeCode}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-rose-500/15 text-rose-400 hover:bg-rose-500/25 transition-colors",title:"Sell / Redeem",children:a.jsx(HC,{size:14,strokeWidth:2.5})}),a.jsx("button",{onClick:We=>{We.stopPropagation(),P({switchFunds:le.portfolioId})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-amber-500/15 text-amber-400 hover:bg-amber-500/25 transition-colors",title:"Switch Fund",children:a.jsx(J0,{size:14,strokeWidth:2.5})})]})]})})]},le._key)})})]})}),a.jsx("div",{className:"lg:hidden space-y-2 p-3",children:X.map(le=>{const ot=le.units===0,qe=le.pl>=0,Ze=xe.find(Ht=>Ht.portfolioId===le.portfolioId)?.currentValue||0,Ke=ot&&le.targetAllocationPct>0&&le.targetAllocationPct<100&&Ze>0?le.targetAllocationPct/(100-le.targetAllocationPct)*Ze:0;return ot?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3 opacity-60",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-[11px] text-[var(--text-primary)] leading-tight",children:Le(le.fundName).main}),Le(le.fundName).plan&&a.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:Le(le.fundName).plan})]}),a.jsx("span",{className:"text-[10px] font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded shrink-0",children:"Planned"})]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:["Target ",le.targetAllocationPct.toFixed(1),"%"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[Ke>0&&a.jsx("span",{className:"text-xs text-emerald-400 font-semibold",children:W(Ke)}),a.jsxs("button",{onClick:()=>P({invest:{portfolioId:le.portfolioId,fundCode:le.schemeCode,fundName:le.fundName}}),className:"flex items-center gap-1 text-[10px] font-semibold text-emerald-400 px-2 py-0.5 rounded bg-emerald-500/10",children:[a.jsx(Gr,{size:10,strokeWidth:2.5})," Buy"]})]})]})]},le._key):a.jsxs("button",{onClick:()=>B(le),className:"w-full bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3 text-left hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-[11px] font-medium text-[var(--text-primary)] leading-tight",children:Le(le.fundName).main}),Le(le.fundName).plan&&a.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:Le(le.fundName).plan})]}),a.jsxs("div",{className:"text-right shrink-0",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:W(le.currentValue)}),a.jsxs("p",{className:`text-[11px] font-semibold tabular-nums ${qe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[qe?"+":"",W(le.pl)," (",qe?"+":"",le.plPct.toFixed(1),"%)"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5 text-[11px] tabular-nums",children:[a.jsxs("span",{className:"text-[var(--text-dim)]",children:["Invested ",W(le.investment)]}),a.jsx(ga,{size:12,className:"text-[var(--text-dim)]"})]})]},le._key)})})]},G.portfolioId)})}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(cp,{size:28,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",Ie?" in this portfolio":""]}),a.jsx("button",{onClick:()=>P({invest:O!=="all"?O:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Add your first fund"})]})}),L==="transactions"&&a.jsxs(a.Fragment,{children:[ye.length>1&&a.jsxs("div",{className:"flex items-center gap-2 px-1",children:[a.jsx(pO,{size:12,className:"text-[var(--text-dim)]"}),a.jsxs("select",{value:Z,onChange:G=>te(G.target.value),className:"text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg px-3 py-1.5 max-w-[350px] truncate",children:[a.jsxs("option",{value:"all",children:["All Funds (",ie.length,")"]}),ye.map(G=>a.jsxs("option",{value:G,children:[G," (",ie.filter(q=>q.fundName===G).length,")"]},G))]}),Z!=="all"&&a.jsx("button",{onClick:()=>te("all"),className:"text-xs text-[var(--text-dim)] hover:text-[var(--text-muted)] underline",children:"Clear"})]}),re.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"}),a.jsx("th",{className:"w-8"})]})}),a.jsx("tbody",{children:re.map((G,q)=>{const X=G.type==="BUY",Ce=!X&&G.gainLoss!=null&&G.gainLoss!==0,Fe=Ce&&G.gainLoss>=0,le=O==="all"?xe.find(qe=>qe.portfolioId===G.portfolioId):null,ot={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[G.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:G.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${X?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:G.type}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${ot.bg} ${ot.text}`,children:G.transactionType})]})}),a.jsxs("td",{className:"py-2.5 px-3",children:[a.jsxs("div",{className:"max-w-[200px]",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate",children:Le(G.fundName).main}),Le(G.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(G.fundName).plan})]}),le&&a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Zu(le.portfolioName)})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:G.units.toFixed(2)}),a.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",G.price.toFixed(2)]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:W(G.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:Ce?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${Fe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Fe?"+":"",W(G.gainLoss)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-1",children:a.jsx(Xm,{txn:G,isOpen:R===G.transactionId,onToggle:()=>F(R===G.transactionId?null:G.transactionId),onEdit:()=>{F(null),P({editTxn:G})},onDelete:()=>{F(null),ir(G.transactionId)}})})]},G.transactionId||`txn-${q}`)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:re.map((G,q)=>{const X=G.type==="BUY",Ce=!X&&G.gainLoss!=null&&G.gainLoss!==0,Fe=Ce&&G.gainLoss>=0;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${X?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:G.type}),a.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:G.transactionType})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:G.date}),a.jsx(Xm,{txn:G,isOpen:R===G.transactionId,onToggle:()=>F(R===G.transactionId?null:G.transactionId),onEdit:()=>{F(null),P({editTxn:G})},onDelete:()=>{F(null),ir(G.transactionId)}})]})]}),a.jsxs("div",{className:"mb-1",children:[a.jsx("p",{className:"text-[11px] text-[var(--text-primary)] truncate",children:Le(G.fundName).main}),Le(G.fundName).plan&&a.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:Le(G.fundName).plan})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("p",{className:"text-[var(--text-dim)]",children:[G.units.toFixed(2)," units @ ",G.price.toFixed(2)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:W(G.totalAmount)}),Ce&&a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Fe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",Fe?"+":"",W(G.gainLoss)]})]})]}),G.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:G.notes})]},G.transactionId||`txn-m-${q}`)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(sd,{size:28,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:Z!=="all"?"No transactions for this fund":"No transactions yet"}),Z!=="all"?a.jsx("button",{onClick:()=>te("all"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Show all transactions"}):a.jsx("button",{onClick:()=>P({invest:O!=="all"?O:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first investment"})]})]}),L==="breakdown"&&a.jsx(a.Fragment,{children:ke.length>0?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Copy allocation data from ",a.jsx("span",{className:"font-semibold text-[var(--text-muted)]",children:"morningstar.in"}),"  Fund  Portfolio tab"]}),ke.map(G=>{const q=y?.find(X=>X.fundCode===G.fundCode);return a.jsx(Lle,{fund:G,existing:q,onConfigure:()=>P({classifyFund:{fund:G,existing:q}})},G.fundCode)})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(qC,{size:28,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No funds to configure"})]})})]})]}),a.jsx(ur,{open:T==="addPortfolio"||!!T?.editPortfolio,onClose:()=>P(null),title:T?.editPortfolio?"Edit Portfolio":"New MF Portfolio",children:a.jsx(Ose,{initial:T?.editPortfolio||void 0,onSave:Tt,onDelete:T?.editPortfolio?kt:void 0,onCancel:()=>P(null)})}),a.jsx(ur,{open:!!T?.invest,onClose:()=>P(null),title:"Invest in Mutual Fund",wide:!0,children:a.jsx(wle,{portfolioId:typeof T?.invest=="object"?T.invest.portfolioId:typeof T?.invest=="string"?T.invest:void 0,fundCode:typeof T?.invest=="object"?T.invest.fundCode:void 0,fundName:typeof T?.invest=="object"?T.invest.fundName:void 0,onSave:St,onCancel:()=>P(null)},T?.invest?.fundCode||T?.invest?.portfolioId||T?.invest)}),a.jsx(ur,{open:!!T?.redeem,onClose:()=>P(null),title:"Redeem Mutual Fund",wide:!0,children:a.jsx(jle,{portfolioId:typeof T?.redeem=="object"?T.redeem.portfolioId:typeof T?.redeem=="string"?T.redeem:void 0,fundCode:typeof T?.redeem=="object"?T.redeem.fundCode:void 0,onSave:Mr,onCancel:()=>P(null)},T?.redeem?.fundCode||T?.redeem?.portfolioId||T?.redeem)}),a.jsx(ur,{open:!!T?.switchFunds,onClose:()=>P(null),title:"Switch Funds",wide:!0,children:a.jsx(Nle,{portfolioId:typeof T?.switchFunds=="string"?T.switchFunds:void 0,onSave:Wt,onCancel:()=>P(null)})}),a.jsx(ur,{open:!!T?.allocations,onClose:()=>P(null),title:"Manage Portfolio Allocation",wide:!0,children:T?.allocations&&a.jsx(Sle,{portfolioId:T.allocations,onSave:be,onCancel:()=>P(null)})}),a.jsx(ur,{open:T==="rebalance",onClose:()=>P(null),title:"Rebalance Alerts",wide:!0,children:T==="rebalance"&&a.jsx(MI,{})}),a.jsx(ur,{open:T==="buyOpp",onClose:()=>P(null),title:"Buy Opportunities",wide:!0,children:T==="buyOpp"&&a.jsx(q4,{})}),a.jsx(ur,{open:!!T?.editTxn,onClose:()=>P(null),title:"Edit Transaction",children:T?.editTxn&&a.jsx(Ple,{txn:T.editTxn,onSave:Pt,onCancel:()=>P(null)})}),a.jsx(ur,{open:!!T?.classifyFund,onClose:()=>P(null),title:"Classify Fund",children:T?.classifyFund&&a.jsx(Cle,{fund:T.classifyFund.fund,initial:T.classifyFund.existing,onSave:Qe,onCancel:()=>P(null)})})]})}function Vo({label:e,value:t,sub:r,positive:n,bold:i}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${i?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function Go({label:e,value:t,valueStyle:r,valueClass:n}){return a.jsxs("div",{className:"flex items-center justify-between px-3.5 py-2",children:[a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:e}),a.jsx("p",{className:`text-xs font-semibold tabular-nums ${n||"text-[var(--text-primary)]"}`,style:r,children:t})]})}function Xm({txn:e,isOpen:t,onToggle:r,onEdit:n,onDelete:i}){const l=j.useRef(null),[c,u]=j.useState({top:0,right:0});if(!e.transactionId)return null;function f(m){if(m.stopPropagation(),!t&&l.current){const h=l.current.getBoundingClientRect();u({top:h.bottom+4,right:window.innerWidth-h.right})}r()}return a.jsxs(a.Fragment,{children:[a.jsx("button",{ref:l,onClick:f,className:"p-1 rounded-md text-[var(--text-dim)] hover:text-[var(--text-muted)] hover:bg-[var(--bg-hover)] transition-colors",title:"Actions",children:a.jsx(mO,{size:14})}),t&&kc.createPortal(a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{position:"fixed",inset:0,zIndex:9998},onClick:m=>{m.stopPropagation(),r()}}),a.jsxs("div",{style:{position:"fixed",top:c.top,right:c.right,zIndex:9999},className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl py-1 min-w-[120px] animate-fade-in",children:[a.jsxs("button",{onClick:m=>{m.stopPropagation(),n()},className:"w-full text-left px-3 py-2 text-xs text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)] flex items-center gap-2 transition-colors",children:[a.jsx(la,{size:12})," Edit"]}),a.jsxs("button",{onClick:m=>{m.stopPropagation(),i()},className:"w-full text-left px-3 py-2 text-xs text-[var(--accent-rose)] hover:bg-rose-500/10 flex items-center gap-2 transition-colors",children:[a.jsx(lc,{size:12})," Delete"]})]})]}),document.body)]})}function Ple({txn:e,onSave:t,onCancel:r}){const[n,i]=j.useState(()=>{const y=d1(e.date);return y?y.toISOString().split("T")[0]:""}),[l,c]=j.useState(String(e.units||"")),[u,f]=j.useState(String(e.price||"")),[m,h]=j.useState(e.notes||""),[x,v]=j.useState(!1),g=(Number(l)||0)*(Number(u)||0);async function S(){if(!(!l||Number(l)<=0)&&!(!u||Number(u)<=0)){v(!0);try{await t({transactionId:e.transactionId,date:n,units:l,price:u,notes:m})}finally{v(!1)}}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Le(e.fundName).main}),Le(e.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(e.fundName).plan}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[e.type,"  ",e.transactionType,"  ",e.transactionId]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Date"}),a.jsx(Na,{value:n,onChange:i})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Units"}),a.jsx("input",{type:"number",value:l,onChange:y=>c(y.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"NAV (price)"}),a.jsx("input",{type:"number",value:u,onChange:y=>f(y.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]})]}),g>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:W(g)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Notes"}),a.jsx("input",{type:"text",value:m,onChange:y=>h(y.target.value),placeholder:"Optional notes...",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:"Cancel"}),a.jsx("button",{onClick:S,disabled:x||!l||Number(l)<=0||!u||Number(u)<=0,className:"px-4 py-2 text-xs font-bold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Saving...":"Update Transaction"})]})]})}const $E=[{key:"Equity",bg:"bg-violet-500"},{key:"Debt",bg:"bg-sky-500"},{key:"Cash",bg:"bg-teal-400"},{key:"Commodities",bg:"bg-yellow-500"},{key:"Real Estate",bg:"bg-orange-500"},{key:"Other",bg:"bg-slate-400"}],Ile={Giant:"G",Large:"L",Mid:"M",Small:"S",Micro:"Mi"},Rle={India:"IN",Global:"GL"};function Lle({fund:e,existing:t,onConfigure:r}){const n=t?.assetAllocation&&Object.keys(t.assetAllocation).length>0,i=t?.equityAllocation&&Object.keys(t.equityAllocation).length>0,l=t?.geoAllocation&&Object.keys(t.geoAllocation).length>0;return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:Le(e.fundName).main}),Le(e.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(e.fundName).plan})]}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:e.fundCode})]}),a.jsx("button",{onClick:r,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-violet-400 hover:bg-violet-500/10 transition-colors shrink-0 ml-3",title:"Classify fund",children:a.jsx(wO,{size:14})})]}),n?a.jsxs("div",{className:"px-4 pb-3",children:[a.jsx("div",{className:"h-2 rounded-full overflow-hidden bg-[var(--bg-inset)] flex mb-1.5",children:$E.map(({key:c,bg:u})=>{const f=t.assetAllocation[c]||0;return f>0?a.jsx("div",{className:`h-full ${u}`,style:{width:`${f}%`}},c):null})}),a.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-0.5",children:[$E.map(({key:c,bg:u})=>{const f=t.assetAllocation[c]||0;return f>0?a.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-[var(--text-muted)] tabular-nums",children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${u}`}),f,"% ",c]},c):null}),i&&a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)] tabular-nums ml-1",children:["| ",Object.entries(Ile).map(([c,u])=>{const f=t.equityAllocation[c]||0;return f>0?`${u}${f}`:""}).filter(Boolean).join(" ")]}),l&&a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)] tabular-nums ml-1",children:["| ",Object.entries(Rle).map(([c,u])=>{const f=t.geoAllocation[c]||0;return f>0?`${u}${f}`:""}).filter(Boolean).join(" ")]})]})]}):a.jsxs("div",{className:"px-4 pb-3",children:[a.jsx("div",{className:"h-2 rounded-full bg-[var(--bg-inset)] mb-1"}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] italic",children:"Not configured  click  to classify"})]})]})}function Jb({title:e,data:t,bgMap:r}){return a.jsxs("div",{className:"rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-3",children:[a.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider mb-2 text-center",children:e}),a.jsx("div",{className:"w-full h-[120px]",children:a.jsx(U1,{width:"100%",height:"100%",children:a.jsxs(pj,{children:[a.jsx(Nx,{data:t,dataKey:"pct",nameKey:"name",cx:"50%",cy:"50%",innerRadius:30,outerRadius:48,paddingAngle:2,stroke:"none",children:t.map((n,i)=>a.jsx(zc,{fill:n.fill},i))}),a.jsx(lj,{content:({payload:n})=>{if(!n?.length)return null;const i=n[0].payload;return a.jsxs("div",{className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg px-2.5 py-1.5 shadow-xl",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:i.name}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[i.pct.toFixed(1),"%"]})]})}})]})})}),a.jsx("div",{className:"flex flex-wrap justify-center gap-x-3 gap-y-0.5 mt-1",children:t.map(n=>a.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-[var(--text-muted)] tabular-nums",children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${r[n.name]||"bg-slate-500"}`}),n.name," ",n.pct.toFixed(0),"%"]},n.name))})]})}function Fle({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i,activeInvestmentAccounts:l}=ht(),c=!!e,[u,f]=j.useState({portfolioName:e?.portfolioName||"",ownerId:e?.ownerId||"",investmentAccountId:e?.investmentAccountId||""}),[m,h]=j.useState({}),[x,v]=j.useState(!1);function g(A,M){f(D=>({...D,[A]:M})),h(D=>({...D,[A]:void 0}))}function S(A){f(M=>({...M,ownerId:A,investmentAccountId:""})),h(M=>({...M,ownerId:void 0}))}const y=j.useMemo(()=>u.ownerId?l.filter(A=>A.memberId===u.ownerId&&(A.accountType==="Demat + Trading"||A.accountType==="Trading")).map(A=>({value:A.accountId,label:`${A.accountName} - ${A.platformBroker}`})):[],[l,u.ownerId]);function w(){const A={};return u.portfolioName.trim()||(A.portfolioName="Required"),u.ownerId||(A.ownerId="Required"),u.investmentAccountId||(A.investmentAccountId="Required"),h(A),Object.keys(A).length===0}async function C(){if(w()){v(!0);try{await t(u)}finally{v(!1)}}}const k=i.map(A=>({value:A.memberId,label:`${A.memberName} (${A.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(pe,{label:"Portfolio Name",required:!0,error:m.portfolioName,children:a.jsx(Re,{value:u.portfolioName,onChange:A=>g("portfolioName",A),placeholder:"e.g., Long-Term Growth"})}),a.jsx(pe,{label:"Owner",required:!0,error:m.ownerId,children:a.jsx(et,{value:u.ownerId,onChange:S,options:k,placeholder:"Select family member..."})}),a.jsx(pe,{label:"Investment Account",required:!0,error:m.investmentAccountId,children:a.jsx(et,{value:u.investmentAccountId,onChange:A=>g("investmentAccountId",A),options:y,placeholder:u.ownerId?y.length?"Select demat account...":"No demat accounts for this member":"Select owner first..."})}),c&&r&&a.jsx(ns,{onClick:r}),a.jsx(ln,{onCancel:n,onSubmit:C,submitLabel:c?"Update":"Create Portfolio",loading:x})]})}let ma=null,Ju=null;function zle(e){if(!e)return!1;const t=new Date(e),r=new Date;return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&t.getDate()===r.getDate()}function Ble(){return ma?Promise.resolve(ma):Ju||(Ju=tO("stocksList").then(e=>e&&Array.isArray(e.data)&&zle(e.updatedAt)?(ma=e.data,ma):iF().then(t=>(ma=Array.isArray(t)?t:[],tn("stocksList",ma),ma))).catch(()=>(Ju=null,[])),Ju)}function $le({value:e,onSelect:t,placeholder:r,disabled:n}){const[i,l]=j.useState(""),[c,u]=j.useState(ma||[]),[f,m]=j.useState(!ma),[h,x]=j.useState(!1),[v,g]=j.useState(!1),S=j.useRef(null);j.useEffect(()=>{if(ma){u(ma),m(!1);return}Ble().then(M=>{u(M),m(!1)})},[]),j.useEffect(()=>{function M(D){S.current&&!S.current.contains(D.target)&&x(!1)}return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const y=j.useMemo(()=>c.length?new ao(c,{keys:[{name:"symbol",weight:2},{name:"companyName",weight:1}],threshold:.3,distance:80,minMatchCharLength:1,includeScore:!0,ignoreLocation:!1,findAllMatches:!0}):null,[c]),w=j.useMemo(()=>!y||i.length<1?[]:y.search(i).slice(0,50).map(M=>M.item),[y,i]);function C(M){l(M),x(M.length>=1)}function k(M){t({symbol:M.symbol,companyName:M.companyName,exchange:M.exchange,sector:M.sector}),l(""),x(!1),g(!0),sF(M.symbol).then(D=>{D?.price>0&&t({symbol:M.symbol,companyName:M.companyName,exchange:M.exchange,sector:M.sector,price:D.price})}).catch(()=>{}).finally(()=>g(!1))}function A(){t({symbol:"",companyName:""}),l("")}return e?.symbol?a.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:[a.jsx("span",{className:"font-bold",children:e.symbol}),"  ",e.companyName]}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.sector&&a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:e.sector}),v&&a.jsx(od,{size:10,className:"text-violet-400 animate-spin"}),!v&&e.price>0&&a.jsxs("span",{className:"text-[10px] font-semibold text-emerald-400 tabular-nums",children:["CMP: ",e.price.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),a.jsx("button",{type:"button",onClick:A,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:a.jsx(ni,{size:14})})]}):a.jsxs("div",{ref:S,className:"relative",children:[a.jsxs("div",{className:"relative",children:[f?a.jsx(od,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400 animate-spin"}):a.jsx(A1,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),a.jsx("input",{type:"text",value:i,onChange:M=>C(M.target.value),onFocus:()=>i.length>=1&&x(!0),placeholder:f?"Loading stocks...":r||"Search stock symbol or name...",disabled:n||f,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),h&&w.length>0&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:w.map(M=>a.jsxs("button",{type:"button",onClick:()=>k(M),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:[a.jsx("span",{className:"font-bold",children:M.symbol}),"  ",M.companyName]}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[M.sector&&a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:M.sector}),M.industry&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:[" ",M.industry]})]})]},M.symbol))}),h&&i.length>=1&&w.length===0&&!f&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No stocks found for "',i,'"']})})]})}function qle({portfolioId:e,onSave:t,onCancel:r}){const{stockPortfolios:n}=ht(),{selectedMember:i}=Lr(),l=j.useMemo(()=>{const k=n.filter(A=>A.status==="Active");return i==="all"?k:k.filter(A=>A.ownerId===i)},[n,i]),[c,u]=j.useState({portfolioId:e||"",symbol:"",companyName:"",exchange:"NSE",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[f,m]=j.useState({}),[h,x]=j.useState(!1);function v(k,A){u(M=>({...M,[k]:A})),m(M=>({...M,[k]:void 0}))}const g=j.useMemo(()=>{const k=Number(c.quantity)||0,A=Number(c.pricePerShare)||0;return k*A},[c.quantity,c.pricePerShare]),S=j.useMemo(()=>g+(Number(c.brokerage)||0),[g,c.brokerage]);function y(){const k={};return c.portfolioId||(k.portfolioId="Required"),c.symbol.trim()||(k.symbol="Required"),c.companyName.trim()||(k.companyName="Required"),c.date||(k.date="Required"),(!c.quantity||Number(c.quantity)<=0)&&(k.quantity="Must be > 0"),(!c.pricePerShare||Number(c.pricePerShare)<=0)&&(k.pricePerShare="Must be > 0"),m(k),Object.keys(k).length===0}async function w(){if(y()){x(!0);try{await t(c)}finally{x(!1)}}}const C=l.map(k=>{const A=k.portfolioName?.replace(/^PFL-/,"")||k.portfolioName,M=k.ownerName?`${A} (${k.ownerName})`:A;return{value:k.portfolioId,label:M}});return a.jsxs("div",{className:"space-y-4",children:[a.jsx(pe,{label:"Portfolio",required:!0,error:f.portfolioId,children:a.jsx(et,{value:c.portfolioId,onChange:k=>v("portfolioId",k),options:C,placeholder:"Select portfolio..."})}),a.jsx(pe,{label:"Stock",required:!0,error:f.symbol,children:a.jsx($le,{value:c.symbol?{symbol:c.symbol,companyName:c.companyName,sector:c.sector,price:c.currentPrice}:null,onSelect:k=>{u(A=>({...A,symbol:k.symbol||"",companyName:k.companyName||"",sector:k.sector||"",currentPrice:k.price||A.currentPrice||0})),m(A=>({...A,symbol:void 0,companyName:void 0}))},placeholder:"Search by symbol or company name..."})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(pe,{label:"Purchase Date",required:!0,error:f.date,children:a.jsx(Na,{value:c.date,onChange:k=>v("date",k)})}),a.jsx(pe,{label:"Quantity (Shares)",required:!0,error:f.quantity,children:a.jsx(Re,{type:"number",value:c.quantity,onChange:k=>v("quantity",k),placeholder:"e.g., 100"})}),a.jsx(pe,{label:"Price per Share ()",required:!0,error:f.pricePerShare,children:a.jsx(Re,{type:"number",value:c.pricePerShare,onChange:k=>v("pricePerShare",k),placeholder:"e.g., 2500"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Brokerage ()",children:a.jsx(Re,{type:"number",value:c.brokerage,onChange:k=>v("brokerage",k),placeholder:"0"})}),a.jsx("div",{className:"flex flex-col justify-end",children:a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:W(g)}),Number(c.brokerage)>0&&a.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:["Net: ",W(S)]})]})})]}),a.jsx(pe,{label:"Notes",children:a.jsx(Re,{value:c.notes,onChange:k=>v("notes",k),placeholder:"Optional notes..."})}),a.jsx(ln,{onCancel:r,onSubmit:w,submitLabel:"Buy Stock",loading:h})]})}function Hle({portfolioId:e,onSave:t,onCancel:r}){const{stockPortfolios:n,stockHoldings:i}=ht(),{selectedMember:l}=Lr(),c=j.useMemo(()=>{const z=n.filter(L=>L.status==="Active");return l==="all"?z:z.filter(L=>L.ownerId===l)},[n,l]),[u,f]=j.useState({portfolioId:e||"",symbol:"",companyName:"",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[m,h]=j.useState({}),[x,v]=j.useState(!1);function g(z,L){f($=>({...$,[z]:L})),h($=>({...$,[z]:void 0}))}const S=j.useMemo(()=>u.portfolioId?i.filter(z=>z.portfolioId===u.portfolioId&&z.quantity>0):[],[i,u.portfolioId]),y=S.find(z=>z.symbol===u.symbol),w=y?.quantity||0,C=j.useMemo(()=>{const z=Number(u.quantity)||0,L=Number(u.pricePerShare)||0;return z*L},[u.quantity,u.pricePerShare]),k=j.useMemo(()=>C-(Number(u.brokerage)||0),[C,u.brokerage]);function A(z){const L=S.find($=>$.symbol===z);f($=>({...$,symbol:z,companyName:L?.companyName||""})),h($=>({...$,symbol:void 0}))}function M(z){f(L=>({...L,portfolioId:z,symbol:"",companyName:"",quantity:""})),h(L=>({...L,portfolioId:void 0}))}function D(){const z={};return u.portfolioId||(z.portfolioId="Required"),u.symbol||(z.symbol="Required"),u.date||(z.date="Required"),(!u.quantity||Number(u.quantity)<=0)&&(z.quantity="Must be > 0"),Number(u.quantity)>w&&(z.quantity=`Max ${w} shares`),(!u.pricePerShare||Number(u.pricePerShare)<=0)&&(z.pricePerShare="Must be > 0"),h(z),Object.keys(z).length===0}async function T(){if(D()){v(!0);try{await t(u)}finally{v(!1)}}}const P=c.map(z=>{const L=z.portfolioName?.replace(/^PFL-/,"")||z.portfolioName,$=z.ownerName?`${L} (${z.ownerName})`:L;return{value:z.portfolioId,label:$}}),O=S.map(z=>({value:z.symbol,label:`${z.symbol}  ${z.quantity} shares`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(pe,{label:"Portfolio",required:!0,error:m.portfolioId,children:a.jsx(et,{value:u.portfolioId,onChange:M,options:P,placeholder:"Select portfolio..."})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Stock to Sell",required:!0,error:m.symbol,children:a.jsx(et,{value:u.symbol,onChange:A,options:O,placeholder:u.portfolioId?S.length?"Select stock...":"No holdings in this portfolio":"Select portfolio first..."})}),y&&a.jsx("div",{className:"flex flex-col justify-end",children:a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:y.companyName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:w})," shares @ ",W(y.avgBuyPrice)," avg"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Sale Date",required:!0,error:m.date,children:a.jsx(Na,{value:u.date,onChange:z=>g("date",z)})}),a.jsx(pe,{label:"Quantity to Sell",required:!0,error:m.quantity,children:a.jsx(Re,{type:"number",value:u.quantity,onChange:z=>g("quantity",z),placeholder:w?`Max: ${w}`:""})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Sale Price per Share ()",required:!0,error:m.pricePerShare,children:a.jsx(Re,{type:"number",value:u.pricePerShare,onChange:z=>g("pricePerShare",z),placeholder:"e.g., 2750"})}),a.jsx(pe,{label:"Brokerage ()",children:a.jsx(Re,{type:"number",value:u.brokerage,onChange:z=>g("brokerage",z),placeholder:"0"})})]}),C>0&&a.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Net Sale Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:W(k)})]}),y&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. P&L"}),(()=>{const z=Number(u.quantity)*y.avgBuyPrice,L=k-z,$=L>=0;return a.jsxs("p",{className:`text-sm font-bold tabular-nums ${$?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[$?"+":"",W(L)]})})()]})]})}),a.jsx(pe,{label:"Notes",children:a.jsx(Re,{value:u.notes,onChange:z=>g("notes",z),placeholder:"Optional notes..."})}),a.jsx(ln,{onCancel:r,onSubmit:T,submitLabel:"Sell Stock",loading:x})]})}function Ule(){const{selectedMember:e}=Lr(),{stockPortfolios:t,stockHoldings:r,stockTransactions:n,activeInvestmentAccounts:i,activeMembers:l,addStockPortfolio:c,updateStockPortfolio:u,deleteStockPortfolio:f,buyStock:m,sellStock:h,editStockTransaction:x,deleteStockTransaction:v}=ht(),{showToast:g,showBlockUI:S,hideBlockUI:y}=li(),w=oi(),{mv:C}=Da(),[k,A]=j.useState(null),[M,D]=j.useState("all"),[T,P]=j.useState("holdings"),[O,z]=j.useState(!1),[L,$]=j.useState(null),E=j.useMemo(()=>{if(!t)return[];const U=t.filter(de=>de.status!=="Inactive").map(de=>{const ie=de.ownerId?l.find(ye=>ye.memberId===de.ownerId):null;return{...de,ownerName:ie?.memberName||de.ownerName||""}});return e==="all"?U:U.filter(de=>de.ownerId===e)},[t,e,l]),J=j.useMemo(()=>r?E.map(U=>{const de=r.filter(Ie=>Ie.portfolioId===U.portfolioId),ie=(n||[]).filter(Ie=>Ie.portfolioId===U.portfolioId),ye=de.reduce((Ie,rt)=>Ie+rt.totalInvestment,0),re=de.reduce((Ie,rt)=>Ie+rt.currentValue,0),Me=re-ye,Ve=ie.filter(Ie=>Ie.type==="SELL"&&Ie.realizedPL!=null).reduce((Ie,rt)=>Ie+rt.realizedPL,0),ge=Me+Ve,ze=ye>0?ge/ye*100:0,ke=i.find(Ie=>Ie.accountId===U.investmentAccountId);return{...U,holdings:de,txns:ie,invested:ye,current:re,unrealizedPL:Me,realizedPL:Ve,totalPL:ge,totalPLPct:ze,stockCount:de.length,platform:ke?.platformBroker||U.investmentAccountName||"",clientId:ke?.accountClientId||""}}):[],[E,r,n,i]),Z=j.useMemo(()=>{const U=M==="all"?J:J.filter(ke=>ke.portfolioId===M),de=U.reduce((ke,Ie)=>ke+Ie.invested,0),ie=U.reduce((ke,Ie)=>ke+Ie.current,0),ye=U.reduce((ke,Ie)=>ke+Ie.unrealizedPL,0),re=U.reduce((ke,Ie)=>ke+Ie.realizedPL,0),Me=ye+re,Ve=de>0?Me/de*100:0,ge=de>0?ye/de*100:0,ze=U.reduce((ke,Ie)=>ke+Ie.stockCount,0);return{invested:de,current:ie,unrealizedPL:ye,unrealizedPLPct:ge,realizedPL:re,totalPL:Me,totalPLPct:Ve,stocks:ze}},[J,M]),te=j.useMemo(()=>r?M==="all"?r.filter(U=>E.some(de=>de.portfolioId===U.portfolioId)):r.filter(U=>U.portfolioId===M):[],[r,E,M]),R=j.useMemo(()=>n?(M==="all"?n.filter(de=>E.some(ie=>ie.portfolioId===de.portfolioId)):n.filter(de=>de.portfolioId===M)).sort((de,ie)=>new Date(ie.date)-new Date(de.date)):[],[n,E,M]);if(t===null||r===null)return a.jsx(di,{title:"Loading stocks",cards:5});const F=J.find(U=>U.portfolioId===M),fe=M==="all"?`All Portfolios (${E.length})`:F?.ownerName?`${F?.portfolioName}  ${C(F?.ownerName,"name")}`:F?.portfolioName;async function Se(U){S("Saving...");try{k?.editPortfolio?await u(k.editPortfolio.portfolioId,U):await c(U),g(k?.editPortfolio?"Portfolio updated":"Portfolio created"),A(null)}catch(de){g(de.message||"Failed to save portfolio","error")}finally{y()}}async function H(){if(k?.editPortfolio&&await w("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){S("Deactivating...");try{await f(k.editPortfolio.portfolioId),g("Portfolio deactivated"),D("all"),A(null)}catch(U){g(U.message||"Failed to deactivate portfolio","error")}finally{y()}}}async function B(U){S("Recording purchase...");try{await m(U),g("Stock purchase recorded"),A(null)}catch(de){g(de.message||"Failed to record purchase","error")}finally{y()}}async function Q(U){S("Recording sale...");try{await h(U),g("Stock sale recorded"),A(null)}catch(de){g(de.message||"Failed to record sale","error")}finally{y()}}async function ue(U){if(await w("Delete this transaction? This will recalculate your holdings.",{title:"Delete Transaction",confirmLabel:"Delete"})){S("Deleting...");try{await v(U),g("Transaction deleted"),$(null)}catch(de){g(de.message||"Failed to delete transaction","error")}finally{y()}}}async function xe(U){S("Updating...");try{await x(U),g("Transaction updated"),A(null)}catch(de){g(de.message||"Failed to update transaction","error")}finally{y()}}return a.jsxs("div",{className:"space-y-4",children:[E.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(ec,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No stock portfolios yet"}),a.jsx("button",{onClick:()=>A("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>z(!O),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[a.jsx(ec,{size:14,className:"text-violet-400 shrink-0"}),a.jsx("span",{className:"truncate",children:fe}),a.jsx(Ul,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${O?"rotate-180":""}`})]}),O&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>z(!1)}),a.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl min-w-[280px] py-1 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{D("all"),z(!1),P("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${M==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",E.length,")"]}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),J.map(U=>{const de=U.totalPL>=0;return a.jsx("button",{onClick:()=>{D(U.portfolioId),z(!1),P("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${M===U.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm ${M===U.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:U.portfolioName}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[C(U.ownerName,"name"),"  ",U.platform]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:W(U.current)}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${de?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[de?"+":"",U.totalPLPct.toFixed(1),"%"]})]})]})},U.portfolioId)})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[F&&a.jsxs("button",{onClick:()=>A({editPortfolio:F}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(la,{size:12})," Edit"]}),a.jsxs("button",{onClick:()=>A("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Gr,{size:14})," New Portfolio"]})]})]}),F&&a.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Platform:"})," ",F.platform]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",C(F.clientId,"clientId")]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Stocks:"})," ",F.stockCount]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(ed,{label:"Invested",value:W(Z.invested)}),a.jsx(ed,{label:"Current Value",value:W(Z.current),bold:!0}),a.jsx(ed,{label:"Unrealized P&L",value:`${Z.unrealizedPL>=0?"+":""}${W(Z.unrealizedPL)}`,sub:`${Z.unrealizedPLPct>=0?"+":""}${Z.unrealizedPLPct.toFixed(1)}%`,positive:Z.unrealizedPL>=0}),a.jsx(ed,{label:"Realized P&L",value:`${Z.realizedPL>=0?"+":""}${W(Z.realizedPL)}`,positive:Z.realizedPL>=0}),a.jsx(ed,{label:"Total P&L",value:`${Z.totalPL>=0?"+":""}${W(Z.totalPL)}`,sub:`${Z.totalPLPct>=0?"+":""}${Z.totalPLPct.toFixed(1)}%`,positive:Z.totalPL>=0,bold:!0})]}),a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[a.jsxs("button",{onClick:()=>P("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${T==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(xO,{size:12})," Holdings (",te.length,")"]}),a.jsxs("button",{onClick:()=>P("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${T==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(sd,{size:12})," Transactions (",R.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>M!=="all"&&A({buy:M}),disabled:M==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${M==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:M==="all"?"Select a portfolio first":"",children:[a.jsx(oc,{size:14})," Buy"]}),a.jsxs("button",{onClick:()=>M!=="all"&&te.length>0&&A({sell:M}),disabled:M==="all"||te.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${M==="all"||te.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:M==="all"?"Select a portfolio first":"",children:[a.jsx(Mp,{size:14})," Sell"]})]})]}),T==="holdings"&&a.jsx(a.Fragment,{children:te.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Avg Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Value"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Returns"})]})}),a.jsxs("tbody",{children:[te.map(U=>{const de=U.unrealizedPL>=0,ie=M==="all"?J.find(ye=>ye.portfolioId===U.portfolioId):null;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:U.companyName}),a.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[U.symbol,ie&&a.jsxs("span",{className:"ml-1.5 text-[var(--text-dim)] font-sans",children:[" ",ie.portfolioName]})]})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:U.quantity}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:W(U.avgBuyPrice)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:W(U.currentPrice)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:W(U.totalInvestment)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:W(U.currentValue)}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${de?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[de?"+":"",W(U.unrealizedPL)]}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${de?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[de?"+":"",U.unrealizedPLPct.toFixed(1),"%"]})]},`${U.portfolioId}-${U.symbol}`)}),a.jsxs("tr",{className:"bg-[var(--bg-inset)] border-t-2 border-[var(--border-light)]",children:[a.jsxs("td",{className:"py-2.5 px-4 text-xs font-semibold text-[var(--text-muted)]",children:["Total (",te.length," stocks)"]}),a.jsx("td",{colSpan:3,className:"py-2.5 px-3"}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:W(Z.invested)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:W(Z.current)}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${Z.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Z.unrealizedPL>=0?"+":"",W(Z.unrealizedPL)]}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${Z.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Z.unrealizedPLPct>=0?"+":"",Z.unrealizedPLPct.toFixed(1),"%"]})]})]})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:te.map(U=>{const de=U.unrealizedPL>=0,ie=M==="all"?J.find(ye=>ye.portfolioId===U.portfolioId):null;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:U.companyName}),a.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[U.symbol,ie&&a.jsxs("span",{className:"ml-1 font-sans",children:[" ",ie.portfolioName]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`text-xs font-bold tabular-nums ${de?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[de?"+":"",U.unrealizedPLPct.toFixed(1),"%"]}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${de?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[de?"+":"",W(U.unrealizedPL)]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs gap-2",children:[a.jsxs("div",{className:"text-[var(--text-dim)] min-w-0 truncate",children:[a.jsxs("span",{children:[U.quantity," shares"]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:["Avg ",W(U.avgBuyPrice)]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:["CMP ",W(U.currentPrice)]})]}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums shrink-0",children:W(U.currentValue)})]})]},`${U.portfolioId}-${U.symbol}`)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(ec,{size:28,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",F?" in this portfolio":""]}),a.jsx("button",{onClick:()=>A({buy:M!=="all"?M:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Buy your first stock"})]})}),T==="transactions"&&a.jsx(a.Fragment,{children:R.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Brokerage"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Net"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Realized P&L"}),a.jsx("th",{className:"w-8 py-2 px-2"})]})}),a.jsx("tbody",{children:R.map(U=>{const de=U.type==="BUY",ie=!de&&U.realizedPL!=null,ye=ie&&U.realizedPL>=0,re=M==="all"?J.find(Me=>Me.portfolioId===U.portfolioId):null;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)]",children:U.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${de?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:U.type})}),a.jsxs("td",{className:"py-2.5 px-3",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:U.symbol}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[140px]",children:[U.companyName,re&&a.jsxs("span",{children:["  ",re.portfolioName]})]})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:U.quantity}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:W(U.pricePerShare)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:W(U.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-dim)] tabular-nums",children:U.brokerage>0?W(U.brokerage):""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:W(U.netAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:ie?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${ye?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ye?"+":"",W(U.realizedPL)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx(qE,{txn:U,isOpen:L===U.transactionId,onToggle:()=>$(L===U.transactionId?null:U.transactionId),onEdit:()=>{$(null),A({editTxn:U})},onDelete:()=>{$(null),ue(U.transactionId)}})})]},U.transactionId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:R.map(U=>{const de=U.type==="BUY",ie=!de&&U.realizedPL!=null,ye=ie&&U.realizedPL>=0;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${de?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:U.type}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:U.symbol})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:U.date}),a.jsx(qE,{txn:U,isOpen:L===U.transactionId,onToggle:()=>$(L===U.transactionId?null:U.transactionId),onEdit:()=>{$(null),A({editTxn:U})},onDelete:()=>{$(null),ue(U.transactionId)}})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[U.quantity," shares @ ",W(U.pricePerShare)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:W(U.netAmount)}),ie&&a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ye?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["P&L: ",ye?"+":"",W(U.realizedPL)]})]})]}),U.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:U.notes})]},U.transactionId)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(sd,{size:28,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions yet"}),a.jsx("button",{onClick:()=>A({buy:M!=="all"?M:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first purchase"})]})})]}),a.jsx(ur,{open:k==="addPortfolio"||!!k?.editPortfolio,onClose:()=>A(null),title:k?.editPortfolio?"Edit Portfolio":"New Stock Portfolio",children:a.jsx(Fle,{initial:k?.editPortfolio||void 0,onSave:Se,onDelete:k?.editPortfolio?H:void 0,onCancel:()=>A(null)})}),a.jsx(ur,{open:!!k?.buy,onClose:()=>A(null),title:"Buy Stock",wide:!0,children:a.jsx(qle,{portfolioId:typeof k?.buy=="string"?k.buy:void 0,onSave:B,onCancel:()=>A(null)})}),a.jsx(ur,{open:!!k?.sell,onClose:()=>A(null),title:"Sell Stock",wide:!0,children:a.jsx(Hle,{portfolioId:typeof k?.sell=="string"?k.sell:void 0,onSave:Q,onCancel:()=>A(null)})}),a.jsx(ur,{open:!!k?.editTxn,onClose:()=>A(null),title:"Edit Transaction",children:k?.editTxn&&a.jsx(Yle,{txn:k.editTxn,onSave:xe,onCancel:()=>A(null)})})]})}function ed({label:e,value:t,sub:r,positive:n,bold:i}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${i?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function qE({txn:e,isOpen:t,onToggle:r,onEdit:n,onDelete:i}){const l=j.useRef(null),[c,u]=j.useState({top:0,right:0});if(!e.transactionId)return null;function f(m){if(m.stopPropagation(),!t&&l.current){const h=l.current.getBoundingClientRect();u({top:h.bottom+4,right:window.innerWidth-h.right})}r()}return a.jsxs(a.Fragment,{children:[a.jsx("button",{ref:l,onClick:f,className:"p-1 rounded-md text-[var(--text-dim)] hover:text-[var(--text-muted)] hover:bg-[var(--bg-hover)] transition-colors",title:"Actions",children:a.jsx(mO,{size:14})}),t&&kc.createPortal(a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{position:"fixed",inset:0,zIndex:9998},onClick:m=>{m.stopPropagation(),r()}}),a.jsxs("div",{style:{position:"fixed",top:c.top,right:c.right,zIndex:9999},className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl py-1 min-w-[120px] animate-fade-in",children:[a.jsxs("button",{onClick:m=>{m.stopPropagation(),n()},className:"w-full text-left px-3 py-2 text-xs text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)] flex items-center gap-2 transition-colors",children:[a.jsx(la,{size:12})," Edit"]}),a.jsxs("button",{onClick:m=>{m.stopPropagation(),i()},className:"w-full text-left px-3 py-2 text-xs text-[var(--accent-rose)] hover:bg-rose-500/10 flex items-center gap-2 transition-colors",children:[a.jsx(lc,{size:12})," Delete"]})]})]}),document.body)]})}function Yle({txn:e,onSave:t,onCancel:r}){const[n,i]=j.useState(()=>{if(!e.date)return"";const A=String(e.date),M=A.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(M)return new Date(Number(M[3]),Number(M[2])-1,Number(M[1])).toISOString().split("T")[0];const D=new Date(A);return isNaN(D.getTime())?"":D.toISOString().split("T")[0]}),[l,c]=j.useState(String(e.quantity||"")),[u,f]=j.useState(String(e.pricePerShare||"")),[m,h]=j.useState(String(e.brokerage||"0")),[x,v]=j.useState(e.notes||""),[g,S]=j.useState(!1),y=(Number(l)||0)*(Number(u)||0),w=Number(m)||0,C=e.type==="BUY"?y+w:y-w;async function k(){if(!(!l||Number(l)<=0)&&!(!u||Number(u)<=0)){S(!0);try{await t({transactionId:e.transactionId,date:n,quantity:l,pricePerShare:u,brokerage:m,notes:x})}finally{S(!1)}}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:e.companyName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[e.symbol,"  ",e.type,"  ",e.transactionId]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Date"}),a.jsx(Na,{value:n,onChange:i})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Quantity"}),a.jsx("input",{type:"number",value:l,onChange:A=>c(A.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Price per Share"}),a.jsx("input",{type:"number",value:u,onChange:A=>f(A.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Brokerage"}),a.jsx("input",{type:"number",value:m,onChange:A=>h(A.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]})]}),y>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)] flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:W(y)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Net Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:W(C)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Notes"}),a.jsx("input",{type:"text",value:x,onChange:A=>v(A.target.value),placeholder:"Optional notes...",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:"Cancel"}),a.jsx("button",{onClick:k,disabled:g||!l||Number(l)<=0||!u||Number(u)<=0,className:"px-4 py-2 text-xs font-bold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Saving...":"Update Transaction"})]})]})}const Vle=["Self","Spouse","Father","Mother","Son","Daughter","Brother","Sister","Other"].map(e=>({value:e,label:e})),Zm={pan:/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,aadhar:/^\d{12}$/,email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,mobile:/^\d{10}$/};function Gle({initial:e,onSave:t,onDelete:r,onCancel:n}){const i=!!e,[l,c]=j.useState({memberName:e?.memberName||"",relationship:e?.relationship||"",pan:e?.pan||"",aadhar:e?.aadhar||"",email:e?.email||"",mobile:e?.mobile||"",includeInEmailReports:e?.includeInEmailReports??!0,status:e?.status||"Active"}),[u,f]=j.useState({}),[m,h]=j.useState(!1),[x,v]=j.useState(()=>{const A=e?.dynamicFields||{};return Object.entries(A).map(([M,D])=>({key:M,value:D}))});function g(A,M){c(D=>({...D,[A]:M})),f(D=>({...D,[A]:void 0}))}function S(){const A={};return l.memberName.trim()||(A.memberName="Required"),l.relationship||(A.relationship="Required"),Zm.pan.test(l.pan.toUpperCase())||(A.pan="Format: ABCDE1234F"),Zm.aadhar.test(l.aadhar)||(A.aadhar="12 digits required"),Zm.email.test(l.email)||(A.email="Invalid email"),Zm.mobile.test(l.mobile)||(A.mobile="10 digits required"),f(A),Object.keys(A).length===0}function y(){v(A=>[...A,{key:"",value:""}])}function w(A,M,D){v(T=>T.map((P,O)=>O===A?{...P,[M]:D}:P))}function C(A){v(M=>M.filter((D,T)=>T!==A))}async function k(){if(!S())return;const A={};x.forEach(({key:M,value:D})=>{const T=M.trim();T&&(A[T]=D)}),h(!0);try{await t({...l,pan:l.pan.toUpperCase(),dynamicFields:A})}finally{h(!1)}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Member Name",required:!0,error:u.memberName,children:a.jsx(Re,{value:l.memberName,onChange:A=>g("memberName",A),placeholder:"e.g., Jagadeesh"})}),a.jsx(pe,{label:"Relationship",required:!0,error:u.relationship,children:a.jsx(et,{value:l.relationship,onChange:A=>g("relationship",A),options:Vle,placeholder:"Select..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"PAN",required:!0,error:u.pan,children:a.jsx(Re,{sensitive:!0,value:l.pan,onChange:A=>g("pan",A.toUpperCase()),placeholder:"ABCDE1234F",maxLength:10})}),a.jsx(pe,{label:"Aadhar",required:!0,error:u.aadhar,children:a.jsx(Re,{sensitive:!0,value:l.aadhar,onChange:A=>g("aadhar",A.replace(/\D/g,"")),placeholder:"123456789012",maxLength:12})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Email",required:!0,error:u.email,children:a.jsx(Re,{sensitive:!0,type:"email",value:l.email,onChange:A=>g("email",A),placeholder:"email@example.com"})}),a.jsx(pe,{label:"Mobile",required:!0,error:u.mobile,children:a.jsx(Re,{sensitive:!0,value:l.mobile,onChange:A=>g("mobile",A.replace(/\D/g,"")),placeholder:"9876543210",maxLength:10})})]}),a.jsx(Bie,{checked:l.includeInEmailReports,onChange:A=>g("includeInEmailReports",A),label:"Include in email reports"}),i&&a.jsx(pe,{label:"Status",children:a.jsx(et,{value:l.status,onChange:A=>g("status",A),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)]",children:"Custom Fields"}),a.jsxs("button",{onClick:y,type:"button",className:"flex items-center gap-1 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[a.jsx(Gr,{size:12})," Add Field"]})]}),x.length===0&&a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"No custom fields. Add DOB, occupation, blood group, etc."}),a.jsx("div",{className:"space-y-2",children:x.map((A,M)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{value:A.key,onChange:D=>w(M,"key",D.target.value),placeholder:"Field name",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),a.jsx("input",{value:A.value,onChange:D=>w(M,"value",D.target.value),placeholder:"Value",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),a.jsx("button",{onClick:()=>C(M),type:"button",className:"p-1 text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:a.jsx(lc,{size:13})})]},M))})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[i&&r?a.jsx(ns,{onClick:r}):a.jsx("div",{}),a.jsx(ln,{onCancel:n,onSubmit:k,submitLabel:i?"Update":"Add Member",loading:m})]})]})}const Jm=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],HE={Self:"bg-violet-500/15 text-[var(--accent-violet)]",Spouse:"bg-rose-500/15 text-[var(--accent-rose)]",Father:"bg-blue-500/15 text-[var(--accent-blue)]",Mother:"bg-amber-500/15 text-[var(--accent-amber)]",Son:"bg-emerald-500/15 text-emerald-400",Daughter:"bg-emerald-500/15 text-emerald-400"};function Wle(){const{members:e,addMember:t,updateMember:r,deleteMember:n}=ht(),{showToast:i,showBlockUI:l,hideBlockUI:c}=li(),u=oi(),{mv:f}=Da(),[m,h]=j.useState(null);if(e===null)return a.jsx(di,{title:"Loading family",cards:3});const x=e.filter(S=>S.status!=="Inactive");async function v(S){l("Saving member...");try{m?.edit?await r(m.edit.memberId,S):await t(S),i(m?.edit?"Member updated":"Member added"),h(null)}catch(y){i(y.message||"Failed to save member","error")}finally{c()}}async function g(){if(m?.edit&&await u("Deactivate this family member?",{title:"Deactivate Member",confirmLabel:"Deactivate"})){l("Deactivating...");try{await n(m.edit.memberId),i("Member deactivated"),h(null)}catch(S){i(S.message||"Failed to deactivate member","error")}finally{c()}}}return[...new Set(x.flatMap(S=>Object.keys(S.dynamicFields||{})))],a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>h("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Gr,{size:14})," Add Member"]})}),x.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Yl,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No family members yet"}),a.jsx("button",{onClick:()=>h("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first member"})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Relationship"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"PAN"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Aadhaar"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Mobile"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:x.map((S,y)=>{const w=S.dynamicFields||{},C=Object.entries(w);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Jm[y%Jm.length]}`,children:S.memberName.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:f(S.memberName,"name")}),C.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-0.5",children:[C.slice(0,3).map(([k,A])=>a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[k,": ",A]},k)),C.length>3&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",C.length-3," more"]})]})]})]})}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${HE[S.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:S.relationship})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:f(S.pan,"pan")||""}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:f(S.aadhar,"aadhaar")||""}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] truncate max-w-[180px]",children:f(S.email,"email")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:f(S.mobile,"mobile")}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>h({edit:S}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(la,{size:12})})})]},S.memberId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:x.map((S,y)=>{const w=S.dynamicFields||{},C=Object.entries(w);return a.jsxs("div",{onClick:()=>h({edit:S}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Jm[y%Jm.length]}`,children:S.memberName.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:f(S.memberName,"name")}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${HE[S.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:S.relationship})]}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] truncate",children:f(S.email,"email")})]})]}),a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:f(S.mobile,"mobile")}),a.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["PAN: ",f(S.pan,"pan")||""]}),S.aadhar&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["Aadhaar: ",f(S.aadhar,"aadhaar")]})]})]}),C.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[C.slice(0,3).map(([k,A])=>a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[k,": ",A]},k)),C.length>3&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",C.length-3," more"]})]})]},S.memberId)})})]}),a.jsx(ur,{open:!!m,onClose:()=>h(null),title:m?.edit?"Edit Member":"Add Family Member",wide:!0,children:a.jsx(Gle,{initial:m?.edit||void 0,onSave:v,onDelete:m?.edit?g:void 0,onCancel:()=>h(null)})})]})}const UE=["Retirement","Emergency Fund","Child Education","Home Purchase","Car","Travel","Wedding","Custom"].map(e=>({value:e,label:e})),YE=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],ep={Retirement:{inflation:6,cagr:12},"Emergency Fund":{inflation:0,cagr:7},"Child Education":{inflation:10,cagr:12},"Home Purchase":{inflation:8,cagr:12},Wedding:{inflation:6,cagr:12},Car:{inflation:5,cagr:10},Travel:{inflation:6,cagr:10},Custom:{inflation:6,cagr:12}},VE=[{label:"Basics",icon:_d},{label:"Financials",icon:Sz},{label:"Review",icon:Dc}];function Kle({initial:e,onSave:t,onDelete:r,onCancel:n}){const i=!!e,{activeMembers:l}=ht(),c=(l||[]).map(O=>({value:O.memberId,label:O.relationship?`${O.memberName} (${O.relationship})`:O.memberName})),[u,f]=j.useState(0),[m,h]=j.useState(()=>{if(i){const O=(e.expectedInflation||.06)*100,z=(e.expectedCAGR||.12)*100,L=e.targetDate?Math.max(0,(new Date(e.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,$=O/100;let E=e.targetAmount||0;$>0&&L>0&&e.goalType!=="Emergency Fund"&&(E=e.targetAmount/Math.pow(1+$,L));const J=l.find(Z=>Z.memberName===e.familyMemberName);return{goalType:e.goalType||"",goalName:e.goalName||"",familyMemberId:J?.memberId||"",todaysCost:Math.round(E).toString(),targetDate:e.targetDate||"",lumpsum:(e.lumpsumInvested||0).toString(),monthlySIP:(e.monthlyInvestment||0).toString(),inflation:O.toString(),cagr:z.toString(),priority:e.priority||"Medium",notes:e.notes||"",monthlyExpenses:(e.monthlyExpenses||"").toString(),emergencyMonths:(e.emergencyMonths||6).toString()}}return{goalType:"",goalName:"",familyMemberId:"",todaysCost:"",targetDate:"",lumpsum:"",monthlySIP:"",inflation:"6",cagr:"12",priority:"Medium",notes:"",monthlyExpenses:"",emergencyMonths:"6"}}),[x,v]=j.useState({}),[g,S]=j.useState(!1);function y(O,z){h(L=>({...L,[O]:z})),v(L=>({...L,[O]:void 0}))}j.useEffect(()=>{if(i||!m.goalType)return;const O=ep[m.goalType]||ep.Custom;h(z=>({...z,inflation:O.inflation.toString(),cagr:O.cagr.toString()}))},[m.goalType,i]);const w=m.goalType==="Retirement",C=m.goalType==="Emergency Fund",k=j.useMemo(()=>{const O=(Number(m.inflation)||0)/100,L=(Number(m.cagr)||0)/100/12,$=Number(m.lumpsum)||0,E=Number(m.monthlyExpenses)||0,J=Number(m.emergencyMonths)||6,Z=m.targetDate?Math.max(0,(new Date(m.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,te=Math.round(Z*12);let R=0,F=0;w?(R=E*12*25,F=R*Math.pow(1+O,Z)):C?(R=E*J,F=R):(R=Number(m.todaysCost)||0,F=O>0&&Z>0?R*Math.pow(1+O,Z):R),F=Math.round(F);const fe=$>0&&te>0?$*Math.pow(1+L,te):$;let Se=0;if(F>0&&te>0){const xe=F-fe;xe>0&&L>0?Se=xe/((Math.pow(1+L,te)-1)/L):xe>0&&(Se=xe/te),Se=Math.max(0,Math.ceil(Se))}const H=Se>0&&L>0&&te>0?Se*((Math.pow(1+L,te)-1)/L):Se*te,B=Math.round($+Se*te),Q=Math.round(F-B),ue=$>0&&fe>=F;return{todaysCost:R,inflatedTarget:F,yearsToGo:Z,months:te,fvLumpsum:Math.round(fe),requiredSIP:Se,fvRequiredSIP:Math.round(H),planTotalInvested:B,planReturns:Q,lumpsumCoversGoal:ue,hasTarget:F>0}},[m.todaysCost,m.targetDate,m.lumpsum,m.inflation,m.cagr,m.monthlyExpenses,m.emergencyMonths,w,C]);function A(O){const z={};return O===0&&(m.goalType||(z.goalType="Required"),m.goalName.trim()||(z.goalName="Required")),O===1&&(m.targetDate||(z.targetDate="Required"),w||C?(!m.monthlyExpenses||Number(m.monthlyExpenses)<=0)&&(z.monthlyExpenses="Required"):(!m.todaysCost||Number(m.todaysCost)<=0)&&(z.todaysCost="Must be > 0")),v(z),Object.keys(z).length===0}function M(){const O={};return m.goalType||(O.goalType="Required"),m.goalName.trim()||(O.goalName="Required"),m.targetDate||(O.targetDate="Required"),w||C?(!m.monthlyExpenses||Number(m.monthlyExpenses)<=0)&&(O.monthlyExpenses="Required"):(!m.todaysCost||Number(m.todaysCost)<=0)&&(O.todaysCost="Must be > 0"),v(O),Object.keys(O).length===0}function D(){A(u)&&f(O=>Math.min(O+1,2))}async function T(){if(!M())return;const O=m.familyMemberId&&l.find(z=>z.memberId===m.familyMemberId)?.memberName||"Family";S(!0);try{await t({goalType:m.goalType,goalName:m.goalName,familyMemberId:m.familyMemberId||"",familyMember:O,targetAmount:k.inflatedTarget,targetDate:m.targetDate,priority:m.priority,notes:m.notes,expectedInflation:(Number(m.inflation)||0)/100,expectedCAGR:(Number(m.cagr)||0)/100,monthlyInvestment:k.requiredSIP||0,lumpsumInvested:Number(m.lumpsum)||0,monthlyExpenses:w||C?Number(m.monthlyExpenses)||0:void 0,emergencyMonths:C?Number(m.emergencyMonths)||6:void 0,isRetirement:w,currentCost:k.todaysCost})}finally{S(!1)}}const P=m.familyMemberId&&l.find(O=>O.memberId===m.familyMemberId)?.memberName||"Family";return i?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Goal Type",required:!0,error:x.goalType,children:a.jsx(et,{value:m.goalType,onChange:O=>y("goalType",O),options:UE,placeholder:"Select type..."})}),a.jsx(pe,{label:"Goal Name",required:!0,error:x.goalName,children:a.jsx(Re,{value:m.goalName,onChange:O=>y("goalName",O),placeholder:"e.g., Retirement Fund (2045)"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"For",error:x.familyMemberId,children:a.jsx(et,{value:m.familyMemberId,onChange:O=>y("familyMemberId",O),options:c,placeholder:"Family (Default)"})}),a.jsx(pe,{label:"Target Date",required:!0,error:x.targetDate,children:a.jsx(Na,{value:m.targetDate,onChange:O=>y("targetDate",O),maxDate:null})})]}),w||C?a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Monthly Expenses",required:!0,error:x.monthlyExpenses,children:a.jsx(Re,{type:"number",value:m.monthlyExpenses,onChange:O=>y("monthlyExpenses",O),placeholder:"e.g., 50000"})}),C&&a.jsx(pe,{label:"Emergency Months",children:a.jsx(Re,{type:"number",value:m.emergencyMonths,onChange:O=>y("emergencyMonths",O),placeholder:"6"})})]}):a.jsx(pe,{label:"Today's Cost",required:!0,error:x.todaysCost,children:a.jsx(Re,{type:"number",value:m.todaysCost,onChange:O=>y("todaysCost",O),placeholder:"e.g., 1000000"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[a.jsx(pe,{label:"Inflation %",children:a.jsx(Re,{type:"number",value:m.inflation,onChange:O=>y("inflation",O),placeholder:"6"})}),a.jsx(pe,{label:"Expected CAGR %",children:a.jsx(Re,{type:"number",value:m.cagr,onChange:O=>y("cagr",O),placeholder:"12"})}),a.jsx(pe,{label:"Lumpsum Invested",children:a.jsx(Re,{type:"number",value:m.lumpsum,onChange:O=>y("lumpsum",O),placeholder:"0"})})]}),k.hasTarget&&a.jsx(GE,{calc:k,inflation:m.inflation,isRetirement:w,isEmergency:C}),a.jsx(pe,{label:"Priority",children:a.jsx(et,{value:m.priority,onChange:O=>y("priority",O),options:YE})}),a.jsx(pe,{label:"Notes",children:a.jsx(jc,{value:m.notes,onChange:O=>y("notes",O),placeholder:"Optional notes...",rows:2})}),a.jsxs("div",{className:"flex items-center justify-between",children:[r?a.jsx(ns,{onClick:r}):a.jsx("div",{}),a.jsx(ln,{onCancel:n,onSubmit:T,submitLabel:"Update Goal",loading:g})]})]}):a.jsxs("div",{className:"space-y-5",children:[a.jsx("div",{className:"flex items-center gap-1 mb-2",children:VE.map((O,z)=>{const L=O.icon,$=z===u,E=z<u;return a.jsxs("div",{className:"flex items-center flex-1",children:[a.jsxs("button",{onClick:()=>{z<u&&f(z)},className:`flex items-center gap-1.5 text-xs font-semibold transition-colors ${$?"text-violet-400":E?"text-emerald-400 cursor-pointer":"text-[var(--text-dim)]"}`,children:[a.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold border ${$?"border-violet-400 bg-violet-500/15":E?"border-emerald-400 bg-emerald-500/15":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:E?a.jsx(Dc,{size:12}):a.jsx(L,{size:12})}),a.jsx("span",{className:"hidden sm:inline",children:O.label})]}),z<VE.length-1&&a.jsx("div",{className:`flex-1 h-px mx-2 ${E?"bg-emerald-400/40":"bg-[var(--border)]"}`})]},O.label)})}),u===0&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Tell us about your financial goal"}),a.jsx(pe,{label:"Goal Type",required:!0,error:x.goalType,children:a.jsx(et,{value:m.goalType,onChange:O=>y("goalType",O),options:UE,placeholder:"Select type..."})}),m.goalType&&a.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)]",children:[a.jsx(oc,{size:12,className:"text-[var(--text-dim)] shrink-0"}),a.jsxs("p",{className:"text-[11px] text-[var(--text-muted)]",children:["Default: ",ep[m.goalType]?.inflation||6,"% inflation, ",ep[m.goalType]?.cagr||12,"% CAGR",w&&"  Uses 25x annual expenses rule",C&&"  No inflation applied"]})]}),a.jsx(pe,{label:"Goal Name",required:!0,error:x.goalName,children:a.jsx(Re,{value:m.goalName,onChange:O=>y("goalName",O),placeholder:"e.g., Retirement Fund (2045)"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"For",error:x.familyMemberId,children:a.jsx(et,{value:m.familyMemberId,onChange:O=>y("familyMemberId",O),options:c,placeholder:"Family (Default)"})}),a.jsx(pe,{label:"Priority",children:a.jsx(et,{value:m.priority,onChange:O=>y("priority",O),options:YE})})]})]}),u===1&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:w?"Set your retirement timeline and monthly expenses":C?"Set your emergency fund requirements":"Set your target and investment plan"}),w||C?a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Target Date",required:!0,error:x.targetDate,children:a.jsx(Na,{value:m.targetDate,onChange:O=>y("targetDate",O),maxDate:null})}),a.jsx(pe,{label:"Monthly Expenses (Today)",required:!0,error:x.monthlyExpenses,children:a.jsx(Re,{type:"number",value:m.monthlyExpenses,onChange:O=>y("monthlyExpenses",O),placeholder:"e.g., 50000"})}),C&&a.jsx(pe,{label:"Emergency Fund (Months)",children:a.jsx(Re,{type:"number",value:m.emergencyMonths,onChange:O=>y("emergencyMonths",O),placeholder:"6"})}),w&&a.jsx("div",{className:"sm:col-span-2",children:a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Corpus = Monthly Expenses x 12 x 25 = ",W(k.todaysCost)," (today)"]})})]}):a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Target Date",required:!0,error:x.targetDate,children:a.jsx(Na,{value:m.targetDate,onChange:O=>y("targetDate",O),maxDate:null})}),a.jsx(pe,{label:"Today's Cost",required:!0,error:x.todaysCost,children:a.jsx(Re,{type:"number",value:m.todaysCost,onChange:O=>y("todaysCost",O),placeholder:"e.g., 1000000"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(pe,{label:`Inflation Rate (%)${C?"  N/A":""}`,children:a.jsx(Re,{type:"number",value:m.inflation,onChange:O=>y("inflation",O),placeholder:"6"})}),a.jsx(pe,{label:"Expected Returns (CAGR %)",children:a.jsx(Re,{type:"number",value:m.cagr,onChange:O=>y("cagr",O),placeholder:"12"})})]}),k.hasTarget&&a.jsx(GE,{calc:k,inflation:m.inflation,isRetirement:w,isEmergency:C}),a.jsx(pe,{label:"Lumpsum You Plan to Invest (Optional)",children:a.jsx(Re,{type:"number",value:m.lumpsum,onChange:O=>y("lumpsum",O),placeholder:"e.g., 500000"})}),k.hasTarget&&k.months>0&&a.jsx(WE,{calc:k,lumpsum:m.lumpsum}),a.jsx(pe,{label:"Notes",children:a.jsx(jc,{value:m.notes,onChange:O=>y("notes",O),placeholder:"Optional notes...",rows:2})})]}),u===2&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Review your goal before saving"}),a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-3",children:[a.jsx(pn,{label:"Goal",value:m.goalName,bold:!0}),a.jsx(pn,{label:"Type",value:m.goalType,color:"violet"}),a.jsx(pn,{label:"Member",value:P}),a.jsx(pn,{label:"Priority",value:m.priority,badge:m.priority==="High"?"rose":m.priority==="Low"?"blue":"amber"}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[(w||C)&&a.jsx(pn,{label:"Monthly Expenses",value:W(Number(m.monthlyExpenses)||0)}),C&&a.jsx(pn,{label:"Emergency Months",value:m.emergencyMonths}),!w&&!C&&a.jsx(pn,{label:"Today's Cost",value:W(k.todaysCost)}),a.jsx(pn,{label:"Inflation",value:`${m.inflation}% p.a.`}),a.jsx(pn,{label:"Expected CAGR",value:`${m.cagr}% p.a.`}),a.jsx(pn,{label:"Future Value (Inflated)",value:W(k.inflatedTarget),bold:!0,color:"violet"})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[a.jsx(pn,{label:"Lumpsum",value:W(Number(m.lumpsum)||0)}),a.jsx(pn,{label:"Required SIP",value:`${W(k.requiredSIP)}/mo`,color:"emerald"}),a.jsx(pn,{label:"Target Date",value:m.targetDate}),a.jsx(pn,{label:"Time Remaining",value:k.yearsToGo>0?`${k.yearsToGo.toFixed(1)} years`:""})]})]}),k.hasTarget&&k.months>0&&a.jsx(WE,{calc:k,lumpsum:m.lumpsum,compact:!0})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-light)]",children:[a.jsx("div",{children:u>0&&a.jsxs("button",{onClick:()=>f(O=>O-1),className:"flex items-center gap-1 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(oz,{size:14})," Back"]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:n,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),u<2?a.jsxs("button",{onClick:D,className:"flex items-center gap-1 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors",children:["Next ",a.jsx(ga,{size:14})]}):a.jsx("button",{onClick:T,disabled:g,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Saving...":"Create Goal"})]})]})]})}function GE({calc:e,inflation:t,isRetirement:r,isEmergency:n}){return n?a.jsx("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-500/5 border border-blue-500/15",children:a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Emergency Fund: ",a.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:W(e.inflatedTarget)}),a.jsx("span",{className:"text-[var(--text-dim)]",children:" (no inflation applied)"})]})}):a.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 rounded-lg bg-violet-500/5 border border-violet-500/15",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase tracking-wider",children:r?"Corpus Today":"Today's Cost"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:W(e.todaysCost)})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[t,"% x ",e.yearsToGo.toFixed(1),"yrs"]}),a.jsx(ga,{size:12,className:"text-violet-400 mx-auto"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-semibold text-violet-400 uppercase tracking-wider",children:"Future Value"}),a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:W(e.inflatedTarget)})]})]})}function WE({calc:e,lumpsum:t,compact:r}){const n=Number(t)||0;return r?a.jsxs("div",{className:"rounded-lg border p-3 bg-violet-500/5 border-violet-500/15",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Required Monthly SIP"}),a.jsxs("span",{className:"text-sm font-bold text-violet-400 tabular-nums",children:[e.lumpsumCoversGoal?"0":W(e.requiredSIP),"/mo"]})]}),e.lumpsumCoversGoal&&a.jsx("p",{className:"text-[10px] text-emerald-400 mt-1",children:"Lumpsum alone covers this goal!"})]}):a.jsxs("div",{className:"rounded-lg border p-3 space-y-2 bg-violet-500/5 border-violet-500/15",children:[e.lumpsumCoversGoal?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Dc,{size:12,className:"text-emerald-400"}),a.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400",children:"Lumpsum Covers Goal"})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-violet-400",children:"Required Monthly SIP"}),a.jsxs("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:[W(e.requiredSIP),"/mo"]})]}),e.planTotalInvested>0&&a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-2 space-y-1",children:[n>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["Lumpsum ",W(n)," grows to"]}),a.jsx("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:W(e.fvLumpsum)})]}),e.requiredSIP>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["SIP ",W(e.requiredSIP),"/mo x ",e.months," months"]}),a.jsx("span",{className:"text-[11px] font-semibold text-blue-400 tabular-nums",children:W(e.fvRequiredSIP)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Total You Invest"}),a.jsx("span",{className:"text-[11px] font-semibold text-[var(--text-primary)] tabular-nums",children:W(e.planTotalInvested)})]}),e.planReturns>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Wealth Created"}),a.jsxs("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:["+",W(e.planReturns)]})]})]})]})}function pn({label:e,value:t,bold:r,color:n,badge:i}){const l=n==="violet"?"text-violet-400":n==="emerald"?"text-emerald-400":"text-[var(--text-primary)]";if(i){const c=i==="rose"?"bg-rose-500/15 text-rose-400":i==="blue"?"bg-blue-500/15 text-blue-400":"bg-amber-500/15 text-amber-400";return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${c}`,children:t})]})}return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e}),a.jsx("span",{className:`text-xs ${r?"font-bold text-sm":"font-semibold"} ${l}`,children:t})]})}function Qle({goal:e,onClose:t}){const{goalPortfolioMappings:r,mfPortfolios:n,mfHoldings:i}=ht(),l=j.useMemo(()=>{const u=r.filter(x=>x.goalId===e.goalId);if(u.length===0)return null;const f=u.map(x=>{const v=n.find(C=>C.portfolioId===x.portfolioId);if(!v)return null;const g=i.filter(C=>C.portfolioId===x.portfolioId&&C.units>0),S=g.reduce((C,k)=>C+k.currentValue,0),y=S*x.allocationPct/100,w=g.map(C=>{const k=S>0?C.currentValue/S:0,A=y*k,M=C.currentNav>0?A/C.currentNav:0,D=A-M*C.avgNav;return{fundName:C.fundName,currentValue:C.currentValue,withdrawValue:A,withdrawUnits:Math.min(M,C.units),currentNav:C.currentNav,taxableGain:D,availableUnits:C.units}}).filter(C=>C.withdrawValue>0);return{portfolioName:v.portfolioName,ownerName:v.ownerName,allocationPct:x.allocationPct,portfolioValue:S,linkedValue:y,fundWithdrawals:w}}).filter(Boolean),m=f.reduce((x,v)=>x+v.linkedValue,0),h=f.reduce((x,v)=>x+v.fundWithdrawals.reduce((g,S)=>g+S.taxableGain,0),0);return{portfolioDetails:f,totalLinked:m,totalTaxableGain:h}},[e,r,n,i]);if(!l)return a.jsxs("div",{className:"py-8 text-center space-y-2",children:[a.jsx($s,{size:24,className:"mx-auto text-amber-400"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No portfolios linked to this goal"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Link portfolios first to generate a withdrawal plan"}),a.jsx("button",{onClick:t,className:"mt-2 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})]});const c=e.targetAmount>0?l.totalLinked/e.targetAmount*100:0;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),a.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:W(e.targetAmount)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Available from Linked Portfolios"}),a.jsx("span",{className:`text-sm font-bold ${l.totalLinked>=e.targetAmount?"text-emerald-400":"text-amber-400"}`,children:W(l.totalLinked)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-card)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${c>=100?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(c,100)}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[c.toFixed(0),"%"]})]}),l.totalTaxableGain>0&&a.jsxs("div",{className:"flex items-center justify-between pt-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Estimated Taxable Gain"}),a.jsx("span",{className:"text-xs font-semibold text-amber-400",children:W(l.totalTaxableGain)})]})]}),l.portfolioDetails.map(u=>a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] overflow-hidden",children:[a.jsxs("div",{className:"px-4 py-2.5 bg-[var(--bg-card)] border-b border-[var(--border-light)] flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:u.portfolioName}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[u.ownerName,"  ",u.allocationPct,"% allocated to goal"]})]}),a.jsx("span",{className:"text-xs font-bold text-[var(--text-primary)]",children:W(u.linkedValue)})]}),a.jsx("div",{className:"px-4 py-2",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-[var(--text-dim)]",children:[a.jsx("th",{className:"text-left py-1 font-medium",children:"Fund"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Units"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Amount"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Gain"})]})}),a.jsx("tbody",{children:u.fundWithdrawals.map(f=>a.jsxs("tr",{className:"border-t border-[var(--border-light)]",children:[a.jsxs("td",{className:"py-1.5 text-[var(--text-secondary)] max-w-[180px]",children:[a.jsx("p",{className:"truncate",children:Le(f.fundName).main}),Le(f.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(f.fundName).plan})]}),a.jsx("td",{className:"py-1.5 text-right text-[var(--text-muted)] tabular-nums",children:f.withdrawUnits.toFixed(2)}),a.jsx("td",{className:"py-1.5 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:W(f.withdrawValue)}),a.jsx("td",{className:`py-1.5 text-right tabular-nums font-semibold ${f.taxableGain>=0?"text-emerald-400":"text-rose-400"}`,children:W(Math.abs(f.taxableGain))})]},f.fundName))})]})})]},u.portfolioName)),a.jsx("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:a.jsx("button",{onClick:t,className:"px-5 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})})]})}const Xle={"On Track":"bg-blue-500/15 text-[var(--accent-blue)]",Behind:"bg-amber-500/15 text-[var(--accent-amber)]",Critical:"bg-rose-500/15 text-[var(--accent-rose)]","Needs Attention":"bg-amber-500/15 text-[var(--accent-amber)]",Achieved:"bg-emerald-500/15 text-emerald-400",Paused:"bg-slate-500/15 text-[var(--text-muted)]"},Zle={High:"bg-rose-500/15 text-[var(--accent-rose)]",Medium:"bg-amber-500/15 text-[var(--accent-amber)]",Low:"bg-blue-500/15 text-[var(--accent-blue)]"},Jle={"On Track":"bg-blue-500",Behind:"bg-amber-500",Critical:"bg-rose-500","Needs Attention":"bg-amber-500",Achieved:"bg-emerald-500",Paused:"bg-slate-500"};function eoe(){const{selectedMember:e,member:t}=Lr(),{goalList:r,addGoal:n,updateGoal:i,deleteGoal:l,goalPortfolioMappings:c,updateGoalMappings:u,mfHoldings:f,activeMembers:m,mfPortfolios:h,stockPortfolios:x,otherInvList:v}=ht(),{showToast:g,showBlockUI:S,hideBlockUI:y}=li(),w=oi(),[C,k]=j.useState(null),[A,M]=j.useState(null),[D,T]=j.useState(null),P=j.useRef(new Set),[O,z]=j.useState(null),[L,$]=j.useState([]),[E,J]=j.useState(!1),[Z,te]=j.useState(!1),R=j.useMemo(()=>{if(!r)return[];const q=r.filter(X=>X.isActive!==!1);return e==="all"?q:q.filter(X=>X.familyMemberId===e)},[r,e]);function F(q){if(!q.familyMemberName||q.familyMemberName==="Family")return q.familyMemberName||"Family";const X=(m||[]).find(Ce=>Ce.memberName===q.familyMemberName);return X?.relationship?`${q.familyMemberName} (${X.relationship})`:q.familyMemberName}const fe=R.reduce((q,X)=>q+(X.targetAmount||0),0),Se=R.reduce((q,X)=>q+(X.currentValue||0),0),H=R.reduce((q,X)=>q+(X.monthlyInvestment||0),0),B=R.reduce((q,X)=>q+(X.lumpsumNeeded||0),0),Q=fe>0?Se/fe*100:0,ue=R.filter(q=>q.status==="Needs Attention").length,xe=R.filter(q=>q.status==="Achieved").length,U=new Set(["Equity","ELSS","Index"]),de=j.useMemo(()=>{if(!R.length||!c?.length||!f?.length)return[];const q=new Date,X=[];for(const Ce of R){if(Ce.status==="Achieved")continue;const le=(new Date(Ce.targetDate)-q)/(365.25*24*60*60*1e3);if(le>3||le<=0)continue;const ot=c.filter(Ht=>Ht.goalId===Ce.goalId);if(!ot.length)continue;let qe=0,De=0;for(const Ht of ot){const dt=f.filter(Ee=>Ee.portfolioId===Ht.portfolioId&&Ee.units>0);for(const Ee of dt){const We=Ee.currentValue*(Ht.allocationPct/100);qe+=We,U.has(Ee.category)?De+=We:Ee.category==="Hybrid"&&(De+=We*.65)}}const Ze=qe>0?De/qe*100:0,Ke=le<1?30:le<2?50:70;Ze>Ke&&X.push({goalId:Ce.goalId,goalName:Ce.goalName,yearsLeft:le.toFixed(1),equityPct:Math.round(Ze),maxEquity:Ke,excessPct:Math.round(Ze-Ke)})}return X},[R,c,f]);j.useEffect(()=>{const q=new Set(R.filter(Ce=>Ce.status==="Achieved").map(Ce=>Ce.goalId)),X=P.current;for(const Ce of q)if(!X.has(Ce)){const Fe=R.find(le=>le.goalId===Ce);Fe&&(T(Fe),setTimeout(()=>T(null),5e3))}P.current=q},[R]);function ie(q){return q?q.startsWith("PFL-STK-")?"Stock":q.startsWith("INV-")?"Other":"MF":"MF"}const ye=j.useMemo(()=>{const q={};return(h||[]).forEach(X=>{q[X.portfolioId]={name:X.portfolioName?.replace(/^PFL-/,"")||X.portfolioName,value:X.currentValue||0,type:"MF",owner:X.ownerName||""}}),(x||[]).forEach(X=>{q[X.portfolioId]={name:X.portfolioName,value:X.currentValue||0,type:"Stock",owner:X.ownerName||""}}),(v||[]).forEach(X=>{q[X.investmentId]={name:X.investmentName,value:X.currentValue||0,type:"Other",owner:X.familyMemberName||""}}),q},[h,x,v]),re=j.useMemo(()=>{const q=[];return(h||[]).filter(X=>X.status!=="Inactive").forEach(X=>{q.push({id:X.portfolioId,name:X.portfolioName?.replace(/^PFL-/,"")||X.portfolioName,value:X.currentValue||0,type:"MF",owner:X.ownerName||""})}),(x||[]).filter(X=>X.status!=="Inactive").forEach(X=>{q.push({id:X.portfolioId,name:X.portfolioName,value:X.currentValue||0,type:"Stock",owner:X.ownerName||""})}),(v||[]).filter(X=>X.status==="Active").forEach(X=>{q.push({id:X.investmentId,name:X.investmentName,value:X.currentValue||0,type:"Other",owner:X.familyMemberName||""})}),q},[h,x,v]),Me=re.filter(q=>q.type==="MF"),Ve=re.filter(q=>q.type==="Stock"),ge=re.filter(q=>q.type==="Other"),ze=j.useMemo(()=>{const q={};return(c||[]).forEach(X=>{if(X.goalId===O)return;q[X.portfolioId]||(q[X.portfolioId]={total:0,goals:[]}),q[X.portfolioId].total+=X.allocationPct;const Ce=(r||[]).find(Fe=>Fe.goalId===X.goalId);q[X.portfolioId].goals.push({goalName:Ce?.goalName||X.goalId,pct:X.allocationPct})}),q},[c,O,r]),ke=j.useMemo(()=>{const q=[];for(const X of L){const Fe=(ze[X.portfolioId]?.total||0)+(X.allocationPct||0);if(Fe>100){const le=re.find(ot=>ot.id===X.portfolioId);q.push({name:le?.name||X.portfolioId,combined:Fe,excess:Fe-100})}}return q},[L,ze,re]),Ie=ke.length===0;function rt(q){const X=(c||[]).filter(Ce=>Ce.goalId===q).map(Ce=>({portfolioId:Ce.portfolioId,allocationPct:Ce.allocationPct,investmentType:Ce.investmentType||ie(Ce.portfolioId)}));$(X),z(q),J(!1)}function Tt(){z(null),$([]),J(!1)}function kt(q){O===q?Tt():rt(q)}function St(){const q=new Set(L.map(Ce=>Ce.portfolioId)),X=re.find(Ce=>!q.has(Ce.id)&&(ze[Ce.id]?.total||0)<100);X&&($(Ce=>[...Ce,{portfolioId:X.id,allocationPct:0,investmentType:X.type}]),J(!0))}function Mr(q){$(X=>X.filter((Ce,Fe)=>Fe!==q)),J(!0)}function Wt(q,X,Ce){$(Fe=>Fe.map((le,ot)=>{if(ot!==q)return le;if(X==="allocationPct"){const qe=ze[le.portfolioId]?.total||0,De=Math.max(0,100-qe);return{...le,allocationPct:Math.max(0,Math.min(De,Number(Ce)||0))}}if(X==="portfolioId"){const qe=re.find(Ke=>Ke.id===Ce),De=ze[Ce]?.total||0,Ze=Math.max(0,100-De);return{...le,portfolioId:Ce,investmentType:qe?.type||ie(Ce),allocationPct:Math.min(le.allocationPct,Ze)}}return le})),J(!0)}async function ir(){if(Ie){te(!0),S("Saving...");try{await u(O,L.filter(q=>q.allocationPct>0)),g("Allocation updated"),Tt()}catch(q){g(q.message||"Failed to save","error")}finally{y(),te(!1)}}}if(r===null)return a.jsx(di,{title:"Loading goals",cards:5});async function Pt(q){S("Saving...");try{C?.edit?await i(C.edit.goalId,q):await n(q),g(C?.edit?"Goal updated":"Goal added"),k(null)}catch(X){g(X.message||"Failed to save goal","error")}finally{y()}}async function be(){if(C?.edit&&await w("Delete this goal?",{title:"Delete Goal",confirmLabel:"Delete"})){const q=C.edit.goalId,X=(c||[]).filter(Ce=>Ce.goalId===q);S("Deleting...");try{if(await l(q),k(null),X.length>0){const Ce=X.some(Fe=>(c||[]).some(le=>le.portfolioId===Fe.portfolioId&&le.goalId!==q));g(Ce?"Goal deleted  shared allocations freed":"Goal deleted")}else g("Goal deleted")}catch(Ce){g(Ce.message||"Failed to delete goal","error")}finally{y()}}}function Qe(q){return!q.targetAmount||q.targetAmount===0?0:Math.min((q.currentValue||0)/q.targetAmount*100,100)}function G(q){if(!q.targetDate)return null;const Ce=(new Date(q.targetDate)-new Date)/(365.25*24*60*60*1e3);return Ce>0?Ce.toFixed(1):"0"}return a.jsxs("div",{className:"space-y-4",children:[R.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(_d,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No goals set",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>k("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first goal"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[a.jsx(Wo,{label:"Target",value:W(fe),bold:!0}),a.jsx(Wo,{label:"Current Value",value:W(Se),bold:!0}),a.jsx(Wo,{label:"Gap",value:W(Math.max(fe-Se,0)),positive:fe<=Se,bold:!0}),a.jsx(Wo,{label:"Progress",value:`${Q.toFixed(1)}%`,sub:`${R.length} goal${R.length!==1?"s":""}${xe>0?`  ${xe} done`:""}`,positive:Q>=50,bold:!0}),a.jsx(Wo,{label:"Required SIP",value:W(H),sub:ue>0?`${ue} need attention`:"per month"}),a.jsx(Wo,{label:"Required Lumpsum",value:W(B),sub:"one-time today"})]}),D&&a.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-500/10 via-yellow-500/10 to-emerald-500/10 rounded-xl border border-emerald-500/30 px-4 py-3 flex items-center gap-3 animate-fade-in overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((q,X)=>a.jsx("span",{className:"absolute text-sm animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:["","","","",""][X%5]},X))}),a.jsx(UC,{size:20,className:"text-yellow-400 shrink-0 relative z-10"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-sm font-bold text-emerald-400",children:"Goal Achieved!"}),a.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[D.goalName,"  Congratulations!"]})]}),a.jsx("button",{onClick:()=>T(null),className:"ml-auto text-xs text-[var(--text-dim)] hover:text-[var(--text-primary)] relative z-10",children:"Dismiss"})]}),de.length>0&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-amber-500/20 p-4 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(jB,{size:14,className:"text-amber-400"}),a.jsx("p",{className:"text-xs font-bold text-amber-400 uppercase tracking-wider",children:"De-risking Alerts"})]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"These goals are approaching their deadline with high equity exposure. Consider moving funds to debt/liquid for capital protection."}),a.jsx("div",{className:"space-y-1.5",children:de.map(q=>a.jsxs("div",{className:"flex items-center justify-between bg-amber-500/5 rounded-lg px-3 py-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:q.goalName}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[q.yearsLeft," yrs left"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-xs font-bold text-amber-400",children:[q.equityPct,"% equity"]}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Recommended max ",q.maxEquity,"%"]})]})]},q.goalId))})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>k("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Gr,{size:14})," Add Goal"]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:R.map(q=>{const X=Qe(q),Ce=G(q),Fe=O===q.goalId,le=Fe?L:(c||[]).filter(De=>De.goalId===q.goalId),ot=(c||[]).filter(De=>De.goalId===q.goalId).length,qe=le.reduce((De,Ze)=>{const Ke=ye[Ze.portfolioId];return De+(Ke?Ke.value*Ze.allocationPct/100:0)},0);return a.jsxs("div",{className:`bg-[var(--bg-card)] rounded-xl border overflow-hidden transition-colors ${Fe?"border-violet-500/40":"border-[var(--border)]"}`,children:[a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-[var(--text-primary)] truncate",children:q.goalName}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:F(q)}),a.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded ${Zle[q.priority]||""}`,children:q.priority})]})]}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full shrink-0 ${Xle[q.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:q.status})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full transition-all ${Jle[q.status]||"bg-blue-500"}`,style:{width:`${X}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums w-10 text-right",children:[X.toFixed(0),"%"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5 mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Current"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:W(q.currentValue)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Target"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:W(q.targetAmount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Required SIP"}),a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[W(q.monthlyInvestment),"/mo"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Timeline"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:q.status==="Achieved"?"Done":Ce?`${Ce} yrs left`:""})]})]}),a.jsxs("div",{className:"flex items-center gap-1 pt-2 border-t border-[var(--border-light)]",children:[a.jsxs("button",{onClick:De=>{De.stopPropagation(),kt(q.goalId)},className:`flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold rounded-lg transition-colors ${Fe?"bg-violet-500/20 text-violet-400":ot>0?"text-violet-400 hover:bg-violet-500/10":"text-amber-400 hover:bg-amber-500/10"}`,children:[a.jsx(vO,{size:11}),Fe?"Linking...":ot>0?`${ot} linked`:"Link",!Fe&&ot===0&&a.jsx("span",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full animate-pulse"})]}),q.status==="Achieved"&&a.jsxs("button",{onClick:()=>M(q),className:"flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold text-[var(--text-dim)] hover:text-emerald-400 hover:bg-emerald-500/10 rounded-lg transition-colors",children:[a.jsx(uO,{size:11})," Withdraw"]}),a.jsxs("button",{onClick:()=>k({edit:q}),className:"flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-white/5 rounded-lg transition-colors ml-auto",children:[a.jsx(la,{size:11})," Edit"]})]})]}),Fe&&a.jsxs("div",{className:"px-4 pb-4 space-y-2 border-t border-violet-500/20 bg-violet-500/[0.03]",children:[a.jsxs("div",{className:"flex items-center justify-between pt-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ul,{size:12,className:"text-violet-400"}),a.jsx("span",{className:"text-xs font-semibold text-violet-400",children:"Link Investments"})]}),qe>0&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["Linked value: ",W(qe)]})]}),L.map((De,Ze)=>{const Ke=re.find(_e=>_e.id===De.portfolioId),Ht=ze[De.portfolioId],dt=Ht?.total||0,Ee=100-dt,We=dt+(De.allocationPct||0);return a.jsxs("div",{className:`bg-[var(--bg-card)] rounded-lg border p-2.5 space-y-1.5 ${We>100?"border-rose-500/40":"border-[var(--border-light)]"}`,children:[a.jsxs("select",{value:De.portfolioId,onChange:_e=>Wt(Ze,"portfolioId",_e.target.value),className:"w-full px-2 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",children:[Me.length>0&&a.jsx("optgroup",{label:"MF Portfolios",children:Me.map(_e=>{const it=(ze[_e.id]?.total||0)>=100,ne=L.some((Ne,Ue)=>Ue!==Ze&&Ne.portfolioId===_e.id);return a.jsxs("option",{value:_e.id,disabled:ne||it,children:[_e.name,_e.owner?` (${_e.owner})`:"","  ",W(_e.value),it?" (Fully allocated)":""]},_e.id)})}),Ve.length>0&&a.jsx("optgroup",{label:"Stock Portfolios",children:Ve.map(_e=>{const it=(ze[_e.id]?.total||0)>=100,ne=L.some((Ne,Ue)=>Ue!==Ze&&Ne.portfolioId===_e.id);return a.jsxs("option",{value:_e.id,disabled:ne||it,children:[_e.name,_e.owner?` (${_e.owner})`:"","  ",W(_e.value),it?" (Fully allocated)":""]},_e.id)})}),ge.length>0&&a.jsx("optgroup",{label:"Other Investments",children:ge.map(_e=>{const it=(ze[_e.id]?.total||0)>=100,ne=L.some((Ne,Ue)=>Ue!==Ze&&Ne.portfolioId===_e.id);return a.jsxs("option",{value:_e.id,disabled:ne||it,children:[_e.name,_e.owner?` (${_e.owner})`:"","  ",W(_e.value),it?" (Fully allocated)":""]},_e.id)})})]}),dt>0&&a.jsxs("div",{className:`text-[10px] px-2 py-1 rounded ${We>100?"bg-rose-500/10 text-rose-400":"bg-blue-500/10 text-blue-400"}`,children:[Ht.goals.map(_e=>`${_e.goalName} (${_e.pct}%)`).join(", "),"  ",a.jsxs("span",{className:"font-bold",children:["Available: ",Math.max(0,Ee),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Allocation"}),a.jsx("input",{type:"number",value:De.allocationPct,onChange:_e=>Wt(Ze,"allocationPct",_e.target.value),className:"w-16 px-2 py-1 text-xs text-center bg-[var(--bg-input)] border border-[var(--border-input)] rounded-md text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",min:"0",max:Ee}),a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"}),a.jsx("button",{onClick:()=>Mr(Ze),className:"p-1 text-[var(--text-dim)] hover:text-rose-400 rounded transition-colors ml-1",children:a.jsx(lc,{size:12})})]}),Ke&&a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Contributes ",W(Ke.value*De.allocationPct/100)]})]})]},Ze)}),ke.length>0&&a.jsxs("div",{className:"bg-rose-500/10 border border-rose-500/20 rounded-lg px-3 py-2 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx($s,{size:12,className:"text-rose-400 shrink-0"}),a.jsx("span",{className:"text-[10px] font-bold text-rose-400 uppercase",children:"Over-allocated"})]}),ke.map((De,Ze)=>a.jsxs("p",{className:"text-[10px] text-rose-300",children:[De.name,": ",De.combined,"% total (exceeds by ",De.excess,"%)"]},Ze))]}),(()=>{const De=new Set(L.map(Ke=>Ke.portfolioId));return re.some(Ke=>!De.has(Ke.id)&&(ze[Ke.id]?.total||0)<100)&&a.jsxs("button",{onClick:St,className:"flex items-center gap-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[a.jsx(Gr,{size:14})," Link Investment"]})})(),a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:Tt,className:"px-4 py-1.5 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),a.jsx("button",{onClick:ir,disabled:!E||!Ie||Z,className:"px-5 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"})]})]})]},q.goalId)})}),xe>0&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-emerald-500/20 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(UC,{size:14,className:"text-yellow-400"}),a.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Achieved Goals"})]}),a.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-1",children:R.filter(q=>q.status==="Achieved").map(q=>a.jsxs("div",{className:"shrink-0 bg-emerald-500/10 border border-emerald-500/20 rounded-lg px-3 py-2 min-w-[160px]",children:[a.jsx("p",{className:"text-xs font-semibold text-emerald-400",children:q.goalName}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] mt-1",children:W(q.targetAmount)}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:F(q)})]},q.goalId))})]})]}),a.jsx(ur,{open:!!C,onClose:()=>k(null),title:C?.edit?"Edit Goal":"Add Goal",wide:!0,children:a.jsx(Kle,{initial:C?.edit||void 0,onSave:Pt,onDelete:C?.edit?be:void 0,onCancel:()=>k(null)})}),a.jsx(ur,{open:!!A,onClose:()=>M(null),title:`Withdrawal Plan  ${A?.goalName||""}`,wide:!0,children:A&&a.jsx(Qle,{goal:A,onClose:()=>M(null)})})]})}function Wo({label:e,value:t,sub:r,positive:n,bold:i}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${i?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:t}),r&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:r})]})}const toe=[{label:"Family Members",desc:"Manage family profiles",icon:Yl,path:"/family",color:"bg-violet-500/15 text-violet-400"},{label:"Investment Accounts",desc:"Demat & trading accounts",icon:cO,path:"/accounts/investment",color:"bg-blue-500/15 text-blue-400"},{label:"Insurance",desc:"Life & health policies",icon:rc,path:"/insurance",color:"bg-cyan-500/15 text-cyan-400"},{label:"Stocks",desc:"Stock portfolio holdings",icon:ec,path:"/investments/stocks",color:"bg-indigo-500/15 text-indigo-400"},{label:"Other Investments",desc:"FD, PPF, Gold, NPS & more",icon:bO,path:"/investments/other",color:"bg-teal-500/15 text-teal-400"},{label:"Liabilities",desc:"Loans & outstanding balances",icon:Rh,path:"/liabilities",color:"bg-rose-500/15 text-rose-400"},{label:"Reminders",desc:"View and manage reminders",icon:S1,path:"/reminders",color:"bg-amber-500/15 text-[var(--accent-amber)]"}],roe=[{label:"Health Check",desc:"Financial health questionnaire",icon:sy,path:"/health-check",color:"bg-emerald-500/15 text-emerald-400"},{label:"Settings",desc:"App configuration",icon:jO,path:"/settings",color:"bg-slate-500/15 text-[var(--text-muted)]"},{label:"About",desc:"Capital Friends v2.0",icon:Uz,path:"/about",color:"bg-violet-500/15 text-[var(--accent-violet)]"}];function KE({item:e,onClick:t}){return a.jsxs("button",{onClick:t,className:"w-full flex items-center gap-3 bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-3.5 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[a.jsx("div",{className:`w-9 h-9 rounded-lg flex items-center justify-center shrink-0 ${e.color}`,children:a.jsx(e.icon,{size:17})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:e.label}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:e.desc})]}),a.jsx(ga,{size:14,className:"text-[var(--text-dim)] shrink-0"})]})}function noe(){const e=Gs(),[t,r]=j.useState(!1);return a.jsxs("div",{className:"space-y-5",children:[a.jsx("h1",{className:"text-base font-bold text-[var(--text-primary)]",children:"More"}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-dim)] px-1",children:"Navigate"}),a.jsx("div",{className:"space-y-1.5",children:toe.map(n=>a.jsx(KE,{item:n,onClick:()=>e(n.path)},n.label))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-dim)] px-1",children:"Tools & Settings"}),a.jsx("div",{className:"space-y-1.5",children:roe.map(n=>a.jsx(KE,{item:n,onClick:()=>e(n.path)},n.label))})]}),a.jsx("button",{onClick:()=>r(!0),className:"w-full text-left bg-gradient-to-r from-pink-500/10 via-violet-500/10 to-pink-500/10 rounded-xl border border-pink-500/25 p-4 hover:from-pink-500/15 hover:via-violet-500/15 hover:to-pink-500/15 transition-colors",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shrink-0 bg-pink-500/20 text-pink-400",children:a.jsx(Ed,{size:20})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-pink-400",children:"Support Developer"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:"Help maintain this app with a small donation"})]}),a.jsx(ga,{size:14,className:"text-pink-400/60 shrink-0"})]})}),a.jsx(DI,{open:t,onClose:()=>r(!1)})]})}const tp=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function aoe(){const e=Gs(),{theme:t,toggle:r}=aO(),{members:n,settings:i,updateSettings:l,updateMember:c,healthCheckCompleted:u}=ht(),{user:f,signOut:m}=eo(),{masked:h,toggleMask:x,mv:v}=Da(),g=n.filter(te=>te.status==="Active"),[S,y]=j.useState("Daily"),[w,C]=j.useState("09"),[k,A]=j.useState("Monday"),[M,D]=j.useState(!1),[T,P]=j.useState(!1),[O,z]=j.useState(!1),[L,$]=j.useState(null);j.useEffect(()=>{!i||!Object.keys(i).length||(i.EmailFrequency&&y(i.EmailFrequency),i.EmailHour!=null&&C(String(i.EmailHour).padStart(2,"0")),i.EmailDayOfWeek!=null&&A(tp[Number(i.EmailDayOfWeek)]||"Monday"))},[i]);async function E(){D(!0),P(!1);try{const te=tp.indexOf(k);await l({EmailFrequency:S==="None"?"None":S,EmailConfigured:S==="None"?"FALSE":"TRUE",EmailHour:String(parseInt(w,10)),EmailMinute:"0",EmailDayOfWeek:String(te>=0?te:1)}),P(!0),setTimeout(()=>P(!1),2e3)}catch(te){alert("Failed to save: "+te.message)}finally{D(!1)}}async function J(){z(!0),$(null);try{const te=await jF();$(te)}catch(te){$({error:te.message})}finally{z(!1)}}function Z(te){if(!te)return"Never";try{const R=new Date(te);if(isNaN(R.getTime()))return"Unknown";const F=Date.now(),fe=Math.floor((F-R.getTime())/(1e3*60));if(fe<1)return"Just now";if(fe<60)return fe+" min ago";const Se=Math.floor(fe/60);return Se<24?Se+"h ago":R.toLocaleDateString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}}return a.jsxs("div",{className:"space-y-4 max-w-xl mx-auto",children:[a.jsxs(Sl,{children:[a.jsx(Cl,{icon:a.jsx(PB,{size:14}),title:"Account"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(En,{label:"Signed in as",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate max-w-[200px]",children:v(f?.email,"email")||""})}),a.jsx(En,{label:"Name",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:f?.name||""})}),a.jsx("div",{className:"pt-1",children:a.jsxs("button",{onClick:m,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-red-500 border border-red-200 dark:border-red-800/40 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[a.jsx(gO,{size:12}),"Sign Out"]})})]})]}),a.jsxs(Sl,{children:[a.jsx(Cl,{icon:a.jsx(sy,{size:14}),title:"Financial Health Check"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(En,{label:"Status",children:a.jsx("span",{className:`text-xs font-semibold ${u?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:u?"Completed":"Not completed"})}),a.jsx("div",{className:"flex justify-end pt-1",children:a.jsxs("button",{onClick:()=>e("/health-check"),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(sy,{size:12}),u?"Update Answers":"Take Health Check"]})})]})]}),a.jsxs(Sl,{children:[a.jsx(Cl,{icon:a.jsx(jz,{size:14}),title:"Data & Sync"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(En,{label:"Last synced",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:Z(i.masterDataLastSync)}),i._stale&&a.jsx("span",{className:"text-[10px] font-bold text-amber-600 px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30",children:"STALE"})]})}),i._navDataDate&&a.jsx(En,{label:"NAV data as of",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:i._navDataDate})}),a.jsx(En,{label:"Auto-refresh",children:a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Daily at ~6:30 AM"})}),a.jsxs("div",{className:"flex items-center justify-between pt-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Refresh MF NAVs, ATH & Stock prices"}),a.jsxs("button",{onClick:J,disabled:O,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg bg-violet-600 text-white hover:bg-violet-500 transition-colors disabled:opacity-50",children:[a.jsx(tc,{size:12,className:O?"animate-spin":""}),O?"Refreshing...":"Refresh Now"]})]}),L&&a.jsx("div",{className:`text-xs px-3 py-2 rounded-lg ${L.error?"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400":"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400"}`,children:L.error?"Failed: "+L.error:`Done  MF: ${L.mf?.count||0} | ATH: ${L.ath?.count||0} | Stocks: ${L.stocks?.count||0} (${L.duration})`})]})]}),a.jsxs(Sl,{children:[a.jsx(Cl,{icon:a.jsx(kp,{size:14}),title:"Appearance"}),a.jsx("div",{className:"px-4 py-4",children:a.jsx(En,{label:"Theme",children:a.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[t==="dark"?a.jsx(iy,{size:12}):a.jsx(kp,{size:12}),t==="dark"?"Dark":"Light"]})})})]}),a.jsxs(Sl,{children:[a.jsx(Cl,{icon:a.jsx(C1,{size:14}),title:"Email Reports"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(En,{label:"Frequency",children:a.jsx(ey,{value:S,onChange:y,options:["Daily","Weekly","Monthly","None"]})}),S!=="None"&&a.jsx(En,{label:"Send time",children:a.jsx(ey,{value:w,onChange:C,options:Array.from({length:24},(te,R)=>String(R).padStart(2,"0")),suffix:":00"})}),S==="Weekly"&&a.jsx(En,{label:"Day",children:a.jsx(ey,{value:k,onChange:A,options:tp.slice(1).concat(tp[0])})}),a.jsx("div",{className:"flex justify-end pt-1",children:a.jsx("button",{onClick:E,disabled:M,className:"px-4 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:M?"Saving...":T?"Saved!":"Save"})}),g.length>0&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Send report to"}),a.jsx("div",{className:"space-y-2",children:g.map(te=>a.jsx(ioe,{member:te,onToggle:c},te.memberId))})]})}),g.length===0&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] pt-1",children:"Add family members to configure email recipients."})]})]}),a.jsxs(Sl,{children:[a.jsx(Cl,{icon:a.jsx(id,{size:14}),title:"Privacy"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(En,{label:"Mask sensitive data",children:a.jsx("button",{onClick:x,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 ${h?"bg-amber-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:a.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${h?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[h?"Sensitive data is hidden. ":"","Masks PAN, Aadhaar, mobile, email, account numbers, client IDs, and policy numbers across the app. Use the ",h?a.jsx(id,{size:11,className:"inline text-amber-400"}):a.jsx(Ap,{size:11,className:"inline"})," icon in the header to quickly toggle."]}),h&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[a.jsx(id,{size:14,className:"text-amber-400 shrink-0"}),a.jsx("p",{className:"text-xs text-amber-400 font-medium",children:"Data masking is active  safe for screen sharing"})]})]})]}),a.jsxs(Sl,{children:[a.jsx(Cl,{icon:a.jsx(hO,{size:14}),title:"Display"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(En,{label:"Currency",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"INR ()"})}),a.jsx(En,{label:"Date format",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"DD/MM/YYYY"})})]})]})]})}function Sl({children:e}){return a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:e})}function Cl({icon:e,title:t}){return a.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[var(--text-muted)]",children:e}),a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:t})]})})}function En({label:e,children:t}){return a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] shrink-0",children:e}),t]})}function ey({value:e,onChange:t,options:r,suffix:n}){return a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:e,onChange:i=>t(i.target.value),className:"appearance-none pl-3 pr-7 py-1.5 text-xs font-semibold bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-violet-500 cursor-pointer",children:r.map(i=>a.jsxs("option",{value:i,children:[i,n||""]},i))}),a.jsx(Ul,{size:10,className:"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function ioe({member:e,onToggle:t}){const{mv:r}=Da(),n=e.includeInEmailReports==="Yes"||e.includeInEmailReports===!0,[i,l]=j.useState(!1);async function c(){l(!0);try{await t(e.memberId,{...e,includeInEmailReports:n?"No":"Yes"})}catch{}finally{l(!1)}}return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center shrink-0",children:a.jsx("span",{className:"text-[10px] font-bold text-violet-600",children:e.memberName?.charAt(0)?.toUpperCase()})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:r(e.memberName,"name")}),e.email&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] truncate",children:r(e.email,"email")})]})]}),a.jsx("button",{onClick:c,disabled:i,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 disabled:opacity-50 ${n?"bg-violet-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:a.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${n?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})]})}const soe=["SIP Due Date","Insurance Renewal","FD Maturity","Loan EMI","Investment Review","Custom"].map(e=>({value:e,label:e})),loe=[{value:"One-time",label:"One-time"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],ooe=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}];function coe({initial:e,onSave:t,onDelete:r,onCancel:n}){const i=!!e,{activeMembers:l}=ht(),c=l.map(w=>({value:w.memberId,label:w.memberName})),[u,f]=j.useState({reminderType:e?.reminderType||"",title:e?.title||"",description:e?.description||"",familyMemberId:e?.familyMemberId||"",dueDate:e?.dueDate||"",advanceNoticeDays:e?.advanceNoticeDays?.toString()||"7",frequency:e?.frequency||"One-time",priority:e?.priority||"Medium",status:e?.status||"Pending"}),[m,h]=j.useState({}),[x,v]=j.useState(!1);function g(w,C){f(k=>({...k,[w]:C})),h(k=>({...k,[w]:void 0}))}function S(){const w={};return u.reminderType||(w.reminderType="Required"),u.title.trim()||(w.title="Required"),u.familyMemberId||(w.familyMemberId="Required"),u.dueDate||(w.dueDate="Required"),h(w),Object.keys(w).length===0}async function y(){if(S()){v(!0);try{await t({...u,advanceNoticeDays:Number(u.advanceNoticeDays)||7})}finally{v(!1)}}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Reminder Type",required:!0,error:m.reminderType,children:a.jsx(et,{value:u.reminderType,onChange:w=>g("reminderType",w),options:soe,placeholder:"Select type..."})}),a.jsx(pe,{label:"Title",required:!0,error:m.title,children:a.jsx(Re,{value:u.title,onChange:w=>g("title",w),placeholder:"e.g., HDFC SIP Due"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(pe,{label:"Family Member",required:!0,error:m.familyMemberId,children:a.jsx(et,{value:u.familyMemberId,onChange:w=>g("familyMemberId",w),options:c,placeholder:"Select member..."})}),a.jsx(pe,{label:"Due Date",required:!0,error:m.dueDate,children:a.jsx(Na,{value:u.dueDate,onChange:w=>g("dueDate",w),maxDate:null})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(pe,{label:"Frequency",children:a.jsx(et,{value:u.frequency,onChange:w=>g("frequency",w),options:loe})}),a.jsx(pe,{label:"Priority",children:a.jsx(et,{value:u.priority,onChange:w=>g("priority",w),options:ooe})}),a.jsx(pe,{label:"Advance Notice (days)",children:a.jsx(Re,{type:"number",value:u.advanceNoticeDays,onChange:w=>g("advanceNoticeDays",w),placeholder:"7"})})]}),i&&a.jsx(pe,{label:"Status",children:a.jsx(et,{value:u.status,onChange:w=>g("status",w),options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"}]})}),a.jsx(pe,{label:"Description",children:a.jsx(jc,{value:u.description,onChange:w=>g("description",w),placeholder:"Optional details...",rows:2})}),a.jsxs("div",{className:"flex items-center justify-between",children:[i&&r?a.jsx(ns,{onClick:r,label:"Delete"}):a.jsx("div",{}),a.jsx(ln,{onCancel:n,onSubmit:y,submitLabel:i?"Update Reminder":"Add Reminder",loading:x})]})]})}const rp={"SIP Due Date":"bg-violet-500/15 text-[var(--accent-violet)]","Insurance Renewal":"bg-amber-500/15 text-[var(--accent-amber)]","FD Maturity":"bg-blue-500/15 text-[var(--accent-blue)]","Loan EMI":"bg-rose-500/15 text-[var(--accent-rose)]","Investment Review":"bg-emerald-500/15 text-emerald-400",Custom:"bg-slate-500/15 text-[var(--text-muted)]"},QE={High:"bg-rose-500",Medium:"bg-amber-500",Low:"bg-blue-500"};function Ko(e){if(!e)return 1/0;const t=new Date(e)-new Date;return Math.ceil(t/(1440*60*1e3))}function uoe(){const{selectedMember:e,member:t}=Lr(),{reminderList:r,addReminder:n,updateReminder:i,deleteReminder:l}=ht(),{showToast:c,showBlockUI:u,hideBlockUI:f}=li(),m=oi(),[h,x]=j.useState(null),v=j.useMemo(()=>{const M=r.filter(D=>D.isActive!==!1);return e==="all"?M:M.filter(D=>D.familyMemberId===e)},[r,e]),g=v.filter(M=>Ko(M.dueDate)<0).length,S=v.filter(M=>{const D=Ko(M.dueDate);return D>=0&&D<=7}).length,y=v.filter(M=>{const D=Ko(M.dueDate);return D>7&&D<=30}).length,w=[...v].sort((M,D)=>{const T=Ko(M.dueDate),P=Ko(D.dueDate);return T-P});async function C(M){u("Saving...");try{h?.edit?await i(h.edit.reminderId,M):await n(M),c(h?.edit?"Reminder updated":"Reminder added"),x(null)}catch(D){c(D.message||"Failed to save reminder","error")}finally{f()}}async function k(){if(h?.edit&&await m("Delete this reminder?",{title:"Delete Reminder",confirmLabel:"Delete"})){u("Deleting...");try{await l(h.edit.reminderId),c("Reminder deleted"),x(null)}catch(M){c(M.message||"Failed to delete reminder","error")}finally{f()}}}function A(M){const D=Ko(M);return D<0?{label:`${Math.abs(D)}d overdue`,cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:D===0?{label:"Today",cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:D<=7?{label:`${D}d`,cls:"bg-amber-500/20 text-[var(--accent-amber)]"}:D<=30?{label:`${D}d`,cls:"bg-blue-500/20 text-[var(--accent-blue)]"}:{label:`${D}d`,cls:"bg-slate-500/20 text-[var(--text-muted)]"}}return a.jsxs("div",{className:"space-y-4",children:[v.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(QF,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No reminders",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a reminder"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(np,{label:"Active",value:v.length}),g>0&&a.jsx(np,{label:"Overdue",value:g,color:"rose"}),S>0&&a.jsx(np,{label:"Due This Week",value:S,color:"amber"}),a.jsx(np,{label:"Next 30 Days",value:y})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Gr,{size:14})," Add Reminder"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[680px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Reminder"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Due Date"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Frequency"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:w.map(M=>{const D=A(M.dueDate);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${QE[M.priority]||"bg-slate-400"}`}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.title}),M.description&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[200px]",children:M.description})]})]})}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${rp[M.reminderType]||rp.Custom}`,children:M.reminderType})}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:M.dueDate}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${D.cls}`,children:D.label})]})}),a.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)]",children:M.frequency}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${M.status==="Pending"?"bg-amber-500/15 text-[var(--accent-amber)]":"bg-emerald-500/15 text-emerald-400"}`,children:M.status})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>x({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(la,{size:12})})})]},M.reminderId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:w.map(M=>{const D=A(M.dueDate);return a.jsxs("div",{onClick:()=>x({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${QE[M.priority]||"bg-slate-400"}`}),a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:M.title})]}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ml-2 ${rp[M.reminderType]||rp.Custom}`,children:M.reminderType})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.familyMemberName,"  ",M.frequency]}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${D.cls}`,children:D.label})]})]},M.reminderId)})})]})]}),a.jsx(ur,{open:!!h,onClose:()=>x(null),title:h?.edit?"Edit Reminder":"Add Reminder",wide:!0,children:a.jsx(coe,{initial:h?.edit||void 0,onSave:C,onDelete:h?.edit?k:void 0,onCancel:()=>x(null)})})]})}function np({label:e,value:t,color:r}){const n=r==="rose"?"text-[var(--accent-rose)]":r==="amber"?"text-[var(--accent-amber)]":"text-[var(--text-primary)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm font-bold tabular-nums ${n}`,children:t})]})}const XE={BUY:"bg-emerald-500/15 text-emerald-400",SELL:"bg-rose-500/15 text-[var(--accent-rose)]"},doe={INITIAL:"bg-violet-500/15 text-[var(--accent-violet)]",SIP:"bg-blue-500/15 text-[var(--accent-blue)]",LUMPSUM:"bg-emerald-500/15 text-emerald-400",WITHDRAWAL:"bg-amber-500/15 text-[var(--accent-amber)]",SWITCH:"bg-orange-500/15 text-[var(--accent-orange)]"};function foe(){const{selectedMember:e}=Lr(),{mfTransactions:t,mfPortfolios:r,stockTransactions:n,stockPortfolios:i}=ht(),[l,c]=j.useState("mf"),[u,f]=j.useState("all"),m=j.useMemo(()=>{let y=[...t].sort((w,C)=>new Date(C.date)-new Date(w.date));if(e!=="all"){const w=new Set(r.filter(C=>C.ownerId===e).map(C=>C.portfolioId));y=y.filter(C=>w.has(C.portfolioId))}return u!=="all"&&(y=y.filter(w=>w.type===u)),y},[t,r,e,u]),h=j.useMemo(()=>{let y=[...n].sort((w,C)=>new Date(C.date)-new Date(w.date));if(e!=="all"){const w=new Set(i.filter(C=>C.ownerId===e).map(C=>C.portfolioId));y=y.filter(C=>w.has(C.portfolioId))}return u!=="all"&&(y=y.filter(w=>w.type===u)),y},[n,i,e,u]),x=l==="mf"?m:h,v=x.filter(y=>y.type==="BUY").reduce((y,w)=>y+(w.totalAmount||0),0),g=x.filter(y=>y.type==="SELL").reduce((y,w)=>y+(w.totalAmount||0),0),S=x.reduce((y,w)=>y+(w.gainLoss||w.realizedPL||0),0);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(ap,{label:"Transactions",value:x.length}),a.jsx(ap,{label:"Total Bought",value:W(v)}),a.jsx(ap,{label:"Total Sold",value:W(g)}),a.jsx(ap,{label:"Realized P&L",value:`${S>=0?"+":""}${W(Math.abs(S))}`,positive:S>=0,bold:!0})]}),a.jsxs("div",{className:"flex items-center justify-between px-1",children:[a.jsx("div",{className:"flex gap-1",children:["mf","stocks"].map(y=>a.jsx("button",{onClick:()=>c(y),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${l===y?"bg-violet-500/20 text-violet-400 border border-violet-500/30":"text-[var(--text-dim)] hover:text-[var(--text-primary)] border border-transparent"}`,children:y==="mf"?"Mutual Funds":"Stocks"},y))}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(pO,{size:12,className:"text-[var(--text-dim)]"}),["all","BUY","SELL"].map(y=>a.jsx("button",{onClick:()=>f(y),className:`px-2 py-1 text-xs font-semibold rounded transition-colors ${u===y?"bg-[var(--bg-card)] text-[var(--text-primary)] border border-[var(--border)]":"text-[var(--text-dim)] hover:text-[var(--text-muted)]"}`,children:y==="all"?"All":y},y))]})]}),a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:x.length===0?a.jsxs("div",{className:"py-12 flex flex-col items-center gap-3",children:[a.jsx(Iz,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions found"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:l==="mf"?"Fund":"Stock"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Portfolio"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:l==="mf"?"Units":"Qty"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:l==="mf"?"NAV":"Price"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"})]})}),a.jsx("tbody",{children:x.map(y=>{const w=y.gainLoss||y.realizedPL||0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-muted)] tabular-nums",children:y.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${XE[y.type]||""}`,children:y.type}),y.transactionType&&a.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${doe[y.transactionType]||""}`,children:y.transactionType})]})}),a.jsxs("td",{className:"py-2.5 px-3",children:[y.fundName?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:Le(y.fundName).main}),Le(y.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(y.fundName).plan})]}):a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:y.companyName}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:y.fundCode||y.symbol})]}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)]",children:y.portfolioName||""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:(y.units||y.quantity||0).toFixed(l==="mf"?2:0)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:W(y.price||y.pricePerShare||0)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:W(y.totalAmount||0)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:w!==0?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${w>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[w>=0?"+":"",W(Math.abs(w))]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},y.transactionId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:x.map(y=>(y.gainLoss||y.realizedPL,a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("div",{className:"flex-1 min-w-0 mr-2",children:y.fundName?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:Le(y.fundName).main}),Le(y.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(y.fundName).plan})]}):a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:y.companyName})}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded shrink-0 ${XE[y.type]||""}`,children:y.type})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[y.date,"  ",y.portfolioName]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[(y.units||y.quantity||0).toFixed(l==="mf"?2:0)," @ ",W(y.price||y.pricePerShare||0)]}),a.jsx("span",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:W(y.totalAmount||0)})]})]},y.transactionId)))})]})})]})}function ap({label:e,value:t,positive:r,bold:n}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${n?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t})]})}const Ha=[{id:"healthIns",question:"Does your family have Health Insurance?",tip:"50L to 1Cr family floater recommended (considering inflation & future expenses)",category:"Insurance",autoFromPolicies:!0},{id:"termLife",question:"Do you have adequate Term Life Insurance?",tip:"Recommended: 10-15x annual income",category:"Insurance",autoFromPolicies:!0},{id:"emergencyFund",question:"Do you have an Emergency Fund?",tip:"6-12 months of monthly expenses in liquid assets",category:"Savings"},{id:"familyAware",question:"Is your family aware of all investments?",tip:"Ensure nominees and family know about all assets",category:"Planning"},{id:"hasWill",question:"Do you have a Will?",tip:"Legal document for asset distribution",category:"Planning"},{id:"nominees",question:"Have you updated Nominees on all accounts?",tip:"Bank, demat, insurance, MF  all should have nominees",category:"Planning"},{id:"goals",question:"Do you have clearly defined Financial Goals?",tip:"Retirement, education, home  with target amounts and dates",category:"Goals"}];function moe(){const e=Gs(),{members:t,insurancePolicies:r,goalList:n,otherInvList:i,healthCheckCompleted:l,completeHealthCheck:c}=ht(),u=t.filter(L=>L.status==="Active"),f=l===!1,[m,h]=j.useState(!1),[x,v]=j.useState(!0),[g,S]=j.useState(null),y=j.useMemo(()=>{const L={},$=r.filter(te=>te.policyType==="Health"&&te.status==="Active");L.healthIns=$.length>0;const E=r.filter(te=>te.policyType==="Term Life"&&te.status==="Active");L.termLife=E.length>0;const J=n.filter(te=>te.goalType==="Emergency Fund"&&te.isActive),Z=i.filter(te=>te.investmentType==="FD"||te.investmentType==="PPF");return L.emergencyFund=J.length>0||Z.length>0,L.goals=n.filter(te=>te.isActive).length>=2,L},[r,n,i]);j.useEffect(()=>{let L=!1;async function $(){const E=await eO("healthCheckAnswers");!L&&E&&(S(E),v(!1));try{const J=await J_();!L&&J&&(S(J),tn("healthCheckAnswers",J))}catch{}L||v(!1)}return $(),()=>{L=!0}},[]);const[w,C]=j.useState(()=>{const L={};return Ha.forEach($=>{L[$.id]=$.autoFromPolicies?y[$.id]?"yes":"no":y[$.id]?"yes":""}),L});j.useEffect(()=>{g&&C(L=>{const $={...L};return Ha.forEach(E=>{if(E.autoFromPolicies)$[E.id]=y[E.id]?"yes":"no";else{const J=g[E.id];J==="Yes"?$[E.id]="yes":J==="No"&&($[E.id]="no")}}),$})},[g,y]);const k=Object.values(w).filter(L=>L).length,A=Object.values(w).filter(L=>L==="yes").length,M=k===Ha.length,D=k>0?Math.round(A/Ha.length*100):0;function T(){return D>=80?"text-emerald-400":D>=50?"text-[var(--accent-amber)]":"text-[var(--accent-rose)]"}function P(){return D>=80?"Excellent":D>=60?"Good":D>=40?"Needs Work":"Critical"}const O=j.useMemo(()=>{const L=[];return w.healthIns!=="yes"&&L.push({severity:"critical",text:"Get Health Insurance for your family",action:"Minimum 5L cover recommended"}),w.termLife!=="yes"&&L.push({severity:"critical",text:"Get Term Life Insurance (10-15x annual income)",action:"Compare plans online"}),w.emergencyFund!=="yes"&&L.push({severity:"warning",text:"Build an Emergency Fund",action:"Save 6-12 months expenses in liquid fund/FD"}),w.familyAware!=="yes"&&L.push({severity:"warning",text:"Share investment details with family",action:"Create a document with all account info"}),w.hasWill!=="yes"&&L.push({severity:"warning",text:"Create a legal Will",action:"Consult a lawyer for Will registration"}),w.nominees!=="yes"&&L.push({severity:"warning",text:"Update nominees on all accounts",action:"Check bank, demat, insurance, MF accounts"}),w.goals!=="yes"&&L.push({severity:"info",text:"Define clear financial goals",action:"Use the Goal Planner to set targets"}),L},[w]),z=j.useCallback(async()=>{if(M){h(!0);try{const L={};Ha.forEach($=>{L[$.id]=w[$.id]==="yes"?"Yes":"No"}),L.score=A,L.total=Ha.length,await c(L),e("/dashboard")}catch(L){console.error("Failed to save health check:",L)}finally{h(!1)}}},[M,w,A,c,e]);return a.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[f&&a.jsxs("div",{className:"bg-violet-500/10 border border-violet-500/20 rounded-xl p-4",children:[a.jsx("h2",{className:"text-base font-bold text-violet-400 mb-1",children:"Welcome to Capital Friends!"}),a.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Before you start, please complete this quick Financial Health Check. It takes less than a minute and helps you understand where your family stands financially."})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fO,{size:16,className:"text-violet-400"}),a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:"Financial Health Score"})]}),a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[k,"/",Ha.length," answered"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative w-20 h-20",children:[a.jsxs("svg",{className:"w-20 h-20 -rotate-90",viewBox:"0 0 36 36",children:[a.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"var(--border)",strokeWidth:"3"}),a.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${D}, 100`,className:T(),strokeLinecap:"round"})]}),a.jsxs("span",{className:`absolute inset-0 flex items-center justify-center text-lg font-bold ${T()}`,children:[D,"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-base font-bold ${T()}`,children:P()}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:[A," of ",Ha.length," checks passed"]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[u.length," family members tracked"]})]})]})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Health Check Questions"})}),a.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:Ha.map((L,$)=>{const E=L.autoFromPolicies;return a.jsxs("div",{className:`px-4 py-3 ${E?"opacity-80":""}`,children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-sm text-[var(--text-primary)]",children:[a.jsxs("span",{className:"text-[var(--text-dim)] mr-2",children:[$+1,"."]}),L.question]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5 ml-5",children:L.tip})]}),a.jsxs("div",{className:"flex gap-1 shrink-0",children:[a.jsx("button",{onClick:()=>!E&&C(J=>({...J,[L.id]:"yes"})),disabled:E,className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${w[L.id]==="yes"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"} ${E?"cursor-not-allowed":""}`,children:"Yes"}),a.jsx("button",{onClick:()=>!E&&C(J=>({...J,[L.id]:"no"})),disabled:E,className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${w[L.id]==="no"?"bg-rose-500/20 text-[var(--accent-rose)] border border-rose-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"} ${E?"cursor-not-allowed":""}`,children:"No"})]})]}),E&&a.jsx("p",{className:"text-xs text-violet-400 mt-1 ml-5",children:y[L.id]?"Auto-detected: policy found in your data":"Auto-set: add a policy under Insurance to update"})]},L.id)})})]}),O.length>0&&M&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Recommendations"})}),a.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:O.map((L,$)=>{const E=L.severity==="critical"?a.jsx(dO,{size:14,className:"text-[var(--accent-rose)]"}):L.severity==="warning"?a.jsx($s,{size:14,className:"text-[var(--accent-amber)]"}):a.jsx(fz,{size:14,className:"text-[var(--accent-blue)]"});return a.jsxs("div",{className:"flex items-start gap-3 px-4 py-3",children:[a.jsx("span",{className:"shrink-0 mt-0.5",children:E}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-[var(--text-primary)]",children:L.text}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:L.action})]})]},$)})})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[!M&&a.jsxs("p",{className:"text-xs text-[var(--accent-amber)] mb-3",children:["Please answer all ",Ha.length," questions before saving."]}),a.jsx("button",{onClick:z,disabled:!M||m,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-bold transition-colors ${M&&!m?"bg-violet-600 hover:bg-violet-500 text-white":"bg-[var(--bg-inset)] text-[var(--text-dim)] cursor-not-allowed"}`,children:m?a.jsxs(a.Fragment,{children:[a.jsx(od,{size:16,className:"animate-spin"}),"Saving..."]}):f?a.jsxs(a.Fragment,{children:["Save & Continue to Dashboard",a.jsx(VF,{size:16})]}):a.jsxs(a.Fragment,{children:[a.jsx(yO,{size:16}),"Update Health Check"]})})]})]})}const poe=[{icon:ec,color:"text-violet-400 bg-violet-500/15",text:"Track Mutual Funds, Stocks & Other Investments"},{icon:Yl,color:"text-blue-400 bg-blue-500/15",text:"Family member-wise portfolio management"},{icon:_d,color:"text-emerald-400 bg-emerald-500/15",text:"Goal planning with portfolio mapping"},{icon:rc,color:"text-cyan-400 bg-cyan-500/15",text:"Insurance, Liabilities & Bank Accounts"},{icon:CB,color:"text-amber-400 bg-amber-500/15",text:"ATH-based Buy Opportunities & Smart Rebalancing"},{icon:C1,color:"text-rose-400 bg-rose-500/15",text:"Email reports, Reminders & Financial Health Check"}];function hoe(){return a.jsxs("div",{className:"space-y-4 max-w-lg mx-auto",children:[a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-6 text-center",children:[a.jsx("img",{src:"/logo-new.png",alt:"Capital Friends",className:"h-16 w-auto mx-auto mb-3"}),a.jsxs("h1",{className:"text-lg font-bold text-[var(--text-primary)]",style:{fontFamily:"'Poppins', sans-serif"},children:[a.jsx("span",{children:"Capital"}),a.jsx("span",{className:"text-emerald-400",children:"Friends"})]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"Family Portfolio Manager"}),a.jsxs("div",{className:"flex items-center justify-center gap-3 mt-3",children:[a.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg text-[11px] font-semibold bg-violet-500/10 text-violet-400",children:"v2.0"}),a.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg text-[11px] font-medium bg-emerald-500/10 text-emerald-400",children:"Open Source"})]})]}),a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:a.jsx("p",{className:"text-[13px] text-[var(--text-secondary)] leading-relaxed",children:"Capital Friends helps Indian families track, manage, and grow their wealth  all from a single Google Sheet powered by a modern web app."})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Features"})}),a.jsx("div",{className:"px-4 py-3 space-y-3",children:poe.map(e=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-7 h-7 rounded-lg flex items-center justify-center shrink-0 ${e.color}`,children:a.jsx(e.icon,{size:14})}),a.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:e.text})]},e.text))})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Links & Feedback"})}),a.jsxs("div",{className:"divide-y divide-[var(--border-light)]",children:[a.jsxs("a",{href:"https://github.com/jagadeeshkmanne/capital-friends",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center shrink-0 bg-slate-500/15 text-[var(--text-muted)]",children:a.jsx(Fz,{size:17})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:"GitHub Repository"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"View source code and contribute"})]}),a.jsx(ga,{size:14,className:"text-[var(--text-dim)] shrink-0"})]}),a.jsxs("a",{href:"https://capitalfriends.in",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center shrink-0 bg-emerald-500/15 text-emerald-400",children:a.jsx(hO,{size:17})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:"capitalfriends.in"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"Official website"})]}),a.jsx(ga,{size:14,className:"text-[var(--text-dim)] shrink-0"})]}),a.jsxs("a",{href:"https://github.com/jagadeeshkmanne/capital-friends/issues/new?labels=enhancement&template=feature_request.md&title=%5BFeature%5D+",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center shrink-0 bg-violet-500/15 text-violet-400",children:a.jsx(iB,{size:17})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:"Request a Feature"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"Suggest new features or improvements"})]}),a.jsx(ga,{size:14,className:"text-[var(--text-dim)] shrink-0"})]}),a.jsxs("a",{href:"https://github.com/jagadeeshkmanne/capital-friends/issues/new?labels=bug&template=bug_report.md&title=%5BBug%5D+",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center shrink-0 bg-rose-500/15 text-rose-400",children:a.jsx(ez,{size:17})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:"Report a Bug"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"Found something wrong? Let us know"})]}),a.jsx(ga,{size:14,className:"text-[var(--text-dim)] shrink-0"})]})]})]}),a.jsxs("div",{className:"text-center py-3",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Built with ",a.jsx(Ed,{size:10,className:"inline text-pink-400 mx-0.5"})," by Jagadeesh Manne"]}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-1",children:"React + Vite + Tailwind CSS + Google Apps Script"})]})]})}function xoe(){return Date.now().toString(36).toUpperCase()}function voe(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=r=>Array.from({length:r},()=>e[Math.floor(Math.random()*26)]).join("");return t(5)+Math.floor(1e3+Math.random()*9e3)+t(1)}function goe(){return String(Math.floor(2e11+Math.random()*8e11))}function ZE(){return"9"+String(Math.floor(1e8+Math.random()*9e8))}function boe(){return String(Math.floor(1e9+Math.random()*9e9))}function yoe(){const e=xoe();return{member:{memberName:`Test Member ${e}`,relationship:"Self",pan:voe(),aadhar:goe(),email:`test-${e.toLowerCase()}@example.com`,mobile:ZE(),includeInEmailReports:!0},bank:{accountName:`Test Savings ${e}`,bankName:"Test Bank",accountNumber:boe(),ifscCode:"TEST0001234",accountType:"Savings",branchName:"Test Branch"},investmentAccount:{accountName:`Test Demat ${e}`,accountType:"Demat",platformBroker:"Test Broker Platform",accountClientId:`CLI-${e}`,registeredEmail:`test-${e.toLowerCase()}@example.com`,registeredPhone:ZE()},insurance:{policyType:"Term Life",company:"Test Insurance Co",policyNumber:`POL-${e}`,policyName:`Test Term Plan ${e}`,sumAssured:5e6,nominee:"Test Nominee",dynamicFields:{Premium:15e3,"Premium Frequency":"Annual"}},liability:{liabilityType:"Home Loan",lenderName:"Test Bank",outstandingBalance:45e5,dynamicFields:{"Principal Amount":5e6,"Interest Rate":8.5,"EMI Amount":45e3},notes:`Test liability ${e}`},otherInvestment:{investmentType:"Fixed Deposit",investmentName:`Test FD ${e}`,investedAmount:1e5,currentValue:105e3,investmentCategory:"Debt"},stockPortfolio:{portfolioName:`Test Stock Portfolio ${e}`,broker:"Test Broker"},reminder:{title:`Test Reminder ${e}`,description:"Automated test reminder",dueDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],category:"Insurance",priority:"Medium"},goal:{goalName:`Test Goal ${e}`,goalType:"Custom",targetAmount:1e6,targetDate:"2040-01-01",priority:"Medium",expectedInflation:.06,expectedCAGR:.12}}}function woe({status:e,text:t}){const r={pass:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",fail:"bg-rose-500/20 text-rose-400 border-rose-500/30",skip:"bg-amber-500/20 text-amber-400 border-amber-500/30",running:"bg-blue-500/20 text-blue-400 border-blue-500/30",pending:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return a.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded border ${r[e]||r.pending}`,children:t||e.toUpperCase()})}function joe(){const{user:e}=eo(),[t,r]=j.useState([]),[n,i]=j.useState(!1),[l,c]=j.useState(null),[u,f]=j.useState(!1),m=j.useCallback((w,C,k="")=>{r(A=>[...A,{test:w,status:C,detail:k,time:new Date().toLocaleTimeString()}])},[]),h=j.useCallback((w,C="")=>{r(k=>{const A=[...k];return A.length>0&&(A[A.length-1]={...A[A.length-1],status:w,detail:C}),A})},[]),x=async()=>{f(!0),c(null);try{const w=await Te("test:diagnose");c(w)}catch(w){c({error:w.message})}finally{f(!1)}},v=async()=>{i(!0),r([]);const w=yoe();let C=null,k=null,A=null,M=null,D=null,T=null,P=null,O=null,z=null,L=null;try{m("API Echo Test","running");try{const E=await Te("test:echo",{hello:"world"});E&&E.echo&&E.echo.hello==="world"?h("pass","Echo response received correctly"):h("fail","Unexpected response: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Diagnostics","running");try{const E=await Te("test:diagnose"),J=Object.entries(E.sheets||{}).filter(([,te])=>!te.exists).map(([te])=>te);if(J.length>0)h("fail",`Missing sheets: ${J.join(", ")}`);else{const te=Object.keys(E.sheets).length;h("pass",`All ${te} sheets exist. SpreadsheetId: ${E.spreadsheetId}`)}const Z=Object.entries(E.dataTests||{}).filter(([,te])=>!te.success).map(([te,R])=>`${te}: ${R.error}`);Z.length>0&&m("Data Function Errors","fail",Z.join("; "))}catch(E){h("fail",E.message)}m("Load All Data (bulk)","running");try{const E=await Sp(),J=Object.entries(E).map(([Z,te])=>`${Z}: ${Array.isArray(te)?te.length:"?"}`);h("pass",J.join(", "))}catch(E){h("fail",E.message)}m("Members  Create","running");try{const E=await A_(w.member);C=E?.memberId,k=w.member.memberName,C?h("pass",`Created: ${C}`):h("fail","No memberId returned: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Members  List","running");try{const E=await C_();Array.isArray(E)&&E.some(Z=>Z.memberId===C)?h("pass",`Found ${C} in ${E.length} member(s)`):h("fail",`Member ${C} not found. Got ${Array.isArray(E)?E.length:0} members: ${JSON.stringify(E).substring(0,200)}`)}catch(E){h("fail",E.message)}if(C){m("Members  Update","running");try{await k_({...w.member,memberId:C,memberName:"Updated Test Member"}),k="Updated Test Member",h("pass",'Updated name to "Updated Test Member"')}catch(E){h("fail",E.message)}}m("Banks  Create","running");try{const E=await E_({...w.bank,memberId:C||"FM-001"});A=E?.accountId,h(A?"pass":"fail",A?`Created: ${A}`:"No accountId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Banks  List","running");try{const E=await D_();h("pass",`${Array.isArray(E)?E.length:0} account(s)`)}catch(E){h("fail",E.message)}m("Investment Accounts  Create","running");try{const E=await T_({...w.investmentAccount,memberId:C||"FM-001",bankAccountId:A||"BA-001"});M=E?.accountId,h(M?"pass":"fail",M?`Created: ${M}`:"No accountId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Investment Accounts  List","running");try{const E=await O_();h("pass",`${Array.isArray(E)?E.length:0} account(s)`)}catch(E){h("fail",E.message)}m("Insurance  Create","running");try{const E=await z_({...w.insurance,memberId:C||"FM-001",insuredMember:k||"Test Member"});D=E?.policyId,h(D?"pass":"fail",D?`Created: ${D}`:"No policyId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Insurance  List","running");try{const E=await F_();h("pass",`${Array.isArray(E)?E.length:0} policy/policies`)}catch(E){h("fail",E.message)}m("Liabilities  Create","running");try{const E=await q_({...w.liability,familyMember:C||"FM-001"});T=E?.liabilityId,h(T?"pass":"fail",T?`Created: ${T}`:"No liabilityId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Liabilities  List","running");try{const E=await $_();h("pass",`${Array.isArray(E)?E.length:0} liability/liabilities`)}catch(E){h("fail",E.message)}m("Other Investments  Create","running");try{const E=await Y_({...w.otherInvestment,familyMember:C||"FM-001"});P=E?.investmentId,h(P?"pass":"fail",P?`Created: ${P}`:"No investmentId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Other Investments  List","running");try{const E=await U_();h("pass",`${Array.isArray(E)?E.length:0} investment(s)`)}catch(E){h("fail",E.message)}m("Stock Portfolios  Create","running");try{const E=await W_({...w.stockPortfolio,owner:C||"FM-001"});O=E?.portfolioId,h(O?"pass":"fail",O?`Created: ${O}`:"No portfolioId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Stock Portfolios  List","running");try{const E=await G_();h("pass",`${Array.isArray(E)?E.length:0} portfolio(s)`)}catch(E){h("fail",E.message)}m("Reminders  Create","running");try{const E=await X_(w.reminder);z=E?.reminderId,h(z?"pass":"fail",z?`Created: ${z}`:"No reminderId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Reminders  List","running");try{const E=await Q_();h("pass",`${Array.isArray(E)?E.length:0} reminder(s)`)}catch(E){h("fail",E.message)}m("Goals  Create","running");try{const E=await R_(w.goal);L=E?.goalId,h(L?"pass":"fail",L?`Created: ${L}`:"No goalId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Goals  List","running");try{const E=await I_();h("pass",`${Array.isArray(E)?E.length:0} goal(s)`)}catch(E){h("fail",E.message)}m("Cleanup  Delete test data","running");const $=[];if(L)try{await L_(L)}catch(E){$.push("goal: "+E.message)}if(z)try{await Z_(z)}catch(E){$.push("reminder: "+E.message)}if(O)try{await K_(O)}catch(E){$.push("stockPortfolio: "+E.message)}if(P)try{await V_(P)}catch(E){$.push("otherInv: "+E.message)}if(T)try{await H_(T)}catch(E){$.push("liability: "+E.message)}if(D)try{await B_(D)}catch(E){$.push("insurance: "+E.message)}if(M)try{await P_(M)}catch(E){$.push("invAcct: "+E.message)}if(A)try{await __(A)}catch(E){$.push("bank: "+E.message)}if(C)try{await M_(C)}catch(E){$.push("member: "+E.message)}$.length>0?h("fail",$.join("; ")):h("pass","All test data cleaned up"),m("Final Load All (post-cleanup)","running");try{const E=await Sp(),J=Object.entries(E).map(([Z,te])=>`${Z}: ${Array.isArray(te)?te.length:"?"}`);h("pass",J.join(", "))}catch(E){h("fail",E.message)}}catch($){m("UNEXPECTED ERROR","fail",$.message)}finally{i(!1)}},g=t.filter(w=>w.status==="pass").length,S=t.filter(w=>w.status==="fail").length,y=t.filter(w=>w.status!=="running").length;return a.jsx("div",{className:"min-h-screen bg-[var(--bg-main)] p-4 max-w-3xl mx-auto",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"API Test Suite"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Signed in as ",e?.email||"unknown"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:x,disabled:u||n,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--bg-card)] border border-[var(--border)] text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] disabled:opacity-50 cursor-pointer",children:u?"Running...":"Diagnostics"}),a.jsx("button",{onClick:v,disabled:n,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-violet-600 text-white hover:bg-violet-700 disabled:opacity-50 cursor-pointer",children:n?"Running Tests...":"Run All Tests"})]})]}),y>0&&a.jsxs("div",{className:"flex gap-3 text-xs",children:[a.jsxs("span",{className:"text-emerald-400",children:["Pass: ",g]}),a.jsxs("span",{className:"text-rose-400",children:["Fail: ",S]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:["Total: ",y]})]}),l&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 space-y-3",children:[a.jsx("h2",{className:"text-sm font-semibold text-[var(--text-primary)]",children:"Diagnostics Report"}),l.error?a.jsx("p",{className:"text-xs text-rose-400",children:l.error}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-xs text-[var(--text-secondary)] space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Spreadsheet:"})," ",l.spreadsheetName]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"ID:"})," ",a.jsx("code",{className:"text-[10px]",children:l.spreadsheetId})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Sheets"}),a.jsx("div",{className:"grid grid-cols-2 gap-1",children:Object.entries(l.sheets||{}).map(([w,C])=>a.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[a.jsx("span",{className:"text-[var(--text-secondary)] truncate",children:w}),C.exists?a.jsxs("span",{className:"text-emerald-400 ml-1",children:[C.dataRows,"r"]}):a.jsx("span",{className:"text-rose-400 ml-1",children:"MISSING"})]},w))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Data Functions"}),a.jsx("div",{className:"space-y-1",children:Object.entries(l.dataTests||{}).map(([w,C])=>a.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[a.jsx("span",{className:"text-[var(--text-secondary)]",children:w}),C.success?a.jsxs("span",{className:"text-emerald-400",children:[C.count," items"]}):a.jsx("span",{className:"text-rose-400 truncate ml-2 max-w-[200px]",title:C.error,children:C.error})]},w))})]}),l.safeCallErrors&&l.safeCallErrors.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-rose-400 mb-1",children:"SafeCall Errors"}),l.safeCallErrors.map((w,C)=>a.jsxs("p",{className:"text-[11px] text-rose-400",children:[w.fn,": ",w.error]},C))]})]})]}),t.length>0&&a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:a.jsx("div",{className:"divide-y divide-[var(--border)]",children:t.map((w,C)=>a.jsxs("div",{className:"px-4 py-2 flex items-start gap-3",children:[a.jsx("div",{className:"mt-0.5 shrink-0",children:a.jsx(woe,{status:w.status})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:w.test}),w.detail&&a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5 break-all",children:w.detail})]}),a.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:w.time})]},C))})}),t.length===0&&!l&&a.jsxs("div",{className:"text-center py-12 text-[var(--text-dim)]",children:[a.jsx("p",{className:"text-sm",children:'Click "Run All Tests" to test all CRUD operations'}),a.jsx("p",{className:"text-xs mt-1",children:'or "Diagnostics" to check spreadsheet structure'})]})]})})}const Noe="modulepreload",Soe=function(e){return"/"+e},JE={},e_=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let f=function(m){return Promise.all(m.map(h=>Promise.resolve(h).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");i=f(r.map(m=>{if(m=Soe(m),m in JE)return;JE[m]=!0;const h=m.endsWith(".css"),x=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${x}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":Noe,h||(v.as="script"),v.crossOrigin="",v.href=m,u&&v.setAttribute("nonce",u),document.head.appendChild(v),h)return new Promise((g,S)=>{v.addEventListener("load",g),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return i.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return t().catch(l)})};function t_(e){return e>=0?"text-emerald-400":"text-red-400"}function ip(e){return e>=0?"+":""}function Coe(e){if(!e)return"Other";const t=e.toLowerCase();return t.includes("gold")||t.includes("silver")||t.includes("commodity")?"Commodity":t.includes("liquid")||t.includes("money market")||t.includes("overnight")?"Liquid":t.includes("gilt")||t.includes("government securities")||t.includes("constant maturity")?"Gilt":t.includes("elss")||t.includes("tax saver")?"ELSS":t.includes("debt")||t.includes("bond")||t.includes("income fund")||t.includes("corporate bond")||t.includes("banking & psu")||t.includes("short duration")||t.includes("medium duration")||t.includes("long duration")||t.includes("short term")||t.includes("medium term")||t.includes("floater")||t.includes("floating rate")||t.includes("credit")||t.includes("accrual")||t.includes("savings fund")||t.includes("ultra short")?"Debt":t.includes("multi asset")?"Multi-Asset":t.includes("hybrid")||t.includes("balanced")||t.includes("dynamic asset")||t.includes("arbitrage")||t.includes("retirement")||t.includes("children")||t.includes("pension")?"Hybrid":t.includes("equity")||t.includes("flexi cap")||t.includes("large cap")||t.includes("mid cap")||t.includes("small cap")||t.includes("multi cap")||t.includes("focused")||t.includes("contra")||t.includes("value fund")||t.includes("thematic")||t.includes("sectoral")||t.includes("consumption")||t.includes("infrastructure")||t.includes("pharma")||t.includes("healthcare")||t.includes("technology")||t.includes("fmcg")||t.includes("mnc")||t.includes("opportunities fund")||t.includes("midcap")||t.includes("smallcap")||t.includes("largecap")||t.includes("large & mid")?"Equity":t.includes("index")||t.includes("etf")||t.includes("nifty")||t.includes("sensex")?"Index":t.includes("fund of fund")||t.includes("fof")||t.includes("aggressive")||t.includes("conservative")?"Hybrid":"Other"}const Aoe={Equity:"#8b5cf6",Debt:"#60a5fa",Gold:"#fbbf24",Commodities:"#eab308","Real Estate":"#f97316",Hybrid:"#818cf8",Cash:"#94a3b8",Other:"#94a3b8"},r_=["#f97316","#8b5cf6","#fbbf24","#f59e0b","#34d399","#ec4899","#60a5fa","#3b82f6","#06b6d4","#10b981","#ef4444","#a855f7"],n_=["linear-gradient(135deg, #8b5cf6, #6366f1)","linear-gradient(135deg, #ec4899, #f43f5e)","linear-gradient(135deg, #3b82f6, #06b6d4)","linear-gradient(135deg, #f59e0b, #f97316)","linear-gradient(135deg, #10b981, #34d399)","linear-gradient(135deg, #ef4444, #dc2626)"],a_={Self:{bg:"rgba(139,92,246,0.1)",color:"#a78bfa"},Spouse:{bg:"rgba(236,72,153,0.1)",color:"#ec4899"},Father:{bg:"rgba(59,130,246,0.1)",color:"#60a5fa"},Mother:{bg:"rgba(245,158,11,0.1)",color:"#f59e0b"},Child:{bg:"rgba(59,130,246,0.1)",color:"#60a5fa"}};function Jn({label:e,color:t,badge:r,linkText:n,onClick:i}){return a.jsxs("div",{className:"-mx-6 -mt-6 px-6 py-3.5 mb-4 flex items-center justify-between rounded-t-xl",style:{background:"rgba(128,128,128,0.04)",borderBottom:"1px solid rgba(128,128,128,0.08)"},children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-[3px] h-3.5 rounded-sm opacity-60",style:{background:t||"currentColor"}}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",style:{color:t||"var(--text-muted)"},children:e}),r!=null&&a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold",style:{background:t?`${t}15`:"rgba(128,128,128,0.1)",color:t||"var(--text-muted)"},children:r})]}),n&&a.jsxs("button",{onClick:i,className:"text-xs font-medium text-blue-400 hover:text-blue-300 transition-colors",children:[n," "]})]})}function koe(){const e=Gs(),{selectedMember:t,familyMembers:r}=Lr(),{masked:n,mv:i}=Da(),{mfPortfolios:l,mfHoldings:c,stockPortfolios:u,stockHoldings:f,otherInvList:m,liabilityList:h,banks:x,investmentAccounts:v,insurancePolicies:g,reminderList:S,goalList:y,assetAllocations:w,activeMembers:C,activeBanks:k,activeInvestmentAccounts:A}=ht(),[M,D]=j.useState(!1),[T,P]=j.useState(!1),[O,z]=j.useState(!1),L=j.useRef(null),$=j.useMemo(()=>(C||[]).find(B=>B.relationship==="Self")?.pan||"",[C]),E=j.useCallback(async()=>{if(!L.current)throw new Error("Dashboard not ready");const[{default:H},{jsPDF:B}]=await Promise.all([e_(()=>import("./html2canvas-pro.esm-BFE-rsXj.js"),[]),e_(()=>import("./jspdf.es.min-64_dRb8K.js").then(kt=>kt.j),[])]),Q=L.current,ue=await H(Q,{scale:2,useCORS:!0,backgroundColor:"#0f172a",logging:!1}),xe={orientation:"p",unit:"mm",format:"a4"};$&&(xe.encryption={userPassword:$,ownerPassword:$,userPermissions:["print","copy"]});const U=new B(xe),de=U.internal.pageSize.getWidth(),ie=U.internal.pageSize.getHeight(),ye=6,re=de-ye*2,Me=ie-ye*2,Ve=re/ue.width,ge=Math.floor(Me/Ve);let ze=0,ke=0;for(;ze<ue.height;){ke>0&&U.addPage(),U.setFillColor(15,23,42),U.rect(0,0,de,ie,"F");const kt=Math.min(ge,ue.height-ze),St=document.createElement("canvas");St.width=ue.width,St.height=kt,St.getContext("2d").drawImage(ue,0,ze,ue.width,kt,0,0,ue.width,kt);const Wt=St.toDataURL("image/png"),ir=kt*Ve;U.addImage(Wt,"PNG",ye,ye,re,ir),ze+=ge,ke++}const Ie=t==="all"?"Family":r?.find(kt=>kt.memberId===t)?.name||"Dashboard",rt=new Date().toISOString().slice(0,10),Tt=`Capital-Friends-${Ie}-${rt}.pdf`;return{pdf:U,fileName:Tt}},[t,r,$]),J=j.useCallback(async()=>{if(!O){z(!0);try{const{pdf:H,fileName:B}=await E();H.save(B),$&&setTimeout(()=>alert(`PDF is password-protected.
Password: Your PAN (${$.slice(0,2)}****${$.slice(-2)})`),300)}catch(H){console.error("PDF export failed:",H),window.print()}finally{z(!1)}}},[O,E,$]),Z=j.useCallback(async()=>{if(!(M||T)){D(!0);try{const{pdf:H,fileName:B}=await E(),Q=H.output("datauristring").split(",")[1];await NF(Q,B),P(!0),setTimeout(()=>P(!1),3e3)}catch(H){alert("Failed to send email: "+H.message)}finally{D(!1)}}},[M,T,E]),te=$?"Download as PDF (password: your PAN)":"Download as PDF",R=(H,B)=>t==="all"?H:H.filter(Q=>Q[B]===t),F=j.useMemo(()=>{const H=R((l||[]).filter(ne=>ne.status==="Active"),"ownerId"),B=new Set(H.map(ne=>ne.portfolioId)),Q=(c||[]).filter(ne=>B.has(ne.portfolioId)&&ne.units>0),ue=Q.reduce((ne,Ne)=>ne+Ne.investment,0),xe=Q.reduce((ne,Ne)=>ne+Ne.currentValue,0),U=xe-ue,de=R((u||[]).filter(ne=>ne.status==="Active"),"ownerId"),ie=new Set(de.map(ne=>ne.portfolioId)),ye=(f||[]).filter(ne=>ie.has(ne.portfolioId)),re=ye.reduce((ne,Ne)=>ne+Ne.totalInvestment,0),Me=ye.reduce((ne,Ne)=>ne+Ne.currentValue,0),Ve=Me-re,ge=R((m||[]).filter(ne=>ne.status==="Active"),"familyMemberId"),ze=ge.reduce((ne,Ne)=>ne+Ne.investedAmount,0),ke=ge.reduce((ne,Ne)=>ne+Ne.currentValue,0),Ie=ke-ze,rt=R((h||[]).filter(ne=>ne.status==="Active"),"familyMemberId"),Tt=rt.reduce((ne,Ne)=>ne+Ne.outstandingBalance,0),kt=rt.reduce((ne,Ne)=>ne+Ne.emiAmount,0),St=R((g||[]).filter(ne=>ne.status==="Active"),"memberId"),Mr=St.filter(ne=>ne.policyType==="Term Life").reduce((ne,Ne)=>ne+Ne.sumAssured,0),Wt=St.filter(ne=>ne.policyType==="Health").reduce((ne,Ne)=>ne+Ne.sumAssured,0),ir=St.reduce((ne,Ne)=>ne+(Ne.premium||0),0),Pt=R((x||[]).filter(ne=>ne.status==="Active"),"memberId"),be=R((v||[]).filter(ne=>ne.status==="Active"),"memberId"),Qe=R((y||[]).filter(ne=>ne.isActive!==!1),"familyMemberId"),G=R((S||[]).filter(ne=>ne.isActive!==!1&&ne.status!=="Completed"),"familyMemberId"),q=t==="all"?C||[]:(C||[]).filter(ne=>ne.memberId===t),X=xe+Me+ke,Ce=X-Tt,Fe=ue+re+ze,le=X-Fe,ot=Fe>0?le/Fe*100:0,qe={};if(w)for(const ne of w)ne.assetAllocation&&(qe[ne.fundCode]=ne.assetAllocation);const De={Equity:0,Debt:0,Gold:0,Hybrid:0,Commodities:0,"Real Estate":0,Cash:0,Other:0};Q.forEach(ne=>{const Ne=qe[ne.schemeCode||ne.fundCode];if(Ne)for(const[Ue,Kt]of Object.entries(Ne))Ue in De?De[Ue]+=ne.currentValue*(Kt/100):De.Other+=ne.currentValue*(Kt/100);else{let Ue=ne.category;(!Ue||Ue==="Other")&&(Ue=Coe(ne.fundName)),Ue==="Equity"||Ue==="ELSS"||Ue==="Index"?De.Equity+=ne.currentValue:Ue==="Debt"||Ue==="Gilt"?De.Debt+=ne.currentValue:Ue==="Liquid"?De.Cash+=ne.currentValue:Ue==="Commodity"?De.Commodities+=ne.currentValue:Ue==="Multi-Asset"?(De.Equity+=ne.currentValue*.5,De.Debt+=ne.currentValue*.3,De.Commodities+=ne.currentValue*.2):Ue==="Hybrid"||Ue==="FoF"?(De.Equity+=ne.currentValue*.65,De.Debt+=ne.currentValue*.35):De.Other+=ne.currentValue}}),De.Equity+=Me,ge.forEach(ne=>{const Ne=(ne.investmentType||"").toLowerCase();Ne.includes("gold")||Ne.includes("sgb")||Ne.includes("sovereign gold")?De.Gold+=ne.currentValue:Ne.includes("silver")||Ne.includes("commodity")?De.Commodities+=ne.currentValue:Ne.includes("fd")||Ne.includes("fixed")||Ne.includes("bond")||Ne.includes("ppf")||Ne.includes("epf")||Ne.includes("nps")||Ne.includes("rd")||Ne.includes("nsc")||Ne.includes("ssy")?De.Debt+=ne.currentValue:Ne.includes("real estate")||Ne.includes("property")?De["Real Estate"]+=ne.currentValue:De.Other+=ne.currentValue});const Ze=Object.entries(De).filter(([,ne])=>ne>0).sort(([,ne],[,Ne])=>Ne-ne).map(([ne,Ne])=>({name:ne,value:Ne,pct:X>0?Ne/X*100:0,fill:Aoe[ne]||"#94a3b8"})),Ke={};xe>0&&(Ke["Mutual Funds"]=(Ke["Mutual Funds"]||0)+xe),Me>0&&(Ke.Stocks=(Ke.Stocks||0)+Me),ge.forEach(ne=>{const Ne=ne.investmentType||"Other";Ke[Ne]=(Ke[Ne]||0)+ne.currentValue});const Ht=Object.entries(Ke).filter(([,ne])=>ne>0).sort(([,ne],[,Ne])=>Ne-ne).map(([ne,Ne],Ue)=>({name:ne,value:Ne,pct:X>0?Ne/X*100:0,fill:r_[Ue%r_.length]})),dt=[];H.forEach(ne=>{(c||[]).filter(Ue=>Ue.portfolioId===ne.portfolioId&&Ue.units>0).forEach(Ue=>{if(Ue.athNav>0&&Ue.belowATHPct>=5){const{main:Kt}=Le(Ue.fundName);dt.push({fundName:Kt,portfolioName:ne.portfolioName,ownerName:ne.ownerName,belowATHPct:Ue.belowATHPct,isStrongBuy:Ue.belowATHPct>=10})}})}),dt.sort((ne,Ne)=>Ne.belowATHPct-ne.belowATHPct);const Ee=[];H.forEach(ne=>{const Ne=(c||[]).filter(rr=>rr.portfolioId===ne.portfolioId&&rr.units>0),Ue=Ne.reduce((rr,_a)=>rr+_a.currentValue,0),Kt=(ne.rebalanceThreshold||.05)*100;Ne.forEach(rr=>{if(rr.targetAllocationPct>0&&Ue>0){const _a=rr.currentValue/Ue*100,Oa=_a-rr.targetAllocationPct;if(Math.abs(Oa)>Kt){const{main:$c}=Le(rr.fundName);Ee.push({fundName:$c,portfolioName:ne.portfolioName,ownerName:ne.ownerName,currentPct:Math.round(_a),targetPct:Math.round(rr.targetAllocationPct),drift:Math.round(Oa)})}}})}),Ee.sort((ne,Ne)=>Math.abs(Ne.drift)-Math.abs(ne.drift));const We=[];if(xe>0){const ne=[...new Set(H.map(Ue=>Ue.ownerName))].join(", "),Ne=[...new Set(H.map(Ue=>{const Kt=(v||[]).find(rr=>rr.accountId===Ue.investmentAccountId);return Kt?Kt.platformBroker:Ue.investmentAccountName||""}).filter(Boolean))].join(", ");We.push({type:"Mutual Funds",platform:Ne,owner:ne,invested:ue,current:xe,pl:U})}if(Me>0){const ne=[...new Set(de.map(Ue=>Ue.ownerName))].join(", "),Ne=[...new Set(de.map(Ue=>{const Kt=(v||[]).find(rr=>rr.accountId===Ue.investmentAccountId);return Kt?Kt.platformBroker:Ue.investmentAccountName||""}).filter(Boolean))].join(", ");We.push({type:"Stocks",platform:Ne,owner:ne,invested:re,current:Me,pl:Ve})}const _e={};ge.forEach(ne=>{const Ne=ne.investmentType||"Other";_e[Ne]||(_e[Ne]={invested:0,current:0,owners:new Set,platforms:new Set}),_e[Ne].invested+=ne.investedAmount,_e[Ne].current+=ne.currentValue,_e[Ne].owners.add(ne.familyMemberName),ne.investmentName&&_e[Ne].platforms.add(ne.investmentName)}),Object.entries(_e).forEach(([ne,Ne])=>{const Ue=Ne.current-Ne.invested;We.push({type:ne,platform:Ne.platforms.size<=2?[...Ne.platforms].join(", "):`${Ne.platforms.size} investments`,owner:[...Ne.owners].join(", "),invested:Ne.invested,current:Ne.current,pl:Ne.invested>0?Ue:null})});const it={};return H.forEach(ne=>{const Ue=Q.filter(Kt=>Kt.portfolioId===ne.portfolioId).reduce((Kt,rr)=>Kt+rr.currentValue,0);it[ne.ownerId]=(it[ne.ownerId]||0)+Ue}),de.forEach(ne=>{const Ue=ye.filter(Kt=>Kt.portfolioId===ne.portfolioId).reduce((Kt,rr)=>Kt+rr.currentValue,0);it[ne.ownerId]=(it[ne.ownerId]||0)+Ue}),ge.forEach(ne=>{it[ne.familyMemberId]=(it[ne.familyMemberId]||0)+ne.currentValue}),rt.forEach(ne=>{it[ne.familyMemberId]=(it[ne.familyMemberId]||0)-ne.outstandingBalance}),{mfCurrentValue:xe,mfInvested:ue,mfPL:U,stkCurrentValue:Me,stkInvested:re,stkPL:Ve,otherCurrentValue:ke,otherInvested:ze,otherPL:Ie,totalLiabilities:Tt,totalEMI:kt,lifeCover:Mr,healthCover:Wt,totalPremium:ir,totalAssets:X,totalInvested:Fe,totalPL:le,plPct:ot,netWorth:Ce,assetClassList:Ze,allocByType:Ht,buyOpportunities:dt,rebalanceItems:Ee,investmentRows:We,activeLiabilities:rt,activeInsurance:St,activeGoals:Qe,activeReminders:G,filteredBanks:Pt,filteredInvAccounts:be,filteredMembers:q,memberNetWorth:it,activeMFPortfolios:H,activeStockPortfolios:de}},[t,l,c,u,f,m,h,x,v,g,y,S,w,C]),fe=j.useMemo(()=>{const H=[],B=R((g||[]).filter(ie=>ie.status==="Active"),"memberId");B.some(ie=>ie.policyType==="Term Life")||H.push({type:"critical",title:"No Term Life Insurance",description:"Family loses its sole income source if primary earner passes away. Get 10-15x annual income cover.",action:"Add Policy",navigateTo:"/insurance"});const ue=B.filter(ie=>ie.policyType==="Health").reduce((ie,ye)=>ie+ye.sumAssured,0);return ue===0?H.push({type:"critical",title:"No Health Insurance",description:"Medical emergencies without cover can wipe out years of savings. Get minimum 10L family cover.",action:"Add Policy",navigateTo:"/insurance"}):ue<5e5&&H.push({type:"warning",title:"Inadequate Health Insurance",description:`Current cover ${W(ue)} may not cover a single hospital stay. Consider upgrading.`,navigateTo:"/insurance"}),R((y||[]).filter(ie=>ie.isActive!==!1&&ie.goalType==="Emergency Fund"),"familyMemberId").forEach(ie=>{const ye=ie.targetAmount>0?ie.currentValue/ie.targetAmount*100:0;if(ye<100){const re=ie.targetAmount-ie.currentValue;H.push({type:(ye>=75,"warning"),title:`Emergency Fund at ${ye.toFixed(0)}%`,description:`Job loss or medical emergency forces debt. ${W(re)} more needed for full cushion.`,action:"View Goal",navigateTo:"/goals"})}}),R((S||[]).filter(ie=>ie.isActive!==!1),"familyMemberId").filter(ie=>new Date(ie.dueDate)<new Date).forEach(ie=>{const ye=Math.ceil((new Date-new Date(ie.dueDate))/864e5);H.push({type:"critical",title:ie.title,description:`${ye} day${ye!==1?"s":""} overdue. ${ie.description||""}`.trim(),navigateTo:"/reminders"})}),R((y||[]).filter(ie=>ie.isActive!==!1&&ie.status==="Needs Attention"),"familyMemberId").forEach(ie=>{H.push({type:"warning",title:`${ie.goalName} needs attention`,description:"Progress is behind schedule. Consider increasing monthly investment.",action:"View Goal",navigateTo:"/goals"})}),H.slice(0,6)},[t,g,y,S]),Se=j.useMemo(()=>{const H=R((S||[]).filter(Q=>Q.isActive!==!1&&Q.status!=="Completed"),"familyMemberId"),B=new Date;return H.map(Q=>{const ue=new Date(Q.dueDate)-B,xe=Math.ceil(ue/(1440*60*1e3));return{...Q,days:xe}}).filter(Q=>Q.days>=0).sort((Q,ue)=>Q.days-ue.days).slice(0,5)},[t,S]);return l===null||c===null?a.jsx(di,{title:"Loading dashboard",cards:4}):a.jsxs("div",{className:"max-w-[1280px] mx-auto",ref:L,children:[a.jsx("style",{children:`
        @media print {
          @page { margin: 8mm; size: A4; }
          *, *::before, *::after { color-adjust: exact !important; -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
          html, body { background: #0f172a !important; color: #e2e8f0 !important; overflow: visible !important; height: auto !important; }
          nav, header, footer, .print\\:hidden, [class*="BottomNav"], [class*="Sidebar"],
          [class*="safe-bottom"] { display: none !important; }
          div, main, section { overflow: visible !important; height: auto !important; max-height: none !important; }
          .flex.flex-col.h-dvh { height: auto !important; overflow: visible !important; display: block !important; }
          main.flex-1 { overflow: visible !important; padding-bottom: 0 !important; }
          .max-w-\\[1280px\\], .max-w-7xl { max-width: 100% !important; padding: 0 !important; margin: 0 auto !important; }
          .grid.grid-cols-1.md\\:grid-cols-2 { display: flex !important; flex-direction: column !important; gap: 8px !important; }
          .grid.grid-cols-1.md\\:grid-cols-2 > * { width: 100% !important; }
          .grid.grid-cols-1.md\\:grid-cols-3 { display: flex !important; flex-wrap: wrap !important; gap: 8px !important; }
          .grid.grid-cols-1.md\\:grid-cols-3 > * { flex: 1 1 30% !important; min-width: 180px !important; }
          .rounded-xl { break-inside: avoid; page-break-inside: avoid; }
          [class*="fixed"] { position: static !important; display: none !important; }
        }
      `}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2 rounded-xl border border-[var(--border)] p-7",style:{background:"linear-gradient(135deg, var(--bg-card) 0%, var(--bg-card) 100%)"},children:[a.jsxs("div",{className:"-mx-7 -mt-7 px-7 py-3.5 mb-4 flex items-center justify-between rounded-t-xl",style:{background:"rgba(128,128,128,0.04)",borderBottom:"1px solid rgba(128,128,128,0.08)"},children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-[3px] h-3.5 rounded-sm opacity-60",style:{background:"var(--text-muted)"}}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-[var(--text-muted)]",children:"Net Worth"})]}),a.jsxs("div",{className:"flex items-center gap-1.5 print:hidden",children:[a.jsxs("button",{onClick:J,disabled:O,className:"flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-50",title:te,children:[O?a.jsx(od,{size:13,className:"animate-spin"}):a.jsx(Az,{size:13}),a.jsx("span",{className:"hidden sm:inline",children:O?"Exporting...":"PDF"})]}),a.jsxs("button",{onClick:Z,disabled:M,className:"flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium transition-colors disabled:opacity-50",style:{color:T?"#34d399":"var(--text-secondary)"},title:"Email wealth report",children:[T?a.jsx(Cp,{size:13}):a.jsx(C1,{size:13}),a.jsx("span",{className:"hidden sm:inline",children:M?"Sending...":T?"Sent!":"Email"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-[34px] font-bold text-[var(--text-primary)] tabular-nums leading-tight",children:W(F.netWorth)}),F.totalInvested>0&&a.jsxs("div",{className:"text-sm mt-1.5",children:[a.jsxs("span",{className:`font-semibold ${t_(F.totalPL)}`,children:[ip(F.totalPL),W(Math.abs(F.totalPL))]}),a.jsxs("span",{className:"text-[var(--text-dim)] ml-1",children:["(",ip(F.totalPL),F.plPct.toFixed(1),"% returns)"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs text-[var(--text-dim)]",children:"Total Assets"}),a.jsx("div",{className:"text-lg font-semibold text-[var(--text-secondary)] tabular-nums",children:W(F.totalAssets)}),F.totalLiabilities>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-xs text-[var(--text-dim)] mt-2",children:"Liabilities"}),a.jsx("div",{className:"text-lg font-semibold text-red-400 tabular-nums",children:W(F.totalLiabilities)})]})]})]}),F.assetClassList.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"flex h-2.5 rounded-[5px] overflow-hidden gap-0.5",children:F.assetClassList.map(H=>a.jsx("div",{style:{width:`${H.pct}%`,background:H.fill},title:`${H.name} ${H.pct.toFixed(0)}%`},H.name))}),a.jsx("div",{className:"flex gap-4 mt-2 text-xs flex-wrap",children:F.assetClassList.map(H=>a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"inline-block w-2 h-2 rounded-full",style:{background:H.fill}}),a.jsxs("span",{className:"text-[var(--text-secondary)] font-medium",children:[H.name," ",H.pct.toFixed(0),"%"]})]},H.name))})]})]}),F.allocByType.length>0&&a.jsxs("div",{className:"md:col-span-2 rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6",style:{padding:"20px"},children:[a.jsx(Jn,{label:"Asset Allocation",color:"var(--text-muted)"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 items-center",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsxs("div",{className:"relative w-[240px] h-[240px]",children:[a.jsx(U1,{width:"100%",height:"100%",children:a.jsxs(pj,{children:[a.jsx(Nx,{data:F.allocByType,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:67,outerRadius:110,paddingAngle:2,stroke:"none",children:F.allocByType.map((H,B)=>a.jsx(zc,{fill:H.fill},B))}),a.jsx(lj,{content:({active:H,payload:B})=>{if(!H||!B?.[0])return null;const Q=B[0].payload;return a.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-2.5 py-1.5 shadow-lg text-xs",children:[a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:Q.name}),a.jsxs("span",{className:"text-[var(--text-muted)] ml-1.5",children:[W(Q.value)," (",Q.pct.toFixed(0),"%)"]})]})}})]})}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[a.jsx("div",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Net Worth"}),a.jsx("div",{className:"text-2xl font-bold text-[var(--text-primary)] tabular-nums",children:W(F.netWorth)})]})]}),a.jsxs("div",{className:"mt-3 text-center text-xs",children:[a.jsxs("span",{className:"text-[var(--text-muted)]",children:[W(F.totalInvested)," invested"]}),F.totalLiabilities>0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-[var(--text-dim)] mx-1",children:""}),a.jsxs("span",{className:"text-red-400",children:["",W(F.totalLiabilities)," owed"]})]})]})]}),a.jsxs("div",{children:[F.allocByType.map(H=>a.jsxs("div",{className:"flex items-center justify-between py-2.5 px-3.5 mb-1.5 rounded-lg text-[13px]",style:{background:"rgba(128,128,128,0.05)"},children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"inline-block w-2 h-2 rounded-full",style:{background:H.fill}}),a.jsx("span",{className:"text-[var(--text-secondary)] font-medium",children:H.name})]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[var(--text-secondary)] font-semibold tabular-nums",children:W(H.value)}),a.jsxs("span",{className:"inline-flex items-center justify-center min-w-[36px] px-2 py-0.5 rounded-[5px] text-xs font-semibold tabular-nums",style:{background:"rgba(128,128,128,0.08)",color:H.fill},children:[H.pct.toFixed(0),"%"]})]})]},H.name)),F.totalLiabilities>0&&a.jsxs("div",{className:"flex items-center justify-between py-2.5 px-3.5 mb-1.5 rounded-lg text-[13px]",style:{background:"rgba(248,113,113,0.06)"},children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-red-400"}),a.jsxs("span",{className:"text-red-400 font-medium",children:[F.activeLiabilities.length," ",F.activeLiabilities.length===1?"Loan":"Loans"]})]}),a.jsxs("span",{className:"text-red-400 font-semibold tabular-nums",children:["",W(F.totalLiabilities)]})]})]})]})]}),fe.length>0&&a.jsxs("div",{className:"md:col-span-2 rounded-xl border bg-[var(--bg-card)] p-6",style:{borderColor:"rgba(244,63,94,0.12)"},children:[a.jsx(Jn,{label:"Action Required",color:"#fb7185",badge:fe.length}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:fe.map((H,B)=>{const Q=H.type==="critical",ue=fe.length%2===1&&B===fe.length-1;return a.jsx("div",{className:`rounded-[10px] p-3.5 ${ue?"md:col-span-2":""}`,style:{background:Q?"rgba(244,63,94,0.07)":"rgba(251,191,36,0.05)",border:`1px solid ${Q?"rgba(244,63,94,0.18)":"rgba(251,191,36,0.12)"}`},children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-[26px] h-[26px] rounded-[7px] flex items-center justify-center text-[13px] shrink-0",style:{background:Q?"rgba(244,63,94,0.12)":"rgba(251,191,36,0.1)",color:Q?"#fb7185":"#fbbf24"},children:Q?"":""}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-semibold",style:{color:Q?"#fb7185":"#fbbf24"},children:H.title}),H.description&&a.jsx("div",{className:"text-[13px] text-[var(--text-muted)] mt-0.5 leading-relaxed",children:H.description}),H.action&&H.navigateTo&&a.jsxs("button",{onClick:()=>e(H.navigateTo),className:"text-xs font-medium mt-1.5 cursor-pointer",style:{color:Q?"#fb7185":"#fbbf24"},children:[H.action," "]})]})]})},B)})})]}),F.buyOpportunities.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${F.rebalanceItems.length===0?"md:col-span-2":""}`,onClick:()=>e("/investments/mutual-funds"),children:[a.jsx(Jn,{label:"Buy Opportunities",color:"#34d399",badge:F.buyOpportunities.length,linkText:"Mutual Funds",onClick:H=>{H.stopPropagation(),e("/investments/mutual-funds")}}),a.jsx("div",{className:"text-xs text-[var(--text-dim)] mb-2.5",children:"Funds trading below All-Time High"}),F.buyOpportunities.map((H,B)=>a.jsxs("div",{className:"flex items-center justify-between py-2.5",style:{borderBottom:B<F.buyOpportunities.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-[13px] text-[var(--text-primary)] font-medium truncate",children:H.fundName}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] mt-1.5",children:[H.ownerName,"'s ",H.portfolioName]})]}),a.jsxs("div",{className:"text-right shrink-0 ml-3",children:[a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-bold",style:{background:H.isStrongBuy?"rgba(34,211,238,0.12)":"rgba(251,191,36,0.10)",color:H.isStrongBuy?"#22d3ee":"#fbbf24"},children:H.isStrongBuy?"Strong Buy":"Buy"}),a.jsxs("div",{className:"text-xs mt-0.5 font-medium tabular-nums",style:{color:H.isStrongBuy?"#22d3ee":"#fbbf24"},children:[" ",H.belowATHPct.toFixed(1),"% below ATH"]})]})]},B)),a.jsxs("div",{className:"mt-3.5 py-3 px-3.5 rounded-r-md text-[11px] text-[var(--text-muted)] leading-relaxed",style:{background:"rgba(251,191,36,0.06)",borderLeft:"3px solid rgba(251,191,36,0.3)"},onClick:H=>H.stopPropagation(),children:[a.jsx("span",{className:"text-amber-400 font-semibold",children:"Note:"})," A fund significantly below ATH may indicate market correction ",a.jsx("em",{children:"or"})," fund-specific issues (poor management, regulatory action, etc.). Always research before investing."]})]}),F.rebalanceItems.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${F.buyOpportunities.length===0?"md:col-span-2":""}`,onClick:()=>e("/investments/mutual-funds"),children:[a.jsx(Jn,{label:"Rebalance Needed",color:"#a78bfa",badge:F.rebalanceItems.length,linkText:"Portfolios",onClick:H=>{H.stopPropagation(),e("/investments/mutual-funds")}}),a.jsx("div",{className:"text-xs text-[var(--text-dim)] mb-2.5",children:"Allocation drifted beyond threshold"}),F.rebalanceItems.map((H,B)=>a.jsxs("div",{className:"flex items-center justify-between py-2.5",style:{borderBottom:B<F.rebalanceItems.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-[13px] text-[var(--text-primary)] font-medium truncate",children:H.fundName}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] mt-1.5",children:[H.ownerName,"'s ",H.portfolioName]})]}),a.jsxs("div",{className:"text-right shrink-0 ml-3",children:[a.jsxs("div",{className:"text-xs text-violet-400 font-semibold tabular-nums",children:[H.currentPct,"%  ",H.targetPct,"%"]}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[H.drift>0?"+":"",H.drift,"% ",H.drift>0?"over":"under"," target"]})]})]},B))]}),F.investmentRows.length>0&&a.jsxs("div",{className:"md:col-span-2 rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors",onClick:()=>e("/investments/mutual-funds"),children:[a.jsx(Jn,{label:"Investments",color:"var(--text-muted)",linkText:"View All",onClick:H=>{H.stopPropagation(),e("/investments/mutual-funds")}}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Type"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Platform"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Owner"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Invested"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Current"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"P&L"})]})}),a.jsx("tbody",{children:F.investmentRows.map((H,B)=>{const Q=H.pl,ue=H.invested>0&&Q!=null?Q/H.invested*100:null;return a.jsxs("tr",{children:[a.jsx("td",{className:"text-[13px] font-medium text-[var(--text-primary)] py-3.5",style:{borderBottom:B<F.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:H.type}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] py-3.5",style:{borderBottom:B<F.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:H.platform||""}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] py-3.5",style:{borderBottom:B<F.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:H.owner}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] py-3.5 tabular-nums",style:{borderBottom:B<F.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:H.invested>0?W(H.invested):""}),a.jsx("td",{className:"text-[13px] font-semibold text-[var(--text-primary)] py-3.5 tabular-nums",style:{borderBottom:B<F.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:W(H.current)}),a.jsx("td",{className:"text-[13px] py-3.5 text-right tabular-nums",style:{borderBottom:B<F.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:Q!=null&&H.invested>0?a.jsxs("span",{className:`font-semibold ${t_(Q)}`,children:[ip(Q),W(Math.abs(Q)),ue!=null&&a.jsxs("span",{className:"text-[var(--text-dim)] font-normal ml-1",children:["(",ip(Q),ue.toFixed(1),"%)"]})]}):a.jsx("span",{className:"text-[var(--text-dim)]",children:""})})]},B)})})]})})]}),F.activeLiabilities.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${Se.length===0?"md:col-span-2":""}`,onClick:()=>e("/liabilities"),children:[a.jsx(Jn,{label:"Liabilities",color:"#f87171",linkText:"View",onClick:H=>{H.stopPropagation(),e("/liabilities")}}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"text-[22px] font-bold text-red-400 tabular-nums",children:W(F.totalLiabilities)}),F.totalEMI>0&&a.jsxs("div",{className:"text-xs text-right",children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Total EMI:"})," ",a.jsxs("span",{className:"text-red-400 font-semibold tabular-nums",children:[W(F.totalEMI),"/m"]})]})]}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Loan"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"EMI"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Outstanding"})]})}),a.jsx("tbody",{children:F.activeLiabilities.map((H,B)=>a.jsxs("tr",{children:[a.jsxs("td",{className:"py-3.5",style:{borderBottom:B<F.activeLiabilities.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[a.jsxs("div",{className:"text-[13px] font-medium text-[var(--text-primary)]",children:[H.lenderName," ",H.liabilityType]}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] mt-1.5",children:[H.familyMemberName,H.notes?`  ${H.notes}`:""]})]}),a.jsx("td",{className:"text-xs text-[var(--text-secondary)] py-3.5 tabular-nums",style:{borderBottom:B<F.activeLiabilities.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:H.emiAmount>0?`${W(H.emiAmount)}/m`:""}),a.jsx("td",{className:"text-sm font-semibold text-red-400 py-3.5 text-right tabular-nums",style:{borderBottom:B<F.activeLiabilities.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:W(H.outstandingBalance)})]},H.liabilityId||B))})]})]}),Se.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${F.activeLiabilities.length===0?"md:col-span-2":""}`,onClick:()=>e("/reminders"),children:[a.jsx(Jn,{label:"Upcoming Reminders",color:"var(--text-muted)",badge:Se.length,linkText:"View All",onClick:H=>{H.stopPropagation(),e("/reminders")}}),Se.map((H,B)=>{let Q,ue,xe;return H.days===0?(Q="#fbbf24",ue="rgba(251,191,36,0.1)",xe="Today"):H.days<=7?(Q="#60a5fa",ue="transparent",xe=`${H.days} day${H.days!==1?"s":""}`):(Q="#94a3b8",ue="transparent",xe=`${H.days} days`),a.jsxs("div",{className:"flex items-center justify-between py-2.5",style:{borderBottom:B<Se.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-[13px] text-[var(--text-primary)] font-medium truncate",children:H.title}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] mt-1.5",children:[H.familyMemberName,H.frequency?`  ${H.frequency}`:""]})]}),H.days===0?a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold shrink-0",style:{background:ue,color:Q},children:xe}):a.jsx("span",{className:"text-xs font-medium shrink-0 tabular-nums",style:{color:Q},children:xe})]},H.reminderId||B)})]}),F.activeInsurance.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${F.activeGoals.length===0?"md:col-span-2":""}`,onClick:()=>e("/insurance"),children:[a.jsx(Jn,{label:"Insurance Coverage",color:"var(--text-muted)",linkText:"View All",onClick:H=>{H.stopPropagation(),e("/insurance")}}),a.jsxs("div",{className:"flex gap-3 mb-4 flex-wrap",children:[F.lifeCover>0&&a.jsxs("div",{className:"flex items-center gap-1 text-[13px]",children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Life:"}),a.jsx("span",{className:"font-semibold text-cyan-400",children:W(F.lifeCover)})]}),F.healthCover>0&&a.jsxs("div",{className:"flex items-center gap-1 text-[13px]",children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Health:"}),a.jsx("span",{className:"font-semibold text-emerald-400",children:W(F.healthCover)})]}),F.totalPremium>0&&a.jsxs("div",{className:"flex items-center gap-1 text-[13px]",children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Premium:"}),a.jsxs("span",{className:"font-medium text-[var(--text-muted)]",children:[W(F.totalPremium),"/yr"]})]})]}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Policy"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Nominee"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Policy No."}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Cover"})]})}),a.jsx("tbody",{children:F.activeInsurance.map((H,B)=>{const Q=H.policyType==="Term Life"?"#22d3ee":H.policyType==="Health"?"#34d399":"#94a3b8";return a.jsxs("tr",{children:[a.jsxs("td",{className:"py-3.5",style:{borderBottom:B<F.activeInsurance.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[a.jsx("div",{className:"text-[13px] font-medium text-[var(--text-primary)]",children:H.policyName}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] mt-1.5",children:[H.policyType,"  ",H.insuredMember]})]}),a.jsx("td",{className:"text-xs text-[var(--text-secondary)] py-3.5",style:{borderBottom:B<F.activeInsurance.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:H.nominee||""}),a.jsx("td",{className:"text-xs text-[var(--text-secondary)] font-medium py-3.5 tabular-nums",style:{borderBottom:B<F.activeInsurance.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:i(H.policyNumber,"policy")}),a.jsx("td",{className:"text-sm font-semibold py-3.5 text-right tabular-nums",style:{color:Q,borderBottom:B<F.activeInsurance.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:W(H.sumAssured)})]},H.policyId||B)})})]})]}),F.activeGoals.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${F.activeInsurance.length===0?"md:col-span-2":""}`,onClick:()=>e("/goals"),children:[a.jsx(Jn,{label:"Financial Goals",color:"var(--text-muted)",linkText:"View All",onClick:H=>{H.stopPropagation(),e("/goals")}}),F.activeGoals.map((H,B)=>{const Q=H.targetAmount>0?Math.min(H.currentValue/H.targetAmount*100,100):0,ue=H.targetDate?new Date(H.targetDate).getFullYear():null;let xe,U;return Q>=100?(xe="#34d399",U="Achieved"):H.status==="Needs Attention"?(xe="#fbbf24",U="Needs Attention"):H.status==="On Track"?(xe="#60a5fa",U="On Track"):(xe="#a78bfa",U=H.status||"In Progress"),a.jsxs("div",{className:B<F.activeGoals.length-1?"mb-4":"",children:[a.jsxs("div",{className:"flex items-center justify-between text-[13px]",children:[a.jsx("span",{className:"font-medium text-[var(--text-secondary)]",children:H.goalName}),a.jsxs("span",{className:"text-[var(--text-muted)] font-medium tabular-nums",children:[W(H.currentValue)," ",a.jsxs("span",{className:"text-[var(--text-dim)] font-normal",children:["/ ",W(H.targetAmount)]})]})]}),a.jsx("div",{className:"h-[5px] rounded-[3px] overflow-hidden mt-2",style:{background:"var(--bg-inset)"},children:a.jsx("div",{className:"h-full rounded-[3px]",style:{width:`${Q}%`,background:xe}})}),a.jsxs("div",{className:"flex items-center justify-between text-xs mt-2",children:[a.jsx("span",{className:"font-medium",style:{color:xe},children:U}),a.jsxs("span",{className:"text-[var(--text-dim)] tabular-nums",children:[Q.toFixed(Q>=100?0:1),"%",ue?`  ${ue}`:""]})]})]},H.goalId||B)})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[F.filteredMembers.length>0&&a.jsxs("div",{className:"rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors",onClick:()=>e("/family"),children:[a.jsx(Jn,{label:"Family Members",color:"var(--text-muted)",linkText:"View",onClick:H=>{H.stopPropagation(),e("/family")}}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Member"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Role"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Net Worth"})]})}),a.jsx("tbody",{children:F.filteredMembers.map((H,B)=>{const Q=F.memberNetWorth[H.memberId]||0,ue=F.netWorth||1,xe=ue>0?Math.round(Q/ue*100):0,U=a_[H.relationship]||a_.Child;return a.jsxs("tr",{children:[a.jsx("td",{className:"py-3.5",style:{borderBottom:B<F.filteredMembers.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-[26px] h-[26px] rounded-full flex items-center justify-center text-[11px] font-bold text-white shrink-0",style:{background:n_[B%n_.length]},children:H.memberName?.charAt(0)||"?"}),a.jsx("span",{className:"text-[13px] font-medium text-[var(--text-primary)]",children:H.memberName})]})}),a.jsx("td",{className:"py-3.5",style:{borderBottom:B<F.filteredMembers.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold",style:{background:U.bg,color:U.color},children:H.relationship})}),a.jsxs("td",{className:"text-[13px] font-semibold text-[var(--text-primary)] py-3.5 text-right tabular-nums",style:{borderBottom:B<F.filteredMembers.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[W(Q),F.filteredMembers.length>1&&a.jsxs("span",{className:"text-[var(--text-dim)] font-normal ml-1",children:["(",xe,"%)"]})]})]},H.memberId)})})]})]}),F.filteredBanks.length>0&&a.jsxs("div",{className:"rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors",onClick:()=>e("/accounts/bank"),children:[a.jsx(Jn,{label:"Bank Accounts",color:"var(--text-muted)",linkText:"View",onClick:H=>{H.stopPropagation(),e("/accounts/bank")}}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Account"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Owner"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"A/C Number"})]})}),a.jsx("tbody",{children:F.filteredBanks.map((H,B)=>a.jsxs("tr",{children:[a.jsx("td",{className:"text-[13px] font-medium text-[var(--text-primary)] py-3.5",style:{borderBottom:B<F.filteredBanks.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:H.accountName}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] py-3.5",style:{borderBottom:B<F.filteredBanks.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:H.memberName}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] font-medium py-3.5 text-right tabular-nums",style:{borderBottom:B<F.filteredBanks.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:i(H.accountNumber,"account")})]},H.accountId||B))})]})]}),F.filteredInvAccounts.length>0&&a.jsxs("div",{className:"rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors",onClick:()=>e("/accounts/investment"),children:[a.jsx(Jn,{label:"Investment Accounts",color:"var(--text-muted)",linkText:"View",onClick:H=>{H.stopPropagation(),e("/accounts/investment")}}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Platform"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Owner"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Client ID"})]})}),a.jsx("tbody",{children:F.filteredInvAccounts.map((H,B)=>a.jsxs("tr",{children:[a.jsx("td",{className:"text-[13px] font-medium text-[var(--text-primary)] py-3.5",style:{borderBottom:B<F.filteredInvAccounts.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:H.platformBroker}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] py-3.5",style:{borderBottom:B<F.filteredInvAccounts.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:H.memberName}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] font-medium py-3.5 text-right tabular-nums",style:{borderBottom:B<F.filteredInvAccounts.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:i(H.accountClientId,"clientId")})]},H.accountId||B))})]})]})]})}),a.jsxs("div",{className:"md:col-span-2 mt-3 py-4 px-6 flex items-center justify-between flex-wrap gap-3",style:{borderTop:"1px solid rgba(128,128,128,0.08)"},children:[a.jsxs("a",{href:"https://capitalfriends.in",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2.5 no-underline",children:[a.jsx("img",{src:"/logo-new.png",alt:"Capital Friends",className:"h-[30px] w-auto"}),a.jsxs("span",{style:{fontFamily:"'Poppins', sans-serif",fontSize:"14px",letterSpacing:"0.3px"},children:[a.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:"Capital"}),a.jsx("span",{className:"font-extrabold text-emerald-400",children:"Friends"})]})]}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)]",children:["Built with ",a.jsx("span",{className:"text-rose-500",children:""})," by Jagadeesh Manne"]})]}),a.jsxs("div",{className:"md:col-span-2 py-3 px-6 text-center",style:{background:"linear-gradient(90deg, rgba(236,72,153,0.06) 0%, rgba(139,92,246,0.06) 50%, rgba(236,72,153,0.06) 100%)",borderTop:"1px solid rgba(236,72,153,0.1)"},children:[a.jsxs("p",{className:"text-xs text-pink-400/80",children:[""," If Capital Friends helps your family, consider supporting the developer"]}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-1",children:"UPI: jagadeeshmanne.hdfc@kphdfc"})]})]})]})}function Moe(){return a.jsxs(r8,{children:[a.jsx(Xt,{index:!0,element:a.jsx(cse,{})}),a.jsx(Xt,{path:"login",element:a.jsx(EI,{})}),a.jsx(Xt,{element:a.jsx(ase,{}),children:a.jsxs(Xt,{element:a.jsx(nse,{}),children:[a.jsx(Xt,{path:"dashboard",element:a.jsx(koe,{})}),a.jsx(Xt,{path:"family",element:a.jsx(Wle,{})}),a.jsx(Xt,{path:"accounts/bank",element:a.jsx(kE,{})}),a.jsx(Xt,{path:"accounts/investment",element:a.jsx(hse,{})}),a.jsx(Xt,{path:"insurance",element:a.jsx(bse,{})}),a.jsx(Xt,{path:"investments/mutual-funds",element:a.jsx(Tle,{})}),a.jsx(Xt,{path:"investments/stocks",element:a.jsx(Ule,{})}),a.jsx(Xt,{path:"investments/other",element:a.jsx(_se,{})}),a.jsx(Xt,{path:"liabilities",element:a.jsx(Nse,{})}),a.jsx(Xt,{path:"goals",element:a.jsx(eoe,{})}),a.jsx(Xt,{path:"reports",element:a.jsx(foe,{})}),a.jsx(Xt,{path:"reminders",element:a.jsx(uoe,{})}),a.jsx(Xt,{path:"health-check",element:a.jsx(moe,{})}),a.jsx(Xt,{path:"about",element:a.jsx(hoe,{})}),a.jsx(Xt,{path:"test",element:a.jsx(joe,{})}),a.jsx(Xt,{path:"settings",element:a.jsx(aoe,{})}),a.jsx(Xt,{path:"more",element:a.jsx(noe,{})}),a.jsx(Xt,{path:"accounts",element:a.jsx(kE,{})}),a.jsx(Xt,{path:"*",element:a.jsx(use,{})})]})})]})}n6.createRoot(document.getElementById("root")).render(a.jsx(A8,{children:a.jsx(_F,{children:a.jsx(OF,{children:a.jsx(QB,{children:a.jsx(zB,{children:a.jsx(BB,{children:a.jsx(PF,{children:a.jsx(IF,{children:a.jsx(Moe,{})})})})})})})})}));export{e_ as _,Doe as c,si as g};
