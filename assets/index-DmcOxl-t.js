function ML(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function ni(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var R0={exports:{}},ku={};var rC;function kL(){if(rC)return ku;rC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var u in a)u!=="key"&&(l[u]=a[u])}else l=a;return a=l.ref,{$$typeof:e,type:n,key:c,ref:a!==void 0?a:null,props:l}}return ku.Fragment=t,ku.jsx=r,ku.jsxs=r,ku}var nC;function DL(){return nC||(nC=1,R0.exports=kL()),R0.exports}var s=DL(),L0={exports:{}},et={};var aC;function EL(){if(aC)return et;aC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function b(B){return B===null||typeof B!="object"?null:(B=x&&B[x]||B["@@iterator"],typeof B=="function"?B:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function C(B,ae,ge){this.props=B,this.context=ae,this.refs=y,this.updater=ge||S}C.prototype.isReactComponent={},C.prototype.setState=function(B,ae){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ae,"setState")},C.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function M(){}M.prototype=C.prototype;function A(B,ae,ge){this.props=B,this.context=ae,this.refs=y,this.updater=ge||S}var _=A.prototype=new M;_.constructor=A,w(_,C.prototype),_.isPureReactComponent=!0;var E=Array.isArray;function T(){}var P={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function z(B,ae,ge){var fe=ge.ref;return{$$typeof:e,type:B,key:ae,ref:fe!==void 0?fe:null,props:ge}}function R(B,ae){return z(B.type,ae,B.props)}function F(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function D(B){var ae={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ge){return ae[ge]})}var X=/\/+/g;function W(B,ae){return typeof B=="object"&&B!==null&&B.key!=null?D(""+B.key):ae.toString(36)}function Z(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(T,T):(B.status="pending",B.then(function(ae){B.status==="pending"&&(B.status="fulfilled",B.value=ae)},function(ae){B.status==="pending"&&(B.status="rejected",B.reason=ae)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function $(B,ae,ge,fe,Oe){var ye=typeof B;(ye==="undefined"||ye==="boolean")&&(B=null);var he=!1;if(B===null)he=!0;else switch(ye){case"bigint":case"string":case"number":he=!0;break;case"object":switch(B.$$typeof){case e:case t:he=!0;break;case h:return he=B._init,$(he(B._payload),ae,ge,fe,Oe)}}if(he)return Oe=Oe(B),he=fe===""?"."+W(B,0):fe,E(Oe)?(ge="",he!=null&&(ge=he.replace(X,"$&/")+"/"),$(Oe,ae,ge,"",function(Ee){return Ee})):Oe!=null&&(F(Oe)&&(Oe=R(Oe,ge+(Oe.key==null||B&&B.key===Oe.key?"":(""+Oe.key).replace(X,"$&/")+"/")+he)),ae.push(Oe)),1;he=0;var Se=fe===""?".":fe+":";if(E(B))for(var K=0;K<B.length;K++)fe=B[K],ye=Se+W(fe,K),he+=$(fe,ae,ge,ye,Oe);else if(K=b(B),typeof K=="function")for(B=K.call(B),K=0;!(fe=B.next()).done;)fe=fe.value,ye=Se+W(fe,K++),he+=$(fe,ae,ge,ye,Oe);else if(ye==="object"){if(typeof B.then=="function")return $(Z(B),ae,ge,fe,Oe);throw ae=String(B),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return he}function G(B,ae,ge){if(B==null)return B;var fe=[],Oe=0;return $(B,fe,"","",function(ye){return ae.call(ge,ye,Oe++)}),fe}function L(B){if(B._status===-1){var ae=B._result;ae=ae(),ae.then(function(ge){(B._status===0||B._status===-1)&&(B._status=1,B._result=ge)},function(ge){(B._status===0||B._status===-1)&&(B._status=2,B._result=ge)}),B._status===-1&&(B._status=0,B._result=ae)}if(B._status===1)return B._result.default;throw B._result}var te=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},xe={map:G,forEach:function(B,ae,ge){G(B,function(){ae.apply(this,arguments)},ge)},count:function(B){var ae=0;return G(B,function(){ae++}),ae},toArray:function(B){return G(B,function(ae){return ae})||[]},only:function(B){if(!F(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return et.Activity=v,et.Children=xe,et.Component=C,et.Fragment=r,et.Profiler=a,et.PureComponent=A,et.StrictMode=n,et.Suspense=f,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,et.__COMPILER_RUNTIME={__proto__:null,c:function(B){return P.H.useMemoCache(B)}},et.cache=function(B){return function(){return B.apply(null,arguments)}},et.cacheSignal=function(){return null},et.cloneElement=function(B,ae,ge){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var fe=w({},B.props),Oe=B.key;if(ae!=null)for(ye in ae.key!==void 0&&(Oe=""+ae.key),ae)!O.call(ae,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&ae.ref===void 0||(fe[ye]=ae[ye]);var ye=arguments.length-2;if(ye===1)fe.children=ge;else if(1<ye){for(var he=Array(ye),Se=0;Se<ye;Se++)he[Se]=arguments[Se+2];fe.children=he}return z(B.type,Oe,fe)},et.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},et.createElement=function(B,ae,ge){var fe,Oe={},ye=null;if(ae!=null)for(fe in ae.key!==void 0&&(ye=""+ae.key),ae)O.call(ae,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Oe[fe]=ae[fe]);var he=arguments.length-2;if(he===1)Oe.children=ge;else if(1<he){for(var Se=Array(he),K=0;K<he;K++)Se[K]=arguments[K+2];Oe.children=Se}if(B&&B.defaultProps)for(fe in he=B.defaultProps,he)Oe[fe]===void 0&&(Oe[fe]=he[fe]);return z(B,ye,Oe)},et.createRef=function(){return{current:null}},et.forwardRef=function(B){return{$$typeof:u,render:B}},et.isValidElement=F,et.lazy=function(B){return{$$typeof:h,_payload:{_status:-1,_result:B},_init:L}},et.memo=function(B,ae){return{$$typeof:m,type:B,compare:ae===void 0?null:ae}},et.startTransition=function(B){var ae=P.T,ge={};P.T=ge;try{var fe=B(),Oe=P.S;Oe!==null&&Oe(ge,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(T,te)}catch(ye){te(ye)}finally{ae!==null&&ge.types!==null&&(ae.types=ge.types),P.T=ae}},et.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},et.use=function(B){return P.H.use(B)},et.useActionState=function(B,ae,ge){return P.H.useActionState(B,ae,ge)},et.useCallback=function(B,ae){return P.H.useCallback(B,ae)},et.useContext=function(B){return P.H.useContext(B)},et.useDebugValue=function(){},et.useDeferredValue=function(B,ae){return P.H.useDeferredValue(B,ae)},et.useEffect=function(B,ae){return P.H.useEffect(B,ae)},et.useEffectEvent=function(B){return P.H.useEffectEvent(B)},et.useId=function(){return P.H.useId()},et.useImperativeHandle=function(B,ae,ge){return P.H.useImperativeHandle(B,ae,ge)},et.useInsertionEffect=function(B,ae){return P.H.useInsertionEffect(B,ae)},et.useLayoutEffect=function(B,ae){return P.H.useLayoutEffect(B,ae)},et.useMemo=function(B,ae){return P.H.useMemo(B,ae)},et.useOptimistic=function(B,ae){return P.H.useOptimistic(B,ae)},et.useReducer=function(B,ae,ge){return P.H.useReducer(B,ae,ge)},et.useRef=function(B){return P.H.useRef(B)},et.useState=function(B){return P.H.useState(B)},et.useSyncExternalStore=function(B,ae,ge){return P.H.useSyncExternalStore(B,ae,ge)},et.useTransition=function(){return P.H.useTransition()},et.version="19.2.4",et}var iC;function wc(){return iC||(iC=1,L0.exports=EL()),L0.exports}var j=wc();const ce=ni(j),n1=ML({__proto__:null,default:ce},[j]);var z0={exports:{}},Du={},F0={exports:{}},B0={};var sC;function _L(){return sC||(sC=1,(function(e){function t($,G){var L=$.length;$.push(G);e:for(;0<L;){var te=L-1>>>1,xe=$[te];if(0<a(xe,G))$[te]=G,$[L]=xe,L=te;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var G=$[0],L=$.pop();if(L!==G){$[0]=L;e:for(var te=0,xe=$.length,B=xe>>>1;te<B;){var ae=2*(te+1)-1,ge=$[ae],fe=ae+1,Oe=$[fe];if(0>a(ge,L))fe<xe&&0>a(Oe,ge)?($[te]=Oe,$[fe]=L,te=fe):($[te]=ge,$[ae]=L,te=ae);else if(fe<xe&&0>a(Oe,L))$[te]=Oe,$[fe]=L,te=fe;else break e}}return G}function a($,G){var L=$.sortIndex-G.sortIndex;return L!==0?L:$.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],m=[],h=1,v=null,x=3,b=!1,S=!1,w=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function _($){for(var G=r(m);G!==null;){if(G.callback===null)n(m);else if(G.startTime<=$)n(m),G.sortIndex=G.expirationTime,t(f,G);else break;G=r(m)}}function E($){if(w=!1,_($),!S)if(r(f)!==null)S=!0,T||(T=!0,D());else{var G=r(m);G!==null&&Z(E,G.startTime-$)}}var T=!1,P=-1,O=5,z=-1;function R(){return y?!0:!(e.unstable_now()-z<O)}function F(){if(y=!1,T){var $=e.unstable_now();z=$;var G=!0;try{e:{S=!1,w&&(w=!1,M(P),P=-1),b=!0;var L=x;try{t:{for(_($),v=r(f);v!==null&&!(v.expirationTime>$&&R());){var te=v.callback;if(typeof te=="function"){v.callback=null,x=v.priorityLevel;var xe=te(v.expirationTime<=$);if($=e.unstable_now(),typeof xe=="function"){v.callback=xe,_($),G=!0;break t}v===r(f)&&n(f),_($)}else n(f);v=r(f)}if(v!==null)G=!0;else{var B=r(m);B!==null&&Z(E,B.startTime-$),G=!1}}break e}finally{v=null,x=L,b=!1}G=void 0}}finally{G?D():T=!1}}}var D;if(typeof A=="function")D=function(){A(F)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,W=X.port2;X.port1.onmessage=F,D=function(){W.postMessage(null)}}else D=function(){C(F,0)};function Z($,G){P=C(function(){$(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function($){switch(x){case 1:case 2:case 3:var G=3;break;default:G=x}var L=x;x=G;try{return $()}finally{x=L}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var L=x;x=$;try{return G()}finally{x=L}},e.unstable_scheduleCallback=function($,G,L){var te=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?te+L:te):L=te,$){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=L+xe,$={id:h++,callback:G,priorityLevel:$,startTime:L,expirationTime:xe,sortIndex:-1},L>te?($.sortIndex=L,t(m,$),r(f)===null&&$===r(m)&&(w?(M(P),P=-1):w=!0,Z(E,L-te))):($.sortIndex=xe,t(f,$),S||b||(S=!0,T||(T=!0,D()))),$},e.unstable_shouldYield=R,e.unstable_wrapCallback=function($){var G=x;return function(){var L=x;x=G;try{return $.apply(this,arguments)}finally{x=L}}}})(B0)),B0}var lC;function OL(){return lC||(lC=1,F0.exports=_L()),F0.exports}var $0={exports:{}},Gr={};var oC;function TL(){if(oC)return Gr;oC=1;var e=wc();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)m+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,m,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:m,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Gr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Gr.createPortal=function(f,m){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(f,m,null,h)},Gr.flushSync=function(f){var m=c.T,h=n.p;try{if(c.T=null,n.p=2,f)return f()}finally{c.T=m,n.p=h,n.d.f()}},Gr.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(f,m))},Gr.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Gr.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var h=m.as,v=u(h,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;h==="style"?n.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:b}):h==="script"&&n.d.X(f,{crossOrigin:v,integrity:x,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Gr.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var h=u(m.as,m.crossOrigin);n.d.M(f,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(f)},Gr.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var h=m.as,v=u(h,m.crossOrigin);n.d.L(f,h,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Gr.preloadModule=function(f,m){if(typeof f=="string")if(m){var h=u(m.as,m.crossOrigin);n.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(f)},Gr.requestFormReset=function(f){n.d.r(f)},Gr.unstable_batchedUpdates=function(f,m){return f(m)},Gr.useFormState=function(f,m,h){return c.H.useFormState(f,m,h)},Gr.useFormStatus=function(){return c.H.useHostTransitionStatus()},Gr.version="19.2.4",Gr}var cC;function R_(){if(cC)return $0.exports;cC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$0.exports=TL(),$0.exports}var uC;function PL(){if(uC)return Du;uC=1;var e=OL(),t=wc(),r=R_();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,d=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(d=o.return),i=o.return;while(i)}return o.tag===3?d:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(n(188))}function m(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(n(188));return o!==i?null:i}for(var d=i,p=o;;){var g=d.return;if(g===null)break;var N=g.alternate;if(N===null){if(p=g.return,p!==null){d=p;continue}break}if(g.child===N.child){for(N=g.child;N;){if(N===d)return f(g),i;if(N===p)return f(g),o;N=N.sibling}throw Error(n(188))}if(d.return!==p.return)d=g,p=N;else{for(var k=!1,I=g.child;I;){if(I===d){k=!0,d=g,p=N;break}if(I===p){k=!0,p=g,d=N;break}I=I.sibling}if(!k){for(I=N.child;I;){if(I===d){k=!0,d=N,p=g;break}if(I===p){k=!0,p=N,d=g;break}I=I.sibling}if(!k)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:o}function h(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=h(i),o!==null)return o;i=i.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),A=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var X=Symbol.for("react.client.reference");function W(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===X?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case C:return"Profiler";case y:return"StrictMode";case E:return"Suspense";case T:return"SuspenseList";case z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case A:return i.displayName||"Context";case M:return(i._context.displayName||"Context")+".Consumer";case _:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return o=i.displayName||null,o!==null?o:W(i.type)||"Memo";case O:o=i._payload,i=i._init;try{return W(i(o))}catch{}}return null}var Z=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},te=[],xe=-1;function B(i){return{current:i}}function ae(i){0>xe||(i.current=te[xe],te[xe]=null,xe--)}function ge(i,o){xe++,te[xe]=i.current,i.current=o}var fe=B(null),Oe=B(null),ye=B(null),he=B(null);function Se(i,o){switch(ge(ye,o),ge(Oe,i),ge(fe,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?C2(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=C2(o),i=A2(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ae(fe),ge(fe,i)}function K(){ae(fe),ae(Oe),ae(ye)}function Ee(i){i.memoizedState!==null&&ge(he,i);var o=fe.current,d=A2(o,i.type);o!==d&&(ge(Oe,i),ge(fe,d))}function $e(i){Oe.current===i&&(ae(fe),ae(Oe)),he.current===i&&(ae(he),Su._currentValue=L)}var ve,tt;function Ye(i){if(ve===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);ve=o&&o[1]||"",tt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+i+tt}var yt=!1;function xt(i,o){if(!i||yt)return"";yt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(se){var re=se}Reflect.construct(i,[],pe)}else{try{pe.call()}catch(se){re=se}i.call(pe.prototype)}}else{try{throw Error()}catch(se){re=se}(pe=i())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(se){if(se&&re&&typeof se.stack=="string")return[se.stack,re.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),k=N[0],I=N[1];if(k&&I){var q=k.split(`
`),ee=I.split(`
`);for(g=p=0;p<q.length&&!q[p].includes("DetermineComponentFrameRoot");)p++;for(;g<ee.length&&!ee[g].includes("DetermineComponentFrameRoot");)g++;if(p===q.length||g===ee.length)for(p=q.length-1,g=ee.length-1;1<=p&&0<=g&&q[p]!==ee[g];)g--;for(;1<=p&&0<=g;p--,g--)if(q[p]!==ee[g]){if(p!==1||g!==1)do if(p--,g--,0>g||q[p]!==ee[g]){var de=`
`+q[p].replace(" at new "," at ");return i.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",i.displayName)),de}while(1<=p&&0<=g);break}}}finally{yt=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?Ye(d):""}function nt(i,o){switch(i.tag){case 26:case 27:case 5:return Ye(i.type);case 16:return Ye("Lazy");case 13:return i.child!==o&&o!==null?Ye("Suspense Fallback"):Ye("Suspense");case 19:return Ye("SuspenseList");case 0:case 15:return xt(i.type,!1);case 11:return xt(i.type.render,!1);case 1:return xt(i.type,!0);case 31:return Ye("Activity");default:return""}}function Ie(i){try{var o="",d=null;do o+=nt(i,d),d=i,i=i.return;while(i);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var qe=Object.prototype.hasOwnProperty,Bt=e.unstable_scheduleCallback,ot=e.unstable_cancelCallback,St=e.unstable_shouldYield,tr=e.unstable_requestPaint,rr=e.unstable_now,as=e.unstable_getCurrentPriorityLevel,la=e.unstable_ImmediatePriority,ue=e.unstable_UserBlockingPriority,be=e.unstable_NormalPriority,ze=e.unstable_LowPriority,Y=e.unstable_IdlePriority,ie=e.log,Ae=e.unstable_setDisableYieldValue,We=null,ke=null;function oe(i){if(typeof ie=="function"&&Ae(i),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(We,i)}catch{}}var Ge=Math.clz32?Math.clz32:Wt,Fe=Math.log,Ht=Math.LN2;function Wt(i){return i>>>=0,i===0?32:31-(Fe(i)/Ht|0)|0}var $t=256,He=262144,Ze=4194304;function je(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Je(i,o,d){var p=i.pendingLanes;if(p===0)return 0;var g=0,N=i.suspendedLanes,k=i.pingedLanes;i=i.warmLanes;var I=p&134217727;return I!==0?(p=I&~N,p!==0?g=je(p):(k&=I,k!==0?g=je(k):d||(d=I&~i,d!==0&&(g=je(d))))):(I=p&~N,I!==0?g=je(I):k!==0?g=je(k):d||(d=p&~i,d!==0&&(g=je(d)))),g===0?0:o!==0&&o!==g&&(o&N)===0&&(N=g&-g,d=o&-o,N>=d||N===32&&(d&4194048)!==0)?o:g}function Ue(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Lt(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yr(){var i=Ze;return Ze<<=1,(Ze&62914560)===0&&(Ze=4194304),i}function Dr(i){for(var o=[],d=0;31>d;d++)o.push(i);return o}function Ne(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Rr(i,o,d,p,g,N){var k=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var I=i.entanglements,q=i.expirationTimes,ee=i.hiddenUpdates;for(d=k&~d;0<d;){var de=31-Ge(d),pe=1<<de;I[de]=0,q[de]=-1;var re=ee[de];if(re!==null)for(ee[de]=null,de=0;de<re.length;de++){var se=re[de];se!==null&&(se.lane&=-536870913)}d&=~pe}p!==0&&ci(i,p,0),N!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=N&~(k&~o))}function ci(i,o,d){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-Ge(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|d&261930}function ka(i,o){var d=i.entangledLanes|=o;for(i=i.entanglements;d;){var p=31-Ge(d),g=1<<p;g&o|i[p]&o&&(i[p]|=o),d&=~g}}function ui(i,o){var d=o&-o;return d=(d&42)!==0?1:Da(d),(d&(i.suspendedLanes|o))!==0?0:d}function Da(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function is(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ss(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:K2(i.type))}function al(i,o){var d=G.p;try{return G.p=i,o()}finally{G.p=d}}var Ea=Math.random().toString(36).slice(2),Nr="__reactFiber$"+Ea,Vr="__reactProps$"+Ea,ls="__reactContainer$"+Ea,zc="__reactEvents$"+Ea,Mv="__reactListeners$"+Ea,kv="__reactHandles$"+Ea,Qd="__reactResources$"+Ea,il="__reactMarker$"+Ea;function Fc(i){delete i[Nr],delete i[Vr],delete i[zc],delete i[Mv],delete i[kv]}function os(i){var o=i[Nr];if(o)return o;for(var d=i.parentNode;d;){if(o=d[ls]||d[Nr]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(i=T2(i);i!==null;){if(d=i[Nr])return d;i=T2(i)}return o}i=d,d=i.parentNode}return null}function cs(i){if(i=i[Nr]||i[ls]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function H(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function we(i){var o=i[Qd];return o||(o=i[Qd]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function gt(i){i[il]=!0}var an=new Set,_a={};function Xr(i,o){sn(i,o),sn(i+"Capture",o)}function sn(i,o){for(_a[i]=o,i=0;i<o.length;i++)an.add(o[i])}var io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bc={},jn={};function Oa(i){return qe.call(jn,i)?!0:qe.call(Bc,i)?!1:io.test(i)?jn[i]=!0:(Bc[i]=!0,!1)}function Xd(i,o,d){if(Oa(o))if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+d)}}function Zd(i,o,d){if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+d)}}function di(i,o,d,p){if(p===null)i.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(o,d,""+p)}}function $n(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function xj(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function yI(i,o,d){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var g=p.get,N=p.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(k){d=""+k,N.call(this,k)}}),Object.defineProperty(i,o,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Dv(i){if(!i._valueTracker){var o=xj(i)?"checked":"value";i._valueTracker=yI(i,o,""+i[o])}}function gj(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var d=o.getValue(),p="";return i&&(p=xj(i)?i.checked?"true":"false":i.value),i=p,i!==d?(o.setValue(i),!0):!1}function Jd(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var wI=/[\n"\\]/g;function qn(i){return i.replace(wI,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ev(i,o,d,p,g,N,k,I){i.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.type=k:i.removeAttribute("type"),o!=null?k==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+$n(o)):i.value!==""+$n(o)&&(i.value=""+$n(o)):k!=="submit"&&k!=="reset"||i.removeAttribute("value"),o!=null?_v(i,k,$n(o)):d!=null?_v(i,k,$n(d)):p!=null&&i.removeAttribute("value"),g==null&&N!=null&&(i.defaultChecked=!!N),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+$n(I):i.removeAttribute("name")}function bj(i,o,d,p,g,N,k,I){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.type=N),o!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||o!=null)){Dv(i);return}d=d!=null?""+$n(d):"",o=o!=null?""+$n(o):d,I||o===i.value||(i.value=o),i.defaultValue=o}p=p??g,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=I?i.checked:!!p,i.defaultChecked=!!p,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(i.name=k),Dv(i)}function _v(i,o,d){o==="number"&&Jd(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function so(i,o,d,p){if(i=i.options,o){o={};for(var g=0;g<d.length;g++)o["$"+d[g]]=!0;for(d=0;d<i.length;d++)g=o.hasOwnProperty("$"+i[d].value),i[d].selected!==g&&(i[d].selected=g),g&&p&&(i[d].defaultSelected=!0)}else{for(d=""+$n(d),o=null,g=0;g<i.length;g++){if(i[g].value===d){i[g].selected=!0,p&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function yj(i,o,d){if(o!=null&&(o=""+$n(o),o!==i.value&&(i.value=o),d==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=d!=null?""+$n(d):""}function wj(i,o,d,p){if(o==null){if(p!=null){if(d!=null)throw Error(n(92));if(Z(p)){if(1<p.length)throw Error(n(93));p=p[0]}d=p}d==null&&(d=""),o=d}d=$n(o),i.defaultValue=d,p=i.textContent,p===d&&p!==""&&p!==null&&(i.value=p),Dv(i)}function lo(i,o){if(o){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=o;return}}i.textContent=o}var jI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jj(i,o,d){var p=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,d):typeof d!="number"||d===0||jI.has(o)?o==="float"?i.cssFloat=d:i[o]=(""+d).trim():i[o]=d+"px"}function Nj(i,o,d){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var g in o)p=o[g],o.hasOwnProperty(g)&&d[g]!==p&&jj(i,g,p)}else for(var N in o)o.hasOwnProperty(N)&&jj(i,N,o[N])}function Ov(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),SI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ef(i){return SI.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function fi(){}var Tv=null;function Pv(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var oo=null,co=null;function Sj(i){var o=cs(i);if(o&&(i=o.stateNode)){var d=i[Vr]||null;e:switch(i=o.stateNode,o.type){case"input":if(Ev(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+qn(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var p=d[o];if(p!==i&&p.form===i.form){var g=p[Vr]||null;if(!g)throw Error(n(90));Ev(p,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<d.length;o++)p=d[o],p.form===i.form&&gj(p)}break e;case"textarea":yj(i,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&so(i,!!d.multiple,o,!1)}}}var Iv=!1;function Cj(i,o,d){if(Iv)return i(o,d);Iv=!0;try{var p=i(o);return p}finally{if(Iv=!1,(oo!==null||co!==null)&&(qf(),oo&&(o=oo,i=co,co=oo=null,Sj(o),i)))for(o=0;o<i.length;o++)Sj(i[o])}}function $c(i,o){var d=i.stateNode;if(d===null)return null;var p=d[Vr]||null;if(p===null)return null;d=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,o,typeof d));return d}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rv=!1;if(mi)try{var qc={};Object.defineProperty(qc,"passive",{get:function(){Rv=!0}}),window.addEventListener("test",qc,qc),window.removeEventListener("test",qc,qc)}catch{Rv=!1}var us=null,Lv=null,tf=null;function Aj(){if(tf)return tf;var i,o=Lv,d=o.length,p,g="value"in us?us.value:us.textContent,N=g.length;for(i=0;i<d&&o[i]===g[i];i++);var k=d-i;for(p=1;p<=k&&o[d-p]===g[N-p];p++);return tf=g.slice(i,1<p?1-p:void 0)}function rf(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function nf(){return!0}function Mj(){return!1}function ln(i){function o(d,p,g,N,k){this._reactName=d,this._targetInst=g,this.type=p,this.nativeEvent=N,this.target=k,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(d=i[I],this[I]=d?d(N):N[I]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?nf:Mj,this.isPropagationStopped=Mj,this}return v(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=nf)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=nf)},persist:function(){},isPersistent:nf}),o}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},af=ln(sl),Hc=v({},sl,{view:0,detail:0}),CI=ln(Hc),zv,Fv,Uc,sf=v({},Hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$v,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Uc&&(Uc&&i.type==="mousemove"?(zv=i.screenX-Uc.screenX,Fv=i.screenY-Uc.screenY):Fv=zv=0,Uc=i),zv)},movementY:function(i){return"movementY"in i?i.movementY:Fv}}),kj=ln(sf),AI=v({},sf,{dataTransfer:0}),MI=ln(AI),kI=v({},Hc,{relatedTarget:0}),Bv=ln(kI),DI=v({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),EI=ln(DI),_I=v({},sl,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),OI=ln(_I),TI=v({},sl,{data:0}),Dj=ln(TI),PI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},II={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LI(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=RI[i])?!!o[i]:!1}function $v(){return LI}var zI=v({},Hc,{key:function(i){if(i.key){var o=PI[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=rf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?II[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$v,charCode:function(i){return i.type==="keypress"?rf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?rf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),FI=ln(zI),BI=v({},sf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ej=ln(BI),$I=v({},Hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$v}),qI=ln($I),HI=v({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),UI=ln(HI),YI=v({},sf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),VI=ln(YI),GI=v({},sl,{newState:0,oldState:0}),WI=ln(GI),KI=[9,13,27,32],qv=mi&&"CompositionEvent"in window,Yc=null;mi&&"documentMode"in document&&(Yc=document.documentMode);var QI=mi&&"TextEvent"in window&&!Yc,_j=mi&&(!qv||Yc&&8<Yc&&11>=Yc),Oj=" ",Tj=!1;function Pj(i,o){switch(i){case"keyup":return KI.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ij(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var uo=!1;function XI(i,o){switch(i){case"compositionend":return Ij(o);case"keypress":return o.which!==32?null:(Tj=!0,Oj);case"textInput":return i=o.data,i===Oj&&Tj?null:i;default:return null}}function ZI(i,o){if(uo)return i==="compositionend"||!qv&&Pj(i,o)?(i=Aj(),tf=Lv=us=null,uo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return _j&&o.locale!=="ko"?null:o.data;default:return null}}var JI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rj(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!JI[i.type]:o==="textarea"}function Lj(i,o,d,p){oo?co?co.push(p):co=[p]:oo=p,o=Kf(o,"onChange"),0<o.length&&(d=new af("onChange","change",null,d,p),i.push({event:d,listeners:o}))}var Vc=null,Gc=null;function eR(i){b2(i,0)}function lf(i){var o=H(i);if(gj(o))return i}function zj(i,o){if(i==="change")return o}var Fj=!1;if(mi){var Hv;if(mi){var Uv="oninput"in document;if(!Uv){var Bj=document.createElement("div");Bj.setAttribute("oninput","return;"),Uv=typeof Bj.oninput=="function"}Hv=Uv}else Hv=!1;Fj=Hv&&(!document.documentMode||9<document.documentMode)}function $j(){Vc&&(Vc.detachEvent("onpropertychange",qj),Gc=Vc=null)}function qj(i){if(i.propertyName==="value"&&lf(Gc)){var o=[];Lj(o,Gc,i,Pv(i)),Cj(eR,o)}}function tR(i,o,d){i==="focusin"?($j(),Vc=o,Gc=d,Vc.attachEvent("onpropertychange",qj)):i==="focusout"&&$j()}function rR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return lf(Gc)}function nR(i,o){if(i==="click")return lf(o)}function aR(i,o){if(i==="input"||i==="change")return lf(o)}function iR(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Nn=typeof Object.is=="function"?Object.is:iR;function Wc(i,o){if(Nn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var d=Object.keys(i),p=Object.keys(o);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var g=d[p];if(!qe.call(o,g)||!Nn(i[g],o[g]))return!1}return!0}function Hj(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Uj(i,o){var d=Hj(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=o&&p>=o)return{node:d,offset:o-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Hj(d)}}function Yj(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Yj(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Vj(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Jd(i.document);o instanceof i.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)i=o.contentWindow;else break;o=Jd(i.document)}return o}function Yv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var sR=mi&&"documentMode"in document&&11>=document.documentMode,fo=null,Vv=null,Kc=null,Gv=!1;function Gj(i,o,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Gv||fo==null||fo!==Jd(p)||(p=fo,"selectionStart"in p&&Yv(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Kc&&Wc(Kc,p)||(Kc=p,p=Kf(Vv,"onSelect"),0<p.length&&(o=new af("onSelect","select",null,o,d),i.push({event:o,listeners:p}),o.target=fo)))}function ll(i,o){var d={};return d[i.toLowerCase()]=o.toLowerCase(),d["Webkit"+i]="webkit"+o,d["Moz"+i]="moz"+o,d}var mo={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionrun:ll("Transition","TransitionRun"),transitionstart:ll("Transition","TransitionStart"),transitioncancel:ll("Transition","TransitionCancel"),transitionend:ll("Transition","TransitionEnd")},Wv={},Wj={};mi&&(Wj=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function ol(i){if(Wv[i])return Wv[i];if(!mo[i])return i;var o=mo[i],d;for(d in o)if(o.hasOwnProperty(d)&&d in Wj)return Wv[i]=o[d];return i}var Kj=ol("animationend"),Qj=ol("animationiteration"),Xj=ol("animationstart"),lR=ol("transitionrun"),oR=ol("transitionstart"),cR=ol("transitioncancel"),Zj=ol("transitionend"),Jj=new Map,Kv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kv.push("scrollEnd");function oa(i,o){Jj.set(i,o),Xr(o,[i])}var of=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Hn=[],po=0,Qv=0;function cf(){for(var i=po,o=Qv=po=0;o<i;){var d=Hn[o];Hn[o++]=null;var p=Hn[o];Hn[o++]=null;var g=Hn[o];Hn[o++]=null;var N=Hn[o];if(Hn[o++]=null,p!==null&&g!==null){var k=p.pending;k===null?g.next=g:(g.next=k.next,k.next=g),p.pending=g}N!==0&&eN(d,g,N)}}function uf(i,o,d,p){Hn[po++]=i,Hn[po++]=o,Hn[po++]=d,Hn[po++]=p,Qv|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function Xv(i,o,d,p){return uf(i,o,d,p),df(i)}function cl(i,o){return uf(i,null,null,o),df(i)}function eN(i,o,d){i.lanes|=d;var p=i.alternate;p!==null&&(p.lanes|=d);for(var g=!1,N=i.return;N!==null;)N.childLanes|=d,p=N.alternate,p!==null&&(p.childLanes|=d),N.tag===22&&(i=N.stateNode,i===null||i._visibility&1||(g=!0)),i=N,N=N.return;return i.tag===3?(N=i.stateNode,g&&o!==null&&(g=31-Ge(d),i=N.hiddenUpdates,p=i[g],p===null?i[g]=[o]:p.push(o),o.lane=d|536870912),N):null}function df(i){if(50<xu)throw xu=0,s0=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var ho={};function uR(i,o,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(i,o,d,p){return new uR(i,o,d,p)}function Zv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function pi(i,o){var d=i.alternate;return d===null?(d=Sn(i.tag,o,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=o,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,o=i.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function tN(i,o){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,o=d.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function ff(i,o,d,p,g,N){var k=0;if(p=i,typeof i=="function")Zv(i)&&(k=1);else if(typeof i=="string")k=hL(i,d,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case z:return i=Sn(31,d,o,g),i.elementType=z,i.lanes=N,i;case w:return ul(d.children,g,N,o);case y:k=8,g|=24;break;case C:return i=Sn(12,d,o,g|2),i.elementType=C,i.lanes=N,i;case E:return i=Sn(13,d,o,g),i.elementType=E,i.lanes=N,i;case T:return i=Sn(19,d,o,g),i.elementType=T,i.lanes=N,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:k=10;break e;case M:k=9;break e;case _:k=11;break e;case P:k=14;break e;case O:k=16,p=null;break e}k=29,d=Error(n(130,i===null?"null":typeof i,"")),p=null}return o=Sn(k,d,o,g),o.elementType=i,o.type=p,o.lanes=N,o}function ul(i,o,d,p){return i=Sn(7,i,p,o),i.lanes=d,i}function Jv(i,o,d){return i=Sn(6,i,null,o),i.lanes=d,i}function rN(i){var o=Sn(18,null,null,0);return o.stateNode=i,o}function ex(i,o,d){return o=Sn(4,i.children!==null?i.children:[],i.key,o),o.lanes=d,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var nN=new WeakMap;function Un(i,o){if(typeof i=="object"&&i!==null){var d=nN.get(i);return d!==void 0?d:(o={value:i,source:o,stack:Ie(o)},nN.set(i,o),o)}return{value:i,source:o,stack:Ie(o)}}var vo=[],xo=0,mf=null,Qc=0,Yn=[],Vn=0,ds=null,Ta=1,Pa="";function hi(i,o){vo[xo++]=Qc,vo[xo++]=mf,mf=i,Qc=o}function aN(i,o,d){Yn[Vn++]=Ta,Yn[Vn++]=Pa,Yn[Vn++]=ds,ds=i;var p=Ta;i=Pa;var g=32-Ge(p)-1;p&=~(1<<g),d+=1;var N=32-Ge(o)+g;if(30<N){var k=g-g%5;N=(p&(1<<k)-1).toString(32),p>>=k,g-=k,Ta=1<<32-Ge(o)+g|d<<g|p,Pa=N+i}else Ta=1<<N|d<<g|p,Pa=i}function tx(i){i.return!==null&&(hi(i,1),aN(i,1,0))}function rx(i){for(;i===mf;)mf=vo[--xo],vo[xo]=null,Qc=vo[--xo],vo[xo]=null;for(;i===ds;)ds=Yn[--Vn],Yn[Vn]=null,Pa=Yn[--Vn],Yn[Vn]=null,Ta=Yn[--Vn],Yn[Vn]=null}function iN(i,o){Yn[Vn++]=Ta,Yn[Vn++]=Pa,Yn[Vn++]=ds,Ta=o.id,Pa=o.overflow,ds=i}var Lr=null,Ut=null,vt=!1,fs=null,Gn=!1,nx=Error(n(519));function ms(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xc(Un(o,i)),nx}function sN(i){var o=i.stateNode,d=i.type,p=i.memoizedProps;switch(o[Nr]=i,o[Vr]=p,d){case"dialog":ut("cancel",o),ut("close",o);break;case"iframe":case"object":case"embed":ut("load",o);break;case"video":case"audio":for(d=0;d<bu.length;d++)ut(bu[d],o);break;case"source":ut("error",o);break;case"img":case"image":case"link":ut("error",o),ut("load",o);break;case"details":ut("toggle",o);break;case"input":ut("invalid",o),bj(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":ut("invalid",o);break;case"textarea":ut("invalid",o),wj(o,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||p.suppressHydrationWarning===!0||N2(o.textContent,d)?(p.popover!=null&&(ut("beforetoggle",o),ut("toggle",o)),p.onScroll!=null&&ut("scroll",o),p.onScrollEnd!=null&&ut("scrollend",o),p.onClick!=null&&(o.onclick=fi),o=!0):o=!1,o||ms(i,!0)}function lN(i){for(Lr=i.return;Lr;)switch(Lr.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Lr=Lr.return}}function go(i){if(i!==Lr)return!1;if(!vt)return lN(i),vt=!0,!1;var o=i.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||w0(i.type,i.memoizedProps)),d=!d),d&&Ut&&ms(i),lN(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Ut=O2(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Ut=O2(i)}else o===27?(o=Ut,Ms(i.type)?(i=A0,A0=null,Ut=i):Ut=o):Ut=Lr?Kn(i.stateNode.nextSibling):null;return!0}function dl(){Ut=Lr=null,vt=!1}function ax(){var i=fs;return i!==null&&(dn===null?dn=i:dn.push.apply(dn,i),fs=null),i}function Xc(i){fs===null?fs=[i]:fs.push(i)}var ix=B(null),fl=null,vi=null;function ps(i,o,d){ge(ix,o._currentValue),o._currentValue=d}function xi(i){i._currentValue=ix.current,ae(ix)}function sx(i,o,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===d)break;i=i.return}}function lx(i,o,d,p){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var N=g.dependencies;if(N!==null){var k=g.child;N=N.firstContext;e:for(;N!==null;){var I=N;N=g;for(var q=0;q<o.length;q++)if(I.context===o[q]){N.lanes|=d,I=N.alternate,I!==null&&(I.lanes|=d),sx(N.return,d,i),p||(k=null);break e}N=I.next}}else if(g.tag===18){if(k=g.return,k===null)throw Error(n(341));k.lanes|=d,N=k.alternate,N!==null&&(N.lanes|=d),sx(k,d,i),k=null}else k=g.child;if(k!==null)k.return=g;else for(k=g;k!==null;){if(k===i){k=null;break}if(g=k.sibling,g!==null){g.return=k.return,k=g;break}k=k.return}g=k}}function bo(i,o,d,p){i=null;for(var g=o,N=!1;g!==null;){if(!N){if((g.flags&524288)!==0)N=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var k=g.alternate;if(k===null)throw Error(n(387));if(k=k.memoizedProps,k!==null){var I=g.type;Nn(g.pendingProps.value,k.value)||(i!==null?i.push(I):i=[I])}}else if(g===he.current){if(k=g.alternate,k===null)throw Error(n(387));k.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Su):i=[Su])}g=g.return}i!==null&&lx(o,i,d,p),o.flags|=262144}function pf(i){for(i=i.firstContext;i!==null;){if(!Nn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ml(i){fl=i,vi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function zr(i){return oN(fl,i)}function hf(i,o){return fl===null&&ml(i),oN(i,o)}function oN(i,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},vi===null){if(i===null)throw Error(n(308));vi=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else vi=vi.next=o;return d}var dR=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(d,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(d){return d()})}},fR=e.unstable_scheduleCallback,mR=e.unstable_NormalPriority,xr={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ox(){return{controller:new dR,data:new Map,refCount:0}}function Zc(i){i.refCount--,i.refCount===0&&fR(mR,function(){i.controller.abort()})}var Jc=null,cx=0,yo=0,wo=null;function pR(i,o){if(Jc===null){var d=Jc=[];cx=0,yo=f0(),wo={status:"pending",value:void 0,then:function(p){d.push(p)}}}return cx++,o.then(cN,cN),o}function cN(){if(--cx===0&&Jc!==null){wo!==null&&(wo.status="fulfilled");var i=Jc;Jc=null,yo=0,wo=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function hR(i,o){var d=[],p={status:"pending",value:null,reason:null,then:function(g){d.push(g)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var g=0;g<d.length;g++)(0,d[g])(o)},function(g){for(p.status="rejected",p.reason=g,g=0;g<d.length;g++)(0,d[g])(void 0)}),p}var uN=$.S;$.S=function(i,o){GS=rr(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&pR(i,o),uN!==null&&uN(i,o)};var pl=B(null);function ux(){var i=pl.current;return i!==null?i:zt.pooledCache}function vf(i,o){o===null?ge(pl,pl.current):ge(pl,o.pool)}function dN(){var i=ux();return i===null?null:{parent:xr._currentValue,pool:i}}var jo=Error(n(460)),dx=Error(n(474)),xf=Error(n(542)),gf={then:function(){}};function fN(i){return i=i.status,i==="fulfilled"||i==="rejected"}function mN(i,o,d){switch(d=i[d],d===void 0?i.push(o):d!==o&&(o.then(fi,fi),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,hN(i),i;default:if(typeof o.status=="string")o.then(fi,fi);else{if(i=zt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=p}},function(p){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,hN(i),i}throw vl=o,jo}}function hl(i){try{var o=i._init;return o(i._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(vl=d,jo):d}}var vl=null;function pN(){if(vl===null)throw Error(n(459));var i=vl;return vl=null,i}function hN(i){if(i===jo||i===xf)throw Error(n(483))}var No=null,eu=0;function bf(i){var o=eu;return eu+=1,No===null&&(No=[]),mN(No,i,o)}function tu(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function yf(i,o){throw o.$$typeof===x?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function vN(i){function o(V,U){if(i){var J=V.deletions;J===null?(V.deletions=[U],V.flags|=16):J.push(U)}}function d(V,U){if(!i)return null;for(;U!==null;)o(V,U),U=U.sibling;return null}function p(V){for(var U=new Map;V!==null;)V.key!==null?U.set(V.key,V):U.set(V.index,V),V=V.sibling;return U}function g(V,U){return V=pi(V,U),V.index=0,V.sibling=null,V}function N(V,U,J){return V.index=J,i?(J=V.alternate,J!==null?(J=J.index,J<U?(V.flags|=67108866,U):J):(V.flags|=67108866,U)):(V.flags|=1048576,U)}function k(V){return i&&V.alternate===null&&(V.flags|=67108866),V}function I(V,U,J,me){return U===null||U.tag!==6?(U=Jv(J,V.mode,me),U.return=V,U):(U=g(U,J),U.return=V,U)}function q(V,U,J,me){var Be=J.type;return Be===w?de(V,U,J.props.children,me,J.key):U!==null&&(U.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===O&&hl(Be)===U.type)?(U=g(U,J.props),tu(U,J),U.return=V,U):(U=ff(J.type,J.key,J.props,null,V.mode,me),tu(U,J),U.return=V,U)}function ee(V,U,J,me){return U===null||U.tag!==4||U.stateNode.containerInfo!==J.containerInfo||U.stateNode.implementation!==J.implementation?(U=ex(J,V.mode,me),U.return=V,U):(U=g(U,J.children||[]),U.return=V,U)}function de(V,U,J,me,Be){return U===null||U.tag!==7?(U=ul(J,V.mode,me,Be),U.return=V,U):(U=g(U,J),U.return=V,U)}function pe(V,U,J){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Jv(""+U,V.mode,J),U.return=V,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return J=ff(U.type,U.key,U.props,null,V.mode,J),tu(J,U),J.return=V,J;case S:return U=ex(U,V.mode,J),U.return=V,U;case O:return U=hl(U),pe(V,U,J)}if(Z(U)||D(U))return U=ul(U,V.mode,J,null),U.return=V,U;if(typeof U.then=="function")return pe(V,bf(U),J);if(U.$$typeof===A)return pe(V,hf(V,U),J);yf(V,U)}return null}function re(V,U,J,me){var Be=U!==null?U.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Be!==null?null:I(V,U,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return J.key===Be?q(V,U,J,me):null;case S:return J.key===Be?ee(V,U,J,me):null;case O:return J=hl(J),re(V,U,J,me)}if(Z(J)||D(J))return Be!==null?null:de(V,U,J,me,null);if(typeof J.then=="function")return re(V,U,bf(J),me);if(J.$$typeof===A)return re(V,U,hf(V,J),me);yf(V,J)}return null}function se(V,U,J,me,Be){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return V=V.get(J)||null,I(U,V,""+me,Be);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case b:return V=V.get(me.key===null?J:me.key)||null,q(U,V,me,Be);case S:return V=V.get(me.key===null?J:me.key)||null,ee(U,V,me,Be);case O:return me=hl(me),se(V,U,J,me,Be)}if(Z(me)||D(me))return V=V.get(J)||null,de(U,V,me,Be,null);if(typeof me.then=="function")return se(V,U,J,bf(me),Be);if(me.$$typeof===A)return se(V,U,J,hf(U,me),Be);yf(U,me)}return null}function Pe(V,U,J,me){for(var Be=null,wt=null,Re=U,at=U=0,mt=null;Re!==null&&at<J.length;at++){Re.index>at?(mt=Re,Re=null):mt=Re.sibling;var jt=re(V,Re,J[at],me);if(jt===null){Re===null&&(Re=mt);break}i&&Re&&jt.alternate===null&&o(V,Re),U=N(jt,U,at),wt===null?Be=jt:wt.sibling=jt,wt=jt,Re=mt}if(at===J.length)return d(V,Re),vt&&hi(V,at),Be;if(Re===null){for(;at<J.length;at++)Re=pe(V,J[at],me),Re!==null&&(U=N(Re,U,at),wt===null?Be=Re:wt.sibling=Re,wt=Re);return vt&&hi(V,at),Be}for(Re=p(Re);at<J.length;at++)mt=se(Re,V,at,J[at],me),mt!==null&&(i&&mt.alternate!==null&&Re.delete(mt.key===null?at:mt.key),U=N(mt,U,at),wt===null?Be=mt:wt.sibling=mt,wt=mt);return i&&Re.forEach(function(Os){return o(V,Os)}),vt&&hi(V,at),Be}function Ve(V,U,J,me){if(J==null)throw Error(n(151));for(var Be=null,wt=null,Re=U,at=U=0,mt=null,jt=J.next();Re!==null&&!jt.done;at++,jt=J.next()){Re.index>at?(mt=Re,Re=null):mt=Re.sibling;var Os=re(V,Re,jt.value,me);if(Os===null){Re===null&&(Re=mt);break}i&&Re&&Os.alternate===null&&o(V,Re),U=N(Os,U,at),wt===null?Be=Os:wt.sibling=Os,wt=Os,Re=mt}if(jt.done)return d(V,Re),vt&&hi(V,at),Be;if(Re===null){for(;!jt.done;at++,jt=J.next())jt=pe(V,jt.value,me),jt!==null&&(U=N(jt,U,at),wt===null?Be=jt:wt.sibling=jt,wt=jt);return vt&&hi(V,at),Be}for(Re=p(Re);!jt.done;at++,jt=J.next())jt=se(Re,V,at,jt.value,me),jt!==null&&(i&&jt.alternate!==null&&Re.delete(jt.key===null?at:jt.key),U=N(jt,U,at),wt===null?Be=jt:wt.sibling=jt,wt=jt);return i&&Re.forEach(function(AL){return o(V,AL)}),vt&&hi(V,at),Be}function Pt(V,U,J,me){if(typeof J=="object"&&J!==null&&J.type===w&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case b:e:{for(var Be=J.key;U!==null;){if(U.key===Be){if(Be=J.type,Be===w){if(U.tag===7){d(V,U.sibling),me=g(U,J.props.children),me.return=V,V=me;break e}}else if(U.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===O&&hl(Be)===U.type){d(V,U.sibling),me=g(U,J.props),tu(me,J),me.return=V,V=me;break e}d(V,U);break}else o(V,U);U=U.sibling}J.type===w?(me=ul(J.props.children,V.mode,me,J.key),me.return=V,V=me):(me=ff(J.type,J.key,J.props,null,V.mode,me),tu(me,J),me.return=V,V=me)}return k(V);case S:e:{for(Be=J.key;U!==null;){if(U.key===Be)if(U.tag===4&&U.stateNode.containerInfo===J.containerInfo&&U.stateNode.implementation===J.implementation){d(V,U.sibling),me=g(U,J.children||[]),me.return=V,V=me;break e}else{d(V,U);break}else o(V,U);U=U.sibling}me=ex(J,V.mode,me),me.return=V,V=me}return k(V);case O:return J=hl(J),Pt(V,U,J,me)}if(Z(J))return Pe(V,U,J,me);if(D(J)){if(Be=D(J),typeof Be!="function")throw Error(n(150));return J=Be.call(J),Ve(V,U,J,me)}if(typeof J.then=="function")return Pt(V,U,bf(J),me);if(J.$$typeof===A)return Pt(V,U,hf(V,J),me);yf(V,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,U!==null&&U.tag===6?(d(V,U.sibling),me=g(U,J),me.return=V,V=me):(d(V,U),me=Jv(J,V.mode,me),me.return=V,V=me),k(V)):d(V,U)}return function(V,U,J,me){try{eu=0;var Be=Pt(V,U,J,me);return No=null,Be}catch(Re){if(Re===jo||Re===xf)throw Re;var wt=Sn(29,Re,null,V.mode);return wt.lanes=me,wt.return=V,wt}}}var xl=vN(!0),xN=vN(!1),hs=!1;function fx(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mx(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function vs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function xs(i,o,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Ct&2)!==0){var g=p.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),p.pending=o,o=df(i),eN(i,null,d),o}return uf(i,p,o,d),df(i)}function ru(i,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,ka(i,d)}}function px(i,o){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var g=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var k={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?g=N=k:N=N.next=k,d=d.next}while(d!==null);N===null?g=N=o:N=N.next=o}else g=N=o;d={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=o:i.next=o,d.lastBaseUpdate=o}var hx=!1;function nu(){if(hx){var i=wo;if(i!==null)throw i}}function au(i,o,d,p){hx=!1;var g=i.updateQueue;hs=!1;var N=g.firstBaseUpdate,k=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var q=I,ee=q.next;q.next=null,k===null?N=ee:k.next=ee,k=q;var de=i.alternate;de!==null&&(de=de.updateQueue,I=de.lastBaseUpdate,I!==k&&(I===null?de.firstBaseUpdate=ee:I.next=ee,de.lastBaseUpdate=q))}if(N!==null){var pe=g.baseState;k=0,de=ee=q=null,I=N;do{var re=I.lane&-536870913,se=re!==I.lane;if(se?(ft&re)===re:(p&re)===re){re!==0&&re===yo&&(hx=!0),de!==null&&(de=de.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Pe=i,Ve=I;re=o;var Pt=d;switch(Ve.tag){case 1:if(Pe=Ve.payload,typeof Pe=="function"){pe=Pe.call(Pt,pe,re);break e}pe=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ve.payload,re=typeof Pe=="function"?Pe.call(Pt,pe,re):Pe,re==null)break e;pe=v({},pe,re);break e;case 2:hs=!0}}re=I.callback,re!==null&&(i.flags|=64,se&&(i.flags|=8192),se=g.callbacks,se===null?g.callbacks=[re]:se.push(re))}else se={lane:re,tag:I.tag,payload:I.payload,callback:I.callback,next:null},de===null?(ee=de=se,q=pe):de=de.next=se,k|=re;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;se=I,I=se.next,se.next=null,g.lastBaseUpdate=se,g.shared.pending=null}}while(!0);de===null&&(q=pe),g.baseState=q,g.firstBaseUpdate=ee,g.lastBaseUpdate=de,N===null&&(g.shared.lanes=0),js|=k,i.lanes=k,i.memoizedState=pe}}function gN(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function bN(i,o){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)gN(d[i],o)}var So=B(null),wf=B(0);function yN(i,o){i=Ai,ge(wf,i),ge(So,o),Ai=i|o.baseLanes}function vx(){ge(wf,Ai),ge(So,So.current)}function xx(){Ai=wf.current,ae(So),ae(wf)}var Cn=B(null),Wn=null;function gs(i){var o=i.alternate;ge(fr,fr.current&1),ge(Cn,i),Wn===null&&(o===null||So.current!==null||o.memoizedState!==null)&&(Wn=i)}function gx(i){ge(fr,fr.current),ge(Cn,i),Wn===null&&(Wn=i)}function wN(i){i.tag===22?(ge(fr,fr.current),ge(Cn,i),Wn===null&&(Wn=i)):bs()}function bs(){ge(fr,fr.current),ge(Cn,Cn.current)}function An(i){ae(Cn),Wn===i&&(Wn=null),ae(fr)}var fr=B(0);function jf(i){for(var o=i;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||S0(d)||C0(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var gi=0,rt=null,Ot=null,gr=null,Nf=!1,Co=!1,gl=!1,Sf=0,iu=0,Ao=null,vR=0;function ir(){throw Error(n(321))}function bx(i,o){if(o===null)return!1;for(var d=0;d<o.length&&d<i.length;d++)if(!Nn(i[d],o[d]))return!1;return!0}function yx(i,o,d,p,g,N){return gi=N,rt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$.H=i===null||i.memoizedState===null?aS:Ix,gl=!1,N=d(p,g),gl=!1,Co&&(N=NN(o,d,p,g)),jN(i),N}function jN(i){$.H=ou;var o=Ot!==null&&Ot.next!==null;if(gi=0,gr=Ot=rt=null,Nf=!1,iu=0,Ao=null,o)throw Error(n(300));i===null||br||(i=i.dependencies,i!==null&&pf(i)&&(br=!0))}function NN(i,o,d,p){rt=i;var g=0;do{if(Co&&(Ao=null),iu=0,Co=!1,25<=g)throw Error(n(301));if(g+=1,gr=Ot=null,i.updateQueue!=null){var N=i.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}$.H=iS,N=o(d,p)}while(Co);return N}function xR(){var i=$.H,o=i.useState()[0];return o=typeof o.then=="function"?su(o):o,i=i.useState()[0],(Ot!==null?Ot.memoizedState:null)!==i&&(rt.flags|=1024),o}function wx(){var i=Sf!==0;return Sf=0,i}function jx(i,o,d){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~d}function Nx(i){if(Nf){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Nf=!1}gi=0,gr=Ot=rt=null,Co=!1,iu=Sf=0,Ao=null}function Zr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?rt.memoizedState=gr=i:gr=gr.next=i,gr}function mr(){if(Ot===null){var i=rt.alternate;i=i!==null?i.memoizedState:null}else i=Ot.next;var o=gr===null?rt.memoizedState:gr.next;if(o!==null)gr=o,Ot=i;else{if(i===null)throw rt.alternate===null?Error(n(467)):Error(n(310));Ot=i,i={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},gr===null?rt.memoizedState=gr=i:gr=gr.next=i}return gr}function Cf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function su(i){var o=iu;return iu+=1,Ao===null&&(Ao=[]),i=mN(Ao,i,o),o=rt,(gr===null?o.memoizedState:gr.next)===null&&(o=o.alternate,$.H=o===null||o.memoizedState===null?aS:Ix),i}function Af(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return su(i);if(i.$$typeof===A)return zr(i)}throw Error(n(438,String(i)))}function Sx(i){var o=null,d=rt.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var p=rt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=Cf(),rt.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(i),p=0;p<i;p++)d[p]=R;return o.index++,d}function bi(i,o){return typeof o=="function"?o(i):o}function Mf(i){var o=mr();return Cx(o,Ot,i)}function Cx(i,o,d){var p=i.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=d;var g=i.baseQueue,N=p.pending;if(N!==null){if(g!==null){var k=g.next;g.next=N.next,N.next=k}o.baseQueue=g=N,p.pending=null}if(N=i.baseState,g===null)i.memoizedState=N;else{o=g.next;var I=k=null,q=null,ee=o,de=!1;do{var pe=ee.lane&-536870913;if(pe!==ee.lane?(ft&pe)===pe:(gi&pe)===pe){var re=ee.revertLane;if(re===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),pe===yo&&(de=!0);else if((gi&re)===re){ee=ee.next,re===yo&&(de=!0);continue}else pe={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(I=q=pe,k=N):q=q.next=pe,rt.lanes|=re,js|=re;pe=ee.action,gl&&d(N,pe),N=ee.hasEagerState?ee.eagerState:d(N,pe)}else re={lane:pe,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(I=q=re,k=N):q=q.next=re,rt.lanes|=pe,js|=pe;ee=ee.next}while(ee!==null&&ee!==o);if(q===null?k=N:q.next=I,!Nn(N,i.memoizedState)&&(br=!0,de&&(d=wo,d!==null)))throw d;i.memoizedState=N,i.baseState=k,i.baseQueue=q,p.lastRenderedState=N}return g===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function Ax(i){var o=mr(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var p=d.dispatch,g=d.pending,N=o.memoizedState;if(g!==null){d.pending=null;var k=g=g.next;do N=i(N,k.action),k=k.next;while(k!==g);Nn(N,o.memoizedState)||(br=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),d.lastRenderedState=N}return[N,p]}function SN(i,o,d){var p=rt,g=mr(),N=vt;if(N){if(d===void 0)throw Error(n(407));d=d()}else d=o();var k=!Nn((Ot||g).memoizedState,d);if(k&&(g.memoizedState=d,br=!0),g=g.queue,Dx(MN.bind(null,p,g,i),[i]),g.getSnapshot!==o||k||gr!==null&&gr.memoizedState.tag&1){if(p.flags|=2048,Mo(9,{destroy:void 0},AN.bind(null,p,g,d,o),null),zt===null)throw Error(n(349));N||(gi&127)!==0||CN(p,o,d)}return d}function CN(i,o,d){i.flags|=16384,i={getSnapshot:o,value:d},o=rt.updateQueue,o===null?(o=Cf(),rt.updateQueue=o,o.stores=[i]):(d=o.stores,d===null?o.stores=[i]:d.push(i))}function AN(i,o,d,p){o.value=d,o.getSnapshot=p,kN(o)&&DN(i)}function MN(i,o,d){return d(function(){kN(o)&&DN(i)})}function kN(i){var o=i.getSnapshot;i=i.value;try{var d=o();return!Nn(i,d)}catch{return!0}}function DN(i){var o=cl(i,2);o!==null&&fn(o,i,2)}function Mx(i){var o=Zr();if(typeof i=="function"){var d=i;if(i=d(),gl){oe(!0);try{d()}finally{oe(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:i},o}function EN(i,o,d,p){return i.baseState=d,Cx(i,Ot,typeof p=="function"?p:bi)}function gR(i,o,d,p,g){if(Ef(i))throw Error(n(485));if(i=o.action,i!==null){var N={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){N.listeners.push(k)}};$.T!==null?d(!0):N.isTransition=!1,p(N),d=o.pending,d===null?(N.next=o.pending=N,_N(o,N)):(N.next=d.next,o.pending=d.next=N)}}function _N(i,o){var d=o.action,p=o.payload,g=i.state;if(o.isTransition){var N=$.T,k={};$.T=k;try{var I=d(g,p),q=$.S;q!==null&&q(k,I),ON(i,o,I)}catch(ee){kx(i,o,ee)}finally{N!==null&&k.types!==null&&(N.types=k.types),$.T=N}}else try{N=d(g,p),ON(i,o,N)}catch(ee){kx(i,o,ee)}}function ON(i,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){TN(i,o,p)},function(p){return kx(i,o,p)}):TN(i,o,d)}function TN(i,o,d){o.status="fulfilled",o.value=d,PN(o),i.state=d,o=i.pending,o!==null&&(d=o.next,d===o?i.pending=null:(d=d.next,o.next=d,_N(i,d)))}function kx(i,o,d){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=d,PN(o),o=o.next;while(o!==p)}i.action=null}function PN(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function IN(i,o){return o}function RN(i,o){if(vt){var d=zt.formState;if(d!==null){e:{var p=rt;if(vt){if(Ut){t:{for(var g=Ut,N=Gn;g.nodeType!==8;){if(!N){g=null;break t}if(g=Kn(g.nextSibling),g===null){g=null;break t}}N=g.data,g=N==="F!"||N==="F"?g:null}if(g){Ut=Kn(g.nextSibling),p=g.data==="F!";break e}}ms(p)}p=!1}p&&(o=d[0])}}return d=Zr(),d.memoizedState=d.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:IN,lastRenderedState:o},d.queue=p,d=tS.bind(null,rt,p),p.dispatch=d,p=Mx(!1),N=Px.bind(null,rt,!1,p.queue),p=Zr(),g={state:o,dispatch:null,action:i,pending:null},p.queue=g,d=gR.bind(null,rt,g,N,d),g.dispatch=d,p.memoizedState=i,[o,d,!1]}function LN(i){var o=mr();return zN(o,Ot,i)}function zN(i,o,d){if(o=Cx(i,o,IN)[0],i=Mf(bi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=su(o)}catch(k){throw k===jo?xf:k}else p=o;o=mr();var g=o.queue,N=g.dispatch;return d!==o.memoizedState&&(rt.flags|=2048,Mo(9,{destroy:void 0},bR.bind(null,g,d),null)),[p,N,i]}function bR(i,o){i.action=o}function FN(i){var o=mr(),d=Ot;if(d!==null)return zN(o,d,i);mr(),o=o.memoizedState,d=mr();var p=d.queue.dispatch;return d.memoizedState=i,[o,p,!1]}function Mo(i,o,d,p){return i={tag:i,create:d,deps:p,inst:o,next:null},o=rt.updateQueue,o===null&&(o=Cf(),rt.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,o.lastEffect=i),i}function BN(){return mr().memoizedState}function kf(i,o,d,p){var g=Zr();rt.flags|=i,g.memoizedState=Mo(1|o,{destroy:void 0},d,p===void 0?null:p)}function Df(i,o,d,p){var g=mr();p=p===void 0?null:p;var N=g.memoizedState.inst;Ot!==null&&p!==null&&bx(p,Ot.memoizedState.deps)?g.memoizedState=Mo(o,N,d,p):(rt.flags|=i,g.memoizedState=Mo(1|o,N,d,p))}function $N(i,o){kf(8390656,8,i,o)}function Dx(i,o){Df(2048,8,i,o)}function yR(i){rt.flags|=4;var o=rt.updateQueue;if(o===null)o=Cf(),rt.updateQueue=o,o.events=[i];else{var d=o.events;d===null?o.events=[i]:d.push(i)}}function qN(i){var o=mr().memoizedState;return yR({ref:o,nextImpl:i}),function(){if((Ct&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function HN(i,o){return Df(4,2,i,o)}function UN(i,o){return Df(4,4,i,o)}function YN(i,o){if(typeof o=="function"){i=i();var d=o(i);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function VN(i,o,d){d=d!=null?d.concat([i]):null,Df(4,4,YN.bind(null,o,i),d)}function Ex(){}function GN(i,o){var d=mr();o=o===void 0?null:o;var p=d.memoizedState;return o!==null&&bx(o,p[1])?p[0]:(d.memoizedState=[i,o],i)}function WN(i,o){var d=mr();o=o===void 0?null:o;var p=d.memoizedState;if(o!==null&&bx(o,p[1]))return p[0];if(p=i(),gl){oe(!0);try{i()}finally{oe(!1)}}return d.memoizedState=[p,o],p}function _x(i,o,d){return d===void 0||(gi&1073741824)!==0&&(ft&261930)===0?i.memoizedState=o:(i.memoizedState=d,i=KS(),rt.lanes|=i,js|=i,d)}function KN(i,o,d,p){return Nn(d,o)?d:So.current!==null?(i=_x(i,d,p),Nn(i,o)||(br=!0),i):(gi&42)===0||(gi&1073741824)!==0&&(ft&261930)===0?(br=!0,i.memoizedState=d):(i=KS(),rt.lanes|=i,js|=i,o)}function QN(i,o,d,p,g){var N=G.p;G.p=N!==0&&8>N?N:8;var k=$.T,I={};$.T=I,Px(i,!1,o,d);try{var q=g(),ee=$.S;if(ee!==null&&ee(I,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var de=hR(q,p);lu(i,o,de,Dn(i))}else lu(i,o,p,Dn(i))}catch(pe){lu(i,o,{then:function(){},status:"rejected",reason:pe},Dn())}finally{G.p=N,k!==null&&I.types!==null&&(k.types=I.types),$.T=k}}function wR(){}function Ox(i,o,d,p){if(i.tag!==5)throw Error(n(476));var g=XN(i).queue;QN(i,g,o,L,d===null?wR:function(){return ZN(i),d(p)})}function XN(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:L},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:d},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function ZN(i){var o=XN(i);o.next===null&&(o=i.alternate.memoizedState),lu(i,o.next.queue,{},Dn())}function Tx(){return zr(Su)}function JN(){return mr().memoizedState}function eS(){return mr().memoizedState}function jR(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var d=Dn();i=vs(d);var p=xs(o,i,d);p!==null&&(fn(p,o,d),ru(p,o,d)),o={cache:ox()},i.payload=o;return}o=o.return}}function NR(i,o,d){var p=Dn();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Ef(i)?rS(o,d):(d=Xv(i,o,d,p),d!==null&&(fn(d,i,p),nS(d,o,p)))}function tS(i,o,d){var p=Dn();lu(i,o,d,p)}function lu(i,o,d,p){var g={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Ef(i))rS(o,g);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var k=o.lastRenderedState,I=N(k,d);if(g.hasEagerState=!0,g.eagerState=I,Nn(I,k))return uf(i,o,g,0),zt===null&&cf(),!1}catch{}if(d=Xv(i,o,g,p),d!==null)return fn(d,i,p),nS(d,o,p),!0}return!1}function Px(i,o,d,p){if(p={lane:2,revertLane:f0(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Ef(i)){if(o)throw Error(n(479))}else o=Xv(i,d,p,2),o!==null&&fn(o,i,2)}function Ef(i){var o=i.alternate;return i===rt||o!==null&&o===rt}function rS(i,o){Co=Nf=!0;var d=i.pending;d===null?o.next=o:(o.next=d.next,d.next=o),i.pending=o}function nS(i,o,d){if((d&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,ka(i,d)}}var ou={readContext:zr,use:Af,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useLayoutEffect:ir,useInsertionEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useSyncExternalStore:ir,useId:ir,useHostTransitionStatus:ir,useFormState:ir,useActionState:ir,useOptimistic:ir,useMemoCache:ir,useCacheRefresh:ir};ou.useEffectEvent=ir;var aS={readContext:zr,use:Af,useCallback:function(i,o){return Zr().memoizedState=[i,o===void 0?null:o],i},useContext:zr,useEffect:$N,useImperativeHandle:function(i,o,d){d=d!=null?d.concat([i]):null,kf(4194308,4,YN.bind(null,o,i),d)},useLayoutEffect:function(i,o){return kf(4194308,4,i,o)},useInsertionEffect:function(i,o){kf(4,2,i,o)},useMemo:function(i,o){var d=Zr();o=o===void 0?null:o;var p=i();if(gl){oe(!0);try{i()}finally{oe(!1)}}return d.memoizedState=[p,o],p},useReducer:function(i,o,d){var p=Zr();if(d!==void 0){var g=d(o);if(gl){oe(!0);try{d(o)}finally{oe(!1)}}}else g=o;return p.memoizedState=p.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},p.queue=i,i=i.dispatch=NR.bind(null,rt,i),[p.memoizedState,i]},useRef:function(i){var o=Zr();return i={current:i},o.memoizedState=i},useState:function(i){i=Mx(i);var o=i.queue,d=tS.bind(null,rt,o);return o.dispatch=d,[i.memoizedState,d]},useDebugValue:Ex,useDeferredValue:function(i,o){var d=Zr();return _x(d,i,o)},useTransition:function(){var i=Mx(!1);return i=QN.bind(null,rt,i.queue,!0,!1),Zr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,d){var p=rt,g=Zr();if(vt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=o(),zt===null)throw Error(n(349));(ft&127)!==0||CN(p,o,d)}g.memoizedState=d;var N={value:d,getSnapshot:o};return g.queue=N,$N(MN.bind(null,p,N,i),[i]),p.flags|=2048,Mo(9,{destroy:void 0},AN.bind(null,p,N,d,o),null),d},useId:function(){var i=Zr(),o=zt.identifierPrefix;if(vt){var d=Pa,p=Ta;d=(p&~(1<<32-Ge(p)-1)).toString(32)+d,o="_"+o+"R_"+d,d=Sf++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=vR++,o="_"+o+"r_"+d.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Tx,useFormState:RN,useActionState:RN,useOptimistic:function(i){var o=Zr();o.memoizedState=o.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=Px.bind(null,rt,!0,d),d.dispatch=o,[i,o]},useMemoCache:Sx,useCacheRefresh:function(){return Zr().memoizedState=jR.bind(null,rt)},useEffectEvent:function(i){var o=Zr(),d={impl:i};return o.memoizedState=d,function(){if((Ct&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},Ix={readContext:zr,use:Af,useCallback:GN,useContext:zr,useEffect:Dx,useImperativeHandle:VN,useInsertionEffect:HN,useLayoutEffect:UN,useMemo:WN,useReducer:Mf,useRef:BN,useState:function(){return Mf(bi)},useDebugValue:Ex,useDeferredValue:function(i,o){var d=mr();return KN(d,Ot.memoizedState,i,o)},useTransition:function(){var i=Mf(bi)[0],o=mr().memoizedState;return[typeof i=="boolean"?i:su(i),o]},useSyncExternalStore:SN,useId:JN,useHostTransitionStatus:Tx,useFormState:LN,useActionState:LN,useOptimistic:function(i,o){var d=mr();return EN(d,Ot,i,o)},useMemoCache:Sx,useCacheRefresh:eS};Ix.useEffectEvent=qN;var iS={readContext:zr,use:Af,useCallback:GN,useContext:zr,useEffect:Dx,useImperativeHandle:VN,useInsertionEffect:HN,useLayoutEffect:UN,useMemo:WN,useReducer:Ax,useRef:BN,useState:function(){return Ax(bi)},useDebugValue:Ex,useDeferredValue:function(i,o){var d=mr();return Ot===null?_x(d,i,o):KN(d,Ot.memoizedState,i,o)},useTransition:function(){var i=Ax(bi)[0],o=mr().memoizedState;return[typeof i=="boolean"?i:su(i),o]},useSyncExternalStore:SN,useId:JN,useHostTransitionStatus:Tx,useFormState:FN,useActionState:FN,useOptimistic:function(i,o){var d=mr();return Ot!==null?EN(d,Ot,i,o):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:Sx,useCacheRefresh:eS};iS.useEffectEvent=qN;function Rx(i,o,d,p){o=i.memoizedState,d=d(p,o),d=d==null?o:v({},o,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Lx={enqueueSetState:function(i,o,d){i=i._reactInternals;var p=Dn(),g=vs(p);g.payload=o,d!=null&&(g.callback=d),o=xs(i,g,p),o!==null&&(fn(o,i,p),ru(o,i,p))},enqueueReplaceState:function(i,o,d){i=i._reactInternals;var p=Dn(),g=vs(p);g.tag=1,g.payload=o,d!=null&&(g.callback=d),o=xs(i,g,p),o!==null&&(fn(o,i,p),ru(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var d=Dn(),p=vs(d);p.tag=2,o!=null&&(p.callback=o),o=xs(i,p,d),o!==null&&(fn(o,i,d),ru(o,i,d))}};function sS(i,o,d,p,g,N,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,N,k):o.prototype&&o.prototype.isPureReactComponent?!Wc(d,p)||!Wc(g,N):!0}function lS(i,o,d,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,p),o.state!==i&&Lx.enqueueReplaceState(o,o.state,null)}function bl(i,o){var d=o;if("ref"in o){d={};for(var p in o)p!=="ref"&&(d[p]=o[p])}if(i=i.defaultProps){d===o&&(d=v({},d));for(var g in i)d[g]===void 0&&(d[g]=i[g])}return d}function oS(i){of(i)}function cS(i){console.error(i)}function uS(i){of(i)}function _f(i,o){try{var d=i.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function dS(i,o,d){try{var p=i.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function zx(i,o,d){return d=vs(d),d.tag=3,d.payload={element:null},d.callback=function(){_f(i,o)},d}function fS(i){return i=vs(i),i.tag=3,i}function mS(i,o,d,p){var g=d.type.getDerivedStateFromError;if(typeof g=="function"){var N=p.value;i.payload=function(){return g(N)},i.callback=function(){dS(o,d,p)}}var k=d.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(i.callback=function(){dS(o,d,p),typeof g!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function SR(i,o,d,p,g){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=d.alternate,o!==null&&bo(o,d,g,!0),d=Cn.current,d!==null){switch(d.tag){case 31:case 13:return Wn===null?Hf():d.alternate===null&&sr===0&&(sr=3),d.flags&=-257,d.flags|=65536,d.lanes=g,p===gf?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([p]):o.add(p),c0(i,p,g)),!1;case 22:return d.flags|=65536,p===gf?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([p]):d.add(p)),c0(i,p,g)),!1}throw Error(n(435,d.tag))}return c0(i,p,g),Hf(),!1}if(vt)return o=Cn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,p!==nx&&(i=Error(n(422),{cause:p}),Xc(Un(i,d)))):(p!==nx&&(o=Error(n(423),{cause:p}),Xc(Un(o,d))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,p=Un(p,d),g=zx(i.stateNode,p,g),px(i,g),sr!==4&&(sr=2)),!1;var N=Error(n(520),{cause:p});if(N=Un(N,d),vu===null?vu=[N]:vu.push(N),sr!==4&&(sr=2),o===null)return!0;p=Un(p,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,i=g&-g,d.lanes|=i,i=zx(d.stateNode,p,i),px(d,i),!1;case 1:if(o=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Ns===null||!Ns.has(N))))return d.flags|=65536,g&=-g,d.lanes|=g,g=fS(g),mS(g,i,d,p),px(d,g),!1}d=d.return}while(d!==null);return!1}var Fx=Error(n(461)),br=!1;function Fr(i,o,d,p){o.child=i===null?xN(o,null,d,p):xl(o,i.child,d,p)}function pS(i,o,d,p,g){d=d.render;var N=o.ref;if("ref"in p){var k={};for(var I in p)I!=="ref"&&(k[I]=p[I])}else k=p;return ml(o),p=yx(i,o,d,k,N,g),I=wx(),i!==null&&!br?(jx(i,o,g),yi(i,o,g)):(vt&&I&&tx(o),o.flags|=1,Fr(i,o,p,g),o.child)}function hS(i,o,d,p,g){if(i===null){var N=d.type;return typeof N=="function"&&!Zv(N)&&N.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=N,vS(i,o,N,p,g)):(i=ff(d.type,null,p,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(N=i.child,!Gx(i,g)){var k=N.memoizedProps;if(d=d.compare,d=d!==null?d:Wc,d(k,p)&&i.ref===o.ref)return yi(i,o,g)}return o.flags|=1,i=pi(N,p),i.ref=o.ref,i.return=o,o.child=i}function vS(i,o,d,p,g){if(i!==null){var N=i.memoizedProps;if(Wc(N,p)&&i.ref===o.ref)if(br=!1,o.pendingProps=p=N,Gx(i,g))(i.flags&131072)!==0&&(br=!0);else return o.lanes=i.lanes,yi(i,o,g)}return Bx(i,o,d,p,g)}function xS(i,o,d,p){var g=p.children,N=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(N=N!==null?N.baseLanes|d:d,i!==null){for(p=o.child=i.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;p=g&~N}else p=0,o.child=null;return gS(i,o,N,d,p)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&vf(o,N!==null?N.cachePool:null),N!==null?yN(o,N):vx(),wN(o);else return p=o.lanes=536870912,gS(i,o,N!==null?N.baseLanes|d:d,d,p)}else N!==null?(vf(o,N.cachePool),yN(o,N),bs(),o.memoizedState=null):(i!==null&&vf(o,null),vx(),bs());return Fr(i,o,g,d),o.child}function cu(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function gS(i,o,d,p,g){var N=ux();return N=N===null?null:{parent:xr._currentValue,pool:N},o.memoizedState={baseLanes:d,cachePool:N},i!==null&&vf(o,null),vx(),wN(o),i!==null&&bo(i,o,p,!0),o.childLanes=g,null}function Of(i,o){return o=Pf({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function bS(i,o,d){return xl(o,i.child,null,d),i=Of(o,o.pendingProps),i.flags|=2,An(o),o.memoizedState=null,i}function CR(i,o,d){var p=o.pendingProps,g=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(vt){if(p.mode==="hidden")return i=Of(o,p),o.lanes=536870912,cu(null,i);if(gx(o),(i=Ut)?(i=_2(i,Gn),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ds!==null?{id:Ta,overflow:Pa}:null,retryLane:536870912,hydrationErrors:null},d=rN(i),d.return=o,o.child=d,Lr=o,Ut=null)):i=null,i===null)throw ms(o);return o.lanes=536870912,null}return Of(o,p)}var N=i.memoizedState;if(N!==null){var k=N.dehydrated;if(gx(o),g)if(o.flags&256)o.flags&=-257,o=bS(i,o,d);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(br||bo(i,o,d,!1),g=(d&i.childLanes)!==0,br||g){if(p=zt,p!==null&&(k=ui(p,d),k!==0&&k!==N.retryLane))throw N.retryLane=k,cl(i,k),fn(p,i,k),Fx;Hf(),o=bS(i,o,d)}else i=N.treeContext,Ut=Kn(k.nextSibling),Lr=o,vt=!0,fs=null,Gn=!1,i!==null&&iN(o,i),o=Of(o,p),o.flags|=4096;return o}return i=pi(i.child,{mode:p.mode,children:p.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Tf(i,o){var d=o.ref;if(d===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(i===null||i.ref!==d)&&(o.flags|=4194816)}}function Bx(i,o,d,p,g){return ml(o),d=yx(i,o,d,p,void 0,g),p=wx(),i!==null&&!br?(jx(i,o,g),yi(i,o,g)):(vt&&p&&tx(o),o.flags|=1,Fr(i,o,d,g),o.child)}function yS(i,o,d,p,g,N){return ml(o),o.updateQueue=null,d=NN(o,p,d,g),jN(i),p=wx(),i!==null&&!br?(jx(i,o,N),yi(i,o,N)):(vt&&p&&tx(o),o.flags|=1,Fr(i,o,d,N),o.child)}function wS(i,o,d,p,g){if(ml(o),o.stateNode===null){var N=ho,k=d.contextType;typeof k=="object"&&k!==null&&(N=zr(k)),N=new d(p,N),o.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Lx,o.stateNode=N,N._reactInternals=o,N=o.stateNode,N.props=p,N.state=o.memoizedState,N.refs={},fx(o),k=d.contextType,N.context=typeof k=="object"&&k!==null?zr(k):ho,N.state=o.memoizedState,k=d.getDerivedStateFromProps,typeof k=="function"&&(Rx(o,d,k,p),N.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(k=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),k!==N.state&&Lx.enqueueReplaceState(N,N.state,null),au(o,p,N,g),nu(),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){N=o.stateNode;var I=o.memoizedProps,q=bl(d,I);N.props=q;var ee=N.context,de=d.contextType;k=ho,typeof de=="object"&&de!==null&&(k=zr(de));var pe=d.getDerivedStateFromProps;de=typeof pe=="function"||typeof N.getSnapshotBeforeUpdate=="function",I=o.pendingProps!==I,de||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(I||ee!==k)&&lS(o,N,p,k),hs=!1;var re=o.memoizedState;N.state=re,au(o,p,N,g),nu(),ee=o.memoizedState,I||re!==ee||hs?(typeof pe=="function"&&(Rx(o,d,pe,p),ee=o.memoizedState),(q=hs||sS(o,d,q,p,re,ee,k))?(de||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=ee),N.props=p,N.state=ee,N.context=k,p=q):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{N=o.stateNode,mx(i,o),k=o.memoizedProps,de=bl(d,k),N.props=de,pe=o.pendingProps,re=N.context,ee=d.contextType,q=ho,typeof ee=="object"&&ee!==null&&(q=zr(ee)),I=d.getDerivedStateFromProps,(ee=typeof I=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(k!==pe||re!==q)&&lS(o,N,p,q),hs=!1,re=o.memoizedState,N.state=re,au(o,p,N,g),nu();var se=o.memoizedState;k!==pe||re!==se||hs||i!==null&&i.dependencies!==null&&pf(i.dependencies)?(typeof I=="function"&&(Rx(o,d,I,p),se=o.memoizedState),(de=hs||sS(o,d,de,p,re,se,q)||i!==null&&i.dependencies!==null&&pf(i.dependencies))?(ee||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,se,q),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,se,q)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||k===i.memoizedProps&&re===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&re===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=se),N.props=p,N.state=se,N.context=q,p=de):(typeof N.componentDidUpdate!="function"||k===i.memoizedProps&&re===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&re===i.memoizedState||(o.flags|=1024),p=!1)}return N=p,Tf(i,o),p=(o.flags&128)!==0,N||p?(N=o.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:N.render(),o.flags|=1,i!==null&&p?(o.child=xl(o,i.child,null,g),o.child=xl(o,null,d,g)):Fr(i,o,d,g),o.memoizedState=N.state,i=o.child):i=yi(i,o,g),i}function jS(i,o,d,p){return dl(),o.flags|=256,Fr(i,o,d,p),o.child}var $x={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qx(i){return{baseLanes:i,cachePool:dN()}}function Hx(i,o,d){return i=i!==null?i.childLanes&~d:0,o&&(i|=kn),i}function NS(i,o,d){var p=o.pendingProps,g=!1,N=(o.flags&128)!==0,k;if((k=N)||(k=i!==null&&i.memoizedState===null?!1:(fr.current&2)!==0),k&&(g=!0,o.flags&=-129),k=(o.flags&32)!==0,o.flags&=-33,i===null){if(vt){if(g?gs(o):bs(),(i=Ut)?(i=_2(i,Gn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ds!==null?{id:Ta,overflow:Pa}:null,retryLane:536870912,hydrationErrors:null},d=rN(i),d.return=o,o.child=d,Lr=o,Ut=null)):i=null,i===null)throw ms(o);return C0(i)?o.lanes=32:o.lanes=536870912,null}var I=p.children;return p=p.fallback,g?(bs(),g=o.mode,I=Pf({mode:"hidden",children:I},g),p=ul(p,g,d,null),I.return=o,p.return=o,I.sibling=p,o.child=I,p=o.child,p.memoizedState=qx(d),p.childLanes=Hx(i,k,d),o.memoizedState=$x,cu(null,p)):(gs(o),Ux(o,I))}var q=i.memoizedState;if(q!==null&&(I=q.dehydrated,I!==null)){if(N)o.flags&256?(gs(o),o.flags&=-257,o=Yx(i,o,d)):o.memoizedState!==null?(bs(),o.child=i.child,o.flags|=128,o=null):(bs(),I=p.fallback,g=o.mode,p=Pf({mode:"visible",children:p.children},g),I=ul(I,g,d,null),I.flags|=2,p.return=o,I.return=o,p.sibling=I,o.child=p,xl(o,i.child,null,d),p=o.child,p.memoizedState=qx(d),p.childLanes=Hx(i,k,d),o.memoizedState=$x,o=cu(null,p));else if(gs(o),C0(I)){if(k=I.nextSibling&&I.nextSibling.dataset,k)var ee=k.dgst;k=ee,p=Error(n(419)),p.stack="",p.digest=k,Xc({value:p,source:null,stack:null}),o=Yx(i,o,d)}else if(br||bo(i,o,d,!1),k=(d&i.childLanes)!==0,br||k){if(k=zt,k!==null&&(p=ui(k,d),p!==0&&p!==q.retryLane))throw q.retryLane=p,cl(i,p),fn(k,i,p),Fx;S0(I)||Hf(),o=Yx(i,o,d)}else S0(I)?(o.flags|=192,o.child=i.child,o=null):(i=q.treeContext,Ut=Kn(I.nextSibling),Lr=o,vt=!0,fs=null,Gn=!1,i!==null&&iN(o,i),o=Ux(o,p.children),o.flags|=4096);return o}return g?(bs(),I=p.fallback,g=o.mode,q=i.child,ee=q.sibling,p=pi(q,{mode:"hidden",children:p.children}),p.subtreeFlags=q.subtreeFlags&65011712,ee!==null?I=pi(ee,I):(I=ul(I,g,d,null),I.flags|=2),I.return=o,p.return=o,p.sibling=I,o.child=p,cu(null,p),p=o.child,I=i.child.memoizedState,I===null?I=qx(d):(g=I.cachePool,g!==null?(q=xr._currentValue,g=g.parent!==q?{parent:q,pool:q}:g):g=dN(),I={baseLanes:I.baseLanes|d,cachePool:g}),p.memoizedState=I,p.childLanes=Hx(i,k,d),o.memoizedState=$x,cu(i.child,p)):(gs(o),d=i.child,i=d.sibling,d=pi(d,{mode:"visible",children:p.children}),d.return=o,d.sibling=null,i!==null&&(k=o.deletions,k===null?(o.deletions=[i],o.flags|=16):k.push(i)),o.child=d,o.memoizedState=null,d)}function Ux(i,o){return o=Pf({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Pf(i,o){return i=Sn(22,i,null,o),i.lanes=0,i}function Yx(i,o,d){return xl(o,i.child,null,d),i=Ux(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function SS(i,o,d){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),sx(i.return,o,d)}function Vx(i,o,d,p,g,N){var k=i.memoizedState;k===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:g,treeForkCount:N}:(k.isBackwards=o,k.rendering=null,k.renderingStartTime=0,k.last=p,k.tail=d,k.tailMode=g,k.treeForkCount=N)}function CS(i,o,d){var p=o.pendingProps,g=p.revealOrder,N=p.tail;p=p.children;var k=fr.current,I=(k&2)!==0;if(I?(k=k&1|2,o.flags|=128):k&=1,ge(fr,k),Fr(i,o,p,d),p=vt?Qc:0,!I&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&SS(i,d,o);else if(i.tag===19)SS(i,d,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(d=o.child,g=null;d!==null;)i=d.alternate,i!==null&&jf(i)===null&&(g=d),d=d.sibling;d=g,d===null?(g=o.child,o.child=null):(g=d.sibling,d.sibling=null),Vx(o,!1,g,d,N,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&jf(i)===null){o.child=g;break}i=g.sibling,g.sibling=d,d=g,g=i}Vx(o,!0,d,null,N,p);break;case"together":Vx(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function yi(i,o,d){if(i!==null&&(o.dependencies=i.dependencies),js|=o.lanes,(d&o.childLanes)===0)if(i!==null){if(bo(i,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,d=pi(i,i.pendingProps),o.child=d,d.return=o;i.sibling!==null;)i=i.sibling,d=d.sibling=pi(i,i.pendingProps),d.return=o;d.sibling=null}return o.child}function Gx(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&pf(i)))}function AR(i,o,d){switch(o.tag){case 3:Se(o,o.stateNode.containerInfo),ps(o,xr,i.memoizedState.cache),dl();break;case 27:case 5:Ee(o);break;case 4:Se(o,o.stateNode.containerInfo);break;case 10:ps(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,gx(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(gs(o),o.flags|=128,null):(d&o.child.childLanes)!==0?NS(i,o,d):(gs(o),i=yi(i,o,d),i!==null?i.sibling:null);gs(o);break;case 19:var g=(i.flags&128)!==0;if(p=(d&o.childLanes)!==0,p||(bo(i,o,d,!1),p=(d&o.childLanes)!==0),g){if(p)return CS(i,o,d);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ge(fr,fr.current),p)break;return null;case 22:return o.lanes=0,xS(i,o,d,o.pendingProps);case 24:ps(o,xr,i.memoizedState.cache)}return yi(i,o,d)}function AS(i,o,d){if(i!==null)if(i.memoizedProps!==o.pendingProps)br=!0;else{if(!Gx(i,d)&&(o.flags&128)===0)return br=!1,AR(i,o,d);br=(i.flags&131072)!==0}else br=!1,vt&&(o.flags&1048576)!==0&&aN(o,Qc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(i=hl(o.elementType),o.type=i,typeof i=="function")Zv(i)?(p=bl(i,p),o.tag=1,o=wS(null,o,i,p,d)):(o.tag=0,o=Bx(null,o,i,p,d));else{if(i!=null){var g=i.$$typeof;if(g===_){o.tag=11,o=pS(null,o,i,p,d);break e}else if(g===P){o.tag=14,o=hS(null,o,i,p,d);break e}}throw o=W(i)||i,Error(n(306,o,""))}}return o;case 0:return Bx(i,o,o.type,o.pendingProps,d);case 1:return p=o.type,g=bl(p,o.pendingProps),wS(i,o,p,g,d);case 3:e:{if(Se(o,o.stateNode.containerInfo),i===null)throw Error(n(387));p=o.pendingProps;var N=o.memoizedState;g=N.element,mx(i,o),au(o,p,null,d);var k=o.memoizedState;if(p=k.cache,ps(o,xr,p),p!==N.cache&&lx(o,[xr],d,!0),nu(),p=k.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:k.cache},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){o=jS(i,o,p,d);break e}else if(p!==g){g=Un(Error(n(424)),o),Xc(g),o=jS(i,o,p,d);break e}else for(i=o.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Ut=Kn(i.firstChild),Lr=o,vt=!0,fs=null,Gn=!0,d=xN(o,null,p,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(dl(),p===g){o=yi(i,o,d);break e}Fr(i,o,p,d)}o=o.child}return o;case 26:return Tf(i,o),i===null?(d=L2(o.type,null,o.pendingProps,null))?o.memoizedState=d:vt||(d=o.type,i=o.pendingProps,p=Qf(ye.current).createElement(d),p[Nr]=o,p[Vr]=i,Br(p,d,i),gt(p),o.stateNode=p):o.memoizedState=L2(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Ee(o),i===null&&vt&&(p=o.stateNode=P2(o.type,o.pendingProps,ye.current),Lr=o,Gn=!0,g=Ut,Ms(o.type)?(A0=g,Ut=Kn(p.firstChild)):Ut=g),Fr(i,o,o.pendingProps.children,d),Tf(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&vt&&((g=p=Ut)&&(p=rL(p,o.type,o.pendingProps,Gn),p!==null?(o.stateNode=p,Lr=o,Ut=Kn(p.firstChild),Gn=!1,g=!0):g=!1),g||ms(o)),Ee(o),g=o.type,N=o.pendingProps,k=i!==null?i.memoizedProps:null,p=N.children,w0(g,N)?p=null:k!==null&&w0(g,k)&&(o.flags|=32),o.memoizedState!==null&&(g=yx(i,o,xR,null,null,d),Su._currentValue=g),Tf(i,o),Fr(i,o,p,d),o.child;case 6:return i===null&&vt&&((i=d=Ut)&&(d=nL(d,o.pendingProps,Gn),d!==null?(o.stateNode=d,Lr=o,Ut=null,i=!0):i=!1),i||ms(o)),null;case 13:return NS(i,o,d);case 4:return Se(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=xl(o,null,p,d):Fr(i,o,p,d),o.child;case 11:return pS(i,o,o.type,o.pendingProps,d);case 7:return Fr(i,o,o.pendingProps,d),o.child;case 8:return Fr(i,o,o.pendingProps.children,d),o.child;case 12:return Fr(i,o,o.pendingProps.children,d),o.child;case 10:return p=o.pendingProps,ps(o,o.type,p.value),Fr(i,o,p.children,d),o.child;case 9:return g=o.type._context,p=o.pendingProps.children,ml(o),g=zr(g),p=p(g),o.flags|=1,Fr(i,o,p,d),o.child;case 14:return hS(i,o,o.type,o.pendingProps,d);case 15:return vS(i,o,o.type,o.pendingProps,d);case 19:return CS(i,o,d);case 31:return CR(i,o,d);case 22:return xS(i,o,d,o.pendingProps);case 24:return ml(o),p=zr(xr),i===null?(g=ux(),g===null&&(g=zt,N=ox(),g.pooledCache=N,N.refCount++,N!==null&&(g.pooledCacheLanes|=d),g=N),o.memoizedState={parent:p,cache:g},fx(o),ps(o,xr,g)):((i.lanes&d)!==0&&(mx(i,o),au(o,null,null,d),nu()),g=i.memoizedState,N=o.memoizedState,g.parent!==p?(g={parent:p,cache:p},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),ps(o,xr,p)):(p=N.cache,ps(o,xr,p),p!==g.cache&&lx(o,[xr],d,!0))),Fr(i,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function wi(i){i.flags|=4}function Wx(i,o,d,p,g){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(JS())i.flags|=8192;else throw vl=gf,dx}else i.flags&=-16777217}function MS(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!q2(o))if(JS())i.flags|=8192;else throw vl=gf,dx}function If(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Yr():536870912,i.lanes|=o,_o|=o)}function uu(i,o){if(!vt)switch(i.tailMode){case"hidden":o=i.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Yt(i){var o=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(o)for(var g=i.child;g!==null;)d|=g.lanes|g.childLanes,p|=g.subtreeFlags&65011712,p|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)d|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=p,i.childLanes=d,o}function MR(i,o,d){var p=o.pendingProps;switch(rx(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(o),null;case 1:return Yt(o),null;case 3:return d=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),xi(xr),K(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(go(o)?wi(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ax())),Yt(o),null;case 26:var g=o.type,N=o.memoizedState;return i===null?(wi(o),N!==null?(Yt(o),MS(o,N)):(Yt(o),Wx(o,g,null,p,d))):N?N!==i.memoizedState?(wi(o),Yt(o),MS(o,N)):(Yt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==p&&wi(o),Yt(o),Wx(o,g,i,p,d)),null;case 27:if($e(o),d=ye.current,g=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&wi(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Yt(o),null}i=fe.current,go(o)?sN(o):(i=P2(g,p,d),o.stateNode=i,wi(o))}return Yt(o),null;case 5:if($e(o),g=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&wi(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Yt(o),null}if(N=fe.current,go(o))sN(o);else{var k=Qf(ye.current);switch(N){case 1:N=k.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:N=k.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":N=k.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":N=k.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":N=k.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof p.is=="string"?k.createElement("select",{is:p.is}):k.createElement("select"),p.multiple?N.multiple=!0:p.size&&(N.size=p.size);break;default:N=typeof p.is=="string"?k.createElement(g,{is:p.is}):k.createElement(g)}}N[Nr]=o,N[Vr]=p;e:for(k=o.child;k!==null;){if(k.tag===5||k.tag===6)N.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===o)break e;for(;k.sibling===null;){if(k.return===null||k.return===o)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}o.stateNode=N;e:switch(Br(N,g,p),g){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&wi(o)}}return Yt(o),Wx(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,d),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&wi(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(i=ye.current,go(o)){if(i=o.stateNode,d=o.memoizedProps,p=null,g=Lr,g!==null)switch(g.tag){case 27:case 5:p=g.memoizedProps}i[Nr]=o,i=!!(i.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||N2(i.nodeValue,d)),i||ms(o,!0)}else i=Qf(i).createTextNode(p),i[Nr]=o,o.stateNode=i}return Yt(o),null;case 31:if(d=o.memoizedState,i===null||i.memoizedState!==null){if(p=go(o),d!==null){if(i===null){if(!p)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[Nr]=o}else dl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Yt(o),i=!1}else d=ax(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),i=!0;if(!i)return o.flags&256?(An(o),o):(An(o),null);if((o.flags&128)!==0)throw Error(n(558))}return Yt(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=go(o),p!==null&&p.dehydrated!==null){if(i===null){if(!g)throw Error(n(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[Nr]=o}else dl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Yt(o),g=!1}else g=ax(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(An(o),o):(An(o),null)}return An(o),(o.flags&128)!==0?(o.lanes=d,o):(d=p!==null,i=i!==null&&i.memoizedState!==null,d&&(p=o.child,g=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(g=p.alternate.memoizedState.cachePool.pool),N=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==g&&(p.flags|=2048)),d!==i&&d&&(o.child.flags|=8192),If(o,o.updateQueue),Yt(o),null);case 4:return K(),i===null&&v0(o.stateNode.containerInfo),Yt(o),null;case 10:return xi(o.type),Yt(o),null;case 19:if(ae(fr),p=o.memoizedState,p===null)return Yt(o),null;if(g=(o.flags&128)!==0,N=p.rendering,N===null)if(g)uu(p,!1);else{if(sr!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(N=jf(i),N!==null){for(o.flags|=128,uu(p,!1),i=N.updateQueue,o.updateQueue=i,If(o,i),o.subtreeFlags=0,i=d,d=o.child;d!==null;)tN(d,i),d=d.sibling;return ge(fr,fr.current&1|2),vt&&hi(o,p.treeForkCount),o.child}i=i.sibling}p.tail!==null&&rr()>Bf&&(o.flags|=128,g=!0,uu(p,!1),o.lanes=4194304)}else{if(!g)if(i=jf(N),i!==null){if(o.flags|=128,g=!0,i=i.updateQueue,o.updateQueue=i,If(o,i),uu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!N.alternate&&!vt)return Yt(o),null}else 2*rr()-p.renderingStartTime>Bf&&d!==536870912&&(o.flags|=128,g=!0,uu(p,!1),o.lanes=4194304);p.isBackwards?(N.sibling=o.child,o.child=N):(i=p.last,i!==null?i.sibling=N:o.child=N,p.last=N)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=rr(),i.sibling=null,d=fr.current,ge(fr,g?d&1|2:d&1),vt&&hi(o,p.treeForkCount),i):(Yt(o),null);case 22:case 23:return An(o),xx(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(d&536870912)!==0&&(o.flags&128)===0&&(Yt(o),o.subtreeFlags&6&&(o.flags|=8192)):Yt(o),d=o.updateQueue,d!==null&&If(o,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==d&&(o.flags|=2048),i!==null&&ae(pl),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),xi(xr),Yt(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function kR(i,o){switch(rx(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return xi(xr),K(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return $e(o),null;case 31:if(o.memoizedState!==null){if(An(o),o.alternate===null)throw Error(n(340));dl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(An(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));dl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ae(fr),null;case 4:return K(),null;case 10:return xi(o.type),null;case 22:case 23:return An(o),xx(),i!==null&&ae(pl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return xi(xr),null;case 25:return null;default:return null}}function kS(i,o){switch(rx(o),o.tag){case 3:xi(xr),K();break;case 26:case 27:case 5:$e(o);break;case 4:K();break;case 31:o.memoizedState!==null&&An(o);break;case 13:An(o);break;case 19:ae(fr);break;case 10:xi(o.type);break;case 22:case 23:An(o),xx(),i!==null&&ae(pl);break;case 24:xi(xr)}}function du(i,o){try{var d=o.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var g=p.next;d=g;do{if((d.tag&i)===i){p=void 0;var N=d.create,k=d.inst;p=N(),k.destroy=p}d=d.next}while(d!==g)}}catch(I){kt(o,o.return,I)}}function ys(i,o,d){try{var p=o.updateQueue,g=p!==null?p.lastEffect:null;if(g!==null){var N=g.next;p=N;do{if((p.tag&i)===i){var k=p.inst,I=k.destroy;if(I!==void 0){k.destroy=void 0,g=o;var q=d,ee=I;try{ee()}catch(de){kt(g,q,de)}}}p=p.next}while(p!==N)}}catch(de){kt(o,o.return,de)}}function DS(i){var o=i.updateQueue;if(o!==null){var d=i.stateNode;try{bN(o,d)}catch(p){kt(i,i.return,p)}}}function ES(i,o,d){d.props=bl(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(p){kt(i,o,p)}}function fu(i,o){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof d=="function"?i.refCleanup=d(p):d.current=p}}catch(g){kt(i,o,g)}}function Ia(i,o){var d=i.ref,p=i.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(g){kt(i,o,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(g){kt(i,o,g)}else d.current=null}function _S(i){var o=i.type,d=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(g){kt(i,i.return,g)}}function Kx(i,o,d){try{var p=i.stateNode;QR(p,i.type,d,o),p[Vr]=o}catch(g){kt(i,i.return,g)}}function OS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ms(i.type)||i.tag===4}function Qx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||OS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ms(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Xx(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(i),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=fi));else if(p!==4&&(p===27&&Ms(i.type)&&(d=i.stateNode,o=null),i=i.child,i!==null))for(Xx(i,o,d),i=i.sibling;i!==null;)Xx(i,o,d),i=i.sibling}function Rf(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?d.insertBefore(i,o):d.appendChild(i);else if(p!==4&&(p===27&&Ms(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(Rf(i,o,d),i=i.sibling;i!==null;)Rf(i,o,d),i=i.sibling}function TS(i){var o=i.stateNode,d=i.memoizedProps;try{for(var p=i.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);Br(o,p,d),o[Nr]=i,o[Vr]=d}catch(N){kt(i,i.return,N)}}var ji=!1,yr=!1,Zx=!1,PS=typeof WeakSet=="function"?WeakSet:Set,Er=null;function DR(i,o){if(i=i.containerInfo,b0=nm,i=Vj(i),Yv(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var g=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var k=0,I=-1,q=-1,ee=0,de=0,pe=i,re=null;t:for(;;){for(var se;pe!==d||g!==0&&pe.nodeType!==3||(I=k+g),pe!==N||p!==0&&pe.nodeType!==3||(q=k+p),pe.nodeType===3&&(k+=pe.nodeValue.length),(se=pe.firstChild)!==null;)re=pe,pe=se;for(;;){if(pe===i)break t;if(re===d&&++ee===g&&(I=k),re===N&&++de===p&&(q=k),(se=pe.nextSibling)!==null)break;pe=re,re=pe.parentNode}pe=se}d=I===-1||q===-1?null:{start:I,end:q}}else d=null}d=d||{start:0,end:0}}else d=null;for(y0={focusedElem:i,selectionRange:d},nm=!1,Er=o;Er!==null;)if(o=Er,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Er=i;else for(;Er!==null;){switch(o=Er,N=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(d=0;d<i.length;d++)g=i[d],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&N!==null){i=void 0,d=o,g=N.memoizedProps,N=N.memoizedState,p=d.stateNode;try{var Pe=bl(d.type,g);i=p.getSnapshotBeforeUpdate(Pe,N),p.__reactInternalSnapshotBeforeUpdate=i}catch(Ve){kt(d,d.return,Ve)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,d=i.nodeType,d===9)N0(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":N0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,Er=i;break}Er=o.return}}function IS(i,o,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:Si(i,d),p&4&&du(5,d);break;case 1:if(Si(i,d),p&4)if(i=d.stateNode,o===null)try{i.componentDidMount()}catch(k){kt(d,d.return,k)}else{var g=bl(d.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(g,o,i.__reactInternalSnapshotBeforeUpdate)}catch(k){kt(d,d.return,k)}}p&64&&DS(d),p&512&&fu(d,d.return);break;case 3:if(Si(i,d),p&64&&(i=d.updateQueue,i!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{bN(i,o)}catch(k){kt(d,d.return,k)}}break;case 27:o===null&&p&4&&TS(d);case 26:case 5:Si(i,d),o===null&&p&4&&_S(d),p&512&&fu(d,d.return);break;case 12:Si(i,d);break;case 31:Si(i,d),p&4&&zS(i,d);break;case 13:Si(i,d),p&4&&FS(i,d),p&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=zR.bind(null,d),aL(i,d))));break;case 22:if(p=d.memoizedState!==null||ji,!p){o=o!==null&&o.memoizedState!==null||yr,g=ji;var N=yr;ji=p,(yr=o)&&!N?Ci(i,d,(d.subtreeFlags&8772)!==0):Si(i,d),ji=g,yr=N}break;case 30:break;default:Si(i,d)}}function RS(i){var o=i.alternate;o!==null&&(i.alternate=null,RS(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Fc(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Kt=null,on=!1;function Ni(i,o,d){for(d=d.child;d!==null;)LS(i,o,d),d=d.sibling}function LS(i,o,d){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(We,d)}catch{}switch(d.tag){case 26:yr||Ia(d,o),Ni(i,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:yr||Ia(d,o);var p=Kt,g=on;Ms(d.type)&&(Kt=d.stateNode,on=!1),Ni(i,o,d),wu(d.stateNode),Kt=p,on=g;break;case 5:yr||Ia(d,o);case 6:if(p=Kt,g=on,Kt=null,Ni(i,o,d),Kt=p,on=g,Kt!==null)if(on)try{(Kt.nodeType===9?Kt.body:Kt.nodeName==="HTML"?Kt.ownerDocument.body:Kt).removeChild(d.stateNode)}catch(N){kt(d,o,N)}else try{Kt.removeChild(d.stateNode)}catch(N){kt(d,o,N)}break;case 18:Kt!==null&&(on?(i=Kt,D2(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),Fo(i)):D2(Kt,d.stateNode));break;case 4:p=Kt,g=on,Kt=d.stateNode.containerInfo,on=!0,Ni(i,o,d),Kt=p,on=g;break;case 0:case 11:case 14:case 15:ys(2,d,o),yr||ys(4,d,o),Ni(i,o,d);break;case 1:yr||(Ia(d,o),p=d.stateNode,typeof p.componentWillUnmount=="function"&&ES(d,o,p)),Ni(i,o,d);break;case 21:Ni(i,o,d);break;case 22:yr=(p=yr)||d.memoizedState!==null,Ni(i,o,d),yr=p;break;default:Ni(i,o,d)}}function zS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Fo(i)}catch(d){kt(o,o.return,d)}}}function FS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Fo(i)}catch(d){kt(o,o.return,d)}}function ER(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new PS),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new PS),o;default:throw Error(n(435,i.tag))}}function Lf(i,o){var d=ER(i);o.forEach(function(p){if(!d.has(p)){d.add(p);var g=FR.bind(null,i,p);p.then(g,g)}})}function cn(i,o){var d=o.deletions;if(d!==null)for(var p=0;p<d.length;p++){var g=d[p],N=i,k=o,I=k;e:for(;I!==null;){switch(I.tag){case 27:if(Ms(I.type)){Kt=I.stateNode,on=!1;break e}break;case 5:Kt=I.stateNode,on=!1;break e;case 3:case 4:Kt=I.stateNode.containerInfo,on=!0;break e}I=I.return}if(Kt===null)throw Error(n(160));LS(N,k,g),Kt=null,on=!1,N=g.alternate,N!==null&&(N.return=null),g.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)BS(o,i),o=o.sibling}var ca=null;function BS(i,o){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:cn(o,i),un(i),p&4&&(ys(3,i,i.return),du(3,i),ys(5,i,i.return));break;case 1:cn(o,i),un(i),p&512&&(yr||d===null||Ia(d,d.return)),p&64&&ji&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var g=ca;if(cn(o,i),un(i),p&512&&(yr||d===null||Ia(d,d.return)),p&4){var N=d!==null?d.memoizedState:null;if(p=i.memoizedState,d===null)if(p===null)if(i.stateNode===null){e:{p=i.type,d=i.memoizedProps,g=g.ownerDocument||g;t:switch(p){case"title":N=g.getElementsByTagName("title")[0],(!N||N[il]||N[Nr]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=g.createElement(p),g.head.insertBefore(N,g.querySelector("head > title"))),Br(N,p,d),N[Nr]=i,gt(N),p=N;break e;case"link":var k=B2("link","href",g).get(p+(d.href||""));if(k){for(var I=0;I<k.length;I++)if(N=k[I],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){k.splice(I,1);break t}}N=g.createElement(p),Br(N,p,d),g.head.appendChild(N);break;case"meta":if(k=B2("meta","content",g).get(p+(d.content||""))){for(I=0;I<k.length;I++)if(N=k[I],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){k.splice(I,1);break t}}N=g.createElement(p),Br(N,p,d),g.head.appendChild(N);break;default:throw Error(n(468,p))}N[Nr]=i,gt(N),p=N}i.stateNode=p}else $2(g,i.type,i.stateNode);else i.stateNode=F2(g,p,i.memoizedProps);else N!==p?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,p===null?$2(g,i.type,i.stateNode):F2(g,p,i.memoizedProps)):p===null&&i.stateNode!==null&&Kx(i,i.memoizedProps,d.memoizedProps)}break;case 27:cn(o,i),un(i),p&512&&(yr||d===null||Ia(d,d.return)),d!==null&&p&4&&Kx(i,i.memoizedProps,d.memoizedProps);break;case 5:if(cn(o,i),un(i),p&512&&(yr||d===null||Ia(d,d.return)),i.flags&32){g=i.stateNode;try{lo(g,"")}catch(Pe){kt(i,i.return,Pe)}}p&4&&i.stateNode!=null&&(g=i.memoizedProps,Kx(i,g,d!==null?d.memoizedProps:g)),p&1024&&(Zx=!0);break;case 6:if(cn(o,i),un(i),p&4){if(i.stateNode===null)throw Error(n(162));p=i.memoizedProps,d=i.stateNode;try{d.nodeValue=p}catch(Pe){kt(i,i.return,Pe)}}break;case 3:if(Jf=null,g=ca,ca=Xf(o.containerInfo),cn(o,i),ca=g,un(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Fo(o.containerInfo)}catch(Pe){kt(i,i.return,Pe)}Zx&&(Zx=!1,$S(i));break;case 4:p=ca,ca=Xf(i.stateNode.containerInfo),cn(o,i),un(i),ca=p;break;case 12:cn(o,i),un(i);break;case 31:cn(o,i),un(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Lf(i,p)));break;case 13:cn(o,i),un(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Ff=rr()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Lf(i,p)));break;case 22:g=i.memoizedState!==null;var q=d!==null&&d.memoizedState!==null,ee=ji,de=yr;if(ji=ee||g,yr=de||q,cn(o,i),yr=de,ji=ee,un(i),p&8192)e:for(o=i.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(d===null||q||ji||yr||yl(i)),d=null,o=i;;){if(o.tag===5||o.tag===26){if(d===null){q=d=o;try{if(N=q.stateNode,g)k=N.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{I=q.stateNode;var pe=q.memoizedProps.style,re=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;I.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Pe){kt(q,q.return,Pe)}}}else if(o.tag===6){if(d===null){q=o;try{q.stateNode.nodeValue=g?"":q.memoizedProps}catch(Pe){kt(q,q.return,Pe)}}}else if(o.tag===18){if(d===null){q=o;try{var se=q.stateNode;g?E2(se,!0):E2(q.stateNode,!1)}catch(Pe){kt(q,q.return,Pe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Lf(i,d))));break;case 19:cn(o,i),un(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Lf(i,p)));break;case 30:break;case 21:break;default:cn(o,i),un(i)}}function un(i){var o=i.flags;if(o&2){try{for(var d,p=i.return;p!==null;){if(OS(p)){d=p;break}p=p.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var g=d.stateNode,N=Qx(i);Rf(i,N,g);break;case 5:var k=d.stateNode;d.flags&32&&(lo(k,""),d.flags&=-33);var I=Qx(i);Rf(i,I,k);break;case 3:case 4:var q=d.stateNode.containerInfo,ee=Qx(i);Xx(i,ee,q);break;default:throw Error(n(161))}}catch(de){kt(i,i.return,de)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function $S(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;$S(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Si(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)IS(i,o.alternate,o),o=o.sibling}function yl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:ys(4,o,o.return),yl(o);break;case 1:Ia(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&ES(o,o.return,d),yl(o);break;case 27:wu(o.stateNode);case 26:case 5:Ia(o,o.return),yl(o);break;case 22:o.memoizedState===null&&yl(o);break;case 30:yl(o);break;default:yl(o)}i=i.sibling}}function Ci(i,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,g=i,N=o,k=N.flags;switch(N.tag){case 0:case 11:case 15:Ci(g,N,d),du(4,N);break;case 1:if(Ci(g,N,d),p=N,g=p.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ee){kt(p,p.return,ee)}if(p=N,g=p.updateQueue,g!==null){var I=p.stateNode;try{var q=g.shared.hiddenCallbacks;if(q!==null)for(g.shared.hiddenCallbacks=null,g=0;g<q.length;g++)gN(q[g],I)}catch(ee){kt(p,p.return,ee)}}d&&k&64&&DS(N),fu(N,N.return);break;case 27:TS(N);case 26:case 5:Ci(g,N,d),d&&p===null&&k&4&&_S(N),fu(N,N.return);break;case 12:Ci(g,N,d);break;case 31:Ci(g,N,d),d&&k&4&&zS(g,N);break;case 13:Ci(g,N,d),d&&k&4&&FS(g,N);break;case 22:N.memoizedState===null&&Ci(g,N,d),fu(N,N.return);break;case 30:break;default:Ci(g,N,d)}o=o.sibling}}function Jx(i,o){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&Zc(d))}function e0(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Zc(i))}function ua(i,o,d,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)qS(i,o,d,p),o=o.sibling}function qS(i,o,d,p){var g=o.flags;switch(o.tag){case 0:case 11:case 15:ua(i,o,d,p),g&2048&&du(9,o);break;case 1:ua(i,o,d,p);break;case 3:ua(i,o,d,p),g&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Zc(i)));break;case 12:if(g&2048){ua(i,o,d,p),i=o.stateNode;try{var N=o.memoizedProps,k=N.id,I=N.onPostCommit;typeof I=="function"&&I(k,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(q){kt(o,o.return,q)}}else ua(i,o,d,p);break;case 31:ua(i,o,d,p);break;case 13:ua(i,o,d,p);break;case 23:break;case 22:N=o.stateNode,k=o.alternate,o.memoizedState!==null?N._visibility&2?ua(i,o,d,p):mu(i,o):N._visibility&2?ua(i,o,d,p):(N._visibility|=2,ko(i,o,d,p,(o.subtreeFlags&10256)!==0||!1)),g&2048&&Jx(k,o);break;case 24:ua(i,o,d,p),g&2048&&e0(o.alternate,o);break;default:ua(i,o,d,p)}}function ko(i,o,d,p,g){for(g=g&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var N=i,k=o,I=d,q=p,ee=k.flags;switch(k.tag){case 0:case 11:case 15:ko(N,k,I,q,g),du(8,k);break;case 23:break;case 22:var de=k.stateNode;k.memoizedState!==null?de._visibility&2?ko(N,k,I,q,g):mu(N,k):(de._visibility|=2,ko(N,k,I,q,g)),g&&ee&2048&&Jx(k.alternate,k);break;case 24:ko(N,k,I,q,g),g&&ee&2048&&e0(k.alternate,k);break;default:ko(N,k,I,q,g)}o=o.sibling}}function mu(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=i,p=o,g=p.flags;switch(p.tag){case 22:mu(d,p),g&2048&&Jx(p.alternate,p);break;case 24:mu(d,p),g&2048&&e0(p.alternate,p);break;default:mu(d,p)}o=o.sibling}}var pu=8192;function Do(i,o,d){if(i.subtreeFlags&pu)for(i=i.child;i!==null;)HS(i,o,d),i=i.sibling}function HS(i,o,d){switch(i.tag){case 26:Do(i,o,d),i.flags&pu&&i.memoizedState!==null&&vL(d,ca,i.memoizedState,i.memoizedProps);break;case 5:Do(i,o,d);break;case 3:case 4:var p=ca;ca=Xf(i.stateNode.containerInfo),Do(i,o,d),ca=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=pu,pu=16777216,Do(i,o,d),pu=p):Do(i,o,d));break;default:Do(i,o,d)}}function US(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function hu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];Er=p,VS(p,i)}US(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)YS(i),i=i.sibling}function YS(i){switch(i.tag){case 0:case 11:case 15:hu(i),i.flags&2048&&ys(9,i,i.return);break;case 3:hu(i);break;case 12:hu(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,zf(i)):hu(i);break;default:hu(i)}}function zf(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];Er=p,VS(p,i)}US(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:ys(8,o,o.return),zf(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,zf(o));break;default:zf(o)}i=i.sibling}}function VS(i,o){for(;Er!==null;){var d=Er;switch(d.tag){case 0:case 11:case 15:ys(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Zc(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Er=p;else e:for(d=i;Er!==null;){p=Er;var g=p.sibling,N=p.return;if(RS(p),p===d){Er=null;break e}if(g!==null){g.return=N,Er=g;break e}Er=N}}}var _R={getCacheForType:function(i){var o=zr(xr),d=o.data.get(i);return d===void 0&&(d=i(),o.data.set(i,d)),d},cacheSignal:function(){return zr(xr).controller.signal}},OR=typeof WeakMap=="function"?WeakMap:Map,Ct=0,zt=null,ct=null,ft=0,Mt=0,Mn=null,ws=!1,Eo=!1,t0=!1,Ai=0,sr=0,js=0,wl=0,r0=0,kn=0,_o=0,vu=null,dn=null,n0=!1,Ff=0,GS=0,Bf=1/0,$f=null,Ns=null,Sr=0,Ss=null,Oo=null,Mi=0,a0=0,i0=null,WS=null,xu=0,s0=null;function Dn(){return(Ct&2)!==0&&ft!==0?ft&-ft:$.T!==null?f0():ss()}function KS(){if(kn===0)if((ft&536870912)===0||vt){var i=He;He<<=1,(He&3932160)===0&&(He=262144),kn=i}else kn=536870912;return i=Cn.current,i!==null&&(i.flags|=32),kn}function fn(i,o,d){(i===zt&&(Mt===2||Mt===9)||i.cancelPendingCommit!==null)&&(To(i,0),Cs(i,ft,kn,!1)),Ne(i,d),((Ct&2)===0||i!==zt)&&(i===zt&&((Ct&2)===0&&(wl|=d),sr===4&&Cs(i,ft,kn,!1)),Ra(i))}function QS(i,o,d){if((Ct&6)!==0)throw Error(n(327));var p=!d&&(o&127)===0&&(o&i.expiredLanes)===0||Ue(i,o),g=p?IR(i,o):o0(i,o,!0),N=p;do{if(g===0){Eo&&!p&&Cs(i,o,0,!1);break}else{if(d=i.current.alternate,N&&!TR(d)){g=o0(i,o,!1),N=!1;continue}if(g===2){if(N=o,i.errorRecoveryDisabledLanes&N)var k=0;else k=i.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){o=k;e:{var I=i;g=vu;var q=I.current.memoizedState.isDehydrated;if(q&&(To(I,k).flags|=256),k=o0(I,k,!1),k!==2){if(t0&&!q){I.errorRecoveryDisabledLanes|=N,wl|=N,g=4;break e}N=dn,dn=g,N!==null&&(dn===null?dn=N:dn.push.apply(dn,N))}g=k}if(N=!1,g!==2)continue}}if(g===1){To(i,0),Cs(i,o,0,!0);break}e:{switch(p=i,N=g,N){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Cs(p,o,kn,!ws);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(g=Ff+300-rr(),10<g)){if(Cs(p,o,kn,!ws),Je(p,0,!0)!==0)break e;Mi=o,p.timeoutHandle=M2(XS.bind(null,p,d,dn,$f,n0,o,kn,wl,_o,ws,N,"Throttled",-0,0),g);break e}XS(p,d,dn,$f,n0,o,kn,wl,_o,ws,N,null,-0,0)}}break}while(!0);Ra(i)}function XS(i,o,d,p,g,N,k,I,q,ee,de,pe,re,se){if(i.timeoutHandle=-1,pe=o.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},HS(o,N,pe);var Pe=(N&62914560)===N?Ff-rr():(N&4194048)===N?GS-rr():0;if(Pe=xL(pe,Pe),Pe!==null){Mi=N,i.cancelPendingCommit=Pe(i2.bind(null,i,o,N,d,p,g,k,I,q,de,pe,null,re,se)),Cs(i,N,k,!ee);return}}i2(i,o,N,d,p,g,k,I,q)}function TR(i){for(var o=i;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var g=d[p],N=g.getSnapshot;g=g.value;try{if(!Nn(N(),g))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Cs(i,o,d,p){o&=~r0,o&=~wl,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var g=o;0<g;){var N=31-Ge(g),k=1<<N;p[N]=-1,g&=~k}d!==0&&ci(i,d,o)}function qf(){return(Ct&6)===0?(gu(0),!1):!0}function l0(){if(ct!==null){if(Mt===0)var i=ct.return;else i=ct,vi=fl=null,Nx(i),No=null,eu=0,i=ct;for(;i!==null;)kS(i.alternate,i),i=i.return;ct=null}}function To(i,o){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,JR(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),Mi=0,l0(),zt=i,ct=d=pi(i.current,null),ft=o,Mt=0,Mn=null,ws=!1,Eo=Ue(i,o),t0=!1,_o=kn=r0=wl=js=sr=0,dn=vu=null,n0=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var g=31-Ge(p),N=1<<g;o|=i[g],p&=~N}return Ai=o,cf(),d}function ZS(i,o){rt=null,$.H=ou,o===jo||o===xf?(o=pN(),Mt=3):o===dx?(o=pN(),Mt=4):Mt=o===Fx?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Mn=o,ct===null&&(sr=1,_f(i,Un(o,i.current)))}function JS(){var i=Cn.current;return i===null?!0:(ft&4194048)===ft?Wn===null:(ft&62914560)===ft||(ft&536870912)!==0?i===Wn:!1}function e2(){var i=$.H;return $.H=ou,i===null?ou:i}function t2(){var i=$.A;return $.A=_R,i}function Hf(){sr=4,ws||(ft&4194048)!==ft&&Cn.current!==null||(Eo=!0),(js&134217727)===0&&(wl&134217727)===0||zt===null||Cs(zt,ft,kn,!1)}function o0(i,o,d){var p=Ct;Ct|=2;var g=e2(),N=t2();(zt!==i||ft!==o)&&($f=null,To(i,o)),o=!1;var k=sr;e:do try{if(Mt!==0&&ct!==null){var I=ct,q=Mn;switch(Mt){case 8:l0(),k=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(o=!0);var ee=Mt;if(Mt=0,Mn=null,Po(i,I,q,ee),d&&Eo){k=0;break e}break;default:ee=Mt,Mt=0,Mn=null,Po(i,I,q,ee)}}PR(),k=sr;break}catch(de){ZS(i,de)}while(!0);return o&&i.shellSuspendCounter++,vi=fl=null,Ct=p,$.H=g,$.A=N,ct===null&&(zt=null,ft=0,cf()),k}function PR(){for(;ct!==null;)r2(ct)}function IR(i,o){var d=Ct;Ct|=2;var p=e2(),g=t2();zt!==i||ft!==o?($f=null,Bf=rr()+500,To(i,o)):Eo=Ue(i,o);e:do try{if(Mt!==0&&ct!==null){o=ct;var N=Mn;t:switch(Mt){case 1:Mt=0,Mn=null,Po(i,o,N,1);break;case 2:case 9:if(fN(N)){Mt=0,Mn=null,n2(o);break}o=function(){Mt!==2&&Mt!==9||zt!==i||(Mt=7),Ra(i)},N.then(o,o);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:fN(N)?(Mt=0,Mn=null,n2(o)):(Mt=0,Mn=null,Po(i,o,N,7));break;case 5:var k=null;switch(ct.tag){case 26:k=ct.memoizedState;case 5:case 27:var I=ct;if(k?q2(k):I.stateNode.complete){Mt=0,Mn=null;var q=I.sibling;if(q!==null)ct=q;else{var ee=I.return;ee!==null?(ct=ee,Uf(ee)):ct=null}break t}}Mt=0,Mn=null,Po(i,o,N,5);break;case 6:Mt=0,Mn=null,Po(i,o,N,6);break;case 8:l0(),sr=6;break e;default:throw Error(n(462))}}RR();break}catch(de){ZS(i,de)}while(!0);return vi=fl=null,$.H=p,$.A=g,Ct=d,ct!==null?0:(zt=null,ft=0,cf(),sr)}function RR(){for(;ct!==null&&!St();)r2(ct)}function r2(i){var o=AS(i.alternate,i,Ai);i.memoizedProps=i.pendingProps,o===null?Uf(i):ct=o}function n2(i){var o=i,d=o.alternate;switch(o.tag){case 15:case 0:o=yS(d,o,o.pendingProps,o.type,void 0,ft);break;case 11:o=yS(d,o,o.pendingProps,o.type.render,o.ref,ft);break;case 5:Nx(o);default:kS(d,o),o=ct=tN(o,Ai),o=AS(d,o,Ai)}i.memoizedProps=i.pendingProps,o===null?Uf(i):ct=o}function Po(i,o,d,p){vi=fl=null,Nx(o),No=null,eu=0;var g=o.return;try{if(SR(i,g,o,d,ft)){sr=1,_f(i,Un(d,i.current)),ct=null;return}}catch(N){if(g!==null)throw ct=g,N;sr=1,_f(i,Un(d,i.current)),ct=null;return}o.flags&32768?(vt||p===1?i=!0:Eo||(ft&536870912)!==0?i=!1:(ws=i=!0,(p===2||p===9||p===3||p===6)&&(p=Cn.current,p!==null&&p.tag===13&&(p.flags|=16384))),a2(o,i)):Uf(o)}function Uf(i){var o=i;do{if((o.flags&32768)!==0){a2(o,ws);return}i=o.return;var d=MR(o.alternate,o,Ai);if(d!==null){ct=d;return}if(o=o.sibling,o!==null){ct=o;return}ct=o=i}while(o!==null);sr===0&&(sr=5)}function a2(i,o){do{var d=kR(i.alternate,i);if(d!==null){d.flags&=32767,ct=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(i=i.sibling,i!==null)){ct=i;return}ct=i=d}while(i!==null);sr=6,ct=null}function i2(i,o,d,p,g,N,k,I,q){i.cancelPendingCommit=null;do Yf();while(Sr!==0);if((Ct&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(N=o.lanes|o.childLanes,N|=Qv,Rr(i,d,N,k,I,q),i===zt&&(ct=zt=null,ft=0),Oo=o,Ss=i,Mi=d,a0=N,i0=g,WS=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,BR(be,function(){return u2(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=$.T,$.T=null,g=G.p,G.p=2,k=Ct,Ct|=4;try{DR(i,o,d)}finally{Ct=k,G.p=g,$.T=p}}Sr=1,s2(),l2(),o2()}}function s2(){if(Sr===1){Sr=0;var i=Ss,o=Oo,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=$.T,$.T=null;var p=G.p;G.p=2;var g=Ct;Ct|=4;try{BS(o,i);var N=y0,k=Vj(i.containerInfo),I=N.focusedElem,q=N.selectionRange;if(k!==I&&I&&I.ownerDocument&&Yj(I.ownerDocument.documentElement,I)){if(q!==null&&Yv(I)){var ee=q.start,de=q.end;if(de===void 0&&(de=ee),"selectionStart"in I)I.selectionStart=ee,I.selectionEnd=Math.min(de,I.value.length);else{var pe=I.ownerDocument||document,re=pe&&pe.defaultView||window;if(re.getSelection){var se=re.getSelection(),Pe=I.textContent.length,Ve=Math.min(q.start,Pe),Pt=q.end===void 0?Ve:Math.min(q.end,Pe);!se.extend&&Ve>Pt&&(k=Pt,Pt=Ve,Ve=k);var V=Uj(I,Ve),U=Uj(I,Pt);if(V&&U&&(se.rangeCount!==1||se.anchorNode!==V.node||se.anchorOffset!==V.offset||se.focusNode!==U.node||se.focusOffset!==U.offset)){var J=pe.createRange();J.setStart(V.node,V.offset),se.removeAllRanges(),Ve>Pt?(se.addRange(J),se.extend(U.node,U.offset)):(J.setEnd(U.node,U.offset),se.addRange(J))}}}}for(pe=[],se=I;se=se.parentNode;)se.nodeType===1&&pe.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<pe.length;I++){var me=pe[I];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}nm=!!b0,y0=b0=null}finally{Ct=g,G.p=p,$.T=d}}i.current=o,Sr=2}}function l2(){if(Sr===2){Sr=0;var i=Ss,o=Oo,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=$.T,$.T=null;var p=G.p;G.p=2;var g=Ct;Ct|=4;try{IS(i,o.alternate,o)}finally{Ct=g,G.p=p,$.T=d}}Sr=3}}function o2(){if(Sr===4||Sr===3){Sr=0,tr();var i=Ss,o=Oo,d=Mi,p=WS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Sr=5:(Sr=0,Oo=Ss=null,c2(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Ns=null),is(d),o=o.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(We,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=$.T,g=G.p,G.p=2,$.T=null;try{for(var N=i.onRecoverableError,k=0;k<p.length;k++){var I=p[k];N(I.value,{componentStack:I.stack})}}finally{$.T=o,G.p=g}}(Mi&3)!==0&&Yf(),Ra(i),g=i.pendingLanes,(d&261930)!==0&&(g&42)!==0?i===s0?xu++:(xu=0,s0=i):xu=0,gu(0)}}function c2(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Zc(o)))}function Yf(){return s2(),l2(),o2(),u2()}function u2(){if(Sr!==5)return!1;var i=Ss,o=a0;a0=0;var d=is(Mi),p=$.T,g=G.p;try{G.p=32>d?32:d,$.T=null,d=i0,i0=null;var N=Ss,k=Mi;if(Sr=0,Oo=Ss=null,Mi=0,(Ct&6)!==0)throw Error(n(331));var I=Ct;if(Ct|=4,YS(N.current),qS(N,N.current,k,d),Ct=I,gu(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(We,N)}catch{}return!0}finally{G.p=g,$.T=p,c2(i,o)}}function d2(i,o,d){o=Un(d,o),o=zx(i.stateNode,o,2),i=xs(i,o,2),i!==null&&(Ne(i,2),Ra(i))}function kt(i,o,d){if(i.tag===3)d2(i,i,d);else for(;o!==null;){if(o.tag===3){d2(o,i,d);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ns===null||!Ns.has(p))){i=Un(d,i),d=fS(2),p=xs(o,d,2),p!==null&&(mS(d,p,o,i),Ne(p,2),Ra(p));break}}o=o.return}}function c0(i,o,d){var p=i.pingCache;if(p===null){p=i.pingCache=new OR;var g=new Set;p.set(o,g)}else g=p.get(o),g===void 0&&(g=new Set,p.set(o,g));g.has(d)||(t0=!0,g.add(d),i=LR.bind(null,i,o,d),o.then(i,i))}function LR(i,o,d){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,zt===i&&(ft&d)===d&&(sr===4||sr===3&&(ft&62914560)===ft&&300>rr()-Ff?(Ct&2)===0&&To(i,0):r0|=d,_o===ft&&(_o=0)),Ra(i)}function f2(i,o){o===0&&(o=Yr()),i=cl(i,o),i!==null&&(Ne(i,o),Ra(i))}function zR(i){var o=i.memoizedState,d=0;o!==null&&(d=o.retryLane),f2(i,d)}function FR(i,o){var d=0;switch(i.tag){case 31:case 13:var p=i.stateNode,g=i.memoizedState;g!==null&&(d=g.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(o),f2(i,d)}function BR(i,o){return Bt(i,o)}var Vf=null,Io=null,u0=!1,Gf=!1,d0=!1,As=0;function Ra(i){i!==Io&&i.next===null&&(Io===null?Vf=Io=i:Io=Io.next=i),Gf=!0,u0||(u0=!0,qR())}function gu(i,o){if(!d0&&Gf){d0=!0;do for(var d=!1,p=Vf;p!==null;){if(i!==0){var g=p.pendingLanes;if(g===0)var N=0;else{var k=p.suspendedLanes,I=p.pingedLanes;N=(1<<31-Ge(42|i)+1)-1,N&=g&~(k&~I),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,v2(p,N))}else N=ft,N=Je(p,p===zt?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||Ue(p,N)||(d=!0,v2(p,N));p=p.next}while(d);d0=!1}}function $R(){m2()}function m2(){Gf=u0=!1;var i=0;As!==0&&ZR()&&(i=As);for(var o=rr(),d=null,p=Vf;p!==null;){var g=p.next,N=p2(p,o);N===0?(p.next=null,d===null?Vf=g:d.next=g,g===null&&(Io=d)):(d=p,(i!==0||(N&3)!==0)&&(Gf=!0)),p=g}Sr!==0&&Sr!==5||gu(i),As!==0&&(As=0)}function p2(i,o){for(var d=i.suspendedLanes,p=i.pingedLanes,g=i.expirationTimes,N=i.pendingLanes&-62914561;0<N;){var k=31-Ge(N),I=1<<k,q=g[k];q===-1?((I&d)===0||(I&p)!==0)&&(g[k]=Lt(I,o)):q<=o&&(i.expiredLanes|=I),N&=~I}if(o=zt,d=ft,d=Je(i,i===o?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,d===0||i===o&&(Mt===2||Mt===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&ot(p),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||Ue(i,d)){if(o=d&-d,o===i.callbackPriority)return o;switch(p!==null&&ot(p),is(d)){case 2:case 8:d=ue;break;case 32:d=be;break;case 268435456:d=Y;break;default:d=be}return p=h2.bind(null,i),d=Bt(d,p),i.callbackPriority=o,i.callbackNode=d,o}return p!==null&&p!==null&&ot(p),i.callbackPriority=2,i.callbackNode=null,2}function h2(i,o){if(Sr!==0&&Sr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(Yf()&&i.callbackNode!==d)return null;var p=ft;return p=Je(i,i===zt?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(QS(i,p,o),p2(i,rr()),i.callbackNode!=null&&i.callbackNode===d?h2.bind(null,i):null)}function v2(i,o){if(Yf())return null;QS(i,o,!0)}function qR(){eL(function(){(Ct&6)!==0?Bt(la,$R):m2()})}function f0(){if(As===0){var i=yo;i===0&&(i=$t,$t<<=1,($t&261888)===0&&($t=256)),As=i}return As}function x2(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ef(""+i)}function g2(i,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,i.id&&d.setAttribute("form",i.id),o.parentNode.insertBefore(d,o),i=new FormData(i),d.parentNode.removeChild(d),i}function HR(i,o,d,p,g){if(o==="submit"&&d&&d.stateNode===g){var N=x2((g[Vr]||null).action),k=p.submitter;k&&(o=(o=k[Vr]||null)?x2(o.formAction):k.getAttribute("formAction"),o!==null&&(N=o,k=null));var I=new af("action","action",null,p,g);i.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(As!==0){var q=k?g2(g,k):new FormData(g);Ox(d,{pending:!0,data:q,method:g.method,action:N},null,q)}}else typeof N=="function"&&(I.preventDefault(),q=k?g2(g,k):new FormData(g),Ox(d,{pending:!0,data:q,method:g.method,action:N},N,q))},currentTarget:g}]})}}for(var m0=0;m0<Kv.length;m0++){var p0=Kv[m0],UR=p0.toLowerCase(),YR=p0[0].toUpperCase()+p0.slice(1);oa(UR,"on"+YR)}oa(Kj,"onAnimationEnd"),oa(Qj,"onAnimationIteration"),oa(Xj,"onAnimationStart"),oa("dblclick","onDoubleClick"),oa("focusin","onFocus"),oa("focusout","onBlur"),oa(lR,"onTransitionRun"),oa(oR,"onTransitionStart"),oa(cR,"onTransitionCancel"),oa(Zj,"onTransitionEnd"),sn("onMouseEnter",["mouseout","mouseover"]),sn("onMouseLeave",["mouseout","mouseover"]),sn("onPointerEnter",["pointerout","pointerover"]),sn("onPointerLeave",["pointerout","pointerover"]),Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bu));function b2(i,o){o=(o&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],g=p.event;p=p.listeners;e:{var N=void 0;if(o)for(var k=p.length-1;0<=k;k--){var I=p[k],q=I.instance,ee=I.currentTarget;if(I=I.listener,q!==N&&g.isPropagationStopped())break e;N=I,g.currentTarget=ee;try{N(g)}catch(de){of(de)}g.currentTarget=null,N=q}else for(k=0;k<p.length;k++){if(I=p[k],q=I.instance,ee=I.currentTarget,I=I.listener,q!==N&&g.isPropagationStopped())break e;N=I,g.currentTarget=ee;try{N(g)}catch(de){of(de)}g.currentTarget=null,N=q}}}}function ut(i,o){var d=o[zc];d===void 0&&(d=o[zc]=new Set);var p=i+"__bubble";d.has(p)||(y2(o,i,2,!1),d.add(p))}function h0(i,o,d){var p=0;o&&(p|=4),y2(d,i,p,o)}var Wf="_reactListening"+Math.random().toString(36).slice(2);function v0(i){if(!i[Wf]){i[Wf]=!0,an.forEach(function(d){d!=="selectionchange"&&(VR.has(d)||h0(d,!1,i),h0(d,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Wf]||(o[Wf]=!0,h0("selectionchange",!1,o))}}function y2(i,o,d,p){switch(K2(o)){case 2:var g=yL;break;case 8:g=wL;break;default:g=_0}d=g.bind(null,o,d,i),g=void 0,!Rv||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),p?g!==void 0?i.addEventListener(o,d,{capture:!0,passive:g}):i.addEventListener(o,d,!0):g!==void 0?i.addEventListener(o,d,{passive:g}):i.addEventListener(o,d,!1)}function x0(i,o,d,p,g){var N=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var I=p.stateNode.containerInfo;if(I===g)break;if(k===4)for(k=p.return;k!==null;){var q=k.tag;if((q===3||q===4)&&k.stateNode.containerInfo===g)return;k=k.return}for(;I!==null;){if(k=os(I),k===null)return;if(q=k.tag,q===5||q===6||q===26||q===27){p=N=k;continue e}I=I.parentNode}}p=p.return}Cj(function(){var ee=N,de=Pv(d),pe=[];e:{var re=Jj.get(i);if(re!==void 0){var se=af,Pe=i;switch(i){case"keypress":if(rf(d)===0)break e;case"keydown":case"keyup":se=FI;break;case"focusin":Pe="focus",se=Bv;break;case"focusout":Pe="blur",se=Bv;break;case"beforeblur":case"afterblur":se=Bv;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=kj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=MI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=qI;break;case Kj:case Qj:case Xj:se=EI;break;case Zj:se=UI;break;case"scroll":case"scrollend":se=CI;break;case"wheel":se=VI;break;case"copy":case"cut":case"paste":se=OI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Ej;break;case"toggle":case"beforetoggle":se=WI}var Ve=(o&4)!==0,Pt=!Ve&&(i==="scroll"||i==="scrollend"),V=Ve?re!==null?re+"Capture":null:re;Ve=[];for(var U=ee,J;U!==null;){var me=U;if(J=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||J===null||V===null||(me=$c(U,V),me!=null&&Ve.push(yu(U,me,J))),Pt)break;U=U.return}0<Ve.length&&(re=new se(re,Pe,null,d,de),pe.push({event:re,listeners:Ve}))}}if((o&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",se=i==="mouseout"||i==="pointerout",re&&d!==Tv&&(Pe=d.relatedTarget||d.fromElement)&&(os(Pe)||Pe[ls]))break e;if((se||re)&&(re=de.window===de?de:(re=de.ownerDocument)?re.defaultView||re.parentWindow:window,se?(Pe=d.relatedTarget||d.toElement,se=ee,Pe=Pe?os(Pe):null,Pe!==null&&(Pt=l(Pe),Ve=Pe.tag,Pe!==Pt||Ve!==5&&Ve!==27&&Ve!==6)&&(Pe=null)):(se=null,Pe=ee),se!==Pe)){if(Ve=kj,me="onMouseLeave",V="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(Ve=Ej,me="onPointerLeave",V="onPointerEnter",U="pointer"),Pt=se==null?re:H(se),J=Pe==null?re:H(Pe),re=new Ve(me,U+"leave",se,d,de),re.target=Pt,re.relatedTarget=J,me=null,os(de)===ee&&(Ve=new Ve(V,U+"enter",Pe,d,de),Ve.target=J,Ve.relatedTarget=Pt,me=Ve),Pt=me,se&&Pe)t:{for(Ve=GR,V=se,U=Pe,J=0,me=V;me;me=Ve(me))J++;me=0;for(var Be=U;Be;Be=Ve(Be))me++;for(;0<J-me;)V=Ve(V),J--;for(;0<me-J;)U=Ve(U),me--;for(;J--;){if(V===U||U!==null&&V===U.alternate){Ve=V;break t}V=Ve(V),U=Ve(U)}Ve=null}else Ve=null;se!==null&&w2(pe,re,se,Ve,!1),Pe!==null&&Pt!==null&&w2(pe,Pt,Pe,Ve,!0)}}e:{if(re=ee?H(ee):window,se=re.nodeName&&re.nodeName.toLowerCase(),se==="select"||se==="input"&&re.type==="file")var wt=zj;else if(Rj(re))if(Fj)wt=aR;else{wt=rR;var Re=tR}else se=re.nodeName,!se||se.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ee&&Ov(ee.elementType)&&(wt=zj):wt=nR;if(wt&&(wt=wt(i,ee))){Lj(pe,wt,d,de);break e}Re&&Re(i,re,ee),i==="focusout"&&ee&&re.type==="number"&&ee.memoizedProps.value!=null&&_v(re,"number",re.value)}switch(Re=ee?H(ee):window,i){case"focusin":(Rj(Re)||Re.contentEditable==="true")&&(fo=Re,Vv=ee,Kc=null);break;case"focusout":Kc=Vv=fo=null;break;case"mousedown":Gv=!0;break;case"contextmenu":case"mouseup":case"dragend":Gv=!1,Gj(pe,d,de);break;case"selectionchange":if(sR)break;case"keydown":case"keyup":Gj(pe,d,de)}var at;if(qv)e:{switch(i){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else uo?Pj(i,d)&&(mt="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(mt="onCompositionStart");mt&&(_j&&d.locale!=="ko"&&(uo||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&uo&&(at=Aj()):(us=de,Lv="value"in us?us.value:us.textContent,uo=!0)),Re=Kf(ee,mt),0<Re.length&&(mt=new Dj(mt,i,null,d,de),pe.push({event:mt,listeners:Re}),at?mt.data=at:(at=Ij(d),at!==null&&(mt.data=at)))),(at=QI?XI(i,d):ZI(i,d))&&(mt=Kf(ee,"onBeforeInput"),0<mt.length&&(Re=new Dj("onBeforeInput","beforeinput",null,d,de),pe.push({event:Re,listeners:mt}),Re.data=at)),HR(pe,i,ee,d,de)}b2(pe,o)})}function yu(i,o,d){return{instance:i,listener:o,currentTarget:d}}function Kf(i,o){for(var d=o+"Capture",p=[];i!==null;){var g=i,N=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||N===null||(g=$c(i,d),g!=null&&p.unshift(yu(i,g,N)),g=$c(i,o),g!=null&&p.push(yu(i,g,N))),i.tag===3)return p;i=i.return}return[]}function GR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function w2(i,o,d,p,g){for(var N=o._reactName,k=[];d!==null&&d!==p;){var I=d,q=I.alternate,ee=I.stateNode;if(I=I.tag,q!==null&&q===p)break;I!==5&&I!==26&&I!==27||ee===null||(q=ee,g?(ee=$c(d,N),ee!=null&&k.unshift(yu(d,ee,q))):g||(ee=$c(d,N),ee!=null&&k.push(yu(d,ee,q)))),d=d.return}k.length!==0&&i.push({event:o,listeners:k})}var WR=/\r\n?/g,KR=/\u0000|\uFFFD/g;function j2(i){return(typeof i=="string"?i:""+i).replace(WR,`
`).replace(KR,"")}function N2(i,o){return o=j2(o),j2(i)===o}function Tt(i,o,d,p,g,N){switch(d){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||lo(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&lo(i,""+p);break;case"className":Zd(i,"class",p);break;case"tabIndex":Zd(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Zd(i,d,p);break;case"style":Nj(i,p,N);break;case"data":if(o!=="object"){Zd(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||d!=="href")){i.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=ef(""+p),i.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(o!=="input"&&Tt(i,o,"name",g.name,g,null),Tt(i,o,"formEncType",g.formEncType,g,null),Tt(i,o,"formMethod",g.formMethod,g,null),Tt(i,o,"formTarget",g.formTarget,g,null)):(Tt(i,o,"encType",g.encType,g,null),Tt(i,o,"method",g.method,g,null),Tt(i,o,"target",g.target,g,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=ef(""+p),i.setAttribute(d,p);break;case"onClick":p!=null&&(i.onclick=fi);break;case"onScroll":p!=null&&ut("scroll",i);break;case"onScrollEnd":p!=null&&ut("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}d=ef(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""+p):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":p===!0?i.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,p):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(d,p):i.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(d):i.setAttribute(d,p);break;case"popover":ut("beforetoggle",i),ut("toggle",i),Xd(i,"popover",p);break;case"xlinkActuate":di(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":di(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":di(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":di(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":di(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":di(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":di(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":di(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":di(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Xd(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=NI.get(d)||d,Xd(i,d,p))}}function g0(i,o,d,p,g,N){switch(d){case"style":Nj(i,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"children":typeof p=="string"?lo(i,p):(typeof p=="number"||typeof p=="bigint")&&lo(i,""+p);break;case"onScroll":p!=null&&ut("scroll",i);break;case"onScrollEnd":p!=null&&ut("scrollend",i);break;case"onClick":p!=null&&(i.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_a.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(g=d.endsWith("Capture"),o=d.slice(2,g?d.length-7:void 0),N=i[Vr]||null,N=N!=null?N[d]:null,typeof N=="function"&&i.removeEventListener(o,N,g),typeof p=="function")){typeof N!="function"&&N!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(o,p,g);break e}d in i?i[d]=p:p===!0?i.setAttribute(d,""):Xd(i,d,p)}}}function Br(i,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",i),ut("load",i);var p=!1,g=!1,N;for(N in d)if(d.hasOwnProperty(N)){var k=d[N];if(k!=null)switch(N){case"src":p=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Tt(i,o,N,k,d,null)}}g&&Tt(i,o,"srcSet",d.srcSet,d,null),p&&Tt(i,o,"src",d.src,d,null);return;case"input":ut("invalid",i);var I=N=k=g=null,q=null,ee=null;for(p in d)if(d.hasOwnProperty(p)){var de=d[p];if(de!=null)switch(p){case"name":g=de;break;case"type":k=de;break;case"checked":q=de;break;case"defaultChecked":ee=de;break;case"value":N=de;break;case"defaultValue":I=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(n(137,o));break;default:Tt(i,o,p,de,d,null)}}bj(i,N,I,q,ee,k,g,!1);return;case"select":ut("invalid",i),p=k=N=null;for(g in d)if(d.hasOwnProperty(g)&&(I=d[g],I!=null))switch(g){case"value":N=I;break;case"defaultValue":k=I;break;case"multiple":p=I;default:Tt(i,o,g,I,d,null)}o=N,d=k,i.multiple=!!p,o!=null?so(i,!!p,o,!1):d!=null&&so(i,!!p,d,!0);return;case"textarea":ut("invalid",i),N=g=p=null;for(k in d)if(d.hasOwnProperty(k)&&(I=d[k],I!=null))switch(k){case"value":p=I;break;case"defaultValue":g=I;break;case"children":N=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(n(91));break;default:Tt(i,o,k,I,d,null)}wj(i,p,g,N);return;case"option":for(q in d)d.hasOwnProperty(q)&&(p=d[q],p!=null)&&(q==="selected"?i.selected=p&&typeof p!="function"&&typeof p!="symbol":Tt(i,o,q,p,d,null));return;case"dialog":ut("beforetoggle",i),ut("toggle",i),ut("cancel",i),ut("close",i);break;case"iframe":case"object":ut("load",i);break;case"video":case"audio":for(p=0;p<bu.length;p++)ut(bu[p],i);break;case"image":ut("error",i),ut("load",i);break;case"details":ut("toggle",i);break;case"embed":case"source":case"link":ut("error",i),ut("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in d)if(d.hasOwnProperty(ee)&&(p=d[ee],p!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Tt(i,o,ee,p,d,null)}return;default:if(Ov(o)){for(de in d)d.hasOwnProperty(de)&&(p=d[de],p!==void 0&&g0(i,o,de,p,d,void 0));return}}for(I in d)d.hasOwnProperty(I)&&(p=d[I],p!=null&&Tt(i,o,I,p,d,null))}function QR(i,o,d,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,N=null,k=null,I=null,q=null,ee=null,de=null;for(se in d){var pe=d[se];if(d.hasOwnProperty(se)&&pe!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":q=pe;default:p.hasOwnProperty(se)||Tt(i,o,se,null,p,pe)}}for(var re in p){var se=p[re];if(pe=d[re],p.hasOwnProperty(re)&&(se!=null||pe!=null))switch(re){case"type":N=se;break;case"name":g=se;break;case"checked":ee=se;break;case"defaultChecked":de=se;break;case"value":k=se;break;case"defaultValue":I=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(n(137,o));break;default:se!==pe&&Tt(i,o,re,se,p,pe)}}Ev(i,k,I,q,ee,de,N,g);return;case"select":se=k=I=re=null;for(N in d)if(q=d[N],d.hasOwnProperty(N)&&q!=null)switch(N){case"value":break;case"multiple":se=q;default:p.hasOwnProperty(N)||Tt(i,o,N,null,p,q)}for(g in p)if(N=p[g],q=d[g],p.hasOwnProperty(g)&&(N!=null||q!=null))switch(g){case"value":re=N;break;case"defaultValue":I=N;break;case"multiple":k=N;default:N!==q&&Tt(i,o,g,N,p,q)}o=I,d=k,p=se,re!=null?so(i,!!d,re,!1):!!p!=!!d&&(o!=null?so(i,!!d,o,!0):so(i,!!d,d?[]:"",!1));return;case"textarea":se=re=null;for(I in d)if(g=d[I],d.hasOwnProperty(I)&&g!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Tt(i,o,I,null,p,g)}for(k in p)if(g=p[k],N=d[k],p.hasOwnProperty(k)&&(g!=null||N!=null))switch(k){case"value":re=g;break;case"defaultValue":se=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==N&&Tt(i,o,k,g,p,N)}yj(i,re,se);return;case"option":for(var Pe in d)re=d[Pe],d.hasOwnProperty(Pe)&&re!=null&&!p.hasOwnProperty(Pe)&&(Pe==="selected"?i.selected=!1:Tt(i,o,Pe,null,p,re));for(q in p)re=p[q],se=d[q],p.hasOwnProperty(q)&&re!==se&&(re!=null||se!=null)&&(q==="selected"?i.selected=re&&typeof re!="function"&&typeof re!="symbol":Tt(i,o,q,re,p,se));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in d)re=d[Ve],d.hasOwnProperty(Ve)&&re!=null&&!p.hasOwnProperty(Ve)&&Tt(i,o,Ve,null,p,re);for(ee in p)if(re=p[ee],se=d[ee],p.hasOwnProperty(ee)&&re!==se&&(re!=null||se!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(n(137,o));break;default:Tt(i,o,ee,re,p,se)}return;default:if(Ov(o)){for(var Pt in d)re=d[Pt],d.hasOwnProperty(Pt)&&re!==void 0&&!p.hasOwnProperty(Pt)&&g0(i,o,Pt,void 0,p,re);for(de in p)re=p[de],se=d[de],!p.hasOwnProperty(de)||re===se||re===void 0&&se===void 0||g0(i,o,de,re,p,se);return}}for(var V in d)re=d[V],d.hasOwnProperty(V)&&re!=null&&!p.hasOwnProperty(V)&&Tt(i,o,V,null,p,re);for(pe in p)re=p[pe],se=d[pe],!p.hasOwnProperty(pe)||re===se||re==null&&se==null||Tt(i,o,pe,re,p,se)}function S2(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XR(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var g=d[p],N=g.transferSize,k=g.initiatorType,I=g.duration;if(N&&I&&S2(k)){for(k=0,I=g.responseEnd,p+=1;p<d.length;p++){var q=d[p],ee=q.startTime;if(ee>I)break;var de=q.transferSize,pe=q.initiatorType;de&&S2(pe)&&(q=q.responseEnd,k+=de*(q<I?1:(I-ee)/(q-ee)))}if(--p,o+=8*(N+k)/(g.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var b0=null,y0=null;function Qf(i){return i.nodeType===9?i:i.ownerDocument}function C2(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A2(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function w0(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var j0=null;function ZR(){var i=window.event;return i&&i.type==="popstate"?i===j0?!1:(j0=i,!0):(j0=null,!1)}var M2=typeof setTimeout=="function"?setTimeout:void 0,JR=typeof clearTimeout=="function"?clearTimeout:void 0,k2=typeof Promise=="function"?Promise:void 0,eL=typeof queueMicrotask=="function"?queueMicrotask:typeof k2<"u"?function(i){return k2.resolve(null).then(i).catch(tL)}:M2;function tL(i){setTimeout(function(){throw i})}function Ms(i){return i==="head"}function D2(i,o){var d=o,p=0;do{var g=d.nextSibling;if(i.removeChild(d),g&&g.nodeType===8)if(d=g.data,d==="/$"||d==="/&"){if(p===0){i.removeChild(g),Fo(o);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")wu(i.ownerDocument.documentElement);else if(d==="head"){d=i.ownerDocument.head,wu(d);for(var N=d.firstChild;N;){var k=N.nextSibling,I=N.nodeName;N[il]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=k}}else d==="body"&&wu(i.ownerDocument.body);d=g}while(d);Fo(o)}function E2(i,o){var d=i;i=0;do{var p=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(i===0)break;i--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||i++;d=p}while(d)}function N0(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":N0(d),Fc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function rL(i,o,d,p){for(;i.nodeType===1;){var g=d;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[il])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(N=i.getAttribute("rel"),N==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(N!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(N=i.getAttribute("src"),(N!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&N&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var N=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===N)return i}else return i;if(i=Kn(i.nextSibling),i===null)break}return null}function nL(i,o,d){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=Kn(i.nextSibling),i===null))return null;return i}function _2(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Kn(i.nextSibling),i===null))return null;return i}function S0(i){return i.data==="$?"||i.data==="$~"}function C0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function aL(i,o){var d=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||d.readyState!=="loading")o();else{var p=function(){o(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function Kn(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var A0=null;function O2(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"||d==="/&"){if(o===0)return Kn(i.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}i=i.nextSibling}return null}function T2(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return i;o--}else d!=="/$"&&d!=="/&"||o++}i=i.previousSibling}return null}function P2(i,o,d){switch(o=Qf(d),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function wu(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Fc(i)}var Qn=new Map,I2=new Set;function Xf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ki=G.d;G.d={f:iL,r:sL,D:lL,C:oL,L:cL,m:uL,X:fL,S:dL,M:mL};function iL(){var i=ki.f(),o=qf();return i||o}function sL(i){var o=cs(i);o!==null&&o.tag===5&&o.type==="form"?ZN(o):ki.r(i)}var Ro=typeof document>"u"?null:document;function R2(i,o,d){var p=Ro;if(p&&typeof o=="string"&&o){var g=qn(o);g='link[rel="'+i+'"][href="'+g+'"]',typeof d=="string"&&(g+='[crossorigin="'+d+'"]'),I2.has(g)||(I2.add(g),i={rel:i,crossOrigin:d,href:o},p.querySelector(g)===null&&(o=p.createElement("link"),Br(o,"link",i),gt(o),p.head.appendChild(o)))}}function lL(i){ki.D(i),R2("dns-prefetch",i,null)}function oL(i,o){ki.C(i,o),R2("preconnect",i,o)}function cL(i,o,d){ki.L(i,o,d);var p=Ro;if(p&&i&&o){var g='link[rel="preload"][as="'+qn(o)+'"]';o==="image"&&d&&d.imageSrcSet?(g+='[imagesrcset="'+qn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(g+='[imagesizes="'+qn(d.imageSizes)+'"]')):g+='[href="'+qn(i)+'"]';var N=g;switch(o){case"style":N=Lo(i);break;case"script":N=zo(i)}Qn.has(N)||(i=v({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:i,as:o},d),Qn.set(N,i),p.querySelector(g)!==null||o==="style"&&p.querySelector(ju(N))||o==="script"&&p.querySelector(Nu(N))||(o=p.createElement("link"),Br(o,"link",i),gt(o),p.head.appendChild(o)))}}function uL(i,o){ki.m(i,o);var d=Ro;if(d&&i){var p=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+qn(p)+'"][href="'+qn(i)+'"]',N=g;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=zo(i)}if(!Qn.has(N)&&(i=v({rel:"modulepreload",href:i},o),Qn.set(N,i),d.querySelector(g)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Nu(N)))return}p=d.createElement("link"),Br(p,"link",i),gt(p),d.head.appendChild(p)}}}function dL(i,o,d){ki.S(i,o,d);var p=Ro;if(p&&i){var g=we(p).hoistableStyles,N=Lo(i);o=o||"default";var k=g.get(N);if(!k){var I={loading:0,preload:null};if(k=p.querySelector(ju(N)))I.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":o},d),(d=Qn.get(N))&&M0(i,d);var q=k=p.createElement("link");gt(q),Br(q,"link",i),q._p=new Promise(function(ee,de){q.onload=ee,q.onerror=de}),q.addEventListener("load",function(){I.loading|=1}),q.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Zf(k,o,p)}k={type:"stylesheet",instance:k,count:1,state:I},g.set(N,k)}}}function fL(i,o){ki.X(i,o);var d=Ro;if(d&&i){var p=we(d).hoistableScripts,g=zo(i),N=p.get(g);N||(N=d.querySelector(Nu(g)),N||(i=v({src:i,async:!0},o),(o=Qn.get(g))&&k0(i,o),N=d.createElement("script"),gt(N),Br(N,"link",i),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(g,N))}}function mL(i,o){ki.M(i,o);var d=Ro;if(d&&i){var p=we(d).hoistableScripts,g=zo(i),N=p.get(g);N||(N=d.querySelector(Nu(g)),N||(i=v({src:i,async:!0,type:"module"},o),(o=Qn.get(g))&&k0(i,o),N=d.createElement("script"),gt(N),Br(N,"link",i),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(g,N))}}function L2(i,o,d,p){var g=(g=ye.current)?Xf(g):null;if(!g)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=Lo(d.href),d=we(g).hoistableStyles,p=d.get(o),p||(p={type:"style",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=Lo(d.href);var N=we(g).hoistableStyles,k=N.get(i);if(k||(g=g.ownerDocument||g,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(i,k),(N=g.querySelector(ju(i)))&&!N._p&&(k.instance=N,k.state.loading=5),Qn.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Qn.set(i,d),N||pL(g,i,d,k.state))),o&&p===null)throw Error(n(528,""));return k}if(o&&p!==null)throw Error(n(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=zo(d),d=we(g).hoistableScripts,p=d.get(o),p||(p={type:"script",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Lo(i){return'href="'+qn(i)+'"'}function ju(i){return'link[rel="stylesheet"]['+i+"]"}function z2(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function pL(i,o,d,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),Br(o,"link",d),gt(o),i.head.appendChild(o))}function zo(i){return'[src="'+qn(i)+'"]'}function Nu(i){return"script[async]"+i}function F2(i,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+qn(d.href)+'"]');if(p)return o.instance=p,gt(p),p;var g=v({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),gt(p),Br(p,"style",g),Zf(p,d.precedence,i),o.instance=p;case"stylesheet":g=Lo(d.href);var N=i.querySelector(ju(g));if(N)return o.state.loading|=4,o.instance=N,gt(N),N;p=z2(d),(g=Qn.get(g))&&M0(p,g),N=(i.ownerDocument||i).createElement("link"),gt(N);var k=N;return k._p=new Promise(function(I,q){k.onload=I,k.onerror=q}),Br(N,"link",p),o.state.loading|=4,Zf(N,d.precedence,i),o.instance=N;case"script":return N=zo(d.src),(g=i.querySelector(Nu(N)))?(o.instance=g,gt(g),g):(p=d,(g=Qn.get(N))&&(p=v({},d),k0(p,g)),i=i.ownerDocument||i,g=i.createElement("script"),gt(g),Br(g,"link",p),i.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Zf(p,d.precedence,i));return o.instance}function Zf(i,o,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=p.length?p[p.length-1]:null,N=g,k=0;k<p.length;k++){var I=p[k];if(I.dataset.precedence===o)N=I;else if(N!==g)break}N?N.parentNode.insertBefore(i,N.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(i,o.firstChild))}function M0(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function k0(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Jf=null;function B2(i,o,d){if(Jf===null){var p=new Map,g=Jf=new Map;g.set(d,p)}else g=Jf,p=g.get(d),p||(p=new Map,g.set(d,p));if(p.has(i))return p;for(p.set(i,null),d=d.getElementsByTagName(i),g=0;g<d.length;g++){var N=d[g];if(!(N[il]||N[Nr]||i==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var k=N.getAttribute(o)||"";k=i+k;var I=p.get(k);I?I.push(N):p.set(k,[N])}}return p}function $2(i,o,d){i=i.ownerDocument||i,i.head.insertBefore(d,o==="title"?i.querySelector("head > title"):null)}function hL(i,o,d){if(d===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(i=o.disabled,typeof o.precedence=="string"&&i==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function q2(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function vL(i,o,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var g=Lo(p.href),N=o.querySelector(ju(g));if(N){o=N._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=em.bind(i),o.then(i,i)),d.state.loading|=4,d.instance=N,gt(N);return}N=o.ownerDocument||o,p=z2(p),(g=Qn.get(g))&&M0(p,g),N=N.createElement("link"),gt(N);var k=N;k._p=new Promise(function(I,q){k.onload=I,k.onerror=q}),Br(N,"link",p),d.instance=N}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(i.count++,d=em.bind(i),o.addEventListener("load",d),o.addEventListener("error",d))}}var D0=0;function xL(i,o){return i.stylesheets&&i.count===0&&rm(i,i.stylesheets),0<i.count||0<i.imgCount?function(d){var p=setTimeout(function(){if(i.stylesheets&&rm(i,i.stylesheets),i.unsuspend){var N=i.unsuspend;i.unsuspend=null,N()}},6e4+o);0<i.imgBytes&&D0===0&&(D0=62500*XR());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&rm(i,i.stylesheets),i.unsuspend)){var N=i.unsuspend;i.unsuspend=null,N()}},(i.imgBytes>D0?50:800)+o);return i.unsuspend=d,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(g)}}:null}function em(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var tm=null;function rm(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,tm=new Map,o.forEach(gL,i),tm=null,em.call(i))}function gL(i,o){if(!(o.state.loading&4)){var d=tm.get(i);if(d)var p=d.get(null);else{d=new Map,tm.set(i,d);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<g.length;N++){var k=g[N];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(d.set(k.dataset.precedence,k),p=k)}p&&d.set(null,p)}g=o.instance,k=g.getAttribute("data-precedence"),N=d.get(k)||p,N===p&&d.set(null,g),d.set(k,g),this.count++,p=em.bind(this),g.addEventListener("load",p),g.addEventListener("error",p),N?N.parentNode.insertBefore(g,N.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),o.state.loading|=4}}var Su={$$typeof:A,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function bL(i,o,d,p,g,N,k,I,q){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.hiddenUpdates=Dr(null),this.identifierPrefix=p,this.onUncaughtError=g,this.onCaughtError=N,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function H2(i,o,d,p,g,N,k,I,q,ee,de,pe){return i=new bL(i,o,d,k,q,ee,de,pe,I),o=1,N===!0&&(o|=24),N=Sn(3,null,null,o),i.current=N,N.stateNode=i,o=ox(),o.refCount++,i.pooledCache=o,o.refCount++,N.memoizedState={element:p,isDehydrated:d,cache:o},fx(N),i}function U2(i){return i?(i=ho,i):ho}function Y2(i,o,d,p,g,N){g=U2(g),p.context===null?p.context=g:p.pendingContext=g,p=vs(o),p.payload={element:d},N=N===void 0?null:N,N!==null&&(p.callback=N),d=xs(i,p,o),d!==null&&(fn(d,i,o),ru(d,i,o))}function V2(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<o?d:o}}function E0(i,o){V2(i,o),(i=i.alternate)&&V2(i,o)}function G2(i){if(i.tag===13||i.tag===31){var o=cl(i,67108864);o!==null&&fn(o,i,67108864),E0(i,67108864)}}function W2(i){if(i.tag===13||i.tag===31){var o=Dn();o=Da(o);var d=cl(i,o);d!==null&&fn(d,i,o),E0(i,o)}}var nm=!0;function yL(i,o,d,p){var g=$.T;$.T=null;var N=G.p;try{G.p=2,_0(i,o,d,p)}finally{G.p=N,$.T=g}}function wL(i,o,d,p){var g=$.T;$.T=null;var N=G.p;try{G.p=8,_0(i,o,d,p)}finally{G.p=N,$.T=g}}function _0(i,o,d,p){if(nm){var g=O0(p);if(g===null)x0(i,o,p,am,d),Q2(i,p);else if(NL(g,i,o,d,p))p.stopPropagation();else if(Q2(i,p),o&4&&-1<jL.indexOf(i)){for(;g!==null;){var N=cs(g);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var k=je(N.pendingLanes);if(k!==0){var I=N;for(I.pendingLanes|=2,I.entangledLanes|=2;k;){var q=1<<31-Ge(k);I.entanglements[1]|=q,k&=~q}Ra(N),(Ct&6)===0&&(Bf=rr()+500,gu(0))}}break;case 31:case 13:I=cl(N,2),I!==null&&fn(I,N,2),qf(),E0(N,2)}if(N=O0(p),N===null&&x0(i,o,p,am,d),N===g)break;g=N}g!==null&&p.stopPropagation()}else x0(i,o,p,null,d)}}function O0(i){return i=Pv(i),T0(i)}var am=null;function T0(i){if(am=null,i=os(i),i!==null){var o=l(i);if(o===null)i=null;else{var d=o.tag;if(d===13){if(i=c(o),i!==null)return i;i=null}else if(d===31){if(i=u(o),i!==null)return i;i=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return am=i,null}function K2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(as()){case la:return 2;case ue:return 8;case be:case ze:return 32;case Y:return 268435456;default:return 32}default:return 32}}var P0=!1,ks=null,Ds=null,Es=null,Cu=new Map,Au=new Map,_s=[],jL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q2(i,o){switch(i){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":Cu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Au.delete(o.pointerId)}}function Mu(i,o,d,p,g,N){return i===null||i.nativeEvent!==N?(i={blockedOn:o,domEventName:d,eventSystemFlags:p,nativeEvent:N,targetContainers:[g]},o!==null&&(o=cs(o),o!==null&&G2(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function NL(i,o,d,p,g){switch(o){case"focusin":return ks=Mu(ks,i,o,d,p,g),!0;case"dragenter":return Ds=Mu(Ds,i,o,d,p,g),!0;case"mouseover":return Es=Mu(Es,i,o,d,p,g),!0;case"pointerover":var N=g.pointerId;return Cu.set(N,Mu(Cu.get(N)||null,i,o,d,p,g)),!0;case"gotpointercapture":return N=g.pointerId,Au.set(N,Mu(Au.get(N)||null,i,o,d,p,g)),!0}return!1}function X2(i){var o=os(i.target);if(o!==null){var d=l(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){i.blockedOn=o,al(i.priority,function(){W2(d)});return}}else if(o===31){if(o=u(d),o!==null){i.blockedOn=o,al(i.priority,function(){W2(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function im(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var d=O0(i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);Tv=p,d.target.dispatchEvent(p),Tv=null}else return o=cs(d),o!==null&&G2(o),i.blockedOn=d,!1;o.shift()}return!0}function Z2(i,o,d){im(i)&&d.delete(o)}function SL(){P0=!1,ks!==null&&im(ks)&&(ks=null),Ds!==null&&im(Ds)&&(Ds=null),Es!==null&&im(Es)&&(Es=null),Cu.forEach(Z2),Au.forEach(Z2)}function sm(i,o){i.blockedOn===o&&(i.blockedOn=null,P0||(P0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,SL)))}var lm=null;function J2(i){lm!==i&&(lm=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){lm===i&&(lm=null);for(var o=0;o<i.length;o+=3){var d=i[o],p=i[o+1],g=i[o+2];if(typeof p!="function"){if(T0(p||d)===null)continue;break}var N=cs(d);N!==null&&(i.splice(o,3),o-=3,Ox(N,{pending:!0,data:g,method:d.method,action:p},p,g))}}))}function Fo(i){function o(q){return sm(q,i)}ks!==null&&sm(ks,i),Ds!==null&&sm(Ds,i),Es!==null&&sm(Es,i),Cu.forEach(o),Au.forEach(o);for(var d=0;d<_s.length;d++){var p=_s[d];p.blockedOn===i&&(p.blockedOn=null)}for(;0<_s.length&&(d=_s[0],d.blockedOn===null);)X2(d),d.blockedOn===null&&_s.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var g=d[p],N=d[p+1],k=g[Vr]||null;if(typeof N=="function")k||J2(d);else if(k){var I=null;if(N&&N.hasAttribute("formAction")){if(g=N,k=N[Vr]||null)I=k.formAction;else if(T0(g)!==null)continue}else I=k.action;typeof I=="function"?d[p+1]=I:(d.splice(p,3),p-=3),J2(d)}}}function eC(){function i(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(k){return g=k})},focusReset:"manual",scroll:"manual"})}function o(){g!==null&&(g(),g=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),g!==null&&(g(),g=null)}}}function I0(i){this._internalRoot=i}om.prototype.render=I0.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var d=o.current,p=Dn();Y2(d,p,i,o,null,null)},om.prototype.unmount=I0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Y2(i.current,2,null,i,null,null),qf(),o[ls]=null}};function om(i){this._internalRoot=i}om.prototype.unstable_scheduleHydration=function(i){if(i){var o=ss();i={blockedOn:null,target:i,priority:o};for(var d=0;d<_s.length&&o!==0&&o<_s[d].priority;d++);_s.splice(d,0,i),d===0&&X2(i)}};var tC=t.version;if(tC!=="19.2.4")throw Error(n(527,tC,"19.2.4"));G.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=m(o),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var CL={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cm.isDisabled&&cm.supportsFiber)try{We=cm.inject(CL),ke=cm}catch{}}return Du.createRoot=function(i,o){if(!a(i))throw Error(n(299));var d=!1,p="",g=oS,N=cS,k=uS;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError)),o=H2(i,1,!1,null,null,d,p,null,g,N,k,eC),i[ls]=o.current,v0(i),new I0(o)},Du.hydrateRoot=function(i,o,d){if(!a(i))throw Error(n(299));var p=!1,g="",N=oS,k=cS,I=uS,q=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(g=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&(I=d.onRecoverableError),d.formState!==void 0&&(q=d.formState)),o=H2(i,1,!0,o,d??null,p,g,q,N,k,I,eC),o.context=U2(null),d=o.current,p=Dn(),p=Da(p),g=vs(p),g.callback=null,xs(d,g,p),d=p,o.current.lanes=d,Ne(o,d),Ra(o),i[ls]=o.current,v0(i),new om(o)},Du.version="19.2.4",Du}var dC;function IL(){if(dC)return z0.exports;dC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),z0.exports=PL(),z0.exports}var RL=IL();var fC="popstate";function LL(e={}){function t(n,a){let{pathname:l,search:c,hash:u}=n.location;return Wb("",{pathname:l,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:rd(a)}return FL(t,r,null,e)}function Jt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zL(){return Math.random().toString(36).substring(2,10)}function mC(e,t){return{usr:e.state,key:e.key,idx:t}}function Wb(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?jc(t):t,state:r,key:t&&t.key||n||zL()}}function rd({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function jc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function FL(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:l=!1}=n,c=a.history,u="POP",f=null,m=h();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function h(){return(c.state||{idx:null}).idx}function v(){u="POP";let y=h(),C=y==null?null:y-m;m=y,f&&f({action:u,location:w.location,delta:C})}function x(y,C){u="PUSH";let M=Wb(w.location,y,C);m=h()+1;let A=mC(M,m),_=w.createHref(M);try{c.pushState(A,"",_)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(_)}l&&f&&f({action:u,location:w.location,delta:1})}function b(y,C){u="REPLACE";let M=Wb(w.location,y,C);m=h();let A=mC(M,m),_=w.createHref(M);c.replaceState(A,"",_),l&&f&&f({action:u,location:w.location,delta:0})}function S(y){return BL(y)}let w={get action(){return u},get location(){return e(a,c)},listen(y){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(fC,v),f=y,()=>{a.removeEventListener(fC,v),f=null}},createHref(y){return t(a,y)},createURL:S,encodeLocation(y){let C=S(y);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:b,go(y){return c.go(y)}};return w}function BL(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Jt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:rd(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function L_(e,t,r="/"){return $L(e,t,r,!1)}function $L(e,t,r,n){let a=typeof t=="string"?jc(t):t,l=Bi(a.pathname||"/",r);if(l==null)return null;let c=z_(e);qL(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let m=JL(l);u=XL(c[f],m,n)}return u}function z_(e,t=[],r=[],n="",a=!1){let l=(c,u,f=a,m)=>{let h={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&f)return;Jt(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let v=Ri([n,h.relativePath]),x=r.concat(h);c.children&&c.children.length>0&&(Jt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),z_(c.children,t,x,v,f)),!(c.path==null&&!c.index)&&t.push({path:v,score:KL(v,c.index),routesMeta:x})};return e.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))l(c,u);else for(let f of F_(c.path))l(c,u,!0,f)}),t}function F_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let c=F_(n.join("/")),u=[];return u.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function qL(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:QL(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var HL=/^:[\w-]+$/,UL=3,YL=2,VL=1,GL=10,WL=-2,pC=e=>e==="*";function KL(e,t){let r=e.split("/"),n=r.length;return r.some(pC)&&(n+=WL),t&&(n+=YL),r.filter(a=>!pC(a)).reduce((a,l)=>a+(HL.test(l)?UL:l===""?VL:GL),n)}function QL(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function XL(e,t,r=!1){let{routesMeta:n}=e,a={},l="/",c=[];for(let u=0;u<n.length;++u){let f=n[u],m=u===n.length-1,h=l==="/"?t:t.slice(l.length)||"/",v=fp({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},h),x=f.route;if(!v&&m&&r&&!n[n.length-1].route.index&&(v=fp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Ri([l,v.pathname]),pathnameBase:n6(Ri([l,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(l=Ri([l,v.pathnameBase]))}return c}function fp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=ZL(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((m,{paramName:h,isOptional:v},x)=>{if(h==="*"){let S=u[x]||"";c=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const b=u[x];return v&&!b?m[h]=void 0:m[h]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function ZL(e,t=!1,r=!0){wa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function JL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Bi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var e6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function t6(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?jc(e):e,l;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?l=hC(r.substring(1),"/"):l=hC(r,t)):l=t,{pathname:l,search:a6(n),hash:i6(a)}}function hC(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function q0(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function r6(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function a1(e){let t=r6(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function i1(e,t,r,n=!1){let a;typeof e=="string"?a=jc(e):(a={...e},Jt(!a.pathname||!a.pathname.includes("?"),q0("?","pathname","search",a)),Jt(!a.pathname||!a.pathname.includes("#"),q0("#","pathname","hash",a)),Jt(!a.search||!a.search.includes("#"),q0("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,u;if(c==null)u=r;else{let v=t.length-1;if(!n&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}u=v>=0?t[v]:"/"}let f=t6(a,u),m=c&&c!=="/"&&c.endsWith("/"),h=(l||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(m||h)&&(f.pathname+="/"),f}var Ri=e=>e.join("/").replace(/\/\/+/g,"/"),n6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),a6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,i6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,s6=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function l6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function o6(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var B_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $_(e,t){let r=e;if(typeof r!="string"||!e6.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(B_)try{let l=new URL(window.location.href),c=r.startsWith("//")?new URL(l.protocol+r):new URL(r),u=Bi(c.pathname,t);c.origin===l.origin&&u!=null?r=u+c.search+c.hash:a=!0}catch{wa(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var q_=["POST","PUT","PATCH","DELETE"];new Set(q_);var c6=["GET",...q_];new Set(c6);var Nc=j.createContext(null);Nc.displayName="DataRouter";var Ah=j.createContext(null);Ah.displayName="DataRouterState";var u6=j.createContext(!1),H_=j.createContext({isTransitioning:!1});H_.displayName="ViewTransition";var d6=j.createContext(new Map);d6.displayName="Fetchers";var f6=j.createContext(null);f6.displayName="Await";var Bn=j.createContext(null);Bn.displayName="Navigation";var Nd=j.createContext(null);Nd.displayName="Location";var Sa=j.createContext({outlet:null,matches:[],isDataRoute:!1});Sa.displayName="Route";var s1=j.createContext(null);s1.displayName="RouteError";var U_="REACT_ROUTER_ERROR",m6="REDIRECT",p6="ROUTE_ERROR_RESPONSE";function h6(e){if(e.startsWith(`${U_}:${m6}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function v6(e){if(e.startsWith(`${U_}:${p6}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new s6(t.status,t.statusText,t.data)}catch{}}function x6(e,{relative:t}={}){Jt(Sc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=j.useContext(Bn),{hash:a,pathname:l,search:c}=Sd(e,{relative:t}),u=l;return r!=="/"&&(u=l==="/"?r:Ri([r,l])),n.createHref({pathname:u,search:c,hash:a})}function Sc(){return j.useContext(Nd)!=null}function Ca(){return Jt(Sc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Nd).location}var Y_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function V_(e){j.useContext(Bn).static||j.useLayoutEffect(e)}function eo(){let{isDataRoute:e}=j.useContext(Sa);return e?O6():g6()}function g6(){Jt(Sc(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(Nc),{basename:t,navigator:r}=j.useContext(Bn),{matches:n}=j.useContext(Sa),{pathname:a}=Ca(),l=JSON.stringify(a1(n)),c=j.useRef(!1);return V_(()=>{c.current=!0}),j.useCallback((f,m={})=>{if(wa(c.current,Y_),!c.current)return;if(typeof f=="number"){r.go(f);return}let h=i1(f,JSON.parse(l),a,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ri([t,h.pathname])),(m.replace?r.replace:r.push)(h,m.state,m)},[t,r,l,a,e])}var b6=j.createContext(null);function y6(e){let t=j.useContext(Sa).outlet;return j.useMemo(()=>t&&j.createElement(b6.Provider,{value:e},t),[t,e])}function Sd(e,{relative:t}={}){let{matches:r}=j.useContext(Sa),{pathname:n}=Ca(),a=JSON.stringify(a1(r));return j.useMemo(()=>i1(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function w6(e,t){return G_(e,t)}function G_(e,t,r,n,a){Jt(Sc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=j.useContext(Bn),{matches:c}=j.useContext(Sa),u=c[c.length-1],f=u?u.params:{},m=u?u.pathname:"/",h=u?u.pathnameBase:"/",v=u&&u.route;{let M=v&&v.path||"";K_(m,!v||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let x=Ca(),b;if(t){let M=typeof t=="string"?jc(t):t;Jt(h==="/"||M.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${M.pathname}" was given in the \`location\` prop.`),b=M}else b=x;let S=b.pathname||"/",w=S;if(h!=="/"){let M=h.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(M.length).join("/")}let y=L_(e,{pathname:w});wa(v||y!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),wa(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=A6(y&&y.map(M=>Object.assign({},M,{params:Object.assign({},f,M.params),pathname:Ri([h,l.encodeLocation?l.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?h:Ri([h,l.encodeLocation?l.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),c,r,n,a);return t&&C?j.createElement(Nd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function j6(){let e=_6(),t=l6(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:a},r):null,c)}var N6=j.createElement(j6,null),W_=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=v6(e.digest);r&&(e=r)}let t=e!==void 0?j.createElement(Sa.Provider,{value:this.props.routeContext},j.createElement(s1.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?j.createElement(S6,{error:e},t):t}};W_.contextType=u6;var H0=new WeakMap;function S6({children:e,error:t}){let{basename:r}=j.useContext(Bn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=h6(t.digest);if(n){let a=H0.get(t);if(a)throw a;let l=$_(n.location,r);if(B_&&!H0.get(t))if(l.isExternal||n.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:n.replace}));throw H0.set(t,c),c}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function C6({routeContext:e,match:t,children:r}){let n=j.useContext(Nc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Sa.Provider,{value:e},r)}function A6(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,c=r?.errors;if(c!=null){let h=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);Jt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,h+1))}let u=!1,f=-1;if(r)for(let h=0;h<l.length;h++){let v=l[h];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=h),v.route.id){let{loaderData:x,errors:b}=r,S=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!b||b[v.route.id]===void 0);if(v.route.lazy||S){u=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let m=r&&n?(h,v)=>{n(h,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:o6(r.matches),errorInfo:v})}:void 0;return l.reduceRight((h,v,x)=>{let b,S=!1,w=null,y=null;r&&(b=c&&v.route.id?c[v.route.id]:void 0,w=v.route.errorElement||N6,u&&(f<0&&x===0?(K_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,y=null):f===x&&(S=!0,y=v.route.hydrateFallbackElement||null)));let C=t.concat(l.slice(0,x+1)),M=()=>{let A;return b?A=w:S?A=y:v.route.Component?A=j.createElement(v.route.Component,null):v.route.element?A=v.route.element:A=h,j.createElement(C6,{match:v,routeContext:{outlet:h,matches:C,isDataRoute:r!=null},children:A})};return r&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?j.createElement(W_,{location:r.location,revalidation:r.revalidation,component:w,error:b,children:M(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:m}):M()},null)}function l1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M6(e){let t=j.useContext(Nc);return Jt(t,l1(e)),t}function k6(e){let t=j.useContext(Ah);return Jt(t,l1(e)),t}function D6(e){let t=j.useContext(Sa);return Jt(t,l1(e)),t}function o1(e){let t=D6(e),r=t.matches[t.matches.length-1];return Jt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function E6(){return o1("useRouteId")}function _6(){let e=j.useContext(s1),t=k6("useRouteError"),r=o1("useRouteError");return e!==void 0?e:t.errors?.[r]}function O6(){let{router:e}=M6("useNavigate"),t=o1("useNavigate"),r=j.useRef(!1);return V_(()=>{r.current=!0}),j.useCallback(async(a,l={})=>{wa(r.current,Y_),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var vC={};function K_(e,t,r){!t&&!vC[e]&&(vC[e]=!0,wa(!1,r))}j.memo(T6);function T6({routes:e,future:t,state:r,onError:n}){return G_(e,void 0,r,n,t)}function mp({to:e,replace:t,state:r,relative:n}){Jt(Sc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext(Bn);wa(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=j.useContext(Sa),{pathname:c}=Ca(),u=eo(),f=i1(e,a1(l),c,n==="path"),m=JSON.stringify(f);return j.useEffect(()=>{u(JSON.parse(m),{replace:t,state:r,relative:n})},[u,m,n,t,r]),null}function Q_(e){return y6(e.context)}function Qt(e){Jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function P6({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){Jt(!Sc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:u,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[u,a,l,c]);typeof r=="string"&&(r=jc(r));let{pathname:m="/",search:h="",hash:v="",state:x=null,key:b="default"}=r,S=j.useMemo(()=>{let w=Bi(m,u);return w==null?null:{location:{pathname:w,search:h,hash:v,state:x,key:b},navigationType:n}},[u,m,h,v,x,b,n]);return wa(S!=null,`<Router basename="${u}"> is not able to match the URL "${m}${h}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:j.createElement(Bn.Provider,{value:f},j.createElement(Nd.Provider,{children:t,value:S}))}function I6({children:e,location:t}){return w6(Kb(e),t)}function Kb(e,t=[]){let r=[];return j.Children.forEach(e,(n,a)=>{if(!j.isValidElement(n))return;let l=[...t,a];if(n.type===j.Fragment){r.push.apply(r,Kb(n.props.children,l));return}Jt(n.type===Qt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Jt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Kb(n.props.children,l)),r.push(c)}),r}var Qm="get",Xm="application/x-www-form-urlencoded";function Mh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function R6(e){return Mh(e)&&e.tagName.toLowerCase()==="button"}function L6(e){return Mh(e)&&e.tagName.toLowerCase()==="form"}function z6(e){return Mh(e)&&e.tagName.toLowerCase()==="input"}function F6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function B6(e,t){return e.button===0&&(!t||t==="_self")&&!F6(e)}var um=null;function $6(){if(um===null)try{new FormData(document.createElement("form"),0),um=!1}catch{um=!0}return um}var q6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function U0(e){return e!=null&&!q6.has(e)?(wa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xm}"`),null):e}function H6(e,t){let r,n,a,l,c;if(L6(e)){let u=e.getAttribute("action");n=u?Bi(u,t):null,r=e.getAttribute("method")||Qm,a=U0(e.getAttribute("enctype"))||Xm,l=new FormData(e)}else if(R6(e)||z6(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(n=f?Bi(f,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||Qm,a=U0(e.getAttribute("formenctype"))||U0(u.getAttribute("enctype"))||Xm,l=new FormData(u,e),!$6()){let{name:m,type:h,value:v}=e;if(h==="image"){let x=m?`${m}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else m&&l.append(m,v)}}else{if(Mh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Qm,n=null,a=Xm,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function c1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function U6(e,t,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&Bi(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function Y6(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function V6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function G6(e,t,r){let n=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await Y6(l,r);return c.links?c.links():[]}return[]}));return X6(n.flat(1).filter(V6).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function xC(e,t,r,n,a,l){let c=(f,m)=>r[m]?f.route.id!==r[m].route.id:!0,u=(f,m)=>r[m].pathname!==f.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==f.params["*"];return l==="assets"?t.filter((f,m)=>c(f,m)||u(f,m)):l==="data"?t.filter((f,m)=>{let h=n.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(c(f,m)||u(f,m))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function W6(e,t,{includeHydrateFallback:r}={}){return K6(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function K6(e){return[...new Set(e)]}function Q6(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function X6(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let l=JSON.stringify(Q6(a));return r.has(l)||(r.add(l),n.push({key:l,link:a})),n},[])}function X_(){let e=j.useContext(Nc);return c1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Z6(){let e=j.useContext(Ah);return c1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var u1=j.createContext(void 0);u1.displayName="FrameworkContext";function Z_(){let e=j.useContext(u1);return c1(e,"You must render this element inside a <HydratedRouter> element"),e}function J6(e,t){let r=j.useContext(u1),[n,a]=j.useState(!1),[l,c]=j.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:m,onMouseLeave:h,onTouchStart:v}=t,x=j.useRef(null);j.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let w=C=>{C.forEach(M=>{c(M.isIntersecting)})},y=new IntersectionObserver(w,{threshold:.5});return x.current&&y.observe(x.current),()=>{y.disconnect()}}},[e]),j.useEffect(()=>{if(n){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[n]);let b=()=>{a(!0)},S=()=>{a(!1),c(!1)};return r?e!=="intent"?[l,x,{}]:[l,x,{onFocus:Eu(u,b),onBlur:Eu(f,S),onMouseEnter:Eu(m,b),onMouseLeave:Eu(h,S),onTouchStart:Eu(v,b)}]:[!1,x,{}]}function Eu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function ez({page:e,...t}){let{router:r}=X_(),n=j.useMemo(()=>L_(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?j.createElement(rz,{page:e,matches:n,...t}):null}function tz(e){let{manifest:t,routeModules:r}=Z_(),[n,a]=j.useState([]);return j.useEffect(()=>{let l=!1;return G6(e,t,r).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,r]),n}function rz({page:e,matches:t,...r}){let n=Ca(),{future:a,manifest:l,routeModules:c}=Z_(),{basename:u}=X_(),{loaderData:f,matches:m}=Z6(),h=j.useMemo(()=>xC(e,t,m,l,n,"data"),[e,t,m,l,n]),v=j.useMemo(()=>xC(e,t,m,l,n,"assets"),[e,t,m,l,n]),x=j.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let w=new Set,y=!1;if(t.forEach(M=>{let A=l.routes[M.route.id];!A||!A.hasLoader||(!h.some(_=>_.route.id===M.route.id)&&M.route.id in f&&c[M.route.id]?.shouldRevalidate||A.hasClientLoader?y=!0:w.add(M.route.id))}),w.size===0)return[];let C=U6(e,u,a.unstable_trailingSlashAwareDataRequests,"data");return y&&w.size>0&&C.searchParams.set("_routes",t.filter(M=>w.has(M.route.id)).map(M=>M.route.id).join(",")),[C.pathname+C.search]},[u,a.unstable_trailingSlashAwareDataRequests,f,n,l,h,t,e,c]),b=j.useMemo(()=>W6(v,l),[v,l]),S=tz(v);return j.createElement(j.Fragment,null,x.map(w=>j.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),b.map(w=>j.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),S.map(({key:w,link:y})=>j.createElement("link",{key:w,nonce:r.nonce,...y,crossOrigin:y.crossOrigin??r.crossOrigin})))}function nz(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var az=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{az&&(window.__reactRouterVersion="7.13.0")}catch{}function iz({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=j.useRef();a.current==null&&(a.current=LL({window:n,v5Compat:!0}));let l=a.current,[c,u]=j.useState({action:l.action,location:l.location}),f=j.useCallback(m=>{r===!1?u(m):j.startTransition(()=>u(m))},[r]);return j.useLayoutEffect(()=>l.listen(f),[l,f]),j.createElement(P6,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:r})}var J_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_l=j.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:l,replace:c,state:u,target:f,to:m,preventScrollReset:h,viewTransition:v,unstable_defaultShouldRevalidate:x,...b},S){let{basename:w,unstable_useTransitions:y}=j.useContext(Bn),C=typeof m=="string"&&J_.test(m),M=$_(m,w);m=M.to;let A=x6(m,{relative:a}),[_,E,T]=J6(n,b),P=oz(m,{replace:c,state:u,target:f,preventScrollReset:h,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:x,unstable_useTransitions:y});function O(R){t&&t(R),R.defaultPrevented||P(R)}let z=j.createElement("a",{...b,...T,href:M.absoluteURL||A,onClick:M.isExternal||l?t:O,ref:nz(S,E),target:f,"data-discover":!C&&r==="render"?"true":void 0});return _&&!C?j.createElement(j.Fragment,null,z,j.createElement(ez,{page:A})):z});_l.displayName="Link";var eO=j.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:l,to:c,viewTransition:u,children:f,...m},h){let v=Sd(c,{relative:m.relative}),x=Ca(),b=j.useContext(Ah),{navigator:S,basename:w}=j.useContext(Bn),y=b!=null&&mz(v)&&u===!0,C=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,M=x.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(M=M.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&w&&(A=Bi(A,w)||A);const _=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let E=M===C||!a&&M.startsWith(C)&&M.charAt(_)==="/",T=A!=null&&(A===C||!a&&A.startsWith(C)&&A.charAt(C.length)==="/"),P={isActive:E,isPending:T,isTransitioning:y},O=E?t:void 0,z;typeof n=="function"?z=n(P):z=[n,E?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let R=typeof l=="function"?l(P):l;return j.createElement(_l,{...m,"aria-current":O,className:z,ref:h,style:R,to:c,viewTransition:u},typeof f=="function"?f(P):f)});eO.displayName="NavLink";var sz=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:l,method:c=Qm,action:u,onSubmit:f,relative:m,preventScrollReset:h,viewTransition:v,unstable_defaultShouldRevalidate:x,...b},S)=>{let{unstable_useTransitions:w}=j.useContext(Bn),y=dz(),C=fz(u,{relative:m}),M=c.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&J_.test(u),_=E=>{if(f&&f(E),E.defaultPrevented)return;E.preventDefault();let T=E.nativeEvent.submitter,P=T?.getAttribute("formmethod")||c,O=()=>y(T||E.currentTarget,{fetcherKey:t,method:P,navigate:r,replace:a,state:l,relative:m,preventScrollReset:h,viewTransition:v,unstable_defaultShouldRevalidate:x});w&&r!==!1?j.startTransition(()=>O()):O()};return j.createElement("form",{ref:S,method:M,action:C,onSubmit:n?f:_,...b,"data-discover":!A&&e==="render"?"true":void 0})});sz.displayName="Form";function lz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tO(e){let t=j.useContext(Nc);return Jt(t,lz(e)),t}function oz(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let m=eo(),h=Ca(),v=Sd(e,{relative:l});return j.useCallback(x=>{if(B6(x,t)){x.preventDefault();let b=r!==void 0?r:rd(h)===rd(v),S=()=>m(e,{replace:b,state:n,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:u});f?j.startTransition(()=>S()):S()}},[h,m,v,r,n,t,e,a,l,c,u,f])}var cz=0,uz=()=>`__${String(++cz)}__`;function dz(){let{router:e}=tO("useSubmit"),{basename:t}=j.useContext(Bn),r=E6(),n=e.fetch,a=e.navigate;return j.useCallback(async(l,c={})=>{let{action:u,method:f,encType:m,formData:h,body:v}=H6(l,t);if(c.navigate===!1){let x=c.fetcherKey||uz();await n(x,r,c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:h,body:v,formMethod:c.method||f,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:h,body:v,formMethod:c.method||f,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,a,t,r])}function fz(e,{relative:t}={}){let{basename:r}=j.useContext(Bn),n=j.useContext(Sa);Jt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),l={...Sd(e||".",{relative:t})},c=Ca();if(e==null){l.search=c.search;let u=new URLSearchParams(l.search),f=u.getAll("index");if(f.some(h=>h==="")){u.delete("index"),f.filter(v=>v).forEach(v=>u.append("index",v));let h=u.toString();l.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Ri([r,l.pathname])),rd(l)}function mz(e,{relative:t}={}){let r=j.useContext(H_);Jt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=tO("useViewTransitionState"),a=Sd(e,{relative:t});if(!r.isTransitioning)return!1;let l=Bi(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=Bi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return fp(a.pathname,c)!=null||fp(a.pathname,l)!=null}var Cd=R_();const pz=ni(Cd),hz="AKfycbxE3XLsPtfg8goiLv8szt3-_Jokx-fzU5Nmevxzp48b-ZAW6J5Kp3GAGtbBue84JBkt",d1="cf_access_token",f1="cf_token_expiry",m1="cf_user_name";function pp(){const e=localStorage.getItem(f1);return e&&Date.now()>Number(e)?(Zm(),null):localStorage.getItem(d1)}function gC(e,t=3500){localStorage.setItem(d1,e),localStorage.setItem(f1,String(Date.now()+t*1e3))}function Zm(){localStorage.removeItem(d1),localStorage.removeItem(f1),localStorage.removeItem(m1)}function bC(){return!!pp()}function yC(e){localStorage.setItem(m1,e)}function vz(){return localStorage.getItem(m1)||""}let Qb=null;function xz(e){Qb=e}async function De(e,t={},r=!0){const n=pp();if(!n)throw new Error("Not authenticated. Please sign in.");const u=await(await fetch(`https://script.googleapis.com/v1/scripts/${hz}:run`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({function:"apiRouter",devMode:!1,parameters:[{action:e,params:t,userName:vz()}]})})).json();if(u.error){if(r&&(u.error.code===401||u.error.code===403||u.error.status==="UNAUTHENTICATED"||u.error.status==="PERMISSION_DENIED")&&Qb)try{return await Qb(),De(e,t,!1)}catch{}if(u.error.details&&u.error.details.length>0){const f=u.error.details[0];throw new Error(f.errorMessage||"Script execution error")}throw new Error(u.error.message||"API error")}if(u.response&&u.response.result!==void 0){const f=u.response.result;if(f&&!f.success){const h=new Error(f.error||"Unknown error");throw h.code=f.code,h}const m=f?f.data:null;if(m&&m.success===!1)throw new Error(m.message||"Operation failed");return m}throw new Error("Unexpected response format")}const wC=()=>De("auth:me"),gz=(e,t)=>De("auth:invite",{email:e,name:t}),hp=()=>De("data:load-all"),rO=()=>De("members:list"),nO=e=>De("member:create",e),aO=e=>De("member:update",e),iO=e=>De("member:delete",{memberId:e}),sO=()=>De("banks:list"),lO=e=>De("bank:create",e),bz=e=>De("bank:update",e),oO=e=>De("bank:delete",{accountId:e}),cO=()=>De("invaccounts:list"),uO=e=>De("invacct:create",e),yz=e=>De("invacct:update",e),dO=e=>De("invacct:delete",{accountId:e}),wz=()=>De("portfolios:list"),jz=e=>De("portfolio:create",e),Nz=e=>De("portfolio:update",e),Sz=e=>De("portfolio:delete",{portfolioId:e}),Cz=e=>De("mf:invest",e),Az=e=>De("mf:redeem",e),Mz=e=>De("mf:switch",e),kz=(e,t)=>De("mf:allocations-update",{portfolioId:e,allocations:t}),Dz=()=>De("funds:all"),Ez=e=>De("asset-allocation:save",e),fO=()=>De("goals:list"),mO=e=>De("goal:create",e),_z=(e,t)=>De("goal:update",{goalId:e,...t}),pO=e=>De("goal:delete",{goalId:e}),Oz=()=>De("goal:mappings-list"),Tz=(e,t)=>De("goal:mappings-update",{goalId:e,mappings:t}),hO=()=>De("insurance:list"),vO=e=>De("insurance:create",e),Pz=e=>De("insurance:update",e),xO=e=>De("insurance:delete",{policyId:e}),gO=()=>De("liabilities:list"),bO=e=>De("liability:create",e),Iz=e=>De("liability:update",e),yO=e=>De("liability:delete",{liabilityId:e}),wO=()=>De("otherinv:list"),jO=e=>De("otherinv:create",e),Rz=e=>De("otherinv:update",e),NO=e=>De("otherinv:delete",{investmentId:e}),SO=()=>De("stock-portfolios:list"),CO=e=>De("stock-portfolio:create",e),Lz=e=>De("stock-portfolio:update",e),AO=e=>De("stock-portfolio:delete",{portfolioId:e}),zz=e=>De("stock:buy",e),Fz=e=>De("stock:sell",e),Bz=e=>De("mf-transaction:delete",{transactionId:e}),$z=e=>De("mf-transaction:edit",e),qz=()=>De("mf-holdings:list"),Hz=()=>De("mf-transactions:list"),Uz=()=>De("stock-holdings:list-all"),Yz=()=>De("stock-transactions:list-all"),MO=()=>De("reminders:list"),kO=e=>De("reminder:create",e),Vz=e=>De("reminder:update",e),DO=e=>De("reminder:delete",{reminderId:e}),Gz=e=>De("healthcheck:save",e),EO=()=>De("healthcheck:get"),Wz=()=>De("settings:list"),Kz=e=>De("settings:update",e),Qz=()=>De("market:data"),Xz=()=>De("data:refresh-master");typeof window<"u"&&(window._cf={callAPI:De,checkTriggers:()=>De("test:triggers"),diagnose:()=>De("test:diagnose")});const Zz="capital-friends",Jz=1,yn="cache";let _u=null;function Cc(){return _u||(_u=new Promise((e,t)=>{const r=indexedDB.open(Zz,Jz);r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains(yn)||a.createObjectStore(yn,{keyPath:"key"})},r.onsuccess=()=>e(r.result),r.onerror=()=>{console.warn("[idb] Failed to open database:",r.error),_u=null,t(r.error)}}),_u)}async function _O(e){try{const t=await Cc();return new Promise(r=>{const a=t.transaction(yn,"readonly").objectStore(yn).get(e);a.onsuccess=()=>r(a.result?a.result.data:null),a.onerror=()=>r(null)})}catch{return null}}async function eF(e){try{const t=await Cc();return new Promise(r=>{const a=t.transaction(yn,"readonly").objectStore(yn).get(e);a.onsuccess=()=>r(a.result||null),a.onerror=()=>r(null)})}catch{return null}}async function pn(e,t){try{const r=await Cc();return new Promise(n=>{const a=r.transaction(yn,"readwrite");a.objectStore(yn).put({key:e,data:t,updatedAt:Date.now()}),a.oncomplete=()=>n(),a.onerror=()=>n()})}catch{}}async function tF(){try{const e=await Cc();return new Promise(t=>{const n=e.transaction(yn,"readonly").objectStore(yn).getAll();n.onsuccess=()=>{const a={};for(const l of n.result||[])a[l.key]=l.data;t(a)},n.onerror=()=>t({})})}catch{return{}}}async function Y0(e){try{const t=await Cc();return new Promise(r=>{const n=t.transaction(yn,"readwrite"),a=n.objectStore(yn),l=Date.now();for(const[c,u]of Object.entries(e))a.put({key:c,data:u,updatedAt:l});n.oncomplete=()=>r(),n.onerror=()=>r()})}catch{}}async function rF(){try{const e=await Cc();return new Promise(t=>{const r=e.transaction(yn,"readwrite");r.objectStore(yn).clear(),r.oncomplete=()=>t(),r.onerror=()=>t()})}catch{}}const OO=j.createContext(null),nF="868467315292-7hfrvkh8pq8f1e2l3v38m6qrupboa295.apps.googleusercontent.com",aF=["https://www.googleapis.com/auth/spreadsheets","https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/gmail.send","https://www.googleapis.com/auth/script.scriptapp","openid","email","profile"].join(" "),p1="cf_user_profile";function jC(){try{const e=localStorage.getItem(p1);return e?JSON.parse(e):null}catch{return null}}function iF(e){try{localStorage.setItem(p1,JSON.stringify(e))}catch{}}function NC(){localStorage.removeItem(p1)}function sF({children:e}){const t=bC()?jC():null,[r,n]=j.useState(t),[a,l]=j.useState(!t),[c,u]=j.useState(null),f=j.useRef(null);function m(C){n(C),C?iF(C):NC()}j.useEffect(()=>{const C=()=>{if(!window.google?.accounts?.oauth2){setTimeout(C,200);return}f.current=window.google.accounts.oauth2.initTokenClient({client_id:nF,scope:aF,callback:h}),xz(b),bC()?x():l(!1)};C()},[]);async function h(C){if(C.error){u(C.error_description||C.error),l(!1);return}try{l(!0),u(null),gC(C.access_token,C.expires_in);const M=await v(C.access_token);yC(M.name||"");const A=await wC();m({email:A.email||M.email,name:A.name||M.name,role:A.role,picture:M.picture||""})}catch(M){u(M.message),Zm(),m(null)}finally{l(!1)}}async function v(C){const M=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${C}`}});if(!M.ok)throw new Error("Failed to fetch user profile");return M.json()}async function x(){const C=!!jC();try{const M=pp(),A=await v(M);yC(A.name||"");const _=await wC();m({email:_.email||A.email,name:_.name||A.name,role:_.role,picture:A.picture||""})}catch{Zm(),m(null)}finally{C||l(!1)}}function b(){return new Promise((C,M)=>{if(!f.current){M(new Error("Token client not initialized"));return}const A=f.current,_=A.callback;A.callback=E=>{A.callback=_,E.error?M(new Error(E.error)):(gC(E.access_token,E.expires_in),C())},A.requestAccessToken({prompt:""})})}const S=j.useCallback(()=>{f.current&&(u(null),f.current.requestAccessToken())},[]),w=j.useCallback(()=>{const C=pp();C&&window.google?.accounts?.oauth2&&window.google.accounts.oauth2.revoke(C),Zm(),NC(),rF(),sessionStorage.removeItem("cf_health_check"),n(null)},[]),y={user:r,loading:a,error:c,isAuthenticated:!!r,isOwner:r?.role==="owner",signIn:S,signOut:w};return s.jsx(OO.Provider,{value:y,children:e})}function to(){const e=j.useContext(OO);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const TO=j.createContext();function lF({children:e}){const[t,r]=j.useState(()=>{const a=localStorage.getItem("cf-theme");return a||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")});j.useEffect(()=>{localStorage.setItem("cf-theme",t),document.documentElement.setAttribute("data-theme",t)},[t]);const n=()=>r(a=>a==="dark"?"light":"dark");return s.jsx(TO.Provider,{value:{theme:t,toggle:n},children:e})}function PO(){return j.useContext(TO)}const IO=j.createContext(),RO="cf_hc_done";function oF(){try{return sessionStorage.getItem(RO)==="1"?!0:null}catch{return null}}function Bo(e){try{sessionStorage.setItem(RO,e?"1":"0")}catch{}}function cF({children:e}){const{isAuthenticated:t}=to(),r=t?oF():null,[n,a]=j.useState(!0),[l,c]=j.useState(!1),[u,f]=j.useState(null),[m,h]=j.useState(null),[v,x]=j.useState(null),[b,S]=j.useState(null),[w,y]=j.useState(null),[C,M]=j.useState(null),[A,_]=j.useState(null),[E,T]=j.useState(null),[P,O]=j.useState(null),[z,R]=j.useState(null),[F,D]=j.useState(null),[X,W]=j.useState(null),[Z,$]=j.useState(null),[G,L]=j.useState(null),[te,xe]=j.useState(null),[B,ae]=j.useState(null),[ge,fe]=j.useState(null),[Oe,ye]=j.useState(null),[he,Se]=j.useState(r!==null?r:null),K=j.useRef(!1),Ee=j.useCallback(H=>{H&&("members"in H&&h(H.members||[]),"bankAccounts"in H&&x(H.bankAccounts||[]),"investments"in H&&S(H.investments||[]),"insurancePolicies"in H&&y(H.insurancePolicies||[]),"liabilities"in H&&M(H.liabilities||[]),"otherInvestments"in H&&_(H.otherInvestments||[]),"stockPortfolios"in H&&T(H.stockPortfolios||[]),"stockHoldings"in H&&O(H.stockHoldings||[]),"stockTransactions"in H&&R(H.stockTransactions||[]),"mfPortfolios"in H&&D(H.mfPortfolios||[]),"mfHoldings"in H&&W((H.mfHoldings||[]).map(we=>we.schemeCode?we:{...we,schemeCode:we.fundCode})),"mfTransactions"in H&&$(H.mfTransactions||[]),"goals"in H&&L(H.goals||[]),"reminders"in H&&xe(H.reminders||[]),"goalPortfolioMappings"in H&&ae(H.goalPortfolioMappings||[]),"assetAllocations"in H&&fe(H.assetAllocations||[]),"settings"in H&&ye(H.settings||{}))},[]),$e=j.useCallback(H=>{Y0({members:H.members||[],bankAccounts:H.bankAccounts||[],investments:H.investments||[],insurancePolicies:H.insurancePolicies||[],liabilities:H.liabilities||[],otherInvestments:H.otherInvestments||[],stockPortfolios:H.stockPortfolios||[],stockHoldings:H.stockHoldings||[],stockTransactions:H.stockTransactions||[],mfPortfolios:H.mfPortfolios||[],mfHoldings:H.mfHoldings||[],mfTransactions:H.mfTransactions||[],goals:H.goals||[],reminders:H.reminders||[],goalPortfolioMappings:H.goalPortfolioMappings||[],assetAllocations:H.assetAllocations||[]})},[]),ve=j.useCallback(async(H=!1)=>{try{H?c(!0):a(!0),f(null);const we=await hp();Ee(we),$e(we)}catch(we){f(we.message)}finally{a(!1),c(!1)}},[Ee,$e]),tt=j.useCallback(async()=>{const H=await rO();h(H||[]),pn("members",H||[])},[]),Ye=j.useCallback(async()=>{const H=await sO();x(H||[]),pn("bankAccounts",H||[])},[]),yt=j.useCallback(async()=>{const H=await cO();S(H||[]),pn("investments",H||[])},[]),xt=j.useCallback(async()=>{const H=await hO();y(H||[]),pn("insurancePolicies",H||[])},[]),nt=j.useCallback(async()=>{const H=await gO();M(H||[]),pn("liabilities",H||[])},[]),Ie=j.useCallback(async()=>{const H=await wO();_(H||[]),pn("otherInvestments",H||[])},[]),qe=j.useCallback(async()=>{const[H,we]=await Promise.all([fO(),Oz()]);L(H||[]),ae(we||[]),pn("goals",H||[]),pn("goalPortfolioMappings",we||[])},[]),Bt=j.useCallback(async()=>{const H=await MO();xe(H||[]),pn("reminders",H||[])},[]),ot=j.useCallback(async()=>{const[H,we,gt]=await Promise.all([wz(),qz(),Hz()]),an=(we||[]).map(_a=>_a.schemeCode?_a:{..._a,schemeCode:_a.fundCode});D(H||[]),W(an),$(gt||[]),Y0({mfPortfolios:H||[],mfHoldings:an,mfTransactions:gt||[]})},[]),St=j.useCallback(async()=>{const[H,we,gt]=await Promise.all([SO(),Uz(),Yz()]);T(H||[]),O(we||[]),R(gt||[]),Y0({stockPortfolios:H||[],stockHoldings:we||[],stockTransactions:gt||[]})},[]),tr=j.useCallback(async()=>{const H=await Wz();ye(H||{}),pn("settings",H||{})},[]),rr=j.useCallback(async H=>{await Kz(H),await tr()},[tr]),as=j.useCallback(async()=>{try{const H=await _O("healthCheckAnswers");if(H&&Object.keys(H).length>0){Se(!0),Bo(!0);return}const we=await EO();we&&Object.keys(we).length>0?(Se(!0),Bo(!0),pn("healthCheckAnswers",we)):(Se(!1),Bo(!1))}catch{Se(!1),Bo(!1)}},[]),la=j.useCallback(async H=>{const we=await Gz(H);return we?.success&&(Se(!0),Bo(!0),pn("healthCheckAnswers",H)),we},[]);j.useEffect(()=>{if(!t){a(!1);return}if(K.current)return;K.current=!0;async function H(){const we=await tF(),gt=Object.keys(we).length>0;gt&&(Ee(we),we.healthCheckAnswers&&Object.keys(we.healthCheckAnswers).length>0&&(Se(!0),Bo(!0)),a(!1));try{gt&&c(!0);const an=await hp();Ee(an),$e(an)}catch(an){gt||f(an.message)}finally{a(!1),c(!1)}}H(),tr().catch(()=>{}),r===null&&as().catch(()=>{})},[t,Ee,$e,tr,as]),j.useEffect(()=>{t||(K.current=!1)},[t]);const ue=j.useCallback(async H=>{const we=await nO(H);if(H.email)try{await gz(H.email,H.memberName)}catch(gt){console.warn("Auto-invite failed (non-blocking):",gt.message)}return await tt(),we},[tt]),be=j.useCallback(async(H,we)=>{await aO({memberId:H,...we}),await tt()},[tt]),ze=j.useCallback(async H=>{await iO(H),await tt()},[tt]),Y=j.useCallback(async H=>{const we=await lO(H);return await Ye(),we},[Ye]),ie=j.useCallback(async(H,we)=>{await bz({accountId:H,...we}),await Ye()},[Ye]),Ae=j.useCallback(async H=>{await oO(H),await Ye()},[Ye]),We=j.useCallback(async H=>{const we=await uO(H);return await yt(),we},[yt]),ke=j.useCallback(async(H,we)=>{await yz({accountId:H,...we}),await yt()},[yt]),oe=j.useCallback(async H=>{await dO(H),await yt()},[yt]),Ge=j.useCallback(async H=>{const we=await vO(H);return await xt(),we},[xt]),Fe=j.useCallback(async(H,we)=>{await Pz({policyId:H,...we}),await xt()},[xt]),Ht=j.useCallback(async H=>{await xO(H),await xt()},[xt]),Wt=j.useCallback(async H=>{const we=await bO(H);return await nt(),we},[nt]),$t=j.useCallback(async(H,we)=>{await Iz({liabilityId:H,...we}),await nt()},[nt]),He=j.useCallback(async H=>{await yO(H),await nt()},[nt]),Ze=j.useCallback(async H=>{const we=await jO(H);return await Ie(),H.quickLoan&&await nt(),we},[Ie,nt]),je=j.useCallback(async(H,we)=>{await Rz({investmentId:H,...we}),await Ie(),await nt()},[Ie,nt]),Je=j.useCallback(async H=>{await NO(H),await Ie()},[Ie]),Ue=j.useCallback(async H=>{const we=await mO(H);return await qe(),we},[qe]),Lt=j.useCallback(async(H,we)=>{await _z(H,we),await qe()},[qe]),Yr=j.useCallback(async H=>{await pO(H),await qe()},[qe]),Dr=j.useCallback(async H=>{const we=await kO(H);return await Bt(),we},[Bt]),Ne=j.useCallback(async(H,we)=>{await Vz({reminderId:H,...we}),await Bt()},[Bt]),Rr=j.useCallback(async H=>{await DO(H),await Bt()},[Bt]),ci=j.useCallback(async(H,we)=>{await Tz(H,we),await qe()},[qe]),ka=j.useCallback(async H=>{const we=await CO(H);return await St(),we},[St]),ui=j.useCallback(async(H,we)=>{await Lz({portfolioId:H,...we}),await St()},[St]),Da=j.useCallback(async H=>{await AO(H),await St()},[St]),is=j.useCallback(async H=>{const we=await zz(H);return await St(),we},[St]),ss=j.useCallback(async H=>{const we=await Fz(H);return await St(),we},[St]),al=j.useCallback(async H=>{const we=await jz(H);return await ot(),we},[ot]),Ea=j.useCallback(async(H,we)=>{await Nz({portfolioId:H,...we}),await ot()},[ot]),Nr=j.useCallback(async H=>{await Sz(H),await ot()},[ot]),Vr=j.useCallback(async(H,we)=>{const gt=await Cz({...H,transactionType:we});return await ot(),gt},[ot]),ls=j.useCallback(async H=>{const we=await Az(H);return await ot(),we},[ot]),zc=j.useCallback(async H=>{const we=await Mz(H);return await ot(),we},[ot]),Mv=j.useCallback(async(H,we)=>{await kz(H,we),await ot()},[ot]),kv=j.useCallback(async H=>{await Bz(H),await ot()},[ot]),Qd=j.useCallback(async H=>{await $z(H),await ot()},[ot]),il=j.useCallback(async H=>{const we=await Ez(H);return fe(gt=>{const an=gt||[],_a=an.findIndex(jn=>jn.fundCode===H.fundCode),Xr={};H.equity&&(Xr.Equity=H.equity),H.debt&&(Xr.Debt=H.debt),H.cash&&(Xr.Cash=H.cash),H.realEstate&&(Xr["Real Estate"]=H.realEstate),H.commodities&&(Xr.Commodities=H.commodities),H.customAsset&&Object.entries(H.customAsset).forEach(([jn,Oa])=>{Oa>0&&(Xr[jn]=Oa)});const sn={};H.giantCap&&(sn.Giant=H.giantCap),H.largeCap&&(sn.Large=H.largeCap),H.midCap&&(sn.Mid=H.midCap),H.smallCap&&(sn.Small=H.smallCap),H.microCap&&(sn.Micro=H.microCap),H.customCap&&Object.entries(H.customCap).forEach(([jn,Oa])=>{Oa>0&&(sn[jn]=Oa)});const io={};H.geoIndia&&(io.India=H.geoIndia),H.geoGlobal&&(io.Global=H.geoGlobal),H.customGeo&&Object.entries(H.customGeo).forEach(([jn,Oa])=>{Oa>0&&(io[jn]=Oa)});const Bc={fundCode:H.fundCode,fundName:H.fundName,assetAllocation:Xr,equityAllocation:sn,geoAllocation:io};if(_a>=0){const jn=[...an];return jn[_a]=Bc,jn}return[...an,Bc]}),we},[]),Fc=(m||[]).filter(H=>H.status==="Active"),os=(v||[]).filter(H=>H.status==="Active"),cs=(b||[]).filter(H=>H.status==="Active");return s.jsx(IO.Provider,{value:{loading:n,isRefreshing:l,error:u,refreshData:ve,members:m,banks:v,investmentAccounts:b,insurancePolicies:w,liabilityList:C,otherInvList:A,activeMembers:Fc,activeBanks:os,activeInvestmentAccounts:cs,addMember:ue,updateMember:be,deleteMember:ze,addBankAccount:Y,updateBankAccount:ie,deleteBankAccount:Ae,addInvestmentAccount:We,updateInvestmentAccount:ke,deleteInvestmentAccount:oe,addInsurance:Ge,updateInsurance:Fe,deleteInsurance:Ht,addLiability:Wt,updateLiability:$t,deleteLiability:He,addOtherInvestment:Ze,updateOtherInvestment:je,deleteOtherInvestment:Je,goalList:G,addGoal:Ue,updateGoal:Lt,deleteGoal:Yr,reminderList:te,addReminder:Dr,updateReminder:Ne,deleteReminder:Rr,goalPortfolioMappings:B,updateGoalMappings:ci,assetAllocations:ge,updateAssetAllocation:il,stockPortfolios:E,stockHoldings:P,stockTransactions:z,addStockPortfolio:ka,updateStockPortfolio:ui,deleteStockPortfolio:Da,buyStock:is,sellStock:ss,mfPortfolios:F,mfHoldings:X,mfTransactions:Z,addMFPortfolio:al,updateMFPortfolio:Ea,deleteMFPortfolio:Nr,investMF:Vr,redeemMF:ls,switchMF:zc,updateHoldingAllocations:Mv,deleteMFTransaction:kv,editMFTransaction:Qd,settings:Oe,updateSettings:rr,refreshSettings:tr,healthCheckCompleted:he,completeHealthCheck:la},children:e})}function ht(){return j.useContext(IO)}const LO=j.createContext();function uF({children:e}){const{activeMembers:t}=ht(),[r,n]=j.useState("all"),a=t.find(l=>l.memberId===r)||null;return s.jsx(LO.Provider,{value:{selectedMember:r,setSelectedMember:n,member:a,familyMembers:t},children:e})}function Hr(){return j.useContext(LO)}const zO=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();const dF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const fF=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());const SC=e=>{const t=fF(e);return t.charAt(0).toUpperCase()+t.slice(1)};var mF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pF=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const hF=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:l,iconNode:c,...u},f)=>j.createElement("svg",{ref:f,...mF,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:zO("lucide",a),...!l&&!pF(u)&&{"aria-hidden":"true"},...u},[...c.map(([m,h])=>j.createElement(m,h)),...Array.isArray(l)?l:[l]]));const _e=(e,t)=>{const r=j.forwardRef(({className:n,...a},l)=>j.createElement(hF,{ref:l,iconNode:t,className:zO(`lucide-${dF(SC(e))}`,`lucide-${e}`,n),...a}));return r.displayName=SC(e),r};const vF=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],xF=_e("arrow-down",vF);const gF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],bF=_e("arrow-right",gF);const yF=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],wF=_e("arrow-up-down",yF);const jF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],NF=_e("bell-off",jF);const SF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],kh=_e("bell",SF);const CF=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],FO=_e("briefcase",CF);const AF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],MF=_e("calendar",AF);const kF=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ju=_e("chart-column",kF);const DF=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],CC=_e("chart-pie",DF);const EF=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],AC=_e("check",EF);const _F=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Oi=_e("chevron-down",_F);const OF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],TF=_e("chevron-left",OF);const PF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],nd=_e("chevron-right",PF);const IF=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],RF=_e("chevron-up",IF);const LF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],BO=_e("circle-arrow-down",LF);const zF=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],FF=_e("circle-check-big",zF);const BF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ac=_e("circle-check",BF);const $F=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$O=_e("circle-x",$F);const qF=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],qO=_e("clipboard-check",qF);const HF=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],UF=_e("coffee",HF);const YF=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],VF=_e("construction",YF);const GF=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Dh=_e("credit-card",GF);const WF=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],KF=_e("database",WF);const QF=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],XF=_e("dollar-sign",QF);const ZF=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],JF=_e("ellipsis-vertical",ZF);const e8=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],t8=_e("ellipsis",e8);const r8=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vp=_e("eye",r8);const n8=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ed=_e("eye-off",n8);const a8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],i8=_e("file-spreadsheet",a8);const s8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],HO=_e("file-text",s8);const l8=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],UO=_e("funnel",l8);const o8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],c8=_e("globe",o8);const u8=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],xp=_e("heart",u8);const d8=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],f8=_e("indian-rupee",d8);const m8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],p8=_e("info",m8);const h8=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],v8=_e("landmark",h8);const x8=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],YO=_e("layers",x8);const g8=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],VO=_e("link-2",g8);const b8=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],gp=_e("list",b8);const y8=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],GO=_e("loader-circle",y8);const w8=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],V0=_e("lock",w8);const j8=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],N8=_e("log-in",j8);const S8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],WO=_e("log-out",S8);const C8=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],A8=_e("mail",C8);const M8=[["path",{d:"M5 12h14",key:"1ays0h"}]],G0=_e("minus",M8);const k8=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Xb=_e("moon",k8);const D8=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],KO=_e("package",D8);const E8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Aa=_e("pencil",E8);const _8=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],O8=_e("piggy-bank",_8);const T8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Or=_e("plus",T8);const P8=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ec=_e("refresh-cw",P8);const I8=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],R8=_e("repeat-2",I8);const L8=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],z8=_e("repeat",L8);const F8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],QO=_e("save",F8);const B8=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],XO=_e("search",B8);const $8=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],ZO=_e("settings-2",$8);const q8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],JO=_e("settings",q8);const H8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],U8=_e("shield-alert",H8);const Y8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],td=_e("shield",Y8);const V8=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],bp=_e("sun",V8);const G8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Eh=_e("target",G8);const W8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_h=_e("trash-2",W8);const K8=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],yp=_e("trending-down",K8);const Q8=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ic=_e("trending-up",Q8);const X8=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hs=_e("triangle-alert",X8);const Z8=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],MC=_e("trophy",Z8);const J8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],eB=_e("user",J8);const tB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sc=_e("users",tB);const rB=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Jm=_e("wallet",rB);const nB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Yl=_e("x",nB);const aB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zb=_e("zap",aB),e5=j.createContext();function iB({children:e}){const[t,r]=j.useState([]),[n,a]=j.useState(null),l=j.useRef(0),c=j.useCallback((h,v="success",x=3e3)=>{const b=++l.current;r(S=>[...S,{id:b,message:h,type:v}]),setTimeout(()=>r(S=>S.filter(w=>w.id!==b)),x)},[]),u=j.useCallback(h=>{r(v=>v.filter(x=>x.id!==h))},[]),f=j.useCallback((h="Saving...")=>{a(h)},[]),m=j.useCallback(()=>{a(null)},[]);return s.jsxs(e5.Provider,{value:{showToast:c,showBlockUI:f,hideBlockUI:m},children:[e,n&&s.jsx("div",{className:"fixed inset-0 z-[200] bg-black/50 backdrop-blur-sm flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-3 bg-[var(--bg-card)] rounded-xl px-8 py-6 border border-[var(--border)] shadow-2xl",children:[s.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),s.jsx("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:n})]})}),t.length>0&&s.jsx("div",{className:"fixed bottom-20 sm:bottom-6 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-2 items-center pointer-events-none",children:t.map(h=>s.jsxs("div",{className:`pointer-events-auto flex items-center gap-2 px-4 py-2.5 rounded-lg shadow-xl border text-sm font-medium animate-fade-in ${h.type==="error"?"bg-rose-500/15 border-rose-500/30 text-[var(--accent-rose)]":h.type==="warning"?"bg-amber-500/15 border-amber-500/30 text-amber-400":"bg-emerald-500/15 border-emerald-500/30 text-emerald-400"}`,style:{backdropFilter:"blur(12px)"},children:[h.type==="error"?s.jsx($O,{size:16}):h.type==="warning"?s.jsx(Hs,{size:16}):s.jsx(Ac,{size:16}),s.jsx("span",{children:h.message}),s.jsx("button",{onClick:()=>u(h.id),className:"ml-1 opacity-60 hover:opacity-100 transition-opacity",children:s.jsx(Yl,{size:14})})]},h.id))})]})}function ai(){return j.useContext(e5)}const t5=j.createContext();function sB({children:e}){const[t,r]=j.useState(null),n=j.useRef(null),a=j.useCallback((u,{title:f="Confirm",confirmLabel:m="Yes, proceed",cancelLabel:h="Cancel",destructive:v=!0}={})=>new Promise(x=>{n.current=x,r({message:u,title:f,confirmLabel:m,cancelLabel:h,destructive:v})}),[]);function l(){n.current?.(!0),n.current=null,r(null)}function c(){n.current?.(!1),n.current=null,r(null)}return s.jsxs(t5.Provider,{value:{confirm:a},children:[e,t&&s.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center px-4",onClick:c,children:[s.jsx("div",{className:"fixed inset-0 bg-black/60"}),s.jsxs("div",{className:"relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full max-w-sm p-5 animate-fade-in",onClick:u=>u.stopPropagation(),children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx("span",{className:`shrink-0 w-9 h-9 rounded-full flex items-center justify-center ${t.destructive?"bg-rose-500/15":"bg-violet-500/15"}`,children:s.jsx(Hs,{size:18,className:t.destructive?"text-[var(--accent-rose)]":"text-violet-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-[var(--text-primary)]",children:t.title}),s.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1 leading-relaxed",children:t.message})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:c,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:t.cancelLabel}),s.jsx("button",{onClick:l,autoFocus:!0,className:`px-4 py-2 text-xs font-bold text-white rounded-lg transition-colors ${t.destructive?"bg-rose-600 hover:bg-rose-500":"bg-violet-600 hover:bg-violet-500"}`,children:t.confirmLabel})]})]})]})]})}function ii(){return j.useContext(t5).confirm}const r5=j.createContext(),kC="cf-mask-data";function lB(e){return!e||e.length<4?"":""+e.slice(-4)}function oB(e){return!e||e.length<4?"  ":"  "+e.slice(-4)}function cB(e){return!e||e.length<3?"":""+e.slice(-3)}function uB(e){if(!e)return"@";const[t,r]=e.split("@");if(!r)return"@";const n=t.charAt(0)+"",a=r.split("."),l=a[0].charAt(0)+""+(a.length>1?"."+a.slice(1).join("."):"");return n+"@"+l}function dB(e){return!e||e.length<4?"":""+e.slice(-4)}function fB(e){return!e||e.length<3?"":""+e.slice(-3)}function mB(e){return!e||e.length<4?"":""+e.slice(-4)}function pB(e){return!e||e.length<2?"":e.split(/\s+/).map(t=>t.charAt(0)+"").join(" ")}const hB={pan:lB,aadhaar:oB,mobile:cB,email:uB,account:dB,clientId:fB,policy:mB,name:pB};function vB({children:e}){const[t,r]=j.useState(()=>{try{return localStorage.getItem(kC)==="true"}catch{return!1}});j.useEffect(()=>{try{localStorage.setItem(kC,String(t))}catch{}},[t]);const n=j.useCallback(()=>r(l=>!l),[]),a=j.useCallback((l,c)=>{if(!t||l==null||l==="")return l;const u=hB[c];return u?u(String(l)):l},[t]);return s.jsx(r5.Provider,{value:{masked:t,toggleMask:n,mv:a},children:e})}function si(){return j.useContext(r5)}function n5(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=n5(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function lt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=n5(e))&&(n&&(n+=" "),n+=t);return n}var xB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function h1(e){if(typeof e!="string")return!1;var t=xB;return t.includes(e)}var gB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bB=new Set(gB);function a5(e){return typeof e!="string"?!1:bB.has(e)}function i5(e){return typeof e=="string"&&e.startsWith("data-")}function lc(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(a5(r)||i5(r))&&(t[r]=e[r]);return t}function Jb(e){if(e==null)return null;if(j.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return lc(t)}return typeof e=="object"&&!Array.isArray(e)?lc(e):null}function ra(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(a5(r)||i5(r)||h1(r))&&(t[r]=e[r]);return t}var yB=["children","width","height","viewBox","className","style","title","desc"];function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ey.apply(null,arguments)}function wB(e,t){if(e==null)return{};var r,n,a=jB(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var s5=j.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:l,className:c,style:u,title:f,desc:m}=e,h=wB(e,yB),v=l||{width:n,height:a,x:0,y:0},x=lt("recharts-surface",c);return j.createElement("svg",ey({},ra(h),{className:x,width:n,height:a,style:u,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:t}),j.createElement("title",null,f),j.createElement("desc",null,m),r)}),NB=["children","className"];function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ty.apply(null,arguments)}function SB(e,t){if(e==null)return{};var r,n,a=CB(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function CB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Us=j.forwardRef((e,t)=>{var{children:r,className:n}=e,a=SB(e,NB),l=lt("recharts-layer",n);return j.createElement("g",ty({className:l},ra(a),{ref:t}),r)}),AB=j.createContext(null);function qt(e){return function(){return e}}const l5=Math.cos,wp=Math.sin,Ma=Math.sqrt,jp=Math.PI,Oh=2*jp,ry=Math.PI,ny=2*ry,Al=1e-6,MB=ny-Al;function o5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function kB(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return o5;const r=10**t;return function(n){this._+=n[0];for(let a=1,l=n.length;a<l;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class DB{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?o5:kB(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,l,c){this._append`C${+t},${+r},${+n},${+a},${this._x1=+l},${this._y1=+c}`}arcTo(t,r,n,a,l){if(t=+t,r=+r,n=+n,a=+a,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,u=this._y1,f=n-t,m=a-r,h=c-t,v=u-r,x=h*h+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>Al)if(!(Math.abs(v*f-m*h)>Al)||!l)this._append`L${this._x1=t},${this._y1=r}`;else{let b=n-c,S=a-u,w=f*f+m*m,y=b*b+S*S,C=Math.sqrt(w),M=Math.sqrt(x),A=l*Math.tan((ry-Math.acos((w+x-y)/(2*C*M)))/2),_=A/M,E=A/C;Math.abs(_-1)>Al&&this._append`L${t+_*h},${r+_*v}`,this._append`A${l},${l},0,0,${+(v*b>h*S)},${this._x1=t+E*f},${this._y1=r+E*m}`}}arc(t,r,n,a,l,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),f=n*Math.sin(a),m=t+u,h=r+f,v=1^c,x=c?a-l:l-a;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>Al||Math.abs(this._y1-h)>Al)&&this._append`L${m},${h}`,n&&(x<0&&(x=x%ny+ny),x>MB?this._append`A${n},${n},0,1,${v},${t-u},${r-f}A${n},${n},0,1,${v},${this._x1=m},${this._y1=h}`:x>Al&&this._append`A${n},${n},0,${+(x>=ry)},${v},${this._x1=t+n*Math.cos(l)},${this._y1=r+n*Math.sin(l)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function v1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new DB(t)}function x1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function c5(e){this._context=e}c5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Th(e){return new c5(e)}function u5(e){return e[0]}function d5(e){return e[1]}function f5(e,t){var r=qt(!0),n=null,a=Th,l=null,c=v1(u);e=typeof e=="function"?e:e===void 0?u5:qt(e),t=typeof t=="function"?t:t===void 0?d5:qt(t);function u(f){var m,h=(f=x1(f)).length,v,x=!1,b;for(n==null&&(l=a(b=c())),m=0;m<=h;++m)!(m<h&&r(v=f[m],m,f))===x&&((x=!x)?l.lineStart():l.lineEnd()),x&&l.point(+e(v,m,f),+t(v,m,f));if(b)return l=null,b+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),u):t},u.defined=function(f){return arguments.length?(r=typeof f=="function"?f:qt(!!f),u):r},u.curve=function(f){return arguments.length?(a=f,n!=null&&(l=a(n)),u):a},u.context=function(f){return arguments.length?(f==null?n=l=null:l=a(n=f),u):n},u}function dm(e,t,r){var n=null,a=qt(!0),l=null,c=Th,u=null,f=v1(m);e=typeof e=="function"?e:e===void 0?u5:qt(+e),t=typeof t=="function"?t:qt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?d5:qt(+r);function m(v){var x,b,S,w=(v=x1(v)).length,y,C=!1,M,A=new Array(w),_=new Array(w);for(l==null&&(u=c(M=f())),x=0;x<=w;++x){if(!(x<w&&a(y=v[x],x,v))===C)if(C=!C)b=x,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=x-1;S>=b;--S)u.point(A[S],_[S]);u.lineEnd(),u.areaEnd()}C&&(A[x]=+e(y,x,v),_[x]=+t(y,x,v),u.point(n?+n(y,x,v):A[x],r?+r(y,x,v):_[x]))}if(M)return u=null,M+""||null}function h(){return f5().defined(a).curve(c).context(l)}return m.x=function(v){return arguments.length?(e=typeof v=="function"?v:qt(+v),n=null,m):e},m.x0=function(v){return arguments.length?(e=typeof v=="function"?v:qt(+v),m):e},m.x1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:qt(+v),m):n},m.y=function(v){return arguments.length?(t=typeof v=="function"?v:qt(+v),r=null,m):t},m.y0=function(v){return arguments.length?(t=typeof v=="function"?v:qt(+v),m):t},m.y1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:qt(+v),m):r},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(r)},m.lineX1=function(){return h().x(n).y(t)},m.defined=function(v){return arguments.length?(a=typeof v=="function"?v:qt(!!v),m):a},m.curve=function(v){return arguments.length?(c=v,l!=null&&(u=c(l)),m):c},m.context=function(v){return arguments.length?(v==null?l=u=null:u=c(l=v),m):l},m}class m5{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function EB(e){return new m5(e,!0)}function _B(e){return new m5(e,!1)}const g1={draw(e,t){const r=Ma(t/jp);e.moveTo(r,0),e.arc(0,0,r,0,Oh)}},OB={draw(e,t){const r=Ma(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},p5=Ma(1/3),TB=p5*2,PB={draw(e,t){const r=Ma(t/TB),n=r*p5;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},IB={draw(e,t){const r=Ma(t),n=-r/2;e.rect(n,n,r,r)}},RB=.8908130915292852,h5=wp(jp/10)/wp(7*jp/10),LB=wp(Oh/10)*h5,zB=-l5(Oh/10)*h5,FB={draw(e,t){const r=Ma(t*RB),n=LB*r,a=zB*r;e.moveTo(0,-r),e.lineTo(n,a);for(let l=1;l<5;++l){const c=Oh*l/5,u=l5(c),f=wp(c);e.lineTo(f*r,-u*r),e.lineTo(u*n-f*a,f*n+u*a)}e.closePath()}},W0=Ma(3),BB={draw(e,t){const r=-Ma(t/(W0*3));e.moveTo(0,r*2),e.lineTo(-W0*r,-r),e.lineTo(W0*r,-r),e.closePath()}},Xn=-.5,Zn=Ma(3)/2,ay=1/Ma(12),$B=(ay/2+1)*3,qB={draw(e,t){const r=Ma(t/$B),n=r/2,a=r*ay,l=n,c=r*ay+r,u=-l,f=c;e.moveTo(n,a),e.lineTo(l,c),e.lineTo(u,f),e.lineTo(Xn*n-Zn*a,Zn*n+Xn*a),e.lineTo(Xn*l-Zn*c,Zn*l+Xn*c),e.lineTo(Xn*u-Zn*f,Zn*u+Xn*f),e.lineTo(Xn*n+Zn*a,Xn*a-Zn*n),e.lineTo(Xn*l+Zn*c,Xn*c-Zn*l),e.lineTo(Xn*u+Zn*f,Xn*f-Zn*u),e.closePath()}};function HB(e,t){let r=null,n=v1(a);e=typeof e=="function"?e:qt(e||g1),t=typeof t=="function"?t:qt(t===void 0?64:+t);function a(){let l;if(r||(r=l=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),l)return r=null,l+""||null}return a.type=function(l){return arguments.length?(e=typeof l=="function"?l:qt(l),a):e},a.size=function(l){return arguments.length?(t=typeof l=="function"?l:qt(+l),a):t},a.context=function(l){return arguments.length?(r=l??null,a):r},a}function Np(){}function Sp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function v5(e){this._context=e}v5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UB(e){return new v5(e)}function x5(e){this._context=e}x5.prototype={areaStart:Np,areaEnd:Np,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Sp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YB(e){return new x5(e)}function g5(e){this._context=e}g5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Sp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function VB(e){return new g5(e)}function b5(e){this._context=e}b5.prototype={areaStart:Np,areaEnd:Np,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function GB(e){return new b5(e)}function DC(e){return e<0?-1:1}function EC(e,t,r){var n=e._x1-e._x0,a=t-e._x1,l=(e._y1-e._y0)/(n||a<0&&-0),c=(r-e._y1)/(a||n<0&&-0),u=(l*a+c*n)/(n+a);return(DC(l)+DC(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(u))||0}function _C(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function K0(e,t,r){var n=e._x0,a=e._y0,l=e._x1,c=e._y1,u=(l-n)/3;e._context.bezierCurveTo(n+u,a+u*t,l-u,c-u*r,l,c)}function Cp(e){this._context=e}Cp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:K0(this,this._t0,_C(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,K0(this,_C(this,r=EC(this,e,t)),r);break;default:K0(this,this._t0,r=EC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function y5(e){this._context=new w5(e)}(y5.prototype=Object.create(Cp.prototype)).point=function(e,t){Cp.prototype.point.call(this,t,e)};function w5(e){this._context=e}w5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,l){this._context.bezierCurveTo(t,e,n,r,l,a)}};function WB(e){return new Cp(e)}function KB(e){return new y5(e)}function j5(e){this._context=e}j5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=OC(e),a=OC(t),l=0,c=1;c<r;++l,++c)this._context.bezierCurveTo(n[0][l],a[0][l],n[1][l],a[1][l],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function OC(e){var t,r=e.length-1,n,a=new Array(r),l=new Array(r),c=new Array(r);for(a[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,l[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/l[t-1],l[t]-=n,c[t]-=n*c[t-1];for(a[r-1]=c[r-1]/l[r-1],t=r-2;t>=0;--t)a[t]=(c[t]-a[t+1])/l[t];for(l[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)l[t]=2*e[t+1]-a[t+1];return[a,l]}function QB(e){return new j5(e)}function Ph(e,t){this._context=e,this._t=t}Ph.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function XB(e){return new Ph(e,.5)}function ZB(e){return new Ph(e,0)}function JB(e){return new Ph(e,1)}function Vl(e,t){if((c=e.length)>1)for(var r=1,n,a,l=e[t[0]],c,u=l.length;r<c;++r)for(a=l,l=e[t[r]],n=0;n<u;++n)l[n][1]+=l[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function iy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function e$(e,t){return e[t]}function t$(e){const t=[];return t.key=e,t}function r$(){var e=qt([]),t=iy,r=Vl,n=e$;function a(l){var c=Array.from(e.apply(this,arguments),t$),u,f=c.length,m=-1,h;for(const v of l)for(u=0,++m;u<f;++u)(c[u][m]=[0,+n(v,c[u].key,m,l)]).data=v;for(u=0,h=x1(t(c));u<f;++u)c[h[u]].index=u;return r(c,h),c}return a.keys=function(l){return arguments.length?(e=typeof l=="function"?l:qt(Array.from(l)),a):e},a.value=function(l){return arguments.length?(n=typeof l=="function"?l:qt(+l),a):n},a.order=function(l){return arguments.length?(t=l==null?iy:typeof l=="function"?l:qt(Array.from(l)),a):t},a.offset=function(l){return arguments.length?(r=l??Vl,a):r},a}function n$(e,t){if((n=e.length)>0){for(var r,n,a=0,l=e[0].length,c;a<l;++a){for(c=r=0;r<n;++r)c+=e[r][a][1]||0;if(c)for(r=0;r<n;++r)e[r][a][1]/=c}Vl(e,t)}}function a$(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,l=n.length;r<l;++r){for(var c=0,u=0;c<a;++c)u+=e[c][r][1]||0;n[r][1]+=n[r][0]=-u/2}Vl(e,t)}}function i$(e,t){if(!(!((c=e.length)>0)||!((l=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,l,c;n<l;++n){for(var u=0,f=0,m=0;u<c;++u){for(var h=e[t[u]],v=h[n][1]||0,x=h[n-1][1]||0,b=(v-x)/2,S=0;S<u;++S){var w=e[t[S]],y=w[n][1]||0,C=w[n-1][1]||0;b+=y-C}f+=v,m+=b*v}a[n-1][1]+=a[n-1][0]=r,f&&(r-=m/f)}a[n-1][1]+=a[n-1][0]=r,Vl(e,t)}}var Q0={},X0={},TC;function s$(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(X0)),X0}var Z0={},PC;function N5(){return PC||(PC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Z0)),Z0}var J0={},IC;function b1(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(J0)),J0}var eg={},tg={},RC;function l$(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(tg)),tg}var LC;function y1(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l$(),r=b1();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const l=[],c=a.length;if(c===0)return l;let u=0,f="",m="",h=!1;for(a.charCodeAt(0)===46&&(l.push(""),u++);u<c;){const v=a[u];m?v==="\\"&&u+1<c?(u++,f+=a[u]):v===m?m="":f+=v:h?v==='"'||v==="'"?m=v:v==="]"?(h=!1,l.push(f),f=""):f+=v:v==="["?(h=!0,f&&(l.push(f),f="")):v==="."?f&&(l.push(f),f=""):f+=v,u++}return f&&l.push(f),l}e.toPath=n})(eg)),eg}var zC;function w1(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s$(),r=N5(),n=b1(),a=y1();function l(u,f,m){if(u==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?r.isDeepKey(f)?l(u,a.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const h=u[f];return h===void 0?m:h}default:{if(Array.isArray(f))return c(u,f,m);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?m:h}}}function c(u,f,m){if(f.length===0)return m;let h=u;for(let v=0;v<f.length;v++){if(h==null||t.isUnsafeProperty(f[v]))return m;h=h[f[v]]}return h===void 0?m:h}e.get=l})(Q0)),Q0}var rg,FC;function o$(){return FC||(FC=1,rg=w1().get),rg}var c$=o$();const ad=ni(c$);var u$=4;function Ls(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u$,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function lr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,l,c)=>{var u=r[c-1];return typeof u=="string"?a+u+l:u!==void 0?a+Ls(u)+l:a+l},"")}var gn=e=>e===0?0:e>0?1:-1,$i=e=>typeof e=="number"&&e!=+e,Gl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Xe=e=>(typeof e=="number"||e instanceof Number)&&!$i(e),qi=e=>Xe(e)||typeof e=="string",d$=0,id=e=>{var t=++d$;return"".concat(e||"").concat(t)},In=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xe(t)&&typeof t!="string")return n;var l;if(Gl(t)){if(r==null)return n;var c=t.indexOf("%");l=r*parseFloat(t.slice(0,c))/100}else l=+t;return $i(l)&&(l=n),a&&r!=null&&l>r&&(l=r),l},S5=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function ma(e,t,r){return Xe(e)&&Xe(t)?Ls(e+r*(t-e)):t}function f$(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ad(n,t))===r)}var zn=e=>e===null||typeof e>"u",Ad=e=>zn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Ya(e){return e!=null}function Md(){}var m$=["type","size","sizeType"];function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sy.apply(null,arguments)}function BC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $C(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BC(Object(r),!0).forEach(function(n){p$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p$(e,t,r){return(t=h$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h$(e){var t=v$(e,"string");return typeof t=="symbol"?t:t+""}function v$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x$(e,t){if(e==null)return{};var r,n,a=g$(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function g$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var C5={symbolCircle:g1,symbolCross:OB,symbolDiamond:PB,symbolSquare:IB,symbolStar:FB,symbolTriangle:BB,symbolWye:qB},b$=Math.PI/180,y$=e=>{var t="symbol".concat(Ad(e));return C5[t]||g1},w$=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*b$;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},j$=(e,t)=>{C5["symbol".concat(Ad(e))]=t},A5=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=x$(e,m$),l=$C($C({},a),{},{type:t,size:r,sizeType:n}),c="circle";typeof t=="string"&&(c=t);var u=()=>{var x=y$(c),b=HB().type(x).size(w$(r,n,c)),S=b();if(S!==null)return S},{className:f,cx:m,cy:h}=l,v=ra(l);return Xe(m)&&Xe(h)&&Xe(r)?j.createElement("path",sy({},v,{className:lt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:u()})):null};A5.registerSymbol=j$;var M5=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,N$=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{h1(a)&&(n[a]=(l=>r[a](r,l)))}),n},S$=(e,t,r)=>n=>(e(t,r,n),null),C$=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var l=e[a];h1(a)&&typeof l=="function"&&(n||(n={}),n[a]=S$(l,t,r))}),n};function qC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qC(Object(r),!0).forEach(function(n){M$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M$(e,t,r){return(t=k$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k$(e){var t=D$(e,"string");return typeof t=="symbol"?t:t+""}function D$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function li(e,t){var r=A$({},e),n=t,a=Object.keys(t),l=a.reduce((c,u)=>(c[u]===void 0&&n[u]!==void 0&&(c[u]=n[u]),c),r);return l}var ng={},ag={},HC;function E$(){return HC||(HC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let l=0;l<r.length;l++){const c=r[l],u=n(c,l,r);a.has(u)||a.set(u,c)}return Array.from(a.values())}e.uniqBy=t})(ag)),ag}var ig={},UC;function _$(){return UC||(UC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(ig)),ig}var sg={},YC;function k5(){return YC||(YC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(sg)),sg}var lg={},og={},cg={},VC;function O$(){return VC||(VC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(cg)),cg}var GC;function j1(){return GC||(GC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O$();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(og)),og}var ug={},WC;function T$(){return WC||(WC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(ug)),ug}var KC;function P$(){return KC||(KC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j1(),r=T$();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(lg)),lg}var dg={},fg={},QC;function I$(){return QC||(QC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w1();function r(n){return function(a){return t.get(a,n)}}e.property=r})(fg)),fg}var mg={},pg={},hg={},vg={},XC;function D5(){return XC||(XC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(vg)),vg}var xg={},ZC;function E5(){return ZC||(ZC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(xg)),xg}var gg={},JC;function _5(){return JC||(JC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(gg)),gg}var eA;function R$(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D5(),r=E5(),n=_5();function a(h,v,x){return typeof x!="function"?a(h,v,()=>{}):l(h,v,function b(S,w,y,C,M,A){const _=x(S,w,y,C,M,A);return _!==void 0?!!_:l(S,w,b,A)},new Map)}function l(h,v,x,b){if(v===h)return!0;switch(typeof v){case"object":return c(h,v,x,b);case"function":return Object.keys(v).length>0?l(h,{...v},x,b):n.isEqualsSameValueZero(h,v);default:return t.isObject(h)?typeof v=="string"?v==="":!0:n.isEqualsSameValueZero(h,v)}}function c(h,v,x,b){if(v==null)return!0;if(Array.isArray(v))return f(h,v,x,b);if(v instanceof Map)return u(h,v,x,b);if(v instanceof Set)return m(h,v,x,b);const S=Object.keys(v);if(h==null||r.isPrimitive(h))return S.length===0;if(S.length===0)return!0;if(b?.has(v))return b.get(v)===h;b?.set(v,h);try{for(let w=0;w<S.length;w++){const y=S[w];if(!r.isPrimitive(h)&&!(y in h)||v[y]===void 0&&h[y]!==void 0||v[y]===null&&h[y]!==null||!x(h[y],v[y],y,h,v,b))return!1}return!0}finally{b?.delete(v)}}function u(h,v,x,b){if(v.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,w]of v.entries()){const y=h.get(S);if(x(y,w,S,h,v,b)===!1)return!1}return!0}function f(h,v,x,b){if(v.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let w=0;w<v.length;w++){const y=v[w];let C=!1;for(let M=0;M<h.length;M++){if(S.has(M))continue;const A=h[M];let _=!1;if(x(A,y,w,h,v,b)&&(_=!0),_){S.add(M),C=!0;break}}if(!C)return!1}return!0}function m(h,v,x,b){return v.size===0?!0:h instanceof Set?f([...h],[...v],x,b):!1}e.isMatchWith=a,e.isSetMatch=m})(hg)),hg}var tA;function O5(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R$();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(pg)),pg}var bg={},yg={},wg={},rA;function L$(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(wg)),wg}var jg={},nA;function N1(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(jg)),jg}var Ng={},aA;function T5(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",l="[object Arguments]",c="[object Symbol]",u="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",v="[object Function]",x="[object ArrayBuffer]",b="[object Object]",S="[object Error]",w="[object DataView]",y="[object Uint8Array]",C="[object Uint8ClampedArray]",M="[object Uint16Array]",A="[object Uint32Array]",_="[object BigUint64Array]",E="[object Int8Array]",T="[object Int16Array]",P="[object Int32Array]",O="[object BigInt64Array]",z="[object Float32Array]",R="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=x,e.arrayTag=h,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=_,e.booleanTag=a,e.dataViewTag=w,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=z,e.float64ArrayTag=R,e.functionTag=v,e.int16ArrayTag=T,e.int32ArrayTag=P,e.int8ArrayTag=E,e.mapTag=f,e.numberTag=n,e.objectTag=b,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=M,e.uint32ArrayTag=A,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=C})(Ng)),Ng}var Sg={},iA;function z$(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Sg)),Sg}var sA;function P5(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L$(),r=N1(),n=T5(),a=E5(),l=z$();function c(h,v){return u(h,void 0,h,new Map,v)}function u(h,v,x,b=new Map,S=void 0){const w=S?.(h,v,x,b);if(w!==void 0)return w;if(a.isPrimitive(h))return h;if(b.has(h))return b.get(h);if(Array.isArray(h)){const y=new Array(h.length);b.set(h,y);for(let C=0;C<h.length;C++)y[C]=u(h[C],C,x,b,S);return Object.hasOwn(h,"index")&&(y.index=h.index),Object.hasOwn(h,"input")&&(y.input=h.input),y}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const y=new RegExp(h.source,h.flags);return y.lastIndex=h.lastIndex,y}if(h instanceof Map){const y=new Map;b.set(h,y);for(const[C,M]of h)y.set(C,u(M,C,x,b,S));return y}if(h instanceof Set){const y=new Set;b.set(h,y);for(const C of h)y.add(u(C,void 0,x,b,S));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const y=new(Object.getPrototypeOf(h)).constructor(h.length);b.set(h,y);for(let C=0;C<h.length;C++)y[C]=u(h[C],C,x,b,S);return y}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const y=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return b.set(h,y),f(y,h,x,b,S),y}if(typeof File<"u"&&h instanceof File){const y=new File([h],h.name,{type:h.type});return b.set(h,y),f(y,h,x,b,S),y}if(typeof Blob<"u"&&h instanceof Blob){const y=new Blob([h],{type:h.type});return b.set(h,y),f(y,h,x,b,S),y}if(h instanceof Error){const y=new h.constructor;return b.set(h,y),y.message=h.message,y.name=h.name,y.stack=h.stack,y.cause=h.cause,f(y,h,x,b,S),y}if(h instanceof Boolean){const y=new Boolean(h.valueOf());return b.set(h,y),f(y,h,x,b,S),y}if(h instanceof Number){const y=new Number(h.valueOf());return b.set(h,y),f(y,h,x,b,S),y}if(h instanceof String){const y=new String(h.valueOf());return b.set(h,y),f(y,h,x,b,S),y}if(typeof h=="object"&&m(h)){const y=Object.create(Object.getPrototypeOf(h));return b.set(h,y),f(y,h,x,b,S),y}return h}function f(h,v,x=h,b,S){const w=[...Object.keys(v),...t.getSymbols(v)];for(let y=0;y<w.length;y++){const C=w[y],M=Object.getOwnPropertyDescriptor(h,C);(M==null||M.writable)&&(h[C]=u(v[C],C,x,b,S))}}function m(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=u,e.copyProperties=f})(yg)),yg}var lA;function F$(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P5();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(bg)),bg}var oA;function B$(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O5(),r=F$();function n(a){return a=r.cloneDeep(a),l=>t.isMatch(l,a)}e.matches=n})(mg)),mg}var Cg={},Ag={},Mg={},cA;function $$(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P5(),r=N1(),n=T5();function a(l,c){return t.cloneDeepWith(l,(u,f,m,h)=>{const v=c?.(u,f,m,h);if(v!==void 0)return v;if(typeof l=="object"){if(r.getTag(l)===n.objectTag&&typeof l.constructor!="function"){const x={};return h.set(l,x),t.copyProperties(x,l,m,h),x}switch(Object.prototype.toString.call(l)){case n.numberTag:case n.stringTag:case n.booleanTag:{const x=new l.constructor(l?.valueOf());return t.copyProperties(x,l),x}case n.argumentsTag:{const x={};return t.copyProperties(x,l),x.length=l.length,x[Symbol.iterator]=l[Symbol.iterator],x}default:return}}})}e.cloneDeepWith=a})(Mg)),Mg}var uA;function q$(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$$();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Ag)),Ag}var kg={},Dg={},dA;function I5(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Dg)),Dg}var Eg={},fA;function H$(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N1();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Eg)),Eg}var mA;function U$(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N5(),r=I5(),n=H$(),a=y1();function l(c,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&c?.[u]==null?f=a.toPath(u):f=[u],f.length===0)return!1;let m=c;for(let h=0;h<f.length;h++){const v=f[h];if((m==null||!Object.hasOwn(m,v))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(v)&&v<m.length))return!1;m=m[v]}return!0}e.has=l})(kg)),kg}var pA;function Y$(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O5(),r=b1(),n=q$(),a=w1(),l=U$();function c(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return f=n.cloneDeep(f),function(m){const h=a.get(m,u);return h===void 0?l.has(m,u):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c})(Cg)),Cg}var hA;function V$(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k5(),r=I$(),n=B$(),a=Y$();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=l})(dg)),dg}var vA;function G$(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E$(),r=_$(),n=k5(),a=P$(),l=V$();function c(u,f=n.identity){return a.isArrayLikeObject(u)?t.uniqBy(Array.from(u),r.ary(l.iteratee(f),1)):[]}e.uniqBy=c})(ng)),ng}var _g,xA;function W$(){return xA||(xA=1,_g=G$().uniqBy),_g}var K$=W$();const gA=ni(K$);function Q$(e,t,r){return t===!0?gA(e,r):typeof t=="function"?gA(e,t):e}var Og={exports:{}},Tg={},Pg={exports:{}},Ig={};var bA;function X$(){if(bA)return Ig;bA=1;var e=wc();function t(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function u(v,x){var b=x(),S=n({inst:{value:b,getSnapshot:x}}),w=S[0].inst,y=S[1];return l(function(){w.value=b,w.getSnapshot=x,f(w)&&y({inst:w})},[v,b,x]),a(function(){return f(w)&&y({inst:w}),v(function(){f(w)&&y({inst:w})})},[v]),c(b),b}function f(v){var x=v.getSnapshot;v=v.value;try{var b=x();return!r(v,b)}catch{return!0}}function m(v,x){return x()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return Ig.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Ig}var yA;function Z$(){return yA||(yA=1,Pg.exports=X$()),Pg.exports}var wA;function J$(){if(wA)return Tg;wA=1;var e=wc(),t=Z$();function r(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,u=e.useMemo,f=e.useDebugValue;return Tg.useSyncExternalStoreWithSelector=function(m,h,v,x,b){var S=l(null);if(S.current===null){var w={hasValue:!1,value:null};S.current=w}else w=S.current;S=u(function(){function C(T){if(!M){if(M=!0,A=T,T=x(T),b!==void 0&&w.hasValue){var P=w.value;if(b(P,T))return _=P}return _=T}if(P=_,n(A,T))return P;var O=x(T);return b!==void 0&&b(P,O)?(A=T,P):(A=T,_=O)}var M=!1,A,_,E=v===void 0?null:v;return[function(){return C(h())},E===null?void 0:function(){return C(E())}]},[h,v,x,b]);var y=a(m,S[0],S[1]);return c(function(){w.hasValue=!0,w.value=y},[y]),f(y),y},Tg}var jA;function eq(){return jA||(jA=1,Og.exports=J$()),Og.exports}var tq=eq(),S1=j.createContext(null),rq=e=>e,Ar=()=>{var e=j.useContext(S1);return e?e.store.dispatch:rq},ep=()=>{},nq=()=>ep,aq=(e,t)=>e===t;function it(e){var t=j.useContext(S1),r=j.useMemo(()=>t?n=>{if(n!=null)return e(n)}:ep,[t,e]);return tq.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:nq,t?t.store.getState:ep,t?t.store.getState:ep,r,aq)}function iq(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function sq(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function lq(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var NA=e=>Array.isArray(e)?e:[e];function oq(e){const t=Array.isArray(e[0])?e[0]:e;return lq(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function cq(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var uq=class{constructor(e){this.value=e}deref(){return this.value}},dq=typeof WeakRef<"u"?WeakRef:uq,fq=0,SA=1;function fm(){return{s:fq,v:void 0,o:null,p:null}}function R5(e,t={}){let r=fm();const{resultEqualityCheck:n}=t;let a,l=0;function c(){let u=r;const{length:f}=arguments;for(let v=0,x=f;v<x;v++){const b=arguments[v];if(typeof b=="function"||typeof b=="object"&&b!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const w=S.get(b);w===void 0?(u=fm(),S.set(b,u)):u=w}else{let S=u.p;S===null&&(u.p=S=new Map);const w=S.get(b);w===void 0?(u=fm(),S.set(b,u)):u=w}}const m=u;let h;if(u.s===SA)h=u.v;else if(h=e.apply(null,arguments),l++,n){const v=a?.deref?.()??a;v!=null&&n(v,h)&&(h=v,l!==0&&l--),a=typeof h=="object"&&h!==null||typeof h=="function"?new dq(h):h}return m.s=SA,m.v=h,h}return c.clearCache=()=>{r=fm(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function mq(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let l=0,c=0,u,f={},m=a.pop();typeof m=="object"&&(f=m,m=a.pop()),iq(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...r,...f},{memoize:v,memoizeOptions:x=[],argsMemoize:b=R5,argsMemoizeOptions:S=[]}=h,w=NA(x),y=NA(S),C=oq(a),M=v(function(){return l++,m.apply(null,arguments)},...w),A=b(function(){c++;const E=cq(C,arguments);return u=M.apply(null,E),u},...y);return Object.assign(A,{resultFunc:m,memoizedResultFunc:M,dependencies:C,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:v,argsMemoize:b})};return Object.assign(n,{withTypes:()=>n}),n}var ne=mq(R5),pq=Object.assign((e,t=ne)=>{sq(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(l=>e[l]);return t(n,(...l)=>l.reduce((c,u,f)=>(c[r[f]]=u,c),{}))},{withTypes:()=>pq}),Rg={},Lg={},zg={},CA;function hq(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,l)=>{if(n!==a){const c=t(n),u=t(a);if(c===u&&c===0){if(n<a)return l==="desc"?1:-1;if(n>a)return l==="desc"?-1:1}return l==="desc"?u-c:c-u}return 0};e.compareValues=r})(zg)),zg}var Fg={},Bg={},AA;function L5(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Bg)),Bg}var MA;function vq(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L5(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(n.test(l)||!r.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=a})(Fg)),Fg}var kA;function xq(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hq(),r=vq(),n=y1();function a(l,c,u,f){if(l==null)return[];u=f?void 0:u,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const m=(b,S)=>{let w=b;for(let y=0;y<S.length&&w!=null;++y)w=w[S[y]];return w},h=(b,S)=>S==null||b==null?S:typeof b=="object"&&"key"in b?Object.hasOwn(S,b.key)?S[b.key]:m(S,b.path):typeof b=="function"?b(S):Array.isArray(b)?m(S,b):typeof S=="object"?S[b]:S,v=c.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||r.isKey(b)?b:{key:b,path:n.toPath(b)}));return l.map(b=>({original:b,criteria:v.map(S=>h(S,b))})).slice().sort((b,S)=>{for(let w=0;w<v.length;w++){const y=t.compareValues(b.criteria[w],S.criteria[w],u[w]);if(y!==0)return y}return 0}).map(b=>b.original)}e.orderBy=a})(Lg)),Lg}var $g={},DA;function gq(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],l=Math.floor(n),c=(u,f)=>{for(let m=0;m<u.length;m++){const h=u[m];Array.isArray(h)&&f<l?c(h,f+1):a.push(h)}};return c(r,0),a}e.flatten=t})($g)),$g}var qg={},EA;function z5(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I5(),r=j1(),n=D5(),a=_5();function l(c,u,f){return n.isObject(f)&&(typeof u=="number"&&r.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?a.isEqualsSameValueZero(f[u],c):!1}e.isIterateeCall=l})(qg)),qg}var _A;function bq(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xq(),r=gq(),n=z5();function a(l,...c){const u=c.length;return u>1&&n.isIterateeCall(l,c[0],c[1])?c=[]:u>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,r.flatten(c),["asc"])}e.sortBy=a})(Rg)),Rg}var Hg,OA;function yq(){return OA||(OA=1,Hg=bq().sortBy),Hg}var wq=yq();const Ih=ni(wq);var F5=e=>e.legend.settings,jq=e=>e.legend.size,Nq=e=>e.legend.payload;ne([Nq,F5],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Ih(n,r):n});var mm=1;function Sq(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=j.useState({height:0,left:0,top:0,width:0}),n=j.useCallback(a=>{if(a!=null){var l=a.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>mm||Math.abs(c.left-t.left)>mm||Math.abs(c.top-t.top)>mm||Math.abs(c.width-t.width)>mm)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function $r(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Cq=typeof Symbol=="function"&&Symbol.observable||"@@observable",TA=Cq,Ug=()=>Math.random().toString(36).substring(7).split("").join("."),Aq={INIT:`@@redux/INIT${Ug()}`,REPLACE:`@@redux/REPLACE${Ug()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ug()}`},Ap=Aq;function C1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function B5(e,t,r){if(typeof e!="function")throw new Error($r(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error($r(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error($r(1));return r(B5)(e,t)}let n=e,a=t,l=new Map,c=l,u=0,f=!1;function m(){c===l&&(c=new Map,l.forEach((y,C)=>{c.set(C,y)}))}function h(){if(f)throw new Error($r(3));return a}function v(y){if(typeof y!="function")throw new Error($r(4));if(f)throw new Error($r(5));let C=!0;m();const M=u++;return c.set(M,y),function(){if(C){if(f)throw new Error($r(6));C=!1,m(),c.delete(M),l=null}}}function x(y){if(!C1(y))throw new Error($r(7));if(typeof y.type>"u")throw new Error($r(8));if(typeof y.type!="string")throw new Error($r(17));if(f)throw new Error($r(9));try{f=!0,a=n(a,y)}finally{f=!1}return(l=c).forEach(M=>{M()}),y}function b(y){if(typeof y!="function")throw new Error($r(10));n=y,x({type:Ap.REPLACE})}function S(){const y=v;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error($r(11));function M(){const _=C;_.next&&_.next(h())}return M(),{unsubscribe:y(M)}},[TA](){return this}}}return x({type:Ap.INIT}),{dispatch:x,subscribe:v,getState:h,replaceReducer:b,[TA]:S}}function Mq(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Ap.INIT})>"u")throw new Error($r(12));if(typeof r(void 0,{type:Ap.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($r(13))})}function $5(e){const t=Object.keys(e),r={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let a;try{Mq(r)}catch(l){a=l}return function(c={},u){if(a)throw a;let f=!1;const m={};for(let h=0;h<n.length;h++){const v=n[h],x=r[v],b=c[v],S=x(b,u);if(typeof S>"u")throw u&&u.type,new Error($r(14));m[v]=S,f=f||S!==b}return f=f||n.length!==Object.keys(c).length,f?m:c}}function Mp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function kq(...e){return t=>(r,n)=>{const a=t(r,n);let l=()=>{throw new Error($r(15))};const c={getState:a.getState,dispatch:(f,...m)=>l(f,...m)},u=e.map(f=>f(c));return l=Mp(...u)(a.dispatch),{...a,dispatch:l}}}function q5(e){return C1(e)&&"type"in e&&typeof e.type=="string"}var H5=Symbol.for("immer-nothing"),PA=Symbol.for("immer-draftable"),rn=Symbol.for("immer-state");function pa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Pn=Object,oc=Pn.getPrototypeOf,kp="constructor",Rh="prototype",ly="configurable",Dp="enumerable",tp="writable",sd="value",Hi=e=>!!e&&!!e[rn];function ja(e){return e?U5(e)||zh(e)||!!e[PA]||!!e[kp]?.[PA]||Fh(e)||Bh(e):!1}var Dq=Pn[Rh][kp].toString(),IA=new WeakMap;function U5(e){if(!e||!A1(e))return!1;const t=oc(e);if(t===null||t===Pn[Rh])return!0;const r=Pn.hasOwnProperty.call(t,kp)&&t[kp];if(r===Object)return!0;if(!Qo(r))return!1;let n=IA.get(r);return n===void 0&&(n=Function.toString.call(r),IA.set(r,n)),n===Dq}function Lh(e,t,r=!0){kd(e)===0?(r?Reflect.ownKeys(e):Pn.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function kd(e){const t=e[rn];return t?t.type_:zh(e)?1:Fh(e)?2:Bh(e)?3:0}var RA=(e,t,r=kd(e))=>r===2?e.has(t):Pn[Rh].hasOwnProperty.call(e,t),oy=(e,t,r=kd(e))=>r===2?e.get(t):e[t],Ep=(e,t,r,n=kd(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function Eq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var zh=Array.isArray,Fh=e=>e instanceof Map,Bh=e=>e instanceof Set,A1=e=>typeof e=="object",Qo=e=>typeof e=="function",Yg=e=>typeof e=="boolean";function _q(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var _i=e=>e.copy_||e.base_,M1=e=>e.modified_?e.copy_:e.base_;function cy(e,t){if(Fh(e))return new Map(e);if(Bh(e))return new Set(e);if(zh(e))return Array[Rh].slice.call(e);const r=U5(e);if(t===!0||t==="class_only"&&!r){const n=Pn.getOwnPropertyDescriptors(e);delete n[rn];let a=Reflect.ownKeys(n);for(let l=0;l<a.length;l++){const c=a[l],u=n[c];u[tp]===!1&&(u[tp]=!0,u[ly]=!0),(u.get||u.set)&&(n[c]={[ly]:!0,[tp]:!0,[Dp]:u[Dp],[sd]:e[c]})}return Pn.create(oc(e),n)}else{const n=oc(e);if(n!==null&&r)return{...e};const a=Pn.create(n);return Pn.assign(a,e)}}function k1(e,t=!1){return $h(e)||Hi(e)||!ja(e)||(kd(e)>1&&Pn.defineProperties(e,{set:pm,add:pm,clear:pm,delete:pm}),Pn.freeze(e),t&&Lh(e,(r,n)=>{k1(n,!0)},!1)),e}function Oq(){pa(2)}var pm={[sd]:Oq};function $h(e){return e===null||!A1(e)?!0:Pn.isFrozen(e)}var _p="MapSet",uy="Patches",LA="ArrayMethods",Y5={};function Wl(e){const t=Y5[e];return t||pa(0,e),t}var zA=e=>!!Y5[e],ld,V5=()=>ld,Tq=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:zA(_p)?Wl(_p):void 0,arrayMethodsPlugin_:zA(LA)?Wl(LA):void 0});function FA(e,t){t&&(e.patchPlugin_=Wl(uy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function dy(e){fy(e),e.drafts_.forEach(Pq),e.drafts_=null}function fy(e){e===ld&&(ld=e.parent_)}var BA=e=>ld=Tq(ld,e);function Pq(e){const t=e[rn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function $A(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[rn].modified_&&(dy(t),pa(4)),ja(e)&&(e=qA(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[rn].base_,e,t)}else e=qA(t,r);return Iq(t,e,!0),dy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==H5?e:void 0}function qA(e,t){if($h(t))return t;const r=t[rn];if(!r)return Op(t,e.handledSet_,e);if(!qh(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);K5(r,e)}return r.copy_}function Iq(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&k1(t,r)}function G5(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var qh=(e,t)=>e.scope_===t,Rq=[];function W5(e,t,r,n){const a=_i(e),l=e.type_;if(n!==void 0&&oy(a,n,l)===t){Ep(a,n,r,l);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;Lh(a,(f,m)=>{if(Hi(m)){const h=u.get(m)||[];h.push(f),u.set(m,h)}})}const c=e.draftLocations_.get(t)??Rq;for(const u of c)Ep(a,u,r,l)}function Lq(e,t,r){e.callbacks_.push(function(a){const l=t;if(!l||!qh(l,a))return;a.mapSetPlugin_?.fixSetContents(l);const c=M1(l);W5(e,l.draft_??l,c,r),K5(l,a)})}function K5(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const a=n.getPath(e);a&&n.generatePatches_(e,a,t)}G5(e)}}function zq(e,t,r){const{scope_:n}=e;if(Hi(r)){const a=r[rn];qh(a,n)&&a.callbacks_.push(function(){rp(e);const c=M1(a);W5(e,r,c,t)})}else ja(r)&&e.callbacks_.push(function(){const l=_i(e);e.type_===3?l.has(r)&&Op(r,n.handledSet_,n):oy(l,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Op(oy(e.copy_,t,e.type_),n.handledSet_,n)})}function Op(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Hi(e)||t.has(e)||!ja(e)||$h(e)||(t.add(e),Lh(e,(n,a)=>{if(Hi(a)){const l=a[rn];if(qh(l,r)){const c=M1(l);Ep(e,n,c,e.type_),G5(l)}}else ja(a)&&Op(a,t,r)})),e}function Fq(e,t){const r=zh(e),n={type_:r?1:0,scope_:t?t.scope_:V5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,l=Tp;r&&(a=[n],l=od);const{revoke:c,proxy:u}=Proxy.revocable(a,l);return n.draft_=u,n.revoke_=c,[u,n]}var Tp={get(e,t){if(t===rn)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=_i(e);if(!RA(a,t,e.type_))return Bq(e,a,t);const l=a[t];if(e.finalized_||!ja(l)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&_q(t))return l;if(l===Vg(e.base_,t)){rp(e);const c=e.type_===1?+t:t,u=py(e.scope_,l,e,c);return e.copy_[c]=u}return l},has(e,t){return t in _i(e)},ownKeys(e){return Reflect.ownKeys(_i(e))},set(e,t,r){const n=Q5(_i(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Vg(_i(e),t),l=a?.[rn];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(Eq(r,a)&&(r!==void 0||RA(e.base_,t,e.type_)))return!0;rp(e),my(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),zq(e,t,r)),!0},deleteProperty(e,t){return rp(e),Vg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),my(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=_i(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[tp]:!0,[ly]:e.type_!==1||t!=="length",[Dp]:n[Dp],[sd]:r[t]}},defineProperty(){pa(11)},getPrototypeOf(e){return oc(e.base_)},setPrototypeOf(){pa(12)}},od={};for(let e in Tp){let t=Tp[e];od[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}od.deleteProperty=function(e,t){return od.set.call(this,e,t,void 0)};od.set=function(e,t,r){return Tp.set.call(this,e[0],t,r,e[0])};function Vg(e,t){const r=e[rn];return(r?_i(r):e)[t]}function Bq(e,t,r){const n=Q5(t,r);return n?sd in n?n[sd]:n.get?.call(e.draft_):void 0}function Q5(e,t){if(!(t in e))return;let r=oc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=oc(r)}}function my(e){e.modified_||(e.modified_=!0,e.parent_&&my(e.parent_))}function rp(e){e.copy_||(e.assigned_=new Map,e.copy_=cy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var $q=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Qo(r)&&!Qo(n)){const c=n;n=r;const u=this;return function(m=c,...h){return u.produce(m,v=>n.call(this,v,...h))}}Qo(n)||pa(6),a!==void 0&&!Qo(a)&&pa(7);let l;if(ja(r)){const c=BA(this),u=py(c,r,void 0);let f=!0;try{l=n(u),f=!1}finally{f?dy(c):fy(c)}return FA(c,a),$A(l,c)}else if(!r||!A1(r)){if(l=n(r),l===void 0&&(l=r),l===H5&&(l=void 0),this.autoFreeze_&&k1(l,!0),a){const c=[],u=[];Wl(uy).generateReplacementPatches_(r,l,{patches_:c,inversePatches_:u}),a(c,u)}return l}else pa(1,r)},this.produceWithPatches=(r,n)=>{if(Qo(r))return(u,...f)=>this.produceWithPatches(u,m=>r(m,...f));let a,l;return[this.produce(r,n,(u,f)=>{a=u,l=f}),a,l]},Yg(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Yg(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Yg(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ja(t)||pa(8),Hi(t)&&(t=ga(t));const r=BA(this),n=py(r,t,void 0);return n[rn].isManual_=!0,fy(r),n}finishDraft(t,r){const n=t&&t[rn];(!n||!n.isManual_)&&pa(9);const{scope_:a}=n;return FA(a,r),$A(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const l=r[n];if(l.path.length===0&&l.op==="replace"){t=l.value;break}}n>-1&&(r=r.slice(n+1));const a=Wl(uy).applyPatches_;return Hi(t)?a(t,r):this.produce(t,l=>a(l,r))}};function py(e,t,r,n){const[a,l]=Fh(t)?Wl(_p).proxyMap_(t,r):Bh(t)?Wl(_p).proxySet_(t,r):Fq(t,r);return(r?.scope_??V5()).drafts_.push(a),l.callbacks_=r?.callbacks_??[],l.key_=n,r&&n!==void 0?Lq(r,l,n):l.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(l);const{patchPlugin_:m}=f;l.modified_&&m&&m.generatePatches_(l,[],f)}),a}function ga(e){return Hi(e)||pa(10,e),X5(e)}function X5(e){if(!ja(e)||$h(e))return e;const t=e[rn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=cy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=cy(e,!0);return Lh(r,(a,l)=>{Ep(r,a,X5(l))},n),t&&(t.finalized_=!1),r}var qq=new $q,Z5=qq.produce;function J5(e){return({dispatch:r,getState:n})=>a=>l=>typeof l=="function"?l(r,n,e):a(l)}var Hq=J5(),Uq=J5,Yq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Mp:Mp.apply(null,arguments)};function na(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Rn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>q5(n)&&n.type===e,r}var eT=class Ku extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ku.prototype)}static get[Symbol.species](){return Ku}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ku(...t[0].concat(this)):new Ku(...t.concat(this))}};function HA(e){return ja(e)?Z5(e,()=>{}):e}function hm(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Vq(e){return typeof e=="boolean"}var Gq=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=t??{};let c=new eT;return r&&(Vq(r)?c.push(Hq):c.push(Uq(r.extraArgument))),c},tT="RTK_autoBatch",Xt=()=>e=>({payload:e,meta:{[tT]:!0}}),UA=e=>t=>{setTimeout(t,e)},rT=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,l=!1,c=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:UA(10):e.type==="callback"?e.queueNotification:UA(e.timeout),m=()=>{c=!1,l&&(l=!1,u.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const v=()=>a&&h(),x=n.subscribe(v);return u.add(h),()=>{x(),u.delete(h)}},dispatch(h){try{return a=!h?.meta?.[tT],l=!a,l&&(c||(c=!0,f(m))),n.dispatch(h)}finally{a=!0}}})},Wq=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new eT(e);return n&&a.push(rT(typeof n=="object"?n:void 0)),a};function Kq(e){const t=Gq(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(C1(r))u=$5(r);else throw new Error(Rn(1));let f;typeof n=="function"?f=n(t):f=t();let m=Mp;a&&(m=Yq({trace:!1,...typeof a=="object"&&a}));const h=kq(...f),v=Wq(h);let x=typeof c=="function"?c(v):v();const b=m(...x);return B5(u,l,b)}function nT(e){const t={},r=[];let n;const a={addCase(l,c){const u=typeof l=="string"?l:l.type;if(!u)throw new Error(Rn(28));if(u in t)throw new Error(Rn(29));return t[u]=c,a},addAsyncThunk(l,c){return c.pending&&(t[l.pending.type]=c.pending),c.rejected&&(t[l.rejected.type]=c.rejected),c.fulfilled&&(t[l.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:l.settled,reducer:c.settled}),a},addMatcher(l,c){return r.push({matcher:l,reducer:c}),a},addDefaultCase(l){return n=l,a}};return e(a),[t,r,n]}function Qq(e){return typeof e=="function"}function Xq(e,t){let[r,n,a]=nT(t),l;if(Qq(e))l=()=>HA(e());else{const u=HA(e);l=()=>u}function c(u=l(),f){let m=[r[f.type],...n.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[a]),m.reduce((h,v)=>{if(v)if(Hi(h)){const b=v(h,f);return b===void 0?h:b}else{if(ja(h))return Z5(h,x=>v(x,f));{const x=v(h,f);if(x===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return h},u)}return c.getInitialState=l,c}var Zq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Jq=(e=21)=>{let t="",r=e;for(;r--;)t+=Zq[Math.random()*64|0];return t},eH=Symbol.for("rtk-slice-createasyncthunk");function tH(e,t){return`${e}/${t}`}function rH({creators:e}={}){const t=e?.asyncThunk?.[eH];return function(n){const{name:a,reducerPath:l=a}=n;if(!a)throw new Error(Rn(11));const c=(typeof n.reducers=="function"?n.reducers(aH()):n.reducers)||{},u=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(A,_){const E=typeof A=="string"?A:A.type;if(!E)throw new Error(Rn(12));if(E in f.sliceCaseReducersByType)throw new Error(Rn(13));return f.sliceCaseReducersByType[E]=_,m},addMatcher(A,_){return f.sliceMatchers.push({matcher:A,reducer:_}),m},exposeAction(A,_){return f.actionCreators[A]=_,m},exposeCaseReducer(A,_){return f.sliceCaseReducersByName[A]=_,m}};u.forEach(A=>{const _=c[A],E={reducerName:A,type:tH(a,A),createNotation:typeof n.reducers=="function"};sH(_)?oH(E,_,m,t):iH(E,_,m)});function h(){const[A={},_=[],E=void 0]=typeof n.extraReducers=="function"?nT(n.extraReducers):[n.extraReducers],T={...A,...f.sliceCaseReducersByType};return Xq(n.initialState,P=>{for(let O in T)P.addCase(O,T[O]);for(let O of f.sliceMatchers)P.addMatcher(O.matcher,O.reducer);for(let O of _)P.addMatcher(O.matcher,O.reducer);E&&P.addDefaultCase(E)})}const v=A=>A,x=new Map,b=new WeakMap;let S;function w(A,_){return S||(S=h()),S(A,_)}function y(){return S||(S=h()),S.getInitialState()}function C(A,_=!1){function E(P){let O=P[A];return typeof O>"u"&&_&&(O=hm(b,E,y)),O}function T(P=v){const O=hm(x,_,()=>new WeakMap);return hm(O,P,()=>{const z={};for(const[R,F]of Object.entries(n.selectors??{}))z[R]=nH(F,P,()=>hm(b,P,y),_);return z})}return{reducerPath:A,getSelectors:T,get selectors(){return T(E)},selectSlice:E}}const M={name:a,reducer:w,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:y,...C(l),injectInto(A,{reducerPath:_,...E}={}){const T=_??l;return A.inject({reducerPath:T,reducer:w},E),{...M,...C(T,!0)}}};return M}}function nH(e,t,r,n){function a(l,...c){let u=t(l);return typeof u>"u"&&n&&(u=r()),e(u,...c)}return a.unwrapped=e,a}var wn=rH();function aH(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function iH({type:e,reducerName:t,createNotation:r},n,a){let l,c;if("reducer"in n){if(r&&!lH(n))throw new Error(Rn(17));l=n.reducer,c=n.prepare}else l=n;a.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?na(e,c):na(e))}function sH(e){return e._reducerDefinitionType==="asyncThunk"}function lH(e){return e._reducerDefinitionType==="reducerWithPrepare"}function oH({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Rn(18));const{payloadCreator:l,fulfilled:c,pending:u,rejected:f,settled:m,options:h}=r,v=a(e,l,h);n.exposeAction(t,v),c&&n.addCase(v.fulfilled,c),u&&n.addCase(v.pending,u),f&&n.addCase(v.rejected,f),m&&n.addMatcher(v.settled,m),n.exposeCaseReducer(t,{fulfilled:c||vm,pending:u||vm,rejected:f||vm,settled:m||vm})}function vm(){}var cH="task",aT="listener",iT="completed",D1="cancelled",uH=`task-${D1}`,dH=`task-${iT}`,hy=`${aT}-${D1}`,fH=`${aT}-${iT}`,Hh=class{constructor(e){this.code=e,this.message=`${cH} ${D1} (reason: ${e})`}name="TaskAbortError";message},E1=(e,t)=>{if(typeof e!="function")throw new TypeError(Rn(32))},Pp=()=>{},sT=(e,t=Pp)=>(e.catch(t),e),lT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Bl=e=>{if(e.aborted)throw new Hh(e.reason)};function oT(e,t){let r=Pp;return new Promise((n,a)=>{const l=()=>a(new Hh(e.reason));if(e.aborted){l();return}r=lT(e,l),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Pp})}var mH=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Hh?"cancelled":"rejected",error:r}}finally{t?.()}},Ip=e=>t=>sT(oT(e,t).then(r=>(Bl(e),r))),cT=e=>{const t=Ip(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:tc}=Object,YA={},Uh="listenerMiddleware",pH=(e,t)=>{const r=n=>lT(e,()=>n.abort(e.reason));return(n,a)=>{E1(n);const l=new AbortController;r(l);const c=mH(async()=>{Bl(e),Bl(l.signal);const u=await n({pause:Ip(l.signal),delay:cT(l.signal),signal:l.signal});return Bl(l.signal),u},()=>l.abort(dH));return a?.autoJoin&&t.push(c.catch(Pp)),{result:Ip(e)(c),cancel(){l.abort(uH)}}}},hH=(e,t)=>{const r=async(n,a)=>{Bl(t);let l=()=>{};const u=[new Promise((f,m)=>{let h=e({predicate:n,effect:(v,x)=>{x.unsubscribe(),f([v,x.getState(),x.getOriginalState()])}});l=()=>{h(),m()}})];a!=null&&u.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await oT(t,Promise.race(u));return Bl(t),f}finally{l()}};return(n,a)=>sT(r(n,a))},uT=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:l}=e;if(t)a=na(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Rn(21));return E1(l),{predicate:a,type:t,effect:l}},dT=tc(e=>{const{type:t,predicate:r,effect:n}=uT(e);return{id:Jq(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Rn(22))}}},{withTypes:()=>dT}),VA=(e,t)=>{const{type:r,effect:n,predicate:a}=uT(t);return Array.from(e.values()).find(l=>(typeof r=="string"?l.type===r:l.predicate===a)&&l.effect===n)},vy=e=>{e.pending.forEach(t=>{t.abort(hy)})},vH=(e,t)=>()=>{for(const r of t.keys())vy(r);e.clear()},GA=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},fT=tc(na(`${Uh}/add`),{withTypes:()=>fT}),xH=na(`${Uh}/removeAll`),mT=tc(na(`${Uh}/remove`),{withTypes:()=>mT}),gH=(...e)=>{console.error(`${Uh}/error`,...e)},Dd=(e={})=>{const t=new Map,r=new Map,n=b=>{const S=r.get(b)??0;r.set(b,S+1)},a=b=>{const S=r.get(b)??1;S===1?r.delete(b):r.set(b,S-1)},{extra:l,onError:c=gH}=e;E1(c);const u=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),S=>{b.unsubscribe(),S?.cancelActive&&vy(b)}),f=b=>{const S=VA(t,b)??dT(b);return u(S)};tc(f,{withTypes:()=>f});const m=b=>{const S=VA(t,b);return S&&(S.unsubscribe(),b.cancelActive&&vy(S)),!!S};tc(m,{withTypes:()=>m});const h=async(b,S,w,y)=>{const C=new AbortController,M=hH(f,C.signal),A=[];try{b.pending.add(C),n(b),await Promise.resolve(b.effect(S,tc({},w,{getOriginalState:y,condition:(_,E)=>M(_,E).then(Boolean),take:M,delay:cT(C.signal),pause:Ip(C.signal),extra:l,signal:C.signal,fork:pH(C.signal,A),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((_,E,T)=>{_!==C&&(_.abort(hy),T.delete(_))})},cancel:()=>{C.abort(hy),b.pending.delete(C)},throwIfCancelled:()=>{Bl(C.signal)}})))}catch(_){_ instanceof Hh||GA(c,_,{raisedBy:"effect"})}finally{await Promise.all(A),C.abort(fH),a(b),b.pending.delete(C)}},v=vH(t,r);return{middleware:b=>S=>w=>{if(!q5(w))return S(w);if(fT.match(w))return f(w.payload);if(xH.match(w)){v();return}if(mT.match(w))return m(w.payload);let y=b.getState();const C=()=>{if(y===YA)throw new Error(Rn(23));return y};let M;try{if(M=S(w),t.size>0){const A=b.getState(),_=Array.from(t.values());for(const E of _){let T=!1;try{T=E.predicate(w,A,y)}catch(P){T=!1,GA(c,P,{raisedBy:"predicate"})}T&&h(E,w,b,C)}}}finally{y=YA}return M},startListening:f,stopListening:m,clearListeners:v}};function Rn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var bH={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},pT=wn({name:"chartLayout",initialState:bH,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,l;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(l=t.payload.left)!==null&&l!==void 0?l:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:yH,setLayout:wH,setChartSize:jH,setScale:NH}=pT.actions,SH=pT.reducer;function hT(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Rt(e){return Number.isFinite(e)}function Ys(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function WA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(r),!0).forEach(function(n){CH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CH(e,t,r){return(t=AH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AH(e){var t=MH(e,"string");return typeof t=="symbol"?t:t+""}function MH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cr(e,t,r){return zn(e)||zn(t)?r:qi(t)?ad(e,t,r):typeof t=="function"?t(e):r}var kH=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:l,verticalAlign:c,layout:u}=t;if((u==="vertical"||u==="horizontal"&&c==="middle")&&l!=="center"&&Xe(e[l]))return Zo(Zo({},e),{},{[l]:e[l]+(n||0)});if((u==="horizontal"||u==="vertical"&&l==="center")&&c!=="middle"&&Xe(e[c]))return Zo(Zo({},e),{},{[c]:e[c]+(a||0)})}return e},Ks=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",DH=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var l=0,c=0,u=0;u<r;++u){var f=e[u],m=f?.[a];if(m!=null){var h=m[1],v=m[0],x=$i(h)?v:h;x>=0?(m[0]=l,l+=x,m[1]=l):(m[0]=c,c+=x,m[1]=c)}}}},EH=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var l=0,c=0;c<r;++c){var u=e[c],f=u?.[a];if(f!=null){var m=$i(f[1])?f[0]:f[1];m>=0?(f[0]=l,l+=m,f[1]=l):(f[0]=0,f[1]=0)}}}},_H={sign:DH,expand:n$,none:Vl,silhouette:a$,wiggle:i$,positive:EH},OH=(e,t,r)=>{var n,a=(n=_H[r])!==null&&n!==void 0?n:Vl,l=r$().keys(t).value((u,f)=>Number(cr(u,f,0))).order(iy).offset(a),c=l(e);return c.forEach((u,f)=>{u.forEach((m,h)=>{var v=cr(e[h],t[f],0);Array.isArray(v)&&v.length===2&&Xe(v[0])&&Xe(v[1])&&(m[0]=v[0],m[1]=v[1])})}),c},TH=e=>{var t=e.flat(2).filter(Xe);return[Math.min(...t),Math.max(...t)]},PH=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],IH=(e,t,r)=>{if(e!=null)return PH(Object.keys(e).reduce((n,a)=>{var l=e[a];if(!l)return n;var{stackedData:c}=l,u=c.reduce((f,m)=>{var h=hT(m,t,r),v=TH(h);return!Rt(v[0])||!Rt(v[1])?f:[Math.min(f[0],v[0]),Math.max(f[1],v[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},KA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XA=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();return n}if(e&&t&&t.length>=2){for(var a=Ih(t,h=>h.coordinate),l=1/0,c=1,u=a.length;c<u;c++){var f=a[c],m=a[c-1];l=Math.min((f?.coordinate||0)-(m?.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0};function ZA(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:l}=e;return Zo(Zo({},t),{},{dataKey:r,payload:n,value:a,name:l})}function vT(e,t){if(e)return String(e);if(typeof t=="string")return t}var RH=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},LH=(e,t)=>t==="centric"?e.angle:e.radius,Xi=e=>e.layout.width,Zi=e=>e.layout.height,zH=e=>e.layout.scale,xT=e=>e.layout.margin,Yh=ne(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Vh=ne(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),gT="data-recharts-item-index",bT="data-recharts-item-id",Ed=60;function JA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(r),!0).forEach(function(n){FH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FH(e,t,r){return(t=BH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BH(e){var t=$H(e,"string");return typeof t=="symbol"?t:t+""}function $H(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qH=e=>e.brush.height;function HH(e){var t=Vh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Ed;return r+a}return r},0)}function UH(e){var t=Vh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Ed;return r+a}return r},0)}function YH(e){var t=Yh(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function VH(e){var t=Yh(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Tr=ne([Xi,Zi,xT,qH,HH,UH,YH,VH,F5,jq],(e,t,r,n,a,l,c,u,f,m)=>{var h={left:(r.left||0)+a,right:(r.right||0)+l},v={top:(r.top||0)+c,bottom:(r.bottom||0)+u},x=xm(xm({},v),h),b=x.bottom;x.bottom+=n,x=kH(x,f,m);var S=e-x.left-x.right,w=t-x.top-x.bottom;return xm(xm({brushBottom:b},x),{},{width:Math.max(S,0),height:Math.max(w,0)})}),GH=ne(Tr,e=>({x:e.left,y:e.top,width:e.width,height:e.height}));ne(Xi,Zi,(e,t)=>({x:0,y:0,width:e,height:t}));var WH=j.createContext(null),Qs=()=>j.useContext(WH)!=null,Gh=e=>e.brush,Wh=ne([Gh,Tr,xT],(e,t,r)=>({height:e.height,x:Xe(e.x)?e.x:t.left,y:Xe(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Xe(e.width)?e.width:t.width})),Gg={},Wg={},Kg={},eM;function KH(){return eM||(eM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:l}={}){let c,u=null;const f=l!=null&&l.includes("leading"),m=l==null||l.includes("trailing"),h=()=>{u!==null&&(r.apply(c,u),c=void 0,u=null)},v=()=>{m&&h(),w()};let x=null;const b=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,v()},n)},S=()=>{x!==null&&(clearTimeout(x),x=null)},w=()=>{S(),c=void 0,u=null},y=()=>{h()},C=function(...M){if(a?.aborted)return;c=this,u=M;const A=x==null;b(),f&&A&&h()};return C.schedule=b,C.cancel=w,C.flush=y,a?.addEventListener("abort",w,{once:!0}),C}e.debounce=t})(Kg)),Kg}var tM;function QH(){return tM||(tM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KH();function r(n,a=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:u=!0,maxWait:f}=l,m=Array(2);c&&(m[0]="leading"),u&&(m[1]="trailing");let h,v=null;const x=t.debounce(function(...w){h=n.apply(this,w),v=null},a,{edges:m}),b=function(...w){return f!=null&&(v===null&&(v=Date.now()),Date.now()-v>=f)?(h=n.apply(this,w),v=Date.now(),x.cancel(),x.schedule(),h):(x.apply(this,w),h)},S=()=>(x.flush(),h);return b.cancel=x.cancel,b.flush=S,b}e.debounce=r})(Wg)),Wg}var rM;function XH(){return rM||(rM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QH();function r(n,a=0,l={}){const{leading:c=!0,trailing:u=!0}=l;return t.debounce(n,a,{leading:c,maxWait:a,trailing:u})}e.throttle=r})(Gg)),Gg}var Qg,nM;function ZH(){return nM||(nM=1,Qg=XH().throttle),Qg}var JH=ZH();const e9=ni(JH);var aM=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),l=2;l<n;l++)a[l-2]=arguments[l];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>a[c++]))}},Va={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},yT=(e,t,r)=>{var{width:n=Va.width,height:a=Va.height,aspect:l,maxHeight:c}=r,u=Gl(n)?e:Number(n),f=Gl(a)?t:Number(a);return l&&l>0&&(u?f=u/l:f&&(u=f*l),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:u,calculatedHeight:f}},t9={width:0,height:0,overflow:"visible"},r9={width:0,overflowX:"visible"},n9={height:0,overflowY:"visible"},a9={},i9=e=>{var{width:t,height:r}=e,n=Gl(t),a=Gl(r);return n&&a?t9:n?r9:a?n9:a9};function s9(e){var{width:t,height:r,aspect:n}=e,a=t,l=r;return a===void 0&&l===void 0?(a=Va.width,l=Va.height):a===void 0?a=n&&n>0?void 0:Va.width:l===void 0&&(l=n&&n>0?void 0:Va.height),{width:a,height:l}}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(null,arguments)}function iM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iM(Object(r),!0).forEach(function(n){l9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l9(e,t,r){return(t=o9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o9(e){var t=c9(e,"string");return typeof t=="symbol"?t:t+""}function c9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wT=j.createContext(Va.initialDimension);function u9(e){return Ys(e.width)&&Ys(e.height)}function jT(e){var{children:t,width:r,height:n}=e,a=j.useMemo(()=>({width:r,height:n}),[r,n]);return u9(a)?j.createElement(wT.Provider,{value:a},t):null}var _1=()=>j.useContext(wT),d9=j.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Va.initialDimension,width:a,height:l,minWidth:c=Va.minWidth,minHeight:u,maxHeight:f,children:m,debounce:h=Va.debounce,id:v,className:x,onResize:b,style:S={}}=e,w=j.useRef(null),y=j.useRef();y.current=b,j.useImperativeHandle(t,()=>w.current);var[C,M]=j.useState({containerWidth:n.width,containerHeight:n.height}),A=j.useCallback((O,z)=>{M(R=>{var F=Math.round(O),D=Math.round(z);return R.containerWidth===F&&R.containerHeight===D?R:{containerWidth:F,containerHeight:D}})},[]);j.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Md;var O=D=>{var X,W=D[0];if(W!=null){var{width:Z,height:$}=W.contentRect;A(Z,$),(X=y.current)===null||X===void 0||X.call(y,Z,$)}};h>0&&(O=e9(O,h,{trailing:!0,leading:!1}));var z=new ResizeObserver(O),{width:R,height:F}=w.current.getBoundingClientRect();return A(R,F),z.observe(w.current),()=>{z.disconnect()}},[A,h]);var{containerWidth:_,containerHeight:E}=C;aM(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:T,calculatedHeight:P}=yT(_,E,{width:a,height:l,aspect:r,maxHeight:f});return aM(T!=null&&T>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,P,a,l,c,u,r),j.createElement("div",{id:v?"".concat(v):void 0,className:lt("recharts-responsive-container",x),style:sM(sM({},S),{},{width:a,height:l,minWidth:c,minHeight:u,maxHeight:f}),ref:w},j.createElement("div",{style:i9({width:a,height:l})},j.createElement(jT,{width:T,height:P},m)))}),NT=j.forwardRef((e,t)=>{var r=_1();if(Ys(r.width)&&Ys(r.height))return e.children;var{width:n,height:a}=s9({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:l,calculatedHeight:c}=yT(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Xe(l)&&Xe(c)?j.createElement(jT,{width:l,height:c},e.children):j.createElement(d9,xy({},e,{width:n,height:a,ref:t}))});function O1(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Kh=()=>{var e,t=Qs(),r=it(GH),n=it(Wh),a=(e=it(Gh))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},f9={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},m9=()=>{var e;return(e=it(Tr))!==null&&e!==void 0?e:f9},p9=()=>it(Xi),h9=()=>it(Zi),er=e=>e.layout.layoutType,Qh=()=>it(er),ST=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},v9=()=>{var e=Qh();return e!==void 0},_d=e=>{var t=Ar(),r=Qs(),{width:n,height:a}=e,l=_1(),c=n,u=a;return l&&(c=l.width>0?l.width:n,u=l.height>0?l.height:a),j.useEffect(()=>{!r&&Ys(c)&&Ys(u)&&t(jH({width:c,height:u}))},[t,r,c,u]),null},CT=Symbol.for("immer-nothing"),lM=Symbol.for("immer-draftable"),Fn=Symbol.for("immer-state");function ha(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cd=Object.getPrototypeOf;function cc(e){return!!e&&!!e[Fn]}function Kl(e){return e?AT(e)||Array.isArray(e)||!!e[lM]||!!e.constructor?.[lM]||Od(e)||Zh(e):!1}var x9=Object.prototype.constructor.toString(),oM=new WeakMap;function AT(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=oM.get(r);return n===void 0&&(n=Function.toString.call(r),oM.set(r,n)),n===x9}function Rp(e,t,r=!0){Xh(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Xh(e){const t=e[Fn];return t?t.type_:Array.isArray(e)?1:Od(e)?2:Zh(e)?3:0}function gy(e,t){return Xh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function MT(e,t,r){const n=Xh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function g9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Od(e){return e instanceof Map}function Zh(e){return e instanceof Set}function Ml(e){return e.copy_||e.base_}function by(e,t){if(Od(e))return new Map(e);if(Zh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=AT(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Fn];let a=Reflect.ownKeys(n);for(let l=0;l<a.length;l++){const c=a[l],u=n[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(cd(e),n)}else{const n=cd(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function T1(e,t=!1){return Jh(e)||cc(e)||!Kl(e)||(Xh(e)>1&&Object.defineProperties(e,{set:gm,add:gm,clear:gm,delete:gm}),Object.freeze(e),t&&Object.values(e).forEach(r=>T1(r,!0))),e}function b9(){ha(2)}var gm={value:b9};function Jh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var y9={};function Ql(e){const t=y9[e];return t||ha(0,e),t}var ud;function kT(){return ud}function w9(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function cM(e,t){t&&(Ql("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function yy(e){wy(e),e.drafts_.forEach(j9),e.drafts_=null}function wy(e){e===ud&&(ud=e.parent_)}function uM(e){return ud=w9(ud,e)}function j9(e){const t=e[Fn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function dM(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Fn].modified_&&(yy(t),ha(4)),Kl(e)&&(e=Lp(t,e),t.parent_||zp(t,e)),t.patches_&&Ql("Patches").generateReplacementPatches_(r[Fn].base_,e,t.patches_,t.inversePatches_)):e=Lp(t,r,[]),yy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==CT?e:void 0}function Lp(e,t,r){if(Jh(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Fn];if(!a)return Rp(t,(l,c)=>fM(e,a,t,l,c,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return zp(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const l=a.copy_;let c=l,u=!1;a.type_===3&&(c=new Set(l),l.clear(),u=!0),Rp(c,(f,m)=>fM(e,a,l,f,m,r,u),n),zp(e,l,!1),r&&e.patches_&&Ql("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function fM(e,t,r,n,a,l,c){if(a==null||typeof a!="object"&&!c)return;const u=Jh(a);if(!(u&&!c)){if(cc(a)){const f=l&&t&&t.type_!==3&&!gy(t.assigned_,n)?l.concat(n):void 0,m=Lp(e,a,f);if(MT(r,n,m),cc(m))e.canAutoFreeze_=!1;else return}else c&&r.add(a);if(Kl(a)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&u)return;Lp(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Od(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&zp(e,a)}}}function zp(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&T1(t,r)}function N9(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:kT(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,l=P1;r&&(a=[n],l=dd);const{revoke:c,proxy:u}=Proxy.revocable(a,l);return n.draft_=u,n.revoke_=c,u}var P1={get(e,t){if(t===Fn)return e;const r=Ml(e);if(!gy(r,t))return S9(e,r,t);const n=r[t];return e.finalized_||!Kl(n)?n:n===Xg(e.base_,t)?(Zg(e),e.copy_[t]=Ny(n,e)):n},has(e,t){return t in Ml(e)},ownKeys(e){return Reflect.ownKeys(Ml(e))},set(e,t,r){const n=DT(Ml(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Xg(Ml(e),t),l=a?.[Fn];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(g9(r,a)&&(r!==void 0||gy(e.base_,t)))return!0;Zg(e),jy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Xg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Zg(e),jy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ml(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ha(11)},getPrototypeOf(e){return cd(e.base_)},setPrototypeOf(){ha(12)}},dd={};Rp(P1,(e,t)=>{dd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});dd.deleteProperty=function(e,t){return dd.set.call(this,e,t,void 0)};dd.set=function(e,t,r){return P1.set.call(this,e[0],t,r,e[0])};function Xg(e,t){const r=e[Fn];return(r?Ml(r):e)[t]}function S9(e,t,r){const n=DT(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function DT(e,t){if(!(t in e))return;let r=cd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=cd(r)}}function jy(e){e.modified_||(e.modified_=!0,e.parent_&&jy(e.parent_))}function Zg(e){e.copy_||(e.copy_=by(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var C9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const l=r;r=t;const c=this;return function(f=l,...m){return c.produce(f,h=>r.call(this,h,...m))}}typeof r!="function"&&ha(6),n!==void 0&&typeof n!="function"&&ha(7);let a;if(Kl(t)){const l=uM(this),c=Ny(t,void 0);let u=!0;try{a=r(c),u=!1}finally{u?yy(l):wy(l)}return cM(l,n),dM(a,l)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===CT&&(a=void 0),this.autoFreeze_&&T1(a,!0),n){const l=[],c=[];Ql("Patches").generateReplacementPatches_(t,a,l,c),n(l,c)}return a}else ha(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,f=>t(f,...u));let n,a;return[this.produce(t,r,(c,u)=>{n=c,a=u}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Kl(e)||ha(8),cc(e)&&(e=A9(e));const t=uM(this),r=Ny(e,void 0);return r[Fn].isManual_=!0,wy(t),r}finishDraft(e,t){const r=e&&e[Fn];(!r||!r.isManual_)&&ha(9);const{scope_:n}=r;return cM(n,t),dM(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Ql("Patches").applyPatches_;return cc(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Ny(e,t){const r=Od(e)?Ql("MapSet").proxyMap_(e,t):Zh(e)?Ql("MapSet").proxySet_(e,t):N9(e,t);return(t?t.scope_:kT()).drafts_.push(r),r}function A9(e){return cc(e)||ha(10,e),ET(e)}function ET(e){if(!Kl(e)||Jh(e))return e;const t=e[Fn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=by(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=by(e,!0);return Rp(r,(a,l)=>{MT(r,a,ET(l))},n),t&&(t.finalized_=!1),r}var M9=new C9;M9.produce;var k9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},_T=wn({name:"legend",initialState:k9,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Xt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ga(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Xt()},removeLegendPayload:{reducer(e,t){var r=ga(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Xt()}}}),{setLegendSize:Ple,setLegendSettings:Ile,addLegendPayload:D9,replaceLegendPayload:E9,removeLegendPayload:_9}=_T.actions,O9=_T.reducer;function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sy.apply(null,arguments)}function mM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ou(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mM(Object(r),!0).forEach(function(n){T9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T9(e,t,r){return(t=P9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P9(e){var t=I9(e,"string");return typeof t=="symbol"?t:t+""}function I9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R9(e){return Array.isArray(e)&&qi(e[0])&&qi(e[1])?e.join(" ~ "):e}var $o={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},L9=e=>{var{separator:t=$o.separator,contentStyle:r,itemStyle:n,labelStyle:a=$o.labelStyle,payload:l,formatter:c,itemSorter:u,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:v,accessibilityLayer:x=$o.accessibilityLayer}=e,b=()=>{if(l&&l.length){var E={padding:0,margin:0},T=(u?Ih(l,u):l).map((P,O)=>{if(P.type==="none")return null;var z=P.formatter||c||R9,{value:R,name:F}=P,D=R,X=F;if(z){var W=z(R,F,P,O,l);if(Array.isArray(W))[D,X]=W;else if(W!=null)D=W;else return null}var Z=Ou(Ou({},$o.itemStyle),{},{color:P.color||$o.itemStyle.color},n);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:Z},qi(X)?j.createElement("span",{className:"recharts-tooltip-item-name"},X):null,qi(X)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},D),j.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:E},T)}return null},S=Ou(Ou({},$o.contentStyle),r),w=Ou({margin:0},a),y=!zn(h),C=y?h:"",M=lt("recharts-default-tooltip",f),A=lt("recharts-tooltip-label",m);y&&v&&l!==void 0&&l!==null&&(C=v(h,l));var _=x?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",Sy({className:M,style:S},_),j.createElement("p",{className:A,style:w},j.isValidElement(C)?C:"".concat(C)),b())},Tu="recharts-tooltip-wrapper",z9={visibility:"hidden"};function F9(e){var{coordinate:t,translateX:r,translateY:n}=e;return lt(Tu,{["".concat(Tu,"-right")]:Xe(r)&&t&&Xe(t.x)&&r>=t.x,["".concat(Tu,"-left")]:Xe(r)&&t&&Xe(t.x)&&r<t.x,["".concat(Tu,"-bottom")]:Xe(n)&&t&&Xe(t.y)&&n>=t.y,["".concat(Tu,"-top")]:Xe(n)&&t&&Xe(t.y)&&n<t.y})}function pM(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:a,position:l,reverseDirection:c,tooltipDimension:u,viewBox:f,viewBoxDimension:m}=e;if(l&&Xe(l[n]))return l[n];var h=r[n]-u-(a>0?a:0),v=r[n]+a;if(t[n])return c[n]?h:v;var x=f[n];if(x==null)return 0;if(c[n]){var b=h,S=x;return b<S?Math.max(v,x):Math.max(h,x)}if(m==null)return 0;var w=v+u,y=x+m;return w>y?Math.max(h,x):Math.max(v,x)}function B9(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function $9(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:a,position:l,reverseDirection:c,tooltipBox:u,useTranslate3d:f,viewBox:m}=e,h,v,x;return u.height>0&&u.width>0&&r?(v=pM({allowEscapeViewBox:t,coordinate:r,key:"x",offset:a,position:l,reverseDirection:c,tooltipDimension:u.width,viewBox:m,viewBoxDimension:m.width}),x=pM({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:l,reverseDirection:c,tooltipDimension:u.height,viewBox:m,viewBoxDimension:m.height}),h=B9({translateX:v,translateY:x,useTranslate3d:f})):h=z9,{cssProperties:h,cssClasses:F9({translateX:v,translateY:x,coordinate:r})}}function hM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hM(Object(r),!0).forEach(function(n){Cy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cy(e,t,r){return(t=q9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q9(e){var t=H9(e,"string");return typeof t=="symbol"?t:t+""}function H9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class U9 extends j.PureComponent{constructor(){super(...arguments),Cy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Cy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:l,coordinate:c,hasPayload:u,isAnimationActive:f,offset:m,position:h,reverseDirection:v,useTranslate3d:x,viewBox:b,wrapperStyle:S,lastBoundingBox:w,innerRef:y,hasPortalFromProps:C}=this.props,M=typeof m=="number"?m:m.x,A=typeof m=="number"?m:m.y,{cssClasses:_,cssProperties:E}=$9({allowEscapeViewBox:r,coordinate:c,offsetLeft:M,offsetTop:A,position:h,reverseDirection:v,tooltipBox:{height:w.height,width:w.width},useTranslate3d:x,viewBox:b}),T=C?{}:bm(bm({transition:f&&t?"transform ".concat(n,"ms ").concat(a):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),P=bm(bm({},T),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:P,ref:y},l)}}var OT=()=>{var e;return(e=it(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ay.apply(null,arguments)}function vM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vM(Object(r),!0).forEach(function(n){Y9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y9(e,t,r){return(t=V9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V9(e){var t=G9(e,"string");return typeof t=="symbol"?t:t+""}function G9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gM={curveBasisClosed:YB,curveBasisOpen:VB,curveBasis:UB,curveBumpX:EB,curveBumpY:_B,curveLinearClosed:GB,curveLinear:Th,curveMonotoneX:WB,curveMonotoneY:KB,curveNatural:QB,curveStep:XB,curveStepAfter:JB,curveStepBefore:ZB},Fp=e=>Rt(e.x)&&Rt(e.y),bM=e=>e.base!=null&&Fp(e.base)&&Fp(e),Pu=e=>e.x,Iu=e=>e.y,W9=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Ad(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=gM["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return gM[r]||Th},yM={connectNulls:!1,type:"linear"},K9=e=>{var{type:t=yM.type,points:r=[],baseLine:n,layout:a,connectNulls:l=yM.connectNulls}=e,c=W9(t,a),u=l?r.filter(Fp):r;if(Array.isArray(n)){var f,m=r.map((S,w)=>xM(xM({},S),{},{base:n[w]}));a==="vertical"?f=dm().y(Iu).x1(Pu).x0(S=>S.base.x):f=dm().x(Pu).y1(Iu).y0(S=>S.base.y);var h=f.defined(bM).curve(c),v=l?m.filter(bM):m;return h(v)}var x;a==="vertical"&&Xe(n)?x=dm().y(Iu).x1(Pu).x0(n):Xe(n)?x=dm().x(Pu).y1(Iu).y0(n):x=f5().x(Pu).y(Iu);var b=x.defined(Fp).curve(c);return b(u)},I1=e=>{var{className:t,points:r,path:n,pathRef:a}=e,l=Qh();if((!r||!r.length)&&!n)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||l,connectNulls:e.connectNulls},u=r&&r.length?K9(c):n;return j.createElement("path",Ay({},lc(e),N$(e),{className:lt("recharts-curve",t),d:u===null?void 0:u,ref:a}))},Q9=["x","y","top","left","width","height","className"];function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},My.apply(null,arguments)}function wM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function X9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wM(Object(r),!0).forEach(function(n){Z9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z9(e,t,r){return(t=J9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J9(e){var t=e7(e,"string");return typeof t=="symbol"?t:t+""}function e7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t7(e,t){if(e==null)return{};var r,n,a=r7(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function r7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var n7=(e,t,r,n,a,l)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(l,",").concat(t,"h").concat(r),a7=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:l=0,height:c=0,className:u}=e,f=t7(e,Q9),m=X9({x:t,y:r,top:n,left:a,width:l,height:c},f);return!Xe(t)||!Xe(r)||!Xe(l)||!Xe(c)||!Xe(n)||!Xe(a)?null:j.createElement("path",My({},ra(m),{className:lt("recharts-cross",u),d:n7(t,r,l,c,n,a)}))};function i7(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function jM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(r),!0).forEach(function(n){s7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s7(e,t,r){return(t=l7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l7(e){var t=o7(e,"string");return typeof t=="symbol"?t:t+""}function o7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c7=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),TT=(e,t,r)=>e.map(n=>"".concat(c7(n)," ").concat(t,"ms ").concat(r)).join(","),u7=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),fd=(e,t)=>Object.keys(t).reduce((r,n)=>NM(NM({},r),{},{[n]:e(n,t[n])}),{});function SM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(r),!0).forEach(function(n){d7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d7(e,t,r){return(t=f7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f7(e){var t=m7(e,"string");return typeof t=="symbol"?t:t+""}function m7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bp=(e,t,r)=>e+(t-e)*r,ky=e=>{var{from:t,to:r}=e;return t!==r},PT=(e,t,r)=>{var n=fd((a,l)=>{if(ky(l)){var[c,u]=e(l.from,l.to,l.velocity);return Cr(Cr({},l),{},{from:c,velocity:u})}return l},t);return r<1?fd((a,l)=>ky(l)&&n[a]!=null?Cr(Cr({},l),{},{velocity:Bp(l.velocity,n[a].velocity,r),from:Bp(l.from,n[a].from,r)}):l,t):PT(e,n,r-1)};function p7(e,t,r,n,a,l){var c,u=n.reduce((x,b)=>Cr(Cr({},x),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),f=()=>fd((x,b)=>b.from,u),m=()=>!Object.values(u).filter(ky).length,h=null,v=x=>{c||(c=x);var b=x-c,S=b/r.dt;u=PT(r,u,S),a(Cr(Cr(Cr({},e),t),f())),c=x,m()||(h=l.setTimeout(v))};return()=>(h=l.setTimeout(v),()=>{var x;(x=h)===null||x===void 0||x()})}function h7(e,t,r,n,a,l,c){var u=null,f=a.reduce((v,x)=>{var b=e[x],S=t[x];return b==null||S==null?v:Cr(Cr({},v),{},{[x]:[b,S]})},{}),m,h=v=>{m||(m=v);var x=(v-m)/n,b=fd((w,y)=>Bp(...y,r(x)),f);if(l(Cr(Cr(Cr({},e),t),b)),x<1)u=c.setTimeout(h);else{var S=fd((w,y)=>Bp(...y,r(1)),f);l(Cr(Cr(Cr({},e),t),S))}};return()=>(u=c.setTimeout(h),()=>{var v;(v=u)===null||v===void 0||v()})}const v7=(e,t,r,n,a,l)=>{var c=u7(e,t);return r==null?()=>(a(Cr(Cr({},e),t)),()=>{}):r.isStepper===!0?p7(e,t,r,c,a,l):h7(e,t,r,n,c,a,l)};var $p=1e-4,IT=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],RT=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),CM=(e,t)=>r=>{var n=IT(e,t);return RT(n,r)},x7=(e,t)=>r=>{var n=IT(e,t),a=[...n.map((l,c)=>l*c).slice(1),0];return RT(a,r)},g7=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(l=>parseFloat(l));return[a[0],a[1],a[2],a[3]]},b7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=g7(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},y7=(e,t,r,n)=>{var a=CM(e,r),l=CM(t,n),c=x7(e,r),u=m=>m>1?1:m<0?0:m,f=m=>{for(var h=m>1?1:m,v=h,x=0;x<8;++x){var b=a(v)-h,S=c(v);if(Math.abs(b-h)<$p||S<$p)return l(v);v=u(v-b/S)}return l(v)};return f.isStepper=!1,f},AM=function(){return y7(...b7(...arguments))},w7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,l=(c,u,f)=>{var m=-(c-u)*r,h=f*n,v=f+(m-h)*a/1e3,x=f*a/1e3+c;return Math.abs(x-u)<$p&&Math.abs(v)<$p?[u,0]:[x,v]};return l.isStepper=!0,l.dt=a,l},j7=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AM(e);case"spring":return w7();default:if(e.split("(")[0]==="cubic-bezier")return AM(e)}return typeof e=="function"?e:null};function N7(e){var t,r=()=>null,n=!1,a=null,l=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var u=c,[f,...m]=u;if(typeof f=="number"){a=e.setTimeout(l.bind(null,m),f);return}l(f),a=e.setTimeout(l.bind(null,m));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,a&&(a(),a=null),l(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class S7{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,l=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(l))};return a=requestAnimationFrame(l),()=>{a!=null&&cancelAnimationFrame(a)}}}function C7(){return N7(new S7)}var A7=j.createContext(C7);function M7(e,t){var r=j.useContext(A7);return j.useMemo(()=>t??r(e),[e,t,r])}var k7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),R1={isSsr:k7()},D7={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},MM={t:0},Jg={t:1};function L1(e){var t=li(e,D7),{isActive:r,canBegin:n,duration:a,easing:l,begin:c,onAnimationEnd:u,onAnimationStart:f,children:m}=t,h=r==="auto"?!R1.isSsr:r,v=M7(t.animationId,t.animationManager),[x,b]=j.useState(h?MM:Jg),S=j.useRef(null);return j.useEffect(()=>{h||b(Jg)},[h]),j.useEffect(()=>{if(!h||!n)return Md;var w=v7(MM,Jg,j7(l),a,b,v.getTimeoutController()),y=()=>{S.current=w()};return v.start([f,c,y,a,u]),()=>{v.stop(),S.current&&S.current(),u()}},[h,n,a,l,c,f,u,v]),m(x.t)}function z1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=j.useRef(id(t)),n=j.useRef(e);return n.current!==e&&(r.current=id(t),n.current=e),r.current}var E7=["radius"],_7=["radius"],kM,DM,EM,_M,OM,TM,PM,IM,RM,LM;function zM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(r),!0).forEach(function(n){O7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O7(e,t,r){return(t=T7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T7(e){var t=P7(e,"string");return typeof t=="symbol"?t:t+""}function P7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qp(){return qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qp.apply(null,arguments)}function BM(e,t){if(e==null)return{};var r,n,a=I7(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function I7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function La(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $M=(e,t,r,n,a)=>{var l=Ls(r),c=Ls(n),u=Math.min(Math.abs(l)/2,Math.abs(c)/2),f=c>=0?1:-1,m=l>=0?1:-1,h=c>=0&&l>=0||c<0&&l<0?1:0,v;if(u>0&&Array.isArray(a)){for(var x=[0,0,0,0],b=0,S=4;b<S;b++){var w,y=(w=a[b])!==null&&w!==void 0?w:0;x[b]=y>u?u:y}v=lr(kM||(kM=La(["M",",",""])),e,t+f*x[0]),x[0]>0&&(v+=lr(DM||(DM=La(["A ",",",",0,0,",",",",",""])),x[0],x[0],h,e+m*x[0],t)),v+=lr(EM||(EM=La(["L ",",",""])),e+r-m*x[1],t),x[1]>0&&(v+=lr(_M||(_M=La(["A ",",",",0,0,",`,
        `,",",""])),x[1],x[1],h,e+r,t+f*x[1])),v+=lr(OM||(OM=La(["L ",",",""])),e+r,t+n-f*x[2]),x[2]>0&&(v+=lr(TM||(TM=La(["A ",",",",0,0,",`,
        `,",",""])),x[2],x[2],h,e+r-m*x[2],t+n)),v+=lr(PM||(PM=La(["L ",",",""])),e+m*x[3],t+n),x[3]>0&&(v+=lr(IM||(IM=La(["A ",",",",0,0,",`,
        `,",",""])),x[3],x[3],h,e,t+n-f*x[3])),v+="Z"}else if(u>0&&a===+a&&a>0){var C=Math.min(u,a);v=lr(RM||(RM=La(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*C,C,C,h,e+m*C,t,e+r-m*C,t,C,C,h,e+r,t+f*C,e+r,t+n-f*C,C,C,h,e+r-m*C,t+n,e+m*C,t+n,C,C,h,e,t+n-f*C)}else v=lr(LM||(LM=La(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return v},qM={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LT=e=>{var t=li(e,qM),r=j.useRef(null),[n,a]=j.useState(-1);j.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var G=r.current.getTotalLength();G&&a(G)}catch{}},[]);var{x:l,y:c,width:u,height:f,radius:m,className:h}=t,{animationEasing:v,animationDuration:x,animationBegin:b,isAnimationActive:S,isUpdateAnimationActive:w}=t,y=j.useRef(u),C=j.useRef(f),M=j.useRef(l),A=j.useRef(c),_=j.useMemo(()=>({x:l,y:c,width:u,height:f,radius:m}),[l,c,u,f,m]),E=z1(_,"rectangle-");if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var T=lt("recharts-rectangle",h);if(!w){var P=ra(t),{radius:O}=P,z=BM(P,E7);return j.createElement("path",qp({},z,{x:Ls(l),y:Ls(c),width:Ls(u),height:Ls(f),radius:typeof m=="number"?m:void 0,className:T,d:$M(l,c,u,f,m)}))}var R=y.current,F=C.current,D=M.current,X=A.current,W="0px ".concat(n===-1?1:n,"px"),Z="".concat(n,"px 0px"),$=TT(["strokeDasharray"],x,typeof v=="string"?v:qM.animationEasing);return j.createElement(L1,{animationId:E,key:E,canBegin:n>0,duration:x,easing:v,isActive:w,begin:b},G=>{var L=ma(R,u,G),te=ma(F,f,G),xe=ma(D,l,G),B=ma(X,c,G);r.current&&(y.current=L,C.current=te,M.current=xe,A.current=B);var ae;S?G>0?ae={transition:$,strokeDasharray:Z}:ae={strokeDasharray:W}:ae={strokeDasharray:Z};var ge=ra(t),{radius:fe}=ge,Oe=BM(ge,_7);return j.createElement("path",qp({},Oe,{radius:typeof m=="number"?m:void 0,className:T,d:$M(xe,B,L,te,m),ref:r,style:FM(FM({},ae),t.style)}))})};function HM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HM(Object(r),!0).forEach(function(n){R7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R7(e,t,r){return(t=L7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L7(e){var t=z7(e,"string");return typeof t=="symbol"?t:t+""}function z7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hp=Math.PI/180,F7=e=>e*180/Math.PI,wr=(e,t,r,n)=>({x:e+Math.cos(-Hp*n)*r,y:t+Math.sin(-Hp*n)*r}),zT=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},B7=(e,t)=>{var{x:r,y:n}=e,{x:a,y:l}=t;return Math.sqrt((r-a)**2+(n-l)**2)},$7=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:l}=t,c=B7({x:r,y:n},{x:a,y:l});if(c<=0)return{radius:c,angle:0};var u=(r-a)/c,f=Math.acos(u);return n>l&&(f=2*Math.PI-f),{radius:c,angle:F7(f),angleInRadian:f}},q7=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),l=Math.min(n,a);return{startAngle:t-l*360,endAngle:r-l*360}},H7=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),l=Math.floor(n/360),c=Math.min(a,l);return e+c*360},U7=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:l}=$7({x:r,y:n},t),{innerRadius:c,outerRadius:u}=t;if(a<c||a>u||a===0)return null;var{startAngle:f,endAngle:m}=q7(t),h=l,v;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;v=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;v=h>=m&&h<=f}return v?UM(UM({},t),{},{radius:a,angle:H7(h,t)}):null};function FT(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:l}=e,c=wr(t,r,n,a),u=wr(t,r,n,l);return{points:[c,u],cx:t,cy:r,radius:n,startAngle:a,endAngle:l}}var YM,VM,GM,WM,KM,QM,XM;function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dy.apply(null,arguments)}function Pl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Y7=(e,t)=>{var r=gn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},ym=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:l,isExternal:c,cornerRadius:u,cornerIsExternal:f}=e,m=u*(c?1:-1)+n,h=Math.asin(u/m)/Hp,v=f?a:a+l*h,x=wr(t,r,m,v),b=wr(t,r,n,v),S=f?a-l*h:a,w=wr(t,r,m*Math.cos(h*Hp),S);return{center:x,circleTangency:b,lineTangency:w,theta:h}},BT=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c}=e,u=Y7(l,c),f=l+u,m=wr(t,r,a,l),h=wr(t,r,a,f),v=lr(YM||(YM=Pl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,a,a,+(Math.abs(u)>180),+(l>f),h.x,h.y);if(n>0){var x=wr(t,r,n,l),b=wr(t,r,n,f);v+=lr(VM||(VM=Pl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),b.x,b.y,n,n,+(Math.abs(u)>180),+(l<=f),x.x,x.y)}else v+=lr(GM||(GM=Pl(["L ",","," Z"])),t,r);return v},V7=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m}=e,h=gn(m-f),{circleTangency:v,lineTangency:x,theta:b}=ym({cx:t,cy:r,radius:a,angle:f,sign:h,cornerRadius:l,cornerIsExternal:u}),{circleTangency:S,lineTangency:w,theta:y}=ym({cx:t,cy:r,radius:a,angle:m,sign:-h,cornerRadius:l,cornerIsExternal:u}),C=u?Math.abs(f-m):Math.abs(f-m)-b-y;if(C<0)return c?lr(WM||(WM=Pl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),x.x,x.y,l,l,l*2,l,l,-l*2):BT({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:f,endAngle:m});var M=lr(KM||(KM=Pl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),x.x,x.y,l,l,+(h<0),v.x,v.y,a,a,+(C>180),+(h<0),S.x,S.y,l,l,+(h<0),w.x,w.y);if(n>0){var{circleTangency:A,lineTangency:_,theta:E}=ym({cx:t,cy:r,radius:n,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),{circleTangency:T,lineTangency:P,theta:O}=ym({cx:t,cy:r,radius:n,angle:m,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),z=u?Math.abs(f-m):Math.abs(f-m)-E-O;if(z<0&&l===0)return"".concat(M,"L").concat(t,",").concat(r,"Z");M+=lr(QM||(QM=Pl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,l,l,+(h<0),T.x,T.y,n,n,+(z>180),+(h>0),A.x,A.y,l,l,+(h<0),_.x,_.y)}else M+=lr(XM||(XM=Pl(["L",",","Z"])),t,r);return M},G7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$T=e=>{var t=li(e,G7),{cx:r,cy:n,innerRadius:a,outerRadius:l,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h,className:v}=t;if(l<a||m===h)return null;var x=lt("recharts-sector",v),b=l-a,S=In(c,b,0,!0),w;return S>0&&Math.abs(m-h)<360?w=V7({cx:r,cy:n,innerRadius:a,outerRadius:l,cornerRadius:Math.min(S,b/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h}):w=BT({cx:r,cy:n,innerRadius:a,outerRadius:l,startAngle:m,endAngle:h}),j.createElement("path",Dy({},ra(t),{className:x,d:w}))};function W7(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(M5(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:l,outerRadius:c,angle:u}=t,f=wr(n,a,l,u),m=wr(n,a,c,u);return[{x:f.x,y:f.y},{x:m.x,y:m.y}]}return FT(t)}}var eb={},tb={},rb={},ZM;function K7(){return ZM||(ZM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L5();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(rb)),rb}var JM;function Q7(){return JM||(JM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K7();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(tb)),tb}var ek;function X7(){return ek||(ek=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z5(),r=Q7();function n(a,l,c){c&&typeof c!="number"&&t.isIterateeCall(a,l,c)&&(l=c=void 0),a=r.toFinite(a),l===void 0?(l=a,a=0):l=r.toFinite(l),c=c===void 0?a<l?1:-1:r.toFinite(c);const u=Math.max(Math.ceil((l-a)/(c||1)),0),f=new Array(u);for(let m=0;m<u;m++)f[m]=a,a+=c;return f}e.range=n})(eb)),eb}var nb,tk;function Z7(){return tk||(tk=1,nb=X7().range),nb}var J7=Z7();const qT=ni(J7);function Fs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function eU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function F1(e){let t,r,n;e.length!==2?(t=Fs,r=(u,f)=>Fs(e(u),f),n=(u,f)=>e(u)-f):(t=e===Fs||e===eU?e:tU,r=e,n=e);function a(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const v=m+h>>>1;r(u[v],f)<0?m=v+1:h=v}while(m<h)}return m}function l(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const v=m+h>>>1;r(u[v],f)<=0?m=v+1:h=v}while(m<h)}return m}function c(u,f,m=0,h=u.length){const v=a(u,f,m,h-1);return v>m&&n(u[v-1],f)>-n(u[v],f)?v-1:v}return{left:a,center:c,right:l}}function tU(){return 0}function HT(e){return e===null?NaN:+e}function*rU(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const nU=F1(Fs),Td=nU.right;F1(HT).center;class rk extends Map{constructor(t,r=sU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(nk(this,t))}has(t){return super.has(nk(this,t))}set(t,r){return super.set(aU(this,t),r)}delete(t){return super.delete(iU(this,t))}}function nk({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function aU({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function iU({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function sU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function lU(e=Fs){if(e===Fs)return UT;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function UT(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const oU=Math.sqrt(50),cU=Math.sqrt(10),uU=Math.sqrt(2);function Up(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),l=n/Math.pow(10,a),c=l>=oU?10:l>=cU?5:l>=uU?2:1;let u,f,m;return a<0?(m=Math.pow(10,-a)/c,u=Math.round(e*m),f=Math.round(t*m),u/m<e&&++u,f/m>t&&--f,m=-m):(m=Math.pow(10,a)*c,u=Math.round(e/m),f=Math.round(t/m),u*m<e&&++u,f*m>t&&--f),f<u&&.5<=r&&r<2?Up(e,t,r*2):[u,f,m]}function Ey(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,l,c]=n?Up(t,e,r):Up(e,t,r);if(!(l>=a))return[];const u=l-a+1,f=new Array(u);if(n)if(c<0)for(let m=0;m<u;++m)f[m]=(l-m)/-c;else for(let m=0;m<u;++m)f[m]=(l-m)*c;else if(c<0)for(let m=0;m<u;++m)f[m]=(a+m)/-c;else for(let m=0;m<u;++m)f[m]=(a+m)*c;return f}function _y(e,t,r){return t=+t,e=+e,r=+r,Up(e,t,r)[2]}function Oy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?_y(t,e,r):_y(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function ak(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function ik(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function YT(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?UT:lU(a);n>r;){if(n-r>600){const f=n-r+1,m=t-r+1,h=Math.log(f),v=.5*Math.exp(2*h/3),x=.5*Math.sqrt(h*v*(f-v)/f)*(m-f/2<0?-1:1),b=Math.max(r,Math.floor(t-m*v/f+x)),S=Math.min(n,Math.floor(t+(f-m)*v/f+x));YT(e,t,b,S,a)}const l=e[t];let c=r,u=n;for(Ru(e,r,t),a(e[n],l)>0&&Ru(e,r,n);c<u;){for(Ru(e,c,u),++c,--u;a(e[c],l)<0;)++c;for(;a(e[u],l)>0;)--u}a(e[r],l)===0?Ru(e,r,u):(++u,Ru(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Ru(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function dU(e,t,r){if(e=Float64Array.from(rU(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return ik(e);if(t>=1)return ak(e);var n,a=(n-1)*t,l=Math.floor(a),c=ak(YT(e,l).subarray(0,l+1)),u=ik(e.subarray(l+1));return c+(u-c)*(a-l)}}function fU(e,t,r=HT){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,l=Math.floor(a),c=+r(e[l],l,e),u=+r(e[l+1],l+1,e);return c+(u-c)*(a-l)}}function mU(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,l=new Array(a);++n<a;)l[n]=e+n*r;return l}function sa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ji(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ty=Symbol("implicit");function B1(){var e=new rk,t=[],r=[],n=Ty;function a(l){let c=e.get(l);if(c===void 0){if(n!==Ty)return n;e.set(l,c=t.push(l)-1)}return r[c%r.length]}return a.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new rk;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return a},a.range=function(l){return arguments.length?(r=Array.from(l),a):r.slice()},a.unknown=function(l){return arguments.length?(n=l,a):n},a.copy=function(){return B1(t,r).unknown(n)},sa.apply(a,arguments),a}function $1(){var e=B1().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,l,c,u=!1,f=0,m=0,h=.5;delete e.unknown;function v(){var x=t().length,b=a<n,S=b?a:n,w=b?n:a;l=(w-S)/Math.max(1,x-f+m*2),u&&(l=Math.floor(l)),S+=(w-S-l*(x-f))*h,c=l*(1-f),u&&(S=Math.round(S),c=Math.round(c));var y=mU(x).map(function(C){return S+l*C});return r(b?y.reverse():y)}return e.domain=function(x){return arguments.length?(t(x),v()):t()},e.range=function(x){return arguments.length?([n,a]=x,n=+n,a=+a,v()):[n,a]},e.rangeRound=function(x){return[n,a]=x,n=+n,a=+a,u=!0,v()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(x){return arguments.length?(u=!!x,v()):u},e.padding=function(x){return arguments.length?(f=Math.min(1,m=+x),v()):f},e.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),v()):f},e.paddingOuter=function(x){return arguments.length?(m=+x,v()):m},e.align=function(x){return arguments.length?(h=Math.max(0,Math.min(1,x)),v()):h},e.copy=function(){return $1(t(),[n,a]).round(u).paddingInner(f).paddingOuter(m).align(h)},sa.apply(v(),arguments)}function VT(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return VT(t())},e}function pU(){return VT($1.apply(null,arguments).paddingInner(1))}function q1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function GT(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Pd(){}var md=.7,Yp=1/md,rc="\\s*([+-]?\\d+)\\s*",pd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hU=/^#([0-9a-f]{3,8})$/,vU=new RegExp(`^rgb\\(${rc},${rc},${rc}\\)$`),xU=new RegExp(`^rgb\\(${Xa},${Xa},${Xa}\\)$`),gU=new RegExp(`^rgba\\(${rc},${rc},${rc},${pd}\\)$`),bU=new RegExp(`^rgba\\(${Xa},${Xa},${Xa},${pd}\\)$`),yU=new RegExp(`^hsl\\(${pd},${Xa},${Xa}\\)$`),wU=new RegExp(`^hsla\\(${pd},${Xa},${Xa},${pd}\\)$`),sk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};q1(Pd,hd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lk,formatHex:lk,formatHex8:jU,formatHsl:NU,formatRgb:ok,toString:ok});function lk(){return this.rgb().formatHex()}function jU(){return this.rgb().formatHex8()}function NU(){return WT(this).formatHsl()}function ok(){return this.rgb().formatRgb()}function hd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=hU.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ck(t):r===3?new bn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?wm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?wm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=vU.exec(e))?new bn(t[1],t[2],t[3],1):(t=xU.exec(e))?new bn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=gU.exec(e))?wm(t[1],t[2],t[3],t[4]):(t=bU.exec(e))?wm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=yU.exec(e))?fk(t[1],t[2]/100,t[3]/100,1):(t=wU.exec(e))?fk(t[1],t[2]/100,t[3]/100,t[4]):sk.hasOwnProperty(e)?ck(sk[e]):e==="transparent"?new bn(NaN,NaN,NaN,0):null}function ck(e){return new bn(e>>16&255,e>>8&255,e&255,1)}function wm(e,t,r,n){return n<=0&&(e=t=r=NaN),new bn(e,t,r,n)}function SU(e){return e instanceof Pd||(e=hd(e)),e?(e=e.rgb(),new bn(e.r,e.g,e.b,e.opacity)):new bn}function Py(e,t,r,n){return arguments.length===1?SU(e):new bn(e,t,r,n??1)}function bn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}q1(bn,Py,GT(Pd,{brighter(e){return e=e==null?Yp:Math.pow(Yp,e),new bn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?md:Math.pow(md,e),new bn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new bn($l(this.r),$l(this.g),$l(this.b),Vp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uk,formatHex:uk,formatHex8:CU,formatRgb:dk,toString:dk}));function uk(){return`#${Il(this.r)}${Il(this.g)}${Il(this.b)}`}function CU(){return`#${Il(this.r)}${Il(this.g)}${Il(this.b)}${Il((isNaN(this.opacity)?1:this.opacity)*255)}`}function dk(){const e=Vp(this.opacity);return`${e===1?"rgb(":"rgba("}${$l(this.r)}, ${$l(this.g)}, ${$l(this.b)}${e===1?")":`, ${e})`}`}function Vp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $l(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Il(e){return e=$l(e),(e<16?"0":"")+e.toString(16)}function fk(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new va(e,t,r,n)}function WT(e){if(e instanceof va)return new va(e.h,e.s,e.l,e.opacity);if(e instanceof Pd||(e=hd(e)),!e)return new va;if(e instanceof va)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),l=Math.max(t,r,n),c=NaN,u=l-a,f=(l+a)/2;return u?(t===l?c=(r-n)/u+(r<n)*6:r===l?c=(n-t)/u+2:c=(t-r)/u+4,u/=f<.5?l+a:2-l-a,c*=60):u=f>0&&f<1?0:c,new va(c,u,f,e.opacity)}function AU(e,t,r,n){return arguments.length===1?WT(e):new va(e,t,r,n??1)}function va(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}q1(va,AU,GT(Pd,{brighter(e){return e=e==null?Yp:Math.pow(Yp,e),new va(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?md:Math.pow(md,e),new va(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new bn(ab(e>=240?e-240:e+120,a,n),ab(e,a,n),ab(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new va(mk(this.h),jm(this.s),jm(this.l),Vp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vp(this.opacity);return`${e===1?"hsl(":"hsla("}${mk(this.h)}, ${jm(this.s)*100}%, ${jm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function mk(e){return e=(e||0)%360,e<0?e+360:e}function jm(e){return Math.max(0,Math.min(1,e||0))}function ab(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const H1=e=>()=>e;function MU(e,t){return function(r){return e+r*t}}function kU(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function DU(e){return(e=+e)==1?KT:function(t,r){return r-t?kU(t,r,e):H1(isNaN(t)?r:t)}}function KT(e,t){var r=t-e;return r?MU(e,r):H1(isNaN(e)?t:e)}const pk=(function e(t){var r=DU(t);function n(a,l){var c=r((a=Py(a)).r,(l=Py(l)).r),u=r(a.g,l.g),f=r(a.b,l.b),m=KT(a.opacity,l.opacity);return function(h){return a.r=c(h),a.g=u(h),a.b=f(h),a.opacity=m(h),a+""}}return n.gamma=e,n})(1);function EU(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(l){for(a=0;a<r;++a)n[a]=e[a]*(1-l)+t[a]*l;return n}}function _U(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function OU(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),l=new Array(r),c;for(c=0;c<n;++c)a[c]=Mc(e[c],t[c]);for(;c<r;++c)l[c]=t[c];return function(u){for(c=0;c<n;++c)l[c]=a[c](u);return l}}function TU(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Gp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function PU(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Mc(e[a],t[a]):n[a]=t[a];return function(l){for(a in r)n[a]=r[a](l);return n}}var Iy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ib=new RegExp(Iy.source,"g");function IU(e){return function(){return e}}function RU(e){return function(t){return e(t)+""}}function LU(e,t){var r=Iy.lastIndex=ib.lastIndex=0,n,a,l,c=-1,u=[],f=[];for(e=e+"",t=t+"";(n=Iy.exec(e))&&(a=ib.exec(t));)(l=a.index)>r&&(l=t.slice(r,l),u[c]?u[c]+=l:u[++c]=l),(n=n[0])===(a=a[0])?u[c]?u[c]+=a:u[++c]=a:(u[++c]=null,f.push({i:c,x:Gp(n,a)})),r=ib.lastIndex;return r<t.length&&(l=t.slice(r),u[c]?u[c]+=l:u[++c]=l),u.length<2?f[0]?RU(f[0].x):IU(t):(t=f.length,function(m){for(var h=0,v;h<t;++h)u[(v=f[h]).i]=v.x(m);return u.join("")})}function Mc(e,t){var r=typeof t,n;return t==null||r==="boolean"?H1(t):(r==="number"?Gp:r==="string"?(n=hd(t))?(t=n,pk):LU:t instanceof hd?pk:t instanceof Date?TU:_U(t)?EU:Array.isArray(t)?OU:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?PU:Gp)(e,t)}function U1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function zU(e,t){t===void 0&&(t=e,e=Mc);for(var r=0,n=t.length-1,a=t[0],l=new Array(n<0?0:n);r<n;)l[r]=e(a,a=t[++r]);return function(c){var u=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return l[u](c-u)}}function FU(e){return function(){return e}}function Wp(e){return+e}var hk=[0,1];function en(e){return e}function Ry(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:FU(isNaN(t)?NaN:.5)}function BU(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function $U(e,t,r){var n=e[0],a=e[1],l=t[0],c=t[1];return a<n?(n=Ry(a,n),l=r(c,l)):(n=Ry(n,a),l=r(l,c)),function(u){return l(n(u))}}function qU(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),l=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)a[c]=Ry(e[c],e[c+1]),l[c]=r(t[c],t[c+1]);return function(u){var f=Td(e,u,1,n)-1;return l[f](a[f](u))}}function Id(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ev(){var e=hk,t=hk,r=Mc,n,a,l,c=en,u,f,m;function h(){var x=Math.min(e.length,t.length);return c!==en&&(c=BU(e[0],e[x-1])),u=x>2?qU:$U,f=m=null,v}function v(x){return x==null||isNaN(x=+x)?l:(f||(f=u(e.map(n),t,r)))(n(c(x)))}return v.invert=function(x){return c(a((m||(m=u(t,e.map(n),Gp)))(x)))},v.domain=function(x){return arguments.length?(e=Array.from(x,Wp),h()):e.slice()},v.range=function(x){return arguments.length?(t=Array.from(x),h()):t.slice()},v.rangeRound=function(x){return t=Array.from(x),r=U1,h()},v.clamp=function(x){return arguments.length?(c=x?!0:en,h()):c!==en},v.interpolate=function(x){return arguments.length?(r=x,h()):r},v.unknown=function(x){return arguments.length?(l=x,v):l},function(x,b){return n=x,a=b,h()}}function Y1(){return ev()(en,en)}function HU(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Kp(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function uc(e){return e=Kp(Math.abs(e)),e?e[1]:NaN}function UU(e,t){return function(r,n){for(var a=r.length,l=[],c=0,u=e[0],f=0;a>0&&u>0&&(f+u+1>n&&(u=Math.max(1,n-f)),l.push(r.substring(a-=u,a+u)),!((f+=u+1)>n));)u=e[c=(c+1)%e.length];return l.reverse().join(t)}}function YU(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var VU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vd(e){if(!(t=VU.exec(e)))throw new Error("invalid format: "+e);var t;return new V1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}vd.prototype=V1.prototype;function V1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}V1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function GU(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Qp;function WU(e,t){var r=Kp(e,t);if(!r)return Qp=void 0,e.toPrecision(t);var n=r[0],a=r[1],l=a-(Qp=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=n.length;return l===c?n:l>c?n+new Array(l-c+1).join("0"):l>0?n.slice(0,l)+"."+n.slice(l):"0."+new Array(1-l).join("0")+Kp(e,Math.max(0,t+l-1))[0]}function vk(e,t){var r=Kp(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const xk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:HU,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>vk(e*100,t),r:vk,s:WU,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function gk(e){return e}var bk=Array.prototype.map,yk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function KU(e){var t=e.grouping===void 0||e.thousands===void 0?gk:UU(bk.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?gk:YU(bk.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(v,x){v=vd(v);var b=v.fill,S=v.align,w=v.sign,y=v.symbol,C=v.zero,M=v.width,A=v.comma,_=v.precision,E=v.trim,T=v.type;T==="n"?(A=!0,T="g"):xk[T]||(_===void 0&&(_=12),E=!0,T="g"),(C||b==="0"&&S==="=")&&(C=!0,b="0",S="=");var P=(x&&x.prefix!==void 0?x.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():""),O=(y==="$"?n:/[%p]/.test(T)?c:"")+(x&&x.suffix!==void 0?x.suffix:""),z=xk[T],R=/[defgprs%]/.test(T);_=_===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function F(D){var X=P,W=O,Z,$,G;if(T==="c")W=z(D)+W,D="";else{D=+D;var L=D<0||1/D<0;if(D=isNaN(D)?f:z(Math.abs(D),_),E&&(D=GU(D)),L&&+D==0&&w!=="+"&&(L=!1),X=(L?w==="("?w:u:w==="-"||w==="("?"":w)+X,W=(T==="s"&&!isNaN(D)&&Qp!==void 0?yk[8+Qp/3]:"")+W+(L&&w==="("?")":""),R){for(Z=-1,$=D.length;++Z<$;)if(G=D.charCodeAt(Z),48>G||G>57){W=(G===46?a+D.slice(Z+1):D.slice(Z))+W,D=D.slice(0,Z);break}}}A&&!C&&(D=t(D,1/0));var te=X.length+D.length+W.length,xe=te<M?new Array(M-te+1).join(b):"";switch(A&&C&&(D=t(xe+D,xe.length?M-W.length:1/0),xe=""),S){case"<":D=X+D+W+xe;break;case"=":D=X+xe+D+W;break;case"^":D=xe.slice(0,te=xe.length>>1)+X+D+W+xe.slice(te);break;default:D=xe+X+D+W;break}return l(D)}return F.toString=function(){return v+""},F}function h(v,x){var b=Math.max(-8,Math.min(8,Math.floor(uc(x)/3)))*3,S=Math.pow(10,-b),w=m((v=vd(v),v.type="f",v),{suffix:yk[8+b/3]});return function(y){return w(S*y)}}return{format:m,formatPrefix:h}}var Nm,G1,QT;QU({thousands:",",grouping:[3],currency:["$",""]});function QU(e){return Nm=KU(e),G1=Nm.format,QT=Nm.formatPrefix,Nm}function XU(e){return Math.max(0,-uc(Math.abs(e)))}function ZU(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(uc(t)/3)))*3-uc(Math.abs(e)))}function JU(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,uc(t)-uc(e))+1}function XT(e,t,r,n){var a=Oy(e,t,r),l;switch(n=vd(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(l=ZU(a,c))&&(n.precision=l),QT(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(l=JU(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=l-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(l=XU(a))&&(n.precision=l-(n.type==="%")*2);break}}return G1(n)}function Xs(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ey(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return XT(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,l=n.length-1,c=n[a],u=n[l],f,m,h=10;for(u<c&&(m=c,c=u,u=m,m=a,a=l,l=m);h-- >0;){if(m=_y(c,u,r),m===f)return n[a]=c,n[l]=u,t(n);if(m>0)c=Math.floor(c/m)*m,u=Math.ceil(u/m)*m;else if(m<0)c=Math.ceil(c*m)/m,u=Math.floor(u*m)/m;else break;f=m}return e},e}function ZT(){var e=Y1();return e.copy=function(){return Id(e,ZT())},sa.apply(e,arguments),Xs(e)}function JT(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Wp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return JT(e).unknown(t)},e=arguments.length?Array.from(e,Wp):[0,1],Xs(r)}function eP(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],l=e[n],c;return l<a&&(c=r,r=n,n=c,c=a,a=l,l=c),e[r]=t.floor(a),e[n]=t.ceil(l),e}function wk(e){return Math.log(e)}function jk(e){return Math.exp(e)}function eY(e){return-Math.log(-e)}function tY(e){return-Math.exp(-e)}function rY(e){return isFinite(e)?+("1e"+e):e<0?0:e}function nY(e){return e===10?rY:e===Math.E?Math.exp:t=>Math.pow(e,t)}function aY(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Nk(e){return(t,r)=>-e(-t,r)}function W1(e){const t=e(wk,jk),r=t.domain;let n=10,a,l;function c(){return a=aY(n),l=nY(n),r()[0]<0?(a=Nk(a),l=Nk(l),e(eY,tY)):e(wk,jk),t}return t.base=function(u){return arguments.length?(n=+u,c()):n},t.domain=function(u){return arguments.length?(r(u),c()):r()},t.ticks=u=>{const f=r();let m=f[0],h=f[f.length-1];const v=h<m;v&&([m,h]=[h,m]);let x=a(m),b=a(h),S,w;const y=u==null?10:+u;let C=[];if(!(n%1)&&b-x<y){if(x=Math.floor(x),b=Math.ceil(b),m>0){for(;x<=b;++x)for(S=1;S<n;++S)if(w=x<0?S/l(-x):S*l(x),!(w<m)){if(w>h)break;C.push(w)}}else for(;x<=b;++x)for(S=n-1;S>=1;--S)if(w=x>0?S/l(-x):S*l(x),!(w<m)){if(w>h)break;C.push(w)}C.length*2<y&&(C=Ey(m,h,y))}else C=Ey(x,b,Math.min(b-x,y)).map(l);return v?C.reverse():C},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=vd(f)).precision==null&&(f.trim=!0),f=G1(f)),u===1/0)return f;const m=Math.max(1,n*u/t.ticks().length);return h=>{let v=h/l(Math.round(a(h)));return v*n<n-.5&&(v*=n),v<=m?f(h):""}},t.nice=()=>r(eP(r(),{floor:u=>l(Math.floor(a(u))),ceil:u=>l(Math.ceil(a(u)))})),t}function tP(){const e=W1(ev()).domain([1,10]);return e.copy=()=>Id(e,tP()).base(e.base()),sa.apply(e,arguments),e}function Sk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Ck(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function K1(e){var t=1,r=e(Sk(t),Ck(t));return r.constant=function(n){return arguments.length?e(Sk(t=+n),Ck(t)):t},Xs(r)}function rP(){var e=K1(ev());return e.copy=function(){return Id(e,rP()).constant(e.constant())},sa.apply(e,arguments)}function Ak(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function iY(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function sY(e){return e<0?-e*e:e*e}function Q1(e){var t=e(en,en),r=1;function n(){return r===1?e(en,en):r===.5?e(iY,sY):e(Ak(r),Ak(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Xs(t)}function X1(){var e=Q1(ev());return e.copy=function(){return Id(e,X1()).exponent(e.exponent())},sa.apply(e,arguments),e}function lY(){return X1.apply(null,arguments).exponent(.5)}function Mk(e){return Math.sign(e)*e*e}function oY(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function nP(){var e=Y1(),t=[0,1],r=!1,n;function a(l){var c=oY(e(l));return isNaN(c)?n:r?Math.round(c):c}return a.invert=function(l){return e.invert(Mk(l))},a.domain=function(l){return arguments.length?(e.domain(l),a):e.domain()},a.range=function(l){return arguments.length?(e.range((t=Array.from(l,Wp)).map(Mk)),a):t.slice()},a.rangeRound=function(l){return a.range(l).round(!0)},a.round=function(l){return arguments.length?(r=!!l,a):r},a.clamp=function(l){return arguments.length?(e.clamp(l),a):e.clamp()},a.unknown=function(l){return arguments.length?(n=l,a):n},a.copy=function(){return nP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},sa.apply(a,arguments),Xs(a)}function aP(){var e=[],t=[],r=[],n;function a(){var c=0,u=Math.max(1,t.length);for(r=new Array(u-1);++c<u;)r[c-1]=fU(e,c/u);return l}function l(c){return c==null||isNaN(c=+c)?n:t[Td(r,c)]}return l.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Fs),a()},l.range=function(c){return arguments.length?(t=Array.from(c),a()):t.slice()},l.unknown=function(c){return arguments.length?(n=c,l):n},l.quantiles=function(){return r.slice()},l.copy=function(){return aP().domain(e).range(t).unknown(n)},sa.apply(l,arguments)}function iP(){var e=0,t=1,r=1,n=[.5],a=[0,1],l;function c(f){return f!=null&&f<=f?a[Td(n,f,0,r)]:l}function u(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},c.range=function(f){return arguments.length?(r=(a=Array.from(f)).length-1,u()):a.slice()},c.invertExtent=function(f){var m=a.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},c.unknown=function(f){return arguments.length&&(l=f),c},c.thresholds=function(){return n.slice()},c.copy=function(){return iP().domain([e,t]).range(a).unknown(l)},sa.apply(Xs(c),arguments)}function sP(){var e=[.5],t=[0,1],r,n=1;function a(l){return l!=null&&l<=l?t[Td(e,l,0,n)]:r}return a.domain=function(l){return arguments.length?(e=Array.from(l),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(l){return arguments.length?(t=Array.from(l),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},a.unknown=function(l){return arguments.length?(r=l,a):r},a.copy=function(){return sP().domain(e).range(t).unknown(r)},sa.apply(a,arguments)}const sb=new Date,lb=new Date;function Mr(e,t,r,n){function a(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return a.floor=l=>(e(l=new Date(+l)),l),a.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),a.round=l=>{const c=a(l),u=a.ceil(l);return l-c<u-l?c:u},a.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),a.range=(l,c,u)=>{const f=[];if(l=a.ceil(l),u=u==null?1:Math.floor(u),!(l<c)||!(u>0))return f;let m;do f.push(m=new Date(+l)),t(l,u),e(l);while(m<l&&l<c);return f},a.filter=l=>Mr(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!l(c););else for(;--u>=0;)for(;t(c,1),!l(c););}),r&&(a.count=(l,c)=>(sb.setTime(+l),lb.setTime(+c),e(sb),e(lb),Math.floor(r(sb,lb))),a.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?a.filter(n?c=>n(c)%l===0:c=>a.count(0,c)%l===0):a)),a}const Xp=Mr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Xp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Mr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Xp);Xp.range;const Ti=1e3,ta=Ti*60,Pi=ta*60,Ui=Pi*24,Z1=Ui*7,kk=Ui*30,ob=Ui*365,Rl=Mr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ti)},(e,t)=>(t-e)/Ti,e=>e.getUTCSeconds());Rl.range;const J1=Mr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ti)},(e,t)=>{e.setTime(+e+t*ta)},(e,t)=>(t-e)/ta,e=>e.getMinutes());J1.range;const ew=Mr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ta)},(e,t)=>(t-e)/ta,e=>e.getUTCMinutes());ew.range;const tw=Mr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ti-e.getMinutes()*ta)},(e,t)=>{e.setTime(+e+t*Pi)},(e,t)=>(t-e)/Pi,e=>e.getHours());tw.range;const rw=Mr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Pi)},(e,t)=>(t-e)/Pi,e=>e.getUTCHours());rw.range;const Rd=Mr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ta)/Ui,e=>e.getDate()-1);Rd.range;const tv=Mr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ui,e=>e.getUTCDate()-1);tv.range;const lP=Mr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ui,e=>Math.floor(e/Ui));lP.range;function ro(e){return Mr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ta)/Z1)}const rv=ro(0),Zp=ro(1),cY=ro(2),uY=ro(3),dc=ro(4),dY=ro(5),fY=ro(6);rv.range;Zp.range;cY.range;uY.range;dc.range;dY.range;fY.range;function no(e){return Mr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Z1)}const nv=no(0),Jp=no(1),mY=no(2),pY=no(3),fc=no(4),hY=no(5),vY=no(6);nv.range;Jp.range;mY.range;pY.range;fc.range;hY.range;vY.range;const nw=Mr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());nw.range;const aw=Mr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());aw.range;const Yi=Mr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Yi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Yi.range;const Vi=Mr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Vi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Vi.range;function oP(e,t,r,n,a,l){const c=[[Rl,1,Ti],[Rl,5,5*Ti],[Rl,15,15*Ti],[Rl,30,30*Ti],[l,1,ta],[l,5,5*ta],[l,15,15*ta],[l,30,30*ta],[a,1,Pi],[a,3,3*Pi],[a,6,6*Pi],[a,12,12*Pi],[n,1,Ui],[n,2,2*Ui],[r,1,Z1],[t,1,kk],[t,3,3*kk],[e,1,ob]];function u(m,h,v){const x=h<m;x&&([m,h]=[h,m]);const b=v&&typeof v.range=="function"?v:f(m,h,v),S=b?b.range(m,+h+1):[];return x?S.reverse():S}function f(m,h,v){const x=Math.abs(h-m)/v,b=F1(([,,y])=>y).right(c,x);if(b===c.length)return e.every(Oy(m/ob,h/ob,v));if(b===0)return Xp.every(Math.max(Oy(m,h,v),1));const[S,w]=c[x/c[b-1][2]<c[b][2]/x?b-1:b];return S.every(w)}return[u,f]}const[xY,gY]=oP(Vi,aw,nv,lP,rw,ew),[bY,yY]=oP(Yi,nw,rv,Rd,tw,J1);function cb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ub(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Lu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function wY(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,l=e.days,c=e.shortDays,u=e.months,f=e.shortMonths,m=zu(a),h=Fu(a),v=zu(l),x=Fu(l),b=zu(c),S=Fu(c),w=zu(u),y=Fu(u),C=zu(f),M=Fu(f),A={a:G,A:L,b:te,B:xe,c:null,d:Pk,e:Pk,f:UY,g:eV,G:rV,H:$Y,I:qY,j:HY,L:cP,m:YY,M:VY,p:B,q:ae,Q:Lk,s:zk,S:GY,u:WY,U:KY,V:QY,w:XY,W:ZY,x:null,X:null,y:JY,Y:tV,Z:nV,"%":Rk},_={a:ge,A:fe,b:Oe,B:ye,c:null,d:Ik,e:Ik,f:lV,g:xV,G:bV,H:aV,I:iV,j:sV,L:dP,m:oV,M:cV,p:he,q:Se,Q:Lk,s:zk,S:uV,u:dV,U:fV,V:mV,w:pV,W:hV,x:null,X:null,y:vV,Y:gV,Z:yV,"%":Rk},E={a:R,A:F,b:D,B:X,c:W,d:Ok,e:Ok,f:LY,g:_k,G:Ek,H:Tk,I:Tk,j:TY,L:RY,m:OY,M:PY,p:z,q:_Y,Q:FY,s:BY,S:IY,u:AY,U:MY,V:kY,w:CY,W:DY,x:Z,X:$,y:_k,Y:Ek,Z:EY,"%":zY};A.x=T(r,A),A.X=T(n,A),A.c=T(t,A),_.x=T(r,_),_.X=T(n,_),_.c=T(t,_);function T(K,Ee){return function($e){var ve=[],tt=-1,Ye=0,yt=K.length,xt,nt,Ie;for($e instanceof Date||($e=new Date(+$e));++tt<yt;)K.charCodeAt(tt)===37&&(ve.push(K.slice(Ye,tt)),(nt=Dk[xt=K.charAt(++tt)])!=null?xt=K.charAt(++tt):nt=xt==="e"?" ":"0",(Ie=Ee[xt])&&(xt=Ie($e,nt)),ve.push(xt),Ye=tt+1);return ve.push(K.slice(Ye,tt)),ve.join("")}}function P(K,Ee){return function($e){var ve=Lu(1900,void 0,1),tt=O(ve,K,$e+="",0),Ye,yt;if(tt!=$e.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(Ee&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Ye=ub(Lu(ve.y,0,1)),yt=Ye.getUTCDay(),Ye=yt>4||yt===0?Jp.ceil(Ye):Jp(Ye),Ye=tv.offset(Ye,(ve.V-1)*7),ve.y=Ye.getUTCFullYear(),ve.m=Ye.getUTCMonth(),ve.d=Ye.getUTCDate()+(ve.w+6)%7):(Ye=cb(Lu(ve.y,0,1)),yt=Ye.getDay(),Ye=yt>4||yt===0?Zp.ceil(Ye):Zp(Ye),Ye=Rd.offset(Ye,(ve.V-1)*7),ve.y=Ye.getFullYear(),ve.m=Ye.getMonth(),ve.d=Ye.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),yt="Z"in ve?ub(Lu(ve.y,0,1)).getUTCDay():cb(Lu(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(yt+5)%7:ve.w+ve.U*7-(yt+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,ub(ve)):cb(ve)}}function O(K,Ee,$e,ve){for(var tt=0,Ye=Ee.length,yt=$e.length,xt,nt;tt<Ye;){if(ve>=yt)return-1;if(xt=Ee.charCodeAt(tt++),xt===37){if(xt=Ee.charAt(tt++),nt=E[xt in Dk?Ee.charAt(tt++):xt],!nt||(ve=nt(K,$e,ve))<0)return-1}else if(xt!=$e.charCodeAt(ve++))return-1}return ve}function z(K,Ee,$e){var ve=m.exec(Ee.slice($e));return ve?(K.p=h.get(ve[0].toLowerCase()),$e+ve[0].length):-1}function R(K,Ee,$e){var ve=b.exec(Ee.slice($e));return ve?(K.w=S.get(ve[0].toLowerCase()),$e+ve[0].length):-1}function F(K,Ee,$e){var ve=v.exec(Ee.slice($e));return ve?(K.w=x.get(ve[0].toLowerCase()),$e+ve[0].length):-1}function D(K,Ee,$e){var ve=C.exec(Ee.slice($e));return ve?(K.m=M.get(ve[0].toLowerCase()),$e+ve[0].length):-1}function X(K,Ee,$e){var ve=w.exec(Ee.slice($e));return ve?(K.m=y.get(ve[0].toLowerCase()),$e+ve[0].length):-1}function W(K,Ee,$e){return O(K,t,Ee,$e)}function Z(K,Ee,$e){return O(K,r,Ee,$e)}function $(K,Ee,$e){return O(K,n,Ee,$e)}function G(K){return c[K.getDay()]}function L(K){return l[K.getDay()]}function te(K){return f[K.getMonth()]}function xe(K){return u[K.getMonth()]}function B(K){return a[+(K.getHours()>=12)]}function ae(K){return 1+~~(K.getMonth()/3)}function ge(K){return c[K.getUTCDay()]}function fe(K){return l[K.getUTCDay()]}function Oe(K){return f[K.getUTCMonth()]}function ye(K){return u[K.getUTCMonth()]}function he(K){return a[+(K.getUTCHours()>=12)]}function Se(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var Ee=T(K+="",A);return Ee.toString=function(){return K},Ee},parse:function(K){var Ee=P(K+="",!1);return Ee.toString=function(){return K},Ee},utcFormat:function(K){var Ee=T(K+="",_);return Ee.toString=function(){return K},Ee},utcParse:function(K){var Ee=P(K+="",!0);return Ee.toString=function(){return K},Ee}}}var Dk={"-":"",_:" ",0:"0"},Pr=/^\s*\d+/,jY=/^%/,NY=/[\\^$*+?|[\]().{}]/g;function Nt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",l=a.length;return n+(l<r?new Array(r-l+1).join(t)+a:a)}function SY(e){return e.replace(NY,"\\$&")}function zu(e){return new RegExp("^(?:"+e.map(SY).join("|")+")","i")}function Fu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function CY(e,t,r){var n=Pr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function AY(e,t,r){var n=Pr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function MY(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function kY(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function DY(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Ek(e,t,r){var n=Pr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function _k(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function EY(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function _Y(e,t,r){var n=Pr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function OY(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Ok(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function TY(e,t,r){var n=Pr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Tk(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function PY(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function IY(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function RY(e,t,r){var n=Pr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function LY(e,t,r){var n=Pr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function zY(e,t,r){var n=jY.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function FY(e,t,r){var n=Pr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function BY(e,t,r){var n=Pr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Pk(e,t){return Nt(e.getDate(),t,2)}function $Y(e,t){return Nt(e.getHours(),t,2)}function qY(e,t){return Nt(e.getHours()%12||12,t,2)}function HY(e,t){return Nt(1+Rd.count(Yi(e),e),t,3)}function cP(e,t){return Nt(e.getMilliseconds(),t,3)}function UY(e,t){return cP(e,t)+"000"}function YY(e,t){return Nt(e.getMonth()+1,t,2)}function VY(e,t){return Nt(e.getMinutes(),t,2)}function GY(e,t){return Nt(e.getSeconds(),t,2)}function WY(e){var t=e.getDay();return t===0?7:t}function KY(e,t){return Nt(rv.count(Yi(e)-1,e),t,2)}function uP(e){var t=e.getDay();return t>=4||t===0?dc(e):dc.ceil(e)}function QY(e,t){return e=uP(e),Nt(dc.count(Yi(e),e)+(Yi(e).getDay()===4),t,2)}function XY(e){return e.getDay()}function ZY(e,t){return Nt(Zp.count(Yi(e)-1,e),t,2)}function JY(e,t){return Nt(e.getFullYear()%100,t,2)}function eV(e,t){return e=uP(e),Nt(e.getFullYear()%100,t,2)}function tV(e,t){return Nt(e.getFullYear()%1e4,t,4)}function rV(e,t){var r=e.getDay();return e=r>=4||r===0?dc(e):dc.ceil(e),Nt(e.getFullYear()%1e4,t,4)}function nV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Nt(t/60|0,"0",2)+Nt(t%60,"0",2)}function Ik(e,t){return Nt(e.getUTCDate(),t,2)}function aV(e,t){return Nt(e.getUTCHours(),t,2)}function iV(e,t){return Nt(e.getUTCHours()%12||12,t,2)}function sV(e,t){return Nt(1+tv.count(Vi(e),e),t,3)}function dP(e,t){return Nt(e.getUTCMilliseconds(),t,3)}function lV(e,t){return dP(e,t)+"000"}function oV(e,t){return Nt(e.getUTCMonth()+1,t,2)}function cV(e,t){return Nt(e.getUTCMinutes(),t,2)}function uV(e,t){return Nt(e.getUTCSeconds(),t,2)}function dV(e){var t=e.getUTCDay();return t===0?7:t}function fV(e,t){return Nt(nv.count(Vi(e)-1,e),t,2)}function fP(e){var t=e.getUTCDay();return t>=4||t===0?fc(e):fc.ceil(e)}function mV(e,t){return e=fP(e),Nt(fc.count(Vi(e),e)+(Vi(e).getUTCDay()===4),t,2)}function pV(e){return e.getUTCDay()}function hV(e,t){return Nt(Jp.count(Vi(e)-1,e),t,2)}function vV(e,t){return Nt(e.getUTCFullYear()%100,t,2)}function xV(e,t){return e=fP(e),Nt(e.getUTCFullYear()%100,t,2)}function gV(e,t){return Nt(e.getUTCFullYear()%1e4,t,4)}function bV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?fc(e):fc.ceil(e),Nt(e.getUTCFullYear()%1e4,t,4)}function yV(){return"+0000"}function Rk(){return"%"}function Lk(e){return+e}function zk(e){return Math.floor(+e/1e3)}var qo,mP,pP;wV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function wV(e){return qo=wY(e),mP=qo.format,qo.parse,pP=qo.utcFormat,qo.utcParse,qo}function jV(e){return new Date(e)}function NV(e){return e instanceof Date?+e:+new Date(+e)}function iw(e,t,r,n,a,l,c,u,f,m){var h=Y1(),v=h.invert,x=h.domain,b=m(".%L"),S=m(":%S"),w=m("%I:%M"),y=m("%I %p"),C=m("%a %d"),M=m("%b %d"),A=m("%B"),_=m("%Y");function E(T){return(f(T)<T?b:u(T)<T?S:c(T)<T?w:l(T)<T?y:n(T)<T?a(T)<T?C:M:r(T)<T?A:_)(T)}return h.invert=function(T){return new Date(v(T))},h.domain=function(T){return arguments.length?x(Array.from(T,NV)):x().map(jV)},h.ticks=function(T){var P=x();return e(P[0],P[P.length-1],T??10)},h.tickFormat=function(T,P){return P==null?E:m(P)},h.nice=function(T){var P=x();return(!T||typeof T.range!="function")&&(T=t(P[0],P[P.length-1],T??10)),T?x(eP(P,T)):h},h.copy=function(){return Id(h,iw(e,t,r,n,a,l,c,u,f,m))},h}function SV(){return sa.apply(iw(bY,yY,Yi,nw,rv,Rd,tw,J1,Rl,mP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function CV(){return sa.apply(iw(xY,gY,Vi,aw,nv,tv,rw,ew,Rl,pP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function av(){var e=0,t=1,r,n,a,l,c=en,u=!1,f;function m(v){return v==null||isNaN(v=+v)?f:c(a===0?.5:(v=(l(v)-r)*a,u?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t]=v,r=l(e=+e),n=l(t=+t),a=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(v){return arguments.length?(u=!!v,m):u},m.interpolator=function(v){return arguments.length?(c=v,m):c};function h(v){return function(x){var b,S;return arguments.length?([b,S]=x,c=v(b,S),m):[c(0),c(1)]}}return m.range=h(Mc),m.rangeRound=h(U1),m.unknown=function(v){return arguments.length?(f=v,m):f},function(v){return l=v,r=v(e),n=v(t),a=r===n?0:1/(n-r),m}}function Zs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function hP(){var e=Xs(av()(en));return e.copy=function(){return Zs(e,hP())},Ji.apply(e,arguments)}function vP(){var e=W1(av()).domain([1,10]);return e.copy=function(){return Zs(e,vP()).base(e.base())},Ji.apply(e,arguments)}function xP(){var e=K1(av());return e.copy=function(){return Zs(e,xP()).constant(e.constant())},Ji.apply(e,arguments)}function sw(){var e=Q1(av());return e.copy=function(){return Zs(e,sw()).exponent(e.exponent())},Ji.apply(e,arguments)}function AV(){return sw.apply(null,arguments).exponent(.5)}function gP(){var e=[],t=en;function r(n){if(n!=null&&!isNaN(n=+n))return t((Td(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Fs),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,l)=>dU(e,l/n))},r.copy=function(){return gP(t).domain(e)},Ji.apply(r,arguments)}function iv(){var e=0,t=.5,r=1,n=1,a,l,c,u,f,m=en,h,v=!1,x;function b(w){return isNaN(w=+w)?x:(w=.5+((w=+h(w))-l)*(n*w<n*l?u:f),m(v?Math.max(0,Math.min(1,w)):w))}b.domain=function(w){return arguments.length?([e,t,r]=w,a=h(e=+e),l=h(t=+t),c=h(r=+r),u=a===l?0:.5/(l-a),f=l===c?0:.5/(c-l),n=l<a?-1:1,b):[e,t,r]},b.clamp=function(w){return arguments.length?(v=!!w,b):v},b.interpolator=function(w){return arguments.length?(m=w,b):m};function S(w){return function(y){var C,M,A;return arguments.length?([C,M,A]=y,m=zU(w,[C,M,A]),b):[m(0),m(.5),m(1)]}}return b.range=S(Mc),b.rangeRound=S(U1),b.unknown=function(w){return arguments.length?(x=w,b):x},function(w){return h=w,a=w(e),l=w(t),c=w(r),u=a===l?0:.5/(l-a),f=l===c?0:.5/(c-l),n=l<a?-1:1,b}}function bP(){var e=Xs(iv()(en));return e.copy=function(){return Zs(e,bP())},Ji.apply(e,arguments)}function yP(){var e=W1(iv()).domain([.1,1,10]);return e.copy=function(){return Zs(e,yP()).base(e.base())},Ji.apply(e,arguments)}function wP(){var e=K1(iv());return e.copy=function(){return Zs(e,wP()).constant(e.constant())},Ji.apply(e,arguments)}function lw(){var e=Q1(iv());return e.copy=function(){return Zs(e,lw()).exponent(e.exponent())},Ji.apply(e,arguments)}function MV(){return lw.apply(null,arguments).exponent(.5)}const Qu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$1,scaleDiverging:bP,scaleDivergingLog:yP,scaleDivergingPow:lw,scaleDivergingSqrt:MV,scaleDivergingSymlog:wP,scaleIdentity:JT,scaleImplicit:Ty,scaleLinear:ZT,scaleLog:tP,scaleOrdinal:B1,scalePoint:pU,scalePow:X1,scaleQuantile:aP,scaleQuantize:iP,scaleRadial:nP,scaleSequential:hP,scaleSequentialLog:vP,scaleSequentialPow:sw,scaleSequentialQuantile:gP,scaleSequentialSqrt:AV,scaleSequentialSymlog:xP,scaleSqrt:lY,scaleSymlog:rP,scaleThreshold:sP,scaleTime:SV,scaleUtc:CV,tickFormat:XT},Symbol.toStringTag,{value:"Module"}));var Js=e=>e.chartData,ow=ne([Js],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),jP=(e,t,r,n)=>n?ow(e):Js(e);function Gi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Rt(t)&&Rt(r))return!0}return!1}function Fk(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function NP(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,l;if(Rt(r))a=r;else if(typeof r=="function")return;if(Rt(n))l=n;else if(typeof n=="function")return;var c=[a,l];if(Gi(c))return c}}function kV(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Gi(n))return Fk(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,l]=e,c,u;if(a==="auto")t!=null&&(c=Math.min(...t));else if(Xe(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[0]))}catch{}else if(typeof a=="string"&&KA.test(a)){var f=KA.exec(a);if(f==null||f[1]==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t?.[0];if(l==="auto")t!=null&&(u=Math.max(...t));else if(Xe(l))u=l;else if(typeof l=="function")try{t!=null&&(u=l(t?.[1]))}catch{}else if(typeof l=="string"&&QA.test(l)){var h=QA.exec(l);if(h==null||h[1]==null||t==null)u=void 0;else{var v=+h[1];u=t[1]+v}}else u=t?.[1];var x=[c,u];if(Gi(x))return t==null?x:Fk(x,t,r)}}}var kc=1e9,DV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},uw,Zt=!0,aa="[DecimalError] ",ql=aa+"Invalid argument: ",cw=aa+"Exponent out of range: ",Dc=Math.floor,kl=Math.pow,EV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Tn,_r=1e7,Vt=7,SP=9007199254740991,eh=Dc(SP/Vt),Te={};Te.absoluteValue=Te.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Te.comparedTo=Te.cmp=function(e){var t,r,n,a,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(n=l.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return n===a?0:n>a^l.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Vt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Te.dividedBy=Te.div=function(e){return Li(this,new this.constructor(e))};Te.dividedToIntegerBy=Te.idiv=function(e){var t=this,r=t.constructor;return Ft(Li(t,new r(e),0,1),r.precision)};Te.equals=Te.eq=function(e){return!this.cmp(e)};Te.exponent=function(){return jr(this)};Te.greaterThan=Te.gt=function(e){return this.cmp(e)>0};Te.greaterThanOrEqualTo=Te.gte=function(e){return this.cmp(e)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(e){return this.cmp(e)<0};Te.lessThanOrEqualTo=Te.lte=function(e){return this.cmp(e)<1};Te.logarithm=Te.log=function(e){var t,r=this,n=r.constructor,a=n.precision,l=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Tn))throw Error(aa+"NaN");if(r.s<1)throw Error(aa+(r.s?"NaN":"-Infinity"));return r.eq(Tn)?new n(0):(Zt=!1,t=Li(xd(r,l),xd(e,l),l),Zt=!0,Ft(t,a))};Te.minus=Te.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?MP(t,e):CP(t,(e.s=-e.s,e))};Te.modulo=Te.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(aa+"NaN");return r.s?(Zt=!1,t=Li(r,e,0,1).times(e),Zt=!0,r.minus(t)):Ft(new n(r),a)};Te.naturalExponential=Te.exp=function(){return AP(this)};Te.naturalLogarithm=Te.ln=function(){return xd(this)};Te.negated=Te.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Te.plus=Te.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?CP(t,e):MP(t,(e.s=-e.s,e))};Te.precision=Te.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ql+e);if(t=jr(a)+1,n=a.d.length-1,r=n*Vt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Te.squareRoot=Te.sqrt=function(){var e,t,r,n,a,l,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(aa+"NaN")}for(e=jr(u),Zt=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=Ga(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Dc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(a.toString()),r=f.precision,a=c=r+3;;)if(l=n,n=l.plus(Li(u,l,c+2)).times(.5),Ga(l.d).slice(0,c)===(t=Ga(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),a==c&&t=="4999"){if(Ft(l,r+1,0),l.times(l).eq(u)){n=l;break}}else if(t!="9999")break;c+=4}return Zt=!0,Ft(n,r)};Te.times=Te.mul=function(e){var t,r,n,a,l,c,u,f,m,h=this,v=h.constructor,x=h.d,b=(e=new v(e)).d;if(!h.s||!e.s)return new v(0);for(e.s*=h.s,r=h.e+e.e,f=x.length,m=b.length,f<m&&(l=x,x=b,b=l,c=f,f=m,m=c),l=[],c=f+m,n=c;n--;)l.push(0);for(n=m;--n>=0;){for(t=0,a=f+n;a>n;)u=l[a]+b[n]*x[a-n-1]+t,l[a--]=u%_r|0,t=u/_r|0;l[a]=(l[a]+t)%_r|0}for(;!l[--c];)l.pop();return t?++r:l.shift(),e.d=l,e.e=r,Zt?Ft(e,v.precision):e};Te.toDecimalPlaces=Te.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ti(e,0,kc),t===void 0?t=n.rounding:ti(t,0,8),Ft(r,e+jr(r)+1,t))};Te.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Xl(n,!0):(ti(e,0,kc),t===void 0?t=a.rounding:ti(t,0,8),n=Ft(new a(n),e+1,t),r=Xl(n,!0,e+1)),r};Te.toFixed=function(e,t){var r,n,a=this,l=a.constructor;return e===void 0?Xl(a):(ti(e,0,kc),t===void 0?t=l.rounding:ti(t,0,8),n=Ft(new l(a),e+jr(a)+1,t),r=Xl(n.abs(),!1,e+jr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Te.toInteger=Te.toint=function(){var e=this,t=e.constructor;return Ft(new t(e),jr(e)+1,t.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(e){var t,r,n,a,l,c,u=this,f=u.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(Tn);if(u=new f(u),!u.s){if(e.s<1)throw Error(aa+"Infinity");return u}if(u.eq(Tn))return u;if(n=f.precision,e.eq(Tn))return Ft(u,n);if(t=e.e,r=e.d.length-1,c=t>=r,l=u.s,c){if((r=h<0?-h:h)<=SP){for(a=new f(Tn),t=Math.ceil(n/Vt+4),Zt=!1;r%2&&(a=a.times(u),$k(a.d,t)),r=Dc(r/2),r!==0;)u=u.times(u),$k(u.d,t);return Zt=!0,e.s<0?new f(Tn).div(a):Ft(a,n)}}else if(l<0)throw Error(aa+"NaN");return l=l<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,Zt=!1,a=e.times(xd(u,n+m)),Zt=!0,a=AP(a),a.s=l,a};Te.toPrecision=function(e,t){var r,n,a=this,l=a.constructor;return e===void 0?(r=jr(a),n=Xl(a,r<=l.toExpNeg||r>=l.toExpPos)):(ti(e,1,kc),t===void 0?t=l.rounding:ti(t,0,8),a=Ft(new l(a),e,t),r=jr(a),n=Xl(a,e<=r||r<=l.toExpNeg,e)),n};Te.toSignificantDigits=Te.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ti(e,1,kc),t===void 0?t=n.rounding:ti(t,0,8)),Ft(new n(r),e,t)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=jr(e),r=e.constructor;return Xl(e,t<=r.toExpNeg||t>=r.toExpPos)};function CP(e,t){var r,n,a,l,c,u,f,m,h=e.constructor,v=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Zt?Ft(t,v):t;if(f=e.d,m=t.d,c=e.e,a=t.e,f=f.slice(),l=c-a,l){for(l<0?(n=f,l=-l,u=m.length):(n=m,a=c,u=f.length),c=Math.ceil(v/Vt),u=c>u?c+1:u+1,l>u&&(l=u,n.length=1),n.reverse();l--;)n.push(0);n.reverse()}for(u=f.length,l=m.length,u-l<0&&(l=u,n=m,m=f,f=n),r=0;l;)r=(f[--l]=f[l]+m[l]+r)/_r|0,f[l]%=_r;for(r&&(f.unshift(r),++a),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=a,Zt?Ft(t,v):t}function ti(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ql+e)}function Ga(e){var t,r,n,a=e.length-1,l="",c=e[0];if(a>0){for(l+=c,t=1;t<a;t++)n=e[t]+"",r=Vt-n.length,r&&(l+=Is(r)),l+=n;c=e[t],n=c+"",r=Vt-n.length,r&&(l+=Is(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var Li=(function(){function e(n,a){var l,c=0,u=n.length;for(n=n.slice();u--;)l=n[u]*a+c,n[u]=l%_r|0,c=l/_r|0;return c&&n.unshift(c),n}function t(n,a,l,c){var u,f;if(l!=c)f=l>c?1:-1;else for(u=f=0;u<l;u++)if(n[u]!=a[u]){f=n[u]>a[u]?1:-1;break}return f}function r(n,a,l){for(var c=0;l--;)n[l]-=c,c=n[l]<a[l]?1:0,n[l]=c*_r+n[l]-a[l];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,l,c){var u,f,m,h,v,x,b,S,w,y,C,M,A,_,E,T,P,O,z=n.constructor,R=n.s==a.s?1:-1,F=n.d,D=a.d;if(!n.s)return new z(n);if(!a.s)throw Error(aa+"Division by zero");for(f=n.e-a.e,P=D.length,E=F.length,b=new z(R),S=b.d=[],m=0;D[m]==(F[m]||0);)++m;if(D[m]>(F[m]||0)&&--f,l==null?M=l=z.precision:c?M=l+(jr(n)-jr(a))+1:M=l,M<0)return new z(0);if(M=M/Vt+2|0,m=0,P==1)for(h=0,D=D[0],M++;(m<E||h)&&M--;m++)A=h*_r+(F[m]||0),S[m]=A/D|0,h=A%D|0;else{for(h=_r/(D[0]+1)|0,h>1&&(D=e(D,h),F=e(F,h),P=D.length,E=F.length),_=P,w=F.slice(0,P),y=w.length;y<P;)w[y++]=0;O=D.slice(),O.unshift(0),T=D[0],D[1]>=_r/2&&++T;do h=0,u=t(D,w,P,y),u<0?(C=w[0],P!=y&&(C=C*_r+(w[1]||0)),h=C/T|0,h>1?(h>=_r&&(h=_r-1),v=e(D,h),x=v.length,y=w.length,u=t(v,w,x,y),u==1&&(h--,r(v,P<x?O:D,x))):(h==0&&(u=h=1),v=D.slice()),x=v.length,x<y&&v.unshift(0),r(w,v,y),u==-1&&(y=w.length,u=t(D,w,P,y),u<1&&(h++,r(w,P<y?O:D,y))),y=w.length):u===0&&(h++,w=[0]),S[m++]=h,u&&w[0]?w[y++]=F[_]||0:(w=[F[_]],y=1);while((_++<E||w[0]!==void 0)&&M--)}return S[0]||S.shift(),b.e=f,Ft(b,c?l+jr(b)+1:l)}})();function AP(e,t){var r,n,a,l,c,u,f=0,m=0,h=e.constructor,v=h.precision;if(jr(e)>16)throw Error(cw+jr(e));if(!e.s)return new h(Tn);for(Zt=!1,u=v,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(n=Math.log(kl(2,m))/Math.LN10*2+5|0,u+=n,r=a=l=new h(Tn),h.precision=u;;){if(a=Ft(a.times(e),u),r=r.times(++f),c=l.plus(Li(a,r,u)),Ga(c.d).slice(0,u)===Ga(l.d).slice(0,u)){for(;m--;)l=Ft(l.times(l),u);return h.precision=v,t==null?(Zt=!0,Ft(l,v)):l}l=c}}function jr(e){for(var t=e.e*Vt,r=e.d[0];r>=10;r/=10)t++;return t}function db(e,t,r){if(t>e.LN10.sd())throw Zt=!0,r&&(e.precision=r),Error(aa+"LN10 precision limit exceeded");return Ft(new e(e.LN10),t)}function Is(e){for(var t="";e--;)t+="0";return t}function xd(e,t){var r,n,a,l,c,u,f,m,h,v=1,x=10,b=e,S=b.d,w=b.constructor,y=w.precision;if(b.s<1)throw Error(aa+(b.s?"NaN":"-Infinity"));if(b.eq(Tn))return new w(0);if(t==null?(Zt=!1,m=y):m=t,b.eq(10))return t==null&&(Zt=!0),db(w,m);if(m+=x,w.precision=m,r=Ga(S),n=r.charAt(0),l=jr(b),Math.abs(l)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(e),r=Ga(b.d),n=r.charAt(0),v++;l=jr(b),n>1?(b=new w("0."+r),l++):b=new w(n+"."+r.slice(1))}else return f=db(w,m+2,y).times(l+""),b=xd(new w(n+"."+r.slice(1)),m-x).plus(f),w.precision=y,t==null?(Zt=!0,Ft(b,y)):b;for(u=c=b=Li(b.minus(Tn),b.plus(Tn),m),h=Ft(b.times(b),m),a=3;;){if(c=Ft(c.times(h),m),f=u.plus(Li(c,new w(a),m)),Ga(f.d).slice(0,m)===Ga(u.d).slice(0,m))return u=u.times(2),l!==0&&(u=u.plus(db(w,m+2,y).times(l+""))),u=Li(u,new w(v),m),w.precision=y,t==null?(Zt=!0,Ft(u,y)):u;u=f,a+=2}}function Bk(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Dc(r/Vt),e.d=[],n=(r+1)%Vt,r<0&&(n+=Vt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Vt;n<a;)e.d.push(+t.slice(n,n+=Vt));t=t.slice(n),n=Vt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Zt&&(e.e>eh||e.e<-eh))throw Error(cw+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ft(e,t,r){var n,a,l,c,u,f,m,h,v=e.d;for(c=1,l=v[0];l>=10;l/=10)c++;if(n=t-c,n<0)n+=Vt,a=t,m=v[h=0];else{if(h=Math.ceil((n+1)/Vt),l=v.length,h>=l)return e;for(m=l=v[h],c=1;l>=10;l/=10)c++;n%=Vt,a=n-Vt+c}if(r!==void 0&&(l=kl(10,c-a-1),u=m/l%10|0,f=t<0||v[h+1]!==void 0||m%l,f=r<4?(u||f)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||f||r==6&&(n>0?a>0?m/kl(10,c-a):0:v[h-1])%10&1||r==(e.s<0?8:7))),t<1||!v[0])return f?(l=jr(e),v.length=1,t=t-l-1,v[0]=kl(10,(Vt-t%Vt)%Vt),e.e=Dc(-t/Vt)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(n==0?(v.length=h,l=1,h--):(v.length=h+1,l=kl(10,Vt-n),v[h]=a>0?(m/kl(10,c-a)%kl(10,a)|0)*l:0),f)for(;;)if(h==0){(v[0]+=l)==_r&&(v[0]=1,++e.e);break}else{if(v[h]+=l,v[h]!=_r)break;v[h--]=0,l=1}for(n=v.length;v[--n]===0;)v.pop();if(Zt&&(e.e>eh||e.e<-eh))throw Error(cw+jr(e));return e}function MP(e,t){var r,n,a,l,c,u,f,m,h,v,x=e.constructor,b=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Zt?Ft(t,b):t;if(f=e.d,v=t.d,n=t.e,m=e.e,f=f.slice(),c=m-n,c){for(h=c<0,h?(r=f,c=-c,u=v.length):(r=v,n=m,u=f.length),a=Math.max(Math.ceil(b/Vt),u)+2,c>a&&(c=a,r.length=1),r.reverse(),a=c;a--;)r.push(0);r.reverse()}else{for(a=f.length,u=v.length,h=a<u,h&&(u=a),a=0;a<u;a++)if(f[a]!=v[a]){h=f[a]<v[a];break}c=0}for(h&&(r=f,f=v,v=r,t.s=-t.s),u=f.length,a=v.length-u;a>0;--a)f[u++]=0;for(a=v.length;a>c;){if(f[--a]<v[a]){for(l=a;l&&f[--l]===0;)f[l]=_r-1;--f[l],f[a]+=_r}f[a]-=v[a]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,Zt?Ft(t,b):t):new x(0)}function Xl(e,t,r){var n,a=jr(e),l=Ga(e.d),c=l.length;return t?(r&&(n=r-c)>0?l=l.charAt(0)+"."+l.slice(1)+Is(n):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(a<0?"e":"e+")+a):a<0?(l="0."+Is(-a-1)+l,r&&(n=r-c)>0&&(l+=Is(n))):a>=c?(l+=Is(a+1-c),r&&(n=r-a-1)>0&&(l=l+"."+Is(n))):((n=a+1)<c&&(l=l.slice(0,n)+"."+l.slice(n)),r&&(n=r-c)>0&&(a+1===c&&(l+="."),l+=Is(n))),e.s<0?"-"+l:l}function $k(e,t){if(e.length>t)return e.length=t,!0}function kP(e){var t,r,n;function a(l){var c=this;if(!(c instanceof a))return new a(l);if(c.constructor=a,l instanceof a){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(ql+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return Bk(c,l.toString())}else if(typeof l!="string")throw Error(ql+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,EV.test(l))Bk(c,l);else throw Error(ql+l)}if(a.prototype=Te,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=kP,a.config=a.set=_V,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function _V(e){if(!e||typeof e!="object")throw Error(aa+"Object expected");var t,r,n,a=["precision",1,kc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Dc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(ql+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ql+r+": "+n);return this}var uw=kP(DV);Tn=new uw(1);const Et=uw;function DP(e){var t;return e===0?t=1:t=Math.floor(new Et(e).abs().log(10).toNumber())+1,t}function EP(e,t,r){for(var n=new Et(e),a=0,l=[];n.lt(t)&&a<1e5;)l.push(n.toNumber()),n=n.add(r),a++;return l}var _P=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},OP=(e,t,r)=>{if(e.lte(0))return new Et(0);var n=DP(e.toNumber()),a=new Et(10).pow(n),l=e.div(a),c=n!==1?.05:.1,u=new Et(Math.ceil(l.div(c).toNumber())).add(r).mul(c),f=u.mul(a);return t?new Et(f.toNumber()):new Et(Math.ceil(f.toNumber()))},OV=(e,t,r)=>{var n=new Et(1),a=new Et(e);if(!a.isint()&&r){var l=Math.abs(e);l<1?(n=new Et(10).pow(DP(e)-1),a=new Et(Math.floor(a.div(n).toNumber())).mul(n)):l>1&&(a=new Et(Math.floor(e)))}else e===0?a=new Et(Math.floor((t-1)/2)):r||(a=new Et(Math.floor(e)));for(var c=Math.floor((t-1)/2),u=[],f=0;f<t;f++)u.push(a.add(new Et(f-c).mul(n)).toNumber());return u},TP=function(t,r,n,a){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Et(0),tickMin:new Et(0),tickMax:new Et(0)};var c=OP(new Et(r).sub(t).div(n-1),a,l),u;t<=0&&r>=0?u=new Et(0):(u=new Et(t).add(r).div(2),u=u.sub(new Et(u).mod(c)));var f=Math.ceil(u.sub(t).div(c).toNumber()),m=Math.ceil(new Et(r).sub(u).div(c).toNumber()),h=f+m+1;return h>n?TP(t,r,n,a,l+1):(h<n&&(m=r>0?m+(n-h):m,f=r>0?f:f+(n-h)),{step:c,tickMin:u.sub(new Et(f).mul(c)),tickMax:u.add(new Et(m).mul(c))})},TV=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),[u,f]=_P([r,n]);if(u===-1/0||f===1/0){var m=f===1/0?[u,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),f];return r>n?m.reverse():m}if(u===f)return OV(u,a,l);var{step:h,tickMin:v,tickMax:x}=TP(u,f,c,l,0),b=EP(v,x.add(new Et(.1).mul(h)),h);return r>n?b.reverse():b},PV=function(t,r){var[n,a]=t,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,u]=_P([n,a]);if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var f=Math.max(r,2),m=OP(new Et(u).sub(c).div(f-1),l,0),h=[...EP(new Et(c),new Et(u),m),u];return l===!1&&(h=h.map(v=>Math.round(v))),n>a?h.reverse():h},IV=e=>e.rootProps.barCategoryGap,Ld=e=>e.rootProps.stackOffset,PP=e=>e.rootProps.reverseStackOrder,dw=e=>e.options.chartName,fw=e=>e.rootProps.syncId,IP=e=>e.rootProps.syncMethod,mw=e=>e.options.eventEmitter,xa={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},jl={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},za={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},sv=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function RP(e,t,r){if(r!=="auto")return r;if(e!=null)return Ks(e,t)?"category":"number"}function qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function th(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qk(Object(r),!0).forEach(function(n){RV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RV(e,t,r){return(t=LV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LV(e){var t=zV(e,"string");return typeof t=="symbol"?t:t+""}function zV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hk={allowDataOverflow:jl.allowDataOverflow,allowDecimals:jl.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:jl.angleAxisId,includeHidden:!1,name:void 0,reversed:jl.reversed,scale:jl.scale,tick:jl.tick,tickCount:void 0,ticks:void 0,type:jl.type,unit:void 0},Uk={allowDataOverflow:za.allowDataOverflow,allowDecimals:za.allowDecimals,allowDuplicatedCategory:za.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:za.radiusAxisId,includeHidden:za.includeHidden,name:void 0,reversed:za.reversed,scale:za.scale,tick:za.tick,tickCount:za.tickCount,ticks:void 0,type:za.type,unit:void 0},FV=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},pw=ne([FV,ST],(e,t)=>{var r;if(e!=null)return e;var n=(r=RP(t,"angleAxis",Hk.type))!==null&&r!==void 0?r:"category";return th(th({},Hk),{},{type:n})}),BV=(e,t)=>e.polarAxis.radiusAxis[t],hw=ne([BV,ST],(e,t)=>{var r;if(e!=null)return e;var n=(r=RP(t,"radiusAxis",Uk.type))!==null&&r!==void 0?r:"category";return th(th({},Uk),{},{type:n})}),lv=e=>e.polarOptions,vw=ne([Xi,Zi,Tr],zT),LP=ne([lv,vw],(e,t)=>{if(e!=null)return In(e.innerRadius,t,0)}),zP=ne([lv,vw],(e,t)=>{if(e!=null)return In(e.outerRadius,t,t*.8)}),$V=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},FP=ne([lv],$V);ne([pw,FP],sv);var BP=ne([vw,LP,zP],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ne([hw,BP],sv);var $P=ne([er,lv,LP,zP,Xi,Zi],(e,t,r,n,a,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:u,startAngle:f,endAngle:m}=t;return{cx:In(c,a,a/2),cy:In(u,l,l/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:m,clockWise:!1}}}),ar=(e,t)=>t,zd=(e,t,r)=>r;function qP(e){return e?.id}function HP(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:l}=r,c=new Map;return e.forEach(u=>{var f,m=(f=u.data)!==null&&f!==void 0?f:n;if(!(m==null||m.length===0)){var h=qP(u);m.forEach((v,x)=>{var b=l==null||a?x:String(cr(v,l,null)),S=cr(v,u.dataKey,0),w;c.has(b)?w=c.get(b):w={},Object.assign(w,{[h]:S}),c.set(b,w)})}}),Array.from(c.values())}function xw(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var ov=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function cv(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function qV(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Ir=e=>{var t=er(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ec=e=>e.tooltip.settings.axisId;function HV(e){if(e in Qu)return Qu[e]();var t="scale".concat(Ad(e));if(t in Qu)return Qu[t]()}function Yk(e){var t=e.ticks,r=e.bandwidth,n=e.range(),a=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(l){function c(){return l.apply(this,arguments)}return c.toString=function(){return l.toString()},c})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(l){var c=a[0],u=a[1];return c<=u?l>=c&&l<=u:l>=u&&l<=c},bandwidth:r?()=>r.call(e):void 0,ticks:t?l=>t.call(e,l):void 0,map:(l,c)=>{var u=e(l);if(u!=null){if(e.bandwidth&&c!==null&&c!==void 0&&c.position){var f=e.bandwidth();switch(c.position){case"middle":u+=f/2;break;case"end":u+=f;break}}return u}}}}function Vk(e,t,r){if(typeof e=="function")return Yk(e.copy().domain(t).range(r));if(e!=null){var n=HV(e);if(n!=null)return n.domain(t).range(r),Yk(n)}}var UP=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Gi(t)){for(var r,n,a=0;a<t.length;a++){var l=t[a];Rt(l)&&((r===void 0||l<r)&&(r=l),(n===void 0||l>n)&&(n=l))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function Gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(r),!0).forEach(function(n){UV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UV(e,t,r){return(t=YV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YV(e){var t=VV(e,"string");return typeof t=="symbol"?t:t+""}function VV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ly=[0,"auto"],GV={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},WV=(e,t)=>e.cartesianAxis.xAxis[t],el=(e,t)=>{var r=WV(e,t);return r??GV},KV={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ly,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ed},QV=(e,t)=>e.cartesianAxis.yAxis[t],tl=(e,t)=>{var r=QV(e,t);return r??KV},XV={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},gw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??XV},dr=(e,t,r)=>{switch(t){case"xAxis":return el(e,r);case"yAxis":return tl(e,r);case"zAxis":return gw(e,r);case"angleAxis":return pw(e,r);case"radiusAxis":return hw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ZV=(e,t,r)=>{switch(t){case"xAxis":return el(e,r);case"yAxis":return tl(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},_c=(e,t,r)=>{switch(t){case"xAxis":return el(e,r);case"yAxis":return tl(e,r);case"angleAxis":return pw(e,r);case"radiusAxis":return hw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},YP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function bw(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var JV=e=>e.graphicalItems.cartesianItems,eG=ne([ar,zd],bw),yw=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Fd=ne([JV,dr,eG],yw,{memoizeOptions:{resultEqualityCheck:cv}}),VP=ne([Fd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(xw)),GP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),tG=ne([Fd],GP),ww=e=>e.map(t=>t.data).filter(Boolean).flat(1),rG=ne([Fd],ww,{memoizeOptions:{resultEqualityCheck:cv}}),jw=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Nw=ne([rG,jP],jw),Sw=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:cr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:cr(a,n)}))):e.map(n=>({value:n})),uv=ne([Nw,dr,Fd],Sw);function WP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function np(e){if(qi(e)||e instanceof Date){var t=Number(e);if(Rt(t))return t}}function Wk(e){if(Array.isArray(e)){var t=[np(e[0]),np(e[1])];return Gi(t)?t:void 0}var r=np(e);if(r!=null)return[r,r]}function Wi(e){return e.map(np).filter(Ya)}function nG(e,t,r){return!r||typeof t!="number"||$i(t)?[]:r.length?Wi(r.flatMap(n=>{var a=cr(e,n.dataKey),l,c;if(Array.isArray(a)?[l,c]=a:l=c=a,!(!Rt(l)||!Rt(c)))return[t-l,t+c]})):[]}var kr=e=>{var t=Ir(e),r=Ec(e);return _c(e,t,r)},Bd=ne([kr],e=>e?.dataKey),aG=ne([VP,jP,kr],HP),KP=(e,t,r,n)=>{var a={},l=t.reduce((c,u)=>{if(u.stackId==null)return c;var f=c[u.stackId];return f==null&&(f=[]),f.push(u),c[u.stackId]=f,c},a);return Object.fromEntries(Object.entries(l).map(c=>{var[u,f]=c,m=n?[...f].reverse():f,h=m.map(qP);return[u,{stackedData:OH(e,h,r),graphicalItems:m}]}))},iG=ne([aG,VP,Ld,PP],KP),QP=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:l}=t;if(n==null&&r!=="zAxis"){var c=IH(e,a,l);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},sG=ne([dr],e=>e.allowDataOverflow),Cw=e=>{var t;if(e==null||!("domain"in e))return Ly;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Wi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Ly},Aw=ne([dr],Cw),Mw=ne([Aw,sG],NP),lG=ne([iG,Js,ar,Mw],QP,{memoizeOptions:{resultEqualityCheck:ov}}),dv=e=>e.errorBars,oG=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>WP(r,n)),nh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var l=a.flat(),c=Math.min(...l),u=Math.max(...l);return[c,u]}},kw=(e,t,r,n,a)=>{var l,c;if(r.length>0&&e.forEach(u=>{r.forEach(f=>{var m,h,v=(m=n[f.id])===null||m===void 0?void 0:m.filter(C=>WP(a,C)),x=cr(u,(h=t.dataKey)!==null&&h!==void 0?h:f.dataKey),b=nG(u,x,v);if(b.length>=2){var S=Math.min(...b),w=Math.max(...b);(l==null||S<l)&&(l=S),(c==null||w>c)&&(c=w)}var y=Wk(x);y!=null&&(l=l==null?y[0]:Math.min(l,y[0]),c=c==null?y[1]:Math.max(c,y[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var f=Wk(cr(u,t.dataKey));f!=null&&(l=l==null?f[0]:Math.min(l,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),Rt(l)&&Rt(c))return[l,c]},cG=ne([Nw,dr,tG,dv,ar],kw,{memoizeOptions:{resultEqualityCheck:ov}});function uG(e){var{value:t}=e;if(qi(t)||t instanceof Date)return t}var dG=(e,t,r)=>{var n=e.map(uG).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&S5(n))?qT(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},XP=e=>e.referenceElements.dots,Oc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),fG=ne([XP,ar,zd],Oc),ZP=e=>e.referenceElements.areas,mG=ne([ZP,ar,zd],Oc),JP=e=>e.referenceElements.lines,pG=ne([JP,ar,zd],Oc),e4=(e,t)=>{if(e!=null){var r=Wi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},hG=ne(fG,ar,e4),t4=(e,t)=>{if(e!=null){var r=Wi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},vG=ne([mG,ar],t4);function xG(e){var t;if(e.x!=null)return Wi([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Wi(r)}function gG(e){var t;if(e.y!=null)return Wi([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Wi(r)}var r4=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?xG(n):gG(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},bG=ne([pG,ar],r4),yG=ne(hG,bG,vG,(e,t,r)=>nh(e,r,t)),Dw=(e,t,r,n,a,l,c,u)=>{if(r!=null)return r;var f=c==="vertical"&&u==="xAxis"||c==="horizontal"&&u==="yAxis",m=f?nh(n,l,a):nh(l,a);return kV(t,m,e.allowDataOverflow)},wG=ne([dr,Aw,Mw,lG,cG,yG,er,ar],Dw,{memoizeOptions:{resultEqualityCheck:ov}}),jG=[0,1],Ew=(e,t,r,n,a,l,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:u,type:f}=e,m=Ks(t,l);if(m&&u==null){var h;return qT(0,(h=r?.length)!==null&&h!==void 0?h:0)}return f==="category"?dG(n,e,m):a==="expand"?jG:c}},_w=ne([dr,er,Nw,uv,Ld,ar,wG],Ew);function NG(e){return e in Qu}var n4=(e,t,r)=>{if(e!=null){var{scale:n,type:a}=e;if(n==="auto")return a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof n=="string"){var l="scale".concat(Ad(n));return NG(l)?l:"point"}}},rl=ne([dr,YP,dw],n4);function Ow(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?Vk(e.scale,r,n):Vk(t,r,n)}var Tw=(e,t,r)=>{var n=Cw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Gi(e))return TV(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Gi(e))return PV(e,t.tickCount,t.allowDecimals)}},Pw=ne([_w,_c,rl],Tw),Iw=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Gi(t)&&Array.isArray(r)&&r.length>0){var a,l,c=t[0],u=(a=r[0])!==null&&a!==void 0?a:0,f=t[1],m=(l=r[r.length-1])!==null&&l!==void 0?l:0;return[Math.min(c,u),Math.max(f,m)]}return t},SG=ne([dr,_w,Pw,ar],Iw),CG=ne(uv,dr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Wi(e.map(v=>v.value))).sort((v,x)=>v-x),a=n[0],l=n[n.length-1];if(a==null||l==null)return 1/0;var c=l-a;if(c===0)return 1/0;for(var u=0;u<n.length-1;u++){var f=n[u],m=n[u+1];if(!(f==null||m==null)){var h=m-f;r=Math.min(r,h)}}return r/c}}),a4=ne(CG,er,IV,Tr,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!Rt(e))return 0;var l=t==="vertical"?n.height:n.width;if(a==="gap")return e*l/2;if(a==="no-gap"){var c=In(r,e*l),u=e*l/2;return u-c-(u-c)/l*c}return 0}),AG=(e,t,r)=>{var n=el(e,t);return n==null||typeof n.padding!="string"?0:a4(e,"xAxis",t,r,n.padding)},MG=(e,t,r)=>{var n=tl(e,t);return n==null||typeof n.padding!="string"?0:a4(e,"yAxis",t,r,n.padding)},kG=ne(el,AG,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),DG=ne(tl,MG,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),EG=ne([Tr,kG,Wh,Gh,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:l}=n;return a?[l.left,r.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),_G=ne([Tr,er,DG,Wh,Gh,(e,t,r)=>r],(e,t,r,n,a,l)=>{var{padding:c}=a;return l?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),$d=(e,t,r,n)=>{var a;switch(t){case"xAxis":return EG(e,r,n);case"yAxis":return _G(e,r,n);case"zAxis":return(a=gw(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return FP(e);case"radiusAxis":return BP(e,r);default:return}},i4=ne([dr,$d],sv),OG=ne([rl,SG],UP),fv=ne([dr,rl,OG,i4],Ow);ne([Fd,dv,ar],oG);function s4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var mv=(e,t)=>t,pv=(e,t,r)=>r,TG=ne(Yh,mv,pv,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(s4)),PG=ne(Vh,mv,pv,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(s4)),l4=(e,t)=>({width:e.width,height:t.height}),IG=(e,t)=>{var r=typeof t.width=="number"?t.width:Ed;return{width:r,height:e.height}};ne(Tr,el,l4);var RG=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},LG=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},zG=ne(Zi,Tr,TG,mv,pv,(e,t,r,n,a)=>{var l={},c;return r.forEach(u=>{var f=l4(t,u);c==null&&(c=RG(t,n,e));var m=n==="top"&&!a||n==="bottom"&&a;l[u.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),l}),FG=ne(Xi,Tr,PG,mv,pv,(e,t,r,n,a)=>{var l={},c;return r.forEach(u=>{var f=IG(t,u);c==null&&(c=LG(t,n,e));var m=n==="left"&&!a||n==="right"&&a;l[u.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),l}),BG=(e,t)=>{var r=el(e,t);if(r!=null)return zG(e,r.orientation,r.mirror)};ne([Tr,el,BG,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}});var $G=(e,t)=>{var r=tl(e,t);if(r!=null)return FG(e,r.orientation,r.mirror)};ne([Tr,tl,$G,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}});ne(Tr,tl,(e,t)=>{var r=typeof t.width=="number"?t.width:Ed;return{width:r,height:e.height}});var o4=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:l,dataKey:c}=r,u=Ks(e,n),f=t.map(m=>m.value);if(c&&u&&l==="category"&&a&&S5(f))return f}},Rw=ne([er,uv,dr,ar],o4),c4=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:l}=r,c=Ks(e,n);if(c&&(a==="number"||l!=="auto"))return t.map(u=>u.value)}},Lw=ne([er,uv,_c,ar],c4);ne([er,ZV,rl,fv,Rw,Lw,$d,Pw,ar],(e,t,r,n,a,l,c,u,f)=>{if(t!=null){var m=Ks(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:l,duplicateDomain:a,isCategorical:m,niceTicks:u,range:c,realScaleType:r,scale:n}}});var qG=(e,t,r,n,a,l,c,u,f)=>{if(!(t==null||n==null)){var m=Ks(e,f),{type:h,ticks:v,tickCount:x}=t,b=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,S=h==="category"&&n.bandwidth?n.bandwidth()/b:0;S=f==="angleAxis"&&l!=null&&l.length>=2?gn(l[0]-l[1])*2*S:S;var w=v||a;return w?w.map((y,C)=>{var M=c?c.indexOf(y):y,A=n.map(M);return Rt(A)?{index:C,coordinate:A+S,value:y,offset:S}:null}).filter(Ya):m&&u?u.map((y,C)=>{var M=n.map(y);return Rt(M)?{coordinate:M+S,value:y,index:C,offset:S}:null}).filter(Ya):n.ticks?n.ticks(x).map((y,C)=>{var M=n.map(y);return Rt(M)?{coordinate:M+S,value:y,index:C,offset:S}:null}).filter(Ya):n.domain().map((y,C)=>{var M=n.map(y);return Rt(M)?{coordinate:M+S,value:c?c[y]:y,index:C,offset:S}:null}).filter(Ya)}};ne([er,_c,rl,fv,Pw,$d,Rw,Lw,ar],qG);var HG=(e,t,r,n,a,l,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=Ks(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&n?.length>=2?gn(n[0]-n[1])*2*m:m,u&&l?l.map((h,v)=>{var x=r.map(h);return Rt(x)?{coordinate:x+m,value:h,index:v,offset:m}:null}).filter(Ya):r.ticks?r.ticks(f).map((h,v)=>{var x=r.map(h);return Rt(x)?{coordinate:x+m,value:h,index:v,offset:m}:null}).filter(Ya):r.domain().map((h,v)=>{var x=r.map(h);return Rt(x)?{coordinate:x+m,value:a?a[h]:h,index:v,offset:m}:null}).filter(Ya)}};ne([er,_c,fv,$d,Rw,Lw,ar],HG);ne(dr,fv,(e,t)=>{if(!(e==null||t==null))return rh(rh({},e),{},{scale:t})});var UG=ne([dr,rl,_w,i4],Ow);ne((e,t,r)=>gw(e,r),UG,(e,t)=>{if(!(e==null||t==null))return rh(rh({},e),{},{scale:t})});var YG=ne([er,Yh,Vh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),u4=e=>e.options.defaultTooltipEventType,d4=e=>e.options.validateTooltipEventTypes;function f4(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function zw(e,t){var r=u4(e),n=d4(e);return f4(t,r,n)}function VG(e){return it(t=>zw(t,e))}var m4=(e,t)=>{var r,n=Number(t);if(!($i(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},GG=e=>e.tooltip.settings,Rs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},WG={itemInteraction:{click:Rs,hover:Rs},axisInteraction:{click:Rs,hover:Rs},keyboardInteraction:Rs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},p4=wn({name:"tooltip",initialState:WG,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Xt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ga(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Xt()},removeTooltipEntrySettings:{reducer(e,t){var r=ga(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Xt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:KG,replaceTooltipEntrySettings:QG,removeTooltipEntrySettings:XG,setTooltipSettingsState:ZG,setActiveMouseOverItemIndex:h4,mouseLeaveItem:JG,mouseLeaveChart:v4,setActiveClickItemIndex:eW,setMouseOverAxisIndex:x4,setMouseClickAxisIndex:tW,setSyncInteraction:zy,setKeyboardInteraction:Fy}=p4.actions,rW=p4.reducer;function Kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(r),!0).forEach(function(n){nW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nW(e,t,r){return(t=aW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aW(e){var t=iW(e,"string");return typeof t=="symbol"?t:t+""}function iW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sW(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function lW(e){return e.index!=null}var g4=(e,t,r,n)=>{if(t==null)return Rs;var a=sW(e,t,r);if(a==null)return Rs;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(lW(a)){if(l)return Sm(Sm({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Sm(Sm({},Rs),{},{coordinate:a.coordinate})};function oW(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function cW(e,t){var r=oW(e),n=t[0],a=t[1];if(r===void 0)return!1;var l=Math.min(n,a),c=Math.max(n,a);return r>=l&&r<=c}function uW(e,t,r){if(r==null||t==null)return!0;var n=cr(e,t);return n==null||!Gi(r)?!0:cW(n,r)}var Fw=(e,t,r,n)=>{var a=e?.index;if(a==null)return null;var l=Number(a);if(!Rt(l))return a;var c=0,u=1/0;t.length>0&&(u=t.length-1);var f=Math.max(c,Math.min(l,u)),m=t[f];return m==null||uW(m,r,n)?String(f):null},b4=(e,t,r,n,a,l,c)=>{if(l!=null){var u=c[0],f=u?.getPosition(l);if(f!=null)return f;var m=a?.[Number(l)];if(m)return r==="horizontal"?{x:m.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:m.coordinate}}},y4=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var l=e.tooltipItemPayloads[0];return l!=null?[l]:[]}return e.tooltipItemPayloads.filter(c=>{var u;return((u=c.settings)===null||u===void 0?void 0:u.graphicalItemId)===a})},w4=e=>e.options.tooltipPayloadSearcher,Tc=e=>e.tooltip;function Qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qk(Object(r),!0).forEach(function(n){dW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dW(e,t,r){return(t=fW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fW(e){var t=mW(e,"string");return typeof t=="symbol"?t:t+""}function mW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pW(e,t){return e??t}var j4=(e,t,r,n,a,l,c)=>{if(!(t==null||l==null)){var{chartData:u,computedData:f,dataStartIndex:m,dataEndIndex:h}=r,v=[];return e.reduce((x,b)=>{var S,{dataDefinedOnItem:w,settings:y}=b,C=pW(w,u),M=Array.isArray(C)?hT(C,m,h):C,A=(S=y?.dataKey)!==null&&S!==void 0?S:n,_=y?.nameKey,E;if(n&&Array.isArray(M)&&!Array.isArray(M[0])&&c==="axis"?E=f$(M,n,a):E=l(M,t,f,_),Array.isArray(E))E.forEach(P=>{var O=Xk(Xk({},y),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});x.push(ZA({tooltipEntrySettings:O,dataKey:P.dataKey,payload:P.payload,value:cr(P.payload,P.dataKey),name:P.name}))});else{var T;x.push(ZA({tooltipEntrySettings:y,dataKey:A,payload:E,value:cr(E,A),name:(T=cr(E,_))!==null&&T!==void 0?T:y?.name}))}return x},v)}},Bw=ne([kr,YP,dw],n4),hW=ne([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),vW=ne([Ir,Ec],bw),Pc=ne([hW,kr,vW],yw,{memoizeOptions:{resultEqualityCheck:cv}}),xW=ne([Pc],e=>e.filter(xw)),gW=ne([Pc],ww,{memoizeOptions:{resultEqualityCheck:cv}}),Ic=ne([gW,Js],jw),bW=ne([xW,Js,kr],HP),$w=ne([Ic,kr,Pc],Sw),N4=ne([kr],Cw),yW=ne([kr],e=>e.allowDataOverflow),S4=ne([N4,yW],NP),wW=ne([Pc],e=>e.filter(xw)),jW=ne([bW,wW,Ld,PP],KP),NW=ne([jW,Js,Ir,S4],QP),SW=ne([Pc],GP),CW=ne([Ic,kr,SW,dv,Ir],kw,{memoizeOptions:{resultEqualityCheck:ov}}),AW=ne([XP,Ir,Ec],Oc),MW=ne([AW,Ir],e4),kW=ne([ZP,Ir,Ec],Oc),DW=ne([kW,Ir],t4),EW=ne([JP,Ir,Ec],Oc),_W=ne([EW,Ir],r4),OW=ne([MW,_W,DW],nh),TW=ne([kr,N4,S4,NW,CW,OW,er,Ir],Dw),qd=ne([kr,er,Ic,$w,Ld,Ir,TW],Ew),PW=ne([qd,kr,Bw],Tw),IW=ne([kr,qd,PW,Ir],Iw),C4=e=>{var t=Ir(e),r=Ec(e),n=!1;return $d(e,t,r,n)},A4=ne([kr,C4],sv),M4=ne([kr,Bw,IW,A4],Ow),RW=ne([er,$w,kr,Ir],o4),LW=ne([er,$w,kr,Ir],c4),zW=(e,t,r,n,a,l,c,u)=>{if(t){var{type:f}=t,m=Ks(e,u);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,v=f==="category"&&n.bandwidth?n.bandwidth()/h:0;return v=u==="angleAxis"&&a!=null&&a?.length>=2?gn(a[0]-a[1])*2*v:v,m&&c?c.map((x,b)=>{var S=n.map(x);return Rt(S)?{coordinate:S+v,value:x,index:b,offset:v}:null}).filter(Ya):n.domain().map((x,b)=>{var S=n.map(x);return Rt(S)?{coordinate:S+v,value:l?l[x]:x,index:b,offset:v}:null}).filter(Ya)}}},es=ne([er,kr,Bw,M4,C4,RW,LW,Ir],zW),qw=ne([u4,d4,GG],(e,t,r)=>f4(r.shared,e,t)),k4=e=>e.tooltip.settings.trigger,Hw=e=>e.tooltip.settings.defaultIndex,Hd=ne([Tc,qw,k4,Hw],g4),gd=ne([Hd,Ic,Bd,qd],Fw),D4=ne([es,gd],m4),E4=ne([Hd],e=>{if(e)return e.dataKey}),FW=ne([Hd],e=>{if(e)return e.graphicalItemId}),_4=ne([Tc,qw,k4,Hw],y4),BW=ne([Xi,Zi,er,Tr,es,Hw,_4],b4),$W=ne([Hd,BW],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),qW=ne([Hd],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),HW=ne([_4,gd,Js,Bd,D4,w4,qw],j4);ne([HW],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zk(Object(r),!0).forEach(function(n){UW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UW(e,t,r){return(t=YW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YW(e){var t=VW(e,"string");return typeof t=="symbol"?t:t+""}function VW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GW=()=>it(kr),WW=()=>{var e=GW(),t=it(es),r=it(M4);return XA(!e||!r?void 0:Jk(Jk({},e),{},{scale:r}),t)};function eD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eD(Object(r),!0).forEach(function(n){KW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KW(e,t,r){return(t=QW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QW(e){var t=XW(e,"string");return typeof t=="symbol"?t:t+""}function XW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZW=(e,t,r,n)=>{var a=t.find(l=>l&&l.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},JW=(e,t,r,n)=>{var a=t.find(m=>m&&m.index===r);if(a){if(e==="centric"){var l=a.coordinate,{radius:c}=n;return Ho(Ho(Ho({},n),wr(n.cx,n.cy,c,l)),{},{angle:l,radius:c})}var u=a.coordinate,{angle:f}=n;return Ho(Ho(Ho({},n),wr(n.cx,n.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function eK(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var O4=(e,t,r,n,a)=>{var l,c=(l=t?.length)!==null&&l!==void 0?l:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<c;u++){var f,m,h,v,x,b=u>0?(f=r[u-1])===null||f===void 0?void 0:f.coordinate:(m=r[c-1])===null||m===void 0?void 0:m.coordinate,S=(h=r[u])===null||h===void 0?void 0:h.coordinate,w=u>=c-1?(v=r[0])===null||v===void 0?void 0:v.coordinate:(x=r[u+1])===null||x===void 0?void 0:x.coordinate,y=void 0;if(!(b==null||S==null||w==null))if(gn(S-b)!==gn(w-S)){var C=[];if(gn(w-S)===gn(a[1]-a[0])){y=w;var M=S+a[1]-a[0];C[0]=Math.min(M,(M+b)/2),C[1]=Math.max(M,(M+b)/2)}else{y=b;var A=w+a[1]-a[0];C[0]=Math.min(S,(A+S)/2),C[1]=Math.max(S,(A+S)/2)}var _=[Math.min(S,(y+S)/2),Math.max(S,(y+S)/2)];if(e>_[0]&&e<=_[1]||e>=C[0]&&e<=C[1]){var E;return(E=r[u])===null||E===void 0?void 0:E.index}}else{var T=Math.min(b,w),P=Math.max(b,w);if(e>(T+S)/2&&e<=(P+S)/2){var O;return(O=r[u])===null||O===void 0?void 0:O.index}}}else if(t)for(var z=0;z<c;z++){var R=t[z];if(R!=null){var F=t[z+1],D=t[z-1];if(z===0&&F!=null&&e<=(R.coordinate+F.coordinate)/2||z===c-1&&D!=null&&e>(R.coordinate+D.coordinate)/2||z>0&&z<c-1&&D!=null&&F!=null&&e>(R.coordinate+D.coordinate)/2&&e<=(R.coordinate+F.coordinate)/2)return R.index}}return-1},tK=()=>it(dw),Uw=(e,t)=>t,T4=(e,t,r)=>r,Yw=(e,t,r,n)=>n,rK=ne(es,e=>Ih(e,t=>t.coordinate)),Vw=ne([Tc,Uw,T4,Yw],g4),Gw=ne([Vw,Ic,Bd,qd],Fw),nK=(e,t,r)=>{if(t!=null){var n=Tc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},P4=ne([Tc,Uw,T4,Yw],y4),ah=ne([Xi,Zi,er,Tr,es,Yw,P4],b4),aK=ne([Vw,ah],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),I4=ne([es,Gw],m4),iK=ne([P4,Gw,Js,Bd,I4,w4,Uw],j4),sK=ne([Vw,Gw],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),lK=(e,t,r,n,a,l,c)=>{if(!(!e||!r||!n||!a)&&eK(e,c)){var u=RH(e,t),f=O4(u,l,a,r,n),m=ZW(t,a,f,e);return{activeIndex:String(f),activeCoordinate:m}}},oK=(e,t,r,n,a,l,c)=>{if(!(!e||!n||!a||!l||!r)){var u=U7(e,r);if(u){var f=LH(u,t),m=O4(f,c,l,n,a),h=JW(t,l,m,u);return{activeIndex:String(m),activeCoordinate:h}}}},cK=(e,t,r,n,a,l,c,u)=>{if(!(!e||!t||!n||!a||!l))return t==="horizontal"||t==="vertical"?lK(e,t,n,a,l,c,u):oK(e,t,r,n,a,l,c)},uK=ne(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),dK=ne(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(xa)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:qV}});function tD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tD(Object(r),!0).forEach(function(n){fK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fK(e,t,r){return(t=mK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mK(e){var t=pK(e,"string");return typeof t=="symbol"?t:t+""}function pK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hK={},vK={zIndexMap:Object.values(xa).reduce((e,t)=>rD(rD({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),hK)},xK=new Set(Object.values(xa));function gK(e){return xK.has(e)}var R4=wn({name:"zIndex",initialState:vK,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Xt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!gK(r)&&delete e.zIndexMap[r])},prepare:Xt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Xt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Xt()}}}),{registerZIndexPortal:bK,unregisterZIndexPortal:yK,registerZIndexPortalElement:wK,unregisterZIndexPortalElement:jK}=R4.actions,NK=R4.reducer;function Ud(e){var{zIndex:t,children:r}=e,n=v9(),a=n&&t!==void 0&&t!==0,l=Qs(),c=Ar();j.useLayoutEffect(()=>a?(c(bK({zIndex:t})),()=>{c(yK({zIndex:t}))}):Md,[c,t,a]);var u=it(f=>uK(f,t,l));return a?u?Cd.createPortal(r,u):null:r}function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(null,arguments)}function nD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nD(Object(r),!0).forEach(function(n){SK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SK(e,t,r){return(t=CK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CK(e){var t=AK(e,"string");return typeof t=="symbol"?t:t+""}function AK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MK(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return j.isValidElement(t)?j.cloneElement(t,n):j.createElement(r,n)}function kK(e){var t,{coordinate:r,payload:n,index:a,offset:l,tooltipAxisBandSize:c,layout:u,cursor:f,tooltipEventType:m,chartName:h}=e,v=r,x=n,b=a;if(!f||!v||h!=="ScatterChart"&&m!=="axis")return null;var S,w,y;if(h==="ScatterChart")S=v,w=a7,y=xa.cursorLine;else if(h==="BarChart")S=i7(u,v,l,c),w=LT,y=xa.cursorRectangle;else if(u==="radial"&&M5(v)){var{cx:C,cy:M,radius:A,startAngle:_,endAngle:E}=FT(v);S={cx:C,cy:M,startAngle:_,endAngle:E,innerRadius:A,outerRadius:A},w=$T,y=xa.cursorLine}else S={points:W7(u,v,l)},w=I1,y=xa.cursorLine;var T=typeof f=="object"&&"className"in f?f.className:void 0,P=Cm(Cm(Cm(Cm({stroke:"#ccc",pointerEvents:"none"},l),S),Jb(f)),{},{payload:x,payloadIndex:b,className:lt("recharts-tooltip-cursor",T)});return j.createElement(Ud,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},j.createElement(MK,{cursor:f,cursorComp:w,cursorProps:P}))}function DK(e){var t=WW(),r=m9(),n=Qh(),a=tK();return t==null||r==null||n==null||a==null?null:j.createElement(kK,By({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var L4=j.createContext(null),EK=()=>j.useContext(L4),fb={exports:{}},aD;function _K(){return aD||(aD=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function l(f,m,h,v,x){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new a(h,v||f,x),S=r?r+m:m;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],b]:f._events[S].push(b):(f._events[S]=b,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new n:delete f._events[m]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],h,v;if(this._eventsCount===0)return m;for(v in h=this._events)t.call(h,v)&&m.push(r?v.slice(1):v);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},u.prototype.listeners=function(m){var h=r?r+m:m,v=this._events[h];if(!v)return[];if(v.fn)return[v.fn];for(var x=0,b=v.length,S=new Array(b);x<b;x++)S[x]=v[x].fn;return S},u.prototype.listenerCount=function(m){var h=r?r+m:m,v=this._events[h];return v?v.fn?1:v.length:0},u.prototype.emit=function(m,h,v,x,b,S){var w=r?r+m:m;if(!this._events[w])return!1;var y=this._events[w],C=arguments.length,M,A;if(y.fn){switch(y.once&&this.removeListener(m,y.fn,void 0,!0),C){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,h),!0;case 3:return y.fn.call(y.context,h,v),!0;case 4:return y.fn.call(y.context,h,v,x),!0;case 5:return y.fn.call(y.context,h,v,x,b),!0;case 6:return y.fn.call(y.context,h,v,x,b,S),!0}for(A=1,M=new Array(C-1);A<C;A++)M[A-1]=arguments[A];y.fn.apply(y.context,M)}else{var _=y.length,E;for(A=0;A<_;A++)switch(y[A].once&&this.removeListener(m,y[A].fn,void 0,!0),C){case 1:y[A].fn.call(y[A].context);break;case 2:y[A].fn.call(y[A].context,h);break;case 3:y[A].fn.call(y[A].context,h,v);break;case 4:y[A].fn.call(y[A].context,h,v,x);break;default:if(!M)for(E=1,M=new Array(C-1);E<C;E++)M[E-1]=arguments[E];y[A].fn.apply(y[A].context,M)}}return!0},u.prototype.on=function(m,h,v){return l(this,m,h,v,!1)},u.prototype.once=function(m,h,v){return l(this,m,h,v,!0)},u.prototype.removeListener=function(m,h,v,x){var b=r?r+m:m;if(!this._events[b])return this;if(!h)return c(this,b),this;var S=this._events[b];if(S.fn)S.fn===h&&(!x||S.once)&&(!v||S.context===v)&&c(this,b);else{for(var w=0,y=[],C=S.length;w<C;w++)(S[w].fn!==h||x&&!S[w].once||v&&S[w].context!==v)&&y.push(S[w]);y.length?this._events[b]=y.length===1?y[0]:y:c(this,b)}return this},u.prototype.removeAllListeners=function(m){var h;return m?(h=r?r+m:m,this._events[h]&&c(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(fb)),fb.exports}var OK=_K();const TK=ni(OK);var bd=new TK,$y="recharts.syncEvent.tooltip",iD="recharts.syncEvent.brush",PK=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!$i(r))return e[r]}},IK={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},z4=wn({name:"options",initialState:IK,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),RK=z4.reducer,{createEventEmitter:LK}=z4.actions;function zK(e){return e.tooltip.syncInteraction}var FK={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},F4=wn({name:"chartData",initialState:FK,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:sD,setDataStartEndIndexes:BK,setComputedData:Rle}=F4.actions,$K=F4.reducer,qK=["x","y"];function lD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lD(Object(r),!0).forEach(function(n){HK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HK(e,t,r){return(t=UK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UK(e){var t=YK(e,"string");return typeof t=="symbol"?t:t+""}function YK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VK(e,t){if(e==null)return{};var r,n,a=GK(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function GK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function WK(){var e=it(fw),t=it(mw),r=Ar(),n=it(IP),a=it(es),l=Qh(),c=Kh(),u=it(f=>f.rootProps.className);j.useEffect(()=>{if(e==null)return Md;var f=(m,h,v)=>{if(t!==v&&e===m){if(n==="index"){var x;if(c&&h!==null&&h!==void 0&&(x=h.payload)!==null&&x!==void 0&&x.coordinate&&h.payload.sourceViewBox){var b=h.payload.coordinate,{x:S,y:w}=b,y=VK(b,qK),{x:C,y:M,width:A,height:_}=h.payload.sourceViewBox,E=Uo(Uo({},y),{},{x:c.x+(A?(S-C)/A:0)*c.width,y:c.y+(_?(w-M)/_:0)*c.height});r(Uo(Uo({},h),{},{payload:Uo(Uo({},h.payload),{},{coordinate:E})}))}else r(h);return}if(a!=null){var T;if(typeof n=="function"){var P={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=n(a,P);T=a[O]}else n==="value"&&(T=a.find($=>String($.value)===h.payload.label));var{coordinate:z}=h.payload;if(T==null||h.payload.active===!1||z==null||c==null){r(zy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:R,y:F}=z,D=Math.min(R,c.x+c.width),X=Math.min(F,c.y+c.height),W={x:l==="horizontal"?T.coordinate:D,y:l==="horizontal"?X:T.coordinate},Z=zy({active:h.payload.active,coordinate:W,dataKey:h.payload.dataKey,index:String(T.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});r(Z)}}};return bd.on($y,f),()=>{bd.off($y,f)}},[u,r,t,e,n,a,l,c])}function KK(){var e=it(fw),t=it(mw),r=Ar();j.useEffect(()=>{if(e==null)return Md;var n=(a,l,c)=>{t!==c&&e===a&&r(BK(l))};return bd.on(iD,n),()=>{bd.off(iD,n)}},[r,t,e])}function QK(){var e=Ar();j.useEffect(()=>{e(LK())},[e]),WK(),KK()}function XK(e,t,r,n,a,l){var c=it(b=>nK(b,e,t)),u=it(mw),f=it(fw),m=it(IP),h=it(zK),v=h?.active,x=Kh();j.useEffect(()=>{if(!v&&f!=null&&u!=null){var b=zy({active:l,coordinate:r,dataKey:c,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:x,graphicalItemId:void 0});bd.emit($y,f,b,u)}},[v,r,c,a,n,u,f,m,l,x])}function oD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oD(Object(r),!0).forEach(function(n){ZK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZK(e,t,r){return(t=JK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JK(e){var t=eQ(e,"string");return typeof t=="symbol"?t:t+""}function eQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tQ(e){return e.dataKey}function rQ(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(L9,t)}var uD=[],nQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function B4(e){var t,r,n=li(e,nQ),{active:a,allowEscapeViewBox:l,animationDuration:c,animationEasing:u,content:f,filterNull:m,isAnimationActive:h,offset:v,payloadUniqBy:x,position:b,reverseDirection:S,useTranslate3d:w,wrapperStyle:y,cursor:C,shared:M,trigger:A,defaultIndex:_,portal:E,axisId:T}=n,P=Ar(),O=typeof _=="number"?String(_):_;j.useEffect(()=>{P(ZG({shared:M,trigger:A,axisId:T,active:a,defaultIndex:O}))},[P,M,A,T,a,O]);var z=Kh(),R=OT(),F=VG(M),{activeIndex:D,isActive:X}=(t=it(he=>sK(he,F,A,O)))!==null&&t!==void 0?t:{},W=it(he=>iK(he,F,A,O)),Z=it(he=>I4(he,F,A,O)),$=it(he=>aK(he,F,A,O)),G=W,L=EK(),te=(r=a??X)!==null&&r!==void 0?r:!1,[xe,B]=Sq([G,te]),ae=F==="axis"?Z:void 0;XK(F,A,$,ae,D,te);var ge=E??L;if(ge==null||z==null||F==null)return null;var fe=G??uD;te||(fe=uD),m&&fe.length&&(fe=Q$(fe.filter(he=>he.value!=null&&(he.hide!==!0||n.includeHidden)),x,tQ));var Oe=fe.length>0,ye=j.createElement(U9,{allowEscapeViewBox:l,animationDuration:c,animationEasing:u,isAnimationActive:h,active:te,coordinate:$,hasPayload:Oe,offset:v,position:b,reverseDirection:S,useTranslate3d:w,viewBox:z,wrapperStyle:y,lastBoundingBox:xe,innerRef:B,hasPortalFromProps:!!E},rQ(f,cD(cD({},n),{},{payload:fe,label:ae,active:te,activeIndex:D,coordinate:$,accessibilityLayer:R})));return j.createElement(j.Fragment,null,Cd.createPortal(ye,ge),te&&j.createElement(DK,{cursor:C,tooltipEventType:F,coordinate:$,payload:fe,index:D}))}var Yd=e=>null;Yd.displayName="Cell";function aQ(e,t,r){return(t=iQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iQ(e){var t=sQ(e,"string");return typeof t=="symbol"?t:t+""}function sQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class lQ{constructor(t){aQ(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function dD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dD(Object(r),!0).forEach(function(n){cQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cQ(e,t,r){return(t=uQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uQ(e){var t=dQ(e,"string");return typeof t=="symbol"?t:t+""}function dQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fQ={cacheSize:2e3,enableCache:!0},$4=oQ({},fQ),fD=new lQ($4.cacheSize),mQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mD="recharts_measurement_span";function pQ(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(l,"|").concat(c,"|").concat(u)}var pD=(e,t)=>{try{var r=document.getElementById(mD);r||(r=document.createElement("span"),r.setAttribute("id",mD),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,mQ,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},hD=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||R1.isSsr)return{width:0,height:0};if(!$4.enableCache)return pD(t,r);var n=pQ(t,r),a=fD.get(n);if(a)return a;var l=pD(t,r);return fD.set(n,l),l},q4;function hQ(e,t,r){return(t=vQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vQ(e){var t=xQ(e,"string");return typeof t=="symbol"?t:t+""}function xQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wQ=["cm","mm","pt","pc","in","Q","px"];function jQ(e){return wQ.includes(e)}var Jo="NaN";function NQ(e,t){return e*yQ[t]}class qr{static parse(t){var r,[,n,a]=(r=bQ.exec(t))!==null&&r!==void 0?r:[];return n==null?qr.NaN:new qr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,$i(t)&&(this.unit=""),r!==""&&!gQ.test(r)&&(this.num=NaN,this.unit=""),jQ(r)&&(this.num=NQ(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new qr(NaN,""):new qr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new qr(NaN,""):new qr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new qr(NaN,""):new qr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new qr(NaN,""):new qr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $i(this.num)}}q4=qr;hQ(qr,"NaN",new q4(NaN,""));function H4(e){if(e==null||e.includes(Jo))return Jo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,l]=(r=vD.exec(t))!==null&&r!==void 0?r:[],c=qr.parse(n??""),u=qr.parse(l??""),f=a==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Jo;t=t.replace(vD,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,v,x]=(m=xD.exec(t))!==null&&m!==void 0?m:[],b=qr.parse(h??""),S=qr.parse(x??""),w=v==="+"?b.add(S):b.subtract(S);if(w.isNaN())return Jo;t=t.replace(xD,w.toString())}return t}var gD=/\(([^()]*)\)/;function SQ(e){for(var t=e,r;(r=gD.exec(t))!=null;){var[,n]=r;t=t.replace(gD,H4(n))}return t}function CQ(e){var t=e.replace(/\s+/g,"");return t=SQ(t),t=H4(t),t}function AQ(e){try{return CQ(e)}catch{return Jo}}function mb(e){var t=AQ(e.slice(5,-1));return t===Jo?"":t}var MQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],kQ=["dx","dy","angle","className","breakAll"];function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qy.apply(null,arguments)}function bD(e,t){if(e==null)return{};var r,n,a=DQ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function DQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var U4=/[ \f\n\r\t\v\u2028\u2029]+/,Y4=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];zn(t)||(r?a=t.toString().split(""):a=t.toString().split(U4));var l=a.map(u=>({word:u,width:hD(u,n).width})),c=r?0:hD("",n).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}};function EQ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var V4=(e,t,r,n)=>e.reduce((a,l)=>{var{word:c,width:u}=l,f=a[a.length-1];if(f&&u!=null&&(t==null||n||f.width+u+r<Number(t)))f.words.push(c),f.width+=u+r;else{var m={words:[c],width:u};a.push(m)}return a},[]),G4=e=>e.reduce((t,r)=>t.width>r.width?t:r),_Q="",yD=(e,t,r,n,a,l,c,u)=>{var f=e.slice(0,t),m=Y4({breakAll:r,style:n,children:f+_Q});if(!m)return[!1,[]];var h=V4(m.wordsWithComputedWidth,l,c,u),v=h.length>a||G4(h).width>Number(l);return[v,h]},OQ=(e,t,r,n,a)=>{var{maxLines:l,children:c,style:u,breakAll:f}=e,m=Xe(l),h=String(c),v=V4(t,n,r,a);if(!m||a)return v;var x=v.length>l||G4(v).width>Number(n);if(!x)return v;for(var b=0,S=h.length-1,w=0,y;b<=S&&w<=h.length-1;){var C=Math.floor((b+S)/2),M=C-1,[A,_]=yD(h,M,f,u,l,n,r,a),[E]=yD(h,C,f,u,l,n,r,a);if(!A&&!E&&(b=C+1),A&&E&&(S=C-1),!A&&E){y=_;break}w++}return y||v},wD=e=>{var t=zn(e)?[]:e.toString().split(U4);return[{words:t,width:void 0}]},TQ=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:l,maxLines:c}=e;if((t||r)&&!R1.isSsr){var u,f,m=Y4({breakAll:l,children:n,style:a});if(m){var{wordsWithComputedWidth:h,spaceWidth:v}=m;u=h,f=v}else return wD(n);return OQ({breakAll:l,children:n,maxLines:c,style:a},u,f,t,!!r)}return wD(n)},W4="#808080",PQ={angle:0,breakAll:!1,capHeight:"0.71em",fill:W4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ww=j.forwardRef((e,t)=>{var r=li(e,PQ),{x:n,y:a,lineHeight:l,capHeight:c,fill:u,scaleToFit:f,textAnchor:m,verticalAnchor:h}=r,v=bD(r,MQ),x=j.useMemo(()=>TQ({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width}),[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),{dx:b,dy:S,angle:w,className:y,breakAll:C}=v,M=bD(v,kQ);if(!qi(n)||!qi(a)||x.length===0)return null;var A=Number(n)+(Xe(b)?b:0),_=Number(a)+(Xe(S)?S:0);if(!Rt(A)||!Rt(_))return null;var E;switch(h){case"start":E=mb("calc(".concat(c,")"));break;case"middle":E=mb("calc(".concat((x.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:E=mb("calc(".concat(x.length-1," * -").concat(l,")"));break}var T=[],P=x[0];if(f&&P!=null){var O=P.width,{width:z}=v;T.push("scale(".concat(Xe(z)&&Xe(O)?z/O:1,")"))}return w&&T.push("rotate(".concat(w,", ").concat(A,", ").concat(_,")")),T.length&&(M.transform=T.join(" ")),j.createElement("text",qy({},ra(M),{ref:t,x:A,y:_,className:lt("recharts-text",y),textAnchor:m,fill:u.includes("url")?W4:u}),x.map((R,F)=>{var D=R.words.join(C?"":" ");return j.createElement("tspan",{x:A,dy:F===0?E:l,key:"".concat(D,"-").concat(F)},D)}))});Ww.displayName="Text";function jD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jD(Object(r),!0).forEach(function(n){IQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IQ(e,t,r){return(t=RQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RQ(e){var t=LQ(e,"string");return typeof t=="symbol"?t:t+""}function LQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zQ=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:a}=e,{x:l,y:c,height:u,upperWidth:f,lowerWidth:m}=O1(t),h=l,v=l+(f-m)/2,x=(h+v)/2,b=(f+m)/2,S=h+f/2,w=u>=0?1:-1,y=w*n,C=w>0?"end":"start",M=w>0?"start":"end",A=f>=0?1:-1,_=A*n,E=A>0?"end":"start",T=A>0?"start":"end",P=a;if(r==="top"){var O={x:h+f/2,y:c-y,horizontalAnchor:"middle",verticalAnchor:C};return P&&(O.height=Math.max(c-P.y,0),O.width=f),O}if(r==="bottom"){var z={x:v+m/2,y:c+u+y,horizontalAnchor:"middle",verticalAnchor:M};return P&&(z.height=Math.max(P.y+P.height-(c+u),0),z.width=m),z}if(r==="left"){var R={x:x-_,y:c+u/2,horizontalAnchor:E,verticalAnchor:"middle"};return P&&(R.width=Math.max(R.x-P.x,0),R.height=u),R}if(r==="right"){var F={x:x+b+_,y:c+u/2,horizontalAnchor:T,verticalAnchor:"middle"};return P&&(F.width=Math.max(P.x+P.width-F.x,0),F.height=u),F}var D=P?{width:b,height:u}:{};return r==="insideLeft"?Fa({x:x+_,y:c+u/2,horizontalAnchor:T,verticalAnchor:"middle"},D):r==="insideRight"?Fa({x:x+b-_,y:c+u/2,horizontalAnchor:E,verticalAnchor:"middle"},D):r==="insideTop"?Fa({x:h+f/2,y:c+y,horizontalAnchor:"middle",verticalAnchor:M},D):r==="insideBottom"?Fa({x:v+m/2,y:c+u-y,horizontalAnchor:"middle",verticalAnchor:C},D):r==="insideTopLeft"?Fa({x:h+_,y:c+y,horizontalAnchor:T,verticalAnchor:M},D):r==="insideTopRight"?Fa({x:h+f-_,y:c+y,horizontalAnchor:E,verticalAnchor:M},D):r==="insideBottomLeft"?Fa({x:v+_,y:c+u-y,horizontalAnchor:T,verticalAnchor:C},D):r==="insideBottomRight"?Fa({x:v+m-_,y:c+u-y,horizontalAnchor:E,verticalAnchor:C},D):r&&typeof r=="object"&&(Xe(r.x)||Gl(r.x))&&(Xe(r.y)||Gl(r.y))?Fa({x:l+In(r.x,b),y:c+In(r.y,u),horizontalAnchor:"end",verticalAnchor:"end"},D):Fa({x:S,y:c+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},D)},FQ=["labelRef"],BQ=["content"];function ND(e,t){if(e==null)return{};var r,n,a=$Q(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $Q(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function SD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SD(Object(r),!0).forEach(function(n){qQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qQ(e,t,r){return(t=HQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HQ(e){var t=UQ(e,"string");return typeof t=="symbol"?t:t+""}function UQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ih(){return ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ih.apply(null,arguments)}var YQ=j.createContext(null),VQ=()=>{var e=j.useContext(YQ),t=Kh();return e||(t?O1(t):void 0)},GQ=j.createContext(null),WQ=()=>{var e=j.useContext(GQ),t=it($P);return e||t},KQ=e=>{var{value:t,formatter:r}=e,n=zn(e.children)?t:e.children;return typeof r=="function"?r(n):n},QQ=e=>e!=null&&typeof e=="function",XQ=(e,t)=>{var r=gn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},ZQ=(e,t,r,n,a)=>{var{offset:l,className:c}=e,{cx:u,cy:f,innerRadius:m,outerRadius:h,startAngle:v,endAngle:x,clockWise:b}=a,S=(m+h)/2,w=XQ(v,x),y=w>=0?1:-1,C,M;switch(t){case"insideStart":C=v+y*l,M=b;break;case"insideEnd":C=x-y*l,M=!b;break;case"end":C=x+y*l,M=b;break;default:throw new Error("Unsupported position ".concat(t))}M=w<=0?M:!M;var A=wr(u,f,S,C),_=wr(u,f,S,C+(M?1:-1)*359),E="M".concat(A.x,",").concat(A.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(M?0:1,`,
    `).concat(_.x,",").concat(_.y),T=zn(e.id)?id("recharts-radial-line-"):e.id;return j.createElement("text",ih({},n,{dominantBaseline:"central",className:lt("recharts-radial-bar-label",c)}),j.createElement("defs",null,j.createElement("path",{id:T,d:E})),j.createElement("textPath",{xlinkHref:"#".concat(T)},r))},JQ=(e,t,r)=>{var{cx:n,cy:a,innerRadius:l,outerRadius:c,startAngle:u,endAngle:f}=e,m=(u+f)/2;if(r==="outside"){var{x:h,y:v}=wr(n,a,c+t,m);return{x:h,y:v,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,{x:b,y:S}=wr(n,a,x,m);return{x:b,y:S,textAnchor:"middle",verticalAnchor:"middle"}},ap=e=>e!=null&&"cx"in e&&Xe(e.cx),eX={angle:0,offset:5,zIndex:xa.label,position:"middle",textBreakAll:!1};function tX(e){if(!ap(e))return e;var{cx:t,cy:r,outerRadius:n}=e,a=n*2;return{x:t-n,y:r-n,width:a,upperWidth:a,lowerWidth:a,height:a}}function K4(e){var t=li(e,eX),{viewBox:r,parentViewBox:n,position:a,value:l,children:c,content:u,className:f="",textBreakAll:m,labelRef:h}=t,v=WQ(),x=VQ(),b=a==="center"?x:v??x,S,w,y;r==null?S=b:ap(r)?S=r:S=O1(r);var C=tX(S);if(!S||zn(l)&&zn(c)&&!j.isValidElement(u)&&typeof u!="function")return null;var M=Am(Am({},t),{},{viewBox:S});if(j.isValidElement(u)){var{labelRef:A}=M,_=ND(M,FQ);return j.cloneElement(u,_)}if(typeof u=="function"){var{content:E}=M,T=ND(M,BQ);if(w=j.createElement(u,T),j.isValidElement(w))return w}else w=KQ(t);var P=ra(t);if(ap(S)){if(a==="insideStart"||a==="insideEnd"||a==="end")return ZQ(t,a,w,P,S);y=JQ(S,t.offset,t.position)}else{if(!C)return null;var O=zQ({viewBox:C,position:a,offset:t.offset,parentViewBox:ap(n)?void 0:n});y=Am(Am({x:O.x,y:O.y,textAnchor:O.horizontalAnchor,verticalAnchor:O.verticalAnchor},O.width!==void 0?{width:O.width}:{}),O.height!==void 0?{height:O.height}:{})}return j.createElement(Ud,{zIndex:t.zIndex},j.createElement(Ww,ih({ref:h,className:lt("recharts-label",f)},P,y,{textAnchor:EQ(P.textAnchor)?P.textAnchor:y.textAnchor,breakAll:m}),w))}K4.displayName="Label";var pb={},hb={},CD;function rX(){return CD||(CD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(hb)),hb}var vb={},AD;function nX(){return AD||(AD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(vb)),vb}var MD;function aX(){return MD||(MD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rX(),r=nX(),n=j1();function a(l){if(n.isArrayLike(l))return t.last(r.toArray(l))}e.last=a})(pb)),pb}var xb,kD;function iX(){return kD||(kD=1,xb=aX().last),xb}var sX=iX();const lX=ni(sX);var oX=["valueAccessor"],cX=["dataKey","clockWise","id","textBreakAll","zIndex"];function sh(){return sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sh.apply(null,arguments)}function DD(e,t){if(e==null)return{};var r,n,a=uX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dX=e=>Array.isArray(e.value)?lX(e.value):e.value,Q4=j.createContext(void 0);Q4.Provider;var X4=j.createContext(void 0),fX=X4.Provider;function mX(){return j.useContext(Q4)}function pX(){return j.useContext(X4)}function ip(e){var{valueAccessor:t=dX}=e,r=DD(e,oX),{dataKey:n,clockWise:a,id:l,textBreakAll:c,zIndex:u}=r,f=DD(r,cX),m=mX(),h=pX(),v=m||h;return!v||!v.length?null:j.createElement(Ud,{zIndex:u??xa.label},j.createElement(Us,{className:"recharts-label-list"},v.map((x,b)=>{var S,w=zn(n)?t(x,b):cr(x.payload,n),y=zn(l)?{}:{id:"".concat(l,"-").concat(b)};return j.createElement(K4,sh({key:"label-".concat(b)},ra(x),f,y,{fill:(S=r.fill)!==null&&S!==void 0?S:x.fill,parentViewBox:x.parentViewBox,value:w,textBreakAll:c,viewBox:x.viewBox,index:b,zIndex:0}))})))}ip.displayName="LabelList";function hX(e){var{label:t}=e;return t?t===!0?j.createElement(ip,{key:"labelList-implicit"}):j.isValidElement(t)||QQ(t)?j.createElement(ip,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(ip,sh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var Z4=e=>e.graphicalItems.polarItems,vX=ne([ar,zd],bw),hv=ne([Z4,dr,vX],yw),xX=ne([hv],ww),vv=ne([xX,ow],jw),gX=ne([vv,dr,hv],Sw);ne([vv,dr,hv],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var l,c=cr(n,(l=t.dataKey)!==null&&l!==void 0?l:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:cr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var ED=()=>{},bX=ne([vv,dr,hv,dv,ar],kw),yX=ne([dr,Aw,Mw,ED,bX,ED,er,ar],Dw),J4=ne([dr,er,vv,gX,Ld,ar,yX],Ew),wX=ne([J4,_c,rl],Tw),jX=ne([dr,J4,wX,ar],Iw);ne([rl,jX],UP);var NX={radiusAxis:{},angleAxis:{}},e3=wn({name:"polarAxis",initialState:NX,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Lle,removeRadiusAxis:zle,addAngleAxis:Fle,removeAngleAxis:Ble}=e3.actions,SX=e3.reducer;function CX(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function _D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_D(Object(r),!0).forEach(function(n){AX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_D(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AX(e,t,r){return(t=MX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MX(e){var t=kX(e,"string");return typeof t=="symbol"?t:t+""}function kX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DX=(e,t)=>t,Kw=ne([Z4,DX],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),EX=[],Qw=(e,t,r)=>r?.length===0?EX:r,t3=ne([ow,Kw,Qw],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(l=>OD(OD({},t.presentationProps),l.props))),a!=null)return a}}),_X=ne([t3,Kw,Qw],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var l,c=cr(n,t.nameKey,t.name),u;return r!=null&&(l=r[a])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?u=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?u=n.fill:u=t.fill,{value:vT(c,t.dataKey),color:u,payload:n,type:t.legendType}})}),OX=ne([t3,Kw,Qw,Tr],(e,t,r,n)=>{if(!(t==null||e==null))return IZ({offset:n,pieSettings:t,displayedData:e,cells:r})}),gb={exports:{}},It={};var TD;function TX(){if(TD)return It;TD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function S(w){if(typeof w=="object"&&w!==null){var y=w.$$typeof;switch(y){case e:switch(w=w.type,w){case r:case a:case n:case f:case m:case x:return w;default:switch(w=w&&w.$$typeof,w){case c:case u:case v:case h:return w;case l:return w;default:return y}}case t:return y}}}return It.ContextConsumer=l,It.ContextProvider=c,It.Element=e,It.ForwardRef=u,It.Fragment=r,It.Lazy=v,It.Memo=h,It.Portal=t,It.Profiler=a,It.StrictMode=n,It.Suspense=f,It.SuspenseList=m,It.isContextConsumer=function(w){return S(w)===l},It.isContextProvider=function(w){return S(w)===c},It.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},It.isForwardRef=function(w){return S(w)===u},It.isFragment=function(w){return S(w)===r},It.isLazy=function(w){return S(w)===v},It.isMemo=function(w){return S(w)===h},It.isPortal=function(w){return S(w)===t},It.isProfiler=function(w){return S(w)===a},It.isStrictMode=function(w){return S(w)===n},It.isSuspense=function(w){return S(w)===f},It.isSuspenseList=function(w){return S(w)===m},It.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===a||w===n||w===f||w===m||typeof w=="object"&&w!==null&&(w.$$typeof===v||w.$$typeof===h||w.$$typeof===c||w.$$typeof===l||w.$$typeof===u||w.$$typeof===b||w.getModuleId!==void 0)},It.typeOf=S,It}var PD;function PX(){return PD||(PD=1,gb.exports=TX()),gb.exports}var IX=PX(),ID=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",RD=null,bb=null,r3=e=>{if(e===RD&&Array.isArray(bb))return bb;var t=[];return j.Children.forEach(e,r=>{zn(r)||(IX.isFragment(r)?t=t.concat(r3(r.props.children)):t.push(r))}),bb=t,RD=e,t};function n3(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>ID(a)):n=[ID(t)],r3(e).forEach(a=>{var l=ad(a,"type.displayName")||ad(a,"type.name");l&&n.indexOf(l)!==-1&&r.push(a)}),r}var yb={},LD;function RX(){return LD||(LD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(yb)),yb}var wb,zD;function LX(){return zD||(zD=1,wb=RX().isPlainObject),wb}var zX=LX();const FX=ni(zX);var FD,BD,$D,qD,HD;function UD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UD(Object(r),!0).forEach(function(n){BX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BX(e,t,r){return(t=$X(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $X(e){var t=qX(e,"string");return typeof t=="symbol"?t:t+""}function qX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lh.apply(null,arguments)}function Bu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var VD=(e,t,r,n,a)=>{var l=r-n,c;return c=lr(FD||(FD=Bu(["M ",",",""])),e,t),c+=lr(BD||(BD=Bu(["L ",",",""])),e+r,t),c+=lr($D||($D=Bu(["L ",",",""])),e+r-l/2,t+a),c+=lr(qD||(qD=Bu(["L ",",",""])),e+r-l/2-n,t+a),c+=lr(HD||(HD=Bu(["L ",","," Z"])),e,t),c},HX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},UX=e=>{var t=li(e,HX),{x:r,y:n,upperWidth:a,lowerWidth:l,height:c,className:u}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isUpdateAnimationActive:v}=t,x=j.useRef(null),[b,S]=j.useState(-1),w=j.useRef(a),y=j.useRef(l),C=j.useRef(c),M=j.useRef(r),A=j.useRef(n),_=z1(e,"trapezoid-");if(j.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var W=x.current.getTotalLength();W&&S(W)}catch{}},[]),r!==+r||n!==+n||a!==+a||l!==+l||c!==+c||a===0&&l===0||c===0)return null;var E=lt("recharts-trapezoid",u);if(!v)return j.createElement("g",null,j.createElement("path",lh({},ra(t),{className:E,d:VD(r,n,a,l,c)})));var T=w.current,P=y.current,O=C.current,z=M.current,R=A.current,F="0px ".concat(b===-1?1:b,"px"),D="".concat(b,"px 0px"),X=TT(["strokeDasharray"],m,f);return j.createElement(L1,{animationId:_,key:_,canBegin:b>0,duration:m,easing:f,isActive:v,begin:h},W=>{var Z=ma(T,a,W),$=ma(P,l,W),G=ma(O,c,W),L=ma(z,r,W),te=ma(R,n,W);x.current&&(w.current=Z,y.current=$,C.current=G,M.current=L,A.current=te);var xe=W>0?{transition:X,strokeDasharray:D}:{strokeDasharray:F};return j.createElement("path",lh({},ra(t),{className:E,d:VD(L,te,Z,$,G),ref:x,style:YD(YD({},xe),t.style)}))})},YX=["option","shapeType","activeClassName"];function VX(e,t){if(e==null)return{};var r,n,a=GX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function GX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function GD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GD(Object(r),!0).forEach(function(n){WX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WX(e,t,r){return(t=KX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KX(e){var t=QX(e,"string");return typeof t=="symbol"?t:t+""}function QX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XX(e,t){return oh(oh({},t),e)}function ZX(e,t){return e==="symbols"}function WD(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return j.createElement(LT,r);case"trapezoid":return j.createElement(UX,r);case"sector":return j.createElement($T,r);case"symbols":if(ZX(t))return j.createElement(A5,r);break;case"curve":return j.createElement(I1,r);default:return null}}function JX(e){return j.isValidElement(e)?e.props:e}function eZ(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=VX(e,YX),l;if(j.isValidElement(t))l=j.cloneElement(t,oh(oh({},a),JX(t)));else if(typeof t=="function")l=t(a,a.index);else if(FX(t)&&typeof t!="boolean"){var c=XX(t,a);l=j.createElement(WD,{shapeType:r,elementProps:c})}else{var u=a;l=j.createElement(WD,{shapeType:r,elementProps:u})}return a.isActive?j.createElement(Us,{className:n},l):l}var tZ=(e,t,r)=>{var n=Ar();return(a,l)=>c=>{e?.(a,l,c),n(h4({activeIndex:String(l),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},rZ=e=>{var t=Ar();return(r,n)=>a=>{e?.(r,n,a),t(JG())}},nZ=(e,t,r)=>{var n=Ar();return(a,l)=>c=>{e?.(a,l,c),n(eW({activeIndex:String(l),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function aZ(e){var{tooltipEntrySettings:t}=e,r=Ar(),n=Qs(),a=j.useRef(null);return j.useLayoutEffect(()=>{n||(a.current===null?r(KG(t)):a.current!==t&&r(QG({prev:a.current,next:t})),a.current=t)},[t,r,n]),j.useLayoutEffect(()=>()=>{a.current&&(r(XG(a.current)),a.current=null)},[r]),null}function iZ(e){var{legendPayload:t}=e,r=Ar(),n=it(er),a=j.useRef(null);return j.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(D9(t)):a.current!==t&&r(E9({prev:a.current,next:t})),a.current=t)},[r,n,t]),j.useLayoutEffect(()=>()=>{a.current&&(r(_9(a.current)),a.current=null)},[r]),null}var jb,sZ=()=>{var[e]=j.useState(()=>id("uid-"));return e},lZ=(jb=n1.useId)!==null&&jb!==void 0?jb:sZ;function oZ(e,t){var r=lZ();return t||(e?"".concat(e,"-").concat(r):r)}var cZ=j.createContext(void 0),uZ=e=>{var{id:t,type:r,children:n}=e,a=oZ("recharts-".concat(r),t);return j.createElement(cZ.Provider,{value:a},n(a))},dZ={cartesianItems:[],polarItems:[]},a3=wn({name:"graphicalItems",initialState:dZ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Xt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ga(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Xt()},removeCartesianGraphicalItem:{reducer(e,t){var r=ga(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Xt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Xt()},removePolarGraphicalItem:{reducer(e,t){var r=ga(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Xt()}}}),{addCartesianGraphicalItem:$le,replaceCartesianGraphicalItem:qle,removeCartesianGraphicalItem:Hle,addPolarGraphicalItem:fZ,removePolarGraphicalItem:mZ}=a3.actions,pZ=a3.reducer;function hZ(e){var t=Ar();return j.useLayoutEffect(()=>(t(fZ(e)),()=>{t(mZ(e))}),[t,e]),null}var vZ=["key"],xZ=["onMouseEnter","onClick","onMouseLeave"],gZ=["id"],bZ=["id"];function KD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KD(Object(r),!0).forEach(function(n){yZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yZ(e,t,r){return(t=wZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wZ(e){var t=jZ(e,"string");return typeof t=="symbol"?t:t+""}function jZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vs(){return Vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vs.apply(null,arguments)}function xv(e,t){if(e==null)return{};var r,n,a=NZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function NZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function SZ(e){var t=j.useMemo(()=>n3(e.children,Yd),[e.children]),r=it(n=>_X(n,e.id,t));return r==null?null:j.createElement(iZ,{legendPayload:r})}var CZ=j.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:l,fill:c,name:u,hide:f,tooltipType:m,id:h}=e,v={dataDefinedOnItem:n.map(x=>x.tooltipPayload),getPosition:x=>{var b;return(b=n[Number(x)])===null||b===void 0?void 0:b.tooltipPosition},settings:{stroke:a,strokeWidth:l,fill:c,dataKey:t,nameKey:r,name:vT(u,t),hide:f,type:m,color:c,unit:"",graphicalItemId:h}};return j.createElement(aZ,{tooltipEntrySettings:v})}),AZ=(e,t)=>e>t?"start":e<t?"end":"middle",MZ=(e,t,r)=>In(typeof t=="function"?t(e):t,r,r*.8),kZ=(e,t,r)=>{var{top:n,left:a,width:l,height:c}=t,u=zT(l,c),f=a+In(e.cx,l,l/2),m=n+In(e.cy,c,c/2),h=In(e.innerRadius,u,0),v=MZ(r,e.outerRadius,u),x=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:f,cy:m,innerRadius:h,outerRadius:v,maxRadius:x}},DZ=(e,t)=>{var r=gn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},EZ=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var r=lt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=xv(t,vZ);return j.createElement(I1,Vs({},a,{type:"linear",className:r}))},_Z=(e,t,r)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),j.isValidElement(n)))return n;var a=lt("recharts-pie-label-text",CX(e));return j.createElement(Ww,Vs({},t,{alignmentBaseline:"middle",className:a}),n)};function OZ(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:l,dataKey:c}=r;if(!n||!a||!t)return null;var u=lc(r),f=Jb(a),m=Jb(l),h=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,v=t.map((x,b)=>{var S=(x.startAngle+x.endAngle)/2,w=wr(x.cx,x.cy,x.outerRadius+h,S),y=or(or(or(or({},u),x),{},{stroke:"none"},f),{},{index:b,textAnchor:AZ(w.x,x.cx)},w),C=or(or(or(or({},u),x),{},{fill:"none",stroke:x.fill},m),{},{index:b,points:[wr(x.cx,x.cy,x.outerRadius,S),w],key:"line"});return j.createElement(Ud,{zIndex:xa.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(b)},j.createElement(Us,null,l&&EZ(l,C),_Z(a,y,cr(x,c))))});return j.createElement(Us,{className:"recharts-pie-labels"},v)}function TZ(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?j.createElement(hX,{label:a}):j.createElement(OZ,{sectors:t,props:r,showLabels:n})}function PZ(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:l,id:c}=e,u=it(gd),f=it(E4),m=it(FW),{onMouseEnter:h,onClick:v,onMouseLeave:x}=a,b=xv(a,xZ),S=tZ(h,a.dataKey,c),w=rZ(x),y=nZ(v,a.dataKey,c);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((C,M)=>{if(C?.startAngle===0&&C?.endAngle===0&&t.length!==1)return null;var A=m==null||m===c,_=String(M)===u&&(f==null||a.dataKey===f)&&A,E=u?n:null,T=r&&_?r:E,P=or(or({},C),{},{stroke:C.stroke,tabIndex:-1,[gT]:M,[bT]:c});return j.createElement(Us,Vs({key:"sector-".concat(C?.startAngle,"-").concat(C?.endAngle,"-").concat(C.midAngle,"-").concat(M),tabIndex:-1,className:"recharts-pie-sector"},C$(b,C,M),{onMouseEnter:S(C,M),onMouseLeave:w(C,M),onClick:y(C,M)}),j.createElement(eZ,Vs({option:l??T,index:M,shapeType:"sector",isActive:_},P)))}))}function IZ(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:l}=e,{cornerRadius:c,startAngle:u,endAngle:f,dataKey:m,nameKey:h,tooltipType:v}=r,x=Math.abs(r.minAngle),b=DZ(u,f),S=Math.abs(b),w=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,y=n.filter(T=>cr(T,m,0)!==0).length,C=(S>=360?y:y-1)*w,M=S-y*x-C,A=n.reduce((T,P)=>{var O=cr(P,m,0);return T+(Xe(O)?O:0)},0),_;if(A>0){var E;_=n.map((T,P)=>{var O=cr(T,m,0),z=cr(T,h,P),R=kZ(r,l,T),F=(Xe(O)?O:0)/A,D,X=or(or({},T),a&&a[P]&&a[P].props);P?D=E.endAngle+gn(b)*w*(O!==0?1:0):D=u;var W=D+gn(b)*((O!==0?x:0)+F*M),Z=(D+W)/2,$=(R.innerRadius+R.outerRadius)/2,G=[{name:z,value:O,payload:X,dataKey:m,type:v,graphicalItemId:r.id}],L=wr(R.cx,R.cy,$,Z);return E=or(or(or(or({},r.presentationProps),{},{percent:F,cornerRadius:typeof c=="string"?parseFloat(c):c,name:z,tooltipPayload:G,midAngle:Z,middleRadius:$,tooltipPosition:L},X),R),{},{value:O,dataKey:m,startAngle:D,endAngle:W,payload:X,paddingAngle:gn(b)*w}),E})}return _}function RZ(e){var{showLabels:t,sectors:r,children:n}=e,a=j.useMemo(()=>!t||!r?[]:r.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[r,t]);return j.createElement(fX,{value:t?a:void 0},n)}function LZ(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,activeShape:m,inactiveShape:h,onAnimationStart:v,onAnimationEnd:x}=t,b=z1(t,"recharts-pie-"),S=r.current,[w,y]=j.useState(!1),C=j.useCallback(()=>{typeof x=="function"&&x(),y(!1)},[x]),M=j.useCallback(()=>{typeof v=="function"&&v(),y(!0)},[v]);return j.createElement(RZ,{showLabels:!w,sectors:a},j.createElement(L1,{animationId:b,begin:c,duration:u,isActive:l,easing:f,onAnimationStart:M,onAnimationEnd:C,key:b},A=>{var _,E=[],T=a&&a[0],P=(_=T?.startAngle)!==null&&_!==void 0?_:0;return a?.forEach((O,z)=>{var R=S&&S[z],F=z>0?ad(O,"paddingAngle",0):0;if(R){var D=ma(R.endAngle-R.startAngle,O.endAngle-O.startAngle,A),X=or(or({},O),{},{startAngle:P+F,endAngle:P+D+F});E.push(X),P=X.endAngle}else{var{endAngle:W,startAngle:Z}=O,$=ma(0,W-Z,A),G=or(or({},O),{},{startAngle:P+F,endAngle:P+$+F});E.push(G),P=G.endAngle}}),r.current=E,j.createElement(Us,null,j.createElement(PZ,{sectors:E,activeShape:m,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:n}))}),j.createElement(TZ,{showLabels:!w,sectors:a,props:t}),t.children)}var zZ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:xa.area};function FZ(e){var{id:t}=e,r=xv(e,gZ),{hide:n,className:a,rootTabIndex:l}=e,c=j.useMemo(()=>n3(e.children,Yd),[e.children]),u=it(h=>OX(h,t,c)),f=j.useRef(null),m=lt("recharts-pie",a);return n||u==null?(f.current=null,j.createElement(Us,{tabIndex:l,className:m})):j.createElement(Ud,{zIndex:e.zIndex},j.createElement(CZ,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),j.createElement(Us,{tabIndex:l,className:m},j.createElement(LZ,{props:or(or({},r),{},{sectors:u}),previousSectorsRef:f,id:t})))}function Xw(e){var t=li(e,zZ),{id:r}=t,n=xv(t,bZ),a=lc(n);return j.createElement(uZ,{id:r,type:"pie"},l=>j.createElement(j.Fragment,null,j.createElement(hZ,{type:"pie",id:l,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),j.createElement(SZ,Vs({},n,{id:l})),j.createElement(FZ,Vs({},n,{id:l}))))}Xw.displayName="Pie";function QD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QD(Object(r),!0).forEach(function(n){BZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BZ(e,t,r){return(t=$Z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Z(e){var t=qZ(e,"string");return typeof t=="symbol"?t:t+""}function qZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HZ={xAxis:{},yAxis:{},zAxis:{}},i3=wn({name:"cartesianAxis",initialState:HZ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Xt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Xt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Xt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Xt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Xt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Xt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Xt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Xt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Xt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var l,c=a.widthHistory||[];if(c.length===3&&c[0]===c[2]&&n===c[1]&&n!==a.width&&Math.abs(n-((l=c[0])!==null&&l!==void 0?l:0))<=1)return;var u=[...c,n].slice(-3);e.yAxis[r]=XD(XD({},a),{},{width:n,widthHistory:u})}}}}),{addXAxis:Ule,replaceXAxis:Yle,removeXAxis:Vle,addYAxis:Gle,replaceYAxis:Wle,removeYAxis:Kle,addZAxis:Qle,replaceZAxis:Xle,removeZAxis:Zle,updateYAxisWidth:Jle}=i3.actions,UZ=i3.reducer,YZ=ne([Tr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),VZ=ne([YZ,Xi,Zi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),GZ=()=>it(VZ),WZ=e=>{var{chartData:t}=e,r=Ar(),n=Qs();return j.useEffect(()=>n?()=>{}:(r(sD(t)),()=>{r(sD(void 0))}),[t,r,n]),null},ZD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},s3=wn({name:"brush",initialState:ZD,reducers:{setBrushSettings(e,t){return t.payload==null?ZD:t.payload}}}),{setBrushSettings:eoe}=s3.actions,KZ=s3.reducer,QZ={dots:[],areas:[],lines:[]},l3=wn({name:"referenceElements",initialState:QZ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ga(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ga(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ga(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:toe,removeDot:roe,addArea:noe,removeArea:aoe,addLine:ioe,removeLine:soe}=l3.actions,XZ=l3.reducer,ZZ=j.createContext(void 0),JZ=e=>{var{children:t}=e,[r]=j.useState("".concat(id("recharts"),"-clip")),n=GZ();if(n==null)return null;var{x:a,y:l,width:c,height:u}=n;return j.createElement(ZZ.Provider,{value:r},j.createElement("defs",null,j.createElement("clipPath",{id:r},j.createElement("rect",{x:a,y:l,height:u,width:c}))),t)},eJ={},o3=wn({name:"errorBars",initialState:eJ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(l=>l.dataKey===n.dataKey&&l.direction===n.direction?a:l))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:loe,replaceErrorBar:ooe,removeErrorBar:coe}=o3.actions,tJ=o3.reducer,Nb={exports:{}},Sb={};var JD;function rJ(){if(JD)return Sb;JD=1;var e=wc();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,l=e.useEffect,c=e.useMemo,u=e.useDebugValue;return Sb.useSyncExternalStoreWithSelector=function(f,m,h,v,x){var b=a(null);if(b.current===null){var S={hasValue:!1,value:null};b.current=S}else S=b.current;b=c(function(){function y(E){if(!C){if(C=!0,M=E,E=v(E),x!==void 0&&S.hasValue){var T=S.value;if(x(T,E))return A=T}return A=E}if(T=A,r(M,E))return T;var P=v(E);return x!==void 0&&x(T,P)?(M=E,T):(M=E,A=P)}var C=!1,M,A,_=h===void 0?null:h;return[function(){return y(m())},_===null?void 0:function(){return y(_())}]},[m,h,v,x]);var w=n(f,b[0],b[1]);return l(function(){S.hasValue=!0,S.value=w},[w]),u(w),w},Sb}var eE;function nJ(){return eE||(eE=1,Nb.exports=rJ()),Nb.exports}nJ();function aJ(e){e()}function iJ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){aJ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var tE={notify(){},get:()=>[]};function sJ(e,t){let r,n=tE,a=0,l=!1;function c(w){h();const y=n.subscribe(w);let C=!1;return()=>{C||(C=!0,y(),v())}}function u(){n.notify()}function f(){S.onStateChange&&S.onStateChange()}function m(){return l}function h(){a++,r||(r=e.subscribe(f),n=iJ())}function v(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=tE)}function x(){l||(l=!0,h())}function b(){l&&(l=!1,v())}const S={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:m,trySubscribe:x,tryUnsubscribe:b,getListeners:()=>n};return S}var lJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oJ=lJ(),cJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",uJ=cJ(),dJ=()=>oJ||uJ?j.useLayoutEffect:j.useEffect,fJ=dJ();function rE(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function mJ(e,t){if(rE(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!rE(e[r[a]],t[r[a]]))return!1;return!0}var pJ=Symbol.for("react-redux-context"),hJ=typeof globalThis<"u"?globalThis:{};function vJ(){if(!j.createContext)return{};const e=hJ[pJ]??=new Map;let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var xJ=vJ();function gJ(e){const{children:t,context:r,serverState:n,store:a}=e,l=j.useMemo(()=>{const f=sJ(a);return{store:a,subscription:f,getServerState:n?()=>n:void 0}},[a,n]),c=j.useMemo(()=>a.getState(),[a]);fJ(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const u=r||xJ;return j.createElement(u.Provider,{value:l},t)}var bJ=gJ,yJ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function wJ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function jJ(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(yJ.has(n)){if(e[n]==null&&t[n]==null)continue;if(!mJ(e[n],t[n]))return!1}else if(!wJ(e[n],t[n]))return!1;return!0}var NJ=(e,t)=>t,Zw=ne([NJ,er,$P,Ir,A4,es,rK,Tr],cK),Jw=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},c3=na("mouseClick"),u3=Dd();u3.startListening({actionCreator:c3,effect:(e,t)=>{var r=e.payload,n=Zw(t.getState(),Jw(r));n?.activeIndex!=null&&t.dispatch(tW({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Hy=na("mouseMove"),d3=Dd(),Mm=null;d3.startListening({actionCreator:Hy,effect:(e,t)=>{var r=e.payload;Mm!==null&&cancelAnimationFrame(Mm);var n=Jw(r);Mm=requestAnimationFrame(()=>{var a=t.getState(),l=zw(a,a.tooltip.settings.shared);if(l==="axis"){var c=Zw(a,n);c?.activeIndex!=null?t.dispatch(x4({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(v4())}Mm=null})}});function SJ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var nE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},f3=wn({name:"rootProps",initialState:nE,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:nE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),CJ=f3.reducer,{updateOptions:AJ}=f3.actions,MJ=null,kJ={updatePolarOptions:(e,t)=>t.payload},m3=wn({name:"polarOptions",initialState:MJ,reducers:kJ}),{updatePolarOptions:DJ}=m3.actions,EJ=m3.reducer,p3=na("keyDown"),h3=na("focus"),ej=Dd();ej.startListening({actionCreator:p3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=Fw(a,Ic(r),Bd(r),qd(r)),u=c==null?-1:Number(c);if(!(!Number.isFinite(u)||u<0)){var f=es(r);if(l==="Enter"){var m=ah(r,"axis","hover",String(a.index));t.dispatch(Fy({active:!a.active,activeIndex:a.index,activeCoordinate:m}));return}var h=YG(r),v=h==="left-to-right"?1:-1,x=l==="ArrowRight"?1:-1,b=u+x*v;if(!(f==null||b>=f.length||b<0)){var S=ah(r,"axis","hover",String(b));t.dispatch(Fy({active:!0,activeIndex:b.toString(),activeCoordinate:S}))}}}}}});ej.startListening({actionCreator:h3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var l="0",c=ah(r,"axis","hover",String(l));t.dispatch(Fy({active:!0,activeIndex:l,activeCoordinate:c}))}}}});var Jn=na("externalEvent"),v3=Dd(),Cb=new Map;v3.startListening({actionCreator:Jn,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,l=Cb.get(a);l!==void 0&&cancelAnimationFrame(l);var c=requestAnimationFrame(()=>{try{var u=t.getState(),f={activeCoordinate:$W(u),activeDataKey:E4(u),activeIndex:gd(u),activeLabel:D4(u),activeTooltipIndex:gd(u),isTooltipActive:qW(u)};r(f,n)}finally{Cb.delete(a)}});Cb.set(a,c)}}});var _J=ne([Tc],e=>e.tooltipItemPayloads),OJ=ne([_J,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(l=>l.settings.graphicalItemId===r);if(n!=null){var{getPosition:a}=n;if(a!=null)return a(t)}}}),x3=na("touchMove"),g3=Dd();g3.startListening({actionCreator:x3,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=zw(n,n.tooltip.settings.shared);if(a==="axis"){var l=r.touches[0];if(l==null)return;var c=Zw(n,Jw({clientX:l.clientX,clientY:l.clientY,currentTarget:r.currentTarget}));c?.activeIndex!=null&&t.dispatch(x4({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(a==="item"){var u,f=r.touches[0];if(document.elementFromPoint==null||f==null)return;var m=document.elementFromPoint(f.clientX,f.clientY);if(!m||!m.getAttribute)return;var h=m.getAttribute(gT),v=(u=m.getAttribute(bT))!==null&&u!==void 0?u:void 0,x=Pc(n).find(w=>w.id===v);if(h==null||x==null||v==null)return;var{dataKey:b}=x,S=OJ(n,h,v);t.dispatch(h4({activeDataKey:b,activeIndex:h,activeCoordinate:S,activeGraphicalItemId:v}))}}}});var TJ=$5({brush:KZ,cartesianAxis:UZ,chartData:$K,errorBars:tJ,graphicalItems:pZ,layout:SH,legend:O9,options:RK,polarAxis:SX,polarOptions:EJ,referenceElements:XZ,rootProps:CJ,tooltip:rW,zIndex:NK}),PJ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Kq({reducer:TJ,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([u3.middleware,d3.middleware,ej.middleware,v3.middleware,g3.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(rT({type:"raf"}))},devTools:{serialize:{replacer:SJ},name:"recharts-".concat(r)}})};function IJ(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Qs(),l=j.useRef(null);if(a)return r;l.current==null&&(l.current=PJ(t,n));var c=S1;return j.createElement(bJ,{context:c,store:l.current},r)}function RJ(e){var{layout:t,margin:r}=e,n=Ar(),a=Qs();return j.useEffect(()=>{a||(n(wH(t)),n(yH(r)))},[n,a,t,r]),null}var LJ=j.memo(RJ,jJ);function zJ(e){var t=Ar();return j.useEffect(()=>{t(AJ(e))},[t,e]),null}function aE(e){var{zIndex:t,isPanorama:r}=e,n=j.useRef(null),a=Ar();return j.useLayoutEffect(()=>(n.current&&a(wK({zIndex:t,element:n.current,isPanorama:r})),()=>{a(jK({zIndex:t,isPanorama:r}))}),[a,t,r]),j.createElement("g",{tabIndex:-1,ref:n})}function iE(e){var{children:t,isPanorama:r}=e,n=it(dK);if(!n||n.length===0)return t;var a=n.filter(c=>c<0),l=n.filter(c=>c>0);return j.createElement(j.Fragment,null,a.map(c=>j.createElement(aE,{key:c,zIndex:c,isPanorama:r})),t,l.map(c=>j.createElement(aE,{key:c,zIndex:c,isPanorama:r})))}var FJ=["children"];function BJ(e,t){if(e==null)return{};var r,n,a=$J(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $J(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ch.apply(null,arguments)}var qJ={width:"100%",height:"100%",display:"block"},HJ=j.forwardRef((e,t)=>{var r=p9(),n=h9(),a=OT();if(!Ys(r)||!Ys(n))return null;var{children:l,otherAttributes:c,title:u,desc:f}=e,m,h;return c!=null&&(typeof c.tabIndex=="number"?m=c.tabIndex:m=a?0:void 0,typeof c.role=="string"?h=c.role:h=a?"application":void 0),j.createElement(s5,ch({},c,{title:u,desc:f,role:h,tabIndex:m,width:r,height:n,style:qJ,ref:t}),l)}),UJ=e=>{var{children:t}=e,r=it(Wh);if(!r)return null;var{width:n,height:a,y:l,x:c}=r;return j.createElement(s5,{width:n,height:a,x:c,y:l},t)},sE=j.forwardRef((e,t)=>{var{children:r}=e,n=BJ(e,FJ),a=Qs();return a?j.createElement(UJ,null,j.createElement(iE,{isPanorama:!0},r)):j.createElement(HJ,ch({ref:t},n),j.createElement(iE,{isPanorama:!1},r))});function YJ(){var e=Ar(),[t,r]=j.useState(null),n=it(zH);return j.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),l=a.width/t.offsetWidth;Rt(l)&&l!==n&&e(NH(l))}},[t,e,n]),r}function lE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(r),!0).forEach(function(n){GJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GJ(e,t,r){return(t=WJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WJ(e){var t=KJ(e,"string");return typeof t=="symbol"?t:t+""}function KJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bs.apply(null,arguments)}var QJ=()=>(QK(),null);function uh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var XJ=j.forwardRef((e,t)=>{var r,n,a=j.useRef(null),[l,c]=j.useState({containerWidth:uh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:uh((n=e.style)===null||n===void 0?void 0:n.height)}),u=j.useCallback((m,h)=>{c(v=>{var x=Math.round(m),b=Math.round(h);return v.containerWidth===x&&v.containerHeight===b?v:{containerWidth:x,containerHeight:b}})},[]),f=j.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:h,height:v}=m.getBoundingClientRect();u(h,v);var x=S=>{var w=S[0];if(w!=null){var{width:y,height:C}=w.contentRect;u(y,C)}},b=new ResizeObserver(x);b.observe(m),a.current=b}},[t,u]);return j.useEffect(()=>()=>{var m=a.current;m?.disconnect()},[u]),j.createElement(j.Fragment,null,j.createElement(_d,{width:l.containerWidth,height:l.containerHeight}),j.createElement("div",Bs({ref:f},e)))}),ZJ=j.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,l]=j.useState({containerWidth:uh(r),containerHeight:uh(n)}),c=j.useCallback((f,m)=>{l(h=>{var v=Math.round(f),x=Math.round(m);return h.containerWidth===v&&h.containerHeight===x?h:{containerWidth:v,containerHeight:x}})},[]),u=j.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:m,height:h}=f.getBoundingClientRect();c(m,h)}},[t,c]);return j.createElement(j.Fragment,null,j.createElement(_d,{width:a.containerWidth,height:a.containerHeight}),j.createElement("div",Bs({ref:u},e)))}),JJ=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return j.createElement(j.Fragment,null,j.createElement(_d,{width:r,height:n}),j.createElement("div",Bs({ref:t},e)))}),eee=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?j.createElement(ZJ,Bs({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?j.createElement(JJ,Bs({},e,{width:r,height:n,ref:t})):j.createElement(j.Fragment,null,j.createElement(_d,{width:r,height:n}),j.createElement("div",Bs({ref:t},e)))});function tee(e){return e?XJ:eee}var ree=j.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:l,onContextMenu:c,onDoubleClick:u,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:v,onMouseUp:x,onTouchEnd:b,onTouchMove:S,onTouchStart:w,style:y,width:C,responsive:M,dispatchTouchEvents:A=!0}=e,_=j.useRef(null),E=Ar(),[T,P]=j.useState(null),[O,z]=j.useState(null),R=YJ(),F=_1(),D=F?.width>0?F.width:C,X=F?.height>0?F.height:a,W=j.useCallback(K=>{R(K),typeof t=="function"&&t(K),P(K),z(K),K!=null&&(_.current=K)},[R,t,P,z]),Z=j.useCallback(K=>{E(c3(K)),E(Jn({handler:l,reactEvent:K}))},[E,l]),$=j.useCallback(K=>{E(Hy(K)),E(Jn({handler:m,reactEvent:K}))},[E,m]),G=j.useCallback(K=>{E(v4()),E(Jn({handler:h,reactEvent:K}))},[E,h]),L=j.useCallback(K=>{E(Hy(K)),E(Jn({handler:v,reactEvent:K}))},[E,v]),te=j.useCallback(()=>{E(h3())},[E]),xe=j.useCallback(K=>{E(p3(K.key))},[E]),B=j.useCallback(K=>{E(Jn({handler:c,reactEvent:K}))},[E,c]),ae=j.useCallback(K=>{E(Jn({handler:u,reactEvent:K}))},[E,u]),ge=j.useCallback(K=>{E(Jn({handler:f,reactEvent:K}))},[E,f]),fe=j.useCallback(K=>{E(Jn({handler:x,reactEvent:K}))},[E,x]),Oe=j.useCallback(K=>{E(Jn({handler:w,reactEvent:K}))},[E,w]),ye=j.useCallback(K=>{A&&E(x3(K)),E(Jn({handler:S,reactEvent:K}))},[E,A,S]),he=j.useCallback(K=>{E(Jn({handler:b,reactEvent:K}))},[E,b]),Se=tee(M);return j.createElement(L4.Provider,{value:T},j.createElement(AB.Provider,{value:O},j.createElement(Se,{width:D??y?.width,height:X??y?.height,className:lt("recharts-wrapper",n),style:VJ({position:"relative",cursor:"default",width:D,height:X},y),onClick:Z,onContextMenu:B,onDoubleClick:ae,onFocus:te,onKeyDown:xe,onMouseDown:ge,onMouseEnter:$,onMouseLeave:G,onMouseMove:L,onMouseUp:fe,onTouchEnd:he,onTouchMove:ye,onTouchStart:Oe,ref:W},j.createElement(QJ,null),r)))}),nee=["width","height","responsive","children","className","style","compact","title","desc"];function aee(e,t){if(e==null)return{};var r,n,a=iee(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function iee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var see=j.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:l,className:c,style:u,compact:f,title:m,desc:h}=e,v=aee(e,nee),x=lc(v);return f?j.createElement(j.Fragment,null,j.createElement(_d,{width:r,height:n}),j.createElement(sE,{otherAttributes:x,title:m,desc:h},l)):j.createElement(ree,{className:c,style:u,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(sE,{otherAttributes:x,title:m,desc:h,ref:t},j.createElement(JZ,null,l)))});function lee(e){var t=Ar();return j.useEffect(()=>{t(DJ(e))},[t,e]),null}var oee=["layout"];function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(null,arguments)}function cee(e,t){if(e==null)return{};var r,n,a=uee(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dee={top:5,right:5,bottom:5,left:5},b3={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:dee,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},fee=j.forwardRef(function(t,r){var n,a=li(t.categoricalChartProps,b3),{layout:l}=a,c=cee(a,oee),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h}=t,v={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h,eventEmitter:void 0};return j.createElement(IJ,{preloadedState:{options:v},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},j.createElement(WZ,{chartData:a.data}),j.createElement(LJ,{layout:l,margin:a.margin}),j.createElement(zJ,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),j.createElement(lee,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),j.createElement(see,Uy({},c,{ref:r})))});function oE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(r),!0).forEach(function(n){mee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mee(e,t,r){return(t=pee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pee(e){var t=hee(e,"string");return typeof t=="symbol"?t:t+""}function hee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vee=["item"],xee=cE(cE({},b3),{},{layout:"centric",startAngle:0,endAngle:360}),y3=j.forwardRef((e,t)=>{var r=li(e,xee);return j.createElement(fee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:vee,tooltipPayloadSearcher:PK,categoricalChartProps:r,ref:t})});function Q(e){return e<0?`-${Q(-e)}`:e>=1e7?`${(e/1e7).toFixed(2)} Cr`:e>=1e5?`${(e/1e5).toFixed(2)} L`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${e.toLocaleString("en-IN")}`}const w3="cf_market_data",gee=300*1e3,uE=300*1e3;function bee(){try{const e=sessionStorage.getItem(w3);if(!e)return null;const t=JSON.parse(e);return Date.now()-t._ts>gee?null:t}catch{return null}}function yee(e){try{sessionStorage.setItem(w3,JSON.stringify({...e,_ts:Date.now()}))}catch{}}function wee(){const[e,t]=j.useState(()=>bee()),[r,n]=j.useState([]),a=j.useRef(null),[l,c]=j.useState(!1),[u,f]=j.useState(!1);j.useEffect(()=>{let v=!1;async function x(){try{const S=await Qz();if(!v&&S){const w={...S,_ts:Date.now()};t(w),yee(w)}}catch{}}x();const b=setInterval(x,uE);return()=>{v=!0,clearInterval(b)}},[]),j.useEffect(()=>{let v=!1;async function x(){try{const S=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=inr&include_24hr_change=true");if(!v&&S.ok){const w=await S.json(),y=[];w.bitcoin&&y.push({name:"BTC",price:w.bitcoin.inr,changePct:w.bitcoin.inr_24h_change||0,type:"crypto"}),w.ethereum&&y.push({name:"ETH",price:w.ethereum.inr,changePct:w.ethereum.inr_24h_change||0,type:"crypto"}),n(y)}}catch{}}x();const b=setInterval(x,uE);return()=>{v=!0,clearInterval(b)}},[]);const m=[];if(e?.indices&&m.push(...e.indices),e?.metals&&m.push(...e.metals),r.length>0&&m.push(...r),j.useEffect(()=>{if(!a.current)return;const v=a.current,x=v.parentElement;c(v.scrollWidth>x.clientWidth)},[m.length]),m.length===0)return null;const h=m.length*3;return s.jsxs("div",{className:"bg-[var(--bg-card)]/80 backdrop-blur-sm border-b border-[var(--border-light)] overflow-hidden",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onTouchStart:()=>f(!0),onTouchEnd:()=>f(!1),children:[s.jsx("div",{className:"overflow-hidden",children:s.jsxs("div",{ref:a,className:"flex items-stretch w-max",style:l?{animation:`ticker-scroll ${h}s linear infinite`,animationPlayState:u?"paused":"running"}:{margin:"0 auto"},children:[m.map((v,x)=>s.jsx(dE,{item:v},v.name+x)),l&&m.map((v,x)=>s.jsx(dE,{item:v},"dup-"+v.name+x))]})}),s.jsx("style",{children:`
        @keyframes ticker-scroll {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
      `})]})}function dE({item:e}){const t=e.changePct>=0,r=t?s.jsx(ic,{size:10}):s.jsx(yp,{size:10}),n=t?"text-emerald-400":"text-[var(--accent-rose)]",a=l=>l>=1e5?`${(l/1e5).toFixed(2)}L`:l>=1e3?`${l.toLocaleString("en-IN",{maximumFractionDigits:0})}`:`${l.toLocaleString("en-IN",{maximumFractionDigits:2})}`;return s.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 border-r border-[var(--border-light)] last:border-0 shrink-0",children:[s.jsx("span",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase whitespace-nowrap",children:e.name}),s.jsx("span",{className:"text-[11px] font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:e.unit?`${a(e.price)}`:a(e.price)}),e.changePct!==void 0&&e.changePct!==null&&s.jsxs("span",{className:`flex items-center gap-0.5 text-[10px] font-bold tabular-nums ${n}`,children:[r,t?"+":"",e.changePct.toFixed(2),"%"]})]})}function jee(){const{selectedMember:e}=Hr(),{mfPortfolios:t,mfHoldings:r,insurancePolicies:n,goalList:a,reminderList:l}=ht(),c=(x,b)=>{const S=x||[];return e==="all"?S:S.filter(w=>w[b]===e)},u=j.useMemo(()=>{let x=0,b=0,S=0;return c((t||[]).filter(C=>C.status!=="Inactive"),"ownerId").forEach(C=>{const M=(r||[]).filter(E=>E.portfolioId===C.portfolioId&&E.units>0),A=M.reduce((E,T)=>E+T.currentValue,0),_=(C.rebalanceThreshold||.05)*100;M.forEach(E=>{if(E.athNav>0&&E.belowATHPct>=10?b++:E.athNav>0&&E.belowATHPct>=5&&x++,E.targetAllocationPct>0&&A>0){const T=E.currentValue/A*100;Math.abs(T-E.targetAllocationPct)>_&&S++}})}),{buyOppCount:x+b,buyCount:x,strongBuyCount:b,rebalanceCount:S}},[e,t,r]),f=j.useMemo(()=>{const x=[],b=c((n||[]).filter(A=>A.status==="Active"),"memberId");b.some(A=>A.policyType==="Term Life")||x.push({type:"critical",title:"Missing Term Life Insurance",badge:"Add Policy",navigateTo:"/insurance"});const w=b.filter(A=>A.policyType==="Health").reduce((A,_)=>A+_.sumAssured,0);return w===0?x.push({type:"critical",title:"No Health Insurance",badge:"Add Policy",navigateTo:"/insurance"}):w<5e5&&x.push({type:"warning",title:"Inadequate Health Insurance",badge:Q(w),navigateTo:"/insurance"}),c((a||[]).filter(A=>A.isActive!==!1&&A.goalType==="Emergency Fund"),"familyMemberId").forEach(A=>{const _=A.targetAmount>0?A.currentValue/A.targetAmount*100:0;_<100&&x.push({type:_>=75?"info":"warning",title:`Emergency Fund at ${_.toFixed(0)}%`,badge:Q(A.targetAmount-A.currentValue)+" left",navigateTo:"/goals"})}),c((l||[]).filter(A=>A.isActive!==!1),"familyMemberId").filter(A=>new Date(A.dueDate)<new Date).forEach(A=>{const _=Math.ceil((new Date-new Date(A.dueDate))/864e5);x.push({type:"critical",title:A.title,badge:`${_}d overdue`,navigateTo:"/reminders"})}),c((a||[]).filter(A=>A.isActive!==!1&&A.status==="Needs Attention"),"familyMemberId").forEach(A=>{x.push({type:"warning",title:`${A.goalName} needs attention`,badge:A.priority,navigateTo:"/goals"})}),x},[e,n,a,l]),m=j.useMemo(()=>{const x=c((l||[]).filter(S=>S.isActive!==!1&&S.status!=="Completed"),"familyMemberId"),b=new Date;return x.map(S=>{const w=new Date(S.dueDate)-b,y=Math.ceil(w/(1440*60*1e3)),C=new Date(S.dueDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short"});return{...S,days:y,dateStr:C}}).filter(S=>S.days>=0&&S.days<=30).sort((S,w)=>S.days-w.days).slice(0,5)},[e,l]),h=f.length+u.buyOppCount+u.rebalanceCount+m.length,v=f.filter(x=>x.type==="critical").length;return{criticalAlerts:f,investmentSignals:u,upcomingReminders:m,totalCount:h,criticalCount:v}}function fE(e){return e>=20?"bg-rose-500/20 text-[var(--accent-rose)]":e>=10?"bg-orange-500/20 text-[var(--accent-orange)]":e>=5?"bg-amber-500/20 text-[var(--accent-amber)]":"bg-slate-500/20 text-[var(--text-muted)]"}function mE(e){return e>=10?{label:"Strong Buy",cls:"bg-emerald-500/20 text-emerald-400 ring-1 ring-emerald-500/30"}:e>=5?{label:"Buy",cls:"bg-blue-500/20 text-blue-400"}:null}function j3(){const{mfHoldings:e,mfPortfolios:t}=ht(),r=j.useMemo(()=>t.filter(a=>a.status!=="Inactive").map(a=>{const l=e.filter(f=>f.portfolioId===a.portfolioId&&f.units>0),c=l.reduce((f,m)=>f+m.currentValue,0),u=l.filter(f=>f.athNav>0&&f.belowATHPct>=1).sort((f,m)=>m.belowATHPct-f.belowATHPct).map(f=>({...f,currentPct:c>0?f.currentValue/c*100:0}));return{...a,totalValue:c,opportunities:u}}).filter(a=>a.opportunities.length>0),[t,e]);return r.reduce((a,l)=>a+l.opportunities.length,0)===0?s.jsxs("div",{className:"py-8 text-center",children:[s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No buy opportunities right now"}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"All funds are near their all-time highs"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] px-1",children:"Funds below their All-Time High NAV. Higher discount = better opportunity."}),r.map((a,l)=>s.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-emerald-500/50 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-[var(--bg-inset)]",children:[s.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-500/15 w-5 h-5 rounded flex items-center justify-center",children:l+1}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:a.portfolioName}),s.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:a.ownerName}),s.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15 text-emerald-400",children:[a.opportunities.length," funds"]})]}),s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),s.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Signal"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Below ATH"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"ATH NAV"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Current"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Value"})]})}),s.jsx("tbody",{children:a.opportunities.map(c=>{const u=mE(c.belowATHPct);return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[s.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[200px] truncate",children:c.fundName}),s.jsx("td",{className:"py-2 px-2 text-center",children:u?s.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded-full whitespace-nowrap ${u.cls}`,children:u.label}):s.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Watch"})}),s.jsx("td",{className:"py-2 px-2 text-right",children:s.jsxs("span",{className:`inline-block text-xs font-semibold px-1.5 py-0.5 rounded-full ${fE(c.belowATHPct)}`,children:["",c.belowATHPct.toFixed(1),"%"]})}),s.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:["",c.athNav.toFixed(2)]}),s.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:["",c.currentNav.toFixed(2)]}),s.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:Q(c.currentValue)})]},c.holdingId)})})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:a.opportunities.map(c=>{const u=mE(c.belowATHPct);return s.jsxs("div",{className:"px-3 py-2.5",children:[s.jsxs("div",{className:"flex items-start justify-between mb-1",children:[s.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight flex-1 mr-2",children:c.fundName}),s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[u&&s.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded-full ${u.cls}`,children:u.label}),s.jsxs("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${fE(c.belowATHPct)}`,children:["",c.belowATHPct.toFixed(1),"%"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)]",children:[s.jsxs("span",{children:["ATH ",c.athNav.toFixed(2),"  ",c.currentNav.toFixed(2)]}),s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:Q(c.currentValue)})]})]},c.holdingId)})})]},a.portfolioId))]})}const N3=6048e5,Nee=864e5,gv=6e4,bv=36e5,See=1e3,pE=Symbol.for("constructDateFrom");function _t(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&pE in e?e[pE](t):e instanceof Date?new e.constructor(t):new Date(t)}function Le(e,t){return _t(t||e,e)}function ba(e,t,r){const n=Le(e,r?.in);return isNaN(t)?_t(r?.in||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Na(e,t,r){const n=Le(e,r?.in);if(isNaN(t))return _t(e,NaN);if(!t)return n;const a=n.getDate(),l=_t(e,n.getTime());l.setMonth(n.getMonth()+t+1,0);const c=l.getDate();return a>=c?l:(n.setFullYear(l.getFullYear(),l.getMonth(),a),n)}function S3(e,t,r){return _t(e,+Le(e)+t)}function Cee(e,t,r){return S3(e,t*bv)}let Aee={};function ao(){return Aee}function Ki(e,t){const r=ao(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Le(e,t?.in),l=a.getDay(),c=(l<n?7:0)+l-n;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function mc(e,t){return Ki(e,{...t,weekStartsOn:1})}function C3(e,t){const r=Le(e,t?.in),n=r.getFullYear(),a=_t(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const l=mc(a),c=_t(r,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const u=mc(c);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function dh(e){const t=Le(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ts(e,...t){const r=_t.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function Zl(e,t){const r=Le(e,t?.in);return r.setHours(0,0,0,0),r}function pc(e,t,r){const[n,a]=ts(r?.in,e,t),l=Zl(n),c=Zl(a),u=+l-dh(l),f=+c-dh(c);return Math.round((u-f)/Nee)}function Mee(e,t){const r=C3(e,t),n=_t(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),mc(n)}function yd(e,t,r){const n=Le(e,r?.in);return n.setTime(n.getTime()+t*gv),n}function tj(e,t,r){return Na(e,t*3,r)}function kee(e,t,r){return S3(e,t*1e3)}function fh(e,t,r){return ba(e,t*7,r)}function ya(e,t,r){return Na(e,t*12,r)}function hE(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=_t.bind(null,a));const l=Le(a,n);(!r||r<l||isNaN(+l))&&(r=l)}),_t(n,r||NaN)}function vE(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=_t.bind(null,a));const l=Le(a,n);(!r||r>l||isNaN(+l))&&(r=l)}),_t(n,r||NaN)}function Dee(e,t,r){const[n,a]=ts(r?.in,e,t);return+Zl(n)==+Zl(a)}function Za(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function hc(e){return!(!Za(e)&&typeof e!="number"||isNaN(+Le(e)))}function mh(e,t,r){const[n,a]=ts(r?.in,e,t),l=n.getFullYear()-a.getFullYear(),c=n.getMonth()-a.getMonth();return l*12+c}function zs(e,t){const r=Le(e,t?.in);return Math.trunc(r.getMonth()/3)+1}function ph(e,t,r){const[n,a]=ts(r?.in,e,t),l=n.getFullYear()-a.getFullYear(),c=zs(n)-zs(a);return l*4+c}function hh(e,t,r){const[n,a]=ts(r?.in,e,t);return n.getFullYear()-a.getFullYear()}function Eee(e,t,r){const[n,a]=ts(r?.in,e,t),l=xE(n,a),c=Math.abs(pc(n,a));n.setDate(n.getDate()-l*c);const u=+(xE(n,a)===-l),f=l*(c-u);return f===0?0:f}function xE(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function A3(e,t){const r=Le(e,t?.in);return r.setHours(23,59,59,999),r}function M3(e,t){const r=Le(e,t?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function Yy(e,t){const r=Le(e,t?.in),n=r.getMonth(),a=n-n%3;return r.setMonth(a,1),r.setHours(0,0,0,0),r}function k3(e,t){const r=Le(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function D3(e,t){const r=Le(e,t?.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function yv(e,t){const r=Le(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function _ee(e,t){const r=ao(),n=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Le(e,t?.in),l=a.getDay(),c=(l<n?-7:0)+6-(l-n);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}const Oee={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Tee=(e,t,r)=>{let n;const a=Oee[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Ab(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Pee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Iee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ree={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Lee={date:Ab({formats:Pee,defaultWidth:"full"}),time:Ab({formats:Iee,defaultWidth:"full"}),dateTime:Ab({formats:Ree,defaultWidth:"full"})},zee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Fee=(e,t,r,n)=>zee[e];function $u(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=r?.width?String(r.width):c;a=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=r?.width?String(r.width):e.defaultWidth;a=e.values[u]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(t):t;return a[l]}}const Bee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$ee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qee={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Hee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Uee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Yee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Vee=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Gee={ordinalNumber:Vee,era:$u({values:Bee,defaultWidth:"wide"}),quarter:$u({values:$ee,defaultWidth:"wide",argumentCallback:e=>e-1}),month:$u({values:qee,defaultWidth:"wide"}),day:$u({values:Hee,defaultWidth:"wide"}),dayPeriod:$u({values:Uee,defaultWidth:"wide",formattingValues:Yee,defaultFormattingWidth:"wide"})};function qu(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],l=t.match(a);if(!l)return null;const c=l[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(u)?Kee(u,v=>v.test(c)):Wee(u,v=>v.test(c));let m;m=e.valueCallback?e.valueCallback(f):f,m=r.valueCallback?r.valueCallback(m):m;const h=t.slice(c.length);return{value:m,rest:h}}}function Wee(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Kee(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Qee(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],l=t.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=r.valueCallback?r.valueCallback(c):c;const u=t.slice(a.length);return{value:c,rest:u}}}const Xee=/^(\d+)(th|st|nd|rd)?/i,Zee=/\d+/i,Jee={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ete={any:[/^b/i,/^(a|c)/i]},tte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rte={any:[/1/i,/2/i,/3/i,/4/i]},nte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ate={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ite={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ste={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ote={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cte={ordinalNumber:Qee({matchPattern:Xee,parsePattern:Zee,valueCallback:e=>parseInt(e,10)}),era:qu({matchPatterns:Jee,defaultMatchWidth:"wide",parsePatterns:ete,defaultParseWidth:"any"}),quarter:qu({matchPatterns:tte,defaultMatchWidth:"wide",parsePatterns:rte,defaultParseWidth:"any",valueCallback:e=>e+1}),month:qu({matchPatterns:nte,defaultMatchWidth:"wide",parsePatterns:ate,defaultParseWidth:"any"}),day:qu({matchPatterns:ite,defaultMatchWidth:"wide",parsePatterns:ste,defaultParseWidth:"any"}),dayPeriod:qu({matchPatterns:lte,defaultMatchWidth:"any",parsePatterns:ote,defaultParseWidth:"any"})},E3={code:"en-US",formatDistance:Tee,formatLong:Lee,formatRelative:Fee,localize:Gee,match:cte,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ute(e,t){const r=Le(e,t?.in);return pc(r,yv(r))+1}function rj(e,t){const r=Le(e,t?.in),n=+mc(r)-+Mee(r);return Math.round(n/N3)+1}function nj(e,t){const r=Le(e,t?.in),n=r.getFullYear(),a=ao(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=_t(t?.in||e,0);c.setFullYear(n+1,0,l),c.setHours(0,0,0,0);const u=Ki(c,t),f=_t(t?.in||e,0);f.setFullYear(n,0,l),f.setHours(0,0,0,0);const m=Ki(f,t);return+r>=+u?n+1:+r>=+m?n:n-1}function dte(e,t){const r=ao(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=nj(e,t),l=_t(t?.in||e,0);return l.setFullYear(a,0,n),l.setHours(0,0,0,0),Ki(l,t)}function _3(e,t){const r=Le(e,t?.in),n=+Ki(r,t)-+dte(r,t);return Math.round(n/N3)+1}function Dt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ts={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Dt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Dt(r+1,2)},d(e,t){return Dt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Dt(e.getHours()%12||12,t.length)},H(e,t){return Dt(e.getHours(),t.length)},m(e,t){return Dt(e.getMinutes(),t.length)},s(e,t){return Dt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Dt(a,t.length)}},Yo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gE={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ts.y(e,t)},Y:function(e,t,r,n){const a=nj(e,n),l=a>0?a:1-a;if(t==="YY"){const c=l%100;return Dt(c,2)}return t==="Yo"?r.ordinalNumber(l,{unit:"year"}):Dt(l,t.length)},R:function(e,t){const r=C3(e);return Dt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Dt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Dt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Dt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ts.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Dt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=_3(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Dt(a,t.length)},I:function(e,t,r){const n=rj(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Dt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ts.d(e,t)},D:function(e,t,r){const n=ute(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Dt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),l=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Dt(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),l=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Dt(l,t.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Dt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Yo.noon:n===0?a=Yo.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Yo.evening:n>=12?a=Yo.afternoon:n>=4?a=Yo.morning:a=Yo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ts.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ts.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Dt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Dt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ts.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ts.s(e,t)},S:function(e,t){return Ts.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return yE(n);case"XXXX":case"XX":return Dl(n);default:return Dl(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return yE(n);case"xxxx":case"xx":return Dl(n);default:return Dl(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+bE(n,":");default:return"GMT"+Dl(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+bE(n,":");default:return"GMT"+Dl(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Dt(n,t.length)},T:function(e,t,r){return Dt(+e,t.length)}};function bE(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),l=n%60;return l===0?r+String(a):r+String(a)+t+Dt(l,2)}function yE(e,t){return e%60===0?(e>0?"-":"+")+Dt(Math.abs(e)/60,2):Dl(e,t)}function Dl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Dt(Math.trunc(n/60),2),l=Dt(n%60,2);return r+a+t+l}const wE=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},O3=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},fte=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return wE(e,t);let l;switch(n){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",wE(n,t)).replace("{{time}}",O3(a,t))},Vy={p:O3,P:fte},mte=/^D+$/,pte=/^Y+$/,hte=["D","DD","YY","YYYY"];function vte(e){return mte.test(e)}function xte(e){return pte.test(e)}function gte(e,t,r){const n=bte(e,t,r);if(console.warn(n),hte.includes(e))throw new RangeError(n)}function bte(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yte=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jte=/^'([^]*?)'?$/,Nte=/''/g,Ste=/[a-zA-Z]/;function jE(e,t,r){const n=ao(),a=r?.locale??n.locale??E3,l=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,u=Le(e,r?.in);if(!hc(u))throw new RangeError("Invalid time value");let f=t.match(wte).map(h=>{const v=h[0];if(v==="p"||v==="P"){const x=Vy[v];return x(h,a.formatLong)}return h}).join("").match(yte).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const v=h[0];if(v==="'")return{isToken:!1,value:Cte(h)};if(gE[v])return{isToken:!0,value:h};if(v.match(Ste))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:h}});a.localize.preprocessor&&(f=a.localize.preprocessor(u,f));const m={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return f.map(h=>{if(!h.isToken)return h.value;const v=h.value;(!r?.useAdditionalWeekYearTokens&&xte(v)||!r?.useAdditionalDayOfYearTokens&&vte(v))&&gte(v,t,String(e));const x=gE[v[0]];return x(u,v,a.localize,m)}).join("")}function Cte(e){const t=e.match(jte);return t?t[1].replace(Nte,"'"):e}function NE(e,t){return Le(e,t?.in).getDate()}function Ate(e,t){return Le(e,t?.in).getDay()}function Mte(e,t){const r=Le(e,t?.in),n=r.getFullYear(),a=r.getMonth(),l=_t(r,0);return l.setFullYear(n,a+1,0),l.setHours(0,0,0,0),l.getDate()}function kte(){return Object.assign({},ao())}function Kr(e,t){return Le(e,t?.in).getHours()}function Dte(e,t){const r=Le(e,t?.in).getDay();return r===0?7:r}function Qr(e,t){return Le(e,t?.in).getMinutes()}function xn(e,t){return Le(e,t?.in).getMonth()}function $s(e){return Le(e).getSeconds()}function Gy(e){return+Le(e)}function dt(e,t){return Le(e,t?.in).getFullYear()}function zi(e,t){return+Le(e)>+Le(t)}function Wa(e,t){return+Le(e)<+Le(t)}function Ete(e,t){return+Le(e)==+Le(t)}function _te(e,t){const r=Ote(t)?new t(0):_t(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function Ote(e){return typeof e=="function"&&e.prototype?.constructor===e}const Tte=10;class T3{subPriority=0;validate(t,r){return!0}}class Pte extends T3{constructor(t,r,n,a,l){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,l&&(this.subPriority=l)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class Ite extends T3{priority=Tte;subPriority=-1;constructor(t,r){super(),this.context=t||(n=>_t(r,n))}set(t,r){return r.timestampIsSet?t:_t(t,_te(t,this.context))}}class At{run(t,r,n,a){const l=this.parse(t,r,n,a);return l?{setter:new Pte(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}validate(t,r,n){return!0}}class Rte extends At{priority=140;parse(t,r,n){switch(r){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}}set(t,r,n){return r.era=n,t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const hr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ha={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function vr(e,t){return e&&{value:t(e.value),rest:e.rest}}function nr(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Ua(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,l=r[3]?parseInt(r[3],10):0,c=r[5]?parseInt(r[5],10):0;return{value:n*(a*bv+l*gv+c*See),rest:t.slice(r[0].length)}}function P3(e){return nr(hr.anyDigitsSigned,e)}function ur(e,t){switch(e){case 1:return nr(hr.singleDigit,t);case 2:return nr(hr.twoDigits,t);case 3:return nr(hr.threeDigits,t);case 4:return nr(hr.fourDigits,t);default:return nr(new RegExp("^\\d{1,"+e+"}"),t)}}function vh(e,t){switch(e){case 1:return nr(hr.singleDigitSigned,t);case 2:return nr(hr.twoDigitsSigned,t);case 3:return nr(hr.threeDigitsSigned,t);case 4:return nr(hr.fourDigitsSigned,t);default:return nr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function aj(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function I3(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const l=n+50,c=Math.trunc(l/100)*100,u=e>=l%100;a=e+c-(u?100:0)}return r?a:1-a}function R3(e){return e%400===0||e%4===0&&e%100!==0}class Lte extends At{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,r,n){const a=l=>({year:l,isTwoDigitYear:r==="yy"});switch(r){case"y":return vr(ur(4,t),a);case"yo":return vr(n.ordinalNumber(t,{unit:"year"}),a);default:return vr(ur(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n){const a=t.getFullYear();if(n.isTwoDigitYear){const c=I3(n.year,a);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const l=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class zte extends At{priority=130;parse(t,r,n){const a=l=>({year:l,isTwoDigitYear:r==="YY"});switch(r){case"Y":return vr(ur(4,t),a);case"Yo":return vr(n.ordinalNumber(t,{unit:"year"}),a);default:return vr(ur(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n,a){const l=nj(t,a);if(n.isTwoDigitYear){const u=I3(n.year,l);return t.setFullYear(u,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Ki(t,a)}const c=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(c,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Ki(t,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class Fte extends At{priority=130;parse(t,r){return vh(r==="R"?4:r.length,t)}set(t,r,n){const a=_t(t,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),mc(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class Bte extends At{priority=130;parse(t,r){return vh(r==="u"?4:r.length,t)}set(t,r,n){return t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class $te extends At{priority=120;parse(t,r,n){switch(r){case"Q":case"QQ":return ur(r.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class qte extends At{priority=120;parse(t,r,n){switch(r){case"q":case"qq":return ur(r.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class Hte extends At{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,r,n){const a=l=>l-1;switch(r){case"M":return vr(nr(hr.month,t),a);case"MM":return vr(ur(2,t),a);case"Mo":return vr(n.ordinalNumber(t,{unit:"month"}),a);case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}}class Ute extends At{priority=110;parse(t,r,n){const a=l=>l-1;switch(r){case"L":return vr(nr(hr.month,t),a);case"LL":return vr(ur(2,t),a);case"Lo":return vr(n.ordinalNumber(t,{unit:"month"}),a);case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function Yte(e,t,r){const n=Le(e,r?.in),a=_3(n,r)-t;return n.setDate(n.getDate()-a*7),Le(n,r?.in)}class Vte extends At{priority=100;parse(t,r,n){switch(r){case"w":return nr(hr.week,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return ur(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n,a){return Ki(Yte(t,n,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function Gte(e,t,r){const n=Le(e,r?.in),a=rj(n,r)-t;return n.setDate(n.getDate()-a*7),n}class Wte extends At{priority=100;parse(t,r,n){switch(r){case"I":return nr(hr.week,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return ur(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n){return mc(Gte(t,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const Kte=[31,28,31,30,31,30,31,31,30,31,30,31],Qte=[31,29,31,30,31,30,31,31,30,31,30,31];class Xte extends At{priority=90;subPriority=1;parse(t,r,n){switch(r){case"d":return nr(hr.date,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return ur(r.length,t)}}validate(t,r){const n=t.getFullYear(),a=R3(n),l=t.getMonth();return a?r>=1&&r<=Qte[l]:r>=1&&r<=Kte[l]}set(t,r,n){return t.setDate(n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class Zte extends At{priority=90;subpriority=1;parse(t,r,n){switch(r){case"D":case"DD":return nr(hr.dayOfYear,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return ur(r.length,t)}}validate(t,r){const n=t.getFullYear();return R3(n)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,n){return t.setMonth(0,n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function ij(e,t,r){const n=ao(),a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=Le(e,r?.in),c=l.getDay(),f=(t%7+7)%7,m=7-a,h=t<0||t>6?t-(c+m)%7:(f+m)%7-(c+m)%7;return ba(l,h,r)}class Jte extends At{priority=90;parse(t,r,n){switch(r){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,a){return t=ij(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class ere extends At{priority=90;parse(t,r,n,a){const l=c=>{const u=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+u};switch(r){case"e":case"ee":return vr(ur(r.length,t),l);case"eo":return vr(n.ordinalNumber(t,{unit:"day"}),l);case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,a){return t=ij(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class tre extends At{priority=90;parse(t,r,n,a){const l=c=>{const u=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+u};switch(r){case"c":case"cc":return vr(ur(r.length,t),l);case"co":return vr(n.ordinalNumber(t,{unit:"day"}),l);case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,a){return t=ij(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function rre(e,t,r){const n=Le(e,r?.in),a=Dte(n,r),l=t-a;return ba(n,l,r)}class nre extends At{priority=90;parse(t,r,n){const a=l=>l===0?7:l;switch(r){case"i":case"ii":return ur(r.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return vr(n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return vr(n.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return vr(n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a);default:return vr(n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,r){return r>=1&&r<=7}set(t,r,n){return t=rre(t,n),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class are extends At{priority=80;parse(t,r,n){switch(r){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(aj(n),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class ire extends At{priority=80;parse(t,r,n){switch(r){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(aj(n),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class sre extends At{priority=80;parse(t,r,n){switch(r){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(aj(n),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class lre extends At{priority=70;parse(t,r,n){switch(r){case"h":return nr(hr.hour12h,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return ur(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,n){const a=t.getHours()>=12;return a&&n<12?t.setHours(n+12,0,0,0):!a&&n===12?t.setHours(0,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class ore extends At{priority=70;parse(t,r,n){switch(r){case"H":return nr(hr.hour23h,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return ur(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,n){return t.setHours(n,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class cre extends At{priority=70;parse(t,r,n){switch(r){case"K":return nr(hr.hour11h,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return ur(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.getHours()>=12&&n<12?t.setHours(n+12,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class ure extends At{priority=70;parse(t,r,n){switch(r){case"k":return nr(hr.hour24h,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return ur(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,n){const a=n<=24?n%24:n;return t.setHours(a,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class dre extends At{priority=60;parse(t,r,n){switch(r){case"m":return nr(hr.minute,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return ur(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setMinutes(n,0,0),t}incompatibleTokens=["t","T"]}class fre extends At{priority=50;parse(t,r,n){switch(r){case"s":return nr(hr.second,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return ur(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setSeconds(n,0),t}incompatibleTokens=["t","T"]}class mre extends At{priority=30;parse(t,r){const n=a=>Math.trunc(a*Math.pow(10,-r.length+3));return vr(ur(r.length,t),n)}set(t,r,n){return t.setMilliseconds(n),t}incompatibleTokens=["t","T"]}class pre extends At{priority=10;parse(t,r){switch(r){case"X":return Ua(Ha.basicOptionalMinutes,t);case"XX":return Ua(Ha.basic,t);case"XXXX":return Ua(Ha.basicOptionalSeconds,t);case"XXXXX":return Ua(Ha.extendedOptionalSeconds,t);default:return Ua(Ha.extended,t)}}set(t,r,n){return r.timestampIsSet?t:_t(t,t.getTime()-dh(t)-n)}incompatibleTokens=["t","T","x"]}class hre extends At{priority=10;parse(t,r){switch(r){case"x":return Ua(Ha.basicOptionalMinutes,t);case"xx":return Ua(Ha.basic,t);case"xxxx":return Ua(Ha.basicOptionalSeconds,t);case"xxxxx":return Ua(Ha.extendedOptionalSeconds,t);default:return Ua(Ha.extended,t)}}set(t,r,n){return r.timestampIsSet?t:_t(t,t.getTime()-dh(t)-n)}incompatibleTokens=["t","T","X"]}class vre extends At{priority=40;parse(t){return P3(t)}set(t,r,n){return[_t(t,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class xre extends At{priority=20;parse(t){return P3(t)}set(t,r,n){return[_t(t,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const gre={G:new Rte,y:new Lte,Y:new zte,R:new Fte,u:new Bte,Q:new $te,q:new qte,M:new Hte,L:new Ute,w:new Vte,I:new Wte,d:new Xte,D:new Zte,E:new Jte,e:new ere,c:new tre,i:new nre,a:new are,b:new ire,B:new sre,h:new lre,H:new ore,K:new cre,k:new ure,m:new dre,s:new fre,S:new mre,X:new pre,x:new hre,t:new vre,T:new xre},bre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wre=/^'([^]*?)'?$/,jre=/''/g,Nre=/\S/,Sre=/[a-zA-Z]/;function Cre(e,t,r,n){const a=()=>_t(n?.in||r,NaN),l=kte(),c=n?.locale??l.locale??E3,u=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,f=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??l.weekStartsOn??l.locale?.options?.weekStartsOn??0;if(!t)return e?a():Le(r,n?.in);const m={firstWeekContainsDate:u,weekStartsOn:f,locale:c},h=[new Ite(n?.in,r)],v=t.match(yre).map(y=>{const C=y[0];if(C in Vy){const M=Vy[C];return M(y,c.formatLong)}return y}).join("").match(bre),x=[];for(let y of v){const C=y[0],M=gre[C];if(M){const{incompatibleTokens:A}=M;if(Array.isArray(A)){const E=x.find(T=>A.includes(T.token)||T.token===C);if(E)throw new RangeError(`The format string mustn't contain \`${E.fullToken}\` and \`${y}\` at the same time`)}else if(M.incompatibleTokens==="*"&&x.length>0)throw new RangeError(`The format string mustn't contain \`${y}\` and any other token at the same time`);x.push({token:C,fullToken:y});const _=M.run(e,y,c.match,m);if(!_)return a();h.push(_.setter),e=_.rest}else{if(C.match(Sre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(y==="''"?y="'":C==="'"&&(y=Are(y)),e.indexOf(y)===0)e=e.slice(y.length);else return a()}}if(e.length>0&&Nre.test(e))return a();const b=h.map(y=>y.priority).sort((y,C)=>C-y).filter((y,C,M)=>M.indexOf(y)===C).map(y=>h.filter(C=>C.priority===y).sort((C,M)=>M.subPriority-C.subPriority)).map(y=>y[0]);let S=Le(r,n?.in);if(isNaN(+S))return a();const w={};for(const y of b){if(!y.validate(S,m))return a();const C=y.set(S,w,m);Array.isArray(C)?(S=C[0],Object.assign(w,C[1])):S=C}return S}function Are(e){return e.match(wre)[1].replace(jre,"'")}function Mre(e,t,r){const[n,a]=ts(r?.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function kre(e,t,r){const[n,a]=ts(r?.in,e,t);return+Yy(n)==+Yy(a)}function Dre(e,t,r){const[n,a]=ts(r?.in,e,t);return n.getFullYear()===a.getFullYear()}function wd(e,t,r){const n=+Le(e,r?.in),[a,l]=[+Le(t.start,r?.in),+Le(t.end,r?.in)].sort((c,u)=>c-u);return n>=a&&n<=l}function Ere(e,t,r){return ba(e,-1,r)}function _re(e,t){const r=()=>_t(t?.in,NaN),a=Ire(e);let l;if(a.date){const m=Rre(a.date,2);l=Lre(m.restDateString,m.year)}if(!l||isNaN(+l))return r();const c=+l;let u=0,f;if(a.time&&(u=zre(a.time),isNaN(u)))return r();if(a.timezone){if(f=Fre(a.timezone),isNaN(f))return r()}else{const m=new Date(c+u),h=Le(0,t?.in);return h.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),h.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),h}return Le(c+u+f,t?.in)}const km={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ore=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Tre=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Pre=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Ire(e){const t={},r=e.split(km.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],km.timeZoneDelimiter.test(t.date)&&(t.date=e.split(km.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=km.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Rre(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,l=n[2]?parseInt(n[2]):null;return{year:l===null?a:l*100,restDateString:e.slice((n[1]||n[2]).length)}}function Lre(e,t){if(t===null)return new Date(NaN);const r=e.match(Ore);if(!r)return new Date(NaN);const n=!!r[4],a=Hu(r[1]),l=Hu(r[2])-1,c=Hu(r[3]),u=Hu(r[4]),f=Hu(r[5])-1;if(n)return Ure(t,u,f)?Bre(t,u,f):new Date(NaN);{const m=new Date(0);return!qre(t,l,c)||!Hre(t,a)?new Date(NaN):(m.setUTCFullYear(t,l,Math.max(a,c)),m)}}function Hu(e){return e?parseInt(e):1}function zre(e){const t=e.match(Tre);if(!t)return NaN;const r=Mb(t[1]),n=Mb(t[2]),a=Mb(t[3]);return Yre(r,n,a)?r*bv+n*gv+a*1e3:NaN}function Mb(e){return e&&parseFloat(e.replace(",","."))||0}function Fre(e){if(e==="Z")return 0;const t=e.match(Pre);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Vre(n,a)?r*(n*bv+a*gv):NaN}function Bre(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,l=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+l),n}const $re=[31,null,31,30,31,30,31,31,30,31,30,31];function L3(e){return e%400===0||e%4===0&&e%100!==0}function qre(e,t,r){return t>=0&&t<=11&&r>=1&&r<=($re[t]||(L3(e)?29:28))}function Hre(e,t){return t>=1&&t<=(L3(e)?366:365)}function Ure(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Yre(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Vre(e,t){return t>=0&&t<=59}function _n(e,t,r){const n=Le(e,r?.in),a=n.getFullYear(),l=n.getDate(),c=_t(e,0);c.setFullYear(a,t,15),c.setHours(0,0,0,0);const u=Mte(c);return n.setMonth(t,Math.min(l,u)),n}function sp(e,t,r){const n=Le(e,r?.in);return n.setHours(t),n}function lp(e,t,r){const n=Le(e,r?.in);return n.setMinutes(t),n}function Xo(e,t,r){const n=Le(e,r?.in),a=Math.trunc(n.getMonth()/3)+1,l=t-a;return _n(n,n.getMonth()+l*3)}function op(e,t,r){const n=Le(e,r?.in);return n.setSeconds(t),n}function $a(e,t,r){const n=Le(e,r?.in);return isNaN(+n)?_t(e,NaN):(n.setFullYear(t),n)}function Hl(e,t,r){return Na(e,-t,r)}function z3(e,t,r){return tj(e,-1,r)}function SE(e,t,r){return fh(e,-1,r)}function Gs(e,t,r){return ya(e,-t,r)}function wv(){return typeof window<"u"}function Rc(e){return F3(e)?(e.nodeName||"").toLowerCase():"#document"}function Ln(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function oi(e){var t;return(t=(F3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function F3(e){return wv()?e instanceof Node||e instanceof Ln(e).Node:!1}function tn(e){return wv()?e instanceof Element||e instanceof Ln(e).Element:!1}function ri(e){return wv()?e instanceof HTMLElement||e instanceof Ln(e).HTMLElement:!1}function CE(e){return!wv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ln(e).ShadowRoot}const Gre=new Set(["inline","contents"]);function Vd(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ia(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Gre.has(a)}const Wre=new Set(["table","td","th"]);function Kre(e){return Wre.has(Rc(e))}const Qre=[":popover-open",":modal"];function jv(e){return Qre.some(t=>{try{return e.matches(t)}catch{return!1}})}const Xre=["transform","translate","scale","rotate","perspective"],Zre=["transform","translate","scale","rotate","perspective","filter"],Jre=["paint","layout","strict","content"];function sj(e){const t=lj(),r=tn(e)?ia(e):e;return Xre.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Zre.some(n=>(r.willChange||"").includes(n))||Jre.some(n=>(r.contain||"").includes(n))}function ene(e){let t=Ws(e);for(;ri(t)&&!vc(t);){if(sj(t))return t;if(jv(t))return null;t=Ws(t)}return null}function lj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const tne=new Set(["html","body","#document"]);function vc(e){return tne.has(Rc(e))}function ia(e){return Ln(e).getComputedStyle(e)}function Nv(e){return tn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ws(e){if(Rc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||CE(e)&&e.host||oi(e);return CE(t)?t.host:t}function B3(e){const t=Ws(e);return vc(t)?e.ownerDocument?e.ownerDocument.body:e.body:ri(t)&&Vd(t)?t:B3(t)}function jd(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=B3(e),l=a===((n=e.ownerDocument)==null?void 0:n.body),c=Ln(a);if(l){const u=Wy(c);return t.concat(c,c.visualViewport||[],Vd(a)?a:[],u&&r?jd(u):[])}return t.concat(a,jd(a,[],r))}function Wy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const xc=Math.min,Ul=Math.max,xh=Math.round,Dm=Math.floor,Ja=e=>({x:e,y:e}),rne={left:"right",right:"left",bottom:"top",top:"bottom"},nne={start:"end",end:"start"};function ane(e,t,r){return Ul(e,xc(t,r))}function Sv(e,t){return typeof e=="function"?e(t):e}function gc(e){return e.split("-")[0]}function Gd(e){return e.split("-")[1]}function ine(e){return e==="x"?"y":"x"}function oj(e){return e==="y"?"height":"width"}const sne=new Set(["top","bottom"]);function Ll(e){return sne.has(gc(e))?"y":"x"}function cj(e){return ine(Ll(e))}function lne(e,t,r){r===void 0&&(r=!1);const n=Gd(e),a=cj(e),l=oj(a);let c=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=gh(c)),[c,gh(c)]}function one(e){const t=gh(e);return[Ky(e),t,Ky(t)]}function Ky(e){return e.replace(/start|end/g,t=>nne[t])}const AE=["left","right"],ME=["right","left"],cne=["top","bottom"],une=["bottom","top"];function dne(e,t,r){switch(e){case"top":case"bottom":return r?t?ME:AE:t?AE:ME;case"left":case"right":return t?cne:une;default:return[]}}function fne(e,t,r,n){const a=Gd(e);let l=dne(gc(e),r==="start",n);return a&&(l=l.map(c=>c+"-"+a),t&&(l=l.concat(l.map(Ky)))),l}function gh(e){return e.replace(/left|right|bottom|top/g,t=>rne[t])}function mne(e){return{top:0,right:0,bottom:0,left:0,...e}}function $3(e){return typeof e!="number"?mne(e):{top:e,right:e,bottom:e,left:e}}function bh(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}var pne=typeof document<"u",hne=function(){},yh=pne?j.useLayoutEffect:hne;const vne={...n1},xne=vne.useInsertionEffect,gne=xne||(e=>e());function bne(e){const t=j.useRef(()=>{});return gne(()=>{t.current=e}),j.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}function kE(e,t,r){let{reference:n,floating:a}=e;const l=Ll(t),c=cj(t),u=oj(c),f=gc(t),m=l==="y",h=n.x+n.width/2-a.width/2,v=n.y+n.height/2-a.height/2,x=n[u]/2-a[u]/2;let b;switch(f){case"top":b={x:h,y:n.y-a.height};break;case"bottom":b={x:h,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:v};break;case"left":b={x:n.x-a.width,y:v};break;default:b={x:n.x,y:n.y}}switch(Gd(t)){case"start":b[c]-=x*(r&&m?-1:1);break;case"end":b[c]+=x*(r&&m?-1:1);break}return b}async function yne(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:l,rects:c,elements:u,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:h="viewport",elementContext:v="floating",altBoundary:x=!1,padding:b=0}=Sv(t,e),S=$3(b),y=u[x?v==="floating"?"reference":"floating":v],C=bh(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(y)))==null||r?y:y.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:m,rootBoundary:h,strategy:f})),M=v==="floating"?{x:n,y:a,width:c.floating.width,height:c.floating.height}:c.reference,A=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),_=await(l.isElement==null?void 0:l.isElement(A))?await(l.getScale==null?void 0:l.getScale(A))||{x:1,y:1}:{x:1,y:1},E=bh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:M,offsetParent:A,strategy:f}):M);return{top:(C.top-E.top+S.top)/_.y,bottom:(E.bottom-C.bottom+S.bottom)/_.y,left:(C.left-E.left+S.left)/_.x,right:(E.right-C.right+S.right)/_.x}}const wne=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:l=[],platform:c}=r,u=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let m=await c.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:v}=kE(m,n,f),x=n,b={},S=0;for(let y=0;y<u.length;y++){var w;const{name:C,fn:M}=u[y],{x:A,y:_,data:E,reset:T}=await M({x:h,y:v,initialPlacement:n,placement:x,strategy:a,middlewareData:b,rects:m,platform:{...c,detectOverflow:(w=c.detectOverflow)!=null?w:yne},elements:{reference:e,floating:t}});h=A??h,v=_??v,b={...b,[C]:{...b[C],...E}},T&&S<=50&&(S++,typeof T=="object"&&(T.placement&&(x=T.placement),T.rects&&(m=T.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:a}):T.rects),{x:h,y:v}=kE(m,x,f)),y=-1)}return{x:h,y:v,placement:x,strategy:a,middlewareData:b}},jne=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:l,platform:c,elements:u,middlewareData:f}=t,{element:m,padding:h=0}=Sv(e,t)||{};if(m==null)return{};const v=$3(h),x={x:r,y:n},b=cj(a),S=oj(b),w=await c.getDimensions(m),y=b==="y",C=y?"top":"left",M=y?"bottom":"right",A=y?"clientHeight":"clientWidth",_=l.reference[S]+l.reference[b]-x[b]-l.floating[S],E=x[b]-l.reference[b],T=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let P=T?T[A]:0;(!P||!await(c.isElement==null?void 0:c.isElement(T)))&&(P=u.floating[A]||l.floating[S]);const O=_/2-E/2,z=P/2-w[S]/2-1,R=xc(v[C],z),F=xc(v[M],z),D=R,X=P-w[S]-F,W=P/2-w[S]/2+O,Z=ane(D,W,X),$=!f.arrow&&Gd(a)!=null&&W!==Z&&l.reference[S]/2-(W<D?R:F)-w[S]/2<0,G=$?W<D?W-D:W-X:0;return{[b]:x[b]+G,data:{[b]:Z,centerOffset:W-Z-G,...$&&{alignmentOffset:G}},reset:$}}}),Nne=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:l,rects:c,initialPlacement:u,platform:f,elements:m}=t,{mainAxis:h=!0,crossAxis:v=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:w=!0,...y}=Sv(e,t);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const C=gc(a),M=Ll(u),A=gc(u)===u,_=await(f.isRTL==null?void 0:f.isRTL(m.floating)),E=x||(A||!w?[gh(u)]:one(u)),T=S!=="none";!x&&T&&E.push(...fne(u,w,S,_));const P=[u,...E],O=await f.detectOverflow(t,y),z=[];let R=((n=l.flip)==null?void 0:n.overflows)||[];if(h&&z.push(O[C]),v){const W=lne(a,c,_);z.push(O[W[0]],O[W[1]])}if(R=[...R,{placement:a,overflows:z}],!z.every(W=>W<=0)){var F,D;const W=(((F=l.flip)==null?void 0:F.index)||0)+1,Z=P[W];if(Z&&(!(v==="alignment"?M!==Ll(Z):!1)||R.every(L=>Ll(L.placement)===M?L.overflows[0]>0:!0)))return{data:{index:W,overflows:R},reset:{placement:Z}};let $=(D=R.filter(G=>G.overflows[0]<=0).sort((G,L)=>G.overflows[1]-L.overflows[1])[0])==null?void 0:D.placement;if(!$)switch(b){case"bestFit":{var X;const G=(X=R.filter(L=>{if(T){const te=Ll(L.placement);return te===M||te==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(te=>te>0).reduce((te,xe)=>te+xe,0)]).sort((L,te)=>L[1]-te[1])[0])==null?void 0:X[0];G&&($=G);break}case"initialPlacement":$=u;break}if(a!==$)return{reset:{placement:$}}}return{}}}},Sne=new Set(["left","top"]);async function Cne(e,t){const{placement:r,platform:n,elements:a}=e,l=await(n.isRTL==null?void 0:n.isRTL(a.floating)),c=gc(r),u=Gd(r),f=Ll(r)==="y",m=Sne.has(c)?-1:1,h=l&&f?-1:1,v=Sv(t,e);let{mainAxis:x,crossAxis:b,alignmentAxis:S}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof S=="number"&&(b=u==="end"?S*-1:S),f?{x:b*h,y:x*m}:{x:x*m,y:b*h}}const Ane=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:l,placement:c,middlewareData:u}=t,f=await Cne(t,e);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:a+f.x,y:l+f.y,data:{...f,placement:c}}}}};function q3(e){const t=ia(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ri(e),l=a?e.offsetWidth:r,c=a?e.offsetHeight:n,u=xh(r)!==l||xh(n)!==c;return u&&(r=l,n=c),{width:r,height:n,$:u}}function uj(e){return tn(e)?e:e.contextElement}function nc(e){const t=uj(e);if(!ri(t))return Ja(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:l}=q3(t);let c=(l?xh(r.width):r.width)/n,u=(l?xh(r.height):r.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const Mne=Ja(0);function H3(e){const t=Ln(e);return!lj()||!t.visualViewport?Mne:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function kne(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ln(e)?!1:t}function Jl(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),l=uj(e);let c=Ja(1);t&&(n?tn(n)&&(c=nc(n)):c=nc(e));const u=kne(l,r,n)?H3(l):Ja(0);let f=(a.left+u.x)/c.x,m=(a.top+u.y)/c.y,h=a.width/c.x,v=a.height/c.y;if(l){const x=Ln(l),b=n&&tn(n)?Ln(n):n;let S=x,w=Wy(S);for(;w&&n&&b!==S;){const y=nc(w),C=w.getBoundingClientRect(),M=ia(w),A=C.left+(w.clientLeft+parseFloat(M.paddingLeft))*y.x,_=C.top+(w.clientTop+parseFloat(M.paddingTop))*y.y;f*=y.x,m*=y.y,h*=y.x,v*=y.y,f+=A,m+=_,S=Ln(w),w=Wy(S)}}return bh({width:h,height:v,x:f,y:m})}function Cv(e,t){const r=Nv(e).scrollLeft;return t?t.left+r:Jl(oi(e)).left+r}function U3(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Cv(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function Dne(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const l=a==="fixed",c=oi(n),u=t?jv(t.floating):!1;if(n===c||u&&l)return r;let f={scrollLeft:0,scrollTop:0},m=Ja(1);const h=Ja(0),v=ri(n);if((v||!v&&!l)&&((Rc(n)!=="body"||Vd(c))&&(f=Nv(n)),ri(n))){const b=Jl(n);m=nc(n),h.x=b.x+n.clientLeft,h.y=b.y+n.clientTop}const x=c&&!v&&!l?U3(c,f):Ja(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-f.scrollLeft*m.x+h.x+x.x,y:r.y*m.y-f.scrollTop*m.y+h.y+x.y}}function Ene(e){return Array.from(e.getClientRects())}function _ne(e){const t=oi(e),r=Nv(e),n=e.ownerDocument.body,a=Ul(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),l=Ul(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Cv(e);const u=-r.scrollTop;return ia(n).direction==="rtl"&&(c+=Ul(t.clientWidth,n.clientWidth)-a),{width:a,height:l,x:c,y:u}}const DE=25;function One(e,t){const r=Ln(e),n=oi(e),a=r.visualViewport;let l=n.clientWidth,c=n.clientHeight,u=0,f=0;if(a){l=a.width,c=a.height;const h=lj();(!h||h&&t==="fixed")&&(u=a.offsetLeft,f=a.offsetTop)}const m=Cv(n);if(m<=0){const h=n.ownerDocument,v=h.body,x=getComputedStyle(v),b=h.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,S=Math.abs(n.clientWidth-v.clientWidth-b);S<=DE&&(l-=S)}else m<=DE&&(l+=m);return{width:l,height:c,x:u,y:f}}const Tne=new Set(["absolute","fixed"]);function Pne(e,t){const r=Jl(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,l=ri(e)?nc(e):Ja(1),c=e.clientWidth*l.x,u=e.clientHeight*l.y,f=a*l.x,m=n*l.y;return{width:c,height:u,x:f,y:m}}function EE(e,t,r){let n;if(t==="viewport")n=One(e,r);else if(t==="document")n=_ne(oi(e));else if(tn(t))n=Pne(t,r);else{const a=H3(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return bh(n)}function Y3(e,t){const r=Ws(e);return r===t||!tn(r)||vc(r)?!1:ia(r).position==="fixed"||Y3(r,t)}function Ine(e,t){const r=t.get(e);if(r)return r;let n=jd(e,[],!1).filter(u=>tn(u)&&Rc(u)!=="body"),a=null;const l=ia(e).position==="fixed";let c=l?Ws(e):e;for(;tn(c)&&!vc(c);){const u=ia(c),f=sj(c);!f&&u.position==="fixed"&&(a=null),(l?!f&&!a:!f&&u.position==="static"&&!!a&&Tne.has(a.position)||Vd(c)&&!f&&Y3(e,c))?n=n.filter(h=>h!==c):a=u,c=Ws(c)}return t.set(e,n),n}function Rne(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const c=[...r==="clippingAncestors"?jv(t)?[]:Ine(t,this._c):[].concat(r),n],u=c[0],f=c.reduce((m,h)=>{const v=EE(t,h,a);return m.top=Ul(v.top,m.top),m.right=xc(v.right,m.right),m.bottom=xc(v.bottom,m.bottom),m.left=Ul(v.left,m.left),m},EE(t,u,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function Lne(e){const{width:t,height:r}=q3(e);return{width:t,height:r}}function zne(e,t,r){const n=ri(t),a=oi(t),l=r==="fixed",c=Jl(e,!0,l,t);let u={scrollLeft:0,scrollTop:0};const f=Ja(0);function m(){f.x=Cv(a)}if(n||!n&&!l)if((Rc(t)!=="body"||Vd(a))&&(u=Nv(t)),n){const b=Jl(t,!0,l,t);f.x=b.x+t.clientLeft,f.y=b.y+t.clientTop}else a&&m();l&&!n&&a&&m();const h=a&&!n&&!l?U3(a,u):Ja(0),v=c.left+u.scrollLeft-f.x-h.x,x=c.top+u.scrollTop-f.y-h.y;return{x:v,y:x,width:c.width,height:c.height}}function kb(e){return ia(e).position==="static"}function _E(e,t){if(!ri(e)||ia(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return oi(e)===r&&(r=r.ownerDocument.body),r}function V3(e,t){const r=Ln(e);if(jv(e))return r;if(!ri(e)){let a=Ws(e);for(;a&&!vc(a);){if(tn(a)&&!kb(a))return a;a=Ws(a)}return r}let n=_E(e,t);for(;n&&Kre(n)&&kb(n);)n=_E(n,t);return n&&vc(n)&&kb(n)&&!sj(n)?r:n||ene(e)||r}const Fne=async function(e){const t=this.getOffsetParent||V3,r=this.getDimensions,n=await r(e.floating);return{reference:zne(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Bne(e){return ia(e).direction==="rtl"}const $ne={convertOffsetParentRelativeRectToViewportRelativeRect:Dne,getDocumentElement:oi,getClippingRect:Rne,getOffsetParent:V3,getElementRects:Fne,getClientRects:Ene,getDimensions:Lne,getScale:nc,isElement:tn,isRTL:Bne};function G3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qne(e,t){let r=null,n;const a=oi(e);function l(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),l();const m=e.getBoundingClientRect(),{left:h,top:v,width:x,height:b}=m;if(u||t(),!x||!b)return;const S=Dm(v),w=Dm(a.clientWidth-(h+x)),y=Dm(a.clientHeight-(v+b)),C=Dm(h),A={rootMargin:-S+"px "+-w+"px "+-y+"px "+-C+"px",threshold:Ul(0,xc(1,f))||1};let _=!0;function E(T){const P=T[0].intersectionRatio;if(P!==f){if(!_)return c();P?c(!1,P):n=setTimeout(()=>{c(!1,1e-7)},1e3)}P===1&&!G3(m,e.getBoundingClientRect())&&c(),_=!1}try{r=new IntersectionObserver(E,{...A,root:a.ownerDocument})}catch{r=new IntersectionObserver(E,A)}r.observe(e)}return c(!0),l}function Hne(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,m=uj(e),h=a||l?[...m?jd(m):[],...jd(t)]:[];h.forEach(C=>{a&&C.addEventListener("scroll",r,{passive:!0}),l&&C.addEventListener("resize",r)});const v=m&&u?qne(m,r):null;let x=-1,b=null;c&&(b=new ResizeObserver(C=>{let[M]=C;M&&M.target===m&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var A;(A=b)==null||A.observe(t)})),r()}),m&&!f&&b.observe(m),b.observe(t));let S,w=f?Jl(e):null;f&&y();function y(){const C=Jl(e);w&&!G3(w,C)&&r(),w=C,S=requestAnimationFrame(y)}return r(),()=>{var C;h.forEach(M=>{a&&M.removeEventListener("scroll",r),l&&M.removeEventListener("resize",r)}),v?.(),(C=b)==null||C.disconnect(),b=null,f&&cancelAnimationFrame(S)}}const Une=Ane,Yne=Nne,OE=jne,Vne=(e,t,r)=>{const n=new Map,a={platform:$ne,...r},l={...a.platform,_c:n};return wne(e,t,{...a,platform:l})};var Gne=typeof document<"u",Wne=function(){},cp=Gne?j.useLayoutEffect:Wne;function wh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!wh(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const l=a[n];if(!(l==="_owner"&&e.$$typeof)&&!wh(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function W3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function TE(e,t){const r=W3(e);return Math.round(t*r)/r}function Db(e){const t=j.useRef(e);return cp(()=>{t.current=e}),t}function Kne(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:f,open:m}=e,[h,v]=j.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[x,b]=j.useState(n);wh(x,n)||b(n);const[S,w]=j.useState(null),[y,C]=j.useState(null),M=j.useCallback(L=>{L!==T.current&&(T.current=L,w(L))},[]),A=j.useCallback(L=>{L!==P.current&&(P.current=L,C(L))},[]),_=l||S,E=c||y,T=j.useRef(null),P=j.useRef(null),O=j.useRef(h),z=f!=null,R=Db(f),F=Db(a),D=Db(m),X=j.useCallback(()=>{if(!T.current||!P.current)return;const L={placement:t,strategy:r,middleware:x};F.current&&(L.platform=F.current),Vne(T.current,P.current,L).then(te=>{const xe={...te,isPositioned:D.current!==!1};W.current&&!wh(O.current,xe)&&(O.current=xe,Cd.flushSync(()=>{v(xe)}))})},[x,t,r,F,D]);cp(()=>{m===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,v(L=>({...L,isPositioned:!1})))},[m]);const W=j.useRef(!1);cp(()=>(W.current=!0,()=>{W.current=!1}),[]),cp(()=>{if(_&&(T.current=_),E&&(P.current=E),_&&E){if(R.current)return R.current(_,E,X);X()}},[_,E,X,R,z]);const Z=j.useMemo(()=>({reference:T,floating:P,setReference:M,setFloating:A}),[M,A]),$=j.useMemo(()=>({reference:_,floating:E}),[_,E]),G=j.useMemo(()=>{const L={position:r,left:0,top:0};if(!$.floating)return L;const te=TE($.floating,h.x),xe=TE($.floating,h.y);return u?{...L,transform:"translate("+te+"px, "+xe+"px)",...W3($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:te,top:xe}},[r,u,$.floating,h.x,h.y]);return j.useMemo(()=>({...h,update:X,refs:Z,elements:$,floatingStyles:G}),[h,X,Z,$,G])}const Qne=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?OE({element:n.current,padding:a}).fn(r):{}:n?OE({element:n,padding:a}).fn(r):{}}}},Xne=(e,t)=>({...Une(e),options:[e,t]}),Zne=(e,t)=>({...Yne(e),options:[e,t]}),Jne=(e,t)=>({...Qne(e),options:[e,t]}),eae={...n1};let PE=!1,tae=0;const IE=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+tae++;function rae(){const[e,t]=j.useState(()=>PE?IE():void 0);return yh(()=>{e==null&&t(IE())},[]),j.useEffect(()=>{PE=!0},[]),e}const nae=eae.useId,K3=nae||rae,aae=j.forwardRef(function(t,r){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:l,shift:c}},width:u=14,height:f=7,tipRadius:m=0,strokeWidth:h=0,staticOffset:v,stroke:x,d:b,style:{transform:S,...w}={},...y}=t,C=K3(),[M,A]=j.useState(!1);if(yh(()=>{if(!a)return;ia(a).direction==="rtl"&&A(!0)},[a]),!a)return null;const[_,E]=n.split("-"),T=_==="top"||_==="bottom";let P=v;(T&&c!=null&&c.x||!T&&c!=null&&c.y)&&(P=null);const O=h*2,z=O/2,R=u/2*(m/-8+1),F=f/2*m/4,D=!!b,X=P&&E==="end"?"bottom":"top";let W=P&&E==="end"?"right":"left";P&&M&&(W=E==="end"?"left":"right");const Z=l?.x!=null?P||l.x:"",$=l?.y!=null?P||l.y:"",G=b||"M0,0"+(" H"+u)+(" L"+(u-R)+","+(f-F))+(" Q"+u/2+","+f+" "+R+","+(f-F))+" Z",L={top:D?"rotate(180deg)":"",left:D?"rotate(90deg)":"rotate(-90deg)",bottom:D?"":"rotate(180deg)",right:D?"rotate(-90deg)":"rotate(90deg)"}[_];return s.jsxs("svg",{...y,"aria-hidden":!0,ref:r,width:D?u:u+O,height:u,viewBox:"0 0 "+u+" "+(f>u?f:u),style:{position:"absolute",pointerEvents:"none",[W]:Z,[X]:$,[_]:T||D?"100%":"calc(100% - "+O/2+"px)",transform:[L,S].filter(te=>!!te).join(" "),...w},children:[O>0&&s.jsx("path",{clipPath:"url(#"+C+")",fill:"none",stroke:x,strokeWidth:O+(b?0:1),d:G}),s.jsx("path",{stroke:O&&!b?y.fill:"none",d:G}),s.jsx("clipPath",{id:C,children:s.jsx("rect",{x:-z,y:z*(D?-1:1),width:u+O,height:u})})]})});function iae(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(a=>a(r))},on(t,r){e.has(t)||e.set(t,new Set),e.get(t).add(r)},off(t,r){var n;(n=e.get(t))==null||n.delete(r)}}}const sae=j.createContext(null),lae=j.createContext(null),oae=()=>{var e;return((e=j.useContext(sae))==null?void 0:e.id)||null},cae=()=>j.useContext(lae);function uae(e){const{open:t=!1,onOpenChange:r,elements:n}=e,a=K3(),l=j.useRef({}),[c]=j.useState(()=>iae()),u=oae()!=null,[f,m]=j.useState(n.reference),h=bne((b,S,w)=>{l.current.openEvent=b?S:void 0,c.emit("openchange",{open:b,event:S,reason:w,nested:u}),r?.(b,S,w)}),v=j.useMemo(()=>({setPositionReference:m}),[]),x=j.useMemo(()=>({reference:f||n.reference||null,floating:n.floating||null,domReference:n.reference}),[f,n.reference,n.floating]);return j.useMemo(()=>({dataRef:l,open:t,onOpenChange:h,elements:x,events:c,floatingId:a,refs:v}),[t,h,x,c,a,v])}function dae(e){e===void 0&&(e={});const{nodeId:t}=e,r=uae({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,a=n.elements,[l,c]=j.useState(null),[u,f]=j.useState(null),h=a?.domReference||l,v=j.useRef(null),x=cae();yh(()=>{h&&(v.current=h)},[h]);const b=Kne({...e,elements:{...a,...u&&{reference:u}}}),S=j.useCallback(A=>{const _=tn(A)?{getBoundingClientRect:()=>A.getBoundingClientRect(),getClientRects:()=>A.getClientRects(),contextElement:A}:A;f(_),b.refs.setReference(_)},[b.refs]),w=j.useCallback(A=>{(tn(A)||A===null)&&(v.current=A,c(A)),(tn(b.refs.reference.current)||b.refs.reference.current===null||A!==null&&!tn(A))&&b.refs.setReference(A)},[b.refs]),y=j.useMemo(()=>({...b.refs,setReference:w,setPositionReference:S,domReference:v}),[b.refs,w,S]),C=j.useMemo(()=>({...b.elements,domReference:h}),[b.elements,h]),M=j.useMemo(()=>({...b,...n,refs:y,elements:C,nodeId:t}),[b,y,C,t,n]);return yh(()=>{n.dataRef.current.floatingContext=M;const A=x?.nodesRef.current.find(_=>_.id===t);A&&(A.context=M)}),j.useMemo(()=>({...b,context:M,refs:y,elements:C}),[b,y,C,M])}var Qy=function(t,r){return Qy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(n[l]=a[l])},Qy(t,r)};function Ur(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Qy(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var st=function(){return st=Object.assign||function(r){for(var n,a=1,l=arguments.length;a<l;a++){n=arguments[a];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},st.apply(this,arguments)};function Ka(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,l;n<a;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))}var fae=function(e){var t=e.showTimeSelectOnly,r=t===void 0?!1:t,n=e.showTime,a=n===void 0?!1:n,l=e.className,c=e.children,u=e.inline,f=r?"Choose Time":"Choose Date".concat(a?" and Time":"");return ce.createElement("div",{className:l,"aria-label":f,role:u?void 0:"dialog","aria-modal":u?void 0:"true",translate:"no"},c)},mae=function(e,t){var r=j.useRef(null),n=j.useRef(e);j.useEffect(function(){n.current=e},[e]);var a=j.useCallback(function(l){var c,u=l.composed&&l.composedPath&&l.composedPath().find(function(f){return f instanceof Node})||l.target;r.current&&!r.current.contains(u)&&(t&&u instanceof HTMLElement&&u.classList.contains(t)||(c=n.current)===null||c===void 0||c.call(n,l))},[t]);return j.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),r},Av=function(e){var t=e.children,r=e.onClickOutside,n=e.className,a=e.containerRef,l=e.style,c=e.ignoreClass,u=mae(r,c);return ce.createElement("div",{className:n,style:l,ref:function(f){u.current=f,a&&(a.current=f)}},t)},Em=null,RE=!1;function Q3(){if(RE)return Em;RE=!0;try{var e="date-fns-tz";Em=require(e)}catch{Em=null}return Em}function LE(e,t){if(!t)return e;var r=Q3();return r?r.toZonedTime(e,t):e}function Di(e,t){if(!t)return e;var r=Q3();return r?r.fromZonedTime(e,t):e}var Ce;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Ce||(Ce={}));function X3(){var e=typeof window<"u"?window:globalThis;return e}var Wd=12;function bt(e){if(e==null)return new Date;var t=typeof e=="string"?_re(e):Le(e);return vn(t)?t:new Date}function Nl(e,t,r,n,a){a===void 0&&(a=bt());for(var l=bc(r)||bc(dj()),c=Array.isArray(t)?t:[t],u=0,f=c;u<f.length;u++){var m=f[u],h=Cre(e,m,a,{locale:l});if(vn(h)&&(!n||e===Gt(h,m,r)))return h}if(!n&&e&&e.length>=8){var v=new Date(e);if(hc(v))return v}return null}function pae(e,t){if(t===void 0&&(t=bt()),!e)return null;var r=e.match(/\b(1\d{3}|2\d{3})\b/);if(!r||!r[1])return null;var n=parseInt(r[1],10),a=e.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),l=a&&a[1]?parseInt(a[1],10)-1:t.getMonth();return new Date(n,l,1)}function vn(e){return hc(e)}function zl(e){return e==null?null:Za(e)&&hc(e)?e:null}function Gt(e,t,r){if(r==="en")return jE(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?bc(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||bc(dj()),jE(e,t,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function hn(e,t){var r=t.dateFormat,n=t.locale,a=Array.isArray(r)&&r.length>0?r[0]:r;return e&&Gt(e,a,n)||""}var Z3=" - ";function hae(e,t,r){if(!e&&!t)return"";var n=e?hn(e,r):"",a=t?hn(t,r):"",l=r.rangeSeparator||Z3;return"".concat(n).concat(l).concat(a)}function vae(e,t){if(!e?.length)return"";var r=e[0]?hn(e[0],t):"";if(e.length===1)return r;if(e.length===2&&e[1]){var n=hn(e[1],t);return"".concat(r,", ").concat(n)}var a=e.length-1;return"".concat(r," (+").concat(a,")")}function Ei(e,t){var r=t.hour,n=r===void 0?0:r,a=t.minute,l=a===void 0?0:a,c=t.second,u=c===void 0?0:c;return sp(lp(op(e,u),l),n)}function xae(e){return rj(e)}function gae(e,t){return Gt(e,"ddd",t)}function Xu(e){return Zl(e)}function qs(e,t,r){var n=bc(t||dj());return Ki(e,{locale:n,weekStartsOn:r})}function Fi(e){return k3(e)}function Zu(e){return yv(e)}function zE(e){return Yy(e)}function FE(){return Zl(bt())}function BE(e){return A3(e)}function bae(e){return _ee(e)}function yae(e){return M3(e)}function qa(e,t){return e&&t?Dre(e,t):!e&&!t}function Jr(e,t){return e&&t?Mre(e,t):!e&&!t}function jh(e,t){return e&&t?kre(e,t):!e&&!t}function pt(e,t){return e&&t?Dee(e,t):!e&&!t}function Fl(e,t){return e&&t?Ete(e,t):!e&&!t}function El(e,t,r){var n,a=Zl(t),l=A3(r);try{n=wd(e,{start:a,end:l})}catch{n=!1}return n}function dj(){var e=X3();return e.__localeId__}function bc(e){if(typeof e=="string"){var t=X3();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function wae(e,t,r){return t(Gt(e,"EEEE",r))}function jae(e,t){return Gt(e,"EEEEEE",t)}function Nae(e,t){return Gt(e,"EEE",t)}function fj(e,t){return Gt(_n(bt(),e),"LLLL",t)}function J3(e,t){return Gt(_n(bt(),e),"LLL",t)}function Sae(e,t){return Gt(Xo(bt(),e),"QQQ",t)}function ea(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,l=r.excludeDates,c=r.excludeDateIntervals,u=r.includeDates,f=r.includeDateIntervals,m=r.filterDate,h=r.disabled;return h?!0:Kd(e,{minDate:n,maxDate:a})||l&&l.some(function(v){return v instanceof Date?pt(e,v):pt(e,v.date)})||c&&c.some(function(v){var x=v.start,b=v.end;return wd(e,{start:x,end:b})})||u&&!u.some(function(v){return pt(e,v)})||f&&!f.some(function(v){var x=v.start,b=v.end;return wd(e,{start:x,end:b})})||m&&!m(bt(e))||!1}function mj(e,t){var r=t===void 0?{}:t,n=r.excludeDates,a=r.excludeDateIntervals;return a&&a.length>0?a.some(function(l){var c=l.start,u=l.end;return wd(e,{start:c,end:u})}):n&&n.some(function(l){var c;return l instanceof Date?pt(e,l):pt(e,(c=l.date)!==null&&c!==void 0?c:new Date)})||!1}function eI(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,l=r.excludeDates,c=r.includeDates,u=r.filterDate;return Kd(e,{minDate:n?k3(n):void 0,maxDate:a?M3(a):void 0})||l?.some(function(f){return Jr(e,f instanceof Date?f:f.date)})||c&&!c.some(function(f){return Jr(e,f)})||u&&!u(bt(e))||!1}function _m(e,t,r,n){var a=dt(e),l=xn(e),c=dt(t),u=xn(t),f=dt(n);return a===c&&a===f?l<=r&&r<=u:a<c?f===a&&l<=r||f===c&&u>=r||f<c&&f>a:!1}function Cae(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,l=r.excludeDates,c=r.includeDates;return Kd(e,{minDate:n,maxDate:a})||l&&l.some(function(u){return Jr(u instanceof Date?u:u.date,e)})||c&&!c.some(function(u){return Jr(u,e)})||!1}function Om(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,l=r.excludeDates,c=r.includeDates,u=r.filterDate,f=r.disabled;return f?!0:Kd(e,{minDate:n,maxDate:a})||l?.some(function(m){return jh(e,m instanceof Date?m:m.date)})||c&&!c.some(function(m){return jh(e,m)})||u&&!u(bt(e))||!1}function Tm(e,t,r){if(!t||!r||!hc(t)||!hc(r))return!1;var n=dt(t),a=dt(r);return n<=e&&a>=e}function up(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,l=r.excludeDates,c=r.includeDates,u=r.filterDate,f=r.disabled;if(f)return!0;var m=new Date(e,0,1);return Kd(m,{minDate:n?yv(n):void 0,maxDate:a?D3(a):void 0})||l?.some(function(h){return qa(m,h instanceof Date?h:h.date)})||c&&!c.some(function(h){return qa(m,h)})||u&&!u(bt(m))||!1}function Pm(e,t,r,n){var a=dt(e),l=zs(e),c=dt(t),u=zs(t),f=dt(n);return a===c&&a===f?l<=r&&r<=u:a<c?f===a&&l<=r||f===c&&u>=r||f<c&&f>a:!1}function Kd(e,t){var r,n=t===void 0?{}:t,a=n.minDate,l=n.maxDate;return(r=a&&pc(e,a)<0||l&&pc(e,l)>0)!==null&&r!==void 0?r:!1}function $E(e,t){return t.some(function(r){return Kr(r)===Kr(e)&&Qr(r)===Qr(e)&&$s(r)===$s(e)})}function qE(e,t){var r=t===void 0?{}:t,n=r.excludeTimes,a=r.includeTimes,l=r.filterTime;return n&&$E(e,n)||a&&!$E(e,a)||l&&!l(e)||!1}function HE(e,t){var r=t.minTime,n=t.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var a=bt();a=sp(a,Kr(e)),a=lp(a,Qr(e)),a=op(a,$s(e));var l=bt();l=sp(l,Kr(r)),l=lp(l,Qr(r)),l=op(l,$s(r));var c=bt();c=sp(c,Kr(n)),c=lp(c,Qr(n)),c=op(c,$s(n));var u;try{u=!wd(a,{start:l,end:c})}catch{u=!1}return u}function UE(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,l=Hl(e,1);return n&&mh(n,l)>0||a&&a.every(function(c){return mh(c,l)>0})||!1}function YE(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,l=Na(e,1);return n&&mh(l,n)>0||a&&a.every(function(c){return mh(l,c)>0})||!1}function Aae(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,l=yv(e),c=z3(l);return n&&ph(n,c)>0||a&&a.every(function(u){return ph(u,c)>0})||!1}function Mae(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,l=D3(e),c=tj(l,1);return n&&ph(c,n)>0||a&&a.every(function(u){return ph(c,u)>0})||!1}function VE(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,l=Gs(e,1);return n&&hh(n,l)>0||a&&a.every(function(c){return hh(c,l)>0})||!1}function kae(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.yearItemNumber,l=a===void 0?Wd:a,c=Zu(Gs(e,l)),u=Ii(c,l).endPeriod,f=n&&dt(n);return f&&f>u||!1}function GE(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,l=ya(e,1);return n&&hh(l,n)>0||a&&a.every(function(c){return hh(l,c)>0})||!1}function Dae(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.yearItemNumber,l=a===void 0?Wd:a,c=ya(e,l),u=Ii(c,l).startPeriod,f=n&&dt(n);return f&&f<u||!1}function tI(e){var t=e.minDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return pc(a,t)>=0});return vE(n)}else return r?vE(r):t}function rI(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return pc(a,t)<=0});return hE(n)}else return r?hE(r):t}function WE(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var n=new Map,a=0,l=e.length;a<l;a++){var c=e[a];if(Za(c)){var u=Gt(c,"MM.dd.yyyy"),f=n.get(u)||[];f.includes(t)||(f.push(t),n.set(u,f))}else if(typeof c=="object"){var m=Object.keys(c),h=(r=m[0])!==null&&r!==void 0?r:"",v=c[h];if(typeof h=="string"&&Array.isArray(v))for(var x=0,b=v.length;x<b;x++){var S=v[x];if(S){var u=Gt(S,"MM.dd.yyyy"),f=n.get(u)||[];f.includes(h)||(f.push(h),n.set(u,f))}}}}return n}function Eae(e,t){return e.length!==t.length?!1:e.every(function(r,n){return r===t[n]})}function _ae(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var r=new Map;return e.forEach(function(n){var a=n.date,l=n.holidayName;if(Za(a)){var c=Gt(a,"MM.dd.yyyy"),u=r.get(c)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===t&&Eae(u.holidayNames,[l]))){u.className=t;var f=u.holidayNames;u.holidayNames=f?Ka(Ka([],f,!0),[l],!1):[l],r.set(c,u)}}}),r}function Oae(e,t,r,n,a){for(var l=a.length,c=[],u=0;u<l;u++){var f=e,m=a[u];m&&(f=Cee(f,Kr(m)),f=yd(f,Qr(m)),f=kee(f,$s(m)));var h=yd(e,(r+1)*n);zi(f,t)&&Wa(f,h)&&m!=null&&c.push(m)}return c}function Vo(e){return e<10?"0".concat(e):"".concat(e)}function Ii(e,t){t===void 0&&(t=Wd);var r=Math.ceil(dt(e)/t)*t,n=r-(t-1);return{startPeriod:n,endPeriod:r}}function Tae(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}function KE(e){var t=e.getSeconds(),r=e.getMilliseconds();return Le(e.getTime()-t*1e3-r)}function nI(e,t){return KE(e).getTime()===KE(t).getTime()}function QE(e){if(!Za(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function Eb(e,t){if(!Za(e)||!Za(t))throw new Error("Invalid date received");var r=QE(e),n=QE(t);return Wa(r,n)}function aI(e){return e.key===Ce.Space}var _b=(function(e){Ur(t,e);function t(r){var n=e.call(this,r)||this;return n.inputRef=ce.createRef(),n.onTimeChange=function(a){var l,c;n.setState({time:a});var u=n.props.date,f=u instanceof Date&&!isNaN(+u),m=f?u:new Date;if(a?.includes(":")){var h=a.split(":"),v=h[0],x=h[1];m.setHours(Number(v)),m.setMinutes(Number(x))}(c=(l=n.props).onChange)===null||c===void 0||c.call(l,m)},n.renderTimeInput=function(){var a=n.state.time,l=n.props,c=l.date,u=l.timeString,f=l.customTimeInput;return f?j.cloneElement(f,{date:c,value:a,onChange:n.onTimeChange}):ce.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var m;(m=n.inputRef.current)===null||m===void 0||m.focus()},required:!0,value:a,onChange:function(m){n.onTimeChange(m.target.value||u)}})},n.state={time:n.props.timeString},n}return t.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},t.prototype.render=function(){return ce.createElement("div",{className:"react-datepicker__input-time-container"},ce.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ce.createElement("div",{className:"react-datepicker-time__input-container"},ce.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t})(j.Component),Pae=(function(e){Ur(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.dayEl=j.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var a,l,c=n.key;c===Ce.Space&&(n.preventDefault(),n.key=Ce.Enter),(l=(a=r.props).handleOnKeyDown)===null||l===void 0||l.call(a,n)},r.isSameDay=function(n){return pt(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var a=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(c){return r.isSameDayOrWeek(c)}):r.isSameDayOrWeek(r.props.selected),l=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!a&&r.isSameDayOrWeek(r.props.preSelection)&&!l},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),ea(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(){return mj(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return pt(r.props.day,qs(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&pt(n,qs(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,a=n.day,l=n.highlightDates;if(!l)return!1;var c=Gt(a,"MM.dd.yyyy");return l.get(c)},r.getHolidaysClass=function(){var n,a=r.props,l=a.day,c=a.holidays;if(!c)return[void 0];var u=Gt(l,"MM.dd.yyyy");return c.has(u)?[(n=c.get(u))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,a=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:El(a,l,c)},r.isInSelectingRange=function(){var n,a=r.props,l=a.day,c=a.selectsStart,u=a.selectsEnd,f=a.selectsRange,m=a.selectsDisabledDaysInRange,h=a.startDate,v=a.swapRange,x=a.endDate,b=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;if(r.isAfterMonth()||r.isBeforeMonth()||!(c||u||f)||!b||!m&&r.isDisabled())return!1;if(c&&x&&(Wa(b,x)||Fl(b,x)))return El(l,b,x);if(u&&h&&(zi(b,h)||Fl(b,h)))return El(l,h,b);if(f&&h&&!x){if(Fl(b,h)||zi(b,h))return El(l,h,b);if(v&&Wa(b,h))return El(l,b,h)}return!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,l=a.day,c=a.startDate,u=a.selectsStart,f=a.swapRange,m=a.selectsRange,h=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return u?pt(l,h):m&&f&&c&&h?pt(l,Wa(h,c)?h:c):pt(l,c)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,l=a.day,c=a.endDate,u=a.selectsEnd,f=a.selectsRange,m=a.swapRange,h=a.startDate,v=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return u?pt(l,v):f&&m&&h&&v?pt(l,Wa(v,h)?h:v):f?pt(l,v):pt(l,c)},r.isRangeStart=function(){var n=r.props,a=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:pt(l,a)},r.isRangeEnd=function(){var n=r.props,a=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:pt(c,a)},r.isWeekend=function(){var n=Ate(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===xn(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(xn(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(bt())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return r.isSameDayOrWeek(a)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var a=r.props.dayClassName?r.props.dayClassName(n):void 0;return lt("react-datepicker__day",a,"react-datepicker__day--"+gae(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,a=n.day,l=n.ariaLabelPrefixWhenEnabled,c=l===void 0?"Choose":l,u=n.ariaLabelPrefixWhenDisabled,f=u===void 0?"Not available":u,m=r.isDisabled()||r.isExcluded()?f:c;return"".concat(m," ").concat(Gt(a,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,a=n.day,l=n.holidays,c=l===void 0?new Map:l,u=n.excludeDates,f=Gt(a,"MM.dd.yyyy"),m=[];return c.has(f)&&m.push.apply(m,c.get(f).holidayNames),r.isExcluded()&&m.push(u?.filter(function(h){return h instanceof Date?pt(h,a):pt(h?.date,a)}).map(function(h){if(!(h instanceof Date))return h?.message})),m.join(", ")},r.getTabIndex=function(){var n=r.props.selected,a=r.props.preSelection,l=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&pt(a,n))?0:-1;return l},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(NE(r.props.day),r.props.day):NE(r.props.day)},r.render=function(){return ce.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&ce.createElement("span",{className:"overlay"},r.getTitle()))},r}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},t.prototype.isDayActiveElement=function(){var r,n,a;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t})(j.Component),Iae=(function(e){Ur(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.weekNumberEl=j.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var a,l,c=n.key;c===Ce.Space&&(n.preventDefault(),n.key=Ce.Enter),(l=(a=r.props).handleOnKeyDown)===null||l===void 0||l.call(a,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!pt(r.props.date,r.props.selected)&&pt(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||pt(r.props.date,r.props.selected)&&pt(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var a=!1;r.getTabIndex()===0&&!n?.isInputFocused&&pt(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(a=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},t.prototype.render=function(){var r=this.props,n=r.weekNumber,a=r.isWeekDisabled,l=r.ariaLabelPrefix,c=l===void 0?t.defaultProps.ariaLabelPrefix:l,u=r.onClick,f={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!a,"react-datepicker__week-number--selected":!!u&&pt(this.props.date,this.props.selected)};return ce.createElement("div",{ref:this.weekNumberEl,className:lt(f),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},t})(j.Component),Rae=(function(e){Ur(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isDisabled=function(n){return ea(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,a){r.props.onDayClick&&r.props.onDayClick(n,a)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,a,l){for(var c,u,f,m=new Date(n),h=0;h<7;h++){var v=new Date(n);v.setDate(v.getDate()+h);var x=!r.isDisabled(v);if(x){m=v;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(m,a,l),r.props.showWeekPicker&&r.handleDayClick(m,l),((c=r.props.shouldCloseOnSelect)!==null&&c!==void 0?c:t.defaultProps.shouldCloseOnSelect)&&((f=(u=r.props).setOpen)===null||f===void 0||f.call(u,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):xae(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),a=ba(n,6),l=new Date(n);l<=a;){if(!r.isDisabled(l))return!1;l=ba(l,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),a=[],l=r.formatWeekNumber(n);if(r.props.showWeekNumber){var c=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,l):void 0;a.push(ce.createElement(Iae,st({key:"W"},t.defaultProps,r.props,{weekNumber:l,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:c})))}return a.concat([0,1,2,3,4,5,6].map(function(u){var f=ba(n,u);return ce.createElement(Pae,st({},t.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,onClick:r.handleDayClick.bind(r,f),onMouseEnter:r.handleDayMouseEnter.bind(r,f)}))}))},r.startOfWeek=function(){return qs(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!pt(r.startOfWeek(),r.props.selected)&&pt(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":pt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return ce.createElement("div",{className:lt(r,n),role:"row"},this.renderDays())},t})(j.Component),Uu,Lae=6,ac={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Ob=(Uu={},Uu[ac.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Uu[ac.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Uu[ac.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Uu),Im=1;function XE(e,t){return e?ac.FOUR_COLUMNS:t?ac.TWO_COLUMNS:ac.THREE_COLUMNS}var zae=(function(e){Ur(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.MONTH_REFS=Ka([],Array(12),!0).map(function(){return j.createRef()}),r.QUARTER_REFS=Ka([],Array(4),!0).map(function(){return j.createRef()}),r.isDisabled=function(n){return ea(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(n){return mj(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,a){var l,c;(c=(l=r.props).onDayClick)===null||c===void 0||c.call(l,n,a,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var a,l;(l=(a=r.props).onDayMouseEnter)===null||l===void 0||l.call(a,n)},r.handleMouseLeave=function(){var n,a;(a=(n=r.props).onMouseLeave)===null||a===void 0||a.call(n)},r.isRangeStartMonth=function(n){var a=r.props,l=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:Jr(_n(l,n),c)},r.isRangeStartQuarter=function(n){var a=r.props,l=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:jh(Xo(l,n),c)},r.isRangeEndMonth=function(n){var a=r.props,l=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:Jr(_n(l,n),u)},r.isRangeEndQuarter=function(n){var a=r.props,l=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:jh(Xo(l,n),u)},r.isInSelectingRangeMonth=function(n){var a,l=r.props,c=l.day,u=l.selectsStart,f=l.selectsEnd,m=l.selectsRange,h=l.startDate,v=l.endDate,x=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(u||f||m)||!x?!1:u&&v?_m(x,v,n,c):f&&h||m&&h&&!v?_m(h,x,n,c):!1},r.isSelectingMonthRangeStart=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var l=r.props,c=l.day,u=l.startDate,f=l.selectsStart,m=_n(c,n),h=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return f?Jr(m,h):Jr(m,u)},r.isSelectingMonthRangeEnd=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var l=r.props,c=l.day,u=l.endDate,f=l.selectsEnd,m=l.selectsRange,h=_n(c,n),v=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return f||m?Jr(h,v):Jr(h,u)},r.isInSelectingRangeQuarter=function(n){var a,l=r.props,c=l.day,u=l.selectsStart,f=l.selectsEnd,m=l.selectsRange,h=l.startDate,v=l.endDate,x=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(u||f||m)||!x?!1:u&&v?Pm(x,v,n,c):f&&h||m&&h&&!v?Pm(h,x,n,c):!1},r.isWeekInMonth=function(n){var a=r.props.day,l=ba(n,6);return Jr(n,a)||Jr(l,a)},r.isCurrentMonth=function(n,a){return dt(n)===dt(bt())&&a===xn(bt())},r.isCurrentQuarter=function(n,a){return dt(n)===dt(bt())&&a===zs(bt())},r.isSelectedMonth=function(n,a,l){return xn(l)===a&&dt(n)===dt(l)},r.isSelectMonthInList=function(n,a,l){return l.some(function(c){return r.isSelectedMonth(n,a,c)})},r.isSelectedQuarter=function(n,a,l){return zs(l)===a&&dt(n)===dt(l)},r.isSelectQuarterInList=function(n,a,l){return l.some(function(c){return r.isSelectedQuarter(n,a,c)})},r.isMonthSelected=function(){var n=r.props,a=n.day,l=n.selected,c=n.selectedDates,u=n.selectsMultiple,f=xn(a);return u?c?.some(function(m){return r.isSelectedMonth(a,f,m)}):!!l&&r.isSelectedMonth(a,f,l)},r.isQuarterSelected=function(){var n=r.props,a=n.day,l=n.selected,c=n.selectedDates,u=n.selectsMultiple,f=zs(a);return u?c?.some(function(m){return r.isSelectedQuarter(a,f,m)}):!!l&&r.isSelectedQuarter(a,f,l)},r.renderWeeks=function(){if(!vn(r.props.day))return[];for(var n=[],a=r.props.fixedHeight,l=0,c=!1,u=qs(Fi(r.props.day),r.props.locale,r.props.calendarStartDay),f=function(S){return r.props.showWeekPicker?qs(S,r.props.locale,r.props.calendarStartDay):r.props.preSelection},m=function(S){return r.props.showWeekPicker?qs(S,r.props.locale,r.props.calendarStartDay):r.props.selected},h=r.props.selected?m(r.props.selected):void 0,v=r.props.preSelection?f(r.props.preSelection):void 0;n.push(ce.createElement(Rae,st({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:l,day:u,month:xn(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:h,preSelection:v,showWeekNumber:r.props.showWeekNumbers}))),!c;){l++,u=fh(u,1);var x=a&&l>=Lae,b=!a&&!r.isWeekInMonth(u);if(x||b)if(r.props.peekNextMonth)c=!0;else break}return n},r.onMonthClick=function(n,a){var l=r.isMonthDisabledForLabelDate(a),c=l.isDisabled,u=l.labelDate;c||r.handleDayClick(Fi(u),n)},r.onMonthMouseEnter=function(n){var a=r.isMonthDisabledForLabelDate(n),l=a.isDisabled,c=a.labelDate;l||r.handleDayMouseEnter(Fi(c))},r.handleMonthNavigation=function(n,a){var l,c,u,f;(c=(l=r.props).setPreSelection)===null||c===void 0||c.call(l,a),(f=(u=r.MONTH_REFS[n])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus()},r.handleKeyboardNavigation=function(n,a,l){var c,u=r.props,f=u.selected,m=u.preSelection,h=u.setPreSelection,v=u.minDate,x=u.maxDate,b=u.showFourColumnMonthYearPicker,S=u.showTwoColumnMonthYearPicker;if(m){var w=XE(b,S),y=r.getVerticalOffset(w),C=(c=Ob[w])===null||c===void 0?void 0:c.grid,M=function(P,O,z){var R,F,D=O,X=z;switch(P){case Ce.ArrowRight:D=Na(O,Im),X=z===11?0:z+Im;break;case Ce.ArrowLeft:D=Hl(O,Im),X=z===0?11:z-Im;break;case Ce.ArrowUp:D=Hl(O,y),X=!((R=C?.[0])===null||R===void 0)&&R.includes(z)?z+12-y:z-y;break;case Ce.ArrowDown:D=Na(O,y),X=!((F=C?.[C.length-1])===null||F===void 0)&&F.includes(z)?z-12+y:z+y;break}return{newCalculatedDate:D,newCalculatedMonth:X}},A=function(P,O,z){for(var R=40,F=P,D=!1,X=0,W=M(F,O,z),Z=W.newCalculatedDate,$=W.newCalculatedMonth;!D;){if(X>=R){Z=O,$=z;break}if(v&&Z<v){F=Ce.ArrowRight;var G=M(F,Z,$);Z=G.newCalculatedDate,$=G.newCalculatedMonth}if(x&&Z>x){F=Ce.ArrowLeft;var G=M(F,Z,$);Z=G.newCalculatedDate,$=G.newCalculatedMonth}if(Cae(Z,r.props)){var G=M(F,Z,$);Z=G.newCalculatedDate,$=G.newCalculatedMonth}else D=!0;X++}return{newCalculatedDate:Z,newCalculatedMonth:$}};if(a===Ce.Enter){r.isMonthDisabled(l)||(r.onMonthClick(n,l),h?.(f));return}var _=A(a,m,l),E=_.newCalculatedDate,T=_.newCalculatedMonth;switch(a){case Ce.ArrowRight:case Ce.ArrowLeft:case Ce.ArrowUp:case Ce.ArrowDown:r.handleMonthNavigation(T,E);break}}},r.getVerticalOffset=function(n){var a,l;return(l=(a=Ob[n])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&l!==void 0?l:0},r.onMonthKeyDown=function(n,a){var l=r.props,c=l.disabledKeyboardNavigation,u=l.handleOnMonthKeyDown,f=n.key;f!==Ce.Tab&&n.preventDefault(),c||r.handleKeyboardNavigation(n,f,a),u&&u(n)},r.onQuarterClick=function(n,a){var l=Xo(r.props.day,a);Om(l,r.props)||r.handleDayClick(zE(l),n)},r.onQuarterMouseEnter=function(n){var a=Xo(r.props.day,n);Om(a,r.props)||r.handleDayMouseEnter(zE(a))},r.handleQuarterNavigation=function(n,a){var l,c,u,f;r.isDisabled(a)||r.isExcluded(a)||((c=(l=r.props).setPreSelection)===null||c===void 0||c.call(l,a),(f=(u=r.QUARTER_REFS[n-1])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus())},r.onQuarterKeyDown=function(n,a){var l,c,u=n.key;if(!r.props.disabledKeyboardNavigation)switch(u){case Ce.Enter:r.onQuarterClick(n,a),(c=(l=r.props).setPreSelection)===null||c===void 0||c.call(l,r.props.selected);break;case Ce.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===4?1:a+1,tj(r.props.preSelection,1));break;case Ce.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===1?4:a-1,z3(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(n){var a,l=r.props,c=l.day,u=l.disabled,f=l.minDate,m=l.maxDate,h=l.excludeDates,v=l.includeDates,x=_n(c,n);return u?{isDisabled:!0,labelDate:_n(c,n)}:{isDisabled:(a=(f||m||h||v)&&eI(x,r.props))!==null&&a!==void 0?a:!1,labelDate:x}},r.isMonthDisabled=function(n){var a=r.isMonthDisabledForLabelDate(n).isDisabled;return a},r.getMonthClassNames=function(n){var a=r.props,l=a.day,c=a.startDate,u=a.endDate,f=a.preSelection,m=a.monthClassName,h=m?m(_n(l,n)):void 0,v=r.getSelection();return lt("react-datepicker__month-text","react-datepicker__month-".concat(n),h,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":v?r.isSelectMonthInList(l,n,v):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&f&&r.isSelectedMonth(l,n,f)&&!r.isMonthSelected()&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":c&&u?_m(c,u,n,l):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(l,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=xn(r.props.preSelection),l=r.isMonthDisabledForLabelDate(a).isDisabled,c=n===a&&!(l||r.props.disabledKeyboardNavigation)?"0":"-1";return c},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=zs(r.props.preSelection),l=Om(r.props.day,r.props),c=n===a&&!(l||r.props.disabledKeyboardNavigation)?"0":"-1";return c},r.getAriaLabel=function(n){var a=r.props,l=a.chooseDayAriaLabelPrefix,c=l===void 0?"Choose":l,u=a.disabledDayAriaLabelPrefix,f=u===void 0?"Not available":u,m=a.day,h=a.locale,v=_n(m,n),x=r.isDisabled(v)||r.isExcluded(v)?f:c;return"".concat(x," ").concat(Gt(v,"MMMM yyyy",h))},r.getQuarterClassNames=function(n){var a=r.props,l=a.day,c=a.startDate,u=a.endDate,f=a.minDate,m=a.maxDate,h=a.excludeDates,v=a.includeDates,x=a.filterDate,b=a.preSelection,S=a.disabledKeyboardNavigation,w=a.disabled,y=(f||m||h||v||x||w)&&Om(Xo(l,n),r.props),C=r.getSelection();return lt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":y,"react-datepicker__quarter-text--selected":C?r.isSelectQuarterInList(l,n,C):void 0,"react-datepicker__quarter-text--keyboard-selected":!S&&b&&r.isSelectedQuarter(l,n,b)&&!r.isQuarterSelected()&&!y,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":c&&u?Pm(c,u,n,l):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(l,n)})},r.getMonthContent=function(n){var a=r.props,l=a.showFullMonthYearPicker,c=a.renderMonthContent,u=a.locale,f=a.day,m=J3(n,u),h=fj(n,u);return c?c(n,m,h,f):l?h:m},r.getQuarterContent=function(n){var a,l=r.props,c=l.renderQuarterContent,u=l.locale,f=Sae(n,u);return(a=c?.(n,f))!==null&&a!==void 0?a:f},r.renderMonths=function(){var n,a=r.props,l=a.showTwoColumnMonthYearPicker,c=a.showFourColumnMonthYearPicker,u=a.day,f=a.selected,m=(n=Ob[XE(c,l)])===null||n===void 0?void 0:n.grid;return m?.map(function(h,v){return ce.createElement("div",{className:"react-datepicker__month-wrapper",key:v},h.map(function(x,b){return ce.createElement("div",{ref:r.MONTH_REFS[x],key:b,onClick:function(S){r.onMonthClick(S,x)},onKeyDown:function(S){aI(S)&&(S.preventDefault(),S.key=Ce.Enter),r.onMonthKeyDown(S,x)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(x)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(x)}:void 0,tabIndex:Number(r.getTabIndex(x)),className:r.getMonthClassNames(x),"aria-disabled":r.isMonthDisabled(x),role:"option","aria-label":r.getAriaLabel(x),"aria-current":r.isCurrentMonth(u,x)?"date":void 0,"aria-selected":f?r.isSelectedMonth(u,x,f):void 0},r.getMonthContent(x))}))})},r.renderQuarters=function(){var n=r.props,a=n.day,l=n.selected,c=[1,2,3,4];return ce.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(u,f){return ce.createElement("div",{key:f,ref:r.QUARTER_REFS[f],role:"option",onClick:function(m){r.onQuarterClick(m,u)},onKeyDown:function(m){r.onQuarterKeyDown(m,u)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(u)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(u)}:void 0,className:r.getQuarterClassNames(u),"aria-selected":l?r.isSelectedQuarter(a,u,l):void 0,tabIndex:Number(r.getQuarterTabIndex(u)),"aria-current":r.isCurrentQuarter(a,u)?"date":void 0},r.getQuarterContent(u))}))},r.getClassNames=function(){var n=r.props,a=n.selectingDate,l=n.selectsStart,c=n.selectsEnd,u=n.showMonthYearPicker,f=n.showQuarterYearPicker,m=n.showWeekPicker;return lt("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(l||c)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":m})},r}return t.prototype.getSelection=function(){var r=this.props,n=r.selected,a=r.selectedDates,l=r.selectsMultiple;if(l)return a;if(n)return[n]},t.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,a=r.showQuarterYearPicker,l=r.day,c=r.ariaLabelPrefix,u=c===void 0?"Month ":c,f=u?u.trim()+" ":"",m=vn(l)?"".concat(f).concat(Gt(l,"MMMM, yyyy",this.props.locale)):"",h=n||a;return h?ce.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":m,role:"listbox"},n?this.renderMonths():this.renderQuarters()):ce.createElement("div",{role:"table"},this.props.dayNamesHeader&&ce.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&ce.createElement("div",{role:"rowgroup"},this.props.monthHeader),ce.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":m,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&ce.createElement("div",{role:"rowgroup"},this.props.monthFooter))},t})(j.Component),Fae=(function(e){Ur(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(n){return r.props.month===n},r.handleOptionKeyDown=function(n,a){var l;switch(a.key){case"Enter":a.preventDefault(),r.onChange(n);break;case"Escape":a.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{a.preventDefault();var c=(n+(a.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(l=r.monthOptionButtonsRef[c])===null||l===void 0||l.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(n,a){return ce.createElement("div",{ref:function(l){r.monthOptionButtonsRef[a]=l,r.isSelectedMonth(a)&&l?.focus()},role:"button",tabIndex:0,className:r.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,a),onKeyDown:r.handleOptionKeyDown.bind(r,a),"aria-selected":r.isSelectedMonth(a)?"true":void 0},r.isSelectedMonth(a)?ce.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return t.prototype.render=function(){return ce.createElement(Av,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),Bae=(function(e){Ur(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(a,l){return ce.createElement("option",{key:a,value:l},a)})},r.renderSelectMode=function(n){return ce.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(a){return r.onChange(parseInt(a.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,a){return ce.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},ce.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ce.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[r.props.month]))},r.renderDropdown=function(n){return ce.createElement(Fae,st({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var a=r.state.dropdownVisible,l=[r.renderReadView(!a,n)];return a&&l.unshift(r.renderDropdown(n)),l},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(l){return J3(l,r.props.locale)}:function(l){return fj(l,r.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(n);break;case"select":a=this.renderSelectMode(n);break}return ce.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},t})(j.Component),ZE=5;function $ae(e,t,r){for(var n=[],a=e??Gs(r,ZE),l=t??ya(r,ZE),c=Fi(a),u=Fi(l);!zi(c,u);)n.push(bt(c)),c=Na(c,1);return n}var qae=(function(e){Ur(t,e);function t(r){var n=e.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(a){var l=Gy(a),c=qa(n.props.date,a)&&Jr(n.props.date,a);return ce.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:l,onClick:n.onChange.bind(n,l),"aria-selected":c?"true":void 0},c?ce.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Gt(a,n.props.dateFormat,n.props.locale))})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:$ae(n.props.minDate,n.props.maxDate,n.props.date)},n}return t.prototype.render=function(){var r=lt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ce.createElement(Av,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),JE=5,Hae=(function(e){Ur(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n,a,l=(n=r.props.minDate)!==null&&n!==void 0?n:Gs(r.props.date,JE),c=(a=r.props.maxDate)!==null&&a!==void 0?a:ya(r.props.date,JE),u=Fi(l),f=Fi(c),m=[];!zi(u,f);){var h=Gy(u);m.push(ce.createElement("option",{key:h,value:h},Gt(u,r.props.dateFormat,r.props.locale))),u=Na(u,1)}return m},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return ce.createElement("select",{value:Gy(Fi(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var a=Gt(r.props.date,r.props.dateFormat,r.props.locale);return ce.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},ce.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ce.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},r.renderDropdown=function(){return ce.createElement(qae,st({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown();var a=bt(n);qa(r.props.date,a)&&Jr(r.props.date,a)||r.props.onChange(a)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ce.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},t})(j.Component),Uae=(function(e){Ur(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,a,l;r.list&&(r.list.scrollTop=(l=r.centerLi&&t.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((a=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&a!==void 0?a:0):r.list.clientHeight,r.centerLi))!==null&&l!==void 0?l:0)})},r.handleClick=function(n){var a,l;(r.props.minTime||r.props.maxTime)&&HE(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&qE(n,r.props)||(l=(a=r.props).onChange)===null||l===void 0||l.call(a,n)},r.isSelectedTime=function(n){var a=zl(r.props.selected);return a&&nI(a,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&HE(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&qE(n,r.props)},r.liClasses=function(n){var a,l=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&l.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&l.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(Kr(n)*3600+Qr(n)*60+$s(n))%(((a=r.props.intervals)!==null&&a!==void 0?a:t.defaultProps.intervals)*60)!==0&&l.push("react-datepicker__time-list-item--injected"),l.join(" ")},r.handleOnKeyDown=function(n,a){var l,c;n.key===Ce.Space&&(n.preventDefault(),n.key=Ce.Enter),(n.key===Ce.ArrowUp||n.key===Ce.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===Ce.ArrowDown||n.key===Ce.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===Ce.Enter&&r.handleClick(a),(c=(l=r.props).handleOnKeyDown)===null||c===void 0||c.call(l,n)},r.renderTimes=function(){for(var n,a=[],l=typeof r.props.format=="string"?r.props.format:"p",c=(n=r.props.intervals)!==null&&n!==void 0?n:t.defaultProps.intervals,u=zl(r.props.selected)||zl(r.props.openToDate)||bt(),f=Xu(u),m=r.props.injectTimes&&r.props.injectTimes.sort(function(y,C){return y.getTime()-C.getTime()}),h=60*Tae(u),v=h/c,x=0;x<v;x++){var b=yd(f,x*c);if(a.push(b),m){var S=Oae(f,b,x,c,m);a=a.concat(S)}}var w=a.reduce(function(y,C){return C.getTime()<=u.getTime()?C:y},a[0]);return a.map(function(y){return ce.createElement("li",{key:y.valueOf(),onClick:r.handleClick.bind(r,y),className:r.liClasses(y),ref:function(C){y===w&&(r.centerLi=C)},onKeyDown:function(C){r.handleOnKeyDown(C,y)},tabIndex:y===w?0:-1,role:"option","aria-selected":r.isSelectedTime(y)?"true":void 0,"aria-disabled":r.isDisabledTime(y)?"true":void 0},Gt(y,l,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?ce.createElement(ce.Fragment,null):ce.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},ce.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var r=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(n))},t.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var r=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==r&&this.setState({height:r})}},t.prototype.render=function(){var r=this,n,a=this.state.height;return ce.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ce.createElement("div",{className:"react-datepicker__time"},ce.createElement("div",{className:"react-datepicker__time-box"},ce.createElement("ul",{className:"react-datepicker__time-list",ref:function(l){r.list=l},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},t})(j.Component),e_=3,Yae=(function(e){Ur(t,e);function t(r){var n=e.call(this,r)||this;return n.YEAR_REFS=Ka([],Array(n.props.yearItemNumber),!0).map(function(){return j.createRef()}),n.isDisabled=function(a){return ea(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return mj(a,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var a;return(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection},n.updateFocusOnPaginate=function(a){var l=function(){var c,u;(u=(c=n.YEAR_REFS[a])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(l)},n.handleYearClick=function(a,l){n.props.onDayClick&&n.props.onDayClick(a,l)},n.handleYearNavigation=function(a,l){var c,u,f,m,h=n.props,v=h.date,x=h.yearItemNumber;if(!(v===void 0||x===void 0)){var b=Ii(v,x).startPeriod;n.isDisabled(l)||n.isExcluded(l)||((u=(c=n.props).setPreSelection)===null||u===void 0||u.call(c,l),a-b<0?n.updateFocusOnPaginate(x-(b-a)):a-b>=x?n.updateFocusOnPaginate(Math.abs(x-(a-b))):(m=(f=n.YEAR_REFS[a-b])===null||f===void 0?void 0:f.current)===null||m===void 0||m.focus())}},n.isSameDay=function(a,l){return pt(a,l)},n.isCurrentYear=function(a){return a===dt(bt())},n.isRangeStart=function(a){return n.props.startDate&&n.props.endDate&&qa($a(bt(),a),n.props.startDate)},n.isRangeEnd=function(a){return n.props.startDate&&n.props.endDate&&qa($a(bt(),a),n.props.endDate)},n.isInRange=function(a){return Tm(a,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(a){var l=n.props,c=l.selectsStart,u=l.selectsEnd,f=l.selectsRange,m=l.startDate,h=l.endDate;return!(c||u||f)||!n.selectingDate()?!1:c&&h?Tm(a,n.selectingDate(),h):u&&m||f&&m&&!h?Tm(a,m,n.selectingDate()):!1},n.isSelectingRangeStart=function(a){var l;if(!n.isInSelectingRange(a))return!1;var c=n.props,u=c.startDate,f=c.selectsStart,m=$a(bt(),a);return f?qa(m,(l=n.selectingDate())!==null&&l!==void 0?l:null):qa(m,u??null)},n.isSelectingRangeEnd=function(a){var l;if(!n.isInSelectingRange(a))return!1;var c=n.props,u=c.endDate,f=c.selectsEnd,m=c.selectsRange,h=$a(bt(),a);return f||m?qa(h,(l=n.selectingDate())!==null&&l!==void 0?l:null):qa(h,u??null)},n.isKeyboardSelected=function(a){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var l=n.props,c=l.minDate,u=l.maxDate,f=l.excludeDates,m=l.includeDates,h=l.filterDate,v=l.selected,x=Zu($a(n.props.date,a)),b=(c||u||f||m||h)&&up(a,n.props),S=!!v&&pt(x,Zu(v)),w=pt(x,Zu(n.props.preSelection));return!n.props.inline&&!S&&w&&!b}},n.isSelectedYear=function(a){var l=n.props,c=l.selectsMultiple,u=l.selected,f=l.selectedDates;return c?f?.some(function(m){return a===dt(m)}):!!u&&a===dt(u)},n.onYearClick=function(a,l){var c=n.props.date;c!==void 0&&n.handleYearClick(Zu($a(c,l)),a)},n.onYearKeyDown=function(a,l){var c,u,f=a.key,m=n.props,h=m.date,v=m.yearItemNumber,x=m.handleOnKeyDown;if(f!==Ce.Tab&&a.preventDefault(),!n.props.disabledKeyboardNavigation)switch(f){case Ce.Enter:if(n.props.selected==null)break;n.onYearClick(a,l),(u=(c=n.props).setPreSelection)===null||u===void 0||u.call(c,n.props.selected);break;case Ce.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(l+1,ya(n.props.preSelection,1));break;case Ce.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(l-1,Gs(n.props.preSelection,1));break;case Ce.ArrowUp:{if(h===void 0||v===void 0||n.props.preSelection==null)break;var b=Ii(h,v).startPeriod,S=e_,w=l-S;if(w<b){var y=v%S;l>=b&&l<b+y?S=y:S+=y,w=l-S}n.handleYearNavigation(w,Gs(n.props.preSelection,S));break}case Ce.ArrowDown:{if(h===void 0||v===void 0||n.props.preSelection==null)break;var C=Ii(h,v).endPeriod,S=e_,w=l+S;if(w>C){var y=v%S;l<=C&&l>C-y?S=y:S+=y,w=l+S}n.handleYearNavigation(w,ya(n.props.preSelection,S));break}}x&&x(a)},n.getYearClassNames=function(a){var l=n.props,c=l.date,u=l.disabled,f=l.minDate,m=l.maxDate,h=l.excludeDates,v=l.includeDates,x=l.filterDate,b=l.yearClassName;return lt("react-datepicker__year-text","react-datepicker__year-".concat(a),c?b?.($a(c,a)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(a),"react-datepicker__year-text--disabled":(f||m||h||v||x||u)&&up(a,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(a),"react-datepicker__year-text--range-start":n.isRangeStart(a),"react-datepicker__year-text--range-end":n.isRangeEnd(a),"react-datepicker__year-text--in-range":n.isInRange(a),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(a),"react-datepicker__year-text--today":n.isCurrentYear(a)})},n.getYearTabIndex=function(a){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var l=dt(n.props.preSelection),c=up(a,n.props);return a===l&&!c?"0":"-1"},n.getYearContent=function(a){return n.props.renderYearContent?n.props.renderYearContent(a):a},n}return t.prototype.render=function(){var r=this,n=[],a=this.props,l=a.date,c=a.yearItemNumber,u=a.onYearMouseEnter,f=a.onYearMouseLeave;if(l===void 0)return null;for(var m=Ii(l,c),h=m.startPeriod,v=m.endPeriod,x=function(w){n.push(ce.createElement("div",{ref:b.YEAR_REFS[w-h],onClick:function(y){r.onYearClick(y,w)},onKeyDown:function(y){aI(y)&&(y.preventDefault(),y.key=Ce.Enter),r.onYearKeyDown(y,w)},tabIndex:Number(b.getYearTabIndex(w)),className:b.getYearClassNames(w),onMouseEnter:b.props.usePointerEvent?void 0:function(y){return u(y,w)},onPointerEnter:b.props.usePointerEvent?function(y){return u(y,w)}:void 0,onMouseLeave:b.props.usePointerEvent?void 0:function(y){return f(y,w)},onPointerLeave:b.props.usePointerEvent?function(y){return f(y,w)}:void 0,key:w,"aria-current":b.isCurrentYear(w)?"date":void 0},b.getYearContent(w)))},b=this,S=h;S<=v;S++)x(S);return ce.createElement("div",{className:"react-datepicker__year"},ce.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},t})(j.Component);function Vae(e,t,r,n){for(var a=[],l=0;l<2*t+1;l++){var c=e+t-l,u=!0;r&&(u=dt(r)<=c),n&&u&&(u=dt(n)>=c),u&&a.push(c)}return a}var Gae=(function(e){Ur(t,e);function t(r){var n=e.call(this,r)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(u,f){var m;switch(f.key){case"Enter":f.preventDefault(),n.onChange(u);break;case"Escape":f.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{f.preventDefault();var h=u+(f.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[h]&&((m=n.yearOptionButtonsRef[h])===null||m===void 0||m.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var u=n.props.year,f=n.state.yearsList.map(function(v){return ce.createElement("div",{ref:function(x){n.yearOptionButtonsRef[v]=x,v===u&&x?.focus()},role:"button",tabIndex:0,className:u===v?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:v,onClick:n.onChange.bind(n,v),onKeyDown:n.handleOptionKeyDown.bind(n,v),"aria-selected":u===v?"true":void 0},u===v?ce.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",v)}),m=n.props.minDate?dt(n.props.minDate):null,h=n.props.maxDate?dt(n.props.maxDate):null;return(!h||!n.state.yearsList.find(function(v){return v===h}))&&f.unshift(ce.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},ce.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!m||!n.state.yearsList.find(function(v){return v===m}))&&f.push(ce.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},ce.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),f},n.onChange=function(u){n.props.onChange(u)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(u){var f=n.state.yearsList.map(function(m){return m+u});n.setState({yearsList:f})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=r.yearDropdownItemNumber,l=r.scrollableYearDropdown,c=a||(l?10:5);return n.state={yearsList:Vae(n.props.year,c,n.props.minDate,n.props.maxDate)},n.dropdownRef=j.createRef(),n}return t.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,a=n?n.find(function(l){return l.ariaSelected}):null;r.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},t.prototype.render=function(){var r=lt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ce.createElement(Av,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),Wae=(function(e){Ur(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?dt(r.props.minDate):1900,a=r.props.maxDate?dt(r.props.maxDate):2100,l=[],c=n;c<=a;c++)l.push(ce.createElement("option",{key:c,value:c},c));return l},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return ce.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return ce.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},ce.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ce.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return ce.createElement(Gae,st({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,a){var l;(l=r.onSelect)===null||l===void 0||l.call(r,n,a),r.setOpen()},r.onSelect=function(n,a){var l,c;(c=(l=r.props).onSelect)===null||c===void 0||c.call(l,n,a)},r.setOpen=function(){var n,a;(a=(n=r.props).setOpen)===null||a===void 0||a.call(n,!0)},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ce.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},t})(j.Component),Kae=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],iI="react-datepicker-ignore-onclickoutside",Qae=function(e){var t=(e.className||"").split(/\s+/);return Kae.some(function(r){return t.indexOf(r)>=0})},Xae=(function(e){Ur(t,e);function t(r){var n=e.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(a){n.props.onClickOutside(a)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(a){var l,c;Qae(a.target)&&((c=(l=n.props).onDropdownFocus)===null||c===void 0||c.call(l,a))},n.getDateInView=function(){var a=n.props,l=a.preSelection,c=a.selected,u=a.openToDate,f=tI(n.props),m=rI(n.props),h=bt(),v=u||c||l;return v||(f&&Wa(h,f)?f:m&&zi(h,m)?m:h)},n.increaseMonth=function(){n.setState(function(a){var l=a.date;return{date:Na(l,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(a){var l=a.date;return{date:Hl(l,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(a,l,c){n.props.onSelect(a,l,c),n.props.setPreSelection&&n.props.setPreSelection(a)},n.handleDayMouseEnter=function(a){n.setState({selectingDate:a}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(a,l){n.setState({selectingDate:$a(bt(),l)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(a,l)},n.handleYearMouseLeave=function(a,l){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(a,l)},n.handleYearChange=function(a){var l,c,u,f;(c=(l=n.props).onYearChange)===null||c===void 0||c.call(l,a),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(a),(f=(u=n.props).setOpen)===null||f===void 0||f.call(u,!0)),n.props.setPreSelection&&n.props.setPreSelection(a)},n.getEnabledPreSelectionDateForMonth=function(a){if(!ea(a,n.props))return a;for(var l=Fi(a),c=yae(a),u=Eee(c,l),f=null,m=0;m<=u;m++){var h=ba(l,m);if(!ea(h,n.props)){f=h;break}}return f},n.handleMonthChange=function(a){var l,c,u,f=(l=n.getEnabledPreSelectionDateForMonth(a))!==null&&l!==void 0?l:a;n.handleCustomMonthChange(f),n.props.adjustDateOnChange&&(n.props.onSelect(f),(u=(c=n.props).setOpen)===null||u===void 0||u.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(f)},n.handleCustomMonthChange=function(a){var l,c;(c=(l=n.props).onMonthChange)===null||c===void 0||c.call(l,a),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(a){n.handleYearChange(a),n.handleMonthChange(a)},n.changeYear=function(a){n.setState(function(l){var c=l.date;return{date:$a(c,Number(a))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(a){n.setState(function(l){var c=l.date;return{date:_n(c,Number(a))}},function(){var l,c;n.handleMonthChange(n.state.date),(c=(l=n.props).onMonthSelectedInChange)===null||c===void 0||c.call(l,0)})},n.changeMonthYear=function(a){n.setState(function(l){var c=l.date;return{date:$a(_n(c,xn(a)),dt(a))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(a,l){if(a===void 0&&(a=n.state.date),l===void 0&&(l=0),!vn(a))return[];var c=n.props.disabled,u=qs(a,n.props.locale,n.props.calendarStartDay),f=[];return n.props.showWeekNumbers&&f.push(ce.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(c?"react-datepicker__day-name--disabled":""),role:"columnheader"},ce.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),ce.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),f.concat([0,1,2,3,4,5,6].map(function(m){var h=ba(u,m),v=n.formatWeekday(h,n.props.locale),x=Gt(h,"EEEE",n.props.locale),b=n.props.weekDayClassName?n.props.weekDayClassName(h):void 0;if(n.props.renderCustomDayName){var S=n.props.renderCustomDayName({day:h,shortName:v,fullName:x,locale:n.props.locale,customDayNameCount:l});return ce.createElement("div",{key:m,role:"columnheader",className:lt("react-datepicker__day-name",b,c?"react-datepicker__day-name--disabled":"")},S)}return ce.createElement("div",{key:m,role:"columnheader",className:lt("react-datepicker__day-name",b,c?"react-datepicker__day-name--disabled":"")},ce.createElement("span",{className:"react-datepicker__sr-only"},x),ce.createElement("span",{"aria-hidden":"true"},v))}))},n.formatWeekday=function(a,l){return n.props.formatWeekDay?wae(a,n.props.formatWeekDay,l):n.props.useWeekdaysShort?Nae(a,l):jae(a,l)},n.decreaseYear=function(){n.setState(function(a){var l,c=a.date;return{date:Gs(c,n.props.showYearPicker?(l=n.props.yearItemNumber)!==null&&l!==void 0?l:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var a,l,c;if(!n.props.renderCustomHeader){var u=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,f=n.props.showPreviousMonths?u-1:0,m=(l=n.props.monthSelectedIn)!==null&&l!==void 0?l:f,h=Hl(n.state.date,m),v;switch(!0){case n.props.disabled:v=!0;break;case n.props.showMonthYearPicker:v=VE(n.state.date,n.props);break;case n.props.showYearPicker:v=kae(n.state.date,n.props);break;case n.props.showQuarterYearPicker:v=Aae(n.state.date,n.props);break;default:v=UE(h,n.props);break}if(!(!((c=n.props.forceShowMonthNavigation)!==null&&c!==void 0?c:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&v||n.props.showTimeSelectOnly)){var x=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],b=["react-datepicker__navigation","react-datepicker__navigation--previous"],S=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(S=n.decreaseYear),v&&n.props.showDisabledMonthNavigation&&(b.push("react-datepicker__navigation--previous--disabled"),S=void 0);var w=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,y=n.props,C=y.previousMonthButtonLabel,M=C===void 0?t.defaultProps.previousMonthButtonLabel:C,A=y.previousYearButtonLabel,_=A===void 0?t.defaultProps.previousYearButtonLabel:A,E=n.props,T=E.previousMonthAriaLabel,P=T===void 0?typeof M=="string"?M:"Previous Month":T,O=E.previousYearAriaLabel,z=O===void 0?typeof _=="string"?_:"Previous Year":O;return ce.createElement("button",{type:"button",className:b.join(" "),onClick:S,onKeyDown:n.props.handleOnKeyDown,"aria-label":w?z:P},ce.createElement("span",{className:x.join(" ")},w?_:M))}}},n.increaseYear=function(){n.setState(function(a){var l,c=a.date;return{date:ya(c,n.props.showYearPicker?(l=n.props.yearItemNumber)!==null&&l!==void 0?l:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var a;if(!n.props.renderCustomHeader){var l;switch(!0){case n.props.disabled:l=!0;break;case n.props.showMonthYearPicker:l=GE(n.state.date,n.props);break;case n.props.showYearPicker:l=Dae(n.state.date,n.props);break;case n.props.showQuarterYearPicker:l=Mae(n.state.date,n.props);break;default:l=YE(n.state.date,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&l||n.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var f=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(f=n.increaseYear),l&&n.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),f=void 0);var m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,h=n.props,v=h.nextMonthButtonLabel,x=v===void 0?t.defaultProps.nextMonthButtonLabel:v,b=h.nextYearButtonLabel,S=b===void 0?t.defaultProps.nextYearButtonLabel:b,w=n.props,y=w.nextMonthAriaLabel,C=y===void 0?typeof x=="string"?x:"Next Month":y,M=w.nextYearAriaLabel,A=M===void 0?typeof S=="string"?S:"Next Year":M;return ce.createElement("button",{type:"button",className:c.join(" "),onClick:f,onKeyDown:n.props.handleOnKeyDown,"aria-label":m?A:C},ce.createElement("span",{className:u.join(" ")},m?S:x))}}},n.renderCurrentMonth=function(a){a===void 0&&(a=n.state.date);var l=["react-datepicker__current-month"];return n.props.showYearDropdown&&l.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&l.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&l.push("react-datepicker__current-month--hasMonthYearDropdown"),ce.createElement("h2",{className:l.join(" ")},vn(a)?Gt(a,n.props.dateFormat,n.props.locale):"")},n.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showYearDropdown||a))return ce.createElement(Wae,st({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:dt(n.state.date)}))},n.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthDropdown||a))return ce.createElement(Bae,st({},t.defaultProps,n.props,{month:xn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthYearDropdown||a))return ce.createElement(Hae,st({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(a){n.props.onSelect(FE(),a),n.props.setPreSelection&&n.props.setPreSelection(FE())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return ce.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(a,l){return l===void 0&&(l=0),ce.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(a,l))},n.renderDefaultHeader=function(a){var l=a.monthDate,c=a.i,u=ce.createElement("div",{className:lt("react-datepicker__header",{"react-datepicker__header--has-time-select":n.props.showTimeSelect,"react-datepicker__header--middle":n.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":n.props.monthHeaderPosition==="bottom"})},n.renderCurrentMonth(l),ce.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(c!==0),n.renderMonthYearDropdown(c!==0),n.renderYearDropdown(c!==0)));return n.props.monthHeaderPosition==="top"?u:ce.createElement("div",{className:"react-datepicker__header-wrapper"},n.renderPreviousButton()||null,n.renderNextButton()||null,u)},n.renderCustomHeader=function(a){var l,c,u=a.monthDate,f=a.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var m=n.props,h=m.showYearPicker,v=m.yearItemNumber,x;if(h){var b=Ii(u,v),S=b.startPeriod,w=b.endPeriod;x={startYear:S,endYear:w}}var y=UE(n.state.date,n.props),C=YE(n.state.date,n.props),M=VE(n.state.date,n.props),A=GE(n.state.date,n.props);return ce.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(c=(l=n.props).renderCustomHeader)===null||c===void 0?void 0:c.call(l,st(st(st({},n.state),h&&{visibleYearsRange:x}),{customHeaderCount:f,monthDate:u,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:y,nextMonthButtonDisabled:C,prevYearButtonDisabled:M,nextYearButtonDisabled:A})))},n.renderYearHeader=function(a){var l=a.monthDate,c=n.props,u=c.showYearPicker,f=c.yearItemNumber,m=f===void 0?t.defaultProps.yearItemNumber:f,h=Ii(l,m),v=h.startPeriod,x=h.endPeriod;return ce.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(v," - ").concat(x):dt(l))},n.renderHeader=function(a){var l=a.monthDate,c=a.i,u=c===void 0?0:c,f={monthDate:l,i:u};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(f);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(f);default:return n.renderDefaultHeader(f)}},n.renderMonths=function(){var a,l;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var c=[],u=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,f=n.props.showPreviousMonths?u-1:0,m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ya(n.state.date,f):Hl(n.state.date,f),h=(l=n.props.monthSelectedIn)!==null&&l!==void 0?l:f,v=0;v<u;++v){var x=v-h+f,b=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ya(m,x):Na(m,x),S="month-".concat(v),w=v<u-1,y=v>0;c.push(ce.createElement("div",{key:S,ref:function(C){n.monthContainer=C??void 0},className:"react-datepicker__month-container"},n.props.monthHeaderPosition==="top"&&n.renderHeader({monthDate:b,i:v}),ce.createElement(zae,st({},t.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:b,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:v,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:w,monthShowsDuplicateDaysStart:y,dayNamesHeader:n.renderDayNamesHeader(b,v),monthHeader:n.props.monthHeaderPosition==="middle"?n.renderHeader({monthDate:b,i:v}):void 0,monthFooter:n.props.monthHeaderPosition==="bottom"?n.renderHeader({monthDate:b,i:v}):void 0}))))}return c}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return ce.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),ce.createElement(Yae,st({},t.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return ce.createElement(Uae,st({},t.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var a,l;if(n.props.showTimeInput){if(n.props.selectsRange){var c=n.props,u=c.startDate,f=c.endDate,m=u?new Date(u):void 0,h=m&&vn(m)&&!!u,v=h?"".concat(Vo(m.getHours()),":").concat(Vo(m.getMinutes())):"",x=f?new Date(f):void 0,b=x&&vn(x)&&!!f,S=b?"".concat(Vo(x.getHours()),":").concat(Vo(x.getMinutes())):"";return ce.createElement(ce.Fragment,null,ce.createElement(_b,st({},t.defaultProps,n.props,{date:m,timeString:v,onChange:function(M){var A,_;(_=(A=n.props).onTimeChange)===null||_===void 0||_.call(A,M,"start")},timeInputLabel:((a=n.props.timeInputLabel)!==null&&a!==void 0?a:"Time")+" (Start)"})),ce.createElement(_b,st({},t.defaultProps,n.props,{date:x,timeString:S,onChange:function(M){var A,_;(_=(A=n.props).onTimeChange)===null||_===void 0||_.call(A,M,"end")},timeInputLabel:((l=n.props.timeInputLabel)!==null&&l!==void 0?l:"Time")+" (End)"})))}var w=n.props.selected?new Date(n.props.selected):void 0,y=w&&vn(w)&&!!n.props.selected,C=y?"".concat(Vo(w.getHours()),":").concat(Vo(w.getMinutes())):"";return ce.createElement(_b,st({},t.defaultProps,n.props,{date:w,timeString:C,onChange:function(M){var A,_;(_=(A=n.props).onTimeChange)===null||_===void 0||_.call(A,M)}}))}},n.renderAriaLiveRegion=function(){var a;if(!vn(n.state.date))return ce.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var l=Ii(n.state.date,(a=n.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber),c=l.startPeriod,u=l.endPeriod,f;return n.props.showYearPicker?f="".concat(c," - ").concat(u):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?f=dt(n.state.date):f="".concat(fj(xn(n.state.date),n.props.locale)," ").concat(dt(n.state.date)),ce.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&f)},n.renderChildren=function(){if(n.props.children)return ce.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=j.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:iI,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Wd,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())},t.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&vn(this.props.preSelection)&&(!pt(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var a=!Jr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!pt(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var r=this.props.container||fae;return ce.createElement(Av,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ce.createElement("div",{style:{display:"contents"},ref:this.containerRef},ce.createElement(r,{className:lt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t})(j.Component),Zae=function(e){var t=e.icon,r=e.className,n=r===void 0?"":r,a=e.onClick,l="react-datepicker__calendar-icon";if(typeof t=="string")return ce.createElement("i",{className:"".concat(l," ").concat(t," ").concat(n),"aria-hidden":"true",onClick:a});if(ce.isValidElement(t)){var c=t;return ce.cloneElement(c,{className:"".concat(c.props.className||""," ").concat(l," ").concat(n),onClick:function(u){typeof c.props.onClick=="function"&&c.props.onClick(u),typeof a=="function"&&a(u)}})}return ce.createElement("svg",{className:"".concat(l," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},ce.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},sI=(function(e){Ur(t,e);function t(r){var n=e.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return pz.createPortal(this.props.children,this.el)},t})(j.Component),Jae="[tabindex], a, button, input, select, textarea",eie=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},lI=(function(e){Ur(t,e);function t(r){var n=e.call(this,r)||this;return n.getTabChildren=function(){var a;return Array.prototype.slice.call((a=n.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(Jae),1,-1).filter(eie)},n.handleFocusStart=function(){var a=n.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},n.handleFocusEnd=function(){var a=n.getTabChildren();a&&a.length>1&&a[0].focus()},n.tabLoopRef=j.createRef(),n}return t.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:t.defaultProps.enableTabLoop)?ce.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ce.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ce.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t})(j.Component);function tie(e){function t(r){var n,a=typeof r.hidePopper=="boolean"?r.hidePopper:!0,l=j.useRef(null),c=dae(st({open:!a,whileElementsMounted:Hne,placement:r.popperPlacement,middleware:Ka([Zne({padding:15}),Xne(10),Jne({element:l})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),u=st(st({},r),{hidePopper:a,popperProps:st(st({},c),{arrowRef:l})});return ce.createElement(e,st({},u))}return t.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),t}var rie=function(e){var t=e.className,r=e.wrapperClassName,n=e.hidePopper,a=n===void 0?!0:n,l=e.popperComponent,c=e.targetComponent,u=e.enableTabLoop,f=e.popperOnKeyDown,m=e.portalId,h=e.portalHost,v=e.popperProps,x=e.showArrow,b=e.popperTargetRef,S=e.monthHeaderPosition;j.useEffect(function(){b?.current&&v.refs.setPositionReference(b.current)},[b,v.refs]);var w=void 0;if(!a){var y=lt("react-datepicker-popper",!x&&"react-datepicker-popper-offset",S==="middle"&&"react-datepicker-popper--header-middle",S==="bottom"&&"react-datepicker-popper--header-bottom",t);w=ce.createElement(lI,{enableTabLoop:u},ce.createElement("div",{ref:v.refs.setFloating,style:v.floatingStyles,className:y,"data-placement":v.placement,onKeyDown:f},l,x&&ce.createElement(aae,{ref:v.arrowRef,context:v.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(w=j.createElement(e.popperContainer,{},w)),m&&!a&&(w=ce.createElement(sI,{portalId:m,portalHost:h},w));var C=lt("react-datepicker-wrapper",r);return ce.createElement(ce.Fragment,null,ce.createElement("div",{ref:v.refs.setReference,className:C},c),w)},nie=tie(rie);function t_(e,t){return e&&t?xn(e)!==xn(t)||dt(e)!==dt(t):e!==t}var Tb="Date input not valid.",aie=(function(e){Ur(t,e);function t(r){var n=e.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){var a=n.props.timeZone,l=n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:bt();return a?LE(l,a):l},n.modifyHolidays=function(){var a;return(a=n.props.holidays)===null||a===void 0?void 0:a.reduce(function(l,c){var u=Nl(c.date,"yyyy-MM-dd",void 0,!1);return u?Ka(Ka([],l,!0),[st(st({},c),{date:u})],!1):l},[])},n.calcInitialState=function(){var a=n.props.timeZone,l=n.getPreSelection(),c=tI(n.props),u=rI(n.props),f=c&&Wa(l,Xu(c))?c:u&&zi(l,BE(u))?u:l,m=n.props.selectsRange?n.props.startDate:n.props.selected;return m&&a&&(m=LE(m,a)),{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:m??f,highlightDates:WE(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var a,l=n.props,c=l.locale,u=l.startDate,f=l.endDate,m=l.rangeSeparator,h=l.selected,v=l.selectedDates,x=l.selectsMultiple,b=l.selectsRange,S=l.formatMultipleDates,w=l.value,y=(a=n.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,C=n.state.inputValue;if(typeof w=="string")return w;if(typeof C=="string")return C;if(b)return hae(u,f,{dateFormat:y,locale:c,rangeSeparator:m});if(x){if(S){var M=function(A){return hn(A,{dateFormat:y,locale:c})};return S(v??[],M)}return vae(v??[],{dateFormat:y,locale:c})}return hn(h,{dateFormat:y,locale:c})},n.resetHiddenStatus=function(){n.setState(st(st({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(st(st({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var a,l;(l=(a=n.input)===null||a===void 0?void 0:a.focus)===null||l===void 0||l.call(a,{preventScroll:!0})},n.setBlur=function(){var a,l;(l=(a=n.input)===null||a===void 0?void 0:a.blur)===null||l===void 0||l.call(a),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(a,l){l===void 0&&(l=!1),n.setState({open:a,preSelection:a&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:Pb},function(){a||n.setState(function(c){return{focused:l?c.focused:!1}},function(){!l&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Za(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(a){var l,c,u=n.state.wasHidden,f=u?n.state.open:!0;u&&n.resetHiddenStatus(),n.state.preventFocus||((c=(l=n.props).onFocus)===null||c===void 0||c.call(l,a),f&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(st(st({},n.state),{inputValue:null}))},n.handleBlur=function(a){var l,c;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((c=(l=n.props).onBlur)===null||c===void 0||c.call(l,a));var u=n.state.inputValue;if(typeof u=="string"&&u.length>0){var f=/[a-zA-Z0-9]/.test(u);!f&&n.props.selected&&n.setSelected(null,void 0,!0)}n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(a){var l,c;(c=(l=n.props).onClickOutside)===null||c===void 0||c.call(l,a),!n.props.inline&&!a.defaultPrevented&&n.setOpen(!1),n.props.withPortal&&a.preventDefault()},n.handleChange=function(){for(var a,l,c,u,f,m,h,v,x=[],b=0;b<arguments.length;b++)x[b]=arguments[b];var S=x[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,x),!S||typeof S.isDefaultPrevented!="function"||S.isDefaultPrevented()))){n.setState({inputValue:S?.target instanceof HTMLInputElement?S.target.value:null,lastPreSelectChange:iie});var w=n.props,y=w.selectsRange,C=w.startDate,M=w.endDate,A=(a=n.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,_=(l=n.props.strictParsing)!==null&&l!==void 0?l:t.defaultProps.strictParsing,E=S?.target instanceof HTMLInputElement?S.target.value:"";if(y){var T=n.props.rangeSeparator,P=T.trim(),O=E.split(A.includes(P)?T:P,2).map(function(G){return G.trim()}),z=O[0],R=O[1],F=Nl(z??"",A,n.props.locale,_),D=F?Nl(R??"",A,n.props.locale,_):null,X=((c=zl(C))===null||c===void 0?void 0:c.getTime())!==F?.getTime(),W=((u=zl(M))===null||u===void 0?void 0:u.getTime())!==D?.getTime();if(!X&&!W||F&&ea(F,n.props)||D&&ea(D,n.props))return;F&&n.setState({preSelection:F}),(m=(f=n.props).onChange)===null||m===void 0||m.call(f,[F,D],S)}else{var Z=Nl(E,A,n.props.locale,_,(h=n.props.selected)!==null&&h!==void 0?h:void 0);if(Z||!E)n.setSelected(Z,S,!0);else if(!n.props.inline){var $=pae(E,(v=n.state.preSelection)!==null&&v!==void 0?v:void 0);$&&(!n.props.minDate||!Wa($,n.props.minDate))&&(!n.props.maxDate||!zi($,n.props.maxDate))&&n.setState({preSelection:$})}}}},n.handleSelect=function(a,l,c){var u;if(!n.props.readOnly){var f=n.props,m=f.selectsRange,h=f.startDate,v=f.endDate,x=f.locale,b=f.swapRange,S=(u=n.props.dateFormat)!==null&&u!==void 0?u:t.defaultProps.dateFormat,w=!m||h&&!v&&(b||!Eb(a,h));if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&w&&n.sendFocusBackToInput(),n.props.onChangeRaw){var y=hn(a,{dateFormat:S,locale:x});n.props.onChangeRaw(l,{date:a,formattedDate:y})}n.setSelected(a,l,!1,c),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(a):w&&n.setOpen(!1)}},n.setSelected=function(a,l,c,u){var f,m,h=n.props.timeZone,v=a;if(v&&h&&(v=Di(v,h)),n.props.showYearPicker){if(v!==null&&up(dt(v),n.props))return}else if(n.props.showMonthYearPicker){if(v!==null&&eI(v,n.props))return}else if(v!==null&&ea(v,n.props))return;var x=n.props,b=x.onChange,S=x.selectsRange,w=x.startDate,y=x.endDate,C=x.selectsMultiple,M=x.selectedDates,A=x.minTime,_=x.swapRange;if(!Fl(n.props.selected,v)||n.props.allowSameDay||S||C)if(v!==null&&(n.props.selected&&(!c||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(v=Ei(v,{hour:Kr(n.props.selected),minute:Qr(n.props.selected),second:$s(n.props.selected)})),!c&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&A&&(v=Ei(v,{hour:A.getHours(),minute:A.getMinutes(),second:A.getSeconds()})),n.props.inline||n.setState({preSelection:v}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:u})),S){var E=b,T=!w&&!y,P=w&&!y,O=!w&&!!y,z=w&&y;T?E?.([v,null],l):P?v===null?E?.([null,null],l):Eb(v,w)?E?.(_?[v,w]:[v,null],l):E?.([w,v],l):O&&(v&&Eb(v,y)?E?.([v,y],l):E?.([v,null],l)),z&&E?.([v,null],l)}else if(C){var R=b;if(v!==null)if(!M?.length)R?.([v],l);else{var F=M.some(function(X){return pt(X,v)});if(F){var D=M.filter(function(X){return!pt(X,v)});R?.(D,l)}else R?.(Ka(Ka([],M,!0),[v],!1),l)}}else b?.(v,l);c||((m=(f=n.props).onSelect)===null||m===void 0||m.call(f,v,l),n.setState({inputValue:null}))},n.setPreSelection=function(a){if(!n.props.readOnly){var l=Za(n.props.minDate),c=Za(n.props.maxDate),u=!0;if(a){var f=Xu(a);if(l&&c)u=El(a,n.props.minDate,n.props.maxDate);else if(l){var m=Xu(n.props.minDate);u=zi(a,m)||Fl(f,m)}else if(c){var h=BE(n.props.maxDate);u=Wa(a,h)||Fl(f,h)}}u&&n.setState({preSelection:a})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(a,l){var c,u;if(!n.props.selectsMultiple){var f=n.props,m=f.selectsRange,h=f.startDate,v=f.endDate,x=f.onChange,b=f.timeZone;if(m){var S=x;if(l==="start"){if(h){var w=Ei(h,{hour:Kr(a),minute:Qr(a)});n.setState({preSelection:w}),b&&(w=Di(w,b)),S?.([w,v?b?Di(v,b):v:null],void 0)}}else if(l==="end"){if(v){var y=Ei(v,{hour:Kr(a),minute:Qr(a)});n.setState({preSelection:y}),b&&(y=Di(y,b)),S?.([h?b?Di(h,b):h:null,y],void 0)}}else{var C=h&&!v;if(C){var w=Ei(h,{hour:Kr(a),minute:Qr(a)});n.setState({preSelection:w}),b&&(w=Di(w,b)),S?.([w,null],void 0)}else if(h&&v){var y=Ei(v,{hour:Kr(a),minute:Qr(a)});n.setState({preSelection:y}),b&&(y=Di(y,b)),S?.([b?Di(h,b):h,y],void 0)}else{var M=Ei(n.getPreSelection(),{hour:Kr(a),minute:Qr(a)});n.setState({preSelection:M})}}}else{var A=n.props.selected?n.props.selected:n.getPreSelection(),M=n.props.selected?a:Ei(A,{hour:Kr(a),minute:Qr(a)});n.setState({preSelection:M}),M&&b&&(M=Di(M,b)),(u=(c=n.props).onChange)===null||u===void 0||u.call(c,M)}n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var a,l;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(l=(a=n.props).onInputClick)===null||l===void 0||l.call(a)},n.handleTimeOnlyArrowKey=function(a){var l,c,u,f,m=zl(n.props.selected)||n.state.preSelection||bt(),h=(l=n.props.timeIntervals)!==null&&l!==void 0?l:30,v=(c=n.props.dateFormat)!==null&&c!==void 0?c:t.defaultProps.dateFormat,x=Array.isArray(v)?v[0]:v,b=Xu(m),S=Kr(m)*60+Qr(m),w=1440-h,y;if(a===Ce.ArrowUp){var C=Math.max(0,S-h);y=yd(b,C)}else{var C=Math.min(w,S+h);y=yd(b,C)}var M=Gt(y,x||t.defaultProps.dateFormat,n.props.locale);if(n.setState({preSelection:y,inputValue:M}),!(n.props.selectsRange||n.props.selectsMultiple)){var A=n.props.selected?n.props.selected:n.getPreSelection(),_=n.props.selected?y:Ei(A,{hour:Kr(y),minute:Qr(y)});(f=(u=n.props).onChange)===null||f===void 0||f.call(u,_),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){n.scrollToTimeOption(y)})}},n.handleTimeOnlyEnterKey=function(a){var l,c,u,f,m=a.target,h=m.value,v=(l=n.props.dateFormat)!==null&&l!==void 0?l:t.defaultProps.dateFormat,x=n.props.timeFormat||"p",b=n.state.preSelection||zl(n.props.selected)||bt(),S=Nl(h,v,n.props.locale,(c=n.props.strictParsing)!==null&&c!==void 0?c:!1,b),w=b;if(S&&vn(S))w=S;else{var y=((u=n.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(y instanceof HTMLElement){var C=(f=y.textContent)===null||f===void 0?void 0:f.trim();if(C){var M=Nl(C,x,n.props.locale,!1,b);M&&vn(M)&&(w=M)}}}n.handleTimeChange(w),n.setOpen(!1),n.sendFocusBackToInput()},n.scrollToTimeOption=function(a){var l,c;if(!((l=n.calendar)===null||l===void 0)&&l.containerRef.current){for(var u=n.calendar.containerRef.current,f=Array.from(u.querySelectorAll(".react-datepicker__time-list-item")),m=null,h=1/0,v=n.props.timeFormat||"p",x=0,b=f;x<b.length;x++){var S=b[x],w=(c=S.textContent)===null||c===void 0?void 0:c.trim();if(w){var y=Nl(w,v,n.props.locale,!1,a);if(y&&vn(y)){if(nI(y,a)){m=S;break}var C=Math.abs(y.getTime()-a.getTime());C<h&&(h=C,m=S)}}}m&&(f.forEach(function(M){M.setAttribute("tabindex","-1")}),m.setAttribute("tabindex","0"),m.scrollIntoView({behavior:"smooth",block:"center"}))}},n.onInputKeyDown=function(a){var l,c,u,f,m,h;(c=(l=n.props).onKeyDown)===null||c===void 0||c.call(l,a);var v=a.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(v===Ce.ArrowDown||v===Ce.ArrowUp||v===Ce.Enter)&&((u=n.onInputClick)===null||u===void 0||u.call(n));return}if(n.state.open&&n.props.showTimeSelectOnly){if(v===Ce.ArrowDown||v===Ce.ArrowUp){a.preventDefault(),n.handleTimeOnlyArrowKey(v);return}if(v===Ce.Enter){a.preventDefault(),n.handleTimeOnlyEnterKey(a);return}}if(n.state.open){if(v===Ce.ArrowDown||v===Ce.ArrowUp){a.preventDefault();var x=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',b=((f=n.calendar)===null||f===void 0?void 0:f.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(x);b instanceof HTMLElement&&b.focus({preventScroll:!0});return}var S=bt(n.state.preSelection);v===Ce.Enter?(a.preventDefault(),a.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===Pb?(n.handleSelect(S,a),!n.props.shouldCloseOnSelect&&n.setPreSelection(S)):n.setOpen(!1)):v===Ce.Escape?(a.preventDefault(),a.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):v===Ce.Tab&&n.setOpen(!1),n.inputOk()||(h=(m=n.props).onInputError)===null||h===void 0||h.call(m,{code:1,msg:Tb})}},n.onPortalKeyDown=function(a){var l=a.key;l===Ce.Escape&&(a.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(a){var l,c,u,f,m,h,v=n.props,x=v.minDate,b=v.maxDate,S=v.disabledKeyboardNavigation,w=v.showWeekPicker,y=v.shouldCloseOnSelect,C=v.locale,M=v.calendarStartDay,A=v.adjustDateOnChange,_=v.inline;if((c=(l=n.props).onKeyDown)===null||c===void 0||c.call(l,a),!S){var E=a.key,T=a.shiftKey,P=bt(n.state.preSelection),O=function(F,D){var X=D;switch(F){case Ce.ArrowRight:X=w?fh(D,1):ba(D,1);break;case Ce.ArrowLeft:X=w?SE(D):Ere(D);break;case Ce.ArrowUp:X=SE(D);break;case Ce.ArrowDown:X=fh(D,1);break;case Ce.PageUp:X=T?Gs(D,1):Hl(D,1);break;case Ce.PageDown:X=T?ya(D,1):Na(D,1);break;case Ce.Home:X=qs(D,C,M);break;case Ce.End:X=bae(D);break}return X},z=function(F,D){for(var X=40,W=F,Z=!1,$=0,G=O(F,D);!Z;){if($>=X){G=D;break}x&&G<x&&(W=Ce.ArrowRight,G=ea(x,n.props)?O(W,G):x),b&&G>b&&(W=Ce.ArrowLeft,G=ea(b,n.props)?O(W,G):b),ea(G,n.props)?((W===Ce.PageUp||W===Ce.Home)&&(W=Ce.ArrowRight),(W===Ce.PageDown||W===Ce.End)&&(W=Ce.ArrowLeft),G=O(W,G)):Z=!0,$++}return G};if(E===Ce.Enter){a.preventDefault(),n.handleSelect(P,a),!y&&n.setPreSelection(P);return}else if(E===Ce.Escape){a.preventDefault(),n.setOpen(!1),n.inputOk()||(f=(u=n.props).onInputError)===null||f===void 0||f.call(u,{code:1,msg:Tb});return}var R=null;switch(E){case Ce.ArrowLeft:case Ce.ArrowRight:case Ce.ArrowUp:case Ce.ArrowDown:case Ce.PageUp:case Ce.PageDown:case Ce.Home:case Ce.End:R=z(E,P);break}if(!R){(h=(m=n.props).onInputError)===null||h===void 0||h.call(m,{code:1,msg:Tb});return}a.preventDefault(),n.setState({lastPreSelectChange:Pb}),A&&n.setSelected(R),n.setPreSelection(R),_&&n.setState({shouldFocusDayInline:!0})}},n.onPopperKeyDown=function(a){var l=a.key;l===Ce.Escape&&(a.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),n.sendFocusBackToInput();var l=n.props,c=l.selectsRange,u=l.onChange;u?.(c?[null,null]:null,a),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(a){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(a)&&n.setOpen(!1)},n.handleMonthSelectedInChange=function(a){n.setState({monthSelectedIn:a})},n.renderCalendar=function(){var a,l;return!n.props.inline&&!n.isCalendarOpen()?null:ce.createElement(Xae,st({showMonthYearDropdown:void 0,ref:function(c){n.calendar=c}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(a=n.props.dateFormatCalendar)!==null&&a!==void 0?a:t.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:_ae(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(l=n.props.dropdownMode)!==null&&l!==void 0?l:t.defaultProps.dropdownMode,onMonthSelectedInChange:n.handleMonthSelectedInChange}),n.props.children)},n.renderAriaLiveRegion=function(){var a,l=n.props.locale,c=(a=n.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,u=n.props.showTimeInput||n.props.showTimeSelect,f=u?"PPPPp":"PPPP",m;return n.props.selectsRange?m="Selected start date: ".concat(hn(n.props.startDate,{dateFormat:f,locale:l}),". ").concat(n.props.endDate?"End date: "+hn(n.props.endDate,{dateFormat:f,locale:l}):""):n.props.showTimeSelectOnly?m="Selected time: ".concat(hn(n.props.selected,{dateFormat:c,locale:l})):n.props.showYearPicker?m="Selected year: ".concat(hn(n.props.selected,{dateFormat:"yyyy",locale:l})):n.props.showMonthYearPicker?m="Selected month: ".concat(hn(n.props.selected,{dateFormat:"MMMM yyyy",locale:l})):n.props.showQuarterYearPicker?m="Selected quarter: ".concat(hn(n.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):m="Selected date: ".concat(hn(n.props.selected,{dateFormat:f,locale:l})),ce.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},m)},n.renderDateInput=function(){var a,l,c,u,f,m,h,v=lt(n.props.className,(a={},a[n.props.outsideClickIgnoreClass||t.defaultProps.outsideClickIgnoreClass]=n.state.open,a)),x=n.props.customInput||ce.createElement("input",{type:"text"}),b=n.props.customInputRef||"ref",S={},w=(c=n.props["aria-describedby"])!==null&&c!==void 0?c:n.props.ariaDescribedBy,y=(u=n.props["aria-invalid"])!==null&&u!==void 0?u:n.props.ariaInvalid,C=(f=n.props["aria-label"])!==null&&f!==void 0?f:n.props.ariaLabel,M=(m=n.props["aria-labelledby"])!==null&&m!==void 0?m:n.props.ariaLabelledBy,A=(h=n.props["aria-required"])!==null&&h!==void 0?h:n.props.ariaRequired;return w!=null&&(S["aria-describedby"]=w),y!=null&&(S["aria-invalid"]=y),C!=null&&(S["aria-label"]=C),M!=null&&(S["aria-labelledby"]=M),A!=null&&(S["aria-required"]=A),j.cloneElement(x,st((l={},l[b]=function(_){n.input=_},l.value=n.getInputValue(),l.onBlur=n.handleBlur,l.onChange=n.handleChange,l.onClick=n.onInputClick,l.onFocus=n.handleFocus,l.onKeyDown=n.onInputKeyDown,l.id=n.props.id,l.name=n.props.name,l.form=n.props.form,l.autoFocus=n.props.autoFocus,l.placeholder=n.props.placeholderText,l.disabled=n.props.disabled,l.autoComplete=n.props.autoComplete,l.className=lt(x.props.className,v),l.title=n.props.title,l.readOnly=n.props.readOnly,l.required=n.props.required,l.tabIndex=n.props.tabIndex,l),S))},n.renderClearButton=function(){var a=n.props,l=a.isClearable,c=a.disabled,u=a.selected,f=a.startDate,m=a.endDate,h=a.clearButtonTitle,v=a.clearButtonClassName,x=v===void 0?"":v,b=a.ariaLabelClose,S=b===void 0?"Close":b,w=a.selectedDates,y=a.readOnly;return l&&!y&&(u!=null||f!=null||m!=null||w?.length)?ce.createElement("button",{type:"button",className:lt("react-datepicker__close-icon",x,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":S,onClick:n.onClearClick,title:h,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:iI,readOnly:!1,rangeSeparator:Z3,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Wd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(r,n){var a,l,c,u;this.props.selectsRange&&t_(r.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):t_(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&n.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:WE(this.props.highlightDates)}),!n.focused&&!Fl(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((l=(a=this.props).onCalendarOpen)===null||l===void 0||l.call(a)),n.open===!0&&this.state.open===!1&&((u=(c=this.props).onCalendarClose)===null||u===void 0||u.call(c)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,a=r.icon,l=r.calendarIconClassname,c=r.calendarIconClassName,u=r.toggleCalendarOnIconClick,f=this.state.open;return l&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ce.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&ce.createElement(Zae,st({icon:a,className:lt(c,!c&&l,f&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?ce.createElement(lI,{enableTabLoop:this.props.enableTabLoop},ce.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=ce.createElement(sI,st({portalId:this.props.portalId},this.props),n)),ce.createElement(ce.Fragment,null,this.renderInputContainer(),n)}return ce.createElement(nie,st({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},t})(j.Component),iie="input",Pb="navigate";function pr({open:e,onClose:t,title:r,children:n,wide:a}){const l=j.useRef(null);return j.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),j.useEffect(()=>{function c(u){u.key==="Escape"&&t()}return e&&window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[e,t]),e?s.jsxs("div",{ref:l,className:"fixed inset-0 z-50 flex items-start justify-center pt-[5vh] sm:pt-[10vh] px-4",onClick:c=>{c.target===l.current&&t()},children:[s.jsx("div",{className:"fixed inset-0 bg-black/60"}),s.jsxs("div",{className:`relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full ${a?"max-w-2xl":"max-w-lg"} max-h-[80vh] flex flex-col animate-fade-in`,children:[s.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-[var(--border-light)] shrink-0",children:[s.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:r}),s.jsx("button",{onClick:t,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:s.jsx(Yl,{size:16})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:n})]})]}):null}function le({label:e,required:t,error:r,children:n}){return s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:[e,t&&s.jsx("span",{className:"text-rose-500 ml-0.5",children:"*"})]}),n,r&&s.jsx("p",{className:"text-xs text-rose-500 mt-1",children:r})]})}function Me({value:e,onChange:t,placeholder:r,type:n="text",sensitive:a,...l}){const{masked:c}=si();return s.jsx("input",{type:n,value:e,onChange:u=>t(u.target.value),placeholder:r,className:`w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors ${a&&c?"sensitive-blur":""}`,...l})}function ei({value:e,onChange:t,...r}){const n=e?new Date(e.length>10?e:e+"T00:00:00"):null;function a(l){if(!l){t("");return}const c=l.getFullYear(),u=String(l.getMonth()+1).padStart(2,"0"),f=String(l.getDate()).padStart(2,"0");t(`${c}-${u}-${f}`)}return s.jsxs("div",{className:"relative cf-datepicker",children:[s.jsx(aie,{selected:n,onChange:a,dateFormat:"dd MMM yyyy",maxDate:new Date,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",placeholderText:"Select date",className:"w-full px-3 py-2 pr-9 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",...r}),s.jsx(MF,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function Qe({value:e,onChange:t,options:r,placeholder:n}){return s.jsxs("select",{value:e,onChange:a=>t(a.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",children:[n&&s.jsx("option",{value:"",children:n}),r.map(a=>s.jsx("option",{value:a.value,children:a.label},a.value))]})}function yc({value:e,onChange:t,placeholder:r,rows:n=3}){return s.jsx("textarea",{value:e,onChange:a=>t(a.target.value),placeholder:r,rows:n,className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors resize-none"})}function sie({checked:e,onChange:t,label:r}){return s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:e,onChange:n=>t(n.target.checked),className:"w-4 h-4 rounded border-[var(--border-input)] bg-[var(--bg-input)] text-violet-500 focus:ring-violet-500"}),s.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:r})]})}function nn({onCancel:e,onSubmit:t,submitLabel:r="Save",loading:n}){return s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 mt-4 border-t border-[var(--border-light)]",children:[s.jsx("button",{onClick:e,disabled:n,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),s.jsxs("button",{onClick:t,disabled:n,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[n&&s.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),n?"Saving...":r]})]})}function rs({onClick:e,label:t="Deactivate"}){return s.jsx("button",{onClick:e,className:"px-4 py-2 text-xs font-semibold text-rose-400 hover:text-rose-300 hover:bg-rose-500/10 rounded-lg transition-colors",children:t})}const r_=[{key:"sip",label:"Adjust SIP",icon:z8,color:"text-blue-400",dimColor:"text-blue-400/60 hover:text-blue-400",activeBg:"bg-blue-500/20 border border-blue-500/40"},{key:"lumpsum",label:"Lumpsum",icon:f8,color:"text-emerald-400",dimColor:"text-emerald-400/60 hover:text-emerald-400",activeBg:"bg-emerald-500/20 border border-emerald-500/40"},{key:"buysell",label:"Buy / Sell",icon:wF,color:"text-amber-400",dimColor:"text-amber-400/60 hover:text-amber-400",activeBg:"bg-amber-500/20 border border-amber-500/40"}];function Ol(e){return e>=1e5?`${(e/1e5).toFixed(1)}L`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${Math.round(e)}`}function pj({exitOnly:e}){return s.jsx("div",{className:"py-4 text-center space-y-1",children:e?s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Only exit candidates here  use ",s.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab"]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No target allocations set"}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Use ",s.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund first"]})]})})}function lie({portfolio:e,holdings:t,totalValue:r}){const n=e.sipTarget||0,a=(e.rebalanceThreshold||.05)*100,l=t.some(x=>x.targetAllocationPct>0),c=t.some(x=>x.targetAllocationPct===0&&x.units>0);if(!l)return s.jsx(pj,{exitOnly:c});if(n<=0)return s.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"No SIP target set for this portfolio"});const u=t.filter(x=>x.targetAllocationPct>0).map(x=>{const b=r>0?x.currentValue/r*100:0,S=Math.abs(b-x.targetAllocationPct),w=S>a,C=x.targetAllocationPct/100*r-x.currentValue,M=x.targetAllocationPct/100*n;return{...x,currentPct:b,drift:S,drifted:w,gap:C,normalSIP:M}}),f=u.filter(x=>x.drifted&&x.gap>0);u.filter(x=>x.drifted&&x.gap<=0);const m=f.reduce((x,b)=>x+b.gap,0),h=u.map(x=>({...x,suggestedSIP:x.drifted&&x.gap>0&&m>0?x.gap/m*n:x.drifted&&x.gap<=0?0:x.normalSIP}));return u.some(x=>x.drifted)?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Funds drifted >",a.toFixed(0),"%: overweight  0, underweight  extra SIP. Others keep normal SIP."]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[s.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Normal SIP"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Rebalance SIP"})]})}),s.jsx("tbody",{children:h.map(x=>{const b=x.drifted&&x.gap<=0,S=x.drifted&&x.gap>0,w=!x.drifted;return s.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${w?"opacity-50":b?"opacity-60":""}`,children:[s.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:x.fundName}),s.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[s.jsxs("span",{className:b?"text-amber-400":S?"text-blue-400":"text-[var(--text-dim)]",children:[x.currentPct.toFixed(1),"%"]}),s.jsxs("span",{className:"text-[var(--text-dim)]",children:[" / ",x.targetAllocationPct.toFixed(1),"%"]})]}),s.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:Ol(x.normalSIP)}),s.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:b?s.jsx("span",{className:"text-amber-400/70",children:"0"}):S?s.jsx("span",{className:"text-blue-400",children:Ol(x.suggestedSIP)}):s.jsx("span",{className:"text-[var(--text-dim)]",children:Ol(x.suggestedSIP)})})]},x.holdingId)})}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t border-[var(--border)]",children:[s.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),s.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:Ol(n)}),s.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-blue-400 tabular-nums",children:Ol(n)})]})})]})})]}):s.jsxs("p",{className:"text-xs text-[var(--text-dim)] py-2",children:["SIPs are balanced (within ",a.toFixed(0),"% threshold)"]})}function oie({portfolio:e,holdings:t,totalValue:r}){const[n,a]=j.useState("");(e.rebalanceThreshold||.05)*100;const l=t.some(w=>w.targetAllocationPct>0),c=t.some(w=>w.targetAllocationPct===0&&w.units>0);if(!l)return s.jsx(pj,{exitOnly:c});const u=t.filter(w=>w.targetAllocationPct>0).map(w=>{const y=r>0?w.currentValue/r*100:0;return{...w,currentPct:y}}),f=j.useMemo(()=>{if(r<=0||u.length===0)return 0;const w=u.filter(A=>{const _=A.targetAllocationPct/100*r;return A.currentValue<_});if(w.length===0)return 0;const y=w.reduce((A,_)=>A+_.targetAllocationPct,0);if(y>=100)return 0;const C=w.reduce((A,_)=>A+_.currentValue,0),M=(y/100*r-C)/(1-y/100);return M>0?Math.ceil(M/100)*100:0},[u,r]),m=Number(n)||e.lumpsumTarget||f,h=j.useMemo(()=>{const w=m>0?r+m:r,y=u.map(M=>{const A=M.targetAllocationPct/100*w,_=m>0?Math.max(0,A-M.currentValue):0,E=w>0?(M.currentValue+_)/w*100:0,T=M.currentValue>A+1;return{...M,invest:_,newPct:E,isOverweight:T}}),C=y.reduce((M,A)=>M+A.invest,0);if(m>0&&C>0&&Math.abs(C-m)>1){const M=m/C;return y.map(A=>({...A,invest:A.invest>0?A.invest*M:0,newPct:w>0?(A.currentValue+(A.invest>0?A.invest*M:0))/w*100:0}))}return y},[u,m,r]),v=h.reduce((w,y)=>w+y.invest,0),x=h.some(w=>w.isOverweight),b=Number(n),S=b>0&&f>0&&b<f;return s.jsxs("div",{className:"space-y-2",children:[f>0&&s.jsx("div",{className:"flex items-center gap-2 px-2.5 py-1.5 rounded-md bg-emerald-500/10 border border-emerald-500/20",children:s.jsxs("p",{className:"text-xs text-emerald-400",children:[s.jsx("span",{className:"font-bold",children:Q(f)})," needed to bring all underweight funds to target %"]})}),s.jsxs("div",{className:"flex items-end gap-3",children:[s.jsx("div",{className:"flex-1 max-w-[200px]",children:s.jsx(le,{label:"Invest Amount ()",children:s.jsx(Me,{type:"number",value:n,onChange:a,placeholder:f>0?`${Q(f)}`:"Enter amount..."})})}),!b&&!e.lumpsumTarget&&f>0&&s.jsx("p",{className:"text-xs text-emerald-400/70 pb-2.5",children:"Using suggested"}),!b&&e.lumpsumTarget>=100&&s.jsx("p",{className:"text-xs text-[var(--text-dim)] pb-2.5",children:"Using lumpsum target"})]}),S&&s.jsxs("p",{className:"text-xs text-amber-400/80 px-1",children:["Below minimum  distributes proportionally but won't fully rebalance. Need ",Q(f)," for exact target %."]}),h.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[s.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Invest"})]})}),s.jsx("tbody",{children:h.map(w=>s.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${w.invest===0?"opacity-50":""}`,children:[s.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:w.fundName}),s.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[s.jsxs("span",{className:w.isOverweight?"text-amber-400":w.invest>0?"text-blue-400":"text-[var(--text-dim)]",children:[w.currentPct.toFixed(1),"%"]}),s.jsxs("span",{className:"text-[var(--text-dim)]",children:["  ",w.newPct.toFixed(1),"%"]})]}),s.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:w.isOverweight?s.jsx("span",{className:"text-amber-400/70 text-xs",children:"Overweight"}):w.invest>0?s.jsx("span",{className:"text-emerald-400",children:Ol(w.invest)}):s.jsx("span",{className:"text-[var(--text-dim)] text-xs",children:"Balanced"})})]},w.holdingId))}),v>0&&s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t border-[var(--border)]",children:[s.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),s.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-emerald-400 tabular-nums",children:Q(v)})]})})]})}):s.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2 text-center",children:"All funds balanced"}),x&&s.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Overweight funds can't be fixed by buying. Use ",s.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab to sell overweight and buy underweight."]})]})}function cie({portfolio:e,holdings:t,totalValue:r}){const n=(e.rebalanceThreshold||.05)*100,a=t.some(u=>u.targetAllocationPct>0),l=t.some(u=>u.targetAllocationPct===0&&u.units>0);if(!a&&!l)return s.jsx(pj,{});const c=t.filter(u=>u.targetAllocationPct>0||u.units>0).map(u=>{const f=r>0?u.currentValue/r*100:0,m=u.targetAllocationPct===0&&u.units>0,h=m||Math.abs(f-u.targetAllocationPct)>n,v=u.targetAllocationPct/100*r,x=h?v-u.currentValue:0;return{...u,currentPct:f,amount:x,isExit:m}}).filter(u=>Math.abs(u.amount)>=500);return c.length===0?s.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"Portfolio is balanced"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[s.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Drift"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Action"})]})}),s.jsx("tbody",{children:c.map(u=>{const f=u.amount>0;return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[s.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:u.fundName}),s.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:u.isExit?s.jsxs("span",{className:"text-[var(--accent-rose)]",children:[u.currentPct.toFixed(1),"%  Exit"]}):`${u.currentPct.toFixed(1)}%  ${u.targetAllocationPct.toFixed(1)}%`}),s.jsx("td",{className:"py-2 px-2 text-right",children:s.jsxs("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${f?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[f?"Buy":u.isExit?"Exit":"Sell"," ",Ol(Math.abs(u.amount))]})})]},u.schemeCode||u.fundCode)})})]})})}function oI(){const{mfHoldings:e,mfPortfolios:t}=ht(),[r,n]=j.useState("buysell"),a=j.useMemo(()=>t.filter(f=>f.status!=="Inactive").map(f=>{const m=e.filter(w=>w.portfolioId===f.portfolioId&&w.units>0),h=m.reduce((w,y)=>w+y.currentValue,0),v=(f.rebalanceThreshold||.05)*100,x=m.filter(w=>{if(w.targetAllocationPct<=0)return!1;const y=h>0?w.currentValue/h*100:0;return Math.abs(y-w.targetAllocationPct)>v}).length,b=m.filter(w=>w.targetAllocationPct===0&&w.units>0&&w.currentValue>=500).length,S=m.some(w=>w.targetAllocationPct>0);return{...f,holdings:m,totalValue:h,driftedCount:x,exitCount:b,hasTargets:S}}).filter(f=>f.driftedCount>0||f.exitCount>0),[t,e]);if(a.length===0){const f=e.some(m=>m.targetAllocationPct>0);return s.jsx("div",{className:"py-8 text-center",children:f?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"All portfolios are balanced"}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"No funds exceed their rebalance threshold"})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No target allocations set"}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:["Use ",s.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund, then rebalance will show drift"]})]})})}const c=a.some(f=>(f.sipTarget||0)>=500)?r_:r_.filter(f=>f.key!=="sip"),u=c.some(f=>f.key===r)?r:c[0]?.key||"buysell";return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex bg-[var(--bg-inset)] rounded-lg p-0.5",children:c.map(({key:f,label:m,icon:h,color:v,dimColor:x,activeBg:b})=>s.jsxs("button",{onClick:()=>n(f),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-semibold transition-colors ${u===f?`${b} ${v} shadow-sm`:x}`,children:[s.jsx(h,{size:13})," ",m]},f))}),a.map((f,m)=>s.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-violet-500/50 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-3 py-2.5 bg-[var(--bg-inset)]",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center",children:m+1}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:f.portfolioName}),s.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:f.ownerName}),f.driftedCount>0&&s.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[f.driftedCount," drifted"]}),f.exitCount>0&&s.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-rose-500/15 text-[var(--accent-rose)]",children:[f.exitCount," exit"]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-muted)]",children:[s.jsx("span",{className:"font-semibold text-[var(--text-secondary)]",children:Q(f.totalValue)}),s.jsxs("span",{children:["Threshold: ",((f.rebalanceThreshold||.05)*100).toFixed(0),"%"]}),f.sipTarget>=100&&s.jsxs("span",{children:["SIP: ",Q(f.sipTarget),"/mo"]})]})]}),s.jsxs("div",{className:"px-3 py-2",children:[u==="sip"&&s.jsx(lie,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue}),u==="lumpsum"&&s.jsx(oie,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue}),u==="buysell"&&s.jsx(cie,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue})]})]},f.portfolioId))]})}const uie="/logo-new.png",n_={mf:{label:"Mutual Funds",color:"bg-violet-500",order:1,route:"/investments/mutual-funds"},stocks:{label:"Stocks",color:"bg-blue-500",order:2,route:"/investments/stocks"},PPF:{label:"PPF",color:"bg-cyan-600",order:3,route:"/investments/other"},EPF:{label:"EPF",color:"bg-cyan-500",order:4,route:"/investments/other"},NPS:{label:"NPS",color:"bg-sky-500",order:5,route:"/investments/other"},FD:{label:"Fixed Deposit",color:"bg-teal-500",order:6,route:"/investments/other"},RD:{label:"RD",color:"bg-teal-400",order:7,route:"/investments/other"},SSY:{label:"SSY",color:"bg-pink-400",order:8,route:"/investments/other"},NSC:{label:"NSC",color:"bg-indigo-400",order:9,route:"/investments/other"},Bonds:{label:"Bonds",color:"bg-cyan-400",order:10,route:"/investments/other"},Debt:{label:"Debt",color:"bg-cyan-500",order:11,route:"/investments/other"},Gold:{label:"Gold",color:"bg-amber-500",order:12,route:"/investments/other"},Silver:{label:"Silver",color:"bg-slate-400",order:13,route:"/investments/other"},Property:{label:"Real Estate",color:"bg-orange-500",order:14,route:"/investments/other"},Alternative:{label:"Alternative",color:"bg-violet-400",order:15,route:"/investments/other"},Equity:{label:"Equity",color:"bg-emerald-500",order:16,route:"/investments/other"},Other:{label:"Other",color:"bg-gray-500",order:17,route:"/investments/other"}},Rm=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],a_=["bg-violet-500","bg-rose-500","bg-blue-500","bg-amber-500","bg-emerald-500"],die=[{label:"Family Members",path:"/family",match:"/family"},{label:"Bank Accounts",path:"/accounts/bank",match:"/accounts/bank"},{label:"Investment Accounts",path:"/accounts/investment",match:"/accounts/investment"},{label:"Insurance",path:"/insurance",match:"/insurance"},{label:"Mutual Funds",path:"/investments/mutual-funds",match:"/investments/mutual-funds"},{label:"Stocks",path:"/investments/stocks",match:"/investments/stocks"},{label:"Other Investments",path:"/investments/other",match:"/investments/other"},{label:"Liabilities",path:"/liabilities",match:"/liabilities"},{label:"Goals",path:"/goals",match:"/goals"}],i_={mf:"#8b5cf6",stocks:"#3b82f6",PPF:"#0891b2",EPF:"#06b6d4",NPS:"#0ea5e9",FD:"#14b8a6",RD:"#2dd4bf",SSY:"#f472b6",NSC:"#818cf8",Bonds:"#22d3ee",Debt:"#0ea5e9",Gold:"#fbbf24",Silver:"#94a3b8",Property:"#f97316",Alternative:"#a78bfa",Equity:"#10b981",Other:"#6b7280"},fie={buyopp:"Buy Opportunities",rebalance:"Rebalance Alerts"};function mie(){const{theme:e,toggle:t}=PO(),{selectedMember:r,setSelectedMember:n,familyMembers:a}=Hr(),{mfPortfolios:l,mfHoldings:c,stockPortfolios:u,stockHoldings:f,otherInvList:m,liabilityList:h,refreshData:v,isRefreshing:x}=ht(),{user:b,signOut:S}=to(),{masked:w,toggleMask:y,mv:C}=si(),M=eo(),A=Ca(),{criticalAlerts:_,upcomingReminders:E,investmentSignals:T}=jee(),[P,O]=j.useState(!1),[z,R]=j.useState(!1),[F,D]=j.useState(null),[X,W]=j.useState(!1),Z=j.useRef(null),$=j.useRef(null),G=_.length+E.length,{buyOppCount:L,buyCount:te,strongBuyCount:xe,rebalanceCount:B}=T;j.useEffect(()=>{function ye(he){Z.current&&!Z.current.contains(he.target)&&O(!1),$.current&&!$.current.contains(he.target)&&R(!1)}return(P||z)&&document.addEventListener("mousedown",ye),()=>document.removeEventListener("mousedown",ye)},[P,z]);const ae=a.findIndex(ye=>ye.memberId===r),ge=ae>=0?a[ae]:null,fe=j.useMemo(()=>{const ye=(Ie,qe)=>r==="all"?Ie:Ie.filter(Bt=>Bt[qe]===r),he={},Se=(Ie,qe,Bt,ot)=>{he[Ie]||(he[Ie]={items:[],invested:0}),he[Ie].items.push({label:qe,value:Bt}),he[Ie].invested+=ot};ye((l||[]).filter(Ie=>Ie.status==="Active"),"ownerId").forEach(Ie=>{const qe=(c||[]).filter(St=>St.portfolioId===Ie.portfolioId&&St.units>0),Bt=qe.reduce((St,tr)=>St+tr.currentValue,0),ot=qe.reduce((St,tr)=>St+tr.investment,0);Bt>0&&Se("mf",Ie.portfolioName?.replace(/^PFL-/,"")||Ie.portfolioName,Bt,ot)}),ye((u||[]).filter(Ie=>Ie.status==="Active"),"ownerId").forEach(Ie=>{const qe=(f||[]).filter(St=>St.portfolioId===Ie.portfolioId),Bt=qe.reduce((St,tr)=>St+tr.currentValue,0),ot=qe.reduce((St,tr)=>St+tr.totalInvestment,0);Bt>0&&Se("stocks",Ie.portfolioName,Bt,ot)}),ye((m||[]).filter(Ie=>Ie.status==="Active"),"familyMemberId").forEach(Ie=>{const qe=Ie.investmentType||Ie.investmentCategory||"Other";Se(qe,Ie.investmentName||qe,Ie.currentValue,Ie.investedAmount||0)});const ve=Object.entries(he).map(([Ie,{items:qe,invested:Bt}])=>{const ot=n_[Ie]||n_.Other,St=qe.reduce((tr,rr)=>tr+rr.value,0);return{key:Ie,label:ot.label,color:ot.color,order:ot.order,route:ot.route,total:St,invested:Bt,items:qe.sort((tr,rr)=>rr.value-tr.value)}}).filter(Ie=>Ie.total>0).sort((Ie,qe)=>Ie.order-qe.order),tt=ye((h||[]).filter(Ie=>Ie.status==="Active"),"familyMemberId"),Ye=tt.map(Ie=>({label:Ie.liabilityName||Ie.liabilityType||"Loan",value:Ie.outstandingBalance})),yt=tt.reduce((Ie,qe)=>Ie+qe.outstandingBalance,0),xt=ve.reduce((Ie,qe)=>Ie+qe.total,0),nt=ve.reduce((Ie,qe)=>Ie+qe.invested,0);return{netWorth:xt-yt,totalInv:xt,totalInvested:nt,sections:ve,totalLiab:yt,liabilities:Ye}},[r,l,c,u,f,m,h]);function Oe(){O(!1),R(!1)}return s.jsxs("header",{className:"sticky top-0 z-30 shrink-0",children:[s.jsx("style",{children:`
        @keyframes glow-emerald {
          0%, 100% { box-shadow: 0 0 6px rgba(16,185,129,0.3), 0 0 12px rgba(16,185,129,0.15); }
          50% { box-shadow: 0 0 12px rgba(16,185,129,0.5), 0 0 24px rgba(16,185,129,0.25); }
        }
        @keyframes glow-violet {
          0%, 100% { box-shadow: 0 0 6px rgba(139,92,246,0.3), 0 0 12px rgba(139,92,246,0.15); }
          50% { box-shadow: 0 0 12px rgba(139,92,246,0.5), 0 0 24px rgba(139,92,246,0.25); }
        }
        .glow-emerald { animation: glow-emerald 2s ease-in-out infinite; }
        .glow-violet { animation: glow-violet 2s ease-in-out infinite; }
      `}),s.jsx("div",{className:"relative z-10 bg-[var(--bg-header)]/95 backdrop-blur-sm border-b border-[var(--border)]",children:s.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[s.jsxs(_l,{to:"/investments/mutual-funds",className:"flex items-center gap-2",children:[s.jsx("img",{src:uie,alt:"CF",className:"h-9 sm:h-12 w-auto"}),s.jsxs("span",{className:"hidden sm:flex items-baseline gap-1 text-lg tracking-tight",style:{fontFamily:"'Poppins', sans-serif"},children:[s.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:"Capital"}),s.jsx("span",{className:"font-extrabold text-emerald-400",children:"Friends"})]})]}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[L>0&&s.jsxs("button",{onClick:()=>{D(F==="buyopp"?null:"buyopp"),Oe()},className:`hidden sm:flex glow-emerald items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${F==="buyopp"?"bg-emerald-500/30 text-emerald-300 ring-1 ring-emerald-400/50":"bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25"}`,children:[s.jsx(yp,{size:13,strokeWidth:2.5}),s.jsx("span",{children:xe>0?"Buy Opportunities":"Buying Opportunities"}),xe>0&&s.jsxs("span",{className:"text-[11px] bg-emerald-500/30 px-1.5 py-0.5 rounded-full",children:[xe," Strong"]}),te>0&&s.jsxs("span",{className:"text-[11px] bg-emerald-500/20 px-1.5 py-0.5 rounded-full",children:[te," Buy"]})]}),B>0&&s.jsxs("button",{onClick:()=>{D(F==="rebalance"?null:"rebalance"),Oe()},className:`hidden sm:flex glow-violet items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${F==="rebalance"?"bg-violet-500/30 text-violet-300 ring-1 ring-violet-400/50":"bg-violet-500/15 text-violet-400 hover:bg-violet-500/25"}`,children:[s.jsx(ec,{size:13,strokeWidth:2.5}),s.jsx("span",{children:"Rebalance Alerts"}),s.jsx("span",{className:"text-[11px] bg-violet-500/30 px-1.5 py-0.5 rounded-full",children:B})]}),s.jsx("button",{onClick:()=>v(!0),disabled:x,className:`p-1.5 sm:p-2 rounded-lg transition-colors ${x?"text-blue-400 cursor-not-allowed":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:"Sync data from Google Sheets",children:s.jsx(ec,{size:16,className:x?"animate-spin":""})}),s.jsx("button",{onClick:y,className:`hidden sm:block p-2 rounded-lg transition-colors ${w?"text-amber-400 bg-amber-500/10":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:w?"Data masked  click to reveal":"Mask sensitive data",children:w?s.jsx(ed,{size:18}):s.jsx(vp,{size:18})}),s.jsx("button",{onClick:t,className:"hidden sm:block p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",title:`Switch to ${e==="dark"?"light":"dark"} mode`,children:e==="dark"?s.jsx(bp,{size:18}):s.jsx(Xb,{size:18})}),G>0&&s.jsxs("div",{className:"relative",ref:$,children:[s.jsxs("button",{onClick:()=>{R(!z),O(!1)},className:"relative p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx(kh,{size:18}),s.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-rose-500 rounded-full px-1",children:G})]}),z&&s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[s.jsx("div",{className:"px-3 py-2 border-b border-[var(--border-light)]",children:s.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Notifications"})}),s.jsxs("div",{className:"max-h-[300px] overflow-y-auto py-1",children:[_.map((ye,he)=>{const Se={critical:"bg-rose-500",warning:"bg-amber-500",info:"bg-blue-500"}[ye.type],K={critical:"bg-rose-500/15 text-rose-400",warning:"bg-amber-500/15 text-amber-400",info:"bg-blue-500/15 text-blue-400"}[ye.type];return s.jsxs("button",{onClick:()=>{R(!1),M(ye.navigateTo)},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${Se}`}),s.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 text-left truncate",children:ye.title}),s.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${K}`,children:ye.badge})]},`c-${he}`)}),_.length>0&&E.length>0&&s.jsx("div",{className:"mx-3 my-1 border-t border-[var(--border-light)]"}),E.map(ye=>{const he=ye.days<=7?"bg-rose-500/15 text-rose-400":ye.days<=15?"bg-amber-500/15 text-amber-400":"bg-slate-500/15 text-[var(--text-muted)]";return s.jsxs("button",{onClick:()=>{R(!1),M("/reminders")},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[s.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-amber-500"}),s.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 truncate",children:ye.title}),s.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${he}`,children:ye.days===0?"Today":ye.days<=30?`${ye.days}d`:ye.dateStr})]},`r-${ye.reminderId}`)})]})]})]}),s.jsxs("div",{className:"relative",ref:Z,children:[s.jsxs("button",{onClick:()=>{O(!P),R(!1)},className:"flex items-center gap-1.5 pl-1 pr-2 py-1 rounded-full hover:bg-[var(--bg-hover)] transition-colors",children:[ge?s.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-br ${Rm[ae%Rm.length]} flex items-center justify-center text-white text-xs font-bold shadow-sm`,children:ge.memberName.charAt(0)}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm",children:s.jsx(sc,{size:14})}),s.jsx(Oi,{size:14,className:`text-[var(--text-muted)] transition-transform ${P?"rotate-180":""}`})]}),P&&s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[s.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)]",children:s.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Viewing as"})}),s.jsxs("div",{className:"py-1.5",children:[s.jsxs("button",{onClick:()=>{n("all"),O(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${r==="all"?"bg-violet-500/10":"hover:bg-[var(--bg-hover)]"}`,children:[s.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm shrink-0",children:s.jsx(sc,{size:15})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`text-sm font-semibold truncate ${r==="all"?"text-violet-400":"text-[var(--text-primary)]"}`,children:"Everyone"}),s.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:"All family members"})]}),r==="all"&&s.jsx(AC,{size:16,className:"text-violet-400 shrink-0"})]}),a.length>0&&s.jsx("div",{className:"mx-4 my-1 border-t border-[var(--border-light)]"}),a.map((ye,he)=>{const Se=r===ye.memberId;return s.jsxs("button",{onClick:()=>{n(ye.memberId),O(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${Se?`${a_[he%a_.length]}/10`:"hover:bg-[var(--bg-hover)]"}`,children:[s.jsx("div",{className:`w-9 h-9 rounded-full bg-gradient-to-br ${Rm[he%Rm.length]} flex items-center justify-center text-white text-sm font-bold shadow-sm shrink-0`,children:ye.memberName.charAt(0)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold truncate text-[var(--text-primary)]",children:C(ye.memberName,"name")}),s.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:ye.relationship||"Family member"})]}),Se&&s.jsx(AC,{size:16,className:"text-emerald-400 shrink-0"})]},ye.memberId)})]}),s.jsxs("div",{className:"sm:hidden border-t border-[var(--border-light)] py-1.5",children:[s.jsxs("button",{onClick:()=>{y(),O(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[w?s.jsx(ed,{size:16}):s.jsx(vp,{size:16}),s.jsx("span",{className:"text-sm font-medium",children:w?"Unmask Data":"Mask Data"})]}),s.jsxs("button",{onClick:()=>{t(),O(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[e==="dark"?s.jsx(bp,{size:16}):s.jsx(Xb,{size:16}),s.jsx("span",{className:"text-sm font-medium",children:e==="dark"?"Light Mode":"Dark Mode"})]})]}),s.jsxs("div",{className:"border-t border-[var(--border-light)] py-1.5",children:[s.jsxs(_l,{to:"/settings",onClick:()=>O(!1),className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx(JO,{size:16}),s.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),b&&s.jsx("div",{className:"px-4 py-1.5",children:s.jsx("p",{className:"text-[11px] text-[var(--text-muted)] truncate",children:C(b.email,"email")})}),s.jsxs("button",{onClick:()=>{S(),O(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-rose-400 hover:bg-rose-500/10 transition-colors",children:[s.jsx(WO,{size:16}),s.jsx("span",{className:"text-sm font-medium",children:"Sign out"})]})]})]})]})]})]})}),s.jsx(wee,{}),s.jsx("nav",{className:"hidden lg:block bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)]",children:s.jsxs("div",{className:"flex items-center px-3 sm:px-4 py-1.5",children:[s.jsx("div",{className:"flex items-center gap-1 overflow-x-auto no-scrollbar flex-1 min-w-0",children:die.map(ye=>{const he=A.pathname.startsWith(ye.match);return s.jsx(_l,{to:ye.path,className:`whitespace-nowrap px-3 py-1.5 rounded-lg text-[13px] font-medium transition-colors ${he?"bg-violet-500/15 text-violet-400":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:ye.label},ye.path)})}),s.jsxs("button",{onClick:()=>{W(!0),Oe()},className:`shrink-0 ml-3 flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-colors ${fe.netWorth>=0?"bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15":"bg-rose-500/10 border border-rose-500/20 hover:bg-rose-500/15"}`,children:[s.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${fe.netWorth>=0?"text-emerald-400/70":"text-rose-400/70"}`,children:"Net Worth"}),s.jsx("span",{className:`text-sm font-extrabold tabular-nums ${fe.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:Q(fe.netWorth)}),s.jsx(nd,{size:12,className:fe.netWorth>=0?"text-emerald-400/60":"text-rose-400/60"})]})]})}),s.jsxs("div",{className:"lg:hidden bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)] px-3 py-1.5 flex items-center gap-2 justify-end",children:[L>0&&s.jsxs("button",{onClick:()=>{D(F==="buyopp"?null:"buyopp"),Oe()},className:"flex items-center gap-1 px-2 py-1 text-[11px] font-bold text-emerald-400 bg-emerald-500/12 border border-emerald-500/25 rounded-full",children:[s.jsx(yp,{size:11,strokeWidth:2.5}),s.jsx("span",{children:L})]}),B>0&&s.jsxs("button",{onClick:()=>{D(F==="rebalance"?null:"rebalance"),Oe()},className:"flex items-center gap-1 px-2 py-1 text-[11px] font-bold text-violet-400 bg-violet-500/12 border border-violet-500/25 rounded-full",children:[s.jsx(ec,{size:11,strokeWidth:2.5}),s.jsx("span",{children:B})]}),s.jsxs("button",{onClick:()=>{W(!0),Oe()},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-colors ${fe.netWorth>=0?"bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15":"bg-rose-500/10 border border-rose-500/20 hover:bg-rose-500/15"}`,children:[s.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${fe.netWorth>=0?"text-emerald-400/70":"text-rose-400/70"}`,children:"Net Worth"}),s.jsx("span",{className:`text-sm font-extrabold tabular-nums ${fe.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:Q(fe.netWorth)}),s.jsx(nd,{size:12,className:fe.netWorth>=0?"text-emerald-400/60":"text-rose-400/60"})]})]}),X&&(()=>{const ye=fe.sections.map(he=>({name:he.label,value:he.total,fill:i_[he.key]||"#6b7280",pct:fe.totalInv>0?he.total/fe.totalInv*100:0,color:he.color,route:he.route}));return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-3",onClick:()=>W(!1),children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),s.jsxs("div",{className:"relative w-full md:w-auto md:min-w-[720px] md:max-w-4xl max-h-[85vh] overflow-y-auto bg-[var(--bg-card)] rounded-2xl border border-[var(--border)] shadow-2xl shadow-black/40",onClick:he=>he.stopPropagation(),children:[s.jsx("button",{onClick:()=>W(!1),className:"absolute top-3 right-3 z-20 p-1.5 rounded-full bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)]",children:s.jsx(Yl,{size:16,className:"text-[var(--text-muted)]"})}),s.jsxs("div",{className:"flex flex-col md:flex-row",children:[s.jsx("div",{className:"flex-shrink-0 md:w-[340px] pt-6 pb-4 md:pb-6 px-6 flex flex-col items-center justify-center md:border-r md:border-[var(--border-light)]",children:s.jsxs("div",{className:"relative w-[200px] h-[200px] md:w-[280px] md:h-[280px]",children:[s.jsx(NT,{width:"100%",height:"100%",children:s.jsxs(y3,{children:[s.jsx(Xw,{data:ye,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:"55%",outerRadius:"85%",paddingAngle:3,stroke:"none",children:ye.map((he,Se)=>s.jsx(Yd,{fill:he.fill},Se))}),s.jsx(B4,{content:({active:he,payload:Se})=>{if(!he||!Se?.[0])return null;const K=Se[0].payload;return s.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-2.5 py-1.5 shadow-lg text-xs",children:[s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:K.name}),s.jsx("span",{className:"text-[var(--text-muted)] ml-1.5",children:Q(K.value)})]})}})]})}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Net Worth"}),s.jsx("p",{className:"text-lg md:text-xl font-bold text-[var(--text-primary)] tabular-nums",children:Q(fe.netWorth)})]})]})}),s.jsxs("div",{className:"flex-1 min-w-0 px-3 md:px-5 pt-4 md:pt-6 pb-5 flex flex-col justify-center",children:[s.jsxs("div",{className:"space-y-2",children:[fe.sections.map(he=>{const Se=fe.totalInv>0?he.total/fe.totalInv*100:0,K=i_[he.key]||"#6b7280";return s.jsxs(_l,{to:he.route,onClick:()=>W(!1),className:"flex items-center gap-2.5 py-2.5 px-3 rounded-xl transition-colors group",style:{backgroundColor:`${K}12`},children:[s.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:K}}),s.jsx("span",{className:"text-[13px] font-medium text-[var(--text-primary)] flex-1 min-w-0 truncate",children:he.label}),s.jsx("span",{className:"text-[13px] font-bold text-[var(--text-primary)] tabular-nums shrink-0",children:Q(he.total)}),s.jsxs("span",{className:"text-[10px] font-medium tabular-nums shrink-0 px-1.5 py-0.5 rounded-full",style:{backgroundColor:`${K}20`,color:K},children:[Se.toFixed(0),"%"]})]},he.key)}),fe.totalLiab>0&&s.jsxs(_l,{to:"/liabilities",onClick:()=>W(!1),className:"flex items-center gap-2.5 py-2.5 px-3 rounded-xl transition-colors group bg-rose-500/[0.07]",children:[s.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-rose-500"}),s.jsxs("span",{className:"text-[13px] font-medium text-[var(--text-primary)] flex-1 min-w-0",children:[fe.liabilities.length," ",fe.liabilities.length===1?"Loan":"Loans"]}),s.jsxs("span",{className:"text-[13px] font-bold text-rose-400 tabular-nums shrink-0",children:["",Q(fe.totalLiab)]})]})]}),s.jsxs("div",{className:"mt-4 pt-3 mx-1 border-t border-[var(--border-light)] flex items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[10px] uppercase tracking-wider text-[var(--text-dim)]",children:"Net Worth"}),s.jsx("span",{className:`text-lg font-bold tabular-nums ${fe.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:Q(fe.netWorth)})]}),s.jsxs("div",{className:"flex flex-col items-end text-[11px] text-[var(--text-dim)] tabular-nums",children:[s.jsxs("span",{children:[Q(fe.totalInv)," invested"]}),fe.totalLiab>0&&s.jsxs("span",{className:"text-rose-400/70",children:["",Q(fe.totalLiab)," owed"]})]})]})]})]})]})]})})(),F&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-16 sm:pt-24 px-3",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>D(null)}),s.jsxs("div",{className:"relative w-full max-w-3xl max-h-[75vh] rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-2xl shadow-black/40 overflow-hidden flex flex-col animate-in fade-in slide-in-from-top-4 duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--border-light)] shrink-0",children:[s.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:fie[F]}),s.jsx("button",{onClick:()=>D(null),className:"p-1.5 rounded-lg hover:bg-[var(--bg-hover)] text-[var(--text-dim)] transition-colors",children:s.jsx(Yl,{size:16})})]}),s.jsxs("div",{className:"overflow-y-auto p-4",children:[F==="buyopp"&&s.jsx(j3,{}),F==="rebalance"&&s.jsx(oI,{})]})]})]})]})}const pie=[{label:"Invest",icon:Jm,path:"/investments/mutual-funds"},{label:"Accounts",icon:Dh,path:"/accounts/bank"},{label:"Goals",icon:Eh,path:"/goals"},{label:"Reminders",icon:kh,path:"/reminders"},{label:"More",icon:t8,path:"/more"}];function hie(){return s.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-[var(--bg-sidebar)] border-t border-[var(--border)] safe-bottom",children:s.jsx("div",{className:"flex items-center justify-around h-[56px]",children:pie.map(({label:e,icon:t,path:r})=>s.jsx(eO,{to:r,className:({isActive:n})=>`relative flex flex-col items-center justify-center gap-0.5 w-full h-full text-xs font-medium transition-colors ${n?"text-[var(--sidebar-active-text)]":"text-[var(--text-dim)]"}`,children:({isActive:n})=>s.jsxs(s.Fragment,{children:[n&&s.jsx("span",{className:"absolute top-0 w-10 h-[2.5px] bg-[var(--sidebar-active-text)] rounded-b-full"}),s.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-xl transition-colors ${n?"bg-[var(--sidebar-active-bg)]":""}`,children:s.jsx(t,{size:19,strokeWidth:n?2.2:1.5})}),s.jsx("span",{className:n?"font-semibold":"",children:e})]})},r))})})}const vie="/logo-new.png";function Nh(){return s.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:s.jsxs("div",{className:"flex flex-col items-center gap-6",children:[s.jsx("img",{src:vie,alt:"Capital Friends",className:"h-16 w-auto animate-pulse"}),s.jsx("div",{className:"w-40 h-1 rounded-full bg-[var(--border)] overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-violet-500 to-cyan-500 animate-loading-bar"})})]})})}function xie(){const{loading:e,error:t}=ht();return e?s.jsx(Nh,{}):t?s.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:s.jsxs("div",{className:"flex flex-col items-center gap-4 text-center px-6",children:[s.jsx("img",{src:"/logo-new.png",alt:"Capital Friends",className:"h-16 w-auto opacity-50"}),s.jsx("p",{className:"text-rose-400 text-sm font-medium",children:t}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-violet-600 hover:bg-violet-500 text-white transition-colors",children:"Retry"})]})}):s.jsxs("div",{className:"flex flex-col h-dvh bg-[var(--bg-base)] overflow-hidden",children:[s.jsx(mie,{}),s.jsx("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-20 lg:pb-0",children:s.jsx("div",{className:"px-3 sm:px-4 py-3 sm:py-4 w-full max-w-7xl mx-auto",children:s.jsx(Q_,{})})}),s.jsx(hie,{})]})}function gie(){const{isAuthenticated:e,loading:t}=to(),{healthCheckCompleted:r,loading:n}=ht(),a=Ca();return t&&!e?s.jsx(Nh,{phase:"auth"}):!e&&!t?s.jsx(mp,{to:"/",replace:!0}):n?s.jsx(Nh,{phase:"data"}):r===!1&&a.pathname!=="/health-check"?s.jsx(mp,{to:"/health-check",replace:!0}):s.jsx(Q_,{})}const Ib="/logo-new.png";function cI(){const{isAuthenticated:e,loading:t,error:r,signIn:n}=to(),a=eo(),[l,c]=j.useState(0),[u,f]=j.useState(!1),m=j.useRef(null),h=j.useCallback(()=>{m.current&&clearInterval(m.current),m.current=setInterval(()=>{f(S=>(S||c(w=>(w+1)%4),S))},5e3)},[]);j.useEffect(()=>(h(),()=>{m.current&&clearInterval(m.current)}),[h]);function v(S){c(S),h()}if(j.useEffect(()=>{e&&a("/dashboard",{replace:!0})},[e,a]),t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#080d1a]",children:s.jsx("img",{src:Ib,alt:"",className:"h-16 w-auto animate-pulse"})});const x=[{id:"ath",label:"ATH Tracking",icon:s.jsx(ic,{size:18}),color:"emerald",tagline:"Spot Buying Opportunities",desc:"See how far each mutual fund is from its All-Time High NAV. When a quality fund dips 10-20% below ATH, it's your signal to invest more  via SIP increase or lumpsum.",mock:s.jsx(yie,{})},{id:"rebalance",label:"Rebalancing",icon:s.jsx(ec,{size:18}),color:"violet",tagline:"Know Exactly What to Buy or Sell",desc:"Set target allocation for each fund. When your portfolio drifts, Capital Friends tells you exactly how much to adjust  via SIP changes, lumpsum top-ups, or buy/sell actions.",mock:s.jsx(wie,{})},{id:"goals",label:"Goal Linking",icon:s.jsx(Eh,{size:18}),color:"cyan",tagline:"Link Portfolios to Goals",desc:"Create goals like retirement, child education, or emergency fund. Link MF portfolios with allocation percentages. Goal progress updates automatically as NAVs change daily.",mock:s.jsx(jie,{})},{id:"dashboard",label:"Family View",icon:s.jsx(sc,{size:18}),color:"amber",tagline:"Everyone's Wealth, One Dashboard",desc:"Switch between family members in one click. See combined or individual net worth, investments, insurance, loans  everything your family owns, in one place.",mock:s.jsx(bie,{})}],b=x[l];return s.jsxs("div",{className:"min-h-screen bg-[#080d1a] text-slate-200",children:[s.jsx("header",{className:"sticky top-0 z-50 bg-[#0a0f1f]/95 backdrop-blur-sm border-b border-white/[0.06]",children:s.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:Ib,alt:"CF",className:"h-12 w-auto"}),s.jsxs("span",{className:"flex items-baseline gap-1 text-lg tracking-tight",style:{fontFamily:"'Poppins', sans-serif"},children:[s.jsx("span",{className:"font-bold text-white",children:"Capital"}),s.jsx("span",{className:"font-extrabold text-emerald-400",children:"Friends"})]})]}),s.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-600 to-cyan-600 text-white text-sm font-semibold hover:from-violet-500 hover:to-cyan-500 transition-all cursor-pointer",children:[s.jsx(l_,{s:14})," Sign In"]})]})}),s.jsxs("section",{className:"relative px-5 sm:px-8 lg:px-16 pt-10 sm:pt-14 pb-8 sm:pb-10 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[400px] bg-violet-600/8 rounded-full blur-[120px] pointer-events-none"}),s.jsx("div",{className:"absolute top-20 right-1/4 w-[400px] h-[300px] bg-cyan-600/6 rounded-full blur-[100px] pointer-events-none"}),s.jsxs("div",{className:"relative text-center",children:[s.jsx("span",{className:"inline-block text-xs font-bold uppercase tracking-[0.2em] text-violet-400 bg-violet-500/10 border border-violet-500/20 rounded-full px-4 py-1.5 mb-5",children:"Always Free  100% Private  Your Google Sheet"}),s.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold leading-[1.1] tracking-tight text-white",children:["One dashboard for your family's"," ",s.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-cyan-400 bg-clip-text text-transparent",children:"entire wealth"})]}),s.jsxs("p",{className:"mt-5 text-base sm:text-lg text-slate-400 leading-relaxed max-w-2xl mx-auto",children:["Mutual funds, stocks, FDs, gold, insurance, loans  track everything for every family member. Manual entry means ",s.jsx("strong",{className:"text-white",children:"no bank credentials, no privacy risk"}),"."]}),r&&s.jsx("p",{className:"mt-5 text-sm text-rose-400",children:r})]})]}),s.jsxs("section",{className:"bg-gradient-to-b from-[#0d0a1a] to-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-10 sm:py-14",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3 flex-wrap justify-center",children:[s.jsx(Hs,{size:28,className:"text-amber-400 shrink-0"}),s.jsxs("span",{children:["What happens if something happens to ",s.jsx("span",{className:"text-amber-400",children:"you"}),"?"]})]}),s.jsxs("p",{className:"mt-4 text-lg text-slate-400 leading-relaxed",children:["Your family should know about every investment, every policy, every loan. Not someday. ",s.jsx("strong",{className:"text-white",children:"Right now."})]})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsx(s_,{icon:s.jsx(vp,{size:20}),color:"rose",title:"Without Capital Friends",items:["Scattered investments across 10+ platforms","Family has no idea what you own or owe","Insurance policies lost in email threads","Months of confusion, missed renewals, lost money"],bad:!0}),s.jsx(s_,{icon:s.jsx(td,{size:20}),color:"emerald",title:"With Capital Friends",items:["One sheet  every investment, policy, and loan","Family receives email reports with full portfolio details","Reminders for SIPs, renewals, EMI payments","Complete clarity, instantly  when it matters most"]})]}),s.jsxs("p",{className:"text-center mt-8 text-base text-slate-500",children:["Built for ",s.jsx("strong",{className:"text-white",children:"you"})," to manage your wealth  and for your ",s.jsx("strong",{className:"text-white",children:"family"})," to access it when they need to."]})]}),s.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"How it Works"}),s.jsx("p",{className:"text-base text-slate-500",children:"Set up in 2 minutes  no bank credentials, no downloads"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-4",children:[s.jsx(Lm,{num:1,icon:s.jsx(N8,{size:24}),color:"violet",title:"Sign In with Google",desc:"Go to capitalfriends.in and sign in with your Google account. That's all  no registration form, no passwords."}),s.jsx(Lm,{num:2,icon:s.jsx(i8,{size:24}),color:"emerald",title:"App Creates Your Sheet",desc:"The app creates a private Google Sheet in your own Google Drive. This sheet stores all your financial data. Only you can see it  not even the developer."}),s.jsx(Lm,{num:3,icon:s.jsx(qO,{size:24}),color:"cyan",title:"Financial Health Check",desc:"Answer 7 simple yes/no questions about your financial health. Get your score and personalized recommendations instantly."}),s.jsx(Lm,{num:4,icon:s.jsx(ic,{size:24}),color:"amber",title:"Start Tracking",desc:"Add family members, portfolios, goals, insurance, and loans. The app connects to AMFI for live mutual fund prices automatically."})]}),s.jsxs("p",{className:"text-center mt-10 text-sm text-slate-600",children:["Your sheet is named ",s.jsx("strong",{className:"text-slate-400",children:"Capital Friends - Your Name"})," and lives in your Google Drive. The web app is just a beautiful dashboard to view and manage it."]})]}),s.jsxs("section",{id:"features",className:"bg-[#0b1022] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",onMouseEnter:()=>f(!0),onMouseLeave:()=>{f(!1),h()},children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Features That Set Us Apart"}),s.jsx("p",{className:"text-base text-slate-500",children:"Things you won't find on other portfolio trackers"})]}),s.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 mb-10 flex-wrap",children:x.map((S,w)=>{const y=w===l,C={emerald:"border-emerald-500",violet:"border-violet-500",cyan:"border-cyan-500",amber:"border-amber-500"},M={emerald:"text-emerald-400",violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400"};return s.jsxs("button",{onClick:()=>v(w),className:`relative flex items-center gap-2 px-5 py-2.5 rounded-full border text-sm font-semibold transition-all cursor-pointer ${y?`${C[S.color]} bg-white/[0.05] ${M[S.color]}`:"border-white/[0.08] text-slate-500 hover:border-white/[0.15] hover:text-slate-300"}`,children:[s.jsx("span",{className:"shrink-0",children:S.icon}),S.label,y&&s.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-0.5 bg-white/[0.06] rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full bg-current",style:{animation:"featureProgress 5s linear",animationPlayState:u?"paused":"running"}})})]},S.id)})}),s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-8 lg:gap-12",children:[s.jsxs("div",{className:"lg:flex-1 min-h-[280px]",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:b.tagline}),s.jsx("p",{className:"mt-3 text-base text-slate-400 leading-relaxed",children:b.desc}),b.id==="ath"&&s.jsxs("div",{className:"mt-6 space-y-5",children:[s.jsx(Wr,{c:"emerald",t:"ATH tracking only for funds in your portfolios"}),s.jsx(Wr,{c:"emerald",t:"Color-coded signals: watch, consider, buy, strong buy"}),s.jsx(Wr,{c:"emerald",t:"Increase SIP or invest lumpsum when funds dip"}),s.jsx(Wr,{c:"emerald",t:"Daily NAV updates from AMFI data"})]}),b.id==="rebalance"&&s.jsxs("div",{className:"mt-6 space-y-5",children:[s.jsx(Wr,{c:"violet",t:"Adjust monthly SIP to rebalance gradually"}),s.jsx(Wr,{c:"violet",t:"Lumpsum top-up for quick rebalance"}),s.jsx(Wr,{c:"violet",t:"Buy/Sell amounts to match target"}),s.jsx(Wr,{c:"violet",t:"Configurable threshold per portfolio"})]}),b.id==="goals"&&s.jsxs("div",{className:"mt-6 space-y-5",children:[s.jsx(Wr,{c:"cyan",t:"Link multiple MF portfolios to each goal"}),s.jsx(Wr,{c:"cyan",t:"Built-in SIP + lumpsum calculator with inflation"}),s.jsx(Wr,{c:"cyan",t:"Auto-status: On Track, Needs Attention, Achieved"}),s.jsx(Wr,{c:"cyan",t:"Withdrawal planning for retirement goals"})]}),b.id==="dashboard"&&s.jsxs("div",{className:"mt-6 space-y-5",children:[s.jsx(Wr,{c:"amber",t:"One-click switch between family members"}),s.jsx(Wr,{c:"amber",t:"Combined net worth across everyone"}),s.jsx(Wr,{c:"amber",t:"MF, stocks, FD, gold, PPF, NPS, insurance"}),s.jsx(Wr,{c:"amber",t:"Email reports sent to family automatically"})]})]}),s.jsx("div",{className:"lg:flex-1 min-w-0 min-h-[380px] flex flex-col justify-center",children:b.mock})]}),s.jsx("style",{children:`
          @keyframes featureProgress {
            from { width: 0% }
            to { width: 100% }
          }
        `})]}),s.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Everything You Need"}),s.jsx("p",{className:"text-base text-slate-500",children:"One dashboard for your entire financial life"})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[s.jsx(Ps,{icon:s.jsx(Ju,{size:20}),c:"rose",t:"Stock Portfolios",d:"Buy/sell tracking, average cost, P&L with live NSE prices"}),s.jsx(Ps,{icon:s.jsx(O8,{size:20}),c:"orange",t:"FD, Gold, PPF, NPS",d:"Track any investment type  all counted in net worth"}),s.jsx(Ps,{icon:s.jsx(td,{size:20}),c:"teal",t:"Insurance Tracker",d:"Life, health, term policies with premiums & renewal dates"}),s.jsx(Ps,{icon:s.jsx(Dh,{size:20}),c:"red",t:"Liabilities",d:"Loans & EMIs. Net worth = total assets minus debts"}),s.jsx(Ps,{icon:s.jsx(kh,{size:20}),c:"yellow",t:"Smart Reminders",d:"SIP dates, renewals, EMI payments, maturity alerts"}),s.jsx(Ps,{icon:s.jsx(sc,{size:20}),c:"pink",t:"Family Sharing",d:"Invite family with Google accounts  shared dashboard"}),s.jsx(Ps,{icon:s.jsx(ec,{size:20}),c:"blue",t:"Daily Auto-Refresh",d:"NAVs and stock prices update automatically every day"}),s.jsx(Ps,{icon:s.jsx(V0,{size:20}),c:"emerald",t:"Complete Privacy",d:"No servers, no database, no tracking  your Sheet only"})]})]}),s.jsxs("section",{className:"border-y border-white/[0.06]",children:[s.jsxs("div",{className:"bg-[#0b1022] px-5 sm:px-8 lg:px-16 py-10 sm:py-14 text-center",children:[s.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3",children:[s.jsx(V0,{size:28,className:"text-emerald-400 shrink-0"}),"Your Data Never Leaves Google"]}),s.jsxs("p",{className:"mt-3 text-base sm:text-lg text-slate-400 leading-relaxed",children:["No backend server. No database. No tracking. The web app is a static site. Your spreadsheet lives in ",s.jsx("strong",{className:"text-white",children:"your Google Drive"}),". We literally cannot access your financial data."]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row",children:[s.jsx(zb,{icon:s.jsx(td,{size:20}),t:"Manual Entry Only",d:"No bank linking, no credentials shared. You type your data  no one else has access.",bg:"bg-[#0d1326]",c:"emerald"}),s.jsx(zb,{icon:s.jsx(V0,{size:20}),t:"Your Google Sheet",d:"A private spreadsheet in your Drive. Share only with family you choose.",bg:"bg-[#0f1530]",c:"violet"}),s.jsx(zb,{icon:s.jsx(xp,{size:20}),t:"Always Free",d:"No premium tier, no hidden fees, no ads. Free today, free forever.",bg:"bg-[#111838]",c:"amber"})]})]}),s.jsxs("section",{className:"bg-gradient-to-t from-[#080d1a] to-[#0d1128] border-t border-white/[0.06] px-5 sm:px-8 lg:px-16 py-16 text-center",children:[s.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white",children:"Start managing your family's wealth today"}),s.jsx("p",{className:"mt-3 text-base text-slate-500",children:"Always free. No credit card. No bank linking. Just your Google account."}),s.jsxs("button",{onClick:n,className:"mt-8 inline-flex items-center gap-2.5 px-8 py-3.5 bg-gradient-to-r from-violet-600 to-cyan-600 text-white font-bold text-base rounded-xl hover:from-violet-500 hover:to-cyan-500 shadow-lg shadow-violet-900/30 transition-all hover:scale-[1.02] cursor-pointer",children:[s.jsx(l_,{s:20})," Sign in with Google  It's Free"]}),r&&s.jsx("p",{className:"mt-3 text-sm text-rose-400",children:r})]}),s.jsxs("footer",{className:"border-t border-white/[0.04] px-5 sm:px-8 lg:px-16 py-5 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1.5 opacity-30",children:[s.jsx("img",{src:Ib,alt:"",className:"h-5 w-auto"}),s.jsxs("span",{className:"text-xs font-bold text-white",style:{fontFamily:"'Poppins', sans-serif"},children:["Capital",s.jsx("span",{class:"text-emerald-400",children:"Friends"})]})]}),s.jsx("p",{className:"text-xs text-slate-600",children:"Your data. Your Google Drive. Your control."})]})]})}function s_({icon:e,title:t,items:r,bad:n}){const a=n?"border-rose-500/15":"border-emerald-500/15",l=n?"bg-rose-500/[0.04]":"bg-emerald-500/[0.04]",c=n?"bg-rose-500/10 text-rose-400":"bg-emerald-500/10 text-emerald-400",u=n?"text-rose-400":"text-emerald-400";return s.jsxs("div",{className:`rounded-2xl border ${a} ${l} p-6`,children:[s.jsxs("h3",{className:`text-lg font-bold ${u} mb-4 flex items-center gap-2.5`,children:[s.jsx("span",{className:`flex items-center justify-center w-8 h-8 rounded-lg ${c} shrink-0`,children:e}),t]}),s.jsx("ul",{className:"space-y-3",children:r.map((f,m)=>s.jsxs("li",{className:"flex items-start gap-2.5",children:[n?s.jsx("span",{className:"text-rose-500/60 mt-0.5 shrink-0",children:""}):s.jsx(Ac,{size:16,className:"text-emerald-500 mt-0.5 shrink-0"}),s.jsx("span",{className:"text-sm text-slate-300 leading-relaxed",children:f})]},m))})]})}function bie(){return s.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f]",children:[s.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Dashboard"}),s.jsx("div",{className:"flex gap-1.5",children:["Everyone","Jagadeesh","Priya","Arjun"].map((e,t)=>s.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ${t===0?"bg-violet-500/20 text-violet-300":"text-slate-600"}`,children:e},e))})]}),s.jsxs("div",{className:"grid grid-cols-3 divide-x divide-white/[0.04]",children:[s.jsx(Rb,{l:"Net Worth",v:"45.2L",lc:"text-violet-400",vc:"text-white"}),s.jsx(Rb,{l:"Invested",v:"38.7L",lc:"text-slate-500",vc:"text-slate-300"}),s.jsx(Rb,{l:"P&L",v:"+6.5L",lc:"text-slate-500",vc:"text-emerald-400",extra:"+16.8%"})]}),s.jsxs("div",{className:"border-t border-white/[0.04]",children:[s.jsx(Lb,{n:"Axis Bluechip Fund",alloc:"30% / 25%",cur:"6.2L",pl:"+24.0%",ath:"5.2%",athC:"text-[#e67e00]",up:!0}),s.jsx(Lb,{n:"Parag Parikh Flexi Cap",alloc:"35% / 40%",cur:"4.8L",pl:"+37.1%",ath:"At ATH",athC:"text-emerald-500",up:!0}),s.jsx(Lb,{n:"SBI Small Cap Fund",alloc:"20% / 15%",cur:"1.8L",pl:"-10.0%",ath:"18.3%",athC:"text-[#d84315]",last:!0})]})]})}function yie(){const e=[{n:"HDFC Mid-Cap Opportunities",nav:"142.35",ath:"168.50",pct:"15.5%",color:"text-[#d84315]",signal:"Good Buy Signal",sigC:"text-[#d84315] bg-[#d84315]/15"},{n:"Axis Small Cap Fund",nav:"38.22",ath:"52.10",pct:"26.6%",color:"text-[#c62828]",signal:"Strong Buy",sigC:"text-[#c62828] bg-[#c62828]/15 font-bold"},{n:"Kotak Emerging Equity",nav:"89.10",ath:"92.40",pct:"3.6%",color:"text-[#b8860b]",signal:"Watch",sigC:"text-[#b8860b] bg-[#b8860b]/15"},{n:"Mirae Asset Large Cap",nav:"105.80",ath:"106.20",pct:"0.4%",color:"text-slate-500",signal:"Near ATH",sigC:"text-slate-500 bg-white/[0.04]"}];return s.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-semibold text-white",children:"Buy Opportunities"}),s.jsx("span",{className:"text-xs text-emerald-400 font-semibold bg-emerald-500/10 px-2.5 py-1 rounded-full",children:"2 signals"})]}),e.map((t,r)=>s.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${r<e.length-1?"border-b border-white/[0.03]":""}`,children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:t.n}),s.jsxs("p",{className:"text-xs text-slate-600 mt-0.5",children:["NAV ","",t.nav,"  ATH ","",t.ath]})]}),s.jsxs("div",{className:"text-right shrink-0 ml-3",children:[s.jsxs("p",{className:`text-base font-bold tabular-nums ${t.color}`,children:[s.jsx(xF,{size:13,className:"inline -mt-0.5"})," ",t.pct]}),s.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded ${t.sigC}`,children:t.signal})]})]},r))]})}function wie(){const[e,t]=j.useState(0),r=["SIP Adjust","Lumpsum","Buy / Sell"],n=["New SIP","Lumpsum Top-up","Action"],l=[[{n:"Axis Bluechip",val:"SIP 6,000",cur:"30%",tgt:"25%",action:"Stop SIP",actionC:"text-amber-400"},{n:"Parag Parikh Flexi",val:"SIP 7,000",cur:"35%",tgt:"40%",action:"12,000/mo",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"SIP 4,000",cur:"20%",tgt:"15%",action:"Stop SIP",actionC:"text-amber-400"},{n:"HDFC Large Cap",val:"SIP 3,000",cur:"15%",tgt:"20%",action:"8,000/mo",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"No action",actionC:"text-slate-600"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Invest 55,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"No action",actionC:"text-slate-600"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Invest 45,000",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Buy 50,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Buy 50,000",actionC:"text-emerald-400"}]][e];return s.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-semibold text-white",children:"Rebalance Portfolio"}),s.jsx("span",{className:"text-xs text-violet-400 font-semibold bg-violet-500/10 px-2.5 py-1 rounded-full",children:"4 off-target"})]}),s.jsx("div",{className:"flex border-b border-white/[0.04]",children:r.map((c,u)=>s.jsx("button",{onClick:()=>t(u),className:`flex-1 text-xs font-semibold py-2.5 text-center cursor-pointer transition-colors ${u===e?"text-violet-400 border-b-2 border-violet-400":"text-slate-600 hover:text-slate-400"}`,children:c},c))}),s.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 border-b border-white/[0.04] bg-[#0a0f1f]/50 flex-wrap",children:[s.jsx("span",{className:"text-xs text-slate-500",children:"Portfolio Value"}),s.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","10,00,000"]}),e===0&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-xs text-slate-600",children:"|"}),s.jsx("span",{className:"text-xs text-slate-500",children:"Total SIP"}),s.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","20,000"]})]}),e===1&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-xs text-slate-600",children:"|"}),s.jsx("span",{className:"text-xs text-slate-500",children:"Lumpsum"}),s.jsx("input",{type:"text",readOnly:!0,value:"1,00,000",className:"bg-white/[0.04] border border-white/[0.08] rounded-md px-2 py-1 text-sm text-white font-semibold tabular-nums w-24 text-right cursor-default outline-none"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 text-xs text-slate-600 font-semibold border-b border-white/[0.03]",children:[s.jsx("span",{children:"Fund / Value"}),s.jsx("span",{className:"text-center",children:"Current"}),s.jsx("span",{className:"text-center",children:"Target"}),s.jsx("span",{className:"text-right",children:n[e]})]}),l.map((c,u)=>s.jsxs("div",{className:`grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 items-center ${u<l.length-1?"border-b border-white/[0.03]":""}`,children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("span",{className:"text-sm text-slate-300 truncate block",children:c.n}),s.jsxs("span",{className:"text-[10px] text-slate-600",children:["",c.val]})]}),s.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:c.cur}),s.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:c.tgt}),s.jsx("span",{className:`text-sm text-right font-semibold ${c.actionC}`,children:c.action})]},`${e}-${u}`))]})]})}function jie(){const e=[{n:"Retirement",tgt:"2Cr",cur:"28.5L",pct:14,sip:"45,000",yrs:"18 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"Child Education",tgt:"50L",cur:"12.2L",pct:24,sip:"15,000",yrs:"12 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"New Car",tgt:"15L",cur:"4.1L",pct:27,sip:"12,000",yrs:"3 yrs",status:"Needs Attention",sc:"text-amber-400 bg-amber-500/15",bc:"bg-amber-500"}];return s.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-semibold text-white",children:"Goals"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-slate-500",children:"2 On Track"}),s.jsx("span",{className:"text-xs text-amber-400",children:"1 Needs Attention"})]})]}),e.map((t,r)=>s.jsxs("div",{className:`px-4 py-3.5 ${r<e.length-1?"border-b border-white/[0.03]":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-semibold text-white",children:t.n}),s.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${t.sc}`,children:t.status})]}),s.jsxs("span",{className:"text-xs text-slate-500",children:["",t.sip,"/mo  ",t.yrs]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex-1 h-2.5 rounded-full bg-white/[0.06] overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full ${t.bc}`,style:{width:`${t.pct}%`}})}),s.jsxs("span",{className:"text-sm font-semibold text-slate-300 tabular-nums w-10 text-right",children:[t.pct,"%"]})]}),s.jsxs("div",{className:"flex justify-between mt-1.5 text-xs text-slate-600",children:[s.jsxs("span",{children:["",t.cur," of ","",t.tgt]}),s.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[s.jsx(VO,{size:10})," 2 portfolios linked"]})]})]},r))]})}function l_({s:e=16}){return s.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,className:"shrink-0",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function Rb({l:e,v:t,lc:r,vc:n,extra:a}){return s.jsxs("div",{className:"py-3.5 text-center",children:[s.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${r}`,children:e}),s.jsxs("p",{className:`text-lg font-bold tabular-nums mt-0.5 ${n}`,children:[t,a&&s.jsx("span",{className:"text-sm ml-1 text-emerald-400",children:a})]})]})}function Lb({n:e,alloc:t,cur:r,pl:n,ath:a,athC:l,up:c,last:u}){return s.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${u?"":"border-b border-white/[0.03]"}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-300",children:e}),s.jsxs("p",{className:"text-xs text-slate-600",children:["Alloc ",t,"  ",s.jsx("span",{className:l,children:a!=="At ATH"?`${a} below ATH`:a})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-200 tabular-nums",children:r}),s.jsx("p",{className:`text-sm font-semibold tabular-nums ${c?"text-emerald-400":"text-rose-400"}`,children:n})]})]})}function Wr({c:e,t}){const r={violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400",emerald:"text-emerald-400"};return s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx(Ac,{size:16,className:`${r[e]} shrink-0`}),s.jsx("span",{className:"text-sm text-slate-300",children:t})]})}function Lm({num:e,icon:t,color:r,title:n,desc:a}){const l={violet:["text-violet-400","bg-violet-500/10","border-violet-500/20","from-violet-500/20 to-violet-500/5"],emerald:["text-emerald-400","bg-emerald-500/10","border-emerald-500/20","from-emerald-500/20 to-emerald-500/5"],cyan:["text-cyan-400","bg-cyan-500/10","border-cyan-500/20","from-cyan-500/20 to-cyan-500/5"],amber:["text-amber-400","bg-amber-500/10","border-amber-500/20","from-amber-500/20 to-amber-500/5"]},[c,u,f,m]=l[r]||l.violet;return s.jsxs("div",{className:`relative rounded-2xl border ${f} bg-gradient-to-b ${m} p-6 text-center`,children:[s.jsx("span",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl ${u} ${c} mb-4`,children:t}),s.jsxs("span",{className:`absolute top-4 right-4 text-xs font-bold ${c} opacity-40`,children:["0",e]}),s.jsx("h3",{className:"text-base font-bold text-white mb-2",children:n}),s.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:a})]})}function zb({icon:e,t,d:r,bg:n,c:a}){const l={emerald:"text-emerald-400",violet:"text-violet-400",amber:"text-amber-400"};return s.jsxs("div",{className:`flex-1 ${n} px-5 sm:px-8 lg:px-10 py-6 sm:py-8 border-b sm:border-b-0 sm:border-r border-white/[0.04] last:border-0`,children:[s.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[s.jsx("span",{className:`${l[a]} shrink-0`,children:e}),t]}),s.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:r})]})}const o_={violet:["text-violet-400","bg-violet-500/8","border-violet-500/10"],blue:["text-blue-400","bg-blue-500/8","border-blue-500/10"],emerald:["text-emerald-400","bg-emerald-500/8","border-emerald-500/10"],cyan:["text-cyan-400","bg-cyan-500/8","border-cyan-500/10"],rose:["text-rose-400","bg-rose-500/8","border-rose-500/10"],orange:["text-orange-400","bg-orange-500/8","border-orange-500/10"],teal:["text-teal-400","bg-teal-500/8","border-teal-500/10"],red:["text-red-400","bg-red-500/8","border-red-500/10"],yellow:["text-yellow-400","bg-yellow-500/8","border-yellow-500/10"],pink:["text-pink-400","bg-pink-500/8","border-pink-500/10"]};function Ps({icon:e,c:t,t:r,d:n}){const[a,l,c]=o_[t]||o_.violet;return s.jsxs("div",{className:`rounded-xl border ${c} ${l} p-5`,children:[s.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[s.jsx("span",{className:`${a} shrink-0`,children:e}),r]}),s.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:n})]})}function Nie(){const{isAuthenticated:e,loading:t}=to();return t?s.jsx(Nh,{}):e?s.jsx(mp,{to:"/investments/mutual-funds",replace:!0}):s.jsx(cI,{})}function Sie(){const e=Ca();return s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-violet-500/15 rounded-2xl flex items-center justify-center mb-4",children:s.jsx(VF,{size:32,className:"text-violet-400"})}),s.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)] mb-2",children:"Coming Soon"}),s.jsx("p",{className:"text-[var(--text-muted)] text-sm max-w-sm",children:"This page is under construction. Navigate using the sidebar to explore available sections."}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-3 font-mono",children:e.pathname})]})}const Cie=["Savings Account","Current Account","Fixed Deposit (FD)","Recurring Deposit (RD)","NRE Account","NRO Account","Minor Account"].map(e=>({value:e,label:e}));function Aie({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:a}=ht(),l=!!e,[c,u]=j.useState({accountName:e?.accountName||"",memberId:e?.memberId||"",bankName:e?.bankName||"",accountNumber:e?.accountNumber||"",ifscCode:e?.ifscCode||"",branchName:e?.branchName||"",accountType:e?.accountType||"",status:e?.status||"Active"}),[f,m]=j.useState({}),[h,v]=j.useState(!1);function x(y,C){u(M=>({...M,[y]:C})),m(M=>({...M,[y]:void 0}))}function b(){const y={};return c.accountName.trim()||(y.accountName="Required"),c.memberId||(y.memberId="Required"),c.bankName.trim()||(y.bankName="Required"),String(c.accountNumber||"").trim()||(y.accountNumber="Required"),c.ifscCode.trim()||(y.ifscCode="Required"),c.branchName.trim()||(y.branchName="Required"),c.accountType||(y.accountType="Required"),m(y),Object.keys(y).length===0}async function S(){if(b()){v(!0);try{await t({...c,ifscCode:c.ifscCode.toUpperCase()})}finally{v(!1)}}}const w=a.map(y=>({value:y.memberId,label:`${y.memberName} (${y.relationship})`}));return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Account Name",required:!0,error:f.accountName,children:s.jsx(Me,{value:c.accountName,onChange:y=>x("accountName",y),placeholder:"e.g., HDFC Savings"})}),s.jsx(le,{label:"Family Member",required:!0,error:f.memberId,children:s.jsx(Qe,{value:c.memberId,onChange:y=>x("memberId",y),options:w,placeholder:"Select member..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Bank Name",required:!0,error:f.bankName,children:s.jsx(Me,{value:c.bankName,onChange:y=>x("bankName",y),placeholder:"e.g., HDFC Bank"})}),s.jsx(le,{label:"Account Type",required:!0,error:f.accountType,children:s.jsx(Qe,{value:c.accountType,onChange:y=>x("accountType",y),options:Cie,placeholder:"Select type..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Account Number",required:!0,error:f.accountNumber,children:s.jsx(Me,{sensitive:!0,value:c.accountNumber,onChange:y=>x("accountNumber",y),placeholder:"e.g., 1234567890"})}),s.jsx(le,{label:"IFSC Code",required:!0,error:f.ifscCode,children:s.jsx(Me,{value:c.ifscCode,onChange:y=>x("ifscCode",y.toUpperCase()),placeholder:"e.g., HDFC0001234",maxLength:11})})]}),s.jsx(le,{label:"Branch Name",required:!0,error:f.branchName,children:s.jsx(Me,{value:c.branchName,onChange:y=>x("branchName",y),placeholder:"e.g., Hyderabad - Kondapur"})}),l&&s.jsx(le,{label:"Status",children:s.jsx(Qe,{value:c.status,onChange:y=>x("status",y),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[l&&r?s.jsx(rs,{onClick:r}):s.jsx("div",{}),s.jsx(nn,{onCancel:n,onSubmit:S,submitLabel:l?"Update":"Add Account",loading:h})]})]})}function ns({title:e="Loading"}){return s.jsxs("div",{className:"flex flex-col items-center justify-center py-32 gap-3",children:[s.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),s.jsxs("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:[e,"..."]})]})}const c_={"Savings Account":"bg-blue-500/15 text-[var(--accent-blue)]",Savings:"bg-blue-500/15 text-[var(--accent-blue)]",Salary:"bg-emerald-500/15 text-emerald-400","Current Account":"bg-violet-500/15 text-[var(--accent-violet)]","Fixed Deposit":"bg-amber-500/15 text-[var(--accent-amber)]","Fixed Deposit (FD)":"bg-amber-500/15 text-[var(--accent-amber)]"};function u_(){const{selectedMember:e,member:t}=Hr(),{banks:r,addBankAccount:n,updateBankAccount:a,deleteBankAccount:l}=ht(),{showToast:c,showBlockUI:u,hideBlockUI:f}=ai(),m=ii(),{mv:h}=si(),[v,x]=j.useState(null);if(r===null)return s.jsx(ns,{title:"Loading bank accounts",cards:3});const b=j.useMemo(()=>{const M=r.filter(A=>A.status!=="Inactive");return e==="all"?M:M.filter(A=>A.memberId===e)},[r,e]),S=j.useMemo(()=>new Set(b.map(M=>M.bankName)).size,[b]),w=j.useMemo(()=>b.filter(M=>M.accountType==="Savings"||M.accountType==="Savings Account"||M.accountType==="Salary").length,[b]);async function y(M){u("Saving...");try{v?.edit?await a(v.edit.accountId,M):await n(M),c(v?.edit?"Bank account updated":"Bank account added"),x(null)}catch(A){c(A.message||"Failed to save bank account","error")}finally{f()}}async function C(){if(v?.edit&&await m("Deactivate this bank account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){u("Deactivating...");try{await l(v.edit.accountId),c("Bank account deactivated"),x(null)}catch(M){c(M.message||"Failed to deactivate bank account","error")}finally{f()}}}return s.jsxs("div",{className:"space-y-4",children:[b.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(v8,{size:32,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No bank accounts",t?` for ${t.memberName}`:""]}),s.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first bank account"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[s.jsx(Fb,{label:"Total Accounts",value:b.length}),s.jsx(Fb,{label:"Banks",value:S}),s.jsx(Fb,{label:"Savings / Salary",value:w})]}),s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Or,{size:14})," Add Account"]})}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[580px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Bank"}),!t&&s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account No."}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Branch"}),s.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),s.jsx("tbody",{children:b.map(M=>s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsx("td",{className:"py-2.5 px-4",children:s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.accountName})}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.bankName}),!t&&s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:h(M.memberName,"name")}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${c_[M.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.accountType})}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:h(M.accountNumber,"account")}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:M.branchName}),s.jsx("td",{className:"py-2.5 px-2",children:s.jsx("button",{onClick:()=>x({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:s.jsx(Aa,{size:12})})})]},M.accountId))})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(M=>s.jsxs("div",{onClick:()=>x({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.accountName}),s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${c_[M.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.accountType})]}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.bankName,t?"":`  ${h(M.memberName,"name")}`]}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:h(M.accountNumber,"account")}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:M.branchName})]})]},M.accountId))})]})]}),s.jsx(pr,{open:!!v,onClose:()=>x(null),title:v?.edit?"Edit Bank Account":"Add Bank Account",children:s.jsx(Aie,{initial:v?.edit||void 0,onSave:y,onDelete:v?.edit?C:void 0,onCancel:()=>x(null)})})]})}function Fb({label:e,value:t}){return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:t})]})}const Mie=["Demat + Trading","Mutual Fund","Trading","Direct AMC","Broker"].map(e=>({value:e,label:e}));function kie({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:a,activeBanks:l}=ht(),c=!!e,[u,f]=j.useState({accountName:e?.accountName||"",memberId:e?.memberId||"",bankAccountId:e?.bankAccountId||"",accountType:e?.accountType||"",platformBroker:e?.platformBroker||"",accountClientId:e?.accountClientId||"",dematDpId:e?.dematDpId||"",registeredEmail:e?.registeredEmail||"",registeredPhone:e?.registeredPhone||"",status:e?.status||"Active"}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(A,_){f(E=>({...E,[A]:_})),h(E=>({...E,[A]:void 0}))}function S(A){f(_=>({..._,memberId:A,bankAccountId:""})),h(_=>({..._,memberId:void 0}))}function w(){const A={};return u.accountName.trim()||(A.accountName="Required"),u.memberId||(A.memberId="Required"),u.bankAccountId||(A.bankAccountId="Required"),u.accountType||(A.accountType="Required"),u.platformBroker.trim()||(A.platformBroker="Required"),u.registeredEmail.trim()||(A.registeredEmail="Required"),u.registeredPhone.trim()||(A.registeredPhone="Required"),h(A),Object.keys(A).length===0}async function y(){if(w()){x(!0);try{await t(u)}finally{x(!1)}}}const C=a.map(A=>({value:A.memberId,label:`${A.memberName} (${A.relationship})`})),M=j.useMemo(()=>u.memberId?l.filter(A=>A.memberId===u.memberId).map(A=>({value:A.accountId,label:`${A.accountName} - ${A.bankName}`})):[],[l,u.memberId]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Account Name",required:!0,error:m.accountName,children:s.jsx(Me,{value:u.accountName,onChange:A=>b("accountName",A),placeholder:"e.g., Zerodha Demat"})}),s.jsx(le,{label:"Family Member",required:!0,error:m.memberId,children:s.jsx(Qe,{value:u.memberId,onChange:S,options:C,placeholder:"Select member..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Linked Bank Account",required:!0,error:m.bankAccountId,children:s.jsx(Qe,{value:u.bankAccountId,onChange:A=>b("bankAccountId",A),options:M,placeholder:u.memberId?M.length?"Select bank account...":"No bank accounts for this member":"Select member first..."})}),s.jsx(le,{label:"Account Type",required:!0,error:m.accountType,children:s.jsx(Qe,{value:u.accountType,onChange:A=>b("accountType",A),options:Mie,placeholder:"Select type..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Platform / Broker",required:!0,error:m.platformBroker,children:s.jsx(Me,{value:u.platformBroker,onChange:A=>b("platformBroker",A),placeholder:"e.g., Zerodha, Groww"})}),s.jsx(le,{label:"Account / Client ID",error:m.accountClientId,children:s.jsx(Me,{sensitive:!0,value:u.accountClientId,onChange:A=>b("accountClientId",A),placeholder:"e.g., ZR1234 (optional)"})})]}),s.jsx(le,{label:"Demat DP ID",error:m.dematDpId,children:s.jsx(Me,{sensitive:!0,value:u.dematDpId,onChange:A=>b("dematDpId",A),placeholder:"16-digit DP ID (optional)",maxLength:16})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Registered Email",required:!0,error:m.registeredEmail,children:s.jsx(Me,{sensitive:!0,type:"email",value:u.registeredEmail,onChange:A=>b("registeredEmail",A),placeholder:"email@example.com"})}),s.jsx(le,{label:"Registered Phone",required:!0,error:m.registeredPhone,children:s.jsx(Me,{sensitive:!0,value:u.registeredPhone,onChange:A=>b("registeredPhone",A),placeholder:"9876543210"})})]}),c&&s.jsx(le,{label:"Status",children:s.jsx(Qe,{value:u.status,onChange:A=>b("status",A),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[c&&r?s.jsx(rs,{onClick:r}):s.jsx("div",{}),s.jsx(nn,{onCancel:n,onSubmit:y,submitLabel:c?"Update":"Add Account",loading:v})]})]})}const d_={"Demat + Trading":"bg-violet-500/15 text-[var(--accent-violet)]","Mutual Fund":"bg-blue-500/15 text-[var(--accent-blue)]",Trading:"bg-orange-500/15 text-[var(--accent-orange)]",Demat:"bg-amber-500/15 text-[var(--accent-amber)]","Direct AMC":"bg-emerald-500/15 text-emerald-400",Broker:"bg-rose-500/15 text-[var(--accent-rose)]"};function Die(){const{selectedMember:e,member:t}=Hr(),{investmentAccounts:r,addInvestmentAccount:n,updateInvestmentAccount:a,deleteInvestmentAccount:l}=ht(),{showToast:c,showBlockUI:u,hideBlockUI:f}=ai(),m=ii(),{mv:h}=si(),[v,x]=j.useState(null);if(r===null)return s.jsx(ns,{title:"Loading investment accounts",cards:4});const b=j.useMemo(()=>{const A=r.filter(_=>_.status!=="Inactive");return e==="all"?A:A.filter(_=>_.memberId===e)},[r,e]),S=j.useMemo(()=>new Set(b.map(A=>A.platformBroker)).size,[b]),w=b.filter(A=>A.accountType==="Demat + Trading"||A.accountType==="Demat"||A.accountType==="Trading").length,y=b.filter(A=>A.accountType==="Mutual Fund"||A.accountType==="Direct AMC").length;async function C(A){u("Saving...");try{v?.edit?await a(v.edit.accountId,A):await n(A),c(v?.edit?"Investment account updated":"Investment account added"),x(null)}catch(_){c(_.message||"Failed to save investment account","error")}finally{f()}}async function M(){if(v?.edit&&await m("Deactivate this investment account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){u("Deactivating...");try{await l(v.edit.accountId),c("Investment account deactivated"),x(null)}catch(A){c(A.message||"Failed to deactivate investment account","error")}finally{f()}}}return s.jsxs("div",{className:"space-y-4",children:[b.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(FO,{size:32,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No investment accounts",t?` for ${t.memberName}`:""]}),s.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first investment account"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[s.jsx(zm,{label:"Total Accounts",value:b.length}),s.jsx(zm,{label:"Platforms",value:S}),s.jsx(zm,{label:"Demat / Trading",value:w}),s.jsx(zm,{label:"Mutual Fund",value:y})]}),s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Or,{size:14})," Add Account"]})}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[620px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Platform"}),!t&&s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Client ID"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Bank"}),s.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),s.jsx("tbody",{children:b.map(A=>s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsx("td",{className:"py-2.5 px-4",children:s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:A.accountName})}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:A.platformBroker}),!t&&s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:h(A.memberName,"name")}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${d_[A.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:A.accountType})}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:h(A.accountClientId,"clientId")}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:A.bankAccountName}),s.jsx("td",{className:"py-2.5 px-2",children:s.jsx("button",{onClick:()=>x({edit:A}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:s.jsx(Aa,{size:12})})})]},A.accountId))})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(A=>s.jsxs("div",{onClick:()=>x({edit:A}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:A.accountName}),s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${d_[A.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:A.accountType})]}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[A.platformBroker,t?"":`  ${h(A.memberName,"name")}`]}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Client: ",h(A.accountClientId,"clientId")]}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:A.bankAccountName})]})]},A.accountId))})]})]}),s.jsx(pr,{open:!!v,onClose:()=>x(null),title:v?.edit?"Edit Investment Account":"Add Investment Account",wide:!0,children:s.jsx(kie,{initial:v?.edit||void 0,onSave:C,onDelete:v?.edit?M:void 0,onCancel:()=>x(null)})})]})}function zm({label:e,value:t}){return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:t})]})}const Eie=["Term Life","Health","Motor","Home Insurance","Travel","Personal Accident","Life Insurance","Others"].map(e=>({value:e,label:e})),_ie=[{value:"Active",label:"Active"},{value:"Expired",label:"Expired"},{value:"Surrendered",label:"Surrendered"},{value:"Lapsed",label:"Lapsed"},{value:"Inactive",label:"Inactive"}];function Oie({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:a}=ht(),l=!!e,[c,u]=j.useState({policyType:e?.policyType||"",company:e?.company||"",policyNumber:e?.policyNumber||"",policyName:e?.policyName||"",insuredMember:e?.insuredMember||"",memberId:e?.memberId||"",sumAssured:e?.sumAssured||"",nominee:e?.nominee||"",premium:e?.premium||"",premiumFrequency:e?.premiumFrequency||"Annual",status:e?.status||"Active",notes:e?.notes||""}),[f,m]=j.useState({}),[h,v]=j.useState(!1);function x(C,M){u(A=>({...A,[C]:M})),m(A=>({...A,[C]:void 0}))}function b(C){const M=a.find(A=>A.memberId===C);u(A=>({...A,memberId:C,insuredMember:M?.memberName||""})),m(A=>({...A,memberId:void 0}))}function S(){const C={};return c.policyType||(C.policyType="Required"),c.company.trim()||(C.company="Required"),c.policyNumber.trim()||(C.policyNumber="Required"),c.policyName.trim()||(C.policyName="Required"),c.memberId||(C.memberId="Required"),(!c.sumAssured||Number(c.sumAssured)<=0)&&(C.sumAssured="Must be > 0"),m(C),Object.keys(C).length===0}async function w(){if(S()){v(!0);try{await t({...c,sumAssured:Number(c.sumAssured),premium:Number(c.premium)||0})}finally{v(!1)}}}const y=a.map(C=>({value:C.memberId,label:`${C.memberName} (${C.relationship})`}));return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Policy Type",required:!0,error:f.policyType,children:s.jsx(Qe,{value:c.policyType,onChange:C=>x("policyType",C),options:Eie,placeholder:"Select type..."})}),s.jsx(le,{label:"Insurance Company",required:!0,error:f.company,children:s.jsx(Me,{value:c.company,onChange:C=>x("company",C),placeholder:"e.g., HDFC Life"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Policy Number",required:!0,error:f.policyNumber,children:s.jsx(Me,{sensitive:!0,value:c.policyNumber,onChange:C=>x("policyNumber",C),placeholder:"e.g., HL-2024-78901"})}),s.jsx(le,{label:"Policy Name",required:!0,error:f.policyName,children:s.jsx(Me,{value:c.policyName,onChange:C=>x("policyName",C),placeholder:"e.g., Click 2 Protect Life"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Insured Member",required:!0,error:f.memberId,children:s.jsx(Qe,{value:c.memberId,onChange:b,options:y,placeholder:"Select member..."})}),s.jsx(le,{label:"Nominee",children:s.jsx(Qe,{value:c.nominee,onChange:C=>x("nominee",C),options:y.map(C=>({...C,label:C.label.split(" (")[0]})),placeholder:"Select nominee (optional)..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(le,{label:"Sum Assured ()",required:!0,error:f.sumAssured,children:s.jsx(Me,{type:"number",value:c.sumAssured,onChange:C=>x("sumAssured",C),placeholder:"e.g., 10000000"})}),s.jsx(le,{label:"Premium ()",children:s.jsx(Me,{type:"number",value:c.premium,onChange:C=>x("premium",C),placeholder:"e.g., 12500"})}),s.jsx(le,{label:"Premium Frequency",children:s.jsx(Qe,{value:c.premiumFrequency,onChange:C=>x("premiumFrequency",C),options:[{value:"Annual",label:"Annual"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"}]})})]}),l&&s.jsx(le,{label:"Status",children:s.jsx(Qe,{value:c.status,onChange:C=>x("status",C),options:_ie})}),s.jsx(le,{label:"Notes",children:s.jsx(yc,{value:c.notes,onChange:C=>x("notes",C),placeholder:"Additional information..."})}),s.jsxs("div",{className:"flex items-center justify-between",children:[l&&r?s.jsx(rs,{onClick:r}):s.jsx("div",{}),s.jsx(nn,{onCancel:n,onSubmit:w,submitLabel:l?"Update":"Add Policy",loading:h})]})]})}const f_={"Term Life":"bg-rose-500/15 text-[var(--accent-rose)]",Health:"bg-emerald-500/15 text-emerald-400",Motor:"bg-blue-500/15 text-[var(--accent-blue)]","Home Insurance":"bg-amber-500/15 text-[var(--accent-amber)]",Travel:"bg-violet-500/15 text-[var(--accent-violet)]","Life Insurance":"bg-rose-500/15 text-[var(--accent-rose)]","Personal Accident":"bg-orange-500/15 text-[var(--accent-orange)]"};function Tie(){const{selectedMember:e,member:t}=Hr(),{insurancePolicies:r,addInsurance:n,updateInsurance:a,deleteInsurance:l}=ht(),{showToast:c,showBlockUI:u,hideBlockUI:f}=ai(),m=ii(),{mv:h}=si(),[v,x]=j.useState(null);if(r===null)return s.jsx(ns,{title:"Loading insurance",cards:5});const b=j.useMemo(()=>{const _=r.filter(E=>E.status!=="Inactive");return e==="all"?_:_.filter(E=>E.memberId===e)},[r,e]),S=b.reduce((_,E)=>_+(E.sumAssured||0),0),w=b.reduce((_,E)=>_+(E.premium||0),0),y=b.filter(_=>_.policyType==="Term Life"||_.policyType==="Life Insurance").reduce((_,E)=>_+(E.sumAssured||0),0),C=b.filter(_=>_.policyType==="Health").reduce((_,E)=>_+(E.sumAssured||0),0);async function M(_){u("Saving...");try{v?.edit?await a(v.edit.policyId,_):await n(_),c(v?.edit?"Insurance policy updated":"Insurance policy added"),x(null)}catch(E){c(E.message||"Failed to save insurance policy","error")}finally{f()}}async function A(){if(v?.edit&&await m("Deactivate this insurance policy?",{title:"Deactivate Policy",confirmLabel:"Deactivate"})){u("Deactivating...");try{await l(v.edit.policyId),c("Insurance policy deactivated"),x(null)}catch(_){c(_.message||"Failed to deactivate insurance policy","error")}finally{f()}}}return s.jsxs("div",{className:"space-y-4",children:[b.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(td,{size:32,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No insurance policies",t?` for ${t.memberName}`:""]}),s.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first policy"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[s.jsx(Yu,{label:"Policies",value:b.length}),s.jsx(Yu,{label:"Total Cover",value:Q(S),bold:!0}),s.jsx(Yu,{label:"Life Cover",value:Q(y)}),s.jsx(Yu,{label:"Health Cover",value:Q(C)}),s.jsx(Yu,{label:"Annual Premium",value:Q(w)})]}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[s.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-3",children:"Coverage Adequacy"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsx(m_,{label:"Life Insurance",current:y,recommended:"10-15x annual income",tip:"Term life cover should be 10-15x your annual income to protect dependents",icon:"heart"}),s.jsx(m_,{label:"Health Insurance",current:C,recommended:"50L - 1Cr family floater",tip:"Considering medical inflation, a 50L-1Cr family floater is recommended",icon:"shield"})]})]}),s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Or,{size:14})," Add Policy"]})}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Policy"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Company"}),!t&&s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Insured"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Sum Assured"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Premium"}),s.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),s.jsx("tbody",{children:b.map(_=>s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsxs("td",{className:"py-2.5 px-4",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:_.policyName}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:h(_.policyNumber,"policy")})]}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${f_[_.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:_.policyType})}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:_.company}),!t&&s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:_.insuredMember}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(_.sumAssured)}),s.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:[Q(_.premium),"/",_.premiumFrequency==="Annual"?"yr":"mo"]}),s.jsx("td",{className:"py-2.5 px-2",children:s.jsx("button",{onClick:()=>x({edit:_}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:s.jsx(Aa,{size:12})})})]},_.policyId))})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(_=>s.jsxs("div",{onClick:()=>x({edit:_}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:_.policyName}),s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${f_[_.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:_.policyType})]}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[_.company,t?"":`  ${_.insuredMember}`]}),s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Cover"}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(_.sumAssured)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Premium"}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[Q(_.premium),"/",_.premiumFrequency==="Annual"?"yr":"mo"]})]})]})]},_.policyId))})]})]}),s.jsx(pr,{open:!!v,onClose:()=>x(null),title:v?.edit?"Edit Insurance Policy":"Add Insurance Policy",wide:!0,children:s.jsx(Oie,{initial:v?.edit||void 0,onSave:M,onDelete:v?.edit?A:void 0,onCancel:()=>x(null)})})]})}function m_({label:e,current:t,recommended:r,tip:n}){const a=t===0;return s.jsxs("div",{className:`rounded-lg border px-3 py-2.5 ${a?"border-rose-500/30 bg-rose-500/5":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:e}),a?s.jsx("span",{className:"text-xs font-bold text-[var(--accent-rose)]",children:"Not covered"}):s.jsx("span",{className:"text-xs font-semibold text-emerald-400",children:Q(t)})]}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Recommended: ",r]}),s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5 italic",children:n})]})}function Yu({label:e,value:t,bold:r}){return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm tabular-nums ${r?"font-bold":"font-semibold"} text-[var(--text-primary)]`,children:t})]})}const Pie=["Home Loan","Car Loan","Personal Loan","Education Loan","Gold Loan","Credit Card","Business Loan","Loan Against Property","Other"].map(e=>({value:e,label:e})),Iie=[{value:"Active",label:"Active"},{value:"Closed",label:"Closed"},{value:"Inactive",label:"Inactive"}];function Rie({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:a}=ht(),l=!!e,[c,u]=j.useState({liabilityType:e?.liabilityType||"",lenderName:e?.lenderName||"",familyMemberId:e?.familyMemberId||"",outstandingBalance:e?.outstandingBalance||"",emiAmount:e?.emiAmount||"",interestRate:e?.interestRate||"",status:e?.status||"Active",notes:e?.notes||""}),[f,m]=j.useState({}),[h,v]=j.useState(!1);function x(y,C){u(M=>({...M,[y]:C})),m(M=>({...M,[y]:void 0}))}function b(){const y={};return c.liabilityType||(y.liabilityType="Required"),c.lenderName.trim()||(y.lenderName="Required"),(!c.outstandingBalance||Number(c.outstandingBalance)<=0)&&(y.outstandingBalance="Must be > 0"),m(y),Object.keys(y).length===0}async function S(){if(b()){v(!0);try{await t({...c,outstandingBalance:Number(c.outstandingBalance),emiAmount:Number(c.emiAmount)||0,interestRate:Number(c.interestRate)||0})}finally{v(!1)}}}const w=a.map(y=>({value:y.memberId,label:`${y.memberName} (${y.relationship})`}));return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Liability Type",required:!0,error:f.liabilityType,children:s.jsx(Qe,{value:c.liabilityType,onChange:y=>x("liabilityType",y),options:Pie,placeholder:"Select type..."})}),s.jsx(le,{label:"Lender / Bank",required:!0,error:f.lenderName,children:s.jsx(Me,{value:c.lenderName,onChange:y=>x("lenderName",y),placeholder:"e.g., HDFC Bank"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Family Member",children:s.jsx(Qe,{value:c.familyMemberId,onChange:y=>x("familyMemberId",y),options:w,placeholder:"Select member (optional)..."})}),s.jsx(le,{label:"Outstanding Balance ()",required:!0,error:f.outstandingBalance,children:s.jsx(Me,{type:"number",value:c.outstandingBalance,onChange:y=>x("outstandingBalance",y),placeholder:"e.g., 3500000"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"EMI Amount ()",children:s.jsx(Me,{type:"number",value:c.emiAmount,onChange:y=>x("emiAmount",y),placeholder:"e.g., 32000"})}),s.jsx(le,{label:"Interest Rate (%)",children:s.jsx(Me,{type:"number",value:c.interestRate,onChange:y=>x("interestRate",y),placeholder:"e.g., 8.5",step:"0.01"})})]}),l&&s.jsx(le,{label:"Status",children:s.jsx(Qe,{value:c.status,onChange:y=>x("status",y),options:Iie})}),s.jsx(le,{label:"Notes",children:s.jsx(yc,{value:c.notes,onChange:y=>x("notes",y),placeholder:"e.g., Flat in Kondapur"})}),s.jsxs("div",{className:"flex items-center justify-between",children:[l&&r?s.jsx(rs,{onClick:r}):s.jsx("div",{}),s.jsx(nn,{onCancel:n,onSubmit:S,submitLabel:l?"Update":"Add Liability",loading:h})]})]})}const p_={"Home Loan":"bg-blue-500/15 text-[var(--accent-blue)]","Car Loan":"bg-amber-500/15 text-[var(--accent-amber)]","Gold Loan":"bg-orange-500/15 text-[var(--accent-orange)]","Personal Loan":"bg-violet-500/15 text-[var(--accent-violet)]","Education Loan":"bg-emerald-500/15 text-emerald-400","Credit Card":"bg-rose-500/15 text-[var(--accent-rose)]"};function Lie(){const{selectedMember:e,member:t}=Hr(),{liabilityList:r,addLiability:n,updateLiability:a,deleteLiability:l}=ht(),{showToast:c,showBlockUI:u,hideBlockUI:f}=ai(),m=ii(),[h,v]=j.useState(null);if(r===null)return s.jsx(ns,{title:"Loading liabilities",cards:4});const x=j.useMemo(()=>{const M=r.filter(A=>A.status!=="Inactive");return e==="all"?M:M.filter(A=>A.familyMemberId===e)},[r,e]),b=x.reduce((M,A)=>M+(A.outstandingBalance||0),0),S=x.reduce((M,A)=>M+(A.emiAmount||0),0),w=x.filter(M=>M.status==="Active").length;async function y(M){u("Saving...");try{h?.edit?await a(h.edit.liabilityId,M):await n(M),c(h?.edit?"Liability updated":"Liability added"),v(null)}catch(A){c(A.message||"Failed to save liability","error")}finally{f()}}async function C(){if(h?.edit&&await m("Deactivate this liability?",{title:"Deactivate Liability",confirmLabel:"Deactivate"})){u("Deactivating...");try{await l(h.edit.liabilityId),c("Liability deactivated"),v(null)}catch(M){c(M.message||"Failed to deactivate liability","error")}finally{f()}}}return s.jsxs("div",{className:"space-y-4",children:[x.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(Dh,{size:32,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No liabilities",t?` for ${t.memberName}`:""]}),s.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a liability"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[s.jsx(Fm,{label:"Liabilities",value:`${w} active`}),s.jsx(Fm,{label:"Outstanding",value:Q(b),color:"rose",bold:!0}),s.jsx(Fm,{label:"Monthly EMI",value:Q(S),color:"rose"}),s.jsx(Fm,{label:"Avg. Interest",value:x.length>0?`${(x.reduce((M,A)=>M+(A.interestRate||0),0)/x.length).toFixed(1)}%`:""})]}),s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Or,{size:14})," Add Liability"]})}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Lender"}),!t&&s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Outstanding"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"EMI"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Interest"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Remaining"}),s.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),s.jsx("tbody",{children:x.map(M=>s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsxs("td",{className:"py-2.5 px-4",children:[s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${p_[M.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.liabilityType}),M.notes&&s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:M.notes})]}),s.jsx("td",{className:"py-2.5 px-3 text-sm font-medium text-[var(--text-primary)]",children:M.lenderName}),!t&&s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.familyMemberName}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(M.outstandingBalance)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:M.emiAmount?`${Q(M.emiAmount)}/mo`:""}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:M.interestRate?`${M.interestRate}%`:""}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:M.emiAmount>0&&M.outstandingBalance>0?`${Math.ceil(M.outstandingBalance/M.emiAmount)} mo`:""}),s.jsx("td",{className:"py-2.5 px-2",children:s.jsx("button",{onClick:()=>v({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:s.jsx(Aa,{size:12})})})]},M.liabilityId))})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:x.map(M=>s.jsxs("div",{onClick:()=>v({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${p_[M.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.liabilityType}),s.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(M.outstandingBalance)})]}),s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.lenderName}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.familyMemberName,M.notes?`  ${M.notes}`:""]}),s.jsxs("div",{className:"text-right",children:[M.emiAmount>0&&s.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["EMI: ",Q(M.emiAmount),"/mo"]}),M.emiAmount>0&&M.outstandingBalance>0&&s.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[Math.ceil(M.outstandingBalance/M.emiAmount)," months left"]})]})]})]},M.liabilityId))})]})]}),s.jsx(pr,{open:!!h,onClose:()=>v(null),title:h?.edit?"Edit Liability":"Add Liability",children:s.jsx(Rie,{initial:h?.edit||void 0,onSave:y,onDelete:h?.edit?C:void 0,onCancel:()=>v(null)})})]})}function Fm({label:e,value:t,color:r,bold:n}){const a=r==="rose"?"text-[var(--accent-rose)]":"text-[var(--text-primary)]";return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm tabular-nums ${n?"font-bold":"font-semibold"} ${a}`,children:t})]})}const zie="cf_market_data",uI=[{value:"Fixed Deposit",category:"Debt"},{value:"PPF",category:"Debt"},{value:"EPF",category:"Debt"},{value:"NPS",category:"Debt"},{value:"Sovereign Gold Bond",category:"Gold"},{value:"Physical Gold",category:"Gold"},{value:"Digital Gold",category:"Gold"},{value:"Real Estate",category:"Property"},{value:"Bonds",category:"Debt"},{value:"Physical Silver",category:"Silver"},{value:"Digital Silver",category:"Silver"},{value:"Crypto",category:"Alternative"},{value:"Other",category:"Other"}],h_={"Real Estate":"Home Loan","Physical Gold":"Gold Loan","Sovereign Gold Bond":"Gold Loan","Fixed Deposit":"Loan Against FD"},Fie=uI.map(e=>({value:e.value,label:e.value})),Bie=["Equity","Debt","Gold","Silver","Property","Alternative","Other"].map(e=>({value:e,label:e})),$ie=[{value:"Active",label:"Active"},{value:"Sold",label:"Sold"},{value:"Matured",label:"Matured"},{value:"Inactive",label:"Inactive"}],v_=[{value:"24K",label:"24K (99.9%)",factor:.999},{value:"22K",label:"22K (91.6%)",factor:.916},{value:"18K",label:"18K (75.0%)",factor:.75}],x_=[{value:"999",label:"999 Fine (99.9%)",factor:.999},{value:"925",label:"925 Sterling (92.5%)",factor:.925}];function dp(e){return["Physical Gold","Digital Gold","Sovereign Gold Bond"].includes(e)}function qie(e){return["Physical Silver","Digital Silver"].includes(e)||e&&e.toLowerCase().includes("silver")}function Bb(e){return dp(e)||qie(e)}function Hie(e){try{const t=sessionStorage.getItem(zie);if(!t)return null;const r=JSON.parse(t);if(!r.metals)return null;const n=e==="gold"?"Gold":"Silver",a=r.metals.find(l=>l.name.toLowerCase().includes(n.toLowerCase()));return a?a.price:null}catch{return null}}function Uie({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:a,liabilityList:l}=ht(),c=!!e;function u(L){return uI.find(te=>te.value===L)?.category||"Other"}const f=e?.dynamicFields?typeof e.dynamicFields=="string"?JSON.parse(e.dynamicFields):e.dynamicFields:{},[m,h]=j.useState({investmentType:e?.investmentType||"",investmentCategory:e?.investmentCategory||"",investmentName:e?.investmentName||"",familyMemberId:e?.familyMemberId||"",investedAmount:e?.investedAmount||"",currentValue:e?.currentValue||"",linkedLiabilityId:e?.linkedLiabilityId||"",status:e?.status||"Active",notes:e?.notes||""}),[v,x]=j.useState(f.weightGrams||""),[b,S]=j.useState(f.purity||""),[w,y]=j.useState(null),[C,M]=j.useState(!1),[A,_]=j.useState({lenderName:"",outstandingBalance:"",emiAmount:"",interestRate:""});j.useEffect(()=>{if(!Bb(m.investmentType)||!v||Number(v)<=0){y(null);return}const L=dp(m.investmentType)?"gold":"silver",te=Hie(L);if(!te){y(null);return}const B=(L==="gold"?v_:x_).find(ge=>ge.value===b),ae=B?B.factor:1;y(Math.round(Number(v)*te*ae))},[m.investmentType,v,b]);const[E,T]=j.useState({}),[P,O]=j.useState(!1);function z(L,te){h(xe=>({...xe,[L]:te})),T(xe=>({...xe,[L]:void 0}))}function R(L){h(te=>({...te,investmentType:L,investmentCategory:u(L)})),T(te=>({...te,investmentType:void 0}))}function F(L,te){_(xe=>({...xe,[L]:te}))}function D(){const L={};return m.investmentType||(L.investmentType="Required"),m.investmentName.trim()||(L.investmentName="Required"),(!m.currentValue||Number(m.currentValue)<0)&&(L.currentValue="Required"),C&&(A.lenderName.trim()||(L.qlLender="Required"),(!A.outstandingBalance||Number(A.outstandingBalance)<=0)&&(L.qlOutstanding="Must be > 0")),T(L),Object.keys(L).length===0}async function X(){if(!D())return;const L={...m,familyMember:m.familyMemberId,investedAmount:Number(m.investedAmount)||0,currentValue:Number(m.currentValue)||0};Bb(m.investmentType)&&(L.dynamicFields=JSON.stringify({weightGrams:Number(v)||0,purity:b||""})),C&&A.lenderName&&(L.quickLoan={liabilityType:h_[m.investmentType]||"Personal Loan",lender:A.lenderName,outstanding:Number(A.outstandingBalance)||0,emiAmount:Number(A.emiAmount)||0,interestRate:Number(A.interestRate)||0}),O(!0);try{await t(L)}finally{O(!1)}}const W=(l||[]).filter(L=>L.status!=="Inactive"),Z=[{value:"",label:"None"},...W.map(L=>({value:L.liabilityId,label:`${L.liabilityType}  ${L.lenderName} (${Q(L.outstandingBalance)})`}))],$=(a||[]).map(L=>({value:L.memberId,label:`${L.memberName} (${L.relationship})`})),G=h_[m.investmentType];return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Investment Type",required:!0,error:E.investmentType,children:s.jsx(Qe,{value:m.investmentType,onChange:R,options:Fie,placeholder:"Select type..."})}),s.jsx(le,{label:"Category",children:s.jsx(Qe,{value:m.investmentCategory,onChange:L=>z("investmentCategory",L),options:Bie,placeholder:"Auto-selected..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Investment Name",required:!0,error:E.investmentName,children:s.jsx(Me,{value:m.investmentName,onChange:L=>z("investmentName",L),placeholder:"e.g., HDFC FD - 7.5%"})}),s.jsx(le,{label:"Family Member",children:s.jsx(Qe,{value:m.familyMemberId,onChange:L=>z("familyMemberId",L),options:$,placeholder:"Select member (optional)..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Invested Amount",children:s.jsx(Me,{type:"number",value:m.investedAmount,onChange:L=>z("investedAmount",L),placeholder:"e.g., 500000"})}),s.jsx(le,{label:"Current Value",required:!0,error:E.currentValue,children:s.jsx(Me,{type:"number",value:m.currentValue,onChange:L=>z("currentValue",L),placeholder:"e.g., 537500"})})]}),Bb(m.investmentType)&&s.jsxs("div",{className:"p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[s.jsxs("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:[dp(m.investmentType)?"Gold":"Silver"," Details"]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsx(le,{label:"Weight (grams)",children:s.jsx(Me,{type:"number",value:v,onChange:x,placeholder:"e.g., 50"})}),s.jsx(le,{label:"Purity",children:s.jsx(Qe,{value:b,onChange:S,options:(dp(m.investmentType)?v_:x_).map(L=>({value:L.value,label:L.label})),placeholder:"Select purity..."})})]}),w!==null&&s.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-card)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Estimated market value"}),s.jsx("p",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:Q(w)})]}),s.jsx("button",{type:"button",onClick:()=>z("currentValue",String(w)),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 px-3 py-1.5 rounded-lg bg-violet-500/10 border border-violet-500/20 transition-colors",children:"Use this value"})]})]}),s.jsxs("div",{className:"border-t border-[var(--border-light)] pt-4",children:[s.jsx(le,{label:"Linked Loan / Liability",children:s.jsx(Qe,{value:m.linkedLiabilityId,onChange:L=>{z("linkedLiabilityId",L),L&&M(!1)},options:Z})}),!m.linkedLiabilityId&&!c&&s.jsx("div",{className:"mt-2",children:s.jsx("button",{type:"button",onClick:()=>M(!C),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:C?" Cancel quick loan":`+ Create new loan${G?` (${G})`:""}`})}),C&&s.jsxs("div",{className:"mt-3 p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:"Quick Loan"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsx(le,{label:"Lender",required:!0,error:E.qlLender,children:s.jsx(Me,{value:A.lenderName,onChange:L=>F("lenderName",L),placeholder:"e.g., HDFC Bank"})}),s.jsx(le,{label:"Outstanding Balance",required:!0,error:E.qlOutstanding,children:s.jsx(Me,{type:"number",value:A.outstandingBalance,onChange:L=>F("outstandingBalance",L),placeholder:"e.g., 3500000"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsx(le,{label:"EMI (monthly)",children:s.jsx(Me,{type:"number",value:A.emiAmount,onChange:L=>F("emiAmount",L),placeholder:"e.g., 32000"})}),s.jsx(le,{label:"Interest Rate %",children:s.jsx(Me,{type:"number",value:A.interestRate,onChange:L=>F("interestRate",L),placeholder:"e.g., 8.5"})})]})]})]}),c&&s.jsx(le,{label:"Status",children:s.jsx(Qe,{value:m.status,onChange:L=>z("status",L),options:$ie})}),s.jsx(le,{label:"Notes",children:s.jsx(yc,{value:m.notes,onChange:L=>z("notes",L),placeholder:"Additional information..."})}),s.jsxs("div",{className:"flex items-center justify-between",children:[c&&r?s.jsx(rs,{onClick:r}):s.jsx("div",{}),s.jsx(nn,{onCancel:n,onSubmit:X,submitLabel:c?"Update":"Add Investment",loading:P})]})]})}const g_={Debt:"bg-blue-500/15 text-[var(--accent-blue)]",Gold:"bg-amber-500/15 text-[var(--accent-amber)]",Property:"bg-orange-500/15 text-[var(--accent-orange)]",Equity:"bg-emerald-500/15 text-emerald-400",Alternative:"bg-violet-500/15 text-[var(--accent-violet)]"};function Yie(){const{selectedMember:e,member:t}=Hr(),{otherInvList:r,liabilityList:n,addOtherInvestment:a,updateOtherInvestment:l,deleteOtherInvestment:c}=ht(),{showToast:u,showBlockUI:f,hideBlockUI:m}=ai(),h=ii(),[v,x]=j.useState(null);if(r===null)return s.jsx(ns,{title:"Loading investments",cards:5});const b=j.useMemo(()=>{const P=r.filter(O=>O.status!=="Inactive");return e==="all"?P:P.filter(O=>O.familyMemberId===e)},[r,e]),S=b.reduce((P,O)=>P+(O.investedAmount||0),0),w=b.reduce((P,O)=>P+(O.currentValue||0),0),y=w-S,C=y>=0,M=S>0?y/S*100:0,A=j.useMemo(()=>{const P={};return n.forEach(O=>{P[O.liabilityId]=O}),P},[n]),_=b.reduce((P,O)=>{const z=O.linkedLiabilityId?A[O.linkedLiabilityId]:null;return P+(z?.outstandingBalance||0)},0);async function E(P){f("Saving...");try{v?.edit?await l(v.edit.investmentId,P):await a(P),u(v?.edit?"Investment updated":"Investment added"),x(null)}catch(O){u(O.message||"Failed to save investment","error")}finally{m()}}async function T(){if(v?.edit&&await h("Deactivate this investment?",{title:"Deactivate Investment",confirmLabel:"Deactivate"})){f("Deactivating...");try{await c(v.edit.investmentId),u("Investment deactivated"),x(null)}catch(P){u(P.message||"Failed to deactivate investment","error")}finally{m()}}}return s.jsxs("div",{className:"space-y-4",children:[b.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(KO,{size:32,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No other investments",t?` for ${t.memberName}`:""]}),s.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add an investment"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[s.jsx(Vu,{label:"Invested",value:Q(S)}),s.jsx(Vu,{label:"Current Value",value:Q(w),bold:!0}),s.jsx(Vu,{label:"P&L",value:`${C?"+":""}${Q(Math.abs(y))}`,sub:`${C?"+":""}${M.toFixed(1)}%`,positive:C,bold:!0}),_>0&&s.jsx(Vu,{label:"Linked Loans",value:Q(_),color:"rose"}),s.jsx(Vu,{label:"Holdings",value:b.length})]}),s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Or,{size:14})," Add Investment"]})}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[720px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Investment"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Category"}),!t&&s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Loan"}),s.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),s.jsx("tbody",{children:b.map(P=>{const O=(P.currentValue||0)-(P.investedAmount||0),z=O>=0,R=P.linkedLiabilityId?A[P.linkedLiabilityId]:null;return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsxs("td",{className:"py-2.5 px-4",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:P.investmentName}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:P.investmentType})]}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${g_[P.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:P.investmentCategory})}),!t&&s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:P.familyMemberName}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(P.investedAmount)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(P.currentValue)}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:s.jsxs("span",{className:`text-xs font-semibold tabular-nums ${z?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[z?"+":"",Q(O)]})}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:R?s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(R.outstandingBalance)}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:R.liabilityType})]}):s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),s.jsx("td",{className:"py-2.5 px-2",children:s.jsx("button",{onClick:()=>x({edit:P}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:s.jsx(Aa,{size:12})})})]},P.investmentId)})})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(P=>{const O=(P.currentValue||0)-(P.investedAmount||0),z=O>=0,R=P.linkedLiabilityId?A[P.linkedLiabilityId]:null;return s.jsxs("div",{onClick:()=>x({edit:P}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:P.investmentName}),s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${g_[P.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:P.investmentCategory})]}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[P.familyMemberName,"  ",P.investmentType]}),s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Invested"}),s.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:Q(P.investedAmount)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Current"}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(P.currentValue)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"P&L"}),s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${z?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[z?"+":"",Q(O)]})]})]}),R&&s.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-rose-500/5 rounded px-2 py-1",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:R.liabilityType}),s.jsx("span",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(R.outstandingBalance)})]})]},P.investmentId)})})]})]}),s.jsx(pr,{open:!!v,onClose:()=>x(null),title:v?.edit?"Edit Investment":"Add Investment",wide:!0,children:s.jsx(Uie,{initial:v?.edit||void 0,onSave:E,onDelete:v?.edit?T:void 0,onCancel:()=>x(null)})})]})}function Vu({label:e,value:t,sub:r,positive:n,bold:a,color:l}){const c=l==="rose"?"text-[var(--accent-rose)]":n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]";return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${c}`,children:t}),r&&s.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function Vie({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:a,activeInvestmentAccounts:l}=ht(),c=!!e,[u,f]=j.useState({portfolioName:(e?.portfolioName||"").replace(/^PFL-/,""),investmentAccountId:e?.investmentAccountId||"",ownerId:e?.ownerId||"",initialInvestment:e?.initialInvestment||0,sipTarget:e?.sipTarget||"",lumpsumTarget:e?.lumpsumTarget||"",rebalanceThreshold:e?e.rebalanceThreshold*100:5}),[m,h]=j.useState({}),[v,x]=j.useState(!1),[b,S]=j.useState(!1);function w(E,T){f(P=>({...P,[E]:T})),h(P=>({...P,[E]:void 0}))}function y(E){f(T=>({...T,ownerId:E,investmentAccountId:""})),h(T=>({...T,ownerId:void 0}))}const C=l.filter(E=>u.ownerId?E.memberId===u.ownerId:!0).map(E=>({value:E.accountId,label:`${E.accountName} - ${E.platformBroker}`})),M=a.map(E=>({value:E.memberId,label:`${E.memberName} (${E.relationship})`}));function A(){const E={};return u.portfolioName.trim()||(E.portfolioName="Required"),u.ownerId||(E.ownerId="Required"),u.investmentAccountId||(E.investmentAccountId="Required"),h(E),Object.keys(E).length===0}async function _(){if(A()){x(!0);try{const E=l.find(P=>P.accountId===u.investmentAccountId),T=E?`${E.accountName} - ${E.platformBroker}`:u.investmentAccountId;await t({...u,investmentAccount:T,initialInvestment:Number(u.initialInvestment)||0,sipTarget:Number(u.sipTarget)||0,lumpsumTarget:Number(u.lumpsumTarget)||0,rebalanceThreshold:Number(u.rebalanceThreshold)})}finally{x(!1)}}}return s.jsxs("div",{className:"space-y-5",children:[s.jsx(le,{label:"Portfolio Name",required:!0,error:m.portfolioName,children:s.jsx(Me,{value:u.portfolioName,onChange:E=>w("portfolioName",E),placeholder:"e.g., Long Term Wealth"})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Owner",required:!0,error:m.ownerId,children:s.jsx(Qe,{value:u.ownerId,onChange:y,options:M,placeholder:"Select member..."})}),s.jsx(le,{label:"Investment Account",required:!0,error:m.investmentAccountId,children:s.jsx(Qe,{value:u.investmentAccountId,onChange:E=>w("investmentAccountId",E),options:C,placeholder:u.ownerId?C.length?"Select account...":"No MF accounts":"Select owner first..."})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(le,{label:"SIP Target (/month)",children:s.jsx(Me,{type:"number",value:u.sipTarget,onChange:E=>w("sipTarget",E),placeholder:"e.g., 50000"})}),s.jsx(le,{label:"Lumpsum Target ()",children:s.jsx(Me,{type:"number",value:u.lumpsumTarget,onChange:E=>w("lumpsumTarget",E),placeholder:"e.g., 200000"})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-xs font-semibold text-[var(--text-muted)] whitespace-nowrap",children:"Rebalance Threshold"}),s.jsx("div",{className:"w-20 shrink-0",children:s.jsx("input",{type:"number",value:u.rebalanceThreshold,onChange:E=>w("rebalanceThreshold",E.target.value),placeholder:"5",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"})]}),!c&&s.jsx(le,{label:"Initial Investment ()",children:s.jsx(Me,{type:"number",value:u.initialInvestment,onChange:E=>w("initialInvestment",E),placeholder:"0 if unknown"})}),c&&r&&b&&s.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 bg-rose-500/10 border border-rose-500/20 rounded-lg",children:[s.jsx(Hs,{size:15,className:"text-rose-400 shrink-0"}),s.jsx("p",{className:"text-xs text-rose-300/90 flex-1",children:"This will deactivate the portfolio and hide it from views. Are you sure?"}),s.jsxs("div",{className:"flex gap-2 shrink-0",children:[s.jsx("button",{onClick:()=>S(!1),className:"px-2.5 py-1 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded transition-colors",children:"No"}),s.jsx("button",{onClick:r,className:"px-2.5 py-1 text-xs font-semibold text-white bg-rose-600 hover:bg-rose-500 rounded transition-colors",children:"Yes, Deactivate"})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 mt-4 border-t border-[var(--border-light)]",children:[c&&r?s.jsxs("button",{onClick:()=>S(!0),disabled:v,className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-amber-400 border border-amber-500/30 hover:bg-amber-500/15 hover:border-amber-500/50 rounded-lg transition-colors disabled:opacity-40",children:[s.jsx(Hs,{size:13}),"Deactivate"]}):s.jsx("div",{}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:n,disabled:v,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),s.jsxs("button",{onClick:_,disabled:v,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[v&&s.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),v?"Saving...":c?"Update":"Create Portfolio"]})]})]})]})}function Qi(e){return Array.isArray?Array.isArray(e):mI(e)==="[object Array]"}function Gie(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Wie(e){return e==null?"":Gie(e)}function Qa(e){return typeof e=="string"}function dI(e){return typeof e=="number"}function Kie(e){return e===!0||e===!1||Qie(e)&&mI(e)=="[object Boolean]"}function fI(e){return typeof e=="object"}function Qie(e){return fI(e)&&e!==null}function On(e){return e!=null}function $b(e){return!e.trim().length}function mI(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Xie="Incorrect 'index' type",Zie=e=>`Invalid value for key ${e}`,Jie=e=>`Pattern length exceeds max of ${e}.`,ese=e=>`Missing ${e} property in key`,tse=e=>`Property 'weight' in key '${e}' must be a positive integer`,b_=Object.prototype.hasOwnProperty;class rse{constructor(t){this._keys=[],this._keyMap={};let r=0;t.forEach(n=>{let a=pI(n);this._keys.push(a),this._keyMap[a.id]=a,r+=a.weight}),this._keys.forEach(n=>{n.weight/=r})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function pI(e){let t=null,r=null,n=null,a=1,l=null;if(Qa(e)||Qi(e))n=e,t=y_(e),r=Xy(e);else{if(!b_.call(e,"name"))throw new Error(ese("name"));const c=e.name;if(n=c,b_.call(e,"weight")&&(a=e.weight,a<=0))throw new Error(tse(c));t=y_(c),r=Xy(c),l=e.getFn}return{path:t,id:r,weight:a,src:n,getFn:l}}function y_(e){return Qi(e)?e:e.split(".")}function Xy(e){return Qi(e)?e.join("."):e}function nse(e,t){let r=[],n=!1;const a=(l,c,u)=>{if(On(l))if(!c[u])r.push(l);else{let f=c[u];const m=l[f];if(!On(m))return;if(u===c.length-1&&(Qa(m)||dI(m)||Kie(m)))r.push(Wie(m));else if(Qi(m)){n=!0;for(let h=0,v=m.length;h<v;h+=1)a(m[h],c,u+1)}else c.length&&a(m,c,u+1)}};return a(e,Qa(t)?t.split("."):t,0),n?r:r[0]}const ase={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},ise={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},sse={location:0,threshold:.6,distance:100},lse={useExtendedSearch:!1,getFn:nse,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Ke={...ise,...ase,...sse,...lse};const ose=/[^ ]+/g;function cse(e=1,t=3){const r=new Map,n=Math.pow(10,t);return{get(a){const l=a.match(ose).length;if(r.has(l))return r.get(l);const c=1/Math.pow(l,.5*e),u=parseFloat(Math.round(c*n)/n);return r.set(l,u),u},clear(){r.clear()}}}class hj{constructor({getFn:t=Ke.getFn,fieldNormWeight:r=Ke.fieldNormWeight}={}){this.norm=cse(r,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Qa(this.docs[0])?this.docs.forEach((t,r)=>{this._addString(t,r)}):this.docs.forEach((t,r)=>{this._addObject(t,r)}),this.norm.clear())}add(t){const r=this.size();Qa(t)?this._addString(t,r):this._addObject(t,r)}removeAt(t){this.records.splice(t,1);for(let r=t,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(t,r){return t[this._keysMap[r]]}size(){return this.records.length}_addString(t,r){if(!On(t)||$b(t))return;let n={v:t,i:r,n:this.norm.get(t)};this.records.push(n)}_addObject(t,r){let n={i:r,$:{}};this.keys.forEach((a,l)=>{let c=a.getFn?a.getFn(t):this.getFn(t,a.path);if(On(c)){if(Qi(c)){let u=[];const f=[{nestedArrIndex:-1,value:c}];for(;f.length;){const{nestedArrIndex:m,value:h}=f.pop();if(On(h))if(Qa(h)&&!$b(h)){let v={v:h,i:m,n:this.norm.get(h)};u.push(v)}else Qi(h)&&h.forEach((v,x)=>{f.push({nestedArrIndex:x,value:v})})}n.$[l]=u}else if(Qa(c)&&!$b(c)){let u={v:c,n:this.norm.get(c)};n.$[l]=u}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function hI(e,t,{getFn:r=Ke.getFn,fieldNormWeight:n=Ke.fieldNormWeight}={}){const a=new hj({getFn:r,fieldNormWeight:n});return a.setKeys(e.map(pI)),a.setSources(t),a.create(),a}function use(e,{getFn:t=Ke.getFn,fieldNormWeight:r=Ke.fieldNormWeight}={}){const{keys:n,records:a}=e,l=new hj({getFn:t,fieldNormWeight:r});return l.setKeys(n),l.setIndexRecords(a),l}function Bm(e,{errors:t=0,currentLocation:r=0,expectedLocation:n=0,distance:a=Ke.distance,ignoreLocation:l=Ke.ignoreLocation}={}){const c=t/e.length;if(l)return c;const u=Math.abs(n-r);return a?c+u/a:u?1:c}function dse(e=[],t=Ke.minMatchCharLength){let r=[],n=-1,a=-1,l=0;for(let c=e.length;l<c;l+=1){let u=e[l];u&&n===-1?n=l:!u&&n!==-1&&(a=l-1,a-n+1>=t&&r.push([n,a]),n=-1)}return e[l-1]&&l-n>=t&&r.push([n,l-1]),r}const Tl=32;function fse(e,t,r,{location:n=Ke.location,distance:a=Ke.distance,threshold:l=Ke.threshold,findAllMatches:c=Ke.findAllMatches,minMatchCharLength:u=Ke.minMatchCharLength,includeMatches:f=Ke.includeMatches,ignoreLocation:m=Ke.ignoreLocation}={}){if(t.length>Tl)throw new Error(Jie(Tl));const h=t.length,v=e.length,x=Math.max(0,Math.min(n,v));let b=l,S=x;const w=u>1||f,y=w?Array(v):[];let C;for(;(C=e.indexOf(t,S))>-1;){let P=Bm(t,{currentLocation:C,expectedLocation:x,distance:a,ignoreLocation:m});if(b=Math.min(P,b),S=C+h,w){let O=0;for(;O<h;)y[C+O]=1,O+=1}}S=-1;let M=[],A=1,_=h+v;const E=1<<h-1;for(let P=0;P<h;P+=1){let O=0,z=_;for(;O<z;)Bm(t,{errors:P,currentLocation:x+z,expectedLocation:x,distance:a,ignoreLocation:m})<=b?O=z:_=z,z=Math.floor((_-O)/2+O);_=z;let R=Math.max(1,x-z+1),F=c?v:Math.min(x+z,v)+h,D=Array(F+2);D[F+1]=(1<<P)-1;for(let W=F;W>=R;W-=1){let Z=W-1,$=r[e.charAt(Z)];if(w&&(y[Z]=+!!$),D[W]=(D[W+1]<<1|1)&$,P&&(D[W]|=(M[W+1]|M[W])<<1|1|M[W+1]),D[W]&E&&(A=Bm(t,{errors:P,currentLocation:Z,expectedLocation:x,distance:a,ignoreLocation:m}),A<=b)){if(b=A,S=Z,S<=x)break;R=Math.max(1,2*x-S)}}if(Bm(t,{errors:P+1,currentLocation:x,expectedLocation:x,distance:a,ignoreLocation:m})>b)break;M=D}const T={isMatch:S>=0,score:Math.max(.001,A)};if(w){const P=dse(y,u);P.length?f&&(T.indices=P):T.isMatch=!1}return T}function mse(e){let t={};for(let r=0,n=e.length;r<n;r+=1){const a=e.charAt(r);t[a]=(t[a]||0)|1<<n-r-1}return t}const Sh=String.prototype.normalize?(e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(e=>e);class vI{constructor(t,{location:r=Ke.location,threshold:n=Ke.threshold,distance:a=Ke.distance,includeMatches:l=Ke.includeMatches,findAllMatches:c=Ke.findAllMatches,minMatchCharLength:u=Ke.minMatchCharLength,isCaseSensitive:f=Ke.isCaseSensitive,ignoreDiacritics:m=Ke.ignoreDiacritics,ignoreLocation:h=Ke.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:a,includeMatches:l,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:f,ignoreDiacritics:m,ignoreLocation:h},t=f?t:t.toLowerCase(),t=m?Sh(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const v=(b,S)=>{this.chunks.push({pattern:b,alphabet:mse(b),startIndex:S})},x=this.pattern.length;if(x>Tl){let b=0;const S=x%Tl,w=x-S;for(;b<w;)v(this.pattern.substr(b,Tl),b),b+=Tl;if(S){const y=x-Tl;v(this.pattern.substr(y),y)}}else v(this.pattern,0)}searchIn(t){const{isCaseSensitive:r,ignoreDiacritics:n,includeMatches:a}=this.options;if(t=r?t:t.toLowerCase(),t=n?Sh(t):t,this.pattern===t){let w={isMatch:!0,score:0};return a&&(w.indices=[[0,t.length-1]]),w}const{location:l,distance:c,threshold:u,findAllMatches:f,minMatchCharLength:m,ignoreLocation:h}=this.options;let v=[],x=0,b=!1;this.chunks.forEach(({pattern:w,alphabet:y,startIndex:C})=>{const{isMatch:M,score:A,indices:_}=fse(t,w,y,{location:l+C,distance:c,threshold:u,findAllMatches:f,minMatchCharLength:m,includeMatches:a,ignoreLocation:h});M&&(b=!0),x+=A,M&&_&&(v=[...v,..._])});let S={isMatch:b,score:b?x/this.chunks.length:1};return b&&a&&(S.indices=v),S}}class nl{constructor(t){this.pattern=t}static isMultiMatch(t){return w_(t,this.multiRegex)}static isSingleMatch(t){return w_(t,this.singleRegex)}search(){}}function w_(e,t){const r=e.match(t);return r?r[1]:null}class pse extends nl{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const r=t===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class hse extends nl{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class vse extends nl{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const r=t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class xse extends nl{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const r=!t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class gse extends nl{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const r=t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class bse extends nl{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const r=!t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class xI extends nl{constructor(t,{location:r=Ke.location,threshold:n=Ke.threshold,distance:a=Ke.distance,includeMatches:l=Ke.includeMatches,findAllMatches:c=Ke.findAllMatches,minMatchCharLength:u=Ke.minMatchCharLength,isCaseSensitive:f=Ke.isCaseSensitive,ignoreDiacritics:m=Ke.ignoreDiacritics,ignoreLocation:h=Ke.ignoreLocation}={}){super(t),this._bitapSearch=new vI(t,{location:r,threshold:n,distance:a,includeMatches:l,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:f,ignoreDiacritics:m,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class gI extends nl{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r=0,n;const a=[],l=this.pattern.length;for(;(n=t.indexOf(this.pattern,r))>-1;)r=n+l,a.push([n,r-1]);const c=!!a.length;return{isMatch:c,score:c?0:1,indices:a}}}const Zy=[pse,gI,vse,xse,bse,gse,hse,xI],j_=Zy.length,yse=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,wse="|";function jse(e,t={}){return e.split(wse).map(r=>{let n=r.trim().split(yse).filter(l=>l&&!!l.trim()),a=[];for(let l=0,c=n.length;l<c;l+=1){const u=n[l];let f=!1,m=-1;for(;!f&&++m<j_;){const h=Zy[m];let v=h.isMultiMatch(u);v&&(a.push(new h(v,t)),f=!0)}if(!f)for(m=-1;++m<j_;){const h=Zy[m];let v=h.isSingleMatch(u);if(v){a.push(new h(v,t));break}}}return a})}const Nse=new Set([xI.type,gI.type]);class Sse{constructor(t,{isCaseSensitive:r=Ke.isCaseSensitive,ignoreDiacritics:n=Ke.ignoreDiacritics,includeMatches:a=Ke.includeMatches,minMatchCharLength:l=Ke.minMatchCharLength,ignoreLocation:c=Ke.ignoreLocation,findAllMatches:u=Ke.findAllMatches,location:f=Ke.location,threshold:m=Ke.threshold,distance:h=Ke.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:n,includeMatches:a,minMatchCharLength:l,findAllMatches:u,ignoreLocation:c,location:f,threshold:m,distance:h},t=r?t:t.toLowerCase(),t=n?Sh(t):t,this.pattern=t,this.query=jse(this.pattern,this.options)}static condition(t,r){return r.useExtendedSearch}searchIn(t){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:a,ignoreDiacritics:l}=this.options;t=a?t:t.toLowerCase(),t=l?Sh(t):t;let c=0,u=[],f=0;for(let m=0,h=r.length;m<h;m+=1){const v=r[m];u.length=0,c=0;for(let x=0,b=v.length;x<b;x+=1){const S=v[x],{isMatch:w,indices:y,score:C}=S.search(t);if(w){if(c+=1,f+=C,n){const M=S.constructor.type;Nse.has(M)?u=[...u,...y]:u.push(y)}}else{f=0,c=0,u.length=0;break}}if(c){let x={isMatch:!0,score:f/c};return n&&(x.indices=u),x}}return{isMatch:!1,score:1}}}const Jy=[];function Cse(...e){Jy.push(...e)}function e1(e,t){for(let r=0,n=Jy.length;r<n;r+=1){let a=Jy[r];if(a.condition(e,t))return new a(e,t)}return new vI(e,t)}const Ch={AND:"$and",OR:"$or"},t1={PATH:"$path",PATTERN:"$val"},r1=e=>!!(e[Ch.AND]||e[Ch.OR]),Ase=e=>!!e[t1.PATH],Mse=e=>!Qi(e)&&fI(e)&&!r1(e),N_=e=>({[Ch.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function bI(e,t,{auto:r=!0}={}){const n=a=>{let l=Object.keys(a);const c=Ase(a);if(!c&&l.length>1&&!r1(a))return n(N_(a));if(Mse(a)){const f=c?a[t1.PATH]:l[0],m=c?a[t1.PATTERN]:a[f];if(!Qa(m))throw new Error(Zie(f));const h={keyId:Xy(f),pattern:m};return r&&(h.searcher=e1(m,t)),h}let u={children:[],operator:l[0]};return l.forEach(f=>{const m=a[f];Qi(m)&&m.forEach(h=>{u.children.push(n(h))})}),u};return r1(e)||(e=N_(e)),n(e)}function kse(e,{ignoreFieldNorm:t=Ke.ignoreFieldNorm}){e.forEach(r=>{let n=1;r.matches.forEach(({key:a,norm:l,score:c})=>{const u=a?a.weight:null;n*=Math.pow(c===0&&u?Number.EPSILON:c,(u||1)*(t?1:l))}),r.score=n})}function Dse(e,t){const r=e.matches;t.matches=[],On(r)&&r.forEach(n=>{if(!On(n.indices)||!n.indices.length)return;const{indices:a,value:l}=n;let c={indices:a,value:l};n.key&&(c.key=n.key.src),n.idx>-1&&(c.refIndex=n.idx),t.matches.push(c)})}function Ese(e,t){t.score=e.score}function _se(e,t,{includeMatches:r=Ke.includeMatches,includeScore:n=Ke.includeScore}={}){const a=[];return r&&a.push(Dse),n&&a.push(Ese),e.map(l=>{const{idx:c}=l,u={item:t[c],refIndex:c};return a.length&&a.forEach(f=>{f(l,u)}),u})}class Lc{constructor(t,r={},n){this.options={...Ke,...r},this.options.useExtendedSearch,this._keyStore=new rse(this.options.keys),this.setCollection(t,n)}setCollection(t,r){if(this._docs=t,r&&!(r instanceof hj))throw new Error(Xie);this._myIndex=r||hI(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){On(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const r=[];for(let n=0,a=this._docs.length;n<a;n+=1){const l=this._docs[n];t(l,n)&&(this.removeAt(n),n-=1,a-=1,r.push(l))}return r}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:r=-1}={}){const{includeMatches:n,includeScore:a,shouldSort:l,sortFn:c,ignoreFieldNorm:u}=this.options;let f=Qa(t)?Qa(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return kse(f,{ignoreFieldNorm:u}),l&&f.sort(c),dI(r)&&r>-1&&(f=f.slice(0,r)),_se(f,this._docs,{includeMatches:n,includeScore:a})}_searchStringList(t){const r=e1(t,this.options),{records:n}=this._myIndex,a=[];return n.forEach(({v:l,i:c,n:u})=>{if(!On(l))return;const{isMatch:f,score:m,indices:h}=r.searchIn(l);f&&a.push({item:l,idx:c,matches:[{score:m,value:l,norm:u,indices:h}]})}),a}_searchLogical(t){const r=bI(t,this.options),n=(u,f,m)=>{if(!u.children){const{keyId:v,searcher:x}=u,b=this._findMatches({key:this._keyStore.get(v),value:this._myIndex.getValueForItemAtKeyId(f,v),searcher:x});return b&&b.length?[{idx:m,item:f,matches:b}]:[]}const h=[];for(let v=0,x=u.children.length;v<x;v+=1){const b=u.children[v],S=n(b,f,m);if(S.length)h.push(...S);else if(u.operator===Ch.AND)return[]}return h},a=this._myIndex.records,l={},c=[];return a.forEach(({$:u,i:f})=>{if(On(u)){let m=n(r,u,f);m.length&&(l[f]||(l[f]={idx:f,item:u,matches:[]},c.push(l[f])),m.forEach(({matches:h})=>{l[f].matches.push(...h)}))}}),c}_searchObjectList(t){const r=e1(t,this.options),{keys:n,records:a}=this._myIndex,l=[];return a.forEach(({$:c,i:u})=>{if(!On(c))return;let f=[];n.forEach((m,h)=>{f.push(...this._findMatches({key:m,value:c[h],searcher:r}))}),f.length&&l.push({idx:u,item:c,matches:f})}),l}_findMatches({key:t,value:r,searcher:n}){if(!On(r))return[];let a=[];if(Qi(r))r.forEach(({v:l,i:c,n:u})=>{if(!On(l))return;const{isMatch:f,score:m,indices:h}=n.searchIn(l);f&&a.push({score:m,key:t,value:l,idx:c,norm:u,indices:h})});else{const{v:l,n:c}=r,{isMatch:u,score:f,indices:m}=n.searchIn(l);u&&a.push({score:f,key:t,value:l,norm:c,indices:m})}return a}}Lc.version="7.1.0";Lc.createIndex=hI;Lc.parseIndex=use;Lc.config=Ke;Lc.parseQuery=bI;Cse(Sse);let fa=null,Gu=null;function Ose(e){if(!e)return!1;const t=new Date(e),r=new Date;return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&t.getDate()===r.getDate()}function Tse(){return fa?Promise.resolve(fa):Gu||(Gu=eF("fundsList").then(e=>e&&Array.isArray(e.data)&&Ose(e.updatedAt)?(fa=e.data,fa):Dz().then(t=>(fa=Array.isArray(t)?t:[],pn("fundsList",fa),fa))).catch(()=>(Gu=null,[])),Gu)}function vj({value:e,onSelect:t,placeholder:r,disabled:n}){const[a,l]=j.useState(""),[c,u]=j.useState(fa||[]),[f,m]=j.useState(!fa),[h,v]=j.useState(!1),x=j.useRef(null);j.useEffect(()=>{if(fa){u(fa),m(!1);return}Tse().then(M=>{u(M),m(!1)})},[]),j.useEffect(()=>{function M(A){x.current&&!x.current.contains(A.target)&&v(!1)}return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const b=j.useMemo(()=>c.length?new Lc(c,{keys:["fundName"],threshold:.3,distance:50,minMatchCharLength:2,includeScore:!0,ignoreLocation:!1,findAllMatches:!0}):null,[c]),S=j.useMemo(()=>!b||a.length<2?[]:b.search(a).slice(0,50).map(M=>M.item),[b,a]);function w(M){l(M),v(M.length>=2)}function y(M){t({schemeCode:M.fundCode||M.schemeCode,fundName:M.fundName,nav:M.nav,navDate:M.navDate}),l(""),v(!1)}function C(){t({schemeCode:"",fundName:"",nav:0,navDate:""}),l("")}return e?.fundName?s.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate",children:e.fundName}),s.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e.schemeCode}),e.nav>0&&s.jsxs("span",{className:"text-xs font-medium text-emerald-400",children:["NAV: ",e.nav.toFixed(2),e.navDate?` (${e.navDate})`:""]})]})]}),s.jsx("button",{type:"button",onClick:C,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:s.jsx(Yl,{size:14})})]}):s.jsxs("div",{ref:x,className:"relative",children:[s.jsxs("div",{className:"relative",children:[f?s.jsx(GO,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400 animate-spin"}):s.jsx(XO,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),s.jsx("input",{type:"text",value:a,onChange:M=>w(M.target.value),onFocus:()=>a.length>=2&&v(!0),placeholder:f?"Loading funds...":r||"Search fund name...",disabled:n||f,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),h&&S.length>0&&s.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:S.map(M=>s.jsxs("button",{type:"button",onClick:()=>y(M),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:M.fundName}),s.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:M.fundCode||M.schemeCode}),M.nav>0&&s.jsxs("span",{className:"text-xs text-emerald-400 tabular-nums",children:["NAV: ",M.nav.toFixed(2),M.navDate?` (${M.navDate})`:""]})]})]},M.fundCode||M.schemeCode))}),h&&a.length>=2&&S.length===0&&!f&&s.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No funds found for "',a,'"']})})]})}const Pse=[{value:"INITIAL",label:"Add Existing Holdings"},{value:"SIP",label:"SIP Investment"},{value:"LUMPSUM",label:"Lumpsum Investment"}];function Ise({portfolioId:e,fundCode:t,fundName:r,transactionType:n,onSave:a,onCancel:l}){const{mfPortfolios:c,mfHoldings:u}=ht(),{selectedMember:f}=Hr(),m=j.useMemo(()=>{const D=c.filter(X=>X.status==="Active");return f==="all"?D:D.filter(X=>X.ownerId===f)},[c,f]),[h,v]=j.useState({portfolioId:e||"",fundCode:t||"",fundName:r||"",nav:0,navDate:"",transactionType:n||"SIP",date:new Date().toISOString().split("T")[0],units:"",price:"",notes:""}),[x,b]=j.useState({}),[S,w]=j.useState(!1),[y,C]=j.useState(!t);function M(D,X){v(W=>({...W,[D]:X})),b(W=>({...W,[D]:void 0}))}function A({schemeCode:D,fundName:X,nav:W,navDate:Z}){v($=>({...$,fundCode:D,fundName:X,nav:W||0,navDate:Z||"",price:W>0?String(W):$.price})),b($=>({...$,fundCode:void 0,fundName:void 0})),C(!1)}function _(D){v(X=>({...X,fundCode:D.schemeCode,fundName:D.fundName,nav:D.currentNav||0,navDate:"",price:D.currentNav>0?String(D.currentNav):X.price})),b(X=>({...X,fundCode:void 0})),C(!1)}const E=j.useMemo(()=>h.portfolioId?u.filter(D=>D.portfolioId===h.portfolioId).sort((D,X)=>X.currentValue-D.currentValue):[],[u,h.portfolioId]),T=j.useMemo(()=>!h.portfolioId||!h.fundCode?null:u.find(D=>D.portfolioId===h.portfolioId&&D.schemeCode===h.fundCode),[u,h.portfolioId,h.fundCode]),P=h.fundCode&&!T,O=j.useMemo(()=>(Number(h.units)||0)*(Number(h.price)||0),[h.units,h.price]);function z(){const D={};return h.portfolioId||(D.portfolioId="Required"),h.fundCode||(D.fundCode="Select a fund"),h.date||(D.date="Required"),(!h.units||Number(h.units)<=0)&&(D.units="Must be > 0"),(!h.price||Number(h.price)<=0)&&(D.price="Must be > 0"),b(D),Object.keys(D).length===0}async function R(){if(z()){w(!0);try{await a({portfolioId:h.portfolioId,fundCode:h.fundCode,fundName:h.fundName,transactionType:h.transactionType,purchaseDate:h.date,units:h.units,avgPrice:h.price,notes:h.notes})}finally{w(!1)}}}const F=m.map(D=>{const X=D.portfolioName?.replace(/^PFL-/,"")||D.portfolioName,W=D.ownerName?`${X} (${D.ownerName})`:X;return{value:D.portfolioId,label:W}});return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Portfolio",required:!0,error:x.portfolioId,children:s.jsx(Qe,{value:h.portfolioId,onChange:D=>{M("portfolioId",D),t||(M("fundCode",""),M("fundName",""),C(!1))},options:F,placeholder:"Select portfolio..."})}),s.jsx(le,{label:"Transaction Type",required:!0,children:s.jsx(Qe,{value:h.transactionType,onChange:D=>M("transactionType",D),options:Pse})})]}),s.jsx(le,{label:"Fund",required:!0,error:x.fundCode,children:h.fundCode&&!y?s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:h.fundName}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[h.fundCode,h.nav>0&&s.jsxs("span",{className:"ml-2 text-emerald-400",children:["NAV: ",h.nav.toFixed(2)]})]})]}),s.jsx("button",{type:"button",onClick:()=>{M("fundCode",""),M("fundName",""),C(!0)},className:"text-xs text-[var(--text-muted)] hover:text-[var(--text-primary)] underline shrink-0",children:"Change"})]}):s.jsxs("div",{className:"space-y-3",children:[E.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5",children:"Portfolio Funds"}),s.jsx("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] overflow-hidden max-h-44 overflow-y-auto",children:E.map(D=>s.jsxs("button",{type:"button",onClick:()=>_(D),className:"w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-[var(--bg-hover)] border-b border-[var(--border-light)] last:border-b-0 transition-colors group",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate group-hover:text-white transition-colors",children:D.fundName}),s.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:D.units>0?`${D.units.toFixed(0)} units  ${Q(D.currentValue)}`:"Planned"})]}),s.jsx(Oi,{size:12,className:"text-[var(--text-dim)] -rotate-90 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity"})]},D.holdingId))})]}),s.jsxs("div",{children:[E.length>0&&s.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5 flex items-center gap-1",children:[s.jsx(XO,{size:10})," Or search new fund"]}),s.jsx(vj,{value:null,onSelect:A,placeholder:"Search fund by name or code..."})]})]})}),T&&s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  will average out"}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:T.units.toFixed(2)})," units @ ",T.avgNav.toFixed(2)," avg NAV | Value: ",Q(T.currentValue),T.targetAllocationPct>0&&s.jsxs("span",{children:["  Target: ",T.targetAllocationPct.toFixed(1),"%"]})]})]}),P&&s.jsxs("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:[s.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"}),s.jsx("p",{className:"text-xs text-violet-300/70 mt-0.5",children:"Use Allocations to plan how much to invest before buying"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(le,{label:"Date",required:!0,error:x.date,children:s.jsx(ei,{value:h.date,onChange:D=>M("date",D)})}),s.jsx(le,{label:"Units",required:!0,error:x.units,children:s.jsx(Me,{type:"number",value:h.units,onChange:D=>M("units",D),placeholder:"e.g., 150.50"})}),s.jsx(le,{label:"NAV ()",required:!0,error:x.price,children:s.jsx(Me,{type:"number",value:h.price,onChange:D=>M("price",D),placeholder:"e.g., 178.45"})})]}),O>0&&s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(O)}),T&&s.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:["New avg NAV: ",((T.investment+O)/(T.units+Number(h.units))).toFixed(2)," Total units: ",(T.units+Number(h.units)).toFixed(2)]})]}),s.jsx(le,{label:"Notes",children:s.jsx(Me,{value:h.notes,onChange:D=>M("notes",D),placeholder:"Optional notes..."})}),s.jsx(nn,{onCancel:l,onSubmit:R,submitLabel:h.transactionType==="SIP"?"Record SIP":h.transactionType==="LUMPSUM"?"Record Lumpsum":"Add Holdings",loading:S})]})}function Rse({portfolioId:e,fundCode:t,onSave:r,onCancel:n}){const{mfPortfolios:a,mfHoldings:l}=ht(),{selectedMember:c}=Hr(),u=j.useMemo(()=>{const R=a.filter(F=>F.status==="Active");return c==="all"?R:R.filter(F=>F.ownerId===c)},[a,c]),f=j.useMemo(()=>!e||!t?null:l.find(R=>R.portfolioId===e&&R.schemeCode===t),[l,e,t]),[m,h]=j.useState({portfolioId:e||"",fundCode:t||"",fundName:f?.fundName||"",date:new Date().toISOString().split("T")[0],units:"",price:f?.currentNav>0?String(f.currentNav):"",notes:""}),[v,x]=j.useState({}),[b,S]=j.useState(!1);function w(R,F){h(D=>({...D,[R]:F})),x(D=>({...D,[R]:void 0}))}const y=j.useMemo(()=>m.portfolioId?l.filter(R=>R.portfolioId===m.portfolioId&&R.units>0):[],[l,m.portfolioId]),C=y.find(R=>R.schemeCode===m.fundCode);function M(R){const F=y.find(D=>D.schemeCode===R);h(D=>({...D,fundCode:R,fundName:F?.fundName||"",price:F?.currentNav?.toString()||""})),x(D=>({...D,fundCode:void 0}))}function A(R){h(F=>({...F,portfolioId:R,fundCode:"",fundName:"",units:"",price:""})),x(F=>({...F,portfolioId:void 0}))}const _=j.useMemo(()=>(Number(m.units)||0)*(Number(m.price)||0),[m.units,m.price]),E=C?_-Number(m.units)*C.avgNav:0;function T(){const R={};return m.portfolioId||(R.portfolioId="Required"),m.fundCode||(R.fundCode="Required"),m.date||(R.date="Required"),(!m.units||Number(m.units)<=0)&&(R.units="Must be > 0"),C&&Number(m.units)>C.units&&(R.units=`Max ${C.units.toFixed(2)} units`),(!m.price||Number(m.price)<=0)&&(R.price="Must be > 0"),x(R),Object.keys(R).length===0}async function P(){if(T()){S(!0);try{await r(m)}finally{S(!1)}}}const O=u.map(R=>{const F=R.portfolioName?.replace(/^PFL-/,"")||R.portfolioName,D=R.ownerName?`${F} (${R.ownerName})`:F;return{value:R.portfolioId,label:D}}),z=y.map(R=>({value:R.schemeCode,label:`${R.fundName}  ${R.units.toFixed(0)} units  ${Q(R.currentValue)}`}));return s.jsxs("div",{className:"space-y-4",children:[s.jsx(le,{label:"Portfolio",required:!0,error:v.portfolioId,children:s.jsx(Qe,{value:m.portfolioId,onChange:A,options:O,placeholder:"Select portfolio..."})}),s.jsx(le,{label:"Fund to Redeem",required:!0,error:v.fundCode,children:s.jsx(Qe,{value:m.fundCode,onChange:M,options:z,placeholder:m.portfolioId?y.length?"Select fund...":"No holdings":"Select portfolio first..."})}),C&&s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:C.fundName}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:C.units.toFixed(2)})," units @ ",C.avgNav.toFixed(2)," avg | Current NAV: ",C.currentNav.toFixed(2)]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(le,{label:"Date",required:!0,error:v.date,children:s.jsx(ei,{value:m.date,onChange:R=>w("date",R)})}),s.jsx(le,{label:"Units",required:!0,error:v.units,children:s.jsx(Me,{type:"number",value:m.units,onChange:R=>w("units",R),placeholder:C?`Max: ${C.units.toFixed(2)}`:""})}),s.jsx(le,{label:"NAV ()",required:!0,error:v.price,children:s.jsx(Me,{type:"number",value:m.price,onChange:R=>w("price",R),placeholder:"e.g., 178.45"})})]}),_>0&&s.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Redemption Amount"}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(_)})]}),C&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),s.jsxs("p",{className:`text-sm font-bold tabular-nums ${E>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[E>=0?"+":"",Q(E)]})]})]})}),s.jsx(le,{label:"Notes",children:s.jsx(Me,{value:m.notes,onChange:R=>w("notes",R),placeholder:"Optional notes..."})}),s.jsx(nn,{onCancel:n,onSubmit:P,submitLabel:"Redeem",loading:b})]})}function Lse({portfolioId:e,onSave:t,onCancel:r}){const{mfPortfolios:n,mfHoldings:a}=ht(),{selectedMember:l}=Hr(),c=j.useMemo(()=>{const D=n.filter(X=>X.status==="Active");return l==="all"?D:D.filter(X=>X.ownerId===l)},[n,l]),[u,f]=j.useState({portfolioId:e||"",fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",date:new Date().toISOString().split("T")[0],units:"",fromPrice:"",toPrice:"",targetAllocation:"",notes:""}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(D,X){f(W=>({...W,[D]:X})),h(W=>({...W,[D]:void 0}))}function S(D){f(X=>({...X,portfolioId:D,fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",units:"",fromPrice:"",toPrice:"",targetAllocation:""})),h(X=>({...X,portfolioId:void 0}))}const w=j.useMemo(()=>u.portfolioId?a.filter(D=>D.portfolioId===u.portfolioId&&D.units>0):[],[a,u.portfolioId]),y=w.find(D=>D.schemeCode===u.fromFundCode),C=j.useMemo(()=>!u.portfolioId||!u.toFundCode?null:a.find(D=>D.portfolioId===u.portfolioId&&D.schemeCode===u.toFundCode),[a,u.portfolioId,u.toFundCode]),M=u.toFundCode&&!C;function A(D){const X=w.find(W=>W.schemeCode===D);f(W=>({...W,fromFundCode:D,fromFundName:X?.fundName||"",fromPrice:X?.currentNav?.toString()||""})),h(W=>({...W,fromFundCode:void 0}))}function _({schemeCode:D,fundName:X}){const W=a.find(Z=>Z.portfolioId===u.portfolioId&&Z.schemeCode===D);f(Z=>({...Z,toFundCode:D,toFundName:X,toPrice:W?.currentNav?.toString()||Z.toPrice,targetAllocation:""})),h(Z=>({...Z,toFundCode:void 0}))}const E=j.useMemo(()=>(Number(u.units)||0)*(Number(u.fromPrice)||0),[u.units,u.fromPrice]),T=E>0&&Number(u.toPrice)>0?E/Number(u.toPrice):0,P=y?E-Number(u.units)*y.avgNav:0;function O(){const D={};return u.portfolioId||(D.portfolioId="Required"),u.fromFundCode||(D.fromFundCode="Required"),u.toFundCode||(D.toFundCode="Required"),u.fromFundCode&&u.toFundCode&&u.fromFundCode===u.toFundCode&&(D.toFundCode="Must be different from source fund"),u.date||(D.date="Required"),(!u.units||Number(u.units)<=0)&&(D.units="Must be > 0"),y&&Number(u.units)>y.units&&(D.units=`Max ${y.units.toFixed(2)} units`),(!u.fromPrice||Number(u.fromPrice)<=0)&&(D.fromPrice="Must be > 0"),(!u.toPrice||Number(u.toPrice)<=0)&&(D.toPrice="Must be > 0"),h(D),Object.keys(D).length===0}async function z(){if(O()){x(!0);try{await t(u)}finally{x(!1)}}}const R=c.map(D=>{const X=D.portfolioName?.replace(/^PFL-/,"")||D.portfolioName,W=D.ownerName?`${X} (${D.ownerName})`:X;return{value:D.portfolioId,label:W}}),F=w.map(D=>({value:D.schemeCode,label:D.fundName}));return s.jsxs("div",{className:"space-y-4",children:[s.jsx(le,{label:"Portfolio",required:!0,error:m.portfolioId,children:s.jsx(Qe,{value:u.portfolioId,onChange:S,options:R,placeholder:"Select portfolio..."})}),s.jsx(le,{label:"Switch From (Sell)",required:!0,error:m.fromFundCode,children:s.jsx(Qe,{value:u.fromFundCode,onChange:A,options:F,placeholder:u.portfolioId?w.length?"Select fund to switch from...":"No holdings":"Select portfolio first..."})}),y&&s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:y.fundName}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:y.units.toFixed(2)})," units @ ",y.avgNav.toFixed(2)," avg | Current NAV: ",y.currentNav.toFixed(2)]})]}),s.jsx(le,{label:"Switch To (Buy)",required:!0,error:m.toFundCode,children:s.jsx(vj,{value:u.toFundCode?{schemeCode:u.toFundCode,fundName:u.toFundName}:null,onSelect:_,placeholder:"Search fund to switch into...",disabled:!u.portfolioId})}),C&&s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  units will be added, NAV averaged out"}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:C.units.toFixed(2)})," units @ ",C.avgNav.toFixed(2)," avg | Alloc: ",C.targetAllocationPct.toFixed(1),"%"]})]}),M&&u.toFundCode&&s.jsx("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:s.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Switch Date",required:!0,error:m.date,children:s.jsx(ei,{value:u.date,onChange:D=>b("date",D)})}),s.jsx(le,{label:"Units to Switch",required:!0,error:m.units,children:s.jsx(Me,{type:"number",value:u.units,onChange:D=>b("units",D),placeholder:y?`Max: ${y.units.toFixed(2)}`:""})})]}),s.jsxs("div",{className:`grid grid-cols-1 ${M?"sm:grid-cols-3":"sm:grid-cols-2"} gap-4`,children:[s.jsx(le,{label:"From Fund NAV ()",required:!0,error:m.fromPrice,children:s.jsx(Me,{type:"number",value:u.fromPrice,onChange:D=>b("fromPrice",D),placeholder:"e.g., 178.45"})}),s.jsx(le,{label:"To Fund NAV ()",required:!0,error:m.toPrice,children:s.jsx(Me,{type:"number",value:u.toPrice,onChange:D=>b("toPrice",D),placeholder:"e.g., 82.10"})}),M&&s.jsx(le,{label:"Target Allocation (%)",children:s.jsx(Me,{type:"number",value:u.targetAllocation,onChange:D=>b("targetAllocation",D),placeholder:"e.g., 20"})})]}),E>0&&s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Switch Amount"}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(E)})]}),T>0&&s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Units Bought"}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:T.toFixed(4)})]}),y&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),s.jsxs("p",{className:`text-sm font-bold tabular-nums ${P>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[P>=0?"+":"",Q(P)]})]})]}),C&&T>0&&s.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1 border-t border-[var(--border-light)] pt-1",children:["New total: ",(C.units+T).toFixed(2)," units  New avg NAV: ",((C.investment+E)/(C.units+T)).toFixed(2)]})]}),s.jsx(le,{label:"Notes",children:s.jsx(Me,{value:u.notes,onChange:D=>b("notes",D),placeholder:"Optional notes..."})}),s.jsx(nn,{onCancel:r,onSubmit:z,submitLabel:"Switch Funds",loading:v})]})}function zse({portfolioId:e,onSave:t,onCancel:r}){const{mfHoldings:n,mfPortfolios:a}=ht(),l=a.find(O=>O.portfolioId===e),c=j.useMemo(()=>n.filter(O=>O.portfolioId===e),[n,e]),[u,f]=j.useState(()=>c.map(O=>({schemeCode:O.schemeCode,fundName:O.fundName,units:O.units,currentValue:O.currentValue,currentAllocationPct:O.currentAllocationPct,targetAllocationPct:O.targetAllocationPct,isNew:!1}))),[m,h]=j.useState(null),[v,x]=j.useState(""),[b,S]=j.useState(""),[w,y]=j.useState(!1),C=u.reduce((O,z)=>O+z.targetAllocationPct,0),M=u.reduce((O,z)=>O+z.currentValue,0);function A(O,z){f(R=>R.map(F=>F.schemeCode===O?{...F,targetAllocationPct:Number(z)||0}:F)),S("")}function _(O){const z=u.find(R=>R.schemeCode===O);z&&z.units>0||f(R=>R.filter(F=>F.schemeCode!==O))}function E(){if(m){if(u.find(O=>O.schemeCode===m.schemeCode)){S("Fund already exists in portfolio");return}f(O=>[...O,{schemeCode:m.schemeCode,fundName:m.fundName,units:0,currentValue:0,currentAllocationPct:0,targetAllocationPct:Number(v)||0,isNew:!0}]),h(null),x(""),S("")}}async function T(){if(C>100){S(`Total allocation is ${C.toFixed(1)}%  must be  100%`);return}y(!0);try{await t(u.map(O=>({schemeCode:O.schemeCode,fundName:O.fundName,targetAllocationPct:O.targetAllocationPct,isNew:O.isNew})))}finally{y(!1)}}const P=l?.sipTarget||0;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:l?.portfolioName}),s.jsx("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] mt-0.5 flex-wrap",children:s.jsxs("span",{children:["Current Value: ",s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:Q(M)})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[s.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Units"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Current %"}),s.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Target %"}),s.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold w-8"})]})}),s.jsx("tbody",{children:u.map(O=>{const z=O.isNew&&O.targetAllocationPct>0&&O.targetAllocationPct<100&&M>0?O.targetAllocationPct/(100-O.targetAllocationPct)*M:0,R=O.isNew&&O.targetAllocationPct>0&&P>=100?O.targetAllocationPct/100*P:0;return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[s.jsxs("td",{className:"py-2 px-2",children:[s.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight max-w-[200px] truncate",children:O.fundName}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[O.schemeCode,O.isNew&&s.jsx("span",{className:"text-violet-400 ml-1",children:"(new)"})]}),(z>0||R>0)&&s.jsxs("p",{className:"text-xs text-blue-400 mt-0.5",children:["Invest: ",z>0&&s.jsx("span",{className:"font-semibold",children:Q(z)}),z>0&&R>0&&"  ",R>0&&s.jsxs("span",{className:"font-semibold",children:[Q(R),"/mo SIP"]})]})]}),s.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:O.units.toFixed(2)}),s.jsxs("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:[O.currentAllocationPct.toFixed(1),"%"]}),s.jsx("td",{className:"py-2 px-2",children:s.jsx("input",{type:"number",value:O.targetAllocationPct,onChange:F=>A(O.schemeCode,F.target.value),className:"w-20 mx-auto block bg-[var(--bg-inset)] border border-[var(--border)] rounded px-2 py-1 text-xs text-center text-[var(--text-primary)] focus:outline-none focus:border-violet-500/50"})}),s.jsx("td",{className:"py-2 px-2 text-center",children:O.units===0&&s.jsx("button",{onClick:()=>_(O.schemeCode),className:"p-1 rounded hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors",children:s.jsx(_h,{size:12})})})]},O.schemeCode)})}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t border-[var(--border)]",children:[s.jsx("td",{className:"py-2 px-2 text-xs font-bold text-[var(--text-primary)]",children:"Total"}),s.jsx("td",{}),s.jsxs("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[u.reduce((O,z)=>O+z.currentAllocationPct,0).toFixed(1),"%"]}),s.jsx("td",{className:"py-2 px-2 text-center",children:s.jsxs("span",{className:`text-xs font-bold tabular-nums ${C>100?"text-[var(--accent-rose)]":C===100?"text-emerald-400":"text-amber-400"}`,children:[C.toFixed(1),"%"]})}),s.jsx("td",{})]})})]})}),s.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider mb-1",children:"Add New Fund"}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Set target % to see how much to invest. After buying, use Invest to record the transaction."}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(vj,{value:m,onSelect:O=>h(O.schemeCode?O:null),placeholder:"Search fund to add..."}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-28",children:s.jsx("input",{type:"number",value:v,onChange:O=>x(O.target.value),placeholder:"Target %",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),s.jsxs("button",{onClick:E,disabled:!m,className:"flex items-center gap-1 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[s.jsx(Or,{size:14})," Add"]})]})]})]})]}),b&&s.jsx("p",{className:"text-xs text-[var(--accent-rose)] font-medium",children:b}),s.jsx(nn,{onCancel:r,onSubmit:T,submitLabel:"Save Allocations",loading:w})]})}const qb=["Equity","Debt","Cash","Commodities","Real Estate","Other"],Hb=["Giant","Large","Mid","Small","Micro"],Ub=["India","Global"];function Fse({fund:e,initial:t,onSave:r,onCancel:n}){const[a,l]=j.useState(()=>{const E={};return qb.forEach(T=>{E[T]=t?.assetAllocation?.[T]||0}),t?.assetAllocation&&Object.keys(t.assetAllocation).forEach(T=>{T in E||(E[T]=t.assetAllocation[T])}),E}),[c,u]=j.useState(()=>{const E={};return Hb.forEach(T=>{E[T]=t?.equityAllocation?.[T]||0}),t?.equityAllocation&&Object.keys(t.equityAllocation).forEach(T=>{T in E||(E[T]=t.equityAllocation[T])}),E}),[f,m]=j.useState(()=>{const E={};return Ub.forEach(T=>{E[T]=t?.geoAllocation?.[T]||0}),t?.geoAllocation&&Object.keys(t.geoAllocation).forEach(T=>{T in E||(E[T]=t.geoAllocation[T])}),E}),[h,v]=j.useState(!1),x=Object.values(a).reduce((E,T)=>E+T,0),b=Object.values(c).reduce((E,T)=>E+T,0),S=Object.values(f).reduce((E,T)=>E+T,0),w=a.Equity||0,y=x===100||x===0,C=b===100||b===0||w===0,M=S===100||S===0||w===0,A=y&&C&&M;async function _(){if(A){v(!0);try{const E={fundCode:e.fundCode,fundName:e.fundName,equity:a.Equity||0,debt:a.Debt||0,cash:a.Cash||0,commodities:a.Commodities||0,realEstate:a["Real Estate"]||0,customAsset:{},giantCap:c.Giant||0,largeCap:c.Large||0,midCap:c.Mid||0,smallCap:c.Small||0,microCap:c.Micro||0,customCap:{},geoIndia:f.India||0,geoGlobal:f.Global||0,customGeo:{}};Object.entries(a).forEach(([T,P])=>{!qb.includes(T)&&P>0&&(E.customAsset[T]=P)}),Object.entries(c).forEach(([T,P])=>{!Hb.includes(T)&&P>0&&(E.customCap[T]=P)}),Object.entries(f).forEach(([T,P])=>{!Ub.includes(T)&&P>0&&(E.customGeo[T]=P)}),await r(E)}finally{v(!1)}}}return s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-2.5",children:[s.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)] truncate",children:e.fundName}),s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:e.fundCode})]}),s.jsx(Yb,{title:"Asset Class %",fields:a,setFields:l,standardKeys:qb,total:x,valid:y}),w>0&&s.jsx(Yb,{title:"Market Cap %",subtitle:"Equity breakdown",fields:c,setFields:u,standardKeys:Hb,total:b,valid:C}),w>0&&s.jsx(Yb,{title:"Geography %",fields:f,setFields:m,standardKeys:Ub,total:S,valid:M}),s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-3 border-t border-[var(--border-light)]",children:[s.jsx("button",{onClick:n,disabled:h,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),s.jsxs("button",{onClick:_,disabled:h||!A,className:"flex items-center gap-1.5 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:[h?s.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):s.jsx(QO,{size:12}),h?"Saving...":"Save"]})]})]})}function Yb({title:e,subtitle:t,fields:r,setFields:n,standardKeys:a,total:l,valid:c}){const[u,f]=j.useState(!1),[m,h]=j.useState("");function v(w,y){n(C=>({...C,[w]:Number(y)||0}))}function x(){const w=m.trim();!w||w in r||(n(y=>({...y,[w]:0})),h(""),f(!1))}function b(w){n(y=>{const C={...y};return delete C[w],C})}const S=Object.keys(r);return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider",children:e}),t&&s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["(",t,")"]})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-1.5",children:S.map(w=>{const y=!a.includes(w);return s.jsxs("div",{className:"relative",children:[s.jsxs("label",{className:"block text-[10px] text-[var(--text-dim)] mb-0.5 flex items-center gap-1",children:[w,y&&s.jsx("button",{onClick:()=>b(w),className:"text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:s.jsx(Yl,{size:8})})]}),s.jsx("input",{type:"number",min:"0",max:"100",value:r[w]||"",onChange:C=>v(w,C.target.value),className:"w-[72px] px-1.5 py-1 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md tabular-nums text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})]},w)})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:`text-[10px] tabular-nums ${c?"text-[var(--text-dim)]":"text-[var(--accent-rose)] font-semibold"}`,children:["Total: ",l,"% ",!c&&" must equal 100%",c&&l===100&&s.jsx("span",{className:"text-emerald-400 ml-1",children:""})]}),u?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("input",{autoFocus:!0,value:m,onChange:w=>h(w.target.value),onKeyDown:w=>{w.key==="Enter"&&x(),w.key==="Escape"&&f(!1)},placeholder:"Field name",className:"w-24 px-1.5 py-0.5 text-[10px] bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md focus:outline-none focus:border-[var(--sidebar-active-text)]"}),s.jsx("button",{onClick:x,className:"text-[10px] font-semibold text-emerald-400 hover:text-emerald-300",children:"Add"}),s.jsx("button",{onClick:()=>{f(!1),h("")},className:"text-[10px] text-[var(--text-dim)] hover:text-[var(--text-primary)]",children:s.jsx(Yl,{size:10})})]}):s.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-0.5 text-[10px] font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[s.jsx(Or,{size:10})," Add Field"]})]})]})}const $m=e=>e?.replace(/^PFL-/,"")||e;function Bse(e){if(!e)return"Other";const t=e.toLowerCase();return t.includes("gold")||t.includes("silver")||t.includes("commodity")?"Commodity":t.includes("liquid")||t.includes("money market")||t.includes("overnight")?"Liquid":t.includes("gilt")||t.includes("government securities")||t.includes("constant maturity")?"Gilt":t.includes("elss")||t.includes("tax saver")?"ELSS":t.includes("debt")||t.includes("bond")||t.includes("income fund")||t.includes("corporate bond")||t.includes("banking & psu")||t.includes("short duration")||t.includes("medium duration")||t.includes("long duration")||t.includes("short term")||t.includes("medium term")||t.includes("floater")||t.includes("floating rate")||t.includes("credit")||t.includes("accrual")||t.includes("savings fund")||t.includes("ultra short")?"Debt":t.includes("multi asset")?"Multi-Asset":t.includes("hybrid")||t.includes("balanced")||t.includes("dynamic asset")||t.includes("arbitrage")||t.includes("retirement")||t.includes("children")||t.includes("pension")?"Hybrid":t.includes("equity")||t.includes("flexi cap")||t.includes("large cap")||t.includes("mid cap")||t.includes("small cap")||t.includes("multi cap")||t.includes("focused")||t.includes("contra")||t.includes("value fund")||t.includes("thematic")||t.includes("sectoral")||t.includes("consumption")||t.includes("infrastructure")||t.includes("pharma")||t.includes("healthcare")||t.includes("technology")||t.includes("fmcg")||t.includes("mnc")||t.includes("opportunities fund")||t.includes("midcap")||t.includes("smallcap")||t.includes("largecap")||t.includes("large & mid")?"Equity":t.includes("index")||t.includes("etf")||t.includes("nifty")||t.includes("sensex")?"Index":t.includes("fund of fund")||t.includes("fof")||t.includes("aggressive")||t.includes("conservative")?"Hybrid":"Other"}const $se={Equity:"#8b5cf6",Debt:"#0ea5e9",Cash:"#2dd4bf",Commodities:"#eab308","Real Estate":"#f97316",Other:"#94a3b8"},qse={Giant:"#6366f1",Large:"#3b82f6",Mid:"#f59e0b",Small:"#ef4444",Micro:"#ec4899"},Hse={India:"#f97316",Global:"#06b6d4"},Use={Equity:"bg-violet-500",Debt:"bg-sky-500",Cash:"bg-teal-400",Commodities:"bg-yellow-500","Real Estate":"bg-orange-500",Other:"bg-slate-400"},Yse={Giant:"bg-indigo-500",Large:"bg-blue-500",Mid:"bg-amber-500",Small:"bg-rose-500",Micro:"bg-pink-500"},Vse={India:"bg-orange-500",Global:"bg-cyan-500"};function da(e){if(!e)return null;if(e instanceof Date)return isNaN(e.getTime())?null:e;const t=String(e),r=t.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(r)return new Date(Number(r[3]),Number(r[2])-1,Number(r[1]));const n=new Date(t);return isNaN(n.getTime())?null:n}function S_(e){return e>=20?{color:"#c62828",fontWeight:700}:e>=10?{color:"#d84315",fontWeight:700}:e>=5?{color:"#e67e00",fontWeight:600}:e>=1?{color:"#b8860b",fontWeight:600}:{color:"var(--text-dim)",fontWeight:400}}function Gse(){const{selectedMember:e}=Hr(),{mfPortfolios:t,mfHoldings:r,mfTransactions:n,activeMembers:a,activeInvestmentAccounts:l,addMFPortfolio:c,updateMFPortfolio:u,deleteMFPortfolio:f,investMF:m,redeemMF:h,switchMF:v,updateHoldingAllocations:x,deleteMFTransaction:b,editMFTransaction:S,assetAllocations:w,updateAssetAllocation:y}=ht(),{showToast:C,showBlockUI:M,hideBlockUI:A}=ai(),_=ii(),{mv:E}=si(),[T,P]=j.useState(null),[O,z]=j.useState("all"),[R,F]=j.useState("holdings"),[D,X]=j.useState(!1),[W,Z]=j.useState(null),[$,G]=j.useState({}),[L,te]=j.useState("all"),[xe,B]=j.useState(null),[ae,ge]=j.useState(!1),fe=j.useCallback(Y=>{Z(ie=>ie===Y?null:Y)},[]),Oe=j.useCallback(Y=>{G(ie=>({...ie,[Y]:(ie[Y]||5)+10}))},[]),ye=j.useMemo(()=>t?t.filter(Y=>Y.status!=="Inactive").map(Y=>{let ie=l.find(ke=>ke.accountId===Y.investmentAccountId);!ie&&Y.investmentAccountId&&(ie=l.find(ke=>`${ke.accountName} - ${ke.platformBroker}`===Y.investmentAccountId));const Ae=ie?.memberId||Y.ownerId||"",We=Ae?a.find(ke=>ke.memberId===Ae):null;return{...Y,investmentAccountId:ie?.accountId||Y.investmentAccountId,ownerId:Ae,ownerName:We?.memberName||Y.ownerName||"",platform:ie?.platformBroker||Y.investmentAccountName||"",clientId:ie?.accountClientId||""}}):[],[t,l,a]),he=j.useMemo(()=>ye.length?e==="all"?ye:ye.filter(Y=>Y.ownerId===e):[],[ye,e]),Se=j.useMemo(()=>r?he.map(Y=>{const ie=r.filter(We=>We.portfolioId===Y.portfolioId),Ae=(n||[]).filter(We=>We.portfolioId===Y.portfolioId);return{...Y,holdings:ie,txns:Ae,fundCount:ie.length}}):[],[he,r,n]),K=j.useMemo(()=>{const Y=O==="all"?Se:Se.filter(Ze=>Ze.portfolioId===O),ie=Y.reduce((Ze,je)=>Ze+je.totalInvestment,0),Ae=Y.reduce((Ze,je)=>Ze+je.currentValue,0),We=Y.reduce((Ze,je)=>Ze+je.unrealizedPL,0),ke=Y.reduce((Ze,je)=>Ze+je.realizedPL,0),oe=We+ke,Ge=ie>0?oe/ie*100:0,Fe=ie>0?We/ie*100:0,Ht=ie>0?ke/ie*100:0,Wt=Y.reduce((Ze,je)=>Ze+je.fundCount,0),He=(r?O==="all"?r.filter(Ze=>Y.some(je=>je.portfolioId===Ze.portfolioId)):r.filter(Ze=>Ze.portfolioId===O):[]).reduce((Ze,je)=>Ze+(je.ongoingSIP||0),0);return{invested:ie,current:Ae,unrealizedPL:We,unrealizedPLPct:Fe,realizedPL:ke,realizedPLPct:Ht,totalPL:oe,totalPLPct:Ge,funds:Wt,monthlySIP:He}},[Se,O,r]),Ee=j.useMemo(()=>r?O==="all"?r.filter(Y=>he.some(ie=>ie.portfolioId===Y.portfolioId)):r.filter(Y=>Y.portfolioId===O):[],[r,he,O]),$e=j.useMemo(()=>n?(O==="all"?n.filter(ie=>he.some(Ae=>Ae.portfolioId===ie.portfolioId)):n.filter(ie=>ie.portfolioId===O)).sort((ie,Ae)=>(da(Ae.date)||0)-(da(ie.date)||0)):[],[n,he,O]),ve=j.useMemo(()=>{const Y=new Set;return $e.forEach(ie=>{ie.fundName&&Y.add(ie.fundName)}),[...Y].sort()},[$e]),tt=j.useMemo(()=>L==="all"?$e:$e.filter(Y=>Y.fundName===L),[$e,L]),Ye=j.useMemo(()=>{const Y={};return Ee.forEach(ie=>{Y[ie.portfolioId]=(Y[ie.portfolioId]||0)+ie.currentValue}),Ee.map(ie=>{const Ae=Y[ie.portfolioId]||0,We=Ae>0?ie.currentValue/Ae*100:0,ke=ie.investment>0?ie.pl/ie.investment*100:0,oe=ie.holdingId||`${ie.portfolioId}::${ie.schemeCode||ie.fundCode}`;return{...ie,currentAllocationPct:We,plPct:ke,_key:oe}})},[Ee]),yt=j.useMemo(()=>{if(O!=="all")return null;const Y=[],ie={};return Ye.forEach(Ae=>{ie[Ae.portfolioId]||(ie[Ae.portfolioId]={portfolioId:Ae.portfolioId,holdings:[]},Y.push(ie[Ae.portfolioId])),ie[Ae.portfolioId].holdings.push(Ae)}),Y},[Ye,O]),xt=j.useMemo(()=>{if(!r)return{};const Y={};return Se.forEach(ie=>{const Ae=r.filter(Fe=>Fe.portfolioId===ie.portfolioId&&Fe.units>0),We=Ae.reduce((Fe,Ht)=>Fe+Ht.currentValue,0),ke=(ie.rebalanceThreshold||.05)*100;let oe=0,Ge=0;Ae.forEach(Fe=>{Fe.athNav>0&&Fe.belowATHPct>=5&&oe++;const Ht=We>0?Fe.currentValue/We*100:0;Fe.targetAllocationPct>0&&Math.abs(Ht-Fe.targetAllocationPct)>ke&&Ge++}),Y[ie.portfolioId]={buyOpp:oe,rebalance:Ge}}),Y},[Se,r]);j.useMemo(()=>{if(O!=="all")return xt[O]||{buyOpp:0,rebalance:0};let Y=0,ie=0;return Object.values(xt).forEach(Ae=>{Y+=Ae.buyOpp,ie+=Ae.rebalance}),{buyOpp:Y,rebalance:ie}},[O,xt]);const nt=j.useMemo(()=>{if(!Ee.length)return null;const Y={};if(w)for(const je of w)Y[je.fundCode]={asset:je.assetAllocation,equity:je.equityAllocation,geo:je.geoAllocation};const ie={Equity:0,Debt:0,Cash:0,Commodities:0,"Real Estate":0,Other:0},Ae={Giant:0,Large:0,Mid:0,Small:0,Micro:0},We={India:0,Global:0};let ke=0,oe=!1,Ge=0;for(const je of Ee){if(je.units<=0)continue;ke+=je.currentValue;const Je=Y[je.fundCode||je.schemeCode];if(Je?.asset){oe=!0,Ge++;for(const[Ue,Lt]of Object.entries(Je.asset)){const Yr=je.currentValue*(Lt/100);Ue in ie?ie[Ue]+=Yr:Ue==="Gold"?ie.Commodities+=Yr:ie.Other+=Yr}if(Je.equity){const Ue=je.currentValue*((Je.asset.Equity||0)/100);for(const[Lt,Yr]of Object.entries(Je.equity)){const Dr=Ue*(Yr/100);Lt in Ae?Ae[Lt]+=Dr:Lt==="Large Cap"?Ae.Large+=Dr:Lt==="Mid Cap"?Ae.Mid+=Dr:Ae.Small+=Dr}}if(Je.geo){const Ue=je.currentValue*((Je.asset.Equity||0)/100);for(const[Lt,Yr]of Object.entries(Je.geo)){const Dr=Ue*(Yr/100);Lt in We?We[Lt]+=Dr:We.Global+=Dr}}}else{let Ue=je.category;(!Ue||Ue==="Other")&&(Ue=Bse(je.fundName)),Ue==="Equity"||Ue==="ELSS"||Ue==="Index"?ie.Equity+=je.currentValue:Ue==="Debt"||Ue==="Gilt"?ie.Debt+=je.currentValue:Ue==="Liquid"?ie.Cash+=je.currentValue:Ue==="Commodity"?ie.Commodities+=je.currentValue:Ue==="Multi-Asset"?(ie.Equity+=je.currentValue*.5,ie.Debt+=je.currentValue*.3,ie.Commodities+=je.currentValue*.2):Ue==="Hybrid"||Ue==="FoF"?(ie.Equity+=je.currentValue*.65,ie.Debt+=je.currentValue*.35):ie.Other+=je.currentValue}}if(ke===0)return null;const Ht=((je,Je)=>Object.entries(je).filter(([,Ue])=>Ue>0).sort(([,Ue],[,Lt])=>Lt-Ue).map(([Ue,Lt])=>({name:Ue,value:Lt,pct:Lt/ke*100,fill:Je[Ue]||"#94a3b8"})))(ie,$se),Wt=Object.values(Ae).reduce((je,Je)=>je+Je,0),$t=Wt>0?Object.entries(Ae).filter(([,je])=>je>0).sort(([,je],[,Je])=>Je-je).map(([je,Je])=>({name:je,value:Je,pct:Je/Wt*100,fill:qse[je]||"#94a3b8"})):[],He=Object.values(We).reduce((je,Je)=>je+Je,0),Ze=He>0?Object.entries(We).filter(([,je])=>je>0).sort(([,je],[,Je])=>Je-je).map(([je,Je])=>({name:je,value:Je,pct:Je/He*100,fill:Hse[je]||"#94a3b8"})):[];return{assetList:Ht,capList:$t,geoList:Ze,hasDetailedAlloc:oe,configuredCount:Ge,totalFunds:Ee.filter(je=>je.units>0).length}},[Ee,w]),Ie=j.useMemo(()=>{if(!Ee.length)return[];const Y={};return Ee.forEach(ie=>{if(!ie.fundCode&&!ie.schemeCode)return;const Ae=(ie.fundCode||ie.schemeCode).toString();Y[Ae]||(Y[Ae]={fundCode:Ae,fundName:ie.fundName||""})}),Object.values(Y).sort((ie,Ae)=>ie.fundName.localeCompare(Ae.fundName))},[Ee]);if(t===null||r===null)return s.jsx(ns,{title:"Loading mutual funds",cards:5});const qe=Se.find(Y=>Y.portfolioId===O),Bt=O==="all"?`All Portfolios (${he.length})`:`${$m(qe?.portfolioName)}  ${E(qe?.ownerName,"name")}`;async function ot(Y){M("Saving...");try{T?.editPortfolio?await u(T.editPortfolio.portfolioId,Y):await c(Y),C(T?.editPortfolio?"Portfolio updated":"Portfolio created"),P(null)}catch(ie){C(ie.message||"Failed to save portfolio","error")}finally{A()}}async function St(){if(T?.editPortfolio&&await _("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){M("Deactivating...");try{await f(T.editPortfolio.portfolioId),C("Portfolio deactivated"),z("all"),P(null)}catch(Y){C(Y.message||"Failed to deactivate portfolio","error")}finally{A()}}}async function tr(Y){M("Recording investment...");try{await m(Y,Y.transactionType),C("Investment recorded"),P(null)}catch(ie){C(ie.message||"Failed to record investment","error")}finally{A()}}async function rr(Y){M("Recording redemption...");try{await h(Y),C("Redemption recorded"),P(null)}catch(ie){C(ie.message||"Failed to record redemption","error")}finally{A()}}async function as(Y){M("Recording switch...");try{await v(Y),C("Switch recorded"),P(null)}catch(ie){C(ie.message||"Failed to record switch","error")}finally{A()}}async function la(Y){if(await _("Delete this transaction? This will recalculate your holdings.",{title:"Delete Transaction",confirmLabel:"Delete"})){M("Deleting...");try{await b(Y),C("Transaction deleted"),B(null)}catch(ie){C(ie.message||"Failed to delete transaction","error")}finally{A()}}}async function ue(Y){M("Updating...");try{await S(Y),C("Transaction updated"),P(null)}catch(ie){C(ie.message||"Failed to update transaction","error")}finally{A()}}async function be(Y){if(T?.allocations){M("Saving allocations...");try{await x(T.allocations,Y),C("Allocations updated"),P(null)}catch(ie){C(ie.message||"Failed to update allocations","error")}finally{A()}}}async function ze(Y){M("Saving classification...");try{await y(Y),C("Fund classified"),P(null)}catch(ie){C(ie.message||"Failed to save classification","error")}finally{A()}}return s.jsxs("div",{className:"space-y-4",children:[he.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(Jm,{size:32,className:"text-[var(--text-dim)]"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No mutual fund portfolios yet"}),s.jsx("button",{onClick:()=>P("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[s.jsxs("div",{className:"relative w-full sm:w-auto",children:[s.jsxs("button",{onClick:()=>X(!D),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors w-full sm:min-w-[220px]",children:[s.jsx(Jm,{size:14,className:"text-violet-400 shrink-0"}),s.jsx("span",{className:"truncate",children:Bt}),s.jsx(Oi,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${D?"rotate-180":""}`})]}),D&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>X(!1)}),s.jsxs("div",{className:"absolute left-0 right-0 sm:right-auto top-full mt-1 z-40 bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl sm:min-w-[300px] py-1 overflow-hidden",children:[s.jsxs("button",{onClick:()=>{z("all"),X(!1),F("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${O==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",he.length,")"]}),s.jsx("div",{className:"border-t border-[var(--border-light)]"}),Se.map(Y=>{const ie=Y.totalPL>=0,Ae=xt[Y.portfolioId]||{};return s.jsx("button",{onClick:()=>{z(Y.portfolioId),X(!1),F("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${O===Y.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("p",{className:`text-sm ${O===Y.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:$m(Y.portfolioName)}),Ae.buyOpp>0&&s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 shrink-0",title:`${Ae.buyOpp} buy opportunities`}),Ae.rebalance>0&&s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 shrink-0",title:`${Ae.rebalance} funds need rebalancing`})]}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[E(Y.ownerName,"name"),"  ",Y.platform,"  ",Y.fundCount," funds"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(Y.currentValue)}),s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ie?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ie?"+":"",Y.totalPLPct.toFixed(1),"%"]})]})]})},Y.portfolioId)})]})]})]}),s.jsxs("div",{className:"flex items-center gap-1.5 overflow-x-auto no-scrollbar",children:[qe&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>P({allocations:qe.portfolioId}),className:"shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(ZO,{size:12})," Allocations"]}),s.jsxs("button",{onClick:()=>P({editPortfolio:qe}),className:"shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Aa,{size:12})," Edit"]})]}),s.jsxs("button",{onClick:()=>P("addPortfolio"),className:"shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Or,{size:13})," New Portfolio"]})]})]}),qe&&s.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Platform:"})," ",qe.platform]}),s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",E(qe.clientId,"clientId")]}),s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Funds:"})," ",qe.fundCount]}),qe.sipTarget>=100&&s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"SIP Target:"})," ",Q(qe.sipTarget),"/mo"]}),qe.lumpsumTarget>=100&&s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Lumpsum Target:"})," ",Q(qe.lumpsumTarget)]}),s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Rebalance Threshold:"})," ",(qe.rebalanceThreshold*100).toFixed(0),"%"]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[s.jsx(Go,{label:"Invested",value:Q(K.invested)}),s.jsx(Go,{label:"Current Value",value:Q(K.current),bold:!0}),s.jsx(Go,{label:"Unrealized P&L",value:`${K.unrealizedPL>=0?"+":""}${Q(K.unrealizedPL)}`,sub:`${K.unrealizedPLPct>=0?"+":""}${K.unrealizedPLPct.toFixed(1)}%`,positive:K.unrealizedPL>=0}),s.jsx(Go,{label:"Realized P&L",value:`${K.realizedPL>=0?"+":""}${Q(K.realizedPL)}`,sub:`${K.realizedPLPct>=0?"+":""}${K.realizedPLPct.toFixed(1)}%`,positive:K.realizedPL>=0}),s.jsx(Go,{label:"Total P&L",value:`${K.totalPL>=0?"+":""}${Q(K.totalPL)}`,sub:`${K.totalPLPct>=0?"+":""}${K.totalPLPct.toFixed(1)}%`,positive:K.totalPL>=0,bold:!0}),s.jsx(Go,{label:"Monthly SIP",value:Q(K.monthlySIP),sub:`${K.funds} funds`})]}),nt&&nt.assetList.length>0&&s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsxs("button",{onClick:()=>ge(Y=>!Y),className:"w-full flex items-center justify-between px-4 py-2.5 hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx("span",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Portfolio Breakdown"}),s.jsx(Oi,{size:14,className:`text-[var(--text-dim)] transition-transform duration-200 ${ae?"rotate-180":""}`})]}),ae&&s.jsxs("div",{className:"px-4 pb-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(Vb,{title:"Asset Class",data:nt.assetList,bgMap:Use}),nt.capList.length>0?s.jsx(Vb,{title:"Market Cap",data:nt.capList,bgMap:Yse}):s.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-4",children:s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:["Classify funds for",s.jsx("br",{}),"market cap breakdown"]})}),nt.geoList?.length>0?s.jsx(Vb,{title:"Geography",data:nt.geoList,bgMap:Vse}):s.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-4",children:s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:["Classify funds for",s.jsx("br",{}),"geography breakdown"]})})]}),!nt.hasDetailedAlloc&&s.jsx("p",{className:"text-[9px] text-[var(--text-dim)]/50 mt-2 text-center",children:"Based on fund category. Go to Fund Breakdown tab to add detailed data from Morningstar."}),nt.hasDetailedAlloc&&nt.configuredCount<nt.totalFunds&&s.jsxs("p",{className:"text-[9px] text-amber-400/70 mt-2 text-center",children:[nt.totalFunds-nt.configuredCount," of ",nt.totalFunds," funds not yet classified"]})]})]}),s.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5 overflow-x-auto no-scrollbar",children:[s.jsxs("button",{onClick:()=>F("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${R==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[s.jsx(YO,{size:12})," Holdings (",Ee.length,")"]}),s.jsxs("button",{onClick:()=>F("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${R==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[s.jsx(gp,{size:12})," Transactions (",tt.length,")"]}),s.jsxs("button",{onClick:()=>F("breakdown"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${R==="breakdown"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[s.jsx(CC,{size:12})," Fund Breakdown (",Ie.length,")"]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("button",{onClick:()=>O!=="all"&&P({invest:O}),disabled:O==="all",className:`flex items-center justify-center gap-1.5 px-3 py-2 text-xs font-semibold rounded-lg border transition-colors ${O==="all"?"border-[var(--border)] text-[var(--text-dim)] cursor-not-allowed opacity-50":"border-emerald-500/40 text-emerald-400 bg-emerald-500/10 hover:bg-emerald-500/20"}`,title:O==="all"?"Select a portfolio first":"",children:[s.jsx(ic,{size:13})," Invest"]}),s.jsxs("button",{onClick:()=>O!=="all"&&Ee.length>0&&P({redeem:O}),disabled:O==="all"||Ee.length===0,className:`flex items-center justify-center gap-1.5 px-3 py-2 text-xs font-semibold rounded-lg border transition-colors ${O==="all"||Ee.length===0?"border-[var(--border)] text-[var(--text-dim)] cursor-not-allowed opacity-50":"border-rose-500/40 text-rose-400 bg-rose-500/10 hover:bg-rose-500/20"}`,title:O==="all"?"Select a portfolio first":"",children:[s.jsx(BO,{size:13})," Redeem"]}),s.jsxs("button",{onClick:()=>O!=="all"&&Ee.length>0&&P({switchFunds:O}),disabled:O==="all"||Ee.length===0,className:`flex items-center justify-center gap-1.5 px-3 py-2 text-xs font-semibold rounded-lg border transition-colors ${O==="all"||Ee.length===0?"border-[var(--border)] text-[var(--text-dim)] cursor-not-allowed opacity-50":"border-amber-500/40 text-amber-400 bg-amber-500/10 hover:bg-amber-500/20"}`,title:O==="all"?"Select a portfolio first":"",children:[s.jsx(R8,{size:13})," Switch"]})]}),R==="holdings"&&s.jsx(s.Fragment,{children:Ee.length>0?s.jsx("div",{className:O==="all"?"space-y-4":"",children:(O==="all"?yt:[{portfolioId:O,holdings:Ye}]).map(Y=>{const ie=Se.find(oe=>oe.portfolioId===Y.portfolioId),Ae=Y.holdings,We=Ae.reduce((oe,Ge)=>oe+Ge.pl,0),ke=We>=0;return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[O==="all"&&ie&&s.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:$m(ie.portfolioName)}),ie.ownerName&&s.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:["(",E(ie.ownerName,"name"),")"]}),s.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[" ",Ae.filter(oe=>oe.units>0).length," funds"]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs tabular-nums",children:[s.jsx("span",{className:"text-[var(--text-muted)]",children:Q(ie.currentValue||0)}),s.jsxs("span",{className:`font-bold ${ke?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ke?"+":"",Q(We)]})]})]}),s.jsx("div",{className:"hidden lg:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:`border-b border-[var(--border-light)] ${O!=="all"?"bg-[var(--bg-inset)]":""}`,children:[s.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund Name"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),s.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[s.jsx("div",{children:"NAV"}),s.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Avg"})]}),s.jsxs("th",{className:"text-center py-2 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[s.jsx("div",{children:"ATH"}),s.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Below Peak"})]}),s.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[s.jsx("div",{children:"Allocation %"}),s.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),s.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[s.jsx("div",{children:"Amount"}),s.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Invested"})]}),s.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[s.jsx("div",{children:"P&L"}),s.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"on Holdings"})]}),s.jsx("th",{className:"py-2 px-2 w-8"})]})}),s.jsx("tbody",{children:Ae.map(oe=>{const Ge=S_(oe.belowATHPct),Fe=oe.units===0,Ht=Se.find(Ne=>Ne.portfolioId===oe.portfolioId),Wt=Ht?.currentValue||0,$t=W===oe._key,He=oe.pl,Ze=He>=0,je=Fe&&oe.targetAllocationPct>0&&oe.targetAllocationPct<100&&Wt>0?oe.targetAllocationPct/(100-oe.targetAllocationPct)*Wt:0,Je=Fe&&oe.targetAllocationPct>0&&Ht?.sipTarget>=100?oe.targetAllocationPct/100*Ht.sipTarget:0,Ue=$t?(n||[]).filter(Ne=>Ne.portfolioId===oe.portfolioId&&Ne.fundCode===oe.schemeCode).sort((Ne,Rr)=>(da(Rr.date)||0)-(da(Ne.date)||0)):[],Lt=$[oe._key]||5,Yr=Ue.slice(0,Lt),Dr=Ne=>{const Rr=da(Ne);return Rr?Math.floor((new Date-Rr)/864e5):null};return s.jsxs(ce.Fragment,{children:[s.jsxs("tr",{onClick:()=>!Fe&&fe(oe._key),className:`border-b border-[var(--border-light)] last:border-0 transition-colors ${Fe?"opacity-60":"cursor-pointer hover:bg-[var(--bg-hover)]"} ${$t?"bg-[var(--bg-hover)]":""}`,children:[s.jsx("td",{className:"py-2.5 px-3 max-w-[240px]",children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[!Fe&&s.jsx(Oi,{size:12,className:`shrink-0 text-[var(--text-dim)] transition-transform ${$t?"rotate-180":""}`}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-[var(--text-primary)] leading-tight",children:[oe.fundName,Fe&&s.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]}),Fe&&(je>0||Je>0)&&s.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[je>0&&s.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",Q(je)]}),Je>0&&s.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",Q(Je),"/mo"]})]})]})]})}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Fe?"":oe.units.toFixed(2)}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:Fe?s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:["",oe.currentNav.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["",oe.avgNav.toFixed(2)]})]})}),s.jsx("td",{className:"py-2.5 px-2 text-center",children:Fe?s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):oe.athNav>0&&oe.belowATHPct>0?s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-bold tabular-nums",style:Ge,children:["",oe.belowATHPct.toFixed(1),"%"]}),s.jsxs("p",{className:"text-[11px] text-[var(--text-muted)] tabular-nums",children:["",oe.athNav.toFixed(0)]})]}):oe.athNav>0?s.jsx("span",{className:"text-[10px] text-emerald-400/70 font-semibold",children:"AT HIGH"}):s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:Fe?s.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums",children:[oe.targetAllocationPct.toFixed(1),"%"]}):s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[oe.currentAllocationPct.toFixed(1),"%"]}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[oe.targetAllocationPct.toFixed(1),"%"]})]})}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:Fe?s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(oe.currentValue)}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:Q(oe.investment)})]})}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:Fe?s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ze?"+":"",Q(He)]}),s.jsxs("p",{className:`text-xs font-bold tabular-nums ${Ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ze?"+":"",oe.plPct.toFixed(1),"%"]})]})}),s.jsx("td",{className:"py-2.5 px-2 text-center",children:s.jsxs("div",{className:"flex items-center gap-0.5 justify-center",children:[s.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),P({invest:{portfolioId:oe.portfolioId,fundCode:oe.schemeCode,fundName:oe.fundName}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25 transition-colors",title:"Buy / Invest",children:s.jsx(Or,{size:14,strokeWidth:2.5})}),!Fe&&s.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),P({redeem:{portfolioId:oe.portfolioId,fundCode:oe.schemeCode}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-rose-500/15 text-rose-400 hover:bg-rose-500/25 transition-colors",title:"Sell / Redeem",children:s.jsx(G0,{size:14,strokeWidth:2.5})})]})})]}),$t&&!Fe&&s.jsx("tr",{className:"border-b border-[var(--border-light)]",children:s.jsx("td",{colSpan:8,className:"p-0",children:s.jsxs("div",{className:"bg-[var(--bg-expanded)] border-t border-[var(--border-light)]",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row",children:[s.jsx("div",{className:"lg:w-52 shrink-0 p-4 border-b lg:border-b-0 lg:border-r border-[var(--border-light)]",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Units"}),s.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:oe.units.toFixed(3)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Avg NAV"}),s.jsxs("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:["",oe.avgNav.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Invested"}),s.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:Q(oe.investment)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Current Value"}),s.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:Q(oe.currentValue)})]}),oe.ongoingSIP>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Monthly SIP"}),s.jsx("p",{className:"text-base font-bold text-blue-400 tabular-nums",children:Q(oe.ongoingSIP)})]}),s.jsxs("div",{className:"pt-3 border-t border-[var(--border-light)] flex gap-2",children:[s.jsxs("button",{onClick:Ne=>{Ne.stopPropagation(),P({invest:{portfolioId:oe.portfolioId,fundCode:oe.schemeCode,fundName:oe.fundName}})},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-emerald-400 bg-emerald-500/10 hover:bg-emerald-500/20 rounded-lg transition-colors",children:[s.jsx("span",{className:"w-5 h-5 flex items-center justify-center rounded-full bg-emerald-500/20",children:s.jsx(Or,{size:12,strokeWidth:2.5})})," Buy"]}),s.jsxs("button",{onClick:Ne=>{Ne.stopPropagation(),P({redeem:{portfolioId:oe.portfolioId,fundCode:oe.schemeCode}})},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-rose-400 bg-rose-500/10 hover:bg-rose-500/20 rounded-lg transition-colors",children:[s.jsx("span",{className:"w-5 h-5 flex items-center justify-center rounded-full bg-rose-500/20",children:s.jsx(G0,{size:12,strokeWidth:2.5})})," Sell"]})]})]})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"px-4 pt-3 pb-1",children:s.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:"Transactions"})}),Ue.length===0?s.jsx("p",{className:"py-8 text-xs text-[var(--text-dim)] text-center",children:"No transactions recorded"}):s.jsxs(s.Fragment,{children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[s.jsx("th",{className:"text-left py-2 px-4 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Date"}),s.jsx("th",{className:"text-left py-2 px-2 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Type"}),s.jsx("th",{className:"text-center py-2 px-2 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Days"}),s.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Amount"}),s.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"NAV"}),s.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Units"}),s.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"P&L"}),s.jsx("th",{className:"w-8 py-2 px-1"})]})}),s.jsx("tbody",{children:Yr.map((Ne,Rr)=>{const ci=da(Ne.date),ka=!!ci,ui=ka?ci.toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):Ne.date||"",Da=ka?Dr(Ne.date):null,is=Ne.type==="BUY",ss=!is&&Ne.gainLoss!=null&&Ne.gainLoss!==0,al=ss&&Ne.gainLoss>=0;return s.jsxs("tr",{className:"group border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)] tabular-nums whitespace-nowrap",children:ui}),s.jsx("td",{className:"py-2.5 px-2",children:s.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded ${is?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:Ne.transactionType||Ne.type})}),s.jsx("td",{className:"py-2.5 px-2 text-xs text-[var(--text-dim)] tabular-nums text-center",children:Da??""}),s.jsx("td",{className:"py-2.5 px-3 text-xs font-semibold text-[var(--text-primary)] tabular-nums text-right",children:Q(Ne.totalAmount)}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums text-right",children:Number(Ne.price).toFixed(4)}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums text-right",children:Number(Ne.units).toFixed(3)}),s.jsx("td",{className:`py-2.5 px-3 text-xs font-semibold tabular-nums text-right ${ss?al?"text-emerald-400":"text-[var(--accent-rose)]":"text-[var(--text-dim)]"}`,children:ss?`${al?"+":""}${Q(Ne.gainLoss)}`:""}),s.jsx("td",{className:"py-2.5 px-1",children:s.jsx(qm,{txn:Ne,isOpen:xe===Ne.transactionId,onToggle:()=>B(xe===Ne.transactionId?null:Ne.transactionId),onEdit:()=>{B(null),P({editTxn:Ne})},onDelete:()=>{B(null),la(Ne.transactionId)}})})]},Ne.transactionId||`txn-${Rr}`)})})]}),Ue.length>Lt&&s.jsx("div",{className:"py-2 text-center border-t border-[var(--border-light)]",children:s.jsxs("button",{onClick:Ne=>{Ne.stopPropagation(),Oe(oe._key)},className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:["Show More (",Ue.length-Lt," remaining)"]})})]})]})]}),s.jsx("div",{className:"flex justify-center py-1.5 border-t border-[var(--border-light)]",children:s.jsx("button",{onClick:()=>fe(oe._key),className:"p-0.5 text-[var(--text-dim)] hover:text-[var(--text-muted)]",children:s.jsx(RF,{size:14})})})]})})})]},oe._key)})})]})}),s.jsx("div",{className:"lg:hidden divide-y divide-[var(--border-light)]",children:Ae.map(oe=>{const Ge=S_(oe.belowATHPct),Fe=oe.units===0,Ht=Se.find(Ne=>Ne.portfolioId===oe.portfolioId),Wt=Ht?.currentValue||0,$t=W===oe._key,He=oe.pl,Ze=He>=0,je=Fe&&oe.targetAllocationPct>0&&oe.targetAllocationPct<100&&Wt>0?oe.targetAllocationPct/(100-oe.targetAllocationPct)*Wt:0,Je=Fe&&oe.targetAllocationPct>0&&Ht?.sipTarget>=100?oe.targetAllocationPct/100*Ht.sipTarget:0,Ue=$t?(n||[]).filter(Ne=>Ne.portfolioId===oe.portfolioId&&Ne.fundCode===oe.schemeCode).sort((Ne,Rr)=>(da(Rr.date)||0)-(da(Ne.date)||0)):[],Lt=$[oe._key]||5,Yr=Ue.slice(0,Lt),Dr=Ne=>{const Rr=da(Ne);return Rr?Math.floor((new Date-Rr)/864e5):null};return s.jsxs("div",{className:Fe?"opacity-60":"",children:[s.jsxs("div",{onClick:()=>!Fe&&fe(oe._key),className:`px-4 py-3 ${Fe?"":"cursor-pointer"} ${$t?"bg-[var(--bg-hover)]":""}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-1.5",children:[s.jsxs("div",{className:"flex-1 mr-3",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[!Fe&&s.jsx(Oi,{size:12,className:`shrink-0 text-[var(--text-dim)] transition-transform ${$t?"rotate-180":""}`}),s.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:[oe.fundName,Fe&&s.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]})]}),Fe&&(je>0||Je>0)&&s.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[je>0&&s.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",Q(je)]}),Je>0&&s.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",Q(Je),"/mo"]})]})]}),Fe?s.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums shrink-0",children:["Target: ",oe.targetAllocationPct.toFixed(1),"%"]}):s.jsxs("div",{className:"text-right shrink-0",children:[s.jsxs("p",{className:`text-xs font-bold tabular-nums ${Ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ze?"+":"",Q(He)]}),s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ze?"+":"",oe.plPct.toFixed(1),"%"]})]})]}),Fe?s.jsx("div",{className:"flex items-center justify-end mt-1",children:s.jsxs("button",{onClick:Ne=>{Ne.stopPropagation(),P({invest:{portfolioId:oe.portfolioId,fundCode:oe.schemeCode,fundName:oe.fundName}})},className:"shrink-0 flex items-center gap-1 text-[10px] font-semibold text-emerald-400 hover:text-emerald-300 px-2 py-0.5 rounded bg-emerald-500/10",children:[s.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-emerald-500/20",children:s.jsx(Or,{size:10,strokeWidth:2.5})})," Buy"]})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-[var(--text-dim)] gap-2",children:[s.jsxs("div",{className:"min-w-0 truncate",children:[s.jsxs("span",{children:[oe.units.toFixed(2)," units"]}),s.jsx("span",{className:"mx-1",children:""}),s.jsxs("span",{children:["NAV ",oe.currentNav.toFixed(2)," / ",oe.avgNav.toFixed(2)]})]}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums shrink-0",children:Q(oe.currentValue)})]}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] flex-wrap",children:[s.jsxs("span",{children:["Alloc: ",oe.currentAllocationPct.toFixed(1),"% / ",oe.targetAllocationPct.toFixed(1),"%"]}),oe.athNav>0&&oe.belowATHPct>0?s.jsxs("span",{className:"font-bold tabular-nums",style:Ge,children:["ATH ",oe.belowATHPct.toFixed(1),"%"]}):oe.athNav>0?s.jsx("span",{className:"text-emerald-400/70 font-semibold text-[10px]",children:"AT HIGH"}):null]}),s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[s.jsxs("button",{onClick:Ne=>{Ne.stopPropagation(),P({invest:{portfolioId:oe.portfolioId,fundCode:oe.schemeCode,fundName:oe.fundName}})},className:"flex items-center gap-1 text-[10px] font-semibold text-emerald-400 hover:text-emerald-300 px-2 py-0.5 rounded bg-emerald-500/10",children:[s.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-emerald-500/20",children:s.jsx(Or,{size:10,strokeWidth:2.5})})," Buy"]}),s.jsxs("button",{onClick:Ne=>{Ne.stopPropagation(),P({redeem:{portfolioId:oe.portfolioId,fundCode:oe.schemeCode}})},className:"flex items-center gap-1 text-[10px] font-semibold text-rose-400 hover:text-rose-300 px-2 py-0.5 rounded bg-rose-500/10",children:[s.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-rose-500/20",children:s.jsx(G0,{size:10,strokeWidth:2.5})})," Sell"]})]})]})]})]}),$t&&!Fe&&s.jsxs("div",{className:"bg-[var(--bg-inset)] border-l-2 border-l-violet-500/40 px-4 pb-3",children:[s.jsx("div",{className:"flex items-center justify-between py-2",children:s.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:["Transactions (",Ue.length,")"]})}),Ue.length===0?s.jsx("p",{className:"py-4 text-xs text-[var(--text-dim)] text-center",children:"No transactions recorded"}):s.jsxs("div",{className:"space-y-2",children:[Yr.map((Ne,Rr)=>{const ci=Dr(Ne.date),ka=Ne.type==="BUY",ui=!ka&&Ne.gainLoss!=null&&Ne.gainLoss!==0,Da=ui&&Ne.gainLoss>=0;return s.jsxs("div",{className:"flex items-center justify-between text-xs bg-[var(--bg-card)] rounded-lg px-3 py-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"text-[var(--text-secondary)]",children:(da(Ne.date)||new Date).toLocaleDateString("en-IN",{day:"2-digit",month:"short"})}),s.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${ka?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:Ne.transactionType||Ne.type}),s.jsxs("span",{className:"text-[var(--text-dim)]",children:[ci,"d"]})]}),s.jsxs("p",{className:"text-[var(--text-dim)] mt-0.5",children:[Number(Ne.units).toFixed(3)," units @ ",Number(Ne.price).toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-semibold text-[var(--text-primary)] tabular-nums",children:Q(Ne.totalAmount)}),ui&&s.jsxs("p",{className:`font-semibold tabular-nums ${Da?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Da?"+":"",Q(Ne.gainLoss)]})]}),s.jsx(qm,{txn:Ne,isOpen:xe===Ne.transactionId,onToggle:()=>B(xe===Ne.transactionId?null:Ne.transactionId),onEdit:()=>{B(null),P({editTxn:Ne})},onDelete:()=>{B(null),la(Ne.transactionId)}})]})]},Ne.transactionId||`txn-${Rr}`)}),Ue.length>Lt&&s.jsxs("button",{onClick:()=>Oe(oe._key),className:"w-full py-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 text-center",children:["Show More (",Ue.length-Lt," remaining)"]})]})]})]},oe._key)})})]},Y.portfolioId)})}):s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[s.jsx(Jm,{size:28,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",qe?" in this portfolio":""]}),s.jsx("button",{onClick:()=>P({invest:O!=="all"?O:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Add your first fund"})]})}),R==="transactions"&&s.jsxs(s.Fragment,{children:[ve.length>1&&s.jsxs("div",{className:"flex items-center gap-2 px-1",children:[s.jsx(UO,{size:12,className:"text-[var(--text-dim)]"}),s.jsxs("select",{value:L,onChange:Y=>te(Y.target.value),className:"text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg px-3 py-1.5 max-w-[350px] truncate",children:[s.jsxs("option",{value:"all",children:["All Funds (",$e.length,")"]}),ve.map(Y=>s.jsxs("option",{value:Y,children:[Y," (",$e.filter(ie=>ie.fundName===Y).length,")"]},Y))]}),L!=="all"&&s.jsx("button",{onClick:()=>te("all"),className:"text-xs text-[var(--text-dim)] hover:text-[var(--text-muted)] underline",children:"Clear"})]}),tt.length>0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"}),s.jsx("th",{className:"w-8"})]})}),s.jsx("tbody",{children:tt.map((Y,ie)=>{const Ae=Y.type==="BUY",We=!Ae&&Y.gainLoss!=null&&Y.gainLoss!==0,ke=We&&Y.gainLoss>=0,oe=O==="all"?Se.find(Fe=>Fe.portfolioId===Y.portfolioId):null,Ge={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[Y.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:Y.date}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${Ae?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:Y.type}),s.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${Ge.bg} ${Ge.text}`,children:Y.transactionType})]})}),s.jsxs("td",{className:"py-2.5 px-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate max-w-[200px]",children:Y.fundName}),oe&&s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:$m(oe.portfolioName)})]}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Y.units.toFixed(2)}),s.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",Y.price.toFixed(2)]}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(Y.totalAmount)}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:We?s.jsxs("span",{className:`text-xs font-semibold tabular-nums ${ke?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ke?"+":"",Q(Y.gainLoss)]}):s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),s.jsx("td",{className:"py-2.5 px-1",children:s.jsx(qm,{txn:Y,isOpen:xe===Y.transactionId,onToggle:()=>B(xe===Y.transactionId?null:Y.transactionId),onEdit:()=>{B(null),P({editTxn:Y})},onDelete:()=>{B(null),la(Y.transactionId)}})})]},Y.transactionId||`txn-${ie}`)})})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:tt.map((Y,ie)=>{const Ae=Y.type==="BUY",We=!Ae&&Y.gainLoss!=null&&Y.gainLoss!==0,ke=We&&Y.gainLoss>=0;return s.jsxs("div",{className:"px-4 py-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${Ae?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:Y.type}),s.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:Y.transactionType})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Y.date}),s.jsx(qm,{txn:Y,isOpen:xe===Y.transactionId,onToggle:()=>B(xe===Y.transactionId?null:Y.transactionId),onEdit:()=>{B(null),P({editTxn:Y})},onDelete:()=>{B(null),la(Y.transactionId)}})]})]}),s.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate mb-1",children:Y.fundName}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("p",{className:"text-[var(--text-dim)]",children:[Y.units.toFixed(2)," units @ ",Y.price.toFixed(2)]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(Y.totalAmount)}),We&&s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ke?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",ke?"+":"",Q(Y.gainLoss)]})]})]}),Y.notes&&s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:Y.notes})]},Y.transactionId||`txn-m-${ie}`)})})]}):s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[s.jsx(gp,{size:28,className:"text-[var(--text-dim)]"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:L!=="all"?"No transactions for this fund":"No transactions yet"}),L!=="all"?s.jsx("button",{onClick:()=>te("all"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Show all transactions"}):s.jsx("button",{onClick:()=>P({invest:O!=="all"?O:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first investment"})]})]}),R==="breakdown"&&s.jsx(s.Fragment,{children:Ie.length>0?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Copy allocation data from ",s.jsx("span",{className:"font-semibold text-[var(--text-muted)]",children:"morningstar.in"}),"  Fund  Portfolio tab"]}),Ie.map(Y=>{const ie=w?.find(Ae=>Ae.fundCode===Y.fundCode);return s.jsx(Xse,{fund:Y,existing:ie,onConfigure:()=>P({classifyFund:{fund:Y,existing:ie}})},Y.fundCode)})]}):s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[s.jsx(CC,{size:28,className:"text-[var(--text-dim)]"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No funds to configure"})]})})]}),s.jsx(pr,{open:T==="addPortfolio"||!!T?.editPortfolio,onClose:()=>P(null),title:T?.editPortfolio?"Edit Portfolio":"New MF Portfolio",children:s.jsx(Vie,{initial:T?.editPortfolio||void 0,onSave:ot,onDelete:T?.editPortfolio?St:void 0,onCancel:()=>P(null)})}),s.jsx(pr,{open:!!T?.invest,onClose:()=>P(null),title:"Invest in Mutual Fund",wide:!0,children:s.jsx(Ise,{portfolioId:typeof T?.invest=="object"?T.invest.portfolioId:typeof T?.invest=="string"?T.invest:void 0,fundCode:typeof T?.invest=="object"?T.invest.fundCode:void 0,fundName:typeof T?.invest=="object"?T.invest.fundName:void 0,onSave:tr,onCancel:()=>P(null)},T?.invest?.fundCode||T?.invest?.portfolioId||T?.invest)}),s.jsx(pr,{open:!!T?.redeem,onClose:()=>P(null),title:"Redeem Mutual Fund",wide:!0,children:s.jsx(Rse,{portfolioId:typeof T?.redeem=="object"?T.redeem.portfolioId:typeof T?.redeem=="string"?T.redeem:void 0,fundCode:typeof T?.redeem=="object"?T.redeem.fundCode:void 0,onSave:rr,onCancel:()=>P(null)},T?.redeem?.fundCode||T?.redeem?.portfolioId||T?.redeem)}),s.jsx(pr,{open:!!T?.switchFunds,onClose:()=>P(null),title:"Switch Funds",wide:!0,children:s.jsx(Lse,{portfolioId:typeof T?.switchFunds=="string"?T.switchFunds:void 0,onSave:as,onCancel:()=>P(null)})}),s.jsx(pr,{open:!!T?.allocations,onClose:()=>P(null),title:"Manage Portfolio Allocation",wide:!0,children:T?.allocations&&s.jsx(zse,{portfolioId:T.allocations,onSave:be,onCancel:()=>P(null)})}),s.jsx(pr,{open:T==="rebalance",onClose:()=>P(null),title:"Rebalance Alerts",wide:!0,children:T==="rebalance"&&s.jsx(oI,{})}),s.jsx(pr,{open:T==="buyOpp",onClose:()=>P(null),title:"Buy Opportunities",wide:!0,children:T==="buyOpp"&&s.jsx(j3,{})}),s.jsx(pr,{open:!!T?.editTxn,onClose:()=>P(null),title:"Edit Transaction",children:T?.editTxn&&s.jsx(Wse,{txn:T.editTxn,onSave:ue,onCancel:()=>P(null)})}),s.jsx(pr,{open:!!T?.classifyFund,onClose:()=>P(null),title:"Classify Fund",children:T?.classifyFund&&s.jsx(Fse,{fund:T.classifyFund.fund,initial:T.classifyFund.existing,onSave:ze,onCancel:()=>P(null)})})]})}function Go({label:e,value:t,sub:r,positive:n,bold:a}){return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t}),r&&s.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function qm({txn:e,isOpen:t,onToggle:r,onEdit:n,onDelete:a}){const l=j.useRef(null),[c,u]=j.useState({top:0,right:0});if(!e.transactionId)return null;function f(m){if(m.stopPropagation(),!t&&l.current){const h=l.current.getBoundingClientRect();u({top:h.bottom+4,right:window.innerWidth-h.right})}r()}return s.jsxs(s.Fragment,{children:[s.jsx("button",{ref:l,onClick:f,className:"p-1 rounded-md text-[var(--text-dim)] hover:text-[var(--text-muted)] hover:bg-[var(--bg-hover)] transition-colors",title:"Actions",children:s.jsx(JF,{size:14})}),t&&Cd.createPortal(s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{position:"fixed",inset:0,zIndex:9998},onClick:m=>{m.stopPropagation(),r()}}),s.jsxs("div",{style:{position:"fixed",top:c.top,right:c.right,zIndex:9999},className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl py-1 min-w-[120px] animate-fade-in",children:[s.jsxs("button",{onClick:m=>{m.stopPropagation(),n()},className:"w-full text-left px-3 py-2 text-xs text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)] flex items-center gap-2 transition-colors",children:[s.jsx(Aa,{size:12})," Edit"]}),s.jsxs("button",{onClick:m=>{m.stopPropagation(),a()},className:"w-full text-left px-3 py-2 text-xs text-[var(--accent-rose)] hover:bg-rose-500/10 flex items-center gap-2 transition-colors",children:[s.jsx(_h,{size:12})," Delete"]})]})]}),document.body)]})}function Wse({txn:e,onSave:t,onCancel:r}){const[n,a]=j.useState(()=>{const w=da(e.date);return w?w.toISOString().split("T")[0]:""}),[l,c]=j.useState(String(e.units||"")),[u,f]=j.useState(String(e.price||"")),[m,h]=j.useState(e.notes||""),[v,x]=j.useState(!1),b=(Number(l)||0)*(Number(u)||0);async function S(){if(!(!l||Number(l)<=0)&&!(!u||Number(u)<=0)){x(!0);try{await t({transactionId:e.transactionId,date:n,units:l,price:u,notes:m})}finally{x(!1)}}}return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:e.fundName}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[e.type,"  ",e.transactionType,"  ",e.transactionId]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Date"}),s.jsx(ei,{value:n,onChange:a})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Units"}),s.jsx("input",{type:"number",value:l,onChange:w=>c(w.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"NAV (price)"}),s.jsx("input",{type:"number",value:u,onChange:w=>f(w.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]})]}),b>0&&s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(b)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Notes"}),s.jsx("input",{type:"text",value:m,onChange:w=>h(w.target.value),placeholder:"Optional notes...",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-[var(--border-light)]",children:[s.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:"Cancel"}),s.jsx("button",{onClick:S,disabled:v||!l||Number(l)<=0||!u||Number(u)<=0,className:"px-4 py-2 text-xs font-bold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Saving...":"Update Transaction"})]})]})}const C_=[{key:"Equity",bg:"bg-violet-500"},{key:"Debt",bg:"bg-sky-500"},{key:"Cash",bg:"bg-teal-400"},{key:"Commodities",bg:"bg-yellow-500"},{key:"Real Estate",bg:"bg-orange-500"},{key:"Other",bg:"bg-slate-400"}],Kse={Giant:"G",Large:"L",Mid:"M",Small:"S",Micro:"Mi"},Qse={India:"IN",Global:"GL"};function Xse({fund:e,existing:t,onConfigure:r}){const n=t?.assetAllocation&&Object.keys(t.assetAllocation).length>0,a=t?.equityAllocation&&Object.keys(t.equityAllocation).length>0,l=t?.geoAllocation&&Object.keys(t.geoAllocation).length>0;return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:e.fundName}),s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:e.fundCode})]}),s.jsx("button",{onClick:r,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-violet-400 hover:bg-violet-500/10 transition-colors shrink-0 ml-3",title:"Classify fund",children:s.jsx(ZO,{size:14})})]}),n?s.jsxs("div",{className:"px-4 pb-3",children:[s.jsx("div",{className:"h-2 rounded-full overflow-hidden bg-[var(--bg-inset)] flex mb-1.5",children:C_.map(({key:c,bg:u})=>{const f=t.assetAllocation[c]||0;return f>0?s.jsx("div",{className:`h-full ${u}`,style:{width:`${f}%`}},c):null})}),s.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-0.5",children:[C_.map(({key:c,bg:u})=>{const f=t.assetAllocation[c]||0;return f>0?s.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-[var(--text-muted)] tabular-nums",children:[s.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${u}`}),f,"% ",c]},c):null}),a&&s.jsxs("span",{className:"text-[11px] text-[var(--text-dim)] tabular-nums ml-1",children:["| ",Object.entries(Kse).map(([c,u])=>{const f=t.equityAllocation[c]||0;return f>0?`${u}${f}`:""}).filter(Boolean).join(" ")]}),l&&s.jsxs("span",{className:"text-[11px] text-[var(--text-dim)] tabular-nums ml-1",children:["| ",Object.entries(Qse).map(([c,u])=>{const f=t.geoAllocation[c]||0;return f>0?`${u}${f}`:""}).filter(Boolean).join(" ")]})]})]}):s.jsxs("div",{className:"px-4 pb-3",children:[s.jsx("div",{className:"h-2 rounded-full bg-[var(--bg-inset)] mb-1"}),s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] italic",children:"Not configured  click  to classify"})]})]})}function Vb({title:e,data:t,bgMap:r}){return s.jsxs("div",{className:"rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-3",children:[s.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider mb-2 text-center",children:e}),s.jsx("div",{className:"w-full h-[120px]",children:s.jsx(NT,{width:"100%",height:"100%",children:s.jsxs(y3,{children:[s.jsx(Xw,{data:t,dataKey:"pct",nameKey:"name",cx:"50%",cy:"50%",innerRadius:30,outerRadius:48,paddingAngle:2,stroke:"none",children:t.map((n,a)=>s.jsx(Yd,{fill:n.fill},a))}),s.jsx(B4,{content:({payload:n})=>{if(!n?.length)return null;const a=n[0].payload;return s.jsxs("div",{className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg px-2.5 py-1.5 shadow-xl",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:a.name}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[a.pct.toFixed(1),"%"]})]})}})]})})}),s.jsx("div",{className:"flex flex-wrap justify-center gap-x-3 gap-y-0.5 mt-1",children:t.map(n=>s.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-[var(--text-muted)] tabular-nums",children:[s.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${r[n.name]||"bg-slate-500"}`}),n.name," ",n.pct.toFixed(0),"%"]},n.name))})]})}function Zse({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:a,activeInvestmentAccounts:l}=ht(),c=!!e,[u,f]=j.useState({portfolioName:e?.portfolioName||"",ownerId:e?.ownerId||"",investmentAccountId:e?.investmentAccountId||""}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(A,_){f(E=>({...E,[A]:_})),h(E=>({...E,[A]:void 0}))}function S(A){f(_=>({..._,ownerId:A,investmentAccountId:""})),h(_=>({..._,ownerId:void 0}))}const w=j.useMemo(()=>u.ownerId?l.filter(A=>A.memberId===u.ownerId&&(A.accountType==="Demat + Trading"||A.accountType==="Trading")).map(A=>({value:A.accountId,label:`${A.accountName} - ${A.platformBroker}`})):[],[l,u.ownerId]);function y(){const A={};return u.portfolioName.trim()||(A.portfolioName="Required"),u.ownerId||(A.ownerId="Required"),u.investmentAccountId||(A.investmentAccountId="Required"),h(A),Object.keys(A).length===0}async function C(){if(y()){x(!0);try{await t(u)}finally{x(!1)}}}const M=a.map(A=>({value:A.memberId,label:`${A.memberName} (${A.relationship})`}));return s.jsxs("div",{className:"space-y-4",children:[s.jsx(le,{label:"Portfolio Name",required:!0,error:m.portfolioName,children:s.jsx(Me,{value:u.portfolioName,onChange:A=>b("portfolioName",A),placeholder:"e.g., Long-Term Growth"})}),s.jsx(le,{label:"Owner",required:!0,error:m.ownerId,children:s.jsx(Qe,{value:u.ownerId,onChange:S,options:M,placeholder:"Select family member..."})}),s.jsx(le,{label:"Investment Account",required:!0,error:m.investmentAccountId,children:s.jsx(Qe,{value:u.investmentAccountId,onChange:A=>b("investmentAccountId",A),options:w,placeholder:u.ownerId?w.length?"Select demat account...":"No demat accounts for this member":"Select owner first..."})}),c&&r&&s.jsx(rs,{onClick:r}),s.jsx(nn,{onCancel:n,onSubmit:C,submitLabel:c?"Update":"Create Portfolio",loading:v})]})}function Jse({portfolioId:e,onSave:t,onCancel:r}){const{stockPortfolios:n}=ht(),{selectedMember:a}=Hr(),l=j.useMemo(()=>{const M=n.filter(A=>A.status==="Active");return a==="all"?M:M.filter(A=>A.ownerId===a)},[n,a]),[c,u]=j.useState({portfolioId:e||"",symbol:"",companyName:"",exchange:"NSE",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[f,m]=j.useState({}),[h,v]=j.useState(!1);function x(M,A){u(_=>({..._,[M]:A})),m(_=>({..._,[M]:void 0}))}const b=j.useMemo(()=>{const M=Number(c.quantity)||0,A=Number(c.pricePerShare)||0;return M*A},[c.quantity,c.pricePerShare]),S=j.useMemo(()=>b+(Number(c.brokerage)||0),[b,c.brokerage]);function w(){const M={};return c.portfolioId||(M.portfolioId="Required"),c.symbol.trim()||(M.symbol="Required"),c.companyName.trim()||(M.companyName="Required"),c.date||(M.date="Required"),(!c.quantity||Number(c.quantity)<=0)&&(M.quantity="Must be > 0"),(!c.pricePerShare||Number(c.pricePerShare)<=0)&&(M.pricePerShare="Must be > 0"),m(M),Object.keys(M).length===0}async function y(){if(w()){v(!0);try{await t(c)}finally{v(!1)}}}const C=l.map(M=>{const A=M.portfolioName?.replace(/^PFL-/,"")||M.portfolioName,_=M.ownerName?`${A} (${M.ownerName})`:A;return{value:M.portfolioId,label:_}});return s.jsxs("div",{className:"space-y-4",children:[s.jsx(le,{label:"Portfolio",required:!0,error:f.portfolioId,children:s.jsx(Qe,{value:c.portfolioId,onChange:M=>x("portfolioId",M),options:C,placeholder:"Select portfolio..."})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Stock Symbol",required:!0,error:f.symbol,children:s.jsx(Me,{value:c.symbol,onChange:M=>x("symbol",M.toUpperCase()),placeholder:"e.g., RELIANCE"})}),s.jsx(le,{label:"Company Name",required:!0,error:f.companyName,children:s.jsx(Me,{value:c.companyName,onChange:M=>x("companyName",M),placeholder:"e.g., Reliance Industries Ltd"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(le,{label:"Purchase Date",required:!0,error:f.date,children:s.jsx(ei,{value:c.date,onChange:M=>x("date",M)})}),s.jsx(le,{label:"Quantity (Shares)",required:!0,error:f.quantity,children:s.jsx(Me,{type:"number",value:c.quantity,onChange:M=>x("quantity",M),placeholder:"e.g., 100"})}),s.jsx(le,{label:"Price per Share ()",required:!0,error:f.pricePerShare,children:s.jsx(Me,{type:"number",value:c.pricePerShare,onChange:M=>x("pricePerShare",M),placeholder:"e.g., 2500"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Brokerage ()",children:s.jsx(Me,{type:"number",value:c.brokerage,onChange:M=>x("brokerage",M),placeholder:"0"})}),s.jsx("div",{className:"flex flex-col justify-end",children:s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(b)}),Number(c.brokerage)>0&&s.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:["Net: ",Q(S)]})]})})]}),s.jsx(le,{label:"Notes",children:s.jsx(Me,{value:c.notes,onChange:M=>x("notes",M),placeholder:"Optional notes..."})}),s.jsx(nn,{onCancel:r,onSubmit:y,submitLabel:"Buy Stock",loading:h})]})}function ele({portfolioId:e,onSave:t,onCancel:r}){const{stockPortfolios:n,stockHoldings:a}=ht(),{selectedMember:l}=Hr(),c=j.useMemo(()=>{const z=n.filter(R=>R.status==="Active");return l==="all"?z:z.filter(R=>R.ownerId===l)},[n,l]),[u,f]=j.useState({portfolioId:e||"",symbol:"",companyName:"",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(z,R){f(F=>({...F,[z]:R})),h(F=>({...F,[z]:void 0}))}const S=j.useMemo(()=>u.portfolioId?a.filter(z=>z.portfolioId===u.portfolioId&&z.quantity>0):[],[a,u.portfolioId]),w=S.find(z=>z.symbol===u.symbol),y=w?.quantity||0,C=j.useMemo(()=>{const z=Number(u.quantity)||0,R=Number(u.pricePerShare)||0;return z*R},[u.quantity,u.pricePerShare]),M=j.useMemo(()=>C-(Number(u.brokerage)||0),[C,u.brokerage]);function A(z){const R=S.find(F=>F.symbol===z);f(F=>({...F,symbol:z,companyName:R?.companyName||""})),h(F=>({...F,symbol:void 0}))}function _(z){f(R=>({...R,portfolioId:z,symbol:"",companyName:"",quantity:""})),h(R=>({...R,portfolioId:void 0}))}function E(){const z={};return u.portfolioId||(z.portfolioId="Required"),u.symbol||(z.symbol="Required"),u.date||(z.date="Required"),(!u.quantity||Number(u.quantity)<=0)&&(z.quantity="Must be > 0"),Number(u.quantity)>y&&(z.quantity=`Max ${y} shares`),(!u.pricePerShare||Number(u.pricePerShare)<=0)&&(z.pricePerShare="Must be > 0"),h(z),Object.keys(z).length===0}async function T(){if(E()){x(!0);try{await t(u)}finally{x(!1)}}}const P=c.map(z=>{const R=z.portfolioName?.replace(/^PFL-/,"")||z.portfolioName,F=z.ownerName?`${R} (${z.ownerName})`:R;return{value:z.portfolioId,label:F}}),O=S.map(z=>({value:z.symbol,label:`${z.symbol}  ${z.quantity} shares`}));return s.jsxs("div",{className:"space-y-4",children:[s.jsx(le,{label:"Portfolio",required:!0,error:m.portfolioId,children:s.jsx(Qe,{value:u.portfolioId,onChange:_,options:P,placeholder:"Select portfolio..."})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Stock to Sell",required:!0,error:m.symbol,children:s.jsx(Qe,{value:u.symbol,onChange:A,options:O,placeholder:u.portfolioId?S.length?"Select stock...":"No holdings in this portfolio":"Select portfolio first..."})}),w&&s.jsx("div",{className:"flex flex-col justify-end",children:s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:w.companyName}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:y})," shares @ ",Q(w.avgBuyPrice)," avg"]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Sale Date",required:!0,error:m.date,children:s.jsx(ei,{value:u.date,onChange:z=>b("date",z)})}),s.jsx(le,{label:"Quantity to Sell",required:!0,error:m.quantity,children:s.jsx(Me,{type:"number",value:u.quantity,onChange:z=>b("quantity",z),placeholder:y?`Max: ${y}`:""})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Sale Price per Share ()",required:!0,error:m.pricePerShare,children:s.jsx(Me,{type:"number",value:u.pricePerShare,onChange:z=>b("pricePerShare",z),placeholder:"e.g., 2750"})}),s.jsx(le,{label:"Brokerage ()",children:s.jsx(Me,{type:"number",value:u.brokerage,onChange:z=>b("brokerage",z),placeholder:"0"})})]}),C>0&&s.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Net Sale Amount"}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(M)})]}),w&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. P&L"}),(()=>{const z=Number(u.quantity)*w.avgBuyPrice,R=M-z,F=R>=0;return s.jsxs("p",{className:`text-sm font-bold tabular-nums ${F?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[F?"+":"",Q(R)]})})()]})]})}),s.jsx(le,{label:"Notes",children:s.jsx(Me,{value:u.notes,onChange:z=>b("notes",z),placeholder:"Optional notes..."})}),s.jsx(nn,{onCancel:r,onSubmit:T,submitLabel:"Sell Stock",loading:v})]})}function tle(){const{selectedMember:e}=Hr(),{stockPortfolios:t,stockHoldings:r,stockTransactions:n,activeInvestmentAccounts:a,addStockPortfolio:l,updateStockPortfolio:c,deleteStockPortfolio:u,buyStock:f,sellStock:m}=ht(),{showToast:h,showBlockUI:v,hideBlockUI:x}=ai(),b=ii(),{mv:S}=si(),[w,y]=j.useState(null),[C,M]=j.useState("all"),[A,_]=j.useState("holdings"),[E,T]=j.useState(!1),P=j.useMemo(()=>{if(!t)return[];const L=t.filter(te=>te.status!=="Inactive");return e==="all"?L:L.filter(te=>te.ownerId===e)},[t,e]),O=j.useMemo(()=>r?P.map(L=>{const te=r.filter(Se=>Se.portfolioId===L.portfolioId),xe=(n||[]).filter(Se=>Se.portfolioId===L.portfolioId),B=te.reduce((Se,K)=>Se+K.totalInvestment,0),ae=te.reduce((Se,K)=>Se+K.currentValue,0),ge=ae-B,fe=xe.filter(Se=>Se.type==="SELL"&&Se.realizedPL!=null).reduce((Se,K)=>Se+K.realizedPL,0),Oe=ge+fe,ye=B>0?Oe/B*100:0,he=a.find(Se=>Se.accountId===L.investmentAccountId);return{...L,holdings:te,txns:xe,invested:B,current:ae,unrealizedPL:ge,realizedPL:fe,totalPL:Oe,totalPLPct:ye,stockCount:te.length,platform:he?.platformBroker||L.investmentAccountName||"",clientId:he?.accountClientId||""}}):[],[P,r,n,a]),z=j.useMemo(()=>{const L=C==="all"?O:O.filter(he=>he.portfolioId===C),te=L.reduce((he,Se)=>he+Se.invested,0),xe=L.reduce((he,Se)=>he+Se.current,0),B=L.reduce((he,Se)=>he+Se.unrealizedPL,0),ae=L.reduce((he,Se)=>he+Se.realizedPL,0),ge=B+ae,fe=te>0?ge/te*100:0,Oe=te>0?B/te*100:0,ye=L.reduce((he,Se)=>he+Se.stockCount,0);return{invested:te,current:xe,unrealizedPL:B,unrealizedPLPct:Oe,realizedPL:ae,totalPL:ge,totalPLPct:fe,stocks:ye}},[O,C]),R=j.useMemo(()=>r?C==="all"?r.filter(L=>P.some(te=>te.portfolioId===L.portfolioId)):r.filter(L=>L.portfolioId===C):[],[r,P,C]),F=j.useMemo(()=>n?(C==="all"?n.filter(te=>P.some(xe=>xe.portfolioId===te.portfolioId)):n.filter(te=>te.portfolioId===C)).sort((te,xe)=>new Date(xe.date)-new Date(te.date)):[],[n,P,C]);if(t===null||r===null)return s.jsx(ns,{title:"Loading stocks",cards:5});const D=O.find(L=>L.portfolioId===C),X=C==="all"?`All Portfolios (${P.length})`:`${D?.portfolioName}  ${S(D?.ownerName,"name")}`;async function W(L){v("Saving...");try{w?.editPortfolio?await c(w.editPortfolio.portfolioId,L):await l(L),h(w?.editPortfolio?"Portfolio updated":"Portfolio created"),y(null)}catch(te){h(te.message||"Failed to save portfolio","error")}finally{x()}}async function Z(){if(w?.editPortfolio&&await b("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){v("Deactivating...");try{await u(w.editPortfolio.portfolioId),h("Portfolio deactivated"),M("all"),y(null)}catch(L){h(L.message||"Failed to deactivate portfolio","error")}finally{x()}}}async function $(L){v("Recording purchase...");try{await f(L),h("Stock purchase recorded"),y(null)}catch(te){h(te.message||"Failed to record purchase","error")}finally{x()}}async function G(L){v("Recording sale...");try{await m(L),h("Stock sale recorded"),y(null)}catch(te){h(te.message||"Failed to record sale","error")}finally{x()}}return s.jsxs("div",{className:"space-y-4",children:[P.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(Ju,{size:32,className:"text-[var(--text-dim)]"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No stock portfolios yet"}),s.jsx("button",{onClick:()=>y("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>T(!E),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[s.jsx(Ju,{size:14,className:"text-violet-400 shrink-0"}),s.jsx("span",{className:"truncate",children:X}),s.jsx(Oi,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${E?"rotate-180":""}`})]}),E&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>T(!1)}),s.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl min-w-[280px] py-1 overflow-hidden",children:[s.jsxs("button",{onClick:()=>{M("all"),T(!1),_("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${C==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",P.length,")"]}),s.jsx("div",{className:"border-t border-[var(--border-light)]"}),O.map(L=>{const te=L.totalPL>=0;return s.jsx("button",{onClick:()=>{M(L.portfolioId),T(!1),_("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${C===L.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${C===L.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:L.portfolioName}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[S(L.ownerName,"name"),"  ",L.platform]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(L.current)}),s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${te?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[te?"+":"",L.totalPLPct.toFixed(1),"%"]})]})]})},L.portfolioId)})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[D&&s.jsxs("button",{onClick:()=>y({editPortfolio:D}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Aa,{size:12})," Edit"]}),s.jsxs("button",{onClick:()=>y("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Or,{size:14})," New Portfolio"]})]})]}),D&&s.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Platform:"})," ",D.platform]}),s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",S(D.clientId,"clientId")]}),s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Stocks:"})," ",D.stockCount]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[s.jsx(Wu,{label:"Invested",value:Q(z.invested)}),s.jsx(Wu,{label:"Current Value",value:Q(z.current),bold:!0}),s.jsx(Wu,{label:"Unrealized P&L",value:`${z.unrealizedPL>=0?"+":""}${Q(z.unrealizedPL)}`,sub:`${z.unrealizedPLPct>=0?"+":""}${z.unrealizedPLPct.toFixed(1)}%`,positive:z.unrealizedPL>=0}),s.jsx(Wu,{label:"Realized P&L",value:`${z.realizedPL>=0?"+":""}${Q(z.realizedPL)}`,positive:z.realizedPL>=0}),s.jsx(Wu,{label:"Total P&L",value:`${z.totalPL>=0?"+":""}${Q(z.totalPL)}`,sub:`${z.totalPLPct>=0?"+":""}${z.totalPLPct.toFixed(1)}%`,positive:z.totalPL>=0,bold:!0})]}),s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[s.jsxs("button",{onClick:()=>_("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${A==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[s.jsx(YO,{size:12})," Holdings (",R.length,")"]}),s.jsxs("button",{onClick:()=>_("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${A==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[s.jsx(gp,{size:12})," Transactions (",F.length,")"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>C!=="all"&&y({buy:C}),disabled:C==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${C==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:C==="all"?"Select a portfolio first":"",children:[s.jsx(ic,{size:14})," Buy"]}),s.jsxs("button",{onClick:()=>C!=="all"&&R.length>0&&y({sell:C}),disabled:C==="all"||R.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${C==="all"||R.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:C==="all"?"Select a portfolio first":"",children:[s.jsx(yp,{size:14})," Sell"]})]})]}),A==="holdings"&&s.jsx(s.Fragment,{children:R.length>0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Avg Price"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Price"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Value"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Returns"})]})}),s.jsxs("tbody",{children:[R.map(L=>{const te=L.unrealizedPL>=0,xe=C==="all"?O.find(B=>B.portfolioId===L.portfolioId):null;return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsxs("td",{className:"py-2.5 px-4",children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:L.companyName}),s.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[L.symbol,xe&&s.jsxs("span",{className:"ml-1.5 text-[var(--text-dim)] font-sans",children:[" ",xe.portfolioName]})]})]}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:L.quantity}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(L.avgBuyPrice)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(L.currentPrice)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Q(L.totalInvestment)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(L.currentValue)}),s.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${te?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[te?"+":"",Q(L.unrealizedPL)]}),s.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${te?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[te?"+":"",L.unrealizedPLPct.toFixed(1),"%"]})]},L.holdingId)}),s.jsxs("tr",{className:"bg-[var(--bg-inset)] border-t-2 border-[var(--border-light)]",children:[s.jsxs("td",{className:"py-2.5 px-4 text-xs font-semibold text-[var(--text-muted)]",children:["Total (",R.length," stocks)"]}),s.jsx("td",{colSpan:3,className:"py-2.5 px-3"}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.invested)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.current)}),s.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${z.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[z.unrealizedPL>=0?"+":"",Q(z.unrealizedPL)]}),s.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${z.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[z.unrealizedPLPct>=0?"+":"",z.unrealizedPLPct.toFixed(1),"%"]})]})]})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:R.map(L=>{const te=L.unrealizedPL>=0,xe=C==="all"?O.find(B=>B.portfolioId===L.portfolioId):null;return s.jsxs("div",{className:"px-4 py-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:L.companyName}),s.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[L.symbol,xe&&s.jsxs("span",{className:"ml-1 font-sans",children:[" ",xe.portfolioName]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:`text-xs font-bold tabular-nums ${te?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[te?"+":"",L.unrealizedPLPct.toFixed(1),"%"]}),s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${te?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[te?"+":"",Q(L.unrealizedPL)]})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs gap-2",children:[s.jsxs("div",{className:"text-[var(--text-dim)] min-w-0 truncate",children:[s.jsxs("span",{children:[L.quantity," shares"]}),s.jsx("span",{className:"mx-1",children:""}),s.jsxs("span",{children:["Avg ",Q(L.avgBuyPrice)]}),s.jsx("span",{className:"mx-1",children:""}),s.jsxs("span",{children:["CMP ",Q(L.currentPrice)]})]}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums shrink-0",children:Q(L.currentValue)})]})]},L.holdingId)})})]}):s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[s.jsx(Ju,{size:28,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",D?" in this portfolio":""]}),s.jsx("button",{onClick:()=>y({buy:C!=="all"?C:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Buy your first stock"})]})}),A==="transactions"&&s.jsx(s.Fragment,{children:F.length>0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Brokerage"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Net"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Realized P&L"})]})}),s.jsx("tbody",{children:F.map(L=>{const te=L.type==="BUY",xe=!te&&L.realizedPL!=null,B=xe&&L.realizedPL>=0,ae=C==="all"?O.find(ge=>ge.portfolioId===L.portfolioId):null;return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)]",children:L.date}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${te?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:L.type})}),s.jsxs("td",{className:"py-2.5 px-3",children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:L.symbol}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[140px]",children:[L.companyName,ae&&s.jsxs("span",{children:["  ",ae.portfolioName]})]})]}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:L.quantity}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(L.pricePerShare)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Q(L.totalAmount)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-dim)] tabular-nums",children:L.brokerage>0?Q(L.brokerage):""}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(L.netAmount)}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:xe?s.jsxs("span",{className:`text-xs font-semibold tabular-nums ${B?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[B?"+":"",Q(L.realizedPL)]}):s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},L.transactionId)})})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:F.map(L=>{const te=L.type==="BUY",xe=!te&&L.realizedPL!=null,B=xe&&L.realizedPL>=0;return s.jsxs("div",{className:"px-4 py-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${te?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:L.type}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:L.symbol})]}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:L.date})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[L.quantity," shares @ ",Q(L.pricePerShare)]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(L.netAmount)}),xe&&s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${B?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["P&L: ",B?"+":"",Q(L.realizedPL)]})]})]}),L.notes&&s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:L.notes})]},L.transactionId)})})]}):s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[s.jsx(gp,{size:28,className:"text-[var(--text-dim)]"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions yet"}),s.jsx("button",{onClick:()=>y({buy:C!=="all"?C:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first purchase"})]})})]}),s.jsx(pr,{open:w==="addPortfolio"||!!w?.editPortfolio,onClose:()=>y(null),title:w?.editPortfolio?"Edit Portfolio":"New Stock Portfolio",children:s.jsx(Zse,{initial:w?.editPortfolio||void 0,onSave:W,onDelete:w?.editPortfolio?Z:void 0,onCancel:()=>y(null)})}),s.jsx(pr,{open:!!w?.buy,onClose:()=>y(null),title:"Buy Stock",wide:!0,children:s.jsx(Jse,{portfolioId:typeof w?.buy=="string"?w.buy:void 0,onSave:$,onCancel:()=>y(null)})}),s.jsx(pr,{open:!!w?.sell,onClose:()=>y(null),title:"Sell Stock",wide:!0,children:s.jsx(ele,{portfolioId:typeof w?.sell=="string"?w.sell:void 0,onSave:G,onCancel:()=>y(null)})})]})}function Wu({label:e,value:t,sub:r,positive:n,bold:a}){return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t}),r&&s.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}const rle=["Self","Spouse","Father","Mother","Son","Daughter","Brother","Sister","Other"].map(e=>({value:e,label:e})),Hm={pan:/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,aadhar:/^\d{12}$/,email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,mobile:/^\d{10}$/};function nle({initial:e,onSave:t,onDelete:r,onCancel:n}){const a=!!e,[l,c]=j.useState({memberName:e?.memberName||"",relationship:e?.relationship||"",pan:e?.pan||"",aadhar:e?.aadhar||"",email:e?.email||"",mobile:e?.mobile||"",includeInEmailReports:e?.includeInEmailReports??!0,status:e?.status||"Active"}),[u,f]=j.useState({}),[m,h]=j.useState(!1),[v,x]=j.useState(()=>{const A=e?.dynamicFields||{};return Object.entries(A).map(([_,E])=>({key:_,value:E}))});function b(A,_){c(E=>({...E,[A]:_})),f(E=>({...E,[A]:void 0}))}function S(){const A={};return l.memberName.trim()||(A.memberName="Required"),l.relationship||(A.relationship="Required"),Hm.pan.test(l.pan.toUpperCase())||(A.pan="Format: ABCDE1234F"),Hm.aadhar.test(l.aadhar)||(A.aadhar="12 digits required"),Hm.email.test(l.email)||(A.email="Invalid email"),Hm.mobile.test(l.mobile)||(A.mobile="10 digits required"),f(A),Object.keys(A).length===0}function w(){x(A=>[...A,{key:"",value:""}])}function y(A,_,E){x(T=>T.map((P,O)=>O===A?{...P,[_]:E}:P))}function C(A){x(_=>_.filter((E,T)=>T!==A))}async function M(){if(!S())return;const A={};v.forEach(({key:_,value:E})=>{const T=_.trim();T&&(A[T]=E)}),h(!0);try{await t({...l,pan:l.pan.toUpperCase(),dynamicFields:A})}finally{h(!1)}}return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Member Name",required:!0,error:u.memberName,children:s.jsx(Me,{value:l.memberName,onChange:A=>b("memberName",A),placeholder:"e.g., Jagadeesh"})}),s.jsx(le,{label:"Relationship",required:!0,error:u.relationship,children:s.jsx(Qe,{value:l.relationship,onChange:A=>b("relationship",A),options:rle,placeholder:"Select..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"PAN",required:!0,error:u.pan,children:s.jsx(Me,{sensitive:!0,value:l.pan,onChange:A=>b("pan",A.toUpperCase()),placeholder:"ABCDE1234F",maxLength:10})}),s.jsx(le,{label:"Aadhar",required:!0,error:u.aadhar,children:s.jsx(Me,{sensitive:!0,value:l.aadhar,onChange:A=>b("aadhar",A.replace(/\D/g,"")),placeholder:"123456789012",maxLength:12})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Email",required:!0,error:u.email,children:s.jsx(Me,{sensitive:!0,type:"email",value:l.email,onChange:A=>b("email",A),placeholder:"email@example.com"})}),s.jsx(le,{label:"Mobile",required:!0,error:u.mobile,children:s.jsx(Me,{sensitive:!0,value:l.mobile,onChange:A=>b("mobile",A.replace(/\D/g,"")),placeholder:"9876543210",maxLength:10})})]}),s.jsx(sie,{checked:l.includeInEmailReports,onChange:A=>b("includeInEmailReports",A),label:"Include in email reports"}),a&&s.jsx(le,{label:"Status",children:s.jsx(Qe,{value:l.status,onChange:A=>b("status",A),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)]",children:"Custom Fields"}),s.jsxs("button",{onClick:w,type:"button",className:"flex items-center gap-1 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[s.jsx(Or,{size:12})," Add Field"]})]}),v.length===0&&s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"No custom fields. Add DOB, occupation, blood group, etc."}),s.jsx("div",{className:"space-y-2",children:v.map((A,_)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{value:A.key,onChange:E=>y(_,"key",E.target.value),placeholder:"Field name",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),s.jsx("input",{value:A.value,onChange:E=>y(_,"value",E.target.value),placeholder:"Value",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),s.jsx("button",{onClick:()=>C(_),type:"button",className:"p-1 text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:s.jsx(_h,{size:13})})]},_))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[a&&r?s.jsx(rs,{onClick:r}):s.jsx("div",{}),s.jsx(nn,{onCancel:n,onSubmit:M,submitLabel:a?"Update":"Add Member",loading:m})]})]})}const Um=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],A_={Self:"bg-violet-500/15 text-[var(--accent-violet)]",Spouse:"bg-rose-500/15 text-[var(--accent-rose)]",Father:"bg-blue-500/15 text-[var(--accent-blue)]",Mother:"bg-amber-500/15 text-[var(--accent-amber)]",Son:"bg-emerald-500/15 text-emerald-400",Daughter:"bg-emerald-500/15 text-emerald-400"};function ale(){const{members:e,addMember:t,updateMember:r,deleteMember:n}=ht(),{showToast:a,showBlockUI:l,hideBlockUI:c}=ai(),u=ii(),{mv:f}=si(),[m,h]=j.useState(null);if(e===null)return s.jsx(ns,{title:"Loading family",cards:3});const v=e.filter(S=>S.status!=="Inactive");async function x(S){l("Saving member...");try{m?.edit?await r(m.edit.memberId,S):await t(S),a(m?.edit?"Member updated":"Member added"),h(null)}catch(w){a(w.message||"Failed to save member","error")}finally{c()}}async function b(){if(m?.edit&&await u("Deactivate this family member?",{title:"Deactivate Member",confirmLabel:"Deactivate"})){l("Deactivating...");try{await n(m.edit.memberId),a("Member deactivated"),h(null)}catch(S){a(S.message||"Failed to deactivate member","error")}finally{c()}}}return[...new Set(v.flatMap(S=>Object.keys(S.dynamicFields||{})))],s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>h("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Or,{size:14})," Add Member"]})}),v.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(sc,{size:32,className:"text-[var(--text-dim)]"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No family members yet"}),s.jsx("button",{onClick:()=>h("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first member"})]}):s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Relationship"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"PAN"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Aadhaar"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Mobile"}),s.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),s.jsx("tbody",{children:v.map((S,w)=>{const y=S.dynamicFields||{},C=Object.entries(y);return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsx("td",{className:"py-2.5 px-4",children:s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Um[w%Um.length]}`,children:S.memberName.charAt(0)}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:f(S.memberName,"name")}),C.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-0.5",children:[C.slice(0,3).map(([M,A])=>s.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[M,": ",A]},M)),C.length>3&&s.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",C.length-3," more"]})]})]})]})}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${A_[S.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:S.relationship})}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:f(S.pan,"pan")||""}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:f(S.aadhar,"aadhaar")||""}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] truncate max-w-[180px]",children:f(S.email,"email")}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:f(S.mobile,"mobile")}),s.jsx("td",{className:"py-2.5 px-2",children:s.jsx("button",{onClick:()=>h({edit:S}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:s.jsx(Aa,{size:12})})})]},S.memberId)})})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:v.map((S,w)=>{const y=S.dynamicFields||{},C=Object.entries(y);return s.jsxs("div",{onClick:()=>h({edit:S}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Um[w%Um.length]}`,children:S.memberName.charAt(0)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:f(S.memberName,"name")}),s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${A_[S.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:S.relationship})]}),s.jsx("p",{className:"text-xs text-[var(--text-muted)] truncate",children:f(S.email,"email")})]})]}),s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-1",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:f(S.mobile,"mobile")}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["PAN: ",f(S.pan,"pan")||""]}),S.aadhar&&s.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["Aadhaar: ",f(S.aadhar,"aadhaar")]})]})]}),C.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[C.slice(0,3).map(([M,A])=>s.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[M,": ",A]},M)),C.length>3&&s.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",C.length-3," more"]})]})]},S.memberId)})})]}),s.jsx(pr,{open:!!m,onClose:()=>h(null),title:m?.edit?"Edit Member":"Add Family Member",wide:!0,children:s.jsx(nle,{initial:m?.edit||void 0,onSave:x,onDelete:m?.edit?b:void 0,onCancel:()=>h(null)})})]})}const M_=["Retirement","Emergency Fund","Child Education","Home Purchase","Car","Travel","Wedding","Custom"].map(e=>({value:e,label:e})),k_=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],Ym={Retirement:{inflation:6,cagr:12},"Emergency Fund":{inflation:0,cagr:7},"Child Education":{inflation:10,cagr:12},"Home Purchase":{inflation:8,cagr:12},Wedding:{inflation:6,cagr:12},Car:{inflation:5,cagr:10},Travel:{inflation:6,cagr:10},Custom:{inflation:6,cagr:12}},D_=[{label:"Basics",icon:Eh},{label:"Financials",icon:XF},{label:"Review",icon:Ac}];function ile({initial:e,onSave:t,onDelete:r,onCancel:n}){const a=!!e,{activeMembers:l}=ht(),c=(l||[]).map(O=>({value:O.memberId,label:O.relationship?`${O.memberName} (${O.relationship})`:O.memberName})),[u,f]=j.useState(0),[m,h]=j.useState(()=>{if(a){const O=(e.expectedInflation||.06)*100,z=(e.expectedCAGR||.12)*100,R=e.targetDate?Math.max(0,(new Date(e.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,F=O/100;let D=e.targetAmount||0;F>0&&R>0&&e.goalType!=="Emergency Fund"&&(D=e.targetAmount/Math.pow(1+F,R));const X=l.find(W=>W.memberName===e.familyMemberName);return{goalType:e.goalType||"",goalName:e.goalName||"",familyMemberId:X?.memberId||"",todaysCost:Math.round(D).toString(),targetDate:e.targetDate||"",lumpsum:(e.lumpsumInvested||0).toString(),monthlySIP:(e.monthlyInvestment||0).toString(),inflation:O.toString(),cagr:z.toString(),priority:e.priority||"Medium",notes:e.notes||"",monthlyExpenses:(e.monthlyExpenses||"").toString(),emergencyMonths:(e.emergencyMonths||6).toString()}}return{goalType:"",goalName:"",familyMemberId:"",todaysCost:"",targetDate:"",lumpsum:"",monthlySIP:"",inflation:"6",cagr:"12",priority:"Medium",notes:"",monthlyExpenses:"",emergencyMonths:"6"}}),[v,x]=j.useState({}),[b,S]=j.useState(!1);function w(O,z){h(R=>({...R,[O]:z})),x(R=>({...R,[O]:void 0}))}j.useEffect(()=>{if(a||!m.goalType)return;const O=Ym[m.goalType]||Ym.Custom;h(z=>({...z,inflation:O.inflation.toString(),cagr:O.cagr.toString()}))},[m.goalType,a]);const y=m.goalType==="Retirement",C=m.goalType==="Emergency Fund",M=j.useMemo(()=>{const O=(Number(m.inflation)||0)/100,R=(Number(m.cagr)||0)/100/12,F=Number(m.lumpsum)||0,D=Number(m.monthlyExpenses)||0,X=Number(m.emergencyMonths)||6,W=m.targetDate?Math.max(0,(new Date(m.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,Z=Math.round(W*12);let $=0,G=0;y?($=D*12*25,G=$*Math.pow(1+O,W)):C?($=D*X,G=$):($=Number(m.todaysCost)||0,G=O>0&&W>0?$*Math.pow(1+O,W):$),G=Math.round(G);const L=F>0&&Z>0?F*Math.pow(1+R,Z):F;let te=0;if(G>0&&Z>0){const fe=G-L;fe>0&&R>0?te=fe/((Math.pow(1+R,Z)-1)/R):fe>0&&(te=fe/Z),te=Math.max(0,Math.ceil(te))}const xe=te>0&&R>0&&Z>0?te*((Math.pow(1+R,Z)-1)/R):te*Z,B=Math.round(F+te*Z),ae=Math.round(G-B),ge=F>0&&L>=G;return{todaysCost:$,inflatedTarget:G,yearsToGo:W,months:Z,fvLumpsum:Math.round(L),requiredSIP:te,fvRequiredSIP:Math.round(xe),planTotalInvested:B,planReturns:ae,lumpsumCoversGoal:ge,hasTarget:G>0}},[m.todaysCost,m.targetDate,m.lumpsum,m.inflation,m.cagr,m.monthlyExpenses,m.emergencyMonths,y,C]);function A(O){const z={};return O===0&&(m.goalType||(z.goalType="Required"),m.goalName.trim()||(z.goalName="Required")),O===1&&(m.targetDate||(z.targetDate="Required"),y||C?(!m.monthlyExpenses||Number(m.monthlyExpenses)<=0)&&(z.monthlyExpenses="Required"):(!m.todaysCost||Number(m.todaysCost)<=0)&&(z.todaysCost="Must be > 0")),x(z),Object.keys(z).length===0}function _(){const O={};return m.goalType||(O.goalType="Required"),m.goalName.trim()||(O.goalName="Required"),m.targetDate||(O.targetDate="Required"),y||C?(!m.monthlyExpenses||Number(m.monthlyExpenses)<=0)&&(O.monthlyExpenses="Required"):(!m.todaysCost||Number(m.todaysCost)<=0)&&(O.todaysCost="Must be > 0"),x(O),Object.keys(O).length===0}function E(){A(u)&&f(O=>Math.min(O+1,2))}async function T(){if(!_())return;const O=m.familyMemberId&&l.find(z=>z.memberId===m.familyMemberId)?.memberName||"Family";S(!0);try{await t({goalType:m.goalType,goalName:m.goalName,familyMemberId:m.familyMemberId||"",familyMember:O,targetAmount:M.inflatedTarget,targetDate:m.targetDate,priority:m.priority,notes:m.notes,expectedInflation:(Number(m.inflation)||0)/100,expectedCAGR:(Number(m.cagr)||0)/100,monthlyInvestment:M.requiredSIP||0,lumpsumInvested:Number(m.lumpsum)||0,monthlyExpenses:y||C?Number(m.monthlyExpenses)||0:void 0,emergencyMonths:C?Number(m.emergencyMonths)||6:void 0,isRetirement:y,currentCost:M.todaysCost})}finally{S(!1)}}const P=m.familyMemberId&&l.find(O=>O.memberId===m.familyMemberId)?.memberName||"Family";return a?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Goal Type",required:!0,error:v.goalType,children:s.jsx(Qe,{value:m.goalType,onChange:O=>w("goalType",O),options:M_,placeholder:"Select type..."})}),s.jsx(le,{label:"Goal Name",required:!0,error:v.goalName,children:s.jsx(Me,{value:m.goalName,onChange:O=>w("goalName",O),placeholder:"e.g., Retirement Fund (2045)"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"For",error:v.familyMemberId,children:s.jsx(Qe,{value:m.familyMemberId,onChange:O=>w("familyMemberId",O),options:c,placeholder:"Family (Default)"})}),s.jsx(le,{label:"Target Date",required:!0,error:v.targetDate,children:s.jsx(ei,{value:m.targetDate,onChange:O=>w("targetDate",O),maxDate:null})})]}),y||C?s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Monthly Expenses",required:!0,error:v.monthlyExpenses,children:s.jsx(Me,{type:"number",value:m.monthlyExpenses,onChange:O=>w("monthlyExpenses",O),placeholder:"e.g., 50000"})}),C&&s.jsx(le,{label:"Emergency Months",children:s.jsx(Me,{type:"number",value:m.emergencyMonths,onChange:O=>w("emergencyMonths",O),placeholder:"6"})})]}):s.jsx(le,{label:"Today's Cost",required:!0,error:v.todaysCost,children:s.jsx(Me,{type:"number",value:m.todaysCost,onChange:O=>w("todaysCost",O),placeholder:"e.g., 1000000"})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[s.jsx(le,{label:"Inflation %",children:s.jsx(Me,{type:"number",value:m.inflation,onChange:O=>w("inflation",O),placeholder:"6"})}),s.jsx(le,{label:"Expected CAGR %",children:s.jsx(Me,{type:"number",value:m.cagr,onChange:O=>w("cagr",O),placeholder:"12"})}),s.jsx(le,{label:"Lumpsum Invested",children:s.jsx(Me,{type:"number",value:m.lumpsum,onChange:O=>w("lumpsum",O),placeholder:"0"})})]}),M.hasTarget&&s.jsx(E_,{calc:M,inflation:m.inflation,isRetirement:y,isEmergency:C}),s.jsx(le,{label:"Priority",children:s.jsx(Qe,{value:m.priority,onChange:O=>w("priority",O),options:k_})}),s.jsx(le,{label:"Notes",children:s.jsx(yc,{value:m.notes,onChange:O=>w("notes",O),placeholder:"Optional notes...",rows:2})}),s.jsxs("div",{className:"flex items-center justify-between",children:[r?s.jsx(rs,{onClick:r}):s.jsx("div",{}),s.jsx(nn,{onCancel:n,onSubmit:T,submitLabel:"Update Goal",loading:b})]})]}):s.jsxs("div",{className:"space-y-5",children:[s.jsx("div",{className:"flex items-center gap-1 mb-2",children:D_.map((O,z)=>{const R=O.icon,F=z===u,D=z<u;return s.jsxs("div",{className:"flex items-center flex-1",children:[s.jsxs("button",{onClick:()=>{z<u&&f(z)},className:`flex items-center gap-1.5 text-xs font-semibold transition-colors ${F?"text-violet-400":D?"text-emerald-400 cursor-pointer":"text-[var(--text-dim)]"}`,children:[s.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold border ${F?"border-violet-400 bg-violet-500/15":D?"border-emerald-400 bg-emerald-500/15":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:D?s.jsx(Ac,{size:12}):s.jsx(R,{size:12})}),s.jsx("span",{className:"hidden sm:inline",children:O.label})]}),z<D_.length-1&&s.jsx("div",{className:`flex-1 h-px mx-2 ${D?"bg-emerald-400/40":"bg-[var(--border)]"}`})]},O.label)})}),u===0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Tell us about your financial goal"}),s.jsx(le,{label:"Goal Type",required:!0,error:v.goalType,children:s.jsx(Qe,{value:m.goalType,onChange:O=>w("goalType",O),options:M_,placeholder:"Select type..."})}),m.goalType&&s.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)]",children:[s.jsx(ic,{size:12,className:"text-[var(--text-dim)] shrink-0"}),s.jsxs("p",{className:"text-[11px] text-[var(--text-muted)]",children:["Default: ",Ym[m.goalType]?.inflation||6,"% inflation, ",Ym[m.goalType]?.cagr||12,"% CAGR",y&&"  Uses 25x annual expenses rule",C&&"  No inflation applied"]})]}),s.jsx(le,{label:"Goal Name",required:!0,error:v.goalName,children:s.jsx(Me,{value:m.goalName,onChange:O=>w("goalName",O),placeholder:"e.g., Retirement Fund (2045)"})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"For",error:v.familyMemberId,children:s.jsx(Qe,{value:m.familyMemberId,onChange:O=>w("familyMemberId",O),options:c,placeholder:"Family (Default)"})}),s.jsx(le,{label:"Priority",children:s.jsx(Qe,{value:m.priority,onChange:O=>w("priority",O),options:k_})})]})]}),u===1&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:y?"Set your retirement timeline and monthly expenses":C?"Set your emergency fund requirements":"Set your target and investment plan"}),y||C?s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Target Date",required:!0,error:v.targetDate,children:s.jsx(ei,{value:m.targetDate,onChange:O=>w("targetDate",O),maxDate:null})}),s.jsx(le,{label:"Monthly Expenses (Today)",required:!0,error:v.monthlyExpenses,children:s.jsx(Me,{type:"number",value:m.monthlyExpenses,onChange:O=>w("monthlyExpenses",O),placeholder:"e.g., 50000"})}),C&&s.jsx(le,{label:"Emergency Fund (Months)",children:s.jsx(Me,{type:"number",value:m.emergencyMonths,onChange:O=>w("emergencyMonths",O),placeholder:"6"})}),y&&s.jsx("div",{className:"sm:col-span-2",children:s.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Corpus = Monthly Expenses x 12 x 25 = ",Q(M.todaysCost)," (today)"]})})]}):s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Target Date",required:!0,error:v.targetDate,children:s.jsx(ei,{value:m.targetDate,onChange:O=>w("targetDate",O),maxDate:null})}),s.jsx(le,{label:"Today's Cost",required:!0,error:v.todaysCost,children:s.jsx(Me,{type:"number",value:m.todaysCost,onChange:O=>w("todaysCost",O),placeholder:"e.g., 1000000"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(le,{label:`Inflation Rate (%)${C?"  N/A":""}`,children:s.jsx(Me,{type:"number",value:m.inflation,onChange:O=>w("inflation",O),placeholder:"6"})}),s.jsx(le,{label:"Expected Returns (CAGR %)",children:s.jsx(Me,{type:"number",value:m.cagr,onChange:O=>w("cagr",O),placeholder:"12"})})]}),M.hasTarget&&s.jsx(E_,{calc:M,inflation:m.inflation,isRetirement:y,isEmergency:C}),s.jsx(le,{label:"Lumpsum You Plan to Invest (Optional)",children:s.jsx(Me,{type:"number",value:m.lumpsum,onChange:O=>w("lumpsum",O),placeholder:"e.g., 500000"})}),M.hasTarget&&M.months>0&&s.jsx(__,{calc:M,lumpsum:m.lumpsum}),s.jsx(le,{label:"Notes",children:s.jsx(yc,{value:m.notes,onChange:O=>w("notes",O),placeholder:"Optional notes...",rows:2})})]}),u===2&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Review your goal before saving"}),s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-3",children:[s.jsx(mn,{label:"Goal",value:m.goalName,bold:!0}),s.jsx(mn,{label:"Type",value:m.goalType,color:"violet"}),s.jsx(mn,{label:"Member",value:P}),s.jsx(mn,{label:"Priority",value:m.priority,badge:m.priority==="High"?"rose":m.priority==="Low"?"blue":"amber"}),s.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[(y||C)&&s.jsx(mn,{label:"Monthly Expenses",value:Q(Number(m.monthlyExpenses)||0)}),C&&s.jsx(mn,{label:"Emergency Months",value:m.emergencyMonths}),!y&&!C&&s.jsx(mn,{label:"Today's Cost",value:Q(M.todaysCost)}),s.jsx(mn,{label:"Inflation",value:`${m.inflation}% p.a.`}),s.jsx(mn,{label:"Expected CAGR",value:`${m.cagr}% p.a.`}),s.jsx(mn,{label:"Future Value (Inflated)",value:Q(M.inflatedTarget),bold:!0,color:"violet"})]}),s.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[s.jsx(mn,{label:"Lumpsum",value:Q(Number(m.lumpsum)||0)}),s.jsx(mn,{label:"Required SIP",value:`${Q(M.requiredSIP)}/mo`,color:"emerald"}),s.jsx(mn,{label:"Target Date",value:m.targetDate}),s.jsx(mn,{label:"Time Remaining",value:M.yearsToGo>0?`${M.yearsToGo.toFixed(1)} years`:""})]})]}),M.hasTarget&&M.months>0&&s.jsx(__,{calc:M,lumpsum:m.lumpsum,compact:!0})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-light)]",children:[s.jsx("div",{children:u>0&&s.jsxs("button",{onClick:()=>f(O=>O-1),className:"flex items-center gap-1 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx(TF,{size:14})," Back"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:n,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),u<2?s.jsxs("button",{onClick:E,className:"flex items-center gap-1 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors",children:["Next ",s.jsx(nd,{size:14})]}):s.jsx("button",{onClick:T,disabled:b,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Saving...":"Create Goal"})]})]})]})}function E_({calc:e,inflation:t,isRetirement:r,isEmergency:n}){return n?s.jsx("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-500/5 border border-blue-500/15",children:s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Emergency Fund: ",s.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:Q(e.inflatedTarget)}),s.jsx("span",{className:"text-[var(--text-dim)]",children:" (no inflation applied)"})]})}):s.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 rounded-lg bg-violet-500/5 border border-violet-500/15",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase tracking-wider",children:r?"Corpus Today":"Today's Cost"}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:Q(e.todaysCost)})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[t,"% x ",e.yearsToGo.toFixed(1),"yrs"]}),s.jsx(nd,{size:12,className:"text-violet-400 mx-auto"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-[10px] font-semibold text-violet-400 uppercase tracking-wider",children:"Future Value"}),s.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:Q(e.inflatedTarget)})]})]})}function __({calc:e,lumpsum:t,compact:r}){const n=Number(t)||0;return r?s.jsxs("div",{className:"rounded-lg border p-3 bg-violet-500/5 border-violet-500/15",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Required Monthly SIP"}),s.jsxs("span",{className:"text-sm font-bold text-violet-400 tabular-nums",children:[e.lumpsumCoversGoal?"0":Q(e.requiredSIP),"/mo"]})]}),e.lumpsumCoversGoal&&s.jsx("p",{className:"text-[10px] text-emerald-400 mt-1",children:"Lumpsum alone covers this goal!"})]}):s.jsxs("div",{className:"rounded-lg border p-3 space-y-2 bg-violet-500/5 border-violet-500/15",children:[e.lumpsumCoversGoal?s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Ac,{size:12,className:"text-emerald-400"}),s.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400",children:"Lumpsum Covers Goal"})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-violet-400",children:"Required Monthly SIP"}),s.jsxs("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:[Q(e.requiredSIP),"/mo"]})]}),e.planTotalInvested>0&&s.jsxs("div",{className:"border-t border-[var(--border-light)] pt-2 space-y-1",children:[n>0&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["Lumpsum ",Q(n)," grows to"]}),s.jsx("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:Q(e.fvLumpsum)})]}),e.requiredSIP>0&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["SIP ",Q(e.requiredSIP),"/mo x ",e.months," months"]}),s.jsx("span",{className:"text-[11px] font-semibold text-blue-400 tabular-nums",children:Q(e.fvRequiredSIP)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Total You Invest"}),s.jsx("span",{className:"text-[11px] font-semibold text-[var(--text-primary)] tabular-nums",children:Q(e.planTotalInvested)})]}),e.planReturns>0&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Wealth Created"}),s.jsxs("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:["+",Q(e.planReturns)]})]})]})]})}function mn({label:e,value:t,bold:r,color:n,badge:a}){const l=n==="violet"?"text-violet-400":n==="emerald"?"text-emerald-400":"text-[var(--text-primary)]";if(a){const c=a==="rose"?"bg-rose-500/15 text-rose-400":a==="blue"?"bg-blue-500/15 text-blue-400":"bg-amber-500/15 text-amber-400";return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e}),s.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${c}`,children:t})]})}return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e}),s.jsx("span",{className:`text-xs ${r?"font-bold text-sm":"font-semibold"} ${l}`,children:t})]})}function sle({goal:e,onClose:t}){const{goalPortfolioMappings:r,mfPortfolios:n,mfHoldings:a}=ht(),l=j.useMemo(()=>{const u=r.filter(v=>v.goalId===e.goalId);if(u.length===0)return null;const f=u.map(v=>{const x=n.find(C=>C.portfolioId===v.portfolioId);if(!x)return null;const b=a.filter(C=>C.portfolioId===v.portfolioId&&C.units>0),S=b.reduce((C,M)=>C+M.currentValue,0),w=S*v.allocationPct/100,y=b.map(C=>{const M=S>0?C.currentValue/S:0,A=w*M,_=C.currentNav>0?A/C.currentNav:0,E=A-_*C.avgNav;return{fundName:C.fundName,currentValue:C.currentValue,withdrawValue:A,withdrawUnits:Math.min(_,C.units),currentNav:C.currentNav,taxableGain:E,availableUnits:C.units}}).filter(C=>C.withdrawValue>0);return{portfolioName:x.portfolioName,ownerName:x.ownerName,allocationPct:v.allocationPct,portfolioValue:S,linkedValue:w,fundWithdrawals:y}}).filter(Boolean),m=f.reduce((v,x)=>v+x.linkedValue,0),h=f.reduce((v,x)=>v+x.fundWithdrawals.reduce((b,S)=>b+S.taxableGain,0),0);return{portfolioDetails:f,totalLinked:m,totalTaxableGain:h}},[e,r,n,a]);if(!l)return s.jsxs("div",{className:"py-8 text-center space-y-2",children:[s.jsx(Hs,{size:24,className:"mx-auto text-amber-400"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No portfolios linked to this goal"}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Link portfolios first to generate a withdrawal plan"}),s.jsx("button",{onClick:t,className:"mt-2 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})]});const c=e.targetAmount>0?l.totalLinked/e.targetAmount*100:0;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),s.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:Q(e.targetAmount)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Available from Linked Portfolios"}),s.jsx("span",{className:`text-sm font-bold ${l.totalLinked>=e.targetAmount?"text-emerald-400":"text-amber-400"}`,children:Q(l.totalLinked)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-card)] rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full ${c>=100?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(c,100)}%`}})}),s.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[c.toFixed(0),"%"]})]}),l.totalTaxableGain>0&&s.jsxs("div",{className:"flex items-center justify-between pt-1",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Estimated Taxable Gain"}),s.jsx("span",{className:"text-xs font-semibold text-amber-400",children:Q(l.totalTaxableGain)})]})]}),l.portfolioDetails.map(u=>s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] overflow-hidden",children:[s.jsxs("div",{className:"px-4 py-2.5 bg-[var(--bg-card)] border-b border-[var(--border-light)] flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:u.portfolioName}),s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[u.ownerName,"  ",u.allocationPct,"% allocated to goal"]})]}),s.jsx("span",{className:"text-xs font-bold text-[var(--text-primary)]",children:Q(u.linkedValue)})]}),s.jsx("div",{className:"px-4 py-2",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-[var(--text-dim)]",children:[s.jsx("th",{className:"text-left py-1 font-medium",children:"Fund"}),s.jsx("th",{className:"text-right py-1 font-medium",children:"Units"}),s.jsx("th",{className:"text-right py-1 font-medium",children:"Amount"}),s.jsx("th",{className:"text-right py-1 font-medium",children:"Gain"})]})}),s.jsx("tbody",{children:u.fundWithdrawals.map(f=>s.jsxs("tr",{className:"border-t border-[var(--border-light)]",children:[s.jsx("td",{className:"py-1.5 text-[var(--text-secondary)] max-w-[180px] truncate",children:f.fundName}),s.jsx("td",{className:"py-1.5 text-right text-[var(--text-muted)] tabular-nums",children:f.withdrawUnits.toFixed(2)}),s.jsx("td",{className:"py-1.5 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:Q(f.withdrawValue)}),s.jsx("td",{className:`py-1.5 text-right tabular-nums font-semibold ${f.taxableGain>=0?"text-emerald-400":"text-rose-400"}`,children:Q(Math.abs(f.taxableGain))})]},f.fundName))})]})})]},u.portfolioName)),s.jsx("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:s.jsx("button",{onClick:t,className:"px-5 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})})]})}const lle={"On Track":"bg-blue-500/15 text-[var(--accent-blue)]",Behind:"bg-amber-500/15 text-[var(--accent-amber)]",Critical:"bg-rose-500/15 text-[var(--accent-rose)]","Needs Attention":"bg-amber-500/15 text-[var(--accent-amber)]",Achieved:"bg-emerald-500/15 text-emerald-400",Paused:"bg-slate-500/15 text-[var(--text-muted)]"},ole={High:"bg-rose-500/15 text-[var(--accent-rose)]",Medium:"bg-amber-500/15 text-[var(--accent-amber)]",Low:"bg-blue-500/15 text-[var(--accent-blue)]"},cle={"On Track":"bg-blue-500",Behind:"bg-amber-500",Critical:"bg-rose-500","Needs Attention":"bg-amber-500",Achieved:"bg-emerald-500",Paused:"bg-slate-500"};function ule(){const{selectedMember:e,member:t}=Hr(),{goalList:r,addGoal:n,updateGoal:a,deleteGoal:l,goalPortfolioMappings:c,updateGoalMappings:u,mfHoldings:f,activeMembers:m,mfPortfolios:h,stockPortfolios:v,otherInvList:x}=ht(),{showToast:b,showBlockUI:S,hideBlockUI:w}=ai(),y=ii(),[C,M]=j.useState(null),[A,_]=j.useState(null),[E,T]=j.useState(null),P=j.useRef(new Set),[O,z]=j.useState(null),[R,F]=j.useState([]),[D,X]=j.useState(!1),[W,Z]=j.useState(!1),$=j.useMemo(()=>{if(!r)return[];const ue=r.filter(be=>be.isActive!==!1);return e==="all"?ue:ue.filter(be=>be.familyMemberId===e)},[r,e]);function G(ue){if(!ue.familyMemberName||ue.familyMemberName==="Family")return ue.familyMemberName||"Family";const be=(m||[]).find(ze=>ze.memberName===ue.familyMemberName);return be?.relationship?`${ue.familyMemberName} (${be.relationship})`:ue.familyMemberName}const L=$.reduce((ue,be)=>ue+(be.targetAmount||0),0),te=$.reduce((ue,be)=>ue+(be.currentValue||0),0),xe=$.reduce((ue,be)=>ue+(be.monthlyInvestment||0),0),B=$.reduce((ue,be)=>ue+(be.lumpsumNeeded||0),0),ae=L>0?te/L*100:0,ge=$.filter(ue=>ue.status==="Needs Attention").length,fe=$.filter(ue=>ue.status==="Achieved").length,Oe=new Set(["Equity","ELSS","Index"]),ye=j.useMemo(()=>{if(!$.length||!c?.length||!f?.length)return[];const ue=new Date,be=[];for(const ze of $){if(ze.status==="Achieved")continue;const ie=(new Date(ze.targetDate)-ue)/(365.25*24*60*60*1e3);if(ie>3||ie<=0)continue;const Ae=c.filter(Fe=>Fe.goalId===ze.goalId);if(!Ae.length)continue;let We=0,ke=0;for(const Fe of Ae){const Ht=f.filter(Wt=>Wt.portfolioId===Fe.portfolioId&&Wt.units>0);for(const Wt of Ht){const $t=Wt.currentValue*(Fe.allocationPct/100);We+=$t,Oe.has(Wt.category)?ke+=$t:Wt.category==="Hybrid"&&(ke+=$t*.65)}}const oe=We>0?ke/We*100:0,Ge=ie<1?30:ie<2?50:70;oe>Ge&&be.push({goalId:ze.goalId,goalName:ze.goalName,yearsLeft:ie.toFixed(1),equityPct:Math.round(oe),maxEquity:Ge,excessPct:Math.round(oe-Ge)})}return be},[$,c,f]);j.useEffect(()=>{const ue=new Set($.filter(ze=>ze.status==="Achieved").map(ze=>ze.goalId)),be=P.current;for(const ze of ue)if(!be.has(ze)){const Y=$.find(ie=>ie.goalId===ze);Y&&(T(Y),setTimeout(()=>T(null),5e3))}P.current=ue},[$]);function he(ue){return ue?ue.startsWith("PFL-STK-")?"Stock":ue.startsWith("INV-")?"Other":"MF":"MF"}const Se=j.useMemo(()=>{const ue={};return(h||[]).forEach(be=>{ue[be.portfolioId]={name:be.portfolioName?.replace(/^PFL-/,"")||be.portfolioName,value:be.currentValue||0,type:"MF",owner:be.ownerName||""}}),(v||[]).forEach(be=>{ue[be.portfolioId]={name:be.portfolioName,value:be.currentValue||0,type:"Stock",owner:be.ownerName||""}}),(x||[]).forEach(be=>{ue[be.investmentId]={name:be.investmentName,value:be.currentValue||0,type:"Other",owner:be.familyMemberName||""}}),ue},[h,v,x]),K=j.useMemo(()=>{const ue=[];return(h||[]).filter(be=>be.status!=="Inactive").forEach(be=>{ue.push({id:be.portfolioId,name:be.portfolioName?.replace(/^PFL-/,"")||be.portfolioName,value:be.currentValue||0,type:"MF",owner:be.ownerName||""})}),(v||[]).filter(be=>be.status!=="Inactive").forEach(be=>{ue.push({id:be.portfolioId,name:be.portfolioName,value:be.currentValue||0,type:"Stock",owner:be.ownerName||""})}),(x||[]).filter(be=>be.status==="Active").forEach(be=>{ue.push({id:be.investmentId,name:be.investmentName,value:be.currentValue||0,type:"Other",owner:be.familyMemberName||""})}),ue},[h,v,x]),Ee=K.filter(ue=>ue.type==="MF"),$e=K.filter(ue=>ue.type==="Stock"),ve=K.filter(ue=>ue.type==="Other"),tt=j.useMemo(()=>{const ue={};return(c||[]).forEach(be=>{if(be.goalId===O)return;ue[be.portfolioId]||(ue[be.portfolioId]={total:0,goals:[]}),ue[be.portfolioId].total+=be.allocationPct;const ze=(r||[]).find(Y=>Y.goalId===be.goalId);ue[be.portfolioId].goals.push({goalName:ze?.goalName||be.goalId,pct:be.allocationPct})}),ue},[c,O,r]),Ye=j.useMemo(()=>{const ue=[];for(const be of R){const Y=(tt[be.portfolioId]?.total||0)+(be.allocationPct||0);if(Y>100){const ie=K.find(Ae=>Ae.id===be.portfolioId);ue.push({name:ie?.name||be.portfolioId,combined:Y,excess:Y-100})}}return ue},[R,tt,K]),yt=Ye.length===0;function xt(ue){const be=(c||[]).filter(ze=>ze.goalId===ue).map(ze=>({portfolioId:ze.portfolioId,allocationPct:ze.allocationPct,investmentType:ze.investmentType||he(ze.portfolioId)}));F(be),z(ue),X(!1)}function nt(){z(null),F([]),X(!1)}function Ie(ue){O===ue?nt():xt(ue)}function qe(){const ue=new Set(R.map(ze=>ze.portfolioId)),be=K.find(ze=>!ue.has(ze.id)&&(tt[ze.id]?.total||0)<100);be&&(F(ze=>[...ze,{portfolioId:be.id,allocationPct:0,investmentType:be.type}]),X(!0))}function Bt(ue){F(be=>be.filter((ze,Y)=>Y!==ue)),X(!0)}function ot(ue,be,ze){F(Y=>Y.map((ie,Ae)=>{if(Ae!==ue)return ie;if(be==="allocationPct"){const We=tt[ie.portfolioId]?.total||0,ke=Math.max(0,100-We);return{...ie,allocationPct:Math.max(0,Math.min(ke,Number(ze)||0))}}if(be==="portfolioId"){const We=K.find(Ge=>Ge.id===ze),ke=tt[ze]?.total||0,oe=Math.max(0,100-ke);return{...ie,portfolioId:ze,investmentType:We?.type||he(ze),allocationPct:Math.min(ie.allocationPct,oe)}}return ie})),X(!0)}async function St(){if(yt){Z(!0),S("Saving...");try{await u(O,R.filter(ue=>ue.allocationPct>0)),b("Allocation updated"),nt()}catch(ue){b(ue.message||"Failed to save","error")}finally{w(),Z(!1)}}}if(r===null)return s.jsx(ns,{title:"Loading goals",cards:5});async function tr(ue){S("Saving...");try{C?.edit?await a(C.edit.goalId,ue):await n(ue),b(C?.edit?"Goal updated":"Goal added"),M(null)}catch(be){b(be.message||"Failed to save goal","error")}finally{w()}}async function rr(){if(C?.edit&&await y("Delete this goal?",{title:"Delete Goal",confirmLabel:"Delete"})){const ue=C.edit.goalId,be=(c||[]).filter(ze=>ze.goalId===ue);S("Deleting...");try{if(await l(ue),M(null),be.length>0){const ze=be.some(Y=>(c||[]).some(ie=>ie.portfolioId===Y.portfolioId&&ie.goalId!==ue));b(ze?"Goal deleted  shared allocations freed":"Goal deleted")}else b("Goal deleted")}catch(ze){b(ze.message||"Failed to delete goal","error")}finally{w()}}}function as(ue){return!ue.targetAmount||ue.targetAmount===0?0:Math.min((ue.currentValue||0)/ue.targetAmount*100,100)}function la(ue){if(!ue.targetDate)return null;const ze=(new Date(ue.targetDate)-new Date)/(365.25*24*60*60*1e3);return ze>0?ze.toFixed(1):"0"}return s.jsxs("div",{className:"space-y-4",children:[$.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(Eh,{size:32,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No goals set",t?` for ${t.memberName}`:""]}),s.jsx("button",{onClick:()=>M("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first goal"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[s.jsx(Wo,{label:"Target",value:Q(L),bold:!0}),s.jsx(Wo,{label:"Current Value",value:Q(te),bold:!0}),s.jsx(Wo,{label:"Gap",value:Q(Math.max(L-te,0)),positive:L<=te,bold:!0}),s.jsx(Wo,{label:"Progress",value:`${ae.toFixed(1)}%`,sub:`${$.length} goal${$.length!==1?"s":""}${fe>0?`  ${fe} done`:""}`,positive:ae>=50,bold:!0}),s.jsx(Wo,{label:"Required SIP",value:Q(xe),sub:ge>0?`${ge} need attention`:"per month"}),s.jsx(Wo,{label:"Required Lumpsum",value:Q(B),sub:"one-time today"})]}),E&&s.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-500/10 via-yellow-500/10 to-emerald-500/10 rounded-xl border border-emerald-500/30 px-4 py-3 flex items-center gap-3 animate-fade-in overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((ue,be)=>s.jsx("span",{className:"absolute text-sm animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:["","","","",""][be%5]},be))}),s.jsx(MC,{size:20,className:"text-yellow-400 shrink-0 relative z-10"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("p",{className:"text-sm font-bold text-emerald-400",children:"Goal Achieved!"}),s.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[E.goalName,"  Congratulations!"]})]}),s.jsx("button",{onClick:()=>T(null),className:"ml-auto text-xs text-[var(--text-dim)] hover:text-[var(--text-primary)] relative z-10",children:"Dismiss"})]}),ye.length>0&&s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-amber-500/20 p-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(U8,{size:14,className:"text-amber-400"}),s.jsx("p",{className:"text-xs font-bold text-amber-400 uppercase tracking-wider",children:"De-risking Alerts"})]}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"These goals are approaching their deadline with high equity exposure. Consider moving funds to debt/liquid for capital protection."}),s.jsx("div",{className:"space-y-1.5",children:ye.map(ue=>s.jsxs("div",{className:"flex items-center justify-between bg-amber-500/5 rounded-lg px-3 py-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:ue.goalName}),s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[ue.yearsLeft," yrs left"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-xs font-bold text-amber-400",children:[ue.equityPct,"% equity"]}),s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Recommended max ",ue.maxEquity,"%"]})]})]},ue.goalId))})]}),s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>M("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Or,{size:14})," Add Goal"]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:$.map(ue=>{const be=as(ue),ze=la(ue),Y=O===ue.goalId,ie=Y?R:(c||[]).filter(ke=>ke.goalId===ue.goalId),Ae=(c||[]).filter(ke=>ke.goalId===ue.goalId).length,We=ie.reduce((ke,oe)=>{const Ge=Se[oe.portfolioId];return ke+(Ge?Ge.value*oe.allocationPct/100:0)},0);return s.jsxs("div",{className:`bg-[var(--bg-card)] rounded-xl border overflow-hidden transition-colors ${Y?"border-violet-500/40":"border-[var(--border)]"}`,children:[s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-[var(--text-primary)] truncate",children:ue.goalName}),s.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[s.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:G(ue)}),s.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded ${ole[ue.priority]||""}`,children:ue.priority})]})]}),s.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full shrink-0 ${lle[ue.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:ue.status})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full transition-all ${cle[ue.status]||"bg-blue-500"}`,style:{width:`${be}%`}})}),s.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums w-10 text-right",children:[be.toFixed(0),"%"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5 mb-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Current"}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(ue.currentValue)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Target"}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(ue.targetAmount)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Required SIP"}),s.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[Q(ue.monthlyInvestment),"/mo"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Timeline"}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:ue.status==="Achieved"?"Done":ze?`${ze} yrs left`:""})]})]}),s.jsxs("div",{className:"flex items-center gap-1 pt-2 border-t border-[var(--border-light)]",children:[s.jsxs("button",{onClick:ke=>{ke.stopPropagation(),Ie(ue.goalId)},className:`flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold rounded-lg transition-colors ${Y?"bg-violet-500/20 text-violet-400":Ae>0?"text-violet-400 hover:bg-violet-500/10":"text-amber-400 hover:bg-amber-500/10"}`,children:[s.jsx(VO,{size:11}),Y?"Linking...":Ae>0?`${Ae} linked`:"Link",!Y&&Ae===0&&s.jsx("span",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full animate-pulse"})]}),ue.status==="Achieved"&&s.jsxs("button",{onClick:()=>_(ue),className:"flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold text-[var(--text-dim)] hover:text-emerald-400 hover:bg-emerald-500/10 rounded-lg transition-colors",children:[s.jsx(BO,{size:11})," Withdraw"]}),s.jsxs("button",{onClick:()=>M({edit:ue}),className:"flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-white/5 rounded-lg transition-colors ml-auto",children:[s.jsx(Aa,{size:11})," Edit"]})]})]}),Y&&s.jsxs("div",{className:"px-4 pb-4 space-y-2 border-t border-violet-500/20 bg-violet-500/[0.03]",children:[s.jsxs("div",{className:"flex items-center justify-between pt-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oi,{size:12,className:"text-violet-400"}),s.jsx("span",{className:"text-xs font-semibold text-violet-400",children:"Link Investments"})]}),We>0&&s.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["Linked value: ",Q(We)]})]}),R.map((ke,oe)=>{const Ge=K.find(He=>He.id===ke.portfolioId),Fe=tt[ke.portfolioId],Ht=Fe?.total||0,Wt=100-Ht,$t=Ht+(ke.allocationPct||0);return s.jsxs("div",{className:`bg-[var(--bg-card)] rounded-lg border p-2.5 space-y-1.5 ${$t>100?"border-rose-500/40":"border-[var(--border-light)]"}`,children:[s.jsxs("select",{value:ke.portfolioId,onChange:He=>ot(oe,"portfolioId",He.target.value),className:"w-full px-2 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",children:[Ee.length>0&&s.jsx("optgroup",{label:"MF Portfolios",children:Ee.map(He=>{const Ze=(tt[He.id]?.total||0)>=100,je=R.some((Je,Ue)=>Ue!==oe&&Je.portfolioId===He.id);return s.jsxs("option",{value:He.id,disabled:je||Ze,children:[He.name,He.owner?` (${He.owner})`:"","  ",Q(He.value),Ze?" (Fully allocated)":""]},He.id)})}),$e.length>0&&s.jsx("optgroup",{label:"Stock Portfolios",children:$e.map(He=>{const Ze=(tt[He.id]?.total||0)>=100,je=R.some((Je,Ue)=>Ue!==oe&&Je.portfolioId===He.id);return s.jsxs("option",{value:He.id,disabled:je||Ze,children:[He.name,He.owner?` (${He.owner})`:"","  ",Q(He.value),Ze?" (Fully allocated)":""]},He.id)})}),ve.length>0&&s.jsx("optgroup",{label:"Other Investments",children:ve.map(He=>{const Ze=(tt[He.id]?.total||0)>=100,je=R.some((Je,Ue)=>Ue!==oe&&Je.portfolioId===He.id);return s.jsxs("option",{value:He.id,disabled:je||Ze,children:[He.name,He.owner?` (${He.owner})`:"","  ",Q(He.value),Ze?" (Fully allocated)":""]},He.id)})})]}),Ht>0&&s.jsxs("div",{className:`text-[10px] px-2 py-1 rounded ${$t>100?"bg-rose-500/10 text-rose-400":"bg-blue-500/10 text-blue-400"}`,children:[Fe.goals.map(He=>`${He.goalName} (${He.pct}%)`).join(", "),"  ",s.jsxs("span",{className:"font-bold",children:["Available: ",Math.max(0,Wt),"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Allocation"}),s.jsx("input",{type:"number",value:ke.allocationPct,onChange:He=>ot(oe,"allocationPct",He.target.value),className:"w-16 px-2 py-1 text-xs text-center bg-[var(--bg-input)] border border-[var(--border-input)] rounded-md text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",min:"0",max:Wt}),s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"}),s.jsx("button",{onClick:()=>Bt(oe),className:"p-1 text-[var(--text-dim)] hover:text-rose-400 rounded transition-colors ml-1",children:s.jsx(_h,{size:12})})]}),Ge&&s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Contributes ",Q(Ge.value*ke.allocationPct/100)]})]})]},oe)}),Ye.length>0&&s.jsxs("div",{className:"bg-rose-500/10 border border-rose-500/20 rounded-lg px-3 py-2 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Hs,{size:12,className:"text-rose-400 shrink-0"}),s.jsx("span",{className:"text-[10px] font-bold text-rose-400 uppercase",children:"Over-allocated"})]}),Ye.map((ke,oe)=>s.jsxs("p",{className:"text-[10px] text-rose-300",children:[ke.name,": ",ke.combined,"% total (exceeds by ",ke.excess,"%)"]},oe))]}),(()=>{const ke=new Set(R.map(Ge=>Ge.portfolioId));return K.some(Ge=>!ke.has(Ge.id)&&(tt[Ge.id]?.total||0)<100)&&s.jsxs("button",{onClick:qe,className:"flex items-center gap-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[s.jsx(Or,{size:14})," Link Investment"]})})(),s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2 border-t border-[var(--border-light)]",children:[s.jsx("button",{onClick:nt,className:"px-4 py-1.5 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),s.jsx("button",{onClick:St,disabled:!D||!yt||W,className:"px-5 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"})]})]})]},ue.goalId)})}),fe>0&&s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-emerald-500/20 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(MC,{size:14,className:"text-yellow-400"}),s.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Achieved Goals"})]}),s.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-1",children:$.filter(ue=>ue.status==="Achieved").map(ue=>s.jsxs("div",{className:"shrink-0 bg-emerald-500/10 border border-emerald-500/20 rounded-lg px-3 py-2 min-w-[160px]",children:[s.jsx("p",{className:"text-xs font-semibold text-emerald-400",children:ue.goalName}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] mt-1",children:Q(ue.targetAmount)}),s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:G(ue)})]},ue.goalId))})]})]}),s.jsx(pr,{open:!!C,onClose:()=>M(null),title:C?.edit?"Edit Goal":"Add Goal",wide:!0,children:s.jsx(ile,{initial:C?.edit||void 0,onSave:tr,onDelete:C?.edit?rr:void 0,onCancel:()=>M(null)})}),s.jsx(pr,{open:!!A,onClose:()=>_(null),title:`Withdrawal Plan  ${A?.goalName||""}`,wide:!0,children:A&&s.jsx(sle,{goal:A,onClose:()=>_(null)})})]})}function Wo({label:e,value:t,sub:r,positive:n,bold:a}){return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:t}),r&&s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:r})]})}const dle=[{label:"Family Members",desc:"Manage family profiles",icon:sc,path:"/family",color:"bg-violet-500/15 text-violet-400"},{label:"Investment Accounts",desc:"Demat & trading accounts",icon:FO,path:"/accounts/investment",color:"bg-blue-500/15 text-blue-400"},{label:"Insurance",desc:"Life & health policies",icon:td,path:"/insurance",color:"bg-cyan-500/15 text-cyan-400"},{label:"Stocks",desc:"Stock portfolio holdings",icon:Ju,path:"/investments/stocks",color:"bg-indigo-500/15 text-indigo-400"},{label:"Other Investments",desc:"FD, PPF, Gold, NPS & more",icon:KO,path:"/investments/other",color:"bg-teal-500/15 text-teal-400"},{label:"Liabilities",desc:"Loans & outstanding balances",icon:Dh,path:"/liabilities",color:"bg-rose-500/15 text-rose-400"}],fle=[{label:"Reports & Transactions",desc:"View transaction history",icon:HO,path:"/reports",color:"bg-blue-500/15 text-[var(--accent-blue)]"},{label:"Reminders",desc:"View and manage reminders",icon:kh,path:"/reminders",color:"bg-amber-500/15 text-[var(--accent-amber)]"},{label:"Health Check",desc:"Financial health questionnaire",icon:Zb,path:"/health-check",color:"bg-emerald-500/15 text-emerald-400"},{label:"Settings",desc:"App configuration",icon:JO,path:"/settings",color:"bg-slate-500/15 text-[var(--text-muted)]"},{label:"About",desc:"Capital Friends v2.0",icon:p8,path:"/about",color:"bg-violet-500/15 text-[var(--accent-violet)]"},{label:"Support Developer",desc:"UPI: jagadeeshmanne.hdfc@kphdfc",icon:xp,path:"/about",color:"bg-pink-500/15 text-pink-400"}];function O_({item:e,onClick:t}){return s.jsxs("button",{onClick:t,className:"w-full flex items-center gap-3 bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-3.5 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[s.jsx("div",{className:`w-9 h-9 rounded-lg flex items-center justify-center shrink-0 ${e.color}`,children:s.jsx(e.icon,{size:17})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:e.label}),s.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:e.desc})]}),s.jsx(nd,{size:14,className:"text-[var(--text-dim)] shrink-0"})]})}function mle(){const e=eo();return s.jsxs("div",{className:"space-y-5",children:[s.jsx("h1",{className:"text-base font-bold text-[var(--text-primary)]",children:"More"}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-dim)] px-1",children:"Navigate"}),s.jsx("div",{className:"space-y-1.5",children:dle.map(t=>s.jsx(O_,{item:t,onClick:()=>e(t.path)},t.label))})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-dim)] px-1",children:"Tools & Settings"}),s.jsx("div",{className:"space-y-1.5",children:fle.map(t=>s.jsx(O_,{item:t,onClick:()=>e(t.path)},t.label))})]})]})}const Vm=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function ple(){const e=eo(),{theme:t,toggle:r}=PO(),{members:n,settings:a,updateSettings:l,updateMember:c,healthCheckCompleted:u}=ht(),{user:f,signOut:m}=to(),{masked:h,toggleMask:v,mv:x}=si(),b=n.filter(Z=>Z.status==="Active"),[S,w]=j.useState("Daily"),[y,C]=j.useState("09"),[M,A]=j.useState("Monday"),[_,E]=j.useState(!1),[T,P]=j.useState(!1),[O,z]=j.useState(!1),[R,F]=j.useState(null);j.useEffect(()=>{!a||!Object.keys(a).length||(a.EmailFrequency&&w(a.EmailFrequency),a.EmailHour!=null&&C(String(a.EmailHour).padStart(2,"0")),a.EmailDayOfWeek!=null&&A(Vm[Number(a.EmailDayOfWeek)]||"Monday"))},[a]);async function D(){E(!0),P(!1);try{const Z=Vm.indexOf(M);await l({EmailFrequency:S==="None"?"None":S,EmailConfigured:S==="None"?"FALSE":"TRUE",EmailHour:String(parseInt(y,10)),EmailMinute:"0",EmailDayOfWeek:String(Z>=0?Z:1)}),P(!0),setTimeout(()=>P(!1),2e3)}catch(Z){alert("Failed to save: "+Z.message)}finally{E(!1)}}async function X(){z(!0),F(null);try{const Z=await Xz();F(Z)}catch(Z){F({error:Z.message})}finally{z(!1)}}function W(Z){if(!Z)return"Never";try{const $=new Date(Z);if(isNaN($.getTime()))return"Unknown";const G=Date.now(),L=Math.floor((G-$.getTime())/(1e3*60));if(L<1)return"Just now";if(L<60)return L+" min ago";const te=Math.floor(L/60);return te<24?te+"h ago":$.toLocaleDateString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}}return s.jsxs("div",{className:"space-y-4 max-w-xl mx-auto",children:[s.jsxs(Sl,{children:[s.jsx(Cl,{icon:s.jsx(eB,{size:14}),title:"Account"}),s.jsxs("div",{className:"px-4 py-4 space-y-3",children:[s.jsx(En,{label:"Signed in as",children:s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate max-w-[200px]",children:x(f?.email,"email")||""})}),s.jsx(En,{label:"Name",children:s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:f?.name||""})}),s.jsx("div",{className:"pt-1",children:s.jsxs("button",{onClick:m,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-red-500 border border-red-200 dark:border-red-800/40 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[s.jsx(WO,{size:12}),"Sign Out"]})})]})]}),s.jsxs(Sl,{children:[s.jsx(Cl,{icon:s.jsx(Zb,{size:14}),title:"Financial Health Check"}),s.jsxs("div",{className:"px-4 py-4 space-y-3",children:[s.jsx(En,{label:"Status",children:s.jsx("span",{className:`text-xs font-semibold ${u?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:u?"Completed":"Not completed"})}),s.jsx("div",{className:"flex justify-end pt-1",children:s.jsxs("button",{onClick:()=>e("/health-check"),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx(Zb,{size:12}),u?"Update Answers":"Take Health Check"]})})]})]}),s.jsxs(Sl,{children:[s.jsx(Cl,{icon:s.jsx(KF,{size:14}),title:"Data & Sync"}),s.jsxs("div",{className:"px-4 py-4 space-y-3",children:[s.jsx(En,{label:"Last synced",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:W(a.masterDataLastSync)}),a._stale&&s.jsx("span",{className:"text-[10px] font-bold text-amber-600 px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30",children:"STALE"})]})}),a._navDataDate&&s.jsx(En,{label:"NAV data as of",children:s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:a._navDataDate})}),s.jsx(En,{label:"Auto-refresh",children:s.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Daily at ~6:30 AM"})}),s.jsxs("div",{className:"flex items-center justify-between pt-1",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Refresh MF NAVs, ATH & Stock prices"}),s.jsxs("button",{onClick:X,disabled:O,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg bg-violet-600 text-white hover:bg-violet-500 transition-colors disabled:opacity-50",children:[s.jsx(ec,{size:12,className:O?"animate-spin":""}),O?"Refreshing...":"Refresh Now"]})]}),R&&s.jsx("div",{className:`text-xs px-3 py-2 rounded-lg ${R.error?"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400":"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400"}`,children:R.error?"Failed: "+R.error:`Done  MF: ${R.mf?.count||0} | ATH: ${R.ath?.count||0} | Stocks: ${R.stocks?.count||0} (${R.duration})`})]})]}),s.jsxs(Sl,{children:[s.jsx(Cl,{icon:s.jsx(bp,{size:14}),title:"Appearance"}),s.jsx("div",{className:"px-4 py-4",children:s.jsx(En,{label:"Theme",children:s.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[t==="dark"?s.jsx(Xb,{size:12}):s.jsx(bp,{size:12}),t==="dark"?"Dark":"Light"]})})})]}),s.jsxs(Sl,{children:[s.jsx(Cl,{icon:s.jsx(A8,{size:14}),title:"Email Reports"}),s.jsxs("div",{className:"px-4 py-4 space-y-3",children:[s.jsx(En,{label:"Frequency",children:s.jsx(Gb,{value:S,onChange:w,options:["Daily","Weekly","Monthly","None"]})}),S!=="None"&&s.jsx(En,{label:"Send time",children:s.jsx(Gb,{value:y,onChange:C,options:Array.from({length:24},(Z,$)=>String($).padStart(2,"0")),suffix:":00"})}),S==="Weekly"&&s.jsx(En,{label:"Day",children:s.jsx(Gb,{value:M,onChange:A,options:Vm.slice(1).concat(Vm[0])})}),s.jsx("div",{className:"flex justify-end pt-1",children:s.jsx("button",{onClick:D,disabled:_,className:"px-4 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:_?"Saving...":T?"Saved!":"Save"})}),b.length>0&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Send report to"}),s.jsx("div",{className:"space-y-2",children:b.map(Z=>s.jsx(hle,{member:Z,onToggle:c},Z.memberId))})]})}),b.length===0&&s.jsx("p",{className:"text-xs text-[var(--text-dim)] pt-1",children:"Add family members to configure email recipients."})]})]}),s.jsxs(Sl,{children:[s.jsx(Cl,{icon:s.jsx(ed,{size:14}),title:"Privacy"}),s.jsxs("div",{className:"px-4 py-4 space-y-3",children:[s.jsx(En,{label:"Mask sensitive data",children:s.jsx("button",{onClick:v,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 ${h?"bg-amber-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:s.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${h?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[h?"Sensitive data is hidden. ":"","Masks PAN, Aadhaar, mobile, email, account numbers, client IDs, and policy numbers across the app. Use the ",h?s.jsx(ed,{size:11,className:"inline text-amber-400"}):s.jsx(vp,{size:11,className:"inline"})," icon in the header to quickly toggle."]}),h&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[s.jsx(ed,{size:14,className:"text-amber-400 shrink-0"}),s.jsx("p",{className:"text-xs text-amber-400 font-medium",children:"Data masking is active  safe for screen sharing"})]})]})]}),s.jsxs(Sl,{children:[s.jsx(Cl,{icon:s.jsx(c8,{size:14}),title:"Display"}),s.jsxs("div",{className:"px-4 py-4 space-y-3",children:[s.jsx(En,{label:"Currency",children:s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"INR ()"})}),s.jsx(En,{label:"Date format",children:s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"DD/MM/YYYY"})})]})]})]})}function Sl({children:e}){return s.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:e})}function Cl({icon:e,title:t}){return s.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[var(--text-muted)]",children:e}),s.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:t})]})})}function En({label:e,children:t}){return s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] shrink-0",children:e}),t]})}function Gb({value:e,onChange:t,options:r,suffix:n}){return s.jsxs("div",{className:"relative",children:[s.jsx("select",{value:e,onChange:a=>t(a.target.value),className:"appearance-none pl-3 pr-7 py-1.5 text-xs font-semibold bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-violet-500 cursor-pointer",children:r.map(a=>s.jsxs("option",{value:a,children:[a,n||""]},a))}),s.jsx(Oi,{size:10,className:"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function hle({member:e,onToggle:t}){const{mv:r}=si(),n=e.includeInEmailReports==="Yes"||e.includeInEmailReports===!0,[a,l]=j.useState(!1);async function c(){l(!0);try{await t(e.memberId,{...e,includeInEmailReports:n?"No":"Yes"})}catch{}finally{l(!1)}}return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center shrink-0",children:s.jsx("span",{className:"text-[10px] font-bold text-violet-600",children:e.memberName?.charAt(0)?.toUpperCase()})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:r(e.memberName,"name")}),e.email&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] truncate",children:r(e.email,"email")})]})]}),s.jsx("button",{onClick:c,disabled:a,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 disabled:opacity-50 ${n?"bg-violet-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:s.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${n?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})]})}const vle=["SIP Due Date","Insurance Renewal","FD Maturity","Loan EMI","Investment Review","Custom"].map(e=>({value:e,label:e})),xle=[{value:"One-time",label:"One-time"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],gle=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}];function ble({initial:e,onSave:t,onDelete:r,onCancel:n}){const a=!!e,{activeMembers:l}=ht(),c=l.map(y=>({value:y.memberId,label:y.memberName})),[u,f]=j.useState({reminderType:e?.reminderType||"",title:e?.title||"",description:e?.description||"",familyMemberId:e?.familyMemberId||"",dueDate:e?.dueDate||"",advanceNoticeDays:e?.advanceNoticeDays?.toString()||"7",frequency:e?.frequency||"One-time",priority:e?.priority||"Medium",status:e?.status||"Pending"}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(y,C){f(M=>({...M,[y]:C})),h(M=>({...M,[y]:void 0}))}function S(){const y={};return u.reminderType||(y.reminderType="Required"),u.title.trim()||(y.title="Required"),u.familyMemberId||(y.familyMemberId="Required"),u.dueDate||(y.dueDate="Required"),h(y),Object.keys(y).length===0}async function w(){if(S()){x(!0);try{await t({...u,advanceNoticeDays:Number(u.advanceNoticeDays)||7})}finally{x(!1)}}}return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Reminder Type",required:!0,error:m.reminderType,children:s.jsx(Qe,{value:u.reminderType,onChange:y=>b("reminderType",y),options:vle,placeholder:"Select type..."})}),s.jsx(le,{label:"Title",required:!0,error:m.title,children:s.jsx(Me,{value:u.title,onChange:y=>b("title",y),placeholder:"e.g., HDFC SIP Due"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(le,{label:"Family Member",required:!0,error:m.familyMemberId,children:s.jsx(Qe,{value:u.familyMemberId,onChange:y=>b("familyMemberId",y),options:c,placeholder:"Select member..."})}),s.jsx(le,{label:"Due Date",required:!0,error:m.dueDate,children:s.jsx(ei,{value:u.dueDate,onChange:y=>b("dueDate",y),maxDate:null})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(le,{label:"Frequency",children:s.jsx(Qe,{value:u.frequency,onChange:y=>b("frequency",y),options:xle})}),s.jsx(le,{label:"Priority",children:s.jsx(Qe,{value:u.priority,onChange:y=>b("priority",y),options:gle})}),s.jsx(le,{label:"Advance Notice (days)",children:s.jsx(Me,{type:"number",value:u.advanceNoticeDays,onChange:y=>b("advanceNoticeDays",y),placeholder:"7"})})]}),a&&s.jsx(le,{label:"Status",children:s.jsx(Qe,{value:u.status,onChange:y=>b("status",y),options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"}]})}),s.jsx(le,{label:"Description",children:s.jsx(yc,{value:u.description,onChange:y=>b("description",y),placeholder:"Optional details...",rows:2})}),s.jsxs("div",{className:"flex items-center justify-between",children:[a&&r?s.jsx(rs,{onClick:r,label:"Delete"}):s.jsx("div",{}),s.jsx(nn,{onCancel:n,onSubmit:w,submitLabel:a?"Update Reminder":"Add Reminder",loading:v})]})]})}const Gm={"SIP Due Date":"bg-violet-500/15 text-[var(--accent-violet)]","Insurance Renewal":"bg-amber-500/15 text-[var(--accent-amber)]","FD Maturity":"bg-blue-500/15 text-[var(--accent-blue)]","Loan EMI":"bg-rose-500/15 text-[var(--accent-rose)]","Investment Review":"bg-emerald-500/15 text-emerald-400",Custom:"bg-slate-500/15 text-[var(--text-muted)]"},T_={High:"bg-rose-500",Medium:"bg-amber-500",Low:"bg-blue-500"};function Ko(e){if(!e)return 1/0;const t=new Date(e)-new Date;return Math.ceil(t/(1440*60*1e3))}function yle(){const{selectedMember:e,member:t}=Hr(),{reminderList:r,addReminder:n,updateReminder:a,deleteReminder:l}=ht(),{showToast:c,showBlockUI:u,hideBlockUI:f}=ai(),m=ii(),[h,v]=j.useState(null),x=j.useMemo(()=>{const _=r.filter(E=>E.isActive!==!1);return e==="all"?_:_.filter(E=>E.familyMemberId===e)},[r,e]),b=x.filter(_=>Ko(_.dueDate)<0).length,S=x.filter(_=>{const E=Ko(_.dueDate);return E>=0&&E<=7}).length,w=x.filter(_=>{const E=Ko(_.dueDate);return E>7&&E<=30}).length,y=[...x].sort((_,E)=>{const T=Ko(_.dueDate),P=Ko(E.dueDate);return T-P});async function C(_){u("Saving...");try{h?.edit?await a(h.edit.reminderId,_):await n(_),c(h?.edit?"Reminder updated":"Reminder added"),v(null)}catch(E){c(E.message||"Failed to save reminder","error")}finally{f()}}async function M(){if(h?.edit&&await m("Delete this reminder?",{title:"Delete Reminder",confirmLabel:"Delete"})){u("Deleting...");try{await l(h.edit.reminderId),c("Reminder deleted"),v(null)}catch(_){c(_.message||"Failed to delete reminder","error")}finally{f()}}}function A(_){const E=Ko(_);return E<0?{label:`${Math.abs(E)}d overdue`,cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:E===0?{label:"Today",cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:E<=7?{label:`${E}d`,cls:"bg-amber-500/20 text-[var(--accent-amber)]"}:E<=30?{label:`${E}d`,cls:"bg-blue-500/20 text-[var(--accent-blue)]"}:{label:`${E}d`,cls:"bg-slate-500/20 text-[var(--text-muted)]"}}return s.jsxs("div",{className:"space-y-4",children:[x.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(NF,{size:32,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No reminders",t?` for ${t.memberName}`:""]}),s.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a reminder"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[s.jsx(Wm,{label:"Active",value:x.length}),b>0&&s.jsx(Wm,{label:"Overdue",value:b,color:"rose"}),S>0&&s.jsx(Wm,{label:"Due This Week",value:S,color:"amber"}),s.jsx(Wm,{label:"Next 30 Days",value:w})]}),s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Or,{size:14})," Add Reminder"]})}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[680px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Reminder"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),!t&&s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Due Date"}),s.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Frequency"}),s.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),s.jsx("tbody",{children:y.map(_=>{const E=A(_.dueDate);return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsx("td",{className:"py-2.5 px-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${T_[_.priority]||"bg-slate-400"}`}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:_.title}),_.description&&s.jsx("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[200px]",children:_.description})]})]})}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Gm[_.reminderType]||Gm.Custom}`,children:_.reminderType})}),!t&&s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:_.familyMemberName}),s.jsx("td",{className:"py-2.5 px-3 text-center",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:_.dueDate}),s.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${E.cls}`,children:E.label})]})}),s.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)]",children:_.frequency}),s.jsx("td",{className:"py-2.5 px-3 text-center",children:s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${_.status==="Pending"?"bg-amber-500/15 text-[var(--accent-amber)]":"bg-emerald-500/15 text-emerald-400"}`,children:_.status})}),s.jsx("td",{className:"py-2.5 px-2",children:s.jsx("button",{onClick:()=>v({edit:_}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:s.jsx(Aa,{size:12})})})]},_.reminderId)})})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:y.map(_=>{const E=A(_.dueDate);return s.jsxs("div",{onClick:()=>v({edit:_}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${T_[_.priority]||"bg-slate-400"}`}),s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:_.title})]}),s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ml-2 ${Gm[_.reminderType]||Gm.Custom}`,children:_.reminderType})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[_.familyMemberName,"  ",_.frequency]}),s.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${E.cls}`,children:E.label})]})]},_.reminderId)})})]})]}),s.jsx(pr,{open:!!h,onClose:()=>v(null),title:h?.edit?"Edit Reminder":"Add Reminder",wide:!0,children:s.jsx(ble,{initial:h?.edit||void 0,onSave:C,onDelete:h?.edit?M:void 0,onCancel:()=>v(null)})})]})}function Wm({label:e,value:t,color:r}){const n=r==="rose"?"text-[var(--accent-rose)]":r==="amber"?"text-[var(--accent-amber)]":"text-[var(--text-primary)]";return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm font-bold tabular-nums ${n}`,children:t})]})}const P_={BUY:"bg-emerald-500/15 text-emerald-400",SELL:"bg-rose-500/15 text-[var(--accent-rose)]"},wle={INITIAL:"bg-violet-500/15 text-[var(--accent-violet)]",SIP:"bg-blue-500/15 text-[var(--accent-blue)]",LUMPSUM:"bg-emerald-500/15 text-emerald-400",WITHDRAWAL:"bg-amber-500/15 text-[var(--accent-amber)]",SWITCH:"bg-orange-500/15 text-[var(--accent-orange)]"};function jle(){const{selectedMember:e}=Hr(),{mfTransactions:t,mfPortfolios:r,stockTransactions:n,stockPortfolios:a}=ht(),[l,c]=j.useState("mf"),[u,f]=j.useState("all"),m=j.useMemo(()=>{let w=[...t].sort((y,C)=>new Date(C.date)-new Date(y.date));if(e!=="all"){const y=new Set(r.filter(C=>C.ownerId===e).map(C=>C.portfolioId));w=w.filter(C=>y.has(C.portfolioId))}return u!=="all"&&(w=w.filter(y=>y.type===u)),w},[t,r,e,u]),h=j.useMemo(()=>{let w=[...n].sort((y,C)=>new Date(C.date)-new Date(y.date));if(e!=="all"){const y=new Set(a.filter(C=>C.ownerId===e).map(C=>C.portfolioId));w=w.filter(C=>y.has(C.portfolioId))}return u!=="all"&&(w=w.filter(y=>y.type===u)),w},[n,a,e,u]),v=l==="mf"?m:h,x=v.filter(w=>w.type==="BUY").reduce((w,y)=>w+(y.totalAmount||0),0),b=v.filter(w=>w.type==="SELL").reduce((w,y)=>w+(y.totalAmount||0),0),S=v.reduce((w,y)=>w+(y.gainLoss||y.realizedPL||0),0);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[s.jsx(Km,{label:"Transactions",value:v.length}),s.jsx(Km,{label:"Total Bought",value:Q(x)}),s.jsx(Km,{label:"Total Sold",value:Q(b)}),s.jsx(Km,{label:"Realized P&L",value:`${S>=0?"+":""}${Q(Math.abs(S))}`,positive:S>=0,bold:!0})]}),s.jsxs("div",{className:"flex items-center justify-between px-1",children:[s.jsx("div",{className:"flex gap-1",children:["mf","stocks"].map(w=>s.jsx("button",{onClick:()=>c(w),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${l===w?"bg-violet-500/20 text-violet-400 border border-violet-500/30":"text-[var(--text-dim)] hover:text-[var(--text-primary)] border border-transparent"}`,children:w==="mf"?"Mutual Funds":"Stocks"},w))}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(UO,{size:12,className:"text-[var(--text-dim)]"}),["all","BUY","SELL"].map(w=>s.jsx("button",{onClick:()=>f(w),className:`px-2 py-1 text-xs font-semibold rounded transition-colors ${u===w?"bg-[var(--bg-card)] text-[var(--text-primary)] border border-[var(--border)]":"text-[var(--text-dim)] hover:text-[var(--text-muted)]"}`,children:w==="all"?"All":w},w))]})]}),s.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:v.length===0?s.jsxs("div",{className:"py-12 flex flex-col items-center gap-3",children:[s.jsx(HO,{size:32,className:"text-[var(--text-dim)]"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:l==="mf"?"Fund":"Stock"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Portfolio"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:l==="mf"?"Units":"Qty"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:l==="mf"?"NAV":"Price"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"})]})}),s.jsx("tbody",{children:v.map(w=>{const y=w.gainLoss||w.realizedPL||0;return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-muted)] tabular-nums",children:w.date}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${P_[w.type]||""}`,children:w.type}),w.transactionType&&s.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${wle[w.transactionType]||""}`,children:w.transactionType})]})}),s.jsxs("td",{className:"py-2.5 px-3",children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:w.fundName||w.companyName}),s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:w.fundCode||w.symbol})]}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)]",children:w.portfolioName||""}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:(w.units||w.quantity||0).toFixed(l==="mf"?2:0)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(w.price||w.pricePerShare||0)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(w.totalAmount||0)}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:y!==0?s.jsxs("span",{className:`text-xs font-semibold tabular-nums ${y>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[y>=0?"+":"",Q(Math.abs(y))]}):s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},w.transactionId)})})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:v.map(w=>(w.gainLoss||w.realizedPL,s.jsxs("div",{className:"px-4 py-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:w.fundName||w.companyName}),s.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded shrink-0 ${P_[w.type]||""}`,children:w.type})]}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[w.date,"  ",w.portfolioName]}),s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[(w.units||w.quantity||0).toFixed(l==="mf"?2:0)," @ ",Q(w.price||w.pricePerShare||0)]}),s.jsx("span",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(w.totalAmount||0)})]})]},w.transactionId)))})]})})]})}function Km({label:e,value:t,positive:r,bold:n}){return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm tabular-nums ${n?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t})]})}const Ba=[{id:"healthIns",question:"Does your family have Health Insurance?",tip:"50L to 1Cr family floater recommended (considering inflation & future expenses)",category:"Insurance"},{id:"termLife",question:"Do you have adequate Term Life Insurance?",tip:"Recommended: 10-15x annual income",category:"Insurance"},{id:"emergencyFund",question:"Do you have an Emergency Fund?",tip:"6-12 months of monthly expenses in liquid assets",category:"Savings"},{id:"familyAware",question:"Is your family aware of all investments?",tip:"Ensure nominees and family know about all assets",category:"Planning"},{id:"hasWill",question:"Do you have a Will?",tip:"Legal document for asset distribution",category:"Planning"},{id:"nominees",question:"Have you updated Nominees on all accounts?",tip:"Bank, demat, insurance, MF  all should have nominees",category:"Planning"},{id:"goals",question:"Do you have clearly defined Financial Goals?",tip:"Retirement, education, home  with target amounts and dates",category:"Goals"}];function Nle(){const e=eo(),{members:t,insurancePolicies:r,goalList:n,otherInvList:a,healthCheckCompleted:l,completeHealthCheck:c}=ht(),u=t.filter(R=>R.status==="Active"),f=l===!1,[m,h]=j.useState(!1),[v,x]=j.useState(!0),[b,S]=j.useState(null),w=j.useMemo(()=>{const R={},F=r.filter(Z=>Z.policyType==="Health"&&Z.status==="Active");R.healthIns=F.length>0;const D=r.filter(Z=>Z.policyType==="Term Life"&&Z.status==="Active");R.termLife=D.length>0;const X=n.filter(Z=>Z.goalType==="Emergency Fund"&&Z.isActive),W=a.filter(Z=>Z.investmentType==="FD"||Z.investmentType==="PPF");return R.emergencyFund=X.length>0||W.length>0,R.goals=n.filter(Z=>Z.isActive).length>=2,R},[r,n,a]);j.useEffect(()=>{let R=!1;async function F(){const D=await _O("healthCheckAnswers");!R&&D&&(S(D),x(!1));try{const X=await EO();!R&&X&&(S(X),pn("healthCheckAnswers",X))}catch{}R||x(!1)}return F(),()=>{R=!0}},[]);const[y,C]=j.useState(()=>{const R={};return Ba.forEach(F=>{R[F.id]=w[F.id]?"yes":""}),R});j.useEffect(()=>{b&&C(R=>{const F={...R};return Ba.forEach(D=>{const X=b[D.id];X==="Yes"?F[D.id]="yes":X==="No"&&(F[D.id]="no")}),F})},[b]);const M=Object.values(y).filter(R=>R).length,A=Object.values(y).filter(R=>R==="yes").length,_=M===Ba.length,E=M>0?Math.round(A/Ba.length*100):0;function T(){return E>=80?"text-emerald-400":E>=50?"text-[var(--accent-amber)]":"text-[var(--accent-rose)]"}function P(){return E>=80?"Excellent":E>=60?"Good":E>=40?"Needs Work":"Critical"}const O=j.useMemo(()=>{const R=[];return y.healthIns!=="yes"&&R.push({severity:"critical",text:"Get Health Insurance for your family",action:"Minimum 5L cover recommended"}),y.termLife!=="yes"&&R.push({severity:"critical",text:"Get Term Life Insurance (10-15x annual income)",action:"Compare plans online"}),y.emergencyFund!=="yes"&&R.push({severity:"warning",text:"Build an Emergency Fund",action:"Save 6-12 months expenses in liquid fund/FD"}),y.familyAware!=="yes"&&R.push({severity:"warning",text:"Share investment details with family",action:"Create a document with all account info"}),y.hasWill!=="yes"&&R.push({severity:"warning",text:"Create a legal Will",action:"Consult a lawyer for Will registration"}),y.nominees!=="yes"&&R.push({severity:"warning",text:"Update nominees on all accounts",action:"Check bank, demat, insurance, MF accounts"}),y.goals!=="yes"&&R.push({severity:"info",text:"Define clear financial goals",action:"Use the Goal Planner to set targets"}),R},[y]),z=j.useCallback(async()=>{if(_){h(!0);try{const R={};Ba.forEach(F=>{R[F.id]=y[F.id]==="yes"?"Yes":"No"}),R.score=A,R.total=Ba.length,await c(R),e("/dashboard")}catch(R){console.error("Failed to save health check:",R)}finally{h(!1)}}},[_,y,A,c,e]);return s.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[f&&s.jsxs("div",{className:"bg-violet-500/10 border border-violet-500/20 rounded-xl p-4",children:[s.jsx("h2",{className:"text-base font-bold text-violet-400 mb-1",children:"Welcome to Capital Friends!"}),s.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Before you start, please complete this quick Financial Health Check. It takes less than a minute and helps you understand where your family stands financially."})]}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qO,{size:16,className:"text-violet-400"}),s.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:"Financial Health Score"})]}),s.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[M,"/",Ba.length," answered"]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative w-20 h-20",children:[s.jsxs("svg",{className:"w-20 h-20 -rotate-90",viewBox:"0 0 36 36",children:[s.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"var(--border)",strokeWidth:"3"}),s.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${E}, 100`,className:T(),strokeLinecap:"round"})]}),s.jsxs("span",{className:`absolute inset-0 flex items-center justify-center text-lg font-bold ${T()}`,children:[E,"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:`text-base font-bold ${T()}`,children:P()}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:[A," of ",Ba.length," checks passed"]}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[u.length," family members tracked"]})]})]})]}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:s.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Health Check Questions"})}),s.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:Ba.map((R,F)=>s.jsxs("div",{className:"px-4 py-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm text-[var(--text-primary)]",children:[s.jsxs("span",{className:"text-[var(--text-dim)] mr-2",children:[F+1,"."]}),R.question]}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5 ml-5",children:R.tip})]}),s.jsxs("div",{className:"flex gap-1 shrink-0",children:[s.jsx("button",{onClick:()=>C(D=>({...D,[R.id]:"yes"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${y[R.id]==="yes"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"Yes"}),s.jsx("button",{onClick:()=>C(D=>({...D,[R.id]:"no"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${y[R.id]==="no"?"bg-rose-500/20 text-[var(--accent-rose)] border border-rose-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"No"})]})]}),w[R.id]&&s.jsx("p",{className:"text-xs text-violet-400 mt-1 ml-5",children:"Auto-detected from your data"})]},R.id))})]}),O.length>0&&_&&s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:s.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Recommendations"})}),s.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:O.map((R,F)=>{const D=R.severity==="critical"?s.jsx($O,{size:14,className:"text-[var(--accent-rose)]"}):R.severity==="warning"?s.jsx(Hs,{size:14,className:"text-[var(--accent-amber)]"}):s.jsx(FF,{size:14,className:"text-[var(--accent-blue)]"});return s.jsxs("div",{className:"flex items-start gap-3 px-4 py-3",children:[s.jsx("span",{className:"shrink-0 mt-0.5",children:D}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-[var(--text-primary)]",children:R.text}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:R.action})]})]},F)})})]}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[!_&&s.jsxs("p",{className:"text-xs text-[var(--accent-amber)] mb-3",children:["Please answer all ",Ba.length," questions before saving."]}),s.jsx("button",{onClick:z,disabled:!_||m,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-bold transition-colors ${_&&!m?"bg-violet-600 hover:bg-violet-500 text-white":"bg-[var(--bg-inset)] text-[var(--text-dim)] cursor-not-allowed"}`,children:m?s.jsxs(s.Fragment,{children:[s.jsx(GO,{size:16,className:"animate-spin"}),"Saving..."]}):f?s.jsxs(s.Fragment,{children:["Save & Continue to Dashboard",s.jsx(bF,{size:16})]}):s.jsxs(s.Fragment,{children:[s.jsx(QO,{size:16}),"Update Health Check"]})})]})]})}function Sle(){return s.jsxs("div",{className:"space-y-4 max-w-lg mx-auto",children:[s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-5 text-center",children:[s.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-indigo-600 flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-xl font-bold text-white",children:"CF"})}),s.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Capital Friends"}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Family Portfolio Management"}),s.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-2",children:"v2.0.0"})]}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:s.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Features"})}),s.jsx("div",{className:"px-4 py-3 space-y-2",children:["Track Mutual Funds, Stocks & Other Investments","Family member-wise portfolio management","ATH-based Buy Opportunities","Smart Rebalancing with threshold alerts","Goal planning with portfolio mapping","Insurance, Liabilities & Bank Accounts","Financial Health Check questionnaire","Reminders for SIPs, renewals & due dates","Email reports with detailed breakdowns"].map(e=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-500 shrink-0"}),s.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:e})]},e))})]}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xp,{size:12,className:"text-pink-400"}),s.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Support Developer"})]})}),s.jsxs("div",{className:"px-4 py-4 text-center",children:[s.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-3",children:"If Capital Friends helps you manage your family finances, consider supporting the developer."}),s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-3 border border-[var(--border)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-1",children:"UPI"}),s.jsx("p",{className:"text-sm font-mono font-semibold text-[var(--text-primary)] select-all",children:"jagadeeshmanne.hdfc@kphdfc"})]}),s.jsxs("div",{className:"flex items-center justify-center gap-1 mt-3",children:[s.jsx(UF,{size:12,className:"text-[var(--accent-amber)]"}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Buy me a chai!"})]})]})]}),s.jsxs("div",{className:"text-center py-2",children:[s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Made with ",s.jsx(xp,{size:10,className:"inline text-pink-400 mx-0.5"})," by Jagadeesh Manne"]}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Built with React + Vite + Tailwind CSS"})]})]})}function Cle(){return Date.now().toString(36).toUpperCase()}function Ale(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=r=>Array.from({length:r},()=>e[Math.floor(Math.random()*26)]).join("");return t(5)+Math.floor(1e3+Math.random()*9e3)+t(1)}function Mle(){return String(Math.floor(2e11+Math.random()*8e11))}function I_(){return"9"+String(Math.floor(1e8+Math.random()*9e8))}function kle(){return String(Math.floor(1e9+Math.random()*9e9))}function Dle(){const e=Cle();return{member:{memberName:`Test Member ${e}`,relationship:"Self",pan:Ale(),aadhar:Mle(),email:`test-${e.toLowerCase()}@example.com`,mobile:I_(),includeInEmailReports:!0},bank:{accountName:`Test Savings ${e}`,bankName:"Test Bank",accountNumber:kle(),ifscCode:"TEST0001234",accountType:"Savings",branchName:"Test Branch"},investmentAccount:{accountName:`Test Demat ${e}`,accountType:"Demat",platformBroker:"Test Broker Platform",accountClientId:`CLI-${e}`,registeredEmail:`test-${e.toLowerCase()}@example.com`,registeredPhone:I_()},insurance:{policyType:"Term Life",company:"Test Insurance Co",policyNumber:`POL-${e}`,policyName:`Test Term Plan ${e}`,sumAssured:5e6,nominee:"Test Nominee",dynamicFields:{Premium:15e3,"Premium Frequency":"Annual"}},liability:{liabilityType:"Home Loan",lenderName:"Test Bank",outstandingBalance:45e5,dynamicFields:{"Principal Amount":5e6,"Interest Rate":8.5,"EMI Amount":45e3},notes:`Test liability ${e}`},otherInvestment:{investmentType:"Fixed Deposit",investmentName:`Test FD ${e}`,investedAmount:1e5,currentValue:105e3,investmentCategory:"Debt"},stockPortfolio:{portfolioName:`Test Stock Portfolio ${e}`,broker:"Test Broker"},reminder:{title:`Test Reminder ${e}`,description:"Automated test reminder",dueDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],category:"Insurance",priority:"Medium"},goal:{goalName:`Test Goal ${e}`,goalType:"Custom",targetAmount:1e6,targetDate:"2040-01-01",priority:"Medium",expectedInflation:.06,expectedCAGR:.12}}}function Ele({status:e,text:t}){const r={pass:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",fail:"bg-rose-500/20 text-rose-400 border-rose-500/30",skip:"bg-amber-500/20 text-amber-400 border-amber-500/30",running:"bg-blue-500/20 text-blue-400 border-blue-500/30",pending:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return s.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded border ${r[e]||r.pending}`,children:t||e.toUpperCase()})}function _le(){const{user:e}=to(),[t,r]=j.useState([]),[n,a]=j.useState(!1),[l,c]=j.useState(null),[u,f]=j.useState(!1),m=j.useCallback((y,C,M="")=>{r(A=>[...A,{test:y,status:C,detail:M,time:new Date().toLocaleTimeString()}])},[]),h=j.useCallback((y,C="")=>{r(M=>{const A=[...M];return A.length>0&&(A[A.length-1]={...A[A.length-1],status:y,detail:C}),A})},[]),v=async()=>{f(!0),c(null);try{const y=await De("test:diagnose");c(y)}catch(y){c({error:y.message})}finally{f(!1)}},x=async()=>{a(!0),r([]);const y=Dle();let C=null,M=null,A=null,_=null,E=null,T=null,P=null,O=null,z=null,R=null;try{m("API Echo Test","running");try{const D=await De("test:echo",{hello:"world"});D&&D.echo&&D.echo.hello==="world"?h("pass","Echo response received correctly"):h("fail","Unexpected response: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Diagnostics","running");try{const D=await De("test:diagnose"),X=Object.entries(D.sheets||{}).filter(([,Z])=>!Z.exists).map(([Z])=>Z);if(X.length>0)h("fail",`Missing sheets: ${X.join(", ")}`);else{const Z=Object.keys(D.sheets).length;h("pass",`All ${Z} sheets exist. SpreadsheetId: ${D.spreadsheetId}`)}const W=Object.entries(D.dataTests||{}).filter(([,Z])=>!Z.success).map(([Z,$])=>`${Z}: ${$.error}`);W.length>0&&m("Data Function Errors","fail",W.join("; "))}catch(D){h("fail",D.message)}m("Load All Data (bulk)","running");try{const D=await hp(),X=Object.entries(D).map(([W,Z])=>`${W}: ${Array.isArray(Z)?Z.length:"?"}`);h("pass",X.join(", "))}catch(D){h("fail",D.message)}m("Members  Create","running");try{const D=await nO(y.member);C=D?.memberId,M=y.member.memberName,C?h("pass",`Created: ${C}`):h("fail","No memberId returned: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Members  List","running");try{const D=await rO();Array.isArray(D)&&D.some(W=>W.memberId===C)?h("pass",`Found ${C} in ${D.length} member(s)`):h("fail",`Member ${C} not found. Got ${Array.isArray(D)?D.length:0} members: ${JSON.stringify(D).substring(0,200)}`)}catch(D){h("fail",D.message)}if(C){m("Members  Update","running");try{await aO({...y.member,memberId:C,memberName:"Updated Test Member"}),M="Updated Test Member",h("pass",'Updated name to "Updated Test Member"')}catch(D){h("fail",D.message)}}m("Banks  Create","running");try{const D=await lO({...y.bank,memberId:C||"FM-001"});A=D?.accountId,h(A?"pass":"fail",A?`Created: ${A}`:"No accountId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Banks  List","running");try{const D=await sO();h("pass",`${Array.isArray(D)?D.length:0} account(s)`)}catch(D){h("fail",D.message)}m("Investment Accounts  Create","running");try{const D=await uO({...y.investmentAccount,memberId:C||"FM-001",bankAccountId:A||"BA-001"});_=D?.accountId,h(_?"pass":"fail",_?`Created: ${_}`:"No accountId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Investment Accounts  List","running");try{const D=await cO();h("pass",`${Array.isArray(D)?D.length:0} account(s)`)}catch(D){h("fail",D.message)}m("Insurance  Create","running");try{const D=await vO({...y.insurance,memberId:C||"FM-001",insuredMember:M||"Test Member"});E=D?.policyId,h(E?"pass":"fail",E?`Created: ${E}`:"No policyId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Insurance  List","running");try{const D=await hO();h("pass",`${Array.isArray(D)?D.length:0} policy/policies`)}catch(D){h("fail",D.message)}m("Liabilities  Create","running");try{const D=await bO({...y.liability,familyMember:C||"FM-001"});T=D?.liabilityId,h(T?"pass":"fail",T?`Created: ${T}`:"No liabilityId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Liabilities  List","running");try{const D=await gO();h("pass",`${Array.isArray(D)?D.length:0} liability/liabilities`)}catch(D){h("fail",D.message)}m("Other Investments  Create","running");try{const D=await jO({...y.otherInvestment,familyMember:C||"FM-001"});P=D?.investmentId,h(P?"pass":"fail",P?`Created: ${P}`:"No investmentId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Other Investments  List","running");try{const D=await wO();h("pass",`${Array.isArray(D)?D.length:0} investment(s)`)}catch(D){h("fail",D.message)}m("Stock Portfolios  Create","running");try{const D=await CO({...y.stockPortfolio,owner:C||"FM-001"});O=D?.portfolioId,h(O?"pass":"fail",O?`Created: ${O}`:"No portfolioId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Stock Portfolios  List","running");try{const D=await SO();h("pass",`${Array.isArray(D)?D.length:0} portfolio(s)`)}catch(D){h("fail",D.message)}m("Reminders  Create","running");try{const D=await kO(y.reminder);z=D?.reminderId,h(z?"pass":"fail",z?`Created: ${z}`:"No reminderId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Reminders  List","running");try{const D=await MO();h("pass",`${Array.isArray(D)?D.length:0} reminder(s)`)}catch(D){h("fail",D.message)}m("Goals  Create","running");try{const D=await mO(y.goal);R=D?.goalId,h(R?"pass":"fail",R?`Created: ${R}`:"No goalId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Goals  List","running");try{const D=await fO();h("pass",`${Array.isArray(D)?D.length:0} goal(s)`)}catch(D){h("fail",D.message)}m("Cleanup  Delete test data","running");const F=[];if(R)try{await pO(R)}catch(D){F.push("goal: "+D.message)}if(z)try{await DO(z)}catch(D){F.push("reminder: "+D.message)}if(O)try{await AO(O)}catch(D){F.push("stockPortfolio: "+D.message)}if(P)try{await NO(P)}catch(D){F.push("otherInv: "+D.message)}if(T)try{await yO(T)}catch(D){F.push("liability: "+D.message)}if(E)try{await xO(E)}catch(D){F.push("insurance: "+D.message)}if(_)try{await dO(_)}catch(D){F.push("invAcct: "+D.message)}if(A)try{await oO(A)}catch(D){F.push("bank: "+D.message)}if(C)try{await iO(C)}catch(D){F.push("member: "+D.message)}F.length>0?h("fail",F.join("; ")):h("pass","All test data cleaned up"),m("Final Load All (post-cleanup)","running");try{const D=await hp(),X=Object.entries(D).map(([W,Z])=>`${W}: ${Array.isArray(Z)?Z.length:"?"}`);h("pass",X.join(", "))}catch(D){h("fail",D.message)}}catch(F){m("UNEXPECTED ERROR","fail",F.message)}finally{a(!1)}},b=t.filter(y=>y.status==="pass").length,S=t.filter(y=>y.status==="fail").length,w=t.filter(y=>y.status!=="running").length;return s.jsx("div",{className:"min-h-screen bg-[var(--bg-main)] p-4 max-w-3xl mx-auto",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"API Test Suite"}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Signed in as ",e?.email||"unknown"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:v,disabled:u||n,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--bg-card)] border border-[var(--border)] text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] disabled:opacity-50 cursor-pointer",children:u?"Running...":"Diagnostics"}),s.jsx("button",{onClick:x,disabled:n,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-violet-600 text-white hover:bg-violet-700 disabled:opacity-50 cursor-pointer",children:n?"Running Tests...":"Run All Tests"})]})]}),w>0&&s.jsxs("div",{className:"flex gap-3 text-xs",children:[s.jsxs("span",{className:"text-emerald-400",children:["Pass: ",b]}),s.jsxs("span",{className:"text-rose-400",children:["Fail: ",S]}),s.jsxs("span",{className:"text-[var(--text-dim)]",children:["Total: ",w]})]}),l&&s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 space-y-3",children:[s.jsx("h2",{className:"text-sm font-semibold text-[var(--text-primary)]",children:"Diagnostics Report"}),l.error?s.jsx("p",{className:"text-xs text-rose-400",children:l.error}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-xs text-[var(--text-secondary)] space-y-1",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-[var(--text-dim)]",children:"Spreadsheet:"})," ",l.spreadsheetName]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-[var(--text-dim)]",children:"ID:"})," ",s.jsx("code",{className:"text-[10px]",children:l.spreadsheetId})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Sheets"}),s.jsx("div",{className:"grid grid-cols-2 gap-1",children:Object.entries(l.sheets||{}).map(([y,C])=>s.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[s.jsx("span",{className:"text-[var(--text-secondary)] truncate",children:y}),C.exists?s.jsxs("span",{className:"text-emerald-400 ml-1",children:[C.dataRows,"r"]}):s.jsx("span",{className:"text-rose-400 ml-1",children:"MISSING"})]},y))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Data Functions"}),s.jsx("div",{className:"space-y-1",children:Object.entries(l.dataTests||{}).map(([y,C])=>s.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[s.jsx("span",{className:"text-[var(--text-secondary)]",children:y}),C.success?s.jsxs("span",{className:"text-emerald-400",children:[C.count," items"]}):s.jsx("span",{className:"text-rose-400 truncate ml-2 max-w-[200px]",title:C.error,children:C.error})]},y))})]}),l.safeCallErrors&&l.safeCallErrors.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-rose-400 mb-1",children:"SafeCall Errors"}),l.safeCallErrors.map((y,C)=>s.jsxs("p",{className:"text-[11px] text-rose-400",children:[y.fn,": ",y.error]},C))]})]})]}),t.length>0&&s.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:s.jsx("div",{className:"divide-y divide-[var(--border)]",children:t.map((y,C)=>s.jsxs("div",{className:"px-4 py-2 flex items-start gap-3",children:[s.jsx("div",{className:"mt-0.5 shrink-0",children:s.jsx(Ele,{status:y.status})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:y.test}),y.detail&&s.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5 break-all",children:y.detail})]}),s.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:y.time})]},C))})}),t.length===0&&!l&&s.jsxs("div",{className:"text-center py-12 text-[var(--text-dim)]",children:[s.jsx("p",{className:"text-sm",children:'Click "Run All Tests" to test all CRUD operations'}),s.jsx("p",{className:"text-xs mt-1",children:'or "Diagnostics" to check spreadsheet structure'})]})]})})}function Ole(){return s.jsxs(I6,{children:[s.jsx(Qt,{index:!0,element:s.jsx(Nie,{})}),s.jsx(Qt,{path:"login",element:s.jsx(cI,{})}),s.jsx(Qt,{element:s.jsx(gie,{}),children:s.jsxs(Qt,{element:s.jsx(xie,{}),children:[s.jsx(Qt,{path:"dashboard",element:s.jsx(mp,{to:"/investments/mutual-funds",replace:!0})}),s.jsx(Qt,{path:"family",element:s.jsx(ale,{})}),s.jsx(Qt,{path:"accounts/bank",element:s.jsx(u_,{})}),s.jsx(Qt,{path:"accounts/investment",element:s.jsx(Die,{})}),s.jsx(Qt,{path:"insurance",element:s.jsx(Tie,{})}),s.jsx(Qt,{path:"investments/mutual-funds",element:s.jsx(Gse,{})}),s.jsx(Qt,{path:"investments/stocks",element:s.jsx(tle,{})}),s.jsx(Qt,{path:"investments/other",element:s.jsx(Yie,{})}),s.jsx(Qt,{path:"liabilities",element:s.jsx(Lie,{})}),s.jsx(Qt,{path:"goals",element:s.jsx(ule,{})}),s.jsx(Qt,{path:"reports",element:s.jsx(jle,{})}),s.jsx(Qt,{path:"reminders",element:s.jsx(yle,{})}),s.jsx(Qt,{path:"health-check",element:s.jsx(Nle,{})}),s.jsx(Qt,{path:"about",element:s.jsx(Sle,{})}),s.jsx(Qt,{path:"test",element:s.jsx(_le,{})}),s.jsx(Qt,{path:"settings",element:s.jsx(ple,{})}),s.jsx(Qt,{path:"more",element:s.jsx(mle,{})}),s.jsx(Qt,{path:"accounts",element:s.jsx(u_,{})}),s.jsx(Qt,{path:"*",element:s.jsx(Sie,{})})]})})]})}RL.createRoot(document.getElementById("root")).render(s.jsx(iz,{children:s.jsx(sF,{children:s.jsx(lF,{children:s.jsx(vB,{children:s.jsx(iB,{children:s.jsx(sB,{children:s.jsx(cF,{children:s.jsx(uF,{children:s.jsx(Ole,{})})})})})})})})}));
