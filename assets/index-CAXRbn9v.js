function RL(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function Za(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $0={exports:{}},ju={};var mC;function LL(){if(mC)return ju;mC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var u in a)u!=="key"&&(l[u]=a[u])}else l=a;return a=l.ref,{$$typeof:e,type:n,key:c,ref:a!==void 0?a:null,props:l}}return ju.Fragment=t,ju.jsx=r,ju.jsxs=r,ju}var pC;function zL(){return pC||(pC=1,$0.exports=LL()),$0.exports}var s=zL(),B0={exports:{}},Ze={};var hC;function FL(){if(hC)return Ze;hC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),v=Symbol.iterator;function b(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function C(B,se,ve){this.props=B,this.context=se,this.refs=w,this.updater=ve||S}C.prototype.isReactComponent={},C.prototype.setState=function(B,se){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,se,"setState")},C.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function k(){}k.prototype=C.prototype;function A(B,se,ve){this.props=B,this.context=se,this.refs=w,this.updater=ve||S}var M=A.prototype=new k;M.constructor=A,y(M,C.prototype),M.isPureReactComponent=!0;var _=Array.isArray;function T(){}var P={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function z(B,se,ve){var de=ve.ref;return{$$typeof:e,type:B,key:se,ref:de!==void 0?de:null,props:ve}}function R(B,se){return z(B.type,se,B.props)}function F(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function D(B){var se={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ve){return se[ve]})}var Z=/\/+/g;function Q(B,se){return typeof B=="object"&&B!==null&&B.key!=null?D(""+B.key):se.toString(36)}function J(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(T,T):(B.status="pending",B.then(function(se){B.status==="pending"&&(B.status="fulfilled",B.value=se)},function(se){B.status==="pending"&&(B.status="rejected",B.reason=se)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function L(B,se,ve,de,Ne){var xe=typeof B;(xe==="undefined"||xe==="boolean")&&(B=null);var he=!1;if(B===null)he=!0;else switch(xe){case"bigint":case"string":case"number":he=!0;break;case"object":switch(B.$$typeof){case e:case t:he=!0;break;case h:return he=B._init,L(he(B._payload),se,ve,de,Ne)}}if(he)return Ne=Ne(B),he=de===""?"."+Q(B,0):de,_(Ne)?(ve="",he!=null&&(ve=he.replace(Z,"$&/")+"/"),L(Ne,se,ve,"",function(Fe){return Fe})):Ne!=null&&(F(Ne)&&(Ne=R(Ne,ve+(Ne.key==null||B&&B.key===Ne.key?"":(""+Ne.key).replace(Z,"$&/")+"/")+he)),se.push(Ne)),1;he=0;var ke=de===""?".":de+":";if(_(B))for(var re=0;re<B.length;re++)de=B[re],xe=ke+Q(de,re),he+=L(de,se,ve,xe,Ne);else if(re=b(B),typeof re=="function")for(B=re.call(B),re=0;!(de=B.next()).done;)de=de.value,xe=ke+Q(de,re++),he+=L(de,se,ve,xe,Ne);else if(xe==="object"){if(typeof B.then=="function")return L(J(B),se,ve,de,Ne);throw se=String(B),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return he}function Y(B,se,ve){if(B==null)return B;var de=[],Ne=0;return L(B,de,"","",function(xe){return se.call(ve,xe,Ne++)}),de}function q(B){if(B._status===-1){var se=B._result;se=se(),se.then(function(ve){(B._status===0||B._status===-1)&&(B._status=1,B._result=ve)},function(ve){(B._status===0||B._status===-1)&&(B._status=2,B._result=ve)}),B._status===-1&&(B._status=0,B._result=se)}if(B._status===1)return B._result.default;throw B._result}var le=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},be={map:Y,forEach:function(B,se,ve){Y(B,function(){se.apply(this,arguments)},ve)},count:function(B){var se=0;return Y(B,function(){se++}),se},toArray:function(B){return Y(B,function(se){return se})||[]},only:function(B){if(!F(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return Ze.Activity=x,Ze.Children=be,Ze.Component=C,Ze.Fragment=r,Ze.Profiler=a,Ze.PureComponent=A,Ze.StrictMode=n,Ze.Suspense=f,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Ze.__COMPILER_RUNTIME={__proto__:null,c:function(B){return P.H.useMemoCache(B)}},Ze.cache=function(B){return function(){return B.apply(null,arguments)}},Ze.cacheSignal=function(){return null},Ze.cloneElement=function(B,se,ve){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var de=y({},B.props),Ne=B.key;if(se!=null)for(xe in se.key!==void 0&&(Ne=""+se.key),se)!O.call(se,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&se.ref===void 0||(de[xe]=se[xe]);var xe=arguments.length-2;if(xe===1)de.children=ve;else if(1<xe){for(var he=Array(xe),ke=0;ke<xe;ke++)he[ke]=arguments[ke+2];de.children=he}return z(B.type,Ne,de)},Ze.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},Ze.createElement=function(B,se,ve){var de,Ne={},xe=null;if(se!=null)for(de in se.key!==void 0&&(xe=""+se.key),se)O.call(se,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Ne[de]=se[de]);var he=arguments.length-2;if(he===1)Ne.children=ve;else if(1<he){for(var ke=Array(he),re=0;re<he;re++)ke[re]=arguments[re+2];Ne.children=ke}if(B&&B.defaultProps)for(de in he=B.defaultProps,he)Ne[de]===void 0&&(Ne[de]=he[de]);return z(B,xe,Ne)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(B){return{$$typeof:u,render:B}},Ze.isValidElement=F,Ze.lazy=function(B){return{$$typeof:h,_payload:{_status:-1,_result:B},_init:q}},Ze.memo=function(B,se){return{$$typeof:m,type:B,compare:se===void 0?null:se}},Ze.startTransition=function(B){var se=P.T,ve={};P.T=ve;try{var de=B(),Ne=P.S;Ne!==null&&Ne(ve,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(T,le)}catch(xe){le(xe)}finally{se!==null&&ve.types!==null&&(se.types=ve.types),P.T=se}},Ze.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Ze.use=function(B){return P.H.use(B)},Ze.useActionState=function(B,se,ve){return P.H.useActionState(B,se,ve)},Ze.useCallback=function(B,se){return P.H.useCallback(B,se)},Ze.useContext=function(B){return P.H.useContext(B)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(B,se){return P.H.useDeferredValue(B,se)},Ze.useEffect=function(B,se){return P.H.useEffect(B,se)},Ze.useEffectEvent=function(B){return P.H.useEffectEvent(B)},Ze.useId=function(){return P.H.useId()},Ze.useImperativeHandle=function(B,se,ve){return P.H.useImperativeHandle(B,se,ve)},Ze.useInsertionEffect=function(B,se){return P.H.useInsertionEffect(B,se)},Ze.useLayoutEffect=function(B,se){return P.H.useLayoutEffect(B,se)},Ze.useMemo=function(B,se){return P.H.useMemo(B,se)},Ze.useOptimistic=function(B,se){return P.H.useOptimistic(B,se)},Ze.useReducer=function(B,se,ve){return P.H.useReducer(B,se,ve)},Ze.useRef=function(B){return P.H.useRef(B)},Ze.useState=function(B){return P.H.useState(B)},Ze.useSyncExternalStore=function(B,se,ve){return P.H.useSyncExternalStore(B,se,ve)},Ze.useTransition=function(){return P.H.useTransition()},Ze.version="19.2.4",Ze}var xC;function pc(){return xC||(xC=1,B0.exports=FL()),B0.exports}var N=pc();const ue=Za(N),c1=RL({__proto__:null,default:ue},[N]);var q0={exports:{}},Su={},H0={exports:{}},U0={};var vC;function $L(){return vC||(vC=1,(function(e){function t(L,Y){var q=L.length;L.push(Y);e:for(;0<q;){var le=q-1>>>1,be=L[le];if(0<a(be,Y))L[le]=Y,L[q]=be,q=le;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var Y=L[0],q=L.pop();if(q!==Y){L[0]=q;e:for(var le=0,be=L.length,B=be>>>1;le<B;){var se=2*(le+1)-1,ve=L[se],de=se+1,Ne=L[de];if(0>a(ve,q))de<be&&0>a(Ne,ve)?(L[le]=Ne,L[de]=q,le=de):(L[le]=ve,L[se]=q,le=se);else if(de<be&&0>a(Ne,q))L[le]=Ne,L[de]=q,le=de;else break e}}return Y}function a(L,Y){var q=L.sortIndex-Y.sortIndex;return q!==0?q:L.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],m=[],h=1,x=null,v=3,b=!1,S=!1,y=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function M(L){for(var Y=r(m);Y!==null;){if(Y.callback===null)n(m);else if(Y.startTime<=L)n(m),Y.sortIndex=Y.expirationTime,t(f,Y);else break;Y=r(m)}}function _(L){if(y=!1,M(L),!S)if(r(f)!==null)S=!0,T||(T=!0,D());else{var Y=r(m);Y!==null&&J(_,Y.startTime-L)}}var T=!1,P=-1,O=5,z=-1;function R(){return w?!0:!(e.unstable_now()-z<O)}function F(){if(w=!1,T){var L=e.unstable_now();z=L;var Y=!0;try{e:{S=!1,y&&(y=!1,k(P),P=-1),b=!0;var q=v;try{t:{for(M(L),x=r(f);x!==null&&!(x.expirationTime>L&&R());){var le=x.callback;if(typeof le=="function"){x.callback=null,v=x.priorityLevel;var be=le(x.expirationTime<=L);if(L=e.unstable_now(),typeof be=="function"){x.callback=be,M(L),Y=!0;break t}x===r(f)&&n(f),M(L)}else n(f);x=r(f)}if(x!==null)Y=!0;else{var B=r(m);B!==null&&J(_,B.startTime-L),Y=!1}}break e}finally{x=null,v=q,b=!1}Y=void 0}}finally{Y?D():T=!1}}}var D;if(typeof A=="function")D=function(){A(F)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,Q=Z.port2;Z.port1.onmessage=F,D=function(){Q.postMessage(null)}}else D=function(){C(F,0)};function J(L,Y){P=C(function(){L(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(L){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var q=v;v=Y;try{return L()}finally{v=q}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(L,Y){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var q=v;v=L;try{return Y()}finally{v=q}},e.unstable_scheduleCallback=function(L,Y,q){var le=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?le+q:le):q=le,L){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=q+be,L={id:h++,callback:Y,priorityLevel:L,startTime:q,expirationTime:be,sortIndex:-1},q>le?(L.sortIndex=q,t(m,L),r(f)===null&&L===r(m)&&(y?(k(P),P=-1):y=!0,J(_,q-le))):(L.sortIndex=be,t(f,L),S||b||(S=!0,T||(T=!0,D()))),L},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(L){var Y=v;return function(){var q=v;v=Y;try{return L.apply(this,arguments)}finally{v=q}}}})(U0)),U0}var gC;function BL(){return gC||(gC=1,H0.exports=$L()),H0.exports}var Y0={exports:{}},Hr={};var bC;function qL(){if(bC)return Hr;bC=1;var e=pc();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)m+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,m,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:f,containerInfo:m,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Hr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Hr.createPortal=function(f,m){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(f,m,null,h)},Hr.flushSync=function(f){var m=c.T,h=n.p;try{if(c.T=null,n.p=2,f)return f()}finally{c.T=m,n.p=h,n.d.f()}},Hr.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(f,m))},Hr.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Hr.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var h=m.as,x=u(h,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;h==="style"?n.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:v,fetchPriority:b}):h==="script"&&n.d.X(f,{crossOrigin:x,integrity:v,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Hr.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var h=u(m.as,m.crossOrigin);n.d.M(f,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(f)},Hr.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var h=m.as,x=u(h,m.crossOrigin);n.d.L(f,h,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Hr.preloadModule=function(f,m){if(typeof f=="string")if(m){var h=u(m.as,m.crossOrigin);n.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(f)},Hr.requestFormReset=function(f){n.d.r(f)},Hr.unstable_batchedUpdates=function(f,m){return f(m)},Hr.useFormState=function(f,m,h){return c.H.useFormState(f,m,h)},Hr.useFormStatus=function(){return c.H.useHostTransitionStatus()},Hr.version="19.2.4",Hr}var yC;function G_(){if(yC)return Y0.exports;yC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Y0.exports=qL(),Y0.exports}var wC;function HL(){if(wC)return Su;wC=1;var e=BL(),t=pc(),r=G_();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,d=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(d=o.return),i=o.return;while(i)}return o.tag===3?d:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(n(188))}function m(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(n(188));return o!==i?null:i}for(var d=i,p=o;;){var g=d.return;if(g===null)break;var j=g.alternate;if(j===null){if(p=g.return,p!==null){d=p;continue}break}if(g.child===j.child){for(j=g.child;j;){if(j===d)return f(g),i;if(j===p)return f(g),o;j=j.sibling}throw Error(n(188))}if(d.return!==p.return)d=g,p=j;else{for(var E=!1,I=g.child;I;){if(I===d){E=!0,d=g,p=j;break}if(I===p){E=!0,p=g,d=j;break}I=I.sibling}if(!E){for(I=j.child;I;){if(I===d){E=!0,d=j,p=g;break}if(I===p){E=!0,p=j,d=g;break}I=I.sibling}if(!E)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:o}function h(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=h(i),o!==null)return o;i=i.sibling}return null}var x=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),A=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var Z=Symbol.for("react.client.reference");function Q(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Z?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case y:return"Fragment";case C:return"Profiler";case w:return"StrictMode";case _:return"Suspense";case T:return"SuspenseList";case z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case A:return i.displayName||"Context";case k:return(i._context.displayName||"Context")+".Consumer";case M:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return o=i.displayName||null,o!==null?o:Q(i.type)||"Memo";case O:o=i._payload,i=i._init;try{return Q(i(o))}catch{}}return null}var J=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},le=[],be=-1;function B(i){return{current:i}}function se(i){0>be||(i.current=le[be],le[be]=null,be--)}function ve(i,o){be++,le[be]=i.current,i.current=o}var de=B(null),Ne=B(null),xe=B(null),he=B(null);function ke(i,o){switch(ve(xe,o),ve(Ne,i),ve(de,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?R2(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=R2(o),i=L2(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}se(de),ve(de,i)}function re(){se(de),se(Ne),se(xe)}function Fe(i){i.memoizedState!==null&&ve(he,i);var o=de.current,d=L2(o,i.type);o!==d&&(ve(Ne,i),ve(de,d))}function Ue(i){Ne.current===i&&(se(de),se(Ne)),he.current===i&&(se(he),bu._currentValue=q)}var ge,Be;function qe(i){if(ge===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);ge=o&&o[1]||"",Be=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+i+Be}var Ke=!1;function Nt(i,o){if(!i||Ke)return"";Ke=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(oe){var ae=oe}Reflect.construct(i,[],pe)}else{try{pe.call()}catch(oe){ae=oe}i.call(pe.prototype)}}else{try{throw Error()}catch(oe){ae=oe}(pe=i())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(oe){if(oe&&ae&&typeof oe.stack=="string")return[oe.stack,ae.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=p.DetermineComponentFrameRoot(),E=j[0],I=j[1];if(E&&I){var H=E.split(`
`),te=I.split(`
`);for(g=p=0;p<H.length&&!H[p].includes("DetermineComponentFrameRoot");)p++;for(;g<te.length&&!te[g].includes("DetermineComponentFrameRoot");)g++;if(p===H.length||g===te.length)for(p=H.length-1,g=te.length-1;1<=p&&0<=g&&H[p]!==te[g];)g--;for(;1<=p&&0<=g;p--,g--)if(H[p]!==te[g]){if(p!==1||g!==1)do if(p--,g--,0>g||H[p]!==te[g]){var fe=`
`+H[p].replace(" at new "," at ");return i.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",i.displayName)),fe}while(1<=p&&0<=g);break}}}finally{Ke=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?qe(d):""}function _t(i,o){switch(i.tag){case 26:case 27:case 5:return qe(i.type);case 16:return qe("Lazy");case 13:return i.child!==o&&o!==null?qe("Suspense Fallback"):qe("Suspense");case 19:return qe("SuspenseList");case 0:case 15:return Nt(i.type,!1);case 11:return Nt(i.type.render,!1);case 1:return Nt(i.type,!0);case 31:return qe("Activity");default:return""}}function Pe(i){try{var o="",d=null;do o+=_t(i,d),d=i,i=i.return;while(i);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var rt=Object.prototype.hasOwnProperty,Ft=e.unstable_scheduleCallback,it=e.unstable_cancelCallback,ht=e.unstable_shouldYield,Xt=e.unstable_requestPaint,Zt=e.unstable_now,Qi=e.unstable_getCurrentPriorityLevel,G=e.unstable_ImmediatePriority,$=e.unstable_UserBlockingPriority,X=e.unstable_NormalPriority,we=e.unstable_LowPriority,Re=e.unstable_IdlePriority,ne=e.log,st=e.unstable_setDisableYieldValue,ze=null,Te=null;function We(i){if(typeof ne=="function"&&st(i),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode(ze,i)}catch{}}var Xe=Math.clz32?Math.clz32:je,Jt=Math.log,vt=Math.LN2;function je(i){return i>>>=0,i===0?32:31-(Jt(i)/vt|0)|0}var Ye=256,Ee=262144,jt=4194304;function er(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ur(i,o,d){var p=i.pendingLanes;if(p===0)return 0;var g=0,j=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var I=p&134217727;return I!==0?(p=I&~j,p!==0?g=er(p):(E&=I,E!==0?g=er(E):d||(d=I&~i,d!==0&&(g=er(d))))):(I=p&~j,I!==0?g=er(I):E!==0?g=er(E):d||(d=p&~i,d!==0&&(g=er(d)))),g===0?0:o!==0&&o!==g&&(o&j)===0&&(j=g&-g,d=o&-o,j>=d||j===32&&(d&4194048)!==0)?o:g}function gn(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Dx(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kd(){var i=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),i}function Ec(i){for(var o=[],d=0;31>d;d++)o.push(i);return o}function Ks(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ex(i,o,d,p,g,j){var E=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var I=i.entanglements,H=i.expirationTimes,te=i.hiddenUpdates;for(d=E&~d;0<d;){var fe=31-Xe(d),pe=1<<fe;I[fe]=0,H[fe]=-1;var ae=te[fe];if(ae!==null)for(te[fe]=null,fe=0;fe<ae.length;fe++){var oe=ae[fe];oe!==null&&(oe.lane&=-536870913)}d&=~pe}p!==0&&Qd(i,p,0),j!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=j&~(E&~o))}function Qd(i,o,d){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-Xe(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|d&261930}function Xd(i,o){var d=i.entangledLanes|=o;for(i=i.entanglements;d;){var p=31-Xe(d),g=1<<p;g&o|i[p]&o&&(i[p]|=o),d&=~g}}function Zd(i,o){var d=o&-o;return d=(d&42)!==0?1:_c(d),(d&(i.suspendedLanes|o))!==0?0:d}function _c(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Oc(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Jd(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:sC(i.type))}function ef(i,o){var d=Y.p;try{return Y.p=i,o()}finally{Y.p=d}}var Ca=Math.random().toString(36).slice(2),Nr="__reactFiber$"+Ca,qr="__reactProps$"+Ca,Xi="__reactContainer$"+Ca,Tc="__reactEvents$"+Ca,_x="__reactListeners$"+Ca,Ox="__reactHandles$"+Ca,tf="__reactResources$"+Ca,Qs="__reactMarker$"+Ca;function Pc(i){delete i[Nr],delete i[qr],delete i[Tc],delete i[_x],delete i[Ox]}function Zi(i){var o=i[Nr];if(o)return o;for(var d=i.parentNode;d;){if(o=d[Xi]||d[Nr]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(i=U2(i);i!==null;){if(d=i[Nr])return d;i=U2(i)}return o}i=d,d=i.parentNode}return null}function Ji(i){if(i=i[Nr]||i[Xi]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function U(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function ye(i){var o=i[tf];return o||(o=i[tf]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function xt(i){i[Qs]=!0}var tn=new Set,Aa={};function Gr(i,o){rn(i,o),rn(i+"Capture",o)}function rn(i,o){for(Aa[i]=o,i=0;i<o.length;i++)tn.add(o[i])}var Ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ic={},bn={};function ka(i){return rt.call(bn,i)?!0:rt.call(Ic,i)?!1:Ql.test(i)?bn[i]=!0:(Ic[i]=!0,!1)}function rf(i,o,d){if(ka(o))if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+d)}}function nf(i,o,d){if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+d)}}function ai(i,o,d,p){if(p===null)i.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(o,d,""+p)}}function Fn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function MN(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function DI(i,o,d){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var g=p.get,j=p.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(E){d=""+E,j.call(this,E)}}),Object.defineProperty(i,o,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Tx(i){if(!i._valueTracker){var o=MN(i)?"checked":"value";i._valueTracker=DI(i,o,""+i[o])}}function DN(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var d=o.getValue(),p="";return i&&(p=MN(i)?i.checked?"true":"false":i.value),i=p,i!==d?(o.setValue(i),!0):!1}function af(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var EI=/[\n"\\]/g;function $n(i){return i.replace(EI,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Px(i,o,d,p,g,j,E,I){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),o!=null?E==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Fn(o)):i.value!==""+Fn(o)&&(i.value=""+Fn(o)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),o!=null?Ix(i,E,Fn(o)):d!=null?Ix(i,E,Fn(d)):p!=null&&i.removeAttribute("value"),g==null&&j!=null&&(i.defaultChecked=!!j),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+Fn(I):i.removeAttribute("name")}function EN(i,o,d,p,g,j,E,I){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(i.type=j),o!=null||d!=null){if(!(j!=="submit"&&j!=="reset"||o!=null)){Tx(i);return}d=d!=null?""+Fn(d):"",o=o!=null?""+Fn(o):d,I||o===i.value||(i.value=o),i.defaultValue=o}p=p??g,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=I?i.checked:!!p,i.defaultChecked=!!p,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),Tx(i)}function Ix(i,o,d){o==="number"&&af(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function Xl(i,o,d,p){if(i=i.options,o){o={};for(var g=0;g<d.length;g++)o["$"+d[g]]=!0;for(d=0;d<i.length;d++)g=o.hasOwnProperty("$"+i[d].value),i[d].selected!==g&&(i[d].selected=g),g&&p&&(i[d].defaultSelected=!0)}else{for(d=""+Fn(d),o=null,g=0;g<i.length;g++){if(i[g].value===d){i[g].selected=!0,p&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function _N(i,o,d){if(o!=null&&(o=""+Fn(o),o!==i.value&&(i.value=o),d==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=d!=null?""+Fn(d):""}function ON(i,o,d,p){if(o==null){if(p!=null){if(d!=null)throw Error(n(92));if(J(p)){if(1<p.length)throw Error(n(93));p=p[0]}d=p}d==null&&(d=""),o=d}d=Fn(o),i.defaultValue=d,p=i.textContent,p===d&&p!==""&&p!==null&&(i.value=p),Tx(i)}function Zl(i,o){if(o){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=o;return}}i.textContent=o}var _I=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function TN(i,o,d){var p=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,d):typeof d!="number"||d===0||_I.has(o)?o==="float"?i.cssFloat=d:i[o]=(""+d).trim():i[o]=d+"px"}function PN(i,o,d){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var g in o)p=o[g],o.hasOwnProperty(g)&&d[g]!==p&&TN(i,g,p)}else for(var j in o)o.hasOwnProperty(j)&&TN(i,j,o[j])}function Rx(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var OI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),TI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sf(i){return TI.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ii(){}var Lx=null;function zx(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Jl=null,eo=null;function IN(i){var o=Ji(i);if(o&&(i=o.stateNode)){var d=i[qr]||null;e:switch(i=o.stateNode,o.type){case"input":if(Px(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+$n(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var p=d[o];if(p!==i&&p.form===i.form){var g=p[qr]||null;if(!g)throw Error(n(90));Px(p,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<d.length;o++)p=d[o],p.form===i.form&&DN(p)}break e;case"textarea":_N(i,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&Xl(i,!!d.multiple,o,!1)}}}var Fx=!1;function RN(i,o,d){if(Fx)return i(o,d);Fx=!0;try{var p=i(o);return p}finally{if(Fx=!1,(Jl!==null||eo!==null)&&(Gf(),Jl&&(o=Jl,i=eo,eo=Jl=null,IN(o),i)))for(o=0;o<i.length;o++)IN(i[o])}}function Rc(i,o){var d=i.stateNode;if(d===null)return null;var p=d[qr]||null;if(p===null)return null;d=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,o,typeof d));return d}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$x=!1;if(si)try{var Lc={};Object.defineProperty(Lc,"passive",{get:function(){$x=!0}}),window.addEventListener("test",Lc,Lc),window.removeEventListener("test",Lc,Lc)}catch{$x=!1}var es=null,Bx=null,lf=null;function LN(){if(lf)return lf;var i,o=Bx,d=o.length,p,g="value"in es?es.value:es.textContent,j=g.length;for(i=0;i<d&&o[i]===g[i];i++);var E=d-i;for(p=1;p<=E&&o[d-p]===g[j-p];p++);return lf=g.slice(i,1<p?1-p:void 0)}function of(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function cf(){return!0}function zN(){return!1}function nn(i){function o(d,p,g,j,E){this._reactName=d,this._targetInst=g,this.type=p,this.nativeEvent=j,this.target=E,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(d=i[I],this[I]=d?d(j):j[I]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?cf:zN,this.isPropagationStopped=zN,this}return x(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=cf)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=cf)},persist:function(){},isPersistent:cf}),o}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uf=nn(Xs),zc=x({},Xs,{view:0,detail:0}),PI=nn(zc),qx,Hx,Fc,df=x({},zc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yx,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fc&&(Fc&&i.type==="mousemove"?(qx=i.screenX-Fc.screenX,Hx=i.screenY-Fc.screenY):Hx=qx=0,Fc=i),qx)},movementY:function(i){return"movementY"in i?i.movementY:Hx}}),FN=nn(df),II=x({},df,{dataTransfer:0}),RI=nn(II),LI=x({},zc,{relatedTarget:0}),Ux=nn(LI),zI=x({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),FI=nn(zI),$I=x({},Xs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),BI=nn($I),qI=x({},Xs,{data:0}),$N=nn(qI),HI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VI(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=YI[i])?!!o[i]:!1}function Yx(){return VI}var GI=x({},zc,{key:function(i){if(i.key){var o=HI[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=of(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?UI[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yx,charCode:function(i){return i.type==="keypress"?of(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?of(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),WI=nn(GI),KI=x({},df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BN=nn(KI),QI=x({},zc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yx}),XI=nn(QI),ZI=x({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),JI=nn(ZI),eR=x({},df,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),tR=nn(eR),rR=x({},Xs,{newState:0,oldState:0}),nR=nn(rR),aR=[9,13,27,32],Vx=si&&"CompositionEvent"in window,$c=null;si&&"documentMode"in document&&($c=document.documentMode);var iR=si&&"TextEvent"in window&&!$c,qN=si&&(!Vx||$c&&8<$c&&11>=$c),HN=" ",UN=!1;function YN(i,o){switch(i){case"keyup":return aR.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VN(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var to=!1;function sR(i,o){switch(i){case"compositionend":return VN(o);case"keypress":return o.which!==32?null:(UN=!0,HN);case"textInput":return i=o.data,i===HN&&UN?null:i;default:return null}}function lR(i,o){if(to)return i==="compositionend"||!Vx&&YN(i,o)?(i=LN(),lf=Bx=es=null,to=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return qN&&o.locale!=="ko"?null:o.data;default:return null}}var oR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GN(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!oR[i.type]:o==="textarea"}function WN(i,o,d,p){Jl?eo?eo.push(p):eo=[p]:Jl=p,o=em(o,"onChange"),0<o.length&&(d=new uf("onChange","change",null,d,p),i.push({event:d,listeners:o}))}var Bc=null,qc=null;function cR(i){E2(i,0)}function ff(i){var o=U(i);if(DN(o))return i}function KN(i,o){if(i==="change")return o}var QN=!1;if(si){var Gx;if(si){var Wx="oninput"in document;if(!Wx){var XN=document.createElement("div");XN.setAttribute("oninput","return;"),Wx=typeof XN.oninput=="function"}Gx=Wx}else Gx=!1;QN=Gx&&(!document.documentMode||9<document.documentMode)}function ZN(){Bc&&(Bc.detachEvent("onpropertychange",JN),qc=Bc=null)}function JN(i){if(i.propertyName==="value"&&ff(qc)){var o=[];WN(o,qc,i,zx(i)),RN(cR,o)}}function uR(i,o,d){i==="focusin"?(ZN(),Bc=o,qc=d,Bc.attachEvent("onpropertychange",JN)):i==="focusout"&&ZN()}function dR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ff(qc)}function fR(i,o){if(i==="click")return ff(o)}function mR(i,o){if(i==="input"||i==="change")return ff(o)}function pR(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var yn=typeof Object.is=="function"?Object.is:pR;function Hc(i,o){if(yn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var d=Object.keys(i),p=Object.keys(o);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var g=d[p];if(!rt.call(o,g)||!yn(i[g],o[g]))return!1}return!0}function ej(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function tj(i,o){var d=ej(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=o&&p>=o)return{node:d,offset:o-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=ej(d)}}function rj(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?rj(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function nj(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=af(i.document);o instanceof i.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)i=o.contentWindow;else break;o=af(i.document)}return o}function Kx(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var hR=si&&"documentMode"in document&&11>=document.documentMode,ro=null,Qx=null,Uc=null,Xx=!1;function aj(i,o,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Xx||ro==null||ro!==af(p)||(p=ro,"selectionStart"in p&&Kx(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Uc&&Hc(Uc,p)||(Uc=p,p=em(Qx,"onSelect"),0<p.length&&(o=new uf("onSelect","select",null,o,d),i.push({event:o,listeners:p}),o.target=ro)))}function Zs(i,o){var d={};return d[i.toLowerCase()]=o.toLowerCase(),d["Webkit"+i]="webkit"+o,d["Moz"+i]="moz"+o,d}var no={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},Zx={},ij={};si&&(ij=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function Js(i){if(Zx[i])return Zx[i];if(!no[i])return i;var o=no[i],d;for(d in o)if(o.hasOwnProperty(d)&&d in ij)return Zx[i]=o[d];return i}var sj=Js("animationend"),lj=Js("animationiteration"),oj=Js("animationstart"),xR=Js("transitionrun"),vR=Js("transitionstart"),gR=Js("transitioncancel"),cj=Js("transitionend"),uj=new Map,Jx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jx.push("scrollEnd");function ia(i,o){uj.set(i,o),Gr(o,[i])}var mf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Bn=[],ao=0,ev=0;function pf(){for(var i=ao,o=ev=ao=0;o<i;){var d=Bn[o];Bn[o++]=null;var p=Bn[o];Bn[o++]=null;var g=Bn[o];Bn[o++]=null;var j=Bn[o];if(Bn[o++]=null,p!==null&&g!==null){var E=p.pending;E===null?g.next=g:(g.next=E.next,E.next=g),p.pending=g}j!==0&&dj(d,g,j)}}function hf(i,o,d,p){Bn[ao++]=i,Bn[ao++]=o,Bn[ao++]=d,Bn[ao++]=p,ev|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function tv(i,o,d,p){return hf(i,o,d,p),xf(i)}function el(i,o){return hf(i,null,null,o),xf(i)}function dj(i,o,d){i.lanes|=d;var p=i.alternate;p!==null&&(p.lanes|=d);for(var g=!1,j=i.return;j!==null;)j.childLanes|=d,p=j.alternate,p!==null&&(p.childLanes|=d),j.tag===22&&(i=j.stateNode,i===null||i._visibility&1||(g=!0)),i=j,j=j.return;return i.tag===3?(j=i.stateNode,g&&o!==null&&(g=31-Xe(d),i=j.hiddenUpdates,p=i[g],p===null?i[g]=[o]:p.push(o),o.lane=d|536870912),j):null}function xf(i){if(50<fu)throw fu=0,u0=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var io={};function bR(i,o,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(i,o,d,p){return new bR(i,o,d,p)}function rv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function li(i,o){var d=i.alternate;return d===null?(d=wn(i.tag,o,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=o,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,o=i.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function fj(i,o){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,o=d.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function vf(i,o,d,p,g,j){var E=0;if(p=i,typeof i=="function")rv(i)&&(E=1);else if(typeof i=="string")E=SL(i,d,de.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case z:return i=wn(31,d,o,g),i.elementType=z,i.lanes=j,i;case y:return tl(d.children,g,j,o);case w:E=8,g|=24;break;case C:return i=wn(12,d,o,g|2),i.elementType=C,i.lanes=j,i;case _:return i=wn(13,d,o,g),i.elementType=_,i.lanes=j,i;case T:return i=wn(19,d,o,g),i.elementType=T,i.lanes=j,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:E=10;break e;case k:E=9;break e;case M:E=11;break e;case P:E=14;break e;case O:E=16,p=null;break e}E=29,d=Error(n(130,i===null?"null":typeof i,"")),p=null}return o=wn(E,d,o,g),o.elementType=i,o.type=p,o.lanes=j,o}function tl(i,o,d,p){return i=wn(7,i,p,o),i.lanes=d,i}function nv(i,o,d){return i=wn(6,i,null,o),i.lanes=d,i}function mj(i){var o=wn(18,null,null,0);return o.stateNode=i,o}function av(i,o,d){return o=wn(4,i.children!==null?i.children:[],i.key,o),o.lanes=d,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var pj=new WeakMap;function qn(i,o){if(typeof i=="object"&&i!==null){var d=pj.get(i);return d!==void 0?d:(o={value:i,source:o,stack:Pe(o)},pj.set(i,o),o)}return{value:i,source:o,stack:Pe(o)}}var so=[],lo=0,gf=null,Yc=0,Hn=[],Un=0,ts=null,Ma=1,Da="";function oi(i,o){so[lo++]=Yc,so[lo++]=gf,gf=i,Yc=o}function hj(i,o,d){Hn[Un++]=Ma,Hn[Un++]=Da,Hn[Un++]=ts,ts=i;var p=Ma;i=Da;var g=32-Xe(p)-1;p&=~(1<<g),d+=1;var j=32-Xe(o)+g;if(30<j){var E=g-g%5;j=(p&(1<<E)-1).toString(32),p>>=E,g-=E,Ma=1<<32-Xe(o)+g|d<<g|p,Da=j+i}else Ma=1<<j|d<<g|p,Da=i}function iv(i){i.return!==null&&(oi(i,1),hj(i,1,0))}function sv(i){for(;i===gf;)gf=so[--lo],so[lo]=null,Yc=so[--lo],so[lo]=null;for(;i===ts;)ts=Hn[--Un],Hn[Un]=null,Da=Hn[--Un],Hn[Un]=null,Ma=Hn[--Un],Hn[Un]=null}function xj(i,o){Hn[Un++]=Ma,Hn[Un++]=Da,Hn[Un++]=ts,Ma=o.id,Da=o.overflow,ts=i}var Tr=null,Bt=null,pt=!1,rs=null,Yn=!1,lv=Error(n(519));function ns(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vc(qn(o,i)),lv}function vj(i){var o=i.stateNode,d=i.type,p=i.memoizedProps;switch(o[Nr]=i,o[qr]=p,d){case"dialog":ot("cancel",o),ot("close",o);break;case"iframe":case"object":case"embed":ot("load",o);break;case"video":case"audio":for(d=0;d<pu.length;d++)ot(pu[d],o);break;case"source":ot("error",o);break;case"img":case"image":case"link":ot("error",o),ot("load",o);break;case"details":ot("toggle",o);break;case"input":ot("invalid",o),EN(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":ot("invalid",o);break;case"textarea":ot("invalid",o),ON(o,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||p.suppressHydrationWarning===!0||P2(o.textContent,d)?(p.popover!=null&&(ot("beforetoggle",o),ot("toggle",o)),p.onScroll!=null&&ot("scroll",o),p.onScrollEnd!=null&&ot("scrollend",o),p.onClick!=null&&(o.onclick=ii),o=!0):o=!1,o||ns(i,!0)}function gj(i){for(Tr=i.return;Tr;)switch(Tr.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Tr=Tr.return}}function oo(i){if(i!==Tr)return!1;if(!pt)return gj(i),pt=!0,!1;var o=i.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||C0(i.type,i.memoizedProps)),d=!d),d&&Bt&&ns(i),gj(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Bt=H2(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Bt=H2(i)}else o===27?(o=Bt,vs(i.type)?(i=E0,E0=null,Bt=i):Bt=o):Bt=Tr?Gn(i.stateNode.nextSibling):null;return!0}function rl(){Bt=Tr=null,pt=!1}function ov(){var i=rs;return i!==null&&(on===null?on=i:on.push.apply(on,i),rs=null),i}function Vc(i){rs===null?rs=[i]:rs.push(i)}var cv=B(null),nl=null,ci=null;function as(i,o,d){ve(cv,o._currentValue),o._currentValue=d}function ui(i){i._currentValue=cv.current,se(cv)}function uv(i,o,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===d)break;i=i.return}}function dv(i,o,d,p){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var j=g.dependencies;if(j!==null){var E=g.child;j=j.firstContext;e:for(;j!==null;){var I=j;j=g;for(var H=0;H<o.length;H++)if(I.context===o[H]){j.lanes|=d,I=j.alternate,I!==null&&(I.lanes|=d),uv(j.return,d,i),p||(E=null);break e}j=I.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(n(341));E.lanes|=d,j=E.alternate,j!==null&&(j.lanes|=d),uv(E,d,i),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===i){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function co(i,o,d,p){i=null;for(var g=o,j=!1;g!==null;){if(!j){if((g.flags&524288)!==0)j=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(n(387));if(E=E.memoizedProps,E!==null){var I=g.type;yn(g.pendingProps.value,E.value)||(i!==null?i.push(I):i=[I])}}else if(g===he.current){if(E=g.alternate,E===null)throw Error(n(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(bu):i=[bu])}g=g.return}i!==null&&dv(o,i,d,p),o.flags|=262144}function bf(i){for(i=i.firstContext;i!==null;){if(!yn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function al(i){nl=i,ci=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Pr(i){return bj(nl,i)}function yf(i,o){return nl===null&&al(i),bj(i,o)}function bj(i,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},ci===null){if(i===null)throw Error(n(308));ci=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else ci=ci.next=o;return d}var yR=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(d,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(d){return d()})}},wR=e.unstable_scheduleCallback,NR=e.unstable_NormalPriority,xr={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fv(){return{controller:new yR,data:new Map,refCount:0}}function Gc(i){i.refCount--,i.refCount===0&&wR(NR,function(){i.controller.abort()})}var Wc=null,mv=0,uo=0,fo=null;function jR(i,o){if(Wc===null){var d=Wc=[];mv=0,uo=x0(),fo={status:"pending",value:void 0,then:function(p){d.push(p)}}}return mv++,o.then(yj,yj),o}function yj(){if(--mv===0&&Wc!==null){fo!==null&&(fo.status="fulfilled");var i=Wc;Wc=null,uo=0,fo=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function SR(i,o){var d=[],p={status:"pending",value:null,reason:null,then:function(g){d.push(g)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var g=0;g<d.length;g++)(0,d[g])(o)},function(g){for(p.status="rejected",p.reason=g,g=0;g<d.length;g++)(0,d[g])(void 0)}),p}var wj=L.S;L.S=function(i,o){a2=Zt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&jR(i,o),wj!==null&&wj(i,o)};var il=B(null);function pv(){var i=il.current;return i!==null?i:Lt.pooledCache}function wf(i,o){o===null?ve(il,il.current):ve(il,o.pool)}function Nj(){var i=pv();return i===null?null:{parent:xr._currentValue,pool:i}}var mo=Error(n(460)),hv=Error(n(474)),Nf=Error(n(542)),jf={then:function(){}};function jj(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Sj(i,o,d){switch(d=i[d],d===void 0?i.push(o):d!==o&&(o.then(ii,ii),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Aj(i),i;default:if(typeof o.status=="string")o.then(ii,ii);else{if(i=Lt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=p}},function(p){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Aj(i),i}throw ll=o,mo}}function sl(i){try{var o=i._init;return o(i._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(ll=d,mo):d}}var ll=null;function Cj(){if(ll===null)throw Error(n(459));var i=ll;return ll=null,i}function Aj(i){if(i===mo||i===Nf)throw Error(n(483))}var po=null,Kc=0;function Sf(i){var o=Kc;return Kc+=1,po===null&&(po=[]),Sj(po,i,o)}function Qc(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Cf(i,o){throw o.$$typeof===v?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function kj(i){function o(W,V){if(i){var ee=W.deletions;ee===null?(W.deletions=[V],W.flags|=16):ee.push(V)}}function d(W,V){if(!i)return null;for(;V!==null;)o(W,V),V=V.sibling;return null}function p(W){for(var V=new Map;W!==null;)W.key!==null?V.set(W.key,W):V.set(W.index,W),W=W.sibling;return V}function g(W,V){return W=li(W,V),W.index=0,W.sibling=null,W}function j(W,V,ee){return W.index=ee,i?(ee=W.alternate,ee!==null?(ee=ee.index,ee<V?(W.flags|=67108866,V):ee):(W.flags|=67108866,V)):(W.flags|=1048576,V)}function E(W){return i&&W.alternate===null&&(W.flags|=67108866),W}function I(W,V,ee,me){return V===null||V.tag!==6?(V=nv(ee,W.mode,me),V.return=W,V):(V=g(V,ee),V.return=W,V)}function H(W,V,ee,me){var $e=ee.type;return $e===y?fe(W,V,ee.props.children,me,ee.key):V!==null&&(V.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===O&&sl($e)===V.type)?(V=g(V,ee.props),Qc(V,ee),V.return=W,V):(V=vf(ee.type,ee.key,ee.props,null,W.mode,me),Qc(V,ee),V.return=W,V)}function te(W,V,ee,me){return V===null||V.tag!==4||V.stateNode.containerInfo!==ee.containerInfo||V.stateNode.implementation!==ee.implementation?(V=av(ee,W.mode,me),V.return=W,V):(V=g(V,ee.children||[]),V.return=W,V)}function fe(W,V,ee,me,$e){return V===null||V.tag!==7?(V=tl(ee,W.mode,me,$e),V.return=W,V):(V=g(V,ee),V.return=W,V)}function pe(W,V,ee){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=nv(""+V,W.mode,ee),V.return=W,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return ee=vf(V.type,V.key,V.props,null,W.mode,ee),Qc(ee,V),ee.return=W,ee;case S:return V=av(V,W.mode,ee),V.return=W,V;case O:return V=sl(V),pe(W,V,ee)}if(J(V)||D(V))return V=tl(V,W.mode,ee,null),V.return=W,V;if(typeof V.then=="function")return pe(W,Sf(V),ee);if(V.$$typeof===A)return pe(W,yf(W,V),ee);Cf(W,V)}return null}function ae(W,V,ee,me){var $e=V!==null?V.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return $e!==null?null:I(W,V,""+ee,me);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return ee.key===$e?H(W,V,ee,me):null;case S:return ee.key===$e?te(W,V,ee,me):null;case O:return ee=sl(ee),ae(W,V,ee,me)}if(J(ee)||D(ee))return $e!==null?null:fe(W,V,ee,me,null);if(typeof ee.then=="function")return ae(W,V,Sf(ee),me);if(ee.$$typeof===A)return ae(W,V,yf(W,ee),me);Cf(W,ee)}return null}function oe(W,V,ee,me,$e){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return W=W.get(ee)||null,I(V,W,""+me,$e);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case b:return W=W.get(me.key===null?ee:me.key)||null,H(V,W,me,$e);case S:return W=W.get(me.key===null?ee:me.key)||null,te(V,W,me,$e);case O:return me=sl(me),oe(W,V,ee,me,$e)}if(J(me)||D(me))return W=W.get(ee)||null,fe(V,W,me,$e,null);if(typeof me.then=="function")return oe(W,V,ee,Sf(me),$e);if(me.$$typeof===A)return oe(W,V,ee,yf(V,me),$e);Cf(V,me)}return null}function Oe(W,V,ee,me){for(var $e=null,bt=null,Ie=V,et=V=0,dt=null;Ie!==null&&et<ee.length;et++){Ie.index>et?(dt=Ie,Ie=null):dt=Ie.sibling;var yt=ae(W,Ie,ee[et],me);if(yt===null){Ie===null&&(Ie=dt);break}i&&Ie&&yt.alternate===null&&o(W,Ie),V=j(yt,V,et),bt===null?$e=yt:bt.sibling=yt,bt=yt,Ie=dt}if(et===ee.length)return d(W,Ie),pt&&oi(W,et),$e;if(Ie===null){for(;et<ee.length;et++)Ie=pe(W,ee[et],me),Ie!==null&&(V=j(Ie,V,et),bt===null?$e=Ie:bt.sibling=Ie,bt=Ie);return pt&&oi(W,et),$e}for(Ie=p(Ie);et<ee.length;et++)dt=oe(Ie,W,et,ee[et],me),dt!==null&&(i&&dt.alternate!==null&&Ie.delete(dt.key===null?et:dt.key),V=j(dt,V,et),bt===null?$e=dt:bt.sibling=dt,bt=dt);return i&&Ie.forEach(function(Ns){return o(W,Ns)}),pt&&oi(W,et),$e}function He(W,V,ee,me){if(ee==null)throw Error(n(151));for(var $e=null,bt=null,Ie=V,et=V=0,dt=null,yt=ee.next();Ie!==null&&!yt.done;et++,yt=ee.next()){Ie.index>et?(dt=Ie,Ie=null):dt=Ie.sibling;var Ns=ae(W,Ie,yt.value,me);if(Ns===null){Ie===null&&(Ie=dt);break}i&&Ie&&Ns.alternate===null&&o(W,Ie),V=j(Ns,V,et),bt===null?$e=Ns:bt.sibling=Ns,bt=Ns,Ie=dt}if(yt.done)return d(W,Ie),pt&&oi(W,et),$e;if(Ie===null){for(;!yt.done;et++,yt=ee.next())yt=pe(W,yt.value,me),yt!==null&&(V=j(yt,V,et),bt===null?$e=yt:bt.sibling=yt,bt=yt);return pt&&oi(W,et),$e}for(Ie=p(Ie);!yt.done;et++,yt=ee.next())yt=oe(Ie,W,et,yt.value,me),yt!==null&&(i&&yt.alternate!==null&&Ie.delete(yt.key===null?et:yt.key),V=j(yt,V,et),bt===null?$e=yt:bt.sibling=yt,bt=yt);return i&&Ie.forEach(function(IL){return o(W,IL)}),pt&&oi(W,et),$e}function Pt(W,V,ee,me){if(typeof ee=="object"&&ee!==null&&ee.type===y&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:e:{for(var $e=ee.key;V!==null;){if(V.key===$e){if($e=ee.type,$e===y){if(V.tag===7){d(W,V.sibling),me=g(V,ee.props.children),me.return=W,W=me;break e}}else if(V.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===O&&sl($e)===V.type){d(W,V.sibling),me=g(V,ee.props),Qc(me,ee),me.return=W,W=me;break e}d(W,V);break}else o(W,V);V=V.sibling}ee.type===y?(me=tl(ee.props.children,W.mode,me,ee.key),me.return=W,W=me):(me=vf(ee.type,ee.key,ee.props,null,W.mode,me),Qc(me,ee),me.return=W,W=me)}return E(W);case S:e:{for($e=ee.key;V!==null;){if(V.key===$e)if(V.tag===4&&V.stateNode.containerInfo===ee.containerInfo&&V.stateNode.implementation===ee.implementation){d(W,V.sibling),me=g(V,ee.children||[]),me.return=W,W=me;break e}else{d(W,V);break}else o(W,V);V=V.sibling}me=av(ee,W.mode,me),me.return=W,W=me}return E(W);case O:return ee=sl(ee),Pt(W,V,ee,me)}if(J(ee))return Oe(W,V,ee,me);if(D(ee)){if($e=D(ee),typeof $e!="function")throw Error(n(150));return ee=$e.call(ee),He(W,V,ee,me)}if(typeof ee.then=="function")return Pt(W,V,Sf(ee),me);if(ee.$$typeof===A)return Pt(W,V,yf(W,ee),me);Cf(W,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,V!==null&&V.tag===6?(d(W,V.sibling),me=g(V,ee),me.return=W,W=me):(d(W,V),me=nv(ee,W.mode,me),me.return=W,W=me),E(W)):d(W,V)}return function(W,V,ee,me){try{Kc=0;var $e=Pt(W,V,ee,me);return po=null,$e}catch(Ie){if(Ie===mo||Ie===Nf)throw Ie;var bt=wn(29,Ie,null,W.mode);return bt.lanes=me,bt.return=W,bt}}}var ol=kj(!0),Mj=kj(!1),is=!1;function xv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ss(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ls(i,o,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(St&2)!==0){var g=p.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),p.pending=o,o=xf(i),dj(i,null,d),o}return hf(i,p,o,d),xf(i)}function Xc(i,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,Xd(i,d)}}function gv(i,o){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var g=null,j=null;if(d=d.firstBaseUpdate,d!==null){do{var E={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};j===null?g=j=E:j=j.next=E,d=d.next}while(d!==null);j===null?g=j=o:j=j.next=o}else g=j=o;d={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:j,shared:p.shared,callbacks:p.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=o:i.next=o,d.lastBaseUpdate=o}var bv=!1;function Zc(){if(bv){var i=fo;if(i!==null)throw i}}function Jc(i,o,d,p){bv=!1;var g=i.updateQueue;is=!1;var j=g.firstBaseUpdate,E=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var H=I,te=H.next;H.next=null,E===null?j=te:E.next=te,E=H;var fe=i.alternate;fe!==null&&(fe=fe.updateQueue,I=fe.lastBaseUpdate,I!==E&&(I===null?fe.firstBaseUpdate=te:I.next=te,fe.lastBaseUpdate=H))}if(j!==null){var pe=g.baseState;E=0,fe=te=H=null,I=j;do{var ae=I.lane&-536870913,oe=ae!==I.lane;if(oe?(ut&ae)===ae:(p&ae)===ae){ae!==0&&ae===uo&&(bv=!0),fe!==null&&(fe=fe.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Oe=i,He=I;ae=o;var Pt=d;switch(He.tag){case 1:if(Oe=He.payload,typeof Oe=="function"){pe=Oe.call(Pt,pe,ae);break e}pe=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=He.payload,ae=typeof Oe=="function"?Oe.call(Pt,pe,ae):Oe,ae==null)break e;pe=x({},pe,ae);break e;case 2:is=!0}}ae=I.callback,ae!==null&&(i.flags|=64,oe&&(i.flags|=8192),oe=g.callbacks,oe===null?g.callbacks=[ae]:oe.push(ae))}else oe={lane:ae,tag:I.tag,payload:I.payload,callback:I.callback,next:null},fe===null?(te=fe=oe,H=pe):fe=fe.next=oe,E|=ae;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;oe=I,I=oe.next,oe.next=null,g.lastBaseUpdate=oe,g.shared.pending=null}}while(!0);fe===null&&(H=pe),g.baseState=H,g.firstBaseUpdate=te,g.lastBaseUpdate=fe,j===null&&(g.shared.lanes=0),fs|=E,i.lanes=E,i.memoizedState=pe}}function Dj(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function Ej(i,o){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)Dj(d[i],o)}var ho=B(null),Af=B(0);function _j(i,o){i=bi,ve(Af,i),ve(ho,o),bi=i|o.baseLanes}function yv(){ve(Af,bi),ve(ho,ho.current)}function wv(){bi=Af.current,se(ho),se(Af)}var Nn=B(null),Vn=null;function os(i){var o=i.alternate;ve(dr,dr.current&1),ve(Nn,i),Vn===null&&(o===null||ho.current!==null||o.memoizedState!==null)&&(Vn=i)}function Nv(i){ve(dr,dr.current),ve(Nn,i),Vn===null&&(Vn=i)}function Oj(i){i.tag===22?(ve(dr,dr.current),ve(Nn,i),Vn===null&&(Vn=i)):cs()}function cs(){ve(dr,dr.current),ve(Nn,Nn.current)}function jn(i){se(Nn),Vn===i&&(Vn=null),se(dr)}var dr=B(0);function kf(i){for(var o=i;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||M0(d)||D0(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var di=0,Je=null,Ot=null,vr=null,Mf=!1,xo=!1,cl=!1,Df=0,eu=0,vo=null,CR=0;function nr(){throw Error(n(321))}function jv(i,o){if(o===null)return!1;for(var d=0;d<o.length&&d<i.length;d++)if(!yn(i[d],o[d]))return!1;return!0}function Sv(i,o,d,p,g,j){return di=j,Je=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,L.H=i===null||i.memoizedState===null?hS:Fv,cl=!1,j=d(p,g),cl=!1,xo&&(j=Pj(o,d,p,g)),Tj(i),j}function Tj(i){L.H=nu;var o=Ot!==null&&Ot.next!==null;if(di=0,vr=Ot=Je=null,Mf=!1,eu=0,vo=null,o)throw Error(n(300));i===null||gr||(i=i.dependencies,i!==null&&bf(i)&&(gr=!0))}function Pj(i,o,d,p){Je=i;var g=0;do{if(xo&&(vo=null),eu=0,xo=!1,25<=g)throw Error(n(301));if(g+=1,vr=Ot=null,i.updateQueue!=null){var j=i.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}L.H=xS,j=o(d,p)}while(xo);return j}function AR(){var i=L.H,o=i.useState()[0];return o=typeof o.then=="function"?tu(o):o,i=i.useState()[0],(Ot!==null?Ot.memoizedState:null)!==i&&(Je.flags|=1024),o}function Cv(){var i=Df!==0;return Df=0,i}function Av(i,o,d){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~d}function kv(i){if(Mf){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Mf=!1}di=0,vr=Ot=Je=null,xo=!1,eu=Df=0,vo=null}function Wr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?Je.memoizedState=vr=i:vr=vr.next=i,vr}function fr(){if(Ot===null){var i=Je.alternate;i=i!==null?i.memoizedState:null}else i=Ot.next;var o=vr===null?Je.memoizedState:vr.next;if(o!==null)vr=o,Ot=i;else{if(i===null)throw Je.alternate===null?Error(n(467)):Error(n(310));Ot=i,i={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},vr===null?Je.memoizedState=vr=i:vr=vr.next=i}return vr}function Ef(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tu(i){var o=eu;return eu+=1,vo===null&&(vo=[]),i=Sj(vo,i,o),o=Je,(vr===null?o.memoizedState:vr.next)===null&&(o=o.alternate,L.H=o===null||o.memoizedState===null?hS:Fv),i}function _f(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return tu(i);if(i.$$typeof===A)return Pr(i)}throw Error(n(438,String(i)))}function Mv(i){var o=null,d=Je.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var p=Je.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=Ef(),Je.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(i),p=0;p<i;p++)d[p]=R;return o.index++,d}function fi(i,o){return typeof o=="function"?o(i):o}function Of(i){var o=fr();return Dv(o,Ot,i)}function Dv(i,o,d){var p=i.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=d;var g=i.baseQueue,j=p.pending;if(j!==null){if(g!==null){var E=g.next;g.next=j.next,j.next=E}o.baseQueue=g=j,p.pending=null}if(j=i.baseState,g===null)i.memoizedState=j;else{o=g.next;var I=E=null,H=null,te=o,fe=!1;do{var pe=te.lane&-536870913;if(pe!==te.lane?(ut&pe)===pe:(di&pe)===pe){var ae=te.revertLane;if(ae===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),pe===uo&&(fe=!0);else if((di&ae)===ae){te=te.next,ae===uo&&(fe=!0);continue}else pe={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},H===null?(I=H=pe,E=j):H=H.next=pe,Je.lanes|=ae,fs|=ae;pe=te.action,cl&&d(j,pe),j=te.hasEagerState?te.eagerState:d(j,pe)}else ae={lane:pe,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},H===null?(I=H=ae,E=j):H=H.next=ae,Je.lanes|=pe,fs|=pe;te=te.next}while(te!==null&&te!==o);if(H===null?E=j:H.next=I,!yn(j,i.memoizedState)&&(gr=!0,fe&&(d=fo,d!==null)))throw d;i.memoizedState=j,i.baseState=E,i.baseQueue=H,p.lastRenderedState=j}return g===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function Ev(i){var o=fr(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var p=d.dispatch,g=d.pending,j=o.memoizedState;if(g!==null){d.pending=null;var E=g=g.next;do j=i(j,E.action),E=E.next;while(E!==g);yn(j,o.memoizedState)||(gr=!0),o.memoizedState=j,o.baseQueue===null&&(o.baseState=j),d.lastRenderedState=j}return[j,p]}function Ij(i,o,d){var p=Je,g=fr(),j=pt;if(j){if(d===void 0)throw Error(n(407));d=d()}else d=o();var E=!yn((Ot||g).memoizedState,d);if(E&&(g.memoizedState=d,gr=!0),g=g.queue,Tv(zj.bind(null,p,g,i),[i]),g.getSnapshot!==o||E||vr!==null&&vr.memoizedState.tag&1){if(p.flags|=2048,go(9,{destroy:void 0},Lj.bind(null,p,g,d,o),null),Lt===null)throw Error(n(349));j||(di&127)!==0||Rj(p,o,d)}return d}function Rj(i,o,d){i.flags|=16384,i={getSnapshot:o,value:d},o=Je.updateQueue,o===null?(o=Ef(),Je.updateQueue=o,o.stores=[i]):(d=o.stores,d===null?o.stores=[i]:d.push(i))}function Lj(i,o,d,p){o.value=d,o.getSnapshot=p,Fj(o)&&$j(i)}function zj(i,o,d){return d(function(){Fj(o)&&$j(i)})}function Fj(i){var o=i.getSnapshot;i=i.value;try{var d=o();return!yn(i,d)}catch{return!0}}function $j(i){var o=el(i,2);o!==null&&cn(o,i,2)}function _v(i){var o=Wr();if(typeof i=="function"){var d=i;if(i=d(),cl){We(!0);try{d()}finally{We(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:i},o}function Bj(i,o,d,p){return i.baseState=d,Dv(i,Ot,typeof p=="function"?p:fi)}function kR(i,o,d,p,g){if(If(i))throw Error(n(485));if(i=o.action,i!==null){var j={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){j.listeners.push(E)}};L.T!==null?d(!0):j.isTransition=!1,p(j),d=o.pending,d===null?(j.next=o.pending=j,qj(o,j)):(j.next=d.next,o.pending=d.next=j)}}function qj(i,o){var d=o.action,p=o.payload,g=i.state;if(o.isTransition){var j=L.T,E={};L.T=E;try{var I=d(g,p),H=L.S;H!==null&&H(E,I),Hj(i,o,I)}catch(te){Ov(i,o,te)}finally{j!==null&&E.types!==null&&(j.types=E.types),L.T=j}}else try{j=d(g,p),Hj(i,o,j)}catch(te){Ov(i,o,te)}}function Hj(i,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){Uj(i,o,p)},function(p){return Ov(i,o,p)}):Uj(i,o,d)}function Uj(i,o,d){o.status="fulfilled",o.value=d,Yj(o),i.state=d,o=i.pending,o!==null&&(d=o.next,d===o?i.pending=null:(d=d.next,o.next=d,qj(i,d)))}function Ov(i,o,d){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=d,Yj(o),o=o.next;while(o!==p)}i.action=null}function Yj(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function Vj(i,o){return o}function Gj(i,o){if(pt){var d=Lt.formState;if(d!==null){e:{var p=Je;if(pt){if(Bt){t:{for(var g=Bt,j=Yn;g.nodeType!==8;){if(!j){g=null;break t}if(g=Gn(g.nextSibling),g===null){g=null;break t}}j=g.data,g=j==="F!"||j==="F"?g:null}if(g){Bt=Gn(g.nextSibling),p=g.data==="F!";break e}}ns(p)}p=!1}p&&(o=d[0])}}return d=Wr(),d.memoizedState=d.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vj,lastRenderedState:o},d.queue=p,d=fS.bind(null,Je,p),p.dispatch=d,p=_v(!1),j=zv.bind(null,Je,!1,p.queue),p=Wr(),g={state:o,dispatch:null,action:i,pending:null},p.queue=g,d=kR.bind(null,Je,g,j,d),g.dispatch=d,p.memoizedState=i,[o,d,!1]}function Wj(i){var o=fr();return Kj(o,Ot,i)}function Kj(i,o,d){if(o=Dv(i,o,Vj)[0],i=Of(fi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=tu(o)}catch(E){throw E===mo?Nf:E}else p=o;o=fr();var g=o.queue,j=g.dispatch;return d!==o.memoizedState&&(Je.flags|=2048,go(9,{destroy:void 0},MR.bind(null,g,d),null)),[p,j,i]}function MR(i,o){i.action=o}function Qj(i){var o=fr(),d=Ot;if(d!==null)return Kj(o,d,i);fr(),o=o.memoizedState,d=fr();var p=d.queue.dispatch;return d.memoizedState=i,[o,p,!1]}function go(i,o,d,p){return i={tag:i,create:d,deps:p,inst:o,next:null},o=Je.updateQueue,o===null&&(o=Ef(),Je.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,o.lastEffect=i),i}function Xj(){return fr().memoizedState}function Tf(i,o,d,p){var g=Wr();Je.flags|=i,g.memoizedState=go(1|o,{destroy:void 0},d,p===void 0?null:p)}function Pf(i,o,d,p){var g=fr();p=p===void 0?null:p;var j=g.memoizedState.inst;Ot!==null&&p!==null&&jv(p,Ot.memoizedState.deps)?g.memoizedState=go(o,j,d,p):(Je.flags|=i,g.memoizedState=go(1|o,j,d,p))}function Zj(i,o){Tf(8390656,8,i,o)}function Tv(i,o){Pf(2048,8,i,o)}function DR(i){Je.flags|=4;var o=Je.updateQueue;if(o===null)o=Ef(),Je.updateQueue=o,o.events=[i];else{var d=o.events;d===null?o.events=[i]:d.push(i)}}function Jj(i){var o=fr().memoizedState;return DR({ref:o,nextImpl:i}),function(){if((St&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function eS(i,o){return Pf(4,2,i,o)}function tS(i,o){return Pf(4,4,i,o)}function rS(i,o){if(typeof o=="function"){i=i();var d=o(i);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function nS(i,o,d){d=d!=null?d.concat([i]):null,Pf(4,4,rS.bind(null,o,i),d)}function Pv(){}function aS(i,o){var d=fr();o=o===void 0?null:o;var p=d.memoizedState;return o!==null&&jv(o,p[1])?p[0]:(d.memoizedState=[i,o],i)}function iS(i,o){var d=fr();o=o===void 0?null:o;var p=d.memoizedState;if(o!==null&&jv(o,p[1]))return p[0];if(p=i(),cl){We(!0);try{i()}finally{We(!1)}}return d.memoizedState=[p,o],p}function Iv(i,o,d){return d===void 0||(di&1073741824)!==0&&(ut&261930)===0?i.memoizedState=o:(i.memoizedState=d,i=s2(),Je.lanes|=i,fs|=i,d)}function sS(i,o,d,p){return yn(d,o)?d:ho.current!==null?(i=Iv(i,d,p),yn(i,o)||(gr=!0),i):(di&42)===0||(di&1073741824)!==0&&(ut&261930)===0?(gr=!0,i.memoizedState=d):(i=s2(),Je.lanes|=i,fs|=i,o)}function lS(i,o,d,p,g){var j=Y.p;Y.p=j!==0&&8>j?j:8;var E=L.T,I={};L.T=I,zv(i,!1,o,d);try{var H=g(),te=L.S;if(te!==null&&te(I,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var fe=SR(H,p);ru(i,o,fe,An(i))}else ru(i,o,p,An(i))}catch(pe){ru(i,o,{then:function(){},status:"rejected",reason:pe},An())}finally{Y.p=j,E!==null&&I.types!==null&&(E.types=I.types),L.T=E}}function ER(){}function Rv(i,o,d,p){if(i.tag!==5)throw Error(n(476));var g=oS(i).queue;lS(i,g,o,q,d===null?ER:function(){return cS(i),d(p)})}function oS(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:q},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:d},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function cS(i){var o=oS(i);o.next===null&&(o=i.alternate.memoizedState),ru(i,o.next.queue,{},An())}function Lv(){return Pr(bu)}function uS(){return fr().memoizedState}function dS(){return fr().memoizedState}function _R(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var d=An();i=ss(d);var p=ls(o,i,d);p!==null&&(cn(p,o,d),Xc(p,o,d)),o={cache:fv()},i.payload=o;return}o=o.return}}function OR(i,o,d){var p=An();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},If(i)?mS(o,d):(d=tv(i,o,d,p),d!==null&&(cn(d,i,p),pS(d,o,p)))}function fS(i,o,d){var p=An();ru(i,o,d,p)}function ru(i,o,d,p){var g={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(If(i))mS(o,g);else{var j=i.alternate;if(i.lanes===0&&(j===null||j.lanes===0)&&(j=o.lastRenderedReducer,j!==null))try{var E=o.lastRenderedState,I=j(E,d);if(g.hasEagerState=!0,g.eagerState=I,yn(I,E))return hf(i,o,g,0),Lt===null&&pf(),!1}catch{}if(d=tv(i,o,g,p),d!==null)return cn(d,i,p),pS(d,o,p),!0}return!1}function zv(i,o,d,p){if(p={lane:2,revertLane:x0(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},If(i)){if(o)throw Error(n(479))}else o=tv(i,d,p,2),o!==null&&cn(o,i,2)}function If(i){var o=i.alternate;return i===Je||o!==null&&o===Je}function mS(i,o){xo=Mf=!0;var d=i.pending;d===null?o.next=o:(o.next=d.next,d.next=o),i.pending=o}function pS(i,o,d){if((d&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,Xd(i,d)}}var nu={readContext:Pr,use:_f,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useLayoutEffect:nr,useInsertionEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useSyncExternalStore:nr,useId:nr,useHostTransitionStatus:nr,useFormState:nr,useActionState:nr,useOptimistic:nr,useMemoCache:nr,useCacheRefresh:nr};nu.useEffectEvent=nr;var hS={readContext:Pr,use:_f,useCallback:function(i,o){return Wr().memoizedState=[i,o===void 0?null:o],i},useContext:Pr,useEffect:Zj,useImperativeHandle:function(i,o,d){d=d!=null?d.concat([i]):null,Tf(4194308,4,rS.bind(null,o,i),d)},useLayoutEffect:function(i,o){return Tf(4194308,4,i,o)},useInsertionEffect:function(i,o){Tf(4,2,i,o)},useMemo:function(i,o){var d=Wr();o=o===void 0?null:o;var p=i();if(cl){We(!0);try{i()}finally{We(!1)}}return d.memoizedState=[p,o],p},useReducer:function(i,o,d){var p=Wr();if(d!==void 0){var g=d(o);if(cl){We(!0);try{d(o)}finally{We(!1)}}}else g=o;return p.memoizedState=p.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},p.queue=i,i=i.dispatch=OR.bind(null,Je,i),[p.memoizedState,i]},useRef:function(i){var o=Wr();return i={current:i},o.memoizedState=i},useState:function(i){i=_v(i);var o=i.queue,d=fS.bind(null,Je,o);return o.dispatch=d,[i.memoizedState,d]},useDebugValue:Pv,useDeferredValue:function(i,o){var d=Wr();return Iv(d,i,o)},useTransition:function(){var i=_v(!1);return i=lS.bind(null,Je,i.queue,!0,!1),Wr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,d){var p=Je,g=Wr();if(pt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=o(),Lt===null)throw Error(n(349));(ut&127)!==0||Rj(p,o,d)}g.memoizedState=d;var j={value:d,getSnapshot:o};return g.queue=j,Zj(zj.bind(null,p,j,i),[i]),p.flags|=2048,go(9,{destroy:void 0},Lj.bind(null,p,j,d,o),null),d},useId:function(){var i=Wr(),o=Lt.identifierPrefix;if(pt){var d=Da,p=Ma;d=(p&~(1<<32-Xe(p)-1)).toString(32)+d,o="_"+o+"R_"+d,d=Df++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=CR++,o="_"+o+"r_"+d.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Lv,useFormState:Gj,useActionState:Gj,useOptimistic:function(i){var o=Wr();o.memoizedState=o.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=zv.bind(null,Je,!0,d),d.dispatch=o,[i,o]},useMemoCache:Mv,useCacheRefresh:function(){return Wr().memoizedState=_R.bind(null,Je)},useEffectEvent:function(i){var o=Wr(),d={impl:i};return o.memoizedState=d,function(){if((St&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},Fv={readContext:Pr,use:_f,useCallback:aS,useContext:Pr,useEffect:Tv,useImperativeHandle:nS,useInsertionEffect:eS,useLayoutEffect:tS,useMemo:iS,useReducer:Of,useRef:Xj,useState:function(){return Of(fi)},useDebugValue:Pv,useDeferredValue:function(i,o){var d=fr();return sS(d,Ot.memoizedState,i,o)},useTransition:function(){var i=Of(fi)[0],o=fr().memoizedState;return[typeof i=="boolean"?i:tu(i),o]},useSyncExternalStore:Ij,useId:uS,useHostTransitionStatus:Lv,useFormState:Wj,useActionState:Wj,useOptimistic:function(i,o){var d=fr();return Bj(d,Ot,i,o)},useMemoCache:Mv,useCacheRefresh:dS};Fv.useEffectEvent=Jj;var xS={readContext:Pr,use:_f,useCallback:aS,useContext:Pr,useEffect:Tv,useImperativeHandle:nS,useInsertionEffect:eS,useLayoutEffect:tS,useMemo:iS,useReducer:Ev,useRef:Xj,useState:function(){return Ev(fi)},useDebugValue:Pv,useDeferredValue:function(i,o){var d=fr();return Ot===null?Iv(d,i,o):sS(d,Ot.memoizedState,i,o)},useTransition:function(){var i=Ev(fi)[0],o=fr().memoizedState;return[typeof i=="boolean"?i:tu(i),o]},useSyncExternalStore:Ij,useId:uS,useHostTransitionStatus:Lv,useFormState:Qj,useActionState:Qj,useOptimistic:function(i,o){var d=fr();return Ot!==null?Bj(d,Ot,i,o):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:Mv,useCacheRefresh:dS};xS.useEffectEvent=Jj;function $v(i,o,d,p){o=i.memoizedState,d=d(p,o),d=d==null?o:x({},o,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Bv={enqueueSetState:function(i,o,d){i=i._reactInternals;var p=An(),g=ss(p);g.payload=o,d!=null&&(g.callback=d),o=ls(i,g,p),o!==null&&(cn(o,i,p),Xc(o,i,p))},enqueueReplaceState:function(i,o,d){i=i._reactInternals;var p=An(),g=ss(p);g.tag=1,g.payload=o,d!=null&&(g.callback=d),o=ls(i,g,p),o!==null&&(cn(o,i,p),Xc(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var d=An(),p=ss(d);p.tag=2,o!=null&&(p.callback=o),o=ls(i,p,d),o!==null&&(cn(o,i,d),Xc(o,i,d))}};function vS(i,o,d,p,g,j,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,j,E):o.prototype&&o.prototype.isPureReactComponent?!Hc(d,p)||!Hc(g,j):!0}function gS(i,o,d,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,p),o.state!==i&&Bv.enqueueReplaceState(o,o.state,null)}function ul(i,o){var d=o;if("ref"in o){d={};for(var p in o)p!=="ref"&&(d[p]=o[p])}if(i=i.defaultProps){d===o&&(d=x({},d));for(var g in i)d[g]===void 0&&(d[g]=i[g])}return d}function bS(i){mf(i)}function yS(i){console.error(i)}function wS(i){mf(i)}function Rf(i,o){try{var d=i.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function NS(i,o,d){try{var p=i.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function qv(i,o,d){return d=ss(d),d.tag=3,d.payload={element:null},d.callback=function(){Rf(i,o)},d}function jS(i){return i=ss(i),i.tag=3,i}function SS(i,o,d,p){var g=d.type.getDerivedStateFromError;if(typeof g=="function"){var j=p.value;i.payload=function(){return g(j)},i.callback=function(){NS(o,d,p)}}var E=d.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){NS(o,d,p),typeof g!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function TR(i,o,d,p,g){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=d.alternate,o!==null&&co(o,d,g,!0),d=Nn.current,d!==null){switch(d.tag){case 31:case 13:return Vn===null?Wf():d.alternate===null&&ar===0&&(ar=3),d.flags&=-257,d.flags|=65536,d.lanes=g,p===jf?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([p]):o.add(p),m0(i,p,g)),!1;case 22:return d.flags|=65536,p===jf?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([p]):d.add(p)),m0(i,p,g)),!1}throw Error(n(435,d.tag))}return m0(i,p,g),Wf(),!1}if(pt)return o=Nn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,p!==lv&&(i=Error(n(422),{cause:p}),Vc(qn(i,d)))):(p!==lv&&(o=Error(n(423),{cause:p}),Vc(qn(o,d))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,p=qn(p,d),g=qv(i.stateNode,p,g),gv(i,g),ar!==4&&(ar=2)),!1;var j=Error(n(520),{cause:p});if(j=qn(j,d),du===null?du=[j]:du.push(j),ar!==4&&(ar=2),o===null)return!0;p=qn(p,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,i=g&-g,d.lanes|=i,i=qv(d.stateNode,p,i),gv(d,i),!1;case 1:if(o=d.type,j=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ms===null||!ms.has(j))))return d.flags|=65536,g&=-g,d.lanes|=g,g=jS(g),SS(g,i,d,p),gv(d,g),!1}d=d.return}while(d!==null);return!1}var Hv=Error(n(461)),gr=!1;function Ir(i,o,d,p){o.child=i===null?Mj(o,null,d,p):ol(o,i.child,d,p)}function CS(i,o,d,p,g){d=d.render;var j=o.ref;if("ref"in p){var E={};for(var I in p)I!=="ref"&&(E[I]=p[I])}else E=p;return al(o),p=Sv(i,o,d,E,j,g),I=Cv(),i!==null&&!gr?(Av(i,o,g),mi(i,o,g)):(pt&&I&&iv(o),o.flags|=1,Ir(i,o,p,g),o.child)}function AS(i,o,d,p,g){if(i===null){var j=d.type;return typeof j=="function"&&!rv(j)&&j.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=j,kS(i,o,j,p,g)):(i=vf(d.type,null,p,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(j=i.child,!Xv(i,g)){var E=j.memoizedProps;if(d=d.compare,d=d!==null?d:Hc,d(E,p)&&i.ref===o.ref)return mi(i,o,g)}return o.flags|=1,i=li(j,p),i.ref=o.ref,i.return=o,o.child=i}function kS(i,o,d,p,g){if(i!==null){var j=i.memoizedProps;if(Hc(j,p)&&i.ref===o.ref)if(gr=!1,o.pendingProps=p=j,Xv(i,g))(i.flags&131072)!==0&&(gr=!0);else return o.lanes=i.lanes,mi(i,o,g)}return Uv(i,o,d,p,g)}function MS(i,o,d,p){var g=p.children,j=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(j=j!==null?j.baseLanes|d:d,i!==null){for(p=o.child=i.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;p=g&~j}else p=0,o.child=null;return DS(i,o,j,d,p)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&wf(o,j!==null?j.cachePool:null),j!==null?_j(o,j):yv(),Oj(o);else return p=o.lanes=536870912,DS(i,o,j!==null?j.baseLanes|d:d,d,p)}else j!==null?(wf(o,j.cachePool),_j(o,j),cs(),o.memoizedState=null):(i!==null&&wf(o,null),yv(),cs());return Ir(i,o,g,d),o.child}function au(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function DS(i,o,d,p,g){var j=pv();return j=j===null?null:{parent:xr._currentValue,pool:j},o.memoizedState={baseLanes:d,cachePool:j},i!==null&&wf(o,null),yv(),Oj(o),i!==null&&co(i,o,p,!0),o.childLanes=g,null}function Lf(i,o){return o=Ff({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function ES(i,o,d){return ol(o,i.child,null,d),i=Lf(o,o.pendingProps),i.flags|=2,jn(o),o.memoizedState=null,i}function PR(i,o,d){var p=o.pendingProps,g=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(pt){if(p.mode==="hidden")return i=Lf(o,p),o.lanes=536870912,au(null,i);if(Nv(o),(i=Bt)?(i=q2(i,Yn),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ts!==null?{id:Ma,overflow:Da}:null,retryLane:536870912,hydrationErrors:null},d=mj(i),d.return=o,o.child=d,Tr=o,Bt=null)):i=null,i===null)throw ns(o);return o.lanes=536870912,null}return Lf(o,p)}var j=i.memoizedState;if(j!==null){var E=j.dehydrated;if(Nv(o),g)if(o.flags&256)o.flags&=-257,o=ES(i,o,d);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(gr||co(i,o,d,!1),g=(d&i.childLanes)!==0,gr||g){if(p=Lt,p!==null&&(E=Zd(p,d),E!==0&&E!==j.retryLane))throw j.retryLane=E,el(i,E),cn(p,i,E),Hv;Wf(),o=ES(i,o,d)}else i=j.treeContext,Bt=Gn(E.nextSibling),Tr=o,pt=!0,rs=null,Yn=!1,i!==null&&xj(o,i),o=Lf(o,p),o.flags|=4096;return o}return i=li(i.child,{mode:p.mode,children:p.children}),i.ref=o.ref,o.child=i,i.return=o,i}function zf(i,o){var d=o.ref;if(d===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(i===null||i.ref!==d)&&(o.flags|=4194816)}}function Uv(i,o,d,p,g){return al(o),d=Sv(i,o,d,p,void 0,g),p=Cv(),i!==null&&!gr?(Av(i,o,g),mi(i,o,g)):(pt&&p&&iv(o),o.flags|=1,Ir(i,o,d,g),o.child)}function _S(i,o,d,p,g,j){return al(o),o.updateQueue=null,d=Pj(o,p,d,g),Tj(i),p=Cv(),i!==null&&!gr?(Av(i,o,j),mi(i,o,j)):(pt&&p&&iv(o),o.flags|=1,Ir(i,o,d,j),o.child)}function OS(i,o,d,p,g){if(al(o),o.stateNode===null){var j=io,E=d.contextType;typeof E=="object"&&E!==null&&(j=Pr(E)),j=new d(p,j),o.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=Bv,o.stateNode=j,j._reactInternals=o,j=o.stateNode,j.props=p,j.state=o.memoizedState,j.refs={},xv(o),E=d.contextType,j.context=typeof E=="object"&&E!==null?Pr(E):io,j.state=o.memoizedState,E=d.getDerivedStateFromProps,typeof E=="function"&&($v(o,d,E,p),j.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(E=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),E!==j.state&&Bv.enqueueReplaceState(j,j.state,null),Jc(o,p,j,g),Zc(),j.state=o.memoizedState),typeof j.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){j=o.stateNode;var I=o.memoizedProps,H=ul(d,I);j.props=H;var te=j.context,fe=d.contextType;E=io,typeof fe=="object"&&fe!==null&&(E=Pr(fe));var pe=d.getDerivedStateFromProps;fe=typeof pe=="function"||typeof j.getSnapshotBeforeUpdate=="function",I=o.pendingProps!==I,fe||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(I||te!==E)&&gS(o,j,p,E),is=!1;var ae=o.memoizedState;j.state=ae,Jc(o,p,j,g),Zc(),te=o.memoizedState,I||ae!==te||is?(typeof pe=="function"&&($v(o,d,pe,p),te=o.memoizedState),(H=is||vS(o,d,H,p,ae,te,E))?(fe||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(o.flags|=4194308)):(typeof j.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=te),j.props=p,j.state=te,j.context=E,p=H):(typeof j.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{j=o.stateNode,vv(i,o),E=o.memoizedProps,fe=ul(d,E),j.props=fe,pe=o.pendingProps,ae=j.context,te=d.contextType,H=io,typeof te=="object"&&te!==null&&(H=Pr(te)),I=d.getDerivedStateFromProps,(te=typeof I=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(E!==pe||ae!==H)&&gS(o,j,p,H),is=!1,ae=o.memoizedState,j.state=ae,Jc(o,p,j,g),Zc();var oe=o.memoizedState;E!==pe||ae!==oe||is||i!==null&&i.dependencies!==null&&bf(i.dependencies)?(typeof I=="function"&&($v(o,d,I,p),oe=o.memoizedState),(fe=is||vS(o,d,fe,p,ae,oe,H)||i!==null&&i.dependencies!==null&&bf(i.dependencies))?(te||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(p,oe,H),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(p,oe,H)),typeof j.componentDidUpdate=="function"&&(o.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof j.componentDidUpdate!="function"||E===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=oe),j.props=p,j.state=oe,j.context=H,p=fe):(typeof j.componentDidUpdate!="function"||E===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),p=!1)}return j=p,zf(i,o),p=(o.flags&128)!==0,j||p?(j=o.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:j.render(),o.flags|=1,i!==null&&p?(o.child=ol(o,i.child,null,g),o.child=ol(o,null,d,g)):Ir(i,o,d,g),o.memoizedState=j.state,i=o.child):i=mi(i,o,g),i}function TS(i,o,d,p){return rl(),o.flags|=256,Ir(i,o,d,p),o.child}var Yv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vv(i){return{baseLanes:i,cachePool:Nj()}}function Gv(i,o,d){return i=i!==null?i.childLanes&~d:0,o&&(i|=Cn),i}function PS(i,o,d){var p=o.pendingProps,g=!1,j=(o.flags&128)!==0,E;if((E=j)||(E=i!==null&&i.memoizedState===null?!1:(dr.current&2)!==0),E&&(g=!0,o.flags&=-129),E=(o.flags&32)!==0,o.flags&=-33,i===null){if(pt){if(g?os(o):cs(),(i=Bt)?(i=q2(i,Yn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ts!==null?{id:Ma,overflow:Da}:null,retryLane:536870912,hydrationErrors:null},d=mj(i),d.return=o,o.child=d,Tr=o,Bt=null)):i=null,i===null)throw ns(o);return D0(i)?o.lanes=32:o.lanes=536870912,null}var I=p.children;return p=p.fallback,g?(cs(),g=o.mode,I=Ff({mode:"hidden",children:I},g),p=tl(p,g,d,null),I.return=o,p.return=o,I.sibling=p,o.child=I,p=o.child,p.memoizedState=Vv(d),p.childLanes=Gv(i,E,d),o.memoizedState=Yv,au(null,p)):(os(o),Wv(o,I))}var H=i.memoizedState;if(H!==null&&(I=H.dehydrated,I!==null)){if(j)o.flags&256?(os(o),o.flags&=-257,o=Kv(i,o,d)):o.memoizedState!==null?(cs(),o.child=i.child,o.flags|=128,o=null):(cs(),I=p.fallback,g=o.mode,p=Ff({mode:"visible",children:p.children},g),I=tl(I,g,d,null),I.flags|=2,p.return=o,I.return=o,p.sibling=I,o.child=p,ol(o,i.child,null,d),p=o.child,p.memoizedState=Vv(d),p.childLanes=Gv(i,E,d),o.memoizedState=Yv,o=au(null,p));else if(os(o),D0(I)){if(E=I.nextSibling&&I.nextSibling.dataset,E)var te=E.dgst;E=te,p=Error(n(419)),p.stack="",p.digest=E,Vc({value:p,source:null,stack:null}),o=Kv(i,o,d)}else if(gr||co(i,o,d,!1),E=(d&i.childLanes)!==0,gr||E){if(E=Lt,E!==null&&(p=Zd(E,d),p!==0&&p!==H.retryLane))throw H.retryLane=p,el(i,p),cn(E,i,p),Hv;M0(I)||Wf(),o=Kv(i,o,d)}else M0(I)?(o.flags|=192,o.child=i.child,o=null):(i=H.treeContext,Bt=Gn(I.nextSibling),Tr=o,pt=!0,rs=null,Yn=!1,i!==null&&xj(o,i),o=Wv(o,p.children),o.flags|=4096);return o}return g?(cs(),I=p.fallback,g=o.mode,H=i.child,te=H.sibling,p=li(H,{mode:"hidden",children:p.children}),p.subtreeFlags=H.subtreeFlags&65011712,te!==null?I=li(te,I):(I=tl(I,g,d,null),I.flags|=2),I.return=o,p.return=o,p.sibling=I,o.child=p,au(null,p),p=o.child,I=i.child.memoizedState,I===null?I=Vv(d):(g=I.cachePool,g!==null?(H=xr._currentValue,g=g.parent!==H?{parent:H,pool:H}:g):g=Nj(),I={baseLanes:I.baseLanes|d,cachePool:g}),p.memoizedState=I,p.childLanes=Gv(i,E,d),o.memoizedState=Yv,au(i.child,p)):(os(o),d=i.child,i=d.sibling,d=li(d,{mode:"visible",children:p.children}),d.return=o,d.sibling=null,i!==null&&(E=o.deletions,E===null?(o.deletions=[i],o.flags|=16):E.push(i)),o.child=d,o.memoizedState=null,d)}function Wv(i,o){return o=Ff({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Ff(i,o){return i=wn(22,i,null,o),i.lanes=0,i}function Kv(i,o,d){return ol(o,i.child,null,d),i=Wv(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function IS(i,o,d){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),uv(i.return,o,d)}function Qv(i,o,d,p,g,j){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:g,treeForkCount:j}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=d,E.tailMode=g,E.treeForkCount=j)}function RS(i,o,d){var p=o.pendingProps,g=p.revealOrder,j=p.tail;p=p.children;var E=dr.current,I=(E&2)!==0;if(I?(E=E&1|2,o.flags|=128):E&=1,ve(dr,E),Ir(i,o,p,d),p=pt?Yc:0,!I&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&IS(i,d,o);else if(i.tag===19)IS(i,d,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(d=o.child,g=null;d!==null;)i=d.alternate,i!==null&&kf(i)===null&&(g=d),d=d.sibling;d=g,d===null?(g=o.child,o.child=null):(g=d.sibling,d.sibling=null),Qv(o,!1,g,d,j,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&kf(i)===null){o.child=g;break}i=g.sibling,g.sibling=d,d=g,g=i}Qv(o,!0,d,null,j,p);break;case"together":Qv(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function mi(i,o,d){if(i!==null&&(o.dependencies=i.dependencies),fs|=o.lanes,(d&o.childLanes)===0)if(i!==null){if(co(i,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,d=li(i,i.pendingProps),o.child=d,d.return=o;i.sibling!==null;)i=i.sibling,d=d.sibling=li(i,i.pendingProps),d.return=o;d.sibling=null}return o.child}function Xv(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&bf(i)))}function IR(i,o,d){switch(o.tag){case 3:ke(o,o.stateNode.containerInfo),as(o,xr,i.memoizedState.cache),rl();break;case 27:case 5:Fe(o);break;case 4:ke(o,o.stateNode.containerInfo);break;case 10:as(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Nv(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(os(o),o.flags|=128,null):(d&o.child.childLanes)!==0?PS(i,o,d):(os(o),i=mi(i,o,d),i!==null?i.sibling:null);os(o);break;case 19:var g=(i.flags&128)!==0;if(p=(d&o.childLanes)!==0,p||(co(i,o,d,!1),p=(d&o.childLanes)!==0),g){if(p)return RS(i,o,d);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ve(dr,dr.current),p)break;return null;case 22:return o.lanes=0,MS(i,o,d,o.pendingProps);case 24:as(o,xr,i.memoizedState.cache)}return mi(i,o,d)}function LS(i,o,d){if(i!==null)if(i.memoizedProps!==o.pendingProps)gr=!0;else{if(!Xv(i,d)&&(o.flags&128)===0)return gr=!1,IR(i,o,d);gr=(i.flags&131072)!==0}else gr=!1,pt&&(o.flags&1048576)!==0&&hj(o,Yc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(i=sl(o.elementType),o.type=i,typeof i=="function")rv(i)?(p=ul(i,p),o.tag=1,o=OS(null,o,i,p,d)):(o.tag=0,o=Uv(null,o,i,p,d));else{if(i!=null){var g=i.$$typeof;if(g===M){o.tag=11,o=CS(null,o,i,p,d);break e}else if(g===P){o.tag=14,o=AS(null,o,i,p,d);break e}}throw o=Q(i)||i,Error(n(306,o,""))}}return o;case 0:return Uv(i,o,o.type,o.pendingProps,d);case 1:return p=o.type,g=ul(p,o.pendingProps),OS(i,o,p,g,d);case 3:e:{if(ke(o,o.stateNode.containerInfo),i===null)throw Error(n(387));p=o.pendingProps;var j=o.memoizedState;g=j.element,vv(i,o),Jc(o,p,null,d);var E=o.memoizedState;if(p=E.cache,as(o,xr,p),p!==j.cache&&dv(o,[xr],d,!0),Zc(),p=E.element,j.isDehydrated)if(j={element:p,isDehydrated:!1,cache:E.cache},o.updateQueue.baseState=j,o.memoizedState=j,o.flags&256){o=TS(i,o,p,d);break e}else if(p!==g){g=qn(Error(n(424)),o),Vc(g),o=TS(i,o,p,d);break e}else for(i=o.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Bt=Gn(i.firstChild),Tr=o,pt=!0,rs=null,Yn=!0,d=Mj(o,null,p,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(rl(),p===g){o=mi(i,o,d);break e}Ir(i,o,p,d)}o=o.child}return o;case 26:return zf(i,o),i===null?(d=W2(o.type,null,o.pendingProps,null))?o.memoizedState=d:pt||(d=o.type,i=o.pendingProps,p=tm(xe.current).createElement(d),p[Nr]=o,p[qr]=i,Rr(p,d,i),xt(p),o.stateNode=p):o.memoizedState=W2(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Fe(o),i===null&&pt&&(p=o.stateNode=Y2(o.type,o.pendingProps,xe.current),Tr=o,Yn=!0,g=Bt,vs(o.type)?(E0=g,Bt=Gn(p.firstChild)):Bt=g),Ir(i,o,o.pendingProps.children,d),zf(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&pt&&((g=p=Bt)&&(p=dL(p,o.type,o.pendingProps,Yn),p!==null?(o.stateNode=p,Tr=o,Bt=Gn(p.firstChild),Yn=!1,g=!0):g=!1),g||ns(o)),Fe(o),g=o.type,j=o.pendingProps,E=i!==null?i.memoizedProps:null,p=j.children,C0(g,j)?p=null:E!==null&&C0(g,E)&&(o.flags|=32),o.memoizedState!==null&&(g=Sv(i,o,AR,null,null,d),bu._currentValue=g),zf(i,o),Ir(i,o,p,d),o.child;case 6:return i===null&&pt&&((i=d=Bt)&&(d=fL(d,o.pendingProps,Yn),d!==null?(o.stateNode=d,Tr=o,Bt=null,i=!0):i=!1),i||ns(o)),null;case 13:return PS(i,o,d);case 4:return ke(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=ol(o,null,p,d):Ir(i,o,p,d),o.child;case 11:return CS(i,o,o.type,o.pendingProps,d);case 7:return Ir(i,o,o.pendingProps,d),o.child;case 8:return Ir(i,o,o.pendingProps.children,d),o.child;case 12:return Ir(i,o,o.pendingProps.children,d),o.child;case 10:return p=o.pendingProps,as(o,o.type,p.value),Ir(i,o,p.children,d),o.child;case 9:return g=o.type._context,p=o.pendingProps.children,al(o),g=Pr(g),p=p(g),o.flags|=1,Ir(i,o,p,d),o.child;case 14:return AS(i,o,o.type,o.pendingProps,d);case 15:return kS(i,o,o.type,o.pendingProps,d);case 19:return RS(i,o,d);case 31:return PR(i,o,d);case 22:return MS(i,o,d,o.pendingProps);case 24:return al(o),p=Pr(xr),i===null?(g=pv(),g===null&&(g=Lt,j=fv(),g.pooledCache=j,j.refCount++,j!==null&&(g.pooledCacheLanes|=d),g=j),o.memoizedState={parent:p,cache:g},xv(o),as(o,xr,g)):((i.lanes&d)!==0&&(vv(i,o),Jc(o,null,null,d),Zc()),g=i.memoizedState,j=o.memoizedState,g.parent!==p?(g={parent:p,cache:p},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),as(o,xr,p)):(p=j.cache,as(o,xr,p),p!==g.cache&&dv(o,[xr],d,!0))),Ir(i,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function pi(i){i.flags|=4}function Zv(i,o,d,p,g){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(u2())i.flags|=8192;else throw ll=jf,hv}else i.flags&=-16777217}function zS(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!J2(o))if(u2())i.flags|=8192;else throw ll=jf,hv}function $f(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Kd():536870912,i.lanes|=o,No|=o)}function iu(i,o){if(!pt)switch(i.tailMode){case"hidden":o=i.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function qt(i){var o=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(o)for(var g=i.child;g!==null;)d|=g.lanes|g.childLanes,p|=g.subtreeFlags&65011712,p|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)d|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=p,i.childLanes=d,o}function RR(i,o,d){var p=o.pendingProps;switch(sv(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(o),null;case 1:return qt(o),null;case 3:return d=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),ui(xr),re(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(oo(o)?pi(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ov())),qt(o),null;case 26:var g=o.type,j=o.memoizedState;return i===null?(pi(o),j!==null?(qt(o),zS(o,j)):(qt(o),Zv(o,g,null,p,d))):j?j!==i.memoizedState?(pi(o),qt(o),zS(o,j)):(qt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==p&&pi(o),qt(o),Zv(o,g,i,p,d)),null;case 27:if(Ue(o),d=xe.current,g=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&pi(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return qt(o),null}i=de.current,oo(o)?vj(o):(i=Y2(g,p,d),o.stateNode=i,pi(o))}return qt(o),null;case 5:if(Ue(o),g=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&pi(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return qt(o),null}if(j=de.current,oo(o))vj(o);else{var E=tm(xe.current);switch(j){case 1:j=E.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:j=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":j=E.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":j=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":j=E.createElement("div"),j.innerHTML="<script><\/script>",j=j.removeChild(j.firstChild);break;case"select":j=typeof p.is=="string"?E.createElement("select",{is:p.is}):E.createElement("select"),p.multiple?j.multiple=!0:p.size&&(j.size=p.size);break;default:j=typeof p.is=="string"?E.createElement(g,{is:p.is}):E.createElement(g)}}j[Nr]=o,j[qr]=p;e:for(E=o.child;E!==null;){if(E.tag===5||E.tag===6)j.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===o)break e;for(;E.sibling===null;){if(E.return===null||E.return===o)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}o.stateNode=j;e:switch(Rr(j,g,p),g){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&pi(o)}}return qt(o),Zv(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,d),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&pi(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(i=xe.current,oo(o)){if(i=o.stateNode,d=o.memoizedProps,p=null,g=Tr,g!==null)switch(g.tag){case 27:case 5:p=g.memoizedProps}i[Nr]=o,i=!!(i.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||P2(i.nodeValue,d)),i||ns(o,!0)}else i=tm(i).createTextNode(p),i[Nr]=o,o.stateNode=i}return qt(o),null;case 31:if(d=o.memoizedState,i===null||i.memoizedState!==null){if(p=oo(o),d!==null){if(i===null){if(!p)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[Nr]=o}else rl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;qt(o),i=!1}else d=ov(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),i=!0;if(!i)return o.flags&256?(jn(o),o):(jn(o),null);if((o.flags&128)!==0)throw Error(n(558))}return qt(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=oo(o),p!==null&&p.dehydrated!==null){if(i===null){if(!g)throw Error(n(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[Nr]=o}else rl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;qt(o),g=!1}else g=ov(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(jn(o),o):(jn(o),null)}return jn(o),(o.flags&128)!==0?(o.lanes=d,o):(d=p!==null,i=i!==null&&i.memoizedState!==null,d&&(p=o.child,g=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(g=p.alternate.memoizedState.cachePool.pool),j=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(j=p.memoizedState.cachePool.pool),j!==g&&(p.flags|=2048)),d!==i&&d&&(o.child.flags|=8192),$f(o,o.updateQueue),qt(o),null);case 4:return re(),i===null&&y0(o.stateNode.containerInfo),qt(o),null;case 10:return ui(o.type),qt(o),null;case 19:if(se(dr),p=o.memoizedState,p===null)return qt(o),null;if(g=(o.flags&128)!==0,j=p.rendering,j===null)if(g)iu(p,!1);else{if(ar!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(j=kf(i),j!==null){for(o.flags|=128,iu(p,!1),i=j.updateQueue,o.updateQueue=i,$f(o,i),o.subtreeFlags=0,i=d,d=o.child;d!==null;)fj(d,i),d=d.sibling;return ve(dr,dr.current&1|2),pt&&oi(o,p.treeForkCount),o.child}i=i.sibling}p.tail!==null&&Zt()>Yf&&(o.flags|=128,g=!0,iu(p,!1),o.lanes=4194304)}else{if(!g)if(i=kf(j),i!==null){if(o.flags|=128,g=!0,i=i.updateQueue,o.updateQueue=i,$f(o,i),iu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!j.alternate&&!pt)return qt(o),null}else 2*Zt()-p.renderingStartTime>Yf&&d!==536870912&&(o.flags|=128,g=!0,iu(p,!1),o.lanes=4194304);p.isBackwards?(j.sibling=o.child,o.child=j):(i=p.last,i!==null?i.sibling=j:o.child=j,p.last=j)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=Zt(),i.sibling=null,d=dr.current,ve(dr,g?d&1|2:d&1),pt&&oi(o,p.treeForkCount),i):(qt(o),null);case 22:case 23:return jn(o),wv(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(d&536870912)!==0&&(o.flags&128)===0&&(qt(o),o.subtreeFlags&6&&(o.flags|=8192)):qt(o),d=o.updateQueue,d!==null&&$f(o,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==d&&(o.flags|=2048),i!==null&&se(il),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),ui(xr),qt(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function LR(i,o){switch(sv(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ui(xr),re(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Ue(o),null;case 31:if(o.memoizedState!==null){if(jn(o),o.alternate===null)throw Error(n(340));rl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(jn(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));rl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return se(dr),null;case 4:return re(),null;case 10:return ui(o.type),null;case 22:case 23:return jn(o),wv(),i!==null&&se(il),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return ui(xr),null;case 25:return null;default:return null}}function FS(i,o){switch(sv(o),o.tag){case 3:ui(xr),re();break;case 26:case 27:case 5:Ue(o);break;case 4:re();break;case 31:o.memoizedState!==null&&jn(o);break;case 13:jn(o);break;case 19:se(dr);break;case 10:ui(o.type);break;case 22:case 23:jn(o),wv(),i!==null&&se(il);break;case 24:ui(xr)}}function su(i,o){try{var d=o.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var g=p.next;d=g;do{if((d.tag&i)===i){p=void 0;var j=d.create,E=d.inst;p=j(),E.destroy=p}d=d.next}while(d!==g)}}catch(I){kt(o,o.return,I)}}function us(i,o,d){try{var p=o.updateQueue,g=p!==null?p.lastEffect:null;if(g!==null){var j=g.next;p=j;do{if((p.tag&i)===i){var E=p.inst,I=E.destroy;if(I!==void 0){E.destroy=void 0,g=o;var H=d,te=I;try{te()}catch(fe){kt(g,H,fe)}}}p=p.next}while(p!==j)}}catch(fe){kt(o,o.return,fe)}}function $S(i){var o=i.updateQueue;if(o!==null){var d=i.stateNode;try{Ej(o,d)}catch(p){kt(i,i.return,p)}}}function BS(i,o,d){d.props=ul(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(p){kt(i,o,p)}}function lu(i,o){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof d=="function"?i.refCleanup=d(p):d.current=p}}catch(g){kt(i,o,g)}}function Ea(i,o){var d=i.ref,p=i.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(g){kt(i,o,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(g){kt(i,o,g)}else d.current=null}function qS(i){var o=i.type,d=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(g){kt(i,i.return,g)}}function Jv(i,o,d){try{var p=i.stateNode;iL(p,i.type,d,o),p[qr]=o}catch(g){kt(i,i.return,g)}}function HS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&vs(i.type)||i.tag===4}function e0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||HS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&vs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function t0(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(i),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=ii));else if(p!==4&&(p===27&&vs(i.type)&&(d=i.stateNode,o=null),i=i.child,i!==null))for(t0(i,o,d),i=i.sibling;i!==null;)t0(i,o,d),i=i.sibling}function Bf(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?d.insertBefore(i,o):d.appendChild(i);else if(p!==4&&(p===27&&vs(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(Bf(i,o,d),i=i.sibling;i!==null;)Bf(i,o,d),i=i.sibling}function US(i){var o=i.stateNode,d=i.memoizedProps;try{for(var p=i.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);Rr(o,p,d),o[Nr]=i,o[qr]=d}catch(j){kt(i,i.return,j)}}var hi=!1,br=!1,r0=!1,YS=typeof WeakSet=="function"?WeakSet:Set,Mr=null;function zR(i,o){if(i=i.containerInfo,j0=om,i=nj(i),Kx(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var g=p.anchorOffset,j=p.focusNode;p=p.focusOffset;try{d.nodeType,j.nodeType}catch{d=null;break e}var E=0,I=-1,H=-1,te=0,fe=0,pe=i,ae=null;t:for(;;){for(var oe;pe!==d||g!==0&&pe.nodeType!==3||(I=E+g),pe!==j||p!==0&&pe.nodeType!==3||(H=E+p),pe.nodeType===3&&(E+=pe.nodeValue.length),(oe=pe.firstChild)!==null;)ae=pe,pe=oe;for(;;){if(pe===i)break t;if(ae===d&&++te===g&&(I=E),ae===j&&++fe===p&&(H=E),(oe=pe.nextSibling)!==null)break;pe=ae,ae=pe.parentNode}pe=oe}d=I===-1||H===-1?null:{start:I,end:H}}else d=null}d=d||{start:0,end:0}}else d=null;for(S0={focusedElem:i,selectionRange:d},om=!1,Mr=o;Mr!==null;)if(o=Mr,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Mr=i;else for(;Mr!==null;){switch(o=Mr,j=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(d=0;d<i.length;d++)g=i[d],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&j!==null){i=void 0,d=o,g=j.memoizedProps,j=j.memoizedState,p=d.stateNode;try{var Oe=ul(d.type,g);i=p.getSnapshotBeforeUpdate(Oe,j),p.__reactInternalSnapshotBeforeUpdate=i}catch(He){kt(d,d.return,He)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,d=i.nodeType,d===9)k0(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":k0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,Mr=i;break}Mr=o.return}}function VS(i,o,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:vi(i,d),p&4&&su(5,d);break;case 1:if(vi(i,d),p&4)if(i=d.stateNode,o===null)try{i.componentDidMount()}catch(E){kt(d,d.return,E)}else{var g=ul(d.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(g,o,i.__reactInternalSnapshotBeforeUpdate)}catch(E){kt(d,d.return,E)}}p&64&&$S(d),p&512&&lu(d,d.return);break;case 3:if(vi(i,d),p&64&&(i=d.updateQueue,i!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{Ej(i,o)}catch(E){kt(d,d.return,E)}}break;case 27:o===null&&p&4&&US(d);case 26:case 5:vi(i,d),o===null&&p&4&&qS(d),p&512&&lu(d,d.return);break;case 12:vi(i,d);break;case 31:vi(i,d),p&4&&KS(i,d);break;case 13:vi(i,d),p&4&&QS(i,d),p&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=GR.bind(null,d),mL(i,d))));break;case 22:if(p=d.memoizedState!==null||hi,!p){o=o!==null&&o.memoizedState!==null||br,g=hi;var j=br;hi=p,(br=o)&&!j?gi(i,d,(d.subtreeFlags&8772)!==0):vi(i,d),hi=g,br=j}break;case 30:break;default:vi(i,d)}}function GS(i){var o=i.alternate;o!==null&&(i.alternate=null,GS(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Pc(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Yt=null,an=!1;function xi(i,o,d){for(d=d.child;d!==null;)WS(i,o,d),d=d.sibling}function WS(i,o,d){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount(ze,d)}catch{}switch(d.tag){case 26:br||Ea(d,o),xi(i,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:br||Ea(d,o);var p=Yt,g=an;vs(d.type)&&(Yt=d.stateNode,an=!1),xi(i,o,d),xu(d.stateNode),Yt=p,an=g;break;case 5:br||Ea(d,o);case 6:if(p=Yt,g=an,Yt=null,xi(i,o,d),Yt=p,an=g,Yt!==null)if(an)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(d.stateNode)}catch(j){kt(d,o,j)}else try{Yt.removeChild(d.stateNode)}catch(j){kt(d,o,j)}break;case 18:Yt!==null&&(an?(i=Yt,$2(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),Eo(i)):$2(Yt,d.stateNode));break;case 4:p=Yt,g=an,Yt=d.stateNode.containerInfo,an=!0,xi(i,o,d),Yt=p,an=g;break;case 0:case 11:case 14:case 15:us(2,d,o),br||us(4,d,o),xi(i,o,d);break;case 1:br||(Ea(d,o),p=d.stateNode,typeof p.componentWillUnmount=="function"&&BS(d,o,p)),xi(i,o,d);break;case 21:xi(i,o,d);break;case 22:br=(p=br)||d.memoizedState!==null,xi(i,o,d),br=p;break;default:xi(i,o,d)}}function KS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Eo(i)}catch(d){kt(o,o.return,d)}}}function QS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Eo(i)}catch(d){kt(o,o.return,d)}}function FR(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new YS),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new YS),o;default:throw Error(n(435,i.tag))}}function qf(i,o){var d=FR(i);o.forEach(function(p){if(!d.has(p)){d.add(p);var g=WR.bind(null,i,p);p.then(g,g)}})}function sn(i,o){var d=o.deletions;if(d!==null)for(var p=0;p<d.length;p++){var g=d[p],j=i,E=o,I=E;e:for(;I!==null;){switch(I.tag){case 27:if(vs(I.type)){Yt=I.stateNode,an=!1;break e}break;case 5:Yt=I.stateNode,an=!1;break e;case 3:case 4:Yt=I.stateNode.containerInfo,an=!0;break e}I=I.return}if(Yt===null)throw Error(n(160));WS(j,E,g),Yt=null,an=!1,j=g.alternate,j!==null&&(j.return=null),g.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)XS(o,i),o=o.sibling}var sa=null;function XS(i,o){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:sn(o,i),ln(i),p&4&&(us(3,i,i.return),su(3,i),us(5,i,i.return));break;case 1:sn(o,i),ln(i),p&512&&(br||d===null||Ea(d,d.return)),p&64&&hi&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var g=sa;if(sn(o,i),ln(i),p&512&&(br||d===null||Ea(d,d.return)),p&4){var j=d!==null?d.memoizedState:null;if(p=i.memoizedState,d===null)if(p===null)if(i.stateNode===null){e:{p=i.type,d=i.memoizedProps,g=g.ownerDocument||g;t:switch(p){case"title":j=g.getElementsByTagName("title")[0],(!j||j[Qs]||j[Nr]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=g.createElement(p),g.head.insertBefore(j,g.querySelector("head > title"))),Rr(j,p,d),j[Nr]=i,xt(j),p=j;break e;case"link":var E=X2("link","href",g).get(p+(d.href||""));if(E){for(var I=0;I<E.length;I++)if(j=E[I],j.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&j.getAttribute("rel")===(d.rel==null?null:d.rel)&&j.getAttribute("title")===(d.title==null?null:d.title)&&j.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){E.splice(I,1);break t}}j=g.createElement(p),Rr(j,p,d),g.head.appendChild(j);break;case"meta":if(E=X2("meta","content",g).get(p+(d.content||""))){for(I=0;I<E.length;I++)if(j=E[I],j.getAttribute("content")===(d.content==null?null:""+d.content)&&j.getAttribute("name")===(d.name==null?null:d.name)&&j.getAttribute("property")===(d.property==null?null:d.property)&&j.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&j.getAttribute("charset")===(d.charSet==null?null:d.charSet)){E.splice(I,1);break t}}j=g.createElement(p),Rr(j,p,d),g.head.appendChild(j);break;default:throw Error(n(468,p))}j[Nr]=i,xt(j),p=j}i.stateNode=p}else Z2(g,i.type,i.stateNode);else i.stateNode=Q2(g,p,i.memoizedProps);else j!==p?(j===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):j.count--,p===null?Z2(g,i.type,i.stateNode):Q2(g,p,i.memoizedProps)):p===null&&i.stateNode!==null&&Jv(i,i.memoizedProps,d.memoizedProps)}break;case 27:sn(o,i),ln(i),p&512&&(br||d===null||Ea(d,d.return)),d!==null&&p&4&&Jv(i,i.memoizedProps,d.memoizedProps);break;case 5:if(sn(o,i),ln(i),p&512&&(br||d===null||Ea(d,d.return)),i.flags&32){g=i.stateNode;try{Zl(g,"")}catch(Oe){kt(i,i.return,Oe)}}p&4&&i.stateNode!=null&&(g=i.memoizedProps,Jv(i,g,d!==null?d.memoizedProps:g)),p&1024&&(r0=!0);break;case 6:if(sn(o,i),ln(i),p&4){if(i.stateNode===null)throw Error(n(162));p=i.memoizedProps,d=i.stateNode;try{d.nodeValue=p}catch(Oe){kt(i,i.return,Oe)}}break;case 3:if(am=null,g=sa,sa=rm(o.containerInfo),sn(o,i),sa=g,ln(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Eo(o.containerInfo)}catch(Oe){kt(i,i.return,Oe)}r0&&(r0=!1,ZS(i));break;case 4:p=sa,sa=rm(i.stateNode.containerInfo),sn(o,i),ln(i),sa=p;break;case 12:sn(o,i),ln(i);break;case 31:sn(o,i),ln(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,qf(i,p)));break;case 13:sn(o,i),ln(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Uf=Zt()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,qf(i,p)));break;case 22:g=i.memoizedState!==null;var H=d!==null&&d.memoizedState!==null,te=hi,fe=br;if(hi=te||g,br=fe||H,sn(o,i),br=fe,hi=te,ln(i),p&8192)e:for(o=i.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(d===null||H||hi||br||dl(i)),d=null,o=i;;){if(o.tag===5||o.tag===26){if(d===null){H=d=o;try{if(j=H.stateNode,g)E=j.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{I=H.stateNode;var pe=H.memoizedProps.style,ae=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;I.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Oe){kt(H,H.return,Oe)}}}else if(o.tag===6){if(d===null){H=o;try{H.stateNode.nodeValue=g?"":H.memoizedProps}catch(Oe){kt(H,H.return,Oe)}}}else if(o.tag===18){if(d===null){H=o;try{var oe=H.stateNode;g?B2(oe,!0):B2(H.stateNode,!1)}catch(Oe){kt(H,H.return,Oe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,qf(i,d))));break;case 19:sn(o,i),ln(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,qf(i,p)));break;case 30:break;case 21:break;default:sn(o,i),ln(i)}}function ln(i){var o=i.flags;if(o&2){try{for(var d,p=i.return;p!==null;){if(HS(p)){d=p;break}p=p.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var g=d.stateNode,j=e0(i);Bf(i,j,g);break;case 5:var E=d.stateNode;d.flags&32&&(Zl(E,""),d.flags&=-33);var I=e0(i);Bf(i,I,E);break;case 3:case 4:var H=d.stateNode.containerInfo,te=e0(i);t0(i,te,H);break;default:throw Error(n(161))}}catch(fe){kt(i,i.return,fe)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function ZS(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;ZS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function vi(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)VS(i,o.alternate,o),o=o.sibling}function dl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:us(4,o,o.return),dl(o);break;case 1:Ea(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&BS(o,o.return,d),dl(o);break;case 27:xu(o.stateNode);case 26:case 5:Ea(o,o.return),dl(o);break;case 22:o.memoizedState===null&&dl(o);break;case 30:dl(o);break;default:dl(o)}i=i.sibling}}function gi(i,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,g=i,j=o,E=j.flags;switch(j.tag){case 0:case 11:case 15:gi(g,j,d),su(4,j);break;case 1:if(gi(g,j,d),p=j,g=p.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(te){kt(p,p.return,te)}if(p=j,g=p.updateQueue,g!==null){var I=p.stateNode;try{var H=g.shared.hiddenCallbacks;if(H!==null)for(g.shared.hiddenCallbacks=null,g=0;g<H.length;g++)Dj(H[g],I)}catch(te){kt(p,p.return,te)}}d&&E&64&&$S(j),lu(j,j.return);break;case 27:US(j);case 26:case 5:gi(g,j,d),d&&p===null&&E&4&&qS(j),lu(j,j.return);break;case 12:gi(g,j,d);break;case 31:gi(g,j,d),d&&E&4&&KS(g,j);break;case 13:gi(g,j,d),d&&E&4&&QS(g,j);break;case 22:j.memoizedState===null&&gi(g,j,d),lu(j,j.return);break;case 30:break;default:gi(g,j,d)}o=o.sibling}}function n0(i,o){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&Gc(d))}function a0(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Gc(i))}function la(i,o,d,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)JS(i,o,d,p),o=o.sibling}function JS(i,o,d,p){var g=o.flags;switch(o.tag){case 0:case 11:case 15:la(i,o,d,p),g&2048&&su(9,o);break;case 1:la(i,o,d,p);break;case 3:la(i,o,d,p),g&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Gc(i)));break;case 12:if(g&2048){la(i,o,d,p),i=o.stateNode;try{var j=o.memoizedProps,E=j.id,I=j.onPostCommit;typeof I=="function"&&I(E,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){kt(o,o.return,H)}}else la(i,o,d,p);break;case 31:la(i,o,d,p);break;case 13:la(i,o,d,p);break;case 23:break;case 22:j=o.stateNode,E=o.alternate,o.memoizedState!==null?j._visibility&2?la(i,o,d,p):ou(i,o):j._visibility&2?la(i,o,d,p):(j._visibility|=2,bo(i,o,d,p,(o.subtreeFlags&10256)!==0||!1)),g&2048&&n0(E,o);break;case 24:la(i,o,d,p),g&2048&&a0(o.alternate,o);break;default:la(i,o,d,p)}}function bo(i,o,d,p,g){for(g=g&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var j=i,E=o,I=d,H=p,te=E.flags;switch(E.tag){case 0:case 11:case 15:bo(j,E,I,H,g),su(8,E);break;case 23:break;case 22:var fe=E.stateNode;E.memoizedState!==null?fe._visibility&2?bo(j,E,I,H,g):ou(j,E):(fe._visibility|=2,bo(j,E,I,H,g)),g&&te&2048&&n0(E.alternate,E);break;case 24:bo(j,E,I,H,g),g&&te&2048&&a0(E.alternate,E);break;default:bo(j,E,I,H,g)}o=o.sibling}}function ou(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=i,p=o,g=p.flags;switch(p.tag){case 22:ou(d,p),g&2048&&n0(p.alternate,p);break;case 24:ou(d,p),g&2048&&a0(p.alternate,p);break;default:ou(d,p)}o=o.sibling}}var cu=8192;function yo(i,o,d){if(i.subtreeFlags&cu)for(i=i.child;i!==null;)e2(i,o,d),i=i.sibling}function e2(i,o,d){switch(i.tag){case 26:yo(i,o,d),i.flags&cu&&i.memoizedState!==null&&CL(d,sa,i.memoizedState,i.memoizedProps);break;case 5:yo(i,o,d);break;case 3:case 4:var p=sa;sa=rm(i.stateNode.containerInfo),yo(i,o,d),sa=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=cu,cu=16777216,yo(i,o,d),cu=p):yo(i,o,d));break;default:yo(i,o,d)}}function t2(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function uu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];Mr=p,n2(p,i)}t2(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)r2(i),i=i.sibling}function r2(i){switch(i.tag){case 0:case 11:case 15:uu(i),i.flags&2048&&us(9,i,i.return);break;case 3:uu(i);break;case 12:uu(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Hf(i)):uu(i);break;default:uu(i)}}function Hf(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];Mr=p,n2(p,i)}t2(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:us(8,o,o.return),Hf(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,Hf(o));break;default:Hf(o)}i=i.sibling}}function n2(i,o){for(;Mr!==null;){var d=Mr;switch(d.tag){case 0:case 11:case 15:us(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Gc(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Mr=p;else e:for(d=i;Mr!==null;){p=Mr;var g=p.sibling,j=p.return;if(GS(p),p===d){Mr=null;break e}if(g!==null){g.return=j,Mr=g;break e}Mr=j}}}var $R={getCacheForType:function(i){var o=Pr(xr),d=o.data.get(i);return d===void 0&&(d=i(),o.data.set(i,d)),d},cacheSignal:function(){return Pr(xr).controller.signal}},BR=typeof WeakMap=="function"?WeakMap:Map,St=0,Lt=null,lt=null,ut=0,At=0,Sn=null,ds=!1,wo=!1,i0=!1,bi=0,ar=0,fs=0,fl=0,s0=0,Cn=0,No=0,du=null,on=null,l0=!1,Uf=0,a2=0,Yf=1/0,Vf=null,ms=null,jr=0,ps=null,jo=null,yi=0,o0=0,c0=null,i2=null,fu=0,u0=null;function An(){return(St&2)!==0&&ut!==0?ut&-ut:L.T!==null?x0():Jd()}function s2(){if(Cn===0)if((ut&536870912)===0||pt){var i=Ee;Ee<<=1,(Ee&3932160)===0&&(Ee=262144),Cn=i}else Cn=536870912;return i=Nn.current,i!==null&&(i.flags|=32),Cn}function cn(i,o,d){(i===Lt&&(At===2||At===9)||i.cancelPendingCommit!==null)&&(So(i,0),hs(i,ut,Cn,!1)),Ks(i,d),((St&2)===0||i!==Lt)&&(i===Lt&&((St&2)===0&&(fl|=d),ar===4&&hs(i,ut,Cn,!1)),_a(i))}function l2(i,o,d){if((St&6)!==0)throw Error(n(327));var p=!d&&(o&127)===0&&(o&i.expiredLanes)===0||gn(i,o),g=p?UR(i,o):f0(i,o,!0),j=p;do{if(g===0){wo&&!p&&hs(i,o,0,!1);break}else{if(d=i.current.alternate,j&&!qR(d)){g=f0(i,o,!1),j=!1;continue}if(g===2){if(j=o,i.errorRecoveryDisabledLanes&j)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){o=E;e:{var I=i;g=du;var H=I.current.memoizedState.isDehydrated;if(H&&(So(I,E).flags|=256),E=f0(I,E,!1),E!==2){if(i0&&!H){I.errorRecoveryDisabledLanes|=j,fl|=j,g=4;break e}j=on,on=g,j!==null&&(on===null?on=j:on.push.apply(on,j))}g=E}if(j=!1,g!==2)continue}}if(g===1){So(i,0),hs(i,o,0,!0);break}e:{switch(p=i,j=g,j){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:hs(p,o,Cn,!ds);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(g=Uf+300-Zt(),10<g)){if(hs(p,o,Cn,!ds),ur(p,0,!0)!==0)break e;yi=o,p.timeoutHandle=z2(o2.bind(null,p,d,on,Vf,l0,o,Cn,fl,No,ds,j,"Throttled",-0,0),g);break e}o2(p,d,on,Vf,l0,o,Cn,fl,No,ds,j,null,-0,0)}}break}while(!0);_a(i)}function o2(i,o,d,p,g,j,E,I,H,te,fe,pe,ae,oe){if(i.timeoutHandle=-1,pe=o.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},e2(o,j,pe);var Oe=(j&62914560)===j?Uf-Zt():(j&4194048)===j?a2-Zt():0;if(Oe=AL(pe,Oe),Oe!==null){yi=j,i.cancelPendingCommit=Oe(x2.bind(null,i,o,j,d,p,g,E,I,H,fe,pe,null,ae,oe)),hs(i,j,E,!te);return}}x2(i,o,j,d,p,g,E,I,H)}function qR(i){for(var o=i;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var g=d[p],j=g.getSnapshot;g=g.value;try{if(!yn(j(),g))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function hs(i,o,d,p){o&=~s0,o&=~fl,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var g=o;0<g;){var j=31-Xe(g),E=1<<j;p[j]=-1,g&=~E}d!==0&&Qd(i,d,o)}function Gf(){return(St&6)===0?(mu(0),!1):!0}function d0(){if(lt!==null){if(At===0)var i=lt.return;else i=lt,ci=nl=null,kv(i),po=null,Kc=0,i=lt;for(;i!==null;)FS(i.alternate,i),i=i.return;lt=null}}function So(i,o){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,oL(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),yi=0,d0(),Lt=i,lt=d=li(i.current,null),ut=o,At=0,Sn=null,ds=!1,wo=gn(i,o),i0=!1,No=Cn=s0=fl=fs=ar=0,on=du=null,l0=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var g=31-Xe(p),j=1<<g;o|=i[g],p&=~j}return bi=o,pf(),d}function c2(i,o){Je=null,L.H=nu,o===mo||o===Nf?(o=Cj(),At=3):o===hv?(o=Cj(),At=4):At=o===Hv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Sn=o,lt===null&&(ar=1,Rf(i,qn(o,i.current)))}function u2(){var i=Nn.current;return i===null?!0:(ut&4194048)===ut?Vn===null:(ut&62914560)===ut||(ut&536870912)!==0?i===Vn:!1}function d2(){var i=L.H;return L.H=nu,i===null?nu:i}function f2(){var i=L.A;return L.A=$R,i}function Wf(){ar=4,ds||(ut&4194048)!==ut&&Nn.current!==null||(wo=!0),(fs&134217727)===0&&(fl&134217727)===0||Lt===null||hs(Lt,ut,Cn,!1)}function f0(i,o,d){var p=St;St|=2;var g=d2(),j=f2();(Lt!==i||ut!==o)&&(Vf=null,So(i,o)),o=!1;var E=ar;e:do try{if(At!==0&&lt!==null){var I=lt,H=Sn;switch(At){case 8:d0(),E=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(o=!0);var te=At;if(At=0,Sn=null,Co(i,I,H,te),d&&wo){E=0;break e}break;default:te=At,At=0,Sn=null,Co(i,I,H,te)}}HR(),E=ar;break}catch(fe){c2(i,fe)}while(!0);return o&&i.shellSuspendCounter++,ci=nl=null,St=p,L.H=g,L.A=j,lt===null&&(Lt=null,ut=0,pf()),E}function HR(){for(;lt!==null;)m2(lt)}function UR(i,o){var d=St;St|=2;var p=d2(),g=f2();Lt!==i||ut!==o?(Vf=null,Yf=Zt()+500,So(i,o)):wo=gn(i,o);e:do try{if(At!==0&&lt!==null){o=lt;var j=Sn;t:switch(At){case 1:At=0,Sn=null,Co(i,o,j,1);break;case 2:case 9:if(jj(j)){At=0,Sn=null,p2(o);break}o=function(){At!==2&&At!==9||Lt!==i||(At=7),_a(i)},j.then(o,o);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:jj(j)?(At=0,Sn=null,p2(o)):(At=0,Sn=null,Co(i,o,j,7));break;case 5:var E=null;switch(lt.tag){case 26:E=lt.memoizedState;case 5:case 27:var I=lt;if(E?J2(E):I.stateNode.complete){At=0,Sn=null;var H=I.sibling;if(H!==null)lt=H;else{var te=I.return;te!==null?(lt=te,Kf(te)):lt=null}break t}}At=0,Sn=null,Co(i,o,j,5);break;case 6:At=0,Sn=null,Co(i,o,j,6);break;case 8:d0(),ar=6;break e;default:throw Error(n(462))}}YR();break}catch(fe){c2(i,fe)}while(!0);return ci=nl=null,L.H=p,L.A=g,St=d,lt!==null?0:(Lt=null,ut=0,pf(),ar)}function YR(){for(;lt!==null&&!ht();)m2(lt)}function m2(i){var o=LS(i.alternate,i,bi);i.memoizedProps=i.pendingProps,o===null?Kf(i):lt=o}function p2(i){var o=i,d=o.alternate;switch(o.tag){case 15:case 0:o=_S(d,o,o.pendingProps,o.type,void 0,ut);break;case 11:o=_S(d,o,o.pendingProps,o.type.render,o.ref,ut);break;case 5:kv(o);default:FS(d,o),o=lt=fj(o,bi),o=LS(d,o,bi)}i.memoizedProps=i.pendingProps,o===null?Kf(i):lt=o}function Co(i,o,d,p){ci=nl=null,kv(o),po=null,Kc=0;var g=o.return;try{if(TR(i,g,o,d,ut)){ar=1,Rf(i,qn(d,i.current)),lt=null;return}}catch(j){if(g!==null)throw lt=g,j;ar=1,Rf(i,qn(d,i.current)),lt=null;return}o.flags&32768?(pt||p===1?i=!0:wo||(ut&536870912)!==0?i=!1:(ds=i=!0,(p===2||p===9||p===3||p===6)&&(p=Nn.current,p!==null&&p.tag===13&&(p.flags|=16384))),h2(o,i)):Kf(o)}function Kf(i){var o=i;do{if((o.flags&32768)!==0){h2(o,ds);return}i=o.return;var d=RR(o.alternate,o,bi);if(d!==null){lt=d;return}if(o=o.sibling,o!==null){lt=o;return}lt=o=i}while(o!==null);ar===0&&(ar=5)}function h2(i,o){do{var d=LR(i.alternate,i);if(d!==null){d.flags&=32767,lt=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(i=i.sibling,i!==null)){lt=i;return}lt=i=d}while(i!==null);ar=6,lt=null}function x2(i,o,d,p,g,j,E,I,H){i.cancelPendingCommit=null;do Qf();while(jr!==0);if((St&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(j=o.lanes|o.childLanes,j|=ev,Ex(i,d,j,E,I,H),i===Lt&&(lt=Lt=null,ut=0),jo=o,ps=i,yi=d,o0=j,c0=g,i2=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,KR(X,function(){return w2(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=L.T,L.T=null,g=Y.p,Y.p=2,E=St,St|=4;try{zR(i,o,d)}finally{St=E,Y.p=g,L.T=p}}jr=1,v2(),g2(),b2()}}function v2(){if(jr===1){jr=0;var i=ps,o=jo,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=L.T,L.T=null;var p=Y.p;Y.p=2;var g=St;St|=4;try{XS(o,i);var j=S0,E=nj(i.containerInfo),I=j.focusedElem,H=j.selectionRange;if(E!==I&&I&&I.ownerDocument&&rj(I.ownerDocument.documentElement,I)){if(H!==null&&Kx(I)){var te=H.start,fe=H.end;if(fe===void 0&&(fe=te),"selectionStart"in I)I.selectionStart=te,I.selectionEnd=Math.min(fe,I.value.length);else{var pe=I.ownerDocument||document,ae=pe&&pe.defaultView||window;if(ae.getSelection){var oe=ae.getSelection(),Oe=I.textContent.length,He=Math.min(H.start,Oe),Pt=H.end===void 0?He:Math.min(H.end,Oe);!oe.extend&&He>Pt&&(E=Pt,Pt=He,He=E);var W=tj(I,He),V=tj(I,Pt);if(W&&V&&(oe.rangeCount!==1||oe.anchorNode!==W.node||oe.anchorOffset!==W.offset||oe.focusNode!==V.node||oe.focusOffset!==V.offset)){var ee=pe.createRange();ee.setStart(W.node,W.offset),oe.removeAllRanges(),He>Pt?(oe.addRange(ee),oe.extend(V.node,V.offset)):(ee.setEnd(V.node,V.offset),oe.addRange(ee))}}}}for(pe=[],oe=I;oe=oe.parentNode;)oe.nodeType===1&&pe.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<pe.length;I++){var me=pe[I];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}om=!!j0,S0=j0=null}finally{St=g,Y.p=p,L.T=d}}i.current=o,jr=2}}function g2(){if(jr===2){jr=0;var i=ps,o=jo,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=L.T,L.T=null;var p=Y.p;Y.p=2;var g=St;St|=4;try{VS(i,o.alternate,o)}finally{St=g,Y.p=p,L.T=d}}jr=3}}function b2(){if(jr===4||jr===3){jr=0,Xt();var i=ps,o=jo,d=yi,p=i2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?jr=5:(jr=0,jo=ps=null,y2(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(ms=null),Oc(d),o=o.stateNode,Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot(ze,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=L.T,g=Y.p,Y.p=2,L.T=null;try{for(var j=i.onRecoverableError,E=0;E<p.length;E++){var I=p[E];j(I.value,{componentStack:I.stack})}}finally{L.T=o,Y.p=g}}(yi&3)!==0&&Qf(),_a(i),g=i.pendingLanes,(d&261930)!==0&&(g&42)!==0?i===u0?fu++:(fu=0,u0=i):fu=0,mu(0)}}function y2(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Gc(o)))}function Qf(){return v2(),g2(),b2(),w2()}function w2(){if(jr!==5)return!1;var i=ps,o=o0;o0=0;var d=Oc(yi),p=L.T,g=Y.p;try{Y.p=32>d?32:d,L.T=null,d=c0,c0=null;var j=ps,E=yi;if(jr=0,jo=ps=null,yi=0,(St&6)!==0)throw Error(n(331));var I=St;if(St|=4,r2(j.current),JS(j,j.current,E,d),St=I,mu(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot(ze,j)}catch{}return!0}finally{Y.p=g,L.T=p,y2(i,o)}}function N2(i,o,d){o=qn(d,o),o=qv(i.stateNode,o,2),i=ls(i,o,2),i!==null&&(Ks(i,2),_a(i))}function kt(i,o,d){if(i.tag===3)N2(i,i,d);else for(;o!==null;){if(o.tag===3){N2(o,i,d);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ms===null||!ms.has(p))){i=qn(d,i),d=jS(2),p=ls(o,d,2),p!==null&&(SS(d,p,o,i),Ks(p,2),_a(p));break}}o=o.return}}function m0(i,o,d){var p=i.pingCache;if(p===null){p=i.pingCache=new BR;var g=new Set;p.set(o,g)}else g=p.get(o),g===void 0&&(g=new Set,p.set(o,g));g.has(d)||(i0=!0,g.add(d),i=VR.bind(null,i,o,d),o.then(i,i))}function VR(i,o,d){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,Lt===i&&(ut&d)===d&&(ar===4||ar===3&&(ut&62914560)===ut&&300>Zt()-Uf?(St&2)===0&&So(i,0):s0|=d,No===ut&&(No=0)),_a(i)}function j2(i,o){o===0&&(o=Kd()),i=el(i,o),i!==null&&(Ks(i,o),_a(i))}function GR(i){var o=i.memoizedState,d=0;o!==null&&(d=o.retryLane),j2(i,d)}function WR(i,o){var d=0;switch(i.tag){case 31:case 13:var p=i.stateNode,g=i.memoizedState;g!==null&&(d=g.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(o),j2(i,d)}function KR(i,o){return Ft(i,o)}var Xf=null,Ao=null,p0=!1,Zf=!1,h0=!1,xs=0;function _a(i){i!==Ao&&i.next===null&&(Ao===null?Xf=Ao=i:Ao=Ao.next=i),Zf=!0,p0||(p0=!0,XR())}function mu(i,o){if(!h0&&Zf){h0=!0;do for(var d=!1,p=Xf;p!==null;){if(i!==0){var g=p.pendingLanes;if(g===0)var j=0;else{var E=p.suspendedLanes,I=p.pingedLanes;j=(1<<31-Xe(42|i)+1)-1,j&=g&~(E&~I),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(d=!0,k2(p,j))}else j=ut,j=ur(p,p===Lt?j:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(j&3)===0||gn(p,j)||(d=!0,k2(p,j));p=p.next}while(d);h0=!1}}function QR(){S2()}function S2(){Zf=p0=!1;var i=0;xs!==0&&lL()&&(i=xs);for(var o=Zt(),d=null,p=Xf;p!==null;){var g=p.next,j=C2(p,o);j===0?(p.next=null,d===null?Xf=g:d.next=g,g===null&&(Ao=d)):(d=p,(i!==0||(j&3)!==0)&&(Zf=!0)),p=g}jr!==0&&jr!==5||mu(i),xs!==0&&(xs=0)}function C2(i,o){for(var d=i.suspendedLanes,p=i.pingedLanes,g=i.expirationTimes,j=i.pendingLanes&-62914561;0<j;){var E=31-Xe(j),I=1<<E,H=g[E];H===-1?((I&d)===0||(I&p)!==0)&&(g[E]=Dx(I,o)):H<=o&&(i.expiredLanes|=I),j&=~I}if(o=Lt,d=ut,d=ur(i,i===o?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,d===0||i===o&&(At===2||At===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&it(p),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||gn(i,d)){if(o=d&-d,o===i.callbackPriority)return o;switch(p!==null&&it(p),Oc(d)){case 2:case 8:d=$;break;case 32:d=X;break;case 268435456:d=Re;break;default:d=X}return p=A2.bind(null,i),d=Ft(d,p),i.callbackPriority=o,i.callbackNode=d,o}return p!==null&&p!==null&&it(p),i.callbackPriority=2,i.callbackNode=null,2}function A2(i,o){if(jr!==0&&jr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(Qf()&&i.callbackNode!==d)return null;var p=ut;return p=ur(i,i===Lt?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(l2(i,p,o),C2(i,Zt()),i.callbackNode!=null&&i.callbackNode===d?A2.bind(null,i):null)}function k2(i,o){if(Qf())return null;l2(i,o,!0)}function XR(){cL(function(){(St&6)!==0?Ft(G,QR):S2()})}function x0(){if(xs===0){var i=uo;i===0&&(i=Ye,Ye<<=1,(Ye&261888)===0&&(Ye=256)),xs=i}return xs}function M2(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:sf(""+i)}function D2(i,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,i.id&&d.setAttribute("form",i.id),o.parentNode.insertBefore(d,o),i=new FormData(i),d.parentNode.removeChild(d),i}function ZR(i,o,d,p,g){if(o==="submit"&&d&&d.stateNode===g){var j=M2((g[qr]||null).action),E=p.submitter;E&&(o=(o=E[qr]||null)?M2(o.formAction):E.getAttribute("formAction"),o!==null&&(j=o,E=null));var I=new uf("action","action",null,p,g);i.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(xs!==0){var H=E?D2(g,E):new FormData(g);Rv(d,{pending:!0,data:H,method:g.method,action:j},null,H)}}else typeof j=="function"&&(I.preventDefault(),H=E?D2(g,E):new FormData(g),Rv(d,{pending:!0,data:H,method:g.method,action:j},j,H))},currentTarget:g}]})}}for(var v0=0;v0<Jx.length;v0++){var g0=Jx[v0],JR=g0.toLowerCase(),eL=g0[0].toUpperCase()+g0.slice(1);ia(JR,"on"+eL)}ia(sj,"onAnimationEnd"),ia(lj,"onAnimationIteration"),ia(oj,"onAnimationStart"),ia("dblclick","onDoubleClick"),ia("focusin","onFocus"),ia("focusout","onBlur"),ia(xR,"onTransitionRun"),ia(vR,"onTransitionStart"),ia(gR,"onTransitionCancel"),ia(cj,"onTransitionEnd"),rn("onMouseEnter",["mouseout","mouseover"]),rn("onMouseLeave",["mouseout","mouseover"]),rn("onPointerEnter",["pointerout","pointerover"]),rn("onPointerLeave",["pointerout","pointerover"]),Gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pu));function E2(i,o){o=(o&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],g=p.event;p=p.listeners;e:{var j=void 0;if(o)for(var E=p.length-1;0<=E;E--){var I=p[E],H=I.instance,te=I.currentTarget;if(I=I.listener,H!==j&&g.isPropagationStopped())break e;j=I,g.currentTarget=te;try{j(g)}catch(fe){mf(fe)}g.currentTarget=null,j=H}else for(E=0;E<p.length;E++){if(I=p[E],H=I.instance,te=I.currentTarget,I=I.listener,H!==j&&g.isPropagationStopped())break e;j=I,g.currentTarget=te;try{j(g)}catch(fe){mf(fe)}g.currentTarget=null,j=H}}}}function ot(i,o){var d=o[Tc];d===void 0&&(d=o[Tc]=new Set);var p=i+"__bubble";d.has(p)||(_2(o,i,2,!1),d.add(p))}function b0(i,o,d){var p=0;o&&(p|=4),_2(d,i,p,o)}var Jf="_reactListening"+Math.random().toString(36).slice(2);function y0(i){if(!i[Jf]){i[Jf]=!0,tn.forEach(function(d){d!=="selectionchange"&&(tL.has(d)||b0(d,!1,i),b0(d,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Jf]||(o[Jf]=!0,b0("selectionchange",!1,o))}}function _2(i,o,d,p){switch(sC(o)){case 2:var g=DL;break;case 8:g=EL;break;default:g=I0}d=g.bind(null,o,d,i),g=void 0,!$x||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),p?g!==void 0?i.addEventListener(o,d,{capture:!0,passive:g}):i.addEventListener(o,d,!0):g!==void 0?i.addEventListener(o,d,{passive:g}):i.addEventListener(o,d,!1)}function w0(i,o,d,p,g){var j=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var E=p.tag;if(E===3||E===4){var I=p.stateNode.containerInfo;if(I===g)break;if(E===4)for(E=p.return;E!==null;){var H=E.tag;if((H===3||H===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;I!==null;){if(E=Zi(I),E===null)return;if(H=E.tag,H===5||H===6||H===26||H===27){p=j=E;continue e}I=I.parentNode}}p=p.return}RN(function(){var te=j,fe=zx(d),pe=[];e:{var ae=uj.get(i);if(ae!==void 0){var oe=uf,Oe=i;switch(i){case"keypress":if(of(d)===0)break e;case"keydown":case"keyup":oe=WI;break;case"focusin":Oe="focus",oe=Ux;break;case"focusout":Oe="blur",oe=Ux;break;case"beforeblur":case"afterblur":oe=Ux;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=FN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=RI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=XI;break;case sj:case lj:case oj:oe=FI;break;case cj:oe=JI;break;case"scroll":case"scrollend":oe=PI;break;case"wheel":oe=tR;break;case"copy":case"cut":case"paste":oe=BI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=BN;break;case"toggle":case"beforetoggle":oe=nR}var He=(o&4)!==0,Pt=!He&&(i==="scroll"||i==="scrollend"),W=He?ae!==null?ae+"Capture":null:ae;He=[];for(var V=te,ee;V!==null;){var me=V;if(ee=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||ee===null||W===null||(me=Rc(V,W),me!=null&&He.push(hu(V,me,ee))),Pt)break;V=V.return}0<He.length&&(ae=new oe(ae,Oe,null,d,fe),pe.push({event:ae,listeners:He}))}}if((o&7)===0){e:{if(ae=i==="mouseover"||i==="pointerover",oe=i==="mouseout"||i==="pointerout",ae&&d!==Lx&&(Oe=d.relatedTarget||d.fromElement)&&(Zi(Oe)||Oe[Xi]))break e;if((oe||ae)&&(ae=fe.window===fe?fe:(ae=fe.ownerDocument)?ae.defaultView||ae.parentWindow:window,oe?(Oe=d.relatedTarget||d.toElement,oe=te,Oe=Oe?Zi(Oe):null,Oe!==null&&(Pt=l(Oe),He=Oe.tag,Oe!==Pt||He!==5&&He!==27&&He!==6)&&(Oe=null)):(oe=null,Oe=te),oe!==Oe)){if(He=FN,me="onMouseLeave",W="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(He=BN,me="onPointerLeave",W="onPointerEnter",V="pointer"),Pt=oe==null?ae:U(oe),ee=Oe==null?ae:U(Oe),ae=new He(me,V+"leave",oe,d,fe),ae.target=Pt,ae.relatedTarget=ee,me=null,Zi(fe)===te&&(He=new He(W,V+"enter",Oe,d,fe),He.target=ee,He.relatedTarget=Pt,me=He),Pt=me,oe&&Oe)t:{for(He=rL,W=oe,V=Oe,ee=0,me=W;me;me=He(me))ee++;me=0;for(var $e=V;$e;$e=He($e))me++;for(;0<ee-me;)W=He(W),ee--;for(;0<me-ee;)V=He(V),me--;for(;ee--;){if(W===V||V!==null&&W===V.alternate){He=W;break t}W=He(W),V=He(V)}He=null}else He=null;oe!==null&&O2(pe,ae,oe,He,!1),Oe!==null&&Pt!==null&&O2(pe,Pt,Oe,He,!0)}}e:{if(ae=te?U(te):window,oe=ae.nodeName&&ae.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ae.type==="file")var bt=KN;else if(GN(ae))if(QN)bt=mR;else{bt=dR;var Ie=uR}else oe=ae.nodeName,!oe||oe.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?te&&Rx(te.elementType)&&(bt=KN):bt=fR;if(bt&&(bt=bt(i,te))){WN(pe,bt,d,fe);break e}Ie&&Ie(i,ae,te),i==="focusout"&&te&&ae.type==="number"&&te.memoizedProps.value!=null&&Ix(ae,"number",ae.value)}switch(Ie=te?U(te):window,i){case"focusin":(GN(Ie)||Ie.contentEditable==="true")&&(ro=Ie,Qx=te,Uc=null);break;case"focusout":Uc=Qx=ro=null;break;case"mousedown":Xx=!0;break;case"contextmenu":case"mouseup":case"dragend":Xx=!1,aj(pe,d,fe);break;case"selectionchange":if(hR)break;case"keydown":case"keyup":aj(pe,d,fe)}var et;if(Vx)e:{switch(i){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else to?YN(i,d)&&(dt="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(dt="onCompositionStart");dt&&(qN&&d.locale!=="ko"&&(to||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&to&&(et=LN()):(es=fe,Bx="value"in es?es.value:es.textContent,to=!0)),Ie=em(te,dt),0<Ie.length&&(dt=new $N(dt,i,null,d,fe),pe.push({event:dt,listeners:Ie}),et?dt.data=et:(et=VN(d),et!==null&&(dt.data=et)))),(et=iR?sR(i,d):lR(i,d))&&(dt=em(te,"onBeforeInput"),0<dt.length&&(Ie=new $N("onBeforeInput","beforeinput",null,d,fe),pe.push({event:Ie,listeners:dt}),Ie.data=et)),ZR(pe,i,te,d,fe)}E2(pe,o)})}function hu(i,o,d){return{instance:i,listener:o,currentTarget:d}}function em(i,o){for(var d=o+"Capture",p=[];i!==null;){var g=i,j=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||j===null||(g=Rc(i,d),g!=null&&p.unshift(hu(i,g,j)),g=Rc(i,o),g!=null&&p.push(hu(i,g,j))),i.tag===3)return p;i=i.return}return[]}function rL(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function O2(i,o,d,p,g){for(var j=o._reactName,E=[];d!==null&&d!==p;){var I=d,H=I.alternate,te=I.stateNode;if(I=I.tag,H!==null&&H===p)break;I!==5&&I!==26&&I!==27||te===null||(H=te,g?(te=Rc(d,j),te!=null&&E.unshift(hu(d,te,H))):g||(te=Rc(d,j),te!=null&&E.push(hu(d,te,H)))),d=d.return}E.length!==0&&i.push({event:o,listeners:E})}var nL=/\r\n?/g,aL=/\u0000|\uFFFD/g;function T2(i){return(typeof i=="string"?i:""+i).replace(nL,`
`).replace(aL,"")}function P2(i,o){return o=T2(o),T2(i)===o}function Tt(i,o,d,p,g,j){switch(d){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Zl(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Zl(i,""+p);break;case"className":nf(i,"class",p);break;case"tabIndex":nf(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":nf(i,d,p);break;case"style":PN(i,p,j);break;case"data":if(o!=="object"){nf(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||d!=="href")){i.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=sf(""+p),i.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(d==="formAction"?(o!=="input"&&Tt(i,o,"name",g.name,g,null),Tt(i,o,"formEncType",g.formEncType,g,null),Tt(i,o,"formMethod",g.formMethod,g,null),Tt(i,o,"formTarget",g.formTarget,g,null)):(Tt(i,o,"encType",g.encType,g,null),Tt(i,o,"method",g.method,g,null),Tt(i,o,"target",g.target,g,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=sf(""+p),i.setAttribute(d,p);break;case"onClick":p!=null&&(i.onclick=ii);break;case"onScroll":p!=null&&ot("scroll",i);break;case"onScrollEnd":p!=null&&ot("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}d=sf(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""+p):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":p===!0?i.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,p):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(d,p):i.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(d):i.setAttribute(d,p);break;case"popover":ot("beforetoggle",i),ot("toggle",i),rf(i,"popover",p);break;case"xlinkActuate":ai(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":ai(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":ai(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":ai(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":ai(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":ai(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":ai(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":ai(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":ai(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":rf(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=OI.get(d)||d,rf(i,d,p))}}function N0(i,o,d,p,g,j){switch(d){case"style":PN(i,p,j);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"children":typeof p=="string"?Zl(i,p):(typeof p=="number"||typeof p=="bigint")&&Zl(i,""+p);break;case"onScroll":p!=null&&ot("scroll",i);break;case"onScrollEnd":p!=null&&ot("scrollend",i);break;case"onClick":p!=null&&(i.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Aa.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(g=d.endsWith("Capture"),o=d.slice(2,g?d.length-7:void 0),j=i[qr]||null,j=j!=null?j[d]:null,typeof j=="function"&&i.removeEventListener(o,j,g),typeof p=="function")){typeof j!="function"&&j!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(o,p,g);break e}d in i?i[d]=p:p===!0?i.setAttribute(d,""):rf(i,d,p)}}}function Rr(i,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",i),ot("load",i);var p=!1,g=!1,j;for(j in d)if(d.hasOwnProperty(j)){var E=d[j];if(E!=null)switch(j){case"src":p=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Tt(i,o,j,E,d,null)}}g&&Tt(i,o,"srcSet",d.srcSet,d,null),p&&Tt(i,o,"src",d.src,d,null);return;case"input":ot("invalid",i);var I=j=E=g=null,H=null,te=null;for(p in d)if(d.hasOwnProperty(p)){var fe=d[p];if(fe!=null)switch(p){case"name":g=fe;break;case"type":E=fe;break;case"checked":H=fe;break;case"defaultChecked":te=fe;break;case"value":j=fe;break;case"defaultValue":I=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(n(137,o));break;default:Tt(i,o,p,fe,d,null)}}EN(i,j,I,H,te,E,g,!1);return;case"select":ot("invalid",i),p=E=j=null;for(g in d)if(d.hasOwnProperty(g)&&(I=d[g],I!=null))switch(g){case"value":j=I;break;case"defaultValue":E=I;break;case"multiple":p=I;default:Tt(i,o,g,I,d,null)}o=j,d=E,i.multiple=!!p,o!=null?Xl(i,!!p,o,!1):d!=null&&Xl(i,!!p,d,!0);return;case"textarea":ot("invalid",i),j=g=p=null;for(E in d)if(d.hasOwnProperty(E)&&(I=d[E],I!=null))switch(E){case"value":p=I;break;case"defaultValue":g=I;break;case"children":j=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(n(91));break;default:Tt(i,o,E,I,d,null)}ON(i,p,g,j);return;case"option":for(H in d)d.hasOwnProperty(H)&&(p=d[H],p!=null)&&(H==="selected"?i.selected=p&&typeof p!="function"&&typeof p!="symbol":Tt(i,o,H,p,d,null));return;case"dialog":ot("beforetoggle",i),ot("toggle",i),ot("cancel",i),ot("close",i);break;case"iframe":case"object":ot("load",i);break;case"video":case"audio":for(p=0;p<pu.length;p++)ot(pu[p],i);break;case"image":ot("error",i),ot("load",i);break;case"details":ot("toggle",i);break;case"embed":case"source":case"link":ot("error",i),ot("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in d)if(d.hasOwnProperty(te)&&(p=d[te],p!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Tt(i,o,te,p,d,null)}return;default:if(Rx(o)){for(fe in d)d.hasOwnProperty(fe)&&(p=d[fe],p!==void 0&&N0(i,o,fe,p,d,void 0));return}}for(I in d)d.hasOwnProperty(I)&&(p=d[I],p!=null&&Tt(i,o,I,p,d,null))}function iL(i,o,d,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,j=null,E=null,I=null,H=null,te=null,fe=null;for(oe in d){var pe=d[oe];if(d.hasOwnProperty(oe)&&pe!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":H=pe;default:p.hasOwnProperty(oe)||Tt(i,o,oe,null,p,pe)}}for(var ae in p){var oe=p[ae];if(pe=d[ae],p.hasOwnProperty(ae)&&(oe!=null||pe!=null))switch(ae){case"type":j=oe;break;case"name":g=oe;break;case"checked":te=oe;break;case"defaultChecked":fe=oe;break;case"value":E=oe;break;case"defaultValue":I=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(n(137,o));break;default:oe!==pe&&Tt(i,o,ae,oe,p,pe)}}Px(i,E,I,H,te,fe,j,g);return;case"select":oe=E=I=ae=null;for(j in d)if(H=d[j],d.hasOwnProperty(j)&&H!=null)switch(j){case"value":break;case"multiple":oe=H;default:p.hasOwnProperty(j)||Tt(i,o,j,null,p,H)}for(g in p)if(j=p[g],H=d[g],p.hasOwnProperty(g)&&(j!=null||H!=null))switch(g){case"value":ae=j;break;case"defaultValue":I=j;break;case"multiple":E=j;default:j!==H&&Tt(i,o,g,j,p,H)}o=I,d=E,p=oe,ae!=null?Xl(i,!!d,ae,!1):!!p!=!!d&&(o!=null?Xl(i,!!d,o,!0):Xl(i,!!d,d?[]:"",!1));return;case"textarea":oe=ae=null;for(I in d)if(g=d[I],d.hasOwnProperty(I)&&g!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Tt(i,o,I,null,p,g)}for(E in p)if(g=p[E],j=d[E],p.hasOwnProperty(E)&&(g!=null||j!=null))switch(E){case"value":ae=g;break;case"defaultValue":oe=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==j&&Tt(i,o,E,g,p,j)}_N(i,ae,oe);return;case"option":for(var Oe in d)ae=d[Oe],d.hasOwnProperty(Oe)&&ae!=null&&!p.hasOwnProperty(Oe)&&(Oe==="selected"?i.selected=!1:Tt(i,o,Oe,null,p,ae));for(H in p)ae=p[H],oe=d[H],p.hasOwnProperty(H)&&ae!==oe&&(ae!=null||oe!=null)&&(H==="selected"?i.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":Tt(i,o,H,ae,p,oe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in d)ae=d[He],d.hasOwnProperty(He)&&ae!=null&&!p.hasOwnProperty(He)&&Tt(i,o,He,null,p,ae);for(te in p)if(ae=p[te],oe=d[te],p.hasOwnProperty(te)&&ae!==oe&&(ae!=null||oe!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(n(137,o));break;default:Tt(i,o,te,ae,p,oe)}return;default:if(Rx(o)){for(var Pt in d)ae=d[Pt],d.hasOwnProperty(Pt)&&ae!==void 0&&!p.hasOwnProperty(Pt)&&N0(i,o,Pt,void 0,p,ae);for(fe in p)ae=p[fe],oe=d[fe],!p.hasOwnProperty(fe)||ae===oe||ae===void 0&&oe===void 0||N0(i,o,fe,ae,p,oe);return}}for(var W in d)ae=d[W],d.hasOwnProperty(W)&&ae!=null&&!p.hasOwnProperty(W)&&Tt(i,o,W,null,p,ae);for(pe in p)ae=p[pe],oe=d[pe],!p.hasOwnProperty(pe)||ae===oe||ae==null&&oe==null||Tt(i,o,pe,ae,p,oe)}function I2(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sL(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var g=d[p],j=g.transferSize,E=g.initiatorType,I=g.duration;if(j&&I&&I2(E)){for(E=0,I=g.responseEnd,p+=1;p<d.length;p++){var H=d[p],te=H.startTime;if(te>I)break;var fe=H.transferSize,pe=H.initiatorType;fe&&I2(pe)&&(H=H.responseEnd,E+=fe*(H<I?1:(I-te)/(H-te)))}if(--p,o+=8*(j+E)/(g.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var j0=null,S0=null;function tm(i){return i.nodeType===9?i:i.ownerDocument}function R2(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L2(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function C0(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var A0=null;function lL(){var i=window.event;return i&&i.type==="popstate"?i===A0?!1:(A0=i,!0):(A0=null,!1)}var z2=typeof setTimeout=="function"?setTimeout:void 0,oL=typeof clearTimeout=="function"?clearTimeout:void 0,F2=typeof Promise=="function"?Promise:void 0,cL=typeof queueMicrotask=="function"?queueMicrotask:typeof F2<"u"?function(i){return F2.resolve(null).then(i).catch(uL)}:z2;function uL(i){setTimeout(function(){throw i})}function vs(i){return i==="head"}function $2(i,o){var d=o,p=0;do{var g=d.nextSibling;if(i.removeChild(d),g&&g.nodeType===8)if(d=g.data,d==="/$"||d==="/&"){if(p===0){i.removeChild(g),Eo(o);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")xu(i.ownerDocument.documentElement);else if(d==="head"){d=i.ownerDocument.head,xu(d);for(var j=d.firstChild;j;){var E=j.nextSibling,I=j.nodeName;j[Qs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&j.rel.toLowerCase()==="stylesheet"||d.removeChild(j),j=E}}else d==="body"&&xu(i.ownerDocument.body);d=g}while(d);Eo(o)}function B2(i,o){var d=i;i=0;do{var p=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(i===0)break;i--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||i++;d=p}while(d)}function k0(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":k0(d),Pc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function dL(i,o,d,p){for(;i.nodeType===1;){var g=d;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[Qs])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(j=i.getAttribute("rel"),j==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(j!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(j=i.getAttribute("src"),(j!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&j&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var j=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===j)return i}else return i;if(i=Gn(i.nextSibling),i===null)break}return null}function fL(i,o,d){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=Gn(i.nextSibling),i===null))return null;return i}function q2(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Gn(i.nextSibling),i===null))return null;return i}function M0(i){return i.data==="$?"||i.data==="$~"}function D0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function mL(i,o){var d=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||d.readyState!=="loading")o();else{var p=function(){o(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function Gn(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var E0=null;function H2(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"||d==="/&"){if(o===0)return Gn(i.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}i=i.nextSibling}return null}function U2(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return i;o--}else d!=="/$"&&d!=="/&"||o++}i=i.previousSibling}return null}function Y2(i,o,d){switch(o=tm(d),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function xu(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Pc(i)}var Wn=new Map,V2=new Set;function rm(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var wi=Y.d;Y.d={f:pL,r:hL,D:xL,C:vL,L:gL,m:bL,X:wL,S:yL,M:NL};function pL(){var i=wi.f(),o=Gf();return i||o}function hL(i){var o=Ji(i);o!==null&&o.tag===5&&o.type==="form"?cS(o):wi.r(i)}var ko=typeof document>"u"?null:document;function G2(i,o,d){var p=ko;if(p&&typeof o=="string"&&o){var g=$n(o);g='link[rel="'+i+'"][href="'+g+'"]',typeof d=="string"&&(g+='[crossorigin="'+d+'"]'),V2.has(g)||(V2.add(g),i={rel:i,crossOrigin:d,href:o},p.querySelector(g)===null&&(o=p.createElement("link"),Rr(o,"link",i),xt(o),p.head.appendChild(o)))}}function xL(i){wi.D(i),G2("dns-prefetch",i,null)}function vL(i,o){wi.C(i,o),G2("preconnect",i,o)}function gL(i,o,d){wi.L(i,o,d);var p=ko;if(p&&i&&o){var g='link[rel="preload"][as="'+$n(o)+'"]';o==="image"&&d&&d.imageSrcSet?(g+='[imagesrcset="'+$n(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(g+='[imagesizes="'+$n(d.imageSizes)+'"]')):g+='[href="'+$n(i)+'"]';var j=g;switch(o){case"style":j=Mo(i);break;case"script":j=Do(i)}Wn.has(j)||(i=x({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:i,as:o},d),Wn.set(j,i),p.querySelector(g)!==null||o==="style"&&p.querySelector(vu(j))||o==="script"&&p.querySelector(gu(j))||(o=p.createElement("link"),Rr(o,"link",i),xt(o),p.head.appendChild(o)))}}function bL(i,o){wi.m(i,o);var d=ko;if(d&&i){var p=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+$n(p)+'"][href="'+$n(i)+'"]',j=g;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=Do(i)}if(!Wn.has(j)&&(i=x({rel:"modulepreload",href:i},o),Wn.set(j,i),d.querySelector(g)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(gu(j)))return}p=d.createElement("link"),Rr(p,"link",i),xt(p),d.head.appendChild(p)}}}function yL(i,o,d){wi.S(i,o,d);var p=ko;if(p&&i){var g=ye(p).hoistableStyles,j=Mo(i);o=o||"default";var E=g.get(j);if(!E){var I={loading:0,preload:null};if(E=p.querySelector(vu(j)))I.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":o},d),(d=Wn.get(j))&&_0(i,d);var H=E=p.createElement("link");xt(H),Rr(H,"link",i),H._p=new Promise(function(te,fe){H.onload=te,H.onerror=fe}),H.addEventListener("load",function(){I.loading|=1}),H.addEventListener("error",function(){I.loading|=2}),I.loading|=4,nm(E,o,p)}E={type:"stylesheet",instance:E,count:1,state:I},g.set(j,E)}}}function wL(i,o){wi.X(i,o);var d=ko;if(d&&i){var p=ye(d).hoistableScripts,g=Do(i),j=p.get(g);j||(j=d.querySelector(gu(g)),j||(i=x({src:i,async:!0},o),(o=Wn.get(g))&&O0(i,o),j=d.createElement("script"),xt(j),Rr(j,"link",i),d.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},p.set(g,j))}}function NL(i,o){wi.M(i,o);var d=ko;if(d&&i){var p=ye(d).hoistableScripts,g=Do(i),j=p.get(g);j||(j=d.querySelector(gu(g)),j||(i=x({src:i,async:!0,type:"module"},o),(o=Wn.get(g))&&O0(i,o),j=d.createElement("script"),xt(j),Rr(j,"link",i),d.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},p.set(g,j))}}function W2(i,o,d,p){var g=(g=xe.current)?rm(g):null;if(!g)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=Mo(d.href),d=ye(g).hoistableStyles,p=d.get(o),p||(p={type:"style",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=Mo(d.href);var j=ye(g).hoistableStyles,E=j.get(i);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(i,E),(j=g.querySelector(vu(i)))&&!j._p&&(E.instance=j,E.state.loading=5),Wn.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Wn.set(i,d),j||jL(g,i,d,E.state))),o&&p===null)throw Error(n(528,""));return E}if(o&&p!==null)throw Error(n(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Do(d),d=ye(g).hoistableScripts,p=d.get(o),p||(p={type:"script",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Mo(i){return'href="'+$n(i)+'"'}function vu(i){return'link[rel="stylesheet"]['+i+"]"}function K2(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function jL(i,o,d,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),Rr(o,"link",d),xt(o),i.head.appendChild(o))}function Do(i){return'[src="'+$n(i)+'"]'}function gu(i){return"script[async]"+i}function Q2(i,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+$n(d.href)+'"]');if(p)return o.instance=p,xt(p),p;var g=x({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),xt(p),Rr(p,"style",g),nm(p,d.precedence,i),o.instance=p;case"stylesheet":g=Mo(d.href);var j=i.querySelector(vu(g));if(j)return o.state.loading|=4,o.instance=j,xt(j),j;p=K2(d),(g=Wn.get(g))&&_0(p,g),j=(i.ownerDocument||i).createElement("link"),xt(j);var E=j;return E._p=new Promise(function(I,H){E.onload=I,E.onerror=H}),Rr(j,"link",p),o.state.loading|=4,nm(j,d.precedence,i),o.instance=j;case"script":return j=Do(d.src),(g=i.querySelector(gu(j)))?(o.instance=g,xt(g),g):(p=d,(g=Wn.get(j))&&(p=x({},d),O0(p,g)),i=i.ownerDocument||i,g=i.createElement("script"),xt(g),Rr(g,"link",p),i.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,nm(p,d.precedence,i));return o.instance}function nm(i,o,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=p.length?p[p.length-1]:null,j=g,E=0;E<p.length;E++){var I=p[E];if(I.dataset.precedence===o)j=I;else if(j!==g)break}j?j.parentNode.insertBefore(i,j.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(i,o.firstChild))}function _0(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function O0(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var am=null;function X2(i,o,d){if(am===null){var p=new Map,g=am=new Map;g.set(d,p)}else g=am,p=g.get(d),p||(p=new Map,g.set(d,p));if(p.has(i))return p;for(p.set(i,null),d=d.getElementsByTagName(i),g=0;g<d.length;g++){var j=d[g];if(!(j[Qs]||j[Nr]||i==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var E=j.getAttribute(o)||"";E=i+E;var I=p.get(E);I?I.push(j):p.set(E,[j])}}return p}function Z2(i,o,d){i=i.ownerDocument||i,i.head.insertBefore(d,o==="title"?i.querySelector("head > title"):null)}function SL(i,o,d){if(d===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(i=o.disabled,typeof o.precedence=="string"&&i==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function J2(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function CL(i,o,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var g=Mo(p.href),j=o.querySelector(vu(g));if(j){o=j._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=im.bind(i),o.then(i,i)),d.state.loading|=4,d.instance=j,xt(j);return}j=o.ownerDocument||o,p=K2(p),(g=Wn.get(g))&&_0(p,g),j=j.createElement("link"),xt(j);var E=j;E._p=new Promise(function(I,H){E.onload=I,E.onerror=H}),Rr(j,"link",p),d.instance=j}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(i.count++,d=im.bind(i),o.addEventListener("load",d),o.addEventListener("error",d))}}var T0=0;function AL(i,o){return i.stylesheets&&i.count===0&&lm(i,i.stylesheets),0<i.count||0<i.imgCount?function(d){var p=setTimeout(function(){if(i.stylesheets&&lm(i,i.stylesheets),i.unsuspend){var j=i.unsuspend;i.unsuspend=null,j()}},6e4+o);0<i.imgBytes&&T0===0&&(T0=62500*sL());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&lm(i,i.stylesheets),i.unsuspend)){var j=i.unsuspend;i.unsuspend=null,j()}},(i.imgBytes>T0?50:800)+o);return i.unsuspend=d,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(g)}}:null}function im(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var sm=null;function lm(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,sm=new Map,o.forEach(kL,i),sm=null,im.call(i))}function kL(i,o){if(!(o.state.loading&4)){var d=sm.get(i);if(d)var p=d.get(null);else{d=new Map,sm.set(i,d);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<g.length;j++){var E=g[j];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(d.set(E.dataset.precedence,E),p=E)}p&&d.set(null,p)}g=o.instance,E=g.getAttribute("data-precedence"),j=d.get(E)||p,j===p&&d.set(null,g),d.set(E,g),this.count++,p=im.bind(this),g.addEventListener("load",p),g.addEventListener("error",p),j?j.parentNode.insertBefore(g,j.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),o.state.loading|=4}}var bu={$$typeof:A,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function ML(i,o,d,p,g,j,E,I,H){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ec(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ec(0),this.hiddenUpdates=Ec(null),this.identifierPrefix=p,this.onUncaughtError=g,this.onCaughtError=j,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function eC(i,o,d,p,g,j,E,I,H,te,fe,pe){return i=new ML(i,o,d,E,H,te,fe,pe,I),o=1,j===!0&&(o|=24),j=wn(3,null,null,o),i.current=j,j.stateNode=i,o=fv(),o.refCount++,i.pooledCache=o,o.refCount++,j.memoizedState={element:p,isDehydrated:d,cache:o},xv(j),i}function tC(i){return i?(i=io,i):io}function rC(i,o,d,p,g,j){g=tC(g),p.context===null?p.context=g:p.pendingContext=g,p=ss(o),p.payload={element:d},j=j===void 0?null:j,j!==null&&(p.callback=j),d=ls(i,p,o),d!==null&&(cn(d,i,o),Xc(d,i,o))}function nC(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<o?d:o}}function P0(i,o){nC(i,o),(i=i.alternate)&&nC(i,o)}function aC(i){if(i.tag===13||i.tag===31){var o=el(i,67108864);o!==null&&cn(o,i,67108864),P0(i,67108864)}}function iC(i){if(i.tag===13||i.tag===31){var o=An();o=_c(o);var d=el(i,o);d!==null&&cn(d,i,o),P0(i,o)}}var om=!0;function DL(i,o,d,p){var g=L.T;L.T=null;var j=Y.p;try{Y.p=2,I0(i,o,d,p)}finally{Y.p=j,L.T=g}}function EL(i,o,d,p){var g=L.T;L.T=null;var j=Y.p;try{Y.p=8,I0(i,o,d,p)}finally{Y.p=j,L.T=g}}function I0(i,o,d,p){if(om){var g=R0(p);if(g===null)w0(i,o,p,cm,d),lC(i,p);else if(OL(g,i,o,d,p))p.stopPropagation();else if(lC(i,p),o&4&&-1<_L.indexOf(i)){for(;g!==null;){var j=Ji(g);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var E=er(j.pendingLanes);if(E!==0){var I=j;for(I.pendingLanes|=2,I.entangledLanes|=2;E;){var H=1<<31-Xe(E);I.entanglements[1]|=H,E&=~H}_a(j),(St&6)===0&&(Yf=Zt()+500,mu(0))}}break;case 31:case 13:I=el(j,2),I!==null&&cn(I,j,2),Gf(),P0(j,2)}if(j=R0(p),j===null&&w0(i,o,p,cm,d),j===g)break;g=j}g!==null&&p.stopPropagation()}else w0(i,o,p,null,d)}}function R0(i){return i=zx(i),L0(i)}var cm=null;function L0(i){if(cm=null,i=Zi(i),i!==null){var o=l(i);if(o===null)i=null;else{var d=o.tag;if(d===13){if(i=c(o),i!==null)return i;i=null}else if(d===31){if(i=u(o),i!==null)return i;i=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return cm=i,null}function sC(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qi()){case G:return 2;case $:return 8;case X:case we:return 32;case Re:return 268435456;default:return 32}default:return 32}}var z0=!1,gs=null,bs=null,ys=null,yu=new Map,wu=new Map,ws=[],_L="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lC(i,o){switch(i){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":yu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(o.pointerId)}}function Nu(i,o,d,p,g,j){return i===null||i.nativeEvent!==j?(i={blockedOn:o,domEventName:d,eventSystemFlags:p,nativeEvent:j,targetContainers:[g]},o!==null&&(o=Ji(o),o!==null&&aC(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function OL(i,o,d,p,g){switch(o){case"focusin":return gs=Nu(gs,i,o,d,p,g),!0;case"dragenter":return bs=Nu(bs,i,o,d,p,g),!0;case"mouseover":return ys=Nu(ys,i,o,d,p,g),!0;case"pointerover":var j=g.pointerId;return yu.set(j,Nu(yu.get(j)||null,i,o,d,p,g)),!0;case"gotpointercapture":return j=g.pointerId,wu.set(j,Nu(wu.get(j)||null,i,o,d,p,g)),!0}return!1}function oC(i){var o=Zi(i.target);if(o!==null){var d=l(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){i.blockedOn=o,ef(i.priority,function(){iC(d)});return}}else if(o===31){if(o=u(d),o!==null){i.blockedOn=o,ef(i.priority,function(){iC(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function um(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var d=R0(i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);Lx=p,d.target.dispatchEvent(p),Lx=null}else return o=Ji(d),o!==null&&aC(o),i.blockedOn=d,!1;o.shift()}return!0}function cC(i,o,d){um(i)&&d.delete(o)}function TL(){z0=!1,gs!==null&&um(gs)&&(gs=null),bs!==null&&um(bs)&&(bs=null),ys!==null&&um(ys)&&(ys=null),yu.forEach(cC),wu.forEach(cC)}function dm(i,o){i.blockedOn===o&&(i.blockedOn=null,z0||(z0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,TL)))}var fm=null;function uC(i){fm!==i&&(fm=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){fm===i&&(fm=null);for(var o=0;o<i.length;o+=3){var d=i[o],p=i[o+1],g=i[o+2];if(typeof p!="function"){if(L0(p||d)===null)continue;break}var j=Ji(d);j!==null&&(i.splice(o,3),o-=3,Rv(j,{pending:!0,data:g,method:d.method,action:p},p,g))}}))}function Eo(i){function o(H){return dm(H,i)}gs!==null&&dm(gs,i),bs!==null&&dm(bs,i),ys!==null&&dm(ys,i),yu.forEach(o),wu.forEach(o);for(var d=0;d<ws.length;d++){var p=ws[d];p.blockedOn===i&&(p.blockedOn=null)}for(;0<ws.length&&(d=ws[0],d.blockedOn===null);)oC(d),d.blockedOn===null&&ws.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var g=d[p],j=d[p+1],E=g[qr]||null;if(typeof j=="function")E||uC(d);else if(E){var I=null;if(j&&j.hasAttribute("formAction")){if(g=j,E=j[qr]||null)I=E.formAction;else if(L0(g)!==null)continue}else I=E.action;typeof I=="function"?d[p+1]=I:(d.splice(p,3),p-=3),uC(d)}}}function dC(){function i(j){j.canIntercept&&j.info==="react-transition"&&j.intercept({handler:function(){return new Promise(function(E){return g=E})},focusReset:"manual",scroll:"manual"})}function o(){g!==null&&(g(),g=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var j=navigation.currentEntry;j&&j.url!=null&&navigation.navigate(j.url,{state:j.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),g!==null&&(g(),g=null)}}}function F0(i){this._internalRoot=i}mm.prototype.render=F0.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var d=o.current,p=An();rC(d,p,i,o,null,null)},mm.prototype.unmount=F0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;rC(i.current,2,null,i,null,null),Gf(),o[Xi]=null}};function mm(i){this._internalRoot=i}mm.prototype.unstable_scheduleHydration=function(i){if(i){var o=Jd();i={blockedOn:null,target:i,priority:o};for(var d=0;d<ws.length&&o!==0&&o<ws[d].priority;d++);ws.splice(d,0,i),d===0&&oC(i)}};var fC=t.version;if(fC!=="19.2.4")throw Error(n(527,fC,"19.2.4"));Y.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=m(o),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var PL={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pm.isDisabled&&pm.supportsFiber)try{ze=pm.inject(PL),Te=pm}catch{}}return Su.createRoot=function(i,o){if(!a(i))throw Error(n(299));var d=!1,p="",g=bS,j=yS,E=wS;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(j=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),o=eC(i,1,!1,null,null,d,p,null,g,j,E,dC),i[Xi]=o.current,y0(i),new F0(o)},Su.hydrateRoot=function(i,o,d){if(!a(i))throw Error(n(299));var p=!1,g="",j=bS,E=yS,I=wS,H=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(g=d.identifierPrefix),d.onUncaughtError!==void 0&&(j=d.onUncaughtError),d.onCaughtError!==void 0&&(E=d.onCaughtError),d.onRecoverableError!==void 0&&(I=d.onRecoverableError),d.formState!==void 0&&(H=d.formState)),o=eC(i,1,!0,o,d??null,p,g,H,j,E,I,dC),o.context=tC(null),d=o.current,p=An(),p=_c(p),g=ss(p),g.callback=null,ls(d,g,p),d=p,o.current.lanes=d,Ks(o,d),_a(o),i[Xi]=o.current,y0(i),new mm(o)},Su.version="19.2.4",Su}var NC;function UL(){if(NC)return q0.exports;NC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),q0.exports=HL(),q0.exports}var YL=UL();var jC="popstate";function VL(e={}){function t(n,a){let{pathname:l,search:c,hash:u}=n.location;return Jb("",{pathname:l,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:ed(a)}return WL(t,r,null,e)}function Kt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ga(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function GL(){return Math.random().toString(36).substring(2,10)}function SC(e,t){return{usr:e.state,key:e.key,idx:t}}function Jb(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?hc(t):t,state:r,key:t&&t.key||n||GL()}}function ed({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function hc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function WL(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:l=!1}=n,c=a.history,u="POP",f=null,m=h();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function h(){return(c.state||{idx:null}).idx}function x(){u="POP";let w=h(),C=w==null?null:w-m;m=w,f&&f({action:u,location:y.location,delta:C})}function v(w,C){u="PUSH";let k=Jb(y.location,w,C);m=h()+1;let A=SC(k,m),M=y.createHref(k);try{c.pushState(A,"",M)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(M)}l&&f&&f({action:u,location:y.location,delta:1})}function b(w,C){u="REPLACE";let k=Jb(y.location,w,C);m=h();let A=SC(k,m),M=y.createHref(k);c.replaceState(A,"",M),l&&f&&f({action:u,location:y.location,delta:0})}function S(w){return KL(w)}let y={get action(){return u},get location(){return e(a,c)},listen(w){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(jC,x),f=w,()=>{a.removeEventListener(jC,x),f=null}},createHref(w){return t(a,w)},createURL:S,encodeLocation(w){let C=S(w);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:b,go(w){return c.go(w)}};return y}function KL(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Kt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:ed(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function W_(e,t,r="/"){return QL(e,t,r,!1)}function QL(e,t,r,n){let a=typeof t=="string"?hc(t):t,l=Oi(a.pathname||"/",r);if(l==null)return null;let c=K_(e);XL(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let m=o6(l);u=s6(c[f],m,n)}return u}function K_(e,t=[],r=[],n="",a=!1){let l=(c,u,f=a,m)=>{let h={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&f)return;Kt(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let x=Mi([n,h.relativePath]),v=r.concat(h);c.children&&c.children.length>0&&(Kt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),K_(c.children,t,v,x,f)),!(c.path==null&&!c.index)&&t.push({path:x,score:a6(x,c.index),routesMeta:v})};return e.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))l(c,u);else for(let f of Q_(c.path))l(c,u,!0,f)}),t}function Q_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let c=Q_(n.join("/")),u=[];return u.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function XL(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:i6(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var ZL=/^:[\w-]+$/,JL=3,e6=2,t6=1,r6=10,n6=-2,CC=e=>e==="*";function a6(e,t){let r=e.split("/"),n=r.length;return r.some(CC)&&(n+=n6),t&&(n+=e6),r.filter(a=>!CC(a)).reduce((a,l)=>a+(ZL.test(l)?JL:l===""?t6:r6),n)}function i6(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function s6(e,t,r=!1){let{routesMeta:n}=e,a={},l="/",c=[];for(let u=0;u<n.length;++u){let f=n[u],m=u===n.length-1,h=l==="/"?t:t.slice(l.length)||"/",x=xp({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},h),v=f.route;if(!x&&m&&r&&!n[n.length-1].route.index&&(x=xp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!x)return null;Object.assign(a,x.params),c.push({params:a,pathname:Mi([l,x.pathname]),pathnameBase:f6(Mi([l,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(l=Mi([l,x.pathnameBase]))}return c}function xp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=l6(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((m,{paramName:h,isOptional:x},v)=>{if(h==="*"){let S=u[v]||"";c=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const b=u[v];return x&&!b?m[h]=void 0:m[h]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function l6(e,t=!1,r=!0){ga(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function o6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ga(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Oi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var c6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function u6(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?hc(e):e,l;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?l=AC(r.substring(1),"/"):l=AC(r,t)):l=t,{pathname:l,search:m6(n),hash:p6(a)}}function AC(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function V0(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function d6(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function u1(e){let t=d6(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function d1(e,t,r,n=!1){let a;typeof e=="string"?a=hc(e):(a={...e},Kt(!a.pathname||!a.pathname.includes("?"),V0("?","pathname","search",a)),Kt(!a.pathname||!a.pathname.includes("#"),V0("#","pathname","hash",a)),Kt(!a.search||!a.search.includes("#"),V0("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,u;if(c==null)u=r;else{let x=t.length-1;if(!n&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),x-=1;a.pathname=v.join("/")}u=x>=0?t[x]:"/"}let f=u6(a,u),m=c&&c!=="/"&&c.endsWith("/"),h=(l||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(m||h)&&(f.pathname+="/"),f}var Mi=e=>e.join("/").replace(/\/\/+/g,"/"),f6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),m6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,p6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,h6=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function x6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function v6(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var X_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Z_(e,t){let r=e;if(typeof r!="string"||!c6.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(X_)try{let l=new URL(window.location.href),c=r.startsWith("//")?new URL(l.protocol+r):new URL(r),u=Oi(c.pathname,t);c.origin===l.origin&&u!=null?r=u+c.search+c.hash:a=!0}catch{ga(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var J_=["POST","PUT","PATCH","DELETE"];new Set(J_);var g6=["GET",...J_];new Set(g6);var xc=N.createContext(null);xc.displayName="DataRouter";var Dh=N.createContext(null);Dh.displayName="DataRouterState";var b6=N.createContext(!1),eO=N.createContext({isTransitioning:!1});eO.displayName="ViewTransition";var y6=N.createContext(new Map);y6.displayName="Fetchers";var w6=N.createContext(null);w6.displayName="Await";var zn=N.createContext(null);zn.displayName="Navigation";var Nd=N.createContext(null);Nd.displayName="Location";var wa=N.createContext({outlet:null,matches:[],isDataRoute:!1});wa.displayName="Route";var f1=N.createContext(null);f1.displayName="RouteError";var tO="REACT_ROUTER_ERROR",N6="REDIRECT",j6="ROUTE_ERROR_RESPONSE";function S6(e){if(e.startsWith(`${tO}:${N6}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function C6(e){if(e.startsWith(`${tO}:${j6}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new h6(t.status,t.statusText,t.data)}catch{}}function A6(e,{relative:t}={}){Kt(vc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=N.useContext(zn),{hash:a,pathname:l,search:c}=jd(e,{relative:t}),u=l;return r!=="/"&&(u=l==="/"?r:Mi([r,l])),n.createHref({pathname:u,search:c,hash:a})}function vc(){return N.useContext(Nd)!=null}function Na(){return Kt(vc(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Nd).location}var rO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nO(e){N.useContext(zn).static||N.useLayoutEffect(e)}function Ul(){let{isDataRoute:e}=N.useContext(wa);return e?B6():k6()}function k6(){Kt(vc(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(xc),{basename:t,navigator:r}=N.useContext(zn),{matches:n}=N.useContext(wa),{pathname:a}=Na(),l=JSON.stringify(u1(n)),c=N.useRef(!1);return nO(()=>{c.current=!0}),N.useCallback((f,m={})=>{if(ga(c.current,rO),!c.current)return;if(typeof f=="number"){r.go(f);return}let h=d1(f,JSON.parse(l),a,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Mi([t,h.pathname])),(m.replace?r.replace:r.push)(h,m.state,m)},[t,r,l,a,e])}var M6=N.createContext(null);function D6(e){let t=N.useContext(wa).outlet;return N.useMemo(()=>t&&N.createElement(M6.Provider,{value:e},t),[t,e])}function jd(e,{relative:t}={}){let{matches:r}=N.useContext(wa),{pathname:n}=Na(),a=JSON.stringify(u1(r));return N.useMemo(()=>d1(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function E6(e,t){return aO(e,t)}function aO(e,t,r,n,a){Kt(vc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(zn),{matches:c}=N.useContext(wa),u=c[c.length-1],f=u?u.params:{},m=u?u.pathname:"/",h=u?u.pathnameBase:"/",x=u&&u.route;{let k=x&&x.path||"";sO(m,!x||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let v=Na(),b;if(t){let k=typeof t=="string"?hc(t):t;Kt(h==="/"||k.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${k.pathname}" was given in the \`location\` prop.`),b=k}else b=v;let S=b.pathname||"/",y=S;if(h!=="/"){let k=h.replace(/^\//,"").split("/");y="/"+S.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=W_(e,{pathname:y});ga(x||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ga(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=I6(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:Mi([h,l.encodeLocation?l.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:Mi([h,l.encodeLocation?l.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),c,r,n,a);return t&&C?N.createElement(Nd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function _6(){let e=$6(),t=x6(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:a},r):null,c)}var O6=N.createElement(_6,null),iO=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=C6(e.digest);r&&(e=r)}let t=e!==void 0?N.createElement(wa.Provider,{value:this.props.routeContext},N.createElement(f1.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?N.createElement(T6,{error:e},t):t}};iO.contextType=b6;var G0=new WeakMap;function T6({children:e,error:t}){let{basename:r}=N.useContext(zn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=S6(t.digest);if(n){let a=G0.get(t);if(a)throw a;let l=Z_(n.location,r);if(X_&&!G0.get(t))if(l.isExternal||n.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:n.replace}));throw G0.set(t,c),c}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function P6({routeContext:e,match:t,children:r}){let n=N.useContext(xc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(wa.Provider,{value:e},r)}function I6(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,c=r?.errors;if(c!=null){let h=l.findIndex(x=>x.route.id&&c?.[x.route.id]!==void 0);Kt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,h+1))}let u=!1,f=-1;if(r)for(let h=0;h<l.length;h++){let x=l[h];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(f=h),x.route.id){let{loaderData:v,errors:b}=r,S=x.route.loader&&!v.hasOwnProperty(x.route.id)&&(!b||b[x.route.id]===void 0);if(x.route.lazy||S){u=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let m=r&&n?(h,x)=>{n(h,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:v6(r.matches),errorInfo:x})}:void 0;return l.reduceRight((h,x,v)=>{let b,S=!1,y=null,w=null;r&&(b=c&&x.route.id?c[x.route.id]:void 0,y=x.route.errorElement||O6,u&&(f<0&&v===0?(sO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,w=null):f===v&&(S=!0,w=x.route.hydrateFallbackElement||null)));let C=t.concat(l.slice(0,v+1)),k=()=>{let A;return b?A=y:S?A=w:x.route.Component?A=N.createElement(x.route.Component,null):x.route.element?A=x.route.element:A=h,N.createElement(P6,{match:x,routeContext:{outlet:h,matches:C,isDataRoute:r!=null},children:A})};return r&&(x.route.ErrorBoundary||x.route.errorElement||v===0)?N.createElement(iO,{location:r.location,revalidation:r.revalidation,component:y,error:b,children:k(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:m}):k()},null)}function m1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R6(e){let t=N.useContext(xc);return Kt(t,m1(e)),t}function L6(e){let t=N.useContext(Dh);return Kt(t,m1(e)),t}function z6(e){let t=N.useContext(wa);return Kt(t,m1(e)),t}function p1(e){let t=z6(e),r=t.matches[t.matches.length-1];return Kt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function F6(){return p1("useRouteId")}function $6(){let e=N.useContext(f1),t=L6("useRouteError"),r=p1("useRouteError");return e!==void 0?e:t.errors?.[r]}function B6(){let{router:e}=R6("useNavigate"),t=p1("useNavigate"),r=N.useRef(!1);return nO(()=>{r.current=!0}),N.useCallback(async(a,l={})=>{ga(r.current,rO),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var kC={};function sO(e,t,r){!t&&!kC[e]&&(kC[e]=!0,ga(!1,r))}N.memo(q6);function q6({routes:e,future:t,state:r,onError:n}){return aO(e,void 0,r,n,t)}function vp({to:e,replace:t,state:r,relative:n}){Kt(vc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(zn);ga(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(wa),{pathname:c}=Na(),u=Ul(),f=d1(e,u1(l),c,n==="path"),m=JSON.stringify(f);return N.useEffect(()=>{u(JSON.parse(m),{replace:t,state:r,relative:n})},[u,m,n,t,r]),null}function lO(e){return D6(e.context)}function Vt(e){Kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function H6({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){Kt(!vc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:u,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[u,a,l,c]);typeof r=="string"&&(r=hc(r));let{pathname:m="/",search:h="",hash:x="",state:v=null,key:b="default"}=r,S=N.useMemo(()=>{let y=Oi(m,u);return y==null?null:{location:{pathname:y,search:h,hash:x,state:v,key:b},navigationType:n}},[u,m,h,x,v,b,n]);return ga(S!=null,`<Router basename="${u}"> is not able to match the URL "${m}${h}${x}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:N.createElement(zn.Provider,{value:f},N.createElement(Nd.Provider,{children:t,value:S}))}function U6({children:e,location:t}){return E6(ey(e),t)}function ey(e,t=[]){let r=[];return N.Children.forEach(e,(n,a)=>{if(!N.isValidElement(n))return;let l=[...t,a];if(n.type===N.Fragment){r.push.apply(r,ey(n.props.children,l));return}Kt(n.type===Vt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Kt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=ey(n.props.children,l)),r.push(c)}),r}var ep="get",tp="application/x-www-form-urlencoded";function Eh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Y6(e){return Eh(e)&&e.tagName.toLowerCase()==="button"}function V6(e){return Eh(e)&&e.tagName.toLowerCase()==="form"}function G6(e){return Eh(e)&&e.tagName.toLowerCase()==="input"}function W6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function K6(e,t){return e.button===0&&(!t||t==="_self")&&!W6(e)}var hm=null;function Q6(){if(hm===null)try{new FormData(document.createElement("form"),0),hm=!1}catch{hm=!0}return hm}var X6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function W0(e){return e!=null&&!X6.has(e)?(ga(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tp}"`),null):e}function Z6(e,t){let r,n,a,l,c;if(V6(e)){let u=e.getAttribute("action");n=u?Oi(u,t):null,r=e.getAttribute("method")||ep,a=W0(e.getAttribute("enctype"))||tp,l=new FormData(e)}else if(Y6(e)||G6(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(n=f?Oi(f,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||ep,a=W0(e.getAttribute("formenctype"))||W0(u.getAttribute("enctype"))||tp,l=new FormData(u,e),!Q6()){let{name:m,type:h,value:x}=e;if(h==="image"){let v=m?`${m}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else m&&l.append(m,x)}}else{if(Eh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ep,n=null,a=tp,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function h1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function J6(e,t,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&Oi(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function ez(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function rz(e,t,r){let n=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await ez(l,r);return c.links?c.links():[]}return[]}));return sz(n.flat(1).filter(tz).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function MC(e,t,r,n,a,l){let c=(f,m)=>r[m]?f.route.id!==r[m].route.id:!0,u=(f,m)=>r[m].pathname!==f.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==f.params["*"];return l==="assets"?t.filter((f,m)=>c(f,m)||u(f,m)):l==="data"?t.filter((f,m)=>{let h=n.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(c(f,m)||u(f,m))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function nz(e,t,{includeHydrateFallback:r}={}){return az(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function az(e){return[...new Set(e)]}function iz(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function sz(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let l=JSON.stringify(iz(a));return r.has(l)||(r.add(l),n.push({key:l,link:a})),n},[])}function oO(){let e=N.useContext(xc);return h1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function lz(){let e=N.useContext(Dh);return h1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var x1=N.createContext(void 0);x1.displayName="FrameworkContext";function cO(){let e=N.useContext(x1);return h1(e,"You must render this element inside a <HydratedRouter> element"),e}function oz(e,t){let r=N.useContext(x1),[n,a]=N.useState(!1),[l,c]=N.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:m,onMouseLeave:h,onTouchStart:x}=t,v=N.useRef(null);N.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let y=C=>{C.forEach(k=>{c(k.isIntersecting)})},w=new IntersectionObserver(y,{threshold:.5});return v.current&&w.observe(v.current),()=>{w.disconnect()}}},[e]),N.useEffect(()=>{if(n){let y=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(y)}}},[n]);let b=()=>{a(!0)},S=()=>{a(!1),c(!1)};return r?e!=="intent"?[l,v,{}]:[l,v,{onFocus:Cu(u,b),onBlur:Cu(f,S),onMouseEnter:Cu(m,b),onMouseLeave:Cu(h,S),onTouchStart:Cu(x,b)}]:[!1,v,{}]}function Cu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function cz({page:e,...t}){let{router:r}=oO(),n=N.useMemo(()=>W_(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?N.createElement(dz,{page:e,matches:n,...t}):null}function uz(e){let{manifest:t,routeModules:r}=cO(),[n,a]=N.useState([]);return N.useEffect(()=>{let l=!1;return rz(e,t,r).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,r]),n}function dz({page:e,matches:t,...r}){let n=Na(),{future:a,manifest:l,routeModules:c}=cO(),{basename:u}=oO(),{loaderData:f,matches:m}=lz(),h=N.useMemo(()=>MC(e,t,m,l,n,"data"),[e,t,m,l,n]),x=N.useMemo(()=>MC(e,t,m,l,n,"assets"),[e,t,m,l,n]),v=N.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,w=!1;if(t.forEach(k=>{let A=l.routes[k.route.id];!A||!A.hasLoader||(!h.some(M=>M.route.id===k.route.id)&&k.route.id in f&&c[k.route.id]?.shouldRevalidate||A.hasClientLoader?w=!0:y.add(k.route.id))}),y.size===0)return[];let C=J6(e,u,a.unstable_trailingSlashAwareDataRequests,"data");return w&&y.size>0&&C.searchParams.set("_routes",t.filter(k=>y.has(k.route.id)).map(k=>k.route.id).join(",")),[C.pathname+C.search]},[u,a.unstable_trailingSlashAwareDataRequests,f,n,l,h,t,e,c]),b=N.useMemo(()=>nz(x,l),[x,l]),S=uz(x);return N.createElement(N.Fragment,null,v.map(y=>N.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),b.map(y=>N.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),S.map(({key:y,link:w})=>N.createElement("link",{key:y,nonce:r.nonce,...w,crossOrigin:w.crossOrigin??r.crossOrigin})))}function fz(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var mz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mz&&(window.__reactRouterVersion="7.13.0")}catch{}function pz({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=N.useRef();a.current==null&&(a.current=VL({window:n,v5Compat:!0}));let l=a.current,[c,u]=N.useState({action:l.action,location:l.location}),f=N.useCallback(m=>{r===!1?u(m):N.startTransition(()=>u(m))},[r]);return N.useLayoutEffect(()=>l.listen(f),[l,f]),N.createElement(H6,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:r})}var uO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nl=N.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:l,replace:c,state:u,target:f,to:m,preventScrollReset:h,viewTransition:x,unstable_defaultShouldRevalidate:v,...b},S){let{basename:y,unstable_useTransitions:w}=N.useContext(zn),C=typeof m=="string"&&uO.test(m),k=Z_(m,y);m=k.to;let A=A6(m,{relative:a}),[M,_,T]=oz(n,b),P=vz(m,{replace:c,state:u,target:f,preventScrollReset:h,relative:a,viewTransition:x,unstable_defaultShouldRevalidate:v,unstable_useTransitions:w});function O(R){t&&t(R),R.defaultPrevented||P(R)}let z=N.createElement("a",{...b,...T,href:k.absoluteURL||A,onClick:k.isExternal||l?t:O,ref:fz(S,_),target:f,"data-discover":!C&&r==="render"?"true":void 0});return M&&!C?N.createElement(N.Fragment,null,z,N.createElement(cz,{page:A})):z});Nl.displayName="Link";var dO=N.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:l,to:c,viewTransition:u,children:f,...m},h){let x=jd(c,{relative:m.relative}),v=Na(),b=N.useContext(Dh),{navigator:S,basename:y}=N.useContext(zn),w=b!=null&&Nz(x)&&u===!0,C=S.encodeLocation?S.encodeLocation(x).pathname:x.pathname,k=v.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(k=k.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&y&&(A=Oi(A,y)||A);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let _=k===C||!a&&k.startsWith(C)&&k.charAt(M)==="/",T=A!=null&&(A===C||!a&&A.startsWith(C)&&A.charAt(C.length)==="/"),P={isActive:_,isPending:T,isTransitioning:w},O=_?t:void 0,z;typeof n=="function"?z=n(P):z=[n,_?"active":null,T?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let R=typeof l=="function"?l(P):l;return N.createElement(Nl,{...m,"aria-current":O,className:z,ref:h,style:R,to:c,viewTransition:u},typeof f=="function"?f(P):f)});dO.displayName="NavLink";var hz=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:l,method:c=ep,action:u,onSubmit:f,relative:m,preventScrollReset:h,viewTransition:x,unstable_defaultShouldRevalidate:v,...b},S)=>{let{unstable_useTransitions:y}=N.useContext(zn),w=yz(),C=wz(u,{relative:m}),k=c.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&uO.test(u),M=_=>{if(f&&f(_),_.defaultPrevented)return;_.preventDefault();let T=_.nativeEvent.submitter,P=T?.getAttribute("formmethod")||c,O=()=>w(T||_.currentTarget,{fetcherKey:t,method:P,navigate:r,replace:a,state:l,relative:m,preventScrollReset:h,viewTransition:x,unstable_defaultShouldRevalidate:v});y&&r!==!1?N.startTransition(()=>O()):O()};return N.createElement("form",{ref:S,method:k,action:C,onSubmit:n?f:M,...b,"data-discover":!A&&e==="render"?"true":void 0})});hz.displayName="Form";function xz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fO(e){let t=N.useContext(xc);return Kt(t,xz(e)),t}function vz(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let m=Ul(),h=Na(),x=jd(e,{relative:l});return N.useCallback(v=>{if(K6(v,t)){v.preventDefault();let b=r!==void 0?r:ed(h)===ed(x),S=()=>m(e,{replace:b,state:n,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:u});f?N.startTransition(()=>S()):S()}},[h,m,x,r,n,t,e,a,l,c,u,f])}var gz=0,bz=()=>`__${String(++gz)}__`;function yz(){let{router:e}=fO("useSubmit"),{basename:t}=N.useContext(zn),r=F6(),n=e.fetch,a=e.navigate;return N.useCallback(async(l,c={})=>{let{action:u,method:f,encType:m,formData:h,body:x}=Z6(l,t);if(c.navigate===!1){let v=c.fetcherKey||bz();await n(v,r,c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:h,body:x,formMethod:c.method||f,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:h,body:x,formMethod:c.method||f,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,a,t,r])}function wz(e,{relative:t}={}){let{basename:r}=N.useContext(zn),n=N.useContext(wa);Kt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),l={...jd(e||".",{relative:t})},c=Na();if(e==null){l.search=c.search;let u=new URLSearchParams(l.search),f=u.getAll("index");if(f.some(h=>h==="")){u.delete("index"),f.filter(x=>x).forEach(x=>u.append("index",x));let h=u.toString();l.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Mi([r,l.pathname])),ed(l)}function Nz(e,{relative:t}={}){let r=N.useContext(eO);Kt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=fO("useViewTransitionState"),a=jd(e,{relative:t});if(!r.isTransitioning)return!1;let l=Oi(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=Oi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return xp(a.pathname,c)!=null||xp(a.pathname,l)!=null}var Sd=G_();const jz=Za(Sd),Sz="AKfycbx7e7-Mfi8GQsC0yoUTGSu5A6JriYLaxOvkiEGganmxXOhZSe3D6rpMu-dtQIhNuyLk",v1="cf_access_token",g1="cf_token_expiry",b1="cf_user_name";function gp(){const e=localStorage.getItem(g1);return e&&Date.now()>Number(e)?(rp(),null):localStorage.getItem(v1)}function DC(e,t=3500){localStorage.setItem(v1,e),localStorage.setItem(g1,String(Date.now()+t*1e3))}function rp(){localStorage.removeItem(v1),localStorage.removeItem(g1),localStorage.removeItem(b1)}function EC(){return!!gp()}function _C(e){localStorage.setItem(b1,e)}function Cz(){return localStorage.getItem(b1)||""}let ty=null;function Az(e){ty=e}async function Ae(e,t={},r=!0){const n=gp();if(!n)throw new Error("Not authenticated. Please sign in.");const u=await(await fetch(`https://script.googleapis.com/v1/scripts/${Sz}:run`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({function:"apiRouter",devMode:!1,parameters:[{action:e,params:t,userName:Cz()}]})})).json();if(u.error){if(r&&(u.error.code===401||u.error.code===403||u.error.status==="UNAUTHENTICATED"||u.error.status==="PERMISSION_DENIED")&&ty)try{return await ty(),Ae(e,t,!1)}catch{}if(u.error.details&&u.error.details.length>0){const f=u.error.details[0];throw new Error(f.errorMessage||"Script execution error")}throw new Error(u.error.message||"API error")}if(u.response&&u.response.result!==void 0){const f=u.response.result;if(f&&!f.success){const h=new Error(f.error||"Unknown error");throw h.code=f.code,h}const m=f?f.data:null;if(m&&m.success===!1)throw new Error(m.message||"Operation failed");return m}throw new Error("Unexpected response format")}const OC=()=>Ae("auth:me"),kz=(e,t)=>Ae("auth:invite",{email:e,name:t}),bp=()=>Ae("data:load-all"),mO=()=>Ae("members:list"),pO=e=>Ae("member:create",e),hO=e=>Ae("member:update",e),xO=e=>Ae("member:delete",{memberId:e}),vO=()=>Ae("banks:list"),gO=e=>Ae("bank:create",e),Mz=e=>Ae("bank:update",e),bO=e=>Ae("bank:delete",{accountId:e}),yO=()=>Ae("invaccounts:list"),wO=e=>Ae("invacct:create",e),Dz=e=>Ae("invacct:update",e),NO=e=>Ae("invacct:delete",{accountId:e}),Ez=()=>Ae("portfolios:list"),_z=e=>Ae("portfolio:create",e),Oz=e=>Ae("portfolio:update",e),Tz=e=>Ae("portfolio:delete",{portfolioId:e}),Pz=e=>Ae("mf:invest",e),Iz=e=>Ae("mf:redeem",e),Rz=e=>Ae("mf:switch",e),Lz=(e,t)=>Ae("mf:allocations-update",{portfolioId:e,allocations:t}),zz=()=>Ae("funds:all"),Fz=e=>Ae("asset-allocation:save",e),jO=()=>Ae("goals:list"),SO=e=>Ae("goal:create",e),$z=(e,t)=>Ae("goal:update",{goalId:e,...t}),CO=e=>Ae("goal:delete",{goalId:e}),Bz=()=>Ae("goal:mappings-list"),qz=(e,t)=>Ae("goal:mappings-update",{goalId:e,mappings:t}),AO=()=>Ae("insurance:list"),kO=e=>Ae("insurance:create",e),Hz=e=>Ae("insurance:update",e),MO=e=>Ae("insurance:delete",{policyId:e}),DO=()=>Ae("liabilities:list"),EO=e=>Ae("liability:create",e),Uz=e=>Ae("liability:update",e),_O=e=>Ae("liability:delete",{liabilityId:e}),OO=()=>Ae("otherinv:list"),TO=e=>Ae("otherinv:create",e),Yz=e=>Ae("otherinv:update",e),PO=e=>Ae("otherinv:delete",{investmentId:e}),IO=()=>Ae("stock-portfolios:list"),RO=e=>Ae("stock-portfolio:create",e),Vz=e=>Ae("stock-portfolio:update",e),LO=e=>Ae("stock-portfolio:delete",{portfolioId:e}),Gz=()=>Ae("stocks:all"),Wz=e=>Ae("stock:buy",e),Kz=e=>Ae("stock:sell",e),Qz=e=>Ae("mf-transaction:delete",{transactionId:e}),Xz=e=>Ae("mf-transaction:edit",e),Zz=()=>Ae("mf-holdings:list"),Jz=()=>Ae("mf-transactions:list"),eF=()=>Ae("stock-holdings:list-all"),tF=()=>Ae("stock-transactions:list-all"),zO=()=>Ae("reminders:list"),FO=e=>Ae("reminder:create",e),rF=e=>Ae("reminder:update",e),$O=e=>Ae("reminder:delete",{reminderId:e}),nF=e=>Ae("healthcheck:save",e),BO=()=>Ae("healthcheck:get"),aF=()=>Ae("settings:list"),iF=e=>Ae("settings:update",e),sF=()=>Ae("market:data"),lF=()=>Ae("data:refresh-master");typeof window<"u"&&(window._cf={callAPI:Ae,checkTriggers:()=>Ae("test:triggers"),diagnose:()=>Ae("test:diagnose")});const oF="capital-friends",cF=1,xn="cache";let Au=null;function gc(){return Au||(Au=new Promise((e,t)=>{const r=indexedDB.open(oF,cF);r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains(xn)||a.createObjectStore(xn,{keyPath:"key"})},r.onsuccess=()=>e(r.result),r.onerror=()=>{console.warn("[idb] Failed to open database:",r.error),Au=null,t(r.error)}}),Au)}async function qO(e){try{const t=await gc();return new Promise(r=>{const a=t.transaction(xn,"readonly").objectStore(xn).get(e);a.onsuccess=()=>r(a.result?a.result.data:null),a.onerror=()=>r(null)})}catch{return null}}async function HO(e){try{const t=await gc();return new Promise(r=>{const a=t.transaction(xn,"readonly").objectStore(xn).get(e);a.onsuccess=()=>r(a.result||null),a.onerror=()=>r(null)})}catch{return null}}async function Kr(e,t){try{const r=await gc();return new Promise(n=>{const a=r.transaction(xn,"readwrite");a.objectStore(xn).put({key:e,data:t,updatedAt:Date.now()}),a.oncomplete=()=>n(),a.onerror=()=>n()})}catch{}}async function uF(){try{const e=await gc();return new Promise(t=>{const n=e.transaction(xn,"readonly").objectStore(xn).getAll();n.onsuccess=()=>{const a={};for(const l of n.result||[])a[l.key]=l.data;t(a)},n.onerror=()=>t({})})}catch{return{}}}async function K0(e){try{const t=await gc();return new Promise(r=>{const n=t.transaction(xn,"readwrite"),a=n.objectStore(xn),l=Date.now();for(const[c,u]of Object.entries(e))a.put({key:c,data:u,updatedAt:l});n.oncomplete=()=>r(),n.onerror=()=>r()})}catch{}}async function dF(){try{const e=await gc();return new Promise(t=>{const r=e.transaction(xn,"readwrite");r.objectStore(xn).clear(),r.oncomplete=()=>t(),r.onerror=()=>t()})}catch{}}const UO=N.createContext(null),fF="868467315292-7hfrvkh8pq8f1e2l3v38m6qrupboa295.apps.googleusercontent.com",mF=["https://www.googleapis.com/auth/spreadsheets","https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/gmail.send","https://www.googleapis.com/auth/script.scriptapp","openid","email","profile"].join(" "),y1="cf_user_profile";function TC(){try{const e=localStorage.getItem(y1);return e?JSON.parse(e):null}catch{return null}}function pF(e){try{localStorage.setItem(y1,JSON.stringify(e))}catch{}}function PC(){localStorage.removeItem(y1)}function hF({children:e}){const t=EC()?TC():null,[r,n]=N.useState(t),[a,l]=N.useState(!t),[c,u]=N.useState(null),f=N.useRef(null);function m(C){n(C),C?pF(C):PC()}N.useEffect(()=>{const C=()=>{if(!window.google?.accounts?.oauth2){setTimeout(C,200);return}f.current=window.google.accounts.oauth2.initTokenClient({client_id:fF,scope:mF,callback:h}),Az(b),EC()?v():l(!1)};C()},[]);async function h(C){if(C.error){u(C.error_description||C.error),l(!1);return}try{l(!0),u(null),DC(C.access_token,C.expires_in);const k=await x(C.access_token);_C(k.name||"");const A=await OC();m({email:A.email||k.email,name:A.name||k.name,role:A.role,picture:k.picture||""})}catch(k){u(k.message),rp(),m(null)}finally{l(!1)}}async function x(C){const k=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${C}`}});if(!k.ok)throw new Error("Failed to fetch user profile");return k.json()}async function v(){const C=!!TC();try{const k=gp(),A=await x(k);_C(A.name||"");const M=await OC();m({email:M.email||A.email,name:M.name||A.name,role:M.role,picture:A.picture||""})}catch{rp(),m(null)}finally{C||l(!1)}}function b(){return new Promise((C,k)=>{if(!f.current){k(new Error("Token client not initialized"));return}const A=f.current,M=A.callback;A.callback=_=>{A.callback=M,_.error?k(new Error(_.error)):(DC(_.access_token,_.expires_in),C())},A.requestAccessToken({prompt:""})})}const S=N.useCallback(()=>{f.current&&(u(null),f.current.requestAccessToken())},[]),y=N.useCallback(()=>{const C=gp();C&&window.google?.accounts?.oauth2&&window.google.accounts.oauth2.revoke(C),rp(),PC(),dF(),sessionStorage.removeItem("cf_health_check"),n(null)},[]),w={user:r,loading:a,error:c,isAuthenticated:!!r,isOwner:r?.role==="owner",signIn:S,signOut:y};return s.jsx(UO.Provider,{value:w,children:e})}function Yl(){const e=N.useContext(UO);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const YO=N.createContext();function xF({children:e}){const[t,r]=N.useState(()=>{const a=localStorage.getItem("cf-theme");return a||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")});N.useEffect(()=>{localStorage.setItem("cf-theme",t),document.documentElement.setAttribute("data-theme",t)},[t]);const n=()=>r(a=>a==="dark"?"light":"dark");return s.jsx(YO.Provider,{value:{theme:t,toggle:n},children:e})}function VO(){return N.useContext(YO)}const GO=N.createContext(),WO="cf_hc_done";function vF(){try{return sessionStorage.getItem(WO)==="1"?!0:null}catch{return null}}function _o(e){try{sessionStorage.setItem(WO,e?"1":"0")}catch{}}function gF({children:e}){const{isAuthenticated:t}=Yl(),r=t?vF():null,[n,a]=N.useState(!0),[l,c]=N.useState(!1),[u,f]=N.useState(null),[m,h]=N.useState(null),[x,v]=N.useState(null),[b,S]=N.useState(null),[y,w]=N.useState(null),[C,k]=N.useState(null),[A,M]=N.useState(null),[_,T]=N.useState(null),[P,O]=N.useState(null),[z,R]=N.useState(null),[F,D]=N.useState(null),[Z,Q]=N.useState(null),[J,L]=N.useState(null),[Y,q]=N.useState(null),[le,be]=N.useState(null),[B,se]=N.useState(null),[ve,de]=N.useState(null),[Ne,xe]=N.useState(null),[he,ke]=N.useState(r!==null?r:null),re=N.useRef(!1),Fe=N.useCallback(U=>{U&&("members"in U&&h(U.members||[]),"bankAccounts"in U&&v(U.bankAccounts||[]),"investments"in U&&S(U.investments||[]),"insurancePolicies"in U&&w(U.insurancePolicies||[]),"liabilities"in U&&k(U.liabilities||[]),"otherInvestments"in U&&M(U.otherInvestments||[]),"stockPortfolios"in U&&T(U.stockPortfolios||[]),"stockHoldings"in U&&O(U.stockHoldings||[]),"stockTransactions"in U&&R(U.stockTransactions||[]),"mfPortfolios"in U&&D(U.mfPortfolios||[]),"mfHoldings"in U&&Q((U.mfHoldings||[]).map(ye=>ye.schemeCode?ye:{...ye,schemeCode:ye.fundCode})),"mfTransactions"in U&&L(U.mfTransactions||[]),"goals"in U&&q(U.goals||[]),"reminders"in U&&be(U.reminders||[]),"goalPortfolioMappings"in U&&se(U.goalPortfolioMappings||[]),"assetAllocations"in U&&de(U.assetAllocations||[]),"settings"in U&&xe(U.settings||{}))},[]),Ue=N.useCallback(U=>{K0({members:U.members||[],bankAccounts:U.bankAccounts||[],investments:U.investments||[],insurancePolicies:U.insurancePolicies||[],liabilities:U.liabilities||[],otherInvestments:U.otherInvestments||[],stockPortfolios:U.stockPortfolios||[],stockHoldings:U.stockHoldings||[],stockTransactions:U.stockTransactions||[],mfPortfolios:U.mfPortfolios||[],mfHoldings:U.mfHoldings||[],mfTransactions:U.mfTransactions||[],goals:U.goals||[],reminders:U.reminders||[],goalPortfolioMappings:U.goalPortfolioMappings||[],assetAllocations:U.assetAllocations||[]})},[]),ge=N.useCallback(async(U=!1)=>{try{U?c(!0):a(!0),f(null);const ye=await bp();Fe(ye),Ue(ye)}catch(ye){f(ye.message)}finally{a(!1),c(!1)}},[Fe,Ue]),Be=N.useCallback(async()=>{const U=await mO();h(U||[]),Kr("members",U||[])},[]),qe=N.useCallback(async()=>{const U=await vO();v(U||[]),Kr("bankAccounts",U||[])},[]),Ke=N.useCallback(async()=>{const U=await yO();S(U||[]),Kr("investments",U||[])},[]),Nt=N.useCallback(async()=>{const U=await AO();w(U||[]),Kr("insurancePolicies",U||[])},[]),_t=N.useCallback(async()=>{const U=await DO();k(U||[]),Kr("liabilities",U||[])},[]),Pe=N.useCallback(async()=>{const U=await OO();M(U||[]),Kr("otherInvestments",U||[])},[]),rt=N.useCallback(async()=>{const[U,ye]=await Promise.all([jO(),Bz()]);q(U||[]),se(ye||[]),Kr("goals",U||[]),Kr("goalPortfolioMappings",ye||[])},[]),Ft=N.useCallback(async()=>{const U=await zO();be(U||[]),Kr("reminders",U||[])},[]),it=N.useCallback(async()=>{const[U,ye,xt]=await Promise.all([Ez(),Zz(),Jz()]),tn=(ye||[]).map(Aa=>Aa.schemeCode?Aa:{...Aa,schemeCode:Aa.fundCode});D(U||[]),Q(tn),L(xt||[]),K0({mfPortfolios:U||[],mfHoldings:tn,mfTransactions:xt||[]})},[]),ht=N.useCallback(async()=>{const[U,ye,xt]=await Promise.all([IO(),eF(),tF()]);T(U||[]),O(ye||[]),R(xt||[]),K0({stockPortfolios:U||[],stockHoldings:ye||[],stockTransactions:xt||[]})},[]),Xt=N.useCallback(async()=>{const U=await aF();xe(U||{}),Kr("settings",U||{})},[]),Zt=N.useCallback(async U=>{await iF(U),await Xt()},[Xt]),Qi=N.useCallback(async()=>{try{const U=await qO("healthCheckAnswers");if(U&&Object.keys(U).length>0){ke(!0),_o(!0);return}const ye=await BO();ye&&Object.keys(ye).length>0?(ke(!0),_o(!0),Kr("healthCheckAnswers",ye)):(ke(!1),_o(!1))}catch{ke(!1),_o(!1)}},[]),G=N.useCallback(async U=>{const ye=await nF(U);return ye?.success&&(ke(!0),_o(!0),Kr("healthCheckAnswers",U)),ye},[]);N.useEffect(()=>{if(!t){a(!1);return}if(re.current)return;re.current=!0;async function U(){const ye=await uF(),xt=Object.keys(ye).length>0;xt&&(Fe(ye),ye.healthCheckAnswers&&Object.keys(ye.healthCheckAnswers).length>0&&(ke(!0),_o(!0)),a(!1));try{xt&&c(!0);const tn=await bp();Fe(tn),Ue(tn)}catch(tn){xt||f(tn.message)}finally{a(!1),c(!1)}}U(),Xt().catch(()=>{}),r===null&&Qi().catch(()=>{})},[t,Fe,Ue,Xt,Qi]),N.useEffect(()=>{t||(re.current=!1)},[t]);const $=N.useCallback(async U=>{const ye=await pO(U);if(U.email)try{await kz(U.email,U.memberName)}catch(xt){console.warn("Auto-invite failed (non-blocking):",xt.message)}return await Be(),ye},[Be]),X=N.useCallback(async(U,ye)=>{await hO({memberId:U,...ye}),await Be()},[Be]),we=N.useCallback(async U=>{await xO(U),await Be()},[Be]),Re=N.useCallback(async U=>{const ye=await gO(U);return await qe(),ye},[qe]),ne=N.useCallback(async(U,ye)=>{await Mz({accountId:U,...ye}),await qe()},[qe]),st=N.useCallback(async U=>{await bO(U),await qe()},[qe]),ze=N.useCallback(async U=>{const ye=await wO(U);return await Ke(),ye},[Ke]),Te=N.useCallback(async(U,ye)=>{await Dz({accountId:U,...ye}),await Ke()},[Ke]),We=N.useCallback(async U=>{await NO(U),await Ke()},[Ke]),Xe=N.useCallback(async U=>{const ye=await kO(U);return await Nt(),ye},[Nt]),Jt=N.useCallback(async(U,ye)=>{await Hz({policyId:U,...ye}),await Nt()},[Nt]),vt=N.useCallback(async U=>{await MO(U),await Nt()},[Nt]),je=N.useCallback(async U=>{const ye=await EO(U);return await _t(),ye},[_t]),Ye=N.useCallback(async(U,ye)=>{await Uz({liabilityId:U,...ye}),await _t()},[_t]),Ee=N.useCallback(async U=>{await _O(U),await _t()},[_t]),jt=N.useCallback(async U=>{const ye=await TO(U);return await Pe(),U.quickLoan&&await _t(),ye},[Pe,_t]),er=N.useCallback(async(U,ye)=>{await Yz({investmentId:U,...ye}),await Pe(),await _t()},[Pe,_t]),ur=N.useCallback(async U=>{await PO(U),await Pe()},[Pe]),gn=N.useCallback(async U=>{const ye=await SO(U);return await rt(),ye},[rt]),Dx=N.useCallback(async(U,ye)=>{await $z(U,ye),await rt()},[rt]),Kd=N.useCallback(async U=>{await CO(U),await rt()},[rt]),Ec=N.useCallback(async U=>{const ye=await FO(U);return await Ft(),ye},[Ft]),Ks=N.useCallback(async(U,ye)=>{await rF({reminderId:U,...ye}),await Ft()},[Ft]),Ex=N.useCallback(async U=>{await $O(U),await Ft()},[Ft]),Qd=N.useCallback(async(U,ye)=>{await qz(U,ye),await rt()},[rt]),Xd=N.useCallback(async U=>{const ye=await RO(U);return await ht(),ye},[ht]),Zd=N.useCallback(async(U,ye)=>{await Vz({portfolioId:U,...ye}),await ht()},[ht]),_c=N.useCallback(async U=>{await LO(U),await ht()},[ht]),Oc=N.useCallback(async U=>{const ye=await Wz(U);return await ht(),ye},[ht]),Jd=N.useCallback(async U=>{const ye=await Kz(U);return await ht(),ye},[ht]),ef=N.useCallback(async U=>{const ye=await _z(U);return await it(),ye},[it]),Ca=N.useCallback(async(U,ye)=>{await Oz({portfolioId:U,...ye}),await it()},[it]),Nr=N.useCallback(async U=>{await Tz(U),await it()},[it]),qr=N.useCallback(async(U,ye)=>{const xt=await Pz({...U,transactionType:ye});return await it(),xt},[it]),Xi=N.useCallback(async U=>{const ye=await Iz(U);return await it(),ye},[it]),Tc=N.useCallback(async U=>{const ye=await Rz(U);return await it(),ye},[it]),_x=N.useCallback(async(U,ye)=>{await Lz(U,ye),await it()},[it]),Ox=N.useCallback(async U=>{await Qz(U),await it()},[it]),tf=N.useCallback(async U=>{await Xz(U),await it()},[it]),Qs=N.useCallback(async U=>{const ye=await Fz(U);return de(xt=>{const tn=xt||[],Aa=tn.findIndex(bn=>bn.fundCode===U.fundCode),Gr={};U.equity&&(Gr.Equity=U.equity),U.debt&&(Gr.Debt=U.debt),U.cash&&(Gr.Cash=U.cash),U.realEstate&&(Gr["Real Estate"]=U.realEstate),U.commodities&&(Gr.Commodities=U.commodities),U.customAsset&&Object.entries(U.customAsset).forEach(([bn,ka])=>{ka>0&&(Gr[bn]=ka)});const rn={};U.giantCap&&(rn.Giant=U.giantCap),U.largeCap&&(rn.Large=U.largeCap),U.midCap&&(rn.Mid=U.midCap),U.smallCap&&(rn.Small=U.smallCap),U.microCap&&(rn.Micro=U.microCap),U.customCap&&Object.entries(U.customCap).forEach(([bn,ka])=>{ka>0&&(rn[bn]=ka)});const Ql={};U.geoIndia&&(Ql.India=U.geoIndia),U.geoGlobal&&(Ql.Global=U.geoGlobal),U.customGeo&&Object.entries(U.customGeo).forEach(([bn,ka])=>{ka>0&&(Ql[bn]=ka)});const Ic={fundCode:U.fundCode,fundName:U.fundName,assetAllocation:Gr,equityAllocation:rn,geoAllocation:Ql};if(Aa>=0){const bn=[...tn];return bn[Aa]=Ic,bn}return[...tn,Ic]}),ye},[]),Pc=(m||[]).filter(U=>U.status==="Active"),Zi=(x||[]).filter(U=>U.status==="Active"),Ji=(b||[]).filter(U=>U.status==="Active");return s.jsx(GO.Provider,{value:{loading:n,isRefreshing:l,error:u,refreshData:ge,members:m,banks:x,investmentAccounts:b,insurancePolicies:y,liabilityList:C,otherInvList:A,activeMembers:Pc,activeBanks:Zi,activeInvestmentAccounts:Ji,addMember:$,updateMember:X,deleteMember:we,addBankAccount:Re,updateBankAccount:ne,deleteBankAccount:st,addInvestmentAccount:ze,updateInvestmentAccount:Te,deleteInvestmentAccount:We,addInsurance:Xe,updateInsurance:Jt,deleteInsurance:vt,addLiability:je,updateLiability:Ye,deleteLiability:Ee,addOtherInvestment:jt,updateOtherInvestment:er,deleteOtherInvestment:ur,goalList:Y,addGoal:gn,updateGoal:Dx,deleteGoal:Kd,reminderList:le,addReminder:Ec,updateReminder:Ks,deleteReminder:Ex,goalPortfolioMappings:B,updateGoalMappings:Qd,assetAllocations:ve,updateAssetAllocation:Qs,stockPortfolios:_,stockHoldings:P,stockTransactions:z,addStockPortfolio:Xd,updateStockPortfolio:Zd,deleteStockPortfolio:_c,buyStock:Oc,sellStock:Jd,mfPortfolios:F,mfHoldings:Z,mfTransactions:J,addMFPortfolio:ef,updateMFPortfolio:Ca,deleteMFPortfolio:Nr,investMF:qr,redeemMF:Xi,switchMF:Tc,updateHoldingAllocations:_x,deleteMFTransaction:Ox,editMFTransaction:tf,settings:Ne,updateSettings:Zt,refreshSettings:Xt,healthCheckCompleted:he,completeHealthCheck:G},children:e})}function mt(){return N.useContext(GO)}const KO=N.createContext();function bF({children:e}){const{activeMembers:t}=mt(),[r,n]=N.useState("all"),a=t.find(l=>l.memberId===r)||null;return s.jsx(KO.Provider,{value:{selectedMember:r,setSelectedMember:n,member:a,familyMembers:t},children:e})}function $r(){return N.useContext(KO)}const QO=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();const yF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const wF=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());const IC=e=>{const t=wF(e);return t.charAt(0).toUpperCase()+t.slice(1)};var NF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jF=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const SF=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:l,iconNode:c,...u},f)=>N.createElement("svg",{ref:f,...NF,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:QO("lucide",a),...!l&&!jF(u)&&{"aria-hidden":"true"},...u},[...c.map(([m,h])=>N.createElement(m,h)),...Array.isArray(l)?l:[l]]));const De=(e,t)=>{const r=N.forwardRef(({className:n,...a},l)=>N.createElement(SF,{ref:l,iconNode:t,className:QO(`lucide-${yF(IC(e))}`,`lucide-${e}`,n),...a}));return r.displayName=IC(e),r};const CF=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],AF=De("arrow-down",CF);const kF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],MF=De("arrow-left",kF);const DF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],EF=De("arrow-right",DF);const _F=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],OF=De("arrow-up-down",_F);const TF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],PF=De("bell-off",TF);const IF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],_h=De("bell",IF);const RF=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],XO=De("briefcase",RF);const LF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zF=De("calendar",LF);const FF=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Qu=De("chart-column",FF);const $F=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],RC=De("chart-pie",$F);const BF=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],yp=De("check",BF);const qF=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Il=De("chevron-down",qF);const HF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],UF=De("chevron-left",HF);const YF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xo=De("chevron-right",YF);const VF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],ZO=De("circle-arrow-down",VF);const GF=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],WF=De("circle-check-big",GF);const KF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],bc=De("circle-check",KF);const QF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],JO=De("circle-x",QF);const XF=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],e5=De("clipboard-check",XF);const ZF=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],JF=De("coffee",ZF);const e8=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],t8=De("construction",e8);const r8=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],n8=De("copy",r8);const a8=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Oh=De("credit-card",a8);const i8=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],s8=De("database",i8);const l8=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],o8=De("dollar-sign",l8);const c8=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],u8=De("ellipsis-vertical",c8);const d8=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],f8=De("ellipsis",d8);const m8=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wp=De("eye",m8);const p8=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Xu=De("eye-off",p8);const h8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],x8=De("file-spreadsheet",h8);const v8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],g8=De("file-text",v8);const b8=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],t5=De("funnel",b8);const y8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],w8=De("globe",y8);const N8=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],td=De("heart",N8);const j8=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],S8=De("indian-rupee",j8);const C8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],A8=De("info",C8);const k8=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],M8=De("landmark",k8);const D8=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],r5=De("layers",D8);const E8=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],n5=De("link-2",E8);const _8=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Zu=De("list",_8);const O8=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],w1=De("loader-circle",O8);const T8=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Q0=De("lock",T8);const P8=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],I8=De("log-in",P8);const R8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],a5=De("log-out",R8);const L8=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],z8=De("mail",L8);const F8=[["path",{d:"M5 12h14",key:"1ays0h"}]],LC=De("minus",F8);const $8=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],ry=De("moon",$8);const B8=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],i5=De("package",B8);const q8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ja=De("pencil",q8);const H8=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],U8=De("piggy-bank",H8);const Y8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Fr=De("plus",Y8);const V8=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Vo=De("refresh-cw",V8);const G8=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],X0=De("repeat-2",G8);const W8=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],K8=De("repeat",W8);const Q8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],s5=De("save",Q8);const X8=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],N1=De("search",X8);const Z8=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],l5=De("settings-2",Z8);const J8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],o5=De("settings",J8);const e$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],t$=De("shield-alert",e$);const r$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ju=De("shield",r$);const n$=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Np=De("sun",n$);const a$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Th=De("target",a$);const i$=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],rd=De("trash-2",i$);const s$=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],jp=De("trending-down",s$);const l$=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Zo=De("trending-up",l$);const o$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ts=De("triangle-alert",o$);const c$=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],zC=De("trophy",c$);const u$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],d$=De("user",u$);const f$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Jo=De("users",f$);const m$=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],np=De("wallet",m$);const p$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ps=De("x",p$);const h$=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ny=De("zap",h$),c5=N.createContext();function x$({children:e}){const[t,r]=N.useState([]),[n,a]=N.useState(null),l=N.useRef(0),c=N.useCallback((h,x="success",v=3e3)=>{const b=++l.current;r(S=>[...S,{id:b,message:h,type:x}]),setTimeout(()=>r(S=>S.filter(y=>y.id!==b)),v)},[]),u=N.useCallback(h=>{r(x=>x.filter(v=>v.id!==h))},[]),f=N.useCallback((h="Saving...")=>{a(h)},[]),m=N.useCallback(()=>{a(null)},[]);return s.jsxs(c5.Provider,{value:{showToast:c,showBlockUI:f,hideBlockUI:m},children:[e,n&&s.jsx("div",{className:"fixed inset-0 z-[200] bg-black/50 backdrop-blur-sm flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-3 bg-[var(--bg-card)] rounded-xl px-8 py-6 border border-[var(--border)] shadow-2xl",children:[s.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),s.jsx("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:n})]})}),t.length>0&&s.jsx("div",{className:"fixed bottom-20 sm:bottom-6 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-2 items-center pointer-events-none",children:t.map(h=>s.jsxs("div",{className:`pointer-events-auto flex items-center gap-2 px-4 py-2.5 rounded-lg shadow-xl border text-sm font-medium animate-fade-in ${h.type==="error"?"bg-rose-500/15 border-rose-500/30 text-[var(--accent-rose)]":h.type==="warning"?"bg-amber-500/15 border-amber-500/30 text-amber-400":"bg-emerald-500/15 border-emerald-500/30 text-emerald-400"}`,style:{backdropFilter:"blur(12px)"},children:[h.type==="error"?s.jsx(JO,{size:16}):h.type==="warning"?s.jsx(Ts,{size:16}):s.jsx(bc,{size:16}),s.jsx("span",{children:h.message}),s.jsx("button",{onClick:()=>u(h.id),className:"ml-1 opacity-60 hover:opacity-100 transition-opacity",children:s.jsx(Ps,{size:14})})]},h.id))})]})}function Ja(){return N.useContext(c5)}const u5=N.createContext();function v$({children:e}){const[t,r]=N.useState(null),n=N.useRef(null),a=N.useCallback((u,{title:f="Confirm",confirmLabel:m="Yes, proceed",cancelLabel:h="Cancel",destructive:x=!0}={})=>new Promise(v=>{n.current=v,r({message:u,title:f,confirmLabel:m,cancelLabel:h,destructive:x})}),[]);function l(){n.current?.(!0),n.current=null,r(null)}function c(){n.current?.(!1),n.current=null,r(null)}return s.jsxs(u5.Provider,{value:{confirm:a},children:[e,t&&s.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center px-4",onClick:c,children:[s.jsx("div",{className:"fixed inset-0 bg-black/60"}),s.jsxs("div",{className:"relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full max-w-sm p-5 animate-fade-in",onClick:u=>u.stopPropagation(),children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx("span",{className:`shrink-0 w-9 h-9 rounded-full flex items-center justify-center ${t.destructive?"bg-rose-500/15":"bg-violet-500/15"}`,children:s.jsx(Ts,{size:18,className:t.destructive?"text-[var(--accent-rose)]":"text-violet-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-[var(--text-primary)]",children:t.title}),s.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1 leading-relaxed",children:t.message})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:c,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:t.cancelLabel}),s.jsx("button",{onClick:l,autoFocus:!0,className:`px-4 py-2 text-xs font-bold text-white rounded-lg transition-colors ${t.destructive?"bg-rose-600 hover:bg-rose-500":"bg-violet-600 hover:bg-violet-500"}`,children:t.confirmLabel})]})]})]})]})}function ei(){return N.useContext(u5).confirm}const d5=N.createContext(),FC="cf-mask-data";function g$(e){return!e||e.length<4?"":""+e.slice(-4)}function b$(e){return!e||e.length<4?"  ":"  "+e.slice(-4)}function y$(e){return!e||e.length<3?"":""+e.slice(-3)}function w$(e){if(!e)return"@";const[t,r]=e.split("@");if(!r)return"@";const n=t.charAt(0)+"",a=r.split("."),l=a[0].charAt(0)+""+(a.length>1?"."+a.slice(1).join("."):"");return n+"@"+l}function N$(e){return!e||e.length<4?"":""+e.slice(-4)}function j$(e){return!e||e.length<3?"":""+e.slice(-3)}function S$(e){return!e||e.length<4?"":""+e.slice(-4)}function C$(e){return!e||e.length<2?"":e.split(/\s+/).map(t=>t.charAt(0)+"").join(" ")}const A$={pan:g$,aadhaar:b$,mobile:y$,email:w$,account:N$,clientId:j$,policy:S$,name:C$};function k$({children:e}){const[t,r]=N.useState(()=>{try{return localStorage.getItem(FC)==="true"}catch{return!1}});N.useEffect(()=>{try{localStorage.setItem(FC,String(t))}catch{}},[t]);const n=N.useCallback(()=>r(l=>!l),[]),a=N.useCallback((l,c)=>{if(!t||l==null||l==="")return l;const u=A$[c];return u?u(String(l)):l},[t]);return s.jsx(d5.Provider,{value:{masked:t,toggleMask:n,mv:a},children:e})}function ti(){return N.useContext(d5)}function f5(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=f5(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function at(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=f5(e))&&(n&&(n+=" "),n+=t);return n}var M$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function j1(e){if(typeof e!="string")return!1;var t=M$;return t.includes(e)}var D$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],E$=new Set(D$);function m5(e){return typeof e!="string"?!1:E$.has(e)}function p5(e){return typeof e=="string"&&e.startsWith("data-")}function ec(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(m5(r)||p5(r))&&(t[r]=e[r]);return t}function ay(e){if(e==null)return null;if(N.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ec(t)}return typeof e=="object"&&!Array.isArray(e)?ec(e):null}function ea(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(m5(r)||p5(r)||j1(r))&&(t[r]=e[r]);return t}var _$=["children","width","height","viewBox","className","style","title","desc"];function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iy.apply(null,arguments)}function O$(e,t){if(e==null)return{};var r,n,a=T$(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function T$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var h5=N.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:l,className:c,style:u,title:f,desc:m}=e,h=O$(e,_$),x=l||{width:n,height:a,x:0,y:0},v=at("recharts-surface",c);return N.createElement("svg",iy({},ea(h),{className:v,width:n,height:a,style:u,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),N.createElement("title",null,f),N.createElement("desc",null,m),r)}),P$=["children","className"];function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sy.apply(null,arguments)}function I$(e,t){if(e==null)return{};var r,n,a=R$(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function R$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Is=N.forwardRef((e,t)=>{var{children:r,className:n}=e,a=I$(e,P$),l=at("recharts-layer",n);return N.createElement("g",sy({className:l},ea(a),{ref:t}),r)}),L$=N.createContext(null);function $t(e){return function(){return e}}const x5=Math.cos,Sp=Math.sin,Sa=Math.sqrt,Cp=Math.PI,Ph=2*Cp,ly=Math.PI,oy=2*ly,vl=1e-6,z$=oy-vl;function v5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function F$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return v5;const r=10**t;return function(n){this._+=n[0];for(let a=1,l=n.length;a<l;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class $${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?v5:F$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,l,c){this._append`C${+t},${+r},${+n},${+a},${this._x1=+l},${this._y1=+c}`}arcTo(t,r,n,a,l){if(t=+t,r=+r,n=+n,a=+a,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,u=this._y1,f=n-t,m=a-r,h=c-t,x=u-r,v=h*h+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>vl)if(!(Math.abs(x*f-m*h)>vl)||!l)this._append`L${this._x1=t},${this._y1=r}`;else{let b=n-c,S=a-u,y=f*f+m*m,w=b*b+S*S,C=Math.sqrt(y),k=Math.sqrt(v),A=l*Math.tan((ly-Math.acos((y+v-w)/(2*C*k)))/2),M=A/k,_=A/C;Math.abs(M-1)>vl&&this._append`L${t+M*h},${r+M*x}`,this._append`A${l},${l},0,0,${+(x*b>h*S)},${this._x1=t+_*f},${this._y1=r+_*m}`}}arc(t,r,n,a,l,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),f=n*Math.sin(a),m=t+u,h=r+f,x=1^c,v=c?a-l:l-a;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>vl||Math.abs(this._y1-h)>vl)&&this._append`L${m},${h}`,n&&(v<0&&(v=v%oy+oy),v>z$?this._append`A${n},${n},0,1,${x},${t-u},${r-f}A${n},${n},0,1,${x},${this._x1=m},${this._y1=h}`:v>vl&&this._append`A${n},${n},0,${+(v>=ly)},${x},${this._x1=t+n*Math.cos(l)},${this._y1=r+n*Math.sin(l)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function S1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new $$(t)}function C1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function g5(e){this._context=e}g5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ih(e){return new g5(e)}function b5(e){return e[0]}function y5(e){return e[1]}function w5(e,t){var r=$t(!0),n=null,a=Ih,l=null,c=S1(u);e=typeof e=="function"?e:e===void 0?b5:$t(e),t=typeof t=="function"?t:t===void 0?y5:$t(t);function u(f){var m,h=(f=C1(f)).length,x,v=!1,b;for(n==null&&(l=a(b=c())),m=0;m<=h;++m)!(m<h&&r(x=f[m],m,f))===v&&((v=!v)?l.lineStart():l.lineEnd()),v&&l.point(+e(x,m,f),+t(x,m,f));if(b)return l=null,b+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:$t(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:$t(+f),u):t},u.defined=function(f){return arguments.length?(r=typeof f=="function"?f:$t(!!f),u):r},u.curve=function(f){return arguments.length?(a=f,n!=null&&(l=a(n)),u):a},u.context=function(f){return arguments.length?(f==null?n=l=null:l=a(n=f),u):n},u}function xm(e,t,r){var n=null,a=$t(!0),l=null,c=Ih,u=null,f=S1(m);e=typeof e=="function"?e:e===void 0?b5:$t(+e),t=typeof t=="function"?t:$t(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?y5:$t(+r);function m(x){var v,b,S,y=(x=C1(x)).length,w,C=!1,k,A=new Array(y),M=new Array(y);for(l==null&&(u=c(k=f())),v=0;v<=y;++v){if(!(v<y&&a(w=x[v],v,x))===C)if(C=!C)b=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=v-1;S>=b;--S)u.point(A[S],M[S]);u.lineEnd(),u.areaEnd()}C&&(A[v]=+e(w,v,x),M[v]=+t(w,v,x),u.point(n?+n(w,v,x):A[v],r?+r(w,v,x):M[v]))}if(k)return u=null,k+""||null}function h(){return w5().defined(a).curve(c).context(l)}return m.x=function(x){return arguments.length?(e=typeof x=="function"?x:$t(+x),n=null,m):e},m.x0=function(x){return arguments.length?(e=typeof x=="function"?x:$t(+x),m):e},m.x1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:$t(+x),m):n},m.y=function(x){return arguments.length?(t=typeof x=="function"?x:$t(+x),r=null,m):t},m.y0=function(x){return arguments.length?(t=typeof x=="function"?x:$t(+x),m):t},m.y1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:$t(+x),m):r},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(r)},m.lineX1=function(){return h().x(n).y(t)},m.defined=function(x){return arguments.length?(a=typeof x=="function"?x:$t(!!x),m):a},m.curve=function(x){return arguments.length?(c=x,l!=null&&(u=c(l)),m):c},m.context=function(x){return arguments.length?(x==null?l=u=null:u=c(l=x),m):l},m}class N5{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function B$(e){return new N5(e,!0)}function q$(e){return new N5(e,!1)}const A1={draw(e,t){const r=Sa(t/Cp);e.moveTo(r,0),e.arc(0,0,r,0,Ph)}},H$={draw(e,t){const r=Sa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},j5=Sa(1/3),U$=j5*2,Y$={draw(e,t){const r=Sa(t/U$),n=r*j5;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},V$={draw(e,t){const r=Sa(t),n=-r/2;e.rect(n,n,r,r)}},G$=.8908130915292852,S5=Sp(Cp/10)/Sp(7*Cp/10),W$=Sp(Ph/10)*S5,K$=-x5(Ph/10)*S5,Q$={draw(e,t){const r=Sa(t*G$),n=W$*r,a=K$*r;e.moveTo(0,-r),e.lineTo(n,a);for(let l=1;l<5;++l){const c=Ph*l/5,u=x5(c),f=Sp(c);e.lineTo(f*r,-u*r),e.lineTo(u*n-f*a,f*n+u*a)}e.closePath()}},Z0=Sa(3),X$={draw(e,t){const r=-Sa(t/(Z0*3));e.moveTo(0,r*2),e.lineTo(-Z0*r,-r),e.lineTo(Z0*r,-r),e.closePath()}},Kn=-.5,Qn=Sa(3)/2,cy=1/Sa(12),Z$=(cy/2+1)*3,J$={draw(e,t){const r=Sa(t/Z$),n=r/2,a=r*cy,l=n,c=r*cy+r,u=-l,f=c;e.moveTo(n,a),e.lineTo(l,c),e.lineTo(u,f),e.lineTo(Kn*n-Qn*a,Qn*n+Kn*a),e.lineTo(Kn*l-Qn*c,Qn*l+Kn*c),e.lineTo(Kn*u-Qn*f,Qn*u+Kn*f),e.lineTo(Kn*n+Qn*a,Kn*a-Qn*n),e.lineTo(Kn*l+Qn*c,Kn*c-Qn*l),e.lineTo(Kn*u+Qn*f,Kn*f-Qn*u),e.closePath()}};function eB(e,t){let r=null,n=S1(a);e=typeof e=="function"?e:$t(e||A1),t=typeof t=="function"?t:$t(t===void 0?64:+t);function a(){let l;if(r||(r=l=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),l)return r=null,l+""||null}return a.type=function(l){return arguments.length?(e=typeof l=="function"?l:$t(l),a):e},a.size=function(l){return arguments.length?(t=typeof l=="function"?l:$t(+l),a):t},a.context=function(l){return arguments.length?(r=l??null,a):r},a}function Ap(){}function kp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function C5(e){this._context=e}C5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tB(e){return new C5(e)}function A5(e){this._context=e}A5.prototype={areaStart:Ap,areaEnd:Ap,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:kp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rB(e){return new A5(e)}function k5(e){this._context=e}k5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:kp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nB(e){return new k5(e)}function M5(e){this._context=e}M5.prototype={areaStart:Ap,areaEnd:Ap,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function aB(e){return new M5(e)}function $C(e){return e<0?-1:1}function BC(e,t,r){var n=e._x1-e._x0,a=t-e._x1,l=(e._y1-e._y0)/(n||a<0&&-0),c=(r-e._y1)/(a||n<0&&-0),u=(l*a+c*n)/(n+a);return($C(l)+$C(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(u))||0}function qC(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function J0(e,t,r){var n=e._x0,a=e._y0,l=e._x1,c=e._y1,u=(l-n)/3;e._context.bezierCurveTo(n+u,a+u*t,l-u,c-u*r,l,c)}function Mp(e){this._context=e}Mp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:J0(this,this._t0,qC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,J0(this,qC(this,r=BC(this,e,t)),r);break;default:J0(this,this._t0,r=BC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function D5(e){this._context=new E5(e)}(D5.prototype=Object.create(Mp.prototype)).point=function(e,t){Mp.prototype.point.call(this,t,e)};function E5(e){this._context=e}E5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,l){this._context.bezierCurveTo(t,e,n,r,l,a)}};function iB(e){return new Mp(e)}function sB(e){return new D5(e)}function _5(e){this._context=e}_5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=HC(e),a=HC(t),l=0,c=1;c<r;++l,++c)this._context.bezierCurveTo(n[0][l],a[0][l],n[1][l],a[1][l],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function HC(e){var t,r=e.length-1,n,a=new Array(r),l=new Array(r),c=new Array(r);for(a[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,l[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/l[t-1],l[t]-=n,c[t]-=n*c[t-1];for(a[r-1]=c[r-1]/l[r-1],t=r-2;t>=0;--t)a[t]=(c[t]-a[t+1])/l[t];for(l[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)l[t]=2*e[t+1]-a[t+1];return[a,l]}function lB(e){return new _5(e)}function Rh(e,t){this._context=e,this._t=t}Rh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function oB(e){return new Rh(e,.5)}function cB(e){return new Rh(e,0)}function uB(e){return new Rh(e,1)}function Rl(e,t){if((c=e.length)>1)for(var r=1,n,a,l=e[t[0]],c,u=l.length;r<c;++r)for(a=l,l=e[t[r]],n=0;n<u;++n)l[n][1]+=l[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function uy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function dB(e,t){return e[t]}function fB(e){const t=[];return t.key=e,t}function mB(){var e=$t([]),t=uy,r=Rl,n=dB;function a(l){var c=Array.from(e.apply(this,arguments),fB),u,f=c.length,m=-1,h;for(const x of l)for(u=0,++m;u<f;++u)(c[u][m]=[0,+n(x,c[u].key,m,l)]).data=x;for(u=0,h=C1(t(c));u<f;++u)c[h[u]].index=u;return r(c,h),c}return a.keys=function(l){return arguments.length?(e=typeof l=="function"?l:$t(Array.from(l)),a):e},a.value=function(l){return arguments.length?(n=typeof l=="function"?l:$t(+l),a):n},a.order=function(l){return arguments.length?(t=l==null?uy:typeof l=="function"?l:$t(Array.from(l)),a):t},a.offset=function(l){return arguments.length?(r=l??Rl,a):r},a}function pB(e,t){if((n=e.length)>0){for(var r,n,a=0,l=e[0].length,c;a<l;++a){for(c=r=0;r<n;++r)c+=e[r][a][1]||0;if(c)for(r=0;r<n;++r)e[r][a][1]/=c}Rl(e,t)}}function hB(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,l=n.length;r<l;++r){for(var c=0,u=0;c<a;++c)u+=e[c][r][1]||0;n[r][1]+=n[r][0]=-u/2}Rl(e,t)}}function xB(e,t){if(!(!((c=e.length)>0)||!((l=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,l,c;n<l;++n){for(var u=0,f=0,m=0;u<c;++u){for(var h=e[t[u]],x=h[n][1]||0,v=h[n-1][1]||0,b=(x-v)/2,S=0;S<u;++S){var y=e[t[S]],w=y[n][1]||0,C=y[n-1][1]||0;b+=w-C}f+=x,m+=b*x}a[n-1][1]+=a[n-1][0]=r,f&&(r-=m/f)}a[n-1][1]+=a[n-1][0]=r,Rl(e,t)}}var eg={},tg={},UC;function vB(){return UC||(UC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(tg)),tg}var rg={},YC;function O5(){return YC||(YC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(rg)),rg}var ng={},VC;function k1(){return VC||(VC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(ng)),ng}var ag={},ig={},GC;function gB(){return GC||(GC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(ig)),ig}var WC;function M1(){return WC||(WC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gB(),r=k1();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const l=[],c=a.length;if(c===0)return l;let u=0,f="",m="",h=!1;for(a.charCodeAt(0)===46&&(l.push(""),u++);u<c;){const x=a[u];m?x==="\\"&&u+1<c?(u++,f+=a[u]):x===m?m="":f+=x:h?x==='"'||x==="'"?m=x:x==="]"?(h=!1,l.push(f),f=""):f+=x:x==="["?(h=!0,f&&(l.push(f),f="")):x==="."?f&&(l.push(f),f=""):f+=x,u++}return f&&l.push(f),l}e.toPath=n})(ag)),ag}var KC;function D1(){return KC||(KC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vB(),r=O5(),n=k1(),a=M1();function l(u,f,m){if(u==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?r.isDeepKey(f)?l(u,a.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const h=u[f];return h===void 0?m:h}default:{if(Array.isArray(f))return c(u,f,m);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?m:h}}}function c(u,f,m){if(f.length===0)return m;let h=u;for(let x=0;x<f.length;x++){if(h==null||t.isUnsafeProperty(f[x]))return m;h=h[f[x]]}return h===void 0?m:h}e.get=l})(eg)),eg}var sg,QC;function bB(){return QC||(QC=1,sg=D1().get),sg}var yB=bB();const nd=Za(yB);var wB=4;function ks(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wB,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function ir(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,l,c)=>{var u=r[c-1];return typeof u=="string"?a+u+l:u!==void 0?a+ks(u)+l:a+l},"")}var pn=e=>e===0?0:e>0?1:-1,Ti=e=>typeof e=="number"&&e!=+e,Ll=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Qe=e=>(typeof e=="number"||e instanceof Number)&&!Ti(e),Pi=e=>Qe(e)||typeof e=="string",NB=0,ad=e=>{var t=++NB;return"".concat(e||"").concat(t)},Tn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(t)&&typeof t!="string")return n;var l;if(Ll(t)){if(r==null)return n;var c=t.indexOf("%");l=r*parseFloat(t.slice(0,c))/100}else l=+t;return Ti(l)&&(l=n),a&&r!=null&&l>r&&(l=r),l},T5=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function ua(e,t,r){return Qe(e)&&Qe(t)?ks(e+r*(t-e)):t}function jB(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):nd(n,t))===r)}var Rn=e=>e===null||typeof e>"u",Cd=e=>Rn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function $a(e){return e!=null}function Ad(){}var SB=["type","size","sizeType"];function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dy.apply(null,arguments)}function XC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XC(Object(r),!0).forEach(function(n){CB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CB(e,t,r){return(t=AB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AB(e){var t=kB(e,"string");return typeof t=="symbol"?t:t+""}function kB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MB(e,t){if(e==null)return{};var r,n,a=DB(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function DB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var P5={symbolCircle:A1,symbolCross:H$,symbolDiamond:Y$,symbolSquare:V$,symbolStar:Q$,symbolTriangle:X$,symbolWye:J$},EB=Math.PI/180,_B=e=>{var t="symbol".concat(Cd(e));return P5[t]||A1},OB=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*EB;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},TB=(e,t)=>{P5["symbol".concat(Cd(e))]=t},I5=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=MB(e,SB),l=ZC(ZC({},a),{},{type:t,size:r,sizeType:n}),c="circle";typeof t=="string"&&(c=t);var u=()=>{var v=_B(c),b=eB().type(v).size(OB(r,n,c)),S=b();if(S!==null)return S},{className:f,cx:m,cy:h}=l,x=ea(l);return Qe(m)&&Qe(h)&&Qe(r)?N.createElement("path",dy({},x,{className:at("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:u()})):null};I5.registerSymbol=TB;var R5=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,PB=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{j1(a)&&(n[a]=(l=>r[a](r,l)))}),n},IB=(e,t,r)=>n=>(e(t,r,n),null),RB=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var l=e[a];j1(a)&&typeof l=="function"&&(n||(n={}),n[a]=IB(l,t,r))}),n};function JC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JC(Object(r),!0).forEach(function(n){zB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zB(e,t,r){return(t=FB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FB(e){var t=$B(e,"string");return typeof t=="symbol"?t:t+""}function $B(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ri(e,t){var r=LB({},e),n=t,a=Object.keys(t),l=a.reduce((c,u)=>(c[u]===void 0&&n[u]!==void 0&&(c[u]=n[u]),c),r);return l}var lg={},og={},eA;function BB(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let l=0;l<r.length;l++){const c=r[l],u=n(c,l,r);a.has(u)||a.set(u,c)}return Array.from(a.values())}e.uniqBy=t})(og)),og}var cg={},tA;function qB(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(cg)),cg}var ug={},rA;function L5(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(ug)),ug}var dg={},fg={},mg={},nA;function HB(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(mg)),mg}var aA;function E1(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HB();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(fg)),fg}var pg={},iA;function UB(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(pg)),pg}var sA;function YB(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E1(),r=UB();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(dg)),dg}var hg={},xg={},lA;function VB(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D1();function r(n){return function(a){return t.get(a,n)}}e.property=r})(xg)),xg}var vg={},gg={},bg={},yg={},oA;function z5(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(yg)),yg}var wg={},cA;function F5(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(wg)),wg}var Ng={},uA;function $5(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(Ng)),Ng}var dA;function GB(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z5(),r=F5(),n=$5();function a(h,x,v){return typeof v!="function"?a(h,x,()=>{}):l(h,x,function b(S,y,w,C,k,A){const M=v(S,y,w,C,k,A);return M!==void 0?!!M:l(S,y,b,A)},new Map)}function l(h,x,v,b){if(x===h)return!0;switch(typeof x){case"object":return c(h,x,v,b);case"function":return Object.keys(x).length>0?l(h,{...x},v,b):n.isEqualsSameValueZero(h,x);default:return t.isObject(h)?typeof x=="string"?x==="":!0:n.isEqualsSameValueZero(h,x)}}function c(h,x,v,b){if(x==null)return!0;if(Array.isArray(x))return f(h,x,v,b);if(x instanceof Map)return u(h,x,v,b);if(x instanceof Set)return m(h,x,v,b);const S=Object.keys(x);if(h==null||r.isPrimitive(h))return S.length===0;if(S.length===0)return!0;if(b?.has(x))return b.get(x)===h;b?.set(x,h);try{for(let y=0;y<S.length;y++){const w=S[y];if(!r.isPrimitive(h)&&!(w in h)||x[w]===void 0&&h[w]!==void 0||x[w]===null&&h[w]!==null||!v(h[w],x[w],w,h,x,b))return!1}return!0}finally{b?.delete(x)}}function u(h,x,v,b){if(x.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,y]of x.entries()){const w=h.get(S);if(v(w,y,S,h,x,b)===!1)return!1}return!0}function f(h,x,v,b){if(x.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let y=0;y<x.length;y++){const w=x[y];let C=!1;for(let k=0;k<h.length;k++){if(S.has(k))continue;const A=h[k];let M=!1;if(v(A,w,y,h,x,b)&&(M=!0),M){S.add(k),C=!0;break}}if(!C)return!1}return!0}function m(h,x,v,b){return x.size===0?!0:h instanceof Set?f([...h],[...x],v,b):!1}e.isMatchWith=a,e.isSetMatch=m})(bg)),bg}var fA;function B5(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GB();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(gg)),gg}var jg={},Sg={},Cg={},mA;function WB(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Cg)),Cg}var Ag={},pA;function _1(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Ag)),Ag}var kg={},hA;function q5(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",l="[object Arguments]",c="[object Symbol]",u="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",x="[object Function]",v="[object ArrayBuffer]",b="[object Object]",S="[object Error]",y="[object DataView]",w="[object Uint8Array]",C="[object Uint8ClampedArray]",k="[object Uint16Array]",A="[object Uint32Array]",M="[object BigUint64Array]",_="[object Int8Array]",T="[object Int16Array]",P="[object Int32Array]",O="[object BigInt64Array]",z="[object Float32Array]",R="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=M,e.booleanTag=a,e.dataViewTag=y,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=z,e.float64ArrayTag=R,e.functionTag=x,e.int16ArrayTag=T,e.int32ArrayTag=P,e.int8ArrayTag=_,e.mapTag=f,e.numberTag=n,e.objectTag=b,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=k,e.uint32ArrayTag=A,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=C})(kg)),kg}var Mg={},xA;function KB(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Mg)),Mg}var vA;function H5(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WB(),r=_1(),n=q5(),a=F5(),l=KB();function c(h,x){return u(h,void 0,h,new Map,x)}function u(h,x,v,b=new Map,S=void 0){const y=S?.(h,x,v,b);if(y!==void 0)return y;if(a.isPrimitive(h))return h;if(b.has(h))return b.get(h);if(Array.isArray(h)){const w=new Array(h.length);b.set(h,w);for(let C=0;C<h.length;C++)w[C]=u(h[C],C,v,b,S);return Object.hasOwn(h,"index")&&(w.index=h.index),Object.hasOwn(h,"input")&&(w.input=h.input),w}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const w=new RegExp(h.source,h.flags);return w.lastIndex=h.lastIndex,w}if(h instanceof Map){const w=new Map;b.set(h,w);for(const[C,k]of h)w.set(C,u(k,C,v,b,S));return w}if(h instanceof Set){const w=new Set;b.set(h,w);for(const C of h)w.add(u(C,void 0,v,b,S));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const w=new(Object.getPrototypeOf(h)).constructor(h.length);b.set(h,w);for(let C=0;C<h.length;C++)w[C]=u(h[C],C,v,b,S);return w}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const w=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return b.set(h,w),f(w,h,v,b,S),w}if(typeof File<"u"&&h instanceof File){const w=new File([h],h.name,{type:h.type});return b.set(h,w),f(w,h,v,b,S),w}if(typeof Blob<"u"&&h instanceof Blob){const w=new Blob([h],{type:h.type});return b.set(h,w),f(w,h,v,b,S),w}if(h instanceof Error){const w=new h.constructor;return b.set(h,w),w.message=h.message,w.name=h.name,w.stack=h.stack,w.cause=h.cause,f(w,h,v,b,S),w}if(h instanceof Boolean){const w=new Boolean(h.valueOf());return b.set(h,w),f(w,h,v,b,S),w}if(h instanceof Number){const w=new Number(h.valueOf());return b.set(h,w),f(w,h,v,b,S),w}if(h instanceof String){const w=new String(h.valueOf());return b.set(h,w),f(w,h,v,b,S),w}if(typeof h=="object"&&m(h)){const w=Object.create(Object.getPrototypeOf(h));return b.set(h,w),f(w,h,v,b,S),w}return h}function f(h,x,v=h,b,S){const y=[...Object.keys(x),...t.getSymbols(x)];for(let w=0;w<y.length;w++){const C=y[w],k=Object.getOwnPropertyDescriptor(h,C);(k==null||k.writable)&&(h[C]=u(x[C],C,v,b,S))}}function m(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=u,e.copyProperties=f})(Sg)),Sg}var gA;function QB(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H5();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(jg)),jg}var bA;function XB(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B5(),r=QB();function n(a){return a=r.cloneDeep(a),l=>t.isMatch(l,a)}e.matches=n})(vg)),vg}var Dg={},Eg={},_g={},yA;function ZB(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H5(),r=_1(),n=q5();function a(l,c){return t.cloneDeepWith(l,(u,f,m,h)=>{const x=c?.(u,f,m,h);if(x!==void 0)return x;if(typeof l=="object"){if(r.getTag(l)===n.objectTag&&typeof l.constructor!="function"){const v={};return h.set(l,v),t.copyProperties(v,l,m,h),v}switch(Object.prototype.toString.call(l)){case n.numberTag:case n.stringTag:case n.booleanTag:{const v=new l.constructor(l?.valueOf());return t.copyProperties(v,l),v}case n.argumentsTag:{const v={};return t.copyProperties(v,l),v.length=l.length,v[Symbol.iterator]=l[Symbol.iterator],v}default:return}}})}e.cloneDeepWith=a})(_g)),_g}var wA;function JB(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZB();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Eg)),Eg}var Og={},Tg={},NA;function U5(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Tg)),Tg}var Pg={},jA;function eq(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_1();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Pg)),Pg}var SA;function tq(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O5(),r=U5(),n=eq(),a=M1();function l(c,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&c?.[u]==null?f=a.toPath(u):f=[u],f.length===0)return!1;let m=c;for(let h=0;h<f.length;h++){const x=f[h];if((m==null||!Object.hasOwn(m,x))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(x)&&x<m.length))return!1;m=m[x]}return!0}e.has=l})(Og)),Og}var CA;function rq(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B5(),r=k1(),n=JB(),a=D1(),l=tq();function c(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return f=n.cloneDeep(f),function(m){const h=a.get(m,u);return h===void 0?l.has(m,u):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c})(Dg)),Dg}var AA;function nq(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L5(),r=VB(),n=XB(),a=rq();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=l})(hg)),hg}var kA;function aq(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BB(),r=qB(),n=L5(),a=YB(),l=nq();function c(u,f=n.identity){return a.isArrayLikeObject(u)?t.uniqBy(Array.from(u),r.ary(l.iteratee(f),1)):[]}e.uniqBy=c})(lg)),lg}var Ig,MA;function iq(){return MA||(MA=1,Ig=aq().uniqBy),Ig}var sq=iq();const DA=Za(sq);function lq(e,t,r){return t===!0?DA(e,r):typeof t=="function"?DA(e,t):e}var Rg={exports:{}},Lg={},zg={exports:{}},Fg={};var EA;function oq(){if(EA)return Fg;EA=1;var e=pc();function t(x,v){return x===v&&(x!==0||1/x===1/v)||x!==x&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function u(x,v){var b=v(),S=n({inst:{value:b,getSnapshot:v}}),y=S[0].inst,w=S[1];return l(function(){y.value=b,y.getSnapshot=v,f(y)&&w({inst:y})},[x,b,v]),a(function(){return f(y)&&w({inst:y}),x(function(){f(y)&&w({inst:y})})},[x]),c(b),b}function f(x){var v=x.getSnapshot;x=x.value;try{var b=v();return!r(x,b)}catch{return!0}}function m(x,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return Fg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Fg}var _A;function cq(){return _A||(_A=1,zg.exports=oq()),zg.exports}var OA;function uq(){if(OA)return Lg;OA=1;var e=pc(),t=cq();function r(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,u=e.useMemo,f=e.useDebugValue;return Lg.useSyncExternalStoreWithSelector=function(m,h,x,v,b){var S=l(null);if(S.current===null){var y={hasValue:!1,value:null};S.current=y}else y=S.current;S=u(function(){function C(T){if(!k){if(k=!0,A=T,T=v(T),b!==void 0&&y.hasValue){var P=y.value;if(b(P,T))return M=P}return M=T}if(P=M,n(A,T))return P;var O=v(T);return b!==void 0&&b(P,O)?(A=T,P):(A=T,M=O)}var k=!1,A,M,_=x===void 0?null:x;return[function(){return C(h())},_===null?void 0:function(){return C(_())}]},[h,x,v,b]);var w=a(m,S[0],S[1]);return c(function(){y.hasValue=!0,y.value=w},[w]),f(w),w},Lg}var TA;function dq(){return TA||(TA=1,Rg.exports=uq()),Rg.exports}var fq=dq(),O1=N.createContext(null),mq=e=>e,Cr=()=>{var e=N.useContext(O1);return e?e.store.dispatch:mq},ap=()=>{},pq=()=>ap,hq=(e,t)=>e===t;function tt(e){var t=N.useContext(O1),r=N.useMemo(()=>t?n=>{if(n!=null)return e(n)}:ap,[t,e]);return fq.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:pq,t?t.store.getState:ap,t?t.store.getState:ap,r,hq)}function xq(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function vq(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function gq(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var PA=e=>Array.isArray(e)?e:[e];function bq(e){const t=Array.isArray(e[0])?e[0]:e;return gq(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function yq(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var wq=class{constructor(e){this.value=e}deref(){return this.value}},Nq=typeof WeakRef<"u"?WeakRef:wq,jq=0,IA=1;function vm(){return{s:jq,v:void 0,o:null,p:null}}function Y5(e,t={}){let r=vm();const{resultEqualityCheck:n}=t;let a,l=0;function c(){let u=r;const{length:f}=arguments;for(let x=0,v=f;x<v;x++){const b=arguments[x];if(typeof b=="function"||typeof b=="object"&&b!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const y=S.get(b);y===void 0?(u=vm(),S.set(b,u)):u=y}else{let S=u.p;S===null&&(u.p=S=new Map);const y=S.get(b);y===void 0?(u=vm(),S.set(b,u)):u=y}}const m=u;let h;if(u.s===IA)h=u.v;else if(h=e.apply(null,arguments),l++,n){const x=a?.deref?.()??a;x!=null&&n(x,h)&&(h=x,l!==0&&l--),a=typeof h=="object"&&h!==null||typeof h=="function"?new Nq(h):h}return m.s=IA,m.v=h,h}return c.clearCache=()=>{r=vm(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function Sq(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let l=0,c=0,u,f={},m=a.pop();typeof m=="object"&&(f=m,m=a.pop()),xq(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...r,...f},{memoize:x,memoizeOptions:v=[],argsMemoize:b=Y5,argsMemoizeOptions:S=[]}=h,y=PA(v),w=PA(S),C=bq(a),k=x(function(){return l++,m.apply(null,arguments)},...y),A=b(function(){c++;const _=yq(C,arguments);return u=k.apply(null,_),u},...w);return Object.assign(A,{resultFunc:m,memoizedResultFunc:k,dependencies:C,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:x,argsMemoize:b})};return Object.assign(n,{withTypes:()=>n}),n}var ie=Sq(Y5),Cq=Object.assign((e,t=ie)=>{vq(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(l=>e[l]);return t(n,(...l)=>l.reduce((c,u,f)=>(c[r[f]]=u,c),{}))},{withTypes:()=>Cq}),$g={},Bg={},qg={},RA;function Aq(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,l)=>{if(n!==a){const c=t(n),u=t(a);if(c===u&&c===0){if(n<a)return l==="desc"?1:-1;if(n>a)return l==="desc"?-1:1}return l==="desc"?u-c:c-u}return 0};e.compareValues=r})(qg)),qg}var Hg={},Ug={},LA;function V5(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Ug)),Ug}var zA;function kq(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V5(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(n.test(l)||!r.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=a})(Hg)),Hg}var FA;function Mq(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Aq(),r=kq(),n=M1();function a(l,c,u,f){if(l==null)return[];u=f?void 0:u,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const m=(b,S)=>{let y=b;for(let w=0;w<S.length&&y!=null;++w)y=y[S[w]];return y},h=(b,S)=>S==null||b==null?S:typeof b=="object"&&"key"in b?Object.hasOwn(S,b.key)?S[b.key]:m(S,b.path):typeof b=="function"?b(S):Array.isArray(b)?m(S,b):typeof S=="object"?S[b]:S,x=c.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||r.isKey(b)?b:{key:b,path:n.toPath(b)}));return l.map(b=>({original:b,criteria:x.map(S=>h(S,b))})).slice().sort((b,S)=>{for(let y=0;y<x.length;y++){const w=t.compareValues(b.criteria[y],S.criteria[y],u[y]);if(w!==0)return w}return 0}).map(b=>b.original)}e.orderBy=a})(Bg)),Bg}var Yg={},$A;function Dq(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],l=Math.floor(n),c=(u,f)=>{for(let m=0;m<u.length;m++){const h=u[m];Array.isArray(h)&&f<l?c(h,f+1):a.push(h)}};return c(r,0),a}e.flatten=t})(Yg)),Yg}var Vg={},BA;function G5(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U5(),r=E1(),n=z5(),a=$5();function l(c,u,f){return n.isObject(f)&&(typeof u=="number"&&r.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?a.isEqualsSameValueZero(f[u],c):!1}e.isIterateeCall=l})(Vg)),Vg}var qA;function Eq(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mq(),r=Dq(),n=G5();function a(l,...c){const u=c.length;return u>1&&n.isIterateeCall(l,c[0],c[1])?c=[]:u>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,r.flatten(c),["asc"])}e.sortBy=a})($g)),$g}var Gg,HA;function _q(){return HA||(HA=1,Gg=Eq().sortBy),Gg}var Oq=_q();const Lh=Za(Oq);var W5=e=>e.legend.settings,Tq=e=>e.legend.size,Pq=e=>e.legend.payload;ie([Pq,W5],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Lh(n,r):n});var gm=1;function Iq(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=N.useState({height:0,left:0,top:0,width:0}),n=N.useCallback(a=>{if(a!=null){var l=a.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>gm||Math.abs(c.left-t.left)>gm||Math.abs(c.top-t.top)>gm||Math.abs(c.width-t.width)>gm)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Lr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Rq=typeof Symbol=="function"&&Symbol.observable||"@@observable",UA=Rq,Wg=()=>Math.random().toString(36).substring(7).split("").join("."),Lq={INIT:`@@redux/INIT${Wg()}`,REPLACE:`@@redux/REPLACE${Wg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Wg()}`},Dp=Lq;function T1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function K5(e,t,r){if(typeof e!="function")throw new Error(Lr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Lr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Lr(1));return r(K5)(e,t)}let n=e,a=t,l=new Map,c=l,u=0,f=!1;function m(){c===l&&(c=new Map,l.forEach((w,C)=>{c.set(C,w)}))}function h(){if(f)throw new Error(Lr(3));return a}function x(w){if(typeof w!="function")throw new Error(Lr(4));if(f)throw new Error(Lr(5));let C=!0;m();const k=u++;return c.set(k,w),function(){if(C){if(f)throw new Error(Lr(6));C=!1,m(),c.delete(k),l=null}}}function v(w){if(!T1(w))throw new Error(Lr(7));if(typeof w.type>"u")throw new Error(Lr(8));if(typeof w.type!="string")throw new Error(Lr(17));if(f)throw new Error(Lr(9));try{f=!0,a=n(a,w)}finally{f=!1}return(l=c).forEach(k=>{k()}),w}function b(w){if(typeof w!="function")throw new Error(Lr(10));n=w,v({type:Dp.REPLACE})}function S(){const w=x;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Lr(11));function k(){const M=C;M.next&&M.next(h())}return k(),{unsubscribe:w(k)}},[UA](){return this}}}return v({type:Dp.INIT}),{dispatch:v,subscribe:x,getState:h,replaceReducer:b,[UA]:S}}function zq(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Dp.INIT})>"u")throw new Error(Lr(12));if(typeof r(void 0,{type:Dp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Lr(13))})}function Q5(e){const t=Object.keys(e),r={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let a;try{zq(r)}catch(l){a=l}return function(c={},u){if(a)throw a;let f=!1;const m={};for(let h=0;h<n.length;h++){const x=n[h],v=r[x],b=c[x],S=v(b,u);if(typeof S>"u")throw u&&u.type,new Error(Lr(14));m[x]=S,f=f||S!==b}return f=f||n.length!==Object.keys(c).length,f?m:c}}function Ep(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Fq(...e){return t=>(r,n)=>{const a=t(r,n);let l=()=>{throw new Error(Lr(15))};const c={getState:a.getState,dispatch:(f,...m)=>l(f,...m)},u=e.map(f=>f(c));return l=Ep(...u)(a.dispatch),{...a,dispatch:l}}}function X5(e){return T1(e)&&"type"in e&&typeof e.type=="string"}var Z5=Symbol.for("immer-nothing"),YA=Symbol.for("immer-draftable"),Jr=Symbol.for("immer-state");function da(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var On=Object,tc=On.getPrototypeOf,_p="constructor",zh="prototype",fy="configurable",Op="enumerable",ip="writable",id="value",Ii=e=>!!e&&!!e[Jr];function ba(e){return e?J5(e)||$h(e)||!!e[YA]||!!e[_p]?.[YA]||Bh(e)||qh(e):!1}var $q=On[zh][_p].toString(),VA=new WeakMap;function J5(e){if(!e||!P1(e))return!1;const t=tc(e);if(t===null||t===On[zh])return!0;const r=On.hasOwnProperty.call(t,_p)&&t[_p];if(r===Object)return!0;if(!qo(r))return!1;let n=VA.get(r);return n===void 0&&(n=Function.toString.call(r),VA.set(r,n)),n===$q}function Fh(e,t,r=!0){kd(e)===0?(r?Reflect.ownKeys(e):On.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function kd(e){const t=e[Jr];return t?t.type_:$h(e)?1:Bh(e)?2:qh(e)?3:0}var GA=(e,t,r=kd(e))=>r===2?e.has(t):On[zh].hasOwnProperty.call(e,t),my=(e,t,r=kd(e))=>r===2?e.get(t):e[t],Tp=(e,t,r,n=kd(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function Bq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var $h=Array.isArray,Bh=e=>e instanceof Map,qh=e=>e instanceof Set,P1=e=>typeof e=="object",qo=e=>typeof e=="function",Kg=e=>typeof e=="boolean";function qq(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Si=e=>e.copy_||e.base_,I1=e=>e.modified_?e.copy_:e.base_;function py(e,t){if(Bh(e))return new Map(e);if(qh(e))return new Set(e);if($h(e))return Array[zh].slice.call(e);const r=J5(e);if(t===!0||t==="class_only"&&!r){const n=On.getOwnPropertyDescriptors(e);delete n[Jr];let a=Reflect.ownKeys(n);for(let l=0;l<a.length;l++){const c=a[l],u=n[c];u[ip]===!1&&(u[ip]=!0,u[fy]=!0),(u.get||u.set)&&(n[c]={[fy]:!0,[ip]:!0,[Op]:u[Op],[id]:e[c]})}return On.create(tc(e),n)}else{const n=tc(e);if(n!==null&&r)return{...e};const a=On.create(n);return On.assign(a,e)}}function R1(e,t=!1){return Hh(e)||Ii(e)||!ba(e)||(kd(e)>1&&On.defineProperties(e,{set:bm,add:bm,clear:bm,delete:bm}),On.freeze(e),t&&Fh(e,(r,n)=>{R1(n,!0)},!1)),e}function Hq(){da(2)}var bm={[id]:Hq};function Hh(e){return e===null||!P1(e)?!0:On.isFrozen(e)}var Pp="MapSet",hy="Patches",WA="ArrayMethods",eT={};function zl(e){const t=eT[e];return t||da(0,e),t}var KA=e=>!!eT[e],sd,tT=()=>sd,Uq=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:KA(Pp)?zl(Pp):void 0,arrayMethodsPlugin_:KA(WA)?zl(WA):void 0});function QA(e,t){t&&(e.patchPlugin_=zl(hy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function xy(e){vy(e),e.drafts_.forEach(Yq),e.drafts_=null}function vy(e){e===sd&&(sd=e.parent_)}var XA=e=>sd=Uq(sd,e);function Yq(e){const t=e[Jr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ZA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Jr].modified_&&(xy(t),da(4)),ba(e)&&(e=JA(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Jr].base_,e,t)}else e=JA(t,r);return Vq(t,e,!0),xy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Z5?e:void 0}function JA(e,t){if(Hh(t))return t;const r=t[Jr];if(!r)return Ip(t,e.handledSet_,e);if(!Uh(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);aT(r,e)}return r.copy_}function Vq(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&R1(t,r)}function rT(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Uh=(e,t)=>e.scope_===t,Gq=[];function nT(e,t,r,n){const a=Si(e),l=e.type_;if(n!==void 0&&my(a,n,l)===t){Tp(a,n,r,l);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;Fh(a,(f,m)=>{if(Ii(m)){const h=u.get(m)||[];h.push(f),u.set(m,h)}})}const c=e.draftLocations_.get(t)??Gq;for(const u of c)Tp(a,u,r,l)}function Wq(e,t,r){e.callbacks_.push(function(a){const l=t;if(!l||!Uh(l,a))return;a.mapSetPlugin_?.fixSetContents(l);const c=I1(l);nT(e,l.draft_??l,c,r),aT(l,a)})}function aT(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const a=n.getPath(e);a&&n.generatePatches_(e,a,t)}rT(e)}}function Kq(e,t,r){const{scope_:n}=e;if(Ii(r)){const a=r[Jr];Uh(a,n)&&a.callbacks_.push(function(){sp(e);const c=I1(a);nT(e,r,c,t)})}else ba(r)&&e.callbacks_.push(function(){const l=Si(e);e.type_===3?l.has(r)&&Ip(r,n.handledSet_,n):my(l,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Ip(my(e.copy_,t,e.type_),n.handledSet_,n)})}function Ip(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ii(e)||t.has(e)||!ba(e)||Hh(e)||(t.add(e),Fh(e,(n,a)=>{if(Ii(a)){const l=a[Jr];if(Uh(l,r)){const c=I1(l);Tp(e,n,c,e.type_),rT(l)}}else ba(a)&&Ip(a,t,r)})),e}function Qq(e,t){const r=$h(e),n={type_:r?1:0,scope_:t?t.scope_:tT(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,l=Rp;r&&(a=[n],l=ld);const{revoke:c,proxy:u}=Proxy.revocable(a,l);return n.draft_=u,n.revoke_=c,[u,n]}var Rp={get(e,t){if(t===Jr)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=Si(e);if(!GA(a,t,e.type_))return Xq(e,a,t);const l=a[t];if(e.finalized_||!ba(l)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&qq(t))return l;if(l===Qg(e.base_,t)){sp(e);const c=e.type_===1?+t:t,u=by(e.scope_,l,e,c);return e.copy_[c]=u}return l},has(e,t){return t in Si(e)},ownKeys(e){return Reflect.ownKeys(Si(e))},set(e,t,r){const n=iT(Si(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Qg(Si(e),t),l=a?.[Jr];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(Bq(r,a)&&(r!==void 0||GA(e.base_,t,e.type_)))return!0;sp(e),gy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Kq(e,t,r)),!0},deleteProperty(e,t){return sp(e),Qg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),gy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Si(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[ip]:!0,[fy]:e.type_!==1||t!=="length",[Op]:n[Op],[id]:r[t]}},defineProperty(){da(11)},getPrototypeOf(e){return tc(e.base_)},setPrototypeOf(){da(12)}},ld={};for(let e in Rp){let t=Rp[e];ld[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}ld.deleteProperty=function(e,t){return ld.set.call(this,e,t,void 0)};ld.set=function(e,t,r){return Rp.set.call(this,e[0],t,r,e[0])};function Qg(e,t){const r=e[Jr];return(r?Si(r):e)[t]}function Xq(e,t,r){const n=iT(t,r);return n?id in n?n[id]:n.get?.call(e.draft_):void 0}function iT(e,t){if(!(t in e))return;let r=tc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=tc(r)}}function gy(e){e.modified_||(e.modified_=!0,e.parent_&&gy(e.parent_))}function sp(e){e.copy_||(e.assigned_=new Map,e.copy_=py(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Zq=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(qo(r)&&!qo(n)){const c=n;n=r;const u=this;return function(m=c,...h){return u.produce(m,x=>n.call(this,x,...h))}}qo(n)||da(6),a!==void 0&&!qo(a)&&da(7);let l;if(ba(r)){const c=XA(this),u=by(c,r,void 0);let f=!0;try{l=n(u),f=!1}finally{f?xy(c):vy(c)}return QA(c,a),ZA(l,c)}else if(!r||!P1(r)){if(l=n(r),l===void 0&&(l=r),l===Z5&&(l=void 0),this.autoFreeze_&&R1(l,!0),a){const c=[],u=[];zl(hy).generateReplacementPatches_(r,l,{patches_:c,inversePatches_:u}),a(c,u)}return l}else da(1,r)},this.produceWithPatches=(r,n)=>{if(qo(r))return(u,...f)=>this.produceWithPatches(u,m=>r(m,...f));let a,l;return[this.produce(r,n,(u,f)=>{a=u,l=f}),a,l]},Kg(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Kg(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Kg(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ba(t)||da(8),Ii(t)&&(t=ha(t));const r=XA(this),n=by(r,t,void 0);return n[Jr].isManual_=!0,vy(r),n}finishDraft(t,r){const n=t&&t[Jr];(!n||!n.isManual_)&&da(9);const{scope_:a}=n;return QA(a,r),ZA(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const l=r[n];if(l.path.length===0&&l.op==="replace"){t=l.value;break}}n>-1&&(r=r.slice(n+1));const a=zl(hy).applyPatches_;return Ii(t)?a(t,r):this.produce(t,l=>a(l,r))}};function by(e,t,r,n){const[a,l]=Bh(t)?zl(Pp).proxyMap_(t,r):qh(t)?zl(Pp).proxySet_(t,r):Qq(t,r);return(r?.scope_??tT()).drafts_.push(a),l.callbacks_=r?.callbacks_??[],l.key_=n,r&&n!==void 0?Wq(r,l,n):l.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(l);const{patchPlugin_:m}=f;l.modified_&&m&&m.generatePatches_(l,[],f)}),a}function ha(e){return Ii(e)||da(10,e),sT(e)}function sT(e){if(!ba(e)||Hh(e))return e;const t=e[Jr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=py(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=py(e,!0);return Fh(r,(a,l)=>{Tp(r,a,sT(l))},n),t&&(t.finalized_=!1),r}var Jq=new Zq,lT=Jq.produce;function oT(e){return({dispatch:r,getState:n})=>a=>l=>typeof l=="function"?l(r,n,e):a(l)}var eH=oT(),tH=oT,rH=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ep:Ep.apply(null,arguments)};function ta(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Pn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>X5(n)&&n.type===e,r}var cT=class Vu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Vu.prototype)}static get[Symbol.species](){return Vu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Vu(...t[0].concat(this)):new Vu(...t.concat(this))}};function ek(e){return ba(e)?lT(e,()=>{}):e}function ym(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function nH(e){return typeof e=="boolean"}var aH=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=t??{};let c=new cT;return r&&(nH(r)?c.push(eH):c.push(tH(r.extraArgument))),c},uT="RTK_autoBatch",Gt=()=>e=>({payload:e,meta:{[uT]:!0}}),tk=e=>t=>{setTimeout(t,e)},dT=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,l=!1,c=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:tk(10):e.type==="callback"?e.queueNotification:tk(e.timeout),m=()=>{c=!1,l&&(l=!1,u.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const x=()=>a&&h(),v=n.subscribe(x);return u.add(h),()=>{v(),u.delete(h)}},dispatch(h){try{return a=!h?.meta?.[uT],l=!a,l&&(c||(c=!0,f(m))),n.dispatch(h)}finally{a=!0}}})},iH=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new cT(e);return n&&a.push(dT(typeof n=="object"?n:void 0)),a};function sH(e){const t=aH(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(T1(r))u=Q5(r);else throw new Error(Pn(1));let f;typeof n=="function"?f=n(t):f=t();let m=Ep;a&&(m=rH({trace:!1,...typeof a=="object"&&a}));const h=Fq(...f),x=iH(h);let v=typeof c=="function"?c(x):x();const b=m(...v);return K5(u,l,b)}function fT(e){const t={},r=[];let n;const a={addCase(l,c){const u=typeof l=="string"?l:l.type;if(!u)throw new Error(Pn(28));if(u in t)throw new Error(Pn(29));return t[u]=c,a},addAsyncThunk(l,c){return c.pending&&(t[l.pending.type]=c.pending),c.rejected&&(t[l.rejected.type]=c.rejected),c.fulfilled&&(t[l.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:l.settled,reducer:c.settled}),a},addMatcher(l,c){return r.push({matcher:l,reducer:c}),a},addDefaultCase(l){return n=l,a}};return e(a),[t,r,n]}function lH(e){return typeof e=="function"}function oH(e,t){let[r,n,a]=fT(t),l;if(lH(e))l=()=>ek(e());else{const u=ek(e);l=()=>u}function c(u=l(),f){let m=[r[f.type],...n.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[a]),m.reduce((h,x)=>{if(x)if(Ii(h)){const b=x(h,f);return b===void 0?h:b}else{if(ba(h))return lT(h,v=>x(v,f));{const v=x(h,f);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},u)}return c.getInitialState=l,c}var cH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",uH=(e=21)=>{let t="",r=e;for(;r--;)t+=cH[Math.random()*64|0];return t},dH=Symbol.for("rtk-slice-createasyncthunk");function fH(e,t){return`${e}/${t}`}function mH({creators:e}={}){const t=e?.asyncThunk?.[dH];return function(n){const{name:a,reducerPath:l=a}=n;if(!a)throw new Error(Pn(11));const c=(typeof n.reducers=="function"?n.reducers(hH()):n.reducers)||{},u=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(A,M){const _=typeof A=="string"?A:A.type;if(!_)throw new Error(Pn(12));if(_ in f.sliceCaseReducersByType)throw new Error(Pn(13));return f.sliceCaseReducersByType[_]=M,m},addMatcher(A,M){return f.sliceMatchers.push({matcher:A,reducer:M}),m},exposeAction(A,M){return f.actionCreators[A]=M,m},exposeCaseReducer(A,M){return f.sliceCaseReducersByName[A]=M,m}};u.forEach(A=>{const M=c[A],_={reducerName:A,type:fH(a,A),createNotation:typeof n.reducers=="function"};vH(M)?bH(_,M,m,t):xH(_,M,m)});function h(){const[A={},M=[],_=void 0]=typeof n.extraReducers=="function"?fT(n.extraReducers):[n.extraReducers],T={...A,...f.sliceCaseReducersByType};return oH(n.initialState,P=>{for(let O in T)P.addCase(O,T[O]);for(let O of f.sliceMatchers)P.addMatcher(O.matcher,O.reducer);for(let O of M)P.addMatcher(O.matcher,O.reducer);_&&P.addDefaultCase(_)})}const x=A=>A,v=new Map,b=new WeakMap;let S;function y(A,M){return S||(S=h()),S(A,M)}function w(){return S||(S=h()),S.getInitialState()}function C(A,M=!1){function _(P){let O=P[A];return typeof O>"u"&&M&&(O=ym(b,_,w)),O}function T(P=x){const O=ym(v,M,()=>new WeakMap);return ym(O,P,()=>{const z={};for(const[R,F]of Object.entries(n.selectors??{}))z[R]=pH(F,P,()=>ym(b,P,w),M);return z})}return{reducerPath:A,getSelectors:T,get selectors(){return T(_)},selectSlice:_}}const k={name:a,reducer:y,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:w,...C(l),injectInto(A,{reducerPath:M,..._}={}){const T=M??l;return A.inject({reducerPath:T,reducer:y},_),{...k,...C(T,!0)}}};return k}}function pH(e,t,r,n){function a(l,...c){let u=t(l);return typeof u>"u"&&n&&(u=r()),e(u,...c)}return a.unwrapped=e,a}var vn=mH();function hH(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function xH({type:e,reducerName:t,createNotation:r},n,a){let l,c;if("reducer"in n){if(r&&!gH(n))throw new Error(Pn(17));l=n.reducer,c=n.prepare}else l=n;a.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?ta(e,c):ta(e))}function vH(e){return e._reducerDefinitionType==="asyncThunk"}function gH(e){return e._reducerDefinitionType==="reducerWithPrepare"}function bH({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Pn(18));const{payloadCreator:l,fulfilled:c,pending:u,rejected:f,settled:m,options:h}=r,x=a(e,l,h);n.exposeAction(t,x),c&&n.addCase(x.fulfilled,c),u&&n.addCase(x.pending,u),f&&n.addCase(x.rejected,f),m&&n.addMatcher(x.settled,m),n.exposeCaseReducer(t,{fulfilled:c||wm,pending:u||wm,rejected:f||wm,settled:m||wm})}function wm(){}var yH="task",mT="listener",pT="completed",L1="cancelled",wH=`task-${L1}`,NH=`task-${pT}`,yy=`${mT}-${L1}`,jH=`${mT}-${pT}`,Yh=class{constructor(e){this.code=e,this.message=`${yH} ${L1} (reason: ${e})`}name="TaskAbortError";message},z1=(e,t)=>{if(typeof e!="function")throw new TypeError(Pn(32))},Lp=()=>{},hT=(e,t=Lp)=>(e.catch(t),e),xT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),El=e=>{if(e.aborted)throw new Yh(e.reason)};function vT(e,t){let r=Lp;return new Promise((n,a)=>{const l=()=>a(new Yh(e.reason));if(e.aborted){l();return}r=xT(e,l),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Lp})}var SH=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Yh?"cancelled":"rejected",error:r}}finally{t?.()}},zp=e=>t=>hT(vT(e,t).then(r=>(El(e),r))),gT=e=>{const t=zp(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Go}=Object,rk={},Vh="listenerMiddleware",CH=(e,t)=>{const r=n=>xT(e,()=>n.abort(e.reason));return(n,a)=>{z1(n);const l=new AbortController;r(l);const c=SH(async()=>{El(e),El(l.signal);const u=await n({pause:zp(l.signal),delay:gT(l.signal),signal:l.signal});return El(l.signal),u},()=>l.abort(NH));return a?.autoJoin&&t.push(c.catch(Lp)),{result:zp(e)(c),cancel(){l.abort(wH)}}}},AH=(e,t)=>{const r=async(n,a)=>{El(t);let l=()=>{};const u=[new Promise((f,m)=>{let h=e({predicate:n,effect:(x,v)=>{v.unsubscribe(),f([x,v.getState(),v.getOriginalState()])}});l=()=>{h(),m()}})];a!=null&&u.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await vT(t,Promise.race(u));return El(t),f}finally{l()}};return(n,a)=>hT(r(n,a))},bT=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:l}=e;if(t)a=ta(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Pn(21));return z1(l),{predicate:a,type:t,effect:l}},yT=Go(e=>{const{type:t,predicate:r,effect:n}=bT(e);return{id:uH(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Pn(22))}}},{withTypes:()=>yT}),nk=(e,t)=>{const{type:r,effect:n,predicate:a}=bT(t);return Array.from(e.values()).find(l=>(typeof r=="string"?l.type===r:l.predicate===a)&&l.effect===n)},wy=e=>{e.pending.forEach(t=>{t.abort(yy)})},kH=(e,t)=>()=>{for(const r of t.keys())wy(r);e.clear()},ak=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},wT=Go(ta(`${Vh}/add`),{withTypes:()=>wT}),MH=ta(`${Vh}/removeAll`),NT=Go(ta(`${Vh}/remove`),{withTypes:()=>NT}),DH=(...e)=>{console.error(`${Vh}/error`,...e)},Md=(e={})=>{const t=new Map,r=new Map,n=b=>{const S=r.get(b)??0;r.set(b,S+1)},a=b=>{const S=r.get(b)??1;S===1?r.delete(b):r.set(b,S-1)},{extra:l,onError:c=DH}=e;z1(c);const u=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),S=>{b.unsubscribe(),S?.cancelActive&&wy(b)}),f=b=>{const S=nk(t,b)??yT(b);return u(S)};Go(f,{withTypes:()=>f});const m=b=>{const S=nk(t,b);return S&&(S.unsubscribe(),b.cancelActive&&wy(S)),!!S};Go(m,{withTypes:()=>m});const h=async(b,S,y,w)=>{const C=new AbortController,k=AH(f,C.signal),A=[];try{b.pending.add(C),n(b),await Promise.resolve(b.effect(S,Go({},y,{getOriginalState:w,condition:(M,_)=>k(M,_).then(Boolean),take:k,delay:gT(C.signal),pause:zp(C.signal),extra:l,signal:C.signal,fork:CH(C.signal,A),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((M,_,T)=>{M!==C&&(M.abort(yy),T.delete(M))})},cancel:()=>{C.abort(yy),b.pending.delete(C)},throwIfCancelled:()=>{El(C.signal)}})))}catch(M){M instanceof Yh||ak(c,M,{raisedBy:"effect"})}finally{await Promise.all(A),C.abort(jH),a(b),b.pending.delete(C)}},x=kH(t,r);return{middleware:b=>S=>y=>{if(!X5(y))return S(y);if(wT.match(y))return f(y.payload);if(MH.match(y)){x();return}if(NT.match(y))return m(y.payload);let w=b.getState();const C=()=>{if(w===rk)throw new Error(Pn(23));return w};let k;try{if(k=S(y),t.size>0){const A=b.getState(),M=Array.from(t.values());for(const _ of M){let T=!1;try{T=_.predicate(y,A,w)}catch(P){T=!1,ak(c,P,{raisedBy:"predicate"})}T&&h(_,y,b,C)}}}finally{w=rk}return k},startListening:f,stopListening:m,clearListeners:x}};function Pn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var EH={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},jT=vn({name:"chartLayout",initialState:EH,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,l;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(l=t.payload.left)!==null&&l!==void 0?l:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:_H,setLayout:OH,setChartSize:TH,setScale:PH}=jT.actions,IH=jT.reducer;function ST(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Rt(e){return Number.isFinite(e)}function Rs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ik(Object(r),!0).forEach(function(n){RH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RH(e,t,r){return(t=LH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LH(e){var t=zH(e,"string");return typeof t=="symbol"?t:t+""}function zH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lr(e,t,r){return Rn(e)||Rn(t)?r:Pi(t)?nd(e,t,r):typeof t=="function"?t(e):r}var FH=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:l,verticalAlign:c,layout:u}=t;if((u==="vertical"||u==="horizontal"&&c==="middle")&&l!=="center"&&Qe(e[l]))return Uo(Uo({},e),{},{[l]:e[l]+(n||0)});if((u==="horizontal"||u==="vertical"&&l==="center")&&c!=="middle"&&Qe(e[c]))return Uo(Uo({},e),{},{[c]:e[c]+(a||0)})}return e},$s=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",$H=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var l=0,c=0,u=0;u<r;++u){var f=e[u],m=f?.[a];if(m!=null){var h=m[1],x=m[0],v=Ti(h)?x:h;v>=0?(m[0]=l,l+=v,m[1]=l):(m[0]=c,c+=v,m[1]=c)}}}},BH=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var l=0,c=0;c<r;++c){var u=e[c],f=u?.[a];if(f!=null){var m=Ti(f[1])?f[0]:f[1];m>=0?(f[0]=l,l+=m,f[1]=l):(f[0]=0,f[1]=0)}}}},qH={sign:$H,expand:pB,none:Rl,silhouette:hB,wiggle:xB,positive:BH},HH=(e,t,r)=>{var n,a=(n=qH[r])!==null&&n!==void 0?n:Rl,l=mB().keys(t).value((u,f)=>Number(lr(u,f,0))).order(uy).offset(a),c=l(e);return c.forEach((u,f)=>{u.forEach((m,h)=>{var x=lr(e[h],t[f],0);Array.isArray(x)&&x.length===2&&Qe(x[0])&&Qe(x[1])&&(m[0]=x[0],m[1]=x[1])})}),c},UH=e=>{var t=e.flat(2).filter(Qe);return[Math.min(...t),Math.max(...t)]},YH=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],VH=(e,t,r)=>{if(e!=null)return YH(Object.keys(e).reduce((n,a)=>{var l=e[a];if(!l)return n;var{stackedData:c}=l,u=c.reduce((f,m)=>{var h=ST(m,t,r),x=UH(h);return!Rt(x[0])||!Rt(x[1])?f:[Math.min(f[0],x[0]),Math.max(f[1],x[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},sk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ok=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();return n}if(e&&t&&t.length>=2){for(var a=Lh(t,h=>h.coordinate),l=1/0,c=1,u=a.length;c<u;c++){var f=a[c],m=a[c-1];l=Math.min((f?.coordinate||0)-(m?.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0};function ck(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:l}=e;return Uo(Uo({},t),{},{dataKey:r,payload:n,value:a,name:l})}function CT(e,t){if(e)return String(e);if(typeof t=="string")return t}var GH=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},WH=(e,t)=>t==="centric"?e.angle:e.radius,Hi=e=>e.layout.width,Ui=e=>e.layout.height,KH=e=>e.layout.scale,AT=e=>e.layout.margin,Gh=ie(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Wh=ie(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),kT="data-recharts-item-index",MT="data-recharts-item-id",Dd=60;function uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uk(Object(r),!0).forEach(function(n){QH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QH(e,t,r){return(t=XH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XH(e){var t=ZH(e,"string");return typeof t=="symbol"?t:t+""}function ZH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JH=e=>e.brush.height;function e9(e){var t=Wh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Dd;return r+a}return r},0)}function t9(e){var t=Wh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Dd;return r+a}return r},0)}function r9(e){var t=Gh(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function n9(e){var t=Gh(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Er=ie([Hi,Ui,AT,JH,e9,t9,r9,n9,W5,Tq],(e,t,r,n,a,l,c,u,f,m)=>{var h={left:(r.left||0)+a,right:(r.right||0)+l},x={top:(r.top||0)+c,bottom:(r.bottom||0)+u},v=Nm(Nm({},x),h),b=v.bottom;v.bottom+=n,v=FH(v,f,m);var S=e-v.left-v.right,y=t-v.top-v.bottom;return Nm(Nm({brushBottom:b},v),{},{width:Math.max(S,0),height:Math.max(y,0)})}),a9=ie(Er,e=>({x:e.left,y:e.top,width:e.width,height:e.height}));ie(Hi,Ui,(e,t)=>({x:0,y:0,width:e,height:t}));var i9=N.createContext(null),Bs=()=>N.useContext(i9)!=null,Kh=e=>e.brush,Qh=ie([Kh,Er,AT],(e,t,r)=>({height:e.height,x:Qe(e.x)?e.x:t.left,y:Qe(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Qe(e.width)?e.width:t.width})),Xg={},Zg={},Jg={},dk;function s9(){return dk||(dk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:l}={}){let c,u=null;const f=l!=null&&l.includes("leading"),m=l==null||l.includes("trailing"),h=()=>{u!==null&&(r.apply(c,u),c=void 0,u=null)},x=()=>{m&&h(),y()};let v=null;const b=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,x()},n)},S=()=>{v!==null&&(clearTimeout(v),v=null)},y=()=>{S(),c=void 0,u=null},w=()=>{h()},C=function(...k){if(a?.aborted)return;c=this,u=k;const A=v==null;b(),f&&A&&h()};return C.schedule=b,C.cancel=y,C.flush=w,a?.addEventListener("abort",y,{once:!0}),C}e.debounce=t})(Jg)),Jg}var fk;function l9(){return fk||(fk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s9();function r(n,a=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:u=!0,maxWait:f}=l,m=Array(2);c&&(m[0]="leading"),u&&(m[1]="trailing");let h,x=null;const v=t.debounce(function(...y){h=n.apply(this,y),x=null},a,{edges:m}),b=function(...y){return f!=null&&(x===null&&(x=Date.now()),Date.now()-x>=f)?(h=n.apply(this,y),x=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,y),h)},S=()=>(v.flush(),h);return b.cancel=v.cancel,b.flush=S,b}e.debounce=r})(Zg)),Zg}var mk;function o9(){return mk||(mk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l9();function r(n,a=0,l={}){const{leading:c=!0,trailing:u=!0}=l;return t.debounce(n,a,{leading:c,maxWait:a,trailing:u})}e.throttle=r})(Xg)),Xg}var eb,pk;function c9(){return pk||(pk=1,eb=o9().throttle),eb}var u9=c9();const d9=Za(u9);var hk=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),l=2;l<n;l++)a[l-2]=arguments[l];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>a[c++]))}},Ba={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},DT=(e,t,r)=>{var{width:n=Ba.width,height:a=Ba.height,aspect:l,maxHeight:c}=r,u=Ll(n)?e:Number(n),f=Ll(a)?t:Number(a);return l&&l>0&&(u?f=u/l:f&&(u=f*l),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:u,calculatedHeight:f}},f9={width:0,height:0,overflow:"visible"},m9={width:0,overflowX:"visible"},p9={height:0,overflowY:"visible"},h9={},x9=e=>{var{width:t,height:r}=e,n=Ll(t),a=Ll(r);return n&&a?f9:n?m9:a?p9:h9};function v9(e){var{width:t,height:r,aspect:n}=e,a=t,l=r;return a===void 0&&l===void 0?(a=Ba.width,l=Ba.height):a===void 0?a=n&&n>0?void 0:Ba.width:l===void 0&&(l=n&&n>0?void 0:Ba.height),{width:a,height:l}}function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ny.apply(null,arguments)}function xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(r),!0).forEach(function(n){g9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g9(e,t,r){return(t=b9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b9(e){var t=y9(e,"string");return typeof t=="symbol"?t:t+""}function y9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ET=N.createContext(Ba.initialDimension);function w9(e){return Rs(e.width)&&Rs(e.height)}function _T(e){var{children:t,width:r,height:n}=e,a=N.useMemo(()=>({width:r,height:n}),[r,n]);return w9(a)?N.createElement(ET.Provider,{value:a},t):null}var F1=()=>N.useContext(ET),N9=N.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Ba.initialDimension,width:a,height:l,minWidth:c=Ba.minWidth,minHeight:u,maxHeight:f,children:m,debounce:h=Ba.debounce,id:x,className:v,onResize:b,style:S={}}=e,y=N.useRef(null),w=N.useRef();w.current=b,N.useImperativeHandle(t,()=>y.current);var[C,k]=N.useState({containerWidth:n.width,containerHeight:n.height}),A=N.useCallback((O,z)=>{k(R=>{var F=Math.round(O),D=Math.round(z);return R.containerWidth===F&&R.containerHeight===D?R:{containerWidth:F,containerHeight:D}})},[]);N.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return Ad;var O=D=>{var Z,Q=D[0];if(Q!=null){var{width:J,height:L}=Q.contentRect;A(J,L),(Z=w.current)===null||Z===void 0||Z.call(w,J,L)}};h>0&&(O=d9(O,h,{trailing:!0,leading:!1}));var z=new ResizeObserver(O),{width:R,height:F}=y.current.getBoundingClientRect();return A(R,F),z.observe(y.current),()=>{z.disconnect()}},[A,h]);var{containerWidth:M,containerHeight:_}=C;hk(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:T,calculatedHeight:P}=DT(M,_,{width:a,height:l,aspect:r,maxHeight:f});return hk(T!=null&&T>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,P,a,l,c,u,r),N.createElement("div",{id:x?"".concat(x):void 0,className:at("recharts-responsive-container",v),style:vk(vk({},S),{},{width:a,height:l,minWidth:c,minHeight:u,maxHeight:f}),ref:y},N.createElement("div",{style:x9({width:a,height:l})},N.createElement(_T,{width:T,height:P},m)))}),OT=N.forwardRef((e,t)=>{var r=F1();if(Rs(r.width)&&Rs(r.height))return e.children;var{width:n,height:a}=v9({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:l,calculatedHeight:c}=DT(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Qe(l)&&Qe(c)?N.createElement(_T,{width:l,height:c},e.children):N.createElement(N9,Ny({},e,{width:n,height:a,ref:t}))});function $1(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Xh=()=>{var e,t=Bs(),r=tt(a9),n=tt(Qh),a=(e=tt(Kh))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},j9={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},S9=()=>{var e;return(e=tt(Er))!==null&&e!==void 0?e:j9},C9=()=>tt(Hi),A9=()=>tt(Ui),Qt=e=>e.layout.layoutType,Zh=()=>tt(Qt),TT=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},k9=()=>{var e=Zh();return e!==void 0},Ed=e=>{var t=Cr(),r=Bs(),{width:n,height:a}=e,l=F1(),c=n,u=a;return l&&(c=l.width>0?l.width:n,u=l.height>0?l.height:a),N.useEffect(()=>{!r&&Rs(c)&&Rs(u)&&t(TH({width:c,height:u}))},[t,r,c,u]),null},PT=Symbol.for("immer-nothing"),gk=Symbol.for("immer-draftable"),Ln=Symbol.for("immer-state");function fa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var od=Object.getPrototypeOf;function rc(e){return!!e&&!!e[Ln]}function Fl(e){return e?IT(e)||Array.isArray(e)||!!e[gk]||!!e.constructor?.[gk]||_d(e)||ex(e):!1}var M9=Object.prototype.constructor.toString(),bk=new WeakMap;function IT(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=bk.get(r);return n===void 0&&(n=Function.toString.call(r),bk.set(r,n)),n===M9}function Fp(e,t,r=!0){Jh(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Jh(e){const t=e[Ln];return t?t.type_:Array.isArray(e)?1:_d(e)?2:ex(e)?3:0}function jy(e,t){return Jh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function RT(e,t,r){const n=Jh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function D9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function _d(e){return e instanceof Map}function ex(e){return e instanceof Set}function gl(e){return e.copy_||e.base_}function Sy(e,t){if(_d(e))return new Map(e);if(ex(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=IT(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ln];let a=Reflect.ownKeys(n);for(let l=0;l<a.length;l++){const c=a[l],u=n[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(od(e),n)}else{const n=od(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function B1(e,t=!1){return tx(e)||rc(e)||!Fl(e)||(Jh(e)>1&&Object.defineProperties(e,{set:jm,add:jm,clear:jm,delete:jm}),Object.freeze(e),t&&Object.values(e).forEach(r=>B1(r,!0))),e}function E9(){fa(2)}var jm={value:E9};function tx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var _9={};function $l(e){const t=_9[e];return t||fa(0,e),t}var cd;function LT(){return cd}function O9(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yk(e,t){t&&($l("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Cy(e){Ay(e),e.drafts_.forEach(T9),e.drafts_=null}function Ay(e){e===cd&&(cd=e.parent_)}function wk(e){return cd=O9(cd,e)}function T9(e){const t=e[Ln];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Nk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ln].modified_&&(Cy(t),fa(4)),Fl(e)&&(e=$p(t,e),t.parent_||Bp(t,e)),t.patches_&&$l("Patches").generateReplacementPatches_(r[Ln].base_,e,t.patches_,t.inversePatches_)):e=$p(t,r,[]),Cy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==PT?e:void 0}function $p(e,t,r){if(tx(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Ln];if(!a)return Fp(t,(l,c)=>jk(e,a,t,l,c,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Bp(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const l=a.copy_;let c=l,u=!1;a.type_===3&&(c=new Set(l),l.clear(),u=!0),Fp(c,(f,m)=>jk(e,a,l,f,m,r,u),n),Bp(e,l,!1),r&&e.patches_&&$l("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function jk(e,t,r,n,a,l,c){if(a==null||typeof a!="object"&&!c)return;const u=tx(a);if(!(u&&!c)){if(rc(a)){const f=l&&t&&t.type_!==3&&!jy(t.assigned_,n)?l.concat(n):void 0,m=$p(e,a,f);if(RT(r,n,m),rc(m))e.canAutoFreeze_=!1;else return}else c&&r.add(a);if(Fl(a)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&u)return;$p(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(_d(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Bp(e,a)}}}function Bp(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&B1(t,r)}function P9(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:LT(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,l=q1;r&&(a=[n],l=ud);const{revoke:c,proxy:u}=Proxy.revocable(a,l);return n.draft_=u,n.revoke_=c,u}var q1={get(e,t){if(t===Ln)return e;const r=gl(e);if(!jy(r,t))return I9(e,r,t);const n=r[t];return e.finalized_||!Fl(n)?n:n===tb(e.base_,t)?(rb(e),e.copy_[t]=My(n,e)):n},has(e,t){return t in gl(e)},ownKeys(e){return Reflect.ownKeys(gl(e))},set(e,t,r){const n=zT(gl(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=tb(gl(e),t),l=a?.[Ln];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(D9(r,a)&&(r!==void 0||jy(e.base_,t)))return!0;rb(e),ky(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return tb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,rb(e),ky(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=gl(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){fa(11)},getPrototypeOf(e){return od(e.base_)},setPrototypeOf(){fa(12)}},ud={};Fp(q1,(e,t)=>{ud[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ud.deleteProperty=function(e,t){return ud.set.call(this,e,t,void 0)};ud.set=function(e,t,r){return q1.set.call(this,e[0],t,r,e[0])};function tb(e,t){const r=e[Ln];return(r?gl(r):e)[t]}function I9(e,t,r){const n=zT(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function zT(e,t){if(!(t in e))return;let r=od(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=od(r)}}function ky(e){e.modified_||(e.modified_=!0,e.parent_&&ky(e.parent_))}function rb(e){e.copy_||(e.copy_=Sy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var R9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const l=r;r=t;const c=this;return function(f=l,...m){return c.produce(f,h=>r.call(this,h,...m))}}typeof r!="function"&&fa(6),n!==void 0&&typeof n!="function"&&fa(7);let a;if(Fl(t)){const l=wk(this),c=My(t,void 0);let u=!0;try{a=r(c),u=!1}finally{u?Cy(l):Ay(l)}return yk(l,n),Nk(a,l)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===PT&&(a=void 0),this.autoFreeze_&&B1(a,!0),n){const l=[],c=[];$l("Patches").generateReplacementPatches_(t,a,l,c),n(l,c)}return a}else fa(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,f=>t(f,...u));let n,a;return[this.produce(t,r,(c,u)=>{n=c,a=u}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Fl(e)||fa(8),rc(e)&&(e=L9(e));const t=wk(this),r=My(e,void 0);return r[Ln].isManual_=!0,Ay(t),r}finishDraft(e,t){const r=e&&e[Ln];(!r||!r.isManual_)&&fa(9);const{scope_:n}=r;return yk(n,t),Nk(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=$l("Patches").applyPatches_;return rc(e)?n(e,t):this.produce(e,a=>n(a,t))}};function My(e,t){const r=_d(e)?$l("MapSet").proxyMap_(e,t):ex(e)?$l("MapSet").proxySet_(e,t):P9(e,t);return(t?t.scope_:LT()).drafts_.push(r),r}function L9(e){return rc(e)||fa(10,e),FT(e)}function FT(e){if(!Fl(e)||tx(e))return e;const t=e[Ln];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Sy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Sy(e,!0);return Fp(r,(a,l)=>{RT(r,a,FT(l))},n),t&&(t.finalized_=!1),r}var z9=new R9;z9.produce;var F9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},$T=vn({name:"legend",initialState:F9,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Gt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ha(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Gt()},removeLegendPayload:{reducer(e,t){var r=ha(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Gt()}}}),{setLegendSize:Kle,setLegendSettings:Qle,addLegendPayload:$9,replaceLegendPayload:B9,removeLegendPayload:q9}=$T.actions,H9=$T.reducer;function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dy.apply(null,arguments)}function Sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ku(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(r),!0).forEach(function(n){U9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U9(e,t,r){return(t=Y9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y9(e){var t=V9(e,"string");return typeof t=="symbol"?t:t+""}function V9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G9(e){return Array.isArray(e)&&Pi(e[0])&&Pi(e[1])?e.join(" ~ "):e}var Oo={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},W9=e=>{var{separator:t=Oo.separator,contentStyle:r,itemStyle:n,labelStyle:a=Oo.labelStyle,payload:l,formatter:c,itemSorter:u,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:x,accessibilityLayer:v=Oo.accessibilityLayer}=e,b=()=>{if(l&&l.length){var _={padding:0,margin:0},T=(u?Lh(l,u):l).map((P,O)=>{if(P.type==="none")return null;var z=P.formatter||c||G9,{value:R,name:F}=P,D=R,Z=F;if(z){var Q=z(R,F,P,O,l);if(Array.isArray(Q))[D,Z]=Q;else if(Q!=null)D=Q;else return null}var J=ku(ku({},Oo.itemStyle),{},{color:P.color||Oo.itemStyle.color},n);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:J},Pi(Z)?N.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Pi(Z)?N.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,N.createElement("span",{className:"recharts-tooltip-item-value"},D),N.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:_},T)}return null},S=ku(ku({},Oo.contentStyle),r),y=ku({margin:0},a),w=!Rn(h),C=w?h:"",k=at("recharts-default-tooltip",f),A=at("recharts-tooltip-label",m);w&&x&&l!==void 0&&l!==null&&(C=x(h,l));var M=v?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",Dy({className:k,style:S},M),N.createElement("p",{className:A,style:y},N.isValidElement(C)?C:"".concat(C)),b())},Mu="recharts-tooltip-wrapper",K9={visibility:"hidden"};function Q9(e){var{coordinate:t,translateX:r,translateY:n}=e;return at(Mu,{["".concat(Mu,"-right")]:Qe(r)&&t&&Qe(t.x)&&r>=t.x,["".concat(Mu,"-left")]:Qe(r)&&t&&Qe(t.x)&&r<t.x,["".concat(Mu,"-bottom")]:Qe(n)&&t&&Qe(t.y)&&n>=t.y,["".concat(Mu,"-top")]:Qe(n)&&t&&Qe(t.y)&&n<t.y})}function Ck(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:a,position:l,reverseDirection:c,tooltipDimension:u,viewBox:f,viewBoxDimension:m}=e;if(l&&Qe(l[n]))return l[n];var h=r[n]-u-(a>0?a:0),x=r[n]+a;if(t[n])return c[n]?h:x;var v=f[n];if(v==null)return 0;if(c[n]){var b=h,S=v;return b<S?Math.max(x,v):Math.max(h,v)}if(m==null)return 0;var y=x+u,w=v+m;return y>w?Math.max(h,v):Math.max(x,v)}function X9(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Z9(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:a,position:l,reverseDirection:c,tooltipBox:u,useTranslate3d:f,viewBox:m}=e,h,x,v;return u.height>0&&u.width>0&&r?(x=Ck({allowEscapeViewBox:t,coordinate:r,key:"x",offset:a,position:l,reverseDirection:c,tooltipDimension:u.width,viewBox:m,viewBoxDimension:m.width}),v=Ck({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:l,reverseDirection:c,tooltipDimension:u.height,viewBox:m,viewBoxDimension:m.height}),h=X9({translateX:x,translateY:v,useTranslate3d:f})):h=K9,{cssProperties:h,cssClasses:Q9({translateX:x,translateY:v,coordinate:r})}}function Ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ak(Object(r),!0).forEach(function(n){Ey(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ey(e,t,r){return(t=J9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J9(e){var t=e7(e,"string");return typeof t=="symbol"?t:t+""}function e7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class t7 extends N.PureComponent{constructor(){super(...arguments),Ey(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ey(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:l,coordinate:c,hasPayload:u,isAnimationActive:f,offset:m,position:h,reverseDirection:x,useTranslate3d:v,viewBox:b,wrapperStyle:S,lastBoundingBox:y,innerRef:w,hasPortalFromProps:C}=this.props,k=typeof m=="number"?m:m.x,A=typeof m=="number"?m:m.y,{cssClasses:M,cssProperties:_}=Z9({allowEscapeViewBox:r,coordinate:c,offsetLeft:k,offsetTop:A,position:h,reverseDirection:x,tooltipBox:{height:y.height,width:y.width},useTranslate3d:v,viewBox:b}),T=C?{}:Sm(Sm({transition:f&&t?"transform ".concat(n,"ms ").concat(a):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),P=Sm(Sm({},T),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:P,ref:w},l)}}var BT=()=>{var e;return(e=tt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_y.apply(null,arguments)}function kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kk(Object(r),!0).forEach(function(n){r7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r7(e,t,r){return(t=n7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n7(e){var t=a7(e,"string");return typeof t=="symbol"?t:t+""}function a7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dk={curveBasisClosed:rB,curveBasisOpen:nB,curveBasis:tB,curveBumpX:B$,curveBumpY:q$,curveLinearClosed:aB,curveLinear:Ih,curveMonotoneX:iB,curveMonotoneY:sB,curveNatural:lB,curveStep:oB,curveStepAfter:uB,curveStepBefore:cB},qp=e=>Rt(e.x)&&Rt(e.y),Ek=e=>e.base!=null&&qp(e.base)&&qp(e),Du=e=>e.x,Eu=e=>e.y,i7=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Cd(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=Dk["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return Dk[r]||Ih},_k={connectNulls:!1,type:"linear"},s7=e=>{var{type:t=_k.type,points:r=[],baseLine:n,layout:a,connectNulls:l=_k.connectNulls}=e,c=i7(t,a),u=l?r.filter(qp):r;if(Array.isArray(n)){var f,m=r.map((S,y)=>Mk(Mk({},S),{},{base:n[y]}));a==="vertical"?f=xm().y(Eu).x1(Du).x0(S=>S.base.x):f=xm().x(Du).y1(Eu).y0(S=>S.base.y);var h=f.defined(Ek).curve(c),x=l?m.filter(Ek):m;return h(x)}var v;a==="vertical"&&Qe(n)?v=xm().y(Eu).x1(Du).x0(n):Qe(n)?v=xm().x(Du).y1(Eu).y0(n):v=w5().x(Du).y(Eu);var b=v.defined(qp).curve(c);return b(u)},H1=e=>{var{className:t,points:r,path:n,pathRef:a}=e,l=Zh();if((!r||!r.length)&&!n)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||l,connectNulls:e.connectNulls},u=r&&r.length?s7(c):n;return N.createElement("path",_y({},ec(e),PB(e),{className:at("recharts-curve",t),d:u===null?void 0:u,ref:a}))},l7=["x","y","top","left","width","height","className"];function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oy.apply(null,arguments)}function Ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(r),!0).forEach(function(n){c7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c7(e,t,r){return(t=u7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u7(e){var t=d7(e,"string");return typeof t=="symbol"?t:t+""}function d7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f7(e,t){if(e==null)return{};var r,n,a=m7(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function m7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var p7=(e,t,r,n,a,l)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(l,",").concat(t,"h").concat(r),h7=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:l=0,height:c=0,className:u}=e,f=f7(e,l7),m=o7({x:t,y:r,top:n,left:a,width:l,height:c},f);return!Qe(t)||!Qe(r)||!Qe(l)||!Qe(c)||!Qe(n)||!Qe(a)?null:N.createElement("path",Oy({},ea(m),{className:at("recharts-cross",u),d:p7(t,r,l,c,n,a)}))};function x7(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(r),!0).forEach(function(n){v7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v7(e,t,r){return(t=g7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g7(e){var t=b7(e,"string");return typeof t=="symbol"?t:t+""}function b7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y7=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),qT=(e,t,r)=>e.map(n=>"".concat(y7(n)," ").concat(t,"ms ").concat(r)).join(","),w7=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),dd=(e,t)=>Object.keys(t).reduce((r,n)=>Pk(Pk({},r),{},{[n]:e(n,t[n])}),{});function Ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(r),!0).forEach(function(n){N7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N7(e,t,r){return(t=j7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j7(e){var t=S7(e,"string");return typeof t=="symbol"?t:t+""}function S7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hp=(e,t,r)=>e+(t-e)*r,Ty=e=>{var{from:t,to:r}=e;return t!==r},HT=(e,t,r)=>{var n=dd((a,l)=>{if(Ty(l)){var[c,u]=e(l.from,l.to,l.velocity);return Sr(Sr({},l),{},{from:c,velocity:u})}return l},t);return r<1?dd((a,l)=>Ty(l)&&n[a]!=null?Sr(Sr({},l),{},{velocity:Hp(l.velocity,n[a].velocity,r),from:Hp(l.from,n[a].from,r)}):l,t):HT(e,n,r-1)};function C7(e,t,r,n,a,l){var c,u=n.reduce((v,b)=>Sr(Sr({},v),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),f=()=>dd((v,b)=>b.from,u),m=()=>!Object.values(u).filter(Ty).length,h=null,x=v=>{c||(c=v);var b=v-c,S=b/r.dt;u=HT(r,u,S),a(Sr(Sr(Sr({},e),t),f())),c=v,m()||(h=l.setTimeout(x))};return()=>(h=l.setTimeout(x),()=>{var v;(v=h)===null||v===void 0||v()})}function A7(e,t,r,n,a,l,c){var u=null,f=a.reduce((x,v)=>{var b=e[v],S=t[v];return b==null||S==null?x:Sr(Sr({},x),{},{[v]:[b,S]})},{}),m,h=x=>{m||(m=x);var v=(x-m)/n,b=dd((y,w)=>Hp(...w,r(v)),f);if(l(Sr(Sr(Sr({},e),t),b)),v<1)u=c.setTimeout(h);else{var S=dd((y,w)=>Hp(...w,r(1)),f);l(Sr(Sr(Sr({},e),t),S))}};return()=>(u=c.setTimeout(h),()=>{var x;(x=u)===null||x===void 0||x()})}const k7=(e,t,r,n,a,l)=>{var c=w7(e,t);return r==null?()=>(a(Sr(Sr({},e),t)),()=>{}):r.isStepper===!0?C7(e,t,r,c,a,l):A7(e,t,r,n,c,a,l)};var Up=1e-4,UT=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],YT=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Rk=(e,t)=>r=>{var n=UT(e,t);return YT(n,r)},M7=(e,t)=>r=>{var n=UT(e,t),a=[...n.map((l,c)=>l*c).slice(1),0];return YT(a,r)},D7=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(l=>parseFloat(l));return[a[0],a[1],a[2],a[3]]},E7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=D7(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},_7=(e,t,r,n)=>{var a=Rk(e,r),l=Rk(t,n),c=M7(e,r),u=m=>m>1?1:m<0?0:m,f=m=>{for(var h=m>1?1:m,x=h,v=0;v<8;++v){var b=a(x)-h,S=c(x);if(Math.abs(b-h)<Up||S<Up)return l(x);x=u(x-b/S)}return l(x)};return f.isStepper=!1,f},Lk=function(){return _7(...E7(...arguments))},O7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,l=(c,u,f)=>{var m=-(c-u)*r,h=f*n,x=f+(m-h)*a/1e3,v=f*a/1e3+c;return Math.abs(v-u)<Up&&Math.abs(x)<Up?[u,0]:[v,x]};return l.isStepper=!0,l.dt=a,l},T7=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Lk(e);case"spring":return O7();default:if(e.split("(")[0]==="cubic-bezier")return Lk(e)}return typeof e=="function"?e:null};function P7(e){var t,r=()=>null,n=!1,a=null,l=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var u=c,[f,...m]=u;if(typeof f=="number"){a=e.setTimeout(l.bind(null,m),f);return}l(f),a=e.setTimeout(l.bind(null,m));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,a&&(a(),a=null),l(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class I7{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,l=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(l))};return a=requestAnimationFrame(l),()=>{a!=null&&cancelAnimationFrame(a)}}}function R7(){return P7(new I7)}var L7=N.createContext(R7);function z7(e,t){var r=N.useContext(L7);return N.useMemo(()=>t??r(e),[e,t,r])}var F7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),U1={isSsr:F7()},$7={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},zk={t:0},nb={t:1};function Y1(e){var t=ri(e,$7),{isActive:r,canBegin:n,duration:a,easing:l,begin:c,onAnimationEnd:u,onAnimationStart:f,children:m}=t,h=r==="auto"?!U1.isSsr:r,x=z7(t.animationId,t.animationManager),[v,b]=N.useState(h?zk:nb),S=N.useRef(null);return N.useEffect(()=>{h||b(nb)},[h]),N.useEffect(()=>{if(!h||!n)return Ad;var y=k7(zk,nb,T7(l),a,b,x.getTimeoutController()),w=()=>{S.current=y()};return x.start([f,c,w,a,u]),()=>{x.stop(),S.current&&S.current(),u()}},[h,n,a,l,c,f,u,x]),m(v.t)}function V1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=N.useRef(ad(t)),n=N.useRef(e);return n.current!==e&&(r.current=ad(t),n.current=e),r.current}var B7=["radius"],q7=["radius"],Fk,$k,Bk,qk,Hk,Uk,Yk,Vk,Gk,Wk;function Kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(r),!0).forEach(function(n){H7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H7(e,t,r){return(t=U7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U7(e){var t=Y7(e,"string");return typeof t=="symbol"?t:t+""}function Y7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yp(){return Yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yp.apply(null,arguments)}function Xk(e,t){if(e==null)return{};var r,n,a=V7(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function V7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Oa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Zk=(e,t,r,n,a)=>{var l=ks(r),c=ks(n),u=Math.min(Math.abs(l)/2,Math.abs(c)/2),f=c>=0?1:-1,m=l>=0?1:-1,h=c>=0&&l>=0||c<0&&l<0?1:0,x;if(u>0&&Array.isArray(a)){for(var v=[0,0,0,0],b=0,S=4;b<S;b++){var y,w=(y=a[b])!==null&&y!==void 0?y:0;v[b]=w>u?u:w}x=ir(Fk||(Fk=Oa(["M",",",""])),e,t+f*v[0]),v[0]>0&&(x+=ir($k||($k=Oa(["A ",",",",0,0,",",",",",""])),v[0],v[0],h,e+m*v[0],t)),x+=ir(Bk||(Bk=Oa(["L ",",",""])),e+r-m*v[1],t),v[1]>0&&(x+=ir(qk||(qk=Oa(["A ",",",",0,0,",`,
        `,",",""])),v[1],v[1],h,e+r,t+f*v[1])),x+=ir(Hk||(Hk=Oa(["L ",",",""])),e+r,t+n-f*v[2]),v[2]>0&&(x+=ir(Uk||(Uk=Oa(["A ",",",",0,0,",`,
        `,",",""])),v[2],v[2],h,e+r-m*v[2],t+n)),x+=ir(Yk||(Yk=Oa(["L ",",",""])),e+m*v[3],t+n),v[3]>0&&(x+=ir(Vk||(Vk=Oa(["A ",",",",0,0,",`,
        `,",",""])),v[3],v[3],h,e,t+n-f*v[3])),x+="Z"}else if(u>0&&a===+a&&a>0){var C=Math.min(u,a);x=ir(Gk||(Gk=Oa(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*C,C,C,h,e+m*C,t,e+r-m*C,t,C,C,h,e+r,t+f*C,e+r,t+n-f*C,C,C,h,e+r-m*C,t+n,e+m*C,t+n,C,C,h,e,t+n-f*C)}else x=ir(Wk||(Wk=Oa(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return x},Jk={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VT=e=>{var t=ri(e,Jk),r=N.useRef(null),[n,a]=N.useState(-1);N.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Y=r.current.getTotalLength();Y&&a(Y)}catch{}},[]);var{x:l,y:c,width:u,height:f,radius:m,className:h}=t,{animationEasing:x,animationDuration:v,animationBegin:b,isAnimationActive:S,isUpdateAnimationActive:y}=t,w=N.useRef(u),C=N.useRef(f),k=N.useRef(l),A=N.useRef(c),M=N.useMemo(()=>({x:l,y:c,width:u,height:f,radius:m}),[l,c,u,f,m]),_=V1(M,"rectangle-");if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var T=at("recharts-rectangle",h);if(!y){var P=ea(t),{radius:O}=P,z=Xk(P,B7);return N.createElement("path",Yp({},z,{x:ks(l),y:ks(c),width:ks(u),height:ks(f),radius:typeof m=="number"?m:void 0,className:T,d:Zk(l,c,u,f,m)}))}var R=w.current,F=C.current,D=k.current,Z=A.current,Q="0px ".concat(n===-1?1:n,"px"),J="".concat(n,"px 0px"),L=qT(["strokeDasharray"],v,typeof x=="string"?x:Jk.animationEasing);return N.createElement(Y1,{animationId:_,key:_,canBegin:n>0,duration:v,easing:x,isActive:y,begin:b},Y=>{var q=ua(R,u,Y),le=ua(F,f,Y),be=ua(D,l,Y),B=ua(Z,c,Y);r.current&&(w.current=q,C.current=le,k.current=be,A.current=B);var se;S?Y>0?se={transition:L,strokeDasharray:J}:se={strokeDasharray:Q}:se={strokeDasharray:J};var ve=ea(t),{radius:de}=ve,Ne=Xk(ve,q7);return N.createElement("path",Yp({},Ne,{radius:typeof m=="number"?m:void 0,className:T,d:Zk(be,B,q,le,m),ref:r,style:Qk(Qk({},se),t.style)}))})};function eM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eM(Object(r),!0).forEach(function(n){G7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G7(e,t,r){return(t=W7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W7(e){var t=K7(e,"string");return typeof t=="symbol"?t:t+""}function K7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vp=Math.PI/180,Q7=e=>e*180/Math.PI,yr=(e,t,r,n)=>({x:e+Math.cos(-Vp*n)*r,y:t+Math.sin(-Vp*n)*r}),GT=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},X7=(e,t)=>{var{x:r,y:n}=e,{x:a,y:l}=t;return Math.sqrt((r-a)**2+(n-l)**2)},Z7=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:l}=t,c=X7({x:r,y:n},{x:a,y:l});if(c<=0)return{radius:c,angle:0};var u=(r-a)/c,f=Math.acos(u);return n>l&&(f=2*Math.PI-f),{radius:c,angle:Q7(f),angleInRadian:f}},J7=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),l=Math.min(n,a);return{startAngle:t-l*360,endAngle:r-l*360}},eU=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),l=Math.floor(n/360),c=Math.min(a,l);return e+c*360},tU=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:l}=Z7({x:r,y:n},t),{innerRadius:c,outerRadius:u}=t;if(a<c||a>u||a===0)return null;var{startAngle:f,endAngle:m}=J7(t),h=l,x;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;x=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;x=h>=m&&h<=f}return x?tM(tM({},t),{},{radius:a,angle:eU(h,t)}):null};function WT(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:l}=e,c=yr(t,r,n,a),u=yr(t,r,n,l);return{points:[c,u],cx:t,cy:r,radius:n,startAngle:a,endAngle:l}}var rM,nM,aM,iM,sM,lM,oM;function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Py.apply(null,arguments)}function Sl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var rU=(e,t)=>{var r=pn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Cm=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:l,isExternal:c,cornerRadius:u,cornerIsExternal:f}=e,m=u*(c?1:-1)+n,h=Math.asin(u/m)/Vp,x=f?a:a+l*h,v=yr(t,r,m,x),b=yr(t,r,n,x),S=f?a-l*h:a,y=yr(t,r,m*Math.cos(h*Vp),S);return{center:v,circleTangency:b,lineTangency:y,theta:h}},KT=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c}=e,u=rU(l,c),f=l+u,m=yr(t,r,a,l),h=yr(t,r,a,f),x=ir(rM||(rM=Sl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,a,a,+(Math.abs(u)>180),+(l>f),h.x,h.y);if(n>0){var v=yr(t,r,n,l),b=yr(t,r,n,f);x+=ir(nM||(nM=Sl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),b.x,b.y,n,n,+(Math.abs(u)>180),+(l<=f),v.x,v.y)}else x+=ir(aM||(aM=Sl(["L ",","," Z"])),t,r);return x},nU=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m}=e,h=pn(m-f),{circleTangency:x,lineTangency:v,theta:b}=Cm({cx:t,cy:r,radius:a,angle:f,sign:h,cornerRadius:l,cornerIsExternal:u}),{circleTangency:S,lineTangency:y,theta:w}=Cm({cx:t,cy:r,radius:a,angle:m,sign:-h,cornerRadius:l,cornerIsExternal:u}),C=u?Math.abs(f-m):Math.abs(f-m)-b-w;if(C<0)return c?ir(iM||(iM=Sl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),v.x,v.y,l,l,l*2,l,l,-l*2):KT({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:f,endAngle:m});var k=ir(sM||(sM=Sl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),v.x,v.y,l,l,+(h<0),x.x,x.y,a,a,+(C>180),+(h<0),S.x,S.y,l,l,+(h<0),y.x,y.y);if(n>0){var{circleTangency:A,lineTangency:M,theta:_}=Cm({cx:t,cy:r,radius:n,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),{circleTangency:T,lineTangency:P,theta:O}=Cm({cx:t,cy:r,radius:n,angle:m,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),z=u?Math.abs(f-m):Math.abs(f-m)-_-O;if(z<0&&l===0)return"".concat(k,"L").concat(t,",").concat(r,"Z");k+=ir(lM||(lM=Sl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,l,l,+(h<0),T.x,T.y,n,n,+(z>180),+(h>0),A.x,A.y,l,l,+(h<0),M.x,M.y)}else k+=ir(oM||(oM=Sl(["L",",","Z"])),t,r);return k},aU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},QT=e=>{var t=ri(e,aU),{cx:r,cy:n,innerRadius:a,outerRadius:l,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h,className:x}=t;if(l<a||m===h)return null;var v=at("recharts-sector",x),b=l-a,S=Tn(c,b,0,!0),y;return S>0&&Math.abs(m-h)<360?y=nU({cx:r,cy:n,innerRadius:a,outerRadius:l,cornerRadius:Math.min(S,b/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h}):y=KT({cx:r,cy:n,innerRadius:a,outerRadius:l,startAngle:m,endAngle:h}),N.createElement("path",Py({},ea(t),{className:v,d:y}))};function iU(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(R5(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:l,outerRadius:c,angle:u}=t,f=yr(n,a,l,u),m=yr(n,a,c,u);return[{x:f.x,y:f.y},{x:m.x,y:m.y}]}return WT(t)}}var ab={},ib={},sb={},cM;function sU(){return cM||(cM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V5();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(sb)),sb}var uM;function lU(){return uM||(uM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sU();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(ib)),ib}var dM;function oU(){return dM||(dM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G5(),r=lU();function n(a,l,c){c&&typeof c!="number"&&t.isIterateeCall(a,l,c)&&(l=c=void 0),a=r.toFinite(a),l===void 0?(l=a,a=0):l=r.toFinite(l),c=c===void 0?a<l?1:-1:r.toFinite(c);const u=Math.max(Math.ceil((l-a)/(c||1)),0),f=new Array(u);for(let m=0;m<u;m++)f[m]=a,a+=c;return f}e.range=n})(ab)),ab}var lb,fM;function cU(){return fM||(fM=1,lb=oU().range),lb}var uU=cU();const XT=Za(uU);function Ds(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function dU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function G1(e){let t,r,n;e.length!==2?(t=Ds,r=(u,f)=>Ds(e(u),f),n=(u,f)=>e(u)-f):(t=e===Ds||e===dU?e:fU,r=e,n=e);function a(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const x=m+h>>>1;r(u[x],f)<0?m=x+1:h=x}while(m<h)}return m}function l(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const x=m+h>>>1;r(u[x],f)<=0?m=x+1:h=x}while(m<h)}return m}function c(u,f,m=0,h=u.length){const x=a(u,f,m,h-1);return x>m&&n(u[x-1],f)>-n(u[x],f)?x-1:x}return{left:a,center:c,right:l}}function fU(){return 0}function ZT(e){return e===null?NaN:+e}function*mU(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const pU=G1(Ds),Od=pU.right;G1(ZT).center;class mM extends Map{constructor(t,r=vU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(pM(this,t))}has(t){return super.has(pM(this,t))}set(t,r){return super.set(hU(this,t),r)}delete(t){return super.delete(xU(this,t))}}function pM({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function hU({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function xU({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function vU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function gU(e=Ds){if(e===Ds)return JT;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function JT(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const bU=Math.sqrt(50),yU=Math.sqrt(10),wU=Math.sqrt(2);function Gp(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),l=n/Math.pow(10,a),c=l>=bU?10:l>=yU?5:l>=wU?2:1;let u,f,m;return a<0?(m=Math.pow(10,-a)/c,u=Math.round(e*m),f=Math.round(t*m),u/m<e&&++u,f/m>t&&--f,m=-m):(m=Math.pow(10,a)*c,u=Math.round(e/m),f=Math.round(t/m),u*m<e&&++u,f*m>t&&--f),f<u&&.5<=r&&r<2?Gp(e,t,r*2):[u,f,m]}function Iy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,l,c]=n?Gp(t,e,r):Gp(e,t,r);if(!(l>=a))return[];const u=l-a+1,f=new Array(u);if(n)if(c<0)for(let m=0;m<u;++m)f[m]=(l-m)/-c;else for(let m=0;m<u;++m)f[m]=(l-m)*c;else if(c<0)for(let m=0;m<u;++m)f[m]=(a+m)/-c;else for(let m=0;m<u;++m)f[m]=(a+m)*c;return f}function Ry(e,t,r){return t=+t,e=+e,r=+r,Gp(e,t,r)[2]}function Ly(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Ry(t,e,r):Ry(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function hM(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function xM(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function eP(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?JT:gU(a);n>r;){if(n-r>600){const f=n-r+1,m=t-r+1,h=Math.log(f),x=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*x*(f-x)/f)*(m-f/2<0?-1:1),b=Math.max(r,Math.floor(t-m*x/f+v)),S=Math.min(n,Math.floor(t+(f-m)*x/f+v));eP(e,t,b,S,a)}const l=e[t];let c=r,u=n;for(_u(e,r,t),a(e[n],l)>0&&_u(e,r,n);c<u;){for(_u(e,c,u),++c,--u;a(e[c],l)<0;)++c;for(;a(e[u],l)>0;)--u}a(e[r],l)===0?_u(e,r,u):(++u,_u(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function _u(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function NU(e,t,r){if(e=Float64Array.from(mU(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return xM(e);if(t>=1)return hM(e);var n,a=(n-1)*t,l=Math.floor(a),c=hM(eP(e,l).subarray(0,l+1)),u=xM(e.subarray(l+1));return c+(u-c)*(a-l)}}function jU(e,t,r=ZT){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,l=Math.floor(a),c=+r(e[l],l,e),u=+r(e[l+1],l+1,e);return c+(u-c)*(a-l)}}function SU(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,l=new Array(a);++n<a;)l[n]=e+n*r;return l}function aa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Yi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const zy=Symbol("implicit");function W1(){var e=new mM,t=[],r=[],n=zy;function a(l){let c=e.get(l);if(c===void 0){if(n!==zy)return n;e.set(l,c=t.push(l)-1)}return r[c%r.length]}return a.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new mM;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return a},a.range=function(l){return arguments.length?(r=Array.from(l),a):r.slice()},a.unknown=function(l){return arguments.length?(n=l,a):n},a.copy=function(){return W1(t,r).unknown(n)},aa.apply(a,arguments),a}function K1(){var e=W1().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,l,c,u=!1,f=0,m=0,h=.5;delete e.unknown;function x(){var v=t().length,b=a<n,S=b?a:n,y=b?n:a;l=(y-S)/Math.max(1,v-f+m*2),u&&(l=Math.floor(l)),S+=(y-S-l*(v-f))*h,c=l*(1-f),u&&(S=Math.round(S),c=Math.round(c));var w=SU(v).map(function(C){return S+l*C});return r(b?w.reverse():w)}return e.domain=function(v){return arguments.length?(t(v),x()):t()},e.range=function(v){return arguments.length?([n,a]=v,n=+n,a=+a,x()):[n,a]},e.rangeRound=function(v){return[n,a]=v,n=+n,a=+a,u=!0,x()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(v){return arguments.length?(u=!!v,x()):u},e.padding=function(v){return arguments.length?(f=Math.min(1,m=+v),x()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),x()):f},e.paddingOuter=function(v){return arguments.length?(m=+v,x()):m},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),x()):h},e.copy=function(){return K1(t(),[n,a]).round(u).paddingInner(f).paddingOuter(m).align(h)},aa.apply(x(),arguments)}function tP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return tP(t())},e}function CU(){return tP(K1.apply(null,arguments).paddingInner(1))}function Q1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function rP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Td(){}var fd=.7,Wp=1/fd,Wo="\\s*([+-]?\\d+)\\s*",md="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Va="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AU=/^#([0-9a-f]{3,8})$/,kU=new RegExp(`^rgb\\(${Wo},${Wo},${Wo}\\)$`),MU=new RegExp(`^rgb\\(${Va},${Va},${Va}\\)$`),DU=new RegExp(`^rgba\\(${Wo},${Wo},${Wo},${md}\\)$`),EU=new RegExp(`^rgba\\(${Va},${Va},${Va},${md}\\)$`),_U=new RegExp(`^hsl\\(${md},${Va},${Va}\\)$`),OU=new RegExp(`^hsla\\(${md},${Va},${Va},${md}\\)$`),vM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Q1(Td,pd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:gM,formatHex:gM,formatHex8:TU,formatHsl:PU,formatRgb:bM,toString:bM});function gM(){return this.rgb().formatHex()}function TU(){return this.rgb().formatHex8()}function PU(){return nP(this).formatHsl()}function bM(){return this.rgb().formatRgb()}function pd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=AU.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?yM(t):r===3?new hn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Am(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Am(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=kU.exec(e))?new hn(t[1],t[2],t[3],1):(t=MU.exec(e))?new hn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=DU.exec(e))?Am(t[1],t[2],t[3],t[4]):(t=EU.exec(e))?Am(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_U.exec(e))?jM(t[1],t[2]/100,t[3]/100,1):(t=OU.exec(e))?jM(t[1],t[2]/100,t[3]/100,t[4]):vM.hasOwnProperty(e)?yM(vM[e]):e==="transparent"?new hn(NaN,NaN,NaN,0):null}function yM(e){return new hn(e>>16&255,e>>8&255,e&255,1)}function Am(e,t,r,n){return n<=0&&(e=t=r=NaN),new hn(e,t,r,n)}function IU(e){return e instanceof Td||(e=pd(e)),e?(e=e.rgb(),new hn(e.r,e.g,e.b,e.opacity)):new hn}function Fy(e,t,r,n){return arguments.length===1?IU(e):new hn(e,t,r,n??1)}function hn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Q1(hn,Fy,rP(Td,{brighter(e){return e=e==null?Wp:Math.pow(Wp,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fd:Math.pow(fd,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hn(_l(this.r),_l(this.g),_l(this.b),Kp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wM,formatHex:wM,formatHex8:RU,formatRgb:NM,toString:NM}));function wM(){return`#${Cl(this.r)}${Cl(this.g)}${Cl(this.b)}`}function RU(){return`#${Cl(this.r)}${Cl(this.g)}${Cl(this.b)}${Cl((isNaN(this.opacity)?1:this.opacity)*255)}`}function NM(){const e=Kp(this.opacity);return`${e===1?"rgb(":"rgba("}${_l(this.r)}, ${_l(this.g)}, ${_l(this.b)}${e===1?")":`, ${e})`}`}function Kp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _l(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Cl(e){return e=_l(e),(e<16?"0":"")+e.toString(16)}function jM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ma(e,t,r,n)}function nP(e){if(e instanceof ma)return new ma(e.h,e.s,e.l,e.opacity);if(e instanceof Td||(e=pd(e)),!e)return new ma;if(e instanceof ma)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),l=Math.max(t,r,n),c=NaN,u=l-a,f=(l+a)/2;return u?(t===l?c=(r-n)/u+(r<n)*6:r===l?c=(n-t)/u+2:c=(t-r)/u+4,u/=f<.5?l+a:2-l-a,c*=60):u=f>0&&f<1?0:c,new ma(c,u,f,e.opacity)}function LU(e,t,r,n){return arguments.length===1?nP(e):new ma(e,t,r,n??1)}function ma(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Q1(ma,LU,rP(Td,{brighter(e){return e=e==null?Wp:Math.pow(Wp,e),new ma(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fd:Math.pow(fd,e),new ma(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new hn(ob(e>=240?e-240:e+120,a,n),ob(e,a,n),ob(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ma(SM(this.h),km(this.s),km(this.l),Kp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Kp(this.opacity);return`${e===1?"hsl(":"hsla("}${SM(this.h)}, ${km(this.s)*100}%, ${km(this.l)*100}%${e===1?")":`, ${e})`}`}}));function SM(e){return e=(e||0)%360,e<0?e+360:e}function km(e){return Math.max(0,Math.min(1,e||0))}function ob(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const X1=e=>()=>e;function zU(e,t){return function(r){return e+r*t}}function FU(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function $U(e){return(e=+e)==1?aP:function(t,r){return r-t?FU(t,r,e):X1(isNaN(t)?r:t)}}function aP(e,t){var r=t-e;return r?zU(e,r):X1(isNaN(e)?t:e)}const CM=(function e(t){var r=$U(t);function n(a,l){var c=r((a=Fy(a)).r,(l=Fy(l)).r),u=r(a.g,l.g),f=r(a.b,l.b),m=aP(a.opacity,l.opacity);return function(h){return a.r=c(h),a.g=u(h),a.b=f(h),a.opacity=m(h),a+""}}return n.gamma=e,n})(1);function BU(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(l){for(a=0;a<r;++a)n[a]=e[a]*(1-l)+t[a]*l;return n}}function qU(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function HU(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),l=new Array(r),c;for(c=0;c<n;++c)a[c]=yc(e[c],t[c]);for(;c<r;++c)l[c]=t[c];return function(u){for(c=0;c<n;++c)l[c]=a[c](u);return l}}function UU(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Qp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function YU(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=yc(e[a],t[a]):n[a]=t[a];return function(l){for(a in r)n[a]=r[a](l);return n}}var $y=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cb=new RegExp($y.source,"g");function VU(e){return function(){return e}}function GU(e){return function(t){return e(t)+""}}function WU(e,t){var r=$y.lastIndex=cb.lastIndex=0,n,a,l,c=-1,u=[],f=[];for(e=e+"",t=t+"";(n=$y.exec(e))&&(a=cb.exec(t));)(l=a.index)>r&&(l=t.slice(r,l),u[c]?u[c]+=l:u[++c]=l),(n=n[0])===(a=a[0])?u[c]?u[c]+=a:u[++c]=a:(u[++c]=null,f.push({i:c,x:Qp(n,a)})),r=cb.lastIndex;return r<t.length&&(l=t.slice(r),u[c]?u[c]+=l:u[++c]=l),u.length<2?f[0]?GU(f[0].x):VU(t):(t=f.length,function(m){for(var h=0,x;h<t;++h)u[(x=f[h]).i]=x.x(m);return u.join("")})}function yc(e,t){var r=typeof t,n;return t==null||r==="boolean"?X1(t):(r==="number"?Qp:r==="string"?(n=pd(t))?(t=n,CM):WU:t instanceof pd?CM:t instanceof Date?UU:qU(t)?BU:Array.isArray(t)?HU:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?YU:Qp)(e,t)}function Z1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function KU(e,t){t===void 0&&(t=e,e=yc);for(var r=0,n=t.length-1,a=t[0],l=new Array(n<0?0:n);r<n;)l[r]=e(a,a=t[++r]);return function(c){var u=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return l[u](c-u)}}function QU(e){return function(){return e}}function Xp(e){return+e}var AM=[0,1];function Xr(e){return e}function By(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:QU(isNaN(t)?NaN:.5)}function XU(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function ZU(e,t,r){var n=e[0],a=e[1],l=t[0],c=t[1];return a<n?(n=By(a,n),l=r(c,l)):(n=By(n,a),l=r(l,c)),function(u){return l(n(u))}}function JU(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),l=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)a[c]=By(e[c],e[c+1]),l[c]=r(t[c],t[c+1]);return function(u){var f=Od(e,u,1,n)-1;return l[f](a[f](u))}}function Pd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function rx(){var e=AM,t=AM,r=yc,n,a,l,c=Xr,u,f,m;function h(){var v=Math.min(e.length,t.length);return c!==Xr&&(c=XU(e[0],e[v-1])),u=v>2?JU:ZU,f=m=null,x}function x(v){return v==null||isNaN(v=+v)?l:(f||(f=u(e.map(n),t,r)))(n(c(v)))}return x.invert=function(v){return c(a((m||(m=u(t,e.map(n),Qp)))(v)))},x.domain=function(v){return arguments.length?(e=Array.from(v,Xp),h()):e.slice()},x.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},x.rangeRound=function(v){return t=Array.from(v),r=Z1,h()},x.clamp=function(v){return arguments.length?(c=v?!0:Xr,h()):c!==Xr},x.interpolate=function(v){return arguments.length?(r=v,h()):r},x.unknown=function(v){return arguments.length?(l=v,x):l},function(v,b){return n=v,a=b,h()}}function J1(){return rx()(Xr,Xr)}function eY(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Zp(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function nc(e){return e=Zp(Math.abs(e)),e?e[1]:NaN}function tY(e,t){return function(r,n){for(var a=r.length,l=[],c=0,u=e[0],f=0;a>0&&u>0&&(f+u+1>n&&(u=Math.max(1,n-f)),l.push(r.substring(a-=u,a+u)),!((f+=u+1)>n));)u=e[c=(c+1)%e.length];return l.reverse().join(t)}}function rY(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var nY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hd(e){if(!(t=nY.exec(e)))throw new Error("invalid format: "+e);var t;return new ew({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}hd.prototype=ew.prototype;function ew(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ew.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aY(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Jp;function iY(e,t){var r=Zp(e,t);if(!r)return Jp=void 0,e.toPrecision(t);var n=r[0],a=r[1],l=a-(Jp=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=n.length;return l===c?n:l>c?n+new Array(l-c+1).join("0"):l>0?n.slice(0,l)+"."+n.slice(l):"0."+new Array(1-l).join("0")+Zp(e,Math.max(0,t+l-1))[0]}function kM(e,t){var r=Zp(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const MM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:eY,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>kM(e*100,t),r:kM,s:iY,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function DM(e){return e}var EM=Array.prototype.map,_M=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function sY(e){var t=e.grouping===void 0||e.thousands===void 0?DM:tY(EM.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?DM:rY(EM.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(x,v){x=hd(x);var b=x.fill,S=x.align,y=x.sign,w=x.symbol,C=x.zero,k=x.width,A=x.comma,M=x.precision,_=x.trim,T=x.type;T==="n"?(A=!0,T="g"):MM[T]||(M===void 0&&(M=12),_=!0,T="g"),(C||b==="0"&&S==="=")&&(C=!0,b="0",S="=");var P=(v&&v.prefix!==void 0?v.prefix:"")+(w==="$"?r:w==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():""),O=(w==="$"?n:/[%p]/.test(T)?c:"")+(v&&v.suffix!==void 0?v.suffix:""),z=MM[T],R=/[defgprs%]/.test(T);M=M===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function F(D){var Z=P,Q=O,J,L,Y;if(T==="c")Q=z(D)+Q,D="";else{D=+D;var q=D<0||1/D<0;if(D=isNaN(D)?f:z(Math.abs(D),M),_&&(D=aY(D)),q&&+D==0&&y!=="+"&&(q=!1),Z=(q?y==="("?y:u:y==="-"||y==="("?"":y)+Z,Q=(T==="s"&&!isNaN(D)&&Jp!==void 0?_M[8+Jp/3]:"")+Q+(q&&y==="("?")":""),R){for(J=-1,L=D.length;++J<L;)if(Y=D.charCodeAt(J),48>Y||Y>57){Q=(Y===46?a+D.slice(J+1):D.slice(J))+Q,D=D.slice(0,J);break}}}A&&!C&&(D=t(D,1/0));var le=Z.length+D.length+Q.length,be=le<k?new Array(k-le+1).join(b):"";switch(A&&C&&(D=t(be+D,be.length?k-Q.length:1/0),be=""),S){case"<":D=Z+D+Q+be;break;case"=":D=Z+be+D+Q;break;case"^":D=be.slice(0,le=be.length>>1)+Z+D+Q+be.slice(le);break;default:D=be+Z+D+Q;break}return l(D)}return F.toString=function(){return x+""},F}function h(x,v){var b=Math.max(-8,Math.min(8,Math.floor(nc(v)/3)))*3,S=Math.pow(10,-b),y=m((x=hd(x),x.type="f",x),{suffix:_M[8+b/3]});return function(w){return y(S*w)}}return{format:m,formatPrefix:h}}var Mm,tw,iP;lY({thousands:",",grouping:[3],currency:["$",""]});function lY(e){return Mm=sY(e),tw=Mm.format,iP=Mm.formatPrefix,Mm}function oY(e){return Math.max(0,-nc(Math.abs(e)))}function cY(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nc(t)/3)))*3-nc(Math.abs(e)))}function uY(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,nc(t)-nc(e))+1}function sP(e,t,r,n){var a=Ly(e,t,r),l;switch(n=hd(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(l=cY(a,c))&&(n.precision=l),iP(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(l=uY(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=l-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(l=oY(a))&&(n.precision=l-(n.type==="%")*2);break}}return tw(n)}function qs(e){var t=e.domain;return e.ticks=function(r){var n=t();return Iy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return sP(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,l=n.length-1,c=n[a],u=n[l],f,m,h=10;for(u<c&&(m=c,c=u,u=m,m=a,a=l,l=m);h-- >0;){if(m=Ry(c,u,r),m===f)return n[a]=c,n[l]=u,t(n);if(m>0)c=Math.floor(c/m)*m,u=Math.ceil(u/m)*m;else if(m<0)c=Math.ceil(c*m)/m,u=Math.floor(u*m)/m;else break;f=m}return e},e}function lP(){var e=J1();return e.copy=function(){return Pd(e,lP())},aa.apply(e,arguments),qs(e)}function oP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Xp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return oP(e).unknown(t)},e=arguments.length?Array.from(e,Xp):[0,1],qs(r)}function cP(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],l=e[n],c;return l<a&&(c=r,r=n,n=c,c=a,a=l,l=c),e[r]=t.floor(a),e[n]=t.ceil(l),e}function OM(e){return Math.log(e)}function TM(e){return Math.exp(e)}function dY(e){return-Math.log(-e)}function fY(e){return-Math.exp(-e)}function mY(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pY(e){return e===10?mY:e===Math.E?Math.exp:t=>Math.pow(e,t)}function hY(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function PM(e){return(t,r)=>-e(-t,r)}function rw(e){const t=e(OM,TM),r=t.domain;let n=10,a,l;function c(){return a=hY(n),l=pY(n),r()[0]<0?(a=PM(a),l=PM(l),e(dY,fY)):e(OM,TM),t}return t.base=function(u){return arguments.length?(n=+u,c()):n},t.domain=function(u){return arguments.length?(r(u),c()):r()},t.ticks=u=>{const f=r();let m=f[0],h=f[f.length-1];const x=h<m;x&&([m,h]=[h,m]);let v=a(m),b=a(h),S,y;const w=u==null?10:+u;let C=[];if(!(n%1)&&b-v<w){if(v=Math.floor(v),b=Math.ceil(b),m>0){for(;v<=b;++v)for(S=1;S<n;++S)if(y=v<0?S/l(-v):S*l(v),!(y<m)){if(y>h)break;C.push(y)}}else for(;v<=b;++v)for(S=n-1;S>=1;--S)if(y=v>0?S/l(-v):S*l(v),!(y<m)){if(y>h)break;C.push(y)}C.length*2<w&&(C=Iy(m,h,w))}else C=Iy(v,b,Math.min(b-v,w)).map(l);return x?C.reverse():C},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=hd(f)).precision==null&&(f.trim=!0),f=tw(f)),u===1/0)return f;const m=Math.max(1,n*u/t.ticks().length);return h=>{let x=h/l(Math.round(a(h)));return x*n<n-.5&&(x*=n),x<=m?f(h):""}},t.nice=()=>r(cP(r(),{floor:u=>l(Math.floor(a(u))),ceil:u=>l(Math.ceil(a(u)))})),t}function uP(){const e=rw(rx()).domain([1,10]);return e.copy=()=>Pd(e,uP()).base(e.base()),aa.apply(e,arguments),e}function IM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function RM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function nw(e){var t=1,r=e(IM(t),RM(t));return r.constant=function(n){return arguments.length?e(IM(t=+n),RM(t)):t},qs(r)}function dP(){var e=nw(rx());return e.copy=function(){return Pd(e,dP()).constant(e.constant())},aa.apply(e,arguments)}function LM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xY(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function vY(e){return e<0?-e*e:e*e}function aw(e){var t=e(Xr,Xr),r=1;function n(){return r===1?e(Xr,Xr):r===.5?e(xY,vY):e(LM(r),LM(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},qs(t)}function iw(){var e=aw(rx());return e.copy=function(){return Pd(e,iw()).exponent(e.exponent())},aa.apply(e,arguments),e}function gY(){return iw.apply(null,arguments).exponent(.5)}function zM(e){return Math.sign(e)*e*e}function bY(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function fP(){var e=J1(),t=[0,1],r=!1,n;function a(l){var c=bY(e(l));return isNaN(c)?n:r?Math.round(c):c}return a.invert=function(l){return e.invert(zM(l))},a.domain=function(l){return arguments.length?(e.domain(l),a):e.domain()},a.range=function(l){return arguments.length?(e.range((t=Array.from(l,Xp)).map(zM)),a):t.slice()},a.rangeRound=function(l){return a.range(l).round(!0)},a.round=function(l){return arguments.length?(r=!!l,a):r},a.clamp=function(l){return arguments.length?(e.clamp(l),a):e.clamp()},a.unknown=function(l){return arguments.length?(n=l,a):n},a.copy=function(){return fP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},aa.apply(a,arguments),qs(a)}function mP(){var e=[],t=[],r=[],n;function a(){var c=0,u=Math.max(1,t.length);for(r=new Array(u-1);++c<u;)r[c-1]=jU(e,c/u);return l}function l(c){return c==null||isNaN(c=+c)?n:t[Od(r,c)]}return l.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ds),a()},l.range=function(c){return arguments.length?(t=Array.from(c),a()):t.slice()},l.unknown=function(c){return arguments.length?(n=c,l):n},l.quantiles=function(){return r.slice()},l.copy=function(){return mP().domain(e).range(t).unknown(n)},aa.apply(l,arguments)}function pP(){var e=0,t=1,r=1,n=[.5],a=[0,1],l;function c(f){return f!=null&&f<=f?a[Od(n,f,0,r)]:l}function u(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},c.range=function(f){return arguments.length?(r=(a=Array.from(f)).length-1,u()):a.slice()},c.invertExtent=function(f){var m=a.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},c.unknown=function(f){return arguments.length&&(l=f),c},c.thresholds=function(){return n.slice()},c.copy=function(){return pP().domain([e,t]).range(a).unknown(l)},aa.apply(qs(c),arguments)}function hP(){var e=[.5],t=[0,1],r,n=1;function a(l){return l!=null&&l<=l?t[Od(e,l,0,n)]:r}return a.domain=function(l){return arguments.length?(e=Array.from(l),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(l){return arguments.length?(t=Array.from(l),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},a.unknown=function(l){return arguments.length?(r=l,a):r},a.copy=function(){return hP().domain(e).range(t).unknown(r)},aa.apply(a,arguments)}const ub=new Date,db=new Date;function Ar(e,t,r,n){function a(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return a.floor=l=>(e(l=new Date(+l)),l),a.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),a.round=l=>{const c=a(l),u=a.ceil(l);return l-c<u-l?c:u},a.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),a.range=(l,c,u)=>{const f=[];if(l=a.ceil(l),u=u==null?1:Math.floor(u),!(l<c)||!(u>0))return f;let m;do f.push(m=new Date(+l)),t(l,u),e(l);while(m<l&&l<c);return f},a.filter=l=>Ar(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!l(c););else for(;--u>=0;)for(;t(c,1),!l(c););}),r&&(a.count=(l,c)=>(ub.setTime(+l),db.setTime(+c),e(ub),e(db),Math.floor(r(ub,db))),a.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?a.filter(n?c=>n(c)%l===0:c=>a.count(0,c)%l===0):a)),a}const eh=Ar(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);eh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ar(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):eh);eh.range;const Ci=1e3,Jn=Ci*60,Ai=Jn*60,Ri=Ai*24,sw=Ri*7,FM=Ri*30,fb=Ri*365,Al=Ar(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ci)},(e,t)=>(t-e)/Ci,e=>e.getUTCSeconds());Al.range;const lw=Ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ci)},(e,t)=>{e.setTime(+e+t*Jn)},(e,t)=>(t-e)/Jn,e=>e.getMinutes());lw.range;const ow=Ar(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Jn)},(e,t)=>(t-e)/Jn,e=>e.getUTCMinutes());ow.range;const cw=Ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ci-e.getMinutes()*Jn)},(e,t)=>{e.setTime(+e+t*Ai)},(e,t)=>(t-e)/Ai,e=>e.getHours());cw.range;const uw=Ar(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ai)},(e,t)=>(t-e)/Ai,e=>e.getUTCHours());uw.range;const Id=Ar(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Jn)/Ri,e=>e.getDate()-1);Id.range;const nx=Ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ri,e=>e.getUTCDate()-1);nx.range;const xP=Ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ri,e=>Math.floor(e/Ri));xP.range;function Vl(e){return Ar(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Jn)/sw)}const ax=Vl(0),th=Vl(1),yY=Vl(2),wY=Vl(3),ac=Vl(4),NY=Vl(5),jY=Vl(6);ax.range;th.range;yY.range;wY.range;ac.range;NY.range;jY.range;function Gl(e){return Ar(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/sw)}const ix=Gl(0),rh=Gl(1),SY=Gl(2),CY=Gl(3),ic=Gl(4),AY=Gl(5),kY=Gl(6);ix.range;rh.range;SY.range;CY.range;ic.range;AY.range;kY.range;const dw=Ar(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());dw.range;const fw=Ar(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());fw.range;const Li=Ar(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Li.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ar(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Li.range;const zi=Ar(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());zi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ar(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});zi.range;function vP(e,t,r,n,a,l){const c=[[Al,1,Ci],[Al,5,5*Ci],[Al,15,15*Ci],[Al,30,30*Ci],[l,1,Jn],[l,5,5*Jn],[l,15,15*Jn],[l,30,30*Jn],[a,1,Ai],[a,3,3*Ai],[a,6,6*Ai],[a,12,12*Ai],[n,1,Ri],[n,2,2*Ri],[r,1,sw],[t,1,FM],[t,3,3*FM],[e,1,fb]];function u(m,h,x){const v=h<m;v&&([m,h]=[h,m]);const b=x&&typeof x.range=="function"?x:f(m,h,x),S=b?b.range(m,+h+1):[];return v?S.reverse():S}function f(m,h,x){const v=Math.abs(h-m)/x,b=G1(([,,w])=>w).right(c,v);if(b===c.length)return e.every(Ly(m/fb,h/fb,x));if(b===0)return eh.every(Math.max(Ly(m,h,x),1));const[S,y]=c[v/c[b-1][2]<c[b][2]/v?b-1:b];return S.every(y)}return[u,f]}const[MY,DY]=vP(zi,fw,ix,xP,uw,ow),[EY,_Y]=vP(Li,dw,ax,Id,cw,lw);function mb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function pb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ou(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function OY(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,l=e.days,c=e.shortDays,u=e.months,f=e.shortMonths,m=Tu(a),h=Pu(a),x=Tu(l),v=Pu(l),b=Tu(c),S=Pu(c),y=Tu(u),w=Pu(u),C=Tu(f),k=Pu(f),A={a:Y,A:q,b:le,B:be,c:null,d:YM,e:YM,f:tV,g:dV,G:mV,H:ZY,I:JY,j:eV,L:gP,m:rV,M:nV,p:B,q:se,Q:WM,s:KM,S:aV,u:iV,U:sV,V:lV,w:oV,W:cV,x:null,X:null,y:uV,Y:fV,Z:pV,"%":GM},M={a:ve,A:de,b:Ne,B:xe,c:null,d:VM,e:VM,f:gV,g:MV,G:EV,H:hV,I:xV,j:vV,L:yP,m:bV,M:yV,p:he,q:ke,Q:WM,s:KM,S:wV,u:NV,U:jV,V:SV,w:CV,W:AV,x:null,X:null,y:kV,Y:DV,Z:_V,"%":GM},_={a:R,A:F,b:D,B:Z,c:Q,d:HM,e:HM,f:WY,g:qM,G:BM,H:UM,I:UM,j:UY,L:GY,m:HY,M:YY,p:z,q:qY,Q:QY,s:XY,S:VY,u:LY,U:zY,V:FY,w:RY,W:$Y,x:J,X:L,y:qM,Y:BM,Z:BY,"%":KY};A.x=T(r,A),A.X=T(n,A),A.c=T(t,A),M.x=T(r,M),M.X=T(n,M),M.c=T(t,M);function T(re,Fe){return function(Ue){var ge=[],Be=-1,qe=0,Ke=re.length,Nt,_t,Pe;for(Ue instanceof Date||(Ue=new Date(+Ue));++Be<Ke;)re.charCodeAt(Be)===37&&(ge.push(re.slice(qe,Be)),(_t=$M[Nt=re.charAt(++Be)])!=null?Nt=re.charAt(++Be):_t=Nt==="e"?" ":"0",(Pe=Fe[Nt])&&(Nt=Pe(Ue,_t)),ge.push(Nt),qe=Be+1);return ge.push(re.slice(qe,Be)),ge.join("")}}function P(re,Fe){return function(Ue){var ge=Ou(1900,void 0,1),Be=O(ge,re,Ue+="",0),qe,Ke;if(Be!=Ue.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(Fe&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(qe=pb(Ou(ge.y,0,1)),Ke=qe.getUTCDay(),qe=Ke>4||Ke===0?rh.ceil(qe):rh(qe),qe=nx.offset(qe,(ge.V-1)*7),ge.y=qe.getUTCFullYear(),ge.m=qe.getUTCMonth(),ge.d=qe.getUTCDate()+(ge.w+6)%7):(qe=mb(Ou(ge.y,0,1)),Ke=qe.getDay(),qe=Ke>4||Ke===0?th.ceil(qe):th(qe),qe=Id.offset(qe,(ge.V-1)*7),ge.y=qe.getFullYear(),ge.m=qe.getMonth(),ge.d=qe.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),Ke="Z"in ge?pb(Ou(ge.y,0,1)).getUTCDay():mb(Ou(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(Ke+5)%7:ge.w+ge.U*7-(Ke+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,pb(ge)):mb(ge)}}function O(re,Fe,Ue,ge){for(var Be=0,qe=Fe.length,Ke=Ue.length,Nt,_t;Be<qe;){if(ge>=Ke)return-1;if(Nt=Fe.charCodeAt(Be++),Nt===37){if(Nt=Fe.charAt(Be++),_t=_[Nt in $M?Fe.charAt(Be++):Nt],!_t||(ge=_t(re,Ue,ge))<0)return-1}else if(Nt!=Ue.charCodeAt(ge++))return-1}return ge}function z(re,Fe,Ue){var ge=m.exec(Fe.slice(Ue));return ge?(re.p=h.get(ge[0].toLowerCase()),Ue+ge[0].length):-1}function R(re,Fe,Ue){var ge=b.exec(Fe.slice(Ue));return ge?(re.w=S.get(ge[0].toLowerCase()),Ue+ge[0].length):-1}function F(re,Fe,Ue){var ge=x.exec(Fe.slice(Ue));return ge?(re.w=v.get(ge[0].toLowerCase()),Ue+ge[0].length):-1}function D(re,Fe,Ue){var ge=C.exec(Fe.slice(Ue));return ge?(re.m=k.get(ge[0].toLowerCase()),Ue+ge[0].length):-1}function Z(re,Fe,Ue){var ge=y.exec(Fe.slice(Ue));return ge?(re.m=w.get(ge[0].toLowerCase()),Ue+ge[0].length):-1}function Q(re,Fe,Ue){return O(re,t,Fe,Ue)}function J(re,Fe,Ue){return O(re,r,Fe,Ue)}function L(re,Fe,Ue){return O(re,n,Fe,Ue)}function Y(re){return c[re.getDay()]}function q(re){return l[re.getDay()]}function le(re){return f[re.getMonth()]}function be(re){return u[re.getMonth()]}function B(re){return a[+(re.getHours()>=12)]}function se(re){return 1+~~(re.getMonth()/3)}function ve(re){return c[re.getUTCDay()]}function de(re){return l[re.getUTCDay()]}function Ne(re){return f[re.getUTCMonth()]}function xe(re){return u[re.getUTCMonth()]}function he(re){return a[+(re.getUTCHours()>=12)]}function ke(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var Fe=T(re+="",A);return Fe.toString=function(){return re},Fe},parse:function(re){var Fe=P(re+="",!1);return Fe.toString=function(){return re},Fe},utcFormat:function(re){var Fe=T(re+="",M);return Fe.toString=function(){return re},Fe},utcParse:function(re){var Fe=P(re+="",!0);return Fe.toString=function(){return re},Fe}}}var $M={"-":"",_:" ",0:"0"},_r=/^\s*\d+/,TY=/^%/,PY=/[\\^$*+?|[\]().{}]/g;function wt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",l=a.length;return n+(l<r?new Array(r-l+1).join(t)+a:a)}function IY(e){return e.replace(PY,"\\$&")}function Tu(e){return new RegExp("^(?:"+e.map(IY).join("|")+")","i")}function Pu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function RY(e,t,r){var n=_r.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function LY(e,t,r){var n=_r.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function zY(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function FY(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function $Y(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function BM(e,t,r){var n=_r.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function qM(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function BY(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function qY(e,t,r){var n=_r.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function HY(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function HM(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function UY(e,t,r){var n=_r.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function UM(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function YY(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function VY(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function GY(e,t,r){var n=_r.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function WY(e,t,r){var n=_r.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function KY(e,t,r){var n=TY.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function QY(e,t,r){var n=_r.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function XY(e,t,r){var n=_r.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function YM(e,t){return wt(e.getDate(),t,2)}function ZY(e,t){return wt(e.getHours(),t,2)}function JY(e,t){return wt(e.getHours()%12||12,t,2)}function eV(e,t){return wt(1+Id.count(Li(e),e),t,3)}function gP(e,t){return wt(e.getMilliseconds(),t,3)}function tV(e,t){return gP(e,t)+"000"}function rV(e,t){return wt(e.getMonth()+1,t,2)}function nV(e,t){return wt(e.getMinutes(),t,2)}function aV(e,t){return wt(e.getSeconds(),t,2)}function iV(e){var t=e.getDay();return t===0?7:t}function sV(e,t){return wt(ax.count(Li(e)-1,e),t,2)}function bP(e){var t=e.getDay();return t>=4||t===0?ac(e):ac.ceil(e)}function lV(e,t){return e=bP(e),wt(ac.count(Li(e),e)+(Li(e).getDay()===4),t,2)}function oV(e){return e.getDay()}function cV(e,t){return wt(th.count(Li(e)-1,e),t,2)}function uV(e,t){return wt(e.getFullYear()%100,t,2)}function dV(e,t){return e=bP(e),wt(e.getFullYear()%100,t,2)}function fV(e,t){return wt(e.getFullYear()%1e4,t,4)}function mV(e,t){var r=e.getDay();return e=r>=4||r===0?ac(e):ac.ceil(e),wt(e.getFullYear()%1e4,t,4)}function pV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wt(t/60|0,"0",2)+wt(t%60,"0",2)}function VM(e,t){return wt(e.getUTCDate(),t,2)}function hV(e,t){return wt(e.getUTCHours(),t,2)}function xV(e,t){return wt(e.getUTCHours()%12||12,t,2)}function vV(e,t){return wt(1+nx.count(zi(e),e),t,3)}function yP(e,t){return wt(e.getUTCMilliseconds(),t,3)}function gV(e,t){return yP(e,t)+"000"}function bV(e,t){return wt(e.getUTCMonth()+1,t,2)}function yV(e,t){return wt(e.getUTCMinutes(),t,2)}function wV(e,t){return wt(e.getUTCSeconds(),t,2)}function NV(e){var t=e.getUTCDay();return t===0?7:t}function jV(e,t){return wt(ix.count(zi(e)-1,e),t,2)}function wP(e){var t=e.getUTCDay();return t>=4||t===0?ic(e):ic.ceil(e)}function SV(e,t){return e=wP(e),wt(ic.count(zi(e),e)+(zi(e).getUTCDay()===4),t,2)}function CV(e){return e.getUTCDay()}function AV(e,t){return wt(rh.count(zi(e)-1,e),t,2)}function kV(e,t){return wt(e.getUTCFullYear()%100,t,2)}function MV(e,t){return e=wP(e),wt(e.getUTCFullYear()%100,t,2)}function DV(e,t){return wt(e.getUTCFullYear()%1e4,t,4)}function EV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ic(e):ic.ceil(e),wt(e.getUTCFullYear()%1e4,t,4)}function _V(){return"+0000"}function GM(){return"%"}function WM(e){return+e}function KM(e){return Math.floor(+e/1e3)}var To,NP,jP;OV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function OV(e){return To=OY(e),NP=To.format,To.parse,jP=To.utcFormat,To.utcParse,To}function TV(e){return new Date(e)}function PV(e){return e instanceof Date?+e:+new Date(+e)}function mw(e,t,r,n,a,l,c,u,f,m){var h=J1(),x=h.invert,v=h.domain,b=m(".%L"),S=m(":%S"),y=m("%I:%M"),w=m("%I %p"),C=m("%a %d"),k=m("%b %d"),A=m("%B"),M=m("%Y");function _(T){return(f(T)<T?b:u(T)<T?S:c(T)<T?y:l(T)<T?w:n(T)<T?a(T)<T?C:k:r(T)<T?A:M)(T)}return h.invert=function(T){return new Date(x(T))},h.domain=function(T){return arguments.length?v(Array.from(T,PV)):v().map(TV)},h.ticks=function(T){var P=v();return e(P[0],P[P.length-1],T??10)},h.tickFormat=function(T,P){return P==null?_:m(P)},h.nice=function(T){var P=v();return(!T||typeof T.range!="function")&&(T=t(P[0],P[P.length-1],T??10)),T?v(cP(P,T)):h},h.copy=function(){return Pd(h,mw(e,t,r,n,a,l,c,u,f,m))},h}function IV(){return aa.apply(mw(EY,_Y,Li,dw,ax,Id,cw,lw,Al,NP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function RV(){return aa.apply(mw(MY,DY,zi,fw,ix,nx,uw,ow,Al,jP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sx(){var e=0,t=1,r,n,a,l,c=Xr,u=!1,f;function m(x){return x==null||isNaN(x=+x)?f:c(a===0?.5:(x=(l(x)-r)*a,u?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t]=x,r=l(e=+e),n=l(t=+t),a=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(x){return arguments.length?(u=!!x,m):u},m.interpolator=function(x){return arguments.length?(c=x,m):c};function h(x){return function(v){var b,S;return arguments.length?([b,S]=v,c=x(b,S),m):[c(0),c(1)]}}return m.range=h(yc),m.rangeRound=h(Z1),m.unknown=function(x){return arguments.length?(f=x,m):f},function(x){return l=x,r=x(e),n=x(t),a=r===n?0:1/(n-r),m}}function Hs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function SP(){var e=qs(sx()(Xr));return e.copy=function(){return Hs(e,SP())},Yi.apply(e,arguments)}function CP(){var e=rw(sx()).domain([1,10]);return e.copy=function(){return Hs(e,CP()).base(e.base())},Yi.apply(e,arguments)}function AP(){var e=nw(sx());return e.copy=function(){return Hs(e,AP()).constant(e.constant())},Yi.apply(e,arguments)}function pw(){var e=aw(sx());return e.copy=function(){return Hs(e,pw()).exponent(e.exponent())},Yi.apply(e,arguments)}function LV(){return pw.apply(null,arguments).exponent(.5)}function kP(){var e=[],t=Xr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Od(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ds),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,l)=>NU(e,l/n))},r.copy=function(){return kP(t).domain(e)},Yi.apply(r,arguments)}function lx(){var e=0,t=.5,r=1,n=1,a,l,c,u,f,m=Xr,h,x=!1,v;function b(y){return isNaN(y=+y)?v:(y=.5+((y=+h(y))-l)*(n*y<n*l?u:f),m(x?Math.max(0,Math.min(1,y)):y))}b.domain=function(y){return arguments.length?([e,t,r]=y,a=h(e=+e),l=h(t=+t),c=h(r=+r),u=a===l?0:.5/(l-a),f=l===c?0:.5/(c-l),n=l<a?-1:1,b):[e,t,r]},b.clamp=function(y){return arguments.length?(x=!!y,b):x},b.interpolator=function(y){return arguments.length?(m=y,b):m};function S(y){return function(w){var C,k,A;return arguments.length?([C,k,A]=w,m=KU(y,[C,k,A]),b):[m(0),m(.5),m(1)]}}return b.range=S(yc),b.rangeRound=S(Z1),b.unknown=function(y){return arguments.length?(v=y,b):v},function(y){return h=y,a=y(e),l=y(t),c=y(r),u=a===l?0:.5/(l-a),f=l===c?0:.5/(c-l),n=l<a?-1:1,b}}function MP(){var e=qs(lx()(Xr));return e.copy=function(){return Hs(e,MP())},Yi.apply(e,arguments)}function DP(){var e=rw(lx()).domain([.1,1,10]);return e.copy=function(){return Hs(e,DP()).base(e.base())},Yi.apply(e,arguments)}function EP(){var e=nw(lx());return e.copy=function(){return Hs(e,EP()).constant(e.constant())},Yi.apply(e,arguments)}function hw(){var e=aw(lx());return e.copy=function(){return Hs(e,hw()).exponent(e.exponent())},Yi.apply(e,arguments)}function zV(){return hw.apply(null,arguments).exponent(.5)}const Gu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:K1,scaleDiverging:MP,scaleDivergingLog:DP,scaleDivergingPow:hw,scaleDivergingSqrt:zV,scaleDivergingSymlog:EP,scaleIdentity:oP,scaleImplicit:zy,scaleLinear:lP,scaleLog:uP,scaleOrdinal:W1,scalePoint:CU,scalePow:iw,scaleQuantile:mP,scaleQuantize:pP,scaleRadial:fP,scaleSequential:SP,scaleSequentialLog:CP,scaleSequentialPow:pw,scaleSequentialQuantile:kP,scaleSequentialSqrt:LV,scaleSequentialSymlog:AP,scaleSqrt:gY,scaleSymlog:dP,scaleThreshold:hP,scaleTime:IV,scaleUtc:RV,tickFormat:sP},Symbol.toStringTag,{value:"Module"}));var Us=e=>e.chartData,xw=ie([Us],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),_P=(e,t,r,n)=>n?xw(e):Us(e);function Fi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Rt(t)&&Rt(r))return!0}return!1}function QM(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function OP(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,l;if(Rt(r))a=r;else if(typeof r=="function")return;if(Rt(n))l=n;else if(typeof n=="function")return;var c=[a,l];if(Fi(c))return c}}function FV(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Fi(n))return QM(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,l]=e,c,u;if(a==="auto")t!=null&&(c=Math.min(...t));else if(Qe(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[0]))}catch{}else if(typeof a=="string"&&sk.test(a)){var f=sk.exec(a);if(f==null||f[1]==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t?.[0];if(l==="auto")t!=null&&(u=Math.max(...t));else if(Qe(l))u=l;else if(typeof l=="function")try{t!=null&&(u=l(t?.[1]))}catch{}else if(typeof l=="string"&&lk.test(l)){var h=lk.exec(l);if(h==null||h[1]==null||t==null)u=void 0;else{var x=+h[1];u=t[1]+x}}else u=t?.[1];var v=[c,u];if(Fi(v))return t==null?v:QM(v,t,r)}}}var wc=1e9,$V={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},gw,Wt=!0,ra="[DecimalError] ",Ol=ra+"Invalid argument: ",vw=ra+"Exponent out of range: ",Nc=Math.floor,bl=Math.pow,BV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_n,Dr=1e7,Ht=7,TP=9007199254740991,nh=Nc(TP/Ht),_e={};_e.absoluteValue=_e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};_e.comparedTo=_e.cmp=function(e){var t,r,n,a,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(n=l.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return n===a?0:n>a^l.s<0?1:-1};_e.decimalPlaces=_e.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ht;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};_e.dividedBy=_e.div=function(e){return Di(this,new this.constructor(e))};_e.dividedToIntegerBy=_e.idiv=function(e){var t=this,r=t.constructor;return zt(Di(t,new r(e),0,1),r.precision)};_e.equals=_e.eq=function(e){return!this.cmp(e)};_e.exponent=function(){return wr(this)};_e.greaterThan=_e.gt=function(e){return this.cmp(e)>0};_e.greaterThanOrEqualTo=_e.gte=function(e){return this.cmp(e)>=0};_e.isInteger=_e.isint=function(){return this.e>this.d.length-2};_e.isNegative=_e.isneg=function(){return this.s<0};_e.isPositive=_e.ispos=function(){return this.s>0};_e.isZero=function(){return this.s===0};_e.lessThan=_e.lt=function(e){return this.cmp(e)<0};_e.lessThanOrEqualTo=_e.lte=function(e){return this.cmp(e)<1};_e.logarithm=_e.log=function(e){var t,r=this,n=r.constructor,a=n.precision,l=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(_n))throw Error(ra+"NaN");if(r.s<1)throw Error(ra+(r.s?"NaN":"-Infinity"));return r.eq(_n)?new n(0):(Wt=!1,t=Di(xd(r,l),xd(e,l),l),Wt=!0,zt(t,a))};_e.minus=_e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?RP(t,e):PP(t,(e.s=-e.s,e))};_e.modulo=_e.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ra+"NaN");return r.s?(Wt=!1,t=Di(r,e,0,1).times(e),Wt=!0,r.minus(t)):zt(new n(r),a)};_e.naturalExponential=_e.exp=function(){return IP(this)};_e.naturalLogarithm=_e.ln=function(){return xd(this)};_e.negated=_e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};_e.plus=_e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PP(t,e):RP(t,(e.s=-e.s,e))};_e.precision=_e.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ol+e);if(t=wr(a)+1,n=a.d.length-1,r=n*Ht+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};_e.squareRoot=_e.sqrt=function(){var e,t,r,n,a,l,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(ra+"NaN")}for(e=wr(u),Wt=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=qa(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Nc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(a.toString()),r=f.precision,a=c=r+3;;)if(l=n,n=l.plus(Di(u,l,c+2)).times(.5),qa(l.d).slice(0,c)===(t=qa(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),a==c&&t=="4999"){if(zt(l,r+1,0),l.times(l).eq(u)){n=l;break}}else if(t!="9999")break;c+=4}return Wt=!0,zt(n,r)};_e.times=_e.mul=function(e){var t,r,n,a,l,c,u,f,m,h=this,x=h.constructor,v=h.d,b=(e=new x(e)).d;if(!h.s||!e.s)return new x(0);for(e.s*=h.s,r=h.e+e.e,f=v.length,m=b.length,f<m&&(l=v,v=b,b=l,c=f,f=m,m=c),l=[],c=f+m,n=c;n--;)l.push(0);for(n=m;--n>=0;){for(t=0,a=f+n;a>n;)u=l[a]+b[n]*v[a-n-1]+t,l[a--]=u%Dr|0,t=u/Dr|0;l[a]=(l[a]+t)%Dr|0}for(;!l[--c];)l.pop();return t?++r:l.shift(),e.d=l,e.e=r,Wt?zt(e,x.precision):e};_e.toDecimalPlaces=_e.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Qa(e,0,wc),t===void 0?t=n.rounding:Qa(t,0,8),zt(r,e+wr(r)+1,t))};_e.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Bl(n,!0):(Qa(e,0,wc),t===void 0?t=a.rounding:Qa(t,0,8),n=zt(new a(n),e+1,t),r=Bl(n,!0,e+1)),r};_e.toFixed=function(e,t){var r,n,a=this,l=a.constructor;return e===void 0?Bl(a):(Qa(e,0,wc),t===void 0?t=l.rounding:Qa(t,0,8),n=zt(new l(a),e+wr(a)+1,t),r=Bl(n.abs(),!1,e+wr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};_e.toInteger=_e.toint=function(){var e=this,t=e.constructor;return zt(new t(e),wr(e)+1,t.rounding)};_e.toNumber=function(){return+this};_e.toPower=_e.pow=function(e){var t,r,n,a,l,c,u=this,f=u.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(_n);if(u=new f(u),!u.s){if(e.s<1)throw Error(ra+"Infinity");return u}if(u.eq(_n))return u;if(n=f.precision,e.eq(_n))return zt(u,n);if(t=e.e,r=e.d.length-1,c=t>=r,l=u.s,c){if((r=h<0?-h:h)<=TP){for(a=new f(_n),t=Math.ceil(n/Ht+4),Wt=!1;r%2&&(a=a.times(u),ZM(a.d,t)),r=Nc(r/2),r!==0;)u=u.times(u),ZM(u.d,t);return Wt=!0,e.s<0?new f(_n).div(a):zt(a,n)}}else if(l<0)throw Error(ra+"NaN");return l=l<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,Wt=!1,a=e.times(xd(u,n+m)),Wt=!0,a=IP(a),a.s=l,a};_e.toPrecision=function(e,t){var r,n,a=this,l=a.constructor;return e===void 0?(r=wr(a),n=Bl(a,r<=l.toExpNeg||r>=l.toExpPos)):(Qa(e,1,wc),t===void 0?t=l.rounding:Qa(t,0,8),a=zt(new l(a),e,t),r=wr(a),n=Bl(a,e<=r||r<=l.toExpNeg,e)),n};_e.toSignificantDigits=_e.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Qa(e,1,wc),t===void 0?t=n.rounding:Qa(t,0,8)),zt(new n(r),e,t)};_e.toString=_e.valueOf=_e.val=_e.toJSON=_e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wr(e),r=e.constructor;return Bl(e,t<=r.toExpNeg||t>=r.toExpPos)};function PP(e,t){var r,n,a,l,c,u,f,m,h=e.constructor,x=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Wt?zt(t,x):t;if(f=e.d,m=t.d,c=e.e,a=t.e,f=f.slice(),l=c-a,l){for(l<0?(n=f,l=-l,u=m.length):(n=m,a=c,u=f.length),c=Math.ceil(x/Ht),u=c>u?c+1:u+1,l>u&&(l=u,n.length=1),n.reverse();l--;)n.push(0);n.reverse()}for(u=f.length,l=m.length,u-l<0&&(l=u,n=m,m=f,f=n),r=0;l;)r=(f[--l]=f[l]+m[l]+r)/Dr|0,f[l]%=Dr;for(r&&(f.unshift(r),++a),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=a,Wt?zt(t,x):t}function Qa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ol+e)}function qa(e){var t,r,n,a=e.length-1,l="",c=e[0];if(a>0){for(l+=c,t=1;t<a;t++)n=e[t]+"",r=Ht-n.length,r&&(l+=Cs(r)),l+=n;c=e[t],n=c+"",r=Ht-n.length,r&&(l+=Cs(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var Di=(function(){function e(n,a){var l,c=0,u=n.length;for(n=n.slice();u--;)l=n[u]*a+c,n[u]=l%Dr|0,c=l/Dr|0;return c&&n.unshift(c),n}function t(n,a,l,c){var u,f;if(l!=c)f=l>c?1:-1;else for(u=f=0;u<l;u++)if(n[u]!=a[u]){f=n[u]>a[u]?1:-1;break}return f}function r(n,a,l){for(var c=0;l--;)n[l]-=c,c=n[l]<a[l]?1:0,n[l]=c*Dr+n[l]-a[l];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,l,c){var u,f,m,h,x,v,b,S,y,w,C,k,A,M,_,T,P,O,z=n.constructor,R=n.s==a.s?1:-1,F=n.d,D=a.d;if(!n.s)return new z(n);if(!a.s)throw Error(ra+"Division by zero");for(f=n.e-a.e,P=D.length,_=F.length,b=new z(R),S=b.d=[],m=0;D[m]==(F[m]||0);)++m;if(D[m]>(F[m]||0)&&--f,l==null?k=l=z.precision:c?k=l+(wr(n)-wr(a))+1:k=l,k<0)return new z(0);if(k=k/Ht+2|0,m=0,P==1)for(h=0,D=D[0],k++;(m<_||h)&&k--;m++)A=h*Dr+(F[m]||0),S[m]=A/D|0,h=A%D|0;else{for(h=Dr/(D[0]+1)|0,h>1&&(D=e(D,h),F=e(F,h),P=D.length,_=F.length),M=P,y=F.slice(0,P),w=y.length;w<P;)y[w++]=0;O=D.slice(),O.unshift(0),T=D[0],D[1]>=Dr/2&&++T;do h=0,u=t(D,y,P,w),u<0?(C=y[0],P!=w&&(C=C*Dr+(y[1]||0)),h=C/T|0,h>1?(h>=Dr&&(h=Dr-1),x=e(D,h),v=x.length,w=y.length,u=t(x,y,v,w),u==1&&(h--,r(x,P<v?O:D,v))):(h==0&&(u=h=1),x=D.slice()),v=x.length,v<w&&x.unshift(0),r(y,x,w),u==-1&&(w=y.length,u=t(D,y,P,w),u<1&&(h++,r(y,P<w?O:D,w))),w=y.length):u===0&&(h++,y=[0]),S[m++]=h,u&&y[0]?y[w++]=F[M]||0:(y=[F[M]],w=1);while((M++<_||y[0]!==void 0)&&k--)}return S[0]||S.shift(),b.e=f,zt(b,c?l+wr(b)+1:l)}})();function IP(e,t){var r,n,a,l,c,u,f=0,m=0,h=e.constructor,x=h.precision;if(wr(e)>16)throw Error(vw+wr(e));if(!e.s)return new h(_n);for(Wt=!1,u=x,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(n=Math.log(bl(2,m))/Math.LN10*2+5|0,u+=n,r=a=l=new h(_n),h.precision=u;;){if(a=zt(a.times(e),u),r=r.times(++f),c=l.plus(Di(a,r,u)),qa(c.d).slice(0,u)===qa(l.d).slice(0,u)){for(;m--;)l=zt(l.times(l),u);return h.precision=x,t==null?(Wt=!0,zt(l,x)):l}l=c}}function wr(e){for(var t=e.e*Ht,r=e.d[0];r>=10;r/=10)t++;return t}function hb(e,t,r){if(t>e.LN10.sd())throw Wt=!0,r&&(e.precision=r),Error(ra+"LN10 precision limit exceeded");return zt(new e(e.LN10),t)}function Cs(e){for(var t="";e--;)t+="0";return t}function xd(e,t){var r,n,a,l,c,u,f,m,h,x=1,v=10,b=e,S=b.d,y=b.constructor,w=y.precision;if(b.s<1)throw Error(ra+(b.s?"NaN":"-Infinity"));if(b.eq(_n))return new y(0);if(t==null?(Wt=!1,m=w):m=t,b.eq(10))return t==null&&(Wt=!0),hb(y,m);if(m+=v,y.precision=m,r=qa(S),n=r.charAt(0),l=wr(b),Math.abs(l)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(e),r=qa(b.d),n=r.charAt(0),x++;l=wr(b),n>1?(b=new y("0."+r),l++):b=new y(n+"."+r.slice(1))}else return f=hb(y,m+2,w).times(l+""),b=xd(new y(n+"."+r.slice(1)),m-v).plus(f),y.precision=w,t==null?(Wt=!0,zt(b,w)):b;for(u=c=b=Di(b.minus(_n),b.plus(_n),m),h=zt(b.times(b),m),a=3;;){if(c=zt(c.times(h),m),f=u.plus(Di(c,new y(a),m)),qa(f.d).slice(0,m)===qa(u.d).slice(0,m))return u=u.times(2),l!==0&&(u=u.plus(hb(y,m+2,w).times(l+""))),u=Di(u,new y(x),m),y.precision=w,t==null?(Wt=!0,zt(u,w)):u;u=f,a+=2}}function XM(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Nc(r/Ht),e.d=[],n=(r+1)%Ht,r<0&&(n+=Ht),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ht;n<a;)e.d.push(+t.slice(n,n+=Ht));t=t.slice(n),n=Ht-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Wt&&(e.e>nh||e.e<-nh))throw Error(vw+r)}else e.s=0,e.e=0,e.d=[0];return e}function zt(e,t,r){var n,a,l,c,u,f,m,h,x=e.d;for(c=1,l=x[0];l>=10;l/=10)c++;if(n=t-c,n<0)n+=Ht,a=t,m=x[h=0];else{if(h=Math.ceil((n+1)/Ht),l=x.length,h>=l)return e;for(m=l=x[h],c=1;l>=10;l/=10)c++;n%=Ht,a=n-Ht+c}if(r!==void 0&&(l=bl(10,c-a-1),u=m/l%10|0,f=t<0||x[h+1]!==void 0||m%l,f=r<4?(u||f)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||f||r==6&&(n>0?a>0?m/bl(10,c-a):0:x[h-1])%10&1||r==(e.s<0?8:7))),t<1||!x[0])return f?(l=wr(e),x.length=1,t=t-l-1,x[0]=bl(10,(Ht-t%Ht)%Ht),e.e=Nc(-t/Ht)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(n==0?(x.length=h,l=1,h--):(x.length=h+1,l=bl(10,Ht-n),x[h]=a>0?(m/bl(10,c-a)%bl(10,a)|0)*l:0),f)for(;;)if(h==0){(x[0]+=l)==Dr&&(x[0]=1,++e.e);break}else{if(x[h]+=l,x[h]!=Dr)break;x[h--]=0,l=1}for(n=x.length;x[--n]===0;)x.pop();if(Wt&&(e.e>nh||e.e<-nh))throw Error(vw+wr(e));return e}function RP(e,t){var r,n,a,l,c,u,f,m,h,x,v=e.constructor,b=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Wt?zt(t,b):t;if(f=e.d,x=t.d,n=t.e,m=e.e,f=f.slice(),c=m-n,c){for(h=c<0,h?(r=f,c=-c,u=x.length):(r=x,n=m,u=f.length),a=Math.max(Math.ceil(b/Ht),u)+2,c>a&&(c=a,r.length=1),r.reverse(),a=c;a--;)r.push(0);r.reverse()}else{for(a=f.length,u=x.length,h=a<u,h&&(u=a),a=0;a<u;a++)if(f[a]!=x[a]){h=f[a]<x[a];break}c=0}for(h&&(r=f,f=x,x=r,t.s=-t.s),u=f.length,a=x.length-u;a>0;--a)f[u++]=0;for(a=x.length;a>c;){if(f[--a]<x[a]){for(l=a;l&&f[--l]===0;)f[l]=Dr-1;--f[l],f[a]+=Dr}f[a]-=x[a]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,Wt?zt(t,b):t):new v(0)}function Bl(e,t,r){var n,a=wr(e),l=qa(e.d),c=l.length;return t?(r&&(n=r-c)>0?l=l.charAt(0)+"."+l.slice(1)+Cs(n):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(a<0?"e":"e+")+a):a<0?(l="0."+Cs(-a-1)+l,r&&(n=r-c)>0&&(l+=Cs(n))):a>=c?(l+=Cs(a+1-c),r&&(n=r-a-1)>0&&(l=l+"."+Cs(n))):((n=a+1)<c&&(l=l.slice(0,n)+"."+l.slice(n)),r&&(n=r-c)>0&&(a+1===c&&(l+="."),l+=Cs(n))),e.s<0?"-"+l:l}function ZM(e,t){if(e.length>t)return e.length=t,!0}function LP(e){var t,r,n;function a(l){var c=this;if(!(c instanceof a))return new a(l);if(c.constructor=a,l instanceof a){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(Ol+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return XM(c,l.toString())}else if(typeof l!="string")throw Error(Ol+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,BV.test(l))XM(c,l);else throw Error(Ol+l)}if(a.prototype=_e,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=LP,a.config=a.set=qV,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function qV(e){if(!e||typeof e!="object")throw Error(ra+"Object expected");var t,r,n,a=["precision",1,wc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Nc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ol+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ol+r+": "+n);return this}var gw=LP($V);_n=new gw(1);const Dt=gw;function zP(e){var t;return e===0?t=1:t=Math.floor(new Dt(e).abs().log(10).toNumber())+1,t}function FP(e,t,r){for(var n=new Dt(e),a=0,l=[];n.lt(t)&&a<1e5;)l.push(n.toNumber()),n=n.add(r),a++;return l}var $P=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},BP=(e,t,r)=>{if(e.lte(0))return new Dt(0);var n=zP(e.toNumber()),a=new Dt(10).pow(n),l=e.div(a),c=n!==1?.05:.1,u=new Dt(Math.ceil(l.div(c).toNumber())).add(r).mul(c),f=u.mul(a);return t?new Dt(f.toNumber()):new Dt(Math.ceil(f.toNumber()))},HV=(e,t,r)=>{var n=new Dt(1),a=new Dt(e);if(!a.isint()&&r){var l=Math.abs(e);l<1?(n=new Dt(10).pow(zP(e)-1),a=new Dt(Math.floor(a.div(n).toNumber())).mul(n)):l>1&&(a=new Dt(Math.floor(e)))}else e===0?a=new Dt(Math.floor((t-1)/2)):r||(a=new Dt(Math.floor(e)));for(var c=Math.floor((t-1)/2),u=[],f=0;f<t;f++)u.push(a.add(new Dt(f-c).mul(n)).toNumber());return u},qP=function(t,r,n,a){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var c=BP(new Dt(r).sub(t).div(n-1),a,l),u;t<=0&&r>=0?u=new Dt(0):(u=new Dt(t).add(r).div(2),u=u.sub(new Dt(u).mod(c)));var f=Math.ceil(u.sub(t).div(c).toNumber()),m=Math.ceil(new Dt(r).sub(u).div(c).toNumber()),h=f+m+1;return h>n?qP(t,r,n,a,l+1):(h<n&&(m=r>0?m+(n-h):m,f=r>0?f:f+(n-h)),{step:c,tickMin:u.sub(new Dt(f).mul(c)),tickMax:u.add(new Dt(m).mul(c))})},UV=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),[u,f]=$P([r,n]);if(u===-1/0||f===1/0){var m=f===1/0?[u,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),f];return r>n?m.reverse():m}if(u===f)return HV(u,a,l);var{step:h,tickMin:x,tickMax:v}=qP(u,f,c,l,0),b=FP(x,v.add(new Dt(.1).mul(h)),h);return r>n?b.reverse():b},YV=function(t,r){var[n,a]=t,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,u]=$P([n,a]);if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var f=Math.max(r,2),m=BP(new Dt(u).sub(c).div(f-1),l,0),h=[...FP(new Dt(c),new Dt(u),m),u];return l===!1&&(h=h.map(x=>Math.round(x))),n>a?h.reverse():h},VV=e=>e.rootProps.barCategoryGap,Rd=e=>e.rootProps.stackOffset,HP=e=>e.rootProps.reverseStackOrder,bw=e=>e.options.chartName,yw=e=>e.rootProps.syncId,UP=e=>e.rootProps.syncMethod,ww=e=>e.options.eventEmitter,pa={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ml={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Ta={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},ox=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function YP(e,t,r){if(r!=="auto")return r;if(e!=null)return $s(e,t)?"category":"number"}function JM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ah(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JM(Object(r),!0).forEach(function(n){GV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GV(e,t,r){return(t=WV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WV(e){var t=KV(e,"string");return typeof t=="symbol"?t:t+""}function KV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eD={allowDataOverflow:ml.allowDataOverflow,allowDecimals:ml.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ml.angleAxisId,includeHidden:!1,name:void 0,reversed:ml.reversed,scale:ml.scale,tick:ml.tick,tickCount:void 0,ticks:void 0,type:ml.type,unit:void 0},tD={allowDataOverflow:Ta.allowDataOverflow,allowDecimals:Ta.allowDecimals,allowDuplicatedCategory:Ta.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ta.radiusAxisId,includeHidden:Ta.includeHidden,name:void 0,reversed:Ta.reversed,scale:Ta.scale,tick:Ta.tick,tickCount:Ta.tickCount,ticks:void 0,type:Ta.type,unit:void 0},QV=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Nw=ie([QV,TT],(e,t)=>{var r;if(e!=null)return e;var n=(r=YP(t,"angleAxis",eD.type))!==null&&r!==void 0?r:"category";return ah(ah({},eD),{},{type:n})}),XV=(e,t)=>e.polarAxis.radiusAxis[t],jw=ie([XV,TT],(e,t)=>{var r;if(e!=null)return e;var n=(r=YP(t,"radiusAxis",tD.type))!==null&&r!==void 0?r:"category";return ah(ah({},tD),{},{type:n})}),cx=e=>e.polarOptions,Sw=ie([Hi,Ui,Er],GT),VP=ie([cx,Sw],(e,t)=>{if(e!=null)return Tn(e.innerRadius,t,0)}),GP=ie([cx,Sw],(e,t)=>{if(e!=null)return Tn(e.outerRadius,t,t*.8)}),ZV=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},WP=ie([cx],ZV);ie([Nw,WP],ox);var KP=ie([Sw,VP,GP],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ie([jw,KP],ox);var QP=ie([Qt,cx,VP,GP,Hi,Ui],(e,t,r,n,a,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:u,startAngle:f,endAngle:m}=t;return{cx:Tn(c,a,a/2),cy:Tn(u,l,l/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:m,clockWise:!1}}}),rr=(e,t)=>t,Ld=(e,t,r)=>r;function XP(e){return e?.id}function ZP(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:l}=r,c=new Map;return e.forEach(u=>{var f,m=(f=u.data)!==null&&f!==void 0?f:n;if(!(m==null||m.length===0)){var h=XP(u);m.forEach((x,v)=>{var b=l==null||a?v:String(lr(x,l,null)),S=lr(x,u.dataKey,0),y;c.has(b)?y=c.get(b):y={},Object.assign(y,{[h]:S}),c.set(b,y)})}}),Array.from(c.values())}function Cw(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var ux=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function dx(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function JV(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Or=e=>{var t=Qt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},jc=e=>e.tooltip.settings.axisId;function eG(e){if(e in Gu)return Gu[e]();var t="scale".concat(Cd(e));if(t in Gu)return Gu[t]()}function rD(e){var t=e.ticks,r=e.bandwidth,n=e.range(),a=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(l){function c(){return l.apply(this,arguments)}return c.toString=function(){return l.toString()},c})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(l){var c=a[0],u=a[1];return c<=u?l>=c&&l<=u:l>=u&&l<=c},bandwidth:r?()=>r.call(e):void 0,ticks:t?l=>t.call(e,l):void 0,map:(l,c)=>{var u=e(l);if(u!=null){if(e.bandwidth&&c!==null&&c!==void 0&&c.position){var f=e.bandwidth();switch(c.position){case"middle":u+=f/2;break;case"end":u+=f;break}}return u}}}}function nD(e,t,r){if(typeof e=="function")return rD(e.copy().domain(t).range(r));if(e!=null){var n=eG(e);if(n!=null)return n.domain(t).range(r),rD(n)}}var JP=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Fi(t)){for(var r,n,a=0;a<t.length;a++){var l=t[a];Rt(l)&&((r===void 0||l<r)&&(r=l),(n===void 0||l>n)&&(n=l))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function aD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ih(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(r),!0).forEach(function(n){tG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tG(e,t,r){return(t=rG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rG(e){var t=nG(e,"string");return typeof t=="symbol"?t:t+""}function nG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qy=[0,"auto"],aG={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},iG=(e,t)=>e.cartesianAxis.xAxis[t],Ys=(e,t)=>{var r=iG(e,t);return r??aG},sG={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:qy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Dd},lG=(e,t)=>e.cartesianAxis.yAxis[t],Vs=(e,t)=>{var r=lG(e,t);return r??sG},oG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Aw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??oG},cr=(e,t,r)=>{switch(t){case"xAxis":return Ys(e,r);case"yAxis":return Vs(e,r);case"zAxis":return Aw(e,r);case"angleAxis":return Nw(e,r);case"radiusAxis":return jw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},cG=(e,t,r)=>{switch(t){case"xAxis":return Ys(e,r);case"yAxis":return Vs(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Sc=(e,t,r)=>{switch(t){case"xAxis":return Ys(e,r);case"yAxis":return Vs(e,r);case"angleAxis":return Nw(e,r);case"radiusAxis":return jw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},e4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function kw(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var uG=e=>e.graphicalItems.cartesianItems,dG=ie([rr,Ld],kw),Mw=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),zd=ie([uG,cr,dG],Mw,{memoizeOptions:{resultEqualityCheck:dx}}),t4=ie([zd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Cw)),r4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),fG=ie([zd],r4),Dw=e=>e.map(t=>t.data).filter(Boolean).flat(1),mG=ie([zd],Dw,{memoizeOptions:{resultEqualityCheck:dx}}),Ew=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},_w=ie([mG,_P],Ew),Ow=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:lr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:lr(a,n)}))):e.map(n=>({value:n})),fx=ie([_w,cr,zd],Ow);function n4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function lp(e){if(Pi(e)||e instanceof Date){var t=Number(e);if(Rt(t))return t}}function iD(e){if(Array.isArray(e)){var t=[lp(e[0]),lp(e[1])];return Fi(t)?t:void 0}var r=lp(e);if(r!=null)return[r,r]}function $i(e){return e.map(lp).filter($a)}function pG(e,t,r){return!r||typeof t!="number"||Ti(t)?[]:r.length?$i(r.flatMap(n=>{var a=lr(e,n.dataKey),l,c;if(Array.isArray(a)?[l,c]=a:l=c=a,!(!Rt(l)||!Rt(c)))return[t-l,t+c]})):[]}var kr=e=>{var t=Or(e),r=jc(e);return Sc(e,t,r)},Fd=ie([kr],e=>e?.dataKey),hG=ie([t4,_P,kr],ZP),a4=(e,t,r,n)=>{var a={},l=t.reduce((c,u)=>{if(u.stackId==null)return c;var f=c[u.stackId];return f==null&&(f=[]),f.push(u),c[u.stackId]=f,c},a);return Object.fromEntries(Object.entries(l).map(c=>{var[u,f]=c,m=n?[...f].reverse():f,h=m.map(XP);return[u,{stackedData:HH(e,h,r),graphicalItems:m}]}))},xG=ie([hG,t4,Rd,HP],a4),i4=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:l}=t;if(n==null&&r!=="zAxis"){var c=VH(e,a,l);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},vG=ie([cr],e=>e.allowDataOverflow),Tw=e=>{var t;if(e==null||!("domain"in e))return qy;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=$i(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:qy},Pw=ie([cr],Tw),Iw=ie([Pw,vG],OP),gG=ie([xG,Us,rr,Iw],i4,{memoizeOptions:{resultEqualityCheck:ux}}),mx=e=>e.errorBars,bG=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>n4(r,n)),sh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var l=a.flat(),c=Math.min(...l),u=Math.max(...l);return[c,u]}},Rw=(e,t,r,n,a)=>{var l,c;if(r.length>0&&e.forEach(u=>{r.forEach(f=>{var m,h,x=(m=n[f.id])===null||m===void 0?void 0:m.filter(C=>n4(a,C)),v=lr(u,(h=t.dataKey)!==null&&h!==void 0?h:f.dataKey),b=pG(u,v,x);if(b.length>=2){var S=Math.min(...b),y=Math.max(...b);(l==null||S<l)&&(l=S),(c==null||y>c)&&(c=y)}var w=iD(v);w!=null&&(l=l==null?w[0]:Math.min(l,w[0]),c=c==null?w[1]:Math.max(c,w[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var f=iD(lr(u,t.dataKey));f!=null&&(l=l==null?f[0]:Math.min(l,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),Rt(l)&&Rt(c))return[l,c]},yG=ie([_w,cr,fG,mx,rr],Rw,{memoizeOptions:{resultEqualityCheck:ux}});function wG(e){var{value:t}=e;if(Pi(t)||t instanceof Date)return t}var NG=(e,t,r)=>{var n=e.map(wG).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&T5(n))?XT(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},s4=e=>e.referenceElements.dots,Cc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),jG=ie([s4,rr,Ld],Cc),l4=e=>e.referenceElements.areas,SG=ie([l4,rr,Ld],Cc),o4=e=>e.referenceElements.lines,CG=ie([o4,rr,Ld],Cc),c4=(e,t)=>{if(e!=null){var r=$i(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},AG=ie(jG,rr,c4),u4=(e,t)=>{if(e!=null){var r=$i(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},kG=ie([SG,rr],u4);function MG(e){var t;if(e.x!=null)return $i([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:$i(r)}function DG(e){var t;if(e.y!=null)return $i([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:$i(r)}var d4=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?MG(n):DG(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},EG=ie([CG,rr],d4),_G=ie(AG,EG,kG,(e,t,r)=>sh(e,r,t)),Lw=(e,t,r,n,a,l,c,u)=>{if(r!=null)return r;var f=c==="vertical"&&u==="xAxis"||c==="horizontal"&&u==="yAxis",m=f?sh(n,l,a):sh(l,a);return FV(t,m,e.allowDataOverflow)},OG=ie([cr,Pw,Iw,gG,yG,_G,Qt,rr],Lw,{memoizeOptions:{resultEqualityCheck:ux}}),TG=[0,1],zw=(e,t,r,n,a,l,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:u,type:f}=e,m=$s(t,l);if(m&&u==null){var h;return XT(0,(h=r?.length)!==null&&h!==void 0?h:0)}return f==="category"?NG(n,e,m):a==="expand"?TG:c}},Fw=ie([cr,Qt,_w,fx,Rd,rr,OG],zw);function PG(e){return e in Gu}var f4=(e,t,r)=>{if(e!=null){var{scale:n,type:a}=e;if(n==="auto")return a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof n=="string"){var l="scale".concat(Cd(n));return PG(l)?l:"point"}}},Gs=ie([cr,e4,bw],f4);function $w(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?nD(e.scale,r,n):nD(t,r,n)}var Bw=(e,t,r)=>{var n=Tw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Fi(e))return UV(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Fi(e))return YV(e,t.tickCount,t.allowDecimals)}},qw=ie([Fw,Sc,Gs],Bw),Hw=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Fi(t)&&Array.isArray(r)&&r.length>0){var a,l,c=t[0],u=(a=r[0])!==null&&a!==void 0?a:0,f=t[1],m=(l=r[r.length-1])!==null&&l!==void 0?l:0;return[Math.min(c,u),Math.max(f,m)]}return t},IG=ie([cr,Fw,qw,rr],Hw),RG=ie(fx,cr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from($i(e.map(x=>x.value))).sort((x,v)=>x-v),a=n[0],l=n[n.length-1];if(a==null||l==null)return 1/0;var c=l-a;if(c===0)return 1/0;for(var u=0;u<n.length-1;u++){var f=n[u],m=n[u+1];if(!(f==null||m==null)){var h=m-f;r=Math.min(r,h)}}return r/c}}),m4=ie(RG,Qt,VV,Er,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!Rt(e))return 0;var l=t==="vertical"?n.height:n.width;if(a==="gap")return e*l/2;if(a==="no-gap"){var c=Tn(r,e*l),u=e*l/2;return u-c-(u-c)/l*c}return 0}),LG=(e,t,r)=>{var n=Ys(e,t);return n==null||typeof n.padding!="string"?0:m4(e,"xAxis",t,r,n.padding)},zG=(e,t,r)=>{var n=Vs(e,t);return n==null||typeof n.padding!="string"?0:m4(e,"yAxis",t,r,n.padding)},FG=ie(Ys,LG,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),$G=ie(Vs,zG,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),BG=ie([Er,FG,Qh,Kh,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:l}=n;return a?[l.left,r.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),qG=ie([Er,Qt,$G,Qh,Kh,(e,t,r)=>r],(e,t,r,n,a,l)=>{var{padding:c}=a;return l?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),$d=(e,t,r,n)=>{var a;switch(t){case"xAxis":return BG(e,r,n);case"yAxis":return qG(e,r,n);case"zAxis":return(a=Aw(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return WP(e);case"radiusAxis":return KP(e,r);default:return}},p4=ie([cr,$d],ox),HG=ie([Gs,IG],JP),px=ie([cr,Gs,HG,p4],$w);ie([zd,mx,rr],bG);function h4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var hx=(e,t)=>t,xx=(e,t,r)=>r,UG=ie(Gh,hx,xx,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(h4)),YG=ie(Wh,hx,xx,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(h4)),x4=(e,t)=>({width:e.width,height:t.height}),VG=(e,t)=>{var r=typeof t.width=="number"?t.width:Dd;return{width:r,height:e.height}};ie(Er,Ys,x4);var GG=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},WG=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},KG=ie(Ui,Er,UG,hx,xx,(e,t,r,n,a)=>{var l={},c;return r.forEach(u=>{var f=x4(t,u);c==null&&(c=GG(t,n,e));var m=n==="top"&&!a||n==="bottom"&&a;l[u.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),l}),QG=ie(Hi,Er,YG,hx,xx,(e,t,r,n,a)=>{var l={},c;return r.forEach(u=>{var f=VG(t,u);c==null&&(c=WG(t,n,e));var m=n==="left"&&!a||n==="right"&&a;l[u.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),l}),XG=(e,t)=>{var r=Ys(e,t);if(r!=null)return KG(e,r.orientation,r.mirror)};ie([Er,Ys,XG,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}});var ZG=(e,t)=>{var r=Vs(e,t);if(r!=null)return QG(e,r.orientation,r.mirror)};ie([Er,Vs,ZG,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}});ie(Er,Vs,(e,t)=>{var r=typeof t.width=="number"?t.width:Dd;return{width:r,height:e.height}});var v4=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:l,dataKey:c}=r,u=$s(e,n),f=t.map(m=>m.value);if(c&&u&&l==="category"&&a&&T5(f))return f}},Uw=ie([Qt,fx,cr,rr],v4),g4=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:l}=r,c=$s(e,n);if(c&&(a==="number"||l!=="auto"))return t.map(u=>u.value)}},Yw=ie([Qt,fx,Sc,rr],g4);ie([Qt,cG,Gs,px,Uw,Yw,$d,qw,rr],(e,t,r,n,a,l,c,u,f)=>{if(t!=null){var m=$s(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:l,duplicateDomain:a,isCategorical:m,niceTicks:u,range:c,realScaleType:r,scale:n}}});var JG=(e,t,r,n,a,l,c,u,f)=>{if(!(t==null||n==null)){var m=$s(e,f),{type:h,ticks:x,tickCount:v}=t,b=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,S=h==="category"&&n.bandwidth?n.bandwidth()/b:0;S=f==="angleAxis"&&l!=null&&l.length>=2?pn(l[0]-l[1])*2*S:S;var y=x||a;return y?y.map((w,C)=>{var k=c?c.indexOf(w):w,A=n.map(k);return Rt(A)?{index:C,coordinate:A+S,value:w,offset:S}:null}).filter($a):m&&u?u.map((w,C)=>{var k=n.map(w);return Rt(k)?{coordinate:k+S,value:w,index:C,offset:S}:null}).filter($a):n.ticks?n.ticks(v).map((w,C)=>{var k=n.map(w);return Rt(k)?{coordinate:k+S,value:w,index:C,offset:S}:null}).filter($a):n.domain().map((w,C)=>{var k=n.map(w);return Rt(k)?{coordinate:k+S,value:c?c[w]:w,index:C,offset:S}:null}).filter($a)}};ie([Qt,Sc,Gs,px,qw,$d,Uw,Yw,rr],JG);var eW=(e,t,r,n,a,l,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=$s(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&n?.length>=2?pn(n[0]-n[1])*2*m:m,u&&l?l.map((h,x)=>{var v=r.map(h);return Rt(v)?{coordinate:v+m,value:h,index:x,offset:m}:null}).filter($a):r.ticks?r.ticks(f).map((h,x)=>{var v=r.map(h);return Rt(v)?{coordinate:v+m,value:h,index:x,offset:m}:null}).filter($a):r.domain().map((h,x)=>{var v=r.map(h);return Rt(v)?{coordinate:v+m,value:a?a[h]:h,index:x,offset:m}:null}).filter($a)}};ie([Qt,Sc,px,$d,Uw,Yw,rr],eW);ie(cr,px,(e,t)=>{if(!(e==null||t==null))return ih(ih({},e),{},{scale:t})});var tW=ie([cr,Gs,Fw,p4],$w);ie((e,t,r)=>Aw(e,r),tW,(e,t)=>{if(!(e==null||t==null))return ih(ih({},e),{},{scale:t})});var rW=ie([Qt,Gh,Wh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),b4=e=>e.options.defaultTooltipEventType,y4=e=>e.options.validateTooltipEventTypes;function w4(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Vw(e,t){var r=b4(e),n=y4(e);return w4(t,r,n)}function nW(e){return tt(t=>Vw(t,e))}var N4=(e,t)=>{var r,n=Number(t);if(!(Ti(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},aW=e=>e.tooltip.settings,As={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},iW={itemInteraction:{click:As,hover:As},axisInteraction:{click:As,hover:As},keyboardInteraction:As,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},j4=vn({name:"tooltip",initialState:iW,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Gt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ha(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Gt()},removeTooltipEntrySettings:{reducer(e,t){var r=ha(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Gt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:sW,replaceTooltipEntrySettings:lW,removeTooltipEntrySettings:oW,setTooltipSettingsState:cW,setActiveMouseOverItemIndex:S4,mouseLeaveItem:uW,mouseLeaveChart:C4,setActiveClickItemIndex:dW,setMouseOverAxisIndex:A4,setMouseClickAxisIndex:fW,setSyncInteraction:Hy,setKeyboardInteraction:Uy}=j4.actions,mW=j4.reducer;function sD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(r),!0).forEach(function(n){pW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pW(e,t,r){return(t=hW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hW(e){var t=xW(e,"string");return typeof t=="symbol"?t:t+""}function xW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vW(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function gW(e){return e.index!=null}var k4=(e,t,r,n)=>{if(t==null)return As;var a=vW(e,t,r);if(a==null)return As;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(gW(a)){if(l)return Dm(Dm({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Dm(Dm({},As),{},{coordinate:a.coordinate})};function bW(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function yW(e,t){var r=bW(e),n=t[0],a=t[1];if(r===void 0)return!1;var l=Math.min(n,a),c=Math.max(n,a);return r>=l&&r<=c}function wW(e,t,r){if(r==null||t==null)return!0;var n=lr(e,t);return n==null||!Fi(r)?!0:yW(n,r)}var Gw=(e,t,r,n)=>{var a=e?.index;if(a==null)return null;var l=Number(a);if(!Rt(l))return a;var c=0,u=1/0;t.length>0&&(u=t.length-1);var f=Math.max(c,Math.min(l,u)),m=t[f];return m==null||wW(m,r,n)?String(f):null},M4=(e,t,r,n,a,l,c)=>{if(l!=null){var u=c[0],f=u?.getPosition(l);if(f!=null)return f;var m=a?.[Number(l)];if(m)return r==="horizontal"?{x:m.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:m.coordinate}}},D4=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var l=e.tooltipItemPayloads[0];return l!=null?[l]:[]}return e.tooltipItemPayloads.filter(c=>{var u;return((u=c.settings)===null||u===void 0?void 0:u.graphicalItemId)===a})},E4=e=>e.options.tooltipPayloadSearcher,Ac=e=>e.tooltip;function lD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lD(Object(r),!0).forEach(function(n){NW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NW(e,t,r){return(t=jW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jW(e){var t=SW(e,"string");return typeof t=="symbol"?t:t+""}function SW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CW(e,t){return e??t}var _4=(e,t,r,n,a,l,c)=>{if(!(t==null||l==null)){var{chartData:u,computedData:f,dataStartIndex:m,dataEndIndex:h}=r,x=[];return e.reduce((v,b)=>{var S,{dataDefinedOnItem:y,settings:w}=b,C=CW(y,u),k=Array.isArray(C)?ST(C,m,h):C,A=(S=w?.dataKey)!==null&&S!==void 0?S:n,M=w?.nameKey,_;if(n&&Array.isArray(k)&&!Array.isArray(k[0])&&c==="axis"?_=jB(k,n,a):_=l(k,t,f,M),Array.isArray(_))_.forEach(P=>{var O=oD(oD({},w),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});v.push(ck({tooltipEntrySettings:O,dataKey:P.dataKey,payload:P.payload,value:lr(P.payload,P.dataKey),name:P.name}))});else{var T;v.push(ck({tooltipEntrySettings:w,dataKey:A,payload:_,value:lr(_,A),name:(T=lr(_,M))!==null&&T!==void 0?T:w?.name}))}return v},x)}},Ww=ie([kr,e4,bw],f4),AW=ie([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),kW=ie([Or,jc],kw),kc=ie([AW,kr,kW],Mw,{memoizeOptions:{resultEqualityCheck:dx}}),MW=ie([kc],e=>e.filter(Cw)),DW=ie([kc],Dw,{memoizeOptions:{resultEqualityCheck:dx}}),Mc=ie([DW,Us],Ew),EW=ie([MW,Us,kr],ZP),Kw=ie([Mc,kr,kc],Ow),O4=ie([kr],Tw),_W=ie([kr],e=>e.allowDataOverflow),T4=ie([O4,_W],OP),OW=ie([kc],e=>e.filter(Cw)),TW=ie([EW,OW,Rd,HP],a4),PW=ie([TW,Us,Or,T4],i4),IW=ie([kc],r4),RW=ie([Mc,kr,IW,mx,Or],Rw,{memoizeOptions:{resultEqualityCheck:ux}}),LW=ie([s4,Or,jc],Cc),zW=ie([LW,Or],c4),FW=ie([l4,Or,jc],Cc),$W=ie([FW,Or],u4),BW=ie([o4,Or,jc],Cc),qW=ie([BW,Or],d4),HW=ie([zW,qW,$W],sh),UW=ie([kr,O4,T4,PW,RW,HW,Qt,Or],Lw),Bd=ie([kr,Qt,Mc,Kw,Rd,Or,UW],zw),YW=ie([Bd,kr,Ww],Bw),VW=ie([kr,Bd,YW,Or],Hw),P4=e=>{var t=Or(e),r=jc(e),n=!1;return $d(e,t,r,n)},I4=ie([kr,P4],ox),R4=ie([kr,Ww,VW,I4],$w),GW=ie([Qt,Kw,kr,Or],v4),WW=ie([Qt,Kw,kr,Or],g4),KW=(e,t,r,n,a,l,c,u)=>{if(t){var{type:f}=t,m=$s(e,u);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,x=f==="category"&&n.bandwidth?n.bandwidth()/h:0;return x=u==="angleAxis"&&a!=null&&a?.length>=2?pn(a[0]-a[1])*2*x:x,m&&c?c.map((v,b)=>{var S=n.map(v);return Rt(S)?{coordinate:S+x,value:v,index:b,offset:x}:null}).filter($a):n.domain().map((v,b)=>{var S=n.map(v);return Rt(S)?{coordinate:S+x,value:l?l[v]:v,index:b,offset:x}:null}).filter($a)}}},Vi=ie([Qt,kr,Ww,R4,P4,GW,WW,Or],KW),Qw=ie([b4,y4,aW],(e,t,r)=>w4(r.shared,e,t)),L4=e=>e.tooltip.settings.trigger,Xw=e=>e.tooltip.settings.defaultIndex,qd=ie([Ac,Qw,L4,Xw],k4),vd=ie([qd,Mc,Fd,Bd],Gw),z4=ie([Vi,vd],N4),F4=ie([qd],e=>{if(e)return e.dataKey}),QW=ie([qd],e=>{if(e)return e.graphicalItemId}),$4=ie([Ac,Qw,L4,Xw],D4),XW=ie([Hi,Ui,Qt,Er,Vi,Xw,$4],M4),ZW=ie([qd,XW],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),JW=ie([qd],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),eK=ie([$4,vd,Us,Fd,z4,E4,Qw],_4);ie([eK],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function cD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cD(Object(r),!0).forEach(function(n){tK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tK(e,t,r){return(t=rK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rK(e){var t=nK(e,"string");return typeof t=="symbol"?t:t+""}function nK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aK=()=>tt(kr),iK=()=>{var e=aK(),t=tt(Vi),r=tt(R4);return ok(!e||!r?void 0:uD(uD({},e),{},{scale:r}),t)};function dD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Po(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dD(Object(r),!0).forEach(function(n){sK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sK(e,t,r){return(t=lK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lK(e){var t=oK(e,"string");return typeof t=="symbol"?t:t+""}function oK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cK=(e,t,r,n)=>{var a=t.find(l=>l&&l.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},uK=(e,t,r,n)=>{var a=t.find(m=>m&&m.index===r);if(a){if(e==="centric"){var l=a.coordinate,{radius:c}=n;return Po(Po(Po({},n),yr(n.cx,n.cy,c,l)),{},{angle:l,radius:c})}var u=a.coordinate,{angle:f}=n;return Po(Po(Po({},n),yr(n.cx,n.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function dK(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var B4=(e,t,r,n,a)=>{var l,c=(l=t?.length)!==null&&l!==void 0?l:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<c;u++){var f,m,h,x,v,b=u>0?(f=r[u-1])===null||f===void 0?void 0:f.coordinate:(m=r[c-1])===null||m===void 0?void 0:m.coordinate,S=(h=r[u])===null||h===void 0?void 0:h.coordinate,y=u>=c-1?(x=r[0])===null||x===void 0?void 0:x.coordinate:(v=r[u+1])===null||v===void 0?void 0:v.coordinate,w=void 0;if(!(b==null||S==null||y==null))if(pn(S-b)!==pn(y-S)){var C=[];if(pn(y-S)===pn(a[1]-a[0])){w=y;var k=S+a[1]-a[0];C[0]=Math.min(k,(k+b)/2),C[1]=Math.max(k,(k+b)/2)}else{w=b;var A=y+a[1]-a[0];C[0]=Math.min(S,(A+S)/2),C[1]=Math.max(S,(A+S)/2)}var M=[Math.min(S,(w+S)/2),Math.max(S,(w+S)/2)];if(e>M[0]&&e<=M[1]||e>=C[0]&&e<=C[1]){var _;return(_=r[u])===null||_===void 0?void 0:_.index}}else{var T=Math.min(b,y),P=Math.max(b,y);if(e>(T+S)/2&&e<=(P+S)/2){var O;return(O=r[u])===null||O===void 0?void 0:O.index}}}else if(t)for(var z=0;z<c;z++){var R=t[z];if(R!=null){var F=t[z+1],D=t[z-1];if(z===0&&F!=null&&e<=(R.coordinate+F.coordinate)/2||z===c-1&&D!=null&&e>(R.coordinate+D.coordinate)/2||z>0&&z<c-1&&D!=null&&F!=null&&e>(R.coordinate+D.coordinate)/2&&e<=(R.coordinate+F.coordinate)/2)return R.index}}return-1},fK=()=>tt(bw),Zw=(e,t)=>t,q4=(e,t,r)=>r,Jw=(e,t,r,n)=>n,mK=ie(Vi,e=>Lh(e,t=>t.coordinate)),eN=ie([Ac,Zw,q4,Jw],k4),tN=ie([eN,Mc,Fd,Bd],Gw),pK=(e,t,r)=>{if(t!=null){var n=Ac(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},H4=ie([Ac,Zw,q4,Jw],D4),lh=ie([Hi,Ui,Qt,Er,Vi,Jw,H4],M4),hK=ie([eN,lh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),U4=ie([Vi,tN],N4),xK=ie([H4,tN,Us,Fd,U4,E4,Zw],_4),vK=ie([eN,tN],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),gK=(e,t,r,n,a,l,c)=>{if(!(!e||!r||!n||!a)&&dK(e,c)){var u=GH(e,t),f=B4(u,l,a,r,n),m=cK(t,a,f,e);return{activeIndex:String(f),activeCoordinate:m}}},bK=(e,t,r,n,a,l,c)=>{if(!(!e||!n||!a||!l||!r)){var u=tU(e,r);if(u){var f=WH(u,t),m=B4(f,c,l,n,a),h=uK(t,l,m,u);return{activeIndex:String(m),activeCoordinate:h}}}},yK=(e,t,r,n,a,l,c,u)=>{if(!(!e||!t||!n||!a||!l))return t==="horizontal"||t==="vertical"?gK(e,t,n,a,l,c,u):bK(e,t,r,n,a,l,c)},wK=ie(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),NK=ie(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(pa)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:JV}});function fD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fD(Object(r),!0).forEach(function(n){jK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jK(e,t,r){return(t=SK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SK(e){var t=CK(e,"string");return typeof t=="symbol"?t:t+""}function CK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AK={},kK={zIndexMap:Object.values(pa).reduce((e,t)=>mD(mD({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),AK)},MK=new Set(Object.values(pa));function DK(e){return MK.has(e)}var Y4=vn({name:"zIndex",initialState:kK,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Gt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!DK(r)&&delete e.zIndexMap[r])},prepare:Gt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Gt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Gt()}}}),{registerZIndexPortal:EK,unregisterZIndexPortal:_K,registerZIndexPortalElement:OK,unregisterZIndexPortalElement:TK}=Y4.actions,PK=Y4.reducer;function Hd(e){var{zIndex:t,children:r}=e,n=k9(),a=n&&t!==void 0&&t!==0,l=Bs(),c=Cr();N.useLayoutEffect(()=>a?(c(EK({zIndex:t})),()=>{c(_K({zIndex:t}))}):Ad,[c,t,a]);var u=tt(f=>wK(f,t,l));return a?u?Sd.createPortal(r,u):null:r}function Yy(){return Yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yy.apply(null,arguments)}function pD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Em(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pD(Object(r),!0).forEach(function(n){IK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IK(e,t,r){return(t=RK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RK(e){var t=LK(e,"string");return typeof t=="symbol"?t:t+""}function LK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zK(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return N.isValidElement(t)?N.cloneElement(t,n):N.createElement(r,n)}function FK(e){var t,{coordinate:r,payload:n,index:a,offset:l,tooltipAxisBandSize:c,layout:u,cursor:f,tooltipEventType:m,chartName:h}=e,x=r,v=n,b=a;if(!f||!x||h!=="ScatterChart"&&m!=="axis")return null;var S,y,w;if(h==="ScatterChart")S=x,y=h7,w=pa.cursorLine;else if(h==="BarChart")S=x7(u,x,l,c),y=VT,w=pa.cursorRectangle;else if(u==="radial"&&R5(x)){var{cx:C,cy:k,radius:A,startAngle:M,endAngle:_}=WT(x);S={cx:C,cy:k,startAngle:M,endAngle:_,innerRadius:A,outerRadius:A},y=QT,w=pa.cursorLine}else S={points:iU(u,x,l)},y=H1,w=pa.cursorLine;var T=typeof f=="object"&&"className"in f?f.className:void 0,P=Em(Em(Em(Em({stroke:"#ccc",pointerEvents:"none"},l),S),ay(f)),{},{payload:v,payloadIndex:b,className:at("recharts-tooltip-cursor",T)});return N.createElement(Hd,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:w},N.createElement(zK,{cursor:f,cursorComp:y,cursorProps:P}))}function $K(e){var t=iK(),r=S9(),n=Zh(),a=fK();return t==null||r==null||n==null||a==null?null:N.createElement(FK,Yy({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var V4=N.createContext(null),BK=()=>N.useContext(V4),xb={exports:{}},hD;function qK(){return hD||(hD=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function l(f,m,h,x,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new a(h,x||f,v),S=r?r+m:m;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],b]:f._events[S].push(b):(f._events[S]=b,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new n:delete f._events[m]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],h,x;if(this._eventsCount===0)return m;for(x in h=this._events)t.call(h,x)&&m.push(r?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},u.prototype.listeners=function(m){var h=r?r+m:m,x=this._events[h];if(!x)return[];if(x.fn)return[x.fn];for(var v=0,b=x.length,S=new Array(b);v<b;v++)S[v]=x[v].fn;return S},u.prototype.listenerCount=function(m){var h=r?r+m:m,x=this._events[h];return x?x.fn?1:x.length:0},u.prototype.emit=function(m,h,x,v,b,S){var y=r?r+m:m;if(!this._events[y])return!1;var w=this._events[y],C=arguments.length,k,A;if(w.fn){switch(w.once&&this.removeListener(m,w.fn,void 0,!0),C){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,x),!0;case 4:return w.fn.call(w.context,h,x,v),!0;case 5:return w.fn.call(w.context,h,x,v,b),!0;case 6:return w.fn.call(w.context,h,x,v,b,S),!0}for(A=1,k=new Array(C-1);A<C;A++)k[A-1]=arguments[A];w.fn.apply(w.context,k)}else{var M=w.length,_;for(A=0;A<M;A++)switch(w[A].once&&this.removeListener(m,w[A].fn,void 0,!0),C){case 1:w[A].fn.call(w[A].context);break;case 2:w[A].fn.call(w[A].context,h);break;case 3:w[A].fn.call(w[A].context,h,x);break;case 4:w[A].fn.call(w[A].context,h,x,v);break;default:if(!k)for(_=1,k=new Array(C-1);_<C;_++)k[_-1]=arguments[_];w[A].fn.apply(w[A].context,k)}}return!0},u.prototype.on=function(m,h,x){return l(this,m,h,x,!1)},u.prototype.once=function(m,h,x){return l(this,m,h,x,!0)},u.prototype.removeListener=function(m,h,x,v){var b=r?r+m:m;if(!this._events[b])return this;if(!h)return c(this,b),this;var S=this._events[b];if(S.fn)S.fn===h&&(!v||S.once)&&(!x||S.context===x)&&c(this,b);else{for(var y=0,w=[],C=S.length;y<C;y++)(S[y].fn!==h||v&&!S[y].once||x&&S[y].context!==x)&&w.push(S[y]);w.length?this._events[b]=w.length===1?w[0]:w:c(this,b)}return this},u.prototype.removeAllListeners=function(m){var h;return m?(h=r?r+m:m,this._events[h]&&c(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(xb)),xb.exports}var HK=qK();const UK=Za(HK);var gd=new UK,Vy="recharts.syncEvent.tooltip",xD="recharts.syncEvent.brush",YK=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!Ti(r))return e[r]}},VK={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},G4=vn({name:"options",initialState:VK,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),GK=G4.reducer,{createEventEmitter:WK}=G4.actions;function KK(e){return e.tooltip.syncInteraction}var QK={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},W4=vn({name:"chartData",initialState:QK,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:vD,setDataStartEndIndexes:XK,setComputedData:Xle}=W4.actions,ZK=W4.reducer,JK=["x","y"];function gD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(r),!0).forEach(function(n){eQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eQ(e,t,r){return(t=tQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tQ(e){var t=rQ(e,"string");return typeof t=="symbol"?t:t+""}function rQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nQ(e,t){if(e==null)return{};var r,n,a=aQ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function iQ(){var e=tt(yw),t=tt(ww),r=Cr(),n=tt(UP),a=tt(Vi),l=Zh(),c=Xh(),u=tt(f=>f.rootProps.className);N.useEffect(()=>{if(e==null)return Ad;var f=(m,h,x)=>{if(t!==x&&e===m){if(n==="index"){var v;if(c&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var b=h.payload.coordinate,{x:S,y}=b,w=nQ(b,JK),{x:C,y:k,width:A,height:M}=h.payload.sourceViewBox,_=Io(Io({},w),{},{x:c.x+(A?(S-C)/A:0)*c.width,y:c.y+(M?(y-k)/M:0)*c.height});r(Io(Io({},h),{},{payload:Io(Io({},h.payload),{},{coordinate:_})}))}else r(h);return}if(a!=null){var T;if(typeof n=="function"){var P={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=n(a,P);T=a[O]}else n==="value"&&(T=a.find(L=>String(L.value)===h.payload.label));var{coordinate:z}=h.payload;if(T==null||h.payload.active===!1||z==null||c==null){r(Hy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:R,y:F}=z,D=Math.min(R,c.x+c.width),Z=Math.min(F,c.y+c.height),Q={x:l==="horizontal"?T.coordinate:D,y:l==="horizontal"?Z:T.coordinate},J=Hy({active:h.payload.active,coordinate:Q,dataKey:h.payload.dataKey,index:String(T.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});r(J)}}};return gd.on(Vy,f),()=>{gd.off(Vy,f)}},[u,r,t,e,n,a,l,c])}function sQ(){var e=tt(yw),t=tt(ww),r=Cr();N.useEffect(()=>{if(e==null)return Ad;var n=(a,l,c)=>{t!==c&&e===a&&r(XK(l))};return gd.on(xD,n),()=>{gd.off(xD,n)}},[r,t,e])}function lQ(){var e=Cr();N.useEffect(()=>{e(WK())},[e]),iQ(),sQ()}function oQ(e,t,r,n,a,l){var c=tt(b=>pK(b,e,t)),u=tt(ww),f=tt(yw),m=tt(UP),h=tt(KK),x=h?.active,v=Xh();N.useEffect(()=>{if(!x&&f!=null&&u!=null){var b=Hy({active:l,coordinate:r,dataKey:c,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:v,graphicalItemId:void 0});gd.emit(Vy,f,b,u)}},[x,r,c,a,n,u,f,m,l,v])}function bD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bD(Object(r),!0).forEach(function(n){cQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cQ(e,t,r){return(t=uQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uQ(e){var t=dQ(e,"string");return typeof t=="symbol"?t:t+""}function dQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fQ(e){return e.dataKey}function mQ(e,t){return N.isValidElement(e)?N.cloneElement(e,t):typeof e=="function"?N.createElement(e,t):N.createElement(W9,t)}var wD=[],pQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function K4(e){var t,r,n=ri(e,pQ),{active:a,allowEscapeViewBox:l,animationDuration:c,animationEasing:u,content:f,filterNull:m,isAnimationActive:h,offset:x,payloadUniqBy:v,position:b,reverseDirection:S,useTranslate3d:y,wrapperStyle:w,cursor:C,shared:k,trigger:A,defaultIndex:M,portal:_,axisId:T}=n,P=Cr(),O=typeof M=="number"?String(M):M;N.useEffect(()=>{P(cW({shared:k,trigger:A,axisId:T,active:a,defaultIndex:O}))},[P,k,A,T,a,O]);var z=Xh(),R=BT(),F=nW(k),{activeIndex:D,isActive:Z}=(t=tt(he=>vK(he,F,A,O)))!==null&&t!==void 0?t:{},Q=tt(he=>xK(he,F,A,O)),J=tt(he=>U4(he,F,A,O)),L=tt(he=>hK(he,F,A,O)),Y=Q,q=BK(),le=(r=a??Z)!==null&&r!==void 0?r:!1,[be,B]=Iq([Y,le]),se=F==="axis"?J:void 0;oQ(F,A,L,se,D,le);var ve=_??q;if(ve==null||z==null||F==null)return null;var de=Y??wD;le||(de=wD),m&&de.length&&(de=lq(de.filter(he=>he.value!=null&&(he.hide!==!0||n.includeHidden)),v,fQ));var Ne=de.length>0,xe=N.createElement(t7,{allowEscapeViewBox:l,animationDuration:c,animationEasing:u,isAnimationActive:h,active:le,coordinate:L,hasPayload:Ne,offset:x,position:b,reverseDirection:S,useTranslate3d:y,viewBox:z,wrapperStyle:w,lastBoundingBox:be,innerRef:B,hasPortalFromProps:!!_},mQ(f,yD(yD({},n),{},{payload:de,label:se,active:le,activeIndex:D,coordinate:L,accessibilityLayer:R})));return N.createElement(N.Fragment,null,Sd.createPortal(xe,ve),le&&N.createElement($K,{cursor:C,tooltipEventType:F,coordinate:L,payload:de,index:D}))}var Ud=e=>null;Ud.displayName="Cell";function hQ(e,t,r){return(t=xQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xQ(e){var t=vQ(e,"string");return typeof t=="symbol"?t:t+""}function vQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class gQ{constructor(t){hQ(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function ND(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ND(Object(r),!0).forEach(function(n){yQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ND(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yQ(e,t,r){return(t=wQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wQ(e){var t=NQ(e,"string");return typeof t=="symbol"?t:t+""}function NQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jQ={cacheSize:2e3,enableCache:!0},Q4=bQ({},jQ),jD=new gQ(Q4.cacheSize),SQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},SD="recharts_measurement_span";function CQ(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(l,"|").concat(c,"|").concat(u)}var CD=(e,t)=>{try{var r=document.getElementById(SD);r||(r=document.createElement("span"),r.setAttribute("id",SD),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,SQ,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},AD=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||U1.isSsr)return{width:0,height:0};if(!Q4.enableCache)return CD(t,r);var n=CQ(t,r),a=jD.get(n);if(a)return a;var l=CD(t,r);return jD.set(n,l),l},X4;function AQ(e,t,r){return(t=kQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kQ(e){var t=MQ(e,"string");return typeof t=="symbol"?t:t+""}function MQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,EQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_Q={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},OQ=["cm","mm","pt","pc","in","Q","px"];function TQ(e){return OQ.includes(e)}var Yo="NaN";function PQ(e,t){return e*_Q[t]}class zr{static parse(t){var r,[,n,a]=(r=EQ.exec(t))!==null&&r!==void 0?r:[];return n==null?zr.NaN:new zr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Ti(t)&&(this.unit=""),r!==""&&!DQ.test(r)&&(this.num=NaN,this.unit=""),TQ(r)&&(this.num=PQ(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new zr(NaN,""):new zr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new zr(NaN,""):new zr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new zr(NaN,""):new zr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new zr(NaN,""):new zr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ti(this.num)}}X4=zr;AQ(zr,"NaN",new X4(NaN,""));function Z4(e){if(e==null||e.includes(Yo))return Yo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,l]=(r=kD.exec(t))!==null&&r!==void 0?r:[],c=zr.parse(n??""),u=zr.parse(l??""),f=a==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Yo;t=t.replace(kD,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,x,v]=(m=MD.exec(t))!==null&&m!==void 0?m:[],b=zr.parse(h??""),S=zr.parse(v??""),y=x==="+"?b.add(S):b.subtract(S);if(y.isNaN())return Yo;t=t.replace(MD,y.toString())}return t}var DD=/\(([^()]*)\)/;function IQ(e){for(var t=e,r;(r=DD.exec(t))!=null;){var[,n]=r;t=t.replace(DD,Z4(n))}return t}function RQ(e){var t=e.replace(/\s+/g,"");return t=IQ(t),t=Z4(t),t}function LQ(e){try{return RQ(e)}catch{return Yo}}function vb(e){var t=LQ(e.slice(5,-1));return t===Yo?"":t}var zQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],FQ=["dx","dy","angle","className","breakAll"];function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gy.apply(null,arguments)}function ED(e,t){if(e==null)return{};var r,n,a=$Q(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $Q(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var J4=/[ \f\n\r\t\v\u2028\u2029]+/,e3=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Rn(t)||(r?a=t.toString().split(""):a=t.toString().split(J4));var l=a.map(u=>({word:u,width:AD(u,n).width})),c=r?0:AD("",n).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}};function BQ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var t3=(e,t,r,n)=>e.reduce((a,l)=>{var{word:c,width:u}=l,f=a[a.length-1];if(f&&u!=null&&(t==null||n||f.width+u+r<Number(t)))f.words.push(c),f.width+=u+r;else{var m={words:[c],width:u};a.push(m)}return a},[]),r3=e=>e.reduce((t,r)=>t.width>r.width?t:r),qQ="",_D=(e,t,r,n,a,l,c,u)=>{var f=e.slice(0,t),m=e3({breakAll:r,style:n,children:f+qQ});if(!m)return[!1,[]];var h=t3(m.wordsWithComputedWidth,l,c,u),x=h.length>a||r3(h).width>Number(l);return[x,h]},HQ=(e,t,r,n,a)=>{var{maxLines:l,children:c,style:u,breakAll:f}=e,m=Qe(l),h=String(c),x=t3(t,n,r,a);if(!m||a)return x;var v=x.length>l||r3(x).width>Number(n);if(!v)return x;for(var b=0,S=h.length-1,y=0,w;b<=S&&y<=h.length-1;){var C=Math.floor((b+S)/2),k=C-1,[A,M]=_D(h,k,f,u,l,n,r,a),[_]=_D(h,C,f,u,l,n,r,a);if(!A&&!_&&(b=C+1),A&&_&&(S=C-1),!A&&_){w=M;break}y++}return w||x},OD=e=>{var t=Rn(e)?[]:e.toString().split(J4);return[{words:t,width:void 0}]},UQ=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:l,maxLines:c}=e;if((t||r)&&!U1.isSsr){var u,f,m=e3({breakAll:l,children:n,style:a});if(m){var{wordsWithComputedWidth:h,spaceWidth:x}=m;u=h,f=x}else return OD(n);return HQ({breakAll:l,children:n,maxLines:c,style:a},u,f,t,!!r)}return OD(n)},n3="#808080",YQ={angle:0,breakAll:!1,capHeight:"0.71em",fill:n3,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},rN=N.forwardRef((e,t)=>{var r=ri(e,YQ),{x:n,y:a,lineHeight:l,capHeight:c,fill:u,scaleToFit:f,textAnchor:m,verticalAnchor:h}=r,x=ED(r,zQ),v=N.useMemo(()=>UQ({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width}),[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),{dx:b,dy:S,angle:y,className:w,breakAll:C}=x,k=ED(x,FQ);if(!Pi(n)||!Pi(a)||v.length===0)return null;var A=Number(n)+(Qe(b)?b:0),M=Number(a)+(Qe(S)?S:0);if(!Rt(A)||!Rt(M))return null;var _;switch(h){case"start":_=vb("calc(".concat(c,")"));break;case"middle":_=vb("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:_=vb("calc(".concat(v.length-1," * -").concat(l,")"));break}var T=[],P=v[0];if(f&&P!=null){var O=P.width,{width:z}=x;T.push("scale(".concat(Qe(z)&&Qe(O)?z/O:1,")"))}return y&&T.push("rotate(".concat(y,", ").concat(A,", ").concat(M,")")),T.length&&(k.transform=T.join(" ")),N.createElement("text",Gy({},ea(k),{ref:t,x:A,y:M,className:at("recharts-text",w),textAnchor:m,fill:u.includes("url")?n3:u}),v.map((R,F)=>{var D=R.words.join(C?"":" ");return N.createElement("tspan",{x:A,dy:F===0?_:l,key:"".concat(D,"-").concat(F)},D)}))});rN.displayName="Text";function TD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TD(Object(r),!0).forEach(function(n){VQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VQ(e,t,r){return(t=GQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GQ(e){var t=WQ(e,"string");return typeof t=="symbol"?t:t+""}function WQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KQ=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:a}=e,{x:l,y:c,height:u,upperWidth:f,lowerWidth:m}=$1(t),h=l,x=l+(f-m)/2,v=(h+x)/2,b=(f+m)/2,S=h+f/2,y=u>=0?1:-1,w=y*n,C=y>0?"end":"start",k=y>0?"start":"end",A=f>=0?1:-1,M=A*n,_=A>0?"end":"start",T=A>0?"start":"end",P=a;if(r==="top"){var O={x:h+f/2,y:c-w,horizontalAnchor:"middle",verticalAnchor:C};return P&&(O.height=Math.max(c-P.y,0),O.width=f),O}if(r==="bottom"){var z={x:x+m/2,y:c+u+w,horizontalAnchor:"middle",verticalAnchor:k};return P&&(z.height=Math.max(P.y+P.height-(c+u),0),z.width=m),z}if(r==="left"){var R={x:v-M,y:c+u/2,horizontalAnchor:_,verticalAnchor:"middle"};return P&&(R.width=Math.max(R.x-P.x,0),R.height=u),R}if(r==="right"){var F={x:v+b+M,y:c+u/2,horizontalAnchor:T,verticalAnchor:"middle"};return P&&(F.width=Math.max(P.x+P.width-F.x,0),F.height=u),F}var D=P?{width:b,height:u}:{};return r==="insideLeft"?Pa({x:v+M,y:c+u/2,horizontalAnchor:T,verticalAnchor:"middle"},D):r==="insideRight"?Pa({x:v+b-M,y:c+u/2,horizontalAnchor:_,verticalAnchor:"middle"},D):r==="insideTop"?Pa({x:h+f/2,y:c+w,horizontalAnchor:"middle",verticalAnchor:k},D):r==="insideBottom"?Pa({x:x+m/2,y:c+u-w,horizontalAnchor:"middle",verticalAnchor:C},D):r==="insideTopLeft"?Pa({x:h+M,y:c+w,horizontalAnchor:T,verticalAnchor:k},D):r==="insideTopRight"?Pa({x:h+f-M,y:c+w,horizontalAnchor:_,verticalAnchor:k},D):r==="insideBottomLeft"?Pa({x:x+M,y:c+u-w,horizontalAnchor:T,verticalAnchor:C},D):r==="insideBottomRight"?Pa({x:x+m-M,y:c+u-w,horizontalAnchor:_,verticalAnchor:C},D):r&&typeof r=="object"&&(Qe(r.x)||Ll(r.x))&&(Qe(r.y)||Ll(r.y))?Pa({x:l+Tn(r.x,b),y:c+Tn(r.y,u),horizontalAnchor:"end",verticalAnchor:"end"},D):Pa({x:S,y:c+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},D)},QQ=["labelRef"],XQ=["content"];function PD(e,t){if(e==null)return{};var r,n,a=ZQ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ZQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ID(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _m(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ID(Object(r),!0).forEach(function(n){JQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JQ(e,t,r){return(t=eX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eX(e){var t=tX(e,"string");return typeof t=="symbol"?t:t+""}function tX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oh(){return oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oh.apply(null,arguments)}var rX=N.createContext(null),nX=()=>{var e=N.useContext(rX),t=Xh();return e||(t?$1(t):void 0)},aX=N.createContext(null),iX=()=>{var e=N.useContext(aX),t=tt(QP);return e||t},sX=e=>{var{value:t,formatter:r}=e,n=Rn(e.children)?t:e.children;return typeof r=="function"?r(n):n},lX=e=>e!=null&&typeof e=="function",oX=(e,t)=>{var r=pn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},cX=(e,t,r,n,a)=>{var{offset:l,className:c}=e,{cx:u,cy:f,innerRadius:m,outerRadius:h,startAngle:x,endAngle:v,clockWise:b}=a,S=(m+h)/2,y=oX(x,v),w=y>=0?1:-1,C,k;switch(t){case"insideStart":C=x+w*l,k=b;break;case"insideEnd":C=v-w*l,k=!b;break;case"end":C=v+w*l,k=b;break;default:throw new Error("Unsupported position ".concat(t))}k=y<=0?k:!k;var A=yr(u,f,S,C),M=yr(u,f,S,C+(k?1:-1)*359),_="M".concat(A.x,",").concat(A.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(k?0:1,`,
    `).concat(M.x,",").concat(M.y),T=Rn(e.id)?ad("recharts-radial-line-"):e.id;return N.createElement("text",oh({},n,{dominantBaseline:"central",className:at("recharts-radial-bar-label",c)}),N.createElement("defs",null,N.createElement("path",{id:T,d:_})),N.createElement("textPath",{xlinkHref:"#".concat(T)},r))},uX=(e,t,r)=>{var{cx:n,cy:a,innerRadius:l,outerRadius:c,startAngle:u,endAngle:f}=e,m=(u+f)/2;if(r==="outside"){var{x:h,y:x}=yr(n,a,c+t,m);return{x:h,y:x,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,{x:b,y:S}=yr(n,a,v,m);return{x:b,y:S,textAnchor:"middle",verticalAnchor:"middle"}},op=e=>e!=null&&"cx"in e&&Qe(e.cx),dX={angle:0,offset:5,zIndex:pa.label,position:"middle",textBreakAll:!1};function fX(e){if(!op(e))return e;var{cx:t,cy:r,outerRadius:n}=e,a=n*2;return{x:t-n,y:r-n,width:a,upperWidth:a,lowerWidth:a,height:a}}function a3(e){var t=ri(e,dX),{viewBox:r,parentViewBox:n,position:a,value:l,children:c,content:u,className:f="",textBreakAll:m,labelRef:h}=t,x=iX(),v=nX(),b=a==="center"?v:x??v,S,y,w;r==null?S=b:op(r)?S=r:S=$1(r);var C=fX(S);if(!S||Rn(l)&&Rn(c)&&!N.isValidElement(u)&&typeof u!="function")return null;var k=_m(_m({},t),{},{viewBox:S});if(N.isValidElement(u)){var{labelRef:A}=k,M=PD(k,QQ);return N.cloneElement(u,M)}if(typeof u=="function"){var{content:_}=k,T=PD(k,XQ);if(y=N.createElement(u,T),N.isValidElement(y))return y}else y=sX(t);var P=ea(t);if(op(S)){if(a==="insideStart"||a==="insideEnd"||a==="end")return cX(t,a,y,P,S);w=uX(S,t.offset,t.position)}else{if(!C)return null;var O=KQ({viewBox:C,position:a,offset:t.offset,parentViewBox:op(n)?void 0:n});w=_m(_m({x:O.x,y:O.y,textAnchor:O.horizontalAnchor,verticalAnchor:O.verticalAnchor},O.width!==void 0?{width:O.width}:{}),O.height!==void 0?{height:O.height}:{})}return N.createElement(Hd,{zIndex:t.zIndex},N.createElement(rN,oh({ref:h,className:at("recharts-label",f)},P,w,{textAnchor:BQ(P.textAnchor)?P.textAnchor:w.textAnchor,breakAll:m}),y))}a3.displayName="Label";var gb={},bb={},RD;function mX(){return RD||(RD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(bb)),bb}var yb={},LD;function pX(){return LD||(LD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(yb)),yb}var zD;function hX(){return zD||(zD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mX(),r=pX(),n=E1();function a(l){if(n.isArrayLike(l))return t.last(r.toArray(l))}e.last=a})(gb)),gb}var wb,FD;function xX(){return FD||(FD=1,wb=hX().last),wb}var vX=xX();const gX=Za(vX);var bX=["valueAccessor"],yX=["dataKey","clockWise","id","textBreakAll","zIndex"];function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ch.apply(null,arguments)}function $D(e,t){if(e==null)return{};var r,n,a=wX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NX=e=>Array.isArray(e.value)?gX(e.value):e.value,i3=N.createContext(void 0);i3.Provider;var s3=N.createContext(void 0),jX=s3.Provider;function SX(){return N.useContext(i3)}function CX(){return N.useContext(s3)}function cp(e){var{valueAccessor:t=NX}=e,r=$D(e,bX),{dataKey:n,clockWise:a,id:l,textBreakAll:c,zIndex:u}=r,f=$D(r,yX),m=SX(),h=CX(),x=m||h;return!x||!x.length?null:N.createElement(Hd,{zIndex:u??pa.label},N.createElement(Is,{className:"recharts-label-list"},x.map((v,b)=>{var S,y=Rn(n)?t(v,b):lr(v.payload,n),w=Rn(l)?{}:{id:"".concat(l,"-").concat(b)};return N.createElement(a3,ch({key:"label-".concat(b)},ea(v),f,w,{fill:(S=r.fill)!==null&&S!==void 0?S:v.fill,parentViewBox:v.parentViewBox,value:y,textBreakAll:c,viewBox:v.viewBox,index:b,zIndex:0}))})))}cp.displayName="LabelList";function AX(e){var{label:t}=e;return t?t===!0?N.createElement(cp,{key:"labelList-implicit"}):N.isValidElement(t)||lX(t)?N.createElement(cp,{key:"labelList-implicit",content:t}):typeof t=="object"?N.createElement(cp,ch({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var l3=e=>e.graphicalItems.polarItems,kX=ie([rr,Ld],kw),vx=ie([l3,cr,kX],Mw),MX=ie([vx],Dw),gx=ie([MX,xw],Ew),DX=ie([gx,cr,vx],Ow);ie([gx,cr,vx],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var l,c=lr(n,(l=t.dataKey)!==null&&l!==void 0?l:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:lr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var BD=()=>{},EX=ie([gx,cr,vx,mx,rr],Rw),_X=ie([cr,Pw,Iw,BD,EX,BD,Qt,rr],Lw),o3=ie([cr,Qt,gx,DX,Rd,rr,_X],zw),OX=ie([o3,Sc,Gs],Bw),TX=ie([cr,o3,OX,rr],Hw);ie([Gs,TX],JP);var PX={radiusAxis:{},angleAxis:{}},c3=vn({name:"polarAxis",initialState:PX,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Zle,removeRadiusAxis:Jle,addAngleAxis:eoe,removeAngleAxis:toe}=c3.actions,IX=c3.reducer;function RX(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function qD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qD(Object(r),!0).forEach(function(n){LX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LX(e,t,r){return(t=zX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zX(e){var t=FX(e,"string");return typeof t=="symbol"?t:t+""}function FX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $X=(e,t)=>t,nN=ie([l3,$X],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),BX=[],aN=(e,t,r)=>r?.length===0?BX:r,u3=ie([xw,nN,aN],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(l=>HD(HD({},t.presentationProps),l.props))),a!=null)return a}}),qX=ie([u3,nN,aN],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var l,c=lr(n,t.nameKey,t.name),u;return r!=null&&(l=r[a])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?u=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?u=n.fill:u=t.fill,{value:CT(c,t.dataKey),color:u,payload:n,type:t.legendType}})}),HX=ie([u3,nN,aN,Er],(e,t,r,n)=>{if(!(t==null||e==null))return VZ({offset:n,pieSettings:t,displayedData:e,cells:r})}),Nb={exports:{}},It={};var UD;function UX(){if(UD)return It;UD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function S(y){if(typeof y=="object"&&y!==null){var w=y.$$typeof;switch(w){case e:switch(y=y.type,y){case r:case a:case n:case f:case m:case v:return y;default:switch(y=y&&y.$$typeof,y){case c:case u:case x:case h:return y;case l:return y;default:return w}}case t:return w}}}return It.ContextConsumer=l,It.ContextProvider=c,It.Element=e,It.ForwardRef=u,It.Fragment=r,It.Lazy=x,It.Memo=h,It.Portal=t,It.Profiler=a,It.StrictMode=n,It.Suspense=f,It.SuspenseList=m,It.isContextConsumer=function(y){return S(y)===l},It.isContextProvider=function(y){return S(y)===c},It.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},It.isForwardRef=function(y){return S(y)===u},It.isFragment=function(y){return S(y)===r},It.isLazy=function(y){return S(y)===x},It.isMemo=function(y){return S(y)===h},It.isPortal=function(y){return S(y)===t},It.isProfiler=function(y){return S(y)===a},It.isStrictMode=function(y){return S(y)===n},It.isSuspense=function(y){return S(y)===f},It.isSuspenseList=function(y){return S(y)===m},It.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===a||y===n||y===f||y===m||typeof y=="object"&&y!==null&&(y.$$typeof===x||y.$$typeof===h||y.$$typeof===c||y.$$typeof===l||y.$$typeof===u||y.$$typeof===b||y.getModuleId!==void 0)},It.typeOf=S,It}var YD;function YX(){return YD||(YD=1,Nb.exports=UX()),Nb.exports}var VX=YX(),VD=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",GD=null,jb=null,d3=e=>{if(e===GD&&Array.isArray(jb))return jb;var t=[];return N.Children.forEach(e,r=>{Rn(r)||(VX.isFragment(r)?t=t.concat(d3(r.props.children)):t.push(r))}),jb=t,GD=e,t};function f3(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>VD(a)):n=[VD(t)],d3(e).forEach(a=>{var l=nd(a,"type.displayName")||nd(a,"type.name");l&&n.indexOf(l)!==-1&&r.push(a)}),r}var Sb={},WD;function GX(){return WD||(WD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Sb)),Sb}var Cb,KD;function WX(){return KD||(KD=1,Cb=GX().isPlainObject),Cb}var KX=WX();const QX=Za(KX);var QD,XD,ZD,JD,eE;function tE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(r),!0).forEach(function(n){XX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XX(e,t,r){return(t=ZX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZX(e){var t=JX(e,"string");return typeof t=="symbol"?t:t+""}function JX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uh(){return uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uh.apply(null,arguments)}function Iu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var nE=(e,t,r,n,a)=>{var l=r-n,c;return c=ir(QD||(QD=Iu(["M ",",",""])),e,t),c+=ir(XD||(XD=Iu(["L ",",",""])),e+r,t),c+=ir(ZD||(ZD=Iu(["L ",",",""])),e+r-l/2,t+a),c+=ir(JD||(JD=Iu(["L ",",",""])),e+r-l/2-n,t+a),c+=ir(eE||(eE=Iu(["L ",","," Z"])),e,t),c},eZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tZ=e=>{var t=ri(e,eZ),{x:r,y:n,upperWidth:a,lowerWidth:l,height:c,className:u}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isUpdateAnimationActive:x}=t,v=N.useRef(null),[b,S]=N.useState(-1),y=N.useRef(a),w=N.useRef(l),C=N.useRef(c),k=N.useRef(r),A=N.useRef(n),M=V1(e,"trapezoid-");if(N.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var Q=v.current.getTotalLength();Q&&S(Q)}catch{}},[]),r!==+r||n!==+n||a!==+a||l!==+l||c!==+c||a===0&&l===0||c===0)return null;var _=at("recharts-trapezoid",u);if(!x)return N.createElement("g",null,N.createElement("path",uh({},ea(t),{className:_,d:nE(r,n,a,l,c)})));var T=y.current,P=w.current,O=C.current,z=k.current,R=A.current,F="0px ".concat(b===-1?1:b,"px"),D="".concat(b,"px 0px"),Z=qT(["strokeDasharray"],m,f);return N.createElement(Y1,{animationId:M,key:M,canBegin:b>0,duration:m,easing:f,isActive:x,begin:h},Q=>{var J=ua(T,a,Q),L=ua(P,l,Q),Y=ua(O,c,Q),q=ua(z,r,Q),le=ua(R,n,Q);v.current&&(y.current=J,w.current=L,C.current=Y,k.current=q,A.current=le);var be=Q>0?{transition:Z,strokeDasharray:D}:{strokeDasharray:F};return N.createElement("path",uh({},ea(t),{className:_,d:nE(q,le,J,L,Y),ref:v,style:rE(rE({},be),t.style)}))})},rZ=["option","shapeType","activeClassName"];function nZ(e,t){if(e==null)return{};var r,n,a=aZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(r),!0).forEach(function(n){iZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iZ(e,t,r){return(t=sZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sZ(e){var t=lZ(e,"string");return typeof t=="symbol"?t:t+""}function lZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oZ(e,t){return dh(dh({},t),e)}function cZ(e,t){return e==="symbols"}function iE(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return N.createElement(VT,r);case"trapezoid":return N.createElement(tZ,r);case"sector":return N.createElement(QT,r);case"symbols":if(cZ(t))return N.createElement(I5,r);break;case"curve":return N.createElement(H1,r);default:return null}}function uZ(e){return N.isValidElement(e)?e.props:e}function dZ(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=nZ(e,rZ),l;if(N.isValidElement(t))l=N.cloneElement(t,dh(dh({},a),uZ(t)));else if(typeof t=="function")l=t(a,a.index);else if(QX(t)&&typeof t!="boolean"){var c=oZ(t,a);l=N.createElement(iE,{shapeType:r,elementProps:c})}else{var u=a;l=N.createElement(iE,{shapeType:r,elementProps:u})}return a.isActive?N.createElement(Is,{className:n},l):l}var fZ=(e,t,r)=>{var n=Cr();return(a,l)=>c=>{e?.(a,l,c),n(S4({activeIndex:String(l),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},mZ=e=>{var t=Cr();return(r,n)=>a=>{e?.(r,n,a),t(uW())}},pZ=(e,t,r)=>{var n=Cr();return(a,l)=>c=>{e?.(a,l,c),n(dW({activeIndex:String(l),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function hZ(e){var{tooltipEntrySettings:t}=e,r=Cr(),n=Bs(),a=N.useRef(null);return N.useLayoutEffect(()=>{n||(a.current===null?r(sW(t)):a.current!==t&&r(lW({prev:a.current,next:t})),a.current=t)},[t,r,n]),N.useLayoutEffect(()=>()=>{a.current&&(r(oW(a.current)),a.current=null)},[r]),null}function xZ(e){var{legendPayload:t}=e,r=Cr(),n=tt(Qt),a=N.useRef(null);return N.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r($9(t)):a.current!==t&&r(B9({prev:a.current,next:t})),a.current=t)},[r,n,t]),N.useLayoutEffect(()=>()=>{a.current&&(r(q9(a.current)),a.current=null)},[r]),null}var Ab,vZ=()=>{var[e]=N.useState(()=>ad("uid-"));return e},gZ=(Ab=c1.useId)!==null&&Ab!==void 0?Ab:vZ;function bZ(e,t){var r=gZ();return t||(e?"".concat(e,"-").concat(r):r)}var yZ=N.createContext(void 0),wZ=e=>{var{id:t,type:r,children:n}=e,a=bZ("recharts-".concat(r),t);return N.createElement(yZ.Provider,{value:a},n(a))},NZ={cartesianItems:[],polarItems:[]},m3=vn({name:"graphicalItems",initialState:NZ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Gt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ha(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Gt()},removeCartesianGraphicalItem:{reducer(e,t){var r=ha(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Gt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Gt()},removePolarGraphicalItem:{reducer(e,t){var r=ha(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Gt()}}}),{addCartesianGraphicalItem:roe,replaceCartesianGraphicalItem:noe,removeCartesianGraphicalItem:aoe,addPolarGraphicalItem:jZ,removePolarGraphicalItem:SZ}=m3.actions,CZ=m3.reducer;function AZ(e){var t=Cr();return N.useLayoutEffect(()=>(t(jZ(e)),()=>{t(SZ(e))}),[t,e]),null}var kZ=["key"],MZ=["onMouseEnter","onClick","onMouseLeave"],DZ=["id"],EZ=["id"];function sE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sE(Object(r),!0).forEach(function(n){_Z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Z(e,t,r){return(t=OZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OZ(e){var t=TZ(e,"string");return typeof t=="symbol"?t:t+""}function TZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ls.apply(null,arguments)}function bx(e,t){if(e==null)return{};var r,n,a=PZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function PZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function IZ(e){var t=N.useMemo(()=>f3(e.children,Ud),[e.children]),r=tt(n=>qX(n,e.id,t));return r==null?null:N.createElement(xZ,{legendPayload:r})}var RZ=N.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:l,fill:c,name:u,hide:f,tooltipType:m,id:h}=e,x={dataDefinedOnItem:n.map(v=>v.tooltipPayload),getPosition:v=>{var b;return(b=n[Number(v)])===null||b===void 0?void 0:b.tooltipPosition},settings:{stroke:a,strokeWidth:l,fill:c,dataKey:t,nameKey:r,name:CT(u,t),hide:f,type:m,color:c,unit:"",graphicalItemId:h}};return N.createElement(hZ,{tooltipEntrySettings:x})}),LZ=(e,t)=>e>t?"start":e<t?"end":"middle",zZ=(e,t,r)=>Tn(typeof t=="function"?t(e):t,r,r*.8),FZ=(e,t,r)=>{var{top:n,left:a,width:l,height:c}=t,u=GT(l,c),f=a+Tn(e.cx,l,l/2),m=n+Tn(e.cy,c,c/2),h=Tn(e.innerRadius,u,0),x=zZ(r,e.outerRadius,u),v=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:f,cy:m,innerRadius:h,outerRadius:x,maxRadius:v}},$Z=(e,t)=>{var r=pn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},BZ=(e,t)=>{if(N.isValidElement(e))return N.cloneElement(e,t);if(typeof e=="function")return e(t);var r=at("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=bx(t,kZ);return N.createElement(H1,Ls({},a,{type:"linear",className:r}))},qZ=(e,t,r)=>{if(N.isValidElement(e))return N.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),N.isValidElement(n)))return n;var a=at("recharts-pie-label-text",RX(e));return N.createElement(rN,Ls({},t,{alignmentBaseline:"middle",className:a}),n)};function HZ(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:l,dataKey:c}=r;if(!n||!a||!t)return null;var u=ec(r),f=ay(a),m=ay(l),h=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,x=t.map((v,b)=>{var S=(v.startAngle+v.endAngle)/2,y=yr(v.cx,v.cy,v.outerRadius+h,S),w=sr(sr(sr(sr({},u),v),{},{stroke:"none"},f),{},{index:b,textAnchor:LZ(y.x,v.cx)},y),C=sr(sr(sr(sr({},u),v),{},{fill:"none",stroke:v.fill},m),{},{index:b,points:[yr(v.cx,v.cy,v.outerRadius,S),y],key:"line"});return N.createElement(Hd,{zIndex:pa.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(b)},N.createElement(Is,null,l&&BZ(l,C),qZ(a,w,lr(v,c))))});return N.createElement(Is,{className:"recharts-pie-labels"},x)}function UZ(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?N.createElement(AX,{label:a}):N.createElement(HZ,{sectors:t,props:r,showLabels:n})}function YZ(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:l,id:c}=e,u=tt(vd),f=tt(F4),m=tt(QW),{onMouseEnter:h,onClick:x,onMouseLeave:v}=a,b=bx(a,MZ),S=fZ(h,a.dataKey,c),y=mZ(v),w=pZ(x,a.dataKey,c);return t==null||t.length===0?null:N.createElement(N.Fragment,null,t.map((C,k)=>{if(C?.startAngle===0&&C?.endAngle===0&&t.length!==1)return null;var A=m==null||m===c,M=String(k)===u&&(f==null||a.dataKey===f)&&A,_=u?n:null,T=r&&M?r:_,P=sr(sr({},C),{},{stroke:C.stroke,tabIndex:-1,[kT]:k,[MT]:c});return N.createElement(Is,Ls({key:"sector-".concat(C?.startAngle,"-").concat(C?.endAngle,"-").concat(C.midAngle,"-").concat(k),tabIndex:-1,className:"recharts-pie-sector"},RB(b,C,k),{onMouseEnter:S(C,k),onMouseLeave:y(C,k),onClick:w(C,k)}),N.createElement(dZ,Ls({option:l??T,index:k,shapeType:"sector",isActive:M},P)))}))}function VZ(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:l}=e,{cornerRadius:c,startAngle:u,endAngle:f,dataKey:m,nameKey:h,tooltipType:x}=r,v=Math.abs(r.minAngle),b=$Z(u,f),S=Math.abs(b),y=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(T=>lr(T,m,0)!==0).length,C=(S>=360?w:w-1)*y,k=S-w*v-C,A=n.reduce((T,P)=>{var O=lr(P,m,0);return T+(Qe(O)?O:0)},0),M;if(A>0){var _;M=n.map((T,P)=>{var O=lr(T,m,0),z=lr(T,h,P),R=FZ(r,l,T),F=(Qe(O)?O:0)/A,D,Z=sr(sr({},T),a&&a[P]&&a[P].props);P?D=_.endAngle+pn(b)*y*(O!==0?1:0):D=u;var Q=D+pn(b)*((O!==0?v:0)+F*k),J=(D+Q)/2,L=(R.innerRadius+R.outerRadius)/2,Y=[{name:z,value:O,payload:Z,dataKey:m,type:x,graphicalItemId:r.id}],q=yr(R.cx,R.cy,L,J);return _=sr(sr(sr(sr({},r.presentationProps),{},{percent:F,cornerRadius:typeof c=="string"?parseFloat(c):c,name:z,tooltipPayload:Y,midAngle:J,middleRadius:L,tooltipPosition:q},Z),R),{},{value:O,dataKey:m,startAngle:D,endAngle:Q,payload:Z,paddingAngle:pn(b)*y}),_})}return M}function GZ(e){var{showLabels:t,sectors:r,children:n}=e,a=N.useMemo(()=>!t||!r?[]:r.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[r,t]);return N.createElement(jX,{value:t?a:void 0},n)}function WZ(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,activeShape:m,inactiveShape:h,onAnimationStart:x,onAnimationEnd:v}=t,b=V1(t,"recharts-pie-"),S=r.current,[y,w]=N.useState(!1),C=N.useCallback(()=>{typeof v=="function"&&v(),w(!1)},[v]),k=N.useCallback(()=>{typeof x=="function"&&x(),w(!0)},[x]);return N.createElement(GZ,{showLabels:!y,sectors:a},N.createElement(Y1,{animationId:b,begin:c,duration:u,isActive:l,easing:f,onAnimationStart:k,onAnimationEnd:C,key:b},A=>{var M,_=[],T=a&&a[0],P=(M=T?.startAngle)!==null&&M!==void 0?M:0;return a?.forEach((O,z)=>{var R=S&&S[z],F=z>0?nd(O,"paddingAngle",0):0;if(R){var D=ua(R.endAngle-R.startAngle,O.endAngle-O.startAngle,A),Z=sr(sr({},O),{},{startAngle:P+F,endAngle:P+D+F});_.push(Z),P=Z.endAngle}else{var{endAngle:Q,startAngle:J}=O,L=ua(0,Q-J,A),Y=sr(sr({},O),{},{startAngle:P+F,endAngle:P+L+F});_.push(Y),P=Y.endAngle}}),r.current=_,N.createElement(Is,null,N.createElement(YZ,{sectors:_,activeShape:m,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:n}))}),N.createElement(UZ,{showLabels:!y,sectors:a,props:t}),t.children)}var KZ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:pa.area};function QZ(e){var{id:t}=e,r=bx(e,DZ),{hide:n,className:a,rootTabIndex:l}=e,c=N.useMemo(()=>f3(e.children,Ud),[e.children]),u=tt(h=>HX(h,t,c)),f=N.useRef(null),m=at("recharts-pie",a);return n||u==null?(f.current=null,N.createElement(Is,{tabIndex:l,className:m})):N.createElement(Hd,{zIndex:e.zIndex},N.createElement(RZ,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),N.createElement(Is,{tabIndex:l,className:m},N.createElement(WZ,{props:sr(sr({},r),{},{sectors:u}),previousSectorsRef:f,id:t})))}function iN(e){var t=ri(e,KZ),{id:r}=t,n=bx(t,EZ),a=ec(n);return N.createElement(wZ,{id:r,type:"pie"},l=>N.createElement(N.Fragment,null,N.createElement(AZ,{type:"pie",id:l,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),N.createElement(IZ,Ls({},n,{id:l})),N.createElement(QZ,Ls({},n,{id:l}))))}iN.displayName="Pie";function lE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(r),!0).forEach(function(n){XZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XZ(e,t,r){return(t=ZZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZZ(e){var t=JZ(e,"string");return typeof t=="symbol"?t:t+""}function JZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eJ={xAxis:{},yAxis:{},zAxis:{}},p3=vn({name:"cartesianAxis",initialState:eJ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Gt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Gt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Gt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Gt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Gt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Gt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Gt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Gt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Gt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var l,c=a.widthHistory||[];if(c.length===3&&c[0]===c[2]&&n===c[1]&&n!==a.width&&Math.abs(n-((l=c[0])!==null&&l!==void 0?l:0))<=1)return;var u=[...c,n].slice(-3);e.yAxis[r]=oE(oE({},a),{},{width:n,widthHistory:u})}}}}),{addXAxis:ioe,replaceXAxis:soe,removeXAxis:loe,addYAxis:ooe,replaceYAxis:coe,removeYAxis:uoe,addZAxis:doe,replaceZAxis:foe,removeZAxis:moe,updateYAxisWidth:poe}=p3.actions,tJ=p3.reducer,rJ=ie([Er],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),nJ=ie([rJ,Hi,Ui],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),aJ=()=>tt(nJ),iJ=e=>{var{chartData:t}=e,r=Cr(),n=Bs();return N.useEffect(()=>n?()=>{}:(r(vD(t)),()=>{r(vD(void 0))}),[t,r,n]),null},cE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},h3=vn({name:"brush",initialState:cE,reducers:{setBrushSettings(e,t){return t.payload==null?cE:t.payload}}}),{setBrushSettings:hoe}=h3.actions,sJ=h3.reducer,lJ={dots:[],areas:[],lines:[]},x3=vn({name:"referenceElements",initialState:lJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ha(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ha(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ha(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:xoe,removeDot:voe,addArea:goe,removeArea:boe,addLine:yoe,removeLine:woe}=x3.actions,oJ=x3.reducer,cJ=N.createContext(void 0),uJ=e=>{var{children:t}=e,[r]=N.useState("".concat(ad("recharts"),"-clip")),n=aJ();if(n==null)return null;var{x:a,y:l,width:c,height:u}=n;return N.createElement(cJ.Provider,{value:r},N.createElement("defs",null,N.createElement("clipPath",{id:r},N.createElement("rect",{x:a,y:l,height:u,width:c}))),t)},dJ={},v3=vn({name:"errorBars",initialState:dJ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(l=>l.dataKey===n.dataKey&&l.direction===n.direction?a:l))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Noe,replaceErrorBar:joe,removeErrorBar:Soe}=v3.actions,fJ=v3.reducer,kb={exports:{}},Mb={};var uE;function mJ(){if(uE)return Mb;uE=1;var e=pc();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,l=e.useEffect,c=e.useMemo,u=e.useDebugValue;return Mb.useSyncExternalStoreWithSelector=function(f,m,h,x,v){var b=a(null);if(b.current===null){var S={hasValue:!1,value:null};b.current=S}else S=b.current;b=c(function(){function w(_){if(!C){if(C=!0,k=_,_=x(_),v!==void 0&&S.hasValue){var T=S.value;if(v(T,_))return A=T}return A=_}if(T=A,r(k,_))return T;var P=x(_);return v!==void 0&&v(T,P)?(k=_,T):(k=_,A=P)}var C=!1,k,A,M=h===void 0?null:h;return[function(){return w(m())},M===null?void 0:function(){return w(M())}]},[m,h,x,v]);var y=n(f,b[0],b[1]);return l(function(){S.hasValue=!0,S.value=y},[y]),u(y),y},Mb}var dE;function pJ(){return dE||(dE=1,kb.exports=mJ()),kb.exports}pJ();function hJ(e){e()}function xJ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){hJ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var fE={notify(){},get:()=>[]};function vJ(e,t){let r,n=fE,a=0,l=!1;function c(y){h();const w=n.subscribe(y);let C=!1;return()=>{C||(C=!0,w(),x())}}function u(){n.notify()}function f(){S.onStateChange&&S.onStateChange()}function m(){return l}function h(){a++,r||(r=e.subscribe(f),n=xJ())}function x(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=fE)}function v(){l||(l=!0,h())}function b(){l&&(l=!1,x())}const S={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:m,trySubscribe:v,tryUnsubscribe:b,getListeners:()=>n};return S}var gJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bJ=gJ(),yJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",wJ=yJ(),NJ=()=>bJ||wJ?N.useLayoutEffect:N.useEffect,jJ=NJ();function mE(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function SJ(e,t){if(mE(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!mE(e[r[a]],t[r[a]]))return!1;return!0}var CJ=Symbol.for("react-redux-context"),AJ=typeof globalThis<"u"?globalThis:{};function kJ(){if(!N.createContext)return{};const e=AJ[CJ]??=new Map;let t=e.get(N.createContext);return t||(t=N.createContext(null),e.set(N.createContext,t)),t}var MJ=kJ();function DJ(e){const{children:t,context:r,serverState:n,store:a}=e,l=N.useMemo(()=>{const f=vJ(a);return{store:a,subscription:f,getServerState:n?()=>n:void 0}},[a,n]),c=N.useMemo(()=>a.getState(),[a]);jJ(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const u=r||MJ;return N.createElement(u.Provider,{value:l},t)}var EJ=DJ,_J=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function OJ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function TJ(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(_J.has(n)){if(e[n]==null&&t[n]==null)continue;if(!SJ(e[n],t[n]))return!1}else if(!OJ(e[n],t[n]))return!1;return!0}var PJ=(e,t)=>t,sN=ie([PJ,Qt,QP,Or,I4,Vi,mK,Er],yK),lN=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},g3=ta("mouseClick"),b3=Md();b3.startListening({actionCreator:g3,effect:(e,t)=>{var r=e.payload,n=sN(t.getState(),lN(r));n?.activeIndex!=null&&t.dispatch(fW({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Wy=ta("mouseMove"),y3=Md(),Om=null;y3.startListening({actionCreator:Wy,effect:(e,t)=>{var r=e.payload;Om!==null&&cancelAnimationFrame(Om);var n=lN(r);Om=requestAnimationFrame(()=>{var a=t.getState(),l=Vw(a,a.tooltip.settings.shared);if(l==="axis"){var c=sN(a,n);c?.activeIndex!=null?t.dispatch(A4({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(C4())}Om=null})}});function IJ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var pE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},w3=vn({name:"rootProps",initialState:pE,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:pE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),RJ=w3.reducer,{updateOptions:LJ}=w3.actions,zJ=null,FJ={updatePolarOptions:(e,t)=>t.payload},N3=vn({name:"polarOptions",initialState:zJ,reducers:FJ}),{updatePolarOptions:$J}=N3.actions,BJ=N3.reducer,j3=ta("keyDown"),S3=ta("focus"),oN=Md();oN.startListening({actionCreator:j3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=Gw(a,Mc(r),Fd(r),Bd(r)),u=c==null?-1:Number(c);if(!(!Number.isFinite(u)||u<0)){var f=Vi(r);if(l==="Enter"){var m=lh(r,"axis","hover",String(a.index));t.dispatch(Uy({active:!a.active,activeIndex:a.index,activeCoordinate:m}));return}var h=rW(r),x=h==="left-to-right"?1:-1,v=l==="ArrowRight"?1:-1,b=u+v*x;if(!(f==null||b>=f.length||b<0)){var S=lh(r,"axis","hover",String(b));t.dispatch(Uy({active:!0,activeIndex:b.toString(),activeCoordinate:S}))}}}}}});oN.startListening({actionCreator:S3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var l="0",c=lh(r,"axis","hover",String(l));t.dispatch(Uy({active:!0,activeIndex:l,activeCoordinate:c}))}}}});var Xn=ta("externalEvent"),C3=Md(),Db=new Map;C3.startListening({actionCreator:Xn,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,l=Db.get(a);l!==void 0&&cancelAnimationFrame(l);var c=requestAnimationFrame(()=>{try{var u=t.getState(),f={activeCoordinate:ZW(u),activeDataKey:F4(u),activeIndex:vd(u),activeLabel:z4(u),activeTooltipIndex:vd(u),isTooltipActive:JW(u)};r(f,n)}finally{Db.delete(a)}});Db.set(a,c)}}});var qJ=ie([Ac],e=>e.tooltipItemPayloads),HJ=ie([qJ,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(l=>l.settings.graphicalItemId===r);if(n!=null){var{getPosition:a}=n;if(a!=null)return a(t)}}}),A3=ta("touchMove"),k3=Md();k3.startListening({actionCreator:A3,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Vw(n,n.tooltip.settings.shared);if(a==="axis"){var l=r.touches[0];if(l==null)return;var c=sN(n,lN({clientX:l.clientX,clientY:l.clientY,currentTarget:r.currentTarget}));c?.activeIndex!=null&&t.dispatch(A4({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(a==="item"){var u,f=r.touches[0];if(document.elementFromPoint==null||f==null)return;var m=document.elementFromPoint(f.clientX,f.clientY);if(!m||!m.getAttribute)return;var h=m.getAttribute(kT),x=(u=m.getAttribute(MT))!==null&&u!==void 0?u:void 0,v=kc(n).find(y=>y.id===x);if(h==null||v==null||x==null)return;var{dataKey:b}=v,S=HJ(n,h,x);t.dispatch(S4({activeDataKey:b,activeIndex:h,activeCoordinate:S,activeGraphicalItemId:x}))}}}});var UJ=Q5({brush:sJ,cartesianAxis:tJ,chartData:ZK,errorBars:fJ,graphicalItems:CZ,layout:IH,legend:H9,options:GK,polarAxis:IX,polarOptions:BJ,referenceElements:oJ,rootProps:RJ,tooltip:mW,zIndex:PK}),YJ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return sH({reducer:UJ,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([b3.middleware,y3.middleware,oN.middleware,C3.middleware,k3.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(dT({type:"raf"}))},devTools:{serialize:{replacer:IJ},name:"recharts-".concat(r)}})};function VJ(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Bs(),l=N.useRef(null);if(a)return r;l.current==null&&(l.current=YJ(t,n));var c=O1;return N.createElement(EJ,{context:c,store:l.current},r)}function GJ(e){var{layout:t,margin:r}=e,n=Cr(),a=Bs();return N.useEffect(()=>{a||(n(OH(t)),n(_H(r)))},[n,a,t,r]),null}var WJ=N.memo(GJ,TJ);function KJ(e){var t=Cr();return N.useEffect(()=>{t(LJ(e))},[t,e]),null}function hE(e){var{zIndex:t,isPanorama:r}=e,n=N.useRef(null),a=Cr();return N.useLayoutEffect(()=>(n.current&&a(OK({zIndex:t,element:n.current,isPanorama:r})),()=>{a(TK({zIndex:t,isPanorama:r}))}),[a,t,r]),N.createElement("g",{tabIndex:-1,ref:n})}function xE(e){var{children:t,isPanorama:r}=e,n=tt(NK);if(!n||n.length===0)return t;var a=n.filter(c=>c<0),l=n.filter(c=>c>0);return N.createElement(N.Fragment,null,a.map(c=>N.createElement(hE,{key:c,zIndex:c,isPanorama:r})),t,l.map(c=>N.createElement(hE,{key:c,zIndex:c,isPanorama:r})))}var QJ=["children"];function XJ(e,t){if(e==null)return{};var r,n,a=ZJ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ZJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fh.apply(null,arguments)}var JJ={width:"100%",height:"100%",display:"block"},eee=N.forwardRef((e,t)=>{var r=C9(),n=A9(),a=BT();if(!Rs(r)||!Rs(n))return null;var{children:l,otherAttributes:c,title:u,desc:f}=e,m,h;return c!=null&&(typeof c.tabIndex=="number"?m=c.tabIndex:m=a?0:void 0,typeof c.role=="string"?h=c.role:h=a?"application":void 0),N.createElement(h5,fh({},c,{title:u,desc:f,role:h,tabIndex:m,width:r,height:n,style:JJ,ref:t}),l)}),tee=e=>{var{children:t}=e,r=tt(Qh);if(!r)return null;var{width:n,height:a,y:l,x:c}=r;return N.createElement(h5,{width:n,height:a,x:c,y:l},t)},vE=N.forwardRef((e,t)=>{var{children:r}=e,n=XJ(e,QJ),a=Bs();return a?N.createElement(tee,null,N.createElement(xE,{isPanorama:!0},r)):N.createElement(eee,fh({ref:t},n),N.createElement(xE,{isPanorama:!1},r))});function ree(){var e=Cr(),[t,r]=N.useState(null),n=tt(KH);return N.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),l=a.width/t.offsetWidth;Rt(l)&&l!==n&&e(PH(l))}},[t,e,n]),r}function gE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(r),!0).forEach(function(n){aee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aee(e,t,r){return(t=iee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iee(e){var t=see(e,"string");return typeof t=="symbol"?t:t+""}function see(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Es(){return Es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Es.apply(null,arguments)}var lee=()=>(lQ(),null);function mh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var oee=N.forwardRef((e,t)=>{var r,n,a=N.useRef(null),[l,c]=N.useState({containerWidth:mh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:mh((n=e.style)===null||n===void 0?void 0:n.height)}),u=N.useCallback((m,h)=>{c(x=>{var v=Math.round(m),b=Math.round(h);return x.containerWidth===v&&x.containerHeight===b?x:{containerWidth:v,containerHeight:b}})},[]),f=N.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:h,height:x}=m.getBoundingClientRect();u(h,x);var v=S=>{var y=S[0];if(y!=null){var{width:w,height:C}=y.contentRect;u(w,C)}},b=new ResizeObserver(v);b.observe(m),a.current=b}},[t,u]);return N.useEffect(()=>()=>{var m=a.current;m?.disconnect()},[u]),N.createElement(N.Fragment,null,N.createElement(Ed,{width:l.containerWidth,height:l.containerHeight}),N.createElement("div",Es({ref:f},e)))}),cee=N.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,l]=N.useState({containerWidth:mh(r),containerHeight:mh(n)}),c=N.useCallback((f,m)=>{l(h=>{var x=Math.round(f),v=Math.round(m);return h.containerWidth===x&&h.containerHeight===v?h:{containerWidth:x,containerHeight:v}})},[]),u=N.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:m,height:h}=f.getBoundingClientRect();c(m,h)}},[t,c]);return N.createElement(N.Fragment,null,N.createElement(Ed,{width:a.containerWidth,height:a.containerHeight}),N.createElement("div",Es({ref:u},e)))}),uee=N.forwardRef((e,t)=>{var{width:r,height:n}=e;return N.createElement(N.Fragment,null,N.createElement(Ed,{width:r,height:n}),N.createElement("div",Es({ref:t},e)))}),dee=N.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?N.createElement(cee,Es({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?N.createElement(uee,Es({},e,{width:r,height:n,ref:t})):N.createElement(N.Fragment,null,N.createElement(Ed,{width:r,height:n}),N.createElement("div",Es({ref:t},e)))});function fee(e){return e?oee:dee}var mee=N.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:l,onContextMenu:c,onDoubleClick:u,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:x,onMouseUp:v,onTouchEnd:b,onTouchMove:S,onTouchStart:y,style:w,width:C,responsive:k,dispatchTouchEvents:A=!0}=e,M=N.useRef(null),_=Cr(),[T,P]=N.useState(null),[O,z]=N.useState(null),R=ree(),F=F1(),D=F?.width>0?F.width:C,Z=F?.height>0?F.height:a,Q=N.useCallback(re=>{R(re),typeof t=="function"&&t(re),P(re),z(re),re!=null&&(M.current=re)},[R,t,P,z]),J=N.useCallback(re=>{_(g3(re)),_(Xn({handler:l,reactEvent:re}))},[_,l]),L=N.useCallback(re=>{_(Wy(re)),_(Xn({handler:m,reactEvent:re}))},[_,m]),Y=N.useCallback(re=>{_(C4()),_(Xn({handler:h,reactEvent:re}))},[_,h]),q=N.useCallback(re=>{_(Wy(re)),_(Xn({handler:x,reactEvent:re}))},[_,x]),le=N.useCallback(()=>{_(S3())},[_]),be=N.useCallback(re=>{_(j3(re.key))},[_]),B=N.useCallback(re=>{_(Xn({handler:c,reactEvent:re}))},[_,c]),se=N.useCallback(re=>{_(Xn({handler:u,reactEvent:re}))},[_,u]),ve=N.useCallback(re=>{_(Xn({handler:f,reactEvent:re}))},[_,f]),de=N.useCallback(re=>{_(Xn({handler:v,reactEvent:re}))},[_,v]),Ne=N.useCallback(re=>{_(Xn({handler:y,reactEvent:re}))},[_,y]),xe=N.useCallback(re=>{A&&_(A3(re)),_(Xn({handler:S,reactEvent:re}))},[_,A,S]),he=N.useCallback(re=>{_(Xn({handler:b,reactEvent:re}))},[_,b]),ke=fee(k);return N.createElement(V4.Provider,{value:T},N.createElement(L$.Provider,{value:O},N.createElement(ke,{width:D??w?.width,height:Z??w?.height,className:at("recharts-wrapper",n),style:nee({position:"relative",cursor:"default",width:D,height:Z},w),onClick:J,onContextMenu:B,onDoubleClick:se,onFocus:le,onKeyDown:be,onMouseDown:ve,onMouseEnter:L,onMouseLeave:Y,onMouseMove:q,onMouseUp:de,onTouchEnd:he,onTouchMove:xe,onTouchStart:Ne,ref:Q},N.createElement(lee,null),r)))}),pee=["width","height","responsive","children","className","style","compact","title","desc"];function hee(e,t){if(e==null)return{};var r,n,a=xee(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vee=N.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:l,className:c,style:u,compact:f,title:m,desc:h}=e,x=hee(e,pee),v=ec(x);return f?N.createElement(N.Fragment,null,N.createElement(Ed,{width:r,height:n}),N.createElement(vE,{otherAttributes:v,title:m,desc:h},l)):N.createElement(mee,{className:c,style:u,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},N.createElement(vE,{otherAttributes:v,title:m,desc:h,ref:t},N.createElement(uJ,null,l)))});function gee(e){var t=Cr();return N.useEffect(()=>{t($J(e))},[t,e]),null}var bee=["layout"];function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ky.apply(null,arguments)}function yee(e,t){if(e==null)return{};var r,n,a=wee(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Nee={top:5,right:5,bottom:5,left:5},M3={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Nee,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},jee=N.forwardRef(function(t,r){var n,a=ri(t.categoricalChartProps,M3),{layout:l}=a,c=yee(a,bee),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h}=t,x={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h,eventEmitter:void 0};return N.createElement(VJ,{preloadedState:{options:x},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},N.createElement(iJ,{chartData:a.data}),N.createElement(WJ,{layout:l,margin:a.margin}),N.createElement(KJ,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),N.createElement(gee,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),N.createElement(vee,Ky({},c,{ref:r})))});function bE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bE(Object(r),!0).forEach(function(n){See(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function See(e,t,r){return(t=Cee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cee(e){var t=Aee(e,"string");return typeof t=="symbol"?t:t+""}function Aee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kee=["item"],Mee=yE(yE({},M3),{},{layout:"centric",startAngle:0,endAngle:360}),D3=N.forwardRef((e,t)=>{var r=ri(e,Mee);return N.createElement(jee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:kee,tooltipPayloadSearcher:YK,categoricalChartProps:r,ref:t})});function Me(e){const t=e.match(/ ?-\s+(Direct|Regular|Growth)\b/i);if(t){const r=t.index+t[0].length-t[1].length;return{main:e.slice(0,t.index).trim(),plan:e.slice(r)}}return{main:e,plan:""}}function K(e){return e<0?`-${K(-e)}`:e>=1e7?`${(e/1e7).toFixed(2)} Cr`:e>=1e5?`${(e/1e5).toFixed(2)} L`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${e.toLocaleString("en-IN")}`}const E3="cf_market_data",Dee=300*1e3,wE=300*1e3;function Eee(){try{const e=sessionStorage.getItem(E3);if(!e)return null;const t=JSON.parse(e);return Date.now()-t._ts>Dee?null:t}catch{return null}}function _ee(e){try{sessionStorage.setItem(E3,JSON.stringify({...e,_ts:Date.now()}))}catch{}}function Oee(){const[e,t]=N.useState(()=>Eee()),[r,n]=N.useState([]),a=N.useRef(null),[l,c]=N.useState(!1),[u,f]=N.useState(!1);N.useEffect(()=>{let x=!1;async function v(){try{const S=await sF();if(!x&&S){const y={...S,_ts:Date.now()};t(y),_ee(y)}}catch{}}v();const b=setInterval(v,wE);return()=>{x=!0,clearInterval(b)}},[]),N.useEffect(()=>{let x=!1;async function v(){try{const S=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=inr&include_24hr_change=true");if(!x&&S.ok){const y=await S.json(),w=[];y.bitcoin&&w.push({name:"BTC",price:y.bitcoin.inr,changePct:y.bitcoin.inr_24h_change||0,type:"crypto"}),y.ethereum&&w.push({name:"ETH",price:y.ethereum.inr,changePct:y.ethereum.inr_24h_change||0,type:"crypto"}),n(w)}}catch{}}v();const b=setInterval(v,wE);return()=>{x=!0,clearInterval(b)}},[]);const m=[];if(e?.indices&&m.push(...e.indices),e?.metals&&m.push(...e.metals),r.length>0&&m.push(...r),N.useEffect(()=>{if(!a.current)return;const x=a.current,v=x.parentElement;c(x.scrollWidth>v.clientWidth)},[m.length]),m.length===0)return null;const h=m.length*3;return s.jsxs("div",{className:"bg-[var(--bg-card)]/80 backdrop-blur-sm border-b border-[var(--border-light)] overflow-hidden",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onTouchStart:()=>f(!0),onTouchEnd:()=>f(!1),children:[s.jsx("div",{className:"overflow-hidden",children:s.jsxs("div",{ref:a,className:"flex items-stretch w-max",style:l?{animation:`ticker-scroll ${h}s linear infinite`,animationPlayState:u?"paused":"running"}:{margin:"0 auto"},children:[m.map((x,v)=>s.jsx(NE,{item:x},x.name+v)),l&&m.map((x,v)=>s.jsx(NE,{item:x},"dup-"+x.name+v))]})}),s.jsx("style",{children:`
        @keyframes ticker-scroll {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
      `})]})}function NE({item:e}){const t=e.changePct>=0,r=t?s.jsx(Zo,{size:10}):s.jsx(jp,{size:10}),n=t?"text-emerald-400":"text-[var(--accent-rose)]",a=l=>l>=1e5?`${(l/1e5).toFixed(2)}L`:l>=1e3?`${l.toLocaleString("en-IN",{maximumFractionDigits:0})}`:`${l.toLocaleString("en-IN",{maximumFractionDigits:2})}`;return s.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 border-r border-[var(--border-light)] last:border-0 shrink-0",children:[s.jsx("span",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase whitespace-nowrap",children:e.name}),s.jsx("span",{className:"text-[11px] font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:e.unit?`${a(e.price)}`:a(e.price)}),e.changePct!==void 0&&e.changePct!==null&&s.jsxs("span",{className:`flex items-center gap-0.5 text-[10px] font-bold tabular-nums ${n}`,children:[r,t?"+":"",e.changePct.toFixed(2),"%"]})]})}function Tee(){const{selectedMember:e}=$r(),{mfPortfolios:t,mfHoldings:r,insurancePolicies:n,goalList:a,reminderList:l}=mt(),c=(v,b)=>{const S=v||[];return e==="all"?S:S.filter(y=>y[b]===e)},u=N.useMemo(()=>{let v=0,b=0,S=0;return c((t||[]).filter(C=>C.status!=="Inactive"),"ownerId").forEach(C=>{const k=(r||[]).filter(_=>_.portfolioId===C.portfolioId&&_.units>0),A=k.reduce((_,T)=>_+T.currentValue,0),M=(C.rebalanceThreshold||.05)*100;k.forEach(_=>{if(_.athNav>0&&_.belowATHPct>=10?b++:_.athNav>0&&_.belowATHPct>=5&&v++,_.targetAllocationPct>0&&A>0){const T=_.currentValue/A*100;Math.abs(T-_.targetAllocationPct)>M&&S++}})}),{buyOppCount:v+b,buyCount:v,strongBuyCount:b,rebalanceCount:S}},[e,t,r]),f=N.useMemo(()=>{const v=[],b=c((n||[]).filter(A=>A.status==="Active"),"memberId");b.some(A=>A.policyType==="Term Life")||v.push({type:"critical",title:"Missing Term Life Insurance",badge:"Add Policy",navigateTo:"/insurance"});const y=b.filter(A=>A.policyType==="Health").reduce((A,M)=>A+M.sumAssured,0);return y===0?v.push({type:"critical",title:"No Health Insurance",badge:"Add Policy",navigateTo:"/insurance"}):y<5e5&&v.push({type:"warning",title:"Inadequate Health Insurance",badge:K(y),navigateTo:"/insurance"}),c((a||[]).filter(A=>A.isActive!==!1&&A.goalType==="Emergency Fund"),"familyMemberId").forEach(A=>{const M=A.targetAmount>0?A.currentValue/A.targetAmount*100:0;M<100&&v.push({type:M>=75?"info":"warning",title:`Emergency Fund at ${M.toFixed(0)}%`,badge:K(A.targetAmount-A.currentValue)+" left",navigateTo:"/goals"})}),c((l||[]).filter(A=>A.isActive!==!1),"familyMemberId").filter(A=>new Date(A.dueDate)<new Date).forEach(A=>{const M=Math.ceil((new Date-new Date(A.dueDate))/864e5);v.push({type:"critical",title:A.title,badge:`${M}d overdue`,navigateTo:"/reminders"})}),c((a||[]).filter(A=>A.isActive!==!1&&A.status==="Needs Attention"),"familyMemberId").forEach(A=>{v.push({type:"warning",title:`${A.goalName} needs attention`,badge:A.priority,navigateTo:"/goals"})}),v},[e,n,a,l]),m=N.useMemo(()=>{const v=c((l||[]).filter(S=>S.isActive!==!1&&S.status!=="Completed"),"familyMemberId"),b=new Date;return v.map(S=>{const y=new Date(S.dueDate)-b,w=Math.ceil(y/(1440*60*1e3)),C=new Date(S.dueDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short"});return{...S,days:w,dateStr:C}}).filter(S=>S.days>=0&&S.days<=30).sort((S,y)=>S.days-y.days).slice(0,5)},[e,l]),h=f.length+u.buyOppCount+u.rebalanceCount+m.length,x=f.filter(v=>v.type==="critical").length;return{criticalAlerts:f,investmentSignals:u,upcomingReminders:m,totalCount:h,criticalCount:x}}function jE(e){return e>=20?"bg-rose-500/20 text-[var(--accent-rose)]":e>=10?"bg-orange-500/20 text-[var(--accent-orange)]":e>=5?"bg-amber-500/20 text-[var(--accent-amber)]":"bg-slate-500/20 text-[var(--text-muted)]"}function SE(e){return e>=10?{label:"Strong Buy",cls:"bg-emerald-500/20 text-emerald-400 ring-1 ring-emerald-500/30"}:e>=5?{label:"Buy",cls:"bg-blue-500/20 text-blue-400"}:null}function _3(){const{mfHoldings:e,mfPortfolios:t}=mt(),r=N.useMemo(()=>t.filter(a=>a.status!=="Inactive").map(a=>{const l=e.filter(f=>f.portfolioId===a.portfolioId&&f.units>0),c=l.reduce((f,m)=>f+m.currentValue,0),u=l.filter(f=>f.athNav>0&&f.belowATHPct>=1).sort((f,m)=>m.belowATHPct-f.belowATHPct).map(f=>({...f,currentPct:c>0?f.currentValue/c*100:0}));return{...a,totalValue:c,opportunities:u}}).filter(a=>a.opportunities.length>0),[t,e]);return r.reduce((a,l)=>a+l.opportunities.length,0)===0?s.jsxs("div",{className:"py-8 text-center",children:[s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No buy opportunities right now"}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"All funds are near their all-time highs"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] px-1",children:"Funds below their All-Time High NAV. Higher discount = better opportunity."}),r.map((a,l)=>s.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-emerald-500/50 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-[var(--bg-inset)]",children:[s.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-500/15 w-5 h-5 rounded flex items-center justify-center",children:l+1}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:a.portfolioName}),s.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:a.ownerName}),s.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15 text-emerald-400",children:[a.opportunities.length," funds"]})]}),s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),s.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Signal"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Below ATH"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"ATH NAV"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Current"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Value"})]})}),s.jsx("tbody",{children:a.opportunities.map(c=>{const u=SE(c.belowATHPct);return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[s.jsxs("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[200px]",children:[s.jsx("p",{className:"truncate",children:Me(c.fundName).main}),Me(c.fundName).plan&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Me(c.fundName).plan})]}),s.jsx("td",{className:"py-2 px-2 text-center",children:u?s.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded-full whitespace-nowrap ${u.cls}`,children:u.label}):s.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Watch"})}),s.jsx("td",{className:"py-2 px-2 text-right",children:s.jsxs("span",{className:`inline-block text-xs font-semibold px-1.5 py-0.5 rounded-full ${jE(c.belowATHPct)}`,children:["",c.belowATHPct.toFixed(1),"%"]})}),s.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:["",c.athNav.toFixed(2)]}),s.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:["",c.currentNav.toFixed(2)]}),s.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:K(c.currentValue)})]},c.holdingId)})})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:a.opportunities.map(c=>{const u=SE(c.belowATHPct);return s.jsxs("div",{className:"px-3 py-2.5",children:[s.jsxs("div",{className:"flex items-start justify-between mb-1",children:[s.jsxs("div",{className:"flex-1 mr-2",children:[s.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight",children:Me(c.fundName).main}),Me(c.fundName).plan&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Me(c.fundName).plan})]}),s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[u&&s.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded-full ${u.cls}`,children:u.label}),s.jsxs("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${jE(c.belowATHPct)}`,children:["",c.belowATHPct.toFixed(1),"%"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)]",children:[s.jsxs("span",{children:["ATH ",c.athNav.toFixed(2),"  ",c.currentNav.toFixed(2)]}),s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:K(c.currentValue)})]})]},c.holdingId)})})]},a.portfolioId))]})}const O3=6048e5,Pee=864e5,yx=6e4,wx=36e5,Iee=1e3,CE=Symbol.for("constructDateFrom");function Et(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&CE in e?e[CE](t):e instanceof Date?new e.constructor(t):new Date(t)}function Le(e,t){return Et(t||e,e)}function xa(e,t,r){const n=Le(e,r?.in);return isNaN(t)?Et(r?.in||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function ya(e,t,r){const n=Le(e,r?.in);if(isNaN(t))return Et(e,NaN);if(!t)return n;const a=n.getDate(),l=Et(e,n.getTime());l.setMonth(n.getMonth()+t+1,0);const c=l.getDate();return a>=c?l:(n.setFullYear(l.getFullYear(),l.getMonth(),a),n)}function T3(e,t,r){return Et(e,+Le(e)+t)}function Ree(e,t,r){return T3(e,t*wx)}let Lee={};function Wl(){return Lee}function Bi(e,t){const r=Wl(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Le(e,t?.in),l=a.getDay(),c=(l<n?7:0)+l-n;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function sc(e,t){return Bi(e,{...t,weekStartsOn:1})}function P3(e,t){const r=Le(e,t?.in),n=r.getFullYear(),a=Et(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const l=sc(a),c=Et(r,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const u=sc(c);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function ph(e){const t=Le(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Gi(e,...t){const r=Et.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function ql(e,t){const r=Le(e,t?.in);return r.setHours(0,0,0,0),r}function lc(e,t,r){const[n,a]=Gi(r?.in,e,t),l=ql(n),c=ql(a),u=+l-ph(l),f=+c-ph(c);return Math.round((u-f)/Pee)}function zee(e,t){const r=P3(e,t),n=Et(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),sc(n)}function bd(e,t,r){const n=Le(e,r?.in);return n.setTime(n.getTime()+t*yx),n}function cN(e,t,r){return ya(e,t*3,r)}function Fee(e,t,r){return T3(e,t*1e3)}function hh(e,t,r){return xa(e,t*7,r)}function va(e,t,r){return ya(e,t*12,r)}function AE(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Et.bind(null,a));const l=Le(a,n);(!r||r<l||isNaN(+l))&&(r=l)}),Et(n,r||NaN)}function kE(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Et.bind(null,a));const l=Le(a,n);(!r||r>l||isNaN(+l))&&(r=l)}),Et(n,r||NaN)}function $ee(e,t,r){const[n,a]=Gi(r?.in,e,t);return+ql(n)==+ql(a)}function Ga(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function oc(e){return!(!Ga(e)&&typeof e!="number"||isNaN(+Le(e)))}function xh(e,t,r){const[n,a]=Gi(r?.in,e,t),l=n.getFullYear()-a.getFullYear(),c=n.getMonth()-a.getMonth();return l*12+c}function Ms(e,t){const r=Le(e,t?.in);return Math.trunc(r.getMonth()/3)+1}function vh(e,t,r){const[n,a]=Gi(r?.in,e,t),l=n.getFullYear()-a.getFullYear(),c=Ms(n)-Ms(a);return l*4+c}function gh(e,t,r){const[n,a]=Gi(r?.in,e,t);return n.getFullYear()-a.getFullYear()}function Bee(e,t,r){const[n,a]=Gi(r?.in,e,t),l=ME(n,a),c=Math.abs(lc(n,a));n.setDate(n.getDate()-l*c);const u=+(ME(n,a)===-l),f=l*(c-u);return f===0?0:f}function ME(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function I3(e,t){const r=Le(e,t?.in);return r.setHours(23,59,59,999),r}function R3(e,t){const r=Le(e,t?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function Qy(e,t){const r=Le(e,t?.in),n=r.getMonth(),a=n-n%3;return r.setMonth(a,1),r.setHours(0,0,0,0),r}function L3(e,t){const r=Le(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function z3(e,t){const r=Le(e,t?.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function Nx(e,t){const r=Le(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function qee(e,t){const r=Wl(),n=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Le(e,t?.in),l=a.getDay(),c=(l<n?-7:0)+6-(l-n);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}const Hee={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Uee=(e,t,r)=>{let n;const a=Hee[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Eb(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Yee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Vee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Wee={date:Eb({formats:Yee,defaultWidth:"full"}),time:Eb({formats:Vee,defaultWidth:"full"}),dateTime:Eb({formats:Gee,defaultWidth:"full"})},Kee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Qee=(e,t,r,n)=>Kee[e];function Ru(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=r?.width?String(r.width):c;a=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=r?.width?String(r.width):e.defaultWidth;a=e.values[u]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(t):t;return a[l]}}const Xee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Zee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Jee={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ete={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nte=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ate={ordinalNumber:nte,era:Ru({values:Xee,defaultWidth:"wide"}),quarter:Ru({values:Zee,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ru({values:Jee,defaultWidth:"wide"}),day:Ru({values:ete,defaultWidth:"wide"}),dayPeriod:Ru({values:tte,defaultWidth:"wide",formattingValues:rte,defaultFormattingWidth:"wide"})};function Lu(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],l=t.match(a);if(!l)return null;const c=l[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(u)?ste(u,x=>x.test(c)):ite(u,x=>x.test(c));let m;m=e.valueCallback?e.valueCallback(f):f,m=r.valueCallback?r.valueCallback(m):m;const h=t.slice(c.length);return{value:m,rest:h}}}function ite(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function ste(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function lte(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],l=t.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=r.valueCallback?r.valueCallback(c):c;const u=t.slice(a.length);return{value:c,rest:u}}}const ote=/^(\d+)(th|st|nd|rd)?/i,cte=/\d+/i,ute={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dte={any:[/^b/i,/^(a|c)/i]},fte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mte={any:[/1/i,/2/i,/3/i,/4/i]},pte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yte={ordinalNumber:lte({matchPattern:ote,parsePattern:cte,valueCallback:e=>parseInt(e,10)}),era:Lu({matchPatterns:ute,defaultMatchWidth:"wide",parsePatterns:dte,defaultParseWidth:"any"}),quarter:Lu({matchPatterns:fte,defaultMatchWidth:"wide",parsePatterns:mte,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Lu({matchPatterns:pte,defaultMatchWidth:"wide",parsePatterns:hte,defaultParseWidth:"any"}),day:Lu({matchPatterns:xte,defaultMatchWidth:"wide",parsePatterns:vte,defaultParseWidth:"any"}),dayPeriod:Lu({matchPatterns:gte,defaultMatchWidth:"any",parsePatterns:bte,defaultParseWidth:"any"})},F3={code:"en-US",formatDistance:Uee,formatLong:Wee,formatRelative:Qee,localize:ate,match:yte,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wte(e,t){const r=Le(e,t?.in);return lc(r,Nx(r))+1}function uN(e,t){const r=Le(e,t?.in),n=+sc(r)-+zee(r);return Math.round(n/O3)+1}function dN(e,t){const r=Le(e,t?.in),n=r.getFullYear(),a=Wl(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=Et(t?.in||e,0);c.setFullYear(n+1,0,l),c.setHours(0,0,0,0);const u=Bi(c,t),f=Et(t?.in||e,0);f.setFullYear(n,0,l),f.setHours(0,0,0,0);const m=Bi(f,t);return+r>=+u?n+1:+r>=+m?n:n-1}function Nte(e,t){const r=Wl(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=dN(e,t),l=Et(t?.in||e,0);return l.setFullYear(a,0,n),l.setHours(0,0,0,0),Bi(l,t)}function $3(e,t){const r=Le(e,t?.in),n=+Bi(r,t)-+Nte(r,t);return Math.round(n/O3)+1}function Mt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const js={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Mt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Mt(r+1,2)},d(e,t){return Mt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Mt(e.getHours()%12||12,t.length)},H(e,t){return Mt(e.getHours(),t.length)},m(e,t){return Mt(e.getMinutes(),t.length)},s(e,t){return Mt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Mt(a,t.length)}},Ro={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},DE={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return js.y(e,t)},Y:function(e,t,r,n){const a=dN(e,n),l=a>0?a:1-a;if(t==="YY"){const c=l%100;return Mt(c,2)}return t==="Yo"?r.ordinalNumber(l,{unit:"year"}):Mt(l,t.length)},R:function(e,t){const r=P3(e);return Mt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Mt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Mt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Mt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return js.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Mt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=$3(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Mt(a,t.length)},I:function(e,t,r){const n=uN(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Mt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):js.d(e,t)},D:function(e,t,r){const n=wte(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Mt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),l=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Mt(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),l=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Mt(l,t.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Mt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Ro.noon:n===0?a=Ro.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Ro.evening:n>=12?a=Ro.afternoon:n>=4?a=Ro.morning:a=Ro.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return js.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):js.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Mt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Mt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):js.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):js.s(e,t)},S:function(e,t){return js.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return _E(n);case"XXXX":case"XX":return yl(n);default:return yl(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return _E(n);case"xxxx":case"xx":return yl(n);default:return yl(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+EE(n,":");default:return"GMT"+yl(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+EE(n,":");default:return"GMT"+yl(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Mt(n,t.length)},T:function(e,t,r){return Mt(+e,t.length)}};function EE(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),l=n%60;return l===0?r+String(a):r+String(a)+t+Mt(l,2)}function _E(e,t){return e%60===0?(e>0?"-":"+")+Mt(Math.abs(e)/60,2):yl(e,t)}function yl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Mt(Math.trunc(n/60),2),l=Mt(n%60,2);return r+a+t+l}const OE=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},B3=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},jte=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return OE(e,t);let l;switch(n){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",OE(n,t)).replace("{{time}}",B3(a,t))},Xy={p:B3,P:jte},Ste=/^D+$/,Cte=/^Y+$/,Ate=["D","DD","YY","YYYY"];function kte(e){return Ste.test(e)}function Mte(e){return Cte.test(e)}function Dte(e,t,r){const n=Ete(e,t,r);if(console.warn(n),Ate.includes(e))throw new RangeError(n)}function Ete(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _te=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ote=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tte=/^'([^]*?)'?$/,Pte=/''/g,Ite=/[a-zA-Z]/;function TE(e,t,r){const n=Wl(),a=r?.locale??n.locale??F3,l=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,u=Le(e,r?.in);if(!oc(u))throw new RangeError("Invalid time value");let f=t.match(Ote).map(h=>{const x=h[0];if(x==="p"||x==="P"){const v=Xy[x];return v(h,a.formatLong)}return h}).join("").match(_te).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const x=h[0];if(x==="'")return{isToken:!1,value:Rte(h)};if(DE[x])return{isToken:!0,value:h};if(x.match(Ite))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:h}});a.localize.preprocessor&&(f=a.localize.preprocessor(u,f));const m={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return f.map(h=>{if(!h.isToken)return h.value;const x=h.value;(!r?.useAdditionalWeekYearTokens&&Mte(x)||!r?.useAdditionalDayOfYearTokens&&kte(x))&&Dte(x,t,String(e));const v=DE[x[0]];return v(u,x,a.localize,m)}).join("")}function Rte(e){const t=e.match(Tte);return t?t[1].replace(Pte,"'"):e}function PE(e,t){return Le(e,t?.in).getDate()}function Lte(e,t){return Le(e,t?.in).getDay()}function zte(e,t){const r=Le(e,t?.in),n=r.getFullYear(),a=r.getMonth(),l=Et(r,0);return l.setFullYear(n,a+1,0),l.setHours(0,0,0,0),l.getDate()}function Fte(){return Object.assign({},Wl())}function Yr(e,t){return Le(e,t?.in).getHours()}function $te(e,t){const r=Le(e,t?.in).getDay();return r===0?7:r}function Vr(e,t){return Le(e,t?.in).getMinutes()}function mn(e,t){return Le(e,t?.in).getMonth()}function _s(e){return Le(e).getSeconds()}function Zy(e){return+Le(e)}function ct(e,t){return Le(e,t?.in).getFullYear()}function Ei(e,t){return+Le(e)>+Le(t)}function Ha(e,t){return+Le(e)<+Le(t)}function Bte(e,t){return+Le(e)==+Le(t)}function qte(e,t){const r=Hte(t)?new t(0):Et(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function Hte(e){return typeof e=="function"&&e.prototype?.constructor===e}const Ute=10;class q3{subPriority=0;validate(t,r){return!0}}class Yte extends q3{constructor(t,r,n,a,l){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,l&&(this.subPriority=l)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class Vte extends q3{priority=Ute;subPriority=-1;constructor(t,r){super(),this.context=t||(n=>Et(r,n))}set(t,r){return r.timestampIsSet?t:Et(t,qte(t,this.context))}}class Ct{run(t,r,n,a){const l=this.parse(t,r,n,a);return l?{setter:new Yte(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}validate(t,r,n){return!0}}class Gte extends Ct{priority=140;parse(t,r,n){switch(r){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}}set(t,r,n){return r.era=n,t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const pr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},za={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function hr(e,t){return e&&{value:t(e.value),rest:e.rest}}function tr(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Fa(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,l=r[3]?parseInt(r[3],10):0,c=r[5]?parseInt(r[5],10):0;return{value:n*(a*wx+l*yx+c*Iee),rest:t.slice(r[0].length)}}function H3(e){return tr(pr.anyDigitsSigned,e)}function or(e,t){switch(e){case 1:return tr(pr.singleDigit,t);case 2:return tr(pr.twoDigits,t);case 3:return tr(pr.threeDigits,t);case 4:return tr(pr.fourDigits,t);default:return tr(new RegExp("^\\d{1,"+e+"}"),t)}}function bh(e,t){switch(e){case 1:return tr(pr.singleDigitSigned,t);case 2:return tr(pr.twoDigitsSigned,t);case 3:return tr(pr.threeDigitsSigned,t);case 4:return tr(pr.fourDigitsSigned,t);default:return tr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function fN(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function U3(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const l=n+50,c=Math.trunc(l/100)*100,u=e>=l%100;a=e+c-(u?100:0)}return r?a:1-a}function Y3(e){return e%400===0||e%4===0&&e%100!==0}class Wte extends Ct{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,r,n){const a=l=>({year:l,isTwoDigitYear:r==="yy"});switch(r){case"y":return hr(or(4,t),a);case"yo":return hr(n.ordinalNumber(t,{unit:"year"}),a);default:return hr(or(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n){const a=t.getFullYear();if(n.isTwoDigitYear){const c=U3(n.year,a);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const l=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class Kte extends Ct{priority=130;parse(t,r,n){const a=l=>({year:l,isTwoDigitYear:r==="YY"});switch(r){case"Y":return hr(or(4,t),a);case"Yo":return hr(n.ordinalNumber(t,{unit:"year"}),a);default:return hr(or(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n,a){const l=dN(t,a);if(n.isTwoDigitYear){const u=U3(n.year,l);return t.setFullYear(u,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Bi(t,a)}const c=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(c,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Bi(t,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class Qte extends Ct{priority=130;parse(t,r){return bh(r==="R"?4:r.length,t)}set(t,r,n){const a=Et(t,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),sc(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class Xte extends Ct{priority=130;parse(t,r){return bh(r==="u"?4:r.length,t)}set(t,r,n){return t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class Zte extends Ct{priority=120;parse(t,r,n){switch(r){case"Q":case"QQ":return or(r.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class Jte extends Ct{priority=120;parse(t,r,n){switch(r){case"q":case"qq":return or(r.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class ere extends Ct{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,r,n){const a=l=>l-1;switch(r){case"M":return hr(tr(pr.month,t),a);case"MM":return hr(or(2,t),a);case"Mo":return hr(n.ordinalNumber(t,{unit:"month"}),a);case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}}class tre extends Ct{priority=110;parse(t,r,n){const a=l=>l-1;switch(r){case"L":return hr(tr(pr.month,t),a);case"LL":return hr(or(2,t),a);case"Lo":return hr(n.ordinalNumber(t,{unit:"month"}),a);case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function rre(e,t,r){const n=Le(e,r?.in),a=$3(n,r)-t;return n.setDate(n.getDate()-a*7),Le(n,r?.in)}class nre extends Ct{priority=100;parse(t,r,n){switch(r){case"w":return tr(pr.week,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return or(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n,a){return Bi(rre(t,n,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function are(e,t,r){const n=Le(e,r?.in),a=uN(n,r)-t;return n.setDate(n.getDate()-a*7),n}class ire extends Ct{priority=100;parse(t,r,n){switch(r){case"I":return tr(pr.week,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return or(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n){return sc(are(t,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const sre=[31,28,31,30,31,30,31,31,30,31,30,31],lre=[31,29,31,30,31,30,31,31,30,31,30,31];class ore extends Ct{priority=90;subPriority=1;parse(t,r,n){switch(r){case"d":return tr(pr.date,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return or(r.length,t)}}validate(t,r){const n=t.getFullYear(),a=Y3(n),l=t.getMonth();return a?r>=1&&r<=lre[l]:r>=1&&r<=sre[l]}set(t,r,n){return t.setDate(n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class cre extends Ct{priority=90;subpriority=1;parse(t,r,n){switch(r){case"D":case"DD":return tr(pr.dayOfYear,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return or(r.length,t)}}validate(t,r){const n=t.getFullYear();return Y3(n)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,n){return t.setMonth(0,n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function mN(e,t,r){const n=Wl(),a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=Le(e,r?.in),c=l.getDay(),f=(t%7+7)%7,m=7-a,h=t<0||t>6?t-(c+m)%7:(f+m)%7-(c+m)%7;return xa(l,h,r)}class ure extends Ct{priority=90;parse(t,r,n){switch(r){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,a){return t=mN(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class dre extends Ct{priority=90;parse(t,r,n,a){const l=c=>{const u=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+u};switch(r){case"e":case"ee":return hr(or(r.length,t),l);case"eo":return hr(n.ordinalNumber(t,{unit:"day"}),l);case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,a){return t=mN(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class fre extends Ct{priority=90;parse(t,r,n,a){const l=c=>{const u=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+u};switch(r){case"c":case"cc":return hr(or(r.length,t),l);case"co":return hr(n.ordinalNumber(t,{unit:"day"}),l);case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,a){return t=mN(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function mre(e,t,r){const n=Le(e,r?.in),a=$te(n,r),l=t-a;return xa(n,l,r)}class pre extends Ct{priority=90;parse(t,r,n){const a=l=>l===0?7:l;switch(r){case"i":case"ii":return or(r.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return hr(n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return hr(n.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return hr(n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a);default:return hr(n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,r){return r>=1&&r<=7}set(t,r,n){return t=mre(t,n),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class hre extends Ct{priority=80;parse(t,r,n){switch(r){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(fN(n),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class xre extends Ct{priority=80;parse(t,r,n){switch(r){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(fN(n),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class vre extends Ct{priority=80;parse(t,r,n){switch(r){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(fN(n),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class gre extends Ct{priority=70;parse(t,r,n){switch(r){case"h":return tr(pr.hour12h,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return or(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,n){const a=t.getHours()>=12;return a&&n<12?t.setHours(n+12,0,0,0):!a&&n===12?t.setHours(0,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class bre extends Ct{priority=70;parse(t,r,n){switch(r){case"H":return tr(pr.hour23h,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return or(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,n){return t.setHours(n,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class yre extends Ct{priority=70;parse(t,r,n){switch(r){case"K":return tr(pr.hour11h,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return or(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.getHours()>=12&&n<12?t.setHours(n+12,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class wre extends Ct{priority=70;parse(t,r,n){switch(r){case"k":return tr(pr.hour24h,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return or(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,n){const a=n<=24?n%24:n;return t.setHours(a,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class Nre extends Ct{priority=60;parse(t,r,n){switch(r){case"m":return tr(pr.minute,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return or(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setMinutes(n,0,0),t}incompatibleTokens=["t","T"]}class jre extends Ct{priority=50;parse(t,r,n){switch(r){case"s":return tr(pr.second,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return or(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setSeconds(n,0),t}incompatibleTokens=["t","T"]}class Sre extends Ct{priority=30;parse(t,r){const n=a=>Math.trunc(a*Math.pow(10,-r.length+3));return hr(or(r.length,t),n)}set(t,r,n){return t.setMilliseconds(n),t}incompatibleTokens=["t","T"]}class Cre extends Ct{priority=10;parse(t,r){switch(r){case"X":return Fa(za.basicOptionalMinutes,t);case"XX":return Fa(za.basic,t);case"XXXX":return Fa(za.basicOptionalSeconds,t);case"XXXXX":return Fa(za.extendedOptionalSeconds,t);default:return Fa(za.extended,t)}}set(t,r,n){return r.timestampIsSet?t:Et(t,t.getTime()-ph(t)-n)}incompatibleTokens=["t","T","x"]}class Are extends Ct{priority=10;parse(t,r){switch(r){case"x":return Fa(za.basicOptionalMinutes,t);case"xx":return Fa(za.basic,t);case"xxxx":return Fa(za.basicOptionalSeconds,t);case"xxxxx":return Fa(za.extendedOptionalSeconds,t);default:return Fa(za.extended,t)}}set(t,r,n){return r.timestampIsSet?t:Et(t,t.getTime()-ph(t)-n)}incompatibleTokens=["t","T","X"]}class kre extends Ct{priority=40;parse(t){return H3(t)}set(t,r,n){return[Et(t,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class Mre extends Ct{priority=20;parse(t){return H3(t)}set(t,r,n){return[Et(t,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const Dre={G:new Gte,y:new Wte,Y:new Kte,R:new Qte,u:new Xte,Q:new Zte,q:new Jte,M:new ere,L:new tre,w:new nre,I:new ire,d:new ore,D:new cre,E:new ure,e:new dre,c:new fre,i:new pre,a:new hre,b:new xre,B:new vre,h:new gre,H:new bre,K:new yre,k:new wre,m:new Nre,s:new jre,S:new Sre,X:new Cre,x:new Are,t:new kre,T:new Mre},Ere=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_re=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ore=/^'([^]*?)'?$/,Tre=/''/g,Pre=/\S/,Ire=/[a-zA-Z]/;function Rre(e,t,r,n){const a=()=>Et(n?.in||r,NaN),l=Fte(),c=n?.locale??l.locale??F3,u=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,f=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??l.weekStartsOn??l.locale?.options?.weekStartsOn??0;if(!t)return e?a():Le(r,n?.in);const m={firstWeekContainsDate:u,weekStartsOn:f,locale:c},h=[new Vte(n?.in,r)],x=t.match(_re).map(w=>{const C=w[0];if(C in Xy){const k=Xy[C];return k(w,c.formatLong)}return w}).join("").match(Ere),v=[];for(let w of x){const C=w[0],k=Dre[C];if(k){const{incompatibleTokens:A}=k;if(Array.isArray(A)){const _=v.find(T=>A.includes(T.token)||T.token===C);if(_)throw new RangeError(`The format string mustn't contain \`${_.fullToken}\` and \`${w}\` at the same time`)}else if(k.incompatibleTokens==="*"&&v.length>0)throw new RangeError(`The format string mustn't contain \`${w}\` and any other token at the same time`);v.push({token:C,fullToken:w});const M=k.run(e,w,c.match,m);if(!M)return a();h.push(M.setter),e=M.rest}else{if(C.match(Ire))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(w==="''"?w="'":C==="'"&&(w=Lre(w)),e.indexOf(w)===0)e=e.slice(w.length);else return a()}}if(e.length>0&&Pre.test(e))return a();const b=h.map(w=>w.priority).sort((w,C)=>C-w).filter((w,C,k)=>k.indexOf(w)===C).map(w=>h.filter(C=>C.priority===w).sort((C,k)=>k.subPriority-C.subPriority)).map(w=>w[0]);let S=Le(r,n?.in);if(isNaN(+S))return a();const y={};for(const w of b){if(!w.validate(S,m))return a();const C=w.set(S,y,m);Array.isArray(C)?(S=C[0],Object.assign(y,C[1])):S=C}return S}function Lre(e){return e.match(Ore)[1].replace(Tre,"'")}function zre(e,t,r){const[n,a]=Gi(r?.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function Fre(e,t,r){const[n,a]=Gi(r?.in,e,t);return+Qy(n)==+Qy(a)}function $re(e,t,r){const[n,a]=Gi(r?.in,e,t);return n.getFullYear()===a.getFullYear()}function yd(e,t,r){const n=+Le(e,r?.in),[a,l]=[+Le(t.start,r?.in),+Le(t.end,r?.in)].sort((c,u)=>c-u);return n>=a&&n<=l}function Bre(e,t,r){return xa(e,-1,r)}function qre(e,t){const r=()=>Et(t?.in,NaN),a=Vre(e);let l;if(a.date){const m=Gre(a.date,2);l=Wre(m.restDateString,m.year)}if(!l||isNaN(+l))return r();const c=+l;let u=0,f;if(a.time&&(u=Kre(a.time),isNaN(u)))return r();if(a.timezone){if(f=Qre(a.timezone),isNaN(f))return r()}else{const m=new Date(c+u),h=Le(0,t?.in);return h.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),h.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),h}return Le(c+u+f,t?.in)}const Tm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Hre=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ure=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Yre=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Vre(e){const t={},r=e.split(Tm.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Tm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Tm.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=Tm.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Gre(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,l=n[2]?parseInt(n[2]):null;return{year:l===null?a:l*100,restDateString:e.slice((n[1]||n[2]).length)}}function Wre(e,t){if(t===null)return new Date(NaN);const r=e.match(Hre);if(!r)return new Date(NaN);const n=!!r[4],a=zu(r[1]),l=zu(r[2])-1,c=zu(r[3]),u=zu(r[4]),f=zu(r[5])-1;if(n)return tne(t,u,f)?Xre(t,u,f):new Date(NaN);{const m=new Date(0);return!Jre(t,l,c)||!ene(t,a)?new Date(NaN):(m.setUTCFullYear(t,l,Math.max(a,c)),m)}}function zu(e){return e?parseInt(e):1}function Kre(e){const t=e.match(Ure);if(!t)return NaN;const r=_b(t[1]),n=_b(t[2]),a=_b(t[3]);return rne(r,n,a)?r*wx+n*yx+a*1e3:NaN}function _b(e){return e&&parseFloat(e.replace(",","."))||0}function Qre(e){if(e==="Z")return 0;const t=e.match(Yre);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return nne(n,a)?r*(n*wx+a*yx):NaN}function Xre(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,l=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+l),n}const Zre=[31,null,31,30,31,30,31,31,30,31,30,31];function V3(e){return e%400===0||e%4===0&&e%100!==0}function Jre(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Zre[t]||(V3(e)?29:28))}function ene(e,t){return t>=1&&t<=(V3(e)?366:365)}function tne(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function rne(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function nne(e,t){return t>=0&&t<=59}function Dn(e,t,r){const n=Le(e,r?.in),a=n.getFullYear(),l=n.getDate(),c=Et(e,0);c.setFullYear(a,t,15),c.setHours(0,0,0,0);const u=zte(c);return n.setMonth(t,Math.min(l,u)),n}function up(e,t,r){const n=Le(e,r?.in);return n.setHours(t),n}function dp(e,t,r){const n=Le(e,r?.in);return n.setMinutes(t),n}function Ho(e,t,r){const n=Le(e,r?.in),a=Math.trunc(n.getMonth()/3)+1,l=t-a;return Dn(n,n.getMonth()+l*3)}function fp(e,t,r){const n=Le(e,r?.in);return n.setSeconds(t),n}function Ra(e,t,r){const n=Le(e,r?.in);return isNaN(+n)?Et(e,NaN):(n.setFullYear(t),n)}function Tl(e,t,r){return ya(e,-t,r)}function G3(e,t,r){return cN(e,-1,r)}function IE(e,t,r){return hh(e,-1,r)}function zs(e,t,r){return va(e,-t,r)}function jx(){return typeof window<"u"}function Dc(e){return W3(e)?(e.nodeName||"").toLowerCase():"#document"}function In(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ni(e){var t;return(t=(W3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function W3(e){return jx()?e instanceof Node||e instanceof In(e).Node:!1}function Zr(e){return jx()?e instanceof Element||e instanceof In(e).Element:!1}function Xa(e){return jx()?e instanceof HTMLElement||e instanceof In(e).HTMLElement:!1}function RE(e){return!jx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof In(e).ShadowRoot}const ane=new Set(["inline","contents"]);function Yd(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=na(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!ane.has(a)}const ine=new Set(["table","td","th"]);function sne(e){return ine.has(Dc(e))}const lne=[":popover-open",":modal"];function Sx(e){return lne.some(t=>{try{return e.matches(t)}catch{return!1}})}const one=["transform","translate","scale","rotate","perspective"],cne=["transform","translate","scale","rotate","perspective","filter"],une=["paint","layout","strict","content"];function pN(e){const t=hN(),r=Zr(e)?na(e):e;return one.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||cne.some(n=>(r.willChange||"").includes(n))||une.some(n=>(r.contain||"").includes(n))}function dne(e){let t=Fs(e);for(;Xa(t)&&!cc(t);){if(pN(t))return t;if(Sx(t))return null;t=Fs(t)}return null}function hN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fne=new Set(["html","body","#document"]);function cc(e){return fne.has(Dc(e))}function na(e){return In(e).getComputedStyle(e)}function Cx(e){return Zr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Fs(e){if(Dc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||RE(e)&&e.host||ni(e);return RE(t)?t.host:t}function K3(e){const t=Fs(e);return cc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xa(t)&&Yd(t)?t:K3(t)}function wd(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=K3(e),l=a===((n=e.ownerDocument)==null?void 0:n.body),c=In(a);if(l){const u=Jy(c);return t.concat(c,c.visualViewport||[],Yd(a)?a:[],u&&r?wd(u):[])}return t.concat(a,wd(a,[],r))}function Jy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const uc=Math.min,Pl=Math.max,yh=Math.round,Pm=Math.floor,Wa=e=>({x:e,y:e}),mne={left:"right",right:"left",bottom:"top",top:"bottom"},pne={start:"end",end:"start"};function hne(e,t,r){return Pl(e,uc(t,r))}function Ax(e,t){return typeof e=="function"?e(t):e}function dc(e){return e.split("-")[0]}function Vd(e){return e.split("-")[1]}function xne(e){return e==="x"?"y":"x"}function xN(e){return e==="y"?"height":"width"}const vne=new Set(["top","bottom"]);function kl(e){return vne.has(dc(e))?"y":"x"}function vN(e){return xne(kl(e))}function gne(e,t,r){r===void 0&&(r=!1);const n=Vd(e),a=vN(e),l=xN(a);let c=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=wh(c)),[c,wh(c)]}function bne(e){const t=wh(e);return[e1(e),t,e1(t)]}function e1(e){return e.replace(/start|end/g,t=>pne[t])}const LE=["left","right"],zE=["right","left"],yne=["top","bottom"],wne=["bottom","top"];function Nne(e,t,r){switch(e){case"top":case"bottom":return r?t?zE:LE:t?LE:zE;case"left":case"right":return t?yne:wne;default:return[]}}function jne(e,t,r,n){const a=Vd(e);let l=Nne(dc(e),r==="start",n);return a&&(l=l.map(c=>c+"-"+a),t&&(l=l.concat(l.map(e1)))),l}function wh(e){return e.replace(/left|right|bottom|top/g,t=>mne[t])}function Sne(e){return{top:0,right:0,bottom:0,left:0,...e}}function Q3(e){return typeof e!="number"?Sne(e):{top:e,right:e,bottom:e,left:e}}function Nh(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}var Cne=typeof document<"u",Ane=function(){},jh=Cne?N.useLayoutEffect:Ane;const kne={...c1},Mne=kne.useInsertionEffect,Dne=Mne||(e=>e());function Ene(e){const t=N.useRef(()=>{});return Dne(()=>{t.current=e}),N.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}function FE(e,t,r){let{reference:n,floating:a}=e;const l=kl(t),c=vN(t),u=xN(c),f=dc(t),m=l==="y",h=n.x+n.width/2-a.width/2,x=n.y+n.height/2-a.height/2,v=n[u]/2-a[u]/2;let b;switch(f){case"top":b={x:h,y:n.y-a.height};break;case"bottom":b={x:h,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:x};break;case"left":b={x:n.x-a.width,y:x};break;default:b={x:n.x,y:n.y}}switch(Vd(t)){case"start":b[c]-=v*(r&&m?-1:1);break;case"end":b[c]+=v*(r&&m?-1:1);break}return b}async function _ne(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:l,rects:c,elements:u,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:h="viewport",elementContext:x="floating",altBoundary:v=!1,padding:b=0}=Ax(t,e),S=Q3(b),w=u[v?x==="floating"?"reference":"floating":x],C=Nh(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(w)))==null||r?w:w.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:m,rootBoundary:h,strategy:f})),k=x==="floating"?{x:n,y:a,width:c.floating.width,height:c.floating.height}:c.reference,A=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),M=await(l.isElement==null?void 0:l.isElement(A))?await(l.getScale==null?void 0:l.getScale(A))||{x:1,y:1}:{x:1,y:1},_=Nh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:k,offsetParent:A,strategy:f}):k);return{top:(C.top-_.top+S.top)/M.y,bottom:(_.bottom-C.bottom+S.bottom)/M.y,left:(C.left-_.left+S.left)/M.x,right:(_.right-C.right+S.right)/M.x}}const One=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:l=[],platform:c}=r,u=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let m=await c.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:x}=FE(m,n,f),v=n,b={},S=0;for(let w=0;w<u.length;w++){var y;const{name:C,fn:k}=u[w],{x:A,y:M,data:_,reset:T}=await k({x:h,y:x,initialPlacement:n,placement:v,strategy:a,middlewareData:b,rects:m,platform:{...c,detectOverflow:(y=c.detectOverflow)!=null?y:_ne},elements:{reference:e,floating:t}});h=A??h,x=M??x,b={...b,[C]:{...b[C],..._}},T&&S<=50&&(S++,typeof T=="object"&&(T.placement&&(v=T.placement),T.rects&&(m=T.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:a}):T.rects),{x:h,y:x}=FE(m,v,f)),w=-1)}return{x:h,y:x,placement:v,strategy:a,middlewareData:b}},Tne=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:l,platform:c,elements:u,middlewareData:f}=t,{element:m,padding:h=0}=Ax(e,t)||{};if(m==null)return{};const x=Q3(h),v={x:r,y:n},b=vN(a),S=xN(b),y=await c.getDimensions(m),w=b==="y",C=w?"top":"left",k=w?"bottom":"right",A=w?"clientHeight":"clientWidth",M=l.reference[S]+l.reference[b]-v[b]-l.floating[S],_=v[b]-l.reference[b],T=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let P=T?T[A]:0;(!P||!await(c.isElement==null?void 0:c.isElement(T)))&&(P=u.floating[A]||l.floating[S]);const O=M/2-_/2,z=P/2-y[S]/2-1,R=uc(x[C],z),F=uc(x[k],z),D=R,Z=P-y[S]-F,Q=P/2-y[S]/2+O,J=hne(D,Q,Z),L=!f.arrow&&Vd(a)!=null&&Q!==J&&l.reference[S]/2-(Q<D?R:F)-y[S]/2<0,Y=L?Q<D?Q-D:Q-Z:0;return{[b]:v[b]+Y,data:{[b]:J,centerOffset:Q-J-Y,...L&&{alignmentOffset:Y}},reset:L}}}),Pne=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:l,rects:c,initialPlacement:u,platform:f,elements:m}=t,{mainAxis:h=!0,crossAxis:x=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:y=!0,...w}=Ax(e,t);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const C=dc(a),k=kl(u),A=dc(u)===u,M=await(f.isRTL==null?void 0:f.isRTL(m.floating)),_=v||(A||!y?[wh(u)]:bne(u)),T=S!=="none";!v&&T&&_.push(...jne(u,y,S,M));const P=[u,..._],O=await f.detectOverflow(t,w),z=[];let R=((n=l.flip)==null?void 0:n.overflows)||[];if(h&&z.push(O[C]),x){const Q=gne(a,c,M);z.push(O[Q[0]],O[Q[1]])}if(R=[...R,{placement:a,overflows:z}],!z.every(Q=>Q<=0)){var F,D;const Q=(((F=l.flip)==null?void 0:F.index)||0)+1,J=P[Q];if(J&&(!(x==="alignment"?k!==kl(J):!1)||R.every(q=>kl(q.placement)===k?q.overflows[0]>0:!0)))return{data:{index:Q,overflows:R},reset:{placement:J}};let L=(D=R.filter(Y=>Y.overflows[0]<=0).sort((Y,q)=>Y.overflows[1]-q.overflows[1])[0])==null?void 0:D.placement;if(!L)switch(b){case"bestFit":{var Z;const Y=(Z=R.filter(q=>{if(T){const le=kl(q.placement);return le===k||le==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(le=>le>0).reduce((le,be)=>le+be,0)]).sort((q,le)=>q[1]-le[1])[0])==null?void 0:Z[0];Y&&(L=Y);break}case"initialPlacement":L=u;break}if(a!==L)return{reset:{placement:L}}}return{}}}},Ine=new Set(["left","top"]);async function Rne(e,t){const{placement:r,platform:n,elements:a}=e,l=await(n.isRTL==null?void 0:n.isRTL(a.floating)),c=dc(r),u=Vd(r),f=kl(r)==="y",m=Ine.has(c)?-1:1,h=l&&f?-1:1,x=Ax(t,e);let{mainAxis:v,crossAxis:b,alignmentAxis:S}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return u&&typeof S=="number"&&(b=u==="end"?S*-1:S),f?{x:b*h,y:v*m}:{x:v*m,y:b*h}}const Lne=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:l,placement:c,middlewareData:u}=t,f=await Rne(t,e);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:a+f.x,y:l+f.y,data:{...f,placement:c}}}}};function X3(e){const t=na(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Xa(e),l=a?e.offsetWidth:r,c=a?e.offsetHeight:n,u=yh(r)!==l||yh(n)!==c;return u&&(r=l,n=c),{width:r,height:n,$:u}}function gN(e){return Zr(e)?e:e.contextElement}function Ko(e){const t=gN(e);if(!Xa(t))return Wa(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:l}=X3(t);let c=(l?yh(r.width):r.width)/n,u=(l?yh(r.height):r.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const zne=Wa(0);function Z3(e){const t=In(e);return!hN()||!t.visualViewport?zne:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Fne(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==In(e)?!1:t}function Hl(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),l=gN(e);let c=Wa(1);t&&(n?Zr(n)&&(c=Ko(n)):c=Ko(e));const u=Fne(l,r,n)?Z3(l):Wa(0);let f=(a.left+u.x)/c.x,m=(a.top+u.y)/c.y,h=a.width/c.x,x=a.height/c.y;if(l){const v=In(l),b=n&&Zr(n)?In(n):n;let S=v,y=Jy(S);for(;y&&n&&b!==S;){const w=Ko(y),C=y.getBoundingClientRect(),k=na(y),A=C.left+(y.clientLeft+parseFloat(k.paddingLeft))*w.x,M=C.top+(y.clientTop+parseFloat(k.paddingTop))*w.y;f*=w.x,m*=w.y,h*=w.x,x*=w.y,f+=A,m+=M,S=In(y),y=Jy(S)}}return Nh({width:h,height:x,x:f,y:m})}function kx(e,t){const r=Cx(e).scrollLeft;return t?t.left+r:Hl(ni(e)).left+r}function J3(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-kx(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function $ne(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const l=a==="fixed",c=ni(n),u=t?Sx(t.floating):!1;if(n===c||u&&l)return r;let f={scrollLeft:0,scrollTop:0},m=Wa(1);const h=Wa(0),x=Xa(n);if((x||!x&&!l)&&((Dc(n)!=="body"||Yd(c))&&(f=Cx(n)),Xa(n))){const b=Hl(n);m=Ko(n),h.x=b.x+n.clientLeft,h.y=b.y+n.clientTop}const v=c&&!x&&!l?J3(c,f):Wa(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-f.scrollLeft*m.x+h.x+v.x,y:r.y*m.y-f.scrollTop*m.y+h.y+v.y}}function Bne(e){return Array.from(e.getClientRects())}function qne(e){const t=ni(e),r=Cx(e),n=e.ownerDocument.body,a=Pl(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),l=Pl(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+kx(e);const u=-r.scrollTop;return na(n).direction==="rtl"&&(c+=Pl(t.clientWidth,n.clientWidth)-a),{width:a,height:l,x:c,y:u}}const $E=25;function Hne(e,t){const r=In(e),n=ni(e),a=r.visualViewport;let l=n.clientWidth,c=n.clientHeight,u=0,f=0;if(a){l=a.width,c=a.height;const h=hN();(!h||h&&t==="fixed")&&(u=a.offsetLeft,f=a.offsetTop)}const m=kx(n);if(m<=0){const h=n.ownerDocument,x=h.body,v=getComputedStyle(x),b=h.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,S=Math.abs(n.clientWidth-x.clientWidth-b);S<=$E&&(l-=S)}else m<=$E&&(l+=m);return{width:l,height:c,x:u,y:f}}const Une=new Set(["absolute","fixed"]);function Yne(e,t){const r=Hl(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,l=Xa(e)?Ko(e):Wa(1),c=e.clientWidth*l.x,u=e.clientHeight*l.y,f=a*l.x,m=n*l.y;return{width:c,height:u,x:f,y:m}}function BE(e,t,r){let n;if(t==="viewport")n=Hne(e,r);else if(t==="document")n=qne(ni(e));else if(Zr(t))n=Yne(t,r);else{const a=Z3(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Nh(n)}function eI(e,t){const r=Fs(e);return r===t||!Zr(r)||cc(r)?!1:na(r).position==="fixed"||eI(r,t)}function Vne(e,t){const r=t.get(e);if(r)return r;let n=wd(e,[],!1).filter(u=>Zr(u)&&Dc(u)!=="body"),a=null;const l=na(e).position==="fixed";let c=l?Fs(e):e;for(;Zr(c)&&!cc(c);){const u=na(c),f=pN(c);!f&&u.position==="fixed"&&(a=null),(l?!f&&!a:!f&&u.position==="static"&&!!a&&Une.has(a.position)||Yd(c)&&!f&&eI(e,c))?n=n.filter(h=>h!==c):a=u,c=Fs(c)}return t.set(e,n),n}function Gne(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const c=[...r==="clippingAncestors"?Sx(t)?[]:Vne(t,this._c):[].concat(r),n],u=c[0],f=c.reduce((m,h)=>{const x=BE(t,h,a);return m.top=Pl(x.top,m.top),m.right=uc(x.right,m.right),m.bottom=uc(x.bottom,m.bottom),m.left=Pl(x.left,m.left),m},BE(t,u,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function Wne(e){const{width:t,height:r}=X3(e);return{width:t,height:r}}function Kne(e,t,r){const n=Xa(t),a=ni(t),l=r==="fixed",c=Hl(e,!0,l,t);let u={scrollLeft:0,scrollTop:0};const f=Wa(0);function m(){f.x=kx(a)}if(n||!n&&!l)if((Dc(t)!=="body"||Yd(a))&&(u=Cx(t)),n){const b=Hl(t,!0,l,t);f.x=b.x+t.clientLeft,f.y=b.y+t.clientTop}else a&&m();l&&!n&&a&&m();const h=a&&!n&&!l?J3(a,u):Wa(0),x=c.left+u.scrollLeft-f.x-h.x,v=c.top+u.scrollTop-f.y-h.y;return{x,y:v,width:c.width,height:c.height}}function Ob(e){return na(e).position==="static"}function qE(e,t){if(!Xa(e)||na(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ni(e)===r&&(r=r.ownerDocument.body),r}function tI(e,t){const r=In(e);if(Sx(e))return r;if(!Xa(e)){let a=Fs(e);for(;a&&!cc(a);){if(Zr(a)&&!Ob(a))return a;a=Fs(a)}return r}let n=qE(e,t);for(;n&&sne(n)&&Ob(n);)n=qE(n,t);return n&&cc(n)&&Ob(n)&&!pN(n)?r:n||dne(e)||r}const Qne=async function(e){const t=this.getOffsetParent||tI,r=this.getDimensions,n=await r(e.floating);return{reference:Kne(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Xne(e){return na(e).direction==="rtl"}const Zne={convertOffsetParentRelativeRectToViewportRelativeRect:$ne,getDocumentElement:ni,getClippingRect:Gne,getOffsetParent:tI,getElementRects:Qne,getClientRects:Bne,getDimensions:Wne,getScale:Ko,isElement:Zr,isRTL:Xne};function rI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Jne(e,t){let r=null,n;const a=ni(e);function l(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),l();const m=e.getBoundingClientRect(),{left:h,top:x,width:v,height:b}=m;if(u||t(),!v||!b)return;const S=Pm(x),y=Pm(a.clientWidth-(h+v)),w=Pm(a.clientHeight-(x+b)),C=Pm(h),A={rootMargin:-S+"px "+-y+"px "+-w+"px "+-C+"px",threshold:Pl(0,uc(1,f))||1};let M=!0;function _(T){const P=T[0].intersectionRatio;if(P!==f){if(!M)return c();P?c(!1,P):n=setTimeout(()=>{c(!1,1e-7)},1e3)}P===1&&!rI(m,e.getBoundingClientRect())&&c(),M=!1}try{r=new IntersectionObserver(_,{...A,root:a.ownerDocument})}catch{r=new IntersectionObserver(_,A)}r.observe(e)}return c(!0),l}function eae(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,m=gN(e),h=a||l?[...m?wd(m):[],...wd(t)]:[];h.forEach(C=>{a&&C.addEventListener("scroll",r,{passive:!0}),l&&C.addEventListener("resize",r)});const x=m&&u?Jne(m,r):null;let v=-1,b=null;c&&(b=new ResizeObserver(C=>{let[k]=C;k&&k.target===m&&b&&(b.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var A;(A=b)==null||A.observe(t)})),r()}),m&&!f&&b.observe(m),b.observe(t));let S,y=f?Hl(e):null;f&&w();function w(){const C=Hl(e);y&&!rI(y,C)&&r(),y=C,S=requestAnimationFrame(w)}return r(),()=>{var C;h.forEach(k=>{a&&k.removeEventListener("scroll",r),l&&k.removeEventListener("resize",r)}),x?.(),(C=b)==null||C.disconnect(),b=null,f&&cancelAnimationFrame(S)}}const tae=Lne,rae=Pne,HE=Tne,nae=(e,t,r)=>{const n=new Map,a={platform:Zne,...r},l={...a.platform,_c:n};return One(e,t,{...a,platform:l})};var aae=typeof document<"u",iae=function(){},mp=aae?N.useLayoutEffect:iae;function Sh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Sh(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const l=a[n];if(!(l==="_owner"&&e.$$typeof)&&!Sh(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function nI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function UE(e,t){const r=nI(e);return Math.round(t*r)/r}function Tb(e){const t=N.useRef(e);return mp(()=>{t.current=e}),t}function sae(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:f,open:m}=e,[h,x]=N.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,b]=N.useState(n);Sh(v,n)||b(n);const[S,y]=N.useState(null),[w,C]=N.useState(null),k=N.useCallback(q=>{q!==T.current&&(T.current=q,y(q))},[]),A=N.useCallback(q=>{q!==P.current&&(P.current=q,C(q))},[]),M=l||S,_=c||w,T=N.useRef(null),P=N.useRef(null),O=N.useRef(h),z=f!=null,R=Tb(f),F=Tb(a),D=Tb(m),Z=N.useCallback(()=>{if(!T.current||!P.current)return;const q={placement:t,strategy:r,middleware:v};F.current&&(q.platform=F.current),nae(T.current,P.current,q).then(le=>{const be={...le,isPositioned:D.current!==!1};Q.current&&!Sh(O.current,be)&&(O.current=be,Sd.flushSync(()=>{x(be)}))})},[v,t,r,F,D]);mp(()=>{m===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,x(q=>({...q,isPositioned:!1})))},[m]);const Q=N.useRef(!1);mp(()=>(Q.current=!0,()=>{Q.current=!1}),[]),mp(()=>{if(M&&(T.current=M),_&&(P.current=_),M&&_){if(R.current)return R.current(M,_,Z);Z()}},[M,_,Z,R,z]);const J=N.useMemo(()=>({reference:T,floating:P,setReference:k,setFloating:A}),[k,A]),L=N.useMemo(()=>({reference:M,floating:_}),[M,_]),Y=N.useMemo(()=>{const q={position:r,left:0,top:0};if(!L.floating)return q;const le=UE(L.floating,h.x),be=UE(L.floating,h.y);return u?{...q,transform:"translate("+le+"px, "+be+"px)",...nI(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:le,top:be}},[r,u,L.floating,h.x,h.y]);return N.useMemo(()=>({...h,update:Z,refs:J,elements:L,floatingStyles:Y}),[h,Z,J,L,Y])}const lae=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?HE({element:n.current,padding:a}).fn(r):{}:n?HE({element:n,padding:a}).fn(r):{}}}},oae=(e,t)=>({...tae(e),options:[e,t]}),cae=(e,t)=>({...rae(e),options:[e,t]}),uae=(e,t)=>({...lae(e),options:[e,t]}),dae={...c1};let YE=!1,fae=0;const VE=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+fae++;function mae(){const[e,t]=N.useState(()=>YE?VE():void 0);return jh(()=>{e==null&&t(VE())},[]),N.useEffect(()=>{YE=!0},[]),e}const pae=dae.useId,aI=pae||mae,hae=N.forwardRef(function(t,r){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:l,shift:c}},width:u=14,height:f=7,tipRadius:m=0,strokeWidth:h=0,staticOffset:x,stroke:v,d:b,style:{transform:S,...y}={},...w}=t,C=aI(),[k,A]=N.useState(!1);if(jh(()=>{if(!a)return;na(a).direction==="rtl"&&A(!0)},[a]),!a)return null;const[M,_]=n.split("-"),T=M==="top"||M==="bottom";let P=x;(T&&c!=null&&c.x||!T&&c!=null&&c.y)&&(P=null);const O=h*2,z=O/2,R=u/2*(m/-8+1),F=f/2*m/4,D=!!b,Z=P&&_==="end"?"bottom":"top";let Q=P&&_==="end"?"right":"left";P&&k&&(Q=_==="end"?"left":"right");const J=l?.x!=null?P||l.x:"",L=l?.y!=null?P||l.y:"",Y=b||"M0,0"+(" H"+u)+(" L"+(u-R)+","+(f-F))+(" Q"+u/2+","+f+" "+R+","+(f-F))+" Z",q={top:D?"rotate(180deg)":"",left:D?"rotate(90deg)":"rotate(-90deg)",bottom:D?"":"rotate(180deg)",right:D?"rotate(-90deg)":"rotate(90deg)"}[M];return s.jsxs("svg",{...w,"aria-hidden":!0,ref:r,width:D?u:u+O,height:u,viewBox:"0 0 "+u+" "+(f>u?f:u),style:{position:"absolute",pointerEvents:"none",[Q]:J,[Z]:L,[M]:T||D?"100%":"calc(100% - "+O/2+"px)",transform:[q,S].filter(le=>!!le).join(" "),...y},children:[O>0&&s.jsx("path",{clipPath:"url(#"+C+")",fill:"none",stroke:v,strokeWidth:O+(b?0:1),d:Y}),s.jsx("path",{stroke:O&&!b?w.fill:"none",d:Y}),s.jsx("clipPath",{id:C,children:s.jsx("rect",{x:-z,y:z*(D?-1:1),width:u+O,height:u})})]})});function xae(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(a=>a(r))},on(t,r){e.has(t)||e.set(t,new Set),e.get(t).add(r)},off(t,r){var n;(n=e.get(t))==null||n.delete(r)}}}const vae=N.createContext(null),gae=N.createContext(null),bae=()=>{var e;return((e=N.useContext(vae))==null?void 0:e.id)||null},yae=()=>N.useContext(gae);function wae(e){const{open:t=!1,onOpenChange:r,elements:n}=e,a=aI(),l=N.useRef({}),[c]=N.useState(()=>xae()),u=bae()!=null,[f,m]=N.useState(n.reference),h=Ene((b,S,y)=>{l.current.openEvent=b?S:void 0,c.emit("openchange",{open:b,event:S,reason:y,nested:u}),r?.(b,S,y)}),x=N.useMemo(()=>({setPositionReference:m}),[]),v=N.useMemo(()=>({reference:f||n.reference||null,floating:n.floating||null,domReference:n.reference}),[f,n.reference,n.floating]);return N.useMemo(()=>({dataRef:l,open:t,onOpenChange:h,elements:v,events:c,floatingId:a,refs:x}),[t,h,v,c,a,x])}function Nae(e){e===void 0&&(e={});const{nodeId:t}=e,r=wae({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,a=n.elements,[l,c]=N.useState(null),[u,f]=N.useState(null),h=a?.domReference||l,x=N.useRef(null),v=yae();jh(()=>{h&&(x.current=h)},[h]);const b=sae({...e,elements:{...a,...u&&{reference:u}}}),S=N.useCallback(A=>{const M=Zr(A)?{getBoundingClientRect:()=>A.getBoundingClientRect(),getClientRects:()=>A.getClientRects(),contextElement:A}:A;f(M),b.refs.setReference(M)},[b.refs]),y=N.useCallback(A=>{(Zr(A)||A===null)&&(x.current=A,c(A)),(Zr(b.refs.reference.current)||b.refs.reference.current===null||A!==null&&!Zr(A))&&b.refs.setReference(A)},[b.refs]),w=N.useMemo(()=>({...b.refs,setReference:y,setPositionReference:S,domReference:x}),[b.refs,y,S]),C=N.useMemo(()=>({...b.elements,domReference:h}),[b.elements,h]),k=N.useMemo(()=>({...b,...n,refs:w,elements:C,nodeId:t}),[b,w,C,t,n]);return jh(()=>{n.dataRef.current.floatingContext=k;const A=v?.nodesRef.current.find(M=>M.id===t);A&&(A.context=k)}),N.useMemo(()=>({...b,context:k,refs:w,elements:C}),[b,w,C,k])}var t1=function(t,r){return t1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(n[l]=a[l])},t1(t,r)};function Br(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");t1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var nt=function(){return nt=Object.assign||function(r){for(var n,a=1,l=arguments.length;a<l;a++){n=arguments[a];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},nt.apply(this,arguments)};function Ua(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,l;n<a;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))}var jae=function(e){var t=e.showTimeSelectOnly,r=t===void 0?!1:t,n=e.showTime,a=n===void 0?!1:n,l=e.className,c=e.children,u=e.inline,f=r?"Choose Time":"Choose Date".concat(a?" and Time":"");return ue.createElement("div",{className:l,"aria-label":f,role:u?void 0:"dialog","aria-modal":u?void 0:"true",translate:"no"},c)},Sae=function(e,t){var r=N.useRef(null),n=N.useRef(e);N.useEffect(function(){n.current=e},[e]);var a=N.useCallback(function(l){var c,u=l.composed&&l.composedPath&&l.composedPath().find(function(f){return f instanceof Node})||l.target;r.current&&!r.current.contains(u)&&(t&&u instanceof HTMLElement&&u.classList.contains(t)||(c=n.current)===null||c===void 0||c.call(n,l))},[t]);return N.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),r},Mx=function(e){var t=e.children,r=e.onClickOutside,n=e.className,a=e.containerRef,l=e.style,c=e.ignoreClass,u=Sae(r,c);return ue.createElement("div",{className:n,style:l,ref:function(f){u.current=f,a&&(a.current=f)}},t)},Im=null,GE=!1;function iI(){if(GE)return Im;GE=!0;try{var e="date-fns-tz";Im=require(e)}catch{Im=null}return Im}function WE(e,t){if(!t)return e;var r=iI();return r?r.toZonedTime(e,t):e}function Ni(e,t){if(!t)return e;var r=iI();return r?r.fromZonedTime(e,t):e}var Se;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Se||(Se={}));function sI(){var e=typeof window<"u"?window:globalThis;return e}var Gd=12;function gt(e){if(e==null)return new Date;var t=typeof e=="string"?qre(e):Le(e);return fn(t)?t:new Date}function pl(e,t,r,n,a){a===void 0&&(a=gt());for(var l=fc(r)||fc(bN()),c=Array.isArray(t)?t:[t],u=0,f=c;u<f.length;u++){var m=f[u],h=Rre(e,m,a,{locale:l});if(fn(h)&&(!n||e===Ut(h,m,r)))return h}if(!n&&e&&e.length>=8){var x=new Date(e);if(oc(x))return x}return null}function Cae(e,t){if(t===void 0&&(t=gt()),!e)return null;var r=e.match(/\b(1\d{3}|2\d{3})\b/);if(!r||!r[1])return null;var n=parseInt(r[1],10),a=e.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),l=a&&a[1]?parseInt(a[1],10)-1:t.getMonth();return new Date(n,l,1)}function fn(e){return oc(e)}function Ml(e){return e==null?null:Ga(e)&&oc(e)?e:null}function Ut(e,t,r){if(r==="en")return TE(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?fc(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||fc(bN()),TE(e,t,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function dn(e,t){var r=t.dateFormat,n=t.locale,a=Array.isArray(r)&&r.length>0?r[0]:r;return e&&Ut(e,a,n)||""}var lI=" - ";function Aae(e,t,r){if(!e&&!t)return"";var n=e?dn(e,r):"",a=t?dn(t,r):"",l=r.rangeSeparator||lI;return"".concat(n).concat(l).concat(a)}function kae(e,t){if(!e?.length)return"";var r=e[0]?dn(e[0],t):"";if(e.length===1)return r;if(e.length===2&&e[1]){var n=dn(e[1],t);return"".concat(r,", ").concat(n)}var a=e.length-1;return"".concat(r," (+").concat(a,")")}function ji(e,t){var r=t.hour,n=r===void 0?0:r,a=t.minute,l=a===void 0?0:a,c=t.second,u=c===void 0?0:c;return up(dp(fp(e,u),l),n)}function Mae(e){return uN(e)}function Dae(e,t){return Ut(e,"ddd",t)}function Wu(e){return ql(e)}function Os(e,t,r){var n=fc(t||bN());return Bi(e,{locale:n,weekStartsOn:r})}function _i(e){return L3(e)}function Ku(e){return Nx(e)}function KE(e){return Qy(e)}function QE(){return ql(gt())}function XE(e){return I3(e)}function Eae(e){return qee(e)}function _ae(e){return R3(e)}function La(e,t){return e&&t?$re(e,t):!e&&!t}function Qr(e,t){return e&&t?zre(e,t):!e&&!t}function Ch(e,t){return e&&t?Fre(e,t):!e&&!t}function ft(e,t){return e&&t?$ee(e,t):!e&&!t}function Dl(e,t){return e&&t?Bte(e,t):!e&&!t}function wl(e,t,r){var n,a=ql(t),l=I3(r);try{n=yd(e,{start:a,end:l})}catch{n=!1}return n}function bN(){var e=sI();return e.__localeId__}function fc(e){if(typeof e=="string"){var t=sI();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function Oae(e,t,r){return t(Ut(e,"EEEE",r))}function Tae(e,t){return Ut(e,"EEEEEE",t)}function Pae(e,t){return Ut(e,"EEE",t)}function yN(e,t){return Ut(Dn(gt(),e),"LLLL",t)}function oI(e,t){return Ut(Dn(gt(),e),"LLL",t)}function Iae(e,t){return Ut(Ho(gt(),e),"QQQ",t)}function Zn(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,l=r.excludeDates,c=r.excludeDateIntervals,u=r.includeDates,f=r.includeDateIntervals,m=r.filterDate,h=r.disabled;return h?!0:Wd(e,{minDate:n,maxDate:a})||l&&l.some(function(x){return x instanceof Date?ft(e,x):ft(e,x.date)})||c&&c.some(function(x){var v=x.start,b=x.end;return yd(e,{start:v,end:b})})||u&&!u.some(function(x){return ft(e,x)})||f&&!f.some(function(x){var v=x.start,b=x.end;return yd(e,{start:v,end:b})})||m&&!m(gt(e))||!1}function wN(e,t){var r=t===void 0?{}:t,n=r.excludeDates,a=r.excludeDateIntervals;return a&&a.length>0?a.some(function(l){var c=l.start,u=l.end;return yd(e,{start:c,end:u})}):n&&n.some(function(l){var c;return l instanceof Date?ft(e,l):ft(e,(c=l.date)!==null&&c!==void 0?c:new Date)})||!1}function cI(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,l=r.excludeDates,c=r.includeDates,u=r.filterDate;return Wd(e,{minDate:n?L3(n):void 0,maxDate:a?R3(a):void 0})||l?.some(function(f){return Qr(e,f instanceof Date?f:f.date)})||c&&!c.some(function(f){return Qr(e,f)})||u&&!u(gt(e))||!1}function Rm(e,t,r,n){var a=ct(e),l=mn(e),c=ct(t),u=mn(t),f=ct(n);return a===c&&a===f?l<=r&&r<=u:a<c?f===a&&l<=r||f===c&&u>=r||f<c&&f>a:!1}function Rae(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,l=r.excludeDates,c=r.includeDates;return Wd(e,{minDate:n,maxDate:a})||l&&l.some(function(u){return Qr(u instanceof Date?u:u.date,e)})||c&&!c.some(function(u){return Qr(u,e)})||!1}function Lm(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,l=r.excludeDates,c=r.includeDates,u=r.filterDate,f=r.disabled;return f?!0:Wd(e,{minDate:n,maxDate:a})||l?.some(function(m){return Ch(e,m instanceof Date?m:m.date)})||c&&!c.some(function(m){return Ch(e,m)})||u&&!u(gt(e))||!1}function zm(e,t,r){if(!t||!r||!oc(t)||!oc(r))return!1;var n=ct(t),a=ct(r);return n<=e&&a>=e}function pp(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,l=r.excludeDates,c=r.includeDates,u=r.filterDate,f=r.disabled;if(f)return!0;var m=new Date(e,0,1);return Wd(m,{minDate:n?Nx(n):void 0,maxDate:a?z3(a):void 0})||l?.some(function(h){return La(m,h instanceof Date?h:h.date)})||c&&!c.some(function(h){return La(m,h)})||u&&!u(gt(m))||!1}function Fm(e,t,r,n){var a=ct(e),l=Ms(e),c=ct(t),u=Ms(t),f=ct(n);return a===c&&a===f?l<=r&&r<=u:a<c?f===a&&l<=r||f===c&&u>=r||f<c&&f>a:!1}function Wd(e,t){var r,n=t===void 0?{}:t,a=n.minDate,l=n.maxDate;return(r=a&&lc(e,a)<0||l&&lc(e,l)>0)!==null&&r!==void 0?r:!1}function ZE(e,t){return t.some(function(r){return Yr(r)===Yr(e)&&Vr(r)===Vr(e)&&_s(r)===_s(e)})}function JE(e,t){var r=t===void 0?{}:t,n=r.excludeTimes,a=r.includeTimes,l=r.filterTime;return n&&ZE(e,n)||a&&!ZE(e,a)||l&&!l(e)||!1}function e_(e,t){var r=t.minTime,n=t.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var a=gt();a=up(a,Yr(e)),a=dp(a,Vr(e)),a=fp(a,_s(e));var l=gt();l=up(l,Yr(r)),l=dp(l,Vr(r)),l=fp(l,_s(r));var c=gt();c=up(c,Yr(n)),c=dp(c,Vr(n)),c=fp(c,_s(n));var u;try{u=!yd(a,{start:l,end:c})}catch{u=!1}return u}function t_(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,l=Tl(e,1);return n&&xh(n,l)>0||a&&a.every(function(c){return xh(c,l)>0})||!1}function r_(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,l=ya(e,1);return n&&xh(l,n)>0||a&&a.every(function(c){return xh(l,c)>0})||!1}function Lae(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,l=Nx(e),c=G3(l);return n&&vh(n,c)>0||a&&a.every(function(u){return vh(u,c)>0})||!1}function zae(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,l=z3(e),c=cN(l,1);return n&&vh(c,n)>0||a&&a.every(function(u){return vh(c,u)>0})||!1}function n_(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,l=zs(e,1);return n&&gh(n,l)>0||a&&a.every(function(c){return gh(c,l)>0})||!1}function Fae(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.yearItemNumber,l=a===void 0?Gd:a,c=Ku(zs(e,l)),u=ki(c,l).endPeriod,f=n&&ct(n);return f&&f>u||!1}function a_(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,l=va(e,1);return n&&gh(l,n)>0||a&&a.every(function(c){return gh(l,c)>0})||!1}function $ae(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.yearItemNumber,l=a===void 0?Gd:a,c=va(e,l),u=ki(c,l).startPeriod,f=n&&ct(n);return f&&f<u||!1}function uI(e){var t=e.minDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return lc(a,t)>=0});return kE(n)}else return r?kE(r):t}function dI(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return lc(a,t)<=0});return AE(n)}else return r?AE(r):t}function i_(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var n=new Map,a=0,l=e.length;a<l;a++){var c=e[a];if(Ga(c)){var u=Ut(c,"MM.dd.yyyy"),f=n.get(u)||[];f.includes(t)||(f.push(t),n.set(u,f))}else if(typeof c=="object"){var m=Object.keys(c),h=(r=m[0])!==null&&r!==void 0?r:"",x=c[h];if(typeof h=="string"&&Array.isArray(x))for(var v=0,b=x.length;v<b;v++){var S=x[v];if(S){var u=Ut(S,"MM.dd.yyyy"),f=n.get(u)||[];f.includes(h)||(f.push(h),n.set(u,f))}}}}return n}function Bae(e,t){return e.length!==t.length?!1:e.every(function(r,n){return r===t[n]})}function qae(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var r=new Map;return e.forEach(function(n){var a=n.date,l=n.holidayName;if(Ga(a)){var c=Ut(a,"MM.dd.yyyy"),u=r.get(c)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===t&&Bae(u.holidayNames,[l]))){u.className=t;var f=u.holidayNames;u.holidayNames=f?Ua(Ua([],f,!0),[l],!1):[l],r.set(c,u)}}}),r}function Hae(e,t,r,n,a){for(var l=a.length,c=[],u=0;u<l;u++){var f=e,m=a[u];m&&(f=Ree(f,Yr(m)),f=bd(f,Vr(m)),f=Fee(f,_s(m)));var h=bd(e,(r+1)*n);Ei(f,t)&&Ha(f,h)&&m!=null&&c.push(m)}return c}function Lo(e){return e<10?"0".concat(e):"".concat(e)}function ki(e,t){t===void 0&&(t=Gd);var r=Math.ceil(ct(e)/t)*t,n=r-(t-1);return{startPeriod:n,endPeriod:r}}function Uae(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}function s_(e){var t=e.getSeconds(),r=e.getMilliseconds();return Le(e.getTime()-t*1e3-r)}function fI(e,t){return s_(e).getTime()===s_(t).getTime()}function l_(e){if(!Ga(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function Pb(e,t){if(!Ga(e)||!Ga(t))throw new Error("Invalid date received");var r=l_(e),n=l_(t);return Ha(r,n)}function mI(e){return e.key===Se.Space}var Ib=(function(e){Br(t,e);function t(r){var n=e.call(this,r)||this;return n.inputRef=ue.createRef(),n.onTimeChange=function(a){var l,c;n.setState({time:a});var u=n.props.date,f=u instanceof Date&&!isNaN(+u),m=f?u:new Date;if(a?.includes(":")){var h=a.split(":"),x=h[0],v=h[1];m.setHours(Number(x)),m.setMinutes(Number(v))}(c=(l=n.props).onChange)===null||c===void 0||c.call(l,m)},n.renderTimeInput=function(){var a=n.state.time,l=n.props,c=l.date,u=l.timeString,f=l.customTimeInput;return f?N.cloneElement(f,{date:c,value:a,onChange:n.onTimeChange}):ue.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var m;(m=n.inputRef.current)===null||m===void 0||m.focus()},required:!0,value:a,onChange:function(m){n.onTimeChange(m.target.value||u)}})},n.state={time:n.props.timeString},n}return t.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},t.prototype.render=function(){return ue.createElement("div",{className:"react-datepicker__input-time-container"},ue.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ue.createElement("div",{className:"react-datepicker-time__input-container"},ue.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t})(N.Component),Yae=(function(e){Br(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.dayEl=N.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var a,l,c=n.key;c===Se.Space&&(n.preventDefault(),n.key=Se.Enter),(l=(a=r.props).handleOnKeyDown)===null||l===void 0||l.call(a,n)},r.isSameDay=function(n){return ft(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var a=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(c){return r.isSameDayOrWeek(c)}):r.isSameDayOrWeek(r.props.selected),l=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!a&&r.isSameDayOrWeek(r.props.preSelection)&&!l},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),Zn(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(){return wN(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return ft(r.props.day,Os(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&ft(n,Os(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,a=n.day,l=n.highlightDates;if(!l)return!1;var c=Ut(a,"MM.dd.yyyy");return l.get(c)},r.getHolidaysClass=function(){var n,a=r.props,l=a.day,c=a.holidays;if(!c)return[void 0];var u=Ut(l,"MM.dd.yyyy");return c.has(u)?[(n=c.get(u))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,a=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:wl(a,l,c)},r.isInSelectingRange=function(){var n,a=r.props,l=a.day,c=a.selectsStart,u=a.selectsEnd,f=a.selectsRange,m=a.selectsDisabledDaysInRange,h=a.startDate,x=a.swapRange,v=a.endDate,b=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;if(r.isAfterMonth()||r.isBeforeMonth()||!(c||u||f)||!b||!m&&r.isDisabled())return!1;if(c&&v&&(Ha(b,v)||Dl(b,v)))return wl(l,b,v);if(u&&h&&(Ei(b,h)||Dl(b,h)))return wl(l,h,b);if(f&&h&&!v){if(Dl(b,h)||Ei(b,h))return wl(l,h,b);if(x&&Ha(b,h))return wl(l,b,h)}return!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,l=a.day,c=a.startDate,u=a.selectsStart,f=a.swapRange,m=a.selectsRange,h=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return u?ft(l,h):m&&f&&c&&h?ft(l,Ha(h,c)?h:c):ft(l,c)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,l=a.day,c=a.endDate,u=a.selectsEnd,f=a.selectsRange,m=a.swapRange,h=a.startDate,x=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return u?ft(l,x):f&&m&&h&&x?ft(l,Ha(x,h)?h:x):f?ft(l,x):ft(l,c)},r.isRangeStart=function(){var n=r.props,a=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:ft(l,a)},r.isRangeEnd=function(){var n=r.props,a=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:ft(c,a)},r.isWeekend=function(){var n=Lte(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===mn(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(mn(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(gt())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return r.isSameDayOrWeek(a)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var a=r.props.dayClassName?r.props.dayClassName(n):void 0;return at("react-datepicker__day",a,"react-datepicker__day--"+Dae(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,a=n.day,l=n.ariaLabelPrefixWhenEnabled,c=l===void 0?"Choose":l,u=n.ariaLabelPrefixWhenDisabled,f=u===void 0?"Not available":u,m=r.isDisabled()||r.isExcluded()?f:c;return"".concat(m," ").concat(Ut(a,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,a=n.day,l=n.holidays,c=l===void 0?new Map:l,u=n.excludeDates,f=Ut(a,"MM.dd.yyyy"),m=[];return c.has(f)&&m.push.apply(m,c.get(f).holidayNames),r.isExcluded()&&m.push(u?.filter(function(h){return h instanceof Date?ft(h,a):ft(h?.date,a)}).map(function(h){if(!(h instanceof Date))return h?.message})),m.join(", ")},r.getTabIndex=function(){var n=r.props.selected,a=r.props.preSelection,l=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&ft(a,n))?0:-1;return l},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(PE(r.props.day),r.props.day):PE(r.props.day)},r.render=function(){return ue.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&ue.createElement("span",{className:"overlay"},r.getTitle()))},r}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},t.prototype.isDayActiveElement=function(){var r,n,a;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t})(N.Component),Vae=(function(e){Br(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.weekNumberEl=N.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var a,l,c=n.key;c===Se.Space&&(n.preventDefault(),n.key=Se.Enter),(l=(a=r.props).handleOnKeyDown)===null||l===void 0||l.call(a,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!ft(r.props.date,r.props.selected)&&ft(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||ft(r.props.date,r.props.selected)&&ft(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var a=!1;r.getTabIndex()===0&&!n?.isInputFocused&&ft(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(a=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},t.prototype.render=function(){var r=this.props,n=r.weekNumber,a=r.isWeekDisabled,l=r.ariaLabelPrefix,c=l===void 0?t.defaultProps.ariaLabelPrefix:l,u=r.onClick,f={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!a,"react-datepicker__week-number--selected":!!u&&ft(this.props.date,this.props.selected)};return ue.createElement("div",{ref:this.weekNumberEl,className:at(f),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},t})(N.Component),Gae=(function(e){Br(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isDisabled=function(n){return Zn(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,a){r.props.onDayClick&&r.props.onDayClick(n,a)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,a,l){for(var c,u,f,m=new Date(n),h=0;h<7;h++){var x=new Date(n);x.setDate(x.getDate()+h);var v=!r.isDisabled(x);if(v){m=x;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(m,a,l),r.props.showWeekPicker&&r.handleDayClick(m,l),((c=r.props.shouldCloseOnSelect)!==null&&c!==void 0?c:t.defaultProps.shouldCloseOnSelect)&&((f=(u=r.props).setOpen)===null||f===void 0||f.call(u,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):Mae(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),a=xa(n,6),l=new Date(n);l<=a;){if(!r.isDisabled(l))return!1;l=xa(l,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),a=[],l=r.formatWeekNumber(n);if(r.props.showWeekNumber){var c=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,l):void 0;a.push(ue.createElement(Vae,nt({key:"W"},t.defaultProps,r.props,{weekNumber:l,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:c})))}return a.concat([0,1,2,3,4,5,6].map(function(u){var f=xa(n,u);return ue.createElement(Yae,nt({},t.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,onClick:r.handleDayClick.bind(r,f),onMouseEnter:r.handleDayMouseEnter.bind(r,f)}))}))},r.startOfWeek=function(){return Os(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!ft(r.startOfWeek(),r.props.selected)&&ft(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":ft(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return ue.createElement("div",{className:at(r,n),role:"row"},this.renderDays())},t})(N.Component),Fu,Wae=6,Qo={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Rb=(Fu={},Fu[Qo.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Fu[Qo.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Fu[Qo.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Fu),$m=1;function o_(e,t){return e?Qo.FOUR_COLUMNS:t?Qo.TWO_COLUMNS:Qo.THREE_COLUMNS}var Kae=(function(e){Br(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.MONTH_REFS=Ua([],Array(12),!0).map(function(){return N.createRef()}),r.QUARTER_REFS=Ua([],Array(4),!0).map(function(){return N.createRef()}),r.isDisabled=function(n){return Zn(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(n){return wN(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,a){var l,c;(c=(l=r.props).onDayClick)===null||c===void 0||c.call(l,n,a,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var a,l;(l=(a=r.props).onDayMouseEnter)===null||l===void 0||l.call(a,n)},r.handleMouseLeave=function(){var n,a;(a=(n=r.props).onMouseLeave)===null||a===void 0||a.call(n)},r.isRangeStartMonth=function(n){var a=r.props,l=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:Qr(Dn(l,n),c)},r.isRangeStartQuarter=function(n){var a=r.props,l=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:Ch(Ho(l,n),c)},r.isRangeEndMonth=function(n){var a=r.props,l=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:Qr(Dn(l,n),u)},r.isRangeEndQuarter=function(n){var a=r.props,l=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:Ch(Ho(l,n),u)},r.isInSelectingRangeMonth=function(n){var a,l=r.props,c=l.day,u=l.selectsStart,f=l.selectsEnd,m=l.selectsRange,h=l.startDate,x=l.endDate,v=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(u||f||m)||!v?!1:u&&x?Rm(v,x,n,c):f&&h||m&&h&&!x?Rm(h,v,n,c):!1},r.isSelectingMonthRangeStart=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var l=r.props,c=l.day,u=l.startDate,f=l.selectsStart,m=Dn(c,n),h=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return f?Qr(m,h):Qr(m,u)},r.isSelectingMonthRangeEnd=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var l=r.props,c=l.day,u=l.endDate,f=l.selectsEnd,m=l.selectsRange,h=Dn(c,n),x=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return f||m?Qr(h,x):Qr(h,u)},r.isInSelectingRangeQuarter=function(n){var a,l=r.props,c=l.day,u=l.selectsStart,f=l.selectsEnd,m=l.selectsRange,h=l.startDate,x=l.endDate,v=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(u||f||m)||!v?!1:u&&x?Fm(v,x,n,c):f&&h||m&&h&&!x?Fm(h,v,n,c):!1},r.isWeekInMonth=function(n){var a=r.props.day,l=xa(n,6);return Qr(n,a)||Qr(l,a)},r.isCurrentMonth=function(n,a){return ct(n)===ct(gt())&&a===mn(gt())},r.isCurrentQuarter=function(n,a){return ct(n)===ct(gt())&&a===Ms(gt())},r.isSelectedMonth=function(n,a,l){return mn(l)===a&&ct(n)===ct(l)},r.isSelectMonthInList=function(n,a,l){return l.some(function(c){return r.isSelectedMonth(n,a,c)})},r.isSelectedQuarter=function(n,a,l){return Ms(l)===a&&ct(n)===ct(l)},r.isSelectQuarterInList=function(n,a,l){return l.some(function(c){return r.isSelectedQuarter(n,a,c)})},r.isMonthSelected=function(){var n=r.props,a=n.day,l=n.selected,c=n.selectedDates,u=n.selectsMultiple,f=mn(a);return u?c?.some(function(m){return r.isSelectedMonth(a,f,m)}):!!l&&r.isSelectedMonth(a,f,l)},r.isQuarterSelected=function(){var n=r.props,a=n.day,l=n.selected,c=n.selectedDates,u=n.selectsMultiple,f=Ms(a);return u?c?.some(function(m){return r.isSelectedQuarter(a,f,m)}):!!l&&r.isSelectedQuarter(a,f,l)},r.renderWeeks=function(){if(!fn(r.props.day))return[];for(var n=[],a=r.props.fixedHeight,l=0,c=!1,u=Os(_i(r.props.day),r.props.locale,r.props.calendarStartDay),f=function(S){return r.props.showWeekPicker?Os(S,r.props.locale,r.props.calendarStartDay):r.props.preSelection},m=function(S){return r.props.showWeekPicker?Os(S,r.props.locale,r.props.calendarStartDay):r.props.selected},h=r.props.selected?m(r.props.selected):void 0,x=r.props.preSelection?f(r.props.preSelection):void 0;n.push(ue.createElement(Gae,nt({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:l,day:u,month:mn(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:h,preSelection:x,showWeekNumber:r.props.showWeekNumbers}))),!c;){l++,u=hh(u,1);var v=a&&l>=Wae,b=!a&&!r.isWeekInMonth(u);if(v||b)if(r.props.peekNextMonth)c=!0;else break}return n},r.onMonthClick=function(n,a){var l=r.isMonthDisabledForLabelDate(a),c=l.isDisabled,u=l.labelDate;c||r.handleDayClick(_i(u),n)},r.onMonthMouseEnter=function(n){var a=r.isMonthDisabledForLabelDate(n),l=a.isDisabled,c=a.labelDate;l||r.handleDayMouseEnter(_i(c))},r.handleMonthNavigation=function(n,a){var l,c,u,f;(c=(l=r.props).setPreSelection)===null||c===void 0||c.call(l,a),(f=(u=r.MONTH_REFS[n])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus()},r.handleKeyboardNavigation=function(n,a,l){var c,u=r.props,f=u.selected,m=u.preSelection,h=u.setPreSelection,x=u.minDate,v=u.maxDate,b=u.showFourColumnMonthYearPicker,S=u.showTwoColumnMonthYearPicker;if(m){var y=o_(b,S),w=r.getVerticalOffset(y),C=(c=Rb[y])===null||c===void 0?void 0:c.grid,k=function(P,O,z){var R,F,D=O,Z=z;switch(P){case Se.ArrowRight:D=ya(O,$m),Z=z===11?0:z+$m;break;case Se.ArrowLeft:D=Tl(O,$m),Z=z===0?11:z-$m;break;case Se.ArrowUp:D=Tl(O,w),Z=!((R=C?.[0])===null||R===void 0)&&R.includes(z)?z+12-w:z-w;break;case Se.ArrowDown:D=ya(O,w),Z=!((F=C?.[C.length-1])===null||F===void 0)&&F.includes(z)?z-12+w:z+w;break}return{newCalculatedDate:D,newCalculatedMonth:Z}},A=function(P,O,z){for(var R=40,F=P,D=!1,Z=0,Q=k(F,O,z),J=Q.newCalculatedDate,L=Q.newCalculatedMonth;!D;){if(Z>=R){J=O,L=z;break}if(x&&J<x){F=Se.ArrowRight;var Y=k(F,J,L);J=Y.newCalculatedDate,L=Y.newCalculatedMonth}if(v&&J>v){F=Se.ArrowLeft;var Y=k(F,J,L);J=Y.newCalculatedDate,L=Y.newCalculatedMonth}if(Rae(J,r.props)){var Y=k(F,J,L);J=Y.newCalculatedDate,L=Y.newCalculatedMonth}else D=!0;Z++}return{newCalculatedDate:J,newCalculatedMonth:L}};if(a===Se.Enter){r.isMonthDisabled(l)||(r.onMonthClick(n,l),h?.(f));return}var M=A(a,m,l),_=M.newCalculatedDate,T=M.newCalculatedMonth;switch(a){case Se.ArrowRight:case Se.ArrowLeft:case Se.ArrowUp:case Se.ArrowDown:r.handleMonthNavigation(T,_);break}}},r.getVerticalOffset=function(n){var a,l;return(l=(a=Rb[n])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&l!==void 0?l:0},r.onMonthKeyDown=function(n,a){var l=r.props,c=l.disabledKeyboardNavigation,u=l.handleOnMonthKeyDown,f=n.key;f!==Se.Tab&&n.preventDefault(),c||r.handleKeyboardNavigation(n,f,a),u&&u(n)},r.onQuarterClick=function(n,a){var l=Ho(r.props.day,a);Lm(l,r.props)||r.handleDayClick(KE(l),n)},r.onQuarterMouseEnter=function(n){var a=Ho(r.props.day,n);Lm(a,r.props)||r.handleDayMouseEnter(KE(a))},r.handleQuarterNavigation=function(n,a){var l,c,u,f;r.isDisabled(a)||r.isExcluded(a)||((c=(l=r.props).setPreSelection)===null||c===void 0||c.call(l,a),(f=(u=r.QUARTER_REFS[n-1])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus())},r.onQuarterKeyDown=function(n,a){var l,c,u=n.key;if(!r.props.disabledKeyboardNavigation)switch(u){case Se.Enter:r.onQuarterClick(n,a),(c=(l=r.props).setPreSelection)===null||c===void 0||c.call(l,r.props.selected);break;case Se.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===4?1:a+1,cN(r.props.preSelection,1));break;case Se.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===1?4:a-1,G3(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(n){var a,l=r.props,c=l.day,u=l.disabled,f=l.minDate,m=l.maxDate,h=l.excludeDates,x=l.includeDates,v=Dn(c,n);return u?{isDisabled:!0,labelDate:Dn(c,n)}:{isDisabled:(a=(f||m||h||x)&&cI(v,r.props))!==null&&a!==void 0?a:!1,labelDate:v}},r.isMonthDisabled=function(n){var a=r.isMonthDisabledForLabelDate(n).isDisabled;return a},r.getMonthClassNames=function(n){var a=r.props,l=a.day,c=a.startDate,u=a.endDate,f=a.preSelection,m=a.monthClassName,h=m?m(Dn(l,n)):void 0,x=r.getSelection();return at("react-datepicker__month-text","react-datepicker__month-".concat(n),h,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":x?r.isSelectMonthInList(l,n,x):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&f&&r.isSelectedMonth(l,n,f)&&!r.isMonthSelected()&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":c&&u?Rm(c,u,n,l):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(l,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=mn(r.props.preSelection),l=r.isMonthDisabledForLabelDate(a).isDisabled,c=n===a&&!(l||r.props.disabledKeyboardNavigation)?"0":"-1";return c},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=Ms(r.props.preSelection),l=Lm(r.props.day,r.props),c=n===a&&!(l||r.props.disabledKeyboardNavigation)?"0":"-1";return c},r.getAriaLabel=function(n){var a=r.props,l=a.chooseDayAriaLabelPrefix,c=l===void 0?"Choose":l,u=a.disabledDayAriaLabelPrefix,f=u===void 0?"Not available":u,m=a.day,h=a.locale,x=Dn(m,n),v=r.isDisabled(x)||r.isExcluded(x)?f:c;return"".concat(v," ").concat(Ut(x,"MMMM yyyy",h))},r.getQuarterClassNames=function(n){var a=r.props,l=a.day,c=a.startDate,u=a.endDate,f=a.minDate,m=a.maxDate,h=a.excludeDates,x=a.includeDates,v=a.filterDate,b=a.preSelection,S=a.disabledKeyboardNavigation,y=a.disabled,w=(f||m||h||x||v||y)&&Lm(Ho(l,n),r.props),C=r.getSelection();return at("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":w,"react-datepicker__quarter-text--selected":C?r.isSelectQuarterInList(l,n,C):void 0,"react-datepicker__quarter-text--keyboard-selected":!S&&b&&r.isSelectedQuarter(l,n,b)&&!r.isQuarterSelected()&&!w,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":c&&u?Fm(c,u,n,l):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(l,n)})},r.getMonthContent=function(n){var a=r.props,l=a.showFullMonthYearPicker,c=a.renderMonthContent,u=a.locale,f=a.day,m=oI(n,u),h=yN(n,u);return c?c(n,m,h,f):l?h:m},r.getQuarterContent=function(n){var a,l=r.props,c=l.renderQuarterContent,u=l.locale,f=Iae(n,u);return(a=c?.(n,f))!==null&&a!==void 0?a:f},r.renderMonths=function(){var n,a=r.props,l=a.showTwoColumnMonthYearPicker,c=a.showFourColumnMonthYearPicker,u=a.day,f=a.selected,m=(n=Rb[o_(c,l)])===null||n===void 0?void 0:n.grid;return m?.map(function(h,x){return ue.createElement("div",{className:"react-datepicker__month-wrapper",key:x},h.map(function(v,b){return ue.createElement("div",{ref:r.MONTH_REFS[v],key:b,onClick:function(S){r.onMonthClick(S,v)},onKeyDown:function(S){mI(S)&&(S.preventDefault(),S.key=Se.Enter),r.onMonthKeyDown(S,v)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(v)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(v)}:void 0,tabIndex:Number(r.getTabIndex(v)),className:r.getMonthClassNames(v),"aria-disabled":r.isMonthDisabled(v),role:"option","aria-label":r.getAriaLabel(v),"aria-current":r.isCurrentMonth(u,v)?"date":void 0,"aria-selected":f?r.isSelectedMonth(u,v,f):void 0},r.getMonthContent(v))}))})},r.renderQuarters=function(){var n=r.props,a=n.day,l=n.selected,c=[1,2,3,4];return ue.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(u,f){return ue.createElement("div",{key:f,ref:r.QUARTER_REFS[f],role:"option",onClick:function(m){r.onQuarterClick(m,u)},onKeyDown:function(m){r.onQuarterKeyDown(m,u)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(u)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(u)}:void 0,className:r.getQuarterClassNames(u),"aria-selected":l?r.isSelectedQuarter(a,u,l):void 0,tabIndex:Number(r.getQuarterTabIndex(u)),"aria-current":r.isCurrentQuarter(a,u)?"date":void 0},r.getQuarterContent(u))}))},r.getClassNames=function(){var n=r.props,a=n.selectingDate,l=n.selectsStart,c=n.selectsEnd,u=n.showMonthYearPicker,f=n.showQuarterYearPicker,m=n.showWeekPicker;return at("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(l||c)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":m})},r}return t.prototype.getSelection=function(){var r=this.props,n=r.selected,a=r.selectedDates,l=r.selectsMultiple;if(l)return a;if(n)return[n]},t.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,a=r.showQuarterYearPicker,l=r.day,c=r.ariaLabelPrefix,u=c===void 0?"Month ":c,f=u?u.trim()+" ":"",m=fn(l)?"".concat(f).concat(Ut(l,"MMMM, yyyy",this.props.locale)):"",h=n||a;return h?ue.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":m,role:"listbox"},n?this.renderMonths():this.renderQuarters()):ue.createElement("div",{role:"table"},this.props.dayNamesHeader&&ue.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&ue.createElement("div",{role:"rowgroup"},this.props.monthHeader),ue.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":m,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&ue.createElement("div",{role:"rowgroup"},this.props.monthFooter))},t})(N.Component),Qae=(function(e){Br(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(n){return r.props.month===n},r.handleOptionKeyDown=function(n,a){var l;switch(a.key){case"Enter":a.preventDefault(),r.onChange(n);break;case"Escape":a.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{a.preventDefault();var c=(n+(a.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(l=r.monthOptionButtonsRef[c])===null||l===void 0||l.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(n,a){return ue.createElement("div",{ref:function(l){r.monthOptionButtonsRef[a]=l,r.isSelectedMonth(a)&&l?.focus()},role:"button",tabIndex:0,className:r.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,a),onKeyDown:r.handleOptionKeyDown.bind(r,a),"aria-selected":r.isSelectedMonth(a)?"true":void 0},r.isSelectedMonth(a)?ue.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return t.prototype.render=function(){return ue.createElement(Mx,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t})(N.Component),Xae=(function(e){Br(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(a,l){return ue.createElement("option",{key:a,value:l},a)})},r.renderSelectMode=function(n){return ue.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(a){return r.onChange(parseInt(a.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,a){return ue.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},ue.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ue.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[r.props.month]))},r.renderDropdown=function(n){return ue.createElement(Qae,nt({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var a=r.state.dropdownVisible,l=[r.renderReadView(!a,n)];return a&&l.unshift(r.renderDropdown(n)),l},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(l){return oI(l,r.props.locale)}:function(l){return yN(l,r.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(n);break;case"select":a=this.renderSelectMode(n);break}return ue.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},t})(N.Component),c_=5;function Zae(e,t,r){for(var n=[],a=e??zs(r,c_),l=t??va(r,c_),c=_i(a),u=_i(l);!Ei(c,u);)n.push(gt(c)),c=ya(c,1);return n}var Jae=(function(e){Br(t,e);function t(r){var n=e.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(a){var l=Zy(a),c=La(n.props.date,a)&&Qr(n.props.date,a);return ue.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:l,onClick:n.onChange.bind(n,l),"aria-selected":c?"true":void 0},c?ue.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Ut(a,n.props.dateFormat,n.props.locale))})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:Zae(n.props.minDate,n.props.maxDate,n.props.date)},n}return t.prototype.render=function(){var r=at({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ue.createElement(Mx,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(N.Component),u_=5,eie=(function(e){Br(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n,a,l=(n=r.props.minDate)!==null&&n!==void 0?n:zs(r.props.date,u_),c=(a=r.props.maxDate)!==null&&a!==void 0?a:va(r.props.date,u_),u=_i(l),f=_i(c),m=[];!Ei(u,f);){var h=Zy(u);m.push(ue.createElement("option",{key:h,value:h},Ut(u,r.props.dateFormat,r.props.locale))),u=ya(u,1)}return m},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return ue.createElement("select",{value:Zy(_i(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var a=Ut(r.props.date,r.props.dateFormat,r.props.locale);return ue.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},ue.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ue.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},r.renderDropdown=function(){return ue.createElement(Jae,nt({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown();var a=gt(n);La(r.props.date,a)&&Qr(r.props.date,a)||r.props.onChange(a)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ue.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},t})(N.Component),tie=(function(e){Br(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,a,l;r.list&&(r.list.scrollTop=(l=r.centerLi&&t.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((a=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&a!==void 0?a:0):r.list.clientHeight,r.centerLi))!==null&&l!==void 0?l:0)})},r.handleClick=function(n){var a,l;(r.props.minTime||r.props.maxTime)&&e_(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&JE(n,r.props)||(l=(a=r.props).onChange)===null||l===void 0||l.call(a,n)},r.isSelectedTime=function(n){var a=Ml(r.props.selected);return a&&fI(a,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&e_(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&JE(n,r.props)},r.liClasses=function(n){var a,l=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&l.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&l.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(Yr(n)*3600+Vr(n)*60+_s(n))%(((a=r.props.intervals)!==null&&a!==void 0?a:t.defaultProps.intervals)*60)!==0&&l.push("react-datepicker__time-list-item--injected"),l.join(" ")},r.handleOnKeyDown=function(n,a){var l,c;n.key===Se.Space&&(n.preventDefault(),n.key=Se.Enter),(n.key===Se.ArrowUp||n.key===Se.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===Se.ArrowDown||n.key===Se.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===Se.Enter&&r.handleClick(a),(c=(l=r.props).handleOnKeyDown)===null||c===void 0||c.call(l,n)},r.renderTimes=function(){for(var n,a=[],l=typeof r.props.format=="string"?r.props.format:"p",c=(n=r.props.intervals)!==null&&n!==void 0?n:t.defaultProps.intervals,u=Ml(r.props.selected)||Ml(r.props.openToDate)||gt(),f=Wu(u),m=r.props.injectTimes&&r.props.injectTimes.sort(function(w,C){return w.getTime()-C.getTime()}),h=60*Uae(u),x=h/c,v=0;v<x;v++){var b=bd(f,v*c);if(a.push(b),m){var S=Hae(f,b,v,c,m);a=a.concat(S)}}var y=a.reduce(function(w,C){return C.getTime()<=u.getTime()?C:w},a[0]);return a.map(function(w){return ue.createElement("li",{key:w.valueOf(),onClick:r.handleClick.bind(r,w),className:r.liClasses(w),ref:function(C){w===y&&(r.centerLi=C)},onKeyDown:function(C){r.handleOnKeyDown(C,w)},tabIndex:w===y?0:-1,role:"option","aria-selected":r.isSelectedTime(w)?"true":void 0,"aria-disabled":r.isDisabledTime(w)?"true":void 0},Ut(w,l,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?ue.createElement(ue.Fragment,null):ue.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},ue.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var r=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(n))},t.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var r=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==r&&this.setState({height:r})}},t.prototype.render=function(){var r=this,n,a=this.state.height;return ue.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ue.createElement("div",{className:"react-datepicker__time"},ue.createElement("div",{className:"react-datepicker__time-box"},ue.createElement("ul",{className:"react-datepicker__time-list",ref:function(l){r.list=l},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},t})(N.Component),d_=3,rie=(function(e){Br(t,e);function t(r){var n=e.call(this,r)||this;return n.YEAR_REFS=Ua([],Array(n.props.yearItemNumber),!0).map(function(){return N.createRef()}),n.isDisabled=function(a){return Zn(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return wN(a,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var a;return(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection},n.updateFocusOnPaginate=function(a){var l=function(){var c,u;(u=(c=n.YEAR_REFS[a])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(l)},n.handleYearClick=function(a,l){n.props.onDayClick&&n.props.onDayClick(a,l)},n.handleYearNavigation=function(a,l){var c,u,f,m,h=n.props,x=h.date,v=h.yearItemNumber;if(!(x===void 0||v===void 0)){var b=ki(x,v).startPeriod;n.isDisabled(l)||n.isExcluded(l)||((u=(c=n.props).setPreSelection)===null||u===void 0||u.call(c,l),a-b<0?n.updateFocusOnPaginate(v-(b-a)):a-b>=v?n.updateFocusOnPaginate(Math.abs(v-(a-b))):(m=(f=n.YEAR_REFS[a-b])===null||f===void 0?void 0:f.current)===null||m===void 0||m.focus())}},n.isSameDay=function(a,l){return ft(a,l)},n.isCurrentYear=function(a){return a===ct(gt())},n.isRangeStart=function(a){return n.props.startDate&&n.props.endDate&&La(Ra(gt(),a),n.props.startDate)},n.isRangeEnd=function(a){return n.props.startDate&&n.props.endDate&&La(Ra(gt(),a),n.props.endDate)},n.isInRange=function(a){return zm(a,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(a){var l=n.props,c=l.selectsStart,u=l.selectsEnd,f=l.selectsRange,m=l.startDate,h=l.endDate;return!(c||u||f)||!n.selectingDate()?!1:c&&h?zm(a,n.selectingDate(),h):u&&m||f&&m&&!h?zm(a,m,n.selectingDate()):!1},n.isSelectingRangeStart=function(a){var l;if(!n.isInSelectingRange(a))return!1;var c=n.props,u=c.startDate,f=c.selectsStart,m=Ra(gt(),a);return f?La(m,(l=n.selectingDate())!==null&&l!==void 0?l:null):La(m,u??null)},n.isSelectingRangeEnd=function(a){var l;if(!n.isInSelectingRange(a))return!1;var c=n.props,u=c.endDate,f=c.selectsEnd,m=c.selectsRange,h=Ra(gt(),a);return f||m?La(h,(l=n.selectingDate())!==null&&l!==void 0?l:null):La(h,u??null)},n.isKeyboardSelected=function(a){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var l=n.props,c=l.minDate,u=l.maxDate,f=l.excludeDates,m=l.includeDates,h=l.filterDate,x=l.selected,v=Ku(Ra(n.props.date,a)),b=(c||u||f||m||h)&&pp(a,n.props),S=!!x&&ft(v,Ku(x)),y=ft(v,Ku(n.props.preSelection));return!n.props.inline&&!S&&y&&!b}},n.isSelectedYear=function(a){var l=n.props,c=l.selectsMultiple,u=l.selected,f=l.selectedDates;return c?f?.some(function(m){return a===ct(m)}):!!u&&a===ct(u)},n.onYearClick=function(a,l){var c=n.props.date;c!==void 0&&n.handleYearClick(Ku(Ra(c,l)),a)},n.onYearKeyDown=function(a,l){var c,u,f=a.key,m=n.props,h=m.date,x=m.yearItemNumber,v=m.handleOnKeyDown;if(f!==Se.Tab&&a.preventDefault(),!n.props.disabledKeyboardNavigation)switch(f){case Se.Enter:if(n.props.selected==null)break;n.onYearClick(a,l),(u=(c=n.props).setPreSelection)===null||u===void 0||u.call(c,n.props.selected);break;case Se.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(l+1,va(n.props.preSelection,1));break;case Se.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(l-1,zs(n.props.preSelection,1));break;case Se.ArrowUp:{if(h===void 0||x===void 0||n.props.preSelection==null)break;var b=ki(h,x).startPeriod,S=d_,y=l-S;if(y<b){var w=x%S;l>=b&&l<b+w?S=w:S+=w,y=l-S}n.handleYearNavigation(y,zs(n.props.preSelection,S));break}case Se.ArrowDown:{if(h===void 0||x===void 0||n.props.preSelection==null)break;var C=ki(h,x).endPeriod,S=d_,y=l+S;if(y>C){var w=x%S;l<=C&&l>C-w?S=w:S+=w,y=l+S}n.handleYearNavigation(y,va(n.props.preSelection,S));break}}v&&v(a)},n.getYearClassNames=function(a){var l=n.props,c=l.date,u=l.disabled,f=l.minDate,m=l.maxDate,h=l.excludeDates,x=l.includeDates,v=l.filterDate,b=l.yearClassName;return at("react-datepicker__year-text","react-datepicker__year-".concat(a),c?b?.(Ra(c,a)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(a),"react-datepicker__year-text--disabled":(f||m||h||x||v||u)&&pp(a,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(a),"react-datepicker__year-text--range-start":n.isRangeStart(a),"react-datepicker__year-text--range-end":n.isRangeEnd(a),"react-datepicker__year-text--in-range":n.isInRange(a),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(a),"react-datepicker__year-text--today":n.isCurrentYear(a)})},n.getYearTabIndex=function(a){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var l=ct(n.props.preSelection),c=pp(a,n.props);return a===l&&!c?"0":"-1"},n.getYearContent=function(a){return n.props.renderYearContent?n.props.renderYearContent(a):a},n}return t.prototype.render=function(){var r=this,n=[],a=this.props,l=a.date,c=a.yearItemNumber,u=a.onYearMouseEnter,f=a.onYearMouseLeave;if(l===void 0)return null;for(var m=ki(l,c),h=m.startPeriod,x=m.endPeriod,v=function(y){n.push(ue.createElement("div",{ref:b.YEAR_REFS[y-h],onClick:function(w){r.onYearClick(w,y)},onKeyDown:function(w){mI(w)&&(w.preventDefault(),w.key=Se.Enter),r.onYearKeyDown(w,y)},tabIndex:Number(b.getYearTabIndex(y)),className:b.getYearClassNames(y),onMouseEnter:b.props.usePointerEvent?void 0:function(w){return u(w,y)},onPointerEnter:b.props.usePointerEvent?function(w){return u(w,y)}:void 0,onMouseLeave:b.props.usePointerEvent?void 0:function(w){return f(w,y)},onPointerLeave:b.props.usePointerEvent?function(w){return f(w,y)}:void 0,key:y,"aria-current":b.isCurrentYear(y)?"date":void 0},b.getYearContent(y)))},b=this,S=h;S<=x;S++)v(S);return ue.createElement("div",{className:"react-datepicker__year"},ue.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},t})(N.Component);function nie(e,t,r,n){for(var a=[],l=0;l<2*t+1;l++){var c=e+t-l,u=!0;r&&(u=ct(r)<=c),n&&u&&(u=ct(n)>=c),u&&a.push(c)}return a}var aie=(function(e){Br(t,e);function t(r){var n=e.call(this,r)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(u,f){var m;switch(f.key){case"Enter":f.preventDefault(),n.onChange(u);break;case"Escape":f.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{f.preventDefault();var h=u+(f.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[h]&&((m=n.yearOptionButtonsRef[h])===null||m===void 0||m.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var u=n.props.year,f=n.state.yearsList.map(function(x){return ue.createElement("div",{ref:function(v){n.yearOptionButtonsRef[x]=v,x===u&&v?.focus()},role:"button",tabIndex:0,className:u===x?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:x,onClick:n.onChange.bind(n,x),onKeyDown:n.handleOptionKeyDown.bind(n,x),"aria-selected":u===x?"true":void 0},u===x?ue.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",x)}),m=n.props.minDate?ct(n.props.minDate):null,h=n.props.maxDate?ct(n.props.maxDate):null;return(!h||!n.state.yearsList.find(function(x){return x===h}))&&f.unshift(ue.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},ue.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!m||!n.state.yearsList.find(function(x){return x===m}))&&f.push(ue.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},ue.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),f},n.onChange=function(u){n.props.onChange(u)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(u){var f=n.state.yearsList.map(function(m){return m+u});n.setState({yearsList:f})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=r.yearDropdownItemNumber,l=r.scrollableYearDropdown,c=a||(l?10:5);return n.state={yearsList:nie(n.props.year,c,n.props.minDate,n.props.maxDate)},n.dropdownRef=N.createRef(),n}return t.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,a=n?n.find(function(l){return l.ariaSelected}):null;r.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},t.prototype.render=function(){var r=at({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ue.createElement(Mx,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(N.Component),iie=(function(e){Br(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?ct(r.props.minDate):1900,a=r.props.maxDate?ct(r.props.maxDate):2100,l=[],c=n;c<=a;c++)l.push(ue.createElement("option",{key:c,value:c},c));return l},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return ue.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return ue.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},ue.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ue.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return ue.createElement(aie,nt({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,a){var l;(l=r.onSelect)===null||l===void 0||l.call(r,n,a),r.setOpen()},r.onSelect=function(n,a){var l,c;(c=(l=r.props).onSelect)===null||c===void 0||c.call(l,n,a)},r.setOpen=function(){var n,a;(a=(n=r.props).setOpen)===null||a===void 0||a.call(n,!0)},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ue.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},t})(N.Component),sie=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],pI="react-datepicker-ignore-onclickoutside",lie=function(e){var t=(e.className||"").split(/\s+/);return sie.some(function(r){return t.indexOf(r)>=0})},oie=(function(e){Br(t,e);function t(r){var n=e.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(a){n.props.onClickOutside(a)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(a){var l,c;lie(a.target)&&((c=(l=n.props).onDropdownFocus)===null||c===void 0||c.call(l,a))},n.getDateInView=function(){var a=n.props,l=a.preSelection,c=a.selected,u=a.openToDate,f=uI(n.props),m=dI(n.props),h=gt(),x=u||c||l;return x||(f&&Ha(h,f)?f:m&&Ei(h,m)?m:h)},n.increaseMonth=function(){n.setState(function(a){var l=a.date;return{date:ya(l,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(a){var l=a.date;return{date:Tl(l,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(a,l,c){n.props.onSelect(a,l,c),n.props.setPreSelection&&n.props.setPreSelection(a)},n.handleDayMouseEnter=function(a){n.setState({selectingDate:a}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(a,l){n.setState({selectingDate:Ra(gt(),l)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(a,l)},n.handleYearMouseLeave=function(a,l){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(a,l)},n.handleYearChange=function(a){var l,c,u,f;(c=(l=n.props).onYearChange)===null||c===void 0||c.call(l,a),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(a),(f=(u=n.props).setOpen)===null||f===void 0||f.call(u,!0)),n.props.setPreSelection&&n.props.setPreSelection(a)},n.getEnabledPreSelectionDateForMonth=function(a){if(!Zn(a,n.props))return a;for(var l=_i(a),c=_ae(a),u=Bee(c,l),f=null,m=0;m<=u;m++){var h=xa(l,m);if(!Zn(h,n.props)){f=h;break}}return f},n.handleMonthChange=function(a){var l,c,u,f=(l=n.getEnabledPreSelectionDateForMonth(a))!==null&&l!==void 0?l:a;n.handleCustomMonthChange(f),n.props.adjustDateOnChange&&(n.props.onSelect(f),(u=(c=n.props).setOpen)===null||u===void 0||u.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(f)},n.handleCustomMonthChange=function(a){var l,c;(c=(l=n.props).onMonthChange)===null||c===void 0||c.call(l,a),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(a){n.handleYearChange(a),n.handleMonthChange(a)},n.changeYear=function(a){n.setState(function(l){var c=l.date;return{date:Ra(c,Number(a))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(a){n.setState(function(l){var c=l.date;return{date:Dn(c,Number(a))}},function(){var l,c;n.handleMonthChange(n.state.date),(c=(l=n.props).onMonthSelectedInChange)===null||c===void 0||c.call(l,0)})},n.changeMonthYear=function(a){n.setState(function(l){var c=l.date;return{date:Ra(Dn(c,mn(a)),ct(a))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(a,l){if(a===void 0&&(a=n.state.date),l===void 0&&(l=0),!fn(a))return[];var c=n.props.disabled,u=Os(a,n.props.locale,n.props.calendarStartDay),f=[];return n.props.showWeekNumbers&&f.push(ue.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(c?"react-datepicker__day-name--disabled":""),role:"columnheader"},ue.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),ue.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),f.concat([0,1,2,3,4,5,6].map(function(m){var h=xa(u,m),x=n.formatWeekday(h,n.props.locale),v=Ut(h,"EEEE",n.props.locale),b=n.props.weekDayClassName?n.props.weekDayClassName(h):void 0;if(n.props.renderCustomDayName){var S=n.props.renderCustomDayName({day:h,shortName:x,fullName:v,locale:n.props.locale,customDayNameCount:l});return ue.createElement("div",{key:m,role:"columnheader",className:at("react-datepicker__day-name",b,c?"react-datepicker__day-name--disabled":"")},S)}return ue.createElement("div",{key:m,role:"columnheader",className:at("react-datepicker__day-name",b,c?"react-datepicker__day-name--disabled":"")},ue.createElement("span",{className:"react-datepicker__sr-only"},v),ue.createElement("span",{"aria-hidden":"true"},x))}))},n.formatWeekday=function(a,l){return n.props.formatWeekDay?Oae(a,n.props.formatWeekDay,l):n.props.useWeekdaysShort?Pae(a,l):Tae(a,l)},n.decreaseYear=function(){n.setState(function(a){var l,c=a.date;return{date:zs(c,n.props.showYearPicker?(l=n.props.yearItemNumber)!==null&&l!==void 0?l:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var a,l,c;if(!n.props.renderCustomHeader){var u=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,f=n.props.showPreviousMonths?u-1:0,m=(l=n.props.monthSelectedIn)!==null&&l!==void 0?l:f,h=Tl(n.state.date,m),x;switch(!0){case n.props.disabled:x=!0;break;case n.props.showMonthYearPicker:x=n_(n.state.date,n.props);break;case n.props.showYearPicker:x=Fae(n.state.date,n.props);break;case n.props.showQuarterYearPicker:x=Lae(n.state.date,n.props);break;default:x=t_(h,n.props);break}if(!(!((c=n.props.forceShowMonthNavigation)!==null&&c!==void 0?c:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&x||n.props.showTimeSelectOnly)){var v=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],b=["react-datepicker__navigation","react-datepicker__navigation--previous"],S=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(S=n.decreaseYear),x&&n.props.showDisabledMonthNavigation&&(b.push("react-datepicker__navigation--previous--disabled"),S=void 0);var y=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,w=n.props,C=w.previousMonthButtonLabel,k=C===void 0?t.defaultProps.previousMonthButtonLabel:C,A=w.previousYearButtonLabel,M=A===void 0?t.defaultProps.previousYearButtonLabel:A,_=n.props,T=_.previousMonthAriaLabel,P=T===void 0?typeof k=="string"?k:"Previous Month":T,O=_.previousYearAriaLabel,z=O===void 0?typeof M=="string"?M:"Previous Year":O;return ue.createElement("button",{type:"button",className:b.join(" "),onClick:S,onKeyDown:n.props.handleOnKeyDown,"aria-label":y?z:P},ue.createElement("span",{className:v.join(" ")},y?M:k))}}},n.increaseYear=function(){n.setState(function(a){var l,c=a.date;return{date:va(c,n.props.showYearPicker?(l=n.props.yearItemNumber)!==null&&l!==void 0?l:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var a;if(!n.props.renderCustomHeader){var l;switch(!0){case n.props.disabled:l=!0;break;case n.props.showMonthYearPicker:l=a_(n.state.date,n.props);break;case n.props.showYearPicker:l=$ae(n.state.date,n.props);break;case n.props.showQuarterYearPicker:l=zae(n.state.date,n.props);break;default:l=r_(n.state.date,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&l||n.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var f=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(f=n.increaseYear),l&&n.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),f=void 0);var m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,h=n.props,x=h.nextMonthButtonLabel,v=x===void 0?t.defaultProps.nextMonthButtonLabel:x,b=h.nextYearButtonLabel,S=b===void 0?t.defaultProps.nextYearButtonLabel:b,y=n.props,w=y.nextMonthAriaLabel,C=w===void 0?typeof v=="string"?v:"Next Month":w,k=y.nextYearAriaLabel,A=k===void 0?typeof S=="string"?S:"Next Year":k;return ue.createElement("button",{type:"button",className:c.join(" "),onClick:f,onKeyDown:n.props.handleOnKeyDown,"aria-label":m?A:C},ue.createElement("span",{className:u.join(" ")},m?S:v))}}},n.renderCurrentMonth=function(a){a===void 0&&(a=n.state.date);var l=["react-datepicker__current-month"];return n.props.showYearDropdown&&l.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&l.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&l.push("react-datepicker__current-month--hasMonthYearDropdown"),ue.createElement("h2",{className:l.join(" ")},fn(a)?Ut(a,n.props.dateFormat,n.props.locale):"")},n.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showYearDropdown||a))return ue.createElement(iie,nt({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:ct(n.state.date)}))},n.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthDropdown||a))return ue.createElement(Xae,nt({},t.defaultProps,n.props,{month:mn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthYearDropdown||a))return ue.createElement(eie,nt({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(a){n.props.onSelect(QE(),a),n.props.setPreSelection&&n.props.setPreSelection(QE())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return ue.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(a,l){return l===void 0&&(l=0),ue.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(a,l))},n.renderDefaultHeader=function(a){var l=a.monthDate,c=a.i,u=ue.createElement("div",{className:at("react-datepicker__header",{"react-datepicker__header--has-time-select":n.props.showTimeSelect,"react-datepicker__header--middle":n.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":n.props.monthHeaderPosition==="bottom"})},n.renderCurrentMonth(l),ue.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(c!==0),n.renderMonthYearDropdown(c!==0),n.renderYearDropdown(c!==0)));return n.props.monthHeaderPosition==="top"?u:ue.createElement("div",{className:"react-datepicker__header-wrapper"},n.renderPreviousButton()||null,n.renderNextButton()||null,u)},n.renderCustomHeader=function(a){var l,c,u=a.monthDate,f=a.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var m=n.props,h=m.showYearPicker,x=m.yearItemNumber,v;if(h){var b=ki(u,x),S=b.startPeriod,y=b.endPeriod;v={startYear:S,endYear:y}}var w=t_(n.state.date,n.props),C=r_(n.state.date,n.props),k=n_(n.state.date,n.props),A=a_(n.state.date,n.props);return ue.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(c=(l=n.props).renderCustomHeader)===null||c===void 0?void 0:c.call(l,nt(nt(nt({},n.state),h&&{visibleYearsRange:v}),{customHeaderCount:f,monthDate:u,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:w,nextMonthButtonDisabled:C,prevYearButtonDisabled:k,nextYearButtonDisabled:A})))},n.renderYearHeader=function(a){var l=a.monthDate,c=n.props,u=c.showYearPicker,f=c.yearItemNumber,m=f===void 0?t.defaultProps.yearItemNumber:f,h=ki(l,m),x=h.startPeriod,v=h.endPeriod;return ue.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(x," - ").concat(v):ct(l))},n.renderHeader=function(a){var l=a.monthDate,c=a.i,u=c===void 0?0:c,f={monthDate:l,i:u};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(f);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(f);default:return n.renderDefaultHeader(f)}},n.renderMonths=function(){var a,l;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var c=[],u=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,f=n.props.showPreviousMonths?u-1:0,m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?va(n.state.date,f):Tl(n.state.date,f),h=(l=n.props.monthSelectedIn)!==null&&l!==void 0?l:f,x=0;x<u;++x){var v=x-h+f,b=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?va(m,v):ya(m,v),S="month-".concat(x),y=x<u-1,w=x>0;c.push(ue.createElement("div",{key:S,ref:function(C){n.monthContainer=C??void 0},className:"react-datepicker__month-container"},n.props.monthHeaderPosition==="top"&&n.renderHeader({monthDate:b,i:x}),ue.createElement(Kae,nt({},t.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:b,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:x,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:w,dayNamesHeader:n.renderDayNamesHeader(b,x),monthHeader:n.props.monthHeaderPosition==="middle"?n.renderHeader({monthDate:b,i:x}):void 0,monthFooter:n.props.monthHeaderPosition==="bottom"?n.renderHeader({monthDate:b,i:x}):void 0}))))}return c}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return ue.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),ue.createElement(rie,nt({},t.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return ue.createElement(tie,nt({},t.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var a,l;if(n.props.showTimeInput){if(n.props.selectsRange){var c=n.props,u=c.startDate,f=c.endDate,m=u?new Date(u):void 0,h=m&&fn(m)&&!!u,x=h?"".concat(Lo(m.getHours()),":").concat(Lo(m.getMinutes())):"",v=f?new Date(f):void 0,b=v&&fn(v)&&!!f,S=b?"".concat(Lo(v.getHours()),":").concat(Lo(v.getMinutes())):"";return ue.createElement(ue.Fragment,null,ue.createElement(Ib,nt({},t.defaultProps,n.props,{date:m,timeString:x,onChange:function(k){var A,M;(M=(A=n.props).onTimeChange)===null||M===void 0||M.call(A,k,"start")},timeInputLabel:((a=n.props.timeInputLabel)!==null&&a!==void 0?a:"Time")+" (Start)"})),ue.createElement(Ib,nt({},t.defaultProps,n.props,{date:v,timeString:S,onChange:function(k){var A,M;(M=(A=n.props).onTimeChange)===null||M===void 0||M.call(A,k,"end")},timeInputLabel:((l=n.props.timeInputLabel)!==null&&l!==void 0?l:"Time")+" (End)"})))}var y=n.props.selected?new Date(n.props.selected):void 0,w=y&&fn(y)&&!!n.props.selected,C=w?"".concat(Lo(y.getHours()),":").concat(Lo(y.getMinutes())):"";return ue.createElement(Ib,nt({},t.defaultProps,n.props,{date:y,timeString:C,onChange:function(k){var A,M;(M=(A=n.props).onTimeChange)===null||M===void 0||M.call(A,k)}}))}},n.renderAriaLiveRegion=function(){var a;if(!fn(n.state.date))return ue.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var l=ki(n.state.date,(a=n.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber),c=l.startPeriod,u=l.endPeriod,f;return n.props.showYearPicker?f="".concat(c," - ").concat(u):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?f=ct(n.state.date):f="".concat(yN(mn(n.state.date),n.props.locale)," ").concat(ct(n.state.date)),ue.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&f)},n.renderChildren=function(){if(n.props.children)return ue.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=N.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:pI,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Gd,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())},t.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&fn(this.props.preSelection)&&(!ft(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var a=!Qr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!ft(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var r=this.props.container||jae;return ue.createElement(Mx,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ue.createElement("div",{style:{display:"contents"},ref:this.containerRef},ue.createElement(r,{className:at("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t})(N.Component),cie=function(e){var t=e.icon,r=e.className,n=r===void 0?"":r,a=e.onClick,l="react-datepicker__calendar-icon";if(typeof t=="string")return ue.createElement("i",{className:"".concat(l," ").concat(t," ").concat(n),"aria-hidden":"true",onClick:a});if(ue.isValidElement(t)){var c=t;return ue.cloneElement(c,{className:"".concat(c.props.className||""," ").concat(l," ").concat(n),onClick:function(u){typeof c.props.onClick=="function"&&c.props.onClick(u),typeof a=="function"&&a(u)}})}return ue.createElement("svg",{className:"".concat(l," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},ue.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},hI=(function(e){Br(t,e);function t(r){var n=e.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return jz.createPortal(this.props.children,this.el)},t})(N.Component),uie="[tabindex], a, button, input, select, textarea",die=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},xI=(function(e){Br(t,e);function t(r){var n=e.call(this,r)||this;return n.getTabChildren=function(){var a;return Array.prototype.slice.call((a=n.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(uie),1,-1).filter(die)},n.handleFocusStart=function(){var a=n.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},n.handleFocusEnd=function(){var a=n.getTabChildren();a&&a.length>1&&a[0].focus()},n.tabLoopRef=N.createRef(),n}return t.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:t.defaultProps.enableTabLoop)?ue.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ue.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ue.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t})(N.Component);function fie(e){function t(r){var n,a=typeof r.hidePopper=="boolean"?r.hidePopper:!0,l=N.useRef(null),c=Nae(nt({open:!a,whileElementsMounted:eae,placement:r.popperPlacement,middleware:Ua([cae({padding:15}),oae(10),uae({element:l})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),u=nt(nt({},r),{hidePopper:a,popperProps:nt(nt({},c),{arrowRef:l})});return ue.createElement(e,nt({},u))}return t.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),t}var mie=function(e){var t=e.className,r=e.wrapperClassName,n=e.hidePopper,a=n===void 0?!0:n,l=e.popperComponent,c=e.targetComponent,u=e.enableTabLoop,f=e.popperOnKeyDown,m=e.portalId,h=e.portalHost,x=e.popperProps,v=e.showArrow,b=e.popperTargetRef,S=e.monthHeaderPosition;N.useEffect(function(){b?.current&&x.refs.setPositionReference(b.current)},[b,x.refs]);var y=void 0;if(!a){var w=at("react-datepicker-popper",!v&&"react-datepicker-popper-offset",S==="middle"&&"react-datepicker-popper--header-middle",S==="bottom"&&"react-datepicker-popper--header-bottom",t);y=ue.createElement(xI,{enableTabLoop:u},ue.createElement("div",{ref:x.refs.setFloating,style:x.floatingStyles,className:w,"data-placement":x.placement,onKeyDown:f},l,v&&ue.createElement(hae,{ref:x.arrowRef,context:x.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(y=N.createElement(e.popperContainer,{},y)),m&&!a&&(y=ue.createElement(hI,{portalId:m,portalHost:h},y));var C=at("react-datepicker-wrapper",r);return ue.createElement(ue.Fragment,null,ue.createElement("div",{ref:x.refs.setReference,className:C},c),y)},pie=fie(mie);function f_(e,t){return e&&t?mn(e)!==mn(t)||ct(e)!==ct(t):e!==t}var Lb="Date input not valid.",hie=(function(e){Br(t,e);function t(r){var n=e.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){var a=n.props.timeZone,l=n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:gt();return a?WE(l,a):l},n.modifyHolidays=function(){var a;return(a=n.props.holidays)===null||a===void 0?void 0:a.reduce(function(l,c){var u=pl(c.date,"yyyy-MM-dd",void 0,!1);return u?Ua(Ua([],l,!0),[nt(nt({},c),{date:u})],!1):l},[])},n.calcInitialState=function(){var a=n.props.timeZone,l=n.getPreSelection(),c=uI(n.props),u=dI(n.props),f=c&&Ha(l,Wu(c))?c:u&&Ei(l,XE(u))?u:l,m=n.props.selectsRange?n.props.startDate:n.props.selected;return m&&a&&(m=WE(m,a)),{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:m??f,highlightDates:i_(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var a,l=n.props,c=l.locale,u=l.startDate,f=l.endDate,m=l.rangeSeparator,h=l.selected,x=l.selectedDates,v=l.selectsMultiple,b=l.selectsRange,S=l.formatMultipleDates,y=l.value,w=(a=n.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,C=n.state.inputValue;if(typeof y=="string")return y;if(typeof C=="string")return C;if(b)return Aae(u,f,{dateFormat:w,locale:c,rangeSeparator:m});if(v){if(S){var k=function(A){return dn(A,{dateFormat:w,locale:c})};return S(x??[],k)}return kae(x??[],{dateFormat:w,locale:c})}return dn(h,{dateFormat:w,locale:c})},n.resetHiddenStatus=function(){n.setState(nt(nt({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(nt(nt({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var a,l;(l=(a=n.input)===null||a===void 0?void 0:a.focus)===null||l===void 0||l.call(a,{preventScroll:!0})},n.setBlur=function(){var a,l;(l=(a=n.input)===null||a===void 0?void 0:a.blur)===null||l===void 0||l.call(a),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(a,l){l===void 0&&(l=!1),n.setState({open:a,preSelection:a&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:zb},function(){a||n.setState(function(c){return{focused:l?c.focused:!1}},function(){!l&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Ga(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(a){var l,c,u=n.state.wasHidden,f=u?n.state.open:!0;u&&n.resetHiddenStatus(),n.state.preventFocus||((c=(l=n.props).onFocus)===null||c===void 0||c.call(l,a),f&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(nt(nt({},n.state),{inputValue:null}))},n.handleBlur=function(a){var l,c;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((c=(l=n.props).onBlur)===null||c===void 0||c.call(l,a));var u=n.state.inputValue;if(typeof u=="string"&&u.length>0){var f=/[a-zA-Z0-9]/.test(u);!f&&n.props.selected&&n.setSelected(null,void 0,!0)}n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(a){var l,c;(c=(l=n.props).onClickOutside)===null||c===void 0||c.call(l,a),!n.props.inline&&!a.defaultPrevented&&n.setOpen(!1),n.props.withPortal&&a.preventDefault()},n.handleChange=function(){for(var a,l,c,u,f,m,h,x,v=[],b=0;b<arguments.length;b++)v[b]=arguments[b];var S=v[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,v),!S||typeof S.isDefaultPrevented!="function"||S.isDefaultPrevented()))){n.setState({inputValue:S?.target instanceof HTMLInputElement?S.target.value:null,lastPreSelectChange:xie});var y=n.props,w=y.selectsRange,C=y.startDate,k=y.endDate,A=(a=n.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,M=(l=n.props.strictParsing)!==null&&l!==void 0?l:t.defaultProps.strictParsing,_=S?.target instanceof HTMLInputElement?S.target.value:"";if(w){var T=n.props.rangeSeparator,P=T.trim(),O=_.split(A.includes(P)?T:P,2).map(function(Y){return Y.trim()}),z=O[0],R=O[1],F=pl(z??"",A,n.props.locale,M),D=F?pl(R??"",A,n.props.locale,M):null,Z=((c=Ml(C))===null||c===void 0?void 0:c.getTime())!==F?.getTime(),Q=((u=Ml(k))===null||u===void 0?void 0:u.getTime())!==D?.getTime();if(!Z&&!Q||F&&Zn(F,n.props)||D&&Zn(D,n.props))return;F&&n.setState({preSelection:F}),(m=(f=n.props).onChange)===null||m===void 0||m.call(f,[F,D],S)}else{var J=pl(_,A,n.props.locale,M,(h=n.props.selected)!==null&&h!==void 0?h:void 0);if(J||!_)n.setSelected(J,S,!0);else if(!n.props.inline){var L=Cae(_,(x=n.state.preSelection)!==null&&x!==void 0?x:void 0);L&&(!n.props.minDate||!Ha(L,n.props.minDate))&&(!n.props.maxDate||!Ei(L,n.props.maxDate))&&n.setState({preSelection:L})}}}},n.handleSelect=function(a,l,c){var u;if(!n.props.readOnly){var f=n.props,m=f.selectsRange,h=f.startDate,x=f.endDate,v=f.locale,b=f.swapRange,S=(u=n.props.dateFormat)!==null&&u!==void 0?u:t.defaultProps.dateFormat,y=!m||h&&!x&&(b||!Pb(a,h));if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&y&&n.sendFocusBackToInput(),n.props.onChangeRaw){var w=dn(a,{dateFormat:S,locale:v});n.props.onChangeRaw(l,{date:a,formattedDate:w})}n.setSelected(a,l,!1,c),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(a):y&&n.setOpen(!1)}},n.setSelected=function(a,l,c,u){var f,m,h=n.props.timeZone,x=a;if(x&&h&&(x=Ni(x,h)),n.props.showYearPicker){if(x!==null&&pp(ct(x),n.props))return}else if(n.props.showMonthYearPicker){if(x!==null&&cI(x,n.props))return}else if(x!==null&&Zn(x,n.props))return;var v=n.props,b=v.onChange,S=v.selectsRange,y=v.startDate,w=v.endDate,C=v.selectsMultiple,k=v.selectedDates,A=v.minTime,M=v.swapRange;if(!Dl(n.props.selected,x)||n.props.allowSameDay||S||C)if(x!==null&&(n.props.selected&&(!c||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(x=ji(x,{hour:Yr(n.props.selected),minute:Vr(n.props.selected),second:_s(n.props.selected)})),!c&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&A&&(x=ji(x,{hour:A.getHours(),minute:A.getMinutes(),second:A.getSeconds()})),n.props.inline||n.setState({preSelection:x}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:u})),S){var _=b,T=!y&&!w,P=y&&!w,O=!y&&!!w,z=y&&w;T?_?.([x,null],l):P?x===null?_?.([null,null],l):Pb(x,y)?_?.(M?[x,y]:[x,null],l):_?.([y,x],l):O&&(x&&Pb(x,w)?_?.([x,w],l):_?.([x,null],l)),z&&_?.([x,null],l)}else if(C){var R=b;if(x!==null)if(!k?.length)R?.([x],l);else{var F=k.some(function(Z){return ft(Z,x)});if(F){var D=k.filter(function(Z){return!ft(Z,x)});R?.(D,l)}else R?.(Ua(Ua([],k,!0),[x],!1),l)}}else b?.(x,l);c||((m=(f=n.props).onSelect)===null||m===void 0||m.call(f,x,l),n.setState({inputValue:null}))},n.setPreSelection=function(a){if(!n.props.readOnly){var l=Ga(n.props.minDate),c=Ga(n.props.maxDate),u=!0;if(a){var f=Wu(a);if(l&&c)u=wl(a,n.props.minDate,n.props.maxDate);else if(l){var m=Wu(n.props.minDate);u=Ei(a,m)||Dl(f,m)}else if(c){var h=XE(n.props.maxDate);u=Ha(a,h)||Dl(f,h)}}u&&n.setState({preSelection:a})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(a,l){var c,u;if(!n.props.selectsMultiple){var f=n.props,m=f.selectsRange,h=f.startDate,x=f.endDate,v=f.onChange,b=f.timeZone;if(m){var S=v;if(l==="start"){if(h){var y=ji(h,{hour:Yr(a),minute:Vr(a)});n.setState({preSelection:y}),b&&(y=Ni(y,b)),S?.([y,x?b?Ni(x,b):x:null],void 0)}}else if(l==="end"){if(x){var w=ji(x,{hour:Yr(a),minute:Vr(a)});n.setState({preSelection:w}),b&&(w=Ni(w,b)),S?.([h?b?Ni(h,b):h:null,w],void 0)}}else{var C=h&&!x;if(C){var y=ji(h,{hour:Yr(a),minute:Vr(a)});n.setState({preSelection:y}),b&&(y=Ni(y,b)),S?.([y,null],void 0)}else if(h&&x){var w=ji(x,{hour:Yr(a),minute:Vr(a)});n.setState({preSelection:w}),b&&(w=Ni(w,b)),S?.([b?Ni(h,b):h,w],void 0)}else{var k=ji(n.getPreSelection(),{hour:Yr(a),minute:Vr(a)});n.setState({preSelection:k})}}}else{var A=n.props.selected?n.props.selected:n.getPreSelection(),k=n.props.selected?a:ji(A,{hour:Yr(a),minute:Vr(a)});n.setState({preSelection:k}),k&&b&&(k=Ni(k,b)),(u=(c=n.props).onChange)===null||u===void 0||u.call(c,k)}n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var a,l;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(l=(a=n.props).onInputClick)===null||l===void 0||l.call(a)},n.handleTimeOnlyArrowKey=function(a){var l,c,u,f,m=Ml(n.props.selected)||n.state.preSelection||gt(),h=(l=n.props.timeIntervals)!==null&&l!==void 0?l:30,x=(c=n.props.dateFormat)!==null&&c!==void 0?c:t.defaultProps.dateFormat,v=Array.isArray(x)?x[0]:x,b=Wu(m),S=Yr(m)*60+Vr(m),y=1440-h,w;if(a===Se.ArrowUp){var C=Math.max(0,S-h);w=bd(b,C)}else{var C=Math.min(y,S+h);w=bd(b,C)}var k=Ut(w,v||t.defaultProps.dateFormat,n.props.locale);if(n.setState({preSelection:w,inputValue:k}),!(n.props.selectsRange||n.props.selectsMultiple)){var A=n.props.selected?n.props.selected:n.getPreSelection(),M=n.props.selected?w:ji(A,{hour:Yr(w),minute:Vr(w)});(f=(u=n.props).onChange)===null||f===void 0||f.call(u,M),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){n.scrollToTimeOption(w)})}},n.handleTimeOnlyEnterKey=function(a){var l,c,u,f,m=a.target,h=m.value,x=(l=n.props.dateFormat)!==null&&l!==void 0?l:t.defaultProps.dateFormat,v=n.props.timeFormat||"p",b=n.state.preSelection||Ml(n.props.selected)||gt(),S=pl(h,x,n.props.locale,(c=n.props.strictParsing)!==null&&c!==void 0?c:!1,b),y=b;if(S&&fn(S))y=S;else{var w=((u=n.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(w instanceof HTMLElement){var C=(f=w.textContent)===null||f===void 0?void 0:f.trim();if(C){var k=pl(C,v,n.props.locale,!1,b);k&&fn(k)&&(y=k)}}}n.handleTimeChange(y),n.setOpen(!1),n.sendFocusBackToInput()},n.scrollToTimeOption=function(a){var l,c;if(!((l=n.calendar)===null||l===void 0)&&l.containerRef.current){for(var u=n.calendar.containerRef.current,f=Array.from(u.querySelectorAll(".react-datepicker__time-list-item")),m=null,h=1/0,x=n.props.timeFormat||"p",v=0,b=f;v<b.length;v++){var S=b[v],y=(c=S.textContent)===null||c===void 0?void 0:c.trim();if(y){var w=pl(y,x,n.props.locale,!1,a);if(w&&fn(w)){if(fI(w,a)){m=S;break}var C=Math.abs(w.getTime()-a.getTime());C<h&&(h=C,m=S)}}}m&&(f.forEach(function(k){k.setAttribute("tabindex","-1")}),m.setAttribute("tabindex","0"),m.scrollIntoView({behavior:"smooth",block:"center"}))}},n.onInputKeyDown=function(a){var l,c,u,f,m,h;(c=(l=n.props).onKeyDown)===null||c===void 0||c.call(l,a);var x=a.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(x===Se.ArrowDown||x===Se.ArrowUp||x===Se.Enter)&&((u=n.onInputClick)===null||u===void 0||u.call(n));return}if(n.state.open&&n.props.showTimeSelectOnly){if(x===Se.ArrowDown||x===Se.ArrowUp){a.preventDefault(),n.handleTimeOnlyArrowKey(x);return}if(x===Se.Enter){a.preventDefault(),n.handleTimeOnlyEnterKey(a);return}}if(n.state.open){if(x===Se.ArrowDown||x===Se.ArrowUp){a.preventDefault();var v=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',b=((f=n.calendar)===null||f===void 0?void 0:f.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(v);b instanceof HTMLElement&&b.focus({preventScroll:!0});return}var S=gt(n.state.preSelection);x===Se.Enter?(a.preventDefault(),a.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===zb?(n.handleSelect(S,a),!n.props.shouldCloseOnSelect&&n.setPreSelection(S)):n.setOpen(!1)):x===Se.Escape?(a.preventDefault(),a.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):x===Se.Tab&&n.setOpen(!1),n.inputOk()||(h=(m=n.props).onInputError)===null||h===void 0||h.call(m,{code:1,msg:Lb})}},n.onPortalKeyDown=function(a){var l=a.key;l===Se.Escape&&(a.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(a){var l,c,u,f,m,h,x=n.props,v=x.minDate,b=x.maxDate,S=x.disabledKeyboardNavigation,y=x.showWeekPicker,w=x.shouldCloseOnSelect,C=x.locale,k=x.calendarStartDay,A=x.adjustDateOnChange,M=x.inline;if((c=(l=n.props).onKeyDown)===null||c===void 0||c.call(l,a),!S){var _=a.key,T=a.shiftKey,P=gt(n.state.preSelection),O=function(F,D){var Z=D;switch(F){case Se.ArrowRight:Z=y?hh(D,1):xa(D,1);break;case Se.ArrowLeft:Z=y?IE(D):Bre(D);break;case Se.ArrowUp:Z=IE(D);break;case Se.ArrowDown:Z=hh(D,1);break;case Se.PageUp:Z=T?zs(D,1):Tl(D,1);break;case Se.PageDown:Z=T?va(D,1):ya(D,1);break;case Se.Home:Z=Os(D,C,k);break;case Se.End:Z=Eae(D);break}return Z},z=function(F,D){for(var Z=40,Q=F,J=!1,L=0,Y=O(F,D);!J;){if(L>=Z){Y=D;break}v&&Y<v&&(Q=Se.ArrowRight,Y=Zn(v,n.props)?O(Q,Y):v),b&&Y>b&&(Q=Se.ArrowLeft,Y=Zn(b,n.props)?O(Q,Y):b),Zn(Y,n.props)?((Q===Se.PageUp||Q===Se.Home)&&(Q=Se.ArrowRight),(Q===Se.PageDown||Q===Se.End)&&(Q=Se.ArrowLeft),Y=O(Q,Y)):J=!0,L++}return Y};if(_===Se.Enter){a.preventDefault(),n.handleSelect(P,a),!w&&n.setPreSelection(P);return}else if(_===Se.Escape){a.preventDefault(),n.setOpen(!1),n.inputOk()||(f=(u=n.props).onInputError)===null||f===void 0||f.call(u,{code:1,msg:Lb});return}var R=null;switch(_){case Se.ArrowLeft:case Se.ArrowRight:case Se.ArrowUp:case Se.ArrowDown:case Se.PageUp:case Se.PageDown:case Se.Home:case Se.End:R=z(_,P);break}if(!R){(h=(m=n.props).onInputError)===null||h===void 0||h.call(m,{code:1,msg:Lb});return}a.preventDefault(),n.setState({lastPreSelectChange:zb}),A&&n.setSelected(R),n.setPreSelection(R),M&&n.setState({shouldFocusDayInline:!0})}},n.onPopperKeyDown=function(a){var l=a.key;l===Se.Escape&&(a.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),n.sendFocusBackToInput();var l=n.props,c=l.selectsRange,u=l.onChange;u?.(c?[null,null]:null,a),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(a){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(a)&&n.setOpen(!1)},n.handleMonthSelectedInChange=function(a){n.setState({monthSelectedIn:a})},n.renderCalendar=function(){var a,l;return!n.props.inline&&!n.isCalendarOpen()?null:ue.createElement(oie,nt({showMonthYearDropdown:void 0,ref:function(c){n.calendar=c}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(a=n.props.dateFormatCalendar)!==null&&a!==void 0?a:t.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:qae(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(l=n.props.dropdownMode)!==null&&l!==void 0?l:t.defaultProps.dropdownMode,onMonthSelectedInChange:n.handleMonthSelectedInChange}),n.props.children)},n.renderAriaLiveRegion=function(){var a,l=n.props.locale,c=(a=n.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,u=n.props.showTimeInput||n.props.showTimeSelect,f=u?"PPPPp":"PPPP",m;return n.props.selectsRange?m="Selected start date: ".concat(dn(n.props.startDate,{dateFormat:f,locale:l}),". ").concat(n.props.endDate?"End date: "+dn(n.props.endDate,{dateFormat:f,locale:l}):""):n.props.showTimeSelectOnly?m="Selected time: ".concat(dn(n.props.selected,{dateFormat:c,locale:l})):n.props.showYearPicker?m="Selected year: ".concat(dn(n.props.selected,{dateFormat:"yyyy",locale:l})):n.props.showMonthYearPicker?m="Selected month: ".concat(dn(n.props.selected,{dateFormat:"MMMM yyyy",locale:l})):n.props.showQuarterYearPicker?m="Selected quarter: ".concat(dn(n.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):m="Selected date: ".concat(dn(n.props.selected,{dateFormat:f,locale:l})),ue.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},m)},n.renderDateInput=function(){var a,l,c,u,f,m,h,x=at(n.props.className,(a={},a[n.props.outsideClickIgnoreClass||t.defaultProps.outsideClickIgnoreClass]=n.state.open,a)),v=n.props.customInput||ue.createElement("input",{type:"text"}),b=n.props.customInputRef||"ref",S={},y=(c=n.props["aria-describedby"])!==null&&c!==void 0?c:n.props.ariaDescribedBy,w=(u=n.props["aria-invalid"])!==null&&u!==void 0?u:n.props.ariaInvalid,C=(f=n.props["aria-label"])!==null&&f!==void 0?f:n.props.ariaLabel,k=(m=n.props["aria-labelledby"])!==null&&m!==void 0?m:n.props.ariaLabelledBy,A=(h=n.props["aria-required"])!==null&&h!==void 0?h:n.props.ariaRequired;return y!=null&&(S["aria-describedby"]=y),w!=null&&(S["aria-invalid"]=w),C!=null&&(S["aria-label"]=C),k!=null&&(S["aria-labelledby"]=k),A!=null&&(S["aria-required"]=A),N.cloneElement(v,nt((l={},l[b]=function(M){n.input=M},l.value=n.getInputValue(),l.onBlur=n.handleBlur,l.onChange=n.handleChange,l.onClick=n.onInputClick,l.onFocus=n.handleFocus,l.onKeyDown=n.onInputKeyDown,l.id=n.props.id,l.name=n.props.name,l.form=n.props.form,l.autoFocus=n.props.autoFocus,l.placeholder=n.props.placeholderText,l.disabled=n.props.disabled,l.autoComplete=n.props.autoComplete,l.className=at(v.props.className,x),l.title=n.props.title,l.readOnly=n.props.readOnly,l.required=n.props.required,l.tabIndex=n.props.tabIndex,l),S))},n.renderClearButton=function(){var a=n.props,l=a.isClearable,c=a.disabled,u=a.selected,f=a.startDate,m=a.endDate,h=a.clearButtonTitle,x=a.clearButtonClassName,v=x===void 0?"":x,b=a.ariaLabelClose,S=b===void 0?"Close":b,y=a.selectedDates,w=a.readOnly;return l&&!w&&(u!=null||f!=null||m!=null||y?.length)?ue.createElement("button",{type:"button",className:at("react-datepicker__close-icon",v,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":S,onClick:n.onClearClick,title:h,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:pI,readOnly:!1,rangeSeparator:lI,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Gd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(r,n){var a,l,c,u;this.props.selectsRange&&f_(r.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):f_(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&n.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:i_(this.props.highlightDates)}),!n.focused&&!Dl(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((l=(a=this.props).onCalendarOpen)===null||l===void 0||l.call(a)),n.open===!0&&this.state.open===!1&&((u=(c=this.props).onCalendarClose)===null||u===void 0||u.call(c)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,a=r.icon,l=r.calendarIconClassname,c=r.calendarIconClassName,u=r.toggleCalendarOnIconClick,f=this.state.open;return l&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ue.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&ue.createElement(cie,nt({icon:a,className:at(c,!c&&l,f&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?ue.createElement(xI,{enableTabLoop:this.props.enableTabLoop},ue.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=ue.createElement(hI,nt({portalId:this.props.portalId},this.props),n)),ue.createElement(ue.Fragment,null,this.renderInputContainer(),n)}return ue.createElement(pie,nt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},t})(N.Component),xie="input",zb="navigate";function mr({open:e,onClose:t,title:r,children:n,wide:a}){const l=N.useRef(null);return N.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),N.useEffect(()=>{function c(u){u.key==="Escape"&&t()}return e&&window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[e,t]),e?s.jsxs("div",{ref:l,className:"fixed inset-0 z-50 flex items-start justify-center pt-[5vh] sm:pt-[10vh] px-4",onClick:c=>{c.target===l.current&&t()},children:[s.jsx("div",{className:"fixed inset-0 bg-black/60"}),s.jsxs("div",{className:`relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full ${a?"max-w-2xl":"max-w-lg"} max-h-[80vh] flex flex-col animate-fade-in`,children:[s.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-[var(--border-light)] shrink-0",children:[s.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:r}),s.jsx("button",{onClick:t,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:s.jsx(Ps,{size:16})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:n})]})]}):null}function ce({label:e,required:t,error:r,children:n}){return s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:[e,t&&s.jsx("span",{className:"text-rose-500 ml-0.5",children:"*"})]}),n,r&&s.jsx("p",{className:"text-xs text-rose-500 mt-1",children:r})]})}function Ce({value:e,onChange:t,placeholder:r,type:n="text",sensitive:a,...l}){const{masked:c}=ti();return s.jsx("input",{type:n,value:e,onChange:u=>t(u.target.value),placeholder:r,className:`w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors ${a&&c?"sensitive-blur":""}`,...l})}function Ka({value:e,onChange:t,...r}){const n=e?new Date(e.length>10?e:e+"T00:00:00"):null;function a(l){if(!l){t("");return}const c=l.getFullYear(),u=String(l.getMonth()+1).padStart(2,"0"),f=String(l.getDate()).padStart(2,"0");t(`${c}-${u}-${f}`)}return s.jsxs("div",{className:"relative cf-datepicker",children:[s.jsx(hie,{selected:n,onChange:a,dateFormat:"dd MMM yyyy",maxDate:new Date,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",placeholderText:"Select date",className:"w-full px-3 py-2 pr-9 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",...r}),s.jsx(zF,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function Ge({value:e,onChange:t,options:r,placeholder:n}){return s.jsxs("select",{value:e,onChange:a=>t(a.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",children:[n&&s.jsx("option",{value:"",children:n}),r.map(a=>s.jsx("option",{value:a.value,children:a.label},a.value))]})}function mc({value:e,onChange:t,placeholder:r,rows:n=3}){return s.jsx("textarea",{value:e,onChange:a=>t(a.target.value),placeholder:r,rows:n,className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors resize-none"})}function vie({checked:e,onChange:t,label:r}){return s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:e,onChange:n=>t(n.target.checked),className:"w-4 h-4 rounded border-[var(--border-input)] bg-[var(--bg-input)] text-violet-500 focus:ring-violet-500"}),s.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:r})]})}function en({onCancel:e,onSubmit:t,submitLabel:r="Save",loading:n}){return s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 mt-4 border-t border-[var(--border-light)]",children:[s.jsx("button",{onClick:e,disabled:n,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),s.jsxs("button",{onClick:t,disabled:n,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[n&&s.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),n?"Saving...":r]})]})}function Wi({onClick:e,label:t="Deactivate"}){return s.jsx("button",{onClick:e,className:"px-4 py-2 text-xs font-semibold text-rose-400 hover:text-rose-300 hover:bg-rose-500/10 rounded-lg transition-colors",children:t})}const m_=[{key:"sip",label:"Adjust SIP",icon:K8,color:"text-blue-400",dimColor:"text-blue-400/60 hover:text-blue-400",activeBg:"bg-blue-500/20 border border-blue-500/40"},{key:"lumpsum",label:"Lumpsum",icon:S8,color:"text-emerald-400",dimColor:"text-emerald-400/60 hover:text-emerald-400",activeBg:"bg-emerald-500/20 border border-emerald-500/40"},{key:"buysell",label:"Buy / Sell",icon:OF,color:"text-amber-400",dimColor:"text-amber-400/60 hover:text-amber-400",activeBg:"bg-amber-500/20 border border-amber-500/40"}];function Mn(e){return e>=1e5?`${(e/1e5).toFixed(1)}L`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${Math.round(e)}`}function NN({exitOnly:e}){return s.jsx("div",{className:"py-4 text-center space-y-1",children:e?s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Only exit candidates here  use ",s.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab"]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No target allocations set"}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Use ",s.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund first"]})]})})}function jN({children:e,dimmed:t}){return s.jsx("div",{className:`bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-3.5 py-3 space-y-2 ${t?"opacity-50":""}`,children:e})}function SN({fundName:e}){const{main:t,plan:r}=Me(e);return s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-[11px] font-medium text-[var(--text-primary)] leading-tight",children:t}),r&&s.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:r})]})}function CN({label:e,value:t,valueClass:r}){return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:e}),s.jsx("span",{className:`text-[11px] tabular-nums font-medium ${r||"text-[var(--text-secondary)]"}`,children:t})]})}function gie({portfolio:e,holdings:t,totalValue:r}){const n=e.sipTarget||0,a=(e.rebalanceThreshold||.05)*100,l=t.some(v=>v.targetAllocationPct>0),c=t.some(v=>v.targetAllocationPct===0&&v.units>0);if(!l)return s.jsx(NN,{exitOnly:c});if(n<=0)return s.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"No SIP target set for this portfolio"});const u=t.filter(v=>v.targetAllocationPct>0).map(v=>{const b=r>0?v.currentValue/r*100:0,S=Math.abs(b-v.targetAllocationPct),y=S>a,C=v.targetAllocationPct/100*r-v.currentValue,k=v.targetAllocationPct/100*n;return{...v,currentPct:b,drift:S,drifted:y,gap:C,normalSIP:k}}),m=u.filter(v=>v.drifted&&v.gap>0).reduce((v,b)=>v+b.gap,0),h=u.map(v=>({...v,suggestedSIP:v.drifted&&v.gap>0&&m>0?v.gap/m*n:v.drifted&&v.gap<=0?0:v.normalSIP}));return u.some(v=>v.drifted)?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Funds drifted >",a.toFixed(0),"%: overweight  0, underweight  extra SIP. Others keep normal SIP."]}),s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[s.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Normal SIP"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Rebalance SIP"})]})}),s.jsx("tbody",{children:h.map(v=>{const b=v.drifted&&v.gap<=0,S=v.drifted&&v.gap>0,y=!v.drifted;return s.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${y?"opacity-50":b?"opacity-60":""}`,children:[s.jsxs("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px]",children:[s.jsx("p",{className:"truncate",children:Me(v.fundName).main}),Me(v.fundName).plan&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Me(v.fundName).plan})]}),s.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[s.jsxs("span",{className:b?"text-amber-400":S?"text-blue-400":"text-[var(--text-dim)]",children:[v.currentPct.toFixed(1),"%"]}),s.jsxs("span",{className:"text-[var(--text-dim)]",children:[" / ",v.targetAllocationPct.toFixed(1),"%"]})]}),s.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:Mn(v.normalSIP)}),s.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:b?s.jsx("span",{className:"text-amber-400/70",children:"0"}):S?s.jsx("span",{className:"text-blue-400",children:Mn(v.suggestedSIP)}):s.jsx("span",{className:"text-[var(--text-dim)]",children:Mn(v.suggestedSIP)})})]},v.holdingId)})}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t border-[var(--border)]",children:[s.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),s.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:Mn(n)}),s.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-blue-400 tabular-nums",children:Mn(n)})]})})]})}),s.jsxs("div",{className:"sm:hidden space-y-2",children:[h.map(v=>{const b=v.drifted&&v.gap<=0,S=v.drifted&&v.gap>0,y=!v.drifted;return s.jsxs(jN,{dimmed:y||b,children:[s.jsx(SN,{fundName:v.fundName}),s.jsx(CN,{label:"Allocation",value:s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:b?"text-amber-400":S?"text-blue-400":"",children:[v.currentPct.toFixed(1),"%"]})," ",s.jsxs("span",{className:"text-[var(--text-dim)]",children:["/ ",v.targetAllocationPct.toFixed(1),"%"]})]})}),s.jsxs("div",{className:"flex items-center justify-between pt-1 border-t border-[var(--border-light)]",children:[s.jsxs("div",{className:"text-center flex-1",children:[s.jsx("p",{className:"text-[9px] text-[var(--text-dim)] uppercase",children:"Normal"}),s.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:Mn(v.normalSIP)})]}),s.jsx("div",{className:"text-[var(--text-dim)] text-xs px-2",children:""}),s.jsxs("div",{className:"text-center flex-1",children:[s.jsx("p",{className:"text-[9px] text-[var(--text-dim)] uppercase",children:"Rebalance"}),s.jsx("p",{className:`text-xs font-semibold tabular-nums ${b?"text-amber-400/70":S?"text-blue-400":"text-[var(--text-dim)]"}`,children:b?"0":Mn(v.suggestedSIP)})]})]})]},v.holdingId)}),s.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-inset)] rounded-xl border border-[var(--border-light)] px-3.5 py-2.5",children:[s.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:"Total SIP"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:Mn(n)}),s.jsx("span",{className:"text-[var(--text-dim)]",children:""}),s.jsx("span",{className:"text-xs font-bold text-blue-400 tabular-nums",children:Mn(n)})]})]})]})]}):s.jsxs("p",{className:"text-xs text-[var(--text-dim)] py-2",children:["SIPs are balanced (within ",a.toFixed(0),"% threshold)"]})}function bie({portfolio:e,holdings:t,totalValue:r}){const[n,a]=N.useState("");(e.rebalanceThreshold||.05)*100;const l=t.some(y=>y.targetAllocationPct>0),c=t.some(y=>y.targetAllocationPct===0&&y.units>0);if(!l)return s.jsx(NN,{exitOnly:c});const u=t.filter(y=>y.targetAllocationPct>0).map(y=>{const w=r>0?y.currentValue/r*100:0;return{...y,currentPct:w}}),f=N.useMemo(()=>{if(r<=0||u.length===0)return 0;const y=u.filter(A=>{const M=A.targetAllocationPct/100*r;return A.currentValue<M});if(y.length===0)return 0;const w=y.reduce((A,M)=>A+M.targetAllocationPct,0);if(w>=100)return 0;const C=y.reduce((A,M)=>A+M.currentValue,0),k=(w/100*r-C)/(1-w/100);return k>0?Math.ceil(k/100)*100:0},[u,r]),m=Number(n)||e.lumpsumTarget||f,h=N.useMemo(()=>{const y=m>0?r+m:r,w=u.map(k=>{const A=k.targetAllocationPct/100*y,M=m>0?Math.max(0,A-k.currentValue):0,_=y>0?(k.currentValue+M)/y*100:0,T=k.currentValue>A+1;return{...k,invest:M,newPct:_,isOverweight:T}}),C=w.reduce((k,A)=>k+A.invest,0);if(m>0&&C>0&&Math.abs(C-m)>1){const k=m/C;return w.map(A=>({...A,invest:A.invest>0?A.invest*k:0,newPct:y>0?(A.currentValue+(A.invest>0?A.invest*k:0))/y*100:0}))}return w},[u,m,r]),x=h.reduce((y,w)=>y+w.invest,0),v=h.some(y=>y.isOverweight),b=Number(n),S=b>0&&f>0&&b<f;return s.jsxs("div",{className:"space-y-2",children:[f>0&&s.jsx("div",{className:"flex items-center gap-2 px-2.5 py-1.5 rounded-md bg-emerald-500/10 border border-emerald-500/20",children:s.jsxs("p",{className:"text-xs text-emerald-400",children:[s.jsx("span",{className:"font-bold",children:K(f)})," needed to bring all underweight funds to target %"]})}),s.jsxs("div",{className:"flex items-end gap-3",children:[s.jsx("div",{className:"flex-1 max-w-[200px]",children:s.jsx(ce,{label:"Invest Amount ()",children:s.jsx(Ce,{type:"number",value:n,onChange:a,placeholder:f>0?`${K(f)}`:"Enter amount..."})})}),!b&&!e.lumpsumTarget&&f>0&&s.jsx("p",{className:"text-xs text-emerald-400/70 pb-2.5",children:"Using suggested"}),!b&&e.lumpsumTarget>=100&&s.jsx("p",{className:"text-xs text-[var(--text-dim)] pb-2.5",children:"Using lumpsum target"})]}),S&&s.jsxs("p",{className:"text-xs text-amber-400/80 px-1",children:["Below minimum  distributes proportionally but won't fully rebalance. Need ",K(f)," for exact target %."]}),h.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[s.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Invest"})]})}),s.jsx("tbody",{children:h.map(y=>s.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${y.invest===0?"opacity-50":""}`,children:[s.jsxs("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px]",children:[s.jsx("p",{className:"truncate",children:Me(y.fundName).main}),Me(y.fundName).plan&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Me(y.fundName).plan})]}),s.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[s.jsxs("span",{className:y.isOverweight?"text-amber-400":y.invest>0?"text-blue-400":"text-[var(--text-dim)]",children:[y.currentPct.toFixed(1),"%"]}),s.jsxs("span",{className:"text-[var(--text-dim)]",children:["  ",y.newPct.toFixed(1),"%"]})]}),s.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:y.isOverweight?s.jsx("span",{className:"text-amber-400/70 text-xs",children:"Overweight"}):y.invest>0?s.jsx("span",{className:"text-emerald-400",children:Mn(y.invest)}):s.jsx("span",{className:"text-[var(--text-dim)] text-xs",children:"Balanced"})})]},y.holdingId))}),x>0&&s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t border-[var(--border)]",children:[s.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),s.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-emerald-400 tabular-nums",children:K(x)})]})})]})}),s.jsxs("div",{className:"sm:hidden space-y-2",children:[h.map(y=>s.jsxs(jN,{dimmed:y.invest===0,children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(SN,{fundName:y.fundName}),s.jsx("div",{className:"text-right shrink-0",children:y.isOverweight?s.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:"Overweight"}):y.invest>0?s.jsx("p",{className:"text-xs font-bold text-emerald-400 tabular-nums",children:Mn(y.invest)}):s.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Balanced"})})]}),s.jsx(CN,{label:"Allocation",value:s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:y.isOverweight?"text-amber-400":y.invest>0?"text-blue-400":"",children:[y.currentPct.toFixed(1),"%"]})," ",s.jsxs("span",{className:"text-[var(--text-dim)]",children:[" ",y.newPct.toFixed(1),"%"]})]})})]},y.holdingId)),x>0&&s.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-inset)] rounded-xl border border-[var(--border-light)] px-3.5 py-2.5",children:[s.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:"Total Invest"}),s.jsx("span",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:K(x)})]})]})]}):s.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2 text-center",children:"All funds balanced"}),v&&s.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Overweight funds can't be fixed by buying. Use ",s.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab to sell overweight and buy underweight."]})]})}function yie({portfolio:e,holdings:t,totalValue:r}){const n=(e.rebalanceThreshold||.05)*100,a=t.some(u=>u.targetAllocationPct>0),l=t.some(u=>u.targetAllocationPct===0&&u.units>0);if(!a&&!l)return s.jsx(NN,{});const c=t.filter(u=>u.targetAllocationPct>0||u.units>0).map(u=>{const f=r>0?u.currentValue/r*100:0,m=u.targetAllocationPct===0&&u.units>0,h=m||Math.abs(f-u.targetAllocationPct)>n,x=u.targetAllocationPct/100*r,v=h?x-u.currentValue:0;return{...u,currentPct:f,amount:v,isExit:m}}).filter(u=>Math.abs(u.amount)>=500);return c.length===0?s.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"Portfolio is balanced"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[s.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Drift"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Action"})]})}),s.jsx("tbody",{children:c.map(u=>{const f=u.amount>0;return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[s.jsxs("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px]",children:[s.jsx("p",{className:"truncate",children:Me(u.fundName).main}),Me(u.fundName).plan&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Me(u.fundName).plan})]}),s.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:u.isExit?s.jsxs("span",{className:"text-[var(--accent-rose)]",children:[u.currentPct.toFixed(1),"%  Exit"]}):`${u.currentPct.toFixed(1)}%  ${u.targetAllocationPct.toFixed(1)}%`}),s.jsx("td",{className:"py-2 px-2 text-right",children:s.jsxs("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${f?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[f?"Buy":u.isExit?"Exit":"Sell"," ",Mn(Math.abs(u.amount))]})})]},u.schemeCode||u.fundCode)})})]})}),s.jsx("div",{className:"sm:hidden space-y-2",children:c.map(u=>{const f=u.amount>0;return s.jsxs(jN,{children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(SN,{fundName:u.fundName}),s.jsxs("span",{className:`text-[11px] font-bold px-2.5 py-1 rounded-full shrink-0 ${f?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[f?"Buy":u.isExit?"Exit":"Sell"," ",Mn(Math.abs(u.amount))]})]}),s.jsx(CN,{label:"Drift",value:u.isExit?s.jsxs("span",{className:"text-[var(--accent-rose)]",children:[u.currentPct.toFixed(1),"%  Exit"]}):s.jsxs(s.Fragment,{children:[s.jsxs("span",{children:[u.currentPct.toFixed(1),"%"]})," ",s.jsxs("span",{className:"text-[var(--text-dim)]",children:[" ",u.targetAllocationPct.toFixed(1),"%"]})]}),valueClass:f?"text-emerald-400":"text-amber-400"})]},u.schemeCode||u.fundCode)})})]})}function vI(){const{mfHoldings:e,mfPortfolios:t}=mt(),[r,n]=N.useState("buysell"),a=N.useMemo(()=>t.filter(f=>f.status!=="Inactive").map(f=>{const m=e.filter(y=>y.portfolioId===f.portfolioId&&y.units>0),h=m.reduce((y,w)=>y+w.currentValue,0),x=(f.rebalanceThreshold||.05)*100,v=m.filter(y=>{if(y.targetAllocationPct<=0)return!1;const w=h>0?y.currentValue/h*100:0;return Math.abs(w-y.targetAllocationPct)>x}).length,b=m.filter(y=>y.targetAllocationPct===0&&y.units>0&&y.currentValue>=500).length,S=m.some(y=>y.targetAllocationPct>0);return{...f,holdings:m,totalValue:h,driftedCount:v,exitCount:b,hasTargets:S}}).filter(f=>f.driftedCount>0||f.exitCount>0),[t,e]);if(a.length===0){const f=e.some(m=>m.targetAllocationPct>0);return s.jsx("div",{className:"py-8 text-center",children:f?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"All portfolios are balanced"}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"No funds exceed their rebalance threshold"})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No target allocations set"}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:["Use ",s.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund, then rebalance will show drift"]})]})})}const c=a.some(f=>(f.sipTarget||0)>=500)?m_:m_.filter(f=>f.key!=="sip"),u=c.some(f=>f.key===r)?r:c[0]?.key||"buysell";return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"hidden sm:flex bg-[var(--bg-inset)] rounded-lg p-0.5",children:c.map(({key:f,label:m,icon:h,color:x,dimColor:v,activeBg:b})=>s.jsxs("button",{onClick:()=>n(f),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-semibold transition-colors ${u===f?`${b} ${x} shadow-sm`:v}`,children:[s.jsx(h,{size:13})," ",m]},f))}),s.jsx("div",{className:"sm:hidden space-y-1.5",children:c.map(({key:f,label:m,icon:h,color:x,dimColor:v,activeBg:b})=>s.jsxs("button",{onClick:()=>n(f),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-semibold transition-colors ${u===f?`${b} ${x}`:`bg-[var(--bg-card)] border border-[var(--border)] ${v}`}`,children:[s.jsx(h,{size:16}),s.jsx("span",{children:m})]},f))}),a.map((f,m)=>s.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-violet-500/50 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"px-3 py-2.5 bg-[var(--bg-inset)]",children:[s.jsxs("div",{className:"hidden sm:flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center",children:m+1}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:f.portfolioName}),s.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:f.ownerName}),f.driftedCount>0&&s.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[f.driftedCount," drifted"]}),f.exitCount>0&&s.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-rose-500/15 text-[var(--accent-rose)]",children:[f.exitCount," exit"]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-muted)]",children:[s.jsx("span",{className:"font-semibold text-[var(--text-secondary)]",children:K(f.totalValue)}),s.jsxs("span",{children:["Threshold: ",((f.rebalanceThreshold||.05)*100).toFixed(0),"%"]}),f.sipTarget>=100&&s.jsxs("span",{children:["SIP: ",K(f.sipTarget),"/mo"]})]})]}),s.jsxs("div",{className:"sm:hidden space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center shrink-0",children:m+1}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] flex-1 min-w-0 truncate",children:f.portfolioName})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap pl-7",children:[s.jsx("span",{className:"text-[11px] font-semibold text-[var(--text-secondary)] tabular-nums",children:K(f.totalValue)}),s.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:f.ownerName}),f.driftedCount>0&&s.jsxs("span",{className:"text-[10px] font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[f.driftedCount," drifted"]}),f.exitCount>0&&s.jsxs("span",{className:"text-[10px] font-bold px-1.5 py-0.5 rounded-full bg-rose-500/15 text-[var(--accent-rose)]",children:[f.exitCount," exit"]})]})]})]}),s.jsxs("div",{className:"px-3 py-2",children:[u==="sip"&&s.jsx(gie,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue}),u==="lumpsum"&&s.jsx(bie,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue}),u==="buysell"&&s.jsx(yie,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue})]})]},f.portfolioId))]})}const wie="/logo-new.png",p_={mf:{label:"Mutual Funds",color:"bg-violet-500",order:1,route:"/investments/mutual-funds"},stocks:{label:"Stocks",color:"bg-blue-500",order:2,route:"/investments/stocks"},PPF:{label:"PPF",color:"bg-cyan-600",order:3,route:"/investments/other"},EPF:{label:"EPF",color:"bg-cyan-500",order:4,route:"/investments/other"},NPS:{label:"NPS",color:"bg-sky-500",order:5,route:"/investments/other"},FD:{label:"Fixed Deposit",color:"bg-teal-500",order:6,route:"/investments/other"},RD:{label:"RD",color:"bg-teal-400",order:7,route:"/investments/other"},SSY:{label:"SSY",color:"bg-pink-400",order:8,route:"/investments/other"},NSC:{label:"NSC",color:"bg-indigo-400",order:9,route:"/investments/other"},Bonds:{label:"Bonds",color:"bg-cyan-400",order:10,route:"/investments/other"},Debt:{label:"Debt",color:"bg-cyan-500",order:11,route:"/investments/other"},Gold:{label:"Gold",color:"bg-amber-500",order:12,route:"/investments/other"},Silver:{label:"Silver",color:"bg-slate-400",order:13,route:"/investments/other"},Property:{label:"Real Estate",color:"bg-orange-500",order:14,route:"/investments/other"},Alternative:{label:"Alternative",color:"bg-violet-400",order:15,route:"/investments/other"},Equity:{label:"Equity",color:"bg-emerald-500",order:16,route:"/investments/other"},Other:{label:"Other",color:"bg-gray-500",order:17,route:"/investments/other"}},Bm=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],h_=["bg-violet-500","bg-rose-500","bg-blue-500","bg-amber-500","bg-emerald-500"],Nie=[{label:"Family Members",path:"/family",match:"/family"},{label:"Bank Accounts",path:"/accounts/bank",match:"/accounts/bank"},{label:"Investment Accounts",path:"/accounts/investment",match:"/accounts/investment"},{label:"Insurance",path:"/insurance",match:"/insurance"},{label:"Mutual Funds",path:"/investments/mutual-funds",match:"/investments/mutual-funds"},{label:"Stocks",path:"/investments/stocks",match:"/investments/stocks"},{label:"Other Investments",path:"/investments/other",match:"/investments/other"},{label:"Liabilities",path:"/liabilities",match:"/liabilities"},{label:"Goals",path:"/goals",match:"/goals"}],x_={mf:"#8b5cf6",stocks:"#3b82f6",PPF:"#0891b2",EPF:"#06b6d4",NPS:"#0ea5e9",FD:"#14b8a6",RD:"#2dd4bf",SSY:"#f472b6",NSC:"#818cf8",Bonds:"#22d3ee",Debt:"#0ea5e9",Gold:"#fbbf24",Silver:"#94a3b8",Property:"#f97316",Alternative:"#a78bfa",Equity:"#10b981",Other:"#6b7280"},jie={buyopp:"Buy Opportunities",rebalance:"Rebalance Alerts"};function Sie(){const{theme:e,toggle:t}=VO(),{selectedMember:r,setSelectedMember:n,familyMembers:a}=$r(),{mfPortfolios:l,mfHoldings:c,stockPortfolios:u,stockHoldings:f,otherInvList:m,liabilityList:h,refreshData:x,isRefreshing:v}=mt(),{user:b,signOut:S}=Yl(),{masked:y,toggleMask:w,mv:C}=ti(),k=Ul(),A=Na(),{criticalAlerts:M,upcomingReminders:_,investmentSignals:T}=Tee(),[P,O]=N.useState(!1),[z,R]=N.useState(!1),[F,D]=N.useState(null),[Z,Q]=N.useState(!1),J=N.useRef(null),L=N.useRef(null),Y=M.length+_.length,{buyOppCount:q,buyCount:le,strongBuyCount:be,rebalanceCount:B}=T;N.useEffect(()=>{function xe(he){J.current&&!J.current.contains(he.target)&&O(!1),L.current&&!L.current.contains(he.target)&&R(!1)}return(P||z)&&document.addEventListener("mousedown",xe),()=>document.removeEventListener("mousedown",xe)},[P,z]);const se=a.findIndex(xe=>xe.memberId===r),ve=se>=0?a[se]:null,de=N.useMemo(()=>{const xe=(Pe,rt)=>r==="all"?Pe:Pe.filter(Ft=>Ft[rt]===r),he={},ke=(Pe,rt,Ft,it)=>{he[Pe]||(he[Pe]={items:[],invested:0}),he[Pe].items.push({label:rt,value:Ft}),he[Pe].invested+=it};xe((l||[]).filter(Pe=>Pe.status==="Active"),"ownerId").forEach(Pe=>{const rt=(c||[]).filter(ht=>ht.portfolioId===Pe.portfolioId&&ht.units>0),Ft=rt.reduce((ht,Xt)=>ht+Xt.currentValue,0),it=rt.reduce((ht,Xt)=>ht+Xt.investment,0);Ft>0&&ke("mf",Pe.portfolioName?.replace(/^PFL-/,"")||Pe.portfolioName,Ft,it)}),xe((u||[]).filter(Pe=>Pe.status==="Active"),"ownerId").forEach(Pe=>{const rt=(f||[]).filter(ht=>ht.portfolioId===Pe.portfolioId),Ft=rt.reduce((ht,Xt)=>ht+Xt.currentValue,0),it=rt.reduce((ht,Xt)=>ht+Xt.totalInvestment,0);Ft>0&&ke("stocks",Pe.portfolioName,Ft,it)}),xe((m||[]).filter(Pe=>Pe.status==="Active"),"familyMemberId").forEach(Pe=>{const rt=Pe.investmentType||Pe.investmentCategory||"Other";ke(rt,Pe.investmentName||rt,Pe.currentValue,Pe.investedAmount||0)});const ge=Object.entries(he).map(([Pe,{items:rt,invested:Ft}])=>{const it=p_[Pe]||p_.Other,ht=rt.reduce((Xt,Zt)=>Xt+Zt.value,0);return{key:Pe,label:it.label,color:it.color,order:it.order,route:it.route,total:ht,invested:Ft,items:rt.sort((Xt,Zt)=>Zt.value-Xt.value)}}).filter(Pe=>Pe.total>0).sort((Pe,rt)=>Pe.order-rt.order),Be=xe((h||[]).filter(Pe=>Pe.status==="Active"),"familyMemberId"),qe=Be.map(Pe=>({label:Pe.liabilityName||Pe.liabilityType||"Loan",value:Pe.outstandingBalance})),Ke=Be.reduce((Pe,rt)=>Pe+rt.outstandingBalance,0),Nt=ge.reduce((Pe,rt)=>Pe+rt.total,0),_t=ge.reduce((Pe,rt)=>Pe+rt.invested,0);return{netWorth:Nt-Ke,totalInv:Nt,totalInvested:_t,sections:ge,totalLiab:Ke,liabilities:qe}},[r,l,c,u,f,m,h]);function Ne(){O(!1),R(!1)}return s.jsxs("header",{className:"sticky top-0 z-30 shrink-0",children:[s.jsx("style",{children:`
        @keyframes glow-emerald {
          0%, 100% { box-shadow: 0 0 6px rgba(16,185,129,0.3), 0 0 12px rgba(16,185,129,0.15); }
          50% { box-shadow: 0 0 12px rgba(16,185,129,0.5), 0 0 24px rgba(16,185,129,0.25); }
        }
        @keyframes glow-violet {
          0%, 100% { box-shadow: 0 0 6px rgba(139,92,246,0.3), 0 0 12px rgba(139,92,246,0.15); }
          50% { box-shadow: 0 0 12px rgba(139,92,246,0.5), 0 0 24px rgba(139,92,246,0.25); }
        }
        .glow-emerald { animation: glow-emerald 2s ease-in-out infinite; }
        .glow-violet { animation: glow-violet 2s ease-in-out infinite; }
      `}),s.jsx("div",{className:"relative z-10 bg-[var(--bg-header)]/95 backdrop-blur-sm border-b border-[var(--border)]",children:s.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[s.jsxs(Nl,{to:"/investments/mutual-funds",className:"flex items-center gap-2",children:[s.jsx("img",{src:wie,alt:"CF",className:"h-9 sm:h-12 w-auto"}),s.jsxs("span",{className:"hidden sm:flex items-baseline gap-1 text-lg tracking-tight",style:{fontFamily:"'Poppins', sans-serif"},children:[s.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:"Capital"}),s.jsx("span",{className:"font-extrabold text-emerald-400",children:"Friends"})]})]}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[q>0&&s.jsxs("button",{onClick:()=>{D(F==="buyopp"?null:"buyopp"),Ne()},className:`hidden sm:flex glow-emerald items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${F==="buyopp"?"bg-emerald-500/30 text-emerald-300 ring-1 ring-emerald-400/50":"bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25"}`,children:[s.jsx(jp,{size:13,strokeWidth:2.5}),s.jsx("span",{children:be>0?"Buy Opportunities":"Buying Opportunities"}),be>0&&s.jsxs("span",{className:"text-[11px] bg-emerald-500/30 px-1.5 py-0.5 rounded-full",children:[be," Strong"]}),le>0&&s.jsxs("span",{className:"text-[11px] bg-emerald-500/20 px-1.5 py-0.5 rounded-full",children:[le," Buy"]})]}),B>0&&s.jsxs("button",{onClick:()=>{D(F==="rebalance"?null:"rebalance"),Ne()},className:`hidden sm:flex glow-violet items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${F==="rebalance"?"bg-violet-500/30 text-violet-300 ring-1 ring-violet-400/50":"bg-violet-500/15 text-violet-400 hover:bg-violet-500/25"}`,children:[s.jsx(Vo,{size:13,strokeWidth:2.5}),s.jsx("span",{children:"Rebalance Alerts"}),s.jsx("span",{className:"text-[11px] bg-violet-500/30 px-1.5 py-0.5 rounded-full",children:B})]}),s.jsx("button",{onClick:()=>x(!0),disabled:v,className:`p-1.5 sm:p-2 rounded-lg transition-colors ${v?"text-blue-400 cursor-not-allowed":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:"Sync data from Google Sheets",children:s.jsx(Vo,{size:16,className:v?"animate-spin":""})}),s.jsx("button",{onClick:w,className:`hidden sm:block p-2 rounded-lg transition-colors ${y?"text-amber-400 bg-amber-500/10":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:y?"Data masked  click to reveal":"Mask sensitive data",children:y?s.jsx(Xu,{size:18}):s.jsx(wp,{size:18})}),s.jsx("button",{onClick:t,className:"hidden sm:block p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",title:`Switch to ${e==="dark"?"light":"dark"} mode`,children:e==="dark"?s.jsx(Np,{size:18}):s.jsx(ry,{size:18})}),Y>0&&s.jsxs("div",{className:"relative",ref:L,children:[s.jsxs("button",{onClick:()=>{R(!z),O(!1)},className:"relative p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx(_h,{size:18}),s.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-rose-500 rounded-full px-1",children:Y})]}),z&&s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[s.jsx("div",{className:"px-3 py-2 border-b border-[var(--border-light)]",children:s.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Notifications"})}),s.jsxs("div",{className:"max-h-[300px] overflow-y-auto py-1",children:[M.map((xe,he)=>{const ke={critical:"bg-rose-500",warning:"bg-amber-500",info:"bg-blue-500"}[xe.type],re={critical:"bg-rose-500/15 text-rose-400",warning:"bg-amber-500/15 text-amber-400",info:"bg-blue-500/15 text-blue-400"}[xe.type];return s.jsxs("button",{onClick:()=>{R(!1),k(xe.navigateTo)},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${ke}`}),s.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 text-left truncate",children:xe.title}),s.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${re}`,children:xe.badge})]},`c-${he}`)}),M.length>0&&_.length>0&&s.jsx("div",{className:"mx-3 my-1 border-t border-[var(--border-light)]"}),_.map(xe=>{const he=xe.days<=7?"bg-rose-500/15 text-rose-400":xe.days<=15?"bg-amber-500/15 text-amber-400":"bg-slate-500/15 text-[var(--text-muted)]";return s.jsxs("button",{onClick:()=>{R(!1),k("/reminders")},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[s.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-amber-500"}),s.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 truncate",children:xe.title}),s.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${he}`,children:xe.days===0?"Today":xe.days<=30?`${xe.days}d`:xe.dateStr})]},`r-${xe.reminderId}`)})]})]})]}),s.jsxs("div",{className:"relative",ref:J,children:[s.jsxs("button",{onClick:()=>{O(!P),R(!1)},className:"flex items-center gap-1.5 pl-1 pr-2 py-1 rounded-full hover:bg-[var(--bg-hover)] transition-colors",children:[ve?s.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-br ${Bm[se%Bm.length]} flex items-center justify-center text-white text-xs font-bold shadow-sm`,children:ve.memberName.charAt(0)}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm",children:s.jsx(Jo,{size:14})}),s.jsx(Il,{size:14,className:`text-[var(--text-muted)] transition-transform ${P?"rotate-180":""}`})]}),P&&s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[s.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)]",children:s.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Viewing as"})}),s.jsxs("div",{className:"py-1.5",children:[s.jsxs("button",{onClick:()=>{n("all"),O(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${r==="all"?"bg-violet-500/10":"hover:bg-[var(--bg-hover)]"}`,children:[s.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm shrink-0",children:s.jsx(Jo,{size:15})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`text-sm font-semibold truncate ${r==="all"?"text-violet-400":"text-[var(--text-primary)]"}`,children:"Everyone"}),s.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:"All family members"})]}),r==="all"&&s.jsx(yp,{size:16,className:"text-violet-400 shrink-0"})]}),a.length>0&&s.jsx("div",{className:"mx-4 my-1 border-t border-[var(--border-light)]"}),a.map((xe,he)=>{const ke=r===xe.memberId;return s.jsxs("button",{onClick:()=>{n(xe.memberId),O(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${ke?`${h_[he%h_.length]}/10`:"hover:bg-[var(--bg-hover)]"}`,children:[s.jsx("div",{className:`w-9 h-9 rounded-full bg-gradient-to-br ${Bm[he%Bm.length]} flex items-center justify-center text-white text-sm font-bold shadow-sm shrink-0`,children:xe.memberName.charAt(0)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold truncate text-[var(--text-primary)]",children:C(xe.memberName,"name")}),s.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:xe.relationship||"Family member"})]}),ke&&s.jsx(yp,{size:16,className:"text-emerald-400 shrink-0"})]},xe.memberId)})]}),s.jsxs("div",{className:"sm:hidden border-t border-[var(--border-light)] py-1.5",children:[s.jsxs("button",{onClick:()=>{w(),O(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[y?s.jsx(Xu,{size:16}):s.jsx(wp,{size:16}),s.jsx("span",{className:"text-sm font-medium",children:y?"Unmask Data":"Mask Data"})]}),s.jsxs("button",{onClick:()=>{t(),O(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[e==="dark"?s.jsx(Np,{size:16}):s.jsx(ry,{size:16}),s.jsx("span",{className:"text-sm font-medium",children:e==="dark"?"Light Mode":"Dark Mode"})]})]}),s.jsxs("div",{className:"border-t border-[var(--border-light)] py-1.5",children:[s.jsxs(Nl,{to:"/settings",onClick:()=>O(!1),className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx(o5,{size:16}),s.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),b&&s.jsx("div",{className:"px-4 py-1.5",children:s.jsx("p",{className:"text-[11px] text-[var(--text-muted)] truncate",children:C(b.email,"email")})}),s.jsxs("button",{onClick:()=>{S(),O(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-rose-400 hover:bg-rose-500/10 transition-colors",children:[s.jsx(a5,{size:16}),s.jsx("span",{className:"text-sm font-medium",children:"Sign out"})]})]})]})]})]})]})}),s.jsx(Oee,{}),s.jsx("nav",{className:"hidden lg:block bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)]",children:s.jsxs("div",{className:"flex items-center px-3 sm:px-4 py-1.5",children:[s.jsx("div",{className:"flex items-center gap-1 overflow-x-auto no-scrollbar flex-1 min-w-0",children:Nie.map(xe=>{const he=A.pathname.startsWith(xe.match);return s.jsx(Nl,{to:xe.path,className:`whitespace-nowrap px-3 py-1.5 rounded-lg text-[13px] font-medium transition-colors ${he?"bg-violet-500/15 text-violet-400":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:xe.label},xe.path)})}),s.jsxs("button",{onClick:()=>{Q(!0),Ne()},className:`shrink-0 ml-3 flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-colors ${de.netWorth>=0?"bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15":"bg-rose-500/10 border border-rose-500/20 hover:bg-rose-500/15"}`,children:[s.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${de.netWorth>=0?"text-emerald-400/70":"text-rose-400/70"}`,children:"Net Worth"}),s.jsx("span",{className:`text-sm font-extrabold tabular-nums ${de.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:K(de.netWorth)}),s.jsx(Xo,{size:12,className:de.netWorth>=0?"text-emerald-400/60":"text-rose-400/60"})]})]})}),s.jsxs("div",{className:"lg:hidden bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)] px-3 py-1.5 flex items-center gap-2 justify-end",children:[q>0&&s.jsxs("button",{onClick:()=>{D(F==="buyopp"?null:"buyopp"),Ne()},className:"flex items-center gap-1 px-2 py-1 text-[11px] font-bold text-emerald-400 bg-emerald-500/12 border border-emerald-500/25 rounded-full",children:[s.jsx(jp,{size:11,strokeWidth:2.5}),s.jsx("span",{children:q})]}),B>0&&s.jsxs("button",{onClick:()=>{D(F==="rebalance"?null:"rebalance"),Ne()},className:"flex items-center gap-1 px-2 py-1 text-[11px] font-bold text-violet-400 bg-violet-500/12 border border-violet-500/25 rounded-full",children:[s.jsx(Vo,{size:11,strokeWidth:2.5}),s.jsx("span",{children:B})]}),s.jsxs("button",{onClick:()=>{Q(!0),Ne()},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-colors ${de.netWorth>=0?"bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15":"bg-rose-500/10 border border-rose-500/20 hover:bg-rose-500/15"}`,children:[s.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${de.netWorth>=0?"text-emerald-400/70":"text-rose-400/70"}`,children:"Net Worth"}),s.jsx("span",{className:`text-sm font-extrabold tabular-nums ${de.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:K(de.netWorth)}),s.jsx(Xo,{size:12,className:de.netWorth>=0?"text-emerald-400/60":"text-rose-400/60"})]})]}),Z&&(()=>{const xe=de.sections.map(he=>({name:he.label,value:he.total,fill:x_[he.key]||"#6b7280",pct:de.totalInv>0?he.total/de.totalInv*100:0,color:he.color,route:he.route}));return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-3",onClick:()=>Q(!1),children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),s.jsxs("div",{className:"relative w-full md:w-auto md:min-w-[720px] md:max-w-4xl max-h-[85vh] overflow-y-auto bg-[var(--bg-card)] rounded-2xl border border-[var(--border)] shadow-2xl shadow-black/40",onClick:he=>he.stopPropagation(),children:[s.jsx("button",{onClick:()=>Q(!1),className:"absolute top-3 right-3 z-20 p-1.5 rounded-full bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)]",children:s.jsx(Ps,{size:16,className:"text-[var(--text-muted)]"})}),s.jsxs("div",{className:"flex flex-col md:flex-row",children:[s.jsx("div",{className:"flex-shrink-0 md:w-[340px] pt-6 pb-4 md:pb-6 px-6 flex flex-col items-center justify-center md:border-r md:border-[var(--border-light)]",children:s.jsxs("div",{className:"relative w-[200px] h-[200px] md:w-[280px] md:h-[280px]",children:[s.jsx(OT,{width:"100%",height:"100%",children:s.jsxs(D3,{children:[s.jsx(iN,{data:xe,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:"55%",outerRadius:"85%",paddingAngle:3,stroke:"none",children:xe.map((he,ke)=>s.jsx(Ud,{fill:he.fill},ke))}),s.jsx(K4,{content:({active:he,payload:ke})=>{if(!he||!ke?.[0])return null;const re=ke[0].payload;return s.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-2.5 py-1.5 shadow-lg text-xs",children:[s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:re.name}),s.jsx("span",{className:"text-[var(--text-muted)] ml-1.5",children:K(re.value)})]})}})]})}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Net Worth"}),s.jsx("p",{className:"text-lg md:text-xl font-bold text-[var(--text-primary)] tabular-nums",children:K(de.netWorth)})]})]})}),s.jsxs("div",{className:"flex-1 min-w-0 px-3 md:px-5 pt-4 md:pt-6 pb-5 flex flex-col justify-center",children:[s.jsxs("div",{className:"space-y-2",children:[de.sections.map(he=>{const ke=de.totalInv>0?he.total/de.totalInv*100:0,re=x_[he.key]||"#6b7280";return s.jsxs(Nl,{to:he.route,onClick:()=>Q(!1),className:"flex items-center gap-2.5 py-2.5 px-3 rounded-xl transition-colors group",style:{backgroundColor:`${re}12`},children:[s.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:re}}),s.jsx("span",{className:"text-[13px] font-medium text-[var(--text-primary)] flex-1 min-w-0 truncate",children:he.label}),s.jsx("span",{className:"text-[13px] font-bold text-[var(--text-primary)] tabular-nums shrink-0",children:K(he.total)}),s.jsxs("span",{className:"text-[10px] font-medium tabular-nums shrink-0 px-1.5 py-0.5 rounded-full",style:{backgroundColor:`${re}20`,color:re},children:[ke.toFixed(0),"%"]})]},he.key)}),de.totalLiab>0&&s.jsxs(Nl,{to:"/liabilities",onClick:()=>Q(!1),className:"flex items-center gap-2.5 py-2.5 px-3 rounded-xl transition-colors group bg-rose-500/[0.07]",children:[s.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-rose-500"}),s.jsxs("span",{className:"text-[13px] font-medium text-[var(--text-primary)] flex-1 min-w-0",children:[de.liabilities.length," ",de.liabilities.length===1?"Loan":"Loans"]}),s.jsxs("span",{className:"text-[13px] font-bold text-rose-400 tabular-nums shrink-0",children:["",K(de.totalLiab)]})]})]}),s.jsxs("div",{className:"mt-4 pt-3 mx-1 border-t border-[var(--border-light)] flex items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[10px] uppercase tracking-wider text-[var(--text-dim)]",children:"Net Worth"}),s.jsx("span",{className:`text-lg font-bold tabular-nums ${de.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:K(de.netWorth)})]}),s.jsxs("div",{className:"flex flex-col items-end text-[11px] text-[var(--text-dim)] tabular-nums",children:[s.jsxs("span",{children:[K(de.totalInv)," invested"]}),de.totalLiab>0&&s.jsxs("span",{className:"text-rose-400/70",children:["",K(de.totalLiab)," owed"]})]})]})]})]})]})]})})(),F&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-16 sm:pt-24 px-3",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>D(null)}),s.jsxs("div",{className:"relative w-full max-w-3xl max-h-[75vh] rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-2xl shadow-black/40 overflow-hidden flex flex-col animate-in fade-in slide-in-from-top-4 duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--border-light)] shrink-0",children:[s.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:jie[F]}),s.jsx("button",{onClick:()=>D(null),className:"p-1.5 rounded-lg hover:bg-[var(--bg-hover)] text-[var(--text-dim)] transition-colors",children:s.jsx(Ps,{size:16})})]}),s.jsxs("div",{className:"overflow-y-auto p-4",children:[F==="buyopp"&&s.jsx(_3,{}),F==="rebalance"&&s.jsx(vI,{})]})]})]})]})}const Cie=[{label:"Invest",icon:np,path:"/investments/mutual-funds"},{label:"Accounts",icon:Oh,path:"/accounts/bank"},{label:"Goals",icon:Th,path:"/goals"},{label:"Reminders",icon:_h,path:"/reminders"},{label:"More",icon:f8,path:"/more"}];function Aie(){return s.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-[var(--bg-sidebar)] border-t border-[var(--border)] safe-bottom",children:s.jsx("div",{className:"flex items-center justify-around h-[56px]",children:Cie.map(({label:e,icon:t,path:r})=>s.jsx(dO,{to:r,className:({isActive:n})=>`relative flex flex-col items-center justify-center gap-0.5 w-full h-full text-xs font-medium transition-colors ${n?"text-[var(--sidebar-active-text)]":"text-[var(--text-dim)]"}`,children:({isActive:n})=>s.jsxs(s.Fragment,{children:[n&&s.jsx("span",{className:"absolute top-0 w-10 h-[2.5px] bg-[var(--sidebar-active-text)] rounded-b-full"}),s.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-xl transition-colors ${n?"bg-[var(--sidebar-active-bg)]":""}`,children:s.jsx(t,{size:19,strokeWidth:n?2.2:1.5})}),s.jsx("span",{className:n?"font-semibold":"",children:e})]})},r))})})}const kie="/logo-new.png";function Ah(){return s.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:s.jsxs("div",{className:"flex flex-col items-center gap-6",children:[s.jsx("img",{src:kie,alt:"Capital Friends",className:"h-16 w-auto animate-pulse"}),s.jsx("div",{className:"w-40 h-1 rounded-full bg-[var(--border)] overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-violet-500 to-cyan-500 animate-loading-bar"})})]})})}const Mie="jagadeeshmanne.hdfc@kphdfc";function Die(){const{loading:e,error:t}=mt(),[r,n]=N.useState(!1);function a(){navigator.clipboard.writeText(Mie).then(()=>{n(!0),setTimeout(()=>n(!1),2e3)})}return e?s.jsx(Ah,{}):t?s.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:s.jsxs("div",{className:"flex flex-col items-center gap-4 text-center px-6",children:[s.jsx("img",{src:"/logo-new.png",alt:"Capital Friends",className:"h-16 w-auto opacity-50"}),s.jsx("p",{className:"text-rose-400 text-sm font-medium",children:t}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-violet-600 hover:bg-violet-500 text-white transition-colors",children:"Retry"})]})}):s.jsxs("div",{className:"flex flex-col h-dvh bg-[var(--bg-base)] overflow-hidden",children:[s.jsx(Sie,{}),s.jsxs("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-20 lg:pb-0",children:[s.jsx("div",{className:"px-3 sm:px-4 py-3 sm:py-4 w-full max-w-7xl mx-auto",children:s.jsx(lO,{})}),s.jsx("footer",{className:"hidden lg:block border-t border-[var(--border-light)] mt-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex items-center justify-between",children:[s.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"Capital Friends  Family Portfolio Manager"}),s.jsxs("button",{onClick:a,className:"flex items-center gap-1.5 text-[11px] text-[var(--text-dim)] hover:text-pink-400 transition-colors group",children:[s.jsx(td,{size:12,className:"text-pink-400/50 group-hover:text-pink-400 transition-colors"}),r?s.jsxs("span",{className:"flex items-center gap-1 text-pink-400",children:[s.jsx(yp,{size:10})," UPI Copied!"]}):s.jsx("span",{children:"Support the Developer"})]})]})})]}),s.jsx(Aie,{})]})}function Eie(){const{isAuthenticated:e,loading:t}=Yl(),{healthCheckCompleted:r,loading:n}=mt(),a=Na();return t&&!e?s.jsx(Ah,{phase:"auth"}):!e&&!t?s.jsx(vp,{to:"/",replace:!0}):n?s.jsx(Ah,{phase:"data"}):r===!1&&a.pathname!=="/health-check"?s.jsx(vp,{to:"/health-check",replace:!0}):s.jsx(lO,{})}const Fb="/logo-new.png";function gI(){const{isAuthenticated:e,loading:t,error:r,signIn:n}=Yl(),a=Ul(),[l,c]=N.useState(0),[u,f]=N.useState(!1),m=N.useRef(null),h=N.useCallback(()=>{m.current&&clearInterval(m.current),m.current=setInterval(()=>{f(S=>(S||c(y=>(y+1)%4),S))},5e3)},[]);N.useEffect(()=>(h(),()=>{m.current&&clearInterval(m.current)}),[h]);function x(S){c(S),h()}if(N.useEffect(()=>{e&&a("/dashboard",{replace:!0})},[e,a]),t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#080d1a]",children:s.jsx("img",{src:Fb,alt:"",className:"h-16 w-auto animate-pulse"})});const v=[{id:"ath",label:"ATH Tracking",icon:s.jsx(Zo,{size:18}),color:"emerald",tagline:"Spot Buying Opportunities",desc:"See how far each mutual fund is from its All-Time High NAV. When a quality fund dips 10-20% below ATH, it's your signal to invest more  via SIP increase or lumpsum.",mock:s.jsx(Oie,{})},{id:"rebalance",label:"Rebalancing",icon:s.jsx(Vo,{size:18}),color:"violet",tagline:"Know Exactly What to Buy or Sell",desc:"Set target allocation for each fund. When your portfolio drifts, Capital Friends tells you exactly how much to adjust  via SIP changes, lumpsum top-ups, or buy/sell actions.",mock:s.jsx(Tie,{})},{id:"goals",label:"Goal Linking",icon:s.jsx(Th,{size:18}),color:"cyan",tagline:"Link Portfolios to Goals",desc:"Create goals like retirement, child education, or emergency fund. Link MF portfolios with allocation percentages. Goal progress updates automatically as NAVs change daily.",mock:s.jsx(Pie,{})},{id:"dashboard",label:"Family View",icon:s.jsx(Jo,{size:18}),color:"amber",tagline:"Everyone's Wealth, One Dashboard",desc:"Switch between family members in one click. See combined or individual net worth, investments, insurance, loans  everything your family owns, in one place.",mock:s.jsx(_ie,{})}],b=v[l];return s.jsxs("div",{className:"min-h-screen bg-[#080d1a] text-slate-200",children:[s.jsx("header",{className:"sticky top-0 z-50 bg-[#0a0f1f]/95 backdrop-blur-sm border-b border-white/[0.06]",children:s.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:Fb,alt:"CF",className:"h-12 w-auto"}),s.jsxs("span",{className:"flex items-baseline gap-1 text-lg tracking-tight",style:{fontFamily:"'Poppins', sans-serif"},children:[s.jsx("span",{className:"font-bold text-white",children:"Capital"}),s.jsx("span",{className:"font-extrabold text-emerald-400",children:"Friends"})]})]}),s.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-600 to-cyan-600 text-white text-sm font-semibold hover:from-violet-500 hover:to-cyan-500 transition-all cursor-pointer",children:[s.jsx(g_,{s:14})," Sign In"]})]})}),s.jsxs("section",{className:"relative px-5 sm:px-8 lg:px-16 pt-10 sm:pt-14 pb-8 sm:pb-10 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[400px] bg-violet-600/8 rounded-full blur-[120px] pointer-events-none"}),s.jsx("div",{className:"absolute top-20 right-1/4 w-[400px] h-[300px] bg-cyan-600/6 rounded-full blur-[100px] pointer-events-none"}),s.jsxs("div",{className:"relative text-center",children:[s.jsx("span",{className:"inline-block text-xs font-bold uppercase tracking-[0.2em] text-violet-400 bg-violet-500/10 border border-violet-500/20 rounded-full px-4 py-1.5 mb-5",children:"Always Free  100% Private  Your Google Sheet"}),s.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold leading-[1.1] tracking-tight text-white",children:["One dashboard for your family's"," ",s.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-cyan-400 bg-clip-text text-transparent",children:"entire wealth"})]}),s.jsxs("p",{className:"mt-5 text-base sm:text-lg text-slate-400 leading-relaxed max-w-2xl mx-auto",children:["Mutual funds, stocks, FDs, gold, insurance, loans  track everything for every family member. Manual entry means ",s.jsx("strong",{className:"text-white",children:"no bank credentials, no privacy risk"}),"."]}),r&&s.jsx("p",{className:"mt-5 text-sm text-rose-400",children:r})]})]}),s.jsxs("section",{className:"bg-gradient-to-b from-[#0d0a1a] to-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-10 sm:py-14",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3 flex-wrap justify-center",children:[s.jsx(Ts,{size:28,className:"text-amber-400 shrink-0"}),s.jsxs("span",{children:["What happens if something happens to ",s.jsx("span",{className:"text-amber-400",children:"you"}),"?"]})]}),s.jsxs("p",{className:"mt-4 text-lg text-slate-400 leading-relaxed",children:["Your family should know about every investment, every policy, every loan. Not someday. ",s.jsx("strong",{className:"text-white",children:"Right now."})]})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsx(v_,{icon:s.jsx(wp,{size:20}),color:"rose",title:"Without Capital Friends",items:["Scattered investments across 10+ platforms","Family has no idea what you own or owe","Insurance policies lost in email threads","Months of confusion, missed renewals, lost money"],bad:!0}),s.jsx(v_,{icon:s.jsx(Ju,{size:20}),color:"emerald",title:"With Capital Friends",items:["One sheet  every investment, policy, and loan","Family receives email reports with full portfolio details","Reminders for SIPs, renewals, EMI payments","Complete clarity, instantly  when it matters most"]})]}),s.jsxs("p",{className:"text-center mt-8 text-base text-slate-500",children:["Built for ",s.jsx("strong",{className:"text-white",children:"you"})," to manage your wealth  and for your ",s.jsx("strong",{className:"text-white",children:"family"})," to access it when they need to."]})]}),s.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"How it Works"}),s.jsx("p",{className:"text-base text-slate-500",children:"Set up in 2 minutes  no bank credentials, no downloads"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-4",children:[s.jsx(qm,{num:1,icon:s.jsx(I8,{size:24}),color:"violet",title:"Sign In with Google",desc:"Go to capitalfriends.in and sign in with your Google account. That's all  no registration form, no passwords."}),s.jsx(qm,{num:2,icon:s.jsx(x8,{size:24}),color:"emerald",title:"App Creates Your Sheet",desc:"The app creates a private Google Sheet in your own Google Drive. This sheet stores all your financial data. Only you can see it  not even the developer."}),s.jsx(qm,{num:3,icon:s.jsx(e5,{size:24}),color:"cyan",title:"Financial Health Check",desc:"Answer 7 simple yes/no questions about your financial health. Get your score and personalized recommendations instantly."}),s.jsx(qm,{num:4,icon:s.jsx(Zo,{size:24}),color:"amber",title:"Start Tracking",desc:"Add family members, portfolios, goals, insurance, and loans. The app connects to AMFI for live mutual fund prices automatically."})]}),s.jsxs("p",{className:"text-center mt-10 text-sm text-slate-600",children:["Your sheet is named ",s.jsx("strong",{className:"text-slate-400",children:"Capital Friends - Your Name"})," and lives in your Google Drive. The web app is just a beautiful dashboard to view and manage it."]})]}),s.jsxs("section",{id:"features",className:"bg-[#0b1022] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",onMouseEnter:()=>f(!0),onMouseLeave:()=>{f(!1),h()},children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Features That Set Us Apart"}),s.jsx("p",{className:"text-base text-slate-500",children:"Things you won't find on other portfolio trackers"})]}),s.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 mb-10 flex-wrap",children:v.map((S,y)=>{const w=y===l,C={emerald:"border-emerald-500",violet:"border-violet-500",cyan:"border-cyan-500",amber:"border-amber-500"},k={emerald:"text-emerald-400",violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400"};return s.jsxs("button",{onClick:()=>x(y),className:`relative flex items-center gap-2 px-5 py-2.5 rounded-full border text-sm font-semibold transition-all cursor-pointer ${w?`${C[S.color]} bg-white/[0.05] ${k[S.color]}`:"border-white/[0.08] text-slate-500 hover:border-white/[0.15] hover:text-slate-300"}`,children:[s.jsx("span",{className:"shrink-0",children:S.icon}),S.label,w&&s.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-0.5 bg-white/[0.06] rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full bg-current",style:{animation:"featureProgress 5s linear",animationPlayState:u?"paused":"running"}})})]},S.id)})}),s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-8 lg:gap-12",children:[s.jsxs("div",{className:"lg:flex-1 min-h-[280px]",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:b.tagline}),s.jsx("p",{className:"mt-3 text-base text-slate-400 leading-relaxed",children:b.desc}),b.id==="ath"&&s.jsxs("div",{className:"mt-6 space-y-5",children:[s.jsx(Ur,{c:"emerald",t:"ATH tracking only for funds in your portfolios"}),s.jsx(Ur,{c:"emerald",t:"Color-coded signals: watch, consider, buy, strong buy"}),s.jsx(Ur,{c:"emerald",t:"Increase SIP or invest lumpsum when funds dip"}),s.jsx(Ur,{c:"emerald",t:"Daily NAV updates from AMFI data"})]}),b.id==="rebalance"&&s.jsxs("div",{className:"mt-6 space-y-5",children:[s.jsx(Ur,{c:"violet",t:"Adjust monthly SIP to rebalance gradually"}),s.jsx(Ur,{c:"violet",t:"Lumpsum top-up for quick rebalance"}),s.jsx(Ur,{c:"violet",t:"Buy/Sell amounts to match target"}),s.jsx(Ur,{c:"violet",t:"Configurable threshold per portfolio"})]}),b.id==="goals"&&s.jsxs("div",{className:"mt-6 space-y-5",children:[s.jsx(Ur,{c:"cyan",t:"Link multiple MF portfolios to each goal"}),s.jsx(Ur,{c:"cyan",t:"Built-in SIP + lumpsum calculator with inflation"}),s.jsx(Ur,{c:"cyan",t:"Auto-status: On Track, Needs Attention, Achieved"}),s.jsx(Ur,{c:"cyan",t:"Withdrawal planning for retirement goals"})]}),b.id==="dashboard"&&s.jsxs("div",{className:"mt-6 space-y-5",children:[s.jsx(Ur,{c:"amber",t:"One-click switch between family members"}),s.jsx(Ur,{c:"amber",t:"Combined net worth across everyone"}),s.jsx(Ur,{c:"amber",t:"MF, stocks, FD, gold, PPF, NPS, insurance"}),s.jsx(Ur,{c:"amber",t:"Email reports sent to family automatically"})]})]}),s.jsx("div",{className:"lg:flex-1 min-w-0 min-h-[380px] flex flex-col justify-center",children:b.mock})]}),s.jsx("style",{children:`
          @keyframes featureProgress {
            from { width: 0% }
            to { width: 100% }
          }
        `})]}),s.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Everything You Need"}),s.jsx("p",{className:"text-base text-slate-500",children:"One dashboard for your entire financial life"})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[s.jsx(Ss,{icon:s.jsx(Qu,{size:20}),c:"rose",t:"Stock Portfolios",d:"Buy/sell tracking, average cost, P&L with live NSE prices"}),s.jsx(Ss,{icon:s.jsx(U8,{size:20}),c:"orange",t:"FD, Gold, PPF, NPS",d:"Track any investment type  all counted in net worth"}),s.jsx(Ss,{icon:s.jsx(Ju,{size:20}),c:"teal",t:"Insurance Tracker",d:"Life, health, term policies with premiums & renewal dates"}),s.jsx(Ss,{icon:s.jsx(Oh,{size:20}),c:"red",t:"Liabilities",d:"Loans & EMIs. Net worth = total assets minus debts"}),s.jsx(Ss,{icon:s.jsx(_h,{size:20}),c:"yellow",t:"Smart Reminders",d:"SIP dates, renewals, EMI payments, maturity alerts"}),s.jsx(Ss,{icon:s.jsx(Jo,{size:20}),c:"pink",t:"Family Sharing",d:"Invite family with Google accounts  shared dashboard"}),s.jsx(Ss,{icon:s.jsx(Vo,{size:20}),c:"blue",t:"Daily Auto-Refresh",d:"NAVs and stock prices update automatically every day"}),s.jsx(Ss,{icon:s.jsx(Q0,{size:20}),c:"emerald",t:"Complete Privacy",d:"No servers, no database, no tracking  your Sheet only"})]})]}),s.jsxs("section",{className:"border-y border-white/[0.06]",children:[s.jsxs("div",{className:"bg-[#0b1022] px-5 sm:px-8 lg:px-16 py-10 sm:py-14 text-center",children:[s.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3",children:[s.jsx(Q0,{size:28,className:"text-emerald-400 shrink-0"}),"Your Data Never Leaves Google"]}),s.jsxs("p",{className:"mt-3 text-base sm:text-lg text-slate-400 leading-relaxed",children:["No backend server. No database. No tracking. The web app is a static site. Your spreadsheet lives in ",s.jsx("strong",{className:"text-white",children:"your Google Drive"}),". We literally cannot access your financial data."]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row",children:[s.jsx(qb,{icon:s.jsx(Ju,{size:20}),t:"Manual Entry Only",d:"No bank linking, no credentials shared. You type your data  no one else has access.",bg:"bg-[#0d1326]",c:"emerald"}),s.jsx(qb,{icon:s.jsx(Q0,{size:20}),t:"Your Google Sheet",d:"A private spreadsheet in your Drive. Share only with family you choose.",bg:"bg-[#0f1530]",c:"violet"}),s.jsx(qb,{icon:s.jsx(td,{size:20}),t:"Always Free",d:"No premium tier, no hidden fees, no ads. Free today, free forever.",bg:"bg-[#111838]",c:"amber"})]})]}),s.jsxs("section",{className:"bg-gradient-to-t from-[#080d1a] to-[#0d1128] border-t border-white/[0.06] px-5 sm:px-8 lg:px-16 py-16 text-center",children:[s.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white",children:"Start managing your family's wealth today"}),s.jsx("p",{className:"mt-3 text-base text-slate-500",children:"Always free. No credit card. No bank linking. Just your Google account."}),s.jsxs("button",{onClick:n,className:"mt-8 inline-flex items-center gap-2.5 px-8 py-3.5 bg-gradient-to-r from-violet-600 to-cyan-600 text-white font-bold text-base rounded-xl hover:from-violet-500 hover:to-cyan-500 shadow-lg shadow-violet-900/30 transition-all hover:scale-[1.02] cursor-pointer",children:[s.jsx(g_,{s:20})," Sign in with Google  It's Free"]}),r&&s.jsx("p",{className:"mt-3 text-sm text-rose-400",children:r})]}),s.jsxs("footer",{className:"border-t border-white/[0.04] px-5 sm:px-8 lg:px-16 py-5 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1.5 opacity-30",children:[s.jsx("img",{src:Fb,alt:"",className:"h-5 w-auto"}),s.jsxs("span",{className:"text-xs font-bold text-white",style:{fontFamily:"'Poppins', sans-serif"},children:["Capital",s.jsx("span",{class:"text-emerald-400",children:"Friends"})]})]}),s.jsx("p",{className:"text-xs text-slate-600",children:"Your data. Your Google Drive. Your control."})]})]})}function v_({icon:e,title:t,items:r,bad:n}){const a=n?"border-rose-500/15":"border-emerald-500/15",l=n?"bg-rose-500/[0.04]":"bg-emerald-500/[0.04]",c=n?"bg-rose-500/10 text-rose-400":"bg-emerald-500/10 text-emerald-400",u=n?"text-rose-400":"text-emerald-400";return s.jsxs("div",{className:`rounded-2xl border ${a} ${l} p-6`,children:[s.jsxs("h3",{className:`text-lg font-bold ${u} mb-4 flex items-center gap-2.5`,children:[s.jsx("span",{className:`flex items-center justify-center w-8 h-8 rounded-lg ${c} shrink-0`,children:e}),t]}),s.jsx("ul",{className:"space-y-3",children:r.map((f,m)=>s.jsxs("li",{className:"flex items-start gap-2.5",children:[n?s.jsx("span",{className:"text-rose-500/60 mt-0.5 shrink-0",children:""}):s.jsx(bc,{size:16,className:"text-emerald-500 mt-0.5 shrink-0"}),s.jsx("span",{className:"text-sm text-slate-300 leading-relaxed",children:f})]},m))})]})}function _ie(){return s.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f]",children:[s.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Dashboard"}),s.jsx("div",{className:"flex gap-1.5",children:["Everyone","Jagadeesh","Priya","Arjun"].map((e,t)=>s.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ${t===0?"bg-violet-500/20 text-violet-300":"text-slate-600"}`,children:e},e))})]}),s.jsxs("div",{className:"grid grid-cols-3 divide-x divide-white/[0.04]",children:[s.jsx($b,{l:"Net Worth",v:"45.2L",lc:"text-violet-400",vc:"text-white"}),s.jsx($b,{l:"Invested",v:"38.7L",lc:"text-slate-500",vc:"text-slate-300"}),s.jsx($b,{l:"P&L",v:"+6.5L",lc:"text-slate-500",vc:"text-emerald-400",extra:"+16.8%"})]}),s.jsxs("div",{className:"border-t border-white/[0.04]",children:[s.jsx(Bb,{n:"Axis Bluechip Fund",alloc:"30% / 25%",cur:"6.2L",pl:"+24.0%",ath:"5.2%",athC:"text-[#e67e00]",up:!0}),s.jsx(Bb,{n:"Parag Parikh Flexi Cap",alloc:"35% / 40%",cur:"4.8L",pl:"+37.1%",ath:"At ATH",athC:"text-emerald-500",up:!0}),s.jsx(Bb,{n:"SBI Small Cap Fund",alloc:"20% / 15%",cur:"1.8L",pl:"-10.0%",ath:"18.3%",athC:"text-[#d84315]",last:!0})]})]})}function Oie(){const e=[{n:"HDFC Mid-Cap Opportunities",nav:"142.35",ath:"168.50",pct:"15.5%",color:"text-[#d84315]",signal:"Good Buy Signal",sigC:"text-[#d84315] bg-[#d84315]/15"},{n:"Axis Small Cap Fund",nav:"38.22",ath:"52.10",pct:"26.6%",color:"text-[#c62828]",signal:"Strong Buy",sigC:"text-[#c62828] bg-[#c62828]/15 font-bold"},{n:"Kotak Emerging Equity",nav:"89.10",ath:"92.40",pct:"3.6%",color:"text-[#b8860b]",signal:"Watch",sigC:"text-[#b8860b] bg-[#b8860b]/15"},{n:"Mirae Asset Large Cap",nav:"105.80",ath:"106.20",pct:"0.4%",color:"text-slate-500",signal:"Near ATH",sigC:"text-slate-500 bg-white/[0.04]"}];return s.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-semibold text-white",children:"Buy Opportunities"}),s.jsx("span",{className:"text-xs text-emerald-400 font-semibold bg-emerald-500/10 px-2.5 py-1 rounded-full",children:"2 signals"})]}),e.map((t,r)=>s.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${r<e.length-1?"border-b border-white/[0.03]":""}`,children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:t.n}),s.jsxs("p",{className:"text-xs text-slate-600 mt-0.5",children:["NAV ","",t.nav,"  ATH ","",t.ath]})]}),s.jsxs("div",{className:"text-right shrink-0 ml-3",children:[s.jsxs("p",{className:`text-base font-bold tabular-nums ${t.color}`,children:[s.jsx(AF,{size:13,className:"inline -mt-0.5"})," ",t.pct]}),s.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded ${t.sigC}`,children:t.signal})]})]},r))]})}function Tie(){const[e,t]=N.useState(0),r=["SIP Adjust","Lumpsum","Buy / Sell"],n=["New SIP","Lumpsum Top-up","Action"],l=[[{n:"Axis Bluechip",val:"SIP 6,000",cur:"30%",tgt:"25%",action:"Stop SIP",actionC:"text-amber-400"},{n:"Parag Parikh Flexi",val:"SIP 7,000",cur:"35%",tgt:"40%",action:"12,000/mo",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"SIP 4,000",cur:"20%",tgt:"15%",action:"Stop SIP",actionC:"text-amber-400"},{n:"HDFC Large Cap",val:"SIP 3,000",cur:"15%",tgt:"20%",action:"8,000/mo",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"No action",actionC:"text-slate-600"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Invest 55,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"No action",actionC:"text-slate-600"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Invest 45,000",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Buy 50,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Buy 50,000",actionC:"text-emerald-400"}]][e];return s.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-semibold text-white",children:"Rebalance Portfolio"}),s.jsx("span",{className:"text-xs text-violet-400 font-semibold bg-violet-500/10 px-2.5 py-1 rounded-full",children:"4 off-target"})]}),s.jsx("div",{className:"flex border-b border-white/[0.04]",children:r.map((c,u)=>s.jsx("button",{onClick:()=>t(u),className:`flex-1 text-xs font-semibold py-2.5 text-center cursor-pointer transition-colors ${u===e?"text-violet-400 border-b-2 border-violet-400":"text-slate-600 hover:text-slate-400"}`,children:c},c))}),s.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 border-b border-white/[0.04] bg-[#0a0f1f]/50 flex-wrap",children:[s.jsx("span",{className:"text-xs text-slate-500",children:"Portfolio Value"}),s.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","10,00,000"]}),e===0&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-xs text-slate-600",children:"|"}),s.jsx("span",{className:"text-xs text-slate-500",children:"Total SIP"}),s.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","20,000"]})]}),e===1&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-xs text-slate-600",children:"|"}),s.jsx("span",{className:"text-xs text-slate-500",children:"Lumpsum"}),s.jsx("input",{type:"text",readOnly:!0,value:"1,00,000",className:"bg-white/[0.04] border border-white/[0.08] rounded-md px-2 py-1 text-sm text-white font-semibold tabular-nums w-24 text-right cursor-default outline-none"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 text-xs text-slate-600 font-semibold border-b border-white/[0.03]",children:[s.jsx("span",{children:"Fund / Value"}),s.jsx("span",{className:"text-center",children:"Current"}),s.jsx("span",{className:"text-center",children:"Target"}),s.jsx("span",{className:"text-right",children:n[e]})]}),l.map((c,u)=>s.jsxs("div",{className:`grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 items-center ${u<l.length-1?"border-b border-white/[0.03]":""}`,children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("span",{className:"text-sm text-slate-300 truncate block",children:c.n}),s.jsxs("span",{className:"text-[10px] text-slate-600",children:["",c.val]})]}),s.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:c.cur}),s.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:c.tgt}),s.jsx("span",{className:`text-sm text-right font-semibold ${c.actionC}`,children:c.action})]},`${e}-${u}`))]})]})}function Pie(){const e=[{n:"Retirement",tgt:"2Cr",cur:"28.5L",pct:14,sip:"45,000",yrs:"18 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"Child Education",tgt:"50L",cur:"12.2L",pct:24,sip:"15,000",yrs:"12 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"New Car",tgt:"15L",cur:"4.1L",pct:27,sip:"12,000",yrs:"3 yrs",status:"Needs Attention",sc:"text-amber-400 bg-amber-500/15",bc:"bg-amber-500"}];return s.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-semibold text-white",children:"Goals"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-slate-500",children:"2 On Track"}),s.jsx("span",{className:"text-xs text-amber-400",children:"1 Needs Attention"})]})]}),e.map((t,r)=>s.jsxs("div",{className:`px-4 py-3.5 ${r<e.length-1?"border-b border-white/[0.03]":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-semibold text-white",children:t.n}),s.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${t.sc}`,children:t.status})]}),s.jsxs("span",{className:"text-xs text-slate-500",children:["",t.sip,"/mo  ",t.yrs]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex-1 h-2.5 rounded-full bg-white/[0.06] overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full ${t.bc}`,style:{width:`${t.pct}%`}})}),s.jsxs("span",{className:"text-sm font-semibold text-slate-300 tabular-nums w-10 text-right",children:[t.pct,"%"]})]}),s.jsxs("div",{className:"flex justify-between mt-1.5 text-xs text-slate-600",children:[s.jsxs("span",{children:["",t.cur," of ","",t.tgt]}),s.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[s.jsx(n5,{size:10})," 2 portfolios linked"]})]})]},r))]})}function g_({s:e=16}){return s.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,className:"shrink-0",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function $b({l:e,v:t,lc:r,vc:n,extra:a}){return s.jsxs("div",{className:"py-3.5 text-center",children:[s.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${r}`,children:e}),s.jsxs("p",{className:`text-lg font-bold tabular-nums mt-0.5 ${n}`,children:[t,a&&s.jsx("span",{className:"text-sm ml-1 text-emerald-400",children:a})]})]})}function Bb({n:e,alloc:t,cur:r,pl:n,ath:a,athC:l,up:c,last:u}){return s.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${u?"":"border-b border-white/[0.03]"}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-300",children:e}),s.jsxs("p",{className:"text-xs text-slate-600",children:["Alloc ",t,"  ",s.jsx("span",{className:l,children:a!=="At ATH"?`${a} below ATH`:a})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-200 tabular-nums",children:r}),s.jsx("p",{className:`text-sm font-semibold tabular-nums ${c?"text-emerald-400":"text-rose-400"}`,children:n})]})]})}function Ur({c:e,t}){const r={violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400",emerald:"text-emerald-400"};return s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx(bc,{size:16,className:`${r[e]} shrink-0`}),s.jsx("span",{className:"text-sm text-slate-300",children:t})]})}function qm({num:e,icon:t,color:r,title:n,desc:a}){const l={violet:["text-violet-400","bg-violet-500/10","border-violet-500/20","from-violet-500/20 to-violet-500/5"],emerald:["text-emerald-400","bg-emerald-500/10","border-emerald-500/20","from-emerald-500/20 to-emerald-500/5"],cyan:["text-cyan-400","bg-cyan-500/10","border-cyan-500/20","from-cyan-500/20 to-cyan-500/5"],amber:["text-amber-400","bg-amber-500/10","border-amber-500/20","from-amber-500/20 to-amber-500/5"]},[c,u,f,m]=l[r]||l.violet;return s.jsxs("div",{className:`relative rounded-2xl border ${f} bg-gradient-to-b ${m} p-6 text-center`,children:[s.jsx("span",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl ${u} ${c} mb-4`,children:t}),s.jsxs("span",{className:`absolute top-4 right-4 text-xs font-bold ${c} opacity-40`,children:["0",e]}),s.jsx("h3",{className:"text-base font-bold text-white mb-2",children:n}),s.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:a})]})}function qb({icon:e,t,d:r,bg:n,c:a}){const l={emerald:"text-emerald-400",violet:"text-violet-400",amber:"text-amber-400"};return s.jsxs("div",{className:`flex-1 ${n} px-5 sm:px-8 lg:px-10 py-6 sm:py-8 border-b sm:border-b-0 sm:border-r border-white/[0.04] last:border-0`,children:[s.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[s.jsx("span",{className:`${l[a]} shrink-0`,children:e}),t]}),s.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:r})]})}const b_={violet:["text-violet-400","bg-violet-500/8","border-violet-500/10"],blue:["text-blue-400","bg-blue-500/8","border-blue-500/10"],emerald:["text-emerald-400","bg-emerald-500/8","border-emerald-500/10"],cyan:["text-cyan-400","bg-cyan-500/8","border-cyan-500/10"],rose:["text-rose-400","bg-rose-500/8","border-rose-500/10"],orange:["text-orange-400","bg-orange-500/8","border-orange-500/10"],teal:["text-teal-400","bg-teal-500/8","border-teal-500/10"],red:["text-red-400","bg-red-500/8","border-red-500/10"],yellow:["text-yellow-400","bg-yellow-500/8","border-yellow-500/10"],pink:["text-pink-400","bg-pink-500/8","border-pink-500/10"]};function Ss({icon:e,c:t,t:r,d:n}){const[a,l,c]=b_[t]||b_.violet;return s.jsxs("div",{className:`rounded-xl border ${c} ${l} p-5`,children:[s.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[s.jsx("span",{className:`${a} shrink-0`,children:e}),r]}),s.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:n})]})}function Iie(){const{isAuthenticated:e,loading:t}=Yl();return t?s.jsx(Ah,{}):e?s.jsx(vp,{to:"/investments/mutual-funds",replace:!0}):s.jsx(gI,{})}function Rie(){const e=Na();return s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-violet-500/15 rounded-2xl flex items-center justify-center mb-4",children:s.jsx(t8,{size:32,className:"text-violet-400"})}),s.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)] mb-2",children:"Coming Soon"}),s.jsx("p",{className:"text-[var(--text-muted)] text-sm max-w-sm",children:"This page is under construction. Navigate using the sidebar to explore available sections."}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-3 font-mono",children:e.pathname})]})}const Lie=["Savings Account","Current Account","Fixed Deposit (FD)","Recurring Deposit (RD)","NRE Account","NRO Account","Minor Account"].map(e=>({value:e,label:e}));function zie({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:a}=mt(),l=!!e,[c,u]=N.useState({accountName:e?.accountName||"",memberId:e?.memberId||"",bankName:e?.bankName||"",accountNumber:e?.accountNumber||"",ifscCode:e?.ifscCode||"",branchName:e?.branchName||"",accountType:e?.accountType||"",status:e?.status||"Active"}),[f,m]=N.useState({}),[h,x]=N.useState(!1);function v(w,C){u(k=>({...k,[w]:C})),m(k=>({...k,[w]:void 0}))}function b(){const w={};return c.accountName.trim()||(w.accountName="Required"),c.memberId||(w.memberId="Required"),c.bankName.trim()||(w.bankName="Required"),String(c.accountNumber||"").trim()||(w.accountNumber="Required"),c.ifscCode.trim()||(w.ifscCode="Required"),c.branchName.trim()||(w.branchName="Required"),c.accountType||(w.accountType="Required"),m(w),Object.keys(w).length===0}async function S(){if(b()){x(!0);try{await t({...c,ifscCode:c.ifscCode.toUpperCase()})}finally{x(!1)}}}const y=a.map(w=>({value:w.memberId,label:`${w.memberName} (${w.relationship})`}));return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Account Name",required:!0,error:f.accountName,children:s.jsx(Ce,{value:c.accountName,onChange:w=>v("accountName",w),placeholder:"e.g., HDFC Savings"})}),s.jsx(ce,{label:"Family Member",required:!0,error:f.memberId,children:s.jsx(Ge,{value:c.memberId,onChange:w=>v("memberId",w),options:y,placeholder:"Select member..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Bank Name",required:!0,error:f.bankName,children:s.jsx(Ce,{value:c.bankName,onChange:w=>v("bankName",w),placeholder:"e.g., HDFC Bank"})}),s.jsx(ce,{label:"Account Type",required:!0,error:f.accountType,children:s.jsx(Ge,{value:c.accountType,onChange:w=>v("accountType",w),options:Lie,placeholder:"Select type..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Account Number",required:!0,error:f.accountNumber,children:s.jsx(Ce,{sensitive:!0,value:c.accountNumber,onChange:w=>v("accountNumber",w),placeholder:"e.g., 1234567890"})}),s.jsx(ce,{label:"IFSC Code",required:!0,error:f.ifscCode,children:s.jsx(Ce,{value:c.ifscCode,onChange:w=>v("ifscCode",w.toUpperCase()),placeholder:"e.g., HDFC0001234",maxLength:11})})]}),s.jsx(ce,{label:"Branch Name",required:!0,error:f.branchName,children:s.jsx(Ce,{value:c.branchName,onChange:w=>v("branchName",w),placeholder:"e.g., Hyderabad - Kondapur"})}),l&&s.jsx(ce,{label:"Status",children:s.jsx(Ge,{value:c.status,onChange:w=>v("status",w),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[l&&r?s.jsx(Wi,{onClick:r}):s.jsx("div",{}),s.jsx(en,{onCancel:n,onSubmit:S,submitLabel:l?"Update":"Add Account",loading:h})]})]})}function Ki({title:e="Loading"}){return s.jsxs("div",{className:"flex flex-col items-center justify-center py-32 gap-3",children:[s.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),s.jsxs("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:[e,"..."]})]})}const y_={"Savings Account":"bg-blue-500/15 text-[var(--accent-blue)]",Savings:"bg-blue-500/15 text-[var(--accent-blue)]",Salary:"bg-emerald-500/15 text-emerald-400","Current Account":"bg-violet-500/15 text-[var(--accent-violet)]","Fixed Deposit":"bg-amber-500/15 text-[var(--accent-amber)]","Fixed Deposit (FD)":"bg-amber-500/15 text-[var(--accent-amber)]"};function w_(){const{selectedMember:e,member:t}=$r(),{banks:r,addBankAccount:n,updateBankAccount:a,deleteBankAccount:l}=mt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=Ja(),m=ei(),{mv:h}=ti(),[x,v]=N.useState(null);if(r===null)return s.jsx(Ki,{title:"Loading bank accounts",cards:3});const b=N.useMemo(()=>{const k=r.filter(A=>A.status!=="Inactive");return e==="all"?k:k.filter(A=>A.memberId===e)},[r,e]),S=N.useMemo(()=>new Set(b.map(k=>k.bankName)).size,[b]),y=N.useMemo(()=>b.filter(k=>k.accountType==="Savings"||k.accountType==="Savings Account"||k.accountType==="Salary").length,[b]);async function w(k){u("Saving...");try{x?.edit?await a(x.edit.accountId,k):await n(k),c(x?.edit?"Bank account updated":"Bank account added"),v(null)}catch(A){c(A.message||"Failed to save bank account","error")}finally{f()}}async function C(){if(x?.edit&&await m("Deactivate this bank account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){u("Deactivating...");try{await l(x.edit.accountId),c("Bank account deactivated"),v(null)}catch(k){c(k.message||"Failed to deactivate bank account","error")}finally{f()}}}return s.jsxs("div",{className:"space-y-4",children:[b.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(M8,{size:32,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No bank accounts",t?` for ${t.memberName}`:""]}),s.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first bank account"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[s.jsx(Hb,{label:"Total Accounts",value:b.length}),s.jsx(Hb,{label:"Banks",value:S}),s.jsx(Hb,{label:"Savings / Salary",value:y})]}),s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Fr,{size:14})," Add Account"]})}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[580px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Bank"}),!t&&s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account No."}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Branch"}),s.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),s.jsx("tbody",{children:b.map(k=>s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsx("td",{className:"py-2.5 px-4",children:s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:k.accountName})}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:k.bankName}),!t&&s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:h(k.memberName,"name")}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${y_[k.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:k.accountType})}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:h(k.accountNumber,"account")}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:k.branchName}),s.jsx("td",{className:"py-2.5 px-2",children:s.jsx("button",{onClick:()=>v({edit:k}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:s.jsx(ja,{size:12})})})]},k.accountId))})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(k=>s.jsxs("div",{onClick:()=>v({edit:k}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:k.accountName}),s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${y_[k.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:k.accountType})]}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[k.bankName,t?"":`  ${h(k.memberName,"name")}`]}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:h(k.accountNumber,"account")}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:k.branchName})]})]},k.accountId))})]})]}),s.jsx(mr,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Bank Account":"Add Bank Account",children:s.jsx(zie,{initial:x?.edit||void 0,onSave:w,onDelete:x?.edit?C:void 0,onCancel:()=>v(null)})})]})}function Hb({label:e,value:t}){return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:t})]})}const Fie=["Demat + Trading","Mutual Fund","Trading","Direct AMC","Broker"].map(e=>({value:e,label:e}));function $ie({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:a,activeBanks:l}=mt(),c=!!e,[u,f]=N.useState({accountName:e?.accountName||"",memberId:e?.memberId||"",bankAccountId:e?.bankAccountId||"",accountType:e?.accountType||"",platformBroker:e?.platformBroker||"",accountClientId:e?.accountClientId||"",dematDpId:e?.dematDpId||"",registeredEmail:e?.registeredEmail||"",registeredPhone:e?.registeredPhone||"",status:e?.status||"Active"}),[m,h]=N.useState({}),[x,v]=N.useState(!1);function b(A,M){f(_=>({..._,[A]:M})),h(_=>({..._,[A]:void 0}))}function S(A){f(M=>({...M,memberId:A,bankAccountId:""})),h(M=>({...M,memberId:void 0}))}function y(){const A={};return u.accountName.trim()||(A.accountName="Required"),u.memberId||(A.memberId="Required"),u.bankAccountId||(A.bankAccountId="Required"),u.accountType||(A.accountType="Required"),u.platformBroker.trim()||(A.platformBroker="Required"),u.registeredEmail.trim()||(A.registeredEmail="Required"),u.registeredPhone.trim()||(A.registeredPhone="Required"),h(A),Object.keys(A).length===0}async function w(){if(y()){v(!0);try{await t(u)}finally{v(!1)}}}const C=a.map(A=>({value:A.memberId,label:`${A.memberName} (${A.relationship})`})),k=N.useMemo(()=>u.memberId?l.filter(A=>A.memberId===u.memberId).map(A=>({value:A.accountId,label:`${A.accountName} - ${A.bankName}`})):[],[l,u.memberId]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Account Name",required:!0,error:m.accountName,children:s.jsx(Ce,{value:u.accountName,onChange:A=>b("accountName",A),placeholder:"e.g., Zerodha Demat"})}),s.jsx(ce,{label:"Family Member",required:!0,error:m.memberId,children:s.jsx(Ge,{value:u.memberId,onChange:S,options:C,placeholder:"Select member..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Linked Bank Account",required:!0,error:m.bankAccountId,children:s.jsx(Ge,{value:u.bankAccountId,onChange:A=>b("bankAccountId",A),options:k,placeholder:u.memberId?k.length?"Select bank account...":"No bank accounts for this member":"Select member first..."})}),s.jsx(ce,{label:"Account Type",required:!0,error:m.accountType,children:s.jsx(Ge,{value:u.accountType,onChange:A=>b("accountType",A),options:Fie,placeholder:"Select type..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Platform / Broker",required:!0,error:m.platformBroker,children:s.jsx(Ce,{value:u.platformBroker,onChange:A=>b("platformBroker",A),placeholder:"e.g., Zerodha, Groww"})}),s.jsx(ce,{label:"Account / Client ID",error:m.accountClientId,children:s.jsx(Ce,{sensitive:!0,value:u.accountClientId,onChange:A=>b("accountClientId",A),placeholder:"e.g., ZR1234 (optional)"})})]}),s.jsx(ce,{label:"Demat DP ID",error:m.dematDpId,children:s.jsx(Ce,{sensitive:!0,value:u.dematDpId,onChange:A=>b("dematDpId",A),placeholder:"16-digit DP ID (optional)",maxLength:16})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Registered Email",required:!0,error:m.registeredEmail,children:s.jsx(Ce,{sensitive:!0,type:"email",value:u.registeredEmail,onChange:A=>b("registeredEmail",A),placeholder:"email@example.com"})}),s.jsx(ce,{label:"Registered Phone",required:!0,error:m.registeredPhone,children:s.jsx(Ce,{sensitive:!0,value:u.registeredPhone,onChange:A=>b("registeredPhone",A),placeholder:"9876543210"})})]}),c&&s.jsx(ce,{label:"Status",children:s.jsx(Ge,{value:u.status,onChange:A=>b("status",A),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[c&&r?s.jsx(Wi,{onClick:r}):s.jsx("div",{}),s.jsx(en,{onCancel:n,onSubmit:w,submitLabel:c?"Update":"Add Account",loading:x})]})]})}const N_={"Demat + Trading":"bg-violet-500/15 text-[var(--accent-violet)]","Mutual Fund":"bg-blue-500/15 text-[var(--accent-blue)]",Trading:"bg-orange-500/15 text-[var(--accent-orange)]",Demat:"bg-amber-500/15 text-[var(--accent-amber)]","Direct AMC":"bg-emerald-500/15 text-emerald-400",Broker:"bg-rose-500/15 text-[var(--accent-rose)]"};function Bie(){const{selectedMember:e,member:t}=$r(),{investmentAccounts:r,addInvestmentAccount:n,updateInvestmentAccount:a,deleteInvestmentAccount:l}=mt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=Ja(),m=ei(),{mv:h}=ti(),[x,v]=N.useState(null);if(r===null)return s.jsx(Ki,{title:"Loading investment accounts",cards:4});const b=N.useMemo(()=>{const A=r.filter(M=>M.status!=="Inactive");return e==="all"?A:A.filter(M=>M.memberId===e)},[r,e]),S=N.useMemo(()=>new Set(b.map(A=>A.platformBroker)).size,[b]),y=b.filter(A=>A.accountType==="Demat + Trading"||A.accountType==="Demat"||A.accountType==="Trading").length,w=b.filter(A=>A.accountType==="Mutual Fund"||A.accountType==="Direct AMC").length;async function C(A){u("Saving...");try{x?.edit?await a(x.edit.accountId,A):await n(A),c(x?.edit?"Investment account updated":"Investment account added"),v(null)}catch(M){c(M.message||"Failed to save investment account","error")}finally{f()}}async function k(){if(x?.edit&&await m("Deactivate this investment account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){u("Deactivating...");try{await l(x.edit.accountId),c("Investment account deactivated"),v(null)}catch(A){c(A.message||"Failed to deactivate investment account","error")}finally{f()}}}return s.jsxs("div",{className:"space-y-4",children:[b.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(XO,{size:32,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No investment accounts",t?` for ${t.memberName}`:""]}),s.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first investment account"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[s.jsx(Hm,{label:"Total Accounts",value:b.length}),s.jsx(Hm,{label:"Platforms",value:S}),s.jsx(Hm,{label:"Demat / Trading",value:y}),s.jsx(Hm,{label:"Mutual Fund",value:w})]}),s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Fr,{size:14})," Add Account"]})}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[620px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Platform"}),!t&&s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Client ID"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Bank"}),s.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),s.jsx("tbody",{children:b.map(A=>s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsx("td",{className:"py-2.5 px-4",children:s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:A.accountName})}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:A.platformBroker}),!t&&s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:h(A.memberName,"name")}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${N_[A.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:A.accountType})}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:h(A.accountClientId,"clientId")}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:A.bankAccountName}),s.jsx("td",{className:"py-2.5 px-2",children:s.jsx("button",{onClick:()=>v({edit:A}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:s.jsx(ja,{size:12})})})]},A.accountId))})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(A=>s.jsxs("div",{onClick:()=>v({edit:A}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:A.accountName}),s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${N_[A.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:A.accountType})]}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[A.platformBroker,t?"":`  ${h(A.memberName,"name")}`]}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Client: ",h(A.accountClientId,"clientId")]}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:A.bankAccountName})]})]},A.accountId))})]})]}),s.jsx(mr,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Investment Account":"Add Investment Account",wide:!0,children:s.jsx($ie,{initial:x?.edit||void 0,onSave:C,onDelete:x?.edit?k:void 0,onCancel:()=>v(null)})})]})}function Hm({label:e,value:t}){return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:t})]})}const qie=["Term Life","Health","Motor","Home Insurance","Travel","Personal Accident","Life Insurance","Others"].map(e=>({value:e,label:e})),Hie=[{value:"Active",label:"Active"},{value:"Expired",label:"Expired"},{value:"Surrendered",label:"Surrendered"},{value:"Lapsed",label:"Lapsed"},{value:"Inactive",label:"Inactive"}];function Uie({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:a}=mt(),l=!!e,[c,u]=N.useState({policyType:e?.policyType||"",company:e?.company||"",policyNumber:e?.policyNumber||"",policyName:e?.policyName||"",insuredMember:e?.insuredMember||"",memberId:e?.memberId||"",sumAssured:e?.sumAssured||"",nominee:e?.nominee||"",premium:e?.premium||"",premiumFrequency:e?.premiumFrequency||"Annual",status:e?.status||"Active",notes:e?.notes||""}),[f,m]=N.useState({}),[h,x]=N.useState(!1);function v(C,k){u(A=>({...A,[C]:k})),m(A=>({...A,[C]:void 0}))}function b(C){const k=a.find(A=>A.memberId===C);u(A=>({...A,memberId:C,insuredMember:k?.memberName||""})),m(A=>({...A,memberId:void 0}))}function S(){const C={};return c.policyType||(C.policyType="Required"),c.company.trim()||(C.company="Required"),c.policyNumber.trim()||(C.policyNumber="Required"),c.policyName.trim()||(C.policyName="Required"),c.memberId||(C.memberId="Required"),(!c.sumAssured||Number(c.sumAssured)<=0)&&(C.sumAssured="Must be > 0"),m(C),Object.keys(C).length===0}async function y(){if(S()){x(!0);try{await t({...c,sumAssured:Number(c.sumAssured),premium:Number(c.premium)||0})}finally{x(!1)}}}const w=a.map(C=>({value:C.memberId,label:`${C.memberName} (${C.relationship})`}));return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Policy Type",required:!0,error:f.policyType,children:s.jsx(Ge,{value:c.policyType,onChange:C=>v("policyType",C),options:qie,placeholder:"Select type..."})}),s.jsx(ce,{label:"Insurance Company",required:!0,error:f.company,children:s.jsx(Ce,{value:c.company,onChange:C=>v("company",C),placeholder:"e.g., HDFC Life"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Policy Number",required:!0,error:f.policyNumber,children:s.jsx(Ce,{sensitive:!0,value:c.policyNumber,onChange:C=>v("policyNumber",C),placeholder:"e.g., HL-2024-78901"})}),s.jsx(ce,{label:"Policy Name",required:!0,error:f.policyName,children:s.jsx(Ce,{value:c.policyName,onChange:C=>v("policyName",C),placeholder:"e.g., Click 2 Protect Life"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Insured Member",required:!0,error:f.memberId,children:s.jsx(Ge,{value:c.memberId,onChange:b,options:w,placeholder:"Select member..."})}),s.jsx(ce,{label:"Nominee",children:s.jsx(Ge,{value:c.nominee,onChange:C=>v("nominee",C),options:w.map(C=>({...C,label:C.label.split(" (")[0]})),placeholder:"Select nominee (optional)..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(ce,{label:"Sum Assured ()",required:!0,error:f.sumAssured,children:s.jsx(Ce,{type:"number",value:c.sumAssured,onChange:C=>v("sumAssured",C),placeholder:"e.g., 10000000"})}),s.jsx(ce,{label:"Premium ()",children:s.jsx(Ce,{type:"number",value:c.premium,onChange:C=>v("premium",C),placeholder:"e.g., 12500"})}),s.jsx(ce,{label:"Premium Frequency",children:s.jsx(Ge,{value:c.premiumFrequency,onChange:C=>v("premiumFrequency",C),options:[{value:"Annual",label:"Annual"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"}]})})]}),l&&s.jsx(ce,{label:"Status",children:s.jsx(Ge,{value:c.status,onChange:C=>v("status",C),options:Hie})}),s.jsx(ce,{label:"Notes",children:s.jsx(mc,{value:c.notes,onChange:C=>v("notes",C),placeholder:"Additional information..."})}),s.jsxs("div",{className:"flex items-center justify-between",children:[l&&r?s.jsx(Wi,{onClick:r}):s.jsx("div",{}),s.jsx(en,{onCancel:n,onSubmit:y,submitLabel:l?"Update":"Add Policy",loading:h})]})]})}const j_={"Term Life":"bg-rose-500/15 text-[var(--accent-rose)]",Health:"bg-emerald-500/15 text-emerald-400",Motor:"bg-blue-500/15 text-[var(--accent-blue)]","Home Insurance":"bg-amber-500/15 text-[var(--accent-amber)]",Travel:"bg-violet-500/15 text-[var(--accent-violet)]","Life Insurance":"bg-rose-500/15 text-[var(--accent-rose)]","Personal Accident":"bg-orange-500/15 text-[var(--accent-orange)]"};function Yie(){const{selectedMember:e,member:t}=$r(),{insurancePolicies:r,addInsurance:n,updateInsurance:a,deleteInsurance:l}=mt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=Ja(),m=ei(),{mv:h}=ti(),[x,v]=N.useState(null);if(r===null)return s.jsx(Ki,{title:"Loading insurance",cards:5});const b=N.useMemo(()=>{const M=r.filter(_=>_.status!=="Inactive");return e==="all"?M:M.filter(_=>_.memberId===e)},[r,e]),S=b.reduce((M,_)=>M+(_.sumAssured||0),0),y=b.reduce((M,_)=>M+(_.premium||0),0),w=b.filter(M=>M.policyType==="Term Life"||M.policyType==="Life Insurance").reduce((M,_)=>M+(_.sumAssured||0),0),C=b.filter(M=>M.policyType==="Health").reduce((M,_)=>M+(_.sumAssured||0),0);async function k(M){u("Saving...");try{x?.edit?await a(x.edit.policyId,M):await n(M),c(x?.edit?"Insurance policy updated":"Insurance policy added"),v(null)}catch(_){c(_.message||"Failed to save insurance policy","error")}finally{f()}}async function A(){if(x?.edit&&await m("Deactivate this insurance policy?",{title:"Deactivate Policy",confirmLabel:"Deactivate"})){u("Deactivating...");try{await l(x.edit.policyId),c("Insurance policy deactivated"),v(null)}catch(M){c(M.message||"Failed to deactivate insurance policy","error")}finally{f()}}}return s.jsxs("div",{className:"space-y-4",children:[b.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(Ju,{size:32,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No insurance policies",t?` for ${t.memberName}`:""]}),s.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first policy"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[s.jsx($u,{label:"Policies",value:b.length}),s.jsx($u,{label:"Total Cover",value:K(S),bold:!0}),s.jsx($u,{label:"Life Cover",value:K(w)}),s.jsx($u,{label:"Health Cover",value:K(C)}),s.jsx($u,{label:"Annual Premium",value:K(y)})]}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[s.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-3",children:"Coverage Adequacy"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsx(S_,{label:"Life Insurance",current:w,recommended:"10-15x annual income",tip:"Term life cover should be 10-15x your annual income to protect dependents",icon:"heart"}),s.jsx(S_,{label:"Health Insurance",current:C,recommended:"50L - 1Cr family floater",tip:"Considering medical inflation, a 50L-1Cr family floater is recommended",icon:"shield"})]})]}),s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Fr,{size:14})," Add Policy"]})}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Policy"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Company"}),!t&&s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Insured"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Sum Assured"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Premium"}),s.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),s.jsx("tbody",{children:b.map(M=>s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsxs("td",{className:"py-2.5 px-4",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.policyName}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:h(M.policyNumber,"policy")})]}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${j_[M.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.policyType})}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.company}),!t&&s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.insuredMember}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(M.sumAssured)}),s.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:[K(M.premium),"/",M.premiumFrequency==="Annual"?"yr":"mo"]}),s.jsx("td",{className:"py-2.5 px-2",children:s.jsx("button",{onClick:()=>v({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:s.jsx(ja,{size:12})})})]},M.policyId))})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(M=>s.jsxs("div",{onClick:()=>v({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:M.policyName}),s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${j_[M.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.policyType})]}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.company,t?"":`  ${M.insuredMember}`]}),s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Cover"}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(M.sumAssured)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Premium"}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[K(M.premium),"/",M.premiumFrequency==="Annual"?"yr":"mo"]})]})]})]},M.policyId))})]})]}),s.jsx(mr,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Insurance Policy":"Add Insurance Policy",wide:!0,children:s.jsx(Uie,{initial:x?.edit||void 0,onSave:k,onDelete:x?.edit?A:void 0,onCancel:()=>v(null)})})]})}function S_({label:e,current:t,recommended:r,tip:n}){const a=t===0;return s.jsxs("div",{className:`rounded-lg border px-3 py-2.5 ${a?"border-rose-500/30 bg-rose-500/5":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:e}),a?s.jsx("span",{className:"text-xs font-bold text-[var(--accent-rose)]",children:"Not covered"}):s.jsx("span",{className:"text-xs font-semibold text-emerald-400",children:K(t)})]}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Recommended: ",r]}),s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5 italic",children:n})]})}function $u({label:e,value:t,bold:r}){return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm tabular-nums ${r?"font-bold":"font-semibold"} text-[var(--text-primary)]`,children:t})]})}const Vie=["Home Loan","Car Loan","Personal Loan","Education Loan","Gold Loan","Credit Card","Business Loan","Loan Against Property","Other"].map(e=>({value:e,label:e})),Gie=[{value:"Active",label:"Active"},{value:"Closed",label:"Closed"},{value:"Inactive",label:"Inactive"}];function Wie({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:a,otherInvList:l}=mt(),c=!!e,[u,f]=N.useState({liabilityType:e?.liabilityType||"",lenderName:e?.lenderName||"",familyMemberId:e?.familyMemberId||"",outstandingBalance:e?.outstandingBalance||"",emiAmount:e?.emiAmount||"",interestRate:e?.interestRate||"",linkedInvestmentId:e?.linkedInvestmentId||"",status:e?.status||"Active",notes:e?.notes||""}),[m,h]=N.useState({}),[x,v]=N.useState(!1);function b(A,M){f(_=>({..._,[A]:M})),h(_=>({..._,[A]:void 0}))}function S(){const A={};return u.liabilityType||(A.liabilityType="Required"),u.lenderName.trim()||(A.lenderName="Required"),(!u.outstandingBalance||Number(u.outstandingBalance)<=0)&&(A.outstandingBalance="Must be > 0"),h(A),Object.keys(A).length===0}async function y(){if(S()){v(!0);try{await t({...u,outstandingBalance:Number(u.outstandingBalance),emiAmount:Number(u.emiAmount)||0,interestRate:Number(u.interestRate)||0,linkedInvestmentId:u.linkedInvestmentId||""})}finally{v(!1)}}}const w=a.map(A=>({value:A.memberId,label:`${A.memberName} (${A.relationship})`})),C=(l||[]).filter(A=>A.status!=="Inactive"),k=[{value:"",label:"None"},...C.map(A=>({value:A.investmentId,label:`${A.investmentName} (${A.investmentType}  ${K(A.currentValue)})`}))];return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Liability Type",required:!0,error:m.liabilityType,children:s.jsx(Ge,{value:u.liabilityType,onChange:A=>b("liabilityType",A),options:Vie,placeholder:"Select type..."})}),s.jsx(ce,{label:"Lender / Bank",required:!0,error:m.lenderName,children:s.jsx(Ce,{value:u.lenderName,onChange:A=>b("lenderName",A),placeholder:"e.g., HDFC Bank"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Family Member",children:s.jsx(Ge,{value:u.familyMemberId,onChange:A=>b("familyMemberId",A),options:w,placeholder:"Select member (optional)..."})}),s.jsx(ce,{label:"Outstanding Balance ()",required:!0,error:m.outstandingBalance,children:s.jsx(Ce,{type:"number",value:u.outstandingBalance,onChange:A=>b("outstandingBalance",A),placeholder:"e.g., 3500000"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"EMI Amount ()",children:s.jsx(Ce,{type:"number",value:u.emiAmount,onChange:A=>b("emiAmount",A),placeholder:"e.g., 32000"})}),s.jsx(ce,{label:"Interest Rate (%)",children:s.jsx(Ce,{type:"number",value:u.interestRate,onChange:A=>b("interestRate",A),placeholder:"e.g., 8.5",step:"0.01"})})]}),s.jsx(ce,{label:"Linked Investment",children:s.jsx(Ge,{value:u.linkedInvestmentId,onChange:A=>b("linkedInvestmentId",A),options:k,placeholder:"Link to an investment (optional)..."})}),c&&s.jsx(ce,{label:"Status",children:s.jsx(Ge,{value:u.status,onChange:A=>b("status",A),options:Gie})}),s.jsx(ce,{label:"Notes",children:s.jsx(mc,{value:u.notes,onChange:A=>b("notes",A),placeholder:"e.g., Flat in Kondapur"})}),s.jsxs("div",{className:"flex items-center justify-between",children:[c&&r?s.jsx(Wi,{onClick:r}):s.jsx("div",{}),s.jsx(en,{onCancel:n,onSubmit:y,submitLabel:c?"Update":"Add Liability",loading:x})]})]})}const C_={"Home Loan":"bg-blue-500/15 text-[var(--accent-blue)]","Car Loan":"bg-amber-500/15 text-[var(--accent-amber)]","Gold Loan":"bg-orange-500/15 text-[var(--accent-orange)]","Personal Loan":"bg-violet-500/15 text-[var(--accent-violet)]","Education Loan":"bg-emerald-500/15 text-emerald-400","Credit Card":"bg-rose-500/15 text-[var(--accent-rose)]"};function Kie(){const{selectedMember:e,member:t}=$r(),{liabilityList:r,otherInvList:n,addLiability:a,updateLiability:l,deleteLiability:c}=mt(),{showToast:u,showBlockUI:f,hideBlockUI:m}=Ja(),h=ei(),[x,v]=N.useState(null);if(r===null)return s.jsx(Ki,{title:"Loading liabilities",cards:4});const b=N.useMemo(()=>{const M=r.filter(_=>_.status!=="Inactive");return e==="all"?M:M.filter(_=>_.familyMemberId===e)},[r,e]),S=b.reduce((M,_)=>M+(_.outstandingBalance||0),0),y=b.reduce((M,_)=>M+(_.emiAmount||0),0),w=b.filter(M=>M.status==="Active").length,C=N.useMemo(()=>{const M={};return n&&n.forEach(_=>{M[_.investmentId]=_}),M},[n]);async function k(M){f("Saving...");try{x?.edit?await l(x.edit.liabilityId,M):await a(M),u(x?.edit?"Liability updated":"Liability added"),v(null)}catch(_){u(_.message||"Failed to save liability","error")}finally{m()}}async function A(){if(x?.edit&&await h("Deactivate this liability?",{title:"Deactivate Liability",confirmLabel:"Deactivate"})){f("Deactivating...");try{await c(x.edit.liabilityId),u("Liability deactivated"),v(null)}catch(M){u(M.message||"Failed to deactivate liability","error")}finally{m()}}}return s.jsxs("div",{className:"space-y-4",children:[b.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(Oh,{size:32,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No liabilities",t?` for ${t.memberName}`:""]}),s.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a liability"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[s.jsx(Um,{label:"Liabilities",value:`${w} active`}),s.jsx(Um,{label:"Outstanding",value:K(S),color:"rose",bold:!0}),s.jsx(Um,{label:"Monthly EMI",value:K(y),color:"rose"}),s.jsx(Um,{label:"Avg. Interest",value:b.length>0?`${(b.reduce((M,_)=>M+(_.interestRate||0),0)/b.length).toFixed(1)}%`:""})]}),s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Fr,{size:14})," Add Liability"]})}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Lender"}),!t&&s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Outstanding"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"EMI"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Interest"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Remaining"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Asset"}),s.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),s.jsx("tbody",{children:b.map(M=>s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsxs("td",{className:"py-2.5 px-4",children:[s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${C_[M.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.liabilityType}),M.notes&&s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:M.notes})]}),s.jsx("td",{className:"py-2.5 px-3 text-sm font-medium text-[var(--text-primary)]",children:M.lenderName}),!t&&s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.familyMemberName}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:K(M.outstandingBalance)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:M.emiAmount?`${K(M.emiAmount)}/mo`:""}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:M.interestRate?`${M.interestRate}%`:""}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:M.emiAmount>0&&M.outstandingBalance>0?`${Math.ceil(M.outstandingBalance/M.emiAmount)} mo`:""}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:M.linkedInvestmentId&&C[M.linkedInvestmentId]?s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-primary)]",children:C[M.linkedInvestmentId].investmentName}),s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:C[M.linkedInvestmentId].investmentType})]}):s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),s.jsx("td",{className:"py-2.5 px-2",children:s.jsx("button",{onClick:()=>v({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:s.jsx(ja,{size:12})})})]},M.liabilityId))})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(M=>s.jsxs("div",{onClick:()=>v({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${C_[M.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.liabilityType}),s.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:K(M.outstandingBalance)})]}),s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.lenderName}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.familyMemberName,M.notes?`  ${M.notes}`:""]}),s.jsxs("div",{className:"text-right",children:[M.emiAmount>0&&s.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["EMI: ",K(M.emiAmount),"/mo"]}),M.emiAmount>0&&M.outstandingBalance>0&&s.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[Math.ceil(M.outstandingBalance/M.emiAmount)," months left"]})]})]}),M.linkedInvestmentId&&C[M.linkedInvestmentId]&&s.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-blue-500/5 rounded px-2 py-1",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Linked"}),s.jsx("span",{className:"text-xs text-[var(--text-secondary)]",children:C[M.linkedInvestmentId].investmentName})]})]},M.liabilityId))})]})]}),s.jsx(mr,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Liability":"Add Liability",children:s.jsx(Wie,{initial:x?.edit||void 0,onSave:k,onDelete:x?.edit?A:void 0,onCancel:()=>v(null)})})]})}function Um({label:e,value:t,color:r,bold:n}){const a=r==="rose"?"text-[var(--accent-rose)]":"text-[var(--text-primary)]";return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm tabular-nums ${n?"font-bold":"font-semibold"} ${a}`,children:t})]})}const Qie="cf_market_data",bI=[{value:"Fixed Deposit",category:"Debt"},{value:"PPF",category:"Debt"},{value:"EPF",category:"Debt"},{value:"NPS",category:"Debt"},{value:"Sovereign Gold Bond",category:"Gold"},{value:"Physical Gold",category:"Gold"},{value:"Digital Gold",category:"Gold"},{value:"Real Estate",category:"Property"},{value:"Vehicle",category:"Property"},{value:"Bonds",category:"Debt"},{value:"Physical Silver",category:"Silver"},{value:"Digital Silver",category:"Silver"},{value:"Crypto",category:"Alternative"},{value:"Other",category:"Other"}],Ub={"Real Estate":"Home Loan",Vehicle:"Car Loan"},Xie=bI.map(e=>({value:e.value,label:e.value})),Zie=["Equity","Debt","Gold","Silver","Property","Alternative","Other"].map(e=>({value:e,label:e})),Jie=[{value:"Active",label:"Active"},{value:"Sold",label:"Sold"},{value:"Matured",label:"Matured"},{value:"Inactive",label:"Inactive"}],A_=[{value:"24K",label:"24K (99.9%)",factor:.999},{value:"22K",label:"22K (91.6%)",factor:.916},{value:"18K",label:"18K (75.0%)",factor:.75}],k_=[{value:"999",label:"999 Fine (99.9%)",factor:.999},{value:"925",label:"925 Sterling (92.5%)",factor:.925}];function hp(e){return["Physical Gold","Digital Gold","Sovereign Gold Bond"].includes(e)}function ese(e){return["Physical Silver","Digital Silver"].includes(e)||e&&e.toLowerCase().includes("silver")}function Yb(e){return hp(e)||ese(e)}function tse(e){try{const t=sessionStorage.getItem(Qie);if(!t)return null;const r=JSON.parse(t);if(!r.metals)return null;const n=e==="gold"?"Gold":"Silver",a=r.metals.find(l=>l.name.toLowerCase().includes(n.toLowerCase()));return a?a.price:null}catch{return null}}function rse({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:a,liabilityList:l}=mt(),c=!!e;function u(L){return bI.find(Y=>Y.value===L)?.category||"Other"}const f=e?.dynamicFields?typeof e.dynamicFields=="string"?JSON.parse(e.dynamicFields):e.dynamicFields:{},[m,h]=N.useState({investmentType:e?.investmentType||"",investmentCategory:e?.investmentCategory||"",investmentName:e?.investmentName||"",familyMemberId:e?.familyMemberId||"",investedAmount:e?.investedAmount||"",currentValue:e?.currentValue||"",linkedLiabilityIds:e?.linkedLiabilityId?e.linkedLiabilityId.split(",").map(L=>L.trim()).filter(Boolean):[],status:e?.status||"Active",notes:e?.notes||""}),[x,v]=N.useState(f.weightGrams||""),[b,S]=N.useState(f.purity||""),[y,w]=N.useState(null),[C,k]=N.useState(!1),[A,M]=N.useState({lenderName:"",outstandingBalance:"",emiAmount:"",interestRate:""});N.useEffect(()=>{if(!Yb(m.investmentType)||!x||Number(x)<=0){w(null);return}const L=hp(m.investmentType)?"gold":"silver",Y=tse(L);if(!Y){w(null);return}const le=(L==="gold"?A_:k_).find(B=>B.value===b),be=le?le.factor:1;w(Math.round(Number(x)*Y*be))},[m.investmentType,x,b]);const[_,T]=N.useState({}),[P,O]=N.useState(!1);function z(L,Y){h(q=>({...q,[L]:Y})),T(q=>({...q,[L]:void 0}))}function R(L){h(Y=>({...Y,investmentType:L,investmentCategory:u(L)})),T(Y=>({...Y,investmentType:void 0}))}function F(L,Y){M(q=>({...q,[L]:Y}))}function D(){const L={};return m.investmentType||(L.investmentType="Required"),m.investmentName.trim()||(L.investmentName="Required"),(!m.currentValue||Number(m.currentValue)<0)&&(L.currentValue="Required"),C&&(A.lenderName.trim()||(L.qlLender="Required"),(!A.outstandingBalance||Number(A.outstandingBalance)<=0)&&(L.qlOutstanding="Must be > 0")),T(L),Object.keys(L).length===0}async function Z(){if(!D())return;const L={...m,familyMember:m.familyMemberId,investedAmount:Number(m.investedAmount)||0,currentValue:Number(m.currentValue)||0,linkedLiabilityId:m.linkedLiabilityIds.join(",")};delete L.linkedLiabilityIds,Yb(m.investmentType)&&(L.dynamicFields=JSON.stringify({weightGrams:Number(x)||0,purity:b||""})),C&&A.lenderName&&(L.quickLoan={liabilityType:Ub[m.investmentType]||"Personal Loan",lender:A.lenderName,outstanding:Number(A.outstandingBalance)||0,emiAmount:Number(A.emiAmount)||0,interestRate:Number(A.interestRate)||0}),O(!0);try{await t(L)}finally{O(!1)}}const Q=(l||[]).filter(L=>L.status!=="Inactive"),J=(a||[]).map(L=>({value:L.memberId,label:`${L.memberName} (${L.relationship})`}));return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Investment Type",required:!0,error:_.investmentType,children:s.jsx(Ge,{value:m.investmentType,onChange:R,options:Xie,placeholder:"Select type..."})}),s.jsx(ce,{label:"Category",children:s.jsx(Ge,{value:m.investmentCategory,onChange:L=>z("investmentCategory",L),options:Zie,placeholder:"Auto-selected..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Investment Name",required:!0,error:_.investmentName,children:s.jsx(Ce,{value:m.investmentName,onChange:L=>z("investmentName",L),placeholder:"e.g., HDFC FD - 7.5%"})}),s.jsx(ce,{label:"Family Member",children:s.jsx(Ge,{value:m.familyMemberId,onChange:L=>z("familyMemberId",L),options:J,placeholder:"Select member (optional)..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Invested Amount",children:s.jsx(Ce,{type:"number",value:m.investedAmount,onChange:L=>z("investedAmount",L),placeholder:"e.g., 500000"})}),s.jsx(ce,{label:"Current Value",required:!0,error:_.currentValue,children:s.jsx(Ce,{type:"number",value:m.currentValue,onChange:L=>z("currentValue",L),placeholder:"e.g., 537500"})})]}),Yb(m.investmentType)&&s.jsxs("div",{className:"p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[s.jsxs("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:[hp(m.investmentType)?"Gold":"Silver"," Details"]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsx(ce,{label:"Weight (grams)",children:s.jsx(Ce,{type:"number",value:x,onChange:v,placeholder:"e.g., 50"})}),s.jsx(ce,{label:"Purity",children:s.jsx(Ge,{value:b,onChange:S,options:(hp(m.investmentType)?A_:k_).map(L=>({value:L.value,label:L.label})),placeholder:"Select purity..."})})]}),y!==null&&s.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-card)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Estimated market value"}),s.jsx("p",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:K(y)})]}),s.jsx("button",{type:"button",onClick:()=>z("currentValue",String(y)),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 px-3 py-1.5 rounded-lg bg-violet-500/10 border border-violet-500/20 transition-colors",children:"Use this value"})]})]}),Ub[m.investmentType]&&s.jsxs("div",{className:"border-t border-[var(--border-light)] pt-4",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider mb-2",children:"Linked Loans"}),m.linkedLiabilityIds.length>0&&s.jsx("div",{className:"space-y-1.5 mb-3",children:m.linkedLiabilityIds.map(L=>{const Y=Q.find(q=>q.liabilityId===L);return Y?s.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:[Y.liabilityType,"  ",Y.lenderName]}),s.jsx("p",{className:"text-xs text-[var(--accent-rose)] tabular-nums",children:K(Y.outstandingBalance)})]}),s.jsx("button",{type:"button",onClick:()=>z("linkedLiabilityIds",m.linkedLiabilityIds.filter(q=>q!==L)),className:"text-xs text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors px-2 py-1",children:"Remove"})]},L):null})}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("div",{className:"flex-1",children:s.jsx(Ge,{value:"",onChange:L=>{L&&!m.linkedLiabilityIds.includes(L)&&(z("linkedLiabilityIds",[...m.linkedLiabilityIds,L]),k(!1))},options:[{value:"",label:"Link an existing loan..."},...Q.filter(L=>!m.linkedLiabilityIds.includes(L.liabilityId)).map(L=>({value:L.liabilityId,label:`${L.liabilityType}  ${L.lenderName} (${K(L.outstandingBalance)})`}))]})})}),!c&&s.jsx("div",{className:"mt-2",children:s.jsx("button",{type:"button",onClick:()=>k(!C),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:C?" Cancel quick loan":`+ Create new loan (${Ub[m.investmentType]})`})}),C&&s.jsxs("div",{className:"mt-3 p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:"Quick Loan"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsx(ce,{label:"Lender",required:!0,error:_.qlLender,children:s.jsx(Ce,{value:A.lenderName,onChange:L=>F("lenderName",L),placeholder:"e.g., HDFC Bank"})}),s.jsx(ce,{label:"Outstanding Balance",required:!0,error:_.qlOutstanding,children:s.jsx(Ce,{type:"number",value:A.outstandingBalance,onChange:L=>F("outstandingBalance",L),placeholder:"e.g., 3500000"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsx(ce,{label:"EMI (monthly)",children:s.jsx(Ce,{type:"number",value:A.emiAmount,onChange:L=>F("emiAmount",L),placeholder:"e.g., 32000"})}),s.jsx(ce,{label:"Interest Rate %",children:s.jsx(Ce,{type:"number",value:A.interestRate,onChange:L=>F("interestRate",L),placeholder:"e.g., 8.5"})})]})]})]}),c&&s.jsx(ce,{label:"Status",children:s.jsx(Ge,{value:m.status,onChange:L=>z("status",L),options:Jie})}),s.jsx(ce,{label:"Notes",children:s.jsx(mc,{value:m.notes,onChange:L=>z("notes",L),placeholder:"Additional information..."})}),s.jsxs("div",{className:"flex items-center justify-between",children:[c&&r?s.jsx(Wi,{onClick:r}):s.jsx("div",{}),s.jsx(en,{onCancel:n,onSubmit:Z,submitLabel:c?"Update":"Add Investment",loading:P})]})]})}const M_={Debt:"bg-blue-500/15 text-[var(--accent-blue)]",Gold:"bg-amber-500/15 text-[var(--accent-amber)]",Property:"bg-orange-500/15 text-[var(--accent-orange)]",Equity:"bg-emerald-500/15 text-emerald-400",Alternative:"bg-violet-500/15 text-[var(--accent-violet)]"};function nse(){const{selectedMember:e,member:t}=$r(),{otherInvList:r,liabilityList:n,addOtherInvestment:a,updateOtherInvestment:l,deleteOtherInvestment:c}=mt(),{showToast:u,showBlockUI:f,hideBlockUI:m}=Ja(),h=ei(),[x,v]=N.useState(null);if(r===null)return s.jsx(Ki,{title:"Loading investments",cards:5});const b=N.useMemo(()=>{const P=r.filter(O=>O.status!=="Inactive");return e==="all"?P:P.filter(O=>O.familyMemberId===e)},[r,e]),S=b.reduce((P,O)=>P+(O.investedAmount||0),0),y=b.reduce((P,O)=>P+(O.currentValue||0),0),w=y-S,C=w>=0,k=S>0?w/S*100:0,A=N.useMemo(()=>{const P={};return n.forEach(O=>{P[O.liabilityId]=O}),P},[n]),M=b.reduce((P,O)=>{if(!O.linkedLiabilityId)return P;const z=O.linkedLiabilityId.split(",").map(R=>R.trim()).filter(Boolean);return P+z.reduce((R,F)=>R+(A[F]?.outstandingBalance||0),0)},0);async function _(P){f("Saving...");try{x?.edit?await l(x.edit.investmentId,P):await a(P),u(x?.edit?"Investment updated":"Investment added"),v(null)}catch(O){u(O.message||"Failed to save investment","error")}finally{m()}}async function T(){if(x?.edit&&await h("Deactivate this investment?",{title:"Deactivate Investment",confirmLabel:"Deactivate"})){f("Deactivating...");try{await c(x.edit.investmentId),u("Investment deactivated"),v(null)}catch(P){u(P.message||"Failed to deactivate investment","error")}finally{m()}}}return s.jsxs("div",{className:"space-y-4",children:[b.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(i5,{size:32,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No other investments",t?` for ${t.memberName}`:""]}),s.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add an investment"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[s.jsx(Bu,{label:"Invested",value:K(S)}),s.jsx(Bu,{label:"Current Value",value:K(y),bold:!0}),s.jsx(Bu,{label:"P&L",value:`${C?"+":""}${K(Math.abs(w))}`,sub:`${C?"+":""}${k.toFixed(1)}%`,positive:C,bold:!0}),M>0&&s.jsx(Bu,{label:"Linked Loans",value:K(M),color:"rose"}),s.jsx(Bu,{label:"Holdings",value:b.length})]}),s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Fr,{size:14})," Add Investment"]})}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[720px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Investment"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Category"}),!t&&s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Loan"}),s.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),s.jsx("tbody",{children:b.map(P=>{const O=(P.currentValue||0)-(P.investedAmount||0),z=O>=0;return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsxs("td",{className:"py-2.5 px-4",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:P.investmentName}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:P.investmentType})]}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${M_[P.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:P.investmentCategory})}),!t&&s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:P.familyMemberName}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:K(P.investedAmount)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(P.currentValue)}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:s.jsxs("span",{className:`text-xs font-semibold tabular-nums ${z?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[z?"+":"",K(O)]})}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:(()=>{const F=(P.linkedLiabilityId?P.linkedLiabilityId.split(",").map(D=>D.trim()).filter(Boolean):[]).map(D=>A[D]).filter(Boolean);return F.length===0?s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):s.jsx("div",{className:"space-y-0.5",children:F.map(D=>s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:K(D.outstandingBalance)}),s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:D.liabilityType})]},D.liabilityId))})})()}),s.jsx("td",{className:"py-2.5 px-2",children:s.jsx("button",{onClick:()=>v({edit:P}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:s.jsx(ja,{size:12})})})]},P.investmentId)})})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(P=>{const O=(P.currentValue||0)-(P.investedAmount||0),z=O>=0;return s.jsxs("div",{onClick:()=>v({edit:P}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:P.investmentName}),s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${M_[P.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:P.investmentCategory})]}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[P.familyMemberName,"  ",P.investmentType]}),s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Invested"}),s.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:K(P.investedAmount)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Current"}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(P.currentValue)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"P&L"}),s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${z?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[z?"+":"",K(O)]})]})]}),(()=>{const F=(P.linkedLiabilityId?P.linkedLiabilityId.split(",").map(D=>D.trim()).filter(Boolean):[]).map(D=>A[D]).filter(Boolean);return F.length===0?null:F.map(D=>s.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-rose-500/5 rounded px-2 py-1",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:D.liabilityType}),s.jsx("span",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:K(D.outstandingBalance)})]},D.liabilityId))})()]},P.investmentId)})})]})]}),s.jsx(mr,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Investment":"Add Investment",wide:!0,children:s.jsx(rse,{initial:x?.edit||void 0,onSave:_,onDelete:x?.edit?T:void 0,onCancel:()=>v(null)})})]})}function Bu({label:e,value:t,sub:r,positive:n,bold:a,color:l}){const c=l==="rose"?"text-[var(--accent-rose)]":n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]";return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${c}`,children:t}),r&&s.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function ase({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:a,activeInvestmentAccounts:l}=mt(),c=!!e,[u,f]=N.useState({portfolioName:(e?.portfolioName||"").replace(/^PFL-/,""),investmentAccountId:e?.investmentAccountId||"",ownerId:e?.ownerId||"",initialInvestment:e?.initialInvestment||0,sipTarget:e?.sipTarget||"",lumpsumTarget:e?.lumpsumTarget||"",rebalanceThreshold:e?e.rebalanceThreshold*100:5}),[m,h]=N.useState({}),[x,v]=N.useState(!1),[b,S]=N.useState(!1);function y(_,T){f(P=>({...P,[_]:T})),h(P=>({...P,[_]:void 0}))}function w(_){f(T=>({...T,ownerId:_,investmentAccountId:""})),h(T=>({...T,ownerId:void 0}))}const C=l.filter(_=>u.ownerId?_.memberId===u.ownerId:!0).map(_=>({value:_.accountId,label:`${_.accountName} - ${_.platformBroker}`})),k=a.map(_=>({value:_.memberId,label:`${_.memberName} (${_.relationship})`}));function A(){const _={};return u.portfolioName.trim()||(_.portfolioName="Required"),u.ownerId||(_.ownerId="Required"),u.investmentAccountId||(_.investmentAccountId="Required"),h(_),Object.keys(_).length===0}async function M(){if(A()){v(!0);try{const _=l.find(P=>P.accountId===u.investmentAccountId),T=_?`${_.accountName} - ${_.platformBroker}`:u.investmentAccountId;await t({...u,investmentAccount:T,initialInvestment:Number(u.initialInvestment)||0,sipTarget:Number(u.sipTarget)||0,lumpsumTarget:Number(u.lumpsumTarget)||0,rebalanceThreshold:Number(u.rebalanceThreshold)})}finally{v(!1)}}}return s.jsxs("div",{className:"space-y-5",children:[s.jsx(ce,{label:"Portfolio Name",required:!0,error:m.portfolioName,children:s.jsx(Ce,{value:u.portfolioName,onChange:_=>y("portfolioName",_),placeholder:"e.g., Long Term Wealth"})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Owner",required:!0,error:m.ownerId,children:s.jsx(Ge,{value:u.ownerId,onChange:w,options:k,placeholder:"Select member..."})}),s.jsx(ce,{label:"Investment Account",required:!0,error:m.investmentAccountId,children:s.jsx(Ge,{value:u.investmentAccountId,onChange:_=>y("investmentAccountId",_),options:C,placeholder:u.ownerId?C.length?"Select account...":"No MF accounts":"Select owner first..."})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ce,{label:"SIP Target (/month)",children:s.jsx(Ce,{type:"number",value:u.sipTarget,onChange:_=>y("sipTarget",_),placeholder:"e.g., 50000"})}),s.jsx(ce,{label:"Lumpsum Target ()",children:s.jsx(Ce,{type:"number",value:u.lumpsumTarget,onChange:_=>y("lumpsumTarget",_),placeholder:"e.g., 200000"})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-xs font-semibold text-[var(--text-muted)] whitespace-nowrap",children:"Rebalance Threshold"}),s.jsx("div",{className:"w-20 shrink-0",children:s.jsx("input",{type:"number",value:u.rebalanceThreshold,onChange:_=>y("rebalanceThreshold",_.target.value),placeholder:"5",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"})]}),!c&&s.jsx(ce,{label:"Initial Investment ()",children:s.jsx(Ce,{type:"number",value:u.initialInvestment,onChange:_=>y("initialInvestment",_),placeholder:"0 if unknown"})}),c&&r&&b&&s.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 bg-rose-500/10 border border-rose-500/20 rounded-lg",children:[s.jsx(Ts,{size:15,className:"text-rose-400 shrink-0"}),s.jsx("p",{className:"text-xs text-rose-300/90 flex-1",children:"This will deactivate the portfolio and hide it from views. Are you sure?"}),s.jsxs("div",{className:"flex gap-2 shrink-0",children:[s.jsx("button",{onClick:()=>S(!1),className:"px-2.5 py-1 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded transition-colors",children:"No"}),s.jsx("button",{onClick:r,className:"px-2.5 py-1 text-xs font-semibold text-white bg-rose-600 hover:bg-rose-500 rounded transition-colors",children:"Yes, Deactivate"})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 mt-4 border-t border-[var(--border-light)]",children:[c&&r?s.jsxs("button",{onClick:()=>S(!0),disabled:x,className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-amber-400 border border-amber-500/30 hover:bg-amber-500/15 hover:border-amber-500/50 rounded-lg transition-colors disabled:opacity-40",children:[s.jsx(Ts,{size:13}),"Deactivate"]}):s.jsx("div",{}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:n,disabled:x,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),s.jsxs("button",{onClick:M,disabled:x,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[x&&s.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),x?"Saving...":c?"Update":"Create Portfolio"]})]})]})]})}function qi(e){return Array.isArray?Array.isArray(e):NI(e)==="[object Array]"}function ise(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function sse(e){return e==null?"":ise(e)}function Ya(e){return typeof e=="string"}function yI(e){return typeof e=="number"}function lse(e){return e===!0||e===!1||ose(e)&&NI(e)=="[object Boolean]"}function wI(e){return typeof e=="object"}function ose(e){return wI(e)&&e!==null}function En(e){return e!=null}function Vb(e){return!e.trim().length}function NI(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const cse="Incorrect 'index' type",use=e=>`Invalid value for key ${e}`,dse=e=>`Pattern length exceeds max of ${e}.`,fse=e=>`Missing ${e} property in key`,mse=e=>`Property 'weight' in key '${e}' must be a positive integer`,D_=Object.prototype.hasOwnProperty;class pse{constructor(t){this._keys=[],this._keyMap={};let r=0;t.forEach(n=>{let a=jI(n);this._keys.push(a),this._keyMap[a.id]=a,r+=a.weight}),this._keys.forEach(n=>{n.weight/=r})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function jI(e){let t=null,r=null,n=null,a=1,l=null;if(Ya(e)||qi(e))n=e,t=E_(e),r=r1(e);else{if(!D_.call(e,"name"))throw new Error(fse("name"));const c=e.name;if(n=c,D_.call(e,"weight")&&(a=e.weight,a<=0))throw new Error(mse(c));t=E_(c),r=r1(c),l=e.getFn}return{path:t,id:r,weight:a,src:n,getFn:l}}function E_(e){return qi(e)?e:e.split(".")}function r1(e){return qi(e)?e.join("."):e}function hse(e,t){let r=[],n=!1;const a=(l,c,u)=>{if(En(l))if(!c[u])r.push(l);else{let f=c[u];const m=l[f];if(!En(m))return;if(u===c.length-1&&(Ya(m)||yI(m)||lse(m)))r.push(sse(m));else if(qi(m)){n=!0;for(let h=0,x=m.length;h<x;h+=1)a(m[h],c,u+1)}else c.length&&a(m,c,u+1)}};return a(e,Ya(t)?t.split("."):t,0),n?r:r[0]}const xse={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},vse={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},gse={location:0,threshold:.6,distance:100},bse={useExtendedSearch:!1,getFn:hse,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Ve={...vse,...xse,...gse,...bse};const yse=/[^ ]+/g;function wse(e=1,t=3){const r=new Map,n=Math.pow(10,t);return{get(a){const l=a.match(yse).length;if(r.has(l))return r.get(l);const c=1/Math.pow(l,.5*e),u=parseFloat(Math.round(c*n)/n);return r.set(l,u),u},clear(){r.clear()}}}class AN{constructor({getFn:t=Ve.getFn,fieldNormWeight:r=Ve.fieldNormWeight}={}){this.norm=wse(r,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ya(this.docs[0])?this.docs.forEach((t,r)=>{this._addString(t,r)}):this.docs.forEach((t,r)=>{this._addObject(t,r)}),this.norm.clear())}add(t){const r=this.size();Ya(t)?this._addString(t,r):this._addObject(t,r)}removeAt(t){this.records.splice(t,1);for(let r=t,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(t,r){return t[this._keysMap[r]]}size(){return this.records.length}_addString(t,r){if(!En(t)||Vb(t))return;let n={v:t,i:r,n:this.norm.get(t)};this.records.push(n)}_addObject(t,r){let n={i:r,$:{}};this.keys.forEach((a,l)=>{let c=a.getFn?a.getFn(t):this.getFn(t,a.path);if(En(c)){if(qi(c)){let u=[];const f=[{nestedArrIndex:-1,value:c}];for(;f.length;){const{nestedArrIndex:m,value:h}=f.pop();if(En(h))if(Ya(h)&&!Vb(h)){let x={v:h,i:m,n:this.norm.get(h)};u.push(x)}else qi(h)&&h.forEach((x,v)=>{f.push({nestedArrIndex:v,value:x})})}n.$[l]=u}else if(Ya(c)&&!Vb(c)){let u={v:c,n:this.norm.get(c)};n.$[l]=u}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function SI(e,t,{getFn:r=Ve.getFn,fieldNormWeight:n=Ve.fieldNormWeight}={}){const a=new AN({getFn:r,fieldNormWeight:n});return a.setKeys(e.map(jI)),a.setSources(t),a.create(),a}function Nse(e,{getFn:t=Ve.getFn,fieldNormWeight:r=Ve.fieldNormWeight}={}){const{keys:n,records:a}=e,l=new AN({getFn:t,fieldNormWeight:r});return l.setKeys(n),l.setIndexRecords(a),l}function Ym(e,{errors:t=0,currentLocation:r=0,expectedLocation:n=0,distance:a=Ve.distance,ignoreLocation:l=Ve.ignoreLocation}={}){const c=t/e.length;if(l)return c;const u=Math.abs(n-r);return a?c+u/a:u?1:c}function jse(e=[],t=Ve.minMatchCharLength){let r=[],n=-1,a=-1,l=0;for(let c=e.length;l<c;l+=1){let u=e[l];u&&n===-1?n=l:!u&&n!==-1&&(a=l-1,a-n+1>=t&&r.push([n,a]),n=-1)}return e[l-1]&&l-n>=t&&r.push([n,l-1]),r}const jl=32;function Sse(e,t,r,{location:n=Ve.location,distance:a=Ve.distance,threshold:l=Ve.threshold,findAllMatches:c=Ve.findAllMatches,minMatchCharLength:u=Ve.minMatchCharLength,includeMatches:f=Ve.includeMatches,ignoreLocation:m=Ve.ignoreLocation}={}){if(t.length>jl)throw new Error(dse(jl));const h=t.length,x=e.length,v=Math.max(0,Math.min(n,x));let b=l,S=v;const y=u>1||f,w=y?Array(x):[];let C;for(;(C=e.indexOf(t,S))>-1;){let P=Ym(t,{currentLocation:C,expectedLocation:v,distance:a,ignoreLocation:m});if(b=Math.min(P,b),S=C+h,y){let O=0;for(;O<h;)w[C+O]=1,O+=1}}S=-1;let k=[],A=1,M=h+x;const _=1<<h-1;for(let P=0;P<h;P+=1){let O=0,z=M;for(;O<z;)Ym(t,{errors:P,currentLocation:v+z,expectedLocation:v,distance:a,ignoreLocation:m})<=b?O=z:M=z,z=Math.floor((M-O)/2+O);M=z;let R=Math.max(1,v-z+1),F=c?x:Math.min(v+z,x)+h,D=Array(F+2);D[F+1]=(1<<P)-1;for(let Q=F;Q>=R;Q-=1){let J=Q-1,L=r[e.charAt(J)];if(y&&(w[J]=+!!L),D[Q]=(D[Q+1]<<1|1)&L,P&&(D[Q]|=(k[Q+1]|k[Q])<<1|1|k[Q+1]),D[Q]&_&&(A=Ym(t,{errors:P,currentLocation:J,expectedLocation:v,distance:a,ignoreLocation:m}),A<=b)){if(b=A,S=J,S<=v)break;R=Math.max(1,2*v-S)}}if(Ym(t,{errors:P+1,currentLocation:v,expectedLocation:v,distance:a,ignoreLocation:m})>b)break;k=D}const T={isMatch:S>=0,score:Math.max(.001,A)};if(y){const P=jse(w,u);P.length?f&&(T.indices=P):T.isMatch=!1}return T}function Cse(e){let t={};for(let r=0,n=e.length;r<n;r+=1){const a=e.charAt(r);t[a]=(t[a]||0)|1<<n-r-1}return t}const kh=String.prototype.normalize?(e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(e=>e);class CI{constructor(t,{location:r=Ve.location,threshold:n=Ve.threshold,distance:a=Ve.distance,includeMatches:l=Ve.includeMatches,findAllMatches:c=Ve.findAllMatches,minMatchCharLength:u=Ve.minMatchCharLength,isCaseSensitive:f=Ve.isCaseSensitive,ignoreDiacritics:m=Ve.ignoreDiacritics,ignoreLocation:h=Ve.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:a,includeMatches:l,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:f,ignoreDiacritics:m,ignoreLocation:h},t=f?t:t.toLowerCase(),t=m?kh(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const x=(b,S)=>{this.chunks.push({pattern:b,alphabet:Cse(b),startIndex:S})},v=this.pattern.length;if(v>jl){let b=0;const S=v%jl,y=v-S;for(;b<y;)x(this.pattern.substr(b,jl),b),b+=jl;if(S){const w=v-jl;x(this.pattern.substr(w),w)}}else x(this.pattern,0)}searchIn(t){const{isCaseSensitive:r,ignoreDiacritics:n,includeMatches:a}=this.options;if(t=r?t:t.toLowerCase(),t=n?kh(t):t,this.pattern===t){let y={isMatch:!0,score:0};return a&&(y.indices=[[0,t.length-1]]),y}const{location:l,distance:c,threshold:u,findAllMatches:f,minMatchCharLength:m,ignoreLocation:h}=this.options;let x=[],v=0,b=!1;this.chunks.forEach(({pattern:y,alphabet:w,startIndex:C})=>{const{isMatch:k,score:A,indices:M}=Sse(t,y,w,{location:l+C,distance:c,threshold:u,findAllMatches:f,minMatchCharLength:m,includeMatches:a,ignoreLocation:h});k&&(b=!0),v+=A,k&&M&&(x=[...x,...M])});let S={isMatch:b,score:b?v/this.chunks.length:1};return b&&a&&(S.indices=x),S}}class Ws{constructor(t){this.pattern=t}static isMultiMatch(t){return __(t,this.multiRegex)}static isSingleMatch(t){return __(t,this.singleRegex)}search(){}}function __(e,t){const r=e.match(t);return r?r[1]:null}class Ase extends Ws{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const r=t===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class kse extends Ws{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Mse extends Ws{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const r=t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class Dse extends Ws{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const r=!t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class Ese extends Ws{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const r=t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class _se extends Ws{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const r=!t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class AI extends Ws{constructor(t,{location:r=Ve.location,threshold:n=Ve.threshold,distance:a=Ve.distance,includeMatches:l=Ve.includeMatches,findAllMatches:c=Ve.findAllMatches,minMatchCharLength:u=Ve.minMatchCharLength,isCaseSensitive:f=Ve.isCaseSensitive,ignoreDiacritics:m=Ve.ignoreDiacritics,ignoreLocation:h=Ve.ignoreLocation}={}){super(t),this._bitapSearch=new CI(t,{location:r,threshold:n,distance:a,includeMatches:l,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:f,ignoreDiacritics:m,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class kI extends Ws{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r=0,n;const a=[],l=this.pattern.length;for(;(n=t.indexOf(this.pattern,r))>-1;)r=n+l,a.push([n,r-1]);const c=!!a.length;return{isMatch:c,score:c?0:1,indices:a}}}const n1=[Ase,kI,Mse,Dse,_se,Ese,kse,AI],O_=n1.length,Ose=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Tse="|";function Pse(e,t={}){return e.split(Tse).map(r=>{let n=r.trim().split(Ose).filter(l=>l&&!!l.trim()),a=[];for(let l=0,c=n.length;l<c;l+=1){const u=n[l];let f=!1,m=-1;for(;!f&&++m<O_;){const h=n1[m];let x=h.isMultiMatch(u);x&&(a.push(new h(x,t)),f=!0)}if(!f)for(m=-1;++m<O_;){const h=n1[m];let x=h.isSingleMatch(u);if(x){a.push(new h(x,t));break}}}return a})}const Ise=new Set([AI.type,kI.type]);class Rse{constructor(t,{isCaseSensitive:r=Ve.isCaseSensitive,ignoreDiacritics:n=Ve.ignoreDiacritics,includeMatches:a=Ve.includeMatches,minMatchCharLength:l=Ve.minMatchCharLength,ignoreLocation:c=Ve.ignoreLocation,findAllMatches:u=Ve.findAllMatches,location:f=Ve.location,threshold:m=Ve.threshold,distance:h=Ve.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:n,includeMatches:a,minMatchCharLength:l,findAllMatches:u,ignoreLocation:c,location:f,threshold:m,distance:h},t=r?t:t.toLowerCase(),t=n?kh(t):t,this.pattern=t,this.query=Pse(this.pattern,this.options)}static condition(t,r){return r.useExtendedSearch}searchIn(t){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:a,ignoreDiacritics:l}=this.options;t=a?t:t.toLowerCase(),t=l?kh(t):t;let c=0,u=[],f=0;for(let m=0,h=r.length;m<h;m+=1){const x=r[m];u.length=0,c=0;for(let v=0,b=x.length;v<b;v+=1){const S=x[v],{isMatch:y,indices:w,score:C}=S.search(t);if(y){if(c+=1,f+=C,n){const k=S.constructor.type;Ise.has(k)?u=[...u,...w]:u.push(w)}}else{f=0,c=0,u.length=0;break}}if(c){let v={isMatch:!0,score:f/c};return n&&(v.indices=u),v}}return{isMatch:!1,score:1}}}const a1=[];function Lse(...e){a1.push(...e)}function i1(e,t){for(let r=0,n=a1.length;r<n;r+=1){let a=a1[r];if(a.condition(e,t))return new a(e,t)}return new CI(e,t)}const Mh={AND:"$and",OR:"$or"},s1={PATH:"$path",PATTERN:"$val"},l1=e=>!!(e[Mh.AND]||e[Mh.OR]),zse=e=>!!e[s1.PATH],Fse=e=>!qi(e)&&wI(e)&&!l1(e),T_=e=>({[Mh.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function MI(e,t,{auto:r=!0}={}){const n=a=>{let l=Object.keys(a);const c=zse(a);if(!c&&l.length>1&&!l1(a))return n(T_(a));if(Fse(a)){const f=c?a[s1.PATH]:l[0],m=c?a[s1.PATTERN]:a[f];if(!Ya(m))throw new Error(use(f));const h={keyId:r1(f),pattern:m};return r&&(h.searcher=i1(m,t)),h}let u={children:[],operator:l[0]};return l.forEach(f=>{const m=a[f];qi(m)&&m.forEach(h=>{u.children.push(n(h))})}),u};return l1(e)||(e=T_(e)),n(e)}function $se(e,{ignoreFieldNorm:t=Ve.ignoreFieldNorm}){e.forEach(r=>{let n=1;r.matches.forEach(({key:a,norm:l,score:c})=>{const u=a?a.weight:null;n*=Math.pow(c===0&&u?Number.EPSILON:c,(u||1)*(t?1:l))}),r.score=n})}function Bse(e,t){const r=e.matches;t.matches=[],En(r)&&r.forEach(n=>{if(!En(n.indices)||!n.indices.length)return;const{indices:a,value:l}=n;let c={indices:a,value:l};n.key&&(c.key=n.key.src),n.idx>-1&&(c.refIndex=n.idx),t.matches.push(c)})}function qse(e,t){t.score=e.score}function Hse(e,t,{includeMatches:r=Ve.includeMatches,includeScore:n=Ve.includeScore}={}){const a=[];return r&&a.push(Bse),n&&a.push(qse),e.map(l=>{const{idx:c}=l,u={item:t[c],refIndex:c};return a.length&&a.forEach(f=>{f(l,u)}),u})}class Kl{constructor(t,r={},n){this.options={...Ve,...r},this.options.useExtendedSearch,this._keyStore=new pse(this.options.keys),this.setCollection(t,n)}setCollection(t,r){if(this._docs=t,r&&!(r instanceof AN))throw new Error(cse);this._myIndex=r||SI(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){En(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const r=[];for(let n=0,a=this._docs.length;n<a;n+=1){const l=this._docs[n];t(l,n)&&(this.removeAt(n),n-=1,a-=1,r.push(l))}return r}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:r=-1}={}){const{includeMatches:n,includeScore:a,shouldSort:l,sortFn:c,ignoreFieldNorm:u}=this.options;let f=Ya(t)?Ya(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return $se(f,{ignoreFieldNorm:u}),l&&f.sort(c),yI(r)&&r>-1&&(f=f.slice(0,r)),Hse(f,this._docs,{includeMatches:n,includeScore:a})}_searchStringList(t){const r=i1(t,this.options),{records:n}=this._myIndex,a=[];return n.forEach(({v:l,i:c,n:u})=>{if(!En(l))return;const{isMatch:f,score:m,indices:h}=r.searchIn(l);f&&a.push({item:l,idx:c,matches:[{score:m,value:l,norm:u,indices:h}]})}),a}_searchLogical(t){const r=MI(t,this.options),n=(u,f,m)=>{if(!u.children){const{keyId:x,searcher:v}=u,b=this._findMatches({key:this._keyStore.get(x),value:this._myIndex.getValueForItemAtKeyId(f,x),searcher:v});return b&&b.length?[{idx:m,item:f,matches:b}]:[]}const h=[];for(let x=0,v=u.children.length;x<v;x+=1){const b=u.children[x],S=n(b,f,m);if(S.length)h.push(...S);else if(u.operator===Mh.AND)return[]}return h},a=this._myIndex.records,l={},c=[];return a.forEach(({$:u,i:f})=>{if(En(u)){let m=n(r,u,f);m.length&&(l[f]||(l[f]={idx:f,item:u,matches:[]},c.push(l[f])),m.forEach(({matches:h})=>{l[f].matches.push(...h)}))}}),c}_searchObjectList(t){const r=i1(t,this.options),{keys:n,records:a}=this._myIndex,l=[];return a.forEach(({$:c,i:u})=>{if(!En(c))return;let f=[];n.forEach((m,h)=>{f.push(...this._findMatches({key:m,value:c[h],searcher:r}))}),f.length&&l.push({idx:u,item:c,matches:f})}),l}_findMatches({key:t,value:r,searcher:n}){if(!En(r))return[];let a=[];if(qi(r))r.forEach(({v:l,i:c,n:u})=>{if(!En(l))return;const{isMatch:f,score:m,indices:h}=n.searchIn(l);f&&a.push({score:m,key:t,value:l,idx:c,norm:u,indices:h})});else{const{v:l,n:c}=r,{isMatch:u,score:f,indices:m}=n.searchIn(l);u&&a.push({score:f,key:t,value:l,norm:c,indices:m})}return a}}Kl.version="7.1.0";Kl.createIndex=SI;Kl.parseIndex=Nse;Kl.config=Ve;Kl.parseQuery=MI;Lse(Rse);let oa=null,qu=null;function Use(e){if(!e)return!1;const t=new Date(e),r=new Date;return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&t.getDate()===r.getDate()}function Yse(){return oa?Promise.resolve(oa):qu||(qu=HO("fundsList").then(e=>e&&Array.isArray(e.data)&&Use(e.updatedAt)?(oa=e.data,oa):zz().then(t=>(oa=Array.isArray(t)?t:[],Kr("fundsList",oa),oa))).catch(()=>(qu=null,[])),qu)}function kN({value:e,onSelect:t,placeholder:r,disabled:n}){const[a,l]=N.useState(""),[c,u]=N.useState(oa||[]),[f,m]=N.useState(!oa),[h,x]=N.useState(!1),v=N.useRef(null);N.useEffect(()=>{if(oa){u(oa),m(!1);return}Yse().then(k=>{u(k),m(!1)})},[]),N.useEffect(()=>{function k(A){v.current&&!v.current.contains(A.target)&&x(!1)}return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const b=N.useMemo(()=>c.length?new Kl(c,{keys:["fundName"],threshold:.3,distance:50,minMatchCharLength:2,includeScore:!0,ignoreLocation:!1,findAllMatches:!0}):null,[c]),S=N.useMemo(()=>!b||a.length<2?[]:b.search(a).slice(0,50).map(k=>k.item),[b,a]);function y(k){l(k),x(k.length>=2)}function w(k){t({schemeCode:k.fundCode||k.schemeCode,fundName:k.fundName,nav:k.nav,navDate:k.navDate}),l(""),x(!1)}function C(){t({schemeCode:"",fundName:"",nav:0,navDate:""}),l("")}return e?.fundName?s.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate",children:Me(e.fundName).main}),Me(e.fundName).plan&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Me(e.fundName).plan})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e.schemeCode}),e.nav>0&&s.jsxs("span",{className:"text-xs font-medium text-emerald-400",children:["NAV: ",e.nav.toFixed(2),e.navDate?` (${e.navDate})`:""]})]})]}),s.jsx("button",{type:"button",onClick:C,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:s.jsx(Ps,{size:14})})]}):s.jsxs("div",{ref:v,className:"relative",children:[s.jsxs("div",{className:"relative",children:[f?s.jsx(w1,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400 animate-spin"}):s.jsx(N1,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),s.jsx("input",{type:"text",value:a,onChange:k=>y(k.target.value),onFocus:()=>a.length>=2&&x(!0),placeholder:f?"Loading funds...":r||"Search fund name...",disabled:n||f,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),h&&S.length>0&&s.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:S.map(k=>s.jsxs("button",{type:"button",onClick:()=>w(k),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:Me(k.fundName).main}),Me(k.fundName).plan&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Me(k.fundName).plan})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:k.fundCode||k.schemeCode}),k.nav>0&&s.jsxs("span",{className:"text-xs text-emerald-400 tabular-nums",children:["NAV: ",k.nav.toFixed(2),k.navDate?` (${k.navDate})`:""]})]})]},k.fundCode||k.schemeCode))}),h&&a.length>=2&&S.length===0&&!f&&s.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No funds found for "',a,'"']})})]})}const Vse=[{value:"INITIAL",label:"Add Existing Holdings"},{value:"SIP",label:"SIP Investment"},{value:"LUMPSUM",label:"Lumpsum Investment"}];function Gse({portfolioId:e,fundCode:t,fundName:r,transactionType:n,onSave:a,onCancel:l}){const{mfPortfolios:c,mfHoldings:u}=mt(),{selectedMember:f}=$r(),m=N.useMemo(()=>{const D=c.filter(Z=>Z.status==="Active");return f==="all"?D:D.filter(Z=>Z.ownerId===f)},[c,f]),[h,x]=N.useState({portfolioId:e||"",fundCode:t||"",fundName:r||"",nav:0,navDate:"",transactionType:n||"SIP",date:new Date().toISOString().split("T")[0],units:"",price:"",notes:""}),[v,b]=N.useState({}),[S,y]=N.useState(!1),[w,C]=N.useState(!t);function k(D,Z){x(Q=>({...Q,[D]:Z})),b(Q=>({...Q,[D]:void 0}))}function A({schemeCode:D,fundName:Z,nav:Q,navDate:J}){x(L=>({...L,fundCode:D,fundName:Z,nav:Q||0,navDate:J||"",price:Q>0?String(Q):L.price})),b(L=>({...L,fundCode:void 0,fundName:void 0})),C(!1)}function M(D){x(Z=>({...Z,fundCode:D.schemeCode,fundName:D.fundName,nav:D.currentNav||0,navDate:"",price:D.currentNav>0?String(D.currentNav):Z.price})),b(Z=>({...Z,fundCode:void 0})),C(!1)}const _=N.useMemo(()=>h.portfolioId?u.filter(D=>D.portfolioId===h.portfolioId).sort((D,Z)=>Z.currentValue-D.currentValue):[],[u,h.portfolioId]),T=N.useMemo(()=>!h.portfolioId||!h.fundCode?null:u.find(D=>D.portfolioId===h.portfolioId&&D.schemeCode===h.fundCode),[u,h.portfolioId,h.fundCode]),P=h.fundCode&&!T,O=N.useMemo(()=>(Number(h.units)||0)*(Number(h.price)||0),[h.units,h.price]);function z(){const D={};return h.portfolioId||(D.portfolioId="Required"),h.fundCode||(D.fundCode="Select a fund"),h.date||(D.date="Required"),(!h.units||Number(h.units)<=0)&&(D.units="Must be > 0"),(!h.price||Number(h.price)<=0)&&(D.price="Must be > 0"),b(D),Object.keys(D).length===0}async function R(){if(z()){y(!0);try{await a({portfolioId:h.portfolioId,fundCode:h.fundCode,fundName:h.fundName,transactionType:h.transactionType,purchaseDate:h.date,units:h.units,avgPrice:h.price,notes:h.notes})}finally{y(!1)}}}const F=m.map(D=>{const Z=D.portfolioName?.replace(/^PFL-/,"")||D.portfolioName,Q=D.ownerName?`${Z} (${D.ownerName})`:Z;return{value:D.portfolioId,label:Q}});return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Portfolio",required:!0,error:v.portfolioId,children:s.jsx(Ge,{value:h.portfolioId,onChange:D=>{k("portfolioId",D),t||(k("fundCode",""),k("fundName",""),C(!1))},options:F,placeholder:"Select portfolio..."})}),s.jsx(ce,{label:"Transaction Type",required:!0,children:s.jsx(Ge,{value:h.transactionType,onChange:D=>k("transactionType",D),options:Vse})})]}),s.jsx(ce,{label:"Fund",required:!0,error:v.fundCode,children:h.fundCode&&!w?s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:Me(h.fundName).main}),Me(h.fundName).plan&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Me(h.fundName).plan})]}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[h.fundCode,h.nav>0&&s.jsxs("span",{className:"ml-2 text-emerald-400",children:["NAV: ",h.nav.toFixed(2)]})]})]}),s.jsx("button",{type:"button",onClick:()=>{k("fundCode",""),k("fundName",""),C(!0)},className:"text-xs text-[var(--text-muted)] hover:text-[var(--text-primary)] underline shrink-0",children:"Change"})]}):s.jsxs("div",{className:"space-y-3",children:[_.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5",children:"Portfolio Funds"}),s.jsx("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] overflow-hidden max-h-44 overflow-y-auto",children:_.map(D=>s.jsxs("button",{type:"button",onClick:()=>M(D),className:"w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-[var(--bg-hover)] border-b border-[var(--border-light)] last:border-b-0 transition-colors group",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate group-hover:text-white transition-colors",children:Me(D.fundName).main}),Me(D.fundName).plan&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Me(D.fundName).plan})]}),s.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:D.units>0?`${D.units.toFixed(0)} units  ${K(D.currentValue)}`:"Planned"})]}),s.jsx(Il,{size:12,className:"text-[var(--text-dim)] -rotate-90 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity"})]},D.holdingId))})]}),s.jsxs("div",{children:[_.length>0&&s.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5 flex items-center gap-1",children:[s.jsx(N1,{size:10})," Or search new fund"]}),s.jsx(kN,{value:null,onSelect:A,placeholder:"Search fund by name or code..."})]})]})}),T&&s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  will average out"}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:T.units.toFixed(2)})," units @ ",T.avgNav.toFixed(2)," avg NAV | Value: ",K(T.currentValue),T.targetAllocationPct>0&&s.jsxs("span",{children:["  Target: ",T.targetAllocationPct.toFixed(1),"%"]})]})]}),P&&s.jsxs("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:[s.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"}),s.jsx("p",{className:"text-xs text-violet-300/70 mt-0.5",children:"Use Allocations to plan how much to invest before buying"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(ce,{label:"Date",required:!0,error:v.date,children:s.jsx(Ka,{value:h.date,onChange:D=>k("date",D)})}),s.jsx(ce,{label:"Units",required:!0,error:v.units,children:s.jsx(Ce,{type:"number",value:h.units,onChange:D=>k("units",D),placeholder:"e.g., 150.50"})}),s.jsx(ce,{label:"NAV ()",required:!0,error:v.price,children:s.jsx(Ce,{type:"number",value:h.price,onChange:D=>k("price",D),placeholder:"e.g., 178.45"})})]}),O>0&&s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(O)}),T&&s.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:["New avg NAV: ",((T.investment+O)/(T.units+Number(h.units))).toFixed(2)," Total units: ",(T.units+Number(h.units)).toFixed(2)]})]}),s.jsx(ce,{label:"Notes",children:s.jsx(Ce,{value:h.notes,onChange:D=>k("notes",D),placeholder:"Optional notes..."})}),s.jsx(en,{onCancel:l,onSubmit:R,submitLabel:h.transactionType==="SIP"?"Record SIP":h.transactionType==="LUMPSUM"?"Record Lumpsum":"Add Holdings",loading:S})]})}function Wse({portfolioId:e,fundCode:t,onSave:r,onCancel:n}){const{mfPortfolios:a,mfHoldings:l}=mt(),{selectedMember:c}=$r(),u=N.useMemo(()=>{const R=a.filter(F=>F.status==="Active");return c==="all"?R:R.filter(F=>F.ownerId===c)},[a,c]),f=N.useMemo(()=>!e||!t?null:l.find(R=>R.portfolioId===e&&R.schemeCode===t),[l,e,t]),[m,h]=N.useState({portfolioId:e||"",fundCode:t||"",fundName:f?.fundName||"",date:new Date().toISOString().split("T")[0],units:"",price:f?.currentNav>0?String(f.currentNav):"",notes:""}),[x,v]=N.useState({}),[b,S]=N.useState(!1);function y(R,F){h(D=>({...D,[R]:F})),v(D=>({...D,[R]:void 0}))}const w=N.useMemo(()=>m.portfolioId?l.filter(R=>R.portfolioId===m.portfolioId&&R.units>0):[],[l,m.portfolioId]),C=w.find(R=>R.schemeCode===m.fundCode);function k(R){const F=w.find(D=>D.schemeCode===R);h(D=>({...D,fundCode:R,fundName:F?.fundName||"",price:F?.currentNav?.toString()||""})),v(D=>({...D,fundCode:void 0}))}function A(R){h(F=>({...F,portfolioId:R,fundCode:"",fundName:"",units:"",price:""})),v(F=>({...F,portfolioId:void 0}))}const M=N.useMemo(()=>(Number(m.units)||0)*(Number(m.price)||0),[m.units,m.price]),_=C?M-Number(m.units)*C.avgNav:0;function T(){const R={};return m.portfolioId||(R.portfolioId="Required"),m.fundCode||(R.fundCode="Required"),m.date||(R.date="Required"),(!m.units||Number(m.units)<=0)&&(R.units="Must be > 0"),C&&Number(m.units)>C.units&&(R.units=`Max ${C.units.toFixed(2)} units`),(!m.price||Number(m.price)<=0)&&(R.price="Must be > 0"),v(R),Object.keys(R).length===0}async function P(){if(T()){S(!0);try{await r(m)}finally{S(!1)}}}const O=u.map(R=>{const F=R.portfolioName?.replace(/^PFL-/,"")||R.portfolioName,D=R.ownerName?`${F} (${R.ownerName})`:F;return{value:R.portfolioId,label:D}}),z=w.map(R=>({value:R.schemeCode,label:`${R.fundName}  ${R.units.toFixed(0)} units  ${K(R.currentValue)}`}));return s.jsxs("div",{className:"space-y-4",children:[s.jsx(ce,{label:"Portfolio",required:!0,error:x.portfolioId,children:s.jsx(Ge,{value:m.portfolioId,onChange:A,options:O,placeholder:"Select portfolio..."})}),s.jsx(ce,{label:"Fund to Redeem",required:!0,error:x.fundCode,children:s.jsx(Ge,{value:m.fundCode,onChange:k,options:z,placeholder:m.portfolioId?w.length?"Select fund...":"No holdings":"Select portfolio first..."})}),C&&s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Me(C.fundName).main}),Me(C.fundName).plan&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Me(C.fundName).plan})]}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:C.units.toFixed(2)})," units @ ",C.avgNav.toFixed(2)," avg | Current NAV: ",C.currentNav.toFixed(2)]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(ce,{label:"Date",required:!0,error:x.date,children:s.jsx(Ka,{value:m.date,onChange:R=>y("date",R)})}),s.jsx(ce,{label:"Units",required:!0,error:x.units,children:s.jsx(Ce,{type:"number",value:m.units,onChange:R=>y("units",R),placeholder:C?`Max: ${C.units.toFixed(2)}`:""})}),s.jsx(ce,{label:"NAV ()",required:!0,error:x.price,children:s.jsx(Ce,{type:"number",value:m.price,onChange:R=>y("price",R),placeholder:"e.g., 178.45"})})]}),M>0&&s.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Redemption Amount"}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(M)})]}),C&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),s.jsxs("p",{className:`text-sm font-bold tabular-nums ${_>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[_>=0?"+":"",K(_)]})]})]})}),s.jsx(ce,{label:"Notes",children:s.jsx(Ce,{value:m.notes,onChange:R=>y("notes",R),placeholder:"Optional notes..."})}),s.jsx(en,{onCancel:n,onSubmit:P,submitLabel:"Redeem",loading:b})]})}function Kse({portfolioId:e,onSave:t,onCancel:r}){const{mfPortfolios:n,mfHoldings:a}=mt(),{selectedMember:l}=$r(),c=N.useMemo(()=>{const D=n.filter(Z=>Z.status==="Active");return l==="all"?D:D.filter(Z=>Z.ownerId===l)},[n,l]),[u,f]=N.useState({portfolioId:e||"",fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",date:new Date().toISOString().split("T")[0],units:"",fromPrice:"",toPrice:"",targetAllocation:"",notes:""}),[m,h]=N.useState({}),[x,v]=N.useState(!1);function b(D,Z){f(Q=>({...Q,[D]:Z})),h(Q=>({...Q,[D]:void 0}))}function S(D){f(Z=>({...Z,portfolioId:D,fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",units:"",fromPrice:"",toPrice:"",targetAllocation:""})),h(Z=>({...Z,portfolioId:void 0}))}const y=N.useMemo(()=>u.portfolioId?a.filter(D=>D.portfolioId===u.portfolioId&&D.units>0):[],[a,u.portfolioId]),w=y.find(D=>D.schemeCode===u.fromFundCode),C=N.useMemo(()=>!u.portfolioId||!u.toFundCode?null:a.find(D=>D.portfolioId===u.portfolioId&&D.schemeCode===u.toFundCode),[a,u.portfolioId,u.toFundCode]),k=u.toFundCode&&!C;function A(D){const Z=y.find(Q=>Q.schemeCode===D);f(Q=>({...Q,fromFundCode:D,fromFundName:Z?.fundName||"",fromPrice:Z?.currentNav?.toString()||""})),h(Q=>({...Q,fromFundCode:void 0}))}function M({schemeCode:D,fundName:Z}){const Q=a.find(J=>J.portfolioId===u.portfolioId&&J.schemeCode===D);f(J=>({...J,toFundCode:D,toFundName:Z,toPrice:Q?.currentNav?.toString()||J.toPrice,targetAllocation:""})),h(J=>({...J,toFundCode:void 0}))}const _=N.useMemo(()=>(Number(u.units)||0)*(Number(u.fromPrice)||0),[u.units,u.fromPrice]),T=_>0&&Number(u.toPrice)>0?_/Number(u.toPrice):0,P=w?_-Number(u.units)*w.avgNav:0;function O(){const D={};return u.portfolioId||(D.portfolioId="Required"),u.fromFundCode||(D.fromFundCode="Required"),u.toFundCode||(D.toFundCode="Required"),u.fromFundCode&&u.toFundCode&&u.fromFundCode===u.toFundCode&&(D.toFundCode="Must be different from source fund"),u.date||(D.date="Required"),(!u.units||Number(u.units)<=0)&&(D.units="Must be > 0"),w&&Number(u.units)>w.units&&(D.units=`Max ${w.units.toFixed(2)} units`),(!u.fromPrice||Number(u.fromPrice)<=0)&&(D.fromPrice="Must be > 0"),(!u.toPrice||Number(u.toPrice)<=0)&&(D.toPrice="Must be > 0"),h(D),Object.keys(D).length===0}async function z(){if(O()){v(!0);try{await t(u)}finally{v(!1)}}}const R=c.map(D=>{const Z=D.portfolioName?.replace(/^PFL-/,"")||D.portfolioName,Q=D.ownerName?`${Z} (${D.ownerName})`:Z;return{value:D.portfolioId,label:Q}}),F=y.map(D=>({value:D.schemeCode,label:D.fundName}));return s.jsxs("div",{className:"space-y-4",children:[s.jsx(ce,{label:"Portfolio",required:!0,error:m.portfolioId,children:s.jsx(Ge,{value:u.portfolioId,onChange:S,options:R,placeholder:"Select portfolio..."})}),s.jsx(ce,{label:"Switch From (Sell)",required:!0,error:m.fromFundCode,children:s.jsx(Ge,{value:u.fromFundCode,onChange:A,options:F,placeholder:u.portfolioId?y.length?"Select fund to switch from...":"No holdings":"Select portfolio first..."})}),w&&s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Me(w.fundName).main}),Me(w.fundName).plan&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Me(w.fundName).plan})]}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:w.units.toFixed(2)})," units @ ",w.avgNav.toFixed(2)," avg | Current NAV: ",w.currentNav.toFixed(2)]})]}),s.jsx(ce,{label:"Switch To (Buy)",required:!0,error:m.toFundCode,children:s.jsx(kN,{value:u.toFundCode?{schemeCode:u.toFundCode,fundName:u.toFundName}:null,onSelect:M,placeholder:"Search fund to switch into...",disabled:!u.portfolioId})}),C&&s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  units will be added, NAV averaged out"}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:C.units.toFixed(2)})," units @ ",C.avgNav.toFixed(2)," avg | Alloc: ",C.targetAllocationPct.toFixed(1),"%"]})]}),k&&u.toFundCode&&s.jsx("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:s.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Switch Date",required:!0,error:m.date,children:s.jsx(Ka,{value:u.date,onChange:D=>b("date",D)})}),s.jsx(ce,{label:"Units to Switch",required:!0,error:m.units,children:s.jsx(Ce,{type:"number",value:u.units,onChange:D=>b("units",D),placeholder:w?`Max: ${w.units.toFixed(2)}`:""})})]}),s.jsxs("div",{className:`grid grid-cols-1 ${k?"sm:grid-cols-3":"sm:grid-cols-2"} gap-4`,children:[s.jsx(ce,{label:"From Fund NAV ()",required:!0,error:m.fromPrice,children:s.jsx(Ce,{type:"number",value:u.fromPrice,onChange:D=>b("fromPrice",D),placeholder:"e.g., 178.45"})}),s.jsx(ce,{label:"To Fund NAV ()",required:!0,error:m.toPrice,children:s.jsx(Ce,{type:"number",value:u.toPrice,onChange:D=>b("toPrice",D),placeholder:"e.g., 82.10"})}),k&&s.jsx(ce,{label:"Target Allocation (%)",children:s.jsx(Ce,{type:"number",value:u.targetAllocation,onChange:D=>b("targetAllocation",D),placeholder:"e.g., 20"})})]}),_>0&&s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Switch Amount"}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(_)})]}),T>0&&s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Units Bought"}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:T.toFixed(4)})]}),w&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),s.jsxs("p",{className:`text-sm font-bold tabular-nums ${P>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[P>=0?"+":"",K(P)]})]})]}),C&&T>0&&s.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1 border-t border-[var(--border-light)] pt-1",children:["New total: ",(C.units+T).toFixed(2)," units  New avg NAV: ",((C.investment+_)/(C.units+T)).toFixed(2)]})]}),s.jsx(ce,{label:"Notes",children:s.jsx(Ce,{value:u.notes,onChange:D=>b("notes",D),placeholder:"Optional notes..."})}),s.jsx(en,{onCancel:r,onSubmit:z,submitLabel:"Switch Funds",loading:x})]})}function Qse({portfolioId:e,onSave:t,onCancel:r}){const{mfHoldings:n,mfPortfolios:a}=mt(),l=a.find(O=>O.portfolioId===e),c=N.useMemo(()=>n.filter(O=>O.portfolioId===e),[n,e]),[u,f]=N.useState(()=>c.map(O=>({schemeCode:O.schemeCode,fundName:O.fundName,units:O.units,currentValue:O.currentValue,currentAllocationPct:O.currentAllocationPct,targetAllocationPct:O.targetAllocationPct,isNew:!1}))),[m,h]=N.useState(null),[x,v]=N.useState(""),[b,S]=N.useState(""),[y,w]=N.useState(!1),C=u.reduce((O,z)=>O+z.targetAllocationPct,0),k=u.reduce((O,z)=>O+z.currentValue,0);function A(O,z){f(R=>R.map(F=>F.schemeCode===O?{...F,targetAllocationPct:Number(z)||0}:F)),S("")}function M(O){const z=u.find(R=>R.schemeCode===O);z&&z.units>0||f(R=>R.filter(F=>F.schemeCode!==O))}function _(){if(m){if(u.find(O=>O.schemeCode===m.schemeCode)){S("Fund already exists in portfolio");return}f(O=>[...O,{schemeCode:m.schemeCode,fundName:m.fundName,units:0,currentValue:0,currentAllocationPct:0,targetAllocationPct:Number(x)||0,isNew:!0}]),h(null),v(""),S("")}}async function T(){if(C>100){S(`Total allocation is ${C.toFixed(1)}%  must be  100%`);return}w(!0);try{await t(u.map(O=>({schemeCode:O.schemeCode,fundName:O.fundName,targetAllocationPct:O.targetAllocationPct,isNew:O.isNew})))}finally{w(!1)}}const P=l?.sipTarget||0;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:l?.portfolioName}),s.jsx("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] mt-0.5 flex-wrap",children:s.jsxs("span",{children:["Current Value: ",s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:K(k)})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[s.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold whitespace-nowrap w-24",children:"Amount"}),s.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold whitespace-nowrap w-20",children:"Current %"}),s.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold whitespace-nowrap w-24",children:"Target %"}),s.jsx("th",{className:"w-8 px-2"})]})}),s.jsx("tbody",{children:u.map(O=>{const z=O.isNew&&O.targetAllocationPct>0&&O.targetAllocationPct<100&&k>0?O.targetAllocationPct/(100-O.targetAllocationPct)*k:0,R=O.isNew&&O.targetAllocationPct>0&&P>=100?O.targetAllocationPct/100*P:0;return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[s.jsxs("td",{className:"py-2 px-2",children:[s.jsxs("p",{className:"text-xs text-[var(--text-primary)] leading-tight",children:[Me(O.fundName).main,O.isNew&&s.jsx("span",{className:"text-violet-400 ml-1 text-[10px]",children:"(new)"})]}),(z>0||R>0)&&s.jsxs("p",{className:"text-xs text-blue-400 mt-0.5",children:["Invest: ",z>0&&s.jsx("span",{className:"font-semibold",children:K(z)}),z>0&&R>0&&"  ",R>0&&s.jsxs("span",{className:"font-semibold",children:[K(R),"/mo SIP"]})]})]}),s.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums whitespace-nowrap",children:O.currentValue>0?K(O.currentValue):""}),s.jsxs("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums whitespace-nowrap",children:[O.currentAllocationPct.toFixed(1),"%"]}),s.jsx("td",{className:"py-2 px-2",children:s.jsx("input",{type:"number",value:O.targetAllocationPct,onChange:F=>A(O.schemeCode,F.target.value),className:"w-20 mx-auto block bg-[var(--bg-inset)] border border-[var(--border)] rounded px-2 py-1 text-xs text-center text-[var(--text-primary)] focus:outline-none focus:border-violet-500/50"})}),s.jsx("td",{className:"py-2 px-2 text-center",children:O.units===0&&s.jsx("button",{onClick:()=>M(O.schemeCode),className:"p-1 rounded hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors",children:s.jsx(rd,{size:12})})})]},O.schemeCode)})}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t border-[var(--border)]",children:[s.jsx("td",{className:"py-2 px-2 text-xs font-bold text-[var(--text-primary)]",children:"Total"}),s.jsx("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:K(k)}),s.jsxs("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:[u.reduce((O,z)=>O+z.currentAllocationPct,0).toFixed(1),"%"]}),s.jsx("td",{className:"py-2 px-2 text-center",children:s.jsxs("span",{className:`text-xs font-bold tabular-nums ${C>100?"text-[var(--accent-rose)]":C===100?"text-emerald-400":"text-amber-400"}`,children:[C.toFixed(1),"%"]})}),s.jsx("td",{})]})})]})}),s.jsxs("div",{className:"sm:hidden space-y-2",children:[u.map(O=>{const z=O.isNew&&O.targetAllocationPct>0&&O.targetAllocationPct<100&&k>0?O.targetAllocationPct/(100-O.targetAllocationPct)*k:0,R=O.isNew&&O.targetAllocationPct>0&&P>=100?O.targetAllocationPct/100*P:0;return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-3.5 py-3 space-y-2",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:[Me(O.fundName).main,O.isNew&&s.jsx("span",{className:"text-violet-400 ml-1 text-[10px] font-semibold",children:"(new)"})]}),s.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5 text-[11px] text-[var(--text-dim)] flex-wrap",children:[O.currentValue>0&&s.jsx("span",{className:"tabular-nums",children:K(O.currentValue)}),O.currentValue>0&&s.jsx("span",{children:""}),s.jsxs("span",{className:"tabular-nums",children:["Current ",O.currentAllocationPct.toFixed(1),"%"]})]})]}),O.units===0&&s.jsx("button",{onClick:()=>M(O.schemeCode),className:"p-1.5 rounded-lg hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors shrink-0",children:s.jsx(rd,{size:14})})]}),s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("span",{className:"text-[10px] text-[var(--text-dim)] w-10 shrink-0",children:"Target"}),s.jsx("input",{type:"range",min:"0",max:"50",step:"0.5",value:O.targetAllocationPct,onChange:F=>A(O.schemeCode,F.target.value),className:"flex-1 h-1.5 rounded-full appearance-none cursor-pointer accent-violet-500",style:{background:`linear-gradient(to right, rgb(139 92 246) 0%, rgb(139 92 246) ${O.targetAllocationPct/50*100}%, var(--bg-inset) ${O.targetAllocationPct/50*100}%, var(--bg-inset) 100%)`}}),s.jsx("input",{type:"number",value:O.targetAllocationPct,onChange:F=>A(O.schemeCode,F.target.value),className:"w-14 bg-[var(--bg-inset)] border border-[var(--border)] rounded px-1.5 py-1 text-xs text-center text-[var(--text-primary)] tabular-nums focus:outline-none focus:border-violet-500/50 shrink-0"}),s.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:"%"})]}),(z>0||R>0)&&s.jsxs("p",{className:"text-[11px] text-blue-400",children:["Invest: ",z>0&&s.jsx("span",{className:"font-semibold",children:K(z)}),z>0&&R>0&&"  ",R>0&&s.jsxs("span",{className:"font-semibold",children:[K(R),"/mo SIP"]})]})]},O.schemeCode)}),s.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-inset)] rounded-xl border border-[var(--border-light)] px-3.5 py-2.5",children:[s.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:"Total Target"}),s.jsxs("span",{className:`text-sm font-bold tabular-nums ${C>100?"text-[var(--accent-rose)]":C===100?"text-emerald-400":"text-amber-400"}`,children:[C.toFixed(1),"%"]})]})]}),s.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider mb-1",children:"Add New Fund"}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Set target % to see how much to invest. After buying, use Invest to record the transaction."}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(kN,{value:m,onSelect:O=>h(O.schemeCode?O:null),placeholder:"Search fund to add..."}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-28",children:s.jsx("input",{type:"number",value:x,onChange:O=>v(O.target.value),placeholder:"Target %",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),s.jsxs("button",{onClick:_,disabled:!m,className:"flex items-center gap-1 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[s.jsx(Fr,{size:14})," Add"]})]})]})]})]}),b&&s.jsx("p",{className:"text-xs text-[var(--accent-rose)] font-medium",children:b}),s.jsx(en,{onCancel:r,onSubmit:T,submitLabel:"Save Allocations",loading:y})]})}const Gb=["Equity","Debt","Cash","Commodities","Real Estate","Other"],Wb=["Giant","Large","Mid","Small","Micro"],Kb=["India","Global"];function Xse({fund:e,initial:t,onSave:r,onCancel:n}){const[a,l]=N.useState(()=>{const _={};return Gb.forEach(T=>{_[T]=t?.assetAllocation?.[T]||0}),t?.assetAllocation&&Object.keys(t.assetAllocation).forEach(T=>{T in _||(_[T]=t.assetAllocation[T])}),_}),[c,u]=N.useState(()=>{const _={};return Wb.forEach(T=>{_[T]=t?.equityAllocation?.[T]||0}),t?.equityAllocation&&Object.keys(t.equityAllocation).forEach(T=>{T in _||(_[T]=t.equityAllocation[T])}),_}),[f,m]=N.useState(()=>{const _={};return Kb.forEach(T=>{_[T]=t?.geoAllocation?.[T]||0}),t?.geoAllocation&&Object.keys(t.geoAllocation).forEach(T=>{T in _||(_[T]=t.geoAllocation[T])}),_}),[h,x]=N.useState(!1),v=Object.values(a).reduce((_,T)=>_+T,0),b=Object.values(c).reduce((_,T)=>_+T,0),S=Object.values(f).reduce((_,T)=>_+T,0),y=a.Equity||0,w=v===100||v===0,C=b===100||b===0||y===0,k=S===100||S===0||y===0,A=w&&C&&k;async function M(){if(A){x(!0);try{const _={fundCode:e.fundCode,fundName:e.fundName,equity:a.Equity||0,debt:a.Debt||0,cash:a.Cash||0,commodities:a.Commodities||0,realEstate:a["Real Estate"]||0,customAsset:{},giantCap:c.Giant||0,largeCap:c.Large||0,midCap:c.Mid||0,smallCap:c.Small||0,microCap:c.Micro||0,customCap:{},geoIndia:f.India||0,geoGlobal:f.Global||0,customGeo:{}};Object.entries(a).forEach(([T,P])=>{!Gb.includes(T)&&P>0&&(_.customAsset[T]=P)}),Object.entries(c).forEach(([T,P])=>{!Wb.includes(T)&&P>0&&(_.customCap[T]=P)}),Object.entries(f).forEach(([T,P])=>{!Kb.includes(T)&&P>0&&(_.customGeo[T]=P)}),await r(_)}finally{x(!1)}}}return s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-2.5",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)] truncate",children:Me(e.fundName).main}),Me(e.fundName).plan&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Me(e.fundName).plan})]}),s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:e.fundCode})]}),s.jsx(Qb,{title:"Asset Class %",fields:a,setFields:l,standardKeys:Gb,total:v,valid:w}),y>0&&s.jsx(Qb,{title:"Market Cap %",subtitle:"Equity breakdown",fields:c,setFields:u,standardKeys:Wb,total:b,valid:C}),y>0&&s.jsx(Qb,{title:"Geography %",fields:f,setFields:m,standardKeys:Kb,total:S,valid:k}),s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-3 border-t border-[var(--border-light)]",children:[s.jsx("button",{onClick:n,disabled:h,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),s.jsxs("button",{onClick:M,disabled:h||!A,className:"flex items-center gap-1.5 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:[h?s.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):s.jsx(s5,{size:12}),h?"Saving...":"Save"]})]})]})}function Qb({title:e,subtitle:t,fields:r,setFields:n,standardKeys:a,total:l,valid:c}){const[u,f]=N.useState(!1),[m,h]=N.useState("");function x(y,w){n(C=>({...C,[y]:Number(w)||0}))}function v(){const y=m.trim();!y||y in r||(n(w=>({...w,[y]:0})),h(""),f(!1))}function b(y){n(w=>{const C={...w};return delete C[y],C})}const S=Object.keys(r);return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider",children:e}),t&&s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["(",t,")"]})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-1.5",children:S.map(y=>{const w=!a.includes(y);return s.jsxs("div",{className:"relative",children:[s.jsxs("label",{className:"block text-[10px] text-[var(--text-dim)] mb-0.5 flex items-center gap-1",children:[y,w&&s.jsx("button",{onClick:()=>b(y),className:"text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:s.jsx(Ps,{size:8})})]}),s.jsx("input",{type:"number",min:"0",max:"100",value:r[y]||"",onChange:C=>x(y,C.target.value),className:"w-[72px] px-1.5 py-1 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md tabular-nums text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})]},y)})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:`text-[10px] tabular-nums ${c?"text-[var(--text-dim)]":"text-[var(--accent-rose)] font-semibold"}`,children:["Total: ",l,"% ",!c&&" must equal 100%",c&&l===100&&s.jsx("span",{className:"text-emerald-400 ml-1",children:""})]}),u?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("input",{autoFocus:!0,value:m,onChange:y=>h(y.target.value),onKeyDown:y=>{y.key==="Enter"&&v(),y.key==="Escape"&&f(!1)},placeholder:"Field name",className:"w-24 px-1.5 py-0.5 text-[10px] bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md focus:outline-none focus:border-[var(--sidebar-active-text)]"}),s.jsx("button",{onClick:v,className:"text-[10px] font-semibold text-emerald-400 hover:text-emerald-300",children:"Add"}),s.jsx("button",{onClick:()=>{f(!1),h("")},className:"text-[10px] text-[var(--text-dim)] hover:text-[var(--text-primary)]",children:s.jsx(Ps,{size:10})})]}):s.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-0.5 text-[10px] font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[s.jsx(Fr,{size:10})," Add Field"]})]})]})}const Hu=e=>e?.replace(/^PFL-/,"")||e;function Zse(e){if(!e)return"Other";const t=e.toLowerCase();return t.includes("gold")||t.includes("silver")||t.includes("commodity")?"Commodity":t.includes("liquid")||t.includes("money market")||t.includes("overnight")?"Liquid":t.includes("gilt")||t.includes("government securities")||t.includes("constant maturity")?"Gilt":t.includes("elss")||t.includes("tax saver")?"ELSS":t.includes("debt")||t.includes("bond")||t.includes("income fund")||t.includes("corporate bond")||t.includes("banking & psu")||t.includes("short duration")||t.includes("medium duration")||t.includes("long duration")||t.includes("short term")||t.includes("medium term")||t.includes("floater")||t.includes("floating rate")||t.includes("credit")||t.includes("accrual")||t.includes("savings fund")||t.includes("ultra short")?"Debt":t.includes("multi asset")?"Multi-Asset":t.includes("hybrid")||t.includes("balanced")||t.includes("dynamic asset")||t.includes("arbitrage")||t.includes("retirement")||t.includes("children")||t.includes("pension")?"Hybrid":t.includes("equity")||t.includes("flexi cap")||t.includes("large cap")||t.includes("mid cap")||t.includes("small cap")||t.includes("multi cap")||t.includes("focused")||t.includes("contra")||t.includes("value fund")||t.includes("thematic")||t.includes("sectoral")||t.includes("consumption")||t.includes("infrastructure")||t.includes("pharma")||t.includes("healthcare")||t.includes("technology")||t.includes("fmcg")||t.includes("mnc")||t.includes("opportunities fund")||t.includes("midcap")||t.includes("smallcap")||t.includes("largecap")||t.includes("large & mid")?"Equity":t.includes("index")||t.includes("etf")||t.includes("nifty")||t.includes("sensex")?"Index":t.includes("fund of fund")||t.includes("fof")||t.includes("aggressive")||t.includes("conservative")?"Hybrid":"Other"}const Jse={Equity:"#8b5cf6",Debt:"#0ea5e9",Cash:"#2dd4bf",Commodities:"#eab308","Real Estate":"#f97316",Other:"#94a3b8"},ele={Giant:"#6366f1",Large:"#3b82f6",Mid:"#f59e0b",Small:"#ef4444",Micro:"#ec4899"},tle={India:"#f97316",Global:"#06b6d4"},rle={Equity:"bg-violet-500",Debt:"bg-sky-500",Cash:"bg-teal-400",Commodities:"bg-yellow-500","Real Estate":"bg-orange-500",Other:"bg-slate-400"},nle={Giant:"bg-indigo-500",Large:"bg-blue-500",Mid:"bg-amber-500",Small:"bg-rose-500",Micro:"bg-pink-500"},ale={India:"bg-orange-500",Global:"bg-cyan-500"};function o1(e){if(!e)return null;if(e instanceof Date)return isNaN(e.getTime())?null:e;const t=String(e),r=t.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(r)return new Date(Number(r[3]),Number(r[2])-1,Number(r[1]));const n=new Date(t);return isNaN(n.getTime())?null:n}function P_(e){return e>=20?{color:"#c62828",fontWeight:700}:e>=10?{color:"#d84315",fontWeight:700}:e>=5?{color:"#e67e00",fontWeight:600}:e>=1?{color:"#b8860b",fontWeight:600}:{color:"var(--text-dim)",fontWeight:400}}function ile(){const{selectedMember:e}=$r(),{mfPortfolios:t,mfHoldings:r,mfTransactions:n,activeMembers:a,activeInvestmentAccounts:l,addMFPortfolio:c,updateMFPortfolio:u,deleteMFPortfolio:f,investMF:m,redeemMF:h,switchMF:x,updateHoldingAllocations:v,deleteMFTransaction:b,editMFTransaction:S,assetAllocations:y,updateAssetAllocation:w}=mt(),{showToast:C,showBlockUI:k,hideBlockUI:A}=Ja(),M=ei(),{mv:_}=ti(),[T,P]=N.useState(null),[O,z]=N.useState("all"),[R,F]=N.useState("holdings"),[D,Z]=N.useState(!1),[Q,J]=N.useState("all"),[L,Y]=N.useState(null),[q,le]=N.useState(!1),[be,B]=N.useState(null),se=N.useMemo(()=>t?t.filter(G=>G.status!=="Inactive").map(G=>{let $=l.find(Re=>Re.accountId===G.investmentAccountId);!$&&G.investmentAccountId&&($=l.find(Re=>`${Re.accountName} - ${Re.platformBroker}`===G.investmentAccountId));const X=$?.memberId||G.ownerId||"",we=X?a.find(Re=>Re.memberId===X):null;return{...G,investmentAccountId:$?.accountId||G.investmentAccountId,ownerId:X,ownerName:we?.memberName||G.ownerName||"",platform:$?.platformBroker||G.investmentAccountName||"",clientId:$?.accountClientId||""}}):[],[t,l,a]),ve=N.useMemo(()=>se.length?e==="all"?se:se.filter(G=>G.ownerId===e):[],[se,e]),de=N.useMemo(()=>r?ve.map(G=>{const $=r.filter(we=>we.portfolioId===G.portfolioId),X=(n||[]).filter(we=>we.portfolioId===G.portfolioId);return{...G,holdings:$,txns:X,fundCount:$.length}}):[],[ve,r,n]),Ne=N.useMemo(()=>{const G=O==="all"?de:de.filter(vt=>vt.portfolioId===O),$=G.reduce((vt,je)=>vt+je.totalInvestment,0),X=G.reduce((vt,je)=>vt+je.currentValue,0),we=G.reduce((vt,je)=>vt+je.unrealizedPL,0),Re=G.reduce((vt,je)=>vt+je.realizedPL,0),ne=we+Re,st=$>0?ne/$*100:0,ze=$>0?we/$*100:0,Te=$>0?Re/$*100:0,We=G.reduce((vt,je)=>vt+je.fundCount,0),Jt=(r?O==="all"?r.filter(vt=>G.some(je=>je.portfolioId===vt.portfolioId)):r.filter(vt=>vt.portfolioId===O):[]).reduce((vt,je)=>vt+(je.ongoingSIP||0),0);return{invested:$,current:X,unrealizedPL:we,unrealizedPLPct:ze,realizedPL:Re,realizedPLPct:Te,totalPL:ne,totalPLPct:st,funds:We,monthlySIP:Jt}},[de,O,r]),xe=N.useMemo(()=>r?O==="all"?r.filter(G=>ve.some($=>$.portfolioId===G.portfolioId)):r.filter(G=>G.portfolioId===O):[],[r,ve,O]),he=N.useMemo(()=>n?(O==="all"?n.filter($=>ve.some(X=>X.portfolioId===$.portfolioId)):n.filter($=>$.portfolioId===O)).sort(($,X)=>(o1(X.date)||0)-(o1($.date)||0)):[],[n,ve,O]),ke=N.useMemo(()=>{const G=new Set;return he.forEach($=>{$.fundName&&G.add($.fundName)}),[...G].sort()},[he]),re=N.useMemo(()=>Q==="all"?he:he.filter(G=>G.fundName===Q),[he,Q]),Fe=N.useMemo(()=>{const G={};return xe.forEach($=>{G[$.portfolioId]=(G[$.portfolioId]||0)+$.currentValue}),xe.map($=>{const X=G[$.portfolioId]||0,we=X>0?$.currentValue/X*100:0,Re=$.investment>0?$.pl/$.investment*100:0,ne=$.holdingId||`${$.portfolioId}::${$.schemeCode||$.fundCode}`;return{...$,currentAllocationPct:we,plPct:Re,_key:ne}})},[xe]),Ue=N.useMemo(()=>{if(O!=="all")return null;const G=[],$={};return Fe.forEach(X=>{$[X.portfolioId]||($[X.portfolioId]={portfolioId:X.portfolioId,holdings:[]},G.push($[X.portfolioId])),$[X.portfolioId].holdings.push(X)}),G},[Fe,O]),ge=N.useMemo(()=>{if(!r)return{};const G={};return de.forEach($=>{const X=r.filter(ze=>ze.portfolioId===$.portfolioId&&ze.units>0),we=X.reduce((ze,Te)=>ze+Te.currentValue,0),Re=($.rebalanceThreshold||.05)*100;let ne=0,st=0;X.forEach(ze=>{ze.athNav>0&&ze.belowATHPct>=5&&ne++;const Te=we>0?ze.currentValue/we*100:0;ze.targetAllocationPct>0&&Math.abs(Te-ze.targetAllocationPct)>Re&&st++}),G[$.portfolioId]={buyOpp:ne,rebalance:st}}),G},[de,r]);N.useMemo(()=>{if(O!=="all")return ge[O]||{buyOpp:0,rebalance:0};let G=0,$=0;return Object.values(ge).forEach(X=>{G+=X.buyOpp,$+=X.rebalance}),{buyOpp:G,rebalance:$}},[O,ge]);const Be=N.useMemo(()=>{if(!xe.length)return null;const G={};if(y)for(const je of y)G[je.fundCode]={asset:je.assetAllocation,equity:je.equityAllocation,geo:je.geoAllocation};const $={Equity:0,Debt:0,Cash:0,Commodities:0,"Real Estate":0,Other:0},X={Giant:0,Large:0,Mid:0,Small:0,Micro:0},we={India:0,Global:0};let Re=0,ne=!1,st=0;for(const je of xe){if(je.units<=0)continue;Re+=je.currentValue;const Ye=G[je.fundCode||je.schemeCode];if(Ye?.asset){ne=!0,st++;for(const[Ee,jt]of Object.entries(Ye.asset)){const er=je.currentValue*(jt/100);Ee in $?$[Ee]+=er:Ee==="Gold"?$.Commodities+=er:$.Other+=er}if(Ye.equity){const Ee=je.currentValue*((Ye.asset.Equity||0)/100);for(const[jt,er]of Object.entries(Ye.equity)){const ur=Ee*(er/100);jt in X?X[jt]+=ur:jt==="Large Cap"?X.Large+=ur:jt==="Mid Cap"?X.Mid+=ur:X.Small+=ur}}if(Ye.geo){const Ee=je.currentValue*((Ye.asset.Equity||0)/100);for(const[jt,er]of Object.entries(Ye.geo)){const ur=Ee*(er/100);jt in we?we[jt]+=ur:we.Global+=ur}}}else{let Ee=je.category;(!Ee||Ee==="Other")&&(Ee=Zse(je.fundName)),Ee==="Equity"||Ee==="ELSS"||Ee==="Index"?$.Equity+=je.currentValue:Ee==="Debt"||Ee==="Gilt"?$.Debt+=je.currentValue:Ee==="Liquid"?$.Cash+=je.currentValue:Ee==="Commodity"?$.Commodities+=je.currentValue:Ee==="Multi-Asset"?($.Equity+=je.currentValue*.5,$.Debt+=je.currentValue*.3,$.Commodities+=je.currentValue*.2):Ee==="Hybrid"||Ee==="FoF"?($.Equity+=je.currentValue*.65,$.Debt+=je.currentValue*.35):$.Other+=je.currentValue}}if(Re===0)return null;const Te=((je,Ye)=>Object.entries(je).filter(([,Ee])=>Ee>0).sort(([,Ee],[,jt])=>jt-Ee).map(([Ee,jt])=>({name:Ee,value:jt,pct:jt/Re*100,fill:Ye[Ee]||"#94a3b8"})))($,Jse),We=Object.values(X).reduce((je,Ye)=>je+Ye,0),Xe=We>0?Object.entries(X).filter(([,je])=>je>0).sort(([,je],[,Ye])=>Ye-je).map(([je,Ye])=>({name:je,value:Ye,pct:Ye/We*100,fill:ele[je]||"#94a3b8"})):[],Jt=Object.values(we).reduce((je,Ye)=>je+Ye,0),vt=Jt>0?Object.entries(we).filter(([,je])=>je>0).sort(([,je],[,Ye])=>Ye-je).map(([je,Ye])=>({name:je,value:Ye,pct:Ye/Jt*100,fill:tle[je]||"#94a3b8"})):[];return{assetList:Te,capList:Xe,geoList:vt,hasDetailedAlloc:ne,configuredCount:st,totalFunds:xe.filter(je=>je.units>0).length}},[xe,y]),qe=N.useMemo(()=>{if(!xe.length)return[];const G={};return xe.forEach($=>{if(!$.fundCode&&!$.schemeCode)return;const X=($.fundCode||$.schemeCode).toString();G[X]||(G[X]={fundCode:X,fundName:$.fundName||""})}),Object.values(G).sort(($,X)=>$.fundName.localeCompare(X.fundName))},[xe]);if(t===null||r===null)return s.jsx(Ki,{title:"Loading mutual funds",cards:5});const Ke=de.find(G=>G.portfolioId===O),Nt=O==="all"?`All Portfolios (${ve.length})`:`${Hu(Ke?.portfolioName)}  ${_(Ke?.ownerName,"name")}`;async function _t(G){k("Saving...");try{T?.editPortfolio?await u(T.editPortfolio.portfolioId,G):await c(G),C(T?.editPortfolio?"Portfolio updated":"Portfolio created"),P(null)}catch($){C($.message||"Failed to save portfolio","error")}finally{A()}}async function Pe(){if(T?.editPortfolio&&await M("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){k("Deactivating...");try{await f(T.editPortfolio.portfolioId),C("Portfolio deactivated"),z("all"),P(null)}catch(G){C(G.message||"Failed to deactivate portfolio","error")}finally{A()}}}async function rt(G){k("Recording investment...");try{await m(G,G.transactionType),C("Investment recorded"),P(null)}catch($){C($.message||"Failed to record investment","error")}finally{A()}}async function Ft(G){k("Recording redemption...");try{await h(G),C("Redemption recorded"),P(null)}catch($){C($.message||"Failed to record redemption","error")}finally{A()}}async function it(G){k("Recording switch...");try{await x(G),C("Switch recorded"),P(null)}catch($){C($.message||"Failed to record switch","error")}finally{A()}}async function ht(G){if(await M("Delete this transaction? This will recalculate your holdings.",{title:"Delete Transaction",confirmLabel:"Delete"})){k("Deleting...");try{await b(G),C("Transaction deleted"),Y(null)}catch($){C($.message||"Failed to delete transaction","error")}finally{A()}}}async function Xt(G){k("Updating...");try{await S(G),C("Transaction updated"),P(null)}catch($){C($.message||"Failed to update transaction","error")}finally{A()}}async function Zt(G){if(T?.allocations){k("Saving allocations...");try{await v(T.allocations,G),C("Allocations updated"),P(null)}catch($){C($.message||"Failed to update allocations","error")}finally{A()}}}async function Qi(G){k("Saving classification...");try{await w(G),C("Fund classified"),P(null)}catch($){C($.message||"Failed to save classification","error")}finally{A()}}return s.jsxs("div",{className:"space-y-4",children:[ve.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(np,{size:32,className:"text-[var(--text-dim)]"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No mutual fund portfolios yet"}),s.jsx("button",{onClick:()=>P("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):s.jsxs(s.Fragment,{children:[!be&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[s.jsxs("div",{className:"relative w-full sm:w-auto",children:[s.jsxs("button",{onClick:()=>Z(!D),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors w-full sm:min-w-[220px]",children:[s.jsx(np,{size:14,className:"text-violet-400 shrink-0"}),s.jsx("span",{className:"truncate",children:Nt}),s.jsx(Il,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${D?"rotate-180":""}`})]}),D&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>Z(!1)}),s.jsxs("div",{className:"absolute left-0 right-0 sm:right-auto top-full mt-1 z-40 bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl sm:min-w-[300px] py-1 overflow-hidden",children:[s.jsxs("button",{onClick:()=>{z("all"),Z(!1),F("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${O==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",ve.length,")"]}),s.jsx("div",{className:"border-t border-[var(--border-light)]"}),de.map(G=>{const $=G.totalPL>=0,X=ge[G.portfolioId]||{};return s.jsx("button",{onClick:()=>{z(G.portfolioId),Z(!1),F("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${O===G.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("p",{className:`text-sm ${O===G.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:Hu(G.portfolioName)}),X.buyOpp>0&&s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 shrink-0",title:`${X.buyOpp} buy opportunities`}),X.rebalance>0&&s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 shrink-0",title:`${X.rebalance} funds need rebalancing`})]}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[_(G.ownerName,"name"),"  ",G.platform,"  ",G.fundCount," funds"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(G.currentValue)}),s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${$?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[$?"+":"",G.totalPLPct.toFixed(1),"%"]})]})]})},G.portfolioId)})]})]})]}),s.jsxs("div",{className:"flex items-center gap-1.5 overflow-x-auto no-scrollbar",children:[Ke&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>P({allocations:Ke.portfolioId}),className:"shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(l5,{size:12})," Allocations"]}),s.jsxs("button",{onClick:()=>P({editPortfolio:Ke}),className:"shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(ja,{size:12})," Edit"]})]}),s.jsxs("button",{onClick:()=>P("addPortfolio"),className:"shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Fr,{size:13})," New Portfolio"]})]})]}),Ke&&s.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Platform:"})," ",Ke.platform]}),s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",_(Ke.clientId,"clientId")]}),s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Funds:"})," ",Ke.fundCount]}),Ke.sipTarget>=100&&s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"SIP Target:"})," ",K(Ke.sipTarget),"/mo"]}),Ke.lumpsumTarget>=100&&s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Lumpsum Target:"})," ",K(Ke.lumpsumTarget)]}),s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Rebalance Threshold:"})," ",(Ke.rebalanceThreshold*100).toFixed(0),"%"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[s.jsx(zo,{label:"Invested",value:K(Ne.invested)}),s.jsx(zo,{label:"Current Value",value:K(Ne.current),bold:!0}),s.jsx(zo,{label:"Unrealized P&L",value:`${Ne.unrealizedPL>=0?"+":""}${K(Ne.unrealizedPL)}`,sub:`${Ne.unrealizedPLPct>=0?"+":""}${Ne.unrealizedPLPct.toFixed(1)}%`,positive:Ne.unrealizedPL>=0}),s.jsx(zo,{label:"Realized P&L",value:`${Ne.realizedPL>=0?"+":""}${K(Ne.realizedPL)}`,sub:`${Ne.realizedPLPct>=0?"+":""}${Ne.realizedPLPct.toFixed(1)}%`,positive:Ne.realizedPL>=0}),s.jsx(zo,{label:"Total P&L",value:`${Ne.totalPL>=0?"+":""}${K(Ne.totalPL)}`,sub:`${Ne.totalPLPct>=0?"+":""}${Ne.totalPLPct.toFixed(1)}%`,positive:Ne.totalPL>=0,bold:!0}),s.jsx(zo,{label:"Monthly SIP",value:K(Ne.monthlySIP),sub:`${Ne.funds} funds`})]}),be?(()=>{const G=be,$=P_(G.belowATHPct),X=G.pl>=0,we=de.find(ne=>ne.portfolioId===G.portfolioId),Re=he.filter(ne=>ne.fundCode===G.schemeCode&&ne.portfolioId===G.portfolioId);return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-2.5",children:[s.jsx("button",{onClick:()=>B(null),className:"p-1 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors mt-0.5 shrink-0",children:s.jsx(MF,{size:16})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] leading-tight",children:Me(G.fundName).main}),Me(G.fundName).plan&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:Me(G.fundName).plan})]}),we&&s.jsxs("div",{className:"text-right shrink-0 mt-0.5",children:[s.jsx("p",{className:"text-[10px] font-semibold text-[var(--text-secondary)]",children:_(we.ownerName,"name")}),s.jsxs("p",{className:"text-[10px] text-violet-400 bg-violet-500/10 px-2 py-0.5 rounded mt-0.5 inline-block",children:[Hu(we.portfolioName),"  ",we.platform]})]})]}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-2.5 flex items-baseline justify-between",children:[s.jsx("p",{className:"text-lg font-bold text-[var(--text-primary)] tabular-nums",children:K(G.currentValue)}),s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${X?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[X?"+":"",K(G.pl)," (",X?"+":"",G.plPct.toFixed(1),"%)"]})]}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] divide-y divide-[var(--border-light)]",children:[s.jsx(Fo,{label:"Invested",value:K(G.investment)}),s.jsx(Fo,{label:"Units",value:G.units.toFixed(3)}),s.jsx(Fo,{label:"NAV (Current / Avg)",value:`${G.currentNav.toFixed(2)} / ${G.avgNav.toFixed(2)}`}),s.jsx(Fo,{label:"Allocation (Current / Target)",value:`${G.currentAllocationPct.toFixed(1)}% / ${G.targetAllocationPct.toFixed(1)}%`}),G.athNav>0&&s.jsx(Fo,{label:"ATH",value:G.belowATHPct>0?`${G.belowATHPct.toFixed(1)}% (${G.athNav.toFixed(0)})`:"At All-Time High",valueStyle:G.belowATHPct>0?$:{color:"#34d399"}}),G.ongoingSIP>0&&s.jsx(Fo,{label:"Monthly SIP",value:K(G.ongoingSIP),valueClass:"text-blue-400"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>P({invest:{portfolioId:G.portfolioId,fundCode:G.schemeCode,fundName:G.fundName}}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-emerald-400 bg-[var(--bg-card)] border border-[var(--border)] hover:bg-emerald-500/10 rounded-lg transition-colors",children:[s.jsx(Fr,{size:14})," Invest"]}),s.jsxs("button",{onClick:()=>P({redeem:{portfolioId:G.portfolioId,fundCode:G.schemeCode}}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-rose-400 bg-[var(--bg-card)] border border-[var(--border)] hover:bg-rose-500/10 rounded-lg transition-colors",children:[s.jsx(LC,{size:14})," Redeem"]}),s.jsxs("button",{onClick:()=>P({switchFunds:G.portfolioId}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-amber-400 bg-[var(--bg-card)] border border-[var(--border)] hover:bg-amber-500/10 rounded-lg transition-colors",children:[s.jsx(X0,{size:14})," Switch"]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-dim)] px-1 mb-2",children:["Transactions (",Re.length,")"]}),Re.length>0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"}),s.jsx("th",{className:"w-8"})]})}),s.jsx("tbody",{children:Re.map((ne,st)=>{const ze=ne.type==="BUY",Te=!ze&&ne.gainLoss!=null&&ne.gainLoss!==0,We=Te&&ne.gainLoss>=0,Xe={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[ne.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:ne.date}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${ze?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:ne.type}),s.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${Xe.bg} ${Xe.text}`,children:ne.transactionType})]})}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:ne.units.toFixed(2)}),s.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",ne.price.toFixed(2)]}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(ne.totalAmount)}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:Te?s.jsxs("span",{className:`text-xs font-semibold tabular-nums ${We?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[We?"+":"",K(ne.gainLoss)]}):s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),s.jsx("td",{className:"py-2.5 px-1",children:s.jsx(Vm,{txn:ne,isOpen:L===ne.transactionId,onToggle:()=>Y(L===ne.transactionId?null:ne.transactionId),onEdit:()=>{Y(null),P({editTxn:ne})},onDelete:()=>{Y(null),ht(ne.transactionId)}})})]},ne.transactionId||`fd-txn-${st}`)})})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:Re.map((ne,st)=>{const ze=ne.type==="BUY",Te=!ze&&ne.gainLoss!=null&&ne.gainLoss!==0,We=Te&&ne.gainLoss>=0;return s.jsxs("div",{className:"px-4 py-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${ze?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:ne.type}),s.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:ne.transactionType})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:ne.date}),s.jsx(Vm,{txn:ne,isOpen:L===ne.transactionId,onToggle:()=>Y(L===ne.transactionId?null:ne.transactionId),onEdit:()=>{Y(null),P({editTxn:ne})},onDelete:()=>{Y(null),ht(ne.transactionId)}})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("p",{className:"text-[var(--text-dim)]",children:[ne.units.toFixed(2)," units @ ",ne.price.toFixed(2)]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(ne.totalAmount)}),Te&&s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${We?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",We?"+":"",K(ne.gainLoss)]})]})]}),ne.notes&&s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:ne.notes})]},ne.transactionId||`fd-txn-m-${st}`)})})]}):s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-8 flex flex-col items-center gap-2",children:[s.jsx(Zu,{size:24,className:"text-[var(--text-dim)]"}),s.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No transactions yet"})]})]})]})})():s.jsxs(s.Fragment,{children:[Be&&Be.assetList.length>0&&s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsxs("button",{onClick:()=>le(G=>!G),className:"w-full flex items-center justify-between px-4 py-2.5 hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx("span",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Portfolio Breakdown"}),s.jsx(Il,{size:14,className:`text-[var(--text-dim)] transition-transform duration-200 ${q?"rotate-180":""}`})]}),q&&s.jsxs("div",{className:"px-4 pb-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(Xb,{title:"Asset Class",data:Be.assetList,bgMap:rle}),Be.capList.length>0?s.jsx(Xb,{title:"Market Cap",data:Be.capList,bgMap:nle}):s.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-4",children:s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:["Classify funds for",s.jsx("br",{}),"market cap breakdown"]})}),Be.geoList?.length>0?s.jsx(Xb,{title:"Geography",data:Be.geoList,bgMap:ale}):s.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-4",children:s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:["Classify funds for",s.jsx("br",{}),"geography breakdown"]})})]}),!Be.hasDetailedAlloc&&s.jsx("p",{className:"text-[9px] text-[var(--text-dim)]/50 mt-2 text-center",children:"Based on fund category. Go to Fund Breakdown tab to add detailed data from Morningstar."}),Be.hasDetailedAlloc&&Be.configuredCount<Be.totalFunds&&s.jsxs("p",{className:"text-[9px] text-amber-400/70 mt-2 text-center",children:[Be.totalFunds-Be.configuredCount," of ",Be.totalFunds," funds not yet classified"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:[s.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5 shrink-0",children:[s.jsxs("button",{onClick:()=>F("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${R==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[s.jsx(r5,{size:12})," Holdings (",xe.length,")"]}),s.jsxs("button",{onClick:()=>F("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${R==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[s.jsx(Zu,{size:12})," All Transactions (",he.length,")"]}),s.jsxs("button",{onClick:()=>F("breakdown"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${R==="breakdown"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[s.jsx(RC,{size:12})," Fund Breakdown (",qe.length,")"]})]}),s.jsxs("div",{className:"flex items-center gap-1.5 ml-auto shrink-0",children:[s.jsxs("button",{onClick:()=>O!=="all"&&P({invest:O}),disabled:O==="all",className:`shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded-lg border transition-colors ${O==="all"?"border-[var(--border)] text-[var(--text-dim)] cursor-not-allowed opacity-50 bg-[var(--bg-card)]":"text-emerald-400 hover:text-emerald-300 bg-[var(--bg-card)] border-[var(--border)] hover:bg-[var(--bg-hover)]"}`,children:[s.jsx(Zo,{size:12})," Invest"]}),s.jsxs("button",{onClick:()=>O!=="all"&&xe.length>0&&P({redeem:O}),disabled:O==="all"||xe.length===0,className:`shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded-lg border transition-colors ${O==="all"||xe.length===0?"border-[var(--border)] text-[var(--text-dim)] cursor-not-allowed opacity-50 bg-[var(--bg-card)]":"text-rose-400 hover:text-rose-300 bg-[var(--bg-card)] border-[var(--border)] hover:bg-[var(--bg-hover)]"}`,children:[s.jsx(ZO,{size:12})," Redeem"]}),s.jsxs("button",{onClick:()=>O!=="all"&&xe.length>0&&P({switchFunds:O}),disabled:O==="all"||xe.length===0,className:`shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded-lg border transition-colors ${O==="all"||xe.length===0?"border-[var(--border)] text-[var(--text-dim)] cursor-not-allowed opacity-50 bg-[var(--bg-card)]":"text-amber-400 hover:text-amber-300 bg-[var(--bg-card)] border-[var(--border)] hover:bg-[var(--bg-hover)]"}`,children:[s.jsx(X0,{size:12})," Switch"]})]})]}),R==="holdings"&&s.jsx(s.Fragment,{children:xe.length>0?s.jsx("div",{className:O==="all"?"space-y-4":"",children:(O==="all"?Ue:[{portfolioId:O,holdings:Fe}]).map(G=>{const $=de.find(ne=>ne.portfolioId===G.portfolioId),X=G.holdings,we=X.reduce((ne,st)=>ne+st.pl,0),Re=we>=0;return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[O==="all"&&$&&s.jsxs("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:Hu($.portfolioName)}),s.jsxs("div",{className:"flex items-center gap-3 text-xs tabular-nums",children:[s.jsx("span",{className:"text-[var(--text-muted)]",children:K($.currentValue||0)}),s.jsxs("span",{className:`font-bold ${Re?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Re?"+":"",K(we)]})]})]}),s.jsxs("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:[_($.ownerName,"name"),"  ",X.filter(ne=>ne.units>0).length," funds"]})]}),s.jsx("div",{className:"hidden lg:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:`border-b border-[var(--border-light)] ${O!=="all"?"bg-[var(--bg-inset)]":""}`,children:[s.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund Name"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),s.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[s.jsx("div",{children:"NAV"}),s.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Avg"})]}),s.jsxs("th",{className:"text-center py-2 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[s.jsx("div",{children:"ATH"}),s.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Below Peak"})]}),s.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[s.jsx("div",{children:"Allocation %"}),s.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),s.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[s.jsx("div",{children:"Amount"}),s.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Invested"})]}),s.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[s.jsx("div",{children:"P&L"}),s.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"on Holdings"})]}),s.jsx("th",{className:"py-2 px-2 w-8"})]})}),s.jsx("tbody",{children:X.map(ne=>{const st=P_(ne.belowATHPct),ze=ne.units===0,Te=de.find(Ye=>Ye.portfolioId===ne.portfolioId),We=Te?.currentValue||0,Xe=ne.pl,Jt=Xe>=0,vt=ze&&ne.targetAllocationPct>0&&ne.targetAllocationPct<100&&We>0?ne.targetAllocationPct/(100-ne.targetAllocationPct)*We:0,je=ze&&ne.targetAllocationPct>0&&Te?.sipTarget>=100?ne.targetAllocationPct/100*Te.sipTarget:0;return s.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 transition-colors ${ze?"opacity-60":"hover:bg-[var(--bg-hover)]"}`,children:[s.jsx("td",{className:"py-3.5 px-3 max-w-[240px]",children:s.jsxs("div",{children:[s.jsxs("button",{onClick:Ye=>{Ye.stopPropagation(),ze||B(ne)},className:`text-xs leading-tight text-left ${ze?"text-[var(--text-secondary)] cursor-default":"text-[var(--text-secondary)] hover:text-violet-400 transition-colors cursor-pointer"}`,children:[Me(ne.fundName).main,ze&&s.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"}),Me(ne.fundName).plan&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] font-normal mt-0.5",children:Me(ne.fundName).plan})]}),ze&&(vt>0||je>0)&&s.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[vt>0&&s.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",K(vt)]}),je>0&&s.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",K(je),"/mo"]})]})]})}),s.jsx("td",{className:"py-3.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:ze?"":ne.units.toFixed(2)}),s.jsx("td",{className:"py-3.5 px-3 text-right",children:ze?s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:["",ne.currentNav.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums mt-0.5",children:["",ne.avgNav.toFixed(2)]})]})}),s.jsx("td",{className:"py-3.5 px-2 text-center",children:ze?s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):ne.athNav>0&&ne.belowATHPct>0?s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-bold tabular-nums",style:st,children:["",ne.belowATHPct.toFixed(1),"%"]}),s.jsxs("p",{className:"text-[11px] text-[var(--text-muted)] tabular-nums mt-0.5",children:["",ne.athNav.toFixed(0)]})]}):ne.athNav>0?s.jsx("span",{className:"text-[10px] text-emerald-400/70 font-semibold",children:"AT HIGH"}):s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),s.jsx("td",{className:"py-3.5 px-3 text-right",children:ze?s.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums",children:[ne.targetAllocationPct.toFixed(1),"%"]}):s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[ne.currentAllocationPct.toFixed(1),"%"]}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums mt-0.5",children:[ne.targetAllocationPct.toFixed(1),"%"]})]})}),s.jsx("td",{className:"py-3.5 px-3 text-right",children:ze?s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(ne.currentValue)}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums mt-0.5",children:K(ne.investment)})]})}),s.jsx("td",{className:"py-3.5 px-3 text-right",children:ze?s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Jt?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Jt?"+":"",K(Xe)]}),s.jsxs("p",{className:`text-xs font-bold tabular-nums mt-0.5 ${Jt?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Jt?"+":"",ne.plPct.toFixed(1),"%"]})]})}),s.jsx("td",{className:"py-3.5 px-2 text-center",children:s.jsxs("div",{className:"flex items-center gap-0.5 justify-center",children:[s.jsx("button",{onClick:Ye=>{Ye.stopPropagation(),P({invest:{portfolioId:ne.portfolioId,fundCode:ne.schemeCode,fundName:ne.fundName}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25 transition-colors",title:"Buy / Invest",children:s.jsx(Fr,{size:14,strokeWidth:2.5})}),!ze&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:Ye=>{Ye.stopPropagation(),P({redeem:{portfolioId:ne.portfolioId,fundCode:ne.schemeCode}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-rose-500/15 text-rose-400 hover:bg-rose-500/25 transition-colors",title:"Sell / Redeem",children:s.jsx(LC,{size:14,strokeWidth:2.5})}),s.jsx("button",{onClick:Ye=>{Ye.stopPropagation(),P({switchFunds:ne.portfolioId})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-amber-500/15 text-amber-400 hover:bg-amber-500/25 transition-colors",title:"Switch Fund",children:s.jsx(X0,{size:14,strokeWidth:2.5})})]})]})})]},ne._key)})})]})}),s.jsx("div",{className:"lg:hidden space-y-2 p-3",children:X.map(ne=>{const st=ne.units===0,ze=ne.pl>=0,We=de.find(Jt=>Jt.portfolioId===ne.portfolioId)?.currentValue||0,Xe=st&&ne.targetAllocationPct>0&&ne.targetAllocationPct<100&&We>0?ne.targetAllocationPct/(100-ne.targetAllocationPct)*We:0;return st?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3 opacity-60",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-[11px] text-[var(--text-primary)] leading-tight",children:Me(ne.fundName).main}),Me(ne.fundName).plan&&s.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:Me(ne.fundName).plan})]}),s.jsx("span",{className:"text-[10px] font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded shrink-0",children:"Planned"})]}),s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:["Target ",ne.targetAllocationPct.toFixed(1),"%"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[Xe>0&&s.jsx("span",{className:"text-xs text-emerald-400 font-semibold",children:K(Xe)}),s.jsxs("button",{onClick:()=>P({invest:{portfolioId:ne.portfolioId,fundCode:ne.schemeCode,fundName:ne.fundName}}),className:"flex items-center gap-1 text-[10px] font-semibold text-emerald-400 px-2 py-0.5 rounded bg-emerald-500/10",children:[s.jsx(Fr,{size:10,strokeWidth:2.5})," Buy"]})]})]})]},ne._key):s.jsxs("button",{onClick:()=>B(ne),className:"w-full bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3 text-left hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-[11px] font-medium text-[var(--text-primary)] leading-tight",children:Me(ne.fundName).main}),Me(ne.fundName).plan&&s.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:Me(ne.fundName).plan})]}),s.jsxs("div",{className:"text-right shrink-0",children:[s.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:K(ne.currentValue)}),s.jsxs("p",{className:`text-[11px] font-semibold tabular-nums ${ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ze?"+":"",K(ne.pl)," (",ze?"+":"",ne.plPct.toFixed(1),"%)"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-1.5 text-[11px] tabular-nums",children:[s.jsxs("span",{className:"text-[var(--text-dim)]",children:["Invested ",K(ne.investment)]}),s.jsx(Xo,{size:12,className:"text-[var(--text-dim)]"})]})]},ne._key)})})]},G.portfolioId)})}):s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[s.jsx(np,{size:28,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",Ke?" in this portfolio":""]}),s.jsx("button",{onClick:()=>P({invest:O!=="all"?O:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Add your first fund"})]})}),R==="transactions"&&s.jsxs(s.Fragment,{children:[ke.length>1&&s.jsxs("div",{className:"flex items-center gap-2 px-1",children:[s.jsx(t5,{size:12,className:"text-[var(--text-dim)]"}),s.jsxs("select",{value:Q,onChange:G=>J(G.target.value),className:"text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg px-3 py-1.5 max-w-[350px] truncate",children:[s.jsxs("option",{value:"all",children:["All Funds (",he.length,")"]}),ke.map(G=>s.jsxs("option",{value:G,children:[G," (",he.filter($=>$.fundName===G).length,")"]},G))]}),Q!=="all"&&s.jsx("button",{onClick:()=>J("all"),className:"text-xs text-[var(--text-dim)] hover:text-[var(--text-muted)] underline",children:"Clear"})]}),re.length>0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"}),s.jsx("th",{className:"w-8"})]})}),s.jsx("tbody",{children:re.map((G,$)=>{const X=G.type==="BUY",we=!X&&G.gainLoss!=null&&G.gainLoss!==0,Re=we&&G.gainLoss>=0,ne=O==="all"?de.find(ze=>ze.portfolioId===G.portfolioId):null,st={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[G.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:G.date}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${X?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:G.type}),s.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${st.bg} ${st.text}`,children:G.transactionType})]})}),s.jsxs("td",{className:"py-2.5 px-3",children:[s.jsxs("div",{className:"max-w-[200px]",children:[s.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate",children:Me(G.fundName).main}),Me(G.fundName).plan&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Me(G.fundName).plan})]}),ne&&s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Hu(ne.portfolioName)})]}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:G.units.toFixed(2)}),s.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",G.price.toFixed(2)]}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(G.totalAmount)}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:we?s.jsxs("span",{className:`text-xs font-semibold tabular-nums ${Re?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Re?"+":"",K(G.gainLoss)]}):s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),s.jsx("td",{className:"py-2.5 px-1",children:s.jsx(Vm,{txn:G,isOpen:L===G.transactionId,onToggle:()=>Y(L===G.transactionId?null:G.transactionId),onEdit:()=>{Y(null),P({editTxn:G})},onDelete:()=>{Y(null),ht(G.transactionId)}})})]},G.transactionId||`txn-${$}`)})})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:re.map((G,$)=>{const X=G.type==="BUY",we=!X&&G.gainLoss!=null&&G.gainLoss!==0,Re=we&&G.gainLoss>=0;return s.jsxs("div",{className:"px-4 py-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${X?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:G.type}),s.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:G.transactionType})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:G.date}),s.jsx(Vm,{txn:G,isOpen:L===G.transactionId,onToggle:()=>Y(L===G.transactionId?null:G.transactionId),onEdit:()=>{Y(null),P({editTxn:G})},onDelete:()=>{Y(null),ht(G.transactionId)}})]})]}),s.jsxs("div",{className:"mb-1",children:[s.jsx("p",{className:"text-[11px] text-[var(--text-primary)] truncate",children:Me(G.fundName).main}),Me(G.fundName).plan&&s.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:Me(G.fundName).plan})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("p",{className:"text-[var(--text-dim)]",children:[G.units.toFixed(2)," units @ ",G.price.toFixed(2)]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(G.totalAmount)}),we&&s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Re?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",Re?"+":"",K(G.gainLoss)]})]})]}),G.notes&&s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:G.notes})]},G.transactionId||`txn-m-${$}`)})})]}):s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[s.jsx(Zu,{size:28,className:"text-[var(--text-dim)]"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:Q!=="all"?"No transactions for this fund":"No transactions yet"}),Q!=="all"?s.jsx("button",{onClick:()=>J("all"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Show all transactions"}):s.jsx("button",{onClick:()=>P({invest:O!=="all"?O:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first investment"})]})]}),R==="breakdown"&&s.jsx(s.Fragment,{children:qe.length>0?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Copy allocation data from ",s.jsx("span",{className:"font-semibold text-[var(--text-muted)]",children:"morningstar.in"}),"  Fund  Portfolio tab"]}),qe.map(G=>{const $=y?.find(X=>X.fundCode===G.fundCode);return s.jsx(cle,{fund:G,existing:$,onConfigure:()=>P({classifyFund:{fund:G,existing:$}})},G.fundCode)})]}):s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[s.jsx(RC,{size:28,className:"text-[var(--text-dim)]"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No funds to configure"})]})})]})]}),s.jsx(mr,{open:T==="addPortfolio"||!!T?.editPortfolio,onClose:()=>P(null),title:T?.editPortfolio?"Edit Portfolio":"New MF Portfolio",children:s.jsx(ase,{initial:T?.editPortfolio||void 0,onSave:_t,onDelete:T?.editPortfolio?Pe:void 0,onCancel:()=>P(null)})}),s.jsx(mr,{open:!!T?.invest,onClose:()=>P(null),title:"Invest in Mutual Fund",wide:!0,children:s.jsx(Gse,{portfolioId:typeof T?.invest=="object"?T.invest.portfolioId:typeof T?.invest=="string"?T.invest:void 0,fundCode:typeof T?.invest=="object"?T.invest.fundCode:void 0,fundName:typeof T?.invest=="object"?T.invest.fundName:void 0,onSave:rt,onCancel:()=>P(null)},T?.invest?.fundCode||T?.invest?.portfolioId||T?.invest)}),s.jsx(mr,{open:!!T?.redeem,onClose:()=>P(null),title:"Redeem Mutual Fund",wide:!0,children:s.jsx(Wse,{portfolioId:typeof T?.redeem=="object"?T.redeem.portfolioId:typeof T?.redeem=="string"?T.redeem:void 0,fundCode:typeof T?.redeem=="object"?T.redeem.fundCode:void 0,onSave:Ft,onCancel:()=>P(null)},T?.redeem?.fundCode||T?.redeem?.portfolioId||T?.redeem)}),s.jsx(mr,{open:!!T?.switchFunds,onClose:()=>P(null),title:"Switch Funds",wide:!0,children:s.jsx(Kse,{portfolioId:typeof T?.switchFunds=="string"?T.switchFunds:void 0,onSave:it,onCancel:()=>P(null)})}),s.jsx(mr,{open:!!T?.allocations,onClose:()=>P(null),title:"Manage Portfolio Allocation",wide:!0,children:T?.allocations&&s.jsx(Qse,{portfolioId:T.allocations,onSave:Zt,onCancel:()=>P(null)})}),s.jsx(mr,{open:T==="rebalance",onClose:()=>P(null),title:"Rebalance Alerts",wide:!0,children:T==="rebalance"&&s.jsx(vI,{})}),s.jsx(mr,{open:T==="buyOpp",onClose:()=>P(null),title:"Buy Opportunities",wide:!0,children:T==="buyOpp"&&s.jsx(_3,{})}),s.jsx(mr,{open:!!T?.editTxn,onClose:()=>P(null),title:"Edit Transaction",children:T?.editTxn&&s.jsx(sle,{txn:T.editTxn,onSave:Xt,onCancel:()=>P(null)})}),s.jsx(mr,{open:!!T?.classifyFund,onClose:()=>P(null),title:"Classify Fund",children:T?.classifyFund&&s.jsx(Xse,{fund:T.classifyFund.fund,initial:T.classifyFund.existing,onSave:Qi,onCancel:()=>P(null)})})]})}function zo({label:e,value:t,sub:r,positive:n,bold:a}){return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t}),r&&s.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function Fo({label:e,value:t,valueStyle:r,valueClass:n}){return s.jsxs("div",{className:"flex items-center justify-between px-3.5 py-2",children:[s.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:e}),s.jsx("p",{className:`text-xs font-semibold tabular-nums ${n||"text-[var(--text-primary)]"}`,style:r,children:t})]})}function Vm({txn:e,isOpen:t,onToggle:r,onEdit:n,onDelete:a}){const l=N.useRef(null),[c,u]=N.useState({top:0,right:0});if(!e.transactionId)return null;function f(m){if(m.stopPropagation(),!t&&l.current){const h=l.current.getBoundingClientRect();u({top:h.bottom+4,right:window.innerWidth-h.right})}r()}return s.jsxs(s.Fragment,{children:[s.jsx("button",{ref:l,onClick:f,className:"p-1 rounded-md text-[var(--text-dim)] hover:text-[var(--text-muted)] hover:bg-[var(--bg-hover)] transition-colors",title:"Actions",children:s.jsx(u8,{size:14})}),t&&Sd.createPortal(s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{position:"fixed",inset:0,zIndex:9998},onClick:m=>{m.stopPropagation(),r()}}),s.jsxs("div",{style:{position:"fixed",top:c.top,right:c.right,zIndex:9999},className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl py-1 min-w-[120px] animate-fade-in",children:[s.jsxs("button",{onClick:m=>{m.stopPropagation(),n()},className:"w-full text-left px-3 py-2 text-xs text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)] flex items-center gap-2 transition-colors",children:[s.jsx(ja,{size:12})," Edit"]}),s.jsxs("button",{onClick:m=>{m.stopPropagation(),a()},className:"w-full text-left px-3 py-2 text-xs text-[var(--accent-rose)] hover:bg-rose-500/10 flex items-center gap-2 transition-colors",children:[s.jsx(rd,{size:12})," Delete"]})]})]}),document.body)]})}function sle({txn:e,onSave:t,onCancel:r}){const[n,a]=N.useState(()=>{const y=o1(e.date);return y?y.toISOString().split("T")[0]:""}),[l,c]=N.useState(String(e.units||"")),[u,f]=N.useState(String(e.price||"")),[m,h]=N.useState(e.notes||""),[x,v]=N.useState(!1),b=(Number(l)||0)*(Number(u)||0);async function S(){if(!(!l||Number(l)<=0)&&!(!u||Number(u)<=0)){v(!0);try{await t({transactionId:e.transactionId,date:n,units:l,price:u,notes:m})}finally{v(!1)}}}return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Me(e.fundName).main}),Me(e.fundName).plan&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Me(e.fundName).plan}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[e.type,"  ",e.transactionType,"  ",e.transactionId]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Date"}),s.jsx(Ka,{value:n,onChange:a})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Units"}),s.jsx("input",{type:"number",value:l,onChange:y=>c(y.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"NAV (price)"}),s.jsx("input",{type:"number",value:u,onChange:y=>f(y.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]})]}),b>0&&s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(b)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Notes"}),s.jsx("input",{type:"text",value:m,onChange:y=>h(y.target.value),placeholder:"Optional notes...",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-[var(--border-light)]",children:[s.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:"Cancel"}),s.jsx("button",{onClick:S,disabled:x||!l||Number(l)<=0||!u||Number(u)<=0,className:"px-4 py-2 text-xs font-bold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Saving...":"Update Transaction"})]})]})}const I_=[{key:"Equity",bg:"bg-violet-500"},{key:"Debt",bg:"bg-sky-500"},{key:"Cash",bg:"bg-teal-400"},{key:"Commodities",bg:"bg-yellow-500"},{key:"Real Estate",bg:"bg-orange-500"},{key:"Other",bg:"bg-slate-400"}],lle={Giant:"G",Large:"L",Mid:"M",Small:"S",Micro:"Mi"},ole={India:"IN",Global:"GL"};function cle({fund:e,existing:t,onConfigure:r}){const n=t?.assetAllocation&&Object.keys(t.assetAllocation).length>0,a=t?.equityAllocation&&Object.keys(t.equityAllocation).length>0,l=t?.geoAllocation&&Object.keys(t.geoAllocation).length>0;return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:Me(e.fundName).main}),Me(e.fundName).plan&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Me(e.fundName).plan})]}),s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:e.fundCode})]}),s.jsx("button",{onClick:r,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-violet-400 hover:bg-violet-500/10 transition-colors shrink-0 ml-3",title:"Classify fund",children:s.jsx(l5,{size:14})})]}),n?s.jsxs("div",{className:"px-4 pb-3",children:[s.jsx("div",{className:"h-2 rounded-full overflow-hidden bg-[var(--bg-inset)] flex mb-1.5",children:I_.map(({key:c,bg:u})=>{const f=t.assetAllocation[c]||0;return f>0?s.jsx("div",{className:`h-full ${u}`,style:{width:`${f}%`}},c):null})}),s.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-0.5",children:[I_.map(({key:c,bg:u})=>{const f=t.assetAllocation[c]||0;return f>0?s.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-[var(--text-muted)] tabular-nums",children:[s.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${u}`}),f,"% ",c]},c):null}),a&&s.jsxs("span",{className:"text-[11px] text-[var(--text-dim)] tabular-nums ml-1",children:["| ",Object.entries(lle).map(([c,u])=>{const f=t.equityAllocation[c]||0;return f>0?`${u}${f}`:""}).filter(Boolean).join(" ")]}),l&&s.jsxs("span",{className:"text-[11px] text-[var(--text-dim)] tabular-nums ml-1",children:["| ",Object.entries(ole).map(([c,u])=>{const f=t.geoAllocation[c]||0;return f>0?`${u}${f}`:""}).filter(Boolean).join(" ")]})]})]}):s.jsxs("div",{className:"px-4 pb-3",children:[s.jsx("div",{className:"h-2 rounded-full bg-[var(--bg-inset)] mb-1"}),s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] italic",children:"Not configured  click  to classify"})]})]})}function Xb({title:e,data:t,bgMap:r}){return s.jsxs("div",{className:"rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-3",children:[s.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider mb-2 text-center",children:e}),s.jsx("div",{className:"w-full h-[120px]",children:s.jsx(OT,{width:"100%",height:"100%",children:s.jsxs(D3,{children:[s.jsx(iN,{data:t,dataKey:"pct",nameKey:"name",cx:"50%",cy:"50%",innerRadius:30,outerRadius:48,paddingAngle:2,stroke:"none",children:t.map((n,a)=>s.jsx(Ud,{fill:n.fill},a))}),s.jsx(K4,{content:({payload:n})=>{if(!n?.length)return null;const a=n[0].payload;return s.jsxs("div",{className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg px-2.5 py-1.5 shadow-xl",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:a.name}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[a.pct.toFixed(1),"%"]})]})}})]})})}),s.jsx("div",{className:"flex flex-wrap justify-center gap-x-3 gap-y-0.5 mt-1",children:t.map(n=>s.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-[var(--text-muted)] tabular-nums",children:[s.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${r[n.name]||"bg-slate-500"}`}),n.name," ",n.pct.toFixed(0),"%"]},n.name))})]})}function ule({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:a,activeInvestmentAccounts:l}=mt(),c=!!e,[u,f]=N.useState({portfolioName:e?.portfolioName||"",ownerId:e?.ownerId||"",investmentAccountId:e?.investmentAccountId||""}),[m,h]=N.useState({}),[x,v]=N.useState(!1);function b(A,M){f(_=>({..._,[A]:M})),h(_=>({..._,[A]:void 0}))}function S(A){f(M=>({...M,ownerId:A,investmentAccountId:""})),h(M=>({...M,ownerId:void 0}))}const y=N.useMemo(()=>u.ownerId?l.filter(A=>A.memberId===u.ownerId&&(A.accountType==="Demat + Trading"||A.accountType==="Trading")).map(A=>({value:A.accountId,label:`${A.accountName} - ${A.platformBroker}`})):[],[l,u.ownerId]);function w(){const A={};return u.portfolioName.trim()||(A.portfolioName="Required"),u.ownerId||(A.ownerId="Required"),u.investmentAccountId||(A.investmentAccountId="Required"),h(A),Object.keys(A).length===0}async function C(){if(w()){v(!0);try{await t(u)}finally{v(!1)}}}const k=a.map(A=>({value:A.memberId,label:`${A.memberName} (${A.relationship})`}));return s.jsxs("div",{className:"space-y-4",children:[s.jsx(ce,{label:"Portfolio Name",required:!0,error:m.portfolioName,children:s.jsx(Ce,{value:u.portfolioName,onChange:A=>b("portfolioName",A),placeholder:"e.g., Long-Term Growth"})}),s.jsx(ce,{label:"Owner",required:!0,error:m.ownerId,children:s.jsx(Ge,{value:u.ownerId,onChange:S,options:k,placeholder:"Select family member..."})}),s.jsx(ce,{label:"Investment Account",required:!0,error:m.investmentAccountId,children:s.jsx(Ge,{value:u.investmentAccountId,onChange:A=>b("investmentAccountId",A),options:y,placeholder:u.ownerId?y.length?"Select demat account...":"No demat accounts for this member":"Select owner first..."})}),c&&r&&s.jsx(Wi,{onClick:r}),s.jsx(en,{onCancel:n,onSubmit:C,submitLabel:c?"Update":"Create Portfolio",loading:x})]})}let ca=null,Uu=null;function dle(e){if(!e)return!1;const t=new Date(e),r=new Date;return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&t.getDate()===r.getDate()}function fle(){return ca?Promise.resolve(ca):Uu||(Uu=HO("stocksList").then(e=>e&&Array.isArray(e.data)&&dle(e.updatedAt)?(ca=e.data,ca):Gz().then(t=>(ca=Array.isArray(t)?t:[],Kr("stocksList",ca),ca))).catch(()=>(Uu=null,[])),Uu)}function mle({value:e,onSelect:t,placeholder:r,disabled:n}){const[a,l]=N.useState(""),[c,u]=N.useState(ca||[]),[f,m]=N.useState(!ca),[h,x]=N.useState(!1),v=N.useRef(null);N.useEffect(()=>{if(ca){u(ca),m(!1);return}fle().then(k=>{u(k),m(!1)})},[]),N.useEffect(()=>{function k(A){v.current&&!v.current.contains(A.target)&&x(!1)}return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const b=N.useMemo(()=>c.length?new Kl(c,{keys:[{name:"symbol",weight:2},{name:"companyName",weight:1}],threshold:.3,distance:80,minMatchCharLength:1,includeScore:!0,ignoreLocation:!1,findAllMatches:!0}):null,[c]),S=N.useMemo(()=>!b||a.length<1?[]:b.search(a).slice(0,50).map(k=>k.item),[b,a]);function y(k){l(k),x(k.length>=1)}function w(k){t({symbol:k.symbol,companyName:k.companyName,exchange:k.exchange,sector:k.sector}),l(""),x(!1)}function C(){t({symbol:"",companyName:""}),l("")}return e?.symbol?s.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:[s.jsx("span",{className:"font-bold",children:e.symbol}),"  ",e.companyName]}),e.sector&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:e.sector})]}),s.jsx("button",{type:"button",onClick:C,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:s.jsx(Ps,{size:14})})]}):s.jsxs("div",{ref:v,className:"relative",children:[s.jsxs("div",{className:"relative",children:[f?s.jsx(w1,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400 animate-spin"}):s.jsx(N1,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),s.jsx("input",{type:"text",value:a,onChange:k=>y(k.target.value),onFocus:()=>a.length>=1&&x(!0),placeholder:f?"Loading stocks...":r||"Search stock symbol or name...",disabled:n||f,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),h&&S.length>0&&s.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:S.map(k=>s.jsxs("button",{type:"button",onClick:()=>w(k),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[s.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:[s.jsx("span",{className:"font-bold",children:k.symbol}),"  ",k.companyName]}),s.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[k.sector&&s.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:k.sector}),k.industry&&s.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:[" ",k.industry]})]})]},k.symbol))}),h&&a.length>=1&&S.length===0&&!f&&s.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No stocks found for "',a,'"']})})]})}function ple({portfolioId:e,onSave:t,onCancel:r}){const{stockPortfolios:n}=mt(),{selectedMember:a}=$r(),l=N.useMemo(()=>{const k=n.filter(A=>A.status==="Active");return a==="all"?k:k.filter(A=>A.ownerId===a)},[n,a]),[c,u]=N.useState({portfolioId:e||"",symbol:"",companyName:"",exchange:"NSE",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[f,m]=N.useState({}),[h,x]=N.useState(!1);function v(k,A){u(M=>({...M,[k]:A})),m(M=>({...M,[k]:void 0}))}const b=N.useMemo(()=>{const k=Number(c.quantity)||0,A=Number(c.pricePerShare)||0;return k*A},[c.quantity,c.pricePerShare]),S=N.useMemo(()=>b+(Number(c.brokerage)||0),[b,c.brokerage]);function y(){const k={};return c.portfolioId||(k.portfolioId="Required"),c.symbol.trim()||(k.symbol="Required"),c.companyName.trim()||(k.companyName="Required"),c.date||(k.date="Required"),(!c.quantity||Number(c.quantity)<=0)&&(k.quantity="Must be > 0"),(!c.pricePerShare||Number(c.pricePerShare)<=0)&&(k.pricePerShare="Must be > 0"),m(k),Object.keys(k).length===0}async function w(){if(y()){x(!0);try{await t(c)}finally{x(!1)}}}const C=l.map(k=>{const A=k.portfolioName?.replace(/^PFL-/,"")||k.portfolioName,M=k.ownerName?`${A} (${k.ownerName})`:A;return{value:k.portfolioId,label:M}});return s.jsxs("div",{className:"space-y-4",children:[s.jsx(ce,{label:"Portfolio",required:!0,error:f.portfolioId,children:s.jsx(Ge,{value:c.portfolioId,onChange:k=>v("portfolioId",k),options:C,placeholder:"Select portfolio..."})}),s.jsx(ce,{label:"Stock",required:!0,error:f.symbol,children:s.jsx(mle,{value:c.symbol?{symbol:c.symbol,companyName:c.companyName}:null,onSelect:k=>{u(A=>({...A,symbol:k.symbol||"",companyName:k.companyName||""})),m(A=>({...A,symbol:void 0,companyName:void 0}))},placeholder:"Search by symbol or company name..."})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(ce,{label:"Purchase Date",required:!0,error:f.date,children:s.jsx(Ka,{value:c.date,onChange:k=>v("date",k)})}),s.jsx(ce,{label:"Quantity (Shares)",required:!0,error:f.quantity,children:s.jsx(Ce,{type:"number",value:c.quantity,onChange:k=>v("quantity",k),placeholder:"e.g., 100"})}),s.jsx(ce,{label:"Price per Share ()",required:!0,error:f.pricePerShare,children:s.jsx(Ce,{type:"number",value:c.pricePerShare,onChange:k=>v("pricePerShare",k),placeholder:"e.g., 2500"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Brokerage ()",children:s.jsx(Ce,{type:"number",value:c.brokerage,onChange:k=>v("brokerage",k),placeholder:"0"})}),s.jsx("div",{className:"flex flex-col justify-end",children:s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(b)}),Number(c.brokerage)>0&&s.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:["Net: ",K(S)]})]})})]}),s.jsx(ce,{label:"Notes",children:s.jsx(Ce,{value:c.notes,onChange:k=>v("notes",k),placeholder:"Optional notes..."})}),s.jsx(en,{onCancel:r,onSubmit:w,submitLabel:"Buy Stock",loading:h})]})}function hle({portfolioId:e,onSave:t,onCancel:r}){const{stockPortfolios:n,stockHoldings:a}=mt(),{selectedMember:l}=$r(),c=N.useMemo(()=>{const z=n.filter(R=>R.status==="Active");return l==="all"?z:z.filter(R=>R.ownerId===l)},[n,l]),[u,f]=N.useState({portfolioId:e||"",symbol:"",companyName:"",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[m,h]=N.useState({}),[x,v]=N.useState(!1);function b(z,R){f(F=>({...F,[z]:R})),h(F=>({...F,[z]:void 0}))}const S=N.useMemo(()=>u.portfolioId?a.filter(z=>z.portfolioId===u.portfolioId&&z.quantity>0):[],[a,u.portfolioId]),y=S.find(z=>z.symbol===u.symbol),w=y?.quantity||0,C=N.useMemo(()=>{const z=Number(u.quantity)||0,R=Number(u.pricePerShare)||0;return z*R},[u.quantity,u.pricePerShare]),k=N.useMemo(()=>C-(Number(u.brokerage)||0),[C,u.brokerage]);function A(z){const R=S.find(F=>F.symbol===z);f(F=>({...F,symbol:z,companyName:R?.companyName||""})),h(F=>({...F,symbol:void 0}))}function M(z){f(R=>({...R,portfolioId:z,symbol:"",companyName:"",quantity:""})),h(R=>({...R,portfolioId:void 0}))}function _(){const z={};return u.portfolioId||(z.portfolioId="Required"),u.symbol||(z.symbol="Required"),u.date||(z.date="Required"),(!u.quantity||Number(u.quantity)<=0)&&(z.quantity="Must be > 0"),Number(u.quantity)>w&&(z.quantity=`Max ${w} shares`),(!u.pricePerShare||Number(u.pricePerShare)<=0)&&(z.pricePerShare="Must be > 0"),h(z),Object.keys(z).length===0}async function T(){if(_()){v(!0);try{await t(u)}finally{v(!1)}}}const P=c.map(z=>{const R=z.portfolioName?.replace(/^PFL-/,"")||z.portfolioName,F=z.ownerName?`${R} (${z.ownerName})`:R;return{value:z.portfolioId,label:F}}),O=S.map(z=>({value:z.symbol,label:`${z.symbol}  ${z.quantity} shares`}));return s.jsxs("div",{className:"space-y-4",children:[s.jsx(ce,{label:"Portfolio",required:!0,error:m.portfolioId,children:s.jsx(Ge,{value:u.portfolioId,onChange:M,options:P,placeholder:"Select portfolio..."})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Stock to Sell",required:!0,error:m.symbol,children:s.jsx(Ge,{value:u.symbol,onChange:A,options:O,placeholder:u.portfolioId?S.length?"Select stock...":"No holdings in this portfolio":"Select portfolio first..."})}),y&&s.jsx("div",{className:"flex flex-col justify-end",children:s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:y.companyName}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",s.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:w})," shares @ ",K(y.avgBuyPrice)," avg"]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Sale Date",required:!0,error:m.date,children:s.jsx(Ka,{value:u.date,onChange:z=>b("date",z)})}),s.jsx(ce,{label:"Quantity to Sell",required:!0,error:m.quantity,children:s.jsx(Ce,{type:"number",value:u.quantity,onChange:z=>b("quantity",z),placeholder:w?`Max: ${w}`:""})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Sale Price per Share ()",required:!0,error:m.pricePerShare,children:s.jsx(Ce,{type:"number",value:u.pricePerShare,onChange:z=>b("pricePerShare",z),placeholder:"e.g., 2750"})}),s.jsx(ce,{label:"Brokerage ()",children:s.jsx(Ce,{type:"number",value:u.brokerage,onChange:z=>b("brokerage",z),placeholder:"0"})})]}),C>0&&s.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Net Sale Amount"}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(k)})]}),y&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. P&L"}),(()=>{const z=Number(u.quantity)*y.avgBuyPrice,R=k-z,F=R>=0;return s.jsxs("p",{className:`text-sm font-bold tabular-nums ${F?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[F?"+":"",K(R)]})})()]})]})}),s.jsx(ce,{label:"Notes",children:s.jsx(Ce,{value:u.notes,onChange:z=>b("notes",z),placeholder:"Optional notes..."})}),s.jsx(en,{onCancel:r,onSubmit:T,submitLabel:"Sell Stock",loading:x})]})}function xle(){const{selectedMember:e}=$r(),{stockPortfolios:t,stockHoldings:r,stockTransactions:n,activeInvestmentAccounts:a,addStockPortfolio:l,updateStockPortfolio:c,deleteStockPortfolio:u,buyStock:f,sellStock:m}=mt(),{showToast:h,showBlockUI:x,hideBlockUI:v}=Ja(),b=ei(),{mv:S}=ti(),[y,w]=N.useState(null),[C,k]=N.useState("all"),[A,M]=N.useState("holdings"),[_,T]=N.useState(!1),P=N.useMemo(()=>{if(!t)return[];const q=t.filter(le=>le.status!=="Inactive");return e==="all"?q:q.filter(le=>le.ownerId===e)},[t,e]),O=N.useMemo(()=>r?P.map(q=>{const le=r.filter(ke=>ke.portfolioId===q.portfolioId),be=(n||[]).filter(ke=>ke.portfolioId===q.portfolioId),B=le.reduce((ke,re)=>ke+re.totalInvestment,0),se=le.reduce((ke,re)=>ke+re.currentValue,0),ve=se-B,de=be.filter(ke=>ke.type==="SELL"&&ke.realizedPL!=null).reduce((ke,re)=>ke+re.realizedPL,0),Ne=ve+de,xe=B>0?Ne/B*100:0,he=a.find(ke=>ke.accountId===q.investmentAccountId);return{...q,holdings:le,txns:be,invested:B,current:se,unrealizedPL:ve,realizedPL:de,totalPL:Ne,totalPLPct:xe,stockCount:le.length,platform:he?.platformBroker||q.investmentAccountName||"",clientId:he?.accountClientId||""}}):[],[P,r,n,a]),z=N.useMemo(()=>{const q=C==="all"?O:O.filter(he=>he.portfolioId===C),le=q.reduce((he,ke)=>he+ke.invested,0),be=q.reduce((he,ke)=>he+ke.current,0),B=q.reduce((he,ke)=>he+ke.unrealizedPL,0),se=q.reduce((he,ke)=>he+ke.realizedPL,0),ve=B+se,de=le>0?ve/le*100:0,Ne=le>0?B/le*100:0,xe=q.reduce((he,ke)=>he+ke.stockCount,0);return{invested:le,current:be,unrealizedPL:B,unrealizedPLPct:Ne,realizedPL:se,totalPL:ve,totalPLPct:de,stocks:xe}},[O,C]),R=N.useMemo(()=>r?C==="all"?r.filter(q=>P.some(le=>le.portfolioId===q.portfolioId)):r.filter(q=>q.portfolioId===C):[],[r,P,C]),F=N.useMemo(()=>n?(C==="all"?n.filter(le=>P.some(be=>be.portfolioId===le.portfolioId)):n.filter(le=>le.portfolioId===C)).sort((le,be)=>new Date(be.date)-new Date(le.date)):[],[n,P,C]);if(t===null||r===null)return s.jsx(Ki,{title:"Loading stocks",cards:5});const D=O.find(q=>q.portfolioId===C),Z=C==="all"?`All Portfolios (${P.length})`:`${D?.portfolioName}  ${S(D?.ownerName,"name")}`;async function Q(q){x("Saving...");try{y?.editPortfolio?await c(y.editPortfolio.portfolioId,q):await l(q),h(y?.editPortfolio?"Portfolio updated":"Portfolio created"),w(null)}catch(le){h(le.message||"Failed to save portfolio","error")}finally{v()}}async function J(){if(y?.editPortfolio&&await b("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){x("Deactivating...");try{await u(y.editPortfolio.portfolioId),h("Portfolio deactivated"),k("all"),w(null)}catch(q){h(q.message||"Failed to deactivate portfolio","error")}finally{v()}}}async function L(q){x("Recording purchase...");try{await f(q),h("Stock purchase recorded"),w(null)}catch(le){h(le.message||"Failed to record purchase","error")}finally{v()}}async function Y(q){x("Recording sale...");try{await m(q),h("Stock sale recorded"),w(null)}catch(le){h(le.message||"Failed to record sale","error")}finally{v()}}return s.jsxs("div",{className:"space-y-4",children:[P.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(Qu,{size:32,className:"text-[var(--text-dim)]"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No stock portfolios yet"}),s.jsx("button",{onClick:()=>w("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>T(!_),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[s.jsx(Qu,{size:14,className:"text-violet-400 shrink-0"}),s.jsx("span",{className:"truncate",children:Z}),s.jsx(Il,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${_?"rotate-180":""}`})]}),_&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>T(!1)}),s.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl min-w-[280px] py-1 overflow-hidden",children:[s.jsxs("button",{onClick:()=>{k("all"),T(!1),M("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${C==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",P.length,")"]}),s.jsx("div",{className:"border-t border-[var(--border-light)]"}),O.map(q=>{const le=q.totalPL>=0;return s.jsx("button",{onClick:()=>{k(q.portfolioId),T(!1),M("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${C===q.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${C===q.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:q.portfolioName}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[S(q.ownerName,"name"),"  ",q.platform]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(q.current)}),s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${le?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[le?"+":"",q.totalPLPct.toFixed(1),"%"]})]})]})},q.portfolioId)})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[D&&s.jsxs("button",{onClick:()=>w({editPortfolio:D}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(ja,{size:12})," Edit"]}),s.jsxs("button",{onClick:()=>w("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Fr,{size:14})," New Portfolio"]})]})]}),D&&s.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Platform:"})," ",D.platform]}),s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",S(D.clientId,"clientId")]}),s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold",children:"Stocks:"})," ",D.stockCount]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[s.jsx(Yu,{label:"Invested",value:K(z.invested)}),s.jsx(Yu,{label:"Current Value",value:K(z.current),bold:!0}),s.jsx(Yu,{label:"Unrealized P&L",value:`${z.unrealizedPL>=0?"+":""}${K(z.unrealizedPL)}`,sub:`${z.unrealizedPLPct>=0?"+":""}${z.unrealizedPLPct.toFixed(1)}%`,positive:z.unrealizedPL>=0}),s.jsx(Yu,{label:"Realized P&L",value:`${z.realizedPL>=0?"+":""}${K(z.realizedPL)}`,positive:z.realizedPL>=0}),s.jsx(Yu,{label:"Total P&L",value:`${z.totalPL>=0?"+":""}${K(z.totalPL)}`,sub:`${z.totalPLPct>=0?"+":""}${z.totalPLPct.toFixed(1)}%`,positive:z.totalPL>=0,bold:!0})]}),s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[s.jsxs("button",{onClick:()=>M("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${A==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[s.jsx(r5,{size:12})," Holdings (",R.length,")"]}),s.jsxs("button",{onClick:()=>M("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${A==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[s.jsx(Zu,{size:12})," Transactions (",F.length,")"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>C!=="all"&&w({buy:C}),disabled:C==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${C==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:C==="all"?"Select a portfolio first":"",children:[s.jsx(Zo,{size:14})," Buy"]}),s.jsxs("button",{onClick:()=>C!=="all"&&R.length>0&&w({sell:C}),disabled:C==="all"||R.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${C==="all"||R.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:C==="all"?"Select a portfolio first":"",children:[s.jsx(jp,{size:14})," Sell"]})]})]}),A==="holdings"&&s.jsx(s.Fragment,{children:R.length>0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Avg Price"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Price"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Value"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Returns"})]})}),s.jsxs("tbody",{children:[R.map(q=>{const le=q.unrealizedPL>=0,be=C==="all"?O.find(B=>B.portfolioId===q.portfolioId):null;return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsxs("td",{className:"py-2.5 px-4",children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:q.companyName}),s.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[q.symbol,be&&s.jsxs("span",{className:"ml-1.5 text-[var(--text-dim)] font-sans",children:[" ",be.portfolioName]})]})]}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:q.quantity}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:K(q.avgBuyPrice)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(q.currentPrice)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:K(q.totalInvestment)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(q.currentValue)}),s.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${le?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[le?"+":"",K(q.unrealizedPL)]}),s.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${le?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[le?"+":"",q.unrealizedPLPct.toFixed(1),"%"]})]},q.holdingId)}),s.jsxs("tr",{className:"bg-[var(--bg-inset)] border-t-2 border-[var(--border-light)]",children:[s.jsxs("td",{className:"py-2.5 px-4 text-xs font-semibold text-[var(--text-muted)]",children:["Total (",R.length," stocks)"]}),s.jsx("td",{colSpan:3,className:"py-2.5 px-3"}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(z.invested)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(z.current)}),s.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${z.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[z.unrealizedPL>=0?"+":"",K(z.unrealizedPL)]}),s.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${z.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[z.unrealizedPLPct>=0?"+":"",z.unrealizedPLPct.toFixed(1),"%"]})]})]})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:R.map(q=>{const le=q.unrealizedPL>=0,be=C==="all"?O.find(B=>B.portfolioId===q.portfolioId):null;return s.jsxs("div",{className:"px-4 py-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:q.companyName}),s.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[q.symbol,be&&s.jsxs("span",{className:"ml-1 font-sans",children:[" ",be.portfolioName]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:`text-xs font-bold tabular-nums ${le?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[le?"+":"",q.unrealizedPLPct.toFixed(1),"%"]}),s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${le?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[le?"+":"",K(q.unrealizedPL)]})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs gap-2",children:[s.jsxs("div",{className:"text-[var(--text-dim)] min-w-0 truncate",children:[s.jsxs("span",{children:[q.quantity," shares"]}),s.jsx("span",{className:"mx-1",children:""}),s.jsxs("span",{children:["Avg ",K(q.avgBuyPrice)]}),s.jsx("span",{className:"mx-1",children:""}),s.jsxs("span",{children:["CMP ",K(q.currentPrice)]})]}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums shrink-0",children:K(q.currentValue)})]})]},q.holdingId)})})]}):s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[s.jsx(Qu,{size:28,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",D?" in this portfolio":""]}),s.jsx("button",{onClick:()=>w({buy:C!=="all"?C:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Buy your first stock"})]})}),A==="transactions"&&s.jsx(s.Fragment,{children:F.length>0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Brokerage"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Net"}),s.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Realized P&L"})]})}),s.jsx("tbody",{children:F.map(q=>{const le=q.type==="BUY",be=!le&&q.realizedPL!=null,B=be&&q.realizedPL>=0,se=C==="all"?O.find(ve=>ve.portfolioId===q.portfolioId):null;return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)]",children:q.date}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${le?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:q.type})}),s.jsxs("td",{className:"py-2.5 px-3",children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:q.symbol}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[140px]",children:[q.companyName,se&&s.jsxs("span",{children:["  ",se.portfolioName]})]})]}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:q.quantity}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:K(q.pricePerShare)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:K(q.totalAmount)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-dim)] tabular-nums",children:q.brokerage>0?K(q.brokerage):""}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(q.netAmount)}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:be?s.jsxs("span",{className:`text-xs font-semibold tabular-nums ${B?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[B?"+":"",K(q.realizedPL)]}):s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},q.transactionId)})})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:F.map(q=>{const le=q.type==="BUY",be=!le&&q.realizedPL!=null,B=be&&q.realizedPL>=0;return s.jsxs("div",{className:"px-4 py-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${le?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:q.type}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:q.symbol})]}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:q.date})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[q.quantity," shares @ ",K(q.pricePerShare)]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(q.netAmount)}),be&&s.jsxs("p",{className:`text-xs font-semibold tabular-nums ${B?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["P&L: ",B?"+":"",K(q.realizedPL)]})]})]}),q.notes&&s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:q.notes})]},q.transactionId)})})]}):s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[s.jsx(Zu,{size:28,className:"text-[var(--text-dim)]"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions yet"}),s.jsx("button",{onClick:()=>w({buy:C!=="all"?C:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first purchase"})]})})]}),s.jsx(mr,{open:y==="addPortfolio"||!!y?.editPortfolio,onClose:()=>w(null),title:y?.editPortfolio?"Edit Portfolio":"New Stock Portfolio",children:s.jsx(ule,{initial:y?.editPortfolio||void 0,onSave:Q,onDelete:y?.editPortfolio?J:void 0,onCancel:()=>w(null)})}),s.jsx(mr,{open:!!y?.buy,onClose:()=>w(null),title:"Buy Stock",wide:!0,children:s.jsx(ple,{portfolioId:typeof y?.buy=="string"?y.buy:void 0,onSave:L,onCancel:()=>w(null)})}),s.jsx(mr,{open:!!y?.sell,onClose:()=>w(null),title:"Sell Stock",wide:!0,children:s.jsx(hle,{portfolioId:typeof y?.sell=="string"?y.sell:void 0,onSave:Y,onCancel:()=>w(null)})})]})}function Yu({label:e,value:t,sub:r,positive:n,bold:a}){return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t}),r&&s.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}const vle=["Self","Spouse","Father","Mother","Son","Daughter","Brother","Sister","Other"].map(e=>({value:e,label:e})),Gm={pan:/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,aadhar:/^\d{12}$/,email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,mobile:/^\d{10}$/};function gle({initial:e,onSave:t,onDelete:r,onCancel:n}){const a=!!e,[l,c]=N.useState({memberName:e?.memberName||"",relationship:e?.relationship||"",pan:e?.pan||"",aadhar:e?.aadhar||"",email:e?.email||"",mobile:e?.mobile||"",includeInEmailReports:e?.includeInEmailReports??!0,status:e?.status||"Active"}),[u,f]=N.useState({}),[m,h]=N.useState(!1),[x,v]=N.useState(()=>{const A=e?.dynamicFields||{};return Object.entries(A).map(([M,_])=>({key:M,value:_}))});function b(A,M){c(_=>({..._,[A]:M})),f(_=>({..._,[A]:void 0}))}function S(){const A={};return l.memberName.trim()||(A.memberName="Required"),l.relationship||(A.relationship="Required"),Gm.pan.test(l.pan.toUpperCase())||(A.pan="Format: ABCDE1234F"),Gm.aadhar.test(l.aadhar)||(A.aadhar="12 digits required"),Gm.email.test(l.email)||(A.email="Invalid email"),Gm.mobile.test(l.mobile)||(A.mobile="10 digits required"),f(A),Object.keys(A).length===0}function y(){v(A=>[...A,{key:"",value:""}])}function w(A,M,_){v(T=>T.map((P,O)=>O===A?{...P,[M]:_}:P))}function C(A){v(M=>M.filter((_,T)=>T!==A))}async function k(){if(!S())return;const A={};x.forEach(({key:M,value:_})=>{const T=M.trim();T&&(A[T]=_)}),h(!0);try{await t({...l,pan:l.pan.toUpperCase(),dynamicFields:A})}finally{h(!1)}}return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Member Name",required:!0,error:u.memberName,children:s.jsx(Ce,{value:l.memberName,onChange:A=>b("memberName",A),placeholder:"e.g., Jagadeesh"})}),s.jsx(ce,{label:"Relationship",required:!0,error:u.relationship,children:s.jsx(Ge,{value:l.relationship,onChange:A=>b("relationship",A),options:vle,placeholder:"Select..."})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"PAN",required:!0,error:u.pan,children:s.jsx(Ce,{sensitive:!0,value:l.pan,onChange:A=>b("pan",A.toUpperCase()),placeholder:"ABCDE1234F",maxLength:10})}),s.jsx(ce,{label:"Aadhar",required:!0,error:u.aadhar,children:s.jsx(Ce,{sensitive:!0,value:l.aadhar,onChange:A=>b("aadhar",A.replace(/\D/g,"")),placeholder:"123456789012",maxLength:12})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Email",required:!0,error:u.email,children:s.jsx(Ce,{sensitive:!0,type:"email",value:l.email,onChange:A=>b("email",A),placeholder:"email@example.com"})}),s.jsx(ce,{label:"Mobile",required:!0,error:u.mobile,children:s.jsx(Ce,{sensitive:!0,value:l.mobile,onChange:A=>b("mobile",A.replace(/\D/g,"")),placeholder:"9876543210",maxLength:10})})]}),s.jsx(vie,{checked:l.includeInEmailReports,onChange:A=>b("includeInEmailReports",A),label:"Include in email reports"}),a&&s.jsx(ce,{label:"Status",children:s.jsx(Ge,{value:l.status,onChange:A=>b("status",A),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)]",children:"Custom Fields"}),s.jsxs("button",{onClick:y,type:"button",className:"flex items-center gap-1 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[s.jsx(Fr,{size:12})," Add Field"]})]}),x.length===0&&s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"No custom fields. Add DOB, occupation, blood group, etc."}),s.jsx("div",{className:"space-y-2",children:x.map((A,M)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{value:A.key,onChange:_=>w(M,"key",_.target.value),placeholder:"Field name",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),s.jsx("input",{value:A.value,onChange:_=>w(M,"value",_.target.value),placeholder:"Value",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),s.jsx("button",{onClick:()=>C(M),type:"button",className:"p-1 text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:s.jsx(rd,{size:13})})]},M))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[a&&r?s.jsx(Wi,{onClick:r}):s.jsx("div",{}),s.jsx(en,{onCancel:n,onSubmit:k,submitLabel:a?"Update":"Add Member",loading:m})]})]})}const Wm=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],R_={Self:"bg-violet-500/15 text-[var(--accent-violet)]",Spouse:"bg-rose-500/15 text-[var(--accent-rose)]",Father:"bg-blue-500/15 text-[var(--accent-blue)]",Mother:"bg-amber-500/15 text-[var(--accent-amber)]",Son:"bg-emerald-500/15 text-emerald-400",Daughter:"bg-emerald-500/15 text-emerald-400"};function ble(){const{members:e,addMember:t,updateMember:r,deleteMember:n}=mt(),{showToast:a,showBlockUI:l,hideBlockUI:c}=Ja(),u=ei(),{mv:f}=ti(),[m,h]=N.useState(null);if(e===null)return s.jsx(Ki,{title:"Loading family",cards:3});const x=e.filter(S=>S.status!=="Inactive");async function v(S){l("Saving member...");try{m?.edit?await r(m.edit.memberId,S):await t(S),a(m?.edit?"Member updated":"Member added"),h(null)}catch(y){a(y.message||"Failed to save member","error")}finally{c()}}async function b(){if(m?.edit&&await u("Deactivate this family member?",{title:"Deactivate Member",confirmLabel:"Deactivate"})){l("Deactivating...");try{await n(m.edit.memberId),a("Member deactivated"),h(null)}catch(S){a(S.message||"Failed to deactivate member","error")}finally{c()}}}return[...new Set(x.flatMap(S=>Object.keys(S.dynamicFields||{})))],s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>h("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Fr,{size:14})," Add Member"]})}),x.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(Jo,{size:32,className:"text-[var(--text-dim)]"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No family members yet"}),s.jsx("button",{onClick:()=>h("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first member"})]}):s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Relationship"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"PAN"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Aadhaar"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Mobile"}),s.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),s.jsx("tbody",{children:x.map((S,y)=>{const w=S.dynamicFields||{},C=Object.entries(w);return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsx("td",{className:"py-2.5 px-4",children:s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Wm[y%Wm.length]}`,children:S.memberName.charAt(0)}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:f(S.memberName,"name")}),C.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-0.5",children:[C.slice(0,3).map(([k,A])=>s.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[k,": ",A]},k)),C.length>3&&s.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",C.length-3," more"]})]})]})]})}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${R_[S.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:S.relationship})}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:f(S.pan,"pan")||""}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:f(S.aadhar,"aadhaar")||""}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] truncate max-w-[180px]",children:f(S.email,"email")}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:f(S.mobile,"mobile")}),s.jsx("td",{className:"py-2.5 px-2",children:s.jsx("button",{onClick:()=>h({edit:S}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:s.jsx(ja,{size:12})})})]},S.memberId)})})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:x.map((S,y)=>{const w=S.dynamicFields||{},C=Object.entries(w);return s.jsxs("div",{onClick:()=>h({edit:S}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Wm[y%Wm.length]}`,children:S.memberName.charAt(0)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:f(S.memberName,"name")}),s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${R_[S.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:S.relationship})]}),s.jsx("p",{className:"text-xs text-[var(--text-muted)] truncate",children:f(S.email,"email")})]})]}),s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-1",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:f(S.mobile,"mobile")}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["PAN: ",f(S.pan,"pan")||""]}),S.aadhar&&s.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["Aadhaar: ",f(S.aadhar,"aadhaar")]})]})]}),C.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[C.slice(0,3).map(([k,A])=>s.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[k,": ",A]},k)),C.length>3&&s.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",C.length-3," more"]})]})]},S.memberId)})})]}),s.jsx(mr,{open:!!m,onClose:()=>h(null),title:m?.edit?"Edit Member":"Add Family Member",wide:!0,children:s.jsx(gle,{initial:m?.edit||void 0,onSave:v,onDelete:m?.edit?b:void 0,onCancel:()=>h(null)})})]})}const L_=["Retirement","Emergency Fund","Child Education","Home Purchase","Car","Travel","Wedding","Custom"].map(e=>({value:e,label:e})),z_=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],Km={Retirement:{inflation:6,cagr:12},"Emergency Fund":{inflation:0,cagr:7},"Child Education":{inflation:10,cagr:12},"Home Purchase":{inflation:8,cagr:12},Wedding:{inflation:6,cagr:12},Car:{inflation:5,cagr:10},Travel:{inflation:6,cagr:10},Custom:{inflation:6,cagr:12}},F_=[{label:"Basics",icon:Th},{label:"Financials",icon:o8},{label:"Review",icon:bc}];function yle({initial:e,onSave:t,onDelete:r,onCancel:n}){const a=!!e,{activeMembers:l}=mt(),c=(l||[]).map(O=>({value:O.memberId,label:O.relationship?`${O.memberName} (${O.relationship})`:O.memberName})),[u,f]=N.useState(0),[m,h]=N.useState(()=>{if(a){const O=(e.expectedInflation||.06)*100,z=(e.expectedCAGR||.12)*100,R=e.targetDate?Math.max(0,(new Date(e.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,F=O/100;let D=e.targetAmount||0;F>0&&R>0&&e.goalType!=="Emergency Fund"&&(D=e.targetAmount/Math.pow(1+F,R));const Z=l.find(Q=>Q.memberName===e.familyMemberName);return{goalType:e.goalType||"",goalName:e.goalName||"",familyMemberId:Z?.memberId||"",todaysCost:Math.round(D).toString(),targetDate:e.targetDate||"",lumpsum:(e.lumpsumInvested||0).toString(),monthlySIP:(e.monthlyInvestment||0).toString(),inflation:O.toString(),cagr:z.toString(),priority:e.priority||"Medium",notes:e.notes||"",monthlyExpenses:(e.monthlyExpenses||"").toString(),emergencyMonths:(e.emergencyMonths||6).toString()}}return{goalType:"",goalName:"",familyMemberId:"",todaysCost:"",targetDate:"",lumpsum:"",monthlySIP:"",inflation:"6",cagr:"12",priority:"Medium",notes:"",monthlyExpenses:"",emergencyMonths:"6"}}),[x,v]=N.useState({}),[b,S]=N.useState(!1);function y(O,z){h(R=>({...R,[O]:z})),v(R=>({...R,[O]:void 0}))}N.useEffect(()=>{if(a||!m.goalType)return;const O=Km[m.goalType]||Km.Custom;h(z=>({...z,inflation:O.inflation.toString(),cagr:O.cagr.toString()}))},[m.goalType,a]);const w=m.goalType==="Retirement",C=m.goalType==="Emergency Fund",k=N.useMemo(()=>{const O=(Number(m.inflation)||0)/100,R=(Number(m.cagr)||0)/100/12,F=Number(m.lumpsum)||0,D=Number(m.monthlyExpenses)||0,Z=Number(m.emergencyMonths)||6,Q=m.targetDate?Math.max(0,(new Date(m.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,J=Math.round(Q*12);let L=0,Y=0;w?(L=D*12*25,Y=L*Math.pow(1+O,Q)):C?(L=D*Z,Y=L):(L=Number(m.todaysCost)||0,Y=O>0&&Q>0?L*Math.pow(1+O,Q):L),Y=Math.round(Y);const q=F>0&&J>0?F*Math.pow(1+R,J):F;let le=0;if(Y>0&&J>0){const de=Y-q;de>0&&R>0?le=de/((Math.pow(1+R,J)-1)/R):de>0&&(le=de/J),le=Math.max(0,Math.ceil(le))}const be=le>0&&R>0&&J>0?le*((Math.pow(1+R,J)-1)/R):le*J,B=Math.round(F+le*J),se=Math.round(Y-B),ve=F>0&&q>=Y;return{todaysCost:L,inflatedTarget:Y,yearsToGo:Q,months:J,fvLumpsum:Math.round(q),requiredSIP:le,fvRequiredSIP:Math.round(be),planTotalInvested:B,planReturns:se,lumpsumCoversGoal:ve,hasTarget:Y>0}},[m.todaysCost,m.targetDate,m.lumpsum,m.inflation,m.cagr,m.monthlyExpenses,m.emergencyMonths,w,C]);function A(O){const z={};return O===0&&(m.goalType||(z.goalType="Required"),m.goalName.trim()||(z.goalName="Required")),O===1&&(m.targetDate||(z.targetDate="Required"),w||C?(!m.monthlyExpenses||Number(m.monthlyExpenses)<=0)&&(z.monthlyExpenses="Required"):(!m.todaysCost||Number(m.todaysCost)<=0)&&(z.todaysCost="Must be > 0")),v(z),Object.keys(z).length===0}function M(){const O={};return m.goalType||(O.goalType="Required"),m.goalName.trim()||(O.goalName="Required"),m.targetDate||(O.targetDate="Required"),w||C?(!m.monthlyExpenses||Number(m.monthlyExpenses)<=0)&&(O.monthlyExpenses="Required"):(!m.todaysCost||Number(m.todaysCost)<=0)&&(O.todaysCost="Must be > 0"),v(O),Object.keys(O).length===0}function _(){A(u)&&f(O=>Math.min(O+1,2))}async function T(){if(!M())return;const O=m.familyMemberId&&l.find(z=>z.memberId===m.familyMemberId)?.memberName||"Family";S(!0);try{await t({goalType:m.goalType,goalName:m.goalName,familyMemberId:m.familyMemberId||"",familyMember:O,targetAmount:k.inflatedTarget,targetDate:m.targetDate,priority:m.priority,notes:m.notes,expectedInflation:(Number(m.inflation)||0)/100,expectedCAGR:(Number(m.cagr)||0)/100,monthlyInvestment:k.requiredSIP||0,lumpsumInvested:Number(m.lumpsum)||0,monthlyExpenses:w||C?Number(m.monthlyExpenses)||0:void 0,emergencyMonths:C?Number(m.emergencyMonths)||6:void 0,isRetirement:w,currentCost:k.todaysCost})}finally{S(!1)}}const P=m.familyMemberId&&l.find(O=>O.memberId===m.familyMemberId)?.memberName||"Family";return a?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Goal Type",required:!0,error:x.goalType,children:s.jsx(Ge,{value:m.goalType,onChange:O=>y("goalType",O),options:L_,placeholder:"Select type..."})}),s.jsx(ce,{label:"Goal Name",required:!0,error:x.goalName,children:s.jsx(Ce,{value:m.goalName,onChange:O=>y("goalName",O),placeholder:"e.g., Retirement Fund (2045)"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"For",error:x.familyMemberId,children:s.jsx(Ge,{value:m.familyMemberId,onChange:O=>y("familyMemberId",O),options:c,placeholder:"Family (Default)"})}),s.jsx(ce,{label:"Target Date",required:!0,error:x.targetDate,children:s.jsx(Ka,{value:m.targetDate,onChange:O=>y("targetDate",O),maxDate:null})})]}),w||C?s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Monthly Expenses",required:!0,error:x.monthlyExpenses,children:s.jsx(Ce,{type:"number",value:m.monthlyExpenses,onChange:O=>y("monthlyExpenses",O),placeholder:"e.g., 50000"})}),C&&s.jsx(ce,{label:"Emergency Months",children:s.jsx(Ce,{type:"number",value:m.emergencyMonths,onChange:O=>y("emergencyMonths",O),placeholder:"6"})})]}):s.jsx(ce,{label:"Today's Cost",required:!0,error:x.todaysCost,children:s.jsx(Ce,{type:"number",value:m.todaysCost,onChange:O=>y("todaysCost",O),placeholder:"e.g., 1000000"})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[s.jsx(ce,{label:"Inflation %",children:s.jsx(Ce,{type:"number",value:m.inflation,onChange:O=>y("inflation",O),placeholder:"6"})}),s.jsx(ce,{label:"Expected CAGR %",children:s.jsx(Ce,{type:"number",value:m.cagr,onChange:O=>y("cagr",O),placeholder:"12"})}),s.jsx(ce,{label:"Lumpsum Invested",children:s.jsx(Ce,{type:"number",value:m.lumpsum,onChange:O=>y("lumpsum",O),placeholder:"0"})})]}),k.hasTarget&&s.jsx($_,{calc:k,inflation:m.inflation,isRetirement:w,isEmergency:C}),s.jsx(ce,{label:"Priority",children:s.jsx(Ge,{value:m.priority,onChange:O=>y("priority",O),options:z_})}),s.jsx(ce,{label:"Notes",children:s.jsx(mc,{value:m.notes,onChange:O=>y("notes",O),placeholder:"Optional notes...",rows:2})}),s.jsxs("div",{className:"flex items-center justify-between",children:[r?s.jsx(Wi,{onClick:r}):s.jsx("div",{}),s.jsx(en,{onCancel:n,onSubmit:T,submitLabel:"Update Goal",loading:b})]})]}):s.jsxs("div",{className:"space-y-5",children:[s.jsx("div",{className:"flex items-center gap-1 mb-2",children:F_.map((O,z)=>{const R=O.icon,F=z===u,D=z<u;return s.jsxs("div",{className:"flex items-center flex-1",children:[s.jsxs("button",{onClick:()=>{z<u&&f(z)},className:`flex items-center gap-1.5 text-xs font-semibold transition-colors ${F?"text-violet-400":D?"text-emerald-400 cursor-pointer":"text-[var(--text-dim)]"}`,children:[s.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold border ${F?"border-violet-400 bg-violet-500/15":D?"border-emerald-400 bg-emerald-500/15":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:D?s.jsx(bc,{size:12}):s.jsx(R,{size:12})}),s.jsx("span",{className:"hidden sm:inline",children:O.label})]}),z<F_.length-1&&s.jsx("div",{className:`flex-1 h-px mx-2 ${D?"bg-emerald-400/40":"bg-[var(--border)]"}`})]},O.label)})}),u===0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Tell us about your financial goal"}),s.jsx(ce,{label:"Goal Type",required:!0,error:x.goalType,children:s.jsx(Ge,{value:m.goalType,onChange:O=>y("goalType",O),options:L_,placeholder:"Select type..."})}),m.goalType&&s.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)]",children:[s.jsx(Zo,{size:12,className:"text-[var(--text-dim)] shrink-0"}),s.jsxs("p",{className:"text-[11px] text-[var(--text-muted)]",children:["Default: ",Km[m.goalType]?.inflation||6,"% inflation, ",Km[m.goalType]?.cagr||12,"% CAGR",w&&"  Uses 25x annual expenses rule",C&&"  No inflation applied"]})]}),s.jsx(ce,{label:"Goal Name",required:!0,error:x.goalName,children:s.jsx(Ce,{value:m.goalName,onChange:O=>y("goalName",O),placeholder:"e.g., Retirement Fund (2045)"})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"For",error:x.familyMemberId,children:s.jsx(Ge,{value:m.familyMemberId,onChange:O=>y("familyMemberId",O),options:c,placeholder:"Family (Default)"})}),s.jsx(ce,{label:"Priority",children:s.jsx(Ge,{value:m.priority,onChange:O=>y("priority",O),options:z_})})]})]}),u===1&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:w?"Set your retirement timeline and monthly expenses":C?"Set your emergency fund requirements":"Set your target and investment plan"}),w||C?s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Target Date",required:!0,error:x.targetDate,children:s.jsx(Ka,{value:m.targetDate,onChange:O=>y("targetDate",O),maxDate:null})}),s.jsx(ce,{label:"Monthly Expenses (Today)",required:!0,error:x.monthlyExpenses,children:s.jsx(Ce,{type:"number",value:m.monthlyExpenses,onChange:O=>y("monthlyExpenses",O),placeholder:"e.g., 50000"})}),C&&s.jsx(ce,{label:"Emergency Fund (Months)",children:s.jsx(Ce,{type:"number",value:m.emergencyMonths,onChange:O=>y("emergencyMonths",O),placeholder:"6"})}),w&&s.jsx("div",{className:"sm:col-span-2",children:s.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Corpus = Monthly Expenses x 12 x 25 = ",K(k.todaysCost)," (today)"]})})]}):s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Target Date",required:!0,error:x.targetDate,children:s.jsx(Ka,{value:m.targetDate,onChange:O=>y("targetDate",O),maxDate:null})}),s.jsx(ce,{label:"Today's Cost",required:!0,error:x.todaysCost,children:s.jsx(Ce,{type:"number",value:m.todaysCost,onChange:O=>y("todaysCost",O),placeholder:"e.g., 1000000"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(ce,{label:`Inflation Rate (%)${C?"  N/A":""}`,children:s.jsx(Ce,{type:"number",value:m.inflation,onChange:O=>y("inflation",O),placeholder:"6"})}),s.jsx(ce,{label:"Expected Returns (CAGR %)",children:s.jsx(Ce,{type:"number",value:m.cagr,onChange:O=>y("cagr",O),placeholder:"12"})})]}),k.hasTarget&&s.jsx($_,{calc:k,inflation:m.inflation,isRetirement:w,isEmergency:C}),s.jsx(ce,{label:"Lumpsum You Plan to Invest (Optional)",children:s.jsx(Ce,{type:"number",value:m.lumpsum,onChange:O=>y("lumpsum",O),placeholder:"e.g., 500000"})}),k.hasTarget&&k.months>0&&s.jsx(B_,{calc:k,lumpsum:m.lumpsum}),s.jsx(ce,{label:"Notes",children:s.jsx(mc,{value:m.notes,onChange:O=>y("notes",O),placeholder:"Optional notes...",rows:2})})]}),u===2&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Review your goal before saving"}),s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-3",children:[s.jsx(un,{label:"Goal",value:m.goalName,bold:!0}),s.jsx(un,{label:"Type",value:m.goalType,color:"violet"}),s.jsx(un,{label:"Member",value:P}),s.jsx(un,{label:"Priority",value:m.priority,badge:m.priority==="High"?"rose":m.priority==="Low"?"blue":"amber"}),s.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[(w||C)&&s.jsx(un,{label:"Monthly Expenses",value:K(Number(m.monthlyExpenses)||0)}),C&&s.jsx(un,{label:"Emergency Months",value:m.emergencyMonths}),!w&&!C&&s.jsx(un,{label:"Today's Cost",value:K(k.todaysCost)}),s.jsx(un,{label:"Inflation",value:`${m.inflation}% p.a.`}),s.jsx(un,{label:"Expected CAGR",value:`${m.cagr}% p.a.`}),s.jsx(un,{label:"Future Value (Inflated)",value:K(k.inflatedTarget),bold:!0,color:"violet"})]}),s.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[s.jsx(un,{label:"Lumpsum",value:K(Number(m.lumpsum)||0)}),s.jsx(un,{label:"Required SIP",value:`${K(k.requiredSIP)}/mo`,color:"emerald"}),s.jsx(un,{label:"Target Date",value:m.targetDate}),s.jsx(un,{label:"Time Remaining",value:k.yearsToGo>0?`${k.yearsToGo.toFixed(1)} years`:""})]})]}),k.hasTarget&&k.months>0&&s.jsx(B_,{calc:k,lumpsum:m.lumpsum,compact:!0})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-light)]",children:[s.jsx("div",{children:u>0&&s.jsxs("button",{onClick:()=>f(O=>O-1),className:"flex items-center gap-1 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx(UF,{size:14})," Back"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:n,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),u<2?s.jsxs("button",{onClick:_,className:"flex items-center gap-1 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors",children:["Next ",s.jsx(Xo,{size:14})]}):s.jsx("button",{onClick:T,disabled:b,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Saving...":"Create Goal"})]})]})]})}function $_({calc:e,inflation:t,isRetirement:r,isEmergency:n}){return n?s.jsx("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-500/5 border border-blue-500/15",children:s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Emergency Fund: ",s.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:K(e.inflatedTarget)}),s.jsx("span",{className:"text-[var(--text-dim)]",children:" (no inflation applied)"})]})}):s.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 rounded-lg bg-violet-500/5 border border-violet-500/15",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase tracking-wider",children:r?"Corpus Today":"Today's Cost"}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:K(e.todaysCost)})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[t,"% x ",e.yearsToGo.toFixed(1),"yrs"]}),s.jsx(Xo,{size:12,className:"text-violet-400 mx-auto"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-[10px] font-semibold text-violet-400 uppercase tracking-wider",children:"Future Value"}),s.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:K(e.inflatedTarget)})]})]})}function B_({calc:e,lumpsum:t,compact:r}){const n=Number(t)||0;return r?s.jsxs("div",{className:"rounded-lg border p-3 bg-violet-500/5 border-violet-500/15",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Required Monthly SIP"}),s.jsxs("span",{className:"text-sm font-bold text-violet-400 tabular-nums",children:[e.lumpsumCoversGoal?"0":K(e.requiredSIP),"/mo"]})]}),e.lumpsumCoversGoal&&s.jsx("p",{className:"text-[10px] text-emerald-400 mt-1",children:"Lumpsum alone covers this goal!"})]}):s.jsxs("div",{className:"rounded-lg border p-3 space-y-2 bg-violet-500/5 border-violet-500/15",children:[e.lumpsumCoversGoal?s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(bc,{size:12,className:"text-emerald-400"}),s.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400",children:"Lumpsum Covers Goal"})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-violet-400",children:"Required Monthly SIP"}),s.jsxs("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:[K(e.requiredSIP),"/mo"]})]}),e.planTotalInvested>0&&s.jsxs("div",{className:"border-t border-[var(--border-light)] pt-2 space-y-1",children:[n>0&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["Lumpsum ",K(n)," grows to"]}),s.jsx("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:K(e.fvLumpsum)})]}),e.requiredSIP>0&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["SIP ",K(e.requiredSIP),"/mo x ",e.months," months"]}),s.jsx("span",{className:"text-[11px] font-semibold text-blue-400 tabular-nums",children:K(e.fvRequiredSIP)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Total You Invest"}),s.jsx("span",{className:"text-[11px] font-semibold text-[var(--text-primary)] tabular-nums",children:K(e.planTotalInvested)})]}),e.planReturns>0&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Wealth Created"}),s.jsxs("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:["+",K(e.planReturns)]})]})]})]})}function un({label:e,value:t,bold:r,color:n,badge:a}){const l=n==="violet"?"text-violet-400":n==="emerald"?"text-emerald-400":"text-[var(--text-primary)]";if(a){const c=a==="rose"?"bg-rose-500/15 text-rose-400":a==="blue"?"bg-blue-500/15 text-blue-400":"bg-amber-500/15 text-amber-400";return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e}),s.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${c}`,children:t})]})}return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e}),s.jsx("span",{className:`text-xs ${r?"font-bold text-sm":"font-semibold"} ${l}`,children:t})]})}function wle({goal:e,onClose:t}){const{goalPortfolioMappings:r,mfPortfolios:n,mfHoldings:a}=mt(),l=N.useMemo(()=>{const u=r.filter(x=>x.goalId===e.goalId);if(u.length===0)return null;const f=u.map(x=>{const v=n.find(C=>C.portfolioId===x.portfolioId);if(!v)return null;const b=a.filter(C=>C.portfolioId===x.portfolioId&&C.units>0),S=b.reduce((C,k)=>C+k.currentValue,0),y=S*x.allocationPct/100,w=b.map(C=>{const k=S>0?C.currentValue/S:0,A=y*k,M=C.currentNav>0?A/C.currentNav:0,_=A-M*C.avgNav;return{fundName:C.fundName,currentValue:C.currentValue,withdrawValue:A,withdrawUnits:Math.min(M,C.units),currentNav:C.currentNav,taxableGain:_,availableUnits:C.units}}).filter(C=>C.withdrawValue>0);return{portfolioName:v.portfolioName,ownerName:v.ownerName,allocationPct:x.allocationPct,portfolioValue:S,linkedValue:y,fundWithdrawals:w}}).filter(Boolean),m=f.reduce((x,v)=>x+v.linkedValue,0),h=f.reduce((x,v)=>x+v.fundWithdrawals.reduce((b,S)=>b+S.taxableGain,0),0);return{portfolioDetails:f,totalLinked:m,totalTaxableGain:h}},[e,r,n,a]);if(!l)return s.jsxs("div",{className:"py-8 text-center space-y-2",children:[s.jsx(Ts,{size:24,className:"mx-auto text-amber-400"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No portfolios linked to this goal"}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Link portfolios first to generate a withdrawal plan"}),s.jsx("button",{onClick:t,className:"mt-2 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})]});const c=e.targetAmount>0?l.totalLinked/e.targetAmount*100:0;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),s.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:K(e.targetAmount)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Available from Linked Portfolios"}),s.jsx("span",{className:`text-sm font-bold ${l.totalLinked>=e.targetAmount?"text-emerald-400":"text-amber-400"}`,children:K(l.totalLinked)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-card)] rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full ${c>=100?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(c,100)}%`}})}),s.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[c.toFixed(0),"%"]})]}),l.totalTaxableGain>0&&s.jsxs("div",{className:"flex items-center justify-between pt-1",children:[s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Estimated Taxable Gain"}),s.jsx("span",{className:"text-xs font-semibold text-amber-400",children:K(l.totalTaxableGain)})]})]}),l.portfolioDetails.map(u=>s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] overflow-hidden",children:[s.jsxs("div",{className:"px-4 py-2.5 bg-[var(--bg-card)] border-b border-[var(--border-light)] flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:u.portfolioName}),s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[u.ownerName,"  ",u.allocationPct,"% allocated to goal"]})]}),s.jsx("span",{className:"text-xs font-bold text-[var(--text-primary)]",children:K(u.linkedValue)})]}),s.jsx("div",{className:"px-4 py-2",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-[var(--text-dim)]",children:[s.jsx("th",{className:"text-left py-1 font-medium",children:"Fund"}),s.jsx("th",{className:"text-right py-1 font-medium",children:"Units"}),s.jsx("th",{className:"text-right py-1 font-medium",children:"Amount"}),s.jsx("th",{className:"text-right py-1 font-medium",children:"Gain"})]})}),s.jsx("tbody",{children:u.fundWithdrawals.map(f=>s.jsxs("tr",{className:"border-t border-[var(--border-light)]",children:[s.jsxs("td",{className:"py-1.5 text-[var(--text-secondary)] max-w-[180px]",children:[s.jsx("p",{className:"truncate",children:Me(f.fundName).main}),Me(f.fundName).plan&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Me(f.fundName).plan})]}),s.jsx("td",{className:"py-1.5 text-right text-[var(--text-muted)] tabular-nums",children:f.withdrawUnits.toFixed(2)}),s.jsx("td",{className:"py-1.5 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:K(f.withdrawValue)}),s.jsx("td",{className:`py-1.5 text-right tabular-nums font-semibold ${f.taxableGain>=0?"text-emerald-400":"text-rose-400"}`,children:K(Math.abs(f.taxableGain))})]},f.fundName))})]})})]},u.portfolioName)),s.jsx("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:s.jsx("button",{onClick:t,className:"px-5 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})})]})}const Nle={"On Track":"bg-blue-500/15 text-[var(--accent-blue)]",Behind:"bg-amber-500/15 text-[var(--accent-amber)]",Critical:"bg-rose-500/15 text-[var(--accent-rose)]","Needs Attention":"bg-amber-500/15 text-[var(--accent-amber)]",Achieved:"bg-emerald-500/15 text-emerald-400",Paused:"bg-slate-500/15 text-[var(--text-muted)]"},jle={High:"bg-rose-500/15 text-[var(--accent-rose)]",Medium:"bg-amber-500/15 text-[var(--accent-amber)]",Low:"bg-blue-500/15 text-[var(--accent-blue)]"},Sle={"On Track":"bg-blue-500",Behind:"bg-amber-500",Critical:"bg-rose-500","Needs Attention":"bg-amber-500",Achieved:"bg-emerald-500",Paused:"bg-slate-500"};function Cle(){const{selectedMember:e,member:t}=$r(),{goalList:r,addGoal:n,updateGoal:a,deleteGoal:l,goalPortfolioMappings:c,updateGoalMappings:u,mfHoldings:f,activeMembers:m,mfPortfolios:h,stockPortfolios:x,otherInvList:v}=mt(),{showToast:b,showBlockUI:S,hideBlockUI:y}=Ja(),w=ei(),[C,k]=N.useState(null),[A,M]=N.useState(null),[_,T]=N.useState(null),P=N.useRef(new Set),[O,z]=N.useState(null),[R,F]=N.useState([]),[D,Z]=N.useState(!1),[Q,J]=N.useState(!1),L=N.useMemo(()=>{if(!r)return[];const $=r.filter(X=>X.isActive!==!1);return e==="all"?$:$.filter(X=>X.familyMemberId===e)},[r,e]);function Y($){if(!$.familyMemberName||$.familyMemberName==="Family")return $.familyMemberName||"Family";const X=(m||[]).find(we=>we.memberName===$.familyMemberName);return X?.relationship?`${$.familyMemberName} (${X.relationship})`:$.familyMemberName}const q=L.reduce(($,X)=>$+(X.targetAmount||0),0),le=L.reduce(($,X)=>$+(X.currentValue||0),0),be=L.reduce(($,X)=>$+(X.monthlyInvestment||0),0),B=L.reduce(($,X)=>$+(X.lumpsumNeeded||0),0),se=q>0?le/q*100:0,ve=L.filter($=>$.status==="Needs Attention").length,de=L.filter($=>$.status==="Achieved").length,Ne=new Set(["Equity","ELSS","Index"]),xe=N.useMemo(()=>{if(!L.length||!c?.length||!f?.length)return[];const $=new Date,X=[];for(const we of L){if(we.status==="Achieved")continue;const ne=(new Date(we.targetDate)-$)/(365.25*24*60*60*1e3);if(ne>3||ne<=0)continue;const st=c.filter(Jt=>Jt.goalId===we.goalId);if(!st.length)continue;let ze=0,Te=0;for(const Jt of st){const vt=f.filter(je=>je.portfolioId===Jt.portfolioId&&je.units>0);for(const je of vt){const Ye=je.currentValue*(Jt.allocationPct/100);ze+=Ye,Ne.has(je.category)?Te+=Ye:je.category==="Hybrid"&&(Te+=Ye*.65)}}const We=ze>0?Te/ze*100:0,Xe=ne<1?30:ne<2?50:70;We>Xe&&X.push({goalId:we.goalId,goalName:we.goalName,yearsLeft:ne.toFixed(1),equityPct:Math.round(We),maxEquity:Xe,excessPct:Math.round(We-Xe)})}return X},[L,c,f]);N.useEffect(()=>{const $=new Set(L.filter(we=>we.status==="Achieved").map(we=>we.goalId)),X=P.current;for(const we of $)if(!X.has(we)){const Re=L.find(ne=>ne.goalId===we);Re&&(T(Re),setTimeout(()=>T(null),5e3))}P.current=$},[L]);function he($){return $?$.startsWith("PFL-STK-")?"Stock":$.startsWith("INV-")?"Other":"MF":"MF"}const ke=N.useMemo(()=>{const $={};return(h||[]).forEach(X=>{$[X.portfolioId]={name:X.portfolioName?.replace(/^PFL-/,"")||X.portfolioName,value:X.currentValue||0,type:"MF",owner:X.ownerName||""}}),(x||[]).forEach(X=>{$[X.portfolioId]={name:X.portfolioName,value:X.currentValue||0,type:"Stock",owner:X.ownerName||""}}),(v||[]).forEach(X=>{$[X.investmentId]={name:X.investmentName,value:X.currentValue||0,type:"Other",owner:X.familyMemberName||""}}),$},[h,x,v]),re=N.useMemo(()=>{const $=[];return(h||[]).filter(X=>X.status!=="Inactive").forEach(X=>{$.push({id:X.portfolioId,name:X.portfolioName?.replace(/^PFL-/,"")||X.portfolioName,value:X.currentValue||0,type:"MF",owner:X.ownerName||""})}),(x||[]).filter(X=>X.status!=="Inactive").forEach(X=>{$.push({id:X.portfolioId,name:X.portfolioName,value:X.currentValue||0,type:"Stock",owner:X.ownerName||""})}),(v||[]).filter(X=>X.status==="Active").forEach(X=>{$.push({id:X.investmentId,name:X.investmentName,value:X.currentValue||0,type:"Other",owner:X.familyMemberName||""})}),$},[h,x,v]),Fe=re.filter($=>$.type==="MF"),Ue=re.filter($=>$.type==="Stock"),ge=re.filter($=>$.type==="Other"),Be=N.useMemo(()=>{const $={};return(c||[]).forEach(X=>{if(X.goalId===O)return;$[X.portfolioId]||($[X.portfolioId]={total:0,goals:[]}),$[X.portfolioId].total+=X.allocationPct;const we=(r||[]).find(Re=>Re.goalId===X.goalId);$[X.portfolioId].goals.push({goalName:we?.goalName||X.goalId,pct:X.allocationPct})}),$},[c,O,r]),qe=N.useMemo(()=>{const $=[];for(const X of R){const Re=(Be[X.portfolioId]?.total||0)+(X.allocationPct||0);if(Re>100){const ne=re.find(st=>st.id===X.portfolioId);$.push({name:ne?.name||X.portfolioId,combined:Re,excess:Re-100})}}return $},[R,Be,re]),Ke=qe.length===0;function Nt($){const X=(c||[]).filter(we=>we.goalId===$).map(we=>({portfolioId:we.portfolioId,allocationPct:we.allocationPct,investmentType:we.investmentType||he(we.portfolioId)}));F(X),z($),Z(!1)}function _t(){z(null),F([]),Z(!1)}function Pe($){O===$?_t():Nt($)}function rt(){const $=new Set(R.map(we=>we.portfolioId)),X=re.find(we=>!$.has(we.id)&&(Be[we.id]?.total||0)<100);X&&(F(we=>[...we,{portfolioId:X.id,allocationPct:0,investmentType:X.type}]),Z(!0))}function Ft($){F(X=>X.filter((we,Re)=>Re!==$)),Z(!0)}function it($,X,we){F(Re=>Re.map((ne,st)=>{if(st!==$)return ne;if(X==="allocationPct"){const ze=Be[ne.portfolioId]?.total||0,Te=Math.max(0,100-ze);return{...ne,allocationPct:Math.max(0,Math.min(Te,Number(we)||0))}}if(X==="portfolioId"){const ze=re.find(Xe=>Xe.id===we),Te=Be[we]?.total||0,We=Math.max(0,100-Te);return{...ne,portfolioId:we,investmentType:ze?.type||he(we),allocationPct:Math.min(ne.allocationPct,We)}}return ne})),Z(!0)}async function ht(){if(Ke){J(!0),S("Saving...");try{await u(O,R.filter($=>$.allocationPct>0)),b("Allocation updated"),_t()}catch($){b($.message||"Failed to save","error")}finally{y(),J(!1)}}}if(r===null)return s.jsx(Ki,{title:"Loading goals",cards:5});async function Xt($){S("Saving...");try{C?.edit?await a(C.edit.goalId,$):await n($),b(C?.edit?"Goal updated":"Goal added"),k(null)}catch(X){b(X.message||"Failed to save goal","error")}finally{y()}}async function Zt(){if(C?.edit&&await w("Delete this goal?",{title:"Delete Goal",confirmLabel:"Delete"})){const $=C.edit.goalId,X=(c||[]).filter(we=>we.goalId===$);S("Deleting...");try{if(await l($),k(null),X.length>0){const we=X.some(Re=>(c||[]).some(ne=>ne.portfolioId===Re.portfolioId&&ne.goalId!==$));b(we?"Goal deleted  shared allocations freed":"Goal deleted")}else b("Goal deleted")}catch(we){b(we.message||"Failed to delete goal","error")}finally{y()}}}function Qi($){return!$.targetAmount||$.targetAmount===0?0:Math.min(($.currentValue||0)/$.targetAmount*100,100)}function G($){if(!$.targetDate)return null;const we=(new Date($.targetDate)-new Date)/(365.25*24*60*60*1e3);return we>0?we.toFixed(1):"0"}return s.jsxs("div",{className:"space-y-4",children:[L.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(Th,{size:32,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No goals set",t?` for ${t.memberName}`:""]}),s.jsx("button",{onClick:()=>k("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first goal"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[s.jsx($o,{label:"Target",value:K(q),bold:!0}),s.jsx($o,{label:"Current Value",value:K(le),bold:!0}),s.jsx($o,{label:"Gap",value:K(Math.max(q-le,0)),positive:q<=le,bold:!0}),s.jsx($o,{label:"Progress",value:`${se.toFixed(1)}%`,sub:`${L.length} goal${L.length!==1?"s":""}${de>0?`  ${de} done`:""}`,positive:se>=50,bold:!0}),s.jsx($o,{label:"Required SIP",value:K(be),sub:ve>0?`${ve} need attention`:"per month"}),s.jsx($o,{label:"Required Lumpsum",value:K(B),sub:"one-time today"})]}),_&&s.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-500/10 via-yellow-500/10 to-emerald-500/10 rounded-xl border border-emerald-500/30 px-4 py-3 flex items-center gap-3 animate-fade-in overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map(($,X)=>s.jsx("span",{className:"absolute text-sm animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:["","","","",""][X%5]},X))}),s.jsx(zC,{size:20,className:"text-yellow-400 shrink-0 relative z-10"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("p",{className:"text-sm font-bold text-emerald-400",children:"Goal Achieved!"}),s.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[_.goalName,"  Congratulations!"]})]}),s.jsx("button",{onClick:()=>T(null),className:"ml-auto text-xs text-[var(--text-dim)] hover:text-[var(--text-primary)] relative z-10",children:"Dismiss"})]}),xe.length>0&&s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-amber-500/20 p-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(t$,{size:14,className:"text-amber-400"}),s.jsx("p",{className:"text-xs font-bold text-amber-400 uppercase tracking-wider",children:"De-risking Alerts"})]}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"These goals are approaching their deadline with high equity exposure. Consider moving funds to debt/liquid for capital protection."}),s.jsx("div",{className:"space-y-1.5",children:xe.map($=>s.jsxs("div",{className:"flex items-center justify-between bg-amber-500/5 rounded-lg px-3 py-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:$.goalName}),s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[$.yearsLeft," yrs left"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-xs font-bold text-amber-400",children:[$.equityPct,"% equity"]}),s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Recommended max ",$.maxEquity,"%"]})]})]},$.goalId))})]}),s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>k("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Fr,{size:14})," Add Goal"]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:L.map($=>{const X=Qi($),we=G($),Re=O===$.goalId,ne=Re?R:(c||[]).filter(Te=>Te.goalId===$.goalId),st=(c||[]).filter(Te=>Te.goalId===$.goalId).length,ze=ne.reduce((Te,We)=>{const Xe=ke[We.portfolioId];return Te+(Xe?Xe.value*We.allocationPct/100:0)},0);return s.jsxs("div",{className:`bg-[var(--bg-card)] rounded-xl border overflow-hidden transition-colors ${Re?"border-violet-500/40":"border-[var(--border)]"}`,children:[s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-[var(--text-primary)] truncate",children:$.goalName}),s.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[s.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:Y($)}),s.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded ${jle[$.priority]||""}`,children:$.priority})]})]}),s.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full shrink-0 ${Nle[$.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:$.status})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full transition-all ${Sle[$.status]||"bg-blue-500"}`,style:{width:`${X}%`}})}),s.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums w-10 text-right",children:[X.toFixed(0),"%"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5 mb-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Current"}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K($.currentValue)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Target"}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K($.targetAmount)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Required SIP"}),s.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[K($.monthlyInvestment),"/mo"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Timeline"}),s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:$.status==="Achieved"?"Done":we?`${we} yrs left`:""})]})]}),s.jsxs("div",{className:"flex items-center gap-1 pt-2 border-t border-[var(--border-light)]",children:[s.jsxs("button",{onClick:Te=>{Te.stopPropagation(),Pe($.goalId)},className:`flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold rounded-lg transition-colors ${Re?"bg-violet-500/20 text-violet-400":st>0?"text-violet-400 hover:bg-violet-500/10":"text-amber-400 hover:bg-amber-500/10"}`,children:[s.jsx(n5,{size:11}),Re?"Linking...":st>0?`${st} linked`:"Link",!Re&&st===0&&s.jsx("span",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full animate-pulse"})]}),$.status==="Achieved"&&s.jsxs("button",{onClick:()=>M($),className:"flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold text-[var(--text-dim)] hover:text-emerald-400 hover:bg-emerald-500/10 rounded-lg transition-colors",children:[s.jsx(ZO,{size:11})," Withdraw"]}),s.jsxs("button",{onClick:()=>k({edit:$}),className:"flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-white/5 rounded-lg transition-colors ml-auto",children:[s.jsx(ja,{size:11})," Edit"]})]})]}),Re&&s.jsxs("div",{className:"px-4 pb-4 space-y-2 border-t border-violet-500/20 bg-violet-500/[0.03]",children:[s.jsxs("div",{className:"flex items-center justify-between pt-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Il,{size:12,className:"text-violet-400"}),s.jsx("span",{className:"text-xs font-semibold text-violet-400",children:"Link Investments"})]}),ze>0&&s.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["Linked value: ",K(ze)]})]}),R.map((Te,We)=>{const Xe=re.find(Ee=>Ee.id===Te.portfolioId),Jt=Be[Te.portfolioId],vt=Jt?.total||0,je=100-vt,Ye=vt+(Te.allocationPct||0);return s.jsxs("div",{className:`bg-[var(--bg-card)] rounded-lg border p-2.5 space-y-1.5 ${Ye>100?"border-rose-500/40":"border-[var(--border-light)]"}`,children:[s.jsxs("select",{value:Te.portfolioId,onChange:Ee=>it(We,"portfolioId",Ee.target.value),className:"w-full px-2 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",children:[Fe.length>0&&s.jsx("optgroup",{label:"MF Portfolios",children:Fe.map(Ee=>{const jt=(Be[Ee.id]?.total||0)>=100,er=R.some((ur,gn)=>gn!==We&&ur.portfolioId===Ee.id);return s.jsxs("option",{value:Ee.id,disabled:er||jt,children:[Ee.name,Ee.owner?` (${Ee.owner})`:"","  ",K(Ee.value),jt?" (Fully allocated)":""]},Ee.id)})}),Ue.length>0&&s.jsx("optgroup",{label:"Stock Portfolios",children:Ue.map(Ee=>{const jt=(Be[Ee.id]?.total||0)>=100,er=R.some((ur,gn)=>gn!==We&&ur.portfolioId===Ee.id);return s.jsxs("option",{value:Ee.id,disabled:er||jt,children:[Ee.name,Ee.owner?` (${Ee.owner})`:"","  ",K(Ee.value),jt?" (Fully allocated)":""]},Ee.id)})}),ge.length>0&&s.jsx("optgroup",{label:"Other Investments",children:ge.map(Ee=>{const jt=(Be[Ee.id]?.total||0)>=100,er=R.some((ur,gn)=>gn!==We&&ur.portfolioId===Ee.id);return s.jsxs("option",{value:Ee.id,disabled:er||jt,children:[Ee.name,Ee.owner?` (${Ee.owner})`:"","  ",K(Ee.value),jt?" (Fully allocated)":""]},Ee.id)})})]}),vt>0&&s.jsxs("div",{className:`text-[10px] px-2 py-1 rounded ${Ye>100?"bg-rose-500/10 text-rose-400":"bg-blue-500/10 text-blue-400"}`,children:[Jt.goals.map(Ee=>`${Ee.goalName} (${Ee.pct}%)`).join(", "),"  ",s.jsxs("span",{className:"font-bold",children:["Available: ",Math.max(0,je),"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Allocation"}),s.jsx("input",{type:"number",value:Te.allocationPct,onChange:Ee=>it(We,"allocationPct",Ee.target.value),className:"w-16 px-2 py-1 text-xs text-center bg-[var(--bg-input)] border border-[var(--border-input)] rounded-md text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",min:"0",max:je}),s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"}),s.jsx("button",{onClick:()=>Ft(We),className:"p-1 text-[var(--text-dim)] hover:text-rose-400 rounded transition-colors ml-1",children:s.jsx(rd,{size:12})})]}),Xe&&s.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Contributes ",K(Xe.value*Te.allocationPct/100)]})]})]},We)}),qe.length>0&&s.jsxs("div",{className:"bg-rose-500/10 border border-rose-500/20 rounded-lg px-3 py-2 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Ts,{size:12,className:"text-rose-400 shrink-0"}),s.jsx("span",{className:"text-[10px] font-bold text-rose-400 uppercase",children:"Over-allocated"})]}),qe.map((Te,We)=>s.jsxs("p",{className:"text-[10px] text-rose-300",children:[Te.name,": ",Te.combined,"% total (exceeds by ",Te.excess,"%)"]},We))]}),(()=>{const Te=new Set(R.map(Xe=>Xe.portfolioId));return re.some(Xe=>!Te.has(Xe.id)&&(Be[Xe.id]?.total||0)<100)&&s.jsxs("button",{onClick:rt,className:"flex items-center gap-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[s.jsx(Fr,{size:14})," Link Investment"]})})(),s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2 border-t border-[var(--border-light)]",children:[s.jsx("button",{onClick:_t,className:"px-4 py-1.5 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),s.jsx("button",{onClick:ht,disabled:!D||!Ke||Q,className:"px-5 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"})]})]})]},$.goalId)})}),de>0&&s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-emerald-500/20 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(zC,{size:14,className:"text-yellow-400"}),s.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Achieved Goals"})]}),s.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-1",children:L.filter($=>$.status==="Achieved").map($=>s.jsxs("div",{className:"shrink-0 bg-emerald-500/10 border border-emerald-500/20 rounded-lg px-3 py-2 min-w-[160px]",children:[s.jsx("p",{className:"text-xs font-semibold text-emerald-400",children:$.goalName}),s.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] mt-1",children:K($.targetAmount)}),s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:Y($)})]},$.goalId))})]})]}),s.jsx(mr,{open:!!C,onClose:()=>k(null),title:C?.edit?"Edit Goal":"Add Goal",wide:!0,children:s.jsx(yle,{initial:C?.edit||void 0,onSave:Xt,onDelete:C?.edit?Zt:void 0,onCancel:()=>k(null)})}),s.jsx(mr,{open:!!A,onClose:()=>M(null),title:`Withdrawal Plan  ${A?.goalName||""}`,wide:!0,children:A&&s.jsx(wle,{goal:A,onClose:()=>M(null)})})]})}function $o({label:e,value:t,sub:r,positive:n,bold:a}){return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:t}),r&&s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:r})]})}const Ale=[{label:"Family Members",desc:"Manage family profiles",icon:Jo,path:"/family",color:"bg-violet-500/15 text-violet-400"},{label:"Investment Accounts",desc:"Demat & trading accounts",icon:XO,path:"/accounts/investment",color:"bg-blue-500/15 text-blue-400"},{label:"Insurance",desc:"Life & health policies",icon:Ju,path:"/insurance",color:"bg-cyan-500/15 text-cyan-400"},{label:"Stocks",desc:"Stock portfolio holdings",icon:Qu,path:"/investments/stocks",color:"bg-indigo-500/15 text-indigo-400"},{label:"Other Investments",desc:"FD, PPF, Gold, NPS & more",icon:i5,path:"/investments/other",color:"bg-teal-500/15 text-teal-400"},{label:"Liabilities",desc:"Loans & outstanding balances",icon:Oh,path:"/liabilities",color:"bg-rose-500/15 text-rose-400"},{label:"Reminders",desc:"View and manage reminders",icon:_h,path:"/reminders",color:"bg-amber-500/15 text-[var(--accent-amber)]"}],kle=[{label:"Health Check",desc:"Financial health questionnaire",icon:ny,path:"/health-check",color:"bg-emerald-500/15 text-emerald-400"},{label:"Settings",desc:"App configuration",icon:o5,path:"/settings",color:"bg-slate-500/15 text-[var(--text-muted)]"},{label:"About",desc:"Capital Friends v2.0",icon:A8,path:"/about",color:"bg-violet-500/15 text-[var(--accent-violet)]"}];function q_({item:e,onClick:t}){return s.jsxs("button",{onClick:t,className:"w-full flex items-center gap-3 bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-3.5 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[s.jsx("div",{className:`w-9 h-9 rounded-lg flex items-center justify-center shrink-0 ${e.color}`,children:s.jsx(e.icon,{size:17})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:e.label}),s.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:e.desc})]}),s.jsx(Xo,{size:14,className:"text-[var(--text-dim)] shrink-0"})]})}const H_="jagadeeshmanne.hdfc@kphdfc";function Mle(){const e=Ul(),[t,r]=N.useState(!1);function n(){navigator.clipboard.writeText(H_).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)})}return s.jsxs("div",{className:"space-y-5",children:[s.jsx("h1",{className:"text-base font-bold text-[var(--text-primary)]",children:"More"}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-dim)] px-1",children:"Navigate"}),s.jsx("div",{className:"space-y-1.5",children:Ale.map(a=>s.jsx(q_,{item:a,onClick:()=>e(a.path)},a.label))})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-dim)] px-1",children:"Tools & Settings"}),s.jsx("div",{className:"space-y-1.5",children:kle.map(a=>s.jsx(q_,{item:a,onClick:()=>e(a.path)},a.label))})]}),s.jsx("div",{className:"bg-gradient-to-r from-pink-500/10 via-violet-500/10 to-pink-500/10 rounded-xl border border-pink-500/25 p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shrink-0 bg-pink-500/20 text-pink-400",children:s.jsx(td,{size:20})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-pink-400",children:"Support Developer"}),s.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:"Help maintain this app with a small donation"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[s.jsx("p",{className:"text-xs text-[var(--text-primary)] font-mono bg-[var(--bg-card)] px-2 py-1 rounded border border-[var(--border)] truncate",children:H_}),s.jsx("button",{onClick:n,className:"shrink-0 px-2.5 py-1 rounded-lg text-xs font-semibold bg-pink-500/15 text-pink-400 hover:bg-pink-500/25 transition-colors flex items-center gap-1",children:t?s.jsxs(s.Fragment,{children:[s.jsx(yp,{size:12})," Copied"]}):s.jsxs(s.Fragment,{children:[s.jsx(n8,{size:12})," Copy"]})})]})]})]})})]})}const Qm=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Dle(){const e=Ul(),{theme:t,toggle:r}=VO(),{members:n,settings:a,updateSettings:l,updateMember:c,healthCheckCompleted:u}=mt(),{user:f,signOut:m}=Yl(),{masked:h,toggleMask:x,mv:v}=ti(),b=n.filter(J=>J.status==="Active"),[S,y]=N.useState("Daily"),[w,C]=N.useState("09"),[k,A]=N.useState("Monday"),[M,_]=N.useState(!1),[T,P]=N.useState(!1),[O,z]=N.useState(!1),[R,F]=N.useState(null);N.useEffect(()=>{!a||!Object.keys(a).length||(a.EmailFrequency&&y(a.EmailFrequency),a.EmailHour!=null&&C(String(a.EmailHour).padStart(2,"0")),a.EmailDayOfWeek!=null&&A(Qm[Number(a.EmailDayOfWeek)]||"Monday"))},[a]);async function D(){_(!0),P(!1);try{const J=Qm.indexOf(k);await l({EmailFrequency:S==="None"?"None":S,EmailConfigured:S==="None"?"FALSE":"TRUE",EmailHour:String(parseInt(w,10)),EmailMinute:"0",EmailDayOfWeek:String(J>=0?J:1)}),P(!0),setTimeout(()=>P(!1),2e3)}catch(J){alert("Failed to save: "+J.message)}finally{_(!1)}}async function Z(){z(!0),F(null);try{const J=await lF();F(J)}catch(J){F({error:J.message})}finally{z(!1)}}function Q(J){if(!J)return"Never";try{const L=new Date(J);if(isNaN(L.getTime()))return"Unknown";const Y=Date.now(),q=Math.floor((Y-L.getTime())/(1e3*60));if(q<1)return"Just now";if(q<60)return q+" min ago";const le=Math.floor(q/60);return le<24?le+"h ago":L.toLocaleDateString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}}return s.jsxs("div",{className:"space-y-4 max-w-xl mx-auto",children:[s.jsxs(hl,{children:[s.jsx(xl,{icon:s.jsx(d$,{size:14}),title:"Account"}),s.jsxs("div",{className:"px-4 py-4 space-y-3",children:[s.jsx(kn,{label:"Signed in as",children:s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate max-w-[200px]",children:v(f?.email,"email")||""})}),s.jsx(kn,{label:"Name",children:s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:f?.name||""})}),s.jsx("div",{className:"pt-1",children:s.jsxs("button",{onClick:m,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-red-500 border border-red-200 dark:border-red-800/40 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[s.jsx(a5,{size:12}),"Sign Out"]})})]})]}),s.jsxs(hl,{children:[s.jsx(xl,{icon:s.jsx(ny,{size:14}),title:"Financial Health Check"}),s.jsxs("div",{className:"px-4 py-4 space-y-3",children:[s.jsx(kn,{label:"Status",children:s.jsx("span",{className:`text-xs font-semibold ${u?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:u?"Completed":"Not completed"})}),s.jsx("div",{className:"flex justify-end pt-1",children:s.jsxs("button",{onClick:()=>e("/health-check"),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx(ny,{size:12}),u?"Update Answers":"Take Health Check"]})})]})]}),s.jsxs(hl,{children:[s.jsx(xl,{icon:s.jsx(s8,{size:14}),title:"Data & Sync"}),s.jsxs("div",{className:"px-4 py-4 space-y-3",children:[s.jsx(kn,{label:"Last synced",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:Q(a.masterDataLastSync)}),a._stale&&s.jsx("span",{className:"text-[10px] font-bold text-amber-600 px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30",children:"STALE"})]})}),a._navDataDate&&s.jsx(kn,{label:"NAV data as of",children:s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:a._navDataDate})}),s.jsx(kn,{label:"Auto-refresh",children:s.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Daily at ~6:30 AM"})}),s.jsxs("div",{className:"flex items-center justify-between pt-1",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Refresh MF NAVs, ATH & Stock prices"}),s.jsxs("button",{onClick:Z,disabled:O,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg bg-violet-600 text-white hover:bg-violet-500 transition-colors disabled:opacity-50",children:[s.jsx(Vo,{size:12,className:O?"animate-spin":""}),O?"Refreshing...":"Refresh Now"]})]}),R&&s.jsx("div",{className:`text-xs px-3 py-2 rounded-lg ${R.error?"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400":"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400"}`,children:R.error?"Failed: "+R.error:`Done  MF: ${R.mf?.count||0} | ATH: ${R.ath?.count||0} | Stocks: ${R.stocks?.count||0} (${R.duration})`})]})]}),s.jsxs(hl,{children:[s.jsx(xl,{icon:s.jsx(Np,{size:14}),title:"Appearance"}),s.jsx("div",{className:"px-4 py-4",children:s.jsx(kn,{label:"Theme",children:s.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[t==="dark"?s.jsx(ry,{size:12}):s.jsx(Np,{size:12}),t==="dark"?"Dark":"Light"]})})})]}),s.jsxs(hl,{children:[s.jsx(xl,{icon:s.jsx(z8,{size:14}),title:"Email Reports"}),s.jsxs("div",{className:"px-4 py-4 space-y-3",children:[s.jsx(kn,{label:"Frequency",children:s.jsx(Zb,{value:S,onChange:y,options:["Daily","Weekly","Monthly","None"]})}),S!=="None"&&s.jsx(kn,{label:"Send time",children:s.jsx(Zb,{value:w,onChange:C,options:Array.from({length:24},(J,L)=>String(L).padStart(2,"0")),suffix:":00"})}),S==="Weekly"&&s.jsx(kn,{label:"Day",children:s.jsx(Zb,{value:k,onChange:A,options:Qm.slice(1).concat(Qm[0])})}),s.jsx("div",{className:"flex justify-end pt-1",children:s.jsx("button",{onClick:D,disabled:M,className:"px-4 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:M?"Saving...":T?"Saved!":"Save"})}),b.length>0&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Send report to"}),s.jsx("div",{className:"space-y-2",children:b.map(J=>s.jsx(Ele,{member:J,onToggle:c},J.memberId))})]})}),b.length===0&&s.jsx("p",{className:"text-xs text-[var(--text-dim)] pt-1",children:"Add family members to configure email recipients."})]})]}),s.jsxs(hl,{children:[s.jsx(xl,{icon:s.jsx(Xu,{size:14}),title:"Privacy"}),s.jsxs("div",{className:"px-4 py-4 space-y-3",children:[s.jsx(kn,{label:"Mask sensitive data",children:s.jsx("button",{onClick:x,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 ${h?"bg-amber-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:s.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${h?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[h?"Sensitive data is hidden. ":"","Masks PAN, Aadhaar, mobile, email, account numbers, client IDs, and policy numbers across the app. Use the ",h?s.jsx(Xu,{size:11,className:"inline text-amber-400"}):s.jsx(wp,{size:11,className:"inline"})," icon in the header to quickly toggle."]}),h&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[s.jsx(Xu,{size:14,className:"text-amber-400 shrink-0"}),s.jsx("p",{className:"text-xs text-amber-400 font-medium",children:"Data masking is active  safe for screen sharing"})]})]})]}),s.jsxs(hl,{children:[s.jsx(xl,{icon:s.jsx(w8,{size:14}),title:"Display"}),s.jsxs("div",{className:"px-4 py-4 space-y-3",children:[s.jsx(kn,{label:"Currency",children:s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"INR ()"})}),s.jsx(kn,{label:"Date format",children:s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"DD/MM/YYYY"})})]})]})]})}function hl({children:e}){return s.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:e})}function xl({icon:e,title:t}){return s.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[var(--text-muted)]",children:e}),s.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:t})]})})}function kn({label:e,children:t}){return s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] shrink-0",children:e}),t]})}function Zb({value:e,onChange:t,options:r,suffix:n}){return s.jsxs("div",{className:"relative",children:[s.jsx("select",{value:e,onChange:a=>t(a.target.value),className:"appearance-none pl-3 pr-7 py-1.5 text-xs font-semibold bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-violet-500 cursor-pointer",children:r.map(a=>s.jsxs("option",{value:a,children:[a,n||""]},a))}),s.jsx(Il,{size:10,className:"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function Ele({member:e,onToggle:t}){const{mv:r}=ti(),n=e.includeInEmailReports==="Yes"||e.includeInEmailReports===!0,[a,l]=N.useState(!1);async function c(){l(!0);try{await t(e.memberId,{...e,includeInEmailReports:n?"No":"Yes"})}catch{}finally{l(!1)}}return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center shrink-0",children:s.jsx("span",{className:"text-[10px] font-bold text-violet-600",children:e.memberName?.charAt(0)?.toUpperCase()})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:r(e.memberName,"name")}),e.email&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)] truncate",children:r(e.email,"email")})]})]}),s.jsx("button",{onClick:c,disabled:a,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 disabled:opacity-50 ${n?"bg-violet-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:s.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${n?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})]})}const _le=["SIP Due Date","Insurance Renewal","FD Maturity","Loan EMI","Investment Review","Custom"].map(e=>({value:e,label:e})),Ole=[{value:"One-time",label:"One-time"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],Tle=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}];function Ple({initial:e,onSave:t,onDelete:r,onCancel:n}){const a=!!e,{activeMembers:l}=mt(),c=l.map(w=>({value:w.memberId,label:w.memberName})),[u,f]=N.useState({reminderType:e?.reminderType||"",title:e?.title||"",description:e?.description||"",familyMemberId:e?.familyMemberId||"",dueDate:e?.dueDate||"",advanceNoticeDays:e?.advanceNoticeDays?.toString()||"7",frequency:e?.frequency||"One-time",priority:e?.priority||"Medium",status:e?.status||"Pending"}),[m,h]=N.useState({}),[x,v]=N.useState(!1);function b(w,C){f(k=>({...k,[w]:C})),h(k=>({...k,[w]:void 0}))}function S(){const w={};return u.reminderType||(w.reminderType="Required"),u.title.trim()||(w.title="Required"),u.familyMemberId||(w.familyMemberId="Required"),u.dueDate||(w.dueDate="Required"),h(w),Object.keys(w).length===0}async function y(){if(S()){v(!0);try{await t({...u,advanceNoticeDays:Number(u.advanceNoticeDays)||7})}finally{v(!1)}}}return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Reminder Type",required:!0,error:m.reminderType,children:s.jsx(Ge,{value:u.reminderType,onChange:w=>b("reminderType",w),options:_le,placeholder:"Select type..."})}),s.jsx(ce,{label:"Title",required:!0,error:m.title,children:s.jsx(Ce,{value:u.title,onChange:w=>b("title",w),placeholder:"e.g., HDFC SIP Due"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ce,{label:"Family Member",required:!0,error:m.familyMemberId,children:s.jsx(Ge,{value:u.familyMemberId,onChange:w=>b("familyMemberId",w),options:c,placeholder:"Select member..."})}),s.jsx(ce,{label:"Due Date",required:!0,error:m.dueDate,children:s.jsx(Ka,{value:u.dueDate,onChange:w=>b("dueDate",w),maxDate:null})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(ce,{label:"Frequency",children:s.jsx(Ge,{value:u.frequency,onChange:w=>b("frequency",w),options:Ole})}),s.jsx(ce,{label:"Priority",children:s.jsx(Ge,{value:u.priority,onChange:w=>b("priority",w),options:Tle})}),s.jsx(ce,{label:"Advance Notice (days)",children:s.jsx(Ce,{type:"number",value:u.advanceNoticeDays,onChange:w=>b("advanceNoticeDays",w),placeholder:"7"})})]}),a&&s.jsx(ce,{label:"Status",children:s.jsx(Ge,{value:u.status,onChange:w=>b("status",w),options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"}]})}),s.jsx(ce,{label:"Description",children:s.jsx(mc,{value:u.description,onChange:w=>b("description",w),placeholder:"Optional details...",rows:2})}),s.jsxs("div",{className:"flex items-center justify-between",children:[a&&r?s.jsx(Wi,{onClick:r,label:"Delete"}):s.jsx("div",{}),s.jsx(en,{onCancel:n,onSubmit:y,submitLabel:a?"Update Reminder":"Add Reminder",loading:x})]})]})}const Xm={"SIP Due Date":"bg-violet-500/15 text-[var(--accent-violet)]","Insurance Renewal":"bg-amber-500/15 text-[var(--accent-amber)]","FD Maturity":"bg-blue-500/15 text-[var(--accent-blue)]","Loan EMI":"bg-rose-500/15 text-[var(--accent-rose)]","Investment Review":"bg-emerald-500/15 text-emerald-400",Custom:"bg-slate-500/15 text-[var(--text-muted)]"},U_={High:"bg-rose-500",Medium:"bg-amber-500",Low:"bg-blue-500"};function Bo(e){if(!e)return 1/0;const t=new Date(e)-new Date;return Math.ceil(t/(1440*60*1e3))}function Ile(){const{selectedMember:e,member:t}=$r(),{reminderList:r,addReminder:n,updateReminder:a,deleteReminder:l}=mt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=Ja(),m=ei(),[h,x]=N.useState(null),v=N.useMemo(()=>{const M=r.filter(_=>_.isActive!==!1);return e==="all"?M:M.filter(_=>_.familyMemberId===e)},[r,e]),b=v.filter(M=>Bo(M.dueDate)<0).length,S=v.filter(M=>{const _=Bo(M.dueDate);return _>=0&&_<=7}).length,y=v.filter(M=>{const _=Bo(M.dueDate);return _>7&&_<=30}).length,w=[...v].sort((M,_)=>{const T=Bo(M.dueDate),P=Bo(_.dueDate);return T-P});async function C(M){u("Saving...");try{h?.edit?await a(h.edit.reminderId,M):await n(M),c(h?.edit?"Reminder updated":"Reminder added"),x(null)}catch(_){c(_.message||"Failed to save reminder","error")}finally{f()}}async function k(){if(h?.edit&&await m("Delete this reminder?",{title:"Delete Reminder",confirmLabel:"Delete"})){u("Deleting...");try{await l(h.edit.reminderId),c("Reminder deleted"),x(null)}catch(M){c(M.message||"Failed to delete reminder","error")}finally{f()}}}function A(M){const _=Bo(M);return _<0?{label:`${Math.abs(_)}d overdue`,cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:_===0?{label:"Today",cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:_<=7?{label:`${_}d`,cls:"bg-amber-500/20 text-[var(--accent-amber)]"}:_<=30?{label:`${_}d`,cls:"bg-blue-500/20 text-[var(--accent-blue)]"}:{label:`${_}d`,cls:"bg-slate-500/20 text-[var(--text-muted)]"}}return s.jsxs("div",{className:"space-y-4",children:[v.length===0?s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[s.jsx(PF,{size:32,className:"text-[var(--text-dim)]"}),s.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No reminders",t?` for ${t.memberName}`:""]}),s.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a reminder"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[s.jsx(Zm,{label:"Active",value:v.length}),b>0&&s.jsx(Zm,{label:"Overdue",value:b,color:"rose"}),S>0&&s.jsx(Zm,{label:"Due This Week",value:S,color:"amber"}),s.jsx(Zm,{label:"Next 30 Days",value:y})]}),s.jsx("div",{className:"flex items-center justify-end px-1",children:s.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[s.jsx(Fr,{size:14})," Add Reminder"]})}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[680px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Reminder"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),!t&&s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),s.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Due Date"}),s.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Frequency"}),s.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),s.jsx("tbody",{children:w.map(M=>{const _=A(M.dueDate);return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[s.jsx("td",{className:"py-2.5 px-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${U_[M.priority]||"bg-slate-400"}`}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.title}),M.description&&s.jsx("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[200px]",children:M.description})]})]})}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Xm[M.reminderType]||Xm.Custom}`,children:M.reminderType})}),!t&&s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.familyMemberName}),s.jsx("td",{className:"py-2.5 px-3 text-center",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:M.dueDate}),s.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${_.cls}`,children:_.label})]})}),s.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)]",children:M.frequency}),s.jsx("td",{className:"py-2.5 px-3 text-center",children:s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${M.status==="Pending"?"bg-amber-500/15 text-[var(--accent-amber)]":"bg-emerald-500/15 text-emerald-400"}`,children:M.status})}),s.jsx("td",{className:"py-2.5 px-2",children:s.jsx("button",{onClick:()=>x({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:s.jsx(ja,{size:12})})})]},M.reminderId)})})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:w.map(M=>{const _=A(M.dueDate);return s.jsxs("div",{onClick:()=>x({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${U_[M.priority]||"bg-slate-400"}`}),s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:M.title})]}),s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ml-2 ${Xm[M.reminderType]||Xm.Custom}`,children:M.reminderType})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.familyMemberName,"  ",M.frequency]}),s.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${_.cls}`,children:_.label})]})]},M.reminderId)})})]})]}),s.jsx(mr,{open:!!h,onClose:()=>x(null),title:h?.edit?"Edit Reminder":"Add Reminder",wide:!0,children:s.jsx(Ple,{initial:h?.edit||void 0,onSave:C,onDelete:h?.edit?k:void 0,onCancel:()=>x(null)})})]})}function Zm({label:e,value:t,color:r}){const n=r==="rose"?"text-[var(--accent-rose)]":r==="amber"?"text-[var(--accent-amber)]":"text-[var(--text-primary)]";return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm font-bold tabular-nums ${n}`,children:t})]})}const Y_={BUY:"bg-emerald-500/15 text-emerald-400",SELL:"bg-rose-500/15 text-[var(--accent-rose)]"},Rle={INITIAL:"bg-violet-500/15 text-[var(--accent-violet)]",SIP:"bg-blue-500/15 text-[var(--accent-blue)]",LUMPSUM:"bg-emerald-500/15 text-emerald-400",WITHDRAWAL:"bg-amber-500/15 text-[var(--accent-amber)]",SWITCH:"bg-orange-500/15 text-[var(--accent-orange)]"};function Lle(){const{selectedMember:e}=$r(),{mfTransactions:t,mfPortfolios:r,stockTransactions:n,stockPortfolios:a}=mt(),[l,c]=N.useState("mf"),[u,f]=N.useState("all"),m=N.useMemo(()=>{let y=[...t].sort((w,C)=>new Date(C.date)-new Date(w.date));if(e!=="all"){const w=new Set(r.filter(C=>C.ownerId===e).map(C=>C.portfolioId));y=y.filter(C=>w.has(C.portfolioId))}return u!=="all"&&(y=y.filter(w=>w.type===u)),y},[t,r,e,u]),h=N.useMemo(()=>{let y=[...n].sort((w,C)=>new Date(C.date)-new Date(w.date));if(e!=="all"){const w=new Set(a.filter(C=>C.ownerId===e).map(C=>C.portfolioId));y=y.filter(C=>w.has(C.portfolioId))}return u!=="all"&&(y=y.filter(w=>w.type===u)),y},[n,a,e,u]),x=l==="mf"?m:h,v=x.filter(y=>y.type==="BUY").reduce((y,w)=>y+(w.totalAmount||0),0),b=x.filter(y=>y.type==="SELL").reduce((y,w)=>y+(w.totalAmount||0),0),S=x.reduce((y,w)=>y+(w.gainLoss||w.realizedPL||0),0);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[s.jsx(Jm,{label:"Transactions",value:x.length}),s.jsx(Jm,{label:"Total Bought",value:K(v)}),s.jsx(Jm,{label:"Total Sold",value:K(b)}),s.jsx(Jm,{label:"Realized P&L",value:`${S>=0?"+":""}${K(Math.abs(S))}`,positive:S>=0,bold:!0})]}),s.jsxs("div",{className:"flex items-center justify-between px-1",children:[s.jsx("div",{className:"flex gap-1",children:["mf","stocks"].map(y=>s.jsx("button",{onClick:()=>c(y),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${l===y?"bg-violet-500/20 text-violet-400 border border-violet-500/30":"text-[var(--text-dim)] hover:text-[var(--text-primary)] border border-transparent"}`,children:y==="mf"?"Mutual Funds":"Stocks"},y))}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(t5,{size:12,className:"text-[var(--text-dim)]"}),["all","BUY","SELL"].map(y=>s.jsx("button",{onClick:()=>f(y),className:`px-2 py-1 text-xs font-semibold rounded transition-colors ${u===y?"bg-[var(--bg-card)] text-[var(--text-primary)] border border-[var(--border)]":"text-[var(--text-dim)] hover:text-[var(--text-muted)]"}`,children:y==="all"?"All":y},y))]})]}),s.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:x.length===0?s.jsxs("div",{className:"py-12 flex flex-col items-center gap-3",children:[s.jsx(g8,{size:32,className:"text-[var(--text-dim)]"}),s.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden sm:block overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[s.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:l==="mf"?"Fund":"Stock"}),s.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Portfolio"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:l==="mf"?"Units":"Qty"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:l==="mf"?"NAV":"Price"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"})]})}),s.jsx("tbody",{children:x.map(y=>{const w=y.gainLoss||y.realizedPL||0;return s.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[s.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-muted)] tabular-nums",children:y.date}),s.jsx("td",{className:"py-2.5 px-3",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${Y_[y.type]||""}`,children:y.type}),y.transactionType&&s.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${Rle[y.transactionType]||""}`,children:y.transactionType})]})}),s.jsxs("td",{className:"py-2.5 px-3",children:[y.fundName?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:Me(y.fundName).main}),Me(y.fundName).plan&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Me(y.fundName).plan})]}):s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:y.companyName}),s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:y.fundCode||y.symbol})]}),s.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)]",children:y.portfolioName||""}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:(y.units||y.quantity||0).toFixed(l==="mf"?2:0)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:K(y.price||y.pricePerShare||0)}),s.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(y.totalAmount||0)}),s.jsx("td",{className:"py-2.5 px-3 text-right",children:w!==0?s.jsxs("span",{className:`text-xs font-semibold tabular-nums ${w>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[w>=0?"+":"",K(Math.abs(w))]}):s.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},y.transactionId)})})]})}),s.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:x.map(y=>(y.gainLoss||y.realizedPL,s.jsxs("div",{className:"px-4 py-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("div",{className:"flex-1 min-w-0 mr-2",children:y.fundName?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:Me(y.fundName).main}),Me(y.fundName).plan&&s.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Me(y.fundName).plan})]}):s.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:y.companyName})}),s.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded shrink-0 ${Y_[y.type]||""}`,children:y.type})]}),s.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[y.date,"  ",y.portfolioName]}),s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[(y.units||y.quantity||0).toFixed(l==="mf"?2:0)," @ ",K(y.price||y.pricePerShare||0)]}),s.jsx("span",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(y.totalAmount||0)})]})]},y.transactionId)))})]})})]})}function Jm({label:e,value:t,positive:r,bold:n}){return s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:`text-sm tabular-nums ${n?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t})]})}const Ia=[{id:"healthIns",question:"Does your family have Health Insurance?",tip:"50L to 1Cr family floater recommended (considering inflation & future expenses)",category:"Insurance"},{id:"termLife",question:"Do you have adequate Term Life Insurance?",tip:"Recommended: 10-15x annual income",category:"Insurance"},{id:"emergencyFund",question:"Do you have an Emergency Fund?",tip:"6-12 months of monthly expenses in liquid assets",category:"Savings"},{id:"familyAware",question:"Is your family aware of all investments?",tip:"Ensure nominees and family know about all assets",category:"Planning"},{id:"hasWill",question:"Do you have a Will?",tip:"Legal document for asset distribution",category:"Planning"},{id:"nominees",question:"Have you updated Nominees on all accounts?",tip:"Bank, demat, insurance, MF  all should have nominees",category:"Planning"},{id:"goals",question:"Do you have clearly defined Financial Goals?",tip:"Retirement, education, home  with target amounts and dates",category:"Goals"}];function zle(){const e=Ul(),{members:t,insurancePolicies:r,goalList:n,otherInvList:a,healthCheckCompleted:l,completeHealthCheck:c}=mt(),u=t.filter(R=>R.status==="Active"),f=l===!1,[m,h]=N.useState(!1),[x,v]=N.useState(!0),[b,S]=N.useState(null),y=N.useMemo(()=>{const R={},F=r.filter(J=>J.policyType==="Health"&&J.status==="Active");R.healthIns=F.length>0;const D=r.filter(J=>J.policyType==="Term Life"&&J.status==="Active");R.termLife=D.length>0;const Z=n.filter(J=>J.goalType==="Emergency Fund"&&J.isActive),Q=a.filter(J=>J.investmentType==="FD"||J.investmentType==="PPF");return R.emergencyFund=Z.length>0||Q.length>0,R.goals=n.filter(J=>J.isActive).length>=2,R},[r,n,a]);N.useEffect(()=>{let R=!1;async function F(){const D=await qO("healthCheckAnswers");!R&&D&&(S(D),v(!1));try{const Z=await BO();!R&&Z&&(S(Z),Kr("healthCheckAnswers",Z))}catch{}R||v(!1)}return F(),()=>{R=!0}},[]);const[w,C]=N.useState(()=>{const R={};return Ia.forEach(F=>{R[F.id]=y[F.id]?"yes":""}),R});N.useEffect(()=>{b&&C(R=>{const F={...R};return Ia.forEach(D=>{const Z=b[D.id];Z==="Yes"?F[D.id]="yes":Z==="No"&&(F[D.id]="no")}),F})},[b]);const k=Object.values(w).filter(R=>R).length,A=Object.values(w).filter(R=>R==="yes").length,M=k===Ia.length,_=k>0?Math.round(A/Ia.length*100):0;function T(){return _>=80?"text-emerald-400":_>=50?"text-[var(--accent-amber)]":"text-[var(--accent-rose)]"}function P(){return _>=80?"Excellent":_>=60?"Good":_>=40?"Needs Work":"Critical"}const O=N.useMemo(()=>{const R=[];return w.healthIns!=="yes"&&R.push({severity:"critical",text:"Get Health Insurance for your family",action:"Minimum 5L cover recommended"}),w.termLife!=="yes"&&R.push({severity:"critical",text:"Get Term Life Insurance (10-15x annual income)",action:"Compare plans online"}),w.emergencyFund!=="yes"&&R.push({severity:"warning",text:"Build an Emergency Fund",action:"Save 6-12 months expenses in liquid fund/FD"}),w.familyAware!=="yes"&&R.push({severity:"warning",text:"Share investment details with family",action:"Create a document with all account info"}),w.hasWill!=="yes"&&R.push({severity:"warning",text:"Create a legal Will",action:"Consult a lawyer for Will registration"}),w.nominees!=="yes"&&R.push({severity:"warning",text:"Update nominees on all accounts",action:"Check bank, demat, insurance, MF accounts"}),w.goals!=="yes"&&R.push({severity:"info",text:"Define clear financial goals",action:"Use the Goal Planner to set targets"}),R},[w]),z=N.useCallback(async()=>{if(M){h(!0);try{const R={};Ia.forEach(F=>{R[F.id]=w[F.id]==="yes"?"Yes":"No"}),R.score=A,R.total=Ia.length,await c(R),e("/dashboard")}catch(R){console.error("Failed to save health check:",R)}finally{h(!1)}}},[M,w,A,c,e]);return s.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[f&&s.jsxs("div",{className:"bg-violet-500/10 border border-violet-500/20 rounded-xl p-4",children:[s.jsx("h2",{className:"text-base font-bold text-violet-400 mb-1",children:"Welcome to Capital Friends!"}),s.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Before you start, please complete this quick Financial Health Check. It takes less than a minute and helps you understand where your family stands financially."})]}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(e5,{size:16,className:"text-violet-400"}),s.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:"Financial Health Score"})]}),s.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[k,"/",Ia.length," answered"]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative w-20 h-20",children:[s.jsxs("svg",{className:"w-20 h-20 -rotate-90",viewBox:"0 0 36 36",children:[s.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"var(--border)",strokeWidth:"3"}),s.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${_}, 100`,className:T(),strokeLinecap:"round"})]}),s.jsxs("span",{className:`absolute inset-0 flex items-center justify-center text-lg font-bold ${T()}`,children:[_,"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:`text-base font-bold ${T()}`,children:P()}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:[A," of ",Ia.length," checks passed"]}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[u.length," family members tracked"]})]})]})]}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:s.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Health Check Questions"})}),s.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:Ia.map((R,F)=>s.jsxs("div",{className:"px-4 py-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm text-[var(--text-primary)]",children:[s.jsxs("span",{className:"text-[var(--text-dim)] mr-2",children:[F+1,"."]}),R.question]}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5 ml-5",children:R.tip})]}),s.jsxs("div",{className:"flex gap-1 shrink-0",children:[s.jsx("button",{onClick:()=>C(D=>({...D,[R.id]:"yes"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${w[R.id]==="yes"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"Yes"}),s.jsx("button",{onClick:()=>C(D=>({...D,[R.id]:"no"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${w[R.id]==="no"?"bg-rose-500/20 text-[var(--accent-rose)] border border-rose-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"No"})]})]}),y[R.id]&&s.jsx("p",{className:"text-xs text-violet-400 mt-1 ml-5",children:"Auto-detected from your data"})]},R.id))})]}),O.length>0&&M&&s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:s.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Recommendations"})}),s.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:O.map((R,F)=>{const D=R.severity==="critical"?s.jsx(JO,{size:14,className:"text-[var(--accent-rose)]"}):R.severity==="warning"?s.jsx(Ts,{size:14,className:"text-[var(--accent-amber)]"}):s.jsx(WF,{size:14,className:"text-[var(--accent-blue)]"});return s.jsxs("div",{className:"flex items-start gap-3 px-4 py-3",children:[s.jsx("span",{className:"shrink-0 mt-0.5",children:D}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-[var(--text-primary)]",children:R.text}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:R.action})]})]},F)})})]}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[!M&&s.jsxs("p",{className:"text-xs text-[var(--accent-amber)] mb-3",children:["Please answer all ",Ia.length," questions before saving."]}),s.jsx("button",{onClick:z,disabled:!M||m,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-bold transition-colors ${M&&!m?"bg-violet-600 hover:bg-violet-500 text-white":"bg-[var(--bg-inset)] text-[var(--text-dim)] cursor-not-allowed"}`,children:m?s.jsxs(s.Fragment,{children:[s.jsx(w1,{size:16,className:"animate-spin"}),"Saving..."]}):f?s.jsxs(s.Fragment,{children:["Save & Continue to Dashboard",s.jsx(EF,{size:16})]}):s.jsxs(s.Fragment,{children:[s.jsx(s5,{size:16}),"Update Health Check"]})})]})]})}function Fle(){return s.jsxs("div",{className:"space-y-4 max-w-lg mx-auto",children:[s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-5 text-center",children:[s.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-indigo-600 flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-xl font-bold text-white",children:"CF"})}),s.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Capital Friends"}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Family Portfolio Management"}),s.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-2",children:"v2.0.0"})]}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:s.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Features"})}),s.jsx("div",{className:"px-4 py-3 space-y-2",children:["Track Mutual Funds, Stocks & Other Investments","Family member-wise portfolio management","ATH-based Buy Opportunities","Smart Rebalancing with threshold alerts","Goal planning with portfolio mapping","Insurance, Liabilities & Bank Accounts","Financial Health Check questionnaire","Reminders for SIPs, renewals & due dates","Email reports with detailed breakdowns"].map(e=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-500 shrink-0"}),s.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:e})]},e))})]}),s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[s.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(td,{size:12,className:"text-pink-400"}),s.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Support Developer"})]})}),s.jsxs("div",{className:"px-4 py-4 text-center",children:[s.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-3",children:"If Capital Friends helps you manage your family finances, consider supporting the developer."}),s.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-3 border border-[var(--border)]",children:[s.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-1",children:"UPI"}),s.jsx("p",{className:"text-sm font-mono font-semibold text-[var(--text-primary)] select-all",children:"jagadeeshmanne.hdfc@kphdfc"})]}),s.jsxs("div",{className:"flex items-center justify-center gap-1 mt-3",children:[s.jsx(JF,{size:12,className:"text-[var(--accent-amber)]"}),s.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Buy me a chai!"})]})]})]}),s.jsxs("div",{className:"text-center py-2",children:[s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Made with ",s.jsx(td,{size:10,className:"inline text-pink-400 mx-0.5"})," by Jagadeesh Manne"]}),s.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Built with React + Vite + Tailwind CSS"})]})]})}function $le(){return Date.now().toString(36).toUpperCase()}function Ble(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=r=>Array.from({length:r},()=>e[Math.floor(Math.random()*26)]).join("");return t(5)+Math.floor(1e3+Math.random()*9e3)+t(1)}function qle(){return String(Math.floor(2e11+Math.random()*8e11))}function V_(){return"9"+String(Math.floor(1e8+Math.random()*9e8))}function Hle(){return String(Math.floor(1e9+Math.random()*9e9))}function Ule(){const e=$le();return{member:{memberName:`Test Member ${e}`,relationship:"Self",pan:Ble(),aadhar:qle(),email:`test-${e.toLowerCase()}@example.com`,mobile:V_(),includeInEmailReports:!0},bank:{accountName:`Test Savings ${e}`,bankName:"Test Bank",accountNumber:Hle(),ifscCode:"TEST0001234",accountType:"Savings",branchName:"Test Branch"},investmentAccount:{accountName:`Test Demat ${e}`,accountType:"Demat",platformBroker:"Test Broker Platform",accountClientId:`CLI-${e}`,registeredEmail:`test-${e.toLowerCase()}@example.com`,registeredPhone:V_()},insurance:{policyType:"Term Life",company:"Test Insurance Co",policyNumber:`POL-${e}`,policyName:`Test Term Plan ${e}`,sumAssured:5e6,nominee:"Test Nominee",dynamicFields:{Premium:15e3,"Premium Frequency":"Annual"}},liability:{liabilityType:"Home Loan",lenderName:"Test Bank",outstandingBalance:45e5,dynamicFields:{"Principal Amount":5e6,"Interest Rate":8.5,"EMI Amount":45e3},notes:`Test liability ${e}`},otherInvestment:{investmentType:"Fixed Deposit",investmentName:`Test FD ${e}`,investedAmount:1e5,currentValue:105e3,investmentCategory:"Debt"},stockPortfolio:{portfolioName:`Test Stock Portfolio ${e}`,broker:"Test Broker"},reminder:{title:`Test Reminder ${e}`,description:"Automated test reminder",dueDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],category:"Insurance",priority:"Medium"},goal:{goalName:`Test Goal ${e}`,goalType:"Custom",targetAmount:1e6,targetDate:"2040-01-01",priority:"Medium",expectedInflation:.06,expectedCAGR:.12}}}function Yle({status:e,text:t}){const r={pass:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",fail:"bg-rose-500/20 text-rose-400 border-rose-500/30",skip:"bg-amber-500/20 text-amber-400 border-amber-500/30",running:"bg-blue-500/20 text-blue-400 border-blue-500/30",pending:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return s.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded border ${r[e]||r.pending}`,children:t||e.toUpperCase()})}function Vle(){const{user:e}=Yl(),[t,r]=N.useState([]),[n,a]=N.useState(!1),[l,c]=N.useState(null),[u,f]=N.useState(!1),m=N.useCallback((w,C,k="")=>{r(A=>[...A,{test:w,status:C,detail:k,time:new Date().toLocaleTimeString()}])},[]),h=N.useCallback((w,C="")=>{r(k=>{const A=[...k];return A.length>0&&(A[A.length-1]={...A[A.length-1],status:w,detail:C}),A})},[]),x=async()=>{f(!0),c(null);try{const w=await Ae("test:diagnose");c(w)}catch(w){c({error:w.message})}finally{f(!1)}},v=async()=>{a(!0),r([]);const w=Ule();let C=null,k=null,A=null,M=null,_=null,T=null,P=null,O=null,z=null,R=null;try{m("API Echo Test","running");try{const D=await Ae("test:echo",{hello:"world"});D&&D.echo&&D.echo.hello==="world"?h("pass","Echo response received correctly"):h("fail","Unexpected response: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Diagnostics","running");try{const D=await Ae("test:diagnose"),Z=Object.entries(D.sheets||{}).filter(([,J])=>!J.exists).map(([J])=>J);if(Z.length>0)h("fail",`Missing sheets: ${Z.join(", ")}`);else{const J=Object.keys(D.sheets).length;h("pass",`All ${J} sheets exist. SpreadsheetId: ${D.spreadsheetId}`)}const Q=Object.entries(D.dataTests||{}).filter(([,J])=>!J.success).map(([J,L])=>`${J}: ${L.error}`);Q.length>0&&m("Data Function Errors","fail",Q.join("; "))}catch(D){h("fail",D.message)}m("Load All Data (bulk)","running");try{const D=await bp(),Z=Object.entries(D).map(([Q,J])=>`${Q}: ${Array.isArray(J)?J.length:"?"}`);h("pass",Z.join(", "))}catch(D){h("fail",D.message)}m("Members  Create","running");try{const D=await pO(w.member);C=D?.memberId,k=w.member.memberName,C?h("pass",`Created: ${C}`):h("fail","No memberId returned: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Members  List","running");try{const D=await mO();Array.isArray(D)&&D.some(Q=>Q.memberId===C)?h("pass",`Found ${C} in ${D.length} member(s)`):h("fail",`Member ${C} not found. Got ${Array.isArray(D)?D.length:0} members: ${JSON.stringify(D).substring(0,200)}`)}catch(D){h("fail",D.message)}if(C){m("Members  Update","running");try{await hO({...w.member,memberId:C,memberName:"Updated Test Member"}),k="Updated Test Member",h("pass",'Updated name to "Updated Test Member"')}catch(D){h("fail",D.message)}}m("Banks  Create","running");try{const D=await gO({...w.bank,memberId:C||"FM-001"});A=D?.accountId,h(A?"pass":"fail",A?`Created: ${A}`:"No accountId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Banks  List","running");try{const D=await vO();h("pass",`${Array.isArray(D)?D.length:0} account(s)`)}catch(D){h("fail",D.message)}m("Investment Accounts  Create","running");try{const D=await wO({...w.investmentAccount,memberId:C||"FM-001",bankAccountId:A||"BA-001"});M=D?.accountId,h(M?"pass":"fail",M?`Created: ${M}`:"No accountId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Investment Accounts  List","running");try{const D=await yO();h("pass",`${Array.isArray(D)?D.length:0} account(s)`)}catch(D){h("fail",D.message)}m("Insurance  Create","running");try{const D=await kO({...w.insurance,memberId:C||"FM-001",insuredMember:k||"Test Member"});_=D?.policyId,h(_?"pass":"fail",_?`Created: ${_}`:"No policyId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Insurance  List","running");try{const D=await AO();h("pass",`${Array.isArray(D)?D.length:0} policy/policies`)}catch(D){h("fail",D.message)}m("Liabilities  Create","running");try{const D=await EO({...w.liability,familyMember:C||"FM-001"});T=D?.liabilityId,h(T?"pass":"fail",T?`Created: ${T}`:"No liabilityId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Liabilities  List","running");try{const D=await DO();h("pass",`${Array.isArray(D)?D.length:0} liability/liabilities`)}catch(D){h("fail",D.message)}m("Other Investments  Create","running");try{const D=await TO({...w.otherInvestment,familyMember:C||"FM-001"});P=D?.investmentId,h(P?"pass":"fail",P?`Created: ${P}`:"No investmentId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Other Investments  List","running");try{const D=await OO();h("pass",`${Array.isArray(D)?D.length:0} investment(s)`)}catch(D){h("fail",D.message)}m("Stock Portfolios  Create","running");try{const D=await RO({...w.stockPortfolio,owner:C||"FM-001"});O=D?.portfolioId,h(O?"pass":"fail",O?`Created: ${O}`:"No portfolioId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Stock Portfolios  List","running");try{const D=await IO();h("pass",`${Array.isArray(D)?D.length:0} portfolio(s)`)}catch(D){h("fail",D.message)}m("Reminders  Create","running");try{const D=await FO(w.reminder);z=D?.reminderId,h(z?"pass":"fail",z?`Created: ${z}`:"No reminderId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Reminders  List","running");try{const D=await zO();h("pass",`${Array.isArray(D)?D.length:0} reminder(s)`)}catch(D){h("fail",D.message)}m("Goals  Create","running");try{const D=await SO(w.goal);R=D?.goalId,h(R?"pass":"fail",R?`Created: ${R}`:"No goalId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Goals  List","running");try{const D=await jO();h("pass",`${Array.isArray(D)?D.length:0} goal(s)`)}catch(D){h("fail",D.message)}m("Cleanup  Delete test data","running");const F=[];if(R)try{await CO(R)}catch(D){F.push("goal: "+D.message)}if(z)try{await $O(z)}catch(D){F.push("reminder: "+D.message)}if(O)try{await LO(O)}catch(D){F.push("stockPortfolio: "+D.message)}if(P)try{await PO(P)}catch(D){F.push("otherInv: "+D.message)}if(T)try{await _O(T)}catch(D){F.push("liability: "+D.message)}if(_)try{await MO(_)}catch(D){F.push("insurance: "+D.message)}if(M)try{await NO(M)}catch(D){F.push("invAcct: "+D.message)}if(A)try{await bO(A)}catch(D){F.push("bank: "+D.message)}if(C)try{await xO(C)}catch(D){F.push("member: "+D.message)}F.length>0?h("fail",F.join("; ")):h("pass","All test data cleaned up"),m("Final Load All (post-cleanup)","running");try{const D=await bp(),Z=Object.entries(D).map(([Q,J])=>`${Q}: ${Array.isArray(J)?J.length:"?"}`);h("pass",Z.join(", "))}catch(D){h("fail",D.message)}}catch(F){m("UNEXPECTED ERROR","fail",F.message)}finally{a(!1)}},b=t.filter(w=>w.status==="pass").length,S=t.filter(w=>w.status==="fail").length,y=t.filter(w=>w.status!=="running").length;return s.jsx("div",{className:"min-h-screen bg-[var(--bg-main)] p-4 max-w-3xl mx-auto",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"API Test Suite"}),s.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Signed in as ",e?.email||"unknown"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:x,disabled:u||n,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--bg-card)] border border-[var(--border)] text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] disabled:opacity-50 cursor-pointer",children:u?"Running...":"Diagnostics"}),s.jsx("button",{onClick:v,disabled:n,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-violet-600 text-white hover:bg-violet-700 disabled:opacity-50 cursor-pointer",children:n?"Running Tests...":"Run All Tests"})]})]}),y>0&&s.jsxs("div",{className:"flex gap-3 text-xs",children:[s.jsxs("span",{className:"text-emerald-400",children:["Pass: ",b]}),s.jsxs("span",{className:"text-rose-400",children:["Fail: ",S]}),s.jsxs("span",{className:"text-[var(--text-dim)]",children:["Total: ",y]})]}),l&&s.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 space-y-3",children:[s.jsx("h2",{className:"text-sm font-semibold text-[var(--text-primary)]",children:"Diagnostics Report"}),l.error?s.jsx("p",{className:"text-xs text-rose-400",children:l.error}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-xs text-[var(--text-secondary)] space-y-1",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-[var(--text-dim)]",children:"Spreadsheet:"})," ",l.spreadsheetName]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-[var(--text-dim)]",children:"ID:"})," ",s.jsx("code",{className:"text-[10px]",children:l.spreadsheetId})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Sheets"}),s.jsx("div",{className:"grid grid-cols-2 gap-1",children:Object.entries(l.sheets||{}).map(([w,C])=>s.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[s.jsx("span",{className:"text-[var(--text-secondary)] truncate",children:w}),C.exists?s.jsxs("span",{className:"text-emerald-400 ml-1",children:[C.dataRows,"r"]}):s.jsx("span",{className:"text-rose-400 ml-1",children:"MISSING"})]},w))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Data Functions"}),s.jsx("div",{className:"space-y-1",children:Object.entries(l.dataTests||{}).map(([w,C])=>s.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[s.jsx("span",{className:"text-[var(--text-secondary)]",children:w}),C.success?s.jsxs("span",{className:"text-emerald-400",children:[C.count," items"]}):s.jsx("span",{className:"text-rose-400 truncate ml-2 max-w-[200px]",title:C.error,children:C.error})]},w))})]}),l.safeCallErrors&&l.safeCallErrors.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-rose-400 mb-1",children:"SafeCall Errors"}),l.safeCallErrors.map((w,C)=>s.jsxs("p",{className:"text-[11px] text-rose-400",children:[w.fn,": ",w.error]},C))]})]})]}),t.length>0&&s.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:s.jsx("div",{className:"divide-y divide-[var(--border)]",children:t.map((w,C)=>s.jsxs("div",{className:"px-4 py-2 flex items-start gap-3",children:[s.jsx("div",{className:"mt-0.5 shrink-0",children:s.jsx(Yle,{status:w.status})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:w.test}),w.detail&&s.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5 break-all",children:w.detail})]}),s.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:w.time})]},C))})}),t.length===0&&!l&&s.jsxs("div",{className:"text-center py-12 text-[var(--text-dim)]",children:[s.jsx("p",{className:"text-sm",children:'Click "Run All Tests" to test all CRUD operations'}),s.jsx("p",{className:"text-xs mt-1",children:'or "Diagnostics" to check spreadsheet structure'})]})]})})}function Gle(){return s.jsxs(U6,{children:[s.jsx(Vt,{index:!0,element:s.jsx(Iie,{})}),s.jsx(Vt,{path:"login",element:s.jsx(gI,{})}),s.jsx(Vt,{element:s.jsx(Eie,{}),children:s.jsxs(Vt,{element:s.jsx(Die,{}),children:[s.jsx(Vt,{path:"dashboard",element:s.jsx(vp,{to:"/investments/mutual-funds",replace:!0})}),s.jsx(Vt,{path:"family",element:s.jsx(ble,{})}),s.jsx(Vt,{path:"accounts/bank",element:s.jsx(w_,{})}),s.jsx(Vt,{path:"accounts/investment",element:s.jsx(Bie,{})}),s.jsx(Vt,{path:"insurance",element:s.jsx(Yie,{})}),s.jsx(Vt,{path:"investments/mutual-funds",element:s.jsx(ile,{})}),s.jsx(Vt,{path:"investments/stocks",element:s.jsx(xle,{})}),s.jsx(Vt,{path:"investments/other",element:s.jsx(nse,{})}),s.jsx(Vt,{path:"liabilities",element:s.jsx(Kie,{})}),s.jsx(Vt,{path:"goals",element:s.jsx(Cle,{})}),s.jsx(Vt,{path:"reports",element:s.jsx(Lle,{})}),s.jsx(Vt,{path:"reminders",element:s.jsx(Ile,{})}),s.jsx(Vt,{path:"health-check",element:s.jsx(zle,{})}),s.jsx(Vt,{path:"about",element:s.jsx(Fle,{})}),s.jsx(Vt,{path:"test",element:s.jsx(Vle,{})}),s.jsx(Vt,{path:"settings",element:s.jsx(Dle,{})}),s.jsx(Vt,{path:"more",element:s.jsx(Mle,{})}),s.jsx(Vt,{path:"accounts",element:s.jsx(w_,{})}),s.jsx(Vt,{path:"*",element:s.jsx(Rie,{})})]})})]})}YL.createRoot(document.getElementById("root")).render(s.jsx(pz,{children:s.jsx(hF,{children:s.jsx(xF,{children:s.jsx(k$,{children:s.jsx(x$,{children:s.jsx(v$,{children:s.jsx(gF,{children:s.jsx(bF,{children:s.jsx(Gle,{})})})})})})})})}));
