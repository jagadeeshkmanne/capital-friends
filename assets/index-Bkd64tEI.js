function DL(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function Wa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var I0={exports:{}},wu={};var nC;function kL(){if(nC)return wu;nC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var c=null;if(s!==void 0&&(c=""+s),a.key!==void 0&&(c=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:c,ref:a!==void 0?a:null,props:s}}return wu.Fragment=t,wu.jsx=r,wu.jsxs=r,wu}var aC;function EL(){return aC||(aC=1,I0.exports=kL()),I0.exports}var l=EL(),R0={exports:{}},We={};var iC;function _L(){if(iC)return We;iC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function b($){return $===null||typeof $!="object"?null:($=x&&$[x]||$["@@iterator"],typeof $=="function"?$:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function C($,ie,pe){this.props=$,this.context=ie,this.refs=y,this.updater=pe||S}C.prototype.isReactComponent={},C.prototype.setState=function($,ie){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ie,"setState")},C.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function M(){}M.prototype=C.prototype;function A($,ie,pe){this.props=$,this.context=ie,this.refs=y,this.updater=pe||S}var _=A.prototype=new M;_.constructor=A,w(_,C.prototype),_.isPureReactComponent=!0;var E=Array.isArray;function T(){}var P={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function L($,ie,pe){var ue=pe.ref;return{$$typeof:e,type:$,key:ie,ref:ue!==void 0?ue:null,props:pe}}function R($,ie){return L($.type,ie,$.props)}function F($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function k($){var ie={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(pe){return ie[pe]})}var X=/\/+/g;function W($,ie){return typeof $=="object"&&$!==null&&$.key!=null?k(""+$.key):ie.toString(36)}function Z($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(T,T):($.status="pending",$.then(function(ie){$.status==="pending"&&($.status="fulfilled",$.value=ie)},function(ie){$.status==="pending"&&($.status="rejected",$.reason=ie)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function B($,ie,pe,ue,je){var he=typeof $;(he==="undefined"||he==="boolean")&&($=null);var ve=!1;if($===null)ve=!0;else switch(he){case"bigint":case"string":case"number":ve=!0;break;case"object":switch($.$$typeof){case e:case t:ve=!0;break;case h:return ve=$._init,B(ve($._payload),ie,pe,ue,je)}}if(ve)return je=je($),ve=ue===""?"."+W($,0):ue,E(je)?(pe="",ve!=null&&(pe=ve.replace(X,"$&/")+"/"),B(je,ie,pe,"",function(Le){return Le})):je!=null&&(F(je)&&(je=R(je,pe+(je.key==null||$&&$.key===je.key?"":(""+je.key).replace(X,"$&/")+"/")+ve)),ie.push(je)),1;ve=0;var Ae=ue===""?".":ue+":";if(E($))for(var re=0;re<$.length;re++)ue=$[re],he=Ae+W(ue,re),ve+=B(ue,ie,pe,he,je);else if(re=b($),typeof re=="function")for($=re.call($),re=0;!(ue=$.next()).done;)ue=ue.value,he=Ae+W(ue,re++),ve+=B(ue,ie,pe,he,je);else if(he==="object"){if(typeof $.then=="function")return B(Z($),ie,pe,ue,je);throw ie=String($),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return ve}function G($,ie,pe){if($==null)return $;var ue=[],je=0;return B($,ue,"","",function(he){return ie.call(pe,he,je++)}),ue}function z($){if($._status===-1){var ie=$._result;ie=ie(),ie.then(function(pe){($._status===0||$._status===-1)&&($._status=1,$._result=pe)},function(pe){($._status===0||$._status===-1)&&($._status=2,$._result=pe)}),$._status===-1&&($._status=0,$._result=ie)}if($._status===1)return $._result.default;throw $._result}var ne=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},ge={map:G,forEach:function($,ie,pe){G($,function(){ie.apply(this,arguments)},pe)},count:function($){var ie=0;return G($,function(){ie++}),ie},toArray:function($){return G($,function(ie){return ie})||[]},only:function($){if(!F($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return We.Activity=v,We.Children=ge,We.Component=C,We.Fragment=r,We.Profiler=a,We.PureComponent=A,We.StrictMode=n,We.Suspense=f,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,We.__COMPILER_RUNTIME={__proto__:null,c:function($){return P.H.useMemoCache($)}},We.cache=function($){return function(){return $.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function($,ie,pe){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ue=w({},$.props),je=$.key;if(ie!=null)for(he in ie.key!==void 0&&(je=""+ie.key),ie)!O.call(ie,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&ie.ref===void 0||(ue[he]=ie[he]);var he=arguments.length-2;if(he===1)ue.children=pe;else if(1<he){for(var ve=Array(he),Ae=0;Ae<he;Ae++)ve[Ae]=arguments[Ae+2];ue.children=ve}return L($.type,je,ue)},We.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:s,_context:$},$},We.createElement=function($,ie,pe){var ue,je={},he=null;if(ie!=null)for(ue in ie.key!==void 0&&(he=""+ie.key),ie)O.call(ie,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(je[ue]=ie[ue]);var ve=arguments.length-2;if(ve===1)je.children=pe;else if(1<ve){for(var Ae=Array(ve),re=0;re<ve;re++)Ae[re]=arguments[re+2];je.children=Ae}if($&&$.defaultProps)for(ue in ve=$.defaultProps,ve)je[ue]===void 0&&(je[ue]=ve[ue]);return L($,he,je)},We.createRef=function(){return{current:null}},We.forwardRef=function($){return{$$typeof:u,render:$}},We.isValidElement=F,We.lazy=function($){return{$$typeof:h,_payload:{_status:-1,_result:$},_init:z}},We.memo=function($,ie){return{$$typeof:m,type:$,compare:ie===void 0?null:ie}},We.startTransition=function($){var ie=P.T,pe={};P.T=pe;try{var ue=$(),je=P.S;je!==null&&je(pe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(T,ne)}catch(he){ne(he)}finally{ie!==null&&pe.types!==null&&(ie.types=pe.types),P.T=ie}},We.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},We.use=function($){return P.H.use($)},We.useActionState=function($,ie,pe){return P.H.useActionState($,ie,pe)},We.useCallback=function($,ie){return P.H.useCallback($,ie)},We.useContext=function($){return P.H.useContext($)},We.useDebugValue=function(){},We.useDeferredValue=function($,ie){return P.H.useDeferredValue($,ie)},We.useEffect=function($,ie){return P.H.useEffect($,ie)},We.useEffectEvent=function($){return P.H.useEffectEvent($)},We.useId=function(){return P.H.useId()},We.useImperativeHandle=function($,ie,pe){return P.H.useImperativeHandle($,ie,pe)},We.useInsertionEffect=function($,ie){return P.H.useInsertionEffect($,ie)},We.useLayoutEffect=function($,ie){return P.H.useLayoutEffect($,ie)},We.useMemo=function($,ie){return P.H.useMemo($,ie)},We.useOptimistic=function($,ie){return P.H.useOptimistic($,ie)},We.useReducer=function($,ie,pe){return P.H.useReducer($,ie,pe)},We.useRef=function($){return P.H.useRef($)},We.useState=function($){return P.H.useState($)},We.useSyncExternalStore=function($,ie,pe){return P.H.useSyncExternalStore($,ie,pe)},We.useTransition=function(){return P.H.useTransition()},We.version="19.2.4",We}var sC;function uc(){return sC||(sC=1,R0.exports=_L()),R0.exports}var j=uc();const ce=Wa(j),a1=DL({__proto__:null,default:ce},[j]);var L0={exports:{}},ju={},z0={exports:{}},F0={};var lC;function OL(){return lC||(lC=1,(function(e){function t(B,G){var z=B.length;B.push(G);e:for(;0<z;){var ne=z-1>>>1,ge=B[ne];if(0<a(ge,G))B[ne]=G,B[z]=ge,z=ne;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var G=B[0],z=B.pop();if(z!==G){B[0]=z;e:for(var ne=0,ge=B.length,$=ge>>>1;ne<$;){var ie=2*(ne+1)-1,pe=B[ie],ue=ie+1,je=B[ue];if(0>a(pe,z))ue<ge&&0>a(je,pe)?(B[ne]=je,B[ue]=z,ne=ue):(B[ne]=pe,B[ie]=z,ne=ie);else if(ue<ge&&0>a(je,z))B[ne]=je,B[ue]=z,ne=ue;else break e}}return G}function a(B,G){var z=B.sortIndex-G.sortIndex;return z!==0?z:B.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],m=[],h=1,v=null,x=3,b=!1,S=!1,w=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function _(B){for(var G=r(m);G!==null;){if(G.callback===null)n(m);else if(G.startTime<=B)n(m),G.sortIndex=G.expirationTime,t(f,G);else break;G=r(m)}}function E(B){if(w=!1,_(B),!S)if(r(f)!==null)S=!0,T||(T=!0,k());else{var G=r(m);G!==null&&Z(E,G.startTime-B)}}var T=!1,P=-1,O=5,L=-1;function R(){return y?!0:!(e.unstable_now()-L<O)}function F(){if(y=!1,T){var B=e.unstable_now();L=B;var G=!0;try{e:{S=!1,w&&(w=!1,M(P),P=-1),b=!0;var z=x;try{t:{for(_(B),v=r(f);v!==null&&!(v.expirationTime>B&&R());){var ne=v.callback;if(typeof ne=="function"){v.callback=null,x=v.priorityLevel;var ge=ne(v.expirationTime<=B);if(B=e.unstable_now(),typeof ge=="function"){v.callback=ge,_(B),G=!0;break t}v===r(f)&&n(f),_(B)}else n(f);v=r(f)}if(v!==null)G=!0;else{var $=r(m);$!==null&&Z(E,$.startTime-B),G=!1}}break e}finally{v=null,x=z,b=!1}G=void 0}}finally{G?k():T=!1}}}var k;if(typeof A=="function")k=function(){A(F)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,W=X.port2;X.port1.onmessage=F,k=function(){W.postMessage(null)}}else k=function(){C(F,0)};function Z(B,G){P=C(function(){B(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(B){switch(x){case 1:case 2:case 3:var G=3;break;default:G=x}var z=x;x=G;try{return B()}finally{x=z}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var z=x;x=B;try{return G()}finally{x=z}},e.unstable_scheduleCallback=function(B,G,z){var ne=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ne+z:ne):z=ne,B){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=z+ge,B={id:h++,callback:G,priorityLevel:B,startTime:z,expirationTime:ge,sortIndex:-1},z>ne?(B.sortIndex=z,t(m,B),r(f)===null&&B===r(m)&&(w?(M(P),P=-1):w=!0,Z(E,z-ne))):(B.sortIndex=ge,t(f,B),S||b||(S=!0,T||(T=!0,k()))),B},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(B){var G=x;return function(){var z=x;x=G;try{return B.apply(this,arguments)}finally{x=z}}}})(F0)),F0}var oC;function TL(){return oC||(oC=1,z0.exports=OL()),z0.exports}var B0={exports:{}},$r={};var cC;function PL(){if(cC)return $r;cC=1;var e=uc();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)m+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,m,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:m,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return $r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,$r.createPortal=function(f,m){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return s(f,m,null,h)},$r.flushSync=function(f){var m=c.T,h=n.p;try{if(c.T=null,n.p=2,f)return f()}finally{c.T=m,n.p=h,n.d.f()}},$r.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(f,m))},$r.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},$r.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var h=m.as,v=u(h,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;h==="style"?n.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:b}):h==="script"&&n.d.X(f,{crossOrigin:v,integrity:x,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},$r.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var h=u(m.as,m.crossOrigin);n.d.M(f,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(f)},$r.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var h=m.as,v=u(h,m.crossOrigin);n.d.L(f,h,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},$r.preloadModule=function(f,m){if(typeof f=="string")if(m){var h=u(m.as,m.crossOrigin);n.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(f)},$r.requestFormReset=function(f){n.d.r(f)},$r.unstable_batchedUpdates=function(f,m){return f(m)},$r.useFormState=function(f,m,h){return c.H.useFormState(f,m,h)},$r.useFormStatus=function(){return c.H.useHostTransitionStatus()},$r.version="19.2.4",$r}var uC;function F_(){if(uC)return B0.exports;uC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),B0.exports=PL(),B0.exports}var dC;function IL(){if(dC)return ju;dC=1;var e=TL(),t=uc(),r=F_();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,d=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(d=o.return),i=o.return;while(i)}return o.tag===3?d:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(n(188))}function m(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(n(188));return o!==i?null:i}for(var d=i,p=o;;){var g=d.return;if(g===null)break;var N=g.alternate;if(N===null){if(p=g.return,p!==null){d=p;continue}break}if(g.child===N.child){for(N=g.child;N;){if(N===d)return f(g),i;if(N===p)return f(g),o;N=N.sibling}throw Error(n(188))}if(d.return!==p.return)d=g,p=N;else{for(var D=!1,I=g.child;I;){if(I===d){D=!0,d=g,p=N;break}if(I===p){D=!0,p=g,d=N;break}I=I.sibling}if(!D){for(I=N.child;I;){if(I===d){D=!0,d=N,p=g;break}if(I===p){D=!0,p=N,d=g;break}I=I.sibling}if(!D)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:o}function h(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=h(i),o!==null)return o;i=i.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),A=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function k(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var X=Symbol.for("react.client.reference");function W(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===X?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case C:return"Profiler";case y:return"StrictMode";case E:return"Suspense";case T:return"SuspenseList";case L:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case A:return i.displayName||"Context";case M:return(i._context.displayName||"Context")+".Consumer";case _:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return o=i.displayName||null,o!==null?o:W(i.type)||"Memo";case O:o=i._payload,i=i._init;try{return W(i(o))}catch{}}return null}var Z=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},ne=[],ge=-1;function $(i){return{current:i}}function ie(i){0>ge||(i.current=ne[ge],ne[ge]=null,ge--)}function pe(i,o){ge++,ne[ge]=i.current,i.current=o}var ue=$(null),je=$(null),he=$(null),ve=$(null);function Ae(i,o){switch(pe(he,o),pe(je,i),pe(ue,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?A2(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=A2(o),i=M2(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ie(ue),pe(ue,i)}function re(){ie(ue),ie(je),ie(he)}function Le(i){i.memoizedState!==null&&pe(ve,i);var o=ue.current,d=M2(o,i.type);o!==d&&(pe(je,i),pe(ue,d))}function He(i){je.current===i&&(ie(ue),ie(je)),ve.current===i&&(ie(ve),xu._currentValue=z)}var xe,Fe;function $e(i){if(xe===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);xe=o&&o[1]||"",Fe=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+i+Fe}var Ve=!1;function wt(i,o){if(!i||Ve)return"";Ve=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(le){var ae=le}Reflect.construct(i,[],me)}else{try{me.call()}catch(le){ae=le}i.call(me.prototype)}}else{try{throw Error()}catch(le){ae=le}(me=i())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(le){if(le&&ae&&typeof le.stack=="string")return[le.stack,ae.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),D=N[0],I=N[1];if(D&&I){var H=D.split(`
`),te=I.split(`
`);for(g=p=0;p<H.length&&!H[p].includes("DetermineComponentFrameRoot");)p++;for(;g<te.length&&!te[g].includes("DetermineComponentFrameRoot");)g++;if(p===H.length||g===te.length)for(p=H.length-1,g=te.length-1;1<=p&&0<=g&&H[p]!==te[g];)g--;for(;1<=p&&0<=g;p--,g--)if(H[p]!==te[g]){if(p!==1||g!==1)do if(p--,g--,0>g||H[p]!==te[g]){var de=`
`+H[p].replace(" at new "," at ");return i.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",i.displayName)),de}while(1<=p&&0<=g);break}}}finally{Ve=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?$e(d):""}function Et(i,o){switch(i.tag){case 26:case 27:case 5:return $e(i.type);case 16:return $e("Lazy");case 13:return i.child!==o&&o!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return wt(i.type,!1);case 11:return wt(i.type.render,!1);case 1:return wt(i.type,!0);case 31:return $e("Activity");default:return""}}function Oe(i){try{var o="",d=null;do o+=Et(i,d),d=i,i=i.return;while(i);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var tt=Object.prototype.hasOwnProperty,zt=e.unstable_scheduleCallback,at=e.unstable_cancelCallback,xt=e.unstable_shouldYield,Qt=e.unstable_requestPaint,Xt=e.unstable_now,Gi=e.unstable_getCurrentPriorityLevel,V=e.unstable_ImmediatePriority,q=e.unstable_UserBlockingPriority,Q=e.unstable_NormalPriority,we=e.unstable_LowPriority,Ie=e.unstable_IdlePriority,be=e.log,pt=e.unstable_setDisableYieldValue,Be=null,Re=null;function Xe(i){if(typeof be=="function"&&pt(i),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(Be,i)}catch{}}var Ze=Math.clz32?Math.clz32:Ne,Zt=Math.log,ht=Math.LN2;function Ne(i){return i>>>=0,i===0?32:31-(Zt(i)/ht|0)|0}var Ke=256,ke=262144,jt=4194304;function Jt(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function cr(i,o,d){var p=i.pendingLanes;if(p===0)return 0;var g=0,N=i.suspendedLanes,D=i.pingedLanes;i=i.warmLanes;var I=p&134217727;return I!==0?(p=I&~N,p!==0?g=Jt(p):(D&=I,D!==0?g=Jt(D):d||(d=I&~i,d!==0&&(g=Jt(d))))):(I=p&~N,I!==0?g=Jt(I):D!==0?g=Jt(D):d||(d=p&~i,d!==0&&(g=Jt(d)))),g===0?0:o!==0&&o!==g&&(o&N)===0&&(N=g&-g,d=o&-o,N>=d||N===32&&(d&4194048)!==0)?o:g}function xn(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Sv(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ud(){var i=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),i}function Dc(i){for(var o=[],d=0;31>d;d++)o.push(i);return o}function Ys(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Cv(i,o,d,p,g,N){var D=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var I=i.entanglements,H=i.expirationTimes,te=i.hiddenUpdates;for(d=D&~d;0<d;){var de=31-Ze(d),me=1<<de;I[de]=0,H[de]=-1;var ae=te[de];if(ae!==null)for(te[de]=null,de=0;de<ae.length;de++){var le=ae[de];le!==null&&(le.lane&=-536870913)}d&=~me}p!==0&&Yd(i,p,0),N!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=N&~(D&~o))}function Yd(i,o,d){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-Ze(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|d&261930}function Vd(i,o){var d=i.entangledLanes|=o;for(i=i.entanglements;d;){var p=31-Ze(d),g=1<<p;g&o|i[p]&o&&(i[p]|=o),d&=~g}}function Gd(i,o){var d=o&-o;return d=(d&42)!==0?1:kc(d),(d&(i.suspendedLanes|o))!==0?0:d}function kc(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ec(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Kd(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:Q2(i.type))}function Wd(i,o){var d=G.p;try{return G.p=i,o()}finally{G.p=d}}var ja=Math.random().toString(36).slice(2),wr="__reactFiber$"+ja,Br="__reactProps$"+ja,Ki="__reactContainer$"+ja,_c="__reactEvents$"+ja,Av="__reactListeners$"+ja,Mv="__reactHandles$"+ja,Qd="__reactResources$"+ja,Vs="__reactMarker$"+ja;function Oc(i){delete i[wr],delete i[Br],delete i[_c],delete i[Av],delete i[Mv]}function Wi(i){var o=i[wr];if(o)return o;for(var d=i.parentNode;d;){if(o=d[Ki]||d[wr]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(i=P2(i);i!==null;){if(d=i[wr])return d;i=P2(i)}return o}i=d,d=i.parentNode}return null}function Qi(i){if(i=i[wr]||i[Ki]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function U(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function ye(i){var o=i[Qd];return o||(o=i[Qd]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function mt(i){i[Vs]=!0}var Jr=new Set,Na={};function Vr(i,o){en(i,o),en(i+"Capture",o)}function en(i,o){for(Na[i]=o,i=0;i<o.length;i++)Jr.add(o[i])}var Kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tc={},gn={};function Sa(i){return tt.call(gn,i)?!0:tt.call(Tc,i)?!1:Kl.test(i)?gn[i]=!0:(Tc[i]=!0,!1)}function Xd(i,o,d){if(Sa(o))if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+d)}}function Zd(i,o,d){if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+d)}}function ti(i,o,d,p){if(p===null)i.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(o,d,""+p)}}function Ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function gj(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function wI(i,o,d){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var g=p.get,N=p.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(D){d=""+D,N.call(this,D)}}),Object.defineProperty(i,o,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(D){d=""+D},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Dv(i){if(!i._valueTracker){var o=gj(i)?"checked":"value";i._valueTracker=wI(i,o,""+i[o])}}function bj(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var d=o.getValue(),p="";return i&&(p=gj(i)?i.checked?"true":"false":i.value),i=p,i!==d?(o.setValue(i),!0):!1}function Jd(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var jI=/[\n"\\]/g;function zn(i){return i.replace(jI,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function kv(i,o,d,p,g,N,D,I){i.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.type=D:i.removeAttribute("type"),o!=null?D==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Ln(o)):i.value!==""+Ln(o)&&(i.value=""+Ln(o)):D!=="submit"&&D!=="reset"||i.removeAttribute("value"),o!=null?Ev(i,D,Ln(o)):d!=null?Ev(i,D,Ln(d)):p!=null&&i.removeAttribute("value"),g==null&&N!=null&&(i.defaultChecked=!!N),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+Ln(I):i.removeAttribute("name")}function yj(i,o,d,p,g,N,D,I){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.type=N),o!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||o!=null)){Dv(i);return}d=d!=null?""+Ln(d):"",o=o!=null?""+Ln(o):d,I||o===i.value||(i.value=o),i.defaultValue=o}p=p??g,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=I?i.checked:!!p,i.defaultChecked=!!p,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(i.name=D),Dv(i)}function Ev(i,o,d){o==="number"&&Jd(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function Wl(i,o,d,p){if(i=i.options,o){o={};for(var g=0;g<d.length;g++)o["$"+d[g]]=!0;for(d=0;d<i.length;d++)g=o.hasOwnProperty("$"+i[d].value),i[d].selected!==g&&(i[d].selected=g),g&&p&&(i[d].defaultSelected=!0)}else{for(d=""+Ln(d),o=null,g=0;g<i.length;g++){if(i[g].value===d){i[g].selected=!0,p&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function wj(i,o,d){if(o!=null&&(o=""+Ln(o),o!==i.value&&(i.value=o),d==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=d!=null?""+Ln(d):""}function jj(i,o,d,p){if(o==null){if(p!=null){if(d!=null)throw Error(n(92));if(Z(p)){if(1<p.length)throw Error(n(93));p=p[0]}d=p}d==null&&(d=""),o=d}d=Ln(o),i.defaultValue=d,p=i.textContent,p===d&&p!==""&&p!==null&&(i.value=p),Dv(i)}function Ql(i,o){if(o){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=o;return}}i.textContent=o}var NI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nj(i,o,d){var p=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,d):typeof d!="number"||d===0||NI.has(o)?o==="float"?i.cssFloat=d:i[o]=(""+d).trim():i[o]=d+"px"}function Sj(i,o,d){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var g in o)p=o[g],o.hasOwnProperty(g)&&d[g]!==p&&Nj(i,g,p)}else for(var N in o)o.hasOwnProperty(N)&&Nj(i,N,o[N])}function _v(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),CI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ef(i){return CI.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ri(){}var Ov=null;function Tv(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Xl=null,Zl=null;function Cj(i){var o=Qi(i);if(o&&(i=o.stateNode)){var d=i[Br]||null;e:switch(i=o.stateNode,o.type){case"input":if(kv(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+zn(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var p=d[o];if(p!==i&&p.form===i.form){var g=p[Br]||null;if(!g)throw Error(n(90));kv(p,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<d.length;o++)p=d[o],p.form===i.form&&bj(p)}break e;case"textarea":wj(i,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&Wl(i,!!d.multiple,o,!1)}}}var Pv=!1;function Aj(i,o,d){if(Pv)return i(o,d);Pv=!0;try{var p=i(o);return p}finally{if(Pv=!1,(Xl!==null||Zl!==null)&&(qf(),Xl&&(o=Xl,i=Zl,Zl=Xl=null,Cj(o),i)))for(o=0;o<i.length;o++)Cj(i[o])}}function Pc(i,o){var d=i.stateNode;if(d===null)return null;var p=d[Br]||null;if(p===null)return null;d=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,o,typeof d));return d}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Iv=!1;if(ni)try{var Ic={};Object.defineProperty(Ic,"passive",{get:function(){Iv=!0}}),window.addEventListener("test",Ic,Ic),window.removeEventListener("test",Ic,Ic)}catch{Iv=!1}var Xi=null,Rv=null,tf=null;function Mj(){if(tf)return tf;var i,o=Rv,d=o.length,p,g="value"in Xi?Xi.value:Xi.textContent,N=g.length;for(i=0;i<d&&o[i]===g[i];i++);var D=d-i;for(p=1;p<=D&&o[d-p]===g[N-p];p++);return tf=g.slice(i,1<p?1-p:void 0)}function rf(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function nf(){return!0}function Dj(){return!1}function tn(i){function o(d,p,g,N,D){this._reactName=d,this._targetInst=g,this.type=p,this.nativeEvent=N,this.target=D,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(d=i[I],this[I]=d?d(N):N[I]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?nf:Dj,this.isPropagationStopped=Dj,this}return v(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=nf)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=nf)},persist:function(){},isPersistent:nf}),o}var Gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},af=tn(Gs),Rc=v({},Gs,{view:0,detail:0}),AI=tn(Rc),Lv,zv,Lc,sf=v({},Rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bv,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Lc&&(Lc&&i.type==="mousemove"?(Lv=i.screenX-Lc.screenX,zv=i.screenY-Lc.screenY):zv=Lv=0,Lc=i),Lv)},movementY:function(i){return"movementY"in i?i.movementY:zv}}),kj=tn(sf),MI=v({},sf,{dataTransfer:0}),DI=tn(MI),kI=v({},Rc,{relatedTarget:0}),Fv=tn(kI),EI=v({},Gs,{animationName:0,elapsedTime:0,pseudoElement:0}),_I=tn(EI),OI=v({},Gs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),TI=tn(OI),PI=v({},Gs,{data:0}),Ej=tn(PI),II={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zI(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=LI[i])?!!o[i]:!1}function Bv(){return zI}var FI=v({},Rc,{key:function(i){if(i.key){var o=II[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=rf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?RI[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bv,charCode:function(i){return i.type==="keypress"?rf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?rf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),BI=tn(FI),$I=v({},sf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_j=tn($I),qI=v({},Rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bv}),HI=tn(qI),UI=v({},Gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),YI=tn(UI),VI=v({},sf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),GI=tn(VI),KI=v({},Gs,{newState:0,oldState:0}),WI=tn(KI),QI=[9,13,27,32],$v=ni&&"CompositionEvent"in window,zc=null;ni&&"documentMode"in document&&(zc=document.documentMode);var XI=ni&&"TextEvent"in window&&!zc,Oj=ni&&(!$v||zc&&8<zc&&11>=zc),Tj=" ",Pj=!1;function Ij(i,o){switch(i){case"keyup":return QI.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rj(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Jl=!1;function ZI(i,o){switch(i){case"compositionend":return Rj(o);case"keypress":return o.which!==32?null:(Pj=!0,Tj);case"textInput":return i=o.data,i===Tj&&Pj?null:i;default:return null}}function JI(i,o){if(Jl)return i==="compositionend"||!$v&&Ij(i,o)?(i=Mj(),tf=Rv=Xi=null,Jl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Oj&&o.locale!=="ko"?null:o.data;default:return null}}var eR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lj(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!eR[i.type]:o==="textarea"}function zj(i,o,d,p){Xl?Zl?Zl.push(p):Zl=[p]:Xl=p,o=Wf(o,"onChange"),0<o.length&&(d=new af("onChange","change",null,d,p),i.push({event:d,listeners:o}))}var Fc=null,Bc=null;function tR(i){y2(i,0)}function lf(i){var o=U(i);if(bj(o))return i}function Fj(i,o){if(i==="change")return o}var Bj=!1;if(ni){var qv;if(ni){var Hv="oninput"in document;if(!Hv){var $j=document.createElement("div");$j.setAttribute("oninput","return;"),Hv=typeof $j.oninput=="function"}qv=Hv}else qv=!1;Bj=qv&&(!document.documentMode||9<document.documentMode)}function qj(){Fc&&(Fc.detachEvent("onpropertychange",Hj),Bc=Fc=null)}function Hj(i){if(i.propertyName==="value"&&lf(Bc)){var o=[];zj(o,Bc,i,Tv(i)),Aj(tR,o)}}function rR(i,o,d){i==="focusin"?(qj(),Fc=o,Bc=d,Fc.attachEvent("onpropertychange",Hj)):i==="focusout"&&qj()}function nR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return lf(Bc)}function aR(i,o){if(i==="click")return lf(o)}function iR(i,o){if(i==="input"||i==="change")return lf(o)}function sR(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var bn=typeof Object.is=="function"?Object.is:sR;function $c(i,o){if(bn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var d=Object.keys(i),p=Object.keys(o);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var g=d[p];if(!tt.call(o,g)||!bn(i[g],o[g]))return!1}return!0}function Uj(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Yj(i,o){var d=Uj(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=o&&p>=o)return{node:d,offset:o-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Uj(d)}}function Vj(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Vj(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Gj(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Jd(i.document);o instanceof i.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)i=o.contentWindow;else break;o=Jd(i.document)}return o}function Uv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var lR=ni&&"documentMode"in document&&11>=document.documentMode,eo=null,Yv=null,qc=null,Vv=!1;function Kj(i,o,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Vv||eo==null||eo!==Jd(p)||(p=eo,"selectionStart"in p&&Uv(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),qc&&$c(qc,p)||(qc=p,p=Wf(Yv,"onSelect"),0<p.length&&(o=new af("onSelect","select",null,o,d),i.push({event:o,listeners:p}),o.target=eo)))}function Ks(i,o){var d={};return d[i.toLowerCase()]=o.toLowerCase(),d["Webkit"+i]="webkit"+o,d["Moz"+i]="moz"+o,d}var to={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},Gv={},Wj={};ni&&(Wj=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function Ws(i){if(Gv[i])return Gv[i];if(!to[i])return i;var o=to[i],d;for(d in o)if(o.hasOwnProperty(d)&&d in Wj)return Gv[i]=o[d];return i}var Qj=Ws("animationend"),Xj=Ws("animationiteration"),Zj=Ws("animationstart"),oR=Ws("transitionrun"),cR=Ws("transitionstart"),uR=Ws("transitioncancel"),Jj=Ws("transitionend"),eN=new Map,Kv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kv.push("scrollEnd");function na(i,o){eN.set(i,o),Vr(o,[i])}var of=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Fn=[],ro=0,Wv=0;function cf(){for(var i=ro,o=Wv=ro=0;o<i;){var d=Fn[o];Fn[o++]=null;var p=Fn[o];Fn[o++]=null;var g=Fn[o];Fn[o++]=null;var N=Fn[o];if(Fn[o++]=null,p!==null&&g!==null){var D=p.pending;D===null?g.next=g:(g.next=D.next,D.next=g),p.pending=g}N!==0&&tN(d,g,N)}}function uf(i,o,d,p){Fn[ro++]=i,Fn[ro++]=o,Fn[ro++]=d,Fn[ro++]=p,Wv|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function Qv(i,o,d,p){return uf(i,o,d,p),df(i)}function Qs(i,o){return uf(i,null,null,o),df(i)}function tN(i,o,d){i.lanes|=d;var p=i.alternate;p!==null&&(p.lanes|=d);for(var g=!1,N=i.return;N!==null;)N.childLanes|=d,p=N.alternate,p!==null&&(p.childLanes|=d),N.tag===22&&(i=N.stateNode,i===null||i._visibility&1||(g=!0)),i=N,N=N.return;return i.tag===3?(N=i.stateNode,g&&o!==null&&(g=31-Ze(d),i=N.hiddenUpdates,p=i[g],p===null?i[g]=[o]:p.push(o),o.lane=d|536870912),N):null}function df(i){if(50<uu)throw uu=0,i0=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var no={};function dR(i,o,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(i,o,d,p){return new dR(i,o,d,p)}function Xv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ai(i,o){var d=i.alternate;return d===null?(d=yn(i.tag,o,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=o,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,o=i.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function rN(i,o){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,o=d.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function ff(i,o,d,p,g,N){var D=0;if(p=i,typeof i=="function")Xv(i)&&(D=1);else if(typeof i=="string")D=vL(i,d,ue.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case L:return i=yn(31,d,o,g),i.elementType=L,i.lanes=N,i;case w:return Xs(d.children,g,N,o);case y:D=8,g|=24;break;case C:return i=yn(12,d,o,g|2),i.elementType=C,i.lanes=N,i;case E:return i=yn(13,d,o,g),i.elementType=E,i.lanes=N,i;case T:return i=yn(19,d,o,g),i.elementType=T,i.lanes=N,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:D=10;break e;case M:D=9;break e;case _:D=11;break e;case P:D=14;break e;case O:D=16,p=null;break e}D=29,d=Error(n(130,i===null?"null":typeof i,"")),p=null}return o=yn(D,d,o,g),o.elementType=i,o.type=p,o.lanes=N,o}function Xs(i,o,d,p){return i=yn(7,i,p,o),i.lanes=d,i}function Zv(i,o,d){return i=yn(6,i,null,o),i.lanes=d,i}function nN(i){var o=yn(18,null,null,0);return o.stateNode=i,o}function Jv(i,o,d){return o=yn(4,i.children!==null?i.children:[],i.key,o),o.lanes=d,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var aN=new WeakMap;function Bn(i,o){if(typeof i=="object"&&i!==null){var d=aN.get(i);return d!==void 0?d:(o={value:i,source:o,stack:Oe(o)},aN.set(i,o),o)}return{value:i,source:o,stack:Oe(o)}}var ao=[],io=0,mf=null,Hc=0,$n=[],qn=0,Zi=null,Ca=1,Aa="";function ii(i,o){ao[io++]=Hc,ao[io++]=mf,mf=i,Hc=o}function iN(i,o,d){$n[qn++]=Ca,$n[qn++]=Aa,$n[qn++]=Zi,Zi=i;var p=Ca;i=Aa;var g=32-Ze(p)-1;p&=~(1<<g),d+=1;var N=32-Ze(o)+g;if(30<N){var D=g-g%5;N=(p&(1<<D)-1).toString(32),p>>=D,g-=D,Ca=1<<32-Ze(o)+g|d<<g|p,Aa=N+i}else Ca=1<<N|d<<g|p,Aa=i}function ex(i){i.return!==null&&(ii(i,1),iN(i,1,0))}function tx(i){for(;i===mf;)mf=ao[--io],ao[io]=null,Hc=ao[--io],ao[io]=null;for(;i===Zi;)Zi=$n[--qn],$n[qn]=null,Aa=$n[--qn],$n[qn]=null,Ca=$n[--qn],$n[qn]=null}function sN(i,o){$n[qn++]=Ca,$n[qn++]=Aa,$n[qn++]=Zi,Ca=o.id,Aa=o.overflow,Zi=i}var Or=null,Bt=null,ft=!1,Ji=null,Hn=!1,rx=Error(n(519));function es(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uc(Bn(o,i)),rx}function lN(i){var o=i.stateNode,d=i.type,p=i.memoizedProps;switch(o[wr]=i,o[Br]=p,d){case"dialog":st("cancel",o),st("close",o);break;case"iframe":case"object":case"embed":st("load",o);break;case"video":case"audio":for(d=0;d<fu.length;d++)st(fu[d],o);break;case"source":st("error",o);break;case"img":case"image":case"link":st("error",o),st("load",o);break;case"details":st("toggle",o);break;case"input":st("invalid",o),yj(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":st("invalid",o);break;case"textarea":st("invalid",o),jj(o,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||p.suppressHydrationWarning===!0||S2(o.textContent,d)?(p.popover!=null&&(st("beforetoggle",o),st("toggle",o)),p.onScroll!=null&&st("scroll",o),p.onScrollEnd!=null&&st("scrollend",o),p.onClick!=null&&(o.onclick=ri),o=!0):o=!1,o||es(i,!0)}function oN(i){for(Or=i.return;Or;)switch(Or.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Or=Or.return}}function so(i){if(i!==Or)return!1;if(!ft)return oN(i),ft=!0,!1;var o=i.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||y0(i.type,i.memoizedProps)),d=!d),d&&Bt&&es(i),oN(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Bt=T2(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Bt=T2(i)}else o===27?(o=Bt,ps(i.type)?(i=C0,C0=null,Bt=i):Bt=o):Bt=Or?Yn(i.stateNode.nextSibling):null;return!0}function Zs(){Bt=Or=null,ft=!1}function nx(){var i=Ji;return i!==null&&(sn===null?sn=i:sn.push.apply(sn,i),Ji=null),i}function Uc(i){Ji===null?Ji=[i]:Ji.push(i)}var ax=$(null),Js=null,si=null;function ts(i,o,d){pe(ax,o._currentValue),o._currentValue=d}function li(i){i._currentValue=ax.current,ie(ax)}function ix(i,o,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===d)break;i=i.return}}function sx(i,o,d,p){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var N=g.dependencies;if(N!==null){var D=g.child;N=N.firstContext;e:for(;N!==null;){var I=N;N=g;for(var H=0;H<o.length;H++)if(I.context===o[H]){N.lanes|=d,I=N.alternate,I!==null&&(I.lanes|=d),ix(N.return,d,i),p||(D=null);break e}N=I.next}}else if(g.tag===18){if(D=g.return,D===null)throw Error(n(341));D.lanes|=d,N=D.alternate,N!==null&&(N.lanes|=d),ix(D,d,i),D=null}else D=g.child;if(D!==null)D.return=g;else for(D=g;D!==null;){if(D===i){D=null;break}if(g=D.sibling,g!==null){g.return=D.return,D=g;break}D=D.return}g=D}}function lo(i,o,d,p){i=null;for(var g=o,N=!1;g!==null;){if(!N){if((g.flags&524288)!==0)N=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var D=g.alternate;if(D===null)throw Error(n(387));if(D=D.memoizedProps,D!==null){var I=g.type;bn(g.pendingProps.value,D.value)||(i!==null?i.push(I):i=[I])}}else if(g===ve.current){if(D=g.alternate,D===null)throw Error(n(387));D.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(xu):i=[xu])}g=g.return}i!==null&&sx(o,i,d,p),o.flags|=262144}function pf(i){for(i=i.firstContext;i!==null;){if(!bn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function el(i){Js=i,si=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Tr(i){return cN(Js,i)}function hf(i,o){return Js===null&&el(i),cN(i,o)}function cN(i,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},si===null){if(i===null)throw Error(n(308));si=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else si=si.next=o;return d}var fR=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(d,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(d){return d()})}},mR=e.unstable_scheduleCallback,pR=e.unstable_NormalPriority,hr={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lx(){return{controller:new fR,data:new Map,refCount:0}}function Yc(i){i.refCount--,i.refCount===0&&mR(pR,function(){i.controller.abort()})}var Vc=null,ox=0,oo=0,co=null;function hR(i,o){if(Vc===null){var d=Vc=[];ox=0,oo=d0(),co={status:"pending",value:void 0,then:function(p){d.push(p)}}}return ox++,o.then(uN,uN),o}function uN(){if(--ox===0&&Vc!==null){co!==null&&(co.status="fulfilled");var i=Vc;Vc=null,oo=0,co=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function vR(i,o){var d=[],p={status:"pending",value:null,reason:null,then:function(g){d.push(g)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var g=0;g<d.length;g++)(0,d[g])(o)},function(g){for(p.status="rejected",p.reason=g,g=0;g<d.length;g++)(0,d[g])(void 0)}),p}var dN=B.S;B.S=function(i,o){KS=Xt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&hR(i,o),dN!==null&&dN(i,o)};var tl=$(null);function cx(){var i=tl.current;return i!==null?i:Rt.pooledCache}function vf(i,o){o===null?pe(tl,tl.current):pe(tl,o.pool)}function fN(){var i=cx();return i===null?null:{parent:hr._currentValue,pool:i}}var uo=Error(n(460)),ux=Error(n(474)),xf=Error(n(542)),gf={then:function(){}};function mN(i){return i=i.status,i==="fulfilled"||i==="rejected"}function pN(i,o,d){switch(d=i[d],d===void 0?i.push(o):d!==o&&(o.then(ri,ri),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,vN(i),i;default:if(typeof o.status=="string")o.then(ri,ri);else{if(i=Rt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=p}},function(p){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,vN(i),i}throw nl=o,uo}}function rl(i){try{var o=i._init;return o(i._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(nl=d,uo):d}}var nl=null;function hN(){if(nl===null)throw Error(n(459));var i=nl;return nl=null,i}function vN(i){if(i===uo||i===xf)throw Error(n(483))}var fo=null,Gc=0;function bf(i){var o=Gc;return Gc+=1,fo===null&&(fo=[]),pN(fo,i,o)}function Kc(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function yf(i,o){throw o.$$typeof===x?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function xN(i){function o(K,Y){if(i){var ee=K.deletions;ee===null?(K.deletions=[Y],K.flags|=16):ee.push(Y)}}function d(K,Y){if(!i)return null;for(;Y!==null;)o(K,Y),Y=Y.sibling;return null}function p(K){for(var Y=new Map;K!==null;)K.key!==null?Y.set(K.key,K):Y.set(K.index,K),K=K.sibling;return Y}function g(K,Y){return K=ai(K,Y),K.index=0,K.sibling=null,K}function N(K,Y,ee){return K.index=ee,i?(ee=K.alternate,ee!==null?(ee=ee.index,ee<Y?(K.flags|=67108866,Y):ee):(K.flags|=67108866,Y)):(K.flags|=1048576,Y)}function D(K){return i&&K.alternate===null&&(K.flags|=67108866),K}function I(K,Y,ee,fe){return Y===null||Y.tag!==6?(Y=Zv(ee,K.mode,fe),Y.return=K,Y):(Y=g(Y,ee),Y.return=K,Y)}function H(K,Y,ee,fe){var ze=ee.type;return ze===w?de(K,Y,ee.props.children,fe,ee.key):Y!==null&&(Y.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===O&&rl(ze)===Y.type)?(Y=g(Y,ee.props),Kc(Y,ee),Y.return=K,Y):(Y=ff(ee.type,ee.key,ee.props,null,K.mode,fe),Kc(Y,ee),Y.return=K,Y)}function te(K,Y,ee,fe){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ee.containerInfo||Y.stateNode.implementation!==ee.implementation?(Y=Jv(ee,K.mode,fe),Y.return=K,Y):(Y=g(Y,ee.children||[]),Y.return=K,Y)}function de(K,Y,ee,fe,ze){return Y===null||Y.tag!==7?(Y=Xs(ee,K.mode,fe,ze),Y.return=K,Y):(Y=g(Y,ee),Y.return=K,Y)}function me(K,Y,ee){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Zv(""+Y,K.mode,ee),Y.return=K,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return ee=ff(Y.type,Y.key,Y.props,null,K.mode,ee),Kc(ee,Y),ee.return=K,ee;case S:return Y=Jv(Y,K.mode,ee),Y.return=K,Y;case O:return Y=rl(Y),me(K,Y,ee)}if(Z(Y)||k(Y))return Y=Xs(Y,K.mode,ee,null),Y.return=K,Y;if(typeof Y.then=="function")return me(K,bf(Y),ee);if(Y.$$typeof===A)return me(K,hf(K,Y),ee);yf(K,Y)}return null}function ae(K,Y,ee,fe){var ze=Y!==null?Y.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ze!==null?null:I(K,Y,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return ee.key===ze?H(K,Y,ee,fe):null;case S:return ee.key===ze?te(K,Y,ee,fe):null;case O:return ee=rl(ee),ae(K,Y,ee,fe)}if(Z(ee)||k(ee))return ze!==null?null:de(K,Y,ee,fe,null);if(typeof ee.then=="function")return ae(K,Y,bf(ee),fe);if(ee.$$typeof===A)return ae(K,Y,hf(K,ee),fe);yf(K,ee)}return null}function le(K,Y,ee,fe,ze){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return K=K.get(ee)||null,I(Y,K,""+fe,ze);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:return K=K.get(fe.key===null?ee:fe.key)||null,H(Y,K,fe,ze);case S:return K=K.get(fe.key===null?ee:fe.key)||null,te(Y,K,fe,ze);case O:return fe=rl(fe),le(K,Y,ee,fe,ze)}if(Z(fe)||k(fe))return K=K.get(ee)||null,de(Y,K,fe,ze,null);if(typeof fe.then=="function")return le(K,Y,ee,bf(fe),ze);if(fe.$$typeof===A)return le(K,Y,ee,hf(Y,fe),ze);yf(Y,fe)}return null}function _e(K,Y,ee,fe){for(var ze=null,gt=null,Te=Y,Je=Y=0,ct=null;Te!==null&&Je<ee.length;Je++){Te.index>Je?(ct=Te,Te=null):ct=Te.sibling;var bt=ae(K,Te,ee[Je],fe);if(bt===null){Te===null&&(Te=ct);break}i&&Te&&bt.alternate===null&&o(K,Te),Y=N(bt,Y,Je),gt===null?ze=bt:gt.sibling=bt,gt=bt,Te=ct}if(Je===ee.length)return d(K,Te),ft&&ii(K,Je),ze;if(Te===null){for(;Je<ee.length;Je++)Te=me(K,ee[Je],fe),Te!==null&&(Y=N(Te,Y,Je),gt===null?ze=Te:gt.sibling=Te,gt=Te);return ft&&ii(K,Je),ze}for(Te=p(Te);Je<ee.length;Je++)ct=le(Te,K,Je,ee[Je],fe),ct!==null&&(i&&ct.alternate!==null&&Te.delete(ct.key===null?Je:ct.key),Y=N(ct,Y,Je),gt===null?ze=ct:gt.sibling=ct,gt=ct);return i&&Te.forEach(function(bs){return o(K,bs)}),ft&&ii(K,Je),ze}function qe(K,Y,ee,fe){if(ee==null)throw Error(n(151));for(var ze=null,gt=null,Te=Y,Je=Y=0,ct=null,bt=ee.next();Te!==null&&!bt.done;Je++,bt=ee.next()){Te.index>Je?(ct=Te,Te=null):ct=Te.sibling;var bs=ae(K,Te,bt.value,fe);if(bs===null){Te===null&&(Te=ct);break}i&&Te&&bs.alternate===null&&o(K,Te),Y=N(bs,Y,Je),gt===null?ze=bs:gt.sibling=bs,gt=bs,Te=ct}if(bt.done)return d(K,Te),ft&&ii(K,Je),ze;if(Te===null){for(;!bt.done;Je++,bt=ee.next())bt=me(K,bt.value,fe),bt!==null&&(Y=N(bt,Y,Je),gt===null?ze=bt:gt.sibling=bt,gt=bt);return ft&&ii(K,Je),ze}for(Te=p(Te);!bt.done;Je++,bt=ee.next())bt=le(Te,K,Je,bt.value,fe),bt!==null&&(i&&bt.alternate!==null&&Te.delete(bt.key===null?Je:bt.key),Y=N(bt,Y,Je),gt===null?ze=bt:gt.sibling=bt,gt=bt);return i&&Te.forEach(function(ML){return o(K,ML)}),ft&&ii(K,Je),ze}function Tt(K,Y,ee,fe){if(typeof ee=="object"&&ee!==null&&ee.type===w&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:e:{for(var ze=ee.key;Y!==null;){if(Y.key===ze){if(ze=ee.type,ze===w){if(Y.tag===7){d(K,Y.sibling),fe=g(Y,ee.props.children),fe.return=K,K=fe;break e}}else if(Y.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===O&&rl(ze)===Y.type){d(K,Y.sibling),fe=g(Y,ee.props),Kc(fe,ee),fe.return=K,K=fe;break e}d(K,Y);break}else o(K,Y);Y=Y.sibling}ee.type===w?(fe=Xs(ee.props.children,K.mode,fe,ee.key),fe.return=K,K=fe):(fe=ff(ee.type,ee.key,ee.props,null,K.mode,fe),Kc(fe,ee),fe.return=K,K=fe)}return D(K);case S:e:{for(ze=ee.key;Y!==null;){if(Y.key===ze)if(Y.tag===4&&Y.stateNode.containerInfo===ee.containerInfo&&Y.stateNode.implementation===ee.implementation){d(K,Y.sibling),fe=g(Y,ee.children||[]),fe.return=K,K=fe;break e}else{d(K,Y);break}else o(K,Y);Y=Y.sibling}fe=Jv(ee,K.mode,fe),fe.return=K,K=fe}return D(K);case O:return ee=rl(ee),Tt(K,Y,ee,fe)}if(Z(ee))return _e(K,Y,ee,fe);if(k(ee)){if(ze=k(ee),typeof ze!="function")throw Error(n(150));return ee=ze.call(ee),qe(K,Y,ee,fe)}if(typeof ee.then=="function")return Tt(K,Y,bf(ee),fe);if(ee.$$typeof===A)return Tt(K,Y,hf(K,ee),fe);yf(K,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,Y!==null&&Y.tag===6?(d(K,Y.sibling),fe=g(Y,ee),fe.return=K,K=fe):(d(K,Y),fe=Zv(ee,K.mode,fe),fe.return=K,K=fe),D(K)):d(K,Y)}return function(K,Y,ee,fe){try{Gc=0;var ze=Tt(K,Y,ee,fe);return fo=null,ze}catch(Te){if(Te===uo||Te===xf)throw Te;var gt=yn(29,Te,null,K.mode);return gt.lanes=fe,gt.return=K,gt}}}var al=xN(!0),gN=xN(!1),rs=!1;function dx(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fx(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ns(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function as(i,o,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Nt&2)!==0){var g=p.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),p.pending=o,o=df(i),tN(i,null,d),o}return uf(i,p,o,d),df(i)}function Wc(i,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,Vd(i,d)}}function mx(i,o){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var g=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var D={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?g=N=D:N=N.next=D,d=d.next}while(d!==null);N===null?g=N=o:N=N.next=o}else g=N=o;d={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=o:i.next=o,d.lastBaseUpdate=o}var px=!1;function Qc(){if(px){var i=co;if(i!==null)throw i}}function Xc(i,o,d,p){px=!1;var g=i.updateQueue;rs=!1;var N=g.firstBaseUpdate,D=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var H=I,te=H.next;H.next=null,D===null?N=te:D.next=te,D=H;var de=i.alternate;de!==null&&(de=de.updateQueue,I=de.lastBaseUpdate,I!==D&&(I===null?de.firstBaseUpdate=te:I.next=te,de.lastBaseUpdate=H))}if(N!==null){var me=g.baseState;D=0,de=te=H=null,I=N;do{var ae=I.lane&-536870913,le=ae!==I.lane;if(le?(ot&ae)===ae:(p&ae)===ae){ae!==0&&ae===oo&&(px=!0),de!==null&&(de=de.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var _e=i,qe=I;ae=o;var Tt=d;switch(qe.tag){case 1:if(_e=qe.payload,typeof _e=="function"){me=_e.call(Tt,me,ae);break e}me=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=qe.payload,ae=typeof _e=="function"?_e.call(Tt,me,ae):_e,ae==null)break e;me=v({},me,ae);break e;case 2:rs=!0}}ae=I.callback,ae!==null&&(i.flags|=64,le&&(i.flags|=8192),le=g.callbacks,le===null?g.callbacks=[ae]:le.push(ae))}else le={lane:ae,tag:I.tag,payload:I.payload,callback:I.callback,next:null},de===null?(te=de=le,H=me):de=de.next=le,D|=ae;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;le=I,I=le.next,le.next=null,g.lastBaseUpdate=le,g.shared.pending=null}}while(!0);de===null&&(H=me),g.baseState=H,g.firstBaseUpdate=te,g.lastBaseUpdate=de,N===null&&(g.shared.lanes=0),cs|=D,i.lanes=D,i.memoizedState=me}}function bN(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function yN(i,o){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)bN(d[i],o)}var mo=$(null),wf=$(0);function wN(i,o){i=vi,pe(wf,i),pe(mo,o),vi=i|o.baseLanes}function hx(){pe(wf,vi),pe(mo,mo.current)}function vx(){vi=wf.current,ie(mo),ie(wf)}var wn=$(null),Un=null;function is(i){var o=i.alternate;pe(ur,ur.current&1),pe(wn,i),Un===null&&(o===null||mo.current!==null||o.memoizedState!==null)&&(Un=i)}function xx(i){pe(ur,ur.current),pe(wn,i),Un===null&&(Un=i)}function jN(i){i.tag===22?(pe(ur,ur.current),pe(wn,i),Un===null&&(Un=i)):ss()}function ss(){pe(ur,ur.current),pe(wn,wn.current)}function jn(i){ie(wn),Un===i&&(Un=null),ie(ur)}var ur=$(0);function jf(i){for(var o=i;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||N0(d)||S0(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var oi=0,Qe=null,_t=null,vr=null,Nf=!1,po=!1,il=!1,Sf=0,Zc=0,ho=null,xR=0;function rr(){throw Error(n(321))}function gx(i,o){if(o===null)return!1;for(var d=0;d<o.length&&d<i.length;d++)if(!bn(i[d],o[d]))return!1;return!0}function bx(i,o,d,p,g,N){return oi=N,Qe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,B.H=i===null||i.memoizedState===null?iS:Px,il=!1,N=d(p,g),il=!1,po&&(N=SN(o,d,p,g)),NN(i),N}function NN(i){B.H=tu;var o=_t!==null&&_t.next!==null;if(oi=0,vr=_t=Qe=null,Nf=!1,Zc=0,ho=null,o)throw Error(n(300));i===null||xr||(i=i.dependencies,i!==null&&pf(i)&&(xr=!0))}function SN(i,o,d,p){Qe=i;var g=0;do{if(po&&(ho=null),Zc=0,po=!1,25<=g)throw Error(n(301));if(g+=1,vr=_t=null,i.updateQueue!=null){var N=i.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}B.H=sS,N=o(d,p)}while(po);return N}function gR(){var i=B.H,o=i.useState()[0];return o=typeof o.then=="function"?Jc(o):o,i=i.useState()[0],(_t!==null?_t.memoizedState:null)!==i&&(Qe.flags|=1024),o}function yx(){var i=Sf!==0;return Sf=0,i}function wx(i,o,d){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~d}function jx(i){if(Nf){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Nf=!1}oi=0,vr=_t=Qe=null,po=!1,Zc=Sf=0,ho=null}function Gr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?Qe.memoizedState=vr=i:vr=vr.next=i,vr}function dr(){if(_t===null){var i=Qe.alternate;i=i!==null?i.memoizedState:null}else i=_t.next;var o=vr===null?Qe.memoizedState:vr.next;if(o!==null)vr=o,_t=i;else{if(i===null)throw Qe.alternate===null?Error(n(467)):Error(n(310));_t=i,i={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},vr===null?Qe.memoizedState=vr=i:vr=vr.next=i}return vr}function Cf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jc(i){var o=Zc;return Zc+=1,ho===null&&(ho=[]),i=pN(ho,i,o),o=Qe,(vr===null?o.memoizedState:vr.next)===null&&(o=o.alternate,B.H=o===null||o.memoizedState===null?iS:Px),i}function Af(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Jc(i);if(i.$$typeof===A)return Tr(i)}throw Error(n(438,String(i)))}function Nx(i){var o=null,d=Qe.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var p=Qe.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=Cf(),Qe.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(i),p=0;p<i;p++)d[p]=R;return o.index++,d}function ci(i,o){return typeof o=="function"?o(i):o}function Mf(i){var o=dr();return Sx(o,_t,i)}function Sx(i,o,d){var p=i.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=d;var g=i.baseQueue,N=p.pending;if(N!==null){if(g!==null){var D=g.next;g.next=N.next,N.next=D}o.baseQueue=g=N,p.pending=null}if(N=i.baseState,g===null)i.memoizedState=N;else{o=g.next;var I=D=null,H=null,te=o,de=!1;do{var me=te.lane&-536870913;if(me!==te.lane?(ot&me)===me:(oi&me)===me){var ae=te.revertLane;if(ae===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),me===oo&&(de=!0);else if((oi&ae)===ae){te=te.next,ae===oo&&(de=!0);continue}else me={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},H===null?(I=H=me,D=N):H=H.next=me,Qe.lanes|=ae,cs|=ae;me=te.action,il&&d(N,me),N=te.hasEagerState?te.eagerState:d(N,me)}else ae={lane:me,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},H===null?(I=H=ae,D=N):H=H.next=ae,Qe.lanes|=me,cs|=me;te=te.next}while(te!==null&&te!==o);if(H===null?D=N:H.next=I,!bn(N,i.memoizedState)&&(xr=!0,de&&(d=co,d!==null)))throw d;i.memoizedState=N,i.baseState=D,i.baseQueue=H,p.lastRenderedState=N}return g===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function Cx(i){var o=dr(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var p=d.dispatch,g=d.pending,N=o.memoizedState;if(g!==null){d.pending=null;var D=g=g.next;do N=i(N,D.action),D=D.next;while(D!==g);bn(N,o.memoizedState)||(xr=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),d.lastRenderedState=N}return[N,p]}function CN(i,o,d){var p=Qe,g=dr(),N=ft;if(N){if(d===void 0)throw Error(n(407));d=d()}else d=o();var D=!bn((_t||g).memoizedState,d);if(D&&(g.memoizedState=d,xr=!0),g=g.queue,Dx(DN.bind(null,p,g,i),[i]),g.getSnapshot!==o||D||vr!==null&&vr.memoizedState.tag&1){if(p.flags|=2048,vo(9,{destroy:void 0},MN.bind(null,p,g,d,o),null),Rt===null)throw Error(n(349));N||(oi&127)!==0||AN(p,o,d)}return d}function AN(i,o,d){i.flags|=16384,i={getSnapshot:o,value:d},o=Qe.updateQueue,o===null?(o=Cf(),Qe.updateQueue=o,o.stores=[i]):(d=o.stores,d===null?o.stores=[i]:d.push(i))}function MN(i,o,d,p){o.value=d,o.getSnapshot=p,kN(o)&&EN(i)}function DN(i,o,d){return d(function(){kN(o)&&EN(i)})}function kN(i){var o=i.getSnapshot;i=i.value;try{var d=o();return!bn(i,d)}catch{return!0}}function EN(i){var o=Qs(i,2);o!==null&&ln(o,i,2)}function Ax(i){var o=Gr();if(typeof i=="function"){var d=i;if(i=d(),il){Xe(!0);try{d()}finally{Xe(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:i},o}function _N(i,o,d,p){return i.baseState=d,Sx(i,_t,typeof p=="function"?p:ci)}function bR(i,o,d,p,g){if(Ef(i))throw Error(n(485));if(i=o.action,i!==null){var N={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){N.listeners.push(D)}};B.T!==null?d(!0):N.isTransition=!1,p(N),d=o.pending,d===null?(N.next=o.pending=N,ON(o,N)):(N.next=d.next,o.pending=d.next=N)}}function ON(i,o){var d=o.action,p=o.payload,g=i.state;if(o.isTransition){var N=B.T,D={};B.T=D;try{var I=d(g,p),H=B.S;H!==null&&H(D,I),TN(i,o,I)}catch(te){Mx(i,o,te)}finally{N!==null&&D.types!==null&&(N.types=D.types),B.T=N}}else try{N=d(g,p),TN(i,o,N)}catch(te){Mx(i,o,te)}}function TN(i,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){PN(i,o,p)},function(p){return Mx(i,o,p)}):PN(i,o,d)}function PN(i,o,d){o.status="fulfilled",o.value=d,IN(o),i.state=d,o=i.pending,o!==null&&(d=o.next,d===o?i.pending=null:(d=d.next,o.next=d,ON(i,d)))}function Mx(i,o,d){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=d,IN(o),o=o.next;while(o!==p)}i.action=null}function IN(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function RN(i,o){return o}function LN(i,o){if(ft){var d=Rt.formState;if(d!==null){e:{var p=Qe;if(ft){if(Bt){t:{for(var g=Bt,N=Hn;g.nodeType!==8;){if(!N){g=null;break t}if(g=Yn(g.nextSibling),g===null){g=null;break t}}N=g.data,g=N==="F!"||N==="F"?g:null}if(g){Bt=Yn(g.nextSibling),p=g.data==="F!";break e}}es(p)}p=!1}p&&(o=d[0])}}return d=Gr(),d.memoizedState=d.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:RN,lastRenderedState:o},d.queue=p,d=rS.bind(null,Qe,p),p.dispatch=d,p=Ax(!1),N=Tx.bind(null,Qe,!1,p.queue),p=Gr(),g={state:o,dispatch:null,action:i,pending:null},p.queue=g,d=bR.bind(null,Qe,g,N,d),g.dispatch=d,p.memoizedState=i,[o,d,!1]}function zN(i){var o=dr();return FN(o,_t,i)}function FN(i,o,d){if(o=Sx(i,o,RN)[0],i=Mf(ci)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=Jc(o)}catch(D){throw D===uo?xf:D}else p=o;o=dr();var g=o.queue,N=g.dispatch;return d!==o.memoizedState&&(Qe.flags|=2048,vo(9,{destroy:void 0},yR.bind(null,g,d),null)),[p,N,i]}function yR(i,o){i.action=o}function BN(i){var o=dr(),d=_t;if(d!==null)return FN(o,d,i);dr(),o=o.memoizedState,d=dr();var p=d.queue.dispatch;return d.memoizedState=i,[o,p,!1]}function vo(i,o,d,p){return i={tag:i,create:d,deps:p,inst:o,next:null},o=Qe.updateQueue,o===null&&(o=Cf(),Qe.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,o.lastEffect=i),i}function $N(){return dr().memoizedState}function Df(i,o,d,p){var g=Gr();Qe.flags|=i,g.memoizedState=vo(1|o,{destroy:void 0},d,p===void 0?null:p)}function kf(i,o,d,p){var g=dr();p=p===void 0?null:p;var N=g.memoizedState.inst;_t!==null&&p!==null&&gx(p,_t.memoizedState.deps)?g.memoizedState=vo(o,N,d,p):(Qe.flags|=i,g.memoizedState=vo(1|o,N,d,p))}function qN(i,o){Df(8390656,8,i,o)}function Dx(i,o){kf(2048,8,i,o)}function wR(i){Qe.flags|=4;var o=Qe.updateQueue;if(o===null)o=Cf(),Qe.updateQueue=o,o.events=[i];else{var d=o.events;d===null?o.events=[i]:d.push(i)}}function HN(i){var o=dr().memoizedState;return wR({ref:o,nextImpl:i}),function(){if((Nt&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function UN(i,o){return kf(4,2,i,o)}function YN(i,o){return kf(4,4,i,o)}function VN(i,o){if(typeof o=="function"){i=i();var d=o(i);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function GN(i,o,d){d=d!=null?d.concat([i]):null,kf(4,4,VN.bind(null,o,i),d)}function kx(){}function KN(i,o){var d=dr();o=o===void 0?null:o;var p=d.memoizedState;return o!==null&&gx(o,p[1])?p[0]:(d.memoizedState=[i,o],i)}function WN(i,o){var d=dr();o=o===void 0?null:o;var p=d.memoizedState;if(o!==null&&gx(o,p[1]))return p[0];if(p=i(),il){Xe(!0);try{i()}finally{Xe(!1)}}return d.memoizedState=[p,o],p}function Ex(i,o,d){return d===void 0||(oi&1073741824)!==0&&(ot&261930)===0?i.memoizedState=o:(i.memoizedState=d,i=QS(),Qe.lanes|=i,cs|=i,d)}function QN(i,o,d,p){return bn(d,o)?d:mo.current!==null?(i=Ex(i,d,p),bn(i,o)||(xr=!0),i):(oi&42)===0||(oi&1073741824)!==0&&(ot&261930)===0?(xr=!0,i.memoizedState=d):(i=QS(),Qe.lanes|=i,cs|=i,o)}function XN(i,o,d,p,g){var N=G.p;G.p=N!==0&&8>N?N:8;var D=B.T,I={};B.T=I,Tx(i,!1,o,d);try{var H=g(),te=B.S;if(te!==null&&te(I,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var de=vR(H,p);eu(i,o,de,Cn(i))}else eu(i,o,p,Cn(i))}catch(me){eu(i,o,{then:function(){},status:"rejected",reason:me},Cn())}finally{G.p=N,D!==null&&I.types!==null&&(D.types=I.types),B.T=D}}function jR(){}function _x(i,o,d,p){if(i.tag!==5)throw Error(n(476));var g=ZN(i).queue;XN(i,g,o,z,d===null?jR:function(){return JN(i),d(p)})}function ZN(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:z},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:d},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function JN(i){var o=ZN(i);o.next===null&&(o=i.alternate.memoizedState),eu(i,o.next.queue,{},Cn())}function Ox(){return Tr(xu)}function eS(){return dr().memoizedState}function tS(){return dr().memoizedState}function NR(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var d=Cn();i=ns(d);var p=as(o,i,d);p!==null&&(ln(p,o,d),Wc(p,o,d)),o={cache:lx()},i.payload=o;return}o=o.return}}function SR(i,o,d){var p=Cn();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Ef(i)?nS(o,d):(d=Qv(i,o,d,p),d!==null&&(ln(d,i,p),aS(d,o,p)))}function rS(i,o,d){var p=Cn();eu(i,o,d,p)}function eu(i,o,d,p){var g={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Ef(i))nS(o,g);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var D=o.lastRenderedState,I=N(D,d);if(g.hasEagerState=!0,g.eagerState=I,bn(I,D))return uf(i,o,g,0),Rt===null&&cf(),!1}catch{}if(d=Qv(i,o,g,p),d!==null)return ln(d,i,p),aS(d,o,p),!0}return!1}function Tx(i,o,d,p){if(p={lane:2,revertLane:d0(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Ef(i)){if(o)throw Error(n(479))}else o=Qv(i,d,p,2),o!==null&&ln(o,i,2)}function Ef(i){var o=i.alternate;return i===Qe||o!==null&&o===Qe}function nS(i,o){po=Nf=!0;var d=i.pending;d===null?o.next=o:(o.next=d.next,d.next=o),i.pending=o}function aS(i,o,d){if((d&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,Vd(i,d)}}var tu={readContext:Tr,use:Af,useCallback:rr,useContext:rr,useEffect:rr,useImperativeHandle:rr,useLayoutEffect:rr,useInsertionEffect:rr,useMemo:rr,useReducer:rr,useRef:rr,useState:rr,useDebugValue:rr,useDeferredValue:rr,useTransition:rr,useSyncExternalStore:rr,useId:rr,useHostTransitionStatus:rr,useFormState:rr,useActionState:rr,useOptimistic:rr,useMemoCache:rr,useCacheRefresh:rr};tu.useEffectEvent=rr;var iS={readContext:Tr,use:Af,useCallback:function(i,o){return Gr().memoizedState=[i,o===void 0?null:o],i},useContext:Tr,useEffect:qN,useImperativeHandle:function(i,o,d){d=d!=null?d.concat([i]):null,Df(4194308,4,VN.bind(null,o,i),d)},useLayoutEffect:function(i,o){return Df(4194308,4,i,o)},useInsertionEffect:function(i,o){Df(4,2,i,o)},useMemo:function(i,o){var d=Gr();o=o===void 0?null:o;var p=i();if(il){Xe(!0);try{i()}finally{Xe(!1)}}return d.memoizedState=[p,o],p},useReducer:function(i,o,d){var p=Gr();if(d!==void 0){var g=d(o);if(il){Xe(!0);try{d(o)}finally{Xe(!1)}}}else g=o;return p.memoizedState=p.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},p.queue=i,i=i.dispatch=SR.bind(null,Qe,i),[p.memoizedState,i]},useRef:function(i){var o=Gr();return i={current:i},o.memoizedState=i},useState:function(i){i=Ax(i);var o=i.queue,d=rS.bind(null,Qe,o);return o.dispatch=d,[i.memoizedState,d]},useDebugValue:kx,useDeferredValue:function(i,o){var d=Gr();return Ex(d,i,o)},useTransition:function(){var i=Ax(!1);return i=XN.bind(null,Qe,i.queue,!0,!1),Gr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,d){var p=Qe,g=Gr();if(ft){if(d===void 0)throw Error(n(407));d=d()}else{if(d=o(),Rt===null)throw Error(n(349));(ot&127)!==0||AN(p,o,d)}g.memoizedState=d;var N={value:d,getSnapshot:o};return g.queue=N,qN(DN.bind(null,p,N,i),[i]),p.flags|=2048,vo(9,{destroy:void 0},MN.bind(null,p,N,d,o),null),d},useId:function(){var i=Gr(),o=Rt.identifierPrefix;if(ft){var d=Aa,p=Ca;d=(p&~(1<<32-Ze(p)-1)).toString(32)+d,o="_"+o+"R_"+d,d=Sf++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=xR++,o="_"+o+"r_"+d.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Ox,useFormState:LN,useActionState:LN,useOptimistic:function(i){var o=Gr();o.memoizedState=o.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=Tx.bind(null,Qe,!0,d),d.dispatch=o,[i,o]},useMemoCache:Nx,useCacheRefresh:function(){return Gr().memoizedState=NR.bind(null,Qe)},useEffectEvent:function(i){var o=Gr(),d={impl:i};return o.memoizedState=d,function(){if((Nt&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},Px={readContext:Tr,use:Af,useCallback:KN,useContext:Tr,useEffect:Dx,useImperativeHandle:GN,useInsertionEffect:UN,useLayoutEffect:YN,useMemo:WN,useReducer:Mf,useRef:$N,useState:function(){return Mf(ci)},useDebugValue:kx,useDeferredValue:function(i,o){var d=dr();return QN(d,_t.memoizedState,i,o)},useTransition:function(){var i=Mf(ci)[0],o=dr().memoizedState;return[typeof i=="boolean"?i:Jc(i),o]},useSyncExternalStore:CN,useId:eS,useHostTransitionStatus:Ox,useFormState:zN,useActionState:zN,useOptimistic:function(i,o){var d=dr();return _N(d,_t,i,o)},useMemoCache:Nx,useCacheRefresh:tS};Px.useEffectEvent=HN;var sS={readContext:Tr,use:Af,useCallback:KN,useContext:Tr,useEffect:Dx,useImperativeHandle:GN,useInsertionEffect:UN,useLayoutEffect:YN,useMemo:WN,useReducer:Cx,useRef:$N,useState:function(){return Cx(ci)},useDebugValue:kx,useDeferredValue:function(i,o){var d=dr();return _t===null?Ex(d,i,o):QN(d,_t.memoizedState,i,o)},useTransition:function(){var i=Cx(ci)[0],o=dr().memoizedState;return[typeof i=="boolean"?i:Jc(i),o]},useSyncExternalStore:CN,useId:eS,useHostTransitionStatus:Ox,useFormState:BN,useActionState:BN,useOptimistic:function(i,o){var d=dr();return _t!==null?_N(d,_t,i,o):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:Nx,useCacheRefresh:tS};sS.useEffectEvent=HN;function Ix(i,o,d,p){o=i.memoizedState,d=d(p,o),d=d==null?o:v({},o,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Rx={enqueueSetState:function(i,o,d){i=i._reactInternals;var p=Cn(),g=ns(p);g.payload=o,d!=null&&(g.callback=d),o=as(i,g,p),o!==null&&(ln(o,i,p),Wc(o,i,p))},enqueueReplaceState:function(i,o,d){i=i._reactInternals;var p=Cn(),g=ns(p);g.tag=1,g.payload=o,d!=null&&(g.callback=d),o=as(i,g,p),o!==null&&(ln(o,i,p),Wc(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var d=Cn(),p=ns(d);p.tag=2,o!=null&&(p.callback=o),o=as(i,p,d),o!==null&&(ln(o,i,d),Wc(o,i,d))}};function lS(i,o,d,p,g,N,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,N,D):o.prototype&&o.prototype.isPureReactComponent?!$c(d,p)||!$c(g,N):!0}function oS(i,o,d,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,p),o.state!==i&&Rx.enqueueReplaceState(o,o.state,null)}function sl(i,o){var d=o;if("ref"in o){d={};for(var p in o)p!=="ref"&&(d[p]=o[p])}if(i=i.defaultProps){d===o&&(d=v({},d));for(var g in i)d[g]===void 0&&(d[g]=i[g])}return d}function cS(i){of(i)}function uS(i){console.error(i)}function dS(i){of(i)}function _f(i,o){try{var d=i.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function fS(i,o,d){try{var p=i.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Lx(i,o,d){return d=ns(d),d.tag=3,d.payload={element:null},d.callback=function(){_f(i,o)},d}function mS(i){return i=ns(i),i.tag=3,i}function pS(i,o,d,p){var g=d.type.getDerivedStateFromError;if(typeof g=="function"){var N=p.value;i.payload=function(){return g(N)},i.callback=function(){fS(o,d,p)}}var D=d.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(i.callback=function(){fS(o,d,p),typeof g!="function"&&(us===null?us=new Set([this]):us.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function CR(i,o,d,p,g){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=d.alternate,o!==null&&lo(o,d,g,!0),d=wn.current,d!==null){switch(d.tag){case 31:case 13:return Un===null?Hf():d.alternate===null&&nr===0&&(nr=3),d.flags&=-257,d.flags|=65536,d.lanes=g,p===gf?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([p]):o.add(p),o0(i,p,g)),!1;case 22:return d.flags|=65536,p===gf?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([p]):d.add(p)),o0(i,p,g)),!1}throw Error(n(435,d.tag))}return o0(i,p,g),Hf(),!1}if(ft)return o=wn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,p!==rx&&(i=Error(n(422),{cause:p}),Uc(Bn(i,d)))):(p!==rx&&(o=Error(n(423),{cause:p}),Uc(Bn(o,d))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,p=Bn(p,d),g=Lx(i.stateNode,p,g),mx(i,g),nr!==4&&(nr=2)),!1;var N=Error(n(520),{cause:p});if(N=Bn(N,d),cu===null?cu=[N]:cu.push(N),nr!==4&&(nr=2),o===null)return!0;p=Bn(p,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,i=g&-g,d.lanes|=i,i=Lx(d.stateNode,p,i),mx(d,i),!1;case 1:if(o=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(us===null||!us.has(N))))return d.flags|=65536,g&=-g,d.lanes|=g,g=mS(g),pS(g,i,d,p),mx(d,g),!1}d=d.return}while(d!==null);return!1}var zx=Error(n(461)),xr=!1;function Pr(i,o,d,p){o.child=i===null?gN(o,null,d,p):al(o,i.child,d,p)}function hS(i,o,d,p,g){d=d.render;var N=o.ref;if("ref"in p){var D={};for(var I in p)I!=="ref"&&(D[I]=p[I])}else D=p;return el(o),p=bx(i,o,d,D,N,g),I=yx(),i!==null&&!xr?(wx(i,o,g),ui(i,o,g)):(ft&&I&&ex(o),o.flags|=1,Pr(i,o,p,g),o.child)}function vS(i,o,d,p,g){if(i===null){var N=d.type;return typeof N=="function"&&!Xv(N)&&N.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=N,xS(i,o,N,p,g)):(i=ff(d.type,null,p,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(N=i.child,!Vx(i,g)){var D=N.memoizedProps;if(d=d.compare,d=d!==null?d:$c,d(D,p)&&i.ref===o.ref)return ui(i,o,g)}return o.flags|=1,i=ai(N,p),i.ref=o.ref,i.return=o,o.child=i}function xS(i,o,d,p,g){if(i!==null){var N=i.memoizedProps;if($c(N,p)&&i.ref===o.ref)if(xr=!1,o.pendingProps=p=N,Vx(i,g))(i.flags&131072)!==0&&(xr=!0);else return o.lanes=i.lanes,ui(i,o,g)}return Fx(i,o,d,p,g)}function gS(i,o,d,p){var g=p.children,N=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(N=N!==null?N.baseLanes|d:d,i!==null){for(p=o.child=i.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;p=g&~N}else p=0,o.child=null;return bS(i,o,N,d,p)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&vf(o,N!==null?N.cachePool:null),N!==null?wN(o,N):hx(),jN(o);else return p=o.lanes=536870912,bS(i,o,N!==null?N.baseLanes|d:d,d,p)}else N!==null?(vf(o,N.cachePool),wN(o,N),ss(),o.memoizedState=null):(i!==null&&vf(o,null),hx(),ss());return Pr(i,o,g,d),o.child}function ru(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function bS(i,o,d,p,g){var N=cx();return N=N===null?null:{parent:hr._currentValue,pool:N},o.memoizedState={baseLanes:d,cachePool:N},i!==null&&vf(o,null),hx(),jN(o),i!==null&&lo(i,o,p,!0),o.childLanes=g,null}function Of(i,o){return o=Pf({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function yS(i,o,d){return al(o,i.child,null,d),i=Of(o,o.pendingProps),i.flags|=2,jn(o),o.memoizedState=null,i}function AR(i,o,d){var p=o.pendingProps,g=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(ft){if(p.mode==="hidden")return i=Of(o,p),o.lanes=536870912,ru(null,i);if(xx(o),(i=Bt)?(i=O2(i,Hn),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Zi!==null?{id:Ca,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},d=nN(i),d.return=o,o.child=d,Or=o,Bt=null)):i=null,i===null)throw es(o);return o.lanes=536870912,null}return Of(o,p)}var N=i.memoizedState;if(N!==null){var D=N.dehydrated;if(xx(o),g)if(o.flags&256)o.flags&=-257,o=yS(i,o,d);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(xr||lo(i,o,d,!1),g=(d&i.childLanes)!==0,xr||g){if(p=Rt,p!==null&&(D=Gd(p,d),D!==0&&D!==N.retryLane))throw N.retryLane=D,Qs(i,D),ln(p,i,D),zx;Hf(),o=yS(i,o,d)}else i=N.treeContext,Bt=Yn(D.nextSibling),Or=o,ft=!0,Ji=null,Hn=!1,i!==null&&sN(o,i),o=Of(o,p),o.flags|=4096;return o}return i=ai(i.child,{mode:p.mode,children:p.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Tf(i,o){var d=o.ref;if(d===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(i===null||i.ref!==d)&&(o.flags|=4194816)}}function Fx(i,o,d,p,g){return el(o),d=bx(i,o,d,p,void 0,g),p=yx(),i!==null&&!xr?(wx(i,o,g),ui(i,o,g)):(ft&&p&&ex(o),o.flags|=1,Pr(i,o,d,g),o.child)}function wS(i,o,d,p,g,N){return el(o),o.updateQueue=null,d=SN(o,p,d,g),NN(i),p=yx(),i!==null&&!xr?(wx(i,o,N),ui(i,o,N)):(ft&&p&&ex(o),o.flags|=1,Pr(i,o,d,N),o.child)}function jS(i,o,d,p,g){if(el(o),o.stateNode===null){var N=no,D=d.contextType;typeof D=="object"&&D!==null&&(N=Tr(D)),N=new d(p,N),o.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Rx,o.stateNode=N,N._reactInternals=o,N=o.stateNode,N.props=p,N.state=o.memoizedState,N.refs={},dx(o),D=d.contextType,N.context=typeof D=="object"&&D!==null?Tr(D):no,N.state=o.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(Ix(o,d,D,p),N.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(D=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),D!==N.state&&Rx.enqueueReplaceState(N,N.state,null),Xc(o,p,N,g),Qc(),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){N=o.stateNode;var I=o.memoizedProps,H=sl(d,I);N.props=H;var te=N.context,de=d.contextType;D=no,typeof de=="object"&&de!==null&&(D=Tr(de));var me=d.getDerivedStateFromProps;de=typeof me=="function"||typeof N.getSnapshotBeforeUpdate=="function",I=o.pendingProps!==I,de||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(I||te!==D)&&oS(o,N,p,D),rs=!1;var ae=o.memoizedState;N.state=ae,Xc(o,p,N,g),Qc(),te=o.memoizedState,I||ae!==te||rs?(typeof me=="function"&&(Ix(o,d,me,p),te=o.memoizedState),(H=rs||lS(o,d,H,p,ae,te,D))?(de||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=te),N.props=p,N.state=te,N.context=D,p=H):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{N=o.stateNode,fx(i,o),D=o.memoizedProps,de=sl(d,D),N.props=de,me=o.pendingProps,ae=N.context,te=d.contextType,H=no,typeof te=="object"&&te!==null&&(H=Tr(te)),I=d.getDerivedStateFromProps,(te=typeof I=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(D!==me||ae!==H)&&oS(o,N,p,H),rs=!1,ae=o.memoizedState,N.state=ae,Xc(o,p,N,g),Qc();var le=o.memoizedState;D!==me||ae!==le||rs||i!==null&&i.dependencies!==null&&pf(i.dependencies)?(typeof I=="function"&&(Ix(o,d,I,p),le=o.memoizedState),(de=rs||lS(o,d,de,p,ae,le,H)||i!==null&&i.dependencies!==null&&pf(i.dependencies))?(te||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,le,H),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,le,H)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||D===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=le),N.props=p,N.state=le,N.context=H,p=de):(typeof N.componentDidUpdate!="function"||D===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),p=!1)}return N=p,Tf(i,o),p=(o.flags&128)!==0,N||p?(N=o.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:N.render(),o.flags|=1,i!==null&&p?(o.child=al(o,i.child,null,g),o.child=al(o,null,d,g)):Pr(i,o,d,g),o.memoizedState=N.state,i=o.child):i=ui(i,o,g),i}function NS(i,o,d,p){return Zs(),o.flags|=256,Pr(i,o,d,p),o.child}var Bx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $x(i){return{baseLanes:i,cachePool:fN()}}function qx(i,o,d){return i=i!==null?i.childLanes&~d:0,o&&(i|=Sn),i}function SS(i,o,d){var p=o.pendingProps,g=!1,N=(o.flags&128)!==0,D;if((D=N)||(D=i!==null&&i.memoizedState===null?!1:(ur.current&2)!==0),D&&(g=!0,o.flags&=-129),D=(o.flags&32)!==0,o.flags&=-33,i===null){if(ft){if(g?is(o):ss(),(i=Bt)?(i=O2(i,Hn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Zi!==null?{id:Ca,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},d=nN(i),d.return=o,o.child=d,Or=o,Bt=null)):i=null,i===null)throw es(o);return S0(i)?o.lanes=32:o.lanes=536870912,null}var I=p.children;return p=p.fallback,g?(ss(),g=o.mode,I=Pf({mode:"hidden",children:I},g),p=Xs(p,g,d,null),I.return=o,p.return=o,I.sibling=p,o.child=I,p=o.child,p.memoizedState=$x(d),p.childLanes=qx(i,D,d),o.memoizedState=Bx,ru(null,p)):(is(o),Hx(o,I))}var H=i.memoizedState;if(H!==null&&(I=H.dehydrated,I!==null)){if(N)o.flags&256?(is(o),o.flags&=-257,o=Ux(i,o,d)):o.memoizedState!==null?(ss(),o.child=i.child,o.flags|=128,o=null):(ss(),I=p.fallback,g=o.mode,p=Pf({mode:"visible",children:p.children},g),I=Xs(I,g,d,null),I.flags|=2,p.return=o,I.return=o,p.sibling=I,o.child=p,al(o,i.child,null,d),p=o.child,p.memoizedState=$x(d),p.childLanes=qx(i,D,d),o.memoizedState=Bx,o=ru(null,p));else if(is(o),S0(I)){if(D=I.nextSibling&&I.nextSibling.dataset,D)var te=D.dgst;D=te,p=Error(n(419)),p.stack="",p.digest=D,Uc({value:p,source:null,stack:null}),o=Ux(i,o,d)}else if(xr||lo(i,o,d,!1),D=(d&i.childLanes)!==0,xr||D){if(D=Rt,D!==null&&(p=Gd(D,d),p!==0&&p!==H.retryLane))throw H.retryLane=p,Qs(i,p),ln(D,i,p),zx;N0(I)||Hf(),o=Ux(i,o,d)}else N0(I)?(o.flags|=192,o.child=i.child,o=null):(i=H.treeContext,Bt=Yn(I.nextSibling),Or=o,ft=!0,Ji=null,Hn=!1,i!==null&&sN(o,i),o=Hx(o,p.children),o.flags|=4096);return o}return g?(ss(),I=p.fallback,g=o.mode,H=i.child,te=H.sibling,p=ai(H,{mode:"hidden",children:p.children}),p.subtreeFlags=H.subtreeFlags&65011712,te!==null?I=ai(te,I):(I=Xs(I,g,d,null),I.flags|=2),I.return=o,p.return=o,p.sibling=I,o.child=p,ru(null,p),p=o.child,I=i.child.memoizedState,I===null?I=$x(d):(g=I.cachePool,g!==null?(H=hr._currentValue,g=g.parent!==H?{parent:H,pool:H}:g):g=fN(),I={baseLanes:I.baseLanes|d,cachePool:g}),p.memoizedState=I,p.childLanes=qx(i,D,d),o.memoizedState=Bx,ru(i.child,p)):(is(o),d=i.child,i=d.sibling,d=ai(d,{mode:"visible",children:p.children}),d.return=o,d.sibling=null,i!==null&&(D=o.deletions,D===null?(o.deletions=[i],o.flags|=16):D.push(i)),o.child=d,o.memoizedState=null,d)}function Hx(i,o){return o=Pf({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Pf(i,o){return i=yn(22,i,null,o),i.lanes=0,i}function Ux(i,o,d){return al(o,i.child,null,d),i=Hx(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function CS(i,o,d){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),ix(i.return,o,d)}function Yx(i,o,d,p,g,N){var D=i.memoizedState;D===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:g,treeForkCount:N}:(D.isBackwards=o,D.rendering=null,D.renderingStartTime=0,D.last=p,D.tail=d,D.tailMode=g,D.treeForkCount=N)}function AS(i,o,d){var p=o.pendingProps,g=p.revealOrder,N=p.tail;p=p.children;var D=ur.current,I=(D&2)!==0;if(I?(D=D&1|2,o.flags|=128):D&=1,pe(ur,D),Pr(i,o,p,d),p=ft?Hc:0,!I&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&CS(i,d,o);else if(i.tag===19)CS(i,d,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(d=o.child,g=null;d!==null;)i=d.alternate,i!==null&&jf(i)===null&&(g=d),d=d.sibling;d=g,d===null?(g=o.child,o.child=null):(g=d.sibling,d.sibling=null),Yx(o,!1,g,d,N,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&jf(i)===null){o.child=g;break}i=g.sibling,g.sibling=d,d=g,g=i}Yx(o,!0,d,null,N,p);break;case"together":Yx(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function ui(i,o,d){if(i!==null&&(o.dependencies=i.dependencies),cs|=o.lanes,(d&o.childLanes)===0)if(i!==null){if(lo(i,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,d=ai(i,i.pendingProps),o.child=d,d.return=o;i.sibling!==null;)i=i.sibling,d=d.sibling=ai(i,i.pendingProps),d.return=o;d.sibling=null}return o.child}function Vx(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&pf(i)))}function MR(i,o,d){switch(o.tag){case 3:Ae(o,o.stateNode.containerInfo),ts(o,hr,i.memoizedState.cache),Zs();break;case 27:case 5:Le(o);break;case 4:Ae(o,o.stateNode.containerInfo);break;case 10:ts(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,xx(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(is(o),o.flags|=128,null):(d&o.child.childLanes)!==0?SS(i,o,d):(is(o),i=ui(i,o,d),i!==null?i.sibling:null);is(o);break;case 19:var g=(i.flags&128)!==0;if(p=(d&o.childLanes)!==0,p||(lo(i,o,d,!1),p=(d&o.childLanes)!==0),g){if(p)return AS(i,o,d);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),pe(ur,ur.current),p)break;return null;case 22:return o.lanes=0,gS(i,o,d,o.pendingProps);case 24:ts(o,hr,i.memoizedState.cache)}return ui(i,o,d)}function MS(i,o,d){if(i!==null)if(i.memoizedProps!==o.pendingProps)xr=!0;else{if(!Vx(i,d)&&(o.flags&128)===0)return xr=!1,MR(i,o,d);xr=(i.flags&131072)!==0}else xr=!1,ft&&(o.flags&1048576)!==0&&iN(o,Hc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(i=rl(o.elementType),o.type=i,typeof i=="function")Xv(i)?(p=sl(i,p),o.tag=1,o=jS(null,o,i,p,d)):(o.tag=0,o=Fx(null,o,i,p,d));else{if(i!=null){var g=i.$$typeof;if(g===_){o.tag=11,o=hS(null,o,i,p,d);break e}else if(g===P){o.tag=14,o=vS(null,o,i,p,d);break e}}throw o=W(i)||i,Error(n(306,o,""))}}return o;case 0:return Fx(i,o,o.type,o.pendingProps,d);case 1:return p=o.type,g=sl(p,o.pendingProps),jS(i,o,p,g,d);case 3:e:{if(Ae(o,o.stateNode.containerInfo),i===null)throw Error(n(387));p=o.pendingProps;var N=o.memoizedState;g=N.element,fx(i,o),Xc(o,p,null,d);var D=o.memoizedState;if(p=D.cache,ts(o,hr,p),p!==N.cache&&sx(o,[hr],d,!0),Qc(),p=D.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:D.cache},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){o=NS(i,o,p,d);break e}else if(p!==g){g=Bn(Error(n(424)),o),Uc(g),o=NS(i,o,p,d);break e}else for(i=o.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Bt=Yn(i.firstChild),Or=o,ft=!0,Ji=null,Hn=!0,d=gN(o,null,p,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Zs(),p===g){o=ui(i,o,d);break e}Pr(i,o,p,d)}o=o.child}return o;case 26:return Tf(i,o),i===null?(d=z2(o.type,null,o.pendingProps,null))?o.memoizedState=d:ft||(d=o.type,i=o.pendingProps,p=Qf(he.current).createElement(d),p[wr]=o,p[Br]=i,Ir(p,d,i),mt(p),o.stateNode=p):o.memoizedState=z2(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Le(o),i===null&&ft&&(p=o.stateNode=I2(o.type,o.pendingProps,he.current),Or=o,Hn=!0,g=Bt,ps(o.type)?(C0=g,Bt=Yn(p.firstChild)):Bt=g),Pr(i,o,o.pendingProps.children,d),Tf(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&ft&&((g=p=Bt)&&(p=nL(p,o.type,o.pendingProps,Hn),p!==null?(o.stateNode=p,Or=o,Bt=Yn(p.firstChild),Hn=!1,g=!0):g=!1),g||es(o)),Le(o),g=o.type,N=o.pendingProps,D=i!==null?i.memoizedProps:null,p=N.children,y0(g,N)?p=null:D!==null&&y0(g,D)&&(o.flags|=32),o.memoizedState!==null&&(g=bx(i,o,gR,null,null,d),xu._currentValue=g),Tf(i,o),Pr(i,o,p,d),o.child;case 6:return i===null&&ft&&((i=d=Bt)&&(d=aL(d,o.pendingProps,Hn),d!==null?(o.stateNode=d,Or=o,Bt=null,i=!0):i=!1),i||es(o)),null;case 13:return SS(i,o,d);case 4:return Ae(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=al(o,null,p,d):Pr(i,o,p,d),o.child;case 11:return hS(i,o,o.type,o.pendingProps,d);case 7:return Pr(i,o,o.pendingProps,d),o.child;case 8:return Pr(i,o,o.pendingProps.children,d),o.child;case 12:return Pr(i,o,o.pendingProps.children,d),o.child;case 10:return p=o.pendingProps,ts(o,o.type,p.value),Pr(i,o,p.children,d),o.child;case 9:return g=o.type._context,p=o.pendingProps.children,el(o),g=Tr(g),p=p(g),o.flags|=1,Pr(i,o,p,d),o.child;case 14:return vS(i,o,o.type,o.pendingProps,d);case 15:return xS(i,o,o.type,o.pendingProps,d);case 19:return AS(i,o,d);case 31:return AR(i,o,d);case 22:return gS(i,o,d,o.pendingProps);case 24:return el(o),p=Tr(hr),i===null?(g=cx(),g===null&&(g=Rt,N=lx(),g.pooledCache=N,N.refCount++,N!==null&&(g.pooledCacheLanes|=d),g=N),o.memoizedState={parent:p,cache:g},dx(o),ts(o,hr,g)):((i.lanes&d)!==0&&(fx(i,o),Xc(o,null,null,d),Qc()),g=i.memoizedState,N=o.memoizedState,g.parent!==p?(g={parent:p,cache:p},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),ts(o,hr,p)):(p=N.cache,ts(o,hr,p),p!==g.cache&&sx(o,[hr],d,!0))),Pr(i,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function di(i){i.flags|=4}function Gx(i,o,d,p,g){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(e2())i.flags|=8192;else throw nl=gf,ux}else i.flags&=-16777217}function DS(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!H2(o))if(e2())i.flags|=8192;else throw nl=gf,ux}function If(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Ud():536870912,i.lanes|=o,yo|=o)}function nu(i,o){if(!ft)switch(i.tailMode){case"hidden":o=i.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function $t(i){var o=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(o)for(var g=i.child;g!==null;)d|=g.lanes|g.childLanes,p|=g.subtreeFlags&65011712,p|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)d|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=p,i.childLanes=d,o}function DR(i,o,d){var p=o.pendingProps;switch(tx(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(o),null;case 1:return $t(o),null;case 3:return d=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),li(hr),re(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(so(o)?di(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,nx())),$t(o),null;case 26:var g=o.type,N=o.memoizedState;return i===null?(di(o),N!==null?($t(o),DS(o,N)):($t(o),Gx(o,g,null,p,d))):N?N!==i.memoizedState?(di(o),$t(o),DS(o,N)):($t(o),o.flags&=-16777217):(i=i.memoizedProps,i!==p&&di(o),$t(o),Gx(o,g,i,p,d)),null;case 27:if(He(o),d=he.current,g=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&di(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return $t(o),null}i=ue.current,so(o)?lN(o):(i=I2(g,p,d),o.stateNode=i,di(o))}return $t(o),null;case 5:if(He(o),g=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&di(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return $t(o),null}if(N=ue.current,so(o))lN(o);else{var D=Qf(he.current);switch(N){case 1:N=D.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:N=D.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":N=D.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":N=D.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":N=D.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof p.is=="string"?D.createElement("select",{is:p.is}):D.createElement("select"),p.multiple?N.multiple=!0:p.size&&(N.size=p.size);break;default:N=typeof p.is=="string"?D.createElement(g,{is:p.is}):D.createElement(g)}}N[wr]=o,N[Br]=p;e:for(D=o.child;D!==null;){if(D.tag===5||D.tag===6)N.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===o)break e;for(;D.sibling===null;){if(D.return===null||D.return===o)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}o.stateNode=N;e:switch(Ir(N,g,p),g){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&di(o)}}return $t(o),Gx(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,d),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&di(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(i=he.current,so(o)){if(i=o.stateNode,d=o.memoizedProps,p=null,g=Or,g!==null)switch(g.tag){case 27:case 5:p=g.memoizedProps}i[wr]=o,i=!!(i.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||S2(i.nodeValue,d)),i||es(o,!0)}else i=Qf(i).createTextNode(p),i[wr]=o,o.stateNode=i}return $t(o),null;case 31:if(d=o.memoizedState,i===null||i.memoizedState!==null){if(p=so(o),d!==null){if(i===null){if(!p)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[wr]=o}else Zs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;$t(o),i=!1}else d=nx(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),i=!0;if(!i)return o.flags&256?(jn(o),o):(jn(o),null);if((o.flags&128)!==0)throw Error(n(558))}return $t(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=so(o),p!==null&&p.dehydrated!==null){if(i===null){if(!g)throw Error(n(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[wr]=o}else Zs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;$t(o),g=!1}else g=nx(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(jn(o),o):(jn(o),null)}return jn(o),(o.flags&128)!==0?(o.lanes=d,o):(d=p!==null,i=i!==null&&i.memoizedState!==null,d&&(p=o.child,g=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(g=p.alternate.memoizedState.cachePool.pool),N=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==g&&(p.flags|=2048)),d!==i&&d&&(o.child.flags|=8192),If(o,o.updateQueue),$t(o),null);case 4:return re(),i===null&&h0(o.stateNode.containerInfo),$t(o),null;case 10:return li(o.type),$t(o),null;case 19:if(ie(ur),p=o.memoizedState,p===null)return $t(o),null;if(g=(o.flags&128)!==0,N=p.rendering,N===null)if(g)nu(p,!1);else{if(nr!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(N=jf(i),N!==null){for(o.flags|=128,nu(p,!1),i=N.updateQueue,o.updateQueue=i,If(o,i),o.subtreeFlags=0,i=d,d=o.child;d!==null;)rN(d,i),d=d.sibling;return pe(ur,ur.current&1|2),ft&&ii(o,p.treeForkCount),o.child}i=i.sibling}p.tail!==null&&Xt()>Bf&&(o.flags|=128,g=!0,nu(p,!1),o.lanes=4194304)}else{if(!g)if(i=jf(N),i!==null){if(o.flags|=128,g=!0,i=i.updateQueue,o.updateQueue=i,If(o,i),nu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!N.alternate&&!ft)return $t(o),null}else 2*Xt()-p.renderingStartTime>Bf&&d!==536870912&&(o.flags|=128,g=!0,nu(p,!1),o.lanes=4194304);p.isBackwards?(N.sibling=o.child,o.child=N):(i=p.last,i!==null?i.sibling=N:o.child=N,p.last=N)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=Xt(),i.sibling=null,d=ur.current,pe(ur,g?d&1|2:d&1),ft&&ii(o,p.treeForkCount),i):($t(o),null);case 22:case 23:return jn(o),vx(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(d&536870912)!==0&&(o.flags&128)===0&&($t(o),o.subtreeFlags&6&&(o.flags|=8192)):$t(o),d=o.updateQueue,d!==null&&If(o,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==d&&(o.flags|=2048),i!==null&&ie(tl),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),li(hr),$t(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function kR(i,o){switch(tx(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return li(hr),re(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return He(o),null;case 31:if(o.memoizedState!==null){if(jn(o),o.alternate===null)throw Error(n(340));Zs()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(jn(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Zs()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ie(ur),null;case 4:return re(),null;case 10:return li(o.type),null;case 22:case 23:return jn(o),vx(),i!==null&&ie(tl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return li(hr),null;case 25:return null;default:return null}}function kS(i,o){switch(tx(o),o.tag){case 3:li(hr),re();break;case 26:case 27:case 5:He(o);break;case 4:re();break;case 31:o.memoizedState!==null&&jn(o);break;case 13:jn(o);break;case 19:ie(ur);break;case 10:li(o.type);break;case 22:case 23:jn(o),vx(),i!==null&&ie(tl);break;case 24:li(hr)}}function au(i,o){try{var d=o.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var g=p.next;d=g;do{if((d.tag&i)===i){p=void 0;var N=d.create,D=d.inst;p=N(),D.destroy=p}d=d.next}while(d!==g)}}catch(I){At(o,o.return,I)}}function ls(i,o,d){try{var p=o.updateQueue,g=p!==null?p.lastEffect:null;if(g!==null){var N=g.next;p=N;do{if((p.tag&i)===i){var D=p.inst,I=D.destroy;if(I!==void 0){D.destroy=void 0,g=o;var H=d,te=I;try{te()}catch(de){At(g,H,de)}}}p=p.next}while(p!==N)}}catch(de){At(o,o.return,de)}}function ES(i){var o=i.updateQueue;if(o!==null){var d=i.stateNode;try{yN(o,d)}catch(p){At(i,i.return,p)}}}function _S(i,o,d){d.props=sl(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(p){At(i,o,p)}}function iu(i,o){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof d=="function"?i.refCleanup=d(p):d.current=p}}catch(g){At(i,o,g)}}function Ma(i,o){var d=i.ref,p=i.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(g){At(i,o,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(g){At(i,o,g)}else d.current=null}function OS(i){var o=i.type,d=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(g){At(i,i.return,g)}}function Kx(i,o,d){try{var p=i.stateNode;XR(p,i.type,d,o),p[Br]=o}catch(g){At(i,i.return,g)}}function TS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ps(i.type)||i.tag===4}function Wx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||TS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ps(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Qx(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(i),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=ri));else if(p!==4&&(p===27&&ps(i.type)&&(d=i.stateNode,o=null),i=i.child,i!==null))for(Qx(i,o,d),i=i.sibling;i!==null;)Qx(i,o,d),i=i.sibling}function Rf(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?d.insertBefore(i,o):d.appendChild(i);else if(p!==4&&(p===27&&ps(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(Rf(i,o,d),i=i.sibling;i!==null;)Rf(i,o,d),i=i.sibling}function PS(i){var o=i.stateNode,d=i.memoizedProps;try{for(var p=i.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);Ir(o,p,d),o[wr]=i,o[Br]=d}catch(N){At(i,i.return,N)}}var fi=!1,gr=!1,Xx=!1,IS=typeof WeakSet=="function"?WeakSet:Set,Mr=null;function ER(i,o){if(i=i.containerInfo,g0=nm,i=Gj(i),Uv(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var g=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var D=0,I=-1,H=-1,te=0,de=0,me=i,ae=null;t:for(;;){for(var le;me!==d||g!==0&&me.nodeType!==3||(I=D+g),me!==N||p!==0&&me.nodeType!==3||(H=D+p),me.nodeType===3&&(D+=me.nodeValue.length),(le=me.firstChild)!==null;)ae=me,me=le;for(;;){if(me===i)break t;if(ae===d&&++te===g&&(I=D),ae===N&&++de===p&&(H=D),(le=me.nextSibling)!==null)break;me=ae,ae=me.parentNode}me=le}d=I===-1||H===-1?null:{start:I,end:H}}else d=null}d=d||{start:0,end:0}}else d=null;for(b0={focusedElem:i,selectionRange:d},nm=!1,Mr=o;Mr!==null;)if(o=Mr,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Mr=i;else for(;Mr!==null;){switch(o=Mr,N=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(d=0;d<i.length;d++)g=i[d],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&N!==null){i=void 0,d=o,g=N.memoizedProps,N=N.memoizedState,p=d.stateNode;try{var _e=sl(d.type,g);i=p.getSnapshotBeforeUpdate(_e,N),p.__reactInternalSnapshotBeforeUpdate=i}catch(qe){At(d,d.return,qe)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,d=i.nodeType,d===9)j0(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":j0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,Mr=i;break}Mr=o.return}}function RS(i,o,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:pi(i,d),p&4&&au(5,d);break;case 1:if(pi(i,d),p&4)if(i=d.stateNode,o===null)try{i.componentDidMount()}catch(D){At(d,d.return,D)}else{var g=sl(d.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(g,o,i.__reactInternalSnapshotBeforeUpdate)}catch(D){At(d,d.return,D)}}p&64&&ES(d),p&512&&iu(d,d.return);break;case 3:if(pi(i,d),p&64&&(i=d.updateQueue,i!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{yN(i,o)}catch(D){At(d,d.return,D)}}break;case 27:o===null&&p&4&&PS(d);case 26:case 5:pi(i,d),o===null&&p&4&&OS(d),p&512&&iu(d,d.return);break;case 12:pi(i,d);break;case 31:pi(i,d),p&4&&FS(i,d);break;case 13:pi(i,d),p&4&&BS(i,d),p&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=FR.bind(null,d),iL(i,d))));break;case 22:if(p=d.memoizedState!==null||fi,!p){o=o!==null&&o.memoizedState!==null||gr,g=fi;var N=gr;fi=p,(gr=o)&&!N?hi(i,d,(d.subtreeFlags&8772)!==0):pi(i,d),fi=g,gr=N}break;case 30:break;default:pi(i,d)}}function LS(i){var o=i.alternate;o!==null&&(i.alternate=null,LS(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Oc(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ut=null,rn=!1;function mi(i,o,d){for(d=d.child;d!==null;)zS(i,o,d),d=d.sibling}function zS(i,o,d){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(Be,d)}catch{}switch(d.tag){case 26:gr||Ma(d,o),mi(i,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:gr||Ma(d,o);var p=Ut,g=rn;ps(d.type)&&(Ut=d.stateNode,rn=!1),mi(i,o,d),pu(d.stateNode),Ut=p,rn=g;break;case 5:gr||Ma(d,o);case 6:if(p=Ut,g=rn,Ut=null,mi(i,o,d),Ut=p,rn=g,Ut!==null)if(rn)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(d.stateNode)}catch(N){At(d,o,N)}else try{Ut.removeChild(d.stateNode)}catch(N){At(d,o,N)}break;case 18:Ut!==null&&(rn?(i=Ut,E2(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),Do(i)):E2(Ut,d.stateNode));break;case 4:p=Ut,g=rn,Ut=d.stateNode.containerInfo,rn=!0,mi(i,o,d),Ut=p,rn=g;break;case 0:case 11:case 14:case 15:ls(2,d,o),gr||ls(4,d,o),mi(i,o,d);break;case 1:gr||(Ma(d,o),p=d.stateNode,typeof p.componentWillUnmount=="function"&&_S(d,o,p)),mi(i,o,d);break;case 21:mi(i,o,d);break;case 22:gr=(p=gr)||d.memoizedState!==null,mi(i,o,d),gr=p;break;default:mi(i,o,d)}}function FS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Do(i)}catch(d){At(o,o.return,d)}}}function BS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Do(i)}catch(d){At(o,o.return,d)}}function _R(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new IS),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new IS),o;default:throw Error(n(435,i.tag))}}function Lf(i,o){var d=_R(i);o.forEach(function(p){if(!d.has(p)){d.add(p);var g=BR.bind(null,i,p);p.then(g,g)}})}function nn(i,o){var d=o.deletions;if(d!==null)for(var p=0;p<d.length;p++){var g=d[p],N=i,D=o,I=D;e:for(;I!==null;){switch(I.tag){case 27:if(ps(I.type)){Ut=I.stateNode,rn=!1;break e}break;case 5:Ut=I.stateNode,rn=!1;break e;case 3:case 4:Ut=I.stateNode.containerInfo,rn=!0;break e}I=I.return}if(Ut===null)throw Error(n(160));zS(N,D,g),Ut=null,rn=!1,N=g.alternate,N!==null&&(N.return=null),g.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)$S(o,i),o=o.sibling}var aa=null;function $S(i,o){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:nn(o,i),an(i),p&4&&(ls(3,i,i.return),au(3,i),ls(5,i,i.return));break;case 1:nn(o,i),an(i),p&512&&(gr||d===null||Ma(d,d.return)),p&64&&fi&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var g=aa;if(nn(o,i),an(i),p&512&&(gr||d===null||Ma(d,d.return)),p&4){var N=d!==null?d.memoizedState:null;if(p=i.memoizedState,d===null)if(p===null)if(i.stateNode===null){e:{p=i.type,d=i.memoizedProps,g=g.ownerDocument||g;t:switch(p){case"title":N=g.getElementsByTagName("title")[0],(!N||N[Vs]||N[wr]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=g.createElement(p),g.head.insertBefore(N,g.querySelector("head > title"))),Ir(N,p,d),N[wr]=i,mt(N),p=N;break e;case"link":var D=$2("link","href",g).get(p+(d.href||""));if(D){for(var I=0;I<D.length;I++)if(N=D[I],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){D.splice(I,1);break t}}N=g.createElement(p),Ir(N,p,d),g.head.appendChild(N);break;case"meta":if(D=$2("meta","content",g).get(p+(d.content||""))){for(I=0;I<D.length;I++)if(N=D[I],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){D.splice(I,1);break t}}N=g.createElement(p),Ir(N,p,d),g.head.appendChild(N);break;default:throw Error(n(468,p))}N[wr]=i,mt(N),p=N}i.stateNode=p}else q2(g,i.type,i.stateNode);else i.stateNode=B2(g,p,i.memoizedProps);else N!==p?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,p===null?q2(g,i.type,i.stateNode):B2(g,p,i.memoizedProps)):p===null&&i.stateNode!==null&&Kx(i,i.memoizedProps,d.memoizedProps)}break;case 27:nn(o,i),an(i),p&512&&(gr||d===null||Ma(d,d.return)),d!==null&&p&4&&Kx(i,i.memoizedProps,d.memoizedProps);break;case 5:if(nn(o,i),an(i),p&512&&(gr||d===null||Ma(d,d.return)),i.flags&32){g=i.stateNode;try{Ql(g,"")}catch(_e){At(i,i.return,_e)}}p&4&&i.stateNode!=null&&(g=i.memoizedProps,Kx(i,g,d!==null?d.memoizedProps:g)),p&1024&&(Xx=!0);break;case 6:if(nn(o,i),an(i),p&4){if(i.stateNode===null)throw Error(n(162));p=i.memoizedProps,d=i.stateNode;try{d.nodeValue=p}catch(_e){At(i,i.return,_e)}}break;case 3:if(Jf=null,g=aa,aa=Xf(o.containerInfo),nn(o,i),aa=g,an(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Do(o.containerInfo)}catch(_e){At(i,i.return,_e)}Xx&&(Xx=!1,qS(i));break;case 4:p=aa,aa=Xf(i.stateNode.containerInfo),nn(o,i),an(i),aa=p;break;case 12:nn(o,i),an(i);break;case 31:nn(o,i),an(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Lf(i,p)));break;case 13:nn(o,i),an(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Ff=Xt()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Lf(i,p)));break;case 22:g=i.memoizedState!==null;var H=d!==null&&d.memoizedState!==null,te=fi,de=gr;if(fi=te||g,gr=de||H,nn(o,i),gr=de,fi=te,an(i),p&8192)e:for(o=i.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(d===null||H||fi||gr||ll(i)),d=null,o=i;;){if(o.tag===5||o.tag===26){if(d===null){H=d=o;try{if(N=H.stateNode,g)D=N.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{I=H.stateNode;var me=H.memoizedProps.style,ae=me!=null&&me.hasOwnProperty("display")?me.display:null;I.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(_e){At(H,H.return,_e)}}}else if(o.tag===6){if(d===null){H=o;try{H.stateNode.nodeValue=g?"":H.memoizedProps}catch(_e){At(H,H.return,_e)}}}else if(o.tag===18){if(d===null){H=o;try{var le=H.stateNode;g?_2(le,!0):_2(H.stateNode,!1)}catch(_e){At(H,H.return,_e)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Lf(i,d))));break;case 19:nn(o,i),an(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Lf(i,p)));break;case 30:break;case 21:break;default:nn(o,i),an(i)}}function an(i){var o=i.flags;if(o&2){try{for(var d,p=i.return;p!==null;){if(TS(p)){d=p;break}p=p.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var g=d.stateNode,N=Wx(i);Rf(i,N,g);break;case 5:var D=d.stateNode;d.flags&32&&(Ql(D,""),d.flags&=-33);var I=Wx(i);Rf(i,I,D);break;case 3:case 4:var H=d.stateNode.containerInfo,te=Wx(i);Qx(i,te,H);break;default:throw Error(n(161))}}catch(de){At(i,i.return,de)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function qS(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;qS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function pi(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)RS(i,o.alternate,o),o=o.sibling}function ll(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:ls(4,o,o.return),ll(o);break;case 1:Ma(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&_S(o,o.return,d),ll(o);break;case 27:pu(o.stateNode);case 26:case 5:Ma(o,o.return),ll(o);break;case 22:o.memoizedState===null&&ll(o);break;case 30:ll(o);break;default:ll(o)}i=i.sibling}}function hi(i,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,g=i,N=o,D=N.flags;switch(N.tag){case 0:case 11:case 15:hi(g,N,d),au(4,N);break;case 1:if(hi(g,N,d),p=N,g=p.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(te){At(p,p.return,te)}if(p=N,g=p.updateQueue,g!==null){var I=p.stateNode;try{var H=g.shared.hiddenCallbacks;if(H!==null)for(g.shared.hiddenCallbacks=null,g=0;g<H.length;g++)bN(H[g],I)}catch(te){At(p,p.return,te)}}d&&D&64&&ES(N),iu(N,N.return);break;case 27:PS(N);case 26:case 5:hi(g,N,d),d&&p===null&&D&4&&OS(N),iu(N,N.return);break;case 12:hi(g,N,d);break;case 31:hi(g,N,d),d&&D&4&&FS(g,N);break;case 13:hi(g,N,d),d&&D&4&&BS(g,N);break;case 22:N.memoizedState===null&&hi(g,N,d),iu(N,N.return);break;case 30:break;default:hi(g,N,d)}o=o.sibling}}function Zx(i,o){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&Yc(d))}function Jx(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Yc(i))}function ia(i,o,d,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)HS(i,o,d,p),o=o.sibling}function HS(i,o,d,p){var g=o.flags;switch(o.tag){case 0:case 11:case 15:ia(i,o,d,p),g&2048&&au(9,o);break;case 1:ia(i,o,d,p);break;case 3:ia(i,o,d,p),g&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Yc(i)));break;case 12:if(g&2048){ia(i,o,d,p),i=o.stateNode;try{var N=o.memoizedProps,D=N.id,I=N.onPostCommit;typeof I=="function"&&I(D,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){At(o,o.return,H)}}else ia(i,o,d,p);break;case 31:ia(i,o,d,p);break;case 13:ia(i,o,d,p);break;case 23:break;case 22:N=o.stateNode,D=o.alternate,o.memoizedState!==null?N._visibility&2?ia(i,o,d,p):su(i,o):N._visibility&2?ia(i,o,d,p):(N._visibility|=2,xo(i,o,d,p,(o.subtreeFlags&10256)!==0||!1)),g&2048&&Zx(D,o);break;case 24:ia(i,o,d,p),g&2048&&Jx(o.alternate,o);break;default:ia(i,o,d,p)}}function xo(i,o,d,p,g){for(g=g&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var N=i,D=o,I=d,H=p,te=D.flags;switch(D.tag){case 0:case 11:case 15:xo(N,D,I,H,g),au(8,D);break;case 23:break;case 22:var de=D.stateNode;D.memoizedState!==null?de._visibility&2?xo(N,D,I,H,g):su(N,D):(de._visibility|=2,xo(N,D,I,H,g)),g&&te&2048&&Zx(D.alternate,D);break;case 24:xo(N,D,I,H,g),g&&te&2048&&Jx(D.alternate,D);break;default:xo(N,D,I,H,g)}o=o.sibling}}function su(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=i,p=o,g=p.flags;switch(p.tag){case 22:su(d,p),g&2048&&Zx(p.alternate,p);break;case 24:su(d,p),g&2048&&Jx(p.alternate,p);break;default:su(d,p)}o=o.sibling}}var lu=8192;function go(i,o,d){if(i.subtreeFlags&lu)for(i=i.child;i!==null;)US(i,o,d),i=i.sibling}function US(i,o,d){switch(i.tag){case 26:go(i,o,d),i.flags&lu&&i.memoizedState!==null&&xL(d,aa,i.memoizedState,i.memoizedProps);break;case 5:go(i,o,d);break;case 3:case 4:var p=aa;aa=Xf(i.stateNode.containerInfo),go(i,o,d),aa=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=lu,lu=16777216,go(i,o,d),lu=p):go(i,o,d));break;default:go(i,o,d)}}function YS(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function ou(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];Mr=p,GS(p,i)}YS(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)VS(i),i=i.sibling}function VS(i){switch(i.tag){case 0:case 11:case 15:ou(i),i.flags&2048&&ls(9,i,i.return);break;case 3:ou(i);break;case 12:ou(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,zf(i)):ou(i);break;default:ou(i)}}function zf(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];Mr=p,GS(p,i)}YS(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:ls(8,o,o.return),zf(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,zf(o));break;default:zf(o)}i=i.sibling}}function GS(i,o){for(;Mr!==null;){var d=Mr;switch(d.tag){case 0:case 11:case 15:ls(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Yc(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Mr=p;else e:for(d=i;Mr!==null;){p=Mr;var g=p.sibling,N=p.return;if(LS(p),p===d){Mr=null;break e}if(g!==null){g.return=N,Mr=g;break e}Mr=N}}}var OR={getCacheForType:function(i){var o=Tr(hr),d=o.data.get(i);return d===void 0&&(d=i(),o.data.set(i,d)),d},cacheSignal:function(){return Tr(hr).controller.signal}},TR=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Rt=null,it=null,ot=0,Ct=0,Nn=null,os=!1,bo=!1,e0=!1,vi=0,nr=0,cs=0,ol=0,t0=0,Sn=0,yo=0,cu=null,sn=null,r0=!1,Ff=0,KS=0,Bf=1/0,$f=null,us=null,jr=0,ds=null,wo=null,xi=0,n0=0,a0=null,WS=null,uu=0,i0=null;function Cn(){return(Nt&2)!==0&&ot!==0?ot&-ot:B.T!==null?d0():Kd()}function QS(){if(Sn===0)if((ot&536870912)===0||ft){var i=ke;ke<<=1,(ke&3932160)===0&&(ke=262144),Sn=i}else Sn=536870912;return i=wn.current,i!==null&&(i.flags|=32),Sn}function ln(i,o,d){(i===Rt&&(Ct===2||Ct===9)||i.cancelPendingCommit!==null)&&(jo(i,0),fs(i,ot,Sn,!1)),Ys(i,d),((Nt&2)===0||i!==Rt)&&(i===Rt&&((Nt&2)===0&&(ol|=d),nr===4&&fs(i,ot,Sn,!1)),Da(i))}function XS(i,o,d){if((Nt&6)!==0)throw Error(n(327));var p=!d&&(o&127)===0&&(o&i.expiredLanes)===0||xn(i,o),g=p?RR(i,o):l0(i,o,!0),N=p;do{if(g===0){bo&&!p&&fs(i,o,0,!1);break}else{if(d=i.current.alternate,N&&!PR(d)){g=l0(i,o,!1),N=!1;continue}if(g===2){if(N=o,i.errorRecoveryDisabledLanes&N)var D=0;else D=i.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){o=D;e:{var I=i;g=cu;var H=I.current.memoizedState.isDehydrated;if(H&&(jo(I,D).flags|=256),D=l0(I,D,!1),D!==2){if(e0&&!H){I.errorRecoveryDisabledLanes|=N,ol|=N,g=4;break e}N=sn,sn=g,N!==null&&(sn===null?sn=N:sn.push.apply(sn,N))}g=D}if(N=!1,g!==2)continue}}if(g===1){jo(i,0),fs(i,o,0,!0);break}e:{switch(p=i,N=g,N){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:fs(p,o,Sn,!os);break e;case 2:sn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(g=Ff+300-Xt(),10<g)){if(fs(p,o,Sn,!os),cr(p,0,!0)!==0)break e;xi=o,p.timeoutHandle=D2(ZS.bind(null,p,d,sn,$f,r0,o,Sn,ol,yo,os,N,"Throttled",-0,0),g);break e}ZS(p,d,sn,$f,r0,o,Sn,ol,yo,os,N,null,-0,0)}}break}while(!0);Da(i)}function ZS(i,o,d,p,g,N,D,I,H,te,de,me,ae,le){if(i.timeoutHandle=-1,me=o.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},US(o,N,me);var _e=(N&62914560)===N?Ff-Xt():(N&4194048)===N?KS-Xt():0;if(_e=gL(me,_e),_e!==null){xi=N,i.cancelPendingCommit=_e(s2.bind(null,i,o,N,d,p,g,D,I,H,de,me,null,ae,le)),fs(i,N,D,!te);return}}s2(i,o,N,d,p,g,D,I,H)}function PR(i){for(var o=i;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var g=d[p],N=g.getSnapshot;g=g.value;try{if(!bn(N(),g))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function fs(i,o,d,p){o&=~t0,o&=~ol,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var g=o;0<g;){var N=31-Ze(g),D=1<<N;p[N]=-1,g&=~D}d!==0&&Yd(i,d,o)}function qf(){return(Nt&6)===0?(du(0),!1):!0}function s0(){if(it!==null){if(Ct===0)var i=it.return;else i=it,si=Js=null,jx(i),fo=null,Gc=0,i=it;for(;i!==null;)kS(i.alternate,i),i=i.return;it=null}}function jo(i,o){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,eL(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),xi=0,s0(),Rt=i,it=d=ai(i.current,null),ot=o,Ct=0,Nn=null,os=!1,bo=xn(i,o),e0=!1,yo=Sn=t0=ol=cs=nr=0,sn=cu=null,r0=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var g=31-Ze(p),N=1<<g;o|=i[g],p&=~N}return vi=o,cf(),d}function JS(i,o){Qe=null,B.H=tu,o===uo||o===xf?(o=hN(),Ct=3):o===ux?(o=hN(),Ct=4):Ct=o===zx?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Nn=o,it===null&&(nr=1,_f(i,Bn(o,i.current)))}function e2(){var i=wn.current;return i===null?!0:(ot&4194048)===ot?Un===null:(ot&62914560)===ot||(ot&536870912)!==0?i===Un:!1}function t2(){var i=B.H;return B.H=tu,i===null?tu:i}function r2(){var i=B.A;return B.A=OR,i}function Hf(){nr=4,os||(ot&4194048)!==ot&&wn.current!==null||(bo=!0),(cs&134217727)===0&&(ol&134217727)===0||Rt===null||fs(Rt,ot,Sn,!1)}function l0(i,o,d){var p=Nt;Nt|=2;var g=t2(),N=r2();(Rt!==i||ot!==o)&&($f=null,jo(i,o)),o=!1;var D=nr;e:do try{if(Ct!==0&&it!==null){var I=it,H=Nn;switch(Ct){case 8:s0(),D=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(o=!0);var te=Ct;if(Ct=0,Nn=null,No(i,I,H,te),d&&bo){D=0;break e}break;default:te=Ct,Ct=0,Nn=null,No(i,I,H,te)}}IR(),D=nr;break}catch(de){JS(i,de)}while(!0);return o&&i.shellSuspendCounter++,si=Js=null,Nt=p,B.H=g,B.A=N,it===null&&(Rt=null,ot=0,cf()),D}function IR(){for(;it!==null;)n2(it)}function RR(i,o){var d=Nt;Nt|=2;var p=t2(),g=r2();Rt!==i||ot!==o?($f=null,Bf=Xt()+500,jo(i,o)):bo=xn(i,o);e:do try{if(Ct!==0&&it!==null){o=it;var N=Nn;t:switch(Ct){case 1:Ct=0,Nn=null,No(i,o,N,1);break;case 2:case 9:if(mN(N)){Ct=0,Nn=null,a2(o);break}o=function(){Ct!==2&&Ct!==9||Rt!==i||(Ct=7),Da(i)},N.then(o,o);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:mN(N)?(Ct=0,Nn=null,a2(o)):(Ct=0,Nn=null,No(i,o,N,7));break;case 5:var D=null;switch(it.tag){case 26:D=it.memoizedState;case 5:case 27:var I=it;if(D?H2(D):I.stateNode.complete){Ct=0,Nn=null;var H=I.sibling;if(H!==null)it=H;else{var te=I.return;te!==null?(it=te,Uf(te)):it=null}break t}}Ct=0,Nn=null,No(i,o,N,5);break;case 6:Ct=0,Nn=null,No(i,o,N,6);break;case 8:s0(),nr=6;break e;default:throw Error(n(462))}}LR();break}catch(de){JS(i,de)}while(!0);return si=Js=null,B.H=p,B.A=g,Nt=d,it!==null?0:(Rt=null,ot=0,cf(),nr)}function LR(){for(;it!==null&&!xt();)n2(it)}function n2(i){var o=MS(i.alternate,i,vi);i.memoizedProps=i.pendingProps,o===null?Uf(i):it=o}function a2(i){var o=i,d=o.alternate;switch(o.tag){case 15:case 0:o=wS(d,o,o.pendingProps,o.type,void 0,ot);break;case 11:o=wS(d,o,o.pendingProps,o.type.render,o.ref,ot);break;case 5:jx(o);default:kS(d,o),o=it=rN(o,vi),o=MS(d,o,vi)}i.memoizedProps=i.pendingProps,o===null?Uf(i):it=o}function No(i,o,d,p){si=Js=null,jx(o),fo=null,Gc=0;var g=o.return;try{if(CR(i,g,o,d,ot)){nr=1,_f(i,Bn(d,i.current)),it=null;return}}catch(N){if(g!==null)throw it=g,N;nr=1,_f(i,Bn(d,i.current)),it=null;return}o.flags&32768?(ft||p===1?i=!0:bo||(ot&536870912)!==0?i=!1:(os=i=!0,(p===2||p===9||p===3||p===6)&&(p=wn.current,p!==null&&p.tag===13&&(p.flags|=16384))),i2(o,i)):Uf(o)}function Uf(i){var o=i;do{if((o.flags&32768)!==0){i2(o,os);return}i=o.return;var d=DR(o.alternate,o,vi);if(d!==null){it=d;return}if(o=o.sibling,o!==null){it=o;return}it=o=i}while(o!==null);nr===0&&(nr=5)}function i2(i,o){do{var d=kR(i.alternate,i);if(d!==null){d.flags&=32767,it=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(i=i.sibling,i!==null)){it=i;return}it=i=d}while(i!==null);nr=6,it=null}function s2(i,o,d,p,g,N,D,I,H){i.cancelPendingCommit=null;do Yf();while(jr!==0);if((Nt&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(N=o.lanes|o.childLanes,N|=Wv,Cv(i,d,N,D,I,H),i===Rt&&(it=Rt=null,ot=0),wo=o,ds=i,xi=d,n0=N,a0=g,WS=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,$R(Q,function(){return d2(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=B.T,B.T=null,g=G.p,G.p=2,D=Nt,Nt|=4;try{ER(i,o,d)}finally{Nt=D,G.p=g,B.T=p}}jr=1,l2(),o2(),c2()}}function l2(){if(jr===1){jr=0;var i=ds,o=wo,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=B.T,B.T=null;var p=G.p;G.p=2;var g=Nt;Nt|=4;try{$S(o,i);var N=b0,D=Gj(i.containerInfo),I=N.focusedElem,H=N.selectionRange;if(D!==I&&I&&I.ownerDocument&&Vj(I.ownerDocument.documentElement,I)){if(H!==null&&Uv(I)){var te=H.start,de=H.end;if(de===void 0&&(de=te),"selectionStart"in I)I.selectionStart=te,I.selectionEnd=Math.min(de,I.value.length);else{var me=I.ownerDocument||document,ae=me&&me.defaultView||window;if(ae.getSelection){var le=ae.getSelection(),_e=I.textContent.length,qe=Math.min(H.start,_e),Tt=H.end===void 0?qe:Math.min(H.end,_e);!le.extend&&qe>Tt&&(D=Tt,Tt=qe,qe=D);var K=Yj(I,qe),Y=Yj(I,Tt);if(K&&Y&&(le.rangeCount!==1||le.anchorNode!==K.node||le.anchorOffset!==K.offset||le.focusNode!==Y.node||le.focusOffset!==Y.offset)){var ee=me.createRange();ee.setStart(K.node,K.offset),le.removeAllRanges(),qe>Tt?(le.addRange(ee),le.extend(Y.node,Y.offset)):(ee.setEnd(Y.node,Y.offset),le.addRange(ee))}}}}for(me=[],le=I;le=le.parentNode;)le.nodeType===1&&me.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<me.length;I++){var fe=me[I];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}nm=!!g0,b0=g0=null}finally{Nt=g,G.p=p,B.T=d}}i.current=o,jr=2}}function o2(){if(jr===2){jr=0;var i=ds,o=wo,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=B.T,B.T=null;var p=G.p;G.p=2;var g=Nt;Nt|=4;try{RS(i,o.alternate,o)}finally{Nt=g,G.p=p,B.T=d}}jr=3}}function c2(){if(jr===4||jr===3){jr=0,Qt();var i=ds,o=wo,d=xi,p=WS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?jr=5:(jr=0,wo=ds=null,u2(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(us=null),Ec(d),o=o.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(Be,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=B.T,g=G.p,G.p=2,B.T=null;try{for(var N=i.onRecoverableError,D=0;D<p.length;D++){var I=p[D];N(I.value,{componentStack:I.stack})}}finally{B.T=o,G.p=g}}(xi&3)!==0&&Yf(),Da(i),g=i.pendingLanes,(d&261930)!==0&&(g&42)!==0?i===i0?uu++:(uu=0,i0=i):uu=0,du(0)}}function u2(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Yc(o)))}function Yf(){return l2(),o2(),c2(),d2()}function d2(){if(jr!==5)return!1;var i=ds,o=n0;n0=0;var d=Ec(xi),p=B.T,g=G.p;try{G.p=32>d?32:d,B.T=null,d=a0,a0=null;var N=ds,D=xi;if(jr=0,wo=ds=null,xi=0,(Nt&6)!==0)throw Error(n(331));var I=Nt;if(Nt|=4,VS(N.current),HS(N,N.current,D,d),Nt=I,du(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(Be,N)}catch{}return!0}finally{G.p=g,B.T=p,u2(i,o)}}function f2(i,o,d){o=Bn(d,o),o=Lx(i.stateNode,o,2),i=as(i,o,2),i!==null&&(Ys(i,2),Da(i))}function At(i,o,d){if(i.tag===3)f2(i,i,d);else for(;o!==null;){if(o.tag===3){f2(o,i,d);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(us===null||!us.has(p))){i=Bn(d,i),d=mS(2),p=as(o,d,2),p!==null&&(pS(d,p,o,i),Ys(p,2),Da(p));break}}o=o.return}}function o0(i,o,d){var p=i.pingCache;if(p===null){p=i.pingCache=new TR;var g=new Set;p.set(o,g)}else g=p.get(o),g===void 0&&(g=new Set,p.set(o,g));g.has(d)||(e0=!0,g.add(d),i=zR.bind(null,i,o,d),o.then(i,i))}function zR(i,o,d){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,Rt===i&&(ot&d)===d&&(nr===4||nr===3&&(ot&62914560)===ot&&300>Xt()-Ff?(Nt&2)===0&&jo(i,0):t0|=d,yo===ot&&(yo=0)),Da(i)}function m2(i,o){o===0&&(o=Ud()),i=Qs(i,o),i!==null&&(Ys(i,o),Da(i))}function FR(i){var o=i.memoizedState,d=0;o!==null&&(d=o.retryLane),m2(i,d)}function BR(i,o){var d=0;switch(i.tag){case 31:case 13:var p=i.stateNode,g=i.memoizedState;g!==null&&(d=g.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(o),m2(i,d)}function $R(i,o){return zt(i,o)}var Vf=null,So=null,c0=!1,Gf=!1,u0=!1,ms=0;function Da(i){i!==So&&i.next===null&&(So===null?Vf=So=i:So=So.next=i),Gf=!0,c0||(c0=!0,HR())}function du(i,o){if(!u0&&Gf){u0=!0;do for(var d=!1,p=Vf;p!==null;){if(i!==0){var g=p.pendingLanes;if(g===0)var N=0;else{var D=p.suspendedLanes,I=p.pingedLanes;N=(1<<31-Ze(42|i)+1)-1,N&=g&~(D&~I),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,x2(p,N))}else N=ot,N=cr(p,p===Rt?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||xn(p,N)||(d=!0,x2(p,N));p=p.next}while(d);u0=!1}}function qR(){p2()}function p2(){Gf=c0=!1;var i=0;ms!==0&&JR()&&(i=ms);for(var o=Xt(),d=null,p=Vf;p!==null;){var g=p.next,N=h2(p,o);N===0?(p.next=null,d===null?Vf=g:d.next=g,g===null&&(So=d)):(d=p,(i!==0||(N&3)!==0)&&(Gf=!0)),p=g}jr!==0&&jr!==5||du(i),ms!==0&&(ms=0)}function h2(i,o){for(var d=i.suspendedLanes,p=i.pingedLanes,g=i.expirationTimes,N=i.pendingLanes&-62914561;0<N;){var D=31-Ze(N),I=1<<D,H=g[D];H===-1?((I&d)===0||(I&p)!==0)&&(g[D]=Sv(I,o)):H<=o&&(i.expiredLanes|=I),N&=~I}if(o=Rt,d=ot,d=cr(i,i===o?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,d===0||i===o&&(Ct===2||Ct===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&at(p),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||xn(i,d)){if(o=d&-d,o===i.callbackPriority)return o;switch(p!==null&&at(p),Ec(d)){case 2:case 8:d=q;break;case 32:d=Q;break;case 268435456:d=Ie;break;default:d=Q}return p=v2.bind(null,i),d=zt(d,p),i.callbackPriority=o,i.callbackNode=d,o}return p!==null&&p!==null&&at(p),i.callbackPriority=2,i.callbackNode=null,2}function v2(i,o){if(jr!==0&&jr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(Yf()&&i.callbackNode!==d)return null;var p=ot;return p=cr(i,i===Rt?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(XS(i,p,o),h2(i,Xt()),i.callbackNode!=null&&i.callbackNode===d?v2.bind(null,i):null)}function x2(i,o){if(Yf())return null;XS(i,o,!0)}function HR(){tL(function(){(Nt&6)!==0?zt(V,qR):p2()})}function d0(){if(ms===0){var i=oo;i===0&&(i=Ke,Ke<<=1,(Ke&261888)===0&&(Ke=256)),ms=i}return ms}function g2(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ef(""+i)}function b2(i,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,i.id&&d.setAttribute("form",i.id),o.parentNode.insertBefore(d,o),i=new FormData(i),d.parentNode.removeChild(d),i}function UR(i,o,d,p,g){if(o==="submit"&&d&&d.stateNode===g){var N=g2((g[Br]||null).action),D=p.submitter;D&&(o=(o=D[Br]||null)?g2(o.formAction):D.getAttribute("formAction"),o!==null&&(N=o,D=null));var I=new af("action","action",null,p,g);i.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ms!==0){var H=D?b2(g,D):new FormData(g);_x(d,{pending:!0,data:H,method:g.method,action:N},null,H)}}else typeof N=="function"&&(I.preventDefault(),H=D?b2(g,D):new FormData(g),_x(d,{pending:!0,data:H,method:g.method,action:N},N,H))},currentTarget:g}]})}}for(var f0=0;f0<Kv.length;f0++){var m0=Kv[f0],YR=m0.toLowerCase(),VR=m0[0].toUpperCase()+m0.slice(1);na(YR,"on"+VR)}na(Qj,"onAnimationEnd"),na(Xj,"onAnimationIteration"),na(Zj,"onAnimationStart"),na("dblclick","onDoubleClick"),na("focusin","onFocus"),na("focusout","onBlur"),na(oR,"onTransitionRun"),na(cR,"onTransitionStart"),na(uR,"onTransitionCancel"),na(Jj,"onTransitionEnd"),en("onMouseEnter",["mouseout","mouseover"]),en("onMouseLeave",["mouseout","mouseover"]),en("onPointerEnter",["pointerout","pointerover"]),en("onPointerLeave",["pointerout","pointerover"]),Vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fu));function y2(i,o){o=(o&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],g=p.event;p=p.listeners;e:{var N=void 0;if(o)for(var D=p.length-1;0<=D;D--){var I=p[D],H=I.instance,te=I.currentTarget;if(I=I.listener,H!==N&&g.isPropagationStopped())break e;N=I,g.currentTarget=te;try{N(g)}catch(de){of(de)}g.currentTarget=null,N=H}else for(D=0;D<p.length;D++){if(I=p[D],H=I.instance,te=I.currentTarget,I=I.listener,H!==N&&g.isPropagationStopped())break e;N=I,g.currentTarget=te;try{N(g)}catch(de){of(de)}g.currentTarget=null,N=H}}}}function st(i,o){var d=o[_c];d===void 0&&(d=o[_c]=new Set);var p=i+"__bubble";d.has(p)||(w2(o,i,2,!1),d.add(p))}function p0(i,o,d){var p=0;o&&(p|=4),w2(d,i,p,o)}var Kf="_reactListening"+Math.random().toString(36).slice(2);function h0(i){if(!i[Kf]){i[Kf]=!0,Jr.forEach(function(d){d!=="selectionchange"&&(GR.has(d)||p0(d,!1,i),p0(d,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Kf]||(o[Kf]=!0,p0("selectionchange",!1,o))}}function w2(i,o,d,p){switch(Q2(o)){case 2:var g=wL;break;case 8:g=jL;break;default:g=E0}d=g.bind(null,o,d,i),g=void 0,!Iv||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),p?g!==void 0?i.addEventListener(o,d,{capture:!0,passive:g}):i.addEventListener(o,d,!0):g!==void 0?i.addEventListener(o,d,{passive:g}):i.addEventListener(o,d,!1)}function v0(i,o,d,p,g){var N=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var D=p.tag;if(D===3||D===4){var I=p.stateNode.containerInfo;if(I===g)break;if(D===4)for(D=p.return;D!==null;){var H=D.tag;if((H===3||H===4)&&D.stateNode.containerInfo===g)return;D=D.return}for(;I!==null;){if(D=Wi(I),D===null)return;if(H=D.tag,H===5||H===6||H===26||H===27){p=N=D;continue e}I=I.parentNode}}p=p.return}Aj(function(){var te=N,de=Tv(d),me=[];e:{var ae=eN.get(i);if(ae!==void 0){var le=af,_e=i;switch(i){case"keypress":if(rf(d)===0)break e;case"keydown":case"keyup":le=BI;break;case"focusin":_e="focus",le=Fv;break;case"focusout":_e="blur",le=Fv;break;case"beforeblur":case"afterblur":le=Fv;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=kj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=DI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=HI;break;case Qj:case Xj:case Zj:le=_I;break;case Jj:le=YI;break;case"scroll":case"scrollend":le=AI;break;case"wheel":le=GI;break;case"copy":case"cut":case"paste":le=TI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=_j;break;case"toggle":case"beforetoggle":le=WI}var qe=(o&4)!==0,Tt=!qe&&(i==="scroll"||i==="scrollend"),K=qe?ae!==null?ae+"Capture":null:ae;qe=[];for(var Y=te,ee;Y!==null;){var fe=Y;if(ee=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ee===null||K===null||(fe=Pc(Y,K),fe!=null&&qe.push(mu(Y,fe,ee))),Tt)break;Y=Y.return}0<qe.length&&(ae=new le(ae,_e,null,d,de),me.push({event:ae,listeners:qe}))}}if((o&7)===0){e:{if(ae=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",ae&&d!==Ov&&(_e=d.relatedTarget||d.fromElement)&&(Wi(_e)||_e[Ki]))break e;if((le||ae)&&(ae=de.window===de?de:(ae=de.ownerDocument)?ae.defaultView||ae.parentWindow:window,le?(_e=d.relatedTarget||d.toElement,le=te,_e=_e?Wi(_e):null,_e!==null&&(Tt=s(_e),qe=_e.tag,_e!==Tt||qe!==5&&qe!==27&&qe!==6)&&(_e=null)):(le=null,_e=te),le!==_e)){if(qe=kj,fe="onMouseLeave",K="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(qe=_j,fe="onPointerLeave",K="onPointerEnter",Y="pointer"),Tt=le==null?ae:U(le),ee=_e==null?ae:U(_e),ae=new qe(fe,Y+"leave",le,d,de),ae.target=Tt,ae.relatedTarget=ee,fe=null,Wi(de)===te&&(qe=new qe(K,Y+"enter",_e,d,de),qe.target=ee,qe.relatedTarget=Tt,fe=qe),Tt=fe,le&&_e)t:{for(qe=KR,K=le,Y=_e,ee=0,fe=K;fe;fe=qe(fe))ee++;fe=0;for(var ze=Y;ze;ze=qe(ze))fe++;for(;0<ee-fe;)K=qe(K),ee--;for(;0<fe-ee;)Y=qe(Y),fe--;for(;ee--;){if(K===Y||Y!==null&&K===Y.alternate){qe=K;break t}K=qe(K),Y=qe(Y)}qe=null}else qe=null;le!==null&&j2(me,ae,le,qe,!1),_e!==null&&Tt!==null&&j2(me,Tt,_e,qe,!0)}}e:{if(ae=te?U(te):window,le=ae.nodeName&&ae.nodeName.toLowerCase(),le==="select"||le==="input"&&ae.type==="file")var gt=Fj;else if(Lj(ae))if(Bj)gt=iR;else{gt=nR;var Te=rR}else le=ae.nodeName,!le||le.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?te&&_v(te.elementType)&&(gt=Fj):gt=aR;if(gt&&(gt=gt(i,te))){zj(me,gt,d,de);break e}Te&&Te(i,ae,te),i==="focusout"&&te&&ae.type==="number"&&te.memoizedProps.value!=null&&Ev(ae,"number",ae.value)}switch(Te=te?U(te):window,i){case"focusin":(Lj(Te)||Te.contentEditable==="true")&&(eo=Te,Yv=te,qc=null);break;case"focusout":qc=Yv=eo=null;break;case"mousedown":Vv=!0;break;case"contextmenu":case"mouseup":case"dragend":Vv=!1,Kj(me,d,de);break;case"selectionchange":if(lR)break;case"keydown":case"keyup":Kj(me,d,de)}var Je;if($v)e:{switch(i){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else Jl?Ij(i,d)&&(ct="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(ct="onCompositionStart");ct&&(Oj&&d.locale!=="ko"&&(Jl||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Jl&&(Je=Mj()):(Xi=de,Rv="value"in Xi?Xi.value:Xi.textContent,Jl=!0)),Te=Wf(te,ct),0<Te.length&&(ct=new Ej(ct,i,null,d,de),me.push({event:ct,listeners:Te}),Je?ct.data=Je:(Je=Rj(d),Je!==null&&(ct.data=Je)))),(Je=XI?ZI(i,d):JI(i,d))&&(ct=Wf(te,"onBeforeInput"),0<ct.length&&(Te=new Ej("onBeforeInput","beforeinput",null,d,de),me.push({event:Te,listeners:ct}),Te.data=Je)),UR(me,i,te,d,de)}y2(me,o)})}function mu(i,o,d){return{instance:i,listener:o,currentTarget:d}}function Wf(i,o){for(var d=o+"Capture",p=[];i!==null;){var g=i,N=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||N===null||(g=Pc(i,d),g!=null&&p.unshift(mu(i,g,N)),g=Pc(i,o),g!=null&&p.push(mu(i,g,N))),i.tag===3)return p;i=i.return}return[]}function KR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function j2(i,o,d,p,g){for(var N=o._reactName,D=[];d!==null&&d!==p;){var I=d,H=I.alternate,te=I.stateNode;if(I=I.tag,H!==null&&H===p)break;I!==5&&I!==26&&I!==27||te===null||(H=te,g?(te=Pc(d,N),te!=null&&D.unshift(mu(d,te,H))):g||(te=Pc(d,N),te!=null&&D.push(mu(d,te,H)))),d=d.return}D.length!==0&&i.push({event:o,listeners:D})}var WR=/\r\n?/g,QR=/\u0000|\uFFFD/g;function N2(i){return(typeof i=="string"?i:""+i).replace(WR,`
`).replace(QR,"")}function S2(i,o){return o=N2(o),N2(i)===o}function Ot(i,o,d,p,g,N){switch(d){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Ql(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Ql(i,""+p);break;case"className":Zd(i,"class",p);break;case"tabIndex":Zd(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Zd(i,d,p);break;case"style":Sj(i,p,N);break;case"data":if(o!=="object"){Zd(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||d!=="href")){i.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=ef(""+p),i.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(o!=="input"&&Ot(i,o,"name",g.name,g,null),Ot(i,o,"formEncType",g.formEncType,g,null),Ot(i,o,"formMethod",g.formMethod,g,null),Ot(i,o,"formTarget",g.formTarget,g,null)):(Ot(i,o,"encType",g.encType,g,null),Ot(i,o,"method",g.method,g,null),Ot(i,o,"target",g.target,g,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=ef(""+p),i.setAttribute(d,p);break;case"onClick":p!=null&&(i.onclick=ri);break;case"onScroll":p!=null&&st("scroll",i);break;case"onScrollEnd":p!=null&&st("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}d=ef(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""+p):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":p===!0?i.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,p):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(d,p):i.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(d):i.setAttribute(d,p);break;case"popover":st("beforetoggle",i),st("toggle",i),Xd(i,"popover",p);break;case"xlinkActuate":ti(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":ti(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":ti(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":ti(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":ti(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":ti(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":ti(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":ti(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":ti(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Xd(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=SI.get(d)||d,Xd(i,d,p))}}function x0(i,o,d,p,g,N){switch(d){case"style":Sj(i,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"children":typeof p=="string"?Ql(i,p):(typeof p=="number"||typeof p=="bigint")&&Ql(i,""+p);break;case"onScroll":p!=null&&st("scroll",i);break;case"onScrollEnd":p!=null&&st("scrollend",i);break;case"onClick":p!=null&&(i.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Na.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(g=d.endsWith("Capture"),o=d.slice(2,g?d.length-7:void 0),N=i[Br]||null,N=N!=null?N[d]:null,typeof N=="function"&&i.removeEventListener(o,N,g),typeof p=="function")){typeof N!="function"&&N!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(o,p,g);break e}d in i?i[d]=p:p===!0?i.setAttribute(d,""):Xd(i,d,p)}}}function Ir(i,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",i),st("load",i);var p=!1,g=!1,N;for(N in d)if(d.hasOwnProperty(N)){var D=d[N];if(D!=null)switch(N){case"src":p=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Ot(i,o,N,D,d,null)}}g&&Ot(i,o,"srcSet",d.srcSet,d,null),p&&Ot(i,o,"src",d.src,d,null);return;case"input":st("invalid",i);var I=N=D=g=null,H=null,te=null;for(p in d)if(d.hasOwnProperty(p)){var de=d[p];if(de!=null)switch(p){case"name":g=de;break;case"type":D=de;break;case"checked":H=de;break;case"defaultChecked":te=de;break;case"value":N=de;break;case"defaultValue":I=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(n(137,o));break;default:Ot(i,o,p,de,d,null)}}yj(i,N,I,H,te,D,g,!1);return;case"select":st("invalid",i),p=D=N=null;for(g in d)if(d.hasOwnProperty(g)&&(I=d[g],I!=null))switch(g){case"value":N=I;break;case"defaultValue":D=I;break;case"multiple":p=I;default:Ot(i,o,g,I,d,null)}o=N,d=D,i.multiple=!!p,o!=null?Wl(i,!!p,o,!1):d!=null&&Wl(i,!!p,d,!0);return;case"textarea":st("invalid",i),N=g=p=null;for(D in d)if(d.hasOwnProperty(D)&&(I=d[D],I!=null))switch(D){case"value":p=I;break;case"defaultValue":g=I;break;case"children":N=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(n(91));break;default:Ot(i,o,D,I,d,null)}jj(i,p,g,N);return;case"option":for(H in d)d.hasOwnProperty(H)&&(p=d[H],p!=null)&&(H==="selected"?i.selected=p&&typeof p!="function"&&typeof p!="symbol":Ot(i,o,H,p,d,null));return;case"dialog":st("beforetoggle",i),st("toggle",i),st("cancel",i),st("close",i);break;case"iframe":case"object":st("load",i);break;case"video":case"audio":for(p=0;p<fu.length;p++)st(fu[p],i);break;case"image":st("error",i),st("load",i);break;case"details":st("toggle",i);break;case"embed":case"source":case"link":st("error",i),st("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in d)if(d.hasOwnProperty(te)&&(p=d[te],p!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Ot(i,o,te,p,d,null)}return;default:if(_v(o)){for(de in d)d.hasOwnProperty(de)&&(p=d[de],p!==void 0&&x0(i,o,de,p,d,void 0));return}}for(I in d)d.hasOwnProperty(I)&&(p=d[I],p!=null&&Ot(i,o,I,p,d,null))}function XR(i,o,d,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,N=null,D=null,I=null,H=null,te=null,de=null;for(le in d){var me=d[le];if(d.hasOwnProperty(le)&&me!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":H=me;default:p.hasOwnProperty(le)||Ot(i,o,le,null,p,me)}}for(var ae in p){var le=p[ae];if(me=d[ae],p.hasOwnProperty(ae)&&(le!=null||me!=null))switch(ae){case"type":N=le;break;case"name":g=le;break;case"checked":te=le;break;case"defaultChecked":de=le;break;case"value":D=le;break;case"defaultValue":I=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(n(137,o));break;default:le!==me&&Ot(i,o,ae,le,p,me)}}kv(i,D,I,H,te,de,N,g);return;case"select":le=D=I=ae=null;for(N in d)if(H=d[N],d.hasOwnProperty(N)&&H!=null)switch(N){case"value":break;case"multiple":le=H;default:p.hasOwnProperty(N)||Ot(i,o,N,null,p,H)}for(g in p)if(N=p[g],H=d[g],p.hasOwnProperty(g)&&(N!=null||H!=null))switch(g){case"value":ae=N;break;case"defaultValue":I=N;break;case"multiple":D=N;default:N!==H&&Ot(i,o,g,N,p,H)}o=I,d=D,p=le,ae!=null?Wl(i,!!d,ae,!1):!!p!=!!d&&(o!=null?Wl(i,!!d,o,!0):Wl(i,!!d,d?[]:"",!1));return;case"textarea":le=ae=null;for(I in d)if(g=d[I],d.hasOwnProperty(I)&&g!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Ot(i,o,I,null,p,g)}for(D in p)if(g=p[D],N=d[D],p.hasOwnProperty(D)&&(g!=null||N!=null))switch(D){case"value":ae=g;break;case"defaultValue":le=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==N&&Ot(i,o,D,g,p,N)}wj(i,ae,le);return;case"option":for(var _e in d)ae=d[_e],d.hasOwnProperty(_e)&&ae!=null&&!p.hasOwnProperty(_e)&&(_e==="selected"?i.selected=!1:Ot(i,o,_e,null,p,ae));for(H in p)ae=p[H],le=d[H],p.hasOwnProperty(H)&&ae!==le&&(ae!=null||le!=null)&&(H==="selected"?i.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":Ot(i,o,H,ae,p,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in d)ae=d[qe],d.hasOwnProperty(qe)&&ae!=null&&!p.hasOwnProperty(qe)&&Ot(i,o,qe,null,p,ae);for(te in p)if(ae=p[te],le=d[te],p.hasOwnProperty(te)&&ae!==le&&(ae!=null||le!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(n(137,o));break;default:Ot(i,o,te,ae,p,le)}return;default:if(_v(o)){for(var Tt in d)ae=d[Tt],d.hasOwnProperty(Tt)&&ae!==void 0&&!p.hasOwnProperty(Tt)&&x0(i,o,Tt,void 0,p,ae);for(de in p)ae=p[de],le=d[de],!p.hasOwnProperty(de)||ae===le||ae===void 0&&le===void 0||x0(i,o,de,ae,p,le);return}}for(var K in d)ae=d[K],d.hasOwnProperty(K)&&ae!=null&&!p.hasOwnProperty(K)&&Ot(i,o,K,null,p,ae);for(me in p)ae=p[me],le=d[me],!p.hasOwnProperty(me)||ae===le||ae==null&&le==null||Ot(i,o,me,ae,p,le)}function C2(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZR(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var g=d[p],N=g.transferSize,D=g.initiatorType,I=g.duration;if(N&&I&&C2(D)){for(D=0,I=g.responseEnd,p+=1;p<d.length;p++){var H=d[p],te=H.startTime;if(te>I)break;var de=H.transferSize,me=H.initiatorType;de&&C2(me)&&(H=H.responseEnd,D+=de*(H<I?1:(I-te)/(H-te)))}if(--p,o+=8*(N+D)/(g.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var g0=null,b0=null;function Qf(i){return i.nodeType===9?i:i.ownerDocument}function A2(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M2(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function y0(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var w0=null;function JR(){var i=window.event;return i&&i.type==="popstate"?i===w0?!1:(w0=i,!0):(w0=null,!1)}var D2=typeof setTimeout=="function"?setTimeout:void 0,eL=typeof clearTimeout=="function"?clearTimeout:void 0,k2=typeof Promise=="function"?Promise:void 0,tL=typeof queueMicrotask=="function"?queueMicrotask:typeof k2<"u"?function(i){return k2.resolve(null).then(i).catch(rL)}:D2;function rL(i){setTimeout(function(){throw i})}function ps(i){return i==="head"}function E2(i,o){var d=o,p=0;do{var g=d.nextSibling;if(i.removeChild(d),g&&g.nodeType===8)if(d=g.data,d==="/$"||d==="/&"){if(p===0){i.removeChild(g),Do(o);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")pu(i.ownerDocument.documentElement);else if(d==="head"){d=i.ownerDocument.head,pu(d);for(var N=d.firstChild;N;){var D=N.nextSibling,I=N.nodeName;N[Vs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=D}}else d==="body"&&pu(i.ownerDocument.body);d=g}while(d);Do(o)}function _2(i,o){var d=i;i=0;do{var p=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(i===0)break;i--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||i++;d=p}while(d)}function j0(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":j0(d),Oc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function nL(i,o,d,p){for(;i.nodeType===1;){var g=d;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[Vs])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(N=i.getAttribute("rel"),N==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(N!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(N=i.getAttribute("src"),(N!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&N&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var N=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===N)return i}else return i;if(i=Yn(i.nextSibling),i===null)break}return null}function aL(i,o,d){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=Yn(i.nextSibling),i===null))return null;return i}function O2(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Yn(i.nextSibling),i===null))return null;return i}function N0(i){return i.data==="$?"||i.data==="$~"}function S0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function iL(i,o){var d=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||d.readyState!=="loading")o();else{var p=function(){o(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function Yn(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var C0=null;function T2(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"||d==="/&"){if(o===0)return Yn(i.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}i=i.nextSibling}return null}function P2(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return i;o--}else d!=="/$"&&d!=="/&"||o++}i=i.previousSibling}return null}function I2(i,o,d){switch(o=Qf(d),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function pu(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Oc(i)}var Vn=new Map,R2=new Set;function Xf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var gi=G.d;G.d={f:sL,r:lL,D:oL,C:cL,L:uL,m:dL,X:mL,S:fL,M:pL};function sL(){var i=gi.f(),o=qf();return i||o}function lL(i){var o=Qi(i);o!==null&&o.tag===5&&o.type==="form"?JN(o):gi.r(i)}var Co=typeof document>"u"?null:document;function L2(i,o,d){var p=Co;if(p&&typeof o=="string"&&o){var g=zn(o);g='link[rel="'+i+'"][href="'+g+'"]',typeof d=="string"&&(g+='[crossorigin="'+d+'"]'),R2.has(g)||(R2.add(g),i={rel:i,crossOrigin:d,href:o},p.querySelector(g)===null&&(o=p.createElement("link"),Ir(o,"link",i),mt(o),p.head.appendChild(o)))}}function oL(i){gi.D(i),L2("dns-prefetch",i,null)}function cL(i,o){gi.C(i,o),L2("preconnect",i,o)}function uL(i,o,d){gi.L(i,o,d);var p=Co;if(p&&i&&o){var g='link[rel="preload"][as="'+zn(o)+'"]';o==="image"&&d&&d.imageSrcSet?(g+='[imagesrcset="'+zn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(g+='[imagesizes="'+zn(d.imageSizes)+'"]')):g+='[href="'+zn(i)+'"]';var N=g;switch(o){case"style":N=Ao(i);break;case"script":N=Mo(i)}Vn.has(N)||(i=v({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:i,as:o},d),Vn.set(N,i),p.querySelector(g)!==null||o==="style"&&p.querySelector(hu(N))||o==="script"&&p.querySelector(vu(N))||(o=p.createElement("link"),Ir(o,"link",i),mt(o),p.head.appendChild(o)))}}function dL(i,o){gi.m(i,o);var d=Co;if(d&&i){var p=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+zn(p)+'"][href="'+zn(i)+'"]',N=g;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Mo(i)}if(!Vn.has(N)&&(i=v({rel:"modulepreload",href:i},o),Vn.set(N,i),d.querySelector(g)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(vu(N)))return}p=d.createElement("link"),Ir(p,"link",i),mt(p),d.head.appendChild(p)}}}function fL(i,o,d){gi.S(i,o,d);var p=Co;if(p&&i){var g=ye(p).hoistableStyles,N=Ao(i);o=o||"default";var D=g.get(N);if(!D){var I={loading:0,preload:null};if(D=p.querySelector(hu(N)))I.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":o},d),(d=Vn.get(N))&&A0(i,d);var H=D=p.createElement("link");mt(H),Ir(H,"link",i),H._p=new Promise(function(te,de){H.onload=te,H.onerror=de}),H.addEventListener("load",function(){I.loading|=1}),H.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Zf(D,o,p)}D={type:"stylesheet",instance:D,count:1,state:I},g.set(N,D)}}}function mL(i,o){gi.X(i,o);var d=Co;if(d&&i){var p=ye(d).hoistableScripts,g=Mo(i),N=p.get(g);N||(N=d.querySelector(vu(g)),N||(i=v({src:i,async:!0},o),(o=Vn.get(g))&&M0(i,o),N=d.createElement("script"),mt(N),Ir(N,"link",i),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(g,N))}}function pL(i,o){gi.M(i,o);var d=Co;if(d&&i){var p=ye(d).hoistableScripts,g=Mo(i),N=p.get(g);N||(N=d.querySelector(vu(g)),N||(i=v({src:i,async:!0,type:"module"},o),(o=Vn.get(g))&&M0(i,o),N=d.createElement("script"),mt(N),Ir(N,"link",i),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(g,N))}}function z2(i,o,d,p){var g=(g=he.current)?Xf(g):null;if(!g)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=Ao(d.href),d=ye(g).hoistableStyles,p=d.get(o),p||(p={type:"style",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=Ao(d.href);var N=ye(g).hoistableStyles,D=N.get(i);if(D||(g=g.ownerDocument||g,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(i,D),(N=g.querySelector(hu(i)))&&!N._p&&(D.instance=N,D.state.loading=5),Vn.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Vn.set(i,d),N||hL(g,i,d,D.state))),o&&p===null)throw Error(n(528,""));return D}if(o&&p!==null)throw Error(n(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Mo(d),d=ye(g).hoistableScripts,p=d.get(o),p||(p={type:"script",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Ao(i){return'href="'+zn(i)+'"'}function hu(i){return'link[rel="stylesheet"]['+i+"]"}function F2(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function hL(i,o,d,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),Ir(o,"link",d),mt(o),i.head.appendChild(o))}function Mo(i){return'[src="'+zn(i)+'"]'}function vu(i){return"script[async]"+i}function B2(i,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+zn(d.href)+'"]');if(p)return o.instance=p,mt(p),p;var g=v({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),mt(p),Ir(p,"style",g),Zf(p,d.precedence,i),o.instance=p;case"stylesheet":g=Ao(d.href);var N=i.querySelector(hu(g));if(N)return o.state.loading|=4,o.instance=N,mt(N),N;p=F2(d),(g=Vn.get(g))&&A0(p,g),N=(i.ownerDocument||i).createElement("link"),mt(N);var D=N;return D._p=new Promise(function(I,H){D.onload=I,D.onerror=H}),Ir(N,"link",p),o.state.loading|=4,Zf(N,d.precedence,i),o.instance=N;case"script":return N=Mo(d.src),(g=i.querySelector(vu(N)))?(o.instance=g,mt(g),g):(p=d,(g=Vn.get(N))&&(p=v({},d),M0(p,g)),i=i.ownerDocument||i,g=i.createElement("script"),mt(g),Ir(g,"link",p),i.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Zf(p,d.precedence,i));return o.instance}function Zf(i,o,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=p.length?p[p.length-1]:null,N=g,D=0;D<p.length;D++){var I=p[D];if(I.dataset.precedence===o)N=I;else if(N!==g)break}N?N.parentNode.insertBefore(i,N.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(i,o.firstChild))}function A0(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function M0(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Jf=null;function $2(i,o,d){if(Jf===null){var p=new Map,g=Jf=new Map;g.set(d,p)}else g=Jf,p=g.get(d),p||(p=new Map,g.set(d,p));if(p.has(i))return p;for(p.set(i,null),d=d.getElementsByTagName(i),g=0;g<d.length;g++){var N=d[g];if(!(N[Vs]||N[wr]||i==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var D=N.getAttribute(o)||"";D=i+D;var I=p.get(D);I?I.push(N):p.set(D,[N])}}return p}function q2(i,o,d){i=i.ownerDocument||i,i.head.insertBefore(d,o==="title"?i.querySelector("head > title"):null)}function vL(i,o,d){if(d===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(i=o.disabled,typeof o.precedence=="string"&&i==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function H2(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function xL(i,o,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var g=Ao(p.href),N=o.querySelector(hu(g));if(N){o=N._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=em.bind(i),o.then(i,i)),d.state.loading|=4,d.instance=N,mt(N);return}N=o.ownerDocument||o,p=F2(p),(g=Vn.get(g))&&A0(p,g),N=N.createElement("link"),mt(N);var D=N;D._p=new Promise(function(I,H){D.onload=I,D.onerror=H}),Ir(N,"link",p),d.instance=N}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(i.count++,d=em.bind(i),o.addEventListener("load",d),o.addEventListener("error",d))}}var D0=0;function gL(i,o){return i.stylesheets&&i.count===0&&rm(i,i.stylesheets),0<i.count||0<i.imgCount?function(d){var p=setTimeout(function(){if(i.stylesheets&&rm(i,i.stylesheets),i.unsuspend){var N=i.unsuspend;i.unsuspend=null,N()}},6e4+o);0<i.imgBytes&&D0===0&&(D0=62500*ZR());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&rm(i,i.stylesheets),i.unsuspend)){var N=i.unsuspend;i.unsuspend=null,N()}},(i.imgBytes>D0?50:800)+o);return i.unsuspend=d,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(g)}}:null}function em(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var tm=null;function rm(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,tm=new Map,o.forEach(bL,i),tm=null,em.call(i))}function bL(i,o){if(!(o.state.loading&4)){var d=tm.get(i);if(d)var p=d.get(null);else{d=new Map,tm.set(i,d);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<g.length;N++){var D=g[N];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(d.set(D.dataset.precedence,D),p=D)}p&&d.set(null,p)}g=o.instance,D=g.getAttribute("data-precedence"),N=d.get(D)||p,N===p&&d.set(null,g),d.set(D,g),this.count++,p=em.bind(this),g.addEventListener("load",p),g.addEventListener("error",p),N?N.parentNode.insertBefore(g,N.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),o.state.loading|=4}}var xu={$$typeof:A,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function yL(i,o,d,p,g,N,D,I,H){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dc(0),this.hiddenUpdates=Dc(null),this.identifierPrefix=p,this.onUncaughtError=g,this.onCaughtError=N,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function U2(i,o,d,p,g,N,D,I,H,te,de,me){return i=new yL(i,o,d,D,H,te,de,me,I),o=1,N===!0&&(o|=24),N=yn(3,null,null,o),i.current=N,N.stateNode=i,o=lx(),o.refCount++,i.pooledCache=o,o.refCount++,N.memoizedState={element:p,isDehydrated:d,cache:o},dx(N),i}function Y2(i){return i?(i=no,i):no}function V2(i,o,d,p,g,N){g=Y2(g),p.context===null?p.context=g:p.pendingContext=g,p=ns(o),p.payload={element:d},N=N===void 0?null:N,N!==null&&(p.callback=N),d=as(i,p,o),d!==null&&(ln(d,i,o),Wc(d,i,o))}function G2(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<o?d:o}}function k0(i,o){G2(i,o),(i=i.alternate)&&G2(i,o)}function K2(i){if(i.tag===13||i.tag===31){var o=Qs(i,67108864);o!==null&&ln(o,i,67108864),k0(i,67108864)}}function W2(i){if(i.tag===13||i.tag===31){var o=Cn();o=kc(o);var d=Qs(i,o);d!==null&&ln(d,i,o),k0(i,o)}}var nm=!0;function wL(i,o,d,p){var g=B.T;B.T=null;var N=G.p;try{G.p=2,E0(i,o,d,p)}finally{G.p=N,B.T=g}}function jL(i,o,d,p){var g=B.T;B.T=null;var N=G.p;try{G.p=8,E0(i,o,d,p)}finally{G.p=N,B.T=g}}function E0(i,o,d,p){if(nm){var g=_0(p);if(g===null)v0(i,o,p,am,d),X2(i,p);else if(SL(g,i,o,d,p))p.stopPropagation();else if(X2(i,p),o&4&&-1<NL.indexOf(i)){for(;g!==null;){var N=Qi(g);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var D=Jt(N.pendingLanes);if(D!==0){var I=N;for(I.pendingLanes|=2,I.entangledLanes|=2;D;){var H=1<<31-Ze(D);I.entanglements[1]|=H,D&=~H}Da(N),(Nt&6)===0&&(Bf=Xt()+500,du(0))}}break;case 31:case 13:I=Qs(N,2),I!==null&&ln(I,N,2),qf(),k0(N,2)}if(N=_0(p),N===null&&v0(i,o,p,am,d),N===g)break;g=N}g!==null&&p.stopPropagation()}else v0(i,o,p,null,d)}}function _0(i){return i=Tv(i),O0(i)}var am=null;function O0(i){if(am=null,i=Wi(i),i!==null){var o=s(i);if(o===null)i=null;else{var d=o.tag;if(d===13){if(i=c(o),i!==null)return i;i=null}else if(d===31){if(i=u(o),i!==null)return i;i=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return am=i,null}function Q2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gi()){case V:return 2;case q:return 8;case Q:case we:return 32;case Ie:return 268435456;default:return 32}default:return 32}}var T0=!1,hs=null,vs=null,xs=null,gu=new Map,bu=new Map,gs=[],NL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function X2(i,o){switch(i){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":gu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":bu.delete(o.pointerId)}}function yu(i,o,d,p,g,N){return i===null||i.nativeEvent!==N?(i={blockedOn:o,domEventName:d,eventSystemFlags:p,nativeEvent:N,targetContainers:[g]},o!==null&&(o=Qi(o),o!==null&&K2(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function SL(i,o,d,p,g){switch(o){case"focusin":return hs=yu(hs,i,o,d,p,g),!0;case"dragenter":return vs=yu(vs,i,o,d,p,g),!0;case"mouseover":return xs=yu(xs,i,o,d,p,g),!0;case"pointerover":var N=g.pointerId;return gu.set(N,yu(gu.get(N)||null,i,o,d,p,g)),!0;case"gotpointercapture":return N=g.pointerId,bu.set(N,yu(bu.get(N)||null,i,o,d,p,g)),!0}return!1}function Z2(i){var o=Wi(i.target);if(o!==null){var d=s(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){i.blockedOn=o,Wd(i.priority,function(){W2(d)});return}}else if(o===31){if(o=u(d),o!==null){i.blockedOn=o,Wd(i.priority,function(){W2(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function im(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var d=_0(i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);Ov=p,d.target.dispatchEvent(p),Ov=null}else return o=Qi(d),o!==null&&K2(o),i.blockedOn=d,!1;o.shift()}return!0}function J2(i,o,d){im(i)&&d.delete(o)}function CL(){T0=!1,hs!==null&&im(hs)&&(hs=null),vs!==null&&im(vs)&&(vs=null),xs!==null&&im(xs)&&(xs=null),gu.forEach(J2),bu.forEach(J2)}function sm(i,o){i.blockedOn===o&&(i.blockedOn=null,T0||(T0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,CL)))}var lm=null;function eC(i){lm!==i&&(lm=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){lm===i&&(lm=null);for(var o=0;o<i.length;o+=3){var d=i[o],p=i[o+1],g=i[o+2];if(typeof p!="function"){if(O0(p||d)===null)continue;break}var N=Qi(d);N!==null&&(i.splice(o,3),o-=3,_x(N,{pending:!0,data:g,method:d.method,action:p},p,g))}}))}function Do(i){function o(H){return sm(H,i)}hs!==null&&sm(hs,i),vs!==null&&sm(vs,i),xs!==null&&sm(xs,i),gu.forEach(o),bu.forEach(o);for(var d=0;d<gs.length;d++){var p=gs[d];p.blockedOn===i&&(p.blockedOn=null)}for(;0<gs.length&&(d=gs[0],d.blockedOn===null);)Z2(d),d.blockedOn===null&&gs.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var g=d[p],N=d[p+1],D=g[Br]||null;if(typeof N=="function")D||eC(d);else if(D){var I=null;if(N&&N.hasAttribute("formAction")){if(g=N,D=N[Br]||null)I=D.formAction;else if(O0(g)!==null)continue}else I=D.action;typeof I=="function"?d[p+1]=I:(d.splice(p,3),p-=3),eC(d)}}}function tC(){function i(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(D){return g=D})},focusReset:"manual",scroll:"manual"})}function o(){g!==null&&(g(),g=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),g!==null&&(g(),g=null)}}}function P0(i){this._internalRoot=i}om.prototype.render=P0.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var d=o.current,p=Cn();V2(d,p,i,o,null,null)},om.prototype.unmount=P0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;V2(i.current,2,null,i,null,null),qf(),o[Ki]=null}};function om(i){this._internalRoot=i}om.prototype.unstable_scheduleHydration=function(i){if(i){var o=Kd();i={blockedOn:null,target:i,priority:o};for(var d=0;d<gs.length&&o!==0&&o<gs[d].priority;d++);gs.splice(d,0,i),d===0&&Z2(i)}};var rC=t.version;if(rC!=="19.2.4")throw Error(n(527,rC,"19.2.4"));G.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=m(o),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var AL={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cm.isDisabled&&cm.supportsFiber)try{Be=cm.inject(AL),Re=cm}catch{}}return ju.createRoot=function(i,o){if(!a(i))throw Error(n(299));var d=!1,p="",g=cS,N=uS,D=dS;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(D=o.onRecoverableError)),o=U2(i,1,!1,null,null,d,p,null,g,N,D,tC),i[Ki]=o.current,h0(i),new P0(o)},ju.hydrateRoot=function(i,o,d){if(!a(i))throw Error(n(299));var p=!1,g="",N=cS,D=uS,I=dS,H=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(g=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(D=d.onCaughtError),d.onRecoverableError!==void 0&&(I=d.onRecoverableError),d.formState!==void 0&&(H=d.formState)),o=U2(i,1,!0,o,d??null,p,g,H,N,D,I,tC),o.context=Y2(null),d=o.current,p=Cn(),p=kc(p),g=ns(p),g.callback=null,as(d,g,p),d=p,o.current.lanes=d,Ys(o,d),Da(o),i[Ki]=o.current,h0(i),new om(o)},ju.version="19.2.4",ju}var fC;function RL(){if(fC)return L0.exports;fC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),L0.exports=IL(),L0.exports}var LL=RL();var mC="popstate";function zL(e={}){function t(n,a){let{pathname:s,search:c,hash:u}=n.location;return Vb("",{pathname:s,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Xu(a)}return BL(t,r,null,e)}function Kt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ha(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FL(){return Math.random().toString(36).substring(2,10)}function pC(e,t){return{usr:e.state,key:e.key,idx:t}}function Vb(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?dc(t):t,state:r,key:t&&t.key||n||FL()}}function Xu({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function dc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function BL(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,c=a.history,u="POP",f=null,m=h();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function h(){return(c.state||{idx:null}).idx}function v(){u="POP";let y=h(),C=y==null?null:y-m;m=y,f&&f({action:u,location:w.location,delta:C})}function x(y,C){u="PUSH";let M=Vb(w.location,y,C);m=h()+1;let A=pC(M,m),_=w.createHref(M);try{c.pushState(A,"",_)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(_)}s&&f&&f({action:u,location:w.location,delta:1})}function b(y,C){u="REPLACE";let M=Vb(w.location,y,C);m=h();let A=pC(M,m),_=w.createHref(M);c.replaceState(A,"",_),s&&f&&f({action:u,location:w.location,delta:0})}function S(y){return $L(y)}let w={get action(){return u},get location(){return e(a,c)},listen(y){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(mC,v),f=y,()=>{a.removeEventListener(mC,v),f=null}},createHref(y){return t(a,y)},createURL:S,encodeLocation(y){let C=S(y);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:b,go(y){return c.go(y)}};return w}function $L(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Kt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Xu(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function B_(e,t,r="/"){return qL(e,t,r,!1)}function qL(e,t,r,n){let a=typeof t=="string"?dc(t):t,s=ki(a.pathname||"/",r);if(s==null)return null;let c=$_(e);HL(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let m=e6(s);u=ZL(c[f],m,n)}return u}function $_(e,t=[],r=[],n="",a=!1){let s=(c,u,f=a,m)=>{let h={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&f)return;Kt(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let v=Ci([n,h.relativePath]),x=r.concat(h);c.children&&c.children.length>0&&(Kt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),$_(c.children,t,x,v,f)),!(c.path==null&&!c.index)&&t.push({path:v,score:QL(v,c.index),routesMeta:x})};return e.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))s(c,u);else for(let f of q_(c.path))s(c,u,!0,f)}),t}function q_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let c=q_(n.join("/")),u=[];return u.push(...c.map(f=>f===""?s:[s,f].join("/"))),a&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function HL(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:XL(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var UL=/^:[\w-]+$/,YL=3,VL=2,GL=1,KL=10,WL=-2,hC=e=>e==="*";function QL(e,t){let r=e.split("/"),n=r.length;return r.some(hC)&&(n+=WL),t&&(n+=VL),r.filter(a=>!hC(a)).reduce((a,s)=>a+(UL.test(s)?YL:s===""?GL:KL),n)}function XL(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function ZL(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",c=[];for(let u=0;u<n.length;++u){let f=n[u],m=u===n.length-1,h=s==="/"?t:t.slice(s.length)||"/",v=up({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},h),x=f.route;if(!v&&m&&r&&!n[n.length-1].route.index&&(v=up({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Ci([s,v.pathname]),pathnameBase:a6(Ci([s,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(s=Ci([s,v.pathnameBase]))}return c}function up(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=JL(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],c=s.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((m,{paramName:h,isOptional:v},x)=>{if(h==="*"){let S=u[x]||"";c=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const b=u[x];return v&&!b?m[h]=void 0:m[h]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:c,pattern:e}}function JL(e,t=!1,r=!0){ha(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function e6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ha(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ki(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var t6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function r6(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?dc(e):e,s;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?s=vC(r.substring(1),"/"):s=vC(r,t)):s=t,{pathname:s,search:i6(n),hash:s6(a)}}function vC(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function $0(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function n6(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function i1(e){let t=n6(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function s1(e,t,r,n=!1){let a;typeof e=="string"?a=dc(e):(a={...e},Kt(!a.pathname||!a.pathname.includes("?"),$0("?","pathname","search",a)),Kt(!a.pathname||!a.pathname.includes("#"),$0("#","pathname","hash",a)),Kt(!a.search||!a.search.includes("#"),$0("#","search","hash",a)));let s=e===""||a.pathname==="",c=s?"/":a.pathname,u;if(c==null)u=r;else{let v=t.length-1;if(!n&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}u=v>=0?t[v]:"/"}let f=r6(a,u),m=c&&c!=="/"&&c.endsWith("/"),h=(s||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(m||h)&&(f.pathname+="/"),f}var Ci=e=>e.join("/").replace(/\/\/+/g,"/"),a6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),i6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,s6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,l6=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function o6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function c6(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var H_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function U_(e,t){let r=e;if(typeof r!="string"||!t6.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(H_)try{let s=new URL(window.location.href),c=r.startsWith("//")?new URL(s.protocol+r):new URL(r),u=ki(c.pathname,t);c.origin===s.origin&&u!=null?r=u+c.search+c.hash:a=!0}catch{ha(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Y_=["POST","PUT","PATCH","DELETE"];new Set(Y_);var u6=["GET",...Y_];new Set(u6);var fc=j.createContext(null);fc.displayName="DataRouter";var Nh=j.createContext(null);Nh.displayName="DataRouterState";var d6=j.createContext(!1),V_=j.createContext({isTransitioning:!1});V_.displayName="ViewTransition";var f6=j.createContext(new Map);f6.displayName="Fetchers";var m6=j.createContext(null);m6.displayName="Await";var Rn=j.createContext(null);Rn.displayName="Navigation";var gd=j.createContext(null);gd.displayName="Location";var ga=j.createContext({outlet:null,matches:[],isDataRoute:!1});ga.displayName="Route";var l1=j.createContext(null);l1.displayName="RouteError";var G_="REACT_ROUTER_ERROR",p6="REDIRECT",h6="ROUTE_ERROR_RESPONSE";function v6(e){if(e.startsWith(`${G_}:${p6}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function x6(e){if(e.startsWith(`${G_}:${h6}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new l6(t.status,t.statusText,t.data)}catch{}}function g6(e,{relative:t}={}){Kt(mc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=j.useContext(Rn),{hash:a,pathname:s,search:c}=bd(e,{relative:t}),u=s;return r!=="/"&&(u=s==="/"?r:Ci([r,s])),n.createHref({pathname:u,search:c,hash:a})}function mc(){return j.useContext(gd)!=null}function ba(){return Kt(mc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(gd).location}var K_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function W_(e){j.useContext(Rn).static||j.useLayoutEffect(e)}function Hl(){let{isDataRoute:e}=j.useContext(ga);return e?T6():b6()}function b6(){Kt(mc(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(fc),{basename:t,navigator:r}=j.useContext(Rn),{matches:n}=j.useContext(ga),{pathname:a}=ba(),s=JSON.stringify(i1(n)),c=j.useRef(!1);return W_(()=>{c.current=!0}),j.useCallback((f,m={})=>{if(ha(c.current,K_),!c.current)return;if(typeof f=="number"){r.go(f);return}let h=s1(f,JSON.parse(s),a,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ci([t,h.pathname])),(m.replace?r.replace:r.push)(h,m.state,m)},[t,r,s,a,e])}var y6=j.createContext(null);function w6(e){let t=j.useContext(ga).outlet;return j.useMemo(()=>t&&j.createElement(y6.Provider,{value:e},t),[t,e])}function bd(e,{relative:t}={}){let{matches:r}=j.useContext(ga),{pathname:n}=ba(),a=JSON.stringify(i1(r));return j.useMemo(()=>s1(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function j6(e,t){return Q_(e,t)}function Q_(e,t,r,n,a){Kt(mc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext(Rn),{matches:c}=j.useContext(ga),u=c[c.length-1],f=u?u.params:{},m=u?u.pathname:"/",h=u?u.pathnameBase:"/",v=u&&u.route;{let M=v&&v.path||"";Z_(m,!v||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let x=ba(),b;if(t){let M=typeof t=="string"?dc(t):t;Kt(h==="/"||M.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${M.pathname}" was given in the \`location\` prop.`),b=M}else b=x;let S=b.pathname||"/",w=S;if(h!=="/"){let M=h.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(M.length).join("/")}let y=B_(e,{pathname:w});ha(v||y!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ha(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=M6(y&&y.map(M=>Object.assign({},M,{params:Object.assign({},f,M.params),pathname:Ci([h,s.encodeLocation?s.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?h:Ci([h,s.encodeLocation?s.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),c,r,n,a);return t&&C?j.createElement(gd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function N6(){let e=O6(),t=o6(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:s},"ErrorBoundary")," or"," ",j.createElement("code",{style:s},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:a},r):null,c)}var S6=j.createElement(N6,null),X_=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=x6(e.digest);r&&(e=r)}let t=e!==void 0?j.createElement(ga.Provider,{value:this.props.routeContext},j.createElement(l1.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?j.createElement(C6,{error:e},t):t}};X_.contextType=d6;var q0=new WeakMap;function C6({children:e,error:t}){let{basename:r}=j.useContext(Rn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=v6(t.digest);if(n){let a=q0.get(t);if(a)throw a;let s=U_(n.location,r);if(H_&&!q0.get(t))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw q0.set(t,c),c}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function A6({routeContext:e,match:t,children:r}){let n=j.useContext(fc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(ga.Provider,{value:e},r)}function M6(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,c=r?.errors;if(c!=null){let h=s.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);Kt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let u=!1,f=-1;if(r)for(let h=0;h<s.length;h++){let v=s[h];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=h),v.route.id){let{loaderData:x,errors:b}=r,S=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!b||b[v.route.id]===void 0);if(v.route.lazy||S){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let m=r&&n?(h,v)=>{n(h,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:c6(r.matches),errorInfo:v})}:void 0;return s.reduceRight((h,v,x)=>{let b,S=!1,w=null,y=null;r&&(b=c&&v.route.id?c[v.route.id]:void 0,w=v.route.errorElement||S6,u&&(f<0&&x===0?(Z_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,y=null):f===x&&(S=!0,y=v.route.hydrateFallbackElement||null)));let C=t.concat(s.slice(0,x+1)),M=()=>{let A;return b?A=w:S?A=y:v.route.Component?A=j.createElement(v.route.Component,null):v.route.element?A=v.route.element:A=h,j.createElement(A6,{match:v,routeContext:{outlet:h,matches:C,isDataRoute:r!=null},children:A})};return r&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?j.createElement(X_,{location:r.location,revalidation:r.revalidation,component:w,error:b,children:M(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:m}):M()},null)}function o1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D6(e){let t=j.useContext(fc);return Kt(t,o1(e)),t}function k6(e){let t=j.useContext(Nh);return Kt(t,o1(e)),t}function E6(e){let t=j.useContext(ga);return Kt(t,o1(e)),t}function c1(e){let t=E6(e),r=t.matches[t.matches.length-1];return Kt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function _6(){return c1("useRouteId")}function O6(){let e=j.useContext(l1),t=k6("useRouteError"),r=c1("useRouteError");return e!==void 0?e:t.errors?.[r]}function T6(){let{router:e}=D6("useNavigate"),t=c1("useNavigate"),r=j.useRef(!1);return W_(()=>{r.current=!0}),j.useCallback(async(a,s={})=>{ha(r.current,K_),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var xC={};function Z_(e,t,r){!t&&!xC[e]&&(xC[e]=!0,ha(!1,r))}j.memo(P6);function P6({routes:e,future:t,state:r,onError:n}){return Q_(e,void 0,r,n,t)}function dp({to:e,replace:t,state:r,relative:n}){Kt(mc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext(Rn);ha(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=j.useContext(ga),{pathname:c}=ba(),u=Hl(),f=s1(e,i1(s),c,n==="path"),m=JSON.stringify(f);return j.useEffect(()=>{u(JSON.parse(m),{replace:t,state:r,relative:n})},[u,m,n,t,r]),null}function J_(e){return w6(e.context)}function Yt(e){Kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function I6({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1,unstable_useTransitions:c}){Kt(!mc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:u,navigator:a,static:s,unstable_useTransitions:c,future:{}}),[u,a,s,c]);typeof r=="string"&&(r=dc(r));let{pathname:m="/",search:h="",hash:v="",state:x=null,key:b="default"}=r,S=j.useMemo(()=>{let w=ki(m,u);return w==null?null:{location:{pathname:w,search:h,hash:v,state:x,key:b},navigationType:n}},[u,m,h,v,x,b,n]);return ha(S!=null,`<Router basename="${u}"> is not able to match the URL "${m}${h}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:j.createElement(Rn.Provider,{value:f},j.createElement(gd.Provider,{children:t,value:S}))}function R6({children:e,location:t}){return j6(Gb(e),t)}function Gb(e,t=[]){let r=[];return j.Children.forEach(e,(n,a)=>{if(!j.isValidElement(n))return;let s=[...t,a];if(n.type===j.Fragment){r.push.apply(r,Gb(n.props.children,s));return}Kt(n.type===Yt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Kt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Gb(n.props.children,s)),r.push(c)}),r}var Km="get",Wm="application/x-www-form-urlencoded";function Sh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function L6(e){return Sh(e)&&e.tagName.toLowerCase()==="button"}function z6(e){return Sh(e)&&e.tagName.toLowerCase()==="form"}function F6(e){return Sh(e)&&e.tagName.toLowerCase()==="input"}function B6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $6(e,t){return e.button===0&&(!t||t==="_self")&&!B6(e)}var um=null;function q6(){if(um===null)try{new FormData(document.createElement("form"),0),um=!1}catch{um=!0}return um}var H6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function H0(e){return e!=null&&!H6.has(e)?(ha(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wm}"`),null):e}function U6(e,t){let r,n,a,s,c;if(z6(e)){let u=e.getAttribute("action");n=u?ki(u,t):null,r=e.getAttribute("method")||Km,a=H0(e.getAttribute("enctype"))||Wm,s=new FormData(e)}else if(L6(e)||F6(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(n=f?ki(f,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||Km,a=H0(e.getAttribute("formenctype"))||H0(u.getAttribute("enctype"))||Wm,s=new FormData(u,e),!q6()){let{name:m,type:h,value:v}=e;if(h==="image"){let x=m?`${m}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else m&&s.append(m,v)}}else{if(Sh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Km,n=null,a=Wm,c=e}return s&&a==="text/plain"&&(c=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function u1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Y6(e,t,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&ki(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function V6(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function G6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function K6(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let c=await V6(s,r);return c.links?c.links():[]}return[]}));return Z6(n.flat(1).filter(G6).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function gC(e,t,r,n,a,s){let c=(f,m)=>r[m]?f.route.id!==r[m].route.id:!0,u=(f,m)=>r[m].pathname!==f.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==f.params["*"];return s==="assets"?t.filter((f,m)=>c(f,m)||u(f,m)):s==="data"?t.filter((f,m)=>{let h=n.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(c(f,m)||u(f,m))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function W6(e,t,{includeHydrateFallback:r}={}){return Q6(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function Q6(e){return[...new Set(e)]}function X6(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Z6(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(X6(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function eO(){let e=j.useContext(fc);return u1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function J6(){let e=j.useContext(Nh);return u1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var d1=j.createContext(void 0);d1.displayName="FrameworkContext";function tO(){let e=j.useContext(d1);return u1(e,"You must render this element inside a <HydratedRouter> element"),e}function ez(e,t){let r=j.useContext(d1),[n,a]=j.useState(!1),[s,c]=j.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:m,onMouseLeave:h,onTouchStart:v}=t,x=j.useRef(null);j.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let w=C=>{C.forEach(M=>{c(M.isIntersecting)})},y=new IntersectionObserver(w,{threshold:.5});return x.current&&y.observe(x.current),()=>{y.disconnect()}}},[e]),j.useEffect(()=>{if(n){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[n]);let b=()=>{a(!0)},S=()=>{a(!1),c(!1)};return r?e!=="intent"?[s,x,{}]:[s,x,{onFocus:Nu(u,b),onBlur:Nu(f,S),onMouseEnter:Nu(m,b),onMouseLeave:Nu(h,S),onTouchStart:Nu(v,b)}]:[!1,x,{}]}function Nu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function tz({page:e,...t}){let{router:r}=eO(),n=j.useMemo(()=>B_(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?j.createElement(nz,{page:e,matches:n,...t}):null}function rz(e){let{manifest:t,routeModules:r}=tO(),[n,a]=j.useState([]);return j.useEffect(()=>{let s=!1;return K6(e,t,r).then(c=>{s||a(c)}),()=>{s=!0}},[e,t,r]),n}function nz({page:e,matches:t,...r}){let n=ba(),{future:a,manifest:s,routeModules:c}=tO(),{basename:u}=eO(),{loaderData:f,matches:m}=J6(),h=j.useMemo(()=>gC(e,t,m,s,n,"data"),[e,t,m,s,n]),v=j.useMemo(()=>gC(e,t,m,s,n,"assets"),[e,t,m,s,n]),x=j.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let w=new Set,y=!1;if(t.forEach(M=>{let A=s.routes[M.route.id];!A||!A.hasLoader||(!h.some(_=>_.route.id===M.route.id)&&M.route.id in f&&c[M.route.id]?.shouldRevalidate||A.hasClientLoader?y=!0:w.add(M.route.id))}),w.size===0)return[];let C=Y6(e,u,a.unstable_trailingSlashAwareDataRequests,"data");return y&&w.size>0&&C.searchParams.set("_routes",t.filter(M=>w.has(M.route.id)).map(M=>M.route.id).join(",")),[C.pathname+C.search]},[u,a.unstable_trailingSlashAwareDataRequests,f,n,s,h,t,e,c]),b=j.useMemo(()=>W6(v,s),[v,s]),S=rz(v);return j.createElement(j.Fragment,null,x.map(w=>j.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),b.map(w=>j.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),S.map(({key:w,link:y})=>j.createElement("link",{key:w,nonce:r.nonce,...y,crossOrigin:y.crossOrigin??r.crossOrigin})))}function az(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var iz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iz&&(window.__reactRouterVersion="7.13.0")}catch{}function sz({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=j.useRef();a.current==null&&(a.current=zL({window:n,v5Compat:!0}));let s=a.current,[c,u]=j.useState({action:s.action,location:s.location}),f=j.useCallback(m=>{r===!1?u(m):j.startTransition(()=>u(m))},[r]);return j.useLayoutEffect(()=>s.listen(f),[s,f]),j.createElement(I6,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:s,unstable_useTransitions:r})}var rO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gl=j.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:c,state:u,target:f,to:m,preventScrollReset:h,viewTransition:v,unstable_defaultShouldRevalidate:x,...b},S){let{basename:w,unstable_useTransitions:y}=j.useContext(Rn),C=typeof m=="string"&&rO.test(m),M=U_(m,w);m=M.to;let A=g6(m,{relative:a}),[_,E,T]=ez(n,b),P=cz(m,{replace:c,state:u,target:f,preventScrollReset:h,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:x,unstable_useTransitions:y});function O(R){t&&t(R),R.defaultPrevented||P(R)}let L=j.createElement("a",{...b,...T,href:M.absoluteURL||A,onClick:M.isExternal||s?t:O,ref:az(S,E),target:f,"data-discover":!C&&r==="render"?"true":void 0});return _&&!C?j.createElement(j.Fragment,null,L,j.createElement(tz,{page:A})):L});gl.displayName="Link";var nO=j.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:c,viewTransition:u,children:f,...m},h){let v=bd(c,{relative:m.relative}),x=ba(),b=j.useContext(Nh),{navigator:S,basename:w}=j.useContext(Rn),y=b!=null&&pz(v)&&u===!0,C=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,M=x.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(M=M.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&w&&(A=ki(A,w)||A);const _=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let E=M===C||!a&&M.startsWith(C)&&M.charAt(_)==="/",T=A!=null&&(A===C||!a&&A.startsWith(C)&&A.charAt(C.length)==="/"),P={isActive:E,isPending:T,isTransitioning:y},O=E?t:void 0,L;typeof n=="function"?L=n(P):L=[n,E?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(P):s;return j.createElement(gl,{...m,"aria-current":O,className:L,ref:h,style:R,to:c,viewTransition:u},typeof f=="function"?f(P):f)});nO.displayName="NavLink";var lz=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:c=Km,action:u,onSubmit:f,relative:m,preventScrollReset:h,viewTransition:v,unstable_defaultShouldRevalidate:x,...b},S)=>{let{unstable_useTransitions:w}=j.useContext(Rn),y=fz(),C=mz(u,{relative:m}),M=c.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&rO.test(u),_=E=>{if(f&&f(E),E.defaultPrevented)return;E.preventDefault();let T=E.nativeEvent.submitter,P=T?.getAttribute("formmethod")||c,O=()=>y(T||E.currentTarget,{fetcherKey:t,method:P,navigate:r,replace:a,state:s,relative:m,preventScrollReset:h,viewTransition:v,unstable_defaultShouldRevalidate:x});w&&r!==!1?j.startTransition(()=>O()):O()};return j.createElement("form",{ref:S,method:M,action:C,onSubmit:n?f:_,...b,"data-discover":!A&&e==="render"?"true":void 0})});lz.displayName="Form";function oz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aO(e){let t=j.useContext(fc);return Kt(t,oz(e)),t}function cz(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:c,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let m=Hl(),h=ba(),v=bd(e,{relative:s});return j.useCallback(x=>{if($6(x,t)){x.preventDefault();let b=r!==void 0?r:Xu(h)===Xu(v),S=()=>m(e,{replace:b,state:n,preventScrollReset:a,relative:s,viewTransition:c,unstable_defaultShouldRevalidate:u});f?j.startTransition(()=>S()):S()}},[h,m,v,r,n,t,e,a,s,c,u,f])}var uz=0,dz=()=>`__${String(++uz)}__`;function fz(){let{router:e}=aO("useSubmit"),{basename:t}=j.useContext(Rn),r=_6(),n=e.fetch,a=e.navigate;return j.useCallback(async(s,c={})=>{let{action:u,method:f,encType:m,formData:h,body:v}=U6(s,t);if(c.navigate===!1){let x=c.fetcherKey||dz();await n(x,r,c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:h,body:v,formMethod:c.method||f,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:h,body:v,formMethod:c.method||f,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,a,t,r])}function mz(e,{relative:t}={}){let{basename:r}=j.useContext(Rn),n=j.useContext(ga);Kt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...bd(e||".",{relative:t})},c=ba();if(e==null){s.search=c.search;let u=new URLSearchParams(s.search),f=u.getAll("index");if(f.some(h=>h==="")){u.delete("index"),f.filter(v=>v).forEach(v=>u.append("index",v));let h=u.toString();s.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Ci([r,s.pathname])),Xu(s)}function pz(e,{relative:t}={}){let r=j.useContext(V_);Kt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=aO("useViewTransitionState"),a=bd(e,{relative:t});if(!r.isTransitioning)return!1;let s=ki(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=ki(r.nextLocation.pathname,n)||r.nextLocation.pathname;return up(a.pathname,c)!=null||up(a.pathname,s)!=null}var pc=F_();const hz=Wa(pc),vz="AKfycbxE3XLsPtfg8goiLv8szt3-_Jokx-fzU5Nmevxzp48b-ZAW6J5Kp3GAGtbBue84JBkt",f1="cf_access_token",m1="cf_token_expiry",p1="cf_user_name";function fp(){const e=localStorage.getItem(m1);return e&&Date.now()>Number(e)?(Qm(),null):localStorage.getItem(f1)}function bC(e,t=3500){localStorage.setItem(f1,e),localStorage.setItem(m1,String(Date.now()+t*1e3))}function Qm(){localStorage.removeItem(f1),localStorage.removeItem(m1),localStorage.removeItem(p1)}function yC(){return!!fp()}function wC(e){localStorage.setItem(p1,e)}function xz(){return localStorage.getItem(p1)||""}let Kb=null;function gz(e){Kb=e}async function Me(e,t={},r=!0){const n=fp();if(!n)throw new Error("Not authenticated. Please sign in.");const u=await(await fetch(`https://script.googleapis.com/v1/scripts/${vz}:run`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({function:"apiRouter",devMode:!1,parameters:[{action:e,params:t,userName:xz()}]})})).json();if(u.error){if(r&&(u.error.code===401||u.error.code===403||u.error.status==="UNAUTHENTICATED"||u.error.status==="PERMISSION_DENIED")&&Kb)try{return await Kb(),Me(e,t,!1)}catch{}if(u.error.details&&u.error.details.length>0){const f=u.error.details[0];throw new Error(f.errorMessage||"Script execution error")}throw new Error(u.error.message||"API error")}if(u.response&&u.response.result!==void 0){const f=u.response.result;if(f&&!f.success){const h=new Error(f.error||"Unknown error");throw h.code=f.code,h}const m=f?f.data:null;if(m&&m.success===!1)throw new Error(m.message||"Operation failed");return m}throw new Error("Unexpected response format")}const jC=()=>Me("auth:me"),bz=(e,t)=>Me("auth:invite",{email:e,name:t}),mp=()=>Me("data:load-all"),iO=()=>Me("members:list"),sO=e=>Me("member:create",e),lO=e=>Me("member:update",e),oO=e=>Me("member:delete",{memberId:e}),cO=()=>Me("banks:list"),uO=e=>Me("bank:create",e),yz=e=>Me("bank:update",e),dO=e=>Me("bank:delete",{accountId:e}),fO=()=>Me("invaccounts:list"),mO=e=>Me("invacct:create",e),wz=e=>Me("invacct:update",e),pO=e=>Me("invacct:delete",{accountId:e}),jz=()=>Me("portfolios:list"),Nz=e=>Me("portfolio:create",e),Sz=e=>Me("portfolio:update",e),Cz=e=>Me("portfolio:delete",{portfolioId:e}),Az=e=>Me("mf:invest",e),Mz=e=>Me("mf:redeem",e),Dz=e=>Me("mf:switch",e),kz=(e,t)=>Me("mf:allocations-update",{portfolioId:e,allocations:t}),Ez=()=>Me("funds:all"),_z=e=>Me("asset-allocation:save",e),hO=()=>Me("goals:list"),vO=e=>Me("goal:create",e),Oz=(e,t)=>Me("goal:update",{goalId:e,...t}),xO=e=>Me("goal:delete",{goalId:e}),Tz=()=>Me("goal:mappings-list"),Pz=(e,t)=>Me("goal:mappings-update",{goalId:e,mappings:t}),gO=()=>Me("insurance:list"),bO=e=>Me("insurance:create",e),Iz=e=>Me("insurance:update",e),yO=e=>Me("insurance:delete",{policyId:e}),wO=()=>Me("liabilities:list"),jO=e=>Me("liability:create",e),Rz=e=>Me("liability:update",e),NO=e=>Me("liability:delete",{liabilityId:e}),SO=()=>Me("otherinv:list"),CO=e=>Me("otherinv:create",e),Lz=e=>Me("otherinv:update",e),AO=e=>Me("otherinv:delete",{investmentId:e}),MO=()=>Me("stock-portfolios:list"),DO=e=>Me("stock-portfolio:create",e),zz=e=>Me("stock-portfolio:update",e),kO=e=>Me("stock-portfolio:delete",{portfolioId:e}),Fz=e=>Me("stock:buy",e),Bz=e=>Me("stock:sell",e),$z=e=>Me("mf-transaction:delete",{transactionId:e}),qz=e=>Me("mf-transaction:edit",e),Hz=()=>Me("mf-holdings:list"),Uz=()=>Me("mf-transactions:list"),Yz=()=>Me("stock-holdings:list-all"),Vz=()=>Me("stock-transactions:list-all"),EO=()=>Me("reminders:list"),_O=e=>Me("reminder:create",e),Gz=e=>Me("reminder:update",e),OO=e=>Me("reminder:delete",{reminderId:e}),Kz=e=>Me("healthcheck:save",e),TO=()=>Me("healthcheck:get"),Wz=()=>Me("settings:list"),Qz=e=>Me("settings:update",e),Xz=()=>Me("market:data"),Zz=()=>Me("data:refresh-master");typeof window<"u"&&(window._cf={callAPI:Me,checkTriggers:()=>Me("test:triggers"),diagnose:()=>Me("test:diagnose")});const Jz="capital-friends",eF=1,hn="cache";let Su=null;function hc(){return Su||(Su=new Promise((e,t)=>{const r=indexedDB.open(Jz,eF);r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains(hn)||a.createObjectStore(hn,{keyPath:"key"})},r.onsuccess=()=>e(r.result),r.onerror=()=>{console.warn("[idb] Failed to open database:",r.error),Su=null,t(r.error)}}),Su)}async function PO(e){try{const t=await hc();return new Promise(r=>{const a=t.transaction(hn,"readonly").objectStore(hn).get(e);a.onsuccess=()=>r(a.result?a.result.data:null),a.onerror=()=>r(null)})}catch{return null}}async function tF(e){try{const t=await hc();return new Promise(r=>{const a=t.transaction(hn,"readonly").objectStore(hn).get(e);a.onsuccess=()=>r(a.result||null),a.onerror=()=>r(null)})}catch{return null}}async function cn(e,t){try{const r=await hc();return new Promise(n=>{const a=r.transaction(hn,"readwrite");a.objectStore(hn).put({key:e,data:t,updatedAt:Date.now()}),a.oncomplete=()=>n(),a.onerror=()=>n()})}catch{}}async function rF(){try{const e=await hc();return new Promise(t=>{const n=e.transaction(hn,"readonly").objectStore(hn).getAll();n.onsuccess=()=>{const a={};for(const s of n.result||[])a[s.key]=s.data;t(a)},n.onerror=()=>t({})})}catch{return{}}}async function U0(e){try{const t=await hc();return new Promise(r=>{const n=t.transaction(hn,"readwrite"),a=n.objectStore(hn),s=Date.now();for(const[c,u]of Object.entries(e))a.put({key:c,data:u,updatedAt:s});n.oncomplete=()=>r(),n.onerror=()=>r()})}catch{}}async function nF(){try{const e=await hc();return new Promise(t=>{const r=e.transaction(hn,"readwrite");r.objectStore(hn).clear(),r.oncomplete=()=>t(),r.onerror=()=>t()})}catch{}}const IO=j.createContext(null),aF="868467315292-7hfrvkh8pq8f1e2l3v38m6qrupboa295.apps.googleusercontent.com",iF=["https://www.googleapis.com/auth/spreadsheets","https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/gmail.send","https://www.googleapis.com/auth/script.scriptapp","openid","email","profile"].join(" "),h1="cf_user_profile";function NC(){try{const e=localStorage.getItem(h1);return e?JSON.parse(e):null}catch{return null}}function sF(e){try{localStorage.setItem(h1,JSON.stringify(e))}catch{}}function SC(){localStorage.removeItem(h1)}function lF({children:e}){const t=yC()?NC():null,[r,n]=j.useState(t),[a,s]=j.useState(!t),[c,u]=j.useState(null),f=j.useRef(null);function m(C){n(C),C?sF(C):SC()}j.useEffect(()=>{const C=()=>{if(!window.google?.accounts?.oauth2){setTimeout(C,200);return}f.current=window.google.accounts.oauth2.initTokenClient({client_id:aF,scope:iF,callback:h}),gz(b),yC()?x():s(!1)};C()},[]);async function h(C){if(C.error){u(C.error_description||C.error),s(!1);return}try{s(!0),u(null),bC(C.access_token,C.expires_in);const M=await v(C.access_token);wC(M.name||"");const A=await jC();m({email:A.email||M.email,name:A.name||M.name,role:A.role,picture:M.picture||""})}catch(M){u(M.message),Qm(),m(null)}finally{s(!1)}}async function v(C){const M=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${C}`}});if(!M.ok)throw new Error("Failed to fetch user profile");return M.json()}async function x(){const C=!!NC();try{const M=fp(),A=await v(M);wC(A.name||"");const _=await jC();m({email:_.email||A.email,name:_.name||A.name,role:_.role,picture:A.picture||""})}catch{Qm(),m(null)}finally{C||s(!1)}}function b(){return new Promise((C,M)=>{if(!f.current){M(new Error("Token client not initialized"));return}const A=f.current,_=A.callback;A.callback=E=>{A.callback=_,E.error?M(new Error(E.error)):(bC(E.access_token,E.expires_in),C())},A.requestAccessToken({prompt:""})})}const S=j.useCallback(()=>{f.current&&(u(null),f.current.requestAccessToken())},[]),w=j.useCallback(()=>{const C=fp();C&&window.google?.accounts?.oauth2&&window.google.accounts.oauth2.revoke(C),Qm(),SC(),nF(),sessionStorage.removeItem("cf_health_check"),n(null)},[]),y={user:r,loading:a,error:c,isAuthenticated:!!r,isOwner:r?.role==="owner",signIn:S,signOut:w};return l.jsx(IO.Provider,{value:y,children:e})}function Ul(){const e=j.useContext(IO);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const RO=j.createContext();function oF({children:e}){const[t,r]=j.useState(()=>{const a=localStorage.getItem("cf-theme");return a||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")});j.useEffect(()=>{localStorage.setItem("cf-theme",t),document.documentElement.setAttribute("data-theme",t)},[t]);const n=()=>r(a=>a==="dark"?"light":"dark");return l.jsx(RO.Provider,{value:{theme:t,toggle:n},children:e})}function LO(){return j.useContext(RO)}const zO=j.createContext(),FO="cf_hc_done";function cF(){try{return sessionStorage.getItem(FO)==="1"?!0:null}catch{return null}}function ko(e){try{sessionStorage.setItem(FO,e?"1":"0")}catch{}}function uF({children:e}){const{isAuthenticated:t}=Ul(),r=t?cF():null,[n,a]=j.useState(!0),[s,c]=j.useState(!1),[u,f]=j.useState(null),[m,h]=j.useState(null),[v,x]=j.useState(null),[b,S]=j.useState(null),[w,y]=j.useState(null),[C,M]=j.useState(null),[A,_]=j.useState(null),[E,T]=j.useState(null),[P,O]=j.useState(null),[L,R]=j.useState(null),[F,k]=j.useState(null),[X,W]=j.useState(null),[Z,B]=j.useState(null),[G,z]=j.useState(null),[ne,ge]=j.useState(null),[$,ie]=j.useState(null),[pe,ue]=j.useState(null),[je,he]=j.useState(null),[ve,Ae]=j.useState(r!==null?r:null),re=j.useRef(!1),Le=j.useCallback(U=>{U&&("members"in U&&h(U.members||[]),"bankAccounts"in U&&x(U.bankAccounts||[]),"investments"in U&&S(U.investments||[]),"insurancePolicies"in U&&y(U.insurancePolicies||[]),"liabilities"in U&&M(U.liabilities||[]),"otherInvestments"in U&&_(U.otherInvestments||[]),"stockPortfolios"in U&&T(U.stockPortfolios||[]),"stockHoldings"in U&&O(U.stockHoldings||[]),"stockTransactions"in U&&R(U.stockTransactions||[]),"mfPortfolios"in U&&k(U.mfPortfolios||[]),"mfHoldings"in U&&W((U.mfHoldings||[]).map(ye=>ye.schemeCode?ye:{...ye,schemeCode:ye.fundCode})),"mfTransactions"in U&&B(U.mfTransactions||[]),"goals"in U&&z(U.goals||[]),"reminders"in U&&ge(U.reminders||[]),"goalPortfolioMappings"in U&&ie(U.goalPortfolioMappings||[]),"assetAllocations"in U&&ue(U.assetAllocations||[]),"settings"in U&&he(U.settings||{}))},[]),He=j.useCallback(U=>{U0({members:U.members||[],bankAccounts:U.bankAccounts||[],investments:U.investments||[],insurancePolicies:U.insurancePolicies||[],liabilities:U.liabilities||[],otherInvestments:U.otherInvestments||[],stockPortfolios:U.stockPortfolios||[],stockHoldings:U.stockHoldings||[],stockTransactions:U.stockTransactions||[],mfPortfolios:U.mfPortfolios||[],mfHoldings:U.mfHoldings||[],mfTransactions:U.mfTransactions||[],goals:U.goals||[],reminders:U.reminders||[],goalPortfolioMappings:U.goalPortfolioMappings||[],assetAllocations:U.assetAllocations||[]})},[]),xe=j.useCallback(async(U=!1)=>{try{U?c(!0):a(!0),f(null);const ye=await mp();Le(ye),He(ye)}catch(ye){f(ye.message)}finally{a(!1),c(!1)}},[Le,He]),Fe=j.useCallback(async()=>{const U=await iO();h(U||[]),cn("members",U||[])},[]),$e=j.useCallback(async()=>{const U=await cO();x(U||[]),cn("bankAccounts",U||[])},[]),Ve=j.useCallback(async()=>{const U=await fO();S(U||[]),cn("investments",U||[])},[]),wt=j.useCallback(async()=>{const U=await gO();y(U||[]),cn("insurancePolicies",U||[])},[]),Et=j.useCallback(async()=>{const U=await wO();M(U||[]),cn("liabilities",U||[])},[]),Oe=j.useCallback(async()=>{const U=await SO();_(U||[]),cn("otherInvestments",U||[])},[]),tt=j.useCallback(async()=>{const[U,ye]=await Promise.all([hO(),Tz()]);z(U||[]),ie(ye||[]),cn("goals",U||[]),cn("goalPortfolioMappings",ye||[])},[]),zt=j.useCallback(async()=>{const U=await EO();ge(U||[]),cn("reminders",U||[])},[]),at=j.useCallback(async()=>{const[U,ye,mt]=await Promise.all([jz(),Hz(),Uz()]),Jr=(ye||[]).map(Na=>Na.schemeCode?Na:{...Na,schemeCode:Na.fundCode});k(U||[]),W(Jr),B(mt||[]),U0({mfPortfolios:U||[],mfHoldings:Jr,mfTransactions:mt||[]})},[]),xt=j.useCallback(async()=>{const[U,ye,mt]=await Promise.all([MO(),Yz(),Vz()]);T(U||[]),O(ye||[]),R(mt||[]),U0({stockPortfolios:U||[],stockHoldings:ye||[],stockTransactions:mt||[]})},[]),Qt=j.useCallback(async()=>{const U=await Wz();he(U||{}),cn("settings",U||{})},[]),Xt=j.useCallback(async U=>{await Qz(U),await Qt()},[Qt]),Gi=j.useCallback(async()=>{try{const U=await PO("healthCheckAnswers");if(U&&Object.keys(U).length>0){Ae(!0),ko(!0);return}const ye=await TO();ye&&Object.keys(ye).length>0?(Ae(!0),ko(!0),cn("healthCheckAnswers",ye)):(Ae(!1),ko(!1))}catch{Ae(!1),ko(!1)}},[]),V=j.useCallback(async U=>{const ye=await Kz(U);return ye?.success&&(Ae(!0),ko(!0),cn("healthCheckAnswers",U)),ye},[]);j.useEffect(()=>{if(!t){a(!1);return}if(re.current)return;re.current=!0;async function U(){const ye=await rF(),mt=Object.keys(ye).length>0;mt&&(Le(ye),ye.healthCheckAnswers&&Object.keys(ye.healthCheckAnswers).length>0&&(Ae(!0),ko(!0)),a(!1));try{mt&&c(!0);const Jr=await mp();Le(Jr),He(Jr)}catch(Jr){mt||f(Jr.message)}finally{a(!1),c(!1)}}U(),Qt().catch(()=>{}),r===null&&Gi().catch(()=>{})},[t,Le,He,Qt,Gi]),j.useEffect(()=>{t||(re.current=!1)},[t]);const q=j.useCallback(async U=>{const ye=await sO(U);if(U.email)try{await bz(U.email,U.memberName)}catch(mt){console.warn("Auto-invite failed (non-blocking):",mt.message)}return await Fe(),ye},[Fe]),Q=j.useCallback(async(U,ye)=>{await lO({memberId:U,...ye}),await Fe()},[Fe]),we=j.useCallback(async U=>{await oO(U),await Fe()},[Fe]),Ie=j.useCallback(async U=>{const ye=await uO(U);return await $e(),ye},[$e]),be=j.useCallback(async(U,ye)=>{await yz({accountId:U,...ye}),await $e()},[$e]),pt=j.useCallback(async U=>{await dO(U),await $e()},[$e]),Be=j.useCallback(async U=>{const ye=await mO(U);return await Ve(),ye},[Ve]),Re=j.useCallback(async(U,ye)=>{await wz({accountId:U,...ye}),await Ve()},[Ve]),Xe=j.useCallback(async U=>{await pO(U),await Ve()},[Ve]),Ze=j.useCallback(async U=>{const ye=await bO(U);return await wt(),ye},[wt]),Zt=j.useCallback(async(U,ye)=>{await Iz({policyId:U,...ye}),await wt()},[wt]),ht=j.useCallback(async U=>{await yO(U),await wt()},[wt]),Ne=j.useCallback(async U=>{const ye=await jO(U);return await Et(),ye},[Et]),Ke=j.useCallback(async(U,ye)=>{await Rz({liabilityId:U,...ye}),await Et()},[Et]),ke=j.useCallback(async U=>{await NO(U),await Et()},[Et]),jt=j.useCallback(async U=>{const ye=await CO(U);return await Oe(),U.quickLoan&&await Et(),ye},[Oe,Et]),Jt=j.useCallback(async(U,ye)=>{await Lz({investmentId:U,...ye}),await Oe(),await Et()},[Oe,Et]),cr=j.useCallback(async U=>{await AO(U),await Oe()},[Oe]),xn=j.useCallback(async U=>{const ye=await vO(U);return await tt(),ye},[tt]),Sv=j.useCallback(async(U,ye)=>{await Oz(U,ye),await tt()},[tt]),Ud=j.useCallback(async U=>{await xO(U),await tt()},[tt]),Dc=j.useCallback(async U=>{const ye=await _O(U);return await zt(),ye},[zt]),Ys=j.useCallback(async(U,ye)=>{await Gz({reminderId:U,...ye}),await zt()},[zt]),Cv=j.useCallback(async U=>{await OO(U),await zt()},[zt]),Yd=j.useCallback(async(U,ye)=>{await Pz(U,ye),await tt()},[tt]),Vd=j.useCallback(async U=>{const ye=await DO(U);return await xt(),ye},[xt]),Gd=j.useCallback(async(U,ye)=>{await zz({portfolioId:U,...ye}),await xt()},[xt]),kc=j.useCallback(async U=>{await kO(U),await xt()},[xt]),Ec=j.useCallback(async U=>{const ye=await Fz(U);return await xt(),ye},[xt]),Kd=j.useCallback(async U=>{const ye=await Bz(U);return await xt(),ye},[xt]),Wd=j.useCallback(async U=>{const ye=await Nz(U);return await at(),ye},[at]),ja=j.useCallback(async(U,ye)=>{await Sz({portfolioId:U,...ye}),await at()},[at]),wr=j.useCallback(async U=>{await Cz(U),await at()},[at]),Br=j.useCallback(async(U,ye)=>{const mt=await Az({...U,transactionType:ye});return await at(),mt},[at]),Ki=j.useCallback(async U=>{const ye=await Mz(U);return await at(),ye},[at]),_c=j.useCallback(async U=>{const ye=await Dz(U);return await at(),ye},[at]),Av=j.useCallback(async(U,ye)=>{await kz(U,ye),await at()},[at]),Mv=j.useCallback(async U=>{await $z(U),await at()},[at]),Qd=j.useCallback(async U=>{await qz(U),await at()},[at]),Vs=j.useCallback(async U=>{const ye=await _z(U);return ue(mt=>{const Jr=mt||[],Na=Jr.findIndex(gn=>gn.fundCode===U.fundCode),Vr={};U.equity&&(Vr.Equity=U.equity),U.debt&&(Vr.Debt=U.debt),U.cash&&(Vr.Cash=U.cash),U.realEstate&&(Vr["Real Estate"]=U.realEstate),U.commodities&&(Vr.Commodities=U.commodities),U.customAsset&&Object.entries(U.customAsset).forEach(([gn,Sa])=>{Sa>0&&(Vr[gn]=Sa)});const en={};U.giantCap&&(en.Giant=U.giantCap),U.largeCap&&(en.Large=U.largeCap),U.midCap&&(en.Mid=U.midCap),U.smallCap&&(en.Small=U.smallCap),U.microCap&&(en.Micro=U.microCap),U.customCap&&Object.entries(U.customCap).forEach(([gn,Sa])=>{Sa>0&&(en[gn]=Sa)});const Kl={};U.geoIndia&&(Kl.India=U.geoIndia),U.geoGlobal&&(Kl.Global=U.geoGlobal),U.customGeo&&Object.entries(U.customGeo).forEach(([gn,Sa])=>{Sa>0&&(Kl[gn]=Sa)});const Tc={fundCode:U.fundCode,fundName:U.fundName,assetAllocation:Vr,equityAllocation:en,geoAllocation:Kl};if(Na>=0){const gn=[...Jr];return gn[Na]=Tc,gn}return[...Jr,Tc]}),ye},[]),Oc=(m||[]).filter(U=>U.status==="Active"),Wi=(v||[]).filter(U=>U.status==="Active"),Qi=(b||[]).filter(U=>U.status==="Active");return l.jsx(zO.Provider,{value:{loading:n,isRefreshing:s,error:u,refreshData:xe,members:m,banks:v,investmentAccounts:b,insurancePolicies:w,liabilityList:C,otherInvList:A,activeMembers:Oc,activeBanks:Wi,activeInvestmentAccounts:Qi,addMember:q,updateMember:Q,deleteMember:we,addBankAccount:Ie,updateBankAccount:be,deleteBankAccount:pt,addInvestmentAccount:Be,updateInvestmentAccount:Re,deleteInvestmentAccount:Xe,addInsurance:Ze,updateInsurance:Zt,deleteInsurance:ht,addLiability:Ne,updateLiability:Ke,deleteLiability:ke,addOtherInvestment:jt,updateOtherInvestment:Jt,deleteOtherInvestment:cr,goalList:G,addGoal:xn,updateGoal:Sv,deleteGoal:Ud,reminderList:ne,addReminder:Dc,updateReminder:Ys,deleteReminder:Cv,goalPortfolioMappings:$,updateGoalMappings:Yd,assetAllocations:pe,updateAssetAllocation:Vs,stockPortfolios:E,stockHoldings:P,stockTransactions:L,addStockPortfolio:Vd,updateStockPortfolio:Gd,deleteStockPortfolio:kc,buyStock:Ec,sellStock:Kd,mfPortfolios:F,mfHoldings:X,mfTransactions:Z,addMFPortfolio:Wd,updateMFPortfolio:ja,deleteMFPortfolio:wr,investMF:Br,redeemMF:Ki,switchMF:_c,updateHoldingAllocations:Av,deleteMFTransaction:Mv,editMFTransaction:Qd,settings:je,updateSettings:Xt,refreshSettings:Qt,healthCheckCompleted:ve,completeHealthCheck:V},children:e})}function dt(){return j.useContext(zO)}const BO=j.createContext();function dF({children:e}){const{activeMembers:t}=dt(),[r,n]=j.useState("all"),a=t.find(s=>s.memberId===r)||null;return l.jsx(BO.Provider,{value:{selectedMember:r,setSelectedMember:n,member:a,familyMembers:t},children:e})}function zr(){return j.useContext(BO)}const $O=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();const fF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const mF=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());const CC=e=>{const t=mF(e);return t.charAt(0).toUpperCase()+t.slice(1)};var pF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hF=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const vF=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:c,...u},f)=>j.createElement("svg",{ref:f,...pF,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:$O("lucide",a),...!s&&!hF(u)&&{"aria-hidden":"true"},...u},[...c.map(([m,h])=>j.createElement(m,h)),...Array.isArray(s)?s:[s]]));const De=(e,t)=>{const r=j.forwardRef(({className:n,...a},s)=>j.createElement(vF,{ref:s,iconNode:t,className:$O(`lucide-${fF(CC(e))}`,`lucide-${e}`,n),...a}));return r.displayName=CC(e),r};const xF=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],gF=De("arrow-down",xF);const bF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],yF=De("arrow-left",bF);const wF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],jF=De("arrow-right",wF);const NF=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],SF=De("arrow-up-down",NF);const CF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],AF=De("bell-off",CF);const MF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ch=De("bell",MF);const DF=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],qO=De("briefcase",DF);const kF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],EF=De("calendar",kF);const _F=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Gu=De("chart-column",_F);const OF=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],AC=De("chart-pie",OF);const TF=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Wb=De("check",TF);const PF=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ol=De("chevron-down",PF);const IF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],RF=De("chevron-left",IF);const LF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Zu=De("chevron-right",LF);const zF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],Qb=De("circle-arrow-down",zF);const FF=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],BF=De("circle-check-big",FF);const $F=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vc=De("circle-check",$F);const qF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],HO=De("circle-x",qF);const HF=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],UO=De("clipboard-check",HF);const UF=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],YF=De("coffee",UF);const VF=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],GF=De("construction",VF);const KF=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],WF=De("copy",KF);const QF=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Ah=De("credit-card",QF);const XF=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ZF=De("database",XF);const JF=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],e8=De("dollar-sign",JF);const t8=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],r8=De("ellipsis-vertical",t8);const n8=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],a8=De("ellipsis",n8);const i8=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pp=De("eye",i8);const s8=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ku=De("eye-off",s8);const l8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],o8=De("file-spreadsheet",l8);const c8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],u8=De("file-text",c8);const d8=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],YO=De("funnel",d8);const f8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],m8=De("globe",f8);const p8=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],hp=De("heart",p8);const h8=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],v8=De("indian-rupee",h8);const x8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],g8=De("info",x8);const b8=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],y8=De("landmark",b8);const w8=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],VO=De("layers",w8);const j8=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],GO=De("link-2",j8);const N8=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Wu=De("list",N8);const S8=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],KO=De("loader-circle",S8);const C8=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Y0=De("lock",C8);const A8=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],M8=De("log-in",A8);const D8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],WO=De("log-out",D8);const k8=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],E8=De("mail",k8);const _8=[["path",{d:"M5 12h14",key:"1ays0h"}]],O8=De("minus",_8);const T8=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Xb=De("moon",T8);const P8=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],QO=De("package",P8);const I8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ya=De("pencil",I8);const R8=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],L8=De("piggy-bank",R8);const z8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yr=De("plus",z8);const F8=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Uo=De("refresh-cw",F8);const B8=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],MC=De("repeat-2",B8);const $8=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],q8=De("repeat",$8);const H8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],XO=De("save",H8);const U8=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ZO=De("search",U8);const Y8=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],JO=De("settings-2",Y8);const V8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eT=De("settings",V8);const G8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],K8=De("shield-alert",G8);const W8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Qu=De("shield",W8);const Q8=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],vp=De("sun",Q8);const X8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Mh=De("target",X8);const Z8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Dh=De("trash-2",Z8);const J8=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],xp=De("trending-down",J8);const eB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Tl=De("trending-up",eB);const tB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Es=De("triangle-alert",tB);const rB=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],DC=De("trophy",rB);const nB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],aB=De("user",nB);const iB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Wo=De("users",iB);const sB=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Xm=De("wallet",sB);const lB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pl=De("x",lB);const oB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zb=De("zap",oB),tT=j.createContext();function cB({children:e}){const[t,r]=j.useState([]),[n,a]=j.useState(null),s=j.useRef(0),c=j.useCallback((h,v="success",x=3e3)=>{const b=++s.current;r(S=>[...S,{id:b,message:h,type:v}]),setTimeout(()=>r(S=>S.filter(w=>w.id!==b)),x)},[]),u=j.useCallback(h=>{r(v=>v.filter(x=>x.id!==h))},[]),f=j.useCallback((h="Saving...")=>{a(h)},[]),m=j.useCallback(()=>{a(null)},[]);return l.jsxs(tT.Provider,{value:{showToast:c,showBlockUI:f,hideBlockUI:m},children:[e,n&&l.jsx("div",{className:"fixed inset-0 z-[200] bg-black/50 backdrop-blur-sm flex items-center justify-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-3 bg-[var(--bg-card)] rounded-xl px-8 py-6 border border-[var(--border)] shadow-2xl",children:[l.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),l.jsx("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:n})]})}),t.length>0&&l.jsx("div",{className:"fixed bottom-20 sm:bottom-6 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-2 items-center pointer-events-none",children:t.map(h=>l.jsxs("div",{className:`pointer-events-auto flex items-center gap-2 px-4 py-2.5 rounded-lg shadow-xl border text-sm font-medium animate-fade-in ${h.type==="error"?"bg-rose-500/15 border-rose-500/30 text-[var(--accent-rose)]":h.type==="warning"?"bg-amber-500/15 border-amber-500/30 text-amber-400":"bg-emerald-500/15 border-emerald-500/30 text-emerald-400"}`,style:{backdropFilter:"blur(12px)"},children:[h.type==="error"?l.jsx(HO,{size:16}):h.type==="warning"?l.jsx(Es,{size:16}):l.jsx(vc,{size:16}),l.jsx("span",{children:h.message}),l.jsx("button",{onClick:()=>u(h.id),className:"ml-1 opacity-60 hover:opacity-100 transition-opacity",children:l.jsx(Pl,{size:14})})]},h.id))})]})}function Qa(){return j.useContext(tT)}const rT=j.createContext();function uB({children:e}){const[t,r]=j.useState(null),n=j.useRef(null),a=j.useCallback((u,{title:f="Confirm",confirmLabel:m="Yes, proceed",cancelLabel:h="Cancel",destructive:v=!0}={})=>new Promise(x=>{n.current=x,r({message:u,title:f,confirmLabel:m,cancelLabel:h,destructive:v})}),[]);function s(){n.current?.(!0),n.current=null,r(null)}function c(){n.current?.(!1),n.current=null,r(null)}return l.jsxs(rT.Provider,{value:{confirm:a},children:[e,t&&l.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center px-4",onClick:c,children:[l.jsx("div",{className:"fixed inset-0 bg-black/60"}),l.jsxs("div",{className:"relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full max-w-sm p-5 animate-fade-in",onClick:u=>u.stopPropagation(),children:[l.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[l.jsx("span",{className:`shrink-0 w-9 h-9 rounded-full flex items-center justify-center ${t.destructive?"bg-rose-500/15":"bg-violet-500/15"}`,children:l.jsx(Es,{size:18,className:t.destructive?"text-[var(--accent-rose)]":"text-violet-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-bold text-[var(--text-primary)]",children:t.title}),l.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1 leading-relaxed",children:t.message})]})]}),l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx("button",{onClick:c,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:t.cancelLabel}),l.jsx("button",{onClick:s,autoFocus:!0,className:`px-4 py-2 text-xs font-bold text-white rounded-lg transition-colors ${t.destructive?"bg-rose-600 hover:bg-rose-500":"bg-violet-600 hover:bg-violet-500"}`,children:t.confirmLabel})]})]})]})]})}function Xa(){return j.useContext(rT).confirm}const nT=j.createContext(),kC="cf-mask-data";function dB(e){return!e||e.length<4?"":""+e.slice(-4)}function fB(e){return!e||e.length<4?"  ":"  "+e.slice(-4)}function mB(e){return!e||e.length<3?"":""+e.slice(-3)}function pB(e){if(!e)return"@";const[t,r]=e.split("@");if(!r)return"@";const n=t.charAt(0)+"",a=r.split("."),s=a[0].charAt(0)+""+(a.length>1?"."+a.slice(1).join("."):"");return n+"@"+s}function hB(e){return!e||e.length<4?"":""+e.slice(-4)}function vB(e){return!e||e.length<3?"":""+e.slice(-3)}function xB(e){return!e||e.length<4?"":""+e.slice(-4)}function gB(e){return!e||e.length<2?"":e.split(/\s+/).map(t=>t.charAt(0)+"").join(" ")}const bB={pan:dB,aadhaar:fB,mobile:mB,email:pB,account:hB,clientId:vB,policy:xB,name:gB};function yB({children:e}){const[t,r]=j.useState(()=>{try{return localStorage.getItem(kC)==="true"}catch{return!1}});j.useEffect(()=>{try{localStorage.setItem(kC,String(t))}catch{}},[t]);const n=j.useCallback(()=>r(s=>!s),[]),a=j.useCallback((s,c)=>{if(!t||s==null||s==="")return s;const u=bB[c];return u?u(String(s)):s},[t]);return l.jsx(nT.Provider,{value:{masked:t,toggleMask:n,mv:a},children:e})}function Za(){return j.useContext(nT)}function aT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=aT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function nt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=aT(e))&&(n&&(n+=" "),n+=t);return n}var wB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function v1(e){if(typeof e!="string")return!1;var t=wB;return t.includes(e)}var jB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],NB=new Set(jB);function iT(e){return typeof e!="string"?!1:NB.has(e)}function sT(e){return typeof e=="string"&&e.startsWith("data-")}function Qo(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(iT(r)||sT(r))&&(t[r]=e[r]);return t}function Jb(e){if(e==null)return null;if(j.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Qo(t)}return typeof e=="object"&&!Array.isArray(e)?Qo(e):null}function Zn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(iT(r)||sT(r)||v1(r))&&(t[r]=e[r]);return t}var SB=["children","width","height","viewBox","className","style","title","desc"];function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ey.apply(null,arguments)}function CB(e,t){if(e==null)return{};var r,n,a=AB(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function AB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lT=j.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:c,style:u,title:f,desc:m}=e,h=CB(e,SB),v=s||{width:n,height:a,x:0,y:0},x=nt("recharts-surface",c);return j.createElement("svg",ey({},Zn(h),{className:x,width:n,height:a,style:u,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:t}),j.createElement("title",null,f),j.createElement("desc",null,m),r)}),MB=["children","className"];function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ty.apply(null,arguments)}function DB(e,t){if(e==null)return{};var r,n,a=kB(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _s=j.forwardRef((e,t)=>{var{children:r,className:n}=e,a=DB(e,MB),s=nt("recharts-layer",n);return j.createElement("g",ty({className:s},Zn(a),{ref:t}),r)}),EB=j.createContext(null);function Ft(e){return function(){return e}}const oT=Math.cos,gp=Math.sin,wa=Math.sqrt,bp=Math.PI,kh=2*bp,ry=Math.PI,ny=2*ry,ml=1e-6,_B=ny-ml;function cT(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function OB(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return cT;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class TB{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?cT:OB(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,c){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+c}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,u=this._y1,f=n-t,m=a-r,h=c-t,v=u-r,x=h*h+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>ml)if(!(Math.abs(v*f-m*h)>ml)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let b=n-c,S=a-u,w=f*f+m*m,y=b*b+S*S,C=Math.sqrt(w),M=Math.sqrt(x),A=s*Math.tan((ry-Math.acos((w+x-y)/(2*C*M)))/2),_=A/M,E=A/C;Math.abs(_-1)>ml&&this._append`L${t+_*h},${r+_*v}`,this._append`A${s},${s},0,0,${+(v*b>h*S)},${this._x1=t+E*f},${this._y1=r+E*m}`}}arc(t,r,n,a,s,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),f=n*Math.sin(a),m=t+u,h=r+f,v=1^c,x=c?a-s:s-a;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>ml||Math.abs(this._y1-h)>ml)&&this._append`L${m},${h}`,n&&(x<0&&(x=x%ny+ny),x>_B?this._append`A${n},${n},0,1,${v},${t-u},${r-f}A${n},${n},0,1,${v},${this._x1=m},${this._y1=h}`:x>ml&&this._append`A${n},${n},0,${+(x>=ry)},${v},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function x1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new TB(t)}function g1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function uT(e){this._context=e}uT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Eh(e){return new uT(e)}function dT(e){return e[0]}function fT(e){return e[1]}function mT(e,t){var r=Ft(!0),n=null,a=Eh,s=null,c=x1(u);e=typeof e=="function"?e:e===void 0?dT:Ft(e),t=typeof t=="function"?t:t===void 0?fT:Ft(t);function u(f){var m,h=(f=g1(f)).length,v,x=!1,b;for(n==null&&(s=a(b=c())),m=0;m<=h;++m)!(m<h&&r(v=f[m],m,f))===x&&((x=!x)?s.lineStart():s.lineEnd()),x&&s.point(+e(v,m,f),+t(v,m,f));if(b)return s=null,b+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ft(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ft(+f),u):t},u.defined=function(f){return arguments.length?(r=typeof f=="function"?f:Ft(!!f),u):r},u.curve=function(f){return arguments.length?(a=f,n!=null&&(s=a(n)),u):a},u.context=function(f){return arguments.length?(f==null?n=s=null:s=a(n=f),u):n},u}function dm(e,t,r){var n=null,a=Ft(!0),s=null,c=Eh,u=null,f=x1(m);e=typeof e=="function"?e:e===void 0?dT:Ft(+e),t=typeof t=="function"?t:Ft(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?fT:Ft(+r);function m(v){var x,b,S,w=(v=g1(v)).length,y,C=!1,M,A=new Array(w),_=new Array(w);for(s==null&&(u=c(M=f())),x=0;x<=w;++x){if(!(x<w&&a(y=v[x],x,v))===C)if(C=!C)b=x,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=x-1;S>=b;--S)u.point(A[S],_[S]);u.lineEnd(),u.areaEnd()}C&&(A[x]=+e(y,x,v),_[x]=+t(y,x,v),u.point(n?+n(y,x,v):A[x],r?+r(y,x,v):_[x]))}if(M)return u=null,M+""||null}function h(){return mT().defined(a).curve(c).context(s)}return m.x=function(v){return arguments.length?(e=typeof v=="function"?v:Ft(+v),n=null,m):e},m.x0=function(v){return arguments.length?(e=typeof v=="function"?v:Ft(+v),m):e},m.x1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:Ft(+v),m):n},m.y=function(v){return arguments.length?(t=typeof v=="function"?v:Ft(+v),r=null,m):t},m.y0=function(v){return arguments.length?(t=typeof v=="function"?v:Ft(+v),m):t},m.y1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:Ft(+v),m):r},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(r)},m.lineX1=function(){return h().x(n).y(t)},m.defined=function(v){return arguments.length?(a=typeof v=="function"?v:Ft(!!v),m):a},m.curve=function(v){return arguments.length?(c=v,s!=null&&(u=c(s)),m):c},m.context=function(v){return arguments.length?(v==null?s=u=null:u=c(s=v),m):s},m}class pT{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function PB(e){return new pT(e,!0)}function IB(e){return new pT(e,!1)}const b1={draw(e,t){const r=wa(t/bp);e.moveTo(r,0),e.arc(0,0,r,0,kh)}},RB={draw(e,t){const r=wa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},hT=wa(1/3),LB=hT*2,zB={draw(e,t){const r=wa(t/LB),n=r*hT;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},FB={draw(e,t){const r=wa(t),n=-r/2;e.rect(n,n,r,r)}},BB=.8908130915292852,vT=gp(bp/10)/gp(7*bp/10),$B=gp(kh/10)*vT,qB=-oT(kh/10)*vT,HB={draw(e,t){const r=wa(t*BB),n=$B*r,a=qB*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const c=kh*s/5,u=oT(c),f=gp(c);e.lineTo(f*r,-u*r),e.lineTo(u*n-f*a,f*n+u*a)}e.closePath()}},V0=wa(3),UB={draw(e,t){const r=-wa(t/(V0*3));e.moveTo(0,r*2),e.lineTo(-V0*r,-r),e.lineTo(V0*r,-r),e.closePath()}},Gn=-.5,Kn=wa(3)/2,ay=1/wa(12),YB=(ay/2+1)*3,VB={draw(e,t){const r=wa(t/YB),n=r/2,a=r*ay,s=n,c=r*ay+r,u=-s,f=c;e.moveTo(n,a),e.lineTo(s,c),e.lineTo(u,f),e.lineTo(Gn*n-Kn*a,Kn*n+Gn*a),e.lineTo(Gn*s-Kn*c,Kn*s+Gn*c),e.lineTo(Gn*u-Kn*f,Kn*u+Gn*f),e.lineTo(Gn*n+Kn*a,Gn*a-Kn*n),e.lineTo(Gn*s+Kn*c,Gn*c-Kn*s),e.lineTo(Gn*u+Kn*f,Gn*f-Kn*u),e.closePath()}};function GB(e,t){let r=null,n=x1(a);e=typeof e=="function"?e:Ft(e||b1),t=typeof t=="function"?t:Ft(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Ft(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Ft(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function yp(){}function wp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function xT(e){this._context=e}xT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function KB(e){return new xT(e)}function gT(e){this._context=e}gT.prototype={areaStart:yp,areaEnd:yp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:wp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function WB(e){return new gT(e)}function bT(e){this._context=e}bT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:wp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function QB(e){return new bT(e)}function yT(e){this._context=e}yT.prototype={areaStart:yp,areaEnd:yp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function XB(e){return new yT(e)}function EC(e){return e<0?-1:1}function _C(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),c=(r-e._y1)/(a||n<0&&-0),u=(s*a+c*n)/(n+a);return(EC(s)+EC(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(u))||0}function OC(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function G0(e,t,r){var n=e._x0,a=e._y0,s=e._x1,c=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,a+u*t,s-u,c-u*r,s,c)}function jp(e){this._context=e}jp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:G0(this,this._t0,OC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,G0(this,OC(this,r=_C(this,e,t)),r);break;default:G0(this,this._t0,r=_C(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function wT(e){this._context=new jT(e)}(wT.prototype=Object.create(jp.prototype)).point=function(e,t){jp.prototype.point.call(this,t,e)};function jT(e){this._context=e}jT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function ZB(e){return new jp(e)}function JB(e){return new wT(e)}function NT(e){this._context=e}NT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=TC(e),a=TC(t),s=0,c=1;c<r;++s,++c)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function TC(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),c=new Array(r);for(a[0]=0,s[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,c[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,c[t]-=n*c[t-1];for(a[r-1]=c[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(c[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function e$(e){return new NT(e)}function _h(e,t){this._context=e,this._t=t}_h.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function t$(e){return new _h(e,.5)}function r$(e){return new _h(e,0)}function n$(e){return new _h(e,1)}function Il(e,t){if((c=e.length)>1)for(var r=1,n,a,s=e[t[0]],c,u=s.length;r<c;++r)for(a=s,s=e[t[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function iy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function a$(e,t){return e[t]}function i$(e){const t=[];return t.key=e,t}function s$(){var e=Ft([]),t=iy,r=Il,n=a$;function a(s){var c=Array.from(e.apply(this,arguments),i$),u,f=c.length,m=-1,h;for(const v of s)for(u=0,++m;u<f;++u)(c[u][m]=[0,+n(v,c[u].key,m,s)]).data=v;for(u=0,h=g1(t(c));u<f;++u)c[h[u]].index=u;return r(c,h),c}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ft(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ft(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?iy:typeof s=="function"?s:Ft(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Il,a):r},a}function l$(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,c;a<s;++a){for(c=r=0;r<n;++r)c+=e[r][a][1]||0;if(c)for(r=0;r<n;++r)e[r][a][1]/=c}Il(e,t)}}function o$(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var c=0,u=0;c<a;++c)u+=e[c][r][1]||0;n[r][1]+=n[r][0]=-u/2}Il(e,t)}}function c$(e,t){if(!(!((c=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,c;n<s;++n){for(var u=0,f=0,m=0;u<c;++u){for(var h=e[t[u]],v=h[n][1]||0,x=h[n-1][1]||0,b=(v-x)/2,S=0;S<u;++S){var w=e[t[S]],y=w[n][1]||0,C=w[n-1][1]||0;b+=y-C}f+=v,m+=b*v}a[n-1][1]+=a[n-1][0]=r,f&&(r-=m/f)}a[n-1][1]+=a[n-1][0]=r,Il(e,t)}}var K0={},W0={},PC;function u$(){return PC||(PC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(W0)),W0}var Q0={},IC;function ST(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Q0)),Q0}var X0={},RC;function y1(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(X0)),X0}var Z0={},J0={},LC;function d$(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(J0)),J0}var zC;function w1(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d$(),r=y1();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],c=a.length;if(c===0)return s;let u=0,f="",m="",h=!1;for(a.charCodeAt(0)===46&&(s.push(""),u++);u<c;){const v=a[u];m?v==="\\"&&u+1<c?(u++,f+=a[u]):v===m?m="":f+=v:h?v==='"'||v==="'"?m=v:v==="]"?(h=!1,s.push(f),f=""):f+=v:v==="["?(h=!0,f&&(s.push(f),f="")):v==="."?f&&(s.push(f),f=""):f+=v,u++}return f&&s.push(f),s}e.toPath=n})(Z0)),Z0}var FC;function j1(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u$(),r=ST(),n=y1(),a=w1();function s(u,f,m){if(u==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?r.isDeepKey(f)?s(u,a.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const h=u[f];return h===void 0?m:h}default:{if(Array.isArray(f))return c(u,f,m);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?m:h}}}function c(u,f,m){if(f.length===0)return m;let h=u;for(let v=0;v<f.length;v++){if(h==null||t.isUnsafeProperty(f[v]))return m;h=h[f[v]]}return h===void 0?m:h}e.get=s})(K0)),K0}var eg,BC;function f$(){return BC||(BC=1,eg=j1().get),eg}var m$=f$();const Ju=Wa(m$);var p$=4;function Ss(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p$,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function ar(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,s,c)=>{var u=r[c-1];return typeof u=="string"?a+u+s:u!==void 0?a+Ss(u)+s:a+s},"")}var mn=e=>e===0?0:e>0?1:-1,Ei=e=>typeof e=="number"&&e!=+e,Rl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ge=e=>(typeof e=="number"||e instanceof Number)&&!Ei(e),_i=e=>Ge(e)||typeof e=="string",h$=0,ed=e=>{var t=++h$;return"".concat(e||"").concat(t)},_n=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ge(t)&&typeof t!="string")return n;var s;if(Rl(t)){if(r==null)return n;var c=t.indexOf("%");s=r*parseFloat(t.slice(0,c))/100}else s=+t;return Ei(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},CT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function la(e,t,r){return Ge(e)&&Ge(t)?Ss(e+r*(t-e)):t}function v$(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ju(n,t))===r)}var Pn=e=>e===null||typeof e>"u",yd=e=>Pn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function La(e){return e!=null}function wd(){}var x$=["type","size","sizeType"];function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sy.apply(null,arguments)}function $C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$C(Object(r),!0).forEach(function(n){g$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g$(e,t,r){return(t=b$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b$(e){var t=y$(e,"string");return typeof t=="symbol"?t:t+""}function y$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w$(e,t){if(e==null)return{};var r,n,a=j$(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function j$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AT={symbolCircle:b1,symbolCross:RB,symbolDiamond:zB,symbolSquare:FB,symbolStar:HB,symbolTriangle:UB,symbolWye:VB},N$=Math.PI/180,S$=e=>{var t="symbol".concat(yd(e));return AT[t]||b1},C$=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*N$;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},A$=(e,t)=>{AT["symbol".concat(yd(e))]=t},MT=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=w$(e,x$),s=qC(qC({},a),{},{type:t,size:r,sizeType:n}),c="circle";typeof t=="string"&&(c=t);var u=()=>{var x=S$(c),b=GB().type(x).size(C$(r,n,c)),S=b();if(S!==null)return S},{className:f,cx:m,cy:h}=s,v=Zn(s);return Ge(m)&&Ge(h)&&Ge(r)?j.createElement("path",sy({},v,{className:nt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:u()})):null};MT.registerSymbol=A$;var DT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,M$=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{v1(a)&&(n[a]=(s=>r[a](r,s)))}),n},D$=(e,t,r)=>n=>(e(t,r,n),null),k$=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];v1(a)&&typeof s=="function"&&(n||(n={}),n[a]=D$(s,t,r))}),n};function HC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(r),!0).forEach(function(n){_$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _$(e,t,r){return(t=O$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O$(e){var t=T$(e,"string");return typeof t=="symbol"?t:t+""}function T$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ja(e,t){var r=E$({},e),n=t,a=Object.keys(t),s=a.reduce((c,u)=>(c[u]===void 0&&n[u]!==void 0&&(c[u]=n[u]),c),r);return s}var tg={},rg={},UC;function P$(){return UC||(UC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const c=r[s],u=n(c,s,r);a.has(u)||a.set(u,c)}return Array.from(a.values())}e.uniqBy=t})(rg)),rg}var ng={},YC;function I$(){return YC||(YC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(ng)),ng}var ag={},VC;function kT(){return VC||(VC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(ag)),ag}var ig={},sg={},lg={},GC;function R$(){return GC||(GC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(lg)),lg}var KC;function N1(){return KC||(KC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R$();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(sg)),sg}var og={},WC;function L$(){return WC||(WC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(og)),og}var QC;function z$(){return QC||(QC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N1(),r=L$();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(ig)),ig}var cg={},ug={},XC;function F$(){return XC||(XC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j1();function r(n){return function(a){return t.get(a,n)}}e.property=r})(ug)),ug}var dg={},fg={},mg={},pg={},ZC;function ET(){return ZC||(ZC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(pg)),pg}var hg={},JC;function _T(){return JC||(JC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(hg)),hg}var vg={},eA;function OT(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(vg)),vg}var tA;function B$(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ET(),r=_T(),n=OT();function a(h,v,x){return typeof x!="function"?a(h,v,()=>{}):s(h,v,function b(S,w,y,C,M,A){const _=x(S,w,y,C,M,A);return _!==void 0?!!_:s(S,w,b,A)},new Map)}function s(h,v,x,b){if(v===h)return!0;switch(typeof v){case"object":return c(h,v,x,b);case"function":return Object.keys(v).length>0?s(h,{...v},x,b):n.isEqualsSameValueZero(h,v);default:return t.isObject(h)?typeof v=="string"?v==="":!0:n.isEqualsSameValueZero(h,v)}}function c(h,v,x,b){if(v==null)return!0;if(Array.isArray(v))return f(h,v,x,b);if(v instanceof Map)return u(h,v,x,b);if(v instanceof Set)return m(h,v,x,b);const S=Object.keys(v);if(h==null||r.isPrimitive(h))return S.length===0;if(S.length===0)return!0;if(b?.has(v))return b.get(v)===h;b?.set(v,h);try{for(let w=0;w<S.length;w++){const y=S[w];if(!r.isPrimitive(h)&&!(y in h)||v[y]===void 0&&h[y]!==void 0||v[y]===null&&h[y]!==null||!x(h[y],v[y],y,h,v,b))return!1}return!0}finally{b?.delete(v)}}function u(h,v,x,b){if(v.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,w]of v.entries()){const y=h.get(S);if(x(y,w,S,h,v,b)===!1)return!1}return!0}function f(h,v,x,b){if(v.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let w=0;w<v.length;w++){const y=v[w];let C=!1;for(let M=0;M<h.length;M++){if(S.has(M))continue;const A=h[M];let _=!1;if(x(A,y,w,h,v,b)&&(_=!0),_){S.add(M),C=!0;break}}if(!C)return!1}return!0}function m(h,v,x,b){return v.size===0?!0:h instanceof Set?f([...h],[...v],x,b):!1}e.isMatchWith=a,e.isSetMatch=m})(mg)),mg}var rA;function TT(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B$();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(fg)),fg}var xg={},gg={},bg={},nA;function $$(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(bg)),bg}var yg={},aA;function S1(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(yg)),yg}var wg={},iA;function PT(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",c="[object Symbol]",u="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",v="[object Function]",x="[object ArrayBuffer]",b="[object Object]",S="[object Error]",w="[object DataView]",y="[object Uint8Array]",C="[object Uint8ClampedArray]",M="[object Uint16Array]",A="[object Uint32Array]",_="[object BigUint64Array]",E="[object Int8Array]",T="[object Int16Array]",P="[object Int32Array]",O="[object BigInt64Array]",L="[object Float32Array]",R="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=x,e.arrayTag=h,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=_,e.booleanTag=a,e.dataViewTag=w,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=L,e.float64ArrayTag=R,e.functionTag=v,e.int16ArrayTag=T,e.int32ArrayTag=P,e.int8ArrayTag=E,e.mapTag=f,e.numberTag=n,e.objectTag=b,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=M,e.uint32ArrayTag=A,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=C})(wg)),wg}var jg={},sA;function q$(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(jg)),jg}var lA;function IT(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$$(),r=S1(),n=PT(),a=_T(),s=q$();function c(h,v){return u(h,void 0,h,new Map,v)}function u(h,v,x,b=new Map,S=void 0){const w=S?.(h,v,x,b);if(w!==void 0)return w;if(a.isPrimitive(h))return h;if(b.has(h))return b.get(h);if(Array.isArray(h)){const y=new Array(h.length);b.set(h,y);for(let C=0;C<h.length;C++)y[C]=u(h[C],C,x,b,S);return Object.hasOwn(h,"index")&&(y.index=h.index),Object.hasOwn(h,"input")&&(y.input=h.input),y}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const y=new RegExp(h.source,h.flags);return y.lastIndex=h.lastIndex,y}if(h instanceof Map){const y=new Map;b.set(h,y);for(const[C,M]of h)y.set(C,u(M,C,x,b,S));return y}if(h instanceof Set){const y=new Set;b.set(h,y);for(const C of h)y.add(u(C,void 0,x,b,S));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(s.isTypedArray(h)){const y=new(Object.getPrototypeOf(h)).constructor(h.length);b.set(h,y);for(let C=0;C<h.length;C++)y[C]=u(h[C],C,x,b,S);return y}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const y=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return b.set(h,y),f(y,h,x,b,S),y}if(typeof File<"u"&&h instanceof File){const y=new File([h],h.name,{type:h.type});return b.set(h,y),f(y,h,x,b,S),y}if(typeof Blob<"u"&&h instanceof Blob){const y=new Blob([h],{type:h.type});return b.set(h,y),f(y,h,x,b,S),y}if(h instanceof Error){const y=new h.constructor;return b.set(h,y),y.message=h.message,y.name=h.name,y.stack=h.stack,y.cause=h.cause,f(y,h,x,b,S),y}if(h instanceof Boolean){const y=new Boolean(h.valueOf());return b.set(h,y),f(y,h,x,b,S),y}if(h instanceof Number){const y=new Number(h.valueOf());return b.set(h,y),f(y,h,x,b,S),y}if(h instanceof String){const y=new String(h.valueOf());return b.set(h,y),f(y,h,x,b,S),y}if(typeof h=="object"&&m(h)){const y=Object.create(Object.getPrototypeOf(h));return b.set(h,y),f(y,h,x,b,S),y}return h}function f(h,v,x=h,b,S){const w=[...Object.keys(v),...t.getSymbols(v)];for(let y=0;y<w.length;y++){const C=w[y],M=Object.getOwnPropertyDescriptor(h,C);(M==null||M.writable)&&(h[C]=u(v[C],C,x,b,S))}}function m(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=u,e.copyProperties=f})(gg)),gg}var oA;function H$(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IT();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(xg)),xg}var cA;function U$(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TT(),r=H$();function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(dg)),dg}var Ng={},Sg={},Cg={},uA;function Y$(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IT(),r=S1(),n=PT();function a(s,c){return t.cloneDeepWith(s,(u,f,m,h)=>{const v=c?.(u,f,m,h);if(v!==void 0)return v;if(typeof s=="object"){if(r.getTag(s)===n.objectTag&&typeof s.constructor!="function"){const x={};return h.set(s,x),t.copyProperties(x,s,m,h),x}switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const x=new s.constructor(s?.valueOf());return t.copyProperties(x,s),x}case n.argumentsTag:{const x={};return t.copyProperties(x,s),x.length=s.length,x[Symbol.iterator]=s[Symbol.iterator],x}default:return}}})}e.cloneDeepWith=a})(Cg)),Cg}var dA;function V$(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y$();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Sg)),Sg}var Ag={},Mg={},fA;function RT(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Mg)),Mg}var Dg={},mA;function G$(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S1();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Dg)),Dg}var pA;function K$(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ST(),r=RT(),n=G$(),a=w1();function s(c,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&c?.[u]==null?f=a.toPath(u):f=[u],f.length===0)return!1;let m=c;for(let h=0;h<f.length;h++){const v=f[h];if((m==null||!Object.hasOwn(m,v))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(v)&&v<m.length))return!1;m=m[v]}return!0}e.has=s})(Ag)),Ag}var hA;function W$(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TT(),r=y1(),n=V$(),a=j1(),s=K$();function c(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return f=n.cloneDeep(f),function(m){const h=a.get(m,u);return h===void 0?s.has(m,u):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c})(Ng)),Ng}var vA;function Q$(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kT(),r=F$(),n=U$(),a=W$();function s(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=s})(cg)),cg}var xA;function X$(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P$(),r=I$(),n=kT(),a=z$(),s=Q$();function c(u,f=n.identity){return a.isArrayLikeObject(u)?t.uniqBy(Array.from(u),r.ary(s.iteratee(f),1)):[]}e.uniqBy=c})(tg)),tg}var kg,gA;function Z$(){return gA||(gA=1,kg=X$().uniqBy),kg}var J$=Z$();const bA=Wa(J$);function eq(e,t,r){return t===!0?bA(e,r):typeof t=="function"?bA(e,t):e}var Eg={exports:{}},_g={},Og={exports:{}},Tg={};var yA;function tq(){if(yA)return Tg;yA=1;var e=uc();function t(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,s=e.useLayoutEffect,c=e.useDebugValue;function u(v,x){var b=x(),S=n({inst:{value:b,getSnapshot:x}}),w=S[0].inst,y=S[1];return s(function(){w.value=b,w.getSnapshot=x,f(w)&&y({inst:w})},[v,b,x]),a(function(){return f(w)&&y({inst:w}),v(function(){f(w)&&y({inst:w})})},[v]),c(b),b}function f(v){var x=v.getSnapshot;v=v.value;try{var b=x();return!r(v,b)}catch{return!0}}function m(v,x){return x()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return Tg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Tg}var wA;function rq(){return wA||(wA=1,Og.exports=tq()),Og.exports}var jA;function nq(){if(jA)return _g;jA=1;var e=uc(),t=rq();function r(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,s=e.useRef,c=e.useEffect,u=e.useMemo,f=e.useDebugValue;return _g.useSyncExternalStoreWithSelector=function(m,h,v,x,b){var S=s(null);if(S.current===null){var w={hasValue:!1,value:null};S.current=w}else w=S.current;S=u(function(){function C(T){if(!M){if(M=!0,A=T,T=x(T),b!==void 0&&w.hasValue){var P=w.value;if(b(P,T))return _=P}return _=T}if(P=_,n(A,T))return P;var O=x(T);return b!==void 0&&b(P,O)?(A=T,P):(A=T,_=O)}var M=!1,A,_,E=v===void 0?null:v;return[function(){return C(h())},E===null?void 0:function(){return C(E())}]},[h,v,x,b]);var y=a(m,S[0],S[1]);return c(function(){w.hasValue=!0,w.value=y},[y]),f(y),y},_g}var NA;function aq(){return NA||(NA=1,Eg.exports=nq()),Eg.exports}var iq=aq(),C1=j.createContext(null),sq=e=>e,Sr=()=>{var e=j.useContext(C1);return e?e.store.dispatch:sq},Zm=()=>{},lq=()=>Zm,oq=(e,t)=>e===t;function et(e){var t=j.useContext(C1),r=j.useMemo(()=>t?n=>{if(n!=null)return e(n)}:Zm,[t,e]);return iq.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:lq,t?t.store.getState:Zm,t?t.store.getState:Zm,r,oq)}function cq(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function uq(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function dq(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var SA=e=>Array.isArray(e)?e:[e];function fq(e){const t=Array.isArray(e[0])?e[0]:e;return dq(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function mq(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var pq=class{constructor(e){this.value=e}deref(){return this.value}},hq=typeof WeakRef<"u"?WeakRef:pq,vq=0,CA=1;function fm(){return{s:vq,v:void 0,o:null,p:null}}function LT(e,t={}){let r=fm();const{resultEqualityCheck:n}=t;let a,s=0;function c(){let u=r;const{length:f}=arguments;for(let v=0,x=f;v<x;v++){const b=arguments[v];if(typeof b=="function"||typeof b=="object"&&b!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const w=S.get(b);w===void 0?(u=fm(),S.set(b,u)):u=w}else{let S=u.p;S===null&&(u.p=S=new Map);const w=S.get(b);w===void 0?(u=fm(),S.set(b,u)):u=w}}const m=u;let h;if(u.s===CA)h=u.v;else if(h=e.apply(null,arguments),s++,n){const v=a?.deref?.()??a;v!=null&&n(v,h)&&(h=v,s!==0&&s--),a=typeof h=="object"&&h!==null||typeof h=="function"?new hq(h):h}return m.s=CA,m.v=h,h}return c.clearCache=()=>{r=fm(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function xq(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,c=0,u,f={},m=a.pop();typeof m=="object"&&(f=m,m=a.pop()),cq(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...r,...f},{memoize:v,memoizeOptions:x=[],argsMemoize:b=LT,argsMemoizeOptions:S=[]}=h,w=SA(x),y=SA(S),C=fq(a),M=v(function(){return s++,m.apply(null,arguments)},...w),A=b(function(){c++;const E=mq(C,arguments);return u=M.apply(null,E),u},...y);return Object.assign(A,{resultFunc:m,memoizedResultFunc:M,dependencies:C,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:v,argsMemoize:b})};return Object.assign(n,{withTypes:()=>n}),n}var se=xq(LT),gq=Object.assign((e,t=se)=>{uq(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((c,u,f)=>(c[r[f]]=u,c),{}))},{withTypes:()=>gq}),Pg={},Ig={},Rg={},AA;function bq(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const c=t(n),u=t(a);if(c===u&&c===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?u-c:c-u}return 0};e.compareValues=r})(Rg)),Rg}var Lg={},zg={},MA;function zT(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(zg)),zg}var DA;function yq(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zT(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||c!=null&&Object.hasOwn(c,s)}e.isKey=a})(Lg)),Lg}var kA;function wq(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bq(),r=yq(),n=w1();function a(s,c,u,f){if(s==null)return[];u=f?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const m=(b,S)=>{let w=b;for(let y=0;y<S.length&&w!=null;++y)w=w[S[y]];return w},h=(b,S)=>S==null||b==null?S:typeof b=="object"&&"key"in b?Object.hasOwn(S,b.key)?S[b.key]:m(S,b.path):typeof b=="function"?b(S):Array.isArray(b)?m(S,b):typeof S=="object"?S[b]:S,v=c.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||r.isKey(b)?b:{key:b,path:n.toPath(b)}));return s.map(b=>({original:b,criteria:v.map(S=>h(S,b))})).slice().sort((b,S)=>{for(let w=0;w<v.length;w++){const y=t.compareValues(b.criteria[w],S.criteria[w],u[w]);if(y!==0)return y}return 0}).map(b=>b.original)}e.orderBy=a})(Ig)),Ig}var Fg={},EA;function jq(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),c=(u,f)=>{for(let m=0;m<u.length;m++){const h=u[m];Array.isArray(h)&&f<s?c(h,f+1):a.push(h)}};return c(r,0),a}e.flatten=t})(Fg)),Fg}var Bg={},_A;function FT(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RT(),r=N1(),n=ET(),a=OT();function s(c,u,f){return n.isObject(f)&&(typeof u=="number"&&r.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?a.isEqualsSameValueZero(f[u],c):!1}e.isIterateeCall=s})(Bg)),Bg}var OA;function Nq(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wq(),r=jq(),n=FT();function a(s,...c){const u=c.length;return u>1&&n.isIterateeCall(s,c[0],c[1])?c=[]:u>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(s,r.flatten(c),["asc"])}e.sortBy=a})(Pg)),Pg}var $g,TA;function Sq(){return TA||(TA=1,$g=Nq().sortBy),$g}var Cq=Sq();const Oh=Wa(Cq);var BT=e=>e.legend.settings,Aq=e=>e.legend.size,Mq=e=>e.legend.payload;se([Mq,BT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Oh(n,r):n});var mm=1;function Dq(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=j.useState({height:0,left:0,top:0,width:0}),n=j.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-t.height)>mm||Math.abs(c.left-t.left)>mm||Math.abs(c.top-t.top)>mm||Math.abs(c.width-t.width)>mm)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Rr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var kq=typeof Symbol=="function"&&Symbol.observable||"@@observable",PA=kq,qg=()=>Math.random().toString(36).substring(7).split("").join("."),Eq={INIT:`@@redux/INIT${qg()}`,REPLACE:`@@redux/REPLACE${qg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${qg()}`},Np=Eq;function A1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function $T(e,t,r){if(typeof e!="function")throw new Error(Rr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Rr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Rr(1));return r($T)(e,t)}let n=e,a=t,s=new Map,c=s,u=0,f=!1;function m(){c===s&&(c=new Map,s.forEach((y,C)=>{c.set(C,y)}))}function h(){if(f)throw new Error(Rr(3));return a}function v(y){if(typeof y!="function")throw new Error(Rr(4));if(f)throw new Error(Rr(5));let C=!0;m();const M=u++;return c.set(M,y),function(){if(C){if(f)throw new Error(Rr(6));C=!1,m(),c.delete(M),s=null}}}function x(y){if(!A1(y))throw new Error(Rr(7));if(typeof y.type>"u")throw new Error(Rr(8));if(typeof y.type!="string")throw new Error(Rr(17));if(f)throw new Error(Rr(9));try{f=!0,a=n(a,y)}finally{f=!1}return(s=c).forEach(M=>{M()}),y}function b(y){if(typeof y!="function")throw new Error(Rr(10));n=y,x({type:Np.REPLACE})}function S(){const y=v;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Rr(11));function M(){const _=C;_.next&&_.next(h())}return M(),{unsubscribe:y(M)}},[PA](){return this}}}return x({type:Np.INIT}),{dispatch:x,subscribe:v,getState:h,replaceReducer:b,[PA]:S}}function _q(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Np.INIT})>"u")throw new Error(Rr(12));if(typeof r(void 0,{type:Np.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Rr(13))})}function qT(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const c=t[s];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let a;try{_q(r)}catch(s){a=s}return function(c={},u){if(a)throw a;let f=!1;const m={};for(let h=0;h<n.length;h++){const v=n[h],x=r[v],b=c[v],S=x(b,u);if(typeof S>"u")throw u&&u.type,new Error(Rr(14));m[v]=S,f=f||S!==b}return f=f||n.length!==Object.keys(c).length,f?m:c}}function Sp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Oq(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(Rr(15))};const c={getState:a.getState,dispatch:(f,...m)=>s(f,...m)},u=e.map(f=>f(c));return s=Sp(...u)(a.dispatch),{...a,dispatch:s}}}function HT(e){return A1(e)&&"type"in e&&typeof e.type=="string"}var UT=Symbol.for("immer-nothing"),IA=Symbol.for("immer-draftable"),Xr=Symbol.for("immer-state");function oa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var En=Object,Xo=En.getPrototypeOf,Cp="constructor",Th="prototype",ly="configurable",Ap="enumerable",Jm="writable",td="value",Oi=e=>!!e&&!!e[Xr];function va(e){return e?YT(e)||Ih(e)||!!e[IA]||!!e[Cp]?.[IA]||Rh(e)||Lh(e):!1}var Tq=En[Th][Cp].toString(),RA=new WeakMap;function YT(e){if(!e||!M1(e))return!1;const t=Xo(e);if(t===null||t===En[Th])return!0;const r=En.hasOwnProperty.call(t,Cp)&&t[Cp];if(r===Object)return!0;if(!Bo(r))return!1;let n=RA.get(r);return n===void 0&&(n=Function.toString.call(r),RA.set(r,n)),n===Tq}function Ph(e,t,r=!0){jd(e)===0?(r?Reflect.ownKeys(e):En.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function jd(e){const t=e[Xr];return t?t.type_:Ih(e)?1:Rh(e)?2:Lh(e)?3:0}var LA=(e,t,r=jd(e))=>r===2?e.has(t):En[Th].hasOwnProperty.call(e,t),oy=(e,t,r=jd(e))=>r===2?e.get(t):e[t],Mp=(e,t,r,n=jd(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function Pq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ih=Array.isArray,Rh=e=>e instanceof Map,Lh=e=>e instanceof Set,M1=e=>typeof e=="object",Bo=e=>typeof e=="function",Hg=e=>typeof e=="boolean";function Iq(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var wi=e=>e.copy_||e.base_,D1=e=>e.modified_?e.copy_:e.base_;function cy(e,t){if(Rh(e))return new Map(e);if(Lh(e))return new Set(e);if(Ih(e))return Array[Th].slice.call(e);const r=YT(e);if(t===!0||t==="class_only"&&!r){const n=En.getOwnPropertyDescriptors(e);delete n[Xr];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const c=a[s],u=n[c];u[Jm]===!1&&(u[Jm]=!0,u[ly]=!0),(u.get||u.set)&&(n[c]={[ly]:!0,[Jm]:!0,[Ap]:u[Ap],[td]:e[c]})}return En.create(Xo(e),n)}else{const n=Xo(e);if(n!==null&&r)return{...e};const a=En.create(n);return En.assign(a,e)}}function k1(e,t=!1){return zh(e)||Oi(e)||!va(e)||(jd(e)>1&&En.defineProperties(e,{set:pm,add:pm,clear:pm,delete:pm}),En.freeze(e),t&&Ph(e,(r,n)=>{k1(n,!0)},!1)),e}function Rq(){oa(2)}var pm={[td]:Rq};function zh(e){return e===null||!M1(e)?!0:En.isFrozen(e)}var Dp="MapSet",uy="Patches",zA="ArrayMethods",VT={};function Ll(e){const t=VT[e];return t||oa(0,e),t}var FA=e=>!!VT[e],rd,GT=()=>rd,Lq=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:FA(Dp)?Ll(Dp):void 0,arrayMethodsPlugin_:FA(zA)?Ll(zA):void 0});function BA(e,t){t&&(e.patchPlugin_=Ll(uy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function dy(e){fy(e),e.drafts_.forEach(zq),e.drafts_=null}function fy(e){e===rd&&(rd=e.parent_)}var $A=e=>rd=Lq(rd,e);function zq(e){const t=e[Xr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function qA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Xr].modified_&&(dy(t),oa(4)),va(e)&&(e=HA(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Xr].base_,e,t)}else e=HA(t,r);return Fq(t,e,!0),dy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==UT?e:void 0}function HA(e,t){if(zh(t))return t;const r=t[Xr];if(!r)return kp(t,e.handledSet_,e);if(!Fh(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);QT(r,e)}return r.copy_}function Fq(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&k1(t,r)}function KT(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Fh=(e,t)=>e.scope_===t,Bq=[];function WT(e,t,r,n){const a=wi(e),s=e.type_;if(n!==void 0&&oy(a,n,s)===t){Mp(a,n,r,s);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;Ph(a,(f,m)=>{if(Oi(m)){const h=u.get(m)||[];h.push(f),u.set(m,h)}})}const c=e.draftLocations_.get(t)??Bq;for(const u of c)Mp(a,u,r,s)}function $q(e,t,r){e.callbacks_.push(function(a){const s=t;if(!s||!Fh(s,a))return;a.mapSetPlugin_?.fixSetContents(s);const c=D1(s);WT(e,s.draft_??s,c,r),QT(s,a)})}function QT(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const a=n.getPath(e);a&&n.generatePatches_(e,a,t)}KT(e)}}function qq(e,t,r){const{scope_:n}=e;if(Oi(r)){const a=r[Xr];Fh(a,n)&&a.callbacks_.push(function(){ep(e);const c=D1(a);WT(e,r,c,t)})}else va(r)&&e.callbacks_.push(function(){const s=wi(e);e.type_===3?s.has(r)&&kp(r,n.handledSet_,n):oy(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&kp(oy(e.copy_,t,e.type_),n.handledSet_,n)})}function kp(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Oi(e)||t.has(e)||!va(e)||zh(e)||(t.add(e),Ph(e,(n,a)=>{if(Oi(a)){const s=a[Xr];if(Fh(s,r)){const c=D1(s);Mp(e,n,c,e.type_),KT(s)}}else va(a)&&kp(a,t,r)})),e}function Hq(e,t){const r=Ih(e),n={type_:r?1:0,scope_:t?t.scope_:GT(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=Ep;r&&(a=[n],s=nd);const{revoke:c,proxy:u}=Proxy.revocable(a,s);return n.draft_=u,n.revoke_=c,[u,n]}var Ep={get(e,t){if(t===Xr)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=wi(e);if(!LA(a,t,e.type_))return Uq(e,a,t);const s=a[t];if(e.finalized_||!va(s)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&Iq(t))return s;if(s===Ug(e.base_,t)){ep(e);const c=e.type_===1?+t:t,u=py(e.scope_,s,e,c);return e.copy_[c]=u}return s},has(e,t){return t in wi(e)},ownKeys(e){return Reflect.ownKeys(wi(e))},set(e,t,r){const n=XT(wi(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Ug(wi(e),t),s=a?.[Xr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(Pq(r,a)&&(r!==void 0||LA(e.base_,t,e.type_)))return!0;ep(e),my(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),qq(e,t,r)),!0},deleteProperty(e,t){return ep(e),Ug(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),my(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=wi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Jm]:!0,[ly]:e.type_!==1||t!=="length",[Ap]:n[Ap],[td]:r[t]}},defineProperty(){oa(11)},getPrototypeOf(e){return Xo(e.base_)},setPrototypeOf(){oa(12)}},nd={};for(let e in Ep){let t=Ep[e];nd[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}nd.deleteProperty=function(e,t){return nd.set.call(this,e,t,void 0)};nd.set=function(e,t,r){return Ep.set.call(this,e[0],t,r,e[0])};function Ug(e,t){const r=e[Xr];return(r?wi(r):e)[t]}function Uq(e,t,r){const n=XT(t,r);return n?td in n?n[td]:n.get?.call(e.draft_):void 0}function XT(e,t){if(!(t in e))return;let r=Xo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Xo(r)}}function my(e){e.modified_||(e.modified_=!0,e.parent_&&my(e.parent_))}function ep(e){e.copy_||(e.assigned_=new Map,e.copy_=cy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Yq=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Bo(r)&&!Bo(n)){const c=n;n=r;const u=this;return function(m=c,...h){return u.produce(m,v=>n.call(this,v,...h))}}Bo(n)||oa(6),a!==void 0&&!Bo(a)&&oa(7);let s;if(va(r)){const c=$A(this),u=py(c,r,void 0);let f=!0;try{s=n(u),f=!1}finally{f?dy(c):fy(c)}return BA(c,a),qA(s,c)}else if(!r||!M1(r)){if(s=n(r),s===void 0&&(s=r),s===UT&&(s=void 0),this.autoFreeze_&&k1(s,!0),a){const c=[],u=[];Ll(uy).generateReplacementPatches_(r,s,{patches_:c,inversePatches_:u}),a(c,u)}return s}else oa(1,r)},this.produceWithPatches=(r,n)=>{if(Bo(r))return(u,...f)=>this.produceWithPatches(u,m=>r(m,...f));let a,s;return[this.produce(r,n,(u,f)=>{a=u,s=f}),a,s]},Hg(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Hg(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Hg(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){va(t)||oa(8),Oi(t)&&(t=fa(t));const r=$A(this),n=py(r,t,void 0);return n[Xr].isManual_=!0,fy(r),n}finishDraft(t,r){const n=t&&t[Xr];(!n||!n.isManual_)&&oa(9);const{scope_:a}=n;return BA(a,r),qA(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=Ll(uy).applyPatches_;return Oi(t)?a(t,r):this.produce(t,s=>a(s,r))}};function py(e,t,r,n){const[a,s]=Rh(t)?Ll(Dp).proxyMap_(t,r):Lh(t)?Ll(Dp).proxySet_(t,r):Hq(t,r);return(r?.scope_??GT()).drafts_.push(a),s.callbacks_=r?.callbacks_??[],s.key_=n,r&&n!==void 0?$q(r,s,n):s.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:m}=f;s.modified_&&m&&m.generatePatches_(s,[],f)}),a}function fa(e){return Oi(e)||oa(10,e),ZT(e)}function ZT(e){if(!va(e)||zh(e))return e;const t=e[Xr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=cy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=cy(e,!0);return Ph(r,(a,s)=>{Mp(r,a,ZT(s))},n),t&&(t.finalized_=!1),r}var Vq=new Yq,JT=Vq.produce;function e5(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var Gq=e5(),Kq=e5,Wq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Sp:Sp.apply(null,arguments)};function Jn(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(On(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>HT(n)&&n.type===e,r}var t5=class Hu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Hu.prototype)}static get[Symbol.species](){return Hu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Hu(...t[0].concat(this)):new Hu(...t.concat(this))}};function UA(e){return va(e)?JT(e,()=>{}):e}function hm(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Qq(e){return typeof e=="boolean"}var Xq=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let c=new t5;return r&&(Qq(r)?c.push(Gq):c.push(Kq(r.extraArgument))),c},r5="RTK_autoBatch",Vt=()=>e=>({payload:e,meta:{[r5]:!0}}),YA=e=>t=>{setTimeout(t,e)},n5=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,c=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:YA(10):e.type==="callback"?e.queueNotification:YA(e.timeout),m=()=>{c=!1,s&&(s=!1,u.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const v=()=>a&&h(),x=n.subscribe(v);return u.add(h),()=>{x(),u.delete(h)}},dispatch(h){try{return a=!h?.meta?.[r5],s=!a,s&&(c||(c=!0,f(m))),n.dispatch(h)}finally{a=!0}}})},Zq=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new t5(e);return n&&a.push(n5(typeof n=="object"?n:void 0)),a};function Jq(e){const t=Xq(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:c=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(A1(r))u=qT(r);else throw new Error(On(1));let f;typeof n=="function"?f=n(t):f=t();let m=Sp;a&&(m=Wq({trace:!1,...typeof a=="object"&&a}));const h=Oq(...f),v=Zq(h);let x=typeof c=="function"?c(v):v();const b=m(...x);return $T(u,s,b)}function a5(e){const t={},r=[];let n;const a={addCase(s,c){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(On(28));if(u in t)throw new Error(On(29));return t[u]=c,a},addAsyncThunk(s,c){return c.pending&&(t[s.pending.type]=c.pending),c.rejected&&(t[s.rejected.type]=c.rejected),c.fulfilled&&(t[s.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:s.settled,reducer:c.settled}),a},addMatcher(s,c){return r.push({matcher:s,reducer:c}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function eH(e){return typeof e=="function"}function tH(e,t){let[r,n,a]=a5(t),s;if(eH(e))s=()=>UA(e());else{const u=UA(e);s=()=>u}function c(u=s(),f){let m=[r[f.type],...n.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[a]),m.reduce((h,v)=>{if(v)if(Oi(h)){const b=v(h,f);return b===void 0?h:b}else{if(va(h))return JT(h,x=>v(x,f));{const x=v(h,f);if(x===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return h},u)}return c.getInitialState=s,c}var rH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nH=(e=21)=>{let t="",r=e;for(;r--;)t+=rH[Math.random()*64|0];return t},aH=Symbol.for("rtk-slice-createasyncthunk");function iH(e,t){return`${e}/${t}`}function sH({creators:e}={}){const t=e?.asyncThunk?.[aH];return function(n){const{name:a,reducerPath:s=a}=n;if(!a)throw new Error(On(11));const c=(typeof n.reducers=="function"?n.reducers(oH()):n.reducers)||{},u=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(A,_){const E=typeof A=="string"?A:A.type;if(!E)throw new Error(On(12));if(E in f.sliceCaseReducersByType)throw new Error(On(13));return f.sliceCaseReducersByType[E]=_,m},addMatcher(A,_){return f.sliceMatchers.push({matcher:A,reducer:_}),m},exposeAction(A,_){return f.actionCreators[A]=_,m},exposeCaseReducer(A,_){return f.sliceCaseReducersByName[A]=_,m}};u.forEach(A=>{const _=c[A],E={reducerName:A,type:iH(a,A),createNotation:typeof n.reducers=="function"};uH(_)?fH(E,_,m,t):cH(E,_,m)});function h(){const[A={},_=[],E=void 0]=typeof n.extraReducers=="function"?a5(n.extraReducers):[n.extraReducers],T={...A,...f.sliceCaseReducersByType};return tH(n.initialState,P=>{for(let O in T)P.addCase(O,T[O]);for(let O of f.sliceMatchers)P.addMatcher(O.matcher,O.reducer);for(let O of _)P.addMatcher(O.matcher,O.reducer);E&&P.addDefaultCase(E)})}const v=A=>A,x=new Map,b=new WeakMap;let S;function w(A,_){return S||(S=h()),S(A,_)}function y(){return S||(S=h()),S.getInitialState()}function C(A,_=!1){function E(P){let O=P[A];return typeof O>"u"&&_&&(O=hm(b,E,y)),O}function T(P=v){const O=hm(x,_,()=>new WeakMap);return hm(O,P,()=>{const L={};for(const[R,F]of Object.entries(n.selectors??{}))L[R]=lH(F,P,()=>hm(b,P,y),_);return L})}return{reducerPath:A,getSelectors:T,get selectors(){return T(E)},selectSlice:E}}const M={name:a,reducer:w,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:y,...C(s),injectInto(A,{reducerPath:_,...E}={}){const T=_??s;return A.inject({reducerPath:T,reducer:w},E),{...M,...C(T,!0)}}};return M}}function lH(e,t,r,n){function a(s,...c){let u=t(s);return typeof u>"u"&&n&&(u=r()),e(u,...c)}return a.unwrapped=e,a}var vn=sH();function oH(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function cH({type:e,reducerName:t,createNotation:r},n,a){let s,c;if("reducer"in n){if(r&&!dH(n))throw new Error(On(17));s=n.reducer,c=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,c?Jn(e,c):Jn(e))}function uH(e){return e._reducerDefinitionType==="asyncThunk"}function dH(e){return e._reducerDefinitionType==="reducerWithPrepare"}function fH({type:e,reducerName:t},r,n,a){if(!a)throw new Error(On(18));const{payloadCreator:s,fulfilled:c,pending:u,rejected:f,settled:m,options:h}=r,v=a(e,s,h);n.exposeAction(t,v),c&&n.addCase(v.fulfilled,c),u&&n.addCase(v.pending,u),f&&n.addCase(v.rejected,f),m&&n.addMatcher(v.settled,m),n.exposeCaseReducer(t,{fulfilled:c||vm,pending:u||vm,rejected:f||vm,settled:m||vm})}function vm(){}var mH="task",i5="listener",s5="completed",E1="cancelled",pH=`task-${E1}`,hH=`task-${s5}`,hy=`${i5}-${E1}`,vH=`${i5}-${s5}`,Bh=class{constructor(e){this.code=e,this.message=`${mH} ${E1} (reason: ${e})`}name="TaskAbortError";message},_1=(e,t)=>{if(typeof e!="function")throw new TypeError(On(32))},_p=()=>{},l5=(e,t=_p)=>(e.catch(t),e),o5=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ml=e=>{if(e.aborted)throw new Bh(e.reason)};function c5(e,t){let r=_p;return new Promise((n,a)=>{const s=()=>a(new Bh(e.reason));if(e.aborted){s();return}r=o5(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=_p})}var xH=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Bh?"cancelled":"rejected",error:r}}finally{t?.()}},Op=e=>t=>l5(c5(e,t).then(r=>(Ml(e),r))),u5=e=>{const t=Op(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Yo}=Object,VA={},$h="listenerMiddleware",gH=(e,t)=>{const r=n=>o5(e,()=>n.abort(e.reason));return(n,a)=>{_1(n);const s=new AbortController;r(s);const c=xH(async()=>{Ml(e),Ml(s.signal);const u=await n({pause:Op(s.signal),delay:u5(s.signal),signal:s.signal});return Ml(s.signal),u},()=>s.abort(hH));return a?.autoJoin&&t.push(c.catch(_p)),{result:Op(e)(c),cancel(){s.abort(pH)}}}},bH=(e,t)=>{const r=async(n,a)=>{Ml(t);let s=()=>{};const u=[new Promise((f,m)=>{let h=e({predicate:n,effect:(v,x)=>{x.unsubscribe(),f([v,x.getState(),x.getOriginalState()])}});s=()=>{h(),m()}})];a!=null&&u.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await c5(t,Promise.race(u));return Ml(t),f}finally{s()}};return(n,a)=>l5(r(n,a))},d5=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=Jn(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(On(21));return _1(s),{predicate:a,type:t,effect:s}},f5=Yo(e=>{const{type:t,predicate:r,effect:n}=d5(e);return{id:nH(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(On(22))}}},{withTypes:()=>f5}),GA=(e,t)=>{const{type:r,effect:n,predicate:a}=d5(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},vy=e=>{e.pending.forEach(t=>{t.abort(hy)})},yH=(e,t)=>()=>{for(const r of t.keys())vy(r);e.clear()},KA=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},m5=Yo(Jn(`${$h}/add`),{withTypes:()=>m5}),wH=Jn(`${$h}/removeAll`),p5=Yo(Jn(`${$h}/remove`),{withTypes:()=>p5}),jH=(...e)=>{console.error(`${$h}/error`,...e)},Nd=(e={})=>{const t=new Map,r=new Map,n=b=>{const S=r.get(b)??0;r.set(b,S+1)},a=b=>{const S=r.get(b)??1;S===1?r.delete(b):r.set(b,S-1)},{extra:s,onError:c=jH}=e;_1(c);const u=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),S=>{b.unsubscribe(),S?.cancelActive&&vy(b)}),f=b=>{const S=GA(t,b)??f5(b);return u(S)};Yo(f,{withTypes:()=>f});const m=b=>{const S=GA(t,b);return S&&(S.unsubscribe(),b.cancelActive&&vy(S)),!!S};Yo(m,{withTypes:()=>m});const h=async(b,S,w,y)=>{const C=new AbortController,M=bH(f,C.signal),A=[];try{b.pending.add(C),n(b),await Promise.resolve(b.effect(S,Yo({},w,{getOriginalState:y,condition:(_,E)=>M(_,E).then(Boolean),take:M,delay:u5(C.signal),pause:Op(C.signal),extra:s,signal:C.signal,fork:gH(C.signal,A),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((_,E,T)=>{_!==C&&(_.abort(hy),T.delete(_))})},cancel:()=>{C.abort(hy),b.pending.delete(C)},throwIfCancelled:()=>{Ml(C.signal)}})))}catch(_){_ instanceof Bh||KA(c,_,{raisedBy:"effect"})}finally{await Promise.all(A),C.abort(vH),a(b),b.pending.delete(C)}},v=yH(t,r);return{middleware:b=>S=>w=>{if(!HT(w))return S(w);if(m5.match(w))return f(w.payload);if(wH.match(w)){v();return}if(p5.match(w))return m(w.payload);let y=b.getState();const C=()=>{if(y===VA)throw new Error(On(23));return y};let M;try{if(M=S(w),t.size>0){const A=b.getState(),_=Array.from(t.values());for(const E of _){let T=!1;try{T=E.predicate(w,A,y)}catch(P){T=!1,KA(c,P,{raisedBy:"predicate"})}T&&h(E,w,b,C)}}}finally{y=VA}return M},startListening:f,stopListening:m,clearListeners:v}};function On(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var NH={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},h5=vn({name:"chartLayout",initialState:NH,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:SH,setLayout:CH,setChartSize:AH,setScale:MH}=h5.actions,DH=h5.reducer;function v5(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function It(e){return Number.isFinite(e)}function Os(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function WA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(r),!0).forEach(function(n){kH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kH(e,t,r){return(t=EH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EH(e){var t=_H(e,"string");return typeof t=="symbol"?t:t+""}function _H(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sr(e,t,r){return Pn(e)||Pn(t)?r:_i(t)?Ju(e,t,r):typeof t=="function"?t(e):r}var OH=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:c,layout:u}=t;if((u==="vertical"||u==="horizontal"&&c==="middle")&&s!=="center"&&Ge(e[s]))return qo(qo({},e),{},{[s]:e[s]+(n||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&c!=="middle"&&Ge(e[c]))return qo(qo({},e),{},{[c]:e[c]+(a||0)})}return e},Rs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",TH=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,c=0,u=0;u<r;++u){var f=e[u],m=f?.[a];if(m!=null){var h=m[1],v=m[0],x=Ei(h)?v:h;x>=0?(m[0]=s,s+=x,m[1]=s):(m[0]=c,c+=x,m[1]=c)}}}},PH=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,c=0;c<r;++c){var u=e[c],f=u?.[a];if(f!=null){var m=Ei(f[1])?f[0]:f[1];m>=0?(f[0]=s,s+=m,f[1]=s):(f[0]=0,f[1]=0)}}}},IH={sign:TH,expand:l$,none:Il,silhouette:o$,wiggle:c$,positive:PH},RH=(e,t,r)=>{var n,a=(n=IH[r])!==null&&n!==void 0?n:Il,s=s$().keys(t).value((u,f)=>Number(sr(u,f,0))).order(iy).offset(a),c=s(e);return c.forEach((u,f)=>{u.forEach((m,h)=>{var v=sr(e[h],t[f],0);Array.isArray(v)&&v.length===2&&Ge(v[0])&&Ge(v[1])&&(m[0]=v[0],m[1]=v[1])})}),c},LH=e=>{var t=e.flat(2).filter(Ge);return[Math.min(...t),Math.max(...t)]},zH=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],FH=(e,t,r)=>{if(e!=null)return zH(Object.keys(e).reduce((n,a)=>{var s=e[a];if(!s)return n;var{stackedData:c}=s,u=c.reduce((f,m)=>{var h=v5(m,t,r),v=LH(h);return!It(v[0])||!It(v[1])?f:[Math.min(f[0],v[0]),Math.max(f[1],v[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},QA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZA=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();return n}if(e&&t&&t.length>=2){for(var a=Oh(t,h=>h.coordinate),s=1/0,c=1,u=a.length;c<u;c++){var f=a[c],m=a[c-1];s=Math.min((f?.coordinate||0)-(m?.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function JA(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return qo(qo({},t),{},{dataKey:r,payload:n,value:a,name:s})}function x5(e,t){if(e)return String(e);if(typeof t=="string")return t}var BH=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},$H=(e,t)=>t==="centric"?e.angle:e.radius,Bi=e=>e.layout.width,$i=e=>e.layout.height,qH=e=>e.layout.scale,g5=e=>e.layout.margin,qh=se(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Hh=se(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),b5="data-recharts-item-index",y5="data-recharts-item-id",Sd=60;function eM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eM(Object(r),!0).forEach(function(n){HH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HH(e,t,r){return(t=UH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UH(e){var t=YH(e,"string");return typeof t=="symbol"?t:t+""}function YH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VH=e=>e.brush.height;function GH(e){var t=Hh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Sd;return r+a}return r},0)}function KH(e){var t=Hh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Sd;return r+a}return r},0)}function WH(e){var t=qh(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function QH(e){var t=qh(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var kr=se([Bi,$i,g5,VH,GH,KH,WH,QH,BT,Aq],(e,t,r,n,a,s,c,u,f,m)=>{var h={left:(r.left||0)+a,right:(r.right||0)+s},v={top:(r.top||0)+c,bottom:(r.bottom||0)+u},x=xm(xm({},v),h),b=x.bottom;x.bottom+=n,x=OH(x,f,m);var S=e-x.left-x.right,w=t-x.top-x.bottom;return xm(xm({brushBottom:b},x),{},{width:Math.max(S,0),height:Math.max(w,0)})}),XH=se(kr,e=>({x:e.left,y:e.top,width:e.width,height:e.height}));se(Bi,$i,(e,t)=>({x:0,y:0,width:e,height:t}));var ZH=j.createContext(null),Ls=()=>j.useContext(ZH)!=null,Uh=e=>e.brush,Yh=se([Uh,kr,g5],(e,t,r)=>({height:e.height,x:Ge(e.x)?e.x:t.left,y:Ge(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Ge(e.width)?e.width:t.width})),Yg={},Vg={},Gg={},tM;function JH(){return tM||(tM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let c,u=null;const f=s!=null&&s.includes("leading"),m=s==null||s.includes("trailing"),h=()=>{u!==null&&(r.apply(c,u),c=void 0,u=null)},v=()=>{m&&h(),w()};let x=null;const b=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,v()},n)},S=()=>{x!==null&&(clearTimeout(x),x=null)},w=()=>{S(),c=void 0,u=null},y=()=>{h()},C=function(...M){if(a?.aborted)return;c=this,u=M;const A=x==null;b(),f&&A&&h()};return C.schedule=b,C.cancel=w,C.flush=y,a?.addEventListener("abort",w,{once:!0}),C}e.debounce=t})(Gg)),Gg}var rM;function e9(){return rM||(rM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JH();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:u=!0,maxWait:f}=s,m=Array(2);c&&(m[0]="leading"),u&&(m[1]="trailing");let h,v=null;const x=t.debounce(function(...w){h=n.apply(this,w),v=null},a,{edges:m}),b=function(...w){return f!=null&&(v===null&&(v=Date.now()),Date.now()-v>=f)?(h=n.apply(this,w),v=Date.now(),x.cancel(),x.schedule(),h):(x.apply(this,w),h)},S=()=>(x.flush(),h);return b.cancel=x.cancel,b.flush=S,b}e.debounce=r})(Vg)),Vg}var nM;function t9(){return nM||(nM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e9();function r(n,a=0,s={}){const{leading:c=!0,trailing:u=!0}=s;return t.debounce(n,a,{leading:c,maxWait:a,trailing:u})}e.throttle=r})(Yg)),Yg}var Kg,aM;function r9(){return aM||(aM=1,Kg=t9().throttle),Kg}var n9=r9();const a9=Wa(n9);var iM=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>a[c++]))}},za={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},w5=(e,t,r)=>{var{width:n=za.width,height:a=za.height,aspect:s,maxHeight:c}=r,u=Rl(n)?e:Number(n),f=Rl(a)?t:Number(a);return s&&s>0&&(u?f=u/s:f&&(u=f*s),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:u,calculatedHeight:f}},i9={width:0,height:0,overflow:"visible"},s9={width:0,overflowX:"visible"},l9={height:0,overflowY:"visible"},o9={},c9=e=>{var{width:t,height:r}=e,n=Rl(t),a=Rl(r);return n&&a?i9:n?s9:a?l9:o9};function u9(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a=za.width,s=za.height):a===void 0?a=n&&n>0?void 0:za.width:s===void 0&&(s=n&&n>0?void 0:za.height),{width:a,height:s}}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(null,arguments)}function sM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sM(Object(r),!0).forEach(function(n){d9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d9(e,t,r){return(t=f9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f9(e){var t=m9(e,"string");return typeof t=="symbol"?t:t+""}function m9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j5=j.createContext(za.initialDimension);function p9(e){return Os(e.width)&&Os(e.height)}function N5(e){var{children:t,width:r,height:n}=e,a=j.useMemo(()=>({width:r,height:n}),[r,n]);return p9(a)?j.createElement(j5.Provider,{value:a},t):null}var O1=()=>j.useContext(j5),h9=j.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=za.initialDimension,width:a,height:s,minWidth:c=za.minWidth,minHeight:u,maxHeight:f,children:m,debounce:h=za.debounce,id:v,className:x,onResize:b,style:S={}}=e,w=j.useRef(null),y=j.useRef();y.current=b,j.useImperativeHandle(t,()=>w.current);var[C,M]=j.useState({containerWidth:n.width,containerHeight:n.height}),A=j.useCallback((O,L)=>{M(R=>{var F=Math.round(O),k=Math.round(L);return R.containerWidth===F&&R.containerHeight===k?R:{containerWidth:F,containerHeight:k}})},[]);j.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return wd;var O=k=>{var X,W=k[0];if(W!=null){var{width:Z,height:B}=W.contentRect;A(Z,B),(X=y.current)===null||X===void 0||X.call(y,Z,B)}};h>0&&(O=a9(O,h,{trailing:!0,leading:!1}));var L=new ResizeObserver(O),{width:R,height:F}=w.current.getBoundingClientRect();return A(R,F),L.observe(w.current),()=>{L.disconnect()}},[A,h]);var{containerWidth:_,containerHeight:E}=C;iM(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:T,calculatedHeight:P}=w5(_,E,{width:a,height:s,aspect:r,maxHeight:f});return iM(T!=null&&T>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,P,a,s,c,u,r),j.createElement("div",{id:v?"".concat(v):void 0,className:nt("recharts-responsive-container",x),style:lM(lM({},S),{},{width:a,height:s,minWidth:c,minHeight:u,maxHeight:f}),ref:w},j.createElement("div",{style:c9({width:a,height:s})},j.createElement(N5,{width:T,height:P},m)))}),S5=j.forwardRef((e,t)=>{var r=O1();if(Os(r.width)&&Os(r.height))return e.children;var{width:n,height:a}=u9({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:c}=w5(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Ge(s)&&Ge(c)?j.createElement(N5,{width:s,height:c},e.children):j.createElement(h9,xy({},e,{width:n,height:a,ref:t}))});function T1(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Vh=()=>{var e,t=Ls(),r=et(XH),n=et(Yh),a=(e=et(Uh))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},v9={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},x9=()=>{var e;return(e=et(kr))!==null&&e!==void 0?e:v9},g9=()=>et(Bi),b9=()=>et($i),Wt=e=>e.layout.layoutType,Gh=()=>et(Wt),C5=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},y9=()=>{var e=Gh();return e!==void 0},Cd=e=>{var t=Sr(),r=Ls(),{width:n,height:a}=e,s=O1(),c=n,u=a;return s&&(c=s.width>0?s.width:n,u=s.height>0?s.height:a),j.useEffect(()=>{!r&&Os(c)&&Os(u)&&t(AH({width:c,height:u}))},[t,r,c,u]),null},A5=Symbol.for("immer-nothing"),oM=Symbol.for("immer-draftable"),In=Symbol.for("immer-state");function ca(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ad=Object.getPrototypeOf;function Zo(e){return!!e&&!!e[In]}function zl(e){return e?M5(e)||Array.isArray(e)||!!e[oM]||!!e.constructor?.[oM]||Ad(e)||Wh(e):!1}var w9=Object.prototype.constructor.toString(),cM=new WeakMap;function M5(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=cM.get(r);return n===void 0&&(n=Function.toString.call(r),cM.set(r,n)),n===w9}function Tp(e,t,r=!0){Kh(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Kh(e){const t=e[In];return t?t.type_:Array.isArray(e)?1:Ad(e)?2:Wh(e)?3:0}function gy(e,t){return Kh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function D5(e,t,r){const n=Kh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function j9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ad(e){return e instanceof Map}function Wh(e){return e instanceof Set}function pl(e){return e.copy_||e.base_}function by(e,t){if(Ad(e))return new Map(e);if(Wh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=M5(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[In];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const c=a[s],u=n[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(ad(e),n)}else{const n=ad(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function P1(e,t=!1){return Qh(e)||Zo(e)||!zl(e)||(Kh(e)>1&&Object.defineProperties(e,{set:gm,add:gm,clear:gm,delete:gm}),Object.freeze(e),t&&Object.values(e).forEach(r=>P1(r,!0))),e}function N9(){ca(2)}var gm={value:N9};function Qh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var S9={};function Fl(e){const t=S9[e];return t||ca(0,e),t}var id;function k5(){return id}function C9(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function uM(e,t){t&&(Fl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function yy(e){wy(e),e.drafts_.forEach(A9),e.drafts_=null}function wy(e){e===id&&(id=e.parent_)}function dM(e){return id=C9(id,e)}function A9(e){const t=e[In];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function fM(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[In].modified_&&(yy(t),ca(4)),zl(e)&&(e=Pp(t,e),t.parent_||Ip(t,e)),t.patches_&&Fl("Patches").generateReplacementPatches_(r[In].base_,e,t.patches_,t.inversePatches_)):e=Pp(t,r,[]),yy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==A5?e:void 0}function Pp(e,t,r){if(Qh(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[In];if(!a)return Tp(t,(s,c)=>mM(e,a,t,s,c,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Ip(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let c=s,u=!1;a.type_===3&&(c=new Set(s),s.clear(),u=!0),Tp(c,(f,m)=>mM(e,a,s,f,m,r,u),n),Ip(e,s,!1),r&&e.patches_&&Fl("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function mM(e,t,r,n,a,s,c){if(a==null||typeof a!="object"&&!c)return;const u=Qh(a);if(!(u&&!c)){if(Zo(a)){const f=s&&t&&t.type_!==3&&!gy(t.assigned_,n)?s.concat(n):void 0,m=Pp(e,a,f);if(D5(r,n,m),Zo(m))e.canAutoFreeze_=!1;else return}else c&&r.add(a);if(zl(a)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&u)return;Pp(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Ad(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Ip(e,a)}}}function Ip(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&P1(t,r)}function M9(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:k5(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=I1;r&&(a=[n],s=sd);const{revoke:c,proxy:u}=Proxy.revocable(a,s);return n.draft_=u,n.revoke_=c,u}var I1={get(e,t){if(t===In)return e;const r=pl(e);if(!gy(r,t))return D9(e,r,t);const n=r[t];return e.finalized_||!zl(n)?n:n===Wg(e.base_,t)?(Qg(e),e.copy_[t]=Ny(n,e)):n},has(e,t){return t in pl(e)},ownKeys(e){return Reflect.ownKeys(pl(e))},set(e,t,r){const n=E5(pl(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Wg(pl(e),t),s=a?.[In];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(j9(r,a)&&(r!==void 0||gy(e.base_,t)))return!0;Qg(e),jy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Wg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Qg(e),jy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=pl(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ca(11)},getPrototypeOf(e){return ad(e.base_)},setPrototypeOf(){ca(12)}},sd={};Tp(I1,(e,t)=>{sd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});sd.deleteProperty=function(e,t){return sd.set.call(this,e,t,void 0)};sd.set=function(e,t,r){return I1.set.call(this,e[0],t,r,e[0])};function Wg(e,t){const r=e[In];return(r?pl(r):e)[t]}function D9(e,t,r){const n=E5(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function E5(e,t){if(!(t in e))return;let r=ad(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ad(r)}}function jy(e){e.modified_||(e.modified_=!0,e.parent_&&jy(e.parent_))}function Qg(e){e.copy_||(e.copy_=by(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var k9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const c=this;return function(f=s,...m){return c.produce(f,h=>r.call(this,h,...m))}}typeof r!="function"&&ca(6),n!==void 0&&typeof n!="function"&&ca(7);let a;if(zl(t)){const s=dM(this),c=Ny(t,void 0);let u=!0;try{a=r(c),u=!1}finally{u?yy(s):wy(s)}return uM(s,n),fM(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===A5&&(a=void 0),this.autoFreeze_&&P1(a,!0),n){const s=[],c=[];Fl("Patches").generateReplacementPatches_(t,a,s,c),n(s,c)}return a}else ca(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,f=>t(f,...u));let n,a;return[this.produce(t,r,(c,u)=>{n=c,a=u}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){zl(e)||ca(8),Zo(e)&&(e=E9(e));const t=dM(this),r=Ny(e,void 0);return r[In].isManual_=!0,wy(t),r}finishDraft(e,t){const r=e&&e[In];(!r||!r.isManual_)&&ca(9);const{scope_:n}=r;return uM(n,t),fM(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Fl("Patches").applyPatches_;return Zo(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Ny(e,t){const r=Ad(e)?Fl("MapSet").proxyMap_(e,t):Wh(e)?Fl("MapSet").proxySet_(e,t):M9(e,t);return(t?t.scope_:k5()).drafts_.push(r),r}function E9(e){return Zo(e)||ca(10,e),_5(e)}function _5(e){if(!zl(e)||Qh(e))return e;const t=e[In];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=by(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=by(e,!0);return Tp(r,(a,s)=>{D5(r,a,_5(s))},n),t&&(t.finalized_=!1),r}var _9=new k9;_9.produce;var O9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},O5=vn({name:"legend",initialState:O9,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Vt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=fa(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Vt()},removeLegendPayload:{reducer(e,t){var r=fa(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Vt()}}}),{setLegendSize:zle,setLegendSettings:Fle,addLegendPayload:T9,replaceLegendPayload:P9,removeLegendPayload:I9}=O5.actions,R9=O5.reducer;function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sy.apply(null,arguments)}function pM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pM(Object(r),!0).forEach(function(n){L9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L9(e,t,r){return(t=z9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z9(e){var t=F9(e,"string");return typeof t=="symbol"?t:t+""}function F9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B9(e){return Array.isArray(e)&&_i(e[0])&&_i(e[1])?e.join(" ~ "):e}var Eo={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},$9=e=>{var{separator:t=Eo.separator,contentStyle:r,itemStyle:n,labelStyle:a=Eo.labelStyle,payload:s,formatter:c,itemSorter:u,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:v,accessibilityLayer:x=Eo.accessibilityLayer}=e,b=()=>{if(s&&s.length){var E={padding:0,margin:0},T=(u?Oh(s,u):s).map((P,O)=>{if(P.type==="none")return null;var L=P.formatter||c||B9,{value:R,name:F}=P,k=R,X=F;if(L){var W=L(R,F,P,O,s);if(Array.isArray(W))[k,X]=W;else if(W!=null)k=W;else return null}var Z=Cu(Cu({},Eo.itemStyle),{},{color:P.color||Eo.itemStyle.color},n);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:Z},_i(X)?j.createElement("span",{className:"recharts-tooltip-item-name"},X):null,_i(X)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},k),j.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:E},T)}return null},S=Cu(Cu({},Eo.contentStyle),r),w=Cu({margin:0},a),y=!Pn(h),C=y?h:"",M=nt("recharts-default-tooltip",f),A=nt("recharts-tooltip-label",m);y&&v&&s!==void 0&&s!==null&&(C=v(h,s));var _=x?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",Sy({className:M,style:S},_),j.createElement("p",{className:A,style:w},j.isValidElement(C)?C:"".concat(C)),b())},Au="recharts-tooltip-wrapper",q9={visibility:"hidden"};function H9(e){var{coordinate:t,translateX:r,translateY:n}=e;return nt(Au,{["".concat(Au,"-right")]:Ge(r)&&t&&Ge(t.x)&&r>=t.x,["".concat(Au,"-left")]:Ge(r)&&t&&Ge(t.x)&&r<t.x,["".concat(Au,"-bottom")]:Ge(n)&&t&&Ge(t.y)&&n>=t.y,["".concat(Au,"-top")]:Ge(n)&&t&&Ge(t.y)&&n<t.y})}function hM(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:a,position:s,reverseDirection:c,tooltipDimension:u,viewBox:f,viewBoxDimension:m}=e;if(s&&Ge(s[n]))return s[n];var h=r[n]-u-(a>0?a:0),v=r[n]+a;if(t[n])return c[n]?h:v;var x=f[n];if(x==null)return 0;if(c[n]){var b=h,S=x;return b<S?Math.max(v,x):Math.max(h,x)}if(m==null)return 0;var w=v+u,y=x+m;return w>y?Math.max(h,x):Math.max(v,x)}function U9(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Y9(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:a,position:s,reverseDirection:c,tooltipBox:u,useTranslate3d:f,viewBox:m}=e,h,v,x;return u.height>0&&u.width>0&&r?(v=hM({allowEscapeViewBox:t,coordinate:r,key:"x",offset:a,position:s,reverseDirection:c,tooltipDimension:u.width,viewBox:m,viewBoxDimension:m.width}),x=hM({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:s,reverseDirection:c,tooltipDimension:u.height,viewBox:m,viewBoxDimension:m.height}),h=U9({translateX:v,translateY:x,useTranslate3d:f})):h=q9,{cssProperties:h,cssClasses:H9({translateX:v,translateY:x,coordinate:r})}}function vM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vM(Object(r),!0).forEach(function(n){Cy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cy(e,t,r){return(t=V9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V9(e){var t=G9(e,"string");return typeof t=="symbol"?t:t+""}function G9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class K9 extends j.PureComponent{constructor(){super(...arguments),Cy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Cy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:c,hasPayload:u,isAnimationActive:f,offset:m,position:h,reverseDirection:v,useTranslate3d:x,viewBox:b,wrapperStyle:S,lastBoundingBox:w,innerRef:y,hasPortalFromProps:C}=this.props,M=typeof m=="number"?m:m.x,A=typeof m=="number"?m:m.y,{cssClasses:_,cssProperties:E}=Y9({allowEscapeViewBox:r,coordinate:c,offsetLeft:M,offsetTop:A,position:h,reverseDirection:v,tooltipBox:{height:w.height,width:w.width},useTranslate3d:x,viewBox:b}),T=C?{}:bm(bm({transition:f&&t?"transform ".concat(n,"ms ").concat(a):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),P=bm(bm({},T),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:P,ref:y},s)}}var T5=()=>{var e;return(e=et(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ay.apply(null,arguments)}function xM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xM(Object(r),!0).forEach(function(n){W9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W9(e,t,r){return(t=Q9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q9(e){var t=X9(e,"string");return typeof t=="symbol"?t:t+""}function X9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bM={curveBasisClosed:WB,curveBasisOpen:QB,curveBasis:KB,curveBumpX:PB,curveBumpY:IB,curveLinearClosed:XB,curveLinear:Eh,curveMonotoneX:ZB,curveMonotoneY:JB,curveNatural:e$,curveStep:t$,curveStepAfter:n$,curveStepBefore:r$},Rp=e=>It(e.x)&&It(e.y),yM=e=>e.base!=null&&Rp(e.base)&&Rp(e),Mu=e=>e.x,Du=e=>e.y,Z9=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(yd(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=bM["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return bM[r]||Eh},wM={connectNulls:!1,type:"linear"},J9=e=>{var{type:t=wM.type,points:r=[],baseLine:n,layout:a,connectNulls:s=wM.connectNulls}=e,c=Z9(t,a),u=s?r.filter(Rp):r;if(Array.isArray(n)){var f,m=r.map((S,w)=>gM(gM({},S),{},{base:n[w]}));a==="vertical"?f=dm().y(Du).x1(Mu).x0(S=>S.base.x):f=dm().x(Mu).y1(Du).y0(S=>S.base.y);var h=f.defined(yM).curve(c),v=s?m.filter(yM):m;return h(v)}var x;a==="vertical"&&Ge(n)?x=dm().y(Du).x1(Mu).x0(n):Ge(n)?x=dm().x(Mu).y1(Du).y0(n):x=mT().x(Mu).y(Du);var b=x.defined(Rp).curve(c);return b(u)},R1=e=>{var{className:t,points:r,path:n,pathRef:a}=e,s=Gh();if((!r||!r.length)&&!n)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},u=r&&r.length?J9(c):n;return j.createElement("path",Ay({},Qo(e),M$(e),{className:nt("recharts-curve",t),d:u===null?void 0:u,ref:a}))},e7=["x","y","top","left","width","height","className"];function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},My.apply(null,arguments)}function jM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(r),!0).forEach(function(n){r7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r7(e,t,r){return(t=n7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n7(e){var t=a7(e,"string");return typeof t=="symbol"?t:t+""}function a7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i7(e,t){if(e==null)return{};var r,n,a=s7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function s7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var l7=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),o7=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:c=0,className:u}=e,f=i7(e,e7),m=t7({x:t,y:r,top:n,left:a,width:s,height:c},f);return!Ge(t)||!Ge(r)||!Ge(s)||!Ge(c)||!Ge(n)||!Ge(a)?null:j.createElement("path",My({},Zn(m),{className:nt("recharts-cross",u),d:l7(t,r,s,c,n,a)}))};function c7(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function NM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NM(Object(r),!0).forEach(function(n){u7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u7(e,t,r){return(t=d7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d7(e){var t=f7(e,"string");return typeof t=="symbol"?t:t+""}function f7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m7=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),P5=(e,t,r)=>e.map(n=>"".concat(m7(n)," ").concat(t,"ms ").concat(r)).join(","),p7=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),ld=(e,t)=>Object.keys(t).reduce((r,n)=>SM(SM({},r),{},{[n]:e(n,t[n])}),{});function CM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CM(Object(r),!0).forEach(function(n){h7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h7(e,t,r){return(t=v7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v7(e){var t=x7(e,"string");return typeof t=="symbol"?t:t+""}function x7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lp=(e,t,r)=>e+(t-e)*r,Dy=e=>{var{from:t,to:r}=e;return t!==r},I5=(e,t,r)=>{var n=ld((a,s)=>{if(Dy(s)){var[c,u]=e(s.from,s.to,s.velocity);return Nr(Nr({},s),{},{from:c,velocity:u})}return s},t);return r<1?ld((a,s)=>Dy(s)&&n[a]!=null?Nr(Nr({},s),{},{velocity:Lp(s.velocity,n[a].velocity,r),from:Lp(s.from,n[a].from,r)}):s,t):I5(e,n,r-1)};function g7(e,t,r,n,a,s){var c,u=n.reduce((x,b)=>Nr(Nr({},x),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),f=()=>ld((x,b)=>b.from,u),m=()=>!Object.values(u).filter(Dy).length,h=null,v=x=>{c||(c=x);var b=x-c,S=b/r.dt;u=I5(r,u,S),a(Nr(Nr(Nr({},e),t),f())),c=x,m()||(h=s.setTimeout(v))};return()=>(h=s.setTimeout(v),()=>{var x;(x=h)===null||x===void 0||x()})}function b7(e,t,r,n,a,s,c){var u=null,f=a.reduce((v,x)=>{var b=e[x],S=t[x];return b==null||S==null?v:Nr(Nr({},v),{},{[x]:[b,S]})},{}),m,h=v=>{m||(m=v);var x=(v-m)/n,b=ld((w,y)=>Lp(...y,r(x)),f);if(s(Nr(Nr(Nr({},e),t),b)),x<1)u=c.setTimeout(h);else{var S=ld((w,y)=>Lp(...y,r(1)),f);s(Nr(Nr(Nr({},e),t),S))}};return()=>(u=c.setTimeout(h),()=>{var v;(v=u)===null||v===void 0||v()})}const y7=(e,t,r,n,a,s)=>{var c=p7(e,t);return r==null?()=>(a(Nr(Nr({},e),t)),()=>{}):r.isStepper===!0?g7(e,t,r,c,a,s):b7(e,t,r,n,c,a,s)};var zp=1e-4,R5=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],L5=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),AM=(e,t)=>r=>{var n=R5(e,t);return L5(n,r)},w7=(e,t)=>r=>{var n=R5(e,t),a=[...n.map((s,c)=>s*c).slice(1),0];return L5(a,r)},j7=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},N7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=j7(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},S7=(e,t,r,n)=>{var a=AM(e,r),s=AM(t,n),c=w7(e,r),u=m=>m>1?1:m<0?0:m,f=m=>{for(var h=m>1?1:m,v=h,x=0;x<8;++x){var b=a(v)-h,S=c(v);if(Math.abs(b-h)<zp||S<zp)return s(v);v=u(v-b/S)}return s(v)};return f.isStepper=!1,f},MM=function(){return S7(...N7(...arguments))},C7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(c,u,f)=>{var m=-(c-u)*r,h=f*n,v=f+(m-h)*a/1e3,x=f*a/1e3+c;return Math.abs(x-u)<zp&&Math.abs(v)<zp?[u,0]:[x,v]};return s.isStepper=!0,s.dt=a,s},A7=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return MM(e);case"spring":return C7();default:if(e.split("(")[0]==="cubic-bezier")return MM(e)}return typeof e=="function"?e:null};function M7(e){var t,r=()=>null,n=!1,a=null,s=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var u=c,[f,...m]=u;if(typeof f=="number"){a=e.setTimeout(s.bind(null,m),f);return}s(f),a=e.setTimeout(s.bind(null,m));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,a&&(a(),a=null),s(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class D7{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function k7(){return M7(new D7)}var E7=j.createContext(k7);function _7(e,t){var r=j.useContext(E7);return j.useMemo(()=>t??r(e),[e,t,r])}var O7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),L1={isSsr:O7()},T7={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},DM={t:0},Xg={t:1};function z1(e){var t=Ja(e,T7),{isActive:r,canBegin:n,duration:a,easing:s,begin:c,onAnimationEnd:u,onAnimationStart:f,children:m}=t,h=r==="auto"?!L1.isSsr:r,v=_7(t.animationId,t.animationManager),[x,b]=j.useState(h?DM:Xg),S=j.useRef(null);return j.useEffect(()=>{h||b(Xg)},[h]),j.useEffect(()=>{if(!h||!n)return wd;var w=y7(DM,Xg,A7(s),a,b,v.getTimeoutController()),y=()=>{S.current=w()};return v.start([f,c,y,a,u]),()=>{v.stop(),S.current&&S.current(),u()}},[h,n,a,s,c,f,u,v]),m(x.t)}function F1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=j.useRef(ed(t)),n=j.useRef(e);return n.current!==e&&(r.current=ed(t),n.current=e),r.current}var P7=["radius"],I7=["radius"],kM,EM,_M,OM,TM,PM,IM,RM,LM,zM;function FM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FM(Object(r),!0).forEach(function(n){R7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R7(e,t,r){return(t=L7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L7(e){var t=z7(e,"string");return typeof t=="symbol"?t:t+""}function z7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fp(){return Fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fp.apply(null,arguments)}function $M(e,t){if(e==null)return{};var r,n,a=F7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function F7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ka(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var qM=(e,t,r,n,a)=>{var s=Ss(r),c=Ss(n),u=Math.min(Math.abs(s)/2,Math.abs(c)/2),f=c>=0?1:-1,m=s>=0?1:-1,h=c>=0&&s>=0||c<0&&s<0?1:0,v;if(u>0&&Array.isArray(a)){for(var x=[0,0,0,0],b=0,S=4;b<S;b++){var w,y=(w=a[b])!==null&&w!==void 0?w:0;x[b]=y>u?u:y}v=ar(kM||(kM=ka(["M",",",""])),e,t+f*x[0]),x[0]>0&&(v+=ar(EM||(EM=ka(["A ",",",",0,0,",",",",",""])),x[0],x[0],h,e+m*x[0],t)),v+=ar(_M||(_M=ka(["L ",",",""])),e+r-m*x[1],t),x[1]>0&&(v+=ar(OM||(OM=ka(["A ",",",",0,0,",`,
        `,",",""])),x[1],x[1],h,e+r,t+f*x[1])),v+=ar(TM||(TM=ka(["L ",",",""])),e+r,t+n-f*x[2]),x[2]>0&&(v+=ar(PM||(PM=ka(["A ",",",",0,0,",`,
        `,",",""])),x[2],x[2],h,e+r-m*x[2],t+n)),v+=ar(IM||(IM=ka(["L ",",",""])),e+m*x[3],t+n),x[3]>0&&(v+=ar(RM||(RM=ka(["A ",",",",0,0,",`,
        `,",",""])),x[3],x[3],h,e,t+n-f*x[3])),v+="Z"}else if(u>0&&a===+a&&a>0){var C=Math.min(u,a);v=ar(LM||(LM=ka(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*C,C,C,h,e+m*C,t,e+r-m*C,t,C,C,h,e+r,t+f*C,e+r,t+n-f*C,C,C,h,e+r-m*C,t+n,e+m*C,t+n,C,C,h,e,t+n-f*C)}else v=ar(zM||(zM=ka(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return v},HM={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},z5=e=>{var t=Ja(e,HM),r=j.useRef(null),[n,a]=j.useState(-1);j.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var G=r.current.getTotalLength();G&&a(G)}catch{}},[]);var{x:s,y:c,width:u,height:f,radius:m,className:h}=t,{animationEasing:v,animationDuration:x,animationBegin:b,isAnimationActive:S,isUpdateAnimationActive:w}=t,y=j.useRef(u),C=j.useRef(f),M=j.useRef(s),A=j.useRef(c),_=j.useMemo(()=>({x:s,y:c,width:u,height:f,radius:m}),[s,c,u,f,m]),E=F1(_,"rectangle-");if(s!==+s||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var T=nt("recharts-rectangle",h);if(!w){var P=Zn(t),{radius:O}=P,L=$M(P,P7);return j.createElement("path",Fp({},L,{x:Ss(s),y:Ss(c),width:Ss(u),height:Ss(f),radius:typeof m=="number"?m:void 0,className:T,d:qM(s,c,u,f,m)}))}var R=y.current,F=C.current,k=M.current,X=A.current,W="0px ".concat(n===-1?1:n,"px"),Z="".concat(n,"px 0px"),B=P5(["strokeDasharray"],x,typeof v=="string"?v:HM.animationEasing);return j.createElement(z1,{animationId:E,key:E,canBegin:n>0,duration:x,easing:v,isActive:w,begin:b},G=>{var z=la(R,u,G),ne=la(F,f,G),ge=la(k,s,G),$=la(X,c,G);r.current&&(y.current=z,C.current=ne,M.current=ge,A.current=$);var ie;S?G>0?ie={transition:B,strokeDasharray:Z}:ie={strokeDasharray:W}:ie={strokeDasharray:Z};var pe=Zn(t),{radius:ue}=pe,je=$M(pe,I7);return j.createElement("path",Fp({},je,{radius:typeof m=="number"?m:void 0,className:T,d:qM(ge,$,z,ne,m),ref:r,style:BM(BM({},ie),t.style)}))})};function UM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(r),!0).forEach(function(n){B7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B7(e,t,r){return(t=$7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $7(e){var t=q7(e,"string");return typeof t=="symbol"?t:t+""}function q7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bp=Math.PI/180,H7=e=>e*180/Math.PI,br=(e,t,r,n)=>({x:e+Math.cos(-Bp*n)*r,y:t+Math.sin(-Bp*n)*r}),F5=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},U7=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},Y7=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,c=U7({x:r,y:n},{x:a,y:s});if(c<=0)return{radius:c,angle:0};var u=(r-a)/c,f=Math.acos(u);return n>s&&(f=2*Math.PI-f),{radius:c,angle:H7(f),angleInRadian:f}},V7=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},G7=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),c=Math.min(a,s);return e+c*360},K7=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=Y7({x:r,y:n},t),{innerRadius:c,outerRadius:u}=t;if(a<c||a>u||a===0)return null;var{startAngle:f,endAngle:m}=V7(t),h=s,v;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;v=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;v=h>=m&&h<=f}return v?YM(YM({},t),{},{radius:a,angle:G7(h,t)}):null};function B5(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,c=br(t,r,n,a),u=br(t,r,n,s);return{points:[c,u],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}var VM,GM,KM,WM,QM,XM,ZM;function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ky.apply(null,arguments)}function wl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var W7=(e,t)=>{var r=mn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},ym=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:c,cornerRadius:u,cornerIsExternal:f}=e,m=u*(c?1:-1)+n,h=Math.asin(u/m)/Bp,v=f?a:a+s*h,x=br(t,r,m,v),b=br(t,r,n,v),S=f?a-s*h:a,w=br(t,r,m*Math.cos(h*Bp),S);return{center:x,circleTangency:b,lineTangency:w,theta:h}},$5=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:c}=e,u=W7(s,c),f=s+u,m=br(t,r,a,s),h=br(t,r,a,f),v=ar(VM||(VM=wl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,a,a,+(Math.abs(u)>180),+(s>f),h.x,h.y);if(n>0){var x=br(t,r,n,s),b=br(t,r,n,f);v+=ar(GM||(GM=wl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),b.x,b.y,n,n,+(Math.abs(u)>180),+(s<=f),x.x,x.y)}else v+=ar(KM||(KM=wl(["L ",","," Z"])),t,r);return v},Q7=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m}=e,h=mn(m-f),{circleTangency:v,lineTangency:x,theta:b}=ym({cx:t,cy:r,radius:a,angle:f,sign:h,cornerRadius:s,cornerIsExternal:u}),{circleTangency:S,lineTangency:w,theta:y}=ym({cx:t,cy:r,radius:a,angle:m,sign:-h,cornerRadius:s,cornerIsExternal:u}),C=u?Math.abs(f-m):Math.abs(f-m)-b-y;if(C<0)return c?ar(WM||(WM=wl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),x.x,x.y,s,s,s*2,s,s,-s*2):$5({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:f,endAngle:m});var M=ar(QM||(QM=wl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),x.x,x.y,s,s,+(h<0),v.x,v.y,a,a,+(C>180),+(h<0),S.x,S.y,s,s,+(h<0),w.x,w.y);if(n>0){var{circleTangency:A,lineTangency:_,theta:E}=ym({cx:t,cy:r,radius:n,angle:f,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:T,lineTangency:P,theta:O}=ym({cx:t,cy:r,radius:n,angle:m,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),L=u?Math.abs(f-m):Math.abs(f-m)-E-O;if(L<0&&s===0)return"".concat(M,"L").concat(t,",").concat(r,"Z");M+=ar(XM||(XM=wl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,s,s,+(h<0),T.x,T.y,n,n,+(L>180),+(h>0),A.x,A.y,s,s,+(h<0),_.x,_.y)}else M+=ar(ZM||(ZM=wl(["L",",","Z"])),t,r);return M},X7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},q5=e=>{var t=Ja(e,X7),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h,className:v}=t;if(s<a||m===h)return null;var x=nt("recharts-sector",v),b=s-a,S=_n(c,b,0,!0),w;return S>0&&Math.abs(m-h)<360?w=Q7({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(S,b/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h}):w=$5({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:m,endAngle:h}),j.createElement("path",ky({},Zn(t),{className:x,d:w}))};function Z7(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(DT(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:c,angle:u}=t,f=br(n,a,s,u),m=br(n,a,c,u);return[{x:f.x,y:f.y},{x:m.x,y:m.y}]}return B5(t)}}var Zg={},Jg={},eb={},JM;function J7(){return JM||(JM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zT();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(eb)),eb}var eD;function eU(){return eD||(eD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J7();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Jg)),Jg}var tD;function tU(){return tD||(tD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FT(),r=eU();function n(a,s,c){c&&typeof c!="number"&&t.isIterateeCall(a,s,c)&&(s=c=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),c=c===void 0?a<s?1:-1:r.toFinite(c);const u=Math.max(Math.ceil((s-a)/(c||1)),0),f=new Array(u);for(let m=0;m<u;m++)f[m]=a,a+=c;return f}e.range=n})(Zg)),Zg}var tb,rD;function rU(){return rD||(rD=1,tb=tU().range),tb}var nU=rU();const H5=Wa(nU);function As(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function aU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function B1(e){let t,r,n;e.length!==2?(t=As,r=(u,f)=>As(e(u),f),n=(u,f)=>e(u)-f):(t=e===As||e===aU?e:iU,r=e,n=e);function a(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const v=m+h>>>1;r(u[v],f)<0?m=v+1:h=v}while(m<h)}return m}function s(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const v=m+h>>>1;r(u[v],f)<=0?m=v+1:h=v}while(m<h)}return m}function c(u,f,m=0,h=u.length){const v=a(u,f,m,h-1);return v>m&&n(u[v-1],f)>-n(u[v],f)?v-1:v}return{left:a,center:c,right:s}}function iU(){return 0}function U5(e){return e===null?NaN:+e}function*sU(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const lU=B1(As),Md=lU.right;B1(U5).center;class nD extends Map{constructor(t,r=uU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(aD(this,t))}has(t){return super.has(aD(this,t))}set(t,r){return super.set(oU(this,t),r)}delete(t){return super.delete(cU(this,t))}}function aD({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function oU({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function cU({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function uU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function dU(e=As){if(e===As)return Y5;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Y5(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const fU=Math.sqrt(50),mU=Math.sqrt(10),pU=Math.sqrt(2);function $p(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),c=s>=fU?10:s>=mU?5:s>=pU?2:1;let u,f,m;return a<0?(m=Math.pow(10,-a)/c,u=Math.round(e*m),f=Math.round(t*m),u/m<e&&++u,f/m>t&&--f,m=-m):(m=Math.pow(10,a)*c,u=Math.round(e/m),f=Math.round(t/m),u*m<e&&++u,f*m>t&&--f),f<u&&.5<=r&&r<2?$p(e,t,r*2):[u,f,m]}function Ey(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,c]=n?$p(t,e,r):$p(e,t,r);if(!(s>=a))return[];const u=s-a+1,f=new Array(u);if(n)if(c<0)for(let m=0;m<u;++m)f[m]=(s-m)/-c;else for(let m=0;m<u;++m)f[m]=(s-m)*c;else if(c<0)for(let m=0;m<u;++m)f[m]=(a+m)/-c;else for(let m=0;m<u;++m)f[m]=(a+m)*c;return f}function _y(e,t,r){return t=+t,e=+e,r=+r,$p(e,t,r)[2]}function Oy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?_y(t,e,r):_y(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function iD(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function sD(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function V5(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Y5:dU(a);n>r;){if(n-r>600){const f=n-r+1,m=t-r+1,h=Math.log(f),v=.5*Math.exp(2*h/3),x=.5*Math.sqrt(h*v*(f-v)/f)*(m-f/2<0?-1:1),b=Math.max(r,Math.floor(t-m*v/f+x)),S=Math.min(n,Math.floor(t+(f-m)*v/f+x));V5(e,t,b,S,a)}const s=e[t];let c=r,u=n;for(ku(e,r,t),a(e[n],s)>0&&ku(e,r,n);c<u;){for(ku(e,c,u),++c,--u;a(e[c],s)<0;)++c;for(;a(e[u],s)>0;)--u}a(e[r],s)===0?ku(e,r,u):(++u,ku(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function ku(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function hU(e,t,r){if(e=Float64Array.from(sU(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return sD(e);if(t>=1)return iD(e);var n,a=(n-1)*t,s=Math.floor(a),c=iD(V5(e,s).subarray(0,s+1)),u=sD(e.subarray(s+1));return c+(u-c)*(a-s)}}function vU(e,t,r=U5){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),c=+r(e[s],s,e),u=+r(e[s+1],s+1,e);return c+(u-c)*(a-s)}}function xU(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function ra(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function qi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ty=Symbol("implicit");function $1(){var e=new nD,t=[],r=[],n=Ty;function a(s){let c=e.get(s);if(c===void 0){if(n!==Ty)return n;e.set(s,c=t.push(s)-1)}return r[c%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new nD;for(const c of s)e.has(c)||e.set(c,t.push(c)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return $1(t,r).unknown(n)},ra.apply(a,arguments),a}function q1(){var e=$1().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,c,u=!1,f=0,m=0,h=.5;delete e.unknown;function v(){var x=t().length,b=a<n,S=b?a:n,w=b?n:a;s=(w-S)/Math.max(1,x-f+m*2),u&&(s=Math.floor(s)),S+=(w-S-s*(x-f))*h,c=s*(1-f),u&&(S=Math.round(S),c=Math.round(c));var y=xU(x).map(function(C){return S+s*C});return r(b?y.reverse():y)}return e.domain=function(x){return arguments.length?(t(x),v()):t()},e.range=function(x){return arguments.length?([n,a]=x,n=+n,a=+a,v()):[n,a]},e.rangeRound=function(x){return[n,a]=x,n=+n,a=+a,u=!0,v()},e.bandwidth=function(){return c},e.step=function(){return s},e.round=function(x){return arguments.length?(u=!!x,v()):u},e.padding=function(x){return arguments.length?(f=Math.min(1,m=+x),v()):f},e.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),v()):f},e.paddingOuter=function(x){return arguments.length?(m=+x,v()):m},e.align=function(x){return arguments.length?(h=Math.max(0,Math.min(1,x)),v()):h},e.copy=function(){return q1(t(),[n,a]).round(u).paddingInner(f).paddingOuter(m).align(h)},ra.apply(v(),arguments)}function G5(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return G5(t())},e}function gU(){return G5(q1.apply(null,arguments).paddingInner(1))}function H1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function K5(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Dd(){}var od=.7,qp=1/od,Vo="\\s*([+-]?\\d+)\\s*",cd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ha="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bU=/^#([0-9a-f]{3,8})$/,yU=new RegExp(`^rgb\\(${Vo},${Vo},${Vo}\\)$`),wU=new RegExp(`^rgb\\(${Ha},${Ha},${Ha}\\)$`),jU=new RegExp(`^rgba\\(${Vo},${Vo},${Vo},${cd}\\)$`),NU=new RegExp(`^rgba\\(${Ha},${Ha},${Ha},${cd}\\)$`),SU=new RegExp(`^hsl\\(${cd},${Ha},${Ha}\\)$`),CU=new RegExp(`^hsla\\(${cd},${Ha},${Ha},${cd}\\)$`),lD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};H1(Dd,ud,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:oD,formatHex:oD,formatHex8:AU,formatHsl:MU,formatRgb:cD,toString:cD});function oD(){return this.rgb().formatHex()}function AU(){return this.rgb().formatHex8()}function MU(){return W5(this).formatHsl()}function cD(){return this.rgb().formatRgb()}function ud(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=bU.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?uD(t):r===3?new pn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?wm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?wm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=yU.exec(e))?new pn(t[1],t[2],t[3],1):(t=wU.exec(e))?new pn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jU.exec(e))?wm(t[1],t[2],t[3],t[4]):(t=NU.exec(e))?wm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=SU.exec(e))?mD(t[1],t[2]/100,t[3]/100,1):(t=CU.exec(e))?mD(t[1],t[2]/100,t[3]/100,t[4]):lD.hasOwnProperty(e)?uD(lD[e]):e==="transparent"?new pn(NaN,NaN,NaN,0):null}function uD(e){return new pn(e>>16&255,e>>8&255,e&255,1)}function wm(e,t,r,n){return n<=0&&(e=t=r=NaN),new pn(e,t,r,n)}function DU(e){return e instanceof Dd||(e=ud(e)),e?(e=e.rgb(),new pn(e.r,e.g,e.b,e.opacity)):new pn}function Py(e,t,r,n){return arguments.length===1?DU(e):new pn(e,t,r,n??1)}function pn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}H1(pn,Py,K5(Dd,{brighter(e){return e=e==null?qp:Math.pow(qp,e),new pn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?od:Math.pow(od,e),new pn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pn(Dl(this.r),Dl(this.g),Dl(this.b),Hp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dD,formatHex:dD,formatHex8:kU,formatRgb:fD,toString:fD}));function dD(){return`#${jl(this.r)}${jl(this.g)}${jl(this.b)}`}function kU(){return`#${jl(this.r)}${jl(this.g)}${jl(this.b)}${jl((isNaN(this.opacity)?1:this.opacity)*255)}`}function fD(){const e=Hp(this.opacity);return`${e===1?"rgb(":"rgba("}${Dl(this.r)}, ${Dl(this.g)}, ${Dl(this.b)}${e===1?")":`, ${e})`}`}function Hp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Dl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jl(e){return e=Dl(e),(e<16?"0":"")+e.toString(16)}function mD(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ua(e,t,r,n)}function W5(e){if(e instanceof ua)return new ua(e.h,e.s,e.l,e.opacity);if(e instanceof Dd||(e=ud(e)),!e)return new ua;if(e instanceof ua)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),c=NaN,u=s-a,f=(s+a)/2;return u?(t===s?c=(r-n)/u+(r<n)*6:r===s?c=(n-t)/u+2:c=(t-r)/u+4,u/=f<.5?s+a:2-s-a,c*=60):u=f>0&&f<1?0:c,new ua(c,u,f,e.opacity)}function EU(e,t,r,n){return arguments.length===1?W5(e):new ua(e,t,r,n??1)}function ua(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}H1(ua,EU,K5(Dd,{brighter(e){return e=e==null?qp:Math.pow(qp,e),new ua(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?od:Math.pow(od,e),new ua(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new pn(rb(e>=240?e-240:e+120,a,n),rb(e,a,n),rb(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ua(pD(this.h),jm(this.s),jm(this.l),Hp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Hp(this.opacity);return`${e===1?"hsl(":"hsla("}${pD(this.h)}, ${jm(this.s)*100}%, ${jm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function pD(e){return e=(e||0)%360,e<0?e+360:e}function jm(e){return Math.max(0,Math.min(1,e||0))}function rb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const U1=e=>()=>e;function _U(e,t){return function(r){return e+r*t}}function OU(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function TU(e){return(e=+e)==1?Q5:function(t,r){return r-t?OU(t,r,e):U1(isNaN(t)?r:t)}}function Q5(e,t){var r=t-e;return r?_U(e,r):U1(isNaN(e)?t:e)}const hD=(function e(t){var r=TU(t);function n(a,s){var c=r((a=Py(a)).r,(s=Py(s)).r),u=r(a.g,s.g),f=r(a.b,s.b),m=Q5(a.opacity,s.opacity);return function(h){return a.r=c(h),a.g=u(h),a.b=f(h),a.opacity=m(h),a+""}}return n.gamma=e,n})(1);function PU(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function IU(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function RU(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),c;for(c=0;c<n;++c)a[c]=xc(e[c],t[c]);for(;c<r;++c)s[c]=t[c];return function(u){for(c=0;c<n;++c)s[c]=a[c](u);return s}}function LU(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Up(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function zU(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=xc(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Iy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nb=new RegExp(Iy.source,"g");function FU(e){return function(){return e}}function BU(e){return function(t){return e(t)+""}}function $U(e,t){var r=Iy.lastIndex=nb.lastIndex=0,n,a,s,c=-1,u=[],f=[];for(e=e+"",t=t+"";(n=Iy.exec(e))&&(a=nb.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),u[c]?u[c]+=s:u[++c]=s),(n=n[0])===(a=a[0])?u[c]?u[c]+=a:u[++c]=a:(u[++c]=null,f.push({i:c,x:Up(n,a)})),r=nb.lastIndex;return r<t.length&&(s=t.slice(r),u[c]?u[c]+=s:u[++c]=s),u.length<2?f[0]?BU(f[0].x):FU(t):(t=f.length,function(m){for(var h=0,v;h<t;++h)u[(v=f[h]).i]=v.x(m);return u.join("")})}function xc(e,t){var r=typeof t,n;return t==null||r==="boolean"?U1(t):(r==="number"?Up:r==="string"?(n=ud(t))?(t=n,hD):$U:t instanceof ud?hD:t instanceof Date?LU:IU(t)?PU:Array.isArray(t)?RU:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?zU:Up)(e,t)}function Y1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function qU(e,t){t===void 0&&(t=e,e=xc);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(c){var u=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return s[u](c-u)}}function HU(e){return function(){return e}}function Yp(e){return+e}var vD=[0,1];function Wr(e){return e}function Ry(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:HU(isNaN(t)?NaN:.5)}function UU(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function YU(e,t,r){var n=e[0],a=e[1],s=t[0],c=t[1];return a<n?(n=Ry(a,n),s=r(c,s)):(n=Ry(n,a),s=r(s,c)),function(u){return s(n(u))}}function VU(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)a[c]=Ry(e[c],e[c+1]),s[c]=r(t[c],t[c+1]);return function(u){var f=Md(e,u,1,n)-1;return s[f](a[f](u))}}function kd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Xh(){var e=vD,t=vD,r=xc,n,a,s,c=Wr,u,f,m;function h(){var x=Math.min(e.length,t.length);return c!==Wr&&(c=UU(e[0],e[x-1])),u=x>2?VU:YU,f=m=null,v}function v(x){return x==null||isNaN(x=+x)?s:(f||(f=u(e.map(n),t,r)))(n(c(x)))}return v.invert=function(x){return c(a((m||(m=u(t,e.map(n),Up)))(x)))},v.domain=function(x){return arguments.length?(e=Array.from(x,Yp),h()):e.slice()},v.range=function(x){return arguments.length?(t=Array.from(x),h()):t.slice()},v.rangeRound=function(x){return t=Array.from(x),r=Y1,h()},v.clamp=function(x){return arguments.length?(c=x?!0:Wr,h()):c!==Wr},v.interpolate=function(x){return arguments.length?(r=x,h()):r},v.unknown=function(x){return arguments.length?(s=x,v):s},function(x,b){return n=x,a=b,h()}}function V1(){return Xh()(Wr,Wr)}function GU(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Vp(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Jo(e){return e=Vp(Math.abs(e)),e?e[1]:NaN}function KU(e,t){return function(r,n){for(var a=r.length,s=[],c=0,u=e[0],f=0;a>0&&u>0&&(f+u+1>n&&(u=Math.max(1,n-f)),s.push(r.substring(a-=u,a+u)),!((f+=u+1)>n));)u=e[c=(c+1)%e.length];return s.reverse().join(t)}}function WU(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var QU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dd(e){if(!(t=QU.exec(e)))throw new Error("invalid format: "+e);var t;return new G1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}dd.prototype=G1.prototype;function G1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}G1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XU(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Gp;function ZU(e,t){var r=Vp(e,t);if(!r)return Gp=void 0,e.toPrecision(t);var n=r[0],a=r[1],s=a-(Gp=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=n.length;return s===c?n:s>c?n+new Array(s-c+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Vp(e,Math.max(0,t+s-1))[0]}function xD(e,t){var r=Vp(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const gD={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:GU,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>xD(e*100,t),r:xD,s:ZU,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function bD(e){return e}var yD=Array.prototype.map,wD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function JU(e){var t=e.grouping===void 0||e.thousands===void 0?bD:KU(yD.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?bD:WU(yD.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(v,x){v=dd(v);var b=v.fill,S=v.align,w=v.sign,y=v.symbol,C=v.zero,M=v.width,A=v.comma,_=v.precision,E=v.trim,T=v.type;T==="n"?(A=!0,T="g"):gD[T]||(_===void 0&&(_=12),E=!0,T="g"),(C||b==="0"&&S==="=")&&(C=!0,b="0",S="=");var P=(x&&x.prefix!==void 0?x.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():""),O=(y==="$"?n:/[%p]/.test(T)?c:"")+(x&&x.suffix!==void 0?x.suffix:""),L=gD[T],R=/[defgprs%]/.test(T);_=_===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function F(k){var X=P,W=O,Z,B,G;if(T==="c")W=L(k)+W,k="";else{k=+k;var z=k<0||1/k<0;if(k=isNaN(k)?f:L(Math.abs(k),_),E&&(k=XU(k)),z&&+k==0&&w!=="+"&&(z=!1),X=(z?w==="("?w:u:w==="-"||w==="("?"":w)+X,W=(T==="s"&&!isNaN(k)&&Gp!==void 0?wD[8+Gp/3]:"")+W+(z&&w==="("?")":""),R){for(Z=-1,B=k.length;++Z<B;)if(G=k.charCodeAt(Z),48>G||G>57){W=(G===46?a+k.slice(Z+1):k.slice(Z))+W,k=k.slice(0,Z);break}}}A&&!C&&(k=t(k,1/0));var ne=X.length+k.length+W.length,ge=ne<M?new Array(M-ne+1).join(b):"";switch(A&&C&&(k=t(ge+k,ge.length?M-W.length:1/0),ge=""),S){case"<":k=X+k+W+ge;break;case"=":k=X+ge+k+W;break;case"^":k=ge.slice(0,ne=ge.length>>1)+X+k+W+ge.slice(ne);break;default:k=ge+X+k+W;break}return s(k)}return F.toString=function(){return v+""},F}function h(v,x){var b=Math.max(-8,Math.min(8,Math.floor(Jo(x)/3)))*3,S=Math.pow(10,-b),w=m((v=dd(v),v.type="f",v),{suffix:wD[8+b/3]});return function(y){return w(S*y)}}return{format:m,formatPrefix:h}}var Nm,K1,X5;eY({thousands:",",grouping:[3],currency:["$",""]});function eY(e){return Nm=JU(e),K1=Nm.format,X5=Nm.formatPrefix,Nm}function tY(e){return Math.max(0,-Jo(Math.abs(e)))}function rY(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jo(t)/3)))*3-Jo(Math.abs(e)))}function nY(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Jo(t)-Jo(e))+1}function Z5(e,t,r,n){var a=Oy(e,t,r),s;switch(n=dd(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=rY(a,c))&&(n.precision=s),X5(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=nY(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=tY(a))&&(n.precision=s-(n.type==="%")*2);break}}return K1(n)}function zs(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ey(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Z5(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,c=n[a],u=n[s],f,m,h=10;for(u<c&&(m=c,c=u,u=m,m=a,a=s,s=m);h-- >0;){if(m=_y(c,u,r),m===f)return n[a]=c,n[s]=u,t(n);if(m>0)c=Math.floor(c/m)*m,u=Math.ceil(u/m)*m;else if(m<0)c=Math.ceil(c*m)/m,u=Math.floor(u*m)/m;else break;f=m}return e},e}function J5(){var e=V1();return e.copy=function(){return kd(e,J5())},ra.apply(e,arguments),zs(e)}function eP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Yp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return eP(e).unknown(t)},e=arguments.length?Array.from(e,Yp):[0,1],zs(r)}function tP(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],c;return s<a&&(c=r,r=n,n=c,c=a,a=s,s=c),e[r]=t.floor(a),e[n]=t.ceil(s),e}function jD(e){return Math.log(e)}function ND(e){return Math.exp(e)}function aY(e){return-Math.log(-e)}function iY(e){return-Math.exp(-e)}function sY(e){return isFinite(e)?+("1e"+e):e<0?0:e}function lY(e){return e===10?sY:e===Math.E?Math.exp:t=>Math.pow(e,t)}function oY(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function SD(e){return(t,r)=>-e(-t,r)}function W1(e){const t=e(jD,ND),r=t.domain;let n=10,a,s;function c(){return a=oY(n),s=lY(n),r()[0]<0?(a=SD(a),s=SD(s),e(aY,iY)):e(jD,ND),t}return t.base=function(u){return arguments.length?(n=+u,c()):n},t.domain=function(u){return arguments.length?(r(u),c()):r()},t.ticks=u=>{const f=r();let m=f[0],h=f[f.length-1];const v=h<m;v&&([m,h]=[h,m]);let x=a(m),b=a(h),S,w;const y=u==null?10:+u;let C=[];if(!(n%1)&&b-x<y){if(x=Math.floor(x),b=Math.ceil(b),m>0){for(;x<=b;++x)for(S=1;S<n;++S)if(w=x<0?S/s(-x):S*s(x),!(w<m)){if(w>h)break;C.push(w)}}else for(;x<=b;++x)for(S=n-1;S>=1;--S)if(w=x>0?S/s(-x):S*s(x),!(w<m)){if(w>h)break;C.push(w)}C.length*2<y&&(C=Ey(m,h,y))}else C=Ey(x,b,Math.min(b-x,y)).map(s);return v?C.reverse():C},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=dd(f)).precision==null&&(f.trim=!0),f=K1(f)),u===1/0)return f;const m=Math.max(1,n*u/t.ticks().length);return h=>{let v=h/s(Math.round(a(h)));return v*n<n-.5&&(v*=n),v<=m?f(h):""}},t.nice=()=>r(tP(r(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),t}function rP(){const e=W1(Xh()).domain([1,10]);return e.copy=()=>kd(e,rP()).base(e.base()),ra.apply(e,arguments),e}function CD(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function AD(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Q1(e){var t=1,r=e(CD(t),AD(t));return r.constant=function(n){return arguments.length?e(CD(t=+n),AD(t)):t},zs(r)}function nP(){var e=Q1(Xh());return e.copy=function(){return kd(e,nP()).constant(e.constant())},ra.apply(e,arguments)}function MD(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function cY(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function uY(e){return e<0?-e*e:e*e}function X1(e){var t=e(Wr,Wr),r=1;function n(){return r===1?e(Wr,Wr):r===.5?e(cY,uY):e(MD(r),MD(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},zs(t)}function Z1(){var e=X1(Xh());return e.copy=function(){return kd(e,Z1()).exponent(e.exponent())},ra.apply(e,arguments),e}function dY(){return Z1.apply(null,arguments).exponent(.5)}function DD(e){return Math.sign(e)*e*e}function fY(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function aP(){var e=V1(),t=[0,1],r=!1,n;function a(s){var c=fY(e(s));return isNaN(c)?n:r?Math.round(c):c}return a.invert=function(s){return e.invert(DD(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Yp)).map(DD)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return aP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ra.apply(a,arguments),zs(a)}function iP(){var e=[],t=[],r=[],n;function a(){var c=0,u=Math.max(1,t.length);for(r=new Array(u-1);++c<u;)r[c-1]=vU(e,c/u);return s}function s(c){return c==null||isNaN(c=+c)?n:t[Md(r,c)]}return s.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},s.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(As),a()},s.range=function(c){return arguments.length?(t=Array.from(c),a()):t.slice()},s.unknown=function(c){return arguments.length?(n=c,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return iP().domain(e).range(t).unknown(n)},ra.apply(s,arguments)}function sP(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function c(f){return f!=null&&f<=f?a[Md(n,f,0,r)]:s}function u(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},c.range=function(f){return arguments.length?(r=(a=Array.from(f)).length-1,u()):a.slice()},c.invertExtent=function(f){var m=a.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},c.unknown=function(f){return arguments.length&&(s=f),c},c.thresholds=function(){return n.slice()},c.copy=function(){return sP().domain([e,t]).range(a).unknown(s)},ra.apply(zs(c),arguments)}function lP(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Md(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var c=t.indexOf(s);return[e[c-1],e[c]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return lP().domain(e).range(t).unknown(r)},ra.apply(a,arguments)}const ab=new Date,ib=new Date;function Cr(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const c=a(s),u=a.ceil(s);return s-c<u-s?c:u},a.offset=(s,c)=>(t(s=new Date(+s),c==null?1:Math.floor(c)),s),a.range=(s,c,u)=>{const f=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<c)||!(u>0))return f;let m;do f.push(m=new Date(+s)),t(s,u),e(s);while(m<s&&s<c);return f},a.filter=s=>Cr(c=>{if(c>=c)for(;e(c),!s(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!s(c););else for(;--u>=0;)for(;t(c,1),!s(c););}),r&&(a.count=(s,c)=>(ab.setTime(+s),ib.setTime(+c),e(ab),e(ib),Math.floor(r(ab,ib))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?c=>n(c)%s===0:c=>a.count(0,c)%s===0):a)),a}const Kp=Cr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Kp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Cr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Kp);Kp.range;const ji=1e3,Xn=ji*60,Ni=Xn*60,Ti=Ni*24,J1=Ti*7,kD=Ti*30,sb=Ti*365,Nl=Cr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ji)},(e,t)=>(t-e)/ji,e=>e.getUTCSeconds());Nl.range;const ew=Cr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ji)},(e,t)=>{e.setTime(+e+t*Xn)},(e,t)=>(t-e)/Xn,e=>e.getMinutes());ew.range;const tw=Cr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Xn)},(e,t)=>(t-e)/Xn,e=>e.getUTCMinutes());tw.range;const rw=Cr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ji-e.getMinutes()*Xn)},(e,t)=>{e.setTime(+e+t*Ni)},(e,t)=>(t-e)/Ni,e=>e.getHours());rw.range;const nw=Cr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ni)},(e,t)=>(t-e)/Ni,e=>e.getUTCHours());nw.range;const Ed=Cr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xn)/Ti,e=>e.getDate()-1);Ed.range;const Zh=Cr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ti,e=>e.getUTCDate()-1);Zh.range;const oP=Cr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ti,e=>Math.floor(e/Ti));oP.range;function Yl(e){return Cr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Xn)/J1)}const Jh=Yl(0),Wp=Yl(1),mY=Yl(2),pY=Yl(3),ec=Yl(4),hY=Yl(5),vY=Yl(6);Jh.range;Wp.range;mY.range;pY.range;ec.range;hY.range;vY.range;function Vl(e){return Cr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/J1)}const ev=Vl(0),Qp=Vl(1),xY=Vl(2),gY=Vl(3),tc=Vl(4),bY=Vl(5),yY=Vl(6);ev.range;Qp.range;xY.range;gY.range;tc.range;bY.range;yY.range;const aw=Cr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());aw.range;const iw=Cr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());iw.range;const Pi=Cr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Pi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Cr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Pi.range;const Ii=Cr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ii.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Cr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ii.range;function cP(e,t,r,n,a,s){const c=[[Nl,1,ji],[Nl,5,5*ji],[Nl,15,15*ji],[Nl,30,30*ji],[s,1,Xn],[s,5,5*Xn],[s,15,15*Xn],[s,30,30*Xn],[a,1,Ni],[a,3,3*Ni],[a,6,6*Ni],[a,12,12*Ni],[n,1,Ti],[n,2,2*Ti],[r,1,J1],[t,1,kD],[t,3,3*kD],[e,1,sb]];function u(m,h,v){const x=h<m;x&&([m,h]=[h,m]);const b=v&&typeof v.range=="function"?v:f(m,h,v),S=b?b.range(m,+h+1):[];return x?S.reverse():S}function f(m,h,v){const x=Math.abs(h-m)/v,b=B1(([,,y])=>y).right(c,x);if(b===c.length)return e.every(Oy(m/sb,h/sb,v));if(b===0)return Kp.every(Math.max(Oy(m,h,v),1));const[S,w]=c[x/c[b-1][2]<c[b][2]/x?b-1:b];return S.every(w)}return[u,f]}const[wY,jY]=cP(Ii,iw,ev,oP,nw,tw),[NY,SY]=cP(Pi,aw,Jh,Ed,rw,ew);function lb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ob(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Eu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function CY(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,c=e.shortDays,u=e.months,f=e.shortMonths,m=_u(a),h=Ou(a),v=_u(s),x=Ou(s),b=_u(c),S=Ou(c),w=_u(u),y=Ou(u),C=_u(f),M=Ou(f),A={a:G,A:z,b:ne,B:ge,c:null,d:ID,e:ID,f:KY,g:aV,G:sV,H:YY,I:VY,j:GY,L:uP,m:WY,M:QY,p:$,q:ie,Q:zD,s:FD,S:XY,u:ZY,U:JY,V:eV,w:tV,W:rV,x:null,X:null,y:nV,Y:iV,Z:lV,"%":LD},_={a:pe,A:ue,b:je,B:he,c:null,d:RD,e:RD,f:dV,g:wV,G:NV,H:oV,I:cV,j:uV,L:fP,m:fV,M:mV,p:ve,q:Ae,Q:zD,s:FD,S:pV,u:hV,U:vV,V:xV,w:gV,W:bV,x:null,X:null,y:yV,Y:jV,Z:SV,"%":LD},E={a:R,A:F,b:k,B:X,c:W,d:TD,e:TD,f:$Y,g:OD,G:_D,H:PD,I:PD,j:LY,L:BY,m:RY,M:zY,p:L,q:IY,Q:HY,s:UY,S:FY,u:EY,U:_Y,V:OY,w:kY,W:TY,x:Z,X:B,y:OD,Y:_D,Z:PY,"%":qY};A.x=T(r,A),A.X=T(n,A),A.c=T(t,A),_.x=T(r,_),_.X=T(n,_),_.c=T(t,_);function T(re,Le){return function(He){var xe=[],Fe=-1,$e=0,Ve=re.length,wt,Et,Oe;for(He instanceof Date||(He=new Date(+He));++Fe<Ve;)re.charCodeAt(Fe)===37&&(xe.push(re.slice($e,Fe)),(Et=ED[wt=re.charAt(++Fe)])!=null?wt=re.charAt(++Fe):Et=wt==="e"?" ":"0",(Oe=Le[wt])&&(wt=Oe(He,Et)),xe.push(wt),$e=Fe+1);return xe.push(re.slice($e,Fe)),xe.join("")}}function P(re,Le){return function(He){var xe=Eu(1900,void 0,1),Fe=O(xe,re,He+="",0),$e,Ve;if(Fe!=He.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(xe.s*1e3+("L"in xe?xe.L:0));if(Le&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+xe.p*12),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?($e=ob(Eu(xe.y,0,1)),Ve=$e.getUTCDay(),$e=Ve>4||Ve===0?Qp.ceil($e):Qp($e),$e=Zh.offset($e,(xe.V-1)*7),xe.y=$e.getUTCFullYear(),xe.m=$e.getUTCMonth(),xe.d=$e.getUTCDate()+(xe.w+6)%7):($e=lb(Eu(xe.y,0,1)),Ve=$e.getDay(),$e=Ve>4||Ve===0?Wp.ceil($e):Wp($e),$e=Ed.offset($e,(xe.V-1)*7),xe.y=$e.getFullYear(),xe.m=$e.getMonth(),xe.d=$e.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),Ve="Z"in xe?ob(Eu(xe.y,0,1)).getUTCDay():lb(Eu(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+xe.W*7-(Ve+5)%7:xe.w+xe.U*7-(Ve+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,ob(xe)):lb(xe)}}function O(re,Le,He,xe){for(var Fe=0,$e=Le.length,Ve=He.length,wt,Et;Fe<$e;){if(xe>=Ve)return-1;if(wt=Le.charCodeAt(Fe++),wt===37){if(wt=Le.charAt(Fe++),Et=E[wt in ED?Le.charAt(Fe++):wt],!Et||(xe=Et(re,He,xe))<0)return-1}else if(wt!=He.charCodeAt(xe++))return-1}return xe}function L(re,Le,He){var xe=m.exec(Le.slice(He));return xe?(re.p=h.get(xe[0].toLowerCase()),He+xe[0].length):-1}function R(re,Le,He){var xe=b.exec(Le.slice(He));return xe?(re.w=S.get(xe[0].toLowerCase()),He+xe[0].length):-1}function F(re,Le,He){var xe=v.exec(Le.slice(He));return xe?(re.w=x.get(xe[0].toLowerCase()),He+xe[0].length):-1}function k(re,Le,He){var xe=C.exec(Le.slice(He));return xe?(re.m=M.get(xe[0].toLowerCase()),He+xe[0].length):-1}function X(re,Le,He){var xe=w.exec(Le.slice(He));return xe?(re.m=y.get(xe[0].toLowerCase()),He+xe[0].length):-1}function W(re,Le,He){return O(re,t,Le,He)}function Z(re,Le,He){return O(re,r,Le,He)}function B(re,Le,He){return O(re,n,Le,He)}function G(re){return c[re.getDay()]}function z(re){return s[re.getDay()]}function ne(re){return f[re.getMonth()]}function ge(re){return u[re.getMonth()]}function $(re){return a[+(re.getHours()>=12)]}function ie(re){return 1+~~(re.getMonth()/3)}function pe(re){return c[re.getUTCDay()]}function ue(re){return s[re.getUTCDay()]}function je(re){return f[re.getUTCMonth()]}function he(re){return u[re.getUTCMonth()]}function ve(re){return a[+(re.getUTCHours()>=12)]}function Ae(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var Le=T(re+="",A);return Le.toString=function(){return re},Le},parse:function(re){var Le=P(re+="",!1);return Le.toString=function(){return re},Le},utcFormat:function(re){var Le=T(re+="",_);return Le.toString=function(){return re},Le},utcParse:function(re){var Le=P(re+="",!0);return Le.toString=function(){return re},Le}}}var ED={"-":"",_:" ",0:"0"},Er=/^\s*\d+/,AY=/^%/,MY=/[\\^$*+?|[\]().{}]/g;function yt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function DY(e){return e.replace(MY,"\\$&")}function _u(e){return new RegExp("^(?:"+e.map(DY).join("|")+")","i")}function Ou(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function kY(e,t,r){var n=Er.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function EY(e,t,r){var n=Er.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function _Y(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function OY(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function TY(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function _D(e,t,r){var n=Er.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function OD(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function PY(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function IY(e,t,r){var n=Er.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function RY(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function TD(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function LY(e,t,r){var n=Er.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function PD(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function zY(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function FY(e,t,r){var n=Er.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function BY(e,t,r){var n=Er.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function $Y(e,t,r){var n=Er.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function qY(e,t,r){var n=AY.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function HY(e,t,r){var n=Er.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function UY(e,t,r){var n=Er.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function ID(e,t){return yt(e.getDate(),t,2)}function YY(e,t){return yt(e.getHours(),t,2)}function VY(e,t){return yt(e.getHours()%12||12,t,2)}function GY(e,t){return yt(1+Ed.count(Pi(e),e),t,3)}function uP(e,t){return yt(e.getMilliseconds(),t,3)}function KY(e,t){return uP(e,t)+"000"}function WY(e,t){return yt(e.getMonth()+1,t,2)}function QY(e,t){return yt(e.getMinutes(),t,2)}function XY(e,t){return yt(e.getSeconds(),t,2)}function ZY(e){var t=e.getDay();return t===0?7:t}function JY(e,t){return yt(Jh.count(Pi(e)-1,e),t,2)}function dP(e){var t=e.getDay();return t>=4||t===0?ec(e):ec.ceil(e)}function eV(e,t){return e=dP(e),yt(ec.count(Pi(e),e)+(Pi(e).getDay()===4),t,2)}function tV(e){return e.getDay()}function rV(e,t){return yt(Wp.count(Pi(e)-1,e),t,2)}function nV(e,t){return yt(e.getFullYear()%100,t,2)}function aV(e,t){return e=dP(e),yt(e.getFullYear()%100,t,2)}function iV(e,t){return yt(e.getFullYear()%1e4,t,4)}function sV(e,t){var r=e.getDay();return e=r>=4||r===0?ec(e):ec.ceil(e),yt(e.getFullYear()%1e4,t,4)}function lV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+yt(t/60|0,"0",2)+yt(t%60,"0",2)}function RD(e,t){return yt(e.getUTCDate(),t,2)}function oV(e,t){return yt(e.getUTCHours(),t,2)}function cV(e,t){return yt(e.getUTCHours()%12||12,t,2)}function uV(e,t){return yt(1+Zh.count(Ii(e),e),t,3)}function fP(e,t){return yt(e.getUTCMilliseconds(),t,3)}function dV(e,t){return fP(e,t)+"000"}function fV(e,t){return yt(e.getUTCMonth()+1,t,2)}function mV(e,t){return yt(e.getUTCMinutes(),t,2)}function pV(e,t){return yt(e.getUTCSeconds(),t,2)}function hV(e){var t=e.getUTCDay();return t===0?7:t}function vV(e,t){return yt(ev.count(Ii(e)-1,e),t,2)}function mP(e){var t=e.getUTCDay();return t>=4||t===0?tc(e):tc.ceil(e)}function xV(e,t){return e=mP(e),yt(tc.count(Ii(e),e)+(Ii(e).getUTCDay()===4),t,2)}function gV(e){return e.getUTCDay()}function bV(e,t){return yt(Qp.count(Ii(e)-1,e),t,2)}function yV(e,t){return yt(e.getUTCFullYear()%100,t,2)}function wV(e,t){return e=mP(e),yt(e.getUTCFullYear()%100,t,2)}function jV(e,t){return yt(e.getUTCFullYear()%1e4,t,4)}function NV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?tc(e):tc.ceil(e),yt(e.getUTCFullYear()%1e4,t,4)}function SV(){return"+0000"}function LD(){return"%"}function zD(e){return+e}function FD(e){return Math.floor(+e/1e3)}var _o,pP,hP;CV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function CV(e){return _o=CY(e),pP=_o.format,_o.parse,hP=_o.utcFormat,_o.utcParse,_o}function AV(e){return new Date(e)}function MV(e){return e instanceof Date?+e:+new Date(+e)}function sw(e,t,r,n,a,s,c,u,f,m){var h=V1(),v=h.invert,x=h.domain,b=m(".%L"),S=m(":%S"),w=m("%I:%M"),y=m("%I %p"),C=m("%a %d"),M=m("%b %d"),A=m("%B"),_=m("%Y");function E(T){return(f(T)<T?b:u(T)<T?S:c(T)<T?w:s(T)<T?y:n(T)<T?a(T)<T?C:M:r(T)<T?A:_)(T)}return h.invert=function(T){return new Date(v(T))},h.domain=function(T){return arguments.length?x(Array.from(T,MV)):x().map(AV)},h.ticks=function(T){var P=x();return e(P[0],P[P.length-1],T??10)},h.tickFormat=function(T,P){return P==null?E:m(P)},h.nice=function(T){var P=x();return(!T||typeof T.range!="function")&&(T=t(P[0],P[P.length-1],T??10)),T?x(tP(P,T)):h},h.copy=function(){return kd(h,sw(e,t,r,n,a,s,c,u,f,m))},h}function DV(){return ra.apply(sw(NY,SY,Pi,aw,Jh,Ed,rw,ew,Nl,pP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kV(){return ra.apply(sw(wY,jY,Ii,iw,ev,Zh,nw,tw,Nl,hP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tv(){var e=0,t=1,r,n,a,s,c=Wr,u=!1,f;function m(v){return v==null||isNaN(v=+v)?f:c(a===0?.5:(v=(s(v)-r)*a,u?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t]=v,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(v){return arguments.length?(u=!!v,m):u},m.interpolator=function(v){return arguments.length?(c=v,m):c};function h(v){return function(x){var b,S;return arguments.length?([b,S]=x,c=v(b,S),m):[c(0),c(1)]}}return m.range=h(xc),m.rangeRound=h(Y1),m.unknown=function(v){return arguments.length?(f=v,m):f},function(v){return s=v,r=v(e),n=v(t),a=r===n?0:1/(n-r),m}}function Fs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function vP(){var e=zs(tv()(Wr));return e.copy=function(){return Fs(e,vP())},qi.apply(e,arguments)}function xP(){var e=W1(tv()).domain([1,10]);return e.copy=function(){return Fs(e,xP()).base(e.base())},qi.apply(e,arguments)}function gP(){var e=Q1(tv());return e.copy=function(){return Fs(e,gP()).constant(e.constant())},qi.apply(e,arguments)}function lw(){var e=X1(tv());return e.copy=function(){return Fs(e,lw()).exponent(e.exponent())},qi.apply(e,arguments)}function EV(){return lw.apply(null,arguments).exponent(.5)}function bP(){var e=[],t=Wr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Md(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(As),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>hU(e,s/n))},r.copy=function(){return bP(t).domain(e)},qi.apply(r,arguments)}function rv(){var e=0,t=.5,r=1,n=1,a,s,c,u,f,m=Wr,h,v=!1,x;function b(w){return isNaN(w=+w)?x:(w=.5+((w=+h(w))-s)*(n*w<n*s?u:f),m(v?Math.max(0,Math.min(1,w)):w))}b.domain=function(w){return arguments.length?([e,t,r]=w,a=h(e=+e),s=h(t=+t),c=h(r=+r),u=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),n=s<a?-1:1,b):[e,t,r]},b.clamp=function(w){return arguments.length?(v=!!w,b):v},b.interpolator=function(w){return arguments.length?(m=w,b):m};function S(w){return function(y){var C,M,A;return arguments.length?([C,M,A]=y,m=qU(w,[C,M,A]),b):[m(0),m(.5),m(1)]}}return b.range=S(xc),b.rangeRound=S(Y1),b.unknown=function(w){return arguments.length?(x=w,b):x},function(w){return h=w,a=w(e),s=w(t),c=w(r),u=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),n=s<a?-1:1,b}}function yP(){var e=zs(rv()(Wr));return e.copy=function(){return Fs(e,yP())},qi.apply(e,arguments)}function wP(){var e=W1(rv()).domain([.1,1,10]);return e.copy=function(){return Fs(e,wP()).base(e.base())},qi.apply(e,arguments)}function jP(){var e=Q1(rv());return e.copy=function(){return Fs(e,jP()).constant(e.constant())},qi.apply(e,arguments)}function ow(){var e=X1(rv());return e.copy=function(){return Fs(e,ow()).exponent(e.exponent())},qi.apply(e,arguments)}function _V(){return ow.apply(null,arguments).exponent(.5)}const Uu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:q1,scaleDiverging:yP,scaleDivergingLog:wP,scaleDivergingPow:ow,scaleDivergingSqrt:_V,scaleDivergingSymlog:jP,scaleIdentity:eP,scaleImplicit:Ty,scaleLinear:J5,scaleLog:rP,scaleOrdinal:$1,scalePoint:gU,scalePow:Z1,scaleQuantile:iP,scaleQuantize:sP,scaleRadial:aP,scaleSequential:vP,scaleSequentialLog:xP,scaleSequentialPow:lw,scaleSequentialQuantile:bP,scaleSequentialSqrt:EV,scaleSequentialSymlog:gP,scaleSqrt:dY,scaleSymlog:nP,scaleThreshold:lP,scaleTime:DV,scaleUtc:kV,tickFormat:Z5},Symbol.toStringTag,{value:"Module"}));var Bs=e=>e.chartData,cw=se([Bs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),NP=(e,t,r,n)=>n?cw(e):Bs(e);function Ri(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(It(t)&&It(r))return!0}return!1}function BD(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function SP(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(It(r))a=r;else if(typeof r=="function")return;if(It(n))s=n;else if(typeof n=="function")return;var c=[a,s];if(Ri(c))return c}}function OV(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ri(n))return BD(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,c,u;if(a==="auto")t!=null&&(c=Math.min(...t));else if(Ge(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[0]))}catch{}else if(typeof a=="string"&&QA.test(a)){var f=QA.exec(a);if(f==null||f[1]==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t?.[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if(Ge(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t?.[1]))}catch{}else if(typeof s=="string"&&XA.test(s)){var h=XA.exec(s);if(h==null||h[1]==null||t==null)u=void 0;else{var v=+h[1];u=t[1]+v}}else u=t?.[1];var x=[c,u];if(Ri(x))return t==null?x:BD(x,t,r)}}}var gc=1e9,TV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dw,Gt=!0,ea="[DecimalError] ",kl=ea+"Invalid argument: ",uw=ea+"Exponent out of range: ",bc=Math.floor,hl=Math.pow,PV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kn,Dr=1e7,qt=7,CP=9007199254740991,Xp=bc(CP/qt),Ee={};Ee.absoluteValue=Ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ee.comparedTo=Ee.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*qt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ee.dividedBy=Ee.div=function(e){return Ai(this,new this.constructor(e))};Ee.dividedToIntegerBy=Ee.idiv=function(e){var t=this,r=t.constructor;return Lt(Ai(t,new r(e),0,1),r.precision)};Ee.equals=Ee.eq=function(e){return!this.cmp(e)};Ee.exponent=function(){return yr(this)};Ee.greaterThan=Ee.gt=function(e){return this.cmp(e)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(e){return this.cmp(e)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(e){return this.cmp(e)<0};Ee.lessThanOrEqualTo=Ee.lte=function(e){return this.cmp(e)<1};Ee.logarithm=Ee.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(kn))throw Error(ea+"NaN");if(r.s<1)throw Error(ea+(r.s?"NaN":"-Infinity"));return r.eq(kn)?new n(0):(Gt=!1,t=Ai(fd(r,s),fd(e,s),s),Gt=!0,Lt(t,a))};Ee.minus=Ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?DP(t,e):AP(t,(e.s=-e.s,e))};Ee.modulo=Ee.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ea+"NaN");return r.s?(Gt=!1,t=Ai(r,e,0,1).times(e),Gt=!0,r.minus(t)):Lt(new n(r),a)};Ee.naturalExponential=Ee.exp=function(){return MP(this)};Ee.naturalLogarithm=Ee.ln=function(){return fd(this)};Ee.negated=Ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ee.plus=Ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?AP(t,e):DP(t,(e.s=-e.s,e))};Ee.precision=Ee.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(kl+e);if(t=yr(a)+1,n=a.d.length-1,r=n*qt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ee.squareRoot=Ee.sqrt=function(){var e,t,r,n,a,s,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(ea+"NaN")}for(e=yr(u),Gt=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=Fa(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=bc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(a.toString()),r=f.precision,a=c=r+3;;)if(s=n,n=s.plus(Ai(u,s,c+2)).times(.5),Fa(s.d).slice(0,c)===(t=Fa(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),a==c&&t=="4999"){if(Lt(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(t!="9999")break;c+=4}return Gt=!0,Lt(n,r)};Ee.times=Ee.mul=function(e){var t,r,n,a,s,c,u,f,m,h=this,v=h.constructor,x=h.d,b=(e=new v(e)).d;if(!h.s||!e.s)return new v(0);for(e.s*=h.s,r=h.e+e.e,f=x.length,m=b.length,f<m&&(s=x,x=b,b=s,c=f,f=m,m=c),s=[],c=f+m,n=c;n--;)s.push(0);for(n=m;--n>=0;){for(t=0,a=f+n;a>n;)u=s[a]+b[n]*x[a-n-1]+t,s[a--]=u%Dr|0,t=u/Dr|0;s[a]=(s[a]+t)%Dr|0}for(;!s[--c];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Gt?Lt(e,v.precision):e};Ee.toDecimalPlaces=Ee.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ga(e,0,gc),t===void 0?t=n.rounding:Ga(t,0,8),Lt(r,e+yr(r)+1,t))};Ee.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Bl(n,!0):(Ga(e,0,gc),t===void 0?t=a.rounding:Ga(t,0,8),n=Lt(new a(n),e+1,t),r=Bl(n,!0,e+1)),r};Ee.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Bl(a):(Ga(e,0,gc),t===void 0?t=s.rounding:Ga(t,0,8),n=Lt(new s(a),e+yr(a)+1,t),r=Bl(n.abs(),!1,e+yr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ee.toInteger=Ee.toint=function(){var e=this,t=e.constructor;return Lt(new t(e),yr(e)+1,t.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(e){var t,r,n,a,s,c,u=this,f=u.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(kn);if(u=new f(u),!u.s){if(e.s<1)throw Error(ea+"Infinity");return u}if(u.eq(kn))return u;if(n=f.precision,e.eq(kn))return Lt(u,n);if(t=e.e,r=e.d.length-1,c=t>=r,s=u.s,c){if((r=h<0?-h:h)<=CP){for(a=new f(kn),t=Math.ceil(n/qt+4),Gt=!1;r%2&&(a=a.times(u),qD(a.d,t)),r=bc(r/2),r!==0;)u=u.times(u),qD(u.d,t);return Gt=!0,e.s<0?new f(kn).div(a):Lt(a,n)}}else if(s<0)throw Error(ea+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,Gt=!1,a=e.times(fd(u,n+m)),Gt=!0,a=MP(a),a.s=s,a};Ee.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=yr(a),n=Bl(a,r<=s.toExpNeg||r>=s.toExpPos)):(Ga(e,1,gc),t===void 0?t=s.rounding:Ga(t,0,8),a=Lt(new s(a),e,t),r=yr(a),n=Bl(a,e<=r||r<=s.toExpNeg,e)),n};Ee.toSignificantDigits=Ee.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ga(e,1,gc),t===void 0?t=n.rounding:Ga(t,0,8)),Lt(new n(r),e,t)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=yr(e),r=e.constructor;return Bl(e,t<=r.toExpNeg||t>=r.toExpPos)};function AP(e,t){var r,n,a,s,c,u,f,m,h=e.constructor,v=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Gt?Lt(t,v):t;if(f=e.d,m=t.d,c=e.e,a=t.e,f=f.slice(),s=c-a,s){for(s<0?(n=f,s=-s,u=m.length):(n=m,a=c,u=f.length),c=Math.ceil(v/qt),u=c>u?c+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=f.length,s=m.length,u-s<0&&(s=u,n=m,m=f,f=n),r=0;s;)r=(f[--s]=f[s]+m[s]+r)/Dr|0,f[s]%=Dr;for(r&&(f.unshift(r),++a),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=a,Gt?Lt(t,v):t}function Ga(e,t,r){if(e!==~~e||e<t||e>r)throw Error(kl+e)}function Fa(e){var t,r,n,a=e.length-1,s="",c=e[0];if(a>0){for(s+=c,t=1;t<a;t++)n=e[t]+"",r=qt-n.length,r&&(s+=js(r)),s+=n;c=e[t],n=c+"",r=qt-n.length,r&&(s+=js(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var Ai=(function(){function e(n,a){var s,c=0,u=n.length;for(n=n.slice();u--;)s=n[u]*a+c,n[u]=s%Dr|0,c=s/Dr|0;return c&&n.unshift(c),n}function t(n,a,s,c){var u,f;if(s!=c)f=s>c?1:-1;else for(u=f=0;u<s;u++)if(n[u]!=a[u]){f=n[u]>a[u]?1:-1;break}return f}function r(n,a,s){for(var c=0;s--;)n[s]-=c,c=n[s]<a[s]?1:0,n[s]=c*Dr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,c){var u,f,m,h,v,x,b,S,w,y,C,M,A,_,E,T,P,O,L=n.constructor,R=n.s==a.s?1:-1,F=n.d,k=a.d;if(!n.s)return new L(n);if(!a.s)throw Error(ea+"Division by zero");for(f=n.e-a.e,P=k.length,E=F.length,b=new L(R),S=b.d=[],m=0;k[m]==(F[m]||0);)++m;if(k[m]>(F[m]||0)&&--f,s==null?M=s=L.precision:c?M=s+(yr(n)-yr(a))+1:M=s,M<0)return new L(0);if(M=M/qt+2|0,m=0,P==1)for(h=0,k=k[0],M++;(m<E||h)&&M--;m++)A=h*Dr+(F[m]||0),S[m]=A/k|0,h=A%k|0;else{for(h=Dr/(k[0]+1)|0,h>1&&(k=e(k,h),F=e(F,h),P=k.length,E=F.length),_=P,w=F.slice(0,P),y=w.length;y<P;)w[y++]=0;O=k.slice(),O.unshift(0),T=k[0],k[1]>=Dr/2&&++T;do h=0,u=t(k,w,P,y),u<0?(C=w[0],P!=y&&(C=C*Dr+(w[1]||0)),h=C/T|0,h>1?(h>=Dr&&(h=Dr-1),v=e(k,h),x=v.length,y=w.length,u=t(v,w,x,y),u==1&&(h--,r(v,P<x?O:k,x))):(h==0&&(u=h=1),v=k.slice()),x=v.length,x<y&&v.unshift(0),r(w,v,y),u==-1&&(y=w.length,u=t(k,w,P,y),u<1&&(h++,r(w,P<y?O:k,y))),y=w.length):u===0&&(h++,w=[0]),S[m++]=h,u&&w[0]?w[y++]=F[_]||0:(w=[F[_]],y=1);while((_++<E||w[0]!==void 0)&&M--)}return S[0]||S.shift(),b.e=f,Lt(b,c?s+yr(b)+1:s)}})();function MP(e,t){var r,n,a,s,c,u,f=0,m=0,h=e.constructor,v=h.precision;if(yr(e)>16)throw Error(uw+yr(e));if(!e.s)return new h(kn);for(Gt=!1,u=v,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(n=Math.log(hl(2,m))/Math.LN10*2+5|0,u+=n,r=a=s=new h(kn),h.precision=u;;){if(a=Lt(a.times(e),u),r=r.times(++f),c=s.plus(Ai(a,r,u)),Fa(c.d).slice(0,u)===Fa(s.d).slice(0,u)){for(;m--;)s=Lt(s.times(s),u);return h.precision=v,t==null?(Gt=!0,Lt(s,v)):s}s=c}}function yr(e){for(var t=e.e*qt,r=e.d[0];r>=10;r/=10)t++;return t}function cb(e,t,r){if(t>e.LN10.sd())throw Gt=!0,r&&(e.precision=r),Error(ea+"LN10 precision limit exceeded");return Lt(new e(e.LN10),t)}function js(e){for(var t="";e--;)t+="0";return t}function fd(e,t){var r,n,a,s,c,u,f,m,h,v=1,x=10,b=e,S=b.d,w=b.constructor,y=w.precision;if(b.s<1)throw Error(ea+(b.s?"NaN":"-Infinity"));if(b.eq(kn))return new w(0);if(t==null?(Gt=!1,m=y):m=t,b.eq(10))return t==null&&(Gt=!0),cb(w,m);if(m+=x,w.precision=m,r=Fa(S),n=r.charAt(0),s=yr(b),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(e),r=Fa(b.d),n=r.charAt(0),v++;s=yr(b),n>1?(b=new w("0."+r),s++):b=new w(n+"."+r.slice(1))}else return f=cb(w,m+2,y).times(s+""),b=fd(new w(n+"."+r.slice(1)),m-x).plus(f),w.precision=y,t==null?(Gt=!0,Lt(b,y)):b;for(u=c=b=Ai(b.minus(kn),b.plus(kn),m),h=Lt(b.times(b),m),a=3;;){if(c=Lt(c.times(h),m),f=u.plus(Ai(c,new w(a),m)),Fa(f.d).slice(0,m)===Fa(u.d).slice(0,m))return u=u.times(2),s!==0&&(u=u.plus(cb(w,m+2,y).times(s+""))),u=Ai(u,new w(v),m),w.precision=y,t==null?(Gt=!0,Lt(u,y)):u;u=f,a+=2}}function $D(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=bc(r/qt),e.d=[],n=(r+1)%qt,r<0&&(n+=qt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=qt;n<a;)e.d.push(+t.slice(n,n+=qt));t=t.slice(n),n=qt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Gt&&(e.e>Xp||e.e<-Xp))throw Error(uw+r)}else e.s=0,e.e=0,e.d=[0];return e}function Lt(e,t,r){var n,a,s,c,u,f,m,h,v=e.d;for(c=1,s=v[0];s>=10;s/=10)c++;if(n=t-c,n<0)n+=qt,a=t,m=v[h=0];else{if(h=Math.ceil((n+1)/qt),s=v.length,h>=s)return e;for(m=s=v[h],c=1;s>=10;s/=10)c++;n%=qt,a=n-qt+c}if(r!==void 0&&(s=hl(10,c-a-1),u=m/s%10|0,f=t<0||v[h+1]!==void 0||m%s,f=r<4?(u||f)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||f||r==6&&(n>0?a>0?m/hl(10,c-a):0:v[h-1])%10&1||r==(e.s<0?8:7))),t<1||!v[0])return f?(s=yr(e),v.length=1,t=t-s-1,v[0]=hl(10,(qt-t%qt)%qt),e.e=bc(-t/qt)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(n==0?(v.length=h,s=1,h--):(v.length=h+1,s=hl(10,qt-n),v[h]=a>0?(m/hl(10,c-a)%hl(10,a)|0)*s:0),f)for(;;)if(h==0){(v[0]+=s)==Dr&&(v[0]=1,++e.e);break}else{if(v[h]+=s,v[h]!=Dr)break;v[h--]=0,s=1}for(n=v.length;v[--n]===0;)v.pop();if(Gt&&(e.e>Xp||e.e<-Xp))throw Error(uw+yr(e));return e}function DP(e,t){var r,n,a,s,c,u,f,m,h,v,x=e.constructor,b=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Gt?Lt(t,b):t;if(f=e.d,v=t.d,n=t.e,m=e.e,f=f.slice(),c=m-n,c){for(h=c<0,h?(r=f,c=-c,u=v.length):(r=v,n=m,u=f.length),a=Math.max(Math.ceil(b/qt),u)+2,c>a&&(c=a,r.length=1),r.reverse(),a=c;a--;)r.push(0);r.reverse()}else{for(a=f.length,u=v.length,h=a<u,h&&(u=a),a=0;a<u;a++)if(f[a]!=v[a]){h=f[a]<v[a];break}c=0}for(h&&(r=f,f=v,v=r,t.s=-t.s),u=f.length,a=v.length-u;a>0;--a)f[u++]=0;for(a=v.length;a>c;){if(f[--a]<v[a]){for(s=a;s&&f[--s]===0;)f[s]=Dr-1;--f[s],f[a]+=Dr}f[a]-=v[a]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,Gt?Lt(t,b):t):new x(0)}function Bl(e,t,r){var n,a=yr(e),s=Fa(e.d),c=s.length;return t?(r&&(n=r-c)>0?s=s.charAt(0)+"."+s.slice(1)+js(n):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+js(-a-1)+s,r&&(n=r-c)>0&&(s+=js(n))):a>=c?(s+=js(a+1-c),r&&(n=r-a-1)>0&&(s=s+"."+js(n))):((n=a+1)<c&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-c)>0&&(a+1===c&&(s+="."),s+=js(n))),e.s<0?"-"+s:s}function qD(e,t){if(e.length>t)return e.length=t,!0}function kP(e){var t,r,n;function a(s){var c=this;if(!(c instanceof a))return new a(s);if(c.constructor=a,s instanceof a){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(kl+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return $D(c,s.toString())}else if(typeof s!="string")throw Error(kl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,PV.test(s))$D(c,s);else throw Error(kl+s)}if(a.prototype=Ee,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=kP,a.config=a.set=IV,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function IV(e){if(!e||typeof e!="object")throw Error(ea+"Object expected");var t,r,n,a=["precision",1,gc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(bc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(kl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(kl+r+": "+n);return this}var dw=kP(TV);kn=new dw(1);const Dt=dw;function EP(e){var t;return e===0?t=1:t=Math.floor(new Dt(e).abs().log(10).toNumber())+1,t}function _P(e,t,r){for(var n=new Dt(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var OP=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},TP=(e,t,r)=>{if(e.lte(0))return new Dt(0);var n=EP(e.toNumber()),a=new Dt(10).pow(n),s=e.div(a),c=n!==1?.05:.1,u=new Dt(Math.ceil(s.div(c).toNumber())).add(r).mul(c),f=u.mul(a);return t?new Dt(f.toNumber()):new Dt(Math.ceil(f.toNumber()))},RV=(e,t,r)=>{var n=new Dt(1),a=new Dt(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Dt(10).pow(EP(e)-1),a=new Dt(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Dt(Math.floor(e)))}else e===0?a=new Dt(Math.floor((t-1)/2)):r||(a=new Dt(Math.floor(e)));for(var c=Math.floor((t-1)/2),u=[],f=0;f<t;f++)u.push(a.add(new Dt(f-c).mul(n)).toNumber());return u},PP=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var c=TP(new Dt(r).sub(t).div(n-1),a,s),u;t<=0&&r>=0?u=new Dt(0):(u=new Dt(t).add(r).div(2),u=u.sub(new Dt(u).mod(c)));var f=Math.ceil(u.sub(t).div(c).toNumber()),m=Math.ceil(new Dt(r).sub(u).div(c).toNumber()),h=f+m+1;return h>n?PP(t,r,n,a,s+1):(h<n&&(m=r>0?m+(n-h):m,f=r>0?f:f+(n-h)),{step:c,tickMin:u.sub(new Dt(f).mul(c)),tickMax:u.add(new Dt(m).mul(c))})},LV=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),[u,f]=OP([r,n]);if(u===-1/0||f===1/0){var m=f===1/0?[u,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),f];return r>n?m.reverse():m}if(u===f)return RV(u,a,s);var{step:h,tickMin:v,tickMax:x}=PP(u,f,c,s,0),b=_P(v,x.add(new Dt(.1).mul(h)),h);return r>n?b.reverse():b},zV=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,u]=OP([n,a]);if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var f=Math.max(r,2),m=TP(new Dt(u).sub(c).div(f-1),s,0),h=[..._P(new Dt(c),new Dt(u),m),u];return s===!1&&(h=h.map(v=>Math.round(v))),n>a?h.reverse():h},FV=e=>e.rootProps.barCategoryGap,_d=e=>e.rootProps.stackOffset,IP=e=>e.rootProps.reverseStackOrder,fw=e=>e.options.chartName,mw=e=>e.rootProps.syncId,RP=e=>e.rootProps.syncMethod,pw=e=>e.options.eventEmitter,da={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},cl={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Ea={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},nv=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function LP(e,t,r){if(r!=="auto")return r;if(e!=null)return Rs(e,t)?"category":"number"}function HD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HD(Object(r),!0).forEach(function(n){BV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BV(e,t,r){return(t=$V(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $V(e){var t=qV(e,"string");return typeof t=="symbol"?t:t+""}function qV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UD={allowDataOverflow:cl.allowDataOverflow,allowDecimals:cl.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:cl.angleAxisId,includeHidden:!1,name:void 0,reversed:cl.reversed,scale:cl.scale,tick:cl.tick,tickCount:void 0,ticks:void 0,type:cl.type,unit:void 0},YD={allowDataOverflow:Ea.allowDataOverflow,allowDecimals:Ea.allowDecimals,allowDuplicatedCategory:Ea.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ea.radiusAxisId,includeHidden:Ea.includeHidden,name:void 0,reversed:Ea.reversed,scale:Ea.scale,tick:Ea.tick,tickCount:Ea.tickCount,ticks:void 0,type:Ea.type,unit:void 0},HV=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},hw=se([HV,C5],(e,t)=>{var r;if(e!=null)return e;var n=(r=LP(t,"angleAxis",UD.type))!==null&&r!==void 0?r:"category";return Zp(Zp({},UD),{},{type:n})}),UV=(e,t)=>e.polarAxis.radiusAxis[t],vw=se([UV,C5],(e,t)=>{var r;if(e!=null)return e;var n=(r=LP(t,"radiusAxis",YD.type))!==null&&r!==void 0?r:"category";return Zp(Zp({},YD),{},{type:n})}),av=e=>e.polarOptions,xw=se([Bi,$i,kr],F5),zP=se([av,xw],(e,t)=>{if(e!=null)return _n(e.innerRadius,t,0)}),FP=se([av,xw],(e,t)=>{if(e!=null)return _n(e.outerRadius,t,t*.8)}),YV=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},BP=se([av],YV);se([hw,BP],nv);var $P=se([xw,zP,FP],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});se([vw,$P],nv);var qP=se([Wt,av,zP,FP,Bi,$i],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:u,startAngle:f,endAngle:m}=t;return{cx:_n(c,a,a/2),cy:_n(u,s,s/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:m,clockWise:!1}}}),tr=(e,t)=>t,Od=(e,t,r)=>r;function HP(e){return e?.id}function UP(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,c=new Map;return e.forEach(u=>{var f,m=(f=u.data)!==null&&f!==void 0?f:n;if(!(m==null||m.length===0)){var h=HP(u);m.forEach((v,x)=>{var b=s==null||a?x:String(sr(v,s,null)),S=sr(v,u.dataKey,0),w;c.has(b)?w=c.get(b):w={},Object.assign(w,{[h]:S}),c.set(b,w)})}}),Array.from(c.values())}function gw(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var iv=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function sv(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function VV(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var _r=e=>{var t=Wt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},yc=e=>e.tooltip.settings.axisId;function GV(e){if(e in Uu)return Uu[e]();var t="scale".concat(yd(e));if(t in Uu)return Uu[t]()}function VD(e){var t=e.ticks,r=e.bandwidth,n=e.range(),a=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(s){function c(){return s.apply(this,arguments)}return c.toString=function(){return s.toString()},c})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(s){var c=a[0],u=a[1];return c<=u?s>=c&&s<=u:s>=u&&s<=c},bandwidth:r?()=>r.call(e):void 0,ticks:t?s=>t.call(e,s):void 0,map:(s,c)=>{var u=e(s);if(u!=null){if(e.bandwidth&&c!==null&&c!==void 0&&c.position){var f=e.bandwidth();switch(c.position){case"middle":u+=f/2;break;case"end":u+=f;break}}return u}}}}function GD(e,t,r){if(typeof e=="function")return VD(e.copy().domain(t).range(r));if(e!=null){var n=GV(e);if(n!=null)return n.domain(t).range(r),VD(n)}}var YP=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Ri(t)){for(var r,n,a=0;a<t.length;a++){var s=t[a];It(s)&&((r===void 0||s<r)&&(r=s),(n===void 0||s>n)&&(n=s))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function KD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KD(Object(r),!0).forEach(function(n){KV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KV(e,t,r){return(t=WV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WV(e){var t=QV(e,"string");return typeof t=="symbol"?t:t+""}function QV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ly=[0,"auto"],XV={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ZV=(e,t)=>e.cartesianAxis.xAxis[t],$s=(e,t)=>{var r=ZV(e,t);return r??XV},JV={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ly,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Sd},eG=(e,t)=>e.cartesianAxis.yAxis[t],qs=(e,t)=>{var r=eG(e,t);return r??JV},tG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},bw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??tG},or=(e,t,r)=>{switch(t){case"xAxis":return $s(e,r);case"yAxis":return qs(e,r);case"zAxis":return bw(e,r);case"angleAxis":return hw(e,r);case"radiusAxis":return vw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},rG=(e,t,r)=>{switch(t){case"xAxis":return $s(e,r);case"yAxis":return qs(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},wc=(e,t,r)=>{switch(t){case"xAxis":return $s(e,r);case"yAxis":return qs(e,r);case"angleAxis":return hw(e,r);case"radiusAxis":return vw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},VP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function yw(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var nG=e=>e.graphicalItems.cartesianItems,aG=se([tr,Od],yw),ww=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Td=se([nG,or,aG],ww,{memoizeOptions:{resultEqualityCheck:sv}}),GP=se([Td],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(gw)),KP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),iG=se([Td],KP),jw=e=>e.map(t=>t.data).filter(Boolean).flat(1),sG=se([Td],jw,{memoizeOptions:{resultEqualityCheck:sv}}),Nw=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Sw=se([sG,NP],Nw),Cw=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:sr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:sr(a,n)}))):e.map(n=>({value:n})),lv=se([Sw,or,Td],Cw);function WP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function tp(e){if(_i(e)||e instanceof Date){var t=Number(e);if(It(t))return t}}function WD(e){if(Array.isArray(e)){var t=[tp(e[0]),tp(e[1])];return Ri(t)?t:void 0}var r=tp(e);if(r!=null)return[r,r]}function Li(e){return e.map(tp).filter(La)}function lG(e,t,r){return!r||typeof t!="number"||Ei(t)?[]:r.length?Li(r.flatMap(n=>{var a=sr(e,n.dataKey),s,c;if(Array.isArray(a)?[s,c]=a:s=c=a,!(!It(s)||!It(c)))return[t-s,t+c]})):[]}var Ar=e=>{var t=_r(e),r=yc(e);return wc(e,t,r)},Pd=se([Ar],e=>e?.dataKey),oG=se([GP,NP,Ar],UP),QP=(e,t,r,n)=>{var a={},s=t.reduce((c,u)=>{if(u.stackId==null)return c;var f=c[u.stackId];return f==null&&(f=[]),f.push(u),c[u.stackId]=f,c},a);return Object.fromEntries(Object.entries(s).map(c=>{var[u,f]=c,m=n?[...f].reverse():f,h=m.map(HP);return[u,{stackedData:RH(e,h,r),graphicalItems:m}]}))},cG=se([oG,GP,_d,IP],QP),XP=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var c=FH(e,a,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},uG=se([or],e=>e.allowDataOverflow),Aw=e=>{var t;if(e==null||!("domain"in e))return Ly;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Li(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Ly},Mw=se([or],Aw),Dw=se([Mw,uG],SP),dG=se([cG,Bs,tr,Dw],XP,{memoizeOptions:{resultEqualityCheck:iv}}),ov=e=>e.errorBars,fG=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>WP(r,n)),eh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),c=Math.min(...s),u=Math.max(...s);return[c,u]}},kw=(e,t,r,n,a)=>{var s,c;if(r.length>0&&e.forEach(u=>{r.forEach(f=>{var m,h,v=(m=n[f.id])===null||m===void 0?void 0:m.filter(C=>WP(a,C)),x=sr(u,(h=t.dataKey)!==null&&h!==void 0?h:f.dataKey),b=lG(u,x,v);if(b.length>=2){var S=Math.min(...b),w=Math.max(...b);(s==null||S<s)&&(s=S),(c==null||w>c)&&(c=w)}var y=WD(x);y!=null&&(s=s==null?y[0]:Math.min(s,y[0]),c=c==null?y[1]:Math.max(c,y[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var f=WD(sr(u,t.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),It(s)&&It(c))return[s,c]},mG=se([Sw,or,iG,ov,tr],kw,{memoizeOptions:{resultEqualityCheck:iv}});function pG(e){var{value:t}=e;if(_i(t)||t instanceof Date)return t}var hG=(e,t,r)=>{var n=e.map(pG).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&CT(n))?H5(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},ZP=e=>e.referenceElements.dots,jc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),vG=se([ZP,tr,Od],jc),JP=e=>e.referenceElements.areas,xG=se([JP,tr,Od],jc),e4=e=>e.referenceElements.lines,gG=se([e4,tr,Od],jc),t4=(e,t)=>{if(e!=null){var r=Li(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},bG=se(vG,tr,t4),r4=(e,t)=>{if(e!=null){var r=Li(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},yG=se([xG,tr],r4);function wG(e){var t;if(e.x!=null)return Li([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Li(r)}function jG(e){var t;if(e.y!=null)return Li([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Li(r)}var n4=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?wG(n):jG(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},NG=se([gG,tr],n4),SG=se(bG,NG,yG,(e,t,r)=>eh(e,r,t)),Ew=(e,t,r,n,a,s,c,u)=>{if(r!=null)return r;var f=c==="vertical"&&u==="xAxis"||c==="horizontal"&&u==="yAxis",m=f?eh(n,s,a):eh(s,a);return OV(t,m,e.allowDataOverflow)},CG=se([or,Mw,Dw,dG,mG,SG,Wt,tr],Ew,{memoizeOptions:{resultEqualityCheck:iv}}),AG=[0,1],_w=(e,t,r,n,a,s,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:u,type:f}=e,m=Rs(t,s);if(m&&u==null){var h;return H5(0,(h=r?.length)!==null&&h!==void 0?h:0)}return f==="category"?hG(n,e,m):a==="expand"?AG:c}},Ow=se([or,Wt,Sw,lv,_d,tr,CG],_w);function MG(e){return e in Uu}var a4=(e,t,r)=>{if(e!=null){var{scale:n,type:a}=e;if(n==="auto")return a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof n=="string"){var s="scale".concat(yd(n));return MG(s)?s:"point"}}},Hs=se([or,VP,fw],a4);function Tw(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?GD(e.scale,r,n):GD(t,r,n)}var Pw=(e,t,r)=>{var n=Aw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ri(e))return LV(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ri(e))return zV(e,t.tickCount,t.allowDecimals)}},Iw=se([Ow,wc,Hs],Pw),Rw=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Ri(t)&&Array.isArray(r)&&r.length>0){var a,s,c=t[0],u=(a=r[0])!==null&&a!==void 0?a:0,f=t[1],m=(s=r[r.length-1])!==null&&s!==void 0?s:0;return[Math.min(c,u),Math.max(f,m)]}return t},DG=se([or,Ow,Iw,tr],Rw),kG=se(lv,or,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Li(e.map(v=>v.value))).sort((v,x)=>v-x),a=n[0],s=n[n.length-1];if(a==null||s==null)return 1/0;var c=s-a;if(c===0)return 1/0;for(var u=0;u<n.length-1;u++){var f=n[u],m=n[u+1];if(!(f==null||m==null)){var h=m-f;r=Math.min(r,h)}}return r/c}}),i4=se(kG,Wt,FV,kr,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!It(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var c=_n(r,e*s),u=e*s/2;return u-c-(u-c)/s*c}return 0}),EG=(e,t,r)=>{var n=$s(e,t);return n==null||typeof n.padding!="string"?0:i4(e,"xAxis",t,r,n.padding)},_G=(e,t,r)=>{var n=qs(e,t);return n==null||typeof n.padding!="string"?0:i4(e,"yAxis",t,r,n.padding)},OG=se($s,EG,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),TG=se(qs,_G,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),PG=se([kr,OG,Yh,Uh,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),IG=se([kr,Wt,TG,Yh,Uh,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:c}=a;return s?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Id=(e,t,r,n)=>{var a;switch(t){case"xAxis":return PG(e,r,n);case"yAxis":return IG(e,r,n);case"zAxis":return(a=bw(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return BP(e);case"radiusAxis":return $P(e,r);default:return}},s4=se([or,Id],nv),RG=se([Hs,DG],YP),cv=se([or,Hs,RG,s4],Tw);se([Td,ov,tr],fG);function l4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var uv=(e,t)=>t,dv=(e,t,r)=>r,LG=se(qh,uv,dv,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(l4)),zG=se(Hh,uv,dv,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(l4)),o4=(e,t)=>({width:e.width,height:t.height}),FG=(e,t)=>{var r=typeof t.width=="number"?t.width:Sd;return{width:r,height:e.height}};se(kr,$s,o4);var BG=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},$G=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},qG=se($i,kr,LG,uv,dv,(e,t,r,n,a)=>{var s={},c;return r.forEach(u=>{var f=o4(t,u);c==null&&(c=BG(t,n,e));var m=n==="top"&&!a||n==="bottom"&&a;s[u.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),s}),HG=se(Bi,kr,zG,uv,dv,(e,t,r,n,a)=>{var s={},c;return r.forEach(u=>{var f=FG(t,u);c==null&&(c=$G(t,n,e));var m=n==="left"&&!a||n==="right"&&a;s[u.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),s}),UG=(e,t)=>{var r=$s(e,t);if(r!=null)return qG(e,r.orientation,r.mirror)};se([kr,$s,UG,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}});var YG=(e,t)=>{var r=qs(e,t);if(r!=null)return HG(e,r.orientation,r.mirror)};se([kr,qs,YG,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}});se(kr,qs,(e,t)=>{var r=typeof t.width=="number"?t.width:Sd;return{width:r,height:e.height}});var c4=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:c}=r,u=Rs(e,n),f=t.map(m=>m.value);if(c&&u&&s==="category"&&a&&CT(f))return f}},Lw=se([Wt,lv,or,tr],c4),u4=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,c=Rs(e,n);if(c&&(a==="number"||s!=="auto"))return t.map(u=>u.value)}},zw=se([Wt,lv,wc,tr],u4);se([Wt,rG,Hs,cv,Lw,zw,Id,Iw,tr],(e,t,r,n,a,s,c,u,f)=>{if(t!=null){var m=Rs(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:m,niceTicks:u,range:c,realScaleType:r,scale:n}}});var VG=(e,t,r,n,a,s,c,u,f)=>{if(!(t==null||n==null)){var m=Rs(e,f),{type:h,ticks:v,tickCount:x}=t,b=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,S=h==="category"&&n.bandwidth?n.bandwidth()/b:0;S=f==="angleAxis"&&s!=null&&s.length>=2?mn(s[0]-s[1])*2*S:S;var w=v||a;return w?w.map((y,C)=>{var M=c?c.indexOf(y):y,A=n.map(M);return It(A)?{index:C,coordinate:A+S,value:y,offset:S}:null}).filter(La):m&&u?u.map((y,C)=>{var M=n.map(y);return It(M)?{coordinate:M+S,value:y,index:C,offset:S}:null}).filter(La):n.ticks?n.ticks(x).map((y,C)=>{var M=n.map(y);return It(M)?{coordinate:M+S,value:y,index:C,offset:S}:null}).filter(La):n.domain().map((y,C)=>{var M=n.map(y);return It(M)?{coordinate:M+S,value:c?c[y]:y,index:C,offset:S}:null}).filter(La)}};se([Wt,wc,Hs,cv,Iw,Id,Lw,zw,tr],VG);var GG=(e,t,r,n,a,s,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=Rs(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&n?.length>=2?mn(n[0]-n[1])*2*m:m,u&&s?s.map((h,v)=>{var x=r.map(h);return It(x)?{coordinate:x+m,value:h,index:v,offset:m}:null}).filter(La):r.ticks?r.ticks(f).map((h,v)=>{var x=r.map(h);return It(x)?{coordinate:x+m,value:h,index:v,offset:m}:null}).filter(La):r.domain().map((h,v)=>{var x=r.map(h);return It(x)?{coordinate:x+m,value:a?a[h]:h,index:v,offset:m}:null}).filter(La)}};se([Wt,wc,cv,Id,Lw,zw,tr],GG);se(or,cv,(e,t)=>{if(!(e==null||t==null))return Jp(Jp({},e),{},{scale:t})});var KG=se([or,Hs,Ow,s4],Tw);se((e,t,r)=>bw(e,r),KG,(e,t)=>{if(!(e==null||t==null))return Jp(Jp({},e),{},{scale:t})});var WG=se([Wt,qh,Hh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),d4=e=>e.options.defaultTooltipEventType,f4=e=>e.options.validateTooltipEventTypes;function m4(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Fw(e,t){var r=d4(e),n=f4(e);return m4(t,r,n)}function QG(e){return et(t=>Fw(t,e))}var p4=(e,t)=>{var r,n=Number(t);if(!(Ei(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},XG=e=>e.tooltip.settings,Ns={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},ZG={itemInteraction:{click:Ns,hover:Ns},axisInteraction:{click:Ns,hover:Ns},keyboardInteraction:Ns,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},h4=vn({name:"tooltip",initialState:ZG,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Vt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=fa(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Vt()},removeTooltipEntrySettings:{reducer(e,t){var r=fa(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Vt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:JG,replaceTooltipEntrySettings:eK,removeTooltipEntrySettings:tK,setTooltipSettingsState:rK,setActiveMouseOverItemIndex:v4,mouseLeaveItem:nK,mouseLeaveChart:x4,setActiveClickItemIndex:aK,setMouseOverAxisIndex:g4,setMouseClickAxisIndex:iK,setSyncInteraction:zy,setKeyboardInteraction:Fy}=h4.actions,sK=h4.reducer;function QD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QD(Object(r),!0).forEach(function(n){lK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lK(e,t,r){return(t=oK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oK(e){var t=cK(e,"string");return typeof t=="symbol"?t:t+""}function cK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uK(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function dK(e){return e.index!=null}var b4=(e,t,r,n)=>{if(t==null)return Ns;var a=uK(e,t,r);if(a==null)return Ns;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(dK(a)){if(s)return Sm(Sm({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Sm(Sm({},Ns),{},{coordinate:a.coordinate})};function fK(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function mK(e,t){var r=fK(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),c=Math.max(n,a);return r>=s&&r<=c}function pK(e,t,r){if(r==null||t==null)return!0;var n=sr(e,t);return n==null||!Ri(r)?!0:mK(n,r)}var Bw=(e,t,r,n)=>{var a=e?.index;if(a==null)return null;var s=Number(a);if(!It(s))return a;var c=0,u=1/0;t.length>0&&(u=t.length-1);var f=Math.max(c,Math.min(s,u)),m=t[f];return m==null||pK(m,r,n)?String(f):null},y4=(e,t,r,n,a,s,c)=>{if(s!=null){var u=c[0],f=u?.getPosition(s);if(f!=null)return f;var m=a?.[Number(s)];if(m)return r==="horizontal"?{x:m.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:m.coordinate}}},w4=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(c=>{var u;return((u=c.settings)===null||u===void 0?void 0:u.graphicalItemId)===a})},j4=e=>e.options.tooltipPayloadSearcher,Nc=e=>e.tooltip;function XD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XD(Object(r),!0).forEach(function(n){hK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hK(e,t,r){return(t=vK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vK(e){var t=xK(e,"string");return typeof t=="symbol"?t:t+""}function xK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gK(e,t){return e??t}var N4=(e,t,r,n,a,s,c)=>{if(!(t==null||s==null)){var{chartData:u,computedData:f,dataStartIndex:m,dataEndIndex:h}=r,v=[];return e.reduce((x,b)=>{var S,{dataDefinedOnItem:w,settings:y}=b,C=gK(w,u),M=Array.isArray(C)?v5(C,m,h):C,A=(S=y?.dataKey)!==null&&S!==void 0?S:n,_=y?.nameKey,E;if(n&&Array.isArray(M)&&!Array.isArray(M[0])&&c==="axis"?E=v$(M,n,a):E=s(M,t,f,_),Array.isArray(E))E.forEach(P=>{var O=ZD(ZD({},y),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});x.push(JA({tooltipEntrySettings:O,dataKey:P.dataKey,payload:P.payload,value:sr(P.payload,P.dataKey),name:P.name}))});else{var T;x.push(JA({tooltipEntrySettings:y,dataKey:A,payload:E,value:sr(E,A),name:(T=sr(E,_))!==null&&T!==void 0?T:y?.name}))}return x},v)}},$w=se([Ar,VP,fw],a4),bK=se([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),yK=se([_r,yc],yw),Sc=se([bK,Ar,yK],ww,{memoizeOptions:{resultEqualityCheck:sv}}),wK=se([Sc],e=>e.filter(gw)),jK=se([Sc],jw,{memoizeOptions:{resultEqualityCheck:sv}}),Cc=se([jK,Bs],Nw),NK=se([wK,Bs,Ar],UP),qw=se([Cc,Ar,Sc],Cw),S4=se([Ar],Aw),SK=se([Ar],e=>e.allowDataOverflow),C4=se([S4,SK],SP),CK=se([Sc],e=>e.filter(gw)),AK=se([NK,CK,_d,IP],QP),MK=se([AK,Bs,_r,C4],XP),DK=se([Sc],KP),kK=se([Cc,Ar,DK,ov,_r],kw,{memoizeOptions:{resultEqualityCheck:iv}}),EK=se([ZP,_r,yc],jc),_K=se([EK,_r],t4),OK=se([JP,_r,yc],jc),TK=se([OK,_r],r4),PK=se([e4,_r,yc],jc),IK=se([PK,_r],n4),RK=se([_K,IK,TK],eh),LK=se([Ar,S4,C4,MK,kK,RK,Wt,_r],Ew),Rd=se([Ar,Wt,Cc,qw,_d,_r,LK],_w),zK=se([Rd,Ar,$w],Pw),FK=se([Ar,Rd,zK,_r],Rw),A4=e=>{var t=_r(e),r=yc(e),n=!1;return Id(e,t,r,n)},M4=se([Ar,A4],nv),D4=se([Ar,$w,FK,M4],Tw),BK=se([Wt,qw,Ar,_r],c4),$K=se([Wt,qw,Ar,_r],u4),qK=(e,t,r,n,a,s,c,u)=>{if(t){var{type:f}=t,m=Rs(e,u);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,v=f==="category"&&n.bandwidth?n.bandwidth()/h:0;return v=u==="angleAxis"&&a!=null&&a?.length>=2?mn(a[0]-a[1])*2*v:v,m&&c?c.map((x,b)=>{var S=n.map(x);return It(S)?{coordinate:S+v,value:x,index:b,offset:v}:null}).filter(La):n.domain().map((x,b)=>{var S=n.map(x);return It(S)?{coordinate:S+v,value:s?s[x]:x,index:b,offset:v}:null}).filter(La)}}},Hi=se([Wt,Ar,$w,D4,A4,BK,$K,_r],qK),Hw=se([d4,f4,XG],(e,t,r)=>m4(r.shared,e,t)),k4=e=>e.tooltip.settings.trigger,Uw=e=>e.tooltip.settings.defaultIndex,Ld=se([Nc,Hw,k4,Uw],b4),md=se([Ld,Cc,Pd,Rd],Bw),E4=se([Hi,md],p4),_4=se([Ld],e=>{if(e)return e.dataKey}),HK=se([Ld],e=>{if(e)return e.graphicalItemId}),O4=se([Nc,Hw,k4,Uw],w4),UK=se([Bi,$i,Wt,kr,Hi,Uw,O4],y4),YK=se([Ld,UK],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),VK=se([Ld],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),GK=se([O4,md,Bs,Pd,E4,j4,Hw],N4);se([GK],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function JD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ek(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JD(Object(r),!0).forEach(function(n){KK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KK(e,t,r){return(t=WK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WK(e){var t=QK(e,"string");return typeof t=="symbol"?t:t+""}function QK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XK=()=>et(Ar),ZK=()=>{var e=XK(),t=et(Hi),r=et(D4);return ZA(!e||!r?void 0:ek(ek({},e),{},{scale:r}),t)};function tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tk(Object(r),!0).forEach(function(n){JK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JK(e,t,r){return(t=eW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eW(e){var t=tW(e,"string");return typeof t=="symbol"?t:t+""}function tW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rW=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},nW=(e,t,r,n)=>{var a=t.find(m=>m&&m.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:c}=n;return Oo(Oo(Oo({},n),br(n.cx,n.cy,c,s)),{},{angle:s,radius:c})}var u=a.coordinate,{angle:f}=n;return Oo(Oo(Oo({},n),br(n.cx,n.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function aW(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var T4=(e,t,r,n,a)=>{var s,c=(s=t?.length)!==null&&s!==void 0?s:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<c;u++){var f,m,h,v,x,b=u>0?(f=r[u-1])===null||f===void 0?void 0:f.coordinate:(m=r[c-1])===null||m===void 0?void 0:m.coordinate,S=(h=r[u])===null||h===void 0?void 0:h.coordinate,w=u>=c-1?(v=r[0])===null||v===void 0?void 0:v.coordinate:(x=r[u+1])===null||x===void 0?void 0:x.coordinate,y=void 0;if(!(b==null||S==null||w==null))if(mn(S-b)!==mn(w-S)){var C=[];if(mn(w-S)===mn(a[1]-a[0])){y=w;var M=S+a[1]-a[0];C[0]=Math.min(M,(M+b)/2),C[1]=Math.max(M,(M+b)/2)}else{y=b;var A=w+a[1]-a[0];C[0]=Math.min(S,(A+S)/2),C[1]=Math.max(S,(A+S)/2)}var _=[Math.min(S,(y+S)/2),Math.max(S,(y+S)/2)];if(e>_[0]&&e<=_[1]||e>=C[0]&&e<=C[1]){var E;return(E=r[u])===null||E===void 0?void 0:E.index}}else{var T=Math.min(b,w),P=Math.max(b,w);if(e>(T+S)/2&&e<=(P+S)/2){var O;return(O=r[u])===null||O===void 0?void 0:O.index}}}else if(t)for(var L=0;L<c;L++){var R=t[L];if(R!=null){var F=t[L+1],k=t[L-1];if(L===0&&F!=null&&e<=(R.coordinate+F.coordinate)/2||L===c-1&&k!=null&&e>(R.coordinate+k.coordinate)/2||L>0&&L<c-1&&k!=null&&F!=null&&e>(R.coordinate+k.coordinate)/2&&e<=(R.coordinate+F.coordinate)/2)return R.index}}return-1},iW=()=>et(fw),Yw=(e,t)=>t,P4=(e,t,r)=>r,Vw=(e,t,r,n)=>n,sW=se(Hi,e=>Oh(e,t=>t.coordinate)),Gw=se([Nc,Yw,P4,Vw],b4),Kw=se([Gw,Cc,Pd,Rd],Bw),lW=(e,t,r)=>{if(t!=null){var n=Nc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},I4=se([Nc,Yw,P4,Vw],w4),th=se([Bi,$i,Wt,kr,Hi,Vw,I4],y4),oW=se([Gw,th],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),R4=se([Hi,Kw],p4),cW=se([I4,Kw,Bs,Pd,R4,j4,Yw],N4),uW=se([Gw,Kw],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),dW=(e,t,r,n,a,s,c)=>{if(!(!e||!r||!n||!a)&&aW(e,c)){var u=BH(e,t),f=T4(u,s,a,r,n),m=rW(t,a,f,e);return{activeIndex:String(f),activeCoordinate:m}}},fW=(e,t,r,n,a,s,c)=>{if(!(!e||!n||!a||!s||!r)){var u=K7(e,r);if(u){var f=$H(u,t),m=T4(f,c,s,n,a),h=nW(t,s,m,u);return{activeIndex:String(m),activeCoordinate:h}}}},mW=(e,t,r,n,a,s,c,u)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?dW(e,t,n,a,s,c,u):fW(e,t,r,n,a,s,c)},pW=se(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),hW=se(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(da)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:VV}});function rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(r),!0).forEach(function(n){vW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vW(e,t,r){return(t=xW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xW(e){var t=gW(e,"string");return typeof t=="symbol"?t:t+""}function gW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bW={},yW={zIndexMap:Object.values(da).reduce((e,t)=>nk(nk({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),bW)},wW=new Set(Object.values(da));function jW(e){return wW.has(e)}var L4=vn({name:"zIndex",initialState:yW,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Vt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!jW(r)&&delete e.zIndexMap[r])},prepare:Vt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Vt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Vt()}}}),{registerZIndexPortal:NW,unregisterZIndexPortal:SW,registerZIndexPortalElement:CW,unregisterZIndexPortalElement:AW}=L4.actions,MW=L4.reducer;function zd(e){var{zIndex:t,children:r}=e,n=y9(),a=n&&t!==void 0&&t!==0,s=Ls(),c=Sr();j.useLayoutEffect(()=>a?(c(NW({zIndex:t})),()=>{c(SW({zIndex:t}))}):wd,[c,t,a]);var u=et(f=>pW(f,t,s));return a?u?pc.createPortal(r,u):null:r}function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(null,arguments)}function ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ak(Object(r),!0).forEach(function(n){DW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DW(e,t,r){return(t=kW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kW(e){var t=EW(e,"string");return typeof t=="symbol"?t:t+""}function EW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _W(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return j.isValidElement(t)?j.cloneElement(t,n):j.createElement(r,n)}function OW(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:c,layout:u,cursor:f,tooltipEventType:m,chartName:h}=e,v=r,x=n,b=a;if(!f||!v||h!=="ScatterChart"&&m!=="axis")return null;var S,w,y;if(h==="ScatterChart")S=v,w=o7,y=da.cursorLine;else if(h==="BarChart")S=c7(u,v,s,c),w=z5,y=da.cursorRectangle;else if(u==="radial"&&DT(v)){var{cx:C,cy:M,radius:A,startAngle:_,endAngle:E}=B5(v);S={cx:C,cy:M,startAngle:_,endAngle:E,innerRadius:A,outerRadius:A},w=q5,y=da.cursorLine}else S={points:Z7(u,v,s)},w=R1,y=da.cursorLine;var T=typeof f=="object"&&"className"in f?f.className:void 0,P=Cm(Cm(Cm(Cm({stroke:"#ccc",pointerEvents:"none"},s),S),Jb(f)),{},{payload:x,payloadIndex:b,className:nt("recharts-tooltip-cursor",T)});return j.createElement(zd,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},j.createElement(_W,{cursor:f,cursorComp:w,cursorProps:P}))}function TW(e){var t=ZK(),r=x9(),n=Gh(),a=iW();return t==null||r==null||n==null||a==null?null:j.createElement(OW,By({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var z4=j.createContext(null),PW=()=>j.useContext(z4),ub={exports:{}},ik;function IW(){return ik||(ik=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function s(f,m,h,v,x){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new a(h,v||f,x),S=r?r+m:m;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],b]:f._events[S].push(b):(f._events[S]=b,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new n:delete f._events[m]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],h,v;if(this._eventsCount===0)return m;for(v in h=this._events)t.call(h,v)&&m.push(r?v.slice(1):v);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},u.prototype.listeners=function(m){var h=r?r+m:m,v=this._events[h];if(!v)return[];if(v.fn)return[v.fn];for(var x=0,b=v.length,S=new Array(b);x<b;x++)S[x]=v[x].fn;return S},u.prototype.listenerCount=function(m){var h=r?r+m:m,v=this._events[h];return v?v.fn?1:v.length:0},u.prototype.emit=function(m,h,v,x,b,S){var w=r?r+m:m;if(!this._events[w])return!1;var y=this._events[w],C=arguments.length,M,A;if(y.fn){switch(y.once&&this.removeListener(m,y.fn,void 0,!0),C){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,h),!0;case 3:return y.fn.call(y.context,h,v),!0;case 4:return y.fn.call(y.context,h,v,x),!0;case 5:return y.fn.call(y.context,h,v,x,b),!0;case 6:return y.fn.call(y.context,h,v,x,b,S),!0}for(A=1,M=new Array(C-1);A<C;A++)M[A-1]=arguments[A];y.fn.apply(y.context,M)}else{var _=y.length,E;for(A=0;A<_;A++)switch(y[A].once&&this.removeListener(m,y[A].fn,void 0,!0),C){case 1:y[A].fn.call(y[A].context);break;case 2:y[A].fn.call(y[A].context,h);break;case 3:y[A].fn.call(y[A].context,h,v);break;case 4:y[A].fn.call(y[A].context,h,v,x);break;default:if(!M)for(E=1,M=new Array(C-1);E<C;E++)M[E-1]=arguments[E];y[A].fn.apply(y[A].context,M)}}return!0},u.prototype.on=function(m,h,v){return s(this,m,h,v,!1)},u.prototype.once=function(m,h,v){return s(this,m,h,v,!0)},u.prototype.removeListener=function(m,h,v,x){var b=r?r+m:m;if(!this._events[b])return this;if(!h)return c(this,b),this;var S=this._events[b];if(S.fn)S.fn===h&&(!x||S.once)&&(!v||S.context===v)&&c(this,b);else{for(var w=0,y=[],C=S.length;w<C;w++)(S[w].fn!==h||x&&!S[w].once||v&&S[w].context!==v)&&y.push(S[w]);y.length?this._events[b]=y.length===1?y[0]:y:c(this,b)}return this},u.prototype.removeAllListeners=function(m){var h;return m?(h=r?r+m:m,this._events[h]&&c(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(ub)),ub.exports}var RW=IW();const LW=Wa(RW);var pd=new LW,$y="recharts.syncEvent.tooltip",sk="recharts.syncEvent.brush",zW=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!Ei(r))return e[r]}},FW={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},F4=vn({name:"options",initialState:FW,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),BW=F4.reducer,{createEventEmitter:$W}=F4.actions;function qW(e){return e.tooltip.syncInteraction}var HW={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},B4=vn({name:"chartData",initialState:HW,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:lk,setDataStartEndIndexes:UW,setComputedData:Ble}=B4.actions,YW=B4.reducer,VW=["x","y"];function ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function To(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(r),!0).forEach(function(n){GW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GW(e,t,r){return(t=KW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KW(e){var t=WW(e,"string");return typeof t=="symbol"?t:t+""}function WW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QW(e,t){if(e==null)return{};var r,n,a=XW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function XW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ZW(){var e=et(mw),t=et(pw),r=Sr(),n=et(RP),a=et(Hi),s=Gh(),c=Vh(),u=et(f=>f.rootProps.className);j.useEffect(()=>{if(e==null)return wd;var f=(m,h,v)=>{if(t!==v&&e===m){if(n==="index"){var x;if(c&&h!==null&&h!==void 0&&(x=h.payload)!==null&&x!==void 0&&x.coordinate&&h.payload.sourceViewBox){var b=h.payload.coordinate,{x:S,y:w}=b,y=QW(b,VW),{x:C,y:M,width:A,height:_}=h.payload.sourceViewBox,E=To(To({},y),{},{x:c.x+(A?(S-C)/A:0)*c.width,y:c.y+(_?(w-M)/_:0)*c.height});r(To(To({},h),{},{payload:To(To({},h.payload),{},{coordinate:E})}))}else r(h);return}if(a!=null){var T;if(typeof n=="function"){var P={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=n(a,P);T=a[O]}else n==="value"&&(T=a.find(B=>String(B.value)===h.payload.label));var{coordinate:L}=h.payload;if(T==null||h.payload.active===!1||L==null||c==null){r(zy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:R,y:F}=L,k=Math.min(R,c.x+c.width),X=Math.min(F,c.y+c.height),W={x:s==="horizontal"?T.coordinate:k,y:s==="horizontal"?X:T.coordinate},Z=zy({active:h.payload.active,coordinate:W,dataKey:h.payload.dataKey,index:String(T.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});r(Z)}}};return pd.on($y,f),()=>{pd.off($y,f)}},[u,r,t,e,n,a,s,c])}function JW(){var e=et(mw),t=et(pw),r=Sr();j.useEffect(()=>{if(e==null)return wd;var n=(a,s,c)=>{t!==c&&e===a&&r(UW(s))};return pd.on(sk,n),()=>{pd.off(sk,n)}},[r,t,e])}function eQ(){var e=Sr();j.useEffect(()=>{e($W())},[e]),ZW(),JW()}function tQ(e,t,r,n,a,s){var c=et(b=>lW(b,e,t)),u=et(pw),f=et(mw),m=et(RP),h=et(qW),v=h?.active,x=Vh();j.useEffect(()=>{if(!v&&f!=null&&u!=null){var b=zy({active:s,coordinate:r,dataKey:c,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:x,graphicalItemId:void 0});pd.emit($y,f,b,u)}},[v,r,c,a,n,u,f,m,s,x])}function ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(r),!0).forEach(function(n){rQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rQ(e,t,r){return(t=nQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nQ(e){var t=aQ(e,"string");return typeof t=="symbol"?t:t+""}function aQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iQ(e){return e.dataKey}function sQ(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement($9,t)}var dk=[],lQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function $4(e){var t,r,n=Ja(e,lQ),{active:a,allowEscapeViewBox:s,animationDuration:c,animationEasing:u,content:f,filterNull:m,isAnimationActive:h,offset:v,payloadUniqBy:x,position:b,reverseDirection:S,useTranslate3d:w,wrapperStyle:y,cursor:C,shared:M,trigger:A,defaultIndex:_,portal:E,axisId:T}=n,P=Sr(),O=typeof _=="number"?String(_):_;j.useEffect(()=>{P(rK({shared:M,trigger:A,axisId:T,active:a,defaultIndex:O}))},[P,M,A,T,a,O]);var L=Vh(),R=T5(),F=QG(M),{activeIndex:k,isActive:X}=(t=et(ve=>uW(ve,F,A,O)))!==null&&t!==void 0?t:{},W=et(ve=>cW(ve,F,A,O)),Z=et(ve=>R4(ve,F,A,O)),B=et(ve=>oW(ve,F,A,O)),G=W,z=PW(),ne=(r=a??X)!==null&&r!==void 0?r:!1,[ge,$]=Dq([G,ne]),ie=F==="axis"?Z:void 0;tQ(F,A,B,ie,k,ne);var pe=E??z;if(pe==null||L==null||F==null)return null;var ue=G??dk;ne||(ue=dk),m&&ue.length&&(ue=eq(ue.filter(ve=>ve.value!=null&&(ve.hide!==!0||n.includeHidden)),x,iQ));var je=ue.length>0,he=j.createElement(K9,{allowEscapeViewBox:s,animationDuration:c,animationEasing:u,isAnimationActive:h,active:ne,coordinate:B,hasPayload:je,offset:v,position:b,reverseDirection:S,useTranslate3d:w,viewBox:L,wrapperStyle:y,lastBoundingBox:ge,innerRef:$,hasPortalFromProps:!!E},sQ(f,uk(uk({},n),{},{payload:ue,label:ie,active:ne,activeIndex:k,coordinate:B,accessibilityLayer:R})));return j.createElement(j.Fragment,null,pc.createPortal(he,pe),ne&&j.createElement(TW,{cursor:C,tooltipEventType:F,coordinate:B,payload:ue,index:k}))}var Fd=e=>null;Fd.displayName="Cell";function oQ(e,t,r){return(t=cQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cQ(e){var t=uQ(e,"string");return typeof t=="symbol"?t:t+""}function uQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class dQ{constructor(t){oQ(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(r),!0).forEach(function(n){mQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mQ(e,t,r){return(t=pQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pQ(e){var t=hQ(e,"string");return typeof t=="symbol"?t:t+""}function hQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vQ={cacheSize:2e3,enableCache:!0},q4=fQ({},vQ),mk=new dQ(q4.cacheSize),xQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},pk="recharts_measurement_span";function gQ(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",c=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(c,"|").concat(u)}var hk=(e,t)=>{try{var r=document.getElementById(pk);r||(r=document.createElement("span"),r.setAttribute("id",pk),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,xQ,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},vk=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||L1.isSsr)return{width:0,height:0};if(!q4.enableCache)return hk(t,r);var n=gQ(t,r),a=mk.get(n);if(a)return a;var s=hk(t,r);return mk.set(n,s),s},H4;function bQ(e,t,r){return(t=yQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yQ(e){var t=wQ(e,"string");return typeof t=="symbol"?t:t+""}function wQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,SQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},CQ=["cm","mm","pt","pc","in","Q","px"];function AQ(e){return CQ.includes(e)}var Ho="NaN";function MQ(e,t){return e*SQ[t]}class Lr{static parse(t){var r,[,n,a]=(r=NQ.exec(t))!==null&&r!==void 0?r:[];return n==null?Lr.NaN:new Lr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Ei(t)&&(this.unit=""),r!==""&&!jQ.test(r)&&(this.num=NaN,this.unit=""),AQ(r)&&(this.num=MQ(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Lr(NaN,""):new Lr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Lr(NaN,""):new Lr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Lr(NaN,""):new Lr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Lr(NaN,""):new Lr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ei(this.num)}}H4=Lr;bQ(Lr,"NaN",new H4(NaN,""));function U4(e){if(e==null||e.includes(Ho))return Ho;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=xk.exec(t))!==null&&r!==void 0?r:[],c=Lr.parse(n??""),u=Lr.parse(s??""),f=a==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Ho;t=t.replace(xk,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,v,x]=(m=gk.exec(t))!==null&&m!==void 0?m:[],b=Lr.parse(h??""),S=Lr.parse(x??""),w=v==="+"?b.add(S):b.subtract(S);if(w.isNaN())return Ho;t=t.replace(gk,w.toString())}return t}var bk=/\(([^()]*)\)/;function DQ(e){for(var t=e,r;(r=bk.exec(t))!=null;){var[,n]=r;t=t.replace(bk,U4(n))}return t}function kQ(e){var t=e.replace(/\s+/g,"");return t=DQ(t),t=U4(t),t}function EQ(e){try{return kQ(e)}catch{return Ho}}function db(e){var t=EQ(e.slice(5,-1));return t===Ho?"":t}var _Q=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],OQ=["dx","dy","angle","className","breakAll"];function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qy.apply(null,arguments)}function yk(e,t){if(e==null)return{};var r,n,a=TQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function TQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Y4=/[ \f\n\r\t\v\u2028\u2029]+/,V4=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Pn(t)||(r?a=t.toString().split(""):a=t.toString().split(Y4));var s=a.map(u=>({word:u,width:vk(u,n).width})),c=r?0:vk("",n).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}};function PQ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var G4=(e,t,r,n)=>e.reduce((a,s)=>{var{word:c,width:u}=s,f=a[a.length-1];if(f&&u!=null&&(t==null||n||f.width+u+r<Number(t)))f.words.push(c),f.width+=u+r;else{var m={words:[c],width:u};a.push(m)}return a},[]),K4=e=>e.reduce((t,r)=>t.width>r.width?t:r),IQ="",wk=(e,t,r,n,a,s,c,u)=>{var f=e.slice(0,t),m=V4({breakAll:r,style:n,children:f+IQ});if(!m)return[!1,[]];var h=G4(m.wordsWithComputedWidth,s,c,u),v=h.length>a||K4(h).width>Number(s);return[v,h]},RQ=(e,t,r,n,a)=>{var{maxLines:s,children:c,style:u,breakAll:f}=e,m=Ge(s),h=String(c),v=G4(t,n,r,a);if(!m||a)return v;var x=v.length>s||K4(v).width>Number(n);if(!x)return v;for(var b=0,S=h.length-1,w=0,y;b<=S&&w<=h.length-1;){var C=Math.floor((b+S)/2),M=C-1,[A,_]=wk(h,M,f,u,s,n,r,a),[E]=wk(h,C,f,u,s,n,r,a);if(!A&&!E&&(b=C+1),A&&E&&(S=C-1),!A&&E){y=_;break}w++}return y||v},jk=e=>{var t=Pn(e)?[]:e.toString().split(Y4);return[{words:t,width:void 0}]},LQ=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:c}=e;if((t||r)&&!L1.isSsr){var u,f,m=V4({breakAll:s,children:n,style:a});if(m){var{wordsWithComputedWidth:h,spaceWidth:v}=m;u=h,f=v}else return jk(n);return RQ({breakAll:s,children:n,maxLines:c,style:a},u,f,t,!!r)}return jk(n)},W4="#808080",zQ={angle:0,breakAll:!1,capHeight:"0.71em",fill:W4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ww=j.forwardRef((e,t)=>{var r=Ja(e,zQ),{x:n,y:a,lineHeight:s,capHeight:c,fill:u,scaleToFit:f,textAnchor:m,verticalAnchor:h}=r,v=yk(r,_Q),x=j.useMemo(()=>LQ({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width}),[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),{dx:b,dy:S,angle:w,className:y,breakAll:C}=v,M=yk(v,OQ);if(!_i(n)||!_i(a)||x.length===0)return null;var A=Number(n)+(Ge(b)?b:0),_=Number(a)+(Ge(S)?S:0);if(!It(A)||!It(_))return null;var E;switch(h){case"start":E=db("calc(".concat(c,")"));break;case"middle":E=db("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:E=db("calc(".concat(x.length-1," * -").concat(s,")"));break}var T=[],P=x[0];if(f&&P!=null){var O=P.width,{width:L}=v;T.push("scale(".concat(Ge(L)&&Ge(O)?L/O:1,")"))}return w&&T.push("rotate(".concat(w,", ").concat(A,", ").concat(_,")")),T.length&&(M.transform=T.join(" ")),j.createElement("text",qy({},Zn(M),{ref:t,x:A,y:_,className:nt("recharts-text",y),textAnchor:m,fill:u.includes("url")?W4:u}),x.map((R,F)=>{var k=R.words.join(C?"":" ");return j.createElement("tspan",{x:A,dy:F===0?E:s,key:"".concat(k,"-").concat(F)},k)}))});Ww.displayName="Text";function Nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(r),!0).forEach(function(n){FQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FQ(e,t,r){return(t=BQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BQ(e){var t=$Q(e,"string");return typeof t=="symbol"?t:t+""}function $Q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qQ=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:a}=e,{x:s,y:c,height:u,upperWidth:f,lowerWidth:m}=T1(t),h=s,v=s+(f-m)/2,x=(h+v)/2,b=(f+m)/2,S=h+f/2,w=u>=0?1:-1,y=w*n,C=w>0?"end":"start",M=w>0?"start":"end",A=f>=0?1:-1,_=A*n,E=A>0?"end":"start",T=A>0?"start":"end",P=a;if(r==="top"){var O={x:h+f/2,y:c-y,horizontalAnchor:"middle",verticalAnchor:C};return P&&(O.height=Math.max(c-P.y,0),O.width=f),O}if(r==="bottom"){var L={x:v+m/2,y:c+u+y,horizontalAnchor:"middle",verticalAnchor:M};return P&&(L.height=Math.max(P.y+P.height-(c+u),0),L.width=m),L}if(r==="left"){var R={x:x-_,y:c+u/2,horizontalAnchor:E,verticalAnchor:"middle"};return P&&(R.width=Math.max(R.x-P.x,0),R.height=u),R}if(r==="right"){var F={x:x+b+_,y:c+u/2,horizontalAnchor:T,verticalAnchor:"middle"};return P&&(F.width=Math.max(P.x+P.width-F.x,0),F.height=u),F}var k=P?{width:b,height:u}:{};return r==="insideLeft"?_a({x:x+_,y:c+u/2,horizontalAnchor:T,verticalAnchor:"middle"},k):r==="insideRight"?_a({x:x+b-_,y:c+u/2,horizontalAnchor:E,verticalAnchor:"middle"},k):r==="insideTop"?_a({x:h+f/2,y:c+y,horizontalAnchor:"middle",verticalAnchor:M},k):r==="insideBottom"?_a({x:v+m/2,y:c+u-y,horizontalAnchor:"middle",verticalAnchor:C},k):r==="insideTopLeft"?_a({x:h+_,y:c+y,horizontalAnchor:T,verticalAnchor:M},k):r==="insideTopRight"?_a({x:h+f-_,y:c+y,horizontalAnchor:E,verticalAnchor:M},k):r==="insideBottomLeft"?_a({x:v+_,y:c+u-y,horizontalAnchor:T,verticalAnchor:C},k):r==="insideBottomRight"?_a({x:v+m-_,y:c+u-y,horizontalAnchor:E,verticalAnchor:C},k):r&&typeof r=="object"&&(Ge(r.x)||Rl(r.x))&&(Ge(r.y)||Rl(r.y))?_a({x:s+_n(r.x,b),y:c+_n(r.y,u),horizontalAnchor:"end",verticalAnchor:"end"},k):_a({x:S,y:c+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},k)},HQ=["labelRef"],UQ=["content"];function Sk(e,t){if(e==null)return{};var r,n,a=YQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function YQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(r),!0).forEach(function(n){VQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VQ(e,t,r){return(t=GQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GQ(e){var t=KQ(e,"string");return typeof t=="symbol"?t:t+""}function KQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rh.apply(null,arguments)}var WQ=j.createContext(null),QQ=()=>{var e=j.useContext(WQ),t=Vh();return e||(t?T1(t):void 0)},XQ=j.createContext(null),ZQ=()=>{var e=j.useContext(XQ),t=et(qP);return e||t},JQ=e=>{var{value:t,formatter:r}=e,n=Pn(e.children)?t:e.children;return typeof r=="function"?r(n):n},eX=e=>e!=null&&typeof e=="function",tX=(e,t)=>{var r=mn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},rX=(e,t,r,n,a)=>{var{offset:s,className:c}=e,{cx:u,cy:f,innerRadius:m,outerRadius:h,startAngle:v,endAngle:x,clockWise:b}=a,S=(m+h)/2,w=tX(v,x),y=w>=0?1:-1,C,M;switch(t){case"insideStart":C=v+y*s,M=b;break;case"insideEnd":C=x-y*s,M=!b;break;case"end":C=x+y*s,M=b;break;default:throw new Error("Unsupported position ".concat(t))}M=w<=0?M:!M;var A=br(u,f,S,C),_=br(u,f,S,C+(M?1:-1)*359),E="M".concat(A.x,",").concat(A.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(M?0:1,`,
    `).concat(_.x,",").concat(_.y),T=Pn(e.id)?ed("recharts-radial-line-"):e.id;return j.createElement("text",rh({},n,{dominantBaseline:"central",className:nt("recharts-radial-bar-label",c)}),j.createElement("defs",null,j.createElement("path",{id:T,d:E})),j.createElement("textPath",{xlinkHref:"#".concat(T)},r))},nX=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:c,startAngle:u,endAngle:f}=e,m=(u+f)/2;if(r==="outside"){var{x:h,y:v}=br(n,a,c+t,m);return{x:h,y:v,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(s+c)/2,{x:b,y:S}=br(n,a,x,m);return{x:b,y:S,textAnchor:"middle",verticalAnchor:"middle"}},rp=e=>e!=null&&"cx"in e&&Ge(e.cx),aX={angle:0,offset:5,zIndex:da.label,position:"middle",textBreakAll:!1};function iX(e){if(!rp(e))return e;var{cx:t,cy:r,outerRadius:n}=e,a=n*2;return{x:t-n,y:r-n,width:a,upperWidth:a,lowerWidth:a,height:a}}function Q4(e){var t=Ja(e,aX),{viewBox:r,parentViewBox:n,position:a,value:s,children:c,content:u,className:f="",textBreakAll:m,labelRef:h}=t,v=ZQ(),x=QQ(),b=a==="center"?x:v??x,S,w,y;r==null?S=b:rp(r)?S=r:S=T1(r);var C=iX(S);if(!S||Pn(s)&&Pn(c)&&!j.isValidElement(u)&&typeof u!="function")return null;var M=Am(Am({},t),{},{viewBox:S});if(j.isValidElement(u)){var{labelRef:A}=M,_=Sk(M,HQ);return j.cloneElement(u,_)}if(typeof u=="function"){var{content:E}=M,T=Sk(M,UQ);if(w=j.createElement(u,T),j.isValidElement(w))return w}else w=JQ(t);var P=Zn(t);if(rp(S)){if(a==="insideStart"||a==="insideEnd"||a==="end")return rX(t,a,w,P,S);y=nX(S,t.offset,t.position)}else{if(!C)return null;var O=qQ({viewBox:C,position:a,offset:t.offset,parentViewBox:rp(n)?void 0:n});y=Am(Am({x:O.x,y:O.y,textAnchor:O.horizontalAnchor,verticalAnchor:O.verticalAnchor},O.width!==void 0?{width:O.width}:{}),O.height!==void 0?{height:O.height}:{})}return j.createElement(zd,{zIndex:t.zIndex},j.createElement(Ww,rh({ref:h,className:nt("recharts-label",f)},P,y,{textAnchor:PQ(P.textAnchor)?P.textAnchor:y.textAnchor,breakAll:m}),w))}Q4.displayName="Label";var fb={},mb={},Ak;function sX(){return Ak||(Ak=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(mb)),mb}var pb={},Mk;function lX(){return Mk||(Mk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(pb)),pb}var Dk;function oX(){return Dk||(Dk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sX(),r=lX(),n=N1();function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(fb)),fb}var hb,kk;function cX(){return kk||(kk=1,hb=oX().last),hb}var uX=cX();const dX=Wa(uX);var fX=["valueAccessor"],mX=["dataKey","clockWise","id","textBreakAll","zIndex"];function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nh.apply(null,arguments)}function Ek(e,t){if(e==null)return{};var r,n,a=pX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hX=e=>Array.isArray(e.value)?dX(e.value):e.value,X4=j.createContext(void 0);X4.Provider;var Z4=j.createContext(void 0),vX=Z4.Provider;function xX(){return j.useContext(X4)}function gX(){return j.useContext(Z4)}function np(e){var{valueAccessor:t=hX}=e,r=Ek(e,fX),{dataKey:n,clockWise:a,id:s,textBreakAll:c,zIndex:u}=r,f=Ek(r,mX),m=xX(),h=gX(),v=m||h;return!v||!v.length?null:j.createElement(zd,{zIndex:u??da.label},j.createElement(_s,{className:"recharts-label-list"},v.map((x,b)=>{var S,w=Pn(n)?t(x,b):sr(x.payload,n),y=Pn(s)?{}:{id:"".concat(s,"-").concat(b)};return j.createElement(Q4,nh({key:"label-".concat(b)},Zn(x),f,y,{fill:(S=r.fill)!==null&&S!==void 0?S:x.fill,parentViewBox:x.parentViewBox,value:w,textBreakAll:c,viewBox:x.viewBox,index:b,zIndex:0}))})))}np.displayName="LabelList";function bX(e){var{label:t}=e;return t?t===!0?j.createElement(np,{key:"labelList-implicit"}):j.isValidElement(t)||eX(t)?j.createElement(np,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(np,nh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var J4=e=>e.graphicalItems.polarItems,yX=se([tr,Od],yw),fv=se([J4,or,yX],ww),wX=se([fv],jw),mv=se([wX,cw],Nw),jX=se([mv,or,fv],Cw);se([mv,or,fv],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,c=sr(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:sr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var _k=()=>{},NX=se([mv,or,fv,ov,tr],kw),SX=se([or,Mw,Dw,_k,NX,_k,Wt,tr],Ew),e3=se([or,Wt,mv,jX,_d,tr,SX],_w),CX=se([e3,wc,Hs],Pw),AX=se([or,e3,CX,tr],Rw);se([Hs,AX],YP);var MX={radiusAxis:{},angleAxis:{}},t3=vn({name:"polarAxis",initialState:MX,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:$le,removeRadiusAxis:qle,addAngleAxis:Hle,removeAngleAxis:Ule}=t3.actions,DX=t3.reducer;function kX(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function Ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(r),!0).forEach(function(n){EX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EX(e,t,r){return(t=_X(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _X(e){var t=OX(e,"string");return typeof t=="symbol"?t:t+""}function OX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TX=(e,t)=>t,Qw=se([J4,TX],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),PX=[],Xw=(e,t,r)=>r?.length===0?PX:r,r3=se([cw,Qw,Xw],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>Tk(Tk({},t.presentationProps),s.props))),a!=null)return a}}),IX=se([r3,Qw,Xw],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,c=sr(n,t.nameKey,t.name),u;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?u=n.fill:u=t.fill,{value:x5(c,t.dataKey),color:u,payload:n,type:t.legendType}})}),RX=se([r3,Qw,Xw,kr],(e,t,r,n)=>{if(!(t==null||e==null))return FZ({offset:n,pieSettings:t,displayedData:e,cells:r})}),vb={exports:{}},Pt={};var Pk;function LX(){if(Pk)return Pt;Pk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function S(w){if(typeof w=="object"&&w!==null){var y=w.$$typeof;switch(y){case e:switch(w=w.type,w){case r:case a:case n:case f:case m:case x:return w;default:switch(w=w&&w.$$typeof,w){case c:case u:case v:case h:return w;case s:return w;default:return y}}case t:return y}}}return Pt.ContextConsumer=s,Pt.ContextProvider=c,Pt.Element=e,Pt.ForwardRef=u,Pt.Fragment=r,Pt.Lazy=v,Pt.Memo=h,Pt.Portal=t,Pt.Profiler=a,Pt.StrictMode=n,Pt.Suspense=f,Pt.SuspenseList=m,Pt.isContextConsumer=function(w){return S(w)===s},Pt.isContextProvider=function(w){return S(w)===c},Pt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Pt.isForwardRef=function(w){return S(w)===u},Pt.isFragment=function(w){return S(w)===r},Pt.isLazy=function(w){return S(w)===v},Pt.isMemo=function(w){return S(w)===h},Pt.isPortal=function(w){return S(w)===t},Pt.isProfiler=function(w){return S(w)===a},Pt.isStrictMode=function(w){return S(w)===n},Pt.isSuspense=function(w){return S(w)===f},Pt.isSuspenseList=function(w){return S(w)===m},Pt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===a||w===n||w===f||w===m||typeof w=="object"&&w!==null&&(w.$$typeof===v||w.$$typeof===h||w.$$typeof===c||w.$$typeof===s||w.$$typeof===u||w.$$typeof===b||w.getModuleId!==void 0)},Pt.typeOf=S,Pt}var Ik;function zX(){return Ik||(Ik=1,vb.exports=LX()),vb.exports}var FX=zX(),Rk=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Lk=null,xb=null,n3=e=>{if(e===Lk&&Array.isArray(xb))return xb;var t=[];return j.Children.forEach(e,r=>{Pn(r)||(FX.isFragment(r)?t=t.concat(n3(r.props.children)):t.push(r))}),xb=t,Lk=e,t};function a3(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>Rk(a)):n=[Rk(t)],n3(e).forEach(a=>{var s=Ju(a,"type.displayName")||Ju(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var gb={},zk;function BX(){return zk||(zk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(gb)),gb}var bb,Fk;function $X(){return Fk||(Fk=1,bb=BX().isPlainObject),bb}var qX=$X();const HX=Wa(qX);var Bk,$k,qk,Hk,Uk;function Yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yk(Object(r),!0).forEach(function(n){UX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UX(e,t,r){return(t=YX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YX(e){var t=VX(e,"string");return typeof t=="symbol"?t:t+""}function VX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ah.apply(null,arguments)}function Tu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Gk=(e,t,r,n,a)=>{var s=r-n,c;return c=ar(Bk||(Bk=Tu(["M ",",",""])),e,t),c+=ar($k||($k=Tu(["L ",",",""])),e+r,t),c+=ar(qk||(qk=Tu(["L ",",",""])),e+r-s/2,t+a),c+=ar(Hk||(Hk=Tu(["L ",",",""])),e+r-s/2-n,t+a),c+=ar(Uk||(Uk=Tu(["L ",","," Z"])),e,t),c},GX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KX=e=>{var t=Ja(e,GX),{x:r,y:n,upperWidth:a,lowerWidth:s,height:c,className:u}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isUpdateAnimationActive:v}=t,x=j.useRef(null),[b,S]=j.useState(-1),w=j.useRef(a),y=j.useRef(s),C=j.useRef(c),M=j.useRef(r),A=j.useRef(n),_=F1(e,"trapezoid-");if(j.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var W=x.current.getTotalLength();W&&S(W)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||c!==+c||a===0&&s===0||c===0)return null;var E=nt("recharts-trapezoid",u);if(!v)return j.createElement("g",null,j.createElement("path",ah({},Zn(t),{className:E,d:Gk(r,n,a,s,c)})));var T=w.current,P=y.current,O=C.current,L=M.current,R=A.current,F="0px ".concat(b===-1?1:b,"px"),k="".concat(b,"px 0px"),X=P5(["strokeDasharray"],m,f);return j.createElement(z1,{animationId:_,key:_,canBegin:b>0,duration:m,easing:f,isActive:v,begin:h},W=>{var Z=la(T,a,W),B=la(P,s,W),G=la(O,c,W),z=la(L,r,W),ne=la(R,n,W);x.current&&(w.current=Z,y.current=B,C.current=G,M.current=z,A.current=ne);var ge=W>0?{transition:X,strokeDasharray:k}:{strokeDasharray:F};return j.createElement("path",ah({},Zn(t),{className:E,d:Gk(z,ne,Z,B,G),ref:x,style:Vk(Vk({},ge),t.style)}))})},WX=["option","shapeType","activeClassName"];function QX(e,t){if(e==null)return{};var r,n,a=XX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function XX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ih(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(r),!0).forEach(function(n){ZX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZX(e,t,r){return(t=JX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JX(e){var t=eZ(e,"string");return typeof t=="symbol"?t:t+""}function eZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tZ(e,t){return ih(ih({},t),e)}function rZ(e,t){return e==="symbols"}function Wk(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return j.createElement(z5,r);case"trapezoid":return j.createElement(KX,r);case"sector":return j.createElement(q5,r);case"symbols":if(rZ(t))return j.createElement(MT,r);break;case"curve":return j.createElement(R1,r);default:return null}}function nZ(e){return j.isValidElement(e)?e.props:e}function aZ(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=QX(e,WX),s;if(j.isValidElement(t))s=j.cloneElement(t,ih(ih({},a),nZ(t)));else if(typeof t=="function")s=t(a,a.index);else if(HX(t)&&typeof t!="boolean"){var c=tZ(t,a);s=j.createElement(Wk,{shapeType:r,elementProps:c})}else{var u=a;s=j.createElement(Wk,{shapeType:r,elementProps:u})}return a.isActive?j.createElement(_s,{className:n},s):s}var iZ=(e,t,r)=>{var n=Sr();return(a,s)=>c=>{e?.(a,s,c),n(v4({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},sZ=e=>{var t=Sr();return(r,n)=>a=>{e?.(r,n,a),t(nK())}},lZ=(e,t,r)=>{var n=Sr();return(a,s)=>c=>{e?.(a,s,c),n(aK({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function oZ(e){var{tooltipEntrySettings:t}=e,r=Sr(),n=Ls(),a=j.useRef(null);return j.useLayoutEffect(()=>{n||(a.current===null?r(JG(t)):a.current!==t&&r(eK({prev:a.current,next:t})),a.current=t)},[t,r,n]),j.useLayoutEffect(()=>()=>{a.current&&(r(tK(a.current)),a.current=null)},[r]),null}function cZ(e){var{legendPayload:t}=e,r=Sr(),n=et(Wt),a=j.useRef(null);return j.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(T9(t)):a.current!==t&&r(P9({prev:a.current,next:t})),a.current=t)},[r,n,t]),j.useLayoutEffect(()=>()=>{a.current&&(r(I9(a.current)),a.current=null)},[r]),null}var yb,uZ=()=>{var[e]=j.useState(()=>ed("uid-"));return e},dZ=(yb=a1.useId)!==null&&yb!==void 0?yb:uZ;function fZ(e,t){var r=dZ();return t||(e?"".concat(e,"-").concat(r):r)}var mZ=j.createContext(void 0),pZ=e=>{var{id:t,type:r,children:n}=e,a=fZ("recharts-".concat(r),t);return j.createElement(mZ.Provider,{value:a},n(a))},hZ={cartesianItems:[],polarItems:[]},i3=vn({name:"graphicalItems",initialState:hZ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Vt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=fa(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Vt()},removeCartesianGraphicalItem:{reducer(e,t){var r=fa(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Vt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Vt()},removePolarGraphicalItem:{reducer(e,t){var r=fa(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Vt()}}}),{addCartesianGraphicalItem:Yle,replaceCartesianGraphicalItem:Vle,removeCartesianGraphicalItem:Gle,addPolarGraphicalItem:vZ,removePolarGraphicalItem:xZ}=i3.actions,gZ=i3.reducer;function bZ(e){var t=Sr();return j.useLayoutEffect(()=>(t(vZ(e)),()=>{t(xZ(e))}),[t,e]),null}var yZ=["key"],wZ=["onMouseEnter","onClick","onMouseLeave"],jZ=["id"],NZ=["id"];function Qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qk(Object(r),!0).forEach(function(n){SZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SZ(e,t,r){return(t=CZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CZ(e){var t=AZ(e,"string");return typeof t=="symbol"?t:t+""}function AZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ts(){return Ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ts.apply(null,arguments)}function pv(e,t){if(e==null)return{};var r,n,a=MZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function MZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function DZ(e){var t=j.useMemo(()=>a3(e.children,Fd),[e.children]),r=et(n=>IX(n,e.id,t));return r==null?null:j.createElement(cZ,{legendPayload:r})}var kZ=j.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:c,name:u,hide:f,tooltipType:m,id:h}=e,v={dataDefinedOnItem:n.map(x=>x.tooltipPayload),getPosition:x=>{var b;return(b=n[Number(x)])===null||b===void 0?void 0:b.tooltipPosition},settings:{stroke:a,strokeWidth:s,fill:c,dataKey:t,nameKey:r,name:x5(u,t),hide:f,type:m,color:c,unit:"",graphicalItemId:h}};return j.createElement(oZ,{tooltipEntrySettings:v})}),EZ=(e,t)=>e>t?"start":e<t?"end":"middle",_Z=(e,t,r)=>_n(typeof t=="function"?t(e):t,r,r*.8),OZ=(e,t,r)=>{var{top:n,left:a,width:s,height:c}=t,u=F5(s,c),f=a+_n(e.cx,s,s/2),m=n+_n(e.cy,c,c/2),h=_n(e.innerRadius,u,0),v=_Z(r,e.outerRadius,u),x=e.maxRadius||Math.sqrt(s*s+c*c)/2;return{cx:f,cy:m,innerRadius:h,outerRadius:v,maxRadius:x}},TZ=(e,t)=>{var r=mn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},PZ=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var r=nt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=pv(t,yZ);return j.createElement(R1,Ts({},a,{type:"linear",className:r}))},IZ=(e,t,r)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),j.isValidElement(n)))return n;var a=nt("recharts-pie-label-text",kX(e));return j.createElement(Ww,Ts({},t,{alignmentBaseline:"middle",className:a}),n)};function RZ(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:c}=r;if(!n||!a||!t)return null;var u=Qo(r),f=Jb(a),m=Jb(s),h=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,v=t.map((x,b)=>{var S=(x.startAngle+x.endAngle)/2,w=br(x.cx,x.cy,x.outerRadius+h,S),y=ir(ir(ir(ir({},u),x),{},{stroke:"none"},f),{},{index:b,textAnchor:EZ(w.x,x.cx)},w),C=ir(ir(ir(ir({},u),x),{},{fill:"none",stroke:x.fill},m),{},{index:b,points:[br(x.cx,x.cy,x.outerRadius,S),w],key:"line"});return j.createElement(zd,{zIndex:da.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(b)},j.createElement(_s,null,s&&PZ(s,C),IZ(a,y,sr(x,c))))});return j.createElement(_s,{className:"recharts-pie-labels"},v)}function LZ(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?j.createElement(bX,{label:a}):j.createElement(RZ,{sectors:t,props:r,showLabels:n})}function zZ(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s,id:c}=e,u=et(md),f=et(_4),m=et(HK),{onMouseEnter:h,onClick:v,onMouseLeave:x}=a,b=pv(a,wZ),S=iZ(h,a.dataKey,c),w=sZ(x),y=lZ(v,a.dataKey,c);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((C,M)=>{if(C?.startAngle===0&&C?.endAngle===0&&t.length!==1)return null;var A=m==null||m===c,_=String(M)===u&&(f==null||a.dataKey===f)&&A,E=u?n:null,T=r&&_?r:E,P=ir(ir({},C),{},{stroke:C.stroke,tabIndex:-1,[b5]:M,[y5]:c});return j.createElement(_s,Ts({key:"sector-".concat(C?.startAngle,"-").concat(C?.endAngle,"-").concat(C.midAngle,"-").concat(M),tabIndex:-1,className:"recharts-pie-sector"},k$(b,C,M),{onMouseEnter:S(C,M),onMouseLeave:w(C,M),onClick:y(C,M)}),j.createElement(aZ,Ts({option:s??T,index:M,shapeType:"sector",isActive:_},P)))}))}function FZ(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:c,startAngle:u,endAngle:f,dataKey:m,nameKey:h,tooltipType:v}=r,x=Math.abs(r.minAngle),b=TZ(u,f),S=Math.abs(b),w=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,y=n.filter(T=>sr(T,m,0)!==0).length,C=(S>=360?y:y-1)*w,M=S-y*x-C,A=n.reduce((T,P)=>{var O=sr(P,m,0);return T+(Ge(O)?O:0)},0),_;if(A>0){var E;_=n.map((T,P)=>{var O=sr(T,m,0),L=sr(T,h,P),R=OZ(r,s,T),F=(Ge(O)?O:0)/A,k,X=ir(ir({},T),a&&a[P]&&a[P].props);P?k=E.endAngle+mn(b)*w*(O!==0?1:0):k=u;var W=k+mn(b)*((O!==0?x:0)+F*M),Z=(k+W)/2,B=(R.innerRadius+R.outerRadius)/2,G=[{name:L,value:O,payload:X,dataKey:m,type:v,graphicalItemId:r.id}],z=br(R.cx,R.cy,B,Z);return E=ir(ir(ir(ir({},r.presentationProps),{},{percent:F,cornerRadius:typeof c=="string"?parseFloat(c):c,name:L,tooltipPayload:G,midAngle:Z,middleRadius:B,tooltipPosition:z},X),R),{},{value:O,dataKey:m,startAngle:k,endAngle:W,payload:X,paddingAngle:mn(b)*w}),E})}return _}function BZ(e){var{showLabels:t,sectors:r,children:n}=e,a=j.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return j.createElement(vX,{value:t?a:void 0},n)}function $Z(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:s,animationBegin:c,animationDuration:u,animationEasing:f,activeShape:m,inactiveShape:h,onAnimationStart:v,onAnimationEnd:x}=t,b=F1(t,"recharts-pie-"),S=r.current,[w,y]=j.useState(!1),C=j.useCallback(()=>{typeof x=="function"&&x(),y(!1)},[x]),M=j.useCallback(()=>{typeof v=="function"&&v(),y(!0)},[v]);return j.createElement(BZ,{showLabels:!w,sectors:a},j.createElement(z1,{animationId:b,begin:c,duration:u,isActive:s,easing:f,onAnimationStart:M,onAnimationEnd:C,key:b},A=>{var _,E=[],T=a&&a[0],P=(_=T?.startAngle)!==null&&_!==void 0?_:0;return a?.forEach((O,L)=>{var R=S&&S[L],F=L>0?Ju(O,"paddingAngle",0):0;if(R){var k=la(R.endAngle-R.startAngle,O.endAngle-O.startAngle,A),X=ir(ir({},O),{},{startAngle:P+F,endAngle:P+k+F});E.push(X),P=X.endAngle}else{var{endAngle:W,startAngle:Z}=O,B=la(0,W-Z,A),G=ir(ir({},O),{},{startAngle:P+F,endAngle:P+B+F});E.push(G),P=G.endAngle}}),r.current=E,j.createElement(_s,null,j.createElement(zZ,{sectors:E,activeShape:m,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:n}))}),j.createElement(LZ,{showLabels:!w,sectors:a,props:t}),t.children)}var qZ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:da.area};function HZ(e){var{id:t}=e,r=pv(e,jZ),{hide:n,className:a,rootTabIndex:s}=e,c=j.useMemo(()=>a3(e.children,Fd),[e.children]),u=et(h=>RX(h,t,c)),f=j.useRef(null),m=nt("recharts-pie",a);return n||u==null?(f.current=null,j.createElement(_s,{tabIndex:s,className:m})):j.createElement(zd,{zIndex:e.zIndex},j.createElement(kZ,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),j.createElement(_s,{tabIndex:s,className:m},j.createElement($Z,{props:ir(ir({},r),{},{sectors:u}),previousSectorsRef:f,id:t})))}function Zw(e){var t=Ja(e,qZ),{id:r}=t,n=pv(t,NZ),a=Qo(n);return j.createElement(pZ,{id:r,type:"pie"},s=>j.createElement(j.Fragment,null,j.createElement(bZ,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),j.createElement(DZ,Ts({},n,{id:s})),j.createElement(HZ,Ts({},n,{id:s}))))}Zw.displayName="Pie";function Xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(r),!0).forEach(function(n){UZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UZ(e,t,r){return(t=YZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YZ(e){var t=VZ(e,"string");return typeof t=="symbol"?t:t+""}function VZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GZ={xAxis:{},yAxis:{},zAxis:{}},s3=vn({name:"cartesianAxis",initialState:GZ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Vt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Vt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Vt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Vt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Vt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Vt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Vt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Vt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Vt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s,c=a.widthHistory||[];if(c.length===3&&c[0]===c[2]&&n===c[1]&&n!==a.width&&Math.abs(n-((s=c[0])!==null&&s!==void 0?s:0))<=1)return;var u=[...c,n].slice(-3);e.yAxis[r]=Zk(Zk({},a),{},{width:n,widthHistory:u})}}}}),{addXAxis:Kle,replaceXAxis:Wle,removeXAxis:Qle,addYAxis:Xle,replaceYAxis:Zle,removeYAxis:Jle,addZAxis:eoe,replaceZAxis:toe,removeZAxis:roe,updateYAxisWidth:noe}=s3.actions,KZ=s3.reducer,WZ=se([kr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),QZ=se([WZ,Bi,$i],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),XZ=()=>et(QZ),ZZ=e=>{var{chartData:t}=e,r=Sr(),n=Ls();return j.useEffect(()=>n?()=>{}:(r(lk(t)),()=>{r(lk(void 0))}),[t,r,n]),null},Jk={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},l3=vn({name:"brush",initialState:Jk,reducers:{setBrushSettings(e,t){return t.payload==null?Jk:t.payload}}}),{setBrushSettings:aoe}=l3.actions,JZ=l3.reducer,eJ={dots:[],areas:[],lines:[]},o3=vn({name:"referenceElements",initialState:eJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=fa(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=fa(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=fa(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:ioe,removeDot:soe,addArea:loe,removeArea:ooe,addLine:coe,removeLine:uoe}=o3.actions,tJ=o3.reducer,rJ=j.createContext(void 0),nJ=e=>{var{children:t}=e,[r]=j.useState("".concat(ed("recharts"),"-clip")),n=XZ();if(n==null)return null;var{x:a,y:s,width:c,height:u}=n;return j.createElement(rJ.Provider,{value:r},j.createElement("defs",null,j.createElement("clipPath",{id:r},j.createElement("rect",{x:a,y:s,height:u,width:c}))),t)},aJ={},c3=vn({name:"errorBars",initialState:aJ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:doe,replaceErrorBar:foe,removeErrorBar:moe}=c3.actions,iJ=c3.reducer,wb={exports:{}},jb={};var eE;function sJ(){if(eE)return jb;eE=1;var e=uc();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,c=e.useMemo,u=e.useDebugValue;return jb.useSyncExternalStoreWithSelector=function(f,m,h,v,x){var b=a(null);if(b.current===null){var S={hasValue:!1,value:null};b.current=S}else S=b.current;b=c(function(){function y(E){if(!C){if(C=!0,M=E,E=v(E),x!==void 0&&S.hasValue){var T=S.value;if(x(T,E))return A=T}return A=E}if(T=A,r(M,E))return T;var P=v(E);return x!==void 0&&x(T,P)?(M=E,T):(M=E,A=P)}var C=!1,M,A,_=h===void 0?null:h;return[function(){return y(m())},_===null?void 0:function(){return y(_())}]},[m,h,v,x]);var w=n(f,b[0],b[1]);return s(function(){S.hasValue=!0,S.value=w},[w]),u(w),w},jb}var tE;function lJ(){return tE||(tE=1,wb.exports=sJ()),wb.exports}lJ();function oJ(e){e()}function cJ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){oJ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var rE={notify(){},get:()=>[]};function uJ(e,t){let r,n=rE,a=0,s=!1;function c(w){h();const y=n.subscribe(w);let C=!1;return()=>{C||(C=!0,y(),v())}}function u(){n.notify()}function f(){S.onStateChange&&S.onStateChange()}function m(){return s}function h(){a++,r||(r=e.subscribe(f),n=cJ())}function v(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=rE)}function x(){s||(s=!0,h())}function b(){s&&(s=!1,v())}const S={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:m,trySubscribe:x,tryUnsubscribe:b,getListeners:()=>n};return S}var dJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fJ=dJ(),mJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",pJ=mJ(),hJ=()=>fJ||pJ?j.useLayoutEffect:j.useEffect,vJ=hJ();function nE(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function xJ(e,t){if(nE(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!nE(e[r[a]],t[r[a]]))return!1;return!0}var gJ=Symbol.for("react-redux-context"),bJ=typeof globalThis<"u"?globalThis:{};function yJ(){if(!j.createContext)return{};const e=bJ[gJ]??=new Map;let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var wJ=yJ();function jJ(e){const{children:t,context:r,serverState:n,store:a}=e,s=j.useMemo(()=>{const f=uJ(a);return{store:a,subscription:f,getServerState:n?()=>n:void 0}},[a,n]),c=j.useMemo(()=>a.getState(),[a]);vJ(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,c]);const u=r||wJ;return j.createElement(u.Provider,{value:s},t)}var NJ=jJ,SJ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function CJ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function AJ(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(SJ.has(n)){if(e[n]==null&&t[n]==null)continue;if(!xJ(e[n],t[n]))return!1}else if(!CJ(e[n],t[n]))return!1;return!0}var MJ=(e,t)=>t,Jw=se([MJ,Wt,qP,_r,M4,Hi,sW,kr],mW),ej=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},u3=Jn("mouseClick"),d3=Nd();d3.startListening({actionCreator:u3,effect:(e,t)=>{var r=e.payload,n=Jw(t.getState(),ej(r));n?.activeIndex!=null&&t.dispatch(iK({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Hy=Jn("mouseMove"),f3=Nd(),Mm=null;f3.startListening({actionCreator:Hy,effect:(e,t)=>{var r=e.payload;Mm!==null&&cancelAnimationFrame(Mm);var n=ej(r);Mm=requestAnimationFrame(()=>{var a=t.getState(),s=Fw(a,a.tooltip.settings.shared);if(s==="axis"){var c=Jw(a,n);c?.activeIndex!=null?t.dispatch(g4({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(x4())}Mm=null})}});function DJ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var aE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},m3=vn({name:"rootProps",initialState:aE,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:aE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),kJ=m3.reducer,{updateOptions:EJ}=m3.actions,_J=null,OJ={updatePolarOptions:(e,t)=>t.payload},p3=vn({name:"polarOptions",initialState:_J,reducers:OJ}),{updatePolarOptions:TJ}=p3.actions,PJ=p3.reducer,h3=Jn("keyDown"),v3=Jn("focus"),tj=Nd();tj.startListening({actionCreator:h3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=Bw(a,Cc(r),Pd(r),Rd(r)),u=c==null?-1:Number(c);if(!(!Number.isFinite(u)||u<0)){var f=Hi(r);if(s==="Enter"){var m=th(r,"axis","hover",String(a.index));t.dispatch(Fy({active:!a.active,activeIndex:a.index,activeCoordinate:m}));return}var h=WG(r),v=h==="left-to-right"?1:-1,x=s==="ArrowRight"?1:-1,b=u+x*v;if(!(f==null||b>=f.length||b<0)){var S=th(r,"axis","hover",String(b));t.dispatch(Fy({active:!0,activeIndex:b.toString(),activeCoordinate:S}))}}}}}});tj.startListening({actionCreator:v3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",c=th(r,"axis","hover",String(s));t.dispatch(Fy({active:!0,activeIndex:s,activeCoordinate:c}))}}}});var Wn=Jn("externalEvent"),x3=Nd(),Nb=new Map;x3.startListening({actionCreator:Wn,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=Nb.get(a);s!==void 0&&cancelAnimationFrame(s);var c=requestAnimationFrame(()=>{try{var u=t.getState(),f={activeCoordinate:YK(u),activeDataKey:_4(u),activeIndex:md(u),activeLabel:E4(u),activeTooltipIndex:md(u),isTooltipActive:VK(u)};r(f,n)}finally{Nb.delete(a)}});Nb.set(a,c)}}});var IJ=se([Nc],e=>e.tooltipItemPayloads),RJ=se([IJ,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(s=>s.settings.graphicalItemId===r);if(n!=null){var{getPosition:a}=n;if(a!=null)return a(t)}}}),g3=Jn("touchMove"),b3=Nd();b3.startListening({actionCreator:g3,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Fw(n,n.tooltip.settings.shared);if(a==="axis"){var s=r.touches[0];if(s==null)return;var c=Jw(n,ej({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));c?.activeIndex!=null&&t.dispatch(g4({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(a==="item"){var u,f=r.touches[0];if(document.elementFromPoint==null||f==null)return;var m=document.elementFromPoint(f.clientX,f.clientY);if(!m||!m.getAttribute)return;var h=m.getAttribute(b5),v=(u=m.getAttribute(y5))!==null&&u!==void 0?u:void 0,x=Sc(n).find(w=>w.id===v);if(h==null||x==null||v==null)return;var{dataKey:b}=x,S=RJ(n,h,v);t.dispatch(v4({activeDataKey:b,activeIndex:h,activeCoordinate:S,activeGraphicalItemId:v}))}}}});var LJ=qT({brush:JZ,cartesianAxis:KZ,chartData:YW,errorBars:iJ,graphicalItems:gZ,layout:DH,legend:R9,options:BW,polarAxis:DX,polarOptions:PJ,referenceElements:tJ,rootProps:kJ,tooltip:sK,zIndex:MW}),zJ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Jq({reducer:LJ,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([d3.middleware,f3.middleware,tj.middleware,x3.middleware,b3.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(n5({type:"raf"}))},devTools:{serialize:{replacer:DJ},name:"recharts-".concat(r)}})};function FJ(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Ls(),s=j.useRef(null);if(a)return r;s.current==null&&(s.current=zJ(t,n));var c=C1;return j.createElement(NJ,{context:c,store:s.current},r)}function BJ(e){var{layout:t,margin:r}=e,n=Sr(),a=Ls();return j.useEffect(()=>{a||(n(CH(t)),n(SH(r)))},[n,a,t,r]),null}var $J=j.memo(BJ,AJ);function qJ(e){var t=Sr();return j.useEffect(()=>{t(EJ(e))},[t,e]),null}function iE(e){var{zIndex:t,isPanorama:r}=e,n=j.useRef(null),a=Sr();return j.useLayoutEffect(()=>(n.current&&a(CW({zIndex:t,element:n.current,isPanorama:r})),()=>{a(AW({zIndex:t,isPanorama:r}))}),[a,t,r]),j.createElement("g",{tabIndex:-1,ref:n})}function sE(e){var{children:t,isPanorama:r}=e,n=et(hW);if(!n||n.length===0)return t;var a=n.filter(c=>c<0),s=n.filter(c=>c>0);return j.createElement(j.Fragment,null,a.map(c=>j.createElement(iE,{key:c,zIndex:c,isPanorama:r})),t,s.map(c=>j.createElement(iE,{key:c,zIndex:c,isPanorama:r})))}var HJ=["children"];function UJ(e,t){if(e==null)return{};var r,n,a=YJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function YJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sh(){return sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sh.apply(null,arguments)}var VJ={width:"100%",height:"100%",display:"block"},GJ=j.forwardRef((e,t)=>{var r=g9(),n=b9(),a=T5();if(!Os(r)||!Os(n))return null;var{children:s,otherAttributes:c,title:u,desc:f}=e,m,h;return c!=null&&(typeof c.tabIndex=="number"?m=c.tabIndex:m=a?0:void 0,typeof c.role=="string"?h=c.role:h=a?"application":void 0),j.createElement(lT,sh({},c,{title:u,desc:f,role:h,tabIndex:m,width:r,height:n,style:VJ,ref:t}),s)}),KJ=e=>{var{children:t}=e,r=et(Yh);if(!r)return null;var{width:n,height:a,y:s,x:c}=r;return j.createElement(lT,{width:n,height:a,x:c,y:s},t)},lE=j.forwardRef((e,t)=>{var{children:r}=e,n=UJ(e,HJ),a=Ls();return a?j.createElement(KJ,null,j.createElement(sE,{isPanorama:!0},r)):j.createElement(GJ,sh({ref:t},n),j.createElement(sE,{isPanorama:!1},r))});function WJ(){var e=Sr(),[t,r]=j.useState(null),n=et(qH);return j.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;It(s)&&s!==n&&e(MH(s))}},[t,e,n]),r}function oE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(r),!0).forEach(function(n){XJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XJ(e,t,r){return(t=ZJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZJ(e){var t=JJ(e,"string");return typeof t=="symbol"?t:t+""}function JJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ms.apply(null,arguments)}var eee=()=>(eQ(),null);function lh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var tee=j.forwardRef((e,t)=>{var r,n,a=j.useRef(null),[s,c]=j.useState({containerWidth:lh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:lh((n=e.style)===null||n===void 0?void 0:n.height)}),u=j.useCallback((m,h)=>{c(v=>{var x=Math.round(m),b=Math.round(h);return v.containerWidth===x&&v.containerHeight===b?v:{containerWidth:x,containerHeight:b}})},[]),f=j.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:h,height:v}=m.getBoundingClientRect();u(h,v);var x=S=>{var w=S[0];if(w!=null){var{width:y,height:C}=w.contentRect;u(y,C)}},b=new ResizeObserver(x);b.observe(m),a.current=b}},[t,u]);return j.useEffect(()=>()=>{var m=a.current;m?.disconnect()},[u]),j.createElement(j.Fragment,null,j.createElement(Cd,{width:s.containerWidth,height:s.containerHeight}),j.createElement("div",Ms({ref:f},e)))}),ree=j.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=j.useState({containerWidth:lh(r),containerHeight:lh(n)}),c=j.useCallback((f,m)=>{s(h=>{var v=Math.round(f),x=Math.round(m);return h.containerWidth===v&&h.containerHeight===x?h:{containerWidth:v,containerHeight:x}})},[]),u=j.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:m,height:h}=f.getBoundingClientRect();c(m,h)}},[t,c]);return j.createElement(j.Fragment,null,j.createElement(Cd,{width:a.containerWidth,height:a.containerHeight}),j.createElement("div",Ms({ref:u},e)))}),nee=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return j.createElement(j.Fragment,null,j.createElement(Cd,{width:r,height:n}),j.createElement("div",Ms({ref:t},e)))}),aee=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?j.createElement(ree,Ms({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?j.createElement(nee,Ms({},e,{width:r,height:n,ref:t})):j.createElement(j.Fragment,null,j.createElement(Cd,{width:r,height:n}),j.createElement("div",Ms({ref:t},e)))});function iee(e){return e?tee:aee}var see=j.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:c,onDoubleClick:u,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:v,onMouseUp:x,onTouchEnd:b,onTouchMove:S,onTouchStart:w,style:y,width:C,responsive:M,dispatchTouchEvents:A=!0}=e,_=j.useRef(null),E=Sr(),[T,P]=j.useState(null),[O,L]=j.useState(null),R=WJ(),F=O1(),k=F?.width>0?F.width:C,X=F?.height>0?F.height:a,W=j.useCallback(re=>{R(re),typeof t=="function"&&t(re),P(re),L(re),re!=null&&(_.current=re)},[R,t,P,L]),Z=j.useCallback(re=>{E(u3(re)),E(Wn({handler:s,reactEvent:re}))},[E,s]),B=j.useCallback(re=>{E(Hy(re)),E(Wn({handler:m,reactEvent:re}))},[E,m]),G=j.useCallback(re=>{E(x4()),E(Wn({handler:h,reactEvent:re}))},[E,h]),z=j.useCallback(re=>{E(Hy(re)),E(Wn({handler:v,reactEvent:re}))},[E,v]),ne=j.useCallback(()=>{E(v3())},[E]),ge=j.useCallback(re=>{E(h3(re.key))},[E]),$=j.useCallback(re=>{E(Wn({handler:c,reactEvent:re}))},[E,c]),ie=j.useCallback(re=>{E(Wn({handler:u,reactEvent:re}))},[E,u]),pe=j.useCallback(re=>{E(Wn({handler:f,reactEvent:re}))},[E,f]),ue=j.useCallback(re=>{E(Wn({handler:x,reactEvent:re}))},[E,x]),je=j.useCallback(re=>{E(Wn({handler:w,reactEvent:re}))},[E,w]),he=j.useCallback(re=>{A&&E(g3(re)),E(Wn({handler:S,reactEvent:re}))},[E,A,S]),ve=j.useCallback(re=>{E(Wn({handler:b,reactEvent:re}))},[E,b]),Ae=iee(M);return j.createElement(z4.Provider,{value:T},j.createElement(EB.Provider,{value:O},j.createElement(Ae,{width:k??y?.width,height:X??y?.height,className:nt("recharts-wrapper",n),style:QJ({position:"relative",cursor:"default",width:k,height:X},y),onClick:Z,onContextMenu:$,onDoubleClick:ie,onFocus:ne,onKeyDown:ge,onMouseDown:pe,onMouseEnter:B,onMouseLeave:G,onMouseMove:z,onMouseUp:ue,onTouchEnd:ve,onTouchMove:he,onTouchStart:je,ref:W},j.createElement(eee,null),r)))}),lee=["width","height","responsive","children","className","style","compact","title","desc"];function oee(e,t){if(e==null)return{};var r,n,a=cee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uee=j.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:c,style:u,compact:f,title:m,desc:h}=e,v=oee(e,lee),x=Qo(v);return f?j.createElement(j.Fragment,null,j.createElement(Cd,{width:r,height:n}),j.createElement(lE,{otherAttributes:x,title:m,desc:h},s)):j.createElement(see,{className:c,style:u,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(lE,{otherAttributes:x,title:m,desc:h,ref:t},j.createElement(nJ,null,s)))});function dee(e){var t=Sr();return j.useEffect(()=>{t(TJ(e))},[t,e]),null}var fee=["layout"];function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(null,arguments)}function mee(e,t){if(e==null)return{};var r,n,a=pee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hee={top:5,right:5,bottom:5,left:5},y3={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:hee,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},vee=j.forwardRef(function(t,r){var n,a=Ja(t.categoricalChartProps,y3),{layout:s}=a,c=mee(a,fee),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h}=t,v={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h,eventEmitter:void 0};return j.createElement(FJ,{preloadedState:{options:v},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},j.createElement(ZZ,{chartData:a.data}),j.createElement($J,{layout:s,margin:a.margin}),j.createElement(qJ,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),j.createElement(dee,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),j.createElement(uee,Uy({},c,{ref:r})))});function cE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cE(Object(r),!0).forEach(function(n){xee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xee(e,t,r){return(t=gee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gee(e){var t=bee(e,"string");return typeof t=="symbol"?t:t+""}function bee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yee=["item"],wee=uE(uE({},y3),{},{layout:"centric",startAngle:0,endAngle:360}),w3=j.forwardRef((e,t)=>{var r=Ja(e,wee);return j.createElement(vee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:yee,tooltipPayloadSearcher:zW,categoricalChartProps:r,ref:t})});function J(e){return e<0?`-${J(-e)}`:e>=1e7?`${(e/1e7).toFixed(2)} Cr`:e>=1e5?`${(e/1e5).toFixed(2)} L`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${e.toLocaleString("en-IN")}`}const j3="cf_market_data",jee=300*1e3,dE=300*1e3;function Nee(){try{const e=sessionStorage.getItem(j3);if(!e)return null;const t=JSON.parse(e);return Date.now()-t._ts>jee?null:t}catch{return null}}function See(e){try{sessionStorage.setItem(j3,JSON.stringify({...e,_ts:Date.now()}))}catch{}}function Cee(){const[e,t]=j.useState(()=>Nee()),[r,n]=j.useState([]),a=j.useRef(null),[s,c]=j.useState(!1),[u,f]=j.useState(!1);j.useEffect(()=>{let v=!1;async function x(){try{const S=await Xz();if(!v&&S){const w={...S,_ts:Date.now()};t(w),See(w)}}catch{}}x();const b=setInterval(x,dE);return()=>{v=!0,clearInterval(b)}},[]),j.useEffect(()=>{let v=!1;async function x(){try{const S=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=inr&include_24hr_change=true");if(!v&&S.ok){const w=await S.json(),y=[];w.bitcoin&&y.push({name:"BTC",price:w.bitcoin.inr,changePct:w.bitcoin.inr_24h_change||0,type:"crypto"}),w.ethereum&&y.push({name:"ETH",price:w.ethereum.inr,changePct:w.ethereum.inr_24h_change||0,type:"crypto"}),n(y)}}catch{}}x();const b=setInterval(x,dE);return()=>{v=!0,clearInterval(b)}},[]);const m=[];if(e?.indices&&m.push(...e.indices),e?.metals&&m.push(...e.metals),r.length>0&&m.push(...r),j.useEffect(()=>{if(!a.current)return;const v=a.current,x=v.parentElement;c(v.scrollWidth>x.clientWidth)},[m.length]),m.length===0)return null;const h=m.length*3;return l.jsxs("div",{className:"bg-[var(--bg-card)]/80 backdrop-blur-sm border-b border-[var(--border-light)] overflow-hidden",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onTouchStart:()=>f(!0),onTouchEnd:()=>f(!1),children:[l.jsx("div",{className:"overflow-hidden",children:l.jsxs("div",{ref:a,className:"flex items-stretch w-max",style:s?{animation:`ticker-scroll ${h}s linear infinite`,animationPlayState:u?"paused":"running"}:{margin:"0 auto"},children:[m.map((v,x)=>l.jsx(fE,{item:v},v.name+x)),s&&m.map((v,x)=>l.jsx(fE,{item:v},"dup-"+v.name+x))]})}),l.jsx("style",{children:`
        @keyframes ticker-scroll {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
      `})]})}function fE({item:e}){const t=e.changePct>=0,r=t?l.jsx(Tl,{size:10}):l.jsx(xp,{size:10}),n=t?"text-emerald-400":"text-[var(--accent-rose)]",a=s=>s>=1e5?`${(s/1e5).toFixed(2)}L`:s>=1e3?`${s.toLocaleString("en-IN",{maximumFractionDigits:0})}`:`${s.toLocaleString("en-IN",{maximumFractionDigits:2})}`;return l.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 border-r border-[var(--border-light)] last:border-0 shrink-0",children:[l.jsx("span",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase whitespace-nowrap",children:e.name}),l.jsx("span",{className:"text-[11px] font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:e.unit?`${a(e.price)}`:a(e.price)}),e.changePct!==void 0&&e.changePct!==null&&l.jsxs("span",{className:`flex items-center gap-0.5 text-[10px] font-bold tabular-nums ${n}`,children:[r,t?"+":"",e.changePct.toFixed(2),"%"]})]})}function Aee(){const{selectedMember:e}=zr(),{mfPortfolios:t,mfHoldings:r,insurancePolicies:n,goalList:a,reminderList:s}=dt(),c=(x,b)=>{const S=x||[];return e==="all"?S:S.filter(w=>w[b]===e)},u=j.useMemo(()=>{let x=0,b=0,S=0;return c((t||[]).filter(C=>C.status!=="Inactive"),"ownerId").forEach(C=>{const M=(r||[]).filter(E=>E.portfolioId===C.portfolioId&&E.units>0),A=M.reduce((E,T)=>E+T.currentValue,0),_=(C.rebalanceThreshold||.05)*100;M.forEach(E=>{if(E.athNav>0&&E.belowATHPct>=10?b++:E.athNav>0&&E.belowATHPct>=5&&x++,E.targetAllocationPct>0&&A>0){const T=E.currentValue/A*100;Math.abs(T-E.targetAllocationPct)>_&&S++}})}),{buyOppCount:x+b,buyCount:x,strongBuyCount:b,rebalanceCount:S}},[e,t,r]),f=j.useMemo(()=>{const x=[],b=c((n||[]).filter(A=>A.status==="Active"),"memberId");b.some(A=>A.policyType==="Term Life")||x.push({type:"critical",title:"Missing Term Life Insurance",badge:"Add Policy",navigateTo:"/insurance"});const w=b.filter(A=>A.policyType==="Health").reduce((A,_)=>A+_.sumAssured,0);return w===0?x.push({type:"critical",title:"No Health Insurance",badge:"Add Policy",navigateTo:"/insurance"}):w<5e5&&x.push({type:"warning",title:"Inadequate Health Insurance",badge:J(w),navigateTo:"/insurance"}),c((a||[]).filter(A=>A.isActive!==!1&&A.goalType==="Emergency Fund"),"familyMemberId").forEach(A=>{const _=A.targetAmount>0?A.currentValue/A.targetAmount*100:0;_<100&&x.push({type:_>=75?"info":"warning",title:`Emergency Fund at ${_.toFixed(0)}%`,badge:J(A.targetAmount-A.currentValue)+" left",navigateTo:"/goals"})}),c((s||[]).filter(A=>A.isActive!==!1),"familyMemberId").filter(A=>new Date(A.dueDate)<new Date).forEach(A=>{const _=Math.ceil((new Date-new Date(A.dueDate))/864e5);x.push({type:"critical",title:A.title,badge:`${_}d overdue`,navigateTo:"/reminders"})}),c((a||[]).filter(A=>A.isActive!==!1&&A.status==="Needs Attention"),"familyMemberId").forEach(A=>{x.push({type:"warning",title:`${A.goalName} needs attention`,badge:A.priority,navigateTo:"/goals"})}),x},[e,n,a,s]),m=j.useMemo(()=>{const x=c((s||[]).filter(S=>S.isActive!==!1&&S.status!=="Completed"),"familyMemberId"),b=new Date;return x.map(S=>{const w=new Date(S.dueDate)-b,y=Math.ceil(w/(1440*60*1e3)),C=new Date(S.dueDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short"});return{...S,days:y,dateStr:C}}).filter(S=>S.days>=0&&S.days<=30).sort((S,w)=>S.days-w.days).slice(0,5)},[e,s]),h=f.length+u.buyOppCount+u.rebalanceCount+m.length,v=f.filter(x=>x.type==="critical").length;return{criticalAlerts:f,investmentSignals:u,upcomingReminders:m,totalCount:h,criticalCount:v}}function mE(e){return e>=20?"bg-rose-500/20 text-[var(--accent-rose)]":e>=10?"bg-orange-500/20 text-[var(--accent-orange)]":e>=5?"bg-amber-500/20 text-[var(--accent-amber)]":"bg-slate-500/20 text-[var(--text-muted)]"}function pE(e){return e>=10?{label:"Strong Buy",cls:"bg-emerald-500/20 text-emerald-400 ring-1 ring-emerald-500/30"}:e>=5?{label:"Buy",cls:"bg-blue-500/20 text-blue-400"}:null}function N3(){const{mfHoldings:e,mfPortfolios:t}=dt(),r=j.useMemo(()=>t.filter(a=>a.status!=="Inactive").map(a=>{const s=e.filter(f=>f.portfolioId===a.portfolioId&&f.units>0),c=s.reduce((f,m)=>f+m.currentValue,0),u=s.filter(f=>f.athNav>0&&f.belowATHPct>=1).sort((f,m)=>m.belowATHPct-f.belowATHPct).map(f=>({...f,currentPct:c>0?f.currentValue/c*100:0}));return{...a,totalValue:c,opportunities:u}}).filter(a=>a.opportunities.length>0),[t,e]);return r.reduce((a,s)=>a+s.opportunities.length,0)===0?l.jsxs("div",{className:"py-8 text-center",children:[l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No buy opportunities right now"}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"All funds are near their all-time highs"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] px-1",children:"Funds below their All-Time High NAV. Higher discount = better opportunity."}),r.map((a,s)=>l.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-emerald-500/50 rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-[var(--bg-inset)]",children:[l.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-500/15 w-5 h-5 rounded flex items-center justify-center",children:s+1}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:a.portfolioName}),l.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:a.ownerName}),l.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15 text-emerald-400",children:[a.opportunities.length," funds"]})]}),l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),l.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Signal"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Below ATH"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"ATH NAV"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Current"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Value"})]})}),l.jsx("tbody",{children:a.opportunities.map(c=>{const u=pE(c.belowATHPct);return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[l.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[200px] truncate",children:c.fundName}),l.jsx("td",{className:"py-2 px-2 text-center",children:u?l.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded-full whitespace-nowrap ${u.cls}`,children:u.label}):l.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Watch"})}),l.jsx("td",{className:"py-2 px-2 text-right",children:l.jsxs("span",{className:`inline-block text-xs font-semibold px-1.5 py-0.5 rounded-full ${mE(c.belowATHPct)}`,children:["",c.belowATHPct.toFixed(1),"%"]})}),l.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:["",c.athNav.toFixed(2)]}),l.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:["",c.currentNav.toFixed(2)]}),l.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:J(c.currentValue)})]},c.holdingId)})})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:a.opportunities.map(c=>{const u=pE(c.belowATHPct);return l.jsxs("div",{className:"px-3 py-2.5",children:[l.jsxs("div",{className:"flex items-start justify-between mb-1",children:[l.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight flex-1 mr-2",children:c.fundName}),l.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[u&&l.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded-full ${u.cls}`,children:u.label}),l.jsxs("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${mE(c.belowATHPct)}`,children:["",c.belowATHPct.toFixed(1),"%"]})]})]}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)]",children:[l.jsxs("span",{children:["ATH ",c.athNav.toFixed(2),"  ",c.currentNav.toFixed(2)]}),l.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:J(c.currentValue)})]})]},c.holdingId)})})]},a.portfolioId))]})}const S3=6048e5,Mee=864e5,hv=6e4,vv=36e5,Dee=1e3,hE=Symbol.for("constructDateFrom");function kt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&hE in e?e[hE](t):e instanceof Date?new e.constructor(t):new Date(t)}function Pe(e,t){return kt(t||e,e)}function ma(e,t,r){const n=Pe(e,r?.in);return isNaN(t)?kt(r?.in||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function xa(e,t,r){const n=Pe(e,r?.in);if(isNaN(t))return kt(e,NaN);if(!t)return n;const a=n.getDate(),s=kt(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const c=s.getDate();return a>=c?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}function C3(e,t,r){return kt(e,+Pe(e)+t)}function kee(e,t,r){return C3(e,t*vv)}let Eee={};function Gl(){return Eee}function zi(e,t){const r=Gl(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Pe(e,t?.in),s=a.getDay(),c=(s<n?7:0)+s-n;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function rc(e,t){return zi(e,{...t,weekStartsOn:1})}function A3(e,t){const r=Pe(e,t?.in),n=r.getFullYear(),a=kt(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=rc(a),c=kt(r,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const u=rc(c);return r.getTime()>=s.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function oh(e){const t=Pe(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ui(e,...t){const r=kt.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function $l(e,t){const r=Pe(e,t?.in);return r.setHours(0,0,0,0),r}function nc(e,t,r){const[n,a]=Ui(r?.in,e,t),s=$l(n),c=$l(a),u=+s-oh(s),f=+c-oh(c);return Math.round((u-f)/Mee)}function _ee(e,t){const r=A3(e,t),n=kt(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),rc(n)}function hd(e,t,r){const n=Pe(e,r?.in);return n.setTime(n.getTime()+t*hv),n}function rj(e,t,r){return xa(e,t*3,r)}function Oee(e,t,r){return C3(e,t*1e3)}function ch(e,t,r){return ma(e,t*7,r)}function pa(e,t,r){return xa(e,t*12,r)}function vE(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=kt.bind(null,a));const s=Pe(a,n);(!r||r<s||isNaN(+s))&&(r=s)}),kt(n,r||NaN)}function xE(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=kt.bind(null,a));const s=Pe(a,n);(!r||r>s||isNaN(+s))&&(r=s)}),kt(n,r||NaN)}function Tee(e,t,r){const[n,a]=Ui(r?.in,e,t);return+$l(n)==+$l(a)}function Ua(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ac(e){return!(!Ua(e)&&typeof e!="number"||isNaN(+Pe(e)))}function uh(e,t,r){const[n,a]=Ui(r?.in,e,t),s=n.getFullYear()-a.getFullYear(),c=n.getMonth()-a.getMonth();return s*12+c}function Cs(e,t){const r=Pe(e,t?.in);return Math.trunc(r.getMonth()/3)+1}function dh(e,t,r){const[n,a]=Ui(r?.in,e,t),s=n.getFullYear()-a.getFullYear(),c=Cs(n)-Cs(a);return s*4+c}function fh(e,t,r){const[n,a]=Ui(r?.in,e,t);return n.getFullYear()-a.getFullYear()}function Pee(e,t,r){const[n,a]=Ui(r?.in,e,t),s=gE(n,a),c=Math.abs(nc(n,a));n.setDate(n.getDate()-s*c);const u=+(gE(n,a)===-s),f=s*(c-u);return f===0?0:f}function gE(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function M3(e,t){const r=Pe(e,t?.in);return r.setHours(23,59,59,999),r}function D3(e,t){const r=Pe(e,t?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function Yy(e,t){const r=Pe(e,t?.in),n=r.getMonth(),a=n-n%3;return r.setMonth(a,1),r.setHours(0,0,0,0),r}function k3(e,t){const r=Pe(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function E3(e,t){const r=Pe(e,t?.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function xv(e,t){const r=Pe(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Iee(e,t){const r=Gl(),n=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Pe(e,t?.in),s=a.getDay(),c=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}const Ree={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Lee=(e,t,r)=>{let n;const a=Ree[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Sb(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const zee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Fee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Bee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$ee={date:Sb({formats:zee,defaultWidth:"full"}),time:Sb({formats:Fee,defaultWidth:"full"}),dateTime:Sb({formats:Bee,defaultWidth:"full"})},qee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Hee=(e,t,r,n)=>qee[e];function Pu(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=r?.width?String(r.width):c;a=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=r?.width?String(r.width):e.defaultWidth;a=e.values[u]||e.values[c]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const Uee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Yee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Vee={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Gee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Kee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Wee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Qee=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Xee={ordinalNumber:Qee,era:Pu({values:Uee,defaultWidth:"wide"}),quarter:Pu({values:Yee,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Pu({values:Vee,defaultWidth:"wide"}),day:Pu({values:Gee,defaultWidth:"wide"}),dayPeriod:Pu({values:Kee,defaultWidth:"wide",formattingValues:Wee,defaultFormattingWidth:"wide"})};function Iu(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const c=s[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(u)?Jee(u,v=>v.test(c)):Zee(u,v=>v.test(c));let m;m=e.valueCallback?e.valueCallback(f):f,m=r.valueCallback?r.valueCallback(m):m;const h=t.slice(c.length);return{value:m,rest:h}}}function Zee(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Jee(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function ete(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let c=e.valueCallback?e.valueCallback(s[0]):s[0];c=r.valueCallback?r.valueCallback(c):c;const u=t.slice(a.length);return{value:c,rest:u}}}const tte=/^(\d+)(th|st|nd|rd)?/i,rte=/\d+/i,nte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ate={any:[/^b/i,/^(a|c)/i]},ite={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ste={any:[/1/i,/2/i,/3/i,/4/i]},lte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ote={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ute={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mte={ordinalNumber:ete({matchPattern:tte,parsePattern:rte,valueCallback:e=>parseInt(e,10)}),era:Iu({matchPatterns:nte,defaultMatchWidth:"wide",parsePatterns:ate,defaultParseWidth:"any"}),quarter:Iu({matchPatterns:ite,defaultMatchWidth:"wide",parsePatterns:ste,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Iu({matchPatterns:lte,defaultMatchWidth:"wide",parsePatterns:ote,defaultParseWidth:"any"}),day:Iu({matchPatterns:cte,defaultMatchWidth:"wide",parsePatterns:ute,defaultParseWidth:"any"}),dayPeriod:Iu({matchPatterns:dte,defaultMatchWidth:"any",parsePatterns:fte,defaultParseWidth:"any"})},_3={code:"en-US",formatDistance:Lee,formatLong:$ee,formatRelative:Hee,localize:Xee,match:mte,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pte(e,t){const r=Pe(e,t?.in);return nc(r,xv(r))+1}function nj(e,t){const r=Pe(e,t?.in),n=+rc(r)-+_ee(r);return Math.round(n/S3)+1}function aj(e,t){const r=Pe(e,t?.in),n=r.getFullYear(),a=Gl(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=kt(t?.in||e,0);c.setFullYear(n+1,0,s),c.setHours(0,0,0,0);const u=zi(c,t),f=kt(t?.in||e,0);f.setFullYear(n,0,s),f.setHours(0,0,0,0);const m=zi(f,t);return+r>=+u?n+1:+r>=+m?n:n-1}function hte(e,t){const r=Gl(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=aj(e,t),s=kt(t?.in||e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),zi(s,t)}function O3(e,t){const r=Pe(e,t?.in),n=+zi(r,t)-+hte(r,t);return Math.round(n/S3)+1}function Mt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ys={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Mt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Mt(r+1,2)},d(e,t){return Mt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Mt(e.getHours()%12||12,t.length)},H(e,t){return Mt(e.getHours(),t.length)},m(e,t){return Mt(e.getMinutes(),t.length)},s(e,t){return Mt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Mt(a,t.length)}},Po={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bE={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return ys.y(e,t)},Y:function(e,t,r,n){const a=aj(e,n),s=a>0?a:1-a;if(t==="YY"){const c=s%100;return Mt(c,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):Mt(s,t.length)},R:function(e,t){const r=A3(e);return Mt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Mt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Mt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Mt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ys.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Mt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=O3(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Mt(a,t.length)},I:function(e,t,r){const n=nj(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Mt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ys.d(e,t)},D:function(e,t,r){const n=pte(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Mt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Mt(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Mt(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Mt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Po.noon:n===0?a=Po.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Po.evening:n>=12?a=Po.afternoon:n>=4?a=Po.morning:a=Po.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ys.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ys.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Mt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Mt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ys.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ys.s(e,t)},S:function(e,t){return ys.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return wE(n);case"XXXX":case"XX":return vl(n);default:return vl(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return wE(n);case"xxxx":case"xx":return vl(n);default:return vl(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+yE(n,":");default:return"GMT"+vl(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+yE(n,":");default:return"GMT"+vl(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Mt(n,t.length)},T:function(e,t,r){return Mt(+e,t.length)}};function yE(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+Mt(s,2)}function wE(e,t){return e%60===0?(e>0?"-":"+")+Mt(Math.abs(e)/60,2):vl(e,t)}function vl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Mt(Math.trunc(n/60),2),s=Mt(n%60,2);return r+a+t+s}const jE=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},T3=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},vte=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return jE(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",jE(n,t)).replace("{{time}}",T3(a,t))},Vy={p:T3,P:vte},xte=/^D+$/,gte=/^Y+$/,bte=["D","DD","YY","YYYY"];function yte(e){return xte.test(e)}function wte(e){return gte.test(e)}function jte(e,t,r){const n=Nte(e,t,r);if(console.warn(n),bte.includes(e))throw new RangeError(n)}function Nte(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ste=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Cte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ate=/^'([^]*?)'?$/,Mte=/''/g,Dte=/[a-zA-Z]/;function NE(e,t,r){const n=Gl(),a=r?.locale??n.locale??_3,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,u=Pe(e,r?.in);if(!ac(u))throw new RangeError("Invalid time value");let f=t.match(Cte).map(h=>{const v=h[0];if(v==="p"||v==="P"){const x=Vy[v];return x(h,a.formatLong)}return h}).join("").match(Ste).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const v=h[0];if(v==="'")return{isToken:!1,value:kte(h)};if(bE[v])return{isToken:!0,value:h};if(v.match(Dte))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:h}});a.localize.preprocessor&&(f=a.localize.preprocessor(u,f));const m={firstWeekContainsDate:s,weekStartsOn:c,locale:a};return f.map(h=>{if(!h.isToken)return h.value;const v=h.value;(!r?.useAdditionalWeekYearTokens&&wte(v)||!r?.useAdditionalDayOfYearTokens&&yte(v))&&jte(v,t,String(e));const x=bE[v[0]];return x(u,v,a.localize,m)}).join("")}function kte(e){const t=e.match(Ate);return t?t[1].replace(Mte,"'"):e}function SE(e,t){return Pe(e,t?.in).getDate()}function Ete(e,t){return Pe(e,t?.in).getDay()}function _te(e,t){const r=Pe(e,t?.in),n=r.getFullYear(),a=r.getMonth(),s=kt(r,0);return s.setFullYear(n,a+1,0),s.setHours(0,0,0,0),s.getDate()}function Ote(){return Object.assign({},Gl())}function Hr(e,t){return Pe(e,t?.in).getHours()}function Tte(e,t){const r=Pe(e,t?.in).getDay();return r===0?7:r}function Ur(e,t){return Pe(e,t?.in).getMinutes()}function fn(e,t){return Pe(e,t?.in).getMonth()}function Ds(e){return Pe(e).getSeconds()}function Gy(e){return+Pe(e)}function lt(e,t){return Pe(e,t?.in).getFullYear()}function Mi(e,t){return+Pe(e)>+Pe(t)}function Ba(e,t){return+Pe(e)<+Pe(t)}function Pte(e,t){return+Pe(e)==+Pe(t)}function Ite(e,t){const r=Rte(t)?new t(0):kt(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function Rte(e){return typeof e=="function"&&e.prototype?.constructor===e}const Lte=10;class P3{subPriority=0;validate(t,r){return!0}}class zte extends P3{constructor(t,r,n,a,s){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,s&&(this.subPriority=s)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class Fte extends P3{priority=Lte;subPriority=-1;constructor(t,r){super(),this.context=t||(n=>kt(r,n))}set(t,r){return r.timestampIsSet?t:kt(t,Ite(t,this.context))}}class St{run(t,r,n,a){const s=this.parse(t,r,n,a);return s?{setter:new zte(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(t,r,n){return!0}}class Bte extends St{priority=140;parse(t,r,n){switch(r){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}}set(t,r,n){return r.era=n,t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const mr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ia={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function pr(e,t){return e&&{value:t(e.value),rest:e.rest}}function er(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Ra(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,s=r[3]?parseInt(r[3],10):0,c=r[5]?parseInt(r[5],10):0;return{value:n*(a*vv+s*hv+c*Dee),rest:t.slice(r[0].length)}}function I3(e){return er(mr.anyDigitsSigned,e)}function lr(e,t){switch(e){case 1:return er(mr.singleDigit,t);case 2:return er(mr.twoDigits,t);case 3:return er(mr.threeDigits,t);case 4:return er(mr.fourDigits,t);default:return er(new RegExp("^\\d{1,"+e+"}"),t)}}function mh(e,t){switch(e){case 1:return er(mr.singleDigitSigned,t);case 2:return er(mr.twoDigitsSigned,t);case 3:return er(mr.threeDigitsSigned,t);case 4:return er(mr.fourDigitsSigned,t);default:return er(new RegExp("^-?\\d{1,"+e+"}"),t)}}function ij(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function R3(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const s=n+50,c=Math.trunc(s/100)*100,u=e>=s%100;a=e+c-(u?100:0)}return r?a:1-a}function L3(e){return e%400===0||e%4===0&&e%100!==0}class $te extends St{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,r,n){const a=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return pr(lr(4,t),a);case"yo":return pr(n.ordinalNumber(t,{unit:"year"}),a);default:return pr(lr(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n){const a=t.getFullYear();if(n.isTwoDigitYear){const c=R3(n.year,a);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const s=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class qte extends St{priority=130;parse(t,r,n){const a=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return pr(lr(4,t),a);case"Yo":return pr(n.ordinalNumber(t,{unit:"year"}),a);default:return pr(lr(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n,a){const s=aj(t,a);if(n.isTwoDigitYear){const u=R3(n.year,s);return t.setFullYear(u,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),zi(t,a)}const c=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(c,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),zi(t,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class Hte extends St{priority=130;parse(t,r){return mh(r==="R"?4:r.length,t)}set(t,r,n){const a=kt(t,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),rc(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class Ute extends St{priority=130;parse(t,r){return mh(r==="u"?4:r.length,t)}set(t,r,n){return t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class Yte extends St{priority=120;parse(t,r,n){switch(r){case"Q":case"QQ":return lr(r.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class Vte extends St{priority=120;parse(t,r,n){switch(r){case"q":case"qq":return lr(r.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class Gte extends St{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,r,n){const a=s=>s-1;switch(r){case"M":return pr(er(mr.month,t),a);case"MM":return pr(lr(2,t),a);case"Mo":return pr(n.ordinalNumber(t,{unit:"month"}),a);case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}}class Kte extends St{priority=110;parse(t,r,n){const a=s=>s-1;switch(r){case"L":return pr(er(mr.month,t),a);case"LL":return pr(lr(2,t),a);case"Lo":return pr(n.ordinalNumber(t,{unit:"month"}),a);case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function Wte(e,t,r){const n=Pe(e,r?.in),a=O3(n,r)-t;return n.setDate(n.getDate()-a*7),Pe(n,r?.in)}class Qte extends St{priority=100;parse(t,r,n){switch(r){case"w":return er(mr.week,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return lr(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n,a){return zi(Wte(t,n,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function Xte(e,t,r){const n=Pe(e,r?.in),a=nj(n,r)-t;return n.setDate(n.getDate()-a*7),n}class Zte extends St{priority=100;parse(t,r,n){switch(r){case"I":return er(mr.week,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return lr(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n){return rc(Xte(t,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const Jte=[31,28,31,30,31,30,31,31,30,31,30,31],ere=[31,29,31,30,31,30,31,31,30,31,30,31];class tre extends St{priority=90;subPriority=1;parse(t,r,n){switch(r){case"d":return er(mr.date,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return lr(r.length,t)}}validate(t,r){const n=t.getFullYear(),a=L3(n),s=t.getMonth();return a?r>=1&&r<=ere[s]:r>=1&&r<=Jte[s]}set(t,r,n){return t.setDate(n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class rre extends St{priority=90;subpriority=1;parse(t,r,n){switch(r){case"D":case"DD":return er(mr.dayOfYear,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return lr(r.length,t)}}validate(t,r){const n=t.getFullYear();return L3(n)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,n){return t.setMonth(0,n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function sj(e,t,r){const n=Gl(),a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=Pe(e,r?.in),c=s.getDay(),f=(t%7+7)%7,m=7-a,h=t<0||t>6?t-(c+m)%7:(f+m)%7-(c+m)%7;return ma(s,h,r)}class nre extends St{priority=90;parse(t,r,n){switch(r){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,a){return t=sj(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class are extends St{priority=90;parse(t,r,n,a){const s=c=>{const u=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+u};switch(r){case"e":case"ee":return pr(lr(r.length,t),s);case"eo":return pr(n.ordinalNumber(t,{unit:"day"}),s);case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,a){return t=sj(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class ire extends St{priority=90;parse(t,r,n,a){const s=c=>{const u=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+u};switch(r){case"c":case"cc":return pr(lr(r.length,t),s);case"co":return pr(n.ordinalNumber(t,{unit:"day"}),s);case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,a){return t=sj(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function sre(e,t,r){const n=Pe(e,r?.in),a=Tte(n,r),s=t-a;return ma(n,s,r)}class lre extends St{priority=90;parse(t,r,n){const a=s=>s===0?7:s;switch(r){case"i":case"ii":return lr(r.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return pr(n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return pr(n.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return pr(n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a);default:return pr(n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,r){return r>=1&&r<=7}set(t,r,n){return t=sre(t,n),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class ore extends St{priority=80;parse(t,r,n){switch(r){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(ij(n),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class cre extends St{priority=80;parse(t,r,n){switch(r){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(ij(n),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class ure extends St{priority=80;parse(t,r,n){switch(r){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(ij(n),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class dre extends St{priority=70;parse(t,r,n){switch(r){case"h":return er(mr.hour12h,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return lr(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,n){const a=t.getHours()>=12;return a&&n<12?t.setHours(n+12,0,0,0):!a&&n===12?t.setHours(0,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class fre extends St{priority=70;parse(t,r,n){switch(r){case"H":return er(mr.hour23h,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return lr(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,n){return t.setHours(n,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class mre extends St{priority=70;parse(t,r,n){switch(r){case"K":return er(mr.hour11h,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return lr(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.getHours()>=12&&n<12?t.setHours(n+12,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class pre extends St{priority=70;parse(t,r,n){switch(r){case"k":return er(mr.hour24h,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return lr(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,n){const a=n<=24?n%24:n;return t.setHours(a,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class hre extends St{priority=60;parse(t,r,n){switch(r){case"m":return er(mr.minute,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return lr(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setMinutes(n,0,0),t}incompatibleTokens=["t","T"]}class vre extends St{priority=50;parse(t,r,n){switch(r){case"s":return er(mr.second,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return lr(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setSeconds(n,0),t}incompatibleTokens=["t","T"]}class xre extends St{priority=30;parse(t,r){const n=a=>Math.trunc(a*Math.pow(10,-r.length+3));return pr(lr(r.length,t),n)}set(t,r,n){return t.setMilliseconds(n),t}incompatibleTokens=["t","T"]}class gre extends St{priority=10;parse(t,r){switch(r){case"X":return Ra(Ia.basicOptionalMinutes,t);case"XX":return Ra(Ia.basic,t);case"XXXX":return Ra(Ia.basicOptionalSeconds,t);case"XXXXX":return Ra(Ia.extendedOptionalSeconds,t);default:return Ra(Ia.extended,t)}}set(t,r,n){return r.timestampIsSet?t:kt(t,t.getTime()-oh(t)-n)}incompatibleTokens=["t","T","x"]}class bre extends St{priority=10;parse(t,r){switch(r){case"x":return Ra(Ia.basicOptionalMinutes,t);case"xx":return Ra(Ia.basic,t);case"xxxx":return Ra(Ia.basicOptionalSeconds,t);case"xxxxx":return Ra(Ia.extendedOptionalSeconds,t);default:return Ra(Ia.extended,t)}}set(t,r,n){return r.timestampIsSet?t:kt(t,t.getTime()-oh(t)-n)}incompatibleTokens=["t","T","X"]}class yre extends St{priority=40;parse(t){return I3(t)}set(t,r,n){return[kt(t,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class wre extends St{priority=20;parse(t){return I3(t)}set(t,r,n){return[kt(t,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const jre={G:new Bte,y:new $te,Y:new qte,R:new Hte,u:new Ute,Q:new Yte,q:new Vte,M:new Gte,L:new Kte,w:new Qte,I:new Zte,d:new tre,D:new rre,E:new nre,e:new are,c:new ire,i:new lre,a:new ore,b:new cre,B:new ure,h:new dre,H:new fre,K:new mre,k:new pre,m:new hre,s:new vre,S:new xre,X:new gre,x:new bre,t:new yre,T:new wre},Nre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Sre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Cre=/^'([^]*?)'?$/,Are=/''/g,Mre=/\S/,Dre=/[a-zA-Z]/;function kre(e,t,r,n){const a=()=>kt(n?.in||r,NaN),s=Ote(),c=n?.locale??s.locale??_3,u=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,f=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(!t)return e?a():Pe(r,n?.in);const m={firstWeekContainsDate:u,weekStartsOn:f,locale:c},h=[new Fte(n?.in,r)],v=t.match(Sre).map(y=>{const C=y[0];if(C in Vy){const M=Vy[C];return M(y,c.formatLong)}return y}).join("").match(Nre),x=[];for(let y of v){const C=y[0],M=jre[C];if(M){const{incompatibleTokens:A}=M;if(Array.isArray(A)){const E=x.find(T=>A.includes(T.token)||T.token===C);if(E)throw new RangeError(`The format string mustn't contain \`${E.fullToken}\` and \`${y}\` at the same time`)}else if(M.incompatibleTokens==="*"&&x.length>0)throw new RangeError(`The format string mustn't contain \`${y}\` and any other token at the same time`);x.push({token:C,fullToken:y});const _=M.run(e,y,c.match,m);if(!_)return a();h.push(_.setter),e=_.rest}else{if(C.match(Dre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(y==="''"?y="'":C==="'"&&(y=Ere(y)),e.indexOf(y)===0)e=e.slice(y.length);else return a()}}if(e.length>0&&Mre.test(e))return a();const b=h.map(y=>y.priority).sort((y,C)=>C-y).filter((y,C,M)=>M.indexOf(y)===C).map(y=>h.filter(C=>C.priority===y).sort((C,M)=>M.subPriority-C.subPriority)).map(y=>y[0]);let S=Pe(r,n?.in);if(isNaN(+S))return a();const w={};for(const y of b){if(!y.validate(S,m))return a();const C=y.set(S,w,m);Array.isArray(C)?(S=C[0],Object.assign(w,C[1])):S=C}return S}function Ere(e){return e.match(Cre)[1].replace(Are,"'")}function _re(e,t,r){const[n,a]=Ui(r?.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function Ore(e,t,r){const[n,a]=Ui(r?.in,e,t);return+Yy(n)==+Yy(a)}function Tre(e,t,r){const[n,a]=Ui(r?.in,e,t);return n.getFullYear()===a.getFullYear()}function vd(e,t,r){const n=+Pe(e,r?.in),[a,s]=[+Pe(t.start,r?.in),+Pe(t.end,r?.in)].sort((c,u)=>c-u);return n>=a&&n<=s}function Pre(e,t,r){return ma(e,-1,r)}function Ire(e,t){const r=()=>kt(t?.in,NaN),a=Fre(e);let s;if(a.date){const m=Bre(a.date,2);s=$re(m.restDateString,m.year)}if(!s||isNaN(+s))return r();const c=+s;let u=0,f;if(a.time&&(u=qre(a.time),isNaN(u)))return r();if(a.timezone){if(f=Hre(a.timezone),isNaN(f))return r()}else{const m=new Date(c+u),h=Pe(0,t?.in);return h.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),h.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),h}return Pe(c+u+f,t?.in)}const Dm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Rre=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Lre=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,zre=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Fre(e){const t={},r=e.split(Dm.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Dm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Dm.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=Dm.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Bre(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:e.slice((n[1]||n[2]).length)}}function $re(e,t){if(t===null)return new Date(NaN);const r=e.match(Rre);if(!r)return new Date(NaN);const n=!!r[4],a=Ru(r[1]),s=Ru(r[2])-1,c=Ru(r[3]),u=Ru(r[4]),f=Ru(r[5])-1;if(n)return Kre(t,u,f)?Ure(t,u,f):new Date(NaN);{const m=new Date(0);return!Vre(t,s,c)||!Gre(t,a)?new Date(NaN):(m.setUTCFullYear(t,s,Math.max(a,c)),m)}}function Ru(e){return e?parseInt(e):1}function qre(e){const t=e.match(Lre);if(!t)return NaN;const r=Cb(t[1]),n=Cb(t[2]),a=Cb(t[3]);return Wre(r,n,a)?r*vv+n*hv+a*1e3:NaN}function Cb(e){return e&&parseFloat(e.replace(",","."))||0}function Hre(e){if(e==="Z")return 0;const t=e.match(zre);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Qre(n,a)?r*(n*vv+a*hv):NaN}function Ure(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,s=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}const Yre=[31,null,31,30,31,30,31,31,30,31,30,31];function z3(e){return e%400===0||e%4===0&&e%100!==0}function Vre(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Yre[t]||(z3(e)?29:28))}function Gre(e,t){return t>=1&&t<=(z3(e)?366:365)}function Kre(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Wre(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Qre(e,t){return t>=0&&t<=59}function Mn(e,t,r){const n=Pe(e,r?.in),a=n.getFullYear(),s=n.getDate(),c=kt(e,0);c.setFullYear(a,t,15),c.setHours(0,0,0,0);const u=_te(c);return n.setMonth(t,Math.min(s,u)),n}function ap(e,t,r){const n=Pe(e,r?.in);return n.setHours(t),n}function ip(e,t,r){const n=Pe(e,r?.in);return n.setMinutes(t),n}function $o(e,t,r){const n=Pe(e,r?.in),a=Math.trunc(n.getMonth()/3)+1,s=t-a;return Mn(n,n.getMonth()+s*3)}function sp(e,t,r){const n=Pe(e,r?.in);return n.setSeconds(t),n}function Ta(e,t,r){const n=Pe(e,r?.in);return isNaN(+n)?kt(e,NaN):(n.setFullYear(t),n)}function El(e,t,r){return xa(e,-t,r)}function F3(e,t,r){return rj(e,-1,r)}function CE(e,t,r){return ch(e,-1,r)}function Ps(e,t,r){return pa(e,-t,r)}function gv(){return typeof window<"u"}function Ac(e){return B3(e)?(e.nodeName||"").toLowerCase():"#document"}function Tn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ei(e){var t;return(t=(B3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function B3(e){return gv()?e instanceof Node||e instanceof Tn(e).Node:!1}function Qr(e){return gv()?e instanceof Element||e instanceof Tn(e).Element:!1}function Ka(e){return gv()?e instanceof HTMLElement||e instanceof Tn(e).HTMLElement:!1}function AE(e){return!gv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Tn(e).ShadowRoot}const Xre=new Set(["inline","contents"]);function Bd(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ta(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Xre.has(a)}const Zre=new Set(["table","td","th"]);function Jre(e){return Zre.has(Ac(e))}const ene=[":popover-open",":modal"];function bv(e){return ene.some(t=>{try{return e.matches(t)}catch{return!1}})}const tne=["transform","translate","scale","rotate","perspective"],rne=["transform","translate","scale","rotate","perspective","filter"],nne=["paint","layout","strict","content"];function lj(e){const t=oj(),r=Qr(e)?ta(e):e;return tne.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||rne.some(n=>(r.willChange||"").includes(n))||nne.some(n=>(r.contain||"").includes(n))}function ane(e){let t=Is(e);for(;Ka(t)&&!ic(t);){if(lj(t))return t;if(bv(t))return null;t=Is(t)}return null}function oj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ine=new Set(["html","body","#document"]);function ic(e){return ine.has(Ac(e))}function ta(e){return Tn(e).getComputedStyle(e)}function yv(e){return Qr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Is(e){if(Ac(e)==="html")return e;const t=e.assignedSlot||e.parentNode||AE(e)&&e.host||ei(e);return AE(t)?t.host:t}function $3(e){const t=Is(e);return ic(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ka(t)&&Bd(t)?t:$3(t)}function xd(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=$3(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),c=Tn(a);if(s){const u=Ky(c);return t.concat(c,c.visualViewport||[],Bd(a)?a:[],u&&r?xd(u):[])}return t.concat(a,xd(a,[],r))}function Ky(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const sc=Math.min,_l=Math.max,ph=Math.round,km=Math.floor,Ya=e=>({x:e,y:e}),sne={left:"right",right:"left",bottom:"top",top:"bottom"},lne={start:"end",end:"start"};function one(e,t,r){return _l(e,sc(t,r))}function wv(e,t){return typeof e=="function"?e(t):e}function lc(e){return e.split("-")[0]}function $d(e){return e.split("-")[1]}function cne(e){return e==="x"?"y":"x"}function cj(e){return e==="y"?"height":"width"}const une=new Set(["top","bottom"]);function Sl(e){return une.has(lc(e))?"y":"x"}function uj(e){return cne(Sl(e))}function dne(e,t,r){r===void 0&&(r=!1);const n=$d(e),a=uj(e),s=cj(a);let c=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(c=hh(c)),[c,hh(c)]}function fne(e){const t=hh(e);return[Wy(e),t,Wy(t)]}function Wy(e){return e.replace(/start|end/g,t=>lne[t])}const ME=["left","right"],DE=["right","left"],mne=["top","bottom"],pne=["bottom","top"];function hne(e,t,r){switch(e){case"top":case"bottom":return r?t?DE:ME:t?ME:DE;case"left":case"right":return t?mne:pne;default:return[]}}function vne(e,t,r,n){const a=$d(e);let s=hne(lc(e),r==="start",n);return a&&(s=s.map(c=>c+"-"+a),t&&(s=s.concat(s.map(Wy)))),s}function hh(e){return e.replace(/left|right|bottom|top/g,t=>sne[t])}function xne(e){return{top:0,right:0,bottom:0,left:0,...e}}function q3(e){return typeof e!="number"?xne(e):{top:e,right:e,bottom:e,left:e}}function vh(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}var gne=typeof document<"u",bne=function(){},xh=gne?j.useLayoutEffect:bne;const yne={...a1},wne=yne.useInsertionEffect,jne=wne||(e=>e());function Nne(e){const t=j.useRef(()=>{});return jne(()=>{t.current=e}),j.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}function kE(e,t,r){let{reference:n,floating:a}=e;const s=Sl(t),c=uj(t),u=cj(c),f=lc(t),m=s==="y",h=n.x+n.width/2-a.width/2,v=n.y+n.height/2-a.height/2,x=n[u]/2-a[u]/2;let b;switch(f){case"top":b={x:h,y:n.y-a.height};break;case"bottom":b={x:h,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:v};break;case"left":b={x:n.x-a.width,y:v};break;default:b={x:n.x,y:n.y}}switch($d(t)){case"start":b[c]-=x*(r&&m?-1:1);break;case"end":b[c]+=x*(r&&m?-1:1);break}return b}async function Sne(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:c,elements:u,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:h="viewport",elementContext:v="floating",altBoundary:x=!1,padding:b=0}=wv(t,e),S=q3(b),y=u[x?v==="floating"?"reference":"floating":v],C=vh(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(y)))==null||r?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:m,rootBoundary:h,strategy:f})),M=v==="floating"?{x:n,y:a,width:c.floating.width,height:c.floating.height}:c.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),_=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},E=vh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:M,offsetParent:A,strategy:f}):M);return{top:(C.top-E.top+S.top)/_.y,bottom:(E.bottom-C.bottom+S.bottom)/_.y,left:(C.left-E.left+S.left)/_.x,right:(E.right-C.right+S.right)/_.x}}const Cne=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:c}=r,u=s.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let m=await c.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:v}=kE(m,n,f),x=n,b={},S=0;for(let y=0;y<u.length;y++){var w;const{name:C,fn:M}=u[y],{x:A,y:_,data:E,reset:T}=await M({x:h,y:v,initialPlacement:n,placement:x,strategy:a,middlewareData:b,rects:m,platform:{...c,detectOverflow:(w=c.detectOverflow)!=null?w:Sne},elements:{reference:e,floating:t}});h=A??h,v=_??v,b={...b,[C]:{...b[C],...E}},T&&S<=50&&(S++,typeof T=="object"&&(T.placement&&(x=T.placement),T.rects&&(m=T.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:a}):T.rects),{x:h,y:v}=kE(m,x,f)),y=-1)}return{x:h,y:v,placement:x,strategy:a,middlewareData:b}},Ane=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:c,elements:u,middlewareData:f}=t,{element:m,padding:h=0}=wv(e,t)||{};if(m==null)return{};const v=q3(h),x={x:r,y:n},b=uj(a),S=cj(b),w=await c.getDimensions(m),y=b==="y",C=y?"top":"left",M=y?"bottom":"right",A=y?"clientHeight":"clientWidth",_=s.reference[S]+s.reference[b]-x[b]-s.floating[S],E=x[b]-s.reference[b],T=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let P=T?T[A]:0;(!P||!await(c.isElement==null?void 0:c.isElement(T)))&&(P=u.floating[A]||s.floating[S]);const O=_/2-E/2,L=P/2-w[S]/2-1,R=sc(v[C],L),F=sc(v[M],L),k=R,X=P-w[S]-F,W=P/2-w[S]/2+O,Z=one(k,W,X),B=!f.arrow&&$d(a)!=null&&W!==Z&&s.reference[S]/2-(W<k?R:F)-w[S]/2<0,G=B?W<k?W-k:W-X:0;return{[b]:x[b]+G,data:{[b]:Z,centerOffset:W-Z-G,...B&&{alignmentOffset:G}},reset:B}}}),Mne=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:c,initialPlacement:u,platform:f,elements:m}=t,{mainAxis:h=!0,crossAxis:v=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:w=!0,...y}=wv(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const C=lc(a),M=Sl(u),A=lc(u)===u,_=await(f.isRTL==null?void 0:f.isRTL(m.floating)),E=x||(A||!w?[hh(u)]:fne(u)),T=S!=="none";!x&&T&&E.push(...vne(u,w,S,_));const P=[u,...E],O=await f.detectOverflow(t,y),L=[];let R=((n=s.flip)==null?void 0:n.overflows)||[];if(h&&L.push(O[C]),v){const W=dne(a,c,_);L.push(O[W[0]],O[W[1]])}if(R=[...R,{placement:a,overflows:L}],!L.every(W=>W<=0)){var F,k;const W=(((F=s.flip)==null?void 0:F.index)||0)+1,Z=P[W];if(Z&&(!(v==="alignment"?M!==Sl(Z):!1)||R.every(z=>Sl(z.placement)===M?z.overflows[0]>0:!0)))return{data:{index:W,overflows:R},reset:{placement:Z}};let B=(k=R.filter(G=>G.overflows[0]<=0).sort((G,z)=>G.overflows[1]-z.overflows[1])[0])==null?void 0:k.placement;if(!B)switch(b){case"bestFit":{var X;const G=(X=R.filter(z=>{if(T){const ne=Sl(z.placement);return ne===M||ne==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(ne=>ne>0).reduce((ne,ge)=>ne+ge,0)]).sort((z,ne)=>z[1]-ne[1])[0])==null?void 0:X[0];G&&(B=G);break}case"initialPlacement":B=u;break}if(a!==B)return{reset:{placement:B}}}return{}}}},Dne=new Set(["left","top"]);async function kne(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),c=lc(r),u=$d(r),f=Sl(r)==="y",m=Dne.has(c)?-1:1,h=s&&f?-1:1,v=wv(t,e);let{mainAxis:x,crossAxis:b,alignmentAxis:S}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof S=="number"&&(b=u==="end"?S*-1:S),f?{x:b*h,y:x*m}:{x:x*m,y:b*h}}const Ene=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:c,middlewareData:u}=t,f=await kne(t,e);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:a+f.x,y:s+f.y,data:{...f,placement:c}}}}};function H3(e){const t=ta(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Ka(e),s=a?e.offsetWidth:r,c=a?e.offsetHeight:n,u=ph(r)!==s||ph(n)!==c;return u&&(r=s,n=c),{width:r,height:n,$:u}}function dj(e){return Qr(e)?e:e.contextElement}function Go(e){const t=dj(e);if(!Ka(t))return Ya(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=H3(t);let c=(s?ph(r.width):r.width)/n,u=(s?ph(r.height):r.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const _ne=Ya(0);function U3(e){const t=Tn(e);return!oj()||!t.visualViewport?_ne:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function One(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Tn(e)?!1:t}function ql(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=dj(e);let c=Ya(1);t&&(n?Qr(n)&&(c=Go(n)):c=Go(e));const u=One(s,r,n)?U3(s):Ya(0);let f=(a.left+u.x)/c.x,m=(a.top+u.y)/c.y,h=a.width/c.x,v=a.height/c.y;if(s){const x=Tn(s),b=n&&Qr(n)?Tn(n):n;let S=x,w=Ky(S);for(;w&&n&&b!==S;){const y=Go(w),C=w.getBoundingClientRect(),M=ta(w),A=C.left+(w.clientLeft+parseFloat(M.paddingLeft))*y.x,_=C.top+(w.clientTop+parseFloat(M.paddingTop))*y.y;f*=y.x,m*=y.y,h*=y.x,v*=y.y,f+=A,m+=_,S=Tn(w),w=Ky(S)}}return vh({width:h,height:v,x:f,y:m})}function jv(e,t){const r=yv(e).scrollLeft;return t?t.left+r:ql(ei(e)).left+r}function Y3(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-jv(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function Tne(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",c=ei(n),u=t?bv(t.floating):!1;if(n===c||u&&s)return r;let f={scrollLeft:0,scrollTop:0},m=Ya(1);const h=Ya(0),v=Ka(n);if((v||!v&&!s)&&((Ac(n)!=="body"||Bd(c))&&(f=yv(n)),Ka(n))){const b=ql(n);m=Go(n),h.x=b.x+n.clientLeft,h.y=b.y+n.clientTop}const x=c&&!v&&!s?Y3(c,f):Ya(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-f.scrollLeft*m.x+h.x+x.x,y:r.y*m.y-f.scrollTop*m.y+h.y+x.y}}function Pne(e){return Array.from(e.getClientRects())}function Ine(e){const t=ei(e),r=yv(e),n=e.ownerDocument.body,a=_l(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=_l(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+jv(e);const u=-r.scrollTop;return ta(n).direction==="rtl"&&(c+=_l(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:c,y:u}}const EE=25;function Rne(e,t){const r=Tn(e),n=ei(e),a=r.visualViewport;let s=n.clientWidth,c=n.clientHeight,u=0,f=0;if(a){s=a.width,c=a.height;const h=oj();(!h||h&&t==="fixed")&&(u=a.offsetLeft,f=a.offsetTop)}const m=jv(n);if(m<=0){const h=n.ownerDocument,v=h.body,x=getComputedStyle(v),b=h.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,S=Math.abs(n.clientWidth-v.clientWidth-b);S<=EE&&(s-=S)}else m<=EE&&(s+=m);return{width:s,height:c,x:u,y:f}}const Lne=new Set(["absolute","fixed"]);function zne(e,t){const r=ql(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=Ka(e)?Go(e):Ya(1),c=e.clientWidth*s.x,u=e.clientHeight*s.y,f=a*s.x,m=n*s.y;return{width:c,height:u,x:f,y:m}}function _E(e,t,r){let n;if(t==="viewport")n=Rne(e,r);else if(t==="document")n=Ine(ei(e));else if(Qr(t))n=zne(t,r);else{const a=U3(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return vh(n)}function V3(e,t){const r=Is(e);return r===t||!Qr(r)||ic(r)?!1:ta(r).position==="fixed"||V3(r,t)}function Fne(e,t){const r=t.get(e);if(r)return r;let n=xd(e,[],!1).filter(u=>Qr(u)&&Ac(u)!=="body"),a=null;const s=ta(e).position==="fixed";let c=s?Is(e):e;for(;Qr(c)&&!ic(c);){const u=ta(c),f=lj(c);!f&&u.position==="fixed"&&(a=null),(s?!f&&!a:!f&&u.position==="static"&&!!a&&Lne.has(a.position)||Bd(c)&&!f&&V3(e,c))?n=n.filter(h=>h!==c):a=u,c=Is(c)}return t.set(e,n),n}function Bne(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const c=[...r==="clippingAncestors"?bv(t)?[]:Fne(t,this._c):[].concat(r),n],u=c[0],f=c.reduce((m,h)=>{const v=_E(t,h,a);return m.top=_l(v.top,m.top),m.right=sc(v.right,m.right),m.bottom=sc(v.bottom,m.bottom),m.left=_l(v.left,m.left),m},_E(t,u,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function $ne(e){const{width:t,height:r}=H3(e);return{width:t,height:r}}function qne(e,t,r){const n=Ka(t),a=ei(t),s=r==="fixed",c=ql(e,!0,s,t);let u={scrollLeft:0,scrollTop:0};const f=Ya(0);function m(){f.x=jv(a)}if(n||!n&&!s)if((Ac(t)!=="body"||Bd(a))&&(u=yv(t)),n){const b=ql(t,!0,s,t);f.x=b.x+t.clientLeft,f.y=b.y+t.clientTop}else a&&m();s&&!n&&a&&m();const h=a&&!n&&!s?Y3(a,u):Ya(0),v=c.left+u.scrollLeft-f.x-h.x,x=c.top+u.scrollTop-f.y-h.y;return{x:v,y:x,width:c.width,height:c.height}}function Ab(e){return ta(e).position==="static"}function OE(e,t){if(!Ka(e)||ta(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ei(e)===r&&(r=r.ownerDocument.body),r}function G3(e,t){const r=Tn(e);if(bv(e))return r;if(!Ka(e)){let a=Is(e);for(;a&&!ic(a);){if(Qr(a)&&!Ab(a))return a;a=Is(a)}return r}let n=OE(e,t);for(;n&&Jre(n)&&Ab(n);)n=OE(n,t);return n&&ic(n)&&Ab(n)&&!lj(n)?r:n||ane(e)||r}const Hne=async function(e){const t=this.getOffsetParent||G3,r=this.getDimensions,n=await r(e.floating);return{reference:qne(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Une(e){return ta(e).direction==="rtl"}const Yne={convertOffsetParentRelativeRectToViewportRelativeRect:Tne,getDocumentElement:ei,getClippingRect:Bne,getOffsetParent:G3,getElementRects:Hne,getClientRects:Pne,getDimensions:$ne,getScale:Go,isElement:Qr,isRTL:Une};function K3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Vne(e,t){let r=null,n;const a=ei(e);function s(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),s();const m=e.getBoundingClientRect(),{left:h,top:v,width:x,height:b}=m;if(u||t(),!x||!b)return;const S=km(v),w=km(a.clientWidth-(h+x)),y=km(a.clientHeight-(v+b)),C=km(h),A={rootMargin:-S+"px "+-w+"px "+-y+"px "+-C+"px",threshold:_l(0,sc(1,f))||1};let _=!0;function E(T){const P=T[0].intersectionRatio;if(P!==f){if(!_)return c();P?c(!1,P):n=setTimeout(()=>{c(!1,1e-7)},1e3)}P===1&&!K3(m,e.getBoundingClientRect())&&c(),_=!1}try{r=new IntersectionObserver(E,{...A,root:a.ownerDocument})}catch{r=new IntersectionObserver(E,A)}r.observe(e)}return c(!0),s}function Gne(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,m=dj(e),h=a||s?[...m?xd(m):[],...xd(t)]:[];h.forEach(C=>{a&&C.addEventListener("scroll",r,{passive:!0}),s&&C.addEventListener("resize",r)});const v=m&&u?Vne(m,r):null;let x=-1,b=null;c&&(b=new ResizeObserver(C=>{let[M]=C;M&&M.target===m&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var A;(A=b)==null||A.observe(t)})),r()}),m&&!f&&b.observe(m),b.observe(t));let S,w=f?ql(e):null;f&&y();function y(){const C=ql(e);w&&!K3(w,C)&&r(),w=C,S=requestAnimationFrame(y)}return r(),()=>{var C;h.forEach(M=>{a&&M.removeEventListener("scroll",r),s&&M.removeEventListener("resize",r)}),v?.(),(C=b)==null||C.disconnect(),b=null,f&&cancelAnimationFrame(S)}}const Kne=Ene,Wne=Mne,TE=Ane,Qne=(e,t,r)=>{const n=new Map,a={platform:Yne,...r},s={...a.platform,_c:n};return Cne(e,t,{...a,platform:s})};var Xne=typeof document<"u",Zne=function(){},lp=Xne?j.useLayoutEffect:Zne;function gh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!gh(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!gh(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function W3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function PE(e,t){const r=W3(e);return Math.round(t*r)/r}function Mb(e){const t=j.useRef(e);return lp(()=>{t.current=e}),t}function Jne(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:c}={},transform:u=!0,whileElementsMounted:f,open:m}=e,[h,v]=j.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[x,b]=j.useState(n);gh(x,n)||b(n);const[S,w]=j.useState(null),[y,C]=j.useState(null),M=j.useCallback(z=>{z!==T.current&&(T.current=z,w(z))},[]),A=j.useCallback(z=>{z!==P.current&&(P.current=z,C(z))},[]),_=s||S,E=c||y,T=j.useRef(null),P=j.useRef(null),O=j.useRef(h),L=f!=null,R=Mb(f),F=Mb(a),k=Mb(m),X=j.useCallback(()=>{if(!T.current||!P.current)return;const z={placement:t,strategy:r,middleware:x};F.current&&(z.platform=F.current),Qne(T.current,P.current,z).then(ne=>{const ge={...ne,isPositioned:k.current!==!1};W.current&&!gh(O.current,ge)&&(O.current=ge,pc.flushSync(()=>{v(ge)}))})},[x,t,r,F,k]);lp(()=>{m===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,v(z=>({...z,isPositioned:!1})))},[m]);const W=j.useRef(!1);lp(()=>(W.current=!0,()=>{W.current=!1}),[]),lp(()=>{if(_&&(T.current=_),E&&(P.current=E),_&&E){if(R.current)return R.current(_,E,X);X()}},[_,E,X,R,L]);const Z=j.useMemo(()=>({reference:T,floating:P,setReference:M,setFloating:A}),[M,A]),B=j.useMemo(()=>({reference:_,floating:E}),[_,E]),G=j.useMemo(()=>{const z={position:r,left:0,top:0};if(!B.floating)return z;const ne=PE(B.floating,h.x),ge=PE(B.floating,h.y);return u?{...z,transform:"translate("+ne+"px, "+ge+"px)",...W3(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ne,top:ge}},[r,u,B.floating,h.x,h.y]);return j.useMemo(()=>({...h,update:X,refs:Z,elements:B,floatingStyles:G}),[h,X,Z,B,G])}const eae=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?TE({element:n.current,padding:a}).fn(r):{}:n?TE({element:n,padding:a}).fn(r):{}}}},tae=(e,t)=>({...Kne(e),options:[e,t]}),rae=(e,t)=>({...Wne(e),options:[e,t]}),nae=(e,t)=>({...eae(e),options:[e,t]}),aae={...a1};let IE=!1,iae=0;const RE=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+iae++;function sae(){const[e,t]=j.useState(()=>IE?RE():void 0);return xh(()=>{e==null&&t(RE())},[]),j.useEffect(()=>{IE=!0},[]),e}const lae=aae.useId,Q3=lae||sae,oae=j.forwardRef(function(t,r){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:s,shift:c}},width:u=14,height:f=7,tipRadius:m=0,strokeWidth:h=0,staticOffset:v,stroke:x,d:b,style:{transform:S,...w}={},...y}=t,C=Q3(),[M,A]=j.useState(!1);if(xh(()=>{if(!a)return;ta(a).direction==="rtl"&&A(!0)},[a]),!a)return null;const[_,E]=n.split("-"),T=_==="top"||_==="bottom";let P=v;(T&&c!=null&&c.x||!T&&c!=null&&c.y)&&(P=null);const O=h*2,L=O/2,R=u/2*(m/-8+1),F=f/2*m/4,k=!!b,X=P&&E==="end"?"bottom":"top";let W=P&&E==="end"?"right":"left";P&&M&&(W=E==="end"?"left":"right");const Z=s?.x!=null?P||s.x:"",B=s?.y!=null?P||s.y:"",G=b||"M0,0"+(" H"+u)+(" L"+(u-R)+","+(f-F))+(" Q"+u/2+","+f+" "+R+","+(f-F))+" Z",z={top:k?"rotate(180deg)":"",left:k?"rotate(90deg)":"rotate(-90deg)",bottom:k?"":"rotate(180deg)",right:k?"rotate(-90deg)":"rotate(90deg)"}[_];return l.jsxs("svg",{...y,"aria-hidden":!0,ref:r,width:k?u:u+O,height:u,viewBox:"0 0 "+u+" "+(f>u?f:u),style:{position:"absolute",pointerEvents:"none",[W]:Z,[X]:B,[_]:T||k?"100%":"calc(100% - "+O/2+"px)",transform:[z,S].filter(ne=>!!ne).join(" "),...w},children:[O>0&&l.jsx("path",{clipPath:"url(#"+C+")",fill:"none",stroke:x,strokeWidth:O+(b?0:1),d:G}),l.jsx("path",{stroke:O&&!b?y.fill:"none",d:G}),l.jsx("clipPath",{id:C,children:l.jsx("rect",{x:-L,y:L*(k?-1:1),width:u+O,height:u})})]})});function cae(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(a=>a(r))},on(t,r){e.has(t)||e.set(t,new Set),e.get(t).add(r)},off(t,r){var n;(n=e.get(t))==null||n.delete(r)}}}const uae=j.createContext(null),dae=j.createContext(null),fae=()=>{var e;return((e=j.useContext(uae))==null?void 0:e.id)||null},mae=()=>j.useContext(dae);function pae(e){const{open:t=!1,onOpenChange:r,elements:n}=e,a=Q3(),s=j.useRef({}),[c]=j.useState(()=>cae()),u=fae()!=null,[f,m]=j.useState(n.reference),h=Nne((b,S,w)=>{s.current.openEvent=b?S:void 0,c.emit("openchange",{open:b,event:S,reason:w,nested:u}),r?.(b,S,w)}),v=j.useMemo(()=>({setPositionReference:m}),[]),x=j.useMemo(()=>({reference:f||n.reference||null,floating:n.floating||null,domReference:n.reference}),[f,n.reference,n.floating]);return j.useMemo(()=>({dataRef:s,open:t,onOpenChange:h,elements:x,events:c,floatingId:a,refs:v}),[t,h,x,c,a,v])}function hae(e){e===void 0&&(e={});const{nodeId:t}=e,r=pae({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,a=n.elements,[s,c]=j.useState(null),[u,f]=j.useState(null),h=a?.domReference||s,v=j.useRef(null),x=mae();xh(()=>{h&&(v.current=h)},[h]);const b=Jne({...e,elements:{...a,...u&&{reference:u}}}),S=j.useCallback(A=>{const _=Qr(A)?{getBoundingClientRect:()=>A.getBoundingClientRect(),getClientRects:()=>A.getClientRects(),contextElement:A}:A;f(_),b.refs.setReference(_)},[b.refs]),w=j.useCallback(A=>{(Qr(A)||A===null)&&(v.current=A,c(A)),(Qr(b.refs.reference.current)||b.refs.reference.current===null||A!==null&&!Qr(A))&&b.refs.setReference(A)},[b.refs]),y=j.useMemo(()=>({...b.refs,setReference:w,setPositionReference:S,domReference:v}),[b.refs,w,S]),C=j.useMemo(()=>({...b.elements,domReference:h}),[b.elements,h]),M=j.useMemo(()=>({...b,...n,refs:y,elements:C,nodeId:t}),[b,y,C,t,n]);return xh(()=>{n.dataRef.current.floatingContext=M;const A=x?.nodesRef.current.find(_=>_.id===t);A&&(A.context=M)}),j.useMemo(()=>({...b,context:M,refs:y,elements:C}),[b,y,C,M])}var Qy=function(t,r){return Qy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},Qy(t,r)};function Fr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Qy(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var rt=function(){return rt=Object.assign||function(r){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},rt.apply(this,arguments)};function $a(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var vae=function(e){var t=e.showTimeSelectOnly,r=t===void 0?!1:t,n=e.showTime,a=n===void 0?!1:n,s=e.className,c=e.children,u=e.inline,f=r?"Choose Time":"Choose Date".concat(a?" and Time":"");return ce.createElement("div",{className:s,"aria-label":f,role:u?void 0:"dialog","aria-modal":u?void 0:"true",translate:"no"},c)},xae=function(e,t){var r=j.useRef(null),n=j.useRef(e);j.useEffect(function(){n.current=e},[e]);var a=j.useCallback(function(s){var c,u=s.composed&&s.composedPath&&s.composedPath().find(function(f){return f instanceof Node})||s.target;r.current&&!r.current.contains(u)&&(t&&u instanceof HTMLElement&&u.classList.contains(t)||(c=n.current)===null||c===void 0||c.call(n,s))},[t]);return j.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),r},Nv=function(e){var t=e.children,r=e.onClickOutside,n=e.className,a=e.containerRef,s=e.style,c=e.ignoreClass,u=xae(r,c);return ce.createElement("div",{className:n,style:s,ref:function(f){u.current=f,a&&(a.current=f)}},t)},Em=null,LE=!1;function X3(){if(LE)return Em;LE=!0;try{var e="date-fns-tz";Em=require(e)}catch{Em=null}return Em}function zE(e,t){if(!t)return e;var r=X3();return r?r.toZonedTime(e,t):e}function bi(e,t){if(!t)return e;var r=X3();return r?r.fromZonedTime(e,t):e}var Se;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Se||(Se={}));function Z3(){var e=typeof window<"u"?window:globalThis;return e}var qd=12;function vt(e){if(e==null)return new Date;var t=typeof e=="string"?Ire(e):Pe(e);return dn(t)?t:new Date}function ul(e,t,r,n,a){a===void 0&&(a=vt());for(var s=oc(r)||oc(fj()),c=Array.isArray(t)?t:[t],u=0,f=c;u<f.length;u++){var m=f[u],h=kre(e,m,a,{locale:s});if(dn(h)&&(!n||e===Ht(h,m,r)))return h}if(!n&&e&&e.length>=8){var v=new Date(e);if(ac(v))return v}return null}function gae(e,t){if(t===void 0&&(t=vt()),!e)return null;var r=e.match(/\b(1\d{3}|2\d{3})\b/);if(!r||!r[1])return null;var n=parseInt(r[1],10),a=e.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),s=a&&a[1]?parseInt(a[1],10)-1:t.getMonth();return new Date(n,s,1)}function dn(e){return ac(e)}function Cl(e){return e==null?null:Ua(e)&&ac(e)?e:null}function Ht(e,t,r){if(r==="en")return NE(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?oc(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||oc(fj()),NE(e,t,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function un(e,t){var r=t.dateFormat,n=t.locale,a=Array.isArray(r)&&r.length>0?r[0]:r;return e&&Ht(e,a,n)||""}var J3=" - ";function bae(e,t,r){if(!e&&!t)return"";var n=e?un(e,r):"",a=t?un(t,r):"",s=r.rangeSeparator||J3;return"".concat(n).concat(s).concat(a)}function yae(e,t){if(!e?.length)return"";var r=e[0]?un(e[0],t):"";if(e.length===1)return r;if(e.length===2&&e[1]){var n=un(e[1],t);return"".concat(r,", ").concat(n)}var a=e.length-1;return"".concat(r," (+").concat(a,")")}function yi(e,t){var r=t.hour,n=r===void 0?0:r,a=t.minute,s=a===void 0?0:a,c=t.second,u=c===void 0?0:c;return ap(ip(sp(e,u),s),n)}function wae(e){return nj(e)}function jae(e,t){return Ht(e,"ddd",t)}function Yu(e){return $l(e)}function ks(e,t,r){var n=oc(t||fj());return zi(e,{locale:n,weekStartsOn:r})}function Di(e){return k3(e)}function Vu(e){return xv(e)}function FE(e){return Yy(e)}function BE(){return $l(vt())}function $E(e){return M3(e)}function Nae(e){return Iee(e)}function Sae(e){return D3(e)}function Pa(e,t){return e&&t?Tre(e,t):!e&&!t}function Kr(e,t){return e&&t?_re(e,t):!e&&!t}function bh(e,t){return e&&t?Ore(e,t):!e&&!t}function ut(e,t){return e&&t?Tee(e,t):!e&&!t}function Al(e,t){return e&&t?Pte(e,t):!e&&!t}function xl(e,t,r){var n,a=$l(t),s=M3(r);try{n=vd(e,{start:a,end:s})}catch{n=!1}return n}function fj(){var e=Z3();return e.__localeId__}function oc(e){if(typeof e=="string"){var t=Z3();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function Cae(e,t,r){return t(Ht(e,"EEEE",r))}function Aae(e,t){return Ht(e,"EEEEEE",t)}function Mae(e,t){return Ht(e,"EEE",t)}function mj(e,t){return Ht(Mn(vt(),e),"LLLL",t)}function eI(e,t){return Ht(Mn(vt(),e),"LLL",t)}function Dae(e,t){return Ht($o(vt(),e),"QQQ",t)}function Qn(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,c=r.excludeDateIntervals,u=r.includeDates,f=r.includeDateIntervals,m=r.filterDate,h=r.disabled;return h?!0:Hd(e,{minDate:n,maxDate:a})||s&&s.some(function(v){return v instanceof Date?ut(e,v):ut(e,v.date)})||c&&c.some(function(v){var x=v.start,b=v.end;return vd(e,{start:x,end:b})})||u&&!u.some(function(v){return ut(e,v)})||f&&!f.some(function(v){var x=v.start,b=v.end;return vd(e,{start:x,end:b})})||m&&!m(vt(e))||!1}function pj(e,t){var r=t===void 0?{}:t,n=r.excludeDates,a=r.excludeDateIntervals;return a&&a.length>0?a.some(function(s){var c=s.start,u=s.end;return vd(e,{start:c,end:u})}):n&&n.some(function(s){var c;return s instanceof Date?ut(e,s):ut(e,(c=s.date)!==null&&c!==void 0?c:new Date)})||!1}function tI(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,c=r.includeDates,u=r.filterDate;return Hd(e,{minDate:n?k3(n):void 0,maxDate:a?D3(a):void 0})||s?.some(function(f){return Kr(e,f instanceof Date?f:f.date)})||c&&!c.some(function(f){return Kr(e,f)})||u&&!u(vt(e))||!1}function _m(e,t,r,n){var a=lt(e),s=fn(e),c=lt(t),u=fn(t),f=lt(n);return a===c&&a===f?s<=r&&r<=u:a<c?f===a&&s<=r||f===c&&u>=r||f<c&&f>a:!1}function kae(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,c=r.includeDates;return Hd(e,{minDate:n,maxDate:a})||s&&s.some(function(u){return Kr(u instanceof Date?u:u.date,e)})||c&&!c.some(function(u){return Kr(u,e)})||!1}function Om(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,c=r.includeDates,u=r.filterDate,f=r.disabled;return f?!0:Hd(e,{minDate:n,maxDate:a})||s?.some(function(m){return bh(e,m instanceof Date?m:m.date)})||c&&!c.some(function(m){return bh(e,m)})||u&&!u(vt(e))||!1}function Tm(e,t,r){if(!t||!r||!ac(t)||!ac(r))return!1;var n=lt(t),a=lt(r);return n<=e&&a>=e}function op(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,c=r.includeDates,u=r.filterDate,f=r.disabled;if(f)return!0;var m=new Date(e,0,1);return Hd(m,{minDate:n?xv(n):void 0,maxDate:a?E3(a):void 0})||s?.some(function(h){return Pa(m,h instanceof Date?h:h.date)})||c&&!c.some(function(h){return Pa(m,h)})||u&&!u(vt(m))||!1}function Pm(e,t,r,n){var a=lt(e),s=Cs(e),c=lt(t),u=Cs(t),f=lt(n);return a===c&&a===f?s<=r&&r<=u:a<c?f===a&&s<=r||f===c&&u>=r||f<c&&f>a:!1}function Hd(e,t){var r,n=t===void 0?{}:t,a=n.minDate,s=n.maxDate;return(r=a&&nc(e,a)<0||s&&nc(e,s)>0)!==null&&r!==void 0?r:!1}function qE(e,t){return t.some(function(r){return Hr(r)===Hr(e)&&Ur(r)===Ur(e)&&Ds(r)===Ds(e)})}function HE(e,t){var r=t===void 0?{}:t,n=r.excludeTimes,a=r.includeTimes,s=r.filterTime;return n&&qE(e,n)||a&&!qE(e,a)||s&&!s(e)||!1}function UE(e,t){var r=t.minTime,n=t.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var a=vt();a=ap(a,Hr(e)),a=ip(a,Ur(e)),a=sp(a,Ds(e));var s=vt();s=ap(s,Hr(r)),s=ip(s,Ur(r)),s=sp(s,Ds(r));var c=vt();c=ap(c,Hr(n)),c=ip(c,Ur(n)),c=sp(c,Ds(n));var u;try{u=!vd(a,{start:s,end:c})}catch{u=!1}return u}function YE(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,s=El(e,1);return n&&uh(n,s)>0||a&&a.every(function(c){return uh(c,s)>0})||!1}function VE(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,s=xa(e,1);return n&&uh(s,n)>0||a&&a.every(function(c){return uh(s,c)>0})||!1}function Eae(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,s=xv(e),c=F3(s);return n&&dh(n,c)>0||a&&a.every(function(u){return dh(u,c)>0})||!1}function _ae(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,s=E3(e),c=rj(s,1);return n&&dh(c,n)>0||a&&a.every(function(u){return dh(c,u)>0})||!1}function GE(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,s=Ps(e,1);return n&&fh(n,s)>0||a&&a.every(function(c){return fh(c,s)>0})||!1}function Oae(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.yearItemNumber,s=a===void 0?qd:a,c=Vu(Ps(e,s)),u=Si(c,s).endPeriod,f=n&&lt(n);return f&&f>u||!1}function KE(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,s=pa(e,1);return n&&fh(s,n)>0||a&&a.every(function(c){return fh(s,c)>0})||!1}function Tae(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.yearItemNumber,s=a===void 0?qd:a,c=pa(e,s),u=Si(c,s).startPeriod,f=n&&lt(n);return f&&f<u||!1}function rI(e){var t=e.minDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return nc(a,t)>=0});return xE(n)}else return r?xE(r):t}function nI(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return nc(a,t)<=0});return vE(n)}else return r?vE(r):t}function WE(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var n=new Map,a=0,s=e.length;a<s;a++){var c=e[a];if(Ua(c)){var u=Ht(c,"MM.dd.yyyy"),f=n.get(u)||[];f.includes(t)||(f.push(t),n.set(u,f))}else if(typeof c=="object"){var m=Object.keys(c),h=(r=m[0])!==null&&r!==void 0?r:"",v=c[h];if(typeof h=="string"&&Array.isArray(v))for(var x=0,b=v.length;x<b;x++){var S=v[x];if(S){var u=Ht(S,"MM.dd.yyyy"),f=n.get(u)||[];f.includes(h)||(f.push(h),n.set(u,f))}}}}return n}function Pae(e,t){return e.length!==t.length?!1:e.every(function(r,n){return r===t[n]})}function Iae(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var r=new Map;return e.forEach(function(n){var a=n.date,s=n.holidayName;if(Ua(a)){var c=Ht(a,"MM.dd.yyyy"),u=r.get(c)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===t&&Pae(u.holidayNames,[s]))){u.className=t;var f=u.holidayNames;u.holidayNames=f?$a($a([],f,!0),[s],!1):[s],r.set(c,u)}}}),r}function Rae(e,t,r,n,a){for(var s=a.length,c=[],u=0;u<s;u++){var f=e,m=a[u];m&&(f=kee(f,Hr(m)),f=hd(f,Ur(m)),f=Oee(f,Ds(m)));var h=hd(e,(r+1)*n);Mi(f,t)&&Ba(f,h)&&m!=null&&c.push(m)}return c}function Io(e){return e<10?"0".concat(e):"".concat(e)}function Si(e,t){t===void 0&&(t=qd);var r=Math.ceil(lt(e)/t)*t,n=r-(t-1);return{startPeriod:n,endPeriod:r}}function Lae(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}function QE(e){var t=e.getSeconds(),r=e.getMilliseconds();return Pe(e.getTime()-t*1e3-r)}function aI(e,t){return QE(e).getTime()===QE(t).getTime()}function XE(e){if(!Ua(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function Db(e,t){if(!Ua(e)||!Ua(t))throw new Error("Invalid date received");var r=XE(e),n=XE(t);return Ba(r,n)}function iI(e){return e.key===Se.Space}var kb=(function(e){Fr(t,e);function t(r){var n=e.call(this,r)||this;return n.inputRef=ce.createRef(),n.onTimeChange=function(a){var s,c;n.setState({time:a});var u=n.props.date,f=u instanceof Date&&!isNaN(+u),m=f?u:new Date;if(a?.includes(":")){var h=a.split(":"),v=h[0],x=h[1];m.setHours(Number(v)),m.setMinutes(Number(x))}(c=(s=n.props).onChange)===null||c===void 0||c.call(s,m)},n.renderTimeInput=function(){var a=n.state.time,s=n.props,c=s.date,u=s.timeString,f=s.customTimeInput;return f?j.cloneElement(f,{date:c,value:a,onChange:n.onTimeChange}):ce.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var m;(m=n.inputRef.current)===null||m===void 0||m.focus()},required:!0,value:a,onChange:function(m){n.onTimeChange(m.target.value||u)}})},n.state={time:n.props.timeString},n}return t.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},t.prototype.render=function(){return ce.createElement("div",{className:"react-datepicker__input-time-container"},ce.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ce.createElement("div",{className:"react-datepicker-time__input-container"},ce.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t})(j.Component),zae=(function(e){Fr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.dayEl=j.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var a,s,c=n.key;c===Se.Space&&(n.preventDefault(),n.key=Se.Enter),(s=(a=r.props).handleOnKeyDown)===null||s===void 0||s.call(a,n)},r.isSameDay=function(n){return ut(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var a=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(c){return r.isSameDayOrWeek(c)}):r.isSameDayOrWeek(r.props.selected),s=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!a&&r.isSameDayOrWeek(r.props.preSelection)&&!s},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),Qn(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(){return pj(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return ut(r.props.day,ks(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&ut(n,ks(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,a=n.day,s=n.highlightDates;if(!s)return!1;var c=Ht(a,"MM.dd.yyyy");return s.get(c)},r.getHolidaysClass=function(){var n,a=r.props,s=a.day,c=a.holidays;if(!c)return[void 0];var u=Ht(s,"MM.dd.yyyy");return c.has(u)?[(n=c.get(u))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,a=n.day,s=n.startDate,c=n.endDate;return!s||!c?!1:xl(a,s,c)},r.isInSelectingRange=function(){var n,a=r.props,s=a.day,c=a.selectsStart,u=a.selectsEnd,f=a.selectsRange,m=a.selectsDisabledDaysInRange,h=a.startDate,v=a.swapRange,x=a.endDate,b=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;if(r.isAfterMonth()||r.isBeforeMonth()||!(c||u||f)||!b||!m&&r.isDisabled())return!1;if(c&&x&&(Ba(b,x)||Al(b,x)))return xl(s,b,x);if(u&&h&&(Mi(b,h)||Al(b,h)))return xl(s,h,b);if(f&&h&&!x){if(Al(b,h)||Mi(b,h))return xl(s,h,b);if(v&&Ba(b,h))return xl(s,b,h)}return!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,s=a.day,c=a.startDate,u=a.selectsStart,f=a.swapRange,m=a.selectsRange,h=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return u?ut(s,h):m&&f&&c&&h?ut(s,Ba(h,c)?h:c):ut(s,c)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,s=a.day,c=a.endDate,u=a.selectsEnd,f=a.selectsRange,m=a.swapRange,h=a.startDate,v=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return u?ut(s,v):f&&m&&h&&v?ut(s,Ba(v,h)?h:v):f?ut(s,v):ut(s,c)},r.isRangeStart=function(){var n=r.props,a=n.day,s=n.startDate,c=n.endDate;return!s||!c?!1:ut(s,a)},r.isRangeEnd=function(){var n=r.props,a=n.day,s=n.startDate,c=n.endDate;return!s||!c?!1:ut(c,a)},r.isWeekend=function(){var n=Ete(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===fn(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(fn(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(vt())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return r.isSameDayOrWeek(a)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var a=r.props.dayClassName?r.props.dayClassName(n):void 0;return nt("react-datepicker__day",a,"react-datepicker__day--"+jae(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,a=n.day,s=n.ariaLabelPrefixWhenEnabled,c=s===void 0?"Choose":s,u=n.ariaLabelPrefixWhenDisabled,f=u===void 0?"Not available":u,m=r.isDisabled()||r.isExcluded()?f:c;return"".concat(m," ").concat(Ht(a,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,a=n.day,s=n.holidays,c=s===void 0?new Map:s,u=n.excludeDates,f=Ht(a,"MM.dd.yyyy"),m=[];return c.has(f)&&m.push.apply(m,c.get(f).holidayNames),r.isExcluded()&&m.push(u?.filter(function(h){return h instanceof Date?ut(h,a):ut(h?.date,a)}).map(function(h){if(!(h instanceof Date))return h?.message})),m.join(", ")},r.getTabIndex=function(){var n=r.props.selected,a=r.props.preSelection,s=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&ut(a,n))?0:-1;return s},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(SE(r.props.day),r.props.day):SE(r.props.day)},r.render=function(){return ce.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&ce.createElement("span",{className:"overlay"},r.getTitle()))},r}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},t.prototype.isDayActiveElement=function(){var r,n,a;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t})(j.Component),Fae=(function(e){Fr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.weekNumberEl=j.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var a,s,c=n.key;c===Se.Space&&(n.preventDefault(),n.key=Se.Enter),(s=(a=r.props).handleOnKeyDown)===null||s===void 0||s.call(a,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!ut(r.props.date,r.props.selected)&&ut(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||ut(r.props.date,r.props.selected)&&ut(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var a=!1;r.getTabIndex()===0&&!n?.isInputFocused&&ut(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(a=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},t.prototype.render=function(){var r=this.props,n=r.weekNumber,a=r.isWeekDisabled,s=r.ariaLabelPrefix,c=s===void 0?t.defaultProps.ariaLabelPrefix:s,u=r.onClick,f={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!a,"react-datepicker__week-number--selected":!!u&&ut(this.props.date,this.props.selected)};return ce.createElement("div",{ref:this.weekNumberEl,className:nt(f),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},t})(j.Component),Bae=(function(e){Fr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isDisabled=function(n){return Qn(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,a){r.props.onDayClick&&r.props.onDayClick(n,a)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,a,s){for(var c,u,f,m=new Date(n),h=0;h<7;h++){var v=new Date(n);v.setDate(v.getDate()+h);var x=!r.isDisabled(v);if(x){m=v;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(m,a,s),r.props.showWeekPicker&&r.handleDayClick(m,s),((c=r.props.shouldCloseOnSelect)!==null&&c!==void 0?c:t.defaultProps.shouldCloseOnSelect)&&((f=(u=r.props).setOpen)===null||f===void 0||f.call(u,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):wae(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),a=ma(n,6),s=new Date(n);s<=a;){if(!r.isDisabled(s))return!1;s=ma(s,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),a=[],s=r.formatWeekNumber(n);if(r.props.showWeekNumber){var c=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,s):void 0;a.push(ce.createElement(Fae,rt({key:"W"},t.defaultProps,r.props,{weekNumber:s,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:c})))}return a.concat([0,1,2,3,4,5,6].map(function(u){var f=ma(n,u);return ce.createElement(zae,rt({},t.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,onClick:r.handleDayClick.bind(r,f),onMouseEnter:r.handleDayMouseEnter.bind(r,f)}))}))},r.startOfWeek=function(){return ks(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!ut(r.startOfWeek(),r.props.selected)&&ut(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":ut(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return ce.createElement("div",{className:nt(r,n),role:"row"},this.renderDays())},t})(j.Component),Lu,$ae=6,Ko={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Eb=(Lu={},Lu[Ko.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Lu[Ko.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Lu[Ko.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Lu),Im=1;function ZE(e,t){return e?Ko.FOUR_COLUMNS:t?Ko.TWO_COLUMNS:Ko.THREE_COLUMNS}var qae=(function(e){Fr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.MONTH_REFS=$a([],Array(12),!0).map(function(){return j.createRef()}),r.QUARTER_REFS=$a([],Array(4),!0).map(function(){return j.createRef()}),r.isDisabled=function(n){return Qn(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(n){return pj(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,a){var s,c;(c=(s=r.props).onDayClick)===null||c===void 0||c.call(s,n,a,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var a,s;(s=(a=r.props).onDayMouseEnter)===null||s===void 0||s.call(a,n)},r.handleMouseLeave=function(){var n,a;(a=(n=r.props).onMouseLeave)===null||a===void 0||a.call(n)},r.isRangeStartMonth=function(n){var a=r.props,s=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:Kr(Mn(s,n),c)},r.isRangeStartQuarter=function(n){var a=r.props,s=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:bh($o(s,n),c)},r.isRangeEndMonth=function(n){var a=r.props,s=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:Kr(Mn(s,n),u)},r.isRangeEndQuarter=function(n){var a=r.props,s=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:bh($o(s,n),u)},r.isInSelectingRangeMonth=function(n){var a,s=r.props,c=s.day,u=s.selectsStart,f=s.selectsEnd,m=s.selectsRange,h=s.startDate,v=s.endDate,x=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(u||f||m)||!x?!1:u&&v?_m(x,v,n,c):f&&h||m&&h&&!v?_m(h,x,n,c):!1},r.isSelectingMonthRangeStart=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var s=r.props,c=s.day,u=s.startDate,f=s.selectsStart,m=Mn(c,n),h=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return f?Kr(m,h):Kr(m,u)},r.isSelectingMonthRangeEnd=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var s=r.props,c=s.day,u=s.endDate,f=s.selectsEnd,m=s.selectsRange,h=Mn(c,n),v=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return f||m?Kr(h,v):Kr(h,u)},r.isInSelectingRangeQuarter=function(n){var a,s=r.props,c=s.day,u=s.selectsStart,f=s.selectsEnd,m=s.selectsRange,h=s.startDate,v=s.endDate,x=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(u||f||m)||!x?!1:u&&v?Pm(x,v,n,c):f&&h||m&&h&&!v?Pm(h,x,n,c):!1},r.isWeekInMonth=function(n){var a=r.props.day,s=ma(n,6);return Kr(n,a)||Kr(s,a)},r.isCurrentMonth=function(n,a){return lt(n)===lt(vt())&&a===fn(vt())},r.isCurrentQuarter=function(n,a){return lt(n)===lt(vt())&&a===Cs(vt())},r.isSelectedMonth=function(n,a,s){return fn(s)===a&&lt(n)===lt(s)},r.isSelectMonthInList=function(n,a,s){return s.some(function(c){return r.isSelectedMonth(n,a,c)})},r.isSelectedQuarter=function(n,a,s){return Cs(s)===a&&lt(n)===lt(s)},r.isSelectQuarterInList=function(n,a,s){return s.some(function(c){return r.isSelectedQuarter(n,a,c)})},r.isMonthSelected=function(){var n=r.props,a=n.day,s=n.selected,c=n.selectedDates,u=n.selectsMultiple,f=fn(a);return u?c?.some(function(m){return r.isSelectedMonth(a,f,m)}):!!s&&r.isSelectedMonth(a,f,s)},r.isQuarterSelected=function(){var n=r.props,a=n.day,s=n.selected,c=n.selectedDates,u=n.selectsMultiple,f=Cs(a);return u?c?.some(function(m){return r.isSelectedQuarter(a,f,m)}):!!s&&r.isSelectedQuarter(a,f,s)},r.renderWeeks=function(){if(!dn(r.props.day))return[];for(var n=[],a=r.props.fixedHeight,s=0,c=!1,u=ks(Di(r.props.day),r.props.locale,r.props.calendarStartDay),f=function(S){return r.props.showWeekPicker?ks(S,r.props.locale,r.props.calendarStartDay):r.props.preSelection},m=function(S){return r.props.showWeekPicker?ks(S,r.props.locale,r.props.calendarStartDay):r.props.selected},h=r.props.selected?m(r.props.selected):void 0,v=r.props.preSelection?f(r.props.preSelection):void 0;n.push(ce.createElement(Bae,rt({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:s,day:u,month:fn(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:h,preSelection:v,showWeekNumber:r.props.showWeekNumbers}))),!c;){s++,u=ch(u,1);var x=a&&s>=$ae,b=!a&&!r.isWeekInMonth(u);if(x||b)if(r.props.peekNextMonth)c=!0;else break}return n},r.onMonthClick=function(n,a){var s=r.isMonthDisabledForLabelDate(a),c=s.isDisabled,u=s.labelDate;c||r.handleDayClick(Di(u),n)},r.onMonthMouseEnter=function(n){var a=r.isMonthDisabledForLabelDate(n),s=a.isDisabled,c=a.labelDate;s||r.handleDayMouseEnter(Di(c))},r.handleMonthNavigation=function(n,a){var s,c,u,f;(c=(s=r.props).setPreSelection)===null||c===void 0||c.call(s,a),(f=(u=r.MONTH_REFS[n])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus()},r.handleKeyboardNavigation=function(n,a,s){var c,u=r.props,f=u.selected,m=u.preSelection,h=u.setPreSelection,v=u.minDate,x=u.maxDate,b=u.showFourColumnMonthYearPicker,S=u.showTwoColumnMonthYearPicker;if(m){var w=ZE(b,S),y=r.getVerticalOffset(w),C=(c=Eb[w])===null||c===void 0?void 0:c.grid,M=function(P,O,L){var R,F,k=O,X=L;switch(P){case Se.ArrowRight:k=xa(O,Im),X=L===11?0:L+Im;break;case Se.ArrowLeft:k=El(O,Im),X=L===0?11:L-Im;break;case Se.ArrowUp:k=El(O,y),X=!((R=C?.[0])===null||R===void 0)&&R.includes(L)?L+12-y:L-y;break;case Se.ArrowDown:k=xa(O,y),X=!((F=C?.[C.length-1])===null||F===void 0)&&F.includes(L)?L-12+y:L+y;break}return{newCalculatedDate:k,newCalculatedMonth:X}},A=function(P,O,L){for(var R=40,F=P,k=!1,X=0,W=M(F,O,L),Z=W.newCalculatedDate,B=W.newCalculatedMonth;!k;){if(X>=R){Z=O,B=L;break}if(v&&Z<v){F=Se.ArrowRight;var G=M(F,Z,B);Z=G.newCalculatedDate,B=G.newCalculatedMonth}if(x&&Z>x){F=Se.ArrowLeft;var G=M(F,Z,B);Z=G.newCalculatedDate,B=G.newCalculatedMonth}if(kae(Z,r.props)){var G=M(F,Z,B);Z=G.newCalculatedDate,B=G.newCalculatedMonth}else k=!0;X++}return{newCalculatedDate:Z,newCalculatedMonth:B}};if(a===Se.Enter){r.isMonthDisabled(s)||(r.onMonthClick(n,s),h?.(f));return}var _=A(a,m,s),E=_.newCalculatedDate,T=_.newCalculatedMonth;switch(a){case Se.ArrowRight:case Se.ArrowLeft:case Se.ArrowUp:case Se.ArrowDown:r.handleMonthNavigation(T,E);break}}},r.getVerticalOffset=function(n){var a,s;return(s=(a=Eb[n])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&s!==void 0?s:0},r.onMonthKeyDown=function(n,a){var s=r.props,c=s.disabledKeyboardNavigation,u=s.handleOnMonthKeyDown,f=n.key;f!==Se.Tab&&n.preventDefault(),c||r.handleKeyboardNavigation(n,f,a),u&&u(n)},r.onQuarterClick=function(n,a){var s=$o(r.props.day,a);Om(s,r.props)||r.handleDayClick(FE(s),n)},r.onQuarterMouseEnter=function(n){var a=$o(r.props.day,n);Om(a,r.props)||r.handleDayMouseEnter(FE(a))},r.handleQuarterNavigation=function(n,a){var s,c,u,f;r.isDisabled(a)||r.isExcluded(a)||((c=(s=r.props).setPreSelection)===null||c===void 0||c.call(s,a),(f=(u=r.QUARTER_REFS[n-1])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus())},r.onQuarterKeyDown=function(n,a){var s,c,u=n.key;if(!r.props.disabledKeyboardNavigation)switch(u){case Se.Enter:r.onQuarterClick(n,a),(c=(s=r.props).setPreSelection)===null||c===void 0||c.call(s,r.props.selected);break;case Se.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===4?1:a+1,rj(r.props.preSelection,1));break;case Se.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===1?4:a-1,F3(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(n){var a,s=r.props,c=s.day,u=s.disabled,f=s.minDate,m=s.maxDate,h=s.excludeDates,v=s.includeDates,x=Mn(c,n);return u?{isDisabled:!0,labelDate:Mn(c,n)}:{isDisabled:(a=(f||m||h||v)&&tI(x,r.props))!==null&&a!==void 0?a:!1,labelDate:x}},r.isMonthDisabled=function(n){var a=r.isMonthDisabledForLabelDate(n).isDisabled;return a},r.getMonthClassNames=function(n){var a=r.props,s=a.day,c=a.startDate,u=a.endDate,f=a.preSelection,m=a.monthClassName,h=m?m(Mn(s,n)):void 0,v=r.getSelection();return nt("react-datepicker__month-text","react-datepicker__month-".concat(n),h,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":v?r.isSelectMonthInList(s,n,v):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&f&&r.isSelectedMonth(s,n,f)&&!r.isMonthSelected()&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":c&&u?_m(c,u,n,s):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(s,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=fn(r.props.preSelection),s=r.isMonthDisabledForLabelDate(a).isDisabled,c=n===a&&!(s||r.props.disabledKeyboardNavigation)?"0":"-1";return c},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=Cs(r.props.preSelection),s=Om(r.props.day,r.props),c=n===a&&!(s||r.props.disabledKeyboardNavigation)?"0":"-1";return c},r.getAriaLabel=function(n){var a=r.props,s=a.chooseDayAriaLabelPrefix,c=s===void 0?"Choose":s,u=a.disabledDayAriaLabelPrefix,f=u===void 0?"Not available":u,m=a.day,h=a.locale,v=Mn(m,n),x=r.isDisabled(v)||r.isExcluded(v)?f:c;return"".concat(x," ").concat(Ht(v,"MMMM yyyy",h))},r.getQuarterClassNames=function(n){var a=r.props,s=a.day,c=a.startDate,u=a.endDate,f=a.minDate,m=a.maxDate,h=a.excludeDates,v=a.includeDates,x=a.filterDate,b=a.preSelection,S=a.disabledKeyboardNavigation,w=a.disabled,y=(f||m||h||v||x||w)&&Om($o(s,n),r.props),C=r.getSelection();return nt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":y,"react-datepicker__quarter-text--selected":C?r.isSelectQuarterInList(s,n,C):void 0,"react-datepicker__quarter-text--keyboard-selected":!S&&b&&r.isSelectedQuarter(s,n,b)&&!r.isQuarterSelected()&&!y,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":c&&u?Pm(c,u,n,s):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(s,n)})},r.getMonthContent=function(n){var a=r.props,s=a.showFullMonthYearPicker,c=a.renderMonthContent,u=a.locale,f=a.day,m=eI(n,u),h=mj(n,u);return c?c(n,m,h,f):s?h:m},r.getQuarterContent=function(n){var a,s=r.props,c=s.renderQuarterContent,u=s.locale,f=Dae(n,u);return(a=c?.(n,f))!==null&&a!==void 0?a:f},r.renderMonths=function(){var n,a=r.props,s=a.showTwoColumnMonthYearPicker,c=a.showFourColumnMonthYearPicker,u=a.day,f=a.selected,m=(n=Eb[ZE(c,s)])===null||n===void 0?void 0:n.grid;return m?.map(function(h,v){return ce.createElement("div",{className:"react-datepicker__month-wrapper",key:v},h.map(function(x,b){return ce.createElement("div",{ref:r.MONTH_REFS[x],key:b,onClick:function(S){r.onMonthClick(S,x)},onKeyDown:function(S){iI(S)&&(S.preventDefault(),S.key=Se.Enter),r.onMonthKeyDown(S,x)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(x)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(x)}:void 0,tabIndex:Number(r.getTabIndex(x)),className:r.getMonthClassNames(x),"aria-disabled":r.isMonthDisabled(x),role:"option","aria-label":r.getAriaLabel(x),"aria-current":r.isCurrentMonth(u,x)?"date":void 0,"aria-selected":f?r.isSelectedMonth(u,x,f):void 0},r.getMonthContent(x))}))})},r.renderQuarters=function(){var n=r.props,a=n.day,s=n.selected,c=[1,2,3,4];return ce.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(u,f){return ce.createElement("div",{key:f,ref:r.QUARTER_REFS[f],role:"option",onClick:function(m){r.onQuarterClick(m,u)},onKeyDown:function(m){r.onQuarterKeyDown(m,u)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(u)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(u)}:void 0,className:r.getQuarterClassNames(u),"aria-selected":s?r.isSelectedQuarter(a,u,s):void 0,tabIndex:Number(r.getQuarterTabIndex(u)),"aria-current":r.isCurrentQuarter(a,u)?"date":void 0},r.getQuarterContent(u))}))},r.getClassNames=function(){var n=r.props,a=n.selectingDate,s=n.selectsStart,c=n.selectsEnd,u=n.showMonthYearPicker,f=n.showQuarterYearPicker,m=n.showWeekPicker;return nt("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(s||c)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":m})},r}return t.prototype.getSelection=function(){var r=this.props,n=r.selected,a=r.selectedDates,s=r.selectsMultiple;if(s)return a;if(n)return[n]},t.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,a=r.showQuarterYearPicker,s=r.day,c=r.ariaLabelPrefix,u=c===void 0?"Month ":c,f=u?u.trim()+" ":"",m=dn(s)?"".concat(f).concat(Ht(s,"MMMM, yyyy",this.props.locale)):"",h=n||a;return h?ce.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":m,role:"listbox"},n?this.renderMonths():this.renderQuarters()):ce.createElement("div",{role:"table"},this.props.dayNamesHeader&&ce.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&ce.createElement("div",{role:"rowgroup"},this.props.monthHeader),ce.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":m,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&ce.createElement("div",{role:"rowgroup"},this.props.monthFooter))},t})(j.Component),Hae=(function(e){Fr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(n){return r.props.month===n},r.handleOptionKeyDown=function(n,a){var s;switch(a.key){case"Enter":a.preventDefault(),r.onChange(n);break;case"Escape":a.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{a.preventDefault();var c=(n+(a.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(s=r.monthOptionButtonsRef[c])===null||s===void 0||s.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(n,a){return ce.createElement("div",{ref:function(s){r.monthOptionButtonsRef[a]=s,r.isSelectedMonth(a)&&s?.focus()},role:"button",tabIndex:0,className:r.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,a),onKeyDown:r.handleOptionKeyDown.bind(r,a),"aria-selected":r.isSelectedMonth(a)?"true":void 0},r.isSelectedMonth(a)?ce.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return t.prototype.render=function(){return ce.createElement(Nv,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),Uae=(function(e){Fr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(a,s){return ce.createElement("option",{key:a,value:s},a)})},r.renderSelectMode=function(n){return ce.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(a){return r.onChange(parseInt(a.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,a){return ce.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},ce.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ce.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[r.props.month]))},r.renderDropdown=function(n){return ce.createElement(Hae,rt({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var a=r.state.dropdownVisible,s=[r.renderReadView(!a,n)];return a&&s.unshift(r.renderDropdown(n)),s},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return eI(s,r.props.locale)}:function(s){return mj(s,r.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(n);break;case"select":a=this.renderSelectMode(n);break}return ce.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},t})(j.Component),JE=5;function Yae(e,t,r){for(var n=[],a=e??Ps(r,JE),s=t??pa(r,JE),c=Di(a),u=Di(s);!Mi(c,u);)n.push(vt(c)),c=xa(c,1);return n}var Vae=(function(e){Fr(t,e);function t(r){var n=e.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(a){var s=Gy(a),c=Pa(n.props.date,a)&&Kr(n.props.date,a);return ce.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:n.onChange.bind(n,s),"aria-selected":c?"true":void 0},c?ce.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Ht(a,n.props.dateFormat,n.props.locale))})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:Yae(n.props.minDate,n.props.maxDate,n.props.date)},n}return t.prototype.render=function(){var r=nt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ce.createElement(Nv,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),e_=5,Gae=(function(e){Fr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n,a,s=(n=r.props.minDate)!==null&&n!==void 0?n:Ps(r.props.date,e_),c=(a=r.props.maxDate)!==null&&a!==void 0?a:pa(r.props.date,e_),u=Di(s),f=Di(c),m=[];!Mi(u,f);){var h=Gy(u);m.push(ce.createElement("option",{key:h,value:h},Ht(u,r.props.dateFormat,r.props.locale))),u=xa(u,1)}return m},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return ce.createElement("select",{value:Gy(Di(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var a=Ht(r.props.date,r.props.dateFormat,r.props.locale);return ce.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},ce.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ce.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},r.renderDropdown=function(){return ce.createElement(Vae,rt({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown();var a=vt(n);Pa(r.props.date,a)&&Kr(r.props.date,a)||r.props.onChange(a)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ce.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},t})(j.Component),Kae=(function(e){Fr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,a,s;r.list&&(r.list.scrollTop=(s=r.centerLi&&t.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((a=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&a!==void 0?a:0):r.list.clientHeight,r.centerLi))!==null&&s!==void 0?s:0)})},r.handleClick=function(n){var a,s;(r.props.minTime||r.props.maxTime)&&UE(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&HE(n,r.props)||(s=(a=r.props).onChange)===null||s===void 0||s.call(a,n)},r.isSelectedTime=function(n){var a=Cl(r.props.selected);return a&&aI(a,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&UE(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&HE(n,r.props)},r.liClasses=function(n){var a,s=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&s.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&s.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(Hr(n)*3600+Ur(n)*60+Ds(n))%(((a=r.props.intervals)!==null&&a!==void 0?a:t.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},r.handleOnKeyDown=function(n,a){var s,c;n.key===Se.Space&&(n.preventDefault(),n.key=Se.Enter),(n.key===Se.ArrowUp||n.key===Se.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===Se.ArrowDown||n.key===Se.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===Se.Enter&&r.handleClick(a),(c=(s=r.props).handleOnKeyDown)===null||c===void 0||c.call(s,n)},r.renderTimes=function(){for(var n,a=[],s=typeof r.props.format=="string"?r.props.format:"p",c=(n=r.props.intervals)!==null&&n!==void 0?n:t.defaultProps.intervals,u=Cl(r.props.selected)||Cl(r.props.openToDate)||vt(),f=Yu(u),m=r.props.injectTimes&&r.props.injectTimes.sort(function(y,C){return y.getTime()-C.getTime()}),h=60*Lae(u),v=h/c,x=0;x<v;x++){var b=hd(f,x*c);if(a.push(b),m){var S=Rae(f,b,x,c,m);a=a.concat(S)}}var w=a.reduce(function(y,C){return C.getTime()<=u.getTime()?C:y},a[0]);return a.map(function(y){return ce.createElement("li",{key:y.valueOf(),onClick:r.handleClick.bind(r,y),className:r.liClasses(y),ref:function(C){y===w&&(r.centerLi=C)},onKeyDown:function(C){r.handleOnKeyDown(C,y)},tabIndex:y===w?0:-1,role:"option","aria-selected":r.isSelectedTime(y)?"true":void 0,"aria-disabled":r.isDisabledTime(y)?"true":void 0},Ht(y,s,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?ce.createElement(ce.Fragment,null):ce.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},ce.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var r=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(n))},t.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var r=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==r&&this.setState({height:r})}},t.prototype.render=function(){var r=this,n,a=this.state.height;return ce.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ce.createElement("div",{className:"react-datepicker__time"},ce.createElement("div",{className:"react-datepicker__time-box"},ce.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){r.list=s},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},t})(j.Component),t_=3,Wae=(function(e){Fr(t,e);function t(r){var n=e.call(this,r)||this;return n.YEAR_REFS=$a([],Array(n.props.yearItemNumber),!0).map(function(){return j.createRef()}),n.isDisabled=function(a){return Qn(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return pj(a,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var a;return(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection},n.updateFocusOnPaginate=function(a){var s=function(){var c,u;(u=(c=n.YEAR_REFS[a])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(s)},n.handleYearClick=function(a,s){n.props.onDayClick&&n.props.onDayClick(a,s)},n.handleYearNavigation=function(a,s){var c,u,f,m,h=n.props,v=h.date,x=h.yearItemNumber;if(!(v===void 0||x===void 0)){var b=Si(v,x).startPeriod;n.isDisabled(s)||n.isExcluded(s)||((u=(c=n.props).setPreSelection)===null||u===void 0||u.call(c,s),a-b<0?n.updateFocusOnPaginate(x-(b-a)):a-b>=x?n.updateFocusOnPaginate(Math.abs(x-(a-b))):(m=(f=n.YEAR_REFS[a-b])===null||f===void 0?void 0:f.current)===null||m===void 0||m.focus())}},n.isSameDay=function(a,s){return ut(a,s)},n.isCurrentYear=function(a){return a===lt(vt())},n.isRangeStart=function(a){return n.props.startDate&&n.props.endDate&&Pa(Ta(vt(),a),n.props.startDate)},n.isRangeEnd=function(a){return n.props.startDate&&n.props.endDate&&Pa(Ta(vt(),a),n.props.endDate)},n.isInRange=function(a){return Tm(a,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(a){var s=n.props,c=s.selectsStart,u=s.selectsEnd,f=s.selectsRange,m=s.startDate,h=s.endDate;return!(c||u||f)||!n.selectingDate()?!1:c&&h?Tm(a,n.selectingDate(),h):u&&m||f&&m&&!h?Tm(a,m,n.selectingDate()):!1},n.isSelectingRangeStart=function(a){var s;if(!n.isInSelectingRange(a))return!1;var c=n.props,u=c.startDate,f=c.selectsStart,m=Ta(vt(),a);return f?Pa(m,(s=n.selectingDate())!==null&&s!==void 0?s:null):Pa(m,u??null)},n.isSelectingRangeEnd=function(a){var s;if(!n.isInSelectingRange(a))return!1;var c=n.props,u=c.endDate,f=c.selectsEnd,m=c.selectsRange,h=Ta(vt(),a);return f||m?Pa(h,(s=n.selectingDate())!==null&&s!==void 0?s:null):Pa(h,u??null)},n.isKeyboardSelected=function(a){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var s=n.props,c=s.minDate,u=s.maxDate,f=s.excludeDates,m=s.includeDates,h=s.filterDate,v=s.selected,x=Vu(Ta(n.props.date,a)),b=(c||u||f||m||h)&&op(a,n.props),S=!!v&&ut(x,Vu(v)),w=ut(x,Vu(n.props.preSelection));return!n.props.inline&&!S&&w&&!b}},n.isSelectedYear=function(a){var s=n.props,c=s.selectsMultiple,u=s.selected,f=s.selectedDates;return c?f?.some(function(m){return a===lt(m)}):!!u&&a===lt(u)},n.onYearClick=function(a,s){var c=n.props.date;c!==void 0&&n.handleYearClick(Vu(Ta(c,s)),a)},n.onYearKeyDown=function(a,s){var c,u,f=a.key,m=n.props,h=m.date,v=m.yearItemNumber,x=m.handleOnKeyDown;if(f!==Se.Tab&&a.preventDefault(),!n.props.disabledKeyboardNavigation)switch(f){case Se.Enter:if(n.props.selected==null)break;n.onYearClick(a,s),(u=(c=n.props).setPreSelection)===null||u===void 0||u.call(c,n.props.selected);break;case Se.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(s+1,pa(n.props.preSelection,1));break;case Se.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(s-1,Ps(n.props.preSelection,1));break;case Se.ArrowUp:{if(h===void 0||v===void 0||n.props.preSelection==null)break;var b=Si(h,v).startPeriod,S=t_,w=s-S;if(w<b){var y=v%S;s>=b&&s<b+y?S=y:S+=y,w=s-S}n.handleYearNavigation(w,Ps(n.props.preSelection,S));break}case Se.ArrowDown:{if(h===void 0||v===void 0||n.props.preSelection==null)break;var C=Si(h,v).endPeriod,S=t_,w=s+S;if(w>C){var y=v%S;s<=C&&s>C-y?S=y:S+=y,w=s+S}n.handleYearNavigation(w,pa(n.props.preSelection,S));break}}x&&x(a)},n.getYearClassNames=function(a){var s=n.props,c=s.date,u=s.disabled,f=s.minDate,m=s.maxDate,h=s.excludeDates,v=s.includeDates,x=s.filterDate,b=s.yearClassName;return nt("react-datepicker__year-text","react-datepicker__year-".concat(a),c?b?.(Ta(c,a)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(a),"react-datepicker__year-text--disabled":(f||m||h||v||x||u)&&op(a,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(a),"react-datepicker__year-text--range-start":n.isRangeStart(a),"react-datepicker__year-text--range-end":n.isRangeEnd(a),"react-datepicker__year-text--in-range":n.isInRange(a),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(a),"react-datepicker__year-text--today":n.isCurrentYear(a)})},n.getYearTabIndex=function(a){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var s=lt(n.props.preSelection),c=op(a,n.props);return a===s&&!c?"0":"-1"},n.getYearContent=function(a){return n.props.renderYearContent?n.props.renderYearContent(a):a},n}return t.prototype.render=function(){var r=this,n=[],a=this.props,s=a.date,c=a.yearItemNumber,u=a.onYearMouseEnter,f=a.onYearMouseLeave;if(s===void 0)return null;for(var m=Si(s,c),h=m.startPeriod,v=m.endPeriod,x=function(w){n.push(ce.createElement("div",{ref:b.YEAR_REFS[w-h],onClick:function(y){r.onYearClick(y,w)},onKeyDown:function(y){iI(y)&&(y.preventDefault(),y.key=Se.Enter),r.onYearKeyDown(y,w)},tabIndex:Number(b.getYearTabIndex(w)),className:b.getYearClassNames(w),onMouseEnter:b.props.usePointerEvent?void 0:function(y){return u(y,w)},onPointerEnter:b.props.usePointerEvent?function(y){return u(y,w)}:void 0,onMouseLeave:b.props.usePointerEvent?void 0:function(y){return f(y,w)},onPointerLeave:b.props.usePointerEvent?function(y){return f(y,w)}:void 0,key:w,"aria-current":b.isCurrentYear(w)?"date":void 0},b.getYearContent(w)))},b=this,S=h;S<=v;S++)x(S);return ce.createElement("div",{className:"react-datepicker__year"},ce.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},t})(j.Component);function Qae(e,t,r,n){for(var a=[],s=0;s<2*t+1;s++){var c=e+t-s,u=!0;r&&(u=lt(r)<=c),n&&u&&(u=lt(n)>=c),u&&a.push(c)}return a}var Xae=(function(e){Fr(t,e);function t(r){var n=e.call(this,r)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(u,f){var m;switch(f.key){case"Enter":f.preventDefault(),n.onChange(u);break;case"Escape":f.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{f.preventDefault();var h=u+(f.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[h]&&((m=n.yearOptionButtonsRef[h])===null||m===void 0||m.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var u=n.props.year,f=n.state.yearsList.map(function(v){return ce.createElement("div",{ref:function(x){n.yearOptionButtonsRef[v]=x,v===u&&x?.focus()},role:"button",tabIndex:0,className:u===v?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:v,onClick:n.onChange.bind(n,v),onKeyDown:n.handleOptionKeyDown.bind(n,v),"aria-selected":u===v?"true":void 0},u===v?ce.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",v)}),m=n.props.minDate?lt(n.props.minDate):null,h=n.props.maxDate?lt(n.props.maxDate):null;return(!h||!n.state.yearsList.find(function(v){return v===h}))&&f.unshift(ce.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},ce.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!m||!n.state.yearsList.find(function(v){return v===m}))&&f.push(ce.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},ce.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),f},n.onChange=function(u){n.props.onChange(u)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(u){var f=n.state.yearsList.map(function(m){return m+u});n.setState({yearsList:f})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=r.yearDropdownItemNumber,s=r.scrollableYearDropdown,c=a||(s?10:5);return n.state={yearsList:Qae(n.props.year,c,n.props.minDate,n.props.maxDate)},n.dropdownRef=j.createRef(),n}return t.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,a=n?n.find(function(s){return s.ariaSelected}):null;r.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},t.prototype.render=function(){var r=nt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ce.createElement(Nv,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),Zae=(function(e){Fr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?lt(r.props.minDate):1900,a=r.props.maxDate?lt(r.props.maxDate):2100,s=[],c=n;c<=a;c++)s.push(ce.createElement("option",{key:c,value:c},c));return s},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return ce.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return ce.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},ce.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ce.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return ce.createElement(Xae,rt({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,a){var s;(s=r.onSelect)===null||s===void 0||s.call(r,n,a),r.setOpen()},r.onSelect=function(n,a){var s,c;(c=(s=r.props).onSelect)===null||c===void 0||c.call(s,n,a)},r.setOpen=function(){var n,a;(a=(n=r.props).setOpen)===null||a===void 0||a.call(n,!0)},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ce.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},t})(j.Component),Jae=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],sI="react-datepicker-ignore-onclickoutside",eie=function(e){var t=(e.className||"").split(/\s+/);return Jae.some(function(r){return t.indexOf(r)>=0})},tie=(function(e){Fr(t,e);function t(r){var n=e.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(a){n.props.onClickOutside(a)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(a){var s,c;eie(a.target)&&((c=(s=n.props).onDropdownFocus)===null||c===void 0||c.call(s,a))},n.getDateInView=function(){var a=n.props,s=a.preSelection,c=a.selected,u=a.openToDate,f=rI(n.props),m=nI(n.props),h=vt(),v=u||c||s;return v||(f&&Ba(h,f)?f:m&&Mi(h,m)?m:h)},n.increaseMonth=function(){n.setState(function(a){var s=a.date;return{date:xa(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(a){var s=a.date;return{date:El(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(a,s,c){n.props.onSelect(a,s,c),n.props.setPreSelection&&n.props.setPreSelection(a)},n.handleDayMouseEnter=function(a){n.setState({selectingDate:a}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(a,s){n.setState({selectingDate:Ta(vt(),s)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(a,s)},n.handleYearMouseLeave=function(a,s){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(a,s)},n.handleYearChange=function(a){var s,c,u,f;(c=(s=n.props).onYearChange)===null||c===void 0||c.call(s,a),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(a),(f=(u=n.props).setOpen)===null||f===void 0||f.call(u,!0)),n.props.setPreSelection&&n.props.setPreSelection(a)},n.getEnabledPreSelectionDateForMonth=function(a){if(!Qn(a,n.props))return a;for(var s=Di(a),c=Sae(a),u=Pee(c,s),f=null,m=0;m<=u;m++){var h=ma(s,m);if(!Qn(h,n.props)){f=h;break}}return f},n.handleMonthChange=function(a){var s,c,u,f=(s=n.getEnabledPreSelectionDateForMonth(a))!==null&&s!==void 0?s:a;n.handleCustomMonthChange(f),n.props.adjustDateOnChange&&(n.props.onSelect(f),(u=(c=n.props).setOpen)===null||u===void 0||u.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(f)},n.handleCustomMonthChange=function(a){var s,c;(c=(s=n.props).onMonthChange)===null||c===void 0||c.call(s,a),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(a){n.handleYearChange(a),n.handleMonthChange(a)},n.changeYear=function(a){n.setState(function(s){var c=s.date;return{date:Ta(c,Number(a))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(a){n.setState(function(s){var c=s.date;return{date:Mn(c,Number(a))}},function(){var s,c;n.handleMonthChange(n.state.date),(c=(s=n.props).onMonthSelectedInChange)===null||c===void 0||c.call(s,0)})},n.changeMonthYear=function(a){n.setState(function(s){var c=s.date;return{date:Ta(Mn(c,fn(a)),lt(a))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(a,s){if(a===void 0&&(a=n.state.date),s===void 0&&(s=0),!dn(a))return[];var c=n.props.disabled,u=ks(a,n.props.locale,n.props.calendarStartDay),f=[];return n.props.showWeekNumbers&&f.push(ce.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(c?"react-datepicker__day-name--disabled":""),role:"columnheader"},ce.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),ce.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),f.concat([0,1,2,3,4,5,6].map(function(m){var h=ma(u,m),v=n.formatWeekday(h,n.props.locale),x=Ht(h,"EEEE",n.props.locale),b=n.props.weekDayClassName?n.props.weekDayClassName(h):void 0;if(n.props.renderCustomDayName){var S=n.props.renderCustomDayName({day:h,shortName:v,fullName:x,locale:n.props.locale,customDayNameCount:s});return ce.createElement("div",{key:m,role:"columnheader",className:nt("react-datepicker__day-name",b,c?"react-datepicker__day-name--disabled":"")},S)}return ce.createElement("div",{key:m,role:"columnheader",className:nt("react-datepicker__day-name",b,c?"react-datepicker__day-name--disabled":"")},ce.createElement("span",{className:"react-datepicker__sr-only"},x),ce.createElement("span",{"aria-hidden":"true"},v))}))},n.formatWeekday=function(a,s){return n.props.formatWeekDay?Cae(a,n.props.formatWeekDay,s):n.props.useWeekdaysShort?Mae(a,s):Aae(a,s)},n.decreaseYear=function(){n.setState(function(a){var s,c=a.date;return{date:Ps(c,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var a,s,c;if(!n.props.renderCustomHeader){var u=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,f=n.props.showPreviousMonths?u-1:0,m=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:f,h=El(n.state.date,m),v;switch(!0){case n.props.disabled:v=!0;break;case n.props.showMonthYearPicker:v=GE(n.state.date,n.props);break;case n.props.showYearPicker:v=Oae(n.state.date,n.props);break;case n.props.showQuarterYearPicker:v=Eae(n.state.date,n.props);break;default:v=YE(h,n.props);break}if(!(!((c=n.props.forceShowMonthNavigation)!==null&&c!==void 0?c:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&v||n.props.showTimeSelectOnly)){var x=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],b=["react-datepicker__navigation","react-datepicker__navigation--previous"],S=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(S=n.decreaseYear),v&&n.props.showDisabledMonthNavigation&&(b.push("react-datepicker__navigation--previous--disabled"),S=void 0);var w=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,y=n.props,C=y.previousMonthButtonLabel,M=C===void 0?t.defaultProps.previousMonthButtonLabel:C,A=y.previousYearButtonLabel,_=A===void 0?t.defaultProps.previousYearButtonLabel:A,E=n.props,T=E.previousMonthAriaLabel,P=T===void 0?typeof M=="string"?M:"Previous Month":T,O=E.previousYearAriaLabel,L=O===void 0?typeof _=="string"?_:"Previous Year":O;return ce.createElement("button",{type:"button",className:b.join(" "),onClick:S,onKeyDown:n.props.handleOnKeyDown,"aria-label":w?L:P},ce.createElement("span",{className:x.join(" ")},w?_:M))}}},n.increaseYear=function(){n.setState(function(a){var s,c=a.date;return{date:pa(c,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var a;if(!n.props.renderCustomHeader){var s;switch(!0){case n.props.disabled:s=!0;break;case n.props.showMonthYearPicker:s=KE(n.state.date,n.props);break;case n.props.showYearPicker:s=Tae(n.state.date,n.props);break;case n.props.showQuarterYearPicker:s=_ae(n.state.date,n.props);break;default:s=VE(n.state.date,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&s||n.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var f=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(f=n.increaseYear),s&&n.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),f=void 0);var m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,h=n.props,v=h.nextMonthButtonLabel,x=v===void 0?t.defaultProps.nextMonthButtonLabel:v,b=h.nextYearButtonLabel,S=b===void 0?t.defaultProps.nextYearButtonLabel:b,w=n.props,y=w.nextMonthAriaLabel,C=y===void 0?typeof x=="string"?x:"Next Month":y,M=w.nextYearAriaLabel,A=M===void 0?typeof S=="string"?S:"Next Year":M;return ce.createElement("button",{type:"button",className:c.join(" "),onClick:f,onKeyDown:n.props.handleOnKeyDown,"aria-label":m?A:C},ce.createElement("span",{className:u.join(" ")},m?S:x))}}},n.renderCurrentMonth=function(a){a===void 0&&(a=n.state.date);var s=["react-datepicker__current-month"];return n.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),ce.createElement("h2",{className:s.join(" ")},dn(a)?Ht(a,n.props.dateFormat,n.props.locale):"")},n.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showYearDropdown||a))return ce.createElement(Zae,rt({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:lt(n.state.date)}))},n.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthDropdown||a))return ce.createElement(Uae,rt({},t.defaultProps,n.props,{month:fn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthYearDropdown||a))return ce.createElement(Gae,rt({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(a){n.props.onSelect(BE(),a),n.props.setPreSelection&&n.props.setPreSelection(BE())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return ce.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(a,s){return s===void 0&&(s=0),ce.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(a,s))},n.renderDefaultHeader=function(a){var s=a.monthDate,c=a.i,u=ce.createElement("div",{className:nt("react-datepicker__header",{"react-datepicker__header--has-time-select":n.props.showTimeSelect,"react-datepicker__header--middle":n.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":n.props.monthHeaderPosition==="bottom"})},n.renderCurrentMonth(s),ce.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(c!==0),n.renderMonthYearDropdown(c!==0),n.renderYearDropdown(c!==0)));return n.props.monthHeaderPosition==="top"?u:ce.createElement("div",{className:"react-datepicker__header-wrapper"},n.renderPreviousButton()||null,n.renderNextButton()||null,u)},n.renderCustomHeader=function(a){var s,c,u=a.monthDate,f=a.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var m=n.props,h=m.showYearPicker,v=m.yearItemNumber,x;if(h){var b=Si(u,v),S=b.startPeriod,w=b.endPeriod;x={startYear:S,endYear:w}}var y=YE(n.state.date,n.props),C=VE(n.state.date,n.props),M=GE(n.state.date,n.props),A=KE(n.state.date,n.props);return ce.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(c=(s=n.props).renderCustomHeader)===null||c===void 0?void 0:c.call(s,rt(rt(rt({},n.state),h&&{visibleYearsRange:x}),{customHeaderCount:f,monthDate:u,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:y,nextMonthButtonDisabled:C,prevYearButtonDisabled:M,nextYearButtonDisabled:A})))},n.renderYearHeader=function(a){var s=a.monthDate,c=n.props,u=c.showYearPicker,f=c.yearItemNumber,m=f===void 0?t.defaultProps.yearItemNumber:f,h=Si(s,m),v=h.startPeriod,x=h.endPeriod;return ce.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(v," - ").concat(x):lt(s))},n.renderHeader=function(a){var s=a.monthDate,c=a.i,u=c===void 0?0:c,f={monthDate:s,i:u};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(f);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(f);default:return n.renderDefaultHeader(f)}},n.renderMonths=function(){var a,s;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var c=[],u=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,f=n.props.showPreviousMonths?u-1:0,m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?pa(n.state.date,f):El(n.state.date,f),h=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:f,v=0;v<u;++v){var x=v-h+f,b=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?pa(m,x):xa(m,x),S="month-".concat(v),w=v<u-1,y=v>0;c.push(ce.createElement("div",{key:S,ref:function(C){n.monthContainer=C??void 0},className:"react-datepicker__month-container"},n.props.monthHeaderPosition==="top"&&n.renderHeader({monthDate:b,i:v}),ce.createElement(qae,rt({},t.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:b,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:v,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:w,monthShowsDuplicateDaysStart:y,dayNamesHeader:n.renderDayNamesHeader(b,v),monthHeader:n.props.monthHeaderPosition==="middle"?n.renderHeader({monthDate:b,i:v}):void 0,monthFooter:n.props.monthHeaderPosition==="bottom"?n.renderHeader({monthDate:b,i:v}):void 0}))))}return c}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return ce.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),ce.createElement(Wae,rt({},t.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return ce.createElement(Kae,rt({},t.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var a,s;if(n.props.showTimeInput){if(n.props.selectsRange){var c=n.props,u=c.startDate,f=c.endDate,m=u?new Date(u):void 0,h=m&&dn(m)&&!!u,v=h?"".concat(Io(m.getHours()),":").concat(Io(m.getMinutes())):"",x=f?new Date(f):void 0,b=x&&dn(x)&&!!f,S=b?"".concat(Io(x.getHours()),":").concat(Io(x.getMinutes())):"";return ce.createElement(ce.Fragment,null,ce.createElement(kb,rt({},t.defaultProps,n.props,{date:m,timeString:v,onChange:function(M){var A,_;(_=(A=n.props).onTimeChange)===null||_===void 0||_.call(A,M,"start")},timeInputLabel:((a=n.props.timeInputLabel)!==null&&a!==void 0?a:"Time")+" (Start)"})),ce.createElement(kb,rt({},t.defaultProps,n.props,{date:x,timeString:S,onChange:function(M){var A,_;(_=(A=n.props).onTimeChange)===null||_===void 0||_.call(A,M,"end")},timeInputLabel:((s=n.props.timeInputLabel)!==null&&s!==void 0?s:"Time")+" (End)"})))}var w=n.props.selected?new Date(n.props.selected):void 0,y=w&&dn(w)&&!!n.props.selected,C=y?"".concat(Io(w.getHours()),":").concat(Io(w.getMinutes())):"";return ce.createElement(kb,rt({},t.defaultProps,n.props,{date:w,timeString:C,onChange:function(M){var A,_;(_=(A=n.props).onTimeChange)===null||_===void 0||_.call(A,M)}}))}},n.renderAriaLiveRegion=function(){var a;if(!dn(n.state.date))return ce.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var s=Si(n.state.date,(a=n.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber),c=s.startPeriod,u=s.endPeriod,f;return n.props.showYearPicker?f="".concat(c," - ").concat(u):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?f=lt(n.state.date):f="".concat(mj(fn(n.state.date),n.props.locale)," ").concat(lt(n.state.date)),ce.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&f)},n.renderChildren=function(){if(n.props.children)return ce.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=j.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:sI,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:qd,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())},t.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&dn(this.props.preSelection)&&(!ut(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var a=!Kr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!ut(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var r=this.props.container||vae;return ce.createElement(Nv,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ce.createElement("div",{style:{display:"contents"},ref:this.containerRef},ce.createElement(r,{className:nt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t})(j.Component),rie=function(e){var t=e.icon,r=e.className,n=r===void 0?"":r,a=e.onClick,s="react-datepicker__calendar-icon";if(typeof t=="string")return ce.createElement("i",{className:"".concat(s," ").concat(t," ").concat(n),"aria-hidden":"true",onClick:a});if(ce.isValidElement(t)){var c=t;return ce.cloneElement(c,{className:"".concat(c.props.className||""," ").concat(s," ").concat(n),onClick:function(u){typeof c.props.onClick=="function"&&c.props.onClick(u),typeof a=="function"&&a(u)}})}return ce.createElement("svg",{className:"".concat(s," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},ce.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},lI=(function(e){Fr(t,e);function t(r){var n=e.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return hz.createPortal(this.props.children,this.el)},t})(j.Component),nie="[tabindex], a, button, input, select, textarea",aie=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},oI=(function(e){Fr(t,e);function t(r){var n=e.call(this,r)||this;return n.getTabChildren=function(){var a;return Array.prototype.slice.call((a=n.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(nie),1,-1).filter(aie)},n.handleFocusStart=function(){var a=n.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},n.handleFocusEnd=function(){var a=n.getTabChildren();a&&a.length>1&&a[0].focus()},n.tabLoopRef=j.createRef(),n}return t.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:t.defaultProps.enableTabLoop)?ce.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ce.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ce.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t})(j.Component);function iie(e){function t(r){var n,a=typeof r.hidePopper=="boolean"?r.hidePopper:!0,s=j.useRef(null),c=hae(rt({open:!a,whileElementsMounted:Gne,placement:r.popperPlacement,middleware:$a([rae({padding:15}),tae(10),nae({element:s})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),u=rt(rt({},r),{hidePopper:a,popperProps:rt(rt({},c),{arrowRef:s})});return ce.createElement(e,rt({},u))}return t.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),t}var sie=function(e){var t=e.className,r=e.wrapperClassName,n=e.hidePopper,a=n===void 0?!0:n,s=e.popperComponent,c=e.targetComponent,u=e.enableTabLoop,f=e.popperOnKeyDown,m=e.portalId,h=e.portalHost,v=e.popperProps,x=e.showArrow,b=e.popperTargetRef,S=e.monthHeaderPosition;j.useEffect(function(){b?.current&&v.refs.setPositionReference(b.current)},[b,v.refs]);var w=void 0;if(!a){var y=nt("react-datepicker-popper",!x&&"react-datepicker-popper-offset",S==="middle"&&"react-datepicker-popper--header-middle",S==="bottom"&&"react-datepicker-popper--header-bottom",t);w=ce.createElement(oI,{enableTabLoop:u},ce.createElement("div",{ref:v.refs.setFloating,style:v.floatingStyles,className:y,"data-placement":v.placement,onKeyDown:f},s,x&&ce.createElement(oae,{ref:v.arrowRef,context:v.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(w=j.createElement(e.popperContainer,{},w)),m&&!a&&(w=ce.createElement(lI,{portalId:m,portalHost:h},w));var C=nt("react-datepicker-wrapper",r);return ce.createElement(ce.Fragment,null,ce.createElement("div",{ref:v.refs.setReference,className:C},c),w)},lie=iie(sie);function r_(e,t){return e&&t?fn(e)!==fn(t)||lt(e)!==lt(t):e!==t}var _b="Date input not valid.",oie=(function(e){Fr(t,e);function t(r){var n=e.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){var a=n.props.timeZone,s=n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:vt();return a?zE(s,a):s},n.modifyHolidays=function(){var a;return(a=n.props.holidays)===null||a===void 0?void 0:a.reduce(function(s,c){var u=ul(c.date,"yyyy-MM-dd",void 0,!1);return u?$a($a([],s,!0),[rt(rt({},c),{date:u})],!1):s},[])},n.calcInitialState=function(){var a=n.props.timeZone,s=n.getPreSelection(),c=rI(n.props),u=nI(n.props),f=c&&Ba(s,Yu(c))?c:u&&Mi(s,$E(u))?u:s,m=n.props.selectsRange?n.props.startDate:n.props.selected;return m&&a&&(m=zE(m,a)),{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:m??f,highlightDates:WE(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var a,s=n.props,c=s.locale,u=s.startDate,f=s.endDate,m=s.rangeSeparator,h=s.selected,v=s.selectedDates,x=s.selectsMultiple,b=s.selectsRange,S=s.formatMultipleDates,w=s.value,y=(a=n.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,C=n.state.inputValue;if(typeof w=="string")return w;if(typeof C=="string")return C;if(b)return bae(u,f,{dateFormat:y,locale:c,rangeSeparator:m});if(x){if(S){var M=function(A){return un(A,{dateFormat:y,locale:c})};return S(v??[],M)}return yae(v??[],{dateFormat:y,locale:c})}return un(h,{dateFormat:y,locale:c})},n.resetHiddenStatus=function(){n.setState(rt(rt({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(rt(rt({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var a,s;(s=(a=n.input)===null||a===void 0?void 0:a.focus)===null||s===void 0||s.call(a,{preventScroll:!0})},n.setBlur=function(){var a,s;(s=(a=n.input)===null||a===void 0?void 0:a.blur)===null||s===void 0||s.call(a),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(a,s){s===void 0&&(s=!1),n.setState({open:a,preSelection:a&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:Ob},function(){a||n.setState(function(c){return{focused:s?c.focused:!1}},function(){!s&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Ua(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(a){var s,c,u=n.state.wasHidden,f=u?n.state.open:!0;u&&n.resetHiddenStatus(),n.state.preventFocus||((c=(s=n.props).onFocus)===null||c===void 0||c.call(s,a),f&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(rt(rt({},n.state),{inputValue:null}))},n.handleBlur=function(a){var s,c;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((c=(s=n.props).onBlur)===null||c===void 0||c.call(s,a));var u=n.state.inputValue;if(typeof u=="string"&&u.length>0){var f=/[a-zA-Z0-9]/.test(u);!f&&n.props.selected&&n.setSelected(null,void 0,!0)}n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(a){var s,c;(c=(s=n.props).onClickOutside)===null||c===void 0||c.call(s,a),!n.props.inline&&!a.defaultPrevented&&n.setOpen(!1),n.props.withPortal&&a.preventDefault()},n.handleChange=function(){for(var a,s,c,u,f,m,h,v,x=[],b=0;b<arguments.length;b++)x[b]=arguments[b];var S=x[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,x),!S||typeof S.isDefaultPrevented!="function"||S.isDefaultPrevented()))){n.setState({inputValue:S?.target instanceof HTMLInputElement?S.target.value:null,lastPreSelectChange:cie});var w=n.props,y=w.selectsRange,C=w.startDate,M=w.endDate,A=(a=n.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,_=(s=n.props.strictParsing)!==null&&s!==void 0?s:t.defaultProps.strictParsing,E=S?.target instanceof HTMLInputElement?S.target.value:"";if(y){var T=n.props.rangeSeparator,P=T.trim(),O=E.split(A.includes(P)?T:P,2).map(function(G){return G.trim()}),L=O[0],R=O[1],F=ul(L??"",A,n.props.locale,_),k=F?ul(R??"",A,n.props.locale,_):null,X=((c=Cl(C))===null||c===void 0?void 0:c.getTime())!==F?.getTime(),W=((u=Cl(M))===null||u===void 0?void 0:u.getTime())!==k?.getTime();if(!X&&!W||F&&Qn(F,n.props)||k&&Qn(k,n.props))return;F&&n.setState({preSelection:F}),(m=(f=n.props).onChange)===null||m===void 0||m.call(f,[F,k],S)}else{var Z=ul(E,A,n.props.locale,_,(h=n.props.selected)!==null&&h!==void 0?h:void 0);if(Z||!E)n.setSelected(Z,S,!0);else if(!n.props.inline){var B=gae(E,(v=n.state.preSelection)!==null&&v!==void 0?v:void 0);B&&(!n.props.minDate||!Ba(B,n.props.minDate))&&(!n.props.maxDate||!Mi(B,n.props.maxDate))&&n.setState({preSelection:B})}}}},n.handleSelect=function(a,s,c){var u;if(!n.props.readOnly){var f=n.props,m=f.selectsRange,h=f.startDate,v=f.endDate,x=f.locale,b=f.swapRange,S=(u=n.props.dateFormat)!==null&&u!==void 0?u:t.defaultProps.dateFormat,w=!m||h&&!v&&(b||!Db(a,h));if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&w&&n.sendFocusBackToInput(),n.props.onChangeRaw){var y=un(a,{dateFormat:S,locale:x});n.props.onChangeRaw(s,{date:a,formattedDate:y})}n.setSelected(a,s,!1,c),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(a):w&&n.setOpen(!1)}},n.setSelected=function(a,s,c,u){var f,m,h=n.props.timeZone,v=a;if(v&&h&&(v=bi(v,h)),n.props.showYearPicker){if(v!==null&&op(lt(v),n.props))return}else if(n.props.showMonthYearPicker){if(v!==null&&tI(v,n.props))return}else if(v!==null&&Qn(v,n.props))return;var x=n.props,b=x.onChange,S=x.selectsRange,w=x.startDate,y=x.endDate,C=x.selectsMultiple,M=x.selectedDates,A=x.minTime,_=x.swapRange;if(!Al(n.props.selected,v)||n.props.allowSameDay||S||C)if(v!==null&&(n.props.selected&&(!c||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(v=yi(v,{hour:Hr(n.props.selected),minute:Ur(n.props.selected),second:Ds(n.props.selected)})),!c&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&A&&(v=yi(v,{hour:A.getHours(),minute:A.getMinutes(),second:A.getSeconds()})),n.props.inline||n.setState({preSelection:v}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:u})),S){var E=b,T=!w&&!y,P=w&&!y,O=!w&&!!y,L=w&&y;T?E?.([v,null],s):P?v===null?E?.([null,null],s):Db(v,w)?E?.(_?[v,w]:[v,null],s):E?.([w,v],s):O&&(v&&Db(v,y)?E?.([v,y],s):E?.([v,null],s)),L&&E?.([v,null],s)}else if(C){var R=b;if(v!==null)if(!M?.length)R?.([v],s);else{var F=M.some(function(X){return ut(X,v)});if(F){var k=M.filter(function(X){return!ut(X,v)});R?.(k,s)}else R?.($a($a([],M,!0),[v],!1),s)}}else b?.(v,s);c||((m=(f=n.props).onSelect)===null||m===void 0||m.call(f,v,s),n.setState({inputValue:null}))},n.setPreSelection=function(a){if(!n.props.readOnly){var s=Ua(n.props.minDate),c=Ua(n.props.maxDate),u=!0;if(a){var f=Yu(a);if(s&&c)u=xl(a,n.props.minDate,n.props.maxDate);else if(s){var m=Yu(n.props.minDate);u=Mi(a,m)||Al(f,m)}else if(c){var h=$E(n.props.maxDate);u=Ba(a,h)||Al(f,h)}}u&&n.setState({preSelection:a})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(a,s){var c,u;if(!n.props.selectsMultiple){var f=n.props,m=f.selectsRange,h=f.startDate,v=f.endDate,x=f.onChange,b=f.timeZone;if(m){var S=x;if(s==="start"){if(h){var w=yi(h,{hour:Hr(a),minute:Ur(a)});n.setState({preSelection:w}),b&&(w=bi(w,b)),S?.([w,v?b?bi(v,b):v:null],void 0)}}else if(s==="end"){if(v){var y=yi(v,{hour:Hr(a),minute:Ur(a)});n.setState({preSelection:y}),b&&(y=bi(y,b)),S?.([h?b?bi(h,b):h:null,y],void 0)}}else{var C=h&&!v;if(C){var w=yi(h,{hour:Hr(a),minute:Ur(a)});n.setState({preSelection:w}),b&&(w=bi(w,b)),S?.([w,null],void 0)}else if(h&&v){var y=yi(v,{hour:Hr(a),minute:Ur(a)});n.setState({preSelection:y}),b&&(y=bi(y,b)),S?.([b?bi(h,b):h,y],void 0)}else{var M=yi(n.getPreSelection(),{hour:Hr(a),minute:Ur(a)});n.setState({preSelection:M})}}}else{var A=n.props.selected?n.props.selected:n.getPreSelection(),M=n.props.selected?a:yi(A,{hour:Hr(a),minute:Ur(a)});n.setState({preSelection:M}),M&&b&&(M=bi(M,b)),(u=(c=n.props).onChange)===null||u===void 0||u.call(c,M)}n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var a,s;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(s=(a=n.props).onInputClick)===null||s===void 0||s.call(a)},n.handleTimeOnlyArrowKey=function(a){var s,c,u,f,m=Cl(n.props.selected)||n.state.preSelection||vt(),h=(s=n.props.timeIntervals)!==null&&s!==void 0?s:30,v=(c=n.props.dateFormat)!==null&&c!==void 0?c:t.defaultProps.dateFormat,x=Array.isArray(v)?v[0]:v,b=Yu(m),S=Hr(m)*60+Ur(m),w=1440-h,y;if(a===Se.ArrowUp){var C=Math.max(0,S-h);y=hd(b,C)}else{var C=Math.min(w,S+h);y=hd(b,C)}var M=Ht(y,x||t.defaultProps.dateFormat,n.props.locale);if(n.setState({preSelection:y,inputValue:M}),!(n.props.selectsRange||n.props.selectsMultiple)){var A=n.props.selected?n.props.selected:n.getPreSelection(),_=n.props.selected?y:yi(A,{hour:Hr(y),minute:Ur(y)});(f=(u=n.props).onChange)===null||f===void 0||f.call(u,_),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){n.scrollToTimeOption(y)})}},n.handleTimeOnlyEnterKey=function(a){var s,c,u,f,m=a.target,h=m.value,v=(s=n.props.dateFormat)!==null&&s!==void 0?s:t.defaultProps.dateFormat,x=n.props.timeFormat||"p",b=n.state.preSelection||Cl(n.props.selected)||vt(),S=ul(h,v,n.props.locale,(c=n.props.strictParsing)!==null&&c!==void 0?c:!1,b),w=b;if(S&&dn(S))w=S;else{var y=((u=n.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(y instanceof HTMLElement){var C=(f=y.textContent)===null||f===void 0?void 0:f.trim();if(C){var M=ul(C,x,n.props.locale,!1,b);M&&dn(M)&&(w=M)}}}n.handleTimeChange(w),n.setOpen(!1),n.sendFocusBackToInput()},n.scrollToTimeOption=function(a){var s,c;if(!((s=n.calendar)===null||s===void 0)&&s.containerRef.current){for(var u=n.calendar.containerRef.current,f=Array.from(u.querySelectorAll(".react-datepicker__time-list-item")),m=null,h=1/0,v=n.props.timeFormat||"p",x=0,b=f;x<b.length;x++){var S=b[x],w=(c=S.textContent)===null||c===void 0?void 0:c.trim();if(w){var y=ul(w,v,n.props.locale,!1,a);if(y&&dn(y)){if(aI(y,a)){m=S;break}var C=Math.abs(y.getTime()-a.getTime());C<h&&(h=C,m=S)}}}m&&(f.forEach(function(M){M.setAttribute("tabindex","-1")}),m.setAttribute("tabindex","0"),m.scrollIntoView({behavior:"smooth",block:"center"}))}},n.onInputKeyDown=function(a){var s,c,u,f,m,h;(c=(s=n.props).onKeyDown)===null||c===void 0||c.call(s,a);var v=a.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(v===Se.ArrowDown||v===Se.ArrowUp||v===Se.Enter)&&((u=n.onInputClick)===null||u===void 0||u.call(n));return}if(n.state.open&&n.props.showTimeSelectOnly){if(v===Se.ArrowDown||v===Se.ArrowUp){a.preventDefault(),n.handleTimeOnlyArrowKey(v);return}if(v===Se.Enter){a.preventDefault(),n.handleTimeOnlyEnterKey(a);return}}if(n.state.open){if(v===Se.ArrowDown||v===Se.ArrowUp){a.preventDefault();var x=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',b=((f=n.calendar)===null||f===void 0?void 0:f.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(x);b instanceof HTMLElement&&b.focus({preventScroll:!0});return}var S=vt(n.state.preSelection);v===Se.Enter?(a.preventDefault(),a.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===Ob?(n.handleSelect(S,a),!n.props.shouldCloseOnSelect&&n.setPreSelection(S)):n.setOpen(!1)):v===Se.Escape?(a.preventDefault(),a.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):v===Se.Tab&&n.setOpen(!1),n.inputOk()||(h=(m=n.props).onInputError)===null||h===void 0||h.call(m,{code:1,msg:_b})}},n.onPortalKeyDown=function(a){var s=a.key;s===Se.Escape&&(a.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(a){var s,c,u,f,m,h,v=n.props,x=v.minDate,b=v.maxDate,S=v.disabledKeyboardNavigation,w=v.showWeekPicker,y=v.shouldCloseOnSelect,C=v.locale,M=v.calendarStartDay,A=v.adjustDateOnChange,_=v.inline;if((c=(s=n.props).onKeyDown)===null||c===void 0||c.call(s,a),!S){var E=a.key,T=a.shiftKey,P=vt(n.state.preSelection),O=function(F,k){var X=k;switch(F){case Se.ArrowRight:X=w?ch(k,1):ma(k,1);break;case Se.ArrowLeft:X=w?CE(k):Pre(k);break;case Se.ArrowUp:X=CE(k);break;case Se.ArrowDown:X=ch(k,1);break;case Se.PageUp:X=T?Ps(k,1):El(k,1);break;case Se.PageDown:X=T?pa(k,1):xa(k,1);break;case Se.Home:X=ks(k,C,M);break;case Se.End:X=Nae(k);break}return X},L=function(F,k){for(var X=40,W=F,Z=!1,B=0,G=O(F,k);!Z;){if(B>=X){G=k;break}x&&G<x&&(W=Se.ArrowRight,G=Qn(x,n.props)?O(W,G):x),b&&G>b&&(W=Se.ArrowLeft,G=Qn(b,n.props)?O(W,G):b),Qn(G,n.props)?((W===Se.PageUp||W===Se.Home)&&(W=Se.ArrowRight),(W===Se.PageDown||W===Se.End)&&(W=Se.ArrowLeft),G=O(W,G)):Z=!0,B++}return G};if(E===Se.Enter){a.preventDefault(),n.handleSelect(P,a),!y&&n.setPreSelection(P);return}else if(E===Se.Escape){a.preventDefault(),n.setOpen(!1),n.inputOk()||(f=(u=n.props).onInputError)===null||f===void 0||f.call(u,{code:1,msg:_b});return}var R=null;switch(E){case Se.ArrowLeft:case Se.ArrowRight:case Se.ArrowUp:case Se.ArrowDown:case Se.PageUp:case Se.PageDown:case Se.Home:case Se.End:R=L(E,P);break}if(!R){(h=(m=n.props).onInputError)===null||h===void 0||h.call(m,{code:1,msg:_b});return}a.preventDefault(),n.setState({lastPreSelectChange:Ob}),A&&n.setSelected(R),n.setPreSelection(R),_&&n.setState({shouldFocusDayInline:!0})}},n.onPopperKeyDown=function(a){var s=a.key;s===Se.Escape&&(a.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),n.sendFocusBackToInput();var s=n.props,c=s.selectsRange,u=s.onChange;u?.(c?[null,null]:null,a),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(a){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(a)&&n.setOpen(!1)},n.handleMonthSelectedInChange=function(a){n.setState({monthSelectedIn:a})},n.renderCalendar=function(){var a,s;return!n.props.inline&&!n.isCalendarOpen()?null:ce.createElement(tie,rt({showMonthYearDropdown:void 0,ref:function(c){n.calendar=c}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(a=n.props.dateFormatCalendar)!==null&&a!==void 0?a:t.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:Iae(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(s=n.props.dropdownMode)!==null&&s!==void 0?s:t.defaultProps.dropdownMode,onMonthSelectedInChange:n.handleMonthSelectedInChange}),n.props.children)},n.renderAriaLiveRegion=function(){var a,s=n.props.locale,c=(a=n.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,u=n.props.showTimeInput||n.props.showTimeSelect,f=u?"PPPPp":"PPPP",m;return n.props.selectsRange?m="Selected start date: ".concat(un(n.props.startDate,{dateFormat:f,locale:s}),". ").concat(n.props.endDate?"End date: "+un(n.props.endDate,{dateFormat:f,locale:s}):""):n.props.showTimeSelectOnly?m="Selected time: ".concat(un(n.props.selected,{dateFormat:c,locale:s})):n.props.showYearPicker?m="Selected year: ".concat(un(n.props.selected,{dateFormat:"yyyy",locale:s})):n.props.showMonthYearPicker?m="Selected month: ".concat(un(n.props.selected,{dateFormat:"MMMM yyyy",locale:s})):n.props.showQuarterYearPicker?m="Selected quarter: ".concat(un(n.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):m="Selected date: ".concat(un(n.props.selected,{dateFormat:f,locale:s})),ce.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},m)},n.renderDateInput=function(){var a,s,c,u,f,m,h,v=nt(n.props.className,(a={},a[n.props.outsideClickIgnoreClass||t.defaultProps.outsideClickIgnoreClass]=n.state.open,a)),x=n.props.customInput||ce.createElement("input",{type:"text"}),b=n.props.customInputRef||"ref",S={},w=(c=n.props["aria-describedby"])!==null&&c!==void 0?c:n.props.ariaDescribedBy,y=(u=n.props["aria-invalid"])!==null&&u!==void 0?u:n.props.ariaInvalid,C=(f=n.props["aria-label"])!==null&&f!==void 0?f:n.props.ariaLabel,M=(m=n.props["aria-labelledby"])!==null&&m!==void 0?m:n.props.ariaLabelledBy,A=(h=n.props["aria-required"])!==null&&h!==void 0?h:n.props.ariaRequired;return w!=null&&(S["aria-describedby"]=w),y!=null&&(S["aria-invalid"]=y),C!=null&&(S["aria-label"]=C),M!=null&&(S["aria-labelledby"]=M),A!=null&&(S["aria-required"]=A),j.cloneElement(x,rt((s={},s[b]=function(_){n.input=_},s.value=n.getInputValue(),s.onBlur=n.handleBlur,s.onChange=n.handleChange,s.onClick=n.onInputClick,s.onFocus=n.handleFocus,s.onKeyDown=n.onInputKeyDown,s.id=n.props.id,s.name=n.props.name,s.form=n.props.form,s.autoFocus=n.props.autoFocus,s.placeholder=n.props.placeholderText,s.disabled=n.props.disabled,s.autoComplete=n.props.autoComplete,s.className=nt(x.props.className,v),s.title=n.props.title,s.readOnly=n.props.readOnly,s.required=n.props.required,s.tabIndex=n.props.tabIndex,s),S))},n.renderClearButton=function(){var a=n.props,s=a.isClearable,c=a.disabled,u=a.selected,f=a.startDate,m=a.endDate,h=a.clearButtonTitle,v=a.clearButtonClassName,x=v===void 0?"":v,b=a.ariaLabelClose,S=b===void 0?"Close":b,w=a.selectedDates,y=a.readOnly;return s&&!y&&(u!=null||f!=null||m!=null||w?.length)?ce.createElement("button",{type:"button",className:nt("react-datepicker__close-icon",x,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":S,onClick:n.onClearClick,title:h,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:sI,readOnly:!1,rangeSeparator:J3,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:qd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(r,n){var a,s,c,u;this.props.selectsRange&&r_(r.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):r_(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&n.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:WE(this.props.highlightDates)}),!n.focused&&!Al(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((s=(a=this.props).onCalendarOpen)===null||s===void 0||s.call(a)),n.open===!0&&this.state.open===!1&&((u=(c=this.props).onCalendarClose)===null||u===void 0||u.call(c)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,a=r.icon,s=r.calendarIconClassname,c=r.calendarIconClassName,u=r.toggleCalendarOnIconClick,f=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ce.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&ce.createElement(rie,rt({icon:a,className:nt(c,!c&&s,f&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?ce.createElement(oI,{enableTabLoop:this.props.enableTabLoop},ce.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=ce.createElement(lI,rt({portalId:this.props.portalId},this.props),n)),ce.createElement(ce.Fragment,null,this.renderInputContainer(),n)}return ce.createElement(lie,rt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},t})(j.Component),cie="input",Ob="navigate";function fr({open:e,onClose:t,title:r,children:n,wide:a}){const s=j.useRef(null);return j.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),j.useEffect(()=>{function c(u){u.key==="Escape"&&t()}return e&&window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[e,t]),e?l.jsxs("div",{ref:s,className:"fixed inset-0 z-50 flex items-start justify-center pt-[5vh] sm:pt-[10vh] px-4",onClick:c=>{c.target===s.current&&t()},children:[l.jsx("div",{className:"fixed inset-0 bg-black/60"}),l.jsxs("div",{className:`relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full ${a?"max-w-2xl":"max-w-lg"} max-h-[80vh] flex flex-col animate-fade-in`,children:[l.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-[var(--border-light)] shrink-0",children:[l.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:r}),l.jsx("button",{onClick:t,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:l.jsx(Pl,{size:16})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:n})]})]}):null}function oe({label:e,required:t,error:r,children:n}){return l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:[e,t&&l.jsx("span",{className:"text-rose-500 ml-0.5",children:"*"})]}),n,r&&l.jsx("p",{className:"text-xs text-rose-500 mt-1",children:r})]})}function Ce({value:e,onChange:t,placeholder:r,type:n="text",sensitive:a,...s}){const{masked:c}=Za();return l.jsx("input",{type:n,value:e,onChange:u=>t(u.target.value),placeholder:r,className:`w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors ${a&&c?"sensitive-blur":""}`,...s})}function Va({value:e,onChange:t,...r}){const n=e?new Date(e.length>10?e:e+"T00:00:00"):null;function a(s){if(!s){t("");return}const c=s.getFullYear(),u=String(s.getMonth()+1).padStart(2,"0"),f=String(s.getDate()).padStart(2,"0");t(`${c}-${u}-${f}`)}return l.jsxs("div",{className:"relative cf-datepicker",children:[l.jsx(oie,{selected:n,onChange:a,dateFormat:"dd MMM yyyy",maxDate:new Date,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",placeholderText:"Select date",className:"w-full px-3 py-2 pr-9 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",...r}),l.jsx(EF,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function Ye({value:e,onChange:t,options:r,placeholder:n}){return l.jsxs("select",{value:e,onChange:a=>t(a.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",children:[n&&l.jsx("option",{value:"",children:n}),r.map(a=>l.jsx("option",{value:a.value,children:a.label},a.value))]})}function cc({value:e,onChange:t,placeholder:r,rows:n=3}){return l.jsx("textarea",{value:e,onChange:a=>t(a.target.value),placeholder:r,rows:n,className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors resize-none"})}function uie({checked:e,onChange:t,label:r}){return l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e,onChange:n=>t(n.target.checked),className:"w-4 h-4 rounded border-[var(--border-input)] bg-[var(--bg-input)] text-violet-500 focus:ring-violet-500"}),l.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:r})]})}function Zr({onCancel:e,onSubmit:t,submitLabel:r="Save",loading:n}){return l.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 mt-4 border-t border-[var(--border-light)]",children:[l.jsx("button",{onClick:e,disabled:n,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),l.jsxs("button",{onClick:t,disabled:n,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[n&&l.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),n?"Saving...":r]})]})}function Yi({onClick:e,label:t="Deactivate"}){return l.jsx("button",{onClick:e,className:"px-4 py-2 text-xs font-semibold text-rose-400 hover:text-rose-300 hover:bg-rose-500/10 rounded-lg transition-colors",children:t})}const n_=[{key:"sip",label:"Adjust SIP",icon:q8,color:"text-blue-400",dimColor:"text-blue-400/60 hover:text-blue-400",activeBg:"bg-blue-500/20 border border-blue-500/40"},{key:"lumpsum",label:"Lumpsum",icon:v8,color:"text-emerald-400",dimColor:"text-emerald-400/60 hover:text-emerald-400",activeBg:"bg-emerald-500/20 border border-emerald-500/40"},{key:"buysell",label:"Buy / Sell",icon:SF,color:"text-amber-400",dimColor:"text-amber-400/60 hover:text-amber-400",activeBg:"bg-amber-500/20 border border-amber-500/40"}];function bl(e){return e>=1e5?`${(e/1e5).toFixed(1)}L`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${Math.round(e)}`}function hj({exitOnly:e}){return l.jsx("div",{className:"py-4 text-center space-y-1",children:e?l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Only exit candidates here  use ",l.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab"]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No target allocations set"}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Use ",l.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund first"]})]})})}function die({portfolio:e,holdings:t,totalValue:r}){const n=e.sipTarget||0,a=(e.rebalanceThreshold||.05)*100,s=t.some(x=>x.targetAllocationPct>0),c=t.some(x=>x.targetAllocationPct===0&&x.units>0);if(!s)return l.jsx(hj,{exitOnly:c});if(n<=0)return l.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"No SIP target set for this portfolio"});const u=t.filter(x=>x.targetAllocationPct>0).map(x=>{const b=r>0?x.currentValue/r*100:0,S=Math.abs(b-x.targetAllocationPct),w=S>a,C=x.targetAllocationPct/100*r-x.currentValue,M=x.targetAllocationPct/100*n;return{...x,currentPct:b,drift:S,drifted:w,gap:C,normalSIP:M}}),f=u.filter(x=>x.drifted&&x.gap>0);u.filter(x=>x.drifted&&x.gap<=0);const m=f.reduce((x,b)=>x+b.gap,0),h=u.map(x=>({...x,suggestedSIP:x.drifted&&x.gap>0&&m>0?x.gap/m*n:x.drifted&&x.gap<=0?0:x.normalSIP}));return u.some(x=>x.drifted)?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Funds drifted >",a.toFixed(0),"%: overweight  0, underweight  extra SIP. Others keep normal SIP."]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[l.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Normal SIP"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Rebalance SIP"})]})}),l.jsx("tbody",{children:h.map(x=>{const b=x.drifted&&x.gap<=0,S=x.drifted&&x.gap>0,w=!x.drifted;return l.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${w?"opacity-50":b?"opacity-60":""}`,children:[l.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:x.fundName}),l.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[l.jsxs("span",{className:b?"text-amber-400":S?"text-blue-400":"text-[var(--text-dim)]",children:[x.currentPct.toFixed(1),"%"]}),l.jsxs("span",{className:"text-[var(--text-dim)]",children:[" / ",x.targetAllocationPct.toFixed(1),"%"]})]}),l.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:bl(x.normalSIP)}),l.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:b?l.jsx("span",{className:"text-amber-400/70",children:"0"}):S?l.jsx("span",{className:"text-blue-400",children:bl(x.suggestedSIP)}):l.jsx("span",{className:"text-[var(--text-dim)]",children:bl(x.suggestedSIP)})})]},x.holdingId)})}),l.jsx("tfoot",{children:l.jsxs("tr",{className:"border-t border-[var(--border)]",children:[l.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),l.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:bl(n)}),l.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-blue-400 tabular-nums",children:bl(n)})]})})]})})]}):l.jsxs("p",{className:"text-xs text-[var(--text-dim)] py-2",children:["SIPs are balanced (within ",a.toFixed(0),"% threshold)"]})}function fie({portfolio:e,holdings:t,totalValue:r}){const[n,a]=j.useState("");(e.rebalanceThreshold||.05)*100;const s=t.some(w=>w.targetAllocationPct>0),c=t.some(w=>w.targetAllocationPct===0&&w.units>0);if(!s)return l.jsx(hj,{exitOnly:c});const u=t.filter(w=>w.targetAllocationPct>0).map(w=>{const y=r>0?w.currentValue/r*100:0;return{...w,currentPct:y}}),f=j.useMemo(()=>{if(r<=0||u.length===0)return 0;const w=u.filter(A=>{const _=A.targetAllocationPct/100*r;return A.currentValue<_});if(w.length===0)return 0;const y=w.reduce((A,_)=>A+_.targetAllocationPct,0);if(y>=100)return 0;const C=w.reduce((A,_)=>A+_.currentValue,0),M=(y/100*r-C)/(1-y/100);return M>0?Math.ceil(M/100)*100:0},[u,r]),m=Number(n)||e.lumpsumTarget||f,h=j.useMemo(()=>{const w=m>0?r+m:r,y=u.map(M=>{const A=M.targetAllocationPct/100*w,_=m>0?Math.max(0,A-M.currentValue):0,E=w>0?(M.currentValue+_)/w*100:0,T=M.currentValue>A+1;return{...M,invest:_,newPct:E,isOverweight:T}}),C=y.reduce((M,A)=>M+A.invest,0);if(m>0&&C>0&&Math.abs(C-m)>1){const M=m/C;return y.map(A=>({...A,invest:A.invest>0?A.invest*M:0,newPct:w>0?(A.currentValue+(A.invest>0?A.invest*M:0))/w*100:0}))}return y},[u,m,r]),v=h.reduce((w,y)=>w+y.invest,0),x=h.some(w=>w.isOverweight),b=Number(n),S=b>0&&f>0&&b<f;return l.jsxs("div",{className:"space-y-2",children:[f>0&&l.jsx("div",{className:"flex items-center gap-2 px-2.5 py-1.5 rounded-md bg-emerald-500/10 border border-emerald-500/20",children:l.jsxs("p",{className:"text-xs text-emerald-400",children:[l.jsx("span",{className:"font-bold",children:J(f)})," needed to bring all underweight funds to target %"]})}),l.jsxs("div",{className:"flex items-end gap-3",children:[l.jsx("div",{className:"flex-1 max-w-[200px]",children:l.jsx(oe,{label:"Invest Amount ()",children:l.jsx(Ce,{type:"number",value:n,onChange:a,placeholder:f>0?`${J(f)}`:"Enter amount..."})})}),!b&&!e.lumpsumTarget&&f>0&&l.jsx("p",{className:"text-xs text-emerald-400/70 pb-2.5",children:"Using suggested"}),!b&&e.lumpsumTarget>=100&&l.jsx("p",{className:"text-xs text-[var(--text-dim)] pb-2.5",children:"Using lumpsum target"})]}),S&&l.jsxs("p",{className:"text-xs text-amber-400/80 px-1",children:["Below minimum  distributes proportionally but won't fully rebalance. Need ",J(f)," for exact target %."]}),h.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[l.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Invest"})]})}),l.jsx("tbody",{children:h.map(w=>l.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${w.invest===0?"opacity-50":""}`,children:[l.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:w.fundName}),l.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[l.jsxs("span",{className:w.isOverweight?"text-amber-400":w.invest>0?"text-blue-400":"text-[var(--text-dim)]",children:[w.currentPct.toFixed(1),"%"]}),l.jsxs("span",{className:"text-[var(--text-dim)]",children:["  ",w.newPct.toFixed(1),"%"]})]}),l.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:w.isOverweight?l.jsx("span",{className:"text-amber-400/70 text-xs",children:"Overweight"}):w.invest>0?l.jsx("span",{className:"text-emerald-400",children:bl(w.invest)}):l.jsx("span",{className:"text-[var(--text-dim)] text-xs",children:"Balanced"})})]},w.holdingId))}),v>0&&l.jsx("tfoot",{children:l.jsxs("tr",{className:"border-t border-[var(--border)]",children:[l.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),l.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-emerald-400 tabular-nums",children:J(v)})]})})]})}):l.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2 text-center",children:"All funds balanced"}),x&&l.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Overweight funds can't be fixed by buying. Use ",l.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab to sell overweight and buy underweight."]})]})}function mie({portfolio:e,holdings:t,totalValue:r}){const n=(e.rebalanceThreshold||.05)*100,a=t.some(u=>u.targetAllocationPct>0),s=t.some(u=>u.targetAllocationPct===0&&u.units>0);if(!a&&!s)return l.jsx(hj,{});const c=t.filter(u=>u.targetAllocationPct>0||u.units>0).map(u=>{const f=r>0?u.currentValue/r*100:0,m=u.targetAllocationPct===0&&u.units>0,h=m||Math.abs(f-u.targetAllocationPct)>n,v=u.targetAllocationPct/100*r,x=h?v-u.currentValue:0;return{...u,currentPct:f,amount:x,isExit:m}}).filter(u=>Math.abs(u.amount)>=500);return c.length===0?l.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"Portfolio is balanced"}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[l.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Drift"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Action"})]})}),l.jsx("tbody",{children:c.map(u=>{const f=u.amount>0;return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[l.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:u.fundName}),l.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:u.isExit?l.jsxs("span",{className:"text-[var(--accent-rose)]",children:[u.currentPct.toFixed(1),"%  Exit"]}):`${u.currentPct.toFixed(1)}%  ${u.targetAllocationPct.toFixed(1)}%`}),l.jsx("td",{className:"py-2 px-2 text-right",children:l.jsxs("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${f?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[f?"Buy":u.isExit?"Exit":"Sell"," ",bl(Math.abs(u.amount))]})})]},u.schemeCode||u.fundCode)})})]})})}function cI(){const{mfHoldings:e,mfPortfolios:t}=dt(),[r,n]=j.useState("buysell"),a=j.useMemo(()=>t.filter(f=>f.status!=="Inactive").map(f=>{const m=e.filter(w=>w.portfolioId===f.portfolioId&&w.units>0),h=m.reduce((w,y)=>w+y.currentValue,0),v=(f.rebalanceThreshold||.05)*100,x=m.filter(w=>{if(w.targetAllocationPct<=0)return!1;const y=h>0?w.currentValue/h*100:0;return Math.abs(y-w.targetAllocationPct)>v}).length,b=m.filter(w=>w.targetAllocationPct===0&&w.units>0&&w.currentValue>=500).length,S=m.some(w=>w.targetAllocationPct>0);return{...f,holdings:m,totalValue:h,driftedCount:x,exitCount:b,hasTargets:S}}).filter(f=>f.driftedCount>0||f.exitCount>0),[t,e]);if(a.length===0){const f=e.some(m=>m.targetAllocationPct>0);return l.jsx("div",{className:"py-8 text-center",children:f?l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"All portfolios are balanced"}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"No funds exceed their rebalance threshold"})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No target allocations set"}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:["Use ",l.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund, then rebalance will show drift"]})]})})}const c=a.some(f=>(f.sipTarget||0)>=500)?n_:n_.filter(f=>f.key!=="sip"),u=c.some(f=>f.key===r)?r:c[0]?.key||"buysell";return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex bg-[var(--bg-inset)] rounded-lg p-0.5",children:c.map(({key:f,label:m,icon:h,color:v,dimColor:x,activeBg:b})=>l.jsxs("button",{onClick:()=>n(f),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-semibold transition-colors ${u===f?`${b} ${v} shadow-sm`:x}`,children:[l.jsx(h,{size:13})," ",m]},f))}),a.map((f,m)=>l.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-violet-500/50 rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between px-3 py-2.5 bg-[var(--bg-inset)]",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center",children:m+1}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:f.portfolioName}),l.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:f.ownerName}),f.driftedCount>0&&l.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[f.driftedCount," drifted"]}),f.exitCount>0&&l.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-rose-500/15 text-[var(--accent-rose)]",children:[f.exitCount," exit"]})]}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-muted)]",children:[l.jsx("span",{className:"font-semibold text-[var(--text-secondary)]",children:J(f.totalValue)}),l.jsxs("span",{children:["Threshold: ",((f.rebalanceThreshold||.05)*100).toFixed(0),"%"]}),f.sipTarget>=100&&l.jsxs("span",{children:["SIP: ",J(f.sipTarget),"/mo"]})]})]}),l.jsxs("div",{className:"px-3 py-2",children:[u==="sip"&&l.jsx(die,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue}),u==="lumpsum"&&l.jsx(fie,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue}),u==="buysell"&&l.jsx(mie,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue})]})]},f.portfolioId))]})}const pie="/logo-new.png",a_={mf:{label:"Mutual Funds",color:"bg-violet-500",order:1,route:"/investments/mutual-funds"},stocks:{label:"Stocks",color:"bg-blue-500",order:2,route:"/investments/stocks"},PPF:{label:"PPF",color:"bg-cyan-600",order:3,route:"/investments/other"},EPF:{label:"EPF",color:"bg-cyan-500",order:4,route:"/investments/other"},NPS:{label:"NPS",color:"bg-sky-500",order:5,route:"/investments/other"},FD:{label:"Fixed Deposit",color:"bg-teal-500",order:6,route:"/investments/other"},RD:{label:"RD",color:"bg-teal-400",order:7,route:"/investments/other"},SSY:{label:"SSY",color:"bg-pink-400",order:8,route:"/investments/other"},NSC:{label:"NSC",color:"bg-indigo-400",order:9,route:"/investments/other"},Bonds:{label:"Bonds",color:"bg-cyan-400",order:10,route:"/investments/other"},Debt:{label:"Debt",color:"bg-cyan-500",order:11,route:"/investments/other"},Gold:{label:"Gold",color:"bg-amber-500",order:12,route:"/investments/other"},Silver:{label:"Silver",color:"bg-slate-400",order:13,route:"/investments/other"},Property:{label:"Real Estate",color:"bg-orange-500",order:14,route:"/investments/other"},Alternative:{label:"Alternative",color:"bg-violet-400",order:15,route:"/investments/other"},Equity:{label:"Equity",color:"bg-emerald-500",order:16,route:"/investments/other"},Other:{label:"Other",color:"bg-gray-500",order:17,route:"/investments/other"}},Rm=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],i_=["bg-violet-500","bg-rose-500","bg-blue-500","bg-amber-500","bg-emerald-500"],hie=[{label:"Family Members",path:"/family",match:"/family"},{label:"Bank Accounts",path:"/accounts/bank",match:"/accounts/bank"},{label:"Investment Accounts",path:"/accounts/investment",match:"/accounts/investment"},{label:"Insurance",path:"/insurance",match:"/insurance"},{label:"Mutual Funds",path:"/investments/mutual-funds",match:"/investments/mutual-funds"},{label:"Stocks",path:"/investments/stocks",match:"/investments/stocks"},{label:"Other Investments",path:"/investments/other",match:"/investments/other"},{label:"Liabilities",path:"/liabilities",match:"/liabilities"},{label:"Goals",path:"/goals",match:"/goals"}],s_={mf:"#8b5cf6",stocks:"#3b82f6",PPF:"#0891b2",EPF:"#06b6d4",NPS:"#0ea5e9",FD:"#14b8a6",RD:"#2dd4bf",SSY:"#f472b6",NSC:"#818cf8",Bonds:"#22d3ee",Debt:"#0ea5e9",Gold:"#fbbf24",Silver:"#94a3b8",Property:"#f97316",Alternative:"#a78bfa",Equity:"#10b981",Other:"#6b7280"},vie={buyopp:"Buy Opportunities",rebalance:"Rebalance Alerts"};function xie(){const{theme:e,toggle:t}=LO(),{selectedMember:r,setSelectedMember:n,familyMembers:a}=zr(),{mfPortfolios:s,mfHoldings:c,stockPortfolios:u,stockHoldings:f,otherInvList:m,liabilityList:h,refreshData:v,isRefreshing:x}=dt(),{user:b,signOut:S}=Ul(),{masked:w,toggleMask:y,mv:C}=Za(),M=Hl(),A=ba(),{criticalAlerts:_,upcomingReminders:E,investmentSignals:T}=Aee(),[P,O]=j.useState(!1),[L,R]=j.useState(!1),[F,k]=j.useState(null),[X,W]=j.useState(!1),Z=j.useRef(null),B=j.useRef(null),G=_.length+E.length,{buyOppCount:z,buyCount:ne,strongBuyCount:ge,rebalanceCount:$}=T;j.useEffect(()=>{function he(ve){Z.current&&!Z.current.contains(ve.target)&&O(!1),B.current&&!B.current.contains(ve.target)&&R(!1)}return(P||L)&&document.addEventListener("mousedown",he),()=>document.removeEventListener("mousedown",he)},[P,L]);const ie=a.findIndex(he=>he.memberId===r),pe=ie>=0?a[ie]:null,ue=j.useMemo(()=>{const he=(Oe,tt)=>r==="all"?Oe:Oe.filter(zt=>zt[tt]===r),ve={},Ae=(Oe,tt,zt,at)=>{ve[Oe]||(ve[Oe]={items:[],invested:0}),ve[Oe].items.push({label:tt,value:zt}),ve[Oe].invested+=at};he((s||[]).filter(Oe=>Oe.status==="Active"),"ownerId").forEach(Oe=>{const tt=(c||[]).filter(xt=>xt.portfolioId===Oe.portfolioId&&xt.units>0),zt=tt.reduce((xt,Qt)=>xt+Qt.currentValue,0),at=tt.reduce((xt,Qt)=>xt+Qt.investment,0);zt>0&&Ae("mf",Oe.portfolioName?.replace(/^PFL-/,"")||Oe.portfolioName,zt,at)}),he((u||[]).filter(Oe=>Oe.status==="Active"),"ownerId").forEach(Oe=>{const tt=(f||[]).filter(xt=>xt.portfolioId===Oe.portfolioId),zt=tt.reduce((xt,Qt)=>xt+Qt.currentValue,0),at=tt.reduce((xt,Qt)=>xt+Qt.totalInvestment,0);zt>0&&Ae("stocks",Oe.portfolioName,zt,at)}),he((m||[]).filter(Oe=>Oe.status==="Active"),"familyMemberId").forEach(Oe=>{const tt=Oe.investmentType||Oe.investmentCategory||"Other";Ae(tt,Oe.investmentName||tt,Oe.currentValue,Oe.investedAmount||0)});const xe=Object.entries(ve).map(([Oe,{items:tt,invested:zt}])=>{const at=a_[Oe]||a_.Other,xt=tt.reduce((Qt,Xt)=>Qt+Xt.value,0);return{key:Oe,label:at.label,color:at.color,order:at.order,route:at.route,total:xt,invested:zt,items:tt.sort((Qt,Xt)=>Xt.value-Qt.value)}}).filter(Oe=>Oe.total>0).sort((Oe,tt)=>Oe.order-tt.order),Fe=he((h||[]).filter(Oe=>Oe.status==="Active"),"familyMemberId"),$e=Fe.map(Oe=>({label:Oe.liabilityName||Oe.liabilityType||"Loan",value:Oe.outstandingBalance})),Ve=Fe.reduce((Oe,tt)=>Oe+tt.outstandingBalance,0),wt=xe.reduce((Oe,tt)=>Oe+tt.total,0),Et=xe.reduce((Oe,tt)=>Oe+tt.invested,0);return{netWorth:wt-Ve,totalInv:wt,totalInvested:Et,sections:xe,totalLiab:Ve,liabilities:$e}},[r,s,c,u,f,m,h]);function je(){O(!1),R(!1)}return l.jsxs("header",{className:"sticky top-0 z-30 shrink-0",children:[l.jsx("style",{children:`
        @keyframes glow-emerald {
          0%, 100% { box-shadow: 0 0 6px rgba(16,185,129,0.3), 0 0 12px rgba(16,185,129,0.15); }
          50% { box-shadow: 0 0 12px rgba(16,185,129,0.5), 0 0 24px rgba(16,185,129,0.25); }
        }
        @keyframes glow-violet {
          0%, 100% { box-shadow: 0 0 6px rgba(139,92,246,0.3), 0 0 12px rgba(139,92,246,0.15); }
          50% { box-shadow: 0 0 12px rgba(139,92,246,0.5), 0 0 24px rgba(139,92,246,0.25); }
        }
        .glow-emerald { animation: glow-emerald 2s ease-in-out infinite; }
        .glow-violet { animation: glow-violet 2s ease-in-out infinite; }
      `}),l.jsx("div",{className:"relative z-10 bg-[var(--bg-header)]/95 backdrop-blur-sm border-b border-[var(--border)]",children:l.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[l.jsxs(gl,{to:"/investments/mutual-funds",className:"flex items-center gap-2",children:[l.jsx("img",{src:pie,alt:"CF",className:"h-9 sm:h-12 w-auto"}),l.jsxs("span",{className:"hidden sm:flex items-baseline gap-1 text-lg tracking-tight",style:{fontFamily:"'Poppins', sans-serif"},children:[l.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:"Capital"}),l.jsx("span",{className:"font-extrabold text-emerald-400",children:"Friends"})]})]}),l.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[z>0&&l.jsxs("button",{onClick:()=>{k(F==="buyopp"?null:"buyopp"),je()},className:`hidden sm:flex glow-emerald items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${F==="buyopp"?"bg-emerald-500/30 text-emerald-300 ring-1 ring-emerald-400/50":"bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25"}`,children:[l.jsx(xp,{size:13,strokeWidth:2.5}),l.jsx("span",{children:ge>0?"Buy Opportunities":"Buying Opportunities"}),ge>0&&l.jsxs("span",{className:"text-[11px] bg-emerald-500/30 px-1.5 py-0.5 rounded-full",children:[ge," Strong"]}),ne>0&&l.jsxs("span",{className:"text-[11px] bg-emerald-500/20 px-1.5 py-0.5 rounded-full",children:[ne," Buy"]})]}),$>0&&l.jsxs("button",{onClick:()=>{k(F==="rebalance"?null:"rebalance"),je()},className:`hidden sm:flex glow-violet items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${F==="rebalance"?"bg-violet-500/30 text-violet-300 ring-1 ring-violet-400/50":"bg-violet-500/15 text-violet-400 hover:bg-violet-500/25"}`,children:[l.jsx(Uo,{size:13,strokeWidth:2.5}),l.jsx("span",{children:"Rebalance Alerts"}),l.jsx("span",{className:"text-[11px] bg-violet-500/30 px-1.5 py-0.5 rounded-full",children:$})]}),l.jsx("button",{onClick:()=>v(!0),disabled:x,className:`p-1.5 sm:p-2 rounded-lg transition-colors ${x?"text-blue-400 cursor-not-allowed":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:"Sync data from Google Sheets",children:l.jsx(Uo,{size:16,className:x?"animate-spin":""})}),l.jsx("button",{onClick:y,className:`hidden sm:block p-2 rounded-lg transition-colors ${w?"text-amber-400 bg-amber-500/10":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:w?"Data masked  click to reveal":"Mask sensitive data",children:w?l.jsx(Ku,{size:18}):l.jsx(pp,{size:18})}),l.jsx("button",{onClick:t,className:"hidden sm:block p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",title:`Switch to ${e==="dark"?"light":"dark"} mode`,children:e==="dark"?l.jsx(vp,{size:18}):l.jsx(Xb,{size:18})}),G>0&&l.jsxs("div",{className:"relative",ref:B,children:[l.jsxs("button",{onClick:()=>{R(!L),O(!1)},className:"relative p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx(Ch,{size:18}),l.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-rose-500 rounded-full px-1",children:G})]}),L&&l.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[l.jsx("div",{className:"px-3 py-2 border-b border-[var(--border-light)]",children:l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Notifications"})}),l.jsxs("div",{className:"max-h-[300px] overflow-y-auto py-1",children:[_.map((he,ve)=>{const Ae={critical:"bg-rose-500",warning:"bg-amber-500",info:"bg-blue-500"}[he.type],re={critical:"bg-rose-500/15 text-rose-400",warning:"bg-amber-500/15 text-amber-400",info:"bg-blue-500/15 text-blue-400"}[he.type];return l.jsxs("button",{onClick:()=>{R(!1),M(he.navigateTo)},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${Ae}`}),l.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 text-left truncate",children:he.title}),l.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${re}`,children:he.badge})]},`c-${ve}`)}),_.length>0&&E.length>0&&l.jsx("div",{className:"mx-3 my-1 border-t border-[var(--border-light)]"}),E.map(he=>{const ve=he.days<=7?"bg-rose-500/15 text-rose-400":he.days<=15?"bg-amber-500/15 text-amber-400":"bg-slate-500/15 text-[var(--text-muted)]";return l.jsxs("button",{onClick:()=>{R(!1),M("/reminders")},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[l.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-amber-500"}),l.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 truncate",children:he.title}),l.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${ve}`,children:he.days===0?"Today":he.days<=30?`${he.days}d`:he.dateStr})]},`r-${he.reminderId}`)})]})]})]}),l.jsxs("div",{className:"relative",ref:Z,children:[l.jsxs("button",{onClick:()=>{O(!P),R(!1)},className:"flex items-center gap-1.5 pl-1 pr-2 py-1 rounded-full hover:bg-[var(--bg-hover)] transition-colors",children:[pe?l.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-br ${Rm[ie%Rm.length]} flex items-center justify-center text-white text-xs font-bold shadow-sm`,children:pe.memberName.charAt(0)}):l.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm",children:l.jsx(Wo,{size:14})}),l.jsx(Ol,{size:14,className:`text-[var(--text-muted)] transition-transform ${P?"rotate-180":""}`})]}),P&&l.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[l.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)]",children:l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Viewing as"})}),l.jsxs("div",{className:"py-1.5",children:[l.jsxs("button",{onClick:()=>{n("all"),O(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${r==="all"?"bg-violet-500/10":"hover:bg-[var(--bg-hover)]"}`,children:[l.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm shrink-0",children:l.jsx(Wo,{size:15})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`text-sm font-semibold truncate ${r==="all"?"text-violet-400":"text-[var(--text-primary)]"}`,children:"Everyone"}),l.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:"All family members"})]}),r==="all"&&l.jsx(Wb,{size:16,className:"text-violet-400 shrink-0"})]}),a.length>0&&l.jsx("div",{className:"mx-4 my-1 border-t border-[var(--border-light)]"}),a.map((he,ve)=>{const Ae=r===he.memberId;return l.jsxs("button",{onClick:()=>{n(he.memberId),O(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${Ae?`${i_[ve%i_.length]}/10`:"hover:bg-[var(--bg-hover)]"}`,children:[l.jsx("div",{className:`w-9 h-9 rounded-full bg-gradient-to-br ${Rm[ve%Rm.length]} flex items-center justify-center text-white text-sm font-bold shadow-sm shrink-0`,children:he.memberName.charAt(0)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-semibold truncate text-[var(--text-primary)]",children:C(he.memberName,"name")}),l.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:he.relationship||"Family member"})]}),Ae&&l.jsx(Wb,{size:16,className:"text-emerald-400 shrink-0"})]},he.memberId)})]}),l.jsxs("div",{className:"sm:hidden border-t border-[var(--border-light)] py-1.5",children:[l.jsxs("button",{onClick:()=>{y(),O(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[w?l.jsx(Ku,{size:16}):l.jsx(pp,{size:16}),l.jsx("span",{className:"text-sm font-medium",children:w?"Unmask Data":"Mask Data"})]}),l.jsxs("button",{onClick:()=>{t(),O(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[e==="dark"?l.jsx(vp,{size:16}):l.jsx(Xb,{size:16}),l.jsx("span",{className:"text-sm font-medium",children:e==="dark"?"Light Mode":"Dark Mode"})]})]}),l.jsxs("div",{className:"border-t border-[var(--border-light)] py-1.5",children:[l.jsxs(gl,{to:"/settings",onClick:()=>O(!1),className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx(eT,{size:16}),l.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),b&&l.jsx("div",{className:"px-4 py-1.5",children:l.jsx("p",{className:"text-[11px] text-[var(--text-muted)] truncate",children:C(b.email,"email")})}),l.jsxs("button",{onClick:()=>{S(),O(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-rose-400 hover:bg-rose-500/10 transition-colors",children:[l.jsx(WO,{size:16}),l.jsx("span",{className:"text-sm font-medium",children:"Sign out"})]})]})]})]})]})]})}),l.jsx(Cee,{}),l.jsx("nav",{className:"hidden lg:block bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)]",children:l.jsxs("div",{className:"flex items-center px-3 sm:px-4 py-1.5",children:[l.jsx("div",{className:"flex items-center gap-1 overflow-x-auto no-scrollbar flex-1 min-w-0",children:hie.map(he=>{const ve=A.pathname.startsWith(he.match);return l.jsx(gl,{to:he.path,className:`whitespace-nowrap px-3 py-1.5 rounded-lg text-[13px] font-medium transition-colors ${ve?"bg-violet-500/15 text-violet-400":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:he.label},he.path)})}),l.jsxs("button",{onClick:()=>{W(!0),je()},className:`shrink-0 ml-3 flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-colors ${ue.netWorth>=0?"bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15":"bg-rose-500/10 border border-rose-500/20 hover:bg-rose-500/15"}`,children:[l.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${ue.netWorth>=0?"text-emerald-400/70":"text-rose-400/70"}`,children:"Net Worth"}),l.jsx("span",{className:`text-sm font-extrabold tabular-nums ${ue.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:J(ue.netWorth)}),l.jsx(Zu,{size:12,className:ue.netWorth>=0?"text-emerald-400/60":"text-rose-400/60"})]})]})}),l.jsxs("div",{className:"lg:hidden bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)] px-3 py-1.5 flex items-center gap-2 justify-end",children:[z>0&&l.jsxs("button",{onClick:()=>{k(F==="buyopp"?null:"buyopp"),je()},className:"flex items-center gap-1 px-2 py-1 text-[11px] font-bold text-emerald-400 bg-emerald-500/12 border border-emerald-500/25 rounded-full",children:[l.jsx(xp,{size:11,strokeWidth:2.5}),l.jsx("span",{children:z})]}),$>0&&l.jsxs("button",{onClick:()=>{k(F==="rebalance"?null:"rebalance"),je()},className:"flex items-center gap-1 px-2 py-1 text-[11px] font-bold text-violet-400 bg-violet-500/12 border border-violet-500/25 rounded-full",children:[l.jsx(Uo,{size:11,strokeWidth:2.5}),l.jsx("span",{children:$})]}),l.jsxs("button",{onClick:()=>{W(!0),je()},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-colors ${ue.netWorth>=0?"bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15":"bg-rose-500/10 border border-rose-500/20 hover:bg-rose-500/15"}`,children:[l.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${ue.netWorth>=0?"text-emerald-400/70":"text-rose-400/70"}`,children:"Net Worth"}),l.jsx("span",{className:`text-sm font-extrabold tabular-nums ${ue.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:J(ue.netWorth)}),l.jsx(Zu,{size:12,className:ue.netWorth>=0?"text-emerald-400/60":"text-rose-400/60"})]})]}),X&&(()=>{const he=ue.sections.map(ve=>({name:ve.label,value:ve.total,fill:s_[ve.key]||"#6b7280",pct:ue.totalInv>0?ve.total/ue.totalInv*100:0,color:ve.color,route:ve.route}));return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-3",onClick:()=>W(!1),children:[l.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),l.jsxs("div",{className:"relative w-full md:w-auto md:min-w-[720px] md:max-w-4xl max-h-[85vh] overflow-y-auto bg-[var(--bg-card)] rounded-2xl border border-[var(--border)] shadow-2xl shadow-black/40",onClick:ve=>ve.stopPropagation(),children:[l.jsx("button",{onClick:()=>W(!1),className:"absolute top-3 right-3 z-20 p-1.5 rounded-full bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)]",children:l.jsx(Pl,{size:16,className:"text-[var(--text-muted)]"})}),l.jsxs("div",{className:"flex flex-col md:flex-row",children:[l.jsx("div",{className:"flex-shrink-0 md:w-[340px] pt-6 pb-4 md:pb-6 px-6 flex flex-col items-center justify-center md:border-r md:border-[var(--border-light)]",children:l.jsxs("div",{className:"relative w-[200px] h-[200px] md:w-[280px] md:h-[280px]",children:[l.jsx(S5,{width:"100%",height:"100%",children:l.jsxs(w3,{children:[l.jsx(Zw,{data:he,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:"55%",outerRadius:"85%",paddingAngle:3,stroke:"none",children:he.map((ve,Ae)=>l.jsx(Fd,{fill:ve.fill},Ae))}),l.jsx($4,{content:({active:ve,payload:Ae})=>{if(!ve||!Ae?.[0])return null;const re=Ae[0].payload;return l.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-2.5 py-1.5 shadow-lg text-xs",children:[l.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:re.name}),l.jsx("span",{className:"text-[var(--text-muted)] ml-1.5",children:J(re.value)})]})}})]})}),l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Net Worth"}),l.jsx("p",{className:"text-lg md:text-xl font-bold text-[var(--text-primary)] tabular-nums",children:J(ue.netWorth)})]})]})}),l.jsxs("div",{className:"flex-1 min-w-0 px-3 md:px-5 pt-4 md:pt-6 pb-5 flex flex-col justify-center",children:[l.jsxs("div",{className:"space-y-2",children:[ue.sections.map(ve=>{const Ae=ue.totalInv>0?ve.total/ue.totalInv*100:0,re=s_[ve.key]||"#6b7280";return l.jsxs(gl,{to:ve.route,onClick:()=>W(!1),className:"flex items-center gap-2.5 py-2.5 px-3 rounded-xl transition-colors group",style:{backgroundColor:`${re}12`},children:[l.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:re}}),l.jsx("span",{className:"text-[13px] font-medium text-[var(--text-primary)] flex-1 min-w-0 truncate",children:ve.label}),l.jsx("span",{className:"text-[13px] font-bold text-[var(--text-primary)] tabular-nums shrink-0",children:J(ve.total)}),l.jsxs("span",{className:"text-[10px] font-medium tabular-nums shrink-0 px-1.5 py-0.5 rounded-full",style:{backgroundColor:`${re}20`,color:re},children:[Ae.toFixed(0),"%"]})]},ve.key)}),ue.totalLiab>0&&l.jsxs(gl,{to:"/liabilities",onClick:()=>W(!1),className:"flex items-center gap-2.5 py-2.5 px-3 rounded-xl transition-colors group bg-rose-500/[0.07]",children:[l.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-rose-500"}),l.jsxs("span",{className:"text-[13px] font-medium text-[var(--text-primary)] flex-1 min-w-0",children:[ue.liabilities.length," ",ue.liabilities.length===1?"Loan":"Loans"]}),l.jsxs("span",{className:"text-[13px] font-bold text-rose-400 tabular-nums shrink-0",children:["",J(ue.totalLiab)]})]})]}),l.jsxs("div",{className:"mt-4 pt-3 mx-1 border-t border-[var(--border-light)] flex items-center justify-between",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[10px] uppercase tracking-wider text-[var(--text-dim)]",children:"Net Worth"}),l.jsx("span",{className:`text-lg font-bold tabular-nums ${ue.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:J(ue.netWorth)})]}),l.jsxs("div",{className:"flex flex-col items-end text-[11px] text-[var(--text-dim)] tabular-nums",children:[l.jsxs("span",{children:[J(ue.totalInv)," invested"]}),ue.totalLiab>0&&l.jsxs("span",{className:"text-rose-400/70",children:["",J(ue.totalLiab)," owed"]})]})]})]})]})]})]})})(),F&&l.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-16 sm:pt-24 px-3",children:[l.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>k(null)}),l.jsxs("div",{className:"relative w-full max-w-3xl max-h-[75vh] rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-2xl shadow-black/40 overflow-hidden flex flex-col animate-in fade-in slide-in-from-top-4 duration-200",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--border-light)] shrink-0",children:[l.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:vie[F]}),l.jsx("button",{onClick:()=>k(null),className:"p-1.5 rounded-lg hover:bg-[var(--bg-hover)] text-[var(--text-dim)] transition-colors",children:l.jsx(Pl,{size:16})})]}),l.jsxs("div",{className:"overflow-y-auto p-4",children:[F==="buyopp"&&l.jsx(N3,{}),F==="rebalance"&&l.jsx(cI,{})]})]})]})]})}const gie=[{label:"Invest",icon:Xm,path:"/investments/mutual-funds"},{label:"Accounts",icon:Ah,path:"/accounts/bank"},{label:"Goals",icon:Mh,path:"/goals"},{label:"Reminders",icon:Ch,path:"/reminders"},{label:"More",icon:a8,path:"/more"}];function bie(){return l.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-[var(--bg-sidebar)] border-t border-[var(--border)] safe-bottom",children:l.jsx("div",{className:"flex items-center justify-around h-[56px]",children:gie.map(({label:e,icon:t,path:r})=>l.jsx(nO,{to:r,className:({isActive:n})=>`relative flex flex-col items-center justify-center gap-0.5 w-full h-full text-xs font-medium transition-colors ${n?"text-[var(--sidebar-active-text)]":"text-[var(--text-dim)]"}`,children:({isActive:n})=>l.jsxs(l.Fragment,{children:[n&&l.jsx("span",{className:"absolute top-0 w-10 h-[2.5px] bg-[var(--sidebar-active-text)] rounded-b-full"}),l.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-xl transition-colors ${n?"bg-[var(--sidebar-active-bg)]":""}`,children:l.jsx(t,{size:19,strokeWidth:n?2.2:1.5})}),l.jsx("span",{className:n?"font-semibold":"",children:e})]})},r))})})}const yie="/logo-new.png";function yh(){return l.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:l.jsxs("div",{className:"flex flex-col items-center gap-6",children:[l.jsx("img",{src:yie,alt:"Capital Friends",className:"h-16 w-auto animate-pulse"}),l.jsx("div",{className:"w-40 h-1 rounded-full bg-[var(--border)] overflow-hidden",children:l.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-violet-500 to-cyan-500 animate-loading-bar"})})]})})}function wie(){const{loading:e,error:t}=dt();return e?l.jsx(yh,{}):t?l.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:l.jsxs("div",{className:"flex flex-col items-center gap-4 text-center px-6",children:[l.jsx("img",{src:"/logo-new.png",alt:"Capital Friends",className:"h-16 w-auto opacity-50"}),l.jsx("p",{className:"text-rose-400 text-sm font-medium",children:t}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-violet-600 hover:bg-violet-500 text-white transition-colors",children:"Retry"})]})}):l.jsxs("div",{className:"flex flex-col h-dvh bg-[var(--bg-base)] overflow-hidden",children:[l.jsx(xie,{}),l.jsx("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-20 lg:pb-0",children:l.jsx("div",{className:"px-3 sm:px-4 py-3 sm:py-4 w-full max-w-7xl mx-auto",children:l.jsx(J_,{})})}),l.jsx(bie,{})]})}function jie(){const{isAuthenticated:e,loading:t}=Ul(),{healthCheckCompleted:r,loading:n}=dt(),a=ba();return t&&!e?l.jsx(yh,{phase:"auth"}):!e&&!t?l.jsx(dp,{to:"/",replace:!0}):n?l.jsx(yh,{phase:"data"}):r===!1&&a.pathname!=="/health-check"?l.jsx(dp,{to:"/health-check",replace:!0}):l.jsx(J_,{})}const Tb="/logo-new.png";function uI(){const{isAuthenticated:e,loading:t,error:r,signIn:n}=Ul(),a=Hl(),[s,c]=j.useState(0),[u,f]=j.useState(!1),m=j.useRef(null),h=j.useCallback(()=>{m.current&&clearInterval(m.current),m.current=setInterval(()=>{f(S=>(S||c(w=>(w+1)%4),S))},5e3)},[]);j.useEffect(()=>(h(),()=>{m.current&&clearInterval(m.current)}),[h]);function v(S){c(S),h()}if(j.useEffect(()=>{e&&a("/dashboard",{replace:!0})},[e,a]),t)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#080d1a]",children:l.jsx("img",{src:Tb,alt:"",className:"h-16 w-auto animate-pulse"})});const x=[{id:"ath",label:"ATH Tracking",icon:l.jsx(Tl,{size:18}),color:"emerald",tagline:"Spot Buying Opportunities",desc:"See how far each mutual fund is from its All-Time High NAV. When a quality fund dips 10-20% below ATH, it's your signal to invest more  via SIP increase or lumpsum.",mock:l.jsx(Sie,{})},{id:"rebalance",label:"Rebalancing",icon:l.jsx(Uo,{size:18}),color:"violet",tagline:"Know Exactly What to Buy or Sell",desc:"Set target allocation for each fund. When your portfolio drifts, Capital Friends tells you exactly how much to adjust  via SIP changes, lumpsum top-ups, or buy/sell actions.",mock:l.jsx(Cie,{})},{id:"goals",label:"Goal Linking",icon:l.jsx(Mh,{size:18}),color:"cyan",tagline:"Link Portfolios to Goals",desc:"Create goals like retirement, child education, or emergency fund. Link MF portfolios with allocation percentages. Goal progress updates automatically as NAVs change daily.",mock:l.jsx(Aie,{})},{id:"dashboard",label:"Family View",icon:l.jsx(Wo,{size:18}),color:"amber",tagline:"Everyone's Wealth, One Dashboard",desc:"Switch between family members in one click. See combined or individual net worth, investments, insurance, loans  everything your family owns, in one place.",mock:l.jsx(Nie,{})}],b=x[s];return l.jsxs("div",{className:"min-h-screen bg-[#080d1a] text-slate-200",children:[l.jsx("header",{className:"sticky top-0 z-50 bg-[#0a0f1f]/95 backdrop-blur-sm border-b border-white/[0.06]",children:l.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("img",{src:Tb,alt:"CF",className:"h-12 w-auto"}),l.jsxs("span",{className:"flex items-baseline gap-1 text-lg tracking-tight",style:{fontFamily:"'Poppins', sans-serif"},children:[l.jsx("span",{className:"font-bold text-white",children:"Capital"}),l.jsx("span",{className:"font-extrabold text-emerald-400",children:"Friends"})]})]}),l.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-600 to-cyan-600 text-white text-sm font-semibold hover:from-violet-500 hover:to-cyan-500 transition-all cursor-pointer",children:[l.jsx(o_,{s:14})," Sign In"]})]})}),l.jsxs("section",{className:"relative px-5 sm:px-8 lg:px-16 pt-10 sm:pt-14 pb-8 sm:pb-10 overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[400px] bg-violet-600/8 rounded-full blur-[120px] pointer-events-none"}),l.jsx("div",{className:"absolute top-20 right-1/4 w-[400px] h-[300px] bg-cyan-600/6 rounded-full blur-[100px] pointer-events-none"}),l.jsxs("div",{className:"relative text-center",children:[l.jsx("span",{className:"inline-block text-xs font-bold uppercase tracking-[0.2em] text-violet-400 bg-violet-500/10 border border-violet-500/20 rounded-full px-4 py-1.5 mb-5",children:"Always Free  100% Private  Your Google Sheet"}),l.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold leading-[1.1] tracking-tight text-white",children:["One dashboard for your family's"," ",l.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-cyan-400 bg-clip-text text-transparent",children:"entire wealth"})]}),l.jsxs("p",{className:"mt-5 text-base sm:text-lg text-slate-400 leading-relaxed max-w-2xl mx-auto",children:["Mutual funds, stocks, FDs, gold, insurance, loans  track everything for every family member. Manual entry means ",l.jsx("strong",{className:"text-white",children:"no bank credentials, no privacy risk"}),"."]}),r&&l.jsx("p",{className:"mt-5 text-sm text-rose-400",children:r})]})]}),l.jsxs("section",{className:"bg-gradient-to-b from-[#0d0a1a] to-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-10 sm:py-14",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3 flex-wrap justify-center",children:[l.jsx(Es,{size:28,className:"text-amber-400 shrink-0"}),l.jsxs("span",{children:["What happens if something happens to ",l.jsx("span",{className:"text-amber-400",children:"you"}),"?"]})]}),l.jsxs("p",{className:"mt-4 text-lg text-slate-400 leading-relaxed",children:["Your family should know about every investment, every policy, every loan. Not someday. ",l.jsx("strong",{className:"text-white",children:"Right now."})]})]}),l.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[l.jsx(l_,{icon:l.jsx(pp,{size:20}),color:"rose",title:"Without Capital Friends",items:["Scattered investments across 10+ platforms","Family has no idea what you own or owe","Insurance policies lost in email threads","Months of confusion, missed renewals, lost money"],bad:!0}),l.jsx(l_,{icon:l.jsx(Qu,{size:20}),color:"emerald",title:"With Capital Friends",items:["One sheet  every investment, policy, and loan","Family receives email reports with full portfolio details","Reminders for SIPs, renewals, EMI payments","Complete clarity, instantly  when it matters most"]})]}),l.jsxs("p",{className:"text-center mt-8 text-base text-slate-500",children:["Built for ",l.jsx("strong",{className:"text-white",children:"you"})," to manage your wealth  and for your ",l.jsx("strong",{className:"text-white",children:"family"})," to access it when they need to."]})]}),l.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"How it Works"}),l.jsx("p",{className:"text-base text-slate-500",children:"Set up in 2 minutes  no bank credentials, no downloads"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-4",children:[l.jsx(Lm,{num:1,icon:l.jsx(M8,{size:24}),color:"violet",title:"Sign In with Google",desc:"Go to capitalfriends.in and sign in with your Google account. That's all  no registration form, no passwords."}),l.jsx(Lm,{num:2,icon:l.jsx(o8,{size:24}),color:"emerald",title:"App Creates Your Sheet",desc:"The app creates a private Google Sheet in your own Google Drive. This sheet stores all your financial data. Only you can see it  not even the developer."}),l.jsx(Lm,{num:3,icon:l.jsx(UO,{size:24}),color:"cyan",title:"Financial Health Check",desc:"Answer 7 simple yes/no questions about your financial health. Get your score and personalized recommendations instantly."}),l.jsx(Lm,{num:4,icon:l.jsx(Tl,{size:24}),color:"amber",title:"Start Tracking",desc:"Add family members, portfolios, goals, insurance, and loans. The app connects to AMFI for live mutual fund prices automatically."})]}),l.jsxs("p",{className:"text-center mt-10 text-sm text-slate-600",children:["Your sheet is named ",l.jsx("strong",{className:"text-slate-400",children:"Capital Friends - Your Name"})," and lives in your Google Drive. The web app is just a beautiful dashboard to view and manage it."]})]}),l.jsxs("section",{id:"features",className:"bg-[#0b1022] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",onMouseEnter:()=>f(!0),onMouseLeave:()=>{f(!1),h()},children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Features That Set Us Apart"}),l.jsx("p",{className:"text-base text-slate-500",children:"Things you won't find on other portfolio trackers"})]}),l.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 mb-10 flex-wrap",children:x.map((S,w)=>{const y=w===s,C={emerald:"border-emerald-500",violet:"border-violet-500",cyan:"border-cyan-500",amber:"border-amber-500"},M={emerald:"text-emerald-400",violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400"};return l.jsxs("button",{onClick:()=>v(w),className:`relative flex items-center gap-2 px-5 py-2.5 rounded-full border text-sm font-semibold transition-all cursor-pointer ${y?`${C[S.color]} bg-white/[0.05] ${M[S.color]}`:"border-white/[0.08] text-slate-500 hover:border-white/[0.15] hover:text-slate-300"}`,children:[l.jsx("span",{className:"shrink-0",children:S.icon}),S.label,y&&l.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-0.5 bg-white/[0.06] rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full rounded-full bg-current",style:{animation:"featureProgress 5s linear",animationPlayState:u?"paused":"running"}})})]},S.id)})}),l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-8 lg:gap-12",children:[l.jsxs("div",{className:"lg:flex-1 min-h-[280px]",children:[l.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:b.tagline}),l.jsx("p",{className:"mt-3 text-base text-slate-400 leading-relaxed",children:b.desc}),b.id==="ath"&&l.jsxs("div",{className:"mt-6 space-y-5",children:[l.jsx(qr,{c:"emerald",t:"ATH tracking only for funds in your portfolios"}),l.jsx(qr,{c:"emerald",t:"Color-coded signals: watch, consider, buy, strong buy"}),l.jsx(qr,{c:"emerald",t:"Increase SIP or invest lumpsum when funds dip"}),l.jsx(qr,{c:"emerald",t:"Daily NAV updates from AMFI data"})]}),b.id==="rebalance"&&l.jsxs("div",{className:"mt-6 space-y-5",children:[l.jsx(qr,{c:"violet",t:"Adjust monthly SIP to rebalance gradually"}),l.jsx(qr,{c:"violet",t:"Lumpsum top-up for quick rebalance"}),l.jsx(qr,{c:"violet",t:"Buy/Sell amounts to match target"}),l.jsx(qr,{c:"violet",t:"Configurable threshold per portfolio"})]}),b.id==="goals"&&l.jsxs("div",{className:"mt-6 space-y-5",children:[l.jsx(qr,{c:"cyan",t:"Link multiple MF portfolios to each goal"}),l.jsx(qr,{c:"cyan",t:"Built-in SIP + lumpsum calculator with inflation"}),l.jsx(qr,{c:"cyan",t:"Auto-status: On Track, Needs Attention, Achieved"}),l.jsx(qr,{c:"cyan",t:"Withdrawal planning for retirement goals"})]}),b.id==="dashboard"&&l.jsxs("div",{className:"mt-6 space-y-5",children:[l.jsx(qr,{c:"amber",t:"One-click switch between family members"}),l.jsx(qr,{c:"amber",t:"Combined net worth across everyone"}),l.jsx(qr,{c:"amber",t:"MF, stocks, FD, gold, PPF, NPS, insurance"}),l.jsx(qr,{c:"amber",t:"Email reports sent to family automatically"})]})]}),l.jsx("div",{className:"lg:flex-1 min-w-0 min-h-[380px] flex flex-col justify-center",children:b.mock})]}),l.jsx("style",{children:`
          @keyframes featureProgress {
            from { width: 0% }
            to { width: 100% }
          }
        `})]}),l.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Everything You Need"}),l.jsx("p",{className:"text-base text-slate-500",children:"One dashboard for your entire financial life"})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[l.jsx(ws,{icon:l.jsx(Gu,{size:20}),c:"rose",t:"Stock Portfolios",d:"Buy/sell tracking, average cost, P&L with live NSE prices"}),l.jsx(ws,{icon:l.jsx(L8,{size:20}),c:"orange",t:"FD, Gold, PPF, NPS",d:"Track any investment type  all counted in net worth"}),l.jsx(ws,{icon:l.jsx(Qu,{size:20}),c:"teal",t:"Insurance Tracker",d:"Life, health, term policies with premiums & renewal dates"}),l.jsx(ws,{icon:l.jsx(Ah,{size:20}),c:"red",t:"Liabilities",d:"Loans & EMIs. Net worth = total assets minus debts"}),l.jsx(ws,{icon:l.jsx(Ch,{size:20}),c:"yellow",t:"Smart Reminders",d:"SIP dates, renewals, EMI payments, maturity alerts"}),l.jsx(ws,{icon:l.jsx(Wo,{size:20}),c:"pink",t:"Family Sharing",d:"Invite family with Google accounts  shared dashboard"}),l.jsx(ws,{icon:l.jsx(Uo,{size:20}),c:"blue",t:"Daily Auto-Refresh",d:"NAVs and stock prices update automatically every day"}),l.jsx(ws,{icon:l.jsx(Y0,{size:20}),c:"emerald",t:"Complete Privacy",d:"No servers, no database, no tracking  your Sheet only"})]})]}),l.jsxs("section",{className:"border-y border-white/[0.06]",children:[l.jsxs("div",{className:"bg-[#0b1022] px-5 sm:px-8 lg:px-16 py-10 sm:py-14 text-center",children:[l.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3",children:[l.jsx(Y0,{size:28,className:"text-emerald-400 shrink-0"}),"Your Data Never Leaves Google"]}),l.jsxs("p",{className:"mt-3 text-base sm:text-lg text-slate-400 leading-relaxed",children:["No backend server. No database. No tracking. The web app is a static site. Your spreadsheet lives in ",l.jsx("strong",{className:"text-white",children:"your Google Drive"}),". We literally cannot access your financial data."]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row",children:[l.jsx(Rb,{icon:l.jsx(Qu,{size:20}),t:"Manual Entry Only",d:"No bank linking, no credentials shared. You type your data  no one else has access.",bg:"bg-[#0d1326]",c:"emerald"}),l.jsx(Rb,{icon:l.jsx(Y0,{size:20}),t:"Your Google Sheet",d:"A private spreadsheet in your Drive. Share only with family you choose.",bg:"bg-[#0f1530]",c:"violet"}),l.jsx(Rb,{icon:l.jsx(hp,{size:20}),t:"Always Free",d:"No premium tier, no hidden fees, no ads. Free today, free forever.",bg:"bg-[#111838]",c:"amber"})]})]}),l.jsxs("section",{className:"bg-gradient-to-t from-[#080d1a] to-[#0d1128] border-t border-white/[0.06] px-5 sm:px-8 lg:px-16 py-16 text-center",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white",children:"Start managing your family's wealth today"}),l.jsx("p",{className:"mt-3 text-base text-slate-500",children:"Always free. No credit card. No bank linking. Just your Google account."}),l.jsxs("button",{onClick:n,className:"mt-8 inline-flex items-center gap-2.5 px-8 py-3.5 bg-gradient-to-r from-violet-600 to-cyan-600 text-white font-bold text-base rounded-xl hover:from-violet-500 hover:to-cyan-500 shadow-lg shadow-violet-900/30 transition-all hover:scale-[1.02] cursor-pointer",children:[l.jsx(o_,{s:20})," Sign in with Google  It's Free"]}),r&&l.jsx("p",{className:"mt-3 text-sm text-rose-400",children:r})]}),l.jsxs("footer",{className:"border-t border-white/[0.04] px-5 sm:px-8 lg:px-16 py-5 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1.5 opacity-30",children:[l.jsx("img",{src:Tb,alt:"",className:"h-5 w-auto"}),l.jsxs("span",{className:"text-xs font-bold text-white",style:{fontFamily:"'Poppins', sans-serif"},children:["Capital",l.jsx("span",{class:"text-emerald-400",children:"Friends"})]})]}),l.jsx("p",{className:"text-xs text-slate-600",children:"Your data. Your Google Drive. Your control."})]})]})}function l_({icon:e,title:t,items:r,bad:n}){const a=n?"border-rose-500/15":"border-emerald-500/15",s=n?"bg-rose-500/[0.04]":"bg-emerald-500/[0.04]",c=n?"bg-rose-500/10 text-rose-400":"bg-emerald-500/10 text-emerald-400",u=n?"text-rose-400":"text-emerald-400";return l.jsxs("div",{className:`rounded-2xl border ${a} ${s} p-6`,children:[l.jsxs("h3",{className:`text-lg font-bold ${u} mb-4 flex items-center gap-2.5`,children:[l.jsx("span",{className:`flex items-center justify-center w-8 h-8 rounded-lg ${c} shrink-0`,children:e}),t]}),l.jsx("ul",{className:"space-y-3",children:r.map((f,m)=>l.jsxs("li",{className:"flex items-start gap-2.5",children:[n?l.jsx("span",{className:"text-rose-500/60 mt-0.5 shrink-0",children:""}):l.jsx(vc,{size:16,className:"text-emerald-500 mt-0.5 shrink-0"}),l.jsx("span",{className:"text-sm text-slate-300 leading-relaxed",children:f})]},m))})]})}function Nie(){return l.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f]",children:[l.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Dashboard"}),l.jsx("div",{className:"flex gap-1.5",children:["Everyone","Jagadeesh","Priya","Arjun"].map((e,t)=>l.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ${t===0?"bg-violet-500/20 text-violet-300":"text-slate-600"}`,children:e},e))})]}),l.jsxs("div",{className:"grid grid-cols-3 divide-x divide-white/[0.04]",children:[l.jsx(Pb,{l:"Net Worth",v:"45.2L",lc:"text-violet-400",vc:"text-white"}),l.jsx(Pb,{l:"Invested",v:"38.7L",lc:"text-slate-500",vc:"text-slate-300"}),l.jsx(Pb,{l:"P&L",v:"+6.5L",lc:"text-slate-500",vc:"text-emerald-400",extra:"+16.8%"})]}),l.jsxs("div",{className:"border-t border-white/[0.04]",children:[l.jsx(Ib,{n:"Axis Bluechip Fund",alloc:"30% / 25%",cur:"6.2L",pl:"+24.0%",ath:"5.2%",athC:"text-[#e67e00]",up:!0}),l.jsx(Ib,{n:"Parag Parikh Flexi Cap",alloc:"35% / 40%",cur:"4.8L",pl:"+37.1%",ath:"At ATH",athC:"text-emerald-500",up:!0}),l.jsx(Ib,{n:"SBI Small Cap Fund",alloc:"20% / 15%",cur:"1.8L",pl:"-10.0%",ath:"18.3%",athC:"text-[#d84315]",last:!0})]})]})}function Sie(){const e=[{n:"HDFC Mid-Cap Opportunities",nav:"142.35",ath:"168.50",pct:"15.5%",color:"text-[#d84315]",signal:"Good Buy Signal",sigC:"text-[#d84315] bg-[#d84315]/15"},{n:"Axis Small Cap Fund",nav:"38.22",ath:"52.10",pct:"26.6%",color:"text-[#c62828]",signal:"Strong Buy",sigC:"text-[#c62828] bg-[#c62828]/15 font-bold"},{n:"Kotak Emerging Equity",nav:"89.10",ath:"92.40",pct:"3.6%",color:"text-[#b8860b]",signal:"Watch",sigC:"text-[#b8860b] bg-[#b8860b]/15"},{n:"Mirae Asset Large Cap",nav:"105.80",ath:"106.20",pct:"0.4%",color:"text-slate-500",signal:"Near ATH",sigC:"text-slate-500 bg-white/[0.04]"}];return l.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-semibold text-white",children:"Buy Opportunities"}),l.jsx("span",{className:"text-xs text-emerald-400 font-semibold bg-emerald-500/10 px-2.5 py-1 rounded-full",children:"2 signals"})]}),e.map((t,r)=>l.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${r<e.length-1?"border-b border-white/[0.03]":""}`,children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:t.n}),l.jsxs("p",{className:"text-xs text-slate-600 mt-0.5",children:["NAV ","",t.nav,"  ATH ","",t.ath]})]}),l.jsxs("div",{className:"text-right shrink-0 ml-3",children:[l.jsxs("p",{className:`text-base font-bold tabular-nums ${t.color}`,children:[l.jsx(gF,{size:13,className:"inline -mt-0.5"})," ",t.pct]}),l.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded ${t.sigC}`,children:t.signal})]})]},r))]})}function Cie(){const[e,t]=j.useState(0),r=["SIP Adjust","Lumpsum","Buy / Sell"],n=["New SIP","Lumpsum Top-up","Action"],s=[[{n:"Axis Bluechip",val:"SIP 6,000",cur:"30%",tgt:"25%",action:"Stop SIP",actionC:"text-amber-400"},{n:"Parag Parikh Flexi",val:"SIP 7,000",cur:"35%",tgt:"40%",action:"12,000/mo",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"SIP 4,000",cur:"20%",tgt:"15%",action:"Stop SIP",actionC:"text-amber-400"},{n:"HDFC Large Cap",val:"SIP 3,000",cur:"15%",tgt:"20%",action:"8,000/mo",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"No action",actionC:"text-slate-600"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Invest 55,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"No action",actionC:"text-slate-600"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Invest 45,000",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Buy 50,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Buy 50,000",actionC:"text-emerald-400"}]][e];return l.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-semibold text-white",children:"Rebalance Portfolio"}),l.jsx("span",{className:"text-xs text-violet-400 font-semibold bg-violet-500/10 px-2.5 py-1 rounded-full",children:"4 off-target"})]}),l.jsx("div",{className:"flex border-b border-white/[0.04]",children:r.map((c,u)=>l.jsx("button",{onClick:()=>t(u),className:`flex-1 text-xs font-semibold py-2.5 text-center cursor-pointer transition-colors ${u===e?"text-violet-400 border-b-2 border-violet-400":"text-slate-600 hover:text-slate-400"}`,children:c},c))}),l.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 border-b border-white/[0.04] bg-[#0a0f1f]/50 flex-wrap",children:[l.jsx("span",{className:"text-xs text-slate-500",children:"Portfolio Value"}),l.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","10,00,000"]}),e===0&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-xs text-slate-600",children:"|"}),l.jsx("span",{className:"text-xs text-slate-500",children:"Total SIP"}),l.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","20,000"]})]}),e===1&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-xs text-slate-600",children:"|"}),l.jsx("span",{className:"text-xs text-slate-500",children:"Lumpsum"}),l.jsx("input",{type:"text",readOnly:!0,value:"1,00,000",className:"bg-white/[0.04] border border-white/[0.08] rounded-md px-2 py-1 text-sm text-white font-semibold tabular-nums w-24 text-right cursor-default outline-none"})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 text-xs text-slate-600 font-semibold border-b border-white/[0.03]",children:[l.jsx("span",{children:"Fund / Value"}),l.jsx("span",{className:"text-center",children:"Current"}),l.jsx("span",{className:"text-center",children:"Target"}),l.jsx("span",{className:"text-right",children:n[e]})]}),s.map((c,u)=>l.jsxs("div",{className:`grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 items-center ${u<s.length-1?"border-b border-white/[0.03]":""}`,children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("span",{className:"text-sm text-slate-300 truncate block",children:c.n}),l.jsxs("span",{className:"text-[10px] text-slate-600",children:["",c.val]})]}),l.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:c.cur}),l.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:c.tgt}),l.jsx("span",{className:`text-sm text-right font-semibold ${c.actionC}`,children:c.action})]},`${e}-${u}`))]})]})}function Aie(){const e=[{n:"Retirement",tgt:"2Cr",cur:"28.5L",pct:14,sip:"45,000",yrs:"18 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"Child Education",tgt:"50L",cur:"12.2L",pct:24,sip:"15,000",yrs:"12 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"New Car",tgt:"15L",cur:"4.1L",pct:27,sip:"12,000",yrs:"3 yrs",status:"Needs Attention",sc:"text-amber-400 bg-amber-500/15",bc:"bg-amber-500"}];return l.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-semibold text-white",children:"Goals"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-slate-500",children:"2 On Track"}),l.jsx("span",{className:"text-xs text-amber-400",children:"1 Needs Attention"})]})]}),e.map((t,r)=>l.jsxs("div",{className:`px-4 py-3.5 ${r<e.length-1?"border-b border-white/[0.03]":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-semibold text-white",children:t.n}),l.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${t.sc}`,children:t.status})]}),l.jsxs("span",{className:"text-xs text-slate-500",children:["",t.sip,"/mo  ",t.yrs]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex-1 h-2.5 rounded-full bg-white/[0.06] overflow-hidden",children:l.jsx("div",{className:`h-full rounded-full ${t.bc}`,style:{width:`${t.pct}%`}})}),l.jsxs("span",{className:"text-sm font-semibold text-slate-300 tabular-nums w-10 text-right",children:[t.pct,"%"]})]}),l.jsxs("div",{className:"flex justify-between mt-1.5 text-xs text-slate-600",children:[l.jsxs("span",{children:["",t.cur," of ","",t.tgt]}),l.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[l.jsx(GO,{size:10})," 2 portfolios linked"]})]})]},r))]})}function o_({s:e=16}){return l.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,className:"shrink-0",children:[l.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),l.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),l.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),l.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function Pb({l:e,v:t,lc:r,vc:n,extra:a}){return l.jsxs("div",{className:"py-3.5 text-center",children:[l.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${r}`,children:e}),l.jsxs("p",{className:`text-lg font-bold tabular-nums mt-0.5 ${n}`,children:[t,a&&l.jsx("span",{className:"text-sm ml-1 text-emerald-400",children:a})]})]})}function Ib({n:e,alloc:t,cur:r,pl:n,ath:a,athC:s,up:c,last:u}){return l.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${u?"":"border-b border-white/[0.03]"}`,children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-300",children:e}),l.jsxs("p",{className:"text-xs text-slate-600",children:["Alloc ",t,"  ",l.jsx("span",{className:s,children:a!=="At ATH"?`${a} below ATH`:a})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-200 tabular-nums",children:r}),l.jsx("p",{className:`text-sm font-semibold tabular-nums ${c?"text-emerald-400":"text-rose-400"}`,children:n})]})]})}function qr({c:e,t}){const r={violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400",emerald:"text-emerald-400"};return l.jsxs("div",{className:"flex items-center gap-2.5",children:[l.jsx(vc,{size:16,className:`${r[e]} shrink-0`}),l.jsx("span",{className:"text-sm text-slate-300",children:t})]})}function Lm({num:e,icon:t,color:r,title:n,desc:a}){const s={violet:["text-violet-400","bg-violet-500/10","border-violet-500/20","from-violet-500/20 to-violet-500/5"],emerald:["text-emerald-400","bg-emerald-500/10","border-emerald-500/20","from-emerald-500/20 to-emerald-500/5"],cyan:["text-cyan-400","bg-cyan-500/10","border-cyan-500/20","from-cyan-500/20 to-cyan-500/5"],amber:["text-amber-400","bg-amber-500/10","border-amber-500/20","from-amber-500/20 to-amber-500/5"]},[c,u,f,m]=s[r]||s.violet;return l.jsxs("div",{className:`relative rounded-2xl border ${f} bg-gradient-to-b ${m} p-6 text-center`,children:[l.jsx("span",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl ${u} ${c} mb-4`,children:t}),l.jsxs("span",{className:`absolute top-4 right-4 text-xs font-bold ${c} opacity-40`,children:["0",e]}),l.jsx("h3",{className:"text-base font-bold text-white mb-2",children:n}),l.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:a})]})}function Rb({icon:e,t,d:r,bg:n,c:a}){const s={emerald:"text-emerald-400",violet:"text-violet-400",amber:"text-amber-400"};return l.jsxs("div",{className:`flex-1 ${n} px-5 sm:px-8 lg:px-10 py-6 sm:py-8 border-b sm:border-b-0 sm:border-r border-white/[0.04] last:border-0`,children:[l.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[l.jsx("span",{className:`${s[a]} shrink-0`,children:e}),t]}),l.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:r})]})}const c_={violet:["text-violet-400","bg-violet-500/8","border-violet-500/10"],blue:["text-blue-400","bg-blue-500/8","border-blue-500/10"],emerald:["text-emerald-400","bg-emerald-500/8","border-emerald-500/10"],cyan:["text-cyan-400","bg-cyan-500/8","border-cyan-500/10"],rose:["text-rose-400","bg-rose-500/8","border-rose-500/10"],orange:["text-orange-400","bg-orange-500/8","border-orange-500/10"],teal:["text-teal-400","bg-teal-500/8","border-teal-500/10"],red:["text-red-400","bg-red-500/8","border-red-500/10"],yellow:["text-yellow-400","bg-yellow-500/8","border-yellow-500/10"],pink:["text-pink-400","bg-pink-500/8","border-pink-500/10"]};function ws({icon:e,c:t,t:r,d:n}){const[a,s,c]=c_[t]||c_.violet;return l.jsxs("div",{className:`rounded-xl border ${c} ${s} p-5`,children:[l.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[l.jsx("span",{className:`${a} shrink-0`,children:e}),r]}),l.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:n})]})}function Mie(){const{isAuthenticated:e,loading:t}=Ul();return t?l.jsx(yh,{}):e?l.jsx(dp,{to:"/investments/mutual-funds",replace:!0}):l.jsx(uI,{})}function Die(){const e=ba();return l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-violet-500/15 rounded-2xl flex items-center justify-center mb-4",children:l.jsx(GF,{size:32,className:"text-violet-400"})}),l.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)] mb-2",children:"Coming Soon"}),l.jsx("p",{className:"text-[var(--text-muted)] text-sm max-w-sm",children:"This page is under construction. Navigate using the sidebar to explore available sections."}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-3 font-mono",children:e.pathname})]})}const kie=["Savings Account","Current Account","Fixed Deposit (FD)","Recurring Deposit (RD)","NRE Account","NRO Account","Minor Account"].map(e=>({value:e,label:e}));function Eie({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:a}=dt(),s=!!e,[c,u]=j.useState({accountName:e?.accountName||"",memberId:e?.memberId||"",bankName:e?.bankName||"",accountNumber:e?.accountNumber||"",ifscCode:e?.ifscCode||"",branchName:e?.branchName||"",accountType:e?.accountType||"",status:e?.status||"Active"}),[f,m]=j.useState({}),[h,v]=j.useState(!1);function x(y,C){u(M=>({...M,[y]:C})),m(M=>({...M,[y]:void 0}))}function b(){const y={};return c.accountName.trim()||(y.accountName="Required"),c.memberId||(y.memberId="Required"),c.bankName.trim()||(y.bankName="Required"),String(c.accountNumber||"").trim()||(y.accountNumber="Required"),c.ifscCode.trim()||(y.ifscCode="Required"),c.branchName.trim()||(y.branchName="Required"),c.accountType||(y.accountType="Required"),m(y),Object.keys(y).length===0}async function S(){if(b()){v(!0);try{await t({...c,ifscCode:c.ifscCode.toUpperCase()})}finally{v(!1)}}}const w=a.map(y=>({value:y.memberId,label:`${y.memberName} (${y.relationship})`}));return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Account Name",required:!0,error:f.accountName,children:l.jsx(Ce,{value:c.accountName,onChange:y=>x("accountName",y),placeholder:"e.g., HDFC Savings"})}),l.jsx(oe,{label:"Family Member",required:!0,error:f.memberId,children:l.jsx(Ye,{value:c.memberId,onChange:y=>x("memberId",y),options:w,placeholder:"Select member..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Bank Name",required:!0,error:f.bankName,children:l.jsx(Ce,{value:c.bankName,onChange:y=>x("bankName",y),placeholder:"e.g., HDFC Bank"})}),l.jsx(oe,{label:"Account Type",required:!0,error:f.accountType,children:l.jsx(Ye,{value:c.accountType,onChange:y=>x("accountType",y),options:kie,placeholder:"Select type..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Account Number",required:!0,error:f.accountNumber,children:l.jsx(Ce,{sensitive:!0,value:c.accountNumber,onChange:y=>x("accountNumber",y),placeholder:"e.g., 1234567890"})}),l.jsx(oe,{label:"IFSC Code",required:!0,error:f.ifscCode,children:l.jsx(Ce,{value:c.ifscCode,onChange:y=>x("ifscCode",y.toUpperCase()),placeholder:"e.g., HDFC0001234",maxLength:11})})]}),l.jsx(oe,{label:"Branch Name",required:!0,error:f.branchName,children:l.jsx(Ce,{value:c.branchName,onChange:y=>x("branchName",y),placeholder:"e.g., Hyderabad - Kondapur"})}),s&&l.jsx(oe,{label:"Status",children:l.jsx(Ye,{value:c.status,onChange:y=>x("status",y),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),l.jsxs("div",{className:"flex items-center justify-between",children:[s&&r?l.jsx(Yi,{onClick:r}):l.jsx("div",{}),l.jsx(Zr,{onCancel:n,onSubmit:S,submitLabel:s?"Update":"Add Account",loading:h})]})]})}function Vi({title:e="Loading"}){return l.jsxs("div",{className:"flex flex-col items-center justify-center py-32 gap-3",children:[l.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),l.jsxs("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:[e,"..."]})]})}const u_={"Savings Account":"bg-blue-500/15 text-[var(--accent-blue)]",Savings:"bg-blue-500/15 text-[var(--accent-blue)]",Salary:"bg-emerald-500/15 text-emerald-400","Current Account":"bg-violet-500/15 text-[var(--accent-violet)]","Fixed Deposit":"bg-amber-500/15 text-[var(--accent-amber)]","Fixed Deposit (FD)":"bg-amber-500/15 text-[var(--accent-amber)]"};function d_(){const{selectedMember:e,member:t}=zr(),{banks:r,addBankAccount:n,updateBankAccount:a,deleteBankAccount:s}=dt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=Qa(),m=Xa(),{mv:h}=Za(),[v,x]=j.useState(null);if(r===null)return l.jsx(Vi,{title:"Loading bank accounts",cards:3});const b=j.useMemo(()=>{const M=r.filter(A=>A.status!=="Inactive");return e==="all"?M:M.filter(A=>A.memberId===e)},[r,e]),S=j.useMemo(()=>new Set(b.map(M=>M.bankName)).size,[b]),w=j.useMemo(()=>b.filter(M=>M.accountType==="Savings"||M.accountType==="Savings Account"||M.accountType==="Salary").length,[b]);async function y(M){u("Saving...");try{v?.edit?await a(v.edit.accountId,M):await n(M),c(v?.edit?"Bank account updated":"Bank account added"),x(null)}catch(A){c(A.message||"Failed to save bank account","error")}finally{f()}}async function C(){if(v?.edit&&await m("Deactivate this bank account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){u("Deactivating...");try{await s(v.edit.accountId),c("Bank account deactivated"),x(null)}catch(M){c(M.message||"Failed to deactivate bank account","error")}finally{f()}}}return l.jsxs("div",{className:"space-y-4",children:[b.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(y8,{size:32,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No bank accounts",t?` for ${t.memberName}`:""]}),l.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first bank account"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[l.jsx(Lb,{label:"Total Accounts",value:b.length}),l.jsx(Lb,{label:"Banks",value:S}),l.jsx(Lb,{label:"Savings / Salary",value:w})]}),l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Yr,{size:14})," Add Account"]})}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[580px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Bank"}),!t&&l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account No."}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Branch"}),l.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),l.jsx("tbody",{children:b.map(M=>l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsx("td",{className:"py-2.5 px-4",children:l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.accountName})}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.bankName}),!t&&l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:h(M.memberName,"name")}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${u_[M.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.accountType})}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:h(M.accountNumber,"account")}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:M.branchName}),l.jsx("td",{className:"py-2.5 px-2",children:l.jsx("button",{onClick:()=>x({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:l.jsx(ya,{size:12})})})]},M.accountId))})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(M=>l.jsxs("div",{onClick:()=>x({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.accountName}),l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${u_[M.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.accountType})]}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.bankName,t?"":`  ${h(M.memberName,"name")}`]}),l.jsxs("div",{className:"flex items-center justify-between mt-1",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:h(M.accountNumber,"account")}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:M.branchName})]})]},M.accountId))})]})]}),l.jsx(fr,{open:!!v,onClose:()=>x(null),title:v?.edit?"Edit Bank Account":"Add Bank Account",children:l.jsx(Eie,{initial:v?.edit||void 0,onSave:y,onDelete:v?.edit?C:void 0,onCancel:()=>x(null)})})]})}function Lb({label:e,value:t}){return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:t})]})}const _ie=["Demat + Trading","Mutual Fund","Trading","Direct AMC","Broker"].map(e=>({value:e,label:e}));function Oie({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:a,activeBanks:s}=dt(),c=!!e,[u,f]=j.useState({accountName:e?.accountName||"",memberId:e?.memberId||"",bankAccountId:e?.bankAccountId||"",accountType:e?.accountType||"",platformBroker:e?.platformBroker||"",accountClientId:e?.accountClientId||"",dematDpId:e?.dematDpId||"",registeredEmail:e?.registeredEmail||"",registeredPhone:e?.registeredPhone||"",status:e?.status||"Active"}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(A,_){f(E=>({...E,[A]:_})),h(E=>({...E,[A]:void 0}))}function S(A){f(_=>({..._,memberId:A,bankAccountId:""})),h(_=>({..._,memberId:void 0}))}function w(){const A={};return u.accountName.trim()||(A.accountName="Required"),u.memberId||(A.memberId="Required"),u.bankAccountId||(A.bankAccountId="Required"),u.accountType||(A.accountType="Required"),u.platformBroker.trim()||(A.platformBroker="Required"),u.registeredEmail.trim()||(A.registeredEmail="Required"),u.registeredPhone.trim()||(A.registeredPhone="Required"),h(A),Object.keys(A).length===0}async function y(){if(w()){x(!0);try{await t(u)}finally{x(!1)}}}const C=a.map(A=>({value:A.memberId,label:`${A.memberName} (${A.relationship})`})),M=j.useMemo(()=>u.memberId?s.filter(A=>A.memberId===u.memberId).map(A=>({value:A.accountId,label:`${A.accountName} - ${A.bankName}`})):[],[s,u.memberId]);return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Account Name",required:!0,error:m.accountName,children:l.jsx(Ce,{value:u.accountName,onChange:A=>b("accountName",A),placeholder:"e.g., Zerodha Demat"})}),l.jsx(oe,{label:"Family Member",required:!0,error:m.memberId,children:l.jsx(Ye,{value:u.memberId,onChange:S,options:C,placeholder:"Select member..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Linked Bank Account",required:!0,error:m.bankAccountId,children:l.jsx(Ye,{value:u.bankAccountId,onChange:A=>b("bankAccountId",A),options:M,placeholder:u.memberId?M.length?"Select bank account...":"No bank accounts for this member":"Select member first..."})}),l.jsx(oe,{label:"Account Type",required:!0,error:m.accountType,children:l.jsx(Ye,{value:u.accountType,onChange:A=>b("accountType",A),options:_ie,placeholder:"Select type..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Platform / Broker",required:!0,error:m.platformBroker,children:l.jsx(Ce,{value:u.platformBroker,onChange:A=>b("platformBroker",A),placeholder:"e.g., Zerodha, Groww"})}),l.jsx(oe,{label:"Account / Client ID",error:m.accountClientId,children:l.jsx(Ce,{sensitive:!0,value:u.accountClientId,onChange:A=>b("accountClientId",A),placeholder:"e.g., ZR1234 (optional)"})})]}),l.jsx(oe,{label:"Demat DP ID",error:m.dematDpId,children:l.jsx(Ce,{sensitive:!0,value:u.dematDpId,onChange:A=>b("dematDpId",A),placeholder:"16-digit DP ID (optional)",maxLength:16})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Registered Email",required:!0,error:m.registeredEmail,children:l.jsx(Ce,{sensitive:!0,type:"email",value:u.registeredEmail,onChange:A=>b("registeredEmail",A),placeholder:"email@example.com"})}),l.jsx(oe,{label:"Registered Phone",required:!0,error:m.registeredPhone,children:l.jsx(Ce,{sensitive:!0,value:u.registeredPhone,onChange:A=>b("registeredPhone",A),placeholder:"9876543210"})})]}),c&&l.jsx(oe,{label:"Status",children:l.jsx(Ye,{value:u.status,onChange:A=>b("status",A),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),l.jsxs("div",{className:"flex items-center justify-between",children:[c&&r?l.jsx(Yi,{onClick:r}):l.jsx("div",{}),l.jsx(Zr,{onCancel:n,onSubmit:y,submitLabel:c?"Update":"Add Account",loading:v})]})]})}const f_={"Demat + Trading":"bg-violet-500/15 text-[var(--accent-violet)]","Mutual Fund":"bg-blue-500/15 text-[var(--accent-blue)]",Trading:"bg-orange-500/15 text-[var(--accent-orange)]",Demat:"bg-amber-500/15 text-[var(--accent-amber)]","Direct AMC":"bg-emerald-500/15 text-emerald-400",Broker:"bg-rose-500/15 text-[var(--accent-rose)]"};function Tie(){const{selectedMember:e,member:t}=zr(),{investmentAccounts:r,addInvestmentAccount:n,updateInvestmentAccount:a,deleteInvestmentAccount:s}=dt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=Qa(),m=Xa(),{mv:h}=Za(),[v,x]=j.useState(null);if(r===null)return l.jsx(Vi,{title:"Loading investment accounts",cards:4});const b=j.useMemo(()=>{const A=r.filter(_=>_.status!=="Inactive");return e==="all"?A:A.filter(_=>_.memberId===e)},[r,e]),S=j.useMemo(()=>new Set(b.map(A=>A.platformBroker)).size,[b]),w=b.filter(A=>A.accountType==="Demat + Trading"||A.accountType==="Demat"||A.accountType==="Trading").length,y=b.filter(A=>A.accountType==="Mutual Fund"||A.accountType==="Direct AMC").length;async function C(A){u("Saving...");try{v?.edit?await a(v.edit.accountId,A):await n(A),c(v?.edit?"Investment account updated":"Investment account added"),x(null)}catch(_){c(_.message||"Failed to save investment account","error")}finally{f()}}async function M(){if(v?.edit&&await m("Deactivate this investment account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){u("Deactivating...");try{await s(v.edit.accountId),c("Investment account deactivated"),x(null)}catch(A){c(A.message||"Failed to deactivate investment account","error")}finally{f()}}}return l.jsxs("div",{className:"space-y-4",children:[b.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(qO,{size:32,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No investment accounts",t?` for ${t.memberName}`:""]}),l.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first investment account"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[l.jsx(zm,{label:"Total Accounts",value:b.length}),l.jsx(zm,{label:"Platforms",value:S}),l.jsx(zm,{label:"Demat / Trading",value:w}),l.jsx(zm,{label:"Mutual Fund",value:y})]}),l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Yr,{size:14})," Add Account"]})}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[620px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Platform"}),!t&&l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Client ID"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Bank"}),l.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),l.jsx("tbody",{children:b.map(A=>l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsx("td",{className:"py-2.5 px-4",children:l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:A.accountName})}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:A.platformBroker}),!t&&l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:h(A.memberName,"name")}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${f_[A.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:A.accountType})}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:h(A.accountClientId,"clientId")}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:A.bankAccountName}),l.jsx("td",{className:"py-2.5 px-2",children:l.jsx("button",{onClick:()=>x({edit:A}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:l.jsx(ya,{size:12})})})]},A.accountId))})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(A=>l.jsxs("div",{onClick:()=>x({edit:A}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:A.accountName}),l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${f_[A.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:A.accountType})]}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[A.platformBroker,t?"":`  ${h(A.memberName,"name")}`]}),l.jsxs("div",{className:"flex items-center justify-between mt-1",children:[l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Client: ",h(A.accountClientId,"clientId")]}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:A.bankAccountName})]})]},A.accountId))})]})]}),l.jsx(fr,{open:!!v,onClose:()=>x(null),title:v?.edit?"Edit Investment Account":"Add Investment Account",wide:!0,children:l.jsx(Oie,{initial:v?.edit||void 0,onSave:C,onDelete:v?.edit?M:void 0,onCancel:()=>x(null)})})]})}function zm({label:e,value:t}){return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:t})]})}const Pie=["Term Life","Health","Motor","Home Insurance","Travel","Personal Accident","Life Insurance","Others"].map(e=>({value:e,label:e})),Iie=[{value:"Active",label:"Active"},{value:"Expired",label:"Expired"},{value:"Surrendered",label:"Surrendered"},{value:"Lapsed",label:"Lapsed"},{value:"Inactive",label:"Inactive"}];function Rie({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:a}=dt(),s=!!e,[c,u]=j.useState({policyType:e?.policyType||"",company:e?.company||"",policyNumber:e?.policyNumber||"",policyName:e?.policyName||"",insuredMember:e?.insuredMember||"",memberId:e?.memberId||"",sumAssured:e?.sumAssured||"",nominee:e?.nominee||"",premium:e?.premium||"",premiumFrequency:e?.premiumFrequency||"Annual",status:e?.status||"Active",notes:e?.notes||""}),[f,m]=j.useState({}),[h,v]=j.useState(!1);function x(C,M){u(A=>({...A,[C]:M})),m(A=>({...A,[C]:void 0}))}function b(C){const M=a.find(A=>A.memberId===C);u(A=>({...A,memberId:C,insuredMember:M?.memberName||""})),m(A=>({...A,memberId:void 0}))}function S(){const C={};return c.policyType||(C.policyType="Required"),c.company.trim()||(C.company="Required"),c.policyNumber.trim()||(C.policyNumber="Required"),c.policyName.trim()||(C.policyName="Required"),c.memberId||(C.memberId="Required"),(!c.sumAssured||Number(c.sumAssured)<=0)&&(C.sumAssured="Must be > 0"),m(C),Object.keys(C).length===0}async function w(){if(S()){v(!0);try{await t({...c,sumAssured:Number(c.sumAssured),premium:Number(c.premium)||0})}finally{v(!1)}}}const y=a.map(C=>({value:C.memberId,label:`${C.memberName} (${C.relationship})`}));return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Policy Type",required:!0,error:f.policyType,children:l.jsx(Ye,{value:c.policyType,onChange:C=>x("policyType",C),options:Pie,placeholder:"Select type..."})}),l.jsx(oe,{label:"Insurance Company",required:!0,error:f.company,children:l.jsx(Ce,{value:c.company,onChange:C=>x("company",C),placeholder:"e.g., HDFC Life"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Policy Number",required:!0,error:f.policyNumber,children:l.jsx(Ce,{sensitive:!0,value:c.policyNumber,onChange:C=>x("policyNumber",C),placeholder:"e.g., HL-2024-78901"})}),l.jsx(oe,{label:"Policy Name",required:!0,error:f.policyName,children:l.jsx(Ce,{value:c.policyName,onChange:C=>x("policyName",C),placeholder:"e.g., Click 2 Protect Life"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Insured Member",required:!0,error:f.memberId,children:l.jsx(Ye,{value:c.memberId,onChange:b,options:y,placeholder:"Select member..."})}),l.jsx(oe,{label:"Nominee",children:l.jsx(Ye,{value:c.nominee,onChange:C=>x("nominee",C),options:y.map(C=>({...C,label:C.label.split(" (")[0]})),placeholder:"Select nominee (optional)..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsx(oe,{label:"Sum Assured ()",required:!0,error:f.sumAssured,children:l.jsx(Ce,{type:"number",value:c.sumAssured,onChange:C=>x("sumAssured",C),placeholder:"e.g., 10000000"})}),l.jsx(oe,{label:"Premium ()",children:l.jsx(Ce,{type:"number",value:c.premium,onChange:C=>x("premium",C),placeholder:"e.g., 12500"})}),l.jsx(oe,{label:"Premium Frequency",children:l.jsx(Ye,{value:c.premiumFrequency,onChange:C=>x("premiumFrequency",C),options:[{value:"Annual",label:"Annual"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"}]})})]}),s&&l.jsx(oe,{label:"Status",children:l.jsx(Ye,{value:c.status,onChange:C=>x("status",C),options:Iie})}),l.jsx(oe,{label:"Notes",children:l.jsx(cc,{value:c.notes,onChange:C=>x("notes",C),placeholder:"Additional information..."})}),l.jsxs("div",{className:"flex items-center justify-between",children:[s&&r?l.jsx(Yi,{onClick:r}):l.jsx("div",{}),l.jsx(Zr,{onCancel:n,onSubmit:w,submitLabel:s?"Update":"Add Policy",loading:h})]})]})}const m_={"Term Life":"bg-rose-500/15 text-[var(--accent-rose)]",Health:"bg-emerald-500/15 text-emerald-400",Motor:"bg-blue-500/15 text-[var(--accent-blue)]","Home Insurance":"bg-amber-500/15 text-[var(--accent-amber)]",Travel:"bg-violet-500/15 text-[var(--accent-violet)]","Life Insurance":"bg-rose-500/15 text-[var(--accent-rose)]","Personal Accident":"bg-orange-500/15 text-[var(--accent-orange)]"};function Lie(){const{selectedMember:e,member:t}=zr(),{insurancePolicies:r,addInsurance:n,updateInsurance:a,deleteInsurance:s}=dt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=Qa(),m=Xa(),{mv:h}=Za(),[v,x]=j.useState(null);if(r===null)return l.jsx(Vi,{title:"Loading insurance",cards:5});const b=j.useMemo(()=>{const _=r.filter(E=>E.status!=="Inactive");return e==="all"?_:_.filter(E=>E.memberId===e)},[r,e]),S=b.reduce((_,E)=>_+(E.sumAssured||0),0),w=b.reduce((_,E)=>_+(E.premium||0),0),y=b.filter(_=>_.policyType==="Term Life"||_.policyType==="Life Insurance").reduce((_,E)=>_+(E.sumAssured||0),0),C=b.filter(_=>_.policyType==="Health").reduce((_,E)=>_+(E.sumAssured||0),0);async function M(_){u("Saving...");try{v?.edit?await a(v.edit.policyId,_):await n(_),c(v?.edit?"Insurance policy updated":"Insurance policy added"),x(null)}catch(E){c(E.message||"Failed to save insurance policy","error")}finally{f()}}async function A(){if(v?.edit&&await m("Deactivate this insurance policy?",{title:"Deactivate Policy",confirmLabel:"Deactivate"})){u("Deactivating...");try{await s(v.edit.policyId),c("Insurance policy deactivated"),x(null)}catch(_){c(_.message||"Failed to deactivate insurance policy","error")}finally{f()}}}return l.jsxs("div",{className:"space-y-4",children:[b.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(Qu,{size:32,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No insurance policies",t?` for ${t.memberName}`:""]}),l.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first policy"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[l.jsx(zu,{label:"Policies",value:b.length}),l.jsx(zu,{label:"Total Cover",value:J(S),bold:!0}),l.jsx(zu,{label:"Life Cover",value:J(y)}),l.jsx(zu,{label:"Health Cover",value:J(C)}),l.jsx(zu,{label:"Annual Premium",value:J(w)})]}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[l.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-3",children:"Coverage Adequacy"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsx(p_,{label:"Life Insurance",current:y,recommended:"10-15x annual income",tip:"Term life cover should be 10-15x your annual income to protect dependents",icon:"heart"}),l.jsx(p_,{label:"Health Insurance",current:C,recommended:"50L - 1Cr family floater",tip:"Considering medical inflation, a 50L-1Cr family floater is recommended",icon:"shield"})]})]}),l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Yr,{size:14})," Add Policy"]})}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Policy"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Company"}),!t&&l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Insured"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Sum Assured"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Premium"}),l.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),l.jsx("tbody",{children:b.map(_=>l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsxs("td",{className:"py-2.5 px-4",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:_.policyName}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:h(_.policyNumber,"policy")})]}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${m_[_.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:_.policyType})}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:_.company}),!t&&l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:_.insuredMember}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:J(_.sumAssured)}),l.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:[J(_.premium),"/",_.premiumFrequency==="Annual"?"yr":"mo"]}),l.jsx("td",{className:"py-2.5 px-2",children:l.jsx("button",{onClick:()=>x({edit:_}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:l.jsx(ya,{size:12})})})]},_.policyId))})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(_=>l.jsxs("div",{onClick:()=>x({edit:_}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:_.policyName}),l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${m_[_.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:_.policyType})]}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[_.company,t?"":`  ${_.insuredMember}`]}),l.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Cover"}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:J(_.sumAssured)})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Premium"}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[J(_.premium),"/",_.premiumFrequency==="Annual"?"yr":"mo"]})]})]})]},_.policyId))})]})]}),l.jsx(fr,{open:!!v,onClose:()=>x(null),title:v?.edit?"Edit Insurance Policy":"Add Insurance Policy",wide:!0,children:l.jsx(Rie,{initial:v?.edit||void 0,onSave:M,onDelete:v?.edit?A:void 0,onCancel:()=>x(null)})})]})}function p_({label:e,current:t,recommended:r,tip:n}){const a=t===0;return l.jsxs("div",{className:`rounded-lg border px-3 py-2.5 ${a?"border-rose-500/30 bg-rose-500/5":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:e}),a?l.jsx("span",{className:"text-xs font-bold text-[var(--accent-rose)]",children:"Not covered"}):l.jsx("span",{className:"text-xs font-semibold text-emerald-400",children:J(t)})]}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Recommended: ",r]}),l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5 italic",children:n})]})}function zu({label:e,value:t,bold:r}){return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm tabular-nums ${r?"font-bold":"font-semibold"} text-[var(--text-primary)]`,children:t})]})}const zie=["Home Loan","Car Loan","Personal Loan","Education Loan","Gold Loan","Credit Card","Business Loan","Loan Against Property","Other"].map(e=>({value:e,label:e})),Fie=[{value:"Active",label:"Active"},{value:"Closed",label:"Closed"},{value:"Inactive",label:"Inactive"}];function Bie({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:a}=dt(),s=!!e,[c,u]=j.useState({liabilityType:e?.liabilityType||"",lenderName:e?.lenderName||"",familyMemberId:e?.familyMemberId||"",outstandingBalance:e?.outstandingBalance||"",emiAmount:e?.emiAmount||"",interestRate:e?.interestRate||"",status:e?.status||"Active",notes:e?.notes||""}),[f,m]=j.useState({}),[h,v]=j.useState(!1);function x(y,C){u(M=>({...M,[y]:C})),m(M=>({...M,[y]:void 0}))}function b(){const y={};return c.liabilityType||(y.liabilityType="Required"),c.lenderName.trim()||(y.lenderName="Required"),(!c.outstandingBalance||Number(c.outstandingBalance)<=0)&&(y.outstandingBalance="Must be > 0"),m(y),Object.keys(y).length===0}async function S(){if(b()){v(!0);try{await t({...c,outstandingBalance:Number(c.outstandingBalance),emiAmount:Number(c.emiAmount)||0,interestRate:Number(c.interestRate)||0})}finally{v(!1)}}}const w=a.map(y=>({value:y.memberId,label:`${y.memberName} (${y.relationship})`}));return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Liability Type",required:!0,error:f.liabilityType,children:l.jsx(Ye,{value:c.liabilityType,onChange:y=>x("liabilityType",y),options:zie,placeholder:"Select type..."})}),l.jsx(oe,{label:"Lender / Bank",required:!0,error:f.lenderName,children:l.jsx(Ce,{value:c.lenderName,onChange:y=>x("lenderName",y),placeholder:"e.g., HDFC Bank"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Family Member",children:l.jsx(Ye,{value:c.familyMemberId,onChange:y=>x("familyMemberId",y),options:w,placeholder:"Select member (optional)..."})}),l.jsx(oe,{label:"Outstanding Balance ()",required:!0,error:f.outstandingBalance,children:l.jsx(Ce,{type:"number",value:c.outstandingBalance,onChange:y=>x("outstandingBalance",y),placeholder:"e.g., 3500000"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"EMI Amount ()",children:l.jsx(Ce,{type:"number",value:c.emiAmount,onChange:y=>x("emiAmount",y),placeholder:"e.g., 32000"})}),l.jsx(oe,{label:"Interest Rate (%)",children:l.jsx(Ce,{type:"number",value:c.interestRate,onChange:y=>x("interestRate",y),placeholder:"e.g., 8.5",step:"0.01"})})]}),s&&l.jsx(oe,{label:"Status",children:l.jsx(Ye,{value:c.status,onChange:y=>x("status",y),options:Fie})}),l.jsx(oe,{label:"Notes",children:l.jsx(cc,{value:c.notes,onChange:y=>x("notes",y),placeholder:"e.g., Flat in Kondapur"})}),l.jsxs("div",{className:"flex items-center justify-between",children:[s&&r?l.jsx(Yi,{onClick:r}):l.jsx("div",{}),l.jsx(Zr,{onCancel:n,onSubmit:S,submitLabel:s?"Update":"Add Liability",loading:h})]})]})}const h_={"Home Loan":"bg-blue-500/15 text-[var(--accent-blue)]","Car Loan":"bg-amber-500/15 text-[var(--accent-amber)]","Gold Loan":"bg-orange-500/15 text-[var(--accent-orange)]","Personal Loan":"bg-violet-500/15 text-[var(--accent-violet)]","Education Loan":"bg-emerald-500/15 text-emerald-400","Credit Card":"bg-rose-500/15 text-[var(--accent-rose)]"};function $ie(){const{selectedMember:e,member:t}=zr(),{liabilityList:r,addLiability:n,updateLiability:a,deleteLiability:s}=dt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=Qa(),m=Xa(),[h,v]=j.useState(null);if(r===null)return l.jsx(Vi,{title:"Loading liabilities",cards:4});const x=j.useMemo(()=>{const M=r.filter(A=>A.status!=="Inactive");return e==="all"?M:M.filter(A=>A.familyMemberId===e)},[r,e]),b=x.reduce((M,A)=>M+(A.outstandingBalance||0),0),S=x.reduce((M,A)=>M+(A.emiAmount||0),0),w=x.filter(M=>M.status==="Active").length;async function y(M){u("Saving...");try{h?.edit?await a(h.edit.liabilityId,M):await n(M),c(h?.edit?"Liability updated":"Liability added"),v(null)}catch(A){c(A.message||"Failed to save liability","error")}finally{f()}}async function C(){if(h?.edit&&await m("Deactivate this liability?",{title:"Deactivate Liability",confirmLabel:"Deactivate"})){u("Deactivating...");try{await s(h.edit.liabilityId),c("Liability deactivated"),v(null)}catch(M){c(M.message||"Failed to deactivate liability","error")}finally{f()}}}return l.jsxs("div",{className:"space-y-4",children:[x.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(Ah,{size:32,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No liabilities",t?` for ${t.memberName}`:""]}),l.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a liability"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[l.jsx(Fm,{label:"Liabilities",value:`${w} active`}),l.jsx(Fm,{label:"Outstanding",value:J(b),color:"rose",bold:!0}),l.jsx(Fm,{label:"Monthly EMI",value:J(S),color:"rose"}),l.jsx(Fm,{label:"Avg. Interest",value:x.length>0?`${(x.reduce((M,A)=>M+(A.interestRate||0),0)/x.length).toFixed(1)}%`:""})]}),l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Yr,{size:14})," Add Liability"]})}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Lender"}),!t&&l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Outstanding"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"EMI"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Interest"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Remaining"}),l.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),l.jsx("tbody",{children:x.map(M=>l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsxs("td",{className:"py-2.5 px-4",children:[l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${h_[M.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.liabilityType}),M.notes&&l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:M.notes})]}),l.jsx("td",{className:"py-2.5 px-3 text-sm font-medium text-[var(--text-primary)]",children:M.lenderName}),!t&&l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.familyMemberName}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:J(M.outstandingBalance)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:M.emiAmount?`${J(M.emiAmount)}/mo`:""}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:M.interestRate?`${M.interestRate}%`:""}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:M.emiAmount>0&&M.outstandingBalance>0?`${Math.ceil(M.outstandingBalance/M.emiAmount)} mo`:""}),l.jsx("td",{className:"py-2.5 px-2",children:l.jsx("button",{onClick:()=>v({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:l.jsx(ya,{size:12})})})]},M.liabilityId))})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:x.map(M=>l.jsxs("div",{onClick:()=>v({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${h_[M.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.liabilityType}),l.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:J(M.outstandingBalance)})]}),l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.lenderName}),l.jsxs("div",{className:"flex items-center justify-between mt-1",children:[l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.familyMemberName,M.notes?`  ${M.notes}`:""]}),l.jsxs("div",{className:"text-right",children:[M.emiAmount>0&&l.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["EMI: ",J(M.emiAmount),"/mo"]}),M.emiAmount>0&&M.outstandingBalance>0&&l.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[Math.ceil(M.outstandingBalance/M.emiAmount)," months left"]})]})]})]},M.liabilityId))})]})]}),l.jsx(fr,{open:!!h,onClose:()=>v(null),title:h?.edit?"Edit Liability":"Add Liability",children:l.jsx(Bie,{initial:h?.edit||void 0,onSave:y,onDelete:h?.edit?C:void 0,onCancel:()=>v(null)})})]})}function Fm({label:e,value:t,color:r,bold:n}){const a=r==="rose"?"text-[var(--accent-rose)]":"text-[var(--text-primary)]";return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm tabular-nums ${n?"font-bold":"font-semibold"} ${a}`,children:t})]})}const qie="cf_market_data",dI=[{value:"Fixed Deposit",category:"Debt"},{value:"PPF",category:"Debt"},{value:"EPF",category:"Debt"},{value:"NPS",category:"Debt"},{value:"Sovereign Gold Bond",category:"Gold"},{value:"Physical Gold",category:"Gold"},{value:"Digital Gold",category:"Gold"},{value:"Real Estate",category:"Property"},{value:"Bonds",category:"Debt"},{value:"Physical Silver",category:"Silver"},{value:"Digital Silver",category:"Silver"},{value:"Crypto",category:"Alternative"},{value:"Other",category:"Other"}],v_={"Real Estate":"Home Loan","Physical Gold":"Gold Loan","Sovereign Gold Bond":"Gold Loan","Fixed Deposit":"Loan Against FD"},Hie=dI.map(e=>({value:e.value,label:e.value})),Uie=["Equity","Debt","Gold","Silver","Property","Alternative","Other"].map(e=>({value:e,label:e})),Yie=[{value:"Active",label:"Active"},{value:"Sold",label:"Sold"},{value:"Matured",label:"Matured"},{value:"Inactive",label:"Inactive"}],x_=[{value:"24K",label:"24K (99.9%)",factor:.999},{value:"22K",label:"22K (91.6%)",factor:.916},{value:"18K",label:"18K (75.0%)",factor:.75}],g_=[{value:"999",label:"999 Fine (99.9%)",factor:.999},{value:"925",label:"925 Sterling (92.5%)",factor:.925}];function cp(e){return["Physical Gold","Digital Gold","Sovereign Gold Bond"].includes(e)}function Vie(e){return["Physical Silver","Digital Silver"].includes(e)||e&&e.toLowerCase().includes("silver")}function zb(e){return cp(e)||Vie(e)}function Gie(e){try{const t=sessionStorage.getItem(qie);if(!t)return null;const r=JSON.parse(t);if(!r.metals)return null;const n=e==="gold"?"Gold":"Silver",a=r.metals.find(s=>s.name.toLowerCase().includes(n.toLowerCase()));return a?a.price:null}catch{return null}}function Kie({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:a,liabilityList:s}=dt(),c=!!e;function u(z){return dI.find(ne=>ne.value===z)?.category||"Other"}const f=e?.dynamicFields?typeof e.dynamicFields=="string"?JSON.parse(e.dynamicFields):e.dynamicFields:{},[m,h]=j.useState({investmentType:e?.investmentType||"",investmentCategory:e?.investmentCategory||"",investmentName:e?.investmentName||"",familyMemberId:e?.familyMemberId||"",investedAmount:e?.investedAmount||"",currentValue:e?.currentValue||"",linkedLiabilityId:e?.linkedLiabilityId||"",status:e?.status||"Active",notes:e?.notes||""}),[v,x]=j.useState(f.weightGrams||""),[b,S]=j.useState(f.purity||""),[w,y]=j.useState(null),[C,M]=j.useState(!1),[A,_]=j.useState({lenderName:"",outstandingBalance:"",emiAmount:"",interestRate:""});j.useEffect(()=>{if(!zb(m.investmentType)||!v||Number(v)<=0){y(null);return}const z=cp(m.investmentType)?"gold":"silver",ne=Gie(z);if(!ne){y(null);return}const $=(z==="gold"?x_:g_).find(pe=>pe.value===b),ie=$?$.factor:1;y(Math.round(Number(v)*ne*ie))},[m.investmentType,v,b]);const[E,T]=j.useState({}),[P,O]=j.useState(!1);function L(z,ne){h(ge=>({...ge,[z]:ne})),T(ge=>({...ge,[z]:void 0}))}function R(z){h(ne=>({...ne,investmentType:z,investmentCategory:u(z)})),T(ne=>({...ne,investmentType:void 0}))}function F(z,ne){_(ge=>({...ge,[z]:ne}))}function k(){const z={};return m.investmentType||(z.investmentType="Required"),m.investmentName.trim()||(z.investmentName="Required"),(!m.currentValue||Number(m.currentValue)<0)&&(z.currentValue="Required"),C&&(A.lenderName.trim()||(z.qlLender="Required"),(!A.outstandingBalance||Number(A.outstandingBalance)<=0)&&(z.qlOutstanding="Must be > 0")),T(z),Object.keys(z).length===0}async function X(){if(!k())return;const z={...m,familyMember:m.familyMemberId,investedAmount:Number(m.investedAmount)||0,currentValue:Number(m.currentValue)||0};zb(m.investmentType)&&(z.dynamicFields=JSON.stringify({weightGrams:Number(v)||0,purity:b||""})),C&&A.lenderName&&(z.quickLoan={liabilityType:v_[m.investmentType]||"Personal Loan",lender:A.lenderName,outstanding:Number(A.outstandingBalance)||0,emiAmount:Number(A.emiAmount)||0,interestRate:Number(A.interestRate)||0}),O(!0);try{await t(z)}finally{O(!1)}}const W=(s||[]).filter(z=>z.status!=="Inactive"),Z=[{value:"",label:"None"},...W.map(z=>({value:z.liabilityId,label:`${z.liabilityType}  ${z.lenderName} (${J(z.outstandingBalance)})`}))],B=(a||[]).map(z=>({value:z.memberId,label:`${z.memberName} (${z.relationship})`})),G=v_[m.investmentType];return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Investment Type",required:!0,error:E.investmentType,children:l.jsx(Ye,{value:m.investmentType,onChange:R,options:Hie,placeholder:"Select type..."})}),l.jsx(oe,{label:"Category",children:l.jsx(Ye,{value:m.investmentCategory,onChange:z=>L("investmentCategory",z),options:Uie,placeholder:"Auto-selected..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Investment Name",required:!0,error:E.investmentName,children:l.jsx(Ce,{value:m.investmentName,onChange:z=>L("investmentName",z),placeholder:"e.g., HDFC FD - 7.5%"})}),l.jsx(oe,{label:"Family Member",children:l.jsx(Ye,{value:m.familyMemberId,onChange:z=>L("familyMemberId",z),options:B,placeholder:"Select member (optional)..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Invested Amount",children:l.jsx(Ce,{type:"number",value:m.investedAmount,onChange:z=>L("investedAmount",z),placeholder:"e.g., 500000"})}),l.jsx(oe,{label:"Current Value",required:!0,error:E.currentValue,children:l.jsx(Ce,{type:"number",value:m.currentValue,onChange:z=>L("currentValue",z),placeholder:"e.g., 537500"})})]}),zb(m.investmentType)&&l.jsxs("div",{className:"p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[l.jsxs("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:[cp(m.investmentType)?"Gold":"Silver"," Details"]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsx(oe,{label:"Weight (grams)",children:l.jsx(Ce,{type:"number",value:v,onChange:x,placeholder:"e.g., 50"})}),l.jsx(oe,{label:"Purity",children:l.jsx(Ye,{value:b,onChange:S,options:(cp(m.investmentType)?x_:g_).map(z=>({value:z.value,label:z.label})),placeholder:"Select purity..."})})]}),w!==null&&l.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-card)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Estimated market value"}),l.jsx("p",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:J(w)})]}),l.jsx("button",{type:"button",onClick:()=>L("currentValue",String(w)),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 px-3 py-1.5 rounded-lg bg-violet-500/10 border border-violet-500/20 transition-colors",children:"Use this value"})]})]}),l.jsxs("div",{className:"border-t border-[var(--border-light)] pt-4",children:[l.jsx(oe,{label:"Linked Loan / Liability",children:l.jsx(Ye,{value:m.linkedLiabilityId,onChange:z=>{L("linkedLiabilityId",z),z&&M(!1)},options:Z})}),!m.linkedLiabilityId&&!c&&l.jsx("div",{className:"mt-2",children:l.jsx("button",{type:"button",onClick:()=>M(!C),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:C?" Cancel quick loan":`+ Create new loan${G?` (${G})`:""}`})}),C&&l.jsxs("div",{className:"mt-3 p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:"Quick Loan"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsx(oe,{label:"Lender",required:!0,error:E.qlLender,children:l.jsx(Ce,{value:A.lenderName,onChange:z=>F("lenderName",z),placeholder:"e.g., HDFC Bank"})}),l.jsx(oe,{label:"Outstanding Balance",required:!0,error:E.qlOutstanding,children:l.jsx(Ce,{type:"number",value:A.outstandingBalance,onChange:z=>F("outstandingBalance",z),placeholder:"e.g., 3500000"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsx(oe,{label:"EMI (monthly)",children:l.jsx(Ce,{type:"number",value:A.emiAmount,onChange:z=>F("emiAmount",z),placeholder:"e.g., 32000"})}),l.jsx(oe,{label:"Interest Rate %",children:l.jsx(Ce,{type:"number",value:A.interestRate,onChange:z=>F("interestRate",z),placeholder:"e.g., 8.5"})})]})]})]}),c&&l.jsx(oe,{label:"Status",children:l.jsx(Ye,{value:m.status,onChange:z=>L("status",z),options:Yie})}),l.jsx(oe,{label:"Notes",children:l.jsx(cc,{value:m.notes,onChange:z=>L("notes",z),placeholder:"Additional information..."})}),l.jsxs("div",{className:"flex items-center justify-between",children:[c&&r?l.jsx(Yi,{onClick:r}):l.jsx("div",{}),l.jsx(Zr,{onCancel:n,onSubmit:X,submitLabel:c?"Update":"Add Investment",loading:P})]})]})}const b_={Debt:"bg-blue-500/15 text-[var(--accent-blue)]",Gold:"bg-amber-500/15 text-[var(--accent-amber)]",Property:"bg-orange-500/15 text-[var(--accent-orange)]",Equity:"bg-emerald-500/15 text-emerald-400",Alternative:"bg-violet-500/15 text-[var(--accent-violet)]"};function Wie(){const{selectedMember:e,member:t}=zr(),{otherInvList:r,liabilityList:n,addOtherInvestment:a,updateOtherInvestment:s,deleteOtherInvestment:c}=dt(),{showToast:u,showBlockUI:f,hideBlockUI:m}=Qa(),h=Xa(),[v,x]=j.useState(null);if(r===null)return l.jsx(Vi,{title:"Loading investments",cards:5});const b=j.useMemo(()=>{const P=r.filter(O=>O.status!=="Inactive");return e==="all"?P:P.filter(O=>O.familyMemberId===e)},[r,e]),S=b.reduce((P,O)=>P+(O.investedAmount||0),0),w=b.reduce((P,O)=>P+(O.currentValue||0),0),y=w-S,C=y>=0,M=S>0?y/S*100:0,A=j.useMemo(()=>{const P={};return n.forEach(O=>{P[O.liabilityId]=O}),P},[n]),_=b.reduce((P,O)=>{const L=O.linkedLiabilityId?A[O.linkedLiabilityId]:null;return P+(L?.outstandingBalance||0)},0);async function E(P){f("Saving...");try{v?.edit?await s(v.edit.investmentId,P):await a(P),u(v?.edit?"Investment updated":"Investment added"),x(null)}catch(O){u(O.message||"Failed to save investment","error")}finally{m()}}async function T(){if(v?.edit&&await h("Deactivate this investment?",{title:"Deactivate Investment",confirmLabel:"Deactivate"})){f("Deactivating...");try{await c(v.edit.investmentId),u("Investment deactivated"),x(null)}catch(P){u(P.message||"Failed to deactivate investment","error")}finally{m()}}}return l.jsxs("div",{className:"space-y-4",children:[b.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(QO,{size:32,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No other investments",t?` for ${t.memberName}`:""]}),l.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add an investment"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[l.jsx(Fu,{label:"Invested",value:J(S)}),l.jsx(Fu,{label:"Current Value",value:J(w),bold:!0}),l.jsx(Fu,{label:"P&L",value:`${C?"+":""}${J(Math.abs(y))}`,sub:`${C?"+":""}${M.toFixed(1)}%`,positive:C,bold:!0}),_>0&&l.jsx(Fu,{label:"Linked Loans",value:J(_),color:"rose"}),l.jsx(Fu,{label:"Holdings",value:b.length})]}),l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Yr,{size:14})," Add Investment"]})}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[720px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Investment"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Category"}),!t&&l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Loan"}),l.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),l.jsx("tbody",{children:b.map(P=>{const O=(P.currentValue||0)-(P.investedAmount||0),L=O>=0,R=P.linkedLiabilityId?A[P.linkedLiabilityId]:null;return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsxs("td",{className:"py-2.5 px-4",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:P.investmentName}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:P.investmentType})]}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${b_[P.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:P.investmentCategory})}),!t&&l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:P.familyMemberName}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:J(P.investedAmount)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:J(P.currentValue)}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:l.jsxs("span",{className:`text-xs font-semibold tabular-nums ${L?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L?"+":"",J(O)]})}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:R?l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:J(R.outstandingBalance)}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:R.liabilityType})]}):l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),l.jsx("td",{className:"py-2.5 px-2",children:l.jsx("button",{onClick:()=>x({edit:P}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:l.jsx(ya,{size:12})})})]},P.investmentId)})})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(P=>{const O=(P.currentValue||0)-(P.investedAmount||0),L=O>=0,R=P.linkedLiabilityId?A[P.linkedLiabilityId]:null;return l.jsxs("div",{onClick:()=>x({edit:P}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:P.investmentName}),l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${b_[P.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:P.investmentCategory})]}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[P.familyMemberName,"  ",P.investmentType]}),l.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Invested"}),l.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:J(P.investedAmount)})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Current"}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:J(P.currentValue)})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"P&L"}),l.jsxs("p",{className:`text-xs font-semibold tabular-nums ${L?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L?"+":"",J(O)]})]})]}),R&&l.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-rose-500/5 rounded px-2 py-1",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:R.liabilityType}),l.jsx("span",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:J(R.outstandingBalance)})]})]},P.investmentId)})})]})]}),l.jsx(fr,{open:!!v,onClose:()=>x(null),title:v?.edit?"Edit Investment":"Add Investment",wide:!0,children:l.jsx(Kie,{initial:v?.edit||void 0,onSave:E,onDelete:v?.edit?T:void 0,onCancel:()=>x(null)})})]})}function Fu({label:e,value:t,sub:r,positive:n,bold:a,color:s}){const c=s==="rose"?"text-[var(--accent-rose)]":n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]";return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${c}`,children:t}),r&&l.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function Qie({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:a,activeInvestmentAccounts:s}=dt(),c=!!e,[u,f]=j.useState({portfolioName:(e?.portfolioName||"").replace(/^PFL-/,""),investmentAccountId:e?.investmentAccountId||"",ownerId:e?.ownerId||"",initialInvestment:e?.initialInvestment||0,sipTarget:e?.sipTarget||"",lumpsumTarget:e?.lumpsumTarget||"",rebalanceThreshold:e?e.rebalanceThreshold*100:5}),[m,h]=j.useState({}),[v,x]=j.useState(!1),[b,S]=j.useState(!1);function w(E,T){f(P=>({...P,[E]:T})),h(P=>({...P,[E]:void 0}))}function y(E){f(T=>({...T,ownerId:E,investmentAccountId:""})),h(T=>({...T,ownerId:void 0}))}const C=s.filter(E=>u.ownerId?E.memberId===u.ownerId:!0).map(E=>({value:E.accountId,label:`${E.accountName} - ${E.platformBroker}`})),M=a.map(E=>({value:E.memberId,label:`${E.memberName} (${E.relationship})`}));function A(){const E={};return u.portfolioName.trim()||(E.portfolioName="Required"),u.ownerId||(E.ownerId="Required"),u.investmentAccountId||(E.investmentAccountId="Required"),h(E),Object.keys(E).length===0}async function _(){if(A()){x(!0);try{const E=s.find(P=>P.accountId===u.investmentAccountId),T=E?`${E.accountName} - ${E.platformBroker}`:u.investmentAccountId;await t({...u,investmentAccount:T,initialInvestment:Number(u.initialInvestment)||0,sipTarget:Number(u.sipTarget)||0,lumpsumTarget:Number(u.lumpsumTarget)||0,rebalanceThreshold:Number(u.rebalanceThreshold)})}finally{x(!1)}}}return l.jsxs("div",{className:"space-y-5",children:[l.jsx(oe,{label:"Portfolio Name",required:!0,error:m.portfolioName,children:l.jsx(Ce,{value:u.portfolioName,onChange:E=>w("portfolioName",E),placeholder:"e.g., Long Term Wealth"})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Owner",required:!0,error:m.ownerId,children:l.jsx(Ye,{value:u.ownerId,onChange:y,options:M,placeholder:"Select member..."})}),l.jsx(oe,{label:"Investment Account",required:!0,error:m.investmentAccountId,children:l.jsx(Ye,{value:u.investmentAccountId,onChange:E=>w("investmentAccountId",E),options:C,placeholder:u.ownerId?C.length?"Select account...":"No MF accounts":"Select owner first..."})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(oe,{label:"SIP Target (/month)",children:l.jsx(Ce,{type:"number",value:u.sipTarget,onChange:E=>w("sipTarget",E),placeholder:"e.g., 50000"})}),l.jsx(oe,{label:"Lumpsum Target ()",children:l.jsx(Ce,{type:"number",value:u.lumpsumTarget,onChange:E=>w("lumpsumTarget",E),placeholder:"e.g., 200000"})})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("label",{className:"text-xs font-semibold text-[var(--text-muted)] whitespace-nowrap",children:"Rebalance Threshold"}),l.jsx("div",{className:"w-20 shrink-0",children:l.jsx("input",{type:"number",value:u.rebalanceThreshold,onChange:E=>w("rebalanceThreshold",E.target.value),placeholder:"5",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"})]}),!c&&l.jsx(oe,{label:"Initial Investment ()",children:l.jsx(Ce,{type:"number",value:u.initialInvestment,onChange:E=>w("initialInvestment",E),placeholder:"0 if unknown"})}),c&&r&&b&&l.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 bg-rose-500/10 border border-rose-500/20 rounded-lg",children:[l.jsx(Es,{size:15,className:"text-rose-400 shrink-0"}),l.jsx("p",{className:"text-xs text-rose-300/90 flex-1",children:"This will deactivate the portfolio and hide it from views. Are you sure?"}),l.jsxs("div",{className:"flex gap-2 shrink-0",children:[l.jsx("button",{onClick:()=>S(!1),className:"px-2.5 py-1 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded transition-colors",children:"No"}),l.jsx("button",{onClick:r,className:"px-2.5 py-1 text-xs font-semibold text-white bg-rose-600 hover:bg-rose-500 rounded transition-colors",children:"Yes, Deactivate"})]})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 mt-4 border-t border-[var(--border-light)]",children:[c&&r?l.jsxs("button",{onClick:()=>S(!0),disabled:v,className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-amber-400 border border-amber-500/30 hover:bg-amber-500/15 hover:border-amber-500/50 rounded-lg transition-colors disabled:opacity-40",children:[l.jsx(Es,{size:13}),"Deactivate"]}):l.jsx("div",{}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:n,disabled:v,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),l.jsxs("button",{onClick:_,disabled:v,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[v&&l.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),v?"Saving...":c?"Update":"Create Portfolio"]})]})]})]})}function Fi(e){return Array.isArray?Array.isArray(e):pI(e)==="[object Array]"}function Xie(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Zie(e){return e==null?"":Xie(e)}function qa(e){return typeof e=="string"}function fI(e){return typeof e=="number"}function Jie(e){return e===!0||e===!1||ese(e)&&pI(e)=="[object Boolean]"}function mI(e){return typeof e=="object"}function ese(e){return mI(e)&&e!==null}function Dn(e){return e!=null}function Fb(e){return!e.trim().length}function pI(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const tse="Incorrect 'index' type",rse=e=>`Invalid value for key ${e}`,nse=e=>`Pattern length exceeds max of ${e}.`,ase=e=>`Missing ${e} property in key`,ise=e=>`Property 'weight' in key '${e}' must be a positive integer`,y_=Object.prototype.hasOwnProperty;class sse{constructor(t){this._keys=[],this._keyMap={};let r=0;t.forEach(n=>{let a=hI(n);this._keys.push(a),this._keyMap[a.id]=a,r+=a.weight}),this._keys.forEach(n=>{n.weight/=r})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function hI(e){let t=null,r=null,n=null,a=1,s=null;if(qa(e)||Fi(e))n=e,t=w_(e),r=Xy(e);else{if(!y_.call(e,"name"))throw new Error(ase("name"));const c=e.name;if(n=c,y_.call(e,"weight")&&(a=e.weight,a<=0))throw new Error(ise(c));t=w_(c),r=Xy(c),s=e.getFn}return{path:t,id:r,weight:a,src:n,getFn:s}}function w_(e){return Fi(e)?e:e.split(".")}function Xy(e){return Fi(e)?e.join("."):e}function lse(e,t){let r=[],n=!1;const a=(s,c,u)=>{if(Dn(s))if(!c[u])r.push(s);else{let f=c[u];const m=s[f];if(!Dn(m))return;if(u===c.length-1&&(qa(m)||fI(m)||Jie(m)))r.push(Zie(m));else if(Fi(m)){n=!0;for(let h=0,v=m.length;h<v;h+=1)a(m[h],c,u+1)}else c.length&&a(m,c,u+1)}};return a(e,qa(t)?t.split("."):t,0),n?r:r[0]}const ose={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},cse={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},use={location:0,threshold:.6,distance:100},dse={useExtendedSearch:!1,getFn:lse,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Ue={...cse,...ose,...use,...dse};const fse=/[^ ]+/g;function mse(e=1,t=3){const r=new Map,n=Math.pow(10,t);return{get(a){const s=a.match(fse).length;if(r.has(s))return r.get(s);const c=1/Math.pow(s,.5*e),u=parseFloat(Math.round(c*n)/n);return r.set(s,u),u},clear(){r.clear()}}}class vj{constructor({getFn:t=Ue.getFn,fieldNormWeight:r=Ue.fieldNormWeight}={}){this.norm=mse(r,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,qa(this.docs[0])?this.docs.forEach((t,r)=>{this._addString(t,r)}):this.docs.forEach((t,r)=>{this._addObject(t,r)}),this.norm.clear())}add(t){const r=this.size();qa(t)?this._addString(t,r):this._addObject(t,r)}removeAt(t){this.records.splice(t,1);for(let r=t,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(t,r){return t[this._keysMap[r]]}size(){return this.records.length}_addString(t,r){if(!Dn(t)||Fb(t))return;let n={v:t,i:r,n:this.norm.get(t)};this.records.push(n)}_addObject(t,r){let n={i:r,$:{}};this.keys.forEach((a,s)=>{let c=a.getFn?a.getFn(t):this.getFn(t,a.path);if(Dn(c)){if(Fi(c)){let u=[];const f=[{nestedArrIndex:-1,value:c}];for(;f.length;){const{nestedArrIndex:m,value:h}=f.pop();if(Dn(h))if(qa(h)&&!Fb(h)){let v={v:h,i:m,n:this.norm.get(h)};u.push(v)}else Fi(h)&&h.forEach((v,x)=>{f.push({nestedArrIndex:x,value:v})})}n.$[s]=u}else if(qa(c)&&!Fb(c)){let u={v:c,n:this.norm.get(c)};n.$[s]=u}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function vI(e,t,{getFn:r=Ue.getFn,fieldNormWeight:n=Ue.fieldNormWeight}={}){const a=new vj({getFn:r,fieldNormWeight:n});return a.setKeys(e.map(hI)),a.setSources(t),a.create(),a}function pse(e,{getFn:t=Ue.getFn,fieldNormWeight:r=Ue.fieldNormWeight}={}){const{keys:n,records:a}=e,s=new vj({getFn:t,fieldNormWeight:r});return s.setKeys(n),s.setIndexRecords(a),s}function Bm(e,{errors:t=0,currentLocation:r=0,expectedLocation:n=0,distance:a=Ue.distance,ignoreLocation:s=Ue.ignoreLocation}={}){const c=t/e.length;if(s)return c;const u=Math.abs(n-r);return a?c+u/a:u?1:c}function hse(e=[],t=Ue.minMatchCharLength){let r=[],n=-1,a=-1,s=0;for(let c=e.length;s<c;s+=1){let u=e[s];u&&n===-1?n=s:!u&&n!==-1&&(a=s-1,a-n+1>=t&&r.push([n,a]),n=-1)}return e[s-1]&&s-n>=t&&r.push([n,s-1]),r}const yl=32;function vse(e,t,r,{location:n=Ue.location,distance:a=Ue.distance,threshold:s=Ue.threshold,findAllMatches:c=Ue.findAllMatches,minMatchCharLength:u=Ue.minMatchCharLength,includeMatches:f=Ue.includeMatches,ignoreLocation:m=Ue.ignoreLocation}={}){if(t.length>yl)throw new Error(nse(yl));const h=t.length,v=e.length,x=Math.max(0,Math.min(n,v));let b=s,S=x;const w=u>1||f,y=w?Array(v):[];let C;for(;(C=e.indexOf(t,S))>-1;){let P=Bm(t,{currentLocation:C,expectedLocation:x,distance:a,ignoreLocation:m});if(b=Math.min(P,b),S=C+h,w){let O=0;for(;O<h;)y[C+O]=1,O+=1}}S=-1;let M=[],A=1,_=h+v;const E=1<<h-1;for(let P=0;P<h;P+=1){let O=0,L=_;for(;O<L;)Bm(t,{errors:P,currentLocation:x+L,expectedLocation:x,distance:a,ignoreLocation:m})<=b?O=L:_=L,L=Math.floor((_-O)/2+O);_=L;let R=Math.max(1,x-L+1),F=c?v:Math.min(x+L,v)+h,k=Array(F+2);k[F+1]=(1<<P)-1;for(let W=F;W>=R;W-=1){let Z=W-1,B=r[e.charAt(Z)];if(w&&(y[Z]=+!!B),k[W]=(k[W+1]<<1|1)&B,P&&(k[W]|=(M[W+1]|M[W])<<1|1|M[W+1]),k[W]&E&&(A=Bm(t,{errors:P,currentLocation:Z,expectedLocation:x,distance:a,ignoreLocation:m}),A<=b)){if(b=A,S=Z,S<=x)break;R=Math.max(1,2*x-S)}}if(Bm(t,{errors:P+1,currentLocation:x,expectedLocation:x,distance:a,ignoreLocation:m})>b)break;M=k}const T={isMatch:S>=0,score:Math.max(.001,A)};if(w){const P=hse(y,u);P.length?f&&(T.indices=P):T.isMatch=!1}return T}function xse(e){let t={};for(let r=0,n=e.length;r<n;r+=1){const a=e.charAt(r);t[a]=(t[a]||0)|1<<n-r-1}return t}const wh=String.prototype.normalize?(e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(e=>e);class xI{constructor(t,{location:r=Ue.location,threshold:n=Ue.threshold,distance:a=Ue.distance,includeMatches:s=Ue.includeMatches,findAllMatches:c=Ue.findAllMatches,minMatchCharLength:u=Ue.minMatchCharLength,isCaseSensitive:f=Ue.isCaseSensitive,ignoreDiacritics:m=Ue.ignoreDiacritics,ignoreLocation:h=Ue.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:a,includeMatches:s,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:f,ignoreDiacritics:m,ignoreLocation:h},t=f?t:t.toLowerCase(),t=m?wh(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const v=(b,S)=>{this.chunks.push({pattern:b,alphabet:xse(b),startIndex:S})},x=this.pattern.length;if(x>yl){let b=0;const S=x%yl,w=x-S;for(;b<w;)v(this.pattern.substr(b,yl),b),b+=yl;if(S){const y=x-yl;v(this.pattern.substr(y),y)}}else v(this.pattern,0)}searchIn(t){const{isCaseSensitive:r,ignoreDiacritics:n,includeMatches:a}=this.options;if(t=r?t:t.toLowerCase(),t=n?wh(t):t,this.pattern===t){let w={isMatch:!0,score:0};return a&&(w.indices=[[0,t.length-1]]),w}const{location:s,distance:c,threshold:u,findAllMatches:f,minMatchCharLength:m,ignoreLocation:h}=this.options;let v=[],x=0,b=!1;this.chunks.forEach(({pattern:w,alphabet:y,startIndex:C})=>{const{isMatch:M,score:A,indices:_}=vse(t,w,y,{location:s+C,distance:c,threshold:u,findAllMatches:f,minMatchCharLength:m,includeMatches:a,ignoreLocation:h});M&&(b=!0),x+=A,M&&_&&(v=[...v,..._])});let S={isMatch:b,score:b?x/this.chunks.length:1};return b&&a&&(S.indices=v),S}}class Us{constructor(t){this.pattern=t}static isMultiMatch(t){return j_(t,this.multiRegex)}static isSingleMatch(t){return j_(t,this.singleRegex)}search(){}}function j_(e,t){const r=e.match(t);return r?r[1]:null}class gse extends Us{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const r=t===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class bse extends Us{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class yse extends Us{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const r=t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class wse extends Us{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const r=!t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class jse extends Us{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const r=t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class Nse extends Us{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const r=!t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class gI extends Us{constructor(t,{location:r=Ue.location,threshold:n=Ue.threshold,distance:a=Ue.distance,includeMatches:s=Ue.includeMatches,findAllMatches:c=Ue.findAllMatches,minMatchCharLength:u=Ue.minMatchCharLength,isCaseSensitive:f=Ue.isCaseSensitive,ignoreDiacritics:m=Ue.ignoreDiacritics,ignoreLocation:h=Ue.ignoreLocation}={}){super(t),this._bitapSearch=new xI(t,{location:r,threshold:n,distance:a,includeMatches:s,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:f,ignoreDiacritics:m,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class bI extends Us{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r=0,n;const a=[],s=this.pattern.length;for(;(n=t.indexOf(this.pattern,r))>-1;)r=n+s,a.push([n,r-1]);const c=!!a.length;return{isMatch:c,score:c?0:1,indices:a}}}const Zy=[gse,bI,yse,wse,Nse,jse,bse,gI],N_=Zy.length,Sse=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Cse="|";function Ase(e,t={}){return e.split(Cse).map(r=>{let n=r.trim().split(Sse).filter(s=>s&&!!s.trim()),a=[];for(let s=0,c=n.length;s<c;s+=1){const u=n[s];let f=!1,m=-1;for(;!f&&++m<N_;){const h=Zy[m];let v=h.isMultiMatch(u);v&&(a.push(new h(v,t)),f=!0)}if(!f)for(m=-1;++m<N_;){const h=Zy[m];let v=h.isSingleMatch(u);if(v){a.push(new h(v,t));break}}}return a})}const Mse=new Set([gI.type,bI.type]);class Dse{constructor(t,{isCaseSensitive:r=Ue.isCaseSensitive,ignoreDiacritics:n=Ue.ignoreDiacritics,includeMatches:a=Ue.includeMatches,minMatchCharLength:s=Ue.minMatchCharLength,ignoreLocation:c=Ue.ignoreLocation,findAllMatches:u=Ue.findAllMatches,location:f=Ue.location,threshold:m=Ue.threshold,distance:h=Ue.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:n,includeMatches:a,minMatchCharLength:s,findAllMatches:u,ignoreLocation:c,location:f,threshold:m,distance:h},t=r?t:t.toLowerCase(),t=n?wh(t):t,this.pattern=t,this.query=Ase(this.pattern,this.options)}static condition(t,r){return r.useExtendedSearch}searchIn(t){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:a,ignoreDiacritics:s}=this.options;t=a?t:t.toLowerCase(),t=s?wh(t):t;let c=0,u=[],f=0;for(let m=0,h=r.length;m<h;m+=1){const v=r[m];u.length=0,c=0;for(let x=0,b=v.length;x<b;x+=1){const S=v[x],{isMatch:w,indices:y,score:C}=S.search(t);if(w){if(c+=1,f+=C,n){const M=S.constructor.type;Mse.has(M)?u=[...u,...y]:u.push(y)}}else{f=0,c=0,u.length=0;break}}if(c){let x={isMatch:!0,score:f/c};return n&&(x.indices=u),x}}return{isMatch:!1,score:1}}}const Jy=[];function kse(...e){Jy.push(...e)}function e1(e,t){for(let r=0,n=Jy.length;r<n;r+=1){let a=Jy[r];if(a.condition(e,t))return new a(e,t)}return new xI(e,t)}const jh={AND:"$and",OR:"$or"},t1={PATH:"$path",PATTERN:"$val"},r1=e=>!!(e[jh.AND]||e[jh.OR]),Ese=e=>!!e[t1.PATH],_se=e=>!Fi(e)&&mI(e)&&!r1(e),S_=e=>({[jh.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function yI(e,t,{auto:r=!0}={}){const n=a=>{let s=Object.keys(a);const c=Ese(a);if(!c&&s.length>1&&!r1(a))return n(S_(a));if(_se(a)){const f=c?a[t1.PATH]:s[0],m=c?a[t1.PATTERN]:a[f];if(!qa(m))throw new Error(rse(f));const h={keyId:Xy(f),pattern:m};return r&&(h.searcher=e1(m,t)),h}let u={children:[],operator:s[0]};return s.forEach(f=>{const m=a[f];Fi(m)&&m.forEach(h=>{u.children.push(n(h))})}),u};return r1(e)||(e=S_(e)),n(e)}function Ose(e,{ignoreFieldNorm:t=Ue.ignoreFieldNorm}){e.forEach(r=>{let n=1;r.matches.forEach(({key:a,norm:s,score:c})=>{const u=a?a.weight:null;n*=Math.pow(c===0&&u?Number.EPSILON:c,(u||1)*(t?1:s))}),r.score=n})}function Tse(e,t){const r=e.matches;t.matches=[],Dn(r)&&r.forEach(n=>{if(!Dn(n.indices)||!n.indices.length)return;const{indices:a,value:s}=n;let c={indices:a,value:s};n.key&&(c.key=n.key.src),n.idx>-1&&(c.refIndex=n.idx),t.matches.push(c)})}function Pse(e,t){t.score=e.score}function Ise(e,t,{includeMatches:r=Ue.includeMatches,includeScore:n=Ue.includeScore}={}){const a=[];return r&&a.push(Tse),n&&a.push(Pse),e.map(s=>{const{idx:c}=s,u={item:t[c],refIndex:c};return a.length&&a.forEach(f=>{f(s,u)}),u})}class Mc{constructor(t,r={},n){this.options={...Ue,...r},this.options.useExtendedSearch,this._keyStore=new sse(this.options.keys),this.setCollection(t,n)}setCollection(t,r){if(this._docs=t,r&&!(r instanceof vj))throw new Error(tse);this._myIndex=r||vI(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Dn(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const r=[];for(let n=0,a=this._docs.length;n<a;n+=1){const s=this._docs[n];t(s,n)&&(this.removeAt(n),n-=1,a-=1,r.push(s))}return r}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:r=-1}={}){const{includeMatches:n,includeScore:a,shouldSort:s,sortFn:c,ignoreFieldNorm:u}=this.options;let f=qa(t)?qa(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Ose(f,{ignoreFieldNorm:u}),s&&f.sort(c),fI(r)&&r>-1&&(f=f.slice(0,r)),Ise(f,this._docs,{includeMatches:n,includeScore:a})}_searchStringList(t){const r=e1(t,this.options),{records:n}=this._myIndex,a=[];return n.forEach(({v:s,i:c,n:u})=>{if(!Dn(s))return;const{isMatch:f,score:m,indices:h}=r.searchIn(s);f&&a.push({item:s,idx:c,matches:[{score:m,value:s,norm:u,indices:h}]})}),a}_searchLogical(t){const r=yI(t,this.options),n=(u,f,m)=>{if(!u.children){const{keyId:v,searcher:x}=u,b=this._findMatches({key:this._keyStore.get(v),value:this._myIndex.getValueForItemAtKeyId(f,v),searcher:x});return b&&b.length?[{idx:m,item:f,matches:b}]:[]}const h=[];for(let v=0,x=u.children.length;v<x;v+=1){const b=u.children[v],S=n(b,f,m);if(S.length)h.push(...S);else if(u.operator===jh.AND)return[]}return h},a=this._myIndex.records,s={},c=[];return a.forEach(({$:u,i:f})=>{if(Dn(u)){let m=n(r,u,f);m.length&&(s[f]||(s[f]={idx:f,item:u,matches:[]},c.push(s[f])),m.forEach(({matches:h})=>{s[f].matches.push(...h)}))}}),c}_searchObjectList(t){const r=e1(t,this.options),{keys:n,records:a}=this._myIndex,s=[];return a.forEach(({$:c,i:u})=>{if(!Dn(c))return;let f=[];n.forEach((m,h)=>{f.push(...this._findMatches({key:m,value:c[h],searcher:r}))}),f.length&&s.push({idx:u,item:c,matches:f})}),s}_findMatches({key:t,value:r,searcher:n}){if(!Dn(r))return[];let a=[];if(Fi(r))r.forEach(({v:s,i:c,n:u})=>{if(!Dn(s))return;const{isMatch:f,score:m,indices:h}=n.searchIn(s);f&&a.push({score:m,key:t,value:s,idx:c,norm:u,indices:h})});else{const{v:s,n:c}=r,{isMatch:u,score:f,indices:m}=n.searchIn(s);u&&a.push({score:f,key:t,value:s,norm:c,indices:m})}return a}}Mc.version="7.1.0";Mc.createIndex=vI;Mc.parseIndex=pse;Mc.config=Ue;Mc.parseQuery=yI;kse(Dse);let sa=null,Bu=null;function Rse(e){if(!e)return!1;const t=new Date(e),r=new Date;return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&t.getDate()===r.getDate()}function Lse(){return sa?Promise.resolve(sa):Bu||(Bu=tF("fundsList").then(e=>e&&Array.isArray(e.data)&&Rse(e.updatedAt)?(sa=e.data,sa):Ez().then(t=>(sa=Array.isArray(t)?t:[],cn("fundsList",sa),sa))).catch(()=>(Bu=null,[])),Bu)}function xj({value:e,onSelect:t,placeholder:r,disabled:n}){const[a,s]=j.useState(""),[c,u]=j.useState(sa||[]),[f,m]=j.useState(!sa),[h,v]=j.useState(!1),x=j.useRef(null);j.useEffect(()=>{if(sa){u(sa),m(!1);return}Lse().then(M=>{u(M),m(!1)})},[]),j.useEffect(()=>{function M(A){x.current&&!x.current.contains(A.target)&&v(!1)}return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const b=j.useMemo(()=>c.length?new Mc(c,{keys:["fundName"],threshold:.3,distance:50,minMatchCharLength:2,includeScore:!0,ignoreLocation:!1,findAllMatches:!0}):null,[c]),S=j.useMemo(()=>!b||a.length<2?[]:b.search(a).slice(0,50).map(M=>M.item),[b,a]);function w(M){s(M),v(M.length>=2)}function y(M){t({schemeCode:M.fundCode||M.schemeCode,fundName:M.fundName,nav:M.nav,navDate:M.navDate}),s(""),v(!1)}function C(){t({schemeCode:"",fundName:"",nav:0,navDate:""}),s("")}return e?.fundName?l.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate",children:e.fundName}),l.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e.schemeCode}),e.nav>0&&l.jsxs("span",{className:"text-xs font-medium text-emerald-400",children:["NAV: ",e.nav.toFixed(2),e.navDate?` (${e.navDate})`:""]})]})]}),l.jsx("button",{type:"button",onClick:C,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:l.jsx(Pl,{size:14})})]}):l.jsxs("div",{ref:x,className:"relative",children:[l.jsxs("div",{className:"relative",children:[f?l.jsx(KO,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400 animate-spin"}):l.jsx(ZO,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),l.jsx("input",{type:"text",value:a,onChange:M=>w(M.target.value),onFocus:()=>a.length>=2&&v(!0),placeholder:f?"Loading funds...":r||"Search fund name...",disabled:n||f,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),h&&S.length>0&&l.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:S.map(M=>l.jsxs("button",{type:"button",onClick:()=>y(M),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:M.fundName}),l.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:M.fundCode||M.schemeCode}),M.nav>0&&l.jsxs("span",{className:"text-xs text-emerald-400 tabular-nums",children:["NAV: ",M.nav.toFixed(2),M.navDate?` (${M.navDate})`:""]})]})]},M.fundCode||M.schemeCode))}),h&&a.length>=2&&S.length===0&&!f&&l.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No funds found for "',a,'"']})})]})}const zse=[{value:"INITIAL",label:"Add Existing Holdings"},{value:"SIP",label:"SIP Investment"},{value:"LUMPSUM",label:"Lumpsum Investment"}];function Fse({portfolioId:e,fundCode:t,fundName:r,transactionType:n,onSave:a,onCancel:s}){const{mfPortfolios:c,mfHoldings:u}=dt(),{selectedMember:f}=zr(),m=j.useMemo(()=>{const k=c.filter(X=>X.status==="Active");return f==="all"?k:k.filter(X=>X.ownerId===f)},[c,f]),[h,v]=j.useState({portfolioId:e||"",fundCode:t||"",fundName:r||"",nav:0,navDate:"",transactionType:n||"SIP",date:new Date().toISOString().split("T")[0],units:"",price:"",notes:""}),[x,b]=j.useState({}),[S,w]=j.useState(!1),[y,C]=j.useState(!t);function M(k,X){v(W=>({...W,[k]:X})),b(W=>({...W,[k]:void 0}))}function A({schemeCode:k,fundName:X,nav:W,navDate:Z}){v(B=>({...B,fundCode:k,fundName:X,nav:W||0,navDate:Z||"",price:W>0?String(W):B.price})),b(B=>({...B,fundCode:void 0,fundName:void 0})),C(!1)}function _(k){v(X=>({...X,fundCode:k.schemeCode,fundName:k.fundName,nav:k.currentNav||0,navDate:"",price:k.currentNav>0?String(k.currentNav):X.price})),b(X=>({...X,fundCode:void 0})),C(!1)}const E=j.useMemo(()=>h.portfolioId?u.filter(k=>k.portfolioId===h.portfolioId).sort((k,X)=>X.currentValue-k.currentValue):[],[u,h.portfolioId]),T=j.useMemo(()=>!h.portfolioId||!h.fundCode?null:u.find(k=>k.portfolioId===h.portfolioId&&k.schemeCode===h.fundCode),[u,h.portfolioId,h.fundCode]),P=h.fundCode&&!T,O=j.useMemo(()=>(Number(h.units)||0)*(Number(h.price)||0),[h.units,h.price]);function L(){const k={};return h.portfolioId||(k.portfolioId="Required"),h.fundCode||(k.fundCode="Select a fund"),h.date||(k.date="Required"),(!h.units||Number(h.units)<=0)&&(k.units="Must be > 0"),(!h.price||Number(h.price)<=0)&&(k.price="Must be > 0"),b(k),Object.keys(k).length===0}async function R(){if(L()){w(!0);try{await a({portfolioId:h.portfolioId,fundCode:h.fundCode,fundName:h.fundName,transactionType:h.transactionType,purchaseDate:h.date,units:h.units,avgPrice:h.price,notes:h.notes})}finally{w(!1)}}}const F=m.map(k=>{const X=k.portfolioName?.replace(/^PFL-/,"")||k.portfolioName,W=k.ownerName?`${X} (${k.ownerName})`:X;return{value:k.portfolioId,label:W}});return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Portfolio",required:!0,error:x.portfolioId,children:l.jsx(Ye,{value:h.portfolioId,onChange:k=>{M("portfolioId",k),t||(M("fundCode",""),M("fundName",""),C(!1))},options:F,placeholder:"Select portfolio..."})}),l.jsx(oe,{label:"Transaction Type",required:!0,children:l.jsx(Ye,{value:h.transactionType,onChange:k=>M("transactionType",k),options:zse})})]}),l.jsx(oe,{label:"Fund",required:!0,error:x.fundCode,children:h.fundCode&&!y?l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:h.fundName}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[h.fundCode,h.nav>0&&l.jsxs("span",{className:"ml-2 text-emerald-400",children:["NAV: ",h.nav.toFixed(2)]})]})]}),l.jsx("button",{type:"button",onClick:()=>{M("fundCode",""),M("fundName",""),C(!0)},className:"text-xs text-[var(--text-muted)] hover:text-[var(--text-primary)] underline shrink-0",children:"Change"})]}):l.jsxs("div",{className:"space-y-3",children:[E.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5",children:"Portfolio Funds"}),l.jsx("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] overflow-hidden max-h-44 overflow-y-auto",children:E.map(k=>l.jsxs("button",{type:"button",onClick:()=>_(k),className:"w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-[var(--bg-hover)] border-b border-[var(--border-light)] last:border-b-0 transition-colors group",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate group-hover:text-white transition-colors",children:k.fundName}),l.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:k.units>0?`${k.units.toFixed(0)} units  ${J(k.currentValue)}`:"Planned"})]}),l.jsx(Ol,{size:12,className:"text-[var(--text-dim)] -rotate-90 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity"})]},k.holdingId))})]}),l.jsxs("div",{children:[E.length>0&&l.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5 flex items-center gap-1",children:[l.jsx(ZO,{size:10})," Or search new fund"]}),l.jsx(xj,{value:null,onSelect:A,placeholder:"Search fund by name or code..."})]})]})}),T&&l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  will average out"}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",l.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:T.units.toFixed(2)})," units @ ",T.avgNav.toFixed(2)," avg NAV | Value: ",J(T.currentValue),T.targetAllocationPct>0&&l.jsxs("span",{children:["  Target: ",T.targetAllocationPct.toFixed(1),"%"]})]})]}),P&&l.jsxs("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:[l.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"}),l.jsx("p",{className:"text-xs text-violet-300/70 mt-0.5",children:"Use Allocations to plan how much to invest before buying"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsx(oe,{label:"Date",required:!0,error:x.date,children:l.jsx(Va,{value:h.date,onChange:k=>M("date",k)})}),l.jsx(oe,{label:"Units",required:!0,error:x.units,children:l.jsx(Ce,{type:"number",value:h.units,onChange:k=>M("units",k),placeholder:"e.g., 150.50"})}),l.jsx(oe,{label:"NAV ()",required:!0,error:x.price,children:l.jsx(Ce,{type:"number",value:h.price,onChange:k=>M("price",k),placeholder:"e.g., 178.45"})})]}),O>0&&l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:J(O)}),T&&l.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:["New avg NAV: ",((T.investment+O)/(T.units+Number(h.units))).toFixed(2)," Total units: ",(T.units+Number(h.units)).toFixed(2)]})]}),l.jsx(oe,{label:"Notes",children:l.jsx(Ce,{value:h.notes,onChange:k=>M("notes",k),placeholder:"Optional notes..."})}),l.jsx(Zr,{onCancel:s,onSubmit:R,submitLabel:h.transactionType==="SIP"?"Record SIP":h.transactionType==="LUMPSUM"?"Record Lumpsum":"Add Holdings",loading:S})]})}function Bse({portfolioId:e,fundCode:t,onSave:r,onCancel:n}){const{mfPortfolios:a,mfHoldings:s}=dt(),{selectedMember:c}=zr(),u=j.useMemo(()=>{const R=a.filter(F=>F.status==="Active");return c==="all"?R:R.filter(F=>F.ownerId===c)},[a,c]),f=j.useMemo(()=>!e||!t?null:s.find(R=>R.portfolioId===e&&R.schemeCode===t),[s,e,t]),[m,h]=j.useState({portfolioId:e||"",fundCode:t||"",fundName:f?.fundName||"",date:new Date().toISOString().split("T")[0],units:"",price:f?.currentNav>0?String(f.currentNav):"",notes:""}),[v,x]=j.useState({}),[b,S]=j.useState(!1);function w(R,F){h(k=>({...k,[R]:F})),x(k=>({...k,[R]:void 0}))}const y=j.useMemo(()=>m.portfolioId?s.filter(R=>R.portfolioId===m.portfolioId&&R.units>0):[],[s,m.portfolioId]),C=y.find(R=>R.schemeCode===m.fundCode);function M(R){const F=y.find(k=>k.schemeCode===R);h(k=>({...k,fundCode:R,fundName:F?.fundName||"",price:F?.currentNav?.toString()||""})),x(k=>({...k,fundCode:void 0}))}function A(R){h(F=>({...F,portfolioId:R,fundCode:"",fundName:"",units:"",price:""})),x(F=>({...F,portfolioId:void 0}))}const _=j.useMemo(()=>(Number(m.units)||0)*(Number(m.price)||0),[m.units,m.price]),E=C?_-Number(m.units)*C.avgNav:0;function T(){const R={};return m.portfolioId||(R.portfolioId="Required"),m.fundCode||(R.fundCode="Required"),m.date||(R.date="Required"),(!m.units||Number(m.units)<=0)&&(R.units="Must be > 0"),C&&Number(m.units)>C.units&&(R.units=`Max ${C.units.toFixed(2)} units`),(!m.price||Number(m.price)<=0)&&(R.price="Must be > 0"),x(R),Object.keys(R).length===0}async function P(){if(T()){S(!0);try{await r(m)}finally{S(!1)}}}const O=u.map(R=>{const F=R.portfolioName?.replace(/^PFL-/,"")||R.portfolioName,k=R.ownerName?`${F} (${R.ownerName})`:F;return{value:R.portfolioId,label:k}}),L=y.map(R=>({value:R.schemeCode,label:`${R.fundName}  ${R.units.toFixed(0)} units  ${J(R.currentValue)}`}));return l.jsxs("div",{className:"space-y-4",children:[l.jsx(oe,{label:"Portfolio",required:!0,error:v.portfolioId,children:l.jsx(Ye,{value:m.portfolioId,onChange:A,options:O,placeholder:"Select portfolio..."})}),l.jsx(oe,{label:"Fund to Redeem",required:!0,error:v.fundCode,children:l.jsx(Ye,{value:m.fundCode,onChange:M,options:L,placeholder:m.portfolioId?y.length?"Select fund...":"No holdings":"Select portfolio first..."})}),C&&l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:C.fundName}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",l.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:C.units.toFixed(2)})," units @ ",C.avgNav.toFixed(2)," avg | Current NAV: ",C.currentNav.toFixed(2)]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsx(oe,{label:"Date",required:!0,error:v.date,children:l.jsx(Va,{value:m.date,onChange:R=>w("date",R)})}),l.jsx(oe,{label:"Units",required:!0,error:v.units,children:l.jsx(Ce,{type:"number",value:m.units,onChange:R=>w("units",R),placeholder:C?`Max: ${C.units.toFixed(2)}`:""})}),l.jsx(oe,{label:"NAV ()",required:!0,error:v.price,children:l.jsx(Ce,{type:"number",value:m.price,onChange:R=>w("price",R),placeholder:"e.g., 178.45"})})]}),_>0&&l.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Redemption Amount"}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:J(_)})]}),C&&l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),l.jsxs("p",{className:`text-sm font-bold tabular-nums ${E>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[E>=0?"+":"",J(E)]})]})]})}),l.jsx(oe,{label:"Notes",children:l.jsx(Ce,{value:m.notes,onChange:R=>w("notes",R),placeholder:"Optional notes..."})}),l.jsx(Zr,{onCancel:n,onSubmit:P,submitLabel:"Redeem",loading:b})]})}function $se({portfolioId:e,onSave:t,onCancel:r}){const{mfPortfolios:n,mfHoldings:a}=dt(),{selectedMember:s}=zr(),c=j.useMemo(()=>{const k=n.filter(X=>X.status==="Active");return s==="all"?k:k.filter(X=>X.ownerId===s)},[n,s]),[u,f]=j.useState({portfolioId:e||"",fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",date:new Date().toISOString().split("T")[0],units:"",fromPrice:"",toPrice:"",targetAllocation:"",notes:""}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(k,X){f(W=>({...W,[k]:X})),h(W=>({...W,[k]:void 0}))}function S(k){f(X=>({...X,portfolioId:k,fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",units:"",fromPrice:"",toPrice:"",targetAllocation:""})),h(X=>({...X,portfolioId:void 0}))}const w=j.useMemo(()=>u.portfolioId?a.filter(k=>k.portfolioId===u.portfolioId&&k.units>0):[],[a,u.portfolioId]),y=w.find(k=>k.schemeCode===u.fromFundCode),C=j.useMemo(()=>!u.portfolioId||!u.toFundCode?null:a.find(k=>k.portfolioId===u.portfolioId&&k.schemeCode===u.toFundCode),[a,u.portfolioId,u.toFundCode]),M=u.toFundCode&&!C;function A(k){const X=w.find(W=>W.schemeCode===k);f(W=>({...W,fromFundCode:k,fromFundName:X?.fundName||"",fromPrice:X?.currentNav?.toString()||""})),h(W=>({...W,fromFundCode:void 0}))}function _({schemeCode:k,fundName:X}){const W=a.find(Z=>Z.portfolioId===u.portfolioId&&Z.schemeCode===k);f(Z=>({...Z,toFundCode:k,toFundName:X,toPrice:W?.currentNav?.toString()||Z.toPrice,targetAllocation:""})),h(Z=>({...Z,toFundCode:void 0}))}const E=j.useMemo(()=>(Number(u.units)||0)*(Number(u.fromPrice)||0),[u.units,u.fromPrice]),T=E>0&&Number(u.toPrice)>0?E/Number(u.toPrice):0,P=y?E-Number(u.units)*y.avgNav:0;function O(){const k={};return u.portfolioId||(k.portfolioId="Required"),u.fromFundCode||(k.fromFundCode="Required"),u.toFundCode||(k.toFundCode="Required"),u.fromFundCode&&u.toFundCode&&u.fromFundCode===u.toFundCode&&(k.toFundCode="Must be different from source fund"),u.date||(k.date="Required"),(!u.units||Number(u.units)<=0)&&(k.units="Must be > 0"),y&&Number(u.units)>y.units&&(k.units=`Max ${y.units.toFixed(2)} units`),(!u.fromPrice||Number(u.fromPrice)<=0)&&(k.fromPrice="Must be > 0"),(!u.toPrice||Number(u.toPrice)<=0)&&(k.toPrice="Must be > 0"),h(k),Object.keys(k).length===0}async function L(){if(O()){x(!0);try{await t(u)}finally{x(!1)}}}const R=c.map(k=>{const X=k.portfolioName?.replace(/^PFL-/,"")||k.portfolioName,W=k.ownerName?`${X} (${k.ownerName})`:X;return{value:k.portfolioId,label:W}}),F=w.map(k=>({value:k.schemeCode,label:k.fundName}));return l.jsxs("div",{className:"space-y-4",children:[l.jsx(oe,{label:"Portfolio",required:!0,error:m.portfolioId,children:l.jsx(Ye,{value:u.portfolioId,onChange:S,options:R,placeholder:"Select portfolio..."})}),l.jsx(oe,{label:"Switch From (Sell)",required:!0,error:m.fromFundCode,children:l.jsx(Ye,{value:u.fromFundCode,onChange:A,options:F,placeholder:u.portfolioId?w.length?"Select fund to switch from...":"No holdings":"Select portfolio first..."})}),y&&l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:y.fundName}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",l.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:y.units.toFixed(2)})," units @ ",y.avgNav.toFixed(2)," avg | Current NAV: ",y.currentNav.toFixed(2)]})]}),l.jsx(oe,{label:"Switch To (Buy)",required:!0,error:m.toFundCode,children:l.jsx(xj,{value:u.toFundCode?{schemeCode:u.toFundCode,fundName:u.toFundName}:null,onSelect:_,placeholder:"Search fund to switch into...",disabled:!u.portfolioId})}),C&&l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  units will be added, NAV averaged out"}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",l.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:C.units.toFixed(2)})," units @ ",C.avgNav.toFixed(2)," avg | Alloc: ",C.targetAllocationPct.toFixed(1),"%"]})]}),M&&u.toFundCode&&l.jsx("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:l.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Switch Date",required:!0,error:m.date,children:l.jsx(Va,{value:u.date,onChange:k=>b("date",k)})}),l.jsx(oe,{label:"Units to Switch",required:!0,error:m.units,children:l.jsx(Ce,{type:"number",value:u.units,onChange:k=>b("units",k),placeholder:y?`Max: ${y.units.toFixed(2)}`:""})})]}),l.jsxs("div",{className:`grid grid-cols-1 ${M?"sm:grid-cols-3":"sm:grid-cols-2"} gap-4`,children:[l.jsx(oe,{label:"From Fund NAV ()",required:!0,error:m.fromPrice,children:l.jsx(Ce,{type:"number",value:u.fromPrice,onChange:k=>b("fromPrice",k),placeholder:"e.g., 178.45"})}),l.jsx(oe,{label:"To Fund NAV ()",required:!0,error:m.toPrice,children:l.jsx(Ce,{type:"number",value:u.toPrice,onChange:k=>b("toPrice",k),placeholder:"e.g., 82.10"})}),M&&l.jsx(oe,{label:"Target Allocation (%)",children:l.jsx(Ce,{type:"number",value:u.targetAllocation,onChange:k=>b("targetAllocation",k),placeholder:"e.g., 20"})})]}),E>0&&l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Switch Amount"}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:J(E)})]}),T>0&&l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Units Bought"}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:T.toFixed(4)})]}),y&&l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),l.jsxs("p",{className:`text-sm font-bold tabular-nums ${P>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[P>=0?"+":"",J(P)]})]})]}),C&&T>0&&l.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1 border-t border-[var(--border-light)] pt-1",children:["New total: ",(C.units+T).toFixed(2)," units  New avg NAV: ",((C.investment+E)/(C.units+T)).toFixed(2)]})]}),l.jsx(oe,{label:"Notes",children:l.jsx(Ce,{value:u.notes,onChange:k=>b("notes",k),placeholder:"Optional notes..."})}),l.jsx(Zr,{onCancel:r,onSubmit:L,submitLabel:"Switch Funds",loading:v})]})}function qse({portfolioId:e,onSave:t,onCancel:r}){const{mfHoldings:n,mfPortfolios:a}=dt(),s=a.find(O=>O.portfolioId===e),c=j.useMemo(()=>n.filter(O=>O.portfolioId===e),[n,e]),[u,f]=j.useState(()=>c.map(O=>({schemeCode:O.schemeCode,fundName:O.fundName,units:O.units,currentValue:O.currentValue,currentAllocationPct:O.currentAllocationPct,targetAllocationPct:O.targetAllocationPct,isNew:!1}))),[m,h]=j.useState(null),[v,x]=j.useState(""),[b,S]=j.useState(""),[w,y]=j.useState(!1),C=u.reduce((O,L)=>O+L.targetAllocationPct,0),M=u.reduce((O,L)=>O+L.currentValue,0);function A(O,L){f(R=>R.map(F=>F.schemeCode===O?{...F,targetAllocationPct:Number(L)||0}:F)),S("")}function _(O){const L=u.find(R=>R.schemeCode===O);L&&L.units>0||f(R=>R.filter(F=>F.schemeCode!==O))}function E(){if(m){if(u.find(O=>O.schemeCode===m.schemeCode)){S("Fund already exists in portfolio");return}f(O=>[...O,{schemeCode:m.schemeCode,fundName:m.fundName,units:0,currentValue:0,currentAllocationPct:0,targetAllocationPct:Number(v)||0,isNew:!0}]),h(null),x(""),S("")}}async function T(){if(C>100){S(`Total allocation is ${C.toFixed(1)}%  must be  100%`);return}y(!0);try{await t(u.map(O=>({schemeCode:O.schemeCode,fundName:O.fundName,targetAllocationPct:O.targetAllocationPct,isNew:O.isNew})))}finally{y(!1)}}const P=s?.sipTarget||0;return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:s?.portfolioName}),l.jsx("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] mt-0.5 flex-wrap",children:l.jsxs("span",{children:["Current Value: ",l.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:J(M)})]})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[l.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Units"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Current %"}),l.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Target %"}),l.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold w-8"})]})}),l.jsx("tbody",{children:u.map(O=>{const L=O.isNew&&O.targetAllocationPct>0&&O.targetAllocationPct<100&&M>0?O.targetAllocationPct/(100-O.targetAllocationPct)*M:0,R=O.isNew&&O.targetAllocationPct>0&&P>=100?O.targetAllocationPct/100*P:0;return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[l.jsxs("td",{className:"py-2 px-2",children:[l.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight max-w-[200px] truncate",children:O.fundName}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[O.schemeCode,O.isNew&&l.jsx("span",{className:"text-violet-400 ml-1",children:"(new)"})]}),(L>0||R>0)&&l.jsxs("p",{className:"text-xs text-blue-400 mt-0.5",children:["Invest: ",L>0&&l.jsx("span",{className:"font-semibold",children:J(L)}),L>0&&R>0&&"  ",R>0&&l.jsxs("span",{className:"font-semibold",children:[J(R),"/mo SIP"]})]})]}),l.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:O.units.toFixed(2)}),l.jsxs("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:[O.currentAllocationPct.toFixed(1),"%"]}),l.jsx("td",{className:"py-2 px-2",children:l.jsx("input",{type:"number",value:O.targetAllocationPct,onChange:F=>A(O.schemeCode,F.target.value),className:"w-20 mx-auto block bg-[var(--bg-inset)] border border-[var(--border)] rounded px-2 py-1 text-xs text-center text-[var(--text-primary)] focus:outline-none focus:border-violet-500/50"})}),l.jsx("td",{className:"py-2 px-2 text-center",children:O.units===0&&l.jsx("button",{onClick:()=>_(O.schemeCode),className:"p-1 rounded hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors",children:l.jsx(Dh,{size:12})})})]},O.schemeCode)})}),l.jsx("tfoot",{children:l.jsxs("tr",{className:"border-t border-[var(--border)]",children:[l.jsx("td",{className:"py-2 px-2 text-xs font-bold text-[var(--text-primary)]",children:"Total"}),l.jsx("td",{}),l.jsxs("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[u.reduce((O,L)=>O+L.currentAllocationPct,0).toFixed(1),"%"]}),l.jsx("td",{className:"py-2 px-2 text-center",children:l.jsxs("span",{className:`text-xs font-bold tabular-nums ${C>100?"text-[var(--accent-rose)]":C===100?"text-emerald-400":"text-amber-400"}`,children:[C.toFixed(1),"%"]})}),l.jsx("td",{})]})})]})}),l.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider mb-1",children:"Add New Fund"}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Set target % to see how much to invest. After buying, use Invest to record the transaction."}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xj,{value:m,onSelect:O=>h(O.schemeCode?O:null),placeholder:"Search fund to add..."}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-28",children:l.jsx("input",{type:"number",value:v,onChange:O=>x(O.target.value),placeholder:"Target %",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),l.jsxs("button",{onClick:E,disabled:!m,className:"flex items-center gap-1 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[l.jsx(Yr,{size:14})," Add"]})]})]})]})]}),b&&l.jsx("p",{className:"text-xs text-[var(--accent-rose)] font-medium",children:b}),l.jsx(Zr,{onCancel:r,onSubmit:T,submitLabel:"Save Allocations",loading:w})]})}const Bb=["Equity","Debt","Cash","Commodities","Real Estate","Other"],$b=["Giant","Large","Mid","Small","Micro"],qb=["India","Global"];function Hse({fund:e,initial:t,onSave:r,onCancel:n}){const[a,s]=j.useState(()=>{const E={};return Bb.forEach(T=>{E[T]=t?.assetAllocation?.[T]||0}),t?.assetAllocation&&Object.keys(t.assetAllocation).forEach(T=>{T in E||(E[T]=t.assetAllocation[T])}),E}),[c,u]=j.useState(()=>{const E={};return $b.forEach(T=>{E[T]=t?.equityAllocation?.[T]||0}),t?.equityAllocation&&Object.keys(t.equityAllocation).forEach(T=>{T in E||(E[T]=t.equityAllocation[T])}),E}),[f,m]=j.useState(()=>{const E={};return qb.forEach(T=>{E[T]=t?.geoAllocation?.[T]||0}),t?.geoAllocation&&Object.keys(t.geoAllocation).forEach(T=>{T in E||(E[T]=t.geoAllocation[T])}),E}),[h,v]=j.useState(!1),x=Object.values(a).reduce((E,T)=>E+T,0),b=Object.values(c).reduce((E,T)=>E+T,0),S=Object.values(f).reduce((E,T)=>E+T,0),w=a.Equity||0,y=x===100||x===0,C=b===100||b===0||w===0,M=S===100||S===0||w===0,A=y&&C&&M;async function _(){if(A){v(!0);try{const E={fundCode:e.fundCode,fundName:e.fundName,equity:a.Equity||0,debt:a.Debt||0,cash:a.Cash||0,commodities:a.Commodities||0,realEstate:a["Real Estate"]||0,customAsset:{},giantCap:c.Giant||0,largeCap:c.Large||0,midCap:c.Mid||0,smallCap:c.Small||0,microCap:c.Micro||0,customCap:{},geoIndia:f.India||0,geoGlobal:f.Global||0,customGeo:{}};Object.entries(a).forEach(([T,P])=>{!Bb.includes(T)&&P>0&&(E.customAsset[T]=P)}),Object.entries(c).forEach(([T,P])=>{!$b.includes(T)&&P>0&&(E.customCap[T]=P)}),Object.entries(f).forEach(([T,P])=>{!qb.includes(T)&&P>0&&(E.customGeo[T]=P)}),await r(E)}finally{v(!1)}}}return l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-2.5",children:[l.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)] truncate",children:e.fundName}),l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:e.fundCode})]}),l.jsx(Hb,{title:"Asset Class %",fields:a,setFields:s,standardKeys:Bb,total:x,valid:y}),w>0&&l.jsx(Hb,{title:"Market Cap %",subtitle:"Equity breakdown",fields:c,setFields:u,standardKeys:$b,total:b,valid:C}),w>0&&l.jsx(Hb,{title:"Geography %",fields:f,setFields:m,standardKeys:qb,total:S,valid:M}),l.jsxs("div",{className:"flex items-center justify-end gap-2 pt-3 border-t border-[var(--border-light)]",children:[l.jsx("button",{onClick:n,disabled:h,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),l.jsxs("button",{onClick:_,disabled:h||!A,className:"flex items-center gap-1.5 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:[h?l.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):l.jsx(XO,{size:12}),h?"Saving...":"Save"]})]})]})}function Hb({title:e,subtitle:t,fields:r,setFields:n,standardKeys:a,total:s,valid:c}){const[u,f]=j.useState(!1),[m,h]=j.useState("");function v(w,y){n(C=>({...C,[w]:Number(y)||0}))}function x(){const w=m.trim();!w||w in r||(n(y=>({...y,[w]:0})),h(""),f(!1))}function b(w){n(y=>{const C={...y};return delete C[w],C})}const S=Object.keys(r);return l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider",children:e}),t&&l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["(",t,")"]})]}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-1.5",children:S.map(w=>{const y=!a.includes(w);return l.jsxs("div",{className:"relative",children:[l.jsxs("label",{className:"block text-[10px] text-[var(--text-dim)] mb-0.5 flex items-center gap-1",children:[w,y&&l.jsx("button",{onClick:()=>b(w),className:"text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:l.jsx(Pl,{size:8})})]}),l.jsx("input",{type:"number",min:"0",max:"100",value:r[w]||"",onChange:C=>v(w,C.target.value),className:"w-[72px] px-1.5 py-1 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md tabular-nums text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})]},w)})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("p",{className:`text-[10px] tabular-nums ${c?"text-[var(--text-dim)]":"text-[var(--accent-rose)] font-semibold"}`,children:["Total: ",s,"% ",!c&&" must equal 100%",c&&s===100&&l.jsx("span",{className:"text-emerald-400 ml-1",children:""})]}),u?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("input",{autoFocus:!0,value:m,onChange:w=>h(w.target.value),onKeyDown:w=>{w.key==="Enter"&&x(),w.key==="Escape"&&f(!1)},placeholder:"Field name",className:"w-24 px-1.5 py-0.5 text-[10px] bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md focus:outline-none focus:border-[var(--sidebar-active-text)]"}),l.jsx("button",{onClick:x,className:"text-[10px] font-semibold text-emerald-400 hover:text-emerald-300",children:"Add"}),l.jsx("button",{onClick:()=>{f(!1),h("")},className:"text-[10px] text-[var(--text-dim)] hover:text-[var(--text-primary)]",children:l.jsx(Pl,{size:10})})]}):l.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-0.5 text-[10px] font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[l.jsx(Yr,{size:10})," Add Field"]})]})]})}const $u=e=>e?.replace(/^PFL-/,"")||e;function Use(e){if(!e)return"Other";const t=e.toLowerCase();return t.includes("gold")||t.includes("silver")||t.includes("commodity")?"Commodity":t.includes("liquid")||t.includes("money market")||t.includes("overnight")?"Liquid":t.includes("gilt")||t.includes("government securities")||t.includes("constant maturity")?"Gilt":t.includes("elss")||t.includes("tax saver")?"ELSS":t.includes("debt")||t.includes("bond")||t.includes("income fund")||t.includes("corporate bond")||t.includes("banking & psu")||t.includes("short duration")||t.includes("medium duration")||t.includes("long duration")||t.includes("short term")||t.includes("medium term")||t.includes("floater")||t.includes("floating rate")||t.includes("credit")||t.includes("accrual")||t.includes("savings fund")||t.includes("ultra short")?"Debt":t.includes("multi asset")?"Multi-Asset":t.includes("hybrid")||t.includes("balanced")||t.includes("dynamic asset")||t.includes("arbitrage")||t.includes("retirement")||t.includes("children")||t.includes("pension")?"Hybrid":t.includes("equity")||t.includes("flexi cap")||t.includes("large cap")||t.includes("mid cap")||t.includes("small cap")||t.includes("multi cap")||t.includes("focused")||t.includes("contra")||t.includes("value fund")||t.includes("thematic")||t.includes("sectoral")||t.includes("consumption")||t.includes("infrastructure")||t.includes("pharma")||t.includes("healthcare")||t.includes("technology")||t.includes("fmcg")||t.includes("mnc")||t.includes("opportunities fund")||t.includes("midcap")||t.includes("smallcap")||t.includes("largecap")||t.includes("large & mid")?"Equity":t.includes("index")||t.includes("etf")||t.includes("nifty")||t.includes("sensex")?"Index":t.includes("fund of fund")||t.includes("fof")||t.includes("aggressive")||t.includes("conservative")?"Hybrid":"Other"}const Yse={Equity:"#8b5cf6",Debt:"#0ea5e9",Cash:"#2dd4bf",Commodities:"#eab308","Real Estate":"#f97316",Other:"#94a3b8"},Vse={Giant:"#6366f1",Large:"#3b82f6",Mid:"#f59e0b",Small:"#ef4444",Micro:"#ec4899"},Gse={India:"#f97316",Global:"#06b6d4"},Kse={Equity:"bg-violet-500",Debt:"bg-sky-500",Cash:"bg-teal-400",Commodities:"bg-yellow-500","Real Estate":"bg-orange-500",Other:"bg-slate-400"},Wse={Giant:"bg-indigo-500",Large:"bg-blue-500",Mid:"bg-amber-500",Small:"bg-rose-500",Micro:"bg-pink-500"},Qse={India:"bg-orange-500",Global:"bg-cyan-500"};function n1(e){if(!e)return null;if(e instanceof Date)return isNaN(e.getTime())?null:e;const t=String(e),r=t.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(r)return new Date(Number(r[3]),Number(r[2])-1,Number(r[1]));const n=new Date(t);return isNaN(n.getTime())?null:n}function C_(e){return e>=20?{color:"#c62828",fontWeight:700}:e>=10?{color:"#d84315",fontWeight:700}:e>=5?{color:"#e67e00",fontWeight:600}:e>=1?{color:"#b8860b",fontWeight:600}:{color:"var(--text-dim)",fontWeight:400}}function Xse(){const{selectedMember:e}=zr(),{mfPortfolios:t,mfHoldings:r,mfTransactions:n,activeMembers:a,activeInvestmentAccounts:s,addMFPortfolio:c,updateMFPortfolio:u,deleteMFPortfolio:f,investMF:m,redeemMF:h,switchMF:v,updateHoldingAllocations:x,deleteMFTransaction:b,editMFTransaction:S,assetAllocations:w,updateAssetAllocation:y}=dt(),{showToast:C,showBlockUI:M,hideBlockUI:A}=Qa(),_=Xa(),{mv:E}=Za(),[T,P]=j.useState(null),[O,L]=j.useState("all"),[R,F]=j.useState("holdings"),[k,X]=j.useState(!1),[W,Z]=j.useState("all"),[B,G]=j.useState(null),[z,ne]=j.useState(!1),[ge,$]=j.useState(null),ie=j.useMemo(()=>t?t.filter(V=>V.status!=="Inactive").map(V=>{let q=s.find(Ie=>Ie.accountId===V.investmentAccountId);!q&&V.investmentAccountId&&(q=s.find(Ie=>`${Ie.accountName} - ${Ie.platformBroker}`===V.investmentAccountId));const Q=q?.memberId||V.ownerId||"",we=Q?a.find(Ie=>Ie.memberId===Q):null;return{...V,investmentAccountId:q?.accountId||V.investmentAccountId,ownerId:Q,ownerName:we?.memberName||V.ownerName||"",platform:q?.platformBroker||V.investmentAccountName||"",clientId:q?.accountClientId||""}}):[],[t,s,a]),pe=j.useMemo(()=>ie.length?e==="all"?ie:ie.filter(V=>V.ownerId===e):[],[ie,e]),ue=j.useMemo(()=>r?pe.map(V=>{const q=r.filter(we=>we.portfolioId===V.portfolioId),Q=(n||[]).filter(we=>we.portfolioId===V.portfolioId);return{...V,holdings:q,txns:Q,fundCount:q.length}}):[],[pe,r,n]),je=j.useMemo(()=>{const V=O==="all"?ue:ue.filter(ht=>ht.portfolioId===O),q=V.reduce((ht,Ne)=>ht+Ne.totalInvestment,0),Q=V.reduce((ht,Ne)=>ht+Ne.currentValue,0),we=V.reduce((ht,Ne)=>ht+Ne.unrealizedPL,0),Ie=V.reduce((ht,Ne)=>ht+Ne.realizedPL,0),be=we+Ie,pt=q>0?be/q*100:0,Be=q>0?we/q*100:0,Re=q>0?Ie/q*100:0,Xe=V.reduce((ht,Ne)=>ht+Ne.fundCount,0),Zt=(r?O==="all"?r.filter(ht=>V.some(Ne=>Ne.portfolioId===ht.portfolioId)):r.filter(ht=>ht.portfolioId===O):[]).reduce((ht,Ne)=>ht+(Ne.ongoingSIP||0),0);return{invested:q,current:Q,unrealizedPL:we,unrealizedPLPct:Be,realizedPL:Ie,realizedPLPct:Re,totalPL:be,totalPLPct:pt,funds:Xe,monthlySIP:Zt}},[ue,O,r]),he=j.useMemo(()=>r?O==="all"?r.filter(V=>pe.some(q=>q.portfolioId===V.portfolioId)):r.filter(V=>V.portfolioId===O):[],[r,pe,O]),ve=j.useMemo(()=>n?(O==="all"?n.filter(q=>pe.some(Q=>Q.portfolioId===q.portfolioId)):n.filter(q=>q.portfolioId===O)).sort((q,Q)=>(n1(Q.date)||0)-(n1(q.date)||0)):[],[n,pe,O]),Ae=j.useMemo(()=>{const V=new Set;return ve.forEach(q=>{q.fundName&&V.add(q.fundName)}),[...V].sort()},[ve]),re=j.useMemo(()=>W==="all"?ve:ve.filter(V=>V.fundName===W),[ve,W]),Le=j.useMemo(()=>{const V={};return he.forEach(q=>{V[q.portfolioId]=(V[q.portfolioId]||0)+q.currentValue}),he.map(q=>{const Q=V[q.portfolioId]||0,we=Q>0?q.currentValue/Q*100:0,Ie=q.investment>0?q.pl/q.investment*100:0,be=q.holdingId||`${q.portfolioId}::${q.schemeCode||q.fundCode}`;return{...q,currentAllocationPct:we,plPct:Ie,_key:be}})},[he]),He=j.useMemo(()=>{if(O!=="all")return null;const V=[],q={};return Le.forEach(Q=>{q[Q.portfolioId]||(q[Q.portfolioId]={portfolioId:Q.portfolioId,holdings:[]},V.push(q[Q.portfolioId])),q[Q.portfolioId].holdings.push(Q)}),V},[Le,O]),xe=j.useMemo(()=>{if(!r)return{};const V={};return ue.forEach(q=>{const Q=r.filter(Be=>Be.portfolioId===q.portfolioId&&Be.units>0),we=Q.reduce((Be,Re)=>Be+Re.currentValue,0),Ie=(q.rebalanceThreshold||.05)*100;let be=0,pt=0;Q.forEach(Be=>{Be.athNav>0&&Be.belowATHPct>=5&&be++;const Re=we>0?Be.currentValue/we*100:0;Be.targetAllocationPct>0&&Math.abs(Re-Be.targetAllocationPct)>Ie&&pt++}),V[q.portfolioId]={buyOpp:be,rebalance:pt}}),V},[ue,r]);j.useMemo(()=>{if(O!=="all")return xe[O]||{buyOpp:0,rebalance:0};let V=0,q=0;return Object.values(xe).forEach(Q=>{V+=Q.buyOpp,q+=Q.rebalance}),{buyOpp:V,rebalance:q}},[O,xe]);const Fe=j.useMemo(()=>{if(!he.length)return null;const V={};if(w)for(const Ne of w)V[Ne.fundCode]={asset:Ne.assetAllocation,equity:Ne.equityAllocation,geo:Ne.geoAllocation};const q={Equity:0,Debt:0,Cash:0,Commodities:0,"Real Estate":0,Other:0},Q={Giant:0,Large:0,Mid:0,Small:0,Micro:0},we={India:0,Global:0};let Ie=0,be=!1,pt=0;for(const Ne of he){if(Ne.units<=0)continue;Ie+=Ne.currentValue;const Ke=V[Ne.fundCode||Ne.schemeCode];if(Ke?.asset){be=!0,pt++;for(const[ke,jt]of Object.entries(Ke.asset)){const Jt=Ne.currentValue*(jt/100);ke in q?q[ke]+=Jt:ke==="Gold"?q.Commodities+=Jt:q.Other+=Jt}if(Ke.equity){const ke=Ne.currentValue*((Ke.asset.Equity||0)/100);for(const[jt,Jt]of Object.entries(Ke.equity)){const cr=ke*(Jt/100);jt in Q?Q[jt]+=cr:jt==="Large Cap"?Q.Large+=cr:jt==="Mid Cap"?Q.Mid+=cr:Q.Small+=cr}}if(Ke.geo){const ke=Ne.currentValue*((Ke.asset.Equity||0)/100);for(const[jt,Jt]of Object.entries(Ke.geo)){const cr=ke*(Jt/100);jt in we?we[jt]+=cr:we.Global+=cr}}}else{let ke=Ne.category;(!ke||ke==="Other")&&(ke=Use(Ne.fundName)),ke==="Equity"||ke==="ELSS"||ke==="Index"?q.Equity+=Ne.currentValue:ke==="Debt"||ke==="Gilt"?q.Debt+=Ne.currentValue:ke==="Liquid"?q.Cash+=Ne.currentValue:ke==="Commodity"?q.Commodities+=Ne.currentValue:ke==="Multi-Asset"?(q.Equity+=Ne.currentValue*.5,q.Debt+=Ne.currentValue*.3,q.Commodities+=Ne.currentValue*.2):ke==="Hybrid"||ke==="FoF"?(q.Equity+=Ne.currentValue*.65,q.Debt+=Ne.currentValue*.35):q.Other+=Ne.currentValue}}if(Ie===0)return null;const Re=((Ne,Ke)=>Object.entries(Ne).filter(([,ke])=>ke>0).sort(([,ke],[,jt])=>jt-ke).map(([ke,jt])=>({name:ke,value:jt,pct:jt/Ie*100,fill:Ke[ke]||"#94a3b8"})))(q,Yse),Xe=Object.values(Q).reduce((Ne,Ke)=>Ne+Ke,0),Ze=Xe>0?Object.entries(Q).filter(([,Ne])=>Ne>0).sort(([,Ne],[,Ke])=>Ke-Ne).map(([Ne,Ke])=>({name:Ne,value:Ke,pct:Ke/Xe*100,fill:Vse[Ne]||"#94a3b8"})):[],Zt=Object.values(we).reduce((Ne,Ke)=>Ne+Ke,0),ht=Zt>0?Object.entries(we).filter(([,Ne])=>Ne>0).sort(([,Ne],[,Ke])=>Ke-Ne).map(([Ne,Ke])=>({name:Ne,value:Ke,pct:Ke/Zt*100,fill:Gse[Ne]||"#94a3b8"})):[];return{assetList:Re,capList:Ze,geoList:ht,hasDetailedAlloc:be,configuredCount:pt,totalFunds:he.filter(Ne=>Ne.units>0).length}},[he,w]),$e=j.useMemo(()=>{if(!he.length)return[];const V={};return he.forEach(q=>{if(!q.fundCode&&!q.schemeCode)return;const Q=(q.fundCode||q.schemeCode).toString();V[Q]||(V[Q]={fundCode:Q,fundName:q.fundName||""})}),Object.values(V).sort((q,Q)=>q.fundName.localeCompare(Q.fundName))},[he]);if(t===null||r===null)return l.jsx(Vi,{title:"Loading mutual funds",cards:5});const Ve=ue.find(V=>V.portfolioId===O),wt=O==="all"?`All Portfolios (${pe.length})`:`${$u(Ve?.portfolioName)}  ${E(Ve?.ownerName,"name")}`;async function Et(V){M("Saving...");try{T?.editPortfolio?await u(T.editPortfolio.portfolioId,V):await c(V),C(T?.editPortfolio?"Portfolio updated":"Portfolio created"),P(null)}catch(q){C(q.message||"Failed to save portfolio","error")}finally{A()}}async function Oe(){if(T?.editPortfolio&&await _("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){M("Deactivating...");try{await f(T.editPortfolio.portfolioId),C("Portfolio deactivated"),L("all"),P(null)}catch(V){C(V.message||"Failed to deactivate portfolio","error")}finally{A()}}}async function tt(V){M("Recording investment...");try{await m(V,V.transactionType),C("Investment recorded"),P(null)}catch(q){C(q.message||"Failed to record investment","error")}finally{A()}}async function zt(V){M("Recording redemption...");try{await h(V),C("Redemption recorded"),P(null)}catch(q){C(q.message||"Failed to record redemption","error")}finally{A()}}async function at(V){M("Recording switch...");try{await v(V),C("Switch recorded"),P(null)}catch(q){C(q.message||"Failed to record switch","error")}finally{A()}}async function xt(V){if(await _("Delete this transaction? This will recalculate your holdings.",{title:"Delete Transaction",confirmLabel:"Delete"})){M("Deleting...");try{await b(V),C("Transaction deleted"),G(null)}catch(q){C(q.message||"Failed to delete transaction","error")}finally{A()}}}async function Qt(V){M("Updating...");try{await S(V),C("Transaction updated"),P(null)}catch(q){C(q.message||"Failed to update transaction","error")}finally{A()}}async function Xt(V){if(T?.allocations){M("Saving allocations...");try{await x(T.allocations,V),C("Allocations updated"),P(null)}catch(q){C(q.message||"Failed to update allocations","error")}finally{A()}}}async function Gi(V){M("Saving classification...");try{await y(V),C("Fund classified"),P(null)}catch(q){C(q.message||"Failed to save classification","error")}finally{A()}}return l.jsxs("div",{className:"space-y-4",children:[pe.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(Xm,{size:32,className:"text-[var(--text-dim)]"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No mutual fund portfolios yet"}),l.jsx("button",{onClick:()=>P("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[l.jsxs("div",{className:"relative w-full sm:w-auto",children:[l.jsxs("button",{onClick:()=>X(!k),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors w-full sm:min-w-[220px]",children:[l.jsx(Xm,{size:14,className:"text-violet-400 shrink-0"}),l.jsx("span",{className:"truncate",children:wt}),l.jsx(Ol,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${k?"rotate-180":""}`})]}),k&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>X(!1)}),l.jsxs("div",{className:"absolute left-0 right-0 sm:right-auto top-full mt-1 z-40 bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl sm:min-w-[300px] py-1 overflow-hidden",children:[l.jsxs("button",{onClick:()=>{L("all"),X(!1),F("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${O==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",pe.length,")"]}),l.jsx("div",{className:"border-t border-[var(--border-light)]"}),ue.map(V=>{const q=V.totalPL>=0,Q=xe[V.portfolioId]||{};return l.jsx("button",{onClick:()=>{L(V.portfolioId),X(!1),F("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${O===V.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("p",{className:`text-sm ${O===V.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:$u(V.portfolioName)}),Q.buyOpp>0&&l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 shrink-0",title:`${Q.buyOpp} buy opportunities`}),Q.rebalance>0&&l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 shrink-0",title:`${Q.rebalance} funds need rebalancing`})]}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[E(V.ownerName,"name"),"  ",V.platform,"  ",V.fundCount," funds"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:J(V.currentValue)}),l.jsxs("p",{className:`text-xs font-semibold tabular-nums ${q?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[q?"+":"",V.totalPLPct.toFixed(1),"%"]})]})]})},V.portfolioId)})]})]})]}),l.jsxs("div",{className:"flex items-center gap-1.5 overflow-x-auto no-scrollbar",children:[Ve&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>P({allocations:Ve.portfolioId}),className:"shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(JO,{size:12})," Allocations"]}),l.jsxs("button",{onClick:()=>P({editPortfolio:Ve}),className:"shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(ya,{size:12})," Edit"]})]}),l.jsxs("button",{onClick:()=>P("addPortfolio"),className:"shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Yr,{size:13})," New Portfolio"]})]})]}),Ve&&l.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Platform:"})," ",Ve.platform]}),l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",E(Ve.clientId,"clientId")]}),l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Funds:"})," ",Ve.fundCount]}),Ve.sipTarget>=100&&l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"SIP Target:"})," ",J(Ve.sipTarget),"/mo"]}),Ve.lumpsumTarget>=100&&l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Lumpsum Target:"})," ",J(Ve.lumpsumTarget)]}),l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Rebalance Threshold:"})," ",(Ve.rebalanceThreshold*100).toFixed(0),"%"]})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[l.jsx(Ro,{label:"Invested",value:J(je.invested)}),l.jsx(Ro,{label:"Current Value",value:J(je.current),bold:!0}),l.jsx(Ro,{label:"Unrealized P&L",value:`${je.unrealizedPL>=0?"+":""}${J(je.unrealizedPL)}`,sub:`${je.unrealizedPLPct>=0?"+":""}${je.unrealizedPLPct.toFixed(1)}%`,positive:je.unrealizedPL>=0}),l.jsx(Ro,{label:"Realized P&L",value:`${je.realizedPL>=0?"+":""}${J(je.realizedPL)}`,sub:`${je.realizedPLPct>=0?"+":""}${je.realizedPLPct.toFixed(1)}%`,positive:je.realizedPL>=0}),l.jsx(Ro,{label:"Total P&L",value:`${je.totalPL>=0?"+":""}${J(je.totalPL)}`,sub:`${je.totalPLPct>=0?"+":""}${je.totalPLPct.toFixed(1)}%`,positive:je.totalPL>=0,bold:!0}),l.jsx(Ro,{label:"Monthly SIP",value:J(je.monthlySIP),sub:`${je.funds} funds`})]}),Fe&&Fe.assetList.length>0&&l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsxs("button",{onClick:()=>ne(V=>!V),className:"w-full flex items-center justify-between px-4 py-2.5 hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx("span",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Portfolio Breakdown"}),l.jsx(Ol,{size:14,className:`text-[var(--text-dim)] transition-transform duration-200 ${z?"rotate-180":""}`})]}),z&&l.jsxs("div",{className:"px-4 pb-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsx(Ub,{title:"Asset Class",data:Fe.assetList,bgMap:Kse}),Fe.capList.length>0?l.jsx(Ub,{title:"Market Cap",data:Fe.capList,bgMap:Wse}):l.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-4",children:l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:["Classify funds for",l.jsx("br",{}),"market cap breakdown"]})}),Fe.geoList?.length>0?l.jsx(Ub,{title:"Geography",data:Fe.geoList,bgMap:Qse}):l.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-4",children:l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:["Classify funds for",l.jsx("br",{}),"geography breakdown"]})})]}),!Fe.hasDetailedAlloc&&l.jsx("p",{className:"text-[9px] text-[var(--text-dim)]/50 mt-2 text-center",children:"Based on fund category. Go to Fund Breakdown tab to add detailed data from Morningstar."}),Fe.hasDetailedAlloc&&Fe.configuredCount<Fe.totalFunds&&l.jsxs("p",{className:"text-[9px] text-amber-400/70 mt-2 text-center",children:[Fe.totalFunds-Fe.configuredCount," of ",Fe.totalFunds," funds not yet classified"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:[l.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5 shrink-0",children:[l.jsxs("button",{onClick:()=>F("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${R==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[l.jsx(VO,{size:12})," Holdings (",he.length,")"]}),l.jsxs("button",{onClick:()=>F("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${R==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[l.jsx(Wu,{size:12})," Transactions (",re.length,")"]}),l.jsxs("button",{onClick:()=>F("breakdown"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${R==="breakdown"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[l.jsx(AC,{size:12})," Fund Breakdown (",$e.length,")"]})]}),l.jsxs("div",{className:"flex items-center gap-1.5 ml-auto shrink-0",children:[l.jsxs("button",{onClick:()=>O!=="all"&&P({invest:O}),disabled:O==="all",className:`shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded-lg border transition-colors ${O==="all"?"border-[var(--border)] text-[var(--text-dim)] cursor-not-allowed opacity-50 bg-[var(--bg-card)]":"text-emerald-400 hover:text-emerald-300 bg-[var(--bg-card)] border-[var(--border)] hover:bg-[var(--bg-hover)]"}`,children:[l.jsx(Tl,{size:12})," Invest"]}),l.jsxs("button",{onClick:()=>O!=="all"&&he.length>0&&P({redeem:O}),disabled:O==="all"||he.length===0,className:`shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded-lg border transition-colors ${O==="all"||he.length===0?"border-[var(--border)] text-[var(--text-dim)] cursor-not-allowed opacity-50 bg-[var(--bg-card)]":"text-rose-400 hover:text-rose-300 bg-[var(--bg-card)] border-[var(--border)] hover:bg-[var(--bg-hover)]"}`,children:[l.jsx(Qb,{size:12})," Redeem"]}),l.jsxs("button",{onClick:()=>O!=="all"&&he.length>0&&P({switchFunds:O}),disabled:O==="all"||he.length===0,className:`shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded-lg border transition-colors ${O==="all"||he.length===0?"border-[var(--border)] text-[var(--text-dim)] cursor-not-allowed opacity-50 bg-[var(--bg-card)]":"text-amber-400 hover:text-amber-300 bg-[var(--bg-card)] border-[var(--border)] hover:bg-[var(--bg-hover)]"}`,children:[l.jsx(MC,{size:12})," Switch"]})]})]}),R==="holdings"&&l.jsx(l.Fragment,{children:he.length>0?l.jsx("div",{className:O==="all"?"space-y-4":"",children:(O==="all"?He:[{portfolioId:O,holdings:Le}]).map(V=>{const q=ue.find(be=>be.portfolioId===V.portfolioId),Q=V.holdings,we=Q.reduce((be,pt)=>be+pt.pl,0),Ie=we>=0;return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[O==="all"&&q&&l.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:$u(q.portfolioName)}),q.ownerName&&l.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:["(",E(q.ownerName,"name"),")"]}),l.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[" ",Q.filter(be=>be.units>0).length," funds"]})]}),l.jsxs("div",{className:"flex items-center gap-4 text-xs tabular-nums",children:[l.jsx("span",{className:"text-[var(--text-muted)]",children:J(q.currentValue||0)}),l.jsxs("span",{className:`font-bold ${Ie?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ie?"+":"",J(we)]})]})]}),l.jsx("div",{className:"hidden lg:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:`border-b border-[var(--border-light)] ${O!=="all"?"bg-[var(--bg-inset)]":""}`,children:[l.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund Name"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),l.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[l.jsx("div",{children:"NAV"}),l.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Avg"})]}),l.jsxs("th",{className:"text-center py-2 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[l.jsx("div",{children:"ATH"}),l.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Below Peak"})]}),l.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[l.jsx("div",{children:"Allocation %"}),l.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),l.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[l.jsx("div",{children:"Amount"}),l.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Invested"})]}),l.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[l.jsx("div",{children:"P&L"}),l.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"on Holdings"})]}),l.jsx("th",{className:"py-2 px-2 w-8"})]})}),l.jsx("tbody",{children:Q.map(be=>{const pt=C_(be.belowATHPct),Be=be.units===0,Re=ue.find(Ke=>Ke.portfolioId===be.portfolioId),Xe=Re?.currentValue||0,Ze=be.pl,Zt=Ze>=0,ht=Be&&be.targetAllocationPct>0&&be.targetAllocationPct<100&&Xe>0?be.targetAllocationPct/(100-be.targetAllocationPct)*Xe:0,Ne=Be&&be.targetAllocationPct>0&&Re?.sipTarget>=100?be.targetAllocationPct/100*Re.sipTarget:0;return l.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 transition-colors ${Be?"opacity-60":"hover:bg-[var(--bg-hover)]"}`,children:[l.jsx("td",{className:"py-2.5 px-3 max-w-[240px]",children:l.jsxs("div",{children:[l.jsx("button",{onClick:()=>!Be&&$(be),className:`text-xs text-left leading-tight ${Be?"text-[var(--text-primary)]":"text-[var(--text-primary)] hover:text-violet-400 transition-colors"}`,children:be.fundName}),Be&&l.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"}),Be&&(ht>0||Ne>0)&&l.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[ht>0&&l.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",J(ht)]}),Ne>0&&l.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",J(Ne),"/mo"]})]})]})}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Be?"":be.units.toFixed(2)}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:Be?l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:["",be.currentNav.toFixed(2)]}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["",be.avgNav.toFixed(2)]})]})}),l.jsx("td",{className:"py-2.5 px-2 text-center",children:Be?l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):be.athNav>0&&be.belowATHPct>0?l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm font-bold tabular-nums",style:pt,children:["",be.belowATHPct.toFixed(1),"%"]}),l.jsxs("p",{className:"text-[11px] text-[var(--text-muted)] tabular-nums",children:["",be.athNav.toFixed(0)]})]}):be.athNav>0?l.jsx("span",{className:"text-[10px] text-emerald-400/70 font-semibold",children:"AT HIGH"}):l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:Be?l.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums",children:[be.targetAllocationPct.toFixed(1),"%"]}):l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[be.currentAllocationPct.toFixed(1),"%"]}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[be.targetAllocationPct.toFixed(1),"%"]})]})}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:Be?l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:J(be.currentValue)}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:J(be.investment)})]})}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:Be?l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Zt?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Zt?"+":"",J(Ze)]}),l.jsxs("p",{className:`text-xs font-bold tabular-nums ${Zt?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Zt?"+":"",be.plPct.toFixed(1),"%"]})]})}),l.jsx("td",{className:"py-2.5 px-2 text-center",children:l.jsxs("div",{className:"flex items-center gap-0.5 justify-center",children:[l.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),P({invest:{portfolioId:be.portfolioId,fundCode:be.schemeCode,fundName:be.fundName}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25 transition-colors",title:"Buy / Invest",children:l.jsx(Yr,{size:14,strokeWidth:2.5})}),!Be&&l.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),P({redeem:{portfolioId:be.portfolioId,fundCode:be.schemeCode}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-rose-500/15 text-rose-400 hover:bg-rose-500/25 transition-colors",title:"Sell / Redeem",children:l.jsx(O8,{size:14,strokeWidth:2.5})})]})})]},be._key)})})]})}),l.jsx("div",{className:"lg:hidden space-y-2 p-3",children:Q.map(be=>{const pt=be.units===0,Be=be.pl>=0,Xe=ue.find(Zt=>Zt.portfolioId===be.portfolioId)?.currentValue||0,Ze=pt&&be.targetAllocationPct>0&&be.targetAllocationPct<100&&Xe>0?be.targetAllocationPct/(100-be.targetAllocationPct)*Xe:0;return pt?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3 opacity-60",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight flex-1 line-clamp-2",children:be.fundName}),l.jsx("span",{className:"text-[10px] font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded shrink-0",children:"Planned"})]}),l.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[l.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:["Target ",be.targetAllocationPct.toFixed(1),"%"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[Ze>0&&l.jsx("span",{className:"text-xs text-emerald-400 font-semibold",children:J(Ze)}),l.jsxs("button",{onClick:()=>P({invest:{portfolioId:be.portfolioId,fundCode:be.schemeCode,fundName:be.fundName}}),className:"flex items-center gap-1 text-[10px] font-semibold text-emerald-400 px-2 py-0.5 rounded bg-emerald-500/10",children:[l.jsx(Yr,{size:10,strokeWidth:2.5})," Buy"]})]})]})]},be._key):l.jsx("button",{onClick:()=>$(be),className:"w-full bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3 text-left hover:bg-[var(--bg-hover)] transition-colors",children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight flex-1 line-clamp-2",children:be.fundName}),l.jsxs("div",{className:"text-right shrink-0",children:[l.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:J(be.currentValue)}),l.jsxs("p",{className:`text-[11px] font-semibold tabular-nums ${Be?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Be?"+":"",be.plPct.toFixed(1),"%"]})]})]})},be._key)})})]},V.portfolioId)})}):l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[l.jsx(Xm,{size:28,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",Ve?" in this portfolio":""]}),l.jsx("button",{onClick:()=>P({invest:O!=="all"?O:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Add your first fund"})]})}),R==="transactions"&&l.jsxs(l.Fragment,{children:[Ae.length>1&&l.jsxs("div",{className:"flex items-center gap-2 px-1",children:[l.jsx(YO,{size:12,className:"text-[var(--text-dim)]"}),l.jsxs("select",{value:W,onChange:V=>Z(V.target.value),className:"text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg px-3 py-1.5 max-w-[350px] truncate",children:[l.jsxs("option",{value:"all",children:["All Funds (",ve.length,")"]}),Ae.map(V=>l.jsxs("option",{value:V,children:[V," (",ve.filter(q=>q.fundName===V).length,")"]},V))]}),W!=="all"&&l.jsx("button",{onClick:()=>Z("all"),className:"text-xs text-[var(--text-dim)] hover:text-[var(--text-muted)] underline",children:"Clear"})]}),re.length>0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"}),l.jsx("th",{className:"w-8"})]})}),l.jsx("tbody",{children:re.map((V,q)=>{const Q=V.type==="BUY",we=!Q&&V.gainLoss!=null&&V.gainLoss!==0,Ie=we&&V.gainLoss>=0,be=O==="all"?ue.find(Be=>Be.portfolioId===V.portfolioId):null,pt={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[V.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:V.date}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${Q?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:V.type}),l.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${pt.bg} ${pt.text}`,children:V.transactionType})]})}),l.jsxs("td",{className:"py-2.5 px-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate max-w-[200px]",children:V.fundName}),be&&l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:$u(be.portfolioName)})]}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:V.units.toFixed(2)}),l.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",V.price.toFixed(2)]}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:J(V.totalAmount)}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:we?l.jsxs("span",{className:`text-xs font-semibold tabular-nums ${Ie?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ie?"+":"",J(V.gainLoss)]}):l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),l.jsx("td",{className:"py-2.5 px-1",children:l.jsx(A_,{txn:V,isOpen:B===V.transactionId,onToggle:()=>G(B===V.transactionId?null:V.transactionId),onEdit:()=>{G(null),P({editTxn:V})},onDelete:()=>{G(null),xt(V.transactionId)}})})]},V.transactionId||`txn-${q}`)})})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:re.map((V,q)=>{const Q=V.type==="BUY",we=!Q&&V.gainLoss!=null&&V.gainLoss!==0,Ie=we&&V.gainLoss>=0;return l.jsxs("div",{className:"px-4 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${Q?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:V.type}),l.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:V.transactionType})]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:V.date}),l.jsx(A_,{txn:V,isOpen:B===V.transactionId,onToggle:()=>G(B===V.transactionId?null:V.transactionId),onEdit:()=>{G(null),P({editTxn:V})},onDelete:()=>{G(null),xt(V.transactionId)}})]})]}),l.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate mb-1",children:V.fundName}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("p",{className:"text-[var(--text-dim)]",children:[V.units.toFixed(2)," units @ ",V.price.toFixed(2)]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:J(V.totalAmount)}),we&&l.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Ie?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",Ie?"+":"",J(V.gainLoss)]})]})]}),V.notes&&l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:V.notes})]},V.transactionId||`txn-m-${q}`)})})]}):l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[l.jsx(Wu,{size:28,className:"text-[var(--text-dim)]"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:W!=="all"?"No transactions for this fund":"No transactions yet"}),W!=="all"?l.jsx("button",{onClick:()=>Z("all"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Show all transactions"}):l.jsx("button",{onClick:()=>P({invest:O!=="all"?O:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first investment"})]})]}),R==="breakdown"&&l.jsx(l.Fragment,{children:$e.length>0?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Copy allocation data from ",l.jsx("span",{className:"font-semibold text-[var(--text-muted)]",children:"morningstar.in"}),"  Fund  Portfolio tab"]}),$e.map(V=>{const q=w?.find(Q=>Q.fundCode===V.fundCode);return l.jsx(tle,{fund:V,existing:q,onConfigure:()=>P({classifyFund:{fund:V,existing:q}})},V.fundCode)})]}):l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[l.jsx(AC,{size:28,className:"text-[var(--text-dim)]"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No funds to configure"})]})})]}),l.jsx(fr,{open:T==="addPortfolio"||!!T?.editPortfolio,onClose:()=>P(null),title:T?.editPortfolio?"Edit Portfolio":"New MF Portfolio",children:l.jsx(Qie,{initial:T?.editPortfolio||void 0,onSave:Et,onDelete:T?.editPortfolio?Oe:void 0,onCancel:()=>P(null)})}),l.jsx(fr,{open:!!T?.invest,onClose:()=>P(null),title:"Invest in Mutual Fund",wide:!0,children:l.jsx(Fse,{portfolioId:typeof T?.invest=="object"?T.invest.portfolioId:typeof T?.invest=="string"?T.invest:void 0,fundCode:typeof T?.invest=="object"?T.invest.fundCode:void 0,fundName:typeof T?.invest=="object"?T.invest.fundName:void 0,onSave:tt,onCancel:()=>P(null)},T?.invest?.fundCode||T?.invest?.portfolioId||T?.invest)}),l.jsx(fr,{open:!!T?.redeem,onClose:()=>P(null),title:"Redeem Mutual Fund",wide:!0,children:l.jsx(Bse,{portfolioId:typeof T?.redeem=="object"?T.redeem.portfolioId:typeof T?.redeem=="string"?T.redeem:void 0,fundCode:typeof T?.redeem=="object"?T.redeem.fundCode:void 0,onSave:zt,onCancel:()=>P(null)},T?.redeem?.fundCode||T?.redeem?.portfolioId||T?.redeem)}),l.jsx(fr,{open:!!T?.switchFunds,onClose:()=>P(null),title:"Switch Funds",wide:!0,children:l.jsx($se,{portfolioId:typeof T?.switchFunds=="string"?T.switchFunds:void 0,onSave:at,onCancel:()=>P(null)})}),l.jsx(fr,{open:!!T?.allocations,onClose:()=>P(null),title:"Manage Portfolio Allocation",wide:!0,children:T?.allocations&&l.jsx(qse,{portfolioId:T.allocations,onSave:Xt,onCancel:()=>P(null)})}),l.jsx(fr,{open:T==="rebalance",onClose:()=>P(null),title:"Rebalance Alerts",wide:!0,children:T==="rebalance"&&l.jsx(cI,{})}),l.jsx(fr,{open:T==="buyOpp",onClose:()=>P(null),title:"Buy Opportunities",wide:!0,children:T==="buyOpp"&&l.jsx(N3,{})}),l.jsx(fr,{open:!!T?.editTxn,onClose:()=>P(null),title:"Edit Transaction",children:T?.editTxn&&l.jsx(Zse,{txn:T.editTxn,onSave:Qt,onCancel:()=>P(null)})}),l.jsx(fr,{open:!!T?.classifyFund,onClose:()=>P(null),title:"Classify Fund",children:T?.classifyFund&&l.jsx(Hse,{fund:T.classifyFund.fund,initial:T.classifyFund.existing,onSave:Gi,onCancel:()=>P(null)})}),ge&&pc.createPortal((()=>{const V=ge,q=C_(V.belowATHPct),Q=V.pl>=0,we=ue.find(Ie=>Ie.portfolioId===V.portfolioId);return l.jsxs("div",{className:"fixed inset-0 z-50 bg-[var(--bg-base)] flex flex-col overflow-hidden animate-fade-in",children:[l.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-[var(--border)] bg-[var(--bg-card)] shrink-0",children:[l.jsx("button",{onClick:()=>$(null),className:"p-1.5 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:l.jsx(yF,{size:18})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] truncate",children:V.fundName}),we&&l.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:[$u(we.portfolioName),"  ",we.platform]})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-5 w-full max-w-2xl mx-auto",children:l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-[var(--text-primary)] tabular-nums",children:J(V.currentValue)}),l.jsxs("p",{className:`text-sm font-semibold tabular-nums mt-0.5 ${Q?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Q?"+":"",J(V.pl)," (",Q?"+":"",V.plPct.toFixed(1),"%)"]})]}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] divide-y divide-[var(--border-light)]",children:[l.jsx(Lo,{label:"Invested",value:J(V.investment)}),l.jsx(Lo,{label:"Units",value:V.units.toFixed(3)}),l.jsx(Lo,{label:"NAV (Current / Avg)",value:`${V.currentNav.toFixed(2)} / ${V.avgNav.toFixed(2)}`}),l.jsx(Lo,{label:"Allocation (Current / Target)",value:`${V.currentAllocationPct.toFixed(1)}% / ${V.targetAllocationPct.toFixed(1)}%`}),V.athNav>0&&l.jsx(Lo,{label:"ATH",value:V.belowATHPct>0?`${V.belowATHPct.toFixed(1)}% (${V.athNav.toFixed(0)})`:"At All-Time High",valueStyle:V.belowATHPct>0?q:{color:"#34d399"}}),V.ongoingSIP>0&&l.jsx(Lo,{label:"Monthly SIP",value:J(V.ongoingSIP),valueClass:"text-blue-400"})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs("button",{onClick:()=>{$(null),P({invest:{portfolioId:V.portfolioId,fundCode:V.schemeCode,fundName:V.fundName}})},className:"flex flex-col items-center gap-1.5 px-3 py-3 text-xs font-semibold text-emerald-400 bg-[var(--bg-card)] border border-[var(--border)] hover:bg-emerald-500/10 rounded-xl transition-colors",children:[l.jsx(Tl,{size:18})," Invest"]}),l.jsxs("button",{onClick:()=>{$(null),P({redeem:{portfolioId:V.portfolioId,fundCode:V.schemeCode}})},className:"flex flex-col items-center gap-1.5 px-3 py-3 text-xs font-semibold text-rose-400 bg-[var(--bg-card)] border border-[var(--border)] hover:bg-rose-500/10 rounded-xl transition-colors",children:[l.jsx(Qb,{size:18})," Redeem"]}),l.jsxs("button",{onClick:()=>{$(null),P({switchFunds:V.portfolioId})},className:"flex flex-col items-center gap-1.5 px-3 py-3 text-xs font-semibold text-amber-400 bg-[var(--bg-card)] border border-[var(--border)] hover:bg-amber-500/10 rounded-xl transition-colors",children:[l.jsx(MC,{size:18})," Switch"]})]}),l.jsxs("button",{onClick:()=>{$(null),F("transactions"),Z(V.fundName)},className:"w-full flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold text-violet-400 bg-[var(--bg-card)] border border-[var(--border)] hover:bg-violet-500/10 rounded-xl transition-colors",children:[l.jsx(Wu,{size:16})," View Transactions"]})]})})]})})(),document.body)]})}function Ro({label:e,value:t,sub:r,positive:n,bold:a}){return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t}),r&&l.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function Lo({label:e,value:t,valueStyle:r,valueClass:n}){return l.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:e}),l.jsx("p",{className:`text-sm font-bold tabular-nums ${n||"text-[var(--text-primary)]"}`,style:r,children:t})]})}function A_({txn:e,isOpen:t,onToggle:r,onEdit:n,onDelete:a}){const s=j.useRef(null),[c,u]=j.useState({top:0,right:0});if(!e.transactionId)return null;function f(m){if(m.stopPropagation(),!t&&s.current){const h=s.current.getBoundingClientRect();u({top:h.bottom+4,right:window.innerWidth-h.right})}r()}return l.jsxs(l.Fragment,{children:[l.jsx("button",{ref:s,onClick:f,className:"p-1 rounded-md text-[var(--text-dim)] hover:text-[var(--text-muted)] hover:bg-[var(--bg-hover)] transition-colors",title:"Actions",children:l.jsx(r8,{size:14})}),t&&pc.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{position:"fixed",inset:0,zIndex:9998},onClick:m=>{m.stopPropagation(),r()}}),l.jsxs("div",{style:{position:"fixed",top:c.top,right:c.right,zIndex:9999},className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl py-1 min-w-[120px] animate-fade-in",children:[l.jsxs("button",{onClick:m=>{m.stopPropagation(),n()},className:"w-full text-left px-3 py-2 text-xs text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)] flex items-center gap-2 transition-colors",children:[l.jsx(ya,{size:12})," Edit"]}),l.jsxs("button",{onClick:m=>{m.stopPropagation(),a()},className:"w-full text-left px-3 py-2 text-xs text-[var(--accent-rose)] hover:bg-rose-500/10 flex items-center gap-2 transition-colors",children:[l.jsx(Dh,{size:12})," Delete"]})]})]}),document.body)]})}function Zse({txn:e,onSave:t,onCancel:r}){const[n,a]=j.useState(()=>{const w=n1(e.date);return w?w.toISOString().split("T")[0]:""}),[s,c]=j.useState(String(e.units||"")),[u,f]=j.useState(String(e.price||"")),[m,h]=j.useState(e.notes||""),[v,x]=j.useState(!1),b=(Number(s)||0)*(Number(u)||0);async function S(){if(!(!s||Number(s)<=0)&&!(!u||Number(u)<=0)){x(!0);try{await t({transactionId:e.transactionId,date:n,units:s,price:u,notes:m})}finally{x(!1)}}}return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:e.fundName}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[e.type,"  ",e.transactionType,"  ",e.transactionId]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Date"}),l.jsx(Va,{value:n,onChange:a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Units"}),l.jsx("input",{type:"number",value:s,onChange:w=>c(w.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"NAV (price)"}),l.jsx("input",{type:"number",value:u,onChange:w=>f(w.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]})]}),b>0&&l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:J(b)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Notes"}),l.jsx("input",{type:"text",value:m,onChange:w=>h(w.target.value),placeholder:"Optional notes...",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-[var(--border-light)]",children:[l.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:"Cancel"}),l.jsx("button",{onClick:S,disabled:v||!s||Number(s)<=0||!u||Number(u)<=0,className:"px-4 py-2 text-xs font-bold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Saving...":"Update Transaction"})]})]})}const M_=[{key:"Equity",bg:"bg-violet-500"},{key:"Debt",bg:"bg-sky-500"},{key:"Cash",bg:"bg-teal-400"},{key:"Commodities",bg:"bg-yellow-500"},{key:"Real Estate",bg:"bg-orange-500"},{key:"Other",bg:"bg-slate-400"}],Jse={Giant:"G",Large:"L",Mid:"M",Small:"S",Micro:"Mi"},ele={India:"IN",Global:"GL"};function tle({fund:e,existing:t,onConfigure:r}){const n=t?.assetAllocation&&Object.keys(t.assetAllocation).length>0,a=t?.equityAllocation&&Object.keys(t.equityAllocation).length>0,s=t?.geoAllocation&&Object.keys(t.geoAllocation).length>0;return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:e.fundName}),l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:e.fundCode})]}),l.jsx("button",{onClick:r,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-violet-400 hover:bg-violet-500/10 transition-colors shrink-0 ml-3",title:"Classify fund",children:l.jsx(JO,{size:14})})]}),n?l.jsxs("div",{className:"px-4 pb-3",children:[l.jsx("div",{className:"h-2 rounded-full overflow-hidden bg-[var(--bg-inset)] flex mb-1.5",children:M_.map(({key:c,bg:u})=>{const f=t.assetAllocation[c]||0;return f>0?l.jsx("div",{className:`h-full ${u}`,style:{width:`${f}%`}},c):null})}),l.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-0.5",children:[M_.map(({key:c,bg:u})=>{const f=t.assetAllocation[c]||0;return f>0?l.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-[var(--text-muted)] tabular-nums",children:[l.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${u}`}),f,"% ",c]},c):null}),a&&l.jsxs("span",{className:"text-[11px] text-[var(--text-dim)] tabular-nums ml-1",children:["| ",Object.entries(Jse).map(([c,u])=>{const f=t.equityAllocation[c]||0;return f>0?`${u}${f}`:""}).filter(Boolean).join(" ")]}),s&&l.jsxs("span",{className:"text-[11px] text-[var(--text-dim)] tabular-nums ml-1",children:["| ",Object.entries(ele).map(([c,u])=>{const f=t.geoAllocation[c]||0;return f>0?`${u}${f}`:""}).filter(Boolean).join(" ")]})]})]}):l.jsxs("div",{className:"px-4 pb-3",children:[l.jsx("div",{className:"h-2 rounded-full bg-[var(--bg-inset)] mb-1"}),l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] italic",children:"Not configured  click  to classify"})]})]})}function Ub({title:e,data:t,bgMap:r}){return l.jsxs("div",{className:"rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-3",children:[l.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider mb-2 text-center",children:e}),l.jsx("div",{className:"w-full h-[120px]",children:l.jsx(S5,{width:"100%",height:"100%",children:l.jsxs(w3,{children:[l.jsx(Zw,{data:t,dataKey:"pct",nameKey:"name",cx:"50%",cy:"50%",innerRadius:30,outerRadius:48,paddingAngle:2,stroke:"none",children:t.map((n,a)=>l.jsx(Fd,{fill:n.fill},a))}),l.jsx($4,{content:({payload:n})=>{if(!n?.length)return null;const a=n[0].payload;return l.jsxs("div",{className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg px-2.5 py-1.5 shadow-xl",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:a.name}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[a.pct.toFixed(1),"%"]})]})}})]})})}),l.jsx("div",{className:"flex flex-wrap justify-center gap-x-3 gap-y-0.5 mt-1",children:t.map(n=>l.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-[var(--text-muted)] tabular-nums",children:[l.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${r[n.name]||"bg-slate-500"}`}),n.name," ",n.pct.toFixed(0),"%"]},n.name))})]})}function rle({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:a,activeInvestmentAccounts:s}=dt(),c=!!e,[u,f]=j.useState({portfolioName:e?.portfolioName||"",ownerId:e?.ownerId||"",investmentAccountId:e?.investmentAccountId||""}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(A,_){f(E=>({...E,[A]:_})),h(E=>({...E,[A]:void 0}))}function S(A){f(_=>({..._,ownerId:A,investmentAccountId:""})),h(_=>({..._,ownerId:void 0}))}const w=j.useMemo(()=>u.ownerId?s.filter(A=>A.memberId===u.ownerId&&(A.accountType==="Demat + Trading"||A.accountType==="Trading")).map(A=>({value:A.accountId,label:`${A.accountName} - ${A.platformBroker}`})):[],[s,u.ownerId]);function y(){const A={};return u.portfolioName.trim()||(A.portfolioName="Required"),u.ownerId||(A.ownerId="Required"),u.investmentAccountId||(A.investmentAccountId="Required"),h(A),Object.keys(A).length===0}async function C(){if(y()){x(!0);try{await t(u)}finally{x(!1)}}}const M=a.map(A=>({value:A.memberId,label:`${A.memberName} (${A.relationship})`}));return l.jsxs("div",{className:"space-y-4",children:[l.jsx(oe,{label:"Portfolio Name",required:!0,error:m.portfolioName,children:l.jsx(Ce,{value:u.portfolioName,onChange:A=>b("portfolioName",A),placeholder:"e.g., Long-Term Growth"})}),l.jsx(oe,{label:"Owner",required:!0,error:m.ownerId,children:l.jsx(Ye,{value:u.ownerId,onChange:S,options:M,placeholder:"Select family member..."})}),l.jsx(oe,{label:"Investment Account",required:!0,error:m.investmentAccountId,children:l.jsx(Ye,{value:u.investmentAccountId,onChange:A=>b("investmentAccountId",A),options:w,placeholder:u.ownerId?w.length?"Select demat account...":"No demat accounts for this member":"Select owner first..."})}),c&&r&&l.jsx(Yi,{onClick:r}),l.jsx(Zr,{onCancel:n,onSubmit:C,submitLabel:c?"Update":"Create Portfolio",loading:v})]})}function nle({portfolioId:e,onSave:t,onCancel:r}){const{stockPortfolios:n}=dt(),{selectedMember:a}=zr(),s=j.useMemo(()=>{const M=n.filter(A=>A.status==="Active");return a==="all"?M:M.filter(A=>A.ownerId===a)},[n,a]),[c,u]=j.useState({portfolioId:e||"",symbol:"",companyName:"",exchange:"NSE",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[f,m]=j.useState({}),[h,v]=j.useState(!1);function x(M,A){u(_=>({..._,[M]:A})),m(_=>({..._,[M]:void 0}))}const b=j.useMemo(()=>{const M=Number(c.quantity)||0,A=Number(c.pricePerShare)||0;return M*A},[c.quantity,c.pricePerShare]),S=j.useMemo(()=>b+(Number(c.brokerage)||0),[b,c.brokerage]);function w(){const M={};return c.portfolioId||(M.portfolioId="Required"),c.symbol.trim()||(M.symbol="Required"),c.companyName.trim()||(M.companyName="Required"),c.date||(M.date="Required"),(!c.quantity||Number(c.quantity)<=0)&&(M.quantity="Must be > 0"),(!c.pricePerShare||Number(c.pricePerShare)<=0)&&(M.pricePerShare="Must be > 0"),m(M),Object.keys(M).length===0}async function y(){if(w()){v(!0);try{await t(c)}finally{v(!1)}}}const C=s.map(M=>{const A=M.portfolioName?.replace(/^PFL-/,"")||M.portfolioName,_=M.ownerName?`${A} (${M.ownerName})`:A;return{value:M.portfolioId,label:_}});return l.jsxs("div",{className:"space-y-4",children:[l.jsx(oe,{label:"Portfolio",required:!0,error:f.portfolioId,children:l.jsx(Ye,{value:c.portfolioId,onChange:M=>x("portfolioId",M),options:C,placeholder:"Select portfolio..."})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Stock Symbol",required:!0,error:f.symbol,children:l.jsx(Ce,{value:c.symbol,onChange:M=>x("symbol",M.toUpperCase()),placeholder:"e.g., RELIANCE"})}),l.jsx(oe,{label:"Company Name",required:!0,error:f.companyName,children:l.jsx(Ce,{value:c.companyName,onChange:M=>x("companyName",M),placeholder:"e.g., Reliance Industries Ltd"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsx(oe,{label:"Purchase Date",required:!0,error:f.date,children:l.jsx(Va,{value:c.date,onChange:M=>x("date",M)})}),l.jsx(oe,{label:"Quantity (Shares)",required:!0,error:f.quantity,children:l.jsx(Ce,{type:"number",value:c.quantity,onChange:M=>x("quantity",M),placeholder:"e.g., 100"})}),l.jsx(oe,{label:"Price per Share ()",required:!0,error:f.pricePerShare,children:l.jsx(Ce,{type:"number",value:c.pricePerShare,onChange:M=>x("pricePerShare",M),placeholder:"e.g., 2500"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Brokerage ()",children:l.jsx(Ce,{type:"number",value:c.brokerage,onChange:M=>x("brokerage",M),placeholder:"0"})}),l.jsx("div",{className:"flex flex-col justify-end",children:l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:J(b)}),Number(c.brokerage)>0&&l.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:["Net: ",J(S)]})]})})]}),l.jsx(oe,{label:"Notes",children:l.jsx(Ce,{value:c.notes,onChange:M=>x("notes",M),placeholder:"Optional notes..."})}),l.jsx(Zr,{onCancel:r,onSubmit:y,submitLabel:"Buy Stock",loading:h})]})}function ale({portfolioId:e,onSave:t,onCancel:r}){const{stockPortfolios:n,stockHoldings:a}=dt(),{selectedMember:s}=zr(),c=j.useMemo(()=>{const L=n.filter(R=>R.status==="Active");return s==="all"?L:L.filter(R=>R.ownerId===s)},[n,s]),[u,f]=j.useState({portfolioId:e||"",symbol:"",companyName:"",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(L,R){f(F=>({...F,[L]:R})),h(F=>({...F,[L]:void 0}))}const S=j.useMemo(()=>u.portfolioId?a.filter(L=>L.portfolioId===u.portfolioId&&L.quantity>0):[],[a,u.portfolioId]),w=S.find(L=>L.symbol===u.symbol),y=w?.quantity||0,C=j.useMemo(()=>{const L=Number(u.quantity)||0,R=Number(u.pricePerShare)||0;return L*R},[u.quantity,u.pricePerShare]),M=j.useMemo(()=>C-(Number(u.brokerage)||0),[C,u.brokerage]);function A(L){const R=S.find(F=>F.symbol===L);f(F=>({...F,symbol:L,companyName:R?.companyName||""})),h(F=>({...F,symbol:void 0}))}function _(L){f(R=>({...R,portfolioId:L,symbol:"",companyName:"",quantity:""})),h(R=>({...R,portfolioId:void 0}))}function E(){const L={};return u.portfolioId||(L.portfolioId="Required"),u.symbol||(L.symbol="Required"),u.date||(L.date="Required"),(!u.quantity||Number(u.quantity)<=0)&&(L.quantity="Must be > 0"),Number(u.quantity)>y&&(L.quantity=`Max ${y} shares`),(!u.pricePerShare||Number(u.pricePerShare)<=0)&&(L.pricePerShare="Must be > 0"),h(L),Object.keys(L).length===0}async function T(){if(E()){x(!0);try{await t(u)}finally{x(!1)}}}const P=c.map(L=>{const R=L.portfolioName?.replace(/^PFL-/,"")||L.portfolioName,F=L.ownerName?`${R} (${L.ownerName})`:R;return{value:L.portfolioId,label:F}}),O=S.map(L=>({value:L.symbol,label:`${L.symbol}  ${L.quantity} shares`}));return l.jsxs("div",{className:"space-y-4",children:[l.jsx(oe,{label:"Portfolio",required:!0,error:m.portfolioId,children:l.jsx(Ye,{value:u.portfolioId,onChange:_,options:P,placeholder:"Select portfolio..."})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Stock to Sell",required:!0,error:m.symbol,children:l.jsx(Ye,{value:u.symbol,onChange:A,options:O,placeholder:u.portfolioId?S.length?"Select stock...":"No holdings in this portfolio":"Select portfolio first..."})}),w&&l.jsx("div",{className:"flex flex-col justify-end",children:l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:w.companyName}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",l.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:y})," shares @ ",J(w.avgBuyPrice)," avg"]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Sale Date",required:!0,error:m.date,children:l.jsx(Va,{value:u.date,onChange:L=>b("date",L)})}),l.jsx(oe,{label:"Quantity to Sell",required:!0,error:m.quantity,children:l.jsx(Ce,{type:"number",value:u.quantity,onChange:L=>b("quantity",L),placeholder:y?`Max: ${y}`:""})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Sale Price per Share ()",required:!0,error:m.pricePerShare,children:l.jsx(Ce,{type:"number",value:u.pricePerShare,onChange:L=>b("pricePerShare",L),placeholder:"e.g., 2750"})}),l.jsx(oe,{label:"Brokerage ()",children:l.jsx(Ce,{type:"number",value:u.brokerage,onChange:L=>b("brokerage",L),placeholder:"0"})})]}),C>0&&l.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Net Sale Amount"}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:J(M)})]}),w&&l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. P&L"}),(()=>{const L=Number(u.quantity)*w.avgBuyPrice,R=M-L,F=R>=0;return l.jsxs("p",{className:`text-sm font-bold tabular-nums ${F?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[F?"+":"",J(R)]})})()]})]})}),l.jsx(oe,{label:"Notes",children:l.jsx(Ce,{value:u.notes,onChange:L=>b("notes",L),placeholder:"Optional notes..."})}),l.jsx(Zr,{onCancel:r,onSubmit:T,submitLabel:"Sell Stock",loading:v})]})}function ile(){const{selectedMember:e}=zr(),{stockPortfolios:t,stockHoldings:r,stockTransactions:n,activeInvestmentAccounts:a,addStockPortfolio:s,updateStockPortfolio:c,deleteStockPortfolio:u,buyStock:f,sellStock:m}=dt(),{showToast:h,showBlockUI:v,hideBlockUI:x}=Qa(),b=Xa(),{mv:S}=Za(),[w,y]=j.useState(null),[C,M]=j.useState("all"),[A,_]=j.useState("holdings"),[E,T]=j.useState(!1),P=j.useMemo(()=>{if(!t)return[];const z=t.filter(ne=>ne.status!=="Inactive");return e==="all"?z:z.filter(ne=>ne.ownerId===e)},[t,e]),O=j.useMemo(()=>r?P.map(z=>{const ne=r.filter(Ae=>Ae.portfolioId===z.portfolioId),ge=(n||[]).filter(Ae=>Ae.portfolioId===z.portfolioId),$=ne.reduce((Ae,re)=>Ae+re.totalInvestment,0),ie=ne.reduce((Ae,re)=>Ae+re.currentValue,0),pe=ie-$,ue=ge.filter(Ae=>Ae.type==="SELL"&&Ae.realizedPL!=null).reduce((Ae,re)=>Ae+re.realizedPL,0),je=pe+ue,he=$>0?je/$*100:0,ve=a.find(Ae=>Ae.accountId===z.investmentAccountId);return{...z,holdings:ne,txns:ge,invested:$,current:ie,unrealizedPL:pe,realizedPL:ue,totalPL:je,totalPLPct:he,stockCount:ne.length,platform:ve?.platformBroker||z.investmentAccountName||"",clientId:ve?.accountClientId||""}}):[],[P,r,n,a]),L=j.useMemo(()=>{const z=C==="all"?O:O.filter(ve=>ve.portfolioId===C),ne=z.reduce((ve,Ae)=>ve+Ae.invested,0),ge=z.reduce((ve,Ae)=>ve+Ae.current,0),$=z.reduce((ve,Ae)=>ve+Ae.unrealizedPL,0),ie=z.reduce((ve,Ae)=>ve+Ae.realizedPL,0),pe=$+ie,ue=ne>0?pe/ne*100:0,je=ne>0?$/ne*100:0,he=z.reduce((ve,Ae)=>ve+Ae.stockCount,0);return{invested:ne,current:ge,unrealizedPL:$,unrealizedPLPct:je,realizedPL:ie,totalPL:pe,totalPLPct:ue,stocks:he}},[O,C]),R=j.useMemo(()=>r?C==="all"?r.filter(z=>P.some(ne=>ne.portfolioId===z.portfolioId)):r.filter(z=>z.portfolioId===C):[],[r,P,C]),F=j.useMemo(()=>n?(C==="all"?n.filter(ne=>P.some(ge=>ge.portfolioId===ne.portfolioId)):n.filter(ne=>ne.portfolioId===C)).sort((ne,ge)=>new Date(ge.date)-new Date(ne.date)):[],[n,P,C]);if(t===null||r===null)return l.jsx(Vi,{title:"Loading stocks",cards:5});const k=O.find(z=>z.portfolioId===C),X=C==="all"?`All Portfolios (${P.length})`:`${k?.portfolioName}  ${S(k?.ownerName,"name")}`;async function W(z){v("Saving...");try{w?.editPortfolio?await c(w.editPortfolio.portfolioId,z):await s(z),h(w?.editPortfolio?"Portfolio updated":"Portfolio created"),y(null)}catch(ne){h(ne.message||"Failed to save portfolio","error")}finally{x()}}async function Z(){if(w?.editPortfolio&&await b("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){v("Deactivating...");try{await u(w.editPortfolio.portfolioId),h("Portfolio deactivated"),M("all"),y(null)}catch(z){h(z.message||"Failed to deactivate portfolio","error")}finally{x()}}}async function B(z){v("Recording purchase...");try{await f(z),h("Stock purchase recorded"),y(null)}catch(ne){h(ne.message||"Failed to record purchase","error")}finally{x()}}async function G(z){v("Recording sale...");try{await m(z),h("Stock sale recorded"),y(null)}catch(ne){h(ne.message||"Failed to record sale","error")}finally{x()}}return l.jsxs("div",{className:"space-y-4",children:[P.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(Gu,{size:32,className:"text-[var(--text-dim)]"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No stock portfolios yet"}),l.jsx("button",{onClick:()=>y("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>T(!E),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[l.jsx(Gu,{size:14,className:"text-violet-400 shrink-0"}),l.jsx("span",{className:"truncate",children:X}),l.jsx(Ol,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${E?"rotate-180":""}`})]}),E&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>T(!1)}),l.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl min-w-[280px] py-1 overflow-hidden",children:[l.jsxs("button",{onClick:()=>{M("all"),T(!1),_("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${C==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",P.length,")"]}),l.jsx("div",{className:"border-t border-[var(--border-light)]"}),O.map(z=>{const ne=z.totalPL>=0;return l.jsx("button",{onClick:()=>{M(z.portfolioId),T(!1),_("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${C===z.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:`text-sm ${C===z.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:z.portfolioName}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[S(z.ownerName,"name"),"  ",z.platform]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:J(z.current)}),l.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ne?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ne?"+":"",z.totalPLPct.toFixed(1),"%"]})]})]})},z.portfolioId)})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[k&&l.jsxs("button",{onClick:()=>y({editPortfolio:k}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(ya,{size:12})," Edit"]}),l.jsxs("button",{onClick:()=>y("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Yr,{size:14})," New Portfolio"]})]})]}),k&&l.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Platform:"})," ",k.platform]}),l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",S(k.clientId,"clientId")]}),l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Stocks:"})," ",k.stockCount]})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[l.jsx(qu,{label:"Invested",value:J(L.invested)}),l.jsx(qu,{label:"Current Value",value:J(L.current),bold:!0}),l.jsx(qu,{label:"Unrealized P&L",value:`${L.unrealizedPL>=0?"+":""}${J(L.unrealizedPL)}`,sub:`${L.unrealizedPLPct>=0?"+":""}${L.unrealizedPLPct.toFixed(1)}%`,positive:L.unrealizedPL>=0}),l.jsx(qu,{label:"Realized P&L",value:`${L.realizedPL>=0?"+":""}${J(L.realizedPL)}`,positive:L.realizedPL>=0}),l.jsx(qu,{label:"Total P&L",value:`${L.totalPL>=0?"+":""}${J(L.totalPL)}`,sub:`${L.totalPLPct>=0?"+":""}${L.totalPLPct.toFixed(1)}%`,positive:L.totalPL>=0,bold:!0})]}),l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[l.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[l.jsxs("button",{onClick:()=>_("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${A==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[l.jsx(VO,{size:12})," Holdings (",R.length,")"]}),l.jsxs("button",{onClick:()=>_("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${A==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[l.jsx(Wu,{size:12})," Transactions (",F.length,")"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>C!=="all"&&y({buy:C}),disabled:C==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${C==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:C==="all"?"Select a portfolio first":"",children:[l.jsx(Tl,{size:14})," Buy"]}),l.jsxs("button",{onClick:()=>C!=="all"&&R.length>0&&y({sell:C}),disabled:C==="all"||R.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${C==="all"||R.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:C==="all"?"Select a portfolio first":"",children:[l.jsx(xp,{size:14})," Sell"]})]})]}),A==="holdings"&&l.jsx(l.Fragment,{children:R.length>0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Avg Price"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Price"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Value"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Returns"})]})}),l.jsxs("tbody",{children:[R.map(z=>{const ne=z.unrealizedPL>=0,ge=C==="all"?O.find($=>$.portfolioId===z.portfolioId):null;return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsxs("td",{className:"py-2.5 px-4",children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:z.companyName}),l.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[z.symbol,ge&&l.jsxs("span",{className:"ml-1.5 text-[var(--text-dim)] font-sans",children:[" ",ge.portfolioName]})]})]}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:z.quantity}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:J(z.avgBuyPrice)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:J(z.currentPrice)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:J(z.totalInvestment)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:J(z.currentValue)}),l.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${ne?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ne?"+":"",J(z.unrealizedPL)]}),l.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${ne?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ne?"+":"",z.unrealizedPLPct.toFixed(1),"%"]})]},z.holdingId)}),l.jsxs("tr",{className:"bg-[var(--bg-inset)] border-t-2 border-[var(--border-light)]",children:[l.jsxs("td",{className:"py-2.5 px-4 text-xs font-semibold text-[var(--text-muted)]",children:["Total (",R.length," stocks)"]}),l.jsx("td",{colSpan:3,className:"py-2.5 px-3"}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:J(L.invested)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:J(L.current)}),l.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${L.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L.unrealizedPL>=0?"+":"",J(L.unrealizedPL)]}),l.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${L.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L.unrealizedPLPct>=0?"+":"",L.unrealizedPLPct.toFixed(1),"%"]})]})]})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:R.map(z=>{const ne=z.unrealizedPL>=0,ge=C==="all"?O.find($=>$.portfolioId===z.portfolioId):null;return l.jsxs("div",{className:"px-4 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:z.companyName}),l.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[z.symbol,ge&&l.jsxs("span",{className:"ml-1 font-sans",children:[" ",ge.portfolioName]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:`text-xs font-bold tabular-nums ${ne?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ne?"+":"",z.unrealizedPLPct.toFixed(1),"%"]}),l.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ne?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ne?"+":"",J(z.unrealizedPL)]})]})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs gap-2",children:[l.jsxs("div",{className:"text-[var(--text-dim)] min-w-0 truncate",children:[l.jsxs("span",{children:[z.quantity," shares"]}),l.jsx("span",{className:"mx-1",children:""}),l.jsxs("span",{children:["Avg ",J(z.avgBuyPrice)]}),l.jsx("span",{className:"mx-1",children:""}),l.jsxs("span",{children:["CMP ",J(z.currentPrice)]})]}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums shrink-0",children:J(z.currentValue)})]})]},z.holdingId)})})]}):l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[l.jsx(Gu,{size:28,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",k?" in this portfolio":""]}),l.jsx("button",{onClick:()=>y({buy:C!=="all"?C:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Buy your first stock"})]})}),A==="transactions"&&l.jsx(l.Fragment,{children:F.length>0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Price"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Brokerage"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Net"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Realized P&L"})]})}),l.jsx("tbody",{children:F.map(z=>{const ne=z.type==="BUY",ge=!ne&&z.realizedPL!=null,$=ge&&z.realizedPL>=0,ie=C==="all"?O.find(pe=>pe.portfolioId===z.portfolioId):null;return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)]",children:z.date}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${ne?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:z.type})}),l.jsxs("td",{className:"py-2.5 px-3",children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:z.symbol}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[140px]",children:[z.companyName,ie&&l.jsxs("span",{children:["  ",ie.portfolioName]})]})]}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:z.quantity}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:J(z.pricePerShare)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:J(z.totalAmount)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-dim)] tabular-nums",children:z.brokerage>0?J(z.brokerage):""}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:J(z.netAmount)}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:ge?l.jsxs("span",{className:`text-xs font-semibold tabular-nums ${$?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[$?"+":"",J(z.realizedPL)]}):l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},z.transactionId)})})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:F.map(z=>{const ne=z.type==="BUY",ge=!ne&&z.realizedPL!=null,$=ge&&z.realizedPL>=0;return l.jsxs("div",{className:"px-4 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${ne?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:z.type}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:z.symbol})]}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:z.date})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[z.quantity," shares @ ",J(z.pricePerShare)]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:J(z.netAmount)}),ge&&l.jsxs("p",{className:`text-xs font-semibold tabular-nums ${$?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["P&L: ",$?"+":"",J(z.realizedPL)]})]})]}),z.notes&&l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:z.notes})]},z.transactionId)})})]}):l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[l.jsx(Wu,{size:28,className:"text-[var(--text-dim)]"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions yet"}),l.jsx("button",{onClick:()=>y({buy:C!=="all"?C:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first purchase"})]})})]}),l.jsx(fr,{open:w==="addPortfolio"||!!w?.editPortfolio,onClose:()=>y(null),title:w?.editPortfolio?"Edit Portfolio":"New Stock Portfolio",children:l.jsx(rle,{initial:w?.editPortfolio||void 0,onSave:W,onDelete:w?.editPortfolio?Z:void 0,onCancel:()=>y(null)})}),l.jsx(fr,{open:!!w?.buy,onClose:()=>y(null),title:"Buy Stock",wide:!0,children:l.jsx(nle,{portfolioId:typeof w?.buy=="string"?w.buy:void 0,onSave:B,onCancel:()=>y(null)})}),l.jsx(fr,{open:!!w?.sell,onClose:()=>y(null),title:"Sell Stock",wide:!0,children:l.jsx(ale,{portfolioId:typeof w?.sell=="string"?w.sell:void 0,onSave:G,onCancel:()=>y(null)})})]})}function qu({label:e,value:t,sub:r,positive:n,bold:a}){return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t}),r&&l.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}const sle=["Self","Spouse","Father","Mother","Son","Daughter","Brother","Sister","Other"].map(e=>({value:e,label:e})),$m={pan:/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,aadhar:/^\d{12}$/,email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,mobile:/^\d{10}$/};function lle({initial:e,onSave:t,onDelete:r,onCancel:n}){const a=!!e,[s,c]=j.useState({memberName:e?.memberName||"",relationship:e?.relationship||"",pan:e?.pan||"",aadhar:e?.aadhar||"",email:e?.email||"",mobile:e?.mobile||"",includeInEmailReports:e?.includeInEmailReports??!0,status:e?.status||"Active"}),[u,f]=j.useState({}),[m,h]=j.useState(!1),[v,x]=j.useState(()=>{const A=e?.dynamicFields||{};return Object.entries(A).map(([_,E])=>({key:_,value:E}))});function b(A,_){c(E=>({...E,[A]:_})),f(E=>({...E,[A]:void 0}))}function S(){const A={};return s.memberName.trim()||(A.memberName="Required"),s.relationship||(A.relationship="Required"),$m.pan.test(s.pan.toUpperCase())||(A.pan="Format: ABCDE1234F"),$m.aadhar.test(s.aadhar)||(A.aadhar="12 digits required"),$m.email.test(s.email)||(A.email="Invalid email"),$m.mobile.test(s.mobile)||(A.mobile="10 digits required"),f(A),Object.keys(A).length===0}function w(){x(A=>[...A,{key:"",value:""}])}function y(A,_,E){x(T=>T.map((P,O)=>O===A?{...P,[_]:E}:P))}function C(A){x(_=>_.filter((E,T)=>T!==A))}async function M(){if(!S())return;const A={};v.forEach(({key:_,value:E})=>{const T=_.trim();T&&(A[T]=E)}),h(!0);try{await t({...s,pan:s.pan.toUpperCase(),dynamicFields:A})}finally{h(!1)}}return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Member Name",required:!0,error:u.memberName,children:l.jsx(Ce,{value:s.memberName,onChange:A=>b("memberName",A),placeholder:"e.g., Jagadeesh"})}),l.jsx(oe,{label:"Relationship",required:!0,error:u.relationship,children:l.jsx(Ye,{value:s.relationship,onChange:A=>b("relationship",A),options:sle,placeholder:"Select..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"PAN",required:!0,error:u.pan,children:l.jsx(Ce,{sensitive:!0,value:s.pan,onChange:A=>b("pan",A.toUpperCase()),placeholder:"ABCDE1234F",maxLength:10})}),l.jsx(oe,{label:"Aadhar",required:!0,error:u.aadhar,children:l.jsx(Ce,{sensitive:!0,value:s.aadhar,onChange:A=>b("aadhar",A.replace(/\D/g,"")),placeholder:"123456789012",maxLength:12})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Email",required:!0,error:u.email,children:l.jsx(Ce,{sensitive:!0,type:"email",value:s.email,onChange:A=>b("email",A),placeholder:"email@example.com"})}),l.jsx(oe,{label:"Mobile",required:!0,error:u.mobile,children:l.jsx(Ce,{sensitive:!0,value:s.mobile,onChange:A=>b("mobile",A.replace(/\D/g,"")),placeholder:"9876543210",maxLength:10})})]}),l.jsx(uie,{checked:s.includeInEmailReports,onChange:A=>b("includeInEmailReports",A),label:"Include in email reports"}),a&&l.jsx(oe,{label:"Status",children:l.jsx(Ye,{value:s.status,onChange:A=>b("status",A),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)]",children:"Custom Fields"}),l.jsxs("button",{onClick:w,type:"button",className:"flex items-center gap-1 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[l.jsx(Yr,{size:12})," Add Field"]})]}),v.length===0&&l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"No custom fields. Add DOB, occupation, blood group, etc."}),l.jsx("div",{className:"space-y-2",children:v.map((A,_)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{value:A.key,onChange:E=>y(_,"key",E.target.value),placeholder:"Field name",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),l.jsx("input",{value:A.value,onChange:E=>y(_,"value",E.target.value),placeholder:"Value",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),l.jsx("button",{onClick:()=>C(_),type:"button",className:"p-1 text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:l.jsx(Dh,{size:13})})]},_))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[a&&r?l.jsx(Yi,{onClick:r}):l.jsx("div",{}),l.jsx(Zr,{onCancel:n,onSubmit:M,submitLabel:a?"Update":"Add Member",loading:m})]})]})}const qm=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],D_={Self:"bg-violet-500/15 text-[var(--accent-violet)]",Spouse:"bg-rose-500/15 text-[var(--accent-rose)]",Father:"bg-blue-500/15 text-[var(--accent-blue)]",Mother:"bg-amber-500/15 text-[var(--accent-amber)]",Son:"bg-emerald-500/15 text-emerald-400",Daughter:"bg-emerald-500/15 text-emerald-400"};function ole(){const{members:e,addMember:t,updateMember:r,deleteMember:n}=dt(),{showToast:a,showBlockUI:s,hideBlockUI:c}=Qa(),u=Xa(),{mv:f}=Za(),[m,h]=j.useState(null);if(e===null)return l.jsx(Vi,{title:"Loading family",cards:3});const v=e.filter(S=>S.status!=="Inactive");async function x(S){s("Saving member...");try{m?.edit?await r(m.edit.memberId,S):await t(S),a(m?.edit?"Member updated":"Member added"),h(null)}catch(w){a(w.message||"Failed to save member","error")}finally{c()}}async function b(){if(m?.edit&&await u("Deactivate this family member?",{title:"Deactivate Member",confirmLabel:"Deactivate"})){s("Deactivating...");try{await n(m.edit.memberId),a("Member deactivated"),h(null)}catch(S){a(S.message||"Failed to deactivate member","error")}finally{c()}}}return[...new Set(v.flatMap(S=>Object.keys(S.dynamicFields||{})))],l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>h("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Yr,{size:14})," Add Member"]})}),v.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(Wo,{size:32,className:"text-[var(--text-dim)]"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No family members yet"}),l.jsx("button",{onClick:()=>h("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first member"})]}):l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Relationship"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"PAN"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Aadhaar"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Email"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Mobile"}),l.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),l.jsx("tbody",{children:v.map((S,w)=>{const y=S.dynamicFields||{},C=Object.entries(y);return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsx("td",{className:"py-2.5 px-4",children:l.jsxs("div",{className:"flex items-center gap-2.5",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${qm[w%qm.length]}`,children:S.memberName.charAt(0)}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:f(S.memberName,"name")}),C.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-1 mt-0.5",children:[C.slice(0,3).map(([M,A])=>l.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[M,": ",A]},M)),C.length>3&&l.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",C.length-3," more"]})]})]})]})}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${D_[S.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:S.relationship})}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:f(S.pan,"pan")||""}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:f(S.aadhar,"aadhaar")||""}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] truncate max-w-[180px]",children:f(S.email,"email")}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:f(S.mobile,"mobile")}),l.jsx("td",{className:"py-2.5 px-2",children:l.jsx("button",{onClick:()=>h({edit:S}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:l.jsx(ya,{size:12})})})]},S.memberId)})})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:v.map((S,w)=>{const y=S.dynamicFields||{},C=Object.entries(y);return l.jsxs("div",{onClick:()=>h({edit:S}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${qm[w%qm.length]}`,children:S.memberName.charAt(0)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:f(S.memberName,"name")}),l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${D_[S.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:S.relationship})]}),l.jsx("p",{className:"text-xs text-[var(--text-muted)] truncate",children:f(S.email,"email")})]})]}),l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-1",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:f(S.mobile,"mobile")}),l.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[l.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["PAN: ",f(S.pan,"pan")||""]}),S.aadhar&&l.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["Aadhaar: ",f(S.aadhar,"aadhaar")]})]})]}),C.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[C.slice(0,3).map(([M,A])=>l.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[M,": ",A]},M)),C.length>3&&l.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",C.length-3," more"]})]})]},S.memberId)})})]}),l.jsx(fr,{open:!!m,onClose:()=>h(null),title:m?.edit?"Edit Member":"Add Family Member",wide:!0,children:l.jsx(lle,{initial:m?.edit||void 0,onSave:x,onDelete:m?.edit?b:void 0,onCancel:()=>h(null)})})]})}const k_=["Retirement","Emergency Fund","Child Education","Home Purchase","Car","Travel","Wedding","Custom"].map(e=>({value:e,label:e})),E_=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],Hm={Retirement:{inflation:6,cagr:12},"Emergency Fund":{inflation:0,cagr:7},"Child Education":{inflation:10,cagr:12},"Home Purchase":{inflation:8,cagr:12},Wedding:{inflation:6,cagr:12},Car:{inflation:5,cagr:10},Travel:{inflation:6,cagr:10},Custom:{inflation:6,cagr:12}},__=[{label:"Basics",icon:Mh},{label:"Financials",icon:e8},{label:"Review",icon:vc}];function cle({initial:e,onSave:t,onDelete:r,onCancel:n}){const a=!!e,{activeMembers:s}=dt(),c=(s||[]).map(O=>({value:O.memberId,label:O.relationship?`${O.memberName} (${O.relationship})`:O.memberName})),[u,f]=j.useState(0),[m,h]=j.useState(()=>{if(a){const O=(e.expectedInflation||.06)*100,L=(e.expectedCAGR||.12)*100,R=e.targetDate?Math.max(0,(new Date(e.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,F=O/100;let k=e.targetAmount||0;F>0&&R>0&&e.goalType!=="Emergency Fund"&&(k=e.targetAmount/Math.pow(1+F,R));const X=s.find(W=>W.memberName===e.familyMemberName);return{goalType:e.goalType||"",goalName:e.goalName||"",familyMemberId:X?.memberId||"",todaysCost:Math.round(k).toString(),targetDate:e.targetDate||"",lumpsum:(e.lumpsumInvested||0).toString(),monthlySIP:(e.monthlyInvestment||0).toString(),inflation:O.toString(),cagr:L.toString(),priority:e.priority||"Medium",notes:e.notes||"",monthlyExpenses:(e.monthlyExpenses||"").toString(),emergencyMonths:(e.emergencyMonths||6).toString()}}return{goalType:"",goalName:"",familyMemberId:"",todaysCost:"",targetDate:"",lumpsum:"",monthlySIP:"",inflation:"6",cagr:"12",priority:"Medium",notes:"",monthlyExpenses:"",emergencyMonths:"6"}}),[v,x]=j.useState({}),[b,S]=j.useState(!1);function w(O,L){h(R=>({...R,[O]:L})),x(R=>({...R,[O]:void 0}))}j.useEffect(()=>{if(a||!m.goalType)return;const O=Hm[m.goalType]||Hm.Custom;h(L=>({...L,inflation:O.inflation.toString(),cagr:O.cagr.toString()}))},[m.goalType,a]);const y=m.goalType==="Retirement",C=m.goalType==="Emergency Fund",M=j.useMemo(()=>{const O=(Number(m.inflation)||0)/100,R=(Number(m.cagr)||0)/100/12,F=Number(m.lumpsum)||0,k=Number(m.monthlyExpenses)||0,X=Number(m.emergencyMonths)||6,W=m.targetDate?Math.max(0,(new Date(m.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,Z=Math.round(W*12);let B=0,G=0;y?(B=k*12*25,G=B*Math.pow(1+O,W)):C?(B=k*X,G=B):(B=Number(m.todaysCost)||0,G=O>0&&W>0?B*Math.pow(1+O,W):B),G=Math.round(G);const z=F>0&&Z>0?F*Math.pow(1+R,Z):F;let ne=0;if(G>0&&Z>0){const ue=G-z;ue>0&&R>0?ne=ue/((Math.pow(1+R,Z)-1)/R):ue>0&&(ne=ue/Z),ne=Math.max(0,Math.ceil(ne))}const ge=ne>0&&R>0&&Z>0?ne*((Math.pow(1+R,Z)-1)/R):ne*Z,$=Math.round(F+ne*Z),ie=Math.round(G-$),pe=F>0&&z>=G;return{todaysCost:B,inflatedTarget:G,yearsToGo:W,months:Z,fvLumpsum:Math.round(z),requiredSIP:ne,fvRequiredSIP:Math.round(ge),planTotalInvested:$,planReturns:ie,lumpsumCoversGoal:pe,hasTarget:G>0}},[m.todaysCost,m.targetDate,m.lumpsum,m.inflation,m.cagr,m.monthlyExpenses,m.emergencyMonths,y,C]);function A(O){const L={};return O===0&&(m.goalType||(L.goalType="Required"),m.goalName.trim()||(L.goalName="Required")),O===1&&(m.targetDate||(L.targetDate="Required"),y||C?(!m.monthlyExpenses||Number(m.monthlyExpenses)<=0)&&(L.monthlyExpenses="Required"):(!m.todaysCost||Number(m.todaysCost)<=0)&&(L.todaysCost="Must be > 0")),x(L),Object.keys(L).length===0}function _(){const O={};return m.goalType||(O.goalType="Required"),m.goalName.trim()||(O.goalName="Required"),m.targetDate||(O.targetDate="Required"),y||C?(!m.monthlyExpenses||Number(m.monthlyExpenses)<=0)&&(O.monthlyExpenses="Required"):(!m.todaysCost||Number(m.todaysCost)<=0)&&(O.todaysCost="Must be > 0"),x(O),Object.keys(O).length===0}function E(){A(u)&&f(O=>Math.min(O+1,2))}async function T(){if(!_())return;const O=m.familyMemberId&&s.find(L=>L.memberId===m.familyMemberId)?.memberName||"Family";S(!0);try{await t({goalType:m.goalType,goalName:m.goalName,familyMemberId:m.familyMemberId||"",familyMember:O,targetAmount:M.inflatedTarget,targetDate:m.targetDate,priority:m.priority,notes:m.notes,expectedInflation:(Number(m.inflation)||0)/100,expectedCAGR:(Number(m.cagr)||0)/100,monthlyInvestment:M.requiredSIP||0,lumpsumInvested:Number(m.lumpsum)||0,monthlyExpenses:y||C?Number(m.monthlyExpenses)||0:void 0,emergencyMonths:C?Number(m.emergencyMonths)||6:void 0,isRetirement:y,currentCost:M.todaysCost})}finally{S(!1)}}const P=m.familyMemberId&&s.find(O=>O.memberId===m.familyMemberId)?.memberName||"Family";return a?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Goal Type",required:!0,error:v.goalType,children:l.jsx(Ye,{value:m.goalType,onChange:O=>w("goalType",O),options:k_,placeholder:"Select type..."})}),l.jsx(oe,{label:"Goal Name",required:!0,error:v.goalName,children:l.jsx(Ce,{value:m.goalName,onChange:O=>w("goalName",O),placeholder:"e.g., Retirement Fund (2045)"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"For",error:v.familyMemberId,children:l.jsx(Ye,{value:m.familyMemberId,onChange:O=>w("familyMemberId",O),options:c,placeholder:"Family (Default)"})}),l.jsx(oe,{label:"Target Date",required:!0,error:v.targetDate,children:l.jsx(Va,{value:m.targetDate,onChange:O=>w("targetDate",O),maxDate:null})})]}),y||C?l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Monthly Expenses",required:!0,error:v.monthlyExpenses,children:l.jsx(Ce,{type:"number",value:m.monthlyExpenses,onChange:O=>w("monthlyExpenses",O),placeholder:"e.g., 50000"})}),C&&l.jsx(oe,{label:"Emergency Months",children:l.jsx(Ce,{type:"number",value:m.emergencyMonths,onChange:O=>w("emergencyMonths",O),placeholder:"6"})})]}):l.jsx(oe,{label:"Today's Cost",required:!0,error:v.todaysCost,children:l.jsx(Ce,{type:"number",value:m.todaysCost,onChange:O=>w("todaysCost",O),placeholder:"e.g., 1000000"})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[l.jsx(oe,{label:"Inflation %",children:l.jsx(Ce,{type:"number",value:m.inflation,onChange:O=>w("inflation",O),placeholder:"6"})}),l.jsx(oe,{label:"Expected CAGR %",children:l.jsx(Ce,{type:"number",value:m.cagr,onChange:O=>w("cagr",O),placeholder:"12"})}),l.jsx(oe,{label:"Lumpsum Invested",children:l.jsx(Ce,{type:"number",value:m.lumpsum,onChange:O=>w("lumpsum",O),placeholder:"0"})})]}),M.hasTarget&&l.jsx(O_,{calc:M,inflation:m.inflation,isRetirement:y,isEmergency:C}),l.jsx(oe,{label:"Priority",children:l.jsx(Ye,{value:m.priority,onChange:O=>w("priority",O),options:E_})}),l.jsx(oe,{label:"Notes",children:l.jsx(cc,{value:m.notes,onChange:O=>w("notes",O),placeholder:"Optional notes...",rows:2})}),l.jsxs("div",{className:"flex items-center justify-between",children:[r?l.jsx(Yi,{onClick:r}):l.jsx("div",{}),l.jsx(Zr,{onCancel:n,onSubmit:T,submitLabel:"Update Goal",loading:b})]})]}):l.jsxs("div",{className:"space-y-5",children:[l.jsx("div",{className:"flex items-center gap-1 mb-2",children:__.map((O,L)=>{const R=O.icon,F=L===u,k=L<u;return l.jsxs("div",{className:"flex items-center flex-1",children:[l.jsxs("button",{onClick:()=>{L<u&&f(L)},className:`flex items-center gap-1.5 text-xs font-semibold transition-colors ${F?"text-violet-400":k?"text-emerald-400 cursor-pointer":"text-[var(--text-dim)]"}`,children:[l.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold border ${F?"border-violet-400 bg-violet-500/15":k?"border-emerald-400 bg-emerald-500/15":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:k?l.jsx(vc,{size:12}):l.jsx(R,{size:12})}),l.jsx("span",{className:"hidden sm:inline",children:O.label})]}),L<__.length-1&&l.jsx("div",{className:`flex-1 h-px mx-2 ${k?"bg-emerald-400/40":"bg-[var(--border)]"}`})]},O.label)})}),u===0&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Tell us about your financial goal"}),l.jsx(oe,{label:"Goal Type",required:!0,error:v.goalType,children:l.jsx(Ye,{value:m.goalType,onChange:O=>w("goalType",O),options:k_,placeholder:"Select type..."})}),m.goalType&&l.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)]",children:[l.jsx(Tl,{size:12,className:"text-[var(--text-dim)] shrink-0"}),l.jsxs("p",{className:"text-[11px] text-[var(--text-muted)]",children:["Default: ",Hm[m.goalType]?.inflation||6,"% inflation, ",Hm[m.goalType]?.cagr||12,"% CAGR",y&&"  Uses 25x annual expenses rule",C&&"  No inflation applied"]})]}),l.jsx(oe,{label:"Goal Name",required:!0,error:v.goalName,children:l.jsx(Ce,{value:m.goalName,onChange:O=>w("goalName",O),placeholder:"e.g., Retirement Fund (2045)"})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"For",error:v.familyMemberId,children:l.jsx(Ye,{value:m.familyMemberId,onChange:O=>w("familyMemberId",O),options:c,placeholder:"Family (Default)"})}),l.jsx(oe,{label:"Priority",children:l.jsx(Ye,{value:m.priority,onChange:O=>w("priority",O),options:E_})})]})]}),u===1&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:y?"Set your retirement timeline and monthly expenses":C?"Set your emergency fund requirements":"Set your target and investment plan"}),y||C?l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Target Date",required:!0,error:v.targetDate,children:l.jsx(Va,{value:m.targetDate,onChange:O=>w("targetDate",O),maxDate:null})}),l.jsx(oe,{label:"Monthly Expenses (Today)",required:!0,error:v.monthlyExpenses,children:l.jsx(Ce,{type:"number",value:m.monthlyExpenses,onChange:O=>w("monthlyExpenses",O),placeholder:"e.g., 50000"})}),C&&l.jsx(oe,{label:"Emergency Fund (Months)",children:l.jsx(Ce,{type:"number",value:m.emergencyMonths,onChange:O=>w("emergencyMonths",O),placeholder:"6"})}),y&&l.jsx("div",{className:"sm:col-span-2",children:l.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Corpus = Monthly Expenses x 12 x 25 = ",J(M.todaysCost)," (today)"]})})]}):l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Target Date",required:!0,error:v.targetDate,children:l.jsx(Va,{value:m.targetDate,onChange:O=>w("targetDate",O),maxDate:null})}),l.jsx(oe,{label:"Today's Cost",required:!0,error:v.todaysCost,children:l.jsx(Ce,{type:"number",value:m.todaysCost,onChange:O=>w("todaysCost",O),placeholder:"e.g., 1000000"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(oe,{label:`Inflation Rate (%)${C?"  N/A":""}`,children:l.jsx(Ce,{type:"number",value:m.inflation,onChange:O=>w("inflation",O),placeholder:"6"})}),l.jsx(oe,{label:"Expected Returns (CAGR %)",children:l.jsx(Ce,{type:"number",value:m.cagr,onChange:O=>w("cagr",O),placeholder:"12"})})]}),M.hasTarget&&l.jsx(O_,{calc:M,inflation:m.inflation,isRetirement:y,isEmergency:C}),l.jsx(oe,{label:"Lumpsum You Plan to Invest (Optional)",children:l.jsx(Ce,{type:"number",value:m.lumpsum,onChange:O=>w("lumpsum",O),placeholder:"e.g., 500000"})}),M.hasTarget&&M.months>0&&l.jsx(T_,{calc:M,lumpsum:m.lumpsum}),l.jsx(oe,{label:"Notes",children:l.jsx(cc,{value:m.notes,onChange:O=>w("notes",O),placeholder:"Optional notes...",rows:2})})]}),u===2&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Review your goal before saving"}),l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-3",children:[l.jsx(on,{label:"Goal",value:m.goalName,bold:!0}),l.jsx(on,{label:"Type",value:m.goalType,color:"violet"}),l.jsx(on,{label:"Member",value:P}),l.jsx(on,{label:"Priority",value:m.priority,badge:m.priority==="High"?"rose":m.priority==="Low"?"blue":"amber"}),l.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[(y||C)&&l.jsx(on,{label:"Monthly Expenses",value:J(Number(m.monthlyExpenses)||0)}),C&&l.jsx(on,{label:"Emergency Months",value:m.emergencyMonths}),!y&&!C&&l.jsx(on,{label:"Today's Cost",value:J(M.todaysCost)}),l.jsx(on,{label:"Inflation",value:`${m.inflation}% p.a.`}),l.jsx(on,{label:"Expected CAGR",value:`${m.cagr}% p.a.`}),l.jsx(on,{label:"Future Value (Inflated)",value:J(M.inflatedTarget),bold:!0,color:"violet"})]}),l.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[l.jsx(on,{label:"Lumpsum",value:J(Number(m.lumpsum)||0)}),l.jsx(on,{label:"Required SIP",value:`${J(M.requiredSIP)}/mo`,color:"emerald"}),l.jsx(on,{label:"Target Date",value:m.targetDate}),l.jsx(on,{label:"Time Remaining",value:M.yearsToGo>0?`${M.yearsToGo.toFixed(1)} years`:""})]})]}),M.hasTarget&&M.months>0&&l.jsx(T_,{calc:M,lumpsum:m.lumpsum,compact:!0})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-light)]",children:[l.jsx("div",{children:u>0&&l.jsxs("button",{onClick:()=>f(O=>O-1),className:"flex items-center gap-1 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx(RF,{size:14})," Back"]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:n,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),u<2?l.jsxs("button",{onClick:E,className:"flex items-center gap-1 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors",children:["Next ",l.jsx(Zu,{size:14})]}):l.jsx("button",{onClick:T,disabled:b,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Saving...":"Create Goal"})]})]})]})}function O_({calc:e,inflation:t,isRetirement:r,isEmergency:n}){return n?l.jsx("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-500/5 border border-blue-500/15",children:l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Emergency Fund: ",l.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:J(e.inflatedTarget)}),l.jsx("span",{className:"text-[var(--text-dim)]",children:" (no inflation applied)"})]})}):l.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 rounded-lg bg-violet-500/5 border border-violet-500/15",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase tracking-wider",children:r?"Corpus Today":"Today's Cost"}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:J(e.todaysCost)})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[t,"% x ",e.yearsToGo.toFixed(1),"yrs"]}),l.jsx(Zu,{size:12,className:"text-violet-400 mx-auto"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-[10px] font-semibold text-violet-400 uppercase tracking-wider",children:"Future Value"}),l.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:J(e.inflatedTarget)})]})]})}function T_({calc:e,lumpsum:t,compact:r}){const n=Number(t)||0;return r?l.jsxs("div",{className:"rounded-lg border p-3 bg-violet-500/5 border-violet-500/15",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Required Monthly SIP"}),l.jsxs("span",{className:"text-sm font-bold text-violet-400 tabular-nums",children:[e.lumpsumCoversGoal?"0":J(e.requiredSIP),"/mo"]})]}),e.lumpsumCoversGoal&&l.jsx("p",{className:"text-[10px] text-emerald-400 mt-1",children:"Lumpsum alone covers this goal!"})]}):l.jsxs("div",{className:"rounded-lg border p-3 space-y-2 bg-violet-500/5 border-violet-500/15",children:[e.lumpsumCoversGoal?l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(vc,{size:12,className:"text-emerald-400"}),l.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400",children:"Lumpsum Covers Goal"})]}):l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-violet-400",children:"Required Monthly SIP"}),l.jsxs("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:[J(e.requiredSIP),"/mo"]})]}),e.planTotalInvested>0&&l.jsxs("div",{className:"border-t border-[var(--border-light)] pt-2 space-y-1",children:[n>0&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["Lumpsum ",J(n)," grows to"]}),l.jsx("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:J(e.fvLumpsum)})]}),e.requiredSIP>0&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["SIP ",J(e.requiredSIP),"/mo x ",e.months," months"]}),l.jsx("span",{className:"text-[11px] font-semibold text-blue-400 tabular-nums",children:J(e.fvRequiredSIP)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Total You Invest"}),l.jsx("span",{className:"text-[11px] font-semibold text-[var(--text-primary)] tabular-nums",children:J(e.planTotalInvested)})]}),e.planReturns>0&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Wealth Created"}),l.jsxs("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:["+",J(e.planReturns)]})]})]})]})}function on({label:e,value:t,bold:r,color:n,badge:a}){const s=n==="violet"?"text-violet-400":n==="emerald"?"text-emerald-400":"text-[var(--text-primary)]";if(a){const c=a==="rose"?"bg-rose-500/15 text-rose-400":a==="blue"?"bg-blue-500/15 text-blue-400":"bg-amber-500/15 text-amber-400";return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e}),l.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${c}`,children:t})]})}return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e}),l.jsx("span",{className:`text-xs ${r?"font-bold text-sm":"font-semibold"} ${s}`,children:t})]})}function ule({goal:e,onClose:t}){const{goalPortfolioMappings:r,mfPortfolios:n,mfHoldings:a}=dt(),s=j.useMemo(()=>{const u=r.filter(v=>v.goalId===e.goalId);if(u.length===0)return null;const f=u.map(v=>{const x=n.find(C=>C.portfolioId===v.portfolioId);if(!x)return null;const b=a.filter(C=>C.portfolioId===v.portfolioId&&C.units>0),S=b.reduce((C,M)=>C+M.currentValue,0),w=S*v.allocationPct/100,y=b.map(C=>{const M=S>0?C.currentValue/S:0,A=w*M,_=C.currentNav>0?A/C.currentNav:0,E=A-_*C.avgNav;return{fundName:C.fundName,currentValue:C.currentValue,withdrawValue:A,withdrawUnits:Math.min(_,C.units),currentNav:C.currentNav,taxableGain:E,availableUnits:C.units}}).filter(C=>C.withdrawValue>0);return{portfolioName:x.portfolioName,ownerName:x.ownerName,allocationPct:v.allocationPct,portfolioValue:S,linkedValue:w,fundWithdrawals:y}}).filter(Boolean),m=f.reduce((v,x)=>v+x.linkedValue,0),h=f.reduce((v,x)=>v+x.fundWithdrawals.reduce((b,S)=>b+S.taxableGain,0),0);return{portfolioDetails:f,totalLinked:m,totalTaxableGain:h}},[e,r,n,a]);if(!s)return l.jsxs("div",{className:"py-8 text-center space-y-2",children:[l.jsx(Es,{size:24,className:"mx-auto text-amber-400"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No portfolios linked to this goal"}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Link portfolios first to generate a withdrawal plan"}),l.jsx("button",{onClick:t,className:"mt-2 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})]});const c=e.targetAmount>0?s.totalLinked/e.targetAmount*100:0;return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),l.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:J(e.targetAmount)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Available from Linked Portfolios"}),l.jsx("span",{className:`text-sm font-bold ${s.totalLinked>=e.targetAmount?"text-emerald-400":"text-amber-400"}`,children:J(s.totalLinked)})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-card)] rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full rounded-full ${c>=100?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(c,100)}%`}})}),l.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[c.toFixed(0),"%"]})]}),s.totalTaxableGain>0&&l.jsxs("div",{className:"flex items-center justify-between pt-1",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Estimated Taxable Gain"}),l.jsx("span",{className:"text-xs font-semibold text-amber-400",children:J(s.totalTaxableGain)})]})]}),s.portfolioDetails.map(u=>l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] overflow-hidden",children:[l.jsxs("div",{className:"px-4 py-2.5 bg-[var(--bg-card)] border-b border-[var(--border-light)] flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:u.portfolioName}),l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[u.ownerName,"  ",u.allocationPct,"% allocated to goal"]})]}),l.jsx("span",{className:"text-xs font-bold text-[var(--text-primary)]",children:J(u.linkedValue)})]}),l.jsx("div",{className:"px-4 py-2",children:l.jsxs("table",{className:"w-full text-xs",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-[var(--text-dim)]",children:[l.jsx("th",{className:"text-left py-1 font-medium",children:"Fund"}),l.jsx("th",{className:"text-right py-1 font-medium",children:"Units"}),l.jsx("th",{className:"text-right py-1 font-medium",children:"Amount"}),l.jsx("th",{className:"text-right py-1 font-medium",children:"Gain"})]})}),l.jsx("tbody",{children:u.fundWithdrawals.map(f=>l.jsxs("tr",{className:"border-t border-[var(--border-light)]",children:[l.jsx("td",{className:"py-1.5 text-[var(--text-secondary)] max-w-[180px] truncate",children:f.fundName}),l.jsx("td",{className:"py-1.5 text-right text-[var(--text-muted)] tabular-nums",children:f.withdrawUnits.toFixed(2)}),l.jsx("td",{className:"py-1.5 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:J(f.withdrawValue)}),l.jsx("td",{className:`py-1.5 text-right tabular-nums font-semibold ${f.taxableGain>=0?"text-emerald-400":"text-rose-400"}`,children:J(Math.abs(f.taxableGain))})]},f.fundName))})]})})]},u.portfolioName)),l.jsx("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:l.jsx("button",{onClick:t,className:"px-5 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})})]})}const dle={"On Track":"bg-blue-500/15 text-[var(--accent-blue)]",Behind:"bg-amber-500/15 text-[var(--accent-amber)]",Critical:"bg-rose-500/15 text-[var(--accent-rose)]","Needs Attention":"bg-amber-500/15 text-[var(--accent-amber)]",Achieved:"bg-emerald-500/15 text-emerald-400",Paused:"bg-slate-500/15 text-[var(--text-muted)]"},fle={High:"bg-rose-500/15 text-[var(--accent-rose)]",Medium:"bg-amber-500/15 text-[var(--accent-amber)]",Low:"bg-blue-500/15 text-[var(--accent-blue)]"},mle={"On Track":"bg-blue-500",Behind:"bg-amber-500",Critical:"bg-rose-500","Needs Attention":"bg-amber-500",Achieved:"bg-emerald-500",Paused:"bg-slate-500"};function ple(){const{selectedMember:e,member:t}=zr(),{goalList:r,addGoal:n,updateGoal:a,deleteGoal:s,goalPortfolioMappings:c,updateGoalMappings:u,mfHoldings:f,activeMembers:m,mfPortfolios:h,stockPortfolios:v,otherInvList:x}=dt(),{showToast:b,showBlockUI:S,hideBlockUI:w}=Qa(),y=Xa(),[C,M]=j.useState(null),[A,_]=j.useState(null),[E,T]=j.useState(null),P=j.useRef(new Set),[O,L]=j.useState(null),[R,F]=j.useState([]),[k,X]=j.useState(!1),[W,Z]=j.useState(!1),B=j.useMemo(()=>{if(!r)return[];const q=r.filter(Q=>Q.isActive!==!1);return e==="all"?q:q.filter(Q=>Q.familyMemberId===e)},[r,e]);function G(q){if(!q.familyMemberName||q.familyMemberName==="Family")return q.familyMemberName||"Family";const Q=(m||[]).find(we=>we.memberName===q.familyMemberName);return Q?.relationship?`${q.familyMemberName} (${Q.relationship})`:q.familyMemberName}const z=B.reduce((q,Q)=>q+(Q.targetAmount||0),0),ne=B.reduce((q,Q)=>q+(Q.currentValue||0),0),ge=B.reduce((q,Q)=>q+(Q.monthlyInvestment||0),0),$=B.reduce((q,Q)=>q+(Q.lumpsumNeeded||0),0),ie=z>0?ne/z*100:0,pe=B.filter(q=>q.status==="Needs Attention").length,ue=B.filter(q=>q.status==="Achieved").length,je=new Set(["Equity","ELSS","Index"]),he=j.useMemo(()=>{if(!B.length||!c?.length||!f?.length)return[];const q=new Date,Q=[];for(const we of B){if(we.status==="Achieved")continue;const be=(new Date(we.targetDate)-q)/(365.25*24*60*60*1e3);if(be>3||be<=0)continue;const pt=c.filter(Zt=>Zt.goalId===we.goalId);if(!pt.length)continue;let Be=0,Re=0;for(const Zt of pt){const ht=f.filter(Ne=>Ne.portfolioId===Zt.portfolioId&&Ne.units>0);for(const Ne of ht){const Ke=Ne.currentValue*(Zt.allocationPct/100);Be+=Ke,je.has(Ne.category)?Re+=Ke:Ne.category==="Hybrid"&&(Re+=Ke*.65)}}const Xe=Be>0?Re/Be*100:0,Ze=be<1?30:be<2?50:70;Xe>Ze&&Q.push({goalId:we.goalId,goalName:we.goalName,yearsLeft:be.toFixed(1),equityPct:Math.round(Xe),maxEquity:Ze,excessPct:Math.round(Xe-Ze)})}return Q},[B,c,f]);j.useEffect(()=>{const q=new Set(B.filter(we=>we.status==="Achieved").map(we=>we.goalId)),Q=P.current;for(const we of q)if(!Q.has(we)){const Ie=B.find(be=>be.goalId===we);Ie&&(T(Ie),setTimeout(()=>T(null),5e3))}P.current=q},[B]);function ve(q){return q?q.startsWith("PFL-STK-")?"Stock":q.startsWith("INV-")?"Other":"MF":"MF"}const Ae=j.useMemo(()=>{const q={};return(h||[]).forEach(Q=>{q[Q.portfolioId]={name:Q.portfolioName?.replace(/^PFL-/,"")||Q.portfolioName,value:Q.currentValue||0,type:"MF",owner:Q.ownerName||""}}),(v||[]).forEach(Q=>{q[Q.portfolioId]={name:Q.portfolioName,value:Q.currentValue||0,type:"Stock",owner:Q.ownerName||""}}),(x||[]).forEach(Q=>{q[Q.investmentId]={name:Q.investmentName,value:Q.currentValue||0,type:"Other",owner:Q.familyMemberName||""}}),q},[h,v,x]),re=j.useMemo(()=>{const q=[];return(h||[]).filter(Q=>Q.status!=="Inactive").forEach(Q=>{q.push({id:Q.portfolioId,name:Q.portfolioName?.replace(/^PFL-/,"")||Q.portfolioName,value:Q.currentValue||0,type:"MF",owner:Q.ownerName||""})}),(v||[]).filter(Q=>Q.status!=="Inactive").forEach(Q=>{q.push({id:Q.portfolioId,name:Q.portfolioName,value:Q.currentValue||0,type:"Stock",owner:Q.ownerName||""})}),(x||[]).filter(Q=>Q.status==="Active").forEach(Q=>{q.push({id:Q.investmentId,name:Q.investmentName,value:Q.currentValue||0,type:"Other",owner:Q.familyMemberName||""})}),q},[h,v,x]),Le=re.filter(q=>q.type==="MF"),He=re.filter(q=>q.type==="Stock"),xe=re.filter(q=>q.type==="Other"),Fe=j.useMemo(()=>{const q={};return(c||[]).forEach(Q=>{if(Q.goalId===O)return;q[Q.portfolioId]||(q[Q.portfolioId]={total:0,goals:[]}),q[Q.portfolioId].total+=Q.allocationPct;const we=(r||[]).find(Ie=>Ie.goalId===Q.goalId);q[Q.portfolioId].goals.push({goalName:we?.goalName||Q.goalId,pct:Q.allocationPct})}),q},[c,O,r]),$e=j.useMemo(()=>{const q=[];for(const Q of R){const Ie=(Fe[Q.portfolioId]?.total||0)+(Q.allocationPct||0);if(Ie>100){const be=re.find(pt=>pt.id===Q.portfolioId);q.push({name:be?.name||Q.portfolioId,combined:Ie,excess:Ie-100})}}return q},[R,Fe,re]),Ve=$e.length===0;function wt(q){const Q=(c||[]).filter(we=>we.goalId===q).map(we=>({portfolioId:we.portfolioId,allocationPct:we.allocationPct,investmentType:we.investmentType||ve(we.portfolioId)}));F(Q),L(q),X(!1)}function Et(){L(null),F([]),X(!1)}function Oe(q){O===q?Et():wt(q)}function tt(){const q=new Set(R.map(we=>we.portfolioId)),Q=re.find(we=>!q.has(we.id)&&(Fe[we.id]?.total||0)<100);Q&&(F(we=>[...we,{portfolioId:Q.id,allocationPct:0,investmentType:Q.type}]),X(!0))}function zt(q){F(Q=>Q.filter((we,Ie)=>Ie!==q)),X(!0)}function at(q,Q,we){F(Ie=>Ie.map((be,pt)=>{if(pt!==q)return be;if(Q==="allocationPct"){const Be=Fe[be.portfolioId]?.total||0,Re=Math.max(0,100-Be);return{...be,allocationPct:Math.max(0,Math.min(Re,Number(we)||0))}}if(Q==="portfolioId"){const Be=re.find(Ze=>Ze.id===we),Re=Fe[we]?.total||0,Xe=Math.max(0,100-Re);return{...be,portfolioId:we,investmentType:Be?.type||ve(we),allocationPct:Math.min(be.allocationPct,Xe)}}return be})),X(!0)}async function xt(){if(Ve){Z(!0),S("Saving...");try{await u(O,R.filter(q=>q.allocationPct>0)),b("Allocation updated"),Et()}catch(q){b(q.message||"Failed to save","error")}finally{w(),Z(!1)}}}if(r===null)return l.jsx(Vi,{title:"Loading goals",cards:5});async function Qt(q){S("Saving...");try{C?.edit?await a(C.edit.goalId,q):await n(q),b(C?.edit?"Goal updated":"Goal added"),M(null)}catch(Q){b(Q.message||"Failed to save goal","error")}finally{w()}}async function Xt(){if(C?.edit&&await y("Delete this goal?",{title:"Delete Goal",confirmLabel:"Delete"})){const q=C.edit.goalId,Q=(c||[]).filter(we=>we.goalId===q);S("Deleting...");try{if(await s(q),M(null),Q.length>0){const we=Q.some(Ie=>(c||[]).some(be=>be.portfolioId===Ie.portfolioId&&be.goalId!==q));b(we?"Goal deleted  shared allocations freed":"Goal deleted")}else b("Goal deleted")}catch(we){b(we.message||"Failed to delete goal","error")}finally{w()}}}function Gi(q){return!q.targetAmount||q.targetAmount===0?0:Math.min((q.currentValue||0)/q.targetAmount*100,100)}function V(q){if(!q.targetDate)return null;const we=(new Date(q.targetDate)-new Date)/(365.25*24*60*60*1e3);return we>0?we.toFixed(1):"0"}return l.jsxs("div",{className:"space-y-4",children:[B.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(Mh,{size:32,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No goals set",t?` for ${t.memberName}`:""]}),l.jsx("button",{onClick:()=>M("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first goal"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[l.jsx(zo,{label:"Target",value:J(z),bold:!0}),l.jsx(zo,{label:"Current Value",value:J(ne),bold:!0}),l.jsx(zo,{label:"Gap",value:J(Math.max(z-ne,0)),positive:z<=ne,bold:!0}),l.jsx(zo,{label:"Progress",value:`${ie.toFixed(1)}%`,sub:`${B.length} goal${B.length!==1?"s":""}${ue>0?`  ${ue} done`:""}`,positive:ie>=50,bold:!0}),l.jsx(zo,{label:"Required SIP",value:J(ge),sub:pe>0?`${pe} need attention`:"per month"}),l.jsx(zo,{label:"Required Lumpsum",value:J($),sub:"one-time today"})]}),E&&l.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-500/10 via-yellow-500/10 to-emerald-500/10 rounded-xl border border-emerald-500/30 px-4 py-3 flex items-center gap-3 animate-fade-in overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((q,Q)=>l.jsx("span",{className:"absolute text-sm animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:["","","","",""][Q%5]},Q))}),l.jsx(DC,{size:20,className:"text-yellow-400 shrink-0 relative z-10"}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("p",{className:"text-sm font-bold text-emerald-400",children:"Goal Achieved!"}),l.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[E.goalName,"  Congratulations!"]})]}),l.jsx("button",{onClick:()=>T(null),className:"ml-auto text-xs text-[var(--text-dim)] hover:text-[var(--text-primary)] relative z-10",children:"Dismiss"})]}),he.length>0&&l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-amber-500/20 p-4 space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(K8,{size:14,className:"text-amber-400"}),l.jsx("p",{className:"text-xs font-bold text-amber-400 uppercase tracking-wider",children:"De-risking Alerts"})]}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"These goals are approaching their deadline with high equity exposure. Consider moving funds to debt/liquid for capital protection."}),l.jsx("div",{className:"space-y-1.5",children:he.map(q=>l.jsxs("div",{className:"flex items-center justify-between bg-amber-500/5 rounded-lg px-3 py-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:q.goalName}),l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[q.yearsLeft," yrs left"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-xs font-bold text-amber-400",children:[q.equityPct,"% equity"]}),l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Recommended max ",q.maxEquity,"%"]})]})]},q.goalId))})]}),l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>M("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Yr,{size:14})," Add Goal"]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:B.map(q=>{const Q=Gi(q),we=V(q),Ie=O===q.goalId,be=Ie?R:(c||[]).filter(Re=>Re.goalId===q.goalId),pt=(c||[]).filter(Re=>Re.goalId===q.goalId).length,Be=be.reduce((Re,Xe)=>{const Ze=Ae[Xe.portfolioId];return Re+(Ze?Ze.value*Xe.allocationPct/100:0)},0);return l.jsxs("div",{className:`bg-[var(--bg-card)] rounded-xl border overflow-hidden transition-colors ${Ie?"border-violet-500/40":"border-[var(--border)]"}`,children:[l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-sm font-semibold text-[var(--text-primary)] truncate",children:q.goalName}),l.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[l.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:G(q)}),l.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded ${fle[q.priority]||""}`,children:q.priority})]})]}),l.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full shrink-0 ${dle[q.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:q.status})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full rounded-full transition-all ${mle[q.status]||"bg-blue-500"}`,style:{width:`${Q}%`}})}),l.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums w-10 text-right",children:[Q.toFixed(0),"%"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5 mb-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Current"}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:J(q.currentValue)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Target"}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:J(q.targetAmount)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Required SIP"}),l.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[J(q.monthlyInvestment),"/mo"]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Timeline"}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:q.status==="Achieved"?"Done":we?`${we} yrs left`:""})]})]}),l.jsxs("div",{className:"flex items-center gap-1 pt-2 border-t border-[var(--border-light)]",children:[l.jsxs("button",{onClick:Re=>{Re.stopPropagation(),Oe(q.goalId)},className:`flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold rounded-lg transition-colors ${Ie?"bg-violet-500/20 text-violet-400":pt>0?"text-violet-400 hover:bg-violet-500/10":"text-amber-400 hover:bg-amber-500/10"}`,children:[l.jsx(GO,{size:11}),Ie?"Linking...":pt>0?`${pt} linked`:"Link",!Ie&&pt===0&&l.jsx("span",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full animate-pulse"})]}),q.status==="Achieved"&&l.jsxs("button",{onClick:()=>_(q),className:"flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold text-[var(--text-dim)] hover:text-emerald-400 hover:bg-emerald-500/10 rounded-lg transition-colors",children:[l.jsx(Qb,{size:11})," Withdraw"]}),l.jsxs("button",{onClick:()=>M({edit:q}),className:"flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-white/5 rounded-lg transition-colors ml-auto",children:[l.jsx(ya,{size:11})," Edit"]})]})]}),Ie&&l.jsxs("div",{className:"px-4 pb-4 space-y-2 border-t border-violet-500/20 bg-violet-500/[0.03]",children:[l.jsxs("div",{className:"flex items-center justify-between pt-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ol,{size:12,className:"text-violet-400"}),l.jsx("span",{className:"text-xs font-semibold text-violet-400",children:"Link Investments"})]}),Be>0&&l.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["Linked value: ",J(Be)]})]}),R.map((Re,Xe)=>{const Ze=re.find(ke=>ke.id===Re.portfolioId),Zt=Fe[Re.portfolioId],ht=Zt?.total||0,Ne=100-ht,Ke=ht+(Re.allocationPct||0);return l.jsxs("div",{className:`bg-[var(--bg-card)] rounded-lg border p-2.5 space-y-1.5 ${Ke>100?"border-rose-500/40":"border-[var(--border-light)]"}`,children:[l.jsxs("select",{value:Re.portfolioId,onChange:ke=>at(Xe,"portfolioId",ke.target.value),className:"w-full px-2 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",children:[Le.length>0&&l.jsx("optgroup",{label:"MF Portfolios",children:Le.map(ke=>{const jt=(Fe[ke.id]?.total||0)>=100,Jt=R.some((cr,xn)=>xn!==Xe&&cr.portfolioId===ke.id);return l.jsxs("option",{value:ke.id,disabled:Jt||jt,children:[ke.name,ke.owner?` (${ke.owner})`:"","  ",J(ke.value),jt?" (Fully allocated)":""]},ke.id)})}),He.length>0&&l.jsx("optgroup",{label:"Stock Portfolios",children:He.map(ke=>{const jt=(Fe[ke.id]?.total||0)>=100,Jt=R.some((cr,xn)=>xn!==Xe&&cr.portfolioId===ke.id);return l.jsxs("option",{value:ke.id,disabled:Jt||jt,children:[ke.name,ke.owner?` (${ke.owner})`:"","  ",J(ke.value),jt?" (Fully allocated)":""]},ke.id)})}),xe.length>0&&l.jsx("optgroup",{label:"Other Investments",children:xe.map(ke=>{const jt=(Fe[ke.id]?.total||0)>=100,Jt=R.some((cr,xn)=>xn!==Xe&&cr.portfolioId===ke.id);return l.jsxs("option",{value:ke.id,disabled:Jt||jt,children:[ke.name,ke.owner?` (${ke.owner})`:"","  ",J(ke.value),jt?" (Fully allocated)":""]},ke.id)})})]}),ht>0&&l.jsxs("div",{className:`text-[10px] px-2 py-1 rounded ${Ke>100?"bg-rose-500/10 text-rose-400":"bg-blue-500/10 text-blue-400"}`,children:[Zt.goals.map(ke=>`${ke.goalName} (${ke.pct}%)`).join(", "),"  ",l.jsxs("span",{className:"font-bold",children:["Available: ",Math.max(0,Ne),"%"]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Allocation"}),l.jsx("input",{type:"number",value:Re.allocationPct,onChange:ke=>at(Xe,"allocationPct",ke.target.value),className:"w-16 px-2 py-1 text-xs text-center bg-[var(--bg-input)] border border-[var(--border-input)] rounded-md text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",min:"0",max:Ne}),l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"}),l.jsx("button",{onClick:()=>zt(Xe),className:"p-1 text-[var(--text-dim)] hover:text-rose-400 rounded transition-colors ml-1",children:l.jsx(Dh,{size:12})})]}),Ze&&l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Contributes ",J(Ze.value*Re.allocationPct/100)]})]})]},Xe)}),$e.length>0&&l.jsxs("div",{className:"bg-rose-500/10 border border-rose-500/20 rounded-lg px-3 py-2 space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Es,{size:12,className:"text-rose-400 shrink-0"}),l.jsx("span",{className:"text-[10px] font-bold text-rose-400 uppercase",children:"Over-allocated"})]}),$e.map((Re,Xe)=>l.jsxs("p",{className:"text-[10px] text-rose-300",children:[Re.name,": ",Re.combined,"% total (exceeds by ",Re.excess,"%)"]},Xe))]}),(()=>{const Re=new Set(R.map(Ze=>Ze.portfolioId));return re.some(Ze=>!Re.has(Ze.id)&&(Fe[Ze.id]?.total||0)<100)&&l.jsxs("button",{onClick:tt,className:"flex items-center gap-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[l.jsx(Yr,{size:14})," Link Investment"]})})(),l.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2 border-t border-[var(--border-light)]",children:[l.jsx("button",{onClick:Et,className:"px-4 py-1.5 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),l.jsx("button",{onClick:xt,disabled:!k||!Ve||W,className:"px-5 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"})]})]})]},q.goalId)})}),ue>0&&l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-emerald-500/20 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(DC,{size:14,className:"text-yellow-400"}),l.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Achieved Goals"})]}),l.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-1",children:B.filter(q=>q.status==="Achieved").map(q=>l.jsxs("div",{className:"shrink-0 bg-emerald-500/10 border border-emerald-500/20 rounded-lg px-3 py-2 min-w-[160px]",children:[l.jsx("p",{className:"text-xs font-semibold text-emerald-400",children:q.goalName}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] mt-1",children:J(q.targetAmount)}),l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:G(q)})]},q.goalId))})]})]}),l.jsx(fr,{open:!!C,onClose:()=>M(null),title:C?.edit?"Edit Goal":"Add Goal",wide:!0,children:l.jsx(cle,{initial:C?.edit||void 0,onSave:Qt,onDelete:C?.edit?Xt:void 0,onCancel:()=>M(null)})}),l.jsx(fr,{open:!!A,onClose:()=>_(null),title:`Withdrawal Plan  ${A?.goalName||""}`,wide:!0,children:A&&l.jsx(ule,{goal:A,onClose:()=>_(null)})})]})}function zo({label:e,value:t,sub:r,positive:n,bold:a}){return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:t}),r&&l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:r})]})}const hle=[{label:"Family Members",desc:"Manage family profiles",icon:Wo,path:"/family",color:"bg-violet-500/15 text-violet-400"},{label:"Investment Accounts",desc:"Demat & trading accounts",icon:qO,path:"/accounts/investment",color:"bg-blue-500/15 text-blue-400"},{label:"Insurance",desc:"Life & health policies",icon:Qu,path:"/insurance",color:"bg-cyan-500/15 text-cyan-400"},{label:"Stocks",desc:"Stock portfolio holdings",icon:Gu,path:"/investments/stocks",color:"bg-indigo-500/15 text-indigo-400"},{label:"Other Investments",desc:"FD, PPF, Gold, NPS & more",icon:QO,path:"/investments/other",color:"bg-teal-500/15 text-teal-400"},{label:"Liabilities",desc:"Loans & outstanding balances",icon:Ah,path:"/liabilities",color:"bg-rose-500/15 text-rose-400"},{label:"Reminders",desc:"View and manage reminders",icon:Ch,path:"/reminders",color:"bg-amber-500/15 text-[var(--accent-amber)]"}],vle=[{label:"Health Check",desc:"Financial health questionnaire",icon:Zb,path:"/health-check",color:"bg-emerald-500/15 text-emerald-400"},{label:"Settings",desc:"App configuration",icon:eT,path:"/settings",color:"bg-slate-500/15 text-[var(--text-muted)]"},{label:"About",desc:"Capital Friends v2.0",icon:g8,path:"/about",color:"bg-violet-500/15 text-[var(--accent-violet)]"}];function P_({item:e,onClick:t}){return l.jsxs("button",{onClick:t,className:"w-full flex items-center gap-3 bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-3.5 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[l.jsx("div",{className:`w-9 h-9 rounded-lg flex items-center justify-center shrink-0 ${e.color}`,children:l.jsx(e.icon,{size:17})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:e.label}),l.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:e.desc})]}),l.jsx(Zu,{size:14,className:"text-[var(--text-dim)] shrink-0"})]})}const I_="jagadeeshmanne.hdfc@kphdfc";function xle(){const e=Hl(),[t,r]=j.useState(!1);function n(){navigator.clipboard.writeText(I_).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)})}return l.jsxs("div",{className:"space-y-5",children:[l.jsx("h1",{className:"text-base font-bold text-[var(--text-primary)]",children:"More"}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-dim)] px-1",children:"Navigate"}),l.jsx("div",{className:"space-y-1.5",children:hle.map(a=>l.jsx(P_,{item:a,onClick:()=>e(a.path)},a.label))})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-dim)] px-1",children:"Tools & Settings"}),l.jsx("div",{className:"space-y-1.5",children:vle.map(a=>l.jsx(P_,{item:a,onClick:()=>e(a.path)},a.label))})]}),l.jsx("div",{className:"bg-gradient-to-r from-pink-500/10 via-violet-500/10 to-pink-500/10 rounded-xl border border-pink-500/25 p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shrink-0 bg-pink-500/20 text-pink-400",children:l.jsx(hp,{size:20})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-semibold text-pink-400",children:"Support Developer"}),l.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:"Help maintain this app with a small donation"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[l.jsx("p",{className:"text-xs text-[var(--text-primary)] font-mono bg-[var(--bg-card)] px-2 py-1 rounded border border-[var(--border)] truncate",children:I_}),l.jsx("button",{onClick:n,className:"shrink-0 px-2.5 py-1 rounded-lg text-xs font-semibold bg-pink-500/15 text-pink-400 hover:bg-pink-500/25 transition-colors flex items-center gap-1",children:t?l.jsxs(l.Fragment,{children:[l.jsx(Wb,{size:12})," Copied"]}):l.jsxs(l.Fragment,{children:[l.jsx(WF,{size:12})," Copy"]})})]})]})]})})]})}const Um=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function gle(){const e=Hl(),{theme:t,toggle:r}=LO(),{members:n,settings:a,updateSettings:s,updateMember:c,healthCheckCompleted:u}=dt(),{user:f,signOut:m}=Ul(),{masked:h,toggleMask:v,mv:x}=Za(),b=n.filter(Z=>Z.status==="Active"),[S,w]=j.useState("Daily"),[y,C]=j.useState("09"),[M,A]=j.useState("Monday"),[_,E]=j.useState(!1),[T,P]=j.useState(!1),[O,L]=j.useState(!1),[R,F]=j.useState(null);j.useEffect(()=>{!a||!Object.keys(a).length||(a.EmailFrequency&&w(a.EmailFrequency),a.EmailHour!=null&&C(String(a.EmailHour).padStart(2,"0")),a.EmailDayOfWeek!=null&&A(Um[Number(a.EmailDayOfWeek)]||"Monday"))},[a]);async function k(){E(!0),P(!1);try{const Z=Um.indexOf(M);await s({EmailFrequency:S==="None"?"None":S,EmailConfigured:S==="None"?"FALSE":"TRUE",EmailHour:String(parseInt(y,10)),EmailMinute:"0",EmailDayOfWeek:String(Z>=0?Z:1)}),P(!0),setTimeout(()=>P(!1),2e3)}catch(Z){alert("Failed to save: "+Z.message)}finally{E(!1)}}async function X(){L(!0),F(null);try{const Z=await Zz();F(Z)}catch(Z){F({error:Z.message})}finally{L(!1)}}function W(Z){if(!Z)return"Never";try{const B=new Date(Z);if(isNaN(B.getTime()))return"Unknown";const G=Date.now(),z=Math.floor((G-B.getTime())/(1e3*60));if(z<1)return"Just now";if(z<60)return z+" min ago";const ne=Math.floor(z/60);return ne<24?ne+"h ago":B.toLocaleDateString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}}return l.jsxs("div",{className:"space-y-4 max-w-xl mx-auto",children:[l.jsxs(dl,{children:[l.jsx(fl,{icon:l.jsx(aB,{size:14}),title:"Account"}),l.jsxs("div",{className:"px-4 py-4 space-y-3",children:[l.jsx(An,{label:"Signed in as",children:l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate max-w-[200px]",children:x(f?.email,"email")||""})}),l.jsx(An,{label:"Name",children:l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:f?.name||""})}),l.jsx("div",{className:"pt-1",children:l.jsxs("button",{onClick:m,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-red-500 border border-red-200 dark:border-red-800/40 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[l.jsx(WO,{size:12}),"Sign Out"]})})]})]}),l.jsxs(dl,{children:[l.jsx(fl,{icon:l.jsx(Zb,{size:14}),title:"Financial Health Check"}),l.jsxs("div",{className:"px-4 py-4 space-y-3",children:[l.jsx(An,{label:"Status",children:l.jsx("span",{className:`text-xs font-semibold ${u?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:u?"Completed":"Not completed"})}),l.jsx("div",{className:"flex justify-end pt-1",children:l.jsxs("button",{onClick:()=>e("/health-check"),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx(Zb,{size:12}),u?"Update Answers":"Take Health Check"]})})]})]}),l.jsxs(dl,{children:[l.jsx(fl,{icon:l.jsx(ZF,{size:14}),title:"Data & Sync"}),l.jsxs("div",{className:"px-4 py-4 space-y-3",children:[l.jsx(An,{label:"Last synced",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:W(a.masterDataLastSync)}),a._stale&&l.jsx("span",{className:"text-[10px] font-bold text-amber-600 px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30",children:"STALE"})]})}),a._navDataDate&&l.jsx(An,{label:"NAV data as of",children:l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:a._navDataDate})}),l.jsx(An,{label:"Auto-refresh",children:l.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Daily at ~6:30 AM"})}),l.jsxs("div",{className:"flex items-center justify-between pt-1",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Refresh MF NAVs, ATH & Stock prices"}),l.jsxs("button",{onClick:X,disabled:O,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg bg-violet-600 text-white hover:bg-violet-500 transition-colors disabled:opacity-50",children:[l.jsx(Uo,{size:12,className:O?"animate-spin":""}),O?"Refreshing...":"Refresh Now"]})]}),R&&l.jsx("div",{className:`text-xs px-3 py-2 rounded-lg ${R.error?"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400":"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400"}`,children:R.error?"Failed: "+R.error:`Done  MF: ${R.mf?.count||0} | ATH: ${R.ath?.count||0} | Stocks: ${R.stocks?.count||0} (${R.duration})`})]})]}),l.jsxs(dl,{children:[l.jsx(fl,{icon:l.jsx(vp,{size:14}),title:"Appearance"}),l.jsx("div",{className:"px-4 py-4",children:l.jsx(An,{label:"Theme",children:l.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[t==="dark"?l.jsx(Xb,{size:12}):l.jsx(vp,{size:12}),t==="dark"?"Dark":"Light"]})})})]}),l.jsxs(dl,{children:[l.jsx(fl,{icon:l.jsx(E8,{size:14}),title:"Email Reports"}),l.jsxs("div",{className:"px-4 py-4 space-y-3",children:[l.jsx(An,{label:"Frequency",children:l.jsx(Yb,{value:S,onChange:w,options:["Daily","Weekly","Monthly","None"]})}),S!=="None"&&l.jsx(An,{label:"Send time",children:l.jsx(Yb,{value:y,onChange:C,options:Array.from({length:24},(Z,B)=>String(B).padStart(2,"0")),suffix:":00"})}),S==="Weekly"&&l.jsx(An,{label:"Day",children:l.jsx(Yb,{value:M,onChange:A,options:Um.slice(1).concat(Um[0])})}),l.jsx("div",{className:"flex justify-end pt-1",children:l.jsx("button",{onClick:k,disabled:_,className:"px-4 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:_?"Saving...":T?"Saved!":"Save"})}),b.length>0&&l.jsx(l.Fragment,{children:l.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Send report to"}),l.jsx("div",{className:"space-y-2",children:b.map(Z=>l.jsx(ble,{member:Z,onToggle:c},Z.memberId))})]})}),b.length===0&&l.jsx("p",{className:"text-xs text-[var(--text-dim)] pt-1",children:"Add family members to configure email recipients."})]})]}),l.jsxs(dl,{children:[l.jsx(fl,{icon:l.jsx(Ku,{size:14}),title:"Privacy"}),l.jsxs("div",{className:"px-4 py-4 space-y-3",children:[l.jsx(An,{label:"Mask sensitive data",children:l.jsx("button",{onClick:v,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 ${h?"bg-amber-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:l.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${h?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[h?"Sensitive data is hidden. ":"","Masks PAN, Aadhaar, mobile, email, account numbers, client IDs, and policy numbers across the app. Use the ",h?l.jsx(Ku,{size:11,className:"inline text-amber-400"}):l.jsx(pp,{size:11,className:"inline"})," icon in the header to quickly toggle."]}),h&&l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[l.jsx(Ku,{size:14,className:"text-amber-400 shrink-0"}),l.jsx("p",{className:"text-xs text-amber-400 font-medium",children:"Data masking is active  safe for screen sharing"})]})]})]}),l.jsxs(dl,{children:[l.jsx(fl,{icon:l.jsx(m8,{size:14}),title:"Display"}),l.jsxs("div",{className:"px-4 py-4 space-y-3",children:[l.jsx(An,{label:"Currency",children:l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"INR ()"})}),l.jsx(An,{label:"Date format",children:l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"DD/MM/YYYY"})})]})]})]})}function dl({children:e}){return l.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:e})}function fl({icon:e,title:t}){return l.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-[var(--text-muted)]",children:e}),l.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:t})]})})}function An({label:e,children:t}){return l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] shrink-0",children:e}),t]})}function Yb({value:e,onChange:t,options:r,suffix:n}){return l.jsxs("div",{className:"relative",children:[l.jsx("select",{value:e,onChange:a=>t(a.target.value),className:"appearance-none pl-3 pr-7 py-1.5 text-xs font-semibold bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-violet-500 cursor-pointer",children:r.map(a=>l.jsxs("option",{value:a,children:[a,n||""]},a))}),l.jsx(Ol,{size:10,className:"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function ble({member:e,onToggle:t}){const{mv:r}=Za(),n=e.includeInEmailReports==="Yes"||e.includeInEmailReports===!0,[a,s]=j.useState(!1);async function c(){s(!0);try{await t(e.memberId,{...e,includeInEmailReports:n?"No":"Yes"})}catch{}finally{s(!1)}}return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsx("div",{className:"w-6 h-6 rounded-full bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center shrink-0",children:l.jsx("span",{className:"text-[10px] font-bold text-violet-600",children:e.memberName?.charAt(0)?.toUpperCase()})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:r(e.memberName,"name")}),e.email&&l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] truncate",children:r(e.email,"email")})]})]}),l.jsx("button",{onClick:c,disabled:a,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 disabled:opacity-50 ${n?"bg-violet-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:l.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${n?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})]})}const yle=["SIP Due Date","Insurance Renewal","FD Maturity","Loan EMI","Investment Review","Custom"].map(e=>({value:e,label:e})),wle=[{value:"One-time",label:"One-time"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],jle=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}];function Nle({initial:e,onSave:t,onDelete:r,onCancel:n}){const a=!!e,{activeMembers:s}=dt(),c=s.map(y=>({value:y.memberId,label:y.memberName})),[u,f]=j.useState({reminderType:e?.reminderType||"",title:e?.title||"",description:e?.description||"",familyMemberId:e?.familyMemberId||"",dueDate:e?.dueDate||"",advanceNoticeDays:e?.advanceNoticeDays?.toString()||"7",frequency:e?.frequency||"One-time",priority:e?.priority||"Medium",status:e?.status||"Pending"}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(y,C){f(M=>({...M,[y]:C})),h(M=>({...M,[y]:void 0}))}function S(){const y={};return u.reminderType||(y.reminderType="Required"),u.title.trim()||(y.title="Required"),u.familyMemberId||(y.familyMemberId="Required"),u.dueDate||(y.dueDate="Required"),h(y),Object.keys(y).length===0}async function w(){if(S()){x(!0);try{await t({...u,advanceNoticeDays:Number(u.advanceNoticeDays)||7})}finally{x(!1)}}}return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Reminder Type",required:!0,error:m.reminderType,children:l.jsx(Ye,{value:u.reminderType,onChange:y=>b("reminderType",y),options:yle,placeholder:"Select type..."})}),l.jsx(oe,{label:"Title",required:!0,error:m.title,children:l.jsx(Ce,{value:u.title,onChange:y=>b("title",y),placeholder:"e.g., HDFC SIP Due"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(oe,{label:"Family Member",required:!0,error:m.familyMemberId,children:l.jsx(Ye,{value:u.familyMemberId,onChange:y=>b("familyMemberId",y),options:c,placeholder:"Select member..."})}),l.jsx(oe,{label:"Due Date",required:!0,error:m.dueDate,children:l.jsx(Va,{value:u.dueDate,onChange:y=>b("dueDate",y),maxDate:null})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsx(oe,{label:"Frequency",children:l.jsx(Ye,{value:u.frequency,onChange:y=>b("frequency",y),options:wle})}),l.jsx(oe,{label:"Priority",children:l.jsx(Ye,{value:u.priority,onChange:y=>b("priority",y),options:jle})}),l.jsx(oe,{label:"Advance Notice (days)",children:l.jsx(Ce,{type:"number",value:u.advanceNoticeDays,onChange:y=>b("advanceNoticeDays",y),placeholder:"7"})})]}),a&&l.jsx(oe,{label:"Status",children:l.jsx(Ye,{value:u.status,onChange:y=>b("status",y),options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"}]})}),l.jsx(oe,{label:"Description",children:l.jsx(cc,{value:u.description,onChange:y=>b("description",y),placeholder:"Optional details...",rows:2})}),l.jsxs("div",{className:"flex items-center justify-between",children:[a&&r?l.jsx(Yi,{onClick:r,label:"Delete"}):l.jsx("div",{}),l.jsx(Zr,{onCancel:n,onSubmit:w,submitLabel:a?"Update Reminder":"Add Reminder",loading:v})]})]})}const Ym={"SIP Due Date":"bg-violet-500/15 text-[var(--accent-violet)]","Insurance Renewal":"bg-amber-500/15 text-[var(--accent-amber)]","FD Maturity":"bg-blue-500/15 text-[var(--accent-blue)]","Loan EMI":"bg-rose-500/15 text-[var(--accent-rose)]","Investment Review":"bg-emerald-500/15 text-emerald-400",Custom:"bg-slate-500/15 text-[var(--text-muted)]"},R_={High:"bg-rose-500",Medium:"bg-amber-500",Low:"bg-blue-500"};function Fo(e){if(!e)return 1/0;const t=new Date(e)-new Date;return Math.ceil(t/(1440*60*1e3))}function Sle(){const{selectedMember:e,member:t}=zr(),{reminderList:r,addReminder:n,updateReminder:a,deleteReminder:s}=dt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=Qa(),m=Xa(),[h,v]=j.useState(null),x=j.useMemo(()=>{const _=r.filter(E=>E.isActive!==!1);return e==="all"?_:_.filter(E=>E.familyMemberId===e)},[r,e]),b=x.filter(_=>Fo(_.dueDate)<0).length,S=x.filter(_=>{const E=Fo(_.dueDate);return E>=0&&E<=7}).length,w=x.filter(_=>{const E=Fo(_.dueDate);return E>7&&E<=30}).length,y=[...x].sort((_,E)=>{const T=Fo(_.dueDate),P=Fo(E.dueDate);return T-P});async function C(_){u("Saving...");try{h?.edit?await a(h.edit.reminderId,_):await n(_),c(h?.edit?"Reminder updated":"Reminder added"),v(null)}catch(E){c(E.message||"Failed to save reminder","error")}finally{f()}}async function M(){if(h?.edit&&await m("Delete this reminder?",{title:"Delete Reminder",confirmLabel:"Delete"})){u("Deleting...");try{await s(h.edit.reminderId),c("Reminder deleted"),v(null)}catch(_){c(_.message||"Failed to delete reminder","error")}finally{f()}}}function A(_){const E=Fo(_);return E<0?{label:`${Math.abs(E)}d overdue`,cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:E===0?{label:"Today",cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:E<=7?{label:`${E}d`,cls:"bg-amber-500/20 text-[var(--accent-amber)]"}:E<=30?{label:`${E}d`,cls:"bg-blue-500/20 text-[var(--accent-blue)]"}:{label:`${E}d`,cls:"bg-slate-500/20 text-[var(--text-muted)]"}}return l.jsxs("div",{className:"space-y-4",children:[x.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(AF,{size:32,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No reminders",t?` for ${t.memberName}`:""]}),l.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a reminder"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[l.jsx(Vm,{label:"Active",value:x.length}),b>0&&l.jsx(Vm,{label:"Overdue",value:b,color:"rose"}),S>0&&l.jsx(Vm,{label:"Due This Week",value:S,color:"amber"}),l.jsx(Vm,{label:"Next 30 Days",value:w})]}),l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Yr,{size:14})," Add Reminder"]})}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[680px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Reminder"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),!t&&l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),l.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Due Date"}),l.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Frequency"}),l.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),l.jsx("tbody",{children:y.map(_=>{const E=A(_.dueDate);return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsx("td",{className:"py-2.5 px-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${R_[_.priority]||"bg-slate-400"}`}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:_.title}),_.description&&l.jsx("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[200px]",children:_.description})]})]})}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Ym[_.reminderType]||Ym.Custom}`,children:_.reminderType})}),!t&&l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:_.familyMemberName}),l.jsx("td",{className:"py-2.5 px-3 text-center",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:_.dueDate}),l.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${E.cls}`,children:E.label})]})}),l.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)]",children:_.frequency}),l.jsx("td",{className:"py-2.5 px-3 text-center",children:l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${_.status==="Pending"?"bg-amber-500/15 text-[var(--accent-amber)]":"bg-emerald-500/15 text-emerald-400"}`,children:_.status})}),l.jsx("td",{className:"py-2.5 px-2",children:l.jsx("button",{onClick:()=>v({edit:_}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:l.jsx(ya,{size:12})})})]},_.reminderId)})})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:y.map(_=>{const E=A(_.dueDate);return l.jsxs("div",{onClick:()=>v({edit:_}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${R_[_.priority]||"bg-slate-400"}`}),l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:_.title})]}),l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ml-2 ${Ym[_.reminderType]||Ym.Custom}`,children:_.reminderType})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[_.familyMemberName,"  ",_.frequency]}),l.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${E.cls}`,children:E.label})]})]},_.reminderId)})})]})]}),l.jsx(fr,{open:!!h,onClose:()=>v(null),title:h?.edit?"Edit Reminder":"Add Reminder",wide:!0,children:l.jsx(Nle,{initial:h?.edit||void 0,onSave:C,onDelete:h?.edit?M:void 0,onCancel:()=>v(null)})})]})}function Vm({label:e,value:t,color:r}){const n=r==="rose"?"text-[var(--accent-rose)]":r==="amber"?"text-[var(--accent-amber)]":"text-[var(--text-primary)]";return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm font-bold tabular-nums ${n}`,children:t})]})}const L_={BUY:"bg-emerald-500/15 text-emerald-400",SELL:"bg-rose-500/15 text-[var(--accent-rose)]"},Cle={INITIAL:"bg-violet-500/15 text-[var(--accent-violet)]",SIP:"bg-blue-500/15 text-[var(--accent-blue)]",LUMPSUM:"bg-emerald-500/15 text-emerald-400",WITHDRAWAL:"bg-amber-500/15 text-[var(--accent-amber)]",SWITCH:"bg-orange-500/15 text-[var(--accent-orange)]"};function Ale(){const{selectedMember:e}=zr(),{mfTransactions:t,mfPortfolios:r,stockTransactions:n,stockPortfolios:a}=dt(),[s,c]=j.useState("mf"),[u,f]=j.useState("all"),m=j.useMemo(()=>{let w=[...t].sort((y,C)=>new Date(C.date)-new Date(y.date));if(e!=="all"){const y=new Set(r.filter(C=>C.ownerId===e).map(C=>C.portfolioId));w=w.filter(C=>y.has(C.portfolioId))}return u!=="all"&&(w=w.filter(y=>y.type===u)),w},[t,r,e,u]),h=j.useMemo(()=>{let w=[...n].sort((y,C)=>new Date(C.date)-new Date(y.date));if(e!=="all"){const y=new Set(a.filter(C=>C.ownerId===e).map(C=>C.portfolioId));w=w.filter(C=>y.has(C.portfolioId))}return u!=="all"&&(w=w.filter(y=>y.type===u)),w},[n,a,e,u]),v=s==="mf"?m:h,x=v.filter(w=>w.type==="BUY").reduce((w,y)=>w+(y.totalAmount||0),0),b=v.filter(w=>w.type==="SELL").reduce((w,y)=>w+(y.totalAmount||0),0),S=v.reduce((w,y)=>w+(y.gainLoss||y.realizedPL||0),0);return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[l.jsx(Gm,{label:"Transactions",value:v.length}),l.jsx(Gm,{label:"Total Bought",value:J(x)}),l.jsx(Gm,{label:"Total Sold",value:J(b)}),l.jsx(Gm,{label:"Realized P&L",value:`${S>=0?"+":""}${J(Math.abs(S))}`,positive:S>=0,bold:!0})]}),l.jsxs("div",{className:"flex items-center justify-between px-1",children:[l.jsx("div",{className:"flex gap-1",children:["mf","stocks"].map(w=>l.jsx("button",{onClick:()=>c(w),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${s===w?"bg-violet-500/20 text-violet-400 border border-violet-500/30":"text-[var(--text-dim)] hover:text-[var(--text-primary)] border border-transparent"}`,children:w==="mf"?"Mutual Funds":"Stocks"},w))}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(YO,{size:12,className:"text-[var(--text-dim)]"}),["all","BUY","SELL"].map(w=>l.jsx("button",{onClick:()=>f(w),className:`px-2 py-1 text-xs font-semibold rounded transition-colors ${u===w?"bg-[var(--bg-card)] text-[var(--text-primary)] border border-[var(--border)]":"text-[var(--text-dim)] hover:text-[var(--text-muted)]"}`,children:w==="all"?"All":w},w))]})]}),l.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:v.length===0?l.jsxs("div",{className:"py-12 flex flex-col items-center gap-3",children:[l.jsx(u8,{size:32,className:"text-[var(--text-dim)]"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions found"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:s==="mf"?"Fund":"Stock"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Portfolio"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:s==="mf"?"Units":"Qty"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:s==="mf"?"NAV":"Price"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"})]})}),l.jsx("tbody",{children:v.map(w=>{const y=w.gainLoss||w.realizedPL||0;return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-muted)] tabular-nums",children:w.date}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${L_[w.type]||""}`,children:w.type}),w.transactionType&&l.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${Cle[w.transactionType]||""}`,children:w.transactionType})]})}),l.jsxs("td",{className:"py-2.5 px-3",children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:w.fundName||w.companyName}),l.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:w.fundCode||w.symbol})]}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)]",children:w.portfolioName||""}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:(w.units||w.quantity||0).toFixed(s==="mf"?2:0)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:J(w.price||w.pricePerShare||0)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:J(w.totalAmount||0)}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:y!==0?l.jsxs("span",{className:`text-xs font-semibold tabular-nums ${y>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[y>=0?"+":"",J(Math.abs(y))]}):l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},w.transactionId)})})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:v.map(w=>(w.gainLoss||w.realizedPL,l.jsxs("div",{className:"px-4 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:w.fundName||w.companyName}),l.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded shrink-0 ${L_[w.type]||""}`,children:w.type})]}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[w.date,"  ",w.portfolioName]}),l.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[l.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[(w.units||w.quantity||0).toFixed(s==="mf"?2:0)," @ ",J(w.price||w.pricePerShare||0)]}),l.jsx("span",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:J(w.totalAmount||0)})]})]},w.transactionId)))})]})})]})}function Gm({label:e,value:t,positive:r,bold:n}){return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm tabular-nums ${n?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t})]})}const Oa=[{id:"healthIns",question:"Does your family have Health Insurance?",tip:"50L to 1Cr family floater recommended (considering inflation & future expenses)",category:"Insurance"},{id:"termLife",question:"Do you have adequate Term Life Insurance?",tip:"Recommended: 10-15x annual income",category:"Insurance"},{id:"emergencyFund",question:"Do you have an Emergency Fund?",tip:"6-12 months of monthly expenses in liquid assets",category:"Savings"},{id:"familyAware",question:"Is your family aware of all investments?",tip:"Ensure nominees and family know about all assets",category:"Planning"},{id:"hasWill",question:"Do you have a Will?",tip:"Legal document for asset distribution",category:"Planning"},{id:"nominees",question:"Have you updated Nominees on all accounts?",tip:"Bank, demat, insurance, MF  all should have nominees",category:"Planning"},{id:"goals",question:"Do you have clearly defined Financial Goals?",tip:"Retirement, education, home  with target amounts and dates",category:"Goals"}];function Mle(){const e=Hl(),{members:t,insurancePolicies:r,goalList:n,otherInvList:a,healthCheckCompleted:s,completeHealthCheck:c}=dt(),u=t.filter(R=>R.status==="Active"),f=s===!1,[m,h]=j.useState(!1),[v,x]=j.useState(!0),[b,S]=j.useState(null),w=j.useMemo(()=>{const R={},F=r.filter(Z=>Z.policyType==="Health"&&Z.status==="Active");R.healthIns=F.length>0;const k=r.filter(Z=>Z.policyType==="Term Life"&&Z.status==="Active");R.termLife=k.length>0;const X=n.filter(Z=>Z.goalType==="Emergency Fund"&&Z.isActive),W=a.filter(Z=>Z.investmentType==="FD"||Z.investmentType==="PPF");return R.emergencyFund=X.length>0||W.length>0,R.goals=n.filter(Z=>Z.isActive).length>=2,R},[r,n,a]);j.useEffect(()=>{let R=!1;async function F(){const k=await PO("healthCheckAnswers");!R&&k&&(S(k),x(!1));try{const X=await TO();!R&&X&&(S(X),cn("healthCheckAnswers",X))}catch{}R||x(!1)}return F(),()=>{R=!0}},[]);const[y,C]=j.useState(()=>{const R={};return Oa.forEach(F=>{R[F.id]=w[F.id]?"yes":""}),R});j.useEffect(()=>{b&&C(R=>{const F={...R};return Oa.forEach(k=>{const X=b[k.id];X==="Yes"?F[k.id]="yes":X==="No"&&(F[k.id]="no")}),F})},[b]);const M=Object.values(y).filter(R=>R).length,A=Object.values(y).filter(R=>R==="yes").length,_=M===Oa.length,E=M>0?Math.round(A/Oa.length*100):0;function T(){return E>=80?"text-emerald-400":E>=50?"text-[var(--accent-amber)]":"text-[var(--accent-rose)]"}function P(){return E>=80?"Excellent":E>=60?"Good":E>=40?"Needs Work":"Critical"}const O=j.useMemo(()=>{const R=[];return y.healthIns!=="yes"&&R.push({severity:"critical",text:"Get Health Insurance for your family",action:"Minimum 5L cover recommended"}),y.termLife!=="yes"&&R.push({severity:"critical",text:"Get Term Life Insurance (10-15x annual income)",action:"Compare plans online"}),y.emergencyFund!=="yes"&&R.push({severity:"warning",text:"Build an Emergency Fund",action:"Save 6-12 months expenses in liquid fund/FD"}),y.familyAware!=="yes"&&R.push({severity:"warning",text:"Share investment details with family",action:"Create a document with all account info"}),y.hasWill!=="yes"&&R.push({severity:"warning",text:"Create a legal Will",action:"Consult a lawyer for Will registration"}),y.nominees!=="yes"&&R.push({severity:"warning",text:"Update nominees on all accounts",action:"Check bank, demat, insurance, MF accounts"}),y.goals!=="yes"&&R.push({severity:"info",text:"Define clear financial goals",action:"Use the Goal Planner to set targets"}),R},[y]),L=j.useCallback(async()=>{if(_){h(!0);try{const R={};Oa.forEach(F=>{R[F.id]=y[F.id]==="yes"?"Yes":"No"}),R.score=A,R.total=Oa.length,await c(R),e("/dashboard")}catch(R){console.error("Failed to save health check:",R)}finally{h(!1)}}},[_,y,A,c,e]);return l.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[f&&l.jsxs("div",{className:"bg-violet-500/10 border border-violet-500/20 rounded-xl p-4",children:[l.jsx("h2",{className:"text-base font-bold text-violet-400 mb-1",children:"Welcome to Capital Friends!"}),l.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Before you start, please complete this quick Financial Health Check. It takes less than a minute and helps you understand where your family stands financially."})]}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(UO,{size:16,className:"text-violet-400"}),l.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:"Financial Health Score"})]}),l.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[M,"/",Oa.length," answered"]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"relative w-20 h-20",children:[l.jsxs("svg",{className:"w-20 h-20 -rotate-90",viewBox:"0 0 36 36",children:[l.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"var(--border)",strokeWidth:"3"}),l.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${E}, 100`,className:T(),strokeLinecap:"round"})]}),l.jsxs("span",{className:`absolute inset-0 flex items-center justify-center text-lg font-bold ${T()}`,children:[E,"%"]})]}),l.jsxs("div",{children:[l.jsx("p",{className:`text-base font-bold ${T()}`,children:P()}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:[A," of ",Oa.length," checks passed"]}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[u.length," family members tracked"]})]})]})]}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:l.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Health Check Questions"})}),l.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:Oa.map((R,F)=>l.jsxs("div",{className:"px-4 py-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("p",{className:"text-sm text-[var(--text-primary)]",children:[l.jsxs("span",{className:"text-[var(--text-dim)] mr-2",children:[F+1,"."]}),R.question]}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5 ml-5",children:R.tip})]}),l.jsxs("div",{className:"flex gap-1 shrink-0",children:[l.jsx("button",{onClick:()=>C(k=>({...k,[R.id]:"yes"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${y[R.id]==="yes"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"Yes"}),l.jsx("button",{onClick:()=>C(k=>({...k,[R.id]:"no"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${y[R.id]==="no"?"bg-rose-500/20 text-[var(--accent-rose)] border border-rose-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"No"})]})]}),w[R.id]&&l.jsx("p",{className:"text-xs text-violet-400 mt-1 ml-5",children:"Auto-detected from your data"})]},R.id))})]}),O.length>0&&_&&l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:l.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Recommendations"})}),l.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:O.map((R,F)=>{const k=R.severity==="critical"?l.jsx(HO,{size:14,className:"text-[var(--accent-rose)]"}):R.severity==="warning"?l.jsx(Es,{size:14,className:"text-[var(--accent-amber)]"}):l.jsx(BF,{size:14,className:"text-[var(--accent-blue)]"});return l.jsxs("div",{className:"flex items-start gap-3 px-4 py-3",children:[l.jsx("span",{className:"shrink-0 mt-0.5",children:k}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm text-[var(--text-primary)]",children:R.text}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:R.action})]})]},F)})})]}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[!_&&l.jsxs("p",{className:"text-xs text-[var(--accent-amber)] mb-3",children:["Please answer all ",Oa.length," questions before saving."]}),l.jsx("button",{onClick:L,disabled:!_||m,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-bold transition-colors ${_&&!m?"bg-violet-600 hover:bg-violet-500 text-white":"bg-[var(--bg-inset)] text-[var(--text-dim)] cursor-not-allowed"}`,children:m?l.jsxs(l.Fragment,{children:[l.jsx(KO,{size:16,className:"animate-spin"}),"Saving..."]}):f?l.jsxs(l.Fragment,{children:["Save & Continue to Dashboard",l.jsx(jF,{size:16})]}):l.jsxs(l.Fragment,{children:[l.jsx(XO,{size:16}),"Update Health Check"]})})]})]})}function Dle(){return l.jsxs("div",{className:"space-y-4 max-w-lg mx-auto",children:[l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-5 text-center",children:[l.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-indigo-600 flex items-center justify-center mx-auto mb-3",children:l.jsx("span",{className:"text-xl font-bold text-white",children:"CF"})}),l.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Capital Friends"}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Family Portfolio Management"}),l.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-2",children:"v2.0.0"})]}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:l.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Features"})}),l.jsx("div",{className:"px-4 py-3 space-y-2",children:["Track Mutual Funds, Stocks & Other Investments","Family member-wise portfolio management","ATH-based Buy Opportunities","Smart Rebalancing with threshold alerts","Goal planning with portfolio mapping","Insurance, Liabilities & Bank Accounts","Financial Health Check questionnaire","Reminders for SIPs, renewals & due dates","Email reports with detailed breakdowns"].map(e=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-500 shrink-0"}),l.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:e})]},e))})]}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(hp,{size:12,className:"text-pink-400"}),l.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Support Developer"})]})}),l.jsxs("div",{className:"px-4 py-4 text-center",children:[l.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-3",children:"If Capital Friends helps you manage your family finances, consider supporting the developer."}),l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-3 border border-[var(--border)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-1",children:"UPI"}),l.jsx("p",{className:"text-sm font-mono font-semibold text-[var(--text-primary)] select-all",children:"jagadeeshmanne.hdfc@kphdfc"})]}),l.jsxs("div",{className:"flex items-center justify-center gap-1 mt-3",children:[l.jsx(YF,{size:12,className:"text-[var(--accent-amber)]"}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Buy me a chai!"})]})]})]}),l.jsxs("div",{className:"text-center py-2",children:[l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Made with ",l.jsx(hp,{size:10,className:"inline text-pink-400 mx-0.5"})," by Jagadeesh Manne"]}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Built with React + Vite + Tailwind CSS"})]})]})}function kle(){return Date.now().toString(36).toUpperCase()}function Ele(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=r=>Array.from({length:r},()=>e[Math.floor(Math.random()*26)]).join("");return t(5)+Math.floor(1e3+Math.random()*9e3)+t(1)}function _le(){return String(Math.floor(2e11+Math.random()*8e11))}function z_(){return"9"+String(Math.floor(1e8+Math.random()*9e8))}function Ole(){return String(Math.floor(1e9+Math.random()*9e9))}function Tle(){const e=kle();return{member:{memberName:`Test Member ${e}`,relationship:"Self",pan:Ele(),aadhar:_le(),email:`test-${e.toLowerCase()}@example.com`,mobile:z_(),includeInEmailReports:!0},bank:{accountName:`Test Savings ${e}`,bankName:"Test Bank",accountNumber:Ole(),ifscCode:"TEST0001234",accountType:"Savings",branchName:"Test Branch"},investmentAccount:{accountName:`Test Demat ${e}`,accountType:"Demat",platformBroker:"Test Broker Platform",accountClientId:`CLI-${e}`,registeredEmail:`test-${e.toLowerCase()}@example.com`,registeredPhone:z_()},insurance:{policyType:"Term Life",company:"Test Insurance Co",policyNumber:`POL-${e}`,policyName:`Test Term Plan ${e}`,sumAssured:5e6,nominee:"Test Nominee",dynamicFields:{Premium:15e3,"Premium Frequency":"Annual"}},liability:{liabilityType:"Home Loan",lenderName:"Test Bank",outstandingBalance:45e5,dynamicFields:{"Principal Amount":5e6,"Interest Rate":8.5,"EMI Amount":45e3},notes:`Test liability ${e}`},otherInvestment:{investmentType:"Fixed Deposit",investmentName:`Test FD ${e}`,investedAmount:1e5,currentValue:105e3,investmentCategory:"Debt"},stockPortfolio:{portfolioName:`Test Stock Portfolio ${e}`,broker:"Test Broker"},reminder:{title:`Test Reminder ${e}`,description:"Automated test reminder",dueDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],category:"Insurance",priority:"Medium"},goal:{goalName:`Test Goal ${e}`,goalType:"Custom",targetAmount:1e6,targetDate:"2040-01-01",priority:"Medium",expectedInflation:.06,expectedCAGR:.12}}}function Ple({status:e,text:t}){const r={pass:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",fail:"bg-rose-500/20 text-rose-400 border-rose-500/30",skip:"bg-amber-500/20 text-amber-400 border-amber-500/30",running:"bg-blue-500/20 text-blue-400 border-blue-500/30",pending:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return l.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded border ${r[e]||r.pending}`,children:t||e.toUpperCase()})}function Ile(){const{user:e}=Ul(),[t,r]=j.useState([]),[n,a]=j.useState(!1),[s,c]=j.useState(null),[u,f]=j.useState(!1),m=j.useCallback((y,C,M="")=>{r(A=>[...A,{test:y,status:C,detail:M,time:new Date().toLocaleTimeString()}])},[]),h=j.useCallback((y,C="")=>{r(M=>{const A=[...M];return A.length>0&&(A[A.length-1]={...A[A.length-1],status:y,detail:C}),A})},[]),v=async()=>{f(!0),c(null);try{const y=await Me("test:diagnose");c(y)}catch(y){c({error:y.message})}finally{f(!1)}},x=async()=>{a(!0),r([]);const y=Tle();let C=null,M=null,A=null,_=null,E=null,T=null,P=null,O=null,L=null,R=null;try{m("API Echo Test","running");try{const k=await Me("test:echo",{hello:"world"});k&&k.echo&&k.echo.hello==="world"?h("pass","Echo response received correctly"):h("fail","Unexpected response: "+JSON.stringify(k))}catch(k){h("fail",k.message)}m("Diagnostics","running");try{const k=await Me("test:diagnose"),X=Object.entries(k.sheets||{}).filter(([,Z])=>!Z.exists).map(([Z])=>Z);if(X.length>0)h("fail",`Missing sheets: ${X.join(", ")}`);else{const Z=Object.keys(k.sheets).length;h("pass",`All ${Z} sheets exist. SpreadsheetId: ${k.spreadsheetId}`)}const W=Object.entries(k.dataTests||{}).filter(([,Z])=>!Z.success).map(([Z,B])=>`${Z}: ${B.error}`);W.length>0&&m("Data Function Errors","fail",W.join("; "))}catch(k){h("fail",k.message)}m("Load All Data (bulk)","running");try{const k=await mp(),X=Object.entries(k).map(([W,Z])=>`${W}: ${Array.isArray(Z)?Z.length:"?"}`);h("pass",X.join(", "))}catch(k){h("fail",k.message)}m("Members  Create","running");try{const k=await sO(y.member);C=k?.memberId,M=y.member.memberName,C?h("pass",`Created: ${C}`):h("fail","No memberId returned: "+JSON.stringify(k))}catch(k){h("fail",k.message)}m("Members  List","running");try{const k=await iO();Array.isArray(k)&&k.some(W=>W.memberId===C)?h("pass",`Found ${C} in ${k.length} member(s)`):h("fail",`Member ${C} not found. Got ${Array.isArray(k)?k.length:0} members: ${JSON.stringify(k).substring(0,200)}`)}catch(k){h("fail",k.message)}if(C){m("Members  Update","running");try{await lO({...y.member,memberId:C,memberName:"Updated Test Member"}),M="Updated Test Member",h("pass",'Updated name to "Updated Test Member"')}catch(k){h("fail",k.message)}}m("Banks  Create","running");try{const k=await uO({...y.bank,memberId:C||"FM-001"});A=k?.accountId,h(A?"pass":"fail",A?`Created: ${A}`:"No accountId: "+JSON.stringify(k))}catch(k){h("fail",k.message)}m("Banks  List","running");try{const k=await cO();h("pass",`${Array.isArray(k)?k.length:0} account(s)`)}catch(k){h("fail",k.message)}m("Investment Accounts  Create","running");try{const k=await mO({...y.investmentAccount,memberId:C||"FM-001",bankAccountId:A||"BA-001"});_=k?.accountId,h(_?"pass":"fail",_?`Created: ${_}`:"No accountId: "+JSON.stringify(k))}catch(k){h("fail",k.message)}m("Investment Accounts  List","running");try{const k=await fO();h("pass",`${Array.isArray(k)?k.length:0} account(s)`)}catch(k){h("fail",k.message)}m("Insurance  Create","running");try{const k=await bO({...y.insurance,memberId:C||"FM-001",insuredMember:M||"Test Member"});E=k?.policyId,h(E?"pass":"fail",E?`Created: ${E}`:"No policyId: "+JSON.stringify(k))}catch(k){h("fail",k.message)}m("Insurance  List","running");try{const k=await gO();h("pass",`${Array.isArray(k)?k.length:0} policy/policies`)}catch(k){h("fail",k.message)}m("Liabilities  Create","running");try{const k=await jO({...y.liability,familyMember:C||"FM-001"});T=k?.liabilityId,h(T?"pass":"fail",T?`Created: ${T}`:"No liabilityId: "+JSON.stringify(k))}catch(k){h("fail",k.message)}m("Liabilities  List","running");try{const k=await wO();h("pass",`${Array.isArray(k)?k.length:0} liability/liabilities`)}catch(k){h("fail",k.message)}m("Other Investments  Create","running");try{const k=await CO({...y.otherInvestment,familyMember:C||"FM-001"});P=k?.investmentId,h(P?"pass":"fail",P?`Created: ${P}`:"No investmentId: "+JSON.stringify(k))}catch(k){h("fail",k.message)}m("Other Investments  List","running");try{const k=await SO();h("pass",`${Array.isArray(k)?k.length:0} investment(s)`)}catch(k){h("fail",k.message)}m("Stock Portfolios  Create","running");try{const k=await DO({...y.stockPortfolio,owner:C||"FM-001"});O=k?.portfolioId,h(O?"pass":"fail",O?`Created: ${O}`:"No portfolioId: "+JSON.stringify(k))}catch(k){h("fail",k.message)}m("Stock Portfolios  List","running");try{const k=await MO();h("pass",`${Array.isArray(k)?k.length:0} portfolio(s)`)}catch(k){h("fail",k.message)}m("Reminders  Create","running");try{const k=await _O(y.reminder);L=k?.reminderId,h(L?"pass":"fail",L?`Created: ${L}`:"No reminderId: "+JSON.stringify(k))}catch(k){h("fail",k.message)}m("Reminders  List","running");try{const k=await EO();h("pass",`${Array.isArray(k)?k.length:0} reminder(s)`)}catch(k){h("fail",k.message)}m("Goals  Create","running");try{const k=await vO(y.goal);R=k?.goalId,h(R?"pass":"fail",R?`Created: ${R}`:"No goalId: "+JSON.stringify(k))}catch(k){h("fail",k.message)}m("Goals  List","running");try{const k=await hO();h("pass",`${Array.isArray(k)?k.length:0} goal(s)`)}catch(k){h("fail",k.message)}m("Cleanup  Delete test data","running");const F=[];if(R)try{await xO(R)}catch(k){F.push("goal: "+k.message)}if(L)try{await OO(L)}catch(k){F.push("reminder: "+k.message)}if(O)try{await kO(O)}catch(k){F.push("stockPortfolio: "+k.message)}if(P)try{await AO(P)}catch(k){F.push("otherInv: "+k.message)}if(T)try{await NO(T)}catch(k){F.push("liability: "+k.message)}if(E)try{await yO(E)}catch(k){F.push("insurance: "+k.message)}if(_)try{await pO(_)}catch(k){F.push("invAcct: "+k.message)}if(A)try{await dO(A)}catch(k){F.push("bank: "+k.message)}if(C)try{await oO(C)}catch(k){F.push("member: "+k.message)}F.length>0?h("fail",F.join("; ")):h("pass","All test data cleaned up"),m("Final Load All (post-cleanup)","running");try{const k=await mp(),X=Object.entries(k).map(([W,Z])=>`${W}: ${Array.isArray(Z)?Z.length:"?"}`);h("pass",X.join(", "))}catch(k){h("fail",k.message)}}catch(F){m("UNEXPECTED ERROR","fail",F.message)}finally{a(!1)}},b=t.filter(y=>y.status==="pass").length,S=t.filter(y=>y.status==="fail").length,w=t.filter(y=>y.status!=="running").length;return l.jsx("div",{className:"min-h-screen bg-[var(--bg-main)] p-4 max-w-3xl mx-auto",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"API Test Suite"}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Signed in as ",e?.email||"unknown"]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:v,disabled:u||n,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--bg-card)] border border-[var(--border)] text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] disabled:opacity-50 cursor-pointer",children:u?"Running...":"Diagnostics"}),l.jsx("button",{onClick:x,disabled:n,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-violet-600 text-white hover:bg-violet-700 disabled:opacity-50 cursor-pointer",children:n?"Running Tests...":"Run All Tests"})]})]}),w>0&&l.jsxs("div",{className:"flex gap-3 text-xs",children:[l.jsxs("span",{className:"text-emerald-400",children:["Pass: ",b]}),l.jsxs("span",{className:"text-rose-400",children:["Fail: ",S]}),l.jsxs("span",{className:"text-[var(--text-dim)]",children:["Total: ",w]})]}),s&&l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 space-y-3",children:[l.jsx("h2",{className:"text-sm font-semibold text-[var(--text-primary)]",children:"Diagnostics Report"}),s.error?l.jsx("p",{className:"text-xs text-rose-400",children:s.error}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-xs text-[var(--text-secondary)] space-y-1",children:[l.jsxs("p",{children:[l.jsx("span",{className:"text-[var(--text-dim)]",children:"Spreadsheet:"})," ",s.spreadsheetName]}),l.jsxs("p",{children:[l.jsx("span",{className:"text-[var(--text-dim)]",children:"ID:"})," ",l.jsx("code",{className:"text-[10px]",children:s.spreadsheetId})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Sheets"}),l.jsx("div",{className:"grid grid-cols-2 gap-1",children:Object.entries(s.sheets||{}).map(([y,C])=>l.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[l.jsx("span",{className:"text-[var(--text-secondary)] truncate",children:y}),C.exists?l.jsxs("span",{className:"text-emerald-400 ml-1",children:[C.dataRows,"r"]}):l.jsx("span",{className:"text-rose-400 ml-1",children:"MISSING"})]},y))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Data Functions"}),l.jsx("div",{className:"space-y-1",children:Object.entries(s.dataTests||{}).map(([y,C])=>l.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[l.jsx("span",{className:"text-[var(--text-secondary)]",children:y}),C.success?l.jsxs("span",{className:"text-emerald-400",children:[C.count," items"]}):l.jsx("span",{className:"text-rose-400 truncate ml-2 max-w-[200px]",title:C.error,children:C.error})]},y))})]}),s.safeCallErrors&&s.safeCallErrors.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs font-medium text-rose-400 mb-1",children:"SafeCall Errors"}),s.safeCallErrors.map((y,C)=>l.jsxs("p",{className:"text-[11px] text-rose-400",children:[y.fn,": ",y.error]},C))]})]})]}),t.length>0&&l.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:l.jsx("div",{className:"divide-y divide-[var(--border)]",children:t.map((y,C)=>l.jsxs("div",{className:"px-4 py-2 flex items-start gap-3",children:[l.jsx("div",{className:"mt-0.5 shrink-0",children:l.jsx(Ple,{status:y.status})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:y.test}),y.detail&&l.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5 break-all",children:y.detail})]}),l.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:y.time})]},C))})}),t.length===0&&!s&&l.jsxs("div",{className:"text-center py-12 text-[var(--text-dim)]",children:[l.jsx("p",{className:"text-sm",children:'Click "Run All Tests" to test all CRUD operations'}),l.jsx("p",{className:"text-xs mt-1",children:'or "Diagnostics" to check spreadsheet structure'})]})]})})}function Rle(){return l.jsxs(R6,{children:[l.jsx(Yt,{index:!0,element:l.jsx(Mie,{})}),l.jsx(Yt,{path:"login",element:l.jsx(uI,{})}),l.jsx(Yt,{element:l.jsx(jie,{}),children:l.jsxs(Yt,{element:l.jsx(wie,{}),children:[l.jsx(Yt,{path:"dashboard",element:l.jsx(dp,{to:"/investments/mutual-funds",replace:!0})}),l.jsx(Yt,{path:"family",element:l.jsx(ole,{})}),l.jsx(Yt,{path:"accounts/bank",element:l.jsx(d_,{})}),l.jsx(Yt,{path:"accounts/investment",element:l.jsx(Tie,{})}),l.jsx(Yt,{path:"insurance",element:l.jsx(Lie,{})}),l.jsx(Yt,{path:"investments/mutual-funds",element:l.jsx(Xse,{})}),l.jsx(Yt,{path:"investments/stocks",element:l.jsx(ile,{})}),l.jsx(Yt,{path:"investments/other",element:l.jsx(Wie,{})}),l.jsx(Yt,{path:"liabilities",element:l.jsx($ie,{})}),l.jsx(Yt,{path:"goals",element:l.jsx(ple,{})}),l.jsx(Yt,{path:"reports",element:l.jsx(Ale,{})}),l.jsx(Yt,{path:"reminders",element:l.jsx(Sle,{})}),l.jsx(Yt,{path:"health-check",element:l.jsx(Mle,{})}),l.jsx(Yt,{path:"about",element:l.jsx(Dle,{})}),l.jsx(Yt,{path:"test",element:l.jsx(Ile,{})}),l.jsx(Yt,{path:"settings",element:l.jsx(gle,{})}),l.jsx(Yt,{path:"more",element:l.jsx(xle,{})}),l.jsx(Yt,{path:"accounts",element:l.jsx(d_,{})}),l.jsx(Yt,{path:"*",element:l.jsx(Die,{})})]})})]})}LL.createRoot(document.getElementById("root")).render(l.jsx(sz,{children:l.jsx(lF,{children:l.jsx(oF,{children:l.jsx(yB,{children:l.jsx(cB,{children:l.jsx(uB,{children:l.jsx(uF,{children:l.jsx(dF,{children:l.jsx(Rle,{})})})})})})})})}));
