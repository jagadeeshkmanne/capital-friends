function Vj(s,l){for(var r=0;r<l.length;r++){const t=l[r];if(typeof t!="string"&&!Array.isArray(t)){for(const o in t)if(o!=="default"&&!(o in s)){const u=Object.getOwnPropertyDescriptor(t,o);u&&Object.defineProperty(s,o,u.get?u:{enumerable:!0,get:()=>t[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&t(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function t(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function xg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var tf={exports:{}},Fi={};var p0;function Gj(){if(p0)return Fi;p0=1;var s=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function r(t,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:t,key:d,ref:o!==void 0?o:null,props:u}}return Fi.Fragment=l,Fi.jsx=r,Fi.jsxs=r,Fi}var x0;function Qj(){return x0||(x0=1,tf.exports=Gj()),tf.exports}var a=Qj(),af={exports:{}},ze={};var h0;function Kj(){if(h0)return ze;h0=1;var s=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),t=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),y=Symbol.iterator;function w(P){return P===null||typeof P!="object"?null:(P=y&&P[y]||P["@@iterator"],typeof P=="function"?P:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,g={};function j(P,J,me){this.props=P,this.context=J,this.refs=g,this.updater=me||M}j.prototype.isReactComponent={},j.prototype.setState=function(P,J){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,J,"setState")},j.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function D(){}D.prototype=j.prototype;function k(P,J,me){this.props=P,this.context=J,this.refs=g,this.updater=me||M}var O=k.prototype=new D;O.constructor=k,S(O,j.prototype),O.isPureReactComponent=!0;var T=Array.isArray;function H(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function z(P,J,me){var fe=me.ref;return{$$typeof:s,type:P,key:J,ref:fe!==void 0?fe:null,props:me}}function L(P,J){return z(P.type,J,P.props)}function V(P){return typeof P=="object"&&P!==null&&P.$$typeof===s}function A(P){var J={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(me){return J[me]})}var le=/\/+/g;function oe(P,J){return typeof P=="object"&&P!==null&&P.key!=null?A(""+P.key):J.toString(36)}function re(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(H,H):(P.status="pending",P.then(function(J){P.status==="pending"&&(P.status="fulfilled",P.value=J)},function(J){P.status==="pending"&&(P.status="rejected",P.reason=J)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function q(P,J,me,fe,Se){var ge=typeof P;(ge==="undefined"||ge==="boolean")&&(P=null);var we=!1;if(P===null)we=!0;else switch(ge){case"bigint":case"string":case"number":we=!0;break;case"object":switch(P.$$typeof){case s:case l:we=!0;break;case v:return we=P._init,q(we(P._payload),J,me,fe,Se)}}if(we)return Se=Se(P),we=fe===""?"."+oe(P,0):fe,T(Se)?(me="",we!=null&&(me=we.replace(le,"$&/")+"/"),q(Se,J,me,"",function(rt){return rt})):Se!=null&&(V(Se)&&(Se=L(Se,me+(Se.key==null||P&&P.key===Se.key?"":(""+Se.key).replace(le,"$&/")+"/")+we)),J.push(Se)),1;we=0;var ke=fe===""?".":fe+":";if(T(P))for(var qe=0;qe<P.length;qe++)fe=P[qe],ge=ke+oe(fe,qe),we+=q(fe,J,me,ge,Se);else if(qe=w(P),typeof qe=="function")for(P=qe.call(P),qe=0;!(fe=P.next()).done;)fe=fe.value,ge=ke+oe(fe,qe++),we+=q(fe,J,me,ge,Se);else if(ge==="object"){if(typeof P.then=="function")return q(re(P),J,me,fe,Se);throw J=String(P),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return we}function Z(P,J,me){if(P==null)return P;var fe=[],Se=0;return q(P,fe,"","",function(ge){return J.call(me,ge,Se++)}),fe}function _(P){if(P._status===-1){var J=P._result;J=J(),J.then(function(me){(P._status===0||P._status===-1)&&(P._status=1,P._result=me)},function(me){(P._status===0||P._status===-1)&&(P._status=2,P._result=me)}),P._status===-1&&(P._status=0,P._result=J)}if(P._status===1)return P._result.default;throw P._result}var Q=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},de={map:Z,forEach:function(P,J,me){Z(P,function(){J.apply(this,arguments)},me)},count:function(P){var J=0;return Z(P,function(){J++}),J},toArray:function(P){return Z(P,function(J){return J})||[]},only:function(P){if(!V(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return ze.Activity=b,ze.Children=de,ze.Component=j,ze.Fragment=r,ze.Profiler=o,ze.PureComponent=k,ze.StrictMode=t,ze.Suspense=x,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,ze.__COMPILER_RUNTIME={__proto__:null,c:function(P){return I.H.useMemoCache(P)}},ze.cache=function(P){return function(){return P.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(P,J,me){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var fe=S({},P.props),Se=P.key;if(J!=null)for(ge in J.key!==void 0&&(Se=""+J.key),J)!R.call(J,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&J.ref===void 0||(fe[ge]=J[ge]);var ge=arguments.length-2;if(ge===1)fe.children=me;else if(1<ge){for(var we=Array(ge),ke=0;ke<ge;ke++)we[ke]=arguments[ke+2];fe.children=we}return z(P.type,Se,fe)},ze.createContext=function(P){return P={$$typeof:d,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},ze.createElement=function(P,J,me){var fe,Se={},ge=null;if(J!=null)for(fe in J.key!==void 0&&(ge=""+J.key),J)R.call(J,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Se[fe]=J[fe]);var we=arguments.length-2;if(we===1)Se.children=me;else if(1<we){for(var ke=Array(we),qe=0;qe<we;qe++)ke[qe]=arguments[qe+2];Se.children=ke}if(P&&P.defaultProps)for(fe in we=P.defaultProps,we)Se[fe]===void 0&&(Se[fe]=we[fe]);return z(P,ge,Se)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(P){return{$$typeof:m,render:P}},ze.isValidElement=V,ze.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:_}},ze.memo=function(P,J){return{$$typeof:p,type:P,compare:J===void 0?null:J}},ze.startTransition=function(P){var J=I.T,me={};I.T=me;try{var fe=P(),Se=I.S;Se!==null&&Se(me,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(H,Q)}catch(ge){Q(ge)}finally{J!==null&&me.types!==null&&(J.types=me.types),I.T=J}},ze.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},ze.use=function(P){return I.H.use(P)},ze.useActionState=function(P,J,me){return I.H.useActionState(P,J,me)},ze.useCallback=function(P,J){return I.H.useCallback(P,J)},ze.useContext=function(P){return I.H.useContext(P)},ze.useDebugValue=function(){},ze.useDeferredValue=function(P,J){return I.H.useDeferredValue(P,J)},ze.useEffect=function(P,J){return I.H.useEffect(P,J)},ze.useEffectEvent=function(P){return I.H.useEffectEvent(P)},ze.useId=function(){return I.H.useId()},ze.useImperativeHandle=function(P,J,me){return I.H.useImperativeHandle(P,J,me)},ze.useInsertionEffect=function(P,J){return I.H.useInsertionEffect(P,J)},ze.useLayoutEffect=function(P,J){return I.H.useLayoutEffect(P,J)},ze.useMemo=function(P,J){return I.H.useMemo(P,J)},ze.useOptimistic=function(P,J){return I.H.useOptimistic(P,J)},ze.useReducer=function(P,J,me){return I.H.useReducer(P,J,me)},ze.useRef=function(P){return I.H.useRef(P)},ze.useState=function(P){return I.H.useState(P)},ze.useSyncExternalStore=function(P,J,me){return I.H.useSyncExternalStore(P,J,me)},ze.useTransition=function(){return I.H.useTransition()},ze.version="19.2.4",ze}var v0;function Qf(){return v0||(v0=1,af.exports=Kj()),af.exports}var N=Qf();const ae=xg(N),hg=Vj({__proto__:null,default:ae},[N]);var nf={exports:{}},Bi={},rf={exports:{}},sf={};var b0;function Xj(){return b0||(b0=1,(function(s){function l(q,Z){var _=q.length;q.push(Z);e:for(;0<_;){var Q=_-1>>>1,de=q[Q];if(0<o(de,Z))q[Q]=Z,q[_]=de,_=Q;else break e}}function r(q){return q.length===0?null:q[0]}function t(q){if(q.length===0)return null;var Z=q[0],_=q.pop();if(_!==Z){q[0]=_;e:for(var Q=0,de=q.length,P=de>>>1;Q<P;){var J=2*(Q+1)-1,me=q[J],fe=J+1,Se=q[fe];if(0>o(me,_))fe<de&&0>o(Se,me)?(q[Q]=Se,q[fe]=_,Q=fe):(q[Q]=me,q[J]=_,Q=J);else if(fe<de&&0>o(Se,_))q[Q]=Se,q[fe]=_,Q=fe;else break e}}return Z}function o(q,Z){var _=q.sortIndex-Z.sortIndex;return _!==0?_:q.id-Z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var x=[],p=[],v=1,b=null,y=3,w=!1,M=!1,S=!1,g=!1,j=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function O(q){for(var Z=r(p);Z!==null;){if(Z.callback===null)t(p);else if(Z.startTime<=q)t(p),Z.sortIndex=Z.expirationTime,l(x,Z);else break;Z=r(p)}}function T(q){if(S=!1,O(q),!M)if(r(x)!==null)M=!0,H||(H=!0,A());else{var Z=r(p);Z!==null&&re(T,Z.startTime-q)}}var H=!1,I=-1,R=5,z=-1;function L(){return g?!0:!(s.unstable_now()-z<R)}function V(){if(g=!1,H){var q=s.unstable_now();z=q;var Z=!0;try{e:{M=!1,S&&(S=!1,D(I),I=-1),w=!0;var _=y;try{t:{for(O(q),b=r(x);b!==null&&!(b.expirationTime>q&&L());){var Q=b.callback;if(typeof Q=="function"){b.callback=null,y=b.priorityLevel;var de=Q(b.expirationTime<=q);if(q=s.unstable_now(),typeof de=="function"){b.callback=de,O(q),Z=!0;break t}b===r(x)&&t(x),O(q)}else t(x);b=r(x)}if(b!==null)Z=!0;else{var P=r(p);P!==null&&re(T,P.startTime-q),Z=!1}}break e}finally{b=null,y=_,w=!1}Z=void 0}}finally{Z?A():H=!1}}}var A;if(typeof k=="function")A=function(){k(V)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,oe=le.port2;le.port1.onmessage=V,A=function(){oe.postMessage(null)}}else A=function(){j(V,0)};function re(q,Z){I=j(function(){q(s.unstable_now())},Z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return y},s.unstable_next=function(q){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var _=y;y=Z;try{return q()}finally{y=_}},s.unstable_requestPaint=function(){g=!0},s.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var _=y;y=q;try{return Z()}finally{y=_}},s.unstable_scheduleCallback=function(q,Z,_){var Q=s.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?Q+_:Q):_=Q,q){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=_+de,q={id:v++,callback:Z,priorityLevel:q,startTime:_,expirationTime:de,sortIndex:-1},_>Q?(q.sortIndex=_,l(p,q),r(x)===null&&q===r(p)&&(S?(D(I),I=-1):S=!0,re(T,_-Q))):(q.sortIndex=de,l(x,q),M||w||(M=!0,H||(H=!0,A()))),q},s.unstable_shouldYield=L,s.unstable_wrapCallback=function(q){var Z=y;return function(){var _=y;y=Z;try{return q.apply(this,arguments)}finally{y=_}}}})(sf)),sf}var g0;function Wj(){return g0||(g0=1,rf.exports=Xj()),rf.exports}var lf={exports:{}},ra={};var y0;function Zj(){if(y0)return ra;y0=1;var s=Qf();function l(x){var p="https://react.dev/errors/"+x;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+x+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var t={d:{f:r,r:function(){throw Error(l(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(x,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:x,containerInfo:p,implementation:v}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(x,p){if(x==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ra.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=t,ra.createPortal=function(x,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(l(299));return u(x,p,null,v)},ra.flushSync=function(x){var p=d.T,v=t.p;try{if(d.T=null,t.p=2,x)return x()}finally{d.T=p,t.p=v,t.d.f()}},ra.preconnect=function(x,p){typeof x=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,t.d.C(x,p))},ra.prefetchDNS=function(x){typeof x=="string"&&t.d.D(x)},ra.preinit=function(x,p){if(typeof x=="string"&&p&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin),y=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?t.d.S(x,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:y,fetchPriority:w}):v==="script"&&t.d.X(x,{crossOrigin:b,integrity:y,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ra.preinitModule=function(x,p){if(typeof x=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);t.d.M(x,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&t.d.M(x)},ra.preload=function(x,p){if(typeof x=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin);t.d.L(x,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ra.preloadModule=function(x,p){if(typeof x=="string")if(p){var v=m(p.as,p.crossOrigin);t.d.m(x,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else t.d.m(x)},ra.requestFormReset=function(x){t.d.r(x)},ra.unstable_batchedUpdates=function(x,p){return x(p)},ra.useFormState=function(x,p,v){return d.H.useFormState(x,p,v)},ra.useFormStatus=function(){return d.H.useHostTransitionStatus()},ra.version="19.2.4",ra}var N0;function vg(){if(N0)return lf.exports;N0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),lf.exports=Zj(),lf.exports}var j0;function Jj(){if(j0)return Bi;j0=1;var s=Wj(),l=Qf(),r=vg();function t(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function x(e){if(u(e)!==e)throw Error(t(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(t(188));return n!==e?null:e}for(var i=e,c=n;;){var f=i.return;if(f===null)break;var h=f.alternate;if(h===null){if(c=f.return,c!==null){i=c;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===i)return x(f),e;if(h===c)return x(f),n;h=h.sibling}throw Error(t(188))}if(i.return!==c.return)i=f,c=h;else{for(var C=!1,E=f.child;E;){if(E===i){C=!0,i=f,c=h;break}if(E===c){C=!0,c=f,i=h;break}E=E.sibling}if(!C){for(E=h.child;E;){if(E===i){C=!0,i=h,c=f;break}if(E===c){C=!0,c=h,i=f;break}E=E.sibling}if(!C)throw Error(t(189))}}if(i.alternate!==c)throw Error(t(190))}if(i.tag!==3)throw Error(t(188));return i.stateNode.current===i?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),k=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function A(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var le=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===le?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case j:return"Profiler";case g:return"StrictMode";case T:return"Suspense";case H:return"SuspenseList";case z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case k:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case O:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:oe(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return oe(e(n))}catch{}}return null}var re=Array.isArray,q=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_={pending:!1,data:null,method:null,action:null},Q=[],de=-1;function P(e){return{current:e}}function J(e){0>de||(e.current=Q[de],Q[de]=null,de--)}function me(e,n){de++,Q[de]=e.current,e.current=n}var fe=P(null),Se=P(null),ge=P(null),we=P(null);function ke(e,n){switch(me(ge,n),me(Se,e),me(fe,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Pv(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Pv(n),e=zv(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(fe),me(fe,e)}function qe(){J(fe),J(Se),J(ge)}function rt(e){e.memoizedState!==null&&me(we,e);var n=fe.current,i=zv(n,e.type);n!==i&&(me(Se,e),me(fe,i))}function Rt(e){Se.current===e&&(J(fe),J(Se)),we.current===e&&(J(we),Li._currentValue=_)}var vn,$t;function he(e){if(vn===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);vn=n&&n[1]||"",$t=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vn+e+$t}var Pe=!1;function Ue(e,n){if(!e||Pe)return"";Pe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(te){var W=te}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(te){W=te}e.call(ue.prototype)}}else{try{throw Error()}catch(te){W=te}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(te){if(te&&W&&typeof te.stack=="string")return[te.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=c.DetermineComponentFrameRoot(),C=h[0],E=h[1];if(C&&E){var F=C.split(`
`),X=E.split(`
`);for(f=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;f<X.length&&!X[f].includes("DetermineComponentFrameRoot");)f++;if(c===F.length||f===X.length)for(c=F.length-1,f=X.length-1;1<=c&&0<=f&&F[c]!==X[f];)f--;for(;1<=c&&0<=f;c--,f--)if(F[c]!==X[f]){if(c!==1||f!==1)do if(c--,f--,0>f||F[c]!==X[f]){var se=`
`+F[c].replace(" at new "," at ");return e.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",e.displayName)),se}while(1<=c&&0<=f);break}}}finally{Pe=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?he(i):""}function oa(e,n){switch(e.tag){case 26:case 27:case 5:return he(e.type);case 16:return he("Lazy");case 13:return e.child!==n&&n!==null?he("Suspense Fallback"):he("Suspense");case 19:return he("SuspenseList");case 0:case 15:return Ue(e.type,!1);case 11:return Ue(e.type.render,!1);case 1:return Ue(e.type,!0);case 31:return he("Activity");default:return""}}function qa(e){try{var n="",i=null;do n+=oa(e,i),i=e,e=e.return;while(e);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ca=Object.prototype.hasOwnProperty,ta=s.unstable_scheduleCallback,pt=s.unstable_cancelCallback,aa=s.unstable_shouldYield,ua=s.unstable_requestPaint,Lt=s.unstable_now,br=s.unstable_getCurrentPriorityLevel,B=s.unstable_ImmediatePriority,ne=s.unstable_UserBlockingPriority,je=s.unstable_NormalPriority,Fe=s.unstable_LowPriority,Le=s.unstable_IdlePriority,ie=s.log,Nt=s.unstable_setDisableYieldValue,Ee=null,Me=null;function et(e){if(typeof ie=="function"&&Nt(e),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(Ee,e)}catch{}}var Ie=Math.clz32?Math.clz32:vt,da=Math.log,He=Math.LN2;function vt(e){return e>>>=0,e===0?32:31-(da(e)/He|0)|0}var ha=256,Vt=262144,va=4194304;function Ta(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bn(e,n,i){var c=e.pendingLanes;if(c===0)return 0;var f=0,h=e.suspendedLanes,C=e.pingedLanes;e=e.warmLanes;var E=c&134217727;return E!==0?(c=E&~h,c!==0?f=Ta(c):(C&=E,C!==0?f=Ta(C):i||(i=E&~e,i!==0&&(f=Ta(i))))):(E=c&~h,E!==0?f=Ta(E):C!==0?f=Ta(C):i||(i=c&~e,i!==0&&(f=Ta(i)))),f===0?0:n!==0&&n!==f&&(n&h)===0&&(h=f&-f,i=n&-n,h>=i||h===32&&(i&4194048)!==0)?n:f}function xe(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Gt(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bn(){var e=va;return va<<=1,(va&62914560)===0&&(va=4194304),e}function rn(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Ua(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gr(e,n,i,c,f,h){var C=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var E=e.entanglements,F=e.expirationTimes,X=e.hiddenUpdates;for(i=C&~i;0<i;){var se=31-Ie(i),ue=1<<se;E[se]=0,F[se]=-1;var W=X[se];if(W!==null)for(X[se]=null,se=0;se<W.length;se++){var te=W[se];te!==null&&(te.lane&=-536870913)}i&=~ue}c!==0&&es(e,c,0),h!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=h&~(C&~n))}function es(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-Ie(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|i&261930}function yr(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var c=31-Ie(i),f=1<<c;f&n|e[c]&n&&(e[c]|=n),i&=~f}}function ts(e,n){var i=n&-n;return i=(i&42)!==0?1:Ql(i),(i&(e.suspendedLanes|n))!==0?0:i}function Ql(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Kl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ho(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:i0(e.type))}function vo(e,n){var i=Z.p;try{return Z.p=e,n()}finally{Z.p=i}}var gn=Math.random().toString(36).slice(2),Ht="__reactFiber$"+gn,na="__reactProps$"+gn,Nr="__reactContainer$"+gn,Xl="__reactEvents$"+gn,Vu="__reactListeners$"+gn,Gu="__reactHandles$"+gn,bo="__reactResources$"+gn,as="__reactMarker$"+gn;function Wl(e){delete e[Ht],delete e[na],delete e[Xl],delete e[Vu],delete e[Gu]}function jr(e){var n=e[Ht];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Nr]||i[Ht]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=$v(e);e!==null;){if(i=e[Ht])return i;e=$v(e)}return n}e=i,i=e.parentNode}return null}function U(e){if(e=e[Ht]||e[Nr]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function pe(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(t(33))}function It(e){var n=e[bo];return n||(n=e[bo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ht(e){e[as]=!0}var ns=new Set,kp={};function rs(e,n){zs(e,n),zs(e+"Capture",n)}function zs(e,n){for(kp[e]=n,e=0;e<n.length;e++)ns.add(n[e])}var P1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dp={},Mp={};function z1(e){return ca.call(Mp,e)?!0:ca.call(Dp,e)?!1:P1.test(e)?Mp[e]=!0:(Dp[e]=!0,!1)}function go(e,n,i){if(z1(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function yo(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Hn(e,n,i,c){if(c===null)e.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+c)}}function $a(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ap(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function F1(e,n,i){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,h=c.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(C){i=""+C,h.call(this,C)}}),Object.defineProperty(e,n,{enumerable:c.enumerable}),{getValue:function(){return i},setValue:function(C){i=""+C},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qu(e){if(!e._valueTracker){var n=Ap(e)?"checked":"value";e._valueTracker=F1(e,n,""+e[n])}}function Tp(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),c="";return e&&(c=Ap(e)?e.checked?"true":"false":e.value),e=c,e!==i?(n.setValue(e),!0):!1}function No(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var B1=/[\n"\\]/g;function Va(e){return e.replace(B1,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ku(e,n,i,c,f,h,C,E){e.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.type=C:e.removeAttribute("type"),n!=null?C==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+$a(n)):e.value!==""+$a(n)&&(e.value=""+$a(n)):C!=="submit"&&C!=="reset"||e.removeAttribute("value"),n!=null?Xu(e,C,$a(n)):i!=null?Xu(e,C,$a(i)):c!=null&&e.removeAttribute("value"),f==null&&h!=null&&(e.defaultChecked=!!h),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+$a(E):e.removeAttribute("name")}function Ep(e,n,i,c,f,h,C,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){Qu(e);return}i=i!=null?""+$a(i):"",n=n!=null?""+$a(n):i,E||n===e.value||(e.value=n),e.defaultValue=n}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=E?e.checked:!!c,e.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.name=C),Qu(e)}function Xu(e,n,i){n==="number"&&No(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Fs(e,n,i,c){if(e=e.options,n){n={};for(var f=0;f<i.length;f++)n["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=n.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&c&&(e[i].defaultSelected=!0)}else{for(i=""+$a(i),n=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function _p(e,n,i){if(n!=null&&(n=""+$a(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+$a(i):""}function Op(e,n,i,c){if(n==null){if(c!=null){if(i!=null)throw Error(t(92));if(re(c)){if(1<c.length)throw Error(t(93));c=c[0]}i=c}i==null&&(i=""),n=i}i=$a(n),e.defaultValue=i,c=e.textContent,c===i&&c!==""&&c!==null&&(e.value=c),Qu(e)}function Bs(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var H1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rp(e,n,i){var c=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,i):typeof i!="number"||i===0||H1.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function Lp(e,n,i){if(n!=null&&typeof n!="object")throw Error(t(62));if(e=e.style,i!=null){for(var c in i)!i.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var f in n)c=n[f],n.hasOwnProperty(f)&&i[f]!==c&&Rp(e,f,c)}else for(var h in n)n.hasOwnProperty(h)&&Rp(e,h,n[h])}function Wu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Y1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),q1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jo(e){return q1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yn(){}var Zu=null;function Ju(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hs=null,Ys=null;function Ip(e){var n=U(e);if(n&&(e=n.stateNode)){var i=e[na]||null;e:switch(e=n.stateNode,n.type){case"input":if(Ku(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Va(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var c=i[n];if(c!==e&&c.form===e.form){var f=c[na]||null;if(!f)throw Error(t(90));Ku(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<i.length;n++)c=i[n],c.form===e.form&&Tp(c)}break e;case"textarea":_p(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Fs(e,!!i.multiple,n,!1)}}}var ed=!1;function Pp(e,n,i){if(ed)return e(n,i);ed=!0;try{var c=e(n);return c}finally{if(ed=!1,(Hs!==null||Ys!==null)&&(cc(),Hs&&(n=Hs,e=Ys,Ys=Hs=null,Ip(n),e)))for(n=0;n<e.length;n++)Ip(e[n])}}function Zl(e,n){var i=e.stateNode;if(i===null)return null;var c=i[na]||null;if(c===null)return null;i=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(t(231,n,typeof i));return i}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),td=!1;if(qn)try{var Jl={};Object.defineProperty(Jl,"passive",{get:function(){td=!0}}),window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{td=!1}var wr=null,ad=null,wo=null;function zp(){if(wo)return wo;var e,n=ad,i=n.length,c,f="value"in wr?wr.value:wr.textContent,h=f.length;for(e=0;e<i&&n[e]===f[e];e++);var C=i-e;for(c=1;c<=C&&n[i-c]===f[h-c];c++);return wo=f.slice(e,1<c?1-c:void 0)}function So(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Co(){return!0}function Fp(){return!1}function ba(e){function n(i,c,f,h,C){this._reactName=i,this._targetInst=f,this.type=c,this.nativeEvent=h,this.target=C,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(i=e[E],this[E]=i?i(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Co:Fp,this.isPropagationStopped=Fp,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Co)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Co)},persist:function(){},isPersistent:Co}),n}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ko=ba(ss),ei=b({},ss,{view:0,detail:0}),U1=ba(ei),nd,rd,ti,Do=b({},ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ld,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ti&&(ti&&e.type==="mousemove"?(nd=e.screenX-ti.screenX,rd=e.screenY-ti.screenY):rd=nd=0,ti=e),nd)},movementY:function(e){return"movementY"in e?e.movementY:rd}}),Bp=ba(Do),$1=b({},Do,{dataTransfer:0}),V1=ba($1),G1=b({},ei,{relatedTarget:0}),sd=ba(G1),Q1=b({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),K1=ba(Q1),X1=b({},ss,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),W1=ba(X1),Z1=b({},ss,{data:0}),Hp=ba(Z1),J1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aN(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=tN[e])?!!n[e]:!1}function ld(){return aN}var nN=b({},ei,{key:function(e){if(e.key){var n=J1[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=So(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ld,charCode:function(e){return e.type==="keypress"?So(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?So(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rN=ba(nN),sN=b({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yp=ba(sN),lN=b({},ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ld}),iN=ba(lN),oN=b({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),cN=ba(oN),uN=b({},Do,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dN=ba(uN),mN=b({},ss,{newState:0,oldState:0}),fN=ba(mN),pN=[9,13,27,32],id=qn&&"CompositionEvent"in window,ai=null;qn&&"documentMode"in document&&(ai=document.documentMode);var xN=qn&&"TextEvent"in window&&!ai,qp=qn&&(!id||ai&&8<ai&&11>=ai),Up=" ",$p=!1;function Vp(e,n){switch(e){case"keyup":return pN.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qs=!1;function hN(e,n){switch(e){case"compositionend":return Gp(n);case"keypress":return n.which!==32?null:($p=!0,Up);case"textInput":return e=n.data,e===Up&&$p?null:e;default:return null}}function vN(e,n){if(qs)return e==="compositionend"||!id&&Vp(e,n)?(e=zp(),wo=ad=wr=null,qs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return qp&&n.locale!=="ko"?null:n.data;default:return null}}var bN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!bN[e.type]:n==="textarea"}function Kp(e,n,i,c){Hs?Ys?Ys.push(c):Ys=[c]:Hs=c,n=hc(n,"onChange"),0<n.length&&(i=new ko("onChange","change",null,i,c),e.push({event:i,listeners:n}))}var ni=null,ri=null;function gN(e){Ev(e,0)}function Mo(e){var n=pe(e);if(Tp(n))return e}function Xp(e,n){if(e==="change")return n}var Wp=!1;if(qn){var od;if(qn){var cd="oninput"in document;if(!cd){var Zp=document.createElement("div");Zp.setAttribute("oninput","return;"),cd=typeof Zp.oninput=="function"}od=cd}else od=!1;Wp=od&&(!document.documentMode||9<document.documentMode)}function Jp(){ni&&(ni.detachEvent("onpropertychange",ex),ri=ni=null)}function ex(e){if(e.propertyName==="value"&&Mo(ri)){var n=[];Kp(n,ri,e,Ju(e)),Pp(gN,n)}}function yN(e,n,i){e==="focusin"?(Jp(),ni=n,ri=i,ni.attachEvent("onpropertychange",ex)):e==="focusout"&&Jp()}function NN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mo(ri)}function jN(e,n){if(e==="click")return Mo(n)}function wN(e,n){if(e==="input"||e==="change")return Mo(n)}function SN(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ea=typeof Object.is=="function"?Object.is:SN;function si(e,n){if(Ea(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),c=Object.keys(n);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var f=i[c];if(!ca.call(n,f)||!Ea(e[f],n[f]))return!1}return!0}function tx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ax(e,n){var i=tx(e);e=0;for(var c;i;){if(i.nodeType===3){if(c=e+i.textContent.length,e<=n&&c>=n)return{node:i,offset:n-e};e=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=tx(i)}}function nx(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?nx(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function rx(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=No(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=No(e.document)}return n}function ud(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var CN=qn&&"documentMode"in document&&11>=document.documentMode,Us=null,dd=null,li=null,md=!1;function sx(e,n,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;md||Us==null||Us!==No(c)||(c=Us,"selectionStart"in c&&ud(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),li&&si(li,c)||(li=c,c=hc(dd,"onSelect"),0<c.length&&(n=new ko("onSelect","select",null,n,i),e.push({event:n,listeners:c}),n.target=Us)))}function ls(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var $s={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionrun:ls("Transition","TransitionRun"),transitionstart:ls("Transition","TransitionStart"),transitioncancel:ls("Transition","TransitionCancel"),transitionend:ls("Transition","TransitionEnd")},fd={},lx={};qn&&(lx=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function is(e){if(fd[e])return fd[e];if(!$s[e])return e;var n=$s[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in lx)return fd[e]=n[i];return e}var ix=is("animationend"),ox=is("animationiteration"),cx=is("animationstart"),kN=is("transitionrun"),DN=is("transitionstart"),MN=is("transitioncancel"),ux=is("transitionend"),dx=new Map,pd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pd.push("scrollEnd");function sn(e,n){dx.set(e,n),rs(n,[e])}var Ao=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ga=[],Vs=0,xd=0;function To(){for(var e=Vs,n=xd=Vs=0;n<e;){var i=Ga[n];Ga[n++]=null;var c=Ga[n];Ga[n++]=null;var f=Ga[n];Ga[n++]=null;var h=Ga[n];if(Ga[n++]=null,c!==null&&f!==null){var C=c.pending;C===null?f.next=f:(f.next=C.next,C.next=f),c.pending=f}h!==0&&mx(i,f,h)}}function Eo(e,n,i,c){Ga[Vs++]=e,Ga[Vs++]=n,Ga[Vs++]=i,Ga[Vs++]=c,xd|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function hd(e,n,i,c){return Eo(e,n,i,c),_o(e)}function os(e,n){return Eo(e,null,null,n),_o(e)}function mx(e,n,i){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i);for(var f=!1,h=e.return;h!==null;)h.childLanes|=i,c=h.alternate,c!==null&&(c.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(f=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,f&&n!==null&&(f=31-Ie(i),e=h.hiddenUpdates,c=e[f],c===null?e[f]=[n]:c.push(n),n.lane=i|536870912),h):null}function _o(e){if(50<Mi)throw Mi=0,Cm=null,Error(t(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Gs={};function AN(e,n,i,c){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _a(e,n,i,c){return new AN(e,n,i,c)}function vd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Un(e,n){var i=e.alternate;return i===null?(i=_a(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function fx(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Oo(e,n,i,c,f,h){var C=0;if(c=e,typeof e=="function")vd(e)&&(C=1);else if(typeof e=="string")C=Rj(e,i,fe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case z:return e=_a(31,i,n,f),e.elementType=z,e.lanes=h,e;case S:return cs(i.children,f,h,n);case g:C=8,f|=24;break;case j:return e=_a(12,i,n,f|2),e.elementType=j,e.lanes=h,e;case T:return e=_a(13,i,n,f),e.elementType=T,e.lanes=h,e;case H:return e=_a(19,i,n,f),e.elementType=H,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:C=10;break e;case D:C=9;break e;case O:C=11;break e;case I:C=14;break e;case R:C=16,c=null;break e}C=29,i=Error(t(130,e===null?"null":typeof e,"")),c=null}return n=_a(C,i,n,f),n.elementType=e,n.type=c,n.lanes=h,n}function cs(e,n,i,c){return e=_a(7,e,c,n),e.lanes=i,e}function bd(e,n,i){return e=_a(6,e,null,n),e.lanes=i,e}function px(e){var n=_a(18,null,null,0);return n.stateNode=e,n}function gd(e,n,i){return n=_a(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var xx=new WeakMap;function Qa(e,n){if(typeof e=="object"&&e!==null){var i=xx.get(e);return i!==void 0?i:(n={value:e,source:n,stack:qa(n)},xx.set(e,n),n)}return{value:e,source:n,stack:qa(n)}}var Qs=[],Ks=0,Ro=null,ii=0,Ka=[],Xa=0,Sr=null,yn=1,Nn="";function $n(e,n){Qs[Ks++]=ii,Qs[Ks++]=Ro,Ro=e,ii=n}function hx(e,n,i){Ka[Xa++]=yn,Ka[Xa++]=Nn,Ka[Xa++]=Sr,Sr=e;var c=yn;e=Nn;var f=32-Ie(c)-1;c&=~(1<<f),i+=1;var h=32-Ie(n)+f;if(30<h){var C=f-f%5;h=(c&(1<<C)-1).toString(32),c>>=C,f-=C,yn=1<<32-Ie(n)+f|i<<f|c,Nn=h+e}else yn=1<<h|i<<f|c,Nn=e}function yd(e){e.return!==null&&($n(e,1),hx(e,1,0))}function Nd(e){for(;e===Ro;)Ro=Qs[--Ks],Qs[Ks]=null,ii=Qs[--Ks],Qs[Ks]=null;for(;e===Sr;)Sr=Ka[--Xa],Ka[Xa]=null,Nn=Ka[--Xa],Ka[Xa]=null,yn=Ka[--Xa],Ka[Xa]=null}function vx(e,n){Ka[Xa++]=yn,Ka[Xa++]=Nn,Ka[Xa++]=Sr,yn=n.id,Nn=n.overflow,Sr=e}var Qt=null,bt=null,Je=!1,Cr=null,Wa=!1,jd=Error(t(519));function kr(e){var n=Error(t(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw oi(Qa(n,e)),jd}function bx(e){var n=e.stateNode,i=e.type,c=e.memoizedProps;switch(n[Ht]=e,n[na]=c,i){case"dialog":Ge("cancel",n),Ge("close",n);break;case"iframe":case"object":case"embed":Ge("load",n);break;case"video":case"audio":for(i=0;i<Ti.length;i++)Ge(Ti[i],n);break;case"source":Ge("error",n);break;case"img":case"image":case"link":Ge("error",n),Ge("load",n);break;case"details":Ge("toggle",n);break;case"input":Ge("invalid",n),Ep(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ge("invalid",n);break;case"textarea":Ge("invalid",n),Op(n,c.value,c.defaultValue,c.children)}i=c.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||c.suppressHydrationWarning===!0||Lv(n.textContent,i)?(c.popover!=null&&(Ge("beforetoggle",n),Ge("toggle",n)),c.onScroll!=null&&Ge("scroll",n),c.onScrollEnd!=null&&Ge("scrollend",n),c.onClick!=null&&(n.onclick=Yn),n=!0):n=!1,n||kr(e,!0)}function gx(e){for(Qt=e.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Wa=!1;return;case 27:case 3:Wa=!0;return;default:Qt=Qt.return}}function Xs(e){if(e!==Qt)return!1;if(!Je)return gx(e),Je=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Bm(e.type,e.memoizedProps)),i=!i),i&&bt&&kr(e),gx(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(t(317));bt=Uv(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(t(317));bt=Uv(e)}else n===27?(n=bt,Br(e.type)?(e=$m,$m=null,bt=e):bt=n):bt=Qt?Ja(e.stateNode.nextSibling):null;return!0}function us(){bt=Qt=null,Je=!1}function wd(){var e=Cr;return e!==null&&(ja===null?ja=e:ja.push.apply(ja,e),Cr=null),e}function oi(e){Cr===null?Cr=[e]:Cr.push(e)}var Sd=P(null),ds=null,Vn=null;function Dr(e,n,i){me(Sd,n._currentValue),n._currentValue=i}function Gn(e){e._currentValue=Sd.current,J(Sd)}function Cd(e,n,i){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===i)break;e=e.return}}function kd(e,n,i,c){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var h=f.dependencies;if(h!==null){var C=f.child;h=h.firstContext;e:for(;h!==null;){var E=h;h=f;for(var F=0;F<n.length;F++)if(E.context===n[F]){h.lanes|=i,E=h.alternate,E!==null&&(E.lanes|=i),Cd(h.return,i,e),c||(C=null);break e}h=E.next}}else if(f.tag===18){if(C=f.return,C===null)throw Error(t(341));C.lanes|=i,h=C.alternate,h!==null&&(h.lanes|=i),Cd(C,i,e),C=null}else C=f.child;if(C!==null)C.return=f;else for(C=f;C!==null;){if(C===e){C=null;break}if(f=C.sibling,f!==null){f.return=C.return,C=f;break}C=C.return}f=C}}function Ws(e,n,i,c){e=null;for(var f=n,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var C=f.alternate;if(C===null)throw Error(t(387));if(C=C.memoizedProps,C!==null){var E=f.type;Ea(f.pendingProps.value,C.value)||(e!==null?e.push(E):e=[E])}}else if(f===we.current){if(C=f.alternate,C===null)throw Error(t(387));C.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Li):e=[Li])}f=f.return}e!==null&&kd(n,e,i,c),n.flags|=262144}function Lo(e){for(e=e.firstContext;e!==null;){if(!Ea(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ms(e){ds=e,Vn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Kt(e){return yx(ds,e)}function Io(e,n){return ds===null&&ms(e),yx(e,n)}function yx(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},Vn===null){if(e===null)throw Error(t(308));Vn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Vn=Vn.next=n;return i}var TN=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},EN=s.unstable_scheduleCallback,_N=s.unstable_NormalPriority,Pt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dd(){return{controller:new TN,data:new Map,refCount:0}}function ci(e){e.refCount--,e.refCount===0&&EN(_N,function(){e.controller.abort()})}var ui=null,Md=0,Zs=0,Js=null;function ON(e,n){if(ui===null){var i=ui=[];Md=0,Zs=Em(),Js={status:"pending",value:void 0,then:function(c){i.push(c)}}}return Md++,n.then(Nx,Nx),n}function Nx(){if(--Md===0&&ui!==null){Js!==null&&(Js.status="fulfilled");var e=ui;ui=null,Zs=0,Js=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function RN(e,n){var i=[],c={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var f=0;f<i.length;f++)(0,i[f])(n)},function(f){for(c.status="rejected",c.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),c}var jx=q.S;q.S=function(e,n){sv=Lt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&ON(e,n),jx!==null&&jx(e,n)};var fs=P(null);function Ad(){var e=fs.current;return e!==null?e:xt.pooledCache}function Po(e,n){n===null?me(fs,fs.current):me(fs,n.pool)}function wx(){var e=Ad();return e===null?null:{parent:Pt._currentValue,pool:e}}var el=Error(t(460)),Td=Error(t(474)),zo=Error(t(542)),Fo={then:function(){}};function Sx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Cx(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(Yn,Yn),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Dx(e),e;default:if(typeof n.status=="string")n.then(Yn,Yn);else{if(e=xt,e!==null&&100<e.shellSuspendCounter)throw Error(t(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=c}},function(c){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Dx(e),e}throw xs=n,el}}function ps(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(xs=i,el):i}}var xs=null;function kx(){if(xs===null)throw Error(t(459));var e=xs;return xs=null,e}function Dx(e){if(e===el||e===zo)throw Error(t(483))}var tl=null,di=0;function Bo(e){var n=di;return di+=1,tl===null&&(tl=[]),Cx(tl,e,n)}function mi(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ho(e,n){throw n.$$typeof===y?Error(t(525)):(e=Object.prototype.toString.call(n),Error(t(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Mx(e){function n($,Y){if(e){var K=$.deletions;K===null?($.deletions=[Y],$.flags|=16):K.push(Y)}}function i($,Y){if(!e)return null;for(;Y!==null;)n($,Y),Y=Y.sibling;return null}function c($){for(var Y=new Map;$!==null;)$.key!==null?Y.set($.key,$):Y.set($.index,$),$=$.sibling;return Y}function f($,Y){return $=Un($,Y),$.index=0,$.sibling=null,$}function h($,Y,K){return $.index=K,e?(K=$.alternate,K!==null?(K=K.index,K<Y?($.flags|=67108866,Y):K):($.flags|=67108866,Y)):($.flags|=1048576,Y)}function C($){return e&&$.alternate===null&&($.flags|=67108866),$}function E($,Y,K,ce){return Y===null||Y.tag!==6?(Y=bd(K,$.mode,ce),Y.return=$,Y):(Y=f(Y,K),Y.return=$,Y)}function F($,Y,K,ce){var Te=K.type;return Te===S?se($,Y,K.props.children,ce,K.key):Y!==null&&(Y.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===R&&ps(Te)===Y.type)?(Y=f(Y,K.props),mi(Y,K),Y.return=$,Y):(Y=Oo(K.type,K.key,K.props,null,$.mode,ce),mi(Y,K),Y.return=$,Y)}function X($,Y,K,ce){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==K.containerInfo||Y.stateNode.implementation!==K.implementation?(Y=gd(K,$.mode,ce),Y.return=$,Y):(Y=f(Y,K.children||[]),Y.return=$,Y)}function se($,Y,K,ce,Te){return Y===null||Y.tag!==7?(Y=cs(K,$.mode,ce,Te),Y.return=$,Y):(Y=f(Y,K),Y.return=$,Y)}function ue($,Y,K){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=bd(""+Y,$.mode,K),Y.return=$,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return K=Oo(Y.type,Y.key,Y.props,null,$.mode,K),mi(K,Y),K.return=$,K;case M:return Y=gd(Y,$.mode,K),Y.return=$,Y;case R:return Y=ps(Y),ue($,Y,K)}if(re(Y)||A(Y))return Y=cs(Y,$.mode,K,null),Y.return=$,Y;if(typeof Y.then=="function")return ue($,Bo(Y),K);if(Y.$$typeof===k)return ue($,Io($,Y),K);Ho($,Y)}return null}function W($,Y,K,ce){var Te=Y!==null?Y.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Te!==null?null:E($,Y,""+K,ce);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return K.key===Te?F($,Y,K,ce):null;case M:return K.key===Te?X($,Y,K,ce):null;case R:return K=ps(K),W($,Y,K,ce)}if(re(K)||A(K))return Te!==null?null:se($,Y,K,ce,null);if(typeof K.then=="function")return W($,Y,Bo(K),ce);if(K.$$typeof===k)return W($,Y,Io($,K),ce);Ho($,K)}return null}function te($,Y,K,ce,Te){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return $=$.get(K)||null,E(Y,$,""+ce,Te);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case w:return $=$.get(ce.key===null?K:ce.key)||null,F(Y,$,ce,Te);case M:return $=$.get(ce.key===null?K:ce.key)||null,X(Y,$,ce,Te);case R:return ce=ps(ce),te($,Y,K,ce,Te)}if(re(ce)||A(ce))return $=$.get(K)||null,se(Y,$,ce,Te,null);if(typeof ce.then=="function")return te($,Y,K,Bo(ce),Te);if(ce.$$typeof===k)return te($,Y,K,Io(Y,ce),Te);Ho(Y,ce)}return null}function Ce($,Y,K,ce){for(var Te=null,at=null,De=Y,Ye=Y=0,We=null;De!==null&&Ye<K.length;Ye++){De.index>Ye?(We=De,De=null):We=De.sibling;var nt=W($,De,K[Ye],ce);if(nt===null){De===null&&(De=We);break}e&&De&&nt.alternate===null&&n($,De),Y=h(nt,Y,Ye),at===null?Te=nt:at.sibling=nt,at=nt,De=We}if(Ye===K.length)return i($,De),Je&&$n($,Ye),Te;if(De===null){for(;Ye<K.length;Ye++)De=ue($,K[Ye],ce),De!==null&&(Y=h(De,Y,Ye),at===null?Te=De:at.sibling=De,at=De);return Je&&$n($,Ye),Te}for(De=c(De);Ye<K.length;Ye++)We=te(De,$,Ye,K[Ye],ce),We!==null&&(e&&We.alternate!==null&&De.delete(We.key===null?Ye:We.key),Y=h(We,Y,Ye),at===null?Te=We:at.sibling=We,at=We);return e&&De.forEach(function($r){return n($,$r)}),Je&&$n($,Ye),Te}function _e($,Y,K,ce){if(K==null)throw Error(t(151));for(var Te=null,at=null,De=Y,Ye=Y=0,We=null,nt=K.next();De!==null&&!nt.done;Ye++,nt=K.next()){De.index>Ye?(We=De,De=null):We=De.sibling;var $r=W($,De,nt.value,ce);if($r===null){De===null&&(De=We);break}e&&De&&$r.alternate===null&&n($,De),Y=h($r,Y,Ye),at===null?Te=$r:at.sibling=$r,at=$r,De=We}if(nt.done)return i($,De),Je&&$n($,Ye),Te;if(De===null){for(;!nt.done;Ye++,nt=K.next())nt=ue($,nt.value,ce),nt!==null&&(Y=h(nt,Y,Ye),at===null?Te=nt:at.sibling=nt,at=nt);return Je&&$n($,Ye),Te}for(De=c(De);!nt.done;Ye++,nt=K.next())nt=te(De,$,Ye,nt.value,ce),nt!==null&&(e&&nt.alternate!==null&&De.delete(nt.key===null?Ye:nt.key),Y=h(nt,Y,Ye),at===null?Te=nt:at.sibling=nt,at=nt);return e&&De.forEach(function($j){return n($,$j)}),Je&&$n($,Ye),Te}function ft($,Y,K,ce){if(typeof K=="object"&&K!==null&&K.type===S&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case w:e:{for(var Te=K.key;Y!==null;){if(Y.key===Te){if(Te=K.type,Te===S){if(Y.tag===7){i($,Y.sibling),ce=f(Y,K.props.children),ce.return=$,$=ce;break e}}else if(Y.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===R&&ps(Te)===Y.type){i($,Y.sibling),ce=f(Y,K.props),mi(ce,K),ce.return=$,$=ce;break e}i($,Y);break}else n($,Y);Y=Y.sibling}K.type===S?(ce=cs(K.props.children,$.mode,ce,K.key),ce.return=$,$=ce):(ce=Oo(K.type,K.key,K.props,null,$.mode,ce),mi(ce,K),ce.return=$,$=ce)}return C($);case M:e:{for(Te=K.key;Y!==null;){if(Y.key===Te)if(Y.tag===4&&Y.stateNode.containerInfo===K.containerInfo&&Y.stateNode.implementation===K.implementation){i($,Y.sibling),ce=f(Y,K.children||[]),ce.return=$,$=ce;break e}else{i($,Y);break}else n($,Y);Y=Y.sibling}ce=gd(K,$.mode,ce),ce.return=$,$=ce}return C($);case R:return K=ps(K),ft($,Y,K,ce)}if(re(K))return Ce($,Y,K,ce);if(A(K)){if(Te=A(K),typeof Te!="function")throw Error(t(150));return K=Te.call(K),_e($,Y,K,ce)}if(typeof K.then=="function")return ft($,Y,Bo(K),ce);if(K.$$typeof===k)return ft($,Y,Io($,K),ce);Ho($,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,Y!==null&&Y.tag===6?(i($,Y.sibling),ce=f(Y,K),ce.return=$,$=ce):(i($,Y),ce=bd(K,$.mode,ce),ce.return=$,$=ce),C($)):i($,Y)}return function($,Y,K,ce){try{di=0;var Te=ft($,Y,K,ce);return tl=null,Te}catch(De){if(De===el||De===zo)throw De;var at=_a(29,De,null,$.mode);return at.lanes=ce,at.return=$,at}}}var hs=Mx(!0),Ax=Mx(!1),Mr=!1;function Ed(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _d(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ar(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Tr(e,n,i){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(st&2)!==0){var f=c.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),c.pending=n,n=_o(e),mx(e,null,i),n}return Eo(e,c,n,i),_o(e)}function fi(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,i|=c,n.lanes=i,yr(e,i)}}function Od(e,n){var i=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var f=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var C={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?f=h=C:h=h.next=C,i=i.next}while(i!==null);h===null?f=h=n:h=h.next=n}else f=h=n;i={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:c.shared,callbacks:c.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Rd=!1;function pi(){if(Rd){var e=Js;if(e!==null)throw e}}function xi(e,n,i,c){Rd=!1;var f=e.updateQueue;Mr=!1;var h=f.firstBaseUpdate,C=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var F=E,X=F.next;F.next=null,C===null?h=X:C.next=X,C=F;var se=e.alternate;se!==null&&(se=se.updateQueue,E=se.lastBaseUpdate,E!==C&&(E===null?se.firstBaseUpdate=X:E.next=X,se.lastBaseUpdate=F))}if(h!==null){var ue=f.baseState;C=0,se=X=F=null,E=h;do{var W=E.lane&-536870913,te=W!==E.lane;if(te?(Xe&W)===W:(c&W)===W){W!==0&&W===Zs&&(Rd=!0),se!==null&&(se=se.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Ce=e,_e=E;W=n;var ft=i;switch(_e.tag){case 1:if(Ce=_e.payload,typeof Ce=="function"){ue=Ce.call(ft,ue,W);break e}ue=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=_e.payload,W=typeof Ce=="function"?Ce.call(ft,ue,W):Ce,W==null)break e;ue=b({},ue,W);break e;case 2:Mr=!0}}W=E.callback,W!==null&&(e.flags|=64,te&&(e.flags|=8192),te=f.callbacks,te===null?f.callbacks=[W]:te.push(W))}else te={lane:W,tag:E.tag,payload:E.payload,callback:E.callback,next:null},se===null?(X=se=te,F=ue):se=se.next=te,C|=W;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;te=E,E=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);se===null&&(F=ue),f.baseState=F,f.firstBaseUpdate=X,f.lastBaseUpdate=se,h===null&&(f.shared.lanes=0),Lr|=C,e.lanes=C,e.memoizedState=ue}}function Tx(e,n){if(typeof e!="function")throw Error(t(191,e));e.call(n)}function Ex(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Tx(i[e],n)}var al=P(null),Yo=P(0);function _x(e,n){e=ar,me(Yo,e),me(al,n),ar=e|n.baseLanes}function Ld(){me(Yo,ar),me(al,al.current)}function Id(){ar=Yo.current,J(al),J(Yo)}var Oa=P(null),Za=null;function Er(e){var n=e.alternate;me(At,At.current&1),me(Oa,e),Za===null&&(n===null||al.current!==null||n.memoizedState!==null)&&(Za=e)}function Pd(e){me(At,At.current),me(Oa,e),Za===null&&(Za=e)}function Ox(e){e.tag===22?(me(At,At.current),me(Oa,e),Za===null&&(Za=e)):_r()}function _r(){me(At,At.current),me(Oa,Oa.current)}function Ra(e){J(Oa),Za===e&&(Za=null),J(At)}var At=P(0);function qo(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||qm(i)||Um(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qn=0,Be=null,dt=null,zt=null,Uo=!1,nl=!1,vs=!1,$o=0,hi=0,rl=null,LN=0;function kt(){throw Error(t(321))}function zd(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Ea(e[i],n[i]))return!1;return!0}function Fd(e,n,i,c,f,h){return Qn=h,Be=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?hh:em,vs=!1,h=i(c,f),vs=!1,nl&&(h=Lx(n,i,c,f)),Rx(e),h}function Rx(e){q.H=gi;var n=dt!==null&&dt.next!==null;if(Qn=0,zt=dt=Be=null,Uo=!1,hi=0,rl=null,n)throw Error(t(300));e===null||Ft||(e=e.dependencies,e!==null&&Lo(e)&&(Ft=!0))}function Lx(e,n,i,c){Be=e;var f=0;do{if(nl&&(rl=null),hi=0,nl=!1,25<=f)throw Error(t(301));if(f+=1,zt=dt=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}q.H=vh,h=n(i,c)}while(nl);return h}function IN(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?vi(n):n,e=e.useState()[0],(dt!==null?dt.memoizedState:null)!==e&&(Be.flags|=1024),n}function Bd(){var e=$o!==0;return $o=0,e}function Hd(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Yd(e){if(Uo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Uo=!1}Qn=0,zt=dt=Be=null,nl=!1,hi=$o=0,rl=null}function ma(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Be.memoizedState=zt=e:zt=zt.next=e,zt}function Tt(){if(dt===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var n=zt===null?Be.memoizedState:zt.next;if(n!==null)zt=n,dt=e;else{if(e===null)throw Be.alternate===null?Error(t(467)):Error(t(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},zt===null?Be.memoizedState=zt=e:zt=zt.next=e}return zt}function Vo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vi(e){var n=hi;return hi+=1,rl===null&&(rl=[]),e=Cx(rl,e,n),n=Be,(zt===null?n.memoizedState:zt.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?hh:em),e}function Go(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vi(e);if(e.$$typeof===k)return Kt(e)}throw Error(t(438,String(e)))}function qd(e){var n=null,i=Be.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var c=Be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Vo(),Be.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),c=0;c<e;c++)i[c]=L;return n.index++,i}function Kn(e,n){return typeof n=="function"?n(e):n}function Qo(e){var n=Tt();return Ud(n,dt,e)}function Ud(e,n,i){var c=e.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var f=e.baseQueue,h=c.pending;if(h!==null){if(f!==null){var C=f.next;f.next=h.next,h.next=C}n.baseQueue=f=h,c.pending=null}if(h=e.baseState,f===null)e.memoizedState=h;else{n=f.next;var E=C=null,F=null,X=n,se=!1;do{var ue=X.lane&-536870913;if(ue!==X.lane?(Xe&ue)===ue:(Qn&ue)===ue){var W=X.revertLane;if(W===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ue===Zs&&(se=!0);else if((Qn&W)===W){X=X.next,W===Zs&&(se=!0);continue}else ue={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},F===null?(E=F=ue,C=h):F=F.next=ue,Be.lanes|=W,Lr|=W;ue=X.action,vs&&i(h,ue),h=X.hasEagerState?X.eagerState:i(h,ue)}else W={lane:ue,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},F===null?(E=F=W,C=h):F=F.next=W,Be.lanes|=ue,Lr|=ue;X=X.next}while(X!==null&&X!==n);if(F===null?C=h:F.next=E,!Ea(h,e.memoizedState)&&(Ft=!0,se&&(i=Js,i!==null)))throw i;e.memoizedState=h,e.baseState=C,e.baseQueue=F,c.lastRenderedState=h}return f===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function $d(e){var n=Tt(),i=n.queue;if(i===null)throw Error(t(311));i.lastRenderedReducer=e;var c=i.dispatch,f=i.pending,h=n.memoizedState;if(f!==null){i.pending=null;var C=f=f.next;do h=e(h,C.action),C=C.next;while(C!==f);Ea(h,n.memoizedState)||(Ft=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),i.lastRenderedState=h}return[h,c]}function Ix(e,n,i){var c=Be,f=Tt(),h=Je;if(h){if(i===void 0)throw Error(t(407));i=i()}else i=n();var C=!Ea((dt||f).memoizedState,i);if(C&&(f.memoizedState=i,Ft=!0),f=f.queue,Qd(Fx.bind(null,c,f,e),[e]),f.getSnapshot!==n||C||zt!==null&&zt.memoizedState.tag&1){if(c.flags|=2048,sl(9,{destroy:void 0},zx.bind(null,c,f,i,n),null),xt===null)throw Error(t(349));h||(Qn&127)!==0||Px(c,n,i)}return i}function Px(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Be.updateQueue,n===null?(n=Vo(),Be.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function zx(e,n,i,c){n.value=i,n.getSnapshot=c,Bx(n)&&Hx(e)}function Fx(e,n,i){return i(function(){Bx(n)&&Hx(e)})}function Bx(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Ea(e,i)}catch{return!0}}function Hx(e){var n=os(e,2);n!==null&&wa(n,e,2)}function Vd(e){var n=ma();if(typeof e=="function"){var i=e;if(e=i(),vs){et(!0);try{i()}finally{et(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:e},n}function Yx(e,n,i,c){return e.baseState=i,Ud(e,dt,typeof c=="function"?c:Kn)}function PN(e,n,i,c,f){if(Wo(e))throw Error(t(485));if(e=n.action,e!==null){var h={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){h.listeners.push(C)}};q.T!==null?i(!0):h.isTransition=!1,c(h),i=n.pending,i===null?(h.next=n.pending=h,qx(n,h)):(h.next=i.next,n.pending=i.next=h)}}function qx(e,n){var i=n.action,c=n.payload,f=e.state;if(n.isTransition){var h=q.T,C={};q.T=C;try{var E=i(f,c),F=q.S;F!==null&&F(C,E),Ux(e,n,E)}catch(X){Gd(e,n,X)}finally{h!==null&&C.types!==null&&(h.types=C.types),q.T=h}}else try{h=i(f,c),Ux(e,n,h)}catch(X){Gd(e,n,X)}}function Ux(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(c){$x(e,n,c)},function(c){return Gd(e,n,c)}):$x(e,n,i)}function $x(e,n,i){n.status="fulfilled",n.value=i,Vx(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,qx(e,i)))}function Gd(e,n,i){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=i,Vx(n),n=n.next;while(n!==c)}e.action=null}function Vx(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Gx(e,n){return n}function Qx(e,n){if(Je){var i=xt.formState;if(i!==null){e:{var c=Be;if(Je){if(bt){t:{for(var f=bt,h=Wa;f.nodeType!==8;){if(!h){f=null;break t}if(f=Ja(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){bt=Ja(f.nextSibling),c=f.data==="F!";break e}}kr(c)}c=!1}c&&(n=i[0])}}return i=ma(),i.memoizedState=i.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gx,lastRenderedState:n},i.queue=c,i=fh.bind(null,Be,c),c.dispatch=i,c=Vd(!1),h=Jd.bind(null,Be,!1,c.queue),c=ma(),f={state:n,dispatch:null,action:e,pending:null},c.queue=f,i=PN.bind(null,Be,f,h,i),f.dispatch=i,c.memoizedState=e,[n,i,!1]}function Kx(e){var n=Tt();return Xx(n,dt,e)}function Xx(e,n,i){if(n=Ud(e,n,Gx)[0],e=Qo(Kn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=vi(n)}catch(C){throw C===el?zo:C}else c=n;n=Tt();var f=n.queue,h=f.dispatch;return i!==n.memoizedState&&(Be.flags|=2048,sl(9,{destroy:void 0},zN.bind(null,f,i),null)),[c,h,e]}function zN(e,n){e.action=n}function Wx(e){var n=Tt(),i=dt;if(i!==null)return Xx(n,i,e);Tt(),n=n.memoizedState,i=Tt();var c=i.queue.dispatch;return i.memoizedState=e,[n,c,!1]}function sl(e,n,i,c){return e={tag:e,create:i,deps:c,inst:n,next:null},n=Be.updateQueue,n===null&&(n=Vo(),Be.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(c=i.next,i.next=e,e.next=c,n.lastEffect=e),e}function Zx(){return Tt().memoizedState}function Ko(e,n,i,c){var f=ma();Be.flags|=e,f.memoizedState=sl(1|n,{destroy:void 0},i,c===void 0?null:c)}function Xo(e,n,i,c){var f=Tt();c=c===void 0?null:c;var h=f.memoizedState.inst;dt!==null&&c!==null&&zd(c,dt.memoizedState.deps)?f.memoizedState=sl(n,h,i,c):(Be.flags|=e,f.memoizedState=sl(1|n,h,i,c))}function Jx(e,n){Ko(8390656,8,e,n)}function Qd(e,n){Xo(2048,8,e,n)}function FN(e){Be.flags|=4;var n=Be.updateQueue;if(n===null)n=Vo(),Be.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function eh(e){var n=Tt().memoizedState;return FN({ref:n,nextImpl:e}),function(){if((st&2)!==0)throw Error(t(440));return n.impl.apply(void 0,arguments)}}function th(e,n){return Xo(4,2,e,n)}function ah(e,n){return Xo(4,4,e,n)}function nh(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function rh(e,n,i){i=i!=null?i.concat([e]):null,Xo(4,4,nh.bind(null,n,e),i)}function Kd(){}function sh(e,n){var i=Tt();n=n===void 0?null:n;var c=i.memoizedState;return n!==null&&zd(n,c[1])?c[0]:(i.memoizedState=[e,n],e)}function lh(e,n){var i=Tt();n=n===void 0?null:n;var c=i.memoizedState;if(n!==null&&zd(n,c[1]))return c[0];if(c=e(),vs){et(!0);try{e()}finally{et(!1)}}return i.memoizedState=[c,n],c}function Xd(e,n,i){return i===void 0||(Qn&1073741824)!==0&&(Xe&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=iv(),Be.lanes|=e,Lr|=e,i)}function ih(e,n,i,c){return Ea(i,n)?i:al.current!==null?(e=Xd(e,i,c),Ea(e,n)||(Ft=!0),e):(Qn&42)===0||(Qn&1073741824)!==0&&(Xe&261930)===0?(Ft=!0,e.memoizedState=i):(e=iv(),Be.lanes|=e,Lr|=e,n)}function oh(e,n,i,c,f){var h=Z.p;Z.p=h!==0&&8>h?h:8;var C=q.T,E={};q.T=E,Jd(e,!1,n,i);try{var F=f(),X=q.S;if(X!==null&&X(E,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var se=RN(F,c);bi(e,n,se,Pa(e))}else bi(e,n,c,Pa(e))}catch(ue){bi(e,n,{then:function(){},status:"rejected",reason:ue},Pa())}finally{Z.p=h,C!==null&&E.types!==null&&(C.types=E.types),q.T=C}}function BN(){}function Wd(e,n,i,c){if(e.tag!==5)throw Error(t(476));var f=ch(e).queue;oh(e,f,n,_,i===null?BN:function(){return uh(e),i(c)})}function ch(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:_},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function uh(e){var n=ch(e);n.next===null&&(n=e.alternate.memoizedState),bi(e,n.next.queue,{},Pa())}function Zd(){return Kt(Li)}function dh(){return Tt().memoizedState}function mh(){return Tt().memoizedState}function HN(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=Pa();e=Ar(i);var c=Tr(n,e,i);c!==null&&(wa(c,n,i),fi(c,n,i)),n={cache:Dd()},e.payload=n;return}n=n.return}}function YN(e,n,i){var c=Pa();i={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Wo(e)?ph(n,i):(i=hd(e,n,i,c),i!==null&&(wa(i,e,c),xh(i,n,c)))}function fh(e,n,i){var c=Pa();bi(e,n,i,c)}function bi(e,n,i,c){var f={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Wo(e))ph(n,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var C=n.lastRenderedState,E=h(C,i);if(f.hasEagerState=!0,f.eagerState=E,Ea(E,C))return Eo(e,n,f,0),xt===null&&To(),!1}catch{}if(i=hd(e,n,f,c),i!==null)return wa(i,e,c),xh(i,n,c),!0}return!1}function Jd(e,n,i,c){if(c={lane:2,revertLane:Em(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Wo(e)){if(n)throw Error(t(479))}else n=hd(e,i,c,2),n!==null&&wa(n,e,2)}function Wo(e){var n=e.alternate;return e===Be||n!==null&&n===Be}function ph(e,n){nl=Uo=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function xh(e,n,i){if((i&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,i|=c,n.lanes=i,yr(e,i)}}var gi={readContext:Kt,use:Go,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt};gi.useEffectEvent=kt;var hh={readContext:Kt,use:Go,useCallback:function(e,n){return ma().memoizedState=[e,n===void 0?null:n],e},useContext:Kt,useEffect:Jx,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Ko(4194308,4,nh.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Ko(4194308,4,e,n)},useInsertionEffect:function(e,n){Ko(4,2,e,n)},useMemo:function(e,n){var i=ma();n=n===void 0?null:n;var c=e();if(vs){et(!0);try{e()}finally{et(!1)}}return i.memoizedState=[c,n],c},useReducer:function(e,n,i){var c=ma();if(i!==void 0){var f=i(n);if(vs){et(!0);try{i(n)}finally{et(!1)}}}else f=n;return c.memoizedState=c.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},c.queue=e,e=e.dispatch=YN.bind(null,Be,e),[c.memoizedState,e]},useRef:function(e){var n=ma();return e={current:e},n.memoizedState=e},useState:function(e){e=Vd(e);var n=e.queue,i=fh.bind(null,Be,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:Kd,useDeferredValue:function(e,n){var i=ma();return Xd(i,e,n)},useTransition:function(){var e=Vd(!1);return e=oh.bind(null,Be,e.queue,!0,!1),ma().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var c=Be,f=ma();if(Je){if(i===void 0)throw Error(t(407));i=i()}else{if(i=n(),xt===null)throw Error(t(349));(Xe&127)!==0||Px(c,n,i)}f.memoizedState=i;var h={value:i,getSnapshot:n};return f.queue=h,Jx(Fx.bind(null,c,h,e),[e]),c.flags|=2048,sl(9,{destroy:void 0},zx.bind(null,c,h,i,n),null),i},useId:function(){var e=ma(),n=xt.identifierPrefix;if(Je){var i=Nn,c=yn;i=(c&~(1<<32-Ie(c)-1)).toString(32)+i,n="_"+n+"R_"+i,i=$o++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=LN++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Zd,useFormState:Qx,useActionState:Qx,useOptimistic:function(e){var n=ma();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Jd.bind(null,Be,!0,i),i.dispatch=n,[e,n]},useMemoCache:qd,useCacheRefresh:function(){return ma().memoizedState=HN.bind(null,Be)},useEffectEvent:function(e){var n=ma(),i={impl:e};return n.memoizedState=i,function(){if((st&2)!==0)throw Error(t(440));return i.impl.apply(void 0,arguments)}}},em={readContext:Kt,use:Go,useCallback:sh,useContext:Kt,useEffect:Qd,useImperativeHandle:rh,useInsertionEffect:th,useLayoutEffect:ah,useMemo:lh,useReducer:Qo,useRef:Zx,useState:function(){return Qo(Kn)},useDebugValue:Kd,useDeferredValue:function(e,n){var i=Tt();return ih(i,dt.memoizedState,e,n)},useTransition:function(){var e=Qo(Kn)[0],n=Tt().memoizedState;return[typeof e=="boolean"?e:vi(e),n]},useSyncExternalStore:Ix,useId:dh,useHostTransitionStatus:Zd,useFormState:Kx,useActionState:Kx,useOptimistic:function(e,n){var i=Tt();return Yx(i,dt,e,n)},useMemoCache:qd,useCacheRefresh:mh};em.useEffectEvent=eh;var vh={readContext:Kt,use:Go,useCallback:sh,useContext:Kt,useEffect:Qd,useImperativeHandle:rh,useInsertionEffect:th,useLayoutEffect:ah,useMemo:lh,useReducer:$d,useRef:Zx,useState:function(){return $d(Kn)},useDebugValue:Kd,useDeferredValue:function(e,n){var i=Tt();return dt===null?Xd(i,e,n):ih(i,dt.memoizedState,e,n)},useTransition:function(){var e=$d(Kn)[0],n=Tt().memoizedState;return[typeof e=="boolean"?e:vi(e),n]},useSyncExternalStore:Ix,useId:dh,useHostTransitionStatus:Zd,useFormState:Wx,useActionState:Wx,useOptimistic:function(e,n){var i=Tt();return dt!==null?Yx(i,dt,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:qd,useCacheRefresh:mh};vh.useEffectEvent=eh;function tm(e,n,i,c){n=e.memoizedState,i=i(c,n),i=i==null?n:b({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var am={enqueueSetState:function(e,n,i){e=e._reactInternals;var c=Pa(),f=Ar(c);f.payload=n,i!=null&&(f.callback=i),n=Tr(e,f,c),n!==null&&(wa(n,e,c),fi(n,e,c))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var c=Pa(),f=Ar(c);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=Tr(e,f,c),n!==null&&(wa(n,e,c),fi(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Pa(),c=Ar(i);c.tag=2,n!=null&&(c.callback=n),n=Tr(e,c,i),n!==null&&(wa(n,e,i),fi(n,e,i))}};function bh(e,n,i,c,f,h,C){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,h,C):n.prototype&&n.prototype.isPureReactComponent?!si(i,c)||!si(f,h):!0}function gh(e,n,i,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,c),n.state!==e&&am.enqueueReplaceState(n,n.state,null)}function bs(e,n){var i=n;if("ref"in n){i={};for(var c in n)c!=="ref"&&(i[c]=n[c])}if(e=e.defaultProps){i===n&&(i=b({},i));for(var f in e)i[f]===void 0&&(i[f]=e[f])}return i}function yh(e){Ao(e)}function Nh(e){console.error(e)}function jh(e){Ao(e)}function Zo(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function wh(e,n,i){try{var c=e.onCaughtError;c(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function nm(e,n,i){return i=Ar(i),i.tag=3,i.payload={element:null},i.callback=function(){Zo(e,n)},i}function Sh(e){return e=Ar(e),e.tag=3,e}function Ch(e,n,i,c){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var h=c.value;e.payload=function(){return f(h)},e.callback=function(){wh(n,i,c)}}var C=i.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(e.callback=function(){wh(n,i,c),typeof f!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function qN(e,n,i,c,f){if(i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=i.alternate,n!==null&&Ws(n,i,f,!0),i=Oa.current,i!==null){switch(i.tag){case 31:case 13:return Za===null?uc():i.alternate===null&&Dt===0&&(Dt=3),i.flags&=-257,i.flags|=65536,i.lanes=f,c===Fo?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([c]):n.add(c),Mm(e,c,f)),!1;case 22:return i.flags|=65536,c===Fo?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([c]):i.add(c)),Mm(e,c,f)),!1}throw Error(t(435,i.tag))}return Mm(e,c,f),uc(),!1}if(Je)return n=Oa.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,c!==jd&&(e=Error(t(422),{cause:c}),oi(Qa(e,i)))):(c!==jd&&(n=Error(t(423),{cause:c}),oi(Qa(n,i))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,c=Qa(c,i),f=nm(e.stateNode,c,f),Od(e,f),Dt!==4&&(Dt=2)),!1;var h=Error(t(520),{cause:c});if(h=Qa(h,i),Di===null?Di=[h]:Di.push(h),Dt!==4&&(Dt=2),n===null)return!0;c=Qa(c,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=f&-f,i.lanes|=e,e=nm(i.stateNode,c,e),Od(i,e),!1;case 1:if(n=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ir===null||!Ir.has(h))))return i.flags|=65536,f&=-f,i.lanes|=f,f=Sh(f),Ch(f,e,i,c),Od(i,f),!1}i=i.return}while(i!==null);return!1}var rm=Error(t(461)),Ft=!1;function Xt(e,n,i,c){n.child=e===null?Ax(n,null,i,c):hs(n,e.child,i,c)}function kh(e,n,i,c,f){i=i.render;var h=n.ref;if("ref"in c){var C={};for(var E in c)E!=="ref"&&(C[E]=c[E])}else C=c;return ms(n),c=Fd(e,n,i,C,h,f),E=Bd(),e!==null&&!Ft?(Hd(e,n,f),Xn(e,n,f)):(Je&&E&&yd(n),n.flags|=1,Xt(e,n,c,f),n.child)}function Dh(e,n,i,c,f){if(e===null){var h=i.type;return typeof h=="function"&&!vd(h)&&h.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=h,Mh(e,n,h,c,f)):(e=Oo(i.type,null,c,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!mm(e,f)){var C=h.memoizedProps;if(i=i.compare,i=i!==null?i:si,i(C,c)&&e.ref===n.ref)return Xn(e,n,f)}return n.flags|=1,e=Un(h,c),e.ref=n.ref,e.return=n,n.child=e}function Mh(e,n,i,c,f){if(e!==null){var h=e.memoizedProps;if(si(h,c)&&e.ref===n.ref)if(Ft=!1,n.pendingProps=c=h,mm(e,f))(e.flags&131072)!==0&&(Ft=!0);else return n.lanes=e.lanes,Xn(e,n,f)}return sm(e,n,i,c,f)}function Ah(e,n,i,c){var f=c.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~h}else c=0,n.child=null;return Th(e,n,h,i,c)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Po(n,h!==null?h.cachePool:null),h!==null?_x(n,h):Ld(),Ox(n);else return c=n.lanes=536870912,Th(e,n,h!==null?h.baseLanes|i:i,i,c)}else h!==null?(Po(n,h.cachePool),_x(n,h),_r(),n.memoizedState=null):(e!==null&&Po(n,null),Ld(),_r());return Xt(e,n,f,i),n.child}function yi(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Th(e,n,i,c,f){var h=Ad();return h=h===null?null:{parent:Pt._currentValue,pool:h},n.memoizedState={baseLanes:i,cachePool:h},e!==null&&Po(n,null),Ld(),Ox(n),e!==null&&Ws(e,n,c,!0),n.childLanes=f,null}function Jo(e,n){return n=tc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Eh(e,n,i){return hs(n,e.child,null,i),e=Jo(n,n.pendingProps),e.flags|=2,Ra(n),n.memoizedState=null,e}function UN(e,n,i){var c=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Je){if(c.mode==="hidden")return e=Jo(n,c),n.lanes=536870912,yi(null,e);if(Pd(n),(e=bt)?(e=qv(e,Wa),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Sr!==null?{id:yn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},i=px(e),i.return=n,n.child=i,Qt=n,bt=null)):e=null,e===null)throw kr(n);return n.lanes=536870912,null}return Jo(n,c)}var h=e.memoizedState;if(h!==null){var C=h.dehydrated;if(Pd(n),f)if(n.flags&256)n.flags&=-257,n=Eh(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(t(558));else if(Ft||Ws(e,n,i,!1),f=(i&e.childLanes)!==0,Ft||f){if(c=xt,c!==null&&(C=ts(c,i),C!==0&&C!==h.retryLane))throw h.retryLane=C,os(e,C),wa(c,e,C),rm;uc(),n=Eh(e,n,i)}else e=h.treeContext,bt=Ja(C.nextSibling),Qt=n,Je=!0,Cr=null,Wa=!1,e!==null&&vx(n,e),n=Jo(n,c),n.flags|=4096;return n}return e=Un(e.child,{mode:c.mode,children:c.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ec(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(t(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function sm(e,n,i,c,f){return ms(n),i=Fd(e,n,i,c,void 0,f),c=Bd(),e!==null&&!Ft?(Hd(e,n,f),Xn(e,n,f)):(Je&&c&&yd(n),n.flags|=1,Xt(e,n,i,f),n.child)}function _h(e,n,i,c,f,h){return ms(n),n.updateQueue=null,i=Lx(n,c,i,f),Rx(e),c=Bd(),e!==null&&!Ft?(Hd(e,n,h),Xn(e,n,h)):(Je&&c&&yd(n),n.flags|=1,Xt(e,n,i,h),n.child)}function Oh(e,n,i,c,f){if(ms(n),n.stateNode===null){var h=Gs,C=i.contextType;typeof C=="object"&&C!==null&&(h=Kt(C)),h=new i(c,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=am,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=c,h.state=n.memoizedState,h.refs={},Ed(n),C=i.contextType,h.context=typeof C=="object"&&C!==null?Kt(C):Gs,h.state=n.memoizedState,C=i.getDerivedStateFromProps,typeof C=="function"&&(tm(n,i,C,c),h.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(C=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),C!==h.state&&am.enqueueReplaceState(h,h.state,null),xi(n,c,h,f),pi(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){h=n.stateNode;var E=n.memoizedProps,F=bs(i,E);h.props=F;var X=h.context,se=i.contextType;C=Gs,typeof se=="object"&&se!==null&&(C=Kt(se));var ue=i.getDerivedStateFromProps;se=typeof ue=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,se||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||X!==C)&&gh(n,h,c,C),Mr=!1;var W=n.memoizedState;h.state=W,xi(n,c,h,f),pi(),X=n.memoizedState,E||W!==X||Mr?(typeof ue=="function"&&(tm(n,i,ue,c),X=n.memoizedState),(F=Mr||bh(n,i,F,c,W,X,C))?(se||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=X),h.props=c,h.state=X,h.context=C,c=F):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{h=n.stateNode,_d(e,n),C=n.memoizedProps,se=bs(i,C),h.props=se,ue=n.pendingProps,W=h.context,X=i.contextType,F=Gs,typeof X=="object"&&X!==null&&(F=Kt(X)),E=i.getDerivedStateFromProps,(X=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(C!==ue||W!==F)&&gh(n,h,c,F),Mr=!1,W=n.memoizedState,h.state=W,xi(n,c,h,f),pi();var te=n.memoizedState;C!==ue||W!==te||Mr||e!==null&&e.dependencies!==null&&Lo(e.dependencies)?(typeof E=="function"&&(tm(n,i,E,c),te=n.memoizedState),(se=Mr||bh(n,i,se,c,W,te,F)||e!==null&&e.dependencies!==null&&Lo(e.dependencies))?(X||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(c,te,F),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(c,te,F)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||C===e.memoizedProps&&W===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&W===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=te),h.props=c,h.state=te,h.context=F,c=se):(typeof h.componentDidUpdate!="function"||C===e.memoizedProps&&W===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&W===e.memoizedState||(n.flags|=1024),c=!1)}return h=c,ec(e,n),c=(n.flags&128)!==0,h||c?(h=n.stateNode,i=c&&typeof i.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&c?(n.child=hs(n,e.child,null,f),n.child=hs(n,null,i,f)):Xt(e,n,i,f),n.memoizedState=h.state,e=n.child):e=Xn(e,n,f),e}function Rh(e,n,i,c){return us(),n.flags|=256,Xt(e,n,i,c),n.child}var lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function im(e){return{baseLanes:e,cachePool:wx()}}function om(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=Ia),e}function Lh(e,n,i){var c=n.pendingProps,f=!1,h=(n.flags&128)!==0,C;if((C=h)||(C=e!==null&&e.memoizedState===null?!1:(At.current&2)!==0),C&&(f=!0,n.flags&=-129),C=(n.flags&32)!==0,n.flags&=-33,e===null){if(Je){if(f?Er(n):_r(),(e=bt)?(e=qv(e,Wa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Sr!==null?{id:yn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},i=px(e),i.return=n,n.child=i,Qt=n,bt=null)):e=null,e===null)throw kr(n);return Um(e)?n.lanes=32:n.lanes=536870912,null}var E=c.children;return c=c.fallback,f?(_r(),f=n.mode,E=tc({mode:"hidden",children:E},f),c=cs(c,f,i,null),E.return=n,c.return=n,E.sibling=c,n.child=E,c=n.child,c.memoizedState=im(i),c.childLanes=om(e,C,i),n.memoizedState=lm,yi(null,c)):(Er(n),cm(n,E))}var F=e.memoizedState;if(F!==null&&(E=F.dehydrated,E!==null)){if(h)n.flags&256?(Er(n),n.flags&=-257,n=um(e,n,i)):n.memoizedState!==null?(_r(),n.child=e.child,n.flags|=128,n=null):(_r(),E=c.fallback,f=n.mode,c=tc({mode:"visible",children:c.children},f),E=cs(E,f,i,null),E.flags|=2,c.return=n,E.return=n,c.sibling=E,n.child=c,hs(n,e.child,null,i),c=n.child,c.memoizedState=im(i),c.childLanes=om(e,C,i),n.memoizedState=lm,n=yi(null,c));else if(Er(n),Um(E)){if(C=E.nextSibling&&E.nextSibling.dataset,C)var X=C.dgst;C=X,c=Error(t(419)),c.stack="",c.digest=C,oi({value:c,source:null,stack:null}),n=um(e,n,i)}else if(Ft||Ws(e,n,i,!1),C=(i&e.childLanes)!==0,Ft||C){if(C=xt,C!==null&&(c=ts(C,i),c!==0&&c!==F.retryLane))throw F.retryLane=c,os(e,c),wa(C,e,c),rm;qm(E)||uc(),n=um(e,n,i)}else qm(E)?(n.flags|=192,n.child=e.child,n=null):(e=F.treeContext,bt=Ja(E.nextSibling),Qt=n,Je=!0,Cr=null,Wa=!1,e!==null&&vx(n,e),n=cm(n,c.children),n.flags|=4096);return n}return f?(_r(),E=c.fallback,f=n.mode,F=e.child,X=F.sibling,c=Un(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,X!==null?E=Un(X,E):(E=cs(E,f,i,null),E.flags|=2),E.return=n,c.return=n,c.sibling=E,n.child=c,yi(null,c),c=n.child,E=e.child.memoizedState,E===null?E=im(i):(f=E.cachePool,f!==null?(F=Pt._currentValue,f=f.parent!==F?{parent:F,pool:F}:f):f=wx(),E={baseLanes:E.baseLanes|i,cachePool:f}),c.memoizedState=E,c.childLanes=om(e,C,i),n.memoizedState=lm,yi(e.child,c)):(Er(n),i=e.child,e=i.sibling,i=Un(i,{mode:"visible",children:c.children}),i.return=n,i.sibling=null,e!==null&&(C=n.deletions,C===null?(n.deletions=[e],n.flags|=16):C.push(e)),n.child=i,n.memoizedState=null,i)}function cm(e,n){return n=tc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function tc(e,n){return e=_a(22,e,null,n),e.lanes=0,e}function um(e,n,i){return hs(n,e.child,null,i),e=cm(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ih(e,n,i){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),Cd(e.return,n,i)}function dm(e,n,i,c,f,h){var C=e.memoizedState;C===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:f,treeForkCount:h}:(C.isBackwards=n,C.rendering=null,C.renderingStartTime=0,C.last=c,C.tail=i,C.tailMode=f,C.treeForkCount=h)}function Ph(e,n,i){var c=n.pendingProps,f=c.revealOrder,h=c.tail;c=c.children;var C=At.current,E=(C&2)!==0;if(E?(C=C&1|2,n.flags|=128):C&=1,me(At,C),Xt(e,n,c,i),c=Je?ii:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ih(e,i,n);else if(e.tag===19)Ih(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(i=n.child,f=null;i!==null;)e=i.alternate,e!==null&&qo(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=n.child,n.child=null):(f=i.sibling,i.sibling=null),dm(n,!1,f,i,h,c);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&qo(e)===null){n.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}dm(n,!0,i,null,h,c);break;case"together":dm(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function Xn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Lr|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Ws(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(t(153));if(n.child!==null){for(e=n.child,i=Un(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Un(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function mm(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Lo(e)))}function $N(e,n,i){switch(n.tag){case 3:ke(n,n.stateNode.containerInfo),Dr(n,Pt,e.memoizedState.cache),us();break;case 27:case 5:rt(n);break;case 4:ke(n,n.stateNode.containerInfo);break;case 10:Dr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Pd(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(Er(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Lh(e,n,i):(Er(n),e=Xn(e,n,i),e!==null?e.sibling:null);Er(n);break;case 19:var f=(e.flags&128)!==0;if(c=(i&n.childLanes)!==0,c||(Ws(e,n,i,!1),c=(i&n.childLanes)!==0),f){if(c)return Ph(e,n,i);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),me(At,At.current),c)break;return null;case 22:return n.lanes=0,Ah(e,n,i,n.pendingProps);case 24:Dr(n,Pt,e.memoizedState.cache)}return Xn(e,n,i)}function zh(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ft=!0;else{if(!mm(e,i)&&(n.flags&128)===0)return Ft=!1,$N(e,n,i);Ft=(e.flags&131072)!==0}else Ft=!1,Je&&(n.flags&1048576)!==0&&hx(n,ii,n.index);switch(n.lanes=0,n.tag){case 16:e:{var c=n.pendingProps;if(e=ps(n.elementType),n.type=e,typeof e=="function")vd(e)?(c=bs(e,c),n.tag=1,n=Oh(null,n,e,c,i)):(n.tag=0,n=sm(null,n,e,c,i));else{if(e!=null){var f=e.$$typeof;if(f===O){n.tag=11,n=kh(null,n,e,c,i);break e}else if(f===I){n.tag=14,n=Dh(null,n,e,c,i);break e}}throw n=oe(e)||e,Error(t(306,n,""))}}return n;case 0:return sm(e,n,n.type,n.pendingProps,i);case 1:return c=n.type,f=bs(c,n.pendingProps),Oh(e,n,c,f,i);case 3:e:{if(ke(n,n.stateNode.containerInfo),e===null)throw Error(t(387));c=n.pendingProps;var h=n.memoizedState;f=h.element,_d(e,n),xi(n,c,null,i);var C=n.memoizedState;if(c=C.cache,Dr(n,Pt,c),c!==h.cache&&kd(n,[Pt],i,!0),pi(),c=C.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:C.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Rh(e,n,c,i);break e}else if(c!==f){f=Qa(Error(t(424)),n),oi(f),n=Rh(e,n,c,i);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,bt=Ja(e.firstChild),Qt=n,Je=!0,Cr=null,Wa=!0,i=Ax(n,null,c,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(us(),c===f){n=Xn(e,n,i);break e}Xt(e,n,c,i)}n=n.child}return n;case 26:return ec(e,n),e===null?(i=Kv(n.type,null,n.pendingProps,null))?n.memoizedState=i:Je||(i=n.type,e=n.pendingProps,c=vc(ge.current).createElement(i),c[Ht]=n,c[na]=e,Wt(c,i,e),ht(c),n.stateNode=c):n.memoizedState=Kv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return rt(n),e===null&&Je&&(c=n.stateNode=Vv(n.type,n.pendingProps,ge.current),Qt=n,Wa=!0,f=bt,Br(n.type)?($m=f,bt=Ja(c.firstChild)):bt=f),Xt(e,n,n.pendingProps.children,i),ec(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Je&&((f=c=bt)&&(c=Nj(c,n.type,n.pendingProps,Wa),c!==null?(n.stateNode=c,Qt=n,bt=Ja(c.firstChild),Wa=!1,f=!0):f=!1),f||kr(n)),rt(n),f=n.type,h=n.pendingProps,C=e!==null?e.memoizedProps:null,c=h.children,Bm(f,h)?c=null:C!==null&&Bm(f,C)&&(n.flags|=32),n.memoizedState!==null&&(f=Fd(e,n,IN,null,null,i),Li._currentValue=f),ec(e,n),Xt(e,n,c,i),n.child;case 6:return e===null&&Je&&((e=i=bt)&&(i=jj(i,n.pendingProps,Wa),i!==null?(n.stateNode=i,Qt=n,bt=null,e=!0):e=!1),e||kr(n)),null;case 13:return Lh(e,n,i);case 4:return ke(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=hs(n,null,c,i):Xt(e,n,c,i),n.child;case 11:return kh(e,n,n.type,n.pendingProps,i);case 7:return Xt(e,n,n.pendingProps,i),n.child;case 8:return Xt(e,n,n.pendingProps.children,i),n.child;case 12:return Xt(e,n,n.pendingProps.children,i),n.child;case 10:return c=n.pendingProps,Dr(n,n.type,c.value),Xt(e,n,c.children,i),n.child;case 9:return f=n.type._context,c=n.pendingProps.children,ms(n),f=Kt(f),c=c(f),n.flags|=1,Xt(e,n,c,i),n.child;case 14:return Dh(e,n,n.type,n.pendingProps,i);case 15:return Mh(e,n,n.type,n.pendingProps,i);case 19:return Ph(e,n,i);case 31:return UN(e,n,i);case 22:return Ah(e,n,i,n.pendingProps);case 24:return ms(n),c=Kt(Pt),e===null?(f=Ad(),f===null&&(f=xt,h=Dd(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=i),f=h),n.memoizedState={parent:c,cache:f},Ed(n),Dr(n,Pt,f)):((e.lanes&i)!==0&&(_d(e,n),xi(n,null,null,i),pi()),f=e.memoizedState,h=n.memoizedState,f.parent!==c?(f={parent:c,cache:c},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Dr(n,Pt,c)):(c=h.cache,Dr(n,Pt,c),c!==f.cache&&kd(n,[Pt],i,!0))),Xt(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(t(156,n.tag))}function Wn(e){e.flags|=4}function fm(e,n,i,c,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(dv())e.flags|=8192;else throw xs=Fo,Td}else e.flags&=-16777217}function Fh(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!e0(n))if(dv())e.flags|=8192;else throw xs=Fo,Td}function ac(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Bn():536870912,e.lanes|=n,cl|=n)}function Ni(e,n){if(!Je)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function gt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,c=0;if(n)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=i,n}function VN(e,n,i){var c=n.pendingProps;switch(Nd(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(n),null;case 1:return gt(n),null;case 3:return i=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Gn(Pt),qe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Xs(n)?Wn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,wd())),gt(n),null;case 26:var f=n.type,h=n.memoizedState;return e===null?(Wn(n),h!==null?(gt(n),Fh(n,h)):(gt(n),fm(n,f,null,c,i))):h?h!==e.memoizedState?(Wn(n),gt(n),Fh(n,h)):(gt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==c&&Wn(n),gt(n),fm(n,f,e,c,i)),null;case 27:if(Rt(n),i=ge.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Wn(n);else{if(!c){if(n.stateNode===null)throw Error(t(166));return gt(n),null}e=fe.current,Xs(n)?bx(n):(e=Vv(f,c,i),n.stateNode=e,Wn(n))}return gt(n),null;case 5:if(Rt(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Wn(n);else{if(!c){if(n.stateNode===null)throw Error(t(166));return gt(n),null}if(h=fe.current,Xs(n))bx(n);else{var C=vc(ge.current);switch(h){case 1:h=C.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=C.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=C.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=C.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=C.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof c.is=="string"?C.createElement("select",{is:c.is}):C.createElement("select"),c.multiple?h.multiple=!0:c.size&&(h.size=c.size);break;default:h=typeof c.is=="string"?C.createElement(f,{is:c.is}):C.createElement(f)}}h[Ht]=n,h[na]=c;e:for(C=n.child;C!==null;){if(C.tag===5||C.tag===6)h.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===n)break e;for(;C.sibling===null;){if(C.return===null||C.return===n)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}n.stateNode=h;e:switch(Wt(h,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Wn(n)}}return gt(n),fm(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&Wn(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(t(166));if(e=ge.current,Xs(n)){if(e=n.stateNode,i=n.memoizedProps,c=null,f=Qt,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}e[Ht]=n,e=!!(e.nodeValue===i||c!==null&&c.suppressHydrationWarning===!0||Lv(e.nodeValue,i)),e||kr(n,!0)}else e=vc(e).createTextNode(c),e[Ht]=n,n.stateNode=e}return gt(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(c=Xs(n),i!==null){if(e===null){if(!c)throw Error(t(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(t(557));e[Ht]=n}else us(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),e=!1}else i=wd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(Ra(n),n):(Ra(n),null);if((n.flags&128)!==0)throw Error(t(558))}return gt(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Xs(n),c!==null&&c.dehydrated!==null){if(e===null){if(!f)throw Error(t(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(t(317));f[Ht]=n}else us(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),f=!1}else f=wd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Ra(n),n):(Ra(n),null)}return Ra(n),(n.flags&128)!==0?(n.lanes=i,n):(i=c!==null,e=e!==null&&e.memoizedState!==null,i&&(c=n.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),h=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),h!==f&&(c.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),ac(n,n.updateQueue),gt(n),null);case 4:return qe(),e===null&&Lm(n.stateNode.containerInfo),gt(n),null;case 10:return Gn(n.type),gt(n),null;case 19:if(J(At),c=n.memoizedState,c===null)return gt(n),null;if(f=(n.flags&128)!==0,h=c.rendering,h===null)if(f)Ni(c,!1);else{if(Dt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=qo(e),h!==null){for(n.flags|=128,Ni(c,!1),e=h.updateQueue,n.updateQueue=e,ac(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)fx(i,e),i=i.sibling;return me(At,At.current&1|2),Je&&$n(n,c.treeForkCount),n.child}e=e.sibling}c.tail!==null&&Lt()>ic&&(n.flags|=128,f=!0,Ni(c,!1),n.lanes=4194304)}else{if(!f)if(e=qo(h),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,ac(n,e),Ni(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Je)return gt(n),null}else 2*Lt()-c.renderingStartTime>ic&&i!==536870912&&(n.flags|=128,f=!0,Ni(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(e=c.last,e!==null?e.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Lt(),e.sibling=null,i=At.current,me(At,f?i&1|2:i&1),Je&&$n(n,c.treeForkCount),e):(gt(n),null);case 22:case 23:return Ra(n),Id(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(i&536870912)!==0&&(n.flags&128)===0&&(gt(n),n.subtreeFlags&6&&(n.flags|=8192)):gt(n),i=n.updateQueue,i!==null&&ac(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==i&&(n.flags|=2048),e!==null&&J(fs),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Gn(Pt),gt(n),null;case 25:return null;case 30:return null}throw Error(t(156,n.tag))}function GN(e,n){switch(Nd(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Gn(Pt),qe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Rt(n),null;case 31:if(n.memoizedState!==null){if(Ra(n),n.alternate===null)throw Error(t(340));us()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Ra(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(t(340));us()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return J(At),null;case 4:return qe(),null;case 10:return Gn(n.type),null;case 22:case 23:return Ra(n),Id(),e!==null&&J(fs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Gn(Pt),null;case 25:return null;default:return null}}function Bh(e,n){switch(Nd(n),n.tag){case 3:Gn(Pt),qe();break;case 26:case 27:case 5:Rt(n);break;case 4:qe();break;case 31:n.memoizedState!==null&&Ra(n);break;case 13:Ra(n);break;case 19:J(At);break;case 10:Gn(n.type);break;case 22:case 23:Ra(n),Id(),e!==null&&J(fs);break;case 24:Gn(Pt)}}function ji(e,n){try{var i=n.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var f=c.next;i=f;do{if((i.tag&e)===e){c=void 0;var h=i.create,C=i.inst;c=h(),C.destroy=c}i=i.next}while(i!==f)}}catch(E){ot(n,n.return,E)}}function Or(e,n,i){try{var c=n.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var h=f.next;c=h;do{if((c.tag&e)===e){var C=c.inst,E=C.destroy;if(E!==void 0){C.destroy=void 0,f=n;var F=i,X=E;try{X()}catch(se){ot(f,F,se)}}}c=c.next}while(c!==h)}}catch(se){ot(n,n.return,se)}}function Hh(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{Ex(n,i)}catch(c){ot(e,e.return,c)}}}function Yh(e,n,i){i.props=bs(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(c){ot(e,n,c)}}function wi(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof i=="function"?e.refCleanup=i(c):i.current=c}}catch(f){ot(e,n,f)}}function jn(e,n){var i=e.ref,c=e.refCleanup;if(i!==null)if(typeof c=="function")try{c()}catch(f){ot(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){ot(e,n,f)}else i.current=null}function qh(e){var n=e.type,i=e.memoizedProps,c=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&c.focus();break e;case"img":i.src?c.src=i.src:i.srcSet&&(c.srcset=i.srcSet)}}catch(f){ot(e,e.return,f)}}function pm(e,n,i){try{var c=e.stateNode;xj(c,e.type,i,n),c[na]=n}catch(f){ot(e,e.return,f)}}function Uh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Br(e.type)||e.tag===4}function xm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Br(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hm(e,n,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Yn));else if(c!==4&&(c===27&&Br(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(hm(e,n,i),e=e.sibling;e!==null;)hm(e,n,i),e=e.sibling}function nc(e,n,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(c!==4&&(c===27&&Br(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(nc(e,n,i),e=e.sibling;e!==null;)nc(e,n,i),e=e.sibling}function $h(e){var n=e.stateNode,i=e.memoizedProps;try{for(var c=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Wt(n,c,i),n[Ht]=e,n[na]=i}catch(h){ot(e,e.return,h)}}var Zn=!1,Bt=!1,vm=!1,Vh=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function QN(e,n){if(e=e.containerInfo,zm=Sc,e=rx(e),ud(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var f=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var C=0,E=-1,F=-1,X=0,se=0,ue=e,W=null;t:for(;;){for(var te;ue!==i||f!==0&&ue.nodeType!==3||(E=C+f),ue!==h||c!==0&&ue.nodeType!==3||(F=C+c),ue.nodeType===3&&(C+=ue.nodeValue.length),(te=ue.firstChild)!==null;)W=ue,ue=te;for(;;){if(ue===e)break t;if(W===i&&++X===f&&(E=C),W===h&&++se===c&&(F=C),(te=ue.nextSibling)!==null)break;ue=W,W=ue.parentNode}ue=te}i=E===-1||F===-1?null:{start:E,end:F}}else i=null}i=i||{start:0,end:0}}else i=null;for(Fm={focusedElem:e,selectionRange:i},Sc=!1,Ut=n;Ut!==null;)if(n=Ut,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ut=e;else for(;Ut!==null;){switch(n=Ut,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)f=e[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=n,f=h.memoizedProps,h=h.memoizedState,c=i.stateNode;try{var Ce=bs(i.type,f);e=c.getSnapshotBeforeUpdate(Ce,h),c.__reactInternalSnapshotBeforeUpdate=e}catch(_e){ot(i,i.return,_e)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Ym(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ym(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(t(163))}if(e=n.sibling,e!==null){e.return=n.return,Ut=e;break}Ut=n.return}}function Gh(e,n,i){var c=i.flags;switch(i.tag){case 0:case 11:case 15:er(e,i),c&4&&ji(5,i);break;case 1:if(er(e,i),c&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(C){ot(i,i.return,C)}else{var f=bs(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(C){ot(i,i.return,C)}}c&64&&Hh(i),c&512&&wi(i,i.return);break;case 3:if(er(e,i),c&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Ex(e,n)}catch(C){ot(i,i.return,C)}}break;case 27:n===null&&c&4&&$h(i);case 26:case 5:er(e,i),n===null&&c&4&&qh(i),c&512&&wi(i,i.return);break;case 12:er(e,i);break;case 31:er(e,i),c&4&&Xh(e,i);break;case 13:er(e,i),c&4&&Wh(e,i),c&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=nj.bind(null,i),wj(e,i))));break;case 22:if(c=i.memoizedState!==null||Zn,!c){n=n!==null&&n.memoizedState!==null||Bt,f=Zn;var h=Bt;Zn=c,(Bt=n)&&!h?tr(e,i,(i.subtreeFlags&8772)!==0):er(e,i),Zn=f,Bt=h}break;case 30:break;default:er(e,i)}}function Qh(e){var n=e.alternate;n!==null&&(e.alternate=null,Qh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Wl(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var jt=null,ga=!1;function Jn(e,n,i){for(i=i.child;i!==null;)Kh(e,n,i),i=i.sibling}function Kh(e,n,i){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(Ee,i)}catch{}switch(i.tag){case 26:Bt||jn(i,n),Jn(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Bt||jn(i,n);var c=jt,f=ga;Br(i.type)&&(jt=i.stateNode,ga=!1),Jn(e,n,i),_i(i.stateNode),jt=c,ga=f;break;case 5:Bt||jn(i,n);case 6:if(c=jt,f=ga,jt=null,Jn(e,n,i),jt=c,ga=f,jt!==null)if(ga)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(i.stateNode)}catch(h){ot(i,n,h)}else try{jt.removeChild(i.stateNode)}catch(h){ot(i,n,h)}break;case 18:jt!==null&&(ga?(e=jt,Hv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),vl(e)):Hv(jt,i.stateNode));break;case 4:c=jt,f=ga,jt=i.stateNode.containerInfo,ga=!0,Jn(e,n,i),jt=c,ga=f;break;case 0:case 11:case 14:case 15:Or(2,i,n),Bt||Or(4,i,n),Jn(e,n,i);break;case 1:Bt||(jn(i,n),c=i.stateNode,typeof c.componentWillUnmount=="function"&&Yh(i,n,c)),Jn(e,n,i);break;case 21:Jn(e,n,i);break;case 22:Bt=(c=Bt)||i.memoizedState!==null,Jn(e,n,i),Bt=c;break;default:Jn(e,n,i)}}function Xh(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{vl(e)}catch(i){ot(n,n.return,i)}}}function Wh(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{vl(e)}catch(i){ot(n,n.return,i)}}function KN(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Vh),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Vh),n;default:throw Error(t(435,e.tag))}}function rc(e,n){var i=KN(e);n.forEach(function(c){if(!i.has(c)){i.add(c);var f=rj.bind(null,e,c);c.then(f,f)}})}function ya(e,n){var i=n.deletions;if(i!==null)for(var c=0;c<i.length;c++){var f=i[c],h=e,C=n,E=C;e:for(;E!==null;){switch(E.tag){case 27:if(Br(E.type)){jt=E.stateNode,ga=!1;break e}break;case 5:jt=E.stateNode,ga=!1;break e;case 3:case 4:jt=E.stateNode.containerInfo,ga=!0;break e}E=E.return}if(jt===null)throw Error(t(160));Kh(h,C,f),jt=null,ga=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Zh(n,e),n=n.sibling}var ln=null;function Zh(e,n){var i=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ya(n,e),Na(e),c&4&&(Or(3,e,e.return),ji(3,e),Or(5,e,e.return));break;case 1:ya(n,e),Na(e),c&512&&(Bt||i===null||jn(i,i.return)),c&64&&Zn&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?c:i.concat(c))));break;case 26:var f=ln;if(ya(n,e),Na(e),c&512&&(Bt||i===null||jn(i,i.return)),c&4){var h=i!==null?i.memoizedState:null;if(c=e.memoizedState,i===null)if(c===null)if(e.stateNode===null){e:{c=e.type,i=e.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":h=f.getElementsByTagName("title")[0],(!h||h[as]||h[Ht]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(c),f.head.insertBefore(h,f.querySelector("head > title"))),Wt(h,c,i),h[Ht]=e,ht(h),c=h;break e;case"link":var C=Zv("link","href",f).get(c+(i.href||""));if(C){for(var E=0;E<C.length;E++)if(h=C[E],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){C.splice(E,1);break t}}h=f.createElement(c),Wt(h,c,i),f.head.appendChild(h);break;case"meta":if(C=Zv("meta","content",f).get(c+(i.content||""))){for(E=0;E<C.length;E++)if(h=C[E],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){C.splice(E,1);break t}}h=f.createElement(c),Wt(h,c,i),f.head.appendChild(h);break;default:throw Error(t(468,c))}h[Ht]=e,ht(h),c=h}e.stateNode=c}else Jv(f,e.type,e.stateNode);else e.stateNode=Wv(f,c,e.memoizedProps);else h!==c?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,c===null?Jv(f,e.type,e.stateNode):Wv(f,c,e.memoizedProps)):c===null&&e.stateNode!==null&&pm(e,e.memoizedProps,i.memoizedProps)}break;case 27:ya(n,e),Na(e),c&512&&(Bt||i===null||jn(i,i.return)),i!==null&&c&4&&pm(e,e.memoizedProps,i.memoizedProps);break;case 5:if(ya(n,e),Na(e),c&512&&(Bt||i===null||jn(i,i.return)),e.flags&32){f=e.stateNode;try{Bs(f,"")}catch(Ce){ot(e,e.return,Ce)}}c&4&&e.stateNode!=null&&(f=e.memoizedProps,pm(e,f,i!==null?i.memoizedProps:f)),c&1024&&(vm=!0);break;case 6:if(ya(n,e),Na(e),c&4){if(e.stateNode===null)throw Error(t(162));c=e.memoizedProps,i=e.stateNode;try{i.nodeValue=c}catch(Ce){ot(e,e.return,Ce)}}break;case 3:if(yc=null,f=ln,ln=bc(n.containerInfo),ya(n,e),ln=f,Na(e),c&4&&i!==null&&i.memoizedState.isDehydrated)try{vl(n.containerInfo)}catch(Ce){ot(e,e.return,Ce)}vm&&(vm=!1,Jh(e));break;case 4:c=ln,ln=bc(e.stateNode.containerInfo),ya(n,e),Na(e),ln=c;break;case 12:ya(n,e),Na(e);break;case 31:ya(n,e),Na(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,rc(e,c)));break;case 13:ya(n,e),Na(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(lc=Lt()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,rc(e,c)));break;case 22:f=e.memoizedState!==null;var F=i!==null&&i.memoizedState!==null,X=Zn,se=Bt;if(Zn=X||f,Bt=se||F,ya(n,e),Bt=se,Zn=X,Na(e),c&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(i===null||F||Zn||Bt||gs(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){F=i=n;try{if(h=F.stateNode,f)C=h.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{E=F.stateNode;var ue=F.memoizedProps.style,W=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;E.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Ce){ot(F,F.return,Ce)}}}else if(n.tag===6){if(i===null){F=n;try{F.stateNode.nodeValue=f?"":F.memoizedProps}catch(Ce){ot(F,F.return,Ce)}}}else if(n.tag===18){if(i===null){F=n;try{var te=F.stateNode;f?Yv(te,!0):Yv(F.stateNode,!1)}catch(Ce){ot(F,F.return,Ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(i=c.retryQueue,i!==null&&(c.retryQueue=null,rc(e,i))));break;case 19:ya(n,e),Na(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,rc(e,c)));break;case 30:break;case 21:break;default:ya(n,e),Na(e)}}function Na(e){var n=e.flags;if(n&2){try{for(var i,c=e.return;c!==null;){if(Uh(c)){i=c;break}c=c.return}if(i==null)throw Error(t(160));switch(i.tag){case 27:var f=i.stateNode,h=xm(e);nc(e,h,f);break;case 5:var C=i.stateNode;i.flags&32&&(Bs(C,""),i.flags&=-33);var E=xm(e);nc(e,E,C);break;case 3:case 4:var F=i.stateNode.containerInfo,X=xm(e);hm(e,X,F);break;default:throw Error(t(161))}}catch(se){ot(e,e.return,se)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Jh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Jh(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function er(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Gh(e,n.alternate,n),n=n.sibling}function gs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Or(4,n,n.return),gs(n);break;case 1:jn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Yh(n,n.return,i),gs(n);break;case 27:_i(n.stateNode);case 26:case 5:jn(n,n.return),gs(n);break;case 22:n.memoizedState===null&&gs(n);break;case 30:gs(n);break;default:gs(n)}e=e.sibling}}function tr(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,f=e,h=n,C=h.flags;switch(h.tag){case 0:case 11:case 15:tr(f,h,i),ji(4,h);break;case 1:if(tr(f,h,i),c=h,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(X){ot(c,c.return,X)}if(c=h,f=c.updateQueue,f!==null){var E=c.stateNode;try{var F=f.shared.hiddenCallbacks;if(F!==null)for(f.shared.hiddenCallbacks=null,f=0;f<F.length;f++)Tx(F[f],E)}catch(X){ot(c,c.return,X)}}i&&C&64&&Hh(h),wi(h,h.return);break;case 27:$h(h);case 26:case 5:tr(f,h,i),i&&c===null&&C&4&&qh(h),wi(h,h.return);break;case 12:tr(f,h,i);break;case 31:tr(f,h,i),i&&C&4&&Xh(f,h);break;case 13:tr(f,h,i),i&&C&4&&Wh(f,h);break;case 22:h.memoizedState===null&&tr(f,h,i),wi(h,h.return);break;case 30:break;default:tr(f,h,i)}n=n.sibling}}function bm(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&ci(i))}function gm(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ci(e))}function on(e,n,i,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ev(e,n,i,c),n=n.sibling}function ev(e,n,i,c){var f=n.flags;switch(n.tag){case 0:case 11:case 15:on(e,n,i,c),f&2048&&ji(9,n);break;case 1:on(e,n,i,c);break;case 3:on(e,n,i,c),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ci(e)));break;case 12:if(f&2048){on(e,n,i,c),e=n.stateNode;try{var h=n.memoizedProps,C=h.id,E=h.onPostCommit;typeof E=="function"&&E(C,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(F){ot(n,n.return,F)}}else on(e,n,i,c);break;case 31:on(e,n,i,c);break;case 13:on(e,n,i,c);break;case 23:break;case 22:h=n.stateNode,C=n.alternate,n.memoizedState!==null?h._visibility&2?on(e,n,i,c):Si(e,n):h._visibility&2?on(e,n,i,c):(h._visibility|=2,ll(e,n,i,c,(n.subtreeFlags&10256)!==0||!1)),f&2048&&bm(C,n);break;case 24:on(e,n,i,c),f&2048&&gm(n.alternate,n);break;default:on(e,n,i,c)}}function ll(e,n,i,c,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,C=n,E=i,F=c,X=C.flags;switch(C.tag){case 0:case 11:case 15:ll(h,C,E,F,f),ji(8,C);break;case 23:break;case 22:var se=C.stateNode;C.memoizedState!==null?se._visibility&2?ll(h,C,E,F,f):Si(h,C):(se._visibility|=2,ll(h,C,E,F,f)),f&&X&2048&&bm(C.alternate,C);break;case 24:ll(h,C,E,F,f),f&&X&2048&&gm(C.alternate,C);break;default:ll(h,C,E,F,f)}n=n.sibling}}function Si(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,c=n,f=c.flags;switch(c.tag){case 22:Si(i,c),f&2048&&bm(c.alternate,c);break;case 24:Si(i,c),f&2048&&gm(c.alternate,c);break;default:Si(i,c)}n=n.sibling}}var Ci=8192;function il(e,n,i){if(e.subtreeFlags&Ci)for(e=e.child;e!==null;)tv(e,n,i),e=e.sibling}function tv(e,n,i){switch(e.tag){case 26:il(e,n,i),e.flags&Ci&&e.memoizedState!==null&&Lj(i,ln,e.memoizedState,e.memoizedProps);break;case 5:il(e,n,i);break;case 3:case 4:var c=ln;ln=bc(e.stateNode.containerInfo),il(e,n,i),ln=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Ci,Ci=16777216,il(e,n,i),Ci=c):il(e,n,i));break;default:il(e,n,i)}}function av(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ki(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var c=n[i];Ut=c,rv(c,e)}av(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)nv(e),e=e.sibling}function nv(e){switch(e.tag){case 0:case 11:case 15:ki(e),e.flags&2048&&Or(9,e,e.return);break;case 3:ki(e);break;case 12:ki(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,sc(e)):ki(e);break;default:ki(e)}}function sc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var c=n[i];Ut=c,rv(c,e)}av(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Or(8,n,n.return),sc(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,sc(n));break;default:sc(n)}e=e.sibling}}function rv(e,n){for(;Ut!==null;){var i=Ut;switch(i.tag){case 0:case 11:case 15:Or(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var c=i.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ci(i.memoizedState.cache)}if(c=i.child,c!==null)c.return=i,Ut=c;else e:for(i=e;Ut!==null;){c=Ut;var f=c.sibling,h=c.return;if(Qh(c),c===i){Ut=null;break e}if(f!==null){f.return=h,Ut=f;break e}Ut=h}}}var XN={getCacheForType:function(e){var n=Kt(Pt),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return Kt(Pt).controller.signal}},WN=typeof WeakMap=="function"?WeakMap:Map,st=0,xt=null,Ve=null,Xe=0,it=0,La=null,Rr=!1,ol=!1,ym=!1,ar=0,Dt=0,Lr=0,ys=0,Nm=0,Ia=0,cl=0,Di=null,ja=null,jm=!1,lc=0,sv=0,ic=1/0,oc=null,Ir=null,Yt=0,Pr=null,ul=null,nr=0,wm=0,Sm=null,lv=null,Mi=0,Cm=null;function Pa(){return(st&2)!==0&&Xe!==0?Xe&-Xe:q.T!==null?Em():ho()}function iv(){if(Ia===0)if((Xe&536870912)===0||Je){var e=Vt;Vt<<=1,(Vt&3932160)===0&&(Vt=262144),Ia=e}else Ia=536870912;return e=Oa.current,e!==null&&(e.flags|=32),Ia}function wa(e,n,i){(e===xt&&(it===2||it===9)||e.cancelPendingCommit!==null)&&(dl(e,0),zr(e,Xe,Ia,!1)),Ua(e,i),((st&2)===0||e!==xt)&&(e===xt&&((st&2)===0&&(ys|=i),Dt===4&&zr(e,Xe,Ia,!1)),wn(e))}function ov(e,n,i){if((st&6)!==0)throw Error(t(327));var c=!i&&(n&127)===0&&(n&e.expiredLanes)===0||xe(e,n),f=c?ej(e,n):Dm(e,n,!0),h=c;do{if(f===0){ol&&!c&&zr(e,n,0,!1);break}else{if(i=e.current.alternate,h&&!ZN(i)){f=Dm(e,n,!1),h=!1;continue}if(f===2){if(h=n,e.errorRecoveryDisabledLanes&h)var C=0;else C=e.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){n=C;e:{var E=e;f=Di;var F=E.current.memoizedState.isDehydrated;if(F&&(dl(E,C).flags|=256),C=Dm(E,C,!1),C!==2){if(ym&&!F){E.errorRecoveryDisabledLanes|=h,ys|=h,f=4;break e}h=ja,ja=f,h!==null&&(ja===null?ja=h:ja.push.apply(ja,h))}f=C}if(h=!1,f!==2)continue}}if(f===1){dl(e,0),zr(e,n,0,!0);break}e:{switch(c=e,h=f,h){case 0:case 1:throw Error(t(345));case 4:if((n&4194048)!==n)break;case 6:zr(c,n,Ia,!Rr);break e;case 2:ja=null;break;case 3:case 5:break;default:throw Error(t(329))}if((n&62914560)===n&&(f=lc+300-Lt(),10<f)){if(zr(c,n,Ia,!Rr),bn(c,0,!0)!==0)break e;nr=n,c.timeoutHandle=Fv(cv.bind(null,c,i,ja,oc,jm,n,Ia,ys,cl,Rr,h,"Throttled",-0,0),f);break e}cv(c,i,ja,oc,jm,n,Ia,ys,cl,Rr,h,null,-0,0)}}break}while(!0);wn(e)}function cv(e,n,i,c,f,h,C,E,F,X,se,ue,W,te){if(e.timeoutHandle=-1,ue=n.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},tv(n,h,ue);var Ce=(h&62914560)===h?lc-Lt():(h&4194048)===h?sv-Lt():0;if(Ce=Ij(ue,Ce),Ce!==null){nr=h,e.cancelPendingCommit=Ce(vv.bind(null,e,n,h,i,c,f,C,E,F,se,ue,null,W,te)),zr(e,h,C,!X);return}}vv(e,n,h,i,c,f,C,E,F)}function ZN(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var c=0;c<i.length;c++){var f=i[c],h=f.getSnapshot;f=f.value;try{if(!Ea(h(),f))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zr(e,n,i,c){n&=~Nm,n&=~ys,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var f=n;0<f;){var h=31-Ie(f),C=1<<h;c[h]=-1,f&=~C}i!==0&&es(e,i,n)}function cc(){return(st&6)===0?(Ai(0),!1):!0}function km(){if(Ve!==null){if(it===0)var e=Ve.return;else e=Ve,Vn=ds=null,Yd(e),tl=null,di=0,e=Ve;for(;e!==null;)Bh(e.alternate,e),e=e.return;Ve=null}}function dl(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,bj(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),nr=0,km(),xt=e,Ve=i=Un(e.current,null),Xe=n,it=0,La=null,Rr=!1,ol=xe(e,n),ym=!1,cl=Ia=Nm=ys=Lr=Dt=0,ja=Di=null,jm=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var f=31-Ie(c),h=1<<f;n|=e[f],c&=~h}return ar=n,To(),i}function uv(e,n){Be=null,q.H=gi,n===el||n===zo?(n=kx(),it=3):n===Td?(n=kx(),it=4):it=n===rm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,La=n,Ve===null&&(Dt=1,Zo(e,Qa(n,e.current)))}function dv(){var e=Oa.current;return e===null?!0:(Xe&4194048)===Xe?Za===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?e===Za:!1}function mv(){var e=q.H;return q.H=gi,e===null?gi:e}function fv(){var e=q.A;return q.A=XN,e}function uc(){Dt=4,Rr||(Xe&4194048)!==Xe&&Oa.current!==null||(ol=!0),(Lr&134217727)===0&&(ys&134217727)===0||xt===null||zr(xt,Xe,Ia,!1)}function Dm(e,n,i){var c=st;st|=2;var f=mv(),h=fv();(xt!==e||Xe!==n)&&(oc=null,dl(e,n)),n=!1;var C=Dt;e:do try{if(it!==0&&Ve!==null){var E=Ve,F=La;switch(it){case 8:km(),C=6;break e;case 3:case 2:case 9:case 6:Oa.current===null&&(n=!0);var X=it;if(it=0,La=null,ml(e,E,F,X),i&&ol){C=0;break e}break;default:X=it,it=0,La=null,ml(e,E,F,X)}}JN(),C=Dt;break}catch(se){uv(e,se)}while(!0);return n&&e.shellSuspendCounter++,Vn=ds=null,st=c,q.H=f,q.A=h,Ve===null&&(xt=null,Xe=0,To()),C}function JN(){for(;Ve!==null;)pv(Ve)}function ej(e,n){var i=st;st|=2;var c=mv(),f=fv();xt!==e||Xe!==n?(oc=null,ic=Lt()+500,dl(e,n)):ol=xe(e,n);e:do try{if(it!==0&&Ve!==null){n=Ve;var h=La;t:switch(it){case 1:it=0,La=null,ml(e,n,h,1);break;case 2:case 9:if(Sx(h)){it=0,La=null,xv(n);break}n=function(){it!==2&&it!==9||xt!==e||(it=7),wn(e)},h.then(n,n);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Sx(h)?(it=0,La=null,xv(n)):(it=0,La=null,ml(e,n,h,7));break;case 5:var C=null;switch(Ve.tag){case 26:C=Ve.memoizedState;case 5:case 27:var E=Ve;if(C?e0(C):E.stateNode.complete){it=0,La=null;var F=E.sibling;if(F!==null)Ve=F;else{var X=E.return;X!==null?(Ve=X,dc(X)):Ve=null}break t}}it=0,La=null,ml(e,n,h,5);break;case 6:it=0,La=null,ml(e,n,h,6);break;case 8:km(),Dt=6;break e;default:throw Error(t(462))}}tj();break}catch(se){uv(e,se)}while(!0);return Vn=ds=null,q.H=c,q.A=f,st=i,Ve!==null?0:(xt=null,Xe=0,To(),Dt)}function tj(){for(;Ve!==null&&!aa();)pv(Ve)}function pv(e){var n=zh(e.alternate,e,ar);e.memoizedProps=e.pendingProps,n===null?dc(e):Ve=n}function xv(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=_h(i,n,n.pendingProps,n.type,void 0,Xe);break;case 11:n=_h(i,n,n.pendingProps,n.type.render,n.ref,Xe);break;case 5:Yd(n);default:Bh(i,n),n=Ve=fx(n,ar),n=zh(i,n,ar)}e.memoizedProps=e.pendingProps,n===null?dc(e):Ve=n}function ml(e,n,i,c){Vn=ds=null,Yd(n),tl=null,di=0;var f=n.return;try{if(qN(e,f,n,i,Xe)){Dt=1,Zo(e,Qa(i,e.current)),Ve=null;return}}catch(h){if(f!==null)throw Ve=f,h;Dt=1,Zo(e,Qa(i,e.current)),Ve=null;return}n.flags&32768?(Je||c===1?e=!0:ol||(Xe&536870912)!==0?e=!1:(Rr=e=!0,(c===2||c===9||c===3||c===6)&&(c=Oa.current,c!==null&&c.tag===13&&(c.flags|=16384))),hv(n,e)):dc(n)}function dc(e){var n=e;do{if((n.flags&32768)!==0){hv(n,Rr);return}e=n.return;var i=VN(n.alternate,n,ar);if(i!==null){Ve=i;return}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=e}while(n!==null);Dt===0&&(Dt=5)}function hv(e,n){do{var i=GN(e.alternate,e);if(i!==null){i.flags&=32767,Ve=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Ve=e;return}Ve=e=i}while(e!==null);Dt=6,Ve=null}function vv(e,n,i,c,f,h,C,E,F){e.cancelPendingCommit=null;do mc();while(Yt!==0);if((st&6)!==0)throw Error(t(327));if(n!==null){if(n===e.current)throw Error(t(177));if(h=n.lanes|n.childLanes,h|=xd,gr(e,i,h,C,E,F),e===xt&&(Ve=xt=null,Xe=0),ul=n,Pr=e,nr=i,wm=h,Sm=f,lv=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,sj(je,function(){return jv(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=q.T,q.T=null,f=Z.p,Z.p=2,C=st,st|=4;try{QN(e,n,i)}finally{st=C,Z.p=f,q.T=c}}Yt=1,bv(),gv(),yv()}}function bv(){if(Yt===1){Yt=0;var e=Pr,n=ul,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=q.T,q.T=null;var c=Z.p;Z.p=2;var f=st;st|=4;try{Zh(n,e);var h=Fm,C=rx(e.containerInfo),E=h.focusedElem,F=h.selectionRange;if(C!==E&&E&&E.ownerDocument&&nx(E.ownerDocument.documentElement,E)){if(F!==null&&ud(E)){var X=F.start,se=F.end;if(se===void 0&&(se=X),"selectionStart"in E)E.selectionStart=X,E.selectionEnd=Math.min(se,E.value.length);else{var ue=E.ownerDocument||document,W=ue&&ue.defaultView||window;if(W.getSelection){var te=W.getSelection(),Ce=E.textContent.length,_e=Math.min(F.start,Ce),ft=F.end===void 0?_e:Math.min(F.end,Ce);!te.extend&&_e>ft&&(C=ft,ft=_e,_e=C);var $=ax(E,_e),Y=ax(E,ft);if($&&Y&&(te.rangeCount!==1||te.anchorNode!==$.node||te.anchorOffset!==$.offset||te.focusNode!==Y.node||te.focusOffset!==Y.offset)){var K=ue.createRange();K.setStart($.node,$.offset),te.removeAllRanges(),_e>ft?(te.addRange(K),te.extend(Y.node,Y.offset)):(K.setEnd(Y.node,Y.offset),te.addRange(K))}}}}for(ue=[],te=E;te=te.parentNode;)te.nodeType===1&&ue.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ue.length;E++){var ce=ue[E];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Sc=!!zm,Fm=zm=null}finally{st=f,Z.p=c,q.T=i}}e.current=n,Yt=2}}function gv(){if(Yt===2){Yt=0;var e=Pr,n=ul,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=q.T,q.T=null;var c=Z.p;Z.p=2;var f=st;st|=4;try{Gh(e,n.alternate,n)}finally{st=f,Z.p=c,q.T=i}}Yt=3}}function yv(){if(Yt===4||Yt===3){Yt=0,ua();var e=Pr,n=ul,i=nr,c=lv;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Yt=5:(Yt=0,ul=Pr=null,Nv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Ir=null),Kl(i),n=n.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(Ee,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=q.T,f=Z.p,Z.p=2,q.T=null;try{for(var h=e.onRecoverableError,C=0;C<c.length;C++){var E=c[C];h(E.value,{componentStack:E.stack})}}finally{q.T=n,Z.p=f}}(nr&3)!==0&&mc(),wn(e),f=e.pendingLanes,(i&261930)!==0&&(f&42)!==0?e===Cm?Mi++:(Mi=0,Cm=e):Mi=0,Ai(0)}}function Nv(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ci(n)))}function mc(){return bv(),gv(),yv(),jv()}function jv(){if(Yt!==5)return!1;var e=Pr,n=wm;wm=0;var i=Kl(nr),c=q.T,f=Z.p;try{Z.p=32>i?32:i,q.T=null,i=Sm,Sm=null;var h=Pr,C=nr;if(Yt=0,ul=Pr=null,nr=0,(st&6)!==0)throw Error(t(331));var E=st;if(st|=4,nv(h.current),ev(h,h.current,C,i),st=E,Ai(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(Ee,h)}catch{}return!0}finally{Z.p=f,q.T=c,Nv(e,n)}}function wv(e,n,i){n=Qa(i,n),n=nm(e.stateNode,n,2),e=Tr(e,n,2),e!==null&&(Ua(e,2),wn(e))}function ot(e,n,i){if(e.tag===3)wv(e,e,i);else for(;n!==null;){if(n.tag===3){wv(n,e,i);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ir===null||!Ir.has(c))){e=Qa(i,e),i=Sh(2),c=Tr(n,i,2),c!==null&&(Ch(i,c,n,e),Ua(c,2),wn(c));break}}n=n.return}}function Mm(e,n,i){var c=e.pingCache;if(c===null){c=e.pingCache=new WN;var f=new Set;c.set(n,f)}else f=c.get(n),f===void 0&&(f=new Set,c.set(n,f));f.has(i)||(ym=!0,f.add(i),e=aj.bind(null,e,n,i),n.then(e,e))}function aj(e,n,i){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,xt===e&&(Xe&i)===i&&(Dt===4||Dt===3&&(Xe&62914560)===Xe&&300>Lt()-lc?(st&2)===0&&dl(e,0):Nm|=i,cl===Xe&&(cl=0)),wn(e)}function Sv(e,n){n===0&&(n=Bn()),e=os(e,n),e!==null&&(Ua(e,n),wn(e))}function nj(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Sv(e,i)}function rj(e,n){var i=0;switch(e.tag){case 31:case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(t(314))}c!==null&&c.delete(n),Sv(e,i)}function sj(e,n){return ta(e,n)}var fc=null,fl=null,Am=!1,pc=!1,Tm=!1,Fr=0;function wn(e){e!==fl&&e.next===null&&(fl===null?fc=fl=e:fl=fl.next=e),pc=!0,Am||(Am=!0,ij())}function Ai(e,n){if(!Tm&&pc){Tm=!0;do for(var i=!1,c=fc;c!==null;){if(e!==0){var f=c.pendingLanes;if(f===0)var h=0;else{var C=c.suspendedLanes,E=c.pingedLanes;h=(1<<31-Ie(42|e)+1)-1,h&=f&~(C&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,Mv(c,h))}else h=Xe,h=bn(c,c===xt?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(h&3)===0||xe(c,h)||(i=!0,Mv(c,h));c=c.next}while(i);Tm=!1}}function lj(){Cv()}function Cv(){pc=Am=!1;var e=0;Fr!==0&&vj()&&(e=Fr);for(var n=Lt(),i=null,c=fc;c!==null;){var f=c.next,h=kv(c,n);h===0?(c.next=null,i===null?fc=f:i.next=f,f===null&&(fl=i)):(i=c,(e!==0||(h&3)!==0)&&(pc=!0)),c=f}Yt!==0&&Yt!==5||Ai(e),Fr!==0&&(Fr=0)}function kv(e,n){for(var i=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var C=31-Ie(h),E=1<<C,F=f[C];F===-1?((E&i)===0||(E&c)!==0)&&(f[C]=Gt(E,n)):F<=n&&(e.expiredLanes|=E),h&=~E}if(n=xt,i=Xe,i=bn(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,i===0||e===n&&(it===2||it===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&pt(c),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||xe(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(c!==null&&pt(c),Kl(i)){case 2:case 8:i=ne;break;case 32:i=je;break;case 268435456:i=Le;break;default:i=je}return c=Dv.bind(null,e),i=ta(i,c),e.callbackPriority=n,e.callbackNode=i,n}return c!==null&&c!==null&&pt(c),e.callbackPriority=2,e.callbackNode=null,2}function Dv(e,n){if(Yt!==0&&Yt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(mc()&&e.callbackNode!==i)return null;var c=Xe;return c=bn(e,e===xt?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(ov(e,c,n),kv(e,Lt()),e.callbackNode!=null&&e.callbackNode===i?Dv.bind(null,e):null)}function Mv(e,n){if(mc())return null;ov(e,n,!0)}function ij(){gj(function(){(st&6)!==0?ta(B,lj):Cv()})}function Em(){if(Fr===0){var e=Zs;e===0&&(e=ha,ha<<=1,(ha&261888)===0&&(ha=256)),Fr=e}return Fr}function Av(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:jo(""+e)}function Tv(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function oj(e,n,i,c,f){if(n==="submit"&&i&&i.stateNode===f){var h=Av((f[na]||null).action),C=c.submitter;C&&(n=(n=C[na]||null)?Av(n.formAction):C.getAttribute("formAction"),n!==null&&(h=n,C=null));var E=new ko("action","action",null,c,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Fr!==0){var F=C?Tv(f,C):new FormData(f);Wd(i,{pending:!0,data:F,method:f.method,action:h},null,F)}}else typeof h=="function"&&(E.preventDefault(),F=C?Tv(f,C):new FormData(f),Wd(i,{pending:!0,data:F,method:f.method,action:h},h,F))},currentTarget:f}]})}}for(var _m=0;_m<pd.length;_m++){var Om=pd[_m],cj=Om.toLowerCase(),uj=Om[0].toUpperCase()+Om.slice(1);sn(cj,"on"+uj)}sn(ix,"onAnimationEnd"),sn(ox,"onAnimationIteration"),sn(cx,"onAnimationStart"),sn("dblclick","onDoubleClick"),sn("focusin","onFocus"),sn("focusout","onBlur"),sn(kN,"onTransitionRun"),sn(DN,"onTransitionStart"),sn(MN,"onTransitionCancel"),sn(ux,"onTransitionEnd"),zs("onMouseEnter",["mouseout","mouseover"]),zs("onMouseLeave",["mouseout","mouseover"]),zs("onPointerEnter",["pointerout","pointerover"]),zs("onPointerLeave",["pointerout","pointerover"]),rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ti="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ti));function Ev(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var c=e[i],f=c.event;c=c.listeners;e:{var h=void 0;if(n)for(var C=c.length-1;0<=C;C--){var E=c[C],F=E.instance,X=E.currentTarget;if(E=E.listener,F!==h&&f.isPropagationStopped())break e;h=E,f.currentTarget=X;try{h(f)}catch(se){Ao(se)}f.currentTarget=null,h=F}else for(C=0;C<c.length;C++){if(E=c[C],F=E.instance,X=E.currentTarget,E=E.listener,F!==h&&f.isPropagationStopped())break e;h=E,f.currentTarget=X;try{h(f)}catch(se){Ao(se)}f.currentTarget=null,h=F}}}}function Ge(e,n){var i=n[Xl];i===void 0&&(i=n[Xl]=new Set);var c=e+"__bubble";i.has(c)||(_v(n,e,2,!1),i.add(c))}function Rm(e,n,i){var c=0;n&&(c|=4),_v(i,e,c,n)}var xc="_reactListening"+Math.random().toString(36).slice(2);function Lm(e){if(!e[xc]){e[xc]=!0,ns.forEach(function(i){i!=="selectionchange"&&(dj.has(i)||Rm(i,!1,e),Rm(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[xc]||(n[xc]=!0,Rm("selectionchange",!1,n))}}function _v(e,n,i,c){switch(i0(n)){case 2:var f=Fj;break;case 8:f=Bj;break;default:f=Xm}i=f.bind(null,n,i,e),f=void 0,!td||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(n,i,{capture:!0,passive:f}):e.addEventListener(n,i,!0):f!==void 0?e.addEventListener(n,i,{passive:f}):e.addEventListener(n,i,!1)}function Im(e,n,i,c,f){var h=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var E=c.stateNode.containerInfo;if(E===f)break;if(C===4)for(C=c.return;C!==null;){var F=C.tag;if((F===3||F===4)&&C.stateNode.containerInfo===f)return;C=C.return}for(;E!==null;){if(C=jr(E),C===null)return;if(F=C.tag,F===5||F===6||F===26||F===27){c=h=C;continue e}E=E.parentNode}}c=c.return}Pp(function(){var X=h,se=Ju(i),ue=[];e:{var W=dx.get(e);if(W!==void 0){var te=ko,Ce=e;switch(e){case"keypress":if(So(i)===0)break e;case"keydown":case"keyup":te=rN;break;case"focusin":Ce="focus",te=sd;break;case"focusout":Ce="blur",te=sd;break;case"beforeblur":case"afterblur":te=sd;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Bp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=V1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=iN;break;case ix:case ox:case cx:te=K1;break;case ux:te=cN;break;case"scroll":case"scrollend":te=U1;break;case"wheel":te=dN;break;case"copy":case"cut":case"paste":te=W1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Yp;break;case"toggle":case"beforetoggle":te=fN}var _e=(n&4)!==0,ft=!_e&&(e==="scroll"||e==="scrollend"),$=_e?W!==null?W+"Capture":null:W;_e=[];for(var Y=X,K;Y!==null;){var ce=Y;if(K=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||K===null||$===null||(ce=Zl(Y,$),ce!=null&&_e.push(Ei(Y,ce,K))),ft)break;Y=Y.return}0<_e.length&&(W=new te(W,Ce,null,i,se),ue.push({event:W,listeners:_e}))}}if((n&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",W&&i!==Zu&&(Ce=i.relatedTarget||i.fromElement)&&(jr(Ce)||Ce[Nr]))break e;if((te||W)&&(W=se.window===se?se:(W=se.ownerDocument)?W.defaultView||W.parentWindow:window,te?(Ce=i.relatedTarget||i.toElement,te=X,Ce=Ce?jr(Ce):null,Ce!==null&&(ft=u(Ce),_e=Ce.tag,Ce!==ft||_e!==5&&_e!==27&&_e!==6)&&(Ce=null)):(te=null,Ce=X),te!==Ce)){if(_e=Bp,ce="onMouseLeave",$="onMouseEnter",Y="mouse",(e==="pointerout"||e==="pointerover")&&(_e=Yp,ce="onPointerLeave",$="onPointerEnter",Y="pointer"),ft=te==null?W:pe(te),K=Ce==null?W:pe(Ce),W=new _e(ce,Y+"leave",te,i,se),W.target=ft,W.relatedTarget=K,ce=null,jr(se)===X&&(_e=new _e($,Y+"enter",Ce,i,se),_e.target=K,_e.relatedTarget=ft,ce=_e),ft=ce,te&&Ce)t:{for(_e=mj,$=te,Y=Ce,K=0,ce=$;ce;ce=_e(ce))K++;ce=0;for(var Te=Y;Te;Te=_e(Te))ce++;for(;0<K-ce;)$=_e($),K--;for(;0<ce-K;)Y=_e(Y),ce--;for(;K--;){if($===Y||Y!==null&&$===Y.alternate){_e=$;break t}$=_e($),Y=_e(Y)}_e=null}else _e=null;te!==null&&Ov(ue,W,te,_e,!1),Ce!==null&&ft!==null&&Ov(ue,ft,Ce,_e,!0)}}e:{if(W=X?pe(X):window,te=W.nodeName&&W.nodeName.toLowerCase(),te==="select"||te==="input"&&W.type==="file")var at=Xp;else if(Qp(W))if(Wp)at=wN;else{at=NN;var De=yN}else te=W.nodeName,!te||te.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?X&&Wu(X.elementType)&&(at=Xp):at=jN;if(at&&(at=at(e,X))){Kp(ue,at,i,se);break e}De&&De(e,W,X),e==="focusout"&&X&&W.type==="number"&&X.memoizedProps.value!=null&&Xu(W,"number",W.value)}switch(De=X?pe(X):window,e){case"focusin":(Qp(De)||De.contentEditable==="true")&&(Us=De,dd=X,li=null);break;case"focusout":li=dd=Us=null;break;case"mousedown":md=!0;break;case"contextmenu":case"mouseup":case"dragend":md=!1,sx(ue,i,se);break;case"selectionchange":if(CN)break;case"keydown":case"keyup":sx(ue,i,se)}var Ye;if(id)e:{switch(e){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else qs?Vp(e,i)&&(We="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(We="onCompositionStart");We&&(qp&&i.locale!=="ko"&&(qs||We!=="onCompositionStart"?We==="onCompositionEnd"&&qs&&(Ye=zp()):(wr=se,ad="value"in wr?wr.value:wr.textContent,qs=!0)),De=hc(X,We),0<De.length&&(We=new Hp(We,e,null,i,se),ue.push({event:We,listeners:De}),Ye?We.data=Ye:(Ye=Gp(i),Ye!==null&&(We.data=Ye)))),(Ye=xN?hN(e,i):vN(e,i))&&(We=hc(X,"onBeforeInput"),0<We.length&&(De=new Hp("onBeforeInput","beforeinput",null,i,se),ue.push({event:De,listeners:We}),De.data=Ye)),oj(ue,e,X,i,se)}Ev(ue,n)})}function Ei(e,n,i){return{instance:e,listener:n,currentTarget:i}}function hc(e,n){for(var i=n+"Capture",c=[];e!==null;){var f=e,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Zl(e,i),f!=null&&c.unshift(Ei(e,f,h)),f=Zl(e,n),f!=null&&c.push(Ei(e,f,h))),e.tag===3)return c;e=e.return}return[]}function mj(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ov(e,n,i,c,f){for(var h=n._reactName,C=[];i!==null&&i!==c;){var E=i,F=E.alternate,X=E.stateNode;if(E=E.tag,F!==null&&F===c)break;E!==5&&E!==26&&E!==27||X===null||(F=X,f?(X=Zl(i,h),X!=null&&C.unshift(Ei(i,X,F))):f||(X=Zl(i,h),X!=null&&C.push(Ei(i,X,F)))),i=i.return}C.length!==0&&e.push({event:n,listeners:C})}var fj=/\r\n?/g,pj=/\u0000|\uFFFD/g;function Rv(e){return(typeof e=="string"?e:""+e).replace(fj,`
`).replace(pj,"")}function Lv(e,n){return n=Rv(n),Rv(e)===n}function mt(e,n,i,c,f,h){switch(i){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||Bs(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&Bs(e,""+c);break;case"className":yo(e,"class",c);break;case"tabIndex":yo(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":yo(e,i,c);break;case"style":Lp(e,c,h);break;case"data":if(n!=="object"){yo(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(i);break}c=jo(""+c),e.setAttribute(i,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(n!=="input"&&mt(e,n,"name",f.name,f,null),mt(e,n,"formEncType",f.formEncType,f,null),mt(e,n,"formMethod",f.formMethod,f,null),mt(e,n,"formTarget",f.formTarget,f,null)):(mt(e,n,"encType",f.encType,f,null),mt(e,n,"method",f.method,f,null),mt(e,n,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(i);break}c=jo(""+c),e.setAttribute(i,c);break;case"onClick":c!=null&&(e.onclick=Yn);break;case"onScroll":c!=null&&Ge("scroll",e);break;case"onScrollEnd":c!=null&&Ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(t(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(t(60));e.innerHTML=i}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}i=jo(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,""+c):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":c===!0?e.setAttribute(i,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,c):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(i,c):e.removeAttribute(i);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(i):e.setAttribute(i,c);break;case"popover":Ge("beforetoggle",e),Ge("toggle",e),go(e,"popover",c);break;case"xlinkActuate":Hn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Hn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Hn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Hn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Hn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Hn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Hn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Hn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Hn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":go(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Y1.get(i)||i,go(e,i,c))}}function Pm(e,n,i,c,f,h){switch(i){case"style":Lp(e,c,h);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(t(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(t(60));e.innerHTML=i}}break;case"children":typeof c=="string"?Bs(e,c):(typeof c=="number"||typeof c=="bigint")&&Bs(e,""+c);break;case"onScroll":c!=null&&Ge("scroll",e);break;case"onScrollEnd":c!=null&&Ge("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kp.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),n=i.slice(2,f?i.length-7:void 0),h=e[na]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(n,h,f),typeof c=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,c,f);break e}i in e?e[i]=c:c===!0?e.setAttribute(i,""):go(e,i,c)}}}function Wt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",e),Ge("load",e);var c=!1,f=!1,h;for(h in i)if(i.hasOwnProperty(h)){var C=i[h];if(C!=null)switch(h){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(t(137,n));default:mt(e,n,h,C,i,null)}}f&&mt(e,n,"srcSet",i.srcSet,i,null),c&&mt(e,n,"src",i.src,i,null);return;case"input":Ge("invalid",e);var E=h=C=f=null,F=null,X=null;for(c in i)if(i.hasOwnProperty(c)){var se=i[c];if(se!=null)switch(c){case"name":f=se;break;case"type":C=se;break;case"checked":F=se;break;case"defaultChecked":X=se;break;case"value":h=se;break;case"defaultValue":E=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(t(137,n));break;default:mt(e,n,c,se,i,null)}}Ep(e,h,E,F,X,C,f,!1);return;case"select":Ge("invalid",e),c=C=h=null;for(f in i)if(i.hasOwnProperty(f)&&(E=i[f],E!=null))switch(f){case"value":h=E;break;case"defaultValue":C=E;break;case"multiple":c=E;default:mt(e,n,f,E,i,null)}n=h,i=C,e.multiple=!!c,n!=null?Fs(e,!!c,n,!1):i!=null&&Fs(e,!!c,i,!0);return;case"textarea":Ge("invalid",e),h=f=c=null;for(C in i)if(i.hasOwnProperty(C)&&(E=i[C],E!=null))switch(C){case"value":c=E;break;case"defaultValue":f=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(t(91));break;default:mt(e,n,C,E,i,null)}Op(e,c,f,h);return;case"option":for(F in i)i.hasOwnProperty(F)&&(c=i[F],c!=null)&&(F==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":mt(e,n,F,c,i,null));return;case"dialog":Ge("beforetoggle",e),Ge("toggle",e),Ge("cancel",e),Ge("close",e);break;case"iframe":case"object":Ge("load",e);break;case"video":case"audio":for(c=0;c<Ti.length;c++)Ge(Ti[c],e);break;case"image":Ge("error",e),Ge("load",e);break;case"details":Ge("toggle",e);break;case"embed":case"source":case"link":Ge("error",e),Ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in i)if(i.hasOwnProperty(X)&&(c=i[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(t(137,n));default:mt(e,n,X,c,i,null)}return;default:if(Wu(n)){for(se in i)i.hasOwnProperty(se)&&(c=i[se],c!==void 0&&Pm(e,n,se,c,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(c=i[E],c!=null&&mt(e,n,E,c,i,null))}function xj(e,n,i,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,C=null,E=null,F=null,X=null,se=null;for(te in i){var ue=i[te];if(i.hasOwnProperty(te)&&ue!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":F=ue;default:c.hasOwnProperty(te)||mt(e,n,te,null,c,ue)}}for(var W in c){var te=c[W];if(ue=i[W],c.hasOwnProperty(W)&&(te!=null||ue!=null))switch(W){case"type":h=te;break;case"name":f=te;break;case"checked":X=te;break;case"defaultChecked":se=te;break;case"value":C=te;break;case"defaultValue":E=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(t(137,n));break;default:te!==ue&&mt(e,n,W,te,c,ue)}}Ku(e,C,E,F,X,se,h,f);return;case"select":te=C=E=W=null;for(h in i)if(F=i[h],i.hasOwnProperty(h)&&F!=null)switch(h){case"value":break;case"multiple":te=F;default:c.hasOwnProperty(h)||mt(e,n,h,null,c,F)}for(f in c)if(h=c[f],F=i[f],c.hasOwnProperty(f)&&(h!=null||F!=null))switch(f){case"value":W=h;break;case"defaultValue":E=h;break;case"multiple":C=h;default:h!==F&&mt(e,n,f,h,c,F)}n=E,i=C,c=te,W!=null?Fs(e,!!i,W,!1):!!c!=!!i&&(n!=null?Fs(e,!!i,n,!0):Fs(e,!!i,i?[]:"",!1));return;case"textarea":te=W=null;for(E in i)if(f=i[E],i.hasOwnProperty(E)&&f!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:mt(e,n,E,null,c,f)}for(C in c)if(f=c[C],h=i[C],c.hasOwnProperty(C)&&(f!=null||h!=null))switch(C){case"value":W=f;break;case"defaultValue":te=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(t(91));break;default:f!==h&&mt(e,n,C,f,c,h)}_p(e,W,te);return;case"option":for(var Ce in i)W=i[Ce],i.hasOwnProperty(Ce)&&W!=null&&!c.hasOwnProperty(Ce)&&(Ce==="selected"?e.selected=!1:mt(e,n,Ce,null,c,W));for(F in c)W=c[F],te=i[F],c.hasOwnProperty(F)&&W!==te&&(W!=null||te!=null)&&(F==="selected"?e.selected=W&&typeof W!="function"&&typeof W!="symbol":mt(e,n,F,W,c,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in i)W=i[_e],i.hasOwnProperty(_e)&&W!=null&&!c.hasOwnProperty(_e)&&mt(e,n,_e,null,c,W);for(X in c)if(W=c[X],te=i[X],c.hasOwnProperty(X)&&W!==te&&(W!=null||te!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(t(137,n));break;default:mt(e,n,X,W,c,te)}return;default:if(Wu(n)){for(var ft in i)W=i[ft],i.hasOwnProperty(ft)&&W!==void 0&&!c.hasOwnProperty(ft)&&Pm(e,n,ft,void 0,c,W);for(se in c)W=c[se],te=i[se],!c.hasOwnProperty(se)||W===te||W===void 0&&te===void 0||Pm(e,n,se,W,c,te);return}}for(var $ in i)W=i[$],i.hasOwnProperty($)&&W!=null&&!c.hasOwnProperty($)&&mt(e,n,$,null,c,W);for(ue in c)W=c[ue],te=i[ue],!c.hasOwnProperty(ue)||W===te||W==null&&te==null||mt(e,n,ue,W,c,te)}function Iv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hj(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),c=0;c<i.length;c++){var f=i[c],h=f.transferSize,C=f.initiatorType,E=f.duration;if(h&&E&&Iv(C)){for(C=0,E=f.responseEnd,c+=1;c<i.length;c++){var F=i[c],X=F.startTime;if(X>E)break;var se=F.transferSize,ue=F.initiatorType;se&&Iv(ue)&&(F=F.responseEnd,C+=se*(F<E?1:(E-X)/(F-X)))}if(--c,n+=8*(h+C)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var zm=null,Fm=null;function vc(e){return e.nodeType===9?e:e.ownerDocument}function Pv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Bm(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hm=null;function vj(){var e=window.event;return e&&e.type==="popstate"?e===Hm?!1:(Hm=e,!0):(Hm=null,!1)}var Fv=typeof setTimeout=="function"?setTimeout:void 0,bj=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,gj=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(e){return Bv.resolve(null).then(e).catch(yj)}:Fv;function yj(e){setTimeout(function(){throw e})}function Br(e){return e==="head"}function Hv(e,n){var i=n,c=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(c===0){e.removeChild(f),vl(n);return}c--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")c++;else if(i==="html")_i(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,_i(i);for(var h=i.firstChild;h;){var C=h.nextSibling,E=h.nodeName;h[as]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=C}}else i==="body"&&_i(e.ownerDocument.body);i=f}while(i);vl(n)}function Yv(e,n){var i=e;e=0;do{var c=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=c}while(i)}function Ym(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Ym(i),Wl(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Nj(e,n,i,c){for(;e.nodeType===1;){var f=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[as])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Ja(e.nextSibling),e===null)break}return null}function jj(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ja(e.nextSibling),e===null))return null;return e}function qv(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ja(e.nextSibling),e===null))return null;return e}function qm(e){return e.data==="$?"||e.data==="$~"}function Um(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function wj(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var c=function(){n(),i.removeEventListener("DOMContentLoaded",c)};i.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Ja(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var $m=null;function Uv(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return Ja(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function $v(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function Vv(e,n,i){switch(n=vc(i),e){case"html":if(e=n.documentElement,!e)throw Error(t(452));return e;case"head":if(e=n.head,!e)throw Error(t(453));return e;case"body":if(e=n.body,!e)throw Error(t(454));return e;default:throw Error(t(451))}}function _i(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Wl(e)}var en=new Map,Gv=new Set;function bc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var rr=Z.d;Z.d={f:Sj,r:Cj,D:kj,C:Dj,L:Mj,m:Aj,X:Ej,S:Tj,M:_j};function Sj(){var e=rr.f(),n=cc();return e||n}function Cj(e){var n=U(e);n!==null&&n.tag===5&&n.type==="form"?uh(n):rr.r(e)}var pl=typeof document>"u"?null:document;function Qv(e,n,i){var c=pl;if(c&&typeof n=="string"&&n){var f=Va(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),Gv.has(f)||(Gv.add(f),e={rel:e,crossOrigin:i,href:n},c.querySelector(f)===null&&(n=c.createElement("link"),Wt(n,"link",e),ht(n),c.head.appendChild(n)))}}function kj(e){rr.D(e),Qv("dns-prefetch",e,null)}function Dj(e,n){rr.C(e,n),Qv("preconnect",e,n)}function Mj(e,n,i){rr.L(e,n,i);var c=pl;if(c&&e&&n){var f='link[rel="preload"][as="'+Va(n)+'"]';n==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+Va(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+Va(i.imageSizes)+'"]')):f+='[href="'+Va(e)+'"]';var h=f;switch(n){case"style":h=xl(e);break;case"script":h=hl(e)}en.has(h)||(e=b({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),en.set(h,e),c.querySelector(f)!==null||n==="style"&&c.querySelector(Oi(h))||n==="script"&&c.querySelector(Ri(h))||(n=c.createElement("link"),Wt(n,"link",e),ht(n),c.head.appendChild(n)))}}function Aj(e,n){rr.m(e,n);var i=pl;if(i&&e){var c=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Va(c)+'"][href="'+Va(e)+'"]',h=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=hl(e)}if(!en.has(h)&&(e=b({rel:"modulepreload",href:e},n),en.set(h,e),i.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ri(h)))return}c=i.createElement("link"),Wt(c,"link",e),ht(c),i.head.appendChild(c)}}}function Tj(e,n,i){rr.S(e,n,i);var c=pl;if(c&&e){var f=It(c).hoistableStyles,h=xl(e);n=n||"default";var C=f.get(h);if(!C){var E={loading:0,preload:null};if(C=c.querySelector(Oi(h)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},i),(i=en.get(h))&&Vm(e,i);var F=C=c.createElement("link");ht(F),Wt(F,"link",e),F._p=new Promise(function(X,se){F.onload=X,F.onerror=se}),F.addEventListener("load",function(){E.loading|=1}),F.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gc(C,n,c)}C={type:"stylesheet",instance:C,count:1,state:E},f.set(h,C)}}}function Ej(e,n){rr.X(e,n);var i=pl;if(i&&e){var c=It(i).hoistableScripts,f=hl(e),h=c.get(f);h||(h=i.querySelector(Ri(f)),h||(e=b({src:e,async:!0},n),(n=en.get(f))&&Gm(e,n),h=i.createElement("script"),ht(h),Wt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(f,h))}}function _j(e,n){rr.M(e,n);var i=pl;if(i&&e){var c=It(i).hoistableScripts,f=hl(e),h=c.get(f);h||(h=i.querySelector(Ri(f)),h||(e=b({src:e,async:!0,type:"module"},n),(n=en.get(f))&&Gm(e,n),h=i.createElement("script"),ht(h),Wt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(f,h))}}function Kv(e,n,i,c){var f=(f=ge.current)?bc(f):null;if(!f)throw Error(t(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=xl(i.href),i=It(f).hoistableStyles,c=i.get(n),c||(c={type:"style",instance:null,count:0,state:null},i.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=xl(i.href);var h=It(f).hoistableStyles,C=h.get(e);if(C||(f=f.ownerDocument||f,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,C),(h=f.querySelector(Oi(e)))&&!h._p&&(C.instance=h,C.state.loading=5),en.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},en.set(e,i),h||Oj(f,e,i,C.state))),n&&c===null)throw Error(t(528,""));return C}if(n&&c!==null)throw Error(t(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=hl(i),i=It(f).hoistableScripts,c=i.get(n),c||(c={type:"script",instance:null,count:0,state:null},i.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(t(444,e))}}function xl(e){return'href="'+Va(e)+'"'}function Oi(e){return'link[rel="stylesheet"]['+e+"]"}function Xv(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Oj(e,n,i,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),Wt(n,"link",i),ht(n),e.head.appendChild(n))}function hl(e){return'[src="'+Va(e)+'"]'}function Ri(e){return"script[async]"+e}function Wv(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+Va(i.href)+'"]');if(c)return n.instance=c,ht(c),c;var f=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),ht(c),Wt(c,"style",f),gc(c,i.precedence,e),n.instance=c;case"stylesheet":f=xl(i.href);var h=e.querySelector(Oi(f));if(h)return n.state.loading|=4,n.instance=h,ht(h),h;c=Xv(i),(f=en.get(f))&&Vm(c,f),h=(e.ownerDocument||e).createElement("link"),ht(h);var C=h;return C._p=new Promise(function(E,F){C.onload=E,C.onerror=F}),Wt(h,"link",c),n.state.loading|=4,gc(h,i.precedence,e),n.instance=h;case"script":return h=hl(i.src),(f=e.querySelector(Ri(h)))?(n.instance=f,ht(f),f):(c=i,(f=en.get(h))&&(c=b({},i),Gm(c,f)),e=e.ownerDocument||e,f=e.createElement("script"),ht(f),Wt(f,"link",c),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(t(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,gc(c,i.precedence,e));return n.instance}function gc(e,n,i){for(var c=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,h=f,C=0;C<c.length;C++){var E=c[C];if(E.dataset.precedence===n)h=E;else if(h!==f)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Vm(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Gm(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yc=null;function Zv(e,n,i){if(yc===null){var c=new Map,f=yc=new Map;f.set(i,c)}else f=yc,c=f.get(i),c||(c=new Map,f.set(i,c));if(c.has(e))return c;for(c.set(e,null),i=i.getElementsByTagName(e),f=0;f<i.length;f++){var h=i[f];if(!(h[as]||h[Ht]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var C=h.getAttribute(n)||"";C=e+C;var E=c.get(C);E?E.push(h):c.set(C,[h])}}return c}function Jv(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function Rj(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function e0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Lj(e,n,i,c){if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=xl(c.href),h=n.querySelector(Oi(f));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Nc.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=h,ht(h);return}h=n.ownerDocument||n,c=Xv(c),(f=en.get(f))&&Vm(c,f),h=h.createElement("link"),ht(h);var C=h;C._p=new Promise(function(E,F){C.onload=E,C.onerror=F}),Wt(h,"link",c),i.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Nc.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var Qm=0;function Ij(e,n){return e.stylesheets&&e.count===0&&wc(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var c=setTimeout(function(){if(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&Qm===0&&(Qm=62500*hj());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Qm?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var jc=null;function wc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,jc=new Map,n.forEach(Pj,e),jc=null,Nc.call(e))}function Pj(e,n){if(!(n.state.loading&4)){var i=jc.get(e);if(i)var c=i.get(null);else{i=new Map,jc.set(e,i);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var C=f[h];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(i.set(C.dataset.precedence,C),c=C)}c&&i.set(null,c)}f=n.instance,C=f.getAttribute("data-precedence"),h=i.get(C)||c,h===c&&i.set(null,f),i.set(C,f),this.count++,c=Nc.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),h?h.parentNode.insertBefore(f,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Li={$$typeof:k,Provider:null,Consumer:null,_currentValue:_,_currentValue2:_,_threadCount:0};function zj(e,n,i,c,f,h,C,E,F){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rn(0),this.hiddenUpdates=rn(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function t0(e,n,i,c,f,h,C,E,F,X,se,ue){return e=new zj(e,n,i,C,F,X,se,ue,E),n=1,h===!0&&(n|=24),h=_a(3,null,null,n),e.current=h,h.stateNode=e,n=Dd(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:c,isDehydrated:i,cache:n},Ed(h),e}function a0(e){return e?(e=Gs,e):Gs}function n0(e,n,i,c,f,h){f=a0(f),c.context===null?c.context=f:c.pendingContext=f,c=Ar(n),c.payload={element:i},h=h===void 0?null:h,h!==null&&(c.callback=h),i=Tr(e,c,n),i!==null&&(wa(i,e,n),fi(i,e,n))}function r0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Km(e,n){r0(e,n),(e=e.alternate)&&r0(e,n)}function s0(e){if(e.tag===13||e.tag===31){var n=os(e,67108864);n!==null&&wa(n,e,67108864),Km(e,67108864)}}function l0(e){if(e.tag===13||e.tag===31){var n=Pa();n=Ql(n);var i=os(e,n);i!==null&&wa(i,e,n),Km(e,n)}}var Sc=!0;function Fj(e,n,i,c){var f=q.T;q.T=null;var h=Z.p;try{Z.p=2,Xm(e,n,i,c)}finally{Z.p=h,q.T=f}}function Bj(e,n,i,c){var f=q.T;q.T=null;var h=Z.p;try{Z.p=8,Xm(e,n,i,c)}finally{Z.p=h,q.T=f}}function Xm(e,n,i,c){if(Sc){var f=Wm(c);if(f===null)Im(e,n,c,Cc,i),o0(e,c);else if(Yj(f,e,n,i,c))c.stopPropagation();else if(o0(e,c),n&4&&-1<Hj.indexOf(e)){for(;f!==null;){var h=U(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var C=Ta(h.pendingLanes);if(C!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;C;){var F=1<<31-Ie(C);E.entanglements[1]|=F,C&=~F}wn(h),(st&6)===0&&(ic=Lt()+500,Ai(0))}}break;case 31:case 13:E=os(h,2),E!==null&&wa(E,h,2),cc(),Km(h,2)}if(h=Wm(c),h===null&&Im(e,n,c,Cc,i),h===f)break;f=h}f!==null&&c.stopPropagation()}else Im(e,n,c,null,i)}}function Wm(e){return e=Ju(e),Zm(e)}var Cc=null;function Zm(e){if(Cc=null,e=jr(e),e!==null){var n=u(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=d(n),e!==null)return e;e=null}else if(i===31){if(e=m(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Cc=e,null}function i0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(br()){case B:return 2;case ne:return 8;case je:case Fe:return 32;case Le:return 268435456;default:return 32}default:return 32}}var Jm=!1,Hr=null,Yr=null,qr=null,Ii=new Map,Pi=new Map,Ur=[],Hj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o0(e,n){switch(e){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Ii.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pi.delete(n.pointerId)}}function zi(e,n,i,c,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:i,eventSystemFlags:c,nativeEvent:h,targetContainers:[f]},n!==null&&(n=U(n),n!==null&&s0(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function Yj(e,n,i,c,f){switch(n){case"focusin":return Hr=zi(Hr,e,n,i,c,f),!0;case"dragenter":return Yr=zi(Yr,e,n,i,c,f),!0;case"mouseover":return qr=zi(qr,e,n,i,c,f),!0;case"pointerover":var h=f.pointerId;return Ii.set(h,zi(Ii.get(h)||null,e,n,i,c,f)),!0;case"gotpointercapture":return h=f.pointerId,Pi.set(h,zi(Pi.get(h)||null,e,n,i,c,f)),!0}return!1}function c0(e){var n=jr(e.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=d(i),n!==null){e.blockedOn=n,vo(e.priority,function(){l0(i)});return}}else if(n===31){if(n=m(i),n!==null){e.blockedOn=n,vo(e.priority,function(){l0(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Wm(e.nativeEvent);if(i===null){i=e.nativeEvent;var c=new i.constructor(i.type,i);Zu=c,i.target.dispatchEvent(c),Zu=null}else return n=U(i),n!==null&&s0(n),e.blockedOn=i,!1;n.shift()}return!0}function u0(e,n,i){kc(e)&&i.delete(n)}function qj(){Jm=!1,Hr!==null&&kc(Hr)&&(Hr=null),Yr!==null&&kc(Yr)&&(Yr=null),qr!==null&&kc(qr)&&(qr=null),Ii.forEach(u0),Pi.forEach(u0)}function Dc(e,n){e.blockedOn===n&&(e.blockedOn=null,Jm||(Jm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,qj)))}var Mc=null;function d0(e){Mc!==e&&(Mc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Mc===e&&(Mc=null);for(var n=0;n<e.length;n+=3){var i=e[n],c=e[n+1],f=e[n+2];if(typeof c!="function"){if(Zm(c||i)===null)continue;break}var h=U(i);h!==null&&(e.splice(n,3),n-=3,Wd(h,{pending:!0,data:f,method:i.method,action:c},c,f))}}))}function vl(e){function n(F){return Dc(F,e)}Hr!==null&&Dc(Hr,e),Yr!==null&&Dc(Yr,e),qr!==null&&Dc(qr,e),Ii.forEach(n),Pi.forEach(n);for(var i=0;i<Ur.length;i++){var c=Ur[i];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Ur.length&&(i=Ur[0],i.blockedOn===null);)c0(i),i.blockedOn===null&&Ur.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(c=0;c<i.length;c+=3){var f=i[c],h=i[c+1],C=f[na]||null;if(typeof h=="function")C||d0(i);else if(C){var E=null;if(h&&h.hasAttribute("formAction")){if(f=h,C=h[na]||null)E=C.formAction;else if(Zm(f)!==null)continue}else E=C.action;typeof E=="function"?i[c+1]=E:(i.splice(c,3),c-=3),d0(i)}}}function m0(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(C){return f=C})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),c||setTimeout(i,20)}function i(){if(!c&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function ef(e){this._internalRoot=e}Ac.prototype.render=ef.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(t(409));var i=n.current,c=Pa();n0(i,c,e,n,null,null)},Ac.prototype.unmount=ef.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;n0(e.current,2,null,e,null,null),cc(),n[Nr]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=ho();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Ur.length&&n!==0&&n<Ur[i].priority;i++);Ur.splice(i,0,e),i===0&&c0(e)}};var f0=l.version;if(f0!=="19.2.4")throw Error(t(527,f0,"19.2.4"));Z.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(t(188)):(e=Object.keys(e).join(","),Error(t(268,e)));return e=p(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Uj={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{Ee=Tc.inject(Uj),Me=Tc}catch{}}return Bi.createRoot=function(e,n){if(!o(e))throw Error(t(299));var i=!1,c="",f=yh,h=Nh,C=jh;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError)),n=t0(e,1,!1,null,null,i,c,null,f,h,C,m0),e[Nr]=n.current,Lm(e),new ef(n)},Bi.hydrateRoot=function(e,n,i){if(!o(e))throw Error(t(299));var c=!1,f="",h=yh,C=Nh,E=jh,F=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(C=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.formState!==void 0&&(F=i.formState)),n=t0(e,1,!0,n,i??null,c,f,F,h,C,E,m0),n.context=a0(null),i=n.current,c=Pa(),c=Ql(c),f=Ar(c),f.callback=null,Tr(i,f,c),i=c,n.current.lanes=i,Ua(n,i),wn(n),e[Nr]=n.current,Lm(e),new Ac(n)},Bi.version="19.2.4",Bi}var w0;function ew(){if(w0)return nf.exports;w0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),nf.exports=Jj(),nf.exports}var tw=ew();var S0="popstate";function aw(s={}){function l(t,o){let{pathname:u,search:d,hash:m}=t.location;return Ef("",{pathname:u,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(t,o){return typeof o=="string"?o:ao(o)}return rw(l,r,null,s)}function St(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function fn(s,l){if(!s){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function nw(){return Math.random().toString(36).substring(2,10)}function C0(s,l){return{usr:s.state,key:s.key,idx:l}}function Ef(s,l,r=null,t){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof l=="string"?Hl(l):l,state:r,key:l&&l.key||t||nw()}}function ao({pathname:s="/",search:l="",hash:r=""}){return l&&l!=="?"&&(s+=l.charAt(0)==="?"?l:"?"+l),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Hl(s){let l={};if(s){let r=s.indexOf("#");r>=0&&(l.hash=s.substring(r),s=s.substring(0,r));let t=s.indexOf("?");t>=0&&(l.search=s.substring(t),s=s.substring(0,t)),s&&(l.pathname=s)}return l}function rw(s,l,r,t={}){let{window:o=document.defaultView,v5Compat:u=!1}=t,d=o.history,m="POP",x=null,p=v();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function v(){return(d.state||{idx:null}).idx}function b(){m="POP";let g=v(),j=g==null?null:g-p;p=g,x&&x({action:m,location:S.location,delta:j})}function y(g,j){m="PUSH";let D=Ef(S.location,g,j);p=v()+1;let k=C0(D,p),O=S.createHref(D);try{d.pushState(k,"",O)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;o.location.assign(O)}u&&x&&x({action:m,location:S.location,delta:1})}function w(g,j){m="REPLACE";let D=Ef(S.location,g,j);p=v();let k=C0(D,p),O=S.createHref(D);d.replaceState(k,"",O),u&&x&&x({action:m,location:S.location,delta:0})}function M(g){return sw(g)}let S={get action(){return m},get location(){return s(o,d)},listen(g){if(x)throw new Error("A history only accepts one active listener");return o.addEventListener(S0,b),x=g,()=>{o.removeEventListener(S0,b),x=null}},createHref(g){return l(o,g)},createURL:M,encodeLocation(g){let j=M(g);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:y,replace:w,go(g){return d.go(g)}};return S}function sw(s,l=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),St(r,"No window.location.(origin|href) available to create URL");let t=typeof s=="string"?s:ao(s);return t=t.replace(/ $/,"%20"),!l&&t.startsWith("//")&&(t=r+t),new URL(t,r)}function bg(s,l,r="/"){return lw(s,l,r,!1)}function lw(s,l,r,t){let o=typeof l=="string"?Hl(l):l,u=mr(o.pathname||"/",r);if(u==null)return null;let d=gg(s);iw(d);let m=null;for(let x=0;m==null&&x<d.length;++x){let p=bw(u);m=hw(d[x],p,t)}return m}function gg(s,l=[],r=[],t="",o=!1){let u=(d,m,x=o,p)=>{let v={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(t)&&x)return;St(v.relativePath.startsWith(t),`Absolute route path "${v.relativePath}" nested under path "${t}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(t.length)}let b=or([t,v.relativePath]),y=r.concat(v);d.children&&d.children.length>0&&(St(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),gg(d.children,l,y,b,x)),!(d.path==null&&!d.index)&&l.push({path:b,score:pw(b,d.index),routesMeta:y})};return s.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))u(d,m);else for(let x of yg(d.path))u(d,m,!0,x)}),l}function yg(s){let l=s.split("/");if(l.length===0)return[];let[r,...t]=l,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(t.length===0)return o?[u,""]:[u];let d=yg(t.join("/")),m=[];return m.push(...d.map(x=>x===""?u:[u,x].join("/"))),o&&m.push(...d),m.map(x=>s.startsWith("/")&&x===""?"/":x)}function iw(s){s.sort((l,r)=>l.score!==r.score?r.score-l.score:xw(l.routesMeta.map(t=>t.childrenIndex),r.routesMeta.map(t=>t.childrenIndex)))}var ow=/^:[\w-]+$/,cw=3,uw=2,dw=1,mw=10,fw=-2,k0=s=>s==="*";function pw(s,l){let r=s.split("/"),t=r.length;return r.some(k0)&&(t+=fw),l&&(t+=uw),r.filter(o=>!k0(o)).reduce((o,u)=>o+(ow.test(u)?cw:u===""?dw:mw),t)}function xw(s,l){return s.length===l.length&&s.slice(0,-1).every((t,o)=>t===l[o])?s[s.length-1]-l[l.length-1]:0}function hw(s,l,r=!1){let{routesMeta:t}=s,o={},u="/",d=[];for(let m=0;m<t.length;++m){let x=t[m],p=m===t.length-1,v=u==="/"?l:l.slice(u.length)||"/",b=uu({path:x.relativePath,caseSensitive:x.caseSensitive,end:p},v),y=x.route;if(!b&&p&&r&&!t[t.length-1].route.index&&(b=uu({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:or([u,b.pathname]),pathnameBase:jw(or([u,b.pathnameBase])),route:y}),b.pathnameBase!=="/"&&(u=or([u,b.pathnameBase]))}return d}function uu(s,l){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,t]=vw(s.path,s.caseSensitive,s.end),o=l.match(r);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:t.reduce((p,{paramName:v,isOptional:b},y)=>{if(v==="*"){let M=m[y]||"";d=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const w=m[y];return b&&!w?p[v]=void 0:p[v]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:s}}function vw(s,l=!1,r=!0){fn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let t=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,x)=>(t.push({paramName:m,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(t.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,l?void 0:"i"),t]}function bw(s){try{return s.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return fn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${l}).`),s}}function mr(s,l){if(l==="/")return s;if(!s.toLowerCase().startsWith(l.toLowerCase()))return null;let r=l.endsWith("/")?l.length-1:l.length,t=s.charAt(r);return t&&t!=="/"?null:s.slice(r)||"/"}var gw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function yw(s,l="/"){let{pathname:r,search:t="",hash:o=""}=typeof s=="string"?Hl(s):s,u;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?u=D0(r.substring(1),"/"):u=D0(r,l)):u=l,{pathname:u,search:ww(t),hash:Sw(o)}}function D0(s,l){let r=l.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function of(s,l,r,t){return`Cannot include a '${s}' character in a manually specified \`to.${l}\` field [${JSON.stringify(t)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Nw(s){return s.filter((l,r)=>r===0||l.route.path&&l.route.path.length>0)}function Kf(s){let l=Nw(s);return l.map((r,t)=>t===l.length-1?r.pathname:r.pathnameBase)}function Xf(s,l,r,t=!1){let o;typeof s=="string"?o=Hl(s):(o={...s},St(!o.pathname||!o.pathname.includes("?"),of("?","pathname","search",o)),St(!o.pathname||!o.pathname.includes("#"),of("#","pathname","hash",o)),St(!o.search||!o.search.includes("#"),of("#","search","hash",o)));let u=s===""||o.pathname==="",d=u?"/":o.pathname,m;if(d==null)m=r;else{let b=l.length-1;if(!t&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),b-=1;o.pathname=y.join("/")}m=b>=0?l[b]:"/"}let x=yw(o,m),p=d&&d!=="/"&&d.endsWith("/"),v=(u||d===".")&&r.endsWith("/");return!x.pathname.endsWith("/")&&(p||v)&&(x.pathname+="/"),x}var or=s=>s.join("/").replace(/\/\/+/g,"/"),jw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),ww=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Sw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,Cw=class{constructor(s,l,r,t=!1){this.status=s,this.statusText=l||"",this.internal=t,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function kw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function Dw(s){return s.map(l=>l.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ng=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jg(s,l){let r=s;if(typeof r!="string"||!gw.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let t=r,o=!1;if(Ng)try{let u=new URL(window.location.href),d=r.startsWith("//")?new URL(u.protocol+r):new URL(r),m=mr(d.pathname,l);d.origin===u.origin&&m!=null?r=m+d.search+d.hash:o=!0}catch{fn(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:t,isExternal:o,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wg=["POST","PUT","PATCH","DELETE"];new Set(wg);var Mw=["GET",...wg];new Set(Mw);var Yl=N.createContext(null);Yl.displayName="DataRouter";var _u=N.createContext(null);_u.displayName="DataRouterState";var Aw=N.createContext(!1),Sg=N.createContext({isTransitioning:!1});Sg.displayName="ViewTransition";var Tw=N.createContext(new Map);Tw.displayName="Fetchers";var Ew=N.createContext(null);Ew.displayName="Await";var Ya=N.createContext(null);Ya.displayName="Navigation";var io=N.createContext(null);io.displayName="Location";var xn=N.createContext({outlet:null,matches:[],isDataRoute:!1});xn.displayName="Route";var Wf=N.createContext(null);Wf.displayName="RouteError";var Cg="REACT_ROUTER_ERROR",_w="REDIRECT",Ow="ROUTE_ERROR_RESPONSE";function Rw(s){if(s.startsWith(`${Cg}:${_w}:{`))try{let l=JSON.parse(s.slice(28));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.location=="string"&&typeof l.reloadDocument=="boolean"&&typeof l.replace=="boolean")return l}catch{}}function Lw(s){if(s.startsWith(`${Cg}:${Ow}:{`))try{let l=JSON.parse(s.slice(40));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string")return new Cw(l.status,l.statusText,l.data)}catch{}}function Iw(s,{relative:l}={}){St(ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:t}=N.useContext(Ya),{hash:o,pathname:u,search:d}=oo(s,{relative:l}),m=u;return r!=="/"&&(m=u==="/"?r:or([r,u])),t.createHref({pathname:m,search:d,hash:o})}function ql(){return N.useContext(io)!=null}function nn(){return St(ql(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(io).location}var kg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dg(s){N.useContext(Ya).static||N.useLayoutEffect(s)}function Ls(){let{isDataRoute:s}=N.useContext(xn);return s?Ww():Pw()}function Pw(){St(ql(),"useNavigate() may be used only in the context of a <Router> component.");let s=N.useContext(Yl),{basename:l,navigator:r}=N.useContext(Ya),{matches:t}=N.useContext(xn),{pathname:o}=nn(),u=JSON.stringify(Kf(t)),d=N.useRef(!1);return Dg(()=>{d.current=!0}),N.useCallback((x,p={})=>{if(fn(d.current,kg),!d.current)return;if(typeof x=="number"){r.go(x);return}let v=Xf(x,JSON.parse(u),o,p.relative==="path");s==null&&l!=="/"&&(v.pathname=v.pathname==="/"?l:or([l,v.pathname])),(p.replace?r.replace:r.push)(v,p.state,p)},[l,r,u,o,s])}var zw=N.createContext(null);function Fw(s){let l=N.useContext(xn).outlet;return N.useMemo(()=>l&&N.createElement(zw.Provider,{value:s},l),[l,s])}function oo(s,{relative:l}={}){let{matches:r}=N.useContext(xn),{pathname:t}=nn(),o=JSON.stringify(Kf(r));return N.useMemo(()=>Xf(s,JSON.parse(o),t,l==="path"),[s,o,t,l])}function Bw(s,l){return Mg(s,l)}function Mg(s,l,r,t,o){St(ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=N.useContext(Ya),{matches:d}=N.useContext(xn),m=d[d.length-1],x=m?m.params:{},p=m?m.pathname:"/",v=m?m.pathnameBase:"/",b=m&&m.route;{let D=b&&b.path||"";Tg(p,!b||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let y=nn(),w;if(l){let D=typeof l=="string"?Hl(l):l;St(v==="/"||D.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${D.pathname}" was given in the \`location\` prop.`),w=D}else w=y;let M=w.pathname||"/",S=M;if(v!=="/"){let D=v.replace(/^\//,"").split("/");S="/"+M.replace(/^\//,"").split("/").slice(D.length).join("/")}let g=bg(s,{pathname:S});fn(b||g!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),fn(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=$w(g&&g.map(D=>Object.assign({},D,{params:Object.assign({},x,D.params),pathname:or([v,u.encodeLocation?u.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:or([v,u.encodeLocation?u.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),d,r,t,o);return l&&j?N.createElement(io.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},j):j}function Hw(){let s=Xw(),l=kw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,t="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:t},u={padding:"2px 4px",backgroundColor:t},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:u},"ErrorBoundary")," or"," ",N.createElement("code",{style:u},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},l),r?N.createElement("pre",{style:o},r):null,d)}var Yw=N.createElement(Hw,null),Ag=class extends N.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,l){return l.location!==s.location||l.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:l.error,location:l.location,revalidation:s.revalidation||l.revalidation}}componentDidCatch(s,l){this.props.onError?this.props.onError(s,l):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const r=Lw(s.digest);r&&(s=r)}let l=s!==void 0?N.createElement(xn.Provider,{value:this.props.routeContext},N.createElement(Wf.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?N.createElement(qw,{error:s},l):l}};Ag.contextType=Aw;var cf=new WeakMap;function qw({children:s,error:l}){let{basename:r}=N.useContext(Ya);if(typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){let t=Rw(l.digest);if(t){let o=cf.get(l);if(o)throw o;let u=jg(t.location,r);if(Ng&&!cf.get(l))if(u.isExternal||t.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:t.replace}));throw cf.set(l,d),d}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function Uw({routeContext:s,match:l,children:r}){let t=N.useContext(Yl);return t&&t.static&&t.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(t.staticContext._deepestRenderedBoundaryId=l.route.id),N.createElement(xn.Provider,{value:s},r)}function $w(s,l=[],r=null,t=null,o=null){if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(l.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let u=s,d=r?.errors;if(d!=null){let v=u.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);St(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,x=-1;if(r)for(let v=0;v<u.length;v++){let b=u[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(x=v),b.route.id){let{loaderData:y,errors:w}=r,M=b.route.loader&&!y.hasOwnProperty(b.route.id)&&(!w||w[b.route.id]===void 0);if(b.route.lazy||M){m=!0,x>=0?u=u.slice(0,x+1):u=[u[0]];break}}}let p=r&&t?(v,b)=>{t(v,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:Dw(r.matches),errorInfo:b})}:void 0;return u.reduceRight((v,b,y)=>{let w,M=!1,S=null,g=null;r&&(w=d&&b.route.id?d[b.route.id]:void 0,S=b.route.errorElement||Yw,m&&(x<0&&y===0?(Tg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,g=null):x===y&&(M=!0,g=b.route.hydrateFallbackElement||null)));let j=l.concat(u.slice(0,y+1)),D=()=>{let k;return w?k=S:M?k=g:b.route.Component?k=N.createElement(b.route.Component,null):b.route.element?k=b.route.element:k=v,N.createElement(Uw,{match:b,routeContext:{outlet:v,matches:j,isDataRoute:r!=null},children:k})};return r&&(b.route.ErrorBoundary||b.route.errorElement||y===0)?N.createElement(Ag,{location:r.location,revalidation:r.revalidation,component:S,error:w,children:D(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:p}):D()},null)}function Zf(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vw(s){let l=N.useContext(Yl);return St(l,Zf(s)),l}function Gw(s){let l=N.useContext(_u);return St(l,Zf(s)),l}function Qw(s){let l=N.useContext(xn);return St(l,Zf(s)),l}function Jf(s){let l=Qw(s),r=l.matches[l.matches.length-1];return St(r.route.id,`${s} can only be used on routes that contain a unique "id"`),r.route.id}function Kw(){return Jf("useRouteId")}function Xw(){let s=N.useContext(Wf),l=Gw("useRouteError"),r=Jf("useRouteError");return s!==void 0?s:l.errors?.[r]}function Ww(){let{router:s}=Vw("useNavigate"),l=Jf("useNavigate"),r=N.useRef(!1);return Dg(()=>{r.current=!0}),N.useCallback(async(o,u={})=>{fn(r.current,kg),r.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:l,...u}))},[s,l])}var M0={};function Tg(s,l,r){!l&&!M0[s]&&(M0[s]=!0,fn(!1,r))}N.memo(Zw);function Zw({routes:s,future:l,state:r,onError:t}){return Mg(s,void 0,r,t,l)}function du({to:s,replace:l,state:r,relative:t}){St(ql(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=N.useContext(Ya);fn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=N.useContext(xn),{pathname:d}=nn(),m=Ls(),x=Xf(s,Kf(u),d,t==="path"),p=JSON.stringify(x);return N.useEffect(()=>{m(JSON.parse(p),{replace:l,state:r,relative:t})},[m,p,t,l,r]),null}function Eg(s){return Fw(s.context)}function wt(s){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Jw({basename:s="/",children:l=null,location:r,navigationType:t="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){St(!ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),x=N.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[m,o,u,d]);typeof r=="string"&&(r=Hl(r));let{pathname:p="/",search:v="",hash:b="",state:y=null,key:w="default"}=r,M=N.useMemo(()=>{let S=mr(p,m);return S==null?null:{location:{pathname:S,search:v,hash:b,state:y,key:w},navigationType:t}},[m,p,v,b,y,w,t]);return fn(M!=null,`<Router basename="${m}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:N.createElement(Ya.Provider,{value:x},N.createElement(io.Provider,{children:l,value:M}))}function e2({children:s,location:l}){return Bw(_f(s),l)}function _f(s,l=[]){let r=[];return N.Children.forEach(s,(t,o)=>{if(!N.isValidElement(t))return;let u=[...l,o];if(t.type===N.Fragment){r.push.apply(r,_f(t.props.children,u));return}St(t.type===wt,`[${typeof t.type=="string"?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!t.props.index||!t.props.children,"An index route cannot have child routes.");let d={id:t.props.id||u.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,middleware:t.props.middleware,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:t.props.hasErrorBoundary===!0||t.props.ErrorBoundary!=null||t.props.errorElement!=null,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(d.children=_f(t.props.children,u)),r.push(d)}),r}var eu="get",tu="application/x-www-form-urlencoded";function Ou(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function t2(s){return Ou(s)&&s.tagName.toLowerCase()==="button"}function a2(s){return Ou(s)&&s.tagName.toLowerCase()==="form"}function n2(s){return Ou(s)&&s.tagName.toLowerCase()==="input"}function r2(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function s2(s,l){return s.button===0&&(!l||l==="_self")&&!r2(s)}var Ec=null;function l2(){if(Ec===null)try{new FormData(document.createElement("form"),0),Ec=!1}catch{Ec=!0}return Ec}var i2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uf(s){return s!=null&&!i2.has(s)?(fn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tu}"`),null):s}function o2(s,l){let r,t,o,u,d;if(a2(s)){let m=s.getAttribute("action");t=m?mr(m,l):null,r=s.getAttribute("method")||eu,o=uf(s.getAttribute("enctype"))||tu,u=new FormData(s)}else if(t2(s)||n2(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=s.getAttribute("formaction")||m.getAttribute("action");if(t=x?mr(x,l):null,r=s.getAttribute("formmethod")||m.getAttribute("method")||eu,o=uf(s.getAttribute("formenctype"))||uf(m.getAttribute("enctype"))||tu,u=new FormData(m,s),!l2()){let{name:p,type:v,value:b}=s;if(v==="image"){let y=p?`${p}.`:"";u.append(`${y}x`,"0"),u.append(`${y}y`,"0")}else p&&u.append(p,b)}}else{if(Ou(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=eu,t=null,o=tu,d=s}return u&&o==="text/plain"&&(d=u,u=void 0),{action:t,method:r.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ep(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function c2(s,l,r,t){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${t}`:o.pathname=`${o.pathname}.${t}`:o.pathname==="/"?o.pathname=`_root.${t}`:l&&mr(o.pathname,l)==="/"?o.pathname=`${l.replace(/\/$/,"")}/_root.${t}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${t}`,o}async function u2(s,l){if(s.id in l)return l[s.id];try{let r=await import(s.module);return l[s.id]=r,r}catch(r){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function d2(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function m2(s,l,r){let t=await Promise.all(s.map(async o=>{let u=l.routes[o.route.id];if(u){let d=await u2(u,r);return d.links?d.links():[]}return[]}));return h2(t.flat(1).filter(d2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function A0(s,l,r,t,o,u){let d=(x,p)=>r[p]?x.route.id!==r[p].route.id:!0,m=(x,p)=>r[p].pathname!==x.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==x.params["*"];return u==="assets"?l.filter((x,p)=>d(x,p)||m(x,p)):u==="data"?l.filter((x,p)=>{let v=t.routes[x.route.id];if(!v||!v.hasLoader)return!1;if(d(x,p)||m(x,p))return!0;if(x.route.shouldRevalidate){let b=x.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function f2(s,l,{includeHydrateFallback:r}={}){return p2(s.map(t=>{let o=l.routes[t.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function p2(s){return[...new Set(s)]}function x2(s){let l={},r=Object.keys(s).sort();for(let t of r)l[t]=s[t];return l}function h2(s,l){let r=new Set;return new Set(l),s.reduce((t,o)=>{let u=JSON.stringify(x2(o));return r.has(u)||(r.add(u),t.push({key:u,link:o})),t},[])}function _g(){let s=N.useContext(Yl);return ep(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function v2(){let s=N.useContext(_u);return ep(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var tp=N.createContext(void 0);tp.displayName="FrameworkContext";function Og(){let s=N.useContext(tp);return ep(s,"You must render this element inside a <HydratedRouter> element"),s}function b2(s,l){let r=N.useContext(tp),[t,o]=N.useState(!1),[u,d]=N.useState(!1),{onFocus:m,onBlur:x,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=l,y=N.useRef(null);N.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let S=j=>{j.forEach(D=>{d(D.isIntersecting)})},g=new IntersectionObserver(S,{threshold:.5});return y.current&&g.observe(y.current),()=>{g.disconnect()}}},[s]),N.useEffect(()=>{if(t){let S=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(S)}}},[t]);let w=()=>{o(!0)},M=()=>{o(!1),d(!1)};return r?s!=="intent"?[u,y,{}]:[u,y,{onFocus:Hi(m,w),onBlur:Hi(x,M),onMouseEnter:Hi(p,w),onMouseLeave:Hi(v,M),onTouchStart:Hi(b,w)}]:[!1,y,{}]}function Hi(s,l){return r=>{s&&s(r),r.defaultPrevented||l(r)}}function g2({page:s,...l}){let{router:r}=_g(),t=N.useMemo(()=>bg(r.routes,s,r.basename),[r.routes,s,r.basename]);return t?N.createElement(N2,{page:s,matches:t,...l}):null}function y2(s){let{manifest:l,routeModules:r}=Og(),[t,o]=N.useState([]);return N.useEffect(()=>{let u=!1;return m2(s,l,r).then(d=>{u||o(d)}),()=>{u=!0}},[s,l,r]),t}function N2({page:s,matches:l,...r}){let t=nn(),{future:o,manifest:u,routeModules:d}=Og(),{basename:m}=_g(),{loaderData:x,matches:p}=v2(),v=N.useMemo(()=>A0(s,l,p,u,t,"data"),[s,l,p,u,t]),b=N.useMemo(()=>A0(s,l,p,u,t,"assets"),[s,l,p,u,t]),y=N.useMemo(()=>{if(s===t.pathname+t.search+t.hash)return[];let S=new Set,g=!1;if(l.forEach(D=>{let k=u.routes[D.route.id];!k||!k.hasLoader||(!v.some(O=>O.route.id===D.route.id)&&D.route.id in x&&d[D.route.id]?.shouldRevalidate||k.hasClientLoader?g=!0:S.add(D.route.id))}),S.size===0)return[];let j=c2(s,m,o.unstable_trailingSlashAwareDataRequests,"data");return g&&S.size>0&&j.searchParams.set("_routes",l.filter(D=>S.has(D.route.id)).map(D=>D.route.id).join(",")),[j.pathname+j.search]},[m,o.unstable_trailingSlashAwareDataRequests,x,t,u,v,l,s,d]),w=N.useMemo(()=>f2(b,u),[b,u]),M=y2(b);return N.createElement(N.Fragment,null,y.map(S=>N.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),w.map(S=>N.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),M.map(({key:S,link:g})=>N.createElement("link",{key:S,nonce:r.nonce,...g,crossOrigin:g.crossOrigin??r.crossOrigin})))}function j2(...s){return l=>{s.forEach(r=>{typeof r=="function"?r(l):r!=null&&(r.current=l)})}}var w2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w2&&(window.__reactRouterVersion="7.13.0")}catch{}function S2({basename:s,children:l,unstable_useTransitions:r,window:t}){let o=N.useRef();o.current==null&&(o.current=aw({window:t,v5Compat:!0}));let u=o.current,[d,m]=N.useState({action:u.action,location:u.location}),x=N.useCallback(p=>{r===!1?m(p):N.startTransition(()=>m(p))},[r]);return N.useLayoutEffect(()=>u.listen(x),[u,x]),N.createElement(Jw,{basename:s,children:l,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:r})}var Rg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cl=N.forwardRef(function({onClick:l,discover:r="render",prefetch:t="none",relative:o,reloadDocument:u,replace:d,state:m,target:x,to:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:y,...w},M){let{basename:S,unstable_useTransitions:g}=N.useContext(Ya),j=typeof p=="string"&&Rg.test(p),D=jg(p,S);p=D.to;let k=Iw(p,{relative:o}),[O,T,H]=b2(t,w),I=D2(p,{replace:d,state:m,target:x,preventScrollReset:v,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:y,unstable_useTransitions:g});function R(L){l&&l(L),L.defaultPrevented||I(L)}let z=N.createElement("a",{...w,...H,href:D.absoluteURL||k,onClick:D.isExternal||u?l:R,ref:j2(M,T),target:x,"data-discover":!j&&r==="render"?"true":void 0});return O&&!j?N.createElement(N.Fragment,null,z,N.createElement(g2,{page:k})):z});Cl.displayName="Link";var ap=N.forwardRef(function({"aria-current":l="page",caseSensitive:r=!1,className:t="",end:o=!1,style:u,to:d,viewTransition:m,children:x,...p},v){let b=oo(d,{relative:p.relative}),y=nn(),w=N.useContext(_u),{navigator:M,basename:S}=N.useContext(Ya),g=w!=null&&_2(b)&&m===!0,j=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,D=y.pathname,k=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(D=D.toLowerCase(),k=k?k.toLowerCase():null,j=j.toLowerCase()),k&&S&&(k=mr(k,S)||k);const O=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let T=D===j||!o&&D.startsWith(j)&&D.charAt(O)==="/",H=k!=null&&(k===j||!o&&k.startsWith(j)&&k.charAt(j.length)==="/"),I={isActive:T,isPending:H,isTransitioning:g},R=T?l:void 0,z;typeof t=="function"?z=t(I):z=[t,T?"active":null,H?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(I):u;return N.createElement(Cl,{...p,"aria-current":R,className:z,ref:v,style:L,to:d,viewTransition:m},typeof x=="function"?x(I):x)});ap.displayName="NavLink";var C2=N.forwardRef(({discover:s="render",fetcherKey:l,navigate:r,reloadDocument:t,replace:o,state:u,method:d=eu,action:m,onSubmit:x,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:y,...w},M)=>{let{unstable_useTransitions:S}=N.useContext(Ya),g=T2(),j=E2(m,{relative:p}),D=d.toLowerCase()==="get"?"get":"post",k=typeof m=="string"&&Rg.test(m),O=T=>{if(x&&x(T),T.defaultPrevented)return;T.preventDefault();let H=T.nativeEvent.submitter,I=H?.getAttribute("formmethod")||d,R=()=>g(H||T.currentTarget,{fetcherKey:l,method:I,navigate:r,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:y});S&&r!==!1?N.startTransition(()=>R()):R()};return N.createElement("form",{ref:M,method:D,action:j,onSubmit:t?x:O,...w,"data-discover":!k&&s==="render"?"true":void 0})});C2.displayName="Form";function k2(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lg(s){let l=N.useContext(Yl);return St(l,k2(s)),l}function D2(s,{target:l,replace:r,state:t,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:m,unstable_useTransitions:x}={}){let p=Ls(),v=nn(),b=oo(s,{relative:u});return N.useCallback(y=>{if(s2(y,l)){y.preventDefault();let w=r!==void 0?r:ao(v)===ao(b),M=()=>p(s,{replace:w,state:t,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:m});x?N.startTransition(()=>M()):M()}},[v,p,b,r,t,l,s,o,u,d,m,x])}var M2=0,A2=()=>`__${String(++M2)}__`;function T2(){let{router:s}=Lg("useSubmit"),{basename:l}=N.useContext(Ya),r=Kw(),t=s.fetch,o=s.navigate;return N.useCallback(async(u,d={})=>{let{action:m,method:x,encType:p,formData:v,body:b}=o2(u,l);if(d.navigate===!1){let y=d.fetcherKey||A2();await t(y,r,d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:b,formMethod:d.method||x,formEncType:d.encType||p,flushSync:d.flushSync})}else await o(d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:b,formMethod:d.method||x,formEncType:d.encType||p,replace:d.replace,state:d.state,fromRouteId:r,flushSync:d.flushSync,viewTransition:d.viewTransition})},[t,o,l,r])}function E2(s,{relative:l}={}){let{basename:r}=N.useContext(Ya),t=N.useContext(xn);St(t,"useFormAction must be used inside a RouteContext");let[o]=t.matches.slice(-1),u={...oo(s||".",{relative:l})},d=nn();if(s==null){u.search=d.search;let m=new URLSearchParams(u.search),x=m.getAll("index");if(x.some(v=>v==="")){m.delete("index"),x.filter(b=>b).forEach(b=>m.append("index",b));let v=m.toString();u.search=v?`?${v}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:or([r,u.pathname])),ao(u)}function _2(s,{relative:l}={}){let r=N.useContext(Sg);St(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:t}=Lg("useViewTransitionState"),o=oo(s,{relative:l});if(!r.isTransitioning)return!1;let u=mr(r.currentLocation.pathname,t)||r.currentLocation.pathname,d=mr(r.nextLocation.pathname,t)||r.nextLocation.pathname;return uu(o.pathname,d)!=null||uu(o.pathname,u)!=null}var np=vg();const O2=xg(np),R2="AKfycbxccNCtP7OjhWSJAtlgz2OzUVlZrAliD9w0a38na-9s_k2mMOwlzg-RN3brvyc5-3NX",rp="cf_access_token",sp="cf_token_expiry",lp="cf_user_name";function mu(){const s=localStorage.getItem(sp);return s&&Date.now()>Number(s)?(au(),null):localStorage.getItem(rp)}function T0(s,l=3500){localStorage.setItem(rp,s),localStorage.setItem(sp,String(Date.now()+l*1e3))}function au(){localStorage.removeItem(rp),localStorage.removeItem(sp),localStorage.removeItem(lp)}function E0(){return!!mu()}function _0(s){localStorage.setItem(lp,s)}function L2(){return localStorage.getItem(lp)||""}let Of=null;function I2(s){Of=s}async function ye(s,l={},r=!0){const t=mu();if(!t)throw new Error("Not authenticated. Please sign in.");const m=await(await fetch(`https://script.googleapis.com/v1/scripts/${R2}:run`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({function:"apiRouter",devMode:!1,parameters:[{action:s,params:l,userName:L2()}]})})).json();if(m.error){if(r&&(m.error.code===401||m.error.code===403||m.error.status==="UNAUTHENTICATED"||m.error.status==="PERMISSION_DENIED")&&Of)try{return await Of(),ye(s,l,!1)}catch{}if(m.error.details&&m.error.details.length>0){const x=m.error.details[0];throw new Error(x.errorMessage||"Script execution error")}throw new Error(m.error.message||"API error")}if(m.response&&m.response.result!==void 0){const x=m.response.result;if(x&&!x.success){const v=new Error(x.error||"Unknown error");throw v.code=x.code,v}const p=x?x.data:null;if(p&&p.success===!1)throw new Error(p.message||"Operation failed");return p}throw new Error("Unexpected response format")}const O0=()=>ye("auth:me"),P2=(s,l)=>ye("auth:invite",{email:s,name:l}),fu=()=>ye("data:load-all"),Ig=()=>ye("members:list"),Pg=s=>ye("member:create",s),zg=s=>ye("member:update",s),Fg=s=>ye("member:delete",{memberId:s}),Bg=()=>ye("banks:list"),Hg=s=>ye("bank:create",s),z2=s=>ye("bank:update",s),Yg=s=>ye("bank:delete",{accountId:s}),qg=()=>ye("invaccounts:list"),Ug=s=>ye("invacct:create",s),F2=s=>ye("invacct:update",s),$g=s=>ye("invacct:delete",{accountId:s}),B2=()=>ye("portfolios:list"),H2=s=>ye("portfolio:create",s),Y2=s=>ye("portfolio:update",s),q2=s=>ye("portfolio:delete",{portfolioId:s}),U2=s=>ye("mf:invest",s),$2=s=>ye("mf:redeem",s),V2=s=>ye("mf:switch",s),G2=(s,l)=>ye("mf:allocations-update",{portfolioId:s,allocations:l}),Q2=()=>ye("funds:all"),Vg=()=>ye("goals:list"),Gg=s=>ye("goal:create",s),K2=(s,l)=>ye("goal:update",{goalId:s,...l}),Qg=s=>ye("goal:delete",{goalId:s}),X2=()=>ye("goal:mappings-list"),W2=(s,l)=>ye("goal:mappings-update",{goalId:s,mappings:l}),Kg=()=>ye("insurance:list"),Xg=s=>ye("insurance:create",s),Z2=s=>ye("insurance:update",s),Wg=s=>ye("insurance:delete",{policyId:s}),Zg=()=>ye("liabilities:list"),Jg=s=>ye("liability:create",s),J2=s=>ye("liability:update",s),ey=s=>ye("liability:delete",{liabilityId:s}),ty=()=>ye("otherinv:list"),ay=s=>ye("otherinv:create",s),eS=s=>ye("otherinv:update",s),ny=s=>ye("otherinv:delete",{investmentId:s}),ry=()=>ye("stock-portfolios:list"),sy=s=>ye("stock-portfolio:create",s),tS=s=>ye("stock-portfolio:update",s),ly=s=>ye("stock-portfolio:delete",{portfolioId:s}),aS=s=>ye("stock:buy",s),nS=s=>ye("stock:sell",s),rS=s=>ye("mf-transaction:delete",{transactionId:s}),sS=s=>ye("mf-transaction:edit",s),lS=()=>ye("mf-holdings:list"),iS=()=>ye("mf-transactions:list"),oS=()=>ye("stock-holdings:list-all"),cS=()=>ye("stock-transactions:list-all"),iy=()=>ye("reminders:list"),oy=s=>ye("reminder:create",s),uS=s=>ye("reminder:update",s),cy=s=>ye("reminder:delete",{reminderId:s}),dS=s=>ye("healthcheck:save",s),uy=()=>ye("healthcheck:get"),mS=()=>ye("settings:list"),fS=s=>ye("settings:update",s),pS=()=>ye("market:data"),xS=()=>ye("data:refresh-master");typeof window<"u"&&(window._cf={callAPI:ye,checkTriggers:()=>ye("test:triggers"),diagnose:()=>ye("test:diagnose")});const hS="capital-friends",vS=1,Aa="cache";let Yi=null;function Ul(){return Yi||(Yi=new Promise((s,l)=>{const r=indexedDB.open(hS,vS);r.onupgradeneeded=t=>{const o=t.target.result;o.objectStoreNames.contains(Aa)||o.createObjectStore(Aa,{keyPath:"key"})},r.onsuccess=()=>s(r.result),r.onerror=()=>{console.warn("[idb] Failed to open database:",r.error),Yi=null,l(r.error)}}),Yi)}async function dy(s){try{const l=await Ul();return new Promise(r=>{const o=l.transaction(Aa,"readonly").objectStore(Aa).get(s);o.onsuccess=()=>r(o.result?o.result.data:null),o.onerror=()=>r(null)})}catch{return null}}async function bS(s){try{const l=await Ul();return new Promise(r=>{const o=l.transaction(Aa,"readonly").objectStore(Aa).get(s);o.onsuccess=()=>r(o.result||null),o.onerror=()=>r(null)})}catch{return null}}async function Ca(s,l){try{const r=await Ul();return new Promise(t=>{const o=r.transaction(Aa,"readwrite");o.objectStore(Aa).put({key:s,data:l,updatedAt:Date.now()}),o.oncomplete=()=>t(),o.onerror=()=>t()})}catch{}}async function gS(){try{const s=await Ul();return new Promise(l=>{const t=s.transaction(Aa,"readonly").objectStore(Aa).getAll();t.onsuccess=()=>{const o={};for(const u of t.result||[])o[u.key]=u.data;l(o)},t.onerror=()=>l({})})}catch{return{}}}async function df(s){try{const l=await Ul();return new Promise(r=>{const t=l.transaction(Aa,"readwrite"),o=t.objectStore(Aa),u=Date.now();for(const[d,m]of Object.entries(s))o.put({key:d,data:m,updatedAt:u});t.oncomplete=()=>r(),t.onerror=()=>r()})}catch{}}async function yS(){try{const s=await Ul();return new Promise(l=>{const r=s.transaction(Aa,"readwrite");r.objectStore(Aa).clear(),r.oncomplete=()=>l(),r.onerror=()=>l()})}catch{}}const my=N.createContext(null),NS="868467315292-7hfrvkh8pq8f1e2l3v38m6qrupboa295.apps.googleusercontent.com",jS=["https://www.googleapis.com/auth/spreadsheets","https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/gmail.send","https://www.googleapis.com/auth/script.scriptapp","openid","email","profile"].join(" "),ip="cf_user_profile";function R0(){try{const s=localStorage.getItem(ip);return s?JSON.parse(s):null}catch{return null}}function wS(s){try{localStorage.setItem(ip,JSON.stringify(s))}catch{}}function L0(){localStorage.removeItem(ip)}function SS({children:s}){const l=E0()?R0():null,[r,t]=N.useState(l),[o,u]=N.useState(!l),[d,m]=N.useState(null),x=N.useRef(null);function p(j){t(j),j?wS(j):L0()}N.useEffect(()=>{const j=()=>{if(!window.google?.accounts?.oauth2){setTimeout(j,200);return}x.current=window.google.accounts.oauth2.initTokenClient({client_id:NS,scope:jS,callback:v}),I2(w),E0()?y():u(!1)};j()},[]);async function v(j){if(j.error){m(j.error_description||j.error),u(!1);return}try{u(!0),m(null),T0(j.access_token,j.expires_in);const D=await b(j.access_token);_0(D.name||"");const k=await O0();p({email:k.email||D.email,name:k.name||D.name,role:k.role,picture:D.picture||""})}catch(D){m(D.message),au(),p(null)}finally{u(!1)}}async function b(j){const D=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${j}`}});if(!D.ok)throw new Error("Failed to fetch user profile");return D.json()}async function y(){const j=!!R0();try{const D=mu(),k=await b(D);_0(k.name||"");const O=await O0();p({email:O.email||k.email,name:O.name||k.name,role:O.role,picture:k.picture||""})}catch{au(),p(null)}finally{j||u(!1)}}function w(){return new Promise((j,D)=>{if(!x.current){D(new Error("Token client not initialized"));return}const k=x.current,O=k.callback;k.callback=T=>{k.callback=O,T.error?D(new Error(T.error)):(T0(T.access_token,T.expires_in),j())},k.requestAccessToken({prompt:""})})}const M=N.useCallback(()=>{x.current&&(m(null),x.current.requestAccessToken())},[]),S=N.useCallback(()=>{const j=mu();j&&window.google?.accounts?.oauth2&&window.google.accounts.oauth2.revoke(j),au(),L0(),yS(),sessionStorage.removeItem("cf_health_check"),t(null)},[]),g={user:r,loading:o,error:d,isAuthenticated:!!r,isOwner:r?.role==="owner",signIn:M,signOut:S};return a.jsx(my.Provider,{value:g,children:s})}function Is(){const s=N.useContext(my);if(!s)throw new Error("useAuth must be used within AuthProvider");return s}const fy=N.createContext();function CS({children:s}){const[l,r]=N.useState(()=>{const o=localStorage.getItem("cf-theme");return o||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")});N.useEffect(()=>{localStorage.setItem("cf-theme",l),document.documentElement.setAttribute("data-theme",l)},[l]);const t=()=>r(o=>o==="dark"?"light":"dark");return a.jsx(fy.Provider,{value:{theme:l,toggle:t},children:s})}function py(){return N.useContext(fy)}const xy=N.createContext(),hy="cf_hc_done";function kS(){try{return sessionStorage.getItem(hy)==="1"?!0:null}catch{return null}}function bl(s){try{sessionStorage.setItem(hy,s?"1":"0")}catch{}}function DS({children:s}){const{isAuthenticated:l}=Is(),r=l?kS():null,[t,o]=N.useState(!0),[u,d]=N.useState(!1),[m,x]=N.useState(null),[p,v]=N.useState(null),[b,y]=N.useState(null),[w,M]=N.useState(null),[S,g]=N.useState(null),[j,D]=N.useState(null),[k,O]=N.useState(null),[T,H]=N.useState(null),[I,R]=N.useState(null),[z,L]=N.useState(null),[V,A]=N.useState(null),[le,oe]=N.useState(null),[re,q]=N.useState(null),[Z,_]=N.useState(null),[Q,de]=N.useState(null),[P,J]=N.useState(null),[me,fe]=N.useState(null),[Se,ge]=N.useState(null),[we,ke]=N.useState(r!==null?r:null),qe=N.useRef(!1),rt=N.useCallback(U=>{U&&("members"in U&&v(U.members||[]),"bankAccounts"in U&&y(U.bankAccounts||[]),"investments"in U&&M(U.investments||[]),"insurancePolicies"in U&&g(U.insurancePolicies||[]),"liabilities"in U&&D(U.liabilities||[]),"otherInvestments"in U&&O(U.otherInvestments||[]),"stockPortfolios"in U&&H(U.stockPortfolios||[]),"stockHoldings"in U&&R(U.stockHoldings||[]),"stockTransactions"in U&&L(U.stockTransactions||[]),"mfPortfolios"in U&&A(U.mfPortfolios||[]),"mfHoldings"in U&&oe((U.mfHoldings||[]).map(pe=>pe.schemeCode?pe:{...pe,schemeCode:pe.fundCode})),"mfTransactions"in U&&q(U.mfTransactions||[]),"goals"in U&&_(U.goals||[]),"reminders"in U&&de(U.reminders||[]),"goalPortfolioMappings"in U&&J(U.goalPortfolioMappings||[]),"assetAllocations"in U&&fe(U.assetAllocations||[]),"settings"in U&&ge(U.settings||{}))},[]),Rt=N.useCallback(U=>{df({members:U.members||[],bankAccounts:U.bankAccounts||[],investments:U.investments||[],insurancePolicies:U.insurancePolicies||[],liabilities:U.liabilities||[],otherInvestments:U.otherInvestments||[],stockPortfolios:U.stockPortfolios||[],stockHoldings:U.stockHoldings||[],stockTransactions:U.stockTransactions||[],mfPortfolios:U.mfPortfolios||[],mfHoldings:U.mfHoldings||[],mfTransactions:U.mfTransactions||[],goals:U.goals||[],reminders:U.reminders||[],goalPortfolioMappings:U.goalPortfolioMappings||[],assetAllocations:U.assetAllocations||[]})},[]),vn=N.useCallback(async(U=!1)=>{try{U?d(!0):o(!0),x(null);const pe=await fu();rt(pe),Rt(pe)}catch(pe){x(pe.message)}finally{o(!1),d(!1)}},[rt,Rt]),$t=N.useCallback(async()=>{const U=await Ig();v(U||[]),Ca("members",U||[])},[]),he=N.useCallback(async()=>{const U=await Bg();y(U||[]),Ca("bankAccounts",U||[])},[]),Pe=N.useCallback(async()=>{const U=await qg();M(U||[]),Ca("investments",U||[])},[]),Ue=N.useCallback(async()=>{const U=await Kg();g(U||[]),Ca("insurancePolicies",U||[])},[]),oa=N.useCallback(async()=>{const U=await Zg();D(U||[]),Ca("liabilities",U||[])},[]),qa=N.useCallback(async()=>{const U=await ty();O(U||[]),Ca("otherInvestments",U||[])},[]),ca=N.useCallback(async()=>{const[U,pe]=await Promise.all([Vg(),X2()]);_(U||[]),J(pe||[]),Ca("goals",U||[]),Ca("goalPortfolioMappings",pe||[])},[]),ta=N.useCallback(async()=>{const U=await iy();de(U||[]),Ca("reminders",U||[])},[]),pt=N.useCallback(async()=>{const[U,pe,It]=await Promise.all([B2(),lS(),iS()]),ht=(pe||[]).map(ns=>ns.schemeCode?ns:{...ns,schemeCode:ns.fundCode});A(U||[]),oe(ht),q(It||[]),df({mfPortfolios:U||[],mfHoldings:ht,mfTransactions:It||[]})},[]),aa=N.useCallback(async()=>{const[U,pe,It]=await Promise.all([ry(),oS(),cS()]);H(U||[]),R(pe||[]),L(It||[]),df({stockPortfolios:U||[],stockHoldings:pe||[],stockTransactions:It||[]})},[]),ua=N.useCallback(async()=>{const U=await mS();ge(U||{}),Ca("settings",U||{})},[]),Lt=N.useCallback(async U=>{await fS(U),await ua()},[ua]),br=N.useCallback(async()=>{try{const U=await dy("healthCheckAnswers");if(U&&Object.keys(U).length>0){ke(!0),bl(!0);return}const pe=await uy();pe&&Object.keys(pe).length>0?(ke(!0),bl(!0),Ca("healthCheckAnswers",pe)):(ke(!1),bl(!1))}catch{ke(!1),bl(!1)}},[]),B=N.useCallback(async U=>{const pe=await dS(U);return pe?.success&&(ke(!0),bl(!0),Ca("healthCheckAnswers",U)),pe},[]);N.useEffect(()=>{if(!l){o(!1);return}if(qe.current)return;qe.current=!0;async function U(){const pe=await gS(),It=Object.keys(pe).length>0;It&&(rt(pe),pe.healthCheckAnswers&&Object.keys(pe.healthCheckAnswers).length>0&&(ke(!0),bl(!0)),o(!1));try{It&&d(!0);const ht=await fu();rt(ht),Rt(ht)}catch(ht){It||x(ht.message)}finally{o(!1),d(!1)}}U(),ua().catch(()=>{}),r===null&&br().catch(()=>{})},[l,rt,Rt,ua,br]),N.useEffect(()=>{l||(qe.current=!1)},[l]);const ne=N.useCallback(async U=>{const pe=await Pg(U);if(U.email)try{await P2(U.email,U.memberName)}catch(It){console.warn("Auto-invite failed (non-blocking):",It.message)}return await $t(),pe},[$t]),je=N.useCallback(async(U,pe)=>{await zg({memberId:U,...pe}),await $t()},[$t]),Fe=N.useCallback(async U=>{await Fg(U),await $t()},[$t]),Le=N.useCallback(async U=>{const pe=await Hg(U);return await he(),pe},[he]),ie=N.useCallback(async(U,pe)=>{await z2({accountId:U,...pe}),await he()},[he]),Nt=N.useCallback(async U=>{await Yg(U),await he()},[he]),Ee=N.useCallback(async U=>{const pe=await Ug(U);return await Pe(),pe},[Pe]),Me=N.useCallback(async(U,pe)=>{await F2({accountId:U,...pe}),await Pe()},[Pe]),et=N.useCallback(async U=>{await $g(U),await Pe()},[Pe]),Ie=N.useCallback(async U=>{const pe=await Xg(U);return await Ue(),pe},[Ue]),da=N.useCallback(async(U,pe)=>{await Z2({policyId:U,...pe}),await Ue()},[Ue]),He=N.useCallback(async U=>{await Wg(U),await Ue()},[Ue]),vt=N.useCallback(async U=>{const pe=await Jg(U);return await oa(),pe},[oa]),ha=N.useCallback(async(U,pe)=>{await J2({liabilityId:U,...pe}),await oa()},[oa]),Vt=N.useCallback(async U=>{await ey(U),await oa()},[oa]),va=N.useCallback(async U=>{const pe=await ay(U);return await qa(),U.quickLoan&&await oa(),pe},[qa,oa]),Ta=N.useCallback(async(U,pe)=>{await eS({investmentId:U,...pe}),await qa()},[qa]),bn=N.useCallback(async U=>{await ny(U),await qa()},[qa]),xe=N.useCallback(async U=>{const pe=await Gg(U);return await ca(),pe},[ca]),Gt=N.useCallback(async(U,pe)=>{await K2(U,pe),await ca()},[ca]),Bn=N.useCallback(async U=>{await Qg(U),await ca()},[ca]),rn=N.useCallback(async U=>{const pe=await oy(U);return await ta(),pe},[ta]),Ua=N.useCallback(async(U,pe)=>{await uS({reminderId:U,...pe}),await ta()},[ta]),gr=N.useCallback(async U=>{await cy(U),await ta()},[ta]),es=N.useCallback(async(U,pe)=>{await W2(U,pe),await ca()},[ca]),yr=N.useCallback(async U=>{const pe=await sy(U);return await aa(),pe},[aa]),ts=N.useCallback(async(U,pe)=>{await tS({portfolioId:U,...pe}),await aa()},[aa]),Ql=N.useCallback(async U=>{await ly(U),await aa()},[aa]),Kl=N.useCallback(async U=>{const pe=await aS(U);return await aa(),pe},[aa]),ho=N.useCallback(async U=>{const pe=await nS(U);return await aa(),pe},[aa]),vo=N.useCallback(async U=>{const pe=await H2(U);return await pt(),pe},[pt]),gn=N.useCallback(async(U,pe)=>{await Y2({portfolioId:U,...pe}),await pt()},[pt]),Ht=N.useCallback(async U=>{await q2(U),await pt()},[pt]),na=N.useCallback(async(U,pe)=>{const It=await U2({...U,transactionType:pe});return await pt(),It},[pt]),Nr=N.useCallback(async U=>{const pe=await $2(U);return await pt(),pe},[pt]),Xl=N.useCallback(async U=>{const pe=await V2(U);return await pt(),pe},[pt]),Vu=N.useCallback(async(U,pe)=>{await G2(U,pe),await pt()},[pt]),Gu=N.useCallback(async U=>{await rS(U),await pt()},[pt]),bo=N.useCallback(async U=>{await sS(U),await pt()},[pt]),as=(p||[]).filter(U=>U.status==="Active"),Wl=(b||[]).filter(U=>U.status==="Active"),jr=(w||[]).filter(U=>U.status==="Active");return a.jsx(xy.Provider,{value:{loading:t,isRefreshing:u,error:m,refreshData:vn,members:p,banks:b,investmentAccounts:w,insurancePolicies:S,liabilityList:j,otherInvList:k,activeMembers:as,activeBanks:Wl,activeInvestmentAccounts:jr,addMember:ne,updateMember:je,deleteMember:Fe,addBankAccount:Le,updateBankAccount:ie,deleteBankAccount:Nt,addInvestmentAccount:Ee,updateInvestmentAccount:Me,deleteInvestmentAccount:et,addInsurance:Ie,updateInsurance:da,deleteInsurance:He,addLiability:vt,updateLiability:ha,deleteLiability:Vt,addOtherInvestment:va,updateOtherInvestment:Ta,deleteOtherInvestment:bn,goalList:Z,addGoal:xe,updateGoal:Gt,deleteGoal:Bn,reminderList:Q,addReminder:rn,updateReminder:Ua,deleteReminder:gr,goalPortfolioMappings:P,updateGoalMappings:es,assetAllocations:me,stockPortfolios:T,stockHoldings:I,stockTransactions:z,addStockPortfolio:yr,updateStockPortfolio:ts,deleteStockPortfolio:Ql,buyStock:Kl,sellStock:ho,mfPortfolios:V,mfHoldings:le,mfTransactions:re,addMFPortfolio:vo,updateMFPortfolio:gn,deleteMFPortfolio:Ht,investMF:na,redeemMF:Nr,switchMF:Xl,updateHoldingAllocations:Vu,deleteMFTransaction:Gu,editMFTransaction:bo,settings:Se,updateSettings:Lt,refreshSettings:ua,healthCheckCompleted:we,completeHealthCheck:B},children:s})}function Ke(){return N.useContext(xy)}const vy=N.createContext();function MS({children:s}){const{activeMembers:l}=Ke(),[r,t]=N.useState("all"),o=l.find(u=>u.memberId===r)||null;return a.jsx(vy.Provider,{value:{selectedMember:r,setSelectedMember:t,member:o,familyMembers:l},children:s})}function Jt(){return N.useContext(vy)}const by=(...s)=>s.filter((l,r,t)=>!!l&&l.trim()!==""&&t.indexOf(l)===r).join(" ").trim();const AS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const TS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(l,r,t)=>t?t.toUpperCase():r.toLowerCase());const I0=s=>{const l=TS(s);return l.charAt(0).toUpperCase()+l.slice(1)};var ES={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const _S=s=>{for(const l in s)if(l.startsWith("aria-")||l==="role"||l==="title")return!0;return!1};const OS=N.forwardRef(({color:s="currentColor",size:l=24,strokeWidth:r=2,absoluteStrokeWidth:t,className:o="",children:u,iconNode:d,...m},x)=>N.createElement("svg",{ref:x,...ES,width:l,height:l,stroke:s,strokeWidth:t?Number(r)*24/Number(l):r,className:by("lucide",o),...!u&&!_S(m)&&{"aria-hidden":"true"},...m},[...d.map(([p,v])=>N.createElement(p,v)),...Array.isArray(u)?u:[u]]));const Ne=(s,l)=>{const r=N.forwardRef(({className:t,...o},u)=>N.createElement(OS,{ref:u,iconNode:l,className:by(`lucide-${AS(I0(s))}`,`lucide-${s}`,t),...o}));return r.displayName=I0(s),r};const RS=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],LS=Ne("arrow-down",RS);const IS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],PS=Ne("arrow-right",IS);const zS=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],FS=Ne("arrow-up-down",zS);const BS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],HS=Ne("bell-off",BS);const YS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ru=Ne("bell",YS);const qS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],gy=Ne("briefcase",qS);const US=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$S=Ne("calendar",US);const VS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ji=Ne("chart-column",VS);const GS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],P0=Ne("check",GS);const QS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],cr=Ne("chevron-down",QS);const KS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],yy=Ne("chevron-left",KS);const XS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],eo=Ne("chevron-right",XS);const WS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ZS=Ne("chevron-up",WS);const JS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],Ny=Ne("circle-arrow-down",JS);const e5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],t5=Ne("circle-check-big",e5);const a5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],$l=Ne("circle-check",a5);const n5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],jy=Ne("circle-x",n5);const r5=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],wy=Ne("clipboard-check",r5);const s5=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],l5=Ne("coffee",s5);const i5=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],o5=Ne("construction",i5);const c5=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],no=Ne("credit-card",c5);const u5=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],d5=Ne("database",u5);const m5=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],f5=Ne("dollar-sign",m5);const p5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],x5=Ne("ellipsis-vertical",p5);const h5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],v5=Ne("ellipsis",h5);const b5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],op=Ne("eye",b5);const g5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],nu=Ne("eye-off",g5);const y5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],N5=Ne("file-spreadsheet",y5);const j5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Sy=Ne("file-text",j5);const w5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Cy=Ne("funnel",w5);const S5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],C5=Ne("globe",S5);const k5=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],pu=Ne("heart",k5);const D5=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],M5=Ne("indian-rupee",D5);const A5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],T5=Ne("info",A5);const E5=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],ky=Ne("landmark",E5);const _5=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Dy=Ne("layers",_5);const O5=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],xu=Ne("link-2",O5);const R5=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],hu=Ne("list",R5);const L5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],My=Ne("loader-circle",L5);const I5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],mf=Ne("lock",I5);const P5=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],z5=Ne("log-in",P5);const F5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ay=Ne("log-out",F5);const B5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],H5=Ne("mail",B5);const Y5=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],q5=Ne("menu",Y5);const U5=[["path",{d:"M5 12h14",key:"1ays0h"}]],ff=Ne("minus",U5);const $5=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Ty=Ne("moon",$5);const V5=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ey=Ne("package",V5);const G5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],hn=Ne("pencil",G5);const Q5=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],K5=Ne("piggy-bank",Q5);const X5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zt=Ne("plus",X5);const W5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Al=Ne("refresh-cw",W5);const Z5=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],J5=Ne("repeat-2",Z5);const eC=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],tC=Ne("repeat",eC);const aC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],nC=Ne("save",aC);const rC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_y=Ne("search",rC);const sC=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],lC=Ne("settings-2",sC);const iC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cp=Ne("settings",iC);const oC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],cC=Ne("shield-alert",oC);const uC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],to=Ne("shield",uC);const dC=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Rf=Ne("sun",dC);const mC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],co=Ne("target",mC);const fC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Lu=Ne("trash-2",fC);const pC=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Iu=Ne("trending-down",pC);const xC=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Tl=Ne("trending-up",xC);const hC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],El=Ne("triangle-alert",hC);const vC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],z0=Ne("trophy",vC);const bC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gC=Ne("user",bC);const yC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_l=Ne("users",yC);const NC=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],kl=Ne("wallet",NC);const jC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uo=Ne("x",jC);const wC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Lf=Ne("zap",wC),Oy=N.createContext();function SC({children:s}){const[l,r]=N.useState([]),[t,o]=N.useState(null),u=N.useRef(0),d=N.useCallback((v,b="success")=>{const y=++u.current;r(w=>[...w,{id:y,message:v,type:b}]),setTimeout(()=>r(w=>w.filter(M=>M.id!==y)),3e3)},[]),m=N.useCallback(v=>{r(b=>b.filter(y=>y.id!==v))},[]),x=N.useCallback((v="Saving...")=>{o(v)},[]),p=N.useCallback(()=>{o(null)},[]);return a.jsxs(Oy.Provider,{value:{showToast:d,showBlockUI:x,hideBlockUI:p},children:[s,t&&a.jsx("div",{className:"fixed inset-0 z-[200] bg-black/50 backdrop-blur-sm flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 bg-[var(--bg-card)] rounded-xl px-8 py-6 border border-[var(--border)] shadow-2xl",children:[a.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),a.jsx("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:t})]})}),l.length>0&&a.jsx("div",{className:"fixed bottom-20 sm:bottom-6 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-2 items-center pointer-events-none",children:l.map(v=>a.jsxs("div",{className:`pointer-events-auto flex items-center gap-2 px-4 py-2.5 rounded-lg shadow-xl border text-sm font-medium animate-fade-in ${v.type==="error"?"bg-rose-500/15 border-rose-500/30 text-[var(--accent-rose)]":"bg-emerald-500/15 border-emerald-500/30 text-emerald-400"}`,style:{backdropFilter:"blur(12px)"},children:[v.type==="error"?a.jsx(jy,{size:16}):a.jsx($l,{size:16}),a.jsx("span",{children:v.message}),a.jsx("button",{onClick:()=>m(v.id),className:"ml-1 opacity-60 hover:opacity-100 transition-opacity",children:a.jsx(uo,{size:14})})]},v.id))})]})}function In(){return N.useContext(Oy)}const Ry=N.createContext();function CC({children:s}){const[l,r]=N.useState(null),t=N.useRef(null),o=N.useCallback((m,{title:x="Confirm",confirmLabel:p="Yes, proceed",cancelLabel:v="Cancel",destructive:b=!0}={})=>new Promise(y=>{t.current=y,r({message:m,title:x,confirmLabel:p,cancelLabel:v,destructive:b})}),[]);function u(){t.current?.(!0),t.current=null,r(null)}function d(){t.current?.(!1),t.current=null,r(null)}return a.jsxs(Ry.Provider,{value:{confirm:o},children:[s,l&&a.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center px-4",onClick:d,children:[a.jsx("div",{className:"fixed inset-0 bg-black/60"}),a.jsxs("div",{className:"relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full max-w-sm p-5 animate-fade-in",onClick:m=>m.stopPropagation(),children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx("span",{className:`shrink-0 w-9 h-9 rounded-full flex items-center justify-center ${l.destructive?"bg-rose-500/15":"bg-violet-500/15"}`,children:a.jsx(El,{size:18,className:l.destructive?"text-[var(--accent-rose)]":"text-violet-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-[var(--text-primary)]",children:l.title}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1 leading-relaxed",children:l.message})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:d,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:l.cancelLabel}),a.jsx("button",{onClick:u,autoFocus:!0,className:`px-4 py-2 text-xs font-bold text-white rounded-lg transition-colors ${l.destructive?"bg-rose-600 hover:bg-rose-500":"bg-violet-600 hover:bg-violet-500"}`,children:l.confirmLabel})]})]})]})]})}function Pn(){return N.useContext(Ry).confirm}const Ly=N.createContext(),F0="cf-mask-data";function kC(s){return!s||s.length<4?"":""+s.slice(-4)}function DC(s){return!s||s.length<4?"  ":"  "+s.slice(-4)}function MC(s){return!s||s.length<3?"":""+s.slice(-3)}function AC(s){if(!s)return"@";const[l,r]=s.split("@");if(!r)return"@";const t=l.charAt(0)+"",o=r.split("."),u=o[0].charAt(0)+""+(o.length>1?"."+o.slice(1).join("."):"");return t+"@"+u}function TC(s){return!s||s.length<4?"":""+s.slice(-4)}function EC(s){return!s||s.length<3?"":""+s.slice(-3)}function _C(s){return!s||s.length<4?"":""+s.slice(-4)}function OC(s){return!s||s.length<2?"":s.split(/\s+/).map(l=>l.charAt(0)+"").join(" ")}const RC={pan:kC,aadhaar:DC,mobile:MC,email:AC,account:TC,clientId:EC,policy:_C,name:OC};function LC({children:s}){const[l,r]=N.useState(()=>{try{return localStorage.getItem(F0)==="true"}catch{return!1}});N.useEffect(()=>{try{localStorage.setItem(F0,String(l))}catch{}},[l]);const t=N.useCallback(()=>r(u=>!u),[]),o=N.useCallback((u,d)=>{if(!l||u==null||u==="")return u;const m=RC[d];return m?m(String(u)):u},[l]);return a.jsx(Ly.Provider,{value:{masked:l,toggleMask:t,mv:o},children:s})}function zn(){return N.useContext(Ly)}const B0=[{label:"Family",icon:_l,path:"/family"},{label:"Accounts",icon:no,children:[{label:"Bank Accounts",icon:ky,path:"/accounts/bank"},{label:"Investment A/c",icon:gy,path:"/accounts/investment"}]},{label:"Insurance",icon:to,path:"/insurance"},{label:"Investments",icon:kl,children:[{label:"Mutual Funds",icon:kl,path:"/investments/mutual-funds"},{label:"Stocks",icon:Ji,path:"/investments/stocks"},{label:"Other Investments",icon:Ey,path:"/investments/other"}]},{label:"Liabilities",icon:no,path:"/liabilities"},{label:"Goals",icon:co,path:"/goals"},{label:"Settings",icon:cp,path:"/settings"}];function IC({open:s,onClose:l}){const r=nn(),t=B0.filter(m=>m.children?.some(x=>r.pathname.startsWith(x.path))).map(m=>m.label),[o,u]=N.useState(new Set(t));function d(m){u(x=>{const p=new Set(x);return p.has(m)?p.delete(m):p.add(m),p})}return a.jsxs(a.Fragment,{children:[s&&a.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 lg:hidden",onClick:l}),a.jsxs("aside",{className:`
        fixed top-0 left-0 z-50 h-full w-56
        bg-[var(--bg-sidebar)] border-r border-[var(--border)]
        flex flex-col transition-transform duration-300
        lg:hidden
        ${s?"translate-x-0":"-translate-x-full"}
      `,children:[a.jsxs("div",{className:"flex items-center justify-between px-3 h-12 border-b border-[var(--border)] shrink-0",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Menu"}),a.jsx("button",{onClick:l,className:"p-1.5 rounded-md text-[var(--text-dim)] hover:text-[var(--text-primary)]",children:a.jsx(uo,{size:16})})]}),a.jsx("nav",{className:"flex-1 py-2 overflow-y-auto overflow-x-hidden",children:B0.map(m=>m.children?a.jsx(PC,{item:m,isOpen:o.has(m.label),onToggle:()=>d(m.label),onNavigate:l,currentPath:r.pathname},m.label):a.jsx(Iy,{item:m,onNavigate:l},m.path))})]})]})}function Iy({item:s,onNavigate:l,nested:r}){const{label:t,icon:o,path:u}=s;return a.jsx(ap,{to:u,onClick:l,end:u==="/",className:({isActive:d})=>`group flex items-center gap-2.5 ${r?"pl-11 pr-4 py-[7px]":"px-4 py-2.5"} text-[13px] font-medium transition-all border-r-2 ${d?"bg-[var(--sidebar-active-bg)] text-[var(--sidebar-active-text)] border-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] border-transparent"}`,children:({isActive:d})=>a.jsxs(a.Fragment,{children:[a.jsx(o,{size:r?14:17,strokeWidth:d?2.2:1.7}),a.jsx("span",{children:t})]})})}function PC({item:s,isOpen:l,onToggle:r,onNavigate:t,currentPath:o}){const{label:u,icon:d,children:m}=s,x=m.some(p=>o.startsWith(p.path));return a.jsxs("div",{children:[a.jsxs("button",{onClick:r,className:`w-full group flex items-center gap-2.5 px-4 py-2.5 text-[13px] font-medium transition-all border-r-2 border-transparent ${x?"text-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:[a.jsx(d,{size:17,strokeWidth:x?2.2:1.7}),a.jsx("span",{className:"flex-1 text-left",children:u}),a.jsx(cr,{size:13,className:`text-[var(--text-dim)] transition-transform duration-200 ${l?"rotate-180":""}`})]}),l&&a.jsx("div",{className:"py-0.5",children:m.map(p=>a.jsx(Iy,{item:p,onNavigate:t,nested:!0},p.path))})]})}function G(s){return s>=1e7?`${(s/1e7).toFixed(2)} Cr`:s>=1e5?`${(s/1e5).toFixed(2)} L`:s>=1e3?`${(s/1e3).toFixed(0)}K`:`${s.toLocaleString("en-IN")}`}const Py="cf_market_data",zC=300*1e3,H0=300*1e3;function FC(){try{const s=sessionStorage.getItem(Py);if(!s)return null;const l=JSON.parse(s);return Date.now()-l._ts>zC?null:l}catch{return null}}function BC(s){try{sessionStorage.setItem(Py,JSON.stringify({...s,_ts:Date.now()}))}catch{}}function HC(){const[s,l]=N.useState(()=>FC()),[r,t]=N.useState([]),o=N.useRef(null),[u,d]=N.useState(!1),[m,x]=N.useState(!1);N.useEffect(()=>{let b=!1;async function y(){try{const M=await pS();if(!b&&M){const S={...M,_ts:Date.now()};l(S),BC(S)}}catch{}}y();const w=setInterval(y,H0);return()=>{b=!0,clearInterval(w)}},[]),N.useEffect(()=>{let b=!1;async function y(){try{const M=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=inr&include_24hr_change=true");if(!b&&M.ok){const S=await M.json(),g=[];S.bitcoin&&g.push({name:"BTC",price:S.bitcoin.inr,changePct:S.bitcoin.inr_24h_change||0,type:"crypto"}),S.ethereum&&g.push({name:"ETH",price:S.ethereum.inr,changePct:S.ethereum.inr_24h_change||0,type:"crypto"}),t(g)}}catch{}}y();const w=setInterval(y,H0);return()=>{b=!0,clearInterval(w)}},[]);const p=[];if(s?.indices&&p.push(...s.indices),s?.metals&&p.push(...s.metals),r.length>0&&p.push(...r),N.useEffect(()=>{if(!o.current)return;const b=o.current,y=b.parentElement;d(b.scrollWidth>y.clientWidth)},[p.length]),p.length===0)return null;const v=p.length*3;return a.jsxs("div",{className:"bg-[var(--bg-card)]/80 backdrop-blur-sm border-b border-[var(--border-light)] overflow-hidden",onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),onTouchStart:()=>x(!0),onTouchEnd:()=>x(!1),children:[a.jsx("div",{className:"overflow-hidden",children:a.jsxs("div",{ref:o,className:"flex items-stretch w-max",style:u?{animation:`ticker-scroll ${v}s linear infinite`,animationPlayState:m?"paused":"running"}:{margin:"0 auto"},children:[p.map((b,y)=>a.jsx(Y0,{item:b},b.name+y)),u&&p.map((b,y)=>a.jsx(Y0,{item:b},"dup-"+b.name+y))]})}),a.jsx("style",{children:`
        @keyframes ticker-scroll {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
      `})]})}function Y0({item:s}){const l=s.changePct>=0,r=l?a.jsx(Tl,{size:10}):a.jsx(Iu,{size:10}),t=l?"text-emerald-400":"text-[var(--accent-rose)]",o=u=>u>=1e5?`${(u/1e5).toFixed(2)}L`:u>=1e3?`${u.toLocaleString("en-IN",{maximumFractionDigits:0})}`:`${u.toLocaleString("en-IN",{maximumFractionDigits:2})}`;return a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 border-r border-[var(--border-light)] last:border-0 shrink-0",children:[a.jsx("span",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase whitespace-nowrap",children:s.name}),a.jsx("span",{className:"text-[11px] font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:s.unit?`${o(s.price)}`:o(s.price)}),s.changePct!==void 0&&s.changePct!==null&&a.jsxs("span",{className:`flex items-center gap-0.5 text-[10px] font-bold tabular-nums ${t}`,children:[r,l?"+":"",s.changePct.toFixed(2),"%"]})]})}function YC(){const{selectedMember:s}=Jt(),{mfPortfolios:l,mfHoldings:r,insurancePolicies:t,goalList:o,reminderList:u}=Ke(),d=(y,w)=>{const M=y||[];return s==="all"?M:M.filter(S=>S[w]===s)},m=N.useMemo(()=>{let y=0,w=0,M=0;return d((l||[]).filter(j=>j.status!=="Inactive"),"ownerId").forEach(j=>{const D=(r||[]).filter(T=>T.portfolioId===j.portfolioId&&T.units>0),k=D.reduce((T,H)=>T+H.currentValue,0),O=(j.rebalanceThreshold||.05)*100;D.forEach(T=>{if(T.athNav>0&&T.belowATHPct>=10?w++:T.athNav>0&&T.belowATHPct>=5&&y++,T.targetAllocationPct>0&&k>0){const H=T.currentValue/k*100;Math.abs(H-T.targetAllocationPct)>O&&M++}})}),{buyOppCount:y+w,buyCount:y,strongBuyCount:w,rebalanceCount:M}},[s,l,r]),x=N.useMemo(()=>{const y=[],w=d((t||[]).filter(k=>k.status==="Active"),"memberId");w.some(k=>k.policyType==="Term Life")||y.push({type:"critical",title:"Missing Term Life Insurance",badge:"Add Policy",navigateTo:"/insurance"});const S=w.filter(k=>k.policyType==="Health").reduce((k,O)=>k+O.sumAssured,0);return S===0?y.push({type:"critical",title:"No Health Insurance",badge:"Add Policy",navigateTo:"/insurance"}):S<5e5&&y.push({type:"warning",title:"Inadequate Health Insurance",badge:G(S),navigateTo:"/insurance"}),d((o||[]).filter(k=>k.isActive!==!1&&k.goalType==="Emergency Fund"),"familyMemberId").forEach(k=>{const O=k.targetAmount>0?k.currentValue/k.targetAmount*100:0;O<100&&y.push({type:O>=75?"info":"warning",title:`Emergency Fund at ${O.toFixed(0)}%`,badge:G(k.targetAmount-k.currentValue)+" left",navigateTo:"/goals"})}),d((u||[]).filter(k=>k.isActive!==!1),"familyMemberId").filter(k=>new Date(k.dueDate)<new Date).forEach(k=>{const O=Math.ceil((new Date-new Date(k.dueDate))/864e5);y.push({type:"critical",title:k.title,badge:`${O}d overdue`,navigateTo:"/reminders"})}),d((o||[]).filter(k=>k.isActive!==!1&&k.status==="Needs Attention"),"familyMemberId").forEach(k=>{y.push({type:"warning",title:`${k.goalName} needs attention`,badge:k.priority,navigateTo:"/goals"})}),y},[s,t,o,u]),p=N.useMemo(()=>{const y=d((u||[]).filter(M=>M.isActive!==!1&&M.status!=="Completed"),"familyMemberId"),w=new Date;return y.map(M=>{const S=new Date(M.dueDate)-w,g=Math.ceil(S/(1440*60*1e3)),j=new Date(M.dueDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short"});return{...M,days:g,dateStr:j}}).filter(M=>M.days>=0&&M.days<=30).sort((M,S)=>M.days-S.days).slice(0,5)},[s,u]),v=x.length+m.buyOppCount+m.rebalanceCount+p.length,b=x.filter(y=>y.type==="critical").length;return{criticalAlerts:x,investmentSignals:m,upcomingReminders:p,totalCount:v,criticalCount:b}}function q0(s){return s>=20?"bg-rose-500/20 text-[var(--accent-rose)]":s>=10?"bg-orange-500/20 text-[var(--accent-orange)]":s>=5?"bg-amber-500/20 text-[var(--accent-amber)]":"bg-slate-500/20 text-[var(--text-muted)]"}function U0(s){return s>=10?{label:"Strong Buy",cls:"bg-emerald-500/20 text-emerald-400 ring-1 ring-emerald-500/30"}:s>=5?{label:"Buy",cls:"bg-blue-500/20 text-blue-400"}:null}function zy(){const{mfHoldings:s,mfPortfolios:l}=Ke(),r=N.useMemo(()=>l.filter(o=>o.status!=="Inactive").map(o=>{const u=s.filter(x=>x.portfolioId===o.portfolioId&&x.units>0),d=u.reduce((x,p)=>x+p.currentValue,0),m=u.filter(x=>x.athNav>0&&x.belowATHPct>=1).sort((x,p)=>p.belowATHPct-x.belowATHPct).map(x=>({...x,currentPct:d>0?x.currentValue/d*100:0}));return{...o,totalValue:d,opportunities:m}}).filter(o=>o.opportunities.length>0),[l,s]);return r.reduce((o,u)=>o+u.opportunities.length,0)===0?a.jsxs("div",{className:"py-8 text-center",children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No buy opportunities right now"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"All funds are near their all-time highs"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] px-1",children:"Funds below their All-Time High NAV. Higher discount = better opportunity."}),r.map((o,u)=>a.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-emerald-500/50 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-[var(--bg-inset)]",children:[a.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-500/15 w-5 h-5 rounded flex items-center justify-center",children:u+1}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:o.portfolioName}),a.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:o.ownerName}),a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15 text-emerald-400",children:[o.opportunities.length," funds"]})]}),a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Signal"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Below ATH"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"ATH NAV"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Current"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Value"})]})}),a.jsx("tbody",{children:o.opportunities.map(d=>{const m=U0(d.belowATHPct);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[200px] truncate",children:d.fundName}),a.jsx("td",{className:"py-2 px-2 text-center",children:m?a.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded-full whitespace-nowrap ${m.cls}`,children:m.label}):a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Watch"})}),a.jsx("td",{className:"py-2 px-2 text-right",children:a.jsxs("span",{className:`inline-block text-xs font-semibold px-1.5 py-0.5 rounded-full ${q0(d.belowATHPct)}`,children:["",d.belowATHPct.toFixed(1),"%"]})}),a.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:["",d.athNav.toFixed(2)]}),a.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:["",d.currentNav.toFixed(2)]}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:G(d.currentValue)})]},d.holdingId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:o.opportunities.map(d=>{const m=U0(d.belowATHPct);return a.jsxs("div",{className:"px-3 py-2.5",children:[a.jsxs("div",{className:"flex items-start justify-between mb-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight flex-1 mr-2",children:d.fundName}),a.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[m&&a.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded-full ${m.cls}`,children:m.label}),a.jsxs("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${q0(d.belowATHPct)}`,children:["",d.belowATHPct.toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)]",children:[a.jsxs("span",{children:["ATH ",d.athNav.toFixed(2),"  ",d.currentNav.toFixed(2)]}),a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:G(d.currentValue)})]})]},d.holdingId)})})]},o.portfolioId))]})}function Fy(s){var l,r,t="";if(typeof s=="string"||typeof s=="number")t+=s;else if(typeof s=="object")if(Array.isArray(s)){var o=s.length;for(l=0;l<o;l++)s[l]&&(r=Fy(s[l]))&&(t&&(t+=" "),t+=r)}else for(r in s)s[r]&&(t&&(t+=" "),t+=r);return t}function qt(){for(var s,l,r=0,t="",o=arguments.length;r<o;r++)(s=arguments[r])&&(l=Fy(s))&&(t&&(t+=" "),t+=l);return t}const By=6048e5,qC=864e5,Pu=6e4,zu=36e5,UC=1e3,$0=Symbol.for("constructDateFrom");function ut(s,l){return typeof s=="function"?s(l):s&&typeof s=="object"&&$0 in s?s[$0](l):s instanceof Date?new s.constructor(l):new Date(l)}function Ae(s,l){return ut(l||s,s)}function dn(s,l,r){const t=Ae(s,r?.in);return isNaN(l)?ut(r?.in||s,NaN):(l&&t.setDate(t.getDate()+l),t)}function pn(s,l,r){const t=Ae(s,r?.in);if(isNaN(l))return ut(s,NaN);if(!l)return t;const o=t.getDate(),u=ut(s,t.getTime());u.setMonth(t.getMonth()+l+1,0);const d=u.getDate();return o>=d?u:(t.setFullYear(u.getFullYear(),u.getMonth(),o),t)}function Hy(s,l,r){return ut(s,+Ae(s)+l)}function $C(s,l,r){return Hy(s,l*zu)}let VC={};function Ps(){return VC}function fr(s,l){const r=Ps(),t=l?.weekStartsOn??l?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Ae(s,l?.in),u=o.getDay(),d=(u<t?7:0)+u-t;return o.setDate(o.getDate()-d),o.setHours(0,0,0,0),o}function Ol(s,l){return fr(s,{...l,weekStartsOn:1})}function Yy(s,l){const r=Ae(s,l?.in),t=r.getFullYear(),o=ut(r,0);o.setFullYear(t+1,0,4),o.setHours(0,0,0,0);const u=Ol(o),d=ut(r,0);d.setFullYear(t,0,4),d.setHours(0,0,0,0);const m=Ol(d);return r.getTime()>=u.getTime()?t+1:r.getTime()>=m.getTime()?t:t-1}function vu(s){const l=Ae(s),r=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()));return r.setUTCFullYear(l.getFullYear()),+s-+r}function xr(s,...l){const r=ut.bind(null,l.find(t=>typeof t=="object"));return l.map(r)}function Os(s,l){const r=Ae(s,l?.in);return r.setHours(0,0,0,0),r}function Rl(s,l,r){const[t,o]=xr(r?.in,s,l),u=Os(t),d=Os(o),m=+u-vu(u),x=+d-vu(d);return Math.round((m-x)/qC)}function GC(s,l){const r=Yy(s,l),t=ut(s,0);return t.setFullYear(r,0,4),t.setHours(0,0,0,0),Ol(t)}function ro(s,l,r){const t=Ae(s,r?.in);return t.setTime(t.getTime()+l*Pu),t}function up(s,l,r){return pn(s,l*3,r)}function QC(s,l,r){return Hy(s,l*1e3)}function bu(s,l,r){return dn(s,l*7,r)}function mn(s,l,r){return pn(s,l*12,r)}function V0(s,l){let r,t=l?.in;return s.forEach(o=>{!t&&typeof o=="object"&&(t=ut.bind(null,o));const u=Ae(o,t);(!r||r<u||isNaN(+u))&&(r=u)}),ut(t,r||NaN)}function G0(s,l){let r,t=l?.in;return s.forEach(o=>{!t&&typeof o=="object"&&(t=ut.bind(null,o));const u=Ae(o,t);(!r||r>u||isNaN(+u))&&(r=u)}),ut(t,r||NaN)}function KC(s,l,r){const[t,o]=xr(r?.in,s,l);return+Os(t)==+Os(o)}function _n(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function Ll(s){return!(!_n(s)&&typeof s!="number"||isNaN(+Ae(s)))}function gu(s,l,r){const[t,o]=xr(r?.in,s,l),u=t.getFullYear()-o.getFullYear(),d=t.getMonth()-o.getMonth();return u*12+d}function Qr(s,l){const r=Ae(s,l?.in);return Math.trunc(r.getMonth()/3)+1}function yu(s,l,r){const[t,o]=xr(r?.in,s,l),u=t.getFullYear()-o.getFullYear(),d=Qr(t)-Qr(o);return u*4+d}function Nu(s,l,r){const[t,o]=xr(r?.in,s,l);return t.getFullYear()-o.getFullYear()}function XC(s,l,r){const[t,o]=xr(r?.in,s,l),u=Q0(t,o),d=Math.abs(Rl(t,o));t.setDate(t.getDate()-u*d);const m=+(Q0(t,o)===-u),x=u*(d-m);return x===0?0:x}function Q0(s,l){const r=s.getFullYear()-l.getFullYear()||s.getMonth()-l.getMonth()||s.getDate()-l.getDate()||s.getHours()-l.getHours()||s.getMinutes()-l.getMinutes()||s.getSeconds()-l.getSeconds()||s.getMilliseconds()-l.getMilliseconds();return r<0?-1:r>0?1:r}function qy(s,l){const r=Ae(s,l?.in);return r.setHours(23,59,59,999),r}function Uy(s,l){const r=Ae(s,l?.in),t=r.getMonth();return r.setFullYear(r.getFullYear(),t+1,0),r.setHours(23,59,59,999),r}function If(s,l){const r=Ae(s,l?.in),t=r.getMonth(),o=t-t%3;return r.setMonth(o,1),r.setHours(0,0,0,0),r}function $y(s,l){const r=Ae(s,l?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function Vy(s,l){const r=Ae(s,l?.in),t=r.getFullYear();return r.setFullYear(t+1,0,0),r.setHours(23,59,59,999),r}function Fu(s,l){const r=Ae(s,l?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function WC(s,l){const r=Ps(),t=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Ae(s,l?.in),u=o.getDay(),d=(u<t?-7:0)+6-(u-t);return o.setDate(o.getDate()+d),o.setHours(23,59,59,999),o}const ZC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JC=(s,l,r)=>{let t;const o=ZC[s];return typeof o=="string"?t=o:l===1?t=o.one:t=o.other.replace("{{count}}",l.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+t:t+" ago":t};function pf(s){return(l={})=>{const r=l.width?String(l.width):s.defaultWidth;return s.formats[r]||s.formats[s.defaultWidth]}}const ek={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ak={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nk={date:pf({formats:ek,defaultWidth:"full"}),time:pf({formats:tk,defaultWidth:"full"}),dateTime:pf({formats:ak,defaultWidth:"full"})},rk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sk=(s,l,r,t)=>rk[s];function qi(s){return(l,r)=>{const t=r?.context?String(r.context):"standalone";let o;if(t==="formatting"&&s.formattingValues){const d=s.defaultFormattingWidth||s.defaultWidth,m=r?.width?String(r.width):d;o=s.formattingValues[m]||s.formattingValues[d]}else{const d=s.defaultWidth,m=r?.width?String(r.width):s.defaultWidth;o=s.values[m]||s.values[d]}const u=s.argumentCallback?s.argumentCallback(l):l;return o[u]}}const lk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ik={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ok={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ck={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mk=(s,l)=>{const r=Number(s),t=r%100;if(t>20||t<10)switch(t%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},fk={ordinalNumber:mk,era:qi({values:lk,defaultWidth:"wide"}),quarter:qi({values:ik,defaultWidth:"wide",argumentCallback:s=>s-1}),month:qi({values:ok,defaultWidth:"wide"}),day:qi({values:ck,defaultWidth:"wide"}),dayPeriod:qi({values:uk,defaultWidth:"wide",formattingValues:dk,defaultFormattingWidth:"wide"})};function Ui(s){return(l,r={})=>{const t=r.width,o=t&&s.matchPatterns[t]||s.matchPatterns[s.defaultMatchWidth],u=l.match(o);if(!u)return null;const d=u[0],m=t&&s.parsePatterns[t]||s.parsePatterns[s.defaultParseWidth],x=Array.isArray(m)?xk(m,b=>b.test(d)):pk(m,b=>b.test(d));let p;p=s.valueCallback?s.valueCallback(x):x,p=r.valueCallback?r.valueCallback(p):p;const v=l.slice(d.length);return{value:p,rest:v}}}function pk(s,l){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r)&&l(s[r]))return r}function xk(s,l){for(let r=0;r<s.length;r++)if(l(s[r]))return r}function hk(s){return(l,r={})=>{const t=l.match(s.matchPattern);if(!t)return null;const o=t[0],u=l.match(s.parsePattern);if(!u)return null;let d=s.valueCallback?s.valueCallback(u[0]):u[0];d=r.valueCallback?r.valueCallback(d):d;const m=l.slice(o.length);return{value:d,rest:m}}}const vk=/^(\d+)(th|st|nd|rd)?/i,bk=/\d+/i,gk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yk={any:[/^b/i,/^(a|c)/i]},Nk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jk={any:[/1/i,/2/i,/3/i,/4/i]},wk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Sk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ck={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Dk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Mk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ak={ordinalNumber:hk({matchPattern:vk,parsePattern:bk,valueCallback:s=>parseInt(s,10)}),era:Ui({matchPatterns:gk,defaultMatchWidth:"wide",parsePatterns:yk,defaultParseWidth:"any"}),quarter:Ui({matchPatterns:Nk,defaultMatchWidth:"wide",parsePatterns:jk,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Ui({matchPatterns:wk,defaultMatchWidth:"wide",parsePatterns:Sk,defaultParseWidth:"any"}),day:Ui({matchPatterns:Ck,defaultMatchWidth:"wide",parsePatterns:kk,defaultParseWidth:"any"}),dayPeriod:Ui({matchPatterns:Dk,defaultMatchWidth:"any",parsePatterns:Mk,defaultParseWidth:"any"})},Gy={code:"en-US",formatDistance:JC,formatLong:nk,formatRelative:sk,localize:fk,match:Ak,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Tk(s,l){const r=Ae(s,l?.in);return Rl(r,Fu(r))+1}function dp(s,l){const r=Ae(s,l?.in),t=+Ol(r)-+GC(r);return Math.round(t/By)+1}function mp(s,l){const r=Ae(s,l?.in),t=r.getFullYear(),o=Ps(),u=l?.firstWeekContainsDate??l?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,d=ut(l?.in||s,0);d.setFullYear(t+1,0,u),d.setHours(0,0,0,0);const m=fr(d,l),x=ut(l?.in||s,0);x.setFullYear(t,0,u),x.setHours(0,0,0,0);const p=fr(x,l);return+r>=+m?t+1:+r>=+p?t:t-1}function Ek(s,l){const r=Ps(),t=l?.firstWeekContainsDate??l?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=mp(s,l),u=ut(l?.in||s,0);return u.setFullYear(o,0,t),u.setHours(0,0,0,0),fr(u,l)}function Qy(s,l){const r=Ae(s,l?.in),t=+fr(r,l)-+Ek(r,l);return Math.round(t/By)+1}function ct(s,l){const r=s<0?"-":"",t=Math.abs(s).toString().padStart(l,"0");return r+t}const Vr={y(s,l){const r=s.getFullYear(),t=r>0?r:1-r;return ct(l==="yy"?t%100:t,l.length)},M(s,l){const r=s.getMonth();return l==="M"?String(r+1):ct(r+1,2)},d(s,l){return ct(s.getDate(),l.length)},a(s,l){const r=s.getHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(s,l){return ct(s.getHours()%12||12,l.length)},H(s,l){return ct(s.getHours(),l.length)},m(s,l){return ct(s.getMinutes(),l.length)},s(s,l){return ct(s.getSeconds(),l.length)},S(s,l){const r=l.length,t=s.getMilliseconds(),o=Math.trunc(t*Math.pow(10,r-3));return ct(o,l.length)}},gl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},K0={G:function(s,l,r){const t=s.getFullYear()>0?1:0;switch(l){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"});case"GGGGG":return r.era(t,{width:"narrow"});default:return r.era(t,{width:"wide"})}},y:function(s,l,r){if(l==="yo"){const t=s.getFullYear(),o=t>0?t:1-t;return r.ordinalNumber(o,{unit:"year"})}return Vr.y(s,l)},Y:function(s,l,r,t){const o=mp(s,t),u=o>0?o:1-o;if(l==="YY"){const d=u%100;return ct(d,2)}return l==="Yo"?r.ordinalNumber(u,{unit:"year"}):ct(u,l.length)},R:function(s,l){const r=Yy(s);return ct(r,l.length)},u:function(s,l){const r=s.getFullYear();return ct(r,l.length)},Q:function(s,l,r){const t=Math.ceil((s.getMonth()+1)/3);switch(l){case"Q":return String(t);case"QQ":return ct(t,2);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});default:return r.quarter(t,{width:"wide",context:"formatting"})}},q:function(s,l,r){const t=Math.ceil((s.getMonth()+1)/3);switch(l){case"q":return String(t);case"qq":return ct(t,2);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});default:return r.quarter(t,{width:"wide",context:"standalone"})}},M:function(s,l,r){const t=s.getMonth();switch(l){case"M":case"MM":return Vr.M(s,l);case"Mo":return r.ordinalNumber(t+1,{unit:"month"});case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});default:return r.month(t,{width:"wide",context:"formatting"})}},L:function(s,l,r){const t=s.getMonth();switch(l){case"L":return String(t+1);case"LL":return ct(t+1,2);case"Lo":return r.ordinalNumber(t+1,{unit:"month"});case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});default:return r.month(t,{width:"wide",context:"standalone"})}},w:function(s,l,r,t){const o=Qy(s,t);return l==="wo"?r.ordinalNumber(o,{unit:"week"}):ct(o,l.length)},I:function(s,l,r){const t=dp(s);return l==="Io"?r.ordinalNumber(t,{unit:"week"}):ct(t,l.length)},d:function(s,l,r){return l==="do"?r.ordinalNumber(s.getDate(),{unit:"date"}):Vr.d(s,l)},D:function(s,l,r){const t=Tk(s);return l==="Do"?r.ordinalNumber(t,{unit:"dayOfYear"}):ct(t,l.length)},E:function(s,l,r){const t=s.getDay();switch(l){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})}},e:function(s,l,r,t){const o=s.getDay(),u=(o-t.weekStartsOn+8)%7||7;switch(l){case"e":return String(u);case"ee":return ct(u,2);case"eo":return r.ordinalNumber(u,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(s,l,r,t){const o=s.getDay(),u=(o-t.weekStartsOn+8)%7||7;switch(l){case"c":return String(u);case"cc":return ct(u,l.length);case"co":return r.ordinalNumber(u,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(s,l,r){const t=s.getDay(),o=t===0?7:t;switch(l){case"i":return String(o);case"ii":return ct(o,l.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(t,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(t,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(t,{width:"short",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})}},a:function(s,l,r){const o=s.getHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(s,l,r){const t=s.getHours();let o;switch(t===12?o=gl.noon:t===0?o=gl.midnight:o=t/12>=1?"pm":"am",l){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(s,l,r){const t=s.getHours();let o;switch(t>=17?o=gl.evening:t>=12?o=gl.afternoon:t>=4?o=gl.morning:o=gl.night,l){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(s,l,r){if(l==="ho"){let t=s.getHours()%12;return t===0&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return Vr.h(s,l)},H:function(s,l,r){return l==="Ho"?r.ordinalNumber(s.getHours(),{unit:"hour"}):Vr.H(s,l)},K:function(s,l,r){const t=s.getHours()%12;return l==="Ko"?r.ordinalNumber(t,{unit:"hour"}):ct(t,l.length)},k:function(s,l,r){let t=s.getHours();return t===0&&(t=24),l==="ko"?r.ordinalNumber(t,{unit:"hour"}):ct(t,l.length)},m:function(s,l,r){return l==="mo"?r.ordinalNumber(s.getMinutes(),{unit:"minute"}):Vr.m(s,l)},s:function(s,l,r){return l==="so"?r.ordinalNumber(s.getSeconds(),{unit:"second"}):Vr.s(s,l)},S:function(s,l){return Vr.S(s,l)},X:function(s,l,r){const t=s.getTimezoneOffset();if(t===0)return"Z";switch(l){case"X":return W0(t);case"XXXX":case"XX":return Ss(t);default:return Ss(t,":")}},x:function(s,l,r){const t=s.getTimezoneOffset();switch(l){case"x":return W0(t);case"xxxx":case"xx":return Ss(t);default:return Ss(t,":")}},O:function(s,l,r){const t=s.getTimezoneOffset();switch(l){case"O":case"OO":case"OOO":return"GMT"+X0(t,":");default:return"GMT"+Ss(t,":")}},z:function(s,l,r){const t=s.getTimezoneOffset();switch(l){case"z":case"zz":case"zzz":return"GMT"+X0(t,":");default:return"GMT"+Ss(t,":")}},t:function(s,l,r){const t=Math.trunc(+s/1e3);return ct(t,l.length)},T:function(s,l,r){return ct(+s,l.length)}};function X0(s,l=""){const r=s>0?"-":"+",t=Math.abs(s),o=Math.trunc(t/60),u=t%60;return u===0?r+String(o):r+String(o)+l+ct(u,2)}function W0(s,l){return s%60===0?(s>0?"-":"+")+ct(Math.abs(s)/60,2):Ss(s,l)}function Ss(s,l=""){const r=s>0?"-":"+",t=Math.abs(s),o=ct(Math.trunc(t/60),2),u=ct(t%60,2);return r+o+l+u}const Z0=(s,l)=>{switch(s){case"P":return l.date({width:"short"});case"PP":return l.date({width:"medium"});case"PPP":return l.date({width:"long"});default:return l.date({width:"full"})}},Ky=(s,l)=>{switch(s){case"p":return l.time({width:"short"});case"pp":return l.time({width:"medium"});case"ppp":return l.time({width:"long"});default:return l.time({width:"full"})}},_k=(s,l)=>{const r=s.match(/(P+)(p+)?/)||[],t=r[1],o=r[2];if(!o)return Z0(s,l);let u;switch(t){case"P":u=l.dateTime({width:"short"});break;case"PP":u=l.dateTime({width:"medium"});break;case"PPP":u=l.dateTime({width:"long"});break;default:u=l.dateTime({width:"full"});break}return u.replace("{{date}}",Z0(t,l)).replace("{{time}}",Ky(o,l))},Pf={p:Ky,P:_k},Ok=/^D+$/,Rk=/^Y+$/,Lk=["D","DD","YY","YYYY"];function Ik(s){return Ok.test(s)}function Pk(s){return Rk.test(s)}function zk(s,l,r){const t=Fk(s,l,r);if(console.warn(t),Lk.includes(s))throw new RangeError(t)}function Fk(s,l,r){const t=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${l}\`) for formatting ${t} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Bk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Hk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Yk=/^'([^]*?)'?$/,qk=/''/g,Uk=/[a-zA-Z]/;function J0(s,l,r){const t=Ps(),o=r?.locale??t.locale??Gy,u=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,d=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,m=Ae(s,r?.in);if(!Ll(m))throw new RangeError("Invalid time value");let x=l.match(Hk).map(v=>{const b=v[0];if(b==="p"||b==="P"){const y=Pf[b];return y(v,o.formatLong)}return v}).join("").match(Bk).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const b=v[0];if(b==="'")return{isToken:!1,value:$k(v)};if(K0[b])return{isToken:!0,value:v};if(b.match(Uk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:v}});o.localize.preprocessor&&(x=o.localize.preprocessor(m,x));const p={firstWeekContainsDate:u,weekStartsOn:d,locale:o};return x.map(v=>{if(!v.isToken)return v.value;const b=v.value;(!r?.useAdditionalWeekYearTokens&&Pk(b)||!r?.useAdditionalDayOfYearTokens&&Ik(b))&&zk(b,l,String(s));const y=K0[b[0]];return y(m,b,o.localize,p)}).join("")}function $k(s){const l=s.match(Yk);return l?l[1].replace(qk,"'"):s}function eb(s,l){return Ae(s,l?.in).getDate()}function Vk(s,l){return Ae(s,l?.in).getDay()}function Gk(s,l){const r=Ae(s,l?.in),t=r.getFullYear(),o=r.getMonth(),u=ut(r,0);return u.setFullYear(t,o+1,0),u.setHours(0,0,0,0),u.getDate()}function Qk(){return Object.assign({},Ps())}function la(s,l){return Ae(s,l?.in).getHours()}function Kk(s,l){const r=Ae(s,l?.in).getDay();return r===0?7:r}function ia(s,l){return Ae(s,l?.in).getMinutes()}function Ma(s,l){return Ae(s,l?.in).getMonth()}function Kr(s){return Ae(s).getSeconds()}function zf(s){return+Ae(s)}function Qe(s,l){return Ae(s,l?.in).getFullYear()}function ur(s,l){return+Ae(s)>+Ae(l)}function An(s,l){return+Ae(s)<+Ae(l)}function Xk(s,l){return+Ae(s)==+Ae(l)}function Wk(s,l){const r=Zk(l)?new l(0):ut(l,0);return r.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()),r.setHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),r}function Zk(s){return typeof s=="function"&&s.prototype?.constructor===s}const Jk=10;class Xy{subPriority=0;validate(l,r){return!0}}class eD extends Xy{constructor(l,r,t,o,u){super(),this.value=l,this.validateValue=r,this.setValue=t,this.priority=o,u&&(this.subPriority=u)}validate(l,r){return this.validateValue(l,this.value,r)}set(l,r,t){return this.setValue(l,r,this.value,t)}}class tD extends Xy{priority=Jk;subPriority=-1;constructor(l,r){super(),this.context=l||(t=>ut(r,t))}set(l,r){return r.timestampIsSet?l:ut(l,Wk(l,this.context))}}class lt{run(l,r,t,o){const u=this.parse(l,r,t,o);return u?{setter:new eD(u.value,this.validate,this.set,this.priority,this.subPriority),rest:u.rest}:null}validate(l,r,t){return!0}}class aD extends lt{priority=140;parse(l,r,t){switch(r){case"G":case"GG":case"GGG":return t.era(l,{width:"abbreviated"})||t.era(l,{width:"narrow"});case"GGGGG":return t.era(l,{width:"narrow"});default:return t.era(l,{width:"wide"})||t.era(l,{width:"abbreviated"})||t.era(l,{width:"narrow"})}}set(l,r,t){return r.era=t,l.setFullYear(t,0,1),l.setHours(0,0,0,0),l}incompatibleTokens=["R","u","t","T"]}const _t={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Dn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ot(s,l){return s&&{value:l(s.value),rest:s.rest}}function Ct(s,l){const r=l.match(s);return r?{value:parseInt(r[0],10),rest:l.slice(r[0].length)}:null}function Mn(s,l){const r=l.match(s);if(!r)return null;if(r[0]==="Z")return{value:0,rest:l.slice(1)};const t=r[1]==="+"?1:-1,o=r[2]?parseInt(r[2],10):0,u=r[3]?parseInt(r[3],10):0,d=r[5]?parseInt(r[5],10):0;return{value:t*(o*zu+u*Pu+d*UC),rest:l.slice(r[0].length)}}function Wy(s){return Ct(_t.anyDigitsSigned,s)}function Mt(s,l){switch(s){case 1:return Ct(_t.singleDigit,l);case 2:return Ct(_t.twoDigits,l);case 3:return Ct(_t.threeDigits,l);case 4:return Ct(_t.fourDigits,l);default:return Ct(new RegExp("^\\d{1,"+s+"}"),l)}}function ju(s,l){switch(s){case 1:return Ct(_t.singleDigitSigned,l);case 2:return Ct(_t.twoDigitsSigned,l);case 3:return Ct(_t.threeDigitsSigned,l);case 4:return Ct(_t.fourDigitsSigned,l);default:return Ct(new RegExp("^-?\\d{1,"+s+"}"),l)}}function fp(s){switch(s){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Zy(s,l){const r=l>0,t=r?l:1-l;let o;if(t<=50)o=s||100;else{const u=t+50,d=Math.trunc(u/100)*100,m=s>=u%100;o=s+d-(m?100:0)}return r?o:1-o}function Jy(s){return s%400===0||s%4===0&&s%100!==0}class nD extends lt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(l,r,t){const o=u=>({year:u,isTwoDigitYear:r==="yy"});switch(r){case"y":return Ot(Mt(4,l),o);case"yo":return Ot(t.ordinalNumber(l,{unit:"year"}),o);default:return Ot(Mt(r.length,l),o)}}validate(l,r){return r.isTwoDigitYear||r.year>0}set(l,r,t){const o=l.getFullYear();if(t.isTwoDigitYear){const d=Zy(t.year,o);return l.setFullYear(d,0,1),l.setHours(0,0,0,0),l}const u=!("era"in r)||r.era===1?t.year:1-t.year;return l.setFullYear(u,0,1),l.setHours(0,0,0,0),l}}class rD extends lt{priority=130;parse(l,r,t){const o=u=>({year:u,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Ot(Mt(4,l),o);case"Yo":return Ot(t.ordinalNumber(l,{unit:"year"}),o);default:return Ot(Mt(r.length,l),o)}}validate(l,r){return r.isTwoDigitYear||r.year>0}set(l,r,t,o){const u=mp(l,o);if(t.isTwoDigitYear){const m=Zy(t.year,u);return l.setFullYear(m,0,o.firstWeekContainsDate),l.setHours(0,0,0,0),fr(l,o)}const d=!("era"in r)||r.era===1?t.year:1-t.year;return l.setFullYear(d,0,o.firstWeekContainsDate),l.setHours(0,0,0,0),fr(l,o)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class sD extends lt{priority=130;parse(l,r){return ju(r==="R"?4:r.length,l)}set(l,r,t){const o=ut(l,0);return o.setFullYear(t,0,4),o.setHours(0,0,0,0),Ol(o)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class lD extends lt{priority=130;parse(l,r){return ju(r==="u"?4:r.length,l)}set(l,r,t){return l.setFullYear(t,0,1),l.setHours(0,0,0,0),l}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class iD extends lt{priority=120;parse(l,r,t){switch(r){case"Q":case"QQ":return Mt(r.length,l);case"Qo":return t.ordinalNumber(l,{unit:"quarter"});case"QQQ":return t.quarter(l,{width:"abbreviated",context:"formatting"})||t.quarter(l,{width:"narrow",context:"formatting"});case"QQQQQ":return t.quarter(l,{width:"narrow",context:"formatting"});default:return t.quarter(l,{width:"wide",context:"formatting"})||t.quarter(l,{width:"abbreviated",context:"formatting"})||t.quarter(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=1&&r<=4}set(l,r,t){return l.setMonth((t-1)*3,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class oD extends lt{priority=120;parse(l,r,t){switch(r){case"q":case"qq":return Mt(r.length,l);case"qo":return t.ordinalNumber(l,{unit:"quarter"});case"qqq":return t.quarter(l,{width:"abbreviated",context:"standalone"})||t.quarter(l,{width:"narrow",context:"standalone"});case"qqqqq":return t.quarter(l,{width:"narrow",context:"standalone"});default:return t.quarter(l,{width:"wide",context:"standalone"})||t.quarter(l,{width:"abbreviated",context:"standalone"})||t.quarter(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=1&&r<=4}set(l,r,t){return l.setMonth((t-1)*3,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class cD extends lt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(l,r,t){const o=u=>u-1;switch(r){case"M":return Ot(Ct(_t.month,l),o);case"MM":return Ot(Mt(2,l),o);case"Mo":return Ot(t.ordinalNumber(l,{unit:"month"}),o);case"MMM":return t.month(l,{width:"abbreviated",context:"formatting"})||t.month(l,{width:"narrow",context:"formatting"});case"MMMMM":return t.month(l,{width:"narrow",context:"formatting"});default:return t.month(l,{width:"wide",context:"formatting"})||t.month(l,{width:"abbreviated",context:"formatting"})||t.month(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=11}set(l,r,t){return l.setMonth(t,1),l.setHours(0,0,0,0),l}}class uD extends lt{priority=110;parse(l,r,t){const o=u=>u-1;switch(r){case"L":return Ot(Ct(_t.month,l),o);case"LL":return Ot(Mt(2,l),o);case"Lo":return Ot(t.ordinalNumber(l,{unit:"month"}),o);case"LLL":return t.month(l,{width:"abbreviated",context:"standalone"})||t.month(l,{width:"narrow",context:"standalone"});case"LLLLL":return t.month(l,{width:"narrow",context:"standalone"});default:return t.month(l,{width:"wide",context:"standalone"})||t.month(l,{width:"abbreviated",context:"standalone"})||t.month(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=0&&r<=11}set(l,r,t){return l.setMonth(t,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function dD(s,l,r){const t=Ae(s,r?.in),o=Qy(t,r)-l;return t.setDate(t.getDate()-o*7),Ae(t,r?.in)}class mD extends lt{priority=100;parse(l,r,t){switch(r){case"w":return Ct(_t.week,l);case"wo":return t.ordinalNumber(l,{unit:"week"});default:return Mt(r.length,l)}}validate(l,r){return r>=1&&r<=53}set(l,r,t,o){return fr(dD(l,t,o),o)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function fD(s,l,r){const t=Ae(s,r?.in),o=dp(t,r)-l;return t.setDate(t.getDate()-o*7),t}class pD extends lt{priority=100;parse(l,r,t){switch(r){case"I":return Ct(_t.week,l);case"Io":return t.ordinalNumber(l,{unit:"week"});default:return Mt(r.length,l)}}validate(l,r){return r>=1&&r<=53}set(l,r,t){return Ol(fD(l,t))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const xD=[31,28,31,30,31,30,31,31,30,31,30,31],hD=[31,29,31,30,31,30,31,31,30,31,30,31];class vD extends lt{priority=90;subPriority=1;parse(l,r,t){switch(r){case"d":return Ct(_t.date,l);case"do":return t.ordinalNumber(l,{unit:"date"});default:return Mt(r.length,l)}}validate(l,r){const t=l.getFullYear(),o=Jy(t),u=l.getMonth();return o?r>=1&&r<=hD[u]:r>=1&&r<=xD[u]}set(l,r,t){return l.setDate(t),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class bD extends lt{priority=90;subpriority=1;parse(l,r,t){switch(r){case"D":case"DD":return Ct(_t.dayOfYear,l);case"Do":return t.ordinalNumber(l,{unit:"date"});default:return Mt(r.length,l)}}validate(l,r){const t=l.getFullYear();return Jy(t)?r>=1&&r<=366:r>=1&&r<=365}set(l,r,t){return l.setMonth(0,t),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function pp(s,l,r){const t=Ps(),o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,u=Ae(s,r?.in),d=u.getDay(),x=(l%7+7)%7,p=7-o,v=l<0||l>6?l-(d+p)%7:(x+p)%7-(d+p)%7;return dn(u,v,r)}class gD extends lt{priority=90;parse(l,r,t){switch(r){case"E":case"EE":case"EEE":return t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});case"EEEEE":return t.day(l,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});default:return t.day(l,{width:"wide",context:"formatting"})||t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=6}set(l,r,t,o){return l=pp(l,t,o),l.setHours(0,0,0,0),l}incompatibleTokens=["D","i","e","c","t","T"]}class yD extends lt{priority=90;parse(l,r,t,o){const u=d=>{const m=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+m};switch(r){case"e":case"ee":return Ot(Mt(r.length,l),u);case"eo":return Ot(t.ordinalNumber(l,{unit:"day"}),u);case"eee":return t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});case"eeeee":return t.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});default:return t.day(l,{width:"wide",context:"formatting"})||t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=6}set(l,r,t,o){return l=pp(l,t,o),l.setHours(0,0,0,0),l}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class ND extends lt{priority=90;parse(l,r,t,o){const u=d=>{const m=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+m};switch(r){case"c":case"cc":return Ot(Mt(r.length,l),u);case"co":return Ot(t.ordinalNumber(l,{unit:"day"}),u);case"ccc":return t.day(l,{width:"abbreviated",context:"standalone"})||t.day(l,{width:"short",context:"standalone"})||t.day(l,{width:"narrow",context:"standalone"});case"ccccc":return t.day(l,{width:"narrow",context:"standalone"});case"cccccc":return t.day(l,{width:"short",context:"standalone"})||t.day(l,{width:"narrow",context:"standalone"});default:return t.day(l,{width:"wide",context:"standalone"})||t.day(l,{width:"abbreviated",context:"standalone"})||t.day(l,{width:"short",context:"standalone"})||t.day(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=0&&r<=6}set(l,r,t,o){return l=pp(l,t,o),l.setHours(0,0,0,0),l}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function jD(s,l,r){const t=Ae(s,r?.in),o=Kk(t,r),u=l-o;return dn(t,u,r)}class wD extends lt{priority=90;parse(l,r,t){const o=u=>u===0?7:u;switch(r){case"i":case"ii":return Mt(r.length,l);case"io":return t.ordinalNumber(l,{unit:"day"});case"iii":return Ot(t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"}),o);case"iiiii":return Ot(t.day(l,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Ot(t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"}),o);default:return Ot(t.day(l,{width:"wide",context:"formatting"})||t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"}),o)}}validate(l,r){return r>=1&&r<=7}set(l,r,t){return l=jD(l,t),l.setHours(0,0,0,0),l}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class SD extends lt{priority=80;parse(l,r,t){switch(r){case"a":case"aa":case"aaa":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaaa":return t.dayPeriod(l,{width:"narrow",context:"formatting"});default:return t.dayPeriod(l,{width:"wide",context:"formatting"})||t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,t){return l.setHours(fp(t),0,0,0),l}incompatibleTokens=["b","B","H","k","t","T"]}class CD extends lt{priority=80;parse(l,r,t){switch(r){case"b":case"bb":case"bbb":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbbb":return t.dayPeriod(l,{width:"narrow",context:"formatting"});default:return t.dayPeriod(l,{width:"wide",context:"formatting"})||t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,t){return l.setHours(fp(t),0,0,0),l}incompatibleTokens=["a","B","H","k","t","T"]}class kD extends lt{priority=80;parse(l,r,t){switch(r){case"B":case"BB":case"BBB":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBBB":return t.dayPeriod(l,{width:"narrow",context:"formatting"});default:return t.dayPeriod(l,{width:"wide",context:"formatting"})||t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,t){return l.setHours(fp(t),0,0,0),l}incompatibleTokens=["a","b","t","T"]}class DD extends lt{priority=70;parse(l,r,t){switch(r){case"h":return Ct(_t.hour12h,l);case"ho":return t.ordinalNumber(l,{unit:"hour"});default:return Mt(r.length,l)}}validate(l,r){return r>=1&&r<=12}set(l,r,t){const o=l.getHours()>=12;return o&&t<12?l.setHours(t+12,0,0,0):!o&&t===12?l.setHours(0,0,0,0):l.setHours(t,0,0,0),l}incompatibleTokens=["H","K","k","t","T"]}class MD extends lt{priority=70;parse(l,r,t){switch(r){case"H":return Ct(_t.hour23h,l);case"Ho":return t.ordinalNumber(l,{unit:"hour"});default:return Mt(r.length,l)}}validate(l,r){return r>=0&&r<=23}set(l,r,t){return l.setHours(t,0,0,0),l}incompatibleTokens=["a","b","h","K","k","t","T"]}class AD extends lt{priority=70;parse(l,r,t){switch(r){case"K":return Ct(_t.hour11h,l);case"Ko":return t.ordinalNumber(l,{unit:"hour"});default:return Mt(r.length,l)}}validate(l,r){return r>=0&&r<=11}set(l,r,t){return l.getHours()>=12&&t<12?l.setHours(t+12,0,0,0):l.setHours(t,0,0,0),l}incompatibleTokens=["h","H","k","t","T"]}class TD extends lt{priority=70;parse(l,r,t){switch(r){case"k":return Ct(_t.hour24h,l);case"ko":return t.ordinalNumber(l,{unit:"hour"});default:return Mt(r.length,l)}}validate(l,r){return r>=1&&r<=24}set(l,r,t){const o=t<=24?t%24:t;return l.setHours(o,0,0,0),l}incompatibleTokens=["a","b","h","H","K","t","T"]}class ED extends lt{priority=60;parse(l,r,t){switch(r){case"m":return Ct(_t.minute,l);case"mo":return t.ordinalNumber(l,{unit:"minute"});default:return Mt(r.length,l)}}validate(l,r){return r>=0&&r<=59}set(l,r,t){return l.setMinutes(t,0,0),l}incompatibleTokens=["t","T"]}class _D extends lt{priority=50;parse(l,r,t){switch(r){case"s":return Ct(_t.second,l);case"so":return t.ordinalNumber(l,{unit:"second"});default:return Mt(r.length,l)}}validate(l,r){return r>=0&&r<=59}set(l,r,t){return l.setSeconds(t,0),l}incompatibleTokens=["t","T"]}class OD extends lt{priority=30;parse(l,r){const t=o=>Math.trunc(o*Math.pow(10,-r.length+3));return Ot(Mt(r.length,l),t)}set(l,r,t){return l.setMilliseconds(t),l}incompatibleTokens=["t","T"]}class RD extends lt{priority=10;parse(l,r){switch(r){case"X":return Mn(Dn.basicOptionalMinutes,l);case"XX":return Mn(Dn.basic,l);case"XXXX":return Mn(Dn.basicOptionalSeconds,l);case"XXXXX":return Mn(Dn.extendedOptionalSeconds,l);default:return Mn(Dn.extended,l)}}set(l,r,t){return r.timestampIsSet?l:ut(l,l.getTime()-vu(l)-t)}incompatibleTokens=["t","T","x"]}class LD extends lt{priority=10;parse(l,r){switch(r){case"x":return Mn(Dn.basicOptionalMinutes,l);case"xx":return Mn(Dn.basic,l);case"xxxx":return Mn(Dn.basicOptionalSeconds,l);case"xxxxx":return Mn(Dn.extendedOptionalSeconds,l);default:return Mn(Dn.extended,l)}}set(l,r,t){return r.timestampIsSet?l:ut(l,l.getTime()-vu(l)-t)}incompatibleTokens=["t","T","X"]}class ID extends lt{priority=40;parse(l){return Wy(l)}set(l,r,t){return[ut(l,t*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class PD extends lt{priority=20;parse(l){return Wy(l)}set(l,r,t){return[ut(l,t),{timestampIsSet:!0}]}incompatibleTokens="*"}const zD={G:new aD,y:new nD,Y:new rD,R:new sD,u:new lD,Q:new iD,q:new oD,M:new cD,L:new uD,w:new mD,I:new pD,d:new vD,D:new bD,E:new gD,e:new yD,c:new ND,i:new wD,a:new SD,b:new CD,B:new kD,h:new DD,H:new MD,K:new AD,k:new TD,m:new ED,s:new _D,S:new OD,X:new RD,x:new LD,t:new ID,T:new PD},FD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,HD=/^'([^]*?)'?$/,YD=/''/g,qD=/\S/,UD=/[a-zA-Z]/;function $D(s,l,r,t){const o=()=>ut(t?.in||r,NaN),u=Qk(),d=t?.locale??u.locale??Gy,m=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,x=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0;if(!l)return s?o():Ae(r,t?.in);const p={firstWeekContainsDate:m,weekStartsOn:x,locale:d},v=[new tD(t?.in,r)],b=l.match(BD).map(g=>{const j=g[0];if(j in Pf){const D=Pf[j];return D(g,d.formatLong)}return g}).join("").match(FD),y=[];for(let g of b){const j=g[0],D=zD[j];if(D){const{incompatibleTokens:k}=D;if(Array.isArray(k)){const T=y.find(H=>k.includes(H.token)||H.token===j);if(T)throw new RangeError(`The format string mustn't contain \`${T.fullToken}\` and \`${g}\` at the same time`)}else if(D.incompatibleTokens==="*"&&y.length>0)throw new RangeError(`The format string mustn't contain \`${g}\` and any other token at the same time`);y.push({token:j,fullToken:g});const O=D.run(s,g,d.match,p);if(!O)return o();v.push(O.setter),s=O.rest}else{if(j.match(UD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");if(g==="''"?g="'":j==="'"&&(g=VD(g)),s.indexOf(g)===0)s=s.slice(g.length);else return o()}}if(s.length>0&&qD.test(s))return o();const w=v.map(g=>g.priority).sort((g,j)=>j-g).filter((g,j,D)=>D.indexOf(g)===j).map(g=>v.filter(j=>j.priority===g).sort((j,D)=>D.subPriority-j.subPriority)).map(g=>g[0]);let M=Ae(r,t?.in);if(isNaN(+M))return o();const S={};for(const g of w){if(!g.validate(M,p))return o();const j=g.set(M,S,p);Array.isArray(j)?(M=j[0],Object.assign(S,j[1])):M=j}return M}function VD(s){return s.match(HD)[1].replace(YD,"'")}function GD(s,l,r){const[t,o]=xr(r?.in,s,l);return t.getFullYear()===o.getFullYear()&&t.getMonth()===o.getMonth()}function QD(s,l,r){const[t,o]=xr(r?.in,s,l);return+If(t)==+If(o)}function KD(s,l,r){const[t,o]=xr(r?.in,s,l);return t.getFullYear()===o.getFullYear()}function so(s,l,r){const t=+Ae(s,r?.in),[o,u]=[+Ae(l.start,r?.in),+Ae(l.end,r?.in)].sort((d,m)=>d-m);return t>=o&&t<=u}function XD(s,l,r){return dn(s,-1,r)}function WD(s,l){const r=()=>ut(l?.in,NaN),o=tM(s);let u;if(o.date){const p=aM(o.date,2);u=nM(p.restDateString,p.year)}if(!u||isNaN(+u))return r();const d=+u;let m=0,x;if(o.time&&(m=rM(o.time),isNaN(m)))return r();if(o.timezone){if(x=sM(o.timezone),isNaN(x))return r()}else{const p=new Date(d+m),v=Ae(0,l?.in);return v.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),v.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),v}return Ae(d+m+x,l?.in)}const _c={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ZD=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,JD=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,eM=/^([+-])(\d{2})(?::?(\d{2}))?$/;function tM(s){const l={},r=s.split(_c.dateTimeDelimiter);let t;if(r.length>2)return l;if(/:/.test(r[0])?t=r[0]:(l.date=r[0],t=r[1],_c.timeZoneDelimiter.test(l.date)&&(l.date=s.split(_c.timeZoneDelimiter)[0],t=s.substr(l.date.length,s.length))),t){const o=_c.timezone.exec(t);o?(l.time=t.replace(o[1],""),l.timezone=o[1]):l.time=t}return l}function aM(s,l){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+l)+"})|(\\d{2}|[+-]\\d{"+(2+l)+"})$)"),t=s.match(r);if(!t)return{year:NaN,restDateString:""};const o=t[1]?parseInt(t[1]):null,u=t[2]?parseInt(t[2]):null;return{year:u===null?o:u*100,restDateString:s.slice((t[1]||t[2]).length)}}function nM(s,l){if(l===null)return new Date(NaN);const r=s.match(ZD);if(!r)return new Date(NaN);const t=!!r[4],o=$i(r[1]),u=$i(r[2])-1,d=$i(r[3]),m=$i(r[4]),x=$i(r[5])-1;if(t)return uM(l,m,x)?lM(l,m,x):new Date(NaN);{const p=new Date(0);return!oM(l,u,d)||!cM(l,o)?new Date(NaN):(p.setUTCFullYear(l,u,Math.max(o,d)),p)}}function $i(s){return s?parseInt(s):1}function rM(s){const l=s.match(JD);if(!l)return NaN;const r=xf(l[1]),t=xf(l[2]),o=xf(l[3]);return dM(r,t,o)?r*zu+t*Pu+o*1e3:NaN}function xf(s){return s&&parseFloat(s.replace(",","."))||0}function sM(s){if(s==="Z")return 0;const l=s.match(eM);if(!l)return 0;const r=l[1]==="+"?-1:1,t=parseInt(l[2]),o=l[3]&&parseInt(l[3])||0;return mM(t,o)?r*(t*zu+o*Pu):NaN}function lM(s,l,r){const t=new Date(0);t.setUTCFullYear(s,0,4);const o=t.getUTCDay()||7,u=(l-1)*7+r+1-o;return t.setUTCDate(t.getUTCDate()+u),t}const iM=[31,null,31,30,31,30,31,31,30,31,30,31];function e1(s){return s%400===0||s%4===0&&s%100!==0}function oM(s,l,r){return l>=0&&l<=11&&r>=1&&r<=(iM[l]||(e1(s)?29:28))}function cM(s,l){return l>=1&&l<=(e1(s)?366:365)}function uM(s,l,r){return l>=1&&l<=53&&r>=0&&r<=6}function dM(s,l,r){return s===24?l===0&&r===0:r>=0&&r<60&&l>=0&&l<60&&s>=0&&s<25}function mM(s,l){return l>=0&&l<=59}function Fa(s,l,r){const t=Ae(s,r?.in),o=t.getFullYear(),u=t.getDate(),d=ut(s,0);d.setFullYear(o,l,15),d.setHours(0,0,0,0);const m=Gk(d);return t.setMonth(l,Math.min(u,m)),t}function ru(s,l,r){const t=Ae(s,r?.in);return t.setHours(l),t}function su(s,l,r){const t=Ae(s,r?.in);return t.setMinutes(l),t}function Sl(s,l,r){const t=Ae(s,r?.in),o=Math.trunc(t.getMonth()/3)+1,u=l-o;return Fa(t,t.getMonth()+u*3)}function lu(s,l,r){const t=Ae(s,r?.in);return t.setSeconds(l),t}function Cn(s,l,r){const t=Ae(s,r?.in);return isNaN(+t)?ut(s,NaN):(t.setFullYear(l),t)}function Es(s,l,r){return pn(s,-l,r)}function t1(s,l,r){return up(s,-1,r)}function tb(s,l,r){return bu(s,-1,r)}function Wr(s,l,r){return mn(s,-l,r)}function Bu(){return typeof window<"u"}function Vl(s){return a1(s)?(s.nodeName||"").toLowerCase():"#document"}function Ha(s){var l;return(s==null||(l=s.ownerDocument)==null?void 0:l.defaultView)||window}function Fn(s){var l;return(l=(a1(s)?s.ownerDocument:s.document)||window.document)==null?void 0:l.documentElement}function a1(s){return Bu()?s instanceof Node||s instanceof Ha(s).Node:!1}function pa(s){return Bu()?s instanceof Element||s instanceof Ha(s).Element:!1}function Ln(s){return Bu()?s instanceof HTMLElement||s instanceof Ha(s).HTMLElement:!1}function ab(s){return!Bu()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof Ha(s).ShadowRoot}const fM=new Set(["inline","contents"]);function mo(s){const{overflow:l,overflowX:r,overflowY:t,display:o}=an(s);return/auto|scroll|overlay|hidden|clip/.test(l+t+r)&&!fM.has(o)}const pM=new Set(["table","td","th"]);function xM(s){return pM.has(Vl(s))}const hM=[":popover-open",":modal"];function Hu(s){return hM.some(l=>{try{return s.matches(l)}catch{return!1}})}const vM=["transform","translate","scale","rotate","perspective"],bM=["transform","translate","scale","rotate","perspective","filter"],gM=["paint","layout","strict","content"];function xp(s){const l=hp(),r=pa(s)?an(s):s;return vM.some(t=>r[t]?r[t]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!l&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!l&&(r.filter?r.filter!=="none":!1)||bM.some(t=>(r.willChange||"").includes(t))||gM.some(t=>(r.contain||"").includes(t))}function yM(s){let l=Zr(s);for(;Ln(l)&&!Il(l);){if(xp(l))return l;if(Hu(l))return null;l=Zr(l)}return null}function hp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const NM=new Set(["html","body","#document"]);function Il(s){return NM.has(Vl(s))}function an(s){return Ha(s).getComputedStyle(s)}function Yu(s){return pa(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function Zr(s){if(Vl(s)==="html")return s;const l=s.assignedSlot||s.parentNode||ab(s)&&s.host||Fn(s);return ab(l)?l.host:l}function n1(s){const l=Zr(s);return Il(l)?s.ownerDocument?s.ownerDocument.body:s.body:Ln(l)&&mo(l)?l:n1(l)}function lo(s,l,r){var t;l===void 0&&(l=[]),r===void 0&&(r=!0);const o=n1(s),u=o===((t=s.ownerDocument)==null?void 0:t.body),d=Ha(o);if(u){const m=Ff(d);return l.concat(d,d.visualViewport||[],mo(o)?o:[],m&&r?lo(m):[])}return l.concat(o,lo(o,[],r))}function Ff(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}const Pl=Math.min,_s=Math.max,wu=Math.round,Oc=Math.floor,On=s=>({x:s,y:s}),jM={left:"right",right:"left",bottom:"top",top:"bottom"},wM={start:"end",end:"start"};function SM(s,l,r){return _s(s,Pl(l,r))}function qu(s,l){return typeof s=="function"?s(l):s}function zl(s){return s.split("-")[0]}function fo(s){return s.split("-")[1]}function CM(s){return s==="x"?"y":"x"}function vp(s){return s==="y"?"height":"width"}const kM=new Set(["top","bottom"]);function Ms(s){return kM.has(zl(s))?"y":"x"}function bp(s){return CM(Ms(s))}function DM(s,l,r){r===void 0&&(r=!1);const t=fo(s),o=bp(s),u=vp(o);let d=o==="x"?t===(r?"end":"start")?"right":"left":t==="start"?"bottom":"top";return l.reference[u]>l.floating[u]&&(d=Su(d)),[d,Su(d)]}function MM(s){const l=Su(s);return[Bf(s),l,Bf(l)]}function Bf(s){return s.replace(/start|end/g,l=>wM[l])}const nb=["left","right"],rb=["right","left"],AM=["top","bottom"],TM=["bottom","top"];function EM(s,l,r){switch(s){case"top":case"bottom":return r?l?rb:nb:l?nb:rb;case"left":case"right":return l?AM:TM;default:return[]}}function _M(s,l,r,t){const o=fo(s);let u=EM(zl(s),r==="start",t);return o&&(u=u.map(d=>d+"-"+o),l&&(u=u.concat(u.map(Bf)))),u}function Su(s){return s.replace(/left|right|bottom|top/g,l=>jM[l])}function OM(s){return{top:0,right:0,bottom:0,left:0,...s}}function r1(s){return typeof s!="number"?OM(s):{top:s,right:s,bottom:s,left:s}}function Cu(s){const{x:l,y:r,width:t,height:o}=s;return{width:t,height:o,top:r,left:l,right:l+t,bottom:r+o,x:l,y:r}}var RM=typeof document<"u",LM=function(){},ku=RM?N.useLayoutEffect:LM;const IM={...hg},PM=IM.useInsertionEffect,zM=PM||(s=>s());function FM(s){const l=N.useRef(()=>{});return zM(()=>{l.current=s}),N.useCallback(function(){for(var r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];return l.current==null?void 0:l.current(...t)},[])}function sb(s,l,r){let{reference:t,floating:o}=s;const u=Ms(l),d=bp(l),m=vp(d),x=zl(l),p=u==="y",v=t.x+t.width/2-o.width/2,b=t.y+t.height/2-o.height/2,y=t[m]/2-o[m]/2;let w;switch(x){case"top":w={x:v,y:t.y-o.height};break;case"bottom":w={x:v,y:t.y+t.height};break;case"right":w={x:t.x+t.width,y:b};break;case"left":w={x:t.x-o.width,y:b};break;default:w={x:t.x,y:t.y}}switch(fo(l)){case"start":w[d]-=y*(r&&p?-1:1);break;case"end":w[d]+=y*(r&&p?-1:1);break}return w}async function BM(s,l){var r;l===void 0&&(l={});const{x:t,y:o,platform:u,rects:d,elements:m,strategy:x}=s,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:y=!1,padding:w=0}=qu(l,s),M=r1(w),g=m[y?b==="floating"?"reference":"floating":b],j=Cu(await u.getClippingRect({element:(r=await(u.isElement==null?void 0:u.isElement(g)))==null||r?g:g.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(m.floating)),boundary:p,rootBoundary:v,strategy:x})),D=b==="floating"?{x:t,y:o,width:d.floating.width,height:d.floating.height}:d.reference,k=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m.floating)),O=await(u.isElement==null?void 0:u.isElement(k))?await(u.getScale==null?void 0:u.getScale(k))||{x:1,y:1}:{x:1,y:1},T=Cu(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:D,offsetParent:k,strategy:x}):D);return{top:(j.top-T.top+M.top)/O.y,bottom:(T.bottom-j.bottom+M.bottom)/O.y,left:(j.left-T.left+M.left)/O.x,right:(T.right-j.right+M.right)/O.x}}const HM=async(s,l,r)=>{const{placement:t="bottom",strategy:o="absolute",middleware:u=[],platform:d}=r,m=u.filter(Boolean),x=await(d.isRTL==null?void 0:d.isRTL(l));let p=await d.getElementRects({reference:s,floating:l,strategy:o}),{x:v,y:b}=sb(p,t,x),y=t,w={},M=0;for(let g=0;g<m.length;g++){var S;const{name:j,fn:D}=m[g],{x:k,y:O,data:T,reset:H}=await D({x:v,y:b,initialPlacement:t,placement:y,strategy:o,middlewareData:w,rects:p,platform:{...d,detectOverflow:(S=d.detectOverflow)!=null?S:BM},elements:{reference:s,floating:l}});v=k??v,b=O??b,w={...w,[j]:{...w[j],...T}},H&&M<=50&&(M++,typeof H=="object"&&(H.placement&&(y=H.placement),H.rects&&(p=H.rects===!0?await d.getElementRects({reference:s,floating:l,strategy:o}):H.rects),{x:v,y:b}=sb(p,y,x)),g=-1)}return{x:v,y:b,placement:y,strategy:o,middlewareData:w}},YM=s=>({name:"arrow",options:s,async fn(l){const{x:r,y:t,placement:o,rects:u,platform:d,elements:m,middlewareData:x}=l,{element:p,padding:v=0}=qu(s,l)||{};if(p==null)return{};const b=r1(v),y={x:r,y:t},w=bp(o),M=vp(w),S=await d.getDimensions(p),g=w==="y",j=g?"top":"left",D=g?"bottom":"right",k=g?"clientHeight":"clientWidth",O=u.reference[M]+u.reference[w]-y[w]-u.floating[M],T=y[w]-u.reference[w],H=await(d.getOffsetParent==null?void 0:d.getOffsetParent(p));let I=H?H[k]:0;(!I||!await(d.isElement==null?void 0:d.isElement(H)))&&(I=m.floating[k]||u.floating[M]);const R=O/2-T/2,z=I/2-S[M]/2-1,L=Pl(b[j],z),V=Pl(b[D],z),A=L,le=I-S[M]-V,oe=I/2-S[M]/2+R,re=SM(A,oe,le),q=!x.arrow&&fo(o)!=null&&oe!==re&&u.reference[M]/2-(oe<A?L:V)-S[M]/2<0,Z=q?oe<A?oe-A:oe-le:0;return{[w]:y[w]+Z,data:{[w]:re,centerOffset:oe-re-Z,...q&&{alignmentOffset:Z}},reset:q}}}),qM=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(l){var r,t;const{placement:o,middlewareData:u,rects:d,initialPlacement:m,platform:x,elements:p}=l,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:y,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:M="none",flipAlignment:S=!0,...g}=qu(s,l);if((r=u.arrow)!=null&&r.alignmentOffset)return{};const j=zl(o),D=Ms(m),k=zl(m)===m,O=await(x.isRTL==null?void 0:x.isRTL(p.floating)),T=y||(k||!S?[Su(m)]:MM(m)),H=M!=="none";!y&&H&&T.push(..._M(m,S,M,O));const I=[m,...T],R=await x.detectOverflow(l,g),z=[];let L=((t=u.flip)==null?void 0:t.overflows)||[];if(v&&z.push(R[j]),b){const oe=DM(o,d,O);z.push(R[oe[0]],R[oe[1]])}if(L=[...L,{placement:o,overflows:z}],!z.every(oe=>oe<=0)){var V,A;const oe=(((V=u.flip)==null?void 0:V.index)||0)+1,re=I[oe];if(re&&(!(b==="alignment"?D!==Ms(re):!1)||L.every(_=>Ms(_.placement)===D?_.overflows[0]>0:!0)))return{data:{index:oe,overflows:L},reset:{placement:re}};let q=(A=L.filter(Z=>Z.overflows[0]<=0).sort((Z,_)=>Z.overflows[1]-_.overflows[1])[0])==null?void 0:A.placement;if(!q)switch(w){case"bestFit":{var le;const Z=(le=L.filter(_=>{if(H){const Q=Ms(_.placement);return Q===D||Q==="y"}return!0}).map(_=>[_.placement,_.overflows.filter(Q=>Q>0).reduce((Q,de)=>Q+de,0)]).sort((_,Q)=>_[1]-Q[1])[0])==null?void 0:le[0];Z&&(q=Z);break}case"initialPlacement":q=m;break}if(o!==q)return{reset:{placement:q}}}return{}}}},UM=new Set(["left","top"]);async function $M(s,l){const{placement:r,platform:t,elements:o}=s,u=await(t.isRTL==null?void 0:t.isRTL(o.floating)),d=zl(r),m=fo(r),x=Ms(r)==="y",p=UM.has(d)?-1:1,v=u&&x?-1:1,b=qu(l,s);let{mainAxis:y,crossAxis:w,alignmentAxis:M}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return m&&typeof M=="number"&&(w=m==="end"?M*-1:M),x?{x:w*v,y:y*p}:{x:y*p,y:w*v}}const VM=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(l){var r,t;const{x:o,y:u,placement:d,middlewareData:m}=l,x=await $M(l,s);return d===((r=m.offset)==null?void 0:r.placement)&&(t=m.arrow)!=null&&t.alignmentOffset?{}:{x:o+x.x,y:u+x.y,data:{...x,placement:d}}}}};function s1(s){const l=an(s);let r=parseFloat(l.width)||0,t=parseFloat(l.height)||0;const o=Ln(s),u=o?s.offsetWidth:r,d=o?s.offsetHeight:t,m=wu(r)!==u||wu(t)!==d;return m&&(r=u,t=d),{width:r,height:t,$:m}}function gp(s){return pa(s)?s:s.contextElement}function Dl(s){const l=gp(s);if(!Ln(l))return On(1);const r=l.getBoundingClientRect(),{width:t,height:o,$:u}=s1(l);let d=(u?wu(r.width):r.width)/t,m=(u?wu(r.height):r.height)/o;return(!d||!Number.isFinite(d))&&(d=1),(!m||!Number.isFinite(m))&&(m=1),{x:d,y:m}}const GM=On(0);function l1(s){const l=Ha(s);return!hp()||!l.visualViewport?GM:{x:l.visualViewport.offsetLeft,y:l.visualViewport.offsetTop}}function QM(s,l,r){return l===void 0&&(l=!1),!r||l&&r!==Ha(s)?!1:l}function Rs(s,l,r,t){l===void 0&&(l=!1),r===void 0&&(r=!1);const o=s.getBoundingClientRect(),u=gp(s);let d=On(1);l&&(t?pa(t)&&(d=Dl(t)):d=Dl(s));const m=QM(u,r,t)?l1(u):On(0);let x=(o.left+m.x)/d.x,p=(o.top+m.y)/d.y,v=o.width/d.x,b=o.height/d.y;if(u){const y=Ha(u),w=t&&pa(t)?Ha(t):t;let M=y,S=Ff(M);for(;S&&t&&w!==M;){const g=Dl(S),j=S.getBoundingClientRect(),D=an(S),k=j.left+(S.clientLeft+parseFloat(D.paddingLeft))*g.x,O=j.top+(S.clientTop+parseFloat(D.paddingTop))*g.y;x*=g.x,p*=g.y,v*=g.x,b*=g.y,x+=k,p+=O,M=Ha(S),S=Ff(M)}}return Cu({width:v,height:b,x,y:p})}function Uu(s,l){const r=Yu(s).scrollLeft;return l?l.left+r:Rs(Fn(s)).left+r}function i1(s,l){const r=s.getBoundingClientRect(),t=r.left+l.scrollLeft-Uu(s,r),o=r.top+l.scrollTop;return{x:t,y:o}}function KM(s){let{elements:l,rect:r,offsetParent:t,strategy:o}=s;const u=o==="fixed",d=Fn(t),m=l?Hu(l.floating):!1;if(t===d||m&&u)return r;let x={scrollLeft:0,scrollTop:0},p=On(1);const v=On(0),b=Ln(t);if((b||!b&&!u)&&((Vl(t)!=="body"||mo(d))&&(x=Yu(t)),Ln(t))){const w=Rs(t);p=Dl(t),v.x=w.x+t.clientLeft,v.y=w.y+t.clientTop}const y=d&&!b&&!u?i1(d,x):On(0);return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-x.scrollLeft*p.x+v.x+y.x,y:r.y*p.y-x.scrollTop*p.y+v.y+y.y}}function XM(s){return Array.from(s.getClientRects())}function WM(s){const l=Fn(s),r=Yu(s),t=s.ownerDocument.body,o=_s(l.scrollWidth,l.clientWidth,t.scrollWidth,t.clientWidth),u=_s(l.scrollHeight,l.clientHeight,t.scrollHeight,t.clientHeight);let d=-r.scrollLeft+Uu(s);const m=-r.scrollTop;return an(t).direction==="rtl"&&(d+=_s(l.clientWidth,t.clientWidth)-o),{width:o,height:u,x:d,y:m}}const lb=25;function ZM(s,l){const r=Ha(s),t=Fn(s),o=r.visualViewport;let u=t.clientWidth,d=t.clientHeight,m=0,x=0;if(o){u=o.width,d=o.height;const v=hp();(!v||v&&l==="fixed")&&(m=o.offsetLeft,x=o.offsetTop)}const p=Uu(t);if(p<=0){const v=t.ownerDocument,b=v.body,y=getComputedStyle(b),w=v.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,M=Math.abs(t.clientWidth-b.clientWidth-w);M<=lb&&(u-=M)}else p<=lb&&(u+=p);return{width:u,height:d,x:m,y:x}}const JM=new Set(["absolute","fixed"]);function e4(s,l){const r=Rs(s,!0,l==="fixed"),t=r.top+s.clientTop,o=r.left+s.clientLeft,u=Ln(s)?Dl(s):On(1),d=s.clientWidth*u.x,m=s.clientHeight*u.y,x=o*u.x,p=t*u.y;return{width:d,height:m,x,y:p}}function ib(s,l,r){let t;if(l==="viewport")t=ZM(s,r);else if(l==="document")t=WM(Fn(s));else if(pa(l))t=e4(l,r);else{const o=l1(s);t={x:l.x-o.x,y:l.y-o.y,width:l.width,height:l.height}}return Cu(t)}function o1(s,l){const r=Zr(s);return r===l||!pa(r)||Il(r)?!1:an(r).position==="fixed"||o1(r,l)}function t4(s,l){const r=l.get(s);if(r)return r;let t=lo(s,[],!1).filter(m=>pa(m)&&Vl(m)!=="body"),o=null;const u=an(s).position==="fixed";let d=u?Zr(s):s;for(;pa(d)&&!Il(d);){const m=an(d),x=xp(d);!x&&m.position==="fixed"&&(o=null),(u?!x&&!o:!x&&m.position==="static"&&!!o&&JM.has(o.position)||mo(d)&&!x&&o1(s,d))?t=t.filter(v=>v!==d):o=m,d=Zr(d)}return l.set(s,t),t}function a4(s){let{element:l,boundary:r,rootBoundary:t,strategy:o}=s;const d=[...r==="clippingAncestors"?Hu(l)?[]:t4(l,this._c):[].concat(r),t],m=d[0],x=d.reduce((p,v)=>{const b=ib(l,v,o);return p.top=_s(b.top,p.top),p.right=Pl(b.right,p.right),p.bottom=Pl(b.bottom,p.bottom),p.left=_s(b.left,p.left),p},ib(l,m,o));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function n4(s){const{width:l,height:r}=s1(s);return{width:l,height:r}}function r4(s,l,r){const t=Ln(l),o=Fn(l),u=r==="fixed",d=Rs(s,!0,u,l);let m={scrollLeft:0,scrollTop:0};const x=On(0);function p(){x.x=Uu(o)}if(t||!t&&!u)if((Vl(l)!=="body"||mo(o))&&(m=Yu(l)),t){const w=Rs(l,!0,u,l);x.x=w.x+l.clientLeft,x.y=w.y+l.clientTop}else o&&p();u&&!t&&o&&p();const v=o&&!t&&!u?i1(o,m):On(0),b=d.left+m.scrollLeft-x.x-v.x,y=d.top+m.scrollTop-x.y-v.y;return{x:b,y,width:d.width,height:d.height}}function hf(s){return an(s).position==="static"}function ob(s,l){if(!Ln(s)||an(s).position==="fixed")return null;if(l)return l(s);let r=s.offsetParent;return Fn(s)===r&&(r=r.ownerDocument.body),r}function c1(s,l){const r=Ha(s);if(Hu(s))return r;if(!Ln(s)){let o=Zr(s);for(;o&&!Il(o);){if(pa(o)&&!hf(o))return o;o=Zr(o)}return r}let t=ob(s,l);for(;t&&xM(t)&&hf(t);)t=ob(t,l);return t&&Il(t)&&hf(t)&&!xp(t)?r:t||yM(s)||r}const s4=async function(s){const l=this.getOffsetParent||c1,r=this.getDimensions,t=await r(s.floating);return{reference:r4(s.reference,await l(s.floating),s.strategy),floating:{x:0,y:0,width:t.width,height:t.height}}};function l4(s){return an(s).direction==="rtl"}const i4={convertOffsetParentRelativeRectToViewportRelativeRect:KM,getDocumentElement:Fn,getClippingRect:a4,getOffsetParent:c1,getElementRects:s4,getClientRects:XM,getDimensions:n4,getScale:Dl,isElement:pa,isRTL:l4};function u1(s,l){return s.x===l.x&&s.y===l.y&&s.width===l.width&&s.height===l.height}function o4(s,l){let r=null,t;const o=Fn(s);function u(){var m;clearTimeout(t),(m=r)==null||m.disconnect(),r=null}function d(m,x){m===void 0&&(m=!1),x===void 0&&(x=1),u();const p=s.getBoundingClientRect(),{left:v,top:b,width:y,height:w}=p;if(m||l(),!y||!w)return;const M=Oc(b),S=Oc(o.clientWidth-(v+y)),g=Oc(o.clientHeight-(b+w)),j=Oc(v),k={rootMargin:-M+"px "+-S+"px "+-g+"px "+-j+"px",threshold:_s(0,Pl(1,x))||1};let O=!0;function T(H){const I=H[0].intersectionRatio;if(I!==x){if(!O)return d();I?d(!1,I):t=setTimeout(()=>{d(!1,1e-7)},1e3)}I===1&&!u1(p,s.getBoundingClientRect())&&d(),O=!1}try{r=new IntersectionObserver(T,{...k,root:o.ownerDocument})}catch{r=new IntersectionObserver(T,k)}r.observe(s)}return d(!0),u}function c4(s,l,r,t){t===void 0&&(t={});const{ancestorScroll:o=!0,ancestorResize:u=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:x=!1}=t,p=gp(s),v=o||u?[...p?lo(p):[],...lo(l)]:[];v.forEach(j=>{o&&j.addEventListener("scroll",r,{passive:!0}),u&&j.addEventListener("resize",r)});const b=p&&m?o4(p,r):null;let y=-1,w=null;d&&(w=new ResizeObserver(j=>{let[D]=j;D&&D.target===p&&w&&(w.unobserve(l),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var k;(k=w)==null||k.observe(l)})),r()}),p&&!x&&w.observe(p),w.observe(l));let M,S=x?Rs(s):null;x&&g();function g(){const j=Rs(s);S&&!u1(S,j)&&r(),S=j,M=requestAnimationFrame(g)}return r(),()=>{var j;v.forEach(D=>{o&&D.removeEventListener("scroll",r),u&&D.removeEventListener("resize",r)}),b?.(),(j=w)==null||j.disconnect(),w=null,x&&cancelAnimationFrame(M)}}const u4=VM,d4=qM,cb=YM,m4=(s,l,r)=>{const t=new Map,o={platform:i4,...r},u={...o.platform,_c:t};return HM(s,l,{...o,platform:u})};var f4=typeof document<"u",p4=function(){},iu=f4?N.useLayoutEffect:p4;function Du(s,l){if(s===l)return!0;if(typeof s!=typeof l)return!1;if(typeof s=="function"&&s.toString()===l.toString())return!0;let r,t,o;if(s&&l&&typeof s=="object"){if(Array.isArray(s)){if(r=s.length,r!==l.length)return!1;for(t=r;t--!==0;)if(!Du(s[t],l[t]))return!1;return!0}if(o=Object.keys(s),r=o.length,r!==Object.keys(l).length)return!1;for(t=r;t--!==0;)if(!{}.hasOwnProperty.call(l,o[t]))return!1;for(t=r;t--!==0;){const u=o[t];if(!(u==="_owner"&&s.$$typeof)&&!Du(s[u],l[u]))return!1}return!0}return s!==s&&l!==l}function d1(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function ub(s,l){const r=d1(s);return Math.round(l*r)/r}function vf(s){const l=N.useRef(s);return iu(()=>{l.current=s}),l}function x4(s){s===void 0&&(s={});const{placement:l="bottom",strategy:r="absolute",middleware:t=[],platform:o,elements:{reference:u,floating:d}={},transform:m=!0,whileElementsMounted:x,open:p}=s,[v,b]=N.useState({x:0,y:0,strategy:r,placement:l,middlewareData:{},isPositioned:!1}),[y,w]=N.useState(t);Du(y,t)||w(t);const[M,S]=N.useState(null),[g,j]=N.useState(null),D=N.useCallback(_=>{_!==H.current&&(H.current=_,S(_))},[]),k=N.useCallback(_=>{_!==I.current&&(I.current=_,j(_))},[]),O=u||M,T=d||g,H=N.useRef(null),I=N.useRef(null),R=N.useRef(v),z=x!=null,L=vf(x),V=vf(o),A=vf(p),le=N.useCallback(()=>{if(!H.current||!I.current)return;const _={placement:l,strategy:r,middleware:y};V.current&&(_.platform=V.current),m4(H.current,I.current,_).then(Q=>{const de={...Q,isPositioned:A.current!==!1};oe.current&&!Du(R.current,de)&&(R.current=de,np.flushSync(()=>{b(de)}))})},[y,l,r,V,A]);iu(()=>{p===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,b(_=>({..._,isPositioned:!1})))},[p]);const oe=N.useRef(!1);iu(()=>(oe.current=!0,()=>{oe.current=!1}),[]),iu(()=>{if(O&&(H.current=O),T&&(I.current=T),O&&T){if(L.current)return L.current(O,T,le);le()}},[O,T,le,L,z]);const re=N.useMemo(()=>({reference:H,floating:I,setReference:D,setFloating:k}),[D,k]),q=N.useMemo(()=>({reference:O,floating:T}),[O,T]),Z=N.useMemo(()=>{const _={position:r,left:0,top:0};if(!q.floating)return _;const Q=ub(q.floating,v.x),de=ub(q.floating,v.y);return m?{..._,transform:"translate("+Q+"px, "+de+"px)",...d1(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Q,top:de}},[r,m,q.floating,v.x,v.y]);return N.useMemo(()=>({...v,update:le,refs:re,elements:q,floatingStyles:Z}),[v,le,re,q,Z])}const h4=s=>{function l(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:s,fn(r){const{element:t,padding:o}=typeof s=="function"?s(r):s;return t&&l(t)?t.current!=null?cb({element:t.current,padding:o}).fn(r):{}:t?cb({element:t,padding:o}).fn(r):{}}}},v4=(s,l)=>({...u4(s),options:[s,l]}),b4=(s,l)=>({...d4(s),options:[s,l]}),g4=(s,l)=>({...h4(s),options:[s,l]}),y4={...hg};let db=!1,N4=0;const mb=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+N4++;function j4(){const[s,l]=N.useState(()=>db?mb():void 0);return ku(()=>{s==null&&l(mb())},[]),N.useEffect(()=>{db=!0},[]),s}const w4=y4.useId,m1=w4||j4,S4=N.forwardRef(function(l,r){const{context:{placement:t,elements:{floating:o},middlewareData:{arrow:u,shift:d}},width:m=14,height:x=7,tipRadius:p=0,strokeWidth:v=0,staticOffset:b,stroke:y,d:w,style:{transform:M,...S}={},...g}=l,j=m1(),[D,k]=N.useState(!1);if(ku(()=>{if(!o)return;an(o).direction==="rtl"&&k(!0)},[o]),!o)return null;const[O,T]=t.split("-"),H=O==="top"||O==="bottom";let I=b;(H&&d!=null&&d.x||!H&&d!=null&&d.y)&&(I=null);const R=v*2,z=R/2,L=m/2*(p/-8+1),V=x/2*p/4,A=!!w,le=I&&T==="end"?"bottom":"top";let oe=I&&T==="end"?"right":"left";I&&D&&(oe=T==="end"?"left":"right");const re=u?.x!=null?I||u.x:"",q=u?.y!=null?I||u.y:"",Z=w||"M0,0"+(" H"+m)+(" L"+(m-L)+","+(x-V))+(" Q"+m/2+","+x+" "+L+","+(x-V))+" Z",_={top:A?"rotate(180deg)":"",left:A?"rotate(90deg)":"rotate(-90deg)",bottom:A?"":"rotate(180deg)",right:A?"rotate(-90deg)":"rotate(90deg)"}[O];return a.jsxs("svg",{...g,"aria-hidden":!0,ref:r,width:A?m:m+R,height:m,viewBox:"0 0 "+m+" "+(x>m?x:m),style:{position:"absolute",pointerEvents:"none",[oe]:re,[le]:q,[O]:H||A?"100%":"calc(100% - "+R/2+"px)",transform:[_,M].filter(Q=>!!Q).join(" "),...S},children:[R>0&&a.jsx("path",{clipPath:"url(#"+j+")",fill:"none",stroke:y,strokeWidth:R+(w?0:1),d:Z}),a.jsx("path",{stroke:R&&!w?g.fill:"none",d:Z}),a.jsx("clipPath",{id:j,children:a.jsx("rect",{x:-z,y:z*(A?-1:1),width:m+R,height:m})})]})});function C4(){const s=new Map;return{emit(l,r){var t;(t=s.get(l))==null||t.forEach(o=>o(r))},on(l,r){s.has(l)||s.set(l,new Set),s.get(l).add(r)},off(l,r){var t;(t=s.get(l))==null||t.delete(r)}}}const k4=N.createContext(null),D4=N.createContext(null),M4=()=>{var s;return((s=N.useContext(k4))==null?void 0:s.id)||null},A4=()=>N.useContext(D4);function T4(s){const{open:l=!1,onOpenChange:r,elements:t}=s,o=m1(),u=N.useRef({}),[d]=N.useState(()=>C4()),m=M4()!=null,[x,p]=N.useState(t.reference),v=FM((w,M,S)=>{u.current.openEvent=w?M:void 0,d.emit("openchange",{open:w,event:M,reason:S,nested:m}),r?.(w,M,S)}),b=N.useMemo(()=>({setPositionReference:p}),[]),y=N.useMemo(()=>({reference:x||t.reference||null,floating:t.floating||null,domReference:t.reference}),[x,t.reference,t.floating]);return N.useMemo(()=>({dataRef:u,open:l,onOpenChange:v,elements:y,events:d,floatingId:o,refs:b}),[l,v,y,d,o,b])}function E4(s){s===void 0&&(s={});const{nodeId:l}=s,r=T4({...s,elements:{reference:null,floating:null,...s.elements}}),t=s.rootContext||r,o=t.elements,[u,d]=N.useState(null),[m,x]=N.useState(null),v=o?.domReference||u,b=N.useRef(null),y=A4();ku(()=>{v&&(b.current=v)},[v]);const w=x4({...s,elements:{...o,...m&&{reference:m}}}),M=N.useCallback(k=>{const O=pa(k)?{getBoundingClientRect:()=>k.getBoundingClientRect(),getClientRects:()=>k.getClientRects(),contextElement:k}:k;x(O),w.refs.setReference(O)},[w.refs]),S=N.useCallback(k=>{(pa(k)||k===null)&&(b.current=k,d(k)),(pa(w.refs.reference.current)||w.refs.reference.current===null||k!==null&&!pa(k))&&w.refs.setReference(k)},[w.refs]),g=N.useMemo(()=>({...w.refs,setReference:S,setPositionReference:M,domReference:b}),[w.refs,S,M]),j=N.useMemo(()=>({...w.elements,domReference:v}),[w.elements,v]),D=N.useMemo(()=>({...w,...t,refs:g,elements:j,nodeId:l}),[w,g,j,l,t]);return ku(()=>{t.dataRef.current.floatingContext=D;const k=y?.nodesRef.current.find(O=>O.id===l);k&&(k.context=D)}),N.useMemo(()=>({...w,context:D,refs:g,elements:j}),[w,g,j,D])}var Hf=function(l,r){return Hf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(t[u]=o[u])},Hf(l,r)};function ea(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");Hf(s,l);function r(){this.constructor=s}s.prototype=l===null?Object.create(l):(r.prototype=l.prototype,new r)}var $e=function(){return $e=Object.assign||function(r){for(var t,o=1,u=arguments.length;o<u;o++){t=arguments[o];for(var d in t)Object.prototype.hasOwnProperty.call(t,d)&&(r[d]=t[d])}return r},$e.apply(this,arguments)};function Tn(s,l,r){if(r||arguments.length===2)for(var t=0,o=l.length,u;t<o;t++)(u||!(t in l))&&(u||(u=Array.prototype.slice.call(l,0,t)),u[t]=l[t]);return s.concat(u||Array.prototype.slice.call(l))}var _4=function(s){var l=s.showTimeSelectOnly,r=l===void 0?!1:l,t=s.showTime,o=t===void 0?!1:t,u=s.className,d=s.children,m=s.inline,x=r?"Choose Time":"Choose Date".concat(o?" and Time":"");return ae.createElement("div",{className:u,"aria-label":x,role:m?void 0:"dialog","aria-modal":m?void 0:"true",translate:"no"},d)},O4=function(s,l){var r=N.useRef(null),t=N.useRef(s);N.useEffect(function(){t.current=s},[s]);var o=N.useCallback(function(u){var d,m=u.composed&&u.composedPath&&u.composedPath().find(function(x){return x instanceof Node})||u.target;r.current&&!r.current.contains(m)&&(l&&m instanceof HTMLElement&&m.classList.contains(l)||(d=t.current)===null||d===void 0||d.call(t,u))},[l]);return N.useEffect(function(){return document.addEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}},[o]),r},$u=function(s){var l=s.children,r=s.onClickOutside,t=s.className,o=s.containerRef,u=s.style,d=s.ignoreClass,m=O4(r,d);return ae.createElement("div",{className:t,style:u,ref:function(x){m.current=x,o&&(o.current=x)}},l)},Rc=null,fb=!1;function f1(){if(fb)return Rc;fb=!0;try{var s="date-fns-tz";Rc=require(s)}catch{Rc=null}return Rc}function pb(s,l){if(!l)return s;var r=f1();return r?r.toZonedTime(s,l):s}function sr(s,l){if(!l)return s;var r=f1();return r?r.fromZonedTime(s,l):s}var ve;(function(s){s.ArrowUp="ArrowUp",s.ArrowDown="ArrowDown",s.ArrowLeft="ArrowLeft",s.ArrowRight="ArrowRight",s.PageUp="PageUp",s.PageDown="PageDown",s.Home="Home",s.End="End",s.Enter="Enter",s.Space=" ",s.Tab="Tab",s.Escape="Escape",s.Backspace="Backspace",s.X="x"})(ve||(ve={}));function p1(){var s=typeof window<"u"?window:globalThis;return s}var po=12;function tt(s){if(s==null)return new Date;var l=typeof s=="string"?WD(s):Ae(s);return Da(l)?l:new Date}function Ns(s,l,r,t,o){o===void 0&&(o=tt());for(var u=Fl(r)||Fl(yp()),d=Array.isArray(l)?l:[l],m=0,x=d;m<x.length;m++){var p=x[m],v=$D(s,p,o,{locale:u});if(Da(v)&&(!t||s===yt(v,p,r)))return v}if(!t&&s&&s.length>=8){var b=new Date(s);if(Ll(b))return b}return null}function R4(s,l){if(l===void 0&&(l=tt()),!s)return null;var r=s.match(/\b(1\d{3}|2\d{3})\b/);if(!r||!r[1])return null;var t=parseInt(r[1],10),o=s.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),u=o&&o[1]?parseInt(o[1],10)-1:l.getMonth();return new Date(t,u,1)}function Da(s){return Ll(s)}function As(s){return s==null?null:_n(s)&&Ll(s)?s:null}function yt(s,l,r){if(r==="en")return J0(s,l,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var t=r?Fl(r):void 0;return r&&!t&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),t=t||Fl(yp()),J0(s,l,{locale:t,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ka(s,l){var r=l.dateFormat,t=l.locale,o=Array.isArray(r)&&r.length>0?r[0]:r;return s&&yt(s,o,t)||""}var x1=" - ";function L4(s,l,r){if(!s&&!l)return"";var t=s?ka(s,r):"",o=l?ka(l,r):"",u=r.rangeSeparator||x1;return"".concat(t).concat(u).concat(o)}function I4(s,l){if(!s?.length)return"";var r=s[0]?ka(s[0],l):"";if(s.length===1)return r;if(s.length===2&&s[1]){var t=ka(s[1],l);return"".concat(r,", ").concat(t)}var o=s.length-1;return"".concat(r," (+").concat(o,")")}function lr(s,l){var r=l.hour,t=r===void 0?0:r,o=l.minute,u=o===void 0?0:o,d=l.second,m=d===void 0?0:d;return ru(su(lu(s,m),u),t)}function P4(s){return dp(s)}function z4(s,l){return yt(s,"ddd",l)}function Wi(s){return Os(s)}function Xr(s,l,r){var t=Fl(l||yp());return fr(s,{locale:t,weekStartsOn:r})}function dr(s){return $y(s)}function Zi(s){return Fu(s)}function xb(s){return If(s)}function hb(){return Os(tt())}function vb(s){return qy(s)}function F4(s){return WC(s)}function B4(s){return Uy(s)}function kn(s,l){return s&&l?KD(s,l):!s&&!l}function fa(s,l){return s&&l?GD(s,l):!s&&!l}function Mu(s,l){return s&&l?QD(s,l):!s&&!l}function Ze(s,l){return s&&l?KC(s,l):!s&&!l}function Ts(s,l){return s&&l?Xk(s,l):!s&&!l}function Cs(s,l,r){var t,o=Os(l),u=qy(r);try{t=so(s,{start:o,end:u})}catch{t=!1}return t}function yp(){var s=p1();return s.__localeId__}function Fl(s){if(typeof s=="string"){var l=p1();return l.__localeData__?l.__localeData__[s]:void 0}else return s}function H4(s,l,r){return l(yt(s,"EEEE",r))}function Y4(s,l){return yt(s,"EEEEEE",l)}function q4(s,l){return yt(s,"EEE",l)}function Np(s,l){return yt(Fa(tt(),s),"LLLL",l)}function h1(s,l){return yt(Fa(tt(),s),"LLL",l)}function U4(s,l){return yt(Sl(tt(),s),"QQQ",l)}function tn(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.excludeDateIntervals,m=r.includeDates,x=r.includeDateIntervals,p=r.filterDate,v=r.disabled;return v?!0:xo(s,{minDate:t,maxDate:o})||u&&u.some(function(b){return b instanceof Date?Ze(s,b):Ze(s,b.date)})||d&&d.some(function(b){var y=b.start,w=b.end;return so(s,{start:y,end:w})})||m&&!m.some(function(b){return Ze(s,b)})||x&&!x.some(function(b){var y=b.start,w=b.end;return so(s,{start:y,end:w})})||p&&!p(tt(s))||!1}function jp(s,l){var r=l===void 0?{}:l,t=r.excludeDates,o=r.excludeDateIntervals;return o&&o.length>0?o.some(function(u){var d=u.start,m=u.end;return so(s,{start:d,end:m})}):t&&t.some(function(u){var d;return u instanceof Date?Ze(s,u):Ze(s,(d=u.date)!==null&&d!==void 0?d:new Date)})||!1}function v1(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate;return xo(s,{minDate:t?$y(t):void 0,maxDate:o?Uy(o):void 0})||u?.some(function(x){return fa(s,x instanceof Date?x:x.date)})||d&&!d.some(function(x){return fa(s,x)})||m&&!m(tt(s))||!1}function Lc(s,l,r,t){var o=Qe(s),u=Ma(s),d=Qe(l),m=Ma(l),x=Qe(t);return o===d&&o===x?u<=r&&r<=m:o<d?x===o&&u<=r||x===d&&m>=r||x<d&&x>o:!1}function $4(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates;return xo(s,{minDate:t,maxDate:o})||u&&u.some(function(m){return fa(m instanceof Date?m:m.date,s)})||d&&!d.some(function(m){return fa(m,s)})||!1}function Ic(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate,x=r.disabled;return x?!0:xo(s,{minDate:t,maxDate:o})||u?.some(function(p){return Mu(s,p instanceof Date?p:p.date)})||d&&!d.some(function(p){return Mu(s,p)})||m&&!m(tt(s))||!1}function Pc(s,l,r){if(!l||!r||!Ll(l)||!Ll(r))return!1;var t=Qe(l),o=Qe(r);return t<=s&&o>=s}function ou(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate,x=r.disabled;if(x)return!0;var p=new Date(s,0,1);return xo(p,{minDate:t?Fu(t):void 0,maxDate:o?Vy(o):void 0})||u?.some(function(v){return kn(p,v instanceof Date?v:v.date)})||d&&!d.some(function(v){return kn(p,v)})||m&&!m(tt(p))||!1}function zc(s,l,r,t){var o=Qe(s),u=Qr(s),d=Qe(l),m=Qr(l),x=Qe(t);return o===d&&o===x?u<=r&&r<=m:o<d?x===o&&u<=r||x===d&&m>=r||x<d&&x>o:!1}function xo(s,l){var r,t=l===void 0?{}:l,o=t.minDate,u=t.maxDate;return(r=o&&Rl(s,o)<0||u&&Rl(s,u)>0)!==null&&r!==void 0?r:!1}function bb(s,l){return l.some(function(r){return la(r)===la(s)&&ia(r)===ia(s)&&Kr(r)===Kr(s)})}function gb(s,l){var r=l===void 0?{}:l,t=r.excludeTimes,o=r.includeTimes,u=r.filterTime;return t&&bb(s,t)||o&&!bb(s,o)||u&&!u(s)||!1}function yb(s,l){var r=l.minTime,t=l.maxTime;if(!r||!t)throw new Error("Both minTime and maxTime props required");var o=tt();o=ru(o,la(s)),o=su(o,ia(s)),o=lu(o,Kr(s));var u=tt();u=ru(u,la(r)),u=su(u,ia(r)),u=lu(u,Kr(r));var d=tt();d=ru(d,la(t)),d=su(d,ia(t)),d=lu(d,Kr(t));var m;try{m=!so(o,{start:u,end:d})}catch{m=!1}return m}function Nb(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.includeDates,u=Es(s,1);return t&&gu(t,u)>0||o&&o.every(function(d){return gu(d,u)>0})||!1}function jb(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.includeDates,u=pn(s,1);return t&&gu(u,t)>0||o&&o.every(function(d){return gu(u,d)>0})||!1}function V4(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.includeDates,u=Fu(s),d=t1(u);return t&&yu(t,d)>0||o&&o.every(function(m){return yu(m,d)>0})||!1}function G4(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.includeDates,u=Vy(s),d=up(u,1);return t&&yu(d,t)>0||o&&o.every(function(m){return yu(d,m)>0})||!1}function wb(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.includeDates,u=Wr(s,1);return t&&Nu(t,u)>0||o&&o.every(function(d){return Nu(d,u)>0})||!1}function Q4(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.yearItemNumber,u=o===void 0?po:o,d=Zi(Wr(s,u)),m=ir(d,u).endPeriod,x=t&&Qe(t);return x&&x>m||!1}function Sb(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.includeDates,u=mn(s,1);return t&&Nu(u,t)>0||o&&o.every(function(d){return Nu(u,d)>0})||!1}function K4(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.yearItemNumber,u=o===void 0?po:o,d=mn(s,u),m=ir(d,u).startPeriod,x=t&&Qe(t);return x&&x<m||!1}function b1(s){var l=s.minDate,r=s.includeDates;if(r&&l){var t=r.filter(function(o){return Rl(o,l)>=0});return G0(t)}else return r?G0(r):l}function g1(s){var l=s.maxDate,r=s.includeDates;if(r&&l){var t=r.filter(function(o){return Rl(o,l)<=0});return V0(t)}else return r?V0(r):l}function Cb(s,l){var r;s===void 0&&(s=[]),l===void 0&&(l="react-datepicker__day--highlighted");for(var t=new Map,o=0,u=s.length;o<u;o++){var d=s[o];if(_n(d)){var m=yt(d,"MM.dd.yyyy"),x=t.get(m)||[];x.includes(l)||(x.push(l),t.set(m,x))}else if(typeof d=="object"){var p=Object.keys(d),v=(r=p[0])!==null&&r!==void 0?r:"",b=d[v];if(typeof v=="string"&&Array.isArray(b))for(var y=0,w=b.length;y<w;y++){var M=b[y];if(M){var m=yt(M,"MM.dd.yyyy"),x=t.get(m)||[];x.includes(v)||(x.push(v),t.set(m,x))}}}}return t}function X4(s,l){return s.length!==l.length?!1:s.every(function(r,t){return r===l[t]})}function W4(s,l){s===void 0&&(s=[]),l===void 0&&(l="react-datepicker__day--holidays");var r=new Map;return s.forEach(function(t){var o=t.date,u=t.holidayName;if(_n(o)){var d=yt(o,"MM.dd.yyyy"),m=r.get(d)||{className:"",holidayNames:[]};if(!("className"in m&&m.className===l&&X4(m.holidayNames,[u]))){m.className=l;var x=m.holidayNames;m.holidayNames=x?Tn(Tn([],x,!0),[u],!1):[u],r.set(d,m)}}}),r}function Z4(s,l,r,t,o){for(var u=o.length,d=[],m=0;m<u;m++){var x=s,p=o[m];p&&(x=$C(x,la(p)),x=ro(x,ia(p)),x=QC(x,Kr(p)));var v=ro(s,(r+1)*t);ur(x,l)&&An(x,v)&&p!=null&&d.push(p)}return d}function yl(s){return s<10?"0".concat(s):"".concat(s)}function ir(s,l){l===void 0&&(l=po);var r=Math.ceil(Qe(s)/l)*l,t=r-(l-1);return{startPeriod:t,endPeriod:r}}function J4(s){var l=new Date(s.getFullYear(),s.getMonth(),s.getDate()),r=new Date(s.getFullYear(),s.getMonth(),s.getDate(),24);return Math.round((+r-+l)/36e5)}function kb(s){var l=s.getSeconds(),r=s.getMilliseconds();return Ae(s.getTime()-l*1e3-r)}function y1(s,l){return kb(s).getTime()===kb(l).getTime()}function Db(s){if(!_n(s))throw new Error("Invalid date");var l=new Date(s);return l.setHours(0,0,0,0),l}function bf(s,l){if(!_n(s)||!_n(l))throw new Error("Invalid date received");var r=Db(s),t=Db(l);return An(r,t)}function N1(s){return s.key===ve.Space}var gf=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;return t.inputRef=ae.createRef(),t.onTimeChange=function(o){var u,d;t.setState({time:o});var m=t.props.date,x=m instanceof Date&&!isNaN(+m),p=x?m:new Date;if(o?.includes(":")){var v=o.split(":"),b=v[0],y=v[1];p.setHours(Number(b)),p.setMinutes(Number(y))}(d=(u=t.props).onChange)===null||d===void 0||d.call(u,p)},t.renderTimeInput=function(){var o=t.state.time,u=t.props,d=u.date,m=u.timeString,x=u.customTimeInput;return x?N.cloneElement(x,{date:d,value:o,onChange:t.onTimeChange}):ae.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:t.inputRef,onClick:function(){var p;(p=t.inputRef.current)===null||p===void 0||p.focus()},required:!0,value:o,onChange:function(p){t.onTimeChange(p.target.value||m)}})},t.state={time:t.props.timeString},t}return l.getDerivedStateFromProps=function(r,t){return r.timeString!==t.time?{time:r.timeString}:null},l.prototype.render=function(){return ae.createElement("div",{className:"react-datepicker__input-time-container"},ae.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ae.createElement("div",{className:"react-datepicker-time__input-container"},ae.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},l})(N.Component),e3=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.dayEl=N.createRef(),r.handleClick=function(t){!r.isDisabled()&&r.props.onClick&&r.props.onClick(t)},r.handleMouseEnter=function(t){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(t)},r.handleOnKeyDown=function(t){var o,u,d=t.key;d===ve.Space&&(t.preventDefault(),t.key=ve.Enter),(u=(o=r.props).handleOnKeyDown)===null||u===void 0||u.call(o,t)},r.isSameDay=function(t){return Ze(r.props.day,t)},r.isKeyboardSelected=function(){var t;if(r.props.disabledKeyboardNavigation)return!1;var o=r.props.selectsMultiple?(t=r.props.selectedDates)===null||t===void 0?void 0:t.some(function(d){return r.isSameDayOrWeek(d)}):r.isSameDayOrWeek(r.props.selected),u=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!o&&r.isSameDayOrWeek(r.props.preSelection)&&!u},r.isDisabled=function(t){return t===void 0&&(t=r.props.day),tn(t,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(){return jp(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return Ze(r.props.day,Xr(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(t){return r.props.showWeekPicker&&Ze(t,Xr(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(t){return r.isSameDay(t)||r.isSameWeek(t)},r.getHighLightedClass=function(){var t=r.props,o=t.day,u=t.highlightDates;if(!u)return!1;var d=yt(o,"MM.dd.yyyy");return u.get(d)},r.getHolidaysClass=function(){var t,o=r.props,u=o.day,d=o.holidays;if(!d)return[void 0];var m=yt(u,"MM.dd.yyyy");return d.has(m)?[(t=d.get(m))===null||t===void 0?void 0:t.className]:[void 0]},r.isInRange=function(){var t=r.props,o=t.day,u=t.startDate,d=t.endDate;return!u||!d?!1:Cs(o,u,d)},r.isInSelectingRange=function(){var t,o=r.props,u=o.day,d=o.selectsStart,m=o.selectsEnd,x=o.selectsRange,p=o.selectsDisabledDaysInRange,v=o.startDate,b=o.swapRange,y=o.endDate,w=(t=r.props.selectingDate)!==null&&t!==void 0?t:r.props.preSelection;if(r.isAfterMonth()||r.isBeforeMonth()||!(d||m||x)||!w||!p&&r.isDisabled())return!1;if(d&&y&&(An(w,y)||Ts(w,y)))return Cs(u,w,y);if(m&&v&&(ur(w,v)||Ts(w,v)))return Cs(u,v,w);if(x&&v&&!y){if(Ts(w,v)||ur(w,v))return Cs(u,v,w);if(b&&An(w,v))return Cs(u,w,v)}return!1},r.isSelectingRangeStart=function(){var t;if(!r.isInSelectingRange())return!1;var o=r.props,u=o.day,d=o.startDate,m=o.selectsStart,x=o.swapRange,p=o.selectsRange,v=(t=r.props.selectingDate)!==null&&t!==void 0?t:r.props.preSelection;return m?Ze(u,v):p&&x&&d&&v?Ze(u,An(v,d)?v:d):Ze(u,d)},r.isSelectingRangeEnd=function(){var t;if(!r.isInSelectingRange())return!1;var o=r.props,u=o.day,d=o.endDate,m=o.selectsEnd,x=o.selectsRange,p=o.swapRange,v=o.startDate,b=(t=r.props.selectingDate)!==null&&t!==void 0?t:r.props.preSelection;return m?Ze(u,b):x&&p&&v&&b?Ze(u,An(b,v)?v:b):x?Ze(u,b):Ze(u,d)},r.isRangeStart=function(){var t=r.props,o=t.day,u=t.startDate,d=t.endDate;return!u||!d?!1:Ze(u,o)},r.isRangeEnd=function(){var t=r.props,o=t.day,u=t.startDate,d=t.endDate;return!u||!d?!1:Ze(d,o)},r.isWeekend=function(){var t=Vk(r.props.day);return t===0||t===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===Ma(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(Ma(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(tt())},r.isSelected=function(){var t;return r.props.selectsMultiple?(t=r.props.selectedDates)===null||t===void 0?void 0:t.some(function(o){return r.isSameDayOrWeek(o)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(t){var o=r.props.dayClassName?r.props.dayClassName(t):void 0;return qt("react-datepicker__day",o,"react-datepicker__day--"+z4(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var t=r.props,o=t.day,u=t.ariaLabelPrefixWhenEnabled,d=u===void 0?"Choose":u,m=t.ariaLabelPrefixWhenDisabled,x=m===void 0?"Not available":m,p=r.isDisabled()||r.isExcluded()?x:d;return"".concat(p," ").concat(yt(o,"PPPP",r.props.locale))},r.getTitle=function(){var t=r.props,o=t.day,u=t.holidays,d=u===void 0?new Map:u,m=t.excludeDates,x=yt(o,"MM.dd.yyyy"),p=[];return d.has(x)&&p.push.apply(p,d.get(x).holidayNames),r.isExcluded()&&p.push(m?.filter(function(v){return v instanceof Date?Ze(v,o):Ze(v?.date,o)}).map(function(v){if(!(v instanceof Date))return v?.message})),p.join(", ")},r.getTabIndex=function(){var t=r.props.selected,o=r.props.preSelection,u=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(t)&&Ze(o,t))?0:-1;return u},r.handleFocusDay=function(){var t;r.shouldFocusDay()&&((t=r.dayEl.current)===null||t===void 0||t.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(eb(r.props.day),r.props.day):eb(r.props.day)},r.render=function(){return ae.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&ae.createElement("span",{className:"overlay"},r.getTitle()))},r}return l.prototype.componentDidMount=function(){this.handleFocusDay()},l.prototype.componentDidUpdate=function(){this.handleFocusDay()},l.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},l.prototype.isDayActiveElement=function(){var r,t,o;return((t=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||t===void 0?void 0:t.contains(document.activeElement))&&((o=document.activeElement)===null||o===void 0?void 0:o.classList.contains("react-datepicker__day"))},l.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},l})(N.Component),t3=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.weekNumberEl=N.createRef(),r.handleClick=function(t){r.props.onClick&&r.props.onClick(t)},r.handleOnKeyDown=function(t){var o,u,d=t.key;d===ve.Space&&(t.preventDefault(),t.key=ve.Enter),(u=(o=r.props).handleOnKeyDown)===null||u===void 0||u.call(o,t)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Ze(r.props.date,r.props.selected)&&Ze(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||Ze(r.props.date,r.props.selected)&&Ze(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(t){var o=!1;r.getTabIndex()===0&&!t?.isInputFocused&&Ze(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(o=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(o=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(o=!0)),o&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},l.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},l.prototype.render=function(){var r=this.props,t=r.weekNumber,o=r.isWeekDisabled,u=r.ariaLabelPrefix,d=u===void 0?l.defaultProps.ariaLabelPrefix:u,m=r.onClick,x={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!m&&!o,"react-datepicker__week-number--selected":!!m&&Ze(this.props.date,this.props.selected)};return ae.createElement("div",{ref:this.weekNumberEl,className:qt(x),"aria-label":"".concat(d," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},t)},l})(N.Component),a3=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.isDisabled=function(t){return tn(t,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(t,o){r.props.onDayClick&&r.props.onDayClick(t,o)},r.handleDayMouseEnter=function(t){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(t)},r.handleWeekClick=function(t,o,u){for(var d,m,x,p=new Date(t),v=0;v<7;v++){var b=new Date(t);b.setDate(b.getDate()+v);var y=!r.isDisabled(b);if(y){p=b;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(p,o,u),r.props.showWeekPicker&&r.handleDayClick(p,u),((d=r.props.shouldCloseOnSelect)!==null&&d!==void 0?d:l.defaultProps.shouldCloseOnSelect)&&((x=(m=r.props).setOpen)===null||x===void 0||x.call(m,!1))},r.formatWeekNumber=function(t){return r.props.formatWeekNumber?r.props.formatWeekNumber(t):P4(t)},r.isWeekDisabled=function(){for(var t=r.startOfWeek(),o=dn(t,6),u=new Date(t);u<=o;){if(!r.isDisabled(u))return!1;u=dn(u,1)}return!0},r.renderDays=function(){var t=r.startOfWeek(),o=[],u=r.formatWeekNumber(t);if(r.props.showWeekNumber){var d=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,t,u):void 0;o.push(ae.createElement(t3,$e({key:"W"},l.defaultProps,r.props,{weekNumber:u,isWeekDisabled:r.isWeekDisabled(),date:t,onClick:d})))}return o.concat([0,1,2,3,4,5,6].map(function(m){var x=dn(t,m);return ae.createElement(e3,$e({},l.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:x.valueOf(),day:x,onClick:r.handleDayClick.bind(r,x),onMouseEnter:r.handleDayMouseEnter.bind(r,x)}))}))},r.startOfWeek=function(){return Xr(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Ze(r.startOfWeek(),r.props.selected)&&Ze(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),l.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":Ze(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},t=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return ae.createElement("div",{className:qt(r,t),role:"row"},this.renderDays())},l})(N.Component),Vi,n3=6,Ml={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},yf=(Vi={},Vi[Ml.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Vi[Ml.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Vi[Ml.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Vi),Fc=1;function Mb(s,l){return s?Ml.FOUR_COLUMNS:l?Ml.TWO_COLUMNS:Ml.THREE_COLUMNS}var r3=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.MONTH_REFS=Tn([],Array(12),!0).map(function(){return N.createRef()}),r.QUARTER_REFS=Tn([],Array(4),!0).map(function(){return N.createRef()}),r.isDisabled=function(t){return tn(t,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(t){return jp(t,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(t,o){var u,d;(d=(u=r.props).onDayClick)===null||d===void 0||d.call(u,t,o,r.props.orderInDisplay)},r.handleDayMouseEnter=function(t){var o,u;(u=(o=r.props).onDayMouseEnter)===null||u===void 0||u.call(o,t)},r.handleMouseLeave=function(){var t,o;(o=(t=r.props).onMouseLeave)===null||o===void 0||o.call(t)},r.isRangeStartMonth=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:fa(Fa(u,t),d)},r.isRangeStartQuarter=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:Mu(Sl(u,t),d)},r.isRangeEndMonth=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:fa(Fa(u,t),m)},r.isRangeEndQuarter=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:Mu(Sl(u,t),m)},r.isInSelectingRangeMonth=function(t){var o,u=r.props,d=u.day,m=u.selectsStart,x=u.selectsEnd,p=u.selectsRange,v=u.startDate,b=u.endDate,y=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return!(m||x||p)||!y?!1:m&&b?Lc(y,b,t,d):x&&v||p&&v&&!b?Lc(v,y,t,d):!1},r.isSelectingMonthRangeStart=function(t){var o;if(!r.isInSelectingRangeMonth(t))return!1;var u=r.props,d=u.day,m=u.startDate,x=u.selectsStart,p=Fa(d,t),v=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return x?fa(p,v):fa(p,m)},r.isSelectingMonthRangeEnd=function(t){var o;if(!r.isInSelectingRangeMonth(t))return!1;var u=r.props,d=u.day,m=u.endDate,x=u.selectsEnd,p=u.selectsRange,v=Fa(d,t),b=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return x||p?fa(v,b):fa(v,m)},r.isInSelectingRangeQuarter=function(t){var o,u=r.props,d=u.day,m=u.selectsStart,x=u.selectsEnd,p=u.selectsRange,v=u.startDate,b=u.endDate,y=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return!(m||x||p)||!y?!1:m&&b?zc(y,b,t,d):x&&v||p&&v&&!b?zc(v,y,t,d):!1},r.isWeekInMonth=function(t){var o=r.props.day,u=dn(t,6);return fa(t,o)||fa(u,o)},r.isCurrentMonth=function(t,o){return Qe(t)===Qe(tt())&&o===Ma(tt())},r.isCurrentQuarter=function(t,o){return Qe(t)===Qe(tt())&&o===Qr(tt())},r.isSelectedMonth=function(t,o,u){return Ma(u)===o&&Qe(t)===Qe(u)},r.isSelectMonthInList=function(t,o,u){return u.some(function(d){return r.isSelectedMonth(t,o,d)})},r.isSelectedQuarter=function(t,o,u){return Qr(u)===o&&Qe(t)===Qe(u)},r.isSelectQuarterInList=function(t,o,u){return u.some(function(d){return r.isSelectedQuarter(t,o,d)})},r.isMonthSelected=function(){var t=r.props,o=t.day,u=t.selected,d=t.selectedDates,m=t.selectsMultiple,x=Ma(o);return m?d?.some(function(p){return r.isSelectedMonth(o,x,p)}):!!u&&r.isSelectedMonth(o,x,u)},r.isQuarterSelected=function(){var t=r.props,o=t.day,u=t.selected,d=t.selectedDates,m=t.selectsMultiple,x=Qr(o);return m?d?.some(function(p){return r.isSelectedQuarter(o,x,p)}):!!u&&r.isSelectedQuarter(o,x,u)},r.renderWeeks=function(){if(!Da(r.props.day))return[];for(var t=[],o=r.props.fixedHeight,u=0,d=!1,m=Xr(dr(r.props.day),r.props.locale,r.props.calendarStartDay),x=function(M){return r.props.showWeekPicker?Xr(M,r.props.locale,r.props.calendarStartDay):r.props.preSelection},p=function(M){return r.props.showWeekPicker?Xr(M,r.props.locale,r.props.calendarStartDay):r.props.selected},v=r.props.selected?p(r.props.selected):void 0,b=r.props.preSelection?x(r.props.preSelection):void 0;t.push(ae.createElement(a3,$e({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:u,day:m,month:Ma(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:v,preSelection:b,showWeekNumber:r.props.showWeekNumbers}))),!d;){u++,m=bu(m,1);var y=o&&u>=n3,w=!o&&!r.isWeekInMonth(m);if(y||w)if(r.props.peekNextMonth)d=!0;else break}return t},r.onMonthClick=function(t,o){var u=r.isMonthDisabledForLabelDate(o),d=u.isDisabled,m=u.labelDate;d||r.handleDayClick(dr(m),t)},r.onMonthMouseEnter=function(t){var o=r.isMonthDisabledForLabelDate(t),u=o.isDisabled,d=o.labelDate;u||r.handleDayMouseEnter(dr(d))},r.handleMonthNavigation=function(t,o){var u,d,m,x;(d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,o),(x=(m=r.MONTH_REFS[t])===null||m===void 0?void 0:m.current)===null||x===void 0||x.focus()},r.handleKeyboardNavigation=function(t,o,u){var d,m=r.props,x=m.selected,p=m.preSelection,v=m.setPreSelection,b=m.minDate,y=m.maxDate,w=m.showFourColumnMonthYearPicker,M=m.showTwoColumnMonthYearPicker;if(p){var S=Mb(w,M),g=r.getVerticalOffset(S),j=(d=yf[S])===null||d===void 0?void 0:d.grid,D=function(I,R,z){var L,V,A=R,le=z;switch(I){case ve.ArrowRight:A=pn(R,Fc),le=z===11?0:z+Fc;break;case ve.ArrowLeft:A=Es(R,Fc),le=z===0?11:z-Fc;break;case ve.ArrowUp:A=Es(R,g),le=!((L=j?.[0])===null||L===void 0)&&L.includes(z)?z+12-g:z-g;break;case ve.ArrowDown:A=pn(R,g),le=!((V=j?.[j.length-1])===null||V===void 0)&&V.includes(z)?z-12+g:z+g;break}return{newCalculatedDate:A,newCalculatedMonth:le}},k=function(I,R,z){for(var L=40,V=I,A=!1,le=0,oe=D(V,R,z),re=oe.newCalculatedDate,q=oe.newCalculatedMonth;!A;){if(le>=L){re=R,q=z;break}if(b&&re<b){V=ve.ArrowRight;var Z=D(V,re,q);re=Z.newCalculatedDate,q=Z.newCalculatedMonth}if(y&&re>y){V=ve.ArrowLeft;var Z=D(V,re,q);re=Z.newCalculatedDate,q=Z.newCalculatedMonth}if($4(re,r.props)){var Z=D(V,re,q);re=Z.newCalculatedDate,q=Z.newCalculatedMonth}else A=!0;le++}return{newCalculatedDate:re,newCalculatedMonth:q}};if(o===ve.Enter){r.isMonthDisabled(u)||(r.onMonthClick(t,u),v?.(x));return}var O=k(o,p,u),T=O.newCalculatedDate,H=O.newCalculatedMonth;switch(o){case ve.ArrowRight:case ve.ArrowLeft:case ve.ArrowUp:case ve.ArrowDown:r.handleMonthNavigation(H,T);break}}},r.getVerticalOffset=function(t){var o,u;return(u=(o=yf[t])===null||o===void 0?void 0:o.verticalNavigationOffset)!==null&&u!==void 0?u:0},r.onMonthKeyDown=function(t,o){var u=r.props,d=u.disabledKeyboardNavigation,m=u.handleOnMonthKeyDown,x=t.key;x!==ve.Tab&&t.preventDefault(),d||r.handleKeyboardNavigation(t,x,o),m&&m(t)},r.onQuarterClick=function(t,o){var u=Sl(r.props.day,o);Ic(u,r.props)||r.handleDayClick(xb(u),t)},r.onQuarterMouseEnter=function(t){var o=Sl(r.props.day,t);Ic(o,r.props)||r.handleDayMouseEnter(xb(o))},r.handleQuarterNavigation=function(t,o){var u,d,m,x;r.isDisabled(o)||r.isExcluded(o)||((d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,o),(x=(m=r.QUARTER_REFS[t-1])===null||m===void 0?void 0:m.current)===null||x===void 0||x.focus())},r.onQuarterKeyDown=function(t,o){var u,d,m=t.key;if(!r.props.disabledKeyboardNavigation)switch(m){case ve.Enter:r.onQuarterClick(t,o),(d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,r.props.selected);break;case ve.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(o===4?1:o+1,up(r.props.preSelection,1));break;case ve.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(o===1?4:o-1,t1(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(t){var o,u=r.props,d=u.day,m=u.disabled,x=u.minDate,p=u.maxDate,v=u.excludeDates,b=u.includeDates,y=Fa(d,t);return m?{isDisabled:!0,labelDate:Fa(d,t)}:{isDisabled:(o=(x||p||v||b)&&v1(y,r.props))!==null&&o!==void 0?o:!1,labelDate:y}},r.isMonthDisabled=function(t){var o=r.isMonthDisabledForLabelDate(t).isDisabled;return o},r.getMonthClassNames=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate,x=o.preSelection,p=o.monthClassName,v=p?p(Fa(u,t)):void 0,b=r.getSelection();return qt("react-datepicker__month-text","react-datepicker__month-".concat(t),v,{"react-datepicker__month-text--disabled":r.isMonthDisabled(t),"react-datepicker__month-text--selected":b?r.isSelectMonthInList(u,t,b):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&x&&r.isSelectedMonth(u,t,x)&&!r.isMonthSelected()&&!r.isMonthDisabled(t),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(t),"react-datepicker__month-text--in-range":d&&m?Lc(d,m,t,u):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(t),"react-datepicker__month-text--range-end":r.isRangeEndMonth(t),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(t),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(t),"react-datepicker__month-text--today":r.isCurrentMonth(u,t)})},r.getTabIndex=function(t){if(r.props.preSelection==null)return"-1";var o=Ma(r.props.preSelection),u=r.isMonthDisabledForLabelDate(o).isDisabled,d=t===o&&!(u||r.props.disabledKeyboardNavigation)?"0":"-1";return d},r.getQuarterTabIndex=function(t){if(r.props.preSelection==null)return"-1";var o=Qr(r.props.preSelection),u=Ic(r.props.day,r.props),d=t===o&&!(u||r.props.disabledKeyboardNavigation)?"0":"-1";return d},r.getAriaLabel=function(t){var o=r.props,u=o.chooseDayAriaLabelPrefix,d=u===void 0?"Choose":u,m=o.disabledDayAriaLabelPrefix,x=m===void 0?"Not available":m,p=o.day,v=o.locale,b=Fa(p,t),y=r.isDisabled(b)||r.isExcluded(b)?x:d;return"".concat(y," ").concat(yt(b,"MMMM yyyy",v))},r.getQuarterClassNames=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate,x=o.minDate,p=o.maxDate,v=o.excludeDates,b=o.includeDates,y=o.filterDate,w=o.preSelection,M=o.disabledKeyboardNavigation,S=o.disabled,g=(x||p||v||b||y||S)&&Ic(Sl(u,t),r.props),j=r.getSelection();return qt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(t),{"react-datepicker__quarter-text--disabled":g,"react-datepicker__quarter-text--selected":j?r.isSelectQuarterInList(u,t,j):void 0,"react-datepicker__quarter-text--keyboard-selected":!M&&w&&r.isSelectedQuarter(u,t,w)&&!r.isQuarterSelected()&&!g,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(t),"react-datepicker__quarter-text--in-range":d&&m?zc(d,m,t,u):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(t),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(t),"react-datepicker__quarter-text--today":r.isCurrentQuarter(u,t)})},r.getMonthContent=function(t){var o=r.props,u=o.showFullMonthYearPicker,d=o.renderMonthContent,m=o.locale,x=o.day,p=h1(t,m),v=Np(t,m);return d?d(t,p,v,x):u?v:p},r.getQuarterContent=function(t){var o,u=r.props,d=u.renderQuarterContent,m=u.locale,x=U4(t,m);return(o=d?.(t,x))!==null&&o!==void 0?o:x},r.renderMonths=function(){var t,o=r.props,u=o.showTwoColumnMonthYearPicker,d=o.showFourColumnMonthYearPicker,m=o.day,x=o.selected,p=(t=yf[Mb(d,u)])===null||t===void 0?void 0:t.grid;return p?.map(function(v,b){return ae.createElement("div",{className:"react-datepicker__month-wrapper",key:b},v.map(function(y,w){return ae.createElement("div",{ref:r.MONTH_REFS[y],key:w,onClick:function(M){r.onMonthClick(M,y)},onKeyDown:function(M){N1(M)&&(M.preventDefault(),M.key=ve.Enter),r.onMonthKeyDown(M,y)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(y)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(y)}:void 0,tabIndex:Number(r.getTabIndex(y)),className:r.getMonthClassNames(y),"aria-disabled":r.isMonthDisabled(y),role:"option","aria-label":r.getAriaLabel(y),"aria-current":r.isCurrentMonth(m,y)?"date":void 0,"aria-selected":x?r.isSelectedMonth(m,y,x):void 0},r.getMonthContent(y))}))})},r.renderQuarters=function(){var t=r.props,o=t.day,u=t.selected,d=[1,2,3,4];return ae.createElement("div",{className:"react-datepicker__quarter-wrapper"},d.map(function(m,x){return ae.createElement("div",{key:x,ref:r.QUARTER_REFS[x],role:"option",onClick:function(p){r.onQuarterClick(p,m)},onKeyDown:function(p){r.onQuarterKeyDown(p,m)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(m)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(m)}:void 0,className:r.getQuarterClassNames(m),"aria-selected":u?r.isSelectedQuarter(o,m,u):void 0,tabIndex:Number(r.getQuarterTabIndex(m)),"aria-current":r.isCurrentQuarter(o,m)?"date":void 0},r.getQuarterContent(m))}))},r.getClassNames=function(){var t=r.props,o=t.selectingDate,u=t.selectsStart,d=t.selectsEnd,m=t.showMonthYearPicker,x=t.showQuarterYearPicker,p=t.showWeekPicker;return qt("react-datepicker__month",{"react-datepicker__month--selecting-range":o&&(u||d)},{"react-datepicker__monthPicker":m},{"react-datepicker__quarterPicker":x},{"react-datepicker__weekPicker":p})},r}return l.prototype.getSelection=function(){var r=this.props,t=r.selected,o=r.selectedDates,u=r.selectsMultiple;if(u)return o;if(t)return[t]},l.prototype.render=function(){var r=this.props,t=r.showMonthYearPicker,o=r.showQuarterYearPicker,u=r.day,d=r.ariaLabelPrefix,m=d===void 0?"Month ":d,x=m?m.trim()+" ":"",p=Da(u)?"".concat(x).concat(yt(u,"MMMM, yyyy",this.props.locale)):"",v=t||o;return v?ae.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"listbox"},t?this.renderMonths():this.renderQuarters()):ae.createElement("div",{role:"table"},this.props.dayNamesHeader&&ae.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&ae.createElement("div",{role:"rowgroup"},this.props.monthHeader),ae.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&ae.createElement("div",{role:"rowgroup"},this.props.monthFooter))},l})(N.Component),s3=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(t){return r.props.month===t},r.handleOptionKeyDown=function(t,o){var u;switch(o.key){case"Enter":o.preventDefault(),r.onChange(t);break;case"Escape":o.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{o.preventDefault();var d=(t+(o.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(u=r.monthOptionButtonsRef[d])===null||u===void 0||u.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(t,o){return ae.createElement("div",{ref:function(u){r.monthOptionButtonsRef[o]=u,r.isSelectedMonth(o)&&u?.focus()},role:"button",tabIndex:0,className:r.isSelectedMonth(o)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:t,onClick:r.onChange.bind(r,o),onKeyDown:r.handleOptionKeyDown.bind(r,o),"aria-selected":r.isSelectedMonth(o)?"true":void 0},r.isSelectedMonth(o)?ae.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",t)})},r.onChange=function(t){return r.props.onChange(t)},r.handleClickOutside=function(){return r.props.onCancel()},r}return l.prototype.render=function(){return ae.createElement($u,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},l})(N.Component),l3=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(t){return t.map(function(o,u){return ae.createElement("option",{key:o,value:u},o)})},r.renderSelectMode=function(t){return ae.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(o){return r.onChange(parseInt(o.target.value))}},r.renderSelectOptions(t))},r.renderReadView=function(t,o){return ae.createElement("button",{key:"read",type:"button",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},ae.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},o[r.props.month]))},r.renderDropdown=function(t){return ae.createElement(s3,$e({key:"dropdown"},r.props,{monthNames:t,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(t){var o=r.state.dropdownVisible,u=[r.renderReadView(!o,t)];return o&&u.unshift(r.renderDropdown(t)),u},r.onChange=function(t){r.toggleDropdown(),t!==r.props.month&&r.props.onChange(t)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return l.prototype.render=function(){var r=this,t=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(u){return h1(u,r.props.locale)}:function(u){return Np(u,r.props.locale)}),o;switch(this.props.dropdownMode){case"scroll":o=this.renderScrollMode(t);break;case"select":o=this.renderSelectMode(t);break}return ae.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},o)},l})(N.Component),Ab=5;function i3(s,l,r){for(var t=[],o=s??Wr(r,Ab),u=l??mn(r,Ab),d=dr(o),m=dr(u);!ur(d,m);)t.push(tt(d)),d=pn(d,1);return t}var o3=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;return t.renderOptions=function(){return t.state.monthYearsList.map(function(o){var u=zf(o),d=kn(t.props.date,o)&&fa(t.props.date,o);return ae.createElement("div",{className:d?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:u,onClick:t.onChange.bind(t,u),"aria-selected":d?"true":void 0},d?ae.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",yt(o,t.props.dateFormat,t.props.locale))})},t.onChange=function(o){return t.props.onChange(o)},t.handleClickOutside=function(){t.props.onCancel()},t.state={monthYearsList:i3(t.props.minDate,t.props.maxDate,t.props.date)},t}return l.prototype.render=function(){var r=qt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ae.createElement($u,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},l})(N.Component),Tb=5,c3=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var t,o,u=(t=r.props.minDate)!==null&&t!==void 0?t:Wr(r.props.date,Tb),d=(o=r.props.maxDate)!==null&&o!==void 0?o:mn(r.props.date,Tb),m=dr(u),x=dr(d),p=[];!ur(m,x);){var v=zf(m);p.push(ae.createElement("option",{key:v,value:v},yt(m,r.props.dateFormat,r.props.locale))),m=pn(m,1)}return p},r.onSelectChange=function(t){r.onChange(parseInt(t.target.value))},r.renderSelectMode=function(){return ae.createElement("select",{value:zf(dr(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(t){var o=yt(r.props.date,r.props.dateFormat,r.props.locale);return ae.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},ae.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},o))},r.renderDropdown=function(){return ae.createElement(o3,$e({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var t=r.state.dropdownVisible,o=[r.renderReadView(!t)];return t&&o.unshift(r.renderDropdown()),o},r.onChange=function(t){r.toggleDropdown();var o=tt(t);kn(r.props.date,o)&&fa(r.props.date,o)||r.props.onChange(o)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return l.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ae.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},l})(N.Component),u3=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var t,o,u;r.list&&(r.list.scrollTop=(u=r.centerLi&&l.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((o=(t=r.header)===null||t===void 0?void 0:t.clientHeight)!==null&&o!==void 0?o:0):r.list.clientHeight,r.centerLi))!==null&&u!==void 0?u:0)})},r.handleClick=function(t){var o,u;(r.props.minTime||r.props.maxTime)&&yb(t,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&gb(t,r.props)||(u=(o=r.props).onChange)===null||u===void 0||u.call(o,t)},r.isSelectedTime=function(t){var o=As(r.props.selected);return o&&y1(o,t)},r.isDisabledTime=function(t){return(r.props.minTime||r.props.maxTime)&&yb(t,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&gb(t,r.props)},r.liClasses=function(t){var o,u=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(t):void 0];return r.isSelectedTime(t)&&u.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(t)&&u.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(la(t)*3600+ia(t)*60+Kr(t))%(((o=r.props.intervals)!==null&&o!==void 0?o:l.defaultProps.intervals)*60)!==0&&u.push("react-datepicker__time-list-item--injected"),u.join(" ")},r.handleOnKeyDown=function(t,o){var u,d;t.key===ve.Space&&(t.preventDefault(),t.key=ve.Enter),(t.key===ve.ArrowUp||t.key===ve.ArrowLeft)&&t.target instanceof HTMLElement&&t.target.previousSibling&&(t.preventDefault(),t.target.previousSibling instanceof HTMLElement&&t.target.previousSibling.focus()),(t.key===ve.ArrowDown||t.key===ve.ArrowRight)&&t.target instanceof HTMLElement&&t.target.nextSibling&&(t.preventDefault(),t.target.nextSibling instanceof HTMLElement&&t.target.nextSibling.focus()),t.key===ve.Enter&&r.handleClick(o),(d=(u=r.props).handleOnKeyDown)===null||d===void 0||d.call(u,t)},r.renderTimes=function(){for(var t,o=[],u=typeof r.props.format=="string"?r.props.format:"p",d=(t=r.props.intervals)!==null&&t!==void 0?t:l.defaultProps.intervals,m=As(r.props.selected)||As(r.props.openToDate)||tt(),x=Wi(m),p=r.props.injectTimes&&r.props.injectTimes.sort(function(g,j){return g.getTime()-j.getTime()}),v=60*J4(m),b=v/d,y=0;y<b;y++){var w=ro(x,y*d);if(o.push(w),p){var M=Z4(x,w,y,d,p);o=o.concat(M)}}var S=o.reduce(function(g,j){return j.getTime()<=m.getTime()?j:g},o[0]);return o.map(function(g){return ae.createElement("li",{key:g.valueOf(),onClick:r.handleClick.bind(r,g),className:r.liClasses(g),ref:function(j){g===S&&(r.centerLi=j)},onKeyDown:function(j){r.handleOnKeyDown(j,g)},tabIndex:g===S?0:-1,role:"option","aria-selected":r.isSelectedTime(g)?"true":void 0,"aria-disabled":r.isDisabledTime(g)?"true":void 0},yt(g,u,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?ae.createElement(ae.Fragment,null):ae.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(t){r.header=t}},ae.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},l.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},l.prototype.observeDatePickerHeightChanges=function(){var r=this,t=this.props.monthRef;this.updateContainerHeight(),t&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(t))},l.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var r=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==r&&this.setState({height:r})}},l.prototype.render=function(){var r=this,t,o=this.state.height;return ae.createElement("div",{className:"react-datepicker__time-container ".concat(((t=this.props.todayButton)!==null&&t!==void 0?t:l.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ae.createElement("div",{className:"react-datepicker__time"},ae.createElement("div",{className:"react-datepicker__time-box"},ae.createElement("ul",{className:"react-datepicker__time-list",ref:function(u){r.list=u},style:o?{height:o}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},l.calcCenterPosition=function(r,t){return t.offsetTop-(r/2-t.clientHeight/2)},l})(N.Component),Eb=3,d3=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;return t.YEAR_REFS=Tn([],Array(t.props.yearItemNumber),!0).map(function(){return N.createRef()}),t.isDisabled=function(o){return tn(o,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(o){return jp(o,{excludeDates:t.props.excludeDates})},t.selectingDate=function(){var o;return(o=t.props.selectingDate)!==null&&o!==void 0?o:t.props.preSelection},t.updateFocusOnPaginate=function(o){var u=function(){var d,m;(m=(d=t.YEAR_REFS[o])===null||d===void 0?void 0:d.current)===null||m===void 0||m.focus()};window.requestAnimationFrame(u)},t.handleYearClick=function(o,u){t.props.onDayClick&&t.props.onDayClick(o,u)},t.handleYearNavigation=function(o,u){var d,m,x,p,v=t.props,b=v.date,y=v.yearItemNumber;if(!(b===void 0||y===void 0)){var w=ir(b,y).startPeriod;t.isDisabled(u)||t.isExcluded(u)||((m=(d=t.props).setPreSelection)===null||m===void 0||m.call(d,u),o-w<0?t.updateFocusOnPaginate(y-(w-o)):o-w>=y?t.updateFocusOnPaginate(Math.abs(y-(o-w))):(p=(x=t.YEAR_REFS[o-w])===null||x===void 0?void 0:x.current)===null||p===void 0||p.focus())}},t.isSameDay=function(o,u){return Ze(o,u)},t.isCurrentYear=function(o){return o===Qe(tt())},t.isRangeStart=function(o){return t.props.startDate&&t.props.endDate&&kn(Cn(tt(),o),t.props.startDate)},t.isRangeEnd=function(o){return t.props.startDate&&t.props.endDate&&kn(Cn(tt(),o),t.props.endDate)},t.isInRange=function(o){return Pc(o,t.props.startDate,t.props.endDate)},t.isInSelectingRange=function(o){var u=t.props,d=u.selectsStart,m=u.selectsEnd,x=u.selectsRange,p=u.startDate,v=u.endDate;return!(d||m||x)||!t.selectingDate()?!1:d&&v?Pc(o,t.selectingDate(),v):m&&p||x&&p&&!v?Pc(o,p,t.selectingDate()):!1},t.isSelectingRangeStart=function(o){var u;if(!t.isInSelectingRange(o))return!1;var d=t.props,m=d.startDate,x=d.selectsStart,p=Cn(tt(),o);return x?kn(p,(u=t.selectingDate())!==null&&u!==void 0?u:null):kn(p,m??null)},t.isSelectingRangeEnd=function(o){var u;if(!t.isInSelectingRange(o))return!1;var d=t.props,m=d.endDate,x=d.selectsEnd,p=d.selectsRange,v=Cn(tt(),o);return x||p?kn(v,(u=t.selectingDate())!==null&&u!==void 0?u:null):kn(v,m??null)},t.isKeyboardSelected=function(o){if(!(t.props.disabledKeyboardNavigation||t.props.date===void 0||t.props.preSelection==null)){var u=t.props,d=u.minDate,m=u.maxDate,x=u.excludeDates,p=u.includeDates,v=u.filterDate,b=u.selected,y=Zi(Cn(t.props.date,o)),w=(d||m||x||p||v)&&ou(o,t.props),M=!!b&&Ze(y,Zi(b)),S=Ze(y,Zi(t.props.preSelection));return!t.props.inline&&!M&&S&&!w}},t.isSelectedYear=function(o){var u=t.props,d=u.selectsMultiple,m=u.selected,x=u.selectedDates;return d?x?.some(function(p){return o===Qe(p)}):!!m&&o===Qe(m)},t.onYearClick=function(o,u){var d=t.props.date;d!==void 0&&t.handleYearClick(Zi(Cn(d,u)),o)},t.onYearKeyDown=function(o,u){var d,m,x=o.key,p=t.props,v=p.date,b=p.yearItemNumber,y=p.handleOnKeyDown;if(x!==ve.Tab&&o.preventDefault(),!t.props.disabledKeyboardNavigation)switch(x){case ve.Enter:if(t.props.selected==null)break;t.onYearClick(o,u),(m=(d=t.props).setPreSelection)===null||m===void 0||m.call(d,t.props.selected);break;case ve.ArrowRight:if(t.props.preSelection==null)break;t.handleYearNavigation(u+1,mn(t.props.preSelection,1));break;case ve.ArrowLeft:if(t.props.preSelection==null)break;t.handleYearNavigation(u-1,Wr(t.props.preSelection,1));break;case ve.ArrowUp:{if(v===void 0||b===void 0||t.props.preSelection==null)break;var w=ir(v,b).startPeriod,M=Eb,S=u-M;if(S<w){var g=b%M;u>=w&&u<w+g?M=g:M+=g,S=u-M}t.handleYearNavigation(S,Wr(t.props.preSelection,M));break}case ve.ArrowDown:{if(v===void 0||b===void 0||t.props.preSelection==null)break;var j=ir(v,b).endPeriod,M=Eb,S=u+M;if(S>j){var g=b%M;u<=j&&u>j-g?M=g:M+=g,S=u+M}t.handleYearNavigation(S,mn(t.props.preSelection,M));break}}y&&y(o)},t.getYearClassNames=function(o){var u=t.props,d=u.date,m=u.disabled,x=u.minDate,p=u.maxDate,v=u.excludeDates,b=u.includeDates,y=u.filterDate,w=u.yearClassName;return qt("react-datepicker__year-text","react-datepicker__year-".concat(o),d?w?.(Cn(d,o)):void 0,{"react-datepicker__year-text--selected":t.isSelectedYear(o),"react-datepicker__year-text--disabled":(x||p||v||b||y||m)&&ou(o,t.props),"react-datepicker__year-text--keyboard-selected":t.isKeyboardSelected(o),"react-datepicker__year-text--range-start":t.isRangeStart(o),"react-datepicker__year-text--range-end":t.isRangeEnd(o),"react-datepicker__year-text--in-range":t.isInRange(o),"react-datepicker__year-text--in-selecting-range":t.isInSelectingRange(o),"react-datepicker__year-text--selecting-range-start":t.isSelectingRangeStart(o),"react-datepicker__year-text--selecting-range-end":t.isSelectingRangeEnd(o),"react-datepicker__year-text--today":t.isCurrentYear(o)})},t.getYearTabIndex=function(o){if(t.props.disabledKeyboardNavigation||t.props.preSelection==null)return"-1";var u=Qe(t.props.preSelection),d=ou(o,t.props);return o===u&&!d?"0":"-1"},t.getYearContent=function(o){return t.props.renderYearContent?t.props.renderYearContent(o):o},t}return l.prototype.render=function(){var r=this,t=[],o=this.props,u=o.date,d=o.yearItemNumber,m=o.onYearMouseEnter,x=o.onYearMouseLeave;if(u===void 0)return null;for(var p=ir(u,d),v=p.startPeriod,b=p.endPeriod,y=function(S){t.push(ae.createElement("div",{ref:w.YEAR_REFS[S-v],onClick:function(g){r.onYearClick(g,S)},onKeyDown:function(g){N1(g)&&(g.preventDefault(),g.key=ve.Enter),r.onYearKeyDown(g,S)},tabIndex:Number(w.getYearTabIndex(S)),className:w.getYearClassNames(S),onMouseEnter:w.props.usePointerEvent?void 0:function(g){return m(g,S)},onPointerEnter:w.props.usePointerEvent?function(g){return m(g,S)}:void 0,onMouseLeave:w.props.usePointerEvent?void 0:function(g){return x(g,S)},onPointerLeave:w.props.usePointerEvent?function(g){return x(g,S)}:void 0,key:S,"aria-current":w.isCurrentYear(S)?"date":void 0},w.getYearContent(S)))},w=this,M=v;M<=b;M++)y(M);return ae.createElement("div",{className:"react-datepicker__year"},ae.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},l})(N.Component);function m3(s,l,r,t){for(var o=[],u=0;u<2*l+1;u++){var d=s+l-u,m=!0;r&&(m=Qe(r)<=d),t&&m&&(m=Qe(t)>=d),m&&o.push(d)}return o}var f3=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;t.yearOptionButtonsRef={},t.handleOptionKeyDown=function(m,x){var p;switch(x.key){case"Enter":x.preventDefault(),t.onChange(m);break;case"Escape":x.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{x.preventDefault();var v=m+(x.key==="ArrowUp"?1:-1);t.yearOptionButtonsRef[v]&&((p=t.yearOptionButtonsRef[v])===null||p===void 0||p.focus());break}}},t.renderOptions=function(){t.yearOptionButtonsRef={};var m=t.props.year,x=t.state.yearsList.map(function(b){return ae.createElement("div",{ref:function(y){t.yearOptionButtonsRef[b]=y,b===m&&y?.focus()},role:"button",tabIndex:0,className:m===b?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:b,onClick:t.onChange.bind(t,b),onKeyDown:t.handleOptionKeyDown.bind(t,b),"aria-selected":m===b?"true":void 0},m===b?ae.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",b)}),p=t.props.minDate?Qe(t.props.minDate):null,v=t.props.maxDate?Qe(t.props.maxDate):null;return(!v||!t.state.yearsList.find(function(b){return b===v}))&&x.unshift(ae.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:t.incrementYears},ae.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!p||!t.state.yearsList.find(function(b){return b===p}))&&x.push(ae.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:t.decrementYears},ae.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),x},t.onChange=function(m){t.props.onChange(m)},t.handleClickOutside=function(){t.props.onCancel()},t.shiftYears=function(m){var x=t.state.yearsList.map(function(p){return p+m});t.setState({yearsList:x})},t.incrementYears=function(){return t.shiftYears(1)},t.decrementYears=function(){return t.shiftYears(-1)};var o=r.yearDropdownItemNumber,u=r.scrollableYearDropdown,d=o||(u?10:5);return t.state={yearsList:m3(t.props.year,d,t.props.minDate,t.props.maxDate)},t.dropdownRef=N.createRef(),t}return l.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var t=r.children?Array.from(r.children):null,o=t?t.find(function(u){return u.ariaSelected}):null;r.scrollTop=o&&o instanceof HTMLElement?o.offsetTop+(o.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},l.prototype.render=function(){var r=qt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ae.createElement($u,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},l})(N.Component),p3=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var t=r.props.minDate?Qe(r.props.minDate):1900,o=r.props.maxDate?Qe(r.props.maxDate):2100,u=[],d=t;d<=o;d++)u.push(ae.createElement("option",{key:d,value:d},d));return u},r.onSelectChange=function(t){r.onChange(parseInt(t.target.value))},r.renderSelectMode=function(){return ae.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(t){return ae.createElement("button",{key:"read",type:"button",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},ae.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return ae.createElement(f3,$e({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var t=r.state.dropdownVisible,o=[r.renderReadView(!t)];return t&&o.unshift(r.renderDropdown()),o},r.onChange=function(t){r.toggleDropdown(),t!==r.props.year&&r.props.onChange(t)},r.toggleDropdown=function(t){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,t)})},r.handleYearChange=function(t,o){var u;(u=r.onSelect)===null||u===void 0||u.call(r,t,o),r.setOpen()},r.onSelect=function(t,o){var u,d;(d=(u=r.props).onSelect)===null||d===void 0||d.call(u,t,o)},r.setOpen=function(){var t,o;(o=(t=r.props).setOpen)===null||o===void 0||o.call(t,!0)},r}return l.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ae.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},l})(N.Component),x3=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],j1="react-datepicker-ignore-onclickoutside",h3=function(s){var l=(s.className||"").split(/\s+/);return x3.some(function(r){return l.indexOf(r)>=0})},v3=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;return t.monthContainer=void 0,t.handleClickOutside=function(o){t.props.onClickOutside(o)},t.setClickOutsideRef=function(){return t.containerRef.current},t.handleDropdownFocus=function(o){var u,d;h3(o.target)&&((d=(u=t.props).onDropdownFocus)===null||d===void 0||d.call(u,o))},t.getDateInView=function(){var o=t.props,u=o.preSelection,d=o.selected,m=o.openToDate,x=b1(t.props),p=g1(t.props),v=tt(),b=m||d||u;return b||(x&&An(v,x)?x:p&&ur(v,p)?p:v)},t.increaseMonth=function(){t.setState(function(o){var u=o.date;return{date:pn(u,1)}},function(){return t.handleMonthChange(t.state.date)})},t.decreaseMonth=function(){t.setState(function(o){var u=o.date;return{date:Es(u,1)}},function(){return t.handleMonthChange(t.state.date)})},t.handleDayClick=function(o,u,d){t.props.onSelect(o,u,d),t.props.setPreSelection&&t.props.setPreSelection(o)},t.handleDayMouseEnter=function(o){t.setState({selectingDate:o}),t.props.onDayMouseEnter&&t.props.onDayMouseEnter(o)},t.handleMonthMouseLeave=function(){t.setState({selectingDate:void 0}),t.props.onMonthMouseLeave&&t.props.onMonthMouseLeave()},t.handleYearMouseEnter=function(o,u){t.setState({selectingDate:Cn(tt(),u)}),t.props.onYearMouseEnter&&t.props.onYearMouseEnter(o,u)},t.handleYearMouseLeave=function(o,u){t.props.onYearMouseLeave&&t.props.onYearMouseLeave(o,u)},t.handleYearChange=function(o){var u,d,m,x;(d=(u=t.props).onYearChange)===null||d===void 0||d.call(u,o),t.setState({isRenderAriaLiveMessage:!0}),t.props.adjustDateOnChange&&(t.props.onSelect(o),(x=(m=t.props).setOpen)===null||x===void 0||x.call(m,!0)),t.props.setPreSelection&&t.props.setPreSelection(o)},t.getEnabledPreSelectionDateForMonth=function(o){if(!tn(o,t.props))return o;for(var u=dr(o),d=B4(o),m=XC(d,u),x=null,p=0;p<=m;p++){var v=dn(u,p);if(!tn(v,t.props)){x=v;break}}return x},t.handleMonthChange=function(o){var u,d,m,x=(u=t.getEnabledPreSelectionDateForMonth(o))!==null&&u!==void 0?u:o;t.handleCustomMonthChange(x),t.props.adjustDateOnChange&&(t.props.onSelect(x),(m=(d=t.props).setOpen)===null||m===void 0||m.call(d,!0)),t.props.setPreSelection&&t.props.setPreSelection(x)},t.handleCustomMonthChange=function(o){var u,d;(d=(u=t.props).onMonthChange)===null||d===void 0||d.call(u,o),t.setState({isRenderAriaLiveMessage:!0})},t.handleMonthYearChange=function(o){t.handleYearChange(o),t.handleMonthChange(o)},t.changeYear=function(o){t.setState(function(u){var d=u.date;return{date:Cn(d,Number(o))}},function(){return t.handleYearChange(t.state.date)})},t.changeMonth=function(o){t.setState(function(u){var d=u.date;return{date:Fa(d,Number(o))}},function(){var u,d;t.handleMonthChange(t.state.date),(d=(u=t.props).onMonthSelectedInChange)===null||d===void 0||d.call(u,0)})},t.changeMonthYear=function(o){t.setState(function(u){var d=u.date;return{date:Cn(Fa(d,Ma(o)),Qe(o))}},function(){return t.handleMonthYearChange(t.state.date)})},t.header=function(o,u){if(o===void 0&&(o=t.state.date),u===void 0&&(u=0),!Da(o))return[];var d=t.props.disabled,m=Xr(o,t.props.locale,t.props.calendarStartDay),x=[];return t.props.showWeekNumbers&&x.push(ae.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(d?"react-datepicker__day-name--disabled":""),role:"columnheader"},ae.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),ae.createElement("span",{"aria-hidden":"true"},t.props.weekLabel||"#"))),x.concat([0,1,2,3,4,5,6].map(function(p){var v=dn(m,p),b=t.formatWeekday(v,t.props.locale),y=yt(v,"EEEE",t.props.locale),w=t.props.weekDayClassName?t.props.weekDayClassName(v):void 0;if(t.props.renderCustomDayName){var M=t.props.renderCustomDayName({day:v,shortName:b,fullName:y,locale:t.props.locale,customDayNameCount:u});return ae.createElement("div",{key:p,role:"columnheader",className:qt("react-datepicker__day-name",w,d?"react-datepicker__day-name--disabled":"")},M)}return ae.createElement("div",{key:p,role:"columnheader",className:qt("react-datepicker__day-name",w,d?"react-datepicker__day-name--disabled":"")},ae.createElement("span",{className:"react-datepicker__sr-only"},y),ae.createElement("span",{"aria-hidden":"true"},b))}))},t.formatWeekday=function(o,u){return t.props.formatWeekDay?H4(o,t.props.formatWeekDay,u):t.props.useWeekdaysShort?q4(o,u):Y4(o,u)},t.decreaseYear=function(){t.setState(function(o){var u,d=o.date;return{date:Wr(d,t.props.showYearPicker?(u=t.props.yearItemNumber)!==null&&u!==void 0?u:l.defaultProps.yearItemNumber:1)}},function(){return t.handleYearChange(t.state.date)})},t.clearSelectingDate=function(){t.setState({selectingDate:void 0})},t.renderPreviousButton=function(){var o,u,d;if(!t.props.renderCustomHeader){var m=(o=t.props.monthsShown)!==null&&o!==void 0?o:l.defaultProps.monthsShown,x=t.props.showPreviousMonths?m-1:0,p=(u=t.props.monthSelectedIn)!==null&&u!==void 0?u:x,v=Es(t.state.date,p),b;switch(!0){case t.props.disabled:b=!0;break;case t.props.showMonthYearPicker:b=wb(t.state.date,t.props);break;case t.props.showYearPicker:b=Q4(t.state.date,t.props);break;case t.props.showQuarterYearPicker:b=V4(t.state.date,t.props);break;default:b=Nb(v,t.props);break}if(!(!((d=t.props.forceShowMonthNavigation)!==null&&d!==void 0?d:l.defaultProps.forceShowMonthNavigation)&&!t.props.showDisabledMonthNavigation&&b||t.props.showTimeSelectOnly)){var y=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],w=["react-datepicker__navigation","react-datepicker__navigation--previous"],M=t.decreaseMonth;(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker)&&(M=t.decreaseYear),b&&t.props.showDisabledMonthNavigation&&(w.push("react-datepicker__navigation--previous--disabled"),M=void 0);var S=t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker,g=t.props,j=g.previousMonthButtonLabel,D=j===void 0?l.defaultProps.previousMonthButtonLabel:j,k=g.previousYearButtonLabel,O=k===void 0?l.defaultProps.previousYearButtonLabel:k,T=t.props,H=T.previousMonthAriaLabel,I=H===void 0?typeof D=="string"?D:"Previous Month":H,R=T.previousYearAriaLabel,z=R===void 0?typeof O=="string"?O:"Previous Year":R;return ae.createElement("button",{type:"button",className:w.join(" "),onClick:M,onKeyDown:t.props.handleOnKeyDown,"aria-label":S?z:I},ae.createElement("span",{className:y.join(" ")},S?O:D))}}},t.increaseYear=function(){t.setState(function(o){var u,d=o.date;return{date:mn(d,t.props.showYearPicker?(u=t.props.yearItemNumber)!==null&&u!==void 0?u:l.defaultProps.yearItemNumber:1)}},function(){return t.handleYearChange(t.state.date)})},t.renderNextButton=function(){var o;if(!t.props.renderCustomHeader){var u;switch(!0){case t.props.disabled:u=!0;break;case t.props.showMonthYearPicker:u=Sb(t.state.date,t.props);break;case t.props.showYearPicker:u=K4(t.state.date,t.props);break;case t.props.showQuarterYearPicker:u=G4(t.state.date,t.props);break;default:u=jb(t.state.date,t.props);break}if(!(!((o=t.props.forceShowMonthNavigation)!==null&&o!==void 0?o:l.defaultProps.forceShowMonthNavigation)&&!t.props.showDisabledMonthNavigation&&u||t.props.showTimeSelectOnly)){var d=["react-datepicker__navigation","react-datepicker__navigation--next"],m=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];t.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),t.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var x=t.increaseMonth;(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker)&&(x=t.increaseYear),u&&t.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),x=void 0);var p=t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker,v=t.props,b=v.nextMonthButtonLabel,y=b===void 0?l.defaultProps.nextMonthButtonLabel:b,w=v.nextYearButtonLabel,M=w===void 0?l.defaultProps.nextYearButtonLabel:w,S=t.props,g=S.nextMonthAriaLabel,j=g===void 0?typeof y=="string"?y:"Next Month":g,D=S.nextYearAriaLabel,k=D===void 0?typeof M=="string"?M:"Next Year":D;return ae.createElement("button",{type:"button",className:d.join(" "),onClick:x,onKeyDown:t.props.handleOnKeyDown,"aria-label":p?k:j},ae.createElement("span",{className:m.join(" ")},p?M:y))}}},t.renderCurrentMonth=function(o){o===void 0&&(o=t.state.date);var u=["react-datepicker__current-month"];return t.props.showYearDropdown&&u.push("react-datepicker__current-month--hasYearDropdown"),t.props.showMonthDropdown&&u.push("react-datepicker__current-month--hasMonthDropdown"),t.props.showMonthYearDropdown&&u.push("react-datepicker__current-month--hasMonthYearDropdown"),ae.createElement("h2",{className:u.join(" ")},Da(o)?yt(o,t.props.dateFormat,t.props.locale):"")},t.renderYearDropdown=function(o){if(o===void 0&&(o=!1),!(!t.props.showYearDropdown||o))return ae.createElement(p3,$e({},l.defaultProps,t.props,{date:t.state.date,onChange:t.changeYear,year:Qe(t.state.date)}))},t.renderMonthDropdown=function(o){if(o===void 0&&(o=!1),!(!t.props.showMonthDropdown||o))return ae.createElement(l3,$e({},l.defaultProps,t.props,{month:Ma(t.state.date),onChange:t.changeMonth}))},t.renderMonthYearDropdown=function(o){if(o===void 0&&(o=!1),!(!t.props.showMonthYearDropdown||o))return ae.createElement(c3,$e({},l.defaultProps,t.props,{date:t.state.date,onChange:t.changeMonthYear}))},t.handleTodayButtonClick=function(o){t.props.onSelect(hb(),o),t.props.setPreSelection&&t.props.setPreSelection(hb())},t.renderTodayButton=function(){if(!(!t.props.todayButton||t.props.showTimeSelectOnly))return ae.createElement("div",{className:"react-datepicker__today-button",onClick:t.handleTodayButtonClick},t.props.todayButton)},t.renderDayNamesHeader=function(o,u){return u===void 0&&(u=0),ae.createElement("div",{className:"react-datepicker__day-names",role:"row"},t.header(o,u))},t.renderDefaultHeader=function(o){var u=o.monthDate,d=o.i,m=ae.createElement("div",{className:qt("react-datepicker__header",{"react-datepicker__header--has-time-select":t.props.showTimeSelect,"react-datepicker__header--middle":t.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":t.props.monthHeaderPosition==="bottom"})},t.renderCurrentMonth(u),ae.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(t.props.dropdownMode),onFocus:t.handleDropdownFocus},t.renderMonthDropdown(d!==0),t.renderMonthYearDropdown(d!==0),t.renderYearDropdown(d!==0)));return t.props.monthHeaderPosition==="top"?m:ae.createElement("div",{className:"react-datepicker__header-wrapper"},t.renderPreviousButton()||null,t.renderNextButton()||null,m)},t.renderCustomHeader=function(o){var u,d,m=o.monthDate,x=o.i;if(t.props.showTimeSelect&&!t.state.monthContainer||t.props.showTimeSelectOnly)return null;var p=t.props,v=p.showYearPicker,b=p.yearItemNumber,y;if(v){var w=ir(m,b),M=w.startPeriod,S=w.endPeriod;y={startYear:M,endYear:S}}var g=Nb(t.state.date,t.props),j=jb(t.state.date,t.props),D=wb(t.state.date,t.props),k=Sb(t.state.date,t.props);return ae.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:t.props.onDropdownFocus},(d=(u=t.props).renderCustomHeader)===null||d===void 0?void 0:d.call(u,$e($e($e({},t.state),v&&{visibleYearsRange:y}),{customHeaderCount:x,monthDate:m,changeMonth:t.changeMonth,changeYear:t.changeYear,decreaseMonth:t.decreaseMonth,increaseMonth:t.increaseMonth,decreaseYear:t.decreaseYear,increaseYear:t.increaseYear,prevMonthButtonDisabled:g,nextMonthButtonDisabled:j,prevYearButtonDisabled:D,nextYearButtonDisabled:k})))},t.renderYearHeader=function(o){var u=o.monthDate,d=t.props,m=d.showYearPicker,x=d.yearItemNumber,p=x===void 0?l.defaultProps.yearItemNumber:x,v=ir(u,p),b=v.startPeriod,y=v.endPeriod;return ae.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},m?"".concat(b," - ").concat(y):Qe(u))},t.renderHeader=function(o){var u=o.monthDate,d=o.i,m=d===void 0?0:d,x={monthDate:u,i:m};switch(!0){case t.props.renderCustomHeader!==void 0:return t.renderCustomHeader(x);case(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker):return t.renderYearHeader(x);default:return t.renderDefaultHeader(x)}},t.renderMonths=function(){var o,u;if(!(t.props.showTimeSelectOnly||t.props.showYearPicker)){for(var d=[],m=(o=t.props.monthsShown)!==null&&o!==void 0?o:l.defaultProps.monthsShown,x=t.props.showPreviousMonths?m-1:0,p=t.props.showMonthYearPicker||t.props.showQuarterYearPicker?mn(t.state.date,x):Es(t.state.date,x),v=(u=t.props.monthSelectedIn)!==null&&u!==void 0?u:x,b=0;b<m;++b){var y=b-v+x,w=t.props.showMonthYearPicker||t.props.showQuarterYearPicker?mn(p,y):pn(p,y),M="month-".concat(b),S=b<m-1,g=b>0;d.push(ae.createElement("div",{key:M,ref:function(j){t.monthContainer=j??void 0},className:"react-datepicker__month-container"},t.props.monthHeaderPosition==="top"&&t.renderHeader({monthDate:w,i:b}),ae.createElement(r3,$e({},l.defaultProps,t.props,{containerRef:t.containerRef,ariaLabelPrefix:t.props.monthAriaLabelPrefix,day:w,onDayClick:t.handleDayClick,handleOnKeyDown:t.props.handleOnDayKeyDown,handleOnMonthKeyDown:t.props.handleOnKeyDown,onDayMouseEnter:t.handleDayMouseEnter,onMouseLeave:t.handleMonthMouseLeave,orderInDisplay:b,selectingDate:t.state.selectingDate,monthShowsDuplicateDaysEnd:S,monthShowsDuplicateDaysStart:g,dayNamesHeader:t.renderDayNamesHeader(w,b),monthHeader:t.props.monthHeaderPosition==="middle"?t.renderHeader({monthDate:w,i:b}):void 0,monthFooter:t.props.monthHeaderPosition==="bottom"?t.renderHeader({monthDate:w,i:b}):void 0}))))}return d}},t.renderYears=function(){if(!t.props.showTimeSelectOnly&&t.props.showYearPicker)return ae.createElement("div",{className:"react-datepicker__year--container"},t.renderHeader({monthDate:t.state.date}),ae.createElement(d3,$e({},l.defaultProps,t.props,{selectingDate:t.state.selectingDate,date:t.state.date,onDayClick:t.handleDayClick,clearSelectingDate:t.clearSelectingDate,onYearMouseEnter:t.handleYearMouseEnter,onYearMouseLeave:t.handleYearMouseLeave})))},t.renderTimeSection=function(){if(t.props.showTimeSelect&&(t.state.monthContainer||t.props.showTimeSelectOnly))return ae.createElement(u3,$e({},l.defaultProps,t.props,{onChange:t.props.onTimeChange,format:t.props.timeFormat,intervals:t.props.timeIntervals,monthRef:t.state.monthContainer}))},t.renderInputTimeSection=function(){var o,u;if(t.props.showTimeInput){if(t.props.selectsRange){var d=t.props,m=d.startDate,x=d.endDate,p=m?new Date(m):void 0,v=p&&Da(p)&&!!m,b=v?"".concat(yl(p.getHours()),":").concat(yl(p.getMinutes())):"",y=x?new Date(x):void 0,w=y&&Da(y)&&!!x,M=w?"".concat(yl(y.getHours()),":").concat(yl(y.getMinutes())):"";return ae.createElement(ae.Fragment,null,ae.createElement(gf,$e({},l.defaultProps,t.props,{date:p,timeString:b,onChange:function(D){var k,O;(O=(k=t.props).onTimeChange)===null||O===void 0||O.call(k,D,"start")},timeInputLabel:((o=t.props.timeInputLabel)!==null&&o!==void 0?o:"Time")+" (Start)"})),ae.createElement(gf,$e({},l.defaultProps,t.props,{date:y,timeString:M,onChange:function(D){var k,O;(O=(k=t.props).onTimeChange)===null||O===void 0||O.call(k,D,"end")},timeInputLabel:((u=t.props.timeInputLabel)!==null&&u!==void 0?u:"Time")+" (End)"})))}var S=t.props.selected?new Date(t.props.selected):void 0,g=S&&Da(S)&&!!t.props.selected,j=g?"".concat(yl(S.getHours()),":").concat(yl(S.getMinutes())):"";return ae.createElement(gf,$e({},l.defaultProps,t.props,{date:S,timeString:j,onChange:function(D){var k,O;(O=(k=t.props).onTimeChange)===null||O===void 0||O.call(k,D)}}))}},t.renderAriaLiveRegion=function(){var o;if(!Da(t.state.date))return ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var u=ir(t.state.date,(o=t.props.yearItemNumber)!==null&&o!==void 0?o:l.defaultProps.yearItemNumber),d=u.startPeriod,m=u.endPeriod,x;return t.props.showYearPicker?x="".concat(d," - ").concat(m):t.props.showMonthYearPicker||t.props.showQuarterYearPicker?x=Qe(t.state.date):x="".concat(Np(Ma(t.state.date),t.props.locale)," ").concat(Qe(t.state.date)),ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},t.state.isRenderAriaLiveMessage&&x)},t.renderChildren=function(){if(t.props.children)return ae.createElement("div",{className:"react-datepicker__children-container"},t.props.children)},t.containerRef=N.createRef(),t.state={date:t.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},t}return Object.defineProperty(l,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:j1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:po,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())},l.prototype.componentDidUpdate=function(r){var t=this;if(this.props.preSelection&&Da(this.props.preSelection)&&(!Ze(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var o=!fa(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return o&&t.handleCustomMonthChange(t.state.date)})}else this.props.openToDate&&!Ze(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},l.prototype.render=function(){var r=this.props.container||_4;return ae.createElement($u,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ae.createElement("div",{style:{display:"contents"},ref:this.containerRef},ae.createElement(r,{className:qt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},l})(N.Component),b3=function(s){var l=s.icon,r=s.className,t=r===void 0?"":r,o=s.onClick,u="react-datepicker__calendar-icon";if(typeof l=="string")return ae.createElement("i",{className:"".concat(u," ").concat(l," ").concat(t),"aria-hidden":"true",onClick:o});if(ae.isValidElement(l)){var d=l;return ae.cloneElement(d,{className:"".concat(d.props.className||""," ").concat(u," ").concat(t),onClick:function(m){typeof d.props.onClick=="function"&&d.props.onClick(m),typeof o=="function"&&o(m)}})}return ae.createElement("svg",{className:"".concat(u," ").concat(t),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:o},ae.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},w1=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;return t.portalRoot=null,t.el=document.createElement("div"),t}return l.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},l.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},l.prototype.render=function(){return O2.createPortal(this.props.children,this.el)},l})(N.Component),g3="[tabindex], a, button, input, select, textarea",y3=function(s){return(s instanceof HTMLAnchorElement||!s.disabled)&&s.tabIndex!==-1},S1=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;return t.getTabChildren=function(){var o;return Array.prototype.slice.call((o=t.tabLoopRef.current)===null||o===void 0?void 0:o.querySelectorAll(g3),1,-1).filter(y3)},t.handleFocusStart=function(){var o=t.getTabChildren();o&&o.length>1&&o[o.length-1].focus()},t.handleFocusEnd=function(){var o=t.getTabChildren();o&&o.length>1&&o[0].focus()},t.tabLoopRef=N.createRef(),t}return l.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:l.defaultProps.enableTabLoop)?ae.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ae.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ae.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},l.defaultProps={enableTabLoop:!0},l})(N.Component);function N3(s){function l(r){var t,o=typeof r.hidePopper=="boolean"?r.hidePopper:!0,u=N.useRef(null),d=E4($e({open:!o,whileElementsMounted:c4,placement:r.popperPlacement,middleware:Tn([b4({padding:15}),v4(10),g4({element:u})],(t=r.popperModifiers)!==null&&t!==void 0?t:[],!0)},r.popperProps)),m=$e($e({},r),{hidePopper:o,popperProps:$e($e({},d),{arrowRef:u})});return ae.createElement(s,$e({},m))}return l.displayName="withFloating(".concat(s.displayName||s.name||"Component",")"),l}var j3=function(s){var l=s.className,r=s.wrapperClassName,t=s.hidePopper,o=t===void 0?!0:t,u=s.popperComponent,d=s.targetComponent,m=s.enableTabLoop,x=s.popperOnKeyDown,p=s.portalId,v=s.portalHost,b=s.popperProps,y=s.showArrow,w=s.popperTargetRef,M=s.monthHeaderPosition;N.useEffect(function(){w?.current&&b.refs.setPositionReference(w.current)},[w,b.refs]);var S=void 0;if(!o){var g=qt("react-datepicker-popper",!y&&"react-datepicker-popper-offset",M==="middle"&&"react-datepicker-popper--header-middle",M==="bottom"&&"react-datepicker-popper--header-bottom",l);S=ae.createElement(S1,{enableTabLoop:m},ae.createElement("div",{ref:b.refs.setFloating,style:b.floatingStyles,className:g,"data-placement":b.placement,onKeyDown:x},u,y&&ae.createElement(S4,{ref:b.arrowRef,context:b.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}s.popperContainer&&(S=N.createElement(s.popperContainer,{},S)),p&&!o&&(S=ae.createElement(w1,{portalId:p,portalHost:v},S));var j=qt("react-datepicker-wrapper",r);return ae.createElement(ae.Fragment,null,ae.createElement("div",{ref:b.refs.setReference,className:j},d),S)},w3=N3(j3);function _b(s,l){return s&&l?Ma(s)!==Ma(l)||Qe(s)!==Qe(l):s!==l}var Nf="Date input not valid.",S3=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;return t.calendar=null,t.input=null,t.getPreSelection=function(){var o=t.props.timeZone,u=t.props.openToDate?t.props.openToDate:t.props.selectsEnd&&t.props.startDate?t.props.startDate:t.props.selectsStart&&t.props.endDate?t.props.endDate:tt();return o?pb(u,o):u},t.modifyHolidays=function(){var o;return(o=t.props.holidays)===null||o===void 0?void 0:o.reduce(function(u,d){var m=Ns(d.date,"yyyy-MM-dd",void 0,!1);return m?Tn(Tn([],u,!0),[$e($e({},d),{date:m})],!1):u},[])},t.calcInitialState=function(){var o=t.props.timeZone,u=t.getPreSelection(),d=b1(t.props),m=g1(t.props),x=d&&An(u,Wi(d))?d:m&&ur(u,vb(m))?m:u,p=t.props.selectsRange?t.props.startDate:t.props.selected;return p&&o&&(p=pb(p,o)),{open:t.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:p??x,highlightDates:Cb(t.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},t.getInputValue=function(){var o,u=t.props,d=u.locale,m=u.startDate,x=u.endDate,p=u.rangeSeparator,v=u.selected,b=u.selectedDates,y=u.selectsMultiple,w=u.selectsRange,M=u.formatMultipleDates,S=u.value,g=(o=t.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,j=t.state.inputValue;if(typeof S=="string")return S;if(typeof j=="string")return j;if(w)return L4(m,x,{dateFormat:g,locale:d,rangeSeparator:p});if(y){if(M){var D=function(k){return ka(k,{dateFormat:g,locale:d})};return M(b??[],D)}return I4(b??[],{dateFormat:g,locale:d})}return ka(v,{dateFormat:g,locale:d})},t.resetHiddenStatus=function(){t.setState($e($e({},t.state),{wasHidden:!1}))},t.setHiddenStatus=function(){t.setState($e($e({},t.state),{wasHidden:!0}))},t.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&t.setHiddenStatus()},t.clearPreventFocusTimeout=function(){t.preventFocusTimeout&&clearTimeout(t.preventFocusTimeout)},t.setFocus=function(){var o,u;(u=(o=t.input)===null||o===void 0?void 0:o.focus)===null||u===void 0||u.call(o,{preventScroll:!0})},t.setBlur=function(){var o,u;(u=(o=t.input)===null||o===void 0?void 0:o.blur)===null||u===void 0||u.call(o),t.cancelFocusInput()},t.deferBlur=function(){requestAnimationFrame(function(){t.setBlur()})},t.setOpen=function(o,u){u===void 0&&(u=!1),t.setState({open:o,preSelection:o&&t.state.open?t.state.preSelection:t.calcInitialState().preSelection,lastPreSelectChange:jf},function(){o||t.setState(function(d){return{focused:u?d.focused:!1}},function(){!u&&t.deferBlur(),t.setState({inputValue:null})})})},t.inputOk=function(){return _n(t.state.preSelection)},t.isCalendarOpen=function(){return t.props.open===void 0?t.state.open&&!t.props.disabled&&!t.props.readOnly:t.props.open},t.handleFocus=function(o){var u,d,m=t.state.wasHidden,x=m?t.state.open:!0;m&&t.resetHiddenStatus(),t.state.preventFocus||((d=(u=t.props).onFocus)===null||d===void 0||d.call(u,o),x&&!t.props.preventOpenOnFocus&&!t.props.readOnly&&t.setOpen(!0)),t.setState({focused:!0})},t.sendFocusBackToInput=function(){t.preventFocusTimeout&&t.clearPreventFocusTimeout(),t.setState({preventFocus:!0},function(){t.preventFocusTimeout=setTimeout(function(){t.setFocus(),t.setState({preventFocus:!1})})})},t.cancelFocusInput=function(){clearTimeout(t.inputFocusTimeout),t.inputFocusTimeout=void 0},t.deferFocusInput=function(){t.cancelFocusInput(),t.inputFocusTimeout=setTimeout(function(){return t.setFocus()},1)},t.handleDropdownFocus=function(){t.cancelFocusInput()},t.resetInputValue=function(){t.setState($e($e({},t.state),{inputValue:null}))},t.handleBlur=function(o){var u,d;(!t.state.open||t.props.withPortal||t.props.showTimeInput)&&((d=(u=t.props).onBlur)===null||d===void 0||d.call(u,o));var m=t.state.inputValue;if(typeof m=="string"&&m.length>0){var x=/[a-zA-Z0-9]/.test(m);!x&&t.props.selected&&t.setSelected(null,void 0,!0)}t.resetInputValue(),t.state.open&&t.props.open===!1&&t.setOpen(!1),t.setState({focused:!1})},t.handleCalendarClickOutside=function(o){var u,d;(d=(u=t.props).onClickOutside)===null||d===void 0||d.call(u,o),!t.props.inline&&!o.defaultPrevented&&t.setOpen(!1),t.props.withPortal&&o.preventDefault()},t.handleChange=function(){for(var o,u,d,m,x,p,v,b,y=[],w=0;w<arguments.length;w++)y[w]=arguments[w];var M=y[0];if(!(t.props.onChangeRaw&&(t.props.onChangeRaw.apply(t,y),!M||typeof M.isDefaultPrevented!="function"||M.isDefaultPrevented()))){t.setState({inputValue:M?.target instanceof HTMLInputElement?M.target.value:null,lastPreSelectChange:C3});var S=t.props,g=S.selectsRange,j=S.startDate,D=S.endDate,k=(o=t.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,O=(u=t.props.strictParsing)!==null&&u!==void 0?u:l.defaultProps.strictParsing,T=M?.target instanceof HTMLInputElement?M.target.value:"";if(g){var H=t.props.rangeSeparator,I=H.trim(),R=T.split(k.includes(I)?H:I,2).map(function(Z){return Z.trim()}),z=R[0],L=R[1],V=Ns(z??"",k,t.props.locale,O),A=V?Ns(L??"",k,t.props.locale,O):null,le=((d=As(j))===null||d===void 0?void 0:d.getTime())!==V?.getTime(),oe=((m=As(D))===null||m===void 0?void 0:m.getTime())!==A?.getTime();if(!le&&!oe||V&&tn(V,t.props)||A&&tn(A,t.props))return;V&&t.setState({preSelection:V}),(p=(x=t.props).onChange)===null||p===void 0||p.call(x,[V,A],M)}else{var re=Ns(T,k,t.props.locale,O,(v=t.props.selected)!==null&&v!==void 0?v:void 0);if(re||!T)t.setSelected(re,M,!0);else if(!t.props.inline){var q=R4(T,(b=t.state.preSelection)!==null&&b!==void 0?b:void 0);q&&(!t.props.minDate||!An(q,t.props.minDate))&&(!t.props.maxDate||!ur(q,t.props.maxDate))&&t.setState({preSelection:q})}}}},t.handleSelect=function(o,u,d){var m;if(!t.props.readOnly){var x=t.props,p=x.selectsRange,v=x.startDate,b=x.endDate,y=x.locale,w=x.swapRange,M=(m=t.props.dateFormat)!==null&&m!==void 0?m:l.defaultProps.dateFormat,S=!p||v&&!b&&(w||!bf(o,v));if(t.props.shouldCloseOnSelect&&!t.props.showTimeSelect&&S&&t.sendFocusBackToInput(),t.props.onChangeRaw){var g=ka(o,{dateFormat:M,locale:y});t.props.onChangeRaw(u,{date:o,formattedDate:g})}t.setSelected(o,u,!1,d),t.props.showDateSelect&&t.setState({isRenderAriaLiveMessage:!0}),!t.props.shouldCloseOnSelect||t.props.showTimeSelect?t.setPreSelection(o):S&&t.setOpen(!1)}},t.setSelected=function(o,u,d,m){var x,p,v=t.props.timeZone,b=o;if(b&&v&&(b=sr(b,v)),t.props.showYearPicker){if(b!==null&&ou(Qe(b),t.props))return}else if(t.props.showMonthYearPicker){if(b!==null&&v1(b,t.props))return}else if(b!==null&&tn(b,t.props))return;var y=t.props,w=y.onChange,M=y.selectsRange,S=y.startDate,g=y.endDate,j=y.selectsMultiple,D=y.selectedDates,k=y.minTime,O=y.swapRange;if(!Ts(t.props.selected,b)||t.props.allowSameDay||M||j)if(b!==null&&(t.props.selected&&(!d||!t.props.showTimeSelect&&!t.props.showTimeSelectOnly&&!t.props.showTimeInput)&&(b=lr(b,{hour:la(t.props.selected),minute:ia(t.props.selected),second:Kr(t.props.selected)})),!d&&(t.props.showTimeSelect||t.props.showTimeSelectOnly)&&k&&(b=lr(b,{hour:k.getHours(),minute:k.getMinutes(),second:k.getSeconds()})),t.props.inline||t.setState({preSelection:b}),t.props.focusSelectedMonth||t.setState({monthSelectedIn:m})),M){var T=w,H=!S&&!g,I=S&&!g,R=!S&&!!g,z=S&&g;H?T?.([b,null],u):I?b===null?T?.([null,null],u):bf(b,S)?T?.(O?[b,S]:[b,null],u):T?.([S,b],u):R&&(b&&bf(b,g)?T?.([b,g],u):T?.([b,null],u)),z&&T?.([b,null],u)}else if(j){var L=w;if(b!==null)if(!D?.length)L?.([b],u);else{var V=D.some(function(le){return Ze(le,b)});if(V){var A=D.filter(function(le){return!Ze(le,b)});L?.(A,u)}else L?.(Tn(Tn([],D,!0),[b],!1),u)}}else w?.(b,u);d||((p=(x=t.props).onSelect)===null||p===void 0||p.call(x,b,u),t.setState({inputValue:null}))},t.setPreSelection=function(o){if(!t.props.readOnly){var u=_n(t.props.minDate),d=_n(t.props.maxDate),m=!0;if(o){var x=Wi(o);if(u&&d)m=Cs(o,t.props.minDate,t.props.maxDate);else if(u){var p=Wi(t.props.minDate);m=ur(o,p)||Ts(x,p)}else if(d){var v=vb(t.props.maxDate);m=An(o,v)||Ts(x,v)}}m&&t.setState({preSelection:o})}},t.toggleCalendar=function(){t.setOpen(!t.state.open)},t.handleTimeChange=function(o,u){var d,m;if(!t.props.selectsMultiple){var x=t.props,p=x.selectsRange,v=x.startDate,b=x.endDate,y=x.onChange,w=x.timeZone;if(p){var M=y;if(u==="start"){if(v){var S=lr(v,{hour:la(o),minute:ia(o)});t.setState({preSelection:S}),w&&(S=sr(S,w)),M?.([S,b?w?sr(b,w):b:null],void 0)}}else if(u==="end"){if(b){var g=lr(b,{hour:la(o),minute:ia(o)});t.setState({preSelection:g}),w&&(g=sr(g,w)),M?.([v?w?sr(v,w):v:null,g],void 0)}}else{var j=v&&!b;if(j){var S=lr(v,{hour:la(o),minute:ia(o)});t.setState({preSelection:S}),w&&(S=sr(S,w)),M?.([S,null],void 0)}else if(v&&b){var g=lr(b,{hour:la(o),minute:ia(o)});t.setState({preSelection:g}),w&&(g=sr(g,w)),M?.([w?sr(v,w):v,g],void 0)}else{var D=lr(t.getPreSelection(),{hour:la(o),minute:ia(o)});t.setState({preSelection:D})}}}else{var k=t.props.selected?t.props.selected:t.getPreSelection(),D=t.props.selected?o:lr(k,{hour:la(o),minute:ia(o)});t.setState({preSelection:D}),D&&w&&(D=sr(D,w)),(m=(d=t.props).onChange)===null||m===void 0||m.call(d,D)}t.props.shouldCloseOnSelect&&!t.props.showTimeInput&&(t.sendFocusBackToInput(),t.setOpen(!1)),t.props.showTimeInput&&t.setOpen(!0),(t.props.showTimeSelectOnly||t.props.showTimeSelect)&&t.setState({isRenderAriaLiveMessage:!0}),t.setState({inputValue:null})}},t.onInputClick=function(){var o,u;!t.props.disabled&&!t.props.readOnly&&t.setOpen(!0),(u=(o=t.props).onInputClick)===null||u===void 0||u.call(o)},t.handleTimeOnlyArrowKey=function(o){var u,d,m,x,p=As(t.props.selected)||t.state.preSelection||tt(),v=(u=t.props.timeIntervals)!==null&&u!==void 0?u:30,b=(d=t.props.dateFormat)!==null&&d!==void 0?d:l.defaultProps.dateFormat,y=Array.isArray(b)?b[0]:b,w=Wi(p),M=la(p)*60+ia(p),S=1440-v,g;if(o===ve.ArrowUp){var j=Math.max(0,M-v);g=ro(w,j)}else{var j=Math.min(S,M+v);g=ro(w,j)}var D=yt(g,y||l.defaultProps.dateFormat,t.props.locale);if(t.setState({preSelection:g,inputValue:D}),!(t.props.selectsRange||t.props.selectsMultiple)){var k=t.props.selected?t.props.selected:t.getPreSelection(),O=t.props.selected?g:lr(k,{hour:la(g),minute:ia(g)});(x=(m=t.props).onChange)===null||x===void 0||x.call(m,O),(t.props.showTimeSelectOnly||t.props.showTimeSelect)&&t.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){t.scrollToTimeOption(g)})}},t.handleTimeOnlyEnterKey=function(o){var u,d,m,x,p=o.target,v=p.value,b=(u=t.props.dateFormat)!==null&&u!==void 0?u:l.defaultProps.dateFormat,y=t.props.timeFormat||"p",w=t.state.preSelection||As(t.props.selected)||tt(),M=Ns(v,b,t.props.locale,(d=t.props.strictParsing)!==null&&d!==void 0?d:!1,w),S=w;if(M&&Da(M))S=M;else{var g=((m=t.calendar)===null||m===void 0?void 0:m.containerRef.current)instanceof Element&&t.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(g instanceof HTMLElement){var j=(x=g.textContent)===null||x===void 0?void 0:x.trim();if(j){var D=Ns(j,y,t.props.locale,!1,w);D&&Da(D)&&(S=D)}}}t.handleTimeChange(S),t.setOpen(!1),t.sendFocusBackToInput()},t.scrollToTimeOption=function(o){var u,d;if(!((u=t.calendar)===null||u===void 0)&&u.containerRef.current){for(var m=t.calendar.containerRef.current,x=Array.from(m.querySelectorAll(".react-datepicker__time-list-item")),p=null,v=1/0,b=t.props.timeFormat||"p",y=0,w=x;y<w.length;y++){var M=w[y],S=(d=M.textContent)===null||d===void 0?void 0:d.trim();if(S){var g=Ns(S,b,t.props.locale,!1,o);if(g&&Da(g)){if(y1(g,o)){p=M;break}var j=Math.abs(g.getTime()-o.getTime());j<v&&(v=j,p=M)}}}p&&(x.forEach(function(D){D.setAttribute("tabindex","-1")}),p.setAttribute("tabindex","0"),p.scrollIntoView({behavior:"smooth",block:"center"}))}},t.onInputKeyDown=function(o){var u,d,m,x,p,v;(d=(u=t.props).onKeyDown)===null||d===void 0||d.call(u,o);var b=o.key;if(!t.state.open&&!t.props.inline&&!t.props.preventOpenOnFocus){(b===ve.ArrowDown||b===ve.ArrowUp||b===ve.Enter)&&((m=t.onInputClick)===null||m===void 0||m.call(t));return}if(t.state.open&&t.props.showTimeSelectOnly){if(b===ve.ArrowDown||b===ve.ArrowUp){o.preventDefault(),t.handleTimeOnlyArrowKey(b);return}if(b===ve.Enter){o.preventDefault(),t.handleTimeOnlyEnterKey(o);return}}if(t.state.open){if(b===ve.ArrowDown||b===ve.ArrowUp){o.preventDefault();var y=t.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":t.props.showWeekPicker&&t.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':t.props.showFullMonthYearPicker||t.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',w=((x=t.calendar)===null||x===void 0?void 0:x.containerRef.current)instanceof Element&&t.calendar.containerRef.current.querySelector(y);w instanceof HTMLElement&&w.focus({preventScroll:!0});return}var M=tt(t.state.preSelection);b===ve.Enter?(o.preventDefault(),o.target.blur(),t.inputOk()&&t.state.lastPreSelectChange===jf?(t.handleSelect(M,o),!t.props.shouldCloseOnSelect&&t.setPreSelection(M)):t.setOpen(!1)):b===ve.Escape?(o.preventDefault(),o.target.blur(),t.sendFocusBackToInput(),t.setOpen(!1)):b===ve.Tab&&t.setOpen(!1),t.inputOk()||(v=(p=t.props).onInputError)===null||v===void 0||v.call(p,{code:1,msg:Nf})}},t.onPortalKeyDown=function(o){var u=o.key;u===ve.Escape&&(o.preventDefault(),t.setState({preventFocus:!0},function(){t.setOpen(!1),setTimeout(function(){t.setFocus(),t.setState({preventFocus:!1})})}))},t.onDayKeyDown=function(o){var u,d,m,x,p,v,b=t.props,y=b.minDate,w=b.maxDate,M=b.disabledKeyboardNavigation,S=b.showWeekPicker,g=b.shouldCloseOnSelect,j=b.locale,D=b.calendarStartDay,k=b.adjustDateOnChange,O=b.inline;if((d=(u=t.props).onKeyDown)===null||d===void 0||d.call(u,o),!M){var T=o.key,H=o.shiftKey,I=tt(t.state.preSelection),R=function(V,A){var le=A;switch(V){case ve.ArrowRight:le=S?bu(A,1):dn(A,1);break;case ve.ArrowLeft:le=S?tb(A):XD(A);break;case ve.ArrowUp:le=tb(A);break;case ve.ArrowDown:le=bu(A,1);break;case ve.PageUp:le=H?Wr(A,1):Es(A,1);break;case ve.PageDown:le=H?mn(A,1):pn(A,1);break;case ve.Home:le=Xr(A,j,D);break;case ve.End:le=F4(A);break}return le},z=function(V,A){for(var le=40,oe=V,re=!1,q=0,Z=R(V,A);!re;){if(q>=le){Z=A;break}y&&Z<y&&(oe=ve.ArrowRight,Z=tn(y,t.props)?R(oe,Z):y),w&&Z>w&&(oe=ve.ArrowLeft,Z=tn(w,t.props)?R(oe,Z):w),tn(Z,t.props)?((oe===ve.PageUp||oe===ve.Home)&&(oe=ve.ArrowRight),(oe===ve.PageDown||oe===ve.End)&&(oe=ve.ArrowLeft),Z=R(oe,Z)):re=!0,q++}return Z};if(T===ve.Enter){o.preventDefault(),t.handleSelect(I,o),!g&&t.setPreSelection(I);return}else if(T===ve.Escape){o.preventDefault(),t.setOpen(!1),t.inputOk()||(x=(m=t.props).onInputError)===null||x===void 0||x.call(m,{code:1,msg:Nf});return}var L=null;switch(T){case ve.ArrowLeft:case ve.ArrowRight:case ve.ArrowUp:case ve.ArrowDown:case ve.PageUp:case ve.PageDown:case ve.Home:case ve.End:L=z(T,I);break}if(!L){(v=(p=t.props).onInputError)===null||v===void 0||v.call(p,{code:1,msg:Nf});return}o.preventDefault(),t.setState({lastPreSelectChange:jf}),k&&t.setSelected(L),t.setPreSelection(L),O&&t.setState({shouldFocusDayInline:!0})}},t.onPopperKeyDown=function(o){var u=o.key;u===ve.Escape&&(o.preventDefault(),t.sendFocusBackToInput(),t.setOpen(!1))},t.onClearClick=function(o){o&&o.preventDefault&&o.preventDefault(),t.sendFocusBackToInput();var u=t.props,d=u.selectsRange,m=u.onChange;m?.(d?[null,null]:null,o),t.setState({inputValue:null})},t.clear=function(){t.onClearClick()},t.onScroll=function(o){typeof t.props.closeOnScroll=="boolean"&&t.props.closeOnScroll?(o.target===document||o.target===document.documentElement||o.target===document.body)&&t.setOpen(!1):typeof t.props.closeOnScroll=="function"&&t.props.closeOnScroll(o)&&t.setOpen(!1)},t.handleMonthSelectedInChange=function(o){t.setState({monthSelectedIn:o})},t.renderCalendar=function(){var o,u;return!t.props.inline&&!t.isCalendarOpen()?null:ae.createElement(v3,$e({showMonthYearDropdown:void 0,ref:function(d){t.calendar=d}},t.props,t.state,{setOpen:t.setOpen,dateFormat:(o=t.props.dateFormatCalendar)!==null&&o!==void 0?o:l.defaultProps.dateFormatCalendar,onSelect:t.handleSelect,onClickOutside:t.handleCalendarClickOutside,holidays:W4(t.modifyHolidays()),outsideClickIgnoreClass:t.props.outsideClickIgnoreClass,onDropdownFocus:t.handleDropdownFocus,onTimeChange:t.handleTimeChange,className:t.props.calendarClassName,container:t.props.calendarContainer,handleOnKeyDown:t.props.onKeyDown,handleOnDayKeyDown:t.onDayKeyDown,setPreSelection:t.setPreSelection,dropdownMode:(u=t.props.dropdownMode)!==null&&u!==void 0?u:l.defaultProps.dropdownMode,onMonthSelectedInChange:t.handleMonthSelectedInChange}),t.props.children)},t.renderAriaLiveRegion=function(){var o,u=t.props.locale,d=(o=t.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,m=t.props.showTimeInput||t.props.showTimeSelect,x=m?"PPPPp":"PPPP",p;return t.props.selectsRange?p="Selected start date: ".concat(ka(t.props.startDate,{dateFormat:x,locale:u}),". ").concat(t.props.endDate?"End date: "+ka(t.props.endDate,{dateFormat:x,locale:u}):""):t.props.showTimeSelectOnly?p="Selected time: ".concat(ka(t.props.selected,{dateFormat:d,locale:u})):t.props.showYearPicker?p="Selected year: ".concat(ka(t.props.selected,{dateFormat:"yyyy",locale:u})):t.props.showMonthYearPicker?p="Selected month: ".concat(ka(t.props.selected,{dateFormat:"MMMM yyyy",locale:u})):t.props.showQuarterYearPicker?p="Selected quarter: ".concat(ka(t.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):p="Selected date: ".concat(ka(t.props.selected,{dateFormat:x,locale:u})),ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},t.renderDateInput=function(){var o,u,d,m,x,p,v,b=qt(t.props.className,(o={},o[t.props.outsideClickIgnoreClass||l.defaultProps.outsideClickIgnoreClass]=t.state.open,o)),y=t.props.customInput||ae.createElement("input",{type:"text"}),w=t.props.customInputRef||"ref",M={},S=(d=t.props["aria-describedby"])!==null&&d!==void 0?d:t.props.ariaDescribedBy,g=(m=t.props["aria-invalid"])!==null&&m!==void 0?m:t.props.ariaInvalid,j=(x=t.props["aria-label"])!==null&&x!==void 0?x:t.props.ariaLabel,D=(p=t.props["aria-labelledby"])!==null&&p!==void 0?p:t.props.ariaLabelledBy,k=(v=t.props["aria-required"])!==null&&v!==void 0?v:t.props.ariaRequired;return S!=null&&(M["aria-describedby"]=S),g!=null&&(M["aria-invalid"]=g),j!=null&&(M["aria-label"]=j),D!=null&&(M["aria-labelledby"]=D),k!=null&&(M["aria-required"]=k),N.cloneElement(y,$e((u={},u[w]=function(O){t.input=O},u.value=t.getInputValue(),u.onBlur=t.handleBlur,u.onChange=t.handleChange,u.onClick=t.onInputClick,u.onFocus=t.handleFocus,u.onKeyDown=t.onInputKeyDown,u.id=t.props.id,u.name=t.props.name,u.form=t.props.form,u.autoFocus=t.props.autoFocus,u.placeholder=t.props.placeholderText,u.disabled=t.props.disabled,u.autoComplete=t.props.autoComplete,u.className=qt(y.props.className,b),u.title=t.props.title,u.readOnly=t.props.readOnly,u.required=t.props.required,u.tabIndex=t.props.tabIndex,u),M))},t.renderClearButton=function(){var o=t.props,u=o.isClearable,d=o.disabled,m=o.selected,x=o.startDate,p=o.endDate,v=o.clearButtonTitle,b=o.clearButtonClassName,y=b===void 0?"":b,w=o.ariaLabelClose,M=w===void 0?"Close":w,S=o.selectedDates,g=o.readOnly;return u&&!g&&(m!=null||x!=null||p!=null||S?.length)?ae.createElement("button",{type:"button",className:qt("react-datepicker__close-icon",y,{"react-datepicker__close-icon--disabled":d}),disabled:d,"aria-label":M,onClick:t.onClearClick,title:v,tabIndex:-1}):null},t.state=t.calcInitialState(),t.preventFocusTimeout=void 0,t}return Object.defineProperty(l,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:j1,readOnly:!1,rangeSeparator:x1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:po,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},l.prototype.componentDidUpdate=function(r,t){var o,u,d,m;this.props.selectsRange&&_b(r.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):_b(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&t.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Cb(this.props.highlightDates)}),!t.focused&&!Ts(r.selected,this.props.selected)&&this.setState({inputValue:null}),t.open!==this.state.open&&(t.open===!1&&this.state.open===!0&&((u=(o=this.props).onCalendarOpen)===null||u===void 0||u.call(o)),t.open===!0&&this.state.open===!1&&((m=(d=this.props).onCalendarClose)===null||m===void 0||m.call(d)))},l.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},l.prototype.renderInputContainer=function(){var r=this.props,t=r.showIcon,o=r.icon,u=r.calendarIconClassname,d=r.calendarIconClassName,m=r.toggleCalendarOnIconClick,x=this.state.open;return u&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ae.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&ae.createElement(b3,$e({icon:o,className:qt(d,!d&&u,x&&"react-datepicker-ignore-onclickoutside")},m?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},l.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var t=this.state.open?ae.createElement(S1,{enableTabLoop:this.props.enableTabLoop},ae.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(t=ae.createElement(w1,$e({portalId:this.props.portalId},this.props),t)),ae.createElement(ae.Fragment,null,this.renderInputContainer(),t)}return ae.createElement(w3,$e({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},l})(N.Component),C3="input",jf="navigate";function Et({open:s,onClose:l,title:r,children:t,wide:o}){const u=N.useRef(null);return N.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[s]),N.useEffect(()=>{function d(m){m.key==="Escape"&&l()}return s&&window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[s,l]),s?a.jsxs("div",{ref:u,className:"fixed inset-0 z-50 flex items-start justify-center pt-[5vh] sm:pt-[10vh] px-4",onClick:d=>{d.target===u.current&&l()},children:[a.jsx("div",{className:"fixed inset-0 bg-black/60"}),a.jsxs("div",{className:`relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full ${o?"max-w-2xl":"max-w-lg"} max-h-[80vh] flex flex-col animate-fade-in`,children:[a.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-[var(--border-light)] shrink-0",children:[a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:r}),a.jsx("button",{onClick:l,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:a.jsx(uo,{size:16})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:t})]})]}):null}function ee({label:s,required:l,error:r,children:t}){return a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:[s,l&&a.jsx("span",{className:"text-rose-500 ml-0.5",children:"*"})]}),t,r&&a.jsx("p",{className:"text-xs text-rose-500 mt-1",children:r})]})}function be({value:s,onChange:l,placeholder:r,type:t="text",sensitive:o,...u}){const{masked:d}=zn();return a.jsx("input",{type:t,value:s,onChange:m=>l(m.target.value),placeholder:r,className:`w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors ${o&&d?"sensitive-blur":""}`,...u})}function Rn({value:s,onChange:l,...r}){const t=s?new Date(s+"T00:00:00"):null;function o(u){if(!u){l("");return}const d=u.getFullYear(),m=String(u.getMonth()+1).padStart(2,"0"),x=String(u.getDate()).padStart(2,"0");l(`${d}-${m}-${x}`)}return a.jsxs("div",{className:"relative cf-datepicker",children:[a.jsx(S3,{selected:t,onChange:o,dateFormat:"dd MMM yyyy",maxDate:new Date,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",placeholderText:"Select date",className:"w-full px-3 py-2 pr-9 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",...r}),a.jsx($S,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function Re({value:s,onChange:l,options:r,placeholder:t}){return a.jsxs("select",{value:s,onChange:o=>l(o.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",children:[t&&a.jsx("option",{value:"",children:t}),r.map(o=>a.jsx("option",{value:o.value,children:o.label},o.value))]})}function Bl({value:s,onChange:l,placeholder:r,rows:t=3}){return a.jsx("textarea",{value:s,onChange:o=>l(o.target.value),placeholder:r,rows:t,className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors resize-none"})}function k3({checked:s,onChange:l,label:r}){return a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:s,onChange:t=>l(t.target.checked),className:"w-4 h-4 rounded border-[var(--border-input)] bg-[var(--bg-input)] text-violet-500 focus:ring-violet-500"}),a.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:r})]})}function xa({onCancel:s,onSubmit:l,submitLabel:r="Save",loading:t}){return a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 mt-4 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:s,disabled:t,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),a.jsxs("button",{onClick:l,disabled:t,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[t&&a.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),t?"Saving...":r]})]})}function hr({onClick:s,label:l="Deactivate"}){return a.jsx("button",{onClick:s,className:"px-4 py-2 text-xs font-semibold text-rose-400 hover:text-rose-300 hover:bg-rose-500/10 rounded-lg transition-colors",children:l})}const Ob=[{key:"sip",label:"Adjust SIP",icon:tC,color:"text-blue-400",dimColor:"text-blue-400/60 hover:text-blue-400",activeBg:"bg-blue-500/20 border border-blue-500/40"},{key:"lumpsum",label:"Lumpsum",icon:M5,color:"text-emerald-400",dimColor:"text-emerald-400/60 hover:text-emerald-400",activeBg:"bg-emerald-500/20 border border-emerald-500/40"},{key:"buysell",label:"Buy / Sell",icon:FS,color:"text-amber-400",dimColor:"text-amber-400/60 hover:text-amber-400",activeBg:"bg-amber-500/20 border border-amber-500/40"}];function ks(s){return s>=1e5?`${(s/1e5).toFixed(1)}L`:s>=1e3?`${(s/1e3).toFixed(0)}K`:`${Math.round(s)}`}function wp({exitOnly:s}){return a.jsx("div",{className:"py-4 text-center space-y-1",children:s?a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Only exit candidates here  use ",a.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab"]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No target allocations set"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Use ",a.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund first"]})]})})}function D3({portfolio:s,holdings:l,totalValue:r}){const t=s.sipTarget||0,o=(s.rebalanceThreshold||.05)*100,u=l.some(y=>y.targetAllocationPct>0),d=l.some(y=>y.targetAllocationPct===0&&y.units>0);if(!u)return a.jsx(wp,{exitOnly:d});if(t<=0)return a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"No SIP target set for this portfolio"});const m=l.filter(y=>y.targetAllocationPct>0).map(y=>{const w=r>0?y.currentValue/r*100:0,M=Math.abs(w-y.targetAllocationPct),S=M>o,j=y.targetAllocationPct/100*r-y.currentValue,D=y.targetAllocationPct/100*t;return{...y,currentPct:w,drift:M,drifted:S,gap:j,normalSIP:D}}),x=m.filter(y=>y.drifted&&y.gap>0);m.filter(y=>y.drifted&&y.gap<=0);const p=x.reduce((y,w)=>y+w.gap,0),v=m.map(y=>({...y,suggestedSIP:y.drifted&&y.gap>0&&p>0?y.gap/p*t:y.drifted&&y.gap<=0?0:y.normalSIP}));return m.some(y=>y.drifted)?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Funds drifted >",o.toFixed(0),"%: overweight  0, underweight  extra SIP. Others keep normal SIP."]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Normal SIP"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Rebalance SIP"})]})}),a.jsx("tbody",{children:v.map(y=>{const w=y.drifted&&y.gap<=0,M=y.drifted&&y.gap>0,S=!y.drifted;return a.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${S?"opacity-50":w?"opacity-60":""}`,children:[a.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:y.fundName}),a.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[a.jsxs("span",{className:w?"text-amber-400":M?"text-blue-400":"text-[var(--text-dim)]",children:[y.currentPct.toFixed(1),"%"]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:[" / ",y.targetAllocationPct.toFixed(1),"%"]})]}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:ks(y.normalSIP)}),a.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:w?a.jsx("span",{className:"text-amber-400/70",children:"0"}):M?a.jsx("span",{className:"text-blue-400",children:ks(y.suggestedSIP)}):a.jsx("span",{className:"text-[var(--text-dim)]",children:ks(y.suggestedSIP)})})]},y.holdingId)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:ks(t)}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-blue-400 tabular-nums",children:ks(t)})]})})]})})]}):a.jsxs("p",{className:"text-xs text-[var(--text-dim)] py-2",children:["SIPs are balanced (within ",o.toFixed(0),"% threshold)"]})}function M3({portfolio:s,holdings:l,totalValue:r}){const[t,o]=N.useState("");(s.rebalanceThreshold||.05)*100;const u=l.some(S=>S.targetAllocationPct>0),d=l.some(S=>S.targetAllocationPct===0&&S.units>0);if(!u)return a.jsx(wp,{exitOnly:d});const m=l.filter(S=>S.targetAllocationPct>0).map(S=>{const g=r>0?S.currentValue/r*100:0;return{...S,currentPct:g}}),x=N.useMemo(()=>{if(r<=0||m.length===0)return 0;const S=m.filter(k=>{const O=k.targetAllocationPct/100*r;return k.currentValue<O});if(S.length===0)return 0;const g=S.reduce((k,O)=>k+O.targetAllocationPct,0);if(g>=100)return 0;const j=S.reduce((k,O)=>k+O.currentValue,0),D=(g/100*r-j)/(1-g/100);return D>0?Math.ceil(D/100)*100:0},[m,r]),p=Number(t)||s.lumpsumTarget||x,v=N.useMemo(()=>{const S=p>0?r+p:r,g=m.map(D=>{const k=D.targetAllocationPct/100*S,O=p>0?Math.max(0,k-D.currentValue):0,T=S>0?(D.currentValue+O)/S*100:0,H=D.currentValue>k+1;return{...D,invest:O,newPct:T,isOverweight:H}}),j=g.reduce((D,k)=>D+k.invest,0);if(p>0&&j>0&&Math.abs(j-p)>1){const D=p/j;return g.map(k=>({...k,invest:k.invest>0?k.invest*D:0,newPct:S>0?(k.currentValue+(k.invest>0?k.invest*D:0))/S*100:0}))}return g},[m,p,r]),b=v.reduce((S,g)=>S+g.invest,0),y=v.some(S=>S.isOverweight),w=Number(t),M=w>0&&x>0&&w<x;return a.jsxs("div",{className:"space-y-2",children:[x>0&&a.jsx("div",{className:"flex items-center gap-2 px-2.5 py-1.5 rounded-md bg-emerald-500/10 border border-emerald-500/20",children:a.jsxs("p",{className:"text-xs text-emerald-400",children:[a.jsx("span",{className:"font-bold",children:G(x)})," needed to bring all underweight funds to target %"]})}),a.jsxs("div",{className:"flex items-end gap-3",children:[a.jsx("div",{className:"flex-1 max-w-[200px]",children:a.jsx(ee,{label:"Invest Amount ()",children:a.jsx(be,{type:"number",value:t,onChange:o,placeholder:x>0?`${G(x)}`:"Enter amount..."})})}),!w&&!s.lumpsumTarget&&x>0&&a.jsx("p",{className:"text-xs text-emerald-400/70 pb-2.5",children:"Using suggested"}),!w&&s.lumpsumTarget>=100&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] pb-2.5",children:"Using lumpsum target"})]}),M&&a.jsxs("p",{className:"text-xs text-amber-400/80 px-1",children:["Below minimum  distributes proportionally but won't fully rebalance. Need ",G(x)," for exact target %."]}),v.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Invest"})]})}),a.jsx("tbody",{children:v.map(S=>a.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${S.invest===0?"opacity-50":""}`,children:[a.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:S.fundName}),a.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[a.jsxs("span",{className:S.isOverweight?"text-amber-400":S.invest>0?"text-blue-400":"text-[var(--text-dim)]",children:[S.currentPct.toFixed(1),"%"]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:["  ",S.newPct.toFixed(1),"%"]})]}),a.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:S.isOverweight?a.jsx("span",{className:"text-amber-400/70 text-xs",children:"Overweight"}):S.invest>0?a.jsx("span",{className:"text-emerald-400",children:ks(S.invest)}):a.jsx("span",{className:"text-[var(--text-dim)] text-xs",children:"Balanced"})})]},S.holdingId))}),b>0&&a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-emerald-400 tabular-nums",children:G(b)})]})})]})}):a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2 text-center",children:"All funds balanced"}),y&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Overweight funds can't be fixed by buying. Use ",a.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab to sell overweight and buy underweight."]})]})}function A3({portfolio:s,holdings:l,totalValue:r}){const t=(s.rebalanceThreshold||.05)*100,o=l.some(m=>m.targetAllocationPct>0),u=l.some(m=>m.targetAllocationPct===0&&m.units>0);if(!o&&!u)return a.jsx(wp,{});const d=l.filter(m=>m.targetAllocationPct>0||m.units>0).map(m=>{const x=r>0?m.currentValue/r*100:0,p=m.targetAllocationPct===0&&m.units>0,v=p||Math.abs(x-m.targetAllocationPct)>t,b=m.targetAllocationPct/100*r,y=v?b-m.currentValue:0;return{...m,currentPct:x,amount:y,isExit:p}}).filter(m=>Math.abs(m.amount)>=500);return d.length===0?a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"Portfolio is balanced"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Drift"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Action"})]})}),a.jsx("tbody",{children:d.map(m=>{const x=m.amount>0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:m.fundName}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:m.isExit?a.jsxs("span",{className:"text-[var(--accent-rose)]",children:[m.currentPct.toFixed(1),"%  Exit"]}):`${m.currentPct.toFixed(1)}%  ${m.targetAllocationPct.toFixed(1)}%`}),a.jsx("td",{className:"py-2 px-2 text-right",children:a.jsxs("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${x?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[x?"Buy":m.isExit?"Exit":"Sell"," ",ks(Math.abs(m.amount))]})})]},m.schemeCode||m.fundCode)})})]})})}function C1(){const{mfHoldings:s,mfPortfolios:l}=Ke(),[r,t]=N.useState("buysell"),o=N.useMemo(()=>l.filter(x=>x.status!=="Inactive").map(x=>{const p=s.filter(S=>S.portfolioId===x.portfolioId&&S.units>0),v=p.reduce((S,g)=>S+g.currentValue,0),b=(x.rebalanceThreshold||.05)*100,y=p.filter(S=>{if(S.targetAllocationPct<=0)return!1;const g=v>0?S.currentValue/v*100:0;return Math.abs(g-S.targetAllocationPct)>b}).length,w=p.filter(S=>S.targetAllocationPct===0&&S.units>0&&S.currentValue>=500).length,M=p.some(S=>S.targetAllocationPct>0);return{...x,holdings:p,totalValue:v,driftedCount:y,exitCount:w,hasTargets:M}}).filter(x=>x.driftedCount>0||x.exitCount>0),[l,s]);if(o.length===0){const x=s.some(p=>p.targetAllocationPct>0);return a.jsx("div",{className:"py-8 text-center",children:x?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"All portfolios are balanced"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"No funds exceed their rebalance threshold"})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No target allocations set"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:["Use ",a.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund, then rebalance will show drift"]})]})})}const d=o.some(x=>(x.sipTarget||0)>=500)?Ob:Ob.filter(x=>x.key!=="sip"),m=d.some(x=>x.key===r)?r:d[0]?.key||"buysell";return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex bg-[var(--bg-inset)] rounded-lg p-0.5",children:d.map(({key:x,label:p,icon:v,color:b,dimColor:y,activeBg:w})=>a.jsxs("button",{onClick:()=>t(x),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-semibold transition-colors ${m===x?`${w} ${b} shadow-sm`:y}`,children:[a.jsx(v,{size:13})," ",p]},x))}),o.map((x,p)=>a.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-violet-500/50 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between px-3 py-2.5 bg-[var(--bg-inset)]",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center",children:p+1}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:x.portfolioName}),a.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:x.ownerName}),x.driftedCount>0&&a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[x.driftedCount," drifted"]}),x.exitCount>0&&a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-rose-500/15 text-[var(--accent-rose)]",children:[x.exitCount," exit"]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-muted)]",children:[a.jsx("span",{className:"font-semibold text-[var(--text-secondary)]",children:G(x.totalValue)}),a.jsxs("span",{children:["Threshold: ",((x.rebalanceThreshold||.05)*100).toFixed(0),"%"]}),x.sipTarget>=100&&a.jsxs("span",{children:["SIP: ",G(x.sipTarget),"/mo"]})]})]}),a.jsxs("div",{className:"px-3 py-2",children:[m==="sip"&&a.jsx(D3,{portfolio:x,holdings:x.holdings,totalValue:x.totalValue}),m==="lumpsum"&&a.jsx(M3,{portfolio:x,holdings:x.holdings,totalValue:x.totalValue}),m==="buysell"&&a.jsx(A3,{portfolio:x,holdings:x.holdings,totalValue:x.totalValue})]})]},x.portfolioId))]})}const T3="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png",Rb={mf:{label:"Mutual Funds",color:"bg-violet-500",order:1,route:"/investments/mutual-funds"},stocks:{label:"Stocks",color:"bg-blue-500",order:2,route:"/investments/stocks"},Debt:{label:"Debt",color:"bg-cyan-500",order:3,route:"/investments/other"},Gold:{label:"Gold",color:"bg-amber-500",order:4,route:"/investments/other"},Silver:{label:"Silver",color:"bg-slate-400",order:5,route:"/investments/other"},Property:{label:"Real Estate",color:"bg-orange-500",order:6,route:"/investments/other"},Alternative:{label:"Alternative",color:"bg-violet-400",order:7,route:"/investments/other"},Equity:{label:"Equity",color:"bg-emerald-500",order:8,route:"/investments/other"},Other:{label:"Other",color:"bg-gray-500",order:9,route:"/investments/other"}},Bc=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],Lb=["bg-violet-500","bg-rose-500","bg-blue-500","bg-amber-500","bg-emerald-500"],E3=[{label:"Family Members",path:"/family",match:"/family"},{label:"Bank Accounts",path:"/accounts/bank",match:"/accounts/bank"},{label:"Investment Accounts",path:"/accounts/investment",match:"/accounts/investment"},{label:"Insurance",path:"/insurance",match:"/insurance"},{label:"Mutual Funds",path:"/investments/mutual-funds",match:"/investments/mutual-funds"},{label:"Stocks",path:"/investments/stocks",match:"/investments/stocks"},{label:"Other Investments",path:"/investments/other",match:"/investments/other"},{label:"Goals",path:"/goals",match:"/goals"}],_3={buyopp:"Buying Opportunities",rebalance:"Rebalance Alerts"};function O3({onMenuClick:s}){const{theme:l,toggle:r}=py(),{selectedMember:t,setSelectedMember:o,familyMembers:u}=Jt(),{mfPortfolios:d,mfHoldings:m,stockPortfolios:x,stockHoldings:p,otherInvList:v,liabilityList:b,refreshData:y,isRefreshing:w}=Ke(),{user:M,signOut:S}=Is(),{masked:g,toggleMask:j,mv:D}=zn(),k=Ls(),O=nn(),{criticalAlerts:T,upcomingReminders:H,investmentSignals:I}=YC(),[R,z]=N.useState(!1),[L,V]=N.useState(!1),[A,le]=N.useState(null),[oe,re]=N.useState(!1),[q,Z]=N.useState(!1),[_,Q]=N.useState(!0),de=N.useRef(null),P=N.useRef(null),J=N.useRef(null),me=T.length+H.length,{buyOppCount:fe,buyCount:Se,strongBuyCount:ge,rebalanceCount:we}=I;N.useEffect(()=>{function he(Pe){de.current&&!de.current.contains(Pe.target)&&z(!1),P.current&&!P.current.contains(Pe.target)&&V(!1)}return(R||L)&&document.addEventListener("mousedown",he),()=>document.removeEventListener("mousedown",he)},[R,L]);const ke=u.findIndex(he=>he.memberId===t),qe=ke>=0?u[ke]:null,rt=N.useMemo(()=>{const he=(B,ne)=>t==="all"?B:B.filter(je=>je[ne]===t),Pe={},Ue=(B,ne,je,Fe)=>{Pe[B]||(Pe[B]={items:[],invested:0}),Pe[B].items.push({label:ne,value:je}),Pe[B].invested+=Fe};he((d||[]).filter(B=>B.status==="Active"),"ownerId").forEach(B=>{const ne=(m||[]).filter(Le=>Le.portfolioId===B.portfolioId&&Le.units>0),je=ne.reduce((Le,ie)=>Le+ie.currentValue,0),Fe=ne.reduce((Le,ie)=>Le+ie.investment,0);je>0&&Ue("mf",B.portfolioName?.replace(/^PFL-/,"")||B.portfolioName,je,Fe)}),he((x||[]).filter(B=>B.status==="Active"),"ownerId").forEach(B=>{const ne=(p||[]).filter(Le=>Le.portfolioId===B.portfolioId),je=ne.reduce((Le,ie)=>Le+ie.currentValue,0),Fe=ne.reduce((Le,ie)=>Le+ie.totalInvestment,0);je>0&&Ue("stocks",B.portfolioName,je,Fe)}),he((v||[]).filter(B=>B.status==="Active"),"familyMemberId").forEach(B=>{const ne=B.investmentCategory||"Other";Ue(ne,B.investmentName||B.investmentType||"Other",B.currentValue,B.investedAmount||0)});const ta=Object.entries(Pe).map(([B,{items:ne,invested:je}])=>{const Fe=Rb[B]||Rb.Other,Le=ne.reduce((ie,Nt)=>ie+Nt.value,0);return{key:B,label:Fe.label,color:Fe.color,order:Fe.order,route:Fe.route,total:Le,invested:je,items:ne.sort((ie,Nt)=>Nt.value-ie.value)}}).filter(B=>B.total>0).sort((B,ne)=>B.order-ne.order),pt=he((b||[]).filter(B=>B.status==="Active"),"familyMemberId"),aa=pt.map(B=>({label:B.liabilityName||B.liabilityType||"Loan",value:B.outstandingBalance})),ua=pt.reduce((B,ne)=>B+ne.outstandingBalance,0),Lt=ta.reduce((B,ne)=>B+ne.total,0),br=ta.reduce((B,ne)=>B+ne.invested,0);return{netWorth:Lt-ua,totalInv:Lt,totalInvested:br,sections:ta,totalLiab:ua,liabilities:aa}},[t,d,m,x,p,v,b]);function Rt(){z(!1),V(!1)}function vn(){if(!J.current)return;const{scrollLeft:he,scrollWidth:Pe,clientWidth:Ue}=J.current;Z(he>5),Q(he+Ue<Pe-5)}function $t(he){if(!J.current)return;const Ue=(J.current.querySelector("a")?.offsetWidth||240)+12;J.current.scrollBy({left:he*Ue,behavior:"smooth"})}return N.useEffect(()=>{vn()},[rt,oe]),a.jsxs("header",{className:"sticky top-0 z-30 shrink-0",children:[a.jsx("style",{children:`
        @keyframes glow-emerald {
          0%, 100% { box-shadow: 0 0 6px rgba(16,185,129,0.3), 0 0 12px rgba(16,185,129,0.15); }
          50% { box-shadow: 0 0 12px rgba(16,185,129,0.5), 0 0 24px rgba(16,185,129,0.25); }
        }
        @keyframes glow-violet {
          0%, 100% { box-shadow: 0 0 6px rgba(139,92,246,0.3), 0 0 12px rgba(139,92,246,0.15); }
          50% { box-shadow: 0 0 12px rgba(139,92,246,0.5), 0 0 24px rgba(139,92,246,0.25); }
        }
        .glow-emerald { animation: glow-emerald 2s ease-in-out infinite; }
        .glow-violet { animation: glow-violet 2s ease-in-out infinite; }
      `}),a.jsx("div",{className:"relative z-10 bg-[var(--bg-header)]/95 backdrop-blur-sm border-b border-[var(--border)]",children:a.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:s,className:"lg:hidden p-2 -ml-1.5 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:a.jsx(q5,{size:20})}),a.jsx("img",{src:T3,alt:"Capital Friends",className:"h-10"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[fe>0&&a.jsxs("button",{onClick:()=>{le(A==="buyopp"?null:"buyopp"),Rt()},className:`glow-emerald flex items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${A==="buyopp"?"bg-emerald-500/30 text-emerald-300 ring-1 ring-emerald-400/50":"bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25"}`,children:[a.jsx(Iu,{size:13,strokeWidth:2.5}),a.jsx("span",{className:"hidden sm:inline",children:ge>0?"Buy Opportunities":"Buying Opportunities"}),ge>0&&a.jsxs("span",{className:"text-[11px] bg-emerald-500/30 px-1.5 py-0.5 rounded-full",children:[ge," Strong"]}),Se>0&&a.jsxs("span",{className:"text-[11px] bg-emerald-500/20 px-1.5 py-0.5 rounded-full",children:[Se," Buy"]})]}),we>0&&a.jsxs("button",{onClick:()=>{le(A==="rebalance"?null:"rebalance"),Rt()},className:`glow-violet flex items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${A==="rebalance"?"bg-violet-500/30 text-violet-300 ring-1 ring-violet-400/50":"bg-violet-500/15 text-violet-400 hover:bg-violet-500/25"}`,children:[a.jsx(Al,{size:13,strokeWidth:2.5}),a.jsx("span",{className:"hidden sm:inline",children:"Rebalance Alerts"}),a.jsx("span",{className:"text-[11px] bg-violet-500/30 px-1.5 py-0.5 rounded-full",children:we})]}),a.jsx("button",{onClick:()=>y(!0),disabled:w,className:`p-2 rounded-lg transition-colors ${w?"text-blue-400 cursor-not-allowed":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:"Sync data from Google Sheets",children:a.jsx(Al,{size:18,className:w?"animate-spin":""})}),a.jsx("button",{onClick:j,className:`p-2 rounded-lg transition-colors ${g?"text-amber-400 bg-amber-500/10":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:g?"Data masked  click to reveal":"Mask sensitive data",children:g?a.jsx(nu,{size:18}):a.jsx(op,{size:18})}),a.jsx("button",{onClick:r,className:"p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",title:`Switch to ${l==="dark"?"light":"dark"} mode`,children:l==="dark"?a.jsx(Rf,{size:18}):a.jsx(Ty,{size:18})}),me>0&&a.jsxs("div",{className:"relative",ref:P,children:[a.jsxs("button",{onClick:()=>{V(!L),z(!1)},className:"relative p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(Ru,{size:18}),a.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-rose-500 rounded-full px-1",children:me})]}),L&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[a.jsx("div",{className:"px-3 py-2 border-b border-[var(--border-light)]",children:a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Notifications"})}),a.jsxs("div",{className:"max-h-[300px] overflow-y-auto py-1",children:[T.map((he,Pe)=>{const Ue={critical:"bg-rose-500",warning:"bg-amber-500",info:"bg-blue-500"}[he.type],oa={critical:"bg-rose-500/15 text-rose-400",warning:"bg-amber-500/15 text-amber-400",info:"bg-blue-500/15 text-blue-400"}[he.type];return a.jsxs("button",{onClick:()=>{V(!1),k(he.navigateTo)},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${Ue}`}),a.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 text-left truncate",children:he.title}),a.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${oa}`,children:he.badge})]},`c-${Pe}`)}),T.length>0&&H.length>0&&a.jsx("div",{className:"mx-3 my-1 border-t border-[var(--border-light)]"}),H.map(he=>{const Pe=he.days<=7?"bg-rose-500/15 text-rose-400":he.days<=15?"bg-amber-500/15 text-amber-400":"bg-slate-500/15 text-[var(--text-muted)]";return a.jsxs("button",{onClick:()=>{V(!1),k("/reminders")},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[a.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-amber-500"}),a.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 truncate",children:he.title}),a.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${Pe}`,children:he.days===0?"Today":he.days<=30?`${he.days}d`:he.dateStr})]},`r-${he.reminderId}`)})]})]})]}),a.jsxs("div",{className:"relative",ref:de,children:[a.jsxs("button",{onClick:()=>{z(!R),V(!1)},className:"flex items-center gap-1.5 pl-1 pr-2 py-1 rounded-full hover:bg-[var(--bg-hover)] transition-colors",children:[qe?a.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-br ${Bc[ke%Bc.length]} flex items-center justify-center text-white text-xs font-bold shadow-sm`,children:qe.memberName.charAt(0)}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm",children:a.jsx(_l,{size:14})}),a.jsx(cr,{size:14,className:`text-[var(--text-muted)] transition-transform ${R?"rotate-180":""}`})]}),R&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[a.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)]",children:a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Viewing as"})}),a.jsxs("div",{className:"py-1.5",children:[a.jsxs("button",{onClick:()=>{o("all"),z(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${t==="all"?"bg-violet-500/10":"hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm shrink-0",children:a.jsx(_l,{size:15})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`text-sm font-semibold truncate ${t==="all"?"text-violet-400":"text-[var(--text-primary)]"}`,children:"Everyone"}),a.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:"All family members"})]}),t==="all"&&a.jsx(P0,{size:16,className:"text-violet-400 shrink-0"})]}),u.length>0&&a.jsx("div",{className:"mx-4 my-1 border-t border-[var(--border-light)]"}),u.map((he,Pe)=>{const Ue=t===he.memberId;return a.jsxs("button",{onClick:()=>{o(he.memberId),z(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${Ue?`${Lb[Pe%Lb.length]}/10`:"hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("div",{className:`w-9 h-9 rounded-full bg-gradient-to-br ${Bc[Pe%Bc.length]} flex items-center justify-center text-white text-sm font-bold shadow-sm shrink-0`,children:he.memberName.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold truncate text-[var(--text-primary)]",children:D(he.memberName,"name")}),a.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:he.relationship||"Family member"})]}),Ue&&a.jsx(P0,{size:16,className:"text-emerald-400 shrink-0"})]},he.memberId)})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] py-1.5",children:[a.jsxs(Cl,{to:"/settings",onClick:()=>z(!1),className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(cp,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),M&&a.jsx("div",{className:"px-4 py-1.5",children:a.jsx("p",{className:"text-[11px] text-[var(--text-muted)] truncate",children:D(M.email,"email")})}),a.jsxs("button",{onClick:()=>{S(),z(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-rose-400 hover:bg-rose-500/10 transition-colors",children:[a.jsx(Ay,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"Sign out"})]})]})]})]})]})]})}),a.jsx(HC,{}),a.jsx("nav",{className:"bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)]",children:a.jsxs("div",{className:"flex items-center px-3 sm:px-4 py-1.5",children:[a.jsx("div",{className:"flex items-center gap-1 overflow-x-auto no-scrollbar flex-1 min-w-0",children:E3.map(he=>{const Pe=O.pathname.startsWith(he.match);return a.jsx(Cl,{to:he.path,className:`whitespace-nowrap px-3 py-1.5 rounded-lg text-[13px] font-medium transition-colors ${Pe?"bg-violet-500/15 text-violet-400":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:he.label},he.path)})}),a.jsxs("button",{onClick:()=>re(!oe),className:"shrink-0 ml-3 flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15 transition-colors",children:[a.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400/70",children:"Net Worth"}),a.jsx("span",{className:"text-sm font-extrabold text-emerald-400 tabular-nums",children:G(rt.netWorth)}),a.jsx(cr,{size:12,className:`text-emerald-400/60 transition-transform duration-200 ${oe?"rotate-180":""}`})]})]})}),oe&&a.jsx("div",{className:"bg-[var(--bg-card)]/90 backdrop-blur-sm border-b border-[var(--border-light)] animate-in slide-in-from-top-2 fade-in duration-200",children:a.jsxs("div",{className:"relative max-w-7xl mx-auto",children:[q&&a.jsx("button",{onClick:()=>$t(-1),className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 z-10 w-7 h-7 flex items-center justify-center rounded-full bg-[var(--bg-card)] border border-[var(--border)] shadow-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:a.jsx(yy,{size:14})}),a.jsxs("div",{ref:J,onScroll:vn,className:"flex gap-3 px-12 sm:px-14 py-3 overflow-x-auto scroll-smooth snap-x snap-mandatory no-scrollbar",children:[rt.sections?.map(he=>a.jsxs(Cl,{to:he.route,className:"group snap-start shrink-0 w-[calc(50%-6px)] sm:w-[calc(33.333%-8px)] lg:w-[calc(25%-9px)] rounded-lg p-3 bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)] border border-[var(--border-light)] transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold uppercase tracking-wider text-[var(--text-muted)]",children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${he.color}`}),he.label]}),a.jsx(eo,{size:10,className:"text-[var(--text-dim)] opacity-0 group-hover:opacity-100 transition-opacity"})]}),a.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums mb-1",children:G(he.total)}),he.items.length>0&&a.jsx("div",{className:"space-y-0.5",children:he.items.map(Pe=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)] truncate mr-2",children:Pe.label}),a.jsx("span",{className:"text-[11px] text-[var(--text-muted)] tabular-nums shrink-0",children:G(Pe.value)})]},Pe.label))})]},he.key)),rt.totalLiab>0&&a.jsxs(Cl,{to:"/liabilities",className:"group snap-start shrink-0 w-[calc(50%-6px)] sm:w-[calc(33.333%-8px)] lg:w-[calc(25%-9px)] rounded-lg p-3 bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)] border border-[var(--border-light)] transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold uppercase tracking-wider text-[var(--text-muted)]",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-500"}),"Liabilities"]}),a.jsx(eo,{size:10,className:"text-[var(--text-dim)] opacity-0 group-hover:opacity-100 transition-opacity"})]}),a.jsxs("p",{className:"text-base font-bold text-[var(--accent-rose)] tabular-nums mb-1",children:["",G(rt.totalLiab)]}),rt.liabilities?.length>0&&a.jsx("div",{className:"space-y-0.5",children:rt.liabilities.map(he=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)] truncate mr-2",children:he.label}),a.jsx("span",{className:"text-[11px] text-[var(--accent-rose)]/70 tabular-nums shrink-0",children:G(he.value)})]},he.label))})]})]}),_&&a.jsx("button",{onClick:()=>$t(1),className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 z-10 w-7 h-7 flex items-center justify-center rounded-full bg-[var(--bg-card)] border border-[var(--border)] shadow-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:a.jsx(eo,{size:14})})]})}),A&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-16 sm:pt-24 px-3",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>le(null)}),a.jsxs("div",{className:"relative w-full max-w-3xl max-h-[75vh] rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-2xl shadow-black/40 overflow-hidden flex flex-col animate-in fade-in slide-in-from-top-4 duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--border-light)] shrink-0",children:[a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:_3[A]}),a.jsx("button",{onClick:()=>le(null),className:"p-1.5 rounded-lg hover:bg-[var(--bg-hover)] text-[var(--text-dim)] transition-colors",children:a.jsx(uo,{size:16})})]}),a.jsxs("div",{className:"overflow-y-auto p-4",children:[A==="buyopp"&&a.jsx(zy,{}),A==="rebalance"&&a.jsx(C1,{})]})]})]})]})}const R3=[{label:"Invest",icon:kl,path:"/investments/mutual-funds"},{label:"Accounts",icon:no,path:"/accounts/bank"},{label:"Goals",icon:co,path:"/goals"},{label:"Reminders",icon:Ru,path:"/reminders"},{label:"More",icon:v5,path:"/more"}];function L3(){return a.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-[var(--bg-sidebar)] border-t border-[var(--border)] safe-bottom",children:a.jsx("div",{className:"flex items-center justify-around h-[56px]",children:R3.map(({label:s,icon:l,path:r})=>a.jsx(ap,{to:r,className:({isActive:t})=>`relative flex flex-col items-center justify-center gap-0.5 w-full h-full text-xs font-medium transition-colors ${t?"text-[var(--sidebar-active-text)]":"text-[var(--text-dim)]"}`,children:({isActive:t})=>a.jsxs(a.Fragment,{children:[t&&a.jsx("span",{className:"absolute top-0 w-10 h-[2.5px] bg-[var(--sidebar-active-text)] rounded-b-full"}),a.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-xl transition-colors ${t?"bg-[var(--sidebar-active-bg)]":""}`,children:a.jsx(l,{size:19,strokeWidth:t?2.2:1.5})}),a.jsx("span",{className:t?"font-semibold":"",children:s})]})},r))})})}const I3="/logo-small.png",wf=[{key:"auth",label:"Signing in"},{key:"data",label:"Loading your data"},{key:"health",label:"Checking health status"},{key:"ready",label:"Almost ready"}];function Au({phase:s="auth"}){const[l,r]=N.useState("");N.useEffect(()=>{const o=setInterval(()=>{r(u=>u.length>=3?"":u+".")},500);return()=>clearInterval(o)},[]);const t=wf.findIndex(o=>o.key===s);return a.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:a.jsxs("div",{className:"flex flex-col items-center gap-8",children:[a.jsx("img",{src:I3,alt:"Capital Friends",className:"h-16 w-16 animate-pulse"}),a.jsxs("div",{className:"flex flex-col items-center gap-4 min-w-[220px]",children:[wf.map((o,u)=>{const d=u===t,m=u<t;return a.jsxs("div",{className:"flex items-center gap-3 w-full",children:[a.jsx("div",{className:`flex-shrink-0 w-5 h-5 rounded-full flex items-center justify-center text-xs font-medium transition-all duration-300 ${m?"bg-green-500 text-white":d?"bg-violet-500 text-white animate-pulse":"bg-[var(--border)] text-[var(--text-muted)]"}`,children:m?"":u+1}),a.jsxs("span",{className:`text-sm transition-all duration-300 ${m?"text-green-400":d?"text-[var(--text-primary)] font-medium":"text-[var(--text-muted)]"}`,children:[o.label,d?l:""]})]},o.key)}),a.jsx("div",{className:"w-full h-1 rounded-full bg-[var(--border)] overflow-hidden mt-2",children:a.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-violet-500 to-cyan-500 transition-all duration-500 ease-out",style:{width:`${(t+1)/wf.length*100}%`}})})]})]})})}function P3(){const[s,l]=N.useState(!1),{loading:r,error:t}=Ke();return r?a.jsx(Au,{}):t?a.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:a.jsxs("div",{className:"flex flex-col items-center gap-4 text-center px-6",children:[a.jsx("img",{src:"/logo-small.png",alt:"Capital Friends",className:"h-16 w-16 opacity-50"}),a.jsx("p",{className:"text-rose-400 text-sm font-medium",children:t}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-violet-600 hover:bg-violet-500 text-white transition-colors",children:"Retry"})]})}):a.jsxs("div",{className:"flex flex-col h-dvh bg-[var(--bg-base)] overflow-hidden",children:[a.jsx(O3,{onMenuClick:()=>l(!0)}),a.jsx(IC,{open:s,onClose:()=>l(!1)}),a.jsx("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-20 lg:pb-0",children:a.jsx("div",{className:"px-3 sm:px-4 py-3 sm:py-4 w-full max-w-7xl mx-auto",children:a.jsx(Eg,{})})}),a.jsx(L3,{})]})}function z3(){const{isAuthenticated:s,loading:l}=Is(),{healthCheckCompleted:r,loading:t}=Ke(),o=nn();return l&&!s?a.jsx(Au,{phase:"auth"}):!s&&!l?a.jsx(du,{to:"/",replace:!0}):t?a.jsx(Au,{phase:"data"}):r===!1&&o.pathname!=="/health-check"?a.jsx(du,{to:"/health-check",replace:!0}):a.jsx(Eg,{})}const Ib="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png";function k1(){const{isAuthenticated:s,loading:l,error:r,signIn:t}=Is(),o=Ls(),[u,d]=N.useState(0),[m,x]=N.useState(!1),p=N.useRef(null),v=N.useCallback(()=>{p.current&&clearInterval(p.current),p.current=setInterval(()=>{x(M=>(M||d(S=>(S+1)%4),M))},5e3)},[]);N.useEffect(()=>(v(),()=>{p.current&&clearInterval(p.current)}),[v]);function b(M){d(M),v()}if(N.useEffect(()=>{s&&o("/dashboard",{replace:!0})},[s,o]),l)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#080d1a]",children:a.jsx("img",{src:"/logo-small.png",alt:"",className:"h-16 w-16 animate-pulse"})});const y=[{id:"ath",label:"ATH Tracking",icon:a.jsx(Tl,{size:18}),color:"emerald",tagline:"Spot Buying Opportunities",desc:"See how far each mutual fund is from its All-Time High NAV. When a quality fund dips 10-20% below ATH, it's your signal to invest more  via SIP increase or lumpsum.",mock:a.jsx(B3,{})},{id:"rebalance",label:"Rebalancing",icon:a.jsx(Al,{size:18}),color:"violet",tagline:"Know Exactly What to Buy or Sell",desc:"Set target allocation for each fund. When your portfolio drifts, Capital Friends tells you exactly how much to adjust  via SIP changes, lumpsum top-ups, or buy/sell actions.",mock:a.jsx(H3,{})},{id:"goals",label:"Goal Linking",icon:a.jsx(co,{size:18}),color:"cyan",tagline:"Link Portfolios to Goals",desc:"Create goals like retirement, child education, or emergency fund. Link MF portfolios with allocation percentages. Goal progress updates automatically as NAVs change daily.",mock:a.jsx(Y3,{})},{id:"dashboard",label:"Family View",icon:a.jsx(_l,{size:18}),color:"amber",tagline:"Everyone's Wealth, One Dashboard",desc:"Switch between family members in one click. See combined or individual net worth, investments, insurance, loans  everything your family owns, in one place.",mock:a.jsx(F3,{})}],w=y[u];return a.jsxs("div",{className:"min-h-screen bg-[#080d1a] text-slate-200",children:[a.jsx("header",{className:"sticky top-0 z-50 bg-[#0a0f1f]/95 backdrop-blur-sm border-b border-white/[0.06]",children:a.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[a.jsx("img",{src:Ib,alt:"Capital Friends",className:"h-12"}),a.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-600 to-cyan-600 text-white text-sm font-semibold hover:from-violet-500 hover:to-cyan-500 transition-all cursor-pointer",children:[a.jsx(zb,{s:14})," Sign In"]})]})}),a.jsxs("section",{className:"relative px-5 sm:px-8 lg:px-16 pt-10 sm:pt-14 pb-8 sm:pb-10 overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[400px] bg-violet-600/8 rounded-full blur-[120px] pointer-events-none"}),a.jsx("div",{className:"absolute top-20 right-1/4 w-[400px] h-[300px] bg-cyan-600/6 rounded-full blur-[100px] pointer-events-none"}),a.jsxs("div",{className:"relative text-center",children:[a.jsx("span",{className:"inline-block text-xs font-bold uppercase tracking-[0.2em] text-violet-400 bg-violet-500/10 border border-violet-500/20 rounded-full px-4 py-1.5 mb-5",children:"Always Free  100% Private  Your Google Sheet"}),a.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold leading-[1.1] tracking-tight text-white",children:["One dashboard for your family's"," ",a.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-cyan-400 bg-clip-text text-transparent",children:"entire wealth"})]}),a.jsxs("p",{className:"mt-5 text-base sm:text-lg text-slate-400 leading-relaxed max-w-2xl mx-auto",children:["Mutual funds, stocks, FDs, gold, insurance, loans  track everything for every family member. Manual entry means ",a.jsx("strong",{className:"text-white",children:"no bank credentials, no privacy risk"}),"."]}),r&&a.jsx("p",{className:"mt-5 text-sm text-rose-400",children:r})]})]}),a.jsxs("section",{className:"bg-gradient-to-b from-[#0d0a1a] to-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-10 sm:py-14",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3 flex-wrap justify-center",children:[a.jsx(El,{size:28,className:"text-amber-400 shrink-0"}),a.jsxs("span",{children:["What happens if something happens to ",a.jsx("span",{className:"text-amber-400",children:"you"}),"?"]})]}),a.jsxs("p",{className:"mt-4 text-lg text-slate-400 leading-relaxed",children:["Your family should know about every investment, every policy, every loan. Not someday. ",a.jsx("strong",{className:"text-white",children:"Right now."})]})]}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsx(Pb,{icon:a.jsx(op,{size:20}),color:"rose",title:"Without Capital Friends",items:["Scattered investments across 10+ platforms","Family has no idea what you own or owe","Insurance policies lost in email threads","Months of confusion, missed renewals, lost money"],bad:!0}),a.jsx(Pb,{icon:a.jsx(to,{size:20}),color:"emerald",title:"With Capital Friends",items:["One sheet  every investment, policy, and loan","Family receives email reports with full portfolio details","Reminders for SIPs, renewals, EMI payments","Complete clarity, instantly  when it matters most"]})]}),a.jsxs("p",{className:"text-center mt-8 text-base text-slate-500",children:["Built for ",a.jsx("strong",{className:"text-white",children:"you"})," to manage your wealth  and for your ",a.jsx("strong",{className:"text-white",children:"family"})," to access it when they need to."]})]}),a.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"How it Works"}),a.jsx("p",{className:"text-base text-slate-500",children:"Set up in 2 minutes  no bank credentials, no downloads"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-4",children:[a.jsx(Hc,{num:1,icon:a.jsx(z5,{size:24}),color:"violet",title:"Sign In with Google",desc:"Go to capitalfriends.in and sign in with your Google account. That's all  no registration form, no passwords."}),a.jsx(Hc,{num:2,icon:a.jsx(N5,{size:24}),color:"emerald",title:"App Creates Your Sheet",desc:"The app creates a private Google Sheet in your own Google Drive. This sheet stores all your financial data. Only you can see it  not even the developer."}),a.jsx(Hc,{num:3,icon:a.jsx(wy,{size:24}),color:"cyan",title:"Financial Health Check",desc:"Answer 7 simple yes/no questions about your financial health. Get your score and personalized recommendations instantly."}),a.jsx(Hc,{num:4,icon:a.jsx(Tl,{size:24}),color:"amber",title:"Start Tracking",desc:"Add family members, portfolios, goals, insurance, and loans. The app connects to AMFI for live mutual fund prices automatically."})]}),a.jsxs("p",{className:"text-center mt-10 text-sm text-slate-600",children:["Your sheet is named ",a.jsx("strong",{className:"text-slate-400",children:"Capital Friends - Your Name"})," and lives in your Google Drive. The web app is just a beautiful dashboard to view and manage it."]})]}),a.jsxs("section",{id:"features",className:"bg-[#0b1022] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",onMouseEnter:()=>x(!0),onMouseLeave:()=>{x(!1),v()},children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Features That Set Us Apart"}),a.jsx("p",{className:"text-base text-slate-500",children:"Things you won't find on other portfolio trackers"})]}),a.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 mb-10 flex-wrap",children:y.map((M,S)=>{const g=S===u,j={emerald:"border-emerald-500",violet:"border-violet-500",cyan:"border-cyan-500",amber:"border-amber-500"},D={emerald:"text-emerald-400",violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400"};return a.jsxs("button",{onClick:()=>b(S),className:`relative flex items-center gap-2 px-5 py-2.5 rounded-full border text-sm font-semibold transition-all cursor-pointer ${g?`${j[M.color]} bg-white/[0.05] ${D[M.color]}`:"border-white/[0.08] text-slate-500 hover:border-white/[0.15] hover:text-slate-300"}`,children:[a.jsx("span",{className:"shrink-0",children:M.icon}),M.label,g&&a.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-0.5 bg-white/[0.06] rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-current",style:{animation:"featureProgress 5s linear",animationPlayState:m?"paused":"running"}})})]},M.id)})}),a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-8 lg:gap-12",children:[a.jsxs("div",{className:"lg:flex-1 min-h-[280px]",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:w.tagline}),a.jsx("p",{className:"mt-3 text-base text-slate-400 leading-relaxed",children:w.desc}),w.id==="ath"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(sa,{c:"emerald",t:"ATH tracking only for funds in your portfolios"}),a.jsx(sa,{c:"emerald",t:"Color-coded signals: watch, consider, buy, strong buy"}),a.jsx(sa,{c:"emerald",t:"Increase SIP or invest lumpsum when funds dip"}),a.jsx(sa,{c:"emerald",t:"Daily NAV updates from AMFI data"})]}),w.id==="rebalance"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(sa,{c:"violet",t:"Adjust monthly SIP to rebalance gradually"}),a.jsx(sa,{c:"violet",t:"Lumpsum top-up for quick rebalance"}),a.jsx(sa,{c:"violet",t:"Buy/Sell amounts to match target"}),a.jsx(sa,{c:"violet",t:"Configurable threshold per portfolio"})]}),w.id==="goals"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(sa,{c:"cyan",t:"Link multiple MF portfolios to each goal"}),a.jsx(sa,{c:"cyan",t:"Built-in SIP + lumpsum calculator with inflation"}),a.jsx(sa,{c:"cyan",t:"Auto-status: On Track, Needs Attention, Achieved"}),a.jsx(sa,{c:"cyan",t:"Withdrawal planning for retirement goals"})]}),w.id==="dashboard"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(sa,{c:"amber",t:"One-click switch between family members"}),a.jsx(sa,{c:"amber",t:"Combined net worth across everyone"}),a.jsx(sa,{c:"amber",t:"MF, stocks, FD, gold, PPF, NPS, insurance"}),a.jsx(sa,{c:"amber",t:"Email reports sent to family automatically"})]})]}),a.jsx("div",{className:"lg:flex-1 min-w-0 min-h-[380px] flex flex-col justify-center",children:w.mock})]}),a.jsx("style",{children:`
          @keyframes featureProgress {
            from { width: 0% }
            to { width: 100% }
          }
        `})]}),a.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Everything You Need"}),a.jsx("p",{className:"text-base text-slate-500",children:"One dashboard for your entire financial life"})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[a.jsx(Gr,{icon:a.jsx(Ji,{size:20}),c:"rose",t:"Stock Portfolios",d:"Buy/sell tracking, average cost, P&L with live NSE prices"}),a.jsx(Gr,{icon:a.jsx(K5,{size:20}),c:"orange",t:"FD, Gold, PPF, NPS",d:"Track any investment type  all counted in net worth"}),a.jsx(Gr,{icon:a.jsx(to,{size:20}),c:"teal",t:"Insurance Tracker",d:"Life, health, term policies with premiums & renewal dates"}),a.jsx(Gr,{icon:a.jsx(no,{size:20}),c:"red",t:"Liabilities",d:"Loans & EMIs. Net worth = total assets minus debts"}),a.jsx(Gr,{icon:a.jsx(Ru,{size:20}),c:"yellow",t:"Smart Reminders",d:"SIP dates, renewals, EMI payments, maturity alerts"}),a.jsx(Gr,{icon:a.jsx(_l,{size:20}),c:"pink",t:"Family Sharing",d:"Invite family with Google accounts  shared dashboard"}),a.jsx(Gr,{icon:a.jsx(Al,{size:20}),c:"blue",t:"Daily Auto-Refresh",d:"NAVs and stock prices update automatically every day"}),a.jsx(Gr,{icon:a.jsx(mf,{size:20}),c:"emerald",t:"Complete Privacy",d:"No servers, no database, no tracking  your Sheet only"})]})]}),a.jsxs("section",{className:"border-y border-white/[0.06]",children:[a.jsxs("div",{className:"bg-[#0b1022] px-5 sm:px-8 lg:px-16 py-10 sm:py-14 text-center",children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3",children:[a.jsx(mf,{size:28,className:"text-emerald-400 shrink-0"}),"Your Data Never Leaves Google"]}),a.jsxs("p",{className:"mt-3 text-base sm:text-lg text-slate-400 leading-relaxed",children:["No backend server. No database. No tracking. The web app is a static site. Your spreadsheet lives in ",a.jsx("strong",{className:"text-white",children:"your Google Drive"}),". We literally cannot access your financial data."]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row",children:[a.jsx(kf,{icon:a.jsx(to,{size:20}),t:"Manual Entry Only",d:"No bank linking, no credentials shared. You type your data  no one else has access.",bg:"bg-[#0d1326]",c:"emerald"}),a.jsx(kf,{icon:a.jsx(mf,{size:20}),t:"Your Google Sheet",d:"A private spreadsheet in your Drive. Share only with family you choose.",bg:"bg-[#0f1530]",c:"violet"}),a.jsx(kf,{icon:a.jsx(pu,{size:20}),t:"Always Free",d:"No premium tier, no hidden fees, no ads. Free today, free forever.",bg:"bg-[#111838]",c:"amber"})]})]}),a.jsxs("section",{className:"bg-gradient-to-t from-[#080d1a] to-[#0d1128] border-t border-white/[0.06] px-5 sm:px-8 lg:px-16 py-16 text-center",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white",children:"Start managing your family's wealth today"}),a.jsx("p",{className:"mt-3 text-base text-slate-500",children:"Always free. No credit card. No bank linking. Just your Google account."}),a.jsxs("button",{onClick:t,className:"mt-8 inline-flex items-center gap-2.5 px-8 py-3.5 bg-gradient-to-r from-violet-600 to-cyan-600 text-white font-bold text-base rounded-xl hover:from-violet-500 hover:to-cyan-500 shadow-lg shadow-violet-900/30 transition-all hover:scale-[1.02] cursor-pointer",children:[a.jsx(zb,{s:20})," Sign in with Google  It's Free"]}),r&&a.jsx("p",{className:"mt-3 text-sm text-rose-400",children:r})]}),a.jsxs("footer",{className:"border-t border-white/[0.04] px-5 sm:px-8 lg:px-16 py-5 flex items-center justify-between",children:[a.jsx("img",{src:Ib,alt:"",className:"h-5 opacity-30"}),a.jsx("p",{className:"text-xs text-slate-600",children:"Your data. Your Google Drive. Your control."})]})]})}function Pb({icon:s,title:l,items:r,bad:t}){const o=t?"border-rose-500/15":"border-emerald-500/15",u=t?"bg-rose-500/[0.04]":"bg-emerald-500/[0.04]",d=t?"bg-rose-500/10 text-rose-400":"bg-emerald-500/10 text-emerald-400",m=t?"text-rose-400":"text-emerald-400";return a.jsxs("div",{className:`rounded-2xl border ${o} ${u} p-6`,children:[a.jsxs("h3",{className:`text-lg font-bold ${m} mb-4 flex items-center gap-2.5`,children:[a.jsx("span",{className:`flex items-center justify-center w-8 h-8 rounded-lg ${d} shrink-0`,children:s}),l]}),a.jsx("ul",{className:"space-y-3",children:r.map((x,p)=>a.jsxs("li",{className:"flex items-start gap-2.5",children:[t?a.jsx("span",{className:"text-rose-500/60 mt-0.5 shrink-0",children:""}):a.jsx($l,{size:16,className:"text-emerald-500 mt-0.5 shrink-0"}),a.jsx("span",{className:"text-sm text-slate-300 leading-relaxed",children:x})]},p))})]})}function F3(){return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f]",children:[a.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Dashboard"}),a.jsx("div",{className:"flex gap-1.5",children:["Everyone","Jagadeesh","Priya","Arjun"].map((s,l)=>a.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ${l===0?"bg-violet-500/20 text-violet-300":"text-slate-600"}`,children:s},s))})]}),a.jsxs("div",{className:"grid grid-cols-3 divide-x divide-white/[0.04]",children:[a.jsx(Sf,{l:"Net Worth",v:"45.2L",lc:"text-violet-400",vc:"text-white"}),a.jsx(Sf,{l:"Invested",v:"38.7L",lc:"text-slate-500",vc:"text-slate-300"}),a.jsx(Sf,{l:"P&L",v:"+6.5L",lc:"text-slate-500",vc:"text-emerald-400",extra:"+16.8%"})]}),a.jsxs("div",{className:"border-t border-white/[0.04]",children:[a.jsx(Cf,{n:"Axis Bluechip Fund",alloc:"30% / 25%",cur:"6.2L",pl:"+24.0%",ath:"5.2%",athC:"text-[#e67e00]",up:!0}),a.jsx(Cf,{n:"Parag Parikh Flexi Cap",alloc:"35% / 40%",cur:"4.8L",pl:"+37.1%",ath:"At ATH",athC:"text-emerald-500",up:!0}),a.jsx(Cf,{n:"SBI Small Cap Fund",alloc:"20% / 15%",cur:"1.8L",pl:"-10.0%",ath:"18.3%",athC:"text-[#d84315]",last:!0})]})]})}function B3(){const s=[{n:"HDFC Mid-Cap Opportunities",nav:"142.35",ath:"168.50",pct:"15.5%",color:"text-[#d84315]",signal:"Good Buy Signal",sigC:"text-[#d84315] bg-[#d84315]/15"},{n:"Axis Small Cap Fund",nav:"38.22",ath:"52.10",pct:"26.6%",color:"text-[#c62828]",signal:"Strong Buy",sigC:"text-[#c62828] bg-[#c62828]/15 font-bold"},{n:"Kotak Emerging Equity",nav:"89.10",ath:"92.40",pct:"3.6%",color:"text-[#b8860b]",signal:"Watch",sigC:"text-[#b8860b] bg-[#b8860b]/15"},{n:"Mirae Asset Large Cap",nav:"105.80",ath:"106.20",pct:"0.4%",color:"text-slate-500",signal:"Near ATH",sigC:"text-slate-500 bg-white/[0.04]"}];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Buy Opportunities"}),a.jsx("span",{className:"text-xs text-emerald-400 font-semibold bg-emerald-500/10 px-2.5 py-1 rounded-full",children:"2 signals"})]}),s.map((l,r)=>a.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${r<s.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:l.n}),a.jsxs("p",{className:"text-xs text-slate-600 mt-0.5",children:["NAV ","",l.nav,"  ATH ","",l.ath]})]}),a.jsxs("div",{className:"text-right shrink-0 ml-3",children:[a.jsxs("p",{className:`text-base font-bold tabular-nums ${l.color}`,children:[a.jsx(LS,{size:13,className:"inline -mt-0.5"})," ",l.pct]}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded ${l.sigC}`,children:l.signal})]})]},r))]})}function H3(){const[s,l]=N.useState(0),r=["SIP Adjust","Lumpsum","Buy / Sell"],t=["New SIP","Lumpsum Top-up","Action"],u=[[{n:"Axis Bluechip",val:"SIP 6,000",cur:"30%",tgt:"25%",action:"Stop SIP",actionC:"text-amber-400"},{n:"Parag Parikh Flexi",val:"SIP 7,000",cur:"35%",tgt:"40%",action:"12,000/mo",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"SIP 4,000",cur:"20%",tgt:"15%",action:"Stop SIP",actionC:"text-amber-400"},{n:"HDFC Large Cap",val:"SIP 3,000",cur:"15%",tgt:"20%",action:"8,000/mo",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"No action",actionC:"text-slate-600"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Invest 55,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"No action",actionC:"text-slate-600"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Invest 45,000",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Buy 50,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Buy 50,000",actionC:"text-emerald-400"}]][s];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Rebalance Portfolio"}),a.jsx("span",{className:"text-xs text-violet-400 font-semibold bg-violet-500/10 px-2.5 py-1 rounded-full",children:"4 off-target"})]}),a.jsx("div",{className:"flex border-b border-white/[0.04]",children:r.map((d,m)=>a.jsx("button",{onClick:()=>l(m),className:`flex-1 text-xs font-semibold py-2.5 text-center cursor-pointer transition-colors ${m===s?"text-violet-400 border-b-2 border-violet-400":"text-slate-600 hover:text-slate-400"}`,children:d},d))}),a.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 border-b border-white/[0.04] bg-[#0a0f1f]/50 flex-wrap",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"Portfolio Value"}),a.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","10,00,000"]}),s===0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xs text-slate-600",children:"|"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Total SIP"}),a.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","20,000"]})]}),s===1&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xs text-slate-600",children:"|"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Lumpsum"}),a.jsx("input",{type:"text",readOnly:!0,value:"1,00,000",className:"bg-white/[0.04] border border-white/[0.08] rounded-md px-2 py-1 text-sm text-white font-semibold tabular-nums w-24 text-right cursor-default outline-none"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 text-xs text-slate-600 font-semibold border-b border-white/[0.03]",children:[a.jsx("span",{children:"Fund / Value"}),a.jsx("span",{className:"text-center",children:"Current"}),a.jsx("span",{className:"text-center",children:"Target"}),a.jsx("span",{className:"text-right",children:t[s]})]}),u.map((d,m)=>a.jsxs("div",{className:`grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 items-center ${m<u.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("span",{className:"text-sm text-slate-300 truncate block",children:d.n}),a.jsxs("span",{className:"text-[10px] text-slate-600",children:["",d.val]})]}),a.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:d.cur}),a.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:d.tgt}),a.jsx("span",{className:`text-sm text-right font-semibold ${d.actionC}`,children:d.action})]},`${s}-${m}`))]})]})}function Y3(){const s=[{n:"Retirement",tgt:"2Cr",cur:"28.5L",pct:14,sip:"45,000",yrs:"18 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"Child Education",tgt:"50L",cur:"12.2L",pct:24,sip:"15,000",yrs:"12 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"New Car",tgt:"15L",cur:"4.1L",pct:27,sip:"12,000",yrs:"3 yrs",status:"Needs Attention",sc:"text-amber-400 bg-amber-500/15",bc:"bg-amber-500"}];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Goals"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"2 On Track"}),a.jsx("span",{className:"text-xs text-amber-400",children:"1 Needs Attention"})]})]}),s.map((l,r)=>a.jsxs("div",{className:`px-4 py-3.5 ${r<s.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:l.n}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${l.sc}`,children:l.status})]}),a.jsxs("span",{className:"text-xs text-slate-500",children:["",l.sip,"/mo  ",l.yrs]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1 h-2.5 rounded-full bg-white/[0.06] overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${l.bc}`,style:{width:`${l.pct}%`}})}),a.jsxs("span",{className:"text-sm font-semibold text-slate-300 tabular-nums w-10 text-right",children:[l.pct,"%"]})]}),a.jsxs("div",{className:"flex justify-between mt-1.5 text-xs text-slate-600",children:[a.jsxs("span",{children:["",l.cur," of ","",l.tgt]}),a.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[a.jsx(xu,{size:10})," 2 portfolios linked"]})]})]},r))]})}function zb({s=16}){return a.jsxs("svg",{viewBox:"0 0 24 24",width:s,height:s,className:"shrink-0",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function Sf({l:s,v:l,lc:r,vc:t,extra:o}){return a.jsxs("div",{className:"py-3.5 text-center",children:[a.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${r}`,children:s}),a.jsxs("p",{className:`text-lg font-bold tabular-nums mt-0.5 ${t}`,children:[l,o&&a.jsx("span",{className:"text-sm ml-1 text-emerald-400",children:o})]})]})}function Cf({n:s,alloc:l,cur:r,pl:t,ath:o,athC:u,up:d,last:m}){return a.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${m?"":"border-b border-white/[0.03]"}`,children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-300",children:s}),a.jsxs("p",{className:"text-xs text-slate-600",children:["Alloc ",l,"  ",a.jsx("span",{className:u,children:o!=="At ATH"?`${o} below ATH`:o})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-200 tabular-nums",children:r}),a.jsx("p",{className:`text-sm font-semibold tabular-nums ${d?"text-emerald-400":"text-rose-400"}`,children:t})]})]})}function sa({c:s,t:l}){const r={violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400",emerald:"text-emerald-400"};return a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx($l,{size:16,className:`${r[s]} shrink-0`}),a.jsx("span",{className:"text-sm text-slate-300",children:l})]})}function Hc({num:s,icon:l,color:r,title:t,desc:o}){const u={violet:["text-violet-400","bg-violet-500/10","border-violet-500/20","from-violet-500/20 to-violet-500/5"],emerald:["text-emerald-400","bg-emerald-500/10","border-emerald-500/20","from-emerald-500/20 to-emerald-500/5"],cyan:["text-cyan-400","bg-cyan-500/10","border-cyan-500/20","from-cyan-500/20 to-cyan-500/5"],amber:["text-amber-400","bg-amber-500/10","border-amber-500/20","from-amber-500/20 to-amber-500/5"]},[d,m,x,p]=u[r]||u.violet;return a.jsxs("div",{className:`relative rounded-2xl border ${x} bg-gradient-to-b ${p} p-6 text-center`,children:[a.jsx("span",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl ${m} ${d} mb-4`,children:l}),a.jsxs("span",{className:`absolute top-4 right-4 text-xs font-bold ${d} opacity-40`,children:["0",s]}),a.jsx("h3",{className:"text-base font-bold text-white mb-2",children:t}),a.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:o})]})}function kf({icon:s,t:l,d:r,bg:t,c:o}){const u={emerald:"text-emerald-400",violet:"text-violet-400",amber:"text-amber-400"};return a.jsxs("div",{className:`flex-1 ${t} px-5 sm:px-8 lg:px-10 py-6 sm:py-8 border-b sm:border-b-0 sm:border-r border-white/[0.04] last:border-0`,children:[a.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:`${u[o]} shrink-0`,children:s}),l]}),a.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:r})]})}const Fb={violet:["text-violet-400","bg-violet-500/8","border-violet-500/10"],blue:["text-blue-400","bg-blue-500/8","border-blue-500/10"],emerald:["text-emerald-400","bg-emerald-500/8","border-emerald-500/10"],cyan:["text-cyan-400","bg-cyan-500/8","border-cyan-500/10"],rose:["text-rose-400","bg-rose-500/8","border-rose-500/10"],orange:["text-orange-400","bg-orange-500/8","border-orange-500/10"],teal:["text-teal-400","bg-teal-500/8","border-teal-500/10"],red:["text-red-400","bg-red-500/8","border-red-500/10"],yellow:["text-yellow-400","bg-yellow-500/8","border-yellow-500/10"],pink:["text-pink-400","bg-pink-500/8","border-pink-500/10"]};function Gr({icon:s,c:l,t:r,d:t}){const[o,u,d]=Fb[l]||Fb.violet;return a.jsxs("div",{className:`rounded-xl border ${d} ${u} p-5`,children:[a.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:`${o} shrink-0`,children:s}),r]}),a.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:t})]})}function q3(){const{isAuthenticated:s,loading:l}=Is();return l?a.jsx(Au,{}):s?a.jsx(du,{to:"/investments/mutual-funds",replace:!0}):a.jsx(k1,{})}function U3(){const s=nn();return a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-violet-500/15 rounded-2xl flex items-center justify-center mb-4",children:a.jsx(o5,{size:32,className:"text-violet-400"})}),a.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)] mb-2",children:"Coming Soon"}),a.jsx("p",{className:"text-[var(--text-muted)] text-sm max-w-sm",children:"This page is under construction. Navigate using the sidebar to explore available sections."}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-3 font-mono",children:s.pathname})]})}const $3=["Savings Account","Current Account","Fixed Deposit (FD)","Recurring Deposit (RD)","NRE Account","NRO Account","Minor Account"].map(s=>({value:s,label:s}));function V3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o}=Ke(),u=!!s,[d,m]=N.useState({accountName:s?.accountName||"",memberId:s?.memberId||"",bankName:s?.bankName||"",accountNumber:s?.accountNumber||"",ifscCode:s?.ifscCode||"",branchName:s?.branchName||"",accountType:s?.accountType||"",status:s?.status||"Active"}),[x,p]=N.useState({}),[v,b]=N.useState(!1);function y(g,j){m(D=>({...D,[g]:j})),p(D=>({...D,[g]:void 0}))}function w(){const g={};return d.accountName.trim()||(g.accountName="Required"),d.memberId||(g.memberId="Required"),d.bankName.trim()||(g.bankName="Required"),String(d.accountNumber||"").trim()||(g.accountNumber="Required"),d.ifscCode.trim()||(g.ifscCode="Required"),d.branchName.trim()||(g.branchName="Required"),d.accountType||(g.accountType="Required"),p(g),Object.keys(g).length===0}async function M(){if(w()){b(!0);try{await l({...d,ifscCode:d.ifscCode.toUpperCase()})}finally{b(!1)}}}const S=o.map(g=>({value:g.memberId,label:`${g.memberName} (${g.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Account Name",required:!0,error:x.accountName,children:a.jsx(be,{value:d.accountName,onChange:g=>y("accountName",g),placeholder:"e.g., HDFC Savings"})}),a.jsx(ee,{label:"Family Member",required:!0,error:x.memberId,children:a.jsx(Re,{value:d.memberId,onChange:g=>y("memberId",g),options:S,placeholder:"Select member..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Bank Name",required:!0,error:x.bankName,children:a.jsx(be,{value:d.bankName,onChange:g=>y("bankName",g),placeholder:"e.g., HDFC Bank"})}),a.jsx(ee,{label:"Account Type",required:!0,error:x.accountType,children:a.jsx(Re,{value:d.accountType,onChange:g=>y("accountType",g),options:$3,placeholder:"Select type..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Account Number",required:!0,error:x.accountNumber,children:a.jsx(be,{sensitive:!0,value:d.accountNumber,onChange:g=>y("accountNumber",g),placeholder:"e.g., 1234567890"})}),a.jsx(ee,{label:"IFSC Code",required:!0,error:x.ifscCode,children:a.jsx(be,{value:d.ifscCode,onChange:g=>y("ifscCode",g.toUpperCase()),placeholder:"e.g., HDFC0001234",maxLength:11})})]}),a.jsx(ee,{label:"Branch Name",required:!0,error:x.branchName,children:a.jsx(be,{value:d.branchName,onChange:g=>y("branchName",g),placeholder:"e.g., Hyderabad - Kondapur"})}),u&&a.jsx(ee,{label:"Status",children:a.jsx(Re,{value:d.status,onChange:g=>y("status",g),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?a.jsx(hr,{onClick:r}):a.jsx("div",{}),a.jsx(xa,{onCancel:t,onSubmit:M,submitLabel:u?"Update":"Add Account",loading:v})]})]})}function vr({title:s="Loading"}){return a.jsxs("div",{className:"flex flex-col items-center justify-center py-32 gap-3",children:[a.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),a.jsxs("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:[s,"..."]})]})}const Bb={"Savings Account":"bg-blue-500/15 text-[var(--accent-blue)]",Savings:"bg-blue-500/15 text-[var(--accent-blue)]",Salary:"bg-emerald-500/15 text-emerald-400","Current Account":"bg-violet-500/15 text-[var(--accent-violet)]","Fixed Deposit":"bg-amber-500/15 text-[var(--accent-amber)]","Fixed Deposit (FD)":"bg-amber-500/15 text-[var(--accent-amber)]"};function Hb(){const{selectedMember:s,member:l}=Jt(),{banks:r,addBankAccount:t,updateBankAccount:o,deleteBankAccount:u}=Ke(),{showToast:d,showBlockUI:m,hideBlockUI:x}=In(),p=Pn(),{mv:v}=zn(),[b,y]=N.useState(null);if(r===null)return a.jsx(vr,{title:"Loading bank accounts",cards:3});const w=N.useMemo(()=>{const D=r.filter(k=>k.status!=="Inactive");return s==="all"?D:D.filter(k=>k.memberId===s)},[r,s]),M=N.useMemo(()=>new Set(w.map(D=>D.bankName)).size,[w]),S=N.useMemo(()=>w.filter(D=>D.accountType==="Savings"||D.accountType==="Savings Account"||D.accountType==="Salary").length,[w]);async function g(D){m("Saving...");try{b?.edit?await o(b.edit.accountId,D):await t(D),d(b?.edit?"Bank account updated":"Bank account added"),y(null)}catch(k){d(k.message||"Failed to save bank account","error")}finally{x()}}async function j(){if(b?.edit&&await p("Deactivate this bank account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){m("Deactivating...");try{await u(b.edit.accountId),d("Bank account deactivated"),y(null)}catch(D){d(D.message||"Failed to deactivate bank account","error")}finally{x()}}}return a.jsxs("div",{className:"space-y-4",children:[w.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(ky,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No bank accounts",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>y("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first bank account"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsx(Df,{label:"Total Accounts",value:w.length}),a.jsx(Df,{label:"Banks",value:M}),a.jsx(Df,{label:"Savings / Salary",value:S})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>y("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zt,{size:14})," Add Account"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[580px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Bank"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account No."}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Branch"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:w.map(D=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:D.accountName})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:D.bankName}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:v(D.memberName,"name")}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Bb[D.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.accountType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:v(D.accountNumber,"account")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:D.branchName}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>y({edit:D}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(hn,{size:12})})})]},D.accountId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:w.map(D=>a.jsxs("div",{onClick:()=>y({edit:D}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:D.accountName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Bb[D.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.accountType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[D.bankName,l?"":`  ${v(D.memberName,"name")}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:v(D.accountNumber,"account")}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:D.branchName})]})]},D.accountId))})]})]}),a.jsx(Et,{open:!!b,onClose:()=>y(null),title:b?.edit?"Edit Bank Account":"Add Bank Account",children:a.jsx(V3,{initial:b?.edit||void 0,onSave:g,onDelete:b?.edit?j:void 0,onCancel:()=>y(null)})})]})}function Df({label:s,value:l}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:l})]})}const G3=["Demat + Trading","Mutual Fund","Trading","Direct AMC","Broker"].map(s=>({value:s,label:s}));function Q3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,activeBanks:u}=Ke(),d=!!s,[m,x]=N.useState({accountName:s?.accountName||"",memberId:s?.memberId||"",bankAccountId:s?.bankAccountId||"",accountType:s?.accountType||"",platformBroker:s?.platformBroker||"",accountClientId:s?.accountClientId||"",dematDpId:s?.dematDpId||"",registeredEmail:s?.registeredEmail||"",registeredPhone:s?.registeredPhone||"",status:s?.status||"Active"}),[p,v]=N.useState({}),[b,y]=N.useState(!1);function w(k,O){x(T=>({...T,[k]:O})),v(T=>({...T,[k]:void 0}))}function M(k){x(O=>({...O,memberId:k,bankAccountId:""})),v(O=>({...O,memberId:void 0}))}function S(){const k={};return m.accountName.trim()||(k.accountName="Required"),m.memberId||(k.memberId="Required"),m.bankAccountId||(k.bankAccountId="Required"),m.accountType||(k.accountType="Required"),m.platformBroker.trim()||(k.platformBroker="Required"),m.registeredEmail.trim()||(k.registeredEmail="Required"),m.registeredPhone.trim()||(k.registeredPhone="Required"),v(k),Object.keys(k).length===0}async function g(){if(S()){y(!0);try{await l(m)}finally{y(!1)}}}const j=o.map(k=>({value:k.memberId,label:`${k.memberName} (${k.relationship})`})),D=N.useMemo(()=>m.memberId?u.filter(k=>k.memberId===m.memberId).map(k=>({value:k.accountId,label:`${k.accountName} - ${k.bankName}`})):[],[u,m.memberId]);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Account Name",required:!0,error:p.accountName,children:a.jsx(be,{value:m.accountName,onChange:k=>w("accountName",k),placeholder:"e.g., Zerodha Demat"})}),a.jsx(ee,{label:"Family Member",required:!0,error:p.memberId,children:a.jsx(Re,{value:m.memberId,onChange:M,options:j,placeholder:"Select member..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Linked Bank Account",required:!0,error:p.bankAccountId,children:a.jsx(Re,{value:m.bankAccountId,onChange:k=>w("bankAccountId",k),options:D,placeholder:m.memberId?D.length?"Select bank account...":"No bank accounts for this member":"Select member first..."})}),a.jsx(ee,{label:"Account Type",required:!0,error:p.accountType,children:a.jsx(Re,{value:m.accountType,onChange:k=>w("accountType",k),options:G3,placeholder:"Select type..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Platform / Broker",required:!0,error:p.platformBroker,children:a.jsx(be,{value:m.platformBroker,onChange:k=>w("platformBroker",k),placeholder:"e.g., Zerodha, Groww"})}),a.jsx(ee,{label:"Account / Client ID",error:p.accountClientId,children:a.jsx(be,{sensitive:!0,value:m.accountClientId,onChange:k=>w("accountClientId",k),placeholder:"e.g., ZR1234 (optional)"})})]}),a.jsx(ee,{label:"Demat DP ID",error:p.dematDpId,children:a.jsx(be,{sensitive:!0,value:m.dematDpId,onChange:k=>w("dematDpId",k),placeholder:"16-digit DP ID (optional)",maxLength:16})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Registered Email",required:!0,error:p.registeredEmail,children:a.jsx(be,{sensitive:!0,type:"email",value:m.registeredEmail,onChange:k=>w("registeredEmail",k),placeholder:"email@example.com"})}),a.jsx(ee,{label:"Registered Phone",required:!0,error:p.registeredPhone,children:a.jsx(be,{sensitive:!0,value:m.registeredPhone,onChange:k=>w("registeredPhone",k),placeholder:"9876543210"})})]}),d&&a.jsx(ee,{label:"Status",children:a.jsx(Re,{value:m.status,onChange:k=>w("status",k),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[d&&r?a.jsx(hr,{onClick:r}):a.jsx("div",{}),a.jsx(xa,{onCancel:t,onSubmit:g,submitLabel:d?"Update":"Add Account",loading:b})]})]})}const Yb={"Demat + Trading":"bg-violet-500/15 text-[var(--accent-violet)]","Mutual Fund":"bg-blue-500/15 text-[var(--accent-blue)]",Trading:"bg-orange-500/15 text-[var(--accent-orange)]",Demat:"bg-amber-500/15 text-[var(--accent-amber)]","Direct AMC":"bg-emerald-500/15 text-emerald-400",Broker:"bg-rose-500/15 text-[var(--accent-rose)]"};function K3(){const{selectedMember:s,member:l}=Jt(),{investmentAccounts:r,addInvestmentAccount:t,updateInvestmentAccount:o,deleteInvestmentAccount:u}=Ke(),{showToast:d,showBlockUI:m,hideBlockUI:x}=In(),p=Pn(),{mv:v}=zn(),[b,y]=N.useState(null);if(r===null)return a.jsx(vr,{title:"Loading investment accounts",cards:4});const w=N.useMemo(()=>{const k=r.filter(O=>O.status!=="Inactive");return s==="all"?k:k.filter(O=>O.memberId===s)},[r,s]),M=N.useMemo(()=>new Set(w.map(k=>k.platformBroker)).size,[w]),S=w.filter(k=>k.accountType==="Demat + Trading"||k.accountType==="Demat"||k.accountType==="Trading").length,g=w.filter(k=>k.accountType==="Mutual Fund"||k.accountType==="Direct AMC").length;async function j(k){m("Saving...");try{b?.edit?await o(b.edit.accountId,k):await t(k),d(b?.edit?"Investment account updated":"Investment account added"),y(null)}catch(O){d(O.message||"Failed to save investment account","error")}finally{x()}}async function D(){if(b?.edit&&await p("Deactivate this investment account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){m("Deactivating...");try{await u(b.edit.accountId),d("Investment account deactivated"),y(null)}catch(k){d(k.message||"Failed to deactivate investment account","error")}finally{x()}}}return a.jsxs("div",{className:"space-y-4",children:[w.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(gy,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No investment accounts",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>y("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first investment account"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Yc,{label:"Total Accounts",value:w.length}),a.jsx(Yc,{label:"Platforms",value:M}),a.jsx(Yc,{label:"Demat / Trading",value:S}),a.jsx(Yc,{label:"Mutual Fund",value:g})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>y("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zt,{size:14})," Add Account"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[620px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Platform"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Client ID"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Bank"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:w.map(k=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:k.accountName})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:k.platformBroker}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:v(k.memberName,"name")}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Yb[k.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:k.accountType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:v(k.accountClientId,"clientId")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:k.bankAccountName}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>y({edit:k}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(hn,{size:12})})})]},k.accountId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:w.map(k=>a.jsxs("div",{onClick:()=>y({edit:k}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:k.accountName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Yb[k.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:k.accountType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[k.platformBroker,l?"":`  ${v(k.memberName,"name")}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Client: ",v(k.accountClientId,"clientId")]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:k.bankAccountName})]})]},k.accountId))})]})]}),a.jsx(Et,{open:!!b,onClose:()=>y(null),title:b?.edit?"Edit Investment Account":"Add Investment Account",wide:!0,children:a.jsx(Q3,{initial:b?.edit||void 0,onSave:j,onDelete:b?.edit?D:void 0,onCancel:()=>y(null)})})]})}function Yc({label:s,value:l}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:l})]})}const X3=["Term Life","Health","Motor","Home Insurance","Travel","Personal Accident","Life Insurance","Others"].map(s=>({value:s,label:s})),W3=[{value:"Active",label:"Active"},{value:"Expired",label:"Expired"},{value:"Surrendered",label:"Surrendered"},{value:"Lapsed",label:"Lapsed"},{value:"Inactive",label:"Inactive"}];function Z3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o}=Ke(),u=!!s,[d,m]=N.useState({policyType:s?.policyType||"",company:s?.company||"",policyNumber:s?.policyNumber||"",policyName:s?.policyName||"",insuredMember:s?.insuredMember||"",memberId:s?.memberId||"",sumAssured:s?.sumAssured||"",nominee:s?.nominee||"",premium:s?.premium||"",premiumFrequency:s?.premiumFrequency||"Annual",status:s?.status||"Active",notes:s?.notes||""}),[x,p]=N.useState({}),[v,b]=N.useState(!1);function y(j,D){m(k=>({...k,[j]:D})),p(k=>({...k,[j]:void 0}))}function w(j){const D=o.find(k=>k.memberId===j);m(k=>({...k,memberId:j,insuredMember:D?.memberName||""})),p(k=>({...k,memberId:void 0}))}function M(){const j={};return d.policyType||(j.policyType="Required"),d.company.trim()||(j.company="Required"),d.policyNumber.trim()||(j.policyNumber="Required"),d.policyName.trim()||(j.policyName="Required"),d.memberId||(j.memberId="Required"),(!d.sumAssured||Number(d.sumAssured)<=0)&&(j.sumAssured="Must be > 0"),p(j),Object.keys(j).length===0}async function S(){if(M()){b(!0);try{await l({...d,sumAssured:Number(d.sumAssured),premium:Number(d.premium)||0})}finally{b(!1)}}}const g=o.map(j=>({value:j.memberId,label:`${j.memberName} (${j.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Policy Type",required:!0,error:x.policyType,children:a.jsx(Re,{value:d.policyType,onChange:j=>y("policyType",j),options:X3,placeholder:"Select type..."})}),a.jsx(ee,{label:"Insurance Company",required:!0,error:x.company,children:a.jsx(be,{value:d.company,onChange:j=>y("company",j),placeholder:"e.g., HDFC Life"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Policy Number",required:!0,error:x.policyNumber,children:a.jsx(be,{sensitive:!0,value:d.policyNumber,onChange:j=>y("policyNumber",j),placeholder:"e.g., HL-2024-78901"})}),a.jsx(ee,{label:"Policy Name",required:!0,error:x.policyName,children:a.jsx(be,{value:d.policyName,onChange:j=>y("policyName",j),placeholder:"e.g., Click 2 Protect Life"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Insured Member",required:!0,error:x.memberId,children:a.jsx(Re,{value:d.memberId,onChange:w,options:g,placeholder:"Select member..."})}),a.jsx(ee,{label:"Nominee",children:a.jsx(Re,{value:d.nominee,onChange:j=>y("nominee",j),options:g.map(j=>({...j,label:j.label.split(" (")[0]})),placeholder:"Select nominee (optional)..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(ee,{label:"Sum Assured ()",required:!0,error:x.sumAssured,children:a.jsx(be,{type:"number",value:d.sumAssured,onChange:j=>y("sumAssured",j),placeholder:"e.g., 10000000"})}),a.jsx(ee,{label:"Premium ()",children:a.jsx(be,{type:"number",value:d.premium,onChange:j=>y("premium",j),placeholder:"e.g., 12500"})}),a.jsx(ee,{label:"Premium Frequency",children:a.jsx(Re,{value:d.premiumFrequency,onChange:j=>y("premiumFrequency",j),options:[{value:"Annual",label:"Annual"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"}]})})]}),u&&a.jsx(ee,{label:"Status",children:a.jsx(Re,{value:d.status,onChange:j=>y("status",j),options:W3})}),a.jsx(ee,{label:"Notes",children:a.jsx(Bl,{value:d.notes,onChange:j=>y("notes",j),placeholder:"Additional information..."})}),a.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?a.jsx(hr,{onClick:r}):a.jsx("div",{}),a.jsx(xa,{onCancel:t,onSubmit:S,submitLabel:u?"Update":"Add Policy",loading:v})]})]})}const qb={"Term Life":"bg-rose-500/15 text-[var(--accent-rose)]",Health:"bg-emerald-500/15 text-emerald-400",Motor:"bg-blue-500/15 text-[var(--accent-blue)]","Home Insurance":"bg-amber-500/15 text-[var(--accent-amber)]",Travel:"bg-violet-500/15 text-[var(--accent-violet)]","Life Insurance":"bg-rose-500/15 text-[var(--accent-rose)]","Personal Accident":"bg-orange-500/15 text-[var(--accent-orange)]"};function J3(){const{selectedMember:s,member:l}=Jt(),{insurancePolicies:r,addInsurance:t,updateInsurance:o,deleteInsurance:u}=Ke(),{showToast:d,showBlockUI:m,hideBlockUI:x}=In(),p=Pn(),{mv:v}=zn(),[b,y]=N.useState(null);if(r===null)return a.jsx(vr,{title:"Loading insurance",cards:5});const w=N.useMemo(()=>{const O=r.filter(T=>T.status!=="Inactive");return s==="all"?O:O.filter(T=>T.memberId===s)},[r,s]),M=w.reduce((O,T)=>O+(T.sumAssured||0),0),S=w.reduce((O,T)=>O+(T.premium||0),0),g=w.filter(O=>O.policyType==="Term Life"||O.policyType==="Life Insurance").reduce((O,T)=>O+(T.sumAssured||0),0),j=w.filter(O=>O.policyType==="Health").reduce((O,T)=>O+(T.sumAssured||0),0);async function D(O){m("Saving...");try{b?.edit?await o(b.edit.policyId,O):await t(O),d(b?.edit?"Insurance policy updated":"Insurance policy added"),y(null)}catch(T){d(T.message||"Failed to save insurance policy","error")}finally{x()}}async function k(){if(b?.edit&&await p("Deactivate this insurance policy?",{title:"Deactivate Policy",confirmLabel:"Deactivate"})){m("Deactivating...");try{await u(b.edit.policyId),d("Insurance policy deactivated"),y(null)}catch(O){d(O.message||"Failed to deactivate insurance policy","error")}finally{x()}}}return a.jsxs("div",{className:"space-y-4",children:[w.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(to,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No insurance policies",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>y("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first policy"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(Gi,{label:"Policies",value:w.length}),a.jsx(Gi,{label:"Total Cover",value:G(M),bold:!0}),a.jsx(Gi,{label:"Life Cover",value:G(g)}),a.jsx(Gi,{label:"Health Cover",value:G(j)}),a.jsx(Gi,{label:"Annual Premium",value:G(S)})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-3",children:"Coverage Adequacy"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(Ub,{label:"Life Insurance",current:g,recommended:"10-15x annual income",tip:"Term life cover should be 10-15x your annual income to protect dependents",icon:"heart"}),a.jsx(Ub,{label:"Health Insurance",current:j,recommended:"50L - 1Cr family floater",tip:"Considering medical inflation, a 50L-1Cr family floater is recommended",icon:"shield"})]})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>y("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zt,{size:14})," Add Policy"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Policy"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Company"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Insured"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Sum Assured"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Premium"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:w.map(O=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:O.policyName}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:v(O.policyNumber,"policy")})]}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${qb[O.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:O.policyType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:O.company}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:O.insuredMember}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(O.sumAssured)}),a.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:[G(O.premium),"/",O.premiumFrequency==="Annual"?"yr":"mo"]}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>y({edit:O}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(hn,{size:12})})})]},O.policyId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:w.map(O=>a.jsxs("div",{onClick:()=>y({edit:O}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:O.policyName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${qb[O.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:O.policyType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[O.company,l?"":`  ${O.insuredMember}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Cover"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(O.sumAssured)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Premium"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[G(O.premium),"/",O.premiumFrequency==="Annual"?"yr":"mo"]})]})]})]},O.policyId))})]})]}),a.jsx(Et,{open:!!b,onClose:()=>y(null),title:b?.edit?"Edit Insurance Policy":"Add Insurance Policy",wide:!0,children:a.jsx(Z3,{initial:b?.edit||void 0,onSave:D,onDelete:b?.edit?k:void 0,onCancel:()=>y(null)})})]})}function Ub({label:s,current:l,recommended:r,tip:t}){const o=l===0;return a.jsxs("div",{className:`rounded-lg border px-3 py-2.5 ${o?"border-rose-500/30 bg-rose-500/5":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:s}),o?a.jsx("span",{className:"text-xs font-bold text-[var(--accent-rose)]",children:"Not covered"}):a.jsx("span",{className:"text-xs font-semibold text-emerald-400",children:G(l)})]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Recommended: ",r]}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5 italic",children:t})]})}function Gi({label:s,value:l,bold:r}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${r?"font-bold":"font-semibold"} text-[var(--text-primary)]`,children:l})]})}const eA=["Home Loan","Car Loan","Personal Loan","Education Loan","Gold Loan","Credit Card","Business Loan","Loan Against Property","Other"].map(s=>({value:s,label:s})),tA=[{value:"Active",label:"Active"},{value:"Closed",label:"Closed"},{value:"Inactive",label:"Inactive"}];function aA({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o}=Ke(),u=!!s,[d,m]=N.useState({liabilityType:s?.liabilityType||"",lenderName:s?.lenderName||"",familyMemberId:s?.familyMemberId||"",outstandingBalance:s?.outstandingBalance||"",emiAmount:s?.emiAmount||"",interestRate:s?.interestRate||"",status:s?.status||"Active",notes:s?.notes||""}),[x,p]=N.useState({}),[v,b]=N.useState(!1);function y(g,j){m(D=>({...D,[g]:j})),p(D=>({...D,[g]:void 0}))}function w(){const g={};return d.liabilityType||(g.liabilityType="Required"),d.lenderName.trim()||(g.lenderName="Required"),(!d.outstandingBalance||Number(d.outstandingBalance)<=0)&&(g.outstandingBalance="Must be > 0"),p(g),Object.keys(g).length===0}async function M(){if(w()){b(!0);try{await l({...d,outstandingBalance:Number(d.outstandingBalance),emiAmount:Number(d.emiAmount)||0,interestRate:Number(d.interestRate)||0})}finally{b(!1)}}}const S=o.map(g=>({value:g.memberId,label:`${g.memberName} (${g.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Liability Type",required:!0,error:x.liabilityType,children:a.jsx(Re,{value:d.liabilityType,onChange:g=>y("liabilityType",g),options:eA,placeholder:"Select type..."})}),a.jsx(ee,{label:"Lender / Bank",required:!0,error:x.lenderName,children:a.jsx(be,{value:d.lenderName,onChange:g=>y("lenderName",g),placeholder:"e.g., HDFC Bank"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Family Member",children:a.jsx(Re,{value:d.familyMemberId,onChange:g=>y("familyMemberId",g),options:S,placeholder:"Select member (optional)..."})}),a.jsx(ee,{label:"Outstanding Balance ()",required:!0,error:x.outstandingBalance,children:a.jsx(be,{type:"number",value:d.outstandingBalance,onChange:g=>y("outstandingBalance",g),placeholder:"e.g., 3500000"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"EMI Amount ()",children:a.jsx(be,{type:"number",value:d.emiAmount,onChange:g=>y("emiAmount",g),placeholder:"e.g., 32000"})}),a.jsx(ee,{label:"Interest Rate (%)",children:a.jsx(be,{type:"number",value:d.interestRate,onChange:g=>y("interestRate",g),placeholder:"e.g., 8.5",step:"0.01"})})]}),u&&a.jsx(ee,{label:"Status",children:a.jsx(Re,{value:d.status,onChange:g=>y("status",g),options:tA})}),a.jsx(ee,{label:"Notes",children:a.jsx(Bl,{value:d.notes,onChange:g=>y("notes",g),placeholder:"e.g., Flat in Kondapur"})}),a.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?a.jsx(hr,{onClick:r}):a.jsx("div",{}),a.jsx(xa,{onCancel:t,onSubmit:M,submitLabel:u?"Update":"Add Liability",loading:v})]})]})}const $b={"Home Loan":"bg-blue-500/15 text-[var(--accent-blue)]","Car Loan":"bg-amber-500/15 text-[var(--accent-amber)]","Gold Loan":"bg-orange-500/15 text-[var(--accent-orange)]","Personal Loan":"bg-violet-500/15 text-[var(--accent-violet)]","Education Loan":"bg-emerald-500/15 text-emerald-400","Credit Card":"bg-rose-500/15 text-[var(--accent-rose)]"};function nA(){const{selectedMember:s,member:l}=Jt(),{liabilityList:r,addLiability:t,updateLiability:o,deleteLiability:u}=Ke(),{showToast:d,showBlockUI:m,hideBlockUI:x}=In(),p=Pn(),[v,b]=N.useState(null);if(r===null)return a.jsx(vr,{title:"Loading liabilities",cards:4});const y=N.useMemo(()=>{const D=r.filter(k=>k.status!=="Inactive");return s==="all"?D:D.filter(k=>k.familyMemberId===s)},[r,s]),w=y.reduce((D,k)=>D+(k.outstandingBalance||0),0),M=y.reduce((D,k)=>D+(k.emiAmount||0),0),S=y.filter(D=>D.status==="Active").length;async function g(D){m("Saving...");try{v?.edit?await o(v.edit.liabilityId,D):await t(D),d(v?.edit?"Liability updated":"Liability added"),b(null)}catch(k){d(k.message||"Failed to save liability","error")}finally{x()}}async function j(){if(v?.edit&&await p("Deactivate this liability?",{title:"Deactivate Liability",confirmLabel:"Deactivate"})){m("Deactivating...");try{await u(v.edit.liabilityId),d("Liability deactivated"),b(null)}catch(D){d(D.message||"Failed to deactivate liability","error")}finally{x()}}}return a.jsxs("div",{className:"space-y-4",children:[y.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(no,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No liabilities",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a liability"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(qc,{label:"Liabilities",value:`${S} active`}),a.jsx(qc,{label:"Outstanding",value:G(w),color:"rose",bold:!0}),a.jsx(qc,{label:"Monthly EMI",value:G(M),color:"rose"}),a.jsx(qc,{label:"Avg. Interest",value:y.length>0?`${(y.reduce((D,k)=>D+(k.interestRate||0),0)/y.length).toFixed(1)}%`:""})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zt,{size:14})," Add Liability"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Lender"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Outstanding"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"EMI"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Interest"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Remaining"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:y.map(D=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${$b[D.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.liabilityType}),D.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:D.notes})]}),a.jsx("td",{className:"py-2.5 px-3 text-sm font-medium text-[var(--text-primary)]",children:D.lenderName}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:D.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:G(D.outstandingBalance)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:D.emiAmount?`${G(D.emiAmount)}/mo`:""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:D.interestRate?`${D.interestRate}%`:""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:D.emiAmount>0&&D.outstandingBalance>0?`${Math.ceil(D.outstandingBalance/D.emiAmount)} mo`:""}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>b({edit:D}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(hn,{size:12})})})]},D.liabilityId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:y.map(D=>a.jsxs("div",{onClick:()=>b({edit:D}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${$b[D.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.liabilityType}),a.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:G(D.outstandingBalance)})]}),a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:D.lenderName}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[D.familyMemberName,D.notes?`  ${D.notes}`:""]}),a.jsxs("div",{className:"text-right",children:[D.emiAmount>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["EMI: ",G(D.emiAmount),"/mo"]}),D.emiAmount>0&&D.outstandingBalance>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[Math.ceil(D.outstandingBalance/D.emiAmount)," months left"]})]})]})]},D.liabilityId))})]})]}),a.jsx(Et,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Liability":"Add Liability",children:a.jsx(aA,{initial:v?.edit||void 0,onSave:g,onDelete:v?.edit?j:void 0,onCancel:()=>b(null)})})]})}function qc({label:s,value:l,color:r,bold:t}){const o=r==="rose"?"text-[var(--accent-rose)]":"text-[var(--text-primary)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${t?"font-bold":"font-semibold"} ${o}`,children:l})]})}const rA="cf_market_data",D1=[{value:"Fixed Deposit",category:"Debt"},{value:"PPF",category:"Debt"},{value:"EPF",category:"Debt"},{value:"NPS",category:"Debt"},{value:"Sovereign Gold Bond",category:"Gold"},{value:"Physical Gold",category:"Gold"},{value:"Digital Gold",category:"Gold"},{value:"Real Estate",category:"Property"},{value:"Bonds",category:"Debt"},{value:"Physical Silver",category:"Silver"},{value:"Digital Silver",category:"Silver"},{value:"Crypto",category:"Alternative"},{value:"Other",category:"Other"}],Vb={"Real Estate":"Home Loan","Physical Gold":"Gold Loan","Sovereign Gold Bond":"Gold Loan","Fixed Deposit":"Loan Against FD"},sA=D1.map(s=>({value:s.value,label:s.value})),lA=["Equity","Debt","Gold","Silver","Property","Alternative","Other"].map(s=>({value:s,label:s})),iA=[{value:"Active",label:"Active"},{value:"Sold",label:"Sold"},{value:"Matured",label:"Matured"},{value:"Inactive",label:"Inactive"}],Gb=[{value:"24K",label:"24K (99.9%)",factor:.999},{value:"22K",label:"22K (91.6%)",factor:.916},{value:"18K",label:"18K (75.0%)",factor:.75}],Qb=[{value:"999",label:"999 Fine (99.9%)",factor:.999},{value:"925",label:"925 Sterling (92.5%)",factor:.925}];function cu(s){return["Physical Gold","Digital Gold","Sovereign Gold Bond"].includes(s)}function oA(s){return["Physical Silver","Digital Silver"].includes(s)||s&&s.toLowerCase().includes("silver")}function Mf(s){return cu(s)||oA(s)}function cA(s){try{const l=sessionStorage.getItem(rA);if(!l)return null;const r=JSON.parse(l);if(!r.metals)return null;const t=s==="gold"?"Gold":"Silver",o=r.metals.find(u=>u.name.toLowerCase().includes(t.toLowerCase()));return o?o.price:null}catch{return null}}function uA({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,liabilityList:u}=Ke(),d=!!s;function m(_){return D1.find(Q=>Q.value===_)?.category||"Other"}const x=s?.dynamicFields?typeof s.dynamicFields=="string"?JSON.parse(s.dynamicFields):s.dynamicFields:{},[p,v]=N.useState({investmentType:s?.investmentType||"",investmentCategory:s?.investmentCategory||"",investmentName:s?.investmentName||"",familyMemberId:s?.familyMemberId||"",investedAmount:s?.investedAmount||"",currentValue:s?.currentValue||"",linkedLiabilityId:s?.linkedLiabilityId||"",status:s?.status||"Active",notes:s?.notes||""}),[b,y]=N.useState(x.weightGrams||""),[w,M]=N.useState(x.purity||""),[S,g]=N.useState(null),[j,D]=N.useState(!1),[k,O]=N.useState({lenderName:"",outstandingBalance:"",emiAmount:"",interestRate:""});N.useEffect(()=>{if(!Mf(p.investmentType)||!b||Number(b)<=0){g(null);return}const _=cu(p.investmentType)?"gold":"silver",Q=cA(_);if(!Q){g(null);return}const P=(_==="gold"?Gb:Qb).find(me=>me.value===w),J=P?P.factor:1;g(Math.round(Number(b)*Q*J))},[p.investmentType,b,w]);const[T,H]=N.useState({}),[I,R]=N.useState(!1);function z(_,Q){v(de=>({...de,[_]:Q})),H(de=>({...de,[_]:void 0}))}function L(_){v(Q=>({...Q,investmentType:_,investmentCategory:m(_)})),H(Q=>({...Q,investmentType:void 0}))}function V(_,Q){O(de=>({...de,[_]:Q}))}function A(){const _={};return p.investmentType||(_.investmentType="Required"),p.investmentName.trim()||(_.investmentName="Required"),(!p.currentValue||Number(p.currentValue)<0)&&(_.currentValue="Required"),j&&(k.lenderName.trim()||(_.qlLender="Required"),(!k.outstandingBalance||Number(k.outstandingBalance)<=0)&&(_.qlOutstanding="Must be > 0")),H(_),Object.keys(_).length===0}async function le(){if(!A())return;const _={...p,investedAmount:Number(p.investedAmount)||0,currentValue:Number(p.currentValue)||0};Mf(p.investmentType)&&(_.dynamicFields=JSON.stringify({weightGrams:Number(b)||0,purity:w||""})),j&&k.lenderName&&(_.quickLoan={liabilityType:Vb[p.investmentType]||"Personal Loan",lenderName:k.lenderName,outstandingBalance:Number(k.outstandingBalance)||0,emiAmount:Number(k.emiAmount)||0,interestRate:Number(k.interestRate)||0}),R(!0);try{await l(_)}finally{R(!1)}}const oe=u.filter(_=>_.status!=="Inactive"),re=[{value:"",label:"None"},...oe.map(_=>({value:_.liabilityId,label:`${_.liabilityType}  ${_.lenderName} (${G(_.outstandingBalance)})`}))],q=o.map(_=>({value:_.memberId,label:`${_.memberName} (${_.relationship})`})),Z=Vb[p.investmentType];return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Investment Type",required:!0,error:T.investmentType,children:a.jsx(Re,{value:p.investmentType,onChange:L,options:sA,placeholder:"Select type..."})}),a.jsx(ee,{label:"Category",children:a.jsx(Re,{value:p.investmentCategory,onChange:_=>z("investmentCategory",_),options:lA,placeholder:"Auto-selected..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Investment Name",required:!0,error:T.investmentName,children:a.jsx(be,{value:p.investmentName,onChange:_=>z("investmentName",_),placeholder:"e.g., HDFC FD - 7.5%"})}),a.jsx(ee,{label:"Family Member",children:a.jsx(Re,{value:p.familyMemberId,onChange:_=>z("familyMemberId",_),options:q,placeholder:"Select member (optional)..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Invested Amount",children:a.jsx(be,{type:"number",value:p.investedAmount,onChange:_=>z("investedAmount",_),placeholder:"e.g., 500000"})}),a.jsx(ee,{label:"Current Value",required:!0,error:T.currentValue,children:a.jsx(be,{type:"number",value:p.currentValue,onChange:_=>z("currentValue",_),placeholder:"e.g., 537500"})})]}),Mf(p.investmentType)&&a.jsxs("div",{className:"p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:[cu(p.investmentType)?"Gold":"Silver"," Details"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(ee,{label:"Weight (grams)",children:a.jsx(be,{type:"number",value:b,onChange:y,placeholder:"e.g., 50"})}),a.jsx(ee,{label:"Purity",children:a.jsx(Re,{value:w,onChange:M,options:(cu(p.investmentType)?Gb:Qb).map(_=>({value:_.value,label:_.label})),placeholder:"Select purity..."})})]}),S!==null&&a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-card)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Estimated market value"}),a.jsx("p",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:G(S)})]}),a.jsx("button",{type:"button",onClick:()=>z("currentValue",String(S)),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 px-3 py-1.5 rounded-lg bg-violet-500/10 border border-violet-500/20 transition-colors",children:"Use this value"})]})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-4",children:[a.jsx(ee,{label:"Linked Loan / Liability",children:a.jsx(Re,{value:p.linkedLiabilityId,onChange:_=>{z("linkedLiabilityId",_),_&&D(!1)},options:re})}),!p.linkedLiabilityId&&!d&&a.jsx("div",{className:"mt-2",children:a.jsx("button",{type:"button",onClick:()=>D(!j),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:j?" Cancel quick loan":`+ Create new loan${Z?` (${Z})`:""}`})}),j&&a.jsxs("div",{className:"mt-3 p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:"Quick Loan"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(ee,{label:"Lender",required:!0,error:T.qlLender,children:a.jsx(be,{value:k.lenderName,onChange:_=>V("lenderName",_),placeholder:"e.g., HDFC Bank"})}),a.jsx(ee,{label:"Outstanding Balance",required:!0,error:T.qlOutstanding,children:a.jsx(be,{type:"number",value:k.outstandingBalance,onChange:_=>V("outstandingBalance",_),placeholder:"e.g., 3500000"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(ee,{label:"EMI (monthly)",children:a.jsx(be,{type:"number",value:k.emiAmount,onChange:_=>V("emiAmount",_),placeholder:"e.g., 32000"})}),a.jsx(ee,{label:"Interest Rate %",children:a.jsx(be,{type:"number",value:k.interestRate,onChange:_=>V("interestRate",_),placeholder:"e.g., 8.5"})})]})]})]}),d&&a.jsx(ee,{label:"Status",children:a.jsx(Re,{value:p.status,onChange:_=>z("status",_),options:iA})}),a.jsx(ee,{label:"Notes",children:a.jsx(Bl,{value:p.notes,onChange:_=>z("notes",_),placeholder:"Additional information..."})}),a.jsxs("div",{className:"flex items-center justify-between",children:[d&&r?a.jsx(hr,{onClick:r}):a.jsx("div",{}),a.jsx(xa,{onCancel:t,onSubmit:le,submitLabel:d?"Update":"Add Investment",loading:I})]})]})}const Kb={Debt:"bg-blue-500/15 text-[var(--accent-blue)]",Gold:"bg-amber-500/15 text-[var(--accent-amber)]",Property:"bg-orange-500/15 text-[var(--accent-orange)]",Equity:"bg-emerald-500/15 text-emerald-400",Alternative:"bg-violet-500/15 text-[var(--accent-violet)]"};function dA(){const{selectedMember:s,member:l}=Jt(),{otherInvList:r,liabilityList:t,addOtherInvestment:o,updateOtherInvestment:u,deleteOtherInvestment:d}=Ke(),{showToast:m,showBlockUI:x,hideBlockUI:p}=In(),v=Pn(),[b,y]=N.useState(null);if(r===null)return a.jsx(vr,{title:"Loading investments",cards:5});const w=N.useMemo(()=>{const I=r.filter(R=>R.status!=="Inactive");return s==="all"?I:I.filter(R=>R.familyMemberId===s)},[r,s]),M=w.reduce((I,R)=>I+(R.investedAmount||0),0),S=w.reduce((I,R)=>I+(R.currentValue||0),0),g=S-M,j=g>=0,D=M>0?g/M*100:0,k=N.useMemo(()=>{const I={};return t.forEach(R=>{I[R.liabilityId]=R}),I},[t]),O=w.reduce((I,R)=>{const z=R.linkedLiabilityId?k[R.linkedLiabilityId]:null;return I+(z?.outstandingBalance||0)},0);async function T(I){x("Saving...");try{b?.edit?await u(b.edit.investmentId,I):await o(I),m(b?.edit?"Investment updated":"Investment added"),y(null)}catch(R){m(R.message||"Failed to save investment","error")}finally{p()}}async function H(){if(b?.edit&&await v("Deactivate this investment?",{title:"Deactivate Investment",confirmLabel:"Deactivate"})){x("Deactivating...");try{await d(b.edit.investmentId),m("Investment deactivated"),y(null)}catch(I){m(I.message||"Failed to deactivate investment","error")}finally{p()}}}return a.jsxs("div",{className:"space-y-4",children:[w.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Ey,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No other investments",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>y("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add an investment"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(Qi,{label:"Invested",value:G(M)}),a.jsx(Qi,{label:"Current Value",value:G(S),bold:!0}),a.jsx(Qi,{label:"P&L",value:`${j?"+":""}${G(Math.abs(g))}`,sub:`${j?"+":""}${D.toFixed(1)}%`,positive:j,bold:!0}),O>0&&a.jsx(Qi,{label:"Linked Loans",value:G(O),color:"rose"}),a.jsx(Qi,{label:"Holdings",value:w.length})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>y("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zt,{size:14})," Add Investment"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[720px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Investment"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Category"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Loan"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:w.map(I=>{const R=(I.currentValue||0)-(I.investedAmount||0),z=R>=0,L=I.linkedLiabilityId?k[I.linkedLiabilityId]:null;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:I.investmentName}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:I.investmentType})]}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Kb[I.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:I.investmentCategory})}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:I.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:G(I.investedAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(I.currentValue)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${z?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[z?"+":"",G(R)]})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:L?a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:G(L.outstandingBalance)}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:L.liabilityType})]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>y({edit:I}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(hn,{size:12})})})]},I.investmentId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:w.map(I=>{const R=(I.currentValue||0)-(I.investedAmount||0),z=R>=0,L=I.linkedLiabilityId?k[I.linkedLiabilityId]:null;return a.jsxs("div",{onClick:()=>y({edit:I}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:I.investmentName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${Kb[I.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:I.investmentCategory})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[I.familyMemberName,"  ",I.investmentType]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Invested"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:G(I.investedAmount)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Current"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(I.currentValue)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"P&L"}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${z?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[z?"+":"",G(R)]})]})]}),L&&a.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-rose-500/5 rounded px-2 py-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:L.liabilityType}),a.jsx("span",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:G(L.outstandingBalance)})]})]},I.investmentId)})})]})]}),a.jsx(Et,{open:!!b,onClose:()=>y(null),title:b?.edit?"Edit Investment":"Add Investment",wide:!0,children:a.jsx(uA,{initial:b?.edit||void 0,onSave:T,onDelete:b?.edit?H:void 0,onCancel:()=>y(null)})})]})}function Qi({label:s,value:l,sub:r,positive:t,bold:o,color:u}){const d=u==="rose"?"text-[var(--accent-rose)]":t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-rose)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${d}`,children:l}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function mA({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,activeInvestmentAccounts:u}=Ke(),d=!!s,[m,x]=N.useState({portfolioName:(s?.portfolioName||"").replace(/^PFL-/,""),investmentAccountId:s?.investmentAccountId||"",ownerId:s?.ownerId||"",initialInvestment:s?.initialInvestment||0,sipTarget:s?.sipTarget||"",lumpsumTarget:s?.lumpsumTarget||"",rebalanceThreshold:s?s.rebalanceThreshold*100:5}),[p,v]=N.useState({}),[b,y]=N.useState(!1),[w,M]=N.useState(!1);function S(T,H){x(I=>({...I,[T]:H})),v(I=>({...I,[T]:void 0}))}function g(T){x(H=>({...H,ownerId:T,investmentAccountId:""})),v(H=>({...H,ownerId:void 0}))}const j=u.filter(T=>m.ownerId?T.memberId===m.ownerId:!0).map(T=>({value:T.accountId,label:`${T.accountName} - ${T.platformBroker}`})),D=o.map(T=>({value:T.memberId,label:`${T.memberName} (${T.relationship})`}));function k(){const T={};return m.portfolioName.trim()||(T.portfolioName="Required"),m.ownerId||(T.ownerId="Required"),m.investmentAccountId||(T.investmentAccountId="Required"),v(T),Object.keys(T).length===0}async function O(){if(k()){y(!0);try{const T=u.find(I=>I.accountId===m.investmentAccountId),H=T?`${T.accountName} - ${T.platformBroker}`:m.investmentAccountId;await l({...m,investmentAccount:H,initialInvestment:Number(m.initialInvestment)||0,sipTarget:Number(m.sipTarget)||0,lumpsumTarget:Number(m.lumpsumTarget)||0,rebalanceThreshold:Number(m.rebalanceThreshold)})}finally{y(!1)}}}return a.jsxs("div",{className:"space-y-5",children:[a.jsx(ee,{label:"Portfolio Name",required:!0,error:p.portfolioName,children:a.jsx(be,{value:m.portfolioName,onChange:T=>S("portfolioName",T),placeholder:"e.g., Long Term Wealth"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Owner",required:!0,error:p.ownerId,children:a.jsx(Re,{value:m.ownerId,onChange:g,options:D,placeholder:"Select member..."})}),a.jsx(ee,{label:"Investment Account",required:!0,error:p.investmentAccountId,children:a.jsx(Re,{value:m.investmentAccountId,onChange:T=>S("investmentAccountId",T),options:j,placeholder:m.ownerId?j.length?"Select account...":"No MF accounts":"Select owner first..."})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ee,{label:"SIP Target (/month)",children:a.jsx(be,{type:"number",value:m.sipTarget,onChange:T=>S("sipTarget",T),placeholder:"e.g., 50000"})}),a.jsx(ee,{label:"Lumpsum Target ()",children:a.jsx(be,{type:"number",value:m.lumpsumTarget,onChange:T=>S("lumpsumTarget",T),placeholder:"e.g., 200000"})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-xs font-semibold text-[var(--text-muted)] whitespace-nowrap",children:"Rebalance Threshold"}),a.jsx("div",{className:"w-20 shrink-0",children:a.jsx("input",{type:"number",value:m.rebalanceThreshold,onChange:T=>S("rebalanceThreshold",T.target.value),placeholder:"5",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"})]}),!d&&a.jsx(ee,{label:"Initial Investment ()",children:a.jsx(be,{type:"number",value:m.initialInvestment,onChange:T=>S("initialInvestment",T),placeholder:"0 if unknown"})}),d&&r&&w&&a.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 bg-rose-500/10 border border-rose-500/20 rounded-lg",children:[a.jsx(El,{size:15,className:"text-rose-400 shrink-0"}),a.jsx("p",{className:"text-xs text-rose-300/90 flex-1",children:"This will deactivate the portfolio and hide it from views. Are you sure?"}),a.jsxs("div",{className:"flex gap-2 shrink-0",children:[a.jsx("button",{onClick:()=>M(!1),className:"px-2.5 py-1 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded transition-colors",children:"No"}),a.jsx("button",{onClick:r,className:"px-2.5 py-1 text-xs font-semibold text-white bg-rose-600 hover:bg-rose-500 rounded transition-colors",children:"Yes, Deactivate"})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 mt-4 border-t border-[var(--border-light)]",children:[d&&r?a.jsxs("button",{onClick:()=>M(!0),disabled:b,className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-amber-400 border border-amber-500/30 hover:bg-amber-500/15 hover:border-amber-500/50 rounded-lg transition-colors disabled:opacity-40",children:[a.jsx(El,{size:13}),"Deactivate"]}):a.jsx("div",{}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:t,disabled:b,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),a.jsxs("button",{onClick:O,disabled:b,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[b&&a.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),b?"Saving...":d?"Update":"Create Portfolio"]})]})]})]})}function pr(s){return Array.isArray?Array.isArray(s):T1(s)==="[object Array]"}function fA(s){if(typeof s=="string")return s;let l=s+"";return l=="0"&&1/s==-1/0?"-0":l}function pA(s){return s==null?"":fA(s)}function En(s){return typeof s=="string"}function M1(s){return typeof s=="number"}function xA(s){return s===!0||s===!1||hA(s)&&T1(s)=="[object Boolean]"}function A1(s){return typeof s=="object"}function hA(s){return A1(s)&&s!==null}function Ba(s){return s!=null}function Af(s){return!s.trim().length}function T1(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const vA="Incorrect 'index' type",bA=s=>`Invalid value for key ${s}`,gA=s=>`Pattern length exceeds max of ${s}.`,yA=s=>`Missing ${s} property in key`,NA=s=>`Property 'weight' in key '${s}' must be a positive integer`,Xb=Object.prototype.hasOwnProperty;class jA{constructor(l){this._keys=[],this._keyMap={};let r=0;l.forEach(t=>{let o=E1(t);this._keys.push(o),this._keyMap[o.id]=o,r+=o.weight}),this._keys.forEach(t=>{t.weight/=r})}get(l){return this._keyMap[l]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function E1(s){let l=null,r=null,t=null,o=1,u=null;if(En(s)||pr(s))t=s,l=Wb(s),r=Yf(s);else{if(!Xb.call(s,"name"))throw new Error(yA("name"));const d=s.name;if(t=d,Xb.call(s,"weight")&&(o=s.weight,o<=0))throw new Error(NA(d));l=Wb(d),r=Yf(d),u=s.getFn}return{path:l,id:r,weight:o,src:t,getFn:u}}function Wb(s){return pr(s)?s:s.split(".")}function Yf(s){return pr(s)?s.join("."):s}function wA(s,l){let r=[],t=!1;const o=(u,d,m)=>{if(Ba(u))if(!d[m])r.push(u);else{let x=d[m];const p=u[x];if(!Ba(p))return;if(m===d.length-1&&(En(p)||M1(p)||xA(p)))r.push(pA(p));else if(pr(p)){t=!0;for(let v=0,b=p.length;v<b;v+=1)o(p[v],d,m+1)}else d.length&&o(p,d,m+1)}};return o(s,En(l)?l.split("."):l,0),t?r:r[0]}const SA={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},CA={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,l)=>s.score===l.score?s.idx<l.idx?-1:1:s.score<l.score?-1:1},kA={location:0,threshold:.6,distance:100},DA={useExtendedSearch:!1,getFn:wA,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Oe={...CA,...SA,...kA,...DA};const MA=/[^ ]+/g;function AA(s=1,l=3){const r=new Map,t=Math.pow(10,l);return{get(o){const u=o.match(MA).length;if(r.has(u))return r.get(u);const d=1/Math.pow(u,.5*s),m=parseFloat(Math.round(d*t)/t);return r.set(u,m),m},clear(){r.clear()}}}class Sp{constructor({getFn:l=Oe.getFn,fieldNormWeight:r=Oe.fieldNormWeight}={}){this.norm=AA(r,3),this.getFn=l,this.isCreated=!1,this.setIndexRecords()}setSources(l=[]){this.docs=l}setIndexRecords(l=[]){this.records=l}setKeys(l=[]){this.keys=l,this._keysMap={},l.forEach((r,t)=>{this._keysMap[r.id]=t})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,En(this.docs[0])?this.docs.forEach((l,r)=>{this._addString(l,r)}):this.docs.forEach((l,r)=>{this._addObject(l,r)}),this.norm.clear())}add(l){const r=this.size();En(l)?this._addString(l,r):this._addObject(l,r)}removeAt(l){this.records.splice(l,1);for(let r=l,t=this.size();r<t;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(l,r){return l[this._keysMap[r]]}size(){return this.records.length}_addString(l,r){if(!Ba(l)||Af(l))return;let t={v:l,i:r,n:this.norm.get(l)};this.records.push(t)}_addObject(l,r){let t={i:r,$:{}};this.keys.forEach((o,u)=>{let d=o.getFn?o.getFn(l):this.getFn(l,o.path);if(Ba(d)){if(pr(d)){let m=[];const x=[{nestedArrIndex:-1,value:d}];for(;x.length;){const{nestedArrIndex:p,value:v}=x.pop();if(Ba(v))if(En(v)&&!Af(v)){let b={v,i:p,n:this.norm.get(v)};m.push(b)}else pr(v)&&v.forEach((b,y)=>{x.push({nestedArrIndex:y,value:b})})}t.$[u]=m}else if(En(d)&&!Af(d)){let m={v:d,n:this.norm.get(d)};t.$[u]=m}}}),this.records.push(t)}toJSON(){return{keys:this.keys,records:this.records}}}function _1(s,l,{getFn:r=Oe.getFn,fieldNormWeight:t=Oe.fieldNormWeight}={}){const o=new Sp({getFn:r,fieldNormWeight:t});return o.setKeys(s.map(E1)),o.setSources(l),o.create(),o}function TA(s,{getFn:l=Oe.getFn,fieldNormWeight:r=Oe.fieldNormWeight}={}){const{keys:t,records:o}=s,u=new Sp({getFn:l,fieldNormWeight:r});return u.setKeys(t),u.setIndexRecords(o),u}function Uc(s,{errors:l=0,currentLocation:r=0,expectedLocation:t=0,distance:o=Oe.distance,ignoreLocation:u=Oe.ignoreLocation}={}){const d=l/s.length;if(u)return d;const m=Math.abs(t-r);return o?d+m/o:m?1:d}function EA(s=[],l=Oe.minMatchCharLength){let r=[],t=-1,o=-1,u=0;for(let d=s.length;u<d;u+=1){let m=s[u];m&&t===-1?t=u:!m&&t!==-1&&(o=u-1,o-t+1>=l&&r.push([t,o]),t=-1)}return s[u-1]&&u-t>=l&&r.push([t,u-1]),r}const Ds=32;function _A(s,l,r,{location:t=Oe.location,distance:o=Oe.distance,threshold:u=Oe.threshold,findAllMatches:d=Oe.findAllMatches,minMatchCharLength:m=Oe.minMatchCharLength,includeMatches:x=Oe.includeMatches,ignoreLocation:p=Oe.ignoreLocation}={}){if(l.length>Ds)throw new Error(gA(Ds));const v=l.length,b=s.length,y=Math.max(0,Math.min(t,b));let w=u,M=y;const S=m>1||x,g=S?Array(b):[];let j;for(;(j=s.indexOf(l,M))>-1;){let I=Uc(l,{currentLocation:j,expectedLocation:y,distance:o,ignoreLocation:p});if(w=Math.min(I,w),M=j+v,S){let R=0;for(;R<v;)g[j+R]=1,R+=1}}M=-1;let D=[],k=1,O=v+b;const T=1<<v-1;for(let I=0;I<v;I+=1){let R=0,z=O;for(;R<z;)Uc(l,{errors:I,currentLocation:y+z,expectedLocation:y,distance:o,ignoreLocation:p})<=w?R=z:O=z,z=Math.floor((O-R)/2+R);O=z;let L=Math.max(1,y-z+1),V=d?b:Math.min(y+z,b)+v,A=Array(V+2);A[V+1]=(1<<I)-1;for(let oe=V;oe>=L;oe-=1){let re=oe-1,q=r[s.charAt(re)];if(S&&(g[re]=+!!q),A[oe]=(A[oe+1]<<1|1)&q,I&&(A[oe]|=(D[oe+1]|D[oe])<<1|1|D[oe+1]),A[oe]&T&&(k=Uc(l,{errors:I,currentLocation:re,expectedLocation:y,distance:o,ignoreLocation:p}),k<=w)){if(w=k,M=re,M<=y)break;L=Math.max(1,2*y-M)}}if(Uc(l,{errors:I+1,currentLocation:y,expectedLocation:y,distance:o,ignoreLocation:p})>w)break;D=A}const H={isMatch:M>=0,score:Math.max(.001,k)};if(S){const I=EA(g,m);I.length?x&&(H.indices=I):H.isMatch=!1}return H}function OA(s){let l={};for(let r=0,t=s.length;r<t;r+=1){const o=s.charAt(r);l[o]=(l[o]||0)|1<<t-r-1}return l}const Tu=String.prototype.normalize?(s=>s.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(s=>s);class O1{constructor(l,{location:r=Oe.location,threshold:t=Oe.threshold,distance:o=Oe.distance,includeMatches:u=Oe.includeMatches,findAllMatches:d=Oe.findAllMatches,minMatchCharLength:m=Oe.minMatchCharLength,isCaseSensitive:x=Oe.isCaseSensitive,ignoreDiacritics:p=Oe.ignoreDiacritics,ignoreLocation:v=Oe.ignoreLocation}={}){if(this.options={location:r,threshold:t,distance:o,includeMatches:u,findAllMatches:d,minMatchCharLength:m,isCaseSensitive:x,ignoreDiacritics:p,ignoreLocation:v},l=x?l:l.toLowerCase(),l=p?Tu(l):l,this.pattern=l,this.chunks=[],!this.pattern.length)return;const b=(w,M)=>{this.chunks.push({pattern:w,alphabet:OA(w),startIndex:M})},y=this.pattern.length;if(y>Ds){let w=0;const M=y%Ds,S=y-M;for(;w<S;)b(this.pattern.substr(w,Ds),w),w+=Ds;if(M){const g=y-Ds;b(this.pattern.substr(g),g)}}else b(this.pattern,0)}searchIn(l){const{isCaseSensitive:r,ignoreDiacritics:t,includeMatches:o}=this.options;if(l=r?l:l.toLowerCase(),l=t?Tu(l):l,this.pattern===l){let S={isMatch:!0,score:0};return o&&(S.indices=[[0,l.length-1]]),S}const{location:u,distance:d,threshold:m,findAllMatches:x,minMatchCharLength:p,ignoreLocation:v}=this.options;let b=[],y=0,w=!1;this.chunks.forEach(({pattern:S,alphabet:g,startIndex:j})=>{const{isMatch:D,score:k,indices:O}=_A(l,S,g,{location:u+j,distance:d,threshold:m,findAllMatches:x,minMatchCharLength:p,includeMatches:o,ignoreLocation:v});D&&(w=!0),y+=k,D&&O&&(b=[...b,...O])});let M={isMatch:w,score:w?y/this.chunks.length:1};return w&&o&&(M.indices=b),M}}class Jr{constructor(l){this.pattern=l}static isMultiMatch(l){return Zb(l,this.multiRegex)}static isSingleMatch(l){return Zb(l,this.singleRegex)}search(){}}function Zb(s,l){const r=s.match(l);return r?r[1]:null}class RA extends Jr{constructor(l){super(l)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(l){const r=l===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class LA extends Jr{constructor(l){super(l)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(l){const t=l.indexOf(this.pattern)===-1;return{isMatch:t,score:t?0:1,indices:[0,l.length-1]}}}class IA extends Jr{constructor(l){super(l)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(l){const r=l.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class PA extends Jr{constructor(l){super(l)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(l){const r=!l.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,l.length-1]}}}class zA extends Jr{constructor(l){super(l)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(l){const r=l.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[l.length-this.pattern.length,l.length-1]}}}class FA extends Jr{constructor(l){super(l)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(l){const r=!l.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,l.length-1]}}}class R1 extends Jr{constructor(l,{location:r=Oe.location,threshold:t=Oe.threshold,distance:o=Oe.distance,includeMatches:u=Oe.includeMatches,findAllMatches:d=Oe.findAllMatches,minMatchCharLength:m=Oe.minMatchCharLength,isCaseSensitive:x=Oe.isCaseSensitive,ignoreDiacritics:p=Oe.ignoreDiacritics,ignoreLocation:v=Oe.ignoreLocation}={}){super(l),this._bitapSearch=new O1(l,{location:r,threshold:t,distance:o,includeMatches:u,findAllMatches:d,minMatchCharLength:m,isCaseSensitive:x,ignoreDiacritics:p,ignoreLocation:v})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(l){return this._bitapSearch.searchIn(l)}}class L1 extends Jr{constructor(l){super(l)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(l){let r=0,t;const o=[],u=this.pattern.length;for(;(t=l.indexOf(this.pattern,r))>-1;)r=t+u,o.push([t,r-1]);const d=!!o.length;return{isMatch:d,score:d?0:1,indices:o}}}const qf=[RA,L1,IA,PA,FA,zA,LA,R1],Jb=qf.length,BA=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,HA="|";function YA(s,l={}){return s.split(HA).map(r=>{let t=r.trim().split(BA).filter(u=>u&&!!u.trim()),o=[];for(let u=0,d=t.length;u<d;u+=1){const m=t[u];let x=!1,p=-1;for(;!x&&++p<Jb;){const v=qf[p];let b=v.isMultiMatch(m);b&&(o.push(new v(b,l)),x=!0)}if(!x)for(p=-1;++p<Jb;){const v=qf[p];let b=v.isSingleMatch(m);if(b){o.push(new v(b,l));break}}}return o})}const qA=new Set([R1.type,L1.type]);class UA{constructor(l,{isCaseSensitive:r=Oe.isCaseSensitive,ignoreDiacritics:t=Oe.ignoreDiacritics,includeMatches:o=Oe.includeMatches,minMatchCharLength:u=Oe.minMatchCharLength,ignoreLocation:d=Oe.ignoreLocation,findAllMatches:m=Oe.findAllMatches,location:x=Oe.location,threshold:p=Oe.threshold,distance:v=Oe.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:t,includeMatches:o,minMatchCharLength:u,findAllMatches:m,ignoreLocation:d,location:x,threshold:p,distance:v},l=r?l:l.toLowerCase(),l=t?Tu(l):l,this.pattern=l,this.query=YA(this.pattern,this.options)}static condition(l,r){return r.useExtendedSearch}searchIn(l){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:t,isCaseSensitive:o,ignoreDiacritics:u}=this.options;l=o?l:l.toLowerCase(),l=u?Tu(l):l;let d=0,m=[],x=0;for(let p=0,v=r.length;p<v;p+=1){const b=r[p];m.length=0,d=0;for(let y=0,w=b.length;y<w;y+=1){const M=b[y],{isMatch:S,indices:g,score:j}=M.search(l);if(S){if(d+=1,x+=j,t){const D=M.constructor.type;qA.has(D)?m=[...m,...g]:m.push(g)}}else{x=0,d=0,m.length=0;break}}if(d){let y={isMatch:!0,score:x/d};return t&&(y.indices=m),y}}return{isMatch:!1,score:1}}}const Uf=[];function $A(...s){Uf.push(...s)}function $f(s,l){for(let r=0,t=Uf.length;r<t;r+=1){let o=Uf[r];if(o.condition(s,l))return new o(s,l)}return new O1(s,l)}const Eu={AND:"$and",OR:"$or"},Vf={PATH:"$path",PATTERN:"$val"},Gf=s=>!!(s[Eu.AND]||s[Eu.OR]),VA=s=>!!s[Vf.PATH],GA=s=>!pr(s)&&A1(s)&&!Gf(s),eg=s=>({[Eu.AND]:Object.keys(s).map(l=>({[l]:s[l]}))});function I1(s,l,{auto:r=!0}={}){const t=o=>{let u=Object.keys(o);const d=VA(o);if(!d&&u.length>1&&!Gf(o))return t(eg(o));if(GA(o)){const x=d?o[Vf.PATH]:u[0],p=d?o[Vf.PATTERN]:o[x];if(!En(p))throw new Error(bA(x));const v={keyId:Yf(x),pattern:p};return r&&(v.searcher=$f(p,l)),v}let m={children:[],operator:u[0]};return u.forEach(x=>{const p=o[x];pr(p)&&p.forEach(v=>{m.children.push(t(v))})}),m};return Gf(s)||(s=eg(s)),t(s)}function QA(s,{ignoreFieldNorm:l=Oe.ignoreFieldNorm}){s.forEach(r=>{let t=1;r.matches.forEach(({key:o,norm:u,score:d})=>{const m=o?o.weight:null;t*=Math.pow(d===0&&m?Number.EPSILON:d,(m||1)*(l?1:u))}),r.score=t})}function KA(s,l){const r=s.matches;l.matches=[],Ba(r)&&r.forEach(t=>{if(!Ba(t.indices)||!t.indices.length)return;const{indices:o,value:u}=t;let d={indices:o,value:u};t.key&&(d.key=t.key.src),t.idx>-1&&(d.refIndex=t.idx),l.matches.push(d)})}function XA(s,l){l.score=s.score}function WA(s,l,{includeMatches:r=Oe.includeMatches,includeScore:t=Oe.includeScore}={}){const o=[];return r&&o.push(KA),t&&o.push(XA),s.map(u=>{const{idx:d}=u,m={item:l[d],refIndex:d};return o.length&&o.forEach(x=>{x(u,m)}),m})}class Gl{constructor(l,r={},t){this.options={...Oe,...r},this.options.useExtendedSearch,this._keyStore=new jA(this.options.keys),this.setCollection(l,t)}setCollection(l,r){if(this._docs=l,r&&!(r instanceof Sp))throw new Error(vA);this._myIndex=r||_1(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(l){Ba(l)&&(this._docs.push(l),this._myIndex.add(l))}remove(l=()=>!1){const r=[];for(let t=0,o=this._docs.length;t<o;t+=1){const u=this._docs[t];l(u,t)&&(this.removeAt(t),t-=1,o-=1,r.push(u))}return r}removeAt(l){this._docs.splice(l,1),this._myIndex.removeAt(l)}getIndex(){return this._myIndex}search(l,{limit:r=-1}={}){const{includeMatches:t,includeScore:o,shouldSort:u,sortFn:d,ignoreFieldNorm:m}=this.options;let x=En(l)?En(this._docs[0])?this._searchStringList(l):this._searchObjectList(l):this._searchLogical(l);return QA(x,{ignoreFieldNorm:m}),u&&x.sort(d),M1(r)&&r>-1&&(x=x.slice(0,r)),WA(x,this._docs,{includeMatches:t,includeScore:o})}_searchStringList(l){const r=$f(l,this.options),{records:t}=this._myIndex,o=[];return t.forEach(({v:u,i:d,n:m})=>{if(!Ba(u))return;const{isMatch:x,score:p,indices:v}=r.searchIn(u);x&&o.push({item:u,idx:d,matches:[{score:p,value:u,norm:m,indices:v}]})}),o}_searchLogical(l){const r=I1(l,this.options),t=(m,x,p)=>{if(!m.children){const{keyId:b,searcher:y}=m,w=this._findMatches({key:this._keyStore.get(b),value:this._myIndex.getValueForItemAtKeyId(x,b),searcher:y});return w&&w.length?[{idx:p,item:x,matches:w}]:[]}const v=[];for(let b=0,y=m.children.length;b<y;b+=1){const w=m.children[b],M=t(w,x,p);if(M.length)v.push(...M);else if(m.operator===Eu.AND)return[]}return v},o=this._myIndex.records,u={},d=[];return o.forEach(({$:m,i:x})=>{if(Ba(m)){let p=t(r,m,x);p.length&&(u[x]||(u[x]={idx:x,item:m,matches:[]},d.push(u[x])),p.forEach(({matches:v})=>{u[x].matches.push(...v)}))}}),d}_searchObjectList(l){const r=$f(l,this.options),{keys:t,records:o}=this._myIndex,u=[];return o.forEach(({$:d,i:m})=>{if(!Ba(d))return;let x=[];t.forEach((p,v)=>{x.push(...this._findMatches({key:p,value:d[v],searcher:r}))}),x.length&&u.push({idx:m,item:d,matches:x})}),u}_findMatches({key:l,value:r,searcher:t}){if(!Ba(r))return[];let o=[];if(pr(r))r.forEach(({v:u,i:d,n:m})=>{if(!Ba(u))return;const{isMatch:x,score:p,indices:v}=t.searchIn(u);x&&o.push({score:p,key:l,value:u,idx:d,norm:m,indices:v})});else{const{v:u,n:d}=r,{isMatch:m,score:x,indices:p}=t.searchIn(u);m&&o.push({score:x,key:l,value:u,norm:d,indices:p})}return o}}Gl.version="7.1.0";Gl.createIndex=_1;Gl.parseIndex=TA;Gl.config=Oe;Gl.parseQuery=I1;$A(UA);let un=null,Ki=null;function ZA(s){if(!s)return!1;const l=new Date(s),r=new Date;return l.getFullYear()===r.getFullYear()&&l.getMonth()===r.getMonth()&&l.getDate()===r.getDate()}function JA(){return un?Promise.resolve(un):Ki||(Ki=bS("fundsList").then(s=>s&&Array.isArray(s.data)&&ZA(s.updatedAt)?(un=s.data,un):Q2().then(l=>(un=Array.isArray(l)?l:[],Ca("fundsList",un),un))).catch(()=>(Ki=null,[])),Ki)}function Cp({value:s,onSelect:l,placeholder:r,disabled:t}){const[o,u]=N.useState(""),[d,m]=N.useState(un||[]),[x,p]=N.useState(!un),[v,b]=N.useState(!1),y=N.useRef(null);N.useEffect(()=>{if(un){m(un),p(!1);return}JA().then(D=>{m(D),p(!1)})},[]),N.useEffect(()=>{function D(k){y.current&&!y.current.contains(k.target)&&b(!1)}return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const w=N.useMemo(()=>d.length?new Gl(d,{keys:["fundName"],threshold:.3,distance:50,minMatchCharLength:2,includeScore:!0,ignoreLocation:!1,findAllMatches:!0}):null,[d]),M=N.useMemo(()=>!w||o.length<2?[]:w.search(o).slice(0,50).map(D=>D.item),[w,o]);function S(D){u(D),b(D.length>=2)}function g(D){l({schemeCode:D.fundCode||D.schemeCode,fundName:D.fundName,nav:D.nav,navDate:D.navDate}),u(""),b(!1)}function j(){l({schemeCode:"",fundName:"",nav:0,navDate:""}),u("")}return s?.fundName?a.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate",children:s.fundName}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s.schemeCode}),s.nav>0&&a.jsxs("span",{className:"text-xs font-medium text-emerald-400",children:["NAV: ",s.nav.toFixed(2),s.navDate?` (${s.navDate})`:""]})]})]}),a.jsx("button",{type:"button",onClick:j,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:a.jsx(uo,{size:14})})]}):a.jsxs("div",{ref:y,className:"relative",children:[a.jsxs("div",{className:"relative",children:[x?a.jsx(My,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400 animate-spin"}):a.jsx(_y,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),a.jsx("input",{type:"text",value:o,onChange:D=>S(D.target.value),onFocus:()=>o.length>=2&&b(!0),placeholder:x?"Loading funds...":r||"Search fund name...",disabled:t||x,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),v&&M.length>0&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:M.map(D=>a.jsxs("button",{type:"button",onClick:()=>g(D),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:D.fundName}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:D.fundCode||D.schemeCode}),D.nav>0&&a.jsxs("span",{className:"text-xs text-emerald-400 tabular-nums",children:["NAV: ",D.nav.toFixed(2),D.navDate?` (${D.navDate})`:""]})]})]},D.fundCode||D.schemeCode))}),v&&o.length>=2&&M.length===0&&!x&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No funds found for "',o,'"']})})]})}const eT=[{value:"INITIAL",label:"Add Existing Holdings"},{value:"SIP",label:"SIP Investment"},{value:"LUMPSUM",label:"Lumpsum Investment"}];function tT({portfolioId:s,fundCode:l,fundName:r,transactionType:t,onSave:o,onCancel:u}){const{mfPortfolios:d,mfHoldings:m}=Ke(),{selectedMember:x}=Jt(),p=N.useMemo(()=>{const A=d.filter(le=>le.status==="Active");return x==="all"?A:A.filter(le=>le.ownerId===x)},[d,x]),[v,b]=N.useState({portfolioId:s||"",fundCode:l||"",fundName:r||"",nav:0,navDate:"",transactionType:t||"SIP",date:new Date().toISOString().split("T")[0],units:"",price:"",notes:""}),[y,w]=N.useState({}),[M,S]=N.useState(!1),[g,j]=N.useState(!l);function D(A,le){b(oe=>({...oe,[A]:le})),w(oe=>({...oe,[A]:void 0}))}function k({schemeCode:A,fundName:le,nav:oe,navDate:re}){b(q=>({...q,fundCode:A,fundName:le,nav:oe||0,navDate:re||"",price:oe>0?String(oe):q.price})),w(q=>({...q,fundCode:void 0,fundName:void 0})),j(!1)}function O(A){b(le=>({...le,fundCode:A.schemeCode,fundName:A.fundName,nav:A.currentNav||0,navDate:"",price:A.currentNav>0?String(A.currentNav):le.price})),w(le=>({...le,fundCode:void 0})),j(!1)}const T=N.useMemo(()=>v.portfolioId?m.filter(A=>A.portfolioId===v.portfolioId).sort((A,le)=>le.currentValue-A.currentValue):[],[m,v.portfolioId]),H=N.useMemo(()=>!v.portfolioId||!v.fundCode?null:m.find(A=>A.portfolioId===v.portfolioId&&A.schemeCode===v.fundCode),[m,v.portfolioId,v.fundCode]),I=v.fundCode&&!H,R=N.useMemo(()=>(Number(v.units)||0)*(Number(v.price)||0),[v.units,v.price]);function z(){const A={};return v.portfolioId||(A.portfolioId="Required"),v.fundCode||(A.fundCode="Select a fund"),v.date||(A.date="Required"),(!v.units||Number(v.units)<=0)&&(A.units="Must be > 0"),(!v.price||Number(v.price)<=0)&&(A.price="Must be > 0"),w(A),Object.keys(A).length===0}async function L(){if(z()){S(!0);try{await o({portfolioId:v.portfolioId,fundCode:v.fundCode,fundName:v.fundName,transactionType:v.transactionType,purchaseDate:v.date,units:v.units,avgPrice:v.price,notes:v.notes})}finally{S(!1)}}}const V=p.map(A=>{const le=A.portfolioName?.replace(/^PFL-/,"")||A.portfolioName,oe=A.ownerName?`${le} (${A.ownerName})`:le;return{value:A.portfolioId,label:oe}});return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Portfolio",required:!0,error:y.portfolioId,children:a.jsx(Re,{value:v.portfolioId,onChange:A=>{D("portfolioId",A),l||(D("fundCode",""),D("fundName",""),j(!1))},options:V,placeholder:"Select portfolio..."})}),a.jsx(ee,{label:"Transaction Type",required:!0,children:a.jsx(Re,{value:v.transactionType,onChange:A=>D("transactionType",A),options:eT})})]}),a.jsx(ee,{label:"Fund",required:!0,error:y.fundCode,children:v.fundCode&&!g?a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:v.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[v.fundCode,v.nav>0&&a.jsxs("span",{className:"ml-2 text-emerald-400",children:["NAV: ",v.nav.toFixed(2)]})]})]}),a.jsx("button",{type:"button",onClick:()=>{D("fundCode",""),D("fundName",""),j(!0)},className:"text-xs text-[var(--text-muted)] hover:text-[var(--text-primary)] underline shrink-0",children:"Change"})]}):a.jsxs("div",{className:"space-y-3",children:[T.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5",children:"Portfolio Funds"}),a.jsx("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] overflow-hidden max-h-44 overflow-y-auto",children:T.map(A=>a.jsxs("button",{type:"button",onClick:()=>O(A),className:"w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-[var(--bg-hover)] border-b border-[var(--border-light)] last:border-b-0 transition-colors group",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate group-hover:text-white transition-colors",children:A.fundName}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:A.units>0?`${A.units.toFixed(0)} units  ${G(A.currentValue)}`:"Planned"})]}),a.jsx(cr,{size:12,className:"text-[var(--text-dim)] -rotate-90 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity"})]},A.holdingId))})]}),a.jsxs("div",{children:[T.length>0&&a.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5 flex items-center gap-1",children:[a.jsx(_y,{size:10})," Or search new fund"]}),a.jsx(Cp,{value:null,onSelect:k,placeholder:"Search fund by name or code..."})]})]})}),H&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  will average out"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:H.units.toFixed(2)})," units @ ",H.avgNav.toFixed(2)," avg NAV | Value: ",G(H.currentValue),H.targetAllocationPct>0&&a.jsxs("span",{children:["  Target: ",H.targetAllocationPct.toFixed(1),"%"]})]})]}),I&&a.jsxs("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:[a.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"}),a.jsx("p",{className:"text-xs text-violet-300/70 mt-0.5",children:"Use Allocations to plan how much to invest before buying"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(ee,{label:"Date",required:!0,error:y.date,children:a.jsx(Rn,{value:v.date,onChange:A=>D("date",A)})}),a.jsx(ee,{label:"Units",required:!0,error:y.units,children:a.jsx(be,{type:"number",value:v.units,onChange:A=>D("units",A),placeholder:"e.g., 150.50"})}),a.jsx(ee,{label:"NAV ()",required:!0,error:y.price,children:a.jsx(be,{type:"number",value:v.price,onChange:A=>D("price",A),placeholder:"e.g., 178.45"})})]}),R>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:G(R)}),H&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:["New avg NAV: ",((H.investment+R)/(H.units+Number(v.units))).toFixed(2)," Total units: ",(H.units+Number(v.units)).toFixed(2)]})]}),a.jsx(ee,{label:"Notes",children:a.jsx(be,{value:v.notes,onChange:A=>D("notes",A),placeholder:"Optional notes..."})}),a.jsx(xa,{onCancel:u,onSubmit:L,submitLabel:v.transactionType==="SIP"?"Record SIP":v.transactionType==="LUMPSUM"?"Record Lumpsum":"Add Holdings",loading:M})]})}function aT({portfolioId:s,fundCode:l,onSave:r,onCancel:t}){const{mfPortfolios:o,mfHoldings:u}=Ke(),{selectedMember:d}=Jt(),m=N.useMemo(()=>{const L=o.filter(V=>V.status==="Active");return d==="all"?L:L.filter(V=>V.ownerId===d)},[o,d]),x=N.useMemo(()=>!s||!l?null:u.find(L=>L.portfolioId===s&&L.schemeCode===l),[u,s,l]),[p,v]=N.useState({portfolioId:s||"",fundCode:l||"",fundName:x?.fundName||"",date:new Date().toISOString().split("T")[0],units:"",price:x?.currentNav>0?String(x.currentNav):"",notes:""}),[b,y]=N.useState({}),[w,M]=N.useState(!1);function S(L,V){v(A=>({...A,[L]:V})),y(A=>({...A,[L]:void 0}))}const g=N.useMemo(()=>p.portfolioId?u.filter(L=>L.portfolioId===p.portfolioId&&L.units>0):[],[u,p.portfolioId]),j=g.find(L=>L.schemeCode===p.fundCode);function D(L){const V=g.find(A=>A.schemeCode===L);v(A=>({...A,fundCode:L,fundName:V?.fundName||"",price:V?.currentNav?.toString()||""})),y(A=>({...A,fundCode:void 0}))}function k(L){v(V=>({...V,portfolioId:L,fundCode:"",fundName:"",units:"",price:""})),y(V=>({...V,portfolioId:void 0}))}const O=N.useMemo(()=>(Number(p.units)||0)*(Number(p.price)||0),[p.units,p.price]),T=j?O-Number(p.units)*j.avgNav:0;function H(){const L={};return p.portfolioId||(L.portfolioId="Required"),p.fundCode||(L.fundCode="Required"),p.date||(L.date="Required"),(!p.units||Number(p.units)<=0)&&(L.units="Must be > 0"),j&&Number(p.units)>j.units&&(L.units=`Max ${j.units.toFixed(2)} units`),(!p.price||Number(p.price)<=0)&&(L.price="Must be > 0"),y(L),Object.keys(L).length===0}async function I(){if(H()){M(!0);try{await r(p)}finally{M(!1)}}}const R=m.map(L=>{const V=L.portfolioName?.replace(/^PFL-/,"")||L.portfolioName,A=L.ownerName?`${V} (${L.ownerName})`:V;return{value:L.portfolioId,label:A}}),z=g.map(L=>({value:L.schemeCode,label:`${L.fundName}  ${L.units.toFixed(0)} units  ${G(L.currentValue)}`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(ee,{label:"Portfolio",required:!0,error:b.portfolioId,children:a.jsx(Re,{value:p.portfolioId,onChange:k,options:R,placeholder:"Select portfolio..."})}),a.jsx(ee,{label:"Fund to Redeem",required:!0,error:b.fundCode,children:a.jsx(Re,{value:p.fundCode,onChange:D,options:z,placeholder:p.portfolioId?g.length?"Select fund...":"No holdings":"Select portfolio first..."})}),j&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:j.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:j.units.toFixed(2)})," units @ ",j.avgNav.toFixed(2)," avg | Current NAV: ",j.currentNav.toFixed(2)]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(ee,{label:"Date",required:!0,error:b.date,children:a.jsx(Rn,{value:p.date,onChange:L=>S("date",L)})}),a.jsx(ee,{label:"Units",required:!0,error:b.units,children:a.jsx(be,{type:"number",value:p.units,onChange:L=>S("units",L),placeholder:j?`Max: ${j.units.toFixed(2)}`:""})}),a.jsx(ee,{label:"NAV ()",required:!0,error:b.price,children:a.jsx(be,{type:"number",value:p.price,onChange:L=>S("price",L),placeholder:"e.g., 178.45"})})]}),O>0&&a.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Redemption Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:G(O)})]}),j&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),a.jsxs("p",{className:`text-sm font-bold tabular-nums ${T>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[T>=0?"+":"",G(T)]})]})]})}),a.jsx(ee,{label:"Notes",children:a.jsx(be,{value:p.notes,onChange:L=>S("notes",L),placeholder:"Optional notes..."})}),a.jsx(xa,{onCancel:t,onSubmit:I,submitLabel:"Redeem",loading:w})]})}function nT({portfolioId:s,onSave:l,onCancel:r}){const{mfPortfolios:t,mfHoldings:o}=Ke(),{selectedMember:u}=Jt(),d=N.useMemo(()=>{const A=t.filter(le=>le.status==="Active");return u==="all"?A:A.filter(le=>le.ownerId===u)},[t,u]),[m,x]=N.useState({portfolioId:s||"",fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",date:new Date().toISOString().split("T")[0],units:"",fromPrice:"",toPrice:"",targetAllocation:"",notes:""}),[p,v]=N.useState({}),[b,y]=N.useState(!1);function w(A,le){x(oe=>({...oe,[A]:le})),v(oe=>({...oe,[A]:void 0}))}function M(A){x(le=>({...le,portfolioId:A,fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",units:"",fromPrice:"",toPrice:"",targetAllocation:""})),v(le=>({...le,portfolioId:void 0}))}const S=N.useMemo(()=>m.portfolioId?o.filter(A=>A.portfolioId===m.portfolioId&&A.units>0):[],[o,m.portfolioId]),g=S.find(A=>A.schemeCode===m.fromFundCode),j=N.useMemo(()=>!m.portfolioId||!m.toFundCode?null:o.find(A=>A.portfolioId===m.portfolioId&&A.schemeCode===m.toFundCode),[o,m.portfolioId,m.toFundCode]),D=m.toFundCode&&!j;function k(A){const le=S.find(oe=>oe.schemeCode===A);x(oe=>({...oe,fromFundCode:A,fromFundName:le?.fundName||"",fromPrice:le?.currentNav?.toString()||""})),v(oe=>({...oe,fromFundCode:void 0}))}function O({schemeCode:A,fundName:le}){const oe=o.find(re=>re.portfolioId===m.portfolioId&&re.schemeCode===A);x(re=>({...re,toFundCode:A,toFundName:le,toPrice:oe?.currentNav?.toString()||re.toPrice,targetAllocation:""})),v(re=>({...re,toFundCode:void 0}))}const T=N.useMemo(()=>(Number(m.units)||0)*(Number(m.fromPrice)||0),[m.units,m.fromPrice]),H=T>0&&Number(m.toPrice)>0?T/Number(m.toPrice):0,I=g?T-Number(m.units)*g.avgNav:0;function R(){const A={};return m.portfolioId||(A.portfolioId="Required"),m.fromFundCode||(A.fromFundCode="Required"),m.toFundCode||(A.toFundCode="Required"),m.fromFundCode&&m.toFundCode&&m.fromFundCode===m.toFundCode&&(A.toFundCode="Must be different from source fund"),m.date||(A.date="Required"),(!m.units||Number(m.units)<=0)&&(A.units="Must be > 0"),g&&Number(m.units)>g.units&&(A.units=`Max ${g.units.toFixed(2)} units`),(!m.fromPrice||Number(m.fromPrice)<=0)&&(A.fromPrice="Must be > 0"),(!m.toPrice||Number(m.toPrice)<=0)&&(A.toPrice="Must be > 0"),v(A),Object.keys(A).length===0}async function z(){if(R()){y(!0);try{await l(m)}finally{y(!1)}}}const L=d.map(A=>{const le=A.portfolioName?.replace(/^PFL-/,"")||A.portfolioName,oe=A.ownerName?`${le} (${A.ownerName})`:le;return{value:A.portfolioId,label:oe}}),V=S.map(A=>({value:A.schemeCode,label:A.fundName}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(ee,{label:"Portfolio",required:!0,error:p.portfolioId,children:a.jsx(Re,{value:m.portfolioId,onChange:M,options:L,placeholder:"Select portfolio..."})}),a.jsx(ee,{label:"Switch From (Sell)",required:!0,error:p.fromFundCode,children:a.jsx(Re,{value:m.fromFundCode,onChange:k,options:V,placeholder:m.portfolioId?S.length?"Select fund to switch from...":"No holdings":"Select portfolio first..."})}),g&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:g.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:g.units.toFixed(2)})," units @ ",g.avgNav.toFixed(2)," avg | Current NAV: ",g.currentNav.toFixed(2)]})]}),a.jsx(ee,{label:"Switch To (Buy)",required:!0,error:p.toFundCode,children:a.jsx(Cp,{value:m.toFundCode?{schemeCode:m.toFundCode,fundName:m.toFundName}:null,onSelect:O,placeholder:"Search fund to switch into...",disabled:!m.portfolioId})}),j&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  units will be added, NAV averaged out"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:j.units.toFixed(2)})," units @ ",j.avgNav.toFixed(2)," avg | Alloc: ",j.targetAllocationPct.toFixed(1),"%"]})]}),D&&m.toFundCode&&a.jsx("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:a.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Switch Date",required:!0,error:p.date,children:a.jsx(Rn,{value:m.date,onChange:A=>w("date",A)})}),a.jsx(ee,{label:"Units to Switch",required:!0,error:p.units,children:a.jsx(be,{type:"number",value:m.units,onChange:A=>w("units",A),placeholder:g?`Max: ${g.units.toFixed(2)}`:""})})]}),a.jsxs("div",{className:`grid grid-cols-1 ${D?"sm:grid-cols-3":"sm:grid-cols-2"} gap-4`,children:[a.jsx(ee,{label:"From Fund NAV ()",required:!0,error:p.fromPrice,children:a.jsx(be,{type:"number",value:m.fromPrice,onChange:A=>w("fromPrice",A),placeholder:"e.g., 178.45"})}),a.jsx(ee,{label:"To Fund NAV ()",required:!0,error:p.toPrice,children:a.jsx(be,{type:"number",value:m.toPrice,onChange:A=>w("toPrice",A),placeholder:"e.g., 82.10"})}),D&&a.jsx(ee,{label:"Target Allocation (%)",children:a.jsx(be,{type:"number",value:m.targetAllocation,onChange:A=>w("targetAllocation",A),placeholder:"e.g., 20"})})]}),T>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Switch Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:G(T)})]}),H>0&&a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Units Bought"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:H.toFixed(4)})]}),g&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),a.jsxs("p",{className:`text-sm font-bold tabular-nums ${I>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[I>=0?"+":"",G(I)]})]})]}),j&&H>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1 border-t border-[var(--border-light)] pt-1",children:["New total: ",(j.units+H).toFixed(2)," units  New avg NAV: ",((j.investment+T)/(j.units+H)).toFixed(2)]})]}),a.jsx(ee,{label:"Notes",children:a.jsx(be,{value:m.notes,onChange:A=>w("notes",A),placeholder:"Optional notes..."})}),a.jsx(xa,{onCancel:r,onSubmit:z,submitLabel:"Switch Funds",loading:b})]})}function rT({portfolioId:s,onSave:l,onCancel:r}){const{mfHoldings:t,mfPortfolios:o}=Ke(),u=o.find(R=>R.portfolioId===s),d=N.useMemo(()=>t.filter(R=>R.portfolioId===s),[t,s]),[m,x]=N.useState(()=>d.map(R=>({schemeCode:R.schemeCode,fundName:R.fundName,units:R.units,currentValue:R.currentValue,currentAllocationPct:R.currentAllocationPct,targetAllocationPct:R.targetAllocationPct,isNew:!1}))),[p,v]=N.useState(null),[b,y]=N.useState(""),[w,M]=N.useState(""),[S,g]=N.useState(!1),j=m.reduce((R,z)=>R+z.targetAllocationPct,0),D=m.reduce((R,z)=>R+z.currentValue,0);function k(R,z){x(L=>L.map(V=>V.schemeCode===R?{...V,targetAllocationPct:Number(z)||0}:V)),M("")}function O(R){const z=m.find(L=>L.schemeCode===R);z&&z.units>0||x(L=>L.filter(V=>V.schemeCode!==R))}function T(){if(p){if(m.find(R=>R.schemeCode===p.schemeCode)){M("Fund already exists in portfolio");return}x(R=>[...R,{schemeCode:p.schemeCode,fundName:p.fundName,units:0,currentValue:0,currentAllocationPct:0,targetAllocationPct:Number(b)||0,isNew:!0}]),v(null),y(""),M("")}}async function H(){if(j>100){M(`Total allocation is ${j.toFixed(1)}%  must be  100%`);return}g(!0);try{await l(m.map(R=>({schemeCode:R.schemeCode,fundName:R.fundName,targetAllocationPct:R.targetAllocationPct,isNew:R.isNew})))}finally{g(!1)}}const I=u?.sipTarget||0;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:u?.portfolioName}),a.jsx("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] mt-0.5 flex-wrap",children:a.jsxs("span",{children:["Current Value: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:G(D)})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Units"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Current %"}),a.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Target %"}),a.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold w-8"})]})}),a.jsx("tbody",{children:m.map(R=>{const z=R.isNew&&R.targetAllocationPct>0&&R.targetAllocationPct<100&&D>0?R.targetAllocationPct/(100-R.targetAllocationPct)*D:0,L=R.isNew&&R.targetAllocationPct>0&&I>=100?R.targetAllocationPct/100*I:0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("td",{className:"py-2 px-2",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight max-w-[200px] truncate",children:R.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[R.schemeCode,R.isNew&&a.jsx("span",{className:"text-violet-400 ml-1",children:"(new)"})]}),(z>0||L>0)&&a.jsxs("p",{className:"text-xs text-blue-400 mt-0.5",children:["Invest: ",z>0&&a.jsx("span",{className:"font-semibold",children:G(z)}),z>0&&L>0&&"  ",L>0&&a.jsxs("span",{className:"font-semibold",children:[G(L),"/mo SIP"]})]})]}),a.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:R.units.toFixed(2)}),a.jsxs("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:[R.currentAllocationPct.toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-2",children:a.jsx("input",{type:"number",value:R.targetAllocationPct,onChange:V=>k(R.schemeCode,V.target.value),className:"w-20 mx-auto block bg-[var(--bg-inset)] border border-[var(--border)] rounded px-2 py-1 text-xs text-center text-[var(--text-primary)] focus:outline-none focus:border-violet-500/50"})}),a.jsx("td",{className:"py-2 px-2 text-center",children:R.units===0&&a.jsx("button",{onClick:()=>O(R.schemeCode),className:"p-1 rounded hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors",children:a.jsx(Lu,{size:12})})})]},R.schemeCode)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-2 px-2 text-xs font-bold text-[var(--text-primary)]",children:"Total"}),a.jsx("td",{}),a.jsxs("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[m.reduce((R,z)=>R+z.currentAllocationPct,0).toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-2 text-center",children:a.jsxs("span",{className:`text-xs font-bold tabular-nums ${j>100?"text-[var(--accent-rose)]":j===100?"text-emerald-400":"text-amber-400"}`,children:[j.toFixed(1),"%"]})}),a.jsx("td",{})]})})]})}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider mb-1",children:"Add New Fund"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Set target % to see how much to invest. After buying, use Invest to record the transaction."}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Cp,{value:p,onSelect:R=>v(R.schemeCode?R:null),placeholder:"Search fund to add..."}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-28",children:a.jsx("input",{type:"number",value:b,onChange:R=>y(R.target.value),placeholder:"Target %",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),a.jsxs("button",{onClick:T,disabled:!p,className:"flex items-center gap-1 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[a.jsx(Zt,{size:14})," Add"]})]})]})]})]}),w&&a.jsx("p",{className:"text-xs text-[var(--accent-rose)] font-medium",children:w}),a.jsx(xa,{onCancel:r,onSubmit:H,submitLabel:"Save Allocations",loading:S})]})}const $c=s=>s?.replace(/^PFL-/,"")||s,tg={Equity:"bg-violet-500",Debt:"bg-sky-500",Gold:"bg-yellow-500",Cash:"bg-teal-400",Hybrid:"bg-indigo-400",Other:"bg-slate-400"},ag={"Large Cap":"bg-blue-500","Mid Cap":"bg-amber-500","Small Cap":"bg-rose-500"};function cn(s){if(!s)return null;if(s instanceof Date)return isNaN(s.getTime())?null:s;const l=String(s),r=l.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(r)return new Date(Number(r[3]),Number(r[2])-1,Number(r[1]));const t=new Date(l);return isNaN(t.getTime())?null:t}function ng(s){return s>=20?{color:"#c62828",fontWeight:700}:s>=10?{color:"#d84315",fontWeight:700}:s>=5?{color:"#e67e00",fontWeight:600}:s>=1?{color:"#b8860b",fontWeight:600}:{color:"var(--text-dim)",fontWeight:400}}function sT(){const{selectedMember:s}=Jt(),{mfPortfolios:l,mfHoldings:r,mfTransactions:t,activeMembers:o,activeInvestmentAccounts:u,addMFPortfolio:d,updateMFPortfolio:m,deleteMFPortfolio:x,investMF:p,redeemMF:v,switchMF:b,updateHoldingAllocations:y,deleteMFTransaction:w,editMFTransaction:M,assetAllocations:S}=Ke(),{showToast:g,showBlockUI:j,hideBlockUI:D}=In(),k=Pn(),{mv:O}=zn(),[T,H]=N.useState(null),[I,R]=N.useState("all"),[z,L]=N.useState("holdings"),[V,A]=N.useState(!1),[le,oe]=N.useState(null),[re,q]=N.useState({}),[Z,_]=N.useState("all"),[Q,de]=N.useState(null),P=N.useCallback(B=>{oe(ne=>ne===B?null:B)},[]),J=N.useCallback(B=>{q(ne=>({...ne,[B]:(ne[B]||5)+10}))},[]),me=N.useMemo(()=>l?l.filter(B=>B.status!=="Inactive").map(B=>{let ne=u.find(Le=>Le.accountId===B.investmentAccountId);!ne&&B.investmentAccountId&&(ne=u.find(Le=>`${Le.accountName} - ${Le.platformBroker}`===B.investmentAccountId));const je=ne?.memberId||B.ownerId||"",Fe=je?o.find(Le=>Le.memberId===je):null;return{...B,investmentAccountId:ne?.accountId||B.investmentAccountId,ownerId:je,ownerName:Fe?.memberName||B.ownerName||"",platform:ne?.platformBroker||B.investmentAccountName||"",clientId:ne?.accountClientId||""}}):[],[l,u,o]),fe=N.useMemo(()=>me.length?s==="all"?me:me.filter(B=>B.ownerId===s):[],[me,s]),Se=N.useMemo(()=>r?fe.map(B=>{const ne=r.filter(Fe=>Fe.portfolioId===B.portfolioId),je=(t||[]).filter(Fe=>Fe.portfolioId===B.portfolioId);return{...B,holdings:ne,txns:je,fundCount:ne.length}}):[],[fe,r,t]),ge=N.useMemo(()=>{const B=I==="all"?Se:Se.filter(He=>He.portfolioId===I),ne=B.reduce((He,vt)=>He+vt.totalInvestment,0),je=B.reduce((He,vt)=>He+vt.currentValue,0),Fe=B.reduce((He,vt)=>He+vt.unrealizedPL,0),Le=B.reduce((He,vt)=>He+vt.realizedPL,0),ie=Fe+Le,Nt=ne>0?ie/ne*100:0,Ee=ne>0?Fe/ne*100:0,Me=ne>0?Le/ne*100:0,et=B.reduce((He,vt)=>He+vt.fundCount,0),da=(r?I==="all"?r.filter(He=>B.some(vt=>vt.portfolioId===He.portfolioId)):r.filter(He=>He.portfolioId===I):[]).reduce((He,vt)=>He+(vt.ongoingSIP||0),0);return{invested:ne,current:je,unrealizedPL:Fe,unrealizedPLPct:Ee,realizedPL:Le,realizedPLPct:Me,totalPL:ie,totalPLPct:Nt,funds:et,monthlySIP:da}},[Se,I,r]),we=N.useMemo(()=>r?I==="all"?r.filter(B=>fe.some(ne=>ne.portfolioId===B.portfolioId)):r.filter(B=>B.portfolioId===I):[],[r,fe,I]),ke=N.useMemo(()=>t?(I==="all"?t.filter(ne=>fe.some(je=>je.portfolioId===ne.portfolioId)):t.filter(ne=>ne.portfolioId===I)).sort((ne,je)=>(cn(je.date)||0)-(cn(ne.date)||0)):[],[t,fe,I]),qe=N.useMemo(()=>{const B=new Set;return ke.forEach(ne=>{ne.fundName&&B.add(ne.fundName)}),[...B].sort()},[ke]),rt=N.useMemo(()=>Z==="all"?ke:ke.filter(B=>B.fundName===Z),[ke,Z]),Rt=N.useMemo(()=>{const B={};return we.forEach(ne=>{B[ne.portfolioId]=(B[ne.portfolioId]||0)+ne.currentValue}),we.map(ne=>{const je=B[ne.portfolioId]||0,Fe=je>0?ne.currentValue/je*100:0,Le=ne.investment>0?ne.pl/ne.investment*100:0,ie=ne.holdingId||`${ne.portfolioId}::${ne.schemeCode||ne.fundCode}`;return{...ne,currentAllocationPct:Fe,plPct:Le,_key:ie}})},[we]),vn=N.useMemo(()=>{if(I!=="all")return null;const B=[],ne={};return Rt.forEach(je=>{ne[je.portfolioId]||(ne[je.portfolioId]={portfolioId:je.portfolioId,holdings:[]},B.push(ne[je.portfolioId])),ne[je.portfolioId].holdings.push(je)}),B},[Rt,I]),$t=N.useMemo(()=>{if(!r)return{};const B={};return Se.forEach(ne=>{const je=r.filter(Ee=>Ee.portfolioId===ne.portfolioId&&Ee.units>0),Fe=je.reduce((Ee,Me)=>Ee+Me.currentValue,0),Le=(ne.rebalanceThreshold||.05)*100;let ie=0,Nt=0;je.forEach(Ee=>{Ee.athNav>0&&Ee.belowATHPct>=5&&ie++;const Me=Fe>0?Ee.currentValue/Fe*100:0;Ee.targetAllocationPct>0&&Math.abs(Me-Ee.targetAllocationPct)>Le&&Nt++}),B[ne.portfolioId]={buyOpp:ie,rebalance:Nt}}),B},[Se,r]),he=N.useMemo(()=>{if(I!=="all")return $t[I]||{buyOpp:0,rebalance:0};let B=0,ne=0;return Object.values($t).forEach(je=>{B+=je.buyOpp,ne+=je.rebalance}),{buyOpp:B,rebalance:ne}},[I,$t]),Pe=N.useMemo(()=>{if(!we.length)return null;const B={};if(S)for(const Me of S)B[Me.fundCode]={asset:Me.assetAllocation,equity:Me.equityAllocation};const ne={Equity:0,Debt:0,Gold:0,Cash:0,Other:0},je={Large:0,Mid:0,Small:0};let Fe=0,Le=!1;for(const Me of we){if(Me.units<=0)continue;Fe+=Me.currentValue;const et=B[Me.fundCode||Me.schemeCode];if(et?.asset){Le=!0;for(const[Ie,da]of Object.entries(et.asset)){const He=Me.currentValue*(da/100);Ie==="Equity"?ne.Equity+=He:Ie==="Debt"?ne.Debt+=He:Ie==="Cash"?ne.Cash+=He:Ie==="Commodities"||Ie==="Gold"?ne.Gold+=He:ne.Other+=He}if(et.equity)for(const[Ie,da]of Object.entries(et.equity)){const He=Me.currentValue*((et.asset.Equity||0)/100)*(da/100);Ie==="Large"?je.Large+=He:Ie==="Mid"?je.Mid+=He:(Ie==="Small"||Ie==="Micro")&&(je.Small+=He)}}else{const Ie=Me.category||"Other";Ie==="Equity"||Ie==="ELSS"||Ie==="Index"?ne.Equity+=Me.currentValue:Ie==="Debt"||Ie==="Gilt"?ne.Debt+=Me.currentValue:Ie==="Liquid"?ne.Cash+=Me.currentValue:Ie==="Commodity"?ne.Gold+=Me.currentValue:Ie==="Hybrid"?(ne.Equity+=Me.currentValue*.65,ne.Debt+=Me.currentValue*.35):ne.Other+=Me.currentValue}}if(Fe===0)return null;const ie=Object.entries(ne).filter(([,Me])=>Me>0).sort(([,Me],[,et])=>et-Me).map(([Me,et])=>({name:Me,value:et,pct:et/Fe*100})),Nt=je.Large+je.Mid+je.Small,Ee=Nt>0?Object.entries(je).filter(([,Me])=>Me>0).sort(([,Me],[,et])=>et-Me).map(([Me,et])=>({name:Me+" Cap",value:et,pct:et/Nt*100})):[];return{assetList:ie,capList:Ee,hasDetailedAlloc:Le}},[we,S]);if(l===null||r===null)return a.jsx(vr,{title:"Loading mutual funds",cards:5});const Ue=Se.find(B=>B.portfolioId===I),oa=I==="all"?`All Portfolios (${fe.length})`:`${$c(Ue?.portfolioName)}  ${O(Ue?.ownerName,"name")}`;async function qa(B){j("Saving...");try{T?.editPortfolio?await m(T.editPortfolio.portfolioId,B):await d(B),g(T?.editPortfolio?"Portfolio updated":"Portfolio created"),H(null)}catch(ne){g(ne.message||"Failed to save portfolio","error")}finally{D()}}async function ca(){if(T?.editPortfolio&&await k("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){j("Deactivating...");try{await x(T.editPortfolio.portfolioId),g("Portfolio deactivated"),R("all"),H(null)}catch(B){g(B.message||"Failed to deactivate portfolio","error")}finally{D()}}}async function ta(B){j("Recording investment...");try{await p(B,B.transactionType),g("Investment recorded"),H(null)}catch(ne){g(ne.message||"Failed to record investment","error")}finally{D()}}async function pt(B){j("Recording redemption...");try{await v(B),g("Redemption recorded"),H(null)}catch(ne){g(ne.message||"Failed to record redemption","error")}finally{D()}}async function aa(B){j("Recording switch...");try{await b(B),g("Switch recorded"),H(null)}catch(ne){g(ne.message||"Failed to record switch","error")}finally{D()}}async function ua(B){if(await k("Delete this transaction? This will recalculate your holdings.",{title:"Delete Transaction",confirmLabel:"Delete"})){j("Deleting...");try{await w(B),g("Transaction deleted"),de(null)}catch(ne){g(ne.message||"Failed to delete transaction","error")}finally{D()}}}async function Lt(B){j("Updating...");try{await M(B),g("Transaction updated"),H(null)}catch(ne){g(ne.message||"Failed to update transaction","error")}finally{D()}}async function br(B){if(T?.allocations){j("Saving allocations...");try{await y(T.allocations,B),g("Allocations updated"),H(null)}catch(ne){g(ne.message||"Failed to update allocations","error")}finally{D()}}}return a.jsxs("div",{className:"space-y-4",children:[fe.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(kl,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No mutual fund portfolios yet"}),a.jsx("button",{onClick:()=>H("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>A(!V),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[a.jsx(kl,{size:14,className:"text-violet-400 shrink-0"}),a.jsx("span",{className:"truncate",children:oa}),a.jsx(cr,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${V?"rotate-180":""}`})]}),V&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>A(!1)}),a.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl min-w-[300px] py-1 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{R("all"),A(!1),L("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${I==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",fe.length,")"]}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),Se.map(B=>{const ne=B.totalPL>=0,je=$t[B.portfolioId]||{};return a.jsx("button",{onClick:()=>{R(B.portfolioId),A(!1),L("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${I===B.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("p",{className:`text-sm ${I===B.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:$c(B.portfolioName)}),je.buyOpp>0&&a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 shrink-0",title:`${je.buyOpp} buy opportunities`}),je.rebalance>0&&a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 shrink-0",title:`${je.rebalance} funds need rebalancing`})]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[O(B.ownerName,"name"),"  ",B.platform,"  ",B.fundCount," funds"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(B.currentValue)}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ne?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ne?"+":"",B.totalPLPct.toFixed(1),"%"]})]})]})},B.portfolioId)})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("button",{onClick:()=>H("buyOpp"),disabled:he.buyOpp===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${he.buyOpp>0?"text-emerald-400 hover:text-emerald-300 bg-[var(--bg-card)] border border-emerald-500/30 animate-glow-emerald":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[a.jsx(Iu,{size:12})," Buy Opp.",he.buyOpp>0&&a.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15",children:he.buyOpp})]}),a.jsxs("button",{onClick:()=>H("rebalance"),disabled:he.rebalance===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${he.rebalance>0?"text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-violet-500/30 animate-glow-violet":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[a.jsx(Al,{size:12})," Rebalance",he.rebalance>0&&a.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-violet-500/15",children:he.rebalance})]}),Ue&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>H({allocations:Ue.portfolioId}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(lC,{size:12})," Allocations"]}),a.jsxs("button",{onClick:()=>H({editPortfolio:Ue}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(hn,{size:12})," Edit"]})]}),a.jsxs("button",{onClick:()=>H("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zt,{size:14})," New Portfolio"]})]})]}),Ue&&a.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Platform:"})," ",Ue.platform]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",O(Ue.clientId,"clientId")]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Funds:"})," ",Ue.fundCount]}),Ue.sipTarget>=100&&a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"SIP Target:"})," ",G(Ue.sipTarget),"/mo"]}),Ue.lumpsumTarget>=100&&a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Lumpsum Target:"})," ",G(Ue.lumpsumTarget)]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Rebalance Threshold:"})," ",(Ue.rebalanceThreshold*100).toFixed(0),"%"]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[a.jsx(Nl,{label:"Invested",value:G(ge.invested)}),a.jsx(Nl,{label:"Current Value",value:G(ge.current),bold:!0}),a.jsx(Nl,{label:"Unrealized P&L",value:`${ge.unrealizedPL>=0?"+":""}${G(ge.unrealizedPL)}`,sub:`${ge.unrealizedPLPct>=0?"+":""}${ge.unrealizedPLPct.toFixed(1)}%`,positive:ge.unrealizedPL>=0}),a.jsx(Nl,{label:"Realized P&L",value:`${ge.realizedPL>=0?"+":""}${G(ge.realizedPL)}`,sub:`${ge.realizedPLPct>=0?"+":""}${ge.realizedPLPct.toFixed(1)}%`,positive:ge.realizedPL>=0}),a.jsx(Nl,{label:"Total P&L",value:`${ge.totalPL>=0?"+":""}${G(ge.totalPL)}`,sub:`${ge.totalPLPct>=0?"+":""}${ge.totalPLPct.toFixed(1)}%`,positive:ge.totalPL>=0,bold:!0}),a.jsx(Nl,{label:"Monthly SIP",value:G(ge.monthlySIP),sub:`${ge.funds} funds`})]}),Pe&&Pe.assetList.length>1&&a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-3",children:[a.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider mb-2",children:"Asset Allocation"}),a.jsx("div",{className:"h-2.5 rounded-full overflow-hidden bg-[var(--bg-inset)] flex",children:Pe.assetList.map(B=>a.jsx("div",{className:`h-full ${tg[B.name]||"bg-slate-400"}`,style:{width:`${B.pct}%`}},B.name))}),a.jsx("div",{className:"flex flex-wrap gap-x-3 gap-y-0.5 mt-1.5",children:Pe.assetList.map(B=>a.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-[var(--text-dim)]",children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${tg[B.name]||"bg-slate-400"}`}),B.name," ",B.pct.toFixed(0),"%"]},B.name))}),!Pe.hasDetailedAlloc&&a.jsx("p",{className:"text-[9px] text-[var(--text-dim)]/50 mt-1",children:"Based on fund category. Add detailed allocations for accuracy."})]}),Pe.capList.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-3",children:[a.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider mb-2",children:"Market Cap Breakdown"}),a.jsx("div",{className:"h-2.5 rounded-full overflow-hidden bg-[var(--bg-inset)] flex",children:Pe.capList.map(B=>a.jsx("div",{className:`h-full ${ag[B.name]||"bg-slate-400"}`,style:{width:`${B.pct}%`}},B.name))}),a.jsx("div",{className:"flex flex-wrap gap-x-3 gap-y-0.5 mt-1.5",children:Pe.capList.map(B=>a.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-[var(--text-dim)]",children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${ag[B.name]||"bg-slate-400"}`}),B.name," ",B.pct.toFixed(0),"%"]},B.name))})]}):a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-3 flex items-center justify-center",children:a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:"Add asset allocations per fund for market cap breakdown"})})]}),a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[a.jsxs("button",{onClick:()=>L("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${z==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(Dy,{size:12})," Holdings (",we.length,")"]}),a.jsxs("button",{onClick:()=>L("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${z==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(hu,{size:12})," Transactions (",rt.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[I==="all"&&a.jsx("span",{className:"text-xs text-[var(--text-dim)] mr-1 hidden sm:inline",children:"Select a portfolio to take actions"}),a.jsxs("button",{onClick:()=>I!=="all"&&H({invest:I}),disabled:I==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${I==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:I==="all"?"Select a portfolio first":"",children:[a.jsx(Tl,{size:14})," Invest"]}),a.jsxs("button",{onClick:()=>I!=="all"&&we.length>0&&H({redeem:I}),disabled:I==="all"||we.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${I==="all"||we.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:I==="all"?"Select a portfolio first":"",children:[a.jsx(Ny,{size:14})," Redeem"]}),a.jsxs("button",{onClick:()=>I!=="all"&&we.length>0&&H({switchFunds:I}),disabled:I==="all"||we.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${I==="all"||we.length===0?"bg-amber-600/40 text-white/50 cursor-not-allowed":"text-white bg-amber-600 hover:bg-amber-500"}`,title:I==="all"?"Select a portfolio first":"",children:[a.jsx(J5,{size:14})," Switch"]})]})]}),z==="holdings"&&a.jsx(a.Fragment,{children:we.length>0?a.jsx("div",{className:I==="all"?"space-y-4":"",children:(I==="all"?vn:[{portfolioId:I,holdings:Rt}]).map(B=>{const ne=Se.find(ie=>ie.portfolioId===B.portfolioId),je=B.holdings,Fe=je.reduce((ie,Nt)=>ie+Nt.pl,0),Le=Fe>=0;return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[I==="all"&&ne&&a.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:$c(ne.portfolioName)}),ne.ownerName&&a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:["(",O(ne.ownerName,"name"),")"]}),a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[" ",je.filter(ie=>ie.units>0).length," funds"]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs tabular-nums",children:[a.jsx("span",{className:"text-[var(--text-muted)]",children:G(ne.currentValue||0)}),a.jsxs("span",{className:`font-bold ${Le?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Le?"+":"",G(Fe)]})]})]}),a.jsx("div",{className:"hidden lg:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:`border-b border-[var(--border-light)] ${I!=="all"?"bg-[var(--bg-inset)]":""}`,children:[a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund Name"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"NAV"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Avg"})]}),a.jsxs("th",{className:"text-center py-2 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"ATH"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Below Peak"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Allocation %"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Amount"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Invested"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"P&L"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"on Holdings"})]}),a.jsx("th",{className:"py-2 px-2 w-8"})]})}),a.jsx("tbody",{children:je.map(ie=>{const Nt=ng(ie.belowATHPct),Ee=ie.units===0,Me=Se.find(xe=>xe.portfolioId===ie.portfolioId),et=Me?.currentValue||0,Ie=le===ie._key,da=ie.pl,He=da>=0,vt=Ee&&ie.targetAllocationPct>0&&ie.targetAllocationPct<100&&et>0?ie.targetAllocationPct/(100-ie.targetAllocationPct)*et:0,ha=Ee&&ie.targetAllocationPct>0&&Me?.sipTarget>=100?ie.targetAllocationPct/100*Me.sipTarget:0,Vt=Ie?(t||[]).filter(xe=>xe.portfolioId===ie.portfolioId&&xe.fundCode===ie.schemeCode).sort((xe,Gt)=>(cn(Gt.date)||0)-(cn(xe.date)||0)):[],va=re[ie._key]||5,Ta=Vt.slice(0,va),bn=xe=>{const Gt=cn(xe);return Gt?Math.floor((new Date-Gt)/864e5):null};return a.jsxs(ae.Fragment,{children:[a.jsxs("tr",{onClick:()=>!Ee&&P(ie._key),className:`border-b border-[var(--border-light)] last:border-0 transition-colors ${Ee?"opacity-60":"cursor-pointer hover:bg-[var(--bg-hover)]"} ${Ie?"bg-[var(--bg-hover)]":""}`,children:[a.jsx("td",{className:"py-2.5 px-3 max-w-[240px]",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[!Ee&&a.jsx(cr,{size:12,className:`shrink-0 text-[var(--text-dim)] transition-transform ${Ie?"rotate-180":""}`}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs text-[var(--text-primary)] leading-tight",children:[ie.fundName,Ee&&a.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]}),Ee&&(vt>0||ha>0)&&a.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[vt>0&&a.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",G(vt)]}),ha>0&&a.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",G(ha),"/mo"]})]})]})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Ee?"":ie.units.toFixed(2)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:Ee?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:["",ie.currentNav.toFixed(2)]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["",ie.avgNav.toFixed(2)]})]})}),a.jsx("td",{className:"py-2.5 px-2 text-center",children:Ee?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):ie.athNav>0&&ie.belowATHPct>0?a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-bold tabular-nums",style:Nt,children:["",ie.belowATHPct.toFixed(1),"%"]}),a.jsxs("p",{className:"text-[11px] text-[var(--text-muted)] tabular-nums",children:["",ie.athNav.toFixed(0)]})]}):ie.athNav>0?a.jsx("span",{className:"text-[10px] text-emerald-400/70 font-semibold",children:"AT HIGH"}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:Ee?a.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums",children:[ie.targetAllocationPct.toFixed(1),"%"]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[ie.currentAllocationPct.toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[ie.targetAllocationPct.toFixed(1),"%"]})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:Ee?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(ie.currentValue)}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:G(ie.investment)})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:Ee?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${He?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[He?"+":"",G(da)]}),a.jsxs("p",{className:`text-xs font-bold tabular-nums ${He?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[He?"+":"",ie.plPct.toFixed(1),"%"]})]})}),a.jsx("td",{className:"py-2.5 px-2 text-center",children:a.jsxs("div",{className:"flex items-center gap-0.5 justify-center",children:[a.jsx("button",{onClick:xe=>{xe.stopPropagation(),H({invest:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode,fundName:ie.fundName}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25 transition-colors",title:"Buy / Invest",children:a.jsx(Zt,{size:14,strokeWidth:2.5})}),!Ee&&a.jsx("button",{onClick:xe=>{xe.stopPropagation(),H({redeem:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-rose-500/15 text-rose-400 hover:bg-rose-500/25 transition-colors",title:"Sell / Redeem",children:a.jsx(ff,{size:14,strokeWidth:2.5})})]})})]}),Ie&&!Ee&&a.jsx("tr",{className:"border-b border-[var(--border-light)]",children:a.jsx("td",{colSpan:8,className:"p-0",children:a.jsxs("div",{className:"bg-[var(--bg-expanded)] border-t border-[var(--border-light)]",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row",children:[a.jsx("div",{className:"lg:w-52 shrink-0 p-4 border-b lg:border-b-0 lg:border-r border-[var(--border-light)]",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Units"}),a.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:ie.units.toFixed(3)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Avg NAV"}),a.jsxs("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:["",ie.avgNav.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Invested"}),a.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:G(ie.investment)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Current Value"}),a.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:G(ie.currentValue)})]}),ie.ongoingSIP>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Monthly SIP"}),a.jsx("p",{className:"text-base font-bold text-blue-400 tabular-nums",children:G(ie.ongoingSIP)})]}),a.jsxs("div",{className:"pt-3 border-t border-[var(--border-light)] flex gap-2",children:[a.jsxs("button",{onClick:xe=>{xe.stopPropagation(),H({invest:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode,fundName:ie.fundName}})},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-emerald-400 bg-emerald-500/10 hover:bg-emerald-500/20 rounded-lg transition-colors",children:[a.jsx("span",{className:"w-5 h-5 flex items-center justify-center rounded-full bg-emerald-500/20",children:a.jsx(Zt,{size:12,strokeWidth:2.5})})," Buy"]}),a.jsxs("button",{onClick:xe=>{xe.stopPropagation(),H({redeem:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode}})},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-rose-400 bg-rose-500/10 hover:bg-rose-500/20 rounded-lg transition-colors",children:[a.jsx("span",{className:"w-5 h-5 flex items-center justify-center rounded-full bg-rose-500/20",children:a.jsx(ff,{size:12,strokeWidth:2.5})})," Sell"]})]})]})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"px-4 pt-3 pb-1",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:"Transactions"})}),Vt.length===0?a.jsx("p",{className:"py-8 text-xs text-[var(--text-dim)] text-center",children:"No transactions recorded"}):a.jsxs(a.Fragment,{children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-2 px-4 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-2 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Type"}),a.jsx("th",{className:"text-center py-2 px-2 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Days"}),a.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"NAV"}),a.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Units"}),a.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"P&L"}),a.jsx("th",{className:"w-8 py-2 px-1"})]})}),a.jsx("tbody",{children:Ta.map((xe,Gt)=>{const Bn=cn(xe.date),rn=!!Bn,Ua=rn?Bn.toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):xe.date||"",gr=rn?bn(xe.date):null,es=xe.type==="BUY",yr=!es&&xe.gainLoss!=null&&xe.gainLoss!==0,ts=yr&&xe.gainLoss>=0;return a.jsxs("tr",{className:"group border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)] tabular-nums whitespace-nowrap",children:Ua}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded ${es?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:xe.transactionType||xe.type})}),a.jsx("td",{className:"py-2.5 px-2 text-xs text-[var(--text-dim)] tabular-nums text-center",children:gr??""}),a.jsx("td",{className:"py-2.5 px-3 text-xs font-semibold text-[var(--text-primary)] tabular-nums text-right",children:G(xe.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums text-right",children:Number(xe.price).toFixed(4)}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums text-right",children:Number(xe.units).toFixed(3)}),a.jsx("td",{className:`py-2.5 px-3 text-xs font-semibold tabular-nums text-right ${yr?ts?"text-emerald-400":"text-[var(--accent-rose)]":"text-[var(--text-dim)]"}`,children:yr?`${ts?"+":""}${G(xe.gainLoss)}`:""}),a.jsx("td",{className:"py-2.5 px-1",children:a.jsx(Vc,{txn:xe,isOpen:Q===xe.transactionId,onToggle:()=>de(Q===xe.transactionId?null:xe.transactionId),onEdit:()=>{de(null),H({editTxn:xe})},onDelete:()=>{de(null),ua(xe.transactionId)}})})]},xe.transactionId||`txn-${Gt}`)})})]}),Vt.length>va&&a.jsx("div",{className:"py-2 text-center border-t border-[var(--border-light)]",children:a.jsxs("button",{onClick:xe=>{xe.stopPropagation(),J(ie._key)},className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:["Show More (",Vt.length-va," remaining)"]})})]})]})]}),a.jsx("div",{className:"flex justify-center py-1.5 border-t border-[var(--border-light)]",children:a.jsx("button",{onClick:()=>P(ie._key),className:"p-0.5 text-[var(--text-dim)] hover:text-[var(--text-muted)]",children:a.jsx(ZS,{size:14})})})]})})})]},ie._key)})})]})}),a.jsx("div",{className:"lg:hidden divide-y divide-[var(--border-light)]",children:je.map(ie=>{const Nt=ng(ie.belowATHPct),Ee=ie.units===0,Me=Se.find(xe=>xe.portfolioId===ie.portfolioId),et=Me?.currentValue||0,Ie=le===ie._key,da=ie.pl,He=da>=0,vt=Ee&&ie.targetAllocationPct>0&&ie.targetAllocationPct<100&&et>0?ie.targetAllocationPct/(100-ie.targetAllocationPct)*et:0,ha=Ee&&ie.targetAllocationPct>0&&Me?.sipTarget>=100?ie.targetAllocationPct/100*Me.sipTarget:0,Vt=Ie?(t||[]).filter(xe=>xe.portfolioId===ie.portfolioId&&xe.fundCode===ie.schemeCode).sort((xe,Gt)=>(cn(Gt.date)||0)-(cn(xe.date)||0)):[],va=re[ie._key]||5,Ta=Vt.slice(0,va),bn=xe=>{const Gt=cn(xe);return Gt?Math.floor((new Date-Gt)/864e5):null};return a.jsxs("div",{className:Ee?"opacity-60":"",children:[a.jsxs("div",{onClick:()=>!Ee&&P(ie._key),className:`px-4 py-3 ${Ee?"":"cursor-pointer"} ${Ie?"bg-[var(--bg-hover)]":""}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-1.5",children:[a.jsxs("div",{className:"flex-1 mr-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[!Ee&&a.jsx(cr,{size:12,className:`shrink-0 text-[var(--text-dim)] transition-transform ${Ie?"rotate-180":""}`}),a.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:[ie.fundName,Ee&&a.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]})]}),Ee&&(vt>0||ha>0)&&a.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[vt>0&&a.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",G(vt)]}),ha>0&&a.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",G(ha),"/mo"]})]})]}),Ee?a.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums shrink-0",children:["Target: ",ie.targetAllocationPct.toFixed(1),"%"]}):a.jsxs("div",{className:"text-right shrink-0",children:[a.jsxs("p",{className:`text-xs font-bold tabular-nums ${He?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[He?"+":"",G(da)]}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${He?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[He?"+":"",ie.plPct.toFixed(1),"%"]})]})]}),Ee?a.jsx("div",{className:"flex items-center justify-end mt-1",children:a.jsxs("button",{onClick:xe=>{xe.stopPropagation(),H({invest:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode,fundName:ie.fundName}})},className:"shrink-0 flex items-center gap-1 text-[10px] font-semibold text-emerald-400 hover:text-emerald-300 px-2 py-0.5 rounded bg-emerald-500/10",children:[a.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-emerald-500/20",children:a.jsx(Zt,{size:10,strokeWidth:2.5})})," Buy"]})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between text-xs text-[var(--text-dim)]",children:[a.jsxs("div",{children:[a.jsxs("span",{children:[ie.units.toFixed(2)," units"]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:["NAV ",ie.currentNav.toFixed(2)," / ",ie.avgNav.toFixed(2)]})]}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(ie.currentValue)})]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] flex-wrap",children:[a.jsxs("span",{children:["Alloc: ",ie.currentAllocationPct.toFixed(1),"% / ",ie.targetAllocationPct.toFixed(1),"%"]}),ie.athNav>0&&ie.belowATHPct>0?a.jsxs("span",{className:"font-bold tabular-nums",style:Nt,children:["ATH ",ie.belowATHPct.toFixed(1),"%"]}):ie.athNav>0?a.jsx("span",{className:"text-emerald-400/70 font-semibold text-[10px]",children:"AT HIGH"}):null]}),a.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[a.jsxs("button",{onClick:xe=>{xe.stopPropagation(),H({invest:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode,fundName:ie.fundName}})},className:"flex items-center gap-1 text-[10px] font-semibold text-emerald-400 hover:text-emerald-300 px-2 py-0.5 rounded bg-emerald-500/10",children:[a.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-emerald-500/20",children:a.jsx(Zt,{size:10,strokeWidth:2.5})})," Buy"]}),a.jsxs("button",{onClick:xe=>{xe.stopPropagation(),H({redeem:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode}})},className:"flex items-center gap-1 text-[10px] font-semibold text-rose-400 hover:text-rose-300 px-2 py-0.5 rounded bg-rose-500/10",children:[a.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-rose-500/20",children:a.jsx(ff,{size:10,strokeWidth:2.5})})," Sell"]})]})]})]})]}),Ie&&!Ee&&a.jsxs("div",{className:"bg-[var(--bg-inset)] border-l-2 border-l-violet-500/40 px-4 pb-3",children:[a.jsx("div",{className:"flex items-center justify-between py-2",children:a.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:["Transactions (",Vt.length,")"]})}),Vt.length===0?a.jsx("p",{className:"py-4 text-xs text-[var(--text-dim)] text-center",children:"No transactions recorded"}):a.jsxs("div",{className:"space-y-2",children:[Ta.map((xe,Gt)=>{const Bn=bn(xe.date),rn=xe.type==="BUY",Ua=!rn&&xe.gainLoss!=null&&xe.gainLoss!==0,gr=Ua&&xe.gainLoss>=0;return a.jsxs("div",{className:"flex items-center justify-between text-xs bg-[var(--bg-card)] rounded-lg px-3 py-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"text-[var(--text-secondary)]",children:(cn(xe.date)||new Date).toLocaleDateString("en-IN",{day:"2-digit",month:"short"})}),a.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${rn?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:xe.transactionType||xe.type}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:[Bn,"d"]})]}),a.jsxs("p",{className:"text-[var(--text-dim)] mt-0.5",children:[Number(xe.units).toFixed(3)," units @ ",Number(xe.price).toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-semibold text-[var(--text-primary)] tabular-nums",children:G(xe.totalAmount)}),Ua&&a.jsxs("p",{className:`font-semibold tabular-nums ${gr?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[gr?"+":"",G(xe.gainLoss)]})]}),a.jsx(Vc,{txn:xe,isOpen:Q===xe.transactionId,onToggle:()=>de(Q===xe.transactionId?null:xe.transactionId),onEdit:()=>{de(null),H({editTxn:xe})},onDelete:()=>{de(null),ua(xe.transactionId)}})]})]},xe.transactionId||`txn-${Gt}`)}),Vt.length>va&&a.jsxs("button",{onClick:()=>J(ie._key),className:"w-full py-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 text-center",children:["Show More (",Vt.length-va," remaining)"]})]})]})]},ie._key)})})]},B.portfolioId)})}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(kl,{size:28,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",Ue?" in this portfolio":""]}),a.jsx("button",{onClick:()=>H({invest:I!=="all"?I:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Add your first fund"})]})}),z==="transactions"&&a.jsxs(a.Fragment,{children:[qe.length>1&&a.jsxs("div",{className:"flex items-center gap-2 px-1",children:[a.jsx(Cy,{size:12,className:"text-[var(--text-dim)]"}),a.jsxs("select",{value:Z,onChange:B=>_(B.target.value),className:"text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg px-3 py-1.5 max-w-[350px] truncate",children:[a.jsxs("option",{value:"all",children:["All Funds (",ke.length,")"]}),qe.map(B=>a.jsxs("option",{value:B,children:[B," (",ke.filter(ne=>ne.fundName===B).length,")"]},B))]}),Z!=="all"&&a.jsx("button",{onClick:()=>_("all"),className:"text-xs text-[var(--text-dim)] hover:text-[var(--text-muted)] underline",children:"Clear"})]}),rt.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"}),a.jsx("th",{className:"w-8"})]})}),a.jsx("tbody",{children:rt.map((B,ne)=>{const je=B.type==="BUY",Fe=!je&&B.gainLoss!=null&&B.gainLoss!==0,Le=Fe&&B.gainLoss>=0,ie=I==="all"?Se.find(Ee=>Ee.portfolioId===B.portfolioId):null,Nt={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[B.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:B.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${je?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:B.type}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${Nt.bg} ${Nt.text}`,children:B.transactionType})]})}),a.jsxs("td",{className:"py-2.5 px-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate max-w-[200px]",children:B.fundName}),ie&&a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:$c(ie.portfolioName)})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:B.units.toFixed(2)}),a.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",B.price.toFixed(2)]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(B.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:Fe?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${Le?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Le?"+":"",G(B.gainLoss)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-1",children:a.jsx(Vc,{txn:B,isOpen:Q===B.transactionId,onToggle:()=>de(Q===B.transactionId?null:B.transactionId),onEdit:()=>{de(null),H({editTxn:B})},onDelete:()=>{de(null),ua(B.transactionId)}})})]},B.transactionId||`txn-${ne}`)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:rt.map((B,ne)=>{const je=B.type==="BUY",Fe=!je&&B.gainLoss!=null&&B.gainLoss!==0,Le=Fe&&B.gainLoss>=0;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${je?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:B.type}),a.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:B.transactionType})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:B.date}),a.jsx(Vc,{txn:B,isOpen:Q===B.transactionId,onToggle:()=>de(Q===B.transactionId?null:B.transactionId),onEdit:()=>{de(null),H({editTxn:B})},onDelete:()=>{de(null),ua(B.transactionId)}})]})]}),a.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate mb-1",children:B.fundName}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("p",{className:"text-[var(--text-dim)]",children:[B.units.toFixed(2)," units @ ",B.price.toFixed(2)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(B.totalAmount)}),Fe&&a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Le?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",Le?"+":"",G(B.gainLoss)]})]})]}),B.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:B.notes})]},B.transactionId||`txn-m-${ne}`)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(hu,{size:28,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:Z!=="all"?"No transactions for this fund":"No transactions yet"}),Z!=="all"?a.jsx("button",{onClick:()=>_("all"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Show all transactions"}):a.jsx("button",{onClick:()=>H({invest:I!=="all"?I:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first investment"})]})]})]}),a.jsx(Et,{open:T==="addPortfolio"||!!T?.editPortfolio,onClose:()=>H(null),title:T?.editPortfolio?"Edit Portfolio":"New MF Portfolio",children:a.jsx(mA,{initial:T?.editPortfolio||void 0,onSave:qa,onDelete:T?.editPortfolio?ca:void 0,onCancel:()=>H(null)})}),a.jsx(Et,{open:!!T?.invest,onClose:()=>H(null),title:"Invest in Mutual Fund",wide:!0,children:a.jsx(tT,{portfolioId:typeof T?.invest=="object"?T.invest.portfolioId:typeof T?.invest=="string"?T.invest:void 0,fundCode:typeof T?.invest=="object"?T.invest.fundCode:void 0,fundName:typeof T?.invest=="object"?T.invest.fundName:void 0,onSave:ta,onCancel:()=>H(null)},T?.invest?.fundCode||T?.invest?.portfolioId||T?.invest)}),a.jsx(Et,{open:!!T?.redeem,onClose:()=>H(null),title:"Redeem Mutual Fund",wide:!0,children:a.jsx(aT,{portfolioId:typeof T?.redeem=="object"?T.redeem.portfolioId:typeof T?.redeem=="string"?T.redeem:void 0,fundCode:typeof T?.redeem=="object"?T.redeem.fundCode:void 0,onSave:pt,onCancel:()=>H(null)},T?.redeem?.fundCode||T?.redeem?.portfolioId||T?.redeem)}),a.jsx(Et,{open:!!T?.switchFunds,onClose:()=>H(null),title:"Switch Funds",wide:!0,children:a.jsx(nT,{portfolioId:typeof T?.switchFunds=="string"?T.switchFunds:void 0,onSave:aa,onCancel:()=>H(null)})}),a.jsx(Et,{open:!!T?.allocations,onClose:()=>H(null),title:"Manage Portfolio Allocation",wide:!0,children:T?.allocations&&a.jsx(rT,{portfolioId:T.allocations,onSave:br,onCancel:()=>H(null)})}),a.jsx(Et,{open:T==="rebalance",onClose:()=>H(null),title:"Rebalance Portfolios",wide:!0,children:T==="rebalance"&&a.jsx(C1,{})}),a.jsx(Et,{open:T==="buyOpp",onClose:()=>H(null),title:"Buy Opportunities",wide:!0,children:T==="buyOpp"&&a.jsx(zy,{})}),a.jsx(Et,{open:!!T?.editTxn,onClose:()=>H(null),title:"Edit Transaction",children:T?.editTxn&&a.jsx(lT,{txn:T.editTxn,onSave:Lt,onCancel:()=>H(null)})})]})}function Nl({label:s,value:l,sub:r,positive:t,bold:o}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function Vc({txn:s,isOpen:l,onToggle:r,onEdit:t,onDelete:o}){const u=N.useRef(null),[d,m]=N.useState({top:0,right:0});if(!s.transactionId)return null;function x(p){if(p.stopPropagation(),!l&&u.current){const v=u.current.getBoundingClientRect();m({top:v.bottom+4,right:window.innerWidth-v.right})}r()}return a.jsxs(a.Fragment,{children:[a.jsx("button",{ref:u,onClick:x,className:"p-1 rounded-md text-[var(--text-dim)] hover:text-[var(--text-muted)] hover:bg-[var(--bg-hover)] transition-colors",title:"Actions",children:a.jsx(x5,{size:14})}),l&&np.createPortal(a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{position:"fixed",inset:0,zIndex:9998},onClick:p=>{p.stopPropagation(),r()}}),a.jsxs("div",{style:{position:"fixed",top:d.top,right:d.right,zIndex:9999},className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl py-1 min-w-[120px] animate-fade-in",children:[a.jsxs("button",{onClick:p=>{p.stopPropagation(),t()},className:"w-full text-left px-3 py-2 text-xs text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)] flex items-center gap-2 transition-colors",children:[a.jsx(hn,{size:12})," Edit"]}),a.jsxs("button",{onClick:p=>{p.stopPropagation(),o()},className:"w-full text-left px-3 py-2 text-xs text-[var(--accent-rose)] hover:bg-rose-500/10 flex items-center gap-2 transition-colors",children:[a.jsx(Lu,{size:12})," Delete"]})]})]}),document.body)]})}function lT({txn:s,onSave:l,onCancel:r}){const[t,o]=N.useState(()=>{const S=cn(s.date);return S?S.toISOString().split("T")[0]:""}),[u,d]=N.useState(String(s.units||"")),[m,x]=N.useState(String(s.price||"")),[p,v]=N.useState(s.notes||""),[b,y]=N.useState(!1),w=(Number(u)||0)*(Number(m)||0);async function M(){if(!(!u||Number(u)<=0)&&!(!m||Number(m)<=0)){y(!0);try{await l({transactionId:s.transactionId,date:t,units:u,price:m,notes:p})}finally{y(!1)}}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:s.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[s.type,"  ",s.transactionType,"  ",s.transactionId]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Date"}),a.jsx(Rn,{value:t,onChange:o})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Units"}),a.jsx("input",{type:"number",value:u,onChange:S=>d(S.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"NAV (price)"}),a.jsx("input",{type:"number",value:m,onChange:S=>x(S.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]})]}),w>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:G(w)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Notes"}),a.jsx("input",{type:"text",value:p,onChange:S=>v(S.target.value),placeholder:"Optional notes...",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:"Cancel"}),a.jsx("button",{onClick:M,disabled:b||!u||Number(u)<=0||!m||Number(m)<=0,className:"px-4 py-2 text-xs font-bold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Saving...":"Update Transaction"})]})]})}function iT({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,activeInvestmentAccounts:u}=Ke(),d=!!s,[m,x]=N.useState({portfolioName:s?.portfolioName||"",ownerId:s?.ownerId||"",investmentAccountId:s?.investmentAccountId||""}),[p,v]=N.useState({}),[b,y]=N.useState(!1);function w(k,O){x(T=>({...T,[k]:O})),v(T=>({...T,[k]:void 0}))}function M(k){x(O=>({...O,ownerId:k,investmentAccountId:""})),v(O=>({...O,ownerId:void 0}))}const S=N.useMemo(()=>m.ownerId?u.filter(k=>k.memberId===m.ownerId&&(k.accountType==="Demat + Trading"||k.accountType==="Trading")).map(k=>({value:k.accountId,label:`${k.accountName} - ${k.platformBroker}`})):[],[u,m.ownerId]);function g(){const k={};return m.portfolioName.trim()||(k.portfolioName="Required"),m.ownerId||(k.ownerId="Required"),m.investmentAccountId||(k.investmentAccountId="Required"),v(k),Object.keys(k).length===0}async function j(){if(g()){y(!0);try{await l(m)}finally{y(!1)}}}const D=o.map(k=>({value:k.memberId,label:`${k.memberName} (${k.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(ee,{label:"Portfolio Name",required:!0,error:p.portfolioName,children:a.jsx(be,{value:m.portfolioName,onChange:k=>w("portfolioName",k),placeholder:"e.g., Long-Term Growth"})}),a.jsx(ee,{label:"Owner",required:!0,error:p.ownerId,children:a.jsx(Re,{value:m.ownerId,onChange:M,options:D,placeholder:"Select family member..."})}),a.jsx(ee,{label:"Investment Account",required:!0,error:p.investmentAccountId,children:a.jsx(Re,{value:m.investmentAccountId,onChange:k=>w("investmentAccountId",k),options:S,placeholder:m.ownerId?S.length?"Select demat account...":"No demat accounts for this member":"Select owner first..."})}),d&&r&&a.jsx(hr,{onClick:r}),a.jsx(xa,{onCancel:t,onSubmit:j,submitLabel:d?"Update":"Create Portfolio",loading:b})]})}function oT({portfolioId:s,onSave:l,onCancel:r}){const{stockPortfolios:t}=Ke(),{selectedMember:o}=Jt(),u=N.useMemo(()=>{const D=t.filter(k=>k.status==="Active");return o==="all"?D:D.filter(k=>k.ownerId===o)},[t,o]),[d,m]=N.useState({portfolioId:s||"",symbol:"",companyName:"",exchange:"NSE",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[x,p]=N.useState({}),[v,b]=N.useState(!1);function y(D,k){m(O=>({...O,[D]:k})),p(O=>({...O,[D]:void 0}))}const w=N.useMemo(()=>{const D=Number(d.quantity)||0,k=Number(d.pricePerShare)||0;return D*k},[d.quantity,d.pricePerShare]),M=N.useMemo(()=>w+(Number(d.brokerage)||0),[w,d.brokerage]);function S(){const D={};return d.portfolioId||(D.portfolioId="Required"),d.symbol.trim()||(D.symbol="Required"),d.companyName.trim()||(D.companyName="Required"),d.date||(D.date="Required"),(!d.quantity||Number(d.quantity)<=0)&&(D.quantity="Must be > 0"),(!d.pricePerShare||Number(d.pricePerShare)<=0)&&(D.pricePerShare="Must be > 0"),p(D),Object.keys(D).length===0}async function g(){if(S()){b(!0);try{await l(d)}finally{b(!1)}}}const j=u.map(D=>{const k=D.portfolioName?.replace(/^PFL-/,"")||D.portfolioName,O=D.ownerName?`${k} (${D.ownerName})`:k;return{value:D.portfolioId,label:O}});return a.jsxs("div",{className:"space-y-4",children:[a.jsx(ee,{label:"Portfolio",required:!0,error:x.portfolioId,children:a.jsx(Re,{value:d.portfolioId,onChange:D=>y("portfolioId",D),options:j,placeholder:"Select portfolio..."})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Stock Symbol",required:!0,error:x.symbol,children:a.jsx(be,{value:d.symbol,onChange:D=>y("symbol",D.toUpperCase()),placeholder:"e.g., RELIANCE"})}),a.jsx(ee,{label:"Company Name",required:!0,error:x.companyName,children:a.jsx(be,{value:d.companyName,onChange:D=>y("companyName",D),placeholder:"e.g., Reliance Industries Ltd"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(ee,{label:"Purchase Date",required:!0,error:x.date,children:a.jsx(Rn,{value:d.date,onChange:D=>y("date",D)})}),a.jsx(ee,{label:"Quantity (Shares)",required:!0,error:x.quantity,children:a.jsx(be,{type:"number",value:d.quantity,onChange:D=>y("quantity",D),placeholder:"e.g., 100"})}),a.jsx(ee,{label:"Price per Share ()",required:!0,error:x.pricePerShare,children:a.jsx(be,{type:"number",value:d.pricePerShare,onChange:D=>y("pricePerShare",D),placeholder:"e.g., 2500"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Brokerage ()",children:a.jsx(be,{type:"number",value:d.brokerage,onChange:D=>y("brokerage",D),placeholder:"0"})}),a.jsx("div",{className:"flex flex-col justify-end",children:a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:G(w)}),Number(d.brokerage)>0&&a.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:["Net: ",G(M)]})]})})]}),a.jsx(ee,{label:"Notes",children:a.jsx(be,{value:d.notes,onChange:D=>y("notes",D),placeholder:"Optional notes..."})}),a.jsx(xa,{onCancel:r,onSubmit:g,submitLabel:"Buy Stock",loading:v})]})}function cT({portfolioId:s,onSave:l,onCancel:r}){const{stockPortfolios:t,stockHoldings:o}=Ke(),{selectedMember:u}=Jt(),d=N.useMemo(()=>{const z=t.filter(L=>L.status==="Active");return u==="all"?z:z.filter(L=>L.ownerId===u)},[t,u]),[m,x]=N.useState({portfolioId:s||"",symbol:"",companyName:"",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[p,v]=N.useState({}),[b,y]=N.useState(!1);function w(z,L){x(V=>({...V,[z]:L})),v(V=>({...V,[z]:void 0}))}const M=N.useMemo(()=>m.portfolioId?o.filter(z=>z.portfolioId===m.portfolioId&&z.quantity>0):[],[o,m.portfolioId]),S=M.find(z=>z.symbol===m.symbol),g=S?.quantity||0,j=N.useMemo(()=>{const z=Number(m.quantity)||0,L=Number(m.pricePerShare)||0;return z*L},[m.quantity,m.pricePerShare]),D=N.useMemo(()=>j-(Number(m.brokerage)||0),[j,m.brokerage]);function k(z){const L=M.find(V=>V.symbol===z);x(V=>({...V,symbol:z,companyName:L?.companyName||""})),v(V=>({...V,symbol:void 0}))}function O(z){x(L=>({...L,portfolioId:z,symbol:"",companyName:"",quantity:""})),v(L=>({...L,portfolioId:void 0}))}function T(){const z={};return m.portfolioId||(z.portfolioId="Required"),m.symbol||(z.symbol="Required"),m.date||(z.date="Required"),(!m.quantity||Number(m.quantity)<=0)&&(z.quantity="Must be > 0"),Number(m.quantity)>g&&(z.quantity=`Max ${g} shares`),(!m.pricePerShare||Number(m.pricePerShare)<=0)&&(z.pricePerShare="Must be > 0"),v(z),Object.keys(z).length===0}async function H(){if(T()){y(!0);try{await l(m)}finally{y(!1)}}}const I=d.map(z=>{const L=z.portfolioName?.replace(/^PFL-/,"")||z.portfolioName,V=z.ownerName?`${L} (${z.ownerName})`:L;return{value:z.portfolioId,label:V}}),R=M.map(z=>({value:z.symbol,label:`${z.symbol}  ${z.quantity} shares`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(ee,{label:"Portfolio",required:!0,error:p.portfolioId,children:a.jsx(Re,{value:m.portfolioId,onChange:O,options:I,placeholder:"Select portfolio..."})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Stock to Sell",required:!0,error:p.symbol,children:a.jsx(Re,{value:m.symbol,onChange:k,options:R,placeholder:m.portfolioId?M.length?"Select stock...":"No holdings in this portfolio":"Select portfolio first..."})}),S&&a.jsx("div",{className:"flex flex-col justify-end",children:a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:S.companyName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:g})," shares @ ",G(S.avgBuyPrice)," avg"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Sale Date",required:!0,error:p.date,children:a.jsx(Rn,{value:m.date,onChange:z=>w("date",z)})}),a.jsx(ee,{label:"Quantity to Sell",required:!0,error:p.quantity,children:a.jsx(be,{type:"number",value:m.quantity,onChange:z=>w("quantity",z),placeholder:g?`Max: ${g}`:""})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Sale Price per Share ()",required:!0,error:p.pricePerShare,children:a.jsx(be,{type:"number",value:m.pricePerShare,onChange:z=>w("pricePerShare",z),placeholder:"e.g., 2750"})}),a.jsx(ee,{label:"Brokerage ()",children:a.jsx(be,{type:"number",value:m.brokerage,onChange:z=>w("brokerage",z),placeholder:"0"})})]}),j>0&&a.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Net Sale Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:G(D)})]}),S&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. P&L"}),(()=>{const z=Number(m.quantity)*S.avgBuyPrice,L=D-z,V=L>=0;return a.jsxs("p",{className:`text-sm font-bold tabular-nums ${V?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[V?"+":"",G(L)]})})()]})]})}),a.jsx(ee,{label:"Notes",children:a.jsx(be,{value:m.notes,onChange:z=>w("notes",z),placeholder:"Optional notes..."})}),a.jsx(xa,{onCancel:r,onSubmit:H,submitLabel:"Sell Stock",loading:b})]})}function uT(){const{selectedMember:s}=Jt(),{stockPortfolios:l,stockHoldings:r,stockTransactions:t,activeInvestmentAccounts:o,addStockPortfolio:u,updateStockPortfolio:d,deleteStockPortfolio:m,buyStock:x,sellStock:p}=Ke(),{showToast:v,showBlockUI:b,hideBlockUI:y}=In(),w=Pn(),{mv:M}=zn(),[S,g]=N.useState(null),[j,D]=N.useState("all"),[k,O]=N.useState("holdings"),[T,H]=N.useState(!1),I=N.useMemo(()=>{if(!l)return[];const _=l.filter(Q=>Q.status!=="Inactive");return s==="all"?_:_.filter(Q=>Q.ownerId===s)},[l,s]),R=N.useMemo(()=>r?I.map(_=>{const Q=r.filter(ke=>ke.portfolioId===_.portfolioId),de=(t||[]).filter(ke=>ke.portfolioId===_.portfolioId),P=Q.reduce((ke,qe)=>ke+qe.totalInvestment,0),J=Q.reduce((ke,qe)=>ke+qe.currentValue,0),me=J-P,fe=de.filter(ke=>ke.type==="SELL"&&ke.realizedPL!=null).reduce((ke,qe)=>ke+qe.realizedPL,0),Se=me+fe,ge=P>0?Se/P*100:0,we=o.find(ke=>ke.accountId===_.investmentAccountId);return{..._,holdings:Q,txns:de,invested:P,current:J,unrealizedPL:me,realizedPL:fe,totalPL:Se,totalPLPct:ge,stockCount:Q.length,platform:we?.platformBroker||_.investmentAccountName||"",clientId:we?.accountClientId||""}}):[],[I,r,t,o]),z=N.useMemo(()=>{const _=j==="all"?R:R.filter(we=>we.portfolioId===j),Q=_.reduce((we,ke)=>we+ke.invested,0),de=_.reduce((we,ke)=>we+ke.current,0),P=_.reduce((we,ke)=>we+ke.unrealizedPL,0),J=_.reduce((we,ke)=>we+ke.realizedPL,0),me=P+J,fe=Q>0?me/Q*100:0,Se=Q>0?P/Q*100:0,ge=_.reduce((we,ke)=>we+ke.stockCount,0);return{invested:Q,current:de,unrealizedPL:P,unrealizedPLPct:Se,realizedPL:J,totalPL:me,totalPLPct:fe,stocks:ge}},[R,j]),L=N.useMemo(()=>r?j==="all"?r.filter(_=>I.some(Q=>Q.portfolioId===_.portfolioId)):r.filter(_=>_.portfolioId===j):[],[r,I,j]),V=N.useMemo(()=>t?(j==="all"?t.filter(Q=>I.some(de=>de.portfolioId===Q.portfolioId)):t.filter(Q=>Q.portfolioId===j)).sort((Q,de)=>new Date(de.date)-new Date(Q.date)):[],[t,I,j]);if(l===null||r===null)return a.jsx(vr,{title:"Loading stocks",cards:5});const A=R.find(_=>_.portfolioId===j),le=j==="all"?`All Portfolios (${I.length})`:`${A?.portfolioName}  ${M(A?.ownerName,"name")}`;async function oe(_){b("Saving...");try{S?.editPortfolio?await d(S.editPortfolio.portfolioId,_):await u(_),v(S?.editPortfolio?"Portfolio updated":"Portfolio created"),g(null)}catch(Q){v(Q.message||"Failed to save portfolio","error")}finally{y()}}async function re(){if(S?.editPortfolio&&await w("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){b("Deactivating...");try{await m(S.editPortfolio.portfolioId),v("Portfolio deactivated"),D("all"),g(null)}catch(_){v(_.message||"Failed to deactivate portfolio","error")}finally{y()}}}async function q(_){b("Recording purchase...");try{await x(_),v("Stock purchase recorded"),g(null)}catch(Q){v(Q.message||"Failed to record purchase","error")}finally{y()}}async function Z(_){b("Recording sale...");try{await p(_),v("Stock sale recorded"),g(null)}catch(Q){v(Q.message||"Failed to record sale","error")}finally{y()}}return a.jsxs("div",{className:"space-y-4",children:[I.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Ji,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No stock portfolios yet"}),a.jsx("button",{onClick:()=>g("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>H(!T),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[a.jsx(Ji,{size:14,className:"text-violet-400 shrink-0"}),a.jsx("span",{className:"truncate",children:le}),a.jsx(cr,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${T?"rotate-180":""}`})]}),T&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>H(!1)}),a.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl min-w-[280px] py-1 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{D("all"),H(!1),O("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${j==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",I.length,")"]}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),R.map(_=>{const Q=_.totalPL>=0;return a.jsx("button",{onClick:()=>{D(_.portfolioId),H(!1),O("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${j===_.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm ${j===_.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:_.portfolioName}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[M(_.ownerName,"name"),"  ",_.platform]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(_.current)}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Q?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Q?"+":"",_.totalPLPct.toFixed(1),"%"]})]})]})},_.portfolioId)})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[A&&a.jsxs("button",{onClick:()=>g({editPortfolio:A}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(hn,{size:12})," Edit"]}),a.jsxs("button",{onClick:()=>g("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zt,{size:14})," New Portfolio"]})]})]}),A&&a.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Platform:"})," ",A.platform]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",M(A.clientId,"clientId")]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Stocks:"})," ",A.stockCount]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(Xi,{label:"Invested",value:G(z.invested)}),a.jsx(Xi,{label:"Current Value",value:G(z.current),bold:!0}),a.jsx(Xi,{label:"Unrealized P&L",value:`${z.unrealizedPL>=0?"+":""}${G(z.unrealizedPL)}`,sub:`${z.unrealizedPLPct>=0?"+":""}${z.unrealizedPLPct.toFixed(1)}%`,positive:z.unrealizedPL>=0}),a.jsx(Xi,{label:"Realized P&L",value:`${z.realizedPL>=0?"+":""}${G(z.realizedPL)}`,positive:z.realizedPL>=0}),a.jsx(Xi,{label:"Total P&L",value:`${z.totalPL>=0?"+":""}${G(z.totalPL)}`,sub:`${z.totalPLPct>=0?"+":""}${z.totalPLPct.toFixed(1)}%`,positive:z.totalPL>=0,bold:!0})]}),a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[a.jsxs("button",{onClick:()=>O("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${k==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(Dy,{size:12})," Holdings (",L.length,")"]}),a.jsxs("button",{onClick:()=>O("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${k==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(hu,{size:12})," Transactions (",V.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>j!=="all"&&g({buy:j}),disabled:j==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${j==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:j==="all"?"Select a portfolio first":"",children:[a.jsx(Tl,{size:14})," Buy"]}),a.jsxs("button",{onClick:()=>j!=="all"&&L.length>0&&g({sell:j}),disabled:j==="all"||L.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${j==="all"||L.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:j==="all"?"Select a portfolio first":"",children:[a.jsx(Iu,{size:14})," Sell"]})]})]}),k==="holdings"&&a.jsx(a.Fragment,{children:L.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Avg Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Value"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Returns"})]})}),a.jsxs("tbody",{children:[L.map(_=>{const Q=_.unrealizedPL>=0,de=j==="all"?R.find(P=>P.portfolioId===_.portfolioId):null;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:_.companyName}),a.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[_.symbol,de&&a.jsxs("span",{className:"ml-1.5 text-[var(--text-dim)] font-sans",children:[" ",de.portfolioName]})]})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:_.quantity}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:G(_.avgBuyPrice)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(_.currentPrice)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:G(_.totalInvestment)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(_.currentValue)}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${Q?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Q?"+":"",G(_.unrealizedPL)]}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${Q?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Q?"+":"",_.unrealizedPLPct.toFixed(1),"%"]})]},_.holdingId)}),a.jsxs("tr",{className:"bg-[var(--bg-inset)] border-t-2 border-[var(--border-light)]",children:[a.jsxs("td",{className:"py-2.5 px-4 text-xs font-semibold text-[var(--text-muted)]",children:["Total (",L.length," stocks)"]}),a.jsx("td",{colSpan:3,className:"py-2.5 px-3"}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(z.invested)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(z.current)}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${z.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[z.unrealizedPL>=0?"+":"",G(z.unrealizedPL)]}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${z.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[z.unrealizedPLPct>=0?"+":"",z.unrealizedPLPct.toFixed(1),"%"]})]})]})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:L.map(_=>{const Q=_.unrealizedPL>=0,de=j==="all"?R.find(P=>P.portfolioId===_.portfolioId):null;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:_.companyName}),a.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[_.symbol,de&&a.jsxs("span",{className:"ml-1 font-sans",children:[" ",de.portfolioName]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`text-xs font-bold tabular-nums ${Q?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Q?"+":"",_.unrealizedPLPct.toFixed(1),"%"]}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Q?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Q?"+":"",G(_.unrealizedPL)]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("div",{className:"text-[var(--text-dim)]",children:[a.jsxs("span",{children:[_.quantity," shares"]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:["Avg ",G(_.avgBuyPrice)]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:["CMP ",G(_.currentPrice)]})]}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(_.currentValue)})]})]},_.holdingId)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(Ji,{size:28,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",A?" in this portfolio":""]}),a.jsx("button",{onClick:()=>g({buy:j!=="all"?j:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Buy your first stock"})]})}),k==="transactions"&&a.jsx(a.Fragment,{children:V.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Brokerage"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Net"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Realized P&L"})]})}),a.jsx("tbody",{children:V.map(_=>{const Q=_.type==="BUY",de=!Q&&_.realizedPL!=null,P=de&&_.realizedPL>=0,J=j==="all"?R.find(me=>me.portfolioId===_.portfolioId):null;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)]",children:_.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${Q?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:_.type})}),a.jsxs("td",{className:"py-2.5 px-3",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:_.symbol}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[140px]",children:[_.companyName,J&&a.jsxs("span",{children:["  ",J.portfolioName]})]})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:_.quantity}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:G(_.pricePerShare)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:G(_.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-dim)] tabular-nums",children:_.brokerage>0?G(_.brokerage):""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(_.netAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:de?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${P?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[P?"+":"",G(_.realizedPL)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},_.transactionId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:V.map(_=>{const Q=_.type==="BUY",de=!Q&&_.realizedPL!=null,P=de&&_.realizedPL>=0;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${Q?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:_.type}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:_.symbol})]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:_.date})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[_.quantity," shares @ ",G(_.pricePerShare)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(_.netAmount)}),de&&a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${P?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["P&L: ",P?"+":"",G(_.realizedPL)]})]})]}),_.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:_.notes})]},_.transactionId)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(hu,{size:28,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions yet"}),a.jsx("button",{onClick:()=>g({buy:j!=="all"?j:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first purchase"})]})})]}),a.jsx(Et,{open:S==="addPortfolio"||!!S?.editPortfolio,onClose:()=>g(null),title:S?.editPortfolio?"Edit Portfolio":"New Stock Portfolio",children:a.jsx(iT,{initial:S?.editPortfolio||void 0,onSave:oe,onDelete:S?.editPortfolio?re:void 0,onCancel:()=>g(null)})}),a.jsx(Et,{open:!!S?.buy,onClose:()=>g(null),title:"Buy Stock",wide:!0,children:a.jsx(oT,{portfolioId:typeof S?.buy=="string"?S.buy:void 0,onSave:q,onCancel:()=>g(null)})}),a.jsx(Et,{open:!!S?.sell,onClose:()=>g(null),title:"Sell Stock",wide:!0,children:a.jsx(cT,{portfolioId:typeof S?.sell=="string"?S.sell:void 0,onSave:Z,onCancel:()=>g(null)})})]})}function Xi({label:s,value:l,sub:r,positive:t,bold:o}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}const dT=["Self","Spouse","Father","Mother","Son","Daughter","Brother","Sister","Other"].map(s=>({value:s,label:s})),Gc={pan:/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,aadhar:/^\d{12}$/,email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,mobile:/^\d{10}$/};function mT({initial:s,onSave:l,onDelete:r,onCancel:t}){const o=!!s,[u,d]=N.useState({memberName:s?.memberName||"",relationship:s?.relationship||"",pan:s?.pan||"",aadhar:s?.aadhar||"",email:s?.email||"",mobile:s?.mobile||"",includeInEmailReports:s?.includeInEmailReports??!0,status:s?.status||"Active"}),[m,x]=N.useState({}),[p,v]=N.useState(!1),[b,y]=N.useState(()=>{const k=s?.dynamicFields||{};return Object.entries(k).map(([O,T])=>({key:O,value:T}))});function w(k,O){d(T=>({...T,[k]:O})),x(T=>({...T,[k]:void 0}))}function M(){const k={};return u.memberName.trim()||(k.memberName="Required"),u.relationship||(k.relationship="Required"),Gc.pan.test(u.pan.toUpperCase())||(k.pan="Format: ABCDE1234F"),Gc.aadhar.test(u.aadhar)||(k.aadhar="12 digits required"),Gc.email.test(u.email)||(k.email="Invalid email"),Gc.mobile.test(u.mobile)||(k.mobile="10 digits required"),x(k),Object.keys(k).length===0}function S(){y(k=>[...k,{key:"",value:""}])}function g(k,O,T){y(H=>H.map((I,R)=>R===k?{...I,[O]:T}:I))}function j(k){y(O=>O.filter((T,H)=>H!==k))}async function D(){if(!M())return;const k={};b.forEach(({key:O,value:T})=>{const H=O.trim();H&&(k[H]=T)}),v(!0);try{await l({...u,pan:u.pan.toUpperCase(),dynamicFields:k})}finally{v(!1)}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Member Name",required:!0,error:m.memberName,children:a.jsx(be,{value:u.memberName,onChange:k=>w("memberName",k),placeholder:"e.g., Jagadeesh"})}),a.jsx(ee,{label:"Relationship",required:!0,error:m.relationship,children:a.jsx(Re,{value:u.relationship,onChange:k=>w("relationship",k),options:dT,placeholder:"Select..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"PAN",required:!0,error:m.pan,children:a.jsx(be,{sensitive:!0,value:u.pan,onChange:k=>w("pan",k.toUpperCase()),placeholder:"ABCDE1234F",maxLength:10})}),a.jsx(ee,{label:"Aadhar",required:!0,error:m.aadhar,children:a.jsx(be,{sensitive:!0,value:u.aadhar,onChange:k=>w("aadhar",k.replace(/\D/g,"")),placeholder:"123456789012",maxLength:12})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Email",required:!0,error:m.email,children:a.jsx(be,{sensitive:!0,type:"email",value:u.email,onChange:k=>w("email",k),placeholder:"email@example.com"})}),a.jsx(ee,{label:"Mobile",required:!0,error:m.mobile,children:a.jsx(be,{sensitive:!0,value:u.mobile,onChange:k=>w("mobile",k.replace(/\D/g,"")),placeholder:"9876543210",maxLength:10})})]}),a.jsx(k3,{checked:u.includeInEmailReports,onChange:k=>w("includeInEmailReports",k),label:"Include in email reports"}),o&&a.jsx(ee,{label:"Status",children:a.jsx(Re,{value:u.status,onChange:k=>w("status",k),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)]",children:"Custom Fields"}),a.jsxs("button",{onClick:S,type:"button",className:"flex items-center gap-1 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[a.jsx(Zt,{size:12})," Add Field"]})]}),b.length===0&&a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"No custom fields. Add DOB, occupation, blood group, etc."}),a.jsx("div",{className:"space-y-2",children:b.map((k,O)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{value:k.key,onChange:T=>g(O,"key",T.target.value),placeholder:"Field name",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),a.jsx("input",{value:k.value,onChange:T=>g(O,"value",T.target.value),placeholder:"Value",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),a.jsx("button",{onClick:()=>j(O),type:"button",className:"p-1 text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:a.jsx(Lu,{size:13})})]},O))})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[o&&r?a.jsx(hr,{onClick:r}):a.jsx("div",{}),a.jsx(xa,{onCancel:t,onSubmit:D,submitLabel:o?"Update":"Add Member",loading:p})]})]})}const Qc=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],rg={Self:"bg-violet-500/15 text-[var(--accent-violet)]",Spouse:"bg-rose-500/15 text-[var(--accent-rose)]",Father:"bg-blue-500/15 text-[var(--accent-blue)]",Mother:"bg-amber-500/15 text-[var(--accent-amber)]",Son:"bg-emerald-500/15 text-emerald-400",Daughter:"bg-emerald-500/15 text-emerald-400"};function fT(){const{members:s,addMember:l,updateMember:r,deleteMember:t}=Ke(),{showToast:o,showBlockUI:u,hideBlockUI:d}=In(),m=Pn(),{mv:x}=zn(),[p,v]=N.useState(null);if(s===null)return a.jsx(vr,{title:"Loading family",cards:3});const b=s.filter(M=>M.status!=="Inactive");async function y(M){u("Saving member...");try{p?.edit?await r(p.edit.memberId,M):await l(M),o(p?.edit?"Member updated":"Member added"),v(null)}catch(S){o(S.message||"Failed to save member","error")}finally{d()}}async function w(){if(p?.edit&&await m("Deactivate this family member?",{title:"Deactivate Member",confirmLabel:"Deactivate"})){u("Deactivating...");try{await t(p.edit.memberId),o("Member deactivated"),v(null)}catch(M){o(M.message||"Failed to deactivate member","error")}finally{d()}}}return[...new Set(b.flatMap(M=>Object.keys(M.dynamicFields||{})))],a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zt,{size:14})," Add Member"]})}),b.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(_l,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No family members yet"}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first member"})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Relationship"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"PAN"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Aadhaar"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Mobile"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:b.map((M,S)=>{const g=M.dynamicFields||{},j=Object.entries(g);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Qc[S%Qc.length]}`,children:M.memberName.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:x(M.memberName,"name")}),j.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-0.5",children:[j.slice(0,3).map(([D,k])=>a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[D,": ",k]},D)),j.length>3&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",j.length-3," more"]})]})]})]})}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${rg[M.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.relationship})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:x(M.pan,"pan")||""}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:x(M.aadhar,"aadhaar")||""}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] truncate max-w-[180px]",children:x(M.email,"email")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:x(M.mobile,"mobile")}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(hn,{size:12})})})]},M.memberId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map((M,S)=>{const g=M.dynamicFields||{},j=Object.entries(g);return a.jsxs("div",{onClick:()=>v({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Qc[S%Qc.length]}`,children:M.memberName.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:x(M.memberName,"name")}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${rg[M.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.relationship})]}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] truncate",children:x(M.email,"email")})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:x(M.mobile,"mobile")}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["PAN: ",x(M.pan,"pan")||""]}),M.aadhar&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["Aadhaar: ",x(M.aadhar,"aadhaar")]})]})]}),j.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[j.slice(0,3).map(([D,k])=>a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[D,": ",k]},D)),j.length>3&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",j.length-3," more"]})]})]},M.memberId)})})]}),a.jsx(Et,{open:!!p,onClose:()=>v(null),title:p?.edit?"Edit Member":"Add Family Member",wide:!0,children:a.jsx(mT,{initial:p?.edit||void 0,onSave:y,onDelete:p?.edit?w:void 0,onCancel:()=>v(null)})})]})}const sg=["Retirement","Emergency Fund","Child Education","Home Purchase","Car","Travel","Wedding","Custom"].map(s=>({value:s,label:s})),lg=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],pT=[{value:"On Track",label:"On Track"},{value:"Needs Attention",label:"Needs Attention"},{value:"Achieved",label:"Achieved"},{value:"Paused",label:"Paused"}],Kc={Retirement:{inflation:6,cagr:12},"Emergency Fund":{inflation:0,cagr:7},"Child Education":{inflation:10,cagr:12},"Home Purchase":{inflation:8,cagr:12},Wedding:{inflation:6,cagr:12},Car:{inflation:5,cagr:10},Travel:{inflation:6,cagr:10},Custom:{inflation:6,cagr:12}},ig=[{label:"Basics",icon:co},{label:"Financials",icon:f5},{label:"Review",icon:$l}];function xT({initial:s,onSave:l,onDelete:r,onCancel:t}){const o=!!s,{activeMembers:u}=Ke(),d=[{value:"",label:"Family (Default)"},...u.map(R=>({value:R.memberId,label:R.memberName}))],[m,x]=N.useState(0),[p,v]=N.useState(()=>{if(o){const R=(s.expectedInflation||.06)*100,z=(s.expectedCAGR||.12)*100,L=s.targetDate?Math.max(0,(new Date(s.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,V=R/100;let A=s.targetAmount||0;return V>0&&L>0&&s.goalType!=="Emergency Fund"&&(A=s.targetAmount/Math.pow(1+V,L)),{goalType:s.goalType||"",goalName:s.goalName||"",familyMemberId:s.familyMemberId||"",todaysCost:Math.round(A).toString(),targetDate:s.targetDate||"",lumpsum:(s.lumpsumInvested||0).toString(),monthlySIP:(s.monthlyInvestment||0).toString(),inflation:R.toString(),cagr:z.toString(),priority:s.priority||"Medium",status:s.status||"On Track",notes:s.notes||"",monthlyExpenses:(s.monthlyExpenses||"").toString(),emergencyMonths:(s.emergencyMonths||6).toString()}}return{goalType:"",goalName:"",familyMemberId:"",todaysCost:"",targetDate:"",lumpsum:"",monthlySIP:"",inflation:"6",cagr:"12",priority:"Medium",status:"On Track",notes:"",monthlyExpenses:"",emergencyMonths:"6"}}),[b,y]=N.useState({}),[w,M]=N.useState(!1);function S(R,z){v(L=>({...L,[R]:z})),y(L=>({...L,[R]:void 0}))}N.useEffect(()=>{if(o||!p.goalType)return;const R=Kc[p.goalType]||Kc.Custom;v(z=>({...z,inflation:R.inflation.toString(),cagr:R.cagr.toString()}))},[p.goalType,o]);const g=p.goalType==="Retirement",j=p.goalType==="Emergency Fund",D=N.useMemo(()=>{const R=(Number(p.inflation)||0)/100,L=(Number(p.cagr)||0)/100/12,V=Number(p.lumpsum)||0,A=Number(p.monthlyExpenses)||0,le=Number(p.emergencyMonths)||6,oe=p.targetDate?Math.max(0,(new Date(p.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,re=Math.round(oe*12);let q=0,Z=0;g?(q=A*12*25,Z=q*Math.pow(1+R,oe)):j?(q=A*le,Z=q):(q=Number(p.todaysCost)||0,Z=R>0&&oe>0?q*Math.pow(1+R,oe):q),Z=Math.round(Z);const _=V>0&&re>0?V*Math.pow(1+L,re):V;let Q=0;if(Z>0&&re>0){const fe=Z-_;fe>0&&L>0?Q=fe/((Math.pow(1+L,re)-1)/L):fe>0&&(Q=fe/re),Q=Math.max(0,Math.ceil(Q))}const de=Q>0&&L>0&&re>0?Q*((Math.pow(1+L,re)-1)/L):Q*re,P=Math.round(V+Q*re),J=Math.round(Z-P),me=V>0&&_>=Z;return{todaysCost:q,inflatedTarget:Z,yearsToGo:oe,months:re,fvLumpsum:Math.round(_),requiredSIP:Q,fvRequiredSIP:Math.round(de),planTotalInvested:P,planReturns:J,lumpsumCoversGoal:me,hasTarget:Z>0}},[p.todaysCost,p.targetDate,p.lumpsum,p.inflation,p.cagr,p.monthlyExpenses,p.emergencyMonths,g,j]);function k(R){const z={};return R===0&&(p.goalType||(z.goalType="Required"),p.goalName.trim()||(z.goalName="Required")),R===1&&(p.targetDate||(z.targetDate="Required"),g||j?(!p.monthlyExpenses||Number(p.monthlyExpenses)<=0)&&(z.monthlyExpenses="Required"):(!p.todaysCost||Number(p.todaysCost)<=0)&&(z.todaysCost="Must be > 0")),y(z),Object.keys(z).length===0}function O(){const R={};return p.goalType||(R.goalType="Required"),p.goalName.trim()||(R.goalName="Required"),p.targetDate||(R.targetDate="Required"),g||j?(!p.monthlyExpenses||Number(p.monthlyExpenses)<=0)&&(R.monthlyExpenses="Required"):(!p.todaysCost||Number(p.todaysCost)<=0)&&(R.todaysCost="Must be > 0"),y(R),Object.keys(R).length===0}function T(){k(m)&&x(R=>Math.min(R+1,2))}async function H(){if(!O())return;const R=p.familyMemberId&&u.find(z=>z.memberId===p.familyMemberId)?.memberName||"Family";M(!0);try{await l({goalType:p.goalType,goalName:p.goalName,familyMemberId:p.familyMemberId||"",familyMember:R,targetAmount:D.inflatedTarget,targetDate:p.targetDate,priority:p.priority,status:p.status,notes:p.notes,expectedInflation:(Number(p.inflation)||0)/100,expectedCAGR:(Number(p.cagr)||0)/100,monthlyInvestment:D.requiredSIP||0,lumpsumInvested:Number(p.lumpsum)||0,monthlyExpenses:g||j?Number(p.monthlyExpenses)||0:void 0,emergencyMonths:j?Number(p.emergencyMonths)||6:void 0,isRetirement:g,currentCost:D.todaysCost})}finally{M(!1)}}const I=p.familyMemberId&&u.find(R=>R.memberId===p.familyMemberId)?.memberName||"Family";return o?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Goal Type",required:!0,error:b.goalType,children:a.jsx(Re,{value:p.goalType,onChange:R=>S("goalType",R),options:sg,placeholder:"Select type..."})}),a.jsx(ee,{label:"Goal Name",required:!0,error:b.goalName,children:a.jsx(be,{value:p.goalName,onChange:R=>S("goalName",R),placeholder:"e.g., Retirement Fund (2045)"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Family Member",error:b.familyMemberId,children:a.jsx(Re,{value:p.familyMemberId,onChange:R=>S("familyMemberId",R),options:d,placeholder:"Family (Default)"})}),a.jsx(ee,{label:"Target Date",required:!0,error:b.targetDate,children:a.jsx(Rn,{value:p.targetDate,onChange:R=>S("targetDate",R),maxDate:null})})]}),g||j?a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Monthly Expenses",required:!0,error:b.monthlyExpenses,children:a.jsx(be,{type:"number",value:p.monthlyExpenses,onChange:R=>S("monthlyExpenses",R),placeholder:"e.g., 50000"})}),j&&a.jsx(ee,{label:"Emergency Months",children:a.jsx(be,{type:"number",value:p.emergencyMonths,onChange:R=>S("emergencyMonths",R),placeholder:"6"})})]}):a.jsx(ee,{label:"Today's Cost",required:!0,error:b.todaysCost,children:a.jsx(be,{type:"number",value:p.todaysCost,onChange:R=>S("todaysCost",R),placeholder:"e.g., 1000000"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[a.jsx(ee,{label:"Inflation %",children:a.jsx(be,{type:"number",value:p.inflation,onChange:R=>S("inflation",R),placeholder:"6"})}),a.jsx(ee,{label:"Expected CAGR %",children:a.jsx(be,{type:"number",value:p.cagr,onChange:R=>S("cagr",R),placeholder:"12"})}),a.jsx(ee,{label:"Lumpsum Invested",children:a.jsx(be,{type:"number",value:p.lumpsum,onChange:R=>S("lumpsum",R),placeholder:"0"})})]}),D.hasTarget&&a.jsx(og,{calc:D,inflation:p.inflation,isRetirement:g,isEmergency:j}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Priority",children:a.jsx(Re,{value:p.priority,onChange:R=>S("priority",R),options:lg})}),a.jsx(ee,{label:"Status",children:a.jsx(Re,{value:p.status,onChange:R=>S("status",R),options:pT})})]}),a.jsx(ee,{label:"Notes",children:a.jsx(Bl,{value:p.notes,onChange:R=>S("notes",R),placeholder:"Optional notes...",rows:2})}),a.jsxs("div",{className:"flex items-center justify-between",children:[r?a.jsx(hr,{onClick:r}):a.jsx("div",{}),a.jsx(xa,{onCancel:t,onSubmit:H,submitLabel:"Update Goal",loading:w})]})]}):a.jsxs("div",{className:"space-y-5",children:[a.jsx("div",{className:"flex items-center gap-1 mb-2",children:ig.map((R,z)=>{const L=R.icon,V=z===m,A=z<m;return a.jsxs("div",{className:"flex items-center flex-1",children:[a.jsxs("button",{onClick:()=>{z<m&&x(z)},className:`flex items-center gap-1.5 text-xs font-semibold transition-colors ${V?"text-violet-400":A?"text-emerald-400 cursor-pointer":"text-[var(--text-dim)]"}`,children:[a.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold border ${V?"border-violet-400 bg-violet-500/15":A?"border-emerald-400 bg-emerald-500/15":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:A?a.jsx($l,{size:12}):a.jsx(L,{size:12})}),a.jsx("span",{className:"hidden sm:inline",children:R.label})]}),z<ig.length-1&&a.jsx("div",{className:`flex-1 h-px mx-2 ${A?"bg-emerald-400/40":"bg-[var(--border)]"}`})]},R.label)})}),m===0&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Tell us about your financial goal"}),a.jsx(ee,{label:"Goal Type",required:!0,error:b.goalType,children:a.jsx(Re,{value:p.goalType,onChange:R=>S("goalType",R),options:sg,placeholder:"Select type..."})}),p.goalType&&a.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)]",children:[a.jsx(Tl,{size:12,className:"text-[var(--text-dim)] shrink-0"}),a.jsxs("p",{className:"text-[11px] text-[var(--text-muted)]",children:["Default: ",Kc[p.goalType]?.inflation||6,"% inflation, ",Kc[p.goalType]?.cagr||12,"% CAGR",g&&"  Uses 25x annual expenses rule",j&&"  No inflation applied"]})]}),a.jsx(ee,{label:"Goal Name",required:!0,error:b.goalName,children:a.jsx(be,{value:p.goalName,onChange:R=>S("goalName",R),placeholder:"e.g., Retirement Fund (2045)"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Family Member",error:b.familyMemberId,children:a.jsx(Re,{value:p.familyMemberId,onChange:R=>S("familyMemberId",R),options:d,placeholder:"Family (Default)"})}),a.jsx(ee,{label:"Priority",children:a.jsx(Re,{value:p.priority,onChange:R=>S("priority",R),options:lg})})]})]}),m===1&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:g?"Set your retirement timeline and monthly expenses":j?"Set your emergency fund requirements":"Set your target and investment plan"}),g||j?a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Target Date",required:!0,error:b.targetDate,children:a.jsx(Rn,{value:p.targetDate,onChange:R=>S("targetDate",R),maxDate:null})}),a.jsx(ee,{label:"Monthly Expenses (Today)",required:!0,error:b.monthlyExpenses,children:a.jsx(be,{type:"number",value:p.monthlyExpenses,onChange:R=>S("monthlyExpenses",R),placeholder:"e.g., 50000"})}),j&&a.jsx(ee,{label:"Emergency Fund (Months)",children:a.jsx(be,{type:"number",value:p.emergencyMonths,onChange:R=>S("emergencyMonths",R),placeholder:"6"})}),g&&a.jsx("div",{className:"sm:col-span-2",children:a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Corpus = Monthly Expenses x 12 x 25 = ",G(D.todaysCost)," (today)"]})})]}):a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Target Date",required:!0,error:b.targetDate,children:a.jsx(Rn,{value:p.targetDate,onChange:R=>S("targetDate",R),maxDate:null})}),a.jsx(ee,{label:"Today's Cost",required:!0,error:b.todaysCost,children:a.jsx(be,{type:"number",value:p.todaysCost,onChange:R=>S("todaysCost",R),placeholder:"e.g., 1000000"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(ee,{label:`Inflation Rate (%)${j?"  N/A":""}`,children:a.jsx(be,{type:"number",value:p.inflation,onChange:R=>S("inflation",R),placeholder:"6"})}),a.jsx(ee,{label:"Expected Returns (CAGR %)",children:a.jsx(be,{type:"number",value:p.cagr,onChange:R=>S("cagr",R),placeholder:"12"})})]}),D.hasTarget&&a.jsx(og,{calc:D,inflation:p.inflation,isRetirement:g,isEmergency:j}),a.jsx(ee,{label:"Lumpsum You Plan to Invest (Optional)",children:a.jsx(be,{type:"number",value:p.lumpsum,onChange:R=>S("lumpsum",R),placeholder:"e.g., 500000"})}),D.hasTarget&&D.months>0&&a.jsx(cg,{calc:D,lumpsum:p.lumpsum}),a.jsx(ee,{label:"Notes",children:a.jsx(Bl,{value:p.notes,onChange:R=>S("notes",R),placeholder:"Optional notes...",rows:2})})]}),m===2&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Review your goal before saving"}),a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-3",children:[a.jsx(Sa,{label:"Goal",value:p.goalName,bold:!0}),a.jsx(Sa,{label:"Type",value:p.goalType,color:"violet"}),a.jsx(Sa,{label:"Member",value:I}),a.jsx(Sa,{label:"Priority",value:p.priority,badge:p.priority==="High"?"rose":p.priority==="Low"?"blue":"amber"}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[(g||j)&&a.jsx(Sa,{label:"Monthly Expenses",value:G(Number(p.monthlyExpenses)||0)}),j&&a.jsx(Sa,{label:"Emergency Months",value:p.emergencyMonths}),!g&&!j&&a.jsx(Sa,{label:"Today's Cost",value:G(D.todaysCost)}),a.jsx(Sa,{label:"Inflation",value:`${p.inflation}% p.a.`}),a.jsx(Sa,{label:"Expected CAGR",value:`${p.cagr}% p.a.`}),a.jsx(Sa,{label:"Future Value (Inflated)",value:G(D.inflatedTarget),bold:!0,color:"violet"})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[a.jsx(Sa,{label:"Lumpsum",value:G(Number(p.lumpsum)||0)}),a.jsx(Sa,{label:"Required SIP",value:`${G(D.requiredSIP)}/mo`,color:"emerald"}),a.jsx(Sa,{label:"Target Date",value:p.targetDate}),a.jsx(Sa,{label:"Time Remaining",value:D.yearsToGo>0?`${D.yearsToGo.toFixed(1)} years`:""})]})]}),D.hasTarget&&D.months>0&&a.jsx(cg,{calc:D,lumpsum:p.lumpsum,compact:!0})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-light)]",children:[a.jsx("div",{children:m>0&&a.jsxs("button",{onClick:()=>x(R=>R-1),className:"flex items-center gap-1 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(yy,{size:14})," Back"]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),m<2?a.jsxs("button",{onClick:T,className:"flex items-center gap-1 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors",children:["Next ",a.jsx(eo,{size:14})]}):a.jsx("button",{onClick:H,disabled:w,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Saving...":"Create Goal"})]})]})]})}function og({calc:s,inflation:l,isRetirement:r,isEmergency:t}){return t?a.jsx("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-500/5 border border-blue-500/15",children:a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Emergency Fund: ",a.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:G(s.inflatedTarget)}),a.jsx("span",{className:"text-[var(--text-dim)]",children:" (no inflation applied)"})]})}):a.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 rounded-lg bg-violet-500/5 border border-violet-500/15",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase tracking-wider",children:r?"Corpus Today":"Today's Cost"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:G(s.todaysCost)})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[l,"% x ",s.yearsToGo.toFixed(1),"yrs"]}),a.jsx(eo,{size:12,className:"text-violet-400 mx-auto"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-semibold text-violet-400 uppercase tracking-wider",children:"Future Value"}),a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:G(s.inflatedTarget)})]})]})}function cg({calc:s,lumpsum:l,compact:r}){const t=Number(l)||0;return r?a.jsxs("div",{className:"rounded-lg border p-3 bg-violet-500/5 border-violet-500/15",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Required Monthly SIP"}),a.jsxs("span",{className:"text-sm font-bold text-violet-400 tabular-nums",children:[s.lumpsumCoversGoal?"0":G(s.requiredSIP),"/mo"]})]}),s.lumpsumCoversGoal&&a.jsx("p",{className:"text-[10px] text-emerald-400 mt-1",children:"Lumpsum alone covers this goal!"})]}):a.jsxs("div",{className:"rounded-lg border p-3 space-y-2 bg-violet-500/5 border-violet-500/15",children:[s.lumpsumCoversGoal?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx($l,{size:12,className:"text-emerald-400"}),a.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400",children:"Lumpsum Covers Goal"})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-violet-400",children:"Required Monthly SIP"}),a.jsxs("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:[G(s.requiredSIP),"/mo"]})]}),s.planTotalInvested>0&&a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-2 space-y-1",children:[t>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["Lumpsum ",G(t)," grows to"]}),a.jsx("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:G(s.fvLumpsum)})]}),s.requiredSIP>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["SIP ",G(s.requiredSIP),"/mo x ",s.months," months"]}),a.jsx("span",{className:"text-[11px] font-semibold text-blue-400 tabular-nums",children:G(s.fvRequiredSIP)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Total You Invest"}),a.jsx("span",{className:"text-[11px] font-semibold text-[var(--text-primary)] tabular-nums",children:G(s.planTotalInvested)})]}),s.planReturns>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Wealth Created"}),a.jsxs("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:["+",G(s.planReturns)]})]})]})]})}function Sa({label:s,value:l,bold:r,color:t,badge:o}){const u=t==="violet"?"text-violet-400":t==="emerald"?"text-emerald-400":"text-[var(--text-primary)]";if(o){const d=o==="rose"?"bg-rose-500/15 text-rose-400":o==="blue"?"bg-blue-500/15 text-blue-400":"bg-amber-500/15 text-amber-400";return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${d}`,children:l})]})}return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s}),a.jsx("span",{className:`text-xs ${r?"font-bold text-sm":"font-semibold"} ${u}`,children:l})]})}function hT({goal:s,onClose:l}){const{mfPortfolios:r,goalPortfolioMappings:t,updateGoalMappings:o}=Ke(),u=r.filter(g=>g.status!=="Inactive"),d=N.useMemo(()=>t.filter(g=>g.goalId===s.goalId).map(g=>({portfolioId:g.portfolioId,allocationPct:g.allocationPct})),[t,s.goalId]),[m,x]=N.useState(d.length>0?d:[]),p=m.reduce((g,j)=>g+(j.allocationPct||0),0),v=p===100||m.length===0;function b(){const g=new Set(m.map(D=>D.portfolioId)),j=u.find(D=>!g.has(D.portfolioId));j&&x(D=>[...D,{portfolioId:j.portfolioId,allocationPct:0}])}function y(g){x(j=>j.filter((D,k)=>k!==g))}function w(g,j,D){x(k=>k.map((O,T)=>T===g?{...O,[j]:j==="allocationPct"?Math.max(0,Math.min(100,Number(D)||0)):D}:O))}function M(){o(s.goalId,m),l()}const S=m.reduce((g,j)=>{const D=u.find(k=>k.portfolioId===j.portfolioId);return g+(D?D.currentValue*j.allocationPct/100:0)},0);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),a.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:G(s.targetAmount)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Linked Portfolio Value"}),a.jsx("span",{className:"text-sm font-semibold text-emerald-400",children:G(S)})]})]}),m.length===0?a.jsxs("div",{className:"py-6 text-center",children:[a.jsx(xu,{size:24,className:"mx-auto mb-2 text-[var(--text-dim)]"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No portfolios linked to this goal"})]}):a.jsx("div",{className:"space-y-2",children:m.map((g,j)=>{const D=u.find(k=>k.portfolioId===g.portfolioId);return a.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("select",{value:g.portfolioId,onChange:k=>w(j,"portfolioId",k.target.value),className:"w-full px-2 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",children:u.map(k=>a.jsxs("option",{value:k.portfolioId,disabled:m.some((O,T)=>T!==j&&O.portfolioId===k.portfolioId),children:[k.portfolioName?.replace(/^PFL-/,"")||k.portfolioName,k.ownerName?` (${k.ownerName})`:"","  ",G(k.currentValue)]},k.portfolioId))}),D&&a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] mt-1 px-1",children:["Contributes ",G(D.currentValue*g.allocationPct/100)," to this goal"]})]}),a.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[a.jsx("input",{type:"number",value:g.allocationPct,onChange:k=>w(j,"allocationPct",k.target.value),className:"w-16 px-2 py-1.5 text-xs text-center bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",min:"0",max:"100"}),a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"}),a.jsx("button",{onClick:()=>y(j),className:"p-1.5 text-[var(--text-dim)] hover:text-rose-400 rounded transition-colors",children:a.jsx(Lu,{size:12})})]})]},j)})}),m.length>0&&a.jsxs("div",{className:"flex items-center justify-between px-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Total Allocation"}),a.jsxs("span",{className:`text-xs font-bold ${p===100?"text-emerald-400":p>100?"text-rose-400":"text-amber-400"}`,children:[p,"%",p!==100&&a.jsx("span",{className:"font-normal text-[var(--text-dim)]",children:" (must be 100%)"})]})]}),m.length<u.length&&a.jsxs("button",{onClick:b,className:"flex items-center gap-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[a.jsx(Zt,{size:14})," Link Portfolio"]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:l,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),a.jsx("button",{onClick:M,disabled:!v,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Mapping"})]})]})}function vT({goal:s,onClose:l}){const{goalPortfolioMappings:r,mfPortfolios:t,mfHoldings:o}=Ke(),u=N.useMemo(()=>{const m=r.filter(b=>b.goalId===s.goalId);if(m.length===0)return null;const x=m.map(b=>{const y=t.find(j=>j.portfolioId===b.portfolioId);if(!y)return null;const w=o.filter(j=>j.portfolioId===b.portfolioId&&j.units>0),M=w.reduce((j,D)=>j+D.currentValue,0),S=M*b.allocationPct/100,g=w.map(j=>{const D=M>0?j.currentValue/M:0,k=S*D,O=j.currentNav>0?k/j.currentNav:0,T=k-O*j.avgNav;return{fundName:j.fundName,currentValue:j.currentValue,withdrawValue:k,withdrawUnits:Math.min(O,j.units),currentNav:j.currentNav,taxableGain:T,availableUnits:j.units}}).filter(j=>j.withdrawValue>0);return{portfolioName:y.portfolioName,ownerName:y.ownerName,allocationPct:b.allocationPct,portfolioValue:M,linkedValue:S,fundWithdrawals:g}}).filter(Boolean),p=x.reduce((b,y)=>b+y.linkedValue,0),v=x.reduce((b,y)=>b+y.fundWithdrawals.reduce((w,M)=>w+M.taxableGain,0),0);return{portfolioDetails:x,totalLinked:p,totalTaxableGain:v}},[s,r,t,o]);if(!u)return a.jsxs("div",{className:"py-8 text-center space-y-2",children:[a.jsx(El,{size:24,className:"mx-auto text-amber-400"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No portfolios linked to this goal"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Link portfolios first to generate a withdrawal plan"}),a.jsx("button",{onClick:l,className:"mt-2 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})]});const d=s.targetAmount>0?u.totalLinked/s.targetAmount*100:0;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),a.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:G(s.targetAmount)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Available from Linked Portfolios"}),a.jsx("span",{className:`text-sm font-bold ${u.totalLinked>=s.targetAmount?"text-emerald-400":"text-amber-400"}`,children:G(u.totalLinked)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-card)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${d>=100?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(d,100)}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[d.toFixed(0),"%"]})]}),u.totalTaxableGain>0&&a.jsxs("div",{className:"flex items-center justify-between pt-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Estimated Taxable Gain"}),a.jsx("span",{className:"text-xs font-semibold text-amber-400",children:G(u.totalTaxableGain)})]})]}),u.portfolioDetails.map(m=>a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] overflow-hidden",children:[a.jsxs("div",{className:"px-4 py-2.5 bg-[var(--bg-card)] border-b border-[var(--border-light)] flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:m.portfolioName}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[m.ownerName,"  ",m.allocationPct,"% allocated to goal"]})]}),a.jsx("span",{className:"text-xs font-bold text-[var(--text-primary)]",children:G(m.linkedValue)})]}),a.jsx("div",{className:"px-4 py-2",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-[var(--text-dim)]",children:[a.jsx("th",{className:"text-left py-1 font-medium",children:"Fund"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Units"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Amount"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Gain"})]})}),a.jsx("tbody",{children:m.fundWithdrawals.map(x=>a.jsxs("tr",{className:"border-t border-[var(--border-light)]",children:[a.jsx("td",{className:"py-1.5 text-[var(--text-secondary)] max-w-[180px] truncate",children:x.fundName}),a.jsx("td",{className:"py-1.5 text-right text-[var(--text-muted)] tabular-nums",children:x.withdrawUnits.toFixed(2)}),a.jsx("td",{className:"py-1.5 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:G(x.withdrawValue)}),a.jsx("td",{className:`py-1.5 text-right tabular-nums font-semibold ${x.taxableGain>=0?"text-emerald-400":"text-rose-400"}`,children:G(Math.abs(x.taxableGain))})]},x.fundName))})]})})]},m.portfolioName)),a.jsx("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:a.jsx("button",{onClick:l,className:"px-5 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})})]})}const ug={"On Track":"bg-blue-500/15 text-[var(--accent-blue)]","Needs Attention":"bg-amber-500/15 text-[var(--accent-amber)]",Achieved:"bg-emerald-500/15 text-emerald-400",Paused:"bg-slate-500/15 text-[var(--text-muted)]"},bT={High:"bg-rose-500/15 text-[var(--accent-rose)]",Medium:"bg-amber-500/15 text-[var(--accent-amber)]",Low:"bg-blue-500/15 text-[var(--accent-blue)]"},dg={"On Track":"bg-blue-500","Needs Attention":"bg-amber-500",Achieved:"bg-emerald-500",Paused:"bg-slate-500"};function gT(){const{selectedMember:s,member:l}=Jt(),{goalList:r,addGoal:t,updateGoal:o,deleteGoal:u,goalPortfolioMappings:d,mfHoldings:m}=Ke(),{showToast:x,showBlockUI:p,hideBlockUI:v}=In(),b=Pn(),[y,w]=N.useState(null),[M,S]=N.useState(null),[g,j]=N.useState(null),[D,k]=N.useState(null),O=N.useRef(new Set),T=N.useMemo(()=>{if(!r)return[];const _=r.filter(Q=>Q.isActive!==!1);return s==="all"?_:_.filter(Q=>Q.familyMemberId===s)},[r,s]),H=T.reduce((_,Q)=>_+(Q.targetAmount||0),0),I=T.reduce((_,Q)=>_+(Q.currentValue||0),0),R=T.reduce((_,Q)=>_+(Q.monthlyInvestment||0),0),z=H>0?I/H*100:0,L=T.filter(_=>_.status==="Needs Attention").length,V=T.filter(_=>_.status==="Achieved").length,A=new Set(["Equity","ELSS","Index"]),le=N.useMemo(()=>{if(!T.length||!d?.length||!m?.length)return[];const _=new Date,Q=[];for(const de of T){if(de.status==="Achieved")continue;const J=(new Date(de.targetDate)-_)/(365.25*24*60*60*1e3);if(J>3||J<=0)continue;const me=d.filter(ke=>ke.goalId===de.goalId);if(!me.length)continue;let fe=0,Se=0;for(const ke of me){const qe=m.filter(rt=>rt.portfolioId===ke.portfolioId&&rt.units>0);for(const rt of qe){const Rt=rt.currentValue*(ke.allocationPct/100);fe+=Rt,A.has(rt.category)?Se+=Rt:rt.category==="Hybrid"&&(Se+=Rt*.65)}}const ge=fe>0?Se/fe*100:0,we=J<1?30:J<2?50:70;ge>we&&Q.push({goalId:de.goalId,goalName:de.goalName,yearsLeft:J.toFixed(1),equityPct:Math.round(ge),maxEquity:we,excessPct:Math.round(ge-we)})}return Q},[T,d,m]);if(N.useEffect(()=>{const _=new Set(T.filter(de=>de.status==="Achieved").map(de=>de.goalId)),Q=O.current;for(const de of _)if(!Q.has(de)){const P=T.find(J=>J.goalId===de);P&&(k(P),setTimeout(()=>k(null),5e3))}O.current=_},[T]),r===null)return a.jsx(vr,{title:"Loading goals",cards:5});async function oe(_){p("Saving...");try{y?.edit?await o(y.edit.goalId,_):await t(_),x(y?.edit?"Goal updated":"Goal added"),w(null)}catch(Q){x(Q.message||"Failed to save goal","error")}finally{v()}}async function re(){if(y?.edit&&await b("Delete this goal?",{title:"Delete Goal",confirmLabel:"Delete"})){p("Deleting...");try{await u(y.edit.goalId),x("Goal deleted"),w(null)}catch(_){x(_.message||"Failed to delete goal","error")}finally{v()}}}function q(_){return!_.targetAmount||_.targetAmount===0?0:Math.min((_.currentValue||0)/_.targetAmount*100,100)}function Z(_){if(!_.targetDate)return null;const de=(new Date(_.targetDate)-new Date)/(365.25*24*60*60*1e3);return de>0?de.toFixed(1):"0"}return a.jsxs("div",{className:"space-y-4",children:[T.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(co,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No goals set",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>w("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first goal"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[a.jsx(jl,{label:"Goals",value:T.length,sub:V>0?`${V} achieved`:void 0}),a.jsx(jl,{label:"Target",value:G(H),bold:!0}),a.jsx(jl,{label:"Current Value",value:G(I),bold:!0}),a.jsx(jl,{label:"Total Gap",value:G(Math.max(H-I,0)),sub:H>I?"remaining to target":"all targets met",positive:H<=I,bold:!0}),a.jsx(jl,{label:"Overall Progress",value:`${z.toFixed(1)}%`,positive:z>=50,bold:!0}),a.jsx(jl,{label:"Monthly SIP",value:G(R),sub:L>0?`${L} need attention`:void 0})]}),D&&a.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-500/10 via-yellow-500/10 to-emerald-500/10 rounded-xl border border-emerald-500/30 px-4 py-3 flex items-center gap-3 animate-fade-in overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((_,Q)=>a.jsx("span",{className:"absolute text-sm animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:["","","","",""][Q%5]},Q))}),a.jsx(z0,{size:20,className:"text-yellow-400 shrink-0 relative z-10"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-sm font-bold text-emerald-400",children:"Goal Achieved!"}),a.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[D.goalName,"  Congratulations!"]})]}),a.jsx("button",{onClick:()=>k(null),className:"ml-auto text-xs text-[var(--text-dim)] hover:text-[var(--text-primary)] relative z-10",children:"Dismiss"})]}),le.length>0&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-amber-500/20 p-4 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(cC,{size:14,className:"text-amber-400"}),a.jsx("p",{className:"text-xs font-bold text-amber-400 uppercase tracking-wider",children:"De-risking Alerts"})]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"These goals are approaching their deadline with high equity exposure. Consider moving funds to debt/liquid for capital protection."}),a.jsx("div",{className:"space-y-1.5",children:le.map(_=>a.jsxs("div",{className:"flex items-center justify-between bg-amber-500/5 rounded-lg px-3 py-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:_.goalName}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[_.yearsLeft," yrs left"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-xs font-bold text-amber-400",children:[_.equityPct,"% equity"]}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Recommended max ",_.maxEquity,"%"]})]})]},_.goalId))})]}),V>0&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-emerald-500/20 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(z0,{size:14,className:"text-yellow-400"}),a.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Achieved Goals"})]}),a.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-1",children:T.filter(_=>_.status==="Achieved").map(_=>a.jsxs("div",{className:"shrink-0 bg-emerald-500/10 border border-emerald-500/20 rounded-lg px-3 py-2 min-w-[160px]",children:[a.jsx("p",{className:"text-xs font-semibold text-emerald-400",children:_.goalName}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] mt-1",children:G(_.targetAmount)}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:_.familyMemberName})]},_.goalId))})]}),a.jsx("div",{className:"flex items-center justify-end gap-2 px-1",children:a.jsxs("button",{onClick:()=>w("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zt,{size:14})," Add Goal"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden lg:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Goal"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsxs("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Amount"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider min-w-[120px]",children:"Progress"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Monthly SIP"}),a.jsxs("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Timeline"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Years Left"})]}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:T.map(_=>{const Q=q(_),de=Z(_);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:_.goalName}),a.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${bT[_.priority]||""}`,children:_.priority}),_.notes&&a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:_.notes})]})]}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:_.familyMemberName}),a.jsxs("td",{className:"py-2.5 px-3 text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(_.currentValue)}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:G(_.targetAmount)})]}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${dg[_.status]||"bg-blue-500"}`,style:{width:`${Q}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums w-10 text-right",children:[Q.toFixed(0),"%"]})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(_.monthlyInvestment)}),a.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)] tabular-nums",children:_.status==="Achieved"?"Done":de?`${de} yrs`:""}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${ug[_.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:_.status})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsxs("div",{className:"flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all",children:[a.jsx("button",{onClick:()=>j(_),className:"p-1 rounded text-[var(--text-dim)] hover:text-emerald-400 transition-colors",title:"Withdrawal plan",children:a.jsx(Ny,{size:12})}),a.jsx("button",{onClick:()=>S(_),className:"p-1 rounded text-[var(--text-dim)] hover:text-violet-400 transition-colors",title:"Link portfolios",children:a.jsx(xu,{size:12})}),a.jsx("button",{onClick:()=>w({edit:_}),className:"p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-colors",children:a.jsx(hn,{size:12})})]})})]},_.goalId)})})]})}),a.jsx("div",{className:"lg:hidden divide-y divide-[var(--border-light)]",children:T.map(_=>{const Q=q(_),de=Z(_);return a.jsxs("div",{onClick:()=>w({edit:_}),className:"px-4 py-4 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:_.goalName}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsxs("span",{className:"text-xs text-[var(--text-muted)]",children:[_.familyMemberName,"  SIP ",G(_.monthlyInvestment),"/mo"]}),d.filter(P=>P.goalId===_.goalId).length>0&&a.jsxs("span",{className:"text-[10px] font-semibold text-violet-400 flex items-center gap-0.5",children:[a.jsx(xu,{size:9}),d.filter(P=>P.goalId===_.goalId).length]})]})]}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${ug[_.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:_.status})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${dg[_.status]||"bg-blue-500"}`,style:{width:`${Q}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[Q.toFixed(0),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs text-[var(--text-muted)]",children:[G(_.currentValue)," ",a.jsx("span",{className:"text-[var(--text-dim)]",children:"of"})," ",G(_.targetAmount)]}),a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:_.status==="Achieved"?"Done":de?`${de} yrs left`:""})]})]},_.goalId)})})]})]}),a.jsx(Et,{open:!!y,onClose:()=>w(null),title:y?.edit?"Edit Goal":"Add Goal",wide:!0,children:a.jsx(xT,{initial:y?.edit||void 0,onSave:oe,onDelete:y?.edit?re:void 0,onCancel:()=>w(null)})}),a.jsx(Et,{open:!!M,onClose:()=>S(null),title:`Link Portfolios  ${M?.goalName||""}`,wide:!0,children:M&&a.jsx(hT,{goal:M,onClose:()=>S(null)})}),a.jsx(Et,{open:!!g,onClose:()=>j(null),title:`Withdrawal Plan  ${g?.goalName||""}`,wide:!0,children:g&&a.jsx(vT,{goal:g,onClose:()=>j(null)})})]})}function jl({label:s,value:l,sub:r,positive:t,bold:o}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:l}),r&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:r})]})}const yT=[{label:"Reports & Transactions",desc:"View transaction history",icon:Sy,path:"/reports",color:"bg-blue-500/15 text-[var(--accent-blue)]"},{label:"Reminders",desc:"View and manage reminders",icon:Ru,path:"/reminders",color:"bg-amber-500/15 text-[var(--accent-amber)]"},{label:"Health Check",desc:"Financial health questionnaire",icon:Lf,path:"/health-check",color:"bg-emerald-500/15 text-emerald-400"},{label:"Settings",desc:"App configuration",icon:cp,path:"/settings",color:"bg-slate-500/15 text-[var(--text-muted)]"},{label:"About",desc:"Capital Friends v2.0",icon:T5,path:"/about",color:"bg-violet-500/15 text-[var(--accent-violet)]"},{label:"Support Developer",desc:"UPI: jagadeeshmanne.hdfc@kphdfc",icon:pu,path:"/about",color:"bg-pink-500/15 text-pink-400"}];function NT(){const s=Ls();return a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-base font-bold text-[var(--text-primary)]",children:"More"}),a.jsx("div",{className:"space-y-2",children:yT.map(l=>a.jsxs("button",{onClick:()=>s(l.path),className:"w-full flex items-center gap-3 bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${l.color}`,children:a.jsx(l.icon,{size:18})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:l.label}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:l.desc})]})]},l.label))})]})}const Xc=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function jT(){const s=Ls(),{theme:l,toggle:r}=py(),{members:t,settings:o,updateSettings:u,updateMember:d,healthCheckCompleted:m}=Ke(),{user:x,signOut:p}=Is(),{masked:v,toggleMask:b,mv:y}=zn(),w=t.filter(re=>re.status==="Active"),[M,S]=N.useState("Daily"),[g,j]=N.useState("09"),[D,k]=N.useState("Monday"),[O,T]=N.useState(!1),[H,I]=N.useState(!1),[R,z]=N.useState(!1),[L,V]=N.useState(null);N.useEffect(()=>{!o||!Object.keys(o).length||(o.EmailFrequency&&S(o.EmailFrequency),o.EmailHour!=null&&j(String(o.EmailHour).padStart(2,"0")),o.EmailDayOfWeek!=null&&k(Xc[Number(o.EmailDayOfWeek)]||"Monday"))},[o]);async function A(){T(!0),I(!1);try{const re=Xc.indexOf(D);await u({EmailFrequency:M==="None"?"None":M,EmailConfigured:M==="None"?"FALSE":"TRUE",EmailHour:String(parseInt(g,10)),EmailMinute:"0",EmailDayOfWeek:String(re>=0?re:1)}),I(!0),setTimeout(()=>I(!1),2e3)}catch(re){alert("Failed to save: "+re.message)}finally{T(!1)}}async function le(){z(!0),V(null);try{const re=await xS();V(re)}catch(re){V({error:re.message})}finally{z(!1)}}function oe(re){if(!re)return"Never";try{const q=new Date(re);if(isNaN(q.getTime()))return"Unknown";const Z=Date.now(),_=Math.floor((Z-q.getTime())/(1e3*60));if(_<1)return"Just now";if(_<60)return _+" min ago";const Q=Math.floor(_/60);return Q<24?Q+"h ago":q.toLocaleDateString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}}return a.jsxs("div",{className:"space-y-4 max-w-xl mx-auto",children:[a.jsxs(js,{children:[a.jsx(ws,{icon:a.jsx(gC,{size:14}),title:"Account"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(za,{label:"Signed in as",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate max-w-[200px]",children:y(x?.email,"email")||""})}),a.jsx(za,{label:"Name",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:x?.name||""})}),a.jsx("div",{className:"pt-1",children:a.jsxs("button",{onClick:p,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-red-500 border border-red-200 dark:border-red-800/40 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[a.jsx(Ay,{size:12}),"Sign Out"]})})]})]}),a.jsxs(js,{children:[a.jsx(ws,{icon:a.jsx(Lf,{size:14}),title:"Financial Health Check"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(za,{label:"Status",children:a.jsx("span",{className:`text-xs font-semibold ${m?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:m?"Completed":"Not completed"})}),a.jsx("div",{className:"flex justify-end pt-1",children:a.jsxs("button",{onClick:()=>s("/health-check"),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(Lf,{size:12}),m?"Update Answers":"Take Health Check"]})})]})]}),a.jsxs(js,{children:[a.jsx(ws,{icon:a.jsx(d5,{size:14}),title:"Data & Sync"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(za,{label:"Last synced",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:oe(o.masterDataLastSync)}),o._stale&&a.jsx("span",{className:"text-[10px] font-bold text-amber-600 px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30",children:"STALE"})]})}),o._navDataDate&&a.jsx(za,{label:"NAV data as of",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:o._navDataDate})}),a.jsx(za,{label:"Auto-refresh",children:a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Daily at ~6:30 AM"})}),a.jsxs("div",{className:"flex items-center justify-between pt-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Refresh MF NAVs, ATH & Stock prices"}),a.jsxs("button",{onClick:le,disabled:R,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg bg-violet-600 text-white hover:bg-violet-500 transition-colors disabled:opacity-50",children:[a.jsx(Al,{size:12,className:R?"animate-spin":""}),R?"Refreshing...":"Refresh Now"]})]}),L&&a.jsx("div",{className:`text-xs px-3 py-2 rounded-lg ${L.error?"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400":"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400"}`,children:L.error?"Failed: "+L.error:`Done  MF: ${L.mf?.count||0} | ATH: ${L.ath?.count||0} | Stocks: ${L.stocks?.count||0} (${L.duration})`})]})]}),a.jsxs(js,{children:[a.jsx(ws,{icon:a.jsx(Rf,{size:14}),title:"Appearance"}),a.jsx("div",{className:"px-4 py-4",children:a.jsx(za,{label:"Theme",children:a.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[l==="dark"?a.jsx(Ty,{size:12}):a.jsx(Rf,{size:12}),l==="dark"?"Dark":"Light"]})})})]}),a.jsxs(js,{children:[a.jsx(ws,{icon:a.jsx(H5,{size:14}),title:"Email Reports"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(za,{label:"Frequency",children:a.jsx(Tf,{value:M,onChange:S,options:["Daily","Weekly","Monthly","None"]})}),M!=="None"&&a.jsx(za,{label:"Send time",children:a.jsx(Tf,{value:g,onChange:j,options:Array.from({length:24},(re,q)=>String(q).padStart(2,"0")),suffix:":00"})}),M==="Weekly"&&a.jsx(za,{label:"Day",children:a.jsx(Tf,{value:D,onChange:k,options:Xc.slice(1).concat(Xc[0])})}),a.jsx("div",{className:"flex justify-end pt-1",children:a.jsx("button",{onClick:A,disabled:O,className:"px-4 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:O?"Saving...":H?"Saved!":"Save"})}),w.length>0&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Send report to"}),a.jsx("div",{className:"space-y-2",children:w.map(re=>a.jsx(wT,{member:re,onToggle:d},re.memberId))})]})}),w.length===0&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] pt-1",children:"Add family members to configure email recipients."})]})]}),a.jsxs(js,{children:[a.jsx(ws,{icon:a.jsx(nu,{size:14}),title:"Privacy"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(za,{label:"Mask sensitive data",children:a.jsx("button",{onClick:b,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 ${v?"bg-amber-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:a.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${v?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[v?"Sensitive data is hidden. ":"","Masks PAN, Aadhaar, mobile, email, account numbers, client IDs, and policy numbers across the app. Use the ",v?a.jsx(nu,{size:11,className:"inline text-amber-400"}):a.jsx(op,{size:11,className:"inline"})," icon in the header to quickly toggle."]}),v&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[a.jsx(nu,{size:14,className:"text-amber-400 shrink-0"}),a.jsx("p",{className:"text-xs text-amber-400 font-medium",children:"Data masking is active  safe for screen sharing"})]})]})]}),a.jsxs(js,{children:[a.jsx(ws,{icon:a.jsx(C5,{size:14}),title:"Display"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(za,{label:"Currency",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"INR ()"})}),a.jsx(za,{label:"Date format",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"DD/MM/YYYY"})})]})]})]})}function js({children:s}){return a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:s})}function ws({icon:s,title:l}){return a.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[var(--text-muted)]",children:s}),a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:l})]})})}function za({label:s,children:l}){return a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] shrink-0",children:s}),l]})}function Tf({value:s,onChange:l,options:r,suffix:t}){return a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:s,onChange:o=>l(o.target.value),className:"appearance-none pl-3 pr-7 py-1.5 text-xs font-semibold bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-violet-500 cursor-pointer",children:r.map(o=>a.jsxs("option",{value:o,children:[o,t||""]},o))}),a.jsx(cr,{size:10,className:"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function wT({member:s,onToggle:l}){const{mv:r}=zn(),t=s.includeInEmailReports==="Yes"||s.includeInEmailReports===!0,[o,u]=N.useState(!1);async function d(){u(!0);try{await l(s.memberId,{...s,includeInEmailReports:t?"No":"Yes"})}catch{}finally{u(!1)}}return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center shrink-0",children:a.jsx("span",{className:"text-[10px] font-bold text-violet-600",children:s.memberName?.charAt(0)?.toUpperCase()})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:r(s.memberName,"name")}),s.email&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] truncate",children:r(s.email,"email")})]})]}),a.jsx("button",{onClick:d,disabled:o,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 disabled:opacity-50 ${t?"bg-violet-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:a.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${t?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})]})}const ST=["SIP Due Date","Insurance Renewal","FD Maturity","Loan EMI","Investment Review","Custom"].map(s=>({value:s,label:s})),CT=[{value:"One-time",label:"One-time"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],kT=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}];function DT({initial:s,onSave:l,onDelete:r,onCancel:t}){const o=!!s,{activeMembers:u}=Ke(),d=u.map(g=>({value:g.memberId,label:g.memberName})),[m,x]=N.useState({reminderType:s?.reminderType||"",title:s?.title||"",description:s?.description||"",familyMemberId:s?.familyMemberId||"",dueDate:s?.dueDate||"",advanceNoticeDays:s?.advanceNoticeDays?.toString()||"7",frequency:s?.frequency||"One-time",priority:s?.priority||"Medium",status:s?.status||"Pending"}),[p,v]=N.useState({}),[b,y]=N.useState(!1);function w(g,j){x(D=>({...D,[g]:j})),v(D=>({...D,[g]:void 0}))}function M(){const g={};return m.reminderType||(g.reminderType="Required"),m.title.trim()||(g.title="Required"),m.familyMemberId||(g.familyMemberId="Required"),m.dueDate||(g.dueDate="Required"),v(g),Object.keys(g).length===0}async function S(){if(M()){y(!0);try{await l({...m,advanceNoticeDays:Number(m.advanceNoticeDays)||7})}finally{y(!1)}}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Reminder Type",required:!0,error:p.reminderType,children:a.jsx(Re,{value:m.reminderType,onChange:g=>w("reminderType",g),options:ST,placeholder:"Select type..."})}),a.jsx(ee,{label:"Title",required:!0,error:p.title,children:a.jsx(be,{value:m.title,onChange:g=>w("title",g),placeholder:"e.g., HDFC SIP Due"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(ee,{label:"Family Member",required:!0,error:p.familyMemberId,children:a.jsx(Re,{value:m.familyMemberId,onChange:g=>w("familyMemberId",g),options:d,placeholder:"Select member..."})}),a.jsx(ee,{label:"Due Date",required:!0,error:p.dueDate,children:a.jsx(Rn,{value:m.dueDate,onChange:g=>w("dueDate",g),maxDate:null})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(ee,{label:"Frequency",children:a.jsx(Re,{value:m.frequency,onChange:g=>w("frequency",g),options:CT})}),a.jsx(ee,{label:"Priority",children:a.jsx(Re,{value:m.priority,onChange:g=>w("priority",g),options:kT})}),a.jsx(ee,{label:"Advance Notice (days)",children:a.jsx(be,{type:"number",value:m.advanceNoticeDays,onChange:g=>w("advanceNoticeDays",g),placeholder:"7"})})]}),o&&a.jsx(ee,{label:"Status",children:a.jsx(Re,{value:m.status,onChange:g=>w("status",g),options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"}]})}),a.jsx(ee,{label:"Description",children:a.jsx(Bl,{value:m.description,onChange:g=>w("description",g),placeholder:"Optional details...",rows:2})}),a.jsxs("div",{className:"flex items-center justify-between",children:[o&&r?a.jsx(hr,{onClick:r,label:"Delete"}):a.jsx("div",{}),a.jsx(xa,{onCancel:t,onSubmit:S,submitLabel:o?"Update Reminder":"Add Reminder",loading:b})]})]})}const Wc={"SIP Due Date":"bg-violet-500/15 text-[var(--accent-violet)]","Insurance Renewal":"bg-amber-500/15 text-[var(--accent-amber)]","FD Maturity":"bg-blue-500/15 text-[var(--accent-blue)]","Loan EMI":"bg-rose-500/15 text-[var(--accent-rose)]","Investment Review":"bg-emerald-500/15 text-emerald-400",Custom:"bg-slate-500/15 text-[var(--text-muted)]"},mg={High:"bg-rose-500",Medium:"bg-amber-500",Low:"bg-blue-500"};function wl(s){if(!s)return 1/0;const l=new Date(s)-new Date;return Math.ceil(l/(1440*60*1e3))}function MT(){const{selectedMember:s,member:l}=Jt(),{reminderList:r,addReminder:t,updateReminder:o,deleteReminder:u}=Ke(),{showToast:d,showBlockUI:m,hideBlockUI:x}=In(),p=Pn(),[v,b]=N.useState(null),y=N.useMemo(()=>{const O=r.filter(T=>T.isActive!==!1);return s==="all"?O:O.filter(T=>T.familyMemberId===s)},[r,s]),w=y.filter(O=>wl(O.dueDate)<0).length,M=y.filter(O=>{const T=wl(O.dueDate);return T>=0&&T<=7}).length,S=y.filter(O=>{const T=wl(O.dueDate);return T>7&&T<=30}).length,g=[...y].sort((O,T)=>{const H=wl(O.dueDate),I=wl(T.dueDate);return H-I});async function j(O){m("Saving...");try{v?.edit?await o(v.edit.reminderId,O):await t(O),d(v?.edit?"Reminder updated":"Reminder added"),b(null)}catch(T){d(T.message||"Failed to save reminder","error")}finally{x()}}async function D(){if(v?.edit&&await p("Delete this reminder?",{title:"Delete Reminder",confirmLabel:"Delete"})){m("Deleting...");try{await u(v.edit.reminderId),d("Reminder deleted"),b(null)}catch(O){d(O.message||"Failed to delete reminder","error")}finally{x()}}}function k(O){const T=wl(O);return T<0?{label:`${Math.abs(T)}d overdue`,cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:T===0?{label:"Today",cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:T<=7?{label:`${T}d`,cls:"bg-amber-500/20 text-[var(--accent-amber)]"}:T<=30?{label:`${T}d`,cls:"bg-blue-500/20 text-[var(--accent-blue)]"}:{label:`${T}d`,cls:"bg-slate-500/20 text-[var(--text-muted)]"}}return a.jsxs("div",{className:"space-y-4",children:[y.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(HS,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No reminders",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a reminder"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Zc,{label:"Active",value:y.length}),w>0&&a.jsx(Zc,{label:"Overdue",value:w,color:"rose"}),M>0&&a.jsx(Zc,{label:"Due This Week",value:M,color:"amber"}),a.jsx(Zc,{label:"Next 30 Days",value:S})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zt,{size:14})," Add Reminder"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[680px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Reminder"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Due Date"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Frequency"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:g.map(O=>{const T=k(O.dueDate);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${mg[O.priority]||"bg-slate-400"}`}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:O.title}),O.description&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[200px]",children:O.description})]})]})}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Wc[O.reminderType]||Wc.Custom}`,children:O.reminderType})}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:O.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:O.dueDate}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${T.cls}`,children:T.label})]})}),a.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)]",children:O.frequency}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${O.status==="Pending"?"bg-amber-500/15 text-[var(--accent-amber)]":"bg-emerald-500/15 text-emerald-400"}`,children:O.status})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>b({edit:O}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(hn,{size:12})})})]},O.reminderId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(O=>{const T=k(O.dueDate);return a.jsxs("div",{onClick:()=>b({edit:O}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${mg[O.priority]||"bg-slate-400"}`}),a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:O.title})]}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ml-2 ${Wc[O.reminderType]||Wc.Custom}`,children:O.reminderType})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[O.familyMemberName,"  ",O.frequency]}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${T.cls}`,children:T.label})]})]},O.reminderId)})})]})]}),a.jsx(Et,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Reminder":"Add Reminder",wide:!0,children:a.jsx(DT,{initial:v?.edit||void 0,onSave:j,onDelete:v?.edit?D:void 0,onCancel:()=>b(null)})})]})}function Zc({label:s,value:l,color:r}){const t=r==="rose"?"text-[var(--accent-rose)]":r==="amber"?"text-[var(--accent-amber)]":"text-[var(--text-primary)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm font-bold tabular-nums ${t}`,children:l})]})}const fg={BUY:"bg-emerald-500/15 text-emerald-400",SELL:"bg-rose-500/15 text-[var(--accent-rose)]"},AT={INITIAL:"bg-violet-500/15 text-[var(--accent-violet)]",SIP:"bg-blue-500/15 text-[var(--accent-blue)]",LUMPSUM:"bg-emerald-500/15 text-emerald-400",WITHDRAWAL:"bg-amber-500/15 text-[var(--accent-amber)]",SWITCH:"bg-orange-500/15 text-[var(--accent-orange)]"};function TT(){const{selectedMember:s}=Jt(),{mfTransactions:l,mfPortfolios:r,stockTransactions:t,stockPortfolios:o}=Ke(),[u,d]=N.useState("mf"),[m,x]=N.useState("all"),p=N.useMemo(()=>{let S=[...l].sort((g,j)=>new Date(j.date)-new Date(g.date));if(s!=="all"){const g=new Set(r.filter(j=>j.ownerId===s).map(j=>j.portfolioId));S=S.filter(j=>g.has(j.portfolioId))}return m!=="all"&&(S=S.filter(g=>g.type===m)),S},[l,r,s,m]),v=N.useMemo(()=>{let S=[...t].sort((g,j)=>new Date(j.date)-new Date(g.date));if(s!=="all"){const g=new Set(o.filter(j=>j.ownerId===s).map(j=>j.portfolioId));S=S.filter(j=>g.has(j.portfolioId))}return m!=="all"&&(S=S.filter(g=>g.type===m)),S},[t,o,s,m]),b=u==="mf"?p:v,y=b.filter(S=>S.type==="BUY").reduce((S,g)=>S+(g.totalAmount||0),0),w=b.filter(S=>S.type==="SELL").reduce((S,g)=>S+(g.totalAmount||0),0),M=b.reduce((S,g)=>S+(g.gainLoss||g.realizedPL||0),0);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Jc,{label:"Transactions",value:b.length}),a.jsx(Jc,{label:"Total Bought",value:G(y)}),a.jsx(Jc,{label:"Total Sold",value:G(w)}),a.jsx(Jc,{label:"Realized P&L",value:`${M>=0?"+":""}${G(Math.abs(M))}`,positive:M>=0,bold:!0})]}),a.jsxs("div",{className:"flex items-center justify-between px-1",children:[a.jsx("div",{className:"flex gap-1",children:["mf","stocks"].map(S=>a.jsx("button",{onClick:()=>d(S),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${u===S?"bg-violet-500/20 text-violet-400 border border-violet-500/30":"text-[var(--text-dim)] hover:text-[var(--text-primary)] border border-transparent"}`,children:S==="mf"?"Mutual Funds":"Stocks"},S))}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Cy,{size:12,className:"text-[var(--text-dim)]"}),["all","BUY","SELL"].map(S=>a.jsx("button",{onClick:()=>x(S),className:`px-2 py-1 text-xs font-semibold rounded transition-colors ${m===S?"bg-[var(--bg-card)] text-[var(--text-primary)] border border-[var(--border)]":"text-[var(--text-dim)] hover:text-[var(--text-muted)]"}`,children:S==="all"?"All":S},S))]})]}),a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:b.length===0?a.jsxs("div",{className:"py-12 flex flex-col items-center gap-3",children:[a.jsx(Sy,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions found"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"Fund":"Stock"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Portfolio"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"Units":"Qty"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"NAV":"Price"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"})]})}),a.jsx("tbody",{children:b.map(S=>{const g=S.gainLoss||S.realizedPL||0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-muted)] tabular-nums",children:S.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${fg[S.type]||""}`,children:S.type}),S.transactionType&&a.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${AT[S.transactionType]||""}`,children:S.transactionType})]})}),a.jsxs("td",{className:"py-2.5 px-3",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:S.fundName||S.companyName}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:S.fundCode||S.symbol})]}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)]",children:S.portfolioName||""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:(S.units||S.quantity||0).toFixed(u==="mf"?2:0)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:G(S.price||S.pricePerShare||0)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(S.totalAmount||0)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:g!==0?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${g>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[g>=0?"+":"",G(Math.abs(g))]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},S.transactionId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(S=>(S.gainLoss||S.realizedPL,a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:S.fundName||S.companyName}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded shrink-0 ${fg[S.type]||""}`,children:S.type})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[S.date,"  ",S.portfolioName]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[(S.units||S.quantity||0).toFixed(u==="mf"?2:0)," @ ",G(S.price||S.pricePerShare||0)]}),a.jsx("span",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(S.totalAmount||0)})]})]},S.transactionId)))})]})})]})}function Jc({label:s,value:l,positive:r,bold:t}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${t?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l})]})}const Sn=[{id:"healthIns",question:"Does your family have Health Insurance?",tip:"50L to 1Cr family floater recommended (considering inflation & future expenses)",category:"Insurance"},{id:"termLife",question:"Do you have adequate Term Life Insurance?",tip:"Recommended: 10-15x annual income",category:"Insurance"},{id:"emergencyFund",question:"Do you have an Emergency Fund?",tip:"6-12 months of monthly expenses in liquid assets",category:"Savings"},{id:"familyAware",question:"Is your family aware of all investments?",tip:"Ensure nominees and family know about all assets",category:"Planning"},{id:"hasWill",question:"Do you have a Will?",tip:"Legal document for asset distribution",category:"Planning"},{id:"nominees",question:"Have you updated Nominees on all accounts?",tip:"Bank, demat, insurance, MF  all should have nominees",category:"Planning"},{id:"goals",question:"Do you have clearly defined Financial Goals?",tip:"Retirement, education, home  with target amounts and dates",category:"Goals"}];function ET(){const s=Ls(),{members:l,insurancePolicies:r,goalList:t,otherInvList:o,healthCheckCompleted:u,completeHealthCheck:d}=Ke(),m=l.filter(L=>L.status==="Active"),x=u===!1,[p,v]=N.useState(!1),[b,y]=N.useState(!0),[w,M]=N.useState(null),S=N.useMemo(()=>{const L={},V=r.filter(re=>re.policyType==="Health"&&re.status==="Active");L.healthIns=V.length>0;const A=r.filter(re=>re.policyType==="Term Life"&&re.status==="Active");L.termLife=A.length>0;const le=t.filter(re=>re.goalType==="Emergency Fund"&&re.isActive),oe=o.filter(re=>re.investmentType==="FD"||re.investmentType==="PPF");return L.emergencyFund=le.length>0||oe.length>0,L.goals=t.filter(re=>re.isActive).length>=2,L},[r,t,o]);N.useEffect(()=>{let L=!1;async function V(){const A=await dy("healthCheckAnswers");!L&&A&&(M(A),y(!1));try{const le=await uy();!L&&le&&(M(le),Ca("healthCheckAnswers",le))}catch{}L||y(!1)}return V(),()=>{L=!0}},[]);const[g,j]=N.useState(()=>{const L={};return Sn.forEach(V=>{L[V.id]=S[V.id]?"yes":""}),L});N.useEffect(()=>{w&&j(L=>{const V={...L};return Sn.forEach(A=>{const le=w[A.id];le==="Yes"?V[A.id]="yes":le==="No"&&(V[A.id]="no")}),V})},[w]);const D=Object.values(g).filter(L=>L).length,k=Object.values(g).filter(L=>L==="yes").length,O=D===Sn.length,T=D>0?Math.round(k/Sn.length*100):0;function H(){return T>=80?"text-emerald-400":T>=50?"text-[var(--accent-amber)]":"text-[var(--accent-rose)]"}function I(){return T>=80?"Excellent":T>=60?"Good":T>=40?"Needs Work":"Critical"}const R=N.useMemo(()=>{const L=[];return g.healthIns!=="yes"&&L.push({severity:"critical",text:"Get Health Insurance for your family",action:"Minimum 5L cover recommended"}),g.termLife!=="yes"&&L.push({severity:"critical",text:"Get Term Life Insurance (10-15x annual income)",action:"Compare plans online"}),g.emergencyFund!=="yes"&&L.push({severity:"warning",text:"Build an Emergency Fund",action:"Save 6-12 months expenses in liquid fund/FD"}),g.familyAware!=="yes"&&L.push({severity:"warning",text:"Share investment details with family",action:"Create a document with all account info"}),g.hasWill!=="yes"&&L.push({severity:"warning",text:"Create a legal Will",action:"Consult a lawyer for Will registration"}),g.nominees!=="yes"&&L.push({severity:"warning",text:"Update nominees on all accounts",action:"Check bank, demat, insurance, MF accounts"}),g.goals!=="yes"&&L.push({severity:"info",text:"Define clear financial goals",action:"Use the Goal Planner to set targets"}),L},[g]),z=N.useCallback(async()=>{if(O){v(!0);try{const L={};Sn.forEach(V=>{L[V.id]=g[V.id]==="yes"?"Yes":"No"}),L.score=k,L.total=Sn.length,await d(L),s("/dashboard")}catch(L){console.error("Failed to save health check:",L)}finally{v(!1)}}},[O,g,k,d,s]);return a.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[x&&a.jsxs("div",{className:"bg-violet-500/10 border border-violet-500/20 rounded-xl p-4",children:[a.jsx("h2",{className:"text-base font-bold text-violet-400 mb-1",children:"Welcome to Capital Friends!"}),a.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Before you start, please complete this quick Financial Health Check. It takes less than a minute and helps you understand where your family stands financially."})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(wy,{size:16,className:"text-violet-400"}),a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:"Financial Health Score"})]}),a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[D,"/",Sn.length," answered"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative w-20 h-20",children:[a.jsxs("svg",{className:"w-20 h-20 -rotate-90",viewBox:"0 0 36 36",children:[a.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"var(--border)",strokeWidth:"3"}),a.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${T}, 100`,className:H(),strokeLinecap:"round"})]}),a.jsxs("span",{className:`absolute inset-0 flex items-center justify-center text-lg font-bold ${H()}`,children:[T,"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-base font-bold ${H()}`,children:I()}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:[k," of ",Sn.length," checks passed"]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[m.length," family members tracked"]})]})]})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Health Check Questions"})}),a.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:Sn.map((L,V)=>a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-sm text-[var(--text-primary)]",children:[a.jsxs("span",{className:"text-[var(--text-dim)] mr-2",children:[V+1,"."]}),L.question]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5 ml-5",children:L.tip})]}),a.jsxs("div",{className:"flex gap-1 shrink-0",children:[a.jsx("button",{onClick:()=>j(A=>({...A,[L.id]:"yes"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${g[L.id]==="yes"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"Yes"}),a.jsx("button",{onClick:()=>j(A=>({...A,[L.id]:"no"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${g[L.id]==="no"?"bg-rose-500/20 text-[var(--accent-rose)] border border-rose-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"No"})]})]}),S[L.id]&&a.jsx("p",{className:"text-xs text-violet-400 mt-1 ml-5",children:"Auto-detected from your data"})]},L.id))})]}),R.length>0&&O&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Recommendations"})}),a.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:R.map((L,V)=>{const A=L.severity==="critical"?a.jsx(jy,{size:14,className:"text-[var(--accent-rose)]"}):L.severity==="warning"?a.jsx(El,{size:14,className:"text-[var(--accent-amber)]"}):a.jsx(t5,{size:14,className:"text-[var(--accent-blue)]"});return a.jsxs("div",{className:"flex items-start gap-3 px-4 py-3",children:[a.jsx("span",{className:"shrink-0 mt-0.5",children:A}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-[var(--text-primary)]",children:L.text}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:L.action})]})]},V)})})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[!O&&a.jsxs("p",{className:"text-xs text-[var(--accent-amber)] mb-3",children:["Please answer all ",Sn.length," questions before saving."]}),a.jsx("button",{onClick:z,disabled:!O||p,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-bold transition-colors ${O&&!p?"bg-violet-600 hover:bg-violet-500 text-white":"bg-[var(--bg-inset)] text-[var(--text-dim)] cursor-not-allowed"}`,children:p?a.jsxs(a.Fragment,{children:[a.jsx(My,{size:16,className:"animate-spin"}),"Saving..."]}):x?a.jsxs(a.Fragment,{children:["Save & Continue to Dashboard",a.jsx(PS,{size:16})]}):a.jsxs(a.Fragment,{children:[a.jsx(nC,{size:16}),"Update Health Check"]})})]})]})}function _T(){return a.jsxs("div",{className:"space-y-4 max-w-lg mx-auto",children:[a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-5 text-center",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-indigo-600 flex items-center justify-center mx-auto mb-3",children:a.jsx("span",{className:"text-xl font-bold text-white",children:"CF"})}),a.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Capital Friends"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Family Portfolio Management"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-2",children:"v2.0.0"})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Features"})}),a.jsx("div",{className:"px-4 py-3 space-y-2",children:["Track Mutual Funds, Stocks & Other Investments","Family member-wise portfolio management","ATH-based Buy Opportunities","Smart Rebalancing with threshold alerts","Goal planning with portfolio mapping","Insurance, Liabilities & Bank Accounts","Financial Health Check questionnaire","Reminders for SIPs, renewals & due dates","Email reports with detailed breakdowns"].map(s=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-500 shrink-0"}),a.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:s})]},s))})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pu,{size:12,className:"text-pink-400"}),a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Support Developer"})]})}),a.jsxs("div",{className:"px-4 py-4 text-center",children:[a.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-3",children:"If Capital Friends helps you manage your family finances, consider supporting the developer."}),a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-3 border border-[var(--border)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-1",children:"UPI"}),a.jsx("p",{className:"text-sm font-mono font-semibold text-[var(--text-primary)] select-all",children:"jagadeeshmanne.hdfc@kphdfc"})]}),a.jsxs("div",{className:"flex items-center justify-center gap-1 mt-3",children:[a.jsx(l5,{size:12,className:"text-[var(--accent-amber)]"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Buy me a chai!"})]})]})]}),a.jsxs("div",{className:"text-center py-2",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Made with ",a.jsx(pu,{size:10,className:"inline text-pink-400 mx-0.5"})," by Jagadeesh Manne"]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Built with React + Vite + Tailwind CSS"})]})]})}function OT(){return Date.now().toString(36).toUpperCase()}function RT(){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZ",l=r=>Array.from({length:r},()=>s[Math.floor(Math.random()*26)]).join("");return l(5)+Math.floor(1e3+Math.random()*9e3)+l(1)}function LT(){return String(Math.floor(2e11+Math.random()*8e11))}function pg(){return"9"+String(Math.floor(1e8+Math.random()*9e8))}function IT(){return String(Math.floor(1e9+Math.random()*9e9))}function PT(){const s=OT();return{member:{memberName:`Test Member ${s}`,relationship:"Self",pan:RT(),aadhar:LT(),email:`test-${s.toLowerCase()}@example.com`,mobile:pg(),includeInEmailReports:!0},bank:{accountName:`Test Savings ${s}`,bankName:"Test Bank",accountNumber:IT(),ifscCode:"TEST0001234",accountType:"Savings",branchName:"Test Branch"},investmentAccount:{accountName:`Test Demat ${s}`,accountType:"Demat",platformBroker:"Test Broker Platform",accountClientId:`CLI-${s}`,registeredEmail:`test-${s.toLowerCase()}@example.com`,registeredPhone:pg()},insurance:{policyType:"Term Life",company:"Test Insurance Co",policyNumber:`POL-${s}`,policyName:`Test Term Plan ${s}`,sumAssured:5e6,nominee:"Test Nominee",dynamicFields:{Premium:15e3,"Premium Frequency":"Annual"}},liability:{liabilityType:"Home Loan",lenderName:"Test Bank",outstandingBalance:45e5,dynamicFields:{"Principal Amount":5e6,"Interest Rate":8.5,"EMI Amount":45e3},notes:`Test liability ${s}`},otherInvestment:{investmentType:"Fixed Deposit",investmentName:`Test FD ${s}`,investedAmount:1e5,currentValue:105e3,investmentCategory:"Debt"},stockPortfolio:{portfolioName:`Test Stock Portfolio ${s}`,broker:"Test Broker"},reminder:{title:`Test Reminder ${s}`,description:"Automated test reminder",dueDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],category:"Insurance",priority:"Medium"},goal:{goalName:`Test Goal ${s}`,goalType:"Custom",targetAmount:1e6,targetDate:"2040-01-01",priority:"Medium",expectedInflation:.06,expectedCAGR:.12}}}function zT({status:s,text:l}){const r={pass:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",fail:"bg-rose-500/20 text-rose-400 border-rose-500/30",skip:"bg-amber-500/20 text-amber-400 border-amber-500/30",running:"bg-blue-500/20 text-blue-400 border-blue-500/30",pending:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return a.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded border ${r[s]||r.pending}`,children:l||s.toUpperCase()})}function FT(){const{user:s}=Is(),[l,r]=N.useState([]),[t,o]=N.useState(!1),[u,d]=N.useState(null),[m,x]=N.useState(!1),p=N.useCallback((g,j,D="")=>{r(k=>[...k,{test:g,status:j,detail:D,time:new Date().toLocaleTimeString()}])},[]),v=N.useCallback((g,j="")=>{r(D=>{const k=[...D];return k.length>0&&(k[k.length-1]={...k[k.length-1],status:g,detail:j}),k})},[]),b=async()=>{x(!0),d(null);try{const g=await ye("test:diagnose");d(g)}catch(g){d({error:g.message})}finally{x(!1)}},y=async()=>{o(!0),r([]);const g=PT();let j=null,D=null,k=null,O=null,T=null,H=null,I=null,R=null,z=null,L=null;try{p("API Echo Test","running");try{const A=await ye("test:echo",{hello:"world"});A&&A.echo&&A.echo.hello==="world"?v("pass","Echo response received correctly"):v("fail","Unexpected response: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Diagnostics","running");try{const A=await ye("test:diagnose"),le=Object.entries(A.sheets||{}).filter(([,re])=>!re.exists).map(([re])=>re);if(le.length>0)v("fail",`Missing sheets: ${le.join(", ")}`);else{const re=Object.keys(A.sheets).length;v("pass",`All ${re} sheets exist. SpreadsheetId: ${A.spreadsheetId}`)}const oe=Object.entries(A.dataTests||{}).filter(([,re])=>!re.success).map(([re,q])=>`${re}: ${q.error}`);oe.length>0&&p("Data Function Errors","fail",oe.join("; "))}catch(A){v("fail",A.message)}p("Load All Data (bulk)","running");try{const A=await fu(),le=Object.entries(A).map(([oe,re])=>`${oe}: ${Array.isArray(re)?re.length:"?"}`);v("pass",le.join(", "))}catch(A){v("fail",A.message)}p("Members  Create","running");try{const A=await Pg(g.member);j=A?.memberId,D=g.member.memberName,j?v("pass",`Created: ${j}`):v("fail","No memberId returned: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Members  List","running");try{const A=await Ig();Array.isArray(A)&&A.some(oe=>oe.memberId===j)?v("pass",`Found ${j} in ${A.length} member(s)`):v("fail",`Member ${j} not found. Got ${Array.isArray(A)?A.length:0} members: ${JSON.stringify(A).substring(0,200)}`)}catch(A){v("fail",A.message)}if(j){p("Members  Update","running");try{await zg({...g.member,memberId:j,memberName:"Updated Test Member"}),D="Updated Test Member",v("pass",'Updated name to "Updated Test Member"')}catch(A){v("fail",A.message)}}p("Banks  Create","running");try{const A=await Hg({...g.bank,memberId:j||"FM-001"});k=A?.accountId,v(k?"pass":"fail",k?`Created: ${k}`:"No accountId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Banks  List","running");try{const A=await Bg();v("pass",`${Array.isArray(A)?A.length:0} account(s)`)}catch(A){v("fail",A.message)}p("Investment Accounts  Create","running");try{const A=await Ug({...g.investmentAccount,memberId:j||"FM-001",bankAccountId:k||"BA-001"});O=A?.accountId,v(O?"pass":"fail",O?`Created: ${O}`:"No accountId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Investment Accounts  List","running");try{const A=await qg();v("pass",`${Array.isArray(A)?A.length:0} account(s)`)}catch(A){v("fail",A.message)}p("Insurance  Create","running");try{const A=await Xg({...g.insurance,memberId:j||"FM-001",insuredMember:D||"Test Member"});T=A?.policyId,v(T?"pass":"fail",T?`Created: ${T}`:"No policyId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Insurance  List","running");try{const A=await Kg();v("pass",`${Array.isArray(A)?A.length:0} policy/policies`)}catch(A){v("fail",A.message)}p("Liabilities  Create","running");try{const A=await Jg({...g.liability,familyMember:j||"FM-001"});H=A?.liabilityId,v(H?"pass":"fail",H?`Created: ${H}`:"No liabilityId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Liabilities  List","running");try{const A=await Zg();v("pass",`${Array.isArray(A)?A.length:0} liability/liabilities`)}catch(A){v("fail",A.message)}p("Other Investments  Create","running");try{const A=await ay({...g.otherInvestment,familyMember:j||"FM-001"});I=A?.investmentId,v(I?"pass":"fail",I?`Created: ${I}`:"No investmentId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Other Investments  List","running");try{const A=await ty();v("pass",`${Array.isArray(A)?A.length:0} investment(s)`)}catch(A){v("fail",A.message)}p("Stock Portfolios  Create","running");try{const A=await sy({...g.stockPortfolio,owner:j||"FM-001"});R=A?.portfolioId,v(R?"pass":"fail",R?`Created: ${R}`:"No portfolioId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Stock Portfolios  List","running");try{const A=await ry();v("pass",`${Array.isArray(A)?A.length:0} portfolio(s)`)}catch(A){v("fail",A.message)}p("Reminders  Create","running");try{const A=await oy(g.reminder);z=A?.reminderId,v(z?"pass":"fail",z?`Created: ${z}`:"No reminderId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Reminders  List","running");try{const A=await iy();v("pass",`${Array.isArray(A)?A.length:0} reminder(s)`)}catch(A){v("fail",A.message)}p("Goals  Create","running");try{const A=await Gg(g.goal);L=A?.goalId,v(L?"pass":"fail",L?`Created: ${L}`:"No goalId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Goals  List","running");try{const A=await Vg();v("pass",`${Array.isArray(A)?A.length:0} goal(s)`)}catch(A){v("fail",A.message)}p("Cleanup  Delete test data","running");const V=[];if(L)try{await Qg(L)}catch(A){V.push("goal: "+A.message)}if(z)try{await cy(z)}catch(A){V.push("reminder: "+A.message)}if(R)try{await ly(R)}catch(A){V.push("stockPortfolio: "+A.message)}if(I)try{await ny(I)}catch(A){V.push("otherInv: "+A.message)}if(H)try{await ey(H)}catch(A){V.push("liability: "+A.message)}if(T)try{await Wg(T)}catch(A){V.push("insurance: "+A.message)}if(O)try{await $g(O)}catch(A){V.push("invAcct: "+A.message)}if(k)try{await Yg(k)}catch(A){V.push("bank: "+A.message)}if(j)try{await Fg(j)}catch(A){V.push("member: "+A.message)}V.length>0?v("fail",V.join("; ")):v("pass","All test data cleaned up"),p("Final Load All (post-cleanup)","running");try{const A=await fu(),le=Object.entries(A).map(([oe,re])=>`${oe}: ${Array.isArray(re)?re.length:"?"}`);v("pass",le.join(", "))}catch(A){v("fail",A.message)}}catch(V){p("UNEXPECTED ERROR","fail",V.message)}finally{o(!1)}},w=l.filter(g=>g.status==="pass").length,M=l.filter(g=>g.status==="fail").length,S=l.filter(g=>g.status!=="running").length;return a.jsx("div",{className:"min-h-screen bg-[var(--bg-main)] p-4 max-w-3xl mx-auto",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"API Test Suite"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Signed in as ",s?.email||"unknown"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:b,disabled:m||t,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--bg-card)] border border-[var(--border)] text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] disabled:opacity-50 cursor-pointer",children:m?"Running...":"Diagnostics"}),a.jsx("button",{onClick:y,disabled:t,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-violet-600 text-white hover:bg-violet-700 disabled:opacity-50 cursor-pointer",children:t?"Running Tests...":"Run All Tests"})]})]}),S>0&&a.jsxs("div",{className:"flex gap-3 text-xs",children:[a.jsxs("span",{className:"text-emerald-400",children:["Pass: ",w]}),a.jsxs("span",{className:"text-rose-400",children:["Fail: ",M]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:["Total: ",S]})]}),u&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 space-y-3",children:[a.jsx("h2",{className:"text-sm font-semibold text-[var(--text-primary)]",children:"Diagnostics Report"}),u.error?a.jsx("p",{className:"text-xs text-rose-400",children:u.error}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-xs text-[var(--text-secondary)] space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Spreadsheet:"})," ",u.spreadsheetName]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"ID:"})," ",a.jsx("code",{className:"text-[10px]",children:u.spreadsheetId})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Sheets"}),a.jsx("div",{className:"grid grid-cols-2 gap-1",children:Object.entries(u.sheets||{}).map(([g,j])=>a.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[a.jsx("span",{className:"text-[var(--text-secondary)] truncate",children:g}),j.exists?a.jsxs("span",{className:"text-emerald-400 ml-1",children:[j.dataRows,"r"]}):a.jsx("span",{className:"text-rose-400 ml-1",children:"MISSING"})]},g))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Data Functions"}),a.jsx("div",{className:"space-y-1",children:Object.entries(u.dataTests||{}).map(([g,j])=>a.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[a.jsx("span",{className:"text-[var(--text-secondary)]",children:g}),j.success?a.jsxs("span",{className:"text-emerald-400",children:[j.count," items"]}):a.jsx("span",{className:"text-rose-400 truncate ml-2 max-w-[200px]",title:j.error,children:j.error})]},g))})]}),u.safeCallErrors&&u.safeCallErrors.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-rose-400 mb-1",children:"SafeCall Errors"}),u.safeCallErrors.map((g,j)=>a.jsxs("p",{className:"text-[11px] text-rose-400",children:[g.fn,": ",g.error]},j))]})]})]}),l.length>0&&a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:a.jsx("div",{className:"divide-y divide-[var(--border)]",children:l.map((g,j)=>a.jsxs("div",{className:"px-4 py-2 flex items-start gap-3",children:[a.jsx("div",{className:"mt-0.5 shrink-0",children:a.jsx(zT,{status:g.status})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:g.test}),g.detail&&a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5 break-all",children:g.detail})]}),a.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:g.time})]},j))})}),l.length===0&&!u&&a.jsxs("div",{className:"text-center py-12 text-[var(--text-dim)]",children:[a.jsx("p",{className:"text-sm",children:'Click "Run All Tests" to test all CRUD operations'}),a.jsx("p",{className:"text-xs mt-1",children:'or "Diagnostics" to check spreadsheet structure'})]})]})})}function BT(){return a.jsxs(e2,{children:[a.jsx(wt,{index:!0,element:a.jsx(q3,{})}),a.jsx(wt,{path:"login",element:a.jsx(k1,{})}),a.jsx(wt,{element:a.jsx(z3,{}),children:a.jsxs(wt,{element:a.jsx(P3,{}),children:[a.jsx(wt,{path:"dashboard",element:a.jsx(du,{to:"/investments/mutual-funds",replace:!0})}),a.jsx(wt,{path:"family",element:a.jsx(fT,{})}),a.jsx(wt,{path:"accounts/bank",element:a.jsx(Hb,{})}),a.jsx(wt,{path:"accounts/investment",element:a.jsx(K3,{})}),a.jsx(wt,{path:"insurance",element:a.jsx(J3,{})}),a.jsx(wt,{path:"investments/mutual-funds",element:a.jsx(sT,{})}),a.jsx(wt,{path:"investments/stocks",element:a.jsx(uT,{})}),a.jsx(wt,{path:"investments/other",element:a.jsx(dA,{})}),a.jsx(wt,{path:"liabilities",element:a.jsx(nA,{})}),a.jsx(wt,{path:"goals",element:a.jsx(gT,{})}),a.jsx(wt,{path:"reports",element:a.jsx(TT,{})}),a.jsx(wt,{path:"reminders",element:a.jsx(MT,{})}),a.jsx(wt,{path:"health-check",element:a.jsx(ET,{})}),a.jsx(wt,{path:"about",element:a.jsx(_T,{})}),a.jsx(wt,{path:"test",element:a.jsx(FT,{})}),a.jsx(wt,{path:"settings",element:a.jsx(jT,{})}),a.jsx(wt,{path:"more",element:a.jsx(NT,{})}),a.jsx(wt,{path:"accounts",element:a.jsx(Hb,{})}),a.jsx(wt,{path:"*",element:a.jsx(U3,{})})]})})]})}tw.createRoot(document.getElementById("root")).render(a.jsx(S2,{children:a.jsx(SS,{children:a.jsx(CS,{children:a.jsx(LC,{children:a.jsx(SC,{children:a.jsx(CC,{children:a.jsx(DS,{children:a.jsx(MS,{children:a.jsx(BT,{})})})})})})})})}));
